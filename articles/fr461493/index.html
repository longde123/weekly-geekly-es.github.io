<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùÑÔ∏è ü•û üóùÔ∏è Django 3.0 sera asynchrone üñ§ ‚öõÔ∏è üßü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Andrew Godwin a publi√© le DEP 0009: Django compatible Async le 9 mai et a √©t√© approuv√© par le conseil technique de Django le 21 juillet.Il est donc √† ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Django 3.0 sera asynchrone</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461493/"><p>  <em>Andrew Godwin a publi√© le <a href="">DEP 0009: Django compatible Async</a> le 9 mai et a √©t√© approuv√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">par le conseil technique de</a> Django le 21 juillet.Il est donc √† esp√©rer qu'au moment de la sortie de Django 3.0, ils pourront faire quelque chose d'int√©ressant.</em>  <em>Cela a d√©j√† √©t√© mentionn√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">quelque part dans les commentaires de Habr</a> , mais j'ai d√©cid√© de transmettre cette nouvelle √† un public plus large en la traduisant - principalement pour ceux qui, comme moi, ne suivent pas particuli√®rement la nouvelle de Django.</em> </p><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1153030952915890177"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><p>  Le Python asynchrone a √©t√© d√©velopp√© pendant de nombreuses ann√©es, et dans l'√©cosyst√®me Django, nous l'avons exp√©riment√© dans les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">canaux</a> en se concentrant principalement sur le support de socket Web. </p><br><p>  Au fur et √† mesure que l'√©cosyst√®me se d√©veloppait, il est devenu √©vident que s'il n'√©tait pas urgent d'√©tendre Django pour prendre en charge les protocoles non HTTP tels que les sockets Web, la prise en charge asynchrone offrirait de nombreux avantages pour le cadre traditionnel de mod√®le de vue de mod√®le Django. </p><br><p>  Les avantages sont d√©crits dans la section Motivation ci-dessous, mais la conclusion g√©n√©rale √† laquelle je suis arriv√© est que nous obtenons tellement de Django asynchrone que cela en vaut la peine.  Je crois √©galement qu'il est tr√®s important d'apporter des changements de mani√®re it√©rative et soutenue par la communaut√© qui ne d√©pendra pas d'un ou deux anciens contributeurs qui pourraient s'√©puiser. <a name="habracut"></a></p><br><p>  Bien que le document soit d√©sign√© DEP ¬´Feature¬ª, tout cela signifie qu'il s'agit √©galement en partie d'un processus DEP.  La port√©e des changements propos√©s ci-dessous est incroyablement grande et leur lancement en tant que processus traditionnel √† fonctionnalit√© unique est susceptible d'√©chouer. </p><br><p>  Bien s√ªr, tout au long de ce document, il est important de se rappeler la philosophie de Django, qui est de garder tout en s√©curit√© et r√©trocompatible.  Le plan n'est pas de supprimer Django synchrone - le plan est de le garder dans sa forme actuelle, mais d'ajouter l'asynchronie comme option pour ceux qui pensent avoir besoin de performances ou de flexibilit√© suppl√©mentaires. </p><br><p>  Est-ce un travail gigantesque?  Bien s√ªr.  Mais je pense que cela peut changer consid√©rablement l'avenir de Django - nous avons la possibilit√© de prendre un cadre √©prouv√© et une communaut√© incroyable, et d'introduire un tout nouvel ensemble d'options qui √©taient auparavant impossibles. </p><br><p>  Le Web a chang√©, et Django devrait changer avec lui, mais conform√©ment √† nos id√©aux, √™tre abordable, s√©curis√© par d√©faut et flexible √† mesure que les projets √©voluent et que leurs besoins changent.  Dans le monde de l'entreposage de donn√©es en nuage, de l'architecture orient√©e services et du backend en tant que base d'une logique m√©tier complexe, la capacit√© de faire des choses de mani√®re comp√©titive est essentielle. </p><br><p>  Ce DEP d√©crit un plan qui, je pense, nous y m√®nera.  C'est une vision en laquelle je crois vraiment et avec laquelle je travaillerai pour faire tout mon possible.  En m√™me temps, une analyse minutieuse et un scepticisme sont justifi√©s;  Je vous demande votre critique constructive, ainsi que votre confiance.  Django s'appuie sur une communaut√© de personnes et les applications qu'ils cr√©ent, et si nous devons d√©terminer la voie vers l'avenir, nous devons le faire ensemble. </p><br><h2 id="kratkoe-opisanie">  Br√®ve description </h2><br><p>  Nous allons ajouter la prise en charge des repr√©sentations asynchrones, du middleware, de l'ORM et d'autres √©l√©ments importants √† Django. </p><br><p>  Cela se fera en ex√©cutant du code synchrone dans les threads, en le rempla√ßant progressivement par du code asynchrone.  Les API synchrones continueront d'exister et seront enti√®rement prises en charge, et avec le temps, elles se transformeront en wrappers synchrones pour le code initialement asynchrone. </p><br><p>  Le mode ASGI lancera Django en tant qu'application asynchrone native.  Le mode WSGI d√©clenchera une boucle d'√©v√©nements distincte √† chaque acc√®s √† Django, afin que la couche asynchrone soit compatible avec le serveur synchrone. </p><br><p>  Le multithreading autour d'ORM est complexe et n√©cessite un nouveau concept de contextes de connexion et de threads collants pour ex√©cuter du code ORM synchrone. </p><br><p>  De nombreuses parties de Django continueront de fonctionner en synchronisation, et notre priorit√© sera d'aider les utilisateurs √† √©crire des vues dans les deux styles, leur permettant de choisir le meilleur style pour la pr√©sentation sur laquelle ils travaillent. </p><br><p>  Certaines fonctions, telles que les mod√®les et la mise en cache, auront besoin de leurs propres DEP distincts et d'√©tudes sur la fa√ßon de les rendre compl√®tement asynchrones.  Ce DEP se concentre principalement sur le flux de vue du middleware HTTP et ORM. </p><br><p>  Il y aura une compatibilit√© descendante compl√®te.  Un projet Django 2.2 standard devrait s'ex√©cuter dans Django asynchrone (que ce soit 3.0 ou 3.1) sans modification. </p><br><p>  Cette proposition est ax√©e sur la mise en ≈ìuvre de petites pi√®ces it√©ratives avec leur placement progressif dans la branche principale pour √©viter les probl√®mes avec une fourche longue dur√©e et nous permettre de changer de cap √† mesure que des probl√®mes sont d√©couverts. </p><br><p>  C'est une bonne occasion d'attirer de nouveaux membres.  Nous devons financer le projet pour que cela se fasse plus rapidement.  Le financement devrait √™tre √† une √©chelle √† laquelle nous ne sommes pas habitu√©s. </p><br><h2 id="specifikaciya">  Sp√©cification </h2><br><p>  L'objectif global est de rendre chaque partie de Django, qui peut √™tre bloquante - c'est-√†-dire pas seulement les calculs li√©s au processeur - devenir asynchrone (ex√©cut√©e dans une boucle d'√©v√©nement asynchrone sans verrous). </p><br><p>  Cela inclut les fonctionnalit√©s suivantes: </p><br><ul><li>  Couches interm√©diaires (middleware) </li><li>  Vues </li><li>  ORM </li><li>  Patterns </li><li>  Test </li><li>  Mise en cache </li><li>  Validation de formulaire </li><li>  Courriel </li></ul><br><p>  Cependant, cela n'inclut pas des √©l√©ments tels que l'internationalisation, qui n'apportera aucun gain de performances, car il s'agit d'une t√¢che li√©e au processeur qui s'ex√©cute √©galement rapidement, ou de migrations qui sont monothread lors du lancement via la commande de gestion. </p><br><p>  Chaque fonction individuelle qui devient asynchrone √† l'int√©rieur fournira √©galement une interface synchrone r√©trocompatible avec l'API actuelle (en 2.2) dans un avenir pr√©visible - nous pourrions la changer au fil du temps pour les am√©liorer, mais les API synchrones n'iront nulle part. </p><br><p>  Un aper√ßu de la fa√ßon dont cela est r√©alis√© techniquement est donn√© ci-dessous, puis des d√©tails de mise en ≈ìuvre sp√©cifiques pour des domaines sp√©cifiques sont donn√©s.  Il n'est pas exhaustif pour toutes les fonctions de Django, mais si nous atteignons cet objectif initial, alors nous inclurons presque tous les cas d'utilisation. </p><br><p>  La derni√®re partie de cette section, ¬´Proc√©dure¬ª, explique √©galement comment ces changements peuvent √™tre mis en ≈ìuvre progressivement et par plusieurs √©quipes de d√©veloppement en parall√®le, ce qui est important pour effectuer ces changements avec l'aide de b√©n√©voles dans un d√©lai raisonnable. </p><br><h3 id="tehnicheskiy-obzor">  Revue technique </h3><br><p>  Le principe qui nous permet de maintenir des impl√©mentations synchrones et asynchrones en parall√®le est la possibilit√© d'ex√©cuter un style √† l'int√©rieur d'un autre. </p><br><p>  Chaque fonction passera par trois √©tapes de mise en ≈ìuvre: </p><br><ul><li>  Uniquement synchrone (nous sommes ici) </li><li>  Impl√©mentation synchrone avec wrapper asynchrone </li><li>  Impl√©mentation asynchrone avec wrapper synchrone </li></ul><br><h4 id="asinhronnaya-obyortka">  Wrapper asynchrone </h4><br><p>  Tout d'abord, le code synchrone existant sera encapsul√© dans une interface asynchrone, qui ex√©cute le code synchrone dans le pool de threads.  Cela nous permettra de concevoir et de fournir une interface asynchrone relativement rapidement, sans avoir √† r√©√©crire tout le code disponible pour l'asynchronie. </p><br><p> La bo√Æte √† outils pour cela est d√©j√† disponible dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">asgiref en</a> tant que fonction <code>sync_to_async</code> , qui prend en charge des choses comme la gestion des exceptions ou les threadlocals (plus de d√©tails ci-dessous). </p><br><p>  L'ex√©cution de code dans des threads n'entra√Ænera probablement pas une augmentation des performances - la surcharge qui appara√Æt le ralentira probablement un peu lorsque vous ex√©cutez simplement du code lin√©aire normal - mais cela permettra aux d√©veloppeurs de commencer √† ex√©cuter quelque chose de mani√®re comp√©titive et de s'habituer aux nouvelles fonctionnalit√©s. </p><br><p>  De plus, plusieurs parties de Django sont sensibles au d√©marrage dans <em>le m√™me</em> thread lors d'un acc√®s r√©p√©t√©;  par exemple, traiter des transactions dans la base de donn√©es.  Si nous encapsulions du code dans <code>atomic()</code> qui acc√©derait alors √† l'ORM via des threads al√©atoires pris dans le pool, la transaction n'aurait aucun effet, car elle √©tait li√©e √† la connexion √† l'int√©rieur du thread dans lequel la transaction a √©t√© d√©marr√©e. </p><br><p>  Dans de telles situations, un ¬´thread collant¬ª est requis dans lequel le contexte asynchrone appelle s√©quentiellement tout le code synchrone dans le m√™me thread au lieu de le pousser dans le pool de threads tout en conservant le comportement correct d'ORM et d'autres parties sensibles au thread.  Toutes les parties de Django que nous soup√ßonnons en ont besoin, y compris l'ORM entier, utiliseront la version <code>sync_to_async</code> , qui en tient compte, donc tout est s√ªr par d√©faut.  Les utilisateurs pourront d√©sactiver cette option de mani√®re s√©lective pour l'ex√©cution de requ√™tes comp√©titives - pour plus de d√©tails, voir "ORM" ci-dessous. </p><br><h4 id="asinhronnaya-realizaciya">  Impl√©mentation asynchrone </h4><br><p>  L'√©tape suivante consiste √† r√©√©crire l'impl√©mentation de la fonction en code asynchrone, puis √† pr√©senter l'interface synchrone via un wrapper qui ex√©cute du code asynchrone dans une boucle d'√©v√©nement unique.  Ceci est d√©j√† disponible dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">asgiref en</a> tant que fonction <code>async_to_sync</code> . </p><br><p>  Il n'est pas n√©cessaire de r√©√©crire toutes les fonctions √† la fois pour passer rapidement √† la troisi√®me √©tape.  Nous pouvons concentrer nos efforts sur les parties que nous pouvons bien faire et qui ont le support de biblioth√®ques tierces, tout en aidant le reste de l'√©cosyst√®me Python dans des choses qui n√©cessitent plus de travail pour impl√©menter l'asynchronie native;  Ceci est discut√© ci-dessous. </p><br><p>  Cette pr√©sentation g√©n√©rale fonctionne avec presque toutes les fonctions Django qui devraient devenir asynchrones, √† l'exception des emplacements pour lesquels Python ne fournit pas d'√©quivalents de fonction asynchrones que nous utilisons d√©j√†.  Le r√©sultat sera soit un changement dans la fa√ßon dont Django pr√©sente son API en mode asynchrone, soit un travail avec les d√©veloppeurs principaux de Python pour aider √† d√©velopper des fonctionnalit√©s asynchrones Python. </p><br><h3 id="threadlocals">  Threadlocals </h3><br><p>  L'un des d√©tails de base de l'impl√©mentation Django qui doit √™tre mentionn√© s√©par√©ment de la plupart des fonctions d√©crites ci-dessous est threadlocals.  Comme son nom l'indique, les threadlocals fonctionnent au sein d'un thread, et bien que Django conserve l'objet <code>HttpRequest</code> dehors de threadlocal, nous y mettons quelques autres choses - par exemple, les connexions √† la base de donn√©es ou la langue actuelle. </p><br><p>  L'utilisation de threadlocals peut √™tre divis√©e en deux options: </p><br><ul><li>  ¬´Context localals¬ª, o√π une valeur est n√©cessaire dans un contexte bas√© sur la pile, comme une demande.  Cela est n√©cessaire pour d√©finir la langue actuelle. </li><li>  ¬´True threadlocals¬ª, o√π le code prot√©g√© n'est en fait pas s√ªr pour appeler √† partir d'un autre thread.  C'est pour se connecter √† la base de donn√©es. </li></ul><br><p>  √Ä premi√®re vue, il pourrait sembler que les ¬´contextes locaux¬ª peuvent √™tre r√©solus en utilisant le nouveau module <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">contextvars</a> en Python, mais Django 3.0 devra toujours prendre en charge Python 3.6, tandis que ce module est apparu en 3.7.  De plus, <code>contextvars</code> sp√©cifiquement con√ßu pour se d√©barrasser du contexte lors du passage, par exemple, √† un nouveau flux, tandis que nous devons enregistrer ces valeurs pour permettre aux fonctions <code>sync_to_async</code> et <code>async_to_sync</code> de fonctionner normalement comme wrappers.  Lorsque Django ne prendra en charge que 3.7 et <code>contextvars</code> ult√©rieures, nous pourrions envisager d'utiliser des <code>contextvars</code> , mais cela n√©cessiterait un travail consid√©rable dans Django. </p><br><p>  Cela a d√©j√† √©t√© r√©solu avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">asgiref</a> <code>Local</code> , qui est compatible avec les coroutines et les threads.  Maintenant, il n'utilise pas de <code>contextvars</code> , mais nous pouvons le faire fonctionner avec backport for 3.6 apr√®s quelques tests. </p><br><p>  De vrais threadlocals, d'autre part, peuvent simplement continuer √† fonctionner dans le thread actuel.  Cependant, nous devons √™tre plus prudents pour emp√™cher ces objets de fuir dans un autre flux;  lorsque la pr√©sentation n'est plus ex√©cut√©e dans le m√™me thread, mais g√©n√®re un thread pour chaque appel ORM (pendant la phase ¬´impl√©mentation synchrone, wrapper asynchrone¬ª), certaines choses qui √©taient possibles en mode synchrone seront impossibles en asynchrone. </p><br><p>  Cela n√©cessitera une attention particuli√®re et l'interdiction de certaines op√©rations auparavant possibles en mode asynchrone;  Les cas que nous connaissons sont d√©crits ci-dessous dans des sections sp√©cifiques. </p><br><h3 id="odnovremennaya-podderzhka-sinhronnogo-i-asinhronnogo-interfeysov">  Prise en charge simultan√©e des interfaces synchrones et asynchrones </h3><br><p>  L'un des gros probl√®mes que nous rencontrerons en essayant de porter Django est que Python ne vous permet pas de cr√©er des versions synchrones et asynchrones d'une fonction du m√™me nom. </p><br><p>  Cela signifie que vous ne pouvez pas simplement prendre et cr√©er une API qui fonctionne comme ceci: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#   value = cache.get("foo") #   value = await cache.get("bar")</span></span></code> </pre> <br><p>  Il s'agit d'une limitation malheureuse de la fa√ßon dont Python est impl√©ment√© de mani√®re asynchrone, et il n'y a pas de solution de contournement √©vidente.  Lorsque quelque chose est appel√©, vous ne savez pas si vous serez en attente ou non, il n'y a donc aucun moyen de d√©terminer ce qui doit √™tre retourn√©. </p><br><p>  (Remarque: cela est d√ª au fait que Python impl√©mente des fonctions asynchrones en tant qu '¬´appelable synchrone qui renvoie une coroutine¬ª, plut√¥t que quelque chose comme ¬´appeler la m√©thode <code>__acall__</code> sur un objet¬ª. Les gestionnaires de contexte et it√©rateurs asynchrones n'ont pas ce probl√®me, car ils ont des m√©thodes distinctes <code>__aiter__</code> et <code>__aenter__</code> .) </p><br><p>  Dans cet esprit, nous devons placer les espaces de noms des impl√©mentations synchrones et asynchrones s√©par√©ment les uns des autres afin qu'ils n'entrent pas en conflit.  Nous pourrions le faire avec l'argument nomm√© <code>sync=True</code> , mais cela conduit √† confondre les corps de fonctions / m√©thodes et emp√™che l'utilisation de <code>async def</code> , et vous permet √©galement d'oublier accidentellement d'√©crire cet argument.  Un appel al√©atoire √† une m√©thode synchrone lorsque vous souhaitez l'appeler de mani√®re asynchrone est dangereux. </p><br><p>  La solution propos√©e pour la plupart des emplacements dans la base de code Django est de fournir un suffixe pour les noms des impl√©mentations asynchrones de fonctions - par exemple, <code>cache.get_async</code> en plus de <code>cache.get</code> synchrone.  Bien que ce soit une solution laide, elle permet de d√©tecter tr√®s facilement les erreurs lors de l'affichage du code (vous devez utiliser l' <code>await</code> avec la m√©thode <code>_async</code> ). </p><br><h3 id="predstavleniya-i-obrabotka-http">  Vues et gestion HTTP </h3><br><p>  Les vues sont probablement la pierre angulaire de l'utilit√© de l'asynchronie, et nous nous attendons √† ce que la plupart des utilisateurs choisissent entre du code asynchrone et synchrone. </p><br><p>  Django prendra en charge deux types de vues: </p><br><ul><li>  Repr√©sentations synchrones, d√©finies, comme maintenant, par une fonction ou classe synchrone avec <code>__call__</code> synchrone </li><li>  Repr√©sentations asynchrones d√©finies par une fonction asynchrone (renvoyant une coroutine) ou une classe avec <code>__call__</code> asynchrone. </li></ul><br><p>  Ils seront g√©r√©s par <code>BaseHandler</code> , qui v√©rifiera la vue re√ßue du r√©solveur d'URL et l'appellera en cons√©quence.  Le gestionnaire de base devrait √™tre la premi√®re partie de Django √† devenir asynchrone, et nous devrons modifier le gestionnaire WSGI pour l'appeler dans sa propre boucle d'√©v√©nements √† l'aide de <code>async_to_sync</code> . </p><br><p>  Les couches interm√©diaires (middleware) ou les param√®tres comme <code>ATOMIC_REQUESTS</code> , qui <code>ATOMIC_REQUESTS</code> les vues dans un code non asynchrone (par exemple, le bloc <code>atomic()</code> ), continueront de fonctionner, mais leur vitesse sera affect√©e (par exemple, l'interdiction d'appels ORM parall√®les √† l'int√©rieur de la vue avec <code>atomic()</code> ) </p><br><p>  La classe <code>StreamingHttpResponse</code> existante sera modifi√©e pour pouvoir accepter un it√©rateur synchrone ou asynchrone, puis son impl√©mentation interne sera toujours asynchrone.  De m√™me pour <code>FileResponse</code> .  Comme il s'agit d'un point d'incompatibilit√© en arri√®re potentiel pour le code tiers qui acc√®de directement aux objets Response, nous devons toujours fournir un <code>__iter__</code> synchrone pour la p√©riode de transition. </p><br><p>  WSGI continuera d'√™tre pris en charge par Django ind√©finiment, mais le gestionnaire WSGI passera √† l'ex√©cution de middleware et de vues asynchrones dans sa propre boucle d'√©v√©nement unique.  Cela est susceptible d'entra√Æner une l√©g√®re baisse des performances, mais dans les premi√®res exp√©riences, cela n'a pas eu trop d'impact. </p><br><p>  Toutes les fonctions HTTP asynchrones fonctionneront √† l'int√©rieur de WSGI, y compris les longues interrogations et les r√©ponses lentes, mais elles seront aussi inefficaces qu'elles le sont actuellement, prenant un thread / processus pour chaque connexion.  Les serveurs ASGI seront les seuls √† pouvoir prendre en charge efficacement de nombreuses demandes simultan√©es, ainsi qu'√† g√©rer des protocoles non HTTP, tels que WebSocket, pour une utilisation par des extensions comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Channels</a> . </p><br><h3 id="promezhutochnye-sloi">  Couches interm√©diaires </h3><br><p>  Alors que la section pr√©c√©dente √©tait principalement ax√©e sur le chemin de demande / r√©ponse, le middleware a besoin d'une section distincte en raison de la complexit√© inh√©rente √† leur conception actuelle. </p><br><p>  Les middlewares Django sont d√©sormais organis√©s sous la forme d'une pile dans laquelle chaque middleware obtient <code>get_response</code> pour ex√©cuter le middleware suivant dans l'ordre (ou la vue du middleware le plus bas de la pile).  Cependant, nous devons maintenir un m√©lange de middleware synchrone et asynchrone pour la compatibilit√© descendante, et ces deux types ne pourront pas acc√©der l'un √† l'autre nativement. </p><br><p>  Ainsi, afin de garantir le fonctionnement du middleware, nous devrons plut√¥t initialiser chaque middleware avec l'espace r√©serv√© get_response, qui renvoie √† la place le contr√¥le au gestionnaire et g√®re √† la fois le transfert de donn√©es entre le middleware et la vue, ainsi que le lever d'exception.  D'une certaine mani√®re, cela finira par ressembler √† un middleware de l'√®re Django 1.0 d'un point de vue interne, bien que l'API utilisateur reste bien s√ªr la m√™me. </p><br><p>  Nous pouvons d√©clarer un middleware synchrone obsol√®te, mais je recommande de ne pas le faire de sit√¥t.  Si et quand nous arrivons √† la fin du cycle de leur obsolescence, nous pourrions alors retourner l'impl√©mentation du middleware √† un mod√®le de pile purement r√©cursif, comme c'est le cas actuellement. </p><br><h3 id="orm">  ORM </h3><br><p>  ORM est la plus grande partie de Django en termes de taille de code et la plus difficile √† convertir en asynchrone. </p><br><p>  Cela est largement d√ª au fait que les pilotes de base de donn√©es sous-jacents sont synchrones par conception, et les progr√®s seront lents vers un ensemble de pilotes de base de donn√©es matures, standardis√©s et asynchrones.  Au lieu de cela, nous devons concevoir un avenir dans lequel les pilotes de base de donn√©es seront initialement synchrones et jeter les bases pour les contributeurs qui d√©velopperont davantage les pilotes asynchrones de mani√®re it√©rative. </p><br><p>  Les probl√®mes avec ORM se r√©partissent en deux cat√©gories principales: les threads et le blocage implicite. </p><br><h4 id="potoki">  Streams </h4><br><p>  Le principal probl√®me avec ORM est que Django est con√ßu autour d'un seul objet de <code>connections</code> globales, ce qui vous donne comme par magie la bonne connexion pour votre thread actuel. </p><br><p>  Dans un monde asynchrone - o√π toutes les coroutines fonctionnent dans le m√™me thread - ce n'est pas seulement ennuyeux, mais simplement dangereux.  Sans aucune s√©curit√© suppl√©mentaire, un utilisateur acc√©dant √† un ORM comme d'habitude risque de casser des objets de connexion en y acc√©dant depuis plusieurs endroits diff√©rents. </p><br><p>  Heureusement, les objets de connexion sont au moins portables entre les threads, bien qu'ils ne puissent pas √™tre appel√©s √† partir de deux threads en m√™me temps.  Django se soucie d√©j√† de la s√©curit√© des threads pour les pilotes de base de donn√©es dans le code ORM, et nous avons donc un endroit pour changer son comportement pour qu'il fonctionne correctement. </p><br><p>  Nous allons modifier l'objet <code>connections</code> pour qu'il comprenne √† la fois les coroutines et les threads - en r√©utilisant du code de <code>asgiref.local</code> , mais avec l'ajout d'une logique suppl√©mentaire.  Les connexions seront partag√©es en code asynchrone et synchrone qui s'appelle - avec le contexte passant par <code>sync_to_async</code> et <code>async_to_sync</code> - et le code synchrone sera forc√© de s'ex√©cuter s√©quentiellement dans un thread collant, donc cela ne fonctionnera pas en m√™me temps briser la s√©curit√© des fils. </p><br><p>  Cela implique que nous avons besoin d'une solution comme un gestionnaire de contexte pour ouvrir et fermer une connexion √† une base de donn√©es, comme <code>atomic()</code> .  Cela nous permettra de fournir un appel coh√©rent et des threads persistants dans ce contexte et permettra aux utilisateurs de cr√©er plusieurs contextes s'ils souhaitent ouvrir plusieurs connexions.  Cela nous donne √©galement un moyen potentiel de nous d√©barrasser des <code>connections</code> mondiales magiques si nous voulons d√©velopper cela davantage. </p><br><p>  Pour le moment, Django n'a pas de gestion du cycle de vie des connexions qui soit ind√©pendante des signaux de la classe de gestionnaire, et nous les utiliserons donc pour cr√©er et effacer ces ¬´contextes de connexion¬ª.  La documentation sera √©galement mise √† jour pour clarifier la fa√ßon de g√©rer correctement les connexions en dehors du cycle de demande / r√©ponse;  m√™me dans le code actuel, de nombreux utilisateurs ne savent pas qu'une √©quipe de gestion de longue date doit p√©riodiquement appeler <code>close_old_connections</code> pour fonctionner correctement. </p><br><p>  La compatibilit√© descendante signifie que nous devons permettre aux utilisateurs d'acc√©der aux <code>connections</code> partir de n'importe quel code al√©atoire √† tout moment, mais nous n'autoriserons cela que pour le code synchrone;  nous veillerons √† ce que le code soit envelopp√© dans un ¬´contexte de connexion¬ª, s'il est asynchrone, d√®s le premier jour. </p><br><p>  Il peut sembler int√©ressant d'ajouter <code>transaction.atomic()</code> en plus de <code>transaction.atomic()</code> et d'obliger l'utilisateur √† ex√©cuter tout le code √† l'int√©rieur de l'un d'eux, mais cela peut pr√™ter √† confusion sur ce qui se passe si vous attachez l'un d'eux est √† l'int√©rieur de l'autre. </p><br><p>  Au lieu de cela, je sugg√®re de cr√©er un nouveau gestionnaire de contexte <code>db.new_connections()</code> qui active ce comportement, et de le faire cr√©er une nouvelle connexion chaque fois qu'il est appel√©, et autoriser <code>atomic()</code> imbrication <code>atomic()</code> arbitraire √† <code>atomic()</code> int√©rieur. </p><br><p>  Chaque fois que vous <code>new_connections()</code> bloc <code>new_connections()</code> , Django configure un nouveau contexte avec de nouvelles connexions √† la base de donn√©es.  Toutes les transactions effectu√©es en dehors du bloc se poursuivent;  tous les appels ORM √† l'int√©rieur du bloc fonctionnent avec une nouvelle connexion √† la base de donn√©es et verront la base de donn√©es de ce point de vue.  Si l'isolement des transactions est activ√© dans la base de donn√©es, comme c'est g√©n√©ralement le cas par d√©faut, cela signifie que les nouvelles connexions √† l'int√©rieur du bloc peuvent ne pas voir les modifications apport√©es par les transactions non valid√©es √† l'ext√©rieur. </p><br><p>  De plus, les connexions √† l'int√©rieur de ce bloc <code>new_connections</code> peuvent elles-m√™mes utiliser <code>atomic()</code> pour d√©clencher des transactions suppl√©mentaires sur ces nouvelles connexions.  Toute imbrication de ces deux gestionnaires de contexte est autoris√©e, mais chaque fois que <code>new_connections</code> utilis√©, les transactions pr√©c√©demment ouvertes sont ¬´suspendues¬ª et n'affectent pas les appels ORM jusqu'√† ce qu'un nouveau bloc <code>new_connections</code> soit <code>new_connections</code> . </p><br><p>  Un exemple de l'apparence de cette API: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_authors</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pattern)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># Create a new context to call concurrently async with db.new_connections(): return [ author.name async for author in Authors.objects.filter(name__icontains=pattern) ] async def get_books(pattern): # Create a new context to call concurrently async with db.new_connections(): return [ book.title async for book in Book.objects.filter(name__icontains=pattern) ] async def my_view(request): # Query authors and books concurrently task_authors = asyncio.create_task(get_authors("an")) task_books = asyncio.create_task(get_books("di")) return render( request, "template.html", { "books": await task_books, "authors": await task_authors, }, )</span></span></code> </pre> <br><p>  Ceci est quelque peu d√©taill√©, mais l'objectif est √©galement d'ajouter des raccourcis de haut niveau pour activer ce comportement (et √©galement couvrir la transition de <code>asyncio.ensure_future</code> en Python 3.6 √† <code>asyncio.create_task</code> en 3.7). </p><br><p>  En utilisant ce gestionnaire de contexte et les flux collants dans le m√™me contexte de connexion, nous garantissons que tout le code sera aussi s√©curis√© que possible par d√©faut.  il est possible que l'utilisateur puisse utiliser la connexion dans un thread pour deux parties diff√©rentes de la demande en utilisant <code>yield</code> , mais cela est <code>yield</code> possible maintenant. </p><br><h4 id="neyavnye-blokirovki">  Verrous implicites </h4><br><p>  Un autre probl√®me de la conception ORM actuelle est que les op√©rations de blocage (li√©es au r√©seau), en particulier la lecture des champs li√©s, sont rencontr√©es dans les instances de mod√®le. </p><br><p>  Si vous prenez une instance de mod√®le et acc√©dez ensuite √† <code>model_instance.related_field</code> , Django charge de mani√®re transparente le contenu du mod√®le associ√© et vous le renvoie.  Cependant, cela n'est pas possible dans le code asynchrone - le code de blocage ne doit pas √™tre ex√©cut√© dans le thread principal et il n'y a pas d'acc√®s asynchrone aux attributs. </p><br><p>  Heureusement, Django a d√©j√† un moyen de s'en sortir - <code>select_related</code> , qui charge les champs associ√©s √† l'avance, et <code>prefetch_related</code> pour les relations plusieurs-√†-plusieurs.  Si vous utilisez ORM de mani√®re asynchrone, nous interdirons toute op√©ration de blocage implicite, comme l'acc√®s en arri√®re-plan aux attributs, et renverrons √† la place une erreur indiquant que vous devez d'abord r√©cup√©rer le champ. </p><br><p>  Cela a l'avantage suppl√©mentaire d'emp√™cher le code lent qui ex√©cute N requ√™tes dans une boucle <code>for</code> , ce qui est une erreur courante de nombreux nouveaux programmeurs Django.  Cela soul√®ve la barri√®re d'entr√©e, mais rappelez-vous que Django asynchrone sera facultatif - les utilisateurs pourront toujours √©crire du code synchrone s'ils le souhaitent (et cela sera encourag√© dans le tutoriel, car il est beaucoup plus difficile de faire des erreurs dans le code synchrone). </p><br><p>  <code>QuerySet</code> , <code>QuerySet</code> peut facilement impl√©menter des g√©n√©rateurs asynchrones et prendre en charge de mani√®re transparente la synchronisation et l'asynchronie: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(request)</span></span></span><span class="hljs-function">:</span></span> data = [] <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> user <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> User.objects.all(): data.append(<span class="hljs-keyword"><span class="hljs-keyword">await</span></span> extract_important_info(user)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> render(<span class="hljs-string"><span class="hljs-string">"template.html"</span></span>, data)</code> </pre> <br><h4 id="drugoe">  Autre </h4><br><p>  Les parties d'ORM associ√©es aux modifications de sch√©ma ne seront pas asynchrones;  ils ne doivent √™tre appel√©s que par les √©quipes de gestion.  Certains projets les appellent d√©j√† dans les soumissions, mais ce n'est pas une bonne id√©e de toute fa√ßon. </p><br><h3 id="shablony">  Patterns </h3><br><p>  Les mod√®les sont maintenant compl√®tement synchrones et le plan est de les laisser de cette fa√ßon dans la premi√®re √©tape.     ,      ,     DEP. </p><br><p>  ,  Jinja2   ,              . </p><br><p>  ,         Django     ,       .  Jinja2       ,    ,        ,    . </p><br><p>       ,     <code>render_async</code> ,   <code>render</code> ;      ,   ,        . </p><br><h3 id="keshirovanie">  </h3><br><p>    Django      ‚Äî     <code>_async</code> -  (, <code>get_async</code> , <code>set_async</code> ). </p><br><p>   ,       API  <code>sync_to_async</code> ,    <code>BaseCache</code> . </p><br><p> ,     thread-safety   API ,   Django,        ,       .    ,     ORM, ,      . </p><br><h3 id="formy">  </h3><br><p>         ,        ,    ,     <code>ModelForm</code>  ORM     . </p><br><p>  ,   -   <code>clean</code>  <code>save</code> ,  ,   . ,      ,  ,                         DEP. </p><br><h3 id="email">  Courriel </h3><br><p>         Django,      .    <code>send_mail_async</code>  <code>send_mail</code> ,   <code>async</code> -        (, <code>mail_admins</code> ). </p><br><p>         Django  ,    -  SMTP,     .  , ,      ,      ,   . </p><br><h3 id="testirovanie">  Test </h3><br><p>     ,      Django  . </p><br><p>     ASGI-     <code>asgiref.testing.ApplicationCommunicator</code> .             assert'  . </p><br><p>    Django        ,    ,      .  ,      ‚Äî     ,    ,        HTTP    event loop,    WSGI. </p><br><p>                .  ,      ,      . </p><br><p>   ,     ,      .       <code>async def</code>    <code>@async_to_sync</code> ,       , ,    Django test runner. </p><br><p>        asyncio (   loop'  ,    )   , , ,   <code>DEBUG=True</code> .          ‚Äî   ,       ,       . </p><br><h3 id="websockets"> WebSockets </h3><br><p>       Django;      ,   Channels   ,        ASGI,      . </p><br><p>    ,         Channels,        ,     ASGI. </p><br><h3 id="poryadok-deystviy">  Proc√©dure </h3><br><p>      ,     ,   .       ,          . </p><br><p>   ,                .         ,       ‚Äî         . </p><br><p>  ,      ,              .    ,   ORM,       ,  ,          . </p><br><p>   : </p><br><ul><li><p>   (  3.0) </p><br><ul><li>  HTTP,     (    ) </li><li>  async       ORM </li><li>    </li></ul><br></li><li><p>   (  3.1) </p><br><ul><li> ORM (     ) </li><li>  (     ) </li><li>  (     ) </li></ul><br></li><li><p>    </p><br><ul><li> ORM (       ) </li><li>  (    ) </li><li>  Courriel </li><li>  </li></ul><br></li></ul><br><p>          ;      ,    .     ,   ,       , ,            . </p><br><p>   ,      -   ;            ,     ,        .    ,      ,  Django,     Django  async-only . </p><br><p>    ,  ,    DEP  ,   , , email  .         DBAPI ‚Äî  ,        core Python , , PEP,         . </p><br><h2 id="motivaciya">  </h2><br><p>     ,  , ,    .   Django      ,   -       ,    -;             . </p><br><p>          ,      - .         ,   ‚Äî  ,       ,       . </p><br><p>          Python ‚Äî   . -  Python       ,     ,       . </p><br><p>  Python            <code>asyncio</code> ,       ,         .     ,     ,     ,  ,      Django-size   . </p><br><h3 id="chto-eto-dayot">    </h3><br><p>       Django,     ¬´¬ª;    ,    ,      ‚Äî ,      Django ‚Äî     . </p><br><p>     ,       .      ,    API     ,   Django      -   . </p><br><p>      ,      ,  Django     .             ,    Django ORM ,     ,    ,      -. </p><br><p>  ,   , ‚Äî             .    -   long-poll   server-sent events.  Django          ,    -      . </p><br><h3 id="sinhronnost-vsyo-eschyo-imeet-znachenie">      </h3><br><p>     <em></em>    Django;         .   ,  ,             ,          . </p><br><p> Django          ,    .    ;  Django-   ,         ,  ,     ,     ,     . </p><br><p>      ,       --  Django      . </p><br><h3 id="obratnaya-sovmestimost">   </h3><br><p>  ,    .      ¬´ Django¬ª,       ;     ,        ,          . </p><br><p>  ,      ,     ,        ,    API Django,      ,      ,    Python 3,        API,        Django  Python. </p><br><h3 id="pomosch-python">  Python </h3><br><p> Python     .           Python,  ,    ,     . </p><br><p>   , Django ‚Äî   - Python   ‚Äî   ,    Python,        Python   .      ,       ,    ,        . </p><br><h3 id="privlechenie-novyh-uchastnikov">    </h3><br><p>      ,   Django,              .   ,  Django   ,       . </p><br><p>                   ‚Äî  ,  ,    ,   ,        . </p><br><p>  ,      ‚Äî      ,   , ‚Äî               Django (     ,       Python  ). </p><br><h3 id="chto-takoe-django">   Django? </h3><br><p>      ,   Django.   ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lawrence Journal-World</a>    ‚Äî    ,  , SPA ‚Äî  , ,    .  , ,   ,     ,     . </p><br><p>    ,   Django   ,   - ,    ‚Äî        ‚Äî     . , ,        ; ,     Django    , . </p><br><p>   ,     Django     .     ,       .    ,         ,    ,    ‚Äî ,        ,   . </p><br><h2 id="obosnovanie">  </h2><br><p>    Django       django-developers   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>    ,        ,  ,   ,   DEP. </p><br><p>      , ,   ,      : </p><br><ul><li> :       master-        Django    . </li><li>  :     Django    ,    ,    ,     ,      Django       . </li><li> :    ,    ,      Django,   ,  Django.     ,   ,   ,      ,  . </li></ul><br><p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Channels</a>          DEP ;        Django      ,  . </p><br><p>   ,   ,     .  DEP    ,   ,       ‚Äî      Django           . </p><br><p>                 .     Django, ,     ,    WSGI    ,    event loop     ,      .         10%   ‚Äî     ,      .     ,      . </p><br><p>     ,  ,      (-  ,   Python    ).    ,     Django      ;     ,   ,     ,   Django   master-    . </p><br><p>  ,           ( ORM,    ..),      ;                 Python. </p><br><p>        ,      ,        Django,     ¬´¬ª  .   ,      ,              ,  ,     . </p><br><h3 id="alternativy">  Alternatives </h3><br><p>       ,   ,  , . </p><br><h4 id="asinhronnye-moduli-vmesto-_async-funkciy">    _async  </h4><br><p>        ,    ,     (, <code>django.core.cache.cache.get_async</code> ),               : </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.core.cache_async <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cache cache.get(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>)</code> </pre> <br><p>   ,           ;   ,    ,        . </p><br><p>   ,    ,      ;       . </p><br><h4 id="fork-django">  Django </h4><br><p> -   ,      ;  ,        ,       ,       ‚Äî  . </p><br><p>           ,   ,     , ‚Äî   ,      . </p><br><h4 id="rasshirenie-channels">  Channels </h4><br><p>    ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Channels</a>      , ¬´¬ª  Django. ,     -     ,  ,         Django;      ORM,   HTTP/middleware flow    . </p><br><h4 id="ne-asyncio">  asyncio </h4><br><p>      event loop'  Python,   <code>asyncio</code>          ,   Django.   <code>await</code>  <code>async</code>  Python     event loop   . </p><br><p>   ,   <code>asyncio</code> ,     ; Django     ,        ,   .         Django        ;    , ,      async runtime,    ,    . </p><br><h4 id="greenletsgevent"> Greenlets/Gevent </h4><br><p>       Gevent,      ,      Python. </p><br><p>        ,       .   <code>yield</code>  <code>await</code> ,   API,    Django,       ,         .               ,     . </p><br><p>   ,      ,  ,     .      greenlet-safe   Django ORM   -   new-connection-context,  . </p><br><p>  ,      .   Django     ¬´ ¬ª    gevent, , ,      ,   . </p><br><h2 id="finansirovanie">  </h2><br><p>             DEP. </p><br><p>   ,        ‚Äî        , ‚Äî     ,             (   ). </p><br><p>  ,       ,  -           .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Django Fellows</a>  ;     ‚Äî   ,           (  ), ,   ,  - . </p><br><p>       ‚Äî ,   Kickstarter  <code>migrations</code>  <code>contrib.postgres</code> ,    MOSS (Mozilla)  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Channels</a> .   ,   Django,  ,          . </p><br><p>     , <em></em>     .  ‚Äî      Python,    Django ‚Äî    ‚Äî       .        ,     Django/async,        . </p><br><p>                HTTP/middleware/view flow,     ,  ,  ,      ¬´ ¬ª,      . </p><br><p>     ,     ,     ,            (   ,  Fellows, /     ,     Channels,       ,   ),   ,       . </p><br><p>         ,         ,   ,        ,       Django,      . </p><br><h2 id="obratnaya-sovmestimost-1">   </h2><br><p> , ,   ,       ,            API. </p><br><p>   , ,        ,  , HTTP/middleware flow. ,    API,       APM,     . </p><br><p>  ,  ,   Django     ,     ,      .  ,   ORM  , ,   ‚Äî      ,  ORM             . </p><br><h2 id="etalonnaya-realizaciya">   </h2><br><p>  DEP  ,    ;       Django      . </p><br><p>   ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">asgiref</a> ,       ,         .      Django         Django. </p><br><p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Channels</a> ,         Django,          Django. </p><br><h2 id="avtorskie-prava">  Copyright </h2><br><p>   <em>(  )</em>       <a href="">CC0 1.0 Universal</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr461493/">https://habr.com/ru/post/fr461493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr461471/index.html">.NET - Outils pour travailler avec le multithreading et l'asynchronie - Partie 2</a></li>
<li><a href="../fr461473/index.html">D√©boguer des algorithmes sur les graphiques - maintenant avec des images</a></li>
<li><a href="../fr461475/index.html">AMA avec Habr.1011</a></li>
<li><a href="../fr461483/index.html">√âquilibrage de charge Openstack</a></li>
<li><a href="../fr461487/index.html">Mini t√¢ches CTF</a></li>
<li><a href="../fr461497/index.html">Rendu de texte moderne sous Linux: partie 1</a></li>
<li><a href="../fr461499/index.html">Quelles langues traduire votre jeu en 2019</a></li>
<li><a href="../fr461501/index.html">Pourquoi aux √âtats-Unis, ils enqu√™tent sur le travail des grandes entreprises informatiques</a></li>
<li><a href="../fr461503/index.html">Rendre la base de donn√©es disponible pour une connexion √† distance</a></li>
<li><a href="../fr461505/index.html">8 bugs de d√©veloppeurs JavaScript novices qui vous emp√™chent de devenir un professionnel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>