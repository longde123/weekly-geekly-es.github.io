<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶ê üå®Ô∏è üéõÔ∏è Reduza os riscos de inatividade com a arquitetura Shared Nothing ü§® ü§† üåÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O t√≥pico toler√¢ncia a falhas em sistemas de armazenamento de dados √© sempre relevante, porque em nosso s√©culo de virtualiza√ß√£o e consolida√ß√£o oniprese...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reduza os riscos de inatividade com a arquitetura Shared Nothing</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/accelstor/blog/441780/"><p> O t√≥pico toler√¢ncia a falhas em sistemas de armazenamento de dados √© sempre relevante, porque em nosso s√©culo de virtualiza√ß√£o e consolida√ß√£o onipresente de recursos de armazenamento, o armazenamento √© o link cuja falha levar√° n√£o apenas a um acidente comum, mas a longos per√≠odos de inatividade dos servi√ßos.  Portanto, os sistemas de armazenamento modernos incorporam muitos componentes duplicados (at√© controladores).  Mas essa prote√ß√£o √© suficiente? </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1u/br/ci/1ubrci6spo2hvlyiqydmcvjto4m.png"></div><br><a name="habracut"></a><br><p>  Absolutamente todos os fornecedores, listando as caracter√≠sticas dos sistemas de armazenamento, sempre mencionam a alta toler√¢ncia a falhas de suas solu√ß√µes, sem falhas, adicionando o termo "sem um √∫nico ponto de falha".  D√™ uma olhada em um sistema de armazenamento t√≠pico.  Para eliminar o tempo de inatividade do servi√ßo, fontes de alimenta√ß√£o, m√≥dulos de refrigera√ß√£o, portas de E / S, unidades (ou seja, RAID) e, √© claro, controladores s√£o duplicados no sistema de armazenamento.  Se voc√™ olhar atentamente para essa arquitetura, notar√° pelo menos dois pontos de falha em potencial, que s√£o modestamente silenciosos sobre: </p><br><ol><li>  A presen√ßa de um √∫nico backplane (backplane) </li><li>  Uma c√≥pia dos dados </li></ol><br><p>  Backplein √© um dispositivo tecnicamente sofisticado que deve passar por testes rigorosos na produ√ß√£o.  E, portanto, h√° casos extremamente raros quando falha completamente.  No entanto, mesmo em caso de mau funcionamento parcial, como um slot de unidade que n√£o est√° funcionando, ser√° necess√°rio substitu√≠-lo pelo armazenamento completamente desligado. </p><br><p>  Criar v√°rias c√≥pias dos dados tamb√©m n√£o √© um problema √† primeira vista.  Assim, por exemplo, a funcionalidade Clone em sistemas de armazenamento, que permite atualizar uma c√≥pia completa dos dados com alguma periodicidade, √© bastante difundida.  No entanto, em caso de problemas com o mesmo backplane, a c√≥pia ficar√° t√£o inacess√≠vel quanto o original. </p><br><p>  Uma solu√ß√£o completamente √≥bvia para superar essas defici√™ncias √© a replica√ß√£o para outro sistema de armazenamento.  Se fecharmos os olhos para a duplica√ß√£o esperada esperada do custo do hardware (no entanto, presumimos que as pessoas que escolhem tal solu√ß√£o pensem e aceitem adequadamente esse fato com anteced√™ncia), ainda haver√° poss√≠veis despesas para organizar a replica√ß√£o na forma de licen√ßas, software e hardware adicionais.  E o mais importante - voc√™ precisa garantir a consist√™ncia dos dados replicados.  I.e.  crie virtualizador de armazenamento / vSAN / etc., o que tamb√©m requer recursos de dinheiro e tempo. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O AccelStor,</a> ao criar seus sistemas de alta disponibilidade, decidiu se livrar das desvantagens acima.  Portanto, houve uma interpreta√ß√£o da tecnologia Shared Nothing, que em uma tradu√ß√£o livre significa "sem o uso de dispositivos comuns". </p><br><p>  O conceito de arquitetura <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Shared Nothing</a> √© o uso de dois n√≥s independentes (controladores), cada um com seu pr√≥prio conjunto de dados.  Entre os n√≥s, a replica√ß√£o s√≠ncrona atrav√©s da interface InfiniBand 56G √© totalmente transparente para o software em execu√ß√£o no sistema de armazenamento.  Como resultado, n√£o √© necess√°rio o uso de virtualizadores de armazenamento, agentes de software etc. </p><br><p>  Fisicamente, a solu√ß√£o de duas solu√ß√µes AccelStor pode ser implementada em dois modelos: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">H510</a> - baseado em servidores Twin em um pacote de 2U, se for necess√°rio desempenho e capacidade moderados de at√© 22 TB; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">H710</a> - baseado em servidores 2U separados, se for necess√°rio alto desempenho e alta capacidade (at√© 57 TB). </li></ul><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/aw/qa/p3/awqap39a8w510jqbmeiqhvs-kau.png"></div><br><p>  <i>Modelo de servidor duplo H510</i> </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yk/yz/g6/ykyzg6dc8wz0140mqurpsxuafa0.png"></div><br><p>  <i>Modelo H710 baseado em servidores separados</i> </p><br><p>  O uso de diferentes fatores de forma deve-se √† necessidade de um n√∫mero diferente de SSDs para atingir um determinado volume e desempenho.  Al√©m disso, a plataforma Twin √© mais barata e permite oferecer solu√ß√µes mais acess√≠veis, embora com algumas "desvantagens" condicionais na forma de um √∫nico backplane.  Tudo o resto, incluindo os princ√≠pios de opera√ß√£o, √© completamente id√™ntico para os dois modelos. </p><br><p>  O conjunto de dados para cada n√≥ tem dois grupos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FlexiRemap</a> , mais 2 hot spare.  Cada grupo √© capaz de suportar a falha de um SSD.  De acordo com a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ideologia, o</a> FlexiRemap reconstr√≥i todas as solicita√ß√µes recebidas para gravar um n√≥ em cadeias seq√ºenciais com blocos de 4KB, que s√£o gravados no SSD no modo mais confort√°vel para eles (grava√ß√£o sequencial).  Al√©m disso, o host confirma o registro somente ap√≥s a coloca√ß√£o f√≠sica de dados no SSD, ou seja,  sem cache na RAM.  O resultado √© um desempenho impressionante de at√© 600K IOPS para escrita e 1M + IOPS para leitura (modelo H710). </p><br><p>  Como mencionado anteriormente, a sincroniza√ß√£o do conjunto de dados ocorre em tempo real atrav√©s da interface InfiniBand 56G, que possui alta largura de banda e baixa lat√™ncia.  Para maximizar o uso do canal de comunica√ß√£o ao transmitir pacotes pequenos.  Porque  existe apenas um canal de comunica√ß√£o; para uma verifica√ß√£o de pulso adicional, √© usado um link de 1 GbE dedicado.  Somente a pulsa√ß√£o √© transmitida por ele, portanto, n√£o h√° requisitos para caracter√≠sticas de velocidade. </p><br><p>  Se a capacidade do sistema for aumentada (at√© 400 + TB) devido √†s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">prateleiras de expans√£o,</a> elas tamb√©m ser√£o conectadas em pares para atender ao conceito "sem um √∫nico ponto de falha". </p><br><p>  Para prote√ß√£o adicional de dados (al√©m do fato de o AccelStor j√° possuir duas c√≥pias), um algoritmo especial de comportamento √© usado em caso de falha de qualquer SSD.  Se o SSD falhar, o n√≥ come√ßar√° a reconstruir os dados em uma das unidades hot spare.  Um grupo FlexiRemap que esteja em um estado degradado entrar√° no modo somente leitura.  Isso √© feito para eliminar a interfer√™ncia das opera√ß√µes de grava√ß√£o e reconstru√ß√£o no disco de backup, o que acaba acelerando o processo de recupera√ß√£o e reduzindo o tempo em que o sistema est√° potencialmente vulner√°vel.  Ap√≥s a conclus√£o da reconstru√ß√£o, o n√≥ volta ao modo normal de leitura e grava√ß√£o. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/mj/zl/nr/mjzlnrn1o4p80vkmbmffdnbvtoo.png"></div><br><p>  Obviamente, como em outros sistemas, durante a reconstru√ß√£o, o desempenho geral diminui (afinal, um dos grupos FlexiRemap n√£o funciona na grava√ß√£o).  Mas o processo de recupera√ß√£o em si √© o mais r√°pido poss√≠vel, o que distingue os sistemas AccelStor das solu√ß√µes de outros fornecedores. </p><br><p>  Outro recurso √∫til da tecnologia Nothing Shared √© a opera√ß√£o de n√≥s no chamado modo ativo-ativo verdadeiro.  Diferente da arquitetura ‚Äúcl√°ssica‚Äù, onde apenas um controlador possui um volume / pool espec√≠fico e o segundo simplesmente realiza opera√ß√µes de entrada / sa√≠da, nos sistemas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AccelStor</a> , cada n√≥ trabalha com seu pr√≥prio conjunto de dados e n√£o transmite solicita√ß√µes ao ‚Äúvizinho‚Äù.  Como resultado, o desempenho geral do sistema √© aprimorado devido ao processamento paralelo de solicita√ß√µes de entrada / sa√≠da por n√≥s e acesso √†s unidades.  Al√©m disso, na verdade n√£o existe failover, porque voc√™ simplesmente n√£o precisa transferir o controle de volume para outro n√≥ no caso de uma falha. </p><br><p>  Se compararmos a tecnologia da arquitetura Nothing Shared com a duplica√ß√£o total de armazenamento, ent√£o, √† primeira vista, ser√° um pouco inferior √† implementa√ß√£o completa da recupera√ß√£o de desastre na flexibilidade.  Isto √© especialmente verdade na organiza√ß√£o da linha de comunica√ß√£o entre sistemas de armazenamento.  Portanto, no modelo H710, √© poss√≠vel espalhar os n√≥s a uma dist√¢ncia de 100m devido ao uso de cabos √≥pticos ativos InfiniBand n√£o t√£o baratos.  Por√©m, mesmo se comparada √† implementa√ß√£o usual de replica√ß√£o s√≠ncrona de outros fornecedores atrav√©s do FibreChannel dispon√≠vel, mesmo a dist√¢ncias maiores, a solu√ß√£o do AccelStor ser√° mais barata e f√°cil de instalar / operar, como  n√£o √© necess√°rio instalar virtualizadores de armazenamento e / ou integrar com software (o que est√° longe de ser sempre poss√≠vel em princ√≠pio).  Al√©m disso, n√£o esque√ßa que as solu√ß√µes AccelStor s√£o matrizes All Flash com desempenho superior ao dos sistemas de armazenamento ‚Äúcl√°ssicos‚Äù apenas com SSD. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/qy/fy/cgqyfyhtl0ts5988q_pszsfieyw.jpeg"></div><br><blockquote>  Ao usar a tecnologia Nothing Shared da AccelStor, √© realista obter uma disponibilidade do sistema de armazenamento de 99,9999% por um custo bastante razo√°vel.  Juntamente com a alta confiabilidade da solu√ß√£o, inclusive atrav√©s do uso de duas c√≥pias de dados, e o desempenho impressionante gra√ßas aos algoritmos propriet√°rios <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FlexiRemap</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">as</a> solu√ß√µes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AccelStor</a> s√£o excelentes candidatos para posi√ß√µes-chave na constru√ß√£o de um data center moderno. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt441780/">https://habr.com/ru/post/pt441780/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt441766/index.html">Flutter. Pr√≥s e contras</a></li>
<li><a href="../pt441768/index.html">As 10 principais empresas de desenvolvimento de aplicativos m√≥veis para empresas e startups</a></li>
<li><a href="../pt441770/index.html">Implementa√ß√£o do banco digital m√≥vel somente no Cazaquist√£o</a></li>
<li><a href="../pt441772/index.html">Intel PAC N3000 - FPGA para aplicativos de rede</a></li>
<li><a href="../pt441774/index.html">Notifica√ß√µes de login do servidor (SSH / TERMINAL) baratas e alegres</a></li>
<li><a href="../pt441782/index.html">Vamos bater em rali e desleixo do Java EE! Entrevista com Sebastian Dashner, Comiss√°rio de EE de Jacarta</a></li>
<li><a href="../pt441784/index.html">A vis√£o de um bi√≥logo da teoria mutacional do envelhecimento</a></li>
<li><a href="../pt441788/index.html">Como o sistema de videovigil√¢ncia Ivideon funciona: uma vis√£o geral da conta pessoal do usu√°rio</a></li>
<li><a href="../pt441790/index.html">Cria√ß√£o eficiente de componentes com sistema estilizado</a></li>
<li><a href="../pt441794/index.html">10 coisas sobre SEO t√©cnico que todo propriet√°rio de site WordPress precisa saber</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>