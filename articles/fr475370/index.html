<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😍 ♐️ 📻 Algorithme de Kahan: comment obtenir la différence exacte des produits 👁️ 🤚🏾 🕹️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je suis récemment revenu à l'analyse des erreurs en virgule flottante pour affiner certains détails de la prochaine édition du livre sur le rendu phys...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Algorithme de Kahan: comment obtenir la différence exacte des produits</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475370/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/16f/68a/389/16f68a389af6cb230a839586345c4bf5.png" alt="image"></div><br>  Je suis récemment revenu à l'analyse des erreurs en virgule flottante pour affiner certains détails de la prochaine édition du livre sur le <em>rendu physique</em> .  Les nombres à virgule flottante sont un domaine de calcul intéressant, plein de surprises (bonnes et mauvaises), ainsi que des astuces délicates pour se débarrasser des mauvaises surprises. <br><br>  Dans le processus, je suis tombé sur ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">post sur StackOverflow</a> , à partir duquel j'ai appris un algorithme élégant pour le calcul exact <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">a</span><span class="MJXp-mtext" id="MJXp-Span-3">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">b</span><span class="MJXp-mo" id="MJXp-Span-9" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">c</span><span class="MJXp-mtext" id="MJXp-Span-11">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">d</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.05ex" height="2.419ex" viewBox="0 -780.1 7340.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="2630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="3282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="4282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="4966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="5516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="6002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="6347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-64" x="6817" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> a \ fois b-c \ fois d </script>  . <br><br>  Mais avant de poursuivre avec l'algorithme, vous devez comprendre ce qui est si rusé dans l'expression <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-17"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">a</span><span class="MJXp-mtext" id="MJXp-Span-19">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">b</span><span class="MJXp-mo" id="MJXp-Span-25" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">c</span><span class="MJXp-mtext" id="MJXp-Span-27">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">d</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.05ex" height="2.419ex" viewBox="0 -780.1 7340.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="2630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="3282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="4282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="4966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="5516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="6002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="6347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-64" x="6817" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> a \ fois b-c \ fois d </script>  ?  Prenez <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-33"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">a</span><span class="MJXp-mo" id="MJXp-Span-35" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-36">33962.035</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.275ex" height="1.937ex" viewBox="0 -728.2 6146.1 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-3D" x="807" y="0"></use><g transform="translate(1863,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-39" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="3782" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-3"> a = 33962.035 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-37"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">b</span><span class="MJXp-mo" id="MJXp-Span-39" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-40" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-41">30438</span><span class="MJXp-mo" id="MJXp-Span-42" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-43">8</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.913ex" height="2.419ex" viewBox="0 -780.1 5990.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-3D" x="707" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="1763" y="0"></use><g transform="translate(2542,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-38" x="2002" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="5044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-38" x="5489" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> b = -30438,8 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-44"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">c</span><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-47">41563</span><span class="MJXp-mo" id="MJXp-Span-48" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-49">4</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.114ex" height="2.419ex" viewBox="0 -780.1 5215.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-3D" x="711" y="0"></use><g transform="translate(1767,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="2002" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="4270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34" x="4715" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> c = 41563,4 </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-50"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">d</span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-53" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-54">24871</span><span class="MJXp-mo" id="MJXp-Span-55" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-56">969</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.456ex" height="2.419ex" viewBox="0 -780.1 7085.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-3D" x="801" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="1857" y="0"></use><g transform="translate(2636,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-38" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="2002" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="5138" y="0"></use><g transform="translate(5583,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-39"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-39" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-6"> d = -24871,969 </script>  .  (Ce sont les vraies valeurs que j'ai obtenues lors du lancement de <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pbrt</a></em> .) Pour les valeurs flottantes 32 bits, nous obtenons: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-57"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">a</span><span class="MJXp-mtext" id="MJXp-Span-59">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">b</span><span class="MJXp-mo" id="MJXp-Span-65" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-66" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-67">1.03376365</span><span class="MJXp-mtext" id="MJXp-Span-68">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">s</span><span class="MJXp-msubsup" id="MJXp-Span-73"><span class="MJXp-mn" id="MJXp-Span-74" style="margin-right: 0.05em;">10</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-75" style="vertical-align: 0.5em;">9</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.382ex" height="2.78ex" viewBox="0 -935.7 13511.5 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="2630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-3D" x="3337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="4394" y="0"></use><g transform="translate(5172,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="3782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="4282" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="10205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="10756" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="11241" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="11587" y="0"></use><g transform="translate(12056,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-39" x="1415" y="557"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-7"> a \ fois b = -1.03376365 \ fois 10 ^ 9 </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-76"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">c</span><span class="MJXp-mtext" id="MJXp-Span-78">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">d</span><span class="MJXp-mo" id="MJXp-Span-84" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-85" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-86">1.03376352</span><span class="MJXp-mtext" id="MJXp-Span-87">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">s</span><span class="MJXp-msubsup" id="MJXp-Span-92"><span class="MJXp-mn" id="MJXp-Span-93" style="margin-right: 0.05em;">10</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-94" style="vertical-align: 0.5em;">9</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.377ex" height="2.78ex" viewBox="0 -935.7 13509.5 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-64" x="2534" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-3D" x="3335" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="4392" y="0"></use><g transform="translate(5170,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="3782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32" x="4282" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="10203" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="10754" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="11239" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="11585" y="0"></use><g transform="translate(12054,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-39" x="1415" y="557"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-8"> c \ fois d = -1.03376352 \ fois 10 ^ 9 </script>  .  Nous effectuons la soustraction, et nous obtenons <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-95"><span class="MJXp-mo" id="MJXp-Span-96" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mn" id="MJXp-Span-97">128</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.296ex" height="2.057ex" viewBox="0 -728.2 2280 885.9" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="0" y="0"></use><g transform="translate(778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-38" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-9"> -128 </script>  .  Mais si vous effectuez les calculs avec une double précision, et à la fin les convertissez en float, vous obtenez <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-98"><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mn" id="MJXp-Span-100">75.1656</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.43ex" height="2.178ex" viewBox="0 -780.1 4060 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="0" y="0"></use><g transform="translate(778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="2781" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-10"> -75.1656 </script>  .  Qu'est-il arrivé? <br><br>  Le problème est que la valeur de chaque œuvre peut aller bien au-delà du résultat net <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-101"><span class="MJXp-mo" id="MJXp-Span-102" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mn" id="MJXp-Span-103">1</span><span class="MJXp-mtext" id="MJXp-Span-104">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">s</span><span class="MJXp-msubsup" id="MJXp-Span-109"><span class="MJXp-mn" id="MJXp-Span-110" style="margin-right: 0.05em;">10</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-111" style="vertical-align: 0.5em;">9</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.23ex" height="2.78ex" viewBox="0 -935.7 4834.9 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="778" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="1529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="2079" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="2565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2910" y="0"></use><g transform="translate(3380,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-39" x="1415" y="557"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-11"> -1 \ fois 10 ^ 9 </script>  , où la distance entre les valeurs à virgule flottante représentables est très grande - 64. Autrement dit, lors de l'arrondi <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-112"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">a</span><span class="MJXp-mtext" id="MJXp-Span-114">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">b</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.107ex" height="2.419ex" viewBox="0 -780.1 3060 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="2630" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> a \ fois b </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-120"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">c</span><span class="MJXp-mtext" id="MJXp-Span-122">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">d</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.102ex" height="2.419ex" viewBox="0 -780.1 3058 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-64" x="2534" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> c \ fois d </script>  individuellement, au flotteur représentable le plus proche, ils se transforment en nombres qui sont des multiples de 64. À leur tour, leur différence sera un multiple de 64, et il n'y aura aucun espoir qu'elle devienne <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-128"><span class="MJXp-mo" id="MJXp-Span-129" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mn" id="MJXp-Span-130">75.1656</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.43ex" height="2.178ex" viewBox="0 -780.1 4060 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="0" y="0"></use><g transform="translate(778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="2781" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-14"> -75.1656 </script>  plus proche que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-131"><span class="MJXp-mo" id="MJXp-Span-132" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mn" id="MJXp-Span-133">64</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.133ex" height="2.178ex" viewBox="0 -780.1 1779.5 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="0" y="0"></use><g transform="translate(778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34" x="500" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-15"> -64 </script>  .  Dans notre cas, le résultat était encore plus loin en raison de l'arrondi des deux œuvres <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-134"><span class="MJXp-mo" id="MJXp-Span-135" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mn" id="MJXp-Span-136">1</span><span class="MJXp-mtext" id="MJXp-Span-137">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">s</span><span class="MJXp-msubsup" id="MJXp-Span-142"><span class="MJXp-mn" id="MJXp-Span-143" style="margin-right: 0.05em;">10</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-144" style="vertical-align: 0.5em;">9</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.23ex" height="2.78ex" viewBox="0 -935.7 4834.9 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="778" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="1529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="2079" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="2565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2910" y="0"></use><g transform="translate(3380,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-39" x="1415" y="557"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-16"> -1 \ fois 10 ^ 9 </script>  .  Nous rencontrerons directement la bonne vieille réduction catastrophique <sup>1</sup> . <br><a name="habracut"></a><br>  Voici une meilleure solution que <sup>2</sup> : <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DifferenceOfProducts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> c, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> d)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cd = c * d; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> err = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::fma(-c, d, cd); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dop = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::fma(a, b, -cd); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dop + err; }</code> </pre> <br>  <code>DifferenceOfProducts()</code> calcule <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-145"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">a</span><span class="MJXp-mtext" id="MJXp-Span-147">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">b</span><span class="MJXp-mo" id="MJXp-Span-153" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">c</span><span class="MJXp-mtext" id="MJXp-Span-155">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">d</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.05ex" height="2.419ex" viewBox="0 -780.1 7340.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="2630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="3282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="4282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="4966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="5516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="6002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="6347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-64" x="6817" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-17"> a \ fois b-c \ fois d </script>  d'une manière qui évite une contraction catastrophique.  Cette technique a été décrite pour la première fois par le légendaire William Kahan dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur le coût du calcul en virgule flottante sans arithmétique extra-précise</a> .  Il convient de noter que le travail de Kahan est intéressant à lire dans son ensemble, ils ont de nombreux commentaires sur l'état actuel du monde des virgules flottantes, ainsi que des considérations mathématiques et techniques.  Voici une de ses conclusions: <br><br><blockquote>  Ceux d'entre nous qui ont lutté avec les vicissitudes de l'arithmétique en virgule flottante et des "optimisations" mal pensées des compilateurs peuvent à juste titre être fiers de la victoire dans cette bataille.  Mais si nous transmettons la poursuite de cette bataille aux générations futures, cela contredira toute l'essence de la civilisation.  Notre expérience montre que les langages de programmation et les systèmes de développement sont des sources de trop de chaos auxquels nous devons faire face.  Trop d'erreurs peuvent être supprimées, ainsi que quelques «optimisations» attrayantes qui sont sans danger pour les entiers, mais s'avèrent parfois fatales pour les nombres à virgule flottante. </blockquote><br>  Après avoir rendu hommage à son esprit, revenons à <code>DifferenceOfProducts()</code> : la base de la maîtrise de cette fonction est l'utilisation d'instructions FMA <sup>3</sup> multipliées-ajoutées fusionnées.  D'un point de vue mathématique, <code>FMA(a,b,c)</code> est <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-161"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">a</span><span class="MJXp-mtext" id="MJXp-Span-163">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">b</span><span class="MJXp-mo" id="MJXp-Span-169" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">c</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.954ex" height="2.419ex" viewBox="0 -780.1 4716.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="2630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2B" x="3282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="4282" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-18"> a \ fois b + c </script>  Par conséquent, au début, il semble que cette opération ne soit utile que comme microoptimisation: une instruction au lieu de deux.  Cependant fma <br>  Il a une propriété spéciale - il ne se termine qu'une seule fois. <br><br>  Comme d'habitude <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">a</span><span class="MJXp-mtext" id="MJXp-Span-173">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">b</span><span class="MJXp-mo" id="MJXp-Span-179" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">c</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.954ex" height="2.419ex" viewBox="0 -780.1 4716.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="2630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2B" x="3282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="4282" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-19"> a \ fois b + c </script>  premier calculé <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-181"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">a</span><span class="MJXp-mtext" id="MJXp-Span-183">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">b</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.107ex" height="2.419ex" viewBox="0 -780.1 3060 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="2630" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-20"> a \ fois b </script>  , puis cette valeur, qui dans le cas général ne peut pas être représentée au format virgule flottante, est arrondie au flottant le plus proche.  Ensuite, à cette valeur arrondie est ajoutée <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-189"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">c</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.007ex" height="1.455ex" viewBox="0 -520.7 433.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-21"> c </script>  , et ce résultat est à nouveau arrondi au flottant le plus proche.  FMA est implémenté de telle manière que l'arrondi n'est effectué qu'à la fin - une valeur intermédiaire <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-191"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-192">a</span><span class="MJXp-mtext" id="MJXp-Span-193">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">b</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.107ex" height="2.419ex" viewBox="0 -780.1 3060 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="2630" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-22"> a \ fois b </script>  conserve une précision suffisante, donc après l'avoir ajouté <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-199"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">c</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.007ex" height="1.455ex" viewBox="0 -520.7 433.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-23"> c </script>  le résultat final sera le plus proche de la vraie valeur <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-201"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">a</span><span class="MJXp-mtext" id="MJXp-Span-203">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">b</span><span class="MJXp-mo" id="MJXp-Span-209" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">c</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.954ex" height="2.419ex" viewBox="0 -780.1 4716.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-62" x="2630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2B" x="3282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="4282" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-24"> a \ fois b + c </script>  valeur du flotteur. <br><br>  Après avoir traité avec FMA, nous reviendrons sur <code>DifferenceOfProducts()</code> .  Encore une fois, je vais en montrer les deux premières lignes: <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cd = c * d; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> err = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::fma(-c, d, cd);</code> </pre> <br>  Le premier calcule la valeur arrondie <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-211"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">c</span><span class="MJXp-mtext" id="MJXp-Span-213">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">d</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.102ex" height="2.419ex" viewBox="0 -780.1 3058 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-64" x="2534" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-25"> c \ fois d </script>  et le second ... soustrait <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-219"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">c</span><span class="MJXp-mtext" id="MJXp-Span-221">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">d</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.102ex" height="2.419ex" viewBox="0 -780.1 3058 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-64" x="2534" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-26"> c \ fois d </script>  de leur travail?  Si vous ne savez pas comment fonctionne FMA, vous pourriez penser que l' <code>err</code> sera toujours nulle.  Mais lorsque vous travaillez avec FMA, la deuxième ligne extrait en fait la valeur de l'erreur d'arrondi dans la valeur calculée <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-227"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">c</span><span class="MJXp-mtext" id="MJXp-Span-229">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">d</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.102ex" height="2.419ex" viewBox="0 -780.1 3058 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-64" x="2534" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-27"> c \ fois d </script>  et l'enregistre pour se <code>err</code> .  Après cela, la sortie est très simple: <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dop = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::fma(a, b, -cd); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dop + err;</code> </pre> <br>  Le deuxième FMA calcule la différence entre les œuvres utilisant le FMA, en n'effectuant l'arrondi qu'à la toute fin.  Par conséquent, il résiste à une réduction catastrophique, mais il doit fonctionner avec une valeur arrondie. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-235"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">c</span><span class="MJXp-mtext" id="MJXp-Span-237">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">d</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.102ex" height="2.419ex" viewBox="0 -780.1 3058 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-66" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-6F" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-69" x="1719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-73" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-64" x="2534" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-28"> c \ fois d </script>  .  L' <code>return</code> "corrige" ce problème, en ajoutant l'erreur mise en évidence dans la deuxième ligne.  Dans un article de Jeannenrod et al.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">il est démontré</a> que le résultat est vrai jusqu'à 1,5 ulps (mesures de précision unitaire), ce qui est excellent: les opérations FMA et simples en virgule flottante sont précises jusqu'à 0,5 ulps, donc l'algorithme est presque parfait. <br><br><h2>  Nous utilisons un nouveau marteau </h2><br>  Lorsque vous commencez à chercher des moyens d'utiliser <code>DifferenceOfProducts()</code> , cela s'avère étonnamment utile.  Calcul du discriminant de l'équation quadratique?  Appelez <code>DifferenceOfProducts(b, b, 4 * a, c)</code> <sup>4</sup> .  Calcul du déterminant d'une matrice 2x2?  L'algorithme résoudra ce problème.  Dans la prochaine version de <em>pbrt,</em> j'ai trouvé environ 80 utilisations.  De tous, la fonction du produit vectoriel est la plus appréciée.  Cela a toujours été une source de problèmes, à cause duquel vous avez dû lever la main et utiliser le double dans la mise en œuvre pour éviter une réduction catastrophique: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> Vector3f </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Cross</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Vector3f &amp;v1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Vector3f &amp;v2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> v1x = v1.x, v1y = v1.y, v1z = v1.z; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> v2x = v2.x, v2y = v2.y, v2z = v2.z; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector3f(v1y * v2z - v1z * v2y, v1z * v2x - v1x * v2z, v1x * v2y - v1y * v2x); }</code> </pre> <br>  Et maintenant, nous pouvons continuer à travailler avec float et utiliser <code>DifferenceOfProducts()</code> . <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> Vector3f </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Cross</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Vector3f &amp;v1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Vector3f &amp;v2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector3f(DifferenceOfProducts(v1.y, v2.z, v1.z, v2.y), DifferenceOfProducts(v1.z, v2.x, v1.x, v2.z), DifferenceOfProducts(v1.x, v2.y, v1.y, v2.x)); }</code> </pre> <br>  Cet exemple astucieux du début de l'article fait en fait partie d'un travail vectoriel.  À un certain stade, le code <em>pbrt doit</em> calculer le produit vectoriel des vecteurs <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-243"><span class="MJXp-mo" id="MJXp-Span-244" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-245">33962.035</span><span class="MJXp-mo" id="MJXp-Span-246" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-247">41563.4</span><span class="MJXp-mo" id="MJXp-Span-248" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-249">7706.415</span><span class="MJXp-mo" id="MJXp-Span-250" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="30.229ex" height="2.66ex" viewBox="0 -832 13015.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-39" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="3782" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="4672" y="0"></use><g transform="translate(5117,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34" x="2781" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="8398" y="0"></use><g transform="translate(8843,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="3281" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-29" x="12625" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-29"> (33962.035, 41563.4, 7706.415) </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-251"><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-253" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-254">24871.969</span><span class="MJXp-mo" id="MJXp-Span-255" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-256" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-257">30438.8</span><span class="MJXp-mo" id="MJXp-Span-258" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-259" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-260">5643.727</span><span class="MJXp-mo" id="MJXp-Span-261" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.654ex" height="2.66ex" viewBox="0 -832 15350.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="389" y="0"></use><g transform="translate(1168,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-38" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-39" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-39" x="3782" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="5450" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="5895" y="0"></use><g transform="translate(6674,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-38" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="2502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-38" x="2781" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="9955" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="10400" y="0"></use><g transform="translate(11179,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-33" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37" x="3281" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-29" x="14961" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-30"> (- 24871.969, -30438.8, -5643.727) </script>  .  Lorsque calculé à l'aide de float, nous obtiendrions un vecteur <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-262"><span class="MJXp-mo" id="MJXp-Span-263" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-264">1552</span><span class="MJXp-mo" id="MJXp-Span-265" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-266" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-267">1248</span><span class="MJXp-mo" id="MJXp-Span-268" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-269" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-270">128</span><span class="MJXp-mo" id="MJXp-Span-271" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.28ex" height="2.66ex" viewBox="0 -832 8731.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="2391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="2836" y="0"></use><g transform="translate(3615,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-34" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-38" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="5617" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="6062" y="0"></use><g transform="translate(6840,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-38" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-29" x="8342" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-31"> (1552, -1248, -128) </script>  .  (Règle générale: si dans les calculs en virgule flottante où de grands nombres sont impliqués, vous n'obtenez pas des valeurs entières si grandes, alors c'est un signe presque sûr qu'une réduction catastrophique s'est produite.) <br><br>  Avec une double précision, le produit vectoriel est <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-272"><span class="MJXp-mo" id="MJXp-Span-273" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-274">1556.0276</span><span class="MJXp-mo" id="MJXp-Span-275" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-276" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-277">1257.5151</span><span class="MJXp-mo" id="MJXp-Span-278" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-279" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-280">75.1656</span><span class="MJXp-mo" id="MJXp-Span-281" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.008ex" height="2.66ex" viewBox="0 -832 15072.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-30" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="3782" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="4672" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="5117" y="0"></use><g transform="translate(5895,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="2781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="3281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="3782" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2C" x="10178" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2212" x="10623" y="0"></use><g transform="translate(11401,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-2E" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-35" x="2280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-36" x="2781" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMAIN-29" x="14683" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-32"> (1556.0276, -1257.5151, -75.1656) </script>  .  On voit qu'avec flotteur <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-282"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/475370/&amp;usg=ALkJrhgFicixUjF1nCw6W7re3Q4R5mWl1A#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-33"> x </script>  semble normal <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-284"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> y </script>  déjà assez mauvais aussi <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-286"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">z</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> z </script>  devient la catastrophe qui est devenue la motivation pour trouver une solution.  Et quels résultats obtiendrons-nous avec <code>DifferenceOfProducts()</code> et les valeurs flottantes? <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-288"><span class="MJXp-mo" id="MJXp-Span-289" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-290">1556.0276</span><span class="MJXp-mo" id="MJXp-Span-291" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-292" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-293">1257.5153</span><span class="MJXp-mo" id="MJXp-Span-294" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-295" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-296">75.1656</span><span class="MJXp-mo" id="MJXp-Span-297" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> (1556.0276, -1257.5153, -75.1656) </script>  .  Les valeurs <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-298"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> x </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-300"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">z</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> z </script>  correspondent à une double précision, et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-302"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> y </script>  légèrement décalé - d'où le ulp supplémentaire est venu. <br><br>  Et la vitesse?  <code>DifferenceOfProducts()</code> effectue deux FMA, ainsi que la multiplication et l'addition.  Un algorithme naïf peut être implémenté avec un FMA et une multiplication, ce qui, semble-t-il, devrait prendre la moitié du temps.  Mais en pratique, il s'avère qu'après avoir obtenu les valeurs des registres, cela n'a pas d'importance: dans le cas-test synthétique tenu sur mon ordinateur portable, <code>DifferenceOfProducts()</code> que 1,09 fois plus cher que l'algorithme naïf.  Le fonctionnement en double précision était 2,98 fois plus lent. <br><br>  Dès que vous apprenez la possibilité d'une réduction catastrophique, toutes sortes d'expressions d'apparence innocente dans le code commencent à sembler suspectes.  <code>DifferenceOfProducts()</code> semble être un bon remède pour la plupart d'entre eux.  Il est facile à utiliser et nous n'avons aucune raison particulière de ne pas l'utiliser. <br><br><h2>  Remarques </h2><br><ol><li>  La réduction catastrophique n'est pas un problème lors de la soustraction de quantités avec des signes différents ou lors de l'ajout de valeurs avec le même signe.  Cependant, cela peut devenir un problème lors de l'ajout de valeurs avec des signes différents.  Autrement dit, les montants doivent être considérés avec le même soupçon que les différences. </li><li>  Comme exercice pour le lecteur, je suggère d'écrire la fonction <code>SumOfProducts()</code> , qui offre une protection contre les contractions catastrophiques.  Si vous voulez compliquer la tâche, expliquez pourquoi dans <code>DifferenceOfProducts()</code> , <code>dop + err == dop</code> , car les signes <code>a*b</code> et <code>c*d</code> sont différents. </li><li>  L'instruction FMA est disponible sur le GPU depuis plus d'une décennie et sur la plupart des CPU depuis au moins cinq ans.  Il peut être nécessaire d'ajouter des drapeaux de compilation au CPU pour les générer directement lors de l'utilisation de <code>std::fma()</code> ;  dans gcc et clang, <code>-march=native</code> travaux <code>-march=native</code> . </li><li>  Dans le format à virgule flottante IEEE, la multiplication par des puissances de deux est effectuée exactement, donc <code>4 * a</code> ne provoque aucune erreur d'arrondi, sauf en cas de débordement. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr475370/">https://habr.com/ru/post/fr475370/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr475346/index.html">Alors que l'armée américaine essaie de lire dans les esprits</a></li>
<li><a href="../fr475354/index.html">Bonne journée des spécialistes de la sécurité</a></li>
<li><a href="../fr475358/index.html">Analyse des salaires dans le secteur informatique de l'Arménie plus les postes vacants dans les TOP10 entreprises informatiques</a></li>
<li><a href="../fr475366/index.html">Droidcon London 2019: nouvelles tendances et rapports les plus intéressants</a></li>
<li><a href="../fr475368/index.html">Comment calculer l'efficacité de la publicité</a></li>
<li><a href="../fr475372/index.html">Domaine frontal basé sur TLS 1.3</a></li>
<li><a href="../fr475378/index.html">«Nous ne pouvons pas laisser le droit aux données personnelles aux grandes entreprises» - ancien rédacteur en chef de Wired UK sur l'avenir de la technologie</a></li>
<li><a href="../fr475384/index.html">Quoi de neuf dans Spring Boot 2.2?</a></li>
<li><a href="../fr475386/index.html">Attention, SAF: comment ne pas enfreindre la loi sur la publicité. Mémo de l'annonceur</a></li>
<li><a href="../fr475390/index.html">Comment créer votre première application Web à l'aide de Go</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>