<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçü§ù‚Äçüë®üèæ üë®‚Äç‚öñÔ∏è üôèüèΩ VariFlight ADS-B - Flightradar em chin√™s üòë ü§µüèø üîé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O Flightradar, de certa forma, tornou-se um nome familiar, de fato substituindo o conceito de "local onde voc√™ pode assistir a aeronave em tempo real"...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VariFlight ADS-B - Flightradar em chin√™s</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423989/">  <b>O Flightradar,</b> de certa forma, tornou-se um nome familiar, de fato substituindo o conceito de <i>"local onde voc√™ pode assistir a aeronave em tempo real"</i> .  Embora na verdade existam v√°rios sites grandes e pequenos projetos ainda mais, √© comum ver na m√≠dia as not√≠cias sobre o evento da avia√ß√£o com a frase "de acordo com o site do Flightradar" e uma captura de tela de outro recurso. <br><br>  Existem v√°rias publica√ß√µes no Habr√© sobre radarporting nas quais ou nos coment√°rios aos quais n√£o apenas o Flightradar √© mencionado.  Nesta publica√ß√£o, falarei sobre o servi√ßo chin√™s de rastreamento de tr√°fego a√©reo e seu receptor ADSB <i>chin√™s</i> , que eles enviam gratuitamente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ye/_h/7a/ye_h7atxvw-x1mhbzgc0dcj-0zm.jpeg"></div><br><a name="habracut"></a><br>  Radarspotting √© uma atividade interessante o suficiente para cativar um n√∫mero not√°vel de pessoas.  V√°rios artigos sobre Habr√© descrevem muito bem a ess√™ncia da li√ß√£o: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Simples e radarpotting, ou eu estou doente com a avia√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Passo a passo: Transmitir dados para flightradar24</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flightradar24 - como funciona?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como rastrear objetos voadores identificados com o Raspberry Pi</a> </li><li>  <abbr title="piquetaram um lugar para um artigo em rascunhos e de onde algumas ilustra√ß√µes foram extra√≠das para este artigo">Esta√ß√£o de radarspotting barata e f√°cil</abbr> </li></ul><br>  O receptor recebe, transmitido por avi√µes, um sinal na frequ√™ncia de 1090 MHz, decodifica e transmite em algum formato.  Por exemplo, assim: <br><br><pre><code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"updatetime"</span></span>:<span class="hljs-number"><span class="hljs-number">1537902225</span></span>,<span class="hljs-attr"><span class="hljs-attr">"UTC Time"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-09-25 19:03:45"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"anum"</span></span>:<span class="hljs-string"><span class="hljs-string">"TCETM"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"fnum"</span></span>:<span class="hljs-string"><span class="hljs-string">"KKK6944"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"position"</span></span>:{<span class="hljs-attr"><span class="hljs-attr">"long"</span></span>:<span class="hljs-number"><span class="hljs-number">30.66455078125</span></span>,<span class="hljs-attr"><span class="hljs-attr">"lat"</span></span>:<span class="hljs-number"><span class="hljs-number">39.351677</span></span>},<span class="hljs-attr"><span class="hljs-attr">"height"</span></span>:<span class="hljs-number"><span class="hljs-number">10005.06</span></span>,<span class="hljs-attr"><span class="hljs-attr">"speed"</span></span>:<span class="hljs-number"><span class="hljs-number">888.96</span></span>,<span class="hljs-attr"><span class="hljs-attr">"angle"</span></span>:<span class="hljs-number"><span class="hljs-number">130</span></span>},</code> </pre> <br>  Essa atividade n√£o √© apenas interessante, mas tornou-se a atividade de v√°rias empresas: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flightradar24</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flightaware</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Planefinder</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AirNav Network Radarbox</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Rede Avdelphi</a> </li></ul><br>  Poucas pessoas pensam como ganham a vida e como servi√ßos como o Flightradar funcionam.  Um exemplo disso pode ser visto na wikipedia " <i>servi√ßo p√∫blico da web que permite o monitoramento em tempo real da posi√ß√£o da aeronave no ar</i> ".  O pr√≥prio artigo e o t√≠tulo d√£o uma falsa impress√£o do Flightradar como um tipo de servi√ßo de entretenimento. <br><br>  De fato, tendo surgido como um hobby no in√≠cio dos anos 2000, essas empresas atingiram rapidamente um per√≠odo de recupera√ß√£o e aumentaram sua renda a cada ano.  Por exemplo, o Flightaware, fundado em 2005, tornou-se lucrativo j√° em 2006, ganhando mais de US $ 1 milh√£o nos primeiros 18 meses e apresentando um crescimento anual de 40 a 75%.  De acordo com alguns recursos, a receita anual do Flightaware excede US $ 9 milh√µes, e o Flightradar mais de US $ 2 milh√µes. <br><br>  Se na Europa existe o Flightradar, nos EUA - Flightaware, na China existe o VariFlight.  Da mesma forma, o servi√ßo negocia status de v√¥os, estat√≠sticas e arquivos de v√¥os, realiza an√°lises e previs√µes para clientes - organiza√ß√µes e clientes individuais. <br><br>  Palavras pr√≥prias do VariFlight: <br><br><pre> <code class="plaintext hljs"> &lt;meta name="description" content="VariFlight         .    ,      ,    .    ,     ,         ."&gt; &lt;meta name="keywords" content=" ,   ,  ,  ,  ,  ,  ,  ,  ,   ,  ,  ,  ,  ,  "&gt; &lt;meta property="og:url" content="http://www.variflight.com/ru/"&gt;</code> </pre> <br>  As empresas trocam dados, tanto pr√≥prios quanto os obtidos, por exemplo, da Federal Aviation Administration dos EUA.  Mas voc√™ pode obter o m√°ximo lucro de seus pr√≥prios receptores, cuja opera√ß√£o n√£o custa √† empresa nada.  eles s√£o instalados por entusiastas de radarspotting, voc√™ s√≥ precisa gastar dinheiro em fabrica√ß√£o e transporte.  Portanto, a partir de certo ponto, as empresas come√ßaram a vender e distribuir seus receptores gratuitamente.  Gratuito para onde a empresa ainda n√£o possui cobertura com sua rede de receptores e para onde n√£o h√° dados. <br><br>  O custo dos dados justifica a distribui√ß√£o ‚Äúgratuita‚Äù dos receptores (preste aten√ß√£o ao texto embaixo da tabela - o receptor continua sendo propriedade da Flightaware, formalmente alugada gratuitamente). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/_s/fo/xt_sfoqxfdfzr7yl8cex0omn2eu.png"></div><br>  Em 2015, a rede Flightradar tinha mais de 8.000 receptores ativos e o Flightaware tinha cerca de 4.500. Mas a Flightaware come√ßou a distribuir os receptores dois anos antes, e o Flightradar j√° estava construindo sua rede h√° quase dez anos.  Atualmente, existem mais de 15.000 receptores na rede Flightaware.  O software receptor Flightaware est√° sendo aprimorado constantemente e atualmente trabalha com dados FMSDATA, FMSWX. <br><br>  Mapa de localiza√ß√£o dos receptores em mar√ßo de 2017: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ec7/7cb/81b/ec77cb81ba574463aacc88bbbe2180e2.png" alt="imagem"></div><br>  Orange √© gr√°tis para receptores Flightaware, branco para receptores caseiros e vermelho para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PlanePlotter</a> pago. <br><br>  Esta √© a cobertura da rede de receptores Flightaware em dezembro de 2015: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ib/rc/mv/ibrcmvzeioalsr24lc9rrqu9hmi.png"></div><br>  E em mar√ßo de 2017, a rede de receptores Flightaware ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">status atual no local</a> ) forneceu essa cobertura: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/fd7/44e/65d/fd744e65db8e464c8466c7d0618cfe6f.png" alt="imagem" width="600"></div><br>  Nem sempre √© poss√≠vel instalar receptores, portanto, em 2018, os dados dos receptores terrestres s√£o complementados pelos dados dos sat√©lites Iridium NEXT - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Pela primeira vez, ser√° poss√≠vel monitorar continuamente aeronaves em qualquer lugar do mundo"</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e5/kj/4i/e5kj4iu27uca4hwemcagg3mte4c.gif"></div><br>  Cor cinza-azul - dados dos sat√©lites Iridium NEXT.  Verde e amarelo (o √∫ltimo √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MLAT</a> ) - dados dos receptores terrestres. <br><br>  O raio da zona que uma esta√ß√£o cobre √© limitado pela curvatura da superf√≠cie da Terra e pelos obst√°culos que cobrem o horizonte, e n√£o ultrapassa 450 km, no m√°ximo.  E no "caso usual" de cerca de 150 km.  Com raras <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">passagens troposf√©ricas</a> para essa radiofrequ√™ncia, √© poss√≠vel olhar al√©m do horizonte.  Um exemplo das zonas de cobertura m√°xima das esta√ß√µes que transmitem no <abbr title="planeradar.ru/virtualradar/">Planeradar.ru:</abbr> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d6/hg/u2/d6hgu2xf1c6ypsg6tn3knl-fc8c.png"></div><br>  Picos agudos nos diagramas de recep√ß√£o s√£o apenas casos isolados de recep√ß√£o a dist√¢ncias muito grandes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ln/ux/ly/lnuxlyvtt9lgjwqh8s4drhq_wua.jpeg"></div><br>  A anima√ß√£o abaixo mostra o que causa a necessidade de enviar receptores.  Fora da UE / EUA, esse hobby n√£o √© muito popular.  Pode haver uma raz√£o para o custo de um hobby, e este mapa indica indiretamente o n√≠vel de bem-estar, educa√ß√£o t√©cnica e densidade populacional na regi√£o.  Talvez o assunto seja de interesse pr√°tico - os usu√°rios que transmitem os dados de seus receptores recebem uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conta corporativa</a> gratuita do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flightaware</a> , que custa US $ 90 por m√™s. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rv/pi/iy/rvpiiyuijvmsb-ewvntooqfzbn4.gif"></div><br>  E assim a situa√ß√£o √© descrita.  O mercado para esse servi√ßo est√° crescendo, o mercado precisa de mais dados e o VariFlight tamb√©m come√ßou a implantar sua rede.  Em abril de 2018, a VariFlight anunciou que estava procurando volunt√°rios para hospedar equipamentos gratuitos.  Um exemplo dessa postagem em uma postagem do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Instagram</a> . <br><br>  E em agosto, deparei com esta oferta para solicitar o receptor gratuitamente em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http://flightadsb.feeyo.com</a> (o site foi fechado em setembro de 2019 - o novo site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">flightadsb.variflight.com</a> e o link para solicitar o dispositivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ).  Depois de estudar o site, notei que a empresa est√° procurando membros volunt√°rios da rede em pa√≠ses pr√≥ximos √†s fronteiras da China.  E, ao preencher o question√°rio, ele n√£o esperava que o Distrito Federal do Sul estivesse na zona de interesse da empresa. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jq/tk/gn/jqtkgnxt7ufd9rbhiafof8wbl0e.png"></div><br>  No pr√≥prio aplicativo, √© necess√°rio indicar no mapa o local da instala√ß√£o (local da <i>instala√ß√£o</i> ), o piso da instala√ß√£o da antena no pr√©dio ( <i>piso da instala√ß√£o</i> , por exemplo, 7/9 - 7¬∫ andar de um pr√©dio de 9 andares), o c√≥digo do aeroporto mais pr√≥ximo ( <i>c√≥digo do aeroporto</i> - eu indiquei o c√≥digo IATA) e Fa√ßa o download das fotografias do horizonte no site de instala√ß√£o.  O restante √© quase o mesmo que o pedido no Aliexpress, exceto os itens T√≠tulo, Nacionalidade, Ocupa√ß√£o, Empresa.  √â preenchido em ingl√™s com um nome completo. <br><br>  Depois de verificar o e-mail algumas semanas depois, encontrei dois <b>e</b> - <b>mails</b> do <b>ADSB that Á≥ªÁªü (Sistema de exibi√ß√£o do ADS-B) de</b> que o aplicativo foi aprovado quase imediatamente e de que o pacote estava correndo para mim por um longo tempo, j√° tendo passado na alf√¢ndega. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/qc/jj/znqcjjlrquqas4qt8bliader-6q.png"></div><br>  Na segunda letra havia um nome de usu√°rio, senha e n√∫mero da faixa do pacote.  E tamb√©m uma instru√ß√£o que eu n√£o notei e li quando ... voc√™ mesmo sabe quando eles costumam ler a instru√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qk/tg/3p/qktg3pugddffvb9lzbf0v4kcrka.png"></div><br>  O login correspondeu ao nome completo no aplicativo e a senha √© claramente enviada para todos.  Portanto, altere a senha imediatamente (e fa√ßa o login, se necess√°rio). <br><br>  Em geral, a frase ‚ÄúIsso √© algum tipo de absurdo‚Äù do jogo Greve repentina aparece cada vez mais na minha cabe√ßa, se algu√©m se lembra de como os alem√£es falam russo no jogo com sotaque.  √Äs vezes quieto, √†s vezes barulhento. <br><br>  A prop√≥sito, o perfil era a √∫nica p√°gina em ingl√™s, ent√£o tudo ser√° em chin√™s.  Em Habr√©, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">wtigga</a> publicou um excelente artigo sobre a Internet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">chinesa "Internet e software chineses: sobre dolorosas"</a> .  Eu senti toda a dor agora.  Se voc√™ ainda n√£o leu, √© hora de se preparar. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1k/oi/ay/1koiayqeuae_alsvu_yxcqrheug.png"></div><br>  O navegador Google Chrome com a fun√ß√£o de tradu√ß√£o ajudar√° voc√™ a trabalhar no site, mas muitas p√°ginas que acabaram nem sempre s√£o poss√≠veis para ele. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/nm/yg/tqnmygwscpsyjyuskdb0iny0oyq.png"></div><br>  Os lugares ser√£o frases engra√ßadas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5a/xw/-2/5axw-2211tuxsg4zqbgh1hyhoyg.png"></div><br>  E, portanto, efetue login com os dados do segundo email. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ni/cb/jd/nicbjd2losvkfsgprjxppsloyx8.png"></div><br>  E v√° para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Informa√ß√µes pessoais</a> .  Como se viu, o Google Chrome nem sempre pode traduzir uma p√°gina ou falha na primeira vez. Nesse caso, ap√≥s v√°rias tentativas de tradu√ß√£o autom√°tica, tivemos que copiar o texto para o Google Tradutor.  Portanto, posto uma dica para quem enfrenta o mesmo problema. <br><br>  Existem duas guias na p√°gina, cuja ativa √© marcada com uma linha vermelha.  No primeiro voc√™ n√£o pode tocar em nada. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-s/sr/xy/-ssrxyi8w0fjdrs13rpzod_hgtg.png"></div><br><ol><li>  Nome completo </li><li>  O seu n√∫mero de telefone </li><li>  Seu email </li><li>  C√≥digo do aeroporto </li><li>  O nome do seu receptor ADSB </li></ol><br>  O ponto QQ √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mensageiro chin√™s Tencent QQ</a> . <br><br>  Na segunda guia, altere a senha <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gd/no/n-/gdnon-flkgykpprdisx-ghcztlu.png"></div><br><ol><li>  Senha antiga </li><li>  Nova senha </li><li>  Repita a nova senha </li></ol><br>  Fora isso, a tradu√ß√£o autom√°tica quase sempre funciona.  O design do mapa do site √© muito pr√≥ximo ao site do Flightradar e os "recursos" da tradu√ß√£o n√£o impedem seu uso. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ti/rv/zz/tirvzzf2wwbat2fvqm-xfgv0qxe.png"></div><br>  Ap√≥s uma inspe√ß√£o detalhada, o servi√ßo √© diferente, por exemplo, uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">funcionalidade interessante</a> que o Flightaware n√£o possui - um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mapa de calor</a> , traduzido pelo Google Chrome como "an√°lise t√©rmica". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/xn/oh/tqxnoh__qsuaa1pzvnmra5husrs.png"></div><br>  Um recurso interessante em alguns voos: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/kf/fu/jlkffukwq0xrwfd931hqwvuoyk0.png" width="100"></div><br>  Provavelmente n√£o h√° informa√ß√µes sobre os aeroportos de partida e desembarque para este voo. <br><br><h2>  <font color="#cc0000">Vis√£o geral do pacote e do receptor</font> </h2><br>  De acordo com o n√∫mero da faixa, o pacote foi enviado em 6 de setembro e recebido em 18 de setembro.  A caixa tem dimens√µes s√≥lidas que surpreenderam os funcion√°rios dos correios.  No caminho dos correios para dentro, algo sacudiu, retiniu e rolou. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ea/nj/yj/eanjyj4bgyexd-nasadkur7prvu.jpeg" width="400"></div><br>  A caixa aberta ficou um pouco surpresa com a falta de materiais de embalagem. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fk/q_/xl/fkq_xlageyzym4psi5huluhuo5o.jpeg" width="400"></div><br>  Para compara√ß√£o, a caixa no receptor Flightaware. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ko/jp/vz/kojpvzknaatsndykd2qfmz77ng4.jpeg"></div><br>  Surpreendentemente, o conte√∫do da caixa n√£o pareceu ser afetado.  Somente na antena houve um arranh√£o - o filme foi arrancado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iz/j5/37/izj537mwxv512fiw6em5b3u0nks.jpeg" width="400"></div><br>  O pr√≥prio receptor possui as inscri√ß√µes de apenas dois conectores - alimenta√ß√£o e HDMI.  Al√©m de dois, todos os conectores s√£o exibidos em um lado.  LAN, 2 portas USB, conector de quatro pinos (suposi√ß√£o de que essa interface serial foi confirmada discando para BCM 14 (TXD / transmiss√£o de 8 pinos), <br>  BCM 15 (RXD de 10 pinos / recebimento)), alimenta√ß√£o de 5 volts e conector SMA (f√™mea) para antena. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xo/c9/dn/xoc9dnespvqq3r1f2frwjjs7zay.jpeg" width="400"></div><br>  No lado oposto, atr√°s de dois orif√≠cios no gabinete, existem LEDs verde e vermelho.  E ao lado dele est√° um adesivo com o "n√∫mero de s√©rie" do receptor, gravado √† m√£o.  O receptor tamb√©m possui HDMI e microUSB. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e_/8j/zv/e_8jzvvbk2_bp1nt46icd1uijke.jpeg" width="400"></div><br>  A tampa do receptor possui duas orelhas para montagem na parede, o que a distingue positivamente da quase caixa do receptor Flightaware, na qual o fabricante forneceu apenas quatro pernas de silicone na parte inferior. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bq/iw/af/bqiwafgqodhiap_-hdd3ipizm3s.jpeg" width="400"></div><br>  Verificando se essas duas orelhas podem ser usadas para montar o receptor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qw/9f/pg/qw9fpg1gij5ndga6urbayxv2qle.jpeg" width="400"></div><br>  Flightaware Flightfeeder de cabe√ßa para baixo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lf/4s/wx/lf4swxpj43wvnjxbfsqu5rd2gom.jpeg" width="400"></div><br>  Para comparar tamanhos de receptor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nr/bv/zr/nrbvzre_u9jhgkzusug0jqtgk1w.jpeg" width="400"></div><br>  A quest√£o natural √© "o que h√° dentro?"  Tendo removido a tampa fixada por 4 parafusos, vemos esse arranjo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/40/qq/k9/40qqk99d-ac9ppuikahdjmic7oc.jpeg" width="400"></div><br>  Os conectores est√£o localizados em uma placa receptora separada, feita na forma de uma placa de expans√£o para o Raspberry Pi 3 Modelo B V1.2. <br><br>  Para compara√ß√£o, uma fotografia de um Flightaware Flightfeeder (G6) sem capa.  Essa gera√ß√£o de receptores foi enviada at√© cerca de 2017.  Constru√≠do no RPi 2 Modelo B v.1.1 e no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modo-S Beast</a> -decodificador simplificado para um canal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ko/ya/4e/koya4exme2bh95occfbtkdb7wx8.jpeg" width="400"></div><br>  O verso desse design ocultava um elemento inesperado.  Um radiador maci√ßo localizado na parte inferior da placa √© uma surpresa.  A necessidade √© incompreens√≠vel (uma semana depois, acho que √© uma "performance tropical". Nas minhas condi√ß√µes, o radiador est√° um pouco quente). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t9/2o/le/t92ole4een-gqivnp2ksqweixqi.jpeg" width="400"></div><br>  Al√©m disso, a placa de expans√£o est√° conectada ao conector RPi de quatro pinos com tr√™s fios soldados nos pontos de teste PP27 (USB VCC), PP44 (USB D-), <br>  PP45 (USB D +). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/he/vc/ui/hevcuirbhsyjqagyrtsie2n9kuy.jpeg" width="400"></div><br>  I.e.  nada pode ser conectado ao conector USB superior direito.  Portanto, a foto do gabinete localizado acima mostra que, dos dois conectores USB emparelhados, o slot no gabinete √© apenas o oposto ao mais pr√≥ximo da LAN. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8l/vs/xf/8lvsxfznp3keyqhthe4cnq7lh4u.jpeg" width="400"></div><br>  Eles fizeram o mesmo no Flightaware, soldando o receptor nos contatos de um dos conectores. <br><br>  A maior parte da placa de expans√£o √© uma tela de metal.  Das partes vis√≠veis, os conectores est√£o de um lado e, do lado oposto, dois indicadores e uma certa ‚Äúbobina‚Äù com deriva√ß√µes.  Lembra shunt com resist√™ncia vari√°vel.  Talvez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">1div0</a> , autor do artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Por que dobrar as faixas?"</a>  sabe o que √© isso.  Durante a opera√ß√£o normal, o LED verde est√° aceso.  Nesse caso, a luz vermelha est√° acesa - eu n√£o sei.  At√© eu assistir a sua inclus√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k5/nx/ul/k5nxuli9peb2vtru9ktvvlkqm44.jpeg" width="400"></div><br>  No lado dos conectores existem conectores de energia e antena, e um conector de quatro pinos de finalidade desconhecida. <br><br>  Todos os eletr√¥nicos est√£o escondidos sob uma grande tampa de estanho da tela.  Com o Flightaware Flightfeeder, a placa do receptor n√£o est√° protegida.  No f√≥rum do Flightaware, os desenvolvedores responderam a essa pergunta: a carca√ßa met√°lica do pr√≥prio receptor √© suficiente para proteg√™-lo contra interfer√™ncias externas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dr/sw/w9/drsww9uvadqiqaagbhk99ibhatg.jpeg" width="400"></div><br>  Uma tentativa de olhar sob a tela foi um sucesso da segunda abordagem.  A tampa caiu e acabou ... <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/wy/a_/1q/wya_1qu4awvmsaop9eulebq8o7e.jpeg" width="400"></a> </div><br>  ... como se viu, tudo foi em v√£o - a marca√ß√£o com microchips foi cuidadosamente cortada. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eg/hc/38/eghc38dwf3d24o6hqmzrznpchoi.jpeg" width="400"></div><br>  Olhando para o futuro, direi que acabou sendo um receptor RTLSDR quase comum - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RTL2832U DVB-T</a> (0bda: 2838), chamado "dongles", "assobios" e que s√£o dedicados a v√°rios artigos sobre Habr√© que d√£o uma id√©ia desses dispositivos e como eles simplificaram e baratearam a implementa√ß√£o da recep√ß√£o e processamento de sinais de r√°dio em computadores.  Por exemplo: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sintonizadores de TV USB no rtl2832 - ou como ouvir tudo no r√°dio por 600 rublos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mais uma vez sobre o recebimento de HF no RTL-SDR</a> </li></ul><br>  O √∫ltimo descreve bem os antecedentes da quest√£o: <br><blockquote>  A publica√ß√£o do chip RTL2832U para receptores de televis√£o digital no formato DVB-T n√£o prometeu nenhuma sensa√ß√£o, porque a Realtek j√° estava um pouco atrasada com seu lan√ßamento.  Em 2010, um padr√£o DVB-T2 mais progressivo com codifica√ß√£o de informa√ß√µes mais eficiente j√° estava sendo introduzido, portanto, inicialmente, a novidade n√£o atraiu muita aten√ß√£o.  Por dois anos, sintonizadores USB baratos baseados nele foram usados ‚Äã‚Äãpara a finalidade pretendida, at√© o in√≠cio de 2012 houve um vazamento de algumas informa√ß√µes t√©cnicas sobre os modos operacionais deste chip.  Descobriu-se que, para receber r√°dio anal√≥gico (FM) e digital (DAB) na banda VHF, esse chip usa o princ√≠pio de decodifica√ß√£o de software de uma banda de frequ√™ncia previamente digitalizada a partir do √©ter.  I.e.  Grosso modo, ele digitaliza um sinal de alta frequ√™ncia da entrada da antena, e a filtragem de uma portadora espec√≠fica e a detec√ß√£o (extra√ß√£o de informa√ß√µes √∫teis) do fluxo digital recebido s√£o deixadas para o processador central.  Obviamente, isso foi feito por raz√µes econ√¥micas, da mesma maneira que no momento do p√¥r do sol, o Dial-UP, "soft-modems" extremamente baratos, que tamb√©m representavam apenas um par avan√ßado de DACs e ADCs, se espalhou e todo o processamento de sinal foi realizado pela CPU. thread com a maior prioridade. </blockquote><br>  Ao contr√°rio dos "sintonizadores regulares" que tenho, esta inst√¢ncia do usb id 0bda: 2832 possui um n√∫mero de s√©rie de 17 d√≠gitos. <br>  <b>Dispositivo 005 do barramento 001: ID 0bda: 2832 Realtek Semiconductor Corp.</b>  <b>RTL2832U DVB-T</b> <br>  <b>Encontrado sintonizador Rafael Micro R820T</b> <br>  I.e.  an√°logo ao "apito azul" usado para criar receptores ADSB caseiros.  Na foto, o receptor est√° no OrangePI. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8v/h2/2x/8vh22xmude7pxxexaxkiqbupdjw.jpeg" width="400"></div><br>  Montando o receptor de volta, instalei um radiador por precau√ß√£o.  Comprado especificamente para a conclus√£o de roteadores e outros equipamentos dom√©sticos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i8/r2/rq/i8r2rqvr2yriumcf8x_n8kk0gwg.jpeg" width="400"></div><br>  Fonte de alimenta√ß√£o 5V 2A.  Parece mais s√≥lido do que a fonte de alimenta√ß√£o do Flightaware Flightfeeder.  Mas com um plugue chin√™s ... tentei me lembrar de onde estava o adaptador. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aj/lc/l5/ajlcl51jfqqhg0trs2xaykrva-u.jpeg" width="400"></div><br>  Em uma caixa de papel√£o branco havia uma bolsa de veludo t√£o agrad√°vel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/di/w7/zy/diw7zywbjqf1oadipbx68qxsajq.jpeg" width="400"></div><br>  "... no peito - uma lebre, em uma lebre - um pato, em um pato - um ovo, em um ovo - uma agulha ..." <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bi/mh/jb/bimhjbyxhtpskqn8qppiebop1t4.jpeg" width="400"></div><br>  Dentro havia um quebra-cabe√ßa de tr√™s adaptadores, que resolveu a quest√£o "onde est√° o meu adaptador". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jw/2j/bm/jw2jbm8zmoxzdfkp2xh6l4giapk.jpeg" width="400"></div><br>  Em uma caixa de papel√£o marrom havia um p√°ra-raios "CA-23RP 2.5GHZ 400W Made in Japan".  N√£o conhe√ßo essa configura√ß√£o de outros receptores ADS-B.  Muito razo√°vel para prote√ß√£o contra acidentes de baixa pot√™ncia. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xd/vj/3i/xdvj3iho-lnma7j8xsdyxc6ltko.jpeg" width="400"></div><br>  √â prov√°vel que a antena interna teste o receptor sem instalar uma antena externa.  N√£o √© adequado para uso pr√°tico.  Mas √© vendido no Aliexpress / Ebay como uma ‚Äúantena ADS-B‚Äù, mas seu verdadeiro objetivo √© dado pela inscri√ß√£o na sola magn√©tica.  Eu costumava pegar avi√µes nessa antena n√£o mais do que dentro de um raio de 30 a 40 km. <br><br>  Perto do adaptador N (f√™mea) - SMA (macho).  Talvez um presente em caso de conex√£o de um filtro ou amplificador de baixo ru√≠do. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aq/lo/6w/aqlo6wt-ekzwdj5gi2lz1peqeyc.jpeg" width="400"></div><br>  Cabo coaxial para uma antena de 5 metros com conectores N e SMA e um cabo de par tran√ßado de 10 metros ("cobre 100% livre de oxig√™nio, blablabla"). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iv/wb/fu/ivwbfuae7vic79oosq7ycp5gyds.jpeg" width="400"></div><br>  Cabo da antena marcado com KOPA PLESS RG400-KF MIL-C-17.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cabo coaxial flex√≠vel com tran√ßa dupla do</a> Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">M17 / 128-RG400 RG-400</a> com uma cor diferente da bainha: <br><br><ul><li>  Frequ√™ncia m√°xima de opera√ß√£o 6 GHz </li><li>  A uma frequ√™ncia de 1,20 GHz, a atenua√ß√£o m√°xima √© de 0,54 dB / m </li></ul><br>  √â muito duvidoso que essas sejam as caracter√≠sticas do cabo chin√™s.  A prop√≥sito, o Flightaware inclu√≠a um p√©ssimo cabo de antena, embora italiano.  Encurtar o cabo da antena para v√°rias dezenas de cent√≠metros tr√™s vezes aumentou o n√∫mero de pacotes recebidos pelo receptor Flightaware. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/ax/iy/dtaxiyp-0hsnbkxoyxvwxqppmpm.jpeg" width="400"></div><br>  Antena externa e sua fixa√ß√£o ao mastro. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/od/cd/uw/odcduwhuzkas2_16eb-bvkonhgk.jpeg" width="400"></div><br>  A singularidade do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FlightFeeder ADS-B VariFlight</a> no Facebook: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/-v/xt/in-vxt5ycgivunptwzqwlteg1ns.png"></div><br>  A antena √© um pouco menor em di√¢metro que o Flightaware <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/57/og/_c/57og_cudvkojungdjrhx7nbvmmm.jpeg" width="400"></div><br>  Suporte de mastro Flightaware de duralumin <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-v/rd/df/-vrddfifb-tgjkc4chgcxonphki.jpeg" width="400"></div><br>  Um presente com o s√≠mbolo do VariFlight.  A julgar pelas inscri√ß√µes no verso, esta etiqueta deve ser presa na bagagem em caso de perda no aeroporto, preenchendo os dados de contato do propriet√°rio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/na/ay/3t/naay3txh_wtm7qlo9hpe1zbczji.jpeg" width="400"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xh/uy/sq/xhuysqq2i9mjm8r5kmsy8eo6md8.jpeg" width="400"></div><br><h2>  <font color="#cc0000">Primeira inclus√£o</font> </h2><br>  Ligar a energia n√£o mudou nada fundamental na apar√™ncia do dispositivo.  Somente os indicadores da LAN estavam acesos, o roteador possui um novo nome de host raspberrypi na lista de endere√ßos IP dhcp emitidos.  O HDMI tinha a sa√≠da de inicializa√ß√£o RPi usual e a solicita√ß√£o de login. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u3/jq/la/u3jqlagqk0w2vni0vquhtllulk0.jpeg" width="400"></div><br>  E √© isso.  A interface da web esperada para esses dispositivos no IP: 8080 n√£o estava dispon√≠vel.  A varredura das portas do dispositivo encontrou apenas a porta 22. Na tentativa de efetuar login como usu√°rio e senha padr√£o, ele foi enviado para longe no console e no ssh: <br><br><pre> <code class="bash hljs">login as: pi pi@raspberrypi<span class="hljs-string"><span class="hljs-string">'s password: Access denied</span></span></code> </pre> <br>  O receptor ligou e desligou v√°rias vezes, permaneceu ligado por dias, supondo que poderia estar baixando algo naquele momento ou tentando acessar servidores na China.  Nem o indicador vermelho nem o verde acendem. <br><br>  Nesse momento, fui para fora do local em busca de perguntas frequentes, suporte t√©cnico ou qualquer outra coisa que pudesse dizer que esse dispositivo deveria e n√£o deveria.  Fiz o login pela primeira vez, mas isso n√£o mudou nada fundamentalmente - n√£o h√° formul√°rios de contato ou de feedback.  A √∫nica coisa encontrada foi que o destinat√°rio estava vinculado a uma conta e tinha o status offline.  Percebi o fato de o sistema ter sido visto pela √∫ltima vez na rede em 2 de setembro √†s 17.18, hor√°rio de Pequim, quatro dias antes de ser enviado por correio.  I.e.  Foi verificado e conectado √† conta. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0b/-0/fs/0b-0fsjl_qfuohrhfdanizpv9y8.png"></div><br>  Depois de passar alguns dias perambulando pelos sites da "Internet chinesa", aos quais alguns links se referiam externamente ou que estavam fora do site, e cansados ‚Äã‚Äãde seu design original, percebi que este produto n√£o possui suporte t√©cnico.  E naquele momento lembrei de dois e-mails do ADSB Â±ïÁ§∫ Á≥ªÁªü (sistema de exibi√ß√£o do ADS-B). <br><br>  "Isso √© algum tipo de bobagem" - mais uma vez ouvi uma voz familiar com um sotaque na minha cabe√ßa.  Meu e-mail para este endere√ßo retornou o PostMaster feeyo.com <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7q/bh/vw/7qbhvwk-bzc6ljjz6rpqfusctgi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E ent√£o o olho chamou a aten√ß√£o para a segunda letra, que havia escapado do olhar (devido ao novo design incomum do GMail). </font><font style="vertical-align: inherit;">Isso acabou por ser uma instru√ß√£o de instala√ß√£o para o VariFlight ADS-B. </font><font style="vertical-align: inherit;">√â hora de descobrir como deveria funcionar.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conhe√ßa ÂáÜ Â∏∏ ÂáÜ ADS-B ËÆæÂ§á ÂÆâË£Ö ËØ¥Êòé</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Abaixo est√° uma tradu√ß√£o das instru√ß√µes em 6 p√°ginas e em dois idiomas, a maioria dos quais s√£o ilustra√ß√µes. </font></font><br><br><h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instru√ß√µes de instala√ß√£o do VariFlight ADS-B</font></font></font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/eg/id/qd/egidqdatgtfzejqa91n4nfh-zn8.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Breve descri√ß√£o</font></font></font></i> </h3> <i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O VariFlight ADS-B √© um equipamento projetado para entusiastas da avia√ß√£o civil para rastrear aeronaves. </font><font style="vertical-align: inherit;">O kit consiste em um receptor ADS-B, uma fonte de alimenta√ß√£o, um cabo de manobra (cabo de manobra), uma antena e um cabo para ele.</font></font><br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/mo/gu/kz/mogukz2z2_ohzy4un1bhz3pk6pa.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Localiza√ß√£o da antena</font></font></font></i> </h3> <i><br>         ,        ;    .    ADS-B     ,    . <br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/7_/3a/ru/7_3aruxylxvhzffbg2xwormtdmk.jpeg" width="400"></i> </div> <i><br>   ,    ADS-B   ,   : <br><br></i> <ol><li> <i>    .</i> </li><li> <i>   -      ADS-B .</i> </li><li> <i>    .</i> </li></ol> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/gi/me/bv/gimebv-tiw4td7c_m3evyd34tro.jpeg" width="400"></i> </div> <i><br>    ,        .  IP  ,  DHCP. <br><br></i> <h3> <i><font color="#00cc00">   </font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/ac/vj/sr/acvjsruuug3lop68iq8xm-7act4.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00">    </font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/lg/4u/iv/lg4uivsn2odmoktyc6pbuc63ze4.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00">      ADS-B      </font></i> </h3> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O primeiro m√©todo </font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nas configura√ß√µes do seu roteador, encontre o endere√ßo IP do receptor ADS-B e abra </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http // XXX.XXX.XXX: 8080</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em um navegador da web, onde XXX.XXX.XXX √© o endere√ßo IP interno na sua rede local.</font></font><br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/wp/di/d3/wpdid3rucptn5hlql698q1murns.png"></i> </div> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©todo 2:</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Abra o link </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.variflight.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em um navegador da web, fa√ßa login e clique em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aeroporto</font></font></a> <br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/9o/hs/ja/9ohsja9e_inbqrha1kivz6rzrsw.png"></i> </div> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O terceiro m√©todo, apenas para volunt√°rios</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> chineses Para usu√°rios chineses, √© poss√≠vel o uso do WeChat. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesta instru√ß√£o terminou. </font><font style="vertical-align: inherit;">De acordo com esta instru√ß√£o, o dispositivo funciona parcialmente - ele recebe IP na rede local, mas n√£o exibe uma interface da web na qual √© poss√≠vel reconhecer o</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dump1090</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - um decodificador Mode S projetado para dongles RTLSDR e usado nesses dispositivos.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/647/54e/431/64754e43182b4740b7c08d138527a1f9.jpg" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sem o trabalho dump1090, nenhum dado chegar√° ao servidor. </font><font style="vertical-align: inherit;">√â estranho que o dispositivo tenha funcionado durante a verifica√ß√£o antes do envio. </font><font style="vertical-align: inherit;">"Isso √© algum tipo de bobagem." </font><font style="vertical-align: inherit;">Como os chineses n√£o est√£o interessados ‚Äã‚Äãno destino do dispositivo, e nenhum sinal de suporte t√©cnico pode ser encontrado, minha consci√™ncia fica completamente limpa se eu tentar consert√°-lo.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√≥s assumimos o controle do dispositivo</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Depois de desmontar o receptor, imediatamente ap√≥s o recebimento, fiz a imagem microSD no estado anterior √† primeira inicializa√ß√£o e examinei um pouco o conte√∫do, suspeitando imediatamente que o receptor estava enviando dados para o servidor - havia arquivos e scripts com endere√ßos de servi√ßo em / root /. </font></font><br><br><h3> <font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redefinir senha do usu√°rio PI</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instru√ß√µes para alterar a ‚Äúsenha esquecida‚Äù com fotos podem ser encontradas neste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu desmontei o receptor novamente. </font><font style="vertical-align: inherit;">Para acessar o microSD, desaparafuse todos os parafusos e remova as duas placas. </font><font style="vertical-align: inherit;">No futuro, enquanto trabalhava com o receptor, n√£o o montei novamente no pr√©dio. </font><font style="vertical-align: inherit;">teve que mudar dois microSD com sistemas diferentes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retiramos o microSD da Rpi, fazemos uma c√≥pia de backup no computador, se voc√™ ainda n√£o o fez, e editamos o arquivo - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmdline.txt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><pre> <code class="bash hljs">dwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No final desta linha, adicione </font></font><br><br><pre> <code class="bash hljs">init=/bin/sh</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retornamos o microSD ao RPi, conectamos o monitor e o teclado. </font><font style="vertical-align: inherit;">N√≥s conectamos o poder. </font><font style="vertical-align: inherit;">Quando as linhas pararem de correr na tela, pressione Enter. </font><font style="vertical-align: inherit;">Um prompt do console aparece, no qual digitamos</font></font><br><br><pre> <code class="bash hljs">mount -rw -o remount / passwd pi sync <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> /sbin/init</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As linhas correm repetidamente e esperam que elas parem de correr e depois as desligam. </font><font style="vertical-align: inherit;">Obtemos o microSD da RPi. </font><font style="vertical-align: inherit;">No computador, editamos ou restauramos a c√≥pia de backup do </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmdline.txt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - exclua ‚Äúinit = / bin / sh‚Äù. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A √∫ltima vez que retornamos o microSD de volta ao RPi. </font><font style="vertical-align: inherit;">Ligue. </font><font style="vertical-align: inherit;">Entre com sucesso com uma nova senha. </font><font style="vertical-align: inherit;">Ativamos o ssh digitando raspi-config e selecionando SSH no menu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ent√£o, com o comando top, quero ver como o receptor vive e observar inesperadamente os processos wget e ... dump-1090. </font><font style="vertical-align: inherit;">Cena silenciosa. </font><font style="vertical-align: inherit;">Eu verifico no navegador http // XXX.XXX.XXX: 8080 - h√° uma interface.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/r_/io/t1/r_iot1vh1tljjqcj6gqdat3ufkq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para n√£o dizer isso inesperadamente, mas definitivamente incomum. </font><font style="vertical-align: inherit;">Verifico o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segundo m√©todo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com as instru√ß√µes </font><font style="vertical-align: inherit;">- tamb√©m est√° tudo bem: o √≠cone do receptor ficou verde e abaixo da lista de avi√µes que ele ouviu.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seria poss√≠vel terminar com isso, mas em primeiro lugar, usar o RPi3 apenas para isso seria imperdo√°vel. E segundo, se este dispositivo funcionasse de forma est√°vel. Por exemplo, ele desapareceu da lista de endere√ßos IP do roteador DHCP, enquanto estava dispon√≠vel ao acessar o IP recebido anteriormente e, ao mesmo tempo, n√£o havia imagem no HDMI. Mas o mais importante foi a instabilidade da transmiss√£o. Segundo as estat√≠sticas na p√°gina do receptor, funcionava v√°rias horas por dia. √Äs vezes, um dia inteiro, √†s vezes v√°rias horas, √†s vezes zero horas. Demorou v√°rios dias para estudar o sistema - nem todo software foi instalado. Reposit√≥rios chineses ... A voz alem√£ finalmente se convenceu de que precisamos criar um receptor ADS-B para uma pessoa saud√°vel e, para isso, precisamos rolar a imagem do PiAware em outro microSD. O microSD original ainda era √∫til para descobrir como funciona.</font></font><font color="#FF0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No m√≠nimo, salve os arquivos de / root. </font><font style="vertical-align: inherit;">Fa√ßa uma imagem desej√°vel.</font></font></font> <br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiAware</font></font></font> </h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiAware</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um software Linux para transferir dados de voo para o FlightAware. </font><font style="vertical-align: inherit;">Cont√©m garfo dump1090-mutability. </font><font style="vertical-align: inherit;">Segundo os desenvolvedores, uma das diferen√ßas √© que ele n√£o envia pacotes para os servidores da FlightAware se eles n√£o diferem do primeiro. </font><font style="vertical-align: inherit;">I.e. </font><font style="vertical-align: inherit;">se o avi√£o n√£o mudou de velocidade, altitude, esses dados n√£o precisam ser processados ‚Äã‚Äãe, portanto, reduzem a carga no servidor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cerca de dois anos atr√°s, o FlightAware come√ßou a traduzir textos do site para o russo. </font><font style="vertical-align: inherit;">E muito para criar sua pr√≥pria esta√ß√£o PiAware pode ser encontrado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fora do local</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">A ess√™ncia da cria√ß√£o de uma esta√ß√£o em RPi com RTLSDR resume-se √† grava√ß√£o de uma imagem PiAware no Raspbian Linux pronta para microSD usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etcher</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Em seguida, antes de inserir o cart√£o no RPi e aguardar o download, √© necess√°rio fazer algumas altera√ß√µes. Para habilitar o acesso SSH, crie um arquivo vazio sem a extens√£o com o nome ssh na parti√ß√£o de inicializa√ß√£o (/ boot partition). E voc√™ pode fazer as </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configura√ß√µes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> necess√°rias no arquivo piaware-config.txt </font><font style="vertical-align: inherit;">, por exemplo, especificar um IP est√°tico ou ativar o WiFi e especificar o SSID / senha, desde que um adaptador USB WiFi compat√≠vel esteja conectado. As mesmas configura√ß√µes podem ser feitas no console com o comando piaware-config </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setting_name Possible_values</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ j√° possui uma conta no Flightaware, ap√≥s 5 minutos a esta√ß√£o ser√° </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anexada √† conta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ap√≥s receber um identificador exclusivo. E o receptor ter√° sua pr√≥pria p√°gina de estat√≠sticas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por padr√£o, o usu√°rio do PI tem uma senha de flightaware. </font><font style="vertical-align: inherit;">√â uma boa ideia alterar sua senha imediatamente.</font></font><br><br><h3> <font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Testes"</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os testes est√£o entre aspas, apenas impress√µes. </font><font style="vertical-align: inherit;">Ter dois dispositivos com quase o mesmo software pode avaliar suas habilidades. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tenho um receptor Flightaware gratuito e a primeira coisa que experimentei foi a antena VariFlight completa. </font><font style="vertical-align: inherit;">Acabei de substituir a antena Flightaware por ela. </font><font style="vertical-align: inherit;">E enquanto eu estudava o receptor VariFlight, as estat√≠sticas do FlightFeeder foram coletadas na p√°gina do Flightaware. </font><font style="vertical-align: inherit;">A conclus√£o √© decepcionante. </font><font style="vertical-align: inherit;">Embora nada tenha mudado no alcance m√°ximo, como o FlightFeeder, na dire√ß√£o da visibilidade direta, pegando alguns a uma dist√¢ncia de 400 km, mas as estat√≠sticas de aeronaves por hora / dia ca√≠ram 2-3 vezes. </font><font style="vertical-align: inherit;">Certamente aceita lados por mais de 300 quil√¥metros, mas v√™ um pouco menos de mensagens. </font><font style="vertical-align: inherit;">N√£o sei o que h√° dentro do corpo da antena - n√£o √© dobr√°vel.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma antena Flightaware foi conectada ao receptor VariFlight e mostrou estat√≠sticas da mesma ordem. </font><font style="vertical-align: inherit;">E com uma antena nativa ainda mais baixa.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ed/tq/0z/edtq0z5qbkaioqmq8khv4q75nse.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vou decodificar as estat√≠sticas. </font><font style="vertical-align: inherit;">As estat√≠sticas 10-05 a 10-07 s√£o um receptor VariFlight com uma antena Flightaware. </font><font style="vertical-align: inherit;">Em 10-08, a antena completa foi conectada e de 10-09 a 10-11 as estat√≠sticas do kit VariFlight. </font><font style="vertical-align: inherit;">10-12, o script send_message.py foi alterado para coletar dados do Flightaware Flightfeeder. </font><font style="vertical-align: inherit;">Depois disso, o VariFlight enviou dados dele e de 10 a 13 - estat√≠sticas di√°rias com base nos dados do Flightaware Flightfeeder. </font><font style="vertical-align: inherit;">Al√©m disso, por exemplo, para voos 10-18 - 396, pacotes 814176, para voos 10-19 - 471, pacotes 860415. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos avaliar o quanto o receptor VariFlight √© suscet√≠vel a interfer√™ncias de r√°dio. </font><font style="vertical-align: inherit;">Para fazer isso, varra o intervalo de 800 MHz a 1200 MHz e gere um mapa de calor.</font></font><br><br><pre> <code class="bash hljs">sudo apt-get install python-imaging sudo wget https://raw.githubusercontent.com/keenerd/rtl-sdr-misc/master/heatmap/heatmap.py sudo chmod +x heatmap.py sudo systemctl stop dump1090-fa sudo rtl_power -f 800M:1200M:100k -i 30 -c 50% -e 30m -g 30 -F 9 &gt;scan.csv</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ap√≥s meia hora (-e 30m), a digitaliza√ß√£o para e uma imagem √© gerada. </font></font><br><pre> <code class="bash hljs">./heatmap.py scan.csv scan.png</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reiniciando o dispositivo para restaurar o dump1090. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E copie a imagem resultante para um computador usando (win) scp. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este √© um fragmento de uma varredura de mapa t√©rmico com uma frequ√™ncia de 1090 MHz. </font><font style="vertical-align: inherit;">Imagem completa dispon√≠vel por clique.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/qs/jl/om/qsjlomhpqztfezcodd2c__ik-zy.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listras amarelas brilhantes s√£o uma comunica√ß√£o m√≥vel. Nada de incomum - ele n√£o possui pr√©-filtros como o Flightfeeder e √© muito interrompido pelas esta√ß√µes m√≥veis. Nisso, √© absolutamente o mesmo que o simples "apito azul" mencionado anteriormente. Talvez a fabrica√ß√£o na forma de uma placa de expans√£o especial fa√ßa algum sentido, por exemplo, o papel das ‚Äútrilhas dobradas‚Äù nessa placa n√£o est√° claro. Fazendo uma placa especializada, n√£o seria dif√≠cil instalar um amplificador de baixo ru√≠do e um filtro SAW a 1090 MHz. S√≥ de olhar para os scripts no dispositivo, tive uma id√©ia do por que isso foi feito - um script chamado acars.py.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gj/je/c5/gjjec5drhpf-ummw90sui3ar5vw.jpeg" width="640"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quanto o amplificador e o filtro melhorariam as caracter√≠sticas do receptor mostra um exemplo do grupo acima mencionado no Facebook. </font><font style="vertical-align: inherit;">Em vez de um receptor comum, um dos usu√°rios do VariFlight Box conectou um dongle especializado da Flightaware, o que o levou √† classifica√ß√£o m√°xima de cerca de mil usu√°rios (√© claro, o local da instala√ß√£o e outra antena tamb√©m afetaram).</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wn/wx/vx/wnwxvxmudv-gpbpatzreybmtgzk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A FlightAware lan√ßa dois modelos de dongle - Pro Stick e Pro Stick Plus, que ainda s√£o o mesmo "apito azul", mas t√™m um amplificador de sinal preliminar, e o √∫ltimo possui adicionalmente um </font></font><abbr title="Filtro SAW"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtro SAW</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que elimina sinais desnecess√°rios em √°reas com muita interfer√™ncia, por exemplo nas cidades, esses modelos est√£o equipados com um conector de antena SMA. </font><font style="vertical-align: inherit;">Esses dongles s√£o usados ‚Äã‚Äãnos receptores Flightaware Flightfeeder Orange.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zo/bv/m0/zobvm0srdsqzwa0zj-sn4jnpkow.jpeg" width="400"></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com a tampa removida</font></font></b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/al/_r/do/al_rdoa1ezof9rwtjv6v97o2nd8.jpeg"></div><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O nome do script "acars.py" indica que a aus√™ncia de filtros n√£o √© um erro e √© um salvamento. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema de endere√ßo e comunica√ß√£o de comunica√ß√µes da avia√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Sistema de Endere√ßamento e Comunica√ß√£o de Comunica√ß√µes de Aeronaves (ACARS) √© um sistema de radiocomunica√ß√£o digital usado na avia√ß√£o para transmitir mensagens curtas entre uma aeronave e esta√ß√µes terrestres. </font><font style="vertical-align: inherit;">A frequ√™ncia de opera√ß√£o do ACARS na Europa √© 131.725 MHz. </font><font style="vertical-align: inherit;">Portanto, o dispositivo n√£o pode ter um filtro apenas para 1090 MHz, caso contr√°rio, n√£o poder√° receber um sinal em 131 MHz. </font><font style="vertical-align: inherit;">O que est√° dentro da antena √© desconhecido, n√£o vou quebr√°-la, mas √© √≥bvio que sua "ampla cobertura" tamb√©m √© fornecida pelos criadores. </font><font style="vertical-align: inherit;">Da mesma forma que o m√©todo acima, um mapa de calor foi gerado na faixa de 100 MHz a 500 MHz. </font><font style="vertical-align: inherit;">Um fragmento de um mapa t√©rmico de varredura a uma frequ√™ncia de 450 MHz. </font><font style="vertical-align: inherit;">Imagem completa tamb√©m dispon√≠vel por clique.</font></font><br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/pl/16/as/pl16astc_zfrbh2svvnrmzmurss.png"></a> </div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No mapa de calor, voc√™ pode ver pain√©is de controle, sensores de seguran√ßa, campainhas sem fio, sensores sem fio de esta√ß√µes meteorol√≥gicas, radioamadores, esta√ß√µes de r√°dio FM e assim por diante. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por exemplo, configurando rtl_433, voc√™ pode ver os dados dos sensores sem fio vizinhos das esta√ß√µes meteorol√≥gicas e, se desejar, us√°-los como o autor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deste artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uc/mm/ze/ucmmzezt7bnrtnsqxlkan5gtiwa.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E, executando rtl_tcp, voc√™ pode ouvir r√°dio amador e r√°dio FM. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x3/an/ti/x3antiicq0ssing7bra1wpglk_q.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curiosamente, nem todos os radioamadores walkie-talkie mant√™m exatamente a frequ√™ncia. </font><font style="vertical-align: inherit;">Foi engra√ßado ver como os amadores de r√°dio avaliavam como ouviam o interlocutor, e a frequ√™ncia de uma das esta√ß√µes de r√°dio estava em algum lugar √† margem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas o receptor chin√™s no sistema nativo mostrou precis√£o - 0 PPM. </font><font style="vertical-align: inherit;">Sobre o m√©todo de medir o PPM pode ser encontrada no artigo sobre Habr√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quwy </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Mais uma vez sobre o recebimento de HF na SDR-a RTL¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">√â altamente recomend√°vel ajustar o PPM para obter a melhor recep√ß√£o. </font><font style="vertical-align: inherit;">Foi o que os chineses fizeram. </font><font style="vertical-align: inherit;">H√° um pequeno erro no Piaware que pode e deve ser corrigido especificando o valor PPM correto com o comando sudo piaware-config rtlsdr-ppm &lt;PPM value&gt; comando.</font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instru√ß√µes de calibra√ß√£o RTLSDR com rtl_test e kalibrate-rtl</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"> rtl_test -p</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aguardamos cerca de 10 minutos at√© o valor estabilizar. </font><font style="vertical-align: inherit;">Esse ser√° o ppm desejado. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ pode melhorar a precis√£o com os sinais de torres m√≥veis usando o utilit√°rio kalibrate-rtl.</font></font><br><pre> <code class="bash hljs">sudo apt-get install libtool autoconf automake libfftw3-dev git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/asdil12/kalibrate-rtl.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> kalibrate-rtl git checkout arm_memory ./bootstrap ./configure make sudo make install kal -s GSM900</code> </pre><br>     ,    ¬´power¬ª . <br>       kal -c &lt; &gt; -e &lt;  PPM,      rtl_test&gt; -v <br>    ¬´average absolute error¬ª.     ppm,   ,   sudo piaware-config rtlsdr-ppm &lt; PPM&gt; <br></div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, podemos dizer que o receptor VariFlight para ferro √© um pouco melhor do que voc√™ pode montar sozinho. </font><font style="vertical-align: inherit;">Essa √© uma boa base para come√ßar a praticar esse hobby (e mostrou testes de ferro que podem ser usados ‚Äã‚Äãpara uma grande variedade de outras tarefas. Al√©m disso, existem tr√™s portas USB gratuitas). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma desvantagem definitiva como um receptor ADSB √© o software e a interface do site em chin√™s. </font><font style="vertical-align: inherit;">Se voc√™ n√£o pode fazer nada com o site chin√™s, pode modificar o software do pr√≥prio receptor. </font><font style="vertical-align: inherit;">A maneira mais f√°cil √© instalar o PiAware e configurar a distribui√ß√£o no VariFlight. </font><font style="vertical-align: inherit;">Em seguida, voc√™ pode configurar a distribui√ß√£o no Flightradar24 e obter uma conta com condi√ß√µes especiais tamb√©m. </font><font style="vertical-align: inherit;">Um exemplo do uso de uma conta com recursos especiais √© o acesso aos dados de arquivo do Flightaware (a falha da An-148 Saratov Airlines).</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/ug/du/dtugduq0reih0v5pv5pphsrxn2a.jpeg" alt="imagem" width="640"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ua/zc/u8/uazcu8jmy0bk0-wpmw-a_9rm63c.png"></div><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Damos dados ao VariFlight</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retornamos ao conte√∫do do diret√≥rio raiz. </font><font style="vertical-align: inherit;">Pode ser encontrado no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Os nomes dos arquivos indicam inequivocamente suas fun√ß√µes.</font></font><br><br><pre> <code class="bash hljs">root@raspberrypi:/home/pi<span class="hljs-comment"><span class="hljs-comment"># ls /root -l total 24 drwxr-xr-x 8 root root 4096 Nov 22 2016 dump1090 drwxr-xr-x 5 root root 4096 Oct 16 18:54 get_message -rwxr-xr-x 1 root root 567 Nov 22 2016 install.sh drwxr-xr-x 7 root root 4096 Nov 22 2016 rtl-sdr -rwxr-xr-x 1 root root 62 Nov 22 2016 synctime.sh -rwxr-xr-x 1 root root 1300 Nov 29 2016 task.sh</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">install.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash apt-get update apt-get install cmake libusb-1.0-0-dev build-essential vim ntpdate -y apt-get remove ntp cd get_message/ mv rtl-sdr-blacklist.conf /etc/modprobe.d/ mv dump.sh /etc/init.d/dump chmod +x /etc/init.d/dump mv task.sh ../ chmod +x ../task.sh cd ../rtl-sdr/ mkdir rtl cd rtl cmake ../ -DINSTALL_UDEV_RULES=ON make install ldconfig cd ../../dump1090/ make cd /root/get_message/ python get_ip.py ps aux | grep py update-alternatives --config editor crontab -e * * * * * /root/task.sh &gt;/dev/null 2&gt;&amp;1 * * */6 * * /root/synctime.sh &gt;/dev/null 2&gt;&amp;1</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> As √∫ltimas linhas do install.sh mostram que o cron adiciona duas tarefas - execute task.sh a cada minuto e synctime.sh a cada 6 dias </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">synctime.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash /usr/sbin/ntpdate 115.182.42.248 &gt; /dev/null 2&gt;&amp;1</span></span></code> </pre><br></div></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">115.182.42.248 - Pequim Telecomunica√ß√µes Co., Ltd, Pequim, China. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observa√ß√µes: Observe que o CNNIC n√£o √© um ISP e n√£o √© </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: habilitado para investigar reclama√ß√µes de abuso de rede. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observa√ß√µes: Entre em contato com o tech-c ou admin-c da rede.</font></font></blockquote><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">task.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash ps -eaf | grep dump1090 | grep -v grep if [ $? -eq 1 ] then /etc/init.d/dump stop sleep 1 /etc/init.d/dump start echo `date "+%G-%m-%d %H:%M:%S"`" dump1090 restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" dump1090 running" echo "------------------------------------------------------------------------" fi ps -eaf | grep send_message.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python -O /root/get_message/send_message.py &amp; echo `date "+%G-%m-%d %H:%M:%S"`" send_message restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" send_message running" echo "------------------------------------------------------------------------" fi ps -eaf | grep get_ip.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/get_ip.py echo `date "+%G-%m-%d %H:%M:%S"`" get_ip restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" get_ip running" echo "------------------------------------------------------------------------" fi</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O script task.sh, executado a cada minuto pelo cron, verifica e, se necess√°rio, reinicia os scripts dump1090, send_message.py e get_ip.py. </font></font><br><pre> <code class="bash hljs">pi@raspberrypi:~ $ ps -eaf | grep dump1090 | grep -v grep root 830 1 14 Oct12 ? 13:49:25 ./dump1090 --net --net-sbs-port 30003 pi@raspberrypi:~ $ ps -eaf | grep get_ip.py | grep -v grep pi@raspberrypi:~ $ ps -eaf | grep send_message.py | grep -v grep root 838 1 0 Oct12 ? 00:09:20 python -O /root/get_message/send_message.py</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O diret√≥rio </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_message</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cont√©m scripts python, um dos quais, send_message.py, envia dados.</font></font><br><br><pre> <code class="bash hljs">root@raspberrypi:/home/pi<span class="hljs-comment"><span class="hljs-comment"># ls /root/get_message -l total 40 -rw-r--r-- 1 root root 954 Nov 22 2016 acars.py -rw-r--r-- 1 root root 1341 Nov 22 2016 acars.sh -rw-r--r-- 1 root root 173 Nov 22 2016 config.ini drwxr-xr-x 8 root root 4096 Nov 22 2016 dump1090 -rwxr-xr-x 1 root root 1731 Nov 22 2016 get_ip.py drwxr-xr-x 3 root root 4096 Nov 22 2016 get_message1117 -rwxr-xr-x 1 root root 3400 Dec 7 2016 init.sh -rw-r--r-- 1 root root 33 Oct 16 18:51 md5.txt -rwxr-xr-x 1 root root 1143 Oct 12 18:16 send_message.py -rw-r--r-- 1 root root 16 May 27 2016 UUID</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">init.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash path='/root/get_message/' DATE=`date -d "today" +"%Y-%m-%d_%H:%M:%S"` result="" UUID="" execom="" FromServer="" SourceMD5="" device="" if ps -ef |grep dump1090 |grep -v grep &gt;/dev/null then device="adsb" elif ps -ef |grep acarsdec |grep -v grep &gt;/dev/null then device="acars" else device="unknow" fi IpAddr=`/sbin/ifconfig |grep "addr:" |grep -v 127.0.0.1 |cut -d ':' -f2 |cut -d ' ' -f1` if [ -f "/root/get_message/UUID" ] then UUID=`cat /root/get_message/UUID` fi execut(){ while read command do eval $command if [ $? -ne 0 ] then execom=$command result=0 break fi result=1 done &lt;$path/package/exe.txt } removefile(){ rm -rf $path/package rm -f $path/*tar.gz* } main(){ ps -eaf | grep "pic.veryzhun.com/ADSB/update/newpackage.tar.gz" | grep -v grep if [ $? -eq 1 ] then /usr/bin/wget -P $path -c -t 1 -T 2 pic.veryzhun.com/ADSB/update/newpackage.tar.gz if [ -f "$path/newpackage.tar.gz" ] then dmd5=`md5sum $path/newpackage.tar.gz|cut -d ' ' -f1` if [ "$SourceMD5" = "$dmd5" ] then /bin/tar -xzf $path/newpackage.tar.gz -C $path echo $SourceMD5 &gt; $path/md5.txt /bin/touch /usr/src/start.pid echo $DATE &gt; /usr/src/start.pid execut if [ $result -eq 1 ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom=$execom -d message="success" http://receive.cdn35.com/ADSB/result.php else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom=$execom -d message="fail" http://receive.cdn35.com/ADSB/result.php fi removefile else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="post file has been changed" http://receive.cdn35.com/ADSB/result.php removefile fi else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="download failed" http://receive.cdn35.com/ADSB/result.php removefile fi fi } if curl -m 2 -s pic.veryzhun.com/ADSB/update.php &gt;/dev/null;then removefile FromServer=`curl -m 2 -s -d UUID="$UUID" -d IpAddr="$IpAddr" -d Device="$device" pic.veryzhun.com/ADSB/update.php` SourceMD5=`echo $FromServer|cut -d ' ' -f1` length=`echo $SourceMD5 |wc -L` if [ $length -ne 32 ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="md5 style error" http://receive.cdn35.com/ADSB/result.php exit fi else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="curl failed" http://receive.cdn35.com/ADSB/result.php exit fi DesMD5=`cat $path/md5.txt` if [ "$SourceMD5" = "$DesMD5" ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="no update,md5 without change " http://receive.cdn35.com/ADSB/result.php exit else main fi</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O script init.sh verifica se h√° uma atualiza√ß√£o e define um novo send_message.py </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_ip.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> fcntl <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> struct <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys,os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> hashlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uuid config = ConfigParser.ConfigParser() config.readfp(open(sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/config.ini'</span></span>,<span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) uuid_file=sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/UUID'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.exists(uuid_file) : file_object = open(uuid_file) mid = file_object.read() file_object.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : mid = uuid.uuid1().get_hex()[<span class="hljs-number"><span class="hljs-number">16</span></span>:] file_object = open(uuid_file , <span class="hljs-string"><span class="hljs-string">'w'</span></span>) file_object.write( mid ) file_object.close() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_data)</span></span></span><span class="hljs-function">:</span></span> source_data=source_data.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>,<span class="hljs-string"><span class="hljs-string">'$$$'</span></span>) f=urllib2.urlopen( url = config.get(<span class="hljs-string"><span class="hljs-string">"global"</span></span>,<span class="hljs-string"><span class="hljs-string">"ipurl"</span></span>), data = source_data, timeout = <span class="hljs-number"><span class="hljs-number">60</span></span> ) tmp_return=f.read() request_json=json.loads(tmp_return) request_md5=request_json[<span class="hljs-string"><span class="hljs-string">'md5'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'md5'</span></span>] tmp_hash=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> request_json: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> tmp_hash==<span class="hljs-string"><span class="hljs-string">''</span></span> : tmp_hash=tmp_hash+request_json[i] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : tmp_hash=tmp_hash+<span class="hljs-string"><span class="hljs-string">','</span></span>+request_json[i] md5=hashlib.md5(tmp_hash.encode(<span class="hljs-string"><span class="hljs-string">'utf-8'</span></span>)).hexdigest() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (md5 == request_md5): operate(request_json) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'MD5 ERR'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"return: "</span></span>+tmp_return; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_ip_address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ifname)</span></span></span><span class="hljs-function">:</span></span> skt = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) pktString = fcntl.ioctl(skt.fileno(), <span class="hljs-number"><span class="hljs-number">0x8915</span></span>, struct.pack(<span class="hljs-string"><span class="hljs-string">'256s'</span></span>, ifname[:<span class="hljs-number"><span class="hljs-number">15</span></span>])) ipString = socket.inet_ntoa(pktString[<span class="hljs-number"><span class="hljs-number">20</span></span>:<span class="hljs-number"><span class="hljs-number">24</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ipString <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(request_json)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'reboot'</span></span> : os.system(<span class="hljs-string"><span class="hljs-string">'/sbin/reboot'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'code'</span></span> : fileHandle = open ( urllib.unquote( request_json[<span class="hljs-string"><span class="hljs-string">'path'</span></span>] ) , <span class="hljs-string"><span class="hljs-string">'w'</span></span> ) fileHandle.write( urllib.unquote( request_json[<span class="hljs-string"><span class="hljs-string">'content'</span></span>] ) ) fileHandle.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'OK'</span></span> eth=get_ip_address(<span class="hljs-string"><span class="hljs-string">'eth0'</span></span>) send_message(mid+<span class="hljs-string"><span class="hljs-string">'|'</span></span>+eth+<span class="hljs-string"><span class="hljs-string">'|'</span></span>)</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O significado da troca de rede realizada pelo script, eu particularmente n√£o entendo. </font><font style="vertical-align: inherit;">Um UUID exclusivo √© gerado se estiver faltando. </font><font style="vertical-align: inherit;">E h√° uma certa troca com os endere√ßos especificados no arquivo config.ini. </font><font style="vertical-align: inherit;">Provavelmente, esse script em particular √© respons√°vel por vincular os dados transmitidos e o IP √† conta. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A linha ‚Äúif request_json ['type'] == 'reboot': os.system ('/ sbin / reboot')‚Äù √© digna de nota.</font></font><br><br><pre> <code class="plaintext hljs">[global] name = NEW ipurl = http://receive.cdn35.com/ADS-B_IP.php sendurl = http://adsb.feeyo.com/adsb/ReceiveCompressADSB.php version = 1.0 passwd = 'null'</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E, finalmente, o script enviando os dados </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">send_message.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> zlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> base64 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os,uuid serverHost = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> serverPort = <span class="hljs-number"><span class="hljs-number">30003</span></span> config = ConfigParser.ConfigParser() config.readfp(open(sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/config.ini'</span></span>,<span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) uuid_file=sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/UUID'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.exists(uuid_file) : file_object = open(uuid_file) mid = file_object.read() file_object.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : mid = uuid.uuid1().get_hex()[<span class="hljs-number"><span class="hljs-number">16</span></span>:] file_object = open(uuid_file , <span class="hljs-string"><span class="hljs-string">'w'</span></span>) file_object.write( mid ) file_object.close() sockobj = socket.socket(socket.AF_INET,socket.SOCK_STREAM) sockobj.connect((serverHost,serverPort)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_data)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: source_data=base64.b64encode(zlib.compress(source_data)) f=urllib2.urlopen(url = config.get(<span class="hljs-string"><span class="hljs-string">"global"</span></span>,<span class="hljs-string"><span class="hljs-string">"sendurl"</span></span>),data = urllib.urlencode({<span class="hljs-string"><span class="hljs-string">'from'</span></span>:mid,<span class="hljs-string"><span class="hljs-string">'code'</span></span>:source_data}),timeout = <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception,e: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> str(e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> tmp_buf=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: buf = sockobj.recv(<span class="hljs-number"><span class="hljs-number">1024</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> buf: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(buf) != <span class="hljs-number"><span class="hljs-number">0</span></span>: tmp_buf=tmp_buf+buf <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> buf[len(buf)<span class="hljs-number"><span class="hljs-number">-1</span></span>] == <span class="hljs-string"><span class="hljs-string">'\n'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> send_message(tmp_buf) : tmp_buf=<span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Editei a linha serverHost = 'localhost' substituindo 'localhost' por 'ff-1234' - o nome da rede do meu Flightaware Flightfeeder e reiniciando o receptor VariFlight. Depois disso, os dados do Flightfeeder foram para o VariFlight. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os scripts restantes s√£o a recep√ß√£o de mensagens ACARS. Talvez os restos de alguma funcionalidade ou fun√ß√£o sejam implementados no futuro. Os scripts funcionam com /root/acarsdec-3.0/acarsdec, que est√° ausente neste caminho. ACARSDEC √© um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">decodificador ACARS SDR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que decodifica mensagens, por exemplo, a uma frequ√™ncia de 131,725 ‚Äã‚ÄãMHz. Aparentemente, com base na recep√ß√£o desta frequ√™ncia, n√£o h√° filtros a 1090 MHz na entrada do receptor.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qz/kh/hu/qzkhhuoty6nf40do5noeftc1psk.jpeg" width="400"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O Sistema de Comunica√ß√µes de Avia√ß√£o de Endere√ßamento e Relat√≥rios (ACARS) √© um sistema de comunica√ß√µes digitais usado na avia√ß√£o para transmitir mensagens curtas e relativamente simples entre uma aeronave e as esta√ß√µes terrestres, seja por meio de radiocomunica√ß√£o direta ou via sistemas de sat√©lite. </font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais informa√ß√µes sobre o ACARS podem ser encontradas, por exemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O script acars.sh √© semelhante ao task.sh em sua implementa√ß√£o - reinicia o acarsdec e os scripts get_ip.py e acars.py se n√£o detectar o processo necess√°rio.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acars.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash ps -eaf | grep acarsdec | grep -v grep if [ $? -eq 1 ] then /root/acarsdec-3.0/acarsdec -n 127.0.0.1:8888 -o 0 -p -8 -r 0 127.272 126.475 &amp; echo `date "+%G-%m-%d %H:%M:%S"`" acarsdec restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" acarsdec running" echo "------------------------------------------------------------------------" fi ps -eaf | grep get_ip.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/get_ip.py echo `date "+%G-%m-%d %H:%M:%S"`" get_ip restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" get_ip running" echo "------------------------------------------------------------------------" fi ps -eaf | grep acars.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/acars.py echo `date "+%G-%m-%d %H:%M:%S"`" acars restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" acars running" echo "------------------------------------------------------------------------" fi /usr/sbin/ntpdate cn.pool.ntp.org &gt; /dev/null</span></span></code> </pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acars.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python import socket, traceback ,time,urllib2,urllib,sys,ConfigParser def send_message(source_data): try: f=urllib2.urlopen(url = config.get("global","sendurl"),data = urllib.urlencode({'from':config.get("global","name"),'code':source_data}),timeout = 10) print "return: "+f.read(); return True except Exception,e: print str(e) return False host = '127.0.0.1' port = 8888 config = ConfigParser.ConfigParser() config.readfp(open(sys.path[0]+'/config.ini',"rb")) s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) s.bind((host, port)) while 1: try: message, address = s.recvfrom(8192) socket_udp_str='{0} :{1} \n\n'.format(time.strftime('%Y-%m-%d %H:%M:%S',time.localtime(time.time())),message) send_message(socket_udp_str) except (KeyboardInterrupt, SystemExit): raise except: traceback.print_exc()</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No trabalho, fica assim: </font></font><br><br><pre> <code class="bash hljs">PID TTY STAT TIME COMMAND 20726 ? Ss 0:00 \_ sshd: pi [priv] 20732 ? S 0:00 \_ sshd: pi@pts/0 20734 pts/0 Ss 0:00 \_ -bash 20744 pts/0 R+ 0:00 \_ ps -afx 777 tty1 Ss+ 0:00 /sbin/agetty --noclear tty1 linux 907 ? Sl 737:23 ./dump1090 --net --net-sbs-port 30003 915 ? S 11:11 python -O /root/get_message/send_message.py</code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps -afx completamente</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs">pi@raspberrypi:~ $ ps -afx PID TTY STAT TIME COMMAND 2 ? S 0:00 [kthreadd] 3 ? S 0:59 \_ [ksoftirqd/0] 5 ? S&lt; 0:00 \_ [kworker/0:0H] 7 ? S 5:28 \_ [rcu_sched] 8 ? S 0:00 \_ [rcu_bh] 9 ? S 0:01 \_ [migration/0] 10 ? S 0:01 \_ [migration/1] 11 ? S 0:05 \_ [ksoftirqd/1] 13 ? S&lt; 0:00 \_ [kworker/1:0H] 14 ? S 0:01 \_ [migration/2] 15 ? S 0:04 \_ [ksoftirqd/2] 17 ? S&lt; 0:00 \_ [kworker/2:0H] 18 ? S 0:01 \_ [migration/3] 19 ? S 0:04 \_ [ksoftirqd/3] 21 ? S&lt; 0:00 \_ [kworker/3:0H] 22 ? S 0:00 \_ [kdevtmpfs] 23 ? S&lt; 0:00 \_ [netns] 24 ? S&lt; 0:00 \_ [perf] 25 ? S 0:00 \_ [khungtaskd] 26 ? S&lt; 0:00 \_ [writeback] 27 ? S&lt; 0:00 \_ [crypto] 28 ? S&lt; 0:00 \_ [bioset] 29 ? S&lt; 0:00 \_ [kblockd] 31 ? S&lt; 0:00 \_ [rpciod] 32 ? S 0:00 \_ [kswapd0] 33 ? S&lt; 0:00 \_ [vmstat] 34 ? S 0:00 \_ [fsnotify_mark] 35 ? S&lt; 0:00 \_ [nfsiod] 44 ? S&lt; 0:00 \_ [kthrotld] 46 ? S&lt; 0:00 \_ [bioset] 47 ? S&lt; 0:00 \_ [bioset] 48 ? S&lt; 0:00 \_ [bioset] 49 ? S&lt; 0:00 \_ [bioset] 50 ? S&lt; 0:00 \_ [bioset] 51 ? S&lt; 0:00 \_ [bioset] 52 ? S&lt; 0:00 \_ [bioset] 53 ? S&lt; 0:00 \_ [bioset] 54 ? S&lt; 0:00 \_ [bioset] 55 ? S&lt; 0:00 \_ [bioset] 56 ? S&lt; 0:00 \_ [bioset] 57 ? S&lt; 0:00 \_ [bioset] 58 ? S&lt; 0:00 \_ [bioset] 59 ? S&lt; 0:00 \_ [bioset] 60 ? S&lt; 0:00 \_ [bioset] 61 ? S&lt; 0:00 \_ [bioset] 62 ? S&lt; 0:00 \_ [bioset] 63 ? S&lt; 0:00 \_ [bioset] 64 ? S&lt; 0:00 \_ [bioset] 65 ? S&lt; 0:00 \_ [bioset] 66 ? S&lt; 0:00 \_ [bioset] 67 ? S&lt; 0:00 \_ [bioset] 68 ? S&lt; 0:00 \_ [bioset] 69 ? S&lt; 0:00 \_ [bioset] 70 ? S&lt; 0:00 \_ [VCHIQ-0] 71 ? S&lt; 0:00 \_ [VCHIQr-0] 72 ? S&lt; 0:00 \_ [VCHIQs-0] 73 ? S&lt; 0:00 \_ [iscsi_eh] 74 ? S&lt; 0:00 \_ [dwc_otg] 75 ? S&lt; 0:00 \_ [DWC Notificatio] 77 ? S 0:00 \_ [irq/92-mmc1] 78 ? S 0:00 \_ [VCHIQka-0] 79 ? S&lt; 0:00 \_ [SMIO] 80 ? S&lt; 0:00 \_ [deferwq] 83 ? S&lt; 0:00 \_ [bioset] 84 ? S 0:11 \_ [mmcqd/0] 87 ? S 0:04 \_ [jbd2/mmcblk0p2-] 88 ? S&lt; 0:00 \_ [ext4-rsv-conver] 89 ? S&lt; 0:00 \_ [ipv6_addrconf] 172 ? S 415:15 \_ [w1_bus_master1] 224 ? S&lt; 0:00 \_ [cfg80211] 227 ? S&lt; 0:00 \_ [brcmf_wq/mmc1:0] 229 ? S 0:00 \_ [brcmf_wdog/mmc1] 493 ? S&lt; 0:00 \_ [kworker/1:1H] 550 ? S&lt; 0:00 \_ [kworker/3:1H] 632 ? S&lt; 0:00 \_ [kworker/u9:0] 633 ? S&lt; 0:00 \_ [hci0] 634 ? S&lt; 0:00 \_ [hci0] 638 ? S&lt; 0:00 \_ [kworker/u9:2] 3856 ? S&lt; 0:00 \_ [kworker/2:1H] 9346 ? S&lt; 0:00 \_ [kworker/0:1H] 15564 ? S 0:00 \_ [kworker/1:0] 17556 ? S 0:00 \_ [kworker/u8:2] 17878 ? S 0:00 \_ [kworker/0:0] 17879 ? S 0:00 \_ [kworker/2:2] 19234 ? S 0:00 \_ [kworker/u8:4] 19566 ? S 0:00 \_ [kworker/3:1] 20143 ? S 0:00 \_ [kworker/2:1] 20259 ? S 0:00 \_ [kworker/3:2] 20352 ? S 0:00 \_ [kworker/0:2] 20416 ? S 0:00 \_ [kworker/1:2] 20600 ? S 0:00 \_ [kworker/3:0] 20601 ? S 0:00 \_ [kworker/2:0] 20605 ? S 0:00 \_ [kworker/u8:0] 20725 ? S 0:00 \_ [kworker/0:1] 1 ? Ss 0:10 /sbin/init 134 ? Ss 1:00 /lib/systemd/systemd-journald 136 ? Ss 0:08 /lib/systemd/systemd-udevd 416 ? Ss 0:09 /usr/sbin/cron -f 426 ? Ss 0:01 /lib/systemd/systemd-logind 429 ? Ss 0:00 avahi-daemon: running [raspberrypi.local] 458 ? S 0:00 \_ avahi-daemon: chroot helper 433 ? Ss 0:00 /usr/bin/dbus-daemon --system --address=systemd: --no 450 ? Ss 0:02 /usr/sbin/thd --daemon --triggers /etc/triggerhappy/t 496 ? Ss 0:03 /sbin/wpa_supplicant -s -B -P /run/wpa_supplicant.wla 498 ? Ssl 0:13 /usr/sbin/rsyslogd -n 636 ? S 0:00 /usr/bin/hciattach /dev/serial1 bcm43xx 921600 noflow 640 ? Ss 0:00 /usr/lib/bluetooth/bluetoothd 729 ? Ss 0:02 /sbin/dhcpcd -q -w 749 ? Ss 0:00 /usr/sbin/sshd -D 20726 ? Ss 0:00 \_ sshd: pi [priv] 20732 ? S 0:00 \_ sshd: pi@pts/0 20734 pts/0 Ss 0:00 \_ -bash 20744 pts/0 R+ 0:00 \_ ps -afx 777 tty1 Ss+ 0:00 /sbin/agetty --noclear tty1 linux 907 ? Sl 737:23 ./dump1090 --net --net-sbs-port 30003 915 ? S 11:11 python -O /root/get_message/send_message.py</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso mostra que voc√™ pode obter dados do PiAware quase sem for√ßar, de fato, apenas transferir scripts para o novo sistema. </font><font style="vertical-align: inherit;">E se voc√™ j√° possui uma esta√ß√£o de an√∫ncios - caseira, Flightradar24, Flightaware, o receptor existente pode ser usado a seu crit√©rio para outros objetivos e tarefas pessoais com uma consci√™ncia completamente limpa.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instale o VariFlight no PiAware</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transferimos os arquivos necess√°rios para o novo sistema do antigo. </font><font style="vertical-align: inherit;">I.e. </font><font style="vertical-align: inherit;">conte√∫do do diret√≥rio raiz: diret√≥rio </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_message e arquivos install.sh, synctime.sh, task.sh. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No diret√≥rio get_message:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acars.py </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acars.sh </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> config.ini </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> get_ip.py </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> init.sh </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> send_message.py </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e o arquivo UUID √© seu identificador na rede VariFlight. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ deseja come√ßar a compartilhar dados sem ter um VariFlight Feeder, na primeira vez em que executar o script, seu UUID ser√° gerado. </font><font style="vertical-align: inherit;">Este arquivo e o nome do aeroporto mais pr√≥ximo devem ser enviados para chengyi (at) variflight.com para criar sua conta no servi√ßo. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seguinte:</font></font><br><pre> <code class="bash hljs">pi@piaware:~ $ sudo apt-get install -y python ntpdate pi@piaware:~ $ su root@piaware:~<span class="hljs-comment"><span class="hljs-comment"># sh task.sh root@piaware:~# crontab -e</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Editando crontab no nano colando </font></font><br><pre> <code class="bash hljs">* * * * * /root/task.sh &gt;/dev/null 2&gt;&amp;1</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Salve o arquivo pressionando [Ctrl + O] e feche [Ctrl + X]. </font></font><br><pre> <code class="bash hljs">root@piaware:~<span class="hljs-comment"><span class="hljs-comment"># chmod 777 task.sh root@piaware:~# reboot</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ap√≥s a reinicializa√ß√£o, verificamos a p√°gina com suas estat√≠sticas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.feeyo.com/user/rank</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Na quarta coluna, deve haver uma inscri√ß√£o verde online. </font><font style="vertical-align: inherit;">E na lista de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aeroportos, as</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> placas aceitas (terceira coluna - h√° quantos segundos atr√°s um sinal foi recebido da aeronave). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesse ponto, meu rascunho "travou" indefinidamente, porque </font><font style="vertical-align: inherit;">aqui eu queria escrever como executar um script no roteador com openwrt e ModeSMixer para distribuir dados para servi√ßos e, assim, desligar este receptor e aplic√°-lo para outros fins. </font><font style="vertical-align: inherit;">Mas ainda n√£o espero tempo livre e decidi publicar como est√°. </font><font style="vertical-align: inherit;">Talvez algu√©m </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">queira pedir um</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> receptor </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gratuito</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e este artigo ser√° √∫til.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ModeSMixer</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um receptor pode distribuir dados para v√°rios servi√ßos e o programa ModeSMixer √© usado para isso. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ModeSMixer √© um aplicativo de console para combinar e retransmitir fluxos com dados do Modo-S em v√°rios formatos. </font><font style="vertical-align: inherit;">Exemplo de caso de uso:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k_/r_/kg/k_r_kgk9z0hxapzmioayflatyce.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O programa foi projetado para combinar e retransmitir diferentes formatos de fluxos de dados ModeS. </font><font style="vertical-align: inherit;">O programa n√£o possui configura√ß√µes padr√£o. </font><font style="vertical-align: inherit;">Tudo √© definido por par√¢metros. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O par√¢metro --inConnect especifica os endere√ßos e portas dos quais os dados s√£o recebidos. </font><font style="vertical-align: inherit;">E o par√¢metro --outServer define o formato e a porta dos dados retransmitidos. </font><font style="vertical-align: inherit;">Um exemplo na imagem ficar√° assim:</font></font><br><pre> <code class="bash hljs">./modesmixer2 --inConnect 192.168.0.105:30005 --inConnect 127.0.0.1:30005 --outServer sbs10001:10001 --outServer beast:31001 --globes 32000:tablename:home --location XX.XXXXX:YY.YYYYY --web 8765 &amp;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O par√¢metro --location determina a latitude e longitude do local de instala√ß√£o da esta√ß√£o e o par√¢metro --web determina a porta na qual a interface da web do programa funcionar√°. Leia mais sobre o programa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de configurar a distribui√ß√£o para v√°rios servi√ßos, o propriet√°rio da esta√ß√£o recebe associa√ß√£o especial em cada servi√ßo e acesso a informa√ß√µes n√£o p√∫blicas e ao arquivo de voos por um determinado per√≠odo de tempo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No caso de usar o PiAware, os dados j√° s√£o enviados para o FlightAware e tudo o que resta √© coletar esses dados usando o modesmixer2. E no caso do Variflight, voc√™ precisa obter os dados do BaseStation em alguma porta livre, por exemplo, 10001. O par√¢metro ser√° semelhante a este --outServer msg: 10001. Se necess√°rio, voc√™ pode adicionar a porta 10002 para o programa VirtualRadar: --outServer beast: 10002</font></font><br><pre> <code class="bash hljs">./modesmixer2 --inConnect localhost:30005 --inConnect localhost:30105 --outServer msg:10001 --outServer beast:10002 --location &lt;&gt;:&lt;&gt; --web 8765 &amp;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para que isso seja iniciado e reiniciado automaticamente, voc√™ precisa editar task.sh, adicionando: </font></font><br><pre> <code class="bash hljs">ps -eaf | grep modesmixer2 | grep -v grep <span class="hljs-comment"><span class="hljs-comment"># if not found - equals to 1, start it if [ $? -eq 1 ] then ./modesmixer2 --inConnect localhost:30005 --inConnect localhost:30105 --outServer msg:10001 --location &lt;&gt;:&lt;&gt; --web 8765 &amp; echo `date "+%G-%m-%d %H:%M:%S"`" modesmixer2 restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" modesmixer2 running" echo "------------------------------------------------------------------------" fi</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por fim, edite o script get_message / send_message.py, especificando uma nova porta de dados: </font></font><br><pre> <code class="python hljs">serverHost = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> serverPort = <span class="hljs-number"><span class="hljs-number">10001</span></span></code> </pre><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enquanto isso,</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enquanto este artigo estava em rascunho, surgiram not√≠cias da China sobre esses servi√ßos. </font><font style="vertical-align: inherit;">Em novembro de 2018, as autoridades chinesas come√ßaram a desativar os receptores ADSB de servi√ßos estrangeiros. </font><font style="vertical-align: inherit;">Isso pode ser visto nas estat√≠sticas p√∫blicas das esta√ß√µes de Flightaware na China: </font></font><br><br><img src="https://habrastorage.org/webt/qt/ao/zw/qtaozwosymnimbutqn0miisq_mu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a not√≠cia √© que os entusiastas de radar chineses disseram que foram chamados por representantes das autoridades chinesas e visitados pela pol√≠cia, que ‚Äúmuito gentil e educadamente‚Äù pediu que parassem de enviar dados do ADS-B para o exterior servi√ßos, que aparentemente "comprometem a seguran√ßa e a soberania nacional da China".</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alguns alegaram ter recebido uma liga√ß√£o, mesmo que n√£o tenham recebido um receptor do FlightRadar24 e FlightAware. </font><font style="vertical-align: inherit;">Esses eventos causaram alvoro√ßo entre os entusiastas e muitos deles pararam de transmitir dados ADS-B. </font><font style="vertical-align: inherit;">Sabe-se que o FlightRadar24 tentou anonimizar as esta√ß√µes do usu√°rio na China. </font><font style="vertical-align: inherit;">Ainda n√£o est√° claro como isso √© espetacular. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aviso √†s autoridades chinesas em ingl√™s:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5g/ib/aq/5gibaqetlgqzcqxaul0ognxlau0.png" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"P√µe em risco a seguran√ßa nacional e a soberania da China", o fato de que esses servi√ßos permitem a localiza√ß√£o de aeronaves chinesas (americanas, europ√©ias e de outros pa√≠ses da ex-URSS). </font><font style="vertical-align: inherit;">Por exemplo, a trajet√≥ria semanal do UAV de reconhecimento estrat√©gico americano sobre √°guas internacionais a uma altitude de 16 km:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hv/zz/oy/hvzzoywpk5ukuehepkkdjgcbvt0.png" alt="imagem" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem dois sistemas de radar secund√°rios no mundo dos EUA e da URSS. </font><font style="vertical-align: inherit;">Portanto, esses receptores e servi√ßos n√£o podem mostrar o paradeiro da maioria dos avi√µes "sovi√©ticos", helic√≥pteros, a menos que estejam equipados com um transponder de radar "americano", necess√°rio apenas para voos no espa√ßo a√©reo, por exemplo, EUA ou UE. </font><font style="vertical-align: inherit;">Portanto, voc√™ pode ver algo interessante no territ√≥rio da Federa√ß√£o Russa nas √°reas de fronteira, de prefer√™ncia √† beira-mar. </font><font style="vertical-align: inherit;">Por exemplo, o oficial de intelig√™ncia americano mencionado acima √© notavelmente vis√≠vel em Krasnodar. </font><font style="vertical-align: inherit;">Devido a essa localiza√ß√£o costeira do receptor, o servi√ßo PlaneRadar acima mencionado periodicamente recebe as not√≠cias da m√≠dia russa.</font></font><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1067760621398253569"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS VariFlight ADS-B </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">lan√ßa</font></a><font style="vertical-align: inherit;"> vers√£o em ingl√™s - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.variflight.com</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt423989/">https://habr.com/ru/post/pt423989/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt423979/index.html">Painel de biomarcadores do envelhecimento saud√°vel do Reino Unido</a></li>
<li><a href="../pt423981/index.html">Livro DDIA (livro com um porco) - suba de n√≠vel na compreens√£o de bancos de dados</a></li>
<li><a href="../pt423983/index.html">11 bibliotecas de visualiza√ß√£o JavaScript que vale a pena conhecer em 2018</a></li>
<li><a href="../pt423985/index.html">Roskomnadzor prop√µe abolir a neutralidade da rede em redes 5G</a></li>
<li><a href="../pt423987/index.html">Como se tornar um programador Java</a></li>
<li><a href="../pt423991/index.html">Segredos de gerenciamento de assinaturas da Apple App Store</a></li>
<li><a href="../pt423993/index.html">Como desenhar um buraco negro. Rastreamento de raios geod√©sicos no espa√ßo-tempo curvo</a></li>
<li><a href="../pt423995/index.html">Limpeza em uma oficina geek. Parte 2</a></li>
<li><a href="../pt423997/index.html">"IT CRIMEA": um novo parque tecnol√≥gico em Sebastopol - come√ßar√° a funcionar no final deste ano</a></li>
<li><a href="../pt423999/index.html">Os dados do usu√°rio do Windows em um PC com suporte √† entrada por toque s√£o gravados em um arquivo separado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>