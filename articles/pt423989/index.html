<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🤝‍👨🏾 👨‍⚖️ 🙏🏽 VariFlight ADS-B - Flightradar em chinês 😑 🤵🏿 🔎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O Flightradar, de certa forma, tornou-se um nome familiar, de fato substituindo o conceito de "local onde você pode assistir a aeronave em tempo real"...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VariFlight ADS-B - Flightradar em chinês</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423989/">  <b>O Flightradar,</b> de certa forma, tornou-se um nome familiar, de fato substituindo o conceito de <i>"local onde você pode assistir a aeronave em tempo real"</i> .  Embora na verdade existam vários sites grandes e pequenos projetos ainda mais, é comum ver na mídia as notícias sobre o evento da aviação com a frase "de acordo com o site do Flightradar" e uma captura de tela de outro recurso. <br><br>  Existem várias publicações no Habré sobre radarporting nas quais ou nos comentários aos quais não apenas o Flightradar é mencionado.  Nesta publicação, falarei sobre o serviço chinês de rastreamento de tráfego aéreo e seu receptor ADSB <i>chinês</i> , que eles enviam gratuitamente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ye/_h/7a/ye_h7atxvw-x1mhbzgc0dcj-0zm.jpeg"></div><br><a name="habracut"></a><br>  Radarspotting é uma atividade interessante o suficiente para cativar um número notável de pessoas.  Vários artigos sobre Habré descrevem muito bem a essência da lição: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Simples e radarpotting, ou eu estou doente com a aviação</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Passo a passo: Transmitir dados para flightradar24</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flightradar24 - como funciona?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como rastrear objetos voadores identificados com o Raspberry Pi</a> </li><li>  <abbr title="piquetaram um lugar para um artigo em rascunhos e de onde algumas ilustrações foram extraídas para este artigo">Estação de radarspotting barata e fácil</abbr> </li></ul><br>  O receptor recebe, transmitido por aviões, um sinal na frequência de 1090 MHz, decodifica e transmite em algum formato.  Por exemplo, assim: <br><br><pre><code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"updatetime"</span></span>:<span class="hljs-number"><span class="hljs-number">1537902225</span></span>,<span class="hljs-attr"><span class="hljs-attr">"UTC Time"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-09-25 19:03:45"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"anum"</span></span>:<span class="hljs-string"><span class="hljs-string">"TCETM"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"fnum"</span></span>:<span class="hljs-string"><span class="hljs-string">"KKK6944"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"position"</span></span>:{<span class="hljs-attr"><span class="hljs-attr">"long"</span></span>:<span class="hljs-number"><span class="hljs-number">30.66455078125</span></span>,<span class="hljs-attr"><span class="hljs-attr">"lat"</span></span>:<span class="hljs-number"><span class="hljs-number">39.351677</span></span>},<span class="hljs-attr"><span class="hljs-attr">"height"</span></span>:<span class="hljs-number"><span class="hljs-number">10005.06</span></span>,<span class="hljs-attr"><span class="hljs-attr">"speed"</span></span>:<span class="hljs-number"><span class="hljs-number">888.96</span></span>,<span class="hljs-attr"><span class="hljs-attr">"angle"</span></span>:<span class="hljs-number"><span class="hljs-number">130</span></span>},</code> </pre> <br>  Essa atividade não é apenas interessante, mas tornou-se a atividade de várias empresas: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flightradar24</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flightaware</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Planefinder</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AirNav Network Radarbox</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Rede Avdelphi</a> </li></ul><br>  Poucas pessoas pensam como ganham a vida e como serviços como o Flightradar funcionam.  Um exemplo disso pode ser visto na wikipedia " <i>serviço público da web que permite o monitoramento em tempo real da posição da aeronave no ar</i> ".  O próprio artigo e o título dão uma falsa impressão do Flightradar como um tipo de serviço de entretenimento. <br><br>  De fato, tendo surgido como um hobby no início dos anos 2000, essas empresas atingiram rapidamente um período de recuperação e aumentaram sua renda a cada ano.  Por exemplo, o Flightaware, fundado em 2005, tornou-se lucrativo já em 2006, ganhando mais de US $ 1 milhão nos primeiros 18 meses e apresentando um crescimento anual de 40 a 75%.  De acordo com alguns recursos, a receita anual do Flightaware excede US $ 9 milhões, e o Flightradar mais de US $ 2 milhões. <br><br>  Se na Europa existe o Flightradar, nos EUA - Flightaware, na China existe o VariFlight.  Da mesma forma, o serviço negocia status de vôos, estatísticas e arquivos de vôos, realiza análises e previsões para clientes - organizações e clientes individuais. <br><br>  Palavras próprias do VariFlight: <br><br><pre> <code class="plaintext hljs"> &lt;meta name="description" content="VariFlight         .    ,      ,    .    ,     ,         ."&gt; &lt;meta name="keywords" content=" ,   ,  ,  ,  ,  ,  ,  ,  ,   ,  ,  ,  ,  ,  "&gt; &lt;meta property="og:url" content="http://www.variflight.com/ru/"&gt;</code> </pre> <br>  As empresas trocam dados, tanto próprios quanto os obtidos, por exemplo, da Federal Aviation Administration dos EUA.  Mas você pode obter o máximo lucro de seus próprios receptores, cuja operação não custa à empresa nada.  eles são instalados por entusiastas de radarspotting, você só precisa gastar dinheiro em fabricação e transporte.  Portanto, a partir de certo ponto, as empresas começaram a vender e distribuir seus receptores gratuitamente.  Gratuito para onde a empresa ainda não possui cobertura com sua rede de receptores e para onde não há dados. <br><br>  O custo dos dados justifica a distribuição “gratuita” dos receptores (preste atenção ao texto embaixo da tabela - o receptor continua sendo propriedade da Flightaware, formalmente alugada gratuitamente). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/_s/fo/xt_sfoqxfdfzr7yl8cex0omn2eu.png"></div><br>  Em 2015, a rede Flightradar tinha mais de 8.000 receptores ativos e o Flightaware tinha cerca de 4.500. Mas a Flightaware começou a distribuir os receptores dois anos antes, e o Flightradar já estava construindo sua rede há quase dez anos.  Atualmente, existem mais de 15.000 receptores na rede Flightaware.  O software receptor Flightaware está sendo aprimorado constantemente e atualmente trabalha com dados FMSDATA, FMSWX. <br><br>  Mapa de localização dos receptores em março de 2017: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ec7/7cb/81b/ec77cb81ba574463aacc88bbbe2180e2.png" alt="imagem"></div><br>  Orange é grátis para receptores Flightaware, branco para receptores caseiros e vermelho para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PlanePlotter</a> pago. <br><br>  Esta é a cobertura da rede de receptores Flightaware em dezembro de 2015: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ib/rc/mv/ibrcmvzeioalsr24lc9rrqu9hmi.png"></div><br>  E em março de 2017, a rede de receptores Flightaware ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">status atual no local</a> ) forneceu essa cobertura: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/fd7/44e/65d/fd744e65db8e464c8466c7d0618cfe6f.png" alt="imagem" width="600"></div><br>  Nem sempre é possível instalar receptores, portanto, em 2018, os dados dos receptores terrestres são complementados pelos dados dos satélites Iridium NEXT - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Pela primeira vez, será possível monitorar continuamente aeronaves em qualquer lugar do mundo"</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e5/kj/4i/e5kj4iu27uca4hwemcagg3mte4c.gif"></div><br>  Cor cinza-azul - dados dos satélites Iridium NEXT.  Verde e amarelo (o último é <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MLAT</a> ) - dados dos receptores terrestres. <br><br>  O raio da zona que uma estação cobre é limitado pela curvatura da superfície da Terra e pelos obstáculos que cobrem o horizonte, e não ultrapassa 450 km, no máximo.  E no "caso usual" de cerca de 150 km.  Com raras <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">passagens troposféricas</a> para essa radiofrequência, é possível olhar além do horizonte.  Um exemplo das zonas de cobertura máxima das estações que transmitem no <abbr title="planeradar.ru/virtualradar/">Planeradar.ru:</abbr> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d6/hg/u2/d6hgu2xf1c6ypsg6tn3knl-fc8c.png"></div><br>  Picos agudos nos diagramas de recepção são apenas casos isolados de recepção a distâncias muito grandes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ln/ux/ly/lnuxlyvtt9lgjwqh8s4drhq_wua.jpeg"></div><br>  A animação abaixo mostra o que causa a necessidade de enviar receptores.  Fora da UE / EUA, esse hobby não é muito popular.  Pode haver uma razão para o custo de um hobby, e este mapa indica indiretamente o nível de bem-estar, educação técnica e densidade populacional na região.  Talvez o assunto seja de interesse prático - os usuários que transmitem os dados de seus receptores recebem uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conta corporativa</a> gratuita do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flightaware</a> , que custa US $ 90 por mês. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rv/pi/iy/rvpiiyuijvmsb-ewvntooqfzbn4.gif"></div><br>  E assim a situação é descrita.  O mercado para esse serviço está crescendo, o mercado precisa de mais dados e o VariFlight também começou a implantar sua rede.  Em abril de 2018, a VariFlight anunciou que estava procurando voluntários para hospedar equipamentos gratuitos.  Um exemplo dessa postagem em uma postagem do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Instagram</a> . <br><br>  E em agosto, deparei com esta oferta para solicitar o receptor gratuitamente em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http://flightadsb.feeyo.com</a> (o site foi fechado em setembro de 2019 - o novo site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">flightadsb.variflight.com</a> e o link para solicitar o dispositivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ).  Depois de estudar o site, notei que a empresa está procurando membros voluntários da rede em países próximos às fronteiras da China.  E, ao preencher o questionário, ele não esperava que o Distrito Federal do Sul estivesse na zona de interesse da empresa. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jq/tk/gn/jqtkgnxt7ufd9rbhiafof8wbl0e.png"></div><br>  No próprio aplicativo, é necessário indicar no mapa o local da instalação (local da <i>instalação</i> ), o piso da instalação da antena no prédio ( <i>piso da instalação</i> , por exemplo, 7/9 - 7º andar de um prédio de 9 andares), o código do aeroporto mais próximo ( <i>código do aeroporto</i> - eu indiquei o código IATA) e Faça o download das fotografias do horizonte no site de instalação.  O restante é quase o mesmo que o pedido no Aliexpress, exceto os itens Título, Nacionalidade, Ocupação, Empresa.  É preenchido em inglês com um nome completo. <br><br>  Depois de verificar o e-mail algumas semanas depois, encontrei dois <b>e</b> - <b>mails</b> do <b>ADSB that 系统 (Sistema de exibição do ADS-B) de</b> que o aplicativo foi aprovado quase imediatamente e de que o pacote estava correndo para mim por um longo tempo, já tendo passado na alfândega. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/qc/jj/znqcjjlrquqas4qt8bliader-6q.png"></div><br>  Na segunda letra havia um nome de usuário, senha e número da faixa do pacote.  E também uma instrução que eu não notei e li quando ... você mesmo sabe quando eles costumam ler a instrução. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qk/tg/3p/qktg3pugddffvb9lzbf0v4kcrka.png"></div><br>  O login correspondeu ao nome completo no aplicativo e a senha é claramente enviada para todos.  Portanto, altere a senha imediatamente (e faça o login, se necessário). <br><br>  Em geral, a frase “Isso é algum tipo de absurdo” do jogo Greve repentina aparece cada vez mais na minha cabeça, se alguém se lembra de como os alemães falam russo no jogo com sotaque.  Às vezes quieto, às vezes barulhento. <br><br>  A propósito, o perfil era a única página em inglês, então tudo será em chinês.  Em Habré, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">wtigga</a> publicou um excelente artigo sobre a Internet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">chinesa "Internet e software chineses: sobre dolorosas"</a> .  Eu senti toda a dor agora.  Se você ainda não leu, é hora de se preparar. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1k/oi/ay/1koiayqeuae_alsvu_yxcqrheug.png"></div><br>  O navegador Google Chrome com a função de tradução ajudará você a trabalhar no site, mas muitas páginas que acabaram nem sempre são possíveis para ele. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/nm/yg/tqnmygwscpsyjyuskdb0iny0oyq.png"></div><br>  Os lugares serão frases engraçadas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5a/xw/-2/5axw-2211tuxsg4zqbgh1hyhoyg.png"></div><br>  E, portanto, efetue login com os dados do segundo email. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ni/cb/jd/nicbjd2losvkfsgprjxppsloyx8.png"></div><br>  E vá para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Informações pessoais</a> .  Como se viu, o Google Chrome nem sempre pode traduzir uma página ou falha na primeira vez. Nesse caso, após várias tentativas de tradução automática, tivemos que copiar o texto para o Google Tradutor.  Portanto, posto uma dica para quem enfrenta o mesmo problema. <br><br>  Existem duas guias na página, cuja ativa é marcada com uma linha vermelha.  No primeiro você não pode tocar em nada. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-s/sr/xy/-ssrxyi8w0fjdrs13rpzod_hgtg.png"></div><br><ol><li>  Nome completo </li><li>  O seu número de telefone </li><li>  Seu email </li><li>  Código do aeroporto </li><li>  O nome do seu receptor ADSB </li></ol><br>  O ponto QQ é o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mensageiro chinês Tencent QQ</a> . <br><br>  Na segunda guia, altere a senha <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gd/no/n-/gdnon-flkgykpprdisx-ghcztlu.png"></div><br><ol><li>  Senha antiga </li><li>  Nova senha </li><li>  Repita a nova senha </li></ol><br>  Fora isso, a tradução automática quase sempre funciona.  O design do mapa do site é muito próximo ao site do Flightradar e os "recursos" da tradução não impedem seu uso. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ti/rv/zz/tirvzzf2wwbat2fvqm-xfgv0qxe.png"></div><br>  Após uma inspeção detalhada, o serviço é diferente, por exemplo, uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">funcionalidade interessante</a> que o Flightaware não possui - um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mapa de calor</a> , traduzido pelo Google Chrome como "análise térmica". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/xn/oh/tqxnoh__qsuaa1pzvnmra5husrs.png"></div><br>  Um recurso interessante em alguns voos: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/kf/fu/jlkffukwq0xrwfd931hqwvuoyk0.png" width="100"></div><br>  Provavelmente não há informações sobre os aeroportos de partida e desembarque para este voo. <br><br><h2>  <font color="#cc0000">Visão geral do pacote e do receptor</font> </h2><br>  De acordo com o número da faixa, o pacote foi enviado em 6 de setembro e recebido em 18 de setembro.  A caixa tem dimensões sólidas que surpreenderam os funcionários dos correios.  No caminho dos correios para dentro, algo sacudiu, retiniu e rolou. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ea/nj/yj/eanjyj4bgyexd-nasadkur7prvu.jpeg" width="400"></div><br>  A caixa aberta ficou um pouco surpresa com a falta de materiais de embalagem. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fk/q_/xl/fkq_xlageyzym4psi5huluhuo5o.jpeg" width="400"></div><br>  Para comparação, a caixa no receptor Flightaware. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ko/jp/vz/kojpvzknaatsndykd2qfmz77ng4.jpeg"></div><br>  Surpreendentemente, o conteúdo da caixa não pareceu ser afetado.  Somente na antena houve um arranhão - o filme foi arrancado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iz/j5/37/izj537mwxv512fiw6em5b3u0nks.jpeg" width="400"></div><br>  O próprio receptor possui as inscrições de apenas dois conectores - alimentação e HDMI.  Além de dois, todos os conectores são exibidos em um lado.  LAN, 2 portas USB, conector de quatro pinos (suposição de que essa interface serial foi confirmada discando para BCM 14 (TXD / transmissão de 8 pinos), <br>  BCM 15 (RXD de 10 pinos / recebimento)), alimentação de 5 volts e conector SMA (fêmea) para antena. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xo/c9/dn/xoc9dnespvqq3r1f2frwjjs7zay.jpeg" width="400"></div><br>  No lado oposto, atrás de dois orifícios no gabinete, existem LEDs verde e vermelho.  E ao lado dele está um adesivo com o "número de série" do receptor, gravado à mão.  O receptor também possui HDMI e microUSB. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e_/8j/zv/e_8jzvvbk2_bp1nt46icd1uijke.jpeg" width="400"></div><br>  A tampa do receptor possui duas orelhas para montagem na parede, o que a distingue positivamente da quase caixa do receptor Flightaware, na qual o fabricante forneceu apenas quatro pernas de silicone na parte inferior. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bq/iw/af/bqiwafgqodhiap_-hdd3ipizm3s.jpeg" width="400"></div><br>  Verificando se essas duas orelhas podem ser usadas para montar o receptor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qw/9f/pg/qw9fpg1gij5ndga6urbayxv2qle.jpeg" width="400"></div><br>  Flightaware Flightfeeder de cabeça para baixo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lf/4s/wx/lf4swxpj43wvnjxbfsqu5rd2gom.jpeg" width="400"></div><br>  Para comparar tamanhos de receptor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nr/bv/zr/nrbvzre_u9jhgkzusug0jqtgk1w.jpeg" width="400"></div><br>  A questão natural é "o que há dentro?"  Tendo removido a tampa fixada por 4 parafusos, vemos esse arranjo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/40/qq/k9/40qqk99d-ac9ppuikahdjmic7oc.jpeg" width="400"></div><br>  Os conectores estão localizados em uma placa receptora separada, feita na forma de uma placa de expansão para o Raspberry Pi 3 Modelo B V1.2. <br><br>  Para comparação, uma fotografia de um Flightaware Flightfeeder (G6) sem capa.  Essa geração de receptores foi enviada até cerca de 2017.  Construído no RPi 2 Modelo B v.1.1 e no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modo-S Beast</a> -decodificador simplificado para um canal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ko/ya/4e/koya4exme2bh95occfbtkdb7wx8.jpeg" width="400"></div><br>  O verso desse design ocultava um elemento inesperado.  Um radiador maciço localizado na parte inferior da placa é uma surpresa.  A necessidade é incompreensível (uma semana depois, acho que é uma "performance tropical". Nas minhas condições, o radiador está um pouco quente). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t9/2o/le/t92ole4een-gqivnp2ksqweixqi.jpeg" width="400"></div><br>  Além disso, a placa de expansão está conectada ao conector RPi de quatro pinos com três fios soldados nos pontos de teste PP27 (USB VCC), PP44 (USB D-), <br>  PP45 (USB D +). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/he/vc/ui/hevcuirbhsyjqagyrtsie2n9kuy.jpeg" width="400"></div><br>  I.e.  nada pode ser conectado ao conector USB superior direito.  Portanto, a foto do gabinete localizado acima mostra que, dos dois conectores USB emparelhados, o slot no gabinete é apenas o oposto ao mais próximo da LAN. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8l/vs/xf/8lvsxfznp3keyqhthe4cnq7lh4u.jpeg" width="400"></div><br>  Eles fizeram o mesmo no Flightaware, soldando o receptor nos contatos de um dos conectores. <br><br>  A maior parte da placa de expansão é uma tela de metal.  Das partes visíveis, os conectores estão de um lado e, do lado oposto, dois indicadores e uma certa “bobina” com derivações.  Lembra shunt com resistência variável.  Talvez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">1div0</a> , autor do artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Por que dobrar as faixas?"</a>  sabe o que é isso.  Durante a operação normal, o LED verde está aceso.  Nesse caso, a luz vermelha está acesa - eu não sei.  Até eu assistir a sua inclusão. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k5/nx/ul/k5nxuli9peb2vtru9ktvvlkqm44.jpeg" width="400"></div><br>  No lado dos conectores existem conectores de energia e antena, e um conector de quatro pinos de finalidade desconhecida. <br><br>  Todos os eletrônicos estão escondidos sob uma grande tampa de estanho da tela.  Com o Flightaware Flightfeeder, a placa do receptor não está protegida.  No fórum do Flightaware, os desenvolvedores responderam a essa pergunta: a carcaça metálica do próprio receptor é suficiente para protegê-lo contra interferências externas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dr/sw/w9/drsww9uvadqiqaagbhk99ibhatg.jpeg" width="400"></div><br>  Uma tentativa de olhar sob a tela foi um sucesso da segunda abordagem.  A tampa caiu e acabou ... <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/wy/a_/1q/wya_1qu4awvmsaop9eulebq8o7e.jpeg" width="400"></a> </div><br>  ... como se viu, tudo foi em vão - a marcação com microchips foi cuidadosamente cortada. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eg/hc/38/eghc38dwf3d24o6hqmzrznpchoi.jpeg" width="400"></div><br>  Olhando para o futuro, direi que acabou sendo um receptor RTLSDR quase comum - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RTL2832U DVB-T</a> (0bda: 2838), chamado "dongles", "assobios" e que são dedicados a vários artigos sobre Habré que dão uma idéia desses dispositivos e como eles simplificaram e baratearam a implementação da recepção e processamento de sinais de rádio em computadores.  Por exemplo: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sintonizadores de TV USB no rtl2832 - ou como ouvir tudo no rádio por 600 rublos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mais uma vez sobre o recebimento de HF no RTL-SDR</a> </li></ul><br>  O último descreve bem os antecedentes da questão: <br><blockquote>  A publicação do chip RTL2832U para receptores de televisão digital no formato DVB-T não prometeu nenhuma sensação, porque a Realtek já estava um pouco atrasada com seu lançamento.  Em 2010, um padrão DVB-T2 mais progressivo com codificação de informações mais eficiente já estava sendo introduzido, portanto, inicialmente, a novidade não atraiu muita atenção.  Por dois anos, sintonizadores USB baratos baseados nele foram usados ​​para a finalidade pretendida, até o início de 2012 houve um vazamento de algumas informações técnicas sobre os modos operacionais deste chip.  Descobriu-se que, para receber rádio analógico (FM) e digital (DAB) na banda VHF, esse chip usa o princípio de decodificação de software de uma banda de frequência previamente digitalizada a partir do éter.  I.e.  Grosso modo, ele digitaliza um sinal de alta frequência da entrada da antena, e a filtragem de uma portadora específica e a detecção (extração de informações úteis) do fluxo digital recebido são deixadas para o processador central.  Obviamente, isso foi feito por razões econômicas, da mesma maneira que no momento do pôr do sol, o Dial-UP, "soft-modems" extremamente baratos, que também representavam apenas um par avançado de DACs e ADCs, se espalhou e todo o processamento de sinal foi realizado pela CPU. thread com a maior prioridade. </blockquote><br>  Ao contrário dos "sintonizadores regulares" que tenho, esta instância do usb id 0bda: 2832 possui um número de série de 17 dígitos. <br>  <b>Dispositivo 005 do barramento 001: ID 0bda: 2832 Realtek Semiconductor Corp.</b>  <b>RTL2832U DVB-T</b> <br>  <b>Encontrado sintonizador Rafael Micro R820T</b> <br>  I.e.  análogo ao "apito azul" usado para criar receptores ADSB caseiros.  Na foto, o receptor está no OrangePI. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8v/h2/2x/8vh22xmude7pxxexaxkiqbupdjw.jpeg" width="400"></div><br>  Montando o receptor de volta, instalei um radiador por precaução.  Comprado especificamente para a conclusão de roteadores e outros equipamentos domésticos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i8/r2/rq/i8r2rqvr2yriumcf8x_n8kk0gwg.jpeg" width="400"></div><br>  Fonte de alimentação 5V 2A.  Parece mais sólido do que a fonte de alimentação do Flightaware Flightfeeder.  Mas com um plugue chinês ... tentei me lembrar de onde estava o adaptador. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aj/lc/l5/ajlcl51jfqqhg0trs2xaykrva-u.jpeg" width="400"></div><br>  Em uma caixa de papelão branco havia uma bolsa de veludo tão agradável. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/di/w7/zy/diw7zywbjqf1oadipbx68qxsajq.jpeg" width="400"></div><br>  "... no peito - uma lebre, em uma lebre - um pato, em um pato - um ovo, em um ovo - uma agulha ..." <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bi/mh/jb/bimhjbyxhtpskqn8qppiebop1t4.jpeg" width="400"></div><br>  Dentro havia um quebra-cabeça de três adaptadores, que resolveu a questão "onde está o meu adaptador". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jw/2j/bm/jw2jbm8zmoxzdfkp2xh6l4giapk.jpeg" width="400"></div><br>  Em uma caixa de papelão marrom havia um pára-raios "CA-23RP 2.5GHZ 400W Made in Japan".  Não conheço essa configuração de outros receptores ADS-B.  Muito razoável para proteção contra acidentes de baixa potência. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xd/vj/3i/xdvj3iho-lnma7j8xsdyxc6ltko.jpeg" width="400"></div><br>  É provável que a antena interna teste o receptor sem instalar uma antena externa.  Não é adequado para uso prático.  Mas é vendido no Aliexpress / Ebay como uma “antena ADS-B”, mas seu verdadeiro objetivo é dado pela inscrição na sola magnética.  Eu costumava pegar aviões nessa antena não mais do que dentro de um raio de 30 a 40 km. <br><br>  Perto do adaptador N (fêmea) - SMA (macho).  Talvez um presente em caso de conexão de um filtro ou amplificador de baixo ruído. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aq/lo/6w/aqlo6wt-ekzwdj5gi2lz1peqeyc.jpeg" width="400"></div><br>  Cabo coaxial para uma antena de 5 metros com conectores N e SMA e um cabo de par trançado de 10 metros ("cobre 100% livre de oxigênio, blablabla"). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iv/wb/fu/ivwbfuae7vic79oosq7ycp5gyds.jpeg" width="400"></div><br>  Cabo da antena marcado com KOPA PLESS RG400-KF MIL-C-17.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cabo coaxial flexível com trança dupla do</a> Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">M17 / 128-RG400 RG-400</a> com uma cor diferente da bainha: <br><br><ul><li>  Frequência máxima de operação 6 GHz </li><li>  A uma frequência de 1,20 GHz, a atenuação máxima é de 0,54 dB / m </li></ul><br>  É muito duvidoso que essas sejam as características do cabo chinês.  A propósito, o Flightaware incluía um péssimo cabo de antena, embora italiano.  Encurtar o cabo da antena para várias dezenas de centímetros três vezes aumentou o número de pacotes recebidos pelo receptor Flightaware. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/ax/iy/dtaxiyp-0hsnbkxoyxvwxqppmpm.jpeg" width="400"></div><br>  Antena externa e sua fixação ao mastro. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/od/cd/uw/odcduwhuzkas2_16eb-bvkonhgk.jpeg" width="400"></div><br>  A singularidade do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FlightFeeder ADS-B VariFlight</a> no Facebook: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/-v/xt/in-vxt5ycgivunptwzqwlteg1ns.png"></div><br>  A antena é um pouco menor em diâmetro que o Flightaware <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/57/og/_c/57og_cudvkojungdjrhx7nbvmmm.jpeg" width="400"></div><br>  Suporte de mastro Flightaware de duralumin <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-v/rd/df/-vrddfifb-tgjkc4chgcxonphki.jpeg" width="400"></div><br>  Um presente com o símbolo do VariFlight.  A julgar pelas inscrições no verso, esta etiqueta deve ser presa na bagagem em caso de perda no aeroporto, preenchendo os dados de contato do proprietário. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/na/ay/3t/naay3txh_wtm7qlo9hpe1zbczji.jpeg" width="400"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xh/uy/sq/xhuysqq2i9mjm8r5kmsy8eo6md8.jpeg" width="400"></div><br><h2>  <font color="#cc0000">Primeira inclusão</font> </h2><br>  Ligar a energia não mudou nada fundamental na aparência do dispositivo.  Somente os indicadores da LAN estavam acesos, o roteador possui um novo nome de host raspberrypi na lista de endereços IP dhcp emitidos.  O HDMI tinha a saída de inicialização RPi usual e a solicitação de login. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u3/jq/la/u3jqlagqk0w2vni0vquhtllulk0.jpeg" width="400"></div><br>  E é isso.  A interface da web esperada para esses dispositivos no IP: 8080 não estava disponível.  A varredura das portas do dispositivo encontrou apenas a porta 22. Na tentativa de efetuar login como usuário e senha padrão, ele foi enviado para longe no console e no ssh: <br><br><pre> <code class="bash hljs">login as: pi pi@raspberrypi<span class="hljs-string"><span class="hljs-string">'s password: Access denied</span></span></code> </pre> <br>  O receptor ligou e desligou várias vezes, permaneceu ligado por dias, supondo que poderia estar baixando algo naquele momento ou tentando acessar servidores na China.  Nem o indicador vermelho nem o verde acendem. <br><br>  Nesse momento, fui para fora do local em busca de perguntas frequentes, suporte técnico ou qualquer outra coisa que pudesse dizer que esse dispositivo deveria e não deveria.  Fiz o login pela primeira vez, mas isso não mudou nada fundamentalmente - não há formulários de contato ou de feedback.  A única coisa encontrada foi que o destinatário estava vinculado a uma conta e tinha o status offline.  Percebi o fato de o sistema ter sido visto pela última vez na rede em 2 de setembro às 17.18, horário de Pequim, quatro dias antes de ser enviado por correio.  I.e.  Foi verificado e conectado à conta. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0b/-0/fs/0b-0fsjl_qfuohrhfdanizpv9y8.png"></div><br>  Depois de passar alguns dias perambulando pelos sites da "Internet chinesa", aos quais alguns links se referiam externamente ou que estavam fora do site, e cansados ​​de seu design original, percebi que este produto não possui suporte técnico.  E naquele momento lembrei de dois e-mails do ADSB 展示 系统 (sistema de exibição do ADS-B). <br><br>  "Isso é algum tipo de bobagem" - mais uma vez ouvi uma voz familiar com um sotaque na minha cabeça.  Meu e-mail para este endereço retornou o PostMaster feeyo.com <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7q/bh/vw/7qbhvwk-bzc6ljjz6rpqfusctgi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E então o olho chamou a atenção para a segunda letra, que havia escapado do olhar (devido ao novo design incomum do GMail). </font><font style="vertical-align: inherit;">Isso acabou por ser uma instrução de instalação para o VariFlight ADS-B. </font><font style="vertical-align: inherit;">É hora de descobrir como deveria funcionar.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conheça 准 常 准 ADS-B 设备 安装 说明</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Abaixo está uma tradução das instruções em 6 páginas e em dois idiomas, a maioria dos quais são ilustrações. </font></font><br><br><h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instruções de instalação do VariFlight ADS-B</font></font></font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/eg/id/qd/egidqdatgtfzejqa91n4nfh-zn8.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Breve descrição</font></font></font></i> </h3> <i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O VariFlight ADS-B é um equipamento projetado para entusiastas da aviação civil para rastrear aeronaves. </font><font style="vertical-align: inherit;">O kit consiste em um receptor ADS-B, uma fonte de alimentação, um cabo de manobra (cabo de manobra), uma antena e um cabo para ele.</font></font><br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/mo/gu/kz/mogukz2z2_ohzy4un1bhz3pk6pa.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Localização da antena</font></font></font></i> </h3> <i><br>         ,        ;    .    ADS-B     ,    . <br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/7_/3a/ru/7_3aruxylxvhzffbg2xwormtdmk.jpeg" width="400"></i> </div> <i><br>   ,    ADS-B   ,   : <br><br></i> <ol><li> <i>    .</i> </li><li> <i>   -      ADS-B .</i> </li><li> <i>    .</i> </li></ol> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/gi/me/bv/gimebv-tiw4td7c_m3evyd34tro.jpeg" width="400"></i> </div> <i><br>    ,        .  IP  ,  DHCP. <br><br></i> <h3> <i><font color="#00cc00">   </font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/ac/vj/sr/acvjsruuug3lop68iq8xm-7act4.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00">    </font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/lg/4u/iv/lg4uivsn2odmoktyc6pbuc63ze4.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00">      ADS-B      </font></i> </h3> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O primeiro método </font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nas configurações do seu roteador, encontre o endereço IP do receptor ADS-B e abra </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http // XXX.XXX.XXX: 8080</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em um navegador da web, onde XXX.XXX.XXX é o endereço IP interno na sua rede local.</font></font><br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/wp/di/d3/wpdid3rucptn5hlql698q1murns.png"></i> </div> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Método 2:</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Abra o link </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.variflight.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em um navegador da web, faça login e clique em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aeroporto</font></font></a> <br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/9o/hs/ja/9ohsja9e_inbqrha1kivz6rzrsw.png"></i> </div> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O terceiro método, apenas para voluntários</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> chineses Para usuários chineses, é possível o uso do WeChat. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesta instrução terminou. </font><font style="vertical-align: inherit;">De acordo com esta instrução, o dispositivo funciona parcialmente - ele recebe IP na rede local, mas não exibe uma interface da web na qual é possível reconhecer o</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dump1090</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - um decodificador Mode S projetado para dongles RTLSDR e usado nesses dispositivos.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/647/54e/431/64754e43182b4740b7c08d138527a1f9.jpg" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sem o trabalho dump1090, nenhum dado chegará ao servidor. </font><font style="vertical-align: inherit;">É estranho que o dispositivo tenha funcionado durante a verificação antes do envio. </font><font style="vertical-align: inherit;">"Isso é algum tipo de bobagem." </font><font style="vertical-align: inherit;">Como os chineses não estão interessados ​​no destino do dispositivo, e nenhum sinal de suporte técnico pode ser encontrado, minha consciência fica completamente limpa se eu tentar consertá-lo.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nós assumimos o controle do dispositivo</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Depois de desmontar o receptor, imediatamente após o recebimento, fiz a imagem microSD no estado anterior à primeira inicialização e examinei um pouco o conteúdo, suspeitando imediatamente que o receptor estava enviando dados para o servidor - havia arquivos e scripts com endereços de serviço em / root /. </font></font><br><br><h3> <font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redefinir senha do usuário PI</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instruções para alterar a “senha esquecida” com fotos podem ser encontradas neste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu desmontei o receptor novamente. </font><font style="vertical-align: inherit;">Para acessar o microSD, desaparafuse todos os parafusos e remova as duas placas. </font><font style="vertical-align: inherit;">No futuro, enquanto trabalhava com o receptor, não o montei novamente no prédio. </font><font style="vertical-align: inherit;">teve que mudar dois microSD com sistemas diferentes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retiramos o microSD da Rpi, fazemos uma cópia de backup no computador, se você ainda não o fez, e editamos o arquivo - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmdline.txt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><pre> <code class="bash hljs">dwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No final desta linha, adicione </font></font><br><br><pre> <code class="bash hljs">init=/bin/sh</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retornamos o microSD ao RPi, conectamos o monitor e o teclado. </font><font style="vertical-align: inherit;">Nós conectamos o poder. </font><font style="vertical-align: inherit;">Quando as linhas pararem de correr na tela, pressione Enter. </font><font style="vertical-align: inherit;">Um prompt do console aparece, no qual digitamos</font></font><br><br><pre> <code class="bash hljs">mount -rw -o remount / passwd pi sync <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> /sbin/init</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As linhas correm repetidamente e esperam que elas parem de correr e depois as desligam. </font><font style="vertical-align: inherit;">Obtemos o microSD da RPi. </font><font style="vertical-align: inherit;">No computador, editamos ou restauramos a cópia de backup do </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmdline.txt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - exclua “init = / bin / sh”. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A última vez que retornamos o microSD de volta ao RPi. </font><font style="vertical-align: inherit;">Ligue. </font><font style="vertical-align: inherit;">Entre com sucesso com uma nova senha. </font><font style="vertical-align: inherit;">Ativamos o ssh digitando raspi-config e selecionando SSH no menu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Então, com o comando top, quero ver como o receptor vive e observar inesperadamente os processos wget e ... dump-1090. </font><font style="vertical-align: inherit;">Cena silenciosa. </font><font style="vertical-align: inherit;">Eu verifico no navegador http // XXX.XXX.XXX: 8080 - há uma interface.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/r_/io/t1/r_iot1vh1tljjqcj6gqdat3ufkq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para não dizer isso inesperadamente, mas definitivamente incomum. </font><font style="vertical-align: inherit;">Verifico o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segundo método</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com as instruções </font><font style="vertical-align: inherit;">- também está tudo bem: o ícone do receptor ficou verde e abaixo da lista de aviões que ele ouviu.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seria possível terminar com isso, mas em primeiro lugar, usar o RPi3 apenas para isso seria imperdoável. E segundo, se este dispositivo funcionasse de forma estável. Por exemplo, ele desapareceu da lista de endereços IP do roteador DHCP, enquanto estava disponível ao acessar o IP recebido anteriormente e, ao mesmo tempo, não havia imagem no HDMI. Mas o mais importante foi a instabilidade da transmissão. Segundo as estatísticas na página do receptor, funcionava várias horas por dia. Às vezes, um dia inteiro, às vezes várias horas, às vezes zero horas. Demorou vários dias para estudar o sistema - nem todo software foi instalado. Repositórios chineses ... A voz alemã finalmente se convenceu de que precisamos criar um receptor ADS-B para uma pessoa saudável e, para isso, precisamos rolar a imagem do PiAware em outro microSD. O microSD original ainda era útil para descobrir como funciona.</font></font><font color="#FF0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No mínimo, salve os arquivos de / root. </font><font style="vertical-align: inherit;">Faça uma imagem desejável.</font></font></font> <br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiAware</font></font></font> </h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiAware</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é um software Linux para transferir dados de voo para o FlightAware. </font><font style="vertical-align: inherit;">Contém garfo dump1090-mutability. </font><font style="vertical-align: inherit;">Segundo os desenvolvedores, uma das diferenças é que ele não envia pacotes para os servidores da FlightAware se eles não diferem do primeiro. </font><font style="vertical-align: inherit;">I.e. </font><font style="vertical-align: inherit;">se o avião não mudou de velocidade, altitude, esses dados não precisam ser processados ​​e, portanto, reduzem a carga no servidor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cerca de dois anos atrás, o FlightAware começou a traduzir textos do site para o russo. </font><font style="vertical-align: inherit;">E muito para criar sua própria estação PiAware pode ser encontrado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fora do local</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">A essência da criação de uma estação em RPi com RTLSDR resume-se à gravação de uma imagem PiAware no Raspbian Linux pronta para microSD usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etcher</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Em seguida, antes de inserir o cartão no RPi e aguardar o download, é necessário fazer algumas alterações. Para habilitar o acesso SSH, crie um arquivo vazio sem a extensão com o nome ssh na partição de inicialização (/ boot partition). E você pode fazer as </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configurações</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> necessárias no arquivo piaware-config.txt </font><font style="vertical-align: inherit;">, por exemplo, especificar um IP estático ou ativar o WiFi e especificar o SSID / senha, desde que um adaptador USB WiFi compatível esteja conectado. As mesmas configurações podem ser feitas no console com o comando piaware-config </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setting_name Possible_values</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se você já possui uma conta no Flightaware, após 5 minutos a estação será </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anexada à conta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , após receber um identificador exclusivo. E o receptor terá sua própria página de estatísticas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por padrão, o usuário do PI tem uma senha de flightaware. </font><font style="vertical-align: inherit;">É uma boa ideia alterar sua senha imediatamente.</font></font><br><br><h3> <font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Testes"</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os testes estão entre aspas, apenas impressões. </font><font style="vertical-align: inherit;">Ter dois dispositivos com quase o mesmo software pode avaliar suas habilidades. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tenho um receptor Flightaware gratuito e a primeira coisa que experimentei foi a antena VariFlight completa. </font><font style="vertical-align: inherit;">Acabei de substituir a antena Flightaware por ela. </font><font style="vertical-align: inherit;">E enquanto eu estudava o receptor VariFlight, as estatísticas do FlightFeeder foram coletadas na página do Flightaware. </font><font style="vertical-align: inherit;">A conclusão é decepcionante. </font><font style="vertical-align: inherit;">Embora nada tenha mudado no alcance máximo, como o FlightFeeder, na direção da visibilidade direta, pegando alguns a uma distância de 400 km, mas as estatísticas de aeronaves por hora / dia caíram 2-3 vezes. </font><font style="vertical-align: inherit;">Certamente aceita lados por mais de 300 quilômetros, mas vê um pouco menos de mensagens. </font><font style="vertical-align: inherit;">Não sei o que há dentro do corpo da antena - não é dobrável.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma antena Flightaware foi conectada ao receptor VariFlight e mostrou estatísticas da mesma ordem. </font><font style="vertical-align: inherit;">E com uma antena nativa ainda mais baixa.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ed/tq/0z/edtq0z5qbkaioqmq8khv4q75nse.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vou decodificar as estatísticas. </font><font style="vertical-align: inherit;">As estatísticas 10-05 a 10-07 são um receptor VariFlight com uma antena Flightaware. </font><font style="vertical-align: inherit;">Em 10-08, a antena completa foi conectada e de 10-09 a 10-11 as estatísticas do kit VariFlight. </font><font style="vertical-align: inherit;">10-12, o script send_message.py foi alterado para coletar dados do Flightaware Flightfeeder. </font><font style="vertical-align: inherit;">Depois disso, o VariFlight enviou dados dele e de 10 a 13 - estatísticas diárias com base nos dados do Flightaware Flightfeeder. </font><font style="vertical-align: inherit;">Além disso, por exemplo, para voos 10-18 - 396, pacotes 814176, para voos 10-19 - 471, pacotes 860415. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos avaliar o quanto o receptor VariFlight é suscetível a interferências de rádio. </font><font style="vertical-align: inherit;">Para fazer isso, varra o intervalo de 800 MHz a 1200 MHz e gere um mapa de calor.</font></font><br><br><pre> <code class="bash hljs">sudo apt-get install python-imaging sudo wget https://raw.githubusercontent.com/keenerd/rtl-sdr-misc/master/heatmap/heatmap.py sudo chmod +x heatmap.py sudo systemctl stop dump1090-fa sudo rtl_power -f 800M:1200M:100k -i 30 -c 50% -e 30m -g 30 -F 9 &gt;scan.csv</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Após meia hora (-e 30m), a digitalização para e uma imagem é gerada. </font></font><br><pre> <code class="bash hljs">./heatmap.py scan.csv scan.png</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reiniciando o dispositivo para restaurar o dump1090. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E copie a imagem resultante para um computador usando (win) scp. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este é um fragmento de uma varredura de mapa térmico com uma frequência de 1090 MHz. </font><font style="vertical-align: inherit;">Imagem completa disponível por clique.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/qs/jl/om/qsjlomhpqztfezcodd2c__ik-zy.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listras amarelas brilhantes são uma comunicação móvel. Nada de incomum - ele não possui pré-filtros como o Flightfeeder e é muito interrompido pelas estações móveis. Nisso, é absolutamente o mesmo que o simples "apito azul" mencionado anteriormente. Talvez a fabricação na forma de uma placa de expansão especial faça algum sentido, por exemplo, o papel das “trilhas dobradas” nessa placa não está claro. Fazendo uma placa especializada, não seria difícil instalar um amplificador de baixo ruído e um filtro SAW a 1090 MHz. Só de olhar para os scripts no dispositivo, tive uma idéia do por que isso foi feito - um script chamado acars.py.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gj/je/c5/gjjec5drhpf-ummw90sui3ar5vw.jpeg" width="640"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quanto o amplificador e o filtro melhorariam as características do receptor mostra um exemplo do grupo acima mencionado no Facebook. </font><font style="vertical-align: inherit;">Em vez de um receptor comum, um dos usuários do VariFlight Box conectou um dongle especializado da Flightaware, o que o levou à classificação máxima de cerca de mil usuários (é claro, o local da instalação e outra antena também afetaram).</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wn/wx/vx/wnwxvxmudv-gpbpatzreybmtgzk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A FlightAware lança dois modelos de dongle - Pro Stick e Pro Stick Plus, que ainda são o mesmo "apito azul", mas têm um amplificador de sinal preliminar, e o último possui adicionalmente um </font></font><abbr title="Filtro SAW"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtro SAW</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que elimina sinais desnecessários em áreas com muita interferência, por exemplo nas cidades, esses modelos estão equipados com um conector de antena SMA. </font><font style="vertical-align: inherit;">Esses dongles são usados ​​nos receptores Flightaware Flightfeeder Orange.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zo/bv/m0/zobvm0srdsqzwa0zj-sn4jnpkow.jpeg" width="400"></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com a tampa removida</font></font></b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/al/_r/do/al_rdoa1ezof9rwtjv6v97o2nd8.jpeg"></div><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O nome do script "acars.py" indica que a ausência de filtros não é um erro e é um salvamento. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema de endereço e comunicação de comunicações da aviação</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Sistema de Endereçamento e Comunicação de Comunicações de Aeronaves (ACARS) é um sistema de radiocomunicação digital usado na aviação para transmitir mensagens curtas entre uma aeronave e estações terrestres. </font><font style="vertical-align: inherit;">A frequência de operação do ACARS na Europa é 131.725 MHz. </font><font style="vertical-align: inherit;">Portanto, o dispositivo não pode ter um filtro apenas para 1090 MHz, caso contrário, não poderá receber um sinal em 131 MHz. </font><font style="vertical-align: inherit;">O que está dentro da antena é desconhecido, não vou quebrá-la, mas é óbvio que sua "ampla cobertura" também é fornecida pelos criadores. </font><font style="vertical-align: inherit;">Da mesma forma que o método acima, um mapa de calor foi gerado na faixa de 100 MHz a 500 MHz. </font><font style="vertical-align: inherit;">Um fragmento de um mapa térmico de varredura a uma frequência de 450 MHz. </font><font style="vertical-align: inherit;">Imagem completa também disponível por clique.</font></font><br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/pl/16/as/pl16astc_zfrbh2svvnrmzmurss.png"></a> </div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No mapa de calor, você pode ver painéis de controle, sensores de segurança, campainhas sem fio, sensores sem fio de estações meteorológicas, radioamadores, estações de rádio FM e assim por diante. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por exemplo, configurando rtl_433, você pode ver os dados dos sensores sem fio vizinhos das estações meteorológicas e, se desejar, usá-los como o autor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deste artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uc/mm/ze/ucmmzezt7bnrtnsqxlkan5gtiwa.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E, executando rtl_tcp, você pode ouvir rádio amador e rádio FM. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x3/an/ti/x3antiicq0ssing7bra1wpglk_q.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curiosamente, nem todos os radioamadores walkie-talkie mantêm exatamente a frequência. </font><font style="vertical-align: inherit;">Foi engraçado ver como os amadores de rádio avaliavam como ouviam o interlocutor, e a frequência de uma das estações de rádio estava em algum lugar à margem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas o receptor chinês no sistema nativo mostrou precisão - 0 PPM. </font><font style="vertical-align: inherit;">Sobre o método de medir o PPM pode ser encontrada no artigo sobre Habré </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quwy </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Mais uma vez sobre o recebimento de HF na SDR-a RTL»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">É altamente recomendável ajustar o PPM para obter a melhor recepção. </font><font style="vertical-align: inherit;">Foi o que os chineses fizeram. </font><font style="vertical-align: inherit;">Há um pequeno erro no Piaware que pode e deve ser corrigido especificando o valor PPM correto com o comando sudo piaware-config rtlsdr-ppm &lt;PPM value&gt; comando.</font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instruções de calibração RTLSDR com rtl_test e kalibrate-rtl</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"> rtl_test -p</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aguardamos cerca de 10 minutos até o valor estabilizar. </font><font style="vertical-align: inherit;">Esse será o ppm desejado. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode melhorar a precisão com os sinais de torres móveis usando o utilitário kalibrate-rtl.</font></font><br><pre> <code class="bash hljs">sudo apt-get install libtool autoconf automake libfftw3-dev git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/asdil12/kalibrate-rtl.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> kalibrate-rtl git checkout arm_memory ./bootstrap ./configure make sudo make install kal -s GSM900</code> </pre><br>     ,    «power» . <br>       kal -c &lt; &gt; -e &lt;  PPM,      rtl_test&gt; -v <br>    «average absolute error».     ppm,   ,   sudo piaware-config rtlsdr-ppm &lt; PPM&gt; <br></div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, podemos dizer que o receptor VariFlight para ferro é um pouco melhor do que você pode montar sozinho. </font><font style="vertical-align: inherit;">Essa é uma boa base para começar a praticar esse hobby (e mostrou testes de ferro que podem ser usados ​​para uma grande variedade de outras tarefas. Além disso, existem três portas USB gratuitas). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma desvantagem definitiva como um receptor ADSB é o software e a interface do site em chinês. </font><font style="vertical-align: inherit;">Se você não pode fazer nada com o site chinês, pode modificar o software do próprio receptor. </font><font style="vertical-align: inherit;">A maneira mais fácil é instalar o PiAware e configurar a distribuição no VariFlight. </font><font style="vertical-align: inherit;">Em seguida, você pode configurar a distribuição no Flightradar24 e obter uma conta com condições especiais também. </font><font style="vertical-align: inherit;">Um exemplo do uso de uma conta com recursos especiais é o acesso aos dados de arquivo do Flightaware (a falha da An-148 Saratov Airlines).</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/ug/du/dtugduq0reih0v5pv5pphsrxn2a.jpeg" alt="imagem" width="640"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ua/zc/u8/uazcu8jmy0bk0-wpmw-a_9rm63c.png"></div><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Damos dados ao VariFlight</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retornamos ao conteúdo do diretório raiz. </font><font style="vertical-align: inherit;">Pode ser encontrado no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Os nomes dos arquivos indicam inequivocamente suas funções.</font></font><br><br><pre> <code class="bash hljs">root@raspberrypi:/home/pi<span class="hljs-comment"><span class="hljs-comment"># ls /root -l total 24 drwxr-xr-x 8 root root 4096 Nov 22 2016 dump1090 drwxr-xr-x 5 root root 4096 Oct 16 18:54 get_message -rwxr-xr-x 1 root root 567 Nov 22 2016 install.sh drwxr-xr-x 7 root root 4096 Nov 22 2016 rtl-sdr -rwxr-xr-x 1 root root 62 Nov 22 2016 synctime.sh -rwxr-xr-x 1 root root 1300 Nov 29 2016 task.sh</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">install.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash apt-get update apt-get install cmake libusb-1.0-0-dev build-essential vim ntpdate -y apt-get remove ntp cd get_message/ mv rtl-sdr-blacklist.conf /etc/modprobe.d/ mv dump.sh /etc/init.d/dump chmod +x /etc/init.d/dump mv task.sh ../ chmod +x ../task.sh cd ../rtl-sdr/ mkdir rtl cd rtl cmake ../ -DINSTALL_UDEV_RULES=ON make install ldconfig cd ../../dump1090/ make cd /root/get_message/ python get_ip.py ps aux | grep py update-alternatives --config editor crontab -e * * * * * /root/task.sh &gt;/dev/null 2&gt;&amp;1 * * */6 * * /root/synctime.sh &gt;/dev/null 2&gt;&amp;1</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> As últimas linhas do install.sh mostram que o cron adiciona duas tarefas - execute task.sh a cada minuto e synctime.sh a cada 6 dias </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">synctime.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash /usr/sbin/ntpdate 115.182.42.248 &gt; /dev/null 2&gt;&amp;1</span></span></code> </pre><br></div></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">115.182.42.248 - Pequim Telecomunicações Co., Ltd, Pequim, China. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observações: Observe que o CNNIC não é um ISP e não é </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: habilitado para investigar reclamações de abuso de rede. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observações: Entre em contato com o tech-c ou admin-c da rede.</font></font></blockquote><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">task.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash ps -eaf | grep dump1090 | grep -v grep if [ $? -eq 1 ] then /etc/init.d/dump stop sleep 1 /etc/init.d/dump start echo `date "+%G-%m-%d %H:%M:%S"`" dump1090 restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" dump1090 running" echo "------------------------------------------------------------------------" fi ps -eaf | grep send_message.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python -O /root/get_message/send_message.py &amp; echo `date "+%G-%m-%d %H:%M:%S"`" send_message restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" send_message running" echo "------------------------------------------------------------------------" fi ps -eaf | grep get_ip.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/get_ip.py echo `date "+%G-%m-%d %H:%M:%S"`" get_ip restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" get_ip running" echo "------------------------------------------------------------------------" fi</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O script task.sh, executado a cada minuto pelo cron, verifica e, se necessário, reinicia os scripts dump1090, send_message.py e get_ip.py. </font></font><br><pre> <code class="bash hljs">pi@raspberrypi:~ $ ps -eaf | grep dump1090 | grep -v grep root 830 1 14 Oct12 ? 13:49:25 ./dump1090 --net --net-sbs-port 30003 pi@raspberrypi:~ $ ps -eaf | grep get_ip.py | grep -v grep pi@raspberrypi:~ $ ps -eaf | grep send_message.py | grep -v grep root 838 1 0 Oct12 ? 00:09:20 python -O /root/get_message/send_message.py</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O diretório </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_message</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contém scripts python, um dos quais, send_message.py, envia dados.</font></font><br><br><pre> <code class="bash hljs">root@raspberrypi:/home/pi<span class="hljs-comment"><span class="hljs-comment"># ls /root/get_message -l total 40 -rw-r--r-- 1 root root 954 Nov 22 2016 acars.py -rw-r--r-- 1 root root 1341 Nov 22 2016 acars.sh -rw-r--r-- 1 root root 173 Nov 22 2016 config.ini drwxr-xr-x 8 root root 4096 Nov 22 2016 dump1090 -rwxr-xr-x 1 root root 1731 Nov 22 2016 get_ip.py drwxr-xr-x 3 root root 4096 Nov 22 2016 get_message1117 -rwxr-xr-x 1 root root 3400 Dec 7 2016 init.sh -rw-r--r-- 1 root root 33 Oct 16 18:51 md5.txt -rwxr-xr-x 1 root root 1143 Oct 12 18:16 send_message.py -rw-r--r-- 1 root root 16 May 27 2016 UUID</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">init.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash path='/root/get_message/' DATE=`date -d "today" +"%Y-%m-%d_%H:%M:%S"` result="" UUID="" execom="" FromServer="" SourceMD5="" device="" if ps -ef |grep dump1090 |grep -v grep &gt;/dev/null then device="adsb" elif ps -ef |grep acarsdec |grep -v grep &gt;/dev/null then device="acars" else device="unknow" fi IpAddr=`/sbin/ifconfig |grep "addr:" |grep -v 127.0.0.1 |cut -d ':' -f2 |cut -d ' ' -f1` if [ -f "/root/get_message/UUID" ] then UUID=`cat /root/get_message/UUID` fi execut(){ while read command do eval $command if [ $? -ne 0 ] then execom=$command result=0 break fi result=1 done &lt;$path/package/exe.txt } removefile(){ rm -rf $path/package rm -f $path/*tar.gz* } main(){ ps -eaf | grep "pic.veryzhun.com/ADSB/update/newpackage.tar.gz" | grep -v grep if [ $? -eq 1 ] then /usr/bin/wget -P $path -c -t 1 -T 2 pic.veryzhun.com/ADSB/update/newpackage.tar.gz if [ -f "$path/newpackage.tar.gz" ] then dmd5=`md5sum $path/newpackage.tar.gz|cut -d ' ' -f1` if [ "$SourceMD5" = "$dmd5" ] then /bin/tar -xzf $path/newpackage.tar.gz -C $path echo $SourceMD5 &gt; $path/md5.txt /bin/touch /usr/src/start.pid echo $DATE &gt; /usr/src/start.pid execut if [ $result -eq 1 ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom=$execom -d message="success" http://receive.cdn35.com/ADSB/result.php else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom=$execom -d message="fail" http://receive.cdn35.com/ADSB/result.php fi removefile else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="post file has been changed" http://receive.cdn35.com/ADSB/result.php removefile fi else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="download failed" http://receive.cdn35.com/ADSB/result.php removefile fi fi } if curl -m 2 -s pic.veryzhun.com/ADSB/update.php &gt;/dev/null;then removefile FromServer=`curl -m 2 -s -d UUID="$UUID" -d IpAddr="$IpAddr" -d Device="$device" pic.veryzhun.com/ADSB/update.php` SourceMD5=`echo $FromServer|cut -d ' ' -f1` length=`echo $SourceMD5 |wc -L` if [ $length -ne 32 ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="md5 style error" http://receive.cdn35.com/ADSB/result.php exit fi else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="curl failed" http://receive.cdn35.com/ADSB/result.php exit fi DesMD5=`cat $path/md5.txt` if [ "$SourceMD5" = "$DesMD5" ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="no update,md5 without change " http://receive.cdn35.com/ADSB/result.php exit else main fi</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O script init.sh verifica se há uma atualização e define um novo send_message.py </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_ip.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> fcntl <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> struct <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys,os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> hashlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uuid config = ConfigParser.ConfigParser() config.readfp(open(sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/config.ini'</span></span>,<span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) uuid_file=sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/UUID'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.exists(uuid_file) : file_object = open(uuid_file) mid = file_object.read() file_object.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : mid = uuid.uuid1().get_hex()[<span class="hljs-number"><span class="hljs-number">16</span></span>:] file_object = open(uuid_file , <span class="hljs-string"><span class="hljs-string">'w'</span></span>) file_object.write( mid ) file_object.close() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_data)</span></span></span><span class="hljs-function">:</span></span> source_data=source_data.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>,<span class="hljs-string"><span class="hljs-string">'$$$'</span></span>) f=urllib2.urlopen( url = config.get(<span class="hljs-string"><span class="hljs-string">"global"</span></span>,<span class="hljs-string"><span class="hljs-string">"ipurl"</span></span>), data = source_data, timeout = <span class="hljs-number"><span class="hljs-number">60</span></span> ) tmp_return=f.read() request_json=json.loads(tmp_return) request_md5=request_json[<span class="hljs-string"><span class="hljs-string">'md5'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'md5'</span></span>] tmp_hash=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> request_json: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> tmp_hash==<span class="hljs-string"><span class="hljs-string">''</span></span> : tmp_hash=tmp_hash+request_json[i] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : tmp_hash=tmp_hash+<span class="hljs-string"><span class="hljs-string">','</span></span>+request_json[i] md5=hashlib.md5(tmp_hash.encode(<span class="hljs-string"><span class="hljs-string">'utf-8'</span></span>)).hexdigest() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (md5 == request_md5): operate(request_json) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'MD5 ERR'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"return: "</span></span>+tmp_return; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_ip_address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ifname)</span></span></span><span class="hljs-function">:</span></span> skt = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) pktString = fcntl.ioctl(skt.fileno(), <span class="hljs-number"><span class="hljs-number">0x8915</span></span>, struct.pack(<span class="hljs-string"><span class="hljs-string">'256s'</span></span>, ifname[:<span class="hljs-number"><span class="hljs-number">15</span></span>])) ipString = socket.inet_ntoa(pktString[<span class="hljs-number"><span class="hljs-number">20</span></span>:<span class="hljs-number"><span class="hljs-number">24</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ipString <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(request_json)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'reboot'</span></span> : os.system(<span class="hljs-string"><span class="hljs-string">'/sbin/reboot'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'code'</span></span> : fileHandle = open ( urllib.unquote( request_json[<span class="hljs-string"><span class="hljs-string">'path'</span></span>] ) , <span class="hljs-string"><span class="hljs-string">'w'</span></span> ) fileHandle.write( urllib.unquote( request_json[<span class="hljs-string"><span class="hljs-string">'content'</span></span>] ) ) fileHandle.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'OK'</span></span> eth=get_ip_address(<span class="hljs-string"><span class="hljs-string">'eth0'</span></span>) send_message(mid+<span class="hljs-string"><span class="hljs-string">'|'</span></span>+eth+<span class="hljs-string"><span class="hljs-string">'|'</span></span>)</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O significado da troca de rede realizada pelo script, eu particularmente não entendo. </font><font style="vertical-align: inherit;">Um UUID exclusivo é gerado se estiver faltando. </font><font style="vertical-align: inherit;">E há uma certa troca com os endereços especificados no arquivo config.ini. </font><font style="vertical-align: inherit;">Provavelmente, esse script em particular é responsável por vincular os dados transmitidos e o IP à conta. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A linha “if request_json ['type'] == 'reboot': os.system ('/ sbin / reboot')” é digna de nota.</font></font><br><br><pre> <code class="plaintext hljs">[global] name = NEW ipurl = http://receive.cdn35.com/ADS-B_IP.php sendurl = http://adsb.feeyo.com/adsb/ReceiveCompressADSB.php version = 1.0 passwd = 'null'</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E, finalmente, o script enviando os dados </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">send_message.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> zlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> base64 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os,uuid serverHost = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> serverPort = <span class="hljs-number"><span class="hljs-number">30003</span></span> config = ConfigParser.ConfigParser() config.readfp(open(sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/config.ini'</span></span>,<span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) uuid_file=sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/UUID'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.exists(uuid_file) : file_object = open(uuid_file) mid = file_object.read() file_object.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : mid = uuid.uuid1().get_hex()[<span class="hljs-number"><span class="hljs-number">16</span></span>:] file_object = open(uuid_file , <span class="hljs-string"><span class="hljs-string">'w'</span></span>) file_object.write( mid ) file_object.close() sockobj = socket.socket(socket.AF_INET,socket.SOCK_STREAM) sockobj.connect((serverHost,serverPort)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_data)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: source_data=base64.b64encode(zlib.compress(source_data)) f=urllib2.urlopen(url = config.get(<span class="hljs-string"><span class="hljs-string">"global"</span></span>,<span class="hljs-string"><span class="hljs-string">"sendurl"</span></span>),data = urllib.urlencode({<span class="hljs-string"><span class="hljs-string">'from'</span></span>:mid,<span class="hljs-string"><span class="hljs-string">'code'</span></span>:source_data}),timeout = <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception,e: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> str(e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> tmp_buf=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: buf = sockobj.recv(<span class="hljs-number"><span class="hljs-number">1024</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> buf: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(buf) != <span class="hljs-number"><span class="hljs-number">0</span></span>: tmp_buf=tmp_buf+buf <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> buf[len(buf)<span class="hljs-number"><span class="hljs-number">-1</span></span>] == <span class="hljs-string"><span class="hljs-string">'\n'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> send_message(tmp_buf) : tmp_buf=<span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Editei a linha serverHost = 'localhost' substituindo 'localhost' por 'ff-1234' - o nome da rede do meu Flightaware Flightfeeder e reiniciando o receptor VariFlight. Depois disso, os dados do Flightfeeder foram para o VariFlight. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os scripts restantes são a recepção de mensagens ACARS. Talvez os restos de alguma funcionalidade ou função sejam implementados no futuro. Os scripts funcionam com /root/acarsdec-3.0/acarsdec, que está ausente neste caminho. ACARSDEC é um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">decodificador ACARS SDR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que decodifica mensagens, por exemplo, a uma frequência de 131,725 ​​MHz. Aparentemente, com base na recepção desta frequência, não há filtros a 1090 MHz na entrada do receptor.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qz/kh/hu/qzkhhuoty6nf40do5noeftc1psk.jpeg" width="400"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O Sistema de Comunicações de Aviação de Endereçamento e Relatórios (ACARS) é um sistema de comunicações digitais usado na aviação para transmitir mensagens curtas e relativamente simples entre uma aeronave e as estações terrestres, seja por meio de radiocomunicação direta ou via sistemas de satélite. </font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais informações sobre o ACARS podem ser encontradas, por exemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O script acars.sh é semelhante ao task.sh em sua implementação - reinicia o acarsdec e os scripts get_ip.py e acars.py se não detectar o processo necessário.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acars.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash ps -eaf | grep acarsdec | grep -v grep if [ $? -eq 1 ] then /root/acarsdec-3.0/acarsdec -n 127.0.0.1:8888 -o 0 -p -8 -r 0 127.272 126.475 &amp; echo `date "+%G-%m-%d %H:%M:%S"`" acarsdec restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" acarsdec running" echo "------------------------------------------------------------------------" fi ps -eaf | grep get_ip.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/get_ip.py echo `date "+%G-%m-%d %H:%M:%S"`" get_ip restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" get_ip running" echo "------------------------------------------------------------------------" fi ps -eaf | grep acars.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/acars.py echo `date "+%G-%m-%d %H:%M:%S"`" acars restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" acars running" echo "------------------------------------------------------------------------" fi /usr/sbin/ntpdate cn.pool.ntp.org &gt; /dev/null</span></span></code> </pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acars.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python import socket, traceback ,time,urllib2,urllib,sys,ConfigParser def send_message(source_data): try: f=urllib2.urlopen(url = config.get("global","sendurl"),data = urllib.urlencode({'from':config.get("global","name"),'code':source_data}),timeout = 10) print "return: "+f.read(); return True except Exception,e: print str(e) return False host = '127.0.0.1' port = 8888 config = ConfigParser.ConfigParser() config.readfp(open(sys.path[0]+'/config.ini',"rb")) s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) s.bind((host, port)) while 1: try: message, address = s.recvfrom(8192) socket_udp_str='{0} :{1} \n\n'.format(time.strftime('%Y-%m-%d %H:%M:%S',time.localtime(time.time())),message) send_message(socket_udp_str) except (KeyboardInterrupt, SystemExit): raise except: traceback.print_exc()</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No trabalho, fica assim: </font></font><br><br><pre> <code class="bash hljs">PID TTY STAT TIME COMMAND 20726 ? Ss 0:00 \_ sshd: pi [priv] 20732 ? S 0:00 \_ sshd: pi@pts/0 20734 pts/0 Ss 0:00 \_ -bash 20744 pts/0 R+ 0:00 \_ ps -afx 777 tty1 Ss+ 0:00 /sbin/agetty --noclear tty1 linux 907 ? Sl 737:23 ./dump1090 --net --net-sbs-port 30003 915 ? S 11:11 python -O /root/get_message/send_message.py</code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps -afx completamente</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs">pi@raspberrypi:~ $ ps -afx PID TTY STAT TIME COMMAND 2 ? S 0:00 [kthreadd] 3 ? S 0:59 \_ [ksoftirqd/0] 5 ? S&lt; 0:00 \_ [kworker/0:0H] 7 ? S 5:28 \_ [rcu_sched] 8 ? S 0:00 \_ [rcu_bh] 9 ? S 0:01 \_ [migration/0] 10 ? S 0:01 \_ [migration/1] 11 ? S 0:05 \_ [ksoftirqd/1] 13 ? S&lt; 0:00 \_ [kworker/1:0H] 14 ? S 0:01 \_ [migration/2] 15 ? S 0:04 \_ [ksoftirqd/2] 17 ? S&lt; 0:00 \_ [kworker/2:0H] 18 ? S 0:01 \_ [migration/3] 19 ? S 0:04 \_ [ksoftirqd/3] 21 ? S&lt; 0:00 \_ [kworker/3:0H] 22 ? S 0:00 \_ [kdevtmpfs] 23 ? S&lt; 0:00 \_ [netns] 24 ? S&lt; 0:00 \_ [perf] 25 ? S 0:00 \_ [khungtaskd] 26 ? S&lt; 0:00 \_ [writeback] 27 ? S&lt; 0:00 \_ [crypto] 28 ? S&lt; 0:00 \_ [bioset] 29 ? S&lt; 0:00 \_ [kblockd] 31 ? S&lt; 0:00 \_ [rpciod] 32 ? S 0:00 \_ [kswapd0] 33 ? S&lt; 0:00 \_ [vmstat] 34 ? S 0:00 \_ [fsnotify_mark] 35 ? S&lt; 0:00 \_ [nfsiod] 44 ? S&lt; 0:00 \_ [kthrotld] 46 ? S&lt; 0:00 \_ [bioset] 47 ? S&lt; 0:00 \_ [bioset] 48 ? S&lt; 0:00 \_ [bioset] 49 ? S&lt; 0:00 \_ [bioset] 50 ? S&lt; 0:00 \_ [bioset] 51 ? S&lt; 0:00 \_ [bioset] 52 ? S&lt; 0:00 \_ [bioset] 53 ? S&lt; 0:00 \_ [bioset] 54 ? S&lt; 0:00 \_ [bioset] 55 ? S&lt; 0:00 \_ [bioset] 56 ? S&lt; 0:00 \_ [bioset] 57 ? S&lt; 0:00 \_ [bioset] 58 ? S&lt; 0:00 \_ [bioset] 59 ? S&lt; 0:00 \_ [bioset] 60 ? S&lt; 0:00 \_ [bioset] 61 ? S&lt; 0:00 \_ [bioset] 62 ? S&lt; 0:00 \_ [bioset] 63 ? S&lt; 0:00 \_ [bioset] 64 ? S&lt; 0:00 \_ [bioset] 65 ? S&lt; 0:00 \_ [bioset] 66 ? S&lt; 0:00 \_ [bioset] 67 ? S&lt; 0:00 \_ [bioset] 68 ? S&lt; 0:00 \_ [bioset] 69 ? S&lt; 0:00 \_ [bioset] 70 ? S&lt; 0:00 \_ [VCHIQ-0] 71 ? S&lt; 0:00 \_ [VCHIQr-0] 72 ? S&lt; 0:00 \_ [VCHIQs-0] 73 ? S&lt; 0:00 \_ [iscsi_eh] 74 ? S&lt; 0:00 \_ [dwc_otg] 75 ? S&lt; 0:00 \_ [DWC Notificatio] 77 ? S 0:00 \_ [irq/92-mmc1] 78 ? S 0:00 \_ [VCHIQka-0] 79 ? S&lt; 0:00 \_ [SMIO] 80 ? S&lt; 0:00 \_ [deferwq] 83 ? S&lt; 0:00 \_ [bioset] 84 ? S 0:11 \_ [mmcqd/0] 87 ? S 0:04 \_ [jbd2/mmcblk0p2-] 88 ? S&lt; 0:00 \_ [ext4-rsv-conver] 89 ? S&lt; 0:00 \_ [ipv6_addrconf] 172 ? S 415:15 \_ [w1_bus_master1] 224 ? S&lt; 0:00 \_ [cfg80211] 227 ? S&lt; 0:00 \_ [brcmf_wq/mmc1:0] 229 ? S 0:00 \_ [brcmf_wdog/mmc1] 493 ? S&lt; 0:00 \_ [kworker/1:1H] 550 ? S&lt; 0:00 \_ [kworker/3:1H] 632 ? S&lt; 0:00 \_ [kworker/u9:0] 633 ? S&lt; 0:00 \_ [hci0] 634 ? S&lt; 0:00 \_ [hci0] 638 ? S&lt; 0:00 \_ [kworker/u9:2] 3856 ? S&lt; 0:00 \_ [kworker/2:1H] 9346 ? S&lt; 0:00 \_ [kworker/0:1H] 15564 ? S 0:00 \_ [kworker/1:0] 17556 ? S 0:00 \_ [kworker/u8:2] 17878 ? S 0:00 \_ [kworker/0:0] 17879 ? S 0:00 \_ [kworker/2:2] 19234 ? S 0:00 \_ [kworker/u8:4] 19566 ? S 0:00 \_ [kworker/3:1] 20143 ? S 0:00 \_ [kworker/2:1] 20259 ? S 0:00 \_ [kworker/3:2] 20352 ? S 0:00 \_ [kworker/0:2] 20416 ? S 0:00 \_ [kworker/1:2] 20600 ? S 0:00 \_ [kworker/3:0] 20601 ? S 0:00 \_ [kworker/2:0] 20605 ? S 0:00 \_ [kworker/u8:0] 20725 ? S 0:00 \_ [kworker/0:1] 1 ? Ss 0:10 /sbin/init 134 ? Ss 1:00 /lib/systemd/systemd-journald 136 ? Ss 0:08 /lib/systemd/systemd-udevd 416 ? Ss 0:09 /usr/sbin/cron -f 426 ? Ss 0:01 /lib/systemd/systemd-logind 429 ? Ss 0:00 avahi-daemon: running [raspberrypi.local] 458 ? S 0:00 \_ avahi-daemon: chroot helper 433 ? Ss 0:00 /usr/bin/dbus-daemon --system --address=systemd: --no 450 ? Ss 0:02 /usr/sbin/thd --daemon --triggers /etc/triggerhappy/t 496 ? Ss 0:03 /sbin/wpa_supplicant -s -B -P /run/wpa_supplicant.wla 498 ? Ssl 0:13 /usr/sbin/rsyslogd -n 636 ? S 0:00 /usr/bin/hciattach /dev/serial1 bcm43xx 921600 noflow 640 ? Ss 0:00 /usr/lib/bluetooth/bluetoothd 729 ? Ss 0:02 /sbin/dhcpcd -q -w 749 ? Ss 0:00 /usr/sbin/sshd -D 20726 ? Ss 0:00 \_ sshd: pi [priv] 20732 ? S 0:00 \_ sshd: pi@pts/0 20734 pts/0 Ss 0:00 \_ -bash 20744 pts/0 R+ 0:00 \_ ps -afx 777 tty1 Ss+ 0:00 /sbin/agetty --noclear tty1 linux 907 ? Sl 737:23 ./dump1090 --net --net-sbs-port 30003 915 ? S 11:11 python -O /root/get_message/send_message.py</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso mostra que você pode obter dados do PiAware quase sem forçar, de fato, apenas transferir scripts para o novo sistema. </font><font style="vertical-align: inherit;">E se você já possui uma estação de anúncios - caseira, Flightradar24, Flightaware, o receptor existente pode ser usado a seu critério para outros objetivos e tarefas pessoais com uma consciência completamente limpa.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instale o VariFlight no PiAware</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transferimos os arquivos necessários para o novo sistema do antigo. </font><font style="vertical-align: inherit;">I.e. </font><font style="vertical-align: inherit;">conteúdo do diretório raiz: diretório </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_message e arquivos install.sh, synctime.sh, task.sh. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No diretório get_message:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acars.py </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acars.sh </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> config.ini </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> get_ip.py </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> init.sh </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> send_message.py </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e o arquivo UUID é seu identificador na rede VariFlight. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se você deseja começar a compartilhar dados sem ter um VariFlight Feeder, na primeira vez em que executar o script, seu UUID será gerado. </font><font style="vertical-align: inherit;">Este arquivo e o nome do aeroporto mais próximo devem ser enviados para chengyi (at) variflight.com para criar sua conta no serviço. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seguinte:</font></font><br><pre> <code class="bash hljs">pi@piaware:~ $ sudo apt-get install -y python ntpdate pi@piaware:~ $ su root@piaware:~<span class="hljs-comment"><span class="hljs-comment"># sh task.sh root@piaware:~# crontab -e</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Editando crontab no nano colando </font></font><br><pre> <code class="bash hljs">* * * * * /root/task.sh &gt;/dev/null 2&gt;&amp;1</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Salve o arquivo pressionando [Ctrl + O] e feche [Ctrl + X]. </font></font><br><pre> <code class="bash hljs">root@piaware:~<span class="hljs-comment"><span class="hljs-comment"># chmod 777 task.sh root@piaware:~# reboot</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Após a reinicialização, verificamos a página com suas estatísticas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.feeyo.com/user/rank</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Na quarta coluna, deve haver uma inscrição verde online. </font><font style="vertical-align: inherit;">E na lista de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aeroportos, as</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> placas aceitas (terceira coluna - há quantos segundos atrás um sinal foi recebido da aeronave). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesse ponto, meu rascunho "travou" indefinidamente, porque </font><font style="vertical-align: inherit;">aqui eu queria escrever como executar um script no roteador com openwrt e ModeSMixer para distribuir dados para serviços e, assim, desligar este receptor e aplicá-lo para outros fins. </font><font style="vertical-align: inherit;">Mas ainda não espero tempo livre e decidi publicar como está. </font><font style="vertical-align: inherit;">Talvez alguém </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">queira pedir um</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> receptor </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gratuito</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e este artigo será útil.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ModeSMixer</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um receptor pode distribuir dados para vários serviços e o programa ModeSMixer é usado para isso. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ModeSMixer é um aplicativo de console para combinar e retransmitir fluxos com dados do Modo-S em vários formatos. </font><font style="vertical-align: inherit;">Exemplo de caso de uso:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k_/r_/kg/k_r_kgk9z0hxapzmioayflatyce.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O programa foi projetado para combinar e retransmitir diferentes formatos de fluxos de dados ModeS. </font><font style="vertical-align: inherit;">O programa não possui configurações padrão. </font><font style="vertical-align: inherit;">Tudo é definido por parâmetros. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O parâmetro --inConnect especifica os endereços e portas dos quais os dados são recebidos. </font><font style="vertical-align: inherit;">E o parâmetro --outServer define o formato e a porta dos dados retransmitidos. </font><font style="vertical-align: inherit;">Um exemplo na imagem ficará assim:</font></font><br><pre> <code class="bash hljs">./modesmixer2 --inConnect 192.168.0.105:30005 --inConnect 127.0.0.1:30005 --outServer sbs10001:10001 --outServer beast:31001 --globes 32000:tablename:home --location XX.XXXXX:YY.YYYYY --web 8765 &amp;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O parâmetro --location determina a latitude e longitude do local de instalação da estação e o parâmetro --web determina a porta na qual a interface da web do programa funcionará. Leia mais sobre o programa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de configurar a distribuição para vários serviços, o proprietário da estação recebe associação especial em cada serviço e acesso a informações não públicas e ao arquivo de voos por um determinado período de tempo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No caso de usar o PiAware, os dados já são enviados para o FlightAware e tudo o que resta é coletar esses dados usando o modesmixer2. E no caso do Variflight, você precisa obter os dados do BaseStation em alguma porta livre, por exemplo, 10001. O parâmetro será semelhante a este --outServer msg: 10001. Se necessário, você pode adicionar a porta 10002 para o programa VirtualRadar: --outServer beast: 10002</font></font><br><pre> <code class="bash hljs">./modesmixer2 --inConnect localhost:30005 --inConnect localhost:30105 --outServer msg:10001 --outServer beast:10002 --location &lt;&gt;:&lt;&gt; --web 8765 &amp;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para que isso seja iniciado e reiniciado automaticamente, você precisa editar task.sh, adicionando: </font></font><br><pre> <code class="bash hljs">ps -eaf | grep modesmixer2 | grep -v grep <span class="hljs-comment"><span class="hljs-comment"># if not found - equals to 1, start it if [ $? -eq 1 ] then ./modesmixer2 --inConnect localhost:30005 --inConnect localhost:30105 --outServer msg:10001 --location &lt;&gt;:&lt;&gt; --web 8765 &amp; echo `date "+%G-%m-%d %H:%M:%S"`" modesmixer2 restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" modesmixer2 running" echo "------------------------------------------------------------------------" fi</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por fim, edite o script get_message / send_message.py, especificando uma nova porta de dados: </font></font><br><pre> <code class="python hljs">serverHost = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> serverPort = <span class="hljs-number"><span class="hljs-number">10001</span></span></code> </pre><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enquanto isso,</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enquanto este artigo estava em rascunho, surgiram notícias da China sobre esses serviços. </font><font style="vertical-align: inherit;">Em novembro de 2018, as autoridades chinesas começaram a desativar os receptores ADSB de serviços estrangeiros. </font><font style="vertical-align: inherit;">Isso pode ser visto nas estatísticas públicas das estações de Flightaware na China: </font></font><br><br><img src="https://habrastorage.org/webt/qt/ao/zw/qtaozwosymnimbutqn0miisq_mu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a notícia é que os entusiastas de radar chineses disseram que foram chamados por representantes das autoridades chinesas e visitados pela polícia, que “muito gentil e educadamente” pediu que parassem de enviar dados do ADS-B para o exterior serviços, que aparentemente "comprometem a segurança e a soberania nacional da China".</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alguns alegaram ter recebido uma ligação, mesmo que não tenham recebido um receptor do FlightRadar24 e FlightAware. </font><font style="vertical-align: inherit;">Esses eventos causaram alvoroço entre os entusiastas e muitos deles pararam de transmitir dados ADS-B. </font><font style="vertical-align: inherit;">Sabe-se que o FlightRadar24 tentou anonimizar as estações do usuário na China. </font><font style="vertical-align: inherit;">Ainda não está claro como isso é espetacular. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aviso às autoridades chinesas em inglês:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5g/ib/aq/5gibaqetlgqzcqxaul0ognxlau0.png" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Põe em risco a segurança nacional e a soberania da China", o fato de que esses serviços permitem a localização de aeronaves chinesas (americanas, européias e de outros países da ex-URSS). </font><font style="vertical-align: inherit;">Por exemplo, a trajetória semanal do UAV de reconhecimento estratégico americano sobre águas internacionais a uma altitude de 16 km:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hv/zz/oy/hvzzoywpk5ukuehepkkdjgcbvt0.png" alt="imagem" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem dois sistemas de radar secundários no mundo dos EUA e da URSS. </font><font style="vertical-align: inherit;">Portanto, esses receptores e serviços não podem mostrar o paradeiro da maioria dos aviões "soviéticos", helicópteros, a menos que estejam equipados com um transponder de radar "americano", necessário apenas para voos no espaço aéreo, por exemplo, EUA ou UE. </font><font style="vertical-align: inherit;">Portanto, você pode ver algo interessante no território da Federação Russa nas áreas de fronteira, de preferência à beira-mar. </font><font style="vertical-align: inherit;">Por exemplo, o oficial de inteligência americano mencionado acima é notavelmente visível em Krasnodar. </font><font style="vertical-align: inherit;">Devido a essa localização costeira do receptor, o serviço PlaneRadar acima mencionado periodicamente recebe as notícias da mídia russa.</font></font><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1067760621398253569"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS VariFlight ADS-B </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">lança</font></a><font style="vertical-align: inherit;"> versão em inglês - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.variflight.com</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt423989/">https://habr.com/ru/post/pt423989/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt423979/index.html">Painel de biomarcadores do envelhecimento saudável do Reino Unido</a></li>
<li><a href="../pt423981/index.html">Livro DDIA (livro com um porco) - suba de nível na compreensão de bancos de dados</a></li>
<li><a href="../pt423983/index.html">11 bibliotecas de visualização JavaScript que vale a pena conhecer em 2018</a></li>
<li><a href="../pt423985/index.html">Roskomnadzor propõe abolir a neutralidade da rede em redes 5G</a></li>
<li><a href="../pt423987/index.html">Como se tornar um programador Java</a></li>
<li><a href="../pt423991/index.html">Segredos de gerenciamento de assinaturas da Apple App Store</a></li>
<li><a href="../pt423993/index.html">Como desenhar um buraco negro. Rastreamento de raios geodésicos no espaço-tempo curvo</a></li>
<li><a href="../pt423995/index.html">Limpeza em uma oficina geek. Parte 2</a></li>
<li><a href="../pt423997/index.html">"IT CRIMEA": um novo parque tecnológico em Sebastopol - começará a funcionar no final deste ano</a></li>
<li><a href="../pt423999/index.html">Os dados do usuário do Windows em um PC com suporte à entrada por toque são gravados em um arquivo separado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>