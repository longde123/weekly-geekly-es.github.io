<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüåæ üîÑ üìµ Kubernetes 1.15: Vis√£o geral dos destaques üç¨ ü§õüèª üßöüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A segunda-feira deveria ocorrer oficialmente ( mas at√© agora isso n√£o aconteceu ... ATUALIZADO 20/06 : o an√∫ncio apareceu no blog do K8s) O pr√≥ximo la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kubernetes 1.15: Vis√£o geral dos destaques</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/456084/"><img src="https://habrastorage.org/webt/dy/xn/j8/dyxnj8d_ebukiyin8evgrfph4es.png"><br><br>  A segunda-feira <a href="">deveria</a> ocorrer oficialmente <i>( <s>mas at√© agora isso n√£o aconteceu ...</s> <b>ATUALIZADO 20/06</b> : o an√∫ncio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apareceu</a> no blog do K8s) O</i> pr√≥ximo lan√ßamento do <i>Kubernetes</i> √© a <a href="">1,15</a> .  De acordo com a tradi√ß√£o que se desenvolveu para o nosso blog, falamos das mudan√ßas mais significativas na nova vers√£o. <br><br>  As informa√ß√µes usadas para preparar este material s√£o retiradas da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tabela de rastreamento de aprimoramentos do Kubernetes</a> , <a href="">CHANGELOG-1.15</a> e quest√µes relacionadas, solicita√ß√µes pull, bem como das Propostas de aprimoramento do Kubernetes (KEP).  Desde que a confer√™ncia KubeCon em Xangai ser√° realizada na pr√≥xima semana, este lan√ßamento teve um ciclo de 11 semanas mais curto (em vez de 12 semanas), o que, no entanto, n√£o afetou significativamente o n√∫mero de mudan√ßas significativas.  Ent√£o vamos l√° .. <a name="habracut"></a><br><br><h2>  Data warehouses </h2><br>  Introduziu uma <b>nova API <code>ExecutionHook</code></b> , que permite executar dinamicamente comandos do usu√°rio em um pod / cont√™iner ou grupo de pods / cont√™ineres e, com ele, o controlador correspondente ( <code>ExecutionHookController</code> ) que implementa o gerenciamento do ciclo de vida do gancho.  A motiva√ß√£o para a apar√™ncia desse recurso foi o desejo de fornecer aos usu√°rios a capacidade de criar / excluir snapshots de acordo com a l√≥gica do aplicativo, ou seja,  execute qualquer comando espec√≠fico do aplicativo antes e depois de criar o instant√¢neo.  Sup√µe-se que esses ganchos tamb√©m possam ser √∫teis em outras situa√ß√µes - por exemplo, executando atualiza√ß√µes, depura√ß√£o, atualiza√ß√£o de arquivos de configura√ß√£o, reiniciando o cont√™iner, preparando-se para outros eventos como migra√ß√£o de banco de dados.  Status atual - vers√£o alfa (com tradu√ß√£o para beta para o pr√≥ximo lan√ßamento), detalhes - no <a href="">KEP</a> . <br><br>  <b>No armazenamento ef√™mero</b> , que permite diferenciar pods / cont√™ineres espec√≠ficos do volume de espa√ßo <i>compartilhado (armazenamento compartilhado)</i> , <b><a href="">foi</a> adicionado <a href="">suporte para cotas do</a></b> sistema de arquivos.  Esse novo mecanismo usa cotas de projeto (cotas de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">projeto</a> ) dispon√≠veis no XFS e ext4, fornecendo monitoramento do consumo de recursos e a imposi√ß√£o opcional de limites a eles.  Status atual - vers√£o alfa;  os planos para vers√µes futuras ainda n√£o foram especificados. <br><br>  Outro novo recurso introduzido pelo sig-storage √© o uso de PVCs existentes como <code>DataSource</code> para criar novos PVCs.  Em outras palavras, esta √© uma <b>implementa√ß√£o da fun√ß√£o de clonagem de volume</b> .  Os clones devem ser diferenciados dos instant√¢neos, pois cada clone √© um volume novo e "completo": √© criado como uma c√≥pia de um existente, mas segue completamente o ciclo de vida dos volumes comuns (diferente dos instant√¢neos, embora sejam c√≥pias de volumes em um determinado momento, mas n√£o independentes). volumes).  Ilustra√ß√£o da oportunidade: <br><br><pre> <code class="plaintext hljs">kind: PersistentVolumeClaim apiVersion: v1 metadata: name: pvc-2 namespace: myns spec: capacity: storage: 10Gi dataSource: kind: PersistentVolumeClaim name: pvc-1</code> </pre> <br>  <i>Nesse caso, um novo PV / PVC independente ( <code>pvc-2</code> ) ser√° criado contendo os mesmos dados que no <code>pvc-1</code> .</i>  <i>√â indicado que o novo PVC deve ter o mesmo espa√ßo para nome que o original.</i> <br><br>  As limita√ß√µes existentes s√£o <code>CLONE_VOLUME</code> apenas pelo provisionador din√¢mico e apenas pelos plug-ins CSI (eles devem ter o recurso <code>CLONE_VOLUME</code> ).  Leia mais em <a href="">KEP</a> . <br><br>  Os seguintes recursos "cresceram" para o status da vers√£o beta (e, portanto, a ativa√ß√£o nas instala√ß√µes padr√£o do Kubernetes): <br><br><ul><li>  <a href="">Fun√ß√£o de</a> expans√£o de tamanho de volume persistente "online", ou seja,  sem a necessidade de reiniciar o pod usando o PVC apropriado.  Pela primeira vez (no status alfa), apareceu no K8s 1.11. </li><li>  <a href="">Suporte para</a> vari√°veis ‚Äã‚Äãde ambiente para nomes de diret√≥rio montados como <code>subPath</code> , que foi introduzido pela primeira vez no K8s 1.11 e desenvolvido no passado 1.14. </li></ul><br>  Mas o processo de migra√ß√£o das partes internas dos plug-ins antigos para reposit√≥rios implementados dentro da base de c√≥digo Kubernetes (na √°rvore) se arrastou a favor dos plug-ins para a nova interface CSI.  Esperava-se que o lan√ßamento da vers√£o 1.15 conclu√≠sse a migra√ß√£o de todos os plug-ins dos provedores de nuvem, no entanto, foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">decidido</a> manter o status da vers√£o alfa, pois o recurso depende das APIs introduzidas no K8s 1.15 e at√© agora implementadas apenas na vers√£o alfa (em particular, estamos falando de melhorias no suporte do Azure: plug-ins de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">arquivo</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">disco do Azure</a> no csi-translation-lib). <br><br><h2>  Planejador </h2><br>  Duas inova√ß√µes not√°veis ‚Äã‚Äã- ambas na forma alfa at√© agora - est√£o dispon√≠veis no Kubernetes Scheduler. <br><br>  A primeira √© a <b>estrutura de agendamento</b> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Kubernetes Scheduling Framework</a> ), que √© um novo conjunto de APIs para plug-ins que ampliam os recursos de um agendador existente.  Os plug-ins s√£o criados fora do reposit√≥rio principal (fora da √°rvore), mas s√£o inclu√≠dos no planejador durante a compila√ß√£o.  Assim, o n√∫cleo funcional do agendador permanece o mais simples e conveniente de oferecer suporte, e recursos adicionais s√£o implementados separadamente, sem as muitas restri√ß√µes que a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">maneira atual de</a> expandir os recursos do agendador "sofreu" com a ajuda dos webhooks. <br><br>  Na nova estrutura, cada tentativa de agendamento de pod √© dividida em dois est√°gios: <br><br><ul><li>  <i>ciclo de agendamento</i> - onde o n√≥ do pod est√° selecionado, </li><li>  e liga√ß√£o <i>(ciclo de liga√ß√£o)</i> - onde a solu√ß√£o selecionada √© implementada dentro do cluster. </li></ul><br>  Em cada um desses est√°gios (juntos, eles tamb√©m s√£o chamados de <i>contexto de agendamento</i> ), existem muitos <i>pontos de extens√£o</i> , em cada um dos quais os plug-ins de estrutura podem ser chamados. <br><br><img src="https://habrastorage.org/webt/9m/2m/0p/9m2m0pnjignm_ozrazd_0fuiuza.png"><br>  <i>(Ciclo de vida para chamar plug-ins na Estrutura de agendamento.)</i> <br><br>  Como parte da vers√£o alfa da estrutura, apenas pontos <i>Reserve</i> , <i>Unreserve</i> e <i>Prebind s√£o implementados</i> .  Leia mais sobre essa inova√ß√£o massiva na <a href="">KEP</a> . <br><br>  A segunda √© a <b>op√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Non-Preempting</a> para <code>PriorityClasses</code></b> . <br><br>  As classes priorit√°rias receberam status est√°vel (GA) na √∫ltima vers√£o do Kubernetes, o que afetou o planejamento e a sele√ß√£o de pods: os pods s√£o planejados de acordo com a prioridade e, se o pod n√£o puder ser criado devido √† falta de recursos, os pods prioridade mais baixa pode ser exclu√≠da para liberar o espa√ßo necess√°rio. <br><br>  A nova op√ß√£o - <code>Preempting</code> , definida como um booleano na estrutura <code>PriorityClass</code> , significa: se um pod estiver aguardando seu planejamento e tiver <code>Preempting=false</code> , a cria√ß√£o <b>n√£o</b> impedir√° outros pods.  Este campo aparece no <code>PodSpec</code> durante o processo de <i>admiss√£o</i> do <i>pod</i> (semelhante ao valor de <code>PriorityClass</code> ).  Detalhes da implementa√ß√£o est√£o no <a href="">KEP</a> . <br><br><h2>  API Machinery </h2><br>  Para <b>CustomResources</b> , s√£o apresentadas melhorias projetadas para implementar os dados armazenados dessa maneira (dentro da estrutura do JSON no CRD), um comportamento que melhor corresponde √† API Kubernetes geralmente aceita (para objetos K8s "nativos"): <br><br><ul><li>  <b>exclus√£o autom√°tica de campos</b> n√£o especificados nos esquemas de valida√ß√£o do OpenAPI - para obter detalhes, consulte KEP "Poding <a href="">for Custom Resources</a> "; </li><li>  a capacidade de definir <i>valores</i> <b>padr√£o</b> para campos nos esquemas de valida√ß√£o do OpenAPI v3, o que √© especialmente importante para manter a compatibilidade da API ao adicionar novos campos aos objetos. Para obter detalhes, consulte o KEP "Padr√£o <a href="">para recursos personalizados</a> ". </li></ul><br>  Ambos os recursos foram planejados originalmente para serem inclu√≠dos no lan√ßamento do K8s 1.12, mas somente agora eles s√£o apresentados em vers√µes alfa. <br><br>  As mudan√ßas na DRC n√£o se limitaram a isso: <br><br><ul><li>  <a href="">Publicar o</a> recurso <a href="">CRAP OpenAPI</a> - ou seja,  a valida√ß√£o CustomResources do lado do servidor (usando o esquema OpenAPI v3) introduzida na √∫ltima vers√£o do Kubernetes - chegou √† vers√£o beta e agora est√° ativada por padr√£o; </li><li>  <a href="">O mecanismo de</a> convers√£o de vers√£o <a href="">para</a> recursos CRD baseado em webhooks externos tamb√©m foi convertido para beta. </li></ul><br>  Outra inova√ß√£o interessante √© chamada de <a href=""><b>marcador de rel√≥gio</b></a> .  Sua ess√™ncia se resume a adicionar um novo tipo de evento √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">API Watch</a> - <code>Bookmark</code> .  Esse tipo significa um r√≥tulo que todos os objetos at√© uma certa <code>resourceVersion</code> j√° foram processados ‚Äã‚Äãpelo rel√≥gio.  Esse mecanismo reduzir√° a carga no kube-apiserver, reduzindo o n√∫mero de eventos que precisam ser processados ‚Äã‚Äãtoda vez que o rel√≥gio for reiniciado, al√©m de reduzir o n√∫mero de erros indesejados, como <i>"vers√£o do recurso muito antiga"</i> .  No Kubernetes 1.15, o recurso tem o status da vers√£o alfa e seu aumento para beta √© esperado para a pr√≥xima vers√£o. <br><br><pre> <code class="plaintext hljs"> Added EventType = "ADDED" Modified EventType = "MODIFIED" Deleted EventType = "DELETED" Error EventType = "ERROR" Bookmark EventType = "BOOKMARK"</code> </pre> <br>  <i>(Tipos de eventos poss√≠veis na API do Watch.)</i> <br><br>  No Webhooks de Admiss√£o: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Adicionado</a> suporte para um <i><a href="">seletor de objetos</a></i> , al√©m dos seletores de namespace existentes </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">implementou a</a> capacidade de registrar uma vers√£o espec√≠fica de um recurso e chamar quando qualquer vers√£o mais antiga desse recurso √© modificada; </li><li>  O campo <code>Option</code> foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adicionado</a> √† API AdmissionReview, op√ß√µes de relat√≥rio para a opera√ß√£o que est√° sendo executada. </li></ul><br><h2>  Rede </h2><br>  Uma inova√ß√£o significativa na parte de rede do Kubernetes √© a chamada " <i>Finalizer Protection"</i> para balanceadores de carga.  Agora, antes de excluir os recursos do LoadBalancer, √© verificado se o recurso de Servi√ßo correspondente n√£o foi completamente exclu√≠do.  Para fazer isso, um chamado finalizador √© anexado a cada servi√ßo com o <code>type=LoadBalancer</code> : quando esse servi√ßo √© exclu√≠do, a exclus√£o real do recurso √© bloqueada at√© que o finalizador seja exclu√≠do e o finalizador n√£o √© exclu√≠do at√© que a "elimina√ß√£o" dos recursos do balanceador de carga correspondente seja conclu√≠da ( <code>service.kubernetes.io/load-balancer-cleanup</code> ).  A vers√£o atual da implementa√ß√£o √© a vers√£o alfa, e detalhes sobre isso podem ser encontrados no <a href="">KEP</a> . <br><br>  Al√©m disso: <br><br><ul><li>  O <a href="">plug-</a> in <a href="">NodeLocal DNS Cache</a> introduzido no Kubernetes 1.13 e melhorando o desempenho do DNS chegou √† vers√£o beta. </li><li>  O Kube-proxy n√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">remove</a> mais automaticamente as regras de rede criadas como resultado de sua opera√ß√£o em outros modos (isso requer o lan√ßamento expl√≠cito do <code>kube-proxy --cleanup</code> ). </li></ul><br><h2>  CLI </h2><br>  Como sempre, havia algumas pequenas coisas agrad√°veis ‚Äã‚Äãnos comandos do console para trabalhar com os clusters do Kubernetes: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A transfer√™ncia do</a> <code>kubectl get</code> para receber dados do servidor (e n√£o do cliente) para dar suporte total √†s extens√µes √© declarada conclu√≠da (est√°vel). </li><li>  No <code>kubectl top</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adicionada a</a> op√ß√£o <code>--sort-by</code> : <br><br><pre> <code class="bash hljs">$ kubectl --kubeconfig=kubectl.kubeconfig top pod --sort=memory NAME CPU(cores) MEMORY(bytes) elasticsearch-logging-v1-psc43 2m 2406Mi hadoop-journalnode-2 13m 362Mi hodor-v0.0.5-3204531036-fqb0q 23m 64Mi kubernetes-admin-mongo-... 5m 44Mi cauth-v0.0.5-2463911897-165m8 34m 10Mi <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-1440672787-kvx8h 0m 1Mi</code> </pre> </li><li>  Na <code>kubectl rollout restart</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adicionado</a> suporte para DaemonSets e StatefulSets. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Um</a> novo comando do <code>kubeadm upgrade node</code> foi <code>kubeadm upgrade node</code> para atualizar os n√≥s do cluster, substituindo (agora declarado obsoleto) a <code>kubeadm upgrade node config</code> <code>kubeadm upgrade node experimental-control-plane</code> e o <code>kubeadm upgrade node experimental-control-plane</code> . </li><li>  Novos comandos de <code>kubeadm alpha certs certificate-key</code> (para gerar uma chave aleat√≥ria, que pode ser passada para <code>kubeadm init --experimental-upload-certs</code> ) e <code>kubeadm alpha certs check-expiration</code> (para verificar o per√≠odo de validade dos certificados PKI locais). </li><li>  O comando <code>kubeadm config upload</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">foi</a> descontinuado porque sua substitui√ß√£o ( <code>kubeadm init phase upload-config</code> ) amadureceu. </li></ul><br><h2>  Outros </h2><br>  Entre outras mudan√ßas not√°veis ‚Äã‚Äãno Kubernetes 1.15: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Foi</a> adicionado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">suporte ao</a> PDB (Pod Disruption Budget) para recursos / controladores baseados em CRD de terceiros (por exemplo: EtcdCluster, MySQLReplicaSet ...) usando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sub-</a> recurso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Scale</a> .  At√© agora, esta √© uma vers√£o beta que ficar√° est√°vel no pr√≥ximo lan√ßamento.  Os detalhes est√£o no <a href="">KEP</a> . </li><li>  Dois recursos para n√≥s / Kubelet chegaram √† vers√£o beta: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">suporte para</a> plug-ins de monitoramento de dispositivos de terceiros (para remover todo o conhecimento espec√≠fico do dispositivo do Kubelet, ou seja, fora da √°rvore) e <a href=""><code>SupportNodePidsLimit</code></a> (isolamento de PIDs do n√≥ para o pods). </li><li>  <a href=""><b>O suporte aos m√≥dulos Go</b></a> foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adicionado</a> e ativado por padr√£o <a href=""><b>para</b></a> a base de c√≥digo do Kubernetes (em vez do modo Godep e GOPATH, que est√° obsoleto). </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O suporte ao</a> AWS NLB (Network Load Balancer), introduzido pela primeira vez no K8s 1.9, atingiu o n√≠vel beta.  Em particular, ela conseguiu configurar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>accessLogs</code></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">encerrar o TLS</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code> LoadBalancerSourceRanges</code></a> . </li><li>  Implementou a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">capacidade de</a> configurar o provedor de nuvem do Azure a partir dos segredos do Kubernetes (para isso, uma nova op√ß√£o <code>cloudConfigType</code> foi <code>cloudConfigType</code> , uma das quais pode ser <code>secret</code> ).  Al√©m disso, o Kubelet no Azure agora <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pode funcionar</a> sem a identidade do Azure ( <code>useInstanceMetadata</code> deve estar habilitado para isso). </li><li>  No ciclo de vida do cluster, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">possibilidade de</a> criar clusters de HA usando o kubeadm foi trazida para a vers√£o beta e eles tamb√©m conclu√≠ram a pr√≥xima etapa (v1beta2) na <a href="">reorganiza√ß√£o do</a> formato do arquivo de configura√ß√£o do kubeadm. </li><li>  O n√∫mero de pods no status <i>pendente</i> em diferentes filas √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adicionado √†s</a> m√©tricas do planejador e s√£o adicionadas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">estat√≠sticas</a> sobre volumes atrav√©s das m√©tricas de volume kubelet da CSI. </li><li>  Atualiza√ß√µes no software usado / dependente: V√° para 1.12.5, cri-tools 1.14.0, etcd 3.3.10 <i>(a vers√£o n√£o foi alterada para o servidor, mas foi atualizada para o cliente)</i> .  As vers√µes do CNI, CSI, CoreDNS n√£o foram alteradas <i>(em uma das vers√µes alfa do Kubernetes 1.15, ela foi atualizada para a 1.5.0, mas depois revertida para a 1.3.1)</i> , vers√µes suportadas do Docker. </li></ul><br><h2>  PS </h2><br>  Leia tamb√©m em nosso blog: <br><br><ul><li>  ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Kubernetes 1.14: uma vis√£o geral das principais inova√ß√µes</a> ‚Äù; </li><li>  ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Kubernetes 1.13: uma vis√£o geral das principais inova√ß√µes</a> ‚Äù; </li><li>  ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Kubernetes 1.12: Vis√£o geral das principais inova√ß√µes</a> ‚Äù; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Kubernetes 1.11: Uma vis√£o geral das principais inova√ß√µes</a> . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt456084/">https://habr.com/ru/post/pt456084/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt456070/index.html">Como atrair usu√°rios para o portal de autoatendimento</a></li>
<li><a href="../pt456072/index.html">Dav1d - o decodificador AV1 mais r√°pido agora no Firefox por padr√£o</a></li>
<li><a href="../pt456076/index.html">Meetup sobre PyDaCon no grupo Mail.ru: 22 de junho</a></li>
<li><a href="../pt456078/index.html">Proje√ß√£o de conflito corporativo na conectividade de rede</a></li>
<li><a href="../pt456082/index.html">Como desenvolvemos recomenda√ß√µes personalizadas de produtos</a></li>
<li><a href="../pt456086/index.html">Storyboards para iOS: an√°lise dos pr√≥s e contras, melhores pr√°ticas</a></li>
<li><a href="../pt456088/index.html">Problemas de an√°lise de big data</a></li>
<li><a href="../pt456090/index.html">Introdu√ß√£o ao teste de unidade no Unity</a></li>
<li><a href="../pt456092/index.html">Sete sinais preocupantes de que voc√™ depende do clima, mesmo que voc√™ n√£o pense</a></li>
<li><a href="../pt456094/index.html">Lemos as fichas t√©cnicas 2: SPI no STM32; Temporizadores PWM e interrup√ß√µes no STM8</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>