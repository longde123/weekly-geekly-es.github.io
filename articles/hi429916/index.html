<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСКЁЯП╗ ЁЯПи ЁЯМЕ рдирд┐рд░реНрдорд╛рдг рдФрд░ рдирд┐рд░реНрдорд╛рдг рдХреИрд╕реЗ рдХрд░реЗрдВ ЁЯСитАНтЭдя╕ПтАНЁЯТЛтАНЁЯСи ЁЯРЪ ЁЯЩМЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкреНрд░рд╛рдЧрд┐рддрд┐рд╣рд╛рд╕ 


 рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╡рд┐рдХрд╛рд╕ рдореЗрдВ рдХрдИ рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рдЙрди рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдореБрд▓рд╛рдХрд╛рдд рдХреА рдЧрдИ рдЬрд╣рд╛рдВ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдорд╛рдиреНрдп рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдерд╛, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рдХрд┐ рдХрд┐рд╕реА...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдирд┐рд░реНрдорд╛рдг рдФрд░ рдирд┐рд░реНрдорд╛рдг рдХреИрд╕реЗ рдХрд░реЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429916/"><h2 id="predystoriya">  рдкреНрд░рд╛рдЧрд┐рддрд┐рд╣рд╛рд╕ </h2><br><p>  рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╡рд┐рдХрд╛рд╕ рдореЗрдВ рдХрдИ рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рдЙрди рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдореБрд▓рд╛рдХрд╛рдд рдХреА рдЧрдИ рдЬрд╣рд╛рдВ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдорд╛рдиреНрдп рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдерд╛, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рдХрд┐ рдХрд┐рд╕реА рднреА рддрд░рд╣ рдЗрд╕ рдореБрджреНрджреЗ рдХреЛ рд╣рд▓ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдерд╛ред  рдЗрд╕ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛рд░реНрдп рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛: <br>  рдПрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╡рд┐рдХрд╕рд┐рдд рдХрд░реЗрдВ рдЬреЛ рд╕рдХреНрд╖рдо рдХрд░реЗрдЧрд╛: </p><br><ul><li>  рдорд╛рдиреНрдп <strong>рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░</strong> ; </li><li>  рдЕрдорд╛рдиреНрдп рдлрд╝реАрд▓реНрдб рдпрд╛ рддрддреНрд╡реЛрдВ рдХреЗ рдмрдЬрд╛рдп <strong>рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди</strong> рд╕реЗрдЯ рдХрд░реЗрдВ; </li><li>  <strong>рдХрд┐рд╕реА</strong> рд╡рд╕реНрддреБ рдпрд╛ рд╕рд░рдгреА рдХреЗ <strong>рдЕрдорд╛рдиреНрдп рднрд╛рдЧреЛрдВ рдХреЛ рд╣рдЯрд╛рдирд╛</strong> ; </li><li>  <strong>рдПрдХ рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢</strong> рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ </li></ul><br><p>  рдЬрд┐рд╕рдХрд╛ рдЖрдзрд╛рд░ рд╣реЛрдЧрд╛: </p><br><ul><li>  рд╕реАрдЦрдирд╛ рдЖрд╕рд╛рди рд╣реИ </li><li>  рдкреНрд░рд╛рдкреНрдд рдХреЛрдб рдХреА рдкрдардиреАрдпрддрд╛ред </li><li>  рдХреЛрдб рд╕рдВрд╢реЛрдзрди рдореЗрдВ рдЖрд╕рд╛рдиреА </li></ul><br><p>  рдЗрди рд▓рдХреНрд╖реНрдпреЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдЪреМрд░рд╛рдЧрд╛">рдЪреМрдХрдбрд╝реА</a> рдорд╛рдиреНрдпрддрд╛ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><a name="habracut"></a><br><h2 id="osnovnye-kirpichi-validacii">  рдореВрд▓ рдорд╛рдиреНрдпрддрд╛ рдИрдВрдЯреЗрдВ </h2><br><p>  рдЕрдзрд┐рдХрд╛рдВрд╢ рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЗ рджрд┐рд▓ рдореЗрдВ рдЬреЛ рдХрд╛рд░реНрдпреЛрдВ рдХреА рдПрдХ рд╡рд┐рд╕реНрддреГрдд рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рд▓рд╛рдЧреВ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдП рдЧрдП рд╣реИрдВ, рд╕рдмрд╕реЗ рд╕рд░рд▓ <strong>рддрддреНрд╡ рд╣реИрдВ</strong> : рдХреНрд░рд┐рдпрд╛рдПрдВ, рдбреЗрдЯрд╛ рдФрд░ рдПрд▓реНрдЧреЛрд░рд┐рджрдоред  рд╕рд╛рде рд╣реА рдЙрдирдХреА <strong>рд░рдЪрдирд╛ рдХреЗ</strong> рддрд░реАрдХреЗ - рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд░рд▓ рддрддреНрд╡реЛрдВ рд╕реЗ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдХреБрдЫ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред </p><br><h3 id="validator">  рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ </h3><br><p> рдЪреМрдХрдбрд╝реА рдкреБрд╕реНрддрдХрд╛рд▓рдп рдПрдХ <strong>рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛</strong> рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИред  рдЗрд╕ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдлреЙрд░реНрдо рдХреЗ рдХрд╛рд░реНрдп рд╣реИрдВ </p><br><pre><code class="plaintext hljs">function validator( value: any, { key: string|int, parent: any }, { key: string|int, parent: any }, ... ): boolean</code> </pre> <br><p>  рдЗрд╕ рдкрд░рд┐рднрд╛рд╖рд╛ рдореЗрдВ рдХрдИ рдмрд╛рддреЗрдВ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: </p><br><p>  <strong><code>function(...): boolean</code></strong> - рдХрд╣рддрд╛ рд╣реИ рдХрд┐ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ - рд╕рддреНрдпрд╛рдкрди рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреА рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рд╕рддреНрдпрд╛рдкрди рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдПрдХ рдмреБрд▓рд┐рдпрди рдореВрд▓реНрдп рд╣реИ - <strong>рд╕рд╣реА</strong> рдпрд╛ <strong>рдЧрд▓рдд</strong> , рдХреНрд░рдорд╢рдГ <strong>рдорд╛рдиреНрдп</strong> рдпрд╛ <strong>рдорд╛рдиреНрдп рдирд╣реАрдВ</strong> </p><br><p>  <strong><code>value: any</code></strong> - рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ - рдПрдХ <strong>рдореВрд▓реНрдп</strong> рдХреЛ рдорд╛рдиреНрдп рдХрд░рдиреЗ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреА рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐рд╕реА рднреА рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореВрд▓реНрдп рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдпрд╛ рддреЛ <strong>рдорд╛рдиреНрдп рдореВрд▓реНрдп</strong> рдХреЛ рд╡реИрдз рдпрд╛ рдЕрдорд╛рдиреНрдп рдмрддрд╛рддрд╛ рд╣реИред </p><br><p>  <strong><code>{ key: string|int, parent: any }, ...</code></strong> - рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╡реИрд▓реНрдпреВрдб рдиреЗрд╕реНрдЯрд┐рдВрдЧ рдХрд░рдиреЗ рдХреЗ рд╕реНрддрд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡реЗрд░рд┐рдлрд╛рдЗрдб рд╡реИрд▓реНрдпреВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рдВрджрд░реНрднреЛрдВ рдореЗрдВ рд╣реЛ рд╕рдХрддреА рд╣реИред  рдЖрдЗрдП рдЗрд╕реЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рджрд┐рдЦрд╛рдПрдВ </p><br><p>  <strong>рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕рдВрджрд░реНрдн рдХреЗ</strong> рдЙрджрд╛рд╣рд░рдг рдореВрд▓реНрдп </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-comment"><span class="hljs-comment">//         . //         : const isValueValid = validator(4)</span></span></code> </pre> <br><p>  <b>рдПрдХ рд╕рд░рдгреА рд╕рдВрджрд░реНрдн рдореЗрдВ</b> рдЙрджрд╛рд╣рд░рдг рдореВрд▓реНрдп </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  0 1 2 3 4 const arr = [1, 2, 3, value, 5] //       (k): 3 //      : [1, 2, 3, value, 5] //    value -      const isValueValid = validator(4, { key: 3, parent: [1,2,3,4,5] })</span></span></code> </pre> <br><p>  <b>рдХрд┐рд╕реА рд╡рд╕реНрддреБ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ</b> рдЙрджрд╛рд╣рд░рдг рдореВрд▓реНрдп </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">c</span></span>: value, <span class="hljs-attr"><span class="hljs-attr">d</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span> } <span class="hljs-comment"><span class="hljs-comment">//        'c' //       : { a: 1, b: 2, c: 4, d: 8 } //    value -   //   : const isValueValid = validator(4, { key: 'c', parent: { a: 1, b: 2, c: 4, d: 8 } })</span></span></code> </pre> <br><p>  рдЪреВрдВрдХрд┐ рдХрд┐рд╕реА рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдореЗрдВ рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рдШреЛрдВрд╕рд▓реЗ рдХреЗ рд╢рд┐рдХрд╛рд░ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╣ <b>рд╡рд┐рднрд┐рдиреНрди рд╕рдВрджрд░реНрднреЛрдВ рдХреЗ</b> рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ <b>рд╣реИ</b> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> arrOfObj = [{ <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">c</span></span>: value, <span class="hljs-attr"><span class="hljs-attr">d</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span> }, <span class="hljs-comment"><span class="hljs-comment">// ... ] //   c     'c' //    : { a: 1, b: 2, c: 4, d: 8 } //        arrOfObj, //       0. //    value -      const isValueValid = validator( 4, { key: 'c', parent: { a: 1, b: 2, c: 4, d: 8 } } { key: 0, parent: [{ a: 1, b: 2, c: 4, d: 8 }] } )</span></span></code> </pre> <br><p>  рдФрд░ рдЗрд╕реА рддрд░рд╣ред </p><br><div class="spoiler">  <b class="spoiler_title">рд╕рд░рдгреА рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдорд╛рдирддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</b> <div class="spoiler_text"><p>  рдПрдХ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдХреА рдпрд╣ рдкрд░рд┐рднрд╛рд╖рд╛ рдЖрдкрдХреЛ рдЙрди рдХрд╛рд░реНрдпреЛрдВ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдХреЛ рдпрд╛рдж рджрд┐рд▓рд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬреЛ рд╕рд░рдгреА рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ: <strong>рдирдХреНрд╢рд╛, рдлрд╝рд┐рд▓реНрдЯрд░, рдХреБрдЫ, рд╣рд░</strong> , рдЖрджрд┐ред </p><br><ul><li>  рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓рд╛ рддрд░реНрдХ <strong>рдПрдХ рд╕рд░рдгреА рддрддреНрд╡ рд╣реИред</strong> </li><li>  рджреВрд╕рд░рд╛ рддрд░реНрдХ <strong>рддрддреНрд╡ рдХрд╛ рд╕реВрдЪрдХрд╛рдВрдХ рд╣реИред</strong> </li><li>  рддреАрд╕рд░рд╛ рддрд░реНрдХ <strong>рд╕реНрд╡рдпрдВ рд╕рд░рдгреА рд╣реИред</strong> </li></ul><br><p>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдПрдХ рдЕрдзрд┐рдХ рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд рдХрд╛рд░реНрдп рд╣реИ - рдпрд╣ рди рдХреЗрд╡рд▓ рд╕рд░рдгреА рдФрд░ рд╕рд░рдгреА рдореЗрдВ рддрддреНрд╡ рдХреЗ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЛ рд▓реЗрддрд╛ рд╣реИ, рдмрд▓реНрдХрд┐ рд╕рд░рдгреА рдХреЗ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЛ рднреА рдЕрдкрдиреЗ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдФрд░ рдЙрд╕рдХреЗ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдореЗрдВ рд▓реЗ рдЬрд╛рддрд╛ рд╣реИред </p></div></div><br><h3 id="chto-nam-stoit-dom-postroit">  рд╣рдореЗрдВ рдХреНрдпрд╛ рдШрд░ рдмрдирд╛рдирд╛ рдЪрд╛рд╣рд┐рдП? </h3><br><p>  рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рдИрдВрдЯреЗрдВ рдЕрдиреНрдп <em>"рдкрддреНрдерд░ рдХреЗ рд╕рдорд╛рдзрд╛рди" рдХреЗ</em> рдмреАрдЪ рдмрд╛рд╣рд░ рдирд╣реАрдВ рдЦрдбрд╝реА рд╣реЛрддреА рд╣реИрдВ рдЬреЛ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмреИрд╕рд╛рдЦреА <em>"рд╕рдореБрджреНрд░ рддрдЯ"</em> рдкрд░ рдЭреВрда рдмреЛрд▓ рд░рд╣реА рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдЖрдЗрдП рдЙрдирд╕реЗ рдирд┐рд░реНрдорд╛рдг рдХрд░реЗрдВ, рдХреБрдЫ рдЕрдзрд┐рдХ рд╕реБрд╕рдВрдЧрдд рдФрд░ рджрд┐рд▓рдЪрд╕реНрдкред  рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ <strong>рд░рдЪрдирд╛ рд╣реИ</strong> ред </p><br><h3 id="kak-postroit-neboskryob-validacii-obektov">  рдСрдмреНрдЬреЗрдХреНрдЯ рд╕рддреНрдпрд╛рдкрди рдХреЗ рдЧрдЧрдирдЪреБрдВрдмреА рдЗрдорд╛рд░рдд рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХреИрд╕реЗ рдХрд░реЗрдВ? </h3><br><p>  рд╕рд╣рдордд рд╣реЛрдирд╛, рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдорд╛рдиреНрдп рдХрд░рдирд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реЛрдЧрд╛ рдХрд┐ рд╕рддреНрдпрд╛рдкрди рдХрд╛ рд╡рд┐рд╡рд░рдг рд╡рд╕реНрддреБ рдХреЗ рд╡рд┐рд╡рд░рдг рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдо <strong>рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛рдУрдВ</strong> рдХреА <strong>рдСрдмреНрдЬреЗрдХреНрдЯ рд╕рдВрд░рдЪрдирд╛ рдХрд╛</strong> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    quartet const quartet = require('quartet') //    (v -  validator) const v = quartet() //      , //     const objectSchema = { a: a =&gt; typeof a ==='string', //   'string' b: b =&gt; typeof b === 'number', //   'number' // ... } const compositeObjValidator = v(objectSchema) const obj = { a: 'some text', b: 2 } const isObjValid = compositeObjValidator(obj) console.log(isObjValid) // =&gt; true</span></span></code> </pre> <br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╡рд┐рднрд┐рдиреНрди рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдИрдВрдЯреЛрдВ рд╕реЗ, рд╣рдо рдПрдХ рд╡рд╕реНрддреБ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдХреЛ рдЗрдХрдЯреНрдард╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ - рдХреБрдЫ "рдЫреЛрдЯреА рдЗрдорд╛рд░рдд" рдЬрд┐рд╕рдореЗрдВ рдпрд╣ рдЕрднреА рднреА рдХрд╛рдлреА рддрдВрдЧ рд╣реИ - рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдмрд┐рдирд╛ рдмреЗрд╣рддрд░ рд╣реИред  рдЗрд╕рдХреЗ рд▓рд┐рдП, рд╣рдо рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛рдУрдВ <code>v</code> рдХреЗ рдХрдВрдкреЛрдЬрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  <strong>рд╣рд░ рдмрд╛рд░, рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдХреЗ рд╕реНрдерд╛рди рдкрд░ рдСрдмреНрдЬреЗрдХреНрдЯ рд╢рд╛рдмреНрджрд┐рдХ <code>v</code> рдХреЛ рдкреВрд░рд╛ рдХрд░рддреЗ рд╣реБрдП, рдЗрд╕реЗ рдПрдХ рд╡рд╕реНрддреБ рд░рдЪрдирд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдирд╛ рдЬрд╛рдПрдЧрд╛, рдЗрд╕реЗ рдЕрдкрдиреЗ рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рдПрдХ рд╡рд╕реНрддреБ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдореЗрдВ рдмрджрд▓ рджреЗрдЧрд╛ред</strong> </p><br><p>  рдХрднреА-рдХрднреА рд╣рдо <strong>рд╕рднреА рдХреНрд╖реЗрддреНрд░реЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдирд╣реАрдВ</strong> рдХрд░ <strong>рд╕рдХрддреЗ рд╣реИрдВ</strong> ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм рдХреЛрдИ рд╡рд╕реНрддреБ рдбреЗрдЯрд╛ рдбрд┐рдХреНрд╢рдирд░реА рд╣реЛрддреА рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> quartet = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'quartet'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> v = quartet() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isStringValidator = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> name === <span class="hljs-string"><span class="hljs-string">'string'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> keyValueValidator = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value, { key }</span></span></span><span class="hljs-function">) =&gt;</span></span> value.length === <span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; key.length === <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dictionarySchema= { <span class="hljs-attr"><span class="hljs-attr">dictionaryName</span></span>: isStringValidator, ...v.rest(keyValueValidator) } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> compositeObjValidator = v(dictionarySchema) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">dictionaryName</span></span>: <span class="hljs-string"><span class="hljs-string">'next letter'</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-string"><span class="hljs-string">'c'</span></span>, <span class="hljs-attr"><span class="hljs-attr">c</span></span>: <span class="hljs-string"><span class="hljs-string">'d'</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isObjValid = compositeObjValidator(obj) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(isObjValid) <span class="hljs-comment"><span class="hljs-comment">// =&gt; true const obj2 = { dictionaryName: 'next letter', b: 'a', a: 'invalid value', notValidKey: 'a' } const isObj2Valid = compositeObjValidator(obj2) console.log(isObj2Valid) // =&gt; false</span></span></code> </pre> <br><h3 id="kak-pereispolzovat-stroitelnye-resheniya">  рдирд┐рд░реНрдорд╛рдг рд╕рдорд╛рдзрд╛рди рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ? </h3><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдордиреЗ рдКрдкрд░ рджреЗрдЦрд╛, рд╕рд░рд▓ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛рдУрдВ рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрди рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ, рд╣рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА "рд╕реНрдЯреНрд░рд┐рдВрдЧ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛" рдХрд╛ рджреЛ рдмрд╛рд░ рдкрд╣рд▓реЗ рд╣реА рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдерд╛ред </p><br><p>  рд░рд┐рдХреЙрд░реНрдб рдХреЛ рдЫреЛрдЯрд╛ рдХрд░рдиреЗ рдФрд░ рдЗрд╕рдХреА рдкрдардиреАрдпрддрд╛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЪреМрдХрдбрд╝реА рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛рдУрдВ рдХреЗ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╕рдорд╛рдирд╛рд░реНрдереА рд╢рдмреНрдж рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  <strong>рдЬрдм рднреА рдПрдХ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рд╕рдВрдЧреАрддрдХрд╛рд░ рдЙрд╕ рд╕реНрдерд╛рди рдкрд░ рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рддреЛ рдпрд╣ рдЕрдкрдиреЗ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рд╢рдмреНрджрдХреЛрд╢ рдЦреЛрдЬрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ</strong> ред </p><br><p>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рд╕рдмрд╕реЗ рдЖрдо рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реИрдВред </p><br><p>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдгреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: </p><br><pre> <code class="javascript hljs">v(<span class="hljs-string"><span class="hljs-string">'number'</span></span>)(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-comment"><span class="hljs-comment">// =&gt; true v('number')('1') // =&gt; false v('string')('1') // =&gt; true v('string')(null) // =&gt; false v('null')(null) // =&gt; true v('object')(null) // =&gt; true v('object!')(null) // =&gt; false // ...</span></span></code> </pre> <br><p>  рдФрд░ <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдкреНрд░рд▓реЗрдЦрди">рдкреНрд░рд▓реЗрдЦрди</a></strong> рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрдИ рдЕрдиреНрдпред </p><br><h3 id="kazhdoy-arke---svoy-vid-kirpichey">  рдкреНрд░рддреНрдпреЗрдХ рдЖрд░реНрдХ рдореЗрдВ рдИрдВрдЯреЛрдВ рдХрд╛ рдЕрдкрдирд╛ рдкреНрд░рдХрд╛рд░ рд╣реЛрддрд╛ рд╣реИ? </h3><br><p>  рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рд╕рдВрдЧреАрддрдХрд╛рд░ (рдлрд╝рдВрдХреНрд╢рди <code>v</code> ) рднреА рдПрдХ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдХрд╛рд░рдЦрд╛рдирд╛ рд╣реИред  рдЗрд╕ рдЕрд░реНрде рдореЗрдВ рдХрд┐ рдЗрд╕рдореЗрдВ рдХрдИ рдЙрдкрдпреЛрдЧреА рд╡рд┐рдзрд┐рдпрд╛рдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдЬреЛ рд╡рд╛рдкрд╕ рдЖрддреА рд╣реИрдВ </p><br><ul><li>  рдлрд╝рдВрдХреНрд╢рди рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ </li><li>  рд╡реИрд▓реНрдпреВрдЬрд╝ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдВрдкреЛрдЬрд╝рд░ рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдЬреЛ рдорд╛рдиреЗрдВрдЧреЗ, рд╡реЗ рдорд╛рди </li></ul><br><p>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдо рд╕рд░рдгреА рд╕рддреНрдпрд╛рдкрди рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ: рдмрд╣реБрдзрд╛ рдЗрд╕рдореЗрдВ рд╕рд░рдгреА рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдирд╛ рдФрд░ рдЙрд╕рдХреЗ рд╕рднреА рддрддреНрд╡реЛрдВ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИред  рд╣рдо рдЗрд╕рдХреЗ рд▓рд┐рдП <code>v.arrayOf(elementValidator)</code> рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдирд╛рдореЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд░рдгреА рд▓реЗрдВред </p><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [ {<span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'A'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'B'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'C'</span></span>}, {<span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'D'</span></span>}, ]</code> </pre> <br><p>  рдЪреВрдВрдХрд┐ рдЕрдВрдХреЛрдВ рдХрд╛ рдПрдХ рд╕рд░рдгреА рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдПрдХ рд╕рд░рдгреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рд╕рд░рдгреА рдХреЗ рддрддреНрд╡реЛрдВ рдХреЛ рдорд╛рдиреНрдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдСрдмреНрдЬреЗрдХреНрдЯ рд░рдЪрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИред </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> namedPointSchema = { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-string"><span class="hljs-string">'number'</span></span>, <span class="hljs-comment"><span class="hljs-comment">// number -       y: 'number', name: 'string' // string -       }</span></span></code> </pre> <br><p>  рдЕрдм, рдлреИрдХреНрдЯреНрд░реА рдореЗрдердб <code>v.arrayOf</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдкреВрд░реЗ рдРрд░реЗ рдХреЗ рд▓рд┐рдП рдПрдХ <code>v.arrayOf</code> рдмрдирд╛рдПрдБ </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isArrayValid = v.arrayOf({ <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-string"><span class="hljs-string">'number'</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-string"><span class="hljs-string">'number'</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'string'</span></span> })</code> </pre> <br><p>  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдпрд╣ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: </p><br><pre> <code class="javascript hljs">isArrayValid(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-comment"><span class="hljs-comment">// =&gt; false isArrayValid(null) // =&gt; false isArrayValid([]) // =&gt; true isArrayValid([1, 2, 3]) // =&gt; false isArrayValid([ {x: 1, y: 1, name: 'A'}, {x: 2, y: 1, name: 'B'}, {x: -1, y: 2, name: 'C'}, {x: 1, y: 3, name: 'D'}, ]) // =&gt; true</span></span></code> </pre> <br><p>  рдпрд╣ рдХрд╛рд░рдЦрд╛рдиреЗ рдХреЗ рддрд░реАрдХреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдкреНрд░рд▓реЗрдЦрди">рдкреНрд░рд▓реЗрдЦрди</a> рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдкреНрд░рд▓реЗрдЦрди">рд╣реИред</a> </p><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдкрдиреЗ рдКрдкрд░ рджреЗрдЦрд╛, <code>v.rest</code> рднреА рдПрдХ рдлреИрдХреНрдЯреНрд░реА рдореЗрдердб рд╣реИ рдЬреЛ рдСрдмреНрдЬреЗрдХреНрдЯ <code>v.rest</code> рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬреЛ рдСрдмреНрдЬреЗрдХреНрдЯ <code>v.rest</code> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕рднреА рдлреАрд▓реНрдбреНрд╕ рдХреЛ рдЪреЗрдХ рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЗрд╕реЗ <code>spread-operator</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рдЕрдиреНрдп рдСрдмреНрдЬреЗрдХреНрдЯ рд░рдЪрдирд╛ рдореЗрдВ рдПрдореНрдмреЗрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдЖрдЗрдП рд╣рдо рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдирдореЗрдВ рд╕реЗ рдХрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    quartet const quartet = require('quartet') //    (v -  validator) const v = quartet() //   ,    const max = { name: 'Maxim', sex: 'male', age: 34, status: 'grandpa', friends: [ { name: 'Dima', friendDuration: '1 year'}, { name: 'Semen', friendDuration: '3 months'} ], workExperience: 2 } //  ,   "" , // ""  , ""   -  const nameSchema = v.and( 'not-empty', 'string', //   name =&gt; name[0].toUpperCase() === name[0] // - ) const maxSchema = { name: nameSchema, //       sex: v.enum('male', 'female'), //  -   . //       "" age: v.and('non-negative', 'safe-integer'), status: v.enum('grandpa', 'non-grandpa'), friends: v.arrayOf({ name: nameSchema, //      friendDuration: v.regex(/^[1-9]\d? (years?|months?)$/) }), workExperience: v.and('non-negative', 'safe-integer') } console.log(v(maxSchema)(max)) // =&gt; true</span></span></code> </pre> <br><h3 id="byt-ili-ne-byt">  рд╣реЛрдирд╛ рд╣реИ, рдпрд╛ рдирд╣реАрдВ рд╣реЛрдирд╛ рд╣реИ? </h3><br><p>  рдЕрдХреНрд╕рд░ рдРрд╕рд╛ рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рд╡реИрдз рдбреЗрдЯрд╛ рд╡рд┐рднрд┐рдиреНрди рд░реВрдк рд▓реЗрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><ul><li>  <code>id</code> рдПрдХ рд╕рдВрдЦреНрдпрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ, рдпрд╛ рдпрд╣ рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реЛ рд╕рдХрддреА рд╣реИред </li><li>  рдЖрдпрд╛рдо рдХреЗ рдЖрдзрд╛рд░ рдкрд░ <code>point</code> рд╡рд╕реНрддреБ рдореЗрдВ рдХреБрдЫ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдирд╣реАрдВ рднреА рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред </li><li>  рдФрд░ рдХрдИ рдЕрдиреНрдп рдорд╛рдорд▓реЗред </li></ul><br><p>  рд╡реЗрд░рд┐рдПрдВрдЯ рдХреА рдорд╛рдиреНрдпрддрд╛ рдХреЛ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХрд╛рд░ рдХреА рд░рдЪрдирд╛ рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рддреА рд╣реИ - рднрд┐рдиреНрди рд░рдЪрдирд╛ред  рдпрд╣ рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛рдУрдВ рдХреА рдПрдХ рд╕рд░рдгреА рджреНрд╡рд╛рд░рд╛ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдХрд┐рд╕реА рд╡рд╕реНрддреБ рдХреЛ рддрдм рд╡реИрдз рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрдм рдХрдо рд╕реЗ рдХрдо рдПрдХ рд╡реИрдз рдЙрд╕рдХреА рд╡реИрдзрддрд╛ рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рд╕рддреНрдпрд╛рдкрди рдХреЗ рд╕рд╛рде рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: </p><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isValidId = v([ v.and(<span class="hljs-string"><span class="hljs-string">'not-empty'</span></span>, <span class="hljs-string"><span class="hljs-string">'string'</span></span>), <span class="hljs-comment"><span class="hljs-comment">//       v.and('positive', 'safe-integer') //    ]) isValidId('') // =&gt; false isValidId('asdba32bas321ab321adb321abds546ba98s7') // =&gt; true isValidId(0) // =&gt; false isValidId(1) // =&gt; true isValidId(1123124) // =&gt; true</span></span></code> </pre> <br><p>  рдмрд┐рдВрджреБ рд╕рддреНрдпрд╛рдкрди рдЙрджрд╛рд╣рд░рдг: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isPointValid = v([ { <span class="hljs-comment"><span class="hljs-comment">//    -    x  dimension: v.enum(1), x: 'number', // v.rest    false // ,    -  ...v.rest(() =&gt; false) }, //   -    { dimension: v.enum(2), x: 'number', y: 'number', ...v.rest(() =&gt; false) }, //   - x, y  z { dimension: v.enum(3), x: 'number', y: 'number', z: 'number', ...v.rest(() =&gt; false) }, ]) // ,    ,      ,     -  -    isPointValid(1) // =&gt; false isPointValid(null) // =&gt; false isPointValid({ dimension: 1, x: 2 }) // =&gt; true isPointValid({ dimension: 1, x: 2, y: 3 //   }) // =&gt; false isPointValid({ dimension: 2, x: 2, y: 3 }) // =&gt; true isPointValid({ dimension: 3, x: 2, y: 3, z: 4 }) // =&gt; true // ...</span></span></code> </pre> <br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, <strong>рдЬрдм рднреА рдХреЛрдИ рд╕рдВрдЧреАрддрдХрд╛рд░ рдХрд┐рд╕реА рд╕рд░рдгреА рдХреЛ рджреЗрдЦрддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдЗрд╕реЗ рдЗрд╕ рд╕рд░рдгреА рдХреЗ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рддрддреНрд╡реЛрдВ рдХреА рдПрдХ рд░рдЪрдирд╛ рдкрд░ рдЗрд╕ рддрд░рд╣ рд╕реЗ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдЧрд╛ рдХрд┐ рдЬрдм рдЙрдирдореЗрдВ рд╕реЗ рдХреЛрдИ рдорд╛рди рдХреЛ рд╡реИрдз рдорд╛рдирддрд╛ рд╣реИ, рддреЛ рд╕рддреНрдпрд╛рдкрди рдХреА рдЧрдгрдирд╛ рдмрдВрдж рд╣реЛ рдЬрд╛рдПрдЧреА рдФрд░ рдорд╛рди рдХреЛ рдорд╛рдиреНрдп рдорд╛рдирд╛ рдЬрд╛рдПрдЧрд╛ред</strong> </p><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ, рд╕рдВрдЧреАрддрдХрд╛рд░ рди рдХреЗрд╡рд▓ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдПрдХ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдорд╛рдирддрд╛ рд╣реИ, рдмрд▓реНрдХрд┐ рд╡рд╣ рд╕рдм рдХреБрдЫ рднреА рд╣реИ рдЬреЛ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЬрдиреНрдо рджреЗ рд╕рдХрддрд╛ рд╣реИред </p><br><table><thead><tr><th>  рд╡реИрдз рдкреНрд░рдХрд╛рд░ </th><th>  рдЙрджрд╛рд╣рд░рдг </th><th>  рдЬреИрд╕рд╛ рдХрд┐ рд╕рдВрдЧреАрддрдХрд╛рд░ рдиреЗ рдорд╛рдирд╛ рд╣реИ </th></tr></thead><tbody><tr><td>  рд╕рддреНрдпрд╛рдкрди рд╕рдорд╛рд░реЛрд╣ </td><td> <code>x =&gt; typeof x === 'bigint'</code> </td> <td>  рдмрд╕ рдЖрд╡рд╢реНрдпрдХ рдореВрд▓реНрдпреЛрдВ рдкрд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ </td></tr><tr><td>  рд╡рд╕реНрддреБ рд░рдЪрдирд╛ </td><td> <code>{ a: 'number' }</code> </td> <td>  рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдлрд╝реАрд▓реНрдб рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛рдУрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХрд┐рд╕реА рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рддрд╛ рд╣реИ </td></tr><tr><td>  рднрд┐рдиреНрди рд░рдЪрдирд╛ </td><td> <code>['number', 'string']</code> </td> <td>  рдХрдо рд╕реЗ рдХрдо рдПрдХ рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдПрдХ рдореВрд▓реНрдп рдХреЛ рдорд╛рдиреНрдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рддрд╛ рд╣реИ </td></tr><tr><td>  рдлреИрдХреНрдЯрд░реА рд╡рд┐рдзрд┐ рдХреЙрд▓ рдкрд░рд┐рдгрд╛рдо </td><td> <code>v.enum('male', 'female')</code> </td> <td>  рдЕрдзрд┐рдХрд╛рдВрд╢ рдХрд╛рд░рдЦрд╛рдиреЗ рд╡рд┐рдзрд┐рдпрд╛рдВ рд╕рддреНрдпрд╛рдкрди рдХрд╛рд░реНрдп <code>v.rest</code> ( <code>v.rest</code> рдХреЗ рдЕрдкрд╡рд╛рдж рдХреЗ рд╕рд╛рде, рдЬреЛ рд╡рд╕реНрддреБ рд╕рдВрд░рдЪрдирд╛ рд▓реМрдЯрд╛рддреА рд╣реИ), рдЗрд╕рд▓рд┐рдП рдЙрдиреНрд╣реЗрдВ рдирд┐рдпрдорд┐рдд рд╕рддреНрдпрд╛рдкрди рдХрд╛рд░реНрдпреЛрдВ рдХреА рддрд░рд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ </td></tr></tbody></table><br><p>  рдпреЗ рд╕рднреА рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рд╡рд┐рдХрд▓реНрдк рд╡реИрдз рд╣реИрдВ рдФрд░ рд╕реНрдХреАрдорд╛ рдХреЗ рднреАрддрд░ рдХрд╣реАрдВ рднреА рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд╣рд╛рдВ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  рдирддреАрдЬрддрди, рдСрдкрд░реЗрд╢рди рдпреЛрдЬрдирд╛ рд╣рдореЗрд╢рд╛ рдЗрд╕ рддрд░рд╣ рд╣реЛрддреА рд╣реИ: <code>v(schema)</code> рдПрдХ рд╕рддреНрдпрд╛рдкрди рдлрд╝рдВрдХреНрд╢рди рджреЗрддрд╛ рд╣реИред  рдЕрдЧрд▓рд╛, рдпрд╣ рд╕рддреНрдпрд╛рдкрди рдлрд╝рдВрдХреНрд╢рди рд╡рд┐рд╢рд┐рд╖реНрдЯ рдореВрд▓реНрдпреЛрдВ рдкрд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ: <br> <code>v(schema)(value[, ...parents])</code> </p> <br><h2 id="u-vas-avarii-na-stroyke-byli">  рдХреНрдпрд╛ рдЖрдкрдХреЗ рдкрд╛рд╕ рдирд┐рд░реНрдорд╛рдг рд╕реНрдерд▓ рдкрд░ рдХреЛрдИ рджреБрд░реНрдШрдЯрдирд╛ рд╣реБрдИ рд╣реИ? </h2><br><p>  <em>- рдЕрднреА рдирд╣реАрдВ, рдПрдХ рдирд╣реАрдВ</em> <br>  <em>- рд╡реЗ!</em> </p><br><p>  рдРрд╕рд╛ рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рдбреЗрдЯрд╛ рдЕрдорд╛рдиреНрдп рд╣реИ рдФрд░ рд╣рдореЗрдВ рдЕрдорд╛рдиреНрдп рдХрд╛ рдХрд╛рд░рдг рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  рдЗрд╕рдХреЗ рд▓рд┐рдП, рдЪреМрдХрдбрд╝реА рдкреБрд╕реНрддрдХрд╛рд▓рдп рдПрдХ <em>рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг</em> рддрдВрддреНрд░ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдЗрд╕ рддрдереНрдп рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИ рдХрд┐ рдЬрдм рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛, рдЪрд╛рд╣реЗ рдЖрдВрддрд░рд┐рдХ рдпрд╛ рдмрд╛рд╣рд░реА, рд╕рддреНрдпрд╛рдкрд┐рдд рдбреЗрдЯрд╛ рдХреА рд╡реИрдзрддрд╛ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрд╕реЗ рдПрдХ <em>рд╡реНрдпрд╛рдЦреНрдпрд╛рддреНрдордХ рдиреЛрдЯ</em> рднреЗрдЬрдирд╛ рд╣реЛрдЧрд╛ред </p><br><p>  рдЗрди рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП, рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ <code>v</code> рдХреЗ рд╕рдВрдЧреАрддрдХрд╛рд░ рдХреЗ рджреВрд╕рд░реЗ рддрд░реНрдХ рдХрд╛ <code>v</code> ред  рдпрд╣ рдЕрдорд╛рдиреНрдп рдбреЗрдЯрд╛ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ <code>v.explanation</code> рд╕рд░рдгреА рдореЗрдВ <em>рд╡реНрдпрд╛рдЦреНрдпрд╛рддреНрдордХ рдиреЛрдЯ</em> рднреЗрдЬрдиреЗ рдХрд╛ рд╕рд╛рдЗрдб рдЗрдлреЗрдХреНрдЯ рдЬреЛрдбрд╝рддрд╛ рд╣реИред </p><br><p>  рдЙрджрд╛рд╣рд░рдг, рд╣рдореЗрдВ рдПрдХ рдРрд░реЗ рдХреЛ рдорд╛рдиреНрдп рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЙрди рд╕рднреА рддрддреНрд╡реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЬреЛ рдЕрдорд╛рдиреНрдп рд╣реИрдВ рдФрд░ рдЙрдирдХрд╛ рдореВрд▓реНрдп рд╣реИ: </p><br><pre> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">//   -     //   const getExplanation = (value, { key: index }) =&gt; ({ invalidValue: value, index }) // ,       . //         v.explanation //    const arrValidator = v.arrayOf( v( 'number', //   getExplanation //   "",   "" ) ) // ,     ""  //     ,     //         //   ,       const explainableArrValidator = v(arrValidator, 'this array is not valid') const arr = [1, 2, 3, 4, '5', '6', 7, '8'] explainableArrValidator(arr) // =&gt; false v.explanation // [ // { invalidValue: '5', index: 4 }, // { invalidValue: '6', index: 5 }, // { invalidValue: '8', index: 7 }, // 'this array is not valid' // ]</span></span></code> </pre> <br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХрд╛ рд╡рд┐рдХрд▓реНрдк рдХрд╛рд░реНрдп рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред  рдХрднреА-рдХрднреА рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рднреА рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред </p><br><p>  рдХрднреА-рдХрднреА рд╣рдореЗрдВ рдЕрдорд╛рдиреНрдп рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рд╕рд╛рде рдХреБрдЫ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдПрдХ <em>рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреЗ</em> рд░реВрдк рдореЗрдВ рдЕрдорд╛рдиреНрдп рдХреНрд╖реЗрддреНрд░ рдХреЗ рдирд╛рдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> objSchema = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: v(<span class="hljs-string"><span class="hljs-string">'number'</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>), <span class="hljs-attr"><span class="hljs-attr">b</span></span>: v(<span class="hljs-string"><span class="hljs-string">'number'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>), <span class="hljs-attr"><span class="hljs-attr">c</span></span>: v(<span class="hljs-string"><span class="hljs-string">'string'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isObjValid = v(objSchema) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> invalidObj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-string"><span class="hljs-string">'1'</span></span>, <span class="hljs-attr"><span class="hljs-attr">c</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> } isObjValid(invalidObj) <span class="hljs-comment"><span class="hljs-comment">// =&gt; false v.explanation // ['b', 'c'] //     console.error(`${v.explanation.join(', ')} is not valid`) // =&gt; b, c is not valid //       (. ) invalidObj = v.omitInvalidProps(objSchema)(invalidObj) console.log(invalidObj) // =&gt; { a: 1 }</span></span></code> </pre> <br><p>  рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреЗ рдЗрд╕ рддрдВрддреНрд░ рдХреЗ рд╣реЛрдиреЗ рдкрд░, рдЖрдк рд╕рддреНрдпрд╛рдкрди рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рд╕реЗ рдЬреБрдбрд╝реЗ рдХрд┐рд╕реА рднреА рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдПрдХ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреБрдЫ рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ: </p><br><ul><li>  рдЖрд╡рд╢реНрдпрдХ рдЬрд╛рдирдХрд╛рд░реА рдпреБрдХреНрдд рдПрдХ рд╡рд╕реНрддреБ; </li><li>  рдлрд╝рдВрдХреНрд╢рди рдЬреЛ рддреНрд░реБрдЯрд┐ рдХреЛ рдареАрдХ рдХрд░рддрд╛ рд╣реИред  ( <code>getExplanation =&gt; function(invalid): valid</code> ); </li><li>  рдЕрдорд╛рдиреНрдп рдлрд╝реАрд▓реНрдб рдХрд╛ рдирд╛рдо, рдпрд╛ рдЕрдорд╛рдиреНрдп рддрддреНрд╡ рдХрд╛ рд╕реВрдЪрдХрд╛рдВрдХ; </li><li>  рддреНрд░реБрдЯрд┐ рдХреЛрдб </li><li>  рдФрд░ рд╡рд╣ рд╕рдм рдЖрдкрдХреА рдХрд▓реНрдкрдирд╛ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред </li></ul><br><h2 id="chto-delat-kogda-delo-ne-stroitsya">  рдЬрдм рдЪреАрдЬреЗрдВ рдирд╣реАрдВ рдмрди рд░рд╣реА рд╣реЛрдВ рддреЛ рдХреНрдпрд╛ рдХрд░реЗрдВ? </h2><br><p>  рд╕рддреНрдпрд╛рдкрди рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рдареАрдХ рдХрд░рдирд╛ рдПрдХ рджреБрд░реНрд▓рдн рдХрд╛рд░реНрдп рдирд╣реАрдВ рд╣реИред  рдЗрди рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП, рдкреБрд╕реНрддрдХрд╛рд▓рдп рдПрдХ рд╕рд╛рдЗрдб рдЗрдлреЗрдХреНрдЯ рдХреЗ рд╕рд╛рде рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рддреНрд░реБрдЯрд┐ рдХреЗ рд╕реНрдерд╛рди рдХреЛ рдпрд╛рдж рд░рдЦрддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдХреИрд╕реЗ рдареАрдХ рдХрд░рдирд╛ рд╣реИред </p><br><ul><li>  <code>v.default(validator, value)</code> - рдЕрдорд╛рдиреНрдп рдорд╛рди рдХреЛ рдпрд╛рдж рд░рдЦрдиреЗ рд╡рд╛рд▓рд╛ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдФрд░ <code>v.fix</code> рдХреЗ рд╕рдордп - рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ </li><li>  <code>v.filter(validator)</code> - рдПрдХ <code>v.filter(validator)</code> рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬреЛ рдПрдХ рдЕрдорд╛рдиреНрдп рдорд╛рди рдХреЛ рдпрд╛рдж рд░рдЦрддрд╛ рд╣реИ, рдФрд░ <code>v.fix</code> рдХреЗ рд╕рдордп - рдорд╛рддрд╛-рдкрд┐рддрд╛ рд╕реЗ рдЗрд╕ рдорд╛рди рдХреЛ рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИ </li><li>  <code>v.addFix(validator, fixFunc)</code> - рдПрдХ рд╡реИрдз рдорд╛рди рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬреЛ рдЕрдорд╛рдиреНрдп рдорд╛рди рдХреЛ рдпрд╛рдж рд░рдЦрддрд╛ рд╣реИ, рдФрд░ <code>v.fix</code> рдХреЗ рд╕рдордп - рдкреИрд░рд╛рдореАрдЯрд░ (рдорд╛рди, {key, parent}, ...) рдХреЗ рд╕рд╛рде fixFunc рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред  <code>fixFunc</code> - рдореВрд▓реНрдп рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП - рднрд╛рдЧреАрджрд╛рд░реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЛ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ </li></ul><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> toPositive = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">negativeValue, { key, parent }</span></span></span><span class="hljs-function">) =&gt;</span></span> { parent[key] = -negativeValue } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> objSchema = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: v.default(<span class="hljs-string"><span class="hljs-string">'number'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-attr"><span class="hljs-attr">b</span></span>: v.filter(<span class="hljs-string"><span class="hljs-string">'string'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>), <span class="hljs-attr"><span class="hljs-attr">c</span></span>: v.default(<span class="hljs-string"><span class="hljs-string">'array'</span></span>, []), <span class="hljs-attr"><span class="hljs-attr">d</span></span>: v.default(<span class="hljs-string"><span class="hljs-string">'number'</span></span>, invalidValue =&gt; <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>(invalidValue)), <span class="hljs-comment"><span class="hljs-comment">//    pos: v.and( v.default('number', 0), //     -  0 v.addFix('non-negative', toPositive) //     -   ) } const invalidObj = { a: 1, b: 2, c: 3, d: '4', pos: -3 } v.resetExplanation() //   v() v(objSchema)(invalidObj) // =&gt; false // v.hasFixes() =&gt; true const validObj = v.fix(invalidObj) console.log(validObj) // =&gt; { a: 1, b: '', c: [], d: 4 }</span></span></code> </pre> <br><h3 id="po-hozyaystvu-eschyo-prigoditsya">  рдХрд╛рдо рдЕрднреА рднреА рдХрд╛рдо рдореЗрдВ рдЖрддреЗ рд╣реИрдВ </h3><br><p>  рдЗрд╕ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореЗрдВ рд╕рддреНрдпрд╛рдкрди рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрд┐рддрд╛ рд╡рд┐рдзрд┐рдпрд╛рдБ рднреА рд╣реИрдВ: </p><br><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдкрд░рд┐рдгрд╛рдо </th></tr></thead><tbody><tr><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="`v.throwError`"><code>v.throwError</code></a> </td> <td>  рдпрджрд┐ рдЕрдорд╛рдиреНрдп рд╣реИ, рддреЛ рджрд┐рдП рдЧрдП рд╕рдВрджреЗрд╢ рдХреЗ рд╕рд╛рде TypeError рдлреЗрдВрдХрддрд╛ рд╣реИред </td></tr><tr><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="`v.omitInvalidItems`"><code>v.omitInvalidItems</code></a> </td> <td>  рдЕрдорд╛рдиреНрдп рддрддреНрд╡реЛрдВ (рдлрд╝реАрд▓реНрдб) рдХреЗ рдмрд┐рдирд╛ рдПрдХ рдирдИ рд╕рд░рдгреА (рдпрд╛ рд╢рдмреНрджрдХреЛрд╢ рдСрдмреНрдЬреЗрдХреНрдЯ) рд▓реМрдЯрд╛рддрд╛ рд╣реИред </td></tr><tr><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="`v.omitInvalidProps`"><code>v.omitInvalidProps</code></a> </td> <td>  рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдЕрдорд╛рдиреНрдп рдлрд╝реАрд▓реНрдб рдХреЗ рдмрд┐рдирд╛ рдПрдХ рдирдИ рд╡рд╕реНрддреБ рд▓реМрдЯрд╛рддрд╛ рд╣реИред </td></tr><tr><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="`v.validOr`"><code>v.validOr</code></a> </td> <td>  рдпрджрд┐ рдпрд╣ рдорд╛рдиреНрдп рд╣реИ, рддреЛ рдорд╛рди рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдЕрдиреНрдпрдерд╛ рдпрд╣ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдХреЗ рд╕рд╛рде рдмрджрд▓рддрд╛ рд╣реИред </td></tr><tr><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><code>v.example</code></a> </td> <td>  рджрд┐рдП рдЧрдП рдорд╛рди рд╕реНрдХреАрдорд╛ рдореЗрдВ рдлрд┐рдЯ рд╣реЛрддреЗ рд╣реИрдВ рдпрд╛ рдирд╣реАрдВ, рдпрд╣ рдЬрд╛рдБрдЪрддрд╛ рд╣реИред  рдпрджрд┐ рд╡реЗ рдлрд┐рдЯ рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рдПрдХ рддреНрд░реБрдЯрд┐ рдбрд╛рд▓реА рдЬрд╛рддреА рд╣реИред  рдкреНрд░рд▓реЗрдЦрди рдФрд░ рд╕рд░реНрдХрд┐рдЯ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ </td></tr></tbody></table><br><h2 id="rezultaty">  рдкрд░рд┐рдгрд╛рдо </h2><br><p>  рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрд░реАрдХреЛрдВ рд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛: </p><br><table><thead><tr><th>  рдХрд╛рд░реНрдп </th><th>  рдирд┐рд░реНрдгрдп </th></tr></thead><tbody><tr><td>  рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рд╕рддреНрдпрд╛рдкрди </td><td>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд╛рдо рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ред </td></tr><tr><td>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди </td><td> <code>v.default</code> </td> </tr><tr><td>  рдЕрдорд╛рдиреНрдп рднрд╛рдЧреЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓ рд░рд╣рд╛ рд╣реИ </td><td>  <code>v.filter</code> , <code>v.omitInvalidItems</code> рдФрд░ <code>v.omitInvalidProps</code> ред </td></tr><tr><td>  рд╕реАрдЦрдирд╛ рдЖрд╕рд╛рди рд╣реИ </td><td>  рд╕рд░рд▓ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛, рдЬрдЯрд┐рд▓ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛рдУрдВ рдореЗрдВ рдЙрдирдХреА рд░рдЪрдирд╛ рдХрд░рдиреЗ рдХреЗ рд╕рд░рд▓ рддрд░реАрдХреЗред </td></tr><tr><td>  рдХреЛрдб рдкрдардиреАрдпрддрд╛ </td><td>  рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рд▓рдХреНрд╖реНрдпреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╕рддреНрдпрд╛рдкрди рдпреЛрдЬрдирд╛рдУрдВ рдХреЛ рд╕реНрд╡рдпрдВ рдХрд░рдирд╛ рдерд╛ </td></tr><tr><td>  рдорд╛рдиреНрдп рд╡рд╕реНрддреБрдПрдВред </td></tr><tr><td>  рд╕рдВрд╢реЛрдзрди рдореЗрдВ рдЖрд╕рд╛рдиреА </td><td>  рд░рдЪрдирд╛рдУрдВ рдХреЗ рддрддреНрд╡реЛрдВ рдореЗрдВ рдорд╣рд╛рд░рдд рд╣рд╛рд╕рд┐рд▓ рдХрд░рдирд╛ рдФрд░ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рд╕рддреНрдпрд╛рдкрди рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ - рдХреЛрдб рдмрджрд▓рдирд╛ рдХрд╛рдлреА рд╕рд░рд▓ рд╣реИред </td></tr><tr><td>  рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢ </td><td>  рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдгред  рдпрд╛ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рддреНрд░реБрдЯрд┐ рдХреЛрдб рдЧрдгрдирд╛ред </td></tr></tbody></table><br><h2 id="posleslovie">  рдЕрдВрддрднрд╛рд╖рдг </h2><br><p>  рдпрд╣ рд╕рдорд╛рдзрд╛рди рдХрд╕реНрдЯрдо рд╕рддреНрдпрд╛рдкрди рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдПрдореНрдмреЗрдб рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреЗ рд╕рд╛рде рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдЬрд▓реНрджреА рдФрд░ рдЖрд╕рд╛рдиреА рд╕реЗ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдХреЛрдИ рд╣реИ, рддреЛ рдЗрд╕ рд▓реЗрдЦ рдХреЛ рдкрдврд╝рдиреЗ рд╡рд╛рд▓реЛрдВ рд╕реЗ рд╕реБрдзрд╛рд░, рдЖрд▓реЛрдЪрдирд╛, рд╕реБрдзрд╛рд░ рдХреЗ рд╡рд┐рдХрд▓реНрдк рд╕реНрд╡рд╛рдЧрдд рдпреЛрдЧреНрдп рд╣реИрдВред  рдЖрдкрдХрд╛ рдзреНрдпрд╛рди рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рджред <br></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi429916/">https://habr.com/ru/post/hi429916/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi429904/index.html">рдХрдВрдкреНрдпреВрдЯрд░ рдЧреЗрдо рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдордЬреЗрджрд╛рд░ рдФрд░ рджреБрдЦрдж рдХрд╣рд╛рдирд┐рдпрд╛рдВ</a></li>
<li><a href="../hi429908/index.html">рднреЛрдЬрди рдореЗрдВ рдХреЛрд░рдЯрд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ рдФрд░ рд░рд╛рдд рдореЗрдВ рд╢рд╛рдВрддрд┐ рд╕реЗ рд╕реЛрдПрдВ</a></li>
<li><a href="../hi429910/index.html">AppsConf рдЙрдЧрддрд╛ рд╣реИ</a></li>
<li><a href="../hi429912/index.html">рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╡рд┐рдХрд╛рд╕: рдПрдкреАрдЖрдИ рд╕реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░рд┐рд▓реАрдЬ рддрдХ</a></li>
<li><a href="../hi429914/index.html">OpenSceneGraph: рджреГрд╢реНрдп рдЧреНрд░рд╛рдлрд╝ рдФрд░ рд╕реНрдорд╛рд░реНрдЯ рдкреЙрдЗрдВрдЯрд░реНрд╕</a></li>
<li><a href="../hi429918/index.html">рд╡рд░реНрдЪреБрдЕрд▓ рд╡рд░реНрд▓реНрдб рдЗрдВрдЯреЗрд▓ред рднрд╛рдЧ 2: рдПрд╕рдПрдордкреА</a></li>
<li><a href="../hi429920/index.html">NaN рдХреГрддреНрдпреЛрдВ рдореЗрдВ рдЯреНрд░реЗрдЬрд┐рдХреЛрдореЗрдбреА: рд╣рдордиреЗ рдЬреЗрдПрд╕ рдкрд░ рдПрдХ рдЦреЗрд▓ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдФрд░ рдЗрд╕реЗ рд╕реНрдЯреАрдо рдкрд░ рдЬрд╛рд░реА рдХрд┐рдпрд╛</a></li>
<li><a href="../hi429922/index.html">рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рджреАрд░реНрдШрдХрд╛рд▓рд┐рдХ рдирд┐рд░реНрдорд╛рдг рдореЗрдВ рдХреИрд╕реЗ рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рдП рдпрд╛ рд╕рднреА рдЕрдирд╛рд╡рд╢реНрдпрдХ рдХреЛ рдХрд╛рдЯ рджрд┐рдпрд╛ рдЬрд╛рдП</a></li>
<li><a href="../hi429928/index.html">рдЖрдкрдХреЛ рддрдирд╛рд╡ рдФрд░ рдордЬрдмреВрдд рднрд╛рд╡рдирд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ</a></li>
<li><a href="../hi429930/index.html">Splunkред рдЖрд╕рд╛рди рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>