<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüë¶‚Äçüë¶ üêá üÉè Programaci√≥n funcional desde el punto de vista de EcmaScript. Funciones puras, lambdas, inmunidad. ‚ôäÔ∏è üë¥ üç∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! 

 Hoy comenzaremos a hablar sobre un tema muy importante: la programaci√≥n funcional. La importancia de FP en el desarrollo web moderno es ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Programaci√≥n funcional desde el punto de vista de EcmaScript. Funciones puras, lambdas, inmunidad.</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474702/"> Hola Habr! <br><br>  Hoy comenzaremos a hablar sobre un tema muy importante: la programaci√≥n funcional.  La importancia de FP en el desarrollo web moderno es dif√≠cil de sobreestimar.  La arquitectura de cualquier proyecto moderno a gran escala incluye bibliotecas de funciones definidas por el usuario, y habr√° preguntas obligatorias sobre FI en la entrevista a cualquier nivel. <br><br><h2>  Introducci√≥n a la programaci√≥n funcional </h2><br>  <b>La programaci√≥n funcional (FP)</b> es una forma de organizar el c√≥digo escribiendo un conjunto de funciones. <br><br>  EcmaScript, al ser un lenguaje de programaci√≥n multi-paradigm√°tico, implementa, entre otros, un paradigma funcional.  Esto significa que las funciones en ES son datos y pueden pasarse a funciones, devolverse de funciones y pueden aceptar funciones por s√≠ mismas.  Es decir  Las funciones en ES son <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">funciones de primera clase</a> . <br><br>  Las siguientes definiciones se derivan de esto: <br><br>  <b>Argumento funcional (funarg)</b> : argumento cuyo valor es una funci√≥n. <br><br>  <b>Una funci√≥n de orden superior (FWP, high-order-funtion, hof)</b> es una funci√≥n que acepta funciones como argumentos. <br><br>  <b>Funciones con un valor funcional (Funciones con funciones)</b> : una funci√≥n que devuelve una funci√≥n. <br><br>  Todos estos tipos de funciones se combinan condicionalmente en funciones de la primera clase y, como se deduce de la definici√≥n anterior, en ES todas las funciones son objetos de la primera clase. <br><a name="habracut"></a><br><h3>  Funciones puras: el ideal de la programaci√≥n funcional </h3><br>  <b>Funciones puras (PF)</b> : siempre devuelve un resultado previsto. <br>  Propiedades de PF: <br><br><ul><li>  El resultado de la ejecuci√≥n de PF depende solo de los argumentos pasados ‚Äã‚Äãy del algoritmo que implementa PF </li><li>  No use valores globales </li><li>  No modifique valores externos o argumentos pasados </li><li>  No escriba datos en archivos, bases de datos ni en ning√∫n otro lugar. </li></ul><br>  Un ejemplo de una funci√≥n pura: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> add = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x,y</span></span></span><span class="hljs-function">) =&gt;</span></span> x+y;</code> </pre> <br>  Un buen ejemplo de impureza de funci√≥n es: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> first; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> second; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testFn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = <span class="hljs-number"><span class="hljs-number">10</span></span>; first = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ++a; } second = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> --a; } a = <span class="hljs-number"><span class="hljs-number">2</span></span>; first();<span class="hljs-comment"><span class="hljs-comment">//3 } testFn(); first();//4 second();//3</span></span></code> </pre><br>  ¬°Imag√≠nese lo complicado que es escribir pruebas para este ejemplo y cu√°nto simplifica para funciones puras! <br><br>  Las funciones impuras se caracterizan por un estado externo variable en el tiempo que complica el mantenimiento, la comprensi√≥n y las pruebas de c√≥digo. <br><br>  Por el contrario, las funciones puras son siempre legibles, comprobables, simplifican la paralelizaci√≥n de los c√°lculos y son f√°ciles de reutilizar. <br><br>  Creo que not√≥ que en los ejemplos sobre funciones puras, cambi√© a la sintaxis ES6.  Esto se hizo deliberadamente.  Esta sintaxis de funciones se llama "funciones de flecha", pero de hecho es una implementaci√≥n de abstracci√≥n matem√°tica, inventada hace mucho tiempo.  Sobre esto m√°s all√°. <br><br><h3>  Lambda - funciones </h3><br>  Esto es lo que se llama esta forma de escritura de flecha en matem√°ticas y algunos otros lenguajes de programaci√≥n.  La programaci√≥n funcional est√° muy relacionada con el tapete.  an√°lisis, as√≠ que no te sorprendas. <br><br>  El t√©rmino c√°lculo Lambda fue introducido en la d√©cada de 1930 por Alonzo Church.  En esencia, el c√°lculo lambda no es m√°s que una forma formal de describir una ecuaci√≥n matem√°tica.  M√°s detalles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  En ES, una funci√≥n lambda a menudo implementa un cierre: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> add = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> y =&gt; x + y;</code> </pre><br>  Corto y conciso.  La funci√≥n add es una lambda que toma un argumento x, lo almacena en un cierre y devuelve una funci√≥n. <br><br>  Compare con este c√≥digo: <br><br><pre> <code class="javascript hljs">funtion add(x) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">y</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x + y; } }</code> </pre><br>  Obviamente, la primera opci√≥n se ve mejor. <br><br><h3>  Inmunidad </h3><br>  <b>Inmutable (inmutable, inmunidad)</b> es un objeto cuyo estado no se puede cambiar despu√©s de la creaci√≥n.  El resultado de cualquier modificaci√≥n de dicho objeto siempre ser√° un objeto nuevo, mientras que el objeto antiguo no cambiar√°. <br><br>  La inmutabilidad es el grial de oro de la programaci√≥n funcional. <br><br>  Considere un ejemplo: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> impureAddProp = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">key, value, object</span></span></span><span class="hljs-function">) =&gt;</span></span> { object[key] = value;<span class="hljs-comment"><span class="hljs-comment">//   }; const User= { name: 'Alex' }; impureAddProp ('isAdmin', true, User);</span></span></code> </pre><br>  Como puede ver, en este ejemplo, mutamos el objeto Usuario al agregarle una propiedad.  Ahora el objeto Usuario es una especie de "estado compartido" para la funci√≥n impureAddProp y otras funciones que lo mutar√°n.  Este enfoque es m√°s dif√≠cil de probar porque  Al cambiar cualquier funci√≥n que interact√∫a con un estado compartido, siempre se deben tener en cuenta los posibles errores en otras funciones. <br><br>  Desde el punto de vista de la programaci√≥n funcional, ser√≠a correcto: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pureAddProp = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">key, value, object</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ ...object, [key]: value }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> User= { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Alex'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Admin= pureAddProp (<span class="hljs-string"><span class="hljs-string">'isAdmin'</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, User);</code> </pre><br>  Por lo tanto, el objeto Usuario permanecer√° sin cambios.  Estamos modificando una copia de los datos, que siempre es segura. <br><br><h2>  Conclusi√≥n </h2><br>  Hoy hemos examinado varios conceptos te√≥ricos importantes.  Nos familiarizamos con las funciones puras, la forma lambda de las funciones de grabaci√≥n y el concepto de inmutabilidad en fp.  Sin embargo, este art√≠culo es una especie de introducci√≥n.  Las principales ideas, t√©cnicas y "partes dif√≠ciles" de la programaci√≥n funcional se encontrar√°n en los siguientes art√≠culos. <br><br>  La programaci√≥n funcional es implementada por muchas bibliotecas.  Esto es rambda, y lodash, y muchos otros.  En un proyecto real, usted, por supuesto, los usar√°.  Bajo el cap√≥ de cualquier biblioteca, seguir√° habiendo el mismo JavaScript nativo, por lo que en los siguientes art√≠culos analizaremos el FP, implementando todos sus conceptos en JS nativo. <br><br><h2>  Postdata </h2><br>  Comenzando a escribir art√≠culos, ten√≠a en mente el siguiente plan: <br><br><ul><li>  escribir traducciones de interesantes art√≠culos en ingl√©s </li><li>  para resaltar varias √°reas relevantes en JS (conceptos clave, OOP en t√©rminos de especificaciones EcmaScript, patrones, programaci√≥n funcional). </li></ul><br>  Hasta la fecha, ya se han escrito art√≠culos principales en tres √°reas: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">this y ScopeChain en EcmaScript</a> : aqu√≠ describ√≠ conceptos clave de la especificaci√≥n como el contexto de ejecuci√≥n, la palabra clave this y la propiedad de contexto ScopeChain (cadena de alcance).  En el marco de esta direcci√≥n, mi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> sobre el entorno l√©xico y el cierre se public√≥ literalmente hoy. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Una mirada de EcmaScript a la teor√≠a general de OOP</a> : aqu√≠ se describi√≥ la diferencia entre la tipificaci√≥n de clase est√°tica y la organizaci√≥n din√°mica de prototipos, el modelo de delegaci√≥n y la tipificaci√≥n de pato se desmontan </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Patrones elegantes en JavaScript moderno (serie de compilaci√≥n de Bill Sourour en el ciclo)</a> : aqu√≠ hay dos patrones que pueden ser √∫tiles en algunas situaciones.  Mi enfoque en t√©rminos de patrones es bastante simple: es mejor conocer tantos patrones como sea posible, porque  tarde o temprano te ser√° √∫til </li></ol><br>  Y ahora es el turno de la programaci√≥n funcional.  En el futuro, escribir√© art√≠culos en la continuaci√≥n de cada una de estas √°reas.  Por ejemplo, el siguiente art√≠culo tratar√° sobre los conceptos clave de OOP: encapsulaci√≥n, abstracci√≥n, impurezas (y trazos), interfaces, etc. ... Tambi√©n planeo hablar sobre c√≥mo se implementa OOP en ES bajo el cap√≥, es decir.  sobre las propiedades de [[Prototipo]], [[Clase]] y mucho m√°s.  Hable acerca de c√≥mo v8 crea entidades e instancias de clases, funciones. <br><br>  En los comentarios surgen muchas preguntas, as√≠ que me gustar√≠a explicar los objetivos que establec√≠ para mis art√≠culos.  No escribo tutoriales ni reviso la documentaci√≥n.  En mi opini√≥n, esto no tiene sentido.  No te aconsejo con ciertos instrumentos o patrones, su elecci√≥n es totalmente tuya. <br><br>  En los art√≠culos, reviso los conceptos, cuento c√≥mo se organizan debajo del cap√≥ (en mi opini√≥n, esto mejora la comprensi√≥n de lo que escribimos y por qu√© escribimos de esta manera), o hablo de algunas cosas que ampl√≠an mis horizontes.  En mi opini√≥n esto es muy importante.  Eche un vistazo a empresas como Yandex o Edadil, que constantemente hablan sobre alg√∫n tipo de ideas originales.  O bien estos son mapas de bits en la reacci√≥n, entonces la aplicaci√≥n vue est√° casi completamente en clases es6.  La mayor√≠a de los desarrolladores web nunca habr√≠an pensado en tal cosa.  Esto requiere una perspectiva amplia. <br><br>  Yo mismo estudi√© y estudi√© la web de esta manera, es decir  Despu√©s de leer un tutorial o un dock, trato de entender c√≥mo funciona la herramienta descrita debajo del cap√≥, para comprender su mec√°nica interna. <br><br>  Hasta futuros art√≠culos, amigos! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/474702/">https://habr.com/ru/post/474702/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../474692/index.html">Revisi√≥n de Skaffold para el desarrollo de Kubernetes</a></li>
<li><a href="../474694/index.html">C√≥mo seleccionamos y torcimos el marco para las pruebas de rendimiento</a></li>
<li><a href="../474696/index.html">Boleto de aceite o boleto de Rosneft para el desaf√≠o s√≠smico</a></li>
<li><a href="../474698/index.html">Usar ventanas modales en interfaces de usuario</a></li>
<li><a href="../474700/index.html">Cloud Smart Home. Parte 2: Servicio en la nube</a></li>
<li><a href="../474704/index.html">Entrevista de Playboy: Steve Jobs, Parte 2</a></li>
<li><a href="../474706/index.html">Algoritmo de b√∫squeda difusa de TextRadar: enfoques b√°sicos</a></li>
<li><a href="../474708/index.html">Internet est√° m√°s fragmentado que nunca: ¬øa d√≥nde "llegan" m√°s de un mill√≥n de nuevos usuarios diariamente? Parte 1</a></li>
<li><a href="../474710/index.html">c.tech: Frontend Meetup # 2</a></li>
<li><a href="../474712/index.html">Udalenka en TI: experiencia personal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>