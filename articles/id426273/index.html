<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛤️ 📠 🛀🏽 Instal dan konfigurasikan Oracle Internet Directory untuk menyelesaikan nama database 🥅 🚍 👨🏻‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setiap orang yang telah bekerja dengan DBMS jenis ini mengetahui akses ke DBMS Oracle, yang disimpan dalam file tnsnames.ora. 

 Data disimpan dalam f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Instal dan konfigurasikan Oracle Internet Directory untuk menyelesaikan nama database</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426273/">  Setiap orang yang telah bekerja dengan DBMS jenis ini mengetahui akses ke DBMS Oracle, yang disimpan dalam file tnsnames.ora. <br><br>  Data disimpan dalam file <i>tnsnames.ora</i> dalam teks biasa dan dapat dengan mudah diubah menggunakan editor teks apa pun.  Baik jika tidak ada banyak entri di dalamnya, tetapi apa yang harus dilakukan jika organisasi memiliki ratusan basis data, akses yang harus disediakan dari host pengguna dari berbagai tingkatan atau dari server terminal.  Dan jika pada satu titik baik database berpindah ke host lain, atau terjadi perubahan lain yang mengubah pengaturan akses ke database, Anda perlu mengubah pengaturan akses di mana-mana. <br><br>  Ada banyak solusi yang ditawarkan, termasuk arahan ulang, alias, dll. <br><br>  Di sini saya akan menjelaskan cara menginstal dan mengkonfigurasi repositori tunggal untuk menyelesaikan nama-nama database menggunakan Oracle Internet Directory OID, dan bagaimana menerapkan resolusi nama menggunakan protokol LDAP.  Ini jauh lebih nyaman daripada menyimpan file tnsnames.ora hingga ratusan tempat terbaru. <br><a name="habracut"></a><br>  Instalasi dan konfigurasi DBMS untuk database repositori OID tidak dijelaskan di sini, poin-poin penting yang penting untuk konfigurasi ini ditunjukkan.  Anda dapat membiasakan diri dengan kebijakan lisensi Oracle mengenai Basis Data RDBMS, Oracle Fusion Middleware dan produk-produk Oracle Internet Directory di situs web perusahaan. <br><br><h2>  Instalasi perangkat lunak </h2><br>  Perangkat lunak ini diinstal pada OS Linux (SUSE Linux Enterprise Server 11), untuk OS Anda, Anda perlu memeriksa matriks kompatibilitas pada oracle.com. <br><br>  Untuk menginstal server Standalone (menjalankan NodeManager), distribusi berikut diambil saat ini pada saat penyiapan: <br><br>  JAVA: jdk-8u171-linux-x64.tar.gz <br>  OID: fmw_12.2.1.3.0_oid_linux64_Disk1_1of1.zip <br>  RDBMS: 12.1.0.2 + PSU + Opatch dari versi saat ini <br><br>  <b>Instal perangkat lunak untuk repositori</b> tempat skema OID akan disimpan <br><br>  DBMS versi 12.1.0.2 + PSU <br>  DB  Buat database "kosong": <br>  Harus ditentukan <br>  Pengkodean AL32UTF8, termasuk ORACLE TEXT dalam instalasi perangkat lunak <br>  Parameter DB: <br>  <i>open_cursors = 800</i> <i><br></i>  <i>proses = 500</i> <br>  Selain itu, perlu untuk menjalankan skrip xaview.sql, yang ditemukan pada tahap memeriksa instalasi OID. <br>  mengkonfigurasi dan menaikkan LISTENER untuk database. <br><br>  Jadi, database kosong dibuat oleh uhost-oid1: 1521 / oid1 (dalam hal ini, oid1- SID dari database) dan siap untuk membuat repositori di dalamnya. <br><br><h2>  Pengaturan OID </h2><br>  Selanjutnya, direktori home pengguna oracle adalah / u / app / oracle <br>  Buka paket java dan atur variabel JAVA_HOME <br><br><pre><code class="hljs powershell">unzip jdk<span class="hljs-literal"><span class="hljs-literal">-8u171</span></span><span class="hljs-literal"><span class="hljs-literal">-linux</span></span><span class="hljs-literal"><span class="hljs-literal">-x64</span></span>.tar.gz export JAVA_HOME=/u/app/oracle/jdk1.<span class="hljs-number"><span class="hljs-number">8.0</span></span>_171</code> </pre> <br>  Buka kemasan OID <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">unzip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">fmw_12</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0_oid_linux64_Disk1_1of1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.zip</span></span></code> </pre> <br><br>  Ternyata file ./fmw_12.2.1.3.0_oid_linux64.bin <br><br>  Kami memeriksa apakah itu dapat dieksekusi, jika tidak <br><br><pre> <code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">chmod</span></span> +<span class="hljs-keyword"><span class="hljs-keyword">x</span></span></code> </pre> <br>  Kami meluncurkan: <br><br><pre> <code class="hljs">./fmw_12.2.1.3.0_oid_linux64.bin</code> </pre> <br>  (Penerusan X-server terlebih dahulu harus dikonfigurasi), penginstal berbasis java akan mulai. <br><br>  Berikut ini ditetapkan sebagai ORACLE_HOME: <br><br>  / u / app / oracle / produk / middleware / Oracle_IDM1 <br><br>  Sepanjang jalan ini, perangkat lunak untuk oracle fusion middleware (FMW) dan Oracle Internet Directory akan diinstal. <br><br>  Pada tahap "tipe instalasi", tentukan STANDALONE. <br><br><img src="https://habrastorage.org/webt/rt/dz/ed/rtdzedgsko18zmsercfms4xmq20.jpeg"><br><br><h3>  Buat repositori (skema yang diperlukan dalam database) </h3><br><br>  Kami membuat skema untuk repositori di database, untuk ini kami menjalankan rcu <br><br><pre> <code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /u/app/oracle/product/middleware/Oracle_IDM1/oracle_common/bin/ ./rcu.sh</code> </pre><br>  Pada tahap ini, skema ODSSM, ODS, dan DEV_STB dibuat (ingat kata sandi, itu akan diperlukan saat mengkonfigurasi komponen domain) <br><br><h3>  Kami membuat domain tempat OID akan bekerja untuk kami (domain dalam hal FMW) </h3><br><pre> <code class="hljs axapta">cd /u/app/oracle/product/middleware/Oracle_IDM1/oracle_common/<span class="hljs-keyword"><span class="hljs-keyword">common</span></span>/bin ./config.sh</code> </pre><br><br>  Kami membuat domain dalam folder yang terpisah dari perangkat lunak.  Misalnya, tentukan ini: <br><br>  / u / app / oracle / config / domains / oid_domain <br><br><img src="https://habrastorage.org/webt/p_/vg/op/p_vgopfkgcosbmmpo0e4r6cbz7q.jpeg"><br><br><img src="https://habrastorage.org/webt/4j/wm/nx/4jwmnxjeti-eo8ddm3n0tb0royo.jpeg"><br><br>  Untuk koneksi ke database, tentukan parameter skema yang dibuat sebelumnya (dan kata sandi) <br>  Saat menginstal, kami mengatur login dan kata sandi untuk NodeManager (ini akan digunakan di masa depan untuk terhubung ke NodeManager dan memulai / hentikan OID sendiri melalui itu) <br><br><h3>  Luncurkan NodeManager </h3><br>  Untuk memulai NodeManager, Anda perlu membuat file dengan tombol: DemoIdentity.jks.  (Jika, selain menginstal OID, Anda menginstal pembaruan, maka langkah ini mungkin tidak diperlukan) <br>  Kami akan menghasilkan "default" sehingga kami tidak akan tersiksa dengan parameter memuat keystore di konfigurasi domain.  Ini berfungsi dengan parameter seperti itu - ini adalah kata sandi default untuk repositori: <br><br><pre> <code class="hljs axapta">cd /u/app/oracle/product/middleware/Oracle_IDM1/oracle_common/<span class="hljs-keyword"><span class="hljs-keyword">common</span></span>/bin</code> </pre><br>  tampil <br><br><pre> <code class="hljs css">. <span class="hljs-selector-tag"><span class="hljs-selector-tag">setWlstEnv</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sh</span></span></code> </pre><br>  (tentu dengan titik, tidak bekerja dengan cara lain) <br>  Pergi ke direktori tempat file harus disimpan: <br><br><pre> <code class="hljs powershell">cd /u/app/oracle/config/domains/oid_domain/security java utils.CertGen <span class="hljs-literal"><span class="hljs-literal">-keyfilepass</span></span> DemoIdentityPassPhrase <span class="hljs-literal"><span class="hljs-literal">-certfile</span></span> democert <span class="hljs-literal"><span class="hljs-literal">-keyfile</span></span> demokey <span class="hljs-literal"><span class="hljs-literal">-strength</span></span> <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-literal"><span class="hljs-literal">-noskid</span></span> java utils.ImportPrivateKey <span class="hljs-literal"><span class="hljs-literal">-keystore</span></span> DemoIdentity.jks <span class="hljs-literal"><span class="hljs-literal">-storepass</span></span> DemoIdentityKeyStorePassPhrase <span class="hljs-literal"><span class="hljs-literal">-keyfile</span></span> demokey <span class="hljs-literal"><span class="hljs-literal">-keyfilepass</span></span> DemoIdentityPassPhrase <span class="hljs-literal"><span class="hljs-literal">-certfile</span></span> democert.pem <span class="hljs-literal"><span class="hljs-literal">-keyfile</span></span> demokey.pem <span class="hljs-literal"><span class="hljs-literal">-alias</span></span> demoidentity</code> </pre><br>  Ungkapan utama DemoIdentityPassPhrase hanya itu, jika tidak, Anda harus mengedit konfigurasi domain. <br>  Penting untuk menangani ini, tetapi Anda harus mulai bekerja terlebih dahulu. <br><br><pre> <code class="hljs lua">export TNS_ADMIN=/u/app/oracle/<span class="hljs-built_in"><span class="hljs-built_in">config</span></span>/domains/oid_domain/<span class="hljs-built_in"><span class="hljs-built_in">config</span></span>/fmwconfig/components/OID/<span class="hljs-built_in"><span class="hljs-built_in">config</span></span></code> </pre> <br>  Diperlukan untuk mengkonfigurasi OID itu sendiri, jika domain tidak akan dapat terhubung ke database repositori (lihat <i>Problem1</i> ) <br><br><pre> <code class="hljs ruby">export LD_LIBRARY_PATH=<span class="hljs-regexp"><span class="hljs-regexp">/u/app</span></span><span class="hljs-regexp"><span class="hljs-regexp">/oracle/product</span></span><span class="hljs-regexp"><span class="hljs-regexp">/middleware/</span></span>Oracle_IDM1/<span class="hljs-symbol"><span class="hljs-symbol">lib:</span></span>$LD_LIBRARY_PATH</code> </pre><br>  diperlukan untuk menemukan perpustakaan yang tepat dan menarik diri dari ORACLE_HOME yang tepat <br><br>  Jika ada, periksa dengan ldd ke mana harus mencari: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">ldd</span></span> /u/app/oracle/product/middleware/Oracle_IDM1/bin/oiddispd</code> </pre> <br>  Harus menggunakan ORACLE_HOME dengan perangkat lunak FMW: <br><br><pre> <code class="hljs ruby">libclntsh.so.<span class="hljs-number"><span class="hljs-number">12.1</span></span> =&gt; <span class="hljs-regexp"><span class="hljs-regexp">/u/app</span></span><span class="hljs-regexp"><span class="hljs-regexp">/oracle/product</span></span><span class="hljs-regexp"><span class="hljs-regexp">/middleware/</span></span>Oracle_IDM1/lib/libclntsh.so.<span class="hljs-number"><span class="hljs-number">12.1</span></span></code> </pre> <br>  Kesalahan jika tidak demikian, lihat <i>Masalah2</i> <br><br><pre> <code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /u/app/oracle/config/domains/oid_domain/bin/ ./setStartupEnv.sh –  .   ./startNodeManager.sh &amp;</code> </pre><br>  Pastikan NodeManager berjalan. <br>  Log dan konfigurasi: / u / app / oracle / config / domains / oid_domain / nodemanager <br><br>  <i><b>Masalah 1:</b></i> <br><br><pre> <code class="hljs pgsql">Jun <span class="hljs-number"><span class="hljs-number">22</span></span>, <span class="hljs-number"><span class="hljs-number">2018</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">27</span></span>:<span class="hljs-number"><span class="hljs-number">58</span></span> AM MSK Fatal error <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> NodeManager <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> weblogic.nodemanager.common.ConfigException: <span class="hljs-keyword"><span class="hljs-keyword">Identity</span></span> key store file <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span>: /u/app/oracle/config/domains/oid_domain/<span class="hljs-keyword"><span class="hljs-keyword">security</span></span>/DemoIdentity.jks</code> </pre><br>  Solusi1: Pergi dan hasilkan DemoIdentity.jks seperti dijelaskan di atas <br><br>  <i><b>Masalah 2</b></i> : <br><br><pre> <code class="hljs vbscript">Jun <span class="hljs-number"><span class="hljs-number">28</span></span>, <span class="hljs-number"><span class="hljs-number">2018</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">20</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span> PM MSK INFO /u/app/oracle/config/domains/oid_domain&gt;&gt;&lt;&lt; password: confirm password: Unable <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> Connect <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> Database: Incorrect location <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> tnsnames.ora (<span class="hljs-built_in"><span class="hljs-built_in">derived</span></span> from DOMAIN_HOME) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> Incorrect TNS Connect <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> Invalid Password &gt; &lt;createDbWallet domain: /u/app/oracle/config/domains/oid_domain, oidpasswd output: password: confirm password:</code> </pre><br>  <i><b>Solusi2</b></i> : atur variabel TNS_ADMIN dan periksa nama pengguna / kata sandi sudah benar <br><br><h3>  Konfigurasi OID Utama </h3><br>  Pada titik ini, variabel harus ditetapkan. <br>  TNS_ADMIN <br>  LD_LIBRARY_PATH <br>  Diasumsikan bahwa NodeManager sudah berjalan. <br>  Luncurkan utilitas WLST: <br><br><pre> <code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /u/app/oracle/product/middleware/Oracle_IDM1/oracle_common/common/bin <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> MW_HOME=<span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span></code> </pre> <br>  Kami mengekstrak variabel yang diperlukan agar utilitas WLST berfungsi <br><br><pre> <code class="hljs">./setHomeDirs.sh ./setWlstEnv.sh ./wlst.sh</code> </pre><br>  Selanjutnya, menggunakan utilitas WLST, kami terhubung ke NodeManager.  Kami memerlukan nama pengguna dan kata sandi yang ditentukan selama instalasi (ditentukan untuk NodeManager, kami memiliki weblogic ini) <br><br><pre> <code class="hljs pgsql">nmConnect(username=<span class="hljs-string"><span class="hljs-string">'weblogic'</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">password</span></span>=<span class="hljs-string"><span class="hljs-string">'  NodeManager '</span></span>,domainName=<span class="hljs-string"><span class="hljs-string">'oid_domain'</span></span>)</code> </pre><br>  <i>Contoh Keluaran</i> : <br><br><pre> <code class="hljs ruby">[<span class="hljs-number"><span class="hljs-number">13</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">45</span></span>][uhost-oid1.oracle.<span class="hljs-symbol"><span class="hljs-symbol">:/u/app/oracle/product/middleware/Oracle_IDM1/oracle_common/common/bin</span></span>]$ ./wlst.sh Initializing WebLogic Scripting Tool (WLST) ... Welcome to WebLogic Server Administration Scripting Shell Type help() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> help on available commands <span class="hljs-symbol"><span class="hljs-symbol">wls:</span></span>/offline&gt; nmConnect(username=<span class="hljs-string"><span class="hljs-string">'weblogic'</span></span>,password=<span class="hljs-string"><span class="hljs-string">'*****'</span></span>,domainName=<span class="hljs-string"><span class="hljs-string">'oid_domain'</span></span>) Connecting to Node Manager ... Successfully Connected to Node Manager.</code> </pre><br>  Kami memulai inisialisasi, di mana instance dengan nama oid1 dibuat. <br>  Pada baris di bawah ini: <br><br>  odsPassword - kata sandi untuk skema ODS berdasarkan repositori yang ditetapkan selama ./rcu <br>  orcladminPassword - kata sandi yang akan digunakan sebagai cn = orcladmin untuk mengakses LDAP <br>  realmDN - LDAP - skema yang akan dikonfigurasi <br><br><pre> <code class="hljs lisp">oid_setup(<span class="hljs-name"><span class="hljs-name">orcladminPassword=</span></span>'****',odsPassword='***',realmDN='dc=mycompany,dc=ru')</code> </pre> <br>  Setelah eksekusi, komponen (contoh dalam hal FMW) dengan nama oid1 akan dibuat <br><br>  <b><i>Masalah 3</i></b> : <br>  Log /u/app/oracle/config/domains/oid_domain/servers/OID/logs/oid1/oidmon*.log <br>  berisi <br><br><pre> <code class="hljs vhdl">/u/app/oracle/product/middleware/Oracle_IDM1/wlserver/../bin/oiddispd: &lt;b&gt;<span class="hljs-literal"><span class="hljs-literal">error</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> loading <span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> libraries&lt;/b&gt;: libclntshcore.so.<span class="hljs-number"><span class="hljs-number">12.1</span></span>: cannot <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> <span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> object <span class="hljs-keyword"><span class="hljs-keyword">file</span></span>: No such <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> directory</code> </pre> <br>  <b><i>Solusi3</i></b> : <br>  Atur variabel lingkungan <br>  LD_LIBRARY_PATH = / u / app / oracle / produk / middleware / Oracle_IDM1 / lib: $ LD_LIBRARY_PATH <br>  restart NodeManager, <br>  jalankan komponen: <br><br><pre> <code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /u/app/oracle/config/domains/oid_domain/bin/ nohup ./startNodeManager.sh &amp; ./startComponent.sh oid1</code> </pre><br>  Jika komponen dibuat karena alasan ini tetapi tidak berhasil, maka kami membunuh proses oidmon, mengubah parameter status proses dalam DBMS: <br><br><pre> <code class="hljs perl">ps –ef|<span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> oidmon <span class="hljs-keyword"><span class="hljs-keyword">kill</span></span> oidmon</code> </pre><br><pre> <code class="sql hljs">sqlplus / as sysdba <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> ods.ods_process_status <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> pid=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> compname=<span class="hljs-string"><span class="hljs-string">'oid1'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> ods.ods_process_status <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> state=<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> compname=<span class="hljs-string"><span class="hljs-string">'oid1'</span></span>;</code> </pre><br>  Pemeriksaan koneksi: <br><br><pre> <code class="hljs powershell">./ldapbind <span class="hljs-literal"><span class="hljs-literal">-h</span></span> localhost <span class="hljs-literal"><span class="hljs-literal">-p</span></span> <span class="hljs-number"><span class="hljs-number">3060</span></span> ./ldapbind <span class="hljs-literal"><span class="hljs-literal">-h</span></span> localhost <span class="hljs-literal"><span class="hljs-literal">-p</span></span> <span class="hljs-number"><span class="hljs-number">3131</span></span> <span class="hljs-literal"><span class="hljs-literal">-U</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-literal"><span class="hljs-literal">-D</span></span> <span class="hljs-string"><span class="hljs-string">'cn=orcladmin'</span></span> <span class="hljs-literal"><span class="hljs-literal">-w</span></span> ****</code> </pre><br>  Anda mungkin perlu menginisialisasi oid_setup lagi <br>  <b><i>Masalah 4</i></b> .  Saat mencoba menyimpan ke NetManager: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">oracle</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.net</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.common</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.dataStore</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.DataStoreException</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">error</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">writing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ServiceAlias</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">LDAPDataStore</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[svr: uhost-oid1.mycompany.ru:3060:3131, type: OID, ctxt: cn=OracleContext,dc=mycompany,dc=ru, home: C:\oracle\product\12.1.0\client_1]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">original</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">exception</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">TNS-04409</span></span>:    <span class="hljs-selector-tag"><span class="hljs-selector-tag">caused</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">by</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">oracle</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.net</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.config</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.DirectoryServiceException</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">TNS-04405</span></span>:   <span class="hljs-selector-tag"><span class="hljs-selector-tag">caused</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">by</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">oracle</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.net</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ldap</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.NNFLException</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">original</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">stack</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">trace</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">oracle</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.net</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.config</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ServiceAliasException</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">TNS-04409</span></span>:    <span class="hljs-selector-tag"><span class="hljs-selector-tag">caused</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">by</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">oracle</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.net</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.config</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.DirectoryServiceException</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">TNS-04405</span></span>:   <span class="hljs-selector-tag"><span class="hljs-selector-tag">caused</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">by</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">oracle</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.net</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ldap</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.NNFLException</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">oracle</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.net</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.config</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.DirectoryServiceException</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">TNS-04405</span></span>:   <span class="hljs-selector-tag"><span class="hljs-selector-tag">caused</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">by</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">oracle</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.net</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ldap</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.NNFLException</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">oracle</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.net</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ldap</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.NNFLException</span></span></code> </pre><br><img src="https://habrastorage.org/webt/p8/pm/1b/p8pm1bts4oilkqr56yfupfyhfpq.jpeg"><br><br>  <b>Solusi4:</b> <br>  Jalankan oid_setup lagi <br>  Periksa pengaturan ldap.ora pada klien dari mana Net Manager dimulai <br>  DEFAULT_ADMIN_CONTEXT = "dc = perusahaan saya, dc = ru" <br><br>  <b>Ubah parameter OID (untuk memungkinkan permintaan dari pengguna anonim)</b> <br>  Ketika nama TNS dibuat menggunakan net manager, tetapi tnsping tidak berfungsi. <br>  Buat file: <br>  cat anonymousbind.ldif <br><br><pre> <code class="hljs sql">dn: cn=oid1,cn=osdldapd,cn=subconfigsubentry changetype: modify <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span>: orclAnonymousBindsFlag orclAnonymousBindsFlag: <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br>  dan memodifikasi parameter menggunakan file ini: <br><br><pre> <code class="hljs powershell">ldapmodify <span class="hljs-literal"><span class="hljs-literal">-D</span></span> cn=orcladmin <span class="hljs-literal"><span class="hljs-literal">-W</span></span> <span class="hljs-literal"><span class="hljs-literal">-p</span></span> <span class="hljs-number"><span class="hljs-number">3131</span></span> <span class="hljs-literal"><span class="hljs-literal">-h</span></span> localhost <span class="hljs-operator"><span class="hljs-operator">-f</span></span> anonymousbind.ldif</code> </pre> <br>  <i><b>Diagnostik:</b></i> <br>  tnsping mytest tidak berfungsi, pencarian ldaps bekerja <br>  Memeriksa ketersediaan port 3060 dan 3131 (untuk SSL) <br><br>  ini cara kerjanya (dengan kata sandi) <br><br><pre> <code class="hljs powershell">ldapsearch <span class="hljs-literal"><span class="hljs-literal">-h</span></span> uhost<span class="hljs-literal"><span class="hljs-literal">-oid1</span></span>.mycompany.ru <span class="hljs-literal"><span class="hljs-literal">-p</span></span> <span class="hljs-number"><span class="hljs-number">3060</span></span> <span class="hljs-literal"><span class="hljs-literal">-D</span></span> <span class="hljs-string"><span class="hljs-string">"cn=orcladmin"</span></span> <span class="hljs-literal"><span class="hljs-literal">-w</span></span> password_hear <span class="hljs-literal"><span class="hljs-literal">-b</span></span> <span class="hljs-string"><span class="hljs-string">"cn=mytest,cn=OracleContext,dc=mycompany,dc=ru"</span></span> <span class="hljs-literal"><span class="hljs-literal">-s</span></span> base <span class="hljs-string"><span class="hljs-string">"objectclass=*"</span></span></code> </pre> <br>  mytest adalah alias yang dibuat sebelumnya. <br><br><h2>  Pengaturan klien </h2><br>  Di sisi klien, $ ORACLE_HOME / network / admin berisi file: <br>  ldap.ora <br>  sqlnet.ora <br>  tnsnames.ora <br><br>  File tnsnames.ora berisi alias "lokal", seperti biasa, dan digunakan jika nama tidak ditemukan di LDAP. <br>  File sqlnet.ora berisi deskripsi perintah resolver: <br><br>  <u>sqlnet.ora</u> <br><cut></cut><br> <code>SQLNET.AUTHENTICATION_SERVICES= (NTS) <br> NAMES.DIRECTORY_PATH= (TNSNAMES,LDAP) <br></code> <br><br>  Pengaturan akses untuk file LDAP diatur di ldap.ora <br><br>  <u>ldap.ora</u> <br><cut></cut><br><pre> <code class="hljs lisp">DIRECTORY_SERVERS = (<span class="hljs-name"><span class="hljs-name">uhost-oid1</span></span>.mycompany.ru:<span class="hljs-number"><span class="hljs-number">3060</span></span>:<span class="hljs-number"><span class="hljs-number">3131</span></span>,rephost-oid1.mycompany.ru:<span class="hljs-number"><span class="hljs-number">3060</span></span>:<span class="hljs-number"><span class="hljs-number">3131</span></span>) DIRECTORY_SERVER_TYPE = OID DEFAULT_ADMIN_CONTEXT = <span class="hljs-string"><span class="hljs-string">"dc=mycompany,dc=ru"</span></span></code> </pre><br>  Dalam konfigurasi yang dijelaskan, urutan berikut digunakan. <br><br>  Pertama, file tnsnames.ora dilihat, jika catatan tidak ditemukan di sana, maka kami meminta LDAP (jika Anda perlu mengubah urutan, ubah urutan di parameter NAMES.DIRECTORY_PATH <br><br>  Berikutnya adalah permintaan ke server LDAP utama, jika tidak tersedia karena alasan tertentu, buka server kedua dalam daftar DIRECTORY_SERVERS <br><br>  Urutan pemungutan suara dalam hal ini tidak penting, yang pertama lebih baik untuk menunjukkan server terdekat secara geografis. <br><br>  Default admin context (LDAP) digunakan untuk konteks default, agar tidak menunjukkan mycompany.ru setiap saat <br><br>  Untuk alasan yang sama, tidak disarankan untuk menggunakan titik dalam catatan alias; ia menganggapnya sebagai domain. <br><br>  Selanjutnya saya akan memberi tahu cara mengkonfigurasi replikasi antar server </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id426273/">https://habr.com/ru/post/id426273/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id426263/index.html">Wi-Fi 6 mengumumkan: apa yang perlu Anda ketahui tentang standar baru</a></li>
<li><a href="../id426265/index.html">Kerangka Otomatisasi Pengiriman (SAF)</a></li>
<li><a href="../id426267/index.html">Lagu tentang bagaimana pembuatan proyek berubah menjadi neraka</a></li>
<li><a href="../id426269/index.html">Aplikasi python kivy untuk diet yang bervariasi. Dari kode hingga menerima file .apk untuk Android</a></li>
<li><a href="../id426271/index.html">Keselamatan mobil Tesla Model 3</a></li>
<li><a href="../id426275/index.html">Bagaimana kami mencari tanda-tanda kesalahan medis</a></li>
<li><a href="../id426277/index.html">Things to Remember untuk Programmer Beralih ke Python</a></li>
<li><a href="../id426279/index.html">Bagaimana format audio dan teknologi audio “berjuang” dan berkembang: intisari sejarah yang besar</a></li>
<li><a href="../id426281/index.html">Pendiri Amazon, Google, Microsoft dan Facebook kehilangan lebih dari $ 30 miliar selama jatuhnya pasar saham</a></li>
<li><a href="../id426283/index.html">WeChat di India: dari peluncuran yang kuat hingga hilangnya minat sepenuhnya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>