<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💆🏾 👨🏻‍✈️ 🍝 Infrastruktur TI baru untuk Pusat Data Pos Rusia ✖️ 🥗 🍚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya yakin bahwa semua pembaca Habr setidaknya pernah memesan barang di toko online di luar negeri dan kemudian pergi untuk menerima parsel di kantor ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Infrastruktur TI baru untuk Pusat Data Pos Rusia</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lanit/blog/484090/">  Saya yakin bahwa semua pembaca Habr setidaknya pernah memesan barang di toko online di luar negeri dan kemudian pergi untuk menerima parsel di kantor pos Rusia.  Bisakah Anda bayangkan skala tugas ini dari sudut pandang organisasi logistik?  Lipat gandakan jumlah pelanggan dengan jumlah pembelian mereka, bayangkan peta negara kita yang luas, dan ada lebih dari 40 ribu kantor pos di sana ... Ngomong-ngomong, pada tahun 2018, Russian Post memproses 345 juta paket internasional. <br><br>  Dalam artikel ini, kami akan memberi tahu Anda masalah apa yang dihadapi Mail dan bagaimana mereka ditangani oleh tim LANIT-Integration, menciptakan infrastruktur TI baru untuk pusat data. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/243/aa0/cd2/243aa0cd2d1d9e1286ab8290ba80f7a9.jpg"></div>  <i>Salah satu pusat logistik modern dari Pos Rusia</i> <br><a name="habracut"></a><br><h2>  Sebelum proyek </h2><br>  Karena peningkatan tajam dalam jumlah paket dari toko luar negeri di Cina, Eropa Barat dan Amerika Utara, beban pada fasilitas logistik dari Post Rusia telah meningkat.  Oleh karena itu, pusat-pusat logistik generasi baru dibangun yang menggunakan mesin sortasi berkapasitas tinggi.  Mereka membutuhkan dukungan dari infrastruktur komputasi. <br><br>  Infrastruktur pusat data sudah usang dan tidak memberikan kinerja dan keandalan yang diperlukan dalam pengoperasian sistem informasi perusahaan.  Juga, Russian Post mengalami kekurangan daya komputasi untuk meluncurkan layanan baru. <br><br><h2>  Pusat data pelanggan dan masalahnya </h2><br>  Pusat data Rusia Post melayani lebih dari 40.000 objek dan 85 departemen teritorial.  Ada puluhan layanan bisnis sepanjang waktu di pusat data, termasuk layanan e-commerce. <br><br>  Sudah hari ini, perusahaan menggunakan sistem untuk menyimpan, menganalisis dan memproses data besar.  Untuk sistem seperti itu, penggunaan kecerdasan buatan dan algoritma pembelajaran mesin memainkan peran penting.  Saat ini, salah satu kasus terpenting bagi perusahaan adalah mengoptimalkan pengelolaan arus logistik dan mempercepat layanan pelanggan di kantor pos. <br><br>  Sebelum proyek modernisasi, ada sekitar 3.000 mesin virtual di pusat data primer dan cadangan, jumlah informasi yang disimpan melebihi 2 petabyte.  Pusat data memiliki struktur perutean lalu lintas yang kompleks terkait dengan pemisahan menjadi segmen yang berbeda sesuai dengan tingkat keamanan. <br><br>  Dengan pengembangan aplikasi dan pengenalan layanan baru, bandwidth yang ada dari peralatan jaringan di pusat data menjadi tidak mencukupi.  Transisi ke antarmuka dengan kecepatan baru diperlukan: 10 Gbit / detik, bukannya 1 Gbit / detik pada akses dan 40 Gbit / detik pada tingkat inti, dengan redundansi penuh peralatan dan saluran komunikasi. <br><br>  Departemen Keamanan Informasi menerima permintaan untuk membagi infrastruktur menjadi segmen-segmen dengan tingkat keamanan informasi lalu lintas dan aplikasi yang tinggi (PN - Jaringan Swasta dan Zona Demiliterisasi DMZ).  Lalu lintas melewati firewall (ITU), yang tidak perlu disaring.  VRF pada sakelar tidak digunakan untuk lalu lintas semacam itu.  Aturan di ITU bersifat suboptimal (puluhan ribu aturan di setiap pusat data). <br><br>  Migrasi mesin virtual (VM) yang mulus antara pusat data dengan pelestarian alamat IP dan jalur lalu lintas yang optimal antar segmen, termasuk jaringan data perusahaan (KSPD), tidak mungkin. <br><br>  Untuk cadangan, MSTP digunakan, beberapa port diblokir (siaga panas).  Kernel dan sakelar akses tidak digabungkan ke dalam kluster failover, antarmuka agregasi (LAG) tidak digunakan. <br><br>  Dengan munculnya pusat data ketiga, arsitektur baru dan konfigurasi peralatan diperlukan untuk mengoperasikan cincin di antara pusat data (EVPN diusulkan). <br><br>  Tidak ada konsep tunggal untuk pengembangan pusat data, didokumentasikan dalam bentuk proyek dan disepakati dengan semua departemen pelanggan.  Dokumentasi saat ini untuk mengoperasikan jaringan tidak lengkap dan ketinggalan jaman. <br><br><h3>  Harapan pelanggan </h3><br>  Tim proyek memiliki tugas-tugas berikut: <br><br><ul><li>  menyiapkan konsep arsitektur dan pengembangan untuk membangun infrastruktur jaringan dan server pusat data ketiga; </li><li>  melakukan audit operasional dari jaringan pelanggan yang ada; </li><li>  memperluas kapasitas inti jaringan dengan lebih dari 1500 port Ethernet 10/40 Gbit / s di setiap pusat data (total 4.500 port); </li><li>  untuk memastikan pengoperasian cincin antara tiga pusat data dengan kemungkinan peningkatan kecepatan hingga 80 Gb / dt di setiap segmen untuk menggabungkan sumber daya komputasi pelanggan dari pusat data yang berbeda ke dalam satu sistem TI tunggal; </li><li>  menyediakan cadangan ganda 100% dari semua elemen jaringan untuk mencapai target Uptime di level 99,995%; </li><li>  meminimalkan penundaan lalu lintas antara mesin virtual untuk mempercepat aplikasi bisnis; </li><li>  kumpulkan statistik, lakukan analisis, dan lakukan optimasi selanjutnya dari aturan penyaringan lalu lintas di pusat data (awalnya ada sekitar 80.000 aturan); </li><li>  Kembangkan arsitektur yang ditargetkan untuk memigrasi aplikasi bisnis penting pelanggan dengan mulus ke salah satu dari tiga pusat data. </li></ul><br>  Jadi, kami memiliki sesuatu untuk dikerjakan. <br><br><h2>  Peralatan </h2><br>  Mari kita membahas lebih rinci tentang peralatan apa yang kita gunakan dalam proyek. <br><br>  <b>Firewall (NGWF) USG9560:</b> <br><br><ul><li>  pembagian ke dalam VSYS; </li><li>  hingga 720 Gbps; </li><li>  hingga 720 juta sesi bersamaan; </li><li>  8 slot. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36e/523/355/36e5233550f276b92525d264c8c79ebc.png"></div><br>  <b>Router NE40E-X8:</b> <br><br><ul><li>  hingga 7,08 Tbit / s Kapasitas Switching; </li><li>  Kinerja Penerusan hingga 2.880 Mpps; </li><li>  8 slot untuk kartu garis (LPU); </li><li>  hingga 10M BGP IPv4 rute per MPU; </li><li>  hingga 1500K OSPF IPv4 rute per MPU; </li><li>  hingga 3000K - IPv4 FIB (tergantung LPU). </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f74/581/f63/f74581f63475eb267481b2ecfbedf56d.png" width="500"></div><br>  <b>Saklar Seri CE12800:</b> <br><br><ul><li>  Perangkat Virtualisasi: VS (virtualisasi 1:16), Cluster Switch System (CSS), Super Virtual Fabric (SVF); </li><li>  Virtualisasi Jaringan: M-LAG, TRILL, VXLAN dan VXLAN bridging, QinQ di VXLAN, EVN (Ethernet Virtual Network); </li><li>  Dimulai dengan VRP V2, dukungan EVPN disertakan. </li><li>  M-LAG - analog vPC (virtual Port Channel) di Cisco Nexus; </li><li>  Virtual Spanning Tree Protocol (VSTP) - Kompatibel dengan Cisco PVST. </li></ul><br>  <b>CE12804</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/038/32b/bd6/03832bbd638493fe604e0cd2df180a26.png" width="500"></div><br>  <b>CE12808</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4ab/54b/f91/4ab54bf91ecef2a5607645c805adb69b.png" width="500"></div><br><h3>  Perangkat lunak </h3><br>  Dalam proyek kami menggunakan: <br><br><ul><li>  konverter file konfigurasi firewall vendor lain ke dalam format perintah untuk peralatan baru; </li><li>  skrip berpemilik untuk mengoptimalkan dan mengonversi konfigurasi firewall. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5ae/e32/aa1/5aee32aa1a46b56acb725054085288b6.png"></div>  <i>Penampilan konverter untuk mengkonversi file konfigurasi</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c05/fb0/3ea/c05fb03ea25d97c4239d18a78a7c4abd.png"></div>  <i>Skema organisasi komunikasi antara pusat data (EVPN VXLAN)</i> <br><br><h2>  Nuansa pengaturan peralatan </h2><br>  <b>CE12808</b> <br><br><ul><li>  EVPN (standar) alih-alih EVN (hak milik Huawei) untuk komunikasi antara pusat data: <br><br>  ○ L2 di atas L3 menggunakan iBGP di bidang Kontrol; <br>  ○ Pelatihan MAC dan pengumuman mereka melalui keluarga iBGP EVPN (rute MAC, tipe 2); <br>  ○ pembangunan otomatis terowongan VXLAN untuk siaran / lalu lintas unicast yang tidak dikenal (Rute Multicast Inklusif, tipe 3). </li><li>  Dua mode pembagian pada VS: <br><br>  ○ berdasarkan port (port-mode port) atau berdasarkan ASIC (grup-port mode, tampilan port-peta perangkat); <br>  Interface antarmuka dimensi pemisahan port 40GE HANYA bekerja di Admin VS (terlepas dari mode port). </li></ul><br>  <b>USG9560</b> <br><br><ul><li>  kemungkinan membagi menjadi VSYS, </li><li>  routing dinamis tidak mungkin antara VSYS dan rute bocor! </li></ul><br>  <b>CE12804</b> <br><br>  Semua GW Aktif (VRRP Master / Master / Master) dengan filter MAC VRRP antara pusat data <br><br> <code>acl number 4000 <br> rule 5 deny source-mac 0000-5e00-0100 ffff-ffff-ff00 <br> rule 10 deny destination-mac 0000-5e00-0100 ffff-ffff-ff00 <br> rule 15 permit <br> <br> interface Eth-Trunk1 <br> traffic-filter acl 4000 outbound</code> <br> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a5/ae3/2d8/4a5ae32d8dde225760aafa5e2695a9c6.png"></div>  <i>Skema interaksi sumber daya antara pusat data (VXLAN EVPN dan All Active GW)</i> <br><br><h2>  Tantangan Proyek </h2><br>  Kesulitan utama adalah kebutuhan untuk memesan aplikasi yang ada menggunakan infrastruktur komputasi.  Pelanggan memiliki lebih dari 100 aplikasi yang berbeda, beberapa di antaranya ditulis hampir 10 tahun yang lalu.  Misalnya, jika untuk Yandex Anda dapat dengan mudah mematikan beberapa ratus mesin virtual tanpa membahayakan pengguna akhir, maka di Russian Post, pendekatan ini akan memerlukan pengembangan sejumlah aplikasi dari awal dan perubahan dalam arsitektur sistem informasi perusahaan.  Kami memecahkan masalah yang timbul dalam proses migrasi dan optimalisasi pada tahap audit gabungan infrastruktur komputasi.  Semua teknologi jaringan baru untuk perusahaan (seperti EVPN) telah diuji sebelumnya di laboratorium. <br><br><h2>  Ringkasan Proyek </h2><br>  Tim proyek termasuk spesialis dari <a href="https://itlanit.ru/">LANIT-Integration</a> , pelanggan dan mitranya dalam pengoperasian infrastruktur komputasi.  Tim dukungan khusus dari vendor (Check Point dan Huawei) juga dibentuk.  Proyek ini memakan waktu dua tahun.  Inilah yang telah dilakukan selama ini. <br><br><ul><li>  Strategi untuk pengembangan jaringan pusat data, jaringan data perusahaan (DSP) dan lingkaran antara pusat data dikembangkan dan disepakati dengan semua departemen pelanggan. </li><li>  Ketersediaan layanan telah meningkat.  Ini dicatat oleh bisnis pelanggan dan menyebabkan pertumbuhan lalu lintas yang lebih besar karena pengenalan layanan baru. </li><li>  Lebih dari 40.000 aturan telah dimigrasikan dan dioptimalkan dari FWSM / ASA ke USG 9560. Konteks ASA yang berbeda pada UGG 9560 digabungkan menjadi satu kebijakan keamanan. </li><li>  Throughput port pusat data meningkat dari 1G menjadi 10 / 40G melalui penggunaan CE12800 / CE6850.  Ini menghilangkan kemacetan antarmuka dan kehilangan paket. <br></li><li>  Router kelas carrier NE40E-X8 sepenuhnya mencakup kebutuhan pusat data pelanggan dan KSPD dengan mempertimbangkan pengembangan bisnis di masa depan. </li><li>  Delapan Permintaan Fitur baru diminta untuk USG 9560. Dari jumlah tersebut, tujuh telah diimplementasikan dan termasuk dalam versi VRP saat ini.  1 FR - dijual di R&amp;D Huawei.  Ini adalah kelompok delapan sasis dengan kemampuan untuk mengkonfigurasi fungsionalitas yang diperlukan untuk menyinkronkan konfigurasi tanpa menyinkronkan sesi.  Diperlukan jika penundaan lalu lintas ke salah satu pusat data terlalu besar (Adler - Moskow 1.300 km di jalan raya utama dan 2800 km di jalan raya cadangan). </li></ul><br>  Proyek ini tidak memiliki analog dibandingkan dengan perusahaan pos Rusia lainnya. <br><br>  Modernisasi infrastruktur jaringan data center telah membuka peluang baru bagi perusahaan untuk mengembangkan layanan digital. <br><br><ul><li>  Menyediakan akun pribadi dan aplikasi seluler untuk individu dan badan hukum. </li><li>  Integrasi dengan toko elektronik untuk menyediakan layanan pengiriman barang. </li><li>  Pemenuhan - penyimpanan barang, pembentukan dan pengiriman pesanan toko elektronik. </li><li>  Perluasan tempat pengiriman pesanan, termasuk menggunakan jaringan afiliasi. </li><li>  Alur kerja yang signifikan secara hukum dengan rekanan.  Ini akan memungkinkan Anda untuk meninggalkan transfer dokumen kertas yang lambat dan mahal. </li><li>  Penerimaan surat terdaftar dalam bentuk elektronik dengan pengiriman baik dalam bentuk elektronik dan kertas (dengan segel pengiriman sedekat mungkin dengan penerima akhir).  Layanan surat elektronik terdaftar di portal layanan publik. </li><li>  Platform untuk penyediaan layanan telemedicine. </li><li>  Penerimaan yang disederhanakan dan penyederhanaan pengiriman surat terdaftar menggunakan tanda tangan elektronik sederhana. </li><li>  Digitalisasi jaringan kantor pos. </li><li>  Memproses layanan mandiri (terminal dan kantor pos). </li><li>  Pembuatan platform digital untuk mengelola layanan kurir dan aplikasi seluler baru untuk pelanggan layanan kurir. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Datanglah ke kami untuk bekerja!</b> <div class="spoiler_text"><ul><li>  <a href="https://job.lanit.ru/vacancy/Pages/MM-154.aspx%3Futm_source%3Dhabr%26utm_medium%3Dpost-2020-01-28%26utm_campaign%3Ddsi">Insinyur Infrastruktur Korporat</a> </li><li>  <a href="https://job.lanit.ru/vacancy/Pages/MM-171.aspx%3Futm_source%3Dhabr%26utm_medium%3Dpost-2020-01-28%26utm_campaign%3Ddsi">Insinyur Linux / Pengembang Terkemuka</a> </li></ul></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id484090/">https://habr.com/ru/post/id484090/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id484070/index.html">Bagaimana kami menulis sistem antifraud di empat tangan dan tiga kepala</a></li>
<li><a href="../id484072/index.html">5. Fortinet Memulai v6.0. NAT</a></li>
<li><a href="../id484076/index.html">Tempat menyimpan cryptocurrency: perpajakan cryptocurrency di berbagai negara</a></li>
<li><a href="../id484084/index.html">1C-Bitrix dan upaya untuk memperkenalkannya</a></li>
<li><a href="../id484088/index.html">Kata sandi hit parade (analisis ~ 5 miliar kata sandi dari kebocoran)</a></li>
<li><a href="../id484092/index.html">Agak berpakaian pangeran dan bangsawan</a></li>
<li><a href="../id484094/index.html">Buat penembak zombie orang ketiga dengan DOTS</a></li>
<li><a href="../id484096/index.html">Pertempuran dua Yakozun, atau Cassandra vs HBase. Pengalaman tim Sberbank</a></li>
<li><a href="../id484100/index.html">Bekerja dengan antarmuka di Google Maps SDK untuk Android</a></li>
<li><a href="../id484102/index.html">PHP vs Python vs Ruby on Rails: Perbandingan Lengkap</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>