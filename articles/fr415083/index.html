<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôéüèæ üé® üç¶ 5. V√©rifiez Point au maximum. IPS Partie 1 üßëüèΩ‚Äçü§ù‚Äçüßëüèª üì≤ üéë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Poursuivant notre s√©rie de didacticiels Check Point. Cette fois, nous allons discuter de l'un de mes sujets pr√©f√©r√©s, √† savoir IPS (Intrusion Preventi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>5. V√©rifiez Point au maximum. IPS Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tssolution/blog/415083/"><img src="https://habrastorage.org/webt/3a/dd/2t/3add2tmx4aj28yvsjr2yjkuokq8.png"><br><br>  Poursuivant notre s√©rie de didacticiels Check Point.  Cette fois, nous allons discuter de l'un de mes sujets pr√©f√©r√©s, √† savoir <b>IPS (Intrusion Prevention System)</b> en russe - un syst√®me de pr√©vention des intrusions.  De plus, l'accent est mis sur la pr√©vention (c'est-√†-dire la pr√©vention)!  L‚Äôun des principaux cr√©dos de Check Point est le suivant: ¬´ <i>Nous pr√©venons, pas d√©tectons!</i>  "  Personnellement, je suis d'accord avec cette position.  √Ä quoi sert la d√©tection si vous √™tes attaqu√© par un chiffreur, par exemple?  Un ordinateur crypt√© vous dira qu'il y a eu une attaque.  Dans les r√©alit√©s actuelles, il est n√©cessaire de prendre soin de pr√©venir.  Et IPS ici peut tr√®s bien aider. <br><br>  Cependant, r√©cemment, il y a eu une certaine n√©gligence de cette classe de protection, affirmant que ¬´l' <i>IPS n'est plus pertinent et qu'il n'a plus de sens de l'utiliser</i> ¬ª.  √Ä mon avis, cette opinion est une erreur impardonnable.  En fait, dans cette le√ßon, je vais essayer de d√©crire les principales id√©es fausses existantes sur IPS.  Ensuite, dans le cadre du laboratoire, je vais vous montrer comment IPS contribue √† renforcer la s√©curit√© de votre r√©seau.  Et bien s√ªr, je vais essayer de vous dire comment tirer le meilleur parti de cet outil utile, √† quels param√®tres faire attention et ce dont vous devez vous souvenir, y compris IPS. <br><br>  La le√ßon s'est av√©r√©e tr√®s longue, alors je l'ai divis√©e en deux parties.  La premi√®re partie sera purement th√©orique et la seconde est d√©j√† enti√®rement consacr√©e √† la pratique sous forme de travaux de laboratoire.  J'esp√®re que ce sera int√©ressant. <br><br>  <i>Spoiler - √Ä la fin de l'article, une le√ßon vid√©o s'il est plus pratique pour quelqu'un de regarder plut√¥t que de lire.</i> <a name="habracut"></a><br><br><h3>  Une br√®ve histoire d'IPS </h3><br><img src="https://habrastorage.org/webt/vy/kf/ra/vykfraotwx8zq1mrshjrlgzkp5i.png"><br><br>  Je voudrais commencer par quelques √©l√©ments historiques.  En fait, IPS est un cas particulier d' <b>IDS</b> ( <b>Intrusion Detection System</b> - <b>Intrusion Detection System</b> ou SOV, comme on l'appelle bri√®vement en Russie). <br><br>  L'id√©e de cr√©er un IDS est n√©e apr√®s la publication de l'article ¬´ <b>Computer Security Threat Monitoring and Surveillance</b> ¬ª de James Anderson, d√©j√† en <b>1980</b> !  Un article plut√¥t divertissant et surtout pertinent √† ce jour. <br><br>  Apr√®s 6 ans, en <b>1986</b> , Dorothy Denning et Peter Neumann ont publi√© le premier <b>mod√®le th√©orique d'IDS</b> , qui est probablement toujours la base des syst√®mes modernes.  De plus, il y a eu pas mal de d√©veloppements diff√©rents, mais tous se r√©sumaient essentiellement √† l'utilisation de trois m√©thodes de d√©tection d'intrusion: <br><br><ul><li>  Analyse de signature </li><li>  Analyse heuristique; </li><li>  D√©tection d'anomalies. </li></ul><br>  L'un des moments cl√©s du d√©veloppement d'IDS a peut-√™tre √©t√© l'√©mergence de la biblioth√®que <b>libpcap</b> en <b>1998</b> .  D√©velopp√© par ses gars du Laboratoire National.  Lawrence √† Berkeley.  La m√™me ann√©e, le renifleur de paquets <b>APE a</b> √©t√© d√©velopp√© √† l'aide du package libpcap.  Un mois plus tard, APE a √©t√© renomm√© <b>Snort</b> .  L'auteur de Snort est <b>Martin R√∂sch</b> . <br><br>  <b>Sourcefire a</b> √©t√© fond√© plus tard (en 2001) et le projet Snort a poursuivi son d√©veloppement rapide dans le cadre de Sourcefire et est devenu pratiquement la norme parmi les solutions IDS.  Snort est une source ouverte, utilis√©e par la plupart des fabricants modernes de solutions de s√©curit√© de l'information (en particulier les entreprises nationales). <br><br>  En <b>2003</b> , Gartner a not√© l'inefficacit√© de l'IDS et la n√©cessit√© de passer aux syst√®mes IPS (c'est-√†-dire de changer le d√©tecteur pour √©viter).  Apr√®s cela, les d√©veloppeurs IDS ont commenc√© √† √©quiper leurs solutions en mode IPS.  Snort peut naturellement fonctionner √† la fois en mode IDS et en mode IPS (c'est-√†-dire pour √©viter). <br><br>  Bien s√ªr, il convient √©galement de noter la croissance rapide d'un autre projet open source - <b>Suricata</b> .  Ce projet a √©t√© fond√© par des immigrants de Snort.  La premi√®re version b√™ta date de <b>2009</b> .  Le d√©veloppement est assur√© par l'Open Information Security Foundation (OISF).  √Ä l'heure actuelle, Suricata est une solution tr√®s populaire (bien qu'elle soit toujours inf√©rieure √† Snort en popularit√©).  En fait, ils sont souvent utilis√©s ensemble. <br><br>  En <b>2013</b> , Sourcefire a √©t√© acquis par <b>Cisco</b> .  Dans le m√™me temps, Snort continue d'√™tre un projet open source et sa version commerciale est vendue sous la marque Cisco FirePower.  Avec votre permission, nous ne parlerons pas des diff√©rences entre les versions gratuites et propri√©taires.  Un point int√©ressant.  En 2005, Check Point a tent√© d'acheter SourceFire pour 225 millions de dollars, mais le gouvernement am√©ricain n'a pas approuv√© cet accord.  Et comme je l'ai dit plus t√¥t, Cisco a achet√© SourceFire en 2013 pour pas moins de 2,7 milliards de dollars.  Bonne augmentation de prix depuis 8 ans) plus de 12 fois. <br><br>  Naturellement, je n'ai √©num√©r√© qu'une petite partie des solutions.  Dans le m√™me temps, un grand nombre de solutions propri√©taires commerciales ont √©t√© d√©velopp√©es (Check Point en fait partie).  Le plus souvent, IPS faisait partie d'une solution UTM ou NGFW, moins souvent en tant que mat√©riel autonome (Cisco IPS en est un excellent exemple). <br><br><h3>  IPS dans les r√©seaux d'entreprise </h3><br>  Maintenant, si vous touchez √† l'histoire de la distribution des solutions IPS dans les r√©seaux d'entreprise, vous obtenez l'image suivante: <br><br><img src="https://habrastorage.org/webt/pq/nm/oy/pqnmoyki-iid8w9dszbgygm5iuw.png"><br><br>  Au d√©but des ann√©es 2000, les entreprises √©taient tr√®s sceptiques √† l'√©gard de cette nouvelle classe de solutions de s√©curit√©.  La plupart des gens pensaient qu'IPS √©tait une sorte de chose exotique qui n'√©tait pas vraiment n√©cessaire. <br>  Apr√®s 2005, la majorit√© a r√©alis√© les avantages et la n√©cessit√© des IPS.  Le boom des impl√©mentations dans le monde a commenc√©. <br><br>  En 2010, IPS √©tait devenu de facto l'outil standard essentiel pour prot√©ger le r√©seau d'entreprise. <br><br>  Plus pr√®s de 2015, le march√© des IPS s'est relativement refroidi.  IPS √©tait standard dans presque toutes les solutions UTM / NGFW.  Tout le monde est pass√© √† SIEM, protection contre les attaques cibl√©es, bacs √† sable, honpots, etc.  Dans le m√™me temps, oubliant compl√®tement l'importance des IPS.  Mais nous en discuterons un peu plus loin. <br><br>  Maintenant que nous avons un peu de connaissances actualis√©es sur l'histoire d'IPS, je voudrais discuter un point de plus.  √Ä savoir, les classes IPS.  En gros, toutes les solutions IPS peuvent √™tre divis√©es en deux classes: <br><br><ul><li>  <b>NIPS</b> fonctionne au niveau du r√©seau, c'est-√†-dire  scanne le trafic de passage / transit. </li><li>  <b>HIPS</b> fonctionne au niveau de l'ordinateur de l'utilisateur, c'est-√†-dire  avec le trafic qui est destin√© directement √† cet ordinateur, eh bien, soit l'h√¥te lui-m√™me g√©n√®re. </li></ul><br>  Aujourd'hui, nous discuterons exactement de la premi√®re option. <br><br><h3>  Deux options pour utiliser NIPS </h3><br>  Examinons l'utilisation architecturale d'IPS.  Ici aussi, tout est assez simple, il y a deux options pour utiliser le r√©seau IPS: <br><br><img src="https://habrastorage.org/webt/el/sj/qk/elsjqkumb2qvw_dqycyrc2o1k5y.png"><br><br><ol><li>  <b>Mode en ligne</b> .  En russe, nous l'appelons ¬´dans l'√©cart¬ª.  C'est-√†-dire  le trafic r√©seau r√©el passe par IPS.  IPS dans ce cas fonctionne comme un pont r√©gulier (c'est-√†-dire au deuxi√®me niveau du mod√®le OSI).  Ce mode est le plus optimal en termes de protection.  En cas d'attaque, IPS peut imm√©diatement bloquer la session et l'ordinateur de l'attaquant.  Il y a, bien s√ªr, des aspects n√©gatifs sous la forme de fausses r√©ponses positives, eh bien  faux positifs lorsque IPS bloque le trafic normal.  Mais c'est une question distincte, nous en discuterons un peu plus tard. </li><li>  <b>Mode promiscuit√©</b> .  Encore une fois, en russe - mode de surveillance.  En r√®gle g√©n√©rale, dans ce mode, IPS est "accroch√©" sur le port SPAN, qui "refl√®te" le p√©riph√©rique COPY!  trafic.  Dans cette option, IPS se transforme automatiquement en IDS, comme  il ne fonctionne plus avec du trafic r√©el et il n'a aucun moyen de bloquer rapidement les attaques.  C'est-√†-dire  c'est une mauvaise option lorsqu'une s√©curit√© maximale est requise. </li></ol><br>  Nous n'examinerons pas en d√©tail les caract√©ristiques de l'application d'un r√©gime particulier.  Il s'agit d'un sujet assez large qui d√©passe le cadre de notre le√ßon.  Concentrons-nous mieux sur le mode en ligne, car  c'est lui qui dans la plupart des cas est utilis√© √† Check Point. <br><br><h3>  IPS dans les appareils UTM.  Flux de paquets </h3><br><img src="https://habrastorage.org/webt/n2/ae/bd/n2aebdexigphzibvuqhvrqjmopq.png"><br><br>  Du point de vue du traitement du trafic, les paquets sont d'abord v√©rifi√©s par le pare-feu et s'ils sont autoris√©s par les listes d'acc√®s correspondantes, alors seulement l'IPS est activ√© et commence √† v√©rifier le trafic qui passe.  En fait, cet algorithme de traitement du trafic r√©v√®le la diff√©rence conceptuelle entre le pare-feu et le syst√®me de pr√©vention des intrusions. <br><br>  ¬´Le <i>pare-feu cherche √† emp√™cher le passage d'un trafic.</i>  <i>IPS fonctionne avec du trafic d√©j√† pass√©</i> . ¬ª <br><br>  C'est logique non seulement en termes de s√©curit√©, mais aussi en termes de performances.  Pourquoi √©tudier le trafic qui peut √™tre rapidement supprim√© par un pare-feu avec des co√ªts de ressources minimes.  C'est la question de savoir s'il faut mettre IPS devant le pare-feu.  Certainement pas!  Imaginez simplement combien de trafic ¬´gauche¬ª y sera diffus√© √† partir de diff√©rents robots qui analysent tout sur Internet. <br><br>  Eh bien, c'est l√† que nous mettons fin √† notre digression lyrique prolong√©e.  Passons aux id√©es fausses IPS typiques.  Je vais essayer de les d√©mystifier en utilisant Check Point comme exemple. <br><br><h3>  Id√©es fausses typiques d'IPS </h3><br><h4>  1. IPS prot√®ge uniquement contre les attaques de la couche r√©seau </h4><br>  C'est peut-√™tre le mythe le plus courant.  Historiquement, bien s√ªr, IPS √©tait principalement prot√©g√© contre les attaques r√©seau, telles que les analyses de port, la force brute, certains types de ddos ‚Äã‚Äãet, bien s√ªr, la lutte contre les anomalies.  Cependant!  Beaucoup ne savent toujours pas qu'IPS peut v√©rifier les fichiers t√©l√©charg√©s!  Et si le fichier contient un exploit, IPS bloquera son t√©l√©chargement plus rapidement que Anti-Virus, car  IPS fonctionne dans un flux de trafic et Anti-Virus est oblig√© d'attendre que le fichier entier soit t√©l√©charg√© dans le tampon.  C'est-√†-dire  IPS v√©rifie les fichiers tels que pdf, doc, xls et bien plus encore.  Je vais certainement le montrer au laboratoire.  Par cons√©quent, l'IPS inclus augmentera consid√©rablement la protection de vos utilisateurs qui t√©l√©chargent divers fichiers depuis Internet.  Ne n√©gligez pas ce niveau de protection suppl√©mentaire! <br><br><h4>  2. IPS n'est plus pertinent et ne prot√®ge contre rien </h4><br>  Un autre mythe populaire.  Bien s√ªr, des pirates informatiques professionnels ont r√©cemment essay√© de ne pas utiliser les outils d'attaque classiques, tels que le scan de port, la force brute, etc.  Et tout cela parce que de telles attaques sont imm√©diatement perceptibles et g√©n√®rent un grand nombre d'alertes sur les d√©fenses classiques.  Cependant!  Cela ne se produit que lors d'attaques tr√®s complexes et cibl√©es, lorsqu'un v√©ritable professionnel s'en occupe.  99% de toutes les attaques r√©ussies sont des robots automatis√©s qui analysent le r√©seau √† la recherche de vuln√©rabilit√©s connues, qu'ils exploitent ensuite.  IPS voit tout!  De plus, se rem√©morant √† nouveau le wannacry, apr√®s avoir d√©couvert cette vuln√©rabilit√©, Check Point a √©mis une signature IPS en seulement quelques jours.  Microsoft a publi√© le correctif beaucoup plus tard (dans quelques semaines, pour autant que je m'en souvienne).  L'IPS inclus avec les signatures actuelles refl√®te parfaitement ces attaques automatis√©es qui pr√©valent toujours (et il est peu probable que quelque chose change dans un avenir proche). <br><br><h4>  3. IPS n'a pas besoin d'√™tre mis √† jour fr√©quemment </h4><br>  En fait, dans le paragraphe pr√©c√©dent, j'ai d√©clar√© que l'IPS inclus avec les signatures ACTUAL offre une protection contre les attaques automatis√©es.  Pour une raison quelconque, beaucoup pensent que seules les bases de donn√©es antivirus devraient √™tre r√©guli√®rement mises √† jour, tout en oubliant compl√®tement IPS.  Mais les signatures pour IPS apparaissent ou sont mises √† jour litt√©ralement tous les jours.  Par exemple, vous pouvez utiliser la ressource <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Check Point</a> .  Comme vous pouvez le voir, ce n'est qu'au cours des derniers jours que plusieurs nouvelles signatures ont √©t√© publi√©es.  Ou ceux cr√©√©s pr√©c√©demment ont √©t√© mis √† jour. <br>  IPS avec des bases de donn√©es √† jour est tr√®s important.  Comme je l'ai dit plus t√¥t, les signatures IPS sortent plus rapidement que les correctifs des fournisseurs.  Si vous avez d'anciennes signatures, votre IPS est simplement en train de r√©duire le trafic et de gaspiller les ressources syst√®me.  Et ne croyez pas les fabricants nationaux de OWL, qui disent que la mise √† jour une fois par mois est normale (en r√®gle g√©n√©rale, ils fixent une telle p√©riode et cela est probablement d√ª au fait qu'ils utilisent des bases de donn√©es Snort, qui sont mises √† jour avec un d√©lai de 30 jours pour la version gratuite) . <br><br><h4>  4. IPS r√©duit consid√©rablement les performances de l'appareil </h4><br>  Que puis-je dire sur ce mythe.  Oui et non.  Bien s√ªr, l'inclusion d'IPS augmente la charge sur le processeur et la RAM.  Mais tout n'est pas aussi dramatique qu'on le croit g√©n√©ralement.  Une √©norme augmentation de la charge lorsque IPS est activ√© se manifeste g√©n√©ralement dans deux cas: <br><br><ol><li>  Vous (ou vous) avez incorrectement s√©lectionn√© la solution.  Que ce soit la mise √† niveau mat√©rielle ou la solution virtuelle.  C'est la question que tout doit √™tre test√© avant d'acheter.  Encore une fois, tout d√©pend de qui choisit la solution.  Faites particuli√®rement attention √† cela.  Utilisez soigneusement les fiches techniques sur les appareils.  Il indique n√©cessairement la bande passante de l'appareil lorsque IPS est activ√©.  Eh bien, encore une fois, Check Point dispose d'un outil de dimensionnement qui fournit des recommandations tr√®s r√©alistes pour un mod√®le appropri√©.  Assurez-vous d'utiliser le dimensionnement!  Si vous n'avez pas acc√®s √† cet outil, demandez √† vos partenaires. </li><li>  La deuxi√®me raison, et la plus courante, de l'augmentation de la charge due √† IPS est que trop de signatures sont incluses.  C'est l'un des extr√™mes de l'utilisation d'IPS lorsque toutes les signatures disponibles sont activ√©es, car au d√©part, il n'est pas clair lesquelles sont n√©cessaires.  Cette erreur tr√®s grossi√®re conduit √† un p√©riph√©rique de d√©marrage tout simplement sauvage et √† de nombreux faux positifs.  Apr√®s avoir rencontr√© cela, de nombreux administrateurs d√©cident de d√©sactiver IPS, car  avec elle, la fronti√®re passe tout simplement par un virage.  Comment √™tre  Eh bien, vous devez d'abord d√©terminer exactement ce que vous allez prot√©ger.  Il est logique de supposer que si vous avez un serveur de messagerie bas√© sur Linux dans votre DMZ, vous ne devriez probablement pas inclure pour ce segment des signatures li√©es aux vuln√©rabilit√©s de Microsoft, MacOS, Android, Wordpress, etc.  Je pense que le sens g√©n√©ral est clair.  <b>Le battage du trafic avec toutes les signatures sans distinction est tr√®s co√ªteux</b> .  Pour qu'IPS utilise efficacement les ressources, vous devez activer uniquement les signatures n√©cessaires et d√©sactiver celles qui ne sont pas n√©cessaires.  Cela semble facile.  Mais la mise en ≈ìuvre semble tr√®s compliqu√©e.  De l√†, le mythe suivant grandit. </li></ol><br><h4>  5. IPS est difficile √† configurer </h4><br>  C'est en partie l'opinion juste qui a eu lieu.  En fait, de nombreuses solutions IPS sont encore tr√®s difficiles √† apprendre.  Mais il ne s'agit pas de Chess Point.  Allons dans l'ordre.  √Ä quoi ressemble g√©n√©ralement une signature?  C'est g√©n√©ralement quelque chose comme: <br><br>  <i>IGSS SCADA ListAll Function Overflow Buffer Overflow</i> <i><br></i>  <i>D√©bordement de tampon de pile de plusieurs produits WebGate WESPMonitor</i> <br><br>  Et essayez de comprendre de quel type de signature il s'agit, √† quoi cela sert-il, dans quelle mesure la passerelle l'activera-t-elle, √† quel point est-elle critique?  Heureusement, Check Point a une description d√©taill√©e de chaque signature.  La description est visible directement dans SmartConsole et vous n'avez pas besoin de rechercher chaque nom sur Google.  De plus, pour plus de commodit√©, Check Point a attribu√© plusieurs balises √† chaque signature: <br><br><ul><li>  <b>Gravit√©</b> (c'est-√†-dire le niveau de danger que cette signature peut fermer); </li><li>  <b>Niveau de confiance</b> (le niveau de fiabilit√© de la signature, c'est-√†-dire quelle est la probabilit√© d'ad√©quation du fonctionnement de cette signature. C'est une caract√©ristique tr√®s importante notamment pour l'analyse comportementale) </li><li>  <b>Impact sur les performances</b> (cette balise indique combien une signature fortement activ√©e chargera l'appareil) </li><li>  <b>Fournisseur</b> - vous pouvez filtrer les signatures par fournisseur (par exemple, les vuln√©rabilit√©s associ√©es √† tous les produits Adobe ou Microsoft) </li><li>  <b>Produit</b> - il est possible de filtrer par produit (par exemple Microsoft Office ou WordPress). </li></ul><br>  Les √©tiquettes fournisseur et produit se croisent parfois, car  bien souvent, une entreprise n'a qu'un seul produit. <br><br>  En utilisant ces balises, vous pouvez g√©n√©rer assez rapidement une liste de signatures que vous souhaitez inclure.  Et pour cela, vous n'avez pas besoin d'avoir sept trav√©es au front.  Eh bien, bien s√ªr, avant cela, vous devez faire un petit audit du r√©seau et comprendre quels logiciels vos employ√©s utilisent. <br>  Nous discuterons de l'utilisation de ces balises plus en d√©tail dans le laboratoire. <br><br><h4>  6. Travailler avec IPS est un travail fastidieux et routinier. </h4><br>  J'ai dit √† maintes reprises que la s√©curit√© de l'information n'est pas un r√©sultat, mais un processus continu.  Vous ne pouvez pas configurer le syst√®me une fois et l'oublier.  Besoin d'un raffinement continu et syst√©matique.  Il en va de m√™me pour IPS.  Et ici, g√©n√©ralement, des difficult√©s surviennent.  Presque tout syst√®me IPS plus ou moins ad√©quat g√©n√®re un grand nombre de journaux.  Ils ressemblent g√©n√©ralement √† ceci: <br><br><img src="https://habrastorage.org/webt/ou/9n/it/ou9nitvretgmdziruunlzteqkbs.png"><br><br>  Imaginez maintenant que ces journaux en ont accumul√© plusieurs milliers en une semaine.  Comment les analysez-vous?  Comment comprendre quels √©v√©nements se produisent le plus souvent?  Quelles signatures doivent √™tre d√©sactiv√©es ou quels h√¥tes peuvent √™tre bloqu√©s au niveau du pare-feu? <br><br>  Bien s√ªr, les journaux des points de contr√¥le semblent plus attrayants et plus clairs: <br><br><img src="https://habrastorage.org/webt/l6/jy/8e/l6jy8ehf8ehy6oerims44-wr_ac.png"><br><br>  Vous pouvez voir ici la <b>gravit√©</b> et l' <b>impact sur les performances</b> et le <b>niveau de confiance</b> .  Cependant, cela ne r√©sout pas le probl√®me de l'analyse d'un si grand nombre d'√©v√©nements.  En r√®gle g√©n√©rale, les syst√®mes SIEM con√ßus pour agr√©ger, corr√©ler et effectuer une analyse initiale des √©v√©nements sont rappel√©s ici.  Heureusement, Check Point a un syst√®me SIEM int√©gr√© - <b>Smart Event</b> .  Cette lame vous permet de voir les journaux IPS sous une forme trait√©e et agr√©g√©e: <br><br><img src="https://habrastorage.org/webt/eg/is/up/egisupog0fn_qord5qc7z7urad8.png"><br><br>  Comme vous le savez, c'est d√©j√† beaucoup plus facile √† travailler.  La principale valeur de SIEM est que ce syst√®me vous permet de ¬´voir¬ª votre s√©curit√© en termes quantitatifs.  Dans tout travail, vous devez voir le r√©sultat et ici, il est beaucoup plus facile de se concentrer sur les chiffres.  Dans notre exemple, nous voyons qu'il existe un nombre assez important de journaux avec la <b>gravit√© du niveau critique</b> .  C'est avec eux que vous devez commencer √† travailler.  De plus, nous voyons que le plus grand nombre d'√©v√©nements sont li√©s √† la signature d' <b>ex√©cution de code √† distance GNU Bash</b> .  L'analyse devrait commencer par ces √©v√©nements.  Ayant encore chut√©, nous pouvons d√©terminer: <br><br><ul><li>  Quels h√¥tes attaquent? </li><li>  Quel h√¥te attaque? </li><li>  De quel pays provient l'attaque? </li></ul><br>  Il peut s'av√©rer que la signature est d√©clench√©e par le trafic g√©n√©r√© par notre n≈ìud interne.  C'est l'occasion d'un proc√®s.  Soit il est vraiment infect√©, soit il s'agit d'un faux positif.  Ensuite, nous traitons l'h√¥te ou d√©sactivons cette signature sp√©cifiquement pour cet h√¥te. <br><br>  Si l'attaque provient d'un r√©seau externe, alors peut-√™tre que tous ces journaux sont cr√©√©s par un seul n≈ìud attaquant (il s'agit tr√®s probablement d'une sorte de bot) et de Singapour.  Dans ce cas, nous pouvons ajouter cet h√¥te (ou l'ensemble du r√©seau de Singapour) √† la liste de blocage afin qu'il soit bloqu√© au niveau du pare-feu et n'atteigne pas le traitement du trafic IPS. <br><br>  Nous pouvons √©galement remarquer que la signature intercepte les attaques pour les distributions Linux, tandis que l'h√¥te Windows peut √™tre attaqu√©.  Dans ce cas, il serait √©galement logique de d√©sactiver les signatures Linux sp√©cifiquement pour cet h√¥te. <br><br>  Comme vous pouvez le voir, le processus ressemble √† une certaine enqu√™te.  Apr√®s une telle optimisation constante, la charge sur la passerelle diminuera consid√©rablement, car: <br><br><ol><li>  Une partie des h√¥tes attaquants sera bloqu√©e au niveau du pare-feu; </li><li>  Les signatures inutiles qui consomment des ressources seront d√©sactiv√©es. </li></ol><br>  Dans le m√™me temps, SmartEvent vous permet de voir imm√©diatement le r√©sultat sous la forme d'un nombre d√©croissant de journaux.  Ce n'est que cette caract√©ristique quantitative qui montre l'efficacit√© de notre travail.  Id√©alement, nous devrions nous d√©barrasser du soi-disant ¬´bruit¬ª et ne voir que les √©v√©nements IPS vraiment importants (c'est-√†-dire de v√©ritables attaques) dans les journaux. <br><br>  De plus, tout le processus d'investigation et d'ajout d'h√¥tes √† la liste de blocage peut √™tre automatis√©!  R80.10 a introduit une API √† part enti√®re qui vous permet de vous int√©grer √† des solutions tierces.  J'ai d√©j√† √©crit un article sur le hub sur l'API elle-m√™me - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Check Point R80.10 API.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gestion via CLI, scripts et plus.</a> <br>  De plus, mon coll√®gue Gleb Ryaskin a publi√© des instructions d√©taill√©es sur l'int√©gration de Check Point et Splunk - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Check Point API + Splunk.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Automatisation de la protection contre les attaques r√©seau</a> . <br><br>  Il n'y a pas seulement une partie th√©orique, mais aussi une partie pratique, avec un exemple d'attaque et l'ajout automatique d'un h√¥te √† la liste de blocage.  Ne soyez pas paresseux, regardez. <br><br>  Sur ce je propose de terminer notre partie th√©orique.  Dans la prochaine le√ßon, beaucoup de travaux de laboratoire nous attendent. <br><br><h3>  Partie th√©orique au format tutoriel vid√©o </h3><br><iframe width="560" height="315" src="https://www.youtube.com/embed/T05pm2J7Mbc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Si vous √™tes int√©ress√© par d'autres mat√©riaux sur Check Point, vous trouverez ici une large s√©lection ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Check Point. Une s√©lection de mat√©riaux utiles de TS Solution</a> ).  Vous pouvez √©galement vous abonner √† nos cha√Ænes ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">YouTube</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VK</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Telegram</a> ) afin de ne pas manquer de nouveaux articles, cours et s√©minaires. <br><br>  Vous trouverez plus d'informations sur les mod√®les de commutateurs Extreme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez effectuer un audit gratuit des param√®tres de s√©curit√© de Check Point </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici.</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr415083/">https://habr.com/ru/post/fr415083/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr415069/index.html">Une autre poursuite d'un r√™ve. Mains d'√©tudiant RTS + eyetracker</a></li>
<li><a href="../fr415071/index.html">L'objectif est plus important que le code</a></li>
<li><a href="../fr415073/index.html">Comment le hall de production est pass√© √† l'√©nergie gratuite du soleil</a></li>
<li><a href="../fr415075/index.html">La troisi√®me version de reCAPTCHA fonctionne en arri√®re-plan sans √™tre remarqu√©e par les utilisateurs</a></li>
<li><a href="../fr415079/index.html">Une m√©trique pour les gouverner tous - Existe-t-il une seule m√©trique universelle?</a></li>
<li><a href="../fr415085/index.html">Qu'est-ce que le CISSP, comment l'obtenir, ne pas le perdre et pourquoi il n'est pas n√©cessaire</a></li>
<li><a href="../fr415087/index.html">[CASE] Impression 3D SLA dans une usine d'√©lectronique navale</a></li>
<li><a href="../fr415091/index.html">Rust 1.27 Release</a></li>
<li><a href="../fr415093/index.html">PVP: pourquoi injecter de la colle par voie intraveineuse</a></li>
<li><a href="../fr415153/index.html">Les exigences id√©ales reviennent</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>