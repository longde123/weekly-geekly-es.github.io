<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🤝‍👨🏻 📎 🕛 Bagaimana kami melakukan overclock CAD COMPASS-3D → Bagian 1 🚳 👵🏾 🌊</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="20 tahun telah berlalu sejak rilis versi 3D pertama KOMPAS - V5.11. Selama waktu ini, kami menyadari bahwa kebutuhan pengguna kami berkembang sesuai d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana kami melakukan overclock CAD COMPASS-3D → Bagian 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ascon/blog/444714/">  20 tahun telah berlalu sejak rilis versi 3D pertama KOMPAS - V5.11.  Selama waktu ini, kami menyadari bahwa kebutuhan pengguna kami berkembang sesuai dengan kemampuan KOMPAS-3D, seperti halnya fungsi KOMPAS berkembang sesuai dengan kebutuhan pengguna.  Hanya satu halangan: membangun bagian teknologi selama bertahun-tahun, kami mengalami masalah produktivitas ketika bekerja dengan proyek-proyek besar yang kompleks.  Sekarang garis ini telah diatasi, dan kami siap memberi tahu bagaimana kami berhasil mempercepat KOMPAS-3D di lebih dari 30 operasi dasar. <br><img src="https://habrastorage.org/webt/vo/kj/vq/vokjvqv4wbizt33m1gmmw4h1g0y.png"><br><a name="habracut"></a><br><br><h1>  <font color="#00B2FF">Kesabaran tidak bisa dipercepat</font> </h1><br><h3>  <font color="#00B2FF">Bagaimana kita memahami bahwa sudah waktunya untuk "mempercepat"?</font> </h3><br>  Jika 12 tahun yang lalu ada cukup banyak pekerjaan dengan rakitan hingga beberapa ribu komponen, sekarang pengguna KOMPAS ingin melakukan proyek kompleks untuk 300.000 komponen dalam satu rakitan, dan beberapa juta akan sedikit. <br><br> <a href=""><img src="https://habrastorage.org/webt/kd/01/8g/kd018gvvqgxbn175g33_au4cz0c.png"></a> <br><br>  <i>Evolusi proyek pengguna KOMPAS-3D: di sebelah kiri <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Snow milling dan rotor equipment untuk K-700A, K-703MBA traktor</a> , di sebelah kanan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Instalasi Steam-Gas PGU-410 MW</a> .</i>  <i>Jika sulit dilihat, klik pada gambar.</i> <br><br>  Di ServiceDesk - dukungan teknis - kami menerima permintaan dengan gaya "Saya tidak bisa membuka pabrik saya di pagi hari" dan "model telah dibuka, tetapi tidak berputar". <br><br>  Hanya ada satu kesimpulan - COMPAS membutuhkan revisi serius. <br><br><h3>  <font color="#00B2FF">Perubahan pertama</font> </h3><br>  Tugas utama adalah meningkatkan kinerja sistem saat bekerja dengan rakitan besar.  Dan untuk meningkatkan bukan dengan bersyarat 10-30%, tetapi beberapa kali. <br><br>  Untuk mengatasi masalah ini, pada 2015 kami membentuk kelompok kerja untuk mempercepat KOMPAS-3D.  Semacam regu respon cepat dari programmer, penguji dan analis. <br><img src="https://habrastorage.org/webt/cf/uo/a0/cfuoa0ywcyqlfvqtcbazgzsxovs.png"><br>  <i>Tim kecepatan kami</i> <br><br><blockquote>  BANTUAN: kami telah mengerjakan akselerasi sebelumnya - ini adalah optimalisasi dan fungsi baru yang memungkinkan kami untuk menyelesaikan beberapa masalah saat bekerja dengan rakitan besar.  Namun, tugasnya tidak ambisius seperti sekarang, dan pekerjaannya tidak begitu banyak. </blockquote><br><br><h3>  <font color="#00B2FF">Bagaimana Anda memilih kriteria untuk akselerasi?</font> </h3><br>  Kami telah memilih 5 arah untuk akselerasi: <br><br><ul><li>  rendering (rotasi, gerakan, dan pembesaran gambar model), </li><li>  menambahkan komponen ke rakitan besar </li><li>  pembukaan perakitan </li><li>  mengedit di majelis, </li><li>  proyeksi. </li></ul><br>  Saat memilih area ini, kami mengandalkan beberapa sumber: <br><br><ul><li>  pengalaman dan penelitian sendiri, </li><li>  analisis permintaan untuk dukungan teknis dan analisis basis kesalahan (dalam alat kami ada label khusus "kinerja", di mana masalah penting untuk kinerja dicatat), </li><li>  hasil survei pengguna (pengguna biasanya mengisi kuesioner tersebut di acara ASCON), </li><li>  <s>kekuatan yang lebih tinggi</s> . </li></ul><br><img src="https://habrastorage.org/webt/qp/lv/lu/qplvlufe8cxowb-ojxonbtegsey.png"><br>  <i>Di sini kita membahas sesuatu.</i> <br><br>  Bersama-sama dengan pembentukan kelompok kerja, kami menciptakan ruang informasi kami sendiri - basis pengetahuan - kami menuliskan semua tugas di sana, mengumpulkan dan mensistematisasikan ide-ide dalam bidang akselerasi yang memungkinkan.  Akibatnya, persyaratan mulai terbentuk dengan skenario untuk pekerjaan lebih lanjut, berkat itu dimungkinkan untuk mengontrol kinerja. <br><br>  Aksioma lain yang kami adopsi saat mengerjakan versi ini: produktivitas tidak bisa diambil begitu saja dan diperbaiki, lalu dilupakan.  Itu diperlukan untuk mengukur dan mencatat keadaan saat ini, yang darinya kita dapat mengusirnya.  Pada saat itu, titik awalnya adalah versi V16 (cerita kami masih tahun 2015), yang perlu dikendalikan oleh skrip dari TK kami.  Kinerja beberapa titik kunci dikontrol secara manual, tetapi sekarang proses ini otomatis berkat POI. <br><blockquote> <a href=""><img align="right" src="https://habrastorage.org/webt/br/cu/ku/brcukuey6fmjicbcsx2tibjhjhw.png"></a>  <b>Anton Sidyakin, programmer, pemimpin tim:</b> <br><br>  “Kami mengotomatiskan prosesnya berkat sistem yang diperkenalkan - POI (Points of Interests).  Ini adalah tag khusus yang terletak di kode sumber.  Menurut mereka, mengeksekusi skrip dalam KOMPAS-3D yang dijelaskan oleh bahasa pengguna, Anda bisa mendapatkan laporan yang dapat dimengerti tidak hanya untuk programmer, tetapi juga untuk analis dengan penguji dan membantu untuk mengetahui apa yang dilakukan KOMPAS-3D pada saat tertentu dan berapa banyak waktu yang dihabiskan untuk itu.  Maka informasi ini dapat diproses secara otomatis dan dibandingkan dengan sumber data. " <br><br><img src="https://habrastorage.org/webt/6e/_4/l2/6e_4l2uqd4wv-3wq9dmwxbfathc.png"><br>  <i>Hasil pengujian kinerja otomatis.</i>  <i>Ngomong-ngomong, siapa yang telah membaca ke tempat ini sekarang tahu bahwa slab KDPV adalah simbol tim akselerator kami.</i>  <i>Mereka menganggap kode lambat sebagai kode lambat)</i> <br></blockquote><br><br><h3>  <font color="#00B2FF">Model apa yang digunakan untuk perbandingan?</font> </h3><br>  Kami memutuskan untuk berkonsentrasi pada model pengguna nyata yang sesuai dengan kriteria "majelis besar." <br><br>  Basis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">data model</a> Kompetisi pemodelan 3D Komputer Aces sangat bermanfaat. <br><br>  Di bawah ini adalah screenshot dari model favorit kami.  Tentu saja, ini tidak semua, dan, lebih dari itu, kami yakin bahwa model-model top beberapa tahun terakhir akan segera menjadi akrab dan KOMPAS akan bekerja dengan mereka tidak pada batas, tetapi dalam mode reguler, kecepatan tinggi. <br><br><table><tbody><tr><td><img src="https://habrastorage.org/webt/lt/rb/p_/ltrbp_x2dl3qdcxvolkbxsxzktk.png"></td><td><img src="https://habrastorage.org/webt/hi/uj/t0/hiujt0vtlahhdjk--bcjxahpmdq.png"></td></tr><tr><td>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bis troli</a></i> </td><td>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Unit Steam-Gas CCP-410 MW</a></i> </td></tr><tr><td><img src="https://habrastorage.org/webt/wq/9v/y0/wq9vy0m2mbdmgzvq-kxxe63nmgg.png"></td><td><img src="https://habrastorage.org/webt/6b/bk/ss/6bbkssvpds7qutrfr9efhk3xwim.png"></td></tr><tr><td>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Gearbox pembangkit listrik kelautan</a></i> </td><td>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Instalasi teknologi vakum</a></i> </td></tr></tbody></table><br><br>  Ketika perlu memuat sistem lebih banyak lagi, selain model-model ini, “gado-gado prefabrikasi” yang aneh juga digunakan, misalnya: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-hLuI_wTxBw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Kami juga menggunakan model sintetis: dalam beberapa kasus, masalah tertentu lebih jelas pada mereka dan mereka lebih nyaman digunakan untuk debugging dan pengujian. <br><br><h2>  <font color="#00B2FF">Tentang pengembangan dan hasil yang dicapai</font> </h2><br><h3>  <font color="#00B2FF">Menggambar</font> </h3><br>  Pertama-tama, mereka mencoba mempercepat rendering (ini juga diminta oleh sebagian besar pengguna yang berpartisipasi dalam survei). <br><br>  Kecepatan rendering sangat penting dalam semua proses di mana model diposisikan atau tampilan berubah.  Dan ini bukan hanya rotasi, pergerakan atau zoom model.  Kecepatan rendering juga penting dalam proses-proses di mana gambar model diperbarui: <br><ul><li>  Menambahkan komponen ke rakitan </li><li>  pemilihan objek dasar untuk pasangan (wajah, tepi, dll.), </li><li>  menyoroti bagian-bagian tertentu dari model (komponen, wajah), </li><li>  mengubah visibilitas objek (sembunyikan / perlihatkan komponen). </li></ul><br>  Dan ini jauh dari semua kasus di mana subsistem visualisasi digunakan.  Oleh karena itu, jelas mengapa rendering akselerasi menjadi prioritas bagi kami. <br><br>  Pada saat yang sama, penting tidak hanya untuk menggunakan kemampuan kartu video modern yang produktif, tetapi juga tidak melupakan mereka yang menggunakan perangkat keras yang tidak begitu kuat dan modern. <br><br>  Hasil pekerjaan adalah implementasi dari dua opsi render: <br><ul><li>  Basic - Mengaktifkan ekstensi Open GL 2.0.  Kurang menuntut kinerja kartu video.  Memberikan akselerasi rendering yang baik, </li><li>  "Peningkatan" - menggunakan ekstensi modern OpenGL 4.5.  Menuntut karakteristik kartu video.  Memberikan akselerasi rendering maksimum pada peta modern </li></ul><br><br><div class="spoiler">  <b class="spoiler_title">Petunjuk:</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/wg/it/il/wgitil7a81cclzrfczfx6wj-q6i.png"><br>  <i>Render pengaturan untuk v18.</i> <br><br>  Secara default, "Deteksi Otomatis" berfungsi - opsi yang diinginkan dipilih berdasarkan ekstensi OpenGL yang didukung. <br></div></div><br><br><blockquote> <a href=""><img align="right" src="https://habrastorage.org/webt/i_/dr/__/i_dr__2m4lqftoi4deevr-k89gs.png"></a>  <b>Yuri Korchagin, programmer:</b> <br><br>  “Dalam masalah kinerja menampilkan adegan besar, jelas bahwa banyak sumber daya dihabiskan untuk berkeliling adegan dan menghitung parameter dengan mana primitif harus ditampilkan. <br><br>  Masalah lain terkait dengan sejumlah besar panggilan draw (panggilan ke OpenGL API, yang mengarah pada output geometri ke buffer frame). <br><br>  Keadaan awal juga mengasumsikan transfer semua data ke kartu video dari RAM.  Dan ini adalah jutaan segitiga dalam kasus majelis besar. <br><br>  Koreksi kosmetik tidak dapat diberikan di sini, karena diperlukan peningkatan beberapa kali dalam produktivitas.  Oleh karena itu, diputuskan untuk menulis ulang sebagian besar modul visualisasi. <br><br>  Langkah pertama adalah menggunakan memori video untuk cache menggambar data (triangulasi, gambar rangka, wajah).  Dengan memindahkan data ini ke GPU, kami berhasil mendapatkan peningkatan FPS 2-3 kali lipat. <br><br>  Ini diikuti oleh pembuatan model data yang disesuaikan untuk visualisasi.  Artinya, kami menyingkirkan permintaan untuk model 3D, yang dapat menjadi sumber daya yang cukup intensif, yang juga memberikan efek positif. <br><br>  Langkah selanjutnya adalah mempelajari kualitas dan volume triangulasi.  Seringkali detail kecil ditampilkan dengan akurasi berlebihan, dan sebaliknya - dalam situasi tertentu, alih-alih permukaan yang halus, pengguna melihat model "cincang" di layar. <br><br>  Kami memutuskan untuk menggunakan beberapa level detail dan menerapkan perkiraan primitif dengan mempertimbangkan deviasi sudut.  Dengan cara ini, dua burung dengan satu batu terbunuh: mereka meningkatkan kualitas dan menghilangkan beban berlebih pada GPU. " </blockquote><br><div class="spoiler">  <b class="spoiler_title">Spoiler: Tentang triangulasi</b> <div class="spoiler_text"><blockquote> <a href=""><img align="right" src="https://habrastorage.org/webt/yw/ls/ca/ywlscagmaodmtdctqxlzfau4ega.png"></a> <br>  <b>Ditentukan oleh Nikita Batyanov, seorang insinyur analitis:</b> <br><br>  “Untuk tampilan model yang lebih benar dan umumnya menyenangkan, kami memutuskan untuk melengkapi parameter triangulasi dengan deviasi sudut maksimum.  Sebelumnya, kami hanya menggunakan parameter deviasi linier maksimum. <br><br>  Biarkan saya mengingatkan Anda: agar kartu video dapat menggambar representasi teoretis kita terhadap objek, kita perlu memecahnya menjadi segitiga.  Semakin banyak segitiga seperti itu, semakin banyak gambar akan terlihat seperti "ideal", tetapi semakin kuat beban pada kartu video. <br><br>  Algoritma triangulasi menggunakan deviasi sudut maksimum memungkinkan Anda untuk lebih akurat menampilkan beberapa model, sementara tidak meningkatkan jumlah segitiga sebanyak jika hanya deviasi linier maksimum yang digunakan. <br><br>  "Kita bisa menggambar objek yang relatif lebih kecil dari dimensi keseluruhan model, sementara sedikit melebih-lebihkan jumlah segitiga." </blockquote><br></div></div><br><blockquote> <a href=""><img align="right" src="https://habrastorage.org/webt/i_/dr/__/i_dr__2m4lqftoi4deevr-k89gs.png"></a>  <b>Yuri Korchagin, programmer:</b> <br><br>  “Yah, menampilkan model menjadi lebih cepat, tetapi tidak sebanyak yang kita inginkan.  Pada tahap ini, kami menyadari bahwa kami tidak bisa mendapatkan lebih banyak dari pendekatan ini. <br><br>  Di sisi lain, penggunaan pendekatan terbaru akan memerlukan kartu video paling mutakhir, yang bertentangan dengan persyaratan kompatibilitas dan beberapa pengguna jelas tidak akan menyukainya.  Oleh karena itu, perbaikan yang dijelaskan di atas telah tersedia sebagai opsi render "Dasar". <br><br>  Dan kemudian kesenangan dimulai ... " </blockquote><br><br>  Pada bagian selanjutnya, kami melanjutkan kisah kami tentang rendering, dan juga menunjukkan hasil pengukuran kecepatan rendering selama rotasi perakitan, perhitungan MTC, menambahkan komponen ke perakitan, dan memberi tahu tentang penampilan tipe beban parsial. <br><br>  Dan untuk hidangan penutup, mereka meninggalkan video untuk Anda membandingkan kecepatan rendering selama rotasi, penskalaan dan pergeseran Reducer dari pembangkit listrik tenaga laut. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/gx17am7Q1bg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  <b>Akhir dari bagian pertama.</b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Untuk dilanjutkan</a> .</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id444714/">https://habr.com/ru/post/id444714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id444704/index.html">Peluang nanoCAD SPDS Situs konstruksi dalam proyek konstruksi dan rekonstruksi dalam kondisi sempit</a></li>
<li><a href="../id444706/index.html">Foto Facebook 3D Di Dalam: Parallax Shaders</a></li>
<li><a href="../id444708/index.html">Aplikasi PentQL dengan GraphQL</a></li>
<li><a href="../id444710/index.html">Memahami Protokol Konsensus Stellar</a></li>
<li><a href="../id444712/index.html">"Sikap atipikal terhadap keuangan" - bagaimana jika karyawan sendiri yang akan mengelola pendapatan. Percakapan dengan Flant</a></li>
<li><a href="../id444716/index.html">Ponsel Samsung dengan layar lipat sebesar $ 2000 menampilkan lipatan</a></li>
<li><a href="../id444718/index.html">Amatir holografi - awal dari perjalanan</a></li>
<li><a href="../id444720/index.html">Apa yang penulis merokok: tambahkan sekolah lama ke dunia permainan yang gila ini</a></li>
<li><a href="../id444724/index.html">Arsitektur runet</a></li>
<li><a href="../id444726/index.html">OBD2 reader - diagnostik mobil</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>