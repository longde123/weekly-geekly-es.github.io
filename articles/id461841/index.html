<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😗 👩🏿‍🌾 👩🏼‍🎤 PVS-Studio Melihat ke dalam Mesin Peluru Red Dead Redemption 🕯️ 👊🏽 ✉️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saat ini tidak perlu menerapkan fisika objek dari awal untuk pengembangan game karena ada banyak perpustakaan untuk tujuan ini. Bullet aktif digunakan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PVS-Studio Melihat ke dalam Mesin Peluru Red Dead Redemption</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/461841/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d4/8af/4e2/0d48af4e201510deac9e3634151d647e.png" alt="Gambar 4"></div><br>  Saat ini tidak perlu menerapkan fisika objek dari awal untuk pengembangan game karena ada banyak perpustakaan untuk tujuan ini.  Bullet aktif digunakan di banyak game AAA, proyek realitas virtual, berbagai simulasi dan pembelajaran mesin.  Dan masih digunakan, misalnya, salah satu mesin Red Dead Redemption dan Red Dead Redemption 2.  Jadi mengapa tidak memeriksa Bullet dengan PVS-Studio untuk melihat kesalahan apa yang dapat dideteksi oleh analisis statis dalam proyek simulasi fisika skala besar. <br><a name="habracut"></a><br>  Perpustakaan ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">didistribusikan secara bebas</a> , sehingga semua orang dapat menggunakannya dalam proyek mereka sendiri jika mereka mau.  Selain Red Dead Redemption, mesin fisika ini juga digunakan dalam industri film untuk menciptakan efek khusus.  Misalnya, digunakan dalam penembakan "Sherlock Holmes" karya Guy Ritchie untuk menghitung tabrakan. <br><br>  Jika ini adalah pertama kalinya Anda bertemu artikel di mana PVS-Studio memeriksa proyek, saya akan membuat sedikit penyimpangan.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PVS-Studio</a> adalah penganalisa kode statis yang membantu Anda menemukan kesalahan, cacat, dan kerentanan potensial dalam kode sumber program C, C ++, C #, Java.  Analisis statis adalah semacam proses peninjauan kode otomatis. <br><br><h2>  Lakukan pemanasan </h2><br>  <b>Contoh 1:</b> <br><br>  Mari kita mulai dengan kesalahan lucu: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V624</a> Mungkin ada kesalahan cetak dalam konstanta '3.141592538'.  Pertimbangkan untuk menggunakan konstanta M_PI dari &lt;math.h&gt;.  PhysicsClientC_API.cpp 4109 <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">B3_SHARED_API </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">b3ComputeProjectionMatrixFOV</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fov, ....)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> yScale = <span class="hljs-number"><span class="hljs-number">1.0</span></span> / <span class="hljs-built_in"><span class="hljs-built_in">tan</span></span>((<span class="hljs-number"><span class="hljs-number">3.141592538</span></span> / <span class="hljs-number"><span class="hljs-number">180.0</span></span>) * fov / <span class="hljs-number"><span class="hljs-number">2</span></span>); .... }</code> </pre> <br>  Kesalahan ketik kecil pada nilai Pi (3.141592653 ...).  Digit ke 7 di bagian pecahan hilang - itu harus sama dengan 6. <div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f83/42b/62f/f8342b62f2250ce927675fbbc1f40af7.png" alt="Gambar 1"></div><br>  Mungkin, kesalahan dalam fraksi kesepuluh juta setelah titik desimal tidak akan menghasilkan konsekuensi yang signifikan, tetapi Anda tetap harus menggunakan konstanta perpustakaan yang sudah ada yang tidak memiliki kesalahan ketik.  Ada konstanta <i>M_PI</i> untuk nomor Pi dari header <i>math.h.</i> <br><br><h2>  Salin tempel </h2><br>  <b>Contoh 2:</b> <br><br>  Kadang-kadang analisa memungkinkan Anda untuk menemukan kesalahan secara tidak langsung.  Sebagai contoh, tiga argumen terkait halfExtentsX, halfExtentsY, halfExtentsZ dilewatkan ke fungsi di sini tetapi yang terakhir tidak digunakan di mana pun dalam fungsi.  Anda mungkin memperhatikan bahwa variabel halfExtentsY digunakan dua kali saat memanggil metode <i>addVertex</i> .  Jadi mungkin itu adalah kesalahan copypaste dan argumen yang dilupakan harus digunakan di sini. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V751</a> Parameter 'halfExtentsZ' tidak digunakan di dalam fungsi body.  TinyRenderer.cpp 375 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> TinyRenderObjectData::createCube(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> halfExtentsX, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> halfExtentsY, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> halfExtentsZ, ....) { .... m_model-&gt;addVertex(halfExtentsX * cube_vertices_textured[i * <span class="hljs-number"><span class="hljs-number">9</span></span>], halfExtentsY * cube_vertices_textured[i * <span class="hljs-number"><span class="hljs-number">9</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>], halfExtentsY * cube_vertices_textured[i * <span class="hljs-number"><span class="hljs-number">9</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>], cube_vertices_textured[i * <span class="hljs-number"><span class="hljs-number">9</span></span> + <span class="hljs-number"><span class="hljs-number">4</span></span>], ....); .... }</code> </pre> <br>  <b>Contoh 3:</b> <br><br>  Penganalisa juga telah mendeteksi fragmen menarik berikut dan saya akan menunjukkannya terlebih dahulu dalam bentuk awal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f03/4d3/6a0/f034d36a087d3705a4aaf5c1ca4ff54c.png" alt="Gambar 11"></div><br>  Lihat baris looooooooooong ini? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/97f/976/5f6/97f9765f6af6eef034ea0c541f6e95c1.png" alt="Gambar 12"></div><br>  Sangat aneh bahwa programmer memutuskan untuk menulis kondisi yang panjang menjadi satu baris.  Tetapi tidak mengherankan bahwa kesalahan kemungkinan besar menyelinap ke dalamnya. <br><br>  Penganalisa menghasilkan peringatan berikut pada baris ini. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V501</a> Ada sub-ekspresi identik 'rotmat.Column1 (). Norm () &lt;1.0001' di sebelah kiri dan di sebelah kanan operator '&amp;&amp;'.  LinearR4.cpp 351 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V501</a> Ada sub-ekspresi identik '0,9999 &lt;rotmat.Column1 (). Norm ()' di sebelah kiri dan di sebelah kanan operator '&amp;&amp;'.  LinearR4.cpp 351 <br><br>  Jika kita menuliskan semuanya dalam bentuk "tabular" yang jelas, kita dapat melihat bahwa semua pemeriksaan yang sama berlaku untuk <i>Column1</i> .  Dua perbandingan terakhir menunjukkan bahwa ada <i>Column1</i> dan <i>Column2</i> .  Kemungkinan besar, perbandingan ketiga dan keempat harus memeriksa nilai dari <i>Kolom2</i> . <br><br><pre> <code class="cpp hljs"> Column1().Norm() &lt; <span class="hljs-number"><span class="hljs-number">1.0001</span></span> &amp;&amp; <span class="hljs-number"><span class="hljs-number">0.9999</span></span> &lt; Column1().Norm() &amp;&amp; Column1().Norm() &lt; <span class="hljs-number"><span class="hljs-number">1.0001</span></span> &amp;&amp; <span class="hljs-number"><span class="hljs-number">0.9999</span></span> &lt; Column1().Norm() &amp;&amp;(Column1() ^ Column2()) &lt; <span class="hljs-number"><span class="hljs-number">0.001</span></span> &amp;&amp; (Column1() ^ Column2()) &gt; <span class="hljs-number"><span class="hljs-number">-0.001</span></span></code> </pre><br>  Dalam bentuk ini, perbandingan yang sama menjadi jauh lebih terlihat. <br><br>  <b>Contoh 4:</b> <br><br>  Kesalahan dengan jenis yang sama: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V501</a> Ada sub-ekspresi identik 'cs.m_fJacCoeffInv [0] == 0' di sebelah kiri dan di sebelah kanan operator '&amp;&amp;'.  b3CpuRigidBodyPipeline.cpp 169 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> m_fJacCoeffInv[<span class="hljs-number"><span class="hljs-number">2</span></span>]; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">b3SolveFriction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b3ContactConstraint4&amp; cs, ....)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cs.m_fJacCoeffInv[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; cs.m_fJacCoeffInv[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } .... }</code> </pre> <br>  Dalam hal ini, satu dan elemen array yang sama diperiksa dua kali.  Kemungkinan besar, kondisinya pasti terlihat seperti ini: <i>cs.m_fJacCoeffInv [0] == 0 &amp;&amp; cs.m_fJacCoeffInv [1] == 0</i> .  Ini adalah contoh klasik dari kesalahan salin-tempel. <br><br>  <b>Contoh 5:</b> <br><br>  Ditemukan juga bahwa ada cacat seperti itu: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V517</a> Penggunaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pola</a> 'jika (A) {...} else jika (A) {...}' terdeteksi.  Ada kemungkinan kehadiran kesalahan logis.  Periksa baris: 79, 112. main.cpp 79 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* argv[])</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (serviceResult &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { serviceResult = enet_host_service(client, &amp;event, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (serviceResult &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { .... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (serviceResult &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">puts</span></span>(<span class="hljs-string"><span class="hljs-string">"Error with servicing the client"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span>(EXIT_FAILURE); } .... } .... }</code> </pre> <br>  Fungsi <i>enet_host_service</i> , yang hasilnya ditugaskan ke <i>serviceResult</i> , mengembalikan 1 jika berhasil diselesaikan dan -1 jika gagal.  Kemungkinan besar, yang <i>lain jika</i> cabang seharusnya bereaksi terhadap nilai negatif <i>serviceResult</i> , tetapi kondisi pemeriksaan digandakan.  Mungkin itu juga kesalahan salin-tempel. <br><br>  Ada peringatan yang sama dari penganalisa, tetapi tidak ada gunanya melihatnya lebih dekat dalam artikel ini. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V517</a> Penggunaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pola</a> 'jika (A) {...} else jika (A) {...}' terdeteksi.  Ada kemungkinan kehadiran kesalahan logis.  Periksa baris: 151, 190. PhysicsClientUDP.cpp 151 <br><br><h2>  Di atas: melebihi batas array </h2><br>  <b>Contoh 6:</b> <br><br>  Salah satu kesalahan yang tidak menyenangkan untuk dicari adalah overrun array.  Kesalahan ini sering terjadi karena pengindeksan kompleks dalam satu lingkaran. <br><br>  Di sini, dalam kondisi loop, batas atas variabel <i>dofIndex</i> adalah 128 dan <i>dof '</i> adalah 4 inklusif.  Tetapi <i>m_desiredState</i> juga hanya berisi 128 item.  Akibatnya, indeks <i>[dofIndex + dof]</i> dapat menyebabkan overrun array. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V557</a> Array overrun dimungkinkan.  Nilai indeks 'dofIndex + dof' bisa mencapai 130. PhysicsClientC_API.cpp 968 <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAX_DEGREE_OF_FREEDOM 128 double m_desiredState[MAX_DEGREE_OF_FREEDOM]; B3_SHARED_API int b3JointControl(int dofIndex, double* forces, int dofCount, ....) { .... </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> ( (dofIndex &gt;= 0) &amp;&amp; (dofIndex </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt; MAX_DEGREE_OF_FREEDOM ) &amp;&amp; dofCount &gt;= 0 &amp;&amp; dofCount &lt;= 4) { for (int dof = 0; dof &lt; dofCount; dof++) { command-&gt;m_sendState.m_desiredState[dofIndex+dof] = forces[dof]; .... } } .... }</span></span></span></span></code> </pre> <br>  <b>Contoh 7:</b> <br><br>  Kesalahan serupa tetapi sekarang ini disebabkan oleh jumlah bukan saat pengindeksan array tetapi dalam kondisi.  Jika file memiliki nama dengan panjang maksimal, terminal nol akan ditulis di luar array ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kesalahan Satu Per Satu</a> ).  Tentu saja, variabel <i>len</i> akan sama dengan <i>MAX_FILENAME_LENGTH</i> hanya dalam kasus luar biasa, tetapi tidak menghilangkan kesalahan tetapi membuatnya jarang. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V557</a> Array overrun dimungkinkan.  Nilai indeks 'len' bisa mencapai 1024. PhysicsClientC_API.cpp 5223 <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAX_FILENAME_LENGTH MAX_URDF_FILENAME_LENGTH 1024 struct b3Profile { char m_name[MAX_FILENAME_LENGTH]; int m_durationInMicroSeconds; }; int len = strlen(name); </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (len &gt;= 0 &amp;&amp; len </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt; (MAX_FILENAME_LENGTH + 1)) { command-&gt;m_type = CMD_PROFILE_TIMING; strcpy(command-&gt;m_profile.m_name, name); command-&gt;m_profile.m_name[len] = 0; }</span></span></span></span></code> </pre> <br><h2>  Ukur sekali, potong tujuh kali </h2><br>  <b>Contoh 8:</b> <br><br>  Dalam kasus ketika Anda perlu menggunakan hasil beberapa fungsi beberapa kali atau menggunakan variabel yang harus melewati seluruh rantai panggilan untuk mendapatkan akses, Anda harus menggunakan variabel sementara untuk optimasi dan pembacaan kode yang lebih baik.  Penganalisa telah menemukan lebih dari 100 tempat dalam kode di mana Anda dapat melakukan koreksi tersebut. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V807</a> Penurunan Kinerja.  Pertimbangkan membuat pointer untuk menghindari penggunaan ekspresi 'm_app-&gt; m_renderer-&gt; getActiveCamera ()' berulang kali.  InverseKinematicsExample.cpp 315 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resetCamera</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { m_app-&gt;m_renderer-&gt;getActiveCamera()-&gt;setCameraDistance(dist); m_app-&gt;m_renderer-&gt;getActiveCamera()-&gt;setCameraPitch(pitch); m_app-&gt;m_renderer-&gt;getActiveCamera()-&gt;setCameraYaw(yaw); m_app-&gt;m_renderer-&gt;getActiveCamera()-&gt;setCameraPosition(....); } }</code> </pre> <br>  Rantai panggilan yang sama digunakan berulang kali di sini dan dapat diganti dengan satu penunjuk. <br><br>  <b>Contoh 9:</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V810</a> Menurunkan Performa.  Fungsi 'btCos (euler_out.pitch)' dipanggil beberapa kali dengan argumen yang identik.  Hasilnya mungkin harus disimpan ke variabel sementara, yang kemudian dapat digunakan saat memanggil fungsi 'btAtan2'.  btMatrix3x3.h 576 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V810</a> Menurunkan Performa.  Fungsi 'btCos (euler_out2.pitch)' dipanggil beberapa kali dengan argumen yang identik.  Hasilnya mungkin harus disimpan ke variabel sementara, yang kemudian dapat digunakan saat memanggil fungsi 'btAtan2'.  btMatrix3x3.h 578 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getEulerZYX</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { .... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { .... euler_out.roll = btAtan2(m_el[<span class="hljs-number"><span class="hljs-number">2</span></span>].y() / btCos(euler_out.pitch), m_el[<span class="hljs-number"><span class="hljs-number">2</span></span>].z() / btCos(euler_out.pitch)); euler_out2.roll = btAtan2(m_el[<span class="hljs-number"><span class="hljs-number">2</span></span>].y() / btCos(euler_out2.pitch), m_el[<span class="hljs-number"><span class="hljs-number">2</span></span>].z() / btCos(euler_out2.pitch)); euler_out.yaw = btAtan2(m_el[<span class="hljs-number"><span class="hljs-number">1</span></span>].x() / btCos(euler_out.pitch), m_el[<span class="hljs-number"><span class="hljs-number">0</span></span>].x() / btCos(euler_out.pitch)); euler_out2.yaw = btAtan2(m_el[<span class="hljs-number"><span class="hljs-number">1</span></span>].x() / btCos(euler_out2.pitch), m_el[<span class="hljs-number"><span class="hljs-number">0</span></span>].x() / btCos(euler_out2.pitch)); } .... }</code> </pre><br>  Dalam kasus ini, Anda dapat membuat dua variabel dan menyimpan nilai yang dikembalikan oleh fungsi <i>btCos</i> untuk <i>euler_out.pitch</i> dan <i>euler_out2.pitch</i> ke dalamnya alih-alih memanggil fungsi empat kali untuk setiap argumen. <br><br><h2>  Bocor </h2><br>  <b>Contoh 10:</b> <br><br>  Banyak kesalahan dari jenis berikut terdeteksi di proyek: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V773</a> Ruang lingkup visibilitas dari pointer 'importir' dikeluarkan tanpa melepaskan memori.  Kebocoran memori dimungkinkan.  SerializeSetup.cpp 94 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> SerializeSetup::initPhysics() { .... btBulletWorldImporter* importer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> btBulletWorldImporter(m_dynamicsWorld); .... fclose(file); m_guiHelper-&gt;autogenerateGraphicsObjects(m_dynamicsWorld); }</code> </pre> <br>  Memori belum dirilis dari pointer <i>importir di</i> sini.  Ini dapat menyebabkan kebocoran memori.  Dan untuk mesin fisik mungkin tren yang buruk.  Untuk menghindari kebocoran, cukup menambahkan add <i>importir</i> setelah variabel menjadi tidak perlu.  Tapi, tentu saja, lebih baik menggunakan pointer pintar. <br><br><h2>  C ++ hidup dengan kode sendiri </h2><br>  <b>Contoh 11:</b> <br><br>  Kesalahan berikutnya muncul dalam kode karena aturan C ++ tidak selalu bertepatan dengan aturan matematika atau "akal sehat".  Apakah Anda memperhatikan di mana fragmen kode kecil ini berisi kesalahan? <br><br><pre> <code class="cpp hljs">btAlignedObjectArray&lt;btFractureBody*&gt; m_fractureBodies; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> btFractureDynamicsWorld::fractureCallback() { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; numManifolds; i++) { .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> f0 = m_fractureBodies.findLinearSearch(....); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> f1 = m_fractureBodies.findLinearSearch(....); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (f0 == f1 == m_fractureBodies.size()) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; .... } .... }</code> </pre> <br>  Penganalisis menghasilkan peringatan berikut: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V709</a> Perbandingan mencurigakan ditemukan: 'f0 == f1 == m_fractureBodies.size ()'.  Ingat bahwa 'a == b == c' tidak sama dengan 'a == b &amp;&amp; b == c'.  btFractureDynamicsWorld.cpp 483 <br><br>  Akan terlihat bahwa kondisi memeriksa bahwa <i>f0</i> sama dengan <i>f1</i> dan sama dengan jumlah item di <i>m_fractureBodies</i> .  Tampaknya perbandingan ini harus memeriksa apakah <i>f0</i> dan <i>f1</i> terletak di akhir array <i>m_fractureBodies</i> , karena mengandung posisi objek yang ditemukan oleh metode <i>findLinearSearch ()</i> .  Tetapi pada kenyataannya, ungkapan ini berubah menjadi cek untuk melihat apakah <i>f0</i> dan <i>f1</i> sama dengan <i>m_fractureBodies.size ()</i> dan kemudian cek untuk melihat apakah <i>m_fractureBodies.size ()</i> sama dengan hasil <i>f0 == f1</i> .  Akibatnya, operan ketiga di sini dibandingkan dengan 0 atau 1. <br><br>  Kesalahan indah!  Dan, untungnya, sangat jarang.  Sejauh ini, kami hanya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bertemu</a> di dua proyek sumber terbuka, dan menarik bahwa semuanya adalah mesin game. <br><br>  <b>Contoh 12:</b> <br><br>  Saat bekerja dengan string, seringkali lebih baik menggunakan fitur yang disediakan oleh kelas <i>string</i> .  Jadi, untuk dua kasus berikutnya lebih baik mengganti <i>strlen (MyStr.c_str ()) dan val = ""</i> dengan <i>MyStr.length ()</i> dan <i>val.clear ()</i> , masing-masing. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V806</a> Menurunkan Kinerja.  Ekspresi jenis strlen (MyStr.c_str ()) dapat ditulis ulang sebagai MyStr.length ().  RobotLoggingUtil.cpp 213 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">FILE* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createMinitaurLogFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* fileName, </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp; structTypes, ....)</span></span></span><span class="hljs-function"> </span></span>{ FILE* f = fopen(fileName, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (f) { .... fwrite(structTypes.c_str(), <span class="hljs-built_in"><span class="hljs-built_in">strlen</span></span>(structTypes.c_str()), <span class="hljs-number"><span class="hljs-number">1</span></span>, f); .... } .... }</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V815</a> Menurunkan Performa.  Pertimbangkan untuk mengganti ekspresi 'val = ""' dengan 'val.clear ()'.  b3CommandLineArgs.h 40 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addArgs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **argv)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> val; .... val = <span class="hljs-string"><span class="hljs-string">""</span></span>; .... }</code> </pre> <br>  Ada peringatan lain, tapi saya pikir kita bisa berhenti di sini.  Seperti yang Anda lihat, analisis kode statis dapat mendeteksi berbagai kesalahan. <br><br>  Sangat menarik untuk membaca tentang pemeriksaan proyek satu kali, tetapi itu bukan cara yang tepat untuk menggunakan penganalisa kode statis.  Dan kita akan membicarakannya di bawah ini. <br><br><h2>  Kesalahan ditemukan sebelum kita </h2><br>  Sangat menarik untuk mencoba menemukan bug atau cacat yang sudah diperbaiki tetapi yang dapat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dianalisis oleh analis statis berdasarkan</a> artikel terbaru " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kesalahan yang tidak ditemukan oleh analisis kode statis karena tidak digunakan</a> ". <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e5/4ab/39d/0e54ab39d2d7d7dbd4d595d1032fe994.png" alt="Gambar 2"></div><br>  Tidak ada banyak permintaan tarik dalam repositori dan banyak dari mereka terkait dengan logika internal mesin.  Tetapi ada juga kesalahan yang bisa dideteksi oleh penganalisa. <br><br>  <b>Contoh 13:</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> m_deviceExtensions[B3_MAX_STRING_LENGTH]; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">b3OpenCLUtils_printDeviceInfo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cl_device_id device)</span></span></span><span class="hljs-function"> </span></span>{ b3OpenCLDeviceInfo info; b3OpenCLUtils::getDeviceInfo(device, &amp;info); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (info.m_deviceExtensions != <span class="hljs-number"><span class="hljs-number">0</span></span>) { .... } }</code> </pre> <br>  Komentar untuk permintaan mengatakan bahwa Anda perlu memeriksa array untuk fakta bahwa itu tidak kosong, tetapi sebaliknya dilakukan pemeriksaan pointer yang tidak berarti, yang selalu mengembalikan true.  Inilah peringatan PVS-Studio tentang cek asli memberi tahu Anda: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V600</a> Pertimbangkan untuk memeriksa kondisinya.  Pointer 'info.m_deviceExtensions' selalu tidak sama dengan NULL.  b3OpenCLUtils.cpp 551 <br><br>  <b>Contoh 14:</b> <br><br>  Bisakah Anda mencari tahu apa masalahnya dengan fungsi selanjutnya? <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Matrix4x4::SetIdentity() { m12 = m13 = m14 = m21 = m23 = m24 = m13 = m23 = m41 = m42 = m43 = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; m11 = m22 = m33 = m44 = <span class="hljs-number"><span class="hljs-number">1.0</span></span>; }</code> </pre> <br>  Penganalisis menghasilkan peringatan berikut: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V570</a> Nilai yang sama diberikan dua kali ke variabel 'm23'.  LinearR4.h 627 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V570</a> Nilai yang sama diberikan dua kali ke variabel 'm13'.  LinearR4.h 627 <br><br>  Penugasan berulang dalam bentuk rekaman ini sulit dilacak dengan mata telanjang dan, sebagai hasilnya, beberapa elemen matriks tidak mendapatkan nilai awal.  Kesalahan ini diperbaiki oleh bentuk tabel dari rekaman tugas: <br><br><pre> <code class="cpp hljs">m12 = m13 = m14 = m21 = m23 = m24 = m31 = m32 = m34 = m41 = m42 = m43 = <span class="hljs-number"><span class="hljs-number">0.0</span></span>;</code> </pre><br>  <b>Contoh 15:</b> <br><br>  Kesalahan berikut di salah satu kondisi <i>fungsi btSoftBody :: addAeroForceToNode ()</i> menyebabkan bug yang jelas.  Menurut komentar dalam permintaan tarikan, kekuatan diterapkan pada objek dari sisi yang salah. <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eAeroModel</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> _ { V_Point, V_TwoSided, .... END }; }; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> btSoftBody::addAeroForceToNode(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (btSoftBody::eAeroModel::V_TwoSided) { .... } .... } .... }</code> </pre> <br>  PVS-Studio juga bisa menemukan kesalahan ini dan menghasilkan peringatan berikut: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V768</a> Konstanta enumerasi 'V_TwoSided' digunakan sebagai variabel tipe-Boolean.  btSoftBody.cpp 542 <br><br>  Cek tetap terlihat seperti ini: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m_cfg.aeromodel == btSoftBody::eAeroModel::V_TwoSided) { .... }</code> </pre> <br>  Alih-alih kesetaraan properti objek ke salah satu enumerator, enumerator <i>V_TwoSided</i> sendiri diperiksa. <br><br>  Sudah jelas bahwa saya tidak melihat semua permintaan tarik, karena bukan itu intinya.  Saya hanya ingin menunjukkan kepada Anda bahwa penggunaan penganalisa kode statis secara teratur dapat mendeteksi kesalahan pada tahap paling awal.  Ini adalah cara yang tepat untuk menggunakan analisis kode statis.  Analisis statis harus dibangun ke dalam proses DevOps dan menjadi filter bug utama.  Semua ini dijelaskan dengan baik di artikel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Perkenalkan Analisis Statis dalam Proses, Jangan Hanya Mencari Bug dengan Itu</a> ." <br><br><h2>  Kesimpulan </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a4a/dc3/388/a4adc33880ad2c22a88902ae54a7fa44.png" alt="Gambar 6"></div><br>  Dilihat oleh beberapa permintaan tarik, suatu proyek kadang-kadang diperiksa melalui berbagai alat analisis kode tetapi koreksi dilakukan tidak secara bertahap tetapi dalam kelompok dan dengan interval besar.  Dalam beberapa permintaan, komentar menunjukkan bahwa perubahan itu dilakukan hanya untuk menekan peringatan.  Pendekatan untuk menggunakan analisis ini secara signifikan mengurangi kegunaannya karena ini adalah pemeriksaan rutin proyek yang memungkinkan Anda untuk memperbaiki kesalahan segera daripada menunggu bug eksplisit muncul. <br><br>  Ikuti kami dan berlangganan akun dan saluran media sosial kami: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Instagram</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Twitter</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Facebook</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Telegram</a> .  Kami akan senang berada bersama Anda di mana pun Anda berada dan membuat Anda tetap di jalur. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id461841/">https://habr.com/ru/post/id461841/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id461827/index.html">Pengembangan Aplikasi PHP / Go Hibrid Menggunakan RoadRunner</a></li>
<li><a href="../id461829/index.html">TCP vs UDP atau masa depan protokol jaringan</a></li>
<li><a href="../id461831/index.html">StealthWatch: Penempatan dan Kustomisasi. Bagian 2</a></li>
<li><a href="../id461833/index.html">Jangan tersesat dalam tiga pinus: representasi lingkungan yang egosentris</a></li>
<li><a href="../id461835/index.html">Bagaimana Gantt Charts Menyederhanakan dan Memberdayakan Manajemen Proyek</a></li>
<li><a href="../id461845/index.html">Investasi di bursa sebagai cara untuk menjaga keuangan: 3 metode kerja</a></li>
<li><a href="../id461849/index.html">PVS-Studio melirik mesin Red Dead Redemption - Bullet</a></li>
<li><a href="../id461851/index.html">Blockchain dan Listrik</a></li>
<li><a href="../id461855/index.html">Gaji di TI pada paruh pertama tahun 2019: menurut kalkulator gaji My Circle</a></li>
<li><a href="../id461859/index.html">Anda tidak tahu apa-apa tentang teknologi makanan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>