<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎷 🕵🏽 🥅 使用SOLID编写灵活的代码 📷 🐷 🥤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="译者的话： Severin Peres为您发布了有关在编程中使用SOLID原理的文章 。 本文中的信息对于有经验的初学者和程序员都是有用的。 

 如果您是开发人员，则可能听说过SOLID原则。 它们使程序员能够编写干净，结构良好且易于维护的代码。 值得注意的是，在编程中，有几种方法可以正确执行此工...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>使用SOLID编写灵活的代码</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skillbox/blog/442928/"><img src="https://habrastorage.org/getpro/habr/post_images/fa6/4f8/79c/fa64f879ca7b67d6676536abfb111655.jpg"><br><br>  <i><b>译者的话：</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Severin Peres</a>为您发布<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了</a>有关在编程中使用SOLID原理<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的文章</a> 。</i>  <i>本文中的信息对于有经验的初学者和程序员都是有用的。</i> <br><br> 如果您是开发人员，则可能听说过SOLID原则。 它们使程序员能够编写干净，结构良好且易于维护的代码。 值得注意的是，在编程中，有几种方法可以正确执行此工作。 不同的专家对“正确的方法”有不同的想法和理解，这完全取决于每个人的经验。 但是，SOLID中宣告的想法几乎被IT社区的所有代表所接受。 它们成为许多良好的开发管理实践的出现和发展的起点。 <br><br> 让我们看看SOLID原理是什么以及它们如何帮助我们。 <br><a name="habracut"></a><br><blockquote>  <b>Skillbox建议：</b>实用课程<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“ Mobile Developer PRO”</a> 。 <br><br>  <b>我们提醒您：</b> <i>对于所有“哈勃”读者来说，使用“哈勃”促销代码注册任何Skillbox课程时均可享受10,000卢布的折扣。</i> </blockquote><br><h3> 什么是SOLID？ </h3><br> 该术语是缩写，该术语的每个字母都是某个原则名称的开头： <br><ul><li> 责任原则。 一个模块可能只有一个更改原因。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>O</b>笔/封闭原理</a> 。 类和其他元素必须打开才能进行扩展，但必须关闭才能进行修改。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">里斯科夫替代原理</a> 。 使用基本类型的函数应该能够在不知道基本类型的情况下使用基本类型的子类型。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">界面隔离原则</a> 。 软件实体不应依赖于它们不使用的方法。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">相对反转原理</a> 。 上级模块不应依赖于下级模块。 </li></ul><br><h3> 唯一责任原则 </h3><br> 单一责任原则（SRP）指出，程序中的每个类或模块应仅负责该程序功能的一部分。 此外，应将此责任的要素分配给他们的班级，而不是在无关的班级之间分配。  SRP的开发者兼首席传教士Robert S. Martin将责任描述为改变的原因。 最初，他将该术语作为其工作的要素之一“面向对象设计的原理”提出。 该概念包括Tom Demarco先前定义的许多连接模式。 <br><br> 该概念还包括David Parnassus提出的几个概念。 主要的两个是封装和信息隐藏。 帕纳苏斯（Parnassus）辩称，将系统划分为单独的模块不应基于对流程图或执行流程的分析。 任何模块都应包含特定的解决方案，以向客户提供最少的信息。 <br><br> 顺便说一句，马丁给公司的高级经理（COO，CTO，CFO）提供了一个有趣的例子，他们每个人都将特定的软件用于不同目的的业务。 结果，他们中的任何一个都可以在不影响其他管理人员利益的情况下实施软件更改。 <br><br><h3> 神物 </h3><br> 像往常一样，学习SRP的最好方法是看到一切。 让我们看一看程序中不符合分担责任原则的部分。 这是描述空间站行为和属性的Ruby代码。 <br><br> 查看示例并尝试确定以下内容： <br> 在SpaceStation类中声明的那些对象的职责。 <br> 那些对空间站的工作感兴趣的人。 <br><br><pre><code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SpaceStation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> = {} @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel</span></span></span><span class="hljs-class"> = 0 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">run_sensors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensor</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Running</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors!</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">load_supplies</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">quantity</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Supply</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Loading</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#{quantity} units of #{type} in the supply hold." if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] += quantity else </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] = quantity end end def use_supplies(type, quantity) puts "----- Supply Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] != nil &amp;&amp; </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] &gt; quantity puts "Using #{quantity} of #{type} from the supply hold." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] -= quantity else puts "Supply Error: Insufficient #{type} in the supply hold." end end def report_supplies puts "----- Supply Report -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.keys.length &gt; 0 </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.each do |type, quantity| puts "#{type} avalilable: #{quantity} units" end else puts "Supply hold is empty." end end def load_fuel(quantity) puts "----- Fuel Action -----" puts "Loading #{quantity} units of fuel in the tank." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> += quantity end def report_fuel puts "----- Fuel Report -----" puts "#{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment">} units of fuel available." end def activate_thrusters puts "----- Thruster Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> &gt;= 10 puts "Thrusting action successful." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> -= 10 else puts "Thruster Error: Insufficient fuel available." end end end</span></span></span></span></code> </pre> <br> 实际上，我们的空间站无法正常工作（我认为在不久的将来我不会接到NASA的电话），但是有一些事情需要分析。 <br><br> 因此，SpaceStation类具有几个不同的职责（或任务）。 所有这些都可以分为几种类型： <br><ul><li> 感测器 </li><li> 供应（消耗品）； </li><li> 燃料; </li><li> 加速器。 </li></ul><br> 尽管在班级中没有定义任何车站员工，但我们可以轻松想象谁对什么负责。 最有可能的是，科学家控制传感器，物流师负责资源的供应，工程师负责燃料的供应，飞行员控制加速器。 <br><br> 我们可以说这个程序不符合SRP吗？ 当然可以 但是，SpaceStation类是一个典型的“神圣对象”，它什么都知道，任何事都做。 这是面向对象编程中的主要反模式。 对于初学者而言，此类对象极难维护。 到目前为止，该程序非常简单，是的，但是请想象一下，如果我们添加新功能，将会发生什么。 也许我们的空间站将需要医疗中心或会议室。 功能越多，SpaceStation的增长量就越大。 好吧，由于此对象将与其他对象联系在一起，因此整个系统的维护将变得更加复杂。 结果，我们可能会破坏例如加速器的工作。 如果研究人员要求对传感器的使用进行更改，那么这很可能会影响工作站的通信系统。 <br><br> 违反SRP原则可以在短期上取得战术上的胜利，但是最终我们将“输掉战争”，将来为这样的怪物提供服务将非常困难。 最好将程序分为单独的代码部分，每个部分负责执行特定的操作。 考虑到这一点，让我们更改SpaceStation类。 <br><br>  <b>分担责任</b> <br><br> 上面，我们确定了由SpaceStation类控制的四种类型的操作。 重构时，我们会牢记它们。 更新的代码与SRP更好地匹配。 <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SpaceStation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_reader</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_hold</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">thrusters</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_hold</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SupplyHold</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensors</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FuelTank</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">thrusters</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Thrusters</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">(@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">run_sensors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensor</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Running</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors!</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SupplyHold</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_accessor</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> = {} </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">load_supplies</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">quantity</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Supply</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Loading</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#{quantity} units of #{type} in the supply hold." if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] += quantity else </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] = quantity end end def use_supplies(type, quantity) puts "----- Supply Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] != nil &amp;&amp; </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] &gt; quantity puts "Using #{quantity} of #{type} from the supply hold." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] -= quantity else puts "Supply Error: Insufficient #{type} in the supply hold." end end def report_supplies puts "----- Supply Report -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.keys.length &gt; 0 </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.each do |type, quantity| puts "#{type} avalilable: #{quantity} units" end else puts "Supply hold is empty." end end end class FuelTank attr_accessor :fuel def initialize </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> = 0 end def get_fuel_levels </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> end def load_fuel(quantity) puts "----- Fuel Action -----" puts "Loading #{quantity} units of fuel in the tank." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> += quantity end def use_fuel(quantity) puts "----- Fuel Action -----" puts "Using #{quantity} units of fuel from the tank." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> -= quantity end def report_fuel puts "----- Fuel Report -----" puts "#{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment">} units of fuel available." end end class Thrusters def initialize(fuel_tank) </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank = fuel_tank end def activate_thrusters puts "----- Thruster Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank.get_fuel_levels &gt;= 10 puts "Thrusting action successful." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank.use_fuel(10) else puts "Thruster Error: Insufficient fuel available." end end end</span></span></span></span></code> </pre> <br> 有很多更改，该程序现在看起来肯定更好。 现在，我们的SpaceStation类已经变成了一个容器，可以在其中启动对相关零件的操作，包括一组传感器，消耗品供应系统，燃油箱和增压器。 <br><br> 现在，对于任何变量，都有一个对应的类：传感器；  SupplyHold； 油箱 推进器。 <br><br> 此版本的代码有几个重要更改。 事实是，各个功能不仅被封装在自己的类中，而且它们的组织方式也变得可预测和一致。 我们将功能相似的元素分组以遵循连通性原则。 现在，如果我们需要通过从哈希结构切换为数组来更改系统原理，只需使用SupplyHold类，我们就无需接触其他模块。 因此，如果负责后勤的人员在其所在区域进行了某些更改，则该站的其余部分将保持不变。 同时，SpaceStation类甚至不会意识到这些更改。 <br><br> 我们的空间站人员可能会对这些更改感到满意，因为他们可以要求他们所需要的内容。 请注意，该代码在SupplyHold和FuelTank类中包含诸如report_supplies和report_fuel之类的方法。 如果地球要求改变报告的生成方式，会发生什么？ 您将需要更改两个类SupplyHold和FuelTank。 但是，如果您需要改变交付燃料和消耗品的方式怎么办？ 您可能必须再次更改所有相同的类。 这违反了SRP原则。 让我们修复它。 <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SpaceStation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_reader</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_hold</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_reporter</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_reporter</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">thrusters</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensors</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_hold</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SupplyHold</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_reporter</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SupplyReporter</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">(@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_hold</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FuelTank</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_reporter</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FuelReporter</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">(@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">thrusters</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Thrusters</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">(@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">run_sensors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensor</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Running</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors!</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SupplyHold</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_accessor</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_reader</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">reporter</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> = {} </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_supplies</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">load_supplies</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">quantity</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Supply</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Loading</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#{quantity} units of #{type} in the supply hold." if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] += quantity else </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] = quantity end end def use_supplies(type, quantity) puts "----- Supply Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] != nil &amp;&amp; </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] &gt; quantity puts "Using #{quantity} of #{type} from the supply hold." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] -= quantity else puts "Supply Error: Insufficient #{type} in the supply hold." end end end class FuelTank attr_accessor :fuel attr_reader :reporter def initialize </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> = 0 end def get_fuel_levels </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> end def load_fuel(quantity) puts "----- Fuel Action -----" puts "Loading #{quantity} units of fuel in the tank." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> += quantity end def use_fuel(quantity) puts "----- Fuel Action -----" puts "Using #{quantity} units of fuel from the tank." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> -= quantity end end class Thrusters FUEL_PER_THRUST = 10 def initialize(fuel_tank) </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank = fuel_tank end def activate_thrusters puts "----- Thruster Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank.get_fuel_levels &gt;= FUEL_PER_THRUST puts "Thrusting action successful." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank.use_fuel(FUEL_PER_THRUST) else puts "Thruster Error: Insufficient fuel available." end end end class Reporter def initialize(item, type) </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_item = item </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@type</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> = type end def report puts "----- #{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@type</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.capitalize} Report -----" end end class FuelReporter &lt; Reporter def initialize(item) super(item, "fuel") end def report super puts "#{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_item.get_fuel_levels} units of fuel available." end end class SupplyReporter &lt; Reporter def initialize(item) super(item, "supply") end def report super if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_item.get_supplies.keys.length &gt; 0 </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_item.get_supplies.each do |type, quantity| puts "#{type} avalilable: #{quantity} units" end else puts "Supply hold is empty." end end end iss = SpaceStation.new iss.sensors.run_sensors # ----- Sensor Action ----- # Running sensors! iss.supply_hold.use_supplies("parts", 2) # ----- Supply Action ----- # Supply Error: Insufficient parts in the supply hold. iss.supply_hold.load_supplies("parts", 10) # ----- Supply Action ----- # Loading 10 units of parts in the supply hold. iss.supply_hold.use_supplies("parts", 2) # ----- Supply Action ----- # Using 2 of parts from the supply hold. iss.supply_reporter.report # ----- Supply Report ----- # parts avalilable: 8 units iss.thrusters.activate_thrusters # ----- Thruster Action ----- # Thruster Error: Insufficient fuel available. iss.fuel_tank.load_fuel(100) # ----- Fuel Action ----- # Loading 100 units of fuel in the tank. iss.thrusters.activate_thrusters # ----- Thruster Action ----- # Thrusting action successful. # ----- Fuel Action ----- # Using 10 units of fuel from the tank. iss.fuel_reporter.report # ----- Fuel Report ----- # 90 units of fuel available.</span></span></span></span></code> </pre> <br> 在该程序的最新版本中，职责分为两个新类，即FuelReporter和SupplyReporter。 他们都是记者类的孩子。 另外，我们在SpaceStation类中添加了实例变量，以便在必要时初始化必要的子类。 现在，如果地球决定改变其他东西，那么我们将对子类而不是主类进行更改。 <br><br> 当然，这里的某些类仍然相互依赖。 因此，SupplyReporter对象取决于SupplyHold，而FuelReporter对象取决于FuelTank。 当然，增压器应连接到燃油箱。 但是，这里的一切看起来合乎逻辑，并且进行更改将不会特别困难-编辑一个对象的代码不会对另一个对象产生太大影响。 <br><br> 因此，我们创建了模块化代码，其中精确定义了每个对象/类的职责。 使用这样的代码不是问题；对其进行维护将是一个简单的任务。 我们已经将整个“神圣对象”转换为SRP。 <br><br><blockquote>  <b>Skillbox建议：</b> <br><br><ul><li> 两年实践课程<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“我是PRO Web开发人员</a> 。 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">”</a> </li><li> 在线课程<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“ C＃Developer with 0”</a> 。 </li><li> 年度实践课程<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“ PHP开发人员从0到PRO”</a> 。 <br></li></ul></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN442928/">https://habr.com/ru/post/zh-CN442928/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN442918/index.html">使用Flask在生产环境中将机器学习模型作为API部署的指南</a></li>
<li><a href="../zh-CN442920/index.html">协程::实践经验</a></li>
<li><a href="../zh-CN442922/index.html">月球任务“ Bereshit”-装置的特点，一系列演习和最长的登月路径</a></li>
<li><a href="../zh-CN442924/index.html">先进的地形纹理喷涂</a></li>
<li><a href="../zh-CN442926/index.html">红外光中的“老鼠大惊小怪”：将纳米颗粒引入小鼠眼的视网膜下区域</a></li>
<li><a href="../zh-CN442934/index.html">如何在人烟稀少的大公司中雇用员工。 与Wrike的对话</a></li>
<li><a href="../zh-CN442936/index.html">这是必须看到的：3D技术帮助工程师创建了智能眼镜</a></li>
<li><a href="../zh-CN442938/index.html">与健康的雇主进行远程工作</a></li>
<li><a href="../zh-CN442942/index.html">更新CPaaS的控制面板：重塑UI / UX和实现Normal Person IDE</a></li>
<li><a href="../zh-CN442944/index.html">关于架构师解决方案的5个神话。 专家意见</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>