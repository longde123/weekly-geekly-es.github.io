<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ· ğŸ•µğŸ½ ğŸ¥… ä½¿ç”¨SOLIDç¼–å†™çµæ´»çš„ä»£ç  ğŸ“· ğŸ· ğŸ¥¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="è¯‘è€…çš„è¯ï¼š Severin Peresä¸ºæ‚¨å‘å¸ƒäº†æœ‰å…³åœ¨ç¼–ç¨‹ä¸­ä½¿ç”¨SOLIDåŸç†çš„æ–‡ç«  ã€‚ æœ¬æ–‡ä¸­çš„ä¿¡æ¯å¯¹äºæœ‰ç»éªŒçš„åˆå­¦è€…å’Œç¨‹åºå‘˜éƒ½æ˜¯æœ‰ç”¨çš„ã€‚ 

 å¦‚æœæ‚¨æ˜¯å¼€å‘äººå‘˜ï¼Œåˆ™å¯èƒ½å¬è¯´è¿‡SOLIDåŸåˆ™ã€‚ å®ƒä»¬ä½¿ç¨‹åºå‘˜èƒ½å¤Ÿç¼–å†™å¹²å‡€ï¼Œç»“æ„è‰¯å¥½ä¸”æ˜“äºç»´æŠ¤çš„ä»£ç ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç¼–ç¨‹ä¸­ï¼Œæœ‰å‡ ç§æ–¹æ³•å¯ä»¥æ­£ç¡®æ‰§è¡Œæ­¤å·¥...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨SOLIDç¼–å†™çµæ´»çš„ä»£ç </h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skillbox/blog/442928/"><img src="https://habrastorage.org/getpro/habr/post_images/fa6/4f8/79c/fa64f879ca7b67d6676536abfb111655.jpg"><br><br>  <i><b>è¯‘è€…çš„è¯ï¼š</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Severin Peres</a>ä¸ºæ‚¨å‘å¸ƒ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">äº†</a>æœ‰å…³åœ¨ç¼–ç¨‹ä¸­ä½¿ç”¨SOLIDåŸç†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çš„æ–‡ç« </a> ã€‚</i>  <i>æœ¬æ–‡ä¸­çš„ä¿¡æ¯å¯¹äºæœ‰ç»éªŒçš„åˆå­¦è€…å’Œç¨‹åºå‘˜éƒ½æ˜¯æœ‰ç”¨çš„ã€‚</i> <br><br> å¦‚æœæ‚¨æ˜¯å¼€å‘äººå‘˜ï¼Œåˆ™å¯èƒ½å¬è¯´è¿‡SOLIDåŸåˆ™ã€‚ å®ƒä»¬ä½¿ç¨‹åºå‘˜èƒ½å¤Ÿç¼–å†™å¹²å‡€ï¼Œç»“æ„è‰¯å¥½ä¸”æ˜“äºç»´æŠ¤çš„ä»£ç ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç¼–ç¨‹ä¸­ï¼Œæœ‰å‡ ç§æ–¹æ³•å¯ä»¥æ­£ç¡®æ‰§è¡Œæ­¤å·¥ä½œã€‚ ä¸åŒçš„ä¸“å®¶å¯¹â€œæ­£ç¡®çš„æ–¹æ³•â€æœ‰ä¸åŒçš„æƒ³æ³•å’Œç†è§£ï¼Œè¿™å®Œå…¨å–å†³äºæ¯ä¸ªäººçš„ç»éªŒã€‚ ä½†æ˜¯ï¼ŒSOLIDä¸­å®£å‘Šçš„æƒ³æ³•å‡ ä¹è¢«ITç¤¾åŒºçš„æ‰€æœ‰ä»£è¡¨æ‰€æ¥å—ã€‚ å®ƒä»¬æˆä¸ºè®¸å¤šè‰¯å¥½çš„å¼€å‘ç®¡ç†å®è·µçš„å‡ºç°å’Œå‘å±•çš„èµ·ç‚¹ã€‚ <br><br> è®©æˆ‘ä»¬çœ‹çœ‹SOLIDåŸç†æ˜¯ä»€ä¹ˆä»¥åŠå®ƒä»¬å¦‚ä½•å¸®åŠ©æˆ‘ä»¬ã€‚ <br><a name="habracut"></a><br><blockquote>  <b>Skillboxå»ºè®®ï¼š</b>å®ç”¨è¯¾ç¨‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œ Mobile Developer PROâ€</a> ã€‚ <br><br>  <b>æˆ‘ä»¬æé†’æ‚¨ï¼š</b> <i>å¯¹äºæ‰€æœ‰â€œå“ˆå‹ƒâ€è¯»è€…æ¥è¯´ï¼Œä½¿ç”¨â€œå“ˆå‹ƒâ€ä¿ƒé”€ä»£ç æ³¨å†Œä»»ä½•Skillboxè¯¾ç¨‹æ—¶å‡å¯äº«å—10,000å¢å¸ƒçš„æŠ˜æ‰£ã€‚</i> </blockquote><br><h3> ä»€ä¹ˆæ˜¯SOLIDï¼Ÿ </h3><br> è¯¥æœ¯è¯­æ˜¯ç¼©å†™ï¼Œè¯¥æœ¯è¯­çš„æ¯ä¸ªå­—æ¯éƒ½æ˜¯æŸä¸ªåŸåˆ™åç§°çš„å¼€å¤´ï¼š <br><ul><li> è´£ä»»åŸåˆ™ã€‚ ä¸€ä¸ªæ¨¡å—å¯èƒ½åªæœ‰ä¸€ä¸ªæ›´æ”¹åŸå› ã€‚ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>O</b>ç¬”/å°é—­åŸç†</a> ã€‚ ç±»å’Œå…¶ä»–å…ƒç´ å¿…é¡»æ‰“å¼€æ‰èƒ½è¿›è¡Œæ‰©å±•ï¼Œä½†å¿…é¡»å…³é—­æ‰èƒ½è¿›è¡Œä¿®æ”¹ã€‚ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é‡Œæ–¯ç§‘å¤«æ›¿ä»£åŸç†</a> ã€‚ ä½¿ç”¨åŸºæœ¬ç±»å‹çš„å‡½æ•°åº”è¯¥èƒ½å¤Ÿåœ¨ä¸çŸ¥é“åŸºæœ¬ç±»å‹çš„æƒ…å†µä¸‹ä½¿ç”¨åŸºæœ¬ç±»å‹çš„å­ç±»å‹ã€‚ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç•Œé¢éš”ç¦»åŸåˆ™</a> ã€‚ è½¯ä»¶å®ä½“ä¸åº”ä¾èµ–äºå®ƒä»¬ä¸ä½¿ç”¨çš„æ–¹æ³•ã€‚ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç›¸å¯¹åè½¬åŸç†</a> ã€‚ ä¸Šçº§æ¨¡å—ä¸åº”ä¾èµ–äºä¸‹çº§æ¨¡å—ã€‚ </li></ul><br><h3> å”¯ä¸€è´£ä»»åŸåˆ™ </h3><br> å•ä¸€è´£ä»»åŸåˆ™ï¼ˆSRPï¼‰æŒ‡å‡ºï¼Œç¨‹åºä¸­çš„æ¯ä¸ªç±»æˆ–æ¨¡å—åº”ä»…è´Ÿè´£è¯¥ç¨‹åºåŠŸèƒ½çš„ä¸€éƒ¨åˆ†ã€‚ æ­¤å¤–ï¼Œåº”å°†æ­¤è´£ä»»çš„è¦ç´ åˆ†é…ç»™ä»–ä»¬çš„ç­çº§ï¼Œè€Œä¸æ˜¯åœ¨æ— å…³çš„ç­çº§ä¹‹é—´åˆ†é…ã€‚  SRPçš„å¼€å‘è€…å…¼é¦–å¸­ä¼ æ•™å£«Robert S. Martinå°†è´£ä»»æè¿°ä¸ºæ”¹å˜çš„åŸå› ã€‚ æœ€åˆï¼Œä»–å°†è¯¥æœ¯è¯­ä½œä¸ºå…¶å·¥ä½œçš„è¦ç´ ä¹‹ä¸€â€œé¢å‘å¯¹è±¡è®¾è®¡çš„åŸç†â€æå‡ºã€‚ è¯¥æ¦‚å¿µåŒ…æ‹¬Tom Demarcoå…ˆå‰å®šä¹‰çš„è®¸å¤šè¿æ¥æ¨¡å¼ã€‚ <br><br> è¯¥æ¦‚å¿µè¿˜åŒ…æ‹¬David Parnassusæå‡ºçš„å‡ ä¸ªæ¦‚å¿µã€‚ ä¸»è¦çš„ä¸¤ä¸ªæ˜¯å°è£…å’Œä¿¡æ¯éšè—ã€‚ å¸•çº³è‹æ–¯ï¼ˆParnassusï¼‰è¾©ç§°ï¼Œå°†ç³»ç»Ÿåˆ’åˆ†ä¸ºå•ç‹¬çš„æ¨¡å—ä¸åº”åŸºäºå¯¹æµç¨‹å›¾æˆ–æ‰§è¡Œæµç¨‹çš„åˆ†æã€‚ ä»»ä½•æ¨¡å—éƒ½åº”åŒ…å«ç‰¹å®šçš„è§£å†³æ–¹æ¡ˆï¼Œä»¥å‘å®¢æˆ·æä¾›æœ€å°‘çš„ä¿¡æ¯ã€‚ <br><br> é¡ºä¾¿è¯´ä¸€å¥ï¼Œé©¬ä¸ç»™å…¬å¸çš„é«˜çº§ç»ç†ï¼ˆCOOï¼ŒCTOï¼ŒCFOï¼‰æä¾›äº†ä¸€ä¸ªæœ‰è¶£çš„ä¾‹å­ï¼Œä»–ä»¬æ¯ä¸ªäººéƒ½å°†ç‰¹å®šçš„è½¯ä»¶ç”¨äºä¸åŒç›®çš„çš„ä¸šåŠ¡ã€‚ ç»“æœï¼Œä»–ä»¬ä¸­çš„ä»»ä½•ä¸€ä¸ªéƒ½å¯ä»¥åœ¨ä¸å½±å“å…¶ä»–ç®¡ç†äººå‘˜åˆ©ç›Šçš„æƒ…å†µä¸‹å®æ–½è½¯ä»¶æ›´æ”¹ã€‚ <br><br><h3> ç¥ç‰© </h3><br> åƒå¾€å¸¸ä¸€æ ·ï¼Œå­¦ä¹ SRPçš„æœ€å¥½æ–¹æ³•æ˜¯çœ‹åˆ°ä¸€åˆ‡ã€‚ è®©æˆ‘ä»¬çœ‹ä¸€çœ‹ç¨‹åºä¸­ä¸ç¬¦åˆåˆ†æ‹…è´£ä»»åŸåˆ™çš„éƒ¨åˆ†ã€‚ è¿™æ˜¯æè¿°ç©ºé—´ç«™è¡Œä¸ºå’Œå±æ€§çš„Rubyä»£ç ã€‚ <br><br> æŸ¥çœ‹ç¤ºä¾‹å¹¶å°è¯•ç¡®å®šä»¥ä¸‹å†…å®¹ï¼š <br> åœ¨SpaceStationç±»ä¸­å£°æ˜çš„é‚£äº›å¯¹è±¡çš„èŒè´£ã€‚ <br> é‚£äº›å¯¹ç©ºé—´ç«™çš„å·¥ä½œæ„Ÿå…´è¶£çš„äººã€‚ <br><br><pre><code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SpaceStation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> = {} @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel</span></span></span><span class="hljs-class"> = 0 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">run_sensors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensor</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Running</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors!</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">load_supplies</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">quantity</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Supply</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Loading</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#{quantity} units of #{type} in the supply hold." if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] += quantity else </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] = quantity end end def use_supplies(type, quantity) puts "----- Supply Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] != nil &amp;&amp; </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] &gt; quantity puts "Using #{quantity} of #{type} from the supply hold." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] -= quantity else puts "Supply Error: Insufficient #{type} in the supply hold." end end def report_supplies puts "----- Supply Report -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.keys.length &gt; 0 </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.each do |type, quantity| puts "#{type} avalilable: #{quantity} units" end else puts "Supply hold is empty." end end def load_fuel(quantity) puts "----- Fuel Action -----" puts "Loading #{quantity} units of fuel in the tank." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> += quantity end def report_fuel puts "----- Fuel Report -----" puts "#{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment">} units of fuel available." end def activate_thrusters puts "----- Thruster Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> &gt;= 10 puts "Thrusting action successful." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> -= 10 else puts "Thruster Error: Insufficient fuel available." end end end</span></span></span></span></code> </pre> <br> å®é™…ä¸Šï¼Œæˆ‘ä»¬çš„ç©ºé—´ç«™æ— æ³•æ­£å¸¸å·¥ä½œï¼ˆæˆ‘è®¤ä¸ºåœ¨ä¸ä¹…çš„å°†æ¥æˆ‘ä¸ä¼šæ¥åˆ°NASAçš„ç”µè¯ï¼‰ï¼Œä½†æ˜¯æœ‰ä¸€äº›äº‹æƒ…éœ€è¦åˆ†æã€‚ <br><br> å› æ­¤ï¼ŒSpaceStationç±»å…·æœ‰å‡ ä¸ªä¸åŒçš„èŒè´£ï¼ˆæˆ–ä»»åŠ¡ï¼‰ã€‚ æ‰€æœ‰è¿™äº›éƒ½å¯ä»¥åˆ†ä¸ºå‡ ç§ç±»å‹ï¼š <br><ul><li> æ„Ÿæµ‹å™¨ </li><li> ä¾›åº”ï¼ˆæ¶ˆè€—å“ï¼‰ï¼› </li><li> ç‡ƒæ–™; </li><li> åŠ é€Ÿå™¨ã€‚ </li></ul><br> å°½ç®¡åœ¨ç­çº§ä¸­æ²¡æœ‰å®šä¹‰ä»»ä½•è½¦ç«™å‘˜å·¥ï¼Œä½†æˆ‘ä»¬å¯ä»¥è½»æ¾æƒ³è±¡è°å¯¹ä»€ä¹ˆè´Ÿè´£ã€‚ æœ€æœ‰å¯èƒ½çš„æ˜¯ï¼Œç§‘å­¦å®¶æ§åˆ¶ä¼ æ„Ÿå™¨ï¼Œç‰©æµå¸ˆè´Ÿè´£èµ„æºçš„ä¾›åº”ï¼Œå·¥ç¨‹å¸ˆè´Ÿè´£ç‡ƒæ–™çš„ä¾›åº”ï¼Œé£è¡Œå‘˜æ§åˆ¶åŠ é€Ÿå™¨ã€‚ <br><br> æˆ‘ä»¬å¯ä»¥è¯´è¿™ä¸ªç¨‹åºä¸ç¬¦åˆSRPå—ï¼Ÿ å½“ç„¶å¯ä»¥ ä½†æ˜¯ï¼ŒSpaceStationç±»æ˜¯ä¸€ä¸ªå…¸å‹çš„â€œç¥åœ£å¯¹è±¡â€ï¼Œå®ƒä»€ä¹ˆéƒ½çŸ¥é“ï¼Œä»»ä½•äº‹éƒ½åšã€‚ è¿™æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ä¸»è¦åæ¨¡å¼ã€‚ å¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œæ­¤ç±»å¯¹è±¡æéš¾ç»´æŠ¤ã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¯¥ç¨‹åºéå¸¸ç®€å•ï¼Œæ˜¯çš„ï¼Œä½†æ˜¯è¯·æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æ·»åŠ æ–°åŠŸèƒ½ï¼Œå°†ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ ä¹Ÿè®¸æˆ‘ä»¬çš„ç©ºé—´ç«™å°†éœ€è¦åŒ»ç–—ä¸­å¿ƒæˆ–ä¼šè®®å®¤ã€‚ åŠŸèƒ½è¶Šå¤šï¼ŒSpaceStationçš„å¢é•¿é‡å°±è¶Šå¤§ã€‚ å¥½å§ï¼Œç”±äºæ­¤å¯¹è±¡å°†ä¸å…¶ä»–å¯¹è±¡è”ç³»åœ¨ä¸€èµ·ï¼Œå› æ­¤æ•´ä¸ªç³»ç»Ÿçš„ç»´æŠ¤å°†å˜å¾—æ›´åŠ å¤æ‚ã€‚ ç»“æœï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç ´åä¾‹å¦‚åŠ é€Ÿå™¨çš„å·¥ä½œã€‚ å¦‚æœç ”ç©¶äººå‘˜è¦æ±‚å¯¹ä¼ æ„Ÿå™¨çš„ä½¿ç”¨è¿›è¡Œæ›´æ”¹ï¼Œé‚£ä¹ˆè¿™å¾ˆå¯èƒ½ä¼šå½±å“å·¥ä½œç«™çš„é€šä¿¡ç³»ç»Ÿã€‚ <br><br> è¿åSRPåŸåˆ™å¯ä»¥åœ¨çŸ­æœŸä¸Šå–å¾—æˆ˜æœ¯ä¸Šçš„èƒœåˆ©ï¼Œä½†æ˜¯æœ€ç»ˆæˆ‘ä»¬å°†â€œè¾“æ‰æˆ˜äº‰â€ï¼Œå°†æ¥ä¸ºè¿™æ ·çš„æ€ªç‰©æä¾›æœåŠ¡å°†éå¸¸å›°éš¾ã€‚ æœ€å¥½å°†ç¨‹åºåˆ†ä¸ºå•ç‹¬çš„ä»£ç éƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†è´Ÿè´£æ‰§è¡Œç‰¹å®šçš„æ“ä½œã€‚ è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œè®©æˆ‘ä»¬æ›´æ”¹SpaceStationç±»ã€‚ <br><br>  <b>åˆ†æ‹…è´£ä»»</b> <br><br> ä¸Šé¢ï¼Œæˆ‘ä»¬ç¡®å®šäº†ç”±SpaceStationç±»æ§åˆ¶çš„å››ç§ç±»å‹çš„æ“ä½œã€‚ é‡æ„æ—¶ï¼Œæˆ‘ä»¬ä¼šç‰¢è®°å®ƒä»¬ã€‚ æ›´æ–°çš„ä»£ç ä¸SRPæ›´å¥½åœ°åŒ¹é…ã€‚ <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SpaceStation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_reader</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_hold</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">thrusters</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_hold</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SupplyHold</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensors</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FuelTank</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">thrusters</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Thrusters</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">(@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">run_sensors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensor</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Running</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors!</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SupplyHold</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_accessor</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> = {} </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">load_supplies</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">quantity</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Supply</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Loading</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#{quantity} units of #{type} in the supply hold." if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] += quantity else </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] = quantity end end def use_supplies(type, quantity) puts "----- Supply Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] != nil &amp;&amp; </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] &gt; quantity puts "Using #{quantity} of #{type} from the supply hold." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] -= quantity else puts "Supply Error: Insufficient #{type} in the supply hold." end end def report_supplies puts "----- Supply Report -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.keys.length &gt; 0 </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.each do |type, quantity| puts "#{type} avalilable: #{quantity} units" end else puts "Supply hold is empty." end end end class FuelTank attr_accessor :fuel def initialize </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> = 0 end def get_fuel_levels </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> end def load_fuel(quantity) puts "----- Fuel Action -----" puts "Loading #{quantity} units of fuel in the tank." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> += quantity end def use_fuel(quantity) puts "----- Fuel Action -----" puts "Using #{quantity} units of fuel from the tank." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> -= quantity end def report_fuel puts "----- Fuel Report -----" puts "#{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment">} units of fuel available." end end class Thrusters def initialize(fuel_tank) </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank = fuel_tank end def activate_thrusters puts "----- Thruster Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank.get_fuel_levels &gt;= 10 puts "Thrusting action successful." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank.use_fuel(10) else puts "Thruster Error: Insufficient fuel available." end end end</span></span></span></span></code> </pre> <br> æœ‰å¾ˆå¤šæ›´æ”¹ï¼Œè¯¥ç¨‹åºç°åœ¨çœ‹èµ·æ¥è‚¯å®šæ›´å¥½ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬çš„SpaceStationç±»å·²ç»å˜æˆäº†ä¸€ä¸ªå®¹å™¨ï¼Œå¯ä»¥åœ¨å…¶ä¸­å¯åŠ¨å¯¹ç›¸å…³é›¶ä»¶çš„æ“ä½œï¼ŒåŒ…æ‹¬ä¸€ç»„ä¼ æ„Ÿå™¨ï¼Œæ¶ˆè€—å“ä¾›åº”ç³»ç»Ÿï¼Œç‡ƒæ²¹ç®±å’Œå¢å‹å™¨ã€‚ <br><br> ç°åœ¨ï¼Œå¯¹äºä»»ä½•å˜é‡ï¼Œéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç±»ï¼šä¼ æ„Ÿå™¨ï¼›  SupplyHoldï¼› æ²¹ç®± æ¨è¿›å™¨ã€‚ <br><br> æ­¤ç‰ˆæœ¬çš„ä»£ç æœ‰å‡ ä¸ªé‡è¦æ›´æ”¹ã€‚ äº‹å®æ˜¯ï¼Œå„ä¸ªåŠŸèƒ½ä¸ä»…è¢«å°è£…åœ¨è‡ªå·±çš„ç±»ä¸­ï¼Œè€Œä¸”å®ƒä»¬çš„ç»„ç»‡æ–¹å¼ä¹Ÿå˜å¾—å¯é¢„æµ‹å’Œä¸€è‡´ã€‚ æˆ‘ä»¬å°†åŠŸèƒ½ç›¸ä¼¼çš„å…ƒç´ åˆ†ç»„ä»¥éµå¾ªè¿é€šæ€§åŸåˆ™ã€‚ ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦é€šè¿‡ä»å“ˆå¸Œç»“æ„åˆ‡æ¢ä¸ºæ•°ç»„æ¥æ›´æ”¹ç³»ç»ŸåŸç†ï¼Œåªéœ€ä½¿ç”¨SupplyHoldç±»ï¼Œæˆ‘ä»¬å°±æ— éœ€æ¥è§¦å…¶ä»–æ¨¡å—ã€‚ å› æ­¤ï¼Œå¦‚æœè´Ÿè´£åå‹¤çš„äººå‘˜åœ¨å…¶æ‰€åœ¨åŒºåŸŸè¿›è¡Œäº†æŸäº›æ›´æ”¹ï¼Œåˆ™è¯¥ç«™çš„å…¶ä½™éƒ¨åˆ†å°†ä¿æŒä¸å˜ã€‚ åŒæ—¶ï¼ŒSpaceStationç±»ç”šè‡³ä¸ä¼šæ„è¯†åˆ°è¿™äº›æ›´æ”¹ã€‚ <br><br> æˆ‘ä»¬çš„ç©ºé—´ç«™äººå‘˜å¯èƒ½ä¼šå¯¹è¿™äº›æ›´æ”¹æ„Ÿåˆ°æ»¡æ„ï¼Œå› ä¸ºä»–ä»¬å¯ä»¥è¦æ±‚ä»–ä»¬æ‰€éœ€è¦çš„å†…å®¹ã€‚ è¯·æ³¨æ„ï¼Œè¯¥ä»£ç åœ¨SupplyHoldå’ŒFuelTankç±»ä¸­åŒ…å«è¯¸å¦‚report_supplieså’Œreport_fuelä¹‹ç±»çš„æ–¹æ³•ã€‚ å¦‚æœåœ°çƒè¦æ±‚æ”¹å˜æŠ¥å‘Šçš„ç”Ÿæˆæ–¹å¼ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ æ‚¨å°†éœ€è¦æ›´æ”¹ä¸¤ä¸ªç±»SupplyHoldå’ŒFuelTankã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨éœ€è¦æ”¹å˜äº¤ä»˜ç‡ƒæ–™å’Œæ¶ˆè€—å“çš„æ–¹å¼æ€ä¹ˆåŠï¼Ÿ æ‚¨å¯èƒ½å¿…é¡»å†æ¬¡æ›´æ”¹æ‰€æœ‰ç›¸åŒçš„ç±»ã€‚ è¿™è¿åäº†SRPåŸåˆ™ã€‚ è®©æˆ‘ä»¬ä¿®å¤å®ƒã€‚ <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SpaceStation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_reader</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_hold</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_reporter</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_reporter</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">thrusters</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensors</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_hold</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SupplyHold</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_reporter</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SupplyReporter</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">(@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supply_hold</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FuelTank</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_reporter</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FuelReporter</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">(@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">thrusters</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Thrusters</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">(@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fuel_tank</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">run_sensors</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sensor</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Running</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sensors!</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SupplyHold</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_accessor</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_reader</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">reporter</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> = {} </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_supplies</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supplies</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">load_supplies</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">quantity</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "----- </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Supply</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Action</span></span></span><span class="hljs-class"> -----" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">puts</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Loading</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#{quantity} units of #{type} in the supply hold." if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] += quantity else </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] = quantity end end def use_supplies(type, quantity) puts "----- Supply Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] != nil &amp;&amp; </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] &gt; quantity puts "Using #{quantity} of #{type} from the supply hold." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@supplies</span></span></span></span><span class="hljs-class"><span class="hljs-comment">[type] -= quantity else puts "Supply Error: Insufficient #{type} in the supply hold." end end end class FuelTank attr_accessor :fuel attr_reader :reporter def initialize </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> = 0 end def get_fuel_levels </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> end def load_fuel(quantity) puts "----- Fuel Action -----" puts "Loading #{quantity} units of fuel in the tank." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> += quantity end def use_fuel(quantity) puts "----- Fuel Action -----" puts "Using #{quantity} units of fuel from the tank." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@fuel</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> -= quantity end end class Thrusters FUEL_PER_THRUST = 10 def initialize(fuel_tank) </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank = fuel_tank end def activate_thrusters puts "----- Thruster Action -----" if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank.get_fuel_levels &gt;= FUEL_PER_THRUST puts "Thrusting action successful." </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_fuel_tank.use_fuel(FUEL_PER_THRUST) else puts "Thruster Error: Insufficient fuel available." end end end class Reporter def initialize(item, type) </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_item = item </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@type</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> = type end def report puts "----- #{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@type</span></span></span></span><span class="hljs-class"><span class="hljs-comment">.capitalize} Report -----" end end class FuelReporter &lt; Reporter def initialize(item) super(item, "fuel") end def report super puts "#{</span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_item.get_fuel_levels} units of fuel available." end end class SupplyReporter &lt; Reporter def initialize(item) super(item, "supply") end def report super if </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_item.get_supplies.keys.length &gt; 0 </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@linked</span></span></span></span><span class="hljs-class"><span class="hljs-comment">_item.get_supplies.each do |type, quantity| puts "#{type} avalilable: #{quantity} units" end else puts "Supply hold is empty." end end end iss = SpaceStation.new iss.sensors.run_sensors # ----- Sensor Action ----- # Running sensors! iss.supply_hold.use_supplies("parts", 2) # ----- Supply Action ----- # Supply Error: Insufficient parts in the supply hold. iss.supply_hold.load_supplies("parts", 10) # ----- Supply Action ----- # Loading 10 units of parts in the supply hold. iss.supply_hold.use_supplies("parts", 2) # ----- Supply Action ----- # Using 2 of parts from the supply hold. iss.supply_reporter.report # ----- Supply Report ----- # parts avalilable: 8 units iss.thrusters.activate_thrusters # ----- Thruster Action ----- # Thruster Error: Insufficient fuel available. iss.fuel_tank.load_fuel(100) # ----- Fuel Action ----- # Loading 100 units of fuel in the tank. iss.thrusters.activate_thrusters # ----- Thruster Action ----- # Thrusting action successful. # ----- Fuel Action ----- # Using 10 units of fuel from the tank. iss.fuel_reporter.report # ----- Fuel Report ----- # 90 units of fuel available.</span></span></span></span></code> </pre> <br> åœ¨è¯¥ç¨‹åºçš„æœ€æ–°ç‰ˆæœ¬ä¸­ï¼ŒèŒè´£åˆ†ä¸ºä¸¤ä¸ªæ–°ç±»ï¼Œå³FuelReporterå’ŒSupplyReporterã€‚ ä»–ä»¬éƒ½æ˜¯è®°è€…ç±»çš„å­©å­ã€‚ å¦å¤–ï¼Œæˆ‘ä»¬åœ¨SpaceStationç±»ä¸­æ·»åŠ äº†å®ä¾‹å˜é‡ï¼Œä»¥ä¾¿åœ¨å¿…è¦æ—¶åˆå§‹åŒ–å¿…è¦çš„å­ç±»ã€‚ ç°åœ¨ï¼Œå¦‚æœåœ°çƒå†³å®šæ”¹å˜å…¶ä»–ä¸œè¥¿ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å¯¹å­ç±»è€Œä¸æ˜¯ä¸»ç±»è¿›è¡Œæ›´æ”¹ã€‚ <br><br> å½“ç„¶ï¼Œè¿™é‡Œçš„æŸäº›ç±»ä»ç„¶ç›¸äº’ä¾èµ–ã€‚ å› æ­¤ï¼ŒSupplyReporterå¯¹è±¡å–å†³äºSupplyHoldï¼Œè€ŒFuelReporterå¯¹è±¡å–å†³äºFuelTankã€‚ å½“ç„¶ï¼Œå¢å‹å™¨åº”è¿æ¥åˆ°ç‡ƒæ²¹ç®±ã€‚ ä½†æ˜¯ï¼Œè¿™é‡Œçš„ä¸€åˆ‡çœ‹èµ·æ¥åˆä¹é€»è¾‘ï¼Œå¹¶ä¸”è¿›è¡Œæ›´æ”¹å°†ä¸ä¼šç‰¹åˆ«å›°éš¾-ç¼–è¾‘ä¸€ä¸ªå¯¹è±¡çš„ä»£ç ä¸ä¼šå¯¹å¦ä¸€ä¸ªå¯¹è±¡äº§ç”Ÿå¤ªå¤§å½±å“ã€‚ <br><br> å› æ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†æ¨¡å—åŒ–ä»£ç ï¼Œå…¶ä¸­ç²¾ç¡®å®šä¹‰äº†æ¯ä¸ªå¯¹è±¡/ç±»çš„èŒè´£ã€‚ ä½¿ç”¨è¿™æ ·çš„ä»£ç ä¸æ˜¯é—®é¢˜ï¼›å¯¹å…¶è¿›è¡Œç»´æŠ¤å°†æ˜¯ä¸€ä¸ªç®€å•çš„ä»»åŠ¡ã€‚ æˆ‘ä»¬å·²ç»å°†æ•´ä¸ªâ€œç¥åœ£å¯¹è±¡â€è½¬æ¢ä¸ºSRPã€‚ <br><br><blockquote>  <b>Skillboxå»ºè®®ï¼š</b> <br><br><ul><li> ä¸¤å¹´å®è·µè¯¾ç¨‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œæˆ‘æ˜¯PRO Webå¼€å‘äººå‘˜</a> ã€‚ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€</a> </li><li> åœ¨çº¿è¯¾ç¨‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œ Cï¼ƒDeveloper with 0â€</a> ã€‚ </li><li> å¹´åº¦å®è·µè¯¾ç¨‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œ PHPå¼€å‘äººå‘˜ä»0åˆ°PROâ€</a> ã€‚ <br></li></ul></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN442928/">https://habr.com/ru/post/zh-CN442928/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN442918/index.html">ä½¿ç”¨Flaskåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å°†æœºå™¨å­¦ä¹ æ¨¡å‹ä½œä¸ºAPIéƒ¨ç½²çš„æŒ‡å—</a></li>
<li><a href="../zh-CN442920/index.html">åç¨‹::å®è·µç»éªŒ</a></li>
<li><a href="../zh-CN442922/index.html">æœˆçƒä»»åŠ¡â€œ Bereshitâ€-è£…ç½®çš„ç‰¹ç‚¹ï¼Œä¸€ç³»åˆ—æ¼”ä¹ å’Œæœ€é•¿çš„ç™»æœˆè·¯å¾„</a></li>
<li><a href="../zh-CN442924/index.html">å…ˆè¿›çš„åœ°å½¢çº¹ç†å–·æ¶‚</a></li>
<li><a href="../zh-CN442926/index.html">çº¢å¤–å…‰ä¸­çš„â€œè€é¼ å¤§æƒŠå°æ€ªâ€ï¼šå°†çº³ç±³é¢—ç²’å¼•å…¥å°é¼ çœ¼çš„è§†ç½‘è†œä¸‹åŒºåŸŸ</a></li>
<li><a href="../zh-CN442934/index.html">å¦‚ä½•åœ¨äººçƒŸç¨€å°‘çš„å¤§å…¬å¸ä¸­é›‡ç”¨å‘˜å·¥ã€‚ ä¸Wrikeçš„å¯¹è¯</a></li>
<li><a href="../zh-CN442936/index.html">è¿™æ˜¯å¿…é¡»çœ‹åˆ°çš„ï¼š3DæŠ€æœ¯å¸®åŠ©å·¥ç¨‹å¸ˆåˆ›å»ºäº†æ™ºèƒ½çœ¼é•œ</a></li>
<li><a href="../zh-CN442938/index.html">ä¸å¥åº·çš„é›‡ä¸»è¿›è¡Œè¿œç¨‹å·¥ä½œ</a></li>
<li><a href="../zh-CN442942/index.html">æ›´æ–°CPaaSçš„æ§åˆ¶é¢æ¿ï¼šé‡å¡‘UI / UXå’Œå®ç°Normal Person IDE</a></li>
<li><a href="../zh-CN442944/index.html">å…³äºæ¶æ„å¸ˆè§£å†³æ–¹æ¡ˆçš„5ä¸ªç¥è¯ã€‚ ä¸“å®¶æ„è§</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>