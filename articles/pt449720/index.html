<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßúüèº üï≥Ô∏è üßëüèø‚Äçü§ù‚Äçüßëüèº Como montar um arco-√≠ris: a hist√≥ria da cria√ß√£o de um tema sombrio üìû üßê ü§≤üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em setembro, lan√ßamos o tema sombrio do aplicativo oficial VK para iOS e, h√° uma semana, o lan√ßamento ocorreu no Android tamb√©m. Por tr√°s desse lan√ßam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como montar um arco-√≠ris: a hist√≥ria da cria√ß√£o de um tema sombrio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vk/blog/449720/"><p><img src="https://habrastorage.org/webt/p4/md/2m/p4md2mlmfaohgyosbxkyo9jbfyq.jpeg"></p><br><p>  Em setembro, lan√ßamos o tema sombrio do aplicativo oficial VK para iOS e, h√° uma semana, o lan√ßamento ocorreu no Android tamb√©m.  Por tr√°s desse lan√ßamento, h√° um √≥timo trabalho conjunto de desenvolvedores e designers.  Juntos, n√£o apenas trocamos VK para o lado sombrio, mas tamb√©m mudamos seriamente a abordagem de trabalhar com cores em nossas interfaces, simplificando sua escolha e reduzindo a probabilidade de erros e gerando estilos desnecess√°rios. </p><br><p>  Meu nome √© Mikhail Likhachev, sou um dos principais designers da VK.  Vou contar como uma pequena equipe adaptou 300 telas e sistematizou todas as cores que existem em aplicativos m√≥veis. Para isso, as sincronizamos entre plataformas e colocamos o trabalho com elas em um √∫nico sistema de design com tokens.  Compartilharei minhas impress√µes de como agora vivemos com isso e se o processo de design se tornou mais complicado. </p><a name="habracut"></a><br><h3 id="zachem-nuzhna-tyomnaya-tema">  Por que precisamos de um tema sombrio </h3><br><p>  Contraste reduzido e fundo escuro ajudam a usar o aplicativo com pouca luz, sem for√ßar os olhos.  O Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">confirma</a> que, ao usar um tema sombrio, os dispositivos com telas AMOLED duram mais tempo sem recarregar.  E muitas pessoas gostam da cor preta ou querem um novo tema de design (embora, √© claro, sem um novo design). </p><br><p>  Agora, o tema sombrio √© implementado n√£o apenas em aplicativos populares, mas tamb√©m no macOS, sistemas operacionais de tvOS, nos lan√ßadores do Android.  E sua apar√™ncia em todos os dispositivos iOS e Android certamente n√£o demorar√° muito a chegar. </p><br><p>  Para n√≥s, essa tamb√©m foi a implementa√ß√£o de uma fun√ß√£o h√° muito esperada - os usu√°rios perguntam sobre um t√≥pico obscuro com mais frequ√™ncia.  Acabou sendo muito procurado - agora mais de 20% da audi√™ncia usa regularmente um tema sombrio no iOS e no Android. </p><br><h1 id="sistema-cvetov">  Sistema de cores </h1><br><p>  Antes de criar um tema escuro, precis√°vamos reorganizar a paleta de cores do nosso aplicativo.  O objetivo era o seguinte: no c√≥digo e no design, n√£o deve haver cores que n√£o estejam inclu√≠das na paleta fixa.  Para um pequeno conjunto de cores, ser√° mais f√°cil combinar o tema escuro. </p><br><p> Quando verificamos o aplicativo inteiro e coletamos todas as cores, t√≠nhamos mais de 200 valores HEX exclusivos.  Desde o lan√ßamento da primeira vers√£o do VK App no ‚Äã‚ÄãiOS, mais de 6 anos se passaram, o aplicativo passou por v√°rias reformula√ß√µes.  Em algum lugar at√© agora, as telas n√£o atualizadas foram preservadas e, em algum lugar, houve situa√ß√µes em que a mesma cor tinha um valor que difere extremamente insignificante.  Por exemplo, uma √∫nica cor no HSB pode ter valores HEX diferentes no Photoshop e no Sketch. </p><br><p>  Nossa aplica√ß√£o √© muito grande.  Podemos dizer que essas s√£o v√°rias aplica√ß√µes em uma: not√≠cias, m√∫sica, v√≠deo, hist√≥rias, transmiss√µes, um mensageiro inteiro e muitas outras se√ß√µes e servi√ßos igualmente importantes.  Contamos de 300 a 400 telas √∫nicas, cada uma com v√°rios estados.  Somente as not√≠cias t√™m v√°rios tipos de exibi√ß√£o de registros e mais de 15 tipos de materiais anexados.  Para esse aplicativo, √© necess√°rio um sistema mais complexo, em que as cores sejam divididas por n√≠veis de contraste, para que seja mais f√°cil selecion√°-las n√£o apenas para um tema escuro, mas tamb√©m para novos controles. </p><br><p>  Em termos de organiza√ß√£o do sistema de cores, gostamos mais da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">abordagem do Material Design</a> .  Preparamos tr√™s paletas estendidas em um sistema semelhante: cinza, cinza frio e azul.  Ao mesmo tempo, dividimos as cores por n√≠veis de contraste com valores convencionais de 0 a 1000, onde 0 √© o mais claro e 1000 √© o mais escuro.  Esses n√∫meros se tornaram identificadores de cores junto com o nome da paleta - Grey 100, Blue 300 e assim por diante. </p><br><p><img src="https://habrastorage.org/webt/w1/pm/lx/w1pmlx_zb1l2-tsbdr_10qauyz4.png"></p><br><p>  Ao escolher cores, o modelo de cores HSB ajuda.  Nele, Matiz √© o tom da cor, Satura√ß√£o √© a satura√ß√£o e Brilho √© o brilho.  A matiz varia de 0 a 360 ¬∞ e usamos um valor fixo de 212 ¬∞ nas interfaces como o tom de cor da nossa marca.  A satura√ß√£o e o brilho s√£o definidos de 0 a 100%. </p><br><p>  Como dividimos a paleta cinza em 10 tons principais, em Brilho, usamos um passo de 10%.  Em seguida, misturamos a cor azul com a satura√ß√£o ao longo de uma pequena curva, ao mesmo tempo ajustando os valores de brilho para preservar a grada√ß√£o de contraste necess√°ria. </p><br><p>  Da mesma forma, pegamos as paletas frias de cinza e azul.  O cinza frio √© usado em locais onde √© necess√°ria uma sombra mais saturada para combinar com o azul, e v√°rias cores azuis s√£o necess√°rias para acentos, bot√µes diferentes, texto e links. </p><br><p><img src="https://habrastorage.org/webt/ev/n-/co/evn-coa5bfuvnnkoeaopv3muzqk.png"></p><br><p>  Usamos o cinza com mais freq√º√™ncia para uma ampla variedade de elementos: planos de fundo, substratos, divis√≥rias, √≠cones, textos de diferentes n√≠veis.  A maioria dos tons de cinza que j√° t√≠nhamos sido selecionados com uma diferen√ßa semelhante de contraste e, ao atualizar a paleta, alteramos ligeiramente os valores de v√°rias cores para corresponder √† nova l√≥gica.  E tamb√©m complementou a parte que faltava das cores no espectro escuro para us√°-las em um tema escuro. </p><br><p>  Absolutamente todas as cores usadas no aplicativo foram adicionadas √† paleta, incluindo aquelas que representam eventos diferentes nas notifica√ß√µes e at√© cores do modo de desenho de graffiti nas hist√≥rias.  Tudo ficou muito mais transparente: agora todas as cores do aplicativo s√£o coletadas em um s√≥ lugar.  E ao adicionar uma nova cor para um caso espec√≠fico, voc√™ precisa pensar com cuidado e verificar se a cor √© adequada em rela√ß√£o √†s existentes. </p><br><p>  Depois de preparar a paleta predefinida, ela teve que ser aplicada no aplicativo, substituindo mais de 200 valores HEX dispon√≠veis por um novo conjunto de mais de 50.  E coloque todas essas cores em um arquivo na forma de vari√°veis ‚Äã‚Äãest√°ticas, em que cada cor da paleta tem um nome exclusivo. </p><br><p>  Nossos desenvolvedores da equipe de infraestrutura no iOS e Android assumiram isso.  Os caras prepararam um algoritmo que substitui a cor pela mais pr√≥xima da nova paleta, o que acelerou bastante o processo.  Em seguida, verificamos todas as telas com testadores para que a cor errada n√£o fosse aplicada em lugar algum e, finalmente, adotamos o tema escuro. </p><br><h2 id="podbor-cvetov-v-tyomnoy-teme">  Correspond√™ncia de cores em um tema escuro </h2><br><p>  Come√ßamos a experimentar as cores do tema escuro nos layouts das telas principais para determinar os principais tons usados.  Para o fundo, usamos o Gray 900 - a cor √© um tom mais claro que o preto para diminuir o contraste entre o fundo e o texto.  Pelo mesmo motivo, o texto foi escolhido n√£o Branco, mas Cinza 100. </p><br><p>  Todas as cores principais do tema escuro foram identificadas pela mesma grada√ß√£o da luz.  Depois de colocarmos os estilos seguidos um ao outro em brilho, selecionamos os valores apropriados, invertendo-os e alterando o n√≠vel de contraste por um tom.  Em seguida, testamos as cores nos layouts, garantindo que todos os elementos retivessem a legibilidade. </p><br><p><img src="https://habrastorage.org/webt/l2/zn/_h/l2zn_hvobwvuaboaqjff-xctl9i.png"></p><br><p>  <em>Tabela de cores prim√°rias usadas</em> </p><br><p>  No tema escuro, usamos menos cores: o chap√©u azul e os bot√µes azuis tornaram-se monocrom√°ticos, a gama de tons de cinza usados ‚Äã‚Äãse estreitou e a paleta de cinza frio se transformou em um cinza regular, mantendo o contraste.  Os elementos de destaque permaneceram azuis - para um tema escuro, foi escolhida uma sombra mais clara e menos saturada. </p><br><p><img src="https://habrastorage.org/webt/my/8y/md/my8ymdnjeingejpr0z0az7eiyqi.png"></p><br><p>  Havia tamb√©m √°reas problem√°ticas, como janelas e cart√µes modais.  O escurecimento embaixo deles n√£o queria ser invertido para branco, e sem medidas adicionais em um tema sombrio, o plano de fundo usual do conte√∫do se fundiria com o ambiente.  Para evitar isso, para cart√µes modais, selecionamos o fundo com um tom mais claro que o habitual e tamb√©m adicionamos um toque (at√© agora apenas no Android) para separ√°-los melhor da camada inferior. </p><br><p>  Tais exemplos mostraram que precisamos de um sistema mais flex√≠vel ao implementar um t√≥pico obscuro. </p><br><h1 id="tehnicheskaya-realizaciya">  Implementa√ß√£o t√©cnica </h1><br><p>  Tendo escolhido as cores apropriadas para o tema sombrio nas maquetes, come√ßamos a transferir esse assunto para o c√≥digo. </p><br><p>  Como vimos nas maquetes, simplesmente introduzir a correspond√™ncia de cores de um tema claro em um tema escuro n√£o √© a nossa op√ß√£o.  O branco nem sempre √© substitu√≠do pelo preto: elementos da mesma cor em um tema claro podem ter cores diferentes em um escuro.  Precis√°vamos de um controle preciso sobre como cada elemento ou grupo de estilos comuns √© repintado em um tema sombrio.  Os elementos devem mudar de cor de acordo com o significado incorporado no nome da vari√°vel. </p><br><p>  Decidimos a seguinte abordagem, em que o token √© o nome exclusivo de um elemento ou grupo de elementos (por exemplo, background_content) e seu valor pode ser apenas uma cor de uma paleta fixa (por exemplo, Branco).  Criamos um esquema no formato JSON, dentro do qual todos os tokens s√£o gravados com seus valores em cada t√≥pico. </p><br><p>  Esse esquema √© muito semelhante a um arquivo CSS com identificadores de elementos e seus estilos, mas no formato JSON. </p><br><p><img src="https://habrastorage.org/webt/ip/6a/n8/ip6an8f3myqgg-tl_z5uxminlye.png"><br>  <em>Como √© o esquema com os tokens background_content e text_primary?</em> </p><br><p>  Tudo o que temos est√° dispon√≠vel no GitHub: </p><br><ul><li>  <a href="">uma paleta</a> com todas as cores e seus nomes exclusivos; </li><li>  <a href="">esquema</a> com todos os tokens e seus valores em t√≥picos claros e escuros. </li></ul><br><p>  No esquema JSON, os desenvolvedores em todas as plataformas geram c√≥digo no formato de que precisam.  Voc√™ pode ler sobre isso com exemplos de c√≥digo no iOS nos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">slides de</a> Anton Spivak em seu discurso no CodeFest.  O relat√≥rio sobre a implementa√ß√£o do Android do discurso de Arseniy Vasiliev na AppConf pode ser visto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><p>  Lembre-se de que decidimos criar um sistema estrito no qual voc√™ pode especificar a cor somente na paleta interna, ou seja, n√£o √© poss√≠vel registrar um c√≥digo de cores HEX arbitr√°rio no valor do token.  O par√¢metro alfa pode ser adicionado ao valor do token para indicar uma transpar√™ncia de cores adicional.  Planejamos usar esse par√¢metro para adicionar um estado desabilitado e um estado ao tocar nos controles, para n√£o adicionar as mesmas cores com transpar√™ncia diferente √† paleta. </p><br><p>  Atualmente, existem mais de 150 tokens no esquema.  Existem vari√°veis ‚Äã‚Äãglobais, bem como estilos completamente pintados de cada controle, al√©m de casos exclusivos que n√£o se prestam a uma combina√ß√£o mais l√≥gica, por exemplo, estilos de bolha de mensagens. </p><br><p><img src="https://habrastorage.org/webt/vu/6o/aq/vu6oaqrhkgf7nvec62hjrkqshai.png"><br>  <em>Exemplos de tokens comumente usados</em> </p><br><p>  Um ponto importante √© que √© necess√°rio nomear clara e brevemente os tokens para encontr√°-los f√°cil e rapidamente.  O princ√≠pio da nomea√ß√£o foi escolhido da seguinte maneira - de maior para menor.  Por essa l√≥gica, nos estilos globais, o tipo geral √© indicado primeiro e os componentes, em ordem, t√™m um nome, um estado e, no final, um elemento repintado espec√≠fico.  Se poss√≠vel, o token deve ser universal - refletir o tipo e o significado sem√¢ntico, e n√£o sua localiza√ß√£o e conte√∫do em um caso espec√≠fico. </p><br><h1 id="dalneyshaya-rabota-so-shemoy">  Trabalho adicional com o circuito </h1><br><h2 id="sketch-i-zeplin">  Sketch e Zeplin </h2><br><p>  A pr√≥xima etapa: voc√™ precisa fornecer aos desenvolvedores informa√ß√µes compreens√≠veis sobre os tokens usados ‚Äã‚Äãnos layouts.  Para isso, visualizamos o token como um s√≠mbolo, onde, al√©m do nome, h√° uma visualiza√ß√£o da cor usada em temas escuros e claros, bem como os nomes das cores da paleta. </p><br><p>  Geramos esses tokens na forma de s√≠mbolos depois de compormos a maior parte do circuito, e j√° havia muitos tokens.  Para n√£o compor eles manualmente, preparamos um pequeno plug-in que extraiu a vers√£o atual do esquema JSON e geramos tokens deles na forma de s√≠mbolos do modelo, substituindo cores dos estilos gerais da biblioteca de cores.  Usando o mesmo plug-in, geramos uma atualiza√ß√£o da biblioteca: novos tokens s√£o adicionados e os valores dos existentes s√£o atualizados.  O s√≠mbolo da biblioteca √© atualizado em todos os layouts em que √© usado. </p><br><p><img src="https://habrastorage.org/webt/u3/y6/fy/u3y6fyjdsadpikzvudxylefq8cq.png"><br>  <em>√â assim que o token se parece com um s√≠mbolo</em> </p><br><p>  Adicionamos esses tokens ao lado dos layouts e enviamos tudo para Zeplin.  Se n√£o estiver claro imediatamente pelo nome ou se voc√™ precisar esclarecer a qual elemento os tokens pertencem, inclua uma descri√ß√£o e divida os tokens em se√ß√µes, descrevendo elementos espec√≠ficos.  Usando o plug-in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sketch Runner</a> para pesquisar rapidamente nomes de s√≠mbolos, obtivemos nosso construtor de descri√ß√£o de tema escuro na forma de anota√ß√µes de layout. </p><br><p><img src="https://habrastorage.org/webt/7n/wu/ts/7nwutsgqh_zensn7zzid_re9ddm.gif"><br>  <em>Adicionando uma descri√ß√£o dos tokens usados</em> </p><br><p>  N√£o encontramos uma solu√ß√£o mais nativa, simples e visual sobre como incorporar tokens em layouts com o envio adicional para Zeplin.  Embora Zeplin possa nomear cores √∫nicas, em nosso esquema uma cor pode ser usada em v√°rios tokens de uma s√≥ vez. </p><br><p>  Em vez de desenhar uma vers√£o escura para cada uma das centenas de telas, simplesmente descrevemos tudo na forma de tokens, economizando tempo dos designers.  Todos os valores de token dispon√≠veis para os componentes j√° foram testados e voc√™ s√≥ precisa substituir os corretos.  O √∫nico ponto de verdade √© o Kit da interface do usu√°rio - nele voc√™ pode encontrar n√£o apenas o estado atual do componente, mas tamb√©m seus tokens usados. </p><br><p>  Os erros na implementa√ß√£o do tema escuro j√° podem ser encontrados no est√°gio de teste ao verificar as capturas de tela.  Os testadores podem perceber uma cor claramente errada e pedir ajuda ao designer - para corrigir um defeito, voc√™ s√≥ precisa do nome do token correto. </p><br><h2 id="obnovleniya-shemy">  Atualiza√ß√µes de esquema </h2><br><p>  Quando voc√™ precisar atualizar o esquema, substituindo os valores dos tokens existentes ou criando novos, basta editar o arquivo JSON.  Para fazer isso, acessamos a vers√£o atual do esquema e fazemos altera√ß√µes em um editor de texto, sem esquecer de adicionar valores para todos os t√≥picos ao adicionar um token.  Os planos s√£o criar um aplicativo que permita editar o esquema de uma maneira mais simples, mas por enquanto isso √© suficiente. </p><br><p>  Depois de preparar o esquema atualizado, enviamos a solicita√ß√£o pull ao GitHub (solicita√ß√£o para alterar o arquivo), que √© verificada e aprovada pelos desenvolvedores.  Ap√≥s mesclar as altera√ß√µes, os desenvolvedores precisam refor√ßar a atualiza√ß√£o da biblioteca da interface do usu√°rio e, em 15 minutos, novas cores aparecer√£o no pr√≥ximo assembly de desenvolvimento. </p><br><p>  Para renomear ou remover tokens no esquema, criamos uma grande atualiza√ß√£o aumentando sua vers√£o no GitHub.  Isso significa que essa vers√£o n√£o poder√° ser aplicada automaticamente e, antes de atualizar a vers√£o da biblioteca da interface do usu√°rio, os desenvolvedores precisam oferecer suporte a todas as altera√ß√µes: atualize os nomes dos tokens e, se o token exclu√≠do foi usado em algum lugar, siga o coment√°rio da lista de altera√ß√µes indicando qual token √© necess√°rio use em vez disso. </p><br><p>  Podemos liberar essas atualiza√ß√µes ao refatorar o esquema: quando houver um entendimento de qual √© a melhor maneira de nomear tokens, ou se ele combinar v√°rios tokens em um, preservando a l√≥gica. </p><br><h2 id="krossplatformennost-i-vkui">  Plataforma cruzada e VKUI </h2><br><p>  As cores nos aplicativos iOS e Android s√£o quase id√™nticas; portanto, o esquema de cores criado ao trabalhar com iOS √© adequado para Android.  Se houver diferen√ßas na plataforma, voc√™ sempre poder√° criar tokens com o sufixo da plataforma. </p><br><p>  Al√©m dos aplicativos nativos, temos o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VKUI</a> .  Este √© um conjunto de componentes React com os quais voc√™ pode criar interfaces indistingu√≠veis de nossos aplicativos.  Usamos a VKUI para criar produtos de teste dentro da VK, bem como para telas que gostar√≠amos de controlar a partir do servidor sem atualizar o aplicativo.  Al√©m disso, esta biblioteca √© usada para criar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">servi√ßos VK Apps de</a> terceiros. </p><br><p>  O VKUI √© constru√≠do de acordo com o mesmo design e com o mesmo conjunto de componentes dos aplicativos nativos, portanto, a aplica√ß√£o do esquema e o suporte ao tema escuro n√£o exigiram novos layouts.  Para n√≥s, essa √© outra plataforma que apoiamos, mas cont√©m uma altern√¢ncia entre iOS e Android. </p><br><p>  Voc√™ pode ver a implementa√ß√£o do sistema de design VK na forma de componentes React no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia de estilo VKUI</a> .  E o mais interessante √© que nesta p√°gina voc√™ pode ver ao vivo os componentes que usamos, com a capacidade de mudar o tema e a plataforma. </p><br><p>  Em breve, atualizaremos a documenta√ß√£o da VKUI e coletaremos mais informa√ß√µes sobre o trabalho da nossa equipe de design - haver√° muitas coisas interessantes Ô∏è </p><br><h2 id="otdelnaya-tema-dlya-messendzhera">  T√≥pico separado para o messenger </h2><br><p>  O VK Me, que est√° sendo testado apenas no Cazaquist√£o at√© agora, √© um mensageiro separado com a capacidade de se registrar por n√∫mero de telefone.  Nele, n√£o apenas facilitamos a funcionalidade, deixando apenas a comunica√ß√£o, mas tamb√©m simplificamos o design. </p><br><p>  O chap√©u no t√≥pico claro ficou branco para focar na comunica√ß√£o, e o azul ficou mais brilhante e mais saturado. </p><br><p><img src="https://habrastorage.org/webt/v2/u1/dm/v2u1dmccrno937eo3etdilsncqs.png"></p><br><p>  O messenger √© baseado no m√≥dulo de mensagem do aplicativo principal, o que significa que ele usa os mesmos componentes e o mesmo esquema para descrever todas as cores.  Por exemplo, para redesenhar o cabe√ßalho e a pesquisa, foi necess√°rio substituir os valores dos tokens correspondentes: header_background, header_tint, header_text, search_bar_background, search_bar_field_background search_bar_field_tint e outros. </p><br><p>  De uma maneira bastante simples, conseguimos repintar o aplicativo inteiro em pouco tempo, criando um novo tema de design. </p><br><h2 id="rabota-s-grafikoy">  Trabalhar com gr√°ficos </h2><br><p>  Todo o conjunto de √≠cones usado nos aplicativos √© cortado em branco e pode ser facilmente repintado usando um token do circuito. </p><br><p>  Surgiram dificuldades com √≠cones de duas cores: os √≠cones sobrepostos aos avatares em forma de emblemas e que precisavam de um tra√ßo branco foram cortados em duas cores.  Repintar isso n√£o seria f√°cil.  Dividimos esses √≠cones em duas camadas, a frente e o fundo, que s√£o usados ‚Äã‚Äãcomo m√°scara e cortam a forma necess√°ria. </p><br><p><img src="https://habrastorage.org/webt/0f/dg/l8/0fdgl8i9br4-dzygwalhfgaobyi.png"></p><br><p>  O Android tamb√©m possui gr√°ficos de 9 patches, que s√£o usados, por exemplo, para desenhar cartas com sombras.  A sombra neles √© preta e o preenchimento do cart√£o √© branco.  Para n√£o dividir os gr√°ficos aqui em duas camadas, os desenvolvedores usaram o modo de mesclagem de cores Multiply - dessa forma, a sombra preta n√£o √© repintada e a cor √© aplicada apenas √† parte branca das fotos, necess√°ria para n√≥s. </p><br><h2 id="itogi">  Sum√°rio </h2><br><p>  Ao implementar um t√≥pico obscuro, impulsionamos seriamente os processos, levando a rela√ß√£o entre design e desenvolvimento para um novo n√≠vel. </p><br><p>  Um √∫nico esquema, que incorpora todo o trabalho com cores no aplicativo, tornou-se uma ferramenta poderosa, mas acess√≠vel, para designers e simplifica futuras atualiza√ß√µes de design.  O n√≠vel de responsabilidade e significado na cria√ß√£o de estilos e na adi√ß√£o de cores aumentou. </p><br><p>  Quando surgiram nomes claros que refletiam o contraste de cores, ficou muito mais f√°cil navegar com eles do que com valores HEX.  O mesmo se aplica aos tokens - eles s√£o lembrados devido ao significado incorporado neles, e a ades√£o √† l√≥gica nos estilos usados ‚Äã‚Äãem v√°rias plataformas e aplicativos se torna uma parte indispens√°vel do processo. </p><br><p>  O processo demorou n√£o apenas para designers, mas tamb√©m para desenvolvedores e testadores.  Mas valeu a pena - o t√≥pico obscuro reuniu cr√≠ticas positivas dos usu√°rios, e os coment√°rios do ‚Äút√≥pico obscuro‚Äù que se espalharam por toda a VK e at√© foram al√©m, conseguiram se tornar um meme. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt449720/">https://habr.com/ru/post/pt449720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt449708/index.html">Citymobil - um manual para melhorar a disponibilidade em meio ao crescimento dos neg√≥cios para startups. Parte 3</a></li>
<li><a href="../pt449712/index.html">Not√≠cias da semana: demanda por HDD diminui, aprova√ß√£o de lei soberana da Internet e produ√ß√£o de equipamentos 5G na R√∫ssia</a></li>
<li><a href="../pt449714/index.html">Nem sempre √© nulo</a></li>
<li><a href="../pt449716/index.html">Acronis pela primeira vez abre acesso √† API para desenvolvedores</a></li>
<li><a href="../pt449718/index.html">IA ensinada a determinar a s√≠ndrome p√≥s-traum√°tica pela voz humana</a></li>
<li><a href="../pt449722/index.html">Efeitos de canto</a></li>
<li><a href="../pt449724/index.html">Liquidantes de a√ßo</a></li>
<li><a href="../pt449728/index.html">Tr√°fego ou criptografia de tr√°fego no Direct Connect, parte 3</a></li>
<li><a href="../pt449730/index.html">Criptomoeda: vive ou morre? Parte 2. Tend√™ncias pol√≠ticas e econ√¥micas</a></li>
<li><a href="../pt449740/index.html">Assistimos "Janela da cidade" em alta qualidade</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>