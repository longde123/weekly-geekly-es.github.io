<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚Ü™Ô∏è üç© üßëüèæ‚Äçü§ù‚Äçüßëüèº Arquitectura estrat√©gica de OpenSSL ‚ôªÔ∏è üèáüèΩ üòä</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este documento, el Comit√© de Gesti√≥n de OpenSSL describe los principios b√°sicos de la arquitectura estrat√©gica de OpenSSL. A partir de 3.0.0, se re...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arquitectura estrat√©gica de OpenSSL</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443844/">  <font color="gray">En este documento, el Comit√© de Gesti√≥n de OpenSSL describe los principios b√°sicos de la arquitectura estrat√©gica de OpenSSL.</font>  <font color="gray">A partir de 3.0.0, se requerir√°n varias versiones para pasar de la arquitectura actual (versi√≥n 1.1.1) al futuro.</font> <br><br>  Se esperan numerosos cambios en la arquitectura.  Ofrecemos una posible ruta de migraci√≥n.  El lanzamiento de OpenSSL 3.0.0 afecta m√≠nimamente a la gran mayor√≠a de las aplicaciones existentes, casi todas las aplicaciones alfabetizadas solo tendr√°n que volver a compilarse. <br><br>  La funcionalidad actual proporcionada por la interfaz del motor ser√° reemplazada por la interfaz del software con el tiempo.  OpenSSL 3.0.0 conservar√° el soporte del motor.  La arquitectura futura se puede implementar completamente no antes de OpenSSL 4.0.0. <br><a name="habracut"></a><br><h1>  Arquitectura actual </h1><br>  OpenSSL actualmente tiene cuatro componentes principales: <br><br><ol><li> libcrypto.  La biblioteca principal para proporcionar implementaciones de numerosas primitivas criptogr√°ficas.  Adem√°s, proporciona un conjunto de servicios de soporte para libssl y libcrypto, as√≠ como implementaciones de protocolos como CMS y OCSP. <br></li><li>  El motor  La funcionalidad de libcrypto se puede ampliar a trav√©s de la API del motor. <br><br>  Por lo general, los motores son m√≥dulos cargados din√°micamente registrados en libcrypto y que utilizan ganchos disponibles para implementar algoritmos criptogr√°ficos, implementaciones alternativas de algoritmos ya proporcionados por libcrypto (por ejemplo, con soporte de aceleraci√≥n de hardware), pero tambi√©n pueden incluir algoritmos que no son implementados en OpenSSL por por defecto (por ejemplo, el mecanismo GOST implementa la familia rusa de algoritmos GOST).  Algunos motores vienen con la distribuci√≥n OpenSSL, mientras que otros vienen con terceros (nuevamente, GOST). <br></li><li>  libssl.  Una biblioteca que depende de libcrypto e implementa los protocolos TLS y DTLS. <br></li><li>  Aplicaciones  Un conjunto de herramientas de l√≠nea de comandos que utilizan los componentes b√°sicos de libssl y libcrypto para proporcionar un conjunto de funciones criptogr√°ficas y de otro tipo, como: <br><br><ul><li>  Generaci√≥n y verificaci√≥n de claves y par√°metros. <br></li><li>  Generaci√≥n y verificaci√≥n de certificados. <br></li><li>  Herramientas de prueba SSL / TLS <br></li><li>  Verificaci√≥n ASN.1 <br></li><li>  y otros </li></ul><br>  OpenSSL actualmente tiene las siguientes caracter√≠sticas: <br><br><ol><li>  EVP  La API de capa EVP (envolvente) proporciona una interfaz abstracta de alto nivel para la funcionalidad criptogr√°fica, sin estar vinculada a una implementaci√≥n espec√≠fica.  No se recomienda el uso directo de implementaciones espec√≠ficas de algoritmos criptogr√°ficos que omiten las interfaces EVP.  Tambi√©n proporciona operaciones compuestas como la firma y la verificaci√≥n.  Algunas operaciones compuestas tambi√©n se proporcionan como una operaci√≥n de nivel EVP (por ejemplo, HMAC-SHA256).  EVP tambi√©n permite el uso de algoritmos criptogr√°ficos de una manera algor√≠tmica-agn√≥stica (por ejemplo, EVP_DigestSign funciona para los algoritmos RSA y ECDSA). <br></li><li>  FIPS140 no es compatible, solo est√° disponible en OpenSSL-1.0.2, que es anterior a la arquitectura actual y no es compatible con API o ABI. </li></ol><br><h3>  Concepto de componente </h3><br>  La arquitectura existente es una estructura simple de cuatro niveles con una capa de cifrado en la parte inferior.  La capa TLS depende de la capa criptogr√°fica, y las aplicaciones dependen tanto de la capa TLS como de la capa criptogr√°fica. <br><br>  Nota: la presencia de un componente en el diagrama no significa que el componente sea una API p√∫blica o que est√© destinado al acceso / uso directo del usuario final. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/703/5fb/53a/7035fb53a38396c1e705b43c347228ce.png"><br><br><h3>  Diagrama de paquete </h3><br>  Los componentes descritos anteriormente est√°n empaquetados en bibliotecas (libcrypto y libssl) y las interfaces del kernel correspondientes, as√≠ como en la l√≠nea de comandos ejecutable (openssl) para iniciar varias aplicaciones.  Esto se muestra en el siguiente diagrama. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c5a/b6d/23f/c5ab6d23ff2fea22d2585570260060ab.png"><br><br><h1>  Arquitectura futura </h1><br>  Caracter√≠sticas de la arquitectura futura: <br><br><ul><li>  Los servicios del kernel forman los componentes b√°sicos utilizados por las aplicaciones y los proveedores (por ejemplo, BIO, X509, SECMEM, ASN1, etc.). <br></li><li>  Los proveedores utilizan algoritmos criptogr√°ficos y servicios de soporte.  Un proveedor implementa una o m√°s de las siguientes funciones: <br><br><ul><li>  Primitivas criptogr√°ficas para el algoritmo: cifrado, descifrado, firma, hash, etc. <br></li><li>  Serializaci√≥n para el algoritmo, por ejemplo, la funci√≥n de convertir la clave privada en un archivo PEM.  La serializaci√≥n puede ser en formatos o desde formatos que actualmente no son compatibles. <br></li><li>  Tienda de backend del cargador.  OpenSSL actualmente se entrega con un gestor de arranque para leer claves, par√°metros y otros elementos de los archivos.  Los proveedores pueden implementar descargadores para leer datos de otros lugares (por ejemplo, desde un directorio LDAP). </li></ul><br>  El proveedor puede ser totalmente aut√≥nomo o usar servicios proporcionados por diferentes proveedores o servicios del n√∫cleo.  Por ejemplo, una aplicaci√≥n puede usar primitivas criptogr√°ficas para un algoritmo implementado por un proveedor de aceleradores de hardware, pero usar los servicios de serializaci√≥n de otro proveedor para exportar claves al formato PKCS # 12. <br><br>  El proveedor predeterminado (que contiene el n√∫cleo de las implementaciones actuales del algoritmo criptogr√°fico OpenSSL) estar√° "incorporado", pero otros proveedores podr√°n cargar din√°micamente en tiempo de ejecuci√≥n. <br><br>  Los m√≥dulos de proveedores heredados proporcionar√°n implementaciones criptogr√°ficas para algoritmos m√°s antiguos (por ejemplo, DES, MDC2, MD2, Blowfish, CAST).  Publicaremos reglas sobre c√≥mo y cu√°ndo los algoritmos pasan de un proveedor predeterminado a un proveedor obsoleto. <br><br>  El proveedor FIPS que implementa el m√≥dulo criptogr√°fico OpenSSL FIPS puede cargar din√°micamente en tiempo de ejecuci√≥n. <br></li><li>  El n√∫cleo proporciona acceso a los servicios ofrecidos por los proveedores de aplicaciones (y otros).  Los vendedores le dan acceso al n√∫cleo a los m√©todos.  Un n√∫cleo es un mecanismo por el cual se descubren implementaciones espec√≠ficas de cosas como algoritmos. <br><br>  El n√∫cleo implementa una funci√≥n de b√∫squeda basada en propiedades para encontrar algoritmos.  Por ejemplo, esto encontrar√° un algoritmo donde "fips = true" o "keysize = 128, constant_time = true".  Los detalles se publicar√°n en documentos posteriores del proyecto. <br></li><li>  Implementaciones de protocolos como TLS, DTLS. </li></ul><br>  La arquitectura futura tiene las siguientes caracter√≠sticas: <br><br><ul><li>  La capa EVP se convierte en una envoltura delgada para servicios implementados a trav√©s de proveedores.  La mayor√≠a de las llamadas se procesan con un m√≠nimo de procesamiento previo, procesamiento posterior o sin procesamiento. <br></li><li>  Aparecer√°n nuevas API EVP para buscar en el n√∫cleo la implementaci√≥n del algoritmo que se utilizar√° para cualquier llamada EVP. <br></li><li>  La informaci√≥n se transferir√° entre la biblioteca principal y los proveedores de la misma manera, independientemente de su implementaci√≥n. <br></li><li>  Las API obsoletas (como las API criptogr√°ficas de bajo nivel que no pasan a trav√©s de la capa EVP) ser√°n excluidas.  Tenga en cuenta que hay API desactualizadas para algoritmos que no est√°n desactualizados (por ejemplo, AES no es un algoritmo desactualizado, pero AES_encrypt es una API desactualizada). <br></li><li>  El m√≥dulo criptogr√°fico OpenSSL FIPS se implementar√° como un proveedor cargado din√°micamente.  Ser√° aut√≥nomo (es decir, puede depender solo de las bibliotecas de tiempo de ejecuci√≥n del sistema y los servicios proporcionados por el n√∫cleo). <br></li><li>  Otras interfaces tambi√©n se pueden convertir para usar el n√∫cleo a lo largo del tiempo (por ejemplo, OSSL_STORE). <br></li><li>  Usar el motor va a los proveedores.  <i>"Adi√≥s, ingenieros, hola, proveedores"</i> . </li></ul><br><h3>  Concepto de componente </h3><br>  El siguiente diagrama proporciona una descripci√≥n general de los componentes de la futura arquitectura OpenSSL. <br><br>  Nota: la presencia de un componente en el diagrama no significa que el componente sea una API p√∫blica o que est√© destinado al acceso / uso directo del usuario final. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/925/d49/49a/925d4949a0c733d235d94f1f058530c1.png"><br><br>  Los siguientes componentes se muestran aqu√≠: <br><br><ul><li>  Aplicaciones: utilidades de l√≠nea de comandos: ca, cifrados, cms, dgst, etc. <br></li><li>  Protocolos: el componente proporciona la capacidad de comunicarse entre puntos finales utilizando protocolos est√°ndar: <br><ul><li>  Protocolos TLS: implementaci√≥n de todos los protocolos TLS / DTLS compatibles y la infraestructura de servicio: <br><ul><li>  SSL BIO: BIO para la comunicaci√≥n TLS <br></li><li>  Statem: m√°quina de estado TLS <br></li><li>  Grabar: TLS Record Layer </li></ul></li><li>  Otros protocolos <br><ul><li>  CMS: Implementaci√≥n del est√°ndar de sintaxis de mensajes criptogr√°ficos <br></li><li>  OCSP: implementaci√≥n del protocolo de estado del certificado en l√≠nea <br></li><li>  TS: Implementaci√≥n del protocolo de marca de tiempo </li></ul></li><li>  Servicios de soporte: componentes dise√±ados espec√≠ficamente para admitir la implementaci√≥n de c√≥digo de protocolo <br><ul><li>  Paquete: componente interno para leer mensajes de protocolo <br></li><li>  Wpacket: un componente interno para grabar mensajes de protocolo </li></ul></li></ul></li><li>  Kernel: este es el componente fundamental que conecta las solicitudes de servicio (por ejemplo, cifrado) con el proveedor de servicios.  Permite a los proveedores registrar sus servicios junto con sus propiedades.  El kernel tambi√©n proporciona la capacidad de encontrar un servicio con un conjunto de propiedades que el servicio deber√≠a ejecutar.  Por ejemplo, las propiedades del servicio de cifrado pueden incluir "aead", "aes-gcm", "fips", "security-bits = 128", y as√≠ sucesivamente. <br></li><li>  Proveedor predeterminado: implementa un conjunto de servicios predeterminados registrados en el n√∫cleo. <br><ul><li>  Servicios de soporte <br><ul><li>  Implementaciones de bajo nivel: este es un conjunto de componentes que realmente implementan primitivas criptogr√°ficas. </li></ul></li></ul></li><li>  Proveedor FIPS: implementa un conjunto de servicios que est√°n verificados y disponibles para el n√∫cleo de FIPS.  Incluye los siguientes servicios de soporte: <br><ul><li>  POST: Prueba de encendido autom√°tico <br></li><li>  KAT: Pruebas de respuestas conocidas <br></li><li>  Control de integridad <br></li><li>  Implementaciones de bajo nivel: este es un conjunto de componentes que realmente implementan primitivas criptogr√°ficas (para satisfacer el requisito de FIPS independiente). </li></ul></li><li>  Proveedor de algoritmos heredados: proporciona implementaciones de algoritmos heredados que se proporcionar√°n a trav√©s de la API EVP. <br></li><li>  Proveedor externo: no forma parte de la distribuci√≥n de OpenSSL.  Los terceros pueden vender sus propios proveedores. <br></li><li>  Servicios generales: forman los componentes b√°sicos utilizados por aplicaciones y proveedores (por ejemplo, BIO, X509, SECMEM, ASN1, etc.). <br></li><li>  API obsoletas.  API de "bajo nivel": aqu√≠ la palabra "obsoleto" se refiere espec√≠ficamente a la API, y no al algoritmo en s√≠.  Por ejemplo, AES no es un algoritmo desactualizado, pero hay API desactualizadas para √©l (por ejemplo, AES_encrypt). </li></ul><br><h3>  Diagrama de paquete </h3><br>  Los diversos componentes descritos anteriormente en el diagrama conceptual de los componentes est√°n f√≠sicamente empaquetados en: <br><br><ul><li>  Aplicaciones ejecutables para usuarios <br></li><li>  Biblioteca (s) para aplicaciones <br></li><li>  M√≥dulos cargables din√°micamente para el n√∫cleo. </li></ul><br><br><img src="https://habrastorage.org/getpro/habr/post_images/091/79f/c41/09179fc4151dc35dc37a7da607144f99.png"><br><br>  Los siguientes paquetes reales se muestran aqu√≠: <br><br><ul><li>  El archivo ejecutable es OpenSSL.  Aplicaci√≥n de l√≠nea de comando. <br></li><li>  Libssl.  Contiene todo lo que est√° directamente relacionado con TLS y DTLS.  Su contenido es muy similar al del libssl actual.  Tenga en cuenta que algunos servicios de soporte se mover√°n a libcrypto. <br></li><li>  Libcrypto  Esta biblioteca contiene los siguientes componentes: <br><ul><li>  Implementaciones de los principales servicios: X509, ASN1, EVP, OSSL_STORE, etc. <br></li><li>  El n√∫cleo <br></li><li>  Protocolos no TLS o DTLS <br></li><li>  Servicios de soporte de protocolo (p. Ej., Paquetes y paquetes) <br></li><li>  Proveedor predeterminado que contiene implementaciones de todos los algoritmos predeterminados </li></ul></li><li>  Libcrypto-legacy.  Proporciona API heredadas de bajo nivel.  La implementaci√≥n de los algoritmos para estas API puede provenir de cualquier proveedor. <br></li><li>  M√≥dulo FIPS.  Contiene un proveedor FIPS que implementa un conjunto de servicios verificados por FIPS y registrados en el n√∫cleo. <br></li><li>  M√≥dulo heredado.  Contiene un proveedor desactualizado. </li></ul></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/443844/">https://habr.com/ru/post/443844/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443834/index.html">Runet en el cambio de milenio: ¬øqu√© recuerdas al respecto?</a></li>
<li><a href="../443836/index.html">Uso de cuentas inteligentes de Waves y activos inteligentes en instrumentos financieros</a></li>
<li><a href="../443838/index.html">Crear autom√°ticamente cuentas desde AD en Zimbra Collaboration Suite</a></li>
<li><a href="../443840/index.html">Univention Corporate Server (UCS): instalaci√≥n de un servidor LDAP simple y conveniente con un panel web y su conexi√≥n con Nextcloud</a></li>
<li><a href="../443842/index.html">¬øSomos √°giles o √°giles con nosotros?</a></li>
<li><a href="../443846/index.html">Acceso al servidor Linux usando el bot de Python Telegram</a></li>
<li><a href="../443854/index.html">Dise√±o de cuatro ejes RPG</a></li>
<li><a href="../443856/index.html">Metalurgia en m√°quinas CNC: ¬øc√≥mo comenzar a producir productos de clase mundial?</a></li>
<li><a href="../443860/index.html">Programador como servicio para peque√±as empresas. ¬øVolar√° o no?</a></li>
<li><a href="../443862/index.html">Las cerraduras del auto del fiscal. Bestchange est√° bloqueado nuevamente</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>