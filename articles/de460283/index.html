<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öóÔ∏è üé≠ üå™Ô∏è Neue Do-it-yourself-Programmiersprache ‚ûï üêÑ üßùüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! Gehen Sie direkt zum Punkt. Im Moment lese ich "The Dragon Book" und entwickle einen Compiler f√ºr meine Programmiersprache namens Lolo (zu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Neue Do-it-yourself-Programmiersprache</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460283/">  Hallo Habr!  Gehen Sie direkt zum Punkt.  Im Moment lese ich "The Dragon Book" und entwickle einen Compiler f√ºr meine Programmiersprache namens Lolo (zu Ehren des Pinguins aus dem sowjetisch-japanischen Cartoon).  Ich plane, innerhalb eines Jahres fertig zu sein, wenn nichts weh tut.  Parallel dazu werde ich interessante Ausz√ºge aus der Erfahrung mit √úbersetzungen, dem Erstellen von Zwischencode, der Optimierung usw. ver√∂ffentlichen. Nun, heute werde ich Ihnen nur die Sprache vorstellen.  Setz dich und geh. <br><br>  Die Sprache ist kompiliert, zwingend, nicht objektorientiert, die Semantik wurde unversch√§mt von C abgeschrieben und mit vielen n√ºtzlichen Funktionen erg√§nzt.  Beginnen wir mit ihnen. <br><a name="habracut"></a><br><h2>  Semantische Modifikationen </h2><br><h4>  Sichere Zeiger </h4><br>  Sie haben vielleicht gerade √ºber intelligente Zeiger von Rust nachgedacht, aber das sind sie nicht.  In meiner Sprache wird die Sicherheit des Zugriffs auf den Speicher durch zwei Redewendungen gew√§hrleistet.  Erstens: das Fehlen einer Dereferenzierungsoperation von Zeigern.  Beim Zugriff auf den deklarierten Zeiger wird stattdessen auf das Objekt selbst verwiesen.  Das hei√üt, Sie k√∂nnen und sollten so schreiben: <br><br><pre><code class="plaintext hljs">int # pointer ~~ new int(5) int variable ~ pointer + 7</code> </pre> <br>  Die Variable Variable enth√§lt jetzt die Nummer 12. Jetzt sehen Sie eine ungewohnte Syntax und sind vielleicht etwas ratlos, aber ich werde alles im Verlauf des Artikels erkl√§ren.  Zweite Redewendung: Fehlende Operationen an Zeigern.  Nochmals: Alle Operationen beim Zugriff auf Zeiger, einschlie√ülich Zuweisung, Inkrementierung und Dekrementierung, werden f√ºr Objekte ausgef√ºhrt.  Die einzige Operation, die sich direkt auf den Zeiger bezieht, ist die Zuweisung nach Adresse oder, wie ich es nenne, die Identifizierung.  Im obigen Codebeispiel in der ersten Zeile handelt es sich um eine genaue Identifizierung.  Jeder Zeiger kann nur auf die Adresse des bereits zugewiesenen Speicherbereichs gesetzt werden. Dies ist die neue zur√ºckgegebene Operation.  Sie k√∂nnen auch einen Zeiger auf die Adresse einer anderen Variablen setzen, die sogar auf dem Heap, sogar auf dem Stapel, zugewiesen ist.  Hier ist ein Beispiel: <br><br><pre> <code class="plaintext hljs">int variable ~ 5 int # pointer ~~ variable</code> </pre> <br>  Hier ist "~" die √ºbliche Zuweisungsoperation.  Sie k√∂nnen Zeiger auch mit einem speziellen Nullzeiger identifizieren.  Es fungiert als Zeiger, der auf eine Nulladresse verweist.  Nachdem die Operationen des Vergleichs und des Vergleichs der Identit√§t (identische Adressen) mit null identifiziert wurden, ergeben sie true: <br><br><pre> <code class="plaintext hljs">int # pointer ~~ null if (pointer = null) nop ;; true if (pointer == nul) nop ;; true</code> </pre> <br>  Hier ist "=" ein Vergleich von Werten, "==" ist ein Vergleich von Adressen, "nop" ist eine leere Operation und nach ";;"  - Kommentar.  Und ja, null ist die einzige Zeigeroperation, mit der ohne √úberpr√ºfung der Typkompatibilit√§t m√∂glich ist. <br><br>  Daher k√∂nnen Zeiger nur dem zugewiesenen Speicher oder Nullbereichen zugewiesen und nicht an eine andere Stelle verschoben werden.  Diese Ma√ünahmen sch√ºtzen jedoch nicht vollst√§ndig vor Segmentierungsfehlerfehlern.  Befolgen Sie dazu einfach die folgenden Schritte: <br><br><pre> <code class="plaintext hljs">int # pointer1 ~~ new int(5) int # pointer2 ~~ pointer1 delete pointer1 int variable ~ pointer2 ;; segmentation fault!</code> </pre> <br>  Ich denke hier ist alles klar.  Aber einen solchen Fehler zu machen, kann nur absichtlich gemacht werden und dann hart gearbeitet haben.  Immerhin macht der L√∂schvorgang dasselbe wie der Garbage Collector, nur weniger sicher.  Apropos ... <br><br><h4>  M√ºllsammler </h4><br>  M√ºllsammler - er ist auch ein Sammler in Lolo.  Wahrscheinlich m√ºssen Sie nicht erkl√§ren, was es ist.  Ich kann nur sagen, dass es durch eine spezielle Option w√§hrend der Kompilierung deaktiviert werden kann.  Wir haben das Programm mit dem Collector getestet, alles funktioniert wie es sollte - Sie k√∂nnen die Option eingeben und versuchen, das Programm mithilfe der manuellen Speicherverwaltung zu optimieren. <br><br><h4>  Eingebaute Arrays </h4><br>  Obwohl ich sagte, dass die Semantik der Sprache von C abgeschrieben ist, sind die Unterschiede ziemlich signifikant.  Hier sind Arrays Zeiger.  Arrays haben ihre eigene Syntax und sichere Adressierung.  Nein, nicht mit einer Reichweitenpr√ºfung.  Mit ihnen ist es im Prinzip schwierig, einen Laufzeitfehler zu bekommen.  Dies liegt daran, dass jedes Array die L√§nge in der variablen Gr√∂√üe speichert, wie in Java, und bei jeder Indizierung aus dem Index ... gibt es den Rest der Division durch diese Gr√∂√üe!  Eine dumme Entscheidung auf den ersten Blick, bis wir negative Indizes betrachten.  Wenn Sie den Rest der Division von -1 durch die L√§nge des Arrays finden, erhalten Sie eine Zahl gleich Gr√∂√üe 1, dh das endlichste Element.  Durch ein solches Man√∂ver k√∂nnen wir nicht nur von Anfang an, sondern auch vom Ende des Arrays aus auf Indizes zugreifen.  Ein weiterer Trick besteht darin, einen beliebigen primitiven Typ in das Array byte [] umzuwandeln.  Aber wie kommt man zu einem Laufzeitfehler?  Ich werde diese Frage f√ºr Sie als einfaches R√§tsel hinterlassen. <br><br><h4>  Referenzen </h4><br>  Ich wei√ü nicht genau, ob der aktuelle C-Standard Links enth√§lt, aber diese werden definitiv in Lolo sein.  Vielleicht ist das Fehlen von Referenzen in fr√ºheren Versionen von C einer der Hauptgr√ºnde f√ºr Zeiger auf Zeiger.  Sie werden ben√∂tigt, um Argumente an die Adresse zu √ºbergeben und Werte von Funktionen ohne Kopieren zur√ºckzugeben.  Zeiger und Arrays k√∂nnen auch als Referenz √ºbergeben werden (da beim √úbergeben von Werten Arrays vollst√§ndig kopiert werden und Zeiger, die durch die Operation ~~ auf eine neue Position gesetzt wurden, diese nicht speichern). <br><br><h4>  Multithreading </h4><br>  Alles ist sch√∂ner und sch√∂ner.  Ich bin schon in meine Sprache verliebt.  Sein n√§chstes Hobby ist Multithreading.  Ehrlich gesagt habe ich noch nicht vollst√§ndig entschieden, mit welchen Tools es bereitgestellt wird.  H√∂chstwahrscheinlich das synchronisierte Schl√ºsselwort mit allen Eigenschaften von ala-Java und m√∂glicherweise das gleichzeitige Schl√ºsselwort vor Nicht-Inline-Funktionen, was bedeutet, dass diese Funktionen in parallelen Threads ausgef√ºhrt werden. <br><br><h4>  Inline-Strings </h4><br>  Es handelt sich um Zeichenfolgen, nicht um Zeichenfolgenliterale wie in C ++.  Jede Zeile hat ihre eigene L√§nge. Die Indizierung erfolgt mit dem Auffinden des Restes.  Im Allgemeinen sind Zeichenfolgen in Lolo Zeichenarrays sehr √§hnlich, mit der Ausnahme, dass Arrays keine Verkettung √ºber "+", keine Animation √ºber "*" und keine Vergleiche √ºber "&lt;" und "&gt;" aufweisen.  Und da es sich um Zeilen handelt, m√ºssen wir die Zeichen erw√§hnen.  Symbole in Lolo sind keine Zahlen, wie in C ++.  Und sie enthalten nicht ein Byte, sondern 4 f√ºr DKOTI-Zeichen und 6 f√ºr UTF-Zeichen.  Ich werde das n√§chste Mal √ºber DKOTI sprechen, aber jetzt wissen Sie nur, dass Lolo Zeichen und Zeichenfolgen in zwei Codierungen unterst√ºtzt.  Und ja, die L√§ngeneigenschaft kann sogar Konstanten entnommen werden: <br><br><pre> <code class="plaintext hljs">int len ~ "Hello, world!".length ;; len = 13</code> </pre> <br><h4>  Boolescher Typ mit drei Werten </h4><br>  Die √ºberwiegende Mehrheit der Programmiersprachen mit einem logischen Datentyp verwendet bin√§re Logik.  Aber in Lolo wird es tern√§r oder besser gesagt unscharf tern√§r sein.  Drei Werte: wahr - wahr, falsch - falsch und keine - nichts.  Bisher habe ich in der Sprache der Operationen keine gefunden, die keine zur√ºckgeben, aber ich erinnere mich an viele Beispiele aus der Praxis, als Flags mit drei Werten sehr n√ºtzlich w√§ren.  Musste Aufz√§hlungen oder einen Integer-Typ verwenden.  Muss nicht mehr.  Das ist nur der Name dieses Typs, den ich nicht w√§hlen kann.  Am gebr√§uchlichsten ist ‚Äûlogisch‚Äú, aber zu lang.  Andere Optionen sind "luk" zu Ehren von Jan Lukasevich, "brus" zu Ehren von N. P. Brusnetsov und "trit", aber genau genommen ist dieser Typ kein trit.  Im Allgemeinen befindet sich die Umfrage am Ende des Artikels. <br><br><h4>  Listen zum Initialisieren von Strukturen und Listen </h4><br>  Wenn Sie nach dem Deklarieren einer Strukturvariablen das Zeichen ~ setzen und die eckigen Klammern √∂ffnen, k√∂nnen Sie die Werte der Felder nacheinander oder in Form eines W√∂rterbuchs festlegen.  Wenn Sie eine solche Prozedur mit einem Array ausf√ºhren, k√∂nnen Sie die Werte seiner Zellen nur ohne W√∂rterbuch festlegen.  Es gibt nichts Besonderes zu erz√§hlen, schauen Sie sich einfach den Code an: <br><br><pre> <code class="plaintext hljs">struct { int i; real r; str s; } variable ~ [ i: 5, r: 3.14, s: "Hello!" ] int[5] arr ~ [ 1, 2, 3, 4, 5 ]</code> </pre> <br><br><h4>  Gibt mehrere Werte von Funktionen zur√ºck </h4><br>  Genau wie in Go!  Sie k√∂nnen mehrere durch Kommas getrennte Variablennamen schreiben und ihnen alle von der Funktion zur√ºckgegebenen Werte gleichzeitig zuweisen: <br><br><pre> <code class="plaintext hljs">int, real function() { return 5, 3.14 } byte ¬ß { int i; real r i, r ~ function }</code> </pre> <br><h4>  Module statt Header </h4><br>  Hier ist alles klar.  Anstelle von C-sch√ºchternen Headern - Module aus Java. <br><br><h4>  f√ºr (Auto Item: Array) </h4><br>  Wieder natives Java.  Da wir Arrays mit L√§nge haben, ist es eine S√ºnde, den Ausdruck nicht f√ºr jedes zu verwenden. <br><br><h4>  Der Auswahloperator ist nicht nur f√ºr int </h4><br>  Ich wei√ü nichts √ºber Sie, aber in C und C ++ bin ich schrecklich w√ºtend dar√ºber, dass die Switch-Case-Operation nicht f√ºr nicht ganzzahlige Variablen verwendet werden kann.  Und die Syntax macht auch w√ºtend.  Hier in Pascal ist eine andere Sache.  Und jetzt in Lolo: <br><br><pre> <code class="plaintext hljs">case variable { "hello", "HELLO": nop "world": { nop; nop } "WORLD": nop }</code> </pre> <br><h4>  Stromversorgungs- und Divisionsbetreiber </h4><br>  Und das ist von Python. <br><br><pre> <code class="plaintext hljs">real r ~ 3.14 ** 2 int i ~ r // 3</code> </pre> <br><h4>  Funktionsparameter-Tupel </h4><br>  Denken Sie daran, dass alle Operationen mit Zeigern in Lolo verboten sind, au√üer zur Identifizierung?  Denken wir nun daran, wie Sie auf Funktionsparameter aus Parameterlisten variabler L√§nge zugreifen k√∂nnen.  Sie m√ºssen einen Zeiger auf das erste Element deklarieren und dann erh√∂hen, bis die Wahrheitspr√ºfung true zur√ºckgibt.  Sie k√∂nnen Lolo nicht erh√∂hen.  Aber das ist okay.  Schlie√ülich wird die Liste der Parameter hier in Form eines Tupels fester (aufrufabh√§ngiger) L√§nge mit index-safe wie in Arrays dargestellt.  Sein Name ist "?"  Die Typpr√ºfung wird nur f√ºr Parameter durchgef√ºhrt, die in der Funktionsdefinition festgelegt sind.  Die √ºbrigen Parameter (‚ÄûMehrpunktparameter‚Äú) werden auf einen beliebigen Typ reduziert, und bei einer unangenehmen Bewegung ist ihr Verhalten nicht definiert.  Dennoch ist ein solches Tupel viel sicherer und bequemer als Makros in C. <br><br><pre> <code class="plaintext hljs">void function(...) { if (?.size &gt; 1) { int i ~ ?[0] real r ~ ?[1] } }</code> </pre> <br><h4>  Numerische Intervalle </h4><br>  Und noch ein Zeichen - eine Familie von Intervalltypen (Bereich, Bereich, Bereich usw.).  Sie werden durch zwei Ganzzahlen durch zwei Punkte (..) angegeben und k√∂nnen ein Array aus einem Array herausschneiden, eine Zeichenfolge aus einer Zeichenfolge, im Allgemeinen eine n√ºtzliche Sache, denke ich. <br><br><pre> <code class="plaintext hljs">int[5] arr ~ [ 1, 2, 3, 4, 5 ] int[3] subarr = arr[1..3] ;; [ 2, 3, 4 ]</code> </pre> <br><h4>  Im Bediener </h4><br>  Von Pascal.  Funktioniert mit Strings, Arrays, Tupeln?  und Bereiche. <br><br><pre> <code class="plaintext hljs">int[5] arr ~ [ 1, 2, 3, 4, 5 ] if (4 in arr) nop</code> </pre> <br><h4>  Funktionsparameter-W√∂rterbuch </h4><br>  Ehrlich gesagt bin ich bereits verwirrt, wie dieses Ding richtig genannt wird. Damit k√∂nnen Sie die Argumente von nicht reinen Funktionen direkt spezifizieren: <br><br><pre> <code class="plaintext hljs">int pos = str_find(string, npos: -1)</code> </pre> <br><h4>  Standardoptionen </h4><br>  Aus C ++.  Hier ist nicht einmal ein Beispiel zu geben, und so ist alles klar. <br><br><h4>  Ausnahmen </h4><br>  Nun, und wo ohne sie? <br><br><pre> <code class="plaintext hljs">try { raise SEGMENTATION_FAULT_EXCEPTION } except (Exception e) { print(e.rus) }</code> </pre> <br><h4>  Kein bedingungsloser Sprung </h4><br>  Denn im Jahr 2019 ist die Verwendung des GOTO-Operators f√ºr den Tod √§hnlich. <br><br><h2>  Syntax </h2><br>  Nun, ein kleines Gespr√§ch √ºber die Syntax.  Wie Sie bemerkt haben, ist das Semikolon flach.  Moderne Programmiersprachen kommen ohne diese Fehlerquelle sehr gut aus.  Beispiele sind Python, Kotlin.  Der Pfeiloperator (-&gt;) wird mit dem Punktoperator kombiniert.  Beim Aufrufen von Funktionen ohne Argumente sind Klammern optional.  Zeichenfolgen werden in Zahlen angegeben und umgekehrt.  Logische und bitweise Operatoren werden kombiniert.  Es gibt Funktionsmodifikatoren f√ºr die Tabellierung.  Verschachtelte Funktionen  type_of.  Und vor allem - Mehrsprachigkeit.  Ja, ich werde Schl√ºsselw√∂rter, Eigenschaften von Zeichenfolgen und Arrays sowie alle Bezeichner der Standardbibliothek in allen Sprachen der internationalen Kommunikation duplizieren, n√§mlich Englisch, Russisch, Japanisch, Chinesisch, Spanisch, Portugiesisch, Arabisch, Franz√∂sisch, Deutsch und Latein. <br><br>  Tats√§chlich beinhaltet all das nicht die H√§lfte der F√§higkeiten von Lolo.  Ich kann mich einfach nicht sofort an alle Funktionen erinnern.  Ich werde hinzuf√ºgen, wenn der Compiler bereit ist. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de460283/">https://habr.com/ru/post/de460283/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de460265/index.html">Erstellen Sie eine Xcode-Projektvorlage</a></li>
<li><a href="../de460273/index.html">Autorisierung in Apple Pay f√ºr die Kleinsten</a></li>
<li><a href="../de460275/index.html">Warum brauchen Sie nicht die perfekte L√∂sung?</a></li>
<li><a href="../de460279/index.html">10-Milliarden-Vertrag: Wer wird sich mit der Cloud f√ºr das Pentagon befassen?</a></li>
<li><a href="../de460281/index.html">Wie UX Writer zur Produktverbesserung beitr√§gt</a></li>
<li><a href="../de460285/index.html">Wir bereiten PHP vor. Wie sind while, foreach, array_walk und einige andere be√§ngstigende W√∂rter</a></li>
<li><a href="../de460287/index.html">Runet News Visualisierung</a></li>
<li><a href="../de460291/index.html">Probleme der Stapelverarbeitung von Anfragen und deren L√∂sungen (Teil 1)</a></li>
<li><a href="../de460295/index.html">Was bedeutet unsicher in Rust?</a></li>
<li><a href="../de460297/index.html">WeakRef - Vorschlag zur Erg√§nzung des ECMAScript-Standards</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>