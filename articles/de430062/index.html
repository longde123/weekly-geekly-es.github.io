<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üññ üöÑ üë®üèº‚Äç‚öñÔ∏è Microservices. Entwicklungs- und Refactoring-Muster mit Java-Beispielen üèµÔ∏è üìª üóª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! 

 Wir beginnen mit der √úbersetzung von Chris Richardsons Buch Microservices Patterns. Mit Beispielen in Java . Es ist ein halbes Jahr vor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Microservices. Entwicklungs- und Refactoring-Muster mit Java-Beispielen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/430062/">  Hallo Habr! <br><br>  Wir beginnen mit der √úbersetzung von Chris Richardsons Buch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microservices Patterns. Mit Beispielen in Java</a> .  Es ist ein halbes Jahr vor der Premiere auf Russisch vergangen, aber wir m√∂chten Ihnen eine Art Trailer anbieten - eine leicht gek√ºrzte Rezension dieses Buches von Ben Nadel, der die MEAP-Version gelesen hat.  Die Rezension zitiert aktiv den Text der Kindle-Version von Richardson. <br><br><img src="https://habrastorage.org/webt/uw/yl/ao/uwylaocto8zwc9s9k_roupvabha.jpeg"><br><br>  Willkommen bei Katze! <br><a name="habracut"></a><br>  Ich habe Chris Richardson kennengelernt, als ich seine Online-Ressource <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microservices.io</a> kennengelernt habe.  Wo es, um ehrlich zu sein, eine erstaunliche Menge an Informationen gibt - die ich auf einen sp√§teren Zeitpunkt verschoben habe, weil ich zu diesem Zeitpunkt nicht wusste, wie ich damit umgehen sollte, insbesondere angesichts der Tatsache, dass ich praktisch keine Gesch√§fte mit Microservices hatte.  Ich lese gerne mehr.  Als ich erfuhr, dass Chris das Buch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microservices Patterns: With Examples In Java</a> des Autors ver√∂ffentlichte, war ich einfach begeistert.  So sehr, dass er nicht auf ihren Ausgang warten konnte.  Also habe ich Mannings "fr√ºhe Version" (MEAP) erworben und gelesen.  Letzte Woche habe ich genau das getan, was ich in diesem Buch studiert habe, und ich denke, dass dies eine faszinierende, pragmatische und ganzheitliche Studie des Microservice-Ansatzes f√ºr die Entwicklung ist. <br><br>  Das gesamte Buch ist in Form der Geschichte von Mary - CTO (CTO) von Food To Go, Inc (FTGO) aufgebaut.  Das Unternehmen m√∂chte das Gesch√§ft ausbauen, indem es das Refactoring seiner alten monolithischen Anwendung startet und sie in eine Microservice-Architektur umwandelt.  Mary √ºbernimmt dieses Projekt, weil die Entwicklungsgeschwindigkeit abgenommen hat und die Chefs sich immer mehr dar√ºber √§rgern, dass die Programmierer unter der Leitung von Mary keine neuen Funktionen in einer qualitativ hochwertigen Form produzieren k√∂nnen. <br><br>  Marys Hauptproblem ist nat√ºrlich die sogenannte "monolithische H√∂lle" in Richardsons Terminologie.  W√§hrend der Monolith eine gro√üe und wachsende Anwendung ist, konzentriert sich Richardson auf einen eher subtilen Aspekt der FTGO-Migration, so dass es bequemer ist, alle Konzepte aufzudecken und zu vermitteln.  Gleichzeitig ist der Inhalt des Buches unglaublich gut verdaulich.  Die meisten Architektur√ºberlegungen sind normalerweise entweder zu stark vereinfacht oder zu kompliziert.  Richardson gelang es jedoch, einen Mittelweg zu finden, indem er ein Dom√§nenmodell konstruierte, das (fast) in den Kopf passt, aber gleichzeitig komplex genug ist, um interessante dienst√ºbergreifende Aufgabenstr√∂me zu veranschaulichen. <br><br>  Ich hatte mich von Anfang an darauf gefreut, dass Richardson in jedem Detail pragmatisch war.  Kein einziger Aspekt des Buches wird als ‚ÄûSilberkugel‚Äú oder ‚Äûeinzige L√∂sung‚Äú dargestellt.  √úberall sehen wir eine kalkulierte Auswahl, eine Reihe klar definierter Kompromisse.  Zum Beispiel bringt der Autor sogar die Idee von Microservices in diesem Sinne vor: Microservice-Architektur sollte immer vermieden werden, au√üer in F√§llen, in denen dies unbedingt erforderlich ist: <br><blockquote> Eine weitere Herausforderung im Zusammenhang mit der Verwendung der Microservice-Architektur besteht darin, zu entscheiden, zu welchem ‚Äã‚ÄãZeitpunkt im Anwendungslebenszyklus diese Architektur verwendet werden soll.  Bei der Entwicklung der ersten Version einer Anwendung treten h√§ufig immer noch keine Probleme auf, die durch eine solche Architektur gel√∂st werden.  Dar√ºber hinaus wird die Verwendung einer ausgewogenen verteilten Architektur die Entwicklung nur verlangsamen.  Ein solches Dilemma kann bei Startups auftreten, bei denen die wichtigste Herausforderung in der Regel in der raschen Entwicklung eines Gesch√§ftsmodells und seiner eigenen Anwendung liegt.  Bei Verwendung der Microservice-Architektur ist es viel schwieriger, schnelle Iterationen zu organisieren.  Die Startup-Entwicklung sollte auf jeden Fall mit einer monolithischen Anwendung beginnen.  (Kindle-Version, Adresse 416) </blockquote>  Richardson betrachtet Microservices auch in einer ganzheitlichen Perspektive und diskutiert die Dynamik des Teams als einen v√∂llig unabh√§ngigen Kreis von Problemen, der auf dem technologischen Teil aufbaut.  Nat√ºrlich betrachtet er Themen wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Conways Gesetz</a> und " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Conways</a> Umkehrman√∂ver", aber gleichzeitig geht er auch auf die Tatsache ein, dass Programmierer emotionale Pathos-Charaktere sind, mit denen Sie die Idee von Microservices "verkaufen" sollten: <br><blockquote>  Wenn Sie zum Microservice-Paradigma √ºbergehen, m√ºssen Sie Ihre Architektur, Ihre Organisation und Ihre Entwicklungsprozesse √§ndern.  Am Ende √§ndert sich jedoch das Arbeitsumfeld, die Bedingungen, unter denen Menschen arbeiten, und die Menschen sind, wie bereits erw√§hnt, emotional.  Wenn menschliche Emotionen ignoriert werden, kann die Einf√ºhrung von Mikrodiensten in einer Organisation zu einem steilen Weg werden.  (Kindle-Version, Adresse 718) </blockquote>  Die vom Autor beschriebenen Strategien betreffen das gesamte Unternehmen und betreffen Manager und F√ºhrungskr√§fte, die es m√∂glicherweise nicht wagen, ein umfangreiches Refactoring zu starten, indem sie wertvolle Ressourcen daraus ziehen und Personen, die aktiv neue Funktionen entwickeln k√∂nnten: <br><blockquote>  Ein wesentlicher Vorteil des schrittweisen Refactorings in Richtung Microservice-Architektur besteht darin, dass sich eine solche Strategie sofort auszahlt.  Dies ist √ºberhaupt nicht der Fall, wenn ein Code ‚Äû√ºberarbeitet‚Äú wird, der erst dann Vorteile bringt, wenn er vollst√§ndig abgeschlossen ist ... <br><br>  Ein weiteres Plus der Situation, in der der Wert des √úbergangs fr√ºhzeitig erworben wird, besteht darin, dass wir Unternehmensunterst√ºtzung gewinnen k√∂nnen, um die Migration sicherzustellen.  Eine solche fortlaufende Unterst√ºtzung ist von entscheidender Bedeutung, denn je aktiver das Refactoring ist, desto weniger Zeit k√∂nnen Sie f√ºr die Entwicklung von Funktionen aufwenden.  In einigen Organisationen ist es schwierig, technische Schulden loszuwerden, da sich fr√ºhere Versuche als zu ehrgeizig herausstellen konnten und nicht die gew√ºnschten Vorteile brachten.  Infolgedessen z√∂gert das Unternehmen, weiterhin in ‚ÄûAufr√§umarbeiten‚Äú zu investieren.  Durch die schrittweise Vorgehensweise beim Refactoring bei Microservices kann ein Team sehr oft wertvolle Ergebnisse vorweisen.  (Kindle-Versionsadresse 10769) </blockquote>  Aus technologischer Sicht in dem Buch ‚ÄûMicroservices.  Entwicklungs- und Refactoring-Muster ‚Äúuntersuchten eine breite Palette von Themen: von hexagonalen Architekturen √ºber Tests und kontinuierliche Integration bis hin zu Messaging-Mustern und der Erstellung beobachtbarer Systeme.  Eine solche Berichterstattung impliziert, dass einige Themen im Buch ausf√ºhrlicher behandelt werden als andere.  Richardson schafft es jedoch wieder perfekt, alles in Einklang zu bringen und so viele Details anzugeben, dass man das Thema vern√ºnftigerweise diskutieren kann, ohne den Leser zu entmutigen. <br><br>  Tats√§chlich ist der Inhalt des Buches so organisiert, dass Sie selbst ausw√§hlen k√∂nnen, mit welchen Themen Sie sich befassen m√∂chten.  In jedem Kapitel wird vor einem detaillierten Eintauchen in das Thema eine Liste von TL; DR gegeben, in der alle Vor- und Nachteile kurz aufgef√ºhrt sind.  So schaffen Sie es, die wichtigsten Punkte des Kapitels zu erfassen, ohne jedes Wort durchzulesen. <br><br>  Ehrlich gesagt habe ich gerade zwei Kapitel zum Testen von Microservices und ein Kapitel zum Bereitstellen von Microservices durchgebl√§ttert.  Ich bin sicher, dass der Autor diese Themen perfekt ausgearbeitet hat, aber es schien mir, dass es einfach mehr Informationen gab, als ich verdauen konnte.  Der Einsatz ist f√ºr mich keine dringende t√§gliche Aufgabe.  Er schrieb mehrere Tests in seinem Leben. <br>  Daher wollte ich in meinem unklaren H√∂hlenbewusstsein gen√ºgend Platz lassen, um das Material aus allen anderen Kapiteln dort abzulegen: √ºber themenorientiertes Design (DDD), Interprozesskommunikation und Datensynchronisation. <br><br>  In einem der Abschnitte, die mich besonders beeindruckt haben, wird erl√§utert, welcher Service Anfragen eines bestimmten Typs bearbeiten soll: Finden Sie geeignete Restaurants in der N√§he des aktuellen Standorts des Benutzers: <br><blockquote>  Es kann jedoch schwierig sein, selbst solche Anforderungen zu implementieren, die in Bezug auf einen bestimmten Dienst lokal sind.  Dies ist aus mehreren Gr√ºnden m√∂glich.  Erstens, weil es (wie unten beschrieben) manchmal unangemessen ist, eine Anforderung in dem Dienst zu implementieren, dem die Daten geh√∂ren.  Ein weiterer Grund ist, dass die Servicedatenbank (oder das Datenmodell) die Anforderung manchmal nicht effizient unterst√ºtzen kann (Kindle-Version, Adresse 5659). </blockquote><blockquote> ... Wenn in der FTGO-Anwendung Informationen zu Restaurants in einer [anderen] Datenbank gespeichert sind, ist die Implementierung der Abfrage <code>findAvailableRestaurant()</code> viel komplizierter.  Eine Replik der Restaurantdaten sollte in einer Form gespeichert werden, die Geodatenabfragen unterst√ºtzt.  Eine Anwendung k√∂nnte beispielsweise die Geospatial Indexing Library f√ºr DynamoDB verwenden, in der die Tabelle als Geospatial Index verwendet wird.  Alternative: Die Anwendung kann eine Replik von Restaurantdaten in einer v√∂llig anderen Art von Datenbank speichern.  Eine √§hnliche Situation tritt auf, wenn wir Textabfragen mit einer Datenbank f√ºr die Textsuche verwenden.  (Kindle-Version, Adresse 5675) </blockquote><blockquote>  ... In diesem Fall ist es ratsam (zumindest auf den ersten Blick), dass die Anforderungsoperation von genau dem Dienst implementiert wird, dem die Daten geh√∂ren.  Neben dem Dateneigentum m√ºssen jedoch noch andere Faktoren ber√ºcksichtigt werden. <br><br>  Es ist auch notwendig, die Notwendigkeit einer Aufgabentrennung zu ber√ºcksichtigen und eine √úberlastung der Dienste mit zu vielen Funktionen zu vermeiden.  Die Hauptverantwortung des Teams, das den Restaurantservice entwickelt, besteht beispielsweise darin, den Restaurantmanagern bei der Arbeit des Unternehmens zu helfen.  Diese Aufgabe geh√∂rt √ºberhaupt nicht zum Plan, eine kritische Anfrage f√ºr die Arbeit mit gro√üen Datenmengen umzusetzen.  Wenn das Entwicklungsteam f√ºr den <code>findAvailableRestaurants()</code> verantwortlich w√§re, h√§tte es dar√ºber hinaus st√§ndig Angst, solche √Ñnderungen einzuf√ºhren, die Verbraucher daran hindern k√∂nnten, Bestellungen <code>findAvailableRestaurants()</code> .  (Kindle-Version, Adresse 5675) </blockquote>  Hier explodierte mein Gehirn ein wenig, weil ich zum ersten Mal einen Dienst sah, dessen einzige Funktion darin bestand, die Daten eines anderen Dienstes zu optimieren, um eine bestimmte Aufgabe auszuf√ºhren.  Richardson weist jedoch darauf hin, dass dies nur eine allgemeinere Abstraktion der Idee ist, die der Volltextsuche zugrunde liegt, beispielsweise in Apache Lucene (dieses Tool bietet eine Volltextindizierung √ºber einem anderen Data Warehouse). <br><br>  Ich vermute - oder besser gesagt, ich m√∂chte hoffen -, dass der Leser nach einer solchen Aufteilung der Zust√§ndigkeiten eine neue Grenze zwischen den Diensten ziehen wird.  Er wird nicht nur √ºber ‚ÄûDateneigentum‚Äú nachdenken, sondern auch ‚ÄûGesch√§ftsm√∂glichkeiten‚Äú ber√ºcksichtigen - das ist ein Faktor von echtem Wert, damit die Datenbank nicht nur der Ort zu sein scheint, an dem der Staat gespeichert ist. <br><br>  Ein weiterer Aspekt, der in dieser Diskussion hervorgehoben wird, ist die absolute Bedeutung der Datensynchronisation und -replikation sowie des asynchronen Messaging in der Microservice-Architektur.  Dieses Thema zieht sich durch das gesamte Richardson-Buch mit einem roten Faden, unabh√§ngig davon, wor√ºber sie sprechen: die Erstellung eines Mikrodienstes von Grund auf oder die schrittweise Umgestaltung eines Monolithen in Mikrodienste (ein separates Kapitel ist diesem Thema gewidmet).  Er macht sehr deutlich, dass Synchronisation die R√ºckgratkraft ist, die es wirklich erm√∂glicht, viele Dinge zu realisieren. <br><br>  Ich k√∂nnte viele interessante Dinge erw√§hnen.  Was ist zum Beispiel die Tatsache wert, dass Richardson richtig √ºber Authentifizierung und Autorisierung in einem verteilten System spricht? Ich denke, dieses Thema wurde, gelinde gesagt, noch nicht vollst√§ndig untersucht.  Der Autor erkl√§rt das themenorientierte Design am leichtesten zug√§nglich.  Er zeigt auch, dass selbst sehr einfache Klassen Verhalten haben k√∂nnen. <br><br>  Seit √ºber einem Jahr versuche ich, die Architektur verteilter Systeme und Mikroservice-Muster richtig zu verstehen (was besonders schwierig ist, da meine t√§gliche Arbeit mit der Wartung des Monolithen verbunden ist).  Viele der Texte, die ich zu diesen Themen lese, sind entweder zu oberfl√§chlich oder zu eng und gleichzeitig ausf√ºhrlich.  Das Buch "Microservices.  Entwicklungs- und Refactoring-Muster ‚Äúist in der Tat der Mittelweg zwischen diesen beiden Extremen.  <b>Ich kann dieses Buch jedem</b> (unserem K√ºhnen) <b>empfehlen,</b> der versucht (einschlie√ülich bisher erfolglos), von einer monolithischen Architektur zu einem verteilten System zu wechseln. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430062/">https://habr.com/ru/post/de430062/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430048/index.html">"Sie m√ºssen nur die LLVM-IR sorgf√§ltig generieren." Egor Bogatov √ºber Mono und .NET Core</a></li>
<li><a href="../de430052/index.html">Warum ist es f√ºr Hardwareentwickler wichtig, Qualit√§ts-Cusdev durchzuf√ºhren?</a></li>
<li><a href="../de430054/index.html">HolyJS 2018 Moskau: kostenlose Online-√úbertragung, Party sowie Wissenschafts- und Technologie-Rap</a></li>
<li><a href="../de430058/index.html">Wellenprozesse in Hydraulikleitungen. Die Grundlagen</a></li>
<li><a href="../de430060/index.html">Hackspace, Denis Perevalov, Anastasia Krokhaleva - die Magie des Programmierens</a></li>
<li><a href="../de430064/index.html">C ++: eine Sitzung der spontanen Arch√§ologie und warum Sie keine variablen Funktionen im Stil von C verwenden sollten</a></li>
<li><a href="../de430068/index.html">Ordnung der Puppe</a></li>
<li><a href="../de430070/index.html">Stapel und Warteschlange sind zwei schlechte Paradigmen und was kann dagegen getan werden?</a></li>
<li><a href="../de430072/index.html">Serverseitig Swift Underestimated: Interview mit Paul Hudson</a></li>
<li><a href="../de430074/index.html">Wie ich fast einen Virus gefangen h√§tte, der versucht, Stiefel zu verkaufen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>