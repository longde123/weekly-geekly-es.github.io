<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ—“ï¸ âœ”ï¸ ğŸ•´ğŸ¼ Membuat Rumput Interaktif di Mesin Unreal â™Œï¸ ğŸ“° ğŸ’…ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sampai baru-baru ini, rumput dalam permainan biasanya ditunjukkan oleh tekstur di tanah, bukan oleh rendering batang individu. Tetapi dengan peningkat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Membuat Rumput Interaktif di Mesin Unreal</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420079/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/dg/d_/sg/dgd_sg8pss1hh54majrmgysw5fi.gif"></div><br>  Sampai baru-baru ini, rumput dalam permainan biasanya ditunjukkan oleh tekstur di tanah, bukan oleh rendering batang individu.  Tetapi dengan peningkatan kekuatan besi, menjadi mungkin untuk membuat rumput.  Contoh-contoh hebat dari rendering ini dapat dilihat di game-game seperti <i>Horizon Zero Dawn</i> dan <i>The Legend of Zelda: Breath of the Wild</i> .  Dalam permainan ini, pemain dapat berkeliaran di padang rumput, dan, yang lebih penting, rumput <i>merespons</i> tindakan pemain. <br><br>  Untungnya, menciptakan sistem seperti itu tidak terlalu sulit.  Bahkan, artikel itu akan mengajarkan Anda hal itu!  Dalam tutorial ini Anda akan mempelajari hal-hal berikut: <br><br><ul><li>  Buat bidang vektor menggunakan tangkapan adegan dan sistem partikel </li><li>  Tekuk rumput dari pemain berdasarkan bidang vektor </li></ul><a name="habracut"></a><blockquote>  <em>Catatan:</em> tutorial ini mengasumsikan bahwa Anda sudah mengetahui dasar-dasar bekerja dengan Unreal Engine.  Jika Anda baru mengenal Unreal Engine, lihat seri sepuluh bagian tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Unreal Engine kami untuk pemula</a> .  Secara khusus, lihat tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sistem Partikel</a> untuk mengetahui cara menggunakan Cascade dalam tutorial ini. </blockquote><blockquote>  <em>Catatan:</em> tutorial ini adalah bagian dari serangkaian tiga tutorial tentang cara bekerja dengan render target: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 1: menggambar dengan Target Render</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 2: salju mampudeformasi</a> </li><li>  Bagian 3: rumput interaktif </li></ul></blockquote><h2>  Mulai bekerja </h2><br>  Mari kita mulai dengan mengunduh materi untuk tutorial ini (Anda dapat mengunduhnya <a href="">dari sini</a> ).  Unzip mereka, pergi ke <em>InteractiveGrassStarter</em> dan buka <em>InteractiveGrass.uproject</em> .  Anda akan melihat bidang kecil rumput yang akan menjadi tema tutorial ini.  Saya juga membuat widget untuk menampilkan target render tangkapan adegan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fa/004/60f/8fa00460f2e914dedb752443b566d226.gif"></div><br><br>  Sebelum Anda mulai, Anda harus mempelajari tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">membuat jejak kaki di salju</a> , karena saya akan melewatkan beberapa informasi.  Layak untuk mempertimbangkan bahwa penangkapan dan proyeksi juga digunakan dalam tutorial ini.  Untuk menghemat waktu, saya menyiapkan tangkapan cetak biru, mirip dengan cetak biru dari tutorial di trek di salju. <br><br>  Untuk memulai, mari kita lihat cara lain untuk membuat rumput interaktif.  Cara yang paling umum adalah mentransfer koordinat pemain ke material rumput dan menggunakan topeng bola untuk menekuk rumput dalam radius tertentu dari pemain. <br><br>  Meskipun pendekatan ini cukup baik, itu tidak skala dengan baik ketika kita ingin menambahkan lebih banyak aktor ke rumput.  Untuk setiap aktor yang Anda tambahkan, Anda harus menambahkan parameter koordinat lain dan masker bulat ke materi.  Metode yang lebih scalable adalah dengan menggunakan <em>bidang vektor</em> . <br><br><h2>  Apa itu bidang vektor? </h2><br>  Bidang vektor hanyalah tekstur, masing-masing piksel sesuai dengan arah.  Jika Anda dulu bekerja dengan stream map, maka mereka serupa.  Tetapi alih-alih memindahkan UV, kita akan menggunakan kontak <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Offset Posisi Dunia</a> untuk memindahkan simpul.  Berbeda dengan solusi dengan topeng bola, untuk mendapatkan arah lentur, cukup untuk bahan untuk sampel bidang vektor hanya <i>sekali</i> . <br><br>  Mari cari tahu bagaimana Anda dapat menyimpan arah dalam suatu tekstur.  Lihatlah kotak ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/553/651/6d2/5536516d26f67d5e2e5928db30b1608a.jpg"></div><br>  Katakanlah titik merah adalah objek yang ingin kita pindahkan.  Jika kita memindahkannya ke sudut kanan bawah, maka vektor mana yang akan menunjukkan gerakan ini?  Jika Anda menjawab <em>(1, 1)</em> , maka Anda benar!  Seperti yang mungkin Anda ketahui, Anda juga dapat mewakili vektor sebagai bunga, dan dengan demikian menyimpannya dalam tekstur.  Mari kita masukkan vektor ini ke dalam color picker Unreal dan lihat apa warnanya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b21/5d6/59b/b215d659be2f7f813add96b32fcabae4.jpg"></div><br>  Seperti yang Anda lihat, arah <em>(1, 1)</em> kembali berwarna kuning.  Ini berarti bahwa jika kita ingin menekuk rumput ke arah sumbu XY positif, maka kita harus menggunakan warna tekstur ini.  Sekarang mari kita lihat warna semua vektor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fbf/302/8bd/fbf3028bd6456dac8ca27a9c1bf2146d.jpg"></div><br>  Kotak kanan bawah terlihat cukup bagus karena memiliki gradien pada kedua sumbu.  Ini berarti bahwa kita dapat menyimpan vektor apa pun di kuadran ini sebagai warna, karena setiap vektor memiliki warna yang unik. <br><br>  Namun ada masalah dengan tiga kuadran lainnya.  Kami hanya memiliki gradien sepanjang satu sumbu, atau tidak ada gradien sama sekali.  Ini berarti bahwa beberapa vektor akan memiliki warna yang sama.  Misalnya, kita tidak dapat membedakan antara vektor <em>(-1, 1)</em> dan <em>(0, 1)</em> . <br><br>  Ketiga kuadran ini tidak memiliki warna unik untuk setiap vektor karena kami hanya dapat mewakili warna menggunakan nilai dari 0 hingga 1. Namun, ketiga kuadran ini menggunakan nilai negatif di luar rentang ini. <br><br>  Solusinya adalah mendistribusikan ulang vektor-vektor tersebut agar sesuai dengan interval dari 0 hingga 1. Ini dapat dilakukan dengan mengalikan vektor dengan <em>0,5</em> dan menambahkan <em>0,5</em> .  Berikut ini visualisasi dari apa yang kita dapatkan: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c6/334/31a/1c633431aa88cde88b2f2af01ede9f89.gif"></div><br>  Sekarang setiap vektor memiliki warna yang unik.  Ketika kita perlu menggunakannya untuk perhitungan, kita cukup mendistribusikannya kembali ke interval dari -1 ke 1. Berikut adalah beberapa warna, dan arah yang sesuai setelah redistribusi: <br><br><ul><li>  <em>(0, 0):</em> negatif X dan Y </li><li>  <em>(0,5, 0,5):</em> tidak ada gerakan </li><li>  <em>(0, 1):</em> negatif X dan positif Y </li><li>  <em>(1, 0):</em> positif X dan negatif Y </li></ul><br>  Sekarang mari kita belajar cara membuat bidang vektor di Unreal. <br><br><h3>  Membuat bidang vektor </h3><br>  Tidak seperti membuat jejak di salju, kami tidak akan melakukan penangkapan bentuk benda.  Sebagai gantinya, kami akan melukis target render dengan kuas.  Ini hanya akan menjadi gambar bidang vektor yang dipilih.  Saya akan menyebutnya <em>sikat arah</em> . <br><br>  Alih-alih menggambar target render dengan tumpul, kita bisa menggunakan <em>partikel</em> .  Partikel akan menampilkan kuas arah dan dipancarkan dari pemain.  Untuk membuat bidang vektor, kita hanya perlu menggunakan adegan dan hanya menangkap partikel.  Keuntungan dari metode ini adalah membuat jejak sangat sederhana.  Selain itu, ini memungkinkan Anda untuk dengan mudah mengelola properti seperti durasi penyimpanan trek dan ukurannya.  Selain itu, partikel membuat jejak sementara sementara, karena mereka ada setelah meninggalkan area penangkapan dan kembali ke sana. <br><br>  Di bawah ini adalah beberapa contoh sikat arah yang dapat kita gunakan, serta efeknya pada rumput.  Perhatikan bahwa dalam contoh di bawah ini, partikelnya tidak terlihat. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/06a/7ac/976/06a7ac9766e63da84aec88bca2338b9a.gif"></div><br>  Untuk memulai, mari kita buat bahan yang akan menampilkan sikat arah. <br><br><h2>  Membuat Bahan untuk Arahan </h2><br>  Ada dua cara untuk membuat sikat arah: <br><br><ol><li>  <em>Matematika:</em> arah dan bentuk diatur di dalam materi.  Keuntungannya adalah tidak memerlukan perangkat lunak pihak ketiga dan nyaman untuk bentuk sederhana. </li><li>  <em>Konversi Peta Normal:</em> Buat peta normal dari arah dan bentuk yang diinginkan.  Untuk mengonversi peta menjadi bidang vektor yang sesuai, cukup bagi kami untuk menghapus saluran biru.  Keuntungan dari metode ini adalah Anda dapat dengan mudah membuat bentuk yang rumit.  Di bawah ini adalah contoh kuas yang akan sulit dibuat secara matematis. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddd/e44/0e5/ddde440e52ce5e3bbc6cdece65815265.jpg"></div><br>  Untuk tutorial ini kita akan membuat sikat secara matematis.  Buka folder <em>Bahan</em> dan buka <em>M_Direction</em> .  Perhatikan bahwa model naungan <em>Unlit</em> dipilih untuk bahan ini.  Ini penting karena memungkinkan penangkapan adegan untuk menangkap partikel tanpa mempengaruhi mereka. <br><br>  Agar tidak menyulitkan, kami akan membuat bahan yang akan menyebabkan rumput menjauh dari pusat partikel.  Untuk melakukan ini, buat skema berikut: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/826/06f/fc1/82606ffc1df0425a75ef17c334a23470.jpg"></div><br>  Sekarang kita perlu mendistribusikan ulang.  Untuk melakukan ini, tambahkan node yang dipilih dan hubungkan semuanya sebagai berikut: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/02b/eb0/98a/02beb098a304fb3b9ff13a3852c664cd.jpg"></div><br>  Sekarang mari kita beri kuas bentuk bulat.  Untuk melakukan ini, tambahkan node yang dipilih: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b97/4bf/702/b974bf7024f3487a8161e279ad3fb350.jpg"></div><br>  <em>RadialGradientExponential</em> mengontrol ukuran dan ketajaman keliling lingkaran.  Mengalikannya dengan <em>Particle Color</em> memungkinkan Anda untuk mengontrol opacity partikel dari sistem partikel.  Saya akan membahas ini secara lebih rinci di bagian selanjutnya. <br><br>  Begini tampilannya: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/529/d6e/349/529d6e34937588676b1a20d03fdac107.jpg"></div><br>  Klik <em>Terapkan</em> dan tutup materi.  Sekarang kita telah menciptakan materi, sekarang saatnya untuk memulai sistem jejak partikel. <br><br><h2>  Menciptakan sistem jejak partikel </h2><br>  Buka folder <em>ParticleSystems</em> dan buka <em>PS_GrassTrail</em> .  Untuk menghemat waktu, saya telah membuat semua modul yang diperlukan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6aa/008/5ee/6aa0085ee0867456e29f574511b43ec2.jpg"></div><br>  Inilah cara setiap modul memengaruhi jejak rumput: <br><br><ul><li>  <em>Spawn:</em> frekuensi penciptaan memengaruhi kelancaran trek.  Jika trek terlihat terputus-putus, maka Anda harus meningkatkan frekuensi pembuatan.  Dalam tutorial ini kita akan meninggalkan nilai default (20). </li><li>  <em>Seumur hidup:</em> masa jalan setapak sampai rumput kembali ke keadaan semula </li><li>  <em>Ukuran Awal:</em> ukuran jejak </li><li>  <em>Color Over Life:</em> karena kami menggunakan Warna Partikel dalam materi, Anda dapat mengontrol opacity di sini.  Anda juga dapat mengubah kurva alfa untuk mengontrol hilangnya trek.  Misalnya, Anda dapat memilih penghilangan linier, pelonggaran masuk dan / atau pelonggaran.  Dalam tutorial ini, kita akan meninggalkan pengaturan default, mis. Kehilangan linear. </li><li>  <em>Kunci Sumbu:</em> Digunakan untuk mengarahkan partikel ke arah pengambilan adegan </li><li>  <em>Rotasi Awal:</em> digunakan untuk memastikan bahwa partikel berorientasi sepanjang sumbu yang benar (lebih lanjut tentang ini di bawah) </li></ul><br>  Pertama kita perlu mengatur materi.  Pilih modul yang <em>diperlukan</em> dan atur <em>Material</em> ke <em>M_Direction</em> .  Juga atur <em>Mode Urut</em> ke <em>Usia PSORTMODE Terbaru Pertama</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb0/a43/fa3/bb0a43fa369abea85bc7a9ff6a80b06e.jpg"></div><br>  Mode penyortiran ini memungkinkan Anda untuk membuat partikel baru di atas yang lama.  Jika ini tidak dilakukan, maka bukan baru, tetapi partikel lama akan mempengaruhi rumput. <br><br>  Berikutnya adalah durasi jejak.  Pilih modul <em>Lifetime</em> dan atur <em>Constant</em> ke <em>5</em> .  Berkat ini, jejaknya akan hilang dalam lima detik. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/505/d9d/b73/505d9db732f69d4b68b4079bd330553c.jpg"></div><br>  Sekarang mari kita lanjutkan ke ukuran jejak.  Pilih modul <em>Initial Size</em> dan atur <em>Constant</em> ke <em>(150, 150, 0)</em> .  Karena ini, setiap partikel akan mencakup area seluas 150 Ã— 150. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/231/dba/9c5/231dba9c5421f8bdd79aba23f8def0cd.jpg"></div><br>  Sekarang kita perlu membuatnya terlihat ke arah menangkap adegan.  Karena adegan ditangkap dari atas, partikel harus melihat ke arah sumbu Z positif. Untuk melakukan ini, pilih modul <em>Kunci Sumbu</em> dan atur <em>Bendera Kunci Sumbu</em> ke <em>Z.</em> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b74/b2b/69c/b74b2b69c7d38785c7ad78d8ec6f250e.jpg"></div><br>  Akhirnya, kita perlu mengatur rotasi partikel.  Saat ini, warna kuas tidak selaras dengan arah yang diwakilinya.  Ini terjadi karena secara default sistem partikel diterapkan dengan rotasi 90 derajat.  Untuk memperbaikinya, pilih modul <em>Rotasi Awal</em> dan setel nilai <em>Konstan</em> ke <em>-0,25</em> .  Ini akan memutar partikel 90 derajat berlawanan arah jarum jam. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/41d/a09/000/41da09000032c1023438b15a3a74f341.jpg"></div><br>  Dan hanya itu yang kita butuhkan untuk sistem partikel, jadi mari kita tutup. <br><br>  Selanjutnya, kita perlu melampirkan sistem partikel pada apa yang seharusnya membuat jejak.  Dalam kasus kami, kami harus melampirkannya ke karakter pemain. <br><br><h3>  Memasang Sistem Partikel </h3><br>  Pergi ke <em>Karakter \ Manekin</em> dan buka <em>BP_Manekin</em> .  Selanjutnya, buat komponen <em>Sistem Partice</em> dan <em>beri</em> nama <em>GrassParticles</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b72/9e0/811/b729e08111d25a301682968f1d878da0.jpg"></div><br>  Selanjutnya kita perlu mendefinisikan sistem partikel.  Buka panel Detail dan atur <em>Particles \ Template</em> ke <em>PS_GrassTrail</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/491/45d/7d3/49145d7d362eb92443a8cfe93bd8a023.jpg"></div><br>  Akan aneh jika pemain bisa melihat trek di dalam gim, jadi ada baiknya menyembunyikannya.  Untuk melakukan ini, nyalakan <em>Rendering \ Owner No See</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ad4/de5/7a8/ad4de57a8d9f0eeee254a58c0de8e8d6.jpg"></div><br>  Karena sistem partikel melekat pada pemain (pemilik), pemain tidak akan melihatnya, tetapi akan terlihat oleh yang lainnya. <br><br>  Klik <em>Kompilasi</em> , lalu klik <em>Mainkan</em> .  Perhatikan bahwa partikel tidak muncul untuk kamera pemain, tetapi ditampilkan pada target render. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c9d/4d5/4ac/c9d4d54ac998a6aa80da5887dc199b23.gif"></div><br>  Sejauh ini, pengambilan adegan diatur untuk menangkap <i>semuanya</i> .  Jelas, ini tidak cocok untuk kita, karena hanya partikel yang mempengaruhi rumput.  Di bagian selanjutnya, kita akan belajar cara menangkap partikel saja. <br><br><h2>  Penangkapan partikel </h2><br>  Jika kita menangkap partikel sekarang, kita akan melakukan pembengkokan yang tidak perlu di area tanpa partikel.  Ini karena warna latar belakang target render adalah hitam.  Bending terjadi karena hitam menunjukkan gerakan ke arah sumbu XY negatif (setelah redistribusi).  Agar area kosong tidak mengandung gerakan, kita perlu membuat target latar belakang di-render <em>(0,5, 0,5, 0)</em> .  Cara termudah untuk melakukan ini adalah membuat pesawat besar dan melampirkannya ke pemain. <br><br>  Pertama, buat bahan untuk latar belakang.  Kembali ke Browser Konten dan buka <em>Materi \ M_Background</em> .  Kemudian hubungkan konstanta <em>(0,5, 0,5, 0)</em> dengan <em>Warna Emissive</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/31b/46f/306/31b46f306ba4f2a0df310d36e54a000b.jpg"></div><br><blockquote>  <em>Catatan:</em> seperti halnya material partikel, materi apa pun yang kami tangkap harus memiliki model <em>shader yang tidak menyala</em> . </blockquote><br>  Klik <em>Terapkan</em> dan tutup materi.  Kembali ke <em>BP_Mannequin</em> , lalu buat komponen <em>Pesawat</em> baru.  Beri nama <em>Background</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bc4/0aa/1ff/bc40aa1ffbb655e576ce999318f4342b.jpg"></div><br>  Selanjutnya, atur properti berikut: <br><br><ul><li>  <em>Lokasi:</em> (0, 0, -5000).  Kami menempatkan pesawat sangat rendah sehingga tidak tumpang tindih dengan partikel apa pun. </li><li>  <em>Skala:</em> (100, 100, 1).  Jadi kami skala ke ukuran yang cukup untuk menutupi seluruh area tangkapan. </li><li>  <em>Bahan:</em> M_Background </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e6d/824/d3b/e6d824d3b427cff5e136a2861eb02bed.jpg"></div><br>  Seperti halnya partikel, akan aneh jika pemain melihat pesawat kuning besar di bawahnya.  Untuk menyembunyikannya, nyalakan <em>Rendering \ Owner No See</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cad/164/7df/cad1647dfe62bb1e29733ac8e6d6b712.jpg"></div><br>  Sekarang kita telah mengatur latar belakang, saatnya untuk menangkap partikel.  Kita bisa melakukan ini dengan menambahkan sistem partikel ke <em>daftar hanya</em> menangkap adegan.  Ini adalah daftar komponen yang akan menangkap tangkapan adegan. <br><br><h3>  Menggunakan Daftar Tampilkan Saja </h3><br>  Sebelum kita dapat menambahkan ke daftar acara saja, kita perlu cara untuk mendapatkan semua aktor yang mempengaruhi rumput.  Salah satu cara untuk mendapatkannya adalah dengan menggunakan <em>tag</em> .  Tag adalah string sederhana yang dapat ditetapkan untuk aktor dan komponen.  Kemudian Anda bisa menggunakan node <em>Dapatkan Semua Aktor Dengan Tag</em> untuk mendapatkan semua aktor dengan tag yang sesuai. <br><br>  Karena aktor pemain harus memengaruhi rumput, ia membutuhkan tanda.  Untuk menambahkan tag, klik tombol <em>Class Defaults</em> .  Kemudian buat tag baru di <em>Actor \ Tag</em> dan <em>beri</em> nama <em>GrassAffector</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/759/df5/711/759df57115fd0a2172f9c9c4c5b0505d.jpg"></div><br>  Karena hanya <i>komponen yang</i> dapat ditransfer ke daftar hanya-tunjukkan, kami perlu menambahkan tag ke <i>komponen</i> yang memengaruhi rumput.  Pilih komponen <em>GrassParticles</em> dan tambahkan tag baru yang terletak di bagian <em>Tag</em> .  Beri nama <em>GrassAffector</em> juga ( <i>tidak perlu</i> menggunakan tag ini).  Ulangi hal yang sama untuk komponen <em>Background</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f4/3f4/05a/8f43f405a8cf96083d5df56e54d21576.jpg"></div><br>  Sekarang kita perlu menambahkan komponen yang mempengaruhi rumput ke daftar hanya menangkap adegan.  Klik <em>Kompilasi</em> dan tutup <em>BP_Mannequin</em> .  Kemudian buka <em>Cetak Biru \ BP_Capture</em> .  Pergi ke <em>Event BeginPlay</em> dan tambahkan node yang disorot.  Pastikan juga pin yang ditandai terhubung. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7d9/e82/3cf/7d9e823cffefede4f0273a81b9363ecb.jpg"></div><br>  Sirkuit ini akan diulang melalui semua aktor dengan tag <em>GrassAffector</em> .  Setelah itu dia akan memeriksa apakah aktor memiliki komponen dengan tag ini dan menambahkannya ke daftar hanya-tunjukkan. <br><br>  Selanjutnya kita perlu memberitahu menangkap adegan untuk menggunakan hanya daftar hanya-tunjukkan.  Pilih komponen <em>SceneCapture</em> dan pergi ke bagian <em>Scene Capture</em> .  Setel <em>Mode Render Primitif</em> untuk <em>Menggunakan Daftar ShowOnly</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/675/ecd/6eb/675ecd6eb2a1c867734b920bbeaeedd4.jpg"></div><br>  Klik <em>Kompilasi</em> dan tutup cetak biru.  Jika Anda mengklik <em>Play</em> , Anda akan melihat bahwa target render sekarang hanya menangkap partikel dan bidang latar belakang. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee0/a1f/3d7/ee0a1f3d7bb9687f81ec2e7d0faaf61b.gif"></div><br>  Di bagian selanjutnya, kita mencapai apa yang kita harapkan.  Sudah waktunya untuk mengajarkan rumput menekuk! <br><br><h2>  Tekuk rumput </h2><br>  Pertama kita perlu memproyeksikan target render di atas rumput.  Buka folder <em>Bahan</em> dan buka <em>M_Grass</em> .  Kemudian buat node yang ditunjukkan di bawah ini.  Setel tekstur menjadi <em>RT_Capture</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ec0/fd7/4e6/ec0fd74e6e18c21da2d9b647c878613c.jpg"></div><br>  Karena kami mendistribusikan ulang warna dalam interval dari 0 hingga 1, sebelum menggunakannya, kami perlu mendistribusikan kembali warna dalam interval dari -1 hingga 1. Untuk melakukan ini, tambahkan node yang disorot: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/25d/dc7/0be/25ddc70be17e726bd3089c21ee5be21e.jpg"></div><br>  Sekarang kita memiliki arah lengkung, kita perlu beberapa cara untuk memutar rumput ke arah itu.  Untungnya, ada simpul bernama <em>RotateAboutAxis</em> untuk ini.  Mari kita ciptakan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a92/4a0/127/a924a0127868686cf2616c8d994e9b5a.jpg"></div><br>  Mari kita mulai dengan kontak <em>NormalizedRotationAxis</em> .  Seperti namanya, ini adalah sumbu di mana simpul akan berputar.  Untuk menghitung, kita hanya perlu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">produk vektor dari</a> arah lentur dengan <em>(0, 0, -1)</em> .  Untuk melakukan ini, kita perlu menambahkan node yang dipilih: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5c3/898/ece/5c3898ecee9d7a4fd9ea75e53072acd1.jpg"></div><br>  Kita juga perlu menentukan <em>RotationAngle</em> , yaitu jumlah rotasi vertex relatif terhadap titik rotasi.  Secara default, nilainya harus antara 0 dan 1, di mana 0 adalah 0 derajat dan 1 adalah 360 derajat.  Untuk mendapatkan sudut rotasi, kita bisa menggunakan panjang arah lentur, dikalikan dengan rotasi maksimum. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6d4/171/800/6d417180067018db8df09f878251f6e8.jpg"></div><br>  Mengalikan dengan rotasi maksimum <em>0,2</em> akan berarti bahwa sudut rotasi maksimum adalah <em>72</em> derajat. <br><br>  Menghitung <em>PivotPoint</em> sedikit lebih sulit, karena satu jala rumput berisi beberapa batang.  Ini berarti bahwa kita tidak dapat menggunakan sesuatu seperti simpul <em>Posisi Objek</em> , karena itu akan mengembalikan satu titik untuk semua batang rumput. <br><br>  Idealnya, Anda harus menggunakan editor 3D pihak ketiga untuk menyimpan titik pivot di dalam saluran UV.  Tetapi untuk tutorial ini, kami hanya memperkirakan titik pivot.  Ini dapat dilakukan dengan memindahkan dari atas ke <em>bawah</em> ke offset tertentu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f47/6ac/cdf/f476accdf57bca37d5bd7994f53b6b47.jpg"></div><br>  Untuk melakukan ini, tambahkan node yang dipilih: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/05a/1bd/208/05a1bd2082b7044a1535aaf38cf33264.jpg"></div><br>  Dalam tutorial ini, rumput sekitar <em>80</em> unit tinggi, jadi saya menetapkan nilai ini untuk <em>PivotOffset</em> . <br><br>  Selanjutnya, kita perlu melakukan dua topeng.  Topeng pertama memastikan bahwa akar batang tidak akan bergerak.  Topeng kedua memastikan bahwa tidak ada bidang vektor yang bekerja pada rumput di luar area tangkapan. <br><br><h3>  Masking </h3><br>  Untuk tutorial ini, saya mengatur warna puncak rumput sehingga simpul bawah berwarna hitam dan simpul atas berwarna putih. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/199/0ff/45b/1990ff45be26b99bf5330a0d2817e102.jpg"></div><br>  Untuk menutupi root, kita cukup gandakan hasil <em>RotateAboutAxis</em> dengan simpul <em>Warna Vertex</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/522/568/0fc/5225680fcb4fd4bedf2f7ec7a49ebb58.jpg"></div><br>  Untuk menutupi rumput di luar area tangkapan, kami gandakan hasil sebelumnya dengan simpul yang dipilih: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/37b/da2/e95/37bda2e954f8e160ab3b0c80d5269acf.jpg"></div><br>  Klik <em>Terapkan</em> dan tutup materi.  Klik <em>Mainkan</em> dan jalankan melalui rumput untuk meninggalkan jejak kaki di atasnya! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1dc/058/185/1dc058185c158d1ef243b04f5d041174.gif"></div><br><h2>  Ke mana harus pergi selanjutnya? </h2><br>  Proyek yang sudah selesai dapat diunduh <a href="">dari sini</a> . <br><br>  Meskipun metode yang ditunjukkan dalam tutorial berfungsi baik untuk objek sederhana seperti rumput, itu tidak cukup ketika menggunakan objek yang membutuhkan lebih banyak dinamika.  Solusi parsial untuk masalah ini adalah dengan menggunakan versi fisik dedaunan.  Lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">posting ini</a> tentang dedaunan interaktif untuk informasi lebih lanjut. <br><br>  Akhirnya, saya ingin berterima kasih kepada Deathrey dari komunitas Unreal Engine atas tip dari metode partikel ini! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id420079/">https://habr.com/ru/post/id420079/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id420069/index.html">Richard Hamming: Bab 20. Pemodelan - III</a></li>
<li><a href="../id420071/index.html">Harga berbeda untuk gudang di multi-gudang. Perbaikan 1C-Bitrix</a></li>
<li><a href="../id420073/index.html">Seni Manajemen: Tinjauan Laporan Terbaik dengan Teamlead Conf 2018. Bagian 2</a></li>
<li><a href="../id420075/index.html">Peta cerdik ini menjelaskan bagaimana segala sesuatu dalam fisika cocok satu sama lain.</a></li>
<li><a href="../id420077/index.html">Peluang Perdagangan Online Baru</a></li>
<li><a href="../id420081/index.html">Instal Archlinux dengan enkripsi sistem lengkap dan LVM di LUKS</a></li>
<li><a href="../id420083/index.html">Tindakan Ideal untuk Asisten Google - 8 pelajaran dari Moscow Hackathon</a></li>
<li><a href="../id420085/index.html">Pengenalan objek dan emosi manusia menggunakan Firebase ML Kit</a></li>
<li><a href="../id420087/index.html">Ini adalah pos dengan laporan dan video di MS SQL Server.</a></li>
<li><a href="../id420089/index.html">Robomobiles: Peleton dan Sosis Bavaria</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>