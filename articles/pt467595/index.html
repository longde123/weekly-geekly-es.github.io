<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äçü§ù‚Äçüë®üèª üï∫üèº üê§ Viajando pelo data center Selectel. Dinossauro em chamas, VMware, C2F5H e o lobisomem invis√≠vel üë©‚Äçüöí üë©üèª üíå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O trabalho do administrador do sistema baseia-se na cren√ßa de que os engenheiros do data center conhecem seu trabalho. Estamos criando clusters de fai...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Viajando pelo data center Selectel. Dinossauro em chamas, VMware, C2F5H e o lobisomem invis√≠vel</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/467595/"><p>  O trabalho do administrador do sistema baseia-se na cren√ßa de que os engenheiros do data center conhecem seu trabalho.  Estamos criando clusters de failover, mas quanto custar√° esse failover se a energia acabar?  Que diferen√ßa faz a rapidez com que o servidor processa a solicita√ß√£o se o canal do datacenter cair no ponto de troca de tr√°fego?  Como aumentar o servidor se estiver superaquecido fisicamente? </p><br><p>  E eu gostaria de n√£o acreditar, mas de saber exatamente como a toler√¢ncia a falhas √© criada no n√≠vel do ferro.  De onde v√™m esses "nove" equipamentos confi√°veis, sobre os quais estamos falando ao formular o SLA Kubernetesov.  O que acontece quando um projeto queima no sentido mais verdadeiro da palavra. </p><br><p>  Tivemos a sorte de passear pelo data center Selectel no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">terceiro dia do</a> Slurm DevOps, examinar o santo dos santos e at√© tirar algumas fotos para mem√≥ria.  Tamb√©m perguntamos sobre as lendas da empresa que os funcion√°rios da Selectel nunca contam a ningu√©m.  E, como se viu, eles mesmos n√£o se lembram. </p><br><p>  Nossa empresa de Southbridge est√° associada √† Selectel h√° muito tempo.  Agora, oferecemos suporte a 58 projetos hospedados nos servidores do provedor.  Quando um cliente precisa de um servidor localizado na R√∫ssia, recomendamos o Selectel, porque por experi√™ncia o consideramos o fornecedor mais confi√°vel e conveniente de infraestrutura de TI. </p><br><p>  Vamos l√°! </p><br><p><img src="https://habrastorage.org/webt/et/-x/3u/et-x3u-sgwhiucedc_ujetvik6i.jpeg"></p><br><p><a name="habracut"></a>  Ao subir o quarto andar - os mais dif√≠ceis pegaram o elevador, os mais atl√©ticos subiram - colegas de Southbridge me lembraram que eu definitivamente deveria aprender sobre as lendas da Selectel: sobre o lobisomem, sobre o esp√≠rito inquieto que vagava e uivava ao construir um novo edif√≠cio de data center.  Sempre me interessei pela mitologia das grandes empresas, que permaneceram desde o turbulento est√°gio de nascimento e primeiro crescimento. </p><br><p>  No in√≠cio, a empresa tinha um data center na Flower 1 em S√£o Petersburgo.  O data center atendeu a empresa Vkontakte.  N√≥s o vimos da janela quando subimos para o quarto andar.  Certa vez, ele parou na moderniza√ß√£o h√° nove ou dez anos - e desde ent√£o trabalha continuamente.  Em termos de confiabilidade, ele pertence ao N√≠vel II. </p><br><blockquote>  Informa√ß√µes para considera√ß√£o (c) "Dezessete Momentos da Primavera": <br><br>  O principal indicador do data center √© a toler√¢ncia a falhas.  Existem 4 categorias no total - do N√≠vel I ao N√≠vel IV.  Pertencer a uma determinada categoria indica o n√≠vel de redund√¢ncia, seguran√ßa f√≠sica e confiabilidade. <br><br>  N√≠vel I (Redund√¢ncia - N, toler√¢ncia a falhas - 99,671%) - n√£o h√° pisos elevados no data center, fontes de energia de backup e fontes de alimenta√ß√£o ininterruptas e a infraestrutura de engenharia n√£o √© reservada.  Durante um reparo programado ou de emerg√™ncia, o data center para. <br><br>  N√≠vel II (Redund√¢ncia - (N + 1), toler√¢ncia a falhas - 99,749%) - h√° um pequeno n√≠vel de redund√¢ncia, pisos elevados e fontes de energia de backup s√£o montadas no data center, o trabalho de reparo faz com que o data center pare de funcionar, como no N√≠vel I. <br><br>  N√≠vel III (Redund√¢ncia - 2N, toler√¢ncia a falhas - 99,982%) - √© poss√≠vel executar trabalhos de reparo (substituindo componentes do sistema, adicionando e removendo equipamentos com falha) sem parar o datacenter.  Todos os sistemas s√£o reservados, existem v√°rios canais de distribui√ß√£o de energia e refrigera√ß√£o. <br><br>  N√≠vel IV (Redund√¢ncia - 2 (N + 1), toler√¢ncia a falhas - 99.995%) - s√£o necess√°rias redund√¢ncia dupla e redund√¢ncia do sistema.  √â poss√≠vel realizar qualquer trabalho sem interromper o trabalho do data center.  Os sistemas de engenharia s√£o duplamente reservados, ou seja, os sistemas prim√°rio e secund√°rio s√£o duplicados. </blockquote><p>  √Ä nossa frente havia uma grade poderosa, uma porta com uma trava eletr√¥nica e um cata-vento de altura total feito de perfis met√°licos grossos.  E atr√°s dele est√° o pr√≥prio espa√ßo do data center. </p><br><p><img src="https://habrastorage.org/webt/g5/fv/q2/g5fvq24979ggeco8uxza9mcmme0.jpeg"></p><br><p>  O data center em que est√°vamos localizados √© mais recente que o data center do bairro - foi constru√≠do em 2015.  E pertence √† categoria de N√≠vel III. </p><br><p>  Agora, a Selectel possui dois centros operacionais em Tsvetochnaya, mais tr√™s em Dubrovka, dois data centers em Moscou, considerados como um data center na empresa.  S√≥ seis. </p><br><p>  O pr√©dio tem quatro andares.  Os escrit√≥rios est√£o localizados no primeiro andar e alguns equipamentos est√£o localizados.  O quarto andar √© parcialmente alocado para escrit√≥rios, mas a maior parte √© ocupada por instala√ß√µes t√©cnicas. </p><br><p>  Antes do fornecedor entrar aqui, a produ√ß√£o estava localizada no edif√≠cio.  Os funcion√°rios do data center em si n√£o se lembram da produ√ß√£o do que exatamente - filme ou roupa.  A empresa comprou o pr√©dio para eliminar os riscos de complexas rela√ß√µes de propriedade se o pr√©dio pertencer a terceiros. </p><br><p>  Apesar de a produ√ß√£o estar localizada aqui, havia m√°quinas-ferramentas e outras m√°quinas pesadas, a Selectel refor√ßou ainda mais os pisos.  Mesmo na sala de confer√™ncias no t√©rreo, onde ocorreram os intensivos Slurm DevOps ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">3</a> ), prestamos aten√ß√£o aos suportes refor√ßados. </p><br><p>  N√≥s vamos ao data center apenas em capas de sapatos - a regra usual para essas instala√ß√µes.  Colocar onuchi de pl√°stico custa uma "sapateira".  Estamos sinceramente imbu√≠dos.  O atendente nos ofereceu uma escolha - cal√ßar sapatos ou confiar as extremidades ao aparelho guloso. </p><br><p><img src="https://habrastorage.org/webt/xh/w9/bl/xhw9bldwiatymtgvt3y07g5vcja.jpeg"></p><br><p>  Nossa escolha foi previs√≠vel.  Igor Olemsky, diretor da Southbridge: <em>"Somos a favor da automa√ß√£o"</em> .  Anton Tarasov, administrador de Southbridge: <em>"Se fosse assim com as meias, eu seria a pessoa mais feliz do planeta"</em> . </p><br><p><img src="https://habrastorage.org/webt/td/1d/kc/td1dkcusvulev1zhgbzlarb3p6c.jpeg"></p><br><p>  Enquanto usavam sapatos, os desenvolvedores da Southbridge se perguntaram ativamente exatamente onde est√£o os servidores VMware.  Todos estavam interessados ‚Äã‚Äãem ver em quais equipamentos essa tecnologia funciona. </p><br><p>  Assim que entraram na √°rea t√©cnica, anunciaram imediatamente as regras: <em>"N√≥s n√£o comemos, n√£o bebemos, n√£o fumamos.</em>  <em>N√£o colocamos as m√£os em lugar algum, em escudos, em racks, aparelhos de ar condicionado ou controles remotos.</em>  <em>Seguramos as m√£os na nossa frente, como um tiranossauro. "</em> </p><br><p>  No quarto andar, existem tr√™s salas de servidores.  Todo o equipamento est√° no piso elevado.  √â necess√°rio que o ar frio flua de baixo e tamb√©m que possam ser feitas comunica√ß√µes que n√£o precisam de acesso constante.  Estas s√£o linhas de energia e tubula√ß√µes de refrigera√ß√£o. </p><br><p><img src="https://habrastorage.org/webt/_e/py/bz/_epybz0xl7ov06ddi7t-wwd9gpy.jpeg"></p><br><p>  Assim que entramos na pequena sala do servidor, um zumbido nos atingiu.  O personagem do famoso desenho animado com serragem na cabe√ßa certamente diria: <em>"Isso est√°</em> bem, bem, bem, <em>por uma boa raz√£o!"</em>  .  Como n√£o est√°vamos acostumados, mal nos ouvimos nos primeiros minutos.  Explica√ß√µes do guia, tamb√©m, mal adivinhei, eu tive que me aproximar mais. </p><br><p>  Ao redor s√£o racks, racks e ainda mais racks ... Eles est√£o alinhados em fileiras r√≠gidas.  Nos datacenters de servidores, encontramos diferentes classifica√ß√µes: por 10 racks, 12, 20, 30. Dependendo da configura√ß√£o da sala, da √°rea alugada pelo cliente e das tarefas. </p><br><p><img src="https://habrastorage.org/webt/kv/oj/t1/kvojt1sqx1gtafoi8gxyvhsx_vw.jpeg"></p><br><p><img src="https://habrastorage.org/webt/9n/xc/hi/9nxchi5glp6dxyw5ayqkce_fqn4.jpeg"></p><br><p>  No datacenter em todas as salas de servidores do sistema de refrigera√ß√£o, fica assim: de cima e dos lados, o espa√ßo de refrigera√ß√£o √© limitado pela estrutura do rack, a parte frontal √© fechada por portas perfuradas.  Os aparelhos de ar condicionado conduzem o ar frio sob o piso elevado - e o ar sob press√£o sobe para os racks. </p><br><p><img src="https://habrastorage.org/webt/mc/zv/zd/mczvzddmlrtmq2snkbxihwdlofq.jpeg"></p><br><p>  Basta percorrer as fileiras para sentir como a temperatura do ar cai acentuadamente em cinco graus; voc√™ pode at√© sentir o limite de temperatura.  As juntas no piso elevado s√£o montadas com tanta for√ßa que o ar condicionado n√£o tem para onde ir, exceto pelo caminho especialmente fornecido para o resfriamento. </p><br><p>  No pr√≥prio servidor, a temperatura √© mantida em torno de 22 ¬± 2 graus Celsius.  No corredor "frio", a temperatura pode cair para 16 a 17 graus.  Havia dois corredores "frios" na pequena sala do servidor.  Por conseguinte, os corredores entre eles s√£o chamados de "quentes".  Eles s√£o um pouco mais quentes que a sala m√©dia do servidor - o ar passa pelos racks e esquenta do equipamento. </p><br><p><img src="https://habrastorage.org/webt/hs/pi/ng/hspingxyerxazig-io7lnhwzz9o.jpeg"></p><br><p>  Existem racks para aluguel aos clientes.  Os engenheiros conectam a energia - o cliente liga com o equipamento e faz o que quer, dentro da estrutura dos regulamentos e da legisla√ß√£o.  Os racks podem ser alugados de forma diferente.  At√© 47 unidades, meia, quatro se√ß√µes.  Eles s√£o fisicamente separados - bloqueios diferentes s√£o usados.  Voc√™ pode alugar apenas 10 unidades.  Quem tem muito pouco equipamento, isso ser√° suficiente.  Assim, menos energia - acaba mais barato. </p><br><p>  Se o cliente alugar, por exemplo, um "quarto" na se√ß√£o inferior e voc√™ precisar colocar o cabo, ele ser√° atra√≠do por um canal de metal especial.  E os clientes nas partes superiores do rack n√£o ter√£o acesso √†s comunica√ß√µes de outras pessoas de maneira alguma: nem √† energia, nem ao cobre, nem √† √≥ptica. </p><br><p>  Na sala do servidor existem aparelhos de ar condicionado no valor de tr√™s pe√ßas.  Apenas dois deles trabalham.  Se um ar condicionado for retirado para manuten√ß√£o ou se ocorrer uma avaria, os engenheiros ligam a reposi√ß√£o.  Esse estoque de reserva √© um requisito de especifica√ß√£o de N√≠vel III. </p><br><p>  Por exemplo, existem fontes de alimenta√ß√£o ininterruptas.  H√° um certo n√∫mero deles, suponha 12. Mas funciona 6. A sala do servidor pode funcionar por uma hora com baterias se a eletricidade parar de fluir para o data center.  Mas se seis UPSs quebrarem hipoteticamente, os engenheiros ligar√£o mais seis.  Sempre h√° o dobro de n√≥s no datacenter para confiabilidade. </p><br><p><img src="https://habrastorage.org/webt/ri/ev/ru/rievruepdxllxdc9ytdvkd3-tpi.jpeg"></p><br><p>  Esse data center do projeto pode consumir at√© 10 MW.  Mas agora h√° apenas 1,5.  At√© agora, apenas o quarto andar √© usado para o equipamento - o segundo e o terceiro na fase de constru√ß√£o.  E a quarta ainda n√£o est√° completamente cheia: foi projetada para 250 racks e est√£o ocupadas 200. H√° espa√ßo para crescer. </p><br><p>  No total, a Selectel usa 14,4 MW em todos os data centers.  Um rack em opera√ß√£o 1.200. </p><br><p><img src="https://habrastorage.org/webt/z_/_2/y1/z__2y1kzee3uadth2jag55jj-z0.jpeg"></p><br><p>  Al√©m dos racks principais, utilizados em diversos projetos, principalmente para aluguel para clientes, os racks de servi√ßo est√£o localizados nos racks para servidores, onde apenas o equipamento Selectel est√° instalado.  Existem racks transversais para conex√£o passiva.  Eles s√£o sem energia, apenas fibra √≥ptica - para conectar equipamentos entre plataformas e entre salas.  Cada sala do servidor tem o mesmo gabinete com cruzes.  Cross pode ir para outra sala, para outra sala de servidores no t√©rreo, assim que for constru√≠do, pode ir para um data center vizinho ou mesmo para um data center em Dubrovka. </p><br><p>  A empresa possui v√°rias dessas fibras.  Se um for interrompido, o datacenter come√ßar√° a trabalhar no outro sem uma pausa.  Todos os caminhos definidos s√£o sempre reservados. </p><br><p>  Se eles fizerem uma conex√£o entre este data center e o vizinho, os engenheiros conduzir√£o um link atrav√©s da cruz atrav√©s do ar entre os data centers, e o segundo link conduzir√° atrav√©s do esgoto atrav√©s de outra cruz.  E aconte√ßa o que acontecer, sempre haver√° um canal de backup. </p><br><p>  Como h√° muitos equipamentos no data center, os funcion√°rios monitoram rigorosamente a seguran√ßa contra inc√™ndio.  O data center tem v√°rios cen√°rios para lidar com inc√™ndios.  A Selectel possui extintores de inc√™ndio em todos os c√¥modos, tanto t√©cnicos quanto comerciais.  E as pessoas s√£o treinadas especificamente para trabalhar com elas.  Se o inc√™ndio for local, voc√™ pode lidar com isso sozinho. </p><br><p><img src="https://habrastorage.org/webt/v5/st/g1/v5stg1m9rpz4yflho9iyhuha-zq.jpeg"></p><br><p>  Mas se queima fortemente, por exemplo, a fonte de alimenta√ß√£o no servidor ou no circuito do compressor com √≥leo, os extintores nem sempre conseguem lidar.  Para esses casos, o data center possui uma esta√ß√£o de extin√ß√£o de inc√™ndio a g√°s.  Dela, tubos amarelos escorrem pelo teto em cada quarto. </p><br><p>  Em um inc√™ndio grave, todas as pessoas s√£o retiradas da sala do servidor.  Perto de cada porta h√° um bot√£o amarelo.  A porta se fecha firmemente, um bot√£o √© pressionado, uma contagem regressiva de 30 segundos √© fornecida.  O g√°s Hladon-125 √© fornecido - pentafluoroetano, f√≥rmula qu√≠mica C2F5H.  Inibe o processo de combust√£o - e o fogo para imediatamente.  Ao extinguir um inc√™ndio em um data center, nem l√≠quidos nem p√≥ s√£o usados ‚Äã‚Äãporque eles podem danificar o equipamento. </p><br><p>  Em uma grande sala de servidores, fomos proibidos de tirar fotos.  Porque vou contar de mem√≥ria o que eles viram.  No total, esse data center possui um servidor pequeno e dois grandes. </p><br><p>  A primeira grande sala de servidores possui um corredor "frio", feito para projetos Selectel e para aluguel de clientes.  √â muito mais longo do que em uma pequena sala de servidores.  Em algumas prateleiras, existem medidas de seguran√ßa individuais - em uma das prateleiras, notamos uma trava eletr√¥nica com um c√≥digo PIN e uma c√¢mera de v√≠deo na parte superior. </p><br><p>  Vimos como o servi√ßo de "concess√£o de espa√ßo alocado" √© visto de dentro.  Voc√™ pode comprar qualquer quadratura no site - √© claro, daquele que est√° dispon√≠vel.  E o cliente pode colocar racks e equipamentos que atendam aos padr√µes. </p><br><p>  Uma √°rea muito grande, que pertence a um cliente, foi examinada atrav√©s da cerca.  Havia prateleiras alem√£s sob encomenda especial.  H√° tamb√©m um pequeno armaz√©m separado. </p><br><p>  De acordo com as hist√≥rias de nosso guia, este servi√ßo n√£o √© necessariamente t√£o grande.  Voc√™ pode colocar duas prateleiras e cercar a gaiola.  E o acesso a eles estar√° apenas com voc√™.  Normalmente, esses requisitos surgem se for um banco ou um cliente que trabalha com institui√ß√µes financeiras. </p><br><p><img src="https://habrastorage.org/webt/od/lt/dw/odltdwywqfp4eqbtvhschnqhtki.jpeg"></p><br><p>  Examinamos as instala√ß√µes da esta√ß√£o de extin√ß√£o de inc√™ndio.  √â aqui que est√£o os cilindros com "Freon-125".  O equipamento est√° configurado para que, dependendo do tamanho, o g√°s de um determinado n√∫mero de cilindros seja enviado para cada sala. </p><br><p><img src="https://habrastorage.org/webt/up/l4/y8/upl4y8xlmufs25jj2mptybnguok.jpeg"></p><br><p>  √Ä esquerda, ao longo do corredor, h√° uma sala de pain√©is el√©tricos.  Mas n√£o temos acesso l√°, apenas no caso de eles n√£o fazerem excurs√µes. Caso contr√°rio, ser√° desconfort√°vel e o cheiro n√£o desaparecer√° por muito tempo. </p><br><p>  Existem fontes de alimenta√ß√£o e pain√©is ininterruptos.  √â nesta sala que chega a comida para todo o edif√≠cio.  E j√° a partir daqui h√° uma fia√ß√£o em todos os quartos.  Os barramentos v√£o para as salas dos servidores, que podem ser vistas sob o teto no corredor. </p><br><p>  Dois dutos de barramento s√£o enviados para cada servidor.  Um fica sob o teto, outro sob o piso elevado - √© assim que as condi√ß√µes da reserva s√£o atendidas.  Todo o edif√≠cio √© alimentado por dois raios de entrada da usina.  Se uma entrada for desconectada, o datacenter funcionar√° a partir da segunda. </p><br><p><img src="https://habrastorage.org/webt/v0/i8/xl/v0i8xllconwsx3tdvawghjabuby.jpeg"></p><br><p>  Se dois forem desconectados ao mesmo tempo, todo o equipamento passar√° para baterias recarreg√°veis.  750 baterias est√£o localizadas em uma sala especial.  Um pouco mais adiante, h√° outra sala do mesmo tipo - e h√° muitas outras.  O data center poder√° permanecer neles por 1 a 3 horas, dependendo da carga, mas leva apenas 2 minutos para mudar para um motor diesel. </p><br><p>  Em salas separadas, h√° grupos geradores a diesel gigantes.  Cada um fica em uma plataforma com cerca de um joelho - como eu entendi pelas explica√ß√µes, este √© um tanque separado com combust√≠vel para cada motor diesel.  Al√©m disso, no data center existem v√°rios tanques enterrados no subsolo e projetados para v√°rias dezenas de toneladas de combust√≠vel. </p><br><p>  √Ä medida que o combust√≠vel √© degradado, ele √© substitu√≠do periodicamente.  Se o combust√≠vel acabar no tanque de diesel, a bomba bombeia combust√≠vel dos tanques.  Se de repente ocorrer um inc√¥modo e a bomba quebrar, ainda haver√° um sobressalente. </p><br><p><img src="https://habrastorage.org/webt/wy/qk/b5/wyqkb5ukydrrvcoy0y993e187xc.jpeg"></p><br><p>  Absolutamente todos os sistemas s√£o duplicados - canais de comunica√ß√£o na Internet, refrigera√ß√£o, fonte de alimenta√ß√£o, sistemas de extin√ß√£o de inc√™ndio de emerg√™ncia e fonte de alimenta√ß√£o alternativa. </p><br><p>  Fizemos uma pergunta sobre operadoras de telecomunica√ß√µes.  O engenheiro da empresa disse que eles usam constantemente 5-6 operadores para uplinks.  E existem algumas rotas.  Al√©m disso, o provedor tem conex√µes com quase todos os pontos de troca de tr√°fego em S√£o Petersburgo e Moscou.  Em Moscou, o maior √© o M9.  E em S√£o Petersburgo - B18 e Kantemirovskaya. </p><br><p>  Se o combust√≠vel nos tanques subterr√¢neos chegar ao fim, outro tanque ser√° trazido.  Selectel tem contrato com uma empresa de combust√≠veis.  O data center pode viver infinitamente com diesel, √© apenas mais caro. </p><br><p>  Perguntamos como Selectel trabalha com o fator humano - porque √© ele quem √© o maior perigo, e nenhuma reserva ajudar√°. </p><br><p>  <em>- Como voc√™ trabalha com erros humanos?</em> </p><br><p>  <em>- Tentamos n√£o repeti-los.</em>  <em>Prevemos poss√≠veis erros.</em>  <em>Realizamos treinamento, exerc√≠cios.</em>  <em>Por exemplo, treinamento em mudar para um gerador a diesel: testamos pessoas, mudamos para diesel no processo, √†s vezes transferimos toda a carga para elas.</em>  <em>Al√©m disso, h√° uma base de conhecimento.</em> </p><br><p>  Chegamos ao VMware.  Em servidores em nuvem, apenas plataformas Intel s√£o usadas, SSD de 2 terabytes.  Naturalmente, a reserva √© apenas para tudo.  Por exemplo, vimos perto: em cada servidor, duas placas de rede, dois links est√£o presos em cada uma.  Um link vai para o switch que est√° no topo, outro link vai para o switch do pr√≥ximo rack.  S√£o usadas duas fontes de alimenta√ß√£o por m√≥dulo. </p><br><p><img src="https://habrastorage.org/webt/gi/yd/ln/giydlnddulqrqxsw24trqzcnx9q.jpeg"></p><br><p>  No centro de dados, existem principalmente racks CMO russos.  Nas mesas de clientes na √°rea alugada, existem solu√ß√µes diferentes. </p><br><p>  Um pouco mais adiante, no corredor, da segunda grande sala de servidores, vimos um elevador.  Existem dois elevadores para equipamentos de eleva√ß√£o - uma tonelada e duas toneladas.  A √°rea de carregamento √© feita separadamente - est√° localizada ao lado da sala de confer√™ncias no t√©rreo. </p><br><p><img src="https://habrastorage.org/webt/kw/uc/by/kwucbyaj-uxeigawf49v4l1g-zk.jpeg"></p><br><p>  Na sala do elevador, vimos uma caixa ‚Äúpequena‚Äù com um roteador Juniper MX 2010. O sonho de qualquer administrador: tr√™s fontes de alimenta√ß√£o CA, 1 m√≥dulo RE (mecanismo de roteamento): 1800x4 (CPU 1,8 GHz QuadCore, 16 GB RAM), 1 m√≥dulo SFB (Switch Fabric Board). </p><br><p>  Os colegas discutiram onde coloc√°-lo.  Decidimos que em casa ele ficaria melhor.  Ser√° poss√≠vel distribuir wi-fi para eletrodom√©sticos.  Pesado e s√≥lido - um roteador s√©rio para administradores s√©rios.  E quando voc√™ se cansar, poder√° vender e comprar um apartamento em uma cidade grande. </p><br><p><img src="https://habrastorage.org/webt/uc/ha/4a/ucha4am84wzciwjota9xqoj8qos.jpeg"></p><br><p><img src="https://habrastorage.org/webt/fv/qd/k3/fvqdk3xdfks4ybfbw-748e44tti.jpeg"></p><br><p><img src="https://habrastorage.org/webt/xy/as/hm/xyashmekkf4k4sxney9u3uaoc4g.jpeg"></p><br><p>  Existe um modelo ainda maior, mais poderoso e produtivo - o MX 2020. </p><br><p>  Como o roteador funciona?  M√≥dulos, cart√µes de linha s√£o inseridos nele - eles s√£o extraordinariamente altos e muito estreitos.  E essas placas de linha s√£o muito diferentes - elas podem ter 8, 24, 48 portas.  As portas podem ser "dezenas" e "cem".  Dependendo de quais s√£o suas necessidades e quais oportunidades financeiras. </p><br><p>  No MX 2020, existem 32 slots para placas de linha: 16 na parte superior e 16 na parte inferior.  E relativamente falando, se voc√™ inserir 10 placas de linha e cada uma tiver 48 portas, o resultado ser√° 480 portas.  Aderimos a "vinte e cinco" transceptores - e multiplicamos 480 portas por 25 gigabits.  Essa √© uma das op√ß√µes.  Voc√™ pode colocar "centenas". </p><br><p>  Quando deixaram as instala√ß√µes t√©cnicas, permaneceram um pouco no "ponto de lanches", onde os engenheiros da Selectel recuperavam a for√ßa √† noite.  Eles perguntaram se as m√°quinas de caf√© na categoria N√≠vel III foram duplicadas no data center.  Duas m√°quinas de caf√© em cada ponto - cada uma tem duas fontes de alimenta√ß√£o ... e assim por diante. </p><br><p><img src="https://habrastorage.org/webt/oh/0i/ui/oh0iuimcg6oyeaqchltpsbcsz50.jpeg"></p><br><p>  Igor Olemsky perguntou: </p><br><p> <em>‚Äî           -?</em> </p><br><p> <em>‚Äî    .    . ,  ,   ,   .   .        ‚Äî  , .  -    .      ,  .        ‚Äî   ,    ,  .</em> </p><br><p>    ,      DCIM (Data Center Infrastructure Management).  ,       -,      .   ,  , , , . </p><br><p>  ,     Selectel,       ‚Äî   ,       ,     : <em>" 6 -     40 000 "</em> . </p><br><p>     -  ‚Äî     ,      .   ,   ,    . </p><br><p><img src="https://habrastorage.org/webt/rh/sk/r1/rhskr1wkkrmeep1xomaquaqdj3e.jpeg"></p><br><p>   ,     .         ,     ,     -.  - ,       ,     . </p><br><p>       .  - ,     . </p><br><p><img src="https://habrastorage.org/webt/jx/gl/p9/jxglp9-yugaigfy4oalonk4mq9o.jpeg"></p><br><p><img src="https://habrastorage.org/webt/mh/wp/h6/mhwph6xsq_m6tstxj_lo3plfg7k.jpeg"></p><br><p>  ,  ,       -  .     . </p><br><p> <em>‚Äî  - ?</em> <br> <em>‚Äî  , ‚Äî    Selectel.</em> <br> <em>‚Äî  -  ,    .</em> <br> <em>‚Äî   .</em> <br> <em>‚Äî   .</em> </p><br><p>          . </p><br><p>         .      .  ,     ,           ,    .   ,  Selectel.        -. </p><br><p><img src="https://habrastorage.org/webt/vd/zl/ys/vdzlys2qwpw670sxo7crisn1_9q.jpeg"></p><br><p>     ,    Selectel     ,   : </p><br><p> <em>‚Äî    ,  ,     ?</em> <br> <em>‚Äî  .  , ‚Äî   .</em> </p><br><p>    ,  -    .   ,   ,  ,     8 .    .   - ,  Selectel  , ,  ,  ,    ,   . </p><br><p>       ,      .       ‚Äî    .   ,       -         .    .      .      ,      ,   .          .   . </p><br><p>      Selectel,       ‚Äî   ,      ,   ,      . ,   ,   -,      : , ,   . </p><br><p>   . </p><br><p> <em>‚Äî      ? , -            ? ,         ?</em> </p><br><p> <em>‚Äî  ,   ‚Äî    ,       .   ,      .</em> </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A julgar pelas respostas evasivas, o assunto do lobisomem Seltekelovsky √© coberto pela escurid√£o NDA. </font><font style="vertical-align: inherit;">Nunca descobrimos se ele existe, mas analisamos o data center por dentro.</font></font></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt467595/">https://habr.com/ru/post/pt467595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt467583/index.html">Gerente de licenciamento LMTOOLS. Listando licen√ßas para usu√°rios do produto Autodesk</a></li>
<li><a href="../pt467587/index.html">Todo o conte√∫do Wi-Fi √∫til em um s√≥ lugar</a></li>
<li><a href="../pt467589/index.html">O que voc√™ precisa saber sobre o GDPR em 2019</a></li>
<li><a href="../pt467591/index.html">A nova prova resolve a aproxima√ß√£o de n√∫meros como pi</a></li>
<li><a href="../pt467593/index.html">(N√£o relevante, reparado) Nota. Como a Tele2 compartilha o acesso √† conta pessoal de novos assinantes</a></li>
<li><a href="../pt467597/index.html">Personalizando as diretrizes de produtos de big data com o Vowpal Wabbit</a></li>
<li><a href="../pt467599/index.html">Renderiza√ß√£o de gr√°ficos 3D com OpenGL</a></li>
<li><a href="../pt467605/index.html">Tudo que voc√™ precisa √© de URL</a></li>
<li><a href="../pt467607/index.html">Confiss√£o do √≥dio dos estivadores</a></li>
<li><a href="../pt467609/index.html">Criando um aplicativo m√≥vel no React Native</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>