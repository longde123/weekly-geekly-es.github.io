<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚óæÔ∏è üêá üòô Una forma conveniente de probar componentes React üßóüèæ üî† üé∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Escrib√≠ un generador de informes personalizados para Jest y lo publiqu√© en GitHub . Mi constructor se llama Jest-snapshots-book, crea un libro HTML de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Una forma conveniente de probar componentes React</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421647/">  Escrib√≠ un generador de informes personalizados para Jest y lo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">publiqu√©</a> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> .  Mi constructor se llama Jest-snapshots-book, crea un libro HTML de instant√°neas de los componentes de una aplicaci√≥n React. <br><br><img src="https://habrastorage.org/webt/32/eu/rz/32eurzyx63oqbxjuy5vw8eo3-bu.png"><br><br>  El art√≠culo discutir√° qu√© es Jest, las pruebas de instant√°neas, que generalmente requieren un generador de informes adicional y c√≥mo escribirlas.  B√°sicamente, todo esto se aplica a las pruebas de los componentes React, pero en teor√≠a se puede aplicar cuando se trabaja con datos serializables. <br><a name="habracut"></a><br><h2>  Componente de reacci√≥n del paginador </h2><br>  Por ejemplo, en el art√≠culo <b>probaremos el</b> componente paginador ( <b>Paginator</b> ).  Es parte de nuestro proyecto para crear aplicaciones sin servidor en AWS ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> ).  La tarea de dicho componente es mostrar botones para navegar por las p√°ginas de una tabla u otra cosa. <br><br>  Este es un componente funcional simple sin componente sin estado (componente sin estado).  Como entrada, recibe de los accesorios el n√∫mero total de p√°ginas, la p√°gina actual y la funci√≥n del controlador de hacer clic en la p√°gina.  En la salida, el componente produce un paginador formado.  Para mostrar los botones, se usa otro componente de <b>bot√≥n</b> secundario.  Si hay muchas p√°ginas, el paginador no las muestra todas, las combina y las muestra en forma de puntos suspensivos. <br><br><img src="https://habrastorage.org/webt/9f/5m/ph/9f5mphp5a7hvkj0vmdgfcapz7ve.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de componente del paginador</b> <div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> classes <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Paginator.css'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../UI/Button/Button'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Paginator = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { tp, cp, pageClickHandler } = props; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> paginator = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tp !== <span class="hljs-literal"><span class="hljs-literal">undefined</span></span> &amp;&amp; tp &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> buttons = []; buttons.push( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag">`</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">pback</span></span></span></span><span class="xml"><span class="hljs-tag">`} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{cp</span></span></span></span><span class="xml"><span class="hljs-tag"> === </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">1}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clicked</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{(cp</span></span></span></span><span class="xml"><span class="hljs-tag"> === </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">1</span></span></span></span><span class="xml"><span class="hljs-tag"> ? </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">null</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> pageClickHandler(event, 'back'))}&gt; ‚Üê </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isDots = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i, tp, cp</span></span></span><span class="hljs-function">) =&gt;</span></span> i &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; i &lt; tp &amp;&amp; (i &gt; cp + <span class="hljs-number"><span class="hljs-number">1</span></span> || i &lt; cp - <span class="hljs-number"><span class="hljs-number">1</span></span>) &amp;&amp; (cp &gt; <span class="hljs-number"><span class="hljs-number">4</span></span> || i &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>) &amp;&amp; (cp &lt; tp - <span class="hljs-number"><span class="hljs-number">3</span></span> || i &lt; tp - <span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> flag; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= tp; i++) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dots = isDots(i, tp, cp) &amp;&amp; (isDots(i - <span class="hljs-number"><span class="hljs-number">1</span></span>, tp, cp) || isDots(i + <span class="hljs-number"><span class="hljs-number">1</span></span>, tp, cp)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flag &amp;&amp; dots) { flag = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; buttons.push( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag">`</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">p</span></span></span></span><span class="xml"><span class="hljs-tag">${</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">}`} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{classes.Dots}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ... </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!dots) { flag = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; buttons.push( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag">`</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">p</span></span></span></span><span class="xml"><span class="hljs-tag">${</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">}`} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{i</span></span></span></span><span class="xml"><span class="hljs-tag"> === </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">cp}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clicked</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{(i</span></span></span></span><span class="xml"><span class="hljs-tag"> === </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">cp</span></span></span></span><span class="xml"><span class="hljs-tag"> ? </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">null</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> pageClickHandler(event, i))}&gt; {i} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } } buttons.push( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag">`</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">pforward</span></span></span></span><span class="xml"><span class="hljs-tag">`} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{cp</span></span></span></span><span class="xml"><span class="hljs-tag"> === </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">tp}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">clicked</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{(cp</span></span></span></span><span class="xml"><span class="hljs-tag"> === </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">tp</span></span></span></span><span class="xml"><span class="hljs-tag"> ? </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">null</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">event</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> pageClickHandler(event, 'forward'))}&gt; ‚Üí </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); paginator = <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{classes.Paginator}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {buttons} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> paginator; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Paginator;</code> </pre> </div></div><div class="spoiler">  <b class="spoiler_title">C√≥digo de componente de bot√≥n</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> classes <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Button.css'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> button = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{props.disabled}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{classes.Button</span></span></span></span><span class="xml"><span class="hljs-tag"> + (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">props.className</span></span></span></span><span class="xml"><span class="hljs-tag"> ? ' ' + </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">props.className</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> '')} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{props.clicked}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {props.children} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> button;</code> </pre> </div></div><br><h2>  Broma </h2><br>  Jest es una biblioteca de c√≥digo abierto bien conocida para la prueba unitaria del c√≥digo JavaScript.  Fue creado y desarrollado gracias a Facebook.  Escrito en Node.js. <br><br>  En t√©rminos generales, el significado de las pruebas se reduce al hecho de que necesita encontrar par√°metros de entrada para su c√≥digo e inmediatamente describir la salida que debe producir su c√≥digo.  Al realizar pruebas, Jest ejecuta su c√≥digo con par√°metros de entrada y compara el resultado con el esperado.  Si coincide, la prueba pasar√°, y si no, no pasar√°. <br><br>  Un peque√±o ejemplo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">jestjs.io</a> . <br><br>  Supongamos que tenemos un m√≥dulo Node.js, que es una funci√≥n que agrega dos n√∫meros (archivo <b>sum.js</b> ): <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + b; } <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = sum;</code> </pre> <br>  Si nuestro m√≥dulo se guarda en un archivo, para probarlo, necesitamos crear el archivo <b>sum.test.js</b> en el que escribir dicho c√≥digo para probar: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sum = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./sum'</span></span>); test(<span class="hljs-string"><span class="hljs-string">'adds 1 + 2 to equal 3'</span></span>, () =&gt; { expect(sum(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)).toBe(<span class="hljs-number"><span class="hljs-number">3</span></span>); });</code> </pre> <br>  En este ejemplo, usando la funci√≥n de <b>prueba</b> , creamos una prueba llamada <b>'agrega 1 + 2 para igualar 3'</b> .  El segundo par√°metro para la funci√≥n de <b>prueba</b> , pasamos una funci√≥n que realmente realiza la prueba. <br><br>  La prueba consiste en el hecho de que ejecutamos nuestra funci√≥n de <b>suma</b> con los par√°metros de entrada <b>1</b> y <b>2</b> , pasamos el resultado a la funci√≥n Jest <b>expect ()</b> .  Luego, utilizando la funci√≥n Jest <b>toBe ()</b> , el resultado transmitido se compara con el esperado ( <b>3</b> ).  La funci√≥n <b>toBe ()</b> pertenece a la categor√≠a de funciones de prueba Jest (matchers). <br><br>  Para la prueba, simplemente vaya a la carpeta del proyecto y llame a <b>broma</b> en la l√≠nea de comando.  Jest encontrar√° el archivo con la extensi√≥n <b>.test.js</b> y ejecutar√° la prueba.  Aqu√≠ est√° el resultado que dar√° a conocer: <br><br><pre> <code class="bash hljs">PASS ./sum.test.js ‚úì adds 1 + 2 to equal 3 (5ms)</code> </pre> <br><h2>  Pruebas de componentes y enzimas. </h2><br>  La prueba de instant√°neas es una caracter√≠stica relativamente nueva en Jest.  El punto es que con la ayuda de una funci√≥n de prueba especial, le pedimos a Jest que guarde una instant√°nea de nuestra estructura de datos en el disco, y durante las ejecuciones de prueba posteriores, compare nuevas instant√°neas con las guardadas previamente. <br><br>  La instant√°nea en este caso no es m√°s que una representaci√≥n textual de los datos.  Por ejemplo, una instant√°nea de alg√∫n objeto se ver√° as√≠ (la clave de matriz aqu√≠ es el nombre de la prueba): <br><br><pre> <code class="javascript hljs">exports[<span class="hljs-string"><span class="hljs-string">`some test name`</span></span>] = <span class="hljs-string"><span class="hljs-string">` Object { "Hello": "world" } `</span></span>;</code> </pre> <br>  As√≠ es como se ve la funci√≥n de prueba de Jest, que realiza la comparaci√≥n de im√°genes (par√°metros opcionales): <br><br><pre> <code class="javascript hljs">expect(value).toMatchSnapshot(propertyMatchers, snapshotName)</code> </pre> <br>  El <b>valor</b> puede ser cualquier estructura de datos serializable.  Por primera vez, la funci√≥n <b>toMatchSnapshot ()</b> simplemente escribe la instant√°nea en el disco; en tiempos posteriores, ya realizar√° la comparaci√≥n. <br><br>  Muy a menudo, esta tecnolog√≠a de prueba se usa espec√≠ficamente para probar componentes React, y a√∫n m√°s precisamente, para probar la representaci√≥n correcta de los componentes React.  Para hacer esto, debe pasar el componente como <b>valor</b> despu√©s de la representaci√≥n. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Enzyme</a> es una biblioteca que simplifica enormemente las pruebas de las aplicaciones React al proporcionar pr√°cticas funciones de representaci√≥n de componentes.  Enzyme se desarrolla en Airbnb. <br><br>  Enzyme le permite renderizar componentes en c√≥digo.  Hay varias funciones convenientes para esto que realizan diferentes opciones de representaci√≥n: <br><br><ul><li>  representaci√≥n completa (como en el navegador, representaci√≥n completa del DOM); </li><li>  renderizado simplificado (renderizado superficial); </li><li>  representaci√≥n est√°tica </li></ul><br>  No profundizaremos en las opciones de representaci√≥n, para la prueba de instant√°neas, la representaci√≥n est√°tica es suficiente, lo que le permite obtener un c√≥digo HTML est√°tico del componente y sus componentes secundarios: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> wrapper = render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Foo</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"unique"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">);</span></span></code> </pre> <br>  Entonces, representamos nuestro componente y pasamos el resultado a <b>expect ()</b> , y luego llamamos a la funci√≥n <b>.toMatchSnapshot ()</b> .  La funci√≥n <b>it</b> es solo una abreviatura de la funci√≥n de <b>prueba</b> . <br><br><pre> <code class="javascript hljs">... const wrapper = render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Paginator</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">tp</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{tp}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cp</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{cp}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">); it(`Total = ${tp}, Current = ${cp}`, () =&gt; { expect(wrapper).toMatchSnapshot(); }); ...</span></span></code> </pre> <br>  Cada vez que se <b>ejecuta</b> la prueba <b>, toMatchSnapshot ()</b> compara dos instant√°neas: <u>esperada</u> (que se escribi√≥ previamente en el disco) y <u>actual</u> (que se obtuvo durante la prueba actual). <br><br>  Si las im√°genes son id√©nticas, la prueba se considera aprobada.  Si hay una diferencia en las im√°genes, la prueba se considera no aprobada y se muestra al usuario la diferencia entre las dos im√°genes en forma de diferencias (como en los sistemas de control de versiones). <br><br>  Aqu√≠ hay un ejemplo de salida de Jest cuando la prueba falla.  Aqu√≠ vemos que tenemos un bot√≥n adicional en la imagen actual. <br><br><img src="https://habrastorage.org/webt/e2/3j/z1/e23jz1uhhisouenvdsl-64gsz3y.jpeg"><br><br>  En esta situaci√≥n, el usuario debe decidir qu√© hacer.  Si se planean cambios en la instant√°nea debido a cambios en el c√≥digo del componente, entonces debe sobrescribir la instant√°nea anterior con una nueva.  Y si los cambios son inesperados, entonces debe buscar un problema en su c√≥digo. <br><br>  <b>Dar√©</b> un ejemplo completo para probar un paginador (archivo <b>Paginator.test.js</b> ). <br><br>  Para una prueba de paginador m√°s conveniente, cre√© una funci√≥n de <b>instant√°nea (tp, cp)</b> que tomar√° dos par√°metros: el n√∫mero total de p√°ginas y la p√°gina actual.  Esta funci√≥n realizar√° una prueba con los par√°metros dados.  Todo lo que queda es llamar a la funci√≥n <b>snapshoot ()</b> con varios par√°metros (incluso en un bucle) y probar, probar ... <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { configure, render } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'enzyme'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Adapter <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'enzyme-adapter-react-16'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Paginator <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Paginator'</span></span>; configure({ <span class="hljs-attr"><span class="hljs-attr">adapter</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Adapter() }); describe(<span class="hljs-string"><span class="hljs-string">'Paginator'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> snapshoot = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">tp, cp</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> wrapper = render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Paginator</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">tp</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{tp}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cp</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{cp}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">); it(`Total = ${tp}, Current = ${cp}`, () =&gt; { expect(wrapper).toMatchSnapshot(); }); } snapshoot(0, 0); snapshoot(1, -1); snapshoot(1, 1); snapshoot(2, 2); snapshoot(3, 1); for (let cp = 1; cp </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cp</span></span></span></span><span class="xml"><span class="hljs-tag">++) { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">snapshoot</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cp</span></span></span></span><span class="xml"><span class="hljs-tag">); } });</span></span></span></span></code> </pre> <br><h2>  ¬øPor qu√© necesitaba un generador de informes adicional? </h2><br>  Cuando comenc√© a trabajar con esta tecnolog√≠a de prueba, la sensaci√≥n de un enfoque inicial inacabado no me dej√≥.  Despu√©s de todo, las im√°genes solo se pueden ver como texto. <br><br>  Pero, ¬øqu√© pasa si alg√∫n componente produce mucho c√≥digo HTML al renderizar?  Aqu√≠ hay un componente de paginador de 3 botones.  Una instant√°nea de dicho componente se ver√° as√≠: <br><br><pre> <code class="javascript hljs">exports[<span class="hljs-string"><span class="hljs-string">`Paginator Total = 1, Current = -1 1`</span></span>] = <span class="hljs-string"><span class="hljs-string">` &lt;div class="Paginator" &gt; &lt;button class="Button" &gt; ‚Üê &lt;/button&gt; &lt;button class="Button" &gt; 1 &lt;/button&gt; &lt;button class="Button" &gt; ‚Üí &lt;/button&gt; &lt;/div&gt; `</span></span>;</code> </pre><br>  Primero debe asegurarse de que la versi√≥n original del componente se represente correctamente.  No es muy conveniente hacer esto simplemente viendo el c√≥digo HTML en forma de texto.  Pero estos son solo tres botones.  ¬øY si necesita probar, por ejemplo, una mesa o algo a√∫n m√°s voluminoso?  Adem√°s, para realizar una prueba completa, debe ver muchas im√°genes.  Ser√° bastante inc√≥modo y dif√≠cil. <br><br>  Luego, si la prueba falla, debe comprender c√≥mo difiere la apariencia de los componentes.  La diferencia de su c√≥digo HTML, por supuesto, le permitir√° comprender lo que ha cambiado, pero nuevamente, la oportunidad de ver personalmente la diferencia no ser√° superflua. <br><br>  En general, pens√© que ser√≠a necesario para que las im√°genes pudieran verse en el navegador de la misma forma que se ven en la aplicaci√≥n.  Incluyendo con estilos aplicados a ellos.  As√≠ que tuve la idea de mejorar el proceso de prueba de instant√°neas escribiendo un generador de informes adicional para Jest. <br><br>  Mirando hacia adelante, eso es lo que tengo.  Cada vez que ejecuto las pruebas, mi constructor actualiza el libro de instant√°neas.  Directamente en el navegador, puede ver los componentes tal como se ven en la aplicaci√≥n, as√≠ como tambi√©n mirar inmediatamente el c√≥digo fuente de las im√°genes y diff (si la prueba falla). <br><br><img src="https://habrastorage.org/webt/vp/pu/kk/vppukk7dddohnzz29gtrkylhsxi.gif"><br><br><h2>  Jest Report Builders </h2><br>  Los creadores de Jest han brindado la oportunidad de escribir creadores de informes adicionales.  Esto se hace de la siguiente manera.  Debe escribir un m√≥dulo en Node.JS que debe tener uno o m√°s de estos m√©todos: <b>onRunStart</b> , <b>onTestStart</b> , <b>onTestResult</b> , <b>onRunComplete</b> , que corresponden a varios eventos de progreso de prueba. <br><br>  Entonces necesitas conectar tu m√≥dulo en la configuraci√≥n de Jest.  Hay una directiva especial para <b>periodistas</b> para esto.  Si desea incluir su constructor adem√°s, debe agregarlo al final de la matriz de <b>reporteros</b> . <br><br>  Despu√©s de eso, Jest llamar√° a los m√©todos de su m√≥dulo en ciertas etapas de la ejecuci√≥n de la prueba, pasando los resultados actuales a los m√©todos.  El c√≥digo en estos m√©todos, de hecho, deber√≠a crear informes adicionales que necesita.  Entonces, en t√©rminos generales, se ve la creaci√≥n de creadores de informes adicionales. <br><br><h2>  C√≥mo funciona Jest-snapshots-book </h2><br>  No inserto espec√≠ficamente el c√≥digo del m√≥dulo en el art√≠culo, ya que lo mejorar√© a√∫n m√°s.  Se puede encontrar en mi GitHub, este es el <a href="">archivo src / index.js</a> en la p√°gina del proyecto. <br><br>  Se llama a mi creador de informes al finalizar las pruebas.  Puse el c√≥digo en el <b>m√©todo onRunComplete (contextos, resultados)</b> .  Funciona de la siguiente manera. <br><br>  En la propiedad <b>results.testResults</b> , Jest pasa una matriz de resultados de prueba a esta funci√≥n.  Cada resultado de la prueba incluye una ruta al archivo de prueba y una matriz de mensajes con los resultados.  Mi generador de informes busca cada archivo de prueba con un archivo de instant√°nea correspondiente.  Si se detecta un archivo de instant√°nea, el generador de informes crea una p√°gina HTML en el libro de instant√°neas y lo escribe en la carpeta del libro de instant√°neas en la carpeta ra√≠z del proyecto. <br><br>  Para generar una p√°gina HTML, el generador de informes, utilizando la funci√≥n recursiva <b>grabCSS (moduleName, css = [], level = 0),</b> recopila todos los estilos, comenzando desde el componente bajo prueba y m√°s abajo en el √°rbol de todos los componentes que importa.  Por lo tanto, la funci√≥n recopila todos los estilos necesarios para que el componente se muestre correctamente.  Los estilos recopilados se agregan a la p√°gina HTML del libro de instant√°neas. <br><br>  Utilizo m√≥dulos CSS en mis proyectos, as√≠ que no estoy seguro de si esto funcionar√° si no se utilizan m√≥dulos CSS. <br><br>  Si la prueba pasa, el constructor inserta un iFrame en la p√°gina HTML con la imagen en dos opciones de visualizaci√≥n: el c√≥digo fuente (la imagen tal como es) y el componente despu√©s de la representaci√≥n.  La opci√≥n de visualizaci√≥n en iFrame se cambia haciendo clic con el mouse. <br><br>  Si no se pas√≥ la prueba, entonces todo es m√°s complicado.  Jest proporciona en este caso solo el mensaje que muestra en la consola (vea la captura de pantalla anterior). <br><br>  Contiene diferencias e informaci√≥n adicional sobre la prueba fallida.  De hecho, en este caso, estamos tratando esencialmente con dos im√°genes: la <u>esperada</u> y la <u>real</u> .  Si tenemos el esperado: se almacena en el disco en la carpeta de instant√°neas, entonces la instant√°nea Jest actual no proporciona. <br><br>  Por lo tanto, tuve que escribir el c√≥digo que aplica la diferencia Jest tomada del mensaje a la instant√°nea esperada y crea una instant√°nea real basada en la esperada.  Despu√©s de eso, el constructor muestra junto al iFrame la instant√°nea de iFrame esperada de la instant√°nea actual, que puede cambiar su contenido entre tres opciones: el c√≥digo fuente, el componente despu√©s de la representaci√≥n, diff. <br><br>  As√≠ es como se ve el resultado del generador de informes si configura la opci√≥n verbose = true para √©l. <br><br><img src="https://habrastorage.org/webt/qz/pd/4h/qzpd4hduqakenbx8vjhonggjgso.jpeg"><br><br><h2>  Enlaces utiles </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Libro de instant√°neas de broma</a> </li><li>  <a href="">C√≥digo fuente del m√≥dulo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Opciones de renderizado de enzimas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Prueba de instant√°nea</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Directiva de configuraci√≥n de Reporteros Jest</a> </li></ul><br><h2>  PS </h2><br>  La prueba de instant√°neas no es suficiente para probar completamente una aplicaci√≥n React.  Solo cubre la representaci√≥n de sus componentes.  Tambi√©n es necesario probar su funcionamiento (reacciones a las acciones del usuario, por ejemplo).  Sin embargo, la prueba de instant√°neas es una forma muy conveniente de asegurarse de que sus componentes se procesen seg√∫n lo previsto.  Y jest-snapshots-book hace que el proceso sea un poco m√°s f√°cil. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es421647/">https://habr.com/ru/post/es421647/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es421631/index.html">Analice el port√°til Lenovo ThinkPad X1 Carbon (2018): ligero, c√≥modo y potente</a></li>
<li><a href="../es421633/index.html">C√≥mo hacer un est√°ndar en 10 d√≠as</a></li>
<li><a href="../es421637/index.html">Reloj para ni√±os con GPS antes del 1 de septiembre: a qu√© puede prestar atenci√≥n</a></li>
<li><a href="../es421639/index.html">Laptop Jumper EZBook X4 chino: teclado retroiluminado y la nueva plataforma Gemini Lake</a></li>
<li><a href="../es421643/index.html">Craft - a la biblioteca</a></li>
<li><a href="../es421649/index.html">‚ÄúTop 3D Expo. Educaci√≥n digital 2018 ‚Äù21 de septiembre en el Technopolis Mosc√∫</a></li>
<li><a href="../es421653/index.html">Descripci√≥n general y dispositivo de medidores de electricidad modernos</a></li>
<li><a href="../es421655/index.html">Ingenieros de Jetpack: Alexander Fedorovich Andreev</a></li>
<li><a href="../es421657/index.html">Crecimiento continuo JSON</a></li>
<li><a href="../es421659/index.html">C√≥mo Microsoft olvid√≥ la mitad del mundo o ley√≥ mensajes de error</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>