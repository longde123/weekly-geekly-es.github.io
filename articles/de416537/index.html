<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙌🏻 😲 🆒 Workshops bei Wireshark ♒️ 👩🏻‍🤝‍👨🏾 👼🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Julia Evans, die Autorin des Materials, das wir heute veröffentlichen, hat beschlossen, über eines ihrer bevorzugten Netzwerk-Tools namens Wireshark z...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Workshops bei Wireshark</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/416537/">  Julia Evans, die Autorin des Materials, das wir heute veröffentlichen, hat beschlossen, über eines ihrer bevorzugten Netzwerk-Tools namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wireshark</a> zu sprechen.  Dies ist ein leistungsstarkes und komplexes Programm, das mit einer grafischen Oberfläche ausgestattet ist, um den Verkehr in Computernetzwerken zu analysieren.  Julia sagt, dass sie in der Praxis nur einige der Funktionen von Wireshark verwendet, aber diese sind normalerweise nützlich.  Hier möchte sie mit allen teilen, die eine Geschichte über die nützlichsten Methoden der Arbeit mit dem Programm wünschen, und hofft, dass sie nicht nur für sie, sondern auch für alle nützlich sind, die Netzwerkprobleme lösen müssen. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/rz/ag/uw/rzaguwsi5logcjjqkre-sglko0o.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Installieren Sie Wireshark</font> </h2><br>  Wireshark-Distributionen für verschiedene Betriebssysteme finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Um das Programm zu installieren, können Sie die entsprechende Datei herunterladen und installieren.  Wenn Sie Linux-Distributionen verwenden, die auf Debian basieren, können Sie <code>sudo apt install wireshark</code> Befehl <code>sudo apt install wireshark</code> .  Wenn Sie die neueste Version des Programms finden möchten, können Sie sich auf das persönliche Archiv der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wireshark-dev-</a> Pakete beziehen. <br><br>  So sieht die Programmoberfläche aus. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/485/d33/40c/485d3340cca2688b2d8460c7263b1d31.png"></div><br>  <i><font color="#999999">Wireshark-Schnittstelle</font></i> <br><br>  Auf den ersten Blick mag dies alles zu kompliziert erscheinen: eine lange Liste von Paketen, ein mysteriöses Feld für die Eingabe von Anfragen ... Wie arbeite ich mit Wireshark? <br><br><h2>  <font color="#3AC1EF">Analyse von PCAP-Dateien</font> </h2><br>  Normalerweise benutze ich Wireshark, um die Ursachen von Netzwerkproblemen herauszufinden.  Die Abfolge der Aktionen, die zur Lösung solcher Probleme ausgeführt werden, sieht folgendermaßen aus: <br><br><ol><li>  Erfassen Sie Pakete mit <code>tcpdump</code> (normalerweise mit einem Befehl wie <code>sudo tcpdump port 443 -w output.pcap</code> ). </li><li>  Kopieren der pcap-Datei auf einen funktionierenden Laptop ( <code>scp host:~/output.pcap .</code> ). </li><li>  Öffnen einer pcap-Datei mit Wireshark ( <code>wireshark output.pcap</code> ). </li></ol><br>  Wie Sie sehen können, ist alles sehr einfach.  Nachdem die pcap-Datei im Programm geöffnet wurde, haben Sie möglicherweise eine logische Frage, was Sie mit all dem tun sollen.  Reden wir darüber. <br><br><h2>  <font color="#3AC1EF">TCP-Verbindungsanalyse</font> </h2><br>  Wenn ich eine bestimmte Situation in Wireshark analysiere, muss ich häufig eine bestimmte TCP-Verbindung überprüfen, mit der aus irgendeinem Grund etwas nicht stimmt.  Dank Wireshark können Sie den gesamten Lebenszyklus einer einzelnen TCP-Verbindung analysieren und die Ursachen für falsches Systemverhalten herausfinden. <br><br>  Klicken Sie dazu mit der rechten Maustaste auf das gewünschte Paket und wählen Sie im Kontextmenü den Befehl <code>Conversation filter &gt; TCP</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a9a/1ce/e15/a9a1cee15deb7869196dc71cee5800af.png"></div><br>  <i><font color="#999999">Starten Sie die TCP-Verbindungsanalyse</font></i> <br><br>  Danach zeigt Wireshark andere Pakete von derselben TCP-Verbindung an, zu der das Paket gehört, auf das Sie geklickt haben.  In der folgenden Abbildung sehen Sie ein Beispiel für eine erfolgreiche SSL-Verbindung: Es gibt <code>client hello</code> , <code>service hello</code> , <code>certificate</code> und <code>server key exchange</code> , die zum Herstellen von SSL-Verbindungen verwendet werden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/53e/bfc/ae9/53ebfcae9417574c6423124725e6a373.png"></div><br>  <i><font color="#999999">TCP-Verbindungsanalyse</font></i> <br><br>  Die hier beschriebene TCP-Paketanalysetechnik musste ich an dem Tag anwenden, an dem dieser Artikel bei der Arbeit geschrieben wurde.  Einige Verbindungen wurden getrennt, und ich bemerkte, dass der <code>client hello</code> nach dem Senden des <code>client hello</code> Pakets das <code>FIN ACK</code> Paket gesendet hat, wodurch die TLS-Verbindung beendet wurde.  Was ich herausfinden konnte, erwies sich als nützlich, da klar wurde, dass der Client und nicht der Server die Verbindung beendeten.  Infolgedessen stellte ich sofort fest, dass das Problem beim Kunden liegt, und ich muss darauf achten. <br><br>  Das Obige ist ein für mich sehr typisches Schema für die Arbeit mit Wireshark.  Normalerweise sind Client und Server an der Verbindung beteiligt, und entweder auf dem Client oder auf dem Server ist ein Fehler aufgetreten.  Dies kann beispielsweise ein Fehler in den Systemeinstellungen sein.  Infolgedessen bietet uns Wireshark eine unschätzbare Hilfe bei der Identifizierung des Täters der Probleme und hilft herauszufinden, ob es sich um einen Client oder einen Server handelt. <br><br><h2>  <font color="#3AC1EF">Als Team dekodieren</font> </h2><br>  Um zu verstehen, was genau ein bestimmtes Paket ist, verwendet Wireshark Portnummern, und dieser Ansatz funktioniert normalerweise.  Wenn ein Programm beispielsweise Datenverkehr auf Port 80 sieht, entscheidet es, dass es sich um HTTP-Datenverkehr handelt, und normalerweise ist dies der Fall. <br><br>  Manchmal verwenden HTTP-Verbindungen jedoch ungewöhnliche Ports. Daher benötigt Wireshark Hinweise, um sie zu erkennen.  Solche Hinweise können dem Programm gegeben werden, indem das Paketkontextmenü aufgerufen und dort der Befehl <code>Decode as</code> .  Außerdem können Sie Wireshark mitteilen, welches Protokoll zum Übertragen von Paketen über einen bestimmten Port verwendet wird.  Diese Hinweise vereinfachen die Datenanalyse. <br><br><h2>  <font color="#3AC1EF">Paketinhalt anzeigen</font> </h2><br>  In Wireshark gibt es einfach einen reizvollen Modus zum Anzeigen detaillierter Informationen zu einem Paket, mit dem Sie den Inhalt jedes Pakets verstehen können.  Nehmen Sie zum Beispiel das Paket mit der <code>client hello</code> Nachricht aus dem vorherigen Beispiel.  Dies ist das erste Paket der SSL-Verbindung, der Client mit seiner Hilfe sagt: „Hallo!  Hier bin ich! " <br><br>  Wireshark bietet dem Netzwerkadministrator zwei unglaublich nützliche Tools zum Überprüfen des Paketinhalts.  Der erste ist ein Anzeigemodus, in dem Sie die für das Paket verfügbaren Header (z. B. Ethernet-Header, IP-Header, TCP-Header) erweitern und deren Inhalt anzeigen können. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a2f/990/77a/a2f99077a2e3cdb10652ad3a387103f0.png"></div><br>  <i><font color="#999999">Paket-Header-Analyse</font></i> <br><br>  Die zweite Art, Pakete anzuzeigen, ist ein echtes Wunder.  Hier sehen Sie die Rohpaketdaten als eine Folge von Bytes.  Und was besonders schön ist, wenn Sie mit der Maus über ein Byte fahren (in der folgenden Abbildung befindet sich der Cursor beispielsweise auf dem in <code>tiles.services.mozilla.com</code> enthaltenen <code>tiles.services.mozilla.com</code> ), zeigt <code>tiles.services.mozilla.com</code> das Programm in der Statusleiste an, zu welchem ​​Feld es gehört dieses Byte (in diesem Fall das Feld <code>ssl.handshake.extensions_server_name</code> ) und den von Wireshark für dieses Feld verwendeten Codenamen (in diesem Fall - <code>ssl.handshake.extensions_server_name</code> ) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d50/6e8/b35/d506e8b3512c273fd66a94796230f4e5.png"></div><br>  <i><font color="#999999">Rohpaketdatenanalyse</font></i> <br><br><h2>  <font color="#3AC1EF">Paketsuche</font> </h2><br>  Wireshark unterstützt eine leistungsstarke Abfragesprache.  Dies vereinfacht die Suche nach bestimmten Paketen in Listen erheblich.  Normalerweise verwende ich bei der Arbeit mit einem Programm sehr einfache Abfragen.  Hier einige Beispiele: <br><br><ul><li>  Der <code>frame contains "mozilla"</code> -Abfrage, mit der Sie an einer beliebigen Stelle im Paket nach der <code>mozilla</code> Zeile suchen und die gefundenen Pakete auflisten können. </li><li>  Die <code>tcp.port == 443</code> zeigt Pakete an, die den TCP-Port 443 verwenden. </li><li>  Die Abfrage <code>dns.resp.len &gt; 0</code> zeigt alle DNS-Antworten an </li><li>  Die <code>ip.addr == 52.7.23.87</code> zeigt Pakete an, deren Quell- oder Ziel-IP-Adresse 52.7.23.87 lautet. </li></ul><br>  Die Wireshark-Abfragesprache verfügt über wesentlich größere Funktionen als die Abfragesprache <code>tcpdump</code> (und unterstützt außerdem die automatische Vervollständigung durch Drücken der TAB-Taste).  Infolgedessen verwende ich häufig die folgende Abfolge von Aktionen: Ich erfasse eine große Menge von Paketen mit <code>tcpdump</code> (etwa alle Pakete von Port 443) und untersuche sie dann sorgfältig mit Wireshark. <br><br><h2>  <font color="#3AC1EF">Details zur Dauer der TCP-Verbindung anzeigen</font> </h2><br>  Manchmal muss ich besonders auf das Studium langsamer TCP-Verbindungen achten.  Wie geht das, vorausgesetzt, meine Datei enthält Aufzeichnungen von Tausenden von Paketen?  Wie finde ich langsame TCP-Verbindungen? <br><br>  Wenn Sie im Hauptmenü des Programms <code>Statistics</code> und im Befehl <code>Conversations</code> Option <code>Statistics</code> auswählen, stellt Wireshark uns wunderbare statistische Informationen zur Verfügung. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e1a/477/968/e1a477968ed8e4473600709d927efe58.png"></div><br>  <i><font color="#999999">Statistische Informationen</font></i> <br><br>  Insbesondere können Sie hier in der Spalte Dauer die Dauer von TCP-Verbindungen anzeigen, die längste von ihnen identifizieren und sie sorgfältig untersuchen.  Dies ist eine sehr nützliche Funktion. <br><br><h2>  <font color="#3AC1EF">Wireshark Update</font> </h2><br>  Wenn Sie Wireshark schon lange nicht mehr aktualisiert haben, lohnt es sich, dies zu tun.  Zum Beispiel habe ich kürzlich auf einem funktionierenden Laptop nach HTTP / 2-Paketen gesucht.  Damals war es nicht einfach für mich und ich beschloss, mir die Dokumentation anzusehen.  Wie sich herausstellte, hatte ich eine alte Version des Programms.  In dem von mir installierten Update wurde die HTTP / 2-Unterstützung erheblich verbessert, dh es gab genau das, was ich damals brauchte. <br><br><h2>  <font color="#3AC1EF">Verwenden von Wireshark zum Erlernen von Netzwerkprotokollen</font> </h2><br>  Dieser Artikel enthält einige Begriffe, die auf die Fachsprache der Netzwerkspezialisten zurückgeführt werden können.  Beispiel: Frame, TCP-Port (TCP-Port), DNS-Antwort (DNS-Antwort), Quell-IP-Adresse (Quell-IP-Adresse), <code>client hello</code> Paket-SSL-Verbindungen (SSL-Client-Hallo).  Einer der Gründe für ihre Verwendung ist die Tatsache, dass Wireshark definitiv nicht versucht, den Benutzer vor den Komplikationen der internen Struktur von Netzwerktechnologien zu schützen.  Für einen Anfänger kann dieser Zustand zunächst den Eindruck erwecken, dass Wireshark kein Programm für ihn ist, sondern nur für erfahrene Netzwerkspezialisten. <br><br>  Wiresharks Fokus auf Low-Level-Netzwerkmechanismen hat jedoch ein großes Plus.  Tatsache ist, dass Sie mit diesem Programm etwas Neues über Netzwerkprotokolle lernen können.  Zum Beispiel weiß ich nicht viel über die internen Mechanismen des TLS / SSL-Protokolls.  Bei der Analyse des Datenverkehrs in Wireshark stellte ich jedoch fest, dass die ersten beiden Pakete der SSL-Verbindung <code>client hello</code> und <code>server hello</code> .  Infolgedessen nimmt das Protokoll, das, wenn man sich nicht mit den Details seiner Arbeit befasst, mysteriös und für das Verständnis unzugänglich erscheint, eine verständlichere Form an und wird zu etwas, das verstanden und analysiert werden kann. <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  Wireshark hat enorme Chancen.  Hier haben wir nur über einige von ihnen gesprochen.  Die hier diskutierten Arbeitsmethoden werden laut dem Autor des Materials jedoch in etwa 95% der Situationen verwendet, in denen Wireshark benötigt wird.  Deshalb hoffen wir, dass auch das Wenige, das Sie heute gelernt haben, für Sie nützlich ist. <br><br>  <b>Liebe Leser!</b>  Verwenden Sie Wireshark? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de416537/">https://habr.com/ru/post/de416537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de416525/index.html">Geheimnisse des erfolgreichen Entwurfs von IP (Informationssystem) am Beispiel des Baus eines Krankenhauses</a></li>
<li><a href="../de416527/index.html">Virgin Galactic hat zugestimmt, den italienischen Raumhafen zu nutzen</a></li>
<li><a href="../de416531/index.html">Nachhaltigkeits-GAN-Training</a></li>
<li><a href="../de416533/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 322 (2. - 8. Juli 2018)</a></li>
<li><a href="../de416535/index.html">Digitale Veranstaltungen in Moskau vom 9. bis 15. Juli</a></li>
<li><a href="../de416539/index.html">15 wenig bekannte Eigenschaften und Methoden von DOM-Objekten</a></li>
<li><a href="../de416541/index.html">Häufig gestellte Fragen zu erneuerbaren Energien, Teil 2</a></li>
<li><a href="../de416543/index.html">PHP Digest Nr. 134 (24. Juni - 8. Juli 2018)</a></li>
<li><a href="../de416545/index.html">Ein Stück persönliche Erfahrung: Entwicklung, Pull-Anfragen, Commits, Software-Kenntnisse</a></li>
<li><a href="../de416547/index.html">Rostec verlässt Yota Devices, ein Smartphone mit zwei Bildschirmen wird Abonnenten der Nachrichtenagentur Xinhua angeboten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>