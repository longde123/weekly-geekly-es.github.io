<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëéüèº ‚è™ üö• Meilleures pratiques pour ex√©cuter Buildah dans un conteneur üíà ü§∏üèΩ ü§≤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quelle est la beaut√© de diviser le temps d'ex√©cution des conteneurs en composants instrumentaux s√©par√©s? En particulier, le fait que ces outils puisse...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Meilleures pratiques pour ex√©cuter Buildah dans un conteneur</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/470928/">  Quelle est la beaut√© de diviser le temps d'ex√©cution des conteneurs en composants instrumentaux s√©par√©s?  En particulier, le fait que ces outils puissent commencer √† se combiner pour se prot√©ger mutuellement. <br><br><img src="https://habrastorage.org/webt/mj/b5/x9/mjb5x9ahbaz_rlyie6anq31p2jm.png" width="100%"><br><br>  Beaucoup de gens sont attir√©s par l'id√©e de cr√©er des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OCI de</a> conteneurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">au</a> sein de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes</a> ou d'un syst√®me similaire.  Supposons que nous ayons un CI / CD qui collecte constamment des images, alors quelque chose comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Red Hat OpenShift</a> / Kubernetes serait tr√®s utile en termes d'√©quilibrage de charge pendant l'assemblage.  Jusqu'√† r√©cemment, la plupart des gens donnaient simplement aux conteneurs un acc√®s au socket docker et √©taient autoris√©s √† ex√©cuter la commande docker build.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nous avons montr√© il y a plusieurs ann√©es</a> que cela est tr√®s dangereux, en fait, c'est encore pire que de donner une racine ou un sudo sans mot de passe. <br><a name="habracut"></a><br>  Par cons√©quent, les gens essaient constamment d'ex√©cuter Buildah dans un conteneur.  En bref, nous avons cr√©√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un exemple</a> de la fa√ßon dont, √† notre avis, il est pr√©f√©rable d'ex√©cuter Buildah √† l'int√©rieur du conteneur et de mettre les images appropri√©es sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">quay.io/buildah</a> .  Commen√ßons ... <br><br><h3>  Personnalisation </h3><br>  Ces images sont compil√©es √† partir de Dockerfiles, qui peuvent √™tre trouv√©es dans le r√©f√©rentiel Buildah dans le dossier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">buildahimage</a> . <br>  Ici, nous regardons la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">version stable de Dockerfile</a> . <br><br><pre><code class="plaintext hljs"># stable/Dockerfile # # Build a Buildah container image from the latest # stable version of Buildah on the Fedoras Updates System. # https://bodhi.fedoraproject.org/updates/?search=buildah # This image can be used to create a secured container # that runs safely with privileges within the container. # FROM fedora:latest # Don't include container-selinux and remove # directories used by dnf that are just taking # up space. RUN yum -y install buildah fuse-overlayfs --exclude container-selinux; rm -rf /var/cache /var/log/dnf* /var/log/yum.* # Adjust storage.conf to enable Fuse storage. RUN sed -i -e 's|^#mount_program|mount_program|g' -e '/additionalimage.*/a "/var/lib/shared",' /etc/containers/storage.conf</code> </pre> <br>  Au lieu d'OverlayFS, impl√©ment√© au niveau du noyau Linux de l'h√¥te, nous utilisons le programme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fuse-overlay</a> √† l'int√©rieur du conteneur, car pour le moment OverlayFS ne peut √™tre mont√© que s'il se voit octroyer les privil√®ges SYS_ADMIN en utilisant les capacit√©s Linux.  Et nous voulons ex√©cuter nos conteneurs Buildah sans aucun privil√®ge root.  La superposition de fusibles est assez rapide et offre de meilleures performances que le pilote de stockage VFS.  Notez que lorsque vous d√©marrez un conteneur Buildah √† l'aide de Fuse, vous devez fournir le p√©riph√©rique / dev / fuse. <br><br><pre> <code class="plaintext hljs">podman run --device /dev/fuse quay.io/buildahctr ... RUN mkdir -p /var/lib/shared/overlay-images /var/lib/shared/overlay-layers; touch /var/lib/shared/overlay-images/images.lock; touch /var/lib/shared/overlay-layers/layers.lock</code> </pre><br>  Ensuite, nous cr√©ons un r√©pertoire pour un stockage suppl√©mentaire.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conteneur / stockage</a> prend en charge le concept de connexion de stockages d'images en lecture seule suppl√©mentaires.  Par exemple, vous pouvez configurer la zone de stockage de superposition sur une machine, puis utiliser NFS pour monter ce stockage sur une autre machine et utiliser des images √† partir de celle-ci sans t√©l√©chargement via pull.  Nous avons besoin de ce stockage pour pouvoir connecter une sorte de stockage d'images de l'h√¥te en tant que volume et l'utiliser √† l'int√©rieur du conteneur. <br><br><pre> <code class="plaintext hljs"># Set up environment variables to note that this is # not starting with user namespace and default to # isolate the filesystem with chroot. ENV _BUILDAH_STARTED_IN_USERNS="" BUILDAH_ISOLATION=chroot</code> </pre><br>  Enfin, en utilisant la variable d'environnement BUILDAH_ISOLATION, nous disons que par d√©faut, le conteneur Buildah devrait commencer par l'isolement du chroot.  Un isolement suppl√©mentaire n'est pas n√©cessaire ici, car nous travaillons d√©j√† dans le conteneur.  Pour que Buildah cr√©e ses propres conteneurs avec s√©paration des espaces de noms, le privil√®ge SYS_ADMIN est requis, et pour cela, il sera n√©cessaire d'affaiblir les r√®gles SELinux et SECCOMP pour le conteneur, ce qui contredit notre installation pour construire √† partir d'un conteneur s√©curis√©. <br><br><h3>  Ex√©cutez Buildah √† l'int√©rieur du conteneur </h3><br>  Le sch√©ma d'image de conteneur Buildah d√©crit ci-dessus vous permet de varier de mani√®re flexible la fa√ßon dont vous ex√©cutez ces conteneurs. <br><br><h4>  Vitesse vs s√©curit√© </h4><br>  La s√©curit√© informatique est toujours un compromis entre la vitesse du processus et la quantit√© de protection qui s'enroule autour de lui.  Cette d√©claration est √©galement vraie lors de l'assemblage de conteneurs, donc ci-dessous, nous examinerons les options pour un tel compromis. <br><br>  L'image de conteneur discut√©e ci-dessus conservera son r√©f√©rentiel dans / var / lib / containers.  Par cons√©quent, nous devons monter le contenu dans ce dossier, et la fa√ßon dont nous le faisons affectera consid√©rablement la vitesse d'assemblage des images de conteneur. <br><br>  Prenons trois options. <br><br>  <b>Option 1.</b> Si une s√©curit√© maximale est requise, alors pour chaque conteneur, vous pouvez cr√©er votre propre dossier pour les conteneurs / image et le connecter au conteneur via le montage en volume.  Et en plus, placez le r√©pertoire contextuel dans le conteneur lui-m√™me, dans le dossier / build: <br><br><pre> <code class="plaintext hljs"># mkdir /var/lib/containers1 # podman run -v ./build:/build:z -v /var/lib/containers1:/var/lib/containers:Z quay.io/buildah/stable\ buildah -t image1 bud /build # podman run -v /var/lib/containers1:/var/lib/containers:Z quay.io/buildah/stable buildah push \ image1 registry.company.com/myuser # rm -rf /var/lib/containers1</code> </pre><br>  <i>La s√©curit√©</i>  Buildah s'ex√©cutant dans un tel conteneur a une s√©curit√© maximale: il ne b√©n√©ficie d'aucun privil√®ge root avec les outils de capacit√©s, et toutes les restrictions SECOMP et SELinux s'y appliquent. Un tel conteneur peut m√™me √™tre ex√©cut√© avec l'isolement de l'espace de noms d'utilisateurs, en ajoutant une option comme --uidmap 0: 100000: 10000 . <br><br>  <i>Performance.</i>  Mais les performances ici sont minimes, car toutes les images des registres de conteneurs sont copi√©es √† chaque fois sur l'h√¥te et la mise en cache ne fonctionne pas √† partir du mot ¬´no way¬ª.  Une fois son travail termin√©, le conteneur Buildah doit envoyer l'image au registre et d√©truire le contenu sur l'h√¥te.  Lorsque l'image de conteneur sera collect√©e la prochaine fois, elle devra √™tre t√©l√©charg√©e √† nouveau √† partir du registre, car √† ce moment-l√†, rien ne restera sur l'h√¥te. <br><br>  <b>Option 2.</b> Si vous avez besoin de performances de niveau Docker, vous pouvez monter le conteneur / stockage de l'h√¥te directement dans le conteneur. <br><br><pre> <code class="plaintext hljs"># podman run -v ./build:/build:z -v /var/lib/containers:/var/lib/containers --security-opt label:disabled quay.io/buildah/stable buildah -t image2 bud /build # podman run -v /var/lib/containers:/var/lib/containers --security-opt label:disabled \ quay.io/buildah/stable buildah push image2 registry.company.com/myuser</code> </pre><br>  <i>La s√©curit√©</i>  C'est le moyen le moins s√ªr de cr√©er des conteneurs, car ici le conteneur est autoris√© √† modifier le stockage sur l'h√¥te, et il peut potentiellement glisser dans Podman ou CRI-O une image malveillante.  De plus, vous devrez d√©sactiver la s√©paration SELinux afin que les processus du conteneur Buildah puissent interagir avec le stockage sur l'h√¥te.  Veuillez noter que cette option est toujours meilleure que la socket Docker, car le conteneur est bloqu√© par les fonctions de s√©curit√© restantes et ne peut pas simplement r√©cup√©rer et ex√©cuter n'importe quel conteneur sur l'h√¥te. <br><br>  <i>Performance.</i>  Ici, c'est maximum, car la mise en cache est enti√®rement impliqu√©e.  Si Podman ou CRI-O a d√©j√† r√©ussi √† t√©l√©charger l'image souhait√©e sur l'h√¥te, le processus Buildah √† l'int√©rieur du conteneur n'aura pas √† la t√©l√©charger √† nouveau, et les assemblys suivants bas√©s sur cette image pourront √©galement prendre le n√©cessaire dans le cache. <br><br>  <b>Option 3.</b> L'essence de cette m√©thode est de combiner plusieurs images dans un projet avec un dossier partag√© pour les images de conteneur. <br><br><pre> <code class="plaintext hljs"># mkdir /var/lib/project3 # podman run --security-opt label:level=s0:C100, C200 -v ./build:/build:z \ -v /var/lib/project3:/var/lib/containers:Z quay.io/buildah/stable buildah -t image3 bud /build # podman run --security-opt label:level=s0:C100, C200 \ -v /var/lib/project3:/var/lib/containers quay.io/buildah/stable buildah push image3 \ registry.company.com/myuser</code> </pre><br>  Dans cet exemple, nous ne supprimons pas le dossier du projet (/ var / lib / project3) entre les d√©marrages, de sorte que toutes les g√©n√©rations suivantes au sein du projet profitent de la mise en cache. <br><br>  <i>La s√©curit√©</i>  Quelque chose entre les options 1 et 2. D'une part, les conteneurs n'ont pas acc√®s au contenu sur l'h√¥te et, par cons√©quent, ne peuvent pas glisser quelque chose de mauvais dans le stockage d'image Podman / CRI-O.  D'autre part, dans le cadre de son projet, un conteneur peut interf√©rer avec l'assemblage d'autres conteneurs. <br><br>  <i>Performance.</i>  Ici, c'est pire que lorsque vous utilisez un cache partag√© au niveau de l'h√¥te, car vous ne pouvez pas utiliser des images d√©j√† t√©l√©charg√©es pr√©c√©demment √† l'aide de Podman / CRI-O.  Cependant, une fois que Buildah a t√©l√©charg√© l'image, cette image peut √™tre utilis√©e dans toutes les versions ult√©rieures du projet. <br><br><h4>  Stockage suppl√©mentaire </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les conteneurs / stockage</a> ont quelque chose de cool comme des magasins suppl√©mentaires, gr√¢ce auxquels les moteurs de conteneurs peuvent utiliser des magasins d'images externes en mode de superposition en lecture seule lors du lancement et de la construction de conteneurs.  En fait, vous pouvez ajouter un ou plusieurs stockages en lecture seule au fichier storage.conf afin que, lorsque le conteneur d√©marre, le moteur de conteneur y recherche l'image souhait√©e.  De plus, il ne t√©l√©chargera l'image du registre que s'il ne la trouve dans aucun de ces r√©f√©rentiels.  Le moteur de conteneur ne pourra √©crire que sur un stockage accessible en √©criture ... <br><br>  Si vous faites d√©filer vers le haut et voyez le Dockerfile, que nous utilisons pour construire l'image quay.io/buildah/stable, alors il y a de telles lignes: <br><br><pre> <code class="plaintext hljs"># Adjust storage.conf to enable Fuse storage. RUN sed -i -e 's|^#mount_program|mount_program|g' -e '/additionalimage.*/a "/var/lib/shared",' /etc/containers/storage.conf RUN mkdir -p /var/lib/shared/overlay-images /var/lib/shared/overlay-layers; touch /var/lib/shared/overlay-images/images.lock; touch /var/lib/shared/overlay-layers/layers.lock</code> </pre><br>  Dans la premi√®re ligne, nous modifions /etc/containers/storage.conf √† l'int√©rieur de l'image du conteneur, en disant au pilote de stockage d'utiliser "additionalimagestores" dans le dossier / var / lib / shared.  Et dans la ligne suivante, cr√©ez un dossier partag√© et ajoutez quelques fichiers de verrouillage afin qu'il n'y ait pas d'abus de conteneurs / stockage.  Fondamentalement, nous cr√©ons simplement un stockage d'image de conteneur vide. <br><br>  Si vous montez des conteneurs / stockage au-dessus de ce dossier, Buildah pourra utiliser des images. <br><br>  Revenons maintenant √† l'option 2 discut√©e ci-dessus, lorsqu'un conteneur Buildah peut lire et √©crire dans des conteneurs / stocker sur des h√¥tes et, par cons√©quent, a des performances maximales en raison de la mise en cache d'image au niveau Podman / CRI-O, mais donne un minimum de s√©curit√©, car il peut √©crire directement en stockage.  Et maintenant, nous allons fixer du stockage suppl√©mentaire ici et tirer le meilleur parti de deux mondes. <br><br><pre> <code class="plaintext hljs"># mkdir /var/lib/containers4 # podman run -v ./build:/build:z -v /var/lib/containers/storage:/var/lib/shared:ro -v \ /var/lib/containers4:/var/lib/containers:Z quay.io/buildah/stable \ buildah -t image4 bud /build # podman run -v /var/lib/containers/storage:/var/lib/shared:ro \ -v &gt;/var/lib/containers4:/var/lib/containers:Z quay.io/buildah/stable buildah push image4 \ registry.company.com/myuser # rm -rf /var/lib/continers4</code> </pre><br>  Notez que l'h√¥te / var / lib / containers / storage est mont√© dans / var / lib / shared √† l'int√©rieur du conteneur en mode lecture seule.  Par cons√©quent, en travaillant dans un conteneur, Buildah peut utiliser toutes les images pr√©c√©demment t√©l√©charg√©es √† l'aide de Podman / CRI-O (salut, vitesse), mais ne peut √©crire que dans son propre r√©f√©rentiel (salut, s√©curit√©).  Notez √©galement que cela se fait sans d√©sactiver la s√©paration SELinux pour le conteneur. <br><br><h4>  Nuance importante </h4><br>  En aucun cas, vous ne devez supprimer des images du stockage sous-jacent.  Sinon, le conteneur Buildah peut s'envoler. <br><br><h4>  Et ce ne sont pas tous les avantages. </h4><br>  Les capacit√©s de stockage suppl√©mentaires ne sont pas limit√©es au sc√©nario ci-dessus.  Par exemple, vous pouvez placer toutes les images de conteneur dans un stockage r√©seau partag√© et donner acc√®s √† tous les conteneurs Buildah.  Supposons que nous ayons des centaines d'images que notre syst√®me CI / CD utilise r√©guli√®rement pour cr√©er des images de conteneurs.  Nous concentrons toutes ces images sur un seul h√¥te de stockage puis, en utilisant les outils de stockage r√©seau pr√©f√©r√©s (NFS, Gluster, Ceph, ISCSI, S3 ...), ouvrons le stockage partag√© √† tous les n≈ìuds Buildah ou Kubernetes. <br><br>  Maintenant, il suffit de monter ce stockage r√©seau dans le conteneur Buildah sur / var / lib / shared et c'est tout - les conteneurs Buildah n'ont plus besoin de t√©l√©charger des images via pull.  Ainsi, nous jetons la phase de pr√©-peuplement et sommes imm√©diatement pr√™ts √† d√©ployer les conteneurs. <br><br>  Et bien s√ªr, cela peut √™tre utilis√© dans le syst√®me Kubernetes existant ou l'infrastructure de conteneurs pour lancer et ex√©cuter des conteneurs n'importe o√π sans t√©l√©charger d'images via pull.  De plus, le registre de conteneurs, recevant une demande push pour y charger une image mise √† jour, peut envoyer automatiquement cette image vers un stockage r√©seau partag√©, o√π elle devient instantan√©ment disponible pour tous les n≈ìuds. <br><br>  La taille des images de conteneur peut parfois atteindre plusieurs gigaoctets.  La fonctionnalit√© des stockages suppl√©mentaires vous permet de vous passer de clonage de ces images par n≈ìuds et rend le lancement des conteneurs presque instantan√©. <br><br>  De plus, nous travaillons actuellement sur une nouvelle fonction de montage de volume de superposition qui rendra l'assemblage des conteneurs encore plus rapide. <br><br><h3>  Conclusion </h3><br>  Ex√©cuter un Buildah √† l'int√©rieur d'un conteneur dans Kubernetes / CRI-O, Podman ou m√™me Docker est r√©el, et c'est plus simple et beaucoup plus s√ªr que d'utiliser docker.socket.  Nous avons consid√©rablement am√©lior√© la flexibilit√© de travail avec les images, et vous pouvez d√©sormais les lancer de diff√©rentes mani√®res pour un √©quilibre optimal entre s√©curit√© et performances. <br><br>  La fonctionnalit√© des stockages suppl√©mentaires vous permet d'acc√©l√©rer, voire d'√©liminer compl√®tement le t√©l√©chargement d'images vers les n≈ìuds. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470928/">https://habr.com/ru/post/fr470928/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470918/index.html">F # 9: Option de type</a></li>
<li><a href="../fr470920/index.html">5+ fa√ßons de se connecter √† un cloud DataLine</a></li>
<li><a href="../fr470922/index.html">Annonce de Mitap ThinkJava # 10 √† Kharkov</a></li>
<li><a href="../fr470924/index.html">Pourquoi pour le nouveau projet, j'ai pris Robot Framework</a></li>
<li><a href="../fr470926/index.html">¬´Nous nous faisons confiance. Par exemple, nous n'avons aucun salaire du tout ¬ª- une grande interview avec Tim Lister, auteur de Peopleware</a></li>
<li><a href="../fr470930/index.html">Gamification du produit. Historique Ratatype</a></li>
<li><a href="../fr470934/index.html">Gu√©rit avant le mariage: prolif√©ration cellulaire et capacit√©s r√©g√©n√©ratrices des m√©duses</a></li>
<li><a href="../fr470938/index.html">Comment ouvrir un lien en Python. Travailler avec WebBrowser et r√©soudre un probl√®me avec Internet Explorer</a></li>
<li><a href="../fr470940/index.html">Meetup MSK VUE.JS # 3 au groupe Mail.ru: mat√©riaux de mitap</a></li>
<li><a href="../fr470942/index.html">Du d√©butant aux ic√¥nes de style: comment nous avons remport√© des prix dans 2GIS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>