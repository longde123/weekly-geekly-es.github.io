<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😄 👩🏽‍🤝‍👩🏻 🔇 Reflexionen über TDD. Warum diese Methode nicht allgemein anerkannt ist 🧒🏼 👨🏽 🎅🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! 

 Lange und fast erfolglos haben wir nach einem klugen Kopf gesucht, der Herrn Kent Beck auf dem Markt verdrängen will - das heißt, wir s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reflexionen über TDD. Warum diese Methode nicht allgemein anerkannt ist</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/427853/">  Hallo Habr! <br><br>  Lange und fast erfolglos haben wir nach einem klugen Kopf gesucht, der Herrn Kent Beck auf dem Markt verdrängen will - das heißt, wir suchen jemanden, der bereit ist, ein Buch über TDD für uns zu schreiben.  Mit realen Beispielen eine Geschichte über Ihre eigenen Zapfen und Erfolge.  Es gibt nur sehr wenige Bücher zu diesem Thema, und Sie werden die Klassiker nicht bestreiten ... Vielleicht haben wir diesen Kopf deshalb noch nicht kennengelernt. <br><br>  Aus diesem Grund haben wir uns entschlossen, uns nicht nur erneut daran zu erinnern, dass wir nach einer solchen Person suchen, sondern auch die Übersetzung eines eher kontroversen Artikels anzubieten, dessen Autor Doug Arcuri seine eigenen Gedanken darüber teilt, warum TDD nie zum Mainstream wurde.  Lassen Sie uns diskutieren, ob er Recht hat und wenn nicht, warum. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/gy/lr/2o/gylr2oryutx_6nqvbabp1mayby4.png"><br><br>  <i>Dies ist keine Einführung in die Entwicklung durch Testen.</i>  <i>Hier werde ich meine eigenen Ideen zum Neustart dieser Disziplin vorstellen und über die praktischen Schwierigkeiten beim Testen von Einheiten sprechen.</i> <br><br>  Der legendäre Programmierer Kent Beck ist der Autor der TDD-Methodik (Development Through Testing) im modernen Sinne.  Kent trug zusammen mit Erich Gamma zur Entwicklung von JUnit bei, einem weit verbreiteten Test-Framework. <br><br>  In seinem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">XP Explained-</a> Buch (zweite Ausgabe) beschreibt Kent, wie <b>Prinzipien</b> an der Schnittstelle von <b>Werten</b> und <b>Praktiken gebildet werden</b> .  Wenn Sie eine Liste von Konzepten erstellen und diese durch eine Art Formel ersetzen, erhalten Sie eine Transformation. <br><br><pre><code class="hljs powershell">[<span class="hljs-type"><span class="hljs-type">KISS</span></span>, <span class="hljs-type"><span class="hljs-type">Quality</span></span>, <span class="hljs-type"><span class="hljs-type">YAGNI</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>] + [<span class="hljs-type"><span class="hljs-type">Testing</span></span>, <span class="hljs-type"><span class="hljs-type">Specs</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>] == [<span class="hljs-type"><span class="hljs-type">TDD</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>]</code> </pre> <br>  Ich respektiere diese Arbeit zutiefst, die für Kent ein lebenslanges Werk ist - nicht nur für seine Meisterwerke in der Programmierung, sondern auch für die Tatsache, dass er unermüdlich die Essenz von <b>Vertrauen</b> , <b>Mut</b> , <b>Verleihung</b> , <b>Einfachheit</b> und <b>Verletzlichkeit</b> erforscht.  Alle diese Eigenschaften waren für die Erfindung der Extreme Programming (XP) unverzichtbar. <br><br>  TDD ist ein Prinzip und eine <b>Disziplin</b> , die in der XP-Community eingehalten wird.  Diese Disziplin ist bereits 19 Jahre alt. <br><br>  In diesem Artikel werde ich meine Meinung darüber teilen, wie TDD es geschafft hat, sich zu assimilieren.  Dann werde ich interessante persönliche Beobachtungen teilen, die während meiner TDD-Sitzung erschienen sind.  Abschließend werde ich versuchen zu erklären, warum der TDD nicht so hart geschossen hat, wie es schien.  Lass uns gehen. <br><br>  <b>TDD, Forschung und Professionalität</b> <br><br>  In den letzten 19 Jahren war die Disziplin TDD in der Programmiergemeinschaft umstritten. <br>  Die erste Frage, die ein professioneller Analyst Ihnen stellen würde, lautet: "Wie viel Prozent der Entwickler verwenden TDD heute?"  Wenn Sie einen Freund von Robert Martin (Onkel Bob) und einen Freund von Kent Beck danach fragen würden, wäre die Antwort „100%“. <br><br>  Nur Onkel Bob ist sich sicher, dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">es unmöglich ist, sich als Profi zu betrachten, wenn Sie die Entwicklung nicht durch Tests üben</a> . <br><br>  Onkel Bob ist seit mehreren Jahren eng in diese Disziplin involviert, daher ist es selbstverständlich, in dieser Rezension auf ihn zu achten.  Onkel Bob verteidigte TDD und erweiterte die Grenzen dieser Disziplin erheblich.  Sie können sicher sein, dass ich Onkel Bob und seinem pragmatischen Dogmatismus größten Respekt entgegenbringe. <br><br>  Allerdings stellt niemand die folgende Frage: "Üben heißt schließlich" bewusst verwenden "- aber es erlaubt nicht, den Prozentsatz zu beurteilen, oder?"  Meiner subjektiven Meinung nach haben sich die meisten Programmierer selbst für eine symbolische Periode <b>nicht mit</b> TDD befasst. <br><br>  Die Realität ist, dass wir diese Zahlen wirklich nicht kennen, da niemand diesen Prozentsatz aktiv untersucht hat.  Alle spezifischen Daten beschränken sich auf eine kleine Auswahl von Unternehmen, die auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WeDoTDD-</a> Website gesammelt wurden.  Hier finden Sie Statistiken über solche Unternehmen, Interviews mit denen, die ständig TDD praktizieren, aber diese Liste ist nicht groß.  Darüber hinaus ist es unvollständig, da bereits eine einfache Suche andere große Organisationen aufdeckt, die an TDD beteiligt sind - aber möglicherweise nicht voll ausgelastet sind. <br><br>  Wenn wir nicht wissen, wie viele Unternehmen TDD praktizieren, stellt sich die folgende Frage: "Wie effektiv ist TDD, gemessen an seinen messbaren Vorzügen"? <br>  Sie werden wahrscheinlich erfreut sein, dass im Laufe der Jahre eine Reihe von Studien durchgeführt wurden, die die Wirksamkeit von TDD bestätigen.  Darunter befinden sich definitiv maßgebliche Berichte von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microsoft</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IBM</a> , der University of North Carolina und der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">University of Helsinki</a> . <br><br><img src="https://habrastorage.org/webt/2p/qx/vt/2pqxvtwfp0c4pq8y-tynkuezulc.png"><br><br>  <i>Ein aussagekräftiges Diagramm aus einem Bericht der Universität Helsinki.</i> <br><br>  Bis zu einem gewissen Grad belegen diese Berichte, dass die Fehlerdichte um 40-60% reduziert werden kann, was mehr Arbeit erfordert.  Laufzeit erhöht sich um 15-35%.  Diese Zahlen werden bereits in Büchern und neuen industriellen Methoden, insbesondere in der DevOps-Community, nachverfolgt. <br><br>  Wenn wir diese Fragen teilweise beantworten, wenden wir uns der letzten zu: „Worauf kann ich zählen, wenn ich anfange, TDD zu üben?“  Für die Antwort darauf formulierte ich meine persönlichen Beobachtungen von TDD.  Gehen wir weiter zu ihnen. <br><br>  <b>1. TDD erfordert einen verbalisierenden Ansatz</b> <br><br>  Beim Üben von TDD stoßen wir auf das Phänomen der "Zielbezeichnung".  Kurz gesagt, kurze Projekte wie die Vorbereitung fehlgeschlagener und erfolgreicher Tests sind eine ernsthafte intellektuelle Herausforderung für den Entwickler.  Der Entwickler muss klar formulieren: "Ich glaube, dass dieser Test erfolgreich sein wird" und "Ich glaube, dass dieser Test fehlschlagen wird" oder "Ich bin nicht sicher, lassen Sie mich nachdenken, nachdem ich diesen Ansatz ausprobiert habe." <br><br>  Die IDE ist für den Entwickler zu dieser Gummiente geworden, die darum bittet, aktiv mit ihr zu sprechen.  In TDD-Unternehmen sollten Gespräche dieser Art zumindest zu einem kontinuierlichen Summen verschmelzen. <br><br>  Denken Sie zuerst nach - und machen Sie dann Ihren nächsten Schritt (oder Ihre nächsten Schritte). <br><br>  Eine solche Verstärkung spielt eine Schlüsselrolle in der Kommunikation: Sie ermöglicht Ihnen nicht nur, Ihren nächsten Schritt vorherzusagen, sondern Sie auch dazu anzuregen, den <b>einfachsten</b> Code zu schreiben, mit dem Sie den Komponententest bestehen können.  Wenn der Entwickler schweigt, verliert er natürlich mit ziemlicher Sicherheit seinen Kurs, wonach er auf die Strecke zurückkehren muss. <br><br>  <b>2. TDD pumpt den Motorspeicher</b> <br><br>  Der Entwickler, der seine ersten TDD-Zyklen durchläuft, wird schnell müde - schließlich ist dieser Prozess unpraktisch und bleibt ständig stehen.  Dies ist eine häufige Situation bei Aktivitäten, die eine Person gerade erst beginnt, aber noch nicht gemeistert hat.  Der Entwickler greift auf Verknüpfungen zurück und versucht, diesen Zyklus zu optimieren, um seine Hand zu füllen und das Motorspeicher zu verbessern. <br>  Das motorische Gedächtnis ist unverzichtbar, damit die Arbeit Spaß macht und wie am Schnürchen läuft.  In TDD ist dies aufgrund der Wiederholung von Aktionen erforderlich. <br><br>  Holen Sie sich den Spickzettel mit solchen Verknüpfungen.  Holen Sie das Beste aus Ihren Tastaturkürzeln in Ihrer IDE heraus, um Schleifen effektiv zu machen.  Dann suchen Sie weiter. <br><br>  In nur wenigen Sitzungen beherrscht der Entwickler die Auswahl der Verknüpfungen perfekt, insbesondere reichen einige Sitzungen aus, um einen Prüfstand zusammenzustellen und auszuführen.  Wenn Sie üben, neue Artefakte zu erstellen, Text hervorzuheben und durch die IDE zu navigieren, erscheint Ihnen dies alles völlig natürlich.  Schließlich werden Sie ein echter Profi und beherrschen alle Refactoring-Techniken: insbesondere Extrahieren, Umbenennen, Generieren, Erhöhen, Neuformatieren und Abstieg. <br><br>  <b>3. TDD erfordert zumindest ein wenig Nachdenken über ihre Aktionen im Voraus</b> <br><br>  Wenn ein Entwickler darüber nachdenkt, eine TDD zu starten, muss er eine kurze mentale Karte der Aufgaben berücksichtigen, die gelöst werden müssen.  Beim traditionellen Programmieransatz ist eine solche Karte nicht immer vorhanden, und die Aufgabe selbst kann "auf Makroebene" dargestellt werden oder einen Forschungscharakter haben.  Vielleicht weiß der Entwickler nicht, wie er das Problem lösen soll, sondern stellt sich das Ziel nur grob vor.  Unit-Tests werden zu diesem Ziel vernachlässigt. <br><br>  Während Sie sich bei der Arbeit hinsetzen und mit einem weiteren „Sitzen“ enden, versuchen Sie auch, daraus ein Ritual zu machen.  Denken Sie nach und listen Sie zuerst auf.  Spiel damit.  Liste mehr.  Dann mach weiter, mach, denk nach.  Feiern.  Mehrmals wiederholen.  Dann überlegen Sie noch einmal und hören Sie auf. <br><br>  Sei unnachgiebig in Bezug auf die Arbeit.  Verfolgen Sie, was bereits getan wurde - aktivieren Sie die Kontrollkästchen.  Falten Sie niemals, bis mindestens eine vorhanden ist.  Denken Sie nach! <br><br>  Möglicherweise dauert der Wortlaut der Liste einige Zeit, die nicht in den Arbeitszyklus passt.  Bevor Sie beginnen, müssen Sie jedoch eine Liste haben.  Ohne sie wissen Sie nicht, wohin Sie sich bewegen.  Nirgendwo ohne Karte. <br><br><pre> <code class="hljs erlang-repl">//   // <span class="hljs-string"><span class="hljs-string">""</span></span> -&gt;   // <span class="hljs-string"><span class="hljs-string">"a"</span></span> -&gt;   // <span class="hljs-string"><span class="hljs-string">"aa"</span></span> -&gt;  // <span class="hljs-string"><span class="hljs-string">"racecar"</span></span> -&gt;  // <span class="hljs-string"><span class="hljs-string">"Racecar"</span></span> -&gt;  //   //   </code> </pre> <br>  Der Entwickler sollte <b>die</b> von Kent Beck beschriebenen <b>Tests</b> auflisten.  Mit der Testliste können Sie das Problem in Form von Zyklen lösen, die reibungslos ineinander übergehen.  Über der Liste der Tests müssen Sie ständig verarbeiten und aktualisieren, auch wenn dies nur wenige Sekunden vor den Tests geschieht.  Wenn die Testliste fast vollständig abzüglich der letzten Stufe bestanden wurde, ist das Ergebnis „rot“ und der gesamte Test ist fehlgeschlagen. <br><br>  <b>4. TDD hängt von der Kommunikation mit Kollegen ab</b> <br><br>  Nach Abschluss der obigen Liste können einige Schritte blockiert werden, da sie nicht ganz klar beschreiben, was zu tun ist.  Der Entwickler hat die Liste der Tests nicht verstanden.  Das Gegenteil passiert auch - die Liste ist zu grob, in der es viele Annahmen über die Anforderungen gibt, die noch nicht formuliert wurden.  Wenn Sie so etwas bekommen, hören Sie sofort auf. <br><br>  Das Handeln ohne TDD kann zu übermäßig komplexen Implementierungen führen.  Arbeiten im Stil von TDD, aber gedankenlos ohne Liste, ist nicht weniger gefährlich. <br><br>  Wenn Sie feststellen, dass die Testliste Lücken enthält, stehen Sie auf und sagen Sie es laut. <br><br>  In TDD muss der Entwickler verstehen, welches Produkt zu tun ist, wobei er sich von der Idee der notwendigen Anforderungen bei der Interpretation des Eigentümers leiten lässt - und nicht mehr.  Wenn die Anforderung in diesem Zusammenhang unklar ist, beginnt die Liste der Tests auseinanderzufallen.  Dieser Fehler muss diskutiert werden.  Eine ruhige Diskussion hilft schnell, Vertrauen und Respekt aufzubauen.  Außerdem werden auf diese Weise schnelle Rückkopplungsschleifen gebildet. <br><br>  <b>5. TDD erfordert eine iterative Architektur</b> <br><br>  Bereits in der ersten Ausgabe seines XP-Buches schlug Kent vor, dass Tests die treibende Kraft hinter der Architektur sein sollten.  Im Laufe mehrerer Jahre sind jedoch Geschichten darüber aufgetaucht, wie Sprintteams bereits in wenigen Sprints über eine Wand stolpern. <br><br>  Natürlich ist es irrational, eine auf Tests basierende Architektur aufzubauen.  Onkel Bob selbst stimmte anderen Experten zu, dass es nicht gut sei.  Eine umfangreichere Karte ist erforderlich, jedoch nicht zu weit von den Testlisten entfernt, die Sie „vor Ort“ entwickelt haben. <br><br>  Viele Jahre später äußerte Kent diese These auch in seinem Buch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">TDD By Example</a> .  <b>Wettbewerbsfähigkeit</b> und <b>Sicherheit</b> sind zwei Hauptbereiche, in denen TDD nicht die treibende Kraft sein kann, und der Entwickler muss sie separat behandeln.  Wir können sagen, dass Wettbewerbsfähigkeit eine andere Ebene des Systemdesigns ist. Die Wettbewerbsfähigkeit muss durch Iterationen entwickelt werden, die diesen Prozess mit TDD koordinieren.  Dies gilt insbesondere heute, da sich einige Architekturen in Richtung eines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">reaktiven Paradigmas</a> und reaktiver Erweiterungen entwickeln ( <b>Reaktivität</b> ist Wettbewerbsfähigkeit auf ihrem Höhepunkt). <br><br>  Erstellen Sie eine größere Karte der gesamten Organisation.  Helfen, die Dinge ein wenig in der Perspektive zu sehen.  Stellen Sie sicher, dass Sie und das Team sich im selben Kurs bewegen. <br><br>  Die wichtigste Idee ist jedoch die <b>Organisation des</b> gesamten Systems, und eine TDD-Organisation ist nicht vorgesehen.  Tatsache ist, dass Unit-Tests eine einfache Sache sind.  Die iterative Architektur und die TDD-Orchestrierung sind in der Praxis komplex und erfordern Vertrauen zwischen allen Teammitgliedern, Paarprogrammierung und solide Codeüberprüfungen.  Es ist nicht ganz klar, wie dies erreicht werden soll, aber bald können Sie sehen, dass kurze Entwurfssitzungen im Einklang mit der Implementierung von Testlisten im Themenbereich durchgeführt werden sollten. <br><br>  <b>6. TDD zeigt die Fragilität von Unit-Tests und die entartete Implementierung</b> <br><br>  Unit-Tests haben eine unterhaltsame Funktion, und TDD verrät sie vollständig.  Sie erlauben nicht, die Richtigkeit zu beweisen.  E.V.Dijkstra arbeitete an diesem Problem und diskutierte, wie in unserem Fall mathematische Beweise möglich sind, die diese Lücke füllen würden. <br><br>  Im folgenden Beispiel werden beispielsweise alle Tests gelöst, die sich auf ein hypothetisches unvollkommenes Palindrom beziehen, das von der Geschäftslogik vorgegeben wird.  Ein Beispiel wird unter Verwendung der TDD-Methodik entwickelt. <br><br><pre> <code class="hljs pgsql">//    @Test fun `Given "", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>`() { "".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeFalse() } @Test fun `Given "a", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>`() { "a".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeFalse() } @Test fun `Given "aa", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "aa".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "abba", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "abba".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "racecar", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "racecar".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "Racecar", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "Racecar".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() }</code> </pre> <br>  In der Tat gibt es Mängel bei diesen Tests.  Unit-Tests sind selbst in den trivialsten Fällen fragil.  Es gelingt ihnen nie, ihre Richtigkeit zu beweisen, denn wenn wir es versuchen würden, würde dies eine unglaubliche mentale Arbeit erfordern, und der dafür erforderliche Input wäre unmöglich vorstellbar. <br><br><pre> <code class="hljs pgsql">//   ,      fun String.<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>() = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isEmpty() || length == <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> toLowerCase() == toLowerCase().reversed() //   ,    fun String.<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>() = length &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> length &gt; <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  <code>length &gt; 1</code> kann als <b>entartete Implementierung bezeichnet werden</b> .  Es reicht völlig aus, um die Aufgabe zu lösen, berichtet jedoch selbst nichts über das Problem, das wir zu lösen versuchen. <br><br>  Die Frage ist - wann sollte ein Entwickler aufhören, Tests zu schreiben?  Die Antwort scheint einfach zu sein: Wenn es <b>aus Sicht der Geschäftslogik ausreicht</b> und nicht nach dem Autor des Codes.  Es kann unsere <b>Designleidenschaft</b> verletzen und Einfachheit kann <b>Menschen verärgern</b> .  Diese Gefühle werden durch die Zufriedenheit beim Anblick unseres eigenen sauberen Codes und das Verständnis kompensiert, dass der Code anschließend sicher überarbeitet werden kann.  Der gesamte Code wird sehr ordentlich sein. <br><br>  Beachten Sie, dass bei aller Unzuverlässigkeit Unit-Tests erforderlich sind.  Verstehe ihre Stärken und Schwächen.  Wenn sich das vollständige Bild nicht ergibt, hilft diese Lücke möglicherweise beim Ausfüllen von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mutationstests</a> . <br><br>  TDD hat seine Vorteile, aber diese Methode kann uns vom Bau unnötiger Sandburgen ablenken.  Ja, dies ist eine <b>Einschränkung</b> , aber dank dieser <b>Einschränkung</b> können Sie sich schneller, weiter und zuverlässiger bewegen.  Vielleicht hatte Onkel Bob <b>genau</b> das im Sinn, als er beschrieb, was es aus seiner Sicht bedeutet <b>, ein Profi zu sein</b> . <br><br>  Aber!  Egal wie fragil uns die Unit-Tests erscheinen, sie sind ein absolutes Muss.  Sie machen <b>Angst</b> zu <b>Mut</b> .  Tests bieten ein schonendes Code-Refactoring.  Darüber hinaus können sie als <b>Leitfaden</b> und <b>Dokumentation für</b> jeden neuen Entwickler dienen, der sofort auf dem richtigen Weg ist und zum Wohle des Projekts arbeitet - sofern dieses Projekt durch Unit-Tests gut abgedeckt ist. <br><br>  <b>7. TDD demonstriert die umgekehrte Schleife von Testanweisungen</b> <br><br>  Gehen Sie noch einen Schritt weiter.  Um die folgenden zwei Phänomene zu verstehen, untersuchen wir seltsame wiederkehrende Ereignisse.  Schauen wir uns zunächst FizzBuzz an.  Hier ist unsere Liste von Tests. <br><br><pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">/    9  15. [OK] /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  ,  3,  Fizz  . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ ...</span></span></code> </pre><br>  Wir gingen ein paar Schritte vorwärts.  Jetzt schlägt unser Test fehl. <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> `Given numbers, replace those divisible </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">by</span></span></span><span class="hljs-function"> 3 with "Fizz"`</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> machine = FizzBuzz() assertEquals(machine.print(), <span class="hljs-string"><span class="hljs-string">"?"</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FizzBuzz</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> output = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>..<span class="hljs-number"><span class="hljs-number">15</span></span>) { output += <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i % <span class="hljs-number"><span class="hljs-number">3</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-string"><span class="hljs-string">"Fizz "</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${i}</span></span></span><span class="hljs-string"> "</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> output.trim() } } Expected &lt;Fizz <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> Fizz <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> Fizz&gt;, <span class="hljs-keyword"><span class="hljs-keyword">actual</span></span> &lt;?&gt;.</code> </pre> <br>  Wenn wir die erwarteten Assertionsdaten in <code>assertEquals</code> , wird <code>assertEquals</code> das gewünschte Ergebnis erzielt und der Test durchgeführt. <br><br>  Manchmal liefern fehlgeschlagene Tests das richtige Ergebnis, um den Test zu bestehen.  Ich weiß nicht, wie ich solche Ereignisse nennen soll ... vielleicht <b>Voodoo-Tests</b> .  Wie oft Sie dies zufällig sehen - hängt teilweise von Ihrer Faulheit und Etikette beim Testen ab, aber ich habe solche Dinge oft bemerkt, wenn eine Person versucht, eine Implementierung zu erhalten, die normal mit vorgefertigten und vorhersehbaren Datensätzen funktioniert. <br><br>  <b>8. TDD zeigt die Reihenfolge der Transformationen</b> <br><br>  TDD kann Sie fangen.  Es kommt vor, dass der Entwickler in den von ihm vorgenommenen Transformationen verwirrt ist, mit denen er die gewünschte Implementierung erreicht.  Irgendwann wird der Testcode zu einem Engpass, bei dem wir stehen bleiben. <br><br>  Es bildet sich eine <b>Sackgasse</b> .  Der Entwickler muss einen Schritt zurücktreten und deaktivieren und einige der Tests entfernen, um aus dieser Falle herauszukommen.  Der Entwickler bleibt ungeschützt. <br><br>  Onkel Bob würde wahrscheinlich im Laufe der Jahre seiner Karriere in solche Sackgassen geraten. Danach wurde ihm anscheinend klar, dass er, um den Test zu bestehen, die richtige Reihenfolge der Aktionen festlegen musste, um die Wahrscheinlichkeit einer Sackgasse zu minimieren.  Außerdem musste er eine andere Bedingung erkennen.  <b>Je spezifischer die Tests werden, desto allgemeiner ist der Code</b> . <br><br><img src="https://habrastorage.org/webt/iw/a6/dp/iwa6dpb_ice2v31dtae2ux9a2rs.png"><br><br>  <i>Die Abfolge der Transformationen.</i>  <i>Sie sollten immer nach der einfachsten Option streben (ganz oben in der Liste).</i> <br><br>  Dies ist die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Übergangsprioritätsbedingung</a> .  Anscheinend besteht ein gewisses Risiko des Refactorings, das wir nach Bestehen des Tests erreichen können.  Normalerweise ist es am besten, die am Anfang der Liste angezeigte Konvertierungsoption zu wählen (die einfachste). In diesem Fall bleibt die Wahrscheinlichkeit, in eine Sackgasse zu geraten, minimal. <br><br>  <b>Die Testanalyse von</b> TPP oder <b>Onkel Bob ist</b> sozusagen eines der faszinierendsten, technologischsten und aufregendsten Phänomene, die derzeit beobachtet werden. <br><br>  Verwenden Sie es, um Ihren Code so einfach wie möglich zu halten. <br>  Drucken Sie die TPP-Liste aus und legen Sie sie auf Ihren Schreibtisch.  Fragen Sie ihn, um nicht in Sackgassen zu geraten.  Machen Sie es sich zur Regel: Die Bestellung sollte einfach sein. <br><br>  Damit ist die Geschichte meiner primären Beobachtungen abgeschlossen.  Im letzten Teil des Artikels möchte ich jedoch auf die Frage zurückkommen, die wir zu Beginn vergessen haben zu beantworten: „Wie viel Prozent der professionellen Programmierer verwenden heute TDD?“  Ich würde antworten: "Ich denke, es gibt nur wenige von ihnen."  Ich möchte diese Frage unten untersuchen und versuchen zu erklären, warum. <br><br>  <b>Ist TDD in der Praxis verankert?</b> <br><br>  Leider gibt es keine.  Subjektiv scheint der Prozentsatz seiner Unterstützer gering zu sein, und ich suche weiterhin nach Daten.  Meine Erfahrung in der Rekrutierung, Teamführung und Selbstentwicklung (was mich fasziniert) ermöglicht es mir, die folgenden Beobachtungen zu machen. <br><br>  <i><b>Grund 1: Mangelnder Kontakt zur realen Testkultur</b></i> <br><br>  Ich kann davon ausgehen, dass die meisten Entwickler nicht die Möglichkeit hatten, in einer echten <b>Testkultur</b> zu lernen und zu arbeiten. <br><br>  Testkultur ist eine Umgebung, in der Entwickler die Kunst des Testens bewusst üben und verbessern.  Sie bilden ständig Kollegen aus, die noch nicht genug Erfahrung auf diesem Gebiet haben.  In jedem Paar und jeder Poolanfrage wurde ein Feedback erstellt, das allen Teilnehmern hilft, Testfähigkeiten zu entwickeln.  Darüber hinaus gibt es in der gesamten Hierarchie der Ingenieure ernsthafte Unterstützung und ein Gefühl des Ellbogens.  Alle Manager verstehen die Essenz des Testens und glauben daran.  Wenn die Fristen ablaufen, wird die Testdisziplin nicht verworfen, sondern weiterhin eingehalten. <br><br>  Diejenigen, die das Glück hatten, sich in einer solchen Testkultur zu testen, wie zum Beispiel, hatte ich die Möglichkeit, solche Beobachtungen zu machen.  Diese Erfahrung wird uns bei neuen Projekten nützlich sein. <br><br> <i><b> 2:   </b></i> <br><br>        TDD, , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">xUnit Patterns</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Effective Unit Testing</a> . , -,   ,     ,    .               . <br><br>            .        ,     .     .  ,     ,     ,  … . <br><br> <i><b> 3:    </b></i> <br><br> :  ,   ,         .   ,   ,     ; - ,  –       . <br><br> <i><b> 4:        </b></i> <br><br>    ,   ,   TDD      .        ,     . <br><br>   ,   ,        : «  ,    ». : , «  » —     . <br><br>        –      . <br><br> <b></b> <br><br>  XP   –    <b></b> , <b></b>  <b></b> .    –       ,    .        TDD. <br><br>      ,     ,        .     «»   ,  ,   –     ,      . <br><br><img src="https://habrastorage.org/webt/dn/wb/o-/dnwbo-sr4yomfsdqjvbpda-csgc.png"><br><br> <i>  XP Explained.      ,  ,     .</i> <br><br>       ,   -      . <br><br>   ,   –  ,       .           , ,        ,       . <br><br> ,        ,         ,     . <br><br>  TDD   « »  ,       .          TDD      .   TDD . <br><br> .  TDD      ,   . TDD —  , , .   ,  TDD      ,   .     ,        . <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> `Given software, </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">when</span></span></span><span class="hljs-function"> we build, then we </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">expect</span></span></span><span class="hljs-function"> tests`</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { build(software) shoudHave tests }</code> </pre> <br> , TDD –  ,   <b></b> ,   <b> </b> .     .     ,     ,        ,    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de427853/">https://habr.com/ru/post/de427853/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de427841/index.html">Magic Leap Scam</a></li>
<li><a href="../de427843/index.html">Wie man richtig und falsch schläft</a></li>
<li><a href="../de427845/index.html">Wie man eine Million Sterne in ein iPhone passt</a></li>
<li><a href="../de427847/index.html">Neugier und Aufschub beim maschinellen Lernen</a></li>
<li><a href="../de427849/index.html">Gerade mit TM. v3.0</a></li>
<li><a href="../de427855/index.html">MOSDROID-Mitaps in FunCorp</a></li>
<li><a href="../de427857/index.html">Steuerliche und rechtliche Fragen für Anfänger</a></li>
<li><a href="../de427859/index.html">Warum technische Fähigkeiten dem Projektmanager: Erklären Sie die Fälle</a></li>
<li><a href="../de427861/index.html">Serverloses CPaaS - wie Voximplant diesen Hype vorwegnahm</a></li>
<li><a href="../de427863/index.html">Erstellen Sie eine beliebige Reihenfolge von Elementen in der Liste der Dimensionen und Kennzahlen der Excel-Pivot-Tabelle für das Tabellenmodell des SSAS-Cubes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>