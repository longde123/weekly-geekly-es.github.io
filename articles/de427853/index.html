<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÑ üë©üèΩ‚Äçü§ù‚Äçüë©üèª üîá Reflexionen √ºber TDD. Warum diese Methode nicht allgemein anerkannt ist üßíüèº üë®üèΩ üéÖüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! 

 Lange und fast erfolglos haben wir nach einem klugen Kopf gesucht, der Herrn Kent Beck auf dem Markt verdr√§ngen will - das hei√üt, wir s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reflexionen √ºber TDD. Warum diese Methode nicht allgemein anerkannt ist</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/427853/">  Hallo Habr! <br><br>  Lange und fast erfolglos haben wir nach einem klugen Kopf gesucht, der Herrn Kent Beck auf dem Markt verdr√§ngen will - das hei√üt, wir suchen jemanden, der bereit ist, ein Buch √ºber TDD f√ºr uns zu schreiben.  Mit realen Beispielen eine Geschichte √ºber Ihre eigenen Zapfen und Erfolge.  Es gibt nur sehr wenige B√ºcher zu diesem Thema, und Sie werden die Klassiker nicht bestreiten ... Vielleicht haben wir diesen Kopf deshalb noch nicht kennengelernt. <br><br>  Aus diesem Grund haben wir uns entschlossen, uns nicht nur erneut daran zu erinnern, dass wir nach einer solchen Person suchen, sondern auch die √úbersetzung eines eher kontroversen Artikels anzubieten, dessen Autor Doug Arcuri seine eigenen Gedanken dar√ºber teilt, warum TDD nie zum Mainstream wurde.  Lassen Sie uns diskutieren, ob er Recht hat und wenn nicht, warum. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/gy/lr/2o/gylr2oryutx_6nqvbabp1mayby4.png"><br><br>  <i>Dies ist keine Einf√ºhrung in die Entwicklung durch Testen.</i>  <i>Hier werde ich meine eigenen Ideen zum Neustart dieser Disziplin vorstellen und √ºber die praktischen Schwierigkeiten beim Testen von Einheiten sprechen.</i> <br><br>  Der legend√§re Programmierer Kent Beck ist der Autor der TDD-Methodik (Development Through Testing) im modernen Sinne.  Kent trug zusammen mit Erich Gamma zur Entwicklung von JUnit bei, einem weit verbreiteten Test-Framework. <br><br>  In seinem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">XP Explained-</a> Buch (zweite Ausgabe) beschreibt Kent, wie <b>Prinzipien</b> an der Schnittstelle von <b>Werten</b> und <b>Praktiken gebildet werden</b> .  Wenn Sie eine Liste von Konzepten erstellen und diese durch eine Art Formel ersetzen, erhalten Sie eine Transformation. <br><br><pre><code class="hljs powershell">[<span class="hljs-type"><span class="hljs-type">KISS</span></span>, <span class="hljs-type"><span class="hljs-type">Quality</span></span>, <span class="hljs-type"><span class="hljs-type">YAGNI</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>] + [<span class="hljs-type"><span class="hljs-type">Testing</span></span>, <span class="hljs-type"><span class="hljs-type">Specs</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>] == [<span class="hljs-type"><span class="hljs-type">TDD</span></span>, <span class="hljs-type"><span class="hljs-type">...</span></span>]</code> </pre> <br>  Ich respektiere diese Arbeit zutiefst, die f√ºr Kent ein lebenslanges Werk ist - nicht nur f√ºr seine Meisterwerke in der Programmierung, sondern auch f√ºr die Tatsache, dass er unerm√ºdlich die Essenz von <b>Vertrauen</b> , <b>Mut</b> , <b>Verleihung</b> , <b>Einfachheit</b> und <b>Verletzlichkeit</b> erforscht.  Alle diese Eigenschaften waren f√ºr die Erfindung der Extreme Programming (XP) unverzichtbar. <br><br>  TDD ist ein Prinzip und eine <b>Disziplin</b> , die in der XP-Community eingehalten wird.  Diese Disziplin ist bereits 19 Jahre alt. <br><br>  In diesem Artikel werde ich meine Meinung dar√ºber teilen, wie TDD es geschafft hat, sich zu assimilieren.  Dann werde ich interessante pers√∂nliche Beobachtungen teilen, die w√§hrend meiner TDD-Sitzung erschienen sind.  Abschlie√üend werde ich versuchen zu erkl√§ren, warum der TDD nicht so hart geschossen hat, wie es schien.  Lass uns gehen. <br><br>  <b>TDD, Forschung und Professionalit√§t</b> <br><br>  In den letzten 19 Jahren war die Disziplin TDD in der Programmiergemeinschaft umstritten. <br>  Die erste Frage, die ein professioneller Analyst Ihnen stellen w√ºrde, lautet: "Wie viel Prozent der Entwickler verwenden TDD heute?"  Wenn Sie einen Freund von Robert Martin (Onkel Bob) und einen Freund von Kent Beck danach fragen w√ºrden, w√§re die Antwort ‚Äû100%‚Äú. <br><br>  Nur Onkel Bob ist sich sicher, dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">es unm√∂glich ist, sich als Profi zu betrachten, wenn Sie die Entwicklung nicht durch Tests √ºben</a> . <br><br>  Onkel Bob ist seit mehreren Jahren eng in diese Disziplin involviert, daher ist es selbstverst√§ndlich, in dieser Rezension auf ihn zu achten.  Onkel Bob verteidigte TDD und erweiterte die Grenzen dieser Disziplin erheblich.  Sie k√∂nnen sicher sein, dass ich Onkel Bob und seinem pragmatischen Dogmatismus gr√∂√üten Respekt entgegenbringe. <br><br>  Allerdings stellt niemand die folgende Frage: "√úben hei√üt schlie√ülich" bewusst verwenden "- aber es erlaubt nicht, den Prozentsatz zu beurteilen, oder?"  Meiner subjektiven Meinung nach haben sich die meisten Programmierer selbst f√ºr eine symbolische Periode <b>nicht mit</b> TDD befasst. <br><br>  Die Realit√§t ist, dass wir diese Zahlen wirklich nicht kennen, da niemand diesen Prozentsatz aktiv untersucht hat.  Alle spezifischen Daten beschr√§nken sich auf eine kleine Auswahl von Unternehmen, die auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WeDoTDD-</a> Website gesammelt wurden.  Hier finden Sie Statistiken √ºber solche Unternehmen, Interviews mit denen, die st√§ndig TDD praktizieren, aber diese Liste ist nicht gro√ü.  Dar√ºber hinaus ist es unvollst√§ndig, da bereits eine einfache Suche andere gro√üe Organisationen aufdeckt, die an TDD beteiligt sind - aber m√∂glicherweise nicht voll ausgelastet sind. <br><br>  Wenn wir nicht wissen, wie viele Unternehmen TDD praktizieren, stellt sich die folgende Frage: "Wie effektiv ist TDD, gemessen an seinen messbaren Vorz√ºgen"? <br>  Sie werden wahrscheinlich erfreut sein, dass im Laufe der Jahre eine Reihe von Studien durchgef√ºhrt wurden, die die Wirksamkeit von TDD best√§tigen.  Darunter befinden sich definitiv ma√ügebliche Berichte von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microsoft</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IBM</a> , der University of North Carolina und der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">University of Helsinki</a> . <br><br><img src="https://habrastorage.org/webt/2p/qx/vt/2pqxvtwfp0c4pq8y-tynkuezulc.png"><br><br>  <i>Ein aussagekr√§ftiges Diagramm aus einem Bericht der Universit√§t Helsinki.</i> <br><br>  Bis zu einem gewissen Grad belegen diese Berichte, dass die Fehlerdichte um 40-60% reduziert werden kann, was mehr Arbeit erfordert.  Laufzeit erh√∂ht sich um 15-35%.  Diese Zahlen werden bereits in B√ºchern und neuen industriellen Methoden, insbesondere in der DevOps-Community, nachverfolgt. <br><br>  Wenn wir diese Fragen teilweise beantworten, wenden wir uns der letzten zu: ‚ÄûWorauf kann ich z√§hlen, wenn ich anfange, TDD zu √ºben?‚Äú  F√ºr die Antwort darauf formulierte ich meine pers√∂nlichen Beobachtungen von TDD.  Gehen wir weiter zu ihnen. <br><br>  <b>1. TDD erfordert einen verbalisierenden Ansatz</b> <br><br>  Beim √úben von TDD sto√üen wir auf das Ph√§nomen der "Zielbezeichnung".  Kurz gesagt, kurze Projekte wie die Vorbereitung fehlgeschlagener und erfolgreicher Tests sind eine ernsthafte intellektuelle Herausforderung f√ºr den Entwickler.  Der Entwickler muss klar formulieren: "Ich glaube, dass dieser Test erfolgreich sein wird" und "Ich glaube, dass dieser Test fehlschlagen wird" oder "Ich bin nicht sicher, lassen Sie mich nachdenken, nachdem ich diesen Ansatz ausprobiert habe." <br><br>  Die IDE ist f√ºr den Entwickler zu dieser Gummiente geworden, die darum bittet, aktiv mit ihr zu sprechen.  In TDD-Unternehmen sollten Gespr√§che dieser Art zumindest zu einem kontinuierlichen Summen verschmelzen. <br><br>  Denken Sie zuerst nach - und machen Sie dann Ihren n√§chsten Schritt (oder Ihre n√§chsten Schritte). <br><br>  Eine solche Verst√§rkung spielt eine Schl√ºsselrolle in der Kommunikation: Sie erm√∂glicht Ihnen nicht nur, Ihren n√§chsten Schritt vorherzusagen, sondern Sie auch dazu anzuregen, den <b>einfachsten</b> Code zu schreiben, mit dem Sie den Komponententest bestehen k√∂nnen.  Wenn der Entwickler schweigt, verliert er nat√ºrlich mit ziemlicher Sicherheit seinen Kurs, wonach er auf die Strecke zur√ºckkehren muss. <br><br>  <b>2. TDD pumpt den Motorspeicher</b> <br><br>  Der Entwickler, der seine ersten TDD-Zyklen durchl√§uft, wird schnell m√ºde - schlie√ülich ist dieser Prozess unpraktisch und bleibt st√§ndig stehen.  Dies ist eine h√§ufige Situation bei Aktivit√§ten, die eine Person gerade erst beginnt, aber noch nicht gemeistert hat.  Der Entwickler greift auf Verkn√ºpfungen zur√ºck und versucht, diesen Zyklus zu optimieren, um seine Hand zu f√ºllen und das Motorspeicher zu verbessern. <br>  Das motorische Ged√§chtnis ist unverzichtbar, damit die Arbeit Spa√ü macht und wie am Schn√ºrchen l√§uft.  In TDD ist dies aufgrund der Wiederholung von Aktionen erforderlich. <br><br>  Holen Sie sich den Spickzettel mit solchen Verkn√ºpfungen.  Holen Sie das Beste aus Ihren Tastaturk√ºrzeln in Ihrer IDE heraus, um Schleifen effektiv zu machen.  Dann suchen Sie weiter. <br><br>  In nur wenigen Sitzungen beherrscht der Entwickler die Auswahl der Verkn√ºpfungen perfekt, insbesondere reichen einige Sitzungen aus, um einen Pr√ºfstand zusammenzustellen und auszuf√ºhren.  Wenn Sie √ºben, neue Artefakte zu erstellen, Text hervorzuheben und durch die IDE zu navigieren, erscheint Ihnen dies alles v√∂llig nat√ºrlich.  Schlie√ülich werden Sie ein echter Profi und beherrschen alle Refactoring-Techniken: insbesondere Extrahieren, Umbenennen, Generieren, Erh√∂hen, Neuformatieren und Abstieg. <br><br>  <b>3. TDD erfordert zumindest ein wenig Nachdenken √ºber ihre Aktionen im Voraus</b> <br><br>  Wenn ein Entwickler dar√ºber nachdenkt, eine TDD zu starten, muss er eine kurze mentale Karte der Aufgaben ber√ºcksichtigen, die gel√∂st werden m√ºssen.  Beim traditionellen Programmieransatz ist eine solche Karte nicht immer vorhanden, und die Aufgabe selbst kann "auf Makroebene" dargestellt werden oder einen Forschungscharakter haben.  Vielleicht wei√ü der Entwickler nicht, wie er das Problem l√∂sen soll, sondern stellt sich das Ziel nur grob vor.  Unit-Tests werden zu diesem Ziel vernachl√§ssigt. <br><br>  W√§hrend Sie sich bei der Arbeit hinsetzen und mit einem weiteren ‚ÄûSitzen‚Äú enden, versuchen Sie auch, daraus ein Ritual zu machen.  Denken Sie nach und listen Sie zuerst auf.  Spiel damit.  Liste mehr.  Dann mach weiter, mach, denk nach.  Feiern.  Mehrmals wiederholen.  Dann √ºberlegen Sie noch einmal und h√∂ren Sie auf. <br><br>  Sei unnachgiebig in Bezug auf die Arbeit.  Verfolgen Sie, was bereits getan wurde - aktivieren Sie die Kontrollk√§stchen.  Falten Sie niemals, bis mindestens eine vorhanden ist.  Denken Sie nach! <br><br>  M√∂glicherweise dauert der Wortlaut der Liste einige Zeit, die nicht in den Arbeitszyklus passt.  Bevor Sie beginnen, m√ºssen Sie jedoch eine Liste haben.  Ohne sie wissen Sie nicht, wohin Sie sich bewegen.  Nirgendwo ohne Karte. <br><br><pre> <code class="hljs erlang-repl">//   // <span class="hljs-string"><span class="hljs-string">""</span></span> -&gt;   // <span class="hljs-string"><span class="hljs-string">"a"</span></span> -&gt;   // <span class="hljs-string"><span class="hljs-string">"aa"</span></span> -&gt;  // <span class="hljs-string"><span class="hljs-string">"racecar"</span></span> -&gt;  // <span class="hljs-string"><span class="hljs-string">"Racecar"</span></span> -&gt;  //   //   </code> </pre> <br>  Der Entwickler sollte <b>die</b> von Kent Beck beschriebenen <b>Tests</b> auflisten.  Mit der Testliste k√∂nnen Sie das Problem in Form von Zyklen l√∂sen, die reibungslos ineinander √ºbergehen.  √úber der Liste der Tests m√ºssen Sie st√§ndig verarbeiten und aktualisieren, auch wenn dies nur wenige Sekunden vor den Tests geschieht.  Wenn die Testliste fast vollst√§ndig abz√ºglich der letzten Stufe bestanden wurde, ist das Ergebnis ‚Äûrot‚Äú und der gesamte Test ist fehlgeschlagen. <br><br>  <b>4. TDD h√§ngt von der Kommunikation mit Kollegen ab</b> <br><br>  Nach Abschluss der obigen Liste k√∂nnen einige Schritte blockiert werden, da sie nicht ganz klar beschreiben, was zu tun ist.  Der Entwickler hat die Liste der Tests nicht verstanden.  Das Gegenteil passiert auch - die Liste ist zu grob, in der es viele Annahmen √ºber die Anforderungen gibt, die noch nicht formuliert wurden.  Wenn Sie so etwas bekommen, h√∂ren Sie sofort auf. <br><br>  Das Handeln ohne TDD kann zu √ºberm√§√üig komplexen Implementierungen f√ºhren.  Arbeiten im Stil von TDD, aber gedankenlos ohne Liste, ist nicht weniger gef√§hrlich. <br><br>  Wenn Sie feststellen, dass die Testliste L√ºcken enth√§lt, stehen Sie auf und sagen Sie es laut. <br><br>  In TDD muss der Entwickler verstehen, welches Produkt zu tun ist, wobei er sich von der Idee der notwendigen Anforderungen bei der Interpretation des Eigent√ºmers leiten l√§sst - und nicht mehr.  Wenn die Anforderung in diesem Zusammenhang unklar ist, beginnt die Liste der Tests auseinanderzufallen.  Dieser Fehler muss diskutiert werden.  Eine ruhige Diskussion hilft schnell, Vertrauen und Respekt aufzubauen.  Au√üerdem werden auf diese Weise schnelle R√ºckkopplungsschleifen gebildet. <br><br>  <b>5. TDD erfordert eine iterative Architektur</b> <br><br>  Bereits in der ersten Ausgabe seines XP-Buches schlug Kent vor, dass Tests die treibende Kraft hinter der Architektur sein sollten.  Im Laufe mehrerer Jahre sind jedoch Geschichten dar√ºber aufgetaucht, wie Sprintteams bereits in wenigen Sprints √ºber eine Wand stolpern. <br><br>  Nat√ºrlich ist es irrational, eine auf Tests basierende Architektur aufzubauen.  Onkel Bob selbst stimmte anderen Experten zu, dass es nicht gut sei.  Eine umfangreichere Karte ist erforderlich, jedoch nicht zu weit von den Testlisten entfernt, die Sie ‚Äûvor Ort‚Äú entwickelt haben. <br><br>  Viele Jahre sp√§ter √§u√üerte Kent diese These auch in seinem Buch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">TDD By Example</a> .  <b>Wettbewerbsf√§higkeit</b> und <b>Sicherheit</b> sind zwei Hauptbereiche, in denen TDD nicht die treibende Kraft sein kann, und der Entwickler muss sie separat behandeln.  Wir k√∂nnen sagen, dass Wettbewerbsf√§higkeit eine andere Ebene des Systemdesigns ist. Die Wettbewerbsf√§higkeit muss durch Iterationen entwickelt werden, die diesen Prozess mit TDD koordinieren.  Dies gilt insbesondere heute, da sich einige Architekturen in Richtung eines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">reaktiven Paradigmas</a> und reaktiver Erweiterungen entwickeln ( <b>Reaktivit√§t</b> ist Wettbewerbsf√§higkeit auf ihrem H√∂hepunkt). <br><br>  Erstellen Sie eine gr√∂√üere Karte der gesamten Organisation.  Helfen, die Dinge ein wenig in der Perspektive zu sehen.  Stellen Sie sicher, dass Sie und das Team sich im selben Kurs bewegen. <br><br>  Die wichtigste Idee ist jedoch die <b>Organisation des</b> gesamten Systems, und eine TDD-Organisation ist nicht vorgesehen.  Tatsache ist, dass Unit-Tests eine einfache Sache sind.  Die iterative Architektur und die TDD-Orchestrierung sind in der Praxis komplex und erfordern Vertrauen zwischen allen Teammitgliedern, Paarprogrammierung und solide Code√ºberpr√ºfungen.  Es ist nicht ganz klar, wie dies erreicht werden soll, aber bald k√∂nnen Sie sehen, dass kurze Entwurfssitzungen im Einklang mit der Implementierung von Testlisten im Themenbereich durchgef√ºhrt werden sollten. <br><br>  <b>6. TDD zeigt die Fragilit√§t von Unit-Tests und die entartete Implementierung</b> <br><br>  Unit-Tests haben eine unterhaltsame Funktion, und TDD verr√§t sie vollst√§ndig.  Sie erlauben nicht, die Richtigkeit zu beweisen.  E.V.Dijkstra arbeitete an diesem Problem und diskutierte, wie in unserem Fall mathematische Beweise m√∂glich sind, die diese L√ºcke f√ºllen w√ºrden. <br><br>  Im folgenden Beispiel werden beispielsweise alle Tests gel√∂st, die sich auf ein hypothetisches unvollkommenes Palindrom beziehen, das von der Gesch√§ftslogik vorgegeben wird.  Ein Beispiel wird unter Verwendung der TDD-Methodik entwickelt. <br><br><pre> <code class="hljs pgsql">//    @Test fun `Given "", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>`() { "".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeFalse() } @Test fun `Given "a", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>`() { "a".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeFalse() } @Test fun `Given "aa", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "aa".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "abba", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "abba".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "racecar", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "racecar".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() } @Test fun `Given "Racecar", <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> it validates`() { "Racecar".<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>().shouldBeTrue() }</code> </pre> <br>  In der Tat gibt es M√§ngel bei diesen Tests.  Unit-Tests sind selbst in den trivialsten F√§llen fragil.  Es gelingt ihnen nie, ihre Richtigkeit zu beweisen, denn wenn wir es versuchen w√ºrden, w√ºrde dies eine unglaubliche mentale Arbeit erfordern, und der daf√ºr erforderliche Input w√§re unm√∂glich vorstellbar. <br><br><pre> <code class="hljs pgsql">//   ,      fun String.<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>() = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isEmpty() || length == <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> toLowerCase() == toLowerCase().reversed() //   ,    fun String.<span class="hljs-keyword"><span class="hljs-keyword">validate</span></span>() = length &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> length &gt; <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  <code>length &gt; 1</code> kann als <b>entartete Implementierung bezeichnet werden</b> .  Es reicht v√∂llig aus, um die Aufgabe zu l√∂sen, berichtet jedoch selbst nichts √ºber das Problem, das wir zu l√∂sen versuchen. <br><br>  Die Frage ist - wann sollte ein Entwickler aufh√∂ren, Tests zu schreiben?  Die Antwort scheint einfach zu sein: Wenn es <b>aus Sicht der Gesch√§ftslogik ausreicht</b> und nicht nach dem Autor des Codes.  Es kann unsere <b>Designleidenschaft</b> verletzen und Einfachheit kann <b>Menschen ver√§rgern</b> .  Diese Gef√ºhle werden durch die Zufriedenheit beim Anblick unseres eigenen sauberen Codes und das Verst√§ndnis kompensiert, dass der Code anschlie√üend sicher √ºberarbeitet werden kann.  Der gesamte Code wird sehr ordentlich sein. <br><br>  Beachten Sie, dass bei aller Unzuverl√§ssigkeit Unit-Tests erforderlich sind.  Verstehe ihre St√§rken und Schw√§chen.  Wenn sich das vollst√§ndige Bild nicht ergibt, hilft diese L√ºcke m√∂glicherweise beim Ausf√ºllen von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mutationstests</a> . <br><br>  TDD hat seine Vorteile, aber diese Methode kann uns vom Bau unn√∂tiger Sandburgen ablenken.  Ja, dies ist eine <b>Einschr√§nkung</b> , aber dank dieser <b>Einschr√§nkung</b> k√∂nnen Sie sich schneller, weiter und zuverl√§ssiger bewegen.  Vielleicht hatte Onkel Bob <b>genau</b> das im Sinn, als er beschrieb, was es aus seiner Sicht bedeutet <b>, ein Profi zu sein</b> . <br><br>  Aber!  Egal wie fragil uns die Unit-Tests erscheinen, sie sind ein absolutes Muss.  Sie machen <b>Angst</b> zu <b>Mut</b> .  Tests bieten ein schonendes Code-Refactoring.  Dar√ºber hinaus k√∂nnen sie als <b>Leitfaden</b> und <b>Dokumentation f√ºr</b> jeden neuen Entwickler dienen, der sofort auf dem richtigen Weg ist und zum Wohle des Projekts arbeitet - sofern dieses Projekt durch Unit-Tests gut abgedeckt ist. <br><br>  <b>7. TDD demonstriert die umgekehrte Schleife von Testanweisungen</b> <br><br>  Gehen Sie noch einen Schritt weiter.  Um die folgenden zwei Ph√§nomene zu verstehen, untersuchen wir seltsame wiederkehrende Ereignisse.  Schauen wir uns zun√§chst FizzBuzz an.  Hier ist unsere Liste von Tests. <br><br><pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">/    9  15. [OK] /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  ,  3,  Fizz  . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ ...</span></span></code> </pre><br>  Wir gingen ein paar Schritte vorw√§rts.  Jetzt schl√§gt unser Test fehl. <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> `Given numbers, replace those divisible </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">by</span></span></span><span class="hljs-function"> 3 with "Fizz"`</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> machine = FizzBuzz() assertEquals(machine.print(), <span class="hljs-string"><span class="hljs-string">"?"</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FizzBuzz</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> output = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>..<span class="hljs-number"><span class="hljs-number">15</span></span>) { output += <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i % <span class="hljs-number"><span class="hljs-number">3</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-string"><span class="hljs-string">"Fizz "</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${i}</span></span></span><span class="hljs-string"> "</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> output.trim() } } Expected &lt;Fizz <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> Fizz <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span> Fizz&gt;, <span class="hljs-keyword"><span class="hljs-keyword">actual</span></span> &lt;?&gt;.</code> </pre> <br>  Wenn wir die erwarteten Assertionsdaten in <code>assertEquals</code> , wird <code>assertEquals</code> das gew√ºnschte Ergebnis erzielt und der Test durchgef√ºhrt. <br><br>  Manchmal liefern fehlgeschlagene Tests das richtige Ergebnis, um den Test zu bestehen.  Ich wei√ü nicht, wie ich solche Ereignisse nennen soll ... vielleicht <b>Voodoo-Tests</b> .  Wie oft Sie dies zuf√§llig sehen - h√§ngt teilweise von Ihrer Faulheit und Etikette beim Testen ab, aber ich habe solche Dinge oft bemerkt, wenn eine Person versucht, eine Implementierung zu erhalten, die normal mit vorgefertigten und vorhersehbaren Datens√§tzen funktioniert. <br><br>  <b>8. TDD zeigt die Reihenfolge der Transformationen</b> <br><br>  TDD kann Sie fangen.  Es kommt vor, dass der Entwickler in den von ihm vorgenommenen Transformationen verwirrt ist, mit denen er die gew√ºnschte Implementierung erreicht.  Irgendwann wird der Testcode zu einem Engpass, bei dem wir stehen bleiben. <br><br>  Es bildet sich eine <b>Sackgasse</b> .  Der Entwickler muss einen Schritt zur√ºcktreten und deaktivieren und einige der Tests entfernen, um aus dieser Falle herauszukommen.  Der Entwickler bleibt ungesch√ºtzt. <br><br>  Onkel Bob w√ºrde wahrscheinlich im Laufe der Jahre seiner Karriere in solche Sackgassen geraten. Danach wurde ihm anscheinend klar, dass er, um den Test zu bestehen, die richtige Reihenfolge der Aktionen festlegen musste, um die Wahrscheinlichkeit einer Sackgasse zu minimieren.  Au√üerdem musste er eine andere Bedingung erkennen.  <b>Je spezifischer die Tests werden, desto allgemeiner ist der Code</b> . <br><br><img src="https://habrastorage.org/webt/iw/a6/dp/iwa6dpb_ice2v31dtae2ux9a2rs.png"><br><br>  <i>Die Abfolge der Transformationen.</i>  <i>Sie sollten immer nach der einfachsten Option streben (ganz oben in der Liste).</i> <br><br>  Dies ist die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√úbergangspriorit√§tsbedingung</a> .  Anscheinend besteht ein gewisses Risiko des Refactorings, das wir nach Bestehen des Tests erreichen k√∂nnen.  Normalerweise ist es am besten, die am Anfang der Liste angezeigte Konvertierungsoption zu w√§hlen (die einfachste). In diesem Fall bleibt die Wahrscheinlichkeit, in eine Sackgasse zu geraten, minimal. <br><br>  <b>Die Testanalyse von</b> TPP oder <b>Onkel Bob ist</b> sozusagen eines der faszinierendsten, technologischsten und aufregendsten Ph√§nomene, die derzeit beobachtet werden. <br><br>  Verwenden Sie es, um Ihren Code so einfach wie m√∂glich zu halten. <br>  Drucken Sie die TPP-Liste aus und legen Sie sie auf Ihren Schreibtisch.  Fragen Sie ihn, um nicht in Sackgassen zu geraten.  Machen Sie es sich zur Regel: Die Bestellung sollte einfach sein. <br><br>  Damit ist die Geschichte meiner prim√§ren Beobachtungen abgeschlossen.  Im letzten Teil des Artikels m√∂chte ich jedoch auf die Frage zur√ºckkommen, die wir zu Beginn vergessen haben zu beantworten: ‚ÄûWie viel Prozent der professionellen Programmierer verwenden heute TDD?‚Äú  Ich w√ºrde antworten: "Ich denke, es gibt nur wenige von ihnen."  Ich m√∂chte diese Frage unten untersuchen und versuchen zu erkl√§ren, warum. <br><br>  <b>Ist TDD in der Praxis verankert?</b> <br><br>  Leider gibt es keine.  Subjektiv scheint der Prozentsatz seiner Unterst√ºtzer gering zu sein, und ich suche weiterhin nach Daten.  Meine Erfahrung in der Rekrutierung, Teamf√ºhrung und Selbstentwicklung (was mich fasziniert) erm√∂glicht es mir, die folgenden Beobachtungen zu machen. <br><br>  <i><b>Grund 1: Mangelnder Kontakt zur realen Testkultur</b></i> <br><br>  Ich kann davon ausgehen, dass die meisten Entwickler nicht die M√∂glichkeit hatten, in einer echten <b>Testkultur</b> zu lernen und zu arbeiten. <br><br>  Testkultur ist eine Umgebung, in der Entwickler die Kunst des Testens bewusst √ºben und verbessern.  Sie bilden st√§ndig Kollegen aus, die noch nicht genug Erfahrung auf diesem Gebiet haben.  In jedem Paar und jeder Poolanfrage wurde ein Feedback erstellt, das allen Teilnehmern hilft, Testf√§higkeiten zu entwickeln.  Dar√ºber hinaus gibt es in der gesamten Hierarchie der Ingenieure ernsthafte Unterst√ºtzung und ein Gef√ºhl des Ellbogens.  Alle Manager verstehen die Essenz des Testens und glauben daran.  Wenn die Fristen ablaufen, wird die Testdisziplin nicht verworfen, sondern weiterhin eingehalten. <br><br>  Diejenigen, die das Gl√ºck hatten, sich in einer solchen Testkultur zu testen, wie zum Beispiel, hatte ich die M√∂glichkeit, solche Beobachtungen zu machen.  Diese Erfahrung wird uns bei neuen Projekten n√ºtzlich sein. <br><br> <i><b> 2:   </b></i> <br><br>        TDD, , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">xUnit Patterns</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Effective Unit Testing</a> . , -,   ,     ,    .               . <br><br>            .        ,     .     .  ,     ,     ,  ‚Ä¶ . <br><br> <i><b> 3:    </b></i> <br><br> :  ,   ,         .   ,   ,     ; - ,  ‚Äì       . <br><br> <i><b> 4:        </b></i> <br><br>    ,   ,   TDD      .        ,     . <br><br>   ,   ,        : ¬´  ,    ¬ª. : , ¬´  ¬ª ‚Äî     . <br><br>        ‚Äì      . <br><br> <b></b> <br><br>  XP   ‚Äì    <b></b> , <b></b>  <b></b> .    ‚Äì       ,    .        TDD. <br><br>      ,     ,        .     ¬´¬ª   ,  ,   ‚Äì     ,      . <br><br><img src="https://habrastorage.org/webt/dn/wb/o-/dnwbo-sr4yomfsdqjvbpda-csgc.png"><br><br> <i>  XP Explained.      ,  ,     .</i> <br><br>       ,   -      . <br><br>   ,   ‚Äì  ,       .           , ,        ,       . <br><br> ,        ,         ,     . <br><br>  TDD   ¬´ ¬ª  ,       .          TDD      .   TDD . <br><br> .  TDD      ,   . TDD ‚Äî  , , .   ,  TDD      ,   .     ,        . <br><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> `Given software, </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">when</span></span></span><span class="hljs-function"> we build, then we </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">expect</span></span></span><span class="hljs-function"> tests`</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { build(software) shoudHave tests }</code> </pre> <br> , TDD ‚Äì  ,   <b></b> ,   <b> </b> .     .     ,     ,        ,    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de427853/">https://habr.com/ru/post/de427853/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de427841/index.html">Magic Leap Scam</a></li>
<li><a href="../de427843/index.html">Wie man richtig und falsch schl√§ft</a></li>
<li><a href="../de427845/index.html">Wie man eine Million Sterne in ein iPhone passt</a></li>
<li><a href="../de427847/index.html">Neugier und Aufschub beim maschinellen Lernen</a></li>
<li><a href="../de427849/index.html">Gerade mit TM. v3.0</a></li>
<li><a href="../de427855/index.html">MOSDROID-Mitaps in FunCorp</a></li>
<li><a href="../de427857/index.html">Steuerliche und rechtliche Fragen f√ºr Anf√§nger</a></li>
<li><a href="../de427859/index.html">Warum technische F√§higkeiten dem Projektmanager: Erkl√§ren Sie die F√§lle</a></li>
<li><a href="../de427861/index.html">Serverloses CPaaS - wie Voximplant diesen Hype vorwegnahm</a></li>
<li><a href="../de427863/index.html">Erstellen Sie eine beliebige Reihenfolge von Elementen in der Liste der Dimensionen und Kennzahlen der Excel-Pivot-Tabelle f√ºr das Tabellenmodell des SSAS-Cubes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>