<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïì üïµüèª üíñ VM ou Docker? üö§ üï≥Ô∏è üë©‚Äçüë©‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comment comprendre que vous avez besoin d'un Docker, pas d'une VM? Essayons de comprendre les principales diff√©rences entre l'isolement des machines v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VM ou Docker?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474068/"><p> Comment comprendre que vous avez besoin d'un Docker, pas d'une VM?  Essayons de comprendre les principales diff√©rences entre l'isolement des machines virtuelles (VM) et les conteneurs Docker, s'ils peuvent √™tre interchangeables et comment nous pouvons les utiliser. </p><a name="habracut"></a><br><p>  <strong>Quelle est donc la diff√©rence entre les conteneurs Docker et la VM?</strong> <br>  <strong><em>Une machine virtuelle (VM)</em></strong> est un ordinateur virtuel avec tous les p√©riph√©riques virtuels et un disque dur virtuel, sur lequel un nouveau syst√®me d'exploitation ind√©pendant (syst√®me d'exploitation invit√©) est install√© avec les pilotes de p√©riph√©riques virtuels, la gestion de la m√©moire et d'autres composants.  Autrement dit, nous obtenons une abstraction d'√©quipement physique qui vous permet d'ex√©cuter de nombreux ordinateurs virtuels sur un seul ordinateur.  L'√©quipement virtuel est affich√© dans les propri√©t√©s du syst√®me et les applications install√©es interagissent avec lui comme si elles √©taient r√©elles.  Dans le m√™me temps, la machine virtuelle elle-m√™me est compl√®tement isol√©e du vrai ordinateur, bien qu'elle puisse avoir acc√®s √† son disque et √† ses p√©riph√©riques. <br>  <strong><em>Une machine virtuelle install√©e peut occuper de l'espace sur un disque d'ordinateur de diff√©rentes mani√®res:</em></strong> </p><br><ul><li>  espace fixe sur le disque dur, qui permet un acc√®s plus rapide au disque dur virtuel et √©vite la fragmentation des fichiers; </li><li>  allocation dynamique de m√©moire.  Lors de l'installation d'applications suppl√©mentaires, la m√©moire leur sera allou√©e dynamiquement jusqu'√† ce qu'elle atteigne le montant maximal qui lui est allou√©. </li></ul><br><p>  Lorsque vous utilisez une machine virtuelle, il y a des co√ªts suppl√©mentaires pour √©muler un √©quipement virtuel et lancer un syst√®me d'exploitation invit√©, prendre en charge et administrer l'environnement n√©cessaire au fonctionnement de votre application.  De plus, lorsque vous d√©ployez un grand nombre de machines virtuelles sur le serveur, la quantit√© d'espace qu'elles occupent sur le disque dur ne fera qu'augmenter, car  chaque machine virtuelle n√©cessite de l'espace, au moins pour le syst√®me d'exploitation invit√© et les pilotes pour les p√©riph√©riques virtuels. </p><br><p>  <strong><em>Docker</em></strong> est un logiciel de cr√©ation d'applications bas√©es sur des conteneurs.  Les conteneurs et les machines virtuelles r√©solvent un probl√®me, mais ils le font diff√©remment.  Les conteneurs prennent moins de place car  R√©utilisez plus de ressources partag√©es du syst√®me h√¥te que la machine virtuelle  contrairement √† VM, il fournit la virtualisation au niveau du syst√®me d'exploitation, pas le mat√©riel.  Cette approche offre moins d'espace sur le disque dur, un d√©ploiement plus rapide et une mise √† l'√©chelle plus facile. </p><br><p>  Le conteneur Docker fournit un m√©canisme d'encapsulation d'application plus efficace, fournissant les interfaces de syst√®me h√¥te n√©cessaires.  Cette fonctionnalit√© permet aux conteneurs de diviser le c≈ìur du syst√®me, o√π chaque conteneur fonctionne comme un processus distinct du syst√®me d'exploitation principal, qui poss√®de son propre espace d'adressage virtuel, de sorte que les donn√©es appartenant √† diff√©rentes zones de m√©moire ne peuvent pas √™tre modifi√©es. </p><br><p>  Docker est la technologie la plus courante pour utiliser des conteneurs dans l'application.  Il est devenu la norme dans ce domaine, s'appuyant sur les cgroups et l'espace de noms fournis par le noyau Linux.  Le syst√®me d'exploitation natif pour Docker est Linux, donc le lancement des conteneurs Docker sur Windows aura lieu √† l'int√©rieur d'une machine virtuelle Linux. </p><br><p>  <strong>De quoi est fait le contenant?</strong> </p><br><p>  <strong><em>Une image</em></strong> est l'√©l√©ment principal √† partir duquel les conteneurs sont cr√©√©s.  L'image est cr√©√©e √† partir du Dockerfile ajout√© au projet et est un ensemble de syst√®mes de fichiers (couches) superpos√©s et regroup√©s, en lecture seule;  le nombre maximum de couches est 127. </p><br><p>  Au c≈ìur de chaque image se trouve une image de base, qui est indiqu√©e par la commande FROM - le point d'entr√©e pour la formation de l'image Dockerfile.  Chaque couche est une couche en lecture seule et est repr√©sent√©e par une commande modifiant le syst√®me de fichiers √©crit dans le Dockerfile.  Cette approche permet √† diff√©rents fichiers et r√©pertoires de diff√©rentes couches de fichiers de se chevaucher de mani√®re transparente, cr√©ant ainsi un syst√®me de fichiers int√©gr√© en cascade.  Les couches contiennent des m√©tadonn√©es, vous permettant d'enregistrer des informations connexes sur chaque couche au moment de l'ex√©cution et de la g√©n√©ration.  Chaque calque contient un lien vers le calque suivant.Si le calque n'a pas de lien, il s'agit du calque le plus haut de l'image. <br>  √Ä partir de la version Docker EE 06.17.02-ee5 et du moteur Docker - Communaut√©, Overlay2 ou Overlay est utilis√©, et les versions ant√©rieures utilisent AuFS (Advanced multi layerayer Union file system). </p><br><p>  <strong>Conteneur - comment √ßa marche?</strong> </p><br><p>  <strong><em>Un conteneur</em></strong> est une abstraction au niveau de l'application qui combine du code et des d√©pendances.  Les conteneurs sont toujours cr√©√©s √† partir d'images, en ajoutant une couche sup√©rieure inscriptible et en initialisant divers param√®tres.  √âtant donn√© que le conteneur a sa propre couche d'enregistrement et que toutes les modifications sont enregistr√©es dans cette couche, plusieurs conteneurs peuvent partager l'acc√®s √† la m√™me image.  Chaque conteneur peut √™tre configur√© via un fichier dans le projet docker-compose.yml, d√©finissant divers param√®tres, tels que le nom du conteneur, les ports, les identifiants, les d√©pendances entre les autres conteneurs.  Si vous ne sp√©cifiez pas de nom de conteneur dans les param√®tres, Docker cr√©era un nouveau conteneur √† chaque fois, en lui attribuant un nom au hasard. </p><br><p>  Lorsque le conteneur d√©marre √† partir de l'image, Docker monte le syst√®me de fichiers pour la lecture et l'√©criture sur les couches ci-dessous.  C'est l√† que tous les processus seront ex√©cut√©s.  Lorsque vous d√©marrez le conteneur pour la premi√®re fois, la couche de lecture-√©criture initiale est vide.  Lorsque des changements se produisent, ils s'appliquent √† cette couche;  par exemple, si vous souhaitez modifier un fichier, ce fichier sera copi√© de la couche inf√©rieure en lecture seule vers la couche de lecture et d'√©criture.  Une version en lecture seule du fichier existera toujours, mais elle est d√©sormais masqu√©e sous la copie. </p><br><p>  <strong>Comment fonctionne un syst√®me de fichiers f√©d√©r√© en cascade?</strong> </p><br><p>  Un syst√®me de fichiers int√©gr√© en cascade (FS) impl√©mente un m√©canisme de copie par copie (COW).  L'unit√© de travail est une couche, chaque couche doit √™tre consid√©r√©e comme un syst√®me de fichiers √† part enti√®re avec une hi√©rarchie de r√©pertoires √† partir de la racine elle-m√™me.  Cette approche utilise le montage unifi√© de syst√®mes de fichiers, permettant, de mani√®re transparente pour l'utilisateur, de combiner des fichiers et des r√©pertoires de divers syst√®mes de fichiers (appel√©s branches) en un seul syst√®me de fichiers connect√©.  Le contenu des r√©pertoires avec les m√™mes chemins sera affich√© ensemble dans un r√©pertoire combin√© (dans un seul espace de noms) du syst√®me de fichiers r√©sultant. </p><br><p>  <strong><em>Les couches sont fusionn√©es selon les principes suivants:</em></strong> </p><br><ul><li>  l'une des couches devient une couche du niveau sup√©rieur, la deuxi√®me couche et les couches suivantes deviennent des couches du niveau inf√©rieur; </li><li>  les objets de calque sont accessibles √† l'utilisateur ¬´de haut en bas¬ª  si l'objet demand√© se trouve dans le calque ¬´sup√©rieur¬ª, il est renvoy√©, quelle que soit la pr√©sence d'un objet portant ce nom dans le calque ¬´inf√©rieur¬ª;  sinon, l'objet de la couche "inf√©rieure" est retourn√©;  si l'objet demand√© n'est pas l√†, l√† ou l√†, l'erreur ¬´Aucun fichier ou r√©pertoire¬ª est renvoy√©e; </li><li>  la couche de travail est ¬´sup√©rieure¬ª, c'est-√†-dire que toutes les actions de l'utilisateur pour modifier les donn√©es sont refl√©t√©es uniquement sur la couche de niveau sup√©rieur, sans affecter le contenu des couches de niveau inf√©rieur. </li></ul><br><p>  <strong>Conclusion</strong> </p><br><p>  Si vous avez besoin de virtualiser un syst√®me avec des ressources d√©di√©es et du mat√©riel virtuel garantis, vous devez choisir une machine virtuelle.  Ce qui donne l'utilisation de VM: </p><br><ul><li>  la possibilit√© d'installer plusieurs syst√®mes d'exploitation diff√©rents sur un m√™me ordinateur; </li><li>  distribution des ressources syst√®me entre les machines virtuelles; </li><li>  pas besoin de red√©marrer pour basculer entre les syst√®mes d'exploitation; </li><li>  la possibilit√© de prendre un ¬´instantan√©¬ª de l'√©tat actuel du syst√®me et du contenu des disques pour ramener le syst√®me √† son √©tat d'origine; </li><li>  isolation des d√©fauts et violations du syst√®me de s√©curit√© au niveau mat√©riel; </li><li>  la possibilit√© de simuler un r√©seau informatique sur un ordinateur. </li></ul><br><p>  Si vous souhaitez isoler les applications en cours d'ex√©cution en tant que processus distincts, Docker vous convient.  Ce qui donne l'utilisation de Docker: </p><br><ul><li>  fournit la virtualisation au niveau du syst√®me d'exploitation; </li><li>  les conteneurs partagent le c≈ìur du syst√®me, fonctionnant comme un processus distinct du syst√®me d'exploitation principal; </li><li>  la consommation des ressources syst√®me, telles que la consommation de m√©moire et la charge CPU, peut √™tre limit√©e s√©par√©ment pour chaque conteneur √† l'aide de groupes de contr√¥le; </li><li>  FS pour les conteneurs est cr√©√© √† l'aide du m√©canisme COW, qui permet d'acc√©l√©rer le d√©ploiement des applications, de r√©duire la consommation de m√©moire et d'√©conomiser de l'espace disque; </li><li>  le syst√®me de fichiers modifi√© d'un conteneur peut √™tre utilis√© comme base pour la formation de nouvelles images de base d'autres conteneurs. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr474068/">https://habr.com/ru/post/fr474068/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr474048/index.html">HILDACRYPT: un nouveau ransomware frappe les syst√®mes de sauvegarde et les solutions antivirus</a></li>
<li><a href="../fr474050/index.html">Vous ne pouvez pas simplement prendre et ex√©cuter votre application si vous √™tes la star de l'industrie musicale</a></li>
<li><a href="../fr474052/index.html">Panier de difficult√© pour le voyageur</a></li>
<li><a href="../fr474054/index.html">Webinaire ouvert "Fondamentaux de MongoDB"</a></li>
<li><a href="../fr474062/index.html">Compter l'argent. Choisir une m√©trique dans la notation du cr√©dit</a></li>
<li><a href="../fr474070/index.html">Dispositifs de salle de r√©union BYOD</a></li>
<li><a href="../fr474076/index.html">Comment devenir le meilleur au monde dans une niche</a></li>
<li><a href="../fr474080/index.html">Bot t√©l√©gramme montrant les premi√®res pages des 10 p√©riodiques mondiaux les plus populaires</a></li>
<li><a href="../fr474082/index.html">Phonocut - un enregistreur de vinyle domestique: r√©flexions sur la probabilit√© de d√©collage</a></li>
<li><a href="../fr474084/index.html">Julia et les r√©seaux de neurones: Flux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>