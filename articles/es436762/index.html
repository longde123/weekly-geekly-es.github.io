<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ üà≤ üë®üèº‚Äçüé® Couchbase en Telecom üë¥üèº ü¶ï üîå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La transformaci√≥n digital es una tendencia global para las grandes empresas y es vital para adaptar una empresa a las necesidades modernas de los clie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Couchbase en Telecom</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436762/"><p>  La transformaci√≥n digital es una tendencia global para las grandes empresas y es vital para adaptar una empresa a las necesidades modernas de los clientes.  Adem√°s de los problemas habituales de centralizar sistemas para grandes empresas y combinar sistemas de facturaci√≥n y bases de datos de suscriptores, se agregan requisitos de alta disponibilidad y un modo de operaci√≥n en tiempo real al que los clientes ya est√°n acostumbrados por los l√≠deres de la industria (Google, Amazon, Netflix). </p><br><p>  Los nuevos desaf√≠os requieren nuevas tecnolog√≠as y enfoques necesarios para reducir el tiempo de introducci√≥n de funciones convenientes para el cliente, ofertas comerciales personalizadas, respuesta r√°pida a las ofertas de la competencia, as√≠ como el control de costos para sistemas, infraestructura de TI, centros de datos y personal calificado.  Estas tendencias tambi√©n son un gran inconveniente: la complejidad de la arquitectura y las bases de datos transaccionales infladas que no pueden hacer frente al flujo y al procesamiento de la informaci√≥n.  Las tecnolog√≠as de la generaci√≥n anterior tienen un techo de escala vertical.  Por ejemplo, una instancia de Oracle DBMS se ejecuta en el l√≠mite del servidor m√°s potente en procesadores x86 con una carga de mil millones de transacciones por d√≠a. </p><br><img src="https://habrastorage.org/webt/ai/bq/m-/aibqm-rewdzdcsg-6vtcbcv36lw.gif"><br><p>  Para soportar una carga similar a la que la industria de Internet ha estado enfrentando durante mucho tiempo, se utiliza una nueva pila de tecnolog√≠as, como cach√©s en memoria y bases de datos NoSQL.  Entonces, Apple usa Cassandra, Sberbank - Ignite (GridGain), en MegaFon usamos Couchbase y Tarantool. </p><br><p>  MegaFon usa diferentes patrones arquitect√≥nicos para el DBMS en memoria: </p><br><ol><li>  Cach√© simple, actualizado seg√∫n lo programado o por evento desde la base de datos y las aplicaciones </li><li>  Todos los cambios en la base de datos se realizan a trav√©s de la memoria cach√© (secuencia de comandos de escritura), por ejemplo, conectando un cliente Oracle a DCP Couchbase </li></ol><br><p><a name="habracut"></a>  Para uno de nuestros sistemas de toma de decisiones para la vida del suscriptor, utilizamos la primera plantilla, ya que solo una aplicaci√≥n sobre la totalidad de los datos toma una decisi√≥n y la env√≠a a todos los sistemas, incluida la base de datos Oracle.  Uno de los casos m√°s brillantes de usar el ciclo de vida de un suscriptor es bloquear y desbloquear en un saldo negativo.  Despu√©s de todo, todos los suscriptores de operadores m√≥viles despu√©s de reponer el saldo desean estar en contacto de inmediato y hacer llamadas.  Gracias a una aplicaci√≥n separada y Couchbase, pudimos reducir el tiempo para salir de la cerradura de 90 segundos a 30 y este no es el l√≠mite.  Solo el registro sobre el cambio en el estado del suscriptor ingresar√° a la base de datos principal (Fig. 1) </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lf/to/o5/lftoo5voqj_ycrfngqgwo74_i6w.png"></div><br>  <i>Figura 1 (Ejemplo de interacci√≥n)</i> <br><br><p>  Con el uso de nuevas tecnolog√≠as, pudimos reducir 3 veces el tiempo para salir del bloqueo financiero.  Pero para obtener los resultados actuales, hemos recorrido un largo camino en la transformaci√≥n arquitect√≥nica del circuito de facturaci√≥n y en la elecci√≥n de la base de datos NoSQL. </p><br><p>  ¬øPor qu√© elegimos Couchbase?  Hay varias razones para esto. </p><br><p>  <strong>Requisito de rendimiento</strong> </p><br><ol><li>  Procesando hasta 200,000 solicitudes por segundo. </li><li>  El tiempo de respuesta promedio (50%) es de hasta 5 ms (dentro de un solo centro de datos). </li><li>  El tiempo de respuesta m√°ximo (99%) es de hasta 15 ms (dentro de un centro de datos). </li><li>  M√°ximo rendimiento de inserci√≥n 500 MB / seg. </li><li>  N√∫mero m√°ximo de operaciones de inserci√≥n 100,000 / s </li><li>  N√∫mero m√°ximo de operaciones de cambio (actualizaciones de documentos) 100,000 / s </li><li>  M√°ximo rendimiento de los cambios (actualizaciones de documentos) 500 MB / seg. </li><li>  N√∫mero m√°ximo de operaciones de lectura 100,000 / s </li><li>  Velocidad m√°xima de lectura 500 MB / seg. </li></ol><br><p>  <strong>B√∫squeda de clave de alto rendimiento y acceso a datos</strong> </p><br><p>  En el n√∫cleo de Couchbase se encuentra Distributed Key Vault (KV).  El repositorio de KV es un enfoque de gesti√≥n de datos extremadamente simple que almacena un identificador (clave) √∫nico junto con una informaci√≥n arbitraria.  El repositorio KV en s√≠ mismo puede aceptar cualquier dato, ya sea un blob binario o un documento JSON.  Debido a la simplicidad de la implementaci√≥n de KV, se garantiza el acceso a los datos con un retraso m√≠nimo.  Como muestra nuestra experiencia, con mayor frecuencia la latencia de la red es 2-3 veces mayor que proporcionar datos clave en el lado de Couchbase. </p><br><p>  <strong>Esquema de almacenamiento din√°mico (</strong> <strong>JSON)</strong> </p><br><p>  Los documentos se almacenan en el servidor Couchbase en formato JSON.  El formato admite ambos tipos de datos b√°sicos, como n√∫meros, cadenas y tipos complejos, as√≠ como diccionarios y matrices incorporados. </p><br><p>  El esquema de datos en Couchbase es una construcci√≥n l√≥gica definida por la aplicaci√≥n y el desarrollador.  Debido a su flexibilidad y la capacidad de usar varias opciones, podemos usar una etiqueta en el documento, por ejemplo, con informaci√≥n de la versi√≥n.  Esto permite que la aplicaci√≥n determine en qu√© modo se procesar√° el documento, as√≠ como para garantizar una migraci√≥n sin problemas de la base de datos al nuevo esquema de datos. </p><br><p>  <strong>Alta disponibilidad</strong> </p><br><p>  Uno de los par√°metros constitutivos de un sistema de informaci√≥n es su disponibilidad.  Couchbase proporciona alta disponibilidad de datos con muchas caracter√≠sticas diferentes.  Una de ellas es la replicaci√≥n de datos (la distribuci√≥n de varias copias de datos en diferentes servidores de cl√∫ster), que le permite proporcionar un servicio durante el mantenimiento de rutina o la falla de algunos servidores. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5e/jd/3h/5ejd3hwshvqdvwjeuqlovji9ocy.png"></div><br>  <i>Figura 2 (r√©plicas del servidor Couchbase)</i> <br><br><p>  La segunda caracter√≠stica importante para la alta disponibilidad es el DCP interno (Protocolo de cambio de base de datos).  Proporciona transferencia de cambios a alta velocidad a todas las copias de datos, √≠ndices secundarios (GSI), replicaci√≥n de cl√∫ster cruzado (XDCR) y consumidores externos. </p><br><p>  <strong>Replicaci√≥n bidireccional</strong> </p><br><p>  Una buena pr√°ctica en las empresas es utilizar la redundancia para todos los procesos y equipos comerciales.  Idealmente, esta es una copia de seguridad en modo Activo-Activo, cuando el cambio entre nodos problem√°ticos se produce autom√°ticamente.  La replicaci√≥n bidireccional en Couchbase habilita el modo AA.  Pero las pruebas de replicaci√≥n han demostrado que solo es eficaz en centros de datos cercanos.  Con un espacio de m√°s de 100 km, aparecen conflictos.  Couchbase tiene mecanismos de resoluci√≥n de conflictos: basados ‚Äã‚Äãen la marca de tiempo y el n√∫mero de secuencia.  Sin embargo, debido al retraso de tiempo en la red, los datos obsoletos ingresan a la base de datos.  Abandonamos el uso de la replicaci√≥n bidireccional (consistencia entre grupos).  Todos los cambios se llevan a cabo en un solo cl√∫ster.  La disponibilidad de datos en modo de lectura se proporciona en todos los centros de datos (AA). </p><br><p>  <strong>Escala horizontal</strong> </p><br><p>  Una de las caracter√≠sticas importantes de la mayor√≠a de las bases de datos NoSQL es el escalado horizontal (Fig. 3).  La principal diferencia de Couchbase es el soporte del escalado multidimensional, cuando nosotros en el cl√∫ster solo podemos aumentar el rendimiento del servicio deseado.  Por ejemplo, el juego Pokemon GO usa una arquitectura dividida.  Al inicio del proyecto, se utilizaron 5 servidores con servicios combinados.  Despu√©s de aumentar la carga, utilizaron una arquitectura diversa: 5 servidores de datos y 55 servidores para procesar consultas e √≠ndices.  Una de las desventajas de escalar con Couchbase es que el orquestador tiene problemas cuando hay m√°s de 50 nodos de fecha en el cl√∫ster. </p><br><p></p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/79/9c/ne/799cnegj-o20dtxdfcasl3ihm1u.png"></div><br><p>  <i>Figura 3 MDS</i> </p><br><p>  <strong>Requisitos de IS</strong> </p><br><p>  Los requisitos de seguridad de la informaci√≥n influyeron en nuestra elecci√≥n en menor medida, pero su presencia en el sistema hizo un argumento adicional a favor de una u otra base de datos.  Dado que el cach√© puede contener datos personales, debemos seguir los requisitos del regulador sin falta.  Vale la pena decidir: ¬øutilizaremos equipos adicionales o podemos proporcionar esto con la base de datos en s√≠ misma? </p><br><p>  En la versi√≥n empresarial, Couchbase admite cifrado de tr√°fico, cifrado de datos y acceso personalizado.  Esto ahorra dinero en equipos como Cisco ASA. </p><br><p>  <strong>Actualizaci√≥n f√°cil</strong> </p><br><p>  Una de las fortalezas significativas de Couchbase es su mecanismo de actualizaci√≥n transparente y soporte para versiones anteriores de la API.  Durante la actualizaci√≥n del cl√∫ster, funciona en modo de compatibilidad.  Los nuevos mecanismos solo funcionar√°n despu√©s de una actualizaci√≥n completa del cl√∫ster.  Los efectos sobre las aplicaciones en ejecuci√≥n son m√≠nimos debido a la compatibilidad con la antigua API. </p><br><p>  <strong>PD: la</strong> actualizaci√≥n / degradaci√≥n solo est√° permitida en las versiones principales vecinas </p><br><p>  <strong>Funcionalidad adicional</strong> </p><br><p>  <em>Distribuci√≥n l√≥gica</em> </p><br><p>  Otra caracter√≠stica interesante es la combinaci√≥n de servidores en un cl√∫ster en grupos l√≥gicos, con r√©plicas adjuntas a ellos.  Esto le permite distribuir copias completas de r√©plicas del mismo cl√∫ster a diferentes puertas autom√°ticas.  Eso permite que uno de los concesionarios de autom√≥viles no tenga una copia completa de los datos en el segundo </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yf/nf/po/yfnfpots5tbrzzew39w4xsehey8.png"></div><br>  <i>Figura 4 Server Gropus</i> <br><br><p>  <b>Copia de seguridad y restauraci√≥n</b> </p><br><p>  Couchbase contiene herramientas de respaldo y recuperaci√≥n listas para usar.  El proceso de copia de seguridad puede funcionar en tres modos: completo, diferencial y acumulativo.  Esto permite en algunos casos ahorrar espacio en disco y recursos de procesador. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xe/in/ff/xeinff0eawasua0xiu4ec3yon1y.png"></div><br><p>  <strong>Couchbase vs mongo</strong> </p><br><p>  Es dif√≠cil responder a la pregunta de elegir bases de datos NoSQL alternativas y, a menudo, el mejor Unix es el que conoce su administrador.  Intentemos formular por qu√© preferimos Couchbase, y no otra plataforma muy popular: MongoDB. </p><br><p>  Es bastante dif√≠cil comparar dos proyectos diferentes con diferente arquitectura y funcionalidad.  Uno de los par√°metros a los que prestamos atenci√≥n es la facilidad de mantenimiento y la capacidad de reconfigurar r√°pidamente el sistema para satisfacer las necesidades del negocio. </p><br><p>  Tabla 1 Comparaci√≥n </p><br><table><tbody><tr><td><p><strong>&nbsp;</strong></p><br></td><td><p>  <strong>Couchbase</strong> </p><br></td><td><p>  <strong>Mongodb</strong> </p><br></td></tr><tr><td><p>  <strong>Escalamiento</strong> </p><br></td><td><p>  Autom√°tico para todo el conjunto de datos. </p><br></td><td><p>  Selecci√≥n manual de teclas </p><br></td></tr><tr><td><p>  <strong>Distribuci√≥n de datos</strong> </p><br></td><td><p>  Los datos siempre se distribuyen de manera uniforme en todos los nodos de datos. </p><br></td><td><p>  El marcado incorrecto puede conducir a una distribuci√≥n de datos sesgada </p><br></td></tr><tr><td><p>  <strong>Agregar / quitar host o r√©plica</strong> </p><br></td><td><p>  Se agrega en un paso a trav√©s de la GUI, con reequilibrio </p><br></td><td><p>  Una tarea bastante dif√≠cil con c√°lculos de peso para cada colecci√≥n. </p><br></td></tr><tr><td><p>  <strong>Distribuci√≥n en rack / centro de datos Distribuci√≥n</strong> </p><br></td><td><p>  Implementado a trav√©s de grupos l√≥gicos. </p><br></td><td><p>  No implementado </p><br></td></tr><tr><td><p>  <strong>Balanceo autom√°tico de carga</strong> </p><br></td><td><p>  Cada nodo tiene el mismo n√∫mero de registros activos disponibles para lectura y escritura. </p><br></td><td><p>  No equilibrado  Los nodos secundarios no admiten grabaci√≥n </p><br></td></tr><tr><td><p>  <strong>Escala de √≠ndice</strong> </p><br></td><td><p>  Flexible, puede agregar un √≠ndice de nodo separado debido a la diversidad de la arquitectura </p><br></td><td><p>  El escalado duro del √≠ndice est√° asociado con el escalado de datos. </p><br></td></tr><tr><td><p>  <strong>Metadatos de cl√∫ster</strong> </p><br></td><td><p>  Distribuido en todos los nodos del cl√∫ster </p><br></td><td><p>  Servidor de configuraci√≥n requerido </p><br></td></tr><tr><td><p>  <strong>B√∫squeda integrada</strong> </p><br></td><td><p>  N1LQ (SQL ++) </p><br></td><td><p>  Solicitud JSON </p><br></td></tr></tbody></table><br><p>  Tabla 2 Comparaci√≥n de replicaci√≥n </p><br><table><tbody><tr><td><p><strong>&nbsp;</strong></p><br></td><td><p>  <strong>Couchbase</strong> </p><br></td><td><p>  <strong>Mongodb</strong> </p><br></td></tr><tr><td><p>  <strong>Arquitectura</strong> </p><br></td><td><p>  La replicaci√≥n entre cl√∫steres no tiene dependencias, los cl√∫steres son independientes entre s√≠. </p><br></td><td><p>  Solo expansi√≥n intramuscular </p><br></td></tr><tr><td><p>  <strong>Flexibilidad de configuraci√≥n</strong> </p><br></td><td><p>  Flexible (configuraci√≥n de cubos individuales, filtros, ajuste) </p><br></td><td><p>  Ajuste de velocidad </p><br></td></tr><tr><td><p>  <strong>Topolog√≠a</strong> </p><br></td><td><p>  Replicaci√≥n bidireccional, estrella, cadena, etc. </p><br></td><td><p>  Estrella </p><br></td></tr><tr><td><p>  <strong>Modo activo activo</strong> </p><br></td><td><p>  Apoyado por </p><br></td><td><p>  No compatible </p><br></td></tr></tbody></table><br><p>  En general, Couchbase es m√°s flexible y m√°s simple en la configuraci√≥n requerida para nuestras tareas y la arquitectura h√≠brida que cambia r√°pidamente. </p><br><p>  <strong>Experiencia operativa</strong> </p><br><p>  Para empezar, nos gustar√≠a dar los n√∫meros con los que el sistema y el cl√∫ster ahora est√°n operando en Couchbase. </p><br><ol><li>  M√°s de 80 millones de suscriptores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">[i]</a> </li><li>  380 millones de documentos de informaci√≥n del cliente JSON </li><li>  HDD de 3.5 TB (utilizamos memcached, la informaci√≥n en el disco se almacena para un inicio r√°pido) </li><li>  3 TB de RAM </li><li>  50 mil operaciones por segundo (Fig. 5) </li><li>  50 microservicios que procesan todo el flujo de mensajes </li></ol><br><p></p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lv/nq/wc/lvnqwc_jmlr5jukgm10-ibu7qd8.png"></div><br>  <i>Figura 5 Carga</i> <br><p>  Los primeros hitos de la transformaci√≥n comenzamos con la tercera versi√≥n de Couchbase.  En la primera etapa, al comienzo del proyecto, todas las aplicaciones funcionaron de manera estable.  Pero al traducir la l√≥gica adicional a un nuevo mecanismo, nos enfrentamos al hecho de que el mecanismo de Vista comenz√≥ a funcionar de manera impredecible.  Es decir  en alg√∫n momento, el proceso se <strong>congela</strong> y estas vistas desde dicho nodo dejan de regresar.  Al mismo tiempo, no se interrumpi√≥ el acceso a los datos y su procesamiento.  El problema se solucion√≥ con bastante facilidad: reiniciando el nodo, lo que generalmente reduc√≠a la disponibilidad del servicio.  En el curso de la comunicaci√≥n con el soporte t√©cnico de Couchbase, se nos ofreci√≥ un comando no documentado que reinicia solo el proceso de visualizaci√≥n </p><br><p>  <em>curl -s --data 'cb_couch_sup: restart_couch ().'</em>  <em>-u Administrador: pase <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://127.0.0.1:8091/diag/eval</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><strong>[ii]</strong></a></em> </p><br><p>  El comando es v√°lido solo en las versiones 3.x. </p><br><p>  <em>curl -s --data 'couch_server_sup: restart_core_server ().'</em>  <em>-u Administrador: Administrador</em> <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://127.0.0.1:8091/diag/eval</a></em> </p><br><p>  El comando solo es v√°lido en las versiones 4.x. </p><br><p>  Otro problema de la tercera versi√≥n fue el mecanismo de compresi√≥n de datos de √∫ltima hora (compactaci√≥n).  Deb√≠a iniciarse manualmente de acuerdo con las m√©tricas de monitoreo activadas.  Ambos problemas mantuvieron en tensi√≥n no solo el turno de trabajo, sino tambi√©n los ingenieros funcionales. </p><br><p>  En este sentido, decidimos migrar a la cuarta versi√≥n.  La migraci√≥n con un impacto m√≠nimo en el servicio tom√≥ aproximadamente dos semanas.  El proceso de actualizaci√≥n en s√≠ no requiere acciones y control complejos, pero al agregar o eliminar un nodo, se inicia un reequilibrio, que demora al menos dos horas.  En el proceso, encontramos una manera de acelerar el proceso de actualizaci√≥n a trav√©s de un servidor de b√∫fer: en este caso, no comienza un proceso de reequilibrio limpio, sino que transfiere datos de un nodo a otro.  Esto redujo el proceso de actualizaci√≥n a 30 minutos. </p><br><p>  Al actualizar un cl√∫ster industrial, se deben tener en cuenta los siguientes matices: trabajar en modo de compatibilidad, cuando el cl√∫ster funciona en el modo de la versi√≥n m√°s reciente del software.  En el lado positivo, el proceso de actualizaci√≥n se ejecuta sin problemas y sin problemas, pero, sin embargo, no podr√° utilizar nuevas funciones, como el nuevo mecanismo de compresi√≥n, N1QL, hasta que todo el cl√∫ster est√© completamente actualizado. </p><br><p>  Despu√©s de la actualizaci√≥n, logramos solucionar solo un problema: la compresi√≥n.  Comenz√≥ a funcionar correctamente.  Con el mecanismo de visualizaci√≥n, el problema a√∫n persist√≠a, aunque se repiti√≥ con mucha menos frecuencia.  Fue posible corregirlo solo por las fuerzas de los desarrolladores de Couchbase en la versi√≥n 4.6.4. </p><br><p>  Como parte de la resoluci√≥n de problemas de soporte t√©cnico, qued√≥ claro que el mecanismo de visualizaci√≥n ya no se actualizar√°.  Esto se hizo sobre la base de que la mayor√≠a de los clientes de Couchbase no usan vistas para los fines para los que fueron creados, y Couchbase cre√≥ un nuevo mecanismo N1QL.  Es ejecutado por un servicio separado y ahora no depende de nodos de datos (Fig. 7) </p><br><p></p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/df/xn/x2/dfxnx2uou3mvgpgdvtetuzsshj0.png"></div><br>  <i>Figura 7 Roles de nodo</i> <br><br><p>  Cerramos todos los problemas cr√≠ticos con la versi√≥n 4.6.4.  Pero debido al aumento en el volumen de datos, decidieron migrar a la quinta versi√≥n, donde agregaron una nueva base de datos para √≠ndices y en nuestros datos la cantidad de memoria y discos disminuy√≥ una vez y media.  Pero, desafortunadamente, no vimos una disminuci√≥n en la cantidad de datos en los nodos de datos. </p><br><p>  <strong>Conclusiones</strong> </p><br><p>  En general, Couchbase demostr√≥ ser un sistema maduro que soporta una gran carga, incluso en casos no espec√≠ficos (Viber, utilizado como base de datos).  Dentro de la arquitectura h√≠brida de MegaFon, el cl√∫ster se puede adaptar f√°cilmente para cualquier prop√≥sito sin tiempo de inactividad del equipo y sin una reconfiguraci√≥n seria del servidor, lo que generalmente permite a la compa√±√≠a reducir los costos de personal y hacer que el servicio para el suscriptor sea lo m√°s conveniente posible. </p><br><p>  PAO MegaFon </p><br><p>  2018 Kovalchuk Egor </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">[i] El</a> sistema procesa no solo suscriptores, sino tambi√©n dispositivos con tarjetas SIM incorporadas, m√≥dems, etc. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">[ii]</a> Consulte a un especialista antes de usar </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436762/">https://habr.com/ru/post/es436762/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436748/index.html">Desarrollar hexapod desde cero (parte 3) - cinem√°tica</a></li>
<li><a href="../es436750/index.html">An√°lisis de tendencias de YouTube ruso para 2018</a></li>
<li><a href="../es436752/index.html">El pastel es una mentira</a></li>
<li><a href="../es436754/index.html">Q2VKPT: Quake II completamente reescrito con iluminaci√≥n realista</a></li>
<li><a href="../es436756/index.html">El isomorfismo se apresura al rescate</a></li>
<li><a href="../es436764/index.html">Creando tu jsfiddle, parte 1</a></li>
<li><a href="../es436768/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 282 (del 14 al 20 de enero)</a></li>
<li><a href="../es436770/index.html">Los operadores m√≥viles rusos ganan en las nubes</a></li>
<li><a href="../es436772/index.html">Ley "sobre comunicaciones" y vulnerabilidad en mensajeros</a></li>
<li><a href="../es436774/index.html">El m√©todo de secuestro de cuentas "a granel" mediante el acceso a los servicios de un operador m√≥vil</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>