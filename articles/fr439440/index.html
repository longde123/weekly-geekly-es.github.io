<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üÖæÔ∏è üï¥üèΩ ‚õ¥Ô∏è Impl√©mentez Zimbra Collaboration Open Source, autorisez via AD et cr√©ez automatiquement des bo√Ætes aux lettres üîº ‚ò∏Ô∏è üåÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Les donn√©es source 
 Syst√®me d'exploitation du serveur : CentOS 7 

 √Ä propos de l'OS  En fait, la diff√©rence entre CentOS7 et tout autre syst√®me r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Impl√©mentez Zimbra Collaboration Open Source, autorisez via AD et cr√©ez automatiquement des bo√Ætes aux lettres</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439440/"><img src="https://habrastorage.org/webt/tl/fg/oj/tlfgoj8_4wwdpcdcj5n8ndx2pu0.png" alt="image"><br><br><h2>  1. Les donn√©es source </h2><br>  <i>Syst√®me d'exploitation du serveur</i> : CentOS 7 <br><br><div class="spoiler">  <b class="spoiler_title">√Ä propos de l'OS</b> <div class="spoiler_text"> En fait, la diff√©rence entre CentOS7 et tout autre syst√®me r√©side uniquement dans les commandes au serveur pour installer les d√©pendances et, √©ventuellement, l'emplacement de certains fichiers.  Le travail est effectu√© principalement avec des applets de commande Zimbra, de sorte que les diff√©rences de configuration seront minimes. <br></div></div><br>  <i>Domaine Windows</i> : home.local <br>  <i>Adresse et nom du serveur de messagerie</i> : 10.40.0.80 / zimbramail.home.local <br>  <i>Utilisateur pour acc√©der √† l'annuaire AD</i> : ZimbraLDAP avec mot de passe qwe123 <br><br><h2>  2. Pi√®ges </h2><br>  Le processus d'installation de Zimbra lui-m√™me est assez simple.  Vous devez installer des packages d√©pendants, t√©l√©charger l'archive, ex√©cuter le script et r√©pondre correctement aux questions du programme d'installation.  Mais, comme partout ailleurs, il y a quelques petites difficult√©s. <br><br>  1) Zimbra est sensible au nom d'h√¥te.  La premi√®re chose √† faire avant l'installation est d'apporter le fichier / etc / hosts au formulaire: <br><br><pre><code class="bash hljs">127.0.0.1 localhost.localdomain localhost 10.40.0.80 zimbramail.home.local zimbramail</code> </pre> <br>  2) Sans acc√®s √† Internet, aucun miracle ne se produira.  S'il n'y a pas d'acc√®s √† Internet, le script se fige pendant 20 √† 40 minutes et, par cons√©quent, bien s√ªr, il se termine par une erreur.  Il semblerait, pourquoi avons-nous besoin d'un serveur de messagerie sans acc√®s √† Internet, mais ¬´ce qui n'arrive tout simplement pas dans le monde sublunaire¬ª. <br><a name="habracut"></a><br><h2>  3. Installation directe </h2><br>  Alors au fait! <br><br>  1) Installation des d√©pendances: <br><br><pre> <code class="bash hljs">$ yum install perl perl-core ntpl nmap sudo libidn gmp libaio libstdc++ unzip sysstat sqlite wget</code> </pre> <br>  2) T√©l√©charger l'archive: <br><br><pre> <code class="bash hljs">$ wget https://files.zimbra.com/downloads/8.8.11_GA/zcs-8.8.11_GA_3737.RHEL7_64.20181207111719.tgz</code> </pre> <br>  3) D√©compressez l'archive t√©l√©charg√©e, allez dans le r√©pertoire et lancez l'installation: <br><br><pre> <code class="bash hljs">$ tar ‚Äìxzf zcs-8.8.11_GA_3737.RHEL7_64.20181207111719.tgz $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> zcs-8.8.11_GA_3737.RHEL7_64.20181207111719 $ ./install.sh --platform-override</code> </pre> <br>  4) Acceptez le contrat de licence et l'utilisation du r√©f√©rentiel Zimbra: <br><br><pre> <code class="bash hljs">Do you agree with the terms of the software license agreement? [N] Y Use Zimbra<span class="hljs-string"><span class="hljs-string">'s package repository [Y] Y</span></span></code> </pre> <br>  5) S√©lectionnez les composants n√©cessaires et confirmez la modification: <br><br><div class="spoiler">  <b class="spoiler_title">Afficher le texte</b> <div class="spoiler_text"><pre> <code class="bash hljs">Select the packages to install Install zimbra-ldap [Y] Y Install zimbra-logger [Y] Y Install zimbra-mta [Y] Y Install zimbra-dnscache [Y] N Install zimbra-snmp [Y] Y Install zimbra-store [Y] Y Install zimbra-apache [Y] Y Install zimbra-spell [Y] Y Install zimbra-memcached [Y] Y Install zimbra-proxy [Y] N The system will be modified. Continue? [N] Y</code> </pre> </div></div><br>  6) Ensuite, vous devez entrer le mot de passe administrateur pour Zimbra: <br><br><div class="spoiler">  <b class="spoiler_title">Afficher le texte</b> <div class="spoiler_text"><pre> <code class="bash hljs">Main menu 1) Common Configuration: 2) zimbra-ldap: Enabled 3) zimbra-logger: Enabled 4) zimbra-mta: Enabled 5) zimbra-snmp: Enabled 6) zimbra-store: Enabled +Create Admin User: yes +Admin user to create: admin@zimbramail.home.local ******* +Admin Password UNSET +Anti-virus quarantine user: virus-quarantine.2hwbbw7msh@zimbramail.ciam.local +Enable automated spam training: yes +Spam training user: spam.jedk1fhggz@zimbramail.home.local +Non-spam(Ham) training user: ham.y4nb2o4bt@zimbramail.home.local +SMTP host: zimbramail.home.local +Web server HTTP port: 8080 +Web server HTTPS port: 8443 +Web server mode: https +IMAP server port: 7143 +IMAP server SSL port: 7993 +POP server port: 7110 +POP server SSL port: 7995 +Use spell check server: yes +Spell server URL: http:// zimbramail.home.local :7780/aspell.php +Enable version update checks: TRUE +Enable version update notifications: TRUE +Version update notification email: admin@zimbramail.home.local +Version update <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> email: admin@zimbramail.home.local +Install mailstore (service webapp): yes +Install UI (zimbra,zimbraAdmin webapps): yes 7) zimbra-spell: Enabled 8) zimbra-proxy: Enabled 9) Default Class of Service Configuration: s) Save config to file x) Expand menu q) Quit Address unconfigured (**) items (? - <span class="hljs-built_in"><span class="hljs-built_in">help</span></span>) 6 Select, or <span class="hljs-string"><span class="hljs-string">'r'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> previous menu [r] 4 Password <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> admin@example.com (min 6 characters): [MFSPcRW18] qwe123</code> </pre> <br></div></div><br>  Le reste de ce menu ne nous int√©resse pas beaucoup.  Mais.  Par d√©faut, Zimbra cr√©era son propre domaine interne √† l'image et √† la ressemblance de son zmhostname (lire le nom d'h√¥te), c'est-√†-dire que ce sera le domaine zimbramail.home.local.  Cette option me convient, si vous ne le faites pas, et le nom de domaine doit correspondre strictement √† [home.local], alors je recommande de changer imm√©diatement les adresses pour recevoir la notification de mise √† jour de version et la source de mise √† jour de version √† admin@home.local <br><br>  7) Ici, vous devez cliquer sur le bouton [a] pour appliquer les modifications, puis accepter d'enregistrer la configuration dans un fichier et appuyer √† nouveau sur [Entr√©e] pour continuer l'installation. <br><br>  Le syst√®me ne s'est pas bloqu√© apr√®s le mot ¬´termin√©¬ª, il attend qu'une touche soit enfonc√©e. <br><br><div class="spoiler">  <b class="spoiler_title">Afficher le texte</b> <div class="spoiler_text"><pre> <code class="bash hljs">Select from menu, or press <span class="hljs-string"><span class="hljs-string">'a'</span></span> to apply config (? - <span class="hljs-built_in"><span class="hljs-built_in">help</span></span>) a Save configuration data to a file? [Yes] Save config <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> file: [/opt/zimbra/config.10925] Saving config <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /opt/zimbra/config.10925...done.</code> </pre> <br></div></div><br>  Ensuite, le script d'installation fonctionne, apr√®s quoi il propose d'appuyer sur n'importe quelle touche pour continuer <br><br>  8) Une fois l'installation termin√©e, vous devez ouvrir les ports requis dans le pare-feu.  La liste des ports peut √™tre trouv√©e dans le d√©veloppeur Wiki √† <br><br>  9) Je vous recommande fortement de vous assurer que Zimbra a tout compris correctement et que son nom zmhost correspond au nom d'h√¥te du serveur: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmhostname zimbramail.home.local</code> </pre> <br>  Si le nom ne correspond pas, proc√©dez comme suit: <br><br>  a) tout d'abord, v√©rifiez s'il y a des enregistrements A et MX dans le DNS pour notre nouveau zmhostname, sinon, cr√©ez-les <br><br>  b) <pre> <code class="bash hljs">$ su ‚Äì zimbra /opt/zimbra/libexec/zmsetservername -n [servername]</code> </pre> <br>  c) nous nettoyons zmloggerhostmap: <br><br><pre> <code class="bash hljs">$ zmloggerhostmap</code> </pre> <br>  Cette commande r√©pertorie tous les mappages de noms d'h√¥te. <br><br>  Supprimer par commande: <br><br><pre> <code class="bash hljs">$ zmloggerhostmap -d localhost localhost.localdomain</code> </pre> <br>  o√π localhost et localhost.localdomain doivent √™tre remplac√©s par une ligne de la liste Hostname Map <br>  puis red√©marrez Zimbra <br><br>  10) Nous d√©marrons le serveur: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmcontrol start</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Afficher le texte</b> <div class="spoiler_text"><pre> <code class="bash hljs"> Host zimbramail.home.local Starting zmconfigd...Done. Starting logger...Done. Starting mailbox...Done. Starting memcached...Done. Starting proxy...Done. Starting amavis...Done. Starting antispam...Done. Starting antivirus...Done. Starting opendkim...Done. Starting snmp...Done. Starting spell...Done. Starting mta...Done. Starting stats...Done. Starting service webapp...Done. Starting zimbra webapp...Done. Starting zimbraAdmin webapp...Done. Starting zimlet webapp...Done.</code> </pre> </div></div><br>  Maintenant, le serveur est disponible sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https: //zimbramail.home.local: 7071</a> <br><br><img src="https://habrastorage.org/webt/t7/qh/w1/t7qhw1k1h7tdf5lm0gnblup-lsu.png" alt="image"><br><br>  11) Pour pouvoir acc√©der au serveur via https et http, nous proc√©dons comme suit: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmtlsctl both $ zmcontrol restart</code> </pre> <br>  12) Pour ceux qui n'ont pas acc√®s √† Internet, ou si le serveur vit derri√®re NAT, vous devrez toujours enregistrer la commande: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmprov ms zimbramail.home.local zimbraMtaLmtpHostLookup native $ zmcontrol restart</code> </pre> <br>  zmprov est un utilitaire de gestion des param√®tres du serveur, nous en aurons toujours besoin lorsque nous aurons besoin de configurer la cr√©ation automatique de bo√Ætes aux lettres, leur sauvegarde et r√©cup√©ration, ainsi que la cr√©ation et la mise √† jour automatiques des listes de diffusion.  Mais plus √† ce sujet plus tard. <br><br>  13) Le probl√®me avec le certificat auto-sign√© est r√©solu en important le certificat sur le serveur depuis votre autorit√© de certification. <br><br>  Ou en exportant un certificat depuis un serveur Zimbra: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /opt/zimbra/ssl/zimbra/ca $ openssl x509 -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ca.pem -outform DER -out ~/zimbra-mail-example.cer</code> </pre> <br>  suivi de son exportation vers les machines clientes, les mains ou les strat√©gies de groupe d'un domaine en installant un certificat dans les "Autorit√©s de certification racines de confiance" des machines clientes. <br><br>  Ceci termine l'installation et la configuration initiale. <br><br><h2>  4. Configurer l'autorisation via LDAP </h2><br>  Tout d'abord, vous devez cr√©er un utilisateur dans AD pour acc√©der au r√©pertoire.  Je l'ai ZimbraLDAP, puis acc√©dez √† la console d'administration via le Web et configurez l'autorisation dans le domaine zimbramail.home.local. <br><br>  1) Allez dans "Param√®tres" - "Domaines", RMB par nom de domaine - "Configurer l'authentification": <br><br><img src="https://habrastorage.org/webt/4h/hr/d6/4hhrd6ngquye27u1jtwzxezcqsg.png" alt="image"><br><br>  2) S√©lectionnez "Active Directory externe", cliquez sur suivant: <br><br><img src="https://habrastorage.org/webt/l_/93/27/l_9327lzaznyddgwig2hd4ln_zm.png" alt="image"><br><br>  3) Dans le champ "Nom de domaine AD", entrez le nom de domaine, dans le champ "ldap: //", √©crivez le nom de domaine ou le nom du contr√¥leur de domaine, ou l'IP du contr√¥leur de domaine.  J'ai plusieurs contr√¥leurs, donc j'√©cris le nom de domaine.  Le port reste inchang√©.  Cliquez sur suivant: <br><br><img src="https://habrastorage.org/webt/_w/nr/in/_wnrinlayfmmet_1q2gmqzwaak8.png" alt="image"><br><br>  4) La liaison LDAP reste inchang√©e. <br><br>  5) R√©sum√© de la configuration de l'authentification.  Nom d'utilisateur ZimbraLDAP, mot de passe qwe123.  Cliquez sur le bouton "test": <br><br><img src="https://habrastorage.org/webt/sr/he/vu/srhevudbaivqyvrlvzki4extyvs.png" alt="image"><br><br>  La mise en place d'un groupe externe est responsable de l'endroit exact o√π AD Zimbra recherchera les utilisateurs et des filtres qu'il appliquera.  Vous pouvez appliquer un filtre: <br><br><pre> <code class="bash hljs">(&amp;(objectClass=user)(objectClass=person))</code> </pre> <br>  dans ce cas, seuls les objets AD utilisateurs et personnes seront s√©lectionn√©s.  Et le param√®tre Base de recherche LDAP de groupe externe ne sera pas utilis√©, il sera remplac√© par " <b>zimbraAutoProvLdapSearchBase</b> " lors de la configuration du mode EAGER. <br><br>  D√©sormais, les utilisateurs se connecteront avec leurs mots de passe AD.  Et m√™me lors de la cr√©ation d'une nouvelle bo√Æte aux lettres, le mot de passe ne peut pas √™tre d√©fini. <br><br><h2>  5. Configurer la cr√©ation automatique de bo√Ætes aux lettres </h2><br>  <i>Un peu de th√©orie:</i> <br><br>  Zimbra a 3 options pour cr√©er des bo√Ætes: <br><br>  <b>EAGER</b> - enti√®rement automatique, qui √† intervalles r√©guliers analyse AD et cr√©e des bo√Ætes aux lettres pour les nouveaux utilisateurs. <br><br>  <b>LAZY</b> - semi-automatique, qui cr√©e une bo√Æte aux lettres la premi√®re fois qu'un utilisateur se connecte au serveur de messagerie sous les informations d'identification du domaine. <br><br>  <b>MANUAL</b> - recherche manuelle et s√©lection des comptes pour lesquels vous devez cr√©er des bo√Ætes aux lettres. <br><br>  Pour des raisons √©videntes, le mode MANUEL ne convient qu'aux petites entreprises dont le roulement du personnel est lent.  Le mode LAZY est adapt√© pour utiliser le courrier avec une interface Web, sans connecter de client de messagerie.  Les deux options ne me convenaient pas, car la t√¢che √©tait d'automatiser au maximum (installation automatique de l'application cliente Zimbra Desktop, de sorte que l'utilisateur n'avait qu'√† entrer un mot de passe de connexion et acc√©der √† la messagerie).  Par cons√©quent, seul EAGER.  Oui, c'est plus pratique, pour √™tre honn√™te. <br><br>  Pour faciliter la modification et l'application des param√®tres, il est plus facile et plus pratique de cr√©er un fichier.  Que ce soit / tmp / prov <br><br>  Le contenu du fichier est le suivant: <br><br><div class="spoiler">  <b class="spoiler_title">Contenu du fichier</b> <div class="spoiler_text"><pre> <code class="bash hljs">md zimbramail.home.local zimbraAutoProvAccountNameMap <span class="hljs-string"><span class="hljs-string">"samAccountName"</span></span> md zimbramail.home.local +zimbraAutoProvAttrMap description=description md zimbramail.home.local +zimbraAutoProvAttrMap displayName=displayName md zimbramail.home.local +zimbraAutoProvAttrMap givenName=givenName md zimbramail.home.local +zimbraAutoProvAttrMap cn=cn md zimbramail.home.local +zimbraAutoProvAttrMap sn=sn md zimbramail.home.local zimbraAutoProvAuthMech LDAP md zimbramail.home.local zimbraAutoProvBatchSize 300 md zimbramail.home.local zimbraAutoProvLdapAdminBindDn <span class="hljs-string"><span class="hljs-string">"CN=ZimbraLDAP,OU=HOME_Users,DC=home,DC=local"</span></span> md zimbramail.home.local zimbraAutoProvLdapAdminBindPassword qwe123 md zimbramail.home.local zimbraAutoProvLdapBindDn <span class="hljs-string"><span class="hljs-string">"admin@zimbramail.home.local"</span></span> md zimbramail.home.local zimbraAutoProvLdapSearchBase <span class="hljs-string"><span class="hljs-string">"CN=HOME_Users,dc=home,dc=local"</span></span> md zimbramail.home.local zimbraAutoProvLdapSearchFilter <span class="hljs-string"><span class="hljs-string">"(&amp;(objectClass=user)(objectClass=person))"</span></span> md zimbramail.home.local zimbraAutoProvLdapURL <span class="hljs-string"><span class="hljs-string">"ldap://home.local:389"</span></span> md zimbramail.home.local zimbraAutoProvMode EAGER md zimbramail.home.local zimbraAutoProvNotificationBody <span class="hljs-string"><span class="hljs-string">"Your account has been auto provisioned. Your email address is </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ACCOUNT_ADDRESS}</span></span></span><span class="hljs-string">."</span></span> md zimbramail.home.local zimbraAutoProvNotificationFromAddress prov-admin@zimbramail.home.local md zimbramail.home.local zimbraAutoProvNotificationSubject <span class="hljs-string"><span class="hljs-string">"New account auto provisioned"</span></span> ms zimbramail.home.local zimbraAutoProvPollingInterval <span class="hljs-string"><span class="hljs-string">"1m"</span></span> ms zimbramail.home.local +zimbraAutoProvScheduledDomains <span class="hljs-string"><span class="hljs-string">"zimbramail.home.local"</span></span></code> </pre> <br></div></div><br>  <i>Un peu plus de th√©orie:</i> <br><br>  Ce fichier contient des commandes pour affecter des variables.  Ainsi, par exemple, le param√®tre <b>zimbraAutoProvAttrMap cn = cn</b> signifie que Zimbra formera ses bo√Ætes de telle mani√®re que le "nom d'affichage" (CN dans AD) sera remplac√© dans le champ "nom d'affichage" de Zimbra. <br><br>  Le param√®tre <b>zimbraAutoProvLdapAdminBindDn est</b> responsable du compte que Zimbra utilisera pour acc√©der au r√©pertoire AD.  Dans ce cas, ¬´CN = ZimbraLDAP, OU = HOME_Users, DC = home, DC = local¬ª, ce qui signifie ce qui suit: le compte avec le nom d'affichage ZimbraLDAP stock√© dans les OU HOME_Users situ√© √† la racine du domaine home.local sera utilis√© <br><br>  <b>zimbraAutoProvLdapAdminBindPassword</b> stocke le mot de passe du compte ZimbraLDAP <br><br>  <b>zimbraAutoProvLdapBindDn</b> stocke le compte administrateur du serveur Zimbra pour le domaine zimbramail.home.local <br><br>  <b>zimbraAutoProvLdapSearchBase</b> est responsable de l'unit√© d'organisation, dans laquelle Zimbra recherchera des comptes de domaine pour cr√©er des bo√Ætes aux lettres.  Dans mon cas, c'est le m√™me conteneur dans lequel se trouve l'utilisateur ZimbraLDAP <br><br>  <b>zimbraAutoProvPollingInterval</b> est la p√©riode de contact avec AD pour la recherche de nouveaux comptes. <br><br>  Avec le reste des param√®tres, tout est clair. <br><br>  Il est √©crit sur le site du d√©veloppeur que si vous utilisez la version Zimbra jusqu'√† 8.0.8, pour que le mode EAGER fonctionne, vous devrez √©galement d√©finir le param√®tre zimbraAutoProvLastPolledTimestamp sur la valeur vide "", sinon cela ne fonctionnera pas plus d'une fois. <br><br>  Ensuite, ex√©cutez la commande: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmprov &lt; /tmp/prov</code> </pre> <br>  Pour afficher toutes les valeurs de zmprov, vous pouvez entrer la commande: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmprov gd zimbramail.home.local</code> </pre> <br>  Vous pouvez modifier les param√®tres √† l'aide du m√™me utilitaire zmprov, la r√©√©criture des valeurs des variables (utilitaire - action - domaine - variable - valeurs) peut aider au d√©bogage: <br><br><pre> <code class="bash hljs">$ su ‚Äì zimbra $ zmprov md zimbramail.home.local zimbraAutoProvBatchSize 200</code> </pre> <br>  Sur le site du d√©veloppeur, il y a un petit tableau de d√©pannage des erreurs LDAP.  Les journaux de d√©marrage automatique sont √©crits dans <b>/opt/zimbra/log/mailbox.log</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lien</a> <br><br>  Et un peu plus de r√©servation.  J'ai re√ßu un retour de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">LevZ</a> , qui a configur√© le serveur √† partir de z√©ro.  Version 8.8.12_GA_3794.RHEL7_64_20190329045002 RHEL7_64 √©dition FOSS, proxy 8.8.12_P1 proxy. <br><br>  Voici la chose: apr√®s une installation propre, le param√®tre "zimbraAutoProvScheduledDomains" doit √™tre initialis√© - ex√©cutez la commande "ms zimbraAutoProvScheduledDomains" sans le signe "+".  Si vous √©crivez imm√©diatement "+ zimbraAutoProvScheduledDomains", il n'est pas enregistr√© et le processus ne d√©marre pas. <br><br>  Merci √† la personne pour l'information! <br><br><h2>  6. Installation des applications client </h2><br>  T√©l√©chargez le package msi de la derni√®re version sur le site officiel.  Nous le copions dans le dossier r√©seau partag√© accessible √† tous pour lecture.  Vous pouvez le copier sur Netlogon, mais le paquet p√®se plus de 100 Mo, j'ai donc d√©cid√© d'utiliser le ballon. <br><br>  Zimbra Desktop utilise java, ce qui signifie que vous devez le t√©l√©charger et le placer dans le m√™me dossier. <br>  Plus au go√ªt - KIX, GPO, mains.  J'utilise GPO. <br><br>  Dans la m√™me boule, cr√©ez le fichier installZimbra.cmd avec le contenu suivant: <br><br><pre> <code class="bash hljs">\\SharedFolder\jrex64.exe INSTALL_SILENT=Enable \\SharedFolder\ZimbraInstall.msi /q /norestart</code> </pre> <br>  Ajoutez √† la section "configuration de l'ordinateur" - "configuration Windows" - "scripts (d√©but / fin)" - script d'installation "d√©marrage" cr√©√© pr√©c√©demment.  Le script installera java et Zimbra Desktop en mode silencieux et ne n√©cessitera pas de red√©marrage.  Ensuite - les r√©jouissances de l'administrateur fantastique. <br><br>  Mais.  Afin de configurer Zimbra Desktop sur notre serveur, vous devez piloter les param√®tres avec vos mains. <br><br><img src="https://habrastorage.org/webt/0u/9w/rw/0u9wrw6toy4xpctfb0gufokyjge.png" alt="image"><br><br>  Par cons√©quent, pour les utilisateurs, vous devez cr√©er une sorte de m√©mo d'instructions, dans quels champs ce que vous devez conduire et sur quel bouton cliquer pour acc√©der au courrier.  En g√©n√©ral, ce n'est pas difficile. <br><br><h2>  Conclusion </h2><br>  Ainsi, nous avons tr√®s rapidement et assez rapidement impl√©ment√© un syst√®me d'interaction d'entreprise enti√®rement gratuit bas√© sur la Zimbra Collaboration Suite, mis en place son interaction avec le domaine, simplifi√© la cr√©ation de bo√Ætes aux lettres et √©limin√© les probl√®mes avec un tas de comptes suppl√©mentaires. <br><br>  √Ä mon avis, Zimbra est un outil assez puissant pour le segment des entreprises.  Mais un grand nombre d'articles ont d√©j√† √©t√© √©crits √† ce sujet, je ne vais pas le vaporiser. <br><br>  <b>PS:</b> <br>  Le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prochain article</a> se concentrera sur la sauvegarde et la restauration des bo√Ætes aux lettres Zimbra OSE. <br>  Le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">troisi√®me article</a> traite de la g√©n√©ration et de la mise √† jour automatiques des listes de diffusion bas√©es sur les groupes d'utilisateurs AD dans Zimbra OSE. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr439440/">https://habr.com/ru/post/fr439440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr439428/index.html">Comment pr√©venir les cyberattaques cibl√©es? 10 meilleurs sandbox r√©seau</a></li>
<li><a href="../fr439430/index.html">Croyez-moi si vous le pouvez. Compteurs d'eau. partie 1</a></li>
<li><a href="../fr439432/index.html">Comment devenir d√©veloppeur Java en 1,5 an</a></li>
<li><a href="../fr439434/index.html">NestJS - le m√™me backend r√©el sur nodejs</a></li>
<li><a href="../fr439436/index.html">R√©duction des co√ªts de petites s√©ries d'√©lectronique en Russie. Bo√Ætier radio Internet WOLNA</a></li>
<li><a href="../fr439442/index.html">Julia. G√©n√©rateurs de rapports et de documents</a></li>
<li><a href="../fr439446/index.html">Ce que vous devez savoir sur JavaScript Engine Switcher 3.0</a></li>
<li><a href="../fr439448/index.html">√Ä quelles questions sur la virtualisation attendez-vous une r√©ponse d'un dipl√¥m√©?</a></li>
<li><a href="../fr439450/index.html">RS-485 sur microcontr√¥leurs domestiques de la soci√©t√© Milander</a></li>
<li><a href="../fr439454/index.html">Program as Art - Un nouveau paradigme de gestion de logiciels</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>