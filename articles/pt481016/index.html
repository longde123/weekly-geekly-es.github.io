<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëçüèΩ ‚òùüèΩ üõ°Ô∏è Experi√™ncia VonmoTrade. Parte 1: Trocas e tecnologia moderna ü¶á üë©‚Äçüë©‚Äçüë¶‚Äçüë¶ üöµüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A s√©rie de artigos destaca a tentativa de criar um sistema reativo por uma pessoa com um or√ßamento m√≠nimo e no menor tempo poss√≠vel. 


 Objetivos do ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Experi√™ncia VonmoTrade. Parte 1: Trocas e tecnologia moderna</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481016/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ug/vx/tm/ugvxtmtcasedx_hsmqskdxvc4qo.png"></div><br><p>  A s√©rie de artigos destaca a tentativa de criar um sistema reativo por uma pessoa com um or√ßamento m√≠nimo e no menor tempo poss√≠vel. </p><br><p>  Objetivos do experimento: </p><br><ul><li>  Uma compreens√£o mais profunda da √°rea de atua√ß√£o e aprimoramento de conhecimentos t√©cnicos </li><li>  Identifica√ß√£o dos pontos fortes e fracos do uso de linguagens funcionais e projetos de c√≥digo aberto no desenvolvimento de sistemas de negocia√ß√£o <br>  Este artigo apresenta a parte motivacional do projeto e a decomposi√ß√£o da tarefa. </li></ul><a name="habracut"></a><br><p>  Planejei iniciar o experimento na primavera de 2019, mas as circunst√¢ncias mudaram os prazos.  Portanto, pe√ßo desculpas aos poucos assinantes que aguardavam artigos sobre esse t√≥pico. </p><br><h2 id="kak-ya-doshel-do-takoy-zhizni">  Como cheguei a essa vida? </h2><br><p>  Quando percebi que estava cansado da rotina dos projetos de trabalho, queria fazer algo incomum.  Eu considerei v√°rios t√≥picos e orienta√ß√µes, cujo processo de implementa√ß√£o foi um desafio para mim.  Os principais requisitos para o projeto foram formulados: </p><br><ul><li>  Uma √°rea de conhecimento que me interessa; </li><li>  Natureza distribu√≠da e altamente acess√≠vel do aplicativo; </li><li>  Alta capacidade de informa√ß√£o e grandes volumes de dados armazenados, caracter√≠sticos de aplicativos com uso intensivo de dados; </li><li>  Aproveite ao m√°ximo os projetos de c√≥digo aberto. </li></ul><br><p>  Como j√° havia alguma experi√™ncia no desenvolvimento de data warehouses de objetos, surgiu a id√©ia de desenvolver um tema e escrever uma nova implementa√ß√£o de um armazenamento compat√≠vel com s3 usando codifica√ß√£o redundante e fun√ß√µes de hash r√°pido.  Mas eu queria algo mais interessante.  Do ponto de vista do desenvolvedor, os sistemas financeiros est√£o curiosos sobre seu trabalho no modo quase em tempo real, um grande n√∫mero de atualiza√ß√µes e a quantidade de dados armazenados.  Ent√£o eu decidi fazer a minha implementa√ß√£o do sistema de troca. </p><br><h2 id="pro-birzhi">  Sobre trocas </h2><br><p>  Em um sentido amplo, a bolsa de valores (do lat. Bursa - carteira) √© um mercado em que vendedores e compradores fazem transa√ß√µes.  Dependendo do que √© um ativo negociado (instrumento), s√£o determinadas as especificidades da troca: </p><br><ul><li>  mercadoria, incluindo a troca de trabalho </li><li>  estoque </li><li>  moeda </li><li>  futuros </li></ul><br><p>  Historicamente, as trocas t√™m sido, de fato, o local onde compradores, vendedores e corretores (intermedi√°rios) se re√∫nem na hora marcada pela qual as transa√ß√µes foram feitas. <br>  As principais fun√ß√µes da bolsa incluem: </p><br><ul><li>  Organiza√ß√£o do processo de negocia√ß√£o de c√¢mbio: <br><ul><li>  Defini√ß√£o de regras comerciais de acordo com a lei aplic√°vel </li><li>  Definir padr√µes do produto </li><li>  Material e pessoal </li></ul></li><li>  Atividade de informa√ß√£o.  Fornecer informa√ß√µes sobre pre√ßos de instrumentos, mercados e empresas; </li><li>  Desenvolvimento de contratos modelo; </li><li>  Resolu√ß√£o de disputas (arbitragem); </li><li>  Fornecer certas garantias para a execu√ß√£o de transa√ß√µes. </li></ul><br><p>  As trocas modernas s√£o preg√µes organizados que operam de acordo com regras espec√≠ficas e concentram a oferta e a demanda.  A economia da bolsa tamb√©m √© muito clara: quanto mais transa√ß√µes na bolsa, maior a recompensa da bolsa pelos servi√ßos prestados. </p><br><p>  Portanto, as caracter√≠sticas gerais da solu√ß√£o s√£o compreens√≠veis, agora √© necess√°rio limitar a quantidade de trabalho para que a implementa√ß√£o da ideia possa se encontrar dentro de um prazo razo√°vel. </p><br><h2 id="mvp">  MVP </h2><br><p>  Dos recursos limitados segue a funcionalidade limitada do prot√≥tipo.  Mas coisas vitais e fundamentais precisam ser totalmente implementadas. </p><br><h3 id="dekompoziciya-zadachi-i-vybor-arhitektury">  Decomposi√ß√£o de problemas e sele√ß√£o de arquitetura </h3><br><p>  No lado t√©cnico, a troca √© um sistema de enfileiramento no qual os participantes geram um fluxo de pedidos de chamadas e o sistema, de acordo com as regras conhecidas anteriormente, executa a√ß√µes sobre eles. </p><br><p>  As ordens de entrega devem ser feitas com a menor quantidade de tempo.  A troca deve ser tolerante a falhas e altamente acess√≠vel. </p><br><p>  Dividimos o projeto em partes p√∫blicas e de servi√ßo.  A parte de servi√ßo permitir√° que voc√™ gerencie os componentes da plataforma e o processo de negocia√ß√£o da bolsa.  A parte p√∫blica inclui interfaces de intera√ß√£o com o cliente: API da Web, API de negocia√ß√£o, subsistema de notifica√ß√£o.  Ambas as partes ser√£o baseadas em uma plataforma de aplicativos distribu√≠dos respons√°vel pela escalabilidade e confiabilidade do sistema como um todo. </p><br><p>  Como estamos limitados pelo or√ßamento, usaremos apenas solu√ß√µes de c√≥digo aberto comprovadas para organizar o armazenamento de dados.  Para dados quentes do sistema, o Tarantool √© aplic√°vel e para PostgreSQL frio. </p><br><p>  Representaremos a composi√ß√£o planejada do sistema (a imagem √© clic√°vel): <br></p><div style="text-align:center;"> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/qx/ae/ew/qxaeewotutdwkirapp61qwo-rbi.png"></a> </div><p></p><br><p>  Ficamos com a sensa√ß√£o de que arquitetura e design n√£o s√£o diferentes dos sistemas convencionais.  Onde est√° o desafio?  Para responder, considere o processo de cria√ß√£o de pedidos e fechamento de neg√≥cios para a troca de moeda. </p><br><p>  <strong>Cria√ß√£o de pedidos</strong> </p><br><ol><li>  Verificar autoriza√ß√£o </li><li>  Verifique se o usu√°rio atualmente possui fundos suficientes para criar um pedido. </li><li>  Criar pedido </li><li>  Notificar o usu√°rio sobre cria√ß√£o ou erro bem-sucedido </li></ol><br><p>  <strong>Acordo de fechamento</strong> </p><br><ol><li>  Encontre uma ordem de pares </li><li>  Verificar a adequa√ß√£o dos fundos nos balan√ßos patrimoniais das partes para fechar a transa√ß√£o </li><li>  Corrigir transa√ß√£o: transfer√™ncia entre contas + transfer√™ncia de comiss√£o de c√¢mbio para conta de comiss√£o de c√¢mbio. </li><li>  Salve o hist√≥rico de ordens executadas. </li><li>  Atualizar dados de informa√ß√µes: dados brutos de negocia√ß√£o e dados agregados para gr√°ficos. </li><li>  Notifique todas as partes interessadas da transa√ß√£o. </li></ol><br><p>  As dificuldades come√ßam quando passamos de um mon√≥lito em execu√ß√£o na mesma m√°quina para um sistema tolerante a falhas distribu√≠do implantado em um cluster.  Eu coloco o desempenho m√≠nimo do sistema no n√≠vel de 5-7k transa√ß√µes fechadas por segundo para cada mercado.  Isso imp√µe restri√ß√µes adicionais √† arquitetura e trabalha com dados. </p><br><p>  Seguindo o princ√≠pio do KISS, cada aplicativo deve executar apenas as fun√ß√µes necess√°rias para processar a entidade implementada nele: mercado, conta, autoriza√ß√£o e assim por diante. </p><br><p>  O VTrade √© baseado nos princ√≠pios da escala horizontal.  Cada aplicativo pode ser executado no plural.  Isso permite atingir toler√¢ncia a falhas e o n√≠vel de desempenho necess√°rio. </p><br><h2 id="tehnologicheskiy-stek">  Pilha tecnol√≥gica </h2><br><p>  Para n√£o multiplicar a entropia, restringimos os idiomas e as tecnologias utilizadas. <br>  Para o servidor, este conjunto incluir√°: </p><br><ol><li>  Erlang  Na minha opini√£o, a linguagem ideal para construir coisas de infraestrutura. </li><li>  Ferrugem.  √ìtimo para coisas do sistema e problemas de otimiza√ß√£o. </li><li>  PostgreSQL  Como base principal para armazenamento de dados a longo prazo </li><li>  Tarantool.  Como um armazenamento de dados quente (apenas para o tempo do MVP) </li><li>  Clickhouse.  Para analisar logs e recursos de an√°lise profunda. </li><li>  Linux  O sistema deve suportar distribui√ß√µes modernas. </li></ol><br><p>  O software cliente √© implementado usando a estrutura do Vue usando o Vuex. </p><br><p>  Como o projeto envolve inicialmente um grande n√∫mero de componentes, para garantir o n√≠vel adequado de qualidade da solu√ß√£o final, escreveremos um grande n√∫mero de testes baseados em propriedades e testes de integra√ß√£o. </p><br><h2 id="pro-plany">  Sobre planos </h2><br><p>  Em um futuro pr√≥ximo, pretendo analisar os fundamentos da teoria e aprofundar a pr√°tica nas seguintes √°reas: </p><br><ul><li>  Warrants.  Tipos, recursos de processamento.  Aspectos de armazenamento de informa√ß√µes comerciais. </li><li>  Livro de warrants.  Representa√ß√£o visual do mercado. </li><li>  Hist√≥rico de lances.  Impress√µes, gr√°ficos, hist√≥rico pessoal. </li></ul><br><p>  Como se costuma dizer ... Se interessado, como, assinatura) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt481016/">https://habr.com/ru/post/pt481016/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt481000/index.html">Computa√ß√£o sem servidor baseada no OpenWhisk, parte 4</a></li>
<li><a href="../pt481004/index.html">Java Digest para 18 de dezembro</a></li>
<li><a href="../pt481010/index.html">16 dicas de desenvolvimento para o Android no Kotlin. Parte 3</a></li>
<li><a href="../pt481012/index.html">O que aprendi em 10 anos no Stack Overflow</a></li>
<li><a href="../pt481014/index.html">Eu / n√≥s n√£o estamos hospedando Ayhor. Ou como cuspir na cara da ind√∫stria</a></li>
<li><a href="../pt481018/index.html">E, novamente, sobre a prote√ß√£o de infra-estruturas virtuais</a></li>
<li><a href="../pt481020/index.html">Escrevendo um simulador de digita√ß√£o por toque usando JavaScript puro: Parte 2</a></li>
<li><a href="../pt481024/index.html">Por que eu abandonei a API do Google Maps</a></li>
<li><a href="../pt481028/index.html">Guia para organizar uma conex√£o remota com um PLC industrial usando o OpenVPN</a></li>
<li><a href="../pt481030/index.html">Que tipo de cyberdec eu gostaria de fazer por mim mesmo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>