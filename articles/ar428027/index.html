<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐โ๐จ ๐บ โ ููู ุญุงููุช ุนูู ูุญูู ุซุงุจุช GLSL (ููุง ุงูุฎุทุฃ ุงูุฐู ุญุฏุซ) ๐ฉ๐ผโ๐ ๐๐ผ โญ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุจูุฌุฑุฏ ุฃู ููุช ุฃุณุชุนุฏ ููุฏูู ุฏุงุฑู ูููุช ุจุนูู ูุนุจุฉ ุจุณูุทุฉ ุญูุซ ุงุณุชุฎุฏูุช ุชุธููู ุจูุณู (ูู ูุชู ุฌูุจ ุงูุขุฎุฑูู ุฅูู ูุญุฑู Phaser). 
 ูุง ูู ุชุธูููุ 

 Shaders ูู ุจุฑุงูุฌ ุชุดุจ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููู ุญุงููุช ุนูู ูุญูู ุซุงุจุช GLSL (ููุง ุงูุฎุทุฃ ุงูุฐู ุญุฏุซ)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428027/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> ุจูุฌุฑุฏ ุฃู ููุช ุฃุณุชุนุฏ ููุฏูู ุฏุงุฑู ูููุช ุจุนูู ูุนุจุฉ ุจุณูุทุฉ ุญูุซ ุงุณุชุฎุฏูุช ุชุธููู ุจูุณู (ูู ูุชู ุฌูุจ ุงูุขุฎุฑูู ุฅูู ูุญุฑู Phaser). </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุง ูู ุชุธูููุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  Shaders ูู ุจุฑุงูุฌ ุชุดุจู GLSL C ุชุนูู ุนูู ุจุทุงูุฉ ุฑุณููุงุช.  ููุงู ููุนุงู ูู ุงูุชุธููู ุ ูู ูุฐู ุงูููุงูุฉ ูุชุญุฏุซ ุนู ุชุธููู ุจูุณู (ููู ุฃูุถูุง "ุชุธููู" ุ ุชุธููู ุฌุฒุก) ุ ูุงูุชู ูููู ุชูุซูููุง ุชูุฑูุจูุง ูู ูุฐุง ุงูุดูู: </p><br><pre style=";text-align:right;direction:rtl"><code class="hljs lisp">color = pixelShader(<span class="hljs-name"><span class="hljs-name">x</span></span>, y, ...other attributes)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู  ูุชู ุชูููุฐ ุชุธููู ููู ุจูุณู ูู ุตูุฑุฉ ุงูุฅุฎุฑุงุฌ ุ ุชุญุฏูุฏ ุฃู ุชุญุณูู ููููุง. <br>  ููููู ูุฑุงุกุฉ ุงูููุงู ุงูุชูููุฏู ูู ููุงู ุขุฎุฑ ุนูู ุงููุญูุฑ - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://habr.com/post/333002/</a> </p></div></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุงุฎุชุจุงุฑ ุ ุฑููุช ุงูุฑุงุจุท ุฅูู ุตุฏูู ุ ูุชูููุช ููู ููุทุฉ ุดุงุดุฉ ูุน ุงูุณุคุงู "ูู ูุฐุง ุทุจูุนูุ" </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ys/ti/qp/ystiqpls-jpsxgixk9blbocn6u8.png"></div><br><p style=";text-align:right;direction:rtl">  ูุง ุ ูู ููู ุฐูู ุทุจูุนูุง.  ุจุนุฏ ุงููุธุฑ ุจุนูุงูุฉ ูู ููุฏ ุงูุชุธููู ุ ูุฌุฏุช ุฎุทุฃ ุญุณุงุจู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t &lt; M) { realColor = mix(color1,color2, <span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>(<span class="hljs-number"><span class="hljs-number">1.</span></span> - t / R1, <span class="hljs-number"><span class="hljs-number">0.5</span></span>)); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฃู  ูุธุฑูุง ูุฃู ุงูุซุงุจุช R1 ูุงู ุฃูู ูู M ุ ูู ุจุนุถ ุงูุญุงูุงุช ูุงูุช ุงููุชูุฌุฉ ูู ุงููุณูุทุฉ ุงูุฃููู ููุฃุณุฑู ุฑูููุง ุฃูู ูู ุงูุตูุฑ.  ุงูุฌุฐุฑ ุงูุชุฑุจูุนู ููุฑูู ุงูุณุงูุจ ุดูุก ุบุงูุถ ุ ุนูู ุงูุฃูู ุจุงููุณุจุฉ ููุนูุงุฑ GLSL.  ูู ูุชู ุงูุฎูุท ุจูู ุจุทุงูุฉ ุงูููุฏูู ุงูุฎุงุตุฉ ุจู ุ ูุจุทุฑููุฉ ูุง ุฎุฑุฌุช ูู ูุฐุง ุงููููู (ุนูู ูุง ูุจุฏู ุ ุจุนุฏ ุฅุนุงุฏุชูุง ูู ุงูุฃุณุฑู 0) ุ ูููู ุชุจูู ุฃููุง ุฃูุซุฑ ูุถูุญูุง ุจุงููุณุจุฉ ูุตุฏูู. </p><br><p style=";text-align:right;direction:rtl">  ุซู ููุฑุช: ูู ูููููู ุชุฌูุจ ูุซู ูุฐู ุงููุดุงูู ูู ุงููุณุชูุจูุ  ูุง ุฃุญุฏ ูู ูุฃูู ูู ุงูุฃุฎุทุงุก ุ ุฎุงุตุฉ ุชูู ุงูุชู ูุง ูุชู ุฅุนุงุฏุฉ ุฅูุชุงุฌูุง ูุญูููุง.  ูุง ููููู ูุชุงุจุฉ ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ูู GLSL.  ูู ุงูููุช ููุณู ุ ูุฅู ุงูุชุญููุงุช ุฏุงุฎู ุงูุชุธููู ุจุณูุทุฉ ููุบุงูุฉ - ุงูุถุฑุจ ูุงููุณูุฉ ูุงูุฌููุจ ูุฌูุจ ุงูุชูุงู ... ูู ูู ุงููุณุชุญูู ุชุชุจุน ููู ูู ูุชุบูุฑ ูุงูุชุฃูุฏ ูู ุฃูู ูุง ูุชุฌุงูุฒ ุจุฃู ุญุงู ูู ุงูุฃุญูุงู ุงูุญุฏูุฏ ุงููุณููุญ ุจูุง ูููููุ </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ูุฑุฑุช ุฃู ุฃุญุงูู ุฅุฌุฑุงุก ุชุญููู ุซุงุจุช ูู GLSL.  ูุง ุฌุงุก ูููุง - ููููู ูุฑุงุกุชูุง ุชุญุช ุงููุทุน. </p><br><p style=";text-align:right;direction:rtl">  ุณุฃุญุฐุฑู ุนูู ุงูููุฑ: ูู ุฃุณุชุทุน ุงูุญุตูู ุนูู ุฃู ููุชุฌ ููุงุฆู ุ ููุท ูููุฐุฌ ุชุนูููู. </p><a name="habracut"></a><br><h2 id="predvaritelnyy-analiz" style=";text-align:right;direction:rtl">  ุงูุชุญููู ุงูุฃููู </h2><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฃู ุฏุฑุณุช ุงููููู ูู ุงูููุงูุงุช ุงูููุฌูุฏุฉ ุญูู ูุฐุง ุงูููุถูุน (ูุงูุชุดูุช ูู ุงูููุช ููุณู ุฃู ุงูููุถูุน ูุณูู ุชุญููู ูุทุงู ุงููููุฉ) ุ ููุช ุณุนูุฏูุง ูุฃู ูุฏู GLSL ุ ูููุณ ูุบุฉ ุฃุฎุฑู.  ุงุญูู ุจููุณู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ููุฌุฏ "ุฏููุงููููุงุช" - ูุฑุงุฌุน ูููุธุงุฆู ูุงููุงุฌูุงุช ูุงูุฃููุงุน ุงููุณุชูุชุฌุฉ ุชููุงุฆููุง ููุง ุฅูู ุฐูู. </li><li style=";text-align:right;direction:rtl">  ูุง ูุนุงูุฌุฉ ูุจุงุดุฑุฉ ููุฐุงูุฑุฉ </li><li style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ูุญุฏุงุช ุ ุฑุจุท ุ ุฑุจุท ูุชุฃุฎุฑ - ูุชููุฑ ููุฏ ุงููุตุฏุฑ ุจุงููุงูู ููุชุธููู <br>  ูุทุงูุงุช ูุนุฑููุฉ ุจุดูู ุนุงู ูููู ุงููุฏุฎูุงุช </li><li style=";text-align:right;direction:rtl">  ุนุฏุฏ ูููู ูู ุฃููุงุน ุงูุจูุงูุงุช ุ ูุงูุชู ุชุฏูุฑ ุญูู ุชุนููู.  ูุงุฏุฑูุง ูุง ูุชู ุงุณุชุฎุฏุงู int / bool ุ ูููุณ ูู ุงูููู ูุชุงุจุนุชูุง </li><li style=";text-align:right;direction:rtl">  ูุงุฏุฑูุง ูุง ูุชู ุงุณุชุฎุฏุงู ifs ู loops (ุจุณุจุจ ูุดุงูู ูู ุงูุฃุฏุงุก).  ุบุงูุจูุง ูุง ุชููู ุงูุญููุงุช ุ ุฅุฐุง ุชู ุงุณุชุฎุฏุงููุง ุ ุนุฏุงุฏุงุช ุจุณูุทุฉ ููุฐูุงุจ ูู ุฎูุงู ูุตูููุฉ ุฃู ุชูุฑุงุฑ ุชุฃุซูุฑ ูุนูู ุนุฏุฉ ูุฑุงุช.  ูู ููุชุจ ุฃุญุฏ ูุซู ูุฐุง ุงูุฑุนุจ ูู GLSL (ุขูู). </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">//   - https://homepages.dcc.ufmg.br/~fernando/classes/dcc888/ementa/slides/RangeAnalysis.pdf k = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> k &lt; <span class="hljs-number"><span class="hljs-number">100</span></span>: i = <span class="hljs-number"><span class="hljs-number">0</span></span> j = k <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> i &lt; j: i = i + <span class="hljs-number"><span class="hljs-number">1</span></span> j = j โ <span class="hljs-number"><span class="hljs-number">1</span></span> k = k + <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูุธุฑูุง ููููุฏ GLSL ุ ูุจุฏู ุฃู ุงููููุฉ ูุงุจูุฉ ููุญู.  ุงูุฎูุงุฑุฒููุฉ ุงูุฑุฆูุณูุฉ ูู ููุง ููู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุญููู ููุฏ ุงูุชุธููู ูุฅูุดุงุก ุณูุณูุฉ ูู ุงูุฃูุงูุฑ ุงูุชู ุชุบูุฑ ููู ุฃู ูุชุบูุฑุงุช </li><li style=";text-align:right;direction:rtl">  ูุนุฑูุฉ ุงููุทุงูุงุช ุงูุฃูููุฉ ูููุชุบูุฑุงุช ุ ุงูุชูู ูู ุฎูุงู ุงูุชุณูุณู ุ ูุชุญุฏูุซ ุงููุทุงูุงุช ุนูุฏ ุชุบููุฑูุง </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุงููุทุงู ููุชูู ุฃู ุญุฏูุฏ ูุนููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ูุฏ ูุฃุชู ุฑูู ุณุงูุจ ููุฃุณุฑู ุ ุฃู ุณูุฃุชู ุดูุก ุฃูุจุฑ ูู 1 ุฅูู "ููู ุงูุฅุฎุฑุงุฌ" gl_FragColor ูู ุงููููู ุงูุฃุญูุฑ) ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุฅุธูุงุฑ ุชุญุฐูุฑ </li></ol><br><h2 id="ispolzuemye-tehnologii" style=";text-align:right;direction:rtl">  ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ููุง ูุงู ูุฏู ุฎูุงุฑ ุทููู ููุคูู.  ูู ูุงุญูุฉ ุ ูุฅู ูุทุงูู ุงูุฑุฆูุณู ูู ุงูุชุญูู ูู ุชุธููู WebGL ุ ูููุงุฐุง ูุง ุฌุงูุง ุณูุฑูุจุช ูุชุดุบูู ูู ุดูุก ูู ุงููุชุตูุญ ุฃุซูุงุก ุงูุชุทููุฑ.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ููุช ุฃุฎุทุท ููุฎุฑูุฌ ูู Phaser ููุชุฑุฉ ุทูููุฉ ูุชุฌุฑุจุฉ ูุญุฑู ุขุฎุฑ ูุซู Unity ุฃู LibGDX.  ุณูููู ููุงู ุฃูุถุง ุชุธููู ุ ูููู ุณูู ุชุฎุชูู ุฌุงูุง ุณูุฑูุจุช. </p><br><p style=";text-align:right;direction:rtl">  ููู ูุงุญูุฉ ุฃุฎุฑู ุ ุชู ุชูููุฐ ุงููููุฉ ูู ุงูููุงู ุงูุฃูู ููุชุฑููู.  ูุฃูุถู ุชุฑููู ูู ุงูุนุงูู ูู ุญุฏููุฉ ุงูุญููุงูุงุช.  ูุฐูู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชู ุชุญููู ุฑูุฒ GLSL ูู ุฌุงูุง ุณูุฑูุจุช.  ููุฌุฑุฏ ุฃููู ุนุซุฑุช ุจุณุฑุนุฉ ุนูู ููุชุจุฉ ูุชุญููู GLSL ูู AST ุนูููุง ุ ููุจุฏู ุฃู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุงุฎุชุจุงุฑูุฉ ุฃูุซุฑ ุฏุฑุงูุฉ ุจููููุง ูุณุชูุฏุฉ ุฅูู ุงูููุจ.  ูุชุญูู AST ุฅูู ุณูุณูุฉ ูู ุงูุฃูุงูุฑ ุงูุชู ูุชู ุฅุฑุณุงููุง ุฅูู ... </li><li style=";text-align:right;direction:rtl">  ... ุงูุฌุฒุก ุงูุซุงูู ุงูููุชูุจ ุจูุบุฉ C ++ ูุชุฌููุนู ูู WebAssembly.  ูุฑุฑุช ุจูุฐู ุงูุทุฑููุฉ: ุฅุฐุง ุฃุฑุฏุช ูุฌุฃุฉ ุฑุจุท ูุฐุง ุงููุญูู ุจูุญุฑู ุขุฎุฑ ุ ูุน ููุชุจุฉ C ++ ุ ููุฌุจ ุฃู ูุชู ุฐูู ุจุจุณุงุทุฉ. </li></ol><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุจุถุน ูููุงุช ุญูู ูุฌููุนุฉ ุงูุฃุฏูุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃุฎุฐุช ููุฏ Visual Studio ุจุงุนุชุจุงุฑู IDE ุงูุฑุฆูุณู ูุฃูุง ุณุนูุฏ ุจู ุจุดูู ุนุงู.  ุฃุญุชุงุฌ ุฅูู ุงููููู ูู ุงูุณุนุงุฏุฉ - ุงูุดูุก ุงูุฑุฆูุณู ูู ุฃูู ูุฌุจ ุฃู ุชุนูู Ctrl + Click ูุงูุฅููุงู ุงูุชููุงุฆู ุนูุฏ ุงููุชุงุจุฉ.  ุชุนูู ููุชุง ุงููุธููุชูู ุจุดูู ุฌูุฏ ูู ูู ูู C ++ ู JS.  ุญุณููุง ุ ุชุนุฏ ุงููุฏุฑุฉ ุนูู ุนุฏู ุชุจุฏูู IDE ูุฎุชููุฉ ูููุง ุจูููุง ุฑุงุฆุนุฉ ุฃูุถูุง. </li><li style=";text-align:right;direction:rtl">  ูุชุฌููุน C ++ ุ ุชุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">WebAssembly</a> ุฃุฏุงุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">cheerp</a> (ูุชู ุฏูุนูุง ุ ูููููุง ูุฌุงููุฉ ูููุดุงุฑูุน ููุชูุญุฉ ุงููุตุฏุฑ).  ูู ุฃูุงุฌู ุฃู ูุดุงูู ูู ุงุณุชุฎุฏุงูู ุ ุจุงุณุชุซูุงุก ุฃูู ูุงู ุจุชุญุณูู ุงูููุฏ ุฅูู ุญุฏ ูุง ุบุฑูุจ ุ ููู ููุง ูุณุช ูุชุฃูุฏูุง ูู ุฎุทุฃู - ุงูุดูู ููุณู ุฃู ุงููุชุฑุฌู clang ุงููุณุชุฎุฏู ูู ูุจูู. </li><li style=";text-align:right;direction:rtl">  ูุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ูู C ++ ุงุณุชุบุฑู gtest ุงููุฏููุฉ ุงูุฌูุฏุฉ </li><li style=";text-align:right;direction:rtl">  ูุจูุงุก ุดุจูุจุฉ ูู ุญุฒูุฉ ุงุณุชุบุฑู ุจุนุถ microbundle.  ููุฏ ุงุณุชููู ูุชุทูุจุงุชู "ุฃุฑูุฏ ุญุฒูุฉ 1 npm ูุงุซููู ูู ุนูุงูุงุช ุณุทุฑ ุงูุฃูุงูุฑ" ุ ูููู ูู ููุณ ุงูููุช ููุณ ุจุฏูู ูุดุงูู ุ ููุฃุณู.  ูููุชุฑุถ ุฃู ุงูุณุงุนุฉ ุชุชุนุทู ุนูุฏ ุญุฏูุซ ุฃู ุฎุทุฃ ุฃุซูุงุก ุชุญููู ุฌุงูุง ุณูุฑูุจุช ุงููุงุฑุฏ ูุน ุงูุฑุณุงูุฉ <code>[Object object]</code> ุ ููู ูุง ูุง ูุณุงุนุฏ ูุซูุฑูุง. </li></ul></div></div><br><p style=";text-align:right;direction:rtl">  ูู ุดูุก ุ ุงูุขู ููููู ุงูุฐูุงุจ. </p><br><h2 id="korotko-o-modeli" style=";text-align:right;direction:rtl">  ุจุงุฎุชุตุงุฑ ุญูู ุงููููุฐุฌ </h2><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ch/hf/8s/chhf8sgclvkleyx_kwasvr74hz8.png"></div><br><p style=";text-align:right;direction:rtl">  ูุญุชูุธ ุงููุญูู ูู ุงูุฐุงูุฑุฉ ุจูุงุฆูุฉ ูู ุงููุชุบูุฑุงุช ุงูููุฌูุฏุฉ ูู ุงูุชุธููู ุ ูููู ูููุง ูุฎุฒู ูุทุงู ุงูููู ุงููุญุชููุฉ ุงูุญุงูู (ูุซู <code>[0,1]</code> ุฃู <code>[1,โ)</code> ). </p><br><p style=";text-align:right;direction:rtl">  ูุชููู ุงููุญูู ุณูุฑ ุนูู ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs matlab">cmdId: <span class="hljs-number"><span class="hljs-number">10</span></span> opCode: <span class="hljs-built_in"><span class="hljs-built_in">sin</span></span> arguments: [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,-,-,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,-,-]</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ูุณูู ุฏุงูุฉ sin ุ ููุชู ุชุบุฐูุชูุง ุจุงููุชุบูุฑุงุช id = 3 ู 4 ุ ูุงููุชูุฌุฉ ููุชูุจุฉ ูููุชุบูุฑูู 1 ู 2. ูุฐุง ุงูุงุณุชุฏุนุงุก ูุชูุงูู ูุน GLSL-th: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs lisp">vec2 a = sin(<span class="hljs-name"><span class="hljs-name">b</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุงุญุธ ุงููุณูุทุงุช ุงููุงุฑุบุฉ (ุงููููุฒุฉ ุจุนูุงูุฉ "-").  ูู GLSL ุ ูุชู ุชุญููู ุฌููุน ุงููุธุงุฆู ุงููุฏูุฌุฉ ุชูุฑูุจูุง ููู ุทุงูุชูุง ููุฌููุนุงุช ูุฎุชููุฉ ูู ุฃููุงุน ุงูุฅุฏุฎุงู ุ ุฃู  ููุงู <code>sin(float)</code> ุ <code>sin(vec2)</code> ุ <code>sin(vec3)</code> ุ <code>sin(vec4)</code> .  ูู ุฃุฌู ุงูุฑุงุญุฉ ุ ุฃุญูู ุฌููุน ุงูุฅุตุฏุงุฑุงุช ุงููุญููุฉ ุฅูู ุดูู ูุงุญุฏ - ูู ูุฐู ุงูุญุงูุฉ <code>sin(vec4)</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุฎุฑุฌ ุงููุญูู ูุงุฆูุฉ ุจุงูุชุบููุฑุงุช ููู ูุชุบูุฑ ุ ูุซู </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs vhdl">cmdId: <span class="hljs-number"><span class="hljs-number">10</span></span> branchId: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span>: [-<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ูุนูู ุฃู "ุงููุชุบูุฑ 2 ูู ุงูุณุทุฑ 10 ูู ุงููุฑุน 1 ูู ูุทุงู ูู -1 ุฅูู 1 ุดุงูู" (ุณูุชุญุฏุซ ุนู ุงููุฑุน ุจุนุฏ ุฐูู ุจูููู).  ููููู ุงูุขู ุชุณููุท ุงูุถูุก ุจุดูู ุฌููู ุนูู ูุทุงูุงุช ุงูููู ูู ุดูุฑุฉ ุงููุตุฏุฑ. </p><br><h2 id="horoshee-nachalo" style=";text-align:right;direction:rtl">  ุจุฏุงูุฉ ุฌูุฏุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุจุฏุฃ ุดุฌุฑุฉ AST ุจุงููุนู ูู ุงูุชุญูู ุฅูู ูุงุฆูุฉ ุฃูุงูุฑ ุ ููุฏ ุญุงู ุงูููุช ูุชูููุฐ ุงููุธุงุฆู ูุงูุฃุณุงููุจ ุงูููุงุณูุฉ.  ููุงู ุงููุซูุฑ ูููุง (ููุฏููู ุฃูุถูุง ูุฌููุนุฉ ูู ุงูุฃุญูุงู ุงูุฒุงุฆุฏุฉ ุ ููุง ูุชุจุช ุฃุนูุงู) ุ ูููู ุจุดูู ุนุงู ูุฏููู ุชุญูููุงุช ูุทุงู ูููู ุงูุชูุจุค ุจูุง.  ุฏุนูุง ูููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุดูุก ูุชุถุญ ุจุดูู ูุงุถุญ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs ruby">uniform float angle; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> -&gt; (-โ,โ) /<span class="hljs-regexp"><span class="hljs-regexp">/... float y = sin(angle); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ -&gt; [-1,1] float ynorm = 1 + y; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ -&gt; [0,2] gl_FragColor.r = ynorm /</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>.; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> -&gt; [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/vb/aj/0f/vbaj0fdcx0nnk3lc2qti7egg7yq.png"></div><br><p style=";text-align:right;direction:rtl">  ุงูููุงุฉ ุงูุญูุฑุงุก ูููู ุงูุฅุฎุฑุงุฌ ุถูู ุงููุทุงู ุงูููุจูู ุ ูุง ุชูุฌุฏ ุฃุฎุทุงุก. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุชุบุทูุฉ ุงููุฒูุฏ ูู ุงููุธุงุฆู ุงููุถููุฉ ุ ูุฅู ูุฐุง ุงูุชุญููู ูููู ููุตู ุงูุชุธููู.  ูููู ูุงุฐุง ุนู ุงููุตู ุงูุซุงูู - ุจุงูุธุฑูู ูุงูุญููุงุช ูุงููุธุงุฆูุ </p><br><h2 id="vetvleniya" style=";text-align:right;direction:rtl">  ุงููุฑูุน </h2><br><p style=";text-align:right;direction:rtl">  ุฎุฐ ุนูู ุณุจูู ุงููุซุงู ูุซู ูุฐุง ุงูุชุธููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> sampler2D uSampler; <span class="hljs-keyword"><span class="hljs-keyword">uniform</span></span> vec2 uv; <span class="hljs-comment"><span class="hljs-comment">// [0,1] void main() { float a = texture2D(uSampler, uv).a; // -&gt; [0,1] float k; // -&gt; ? if (a &lt; 0.5) { k = a * 2.; } else { k = 1. - a; } gl_FragColor = vec4(1.) * k; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุชุบูุฑ <code>a</code> ูุฃุฎูุฐ ูู ุงููุณูุฌ ุ ูุจุงูุชุงูู ูุฅู ูููุฉ ูุฐุง ุงููุชุบูุฑ ุชูุน ูู 0 ุฅูู 1. ูููู ูุง ูู ุงูููู ุงูุชู ูููู ุฃู ุชุฃุฎุฐ <code>k</code> ุ </p><br><p style=";text-align:right;direction:rtl">  ููููู ุงูุฐูุงุจ ุจุทุฑููุฉ ุจุณูุทุฉ ู "ุชูุญูุฏ ุงููุฑูุน" - ุญุณุงุจ ุงููุทุงู ูู ูู ุญุงูุฉ ูุฅุนุทุงุก ุงููุฌููุน.  ุจุงููุณุจุฉ ูููุฑุน if ุ ูุญุตู ุนูู <code>k = [0,2]</code> ุ <code>k = [0,2]</code> ุงูุขุฎุฑ ุ <code>k = [0,1]</code> .  ุฅุฐุง ููุช ุจุฏูุฌ ุ ุงุชุถุญ <code>[0,2]</code> ุ ูุชุญุชุงุฌ ุฅูู ุฅุนุทุงุก ุฎุทุฃ ุ ูุฃู  ุชูุน ุงูููู ุงูุฃูุจุฑ ูู 1 ูู ููู ุงูุฅุฎุฑุงุฌ <code>gl_FragColor</code> . </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ููุฐุง ุฅูุฐุงุฑ ูุงุฐุจ ูุงุถุญ ุ ูุจุงููุณุจุฉ ูููุญูู ุงูุณุงูู ุ ููุณ ููุงู ูุง ูู ุฃุณูุฃ ูู ุงูุฅูุฐุงุฑุงุช ุงููุงุฐุจุฉ - ุฅุฐุง ูู ูุชู ุฅููุงู ุชุดุบููู ุจุนุฏ ุตุฑุฎุฉ ุงูุฐุฆุจ ุงูุฃููู ุ ุซู ุจุนุฏ ุงูุนุงุดุฑุฉ ุจุงูุชุฃููุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุ ูุญุชุงุฌ ุฅูู ูุนุงูุฌุฉ ููุง ุงููุฑุนูู ุจุดูู ูููุตู ุ ููู ููุง ุงููุฑุนูู ูุญุชุงุฌ ุฅูู ุชูุถูุญ ูุทุงู ุงููุชุบูุฑ <code>a</code> (ุนูู ุงูุฑุบู ูู ุฃูู ูู ูุชู ุชุบููุฑู ุฑุณูููุง).  ุฅููู ูุง ูุฏ ูุจุฏู ุนููู: </p><br><p style=";text-align:right;direction:rtl">  ุงููุฑุน 1: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &lt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//a = [0, 0.5) k = a * 2.; //k = [0, 1) gl_FragColor = vec4(1.) * k; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุฑุน 2: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &gt;= <span class="hljs-number"><span class="hljs-number">0.5</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//a = [0.5, 1] k = 1. - a; //k = [0, 0.5] gl_FragColor = vec4(1.) * k; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ุนูุฏูุง ููุงุฌู ุงููุญูู ุดุฑุทูุง ูุนูููุง ูุชุตุฑู ุจุดูู ูุฎุชูู ุงุนุชูุงุฏูุง ุนูู ุงููุทุงู ุ ูุฅูู ููุดุฆ ูุฑูุนูุง (ูุฌุจุงุช ุบุฏุงุก) ููู ุญุงูุฉ ูู ุงูุญุงูุงุช.  ูู ูู ุญุงูุฉ ุ ูููู ุจุชุญุณูู ูุทุงู ูุชุบูุฑ ุงููุตุฏุฑ ูููุชูู ุฅูู ุฃุณูู ูุงุฆูุฉ ุงูุฃูุงูุฑ. </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/n7/fp/dy/n7fpdy2xtg92oy5f0qsl7p8thz4.png"></div><br><p style=";text-align:right;direction:rtl">  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุงููุฑูุน ูู ูุฐู ุงูุญุงูุฉ ูุง ุชุชุนูู ุจุจููุฉ if-else.  ูุชู ุฅูุดุงุก ุงููุฑูุน ุนูุฏูุง ูุชู ุชูุณูู ูุทุงู ุงููุชุบูุฑ ุฅูู ูุทุงูุงุช ูุฑุนูุฉ ุ ููุฏ ูููู ุงูุณุจุจ ุนุจุงุฑุฉ ุดุฑุทูุฉ ุงุฎุชูุงุฑูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุชููู ูุธููุฉ ุงูุฎุทูุฉ ุฃูุถูุง ุจุฅูุดุงุก ูุฑูุน.  ูุนูู ุฌูุงุฒ ุชุธููู GLSL ุงูุชุงูู ูุซู ุงูุณุงุจู ุ ููููู ูุง ูุณุชุฎุฏู ุงูุชูุฑุน (ููู ุ ุจุงูููุงุณุจุฉ ุ ุฃูุถู ูู ุญูุซ ุงูุฃุฏุงุก). </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">float</span></span> a = texture2D(uSampler, uv).a; <span class="hljs-attribute"><span class="hljs-attribute">float</span></span> k = mix(a * <span class="hljs-number"><span class="hljs-number">2</span></span>., <span class="hljs-number"><span class="hljs-number">1</span></span>. - a, step(<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>, a)); <span class="hljs-attribute"><span class="hljs-attribute">gl_FragColor</span></span> = vec4(<span class="hljs-number"><span class="hljs-number">1</span></span>.) * k;</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุฑุฌุน ุงูุฏุงูุฉ step 0 ุฅุฐุง ูุงู &lt;0.5 ู 1 ุฎูุงู ุฐูู.  ูุฐูู ุ ุณูุชู ุฃูุถูุง ุฅูุดุงุก ุงููุฑูุน ููุง - ุนูู ุบุฑุงุฑ ุงููุซุงู ุงูุณุงุจู. </p><br><h2 id="utochnenie-drugih-peremennyh" style=";text-align:right;direction:rtl">  ุตูู ุงููุชุบูุฑุงุช ุงูุฃุฎุฑู </h2><br><p style=";text-align:right;direction:rtl">  ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ูุซุงู ุณุงุจู ูุนุฏูู ููููุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a = texture2D(uSampler, uv).a; <span class="hljs-comment"><span class="hljs-comment">// -&gt; [0,1] float b = a - 0.5; // -&gt; [-0.5, 0.5] if (b &lt; 0.) { k = a * 2.; // k,a -&gt; ? } else { k = 1. - a; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุงููุฑูู ุงูุฏูููุฉ ุนูู ุงููุญู ุงูุชุงูู: ูุญุฏุซ ุงูุชูุฑุน ูููุง ูุชุนูู ุจุงููุชุบูุฑ <code>b</code> ุ ูุชุญุฏุซ ุงูุญุณุงุจุงุช ูุน ุงููุชุบูุฑ <code>a</code> .  ุฃู ุฃูู ุฏุงุฎู ูู ูุฑุน ุณุชููู ููุงู ูููุฉ ุตุญูุญุฉ ูููุทุงู <code>b</code> ุ ูููููุง ุบูุฑ ุถุฑูุฑูุฉ ุชูุงููุง ุ ูุงููููุฉ ุงูุฃุตููุฉ ูููุทุงู <code>a</code> ุ ุบูุฑ ุตุญูุญุฉ ุชูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ุฑุฃู ุงููุญูู ุฃู ุงููุทุงู <code>b</code> ุชู ุงูุญุตูู ุนููู ุจุงูุญุณุงุจ ูู <code>a</code> .  ุฅุฐุง ููุช ุชุชุฐูุฑ ูุฐู ุงููุนูููุงุช ุ ูุนูุฏ ุงูุชูุฑุน ุ ูููู ูููุญูู ุฃู ููุฑ ุจุฌููุน ุงููุชุบูุฑุงุช ุงููุตุฏุฑ ููุญุณู ูุทุงููุง ุนู ุทุฑูู ุฅุฌุฑุงุก ุงูุญุณุงุจ ุงูุนูุณู. </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pi/lb/sz/pilbszwvjnellonuoosc_oux7wq.png"></div><br><h2 id="funkcii-i-cikly" style=";text-align:right;direction:rtl">  ูุธุงุฆู ูุญููุงุช </h2><br><p style=";text-align:right;direction:rtl">  ูุง ุชุญุชูู GLSL ุนูู ุทุฑู ุงูุชุฑุงุถูุฉ ุฃู ูุคุดุฑุงุช ูุธุงุฆู ุฃู ุญุชู ููุงููุงุช ูุชูุฑุฑุฉ ุ ูุฐุง ูุฅู ูู ุงุณุชุฏุนุงุก ุฏุงูุฉ ูุฑูุฏ.  ูุฐูู ุ ูู ุงูุฃุณูู ุฅุฏุฑุงุฌ ูุต ุงููุธููุฉ ูู ููุงู ุงูููุงููุฉ (ูุถููุฉ ุ ุจูููุงุช ุฃุฎุฑู).  ุณูููู ูุฐุง ูุชุณููุง ุชูุงููุง ูุน ุชุณูุณู ุงูุฃูุงูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุฃูู ุฃูุซุฑ ุชุนููุฏูุง ูุน ุงูุฏูุฑุงุช ุ ูุฃูู  ุฑุณูููุง ุ ูุฏุนู GLSL ุชูุงููุง C-like ููุญููุฉ.  ููุน ุฐูู ุ ูู ูุนุธู ุงูุฃุญูุงู ุ ูุชู ุงุณุชุฎุฏุงู ุงูุญููุงุช ูู ุฃุจุณุท ุดูู ุ ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs matlab"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &lt; <span class="hljs-number"><span class="hljs-number">12</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>++) {}</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงูุณูู "ูุดุฑ" ูุฐู ุงูุฏูุฑุงุช ุ ุฃู  ุฃุฏุฎู ุฌุณู ุงูุญููุฉ 12 ูุฑุฉ ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู.  ููุชูุฌุฉ ูุฐูู ุ ุจุนุฏ ุงูุชูููุฑ ุ ูุฑุฑุช ุญุชู ุงูุขู ุฏุนู ูุซู ูุฐุง ุงูุฎูุงุฑ ููุท. </p><br><p style=";text-align:right;direction:rtl">  ุชุชูุซู ููุฒุฉ ูุฐุง ุงูููุฌ ูู ุฃูู ูููู ุฅุตุฏุงุฑ ุงูุฃูุงูุฑ ูู ุฏูู ุฅูู ุงููุญูู ุฏูู ุงูุญุงุฌุฉ ุฅูู ุญูุธ ุฃู ุฃุฌุฒุงุก (ูุซู ุงูููุฆุงุช ุงููุธูููุฉ ุฃู ุงูุญููุงุช) ููุฒูุฏ ูู ุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู. </p><br><h2 id="vsplyvshie-problemy" style=";text-align:right;direction:rtl">  ูุดุงูู ููุจุซูุฉ </h2><br><h3 id="problema-1-slozhnost-ili-nevozmozhnost-utochneniya" style=";text-align:right;direction:rtl">  ุงููุดููุฉ ุฑูู 1: ุตุนูุจุฉ ุฃู ุนุฏู ุงููุฏุฑุฉ ุนูู ุงูุชูุถูุญ </h3><br><p style=";text-align:right;direction:rtl">  ุฃุนูุงู ุ ุฏุฑุณูุง ุงูุญุงูุงุช ุงูุชู ุ ุนูุฏ ุชูููุญ ููู ูุชุบูุฑ ูุงุญุฏ ุ ุงุณุชุฎูุตูุง ุงุณุชูุชุงุฌุงุช ุญูู ููู ูุชุบูุฑ ุขุฎุฑ.  ููุชู ุญู ูุฐู ุงููุดููุฉ ุนูุฏูุง ูุชุนูู ุงูุฃูุฑ ุจุนูููุงุช ูุซู ุงูุฌูุน / ุงูุทุฑุญ.  ูููู ุ ูู ุ ูุงุฐุง ุชูุนู ูุน ุนูู ุงููุซูุซุงุชุ  ุนูู ุณุจูู ุงููุซุงู ุ ูุซู ูุฐุง ุงูุดุฑุท: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a = getSomeValue(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(a) &gt; <span class="hljs-number"><span class="hljs-number">0.</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//    a? }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููู ุชุญุณุจ ูุฏู ุงูุฏุงุฎู ุฅุฐุงุ  ุงุชุถุญ ูุฌููุนุฉ ูุง ุญุตุฑ ููุง ูู ุงููุทุงูุงุช ูุน ุฎุทูุงุช ุจุงู ุ ูุงูุชู ุณุชููู ุบูุฑ ููุงุฆูุฉ ููุนูู ูุนูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ูููู ููุงู ูุซู ูุฐุง ุงููููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a = getSomeValue(); <span class="hljs-comment"><span class="hljs-comment">// [-10,10] float b = getAnotherValue(); //[-20, 30] float k = a + b; if (k &gt; 0) { //a? b? }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชูุถูุญ ุงููุทุงููู <code>a</code> ู <code>b</code> ูู ุงูุญุงูุฉ ุงูุนุงูุฉ ุณูููู ุบูุฑ ูุงูุนู.  ูุจุงูุชุงูู ุ ูุฅู ุงูุฅูุฌุงุจูุงุช ุงููุงุฐุจุฉ ููููุฉ. </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/7e/z9/ea/7ez9eady082-nfgem7j0c65hslk.png"></div><br><h3 id="problema-2-zavisimye-diapazony" style=";text-align:right;direction:rtl">  ุงููุดููุฉ ุฑูู 2: ุงููุทุงูุงุช ุงูุชุงุจุนุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุชุฃูู ูุฐุง ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">uniform <span class="hljs-type"><span class="hljs-type">float</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> //-&gt; [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-type"><span class="hljs-type">void</span></span> main() { <span class="hljs-type"><span class="hljs-type">float</span></span> val2 = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> - <span class="hljs-number"><span class="hljs-number">1.</span></span>; gl_FragColor = vec4(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> - val2); }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gh/0m/jo/gh0mjodwd1oqeoh32mcdkollcyg.png"></div><br><p style=";text-align:right;direction:rtl">  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ููุธุฑ ุงููุญูู ูู ูุทุงู ุงููุชุบูุฑ <code>val2</code> - ููู ุงููุชููุน ุฃู ูููู <code>[0,1] - 1 == [-1, 0]</code> </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ุนูุฏ ุงููุธุฑ ูู <code>value - val2</code> ุ ูุง ูุฃุฎุฐ ุงููุญูู ูู ุงูุงุนุชุจุงุฑ ุฃู <code>val2</code> ูุฏ ุชู ุงูุญุตูู ุนููู ูู <code>value</code> ุ ููุนูู ูุน ุงููุทุงูุงุช ููุง ูู ูุงูุช ูุณุชููุฉ ุนู ุจุนุถูุง ุงูุจุนุถ.  ูุญุตู ุนูู <code>[0,1] - [-1,0] = [0,2]</code> ุ ููุจูุบ ุนู ุฎุทุฃ.  ุนูู ุงูุฑุบู ูู ุฃูู ูู ุงููุงูุน ูุงู ูุฌุจ ุฃู ูุญุตู ุนูู ุซุงุจุช 1. </p><br><p style=";text-align:right;direction:rtl">  ุงูุญู ุงููููู: ุชุฎุฒูู ูู ูุชุบูุฑ ููุณ ููุท ุชุงุฑูุฎ ุงููุทุงูุงุช ุ ูููู ุฃูุถูุง "ุดุฌุฑุฉ ุงูุนุงุฆูุฉ" ุจุงููุงูู - ุฃู ุงููุชุบูุฑุงุช ูุงูุช ุชุนุชูุฏ ุนูููุง ุ ูุงูุนูููุงุช ุ ููุง ุฅูู ุฐูู.  ุดูุก ุขุฎุฑ ูู ุฃู "ุชุชูุดู" ูุฐู ุงููุณุจ ูู ุชููู ุณููุฉ. </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/47/-_/qb/47-_qbz4nhcsbbfo_8wvtepll94.png"></div><br><h3 id="problema-3-diapazony-zavisimye-neyavno" style=";text-align:right;direction:rtl">  ุงููุดููุฉ ุฑูู 3: ุงููุทุงูุงุช ุงูุชุงุจุนุฉ ุถููููุง </h3><br><p style=";text-align:right;direction:rtl">  ููุง ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs lisp">float k = sin(<span class="hljs-name"><span class="hljs-name">a</span></span>) + cos(<span class="hljs-name"><span class="hljs-name">a</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุ ููุชุฑุถ ุงููุญูู ุฃู ุงููุทุงู <code>k = [-1,1] + [-1,1] = [-2,2]</code> .  ููุฐุง ุฎุทุฃ ูุฃูู  <code>sin(a) + cos(a)</code> ูุฃู ูุฐุจ ูู ุงููุทุงู <code>[-โ2, โ2]</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุง ุชุนุชูุฏ ูุชูุฌุฉ ุงูุญูุณุจุฉ <code>sin(a)</code> ุฑุณูููุง ุนูู ูุชูุฌุฉ ุงูุญูุณุจุฉ <code>cos(a)</code> .  ููุน ุฐูู ุ ูุฅููุง ุชุนุชูุฏ ุนูู ููุณ ุงููุทุงู. </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pf/wz/ne/pfwznek8x2iguen0bhyx0thwjuq.png"></div><br><h2 id="itogi-i-vyvody" style=";text-align:right;direction:rtl">  ุงูููุฎุต ูุงูุงุณุชูุชุงุฌุงุช </h2><br><p style=";text-align:right;direction:rtl">  ููุง ุงุชุถุญ ุ ูุฅู ุฅุฌุฑุงุก ุชุญููู ูุทุงู ุงููููุฉ ุญุชู ุจุงููุณุจุฉ ููุฐู ุงููุบุฉ ุงูุจุณูุทุฉ ูุงููุชุฎุตุตุฉ ููุบุงูุฉ ูุซู GLSL ููุณ ูููุฉ ุณููุฉ.  ูุง ูุฒุงู ูู ุงููููู ุชุนุฒูุฒ ุชุบุทูุฉ ููุฒุงุช ุงููุบุฉ: ุฏุนู ุงููุตูููุงุช ูุงููุตูููุงุช ูุฌููุน ุงูุนูููุงุช ุงููุฏูุฌุฉ ูู ูููุฉ ูููุฉ ุจุญุชุฉ ุชุชุทูุจ ุจุจุณุงุทุฉ ููุชูุง ุทูููุงู.  ูููู ููููุฉ ุญู ุงูููุงูู ุจุงูุชุจุนูุงุช ุจูู ุงููุชุบูุฑุงุช - ุงูุณุคุงู ูุง ูุฒุงู ุบูุฑ ูุงุถุญ ุจุงููุณุจุฉ ูู.  ุจุฏูู ุญู ูุฐู ุงููุดุงูู ุ ูุฅู ุงูุฅูุฌุงุจูุงุช ุงููุงุฐุจุฉ ูุง ููุฑ ูููุง ุ ูุงูุถูุถุงุก ุงูุชู ูููู ุฃู ุชููู ูู ููุงูุฉ ุงููุทุงู ููุงุฆุฏ ุงูุชุญููู ุงูุซุงุจุช. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุธุฑ ุฅูู ูุง ุตุงุฏูุชู ุ ูู ุฃูู ูุชูุงุฌุฆูุง ุจุดูู ุฎุงุต ูุบูุงุจ ุจุนุถ ุงูุฃุฏูุงุช ุงููุนุฑููุฉ ุฌูุฏูุง ูุชุญููู ูุทุงู ุงูููู ุจูุบุงุช ุฃุฎุฑู - ูู ุงููุงุถุญ ุฃู ููุงู ูุดุงูู ุฃูุซุฑ ูููุง ูู GLSL ุงูุจุณูุท ูุณุจููุง.  ูู ุงูููุช ููุณู ุ ููููู ูุชุงุจุฉ ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ุนูู ุงูุฃูู ุจูุบุงุช ุฃุฎุฑู ุ ูููู ููุง ูุง ููููู ุงูููุงู ุจุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ูููู ุงูุญู ุงูุจุฏูู ูู ุงูุชุฑุฌูุฉ ูู ูุบุงุช ุฃุฎุฑู ุฅูู GLSL - ููุง ูู ุงูุขููุฉ ุงูุฃุฎูุฑุฉ ูุงู ููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงู ุญูู ุงูุชุฑุฌูุฉ ูู kotlin</a> .  ุซู ููููู ูุชุงุจุฉ ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ูุดูุฑุฉ ุงููุตุฏุฑ ูุชุบุทูุฉ ุฌููุน ุดุฑูุท ุงูุญุฏูุฏ.  ุฃู ูู ุจุนูู "ูุญูู ุฏููุงูููู" ูููู ุจุชุดุบูู ููุณ ุงูุจูุงูุงุช ุงูุชู ุชุฐูุจ ุฅูู ุฌูุงุฒ ุชุธููู ูู ุฎูุงู ููุฏ kotlin ุงูุฃุตูู ููุญุฐุฑ ูู ุงููุดุงูู ุงููุญุชููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุชูููุช ุนูุฏ ูุฐู ุงูููุทุฉ.  ููุฃุณู ุ ูู ุชุนูู ุงูููุชุจุฉ ุ ูููู ุฑุจูุง ูุฐุง ุงููููุฐุฌ ุงูุฃููู ูููุฏ ูุดุฎุต ูุง. </p><br><p style=";text-align:right;direction:rtl">  ูุณุชูุฏุน ุนูู ุฌูุซูุจ ูููุฑุงุฌุนุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/AlexeyGrishin/glsl-value-range-analysis</a> </li></ul><br><p style=";text-align:right;direction:rtl">  ูููุญุงููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://alexeygrishin.github.io/glsl-value-range-analysis/html/</a> </li></ul><br><h2 id="bonus-osobennosti-sborki-webassembly-s-raznymi-flagami-kompilyatora" style=";text-align:right;direction:rtl">  ุงูููุงูุฃุฉ: ููุฒุงุช ุชุฌููุน ุงูููุจ ุจุฃุนูุงู ูุชุฑุฌู ูุฎุชููุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูู ุงูุจุฏุงูุฉ ุ ููุช ุจุงููุญูู ุฏูู ุงุณุชุฎุฏุงู stdlib - ุจุงูุทุฑููุฉ ุงููุฏููุฉ ุ ูุน ุงููุตูููุงุช ูุงููุคุดุฑุงุช.  ูู ุฐูู ุงูููุช ููุช ูููุฉ ููุบุงูุฉ ุจุดุฃู ุญุฌู ููู ุงูุฅุฎุฑุงุฌ ุ ูุฃุฑุฏุช ุฃู ูููู ุตุบูุฑูุง.  ูููู ุจุฏุกูุง ูู ูุฑุญูุฉ ูุง ุ ุจุฏุฃุช ุฃุดุนุฑ ุจุนุฏู ุงูุฑุงุญุฉ ุ ูุจุงูุชุงูู ูุฑุฑุช ููู ูู ุดูุก ุฅูู stdlib - ุงููุคุดุฑุงุช ุงูุฐููุฉ ูุงููุฌููุนุงุช ุงูุนุงุฏูุฉ ุ ูุฐุง ูู ุดูุก. </p><br><p style=";text-align:right;direction:rtl">  ูุจูุงุก ุนูู ุฐูู ุ ุฃุชูุญุช ูู ุงููุฑุตุฉ ูููุงุฑูุฉ ูุชุงุฆุฌ ุชุฌููุน ูุณุฎุชูู ูู ุงูููุชุจุฉ - ูุน stdlib ุฃู ุจุฏููู.  ุญุณููุง ุ ุงูุธุฑ ุฃูุถูุง ููู ูุนูู ุงูุชุญุณูู ุงูุฌูุฏ / ุงูุณูุฆ (ูุงููููุฉ ุงูุชู ูุณุชุฎุฏููุง) ุนูู ุชุญุณูู ุงูุดูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุฌูุนุช ููุง ุงูุฅุตุฏุงุฑูู ุจูุฌููุนุงุช ูุฎุชููุฉ ูู ุนูุงูุงุช ุงูุชุญุณูู ( <code>-O0</code> ู <code>-Oz</code> ู <code>-Oz</code> ู <code>-Oz</code> ู <code>-Oz</code> ู <code>-Oz</code> ) ุ ูุจุงููุณุจุฉ ูุจุนุถ ูุฐู ุงูุฅุตุฏุงุฑุงุช ุ ููุช ุจููุงุณ ุณุฑุนุฉ ุงูุชุญููู ูู 3000 ุนูููุฉ ูุน 1000 ูุฑุน.  ุฃูุงูู ุ ููุณ ุฃูุจุฑ ูุซุงู ุ ูููู IMHO ูููู ูุฅุฌุฑุงุก ุชุญููู ููุงุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูุงุฐุง ุญุตู ุญุณุจ ุญุฌู ููู wasm: </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qz/u9/sc/qzu9sc7tg2jdz7v5-zfbvceqkv8.png"></div><br><p style=";text-align:right;direction:rtl">  ูุงููุซูุฑ ููุฏูุดุฉ ุฃู ุฎูุงุฑ ุงูุญุฌู ูุน ุงูุชุญุณูู "ุตูุฑ" ุฃูุถู ูู ุฌููุน ุงูุฎูุงุฑุงุช ุงูุฃุฎุฑู ุชูุฑูุจูุง.  ุณุฃูุชุฑุถ ุฃูู ูู <code>O3</code> ุฎุท ูุถูู ููู ุดูุก ูู ุงูุนุงูู ุ ููุง ูุคุฏู ุฅูู ุชุถุฎูู ุซูุงุฆู.  ุงูุฅุตุฏุงุฑ ุงููุชููุน ุจุฏูู stdlib ุฃูุซุฑ ุฅุญูุงูุง ุ ูููู ููุณ ูุซูุฑุง <del>  ุชุญูู ูุซู ูุฐุง ุงูุฅุฐูุงู </del>  ูุญุฑูุงู ููุณู ูู ูุชุนุฉ ุงูุนูู ูุน ูุฌููุนุงุช ููุงุณุจุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุญุณุจ ุณุฑุนุฉ ุงูุชูููุฐ: </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/w_/dc/hs/w_dchsujm7zdc4rvzjsaiwpzeme.png"></div><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุฃุณุชุทูุน ุฃู ุฃุฑู ุฃู <code>-O3</code> ููุณ ุนุจุซุง ุฃูู ุงูุฎุจุฒ ุ ุจุงูููุงุฑูุฉ ูุน <code>-O0</code> .  ูู ููุณ ุงูููุช ุ ุงููุฑู ุจูู ุงูุฅุตุฏุงุฑุงุช ูุน stdlib ุฃู ุจุฏููู ุบูุฑ ููุฌูุฏ ุนููููุง (ุฃุฌุฑูุช 10 ููุงุณุงุช ุ ุฃุนุชูุฏ ุฃูู ูุน ุนุฏุฏ ุฃูุจุฑ ุณูุฎุชูู ุงููุฑู ุชูุงููุง). </p><br><p style=";text-align:right;direction:rtl">  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ููุทุชูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุธูุฑ ุงูุฑุณู ุงูุจูุงูู ูุชูุณุท โโุงูููู ูู 10 ุนูููุงุช ูุชุชุงููุฉ ููุชุญููู ุ ูููู ูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุ ุงุณุชูุฑ ุงูุชุญููู ุงูุฃูู ูุฑุชูู ุฃุทูู ูู ุงูุจููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ 120 ูููู ุซุงููุฉ ุ ูุงูุนูููุงุช ุงูุชุงููุฉ ูุงูุช ุจุงููุนู ุญูู 60 ูููู ุซุงููุฉ).  ุฑุจูุง ูุงู ููุงู ุจุนุถ ุงูุชููุฆุฉ ู WebAssembly. </li><li style=";text-align:right;direction:rtl">  ูุน ุงูุนูู <code>-O3</code> ุ ุฃูุณูุช ุจุจุนุถ ุงูุญุดุฑุงุช ุงูุบุฑูุจุฉ ุงูุชู ูู <code>-O3</code> ูุฃุนูุงู ุฃุฎุฑู.  ุนูู ุณุจูู ุงููุซุงู ุ ุจุฏุฃุช ุงูุฏุงูุชุงู min ู max ูุฌุฃุฉ ูู ุงูุนูู ุจููุณ ุงูุทุฑููุฉ - ูุซู min. </li></ul><br><h2 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุดูุฑุง ููู ุฌููุนุง ุนูู ุงูุชูุงููู. <br>  ุฏุน ููู ุงููุชุบูุฑุงุช ุงูุฎุงุตุฉ ุจู ูุง ุชุชุฌุงูุฒ ุฃุจุฏูุง ุงูุญุฏูุฏ. <br>  ููุง ุฃูุช ุฐุง. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar428027/">https://habr.com/ru/post/ar428027/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar428011/index.html">ุฃุบุงูู ุงููุถุงุก ุบูุจูุจุฉ</a></li>
<li><a href="../ar428019/index.html">ูุนุจ Mortal Kombat ูุน TensorFlow.js</a></li>
<li><a href="../ar428021/index.html">ุงูุฃุฎุชุงู ุถุฏ ุงูุดุจูุฉ ุงูุนุตุจูุฉ. ุฃู ุญุฏุฏ ูุชุดุบูู ุดุจูุฉ ุนุตุจูุฉ ููุชุนุฑู ุนูู ุงููุงุฆูุงุช ุงูููุฌูุฏุฉ ุนูู Raspberry Zero</a></li>
<li><a href="../ar428023/index.html">ุฃุณุงุณูุงุช ุงูุณูุงูุฉ ุงูููุฑุจุงุฆูุฉ ูู ุชุตููู ุงูุฃุฌูุฒุฉ ุงูุฅููุชุฑูููุฉ</a></li>
<li><a href="../ar428025/index.html">ุชูุตูู ููู ูุจุงุฏูุฉ (SWAP) ูู MAC OS X ุนูุฏ ุงุณุชุฎุฏุงู SSD ุฎุงุฑุฌู ููุธุงู</a></li>
<li><a href="../ar428029/index.html">ุงูุฃุญุฏุงุซ ุงูุฑูููุฉ ูู ููุณูู ูู 29 ุฃูุชูุจุฑ ุฅูู 4 ููููุจุฑ</a></li>
<li><a href="../ar428031/index.html">ุชูุงูู 3CX ูุน 1C: ุฅุฏุงุฑุฉ ุงูุชุฌุงุฑุฉ - ุทุฑููุฉ ููุฌูุน ุจูู ุงูุชููููุงุช</a></li>
<li><a href="../ar428033/index.html">ูู ุงูููุงูุงุช ุงููุชุญุฏุฉ ุ ุฃุฌุงุฒุช ุงุฎุชุฑุงู ุงูุฃุฌูุฒุฉ ุงูุฐููุฉ ูุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูููุฌูุฏุฉ ุนูู ูุชููุง ูุบุฑุถ ุงูุฅุตูุงุญ ูุงูุชุฑููุฉ</a></li>
<li><a href="../ar428035/index.html">ุณูุชู ุงุณุชูุนุงุจ Red Hat ูู ูุจู IBM</a></li>
<li><a href="../ar428039/index.html">ูุง ุชุฎุทุท ุงูุญูููุฉ ููุฏูุงุน ุนู ุญูุงุฏูุฉ ุงูุดุจูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>