<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ ๐ค โธ๏ธ Errorx - ููุชุจุฉ ููุชุนุงูู ูุน ุงูุฃุฎุทุงุก ูู Go ๐คถ๐ผ ๐ง ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุง ูู Errorx ูููู ุฃููุง ูููุฏุฉ 


 Errorx ูู ููุชุจุฉ ููุชุนุงูู ูุน ุงูุฃุฎุทุงุก ูู Go. ูููุฑ ุฃุฏูุงุช ูุญู ุงููุดููุงุช ุงููุฑุชุจุทุฉ ุจุขููุฉ ุงูุฎุทุฃ ูู ุงููุดุงุฑูุน ุงููุจูุฑุฉ ุ ูุตูุบุฉ ูุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Errorx - ููุชุจุฉ ููุชุนุงูู ูุน ุงูุฃุฎุทุงุก ูู Go</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/joom/blog/429690/" style=";text-align:right;direction:rtl"><h1 id="chto-takoe-errorx-i-chem-on-polezen" style=";text-align:right;direction:rtl">  ูุง ูู Errorx ูููู ุฃููุง ูููุฏุฉ </h1><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Errorx</a> ูู ููุชุจุฉ ููุชุนุงูู ูุน ุงูุฃุฎุทุงุก ูู Go.  ูููุฑ ุฃุฏูุงุช ูุญู ุงููุดููุงุช ุงููุฑุชุจุทุฉ ุจุขููุฉ ุงูุฎุทุฃ ูู ุงููุดุงุฑูุน ุงููุจูุฑุฉ ุ ูุตูุบุฉ ูุงุญุฏุฉ ููุนูู ูุนูุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wq/c2/aw/wqc2awx3pmke-loujb4ea0yngya.jpeg" alt="ุงูุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ุชูุช ูุชุงุจุฉ ูุนุธู ููููุงุช ุฎุงุฏู Joom ุนูู Go ููุฐ ุชุฃุณูุณ ุงูุดุฑูุฉ.  ููุฏ ุฃุชุงุญ ูุฐุง ุงูุงุฎุชูุงุฑ ุซูุงุฑู ูู ุงููุฑุงุญู ุงูุฃููู ูู ุงูุชุทููุฑ ูุนูุฑ ุงูุฎุฏูุฉ ุ ููู ุถูุก <a href="">ุงูุฅุนูุงูุงุช</a> ุญูู ุขูุงู Go 2 ุ ูุญู ุนูู ูููู ูู ุฃููุง ูู ูุฃุณู ูุฐูู ูู ุงููุณุชูุจู.  ุชุชูุซู ุฅุญุฏู ุงููุฒุงูุง ุงูุฑุฆูุณูุฉ ูู Go ูู ุงูุจุณุงุทุฉ ุ ูููุถุญ ููุฌ ุงูุฃุฎุทุงุก ูุฐุง ุงููุจุฏุฃ ูุซู ุฃู ุดูุก ุขุฎุฑ.  ูุง ูุตู ูู ูุดุฑูุน ุฅูู ูุทุงู ูุงูู ุจุญูุซ ูุง ุชููู ุฅููุงูุงุช ุงูููุชุจุฉ ุงูููุงุณูุฉ ูุงููุฉ ุ ููุง ูุทุงูุจู ุจุงูุจุญุซ ุนู ุญูููู ุงูุฎุงุตุฉ ูู ูุฐุง ุงููุฌุงู.  ุตุงุฏู ุฃููุง ุฎุถูุง ุจุนุถ ุงูุชุทูุฑ ูู ุฃุณุงููุจ ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุ ูุชุนูุณ ููุชุจุฉ errorx ูุชูุฌุฉ ูุฐุง ุงูุชุทูุฑ.  ูุญู ููุชูุนูู ุจุฃูู ูููู ุฃู ูููู ูููุฏูุง ููุซูุฑ ูู ุงููุงุณ ุ ุจูุง ูู ุฐูู ุฃููุฆู ุงูุฐูู ูุง ูุดุนุฑูู ุจุนุฏ ุจุนุฏู ุงุฑุชูุงุญ ูุจูุฑ ูู ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ูู ูุดุงุฑูุนูู. </p><a name="habracut"></a><br><h2 id="oshibki-v-go" style=";text-align:right;direction:rtl">  ุฃุฎุทุงุก ูู ุงูุฐูุงุจ </h2><br><p style=";text-align:right;direction:rtl">  ูุจู ุงูุงูุชูุงู ุฅูู ุงููุตุฉ ุญูู errorx ุ ูุฌุจ ุฅุฌุฑุงุก ุจุนุถ ุงูุชูุถูุญ.  ูู ุงูููุงูุฉ ุ ูุง ูู ุงูุฎุทุฃ ูู ุงูุจูุ </p><br><pre style=";text-align:right;direction:rtl"><code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> error <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> { Error() <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุณูุท ุฌุฏุง ุ ุฃููุณ ูุฐููุ  ูู ุงููุงุญูุฉ ุงูุนูููุฉ ุ ุบุงูุจูุง ูุง ูุง ูุญูู ุงูุชูููุฐ ุฃู ุดูุก ุณูู ูุตู ุณูุณูุฉ ููุฎุทุฃ.  ุชุฑุชุจุท ูุฐู ุงูุจุณุงุทุฉ ูุน ุงูููุฌ ุงูุฐู ุจููุฌุจู ูุง ูุนูู ุงูุฎุทุฃ ุจุงูุถุฑูุฑุฉ ุดูุฆูุง "ุงุณุชุซูุงุฆููุง".  ุงูุฃุฎุทุงุก ุงูุฃูุซุฑ ุงุณุชุฎุฏุงููุง. New () ูู ุงูููุชุจุฉ ุงูููุงุณูุฉ ุตุญูุญุฉ ููุฐู ุงูููุฑุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">New</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(text </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &amp;errorString{text} }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชุฐูุฑูุง ุฃู ุงูุฃุฎุทุงุก ูู ูุบุฉ ูุง ููุณ ููุง ูุถุน ุฎุงุต ูุฃููุง ูุงุฆูุงุช ุนุงุฏูุฉ ุ ูุฅู ุงูุณุคุงู ุงูุฐู ูุทุฑุญ ููุณู: ูุง ูู ุฎุตูุตูุฉ ุงูุนูู ูุนููุ </p><br><p style=";text-align:right;direction:rtl">  ุงูุฃุฎุทุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุณุช ุงุณุชุซูุงุก</a> .  ููุณ ุณุฑุง ุฃู ุงููุซูุฑูู ุ ุนูุฏูุง ูุชุนุฑููู ุนูู ุฌู ุ ููุงุฌููู ูุฐุง ุงูุงุฎุชูุงู ุจุจุนุถ ุงูููุงููุฉ.  ููุงู ุงูุนุฏูุฏ ูู ุงูููุดูุฑุงุช ุงูุชู ุชุดุฑุญ ูุชุฏุนู ูุชูุชูุฏ ุงูููุฌ ุงููุฎุชุงุฑ ูู Go.  ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ุชุฎุฏู ุงูุฃุฎุทุงุก ูู Go ุงูุนุฏูุฏ ูู ุงูุฃุบุฑุงุถ ุ ููุงุญุฏ ูููุง ุนูู ุงูุฃูู ูู ููุณู ุชูุงููุง ูุซู ุงูุงุณุชุซูุงุกุงุช ูู ุจุนุถ ุงููุบุงุช ุงูุฃุฎุฑู: ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง.  ููุชูุฌุฉ ูุฐูู ุ ูู ุงูุทุจูุนู ุฃู ูุชููุน ูููู ููุณ ุงูููุฉ ุงูุชุนุจูุฑูุฉ ุ ุญุชู ูู ูุงู ุงูููุฌ ูุงููุญู ุงููุฑุชุจุทูู ุจุงุณุชุฎุฏุงูููุง ูุฎุชูููู ุชูุงููุง. </p><br><h3 id="chto-ne-tak" style=";text-align:right;direction:rtl">  ูุง ุงูุฎุทุจุ </h3><br><p style=";text-align:right;direction:rtl">  ุชุณุชููุฏ ุงูุนุฏูุฏ ูู ุงููุดุงุฑูุน ูู ุงูุฃุฎุทุงุก ูู Go ุ ููุง ูู ุ ููุง ุชูุงุฌู ุฃุฏูู ุตุนูุจุฉ ูู ุฐูู.  ููุน ุฐูู ุ ูุน ุชุฒุงูุฏ ุชุนููุฏ ุงููุธุงู ุ ุจุฏุฃ ุนุฏุฏ ูู ุงููุดุงูู ูู ุงูุธููุฑ ุชุฌุฐุจ ุงูุงูุชุจุงู ุญุชู ูู ุบูุงุจ ุงูุชููุนุงุช ุงูุนุงููุฉ.  ุงูุชูุถูุญ ุงูุฌูุฏ ูู ุฎุท ูุดุงุจู ูู ุณุฌู ุงูุฎุฏูุฉ: </p><br><p style=";text-align:right;direction:rtl"> <code>Error: duplicate key</code> </p> <br><p style=";text-align:right;direction:rtl">  ููุง ุ ุชุตุจุญ ุงููุดููุฉ ุงูุฃููู ูุงุถุญุฉ ุนูู ุงูููุฑ: ุฅุฐุง ูู ุชูุชู ุจูุฐุง ุนู ูุตุฏ ุ ููู ูุธุงู ูุจูุฑ ุฅูู ุญุฏ ูุง ุ ููุงุฏ ูููู ูู ุงููุณุชุญูู ููู ุงูุฎุทุฃ ุงูุฐู ุญุฏุซ ุ ููุท ูู ุฎูุงู ุงูุฑุณุงูุฉ ุงูุฃูููุฉ.  ููุชูุฑ ูุฐุง ุงูููุดูุฑ ุฅูู ุงูุชูุงุตูู ูุณูุงู ุฃูุณุน ูููุดููุฉ.  ูุฐุง ุฎุทุฃ ุงููุจุฑูุฌ ุ ูููู ูุญุฏุซ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูุฅููุงูู.  ุชุณุชุญู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุฎุตุตุฉ ูููุฑูุน "ุงูุฅูุฌุงุจูุฉ" ูู ุงูุฑุณู ุงูุจูุงูู ููุชุญูู ุฏุงุฆููุง ุงูุชูุงููุง ุฃูุจุฑ ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ูุชุบุทููุง ุงูุงุฎุชุจุงุฑุงุช ุจุดูู ุฃูุถู ูู ุงูุฑูุฒ "ุงูุณูุจู" ุงููุฑุชุจุท ุจุงููุทุงุน ุงูุชูููุฐ ุฃู ุงููุดุงูู ุงูุฎุงุฑุฌูุฉ.  ูู ูุฑุฉ ุชุชูุฑุฑ <code>if err != nil {return err}</code> ูู ุจุฑุงูุฌ Go ููุง ูุฌุนู ูุฐุง ุงูุฅุดุฑุงู ุฃูุซุฑ ุงุญุชูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุญูุฑ ุตุบูุฑ ุ ุถุน ูู ุงุนุชุจุงุฑู ูุฐุง ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m *Manager)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ApplyToUsers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(action </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">func</span></span></span></span><span class="hljs-function"><span class="hljs-params">(User)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*Data, error)</span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ids</span></span></span><span class="hljs-function"> []</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UserID</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { users, err := m.LoadUsers(ids) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> err } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> actionData []*Data <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _, user := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> users { data, err := action(user) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> err } ok, err := m.validateData(data) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !ok { log.Error(<span class="hljs-string"><span class="hljs-string">"Validation failed for %v"</span></span>, data) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> } actionData = <span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(actionData, data) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m.Apply(actionData) }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ูุฏู ุณุฑุนุฉ ุธููุฑ ุงูุฎุทุฃ ูู ูุฐุง ุงูุฑูุฒุ  ูููู ุชู ุงูููุงู ุจุฐูู ูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ุ ุฑุจูุง ูู ูุจู ุฃู ูุจุฑูุฌ Go.  ุชูููุญ: ุฎุทุฃ ูู ุงูุชุนุจูุฑ <code>if err != nil { return nil }</code> . </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุนุฏูุง ุฅูู ุงููุดููุฉ ุจุฑุณุงูุฉ ูุดูุดุฉ ูู ุงูุณุฌู ุ ูุญููุฆุฐู ุญุฏุซ ุงูุฌููุน ุฃูุถูุง ูู ูุฐู ุงูุญุงูุฉ.  ุงูุจุฏุก ูู ุฅุตูุงุญ ุฑูุฒ ูุนุงูุฌุฉ ุงูุฎุทุฃ ุจุงููุนู ูู ููุช ุญุฏูุซ ุงููุดููุฉ ุฃูุฑ ุบูุฑ ุณุงุฑ ููุบุงูุฉ ุ  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููููุง ููุจูุงูุงุช ุงูุฃูููุฉ ูู ุงูุณุฌู ุ ูู ุบูุฑ ุงููุงุถุญ ุชูุงููุง ุฃู ุฌุงูุจ ูุจุฏุก ุงูุจุญุซ ุนู ูุฐุง ุงูุฌุฒุก ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุงูุฐู ูุญุชุงุฌ ูู ุงููุงูุน ุฅูู ุชุญุณูู.  ูุฏ ูุจุฏู ูุฐุง ุชุนููุฏูุง ุจุนูุฏ ุงูููุงู ุจุงููุณุจุฉ ูููุดุงุฑูุน ุงูุตุบูุฑุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ููู ุนุฏุฏ ุงูุชุจุนูุงุช ุงูุฎุงุฑุฌูุฉ.  ููุน ุฐูู ุ ุจุงููุณุจุฉ ูููุดุงุฑูุน ูุงุณุนุฉ ุงููุทุงู ุ ููุฐู ูุดููุฉ ุญููููุฉ ููุคููุฉ ุชูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุฑุถ ุฃู ูุจุฑูุฌ ุฎุจุฑุฉ ูุฑูุฑุฉ ูุฑูุฏ ุฅุถุงูุฉ ุณูุงู ููุฏููุง ุฅูู ุงูุฎุทุฃ ุงูุฐู ูุชู ุฅุฑุฌุงุนู.  ุงูุทุฑููุฉ ุงูุณุงุฐุฌุฉ ููููุงู ุจุฐูู ุดูุก ูู ูุฐุง ุงููุจูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InsertUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(u *User)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { err := usersTable.Insert(u) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> errors.New(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"failed to insert user %s: %v"</span></span>, u.Name, err) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุฏ ุชุญุณู.  ูุง ูุฒุงู ุงูุณูุงู ุงูุฃูุณุน ุบูุฑ ูุงุถุญ ุ ูููู ูู ุงูุฃุณูู ุงูุขู ุงูุนุซูุฑ ุนูู ุงูุฃูู ุนูู ุฃู ููุฏ ุญุฏุซ ุงูุฎุทุฃ.  ููุน ุฐูู ุ ุจุนุฏ ุญู ูุดููุฉ ูุงุญุฏุฉ ุ ุฃูุดุฃูุง ุนู ุบูุฑ ูุตุฏ ูุดููุฉ ุฃุฎุฑู.  ุฃุจูู ุงูุฎุทุฃ ุงูุฐู ุชู ุฅูุดุงุคู ููุง ุฑุณุงูุฉ ุงูุชุดุฎูุต ุฃุตููุฉ ุ ูููู ุชู ููุฏุงู ูู ุดูุก ุขุฎุฑ ุ ุจูุง ูู ุฐูู ููุนู ููุญุชูุงู ุงูุฅุถุงูู. </p><br><p style=";text-align:right;direction:rtl">  ููุนุฑูุฉ ุณุจุจ ุฎุทูุฑุฉ ุฐูู ุ ุถุน ูู ุงุนุชุจุงุฑู ูุฌูุฏ ุฑูุฒ ูุดุงุจู ูู ุจุฑูุงูุฌ ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ErrDuplicateKey = errors.New(<span class="hljs-string"><span class="hljs-string">"duplicate key"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t *Table)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Insert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(entity </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">interface</span></span></span></span><span class="hljs-function"><span class="hljs-params">{})</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// returns ErrDuplicateKey if a unique constraint is violated by insert } func IsDuplicateKeyError(err error) bool { return err == ErrDuplicateKey }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ุชู ุชุฏููุฑ ุงูุงุฎุชูุงุฑ <code>IsDuplicateKeyError()</code> ุ ุนูู ุงูุฑุบู ูู ุฃูู ูู ุงูููุช ุงูุฐู ุฃุถููุง ููู ูุตูุง ุฅูู ุงูุฎุทุฃ ุ ูู ููู ูุฏููุง ุฃู ููุฉ ูุชุบููุฑ ุฏูุงูุงุชู.  ุณูุคุฏู ูุฐุง ุจุฏูุฑู ุฅูู ูุณุฑ ุงูุฑูุฒ ุงูุฐู ูุนุชูุฏ ุนูู ูุฐุง ุงูุชุญูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RegisterUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(u *User)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { err := InsertUser(u) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> db.IsDuplicateKeyError(err) { <span class="hljs-comment"><span class="hljs-comment">// find existing user, handle conflict } else { return err } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุฃุฑุฏูุง ุงูููุงู ุจุฃูุซุฑ ุฐูุงุก ูุฅุถุงูุฉ ููุน ุงูุฎุทุฃ ุงูุฎุงุต ุจูุง ุ ูุงูุฐู ุณูุฎุฒู ุงูุฎุทุฃ ุงูุฃุตูู ูุณูููู ูุงุฏุฑูุง ุนูู ุฅุนุงุฏุชู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุฎูุงู ุทุฑููุฉ <code>Cause() error</code> ุ ูุณูููู ุฃูุถูุง ุจุญู ุงููุดููุฉ ุฌุฒุฆููุง ููุท. </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุขู ูู ููุงู ูุนุงูุฌุฉ ุงูุฎุทุฃ ุ ุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุฃู ุงูุณุจุจ ุงูุญูููู ูููู ูู <code>Cause()</code> </li><li style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ุทุฑููุฉ ูุชุนููู ุงูููุชุจุงุช ุงูุฎุงุฑุฌูุฉ ูุฐู ุงููุนุฑูุฉ ุ ูุณุชุธู ุงููุธุงุฆู ุงููุณุงุนุฏุฉ ุงูููุชูุจุฉ ูููุง ุบูุฑ ูุฌุฏูุฉ </li><li style=";text-align:right;direction:rtl">  ูููู ุฃู ูุชููุน ุชุทุจูููุง ุฃู ูุฑุฌุน <code>Cause()</code> ุงูุณุจุจ ุงูููุฑู ููุฎุทุฃ (ุฃู ูุง ุดูุก ุฅุฐุง ูู ููู ูุฐูู) ุ ุจูููุง ูุชููุน ุงูุชูููุฐ ูู ููุชุจุฉ ุฃุฎุฑู ุฃู ุชุฑุฌุน ุงูุทุฑููุฉ ุงูุณุจุจ ุบูุฑ ุงูุฌุฐุฑ ุงูุฌุฐุฑ ุ  ููุฏุฏ ุงูุงูุชูุงุฑ ุฅูู ุงูุฃุฏูุงุช ุงูููุงุณูุฉ ุฃู ุงูุนูุฏ ุงูููุจูู ุจุดูู ุนุงู ููุงุฌุขุช ุบูุฑ ุณุงุฑุฉ ููุบุงูุฉ </li></ol><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูุชู ุงุณุชุฎุฏุงู ูุฐุง ุงูุญู ุงูุฌุฒุฆู ูู ุงูุนุฏูุฏ ูู ููุชุจุงุช ุงูุฃุฎุทุงุก ุ ุจูุง ูู ุฐูู ุ ุฅูู ุญุฏ ูุง ุ ููุชุจุงุชูุง.  ููุงู ุฎุทุท ูู Go 2 ูุชุฑููุฌ ูุฐุง ุงูููุฌ - ุฅุฐุง ุญุฏุซ ุฐูู ุ ูุณูููู ูู ุงูุฃุณูู ุงูุชุนุงูู ูุน ุงููุดููุงุช ุงูููุถุญุฉ ุฃุนูุงู. </p><br><h2 id="errorx" style=";text-align:right;direction:rtl">  Errorx </h2><br><p style=";text-align:right;direction:rtl">  ุฃุฏูุงู ุณูุชุญุฏุซ ุนู ูุง ุชูุฏูู errorx ุ ูููู ุฃููุงู ุญุงูู ุตูุงุบุฉ ุงูุงุนุชุจุงุฑุงุช ุงูุชู ุชููู ูุฑุงุก ุงูููุชุจุฉ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ุงูุชุดุฎูุต ุฃูุซุฑ ุฃูููุฉ ูู ุชูููุฑ ุงูููุงุฑุฏ.</strong>  ุฃุฏุงุก ุฅูุดุงุก ูุนุฑุถ ุงูุฃุฎุทุงุก ููู.  ููุน ุฐูู ุ ูุฅููุง ุชูุซู ูุณุงุฑูุง ุณูุจููุง ูููุณ ูุณุงุฑูุง ุฅูุฌุงุจููุง ุ ููู ูุนุธู ุงูุญุงูุงุช ุชููู ุจูุซุงุจุฉ ุฅุดุงุฑุฉ ุฅูู ูุดููุฉ ูุง ุ ูุจุงูุชุงูู ูุฅู ูุฌูุฏ ูุนูููุงุช ุชุดุฎูุตูุฉ ูู ุงูุฎุทุฃ ุฃูุซุฑ ุฃูููุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>ุชุชุจุน ุงูููุฏุณ ุจุดูู ุงูุชุฑุงุถู.</strong>  ููู ูุฎุชูู ุงูุฎุทุฃ ูุน ุงูุชูุงุก ุงูุชุดุฎูุต ุ ูุง ููุจุบู ุจุฐู ุฃู ุฌูุฏ.  ุนูู ุงูุนูุณ ูู ุฐูู ุ ูู ุงูุฃูุถู ุงุณุชุจุนุงุฏ ุจุนุถ ุงููุนูููุงุช (ููุฅูุฌุงุฒ ุฃู ูุฃุณุจุงุจ ุงูุฃุฏุงุก) ุงูุชู ูุฏ ุชุชุทูุจ ุฅุฌุฑุงุกุงุช ุฅุถุงููุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>ุฏูุงูุงุช ุงูุฃุฎุทุงุก.</strong>  ูุฌุจ ุฃู ุชููู ููุงู ุทุฑููุฉ ุจุณูุทุฉ ูููุซููุฉ ููุชุญูู ูู ูุนูู ุงูุฎุทุฃ: ููุนู ูุชููุนู ูุฎุตุงุฆุตู. </li><li style=";text-align:right;direction:rtl">  <strong>ุณูููุฉ ุงูุฅุถุงูุฉ.</strong>  ูุฌุจ ุฃู ุชููู ุฅุถุงูุฉ ุงููุนูููุงุช ุงูุชุดุฎูุตูุฉ ุฅูู ุฎุทุฃ ุนุงุจุฑ ุฃูุฑูุง ุจุณูุทูุง ุ ููุฌุจ ุฃูุง ููุณุฏ ุงูุชุญูู ูู ุฏูุงูุงุชู. </li><li style=";text-align:right;direction:rtl">  <strong>ุงูุจุณุงุทุฉ.</strong>  ุบุงูุจูุง ูุง ุชุชู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุฎุตุตุฉ ููุฃุฎุทุงุก ูุจุดูู ุฑูุชููู ุ ูุฐูู ูุฌุจ ุฃู ุชููู ุจููุฉ ุงูุชูุงุนุจุงุช ุงูุฃุณุงุณูุฉ ุจุณูุทุฉ ูููุฌุฒุฉ.  ูุฐุง ูููู ูู ุนุฏุฏ ุงูุฃุฎุทุงุก ููุณูู ูุฑุงุกุชูุง. </li><li style=";text-align:right;direction:rtl">  <strong>ุงููููู ุฃูุซุฑ.</strong>  ุฅู ููู ุงูุฑูุฒ ูุชูุญูุฏู ุฃูุซุฑ ุฃูููุฉ ูู ุงูููุฒุงุช ุงูุงุฎุชูุงุฑูุฉ ูุฎูุงุฑุงุช ุงูุชูุณูุน (ุงูุชู ุฑุจูุง ูู ูุณุชุฎุฏููุง ุฃุญุฏ). </li><li style=";text-align:right;direction:rtl">  <strong>ุฏูุงูุงุช ุงูุฎุทุฃ ุฌุฒุก ูู API.</strong>  ุงูุฃุฎุทุงุก ุงูุชู ุชุชุทูุจ ูุนุงูุฌุฉ ูููุตูุฉ ูู ุฑูุฒ ุงูุงุชุตุงู ูู ูู ุงููุงูุน ุฌุฒุก ูู ุญุฒูุฉ API ุงูุนุงูุฉ.  ูุง ุชุญุชุงุฌ ุฅูู ูุญุงููุฉ ุฅุฎูุงุกู ุฃู ุฌุนูู ุฃูู ูุถูุญูุง ุ ูููู ููููู ุฌุนู ุงููุนุงูุฌุฉ ุฃูุซุฑ ููุงุกูุฉ ุ ูุงูุงุนุชูุงุฏุงุช ุงูุฎุงุฑุฌูุฉ ุฃูู ูุดุงุดุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>ูุนุธู ุงูุจู ูุนุชู.</strong>  ููุฒูุฏ ูู ุฃููุงุน ุงูุฃุฎุทุงุก ููุณุชุฎุฏู ุฎุงุฑุฌู ูุง ูููู ุชูููุฒูุง ุนู ุจุนุถูุง ุงูุจุนุถ ุ ูุงู ุฐูู ุฃูุถู.  ุชุญููู ุฃููุงุน ุฃุฎุทุงุก API ุงูุชู ุชุชุทูุจ ูุนุงูุฌุฉ ุฎุงุตุฉ ุ ููุฐูู ุชุญููู ุงูุฃุฎุทุงุก ููุณูุง ุจุงูุจูุงูุงุช ุงููุงุฒูุฉ ููุนุงูุฌุชูุง ูู ุนูุจ ูู ุงูุชุตููู ูุฌุจ ุชุฌูุจู. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุงู ุฃุตุนุจ ุณุคุงู ุจุงููุณุจุฉ ููุง ูู ุงููุงุจููุฉ ููุชูุณุนุฉ: ูู ููุจุบู ุฃู ุชููุฑ errorx ุจุฏุงุฆู ูุฅูุดุงุก ุฃููุงุน ูุฎุตุตุฉ ูู ุงูุฃุฎุทุงุก ุงูุชู ุชุฎุชูู ุจุดูู ุชุนุณูู ูู ุงูุณููู ุ ุฃู ุฃู ููุงู ุชุทุจูููุง ูุณูุญ ูู ุจุฅุฎุฑุงุฌ ูู ูุง ุชุญุชุงุฌู ูู ุงูุตูุฏููุ  ููุฏ ุงุฎุชุฑูุง ุงูุฎูุงุฑ ุงูุซุงูู.  ุฃููุงู ุ ูุญู errorx ูุดููุฉ ุนูููุฉ ููุบุงูุฉ - ูุชูุถุญ ุชุฌุฑุจุชูุง ูู ุงุณุชุฎุฏุงููุง ุฃูู ููุฐุง ุงูุบุฑุถ ุ ูู ุงูุฃูุถู ุฃู ูููู ููุงู ุญู ุ ุจุฏูุงู ูู ูุทุน ุงูุบูุงุฑ ุงููุงุฒูุฉ ูุฅูุดุงุฆู.  ุซุงูููุง ุ ูุนุชุจุฑ ุงูุงุนุชุจุงุฑ ุงููุชุนูู ุจุงูุจุณุงุทุฉ ููููุง ุฌุฏูุง: ูุธุฑูุง ูุฃูู ูุชู ุฅููุงุก ุงูุชูุงู ุฃูู ููุฃุฎุทุงุก ุ ูุฌุจ ุชุตููู ุงูุฑูุฒ ุจุทุฑููุฉ ุชุฌุนู ูู ุงูุตุนุจ ุงูุนูู ูุนูุง.  ููุฏ ุฃุธูุฑุช ุงูููุงุฑุณุฉ ุฃูู ููุฐุง ูู ุงูููู ุฃู ุชุจุฏู ุฌููุน ูุฐู ุงูุฑููุฒ ูุชุนูู ุจููุณ ุงูุทุฑููุฉ. </p><br><h4 id="tldr-po-osnovnym-ficham-biblioteki" style=";text-align:right;direction:rtl">  TL ุ DR ูู ููุฒุงุช ุงูููุชุจุฉ ุงูุฑุฆูุณูุฉ: </h4><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุงูุน ุฅูุดุงุก ุชุชุจุน ุงูููุฏุณ ูู ุฌููุน ุงูุฃุฎุทุงุก ุจุดูู ุงูุชุฑุงุถู </li><li style=";text-align:right;direction:rtl">  ููุน ุงูุชุญูู ูู ุงูุฃุฎุทุงุก ุ ูุฃุตูุงู ุนุฏูุฏุฉ </li><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุฅุถุงูุฉ ูุนูููุงุช ุฅูู ุฎุทุฃ ููุฌูุฏ ุฏูู ูุณุฑ ุฃู ุดูุก </li><li style=";text-align:right;direction:rtl">  ุงูุชุจ ุงูุชุญูู ูู ุงูุฑุคูุฉ ุฅุฐุง ููุช ุชุฑูุฏ ุฅุฎูุงุก ุงูุณุจุจ ุงูุฃุตูู ุนู ุงููุชุตู </li><li style=";text-align:right;direction:rtl">  ูุนุงูุฌุฉ ุงูุฎุทุฃ ูู ุขููุฉ ุชุนููู ุงูููุฏ (ุงูููุน ุงููุฑูู ุ ุงูุณูุงุช) </li><li style=";text-align:right;direction:rtl">  ุฎุทุฃ ุงูุชุฎุตูุต ุญุณุจ ุงูุฎุตุงุฆุต ุงูุฏููุงููููุฉ </li><li style=";text-align:right;direction:rtl">  ุฃููุงุน ุงูุฃุฎุทุงุก ุงูููุงุณูุฉ </li><li style=";text-align:right;direction:rtl">  ุฃุฏูุงุช ุจูุงุก ุงูุฌููุฉ ูุชุญุณูู ุฅููุงููุฉ ูุฑุงุกุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก </li></ul><br><h3 id="vvedenie" style=";text-align:right;direction:rtl">  ููุฏูุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุฃุนุฏูุง ุตูุงุบุฉ ุงููุซุงู ุงูุฐู ุญูููุงู ุฃุนูุงู ุจุงุณุชุฎุฏุงู errorx ุ ูุญุตู ุนูู ูุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ( DBErrors = errorx.NewNamespace(<span class="hljs-string"><span class="hljs-string">"db"</span></span>) ErrDuplicateKey = DBErrors.NewType(<span class="hljs-string"><span class="hljs-string">"duplicate_key"</span></span>) ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t *Table)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Insert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(entity </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">interface</span></span></span></span><span class="hljs-function"><span class="hljs-params">{})</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// ... return ErrDuplicateKey.New("violated constraint %s", details) } func IsDuplicateKeyError(err error) bool { return errorx.IsOfType(err, ErrDuplicateKey) }</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InsertUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(u *User)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { err := usersTable.Insert(u) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> errorx.Decorate(err, <span class="hljs-string"><span class="hljs-string">"failed to insert user %s"</span></span>, u.Name) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุชุบูุฑ ุฑูุฒ ุงููุชุตู ุจุงุณุชุฎุฏุงู <code>IsDuplicateKeyError()</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ุชุบูุฑ ูู ูุฐุง ุงููุซุงูุ </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃุตุจุญ <code>ErrDuplicateKey</code> ููุนูุง ุ ูููุณ <code>ErrDuplicateKey</code> ูุฎุทุฃ ุ  ุงูุชุญูู ูู ุฃููุง ููุงููุฉ ูุฃุฎุทุงุก ุงููุณุฎ ุ ูุง ููุฌุฏ ุงุนุชูุงุฏ ูุด ุนูู ุงููุณุงูุงุฉ ุงูุฏูููุฉ </li><li style=";text-align:right;direction:rtl">  ููุฌุฏ ูุณุงุญุฉ ุงุณู ูุฃุฎุทุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุชุ  ูู ุงููุญุชูู ุฃู ูุญุชูู ุนูู ุฃุฎุทุงุก ุฃุฎุฑู ุ ููุซู ูุฐุง ุงูุชุฌููุน ูููุฏ ูููุฑุงุกุฉ ููู ุจุนุถ ุงูุญุงูุงุช ูููู ุงุณุชุฎุฏุงูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ </li><li style=";text-align:right;direction:rtl">  ุชููู ููุฒุฉ Insert ุจุฅุฑุฌุงุน ุฎุทุฃ ุฌุฏูุฏ ููู ููุงููุฉ: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุชูู ุงูุฎุทุฃ ุนูู ูุฒูุฏ ูู ุงูุชูุงุตูู ุ  ูุฐุง ุ ุจุงูุทุจุน ุ ูููู ุจุฏูู errorx ุ ูููู ูู ุงููุณุชุญูู ุฅุฐุง ุชู ุฅุฑุฌุงุน ููุณ ูุซูู ุงูุฎุทุฃ ูู ูู ูุฑุฉ ุ ููู ูุง ูุงู ูุทููุจูุง ุณุงุจููุง ูู <code>IsDuplicateKeyError()</code> </li><li style=";text-align:right;direction:rtl">  ูููู ุฃู ุชุญูู ูุฐู ุงูุฃุฎุทุงุก ุชุชุจุน ููุฏุณ ูุฎุชูู ุ ููู ุฃูุฑ ูููุฏ ูุฃูู  ููุณ ูุฌููุน ุงูููุงููุงุช ุฅูู ูุธููุฉ ุฅุฏุฑุงุฌ ูุฐุง ุงููููู ููุจูู </li></ul></li><li style=";text-align:right;direction:rtl">  <code>InsertUser()</code> ุจุชูููุฉ ูุต ุงูุฎุทุฃ ุ ููููู ูุทุจู ุงูุฎุทุฃ ุงูุฃุตูู ุ ูุงูุฐู ูุชู ุงูุงุญุชูุงุธ ุจู ุจุงููุงูู ููุนูููุงุช ุงููุงุญูุฉ </li><li style=";text-align:right;direction:rtl">  <code>IsDuplicateKeyError()</code> ุงูุขู: ูุง ูููู <code>IsDuplicateKeyError()</code> ุนู ุทุฑูู ูุณุฎ ุฎุทุฃ ุฃู ุฃู ุนุฏุฏ ูู ุทุจูุงุช Decorate () </li></ul><br><p style=";text-align:right;direction:rtl">  ููุณ ูู ุงูุถุฑูุฑู ุฏุงุฆููุง ุงุชุจุงุน ูุซู ูุฐุง ุงููุฎุทุท: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุน ุงูุฎุทุฃ ููุณ ุฏุงุฆููุง ูุฑูุฏูุง ูู ููุนู: ูููู ุงุณุชุฎุฏุงู ููุณ ุงูุฃููุงุน ูู ุงูุนุฏูุฏ ูู ุงูุฃูุงูู </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุฑุบุจุช ูู ุฐูู ุ ูููู ุชุนุทูู ูุฌููุนุฉ ุชุชุจุน ุงูููุฏุณ ุ ููุง ููููู ุฅูุดุงุก ุฎุทุฃ ุฌุฏูุฏ ูู ูู ูุฑุฉ ุ ูููู ุฅุฑุฌุงุน ููุณ ุงูุฎุทุฃ ููุง ูู ุงููุซุงู ุงูุฃุตูู ุ  ูุฐู ูู ูุง ูุณูู ุฃุฎุทุงุก ุงูุญุงุฑุณ ุ ููุง ููุตู ุจุงุณุชุฎุฏุงููุง ุ ูููู ูููู ุฃู ูููู ูููุฏูุง ุฅุฐุง ุชู ุงุณุชุฎุฏุงู ุงูุฎุทุฃ ููุท ูุนูุงูุฉ ูู ุงูุฑูุฒ ุ ูููุช ุชุฑูุฏ ุงูุญูุธ ุนูุฏ ุฅูุดุงุก ุงููุงุฆูุงุช </li><li style=";text-align:right;direction:rtl">  ููุงู ุทุฑููุฉ ูุฌุนู <code>errorx.IsOfType(err, ErrDuplicateKey)</code> ูุชููู ุนู ุงูุนูู ุฅุฐุง ููุช ุชุฑูุฏ ุฅุฎูุงุก ุฏูุงูุงุช ุงูุณุจุจ ุงูุฌุฐุฑู ูู ุฃุนูู ุงููุชุทูููู </li><li style=";text-align:right;direction:rtl">  ููุงู ุทุฑู ุฃุฎุฑู ููุญุต ุงูููุน ุฅูู ุฌุงูุจ ุงูููุงุฑูุฉ ุจุงูููุน ุงูุฏููู </li></ul><br><p style=";text-align:right;direction:rtl">  ูุญุชูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Godoc</a> ุนูู ูุนูููุงุช ุชูุตูููุฉ ุญูู ูู ูุฐุง.  ูููุง ููู ุณูู ูุชุนูู ููููุงู ูู ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ ุ ููู ูุงููุฉ ููุนูู ุงููููู. </p><br><h3 id="tipy" style=";text-align:right;direction:rtl">  ุฃููุงุน </h3><br><p style=";text-align:right;direction:rtl">  ููุชูู ุฃู ุฎุทุฃ errorx ุฅูู ููุน ูุง.  ุงูุชุจ ููู ูุฃู  ูุฏ ูุชู ุชูุฑูุฑ ุฎุตุงุฆุต ุงูุฎุทุฃ ุงูููุฑูุซุฉ ูู ุฎูุงูู ุ  ูู ุฎูุงูู ุฃู ูู ุฎูุงู ุตูุงุชู ุ ุณูุชู ุฅุฌุฑุงุก ุงุฎุชุจุงุฑ ุงูุฏูุงูุงุช ุฅุฐุง ูุฒู ุงูุฃูุฑ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฅู ุงูุงุณู ุงูุชุนุจูุฑู ููููุน ูููู ุฑุณุงูุฉ ุงูุฎุทุฃ ููุฏ ูุณุชุจุฏููุง ูู ุจุนุถ ุงูุญุงูุงุช. </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">AuthErrors = errorx.NewNamespace(<span class="hljs-string"><span class="hljs-string">"auth"</span></span>) ErrInvalidToken = AuthErrors.NewType(<span class="hljs-string"><span class="hljs-string">"invalid_token"</span></span>)</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ErrInvalidToken.NewWithNoMessage()</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณุชุญุชูู ุฑุณุงูุฉ ุงูุฎุทุฃ ุนูู <code>auth.invalid_token</code> .  ูุฏ ูุจุฏู ุฅุนูุงู ุงูุฎุทุฃ ูุฎุชูููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">ErrInvalidToken = AuthErrors.NewType(<span class="hljs-string"><span class="hljs-string">"invalid_token"</span></span>).ApplyModifiers(errorx.TypeModifierOmitStackTrace)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงููููุฐุฌ ุ ุจุงุณุชุฎุฏุงู ููุนุฏููู ุงูููุน ุ ูุชู ุชุนุทูู ุฌูุน ุชุชุจุน ุงูููุฏุณ.  ูุญุชูู ุงูุฎุทุฃ ุนูู ุฏูุงูุงุช ุนูุงูุฉ: ูุชู ุฅุนุทุงุก ููุนู ูููุณุชุฎุฏู ุงูุฎุงุฑุฌู ููุฎุฏูุฉ ุ ููู ูููู ููุฏุณ ุงูููุงููุฉ ูู ุงูุณุฌูุงุช ูููุฏูุง ุ ูุฃู  ูุฐู ููุณุช ูุดููุฉ ูุฌุจ ุฅุตูุงุญูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุง ูููููุง ุฅุฌุฑุงุก ุญุฌุฒ ุจุฃู ุงูุฃุฎุทุงุก ููุง ุทุจูุนุฉ ูุฒุฏูุฌุฉ ูู ุงูุนุฏูุฏ ูู ุฌูุงูุจูุง.  ูุชู ุงุณุชุฎุฏุงู ูุญุชููุงุช ุงูุฎุทุฃ ููุชุดุฎูุต ุ ูุฃุญูุงููุง ุ ููุนูููุงุช ููุณุชุฎุฏู ุฎุงุฑุฌู: ุนููู API ุ ูุณุชุฎุฏู ุงูููุชุจุฉ ุ ุฅูุฎ.  ุชูุณุชุฎุฏู ุงูุฃุฎุทุงุก ูู ุงูููุฏ ููุณููุฉ ูููู ุฏูุงูุงุช ูุง ุญุฏุซ ููุขููุฉ ูููู ุงูุชุญูู.  ุนูุฏ ุงุณุชุฎุฏุงู ุฃููุงุน ุงูุฃุฎุทุงุก ุ ูุฌุจ ูุฑุงุนุงุฉ ุฐูู. </p><br><h3 id="sozdanie-oshibki" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุฎุทุฃ </h3><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MyType.New(<span class="hljs-string"><span class="hljs-string">"fail"</span></span>)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุญุตูู ุนูู ููุน ุฎุงุต ุจู ููู ุฎุทุฃ ุฃูุฑ ุงุฎุชูุงุฑู ุชูุงููุง.  ูููู ุฃู ูุญุชูู ุฃู ูุดุฑูุน ุนูู ุญุฒูุฉ ุฎุงุตุฉ ุจู ูู ุงูุฃุฎุทุงุก ููุฃุบุฑุงุถ ุงูุนุงูุฉ ุ ููุชู ุชูููุฑ ูุฌููุนุฉ ูุนููุฉ ูุฌุฒุก ูู ูุณุงุญุฉ ุงูุงุณู ุงูุดุงุฆุนุฉ ุฌูุจูุง ุฅูู ุฌูุจ ูุน errorx.  ูุญุชูู ุนูู ุฃุฎุทุงุก ูุง ุชุชุถูู ูู ูุนุธู ุงูุญุงูุงุช ูุนุงูุฌุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุชููู ููุงุณุจุฉ ููููุงูู "ุงูุงุณุชุซูุงุฆูุฉ" ุนูุฏูุง ูุญุฏุซ ุฎุทุฃ ูุง. </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> errorx.IllegalArgument.New(<span class="hljs-string"><span class="hljs-string">"negative value %d"</span></span>, value)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุญุงูุฉ ูููุฐุฌูุฉ ุ ุชู ุชุตููู ุณูุณูุฉ ูู ุงูููุงููุงุช ุจุญูุซ ูุชู ุฅูุดุงุก ุฎุทุฃ ูู ููุงูุฉ ุงูุณูุณูุฉ ุ ููุนุงูุฌุชู ูู ุงูุจุฏุงูุฉ.  ูู Go ุ ููุณ ูู ุฏูู ุณุจุจ ุฃูู ูุนุชุจุฑ ุณูุกูุง ูุนุงูุฌุฉ ุฎุทุฃ ูุฑุชูู ุ ุฃู ุนูู ุณุจูู ุงููุซุงู ุ ูุชุงุจุฉ ุฎุทุฃ ูู ุงูุณุฌู ูุฅุนุงุฏุชู ุฃุนูู ุงูููุฏุณ.  ููุน ุฐูู ุ ููููู ุฅุถุงูุฉ ูุนูููุงุช ุฅูู ุงูุฎุทุฃ ููุณู ูุจู ุงูุชุฎูู ุนูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> errorx.Decorate(err, <span class="hljs-string"><span class="hljs-string">"failed to upload '%s' to '%s'"</span></span>, filename, location)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูุธูุฑ ุงููุต ุงููุถุงู ุฅูู ุงูุฎุทุฃ ูู ุงูุณุฌู ุ ูููู ูู ูุถุฑ ุงูุชุญูู ูู ููุน ุงูุฎุทุฃ ุงูุฃุตูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุจุนุถ ุงูุฃุญูุงู ุชูุดุฃ ุงูุญุงุฌุฉ ุงููุนุงูุณุฉ: ุจุบุถ ุงููุธุฑ ุนู ุทุจูุนุฉ ุงูุฎุทุฃ ุ ูุฌุจ ุฃูุง ูุนุฑูู ุงููุณุชุฎุฏู ุงูุฎุงุฑุฌู ููุญุฒูุฉ.  ุฅุฐุง ุญุตู ุนูู ูุซู ูุฐู ุงููุฑุตุฉ ุ ููููู ุฃู ูุฎูู ุงุนุชูุงุฏูุง ูุดูุง ุนูู ุฌุฒุก ูู ุงูุชูููุฐ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> service.ErrBadRequest.Wrap(err, <span class="hljs-string"><span class="hljs-string">"failed to load user data"</span></span>)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงู ูุฑู ููู ูุฌุนู Wrap ุงูุจุฏูู ุงูููุถู ูู New ูู ุฃู ุงูุฎุทุฃ ุงูุฃุตูู ููุนูุณ ุจุงููุงูู ูู ุงูุณุฌูุงุช.  ูุนูู ูุฌู ุงูุฎุตูุต ุ ุณูุฌูุจ ูุนู ูุฌููุนุฉ ููุงููุงุช ุฃูููุฉ ูููุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฎุฏุนุฉ ุฃุฎุฑู ูููุฏุฉ ุชุณูุญ ูู ุจุญูุธ ุฌููุน ุงููุนูููุงุช ุงูููููุฉ ุญูู ููุฏุณ ุงูููุงููุงุช ุชุจุฏู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> errorx.EnhanceStackTrace(err, <span class="hljs-string"><span class="hljs-string">"operation fail"</span></span>)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุฌุงุก ุงูุฎุทุฃ ุงูุฃุตูู ูู ุบูุฑูุชูู ุขุฎุฑ ุ ูุณุชุญุชูู ูุชูุฌุฉ ูุฐู ุงูููุงููุฉ ุนูู ุชุชุจุน ููุฏุณ ููู ูู ุงูุบูุฑูุชูู ุ ููุง ูุฒูุฏ ูู ูุงุฆุฏุชู ุจุดูู ุบูุฑ ุนุงุฏู.  ูู ุงููุงุถุญ ุฃู ุงูุญุงุฌุฉ ุฅูู ุฅุฌุฑุงุก ูุซู ูุฐู ุงูููุงููุฉ ุชุฑุฌุน ุฅูู ูุดุงูู ูู ุงูุฃุฏุงุก: ูุฐู ุงูุญุงูุฉ ูุงุฏุฑุฉ ูุณุจููุง ุ ูุจูุฆุฉ ุงูุนูู ุงูุชู ุณุชูุชุดููุง ุจููุณูุง ุณุชุจุทุฆ ุงููู ุงููุนุชุงุฏ ุ ุญูุซ ูุง ุชููู ูุทููุจุฉ ุนูู ุงูุฅุทูุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุญุชูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Godoc</a> ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ููุตู ุฃูุถูุง ููุฒุงุช ุฅุถุงููุฉ ูุซู DecorateMany. </p><br><h3 id="obrabotka-oshibok" style=";text-align:right;direction:rtl">  ูุนุงูุฌุฉ ุงูุฎุทุฃ </h3><br><p style=";text-align:right;direction:rtl">  ุงูุฃูุถู ุฅุฐุง ูุงูุช ูุนุงูุฌุฉ ุงูุฎุทุฃ ุชูุญุตุฑ ูููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">log.Error(<span class="hljs-string"><span class="hljs-string">"Error: %+v"</span></span>, err)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููุง ูู ุงูุฎุทุฃ ุงูุฐู ูุชุนูู ุนููู ุงูููุงู ุจู ุ ุจุงุณุชุซูุงุก ุทุจุงุนุชู ุฅูู ุงูุณุฌู ุนูู ุทุจูุฉ ุงููุธุงู ูู ุงููุดุฑูุน ุ ูุงู ุฐูู ุฃูุถู.  ูู ุงููุงูุน ุ ูุฐุง ูุง ูููู ูู ุจุนุถ ุงูุฃุญูุงู ุ ูุนููู ุงูููุงู ุจุฐูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> errorx.IsOfType(err, MyType) { <span class="hljs-comment"><span class="hljs-comment">/* handle */</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณููุฌุญ ูุฐุง ุงููุญุต ูู ูู ูู ุงูุฎุทุฃ ูู ุงูููุน <code>MyType</code> ูุฃููุงุนู ุงููุฑุนูุฉ ุ ููู ููุงูู <code>errorx.Decorate()</code> .  ููุน ุฐูู ุ ููุงู ุงุนุชูุงุฏ ูุจุงุดุฑ ุนูู ููุน ุงูุฎุทุฃ ุ ููู ุฃูุฑ ุทุจูุนู ุชูุงููุง ุฏุงุฎู ุงูุนุจูุฉ ุ ูููู ูููู ุฃู ูููู ุบูุฑ ุณุงุฑ ุฅุฐุง ุชู ุงุณุชุฎุฏุงูู ุฎุงุฑุฌูุง.  ูู ุจุนุถ ุงูุญุงูุงุช ุ ูููู ููุน ูุฐุง ุงูุฎุทุฃ ุฌุฒุกูุง ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุฎุงุฑุฌูุฉ ูุณุชูุฑุฉ ุ ูุฃุญูุงููุง ูุฑุบุจ ูู ุงุณุชุจุฏุงู ูุฐุง ุงูุงุฎุชูุงุฑ ุจูุญุต ุฎุงุตูุฉ ูููุณ ููุน ุงูุฎุทุฃ ุงูุฏููู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฎุทุงุก Go ุงูููุงุณูููุฉ ุ ูุชู ุฐูู ูู ุฎูุงู ูุงุฌูุฉ ุ ุงูุชุจ ูููู ุนูููุง ุจูุซุงุจุฉ ูุคุดุฑ ูููุน ุงูุฎุทุฃ.  ุฃููุงุน Errorx ูุง ุชุฏุนู ูุฐุง ุงูููุญู ุ ูููู ููููู ุงุณุชุฎุฏุงู ุขููุฉ <code>Trait</code> ุจุฏูุงู ูู ุฐูู.  ุนูู ุณุจูู ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsTemporary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err error)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HasTrait(err, Temporary()) }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุชุญูู ูุฐู ุงููุธููุฉ ุงููุถููุฉ ูู errorx ููุง ุฅุฐุง ูุงู ุงูุฎุทุฃ ูุญุชูู ุนูู ุฎุงุตูุฉ ููุงุณูุฉ <code>Temporary</code> ุ ุฃู  ุณูุงุก ูุงูุช ูุคูุชุฉ.  ุชูุน ูุณุคูููุฉ ุชุญุฏูุฏ ุฃููุงุน ุงูุฃุฎุทุงุก ุจุงุณุชุฎุฏุงู ุงูุณูุงุช ุนูู ูุตุฏุฑ ุงูุฎุทุฃ ุ ููู ุฎูุงููุง ูููู ุฃู ุชุฑุณู ุฅุดุงุฑุฉ ูููุฏุฉ ุฏูู ุฌุนู ุฃููุงุน ุฏุงุฎููุฉ ูุญุฏุฏุฉ ุฌุฒุกูุง ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฎุงุฑุฌูุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> errorx.IgnoreWithTrait(err, errorx.NotFound())</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุจูุงุก ุงูุฌููุฉ ูุฐุง ูููุฏูุง ุนูุฏ ุงูุญุงุฌุฉ ุฅูู ููุน ูุนูู ูู ุงูุฎุทุฃ ูููุงุทุนุฉ ุชุฏูู ุงูุชุญูู ุ ูููู ูุง ูุฌุจ ุชูุฑูุฑู ุฅูู ูุธููุฉ ุงูุงุณุชุฏุนุงุก. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ููุฑุฉ ุฃุฏูุงุช ุงููุนุงูุฌุฉ ุ ุงูุชู ูู ูุชู ุณุฑุฏูุง ุฌููุนูุง ููุง ุ ูู ุงูููู ุฃู ูุชุฐูุฑ ุฃู ุงูุนูู ูุน ุงูุฃุฎุทุงุก ูุฌุจ ุฃู ูุธู ุจุณูุทูุง ูุฏุฑ ุงูุฅููุงู.  ูุซุงู ุนูู ุงูููุงุนุฏ ุงูุชู ูุญุงูู ุงูุงูุชุฒุงู ุจูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูููู ุงูุฑูุฒ ุงูุฐู ูุชููู ุฎุทุฃ ุฏุงุฆููุง ุจุชุณุฌููู ุจุงููุงูู ุ  ุฅุฐุง ูุงู ุฌุฒุก ูู ุงููุนูููุงุช ุบูุฑ ุถุฑูุฑู ุ ูุฏุน ุงูุฑูุฒ ุงูุฐู ููุชุฌ ุงูุฎุทุฃ ูุนุชูู ุจุฐูู </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃูุง ุชุณุชุฎุฏู ูุต ุงูุฎุทุฃ ุฃู ูุชูุฌุฉ ุฏุงูุฉ <code>Error()</code> ููุนุงูุฌุชู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ  ููุท ุงุฎุชุจุงุฑุงุช ุงูููุน / ุงูุณูุฉ ูู ุงูููุงุณุจุฉ ููุฐุง ุ ุฃู ุชุฃููุฏ ุงูููุน ูู ุญุงูุฉ ูุฌูุฏ ุฃุฎุทุงุก ุบูุฑ errorx </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃูุง ูููุณุฑ ุฑูุฒ ุงููุณุชุฎุฏู ูุธุฑูุง ูุญูููุฉ ุฃูู ูุง ุชุชู ูุนุงูุฌุฉ ููุน ูู ุงูุฎุทุฃ ุจุทุฑููุฉ ุฎุงุตุฉ ุ ุญุชู ุฅุฐุง ูุงูุช ูุฐู ุงููุนุงูุฌุฉ ููููุฉ ูุชุนุทููุง ููุฒุงุช ุฅุถุงููุฉ </li><li style=";text-align:right;direction:rtl">  ุงูุฃุฎุทุงุก ุงูุชู ูุชู ูุญุตูุง ุจูุงุณุทุฉ ุงูุฎุตุงุฆุต ูู ุฃูุถู ููุง ูุณูู ุฃุฎุทุงุก ุงูุญุฑุงุณุฉ ุ ูุฃู  ูุซู ูุฐู ุงูุดููุงุช ุฃูู ูุดุงุดุฉ </li></ul><br><h3 id="vne-errorx" style=";text-align:right;direction:rtl">  errorx ุฎุงุฑุฌ </h3><br><p style=";text-align:right;direction:rtl">  ููุง ูุตููุง ูุง ูู ูุชุงุญ ููุณุชุฎุฏู ุงูููุชุจุฉ ูู ุฎุงุฑุฌ ููุทูุฉ ุงูุฌุฒุงุก ุ ูููู ูู Joom ุ ูุฅู ุงุฎุชุฑุงู ุงูุดูุฑุฉ ุงููุชุนููุฉ ุจุงูุฃุฎุทุงุก ูุจูุฑ ุฌุฏูุง.  ุชูุจู ูุญุฏุฉ ุงูุชุณุฌูู ุจุดูู ุตุฑูุญ ุงูุฃุฎุทุงุก ูู ุชูููุนูุง ูุชุดุงุฑู ูู ุทุจุงุนุชูุง ูู ุฃุฌู ุงุณุชุจุนุงุฏ ุฅููุงููุฉ ุงูุชูุณูู ุบูุฑ ุงูุตุญูุญ ุ ููุฐูู ุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช ุงูุณูุงููุฉ ุงููุชุงุญุฉ ุงุฎุชูุงุฑููุง ูู ุณูุณูุฉ ุงูุฎุทุฃ.  ุงููุญุฏุฉ ุงูููุทูุฉ ุงููุณุคููุฉ ุนู ุงูุนูู ุงูุขูู ูุน ุงูุฐุนุฑ ูุน goroutins ุชูุดู ุนู ุฎุทุฃ ุฅุฐุง ูุตูุช ูุน ุฐุนุฑ ุ ูุชุนุฑู ุฃูุถูุง ููููุฉ ุชูุฏูู ุงูุฐุนุฑ ุจุงุณุชุฎุฏุงู ุจููุฉ ุงูุฎุทุฃ ุฏูู ููุฏุงู ุชุชุจุน ุงูููุฏุณ ุงูุฃุตูู.  ุจุนุถ ูู ูุฐุง ุ ุฑุจูุง ุณููุดุฑ ุฃูุถุง. </p><br><h2 id="voprosy-sovmestimosti" style=";text-align:right;direction:rtl">  ูุถุงูุง ุงูุชูุงูู </h2><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃููุง ุณุนุฏุงุก ููุบุงูุฉ ุจููููุฉ ุณูุงุญูุง ูู errorx ุจุงูุนูู ูุน ุงูุฃุฎุทุงุก ุ ุฅูุง ุฃู ุงููุถุน ูุน ุฑูุฒ ุงูููุชุจุฉ ุงููุฎุตุต ููุฐุง ุงูููุถูุน ุฃุจุนุฏ ูุง ูููู ุนู ุงููุซุงููุฉ.  ูุญู ูู Joom ูุญู ูุดุงูู ุนูููุฉ ูุญุฏุฏุฉ ุชูุงููุง ูุน errorx ุ ูููู ูู ูุฌูุฉ ูุธุฑ ูุธุงู Go ุงูุจูุฆู ุ ุณูููู ูู ุงูุฃูุถู ูุฌูุฏ ูุฐู ุงููุฌููุนุฉ ุงููุงููุฉ ูู ุงูุฃุฏูุงุช ูู ุงูููุชุจุฉ ุงูููุงุณูุฉ.  ูุฌุจ ุงููุธุฑ ุฅูู ุงูุฎุทุฃ ุ ุงูุฐู ููุชูู ูุตุฏุฑู ุจุงููุนู ุฃู ูู ุงููุญุชูู ุฅูู ูููุฐุฌ ุขุฎุฑ ุ ุนูู ุฃูู ุบุฑูุจ ุ ุฃู  ูุญุชูู ุฃูุง ุชุญูู ูุนูููุงุช ุจุงูุดูู ุงูููุจูู ูู ุงููุดุฑูุน. </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ุชู ุงูููุงู ุจุจุนุถ ุงูุฃุดูุงุก ุญุชู ูุง ุชุชุนุงุฑุถ ูุน ุงูุญููู ุงูุฃุฎุฑู ุงููุงุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฎุฏุงู ุงูุชูุณูู <code>'%+v'</code> ูุทุจุงุนุฉ ุฎุทุฃ ูุน ุชุชุจุน ุงูููุฏุณ ุ ุฅุฐุง ูุงู ููุฌูุฏูุง.  ูุฐุง ูู ุงููุนูุงุฑ ุงููุงูุนู ูู ุงููุธุงู ุงูุจูุฆู Go ุ ุจู ูุชู ุชุถูููู ูู ูุณูุฏุฉ ุชุตููู Go 2. </p><br><p style=";text-align:right;direction:rtl">  <code>Cause() error</code>  errorx ,  ,   ,    Causer,       errorx      Wrap(). </p><br><h2 id="buduschee" style=";text-align:right;direction:rtl">  </h2><br><p style=";text-align:right;direction:rtl">  <a href=""></a>   ,    Go 2,      .  <a href="">   </a>       . </p><br><p style=";text-align:right;direction:rtl"> ,    errorx     Go 1.      ,    Go 2,     .       ,            ,        errorx. </p><br><p style=";text-align:right;direction:rtl"> Check-handle      ,   errorx , a <code>Unwrap() error</code>       <code>Wrap()</code>  errorx (.. ,        ,    <code>Wrap</code> ),    .     ,      ,  . </p><br><p style=";text-align:right;direction:rtl">     design draft   Go 2,    <code>errorx.Is()</code>  <code>errorx.As()</code>   ,      errors   . </p><br><h2 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h2><br><p style=";text-align:right;direction:rtl">   ,   ,   ,    -      ,        .      ,      API     :  ,   ,       .  1.0      ,           Joom. ,  -       . </p><br><p style=";text-align:right;direction:rtl"> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/joomcode/errorx</a> </p><br><p style=";text-align:right;direction:rtl">   ,    ! </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/nk/hv/el/nkhvelss5upmybktmbpy68ozo_a.jpeg" alt="ุงูุตูุฑุฉ"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar429690/">https://habr.com/ru/post/ar429690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar429680/index.html">ุฏูุฑุฉ ูุนูุฏ ูุงุณุงุชุดูุณุชุณ ููุชูููููุฌูุง "ุฃูู ุฃูุธูุฉ ุงูููุจููุชุฑ". ุงููุญุงุถุฑุฉ 17: ูุตุงุฏูุฉ ุงููุณุชุฎุฏู ุ ุงูุฌุฒุก 1</a></li>
<li><a href="../ar429682/index.html">ุฏูุฑุฉ ูุนูุฏ ูุงุณุงุชุดูุณุชุณ ููุชูููููุฌูุง "ุฃูู ุฃูุธูุฉ ุงูููุจููุชุฑ". ุงููุญุงุถุฑุฉ 17: ูุตุงุฏูุฉ ุงููุณุชุฎุฏู ุ ุงูุฌุฒุก 2</a></li>
<li><a href="../ar429684/index.html">Firebase Summit 2018: ููุชุฑุฉ ูุฌูุฒุฉ ุญูู ุงูุดูุก ุงูุฑุฆูุณู</a></li>
<li><a href="../ar429686/index.html">ุฏูุฑุฉ ูุนูุฏ ูุงุณุงุชุดูุณุชุณ ููุชูููููุฌูุง "ุฃูู ุฃูุธูุฉ ุงูููุจููุชุฑ". ุงููุญุงุถุฑุฉ 17: "ูุตุงุฏูุฉ ุงููุณุชุฎุฏู" ุ ุงูุฌุฒุก 3</a></li>
<li><a href="../ar429688/index.html">ููู ุชุตูุน ุจุทูุง ูุคูู ุจู</a></li>
<li><a href="../ar429694/index.html">ูุตู Mail.Ru ุชุตูููุงุช Yandex ุจุฃููุง "ุณุฎููุฉ" ูุชุทุงูุจ ุจุฅุฒุงูุฉ ุนูุงูุงุชูุง ุงูุชุฌุงุฑูุฉ ูููุง</a></li>
<li><a href="../ar429696/index.html">ุชูุงุฑูุฑ ููุฏูู ูุน MOSDROID # 13 Aluminium</a></li>
<li><a href="../ar429698/index.html">ููููุฉ ุงูุนูู ูุน Lebedev Studio: ุชุฌุฑุจุฉ Tutu.ru</a></li>
<li><a href="../ar429700/index.html">ุชุนุฑูู ุงูุฃุฑูุงู ุจุงูุฃุฐู</a></li>
<li><a href="../ar429702/index.html">ุชุญูููุงุช ุฌูุฌู Pixel Sync Facebook ู VK ู Yandex ู MyTarget</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>