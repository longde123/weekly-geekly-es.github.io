<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☹️ 💖 👼🏾 Flash-Animation in Unity3D von Grund auf neu. Teil eins, lyrisch 👩🏾‍🔧 🏳️‍🌈 👨🏻‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In dieser Artikelserie werde ich darüber sprechen, wie und warum wir beschlossen haben, eine eigene Lösung für den Import von Flash-Animationen in Uni...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Flash-Animation in Unity3D von Grund auf neu. Teil eins, lyrisch</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445102/"><p>  In dieser Artikelserie werde ich darüber sprechen, wie und warum wir beschlossen haben, eine eigene Lösung für den Import von Flash-Animationen in Unity zu erstellen, sowie über Optimierungstechniken und interne Funktionsweisen des Plug-Ins.  Ich habe auch viele andere faszinierende Dinge zu erzählen: Interna des SWF-Formats, Besonderheiten der Unity-Editor-Erweiterung und allgemeine Fragen der Animation.  Sie finden das alles drinnen! </p><br><img src="https://habrastorage.org/webt/q3/4s/r_/q34sr_45c9c6d5lygnzixa7jhwy.png"><br><a name="habracut"></a><br><h2>  Einführung </h2><br><p> Wenn Sie an einem Projekt arbeiten, müssen Sie sich immer dem Problem stellen, die Technologien für die meisten seiner Komponenten auszuwählen.  Eine dieser Komponenten ist natürlich das Animationssystem.  Nun gibt es einige Variablen, von denen Ihre Wahl abhängt.  Die erste Frage, die Sie sich stellen müssen, ist, an welche Tools Ihre Animatoren gewöhnt sind (mit denen sie arbeiten können) und welche davon für Sie leichter zu finden sind.  Sicher, die Auswahl eines äußerst spezifischen Produkts macht wenig Sinn.  In diesem Fall ist es fast unmöglich, Ihre Mitarbeiter zu ersetzen, wenn sie aus irgendeinem Grund abreisen (oder von einem Bus angefahren werden).  Im Grunde genommen wird Ihr Projekt ganz oder teilweise auf unbestimmte Zeit gestoppt, was insbesondere für ein kommerzielles Produkt sehr teuer sein kann.  Die zweite Variable ist eher technisch und es geht darum, die Werkzeuge in Ihren Motor zu integrieren.  Gibt es Lösungen von Drittanbietern und wie ist deren Qualität?  Haben Sie die Möglichkeit und Fähigkeit, Ihre eigene Lösung zu erstellen?  Natürlich ist auch die Effizienz und Bequemlichkeit all dieser Faktoren von entscheidender Bedeutung.  Und die dritte Variable sind die Fähigkeiten der Werkzeuge.  Wenn Sie also wirklich, wirklich eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">inverse Kinematik</a> benötigen, wäre es sehr seltsam von Ihnen, eine Animation ohne Skelett zu bevorzugen. </p><br><h2>  Arten von 2D-Animationen </h2><br><p>  Schauen wir uns nun die beliebtesten Animationstechniken in Spielen an.  Ich werde nur 2D-Animation betrachten, da 3D-Animation ein Thema für eine völlig andere Konversation mit eigenen Ansätzen und Werkzeugen ist.  Sie können diesen Abschnitt gerne überspringen, wenn Sie mit dieser Angelegenheit vertraut sind (vertrauen Sie mir, es wird keine Enthüllungen oder Augenöffner geben).  Wenn Sie nur hier sind, um die Funktionen der Flash-Animation zu sehen, finden Sie sie im folgenden Artikel. </p><br><h3>  Bild für Bild Animation </h3><br><p>  Starten Sie unseren Mini-Review, die einfachste und älteste Art von Animation: Einzelbildanimation.  In dieser Animation wird jedes Bild durch ein einzelnes Bild dargestellt, und wenn diese Bilder sehr schnell geändert werden, entsteht die Illusion von Bewegung. </p><br><p>  <strong>Vorteile:</strong> </p><br><p>  Grundlegende Implementierung, normalerweise für jede Engine verfügbar.  Bei jeder Komplexität und jedem Animationsstil können Sie sogar die gesamten Filmbilder einfügen (theoretisch natürlich).  Beliebige Werkzeuge: Fast alles kann Ihnen eine Folge von Frames liefern, die Sie bei Bedarf zu einem Texturatlas zusammenstellen können. </p><br><p>  <strong>Nachteile:</strong> </p><br><p>  Der Hauptnachteil ist natürlich die Menge an Speicher, die all dieses Zeug benötigt.  Natürlich können Sie alle Arten von Tricks anwenden, z. B. das Ausschneiden von Frames in Blöcke und die anschließende Wiederverwendung der sich wiederholenden Blöcke, das Laden von Frames von der Festplatte im Hintergrund und das Entfernen der bereits gezeigten Frames usw.  Aber denken Sie daran, dass all diese Tricks auch ihre eigenen Nachteile haben.  Zum Beispiel kann das Schneiden in Blöcken nur in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pixelkunst verwendet</a> werden. Das Laden im Hintergrund stellt eine zusätzliche Belastung für die Festplatte dar, beansprucht viel Speicherplatz auf dieser Festplatte und erhöht somit die Größe des Spiels selbst sowie die erforderliche Datenmenge damit ein Benutzer es starten oder aktualisieren kann. </p><br><p>  <strong>Fazit:</strong> </p><br><p>  Funktioniert nur für kleine und wenige Animationsrahmen, perfekt für Pixelkunst und Spiele im Retro-Stil wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NES</a> . </p><br><h3>  Videoanimation </h3><br><p>  Grundsätzlich ist Videoanimation eine Apotheose des Frame-für-Frame-Wahnsinns.  Und ja, es wird immer noch angewendet und manchmal sogar richtig.  Wir haben so etwas in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wimmelbildspielen</a> für umfangreiche und komplexe Animationen sowie für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zwischensequenzen</a> mit einem Hauch von Realismus implementiert.  Fügen Sie diesen Codecs wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">theora</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vp8 hinzu</a> , und Sie können ganz eigene Videoanimationen (auch mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Alpha-Compositing</a> ) erstellen. </p><br><p>  Das Gute an dieser Art von Animation ist natürlich, dass Sie fast alles erstellen können, von inszenierten Szenen mit echten Schauspielern bis hin zu gerenderten 3D-Schlachten.  Eine schlechte Sache ist eine große Belastung für die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CPU</a> beim Dekodieren und natürlich für die Bildqualität.  Der Kompromiss zwischen Qualität und Effizienz kann nur in einer begrenzten Anzahl spezifischer Fälle erreicht werden, wie in den oben genannten Wimmelbildspielen. <br><br>  Videoanimationen sind also nicht jedermanns Sache und nicht immer anwendbar, fast nie, um genau zu sein.  Grundsätzlich eignet sich diese Art der Animation nur für gerenderte Zwischensequenzen.  Wenn Sie es schaffen, eine solche Animation gut umzusetzen, wird dies sicher kein Kinderspiel.  Es sind unzählige Nuancen und Tricks zu beachten, sowohl hinsichtlich der Qualität des Ausgabebilds als auch der CPU-Auslastung.  Aufgrund dieser Besonderheit gibt es nur sehr wenige gebrauchsfertige Implementierungen, die entweder nicht gut genug sind oder viel Geld kosten (Hallo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bink_Video</a> ). <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Daher</a> schreiben die meisten Leute lieber ihre eigenen. </p><br><h3>  Skelettanimation </h3><br><p>  Gehen wir also zu populäreren und moderneren Arten von 2D-Animationen über.  Skelettanimationen gewinnen immer mehr Herzen und Köpfe von 2D-Entwicklern und nähern sich dem Standard für Spielanimationen an.  Das Komische ist, dass sie in letzter Zeit in 2D relativ populär geworden sind, im Gegensatz zu 3D, wo sie weit zurückreichen, als unsere Vorfahren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Half-Life</a> kreierten.  Die Essenz der Skelettanimation ist, wie Sie sich wundern würden, ein Skelett, das von einem Animator erstellt wurde.  Grundsätzlich ist ein Skelett eine Reihe von Knochen, die miteinander verbunden sind und eine Baumstruktur bilden.  Die Knochen sind in Stücke gebunden, dargestellt durch einzelne Bilder.  Diese Konstruktion beginnt sich zu bewegen, wenn Knochen relativ zueinander verschoben oder gedreht werden.  Die Verschiebungen und Rotationen der Skelettknochen bleiben bei der allgemeinen Animationszeitleiste. </p><br><p>  Die Profis liegen auf der Hand: Wir müssen nicht jeden Animationsrahmen als separates Bild speichern, sondern nur die Teile (z. B. Beine und Arme des Charakters), die von den Knochen bewegt werden.  Es gibt einige wirklich coole Implementierungen dieser Art von Animation mit Laufzeiten für verschiedene Plattformen und Engines, die erschwinglich oder sogar kostenlos sind: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spine</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spriter</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anima2D</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DragonBones</a> und andere.  Mit dem Skelett und seinen Funktionen können Sie eine unglaubliche Glätte Ihrer Animation erzielen, indem Sie die Positionen der Knochen interpolieren.  Sie können auch die Übergänge zwischen den Szenen abwechseln und sogar zwei verschiedene Arten von Szenen mischen: Aufnahmen während des Laufens, Aufnahmen während des Kriechens und so weiter.  Ich werde nicht alle Möglichkeiten der Skelettanimation auflisten, also denken Sie daran, dass es wirklich viele davon gibt und sie wirklich cool sind.  Und ich möchte Ihnen lieber einen Link zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spine-Website</a> geben, auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der</a> Sie sich alle mit Bildern und Beschreibungen ansehen können </p><br><p>  Sieht so aus, als hätten wir unseren Universalsoldaten, aber noch nicht.  Es hat auch seine eigenen Nachteile.  Und ich muss gleich sagen, dass diese Nachteile bei vielen Projekten und Animationen möglicherweise gar nicht existieren.  Wenn also die Skelettanimation für Sie funktioniert - das ist einfach großartig, verwenden Sie sie, denn sie sieht wirklich gut und modern aus. </p><br><p>  Kehren wir nun zu den Nachteilen zurück.  Die Skelettanimation erfordert ein zusätzliches Step-Rigging.  Es geht um die Schaffung eines Skeletts und das Binden von Knochen und Stücken.  Wenn Ihr Objekt nur eine Animation hat, nicht wenige, wie zum Beispiel den Charakter des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Plattformspiels</a> , ist dieser Schritt für Sie nicht sinnvoll.  Sie sollten auch daran denken, dass nicht alle Szenen einfach mit Knochen animiert werden können.  Tatsächlich gibt es viele Beispiele, bei denen es ohne sie besser ist, sowohl hinsichtlich der Erstellung als auch der Leistung des Endspiels.  Ich möchte auch auf die Verfügbarkeit von Experten auf dem Markt als wichtigen Faktor hinweisen.  Mit der zunehmenden Beliebtheit von Skelettanimationen wächst natürlich auch ihre Zahl, aber es wird Ihnen wahrscheinlich nicht leicht fallen, sie in Ihr Team aufzunehmen.  Auch die Werkzeugvielfalt leistet ihren Beitrag.  Jeder hat seine eigenen Vorlieben, und dennoch muss er flexibel und lernbereit sein, was zusätzliche Schwierigkeiten bei der Rekrutierung und Schulung Ihrer Mitarbeiter mit sich bringt. </p><br><h3>  Timeline-Animation </h3><br><p>  Ich habe diese Art von Animation zum letzten Mal gespeichert, nicht weil sie besser ist als alle anderen, sondern weil sie hauptsächlich durch Flash-Animationen dargestellt wird, über deren Innenseiten wir im technischen Teil dieses Artikels sprechen werden.  Nun, Flash ist nicht der einzige Vertreter dieser Art von Animation, aber es ist sicherlich der führende. Von diesem Moment an werde ich alles in Bezug darauf beschreiben.  Timeline-Animationsszenen bestehen aus Teilen, die in verschiedenen Ebenen auf der Timeline animiert sind.  Im Grunde ist es fast dasselbe wie das, was wir in der Skelettanimation gesehen haben, aber ohne Skelette.  Mithilfe der Keyframes auf der Timeline können wir diese Frames verschieben, drehen, ersetzen und neue Teile hinzufügen und natürlich Übergänge, Scale-Ups und Rotationen zwischen ihnen interpolieren.  Dies bedeutet, dass wir in diesem Fall nicht die Knochen bewegen, an denen Teile befestigt sind, sondern die Teile selbst.  Sicher, es beraubt uns vieler Möglichkeiten der Skelettanimation, aber wie ich bereits sagte, braucht nicht jeder sie.  Darüber hinaus erhalten wir weitere Vorteile wie: </p><br><ul><li>  Fähigkeit, neue Teile mitten in einer Szene hinzuzufügen und einzufügen; </li><li>  keine Takelage, keine Knochen, die manchmal einfach unnötig sind; </li><li>  Adobe Flash (derzeit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Adobe Animate</a> ) ist das älteste und im Laufe der Jahre getestete Animationstool.  Eine große Anzahl von Animatoren kann auf die eine oder andere Weise damit arbeiten. </li><li>  Möglichkeit, alte Szenen beim Übertragen Ihrer Flash-Projekte nach Unity zu verwenden, einschließlich der Szenen, die Sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vektorgrafiken erstellt haben</a> , nicht nur in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Raster</a> . </li></ul><br><p>  Sie fragen sich vielleicht, ist Flash nicht tot?  Als Browser-Spieler - ja, aber als Animationswerkzeug ist es immer noch im Spiel.  Und ich werde Ihnen mehr erzählen, es gibt derzeit keine Alternativen zu Flash oder dies ist vorgesehen.  Gibt es irgendwelche Nachteile?  Sicher.  Und der Hauptnachteil ist, dass ... es keine Skelettanimation ist, ha-ha.  Wir verlieren also die Fähigkeit, unsere Szenen miteinander zu mischen, die inverse Kinematik und einige andere Funktionen, die Sie nur verwenden können, wenn Sie mit Skeletten arbeiten.  Aber wir haben Zeitleisten ineinander und auch Raster- und Vektormasken!  Und Animatoren lieben Masken!  Hier muss angemerkt werden, dass Spine kürzlich auch die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beschneidungsoption</a> hinzugefügt hat, aber bisher sind sie nur geometrisch und im Vergleich zu Flash-Masken stark eingeschränkt. </p><br><h3>  Animationstypen: Zusammenfassung </h3><br><p>  Natürlich habe ich nicht alle Arten von Animationen aufgelistet, sondern nur die wichtigsten.  Zum Beispiel habe ich eine sogenannte prozedurale Animation hinterlassen, wenn Objekte oder Teile nur durch Code gesteuert werden, aber es ist kaum möglich, diese mit anderen zu vergleichen, und ich wollte den Artikel nicht zu lang zum Lesen machen.  Ich denke, jetzt ist es besser für uns, etwas näheres auf Animation zu betrachten, um das Bild zu vervollständigen. <br><br>  Also, um es zusammenzufassen.  Wie immer und anderswo gibt es hier keinen universellen Soldaten.  Sie müssen Ihre Lösung abhängig von Ihrem Projekt, Ihren Aufgaben und Ihren Mitarbeitern auswählen.  Wer sagt denn, dass Sie immer nur eine Art Animation verwenden müssen?  Es gibt viele Projekte, in denen wir alle Arten von Animationen sehen können, und alle sind glücklich.  Videoanimation für Zwischensequenzen, Skelett für Charaktere, Zeitleiste für Landschaften, Verfahren zum Fliegen von Emitterpartikelsystemen und Einzelbild für die Partikel selbst.  Wir nehmen einfach das Beste aus jedem Typ. </p><br><h2>  Dilemma und Entscheidung, unsere eigene Lösung zu schreiben </h2><br><p>  Aus objektiven Gründen haben wir uns entschieden, dass wir für unser Projekt eine Flash-Animation benötigen.  Dann stellte sich die Frage nach ihrer Integration in den Motor.  Nachdem wir mehrere Plug-In-Optionen ausprobiert hatten, entschieden wir uns für die, die wir aufgrund ihrer Funktionen als am besten erachteten.  Obwohl es lebendig und gut unterstützt war, hatte es auch eine völlig unerschwingliche Unternehmenslizenz, aber wer kann wirklich einen Preis für ein gutes Produkt setzen?  Jetzt werde ich Ihnen absichtlich keine Namen geben, damit es nicht wie Werbung oder Anti-Werbung aussieht. <br><br>  Wir haben fast ein Jahr lang mit diesem Plug-In entwickelt. In dieser Zeit wurde klar, warum wir es nicht weiter verwenden können.  Insbesondere war es die Qualität seiner Integration in die Einheit.  Dies führte zu ziemlich schwerwiegenden Fehlern, die von den Entwicklern nicht leicht, nicht schnell und nicht kampflos besiegt wurden.  Die Leistung auf den Zielgeräten war ebenfalls schrecklich, und für uns bedeutet dies immer noch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">iPad 2-</a> Level.  Es geschah, weil wir versuchten, eine Integration in einen bestimmten Motor vorzunehmen, wobei wir dessen Besonderheiten und Schlaglöcher ignorierten.  Wir waren mehr als zufrieden mit der Funktionalität, aber die Entwickler weigerten sich, den Quellcode auch auf individueller Basis für uns zu öffnen.  So haben wir uns entschlossen, unsere eigene Lösung zu schreiben. <br><br>  Ich hatte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einige</a> ziemlich erfolgreiche Erfahrungen beim Schreiben von Erweiterungen für Unity und ein wenig Erfahrung beim Konvertieren von Flash-Animationsszenen in meine eigenen Formate.  Es ist schon einige Zeit seit dem letzten vergangen, um fair zu sein, aber etwas, an das ich mich noch erinnerte.  Gleichzeitig habe ich beschlossen, dies alles als Haustierprojekt zu schreiben, damit ich nicht vom Hauptprojekt oder der Firma abhängig bin, in der ich arbeite.  Und seien wir ehrlich, es ist schön, eine solche Produktion alleine zu haben.  Wie auch immer, mit einer 250-seitigen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SWF-</a> Formatspezifikation bewaffnet, marschierte ich in die Schlacht. </p><br><h2>  Exportoptionen </h2><br><p>  Lassen Sie uns zunächst die Optionen für den Export von Animationen aus dem Flash-Editor erläutern.  Es gibt einige davon, von denen jeder seine eigenen Vor- und Nachteile hat.  Wir werden die wichtigsten durchgehen. </p><br><h3>  .XFL-Format </h3><br><p>  Im Flash-Animationseditor können Sie die Quelldatei in einem unkomprimierten .XFL-Format anstelle der standardmäßig festgelegten geschlossenen .FLA-Datei speichern.  Dieses Format ist recht einfach zu bearbeiten, es enthält jedoch keine Dokumentation.  Grundsätzlich besteht es aus einigen Unterverzeichnissen und einer ganzen Reihe von XML-Dateien, die alle Zustände der darin gespeicherten Clips beschreiben.  Das Beschreibungsformat ist auch sehr einfach und verständlich, wie Sie dem folgenden Beispiel entnehmen können: </p><br><p>  <strong>static_clip.xml</strong> </p><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">itemID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5c719f28-00000051"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lastModified</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1550950184"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Layer_1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#00FFFF"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">current</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isSelected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"9728"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMBitmapInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">selected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bitmap.png"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i>Quelllink</i></a> <br><blockquote><p>  Was wir hier haben, ist dieser Clip, <code>static_clip</code> mit einer Ebene, <code>Layer_1</code> und einem Frame, in dem ein Rasterbild namens <code>bitmap.png</code> . </p></blockquote><br><p>  <strong>movie_clip.xml</strong> </p><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"movie_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">itemID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5c719f30-00000053"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lastModified</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1550950713"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"movie_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Layer_1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#00FFFF"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">current</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isSelected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">duration</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tweenType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"motion"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">motionTweenSnap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"22017"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Matrix</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ty</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-50"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"28.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"27.5"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tweenType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"motion"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">motionTweenSnap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"22017"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">centerPoint3DX</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"128.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">centerPoint3DY</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"127.5"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Matrix</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ty</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"28.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"27.5"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i>Quelllink</i></a> <blockquote><p>  Hier sehen Sie die Beschreibung des Clips <code>movie_clip</code> , der aus zwei Keyframes mit den Indizes 0 bzw. 4 besteht.  In diesen Frames wird unser Clip <code>static_clip</code> mit den Koordinaten <code>(-50;-50)</code> und <code>(100;100)</code> gespeichert.  Hier gibt es Bewegungsbewegungen zwischen den Frames (eine prozedurale Animation, in unserem Fall nur eine Verschiebung ohne Skalierung und Drehung).  Somit kann die Position des statischen Clips zwischen den Schlüsselbildern unter Verwendung einer linearen Interpolation der Koordinaten berechnet werden, die wir aus diesen Rahmen nehmen. </p></blockquote><p>  Natürlich wird im Falle einer echten Animation alles etwas komplizierter und sperriger sein, aber dennoch kann alles verstanden werden, auch ohne Dokumentation.  Und es könnte Ihnen scheinen, dass dies das ist.  Und tatsächlich sind mir mehrere Projekte und Unternehmen bekannt, die diesen Weg gegangen sind und recht erfolgreich waren, aber nicht ohne Einschränkungen und Schwierigkeiten.  Und diese Schwierigkeiten sind die eigentliche Beule von .XFL: </p><br><ol><li>  Tweens können sehr unterschiedlich sein, sowohl einfach - mit linearer Interpolation als auch komplexer - mit benutzerdefinierten Funktionen und Graphen dieser Interpolation;  Das Morphing von Vektorgrafiken auf Tweens wird nur nach ihren eigenen Regeln durchgeführt, die nur für Macromedia- und Adobe-Benutzer verständlich sind. </li><li>  Vektorgrafiken werden wie alle Animationen mit Ausnahme von Rastergrafiken in einer Textdatei beschrieben.  Dies bedeutet, dass Sie Ihren eigenen Rasterizer schreiben müssen, was aufgrund der Art und Komplexität des Vektorformats in Flash möglicherweise nicht möglich ist. </li><li>  Die Regeln für die Wiedergabe von Animationen, einschließlich der verschachtelten, müssen von Grund auf neu erstellt werden.  Hierfür gibt es keine Dokumentation, und Antworten auf Fragen wie wann und welcher Frame angezeigt werden soll, wann zu wechseln ist und wann er ohne Interpolation belassen wird, müssen Sie selbst herausfinden und gleichzeitig versuchen decken Sie alle möglichen Fälle während Testläufen ab, was meiner Meinung nach eine nicht triviale Übung für eine allgemeine, nicht private Lösung ist. </li></ol><br><p>  Dies sind nicht alle Nachteile dieses Ansatzes, aber ich denke, dies reicht aus, um zu verstehen, dass es für eine allgemeine Lösung nur mit starken Einschränkungen funktionieren würde.  Vor langer Zeit bin ich diesen Weg gegangen und habe an einem meiner Projekte gearbeitet.  Es gab Flash-Zwischensequenzen mit klassischen Tweens (ohne benutzerdefinierte Interpolationsregeln und spezielle Interpolationsfunktionen), Jut-Raster-Grafiken und keine weiteren erweiterten Möglichkeiten, die der Flash-Editor bietet.  Ich habe diese proprietäre Lösung ziemlich schnell und effizient entwickelt, aber es waren immer noch einige schwerwiegende Einschränkungen für die Animatoren erforderlich, damit sie nichts verwenden, was man als kompliziert bezeichnen kann.  Der Ansatz hat das Recht zu existieren und es gibt einige darauf basierende Bibliotheken mit unterschiedlichem Schäbigkeitsgrad, aber wie gesagt, er funktioniert mit vielen Einschränkungen. </p><br><h3>  .JSFL-Skripte </h3><br><p>  Mit .JSFL-Skripten können Sie Ihren Flash-Editor erweitern, mit seiner Umgebung interagieren, Ihre Animation bearbeiten und natürlich alle erforderlichen Informationen zu den darin enthaltenen Zeitleisten, Ebenen, Clips und Frames abrufen .  Es wird auch von Animatoren zur Automatisierung verschiedener Prozesse verwendet, aber dies ist tatsächlich eine ganz andere Geschichte.  Insgesamt weist der Ansatz alle Nachteile des vorherigen auf, sodass ich nicht weiter darauf eingehen werde.  Lassen Sie mich nur sagen, dass Sie damit Ihre Animationsszenen beispielsweise Frame für Frame exportieren können, aber wir wissen, dass dies nicht das ist, was ein echter Jedi tun würde (aber natürlich könnte dies in einigen Fällen der Fall sein Projekte).  Wir werden später auf diese Skripte zurückkommen, wenn wir den von mir gewählten Ansatz diskutieren: für die Rasterung von Vektorgrafiken und die Optimierung der exportierten Szenen. </p><br><h3>  AIR-Anwendung </h3><br><p>  Dieser Ansatz funktioniert wirklich und kann so verwendet werden, wie er sollte.  Trotzdem habe ich es nicht gewählt, aber ich werde Ihnen nur zur Veranschaulichung von dieser Option erzählen.  Das Wesentliche dieses Ansatzes ist, dass wir eine AIR-Anwendung auf Flash selbst oder für Puristen beispielsweise auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Haxe</a> erstellen.  Diese Anwendung extrahiert alle Informationen aus den Animationsszenen, die Sie bereits im SWF-Format kompiliert haben.  In der Anwendung spielen wir die Szene Frame für Frame ab, erhalten alle Informationen zu Frames und speichern sie in dem für unsere Laufzeit am besten geeigneten Format.  Mit dieser Methode lösen wir alle oben genannten Probleme: </p><br><ul><li>  Wir müssen unsere Vektorgrafiken nicht rastern, da dies zur Flash-Laufzeit erfolgt.  Wir müssen nur noch diese Informationen abrufen und die Rasterausgabe unserer Vektorstücke speichern. </li><li>  Wir müssen keine Wiedergaberegeln erfinden und uns nicht mit der benutzerdefinierten Tween-Interpolation befassen. Der in die AIR-Anwendung integrierte Flash-Player weiß genau, wie es gemacht werden soll, und erledigt im Grunde die Arbeit für uns. </li></ul><br><p>  Als Bonus erhalten wir die Möglichkeit, Frame-Skripte zu verwenden (alle <code>play()</code> , <code>stop()</code> und andere <code>gotoAndPlay()</code> , einige Animatoren mögen sie wirklich).  Als Nachteil verlieren wir die Möglichkeit, die in Flash selbst geloopten Szenen zu exportieren.  Aber es ist wirklich nicht so schlimm, denn wir können sie in unserer Laufzeit schleifen, und die Animatoren könnten alles dafür vorbereiten. </p><br><p>  Es sollte jetzt angemerkt werden, dass ich sicher bin, dass alles mehr oder weniger schwieriger sein wird, als ich es beschreibe, da ich persönlich nicht dorthin gegangen bin, also kann ich Ihnen nicht wirklich alle Details erzählen.  Ich begrüße diejenigen, die diesen Weg gegangen sind, um ihre Erfahrungen zu teilen. Ich freue mich, über Ihre Erfolge und Misserfolge zu lesen! </p><br><h3>  Dein eigener Flash Player </h3><br><p>  Dies ist wahrscheinlich die fairste, offensichtlichste und einfachste Option unter allen, aber auch die schwierigste.  Das macht schließlich ein echter Flash-Player, den die meisten von uns als Add-On im Lieblingsbrowser installiert haben.  Nun sind die populären Vertreter dieses Genres: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gameswf</a> und, geboren aus dem ersten, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">scaleform</a> .  Beide sind heute tot.  Das Faszinierende an ihnen ist, dass sie hauptsächlich für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GUI-</a> Implementierungen in verschiedenen Projekten einschließlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AAA verwendet wurden</a> .  Unser Interesse gilt jedoch den Interna, nicht den Anwendungen toter Bibliotheken. </p><br><p>  In jedem anständigen Flash-Player sind mindestens zwei wichtige Dinge verborgen: </p><br><ul><li>  Parser im SWF-Format; </li><li>  Vektorgrafiken Rasterizer; </li><li>  virtuelle Maschine zum Starten von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ActionScript</a> des Codes; </li><li>  Standardbibliothek für einen benutzerdefinierten Code; </li></ul><br><p>  Ich weiß, dass du denkst.  Jeder dieser Punkte schreit, dass Sie, selbst wenn so etwas implementiert werden kann, mehr als ein Team für diese Aufgabe wechseln und einige Jahre für die Entwicklung der Basisversion aufwenden müssen.  Selbst die Implementierung einer kleinen Rolle, um etwas zu spielen, wird lange dauern, und Sie können sicher sein, dass sich die weiteren Ergänzungen in Form vieler undokumentierter Teile dieser Pipeline in dieser langen Zeit verdoppeln werden. </p><br><p>  Ja, das Internet ist voll von Versuchen, jeden dieser Teile zu implementieren, die sich in Grad an Schäbigkeit und Fehlerhaftigkeit unterscheiden.  Aber Sie können diese Entwicklungen nicht einmal als Grundlage für Ihre eigenen Sachen nehmen, da Sie Jahre nur für die Fehlersuche aufwenden müssten.  Außerdem müssten Sie alle ungeschriebenen Unit-Tests hinzufügen, bevor Sie feststellen, dass Sie niemals in der Lage sein werden, jede Kleinigkeit vollständig zu implementieren.  Die Leute, die versucht haben, gameswf die notwendigen Funktionen hinzuzufügen, werden verstehen, wovon ich spreche.  Ein fairer Flash-Player sollte Vektorgrafiken auch nicht im Voraus, sondern zur Laufzeit rastern, was sich so stark auf die Leistung auswirkt, dass nicht jedes Projekt durchkommt.  Übrigens möchte ich die Überlebenden begrüßen, die versucht haben, scaleform auf Mobilgeräten zu verwenden.  Auf jeden Fall ist dies der feierlichste und hoffnungsloseste Weg, und es ist definitiv nicht unsere Wahl. </p><br><h3>  Ansätze kombinieren </h3><br><p>  Also gehen wir endlich zu meiner Option.  Nachdem ich alle möglichen Wege studiert hatte, kam ich auf diese interessante Kombination.  Es ist relativ einfach zu implementieren, von einer Person verwaltbar und verfügt gleichzeitig über genügend Funktionen, um alle Anforderungen fast jeder 2D-Timeline-Animationsproduktion abzudecken. </p><br><p>  Zuerst werden wir die in SWF kompilierte Animationsszene verwenden, um nicht verschiedene Wiedergabeoptionen zu erfinden und fast nie zu erraten, wie der Flash Player im Inneren funktioniert, da wir möglicherweise nicht alle Fälle abdecken können, aber wir sind immer noch auf der Suche nach der allgemeinen Lösung.  Außerdem entfernt der Flash-Editor alle Tweens, die wir in unserer Animation verwendet haben, und gibt uns nur die nackten Positionen der Teile in der kompilierten SWF. </p><br><p>  Zweitens verbieten wir die Verwendung von Skripten in Animationen.  Ja, diese Anforderung ist sicherlich sehr schwierig und traurig, aber ich habe nicht ein ganzes Team von Programmierern, um eine anständige virtuelle Maschine und eine Standardbibliothek zu implementieren, die sie fast mit verbundenen Augen schreiben müssten.  Hier sehen Sie natürlich einen Nachteil meines Ansatzes im Vergleich zur AIR-Anwendungsmethode.  Im zweiten Fall könnten wir einige Skripte für die interne Animationswiedergabe verwenden.  Gleichzeitig hindert es uns nicht daran, gute Animationsszenen zu erstellen.  Um benutzerdefinierte Informationen aus der Szene in das Spiel zu übertragen, können Sie sogenannte <code>frame labels</code> , die Sie im Code finden.  Sie können Benutzerereignisse auch mithilfe der Rückruffunktionen der Laufzeit an die jeweiligen Frames anheften. </p><br><p>  Dann müssen wir nicht mehr unseren eigenen Vektorgrafik-Rasterizer schreiben, da wir ihn nicht für den allgemeinen Fall schreiben können und alle Optionen und Möglichkeiten von Vektoren in Flash abdecken können.  Stattdessen werden wir unsere Grafiken vor der (!) Kompilierung mit einem JSFL-Skript rastern.  In der Zwischenzeit werden wir mithilfe dieses Skripts unsere Vektorgrafiken optimieren, indem wir statische Clips in einem Bild zusammenführen und die resultierenden Rasterbilder aus Gründen unserer eigenen Priorität vergrößern oder verkleinern: Qualität und / oder Leistung.  Auch hier lohnt es sich, Kunstqualitäts- / Auflösungsoptionen für Geräte mit unterschiedlicher Bildschirmpixeldichte (z. B. HD- und SD-Grafik) zu berücksichtigen. </p><br><h2>  Abschluss des lyrischen Teils </h2><br><p>  Damit ist der erste Teil meines Artikels abgeschlossen.  Im zweiten Teil werden Details zur technischen Implementierung, Codefragmente, Bilder (!), Optimierung, Tricks und Optimierungen besprochen.  In Kürze nicht verpassen! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445102/">https://habr.com/ru/post/de445102/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445090/index.html">Wird YouTube so bleiben, wie wir es kennen?</a></li>
<li><a href="../de445092/index.html">HATEOAS Deep Link Problem</a></li>
<li><a href="../de445094/index.html">Zentraler Zugriff auf digitale Signaturen und andere Schlüssel des elektronischen Schutzes über Hardware USB over IP</a></li>
<li><a href="../de445098/index.html">DynamicData: Ändern von Sammlungen, MVVM-Entwurfsmustern und reaktiven Erweiterungen</a></li>
<li><a href="../de445100/index.html">Anycubic: Photon S, 4Max Pro und große Umbenennung</a></li>
<li><a href="../de445104/index.html">Eine kurze Geschichte der Audiomarke Klipsch</a></li>
<li><a href="../de445106/index.html">Runder Tisch: Additive Technologie als Alternative zur traditionellen Fertigung</a></li>
<li><a href="../de445108/index.html">Kein einziger Falke - grundlegend andere wiederverwendbare ESA- und ULA-Projekte</a></li>
<li><a href="../de445110/index.html">Ein Computer mit einem Terminal-Laufwerk im Fallout-Stil</a></li>
<li><a href="../de445112/index.html">Aufdecken eines Gewirrs von Schwachstellen auf Websites</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>