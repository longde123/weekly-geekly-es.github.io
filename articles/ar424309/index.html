<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§ ğŸ›¸ ğŸ‘ğŸ¼ DevCore: Ø¬Ø²Ø¡ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ù† Ù…Ø´Ø±ÙˆØ¹ DevBoy ğŸŒ¬ï¸ â—¾ï¸ ğŸ›€ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ù…Ø±Ø­Ø¨Ø§ Ø§ØµØ¯Ù‚Ø§Ø¡! 

 Ù†ÙŠÙƒÙˆÙ„Ø§ÙŠ Ù…Ø¹Ùƒ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ØŒ ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø© " DevBoy - ÙƒÙŠÙ Ø£Ù†Ø´Ø£Øª Ù…Ø´Ø±ÙˆØ¹ Ø¬Ù‡Ø§Ø² Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± ÙˆØ£Ø·Ù„Ù‚Øª Ù…Ø´Ø±ÙˆØ¹Ù‹Ø§ Ø¹Ù„Ù‰ Kickstarter " ØŒ ÙƒØ§Ù† Ø§Ù„ØªØ±ÙƒÙŠØ²...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DevCore: Ø¬Ø²Ø¡ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ù† Ù…Ø´Ø±ÙˆØ¹ DevBoy</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424309/" style=";text-align:right;direction:rtl">  <b>Ù…Ø±Ø­Ø¨Ø§ Ø§ØµØ¯Ù‚Ø§Ø¡!</b> <br><br>  Ù†ÙŠÙƒÙˆÙ„Ø§ÙŠ Ù…Ø¹Ùƒ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ØŒ ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø© " <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">DevBoy - ÙƒÙŠÙ Ø£Ù†Ø´Ø£Øª Ù…Ø´Ø±ÙˆØ¹ Ø¬Ù‡Ø§Ø² Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± ÙˆØ£Ø·Ù„Ù‚Øª Ù…Ø´Ø±ÙˆØ¹Ù‹Ø§ Ø¹Ù„Ù‰ Kickstarter</a></i> " ØŒ ÙƒØ§Ù† Ø§Ù„ØªØ±ÙƒÙŠØ² Ø£ÙƒØ«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¸Ù‡Ø± ÙˆØ§Ù„Ø£Ø¬Ù‡Ø²Ø© ØŒ Ø§Ù„ÙŠÙˆÙ… Ø³Ù†ØªØ­Ø¯Ø« Ø¹Ù† ÙƒÙŠÙÙŠØ© Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ "ÙÙŠ <i>Ø§Ù„Ø¯Ø§Ø®Ù„</i> " ÙˆÙ†Ø­Ù„Ù„ Ø¬Ø²Ø¡ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬. <br><br><img src="https://habrastorage.org/webt/6r/n4/u8/6rn4u8jvzpd-c9_oykzqia4l8fk.jpeg"><br><br>  Ù…Ù† ÙŠÙ‡ØªÙ… - Ø£Ø·Ù„Ø¨ Ù‚Ø·Ø©. <br><a name="habracut"></a><br>  ÙƒÙ…Ø§ Ø°ÙƒØ±Ù†Ø§ Ø³Ø§Ø¨Ù‚Ù‹Ø§ ØŒ ÙŠØ¹ØªÙ…Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¹Ù„Ù‰ Ù…ØªØ­ÙƒÙ… <b>Ø¯Ù‚ÙŠÙ‚ STM32F415RG</b> Ù…Ù† STMicroelectronics Ø¹Ù„Ù‰ Ù†ÙˆØ§Ø© ARM Cortex-M4.  Ù‡Ù†Ø§Ùƒ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† IDEs Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…ØªØ­ÙƒÙ…Ø§Øª Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…ØªØ­ÙƒÙ… Ø§Ù„Ø¯Ù‚ÙŠÙ‚ ØŒ ÙˆÙ…Ø¹ Ø°Ù„Ùƒ ØŒ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± ØŒ ØªØ­ØªØ§Ø¬ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø¥Ù„Ù‰ IDE Ù…Ø¬Ø§Ù†ÙŠ ØŒ ÙˆÙŠÙØ¶Ù„ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø±.  Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„Ùƒ ØŒ Ù„Ø§ ÙŠØ²Ø§Ù„ ÙŠØ¬Ø¨ Ø¯Ø¹Ù… IDE ÙÙŠ <b>STM32CubeMX</b> .  ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø°ÙŠ Ø¨Ø¯Ø£Øª ÙÙŠÙ‡ Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ØŒ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ IDE ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ø§Ø³ØªÙˆÙÙ‰ Ø¬Ù…ÙŠØ¹ Ù‡Ø°Ù‡ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª - <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">System Workbench Ù„Ù€ STM32</a></b> . <br><br><img src="https://habrastorage.org/webt/v7/pz/vi/v7pzviufspf40flvruysuro_ex0.png">  <i>ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ ØŒ Ù‡Ù†Ø§Ùƒ Atollic TrueStudio ØŒ Ø§Ù„Ø°ÙŠ Ø£ØµØ¨Ø­ Ù…Ø¬Ø§Ù†ÙŠÙ‹Ø§ Ø¨Ø¹Ø¯ Ø£Ù† Ø§Ø´ØªØ±ØªÙ‡ STMicroelectronics.</i> <i><br></i> <br>  Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ùˆ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">STM32CubeMX</a></b> .  Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù‡Ùˆ Ø£Ø¯Ø§Ø© Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø·Ø±ÙÙŠØ© Ù…ØªØ­ÙƒÙ… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ø¬Ù‡Ø© Ø±Ø³ÙˆÙ…ÙŠØ©. <br><img src="https://habrastorage.org/webt/i4/ym/3u/i4ym3unkrgskza2fmumqmmfzs1o.png"><br>  ÙˆØ§Ù„Ù†ØªÙŠØ¬Ø© Ù‡ÙŠ Ø±Ù…Ø² ÙŠØªØ¶Ù…Ù† <b>H</b> ardware <b>A</b> bractionion <b>L</b> ayer (HAL).  Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ÙŠÙ† Ù„Ø§ ÙŠØ­Ø¨ÙˆÙ† Ù‡Ø°Ø§ " <i>Ø§Ù„Ø®Ù„Ù‚</i> " Ø­Ù‚Ù‹Ø§ ØŒ ÙÙ‡Ùˆ Ù„Ø§ ÙŠØ®Ù„Ùˆ Ù…Ù† Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ØŒ ÙˆÙ„ÙƒÙ†Ù‡ Ù…Ø¹ Ø°Ù„Ùƒ ÙŠØ¨Ø³Ø· Ø¥Ù„Ù‰ Ø­Ø¯ ÙƒØ¨ÙŠØ± ØªØ·ÙˆÙŠØ± ÙˆÙŠØ­Ø³Ù† Ù‚Ø§Ø¨Ù„ÙŠØ© Ù†Ù‚Ù„ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø¨ÙŠÙ† ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ù…Ù† STMicroelectronics. <br><br>  Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„Ùƒ ØŒ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙƒÙˆÙŠÙ† ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ø¯ÙŠØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨Ø¹Ø¶ Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø± Ù…Ø«Ù„ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">FreeRTOS</a></b> Ùˆ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">FatFS</a></b> ÙˆØ¨Ø¹Ø¶ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø£Ø®Ø±Ù‰. <br><br>  <b>Ù„Ù‚Ø¯</b> Ø§Ù†ØªÙ‡ÙŠÙ†Ø§ Ù…Ù† ÙˆØµÙ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØŒ <b>ÙÙ„Ù†Ù†ØªÙ‚Ù„</b> Ø§Ù„Ø¢Ù† Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙƒØ«Ø± Ø¥Ø«Ø§Ø±Ø© Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù… - <b>DevCore</b> .  ÙŠØ£ØªÙŠ Ø§Ù„Ø§Ø³Ù… Ù…Ù† " <i>Ø§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</i> " ÙÙ„Ù†Ø°Ù‡Ø¨ Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨. <br><br>  Ø¨Ø§Ø¯Ø¦ Ø°ÙŠ <i>Ø¨Ø¯Ø¡</i> ØŒ Ù‡Ùˆ <b>C ++ RTOS Wrapper</b> ( <i>FreeRTOS ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø©</i> ).  Ù…Ø·Ù„ÙˆØ¨ Vrapper Ù„Ø³Ø¨Ø¨ÙŠÙ†: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ù…Ù† Ø§Ù„Ø£ÙØ¶Ù„ Ø¥Ù†Ø´Ø§Ø¡ ÙƒØ§Ø¦Ù† ØŒ Ø«Ù… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ ÙƒØ§Ø¦Ù† Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© () ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù‚Ø¨Ø¶ ØŒ ÙˆØ§Ø³ØªØ¯Ø¹Ø§Ø¡ ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ ØŒ Ø«Ù… ØªÙ…Ø±ÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ù…Ù‚Ø¨Ø¶ Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ ÙˆØ¸Ø§Ø¦Ù ÙƒØ§Ø¦Ù† Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© </li><li style=";text-align:right;direction:rtl">  Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ù† Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ RTOS ØŒ ÙŠÙƒÙÙŠ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„ØºÙ„Ø§Ù ØŒ ÙˆÙ„ÙŠØ³ ÙƒÙ„ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø¥Ù„Ù‰ ÙˆØ¸Ø§Ø¦Ù RTOS Ù…Ù† Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© </li></ul><br>  Ù„ÙŠØ³ Ù…Ù† Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ Ø¥Ø­Ø¶Ø§Ø± ÙƒÙˆØ¯ Ø§Ù„ØºÙ„Ø§Ù Ù‡Ù†Ø§ ØŒ Ù…Ù† ÙŠÙ‡ØªÙ… - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù†Ø­Ù† Ù†Ù†Ø¸Ø± Ø¥Ù„Ù‰ GitHub</a> ØŒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙˆÙ†Ù†ØªÙ‚Ù„</a> . <br><br>  Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„ØªØ§Ù„ÙŠ Ù‡Ùˆ <b>Ø¥Ø·Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</b> .  Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù….  Ù†Ø¸Ø±Ù‹Ø§ Ù„Ø£Ù† Ù‡Ø°ÙŠÙ† Ù…Ù„ÙÙŠÙ† ØµØºÙŠØ±ÙŠÙ† Ù†Ø³Ø¨ÙŠÙ‹Ø§ ÙÙ‚Ø· ØŒ ÙÙ…Ù† Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ Ø¥Ø¯Ø±Ø§Ø¬Ù‡Ù…Ø§ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//****************************************************************************** // @file AppTask.h // @author Nicolai Shlapunov // // @details DevCore: Application Task Base Class, header // // @section LICENSE // // Software License Agreement (Modified BSD License) // // Copyright (c) 2016, Devtronic &amp; Nicolai Shlapunov // All rights reserved. // // Redistribution and use in source and binary forms, with or without // modification, are permitted provided that the following conditions are met: // // 1. Redistributions of source code must retain the above copyright // notice, this list of conditions and the following disclaimer. // 2. Redistributions in binary form must reproduce the above copyright // notice, this list of conditions and the following disclaimer in the // documentation and/or other materials provided with the distribution. // 3. Neither the name of the Devtronic nor the names of its contributors // may be used to endorse or promote products derived from this software // without specific prior written permission. // 4. Redistribution and use of this software other than as permitted under // this license is void and will automatically terminate your rights under // this license. // // THIS SOFTWARE IS PROVIDED BY DEVTRONIC ''AS IS'' AND ANY EXPRESS OR IMPLIED // WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF // MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. // IN NO EVENT SHALL DEVTRONIC BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED // TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR // PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY // LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING // NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS // SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. // // @section SUPPORT // // Devtronic invests time and resources providing this open source code, // please support Devtronic and open-source hardware/software by // donations and/or purchasing products from Devtronic. // //****************************************************************************** #ifndef AppTask_h #define AppTask_h // ***************************************************************************** // *** Includes ************************************************************ // ***************************************************************************** #include "DevCfg.h" // ***************************************************************************** // * AppTask class. This class is wrapper for call C++ function from class. **** // ***************************************************************************** class AppTask { public: // ************************************************************************* // *** Init Task ******************************************************* // ************************************************************************* virtual void InitTask(void) {CreateTask();} protected: // ************************************************************************* // *** Constructor ***************************************************** // ************************************************************************* AppTask(uint16_t stk_size, uint8_t task_prio, const char name[], uint16_t queue_len = 0U, uint16_t queue_msg_size = 0U, void* task_msg_p = nullptr, uint32_t task_interval_ms = 0U) : ctrl_queue((queue_len + 2U), sizeof(CtrlQueueMsg)), task_queue(queue_len, queue_msg_size), task_msg_ptr(task_msg_p), timer(task_interval_ms, RtosTimer::REPEATING, TimerCallback, (void*)this), stack_size(stk_size), task_priority(task_prio), task_name(name) {}; // ************************************************************************* // *** Virtual destructor - prevent warning **************************** // ************************************************************************* virtual ~AppTask() {}; // ************************************************************************* // *** Create task function ******************************************** // ************************************************************************* // * This function creates new task in FreeRTOS, provide pointer to function // * and pointer to class as parameter. When TaskFunctionCallback() called // * from FreeRTOS, it use pointer to class from parameter to call virtual // * functions. void CreateTask(); // ************************************************************************* // *** Setup function ************************************************** // ************************************************************************* // * * virtual function - some tasks may not have Setup() actions virtual Result Setup() {return Result::RESULT_OK;} // ************************************************************************* // *** IntervalTimerExpired function *********************************** // ************************************************************************* // * Empty virtual function - some tasks may not have TimerExpired() actions virtual Result TimerExpired() {return Result::RESULT_OK;} // ************************************************************************* // *** ProcessMessage function ***************************************** // ************************************************************************* // * Empty virtual function - some tasks may not have ProcessMessage() actions virtual Result ProcessMessage() {return Result::RESULT_OK;} // ************************************************************************* // *** Loop function *************************************************** // ************************************************************************* // * Empty virtual function - some tasks may not have Loop() actions virtual Result Loop() {return Result::RESULT_OK;} // ************************************************************************* // *** SendTaskMessage function **************************************** // ************************************************************************* Result SendTaskMessage(const void* task_msg, bool is_priority = false); private: // Task control queue message types enum CtrlQueueMsgType { CTRL_TIMER_MSG, CTRL_TASK_QUEUE_MSG }; // Task control queue message struct struct CtrlQueueMsg { CtrlQueueMsgType type; }; // Task control queue RtosQueue ctrl_queue; // Task queue RtosQueue task_queue; // Pointer to receive message buffer void* task_msg_ptr; // Timer object RtosTimer timer; // Task stack size uint16_t stack_size; // Task priority uint8_t task_priority; // Pointer to the task name const char* task_name; // ************************************************************************* // *** IntLoop function ************************************************ // ************************************************************************* Result IntLoop(); // ************************************************************************* // *** TaskFunctionCallback ******************************************** // ************************************************************************* static void TaskFunctionCallback(void* ptr); // ************************************************************************* // *** IntervalTimerCallback function ********************************** // ************************************************************************* static void TimerCallback(void* ptr); // ************************************************************************* // *** SendControlMessage function ************************************* // ************************************************************************* Result SendControlMessage(const CtrlQueueMsg&amp; ctrl_msg, bool is_priority = false); // ************************************************************************* // *** Change counter ************************************************** // ************************************************************************* static void ChangeCnt(bool is_up); // ************************************************************************* // *** Private constructor and assign operator - prevent copying ******* // ************************************************************************* AppTask(); AppTask(const AppTask&amp;); AppTask&amp; operator=(const AppTask&amp;); }; #endif</span></span></code> </pre> </div></div><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ÙƒÙˆØ¯</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//****************************************************************************** // @file AppTask.cpp // @author Nicolai Shlapunov // // @details DevCore: Application Task Base Class, implementation // // @copyright Copyright (c) 2016, Devtronic &amp; Nicolai Shlapunov // All rights reserved. // // @section SUPPORT // // Devtronic invests time and resources providing this open source code, // please support Devtronic and open-source hardware/software by // donations and/or purchasing products from Devtronic. // //****************************************************************************** // ***************************************************************************** // *** Includes ************************************************************ // ***************************************************************************** #include "AppTask.h" #include "RtosMutex.h" // ***************************************************************************** // *** Static variables **************************************************** // ***************************************************************************** static RtosMutex startup_mutex; static uint32_t startup_cnt = 0U; // ***************************************************************************** // *** Create task function ************************************************ // ***************************************************************************** void AppTask::CreateTask() { Result result = Result::RESULT_OK; // If interval timer period isn't zero or task queue present if((timer.GetTimerPeriod() != 0U) || (task_queue.GetQueueLen() != 0U)) { // Set Control Queue name ctrl_queue.SetName(task_name, "Ctrl"); // Create control queue result = ctrl_queue.Create(); } // If task queue present if(task_queue.GetQueueLen() != 0U) { // Set Task Queue name task_queue.SetName(task_name, "Task"); // Create task queue result |= task_queue.Create(); } // If interval timer period isn't zero if(timer.GetTimerPeriod() != 0U) { // Create timer result |= timer.Create(); } // Create task: function - TaskFunctionCallback(), parameter - pointer to "this" result |= Rtos::TaskCreate(TaskFunctionCallback, task_name, stack_size, this, task_priority); // Check result if(result.IsBad()) { // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> implement error handling Break(); } } // ***************************************************************************** // *** SendTaskMessage function ******************************************** // ***************************************************************************** Result AppTask::SendTaskMessage(const void* task_msg, bool is_priority) { Result result = Result::RESULT_OK; // Send task message to front or back of task queue if(is_priority == true) { result = task_queue.SendToFront(task_msg); } else { result = task_queue.SendToBack(task_msg); } // If successful - send message to the control queue if(result.IsGood()) { CtrlQueueMsg ctrl_msg; ctrl_msg.type = CTRL_TASK_QUEUE_MSG; result = SendControlMessage(ctrl_msg, is_priority); } return result; } // ***************************************************************************** // *** IntLoop function **************************************************** // ***************************************************************************** Result AppTask::IntLoop() { Result result = Result::RESULT_OK; while(result.IsGood()) { // Buffer for control message CtrlQueueMsg ctrl_msg; // Read on the control queue result = ctrl_queue.Receive(&amp;ctrl_msg, timer.GetTimerPeriod() * 2U); // If successful if(result.IsGood()) { // Check message type switch(ctrl_msg.type) { case CTRL_TIMER_MSG: result = TimerExpired(); break; case CTRL_TASK_QUEUE_MSG: { // Non blocking read from the task queue result = task_queue.Receive(task_msg_ptr, 0U); // If successful if(result.IsGood()) { // Process it! result = ProcessMessage(); } break; } default: result = Result::ERR_INVALID_ITEM; break; } } } return result; } // ***************************************************************************** // *** TaskFunctionCallback ************************************************ // ***************************************************************************** void AppTask::TaskFunctionCallback(void* ptr) { Result result = Result::ERR_NULL_PTR; if(ptr != nullptr) { // Set good result result = Result::RESULT_OK; // Get reference to the task object AppTask&amp; app_task = *(static_cast&lt;AppTask*&gt;(ptr)); // Increment counter before call Setup() ChangeCnt(true); // Call virtual Setup() function from AppTask class app_task.Setup(); // Decrement counter after call Setup() ChangeCnt(false); // Pause for give other tasks run Setup() RtosTick::DelayTicks(1U); // Pause while other tasks run Setup() before executing any Loop() while(startup_cnt) RtosTick::DelayTicks(1U); // If no timer or queue - just call Loop() function if((app_task.timer.GetTimerPeriod() == 0U) &amp;&amp; (app_task.task_queue.GetQueueLen() == 0U)) { // Call virtual Loop() function from AppTask class while(app_task.Loop() == Result::RESULT_OK); } else { // Start task timer if needed if(app_task.timer.GetTimerPeriod() != 0U) { result = app_task.timer.Start(); } // Check result if(result.IsGood()) { // Call internal AppTask function result = app_task.IntLoop(); } // Stop task timer if needed if(app_task.timer.GetTimerPeriod() != 0U) { result |= app_task.timer.Stop(); } } } // Check result if(result.IsBad()) { // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> implement error handling Break(); } // Delete task after exit Rtos::TaskDelete(); } // ***************************************************************************** // *** TimerCallback function ********************************************** // ***************************************************************************** void AppTask::TimerCallback(void* ptr) { Result result = Result::ERR_NULL_PTR; if(ptr != nullptr) { // Get reference to the task object AppTask&amp; task = *((AppTask*)ptr); // Create control timer message CtrlQueueMsg timer_msg; timer_msg.type = CTRL_TIMER_MSG; // Send message to the control queue result = task.SendControlMessage(timer_msg); } // Check result if(result.IsBad()) { // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> implement error handling Break(); } } // ***************************************************************************** // *** SendControlMessage function ***************************************** // ***************************************************************************** Result AppTask::SendControlMessage(const CtrlQueueMsg&amp; ctrl_msg, bool is_priority) { Result result; if(is_priority == true) { result = ctrl_queue.SendToFront(&amp;ctrl_msg); } else { result = ctrl_queue.SendToBack(&amp;ctrl_msg); } return result; } // ***************************************************************************** // *** Change counter ****************************************************** // ***************************************************************************** void AppTask::ChangeCnt(bool is_up) { // Take semaphore before change counter startup_mutex.Lock(); // Check direction if(is_up == true) { // Increment counter startup_cnt++; } else { // Decrement counter startup_cnt--; } // Give semaphore after changes startup_mutex.Release(); }</span></span></code> </pre></div></div><br>  ÙŠÙ…ÙƒÙ† Ù„Ù„ÙØµÙˆÙ„ Ø§Ù„Ù…ÙˆØ±ÙˆØ«Ø© ØªØ¬Ø§ÙˆØ² 4 ÙˆØ¸Ø§Ø¦Ù Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>Setup ()</b> Ù‡ÙŠ ÙˆØ¸ÙŠÙØ© ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡Ø§ Ù‚Ø¨Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø©.  ÙŠØªÙ… Ø¶Ù…Ø§Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø±Ù…Ø² ÙÙŠ Ø¬Ù…ÙŠØ¹ Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù… Ù‚Ø¨Ù„ ØªÙ†ÙÙŠØ° Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©. </li><li style=";text-align:right;direction:rtl">  <b>Loop ()</b> - Ø¯ÙˆØ±Ø© Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØŒ Ø­ÙŠØ« ØªÙ†Ø¸Ù… Ø§Ù„Ù…Ù‡Ù…Ø© Ù†ÙØ³Ù‡Ø§ Ù…Ø§ ØªØ±ÙŠØ¯.  Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ù…Ø¹ Ø§Ù„Ø¯Ø§Ù„ØªÙŠÙ† Ø§Ù„ØªØ§Ù„ÙŠØªÙŠÙ†. </li><li style=";text-align:right;direction:rtl">  <b>TimerExpired ()</b> - Ø¯Ø§Ù„Ø© ØªØ³Ù…Ù‰ Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ Ø¨ÙØ§ØµÙ„ Ø²Ù…Ù†ÙŠ Ù…Ø¹ÙŠÙ†.  Ù…Ù†Ø§Ø³Ø¨ Ù„ØªÙ†ÙÙŠØ° Ø§Ù‚ØªØ±Ø§Ø¹ Ø¬Ù‡Ø§Ø² Ø§Ø³ØªØ´Ø¹Ø§Ø± Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„. </li><li style=";text-align:right;direction:rtl">  <b>ProcessMessage ()</b> - ÙˆØ¸ÙŠÙØ© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø£Ø®Ø±Ù‰. </li></ul><br>  ØªÙ‚ÙˆÙ… Ø§Ù„Ø¯Ø§Ù„ØªØ§Ù† Ø§Ù„Ø£ÙˆÙ„ÙŠØ§Ù† Ø¨ØªÙ†ÙÙŠØ° " <i>Arduino-Style</i> " Ù„Ù„Ù…Ù‡Ø§Ù…. <br><br>  ÙŠÙ‚ÙˆÙ… Ø§Ù„Ø§Ø«Ù†Ø§Ù† Ø§Ù„ØªØ§Ù„ÙŠØ§Ù† Ø¨ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… " <i>Ø§Ù„Ø­Ø¯Ø«</i> " Ø§Ù„Ø°ÙŠ ÙŠØ¨Ø³Ø· ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ù‡Ø§Ù….  Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ù†Ù‡Ø¬ ØŒ ØªÙ†ÙØ° Ø§Ù„Ù…Ù‡Ù…Ø© ÙˆØ§Ø¬Ù‡Ø© Ø®Ø§Ø±Ø¬ÙŠØ© ÙÙŠ Ø´ÙƒÙ„ ÙˆØ¸Ø§Ø¦Ù ØªØ±Ø³Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù‡Ù…Ø© Ù…Ù† Ø®Ù„Ø§Ù„ ØµÙ†Ø¯ÙˆÙ‚ Ø¨Ø±ÙŠØ¯ Ø¯Ø§Ø®Ù„ÙŠ.  Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ù†Ù‡Ø¬ ØŒ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø°ÙŠ ÙŠØ³ØªØ®Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ù„Ù‚ ÙÙŠ Ø£ÙŠ Ø³ÙŠØ§Ù‚ ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª.  ØµØ­ÙŠØ­ ØŒ Ù‡Ø°Ø§ Ù…Ù…ÙƒÙ† ÙÙ‚Ø· Ù„Ù„Ù…Ø³ØªÙˆØ·Ù†ÙŠÙ† Ø£Ùˆ Ø§Ù„ÙØ±Ù‚.  Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ø¥Ù„Ù‰ getters ØŒ Ù…Ù† Ø§Ù„Ø£ÙØ¶Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø³Ø® Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ÙˆÙ†Ø³Ø® Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù…Ù†Ø¹ Ø§Ù„ØªÙ‚Ø§Ø·Ù‡Ø§ Ù„ÙØªØ±Ø© Ø·ÙˆÙŠÙ„Ø©. <br><br>  ØªÙ… Ø±ØµØ¯ Ù‡Ø°Ø§ Ø§Ù„Ù†Ù‡Ø¬ Ø¹Ù†Ø¯Ù…Ø§ ÙƒÙ†Øª Ø£Ù‚ÙˆÙ… Ø¨ØªØ·ÙˆÙŠØ± Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù„Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©.  ÙŠØ­ØªÙˆÙŠ Ø§Ù„Ù…ØªØ­ÙƒÙ… Ø§Ù„Ø¯Ù‚ÙŠÙ‚ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø² <i>Ù…Ø±Ø§Ù‚Ø¨Ø©</i> ÙˆØ§Ø­Ø¯ <i>ØŒ</i> ÙˆÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ù‡Ø§Ù… ØŒ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØªØ¨Ø¹Ù‡Ø§ Ø¬Ù…ÙŠØ¹Ù‹Ø§.  Ù„Ù‡Ø°Ø§ ØŒ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ù…Ù‡Ù…Ø© Ù…Ù†ÙØµÙ„Ø© ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØªÙ„Ù‚Ù‰ Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø£Ø®Ø±Ù‰ Ø§Ù„Ù…Ø±Ø³Ù„Ø© Ù…Ù† ÙˆØ¸ÙŠÙØ© TimerExpired ().  Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø±Ø³Ø§Ø¦Ù„ Ø®Ù„Ø§Ù„ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù„Ù„Ù…Ù‡Ù…Ø© * ØŒ Ù…Ø§ØªØª Ø§Ù„Ù…Ù‡Ù…Ø© ØŒ <s>Ù†Ø·ÙØ¦ Ø§Ù„Ø¶ÙˆØ¡</s> ÙˆÙ†ØªØ®Ø° Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ù„Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØºØ¯Ø¯ Ø§Ù„ØªÙŠ ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±ÙŠØ¶. <br><br>  Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù… ÙØ±Ø¯ÙŠØ© ØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© ØŒ ÙˆÙ„ÙƒÙ† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· Ù„Ù„Ù…Ù‡Ù…Ø©.  Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ØŒ ØªØ·Ø¨Ù‚ ÙƒÙ„ Ù…Ù‡Ù…Ø© Ø£Ø³Ù„ÙˆØ¨ <b>GetInstance ()</b> Ø«Ø§Ø¨Øª: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// ***************************************************************************** // *** Get Instance ******************************************************** // ***************************************************************************** Application&amp; Application::GetInstance(void) { static Application application; return application; }</span></span></code> </pre> <br>  ØªØªØ¶Ù…Ù† Ø£ÙŠØ¶Ù‹Ø§ Ù…Ù‡Ø§Ù… <b>Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„ØµÙˆØª</b> <b>ÙˆÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„</b> <b>ÙˆØµÙŠØ§Ù†Ø© Ø§Ù„Ø´Ø§Ø´Ø©.</b> <br><br>  Ø¥Ù† Ù…Ù‡Ù…Ø© <b>Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„ØµÙˆØª</b> Ø¨Ø³ÙŠØ·Ø© Ù„Ù„ØºØ§ÙŠØ© - ÙÙ‡ÙŠ ØªØªÙ„Ù‚Ù‰ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„ØªØ±Ø¯Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ø¯Ø¯ ÙˆØªØºÙŠÙŠØ± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¤Ù‚Øª Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ Ù„ØªÙˆÙ„ÙŠØ¯ Ù†Ø¨Ø¶Ø§Øª Ù…Ø³ØªØ·ÙŠÙ„Ø© Ù„ØªØ±Ø¯Ø¯ Ù…Ø¹ÙŠÙ†. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//****************************************************************************** // @file SoundDrv.h // @author Nicolai Shlapunov // // @details DevCore: Sound Driver Class, header // // @section LICENSE // // Software License Agreement (Modified BSD License) // // Copyright (c) 2016, Devtronic &amp; Nicolai Shlapunov // All rights reserved. // // Redistribution and use in source and binary forms, with or without // modification, are permitted provided that the following conditions are met: // // 1. Redistributions of source code must retain the above copyright // notice, this list of conditions and the following disclaimer. // 2. Redistributions in binary form must reproduce the above copyright // notice, this list of conditions and the following disclaimer in the // documentation and/or other materials provided with the distribution. // 3. Neither the name of the Devtronic nor the names of its contributors // may be used to endorse or promote products derived from this software // without specific prior written permission. // 4. Redistribution and use of this software other than as permitted under // this license is void and will automatically terminate your rights under // this license. // // THIS SOFTWARE IS PROVIDED BY DEVTRONIC ''AS IS'' AND ANY EXPRESS OR IMPLIED // WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF // MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. // IN NO EVENT SHALL DEVTRONIC BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED // TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR // PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY // LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING // NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS // SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. // // @section SUPPORT // // Devtronic invests time and resources providing this open source code, // please support Devtronic and open-source hardware/software by // donations and/or purchasing products from Devtronic. // //****************************************************************************** #ifndef SoundDrv_h #define SoundDrv_h // ***************************************************************************** // *** Includes ************************************************************ // ***************************************************************************** #include "DevCfg.h" #include "AppTask.h" #include "RtosMutex.h" #include "RtosSemaphore.h" // ***************************************************************************** // *** Sound Driver Class. This class implement work with sound. *********** // ***************************************************************************** class SoundDrv : public AppTask { public: // ************************************************************************* // *** Get Instance **************************************************** // ************************************************************************* // * This class is singleton. For use this class you must call GetInstance() // * to receive reference to Sound Driver class static SoundDrv&amp; GetInstance(void); // ************************************************************************* // *** Init Sound Driver Task ****************************************** // ************************************************************************* virtual void InitTask(TIM_HandleTypeDef *htm); // ************************************************************************* // *** Sound Driver Setup ********************************************** // ************************************************************************* virtual Result Setup(); // ************************************************************************* // *** Sound Driver Loop *********************************************** // ************************************************************************* virtual Result Loop(); // ************************************************************************* // *** Beep function *************************************************** // ************************************************************************* void Beep(uint16_t freq, uint16_t del, bool pause_after_play = false); // ************************************************************************* // *** Play sound function ********************************************* // ************************************************************************* void PlaySound(const uint16_t* melody, uint16_t size, uint16_t temp_ms = 100U, bool rep = false); // ************************************************************************* // *** Stop sound function ********************************************* // ************************************************************************* void StopSound(void); // ************************************************************************* // *** Mute sound function ********************************************* // ************************************************************************* void Mute(bool mute_flag); // ************************************************************************* // *** Is sound played function **************************************** // ************************************************************************* bool IsSoundPlayed(void); private: // Timer handle TIM_HandleTypeDef* htim = SOUND_HTIM; // Timer channel uint32_t channel = SOUND_CHANNEL; // Ticks variable uint32_t last_wake_ticks = 0U; // Pointer to table contains melody const uint16_t* sound_table = nullptr; // Size of table uint16_t sound_table_size = 0U; // Current position uint16_t sound_table_position = 0U; // Current frequency delay uint16_t current_delay = 0U; // Time for one frequency in ms uint32_t delay_ms = 100U; // Repeat flag bool repeat = false; // Mute flag bool mute = false; // Mutex to synchronize when playing melody frames RtosMutex melody_mutex; // Semaphore for start play sound RtosSemaphore sound_update; // ************************************************************************* // *** Process Button Input function *********************************** // ************************************************************************* void Tone(uint16_t freq); // ************************************************************************* // ** Private constructor. Only GetInstance() allow to access this class. ** // ************************************************************************* SoundDrv() : AppTask(SOUND_DRV_TASK_STACK_SIZE, SOUND_DRV_TASK_PRIORITY, "SoundDrv") {}; }; #endif</span></span></code> </pre> <br></div></div><br>  Ø¥Ù† Ù…Ù‡Ù…Ø© ØµÙŠØ§Ù†Ø© <b>ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù…ÙŠØ§Ù‡</b> Ø¨Ø³ÙŠØ·Ø© Ù„Ù„ØºØ§ÙŠØ©.  Ù…Ù† Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø«ÙŠØ±Ø© Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù… ØŒ ÙŠØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø§Ù„ÙˆØ­Ø¯Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§: Ø£ÙˆÙ„Ø§Ù‹ ØŒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ADC ØŒ Ù†Ù‚ÙˆÙ… Ø¨Ù‚ÙŠØ§Ø³ Ø§Ù„Ø¬Ù‡Ø¯ ØŒ Ø¥Ø°Ø§ ÙƒØ§Ù† ÙÙŠ Ø§Ù„Ù†Ø·Ø§Ù‚ Ù…Ù† 25 Ùª Ø¥Ù„Ù‰ 75 Ùª Ù…Ù† Ø¬Ù‡Ø¯ Ø§Ù„Ø¥Ù…Ø¯Ø§Ø¯ ØŒ ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø¹ØµØ§ Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ØªÙ†Ø§Ø¸Ø±ÙŠØ© ØŒ ÙˆØ¥Ù„Ø§ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø£Ùˆ Ø§Ù„ØªØ´ÙÙŠØ±.  Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø¹ØµØ§ Ø§Ù„ØªØ­ÙƒÙ… ØŒ ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø±Ø§Ø¨Ø¹ Ù…Ù† ÙˆØ­Ø¯Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ / Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬: Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø¹Ø§Ù„Ù ØŒ ÙÙ‡Ø°Ù‡ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ( <i>ÙŠØªÙ… Ø³Ø­Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø­ØªÙ‰ Ø§Ù„ØªØ´ØºÙŠÙ„ ØŒ ÙˆØ¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØŒ ÙŠØªÙ… Ø¥ØºÙ„Ø§Ù‚Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶</i> ) ØŒ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ù†Ø®ÙØ¶Ø© ØŒ ÙÙ‡ÙŠ Ø£Ø¯Ø§Ø© ØªØ±Ù…ÙŠØ² ( <i>ÙŠØªÙ… Ø³Ø­Ø¨ Ø²Ø± ØµØºÙŠØ± Ù„Ø£Ø¹Ù„Ù‰) Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ¹Ù†Ø¯Ù…Ø§ ØªØ¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø³Ù„Ø·Ø©</i> ). <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//****************************************************************************** // @file InputDrv.h // @author Nicolai Shlapunov // // @details DevCore: Input Driver Class, header // // @section LICENSE // // Software License Agreement (Modified BSD License) // // Copyright (c) 2016, Devtronic &amp; Nicolai Shlapunov // All rights reserved. // // Redistribution and use in source and binary forms, with or without // modification, are permitted provided that the following conditions are met: // // 1. Redistributions of source code must retain the above copyright // notice, this list of conditions and the following disclaimer. // 2. Redistributions in binary form must reproduce the above copyright // notice, this list of conditions and the following disclaimer in the // documentation and/or other materials provided with the distribution. // 3. Neither the name of the Devtronic nor the names of its contributors // may be used to endorse or promote products derived from this software // without specific prior written permission. // 4. Redistribution and use of this software other than as permitted under // this license is void and will automatically terminate your rights under // this license. // // THIS SOFTWARE IS PROVIDED BY DEVTRONIC ''AS IS'' AND ANY EXPRESS OR IMPLIED // WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF // MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. // IN NO EVENT SHALL DEVTRONIC BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED // TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR // PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY // LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING // NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS // SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. // // @section SUPPORT // // Devtronic invests time and resources providing this open source code, // please support Devtronic and open-source hardware/software by // donations and/or purchasing products from Devtronic. // //****************************************************************************** #ifndef InputDrv_h #define InputDrv_h // ***************************************************************************** // *** Includes ************************************************************ // ***************************************************************************** #include "DevCfg.h" #include "AppTask.h" // ***************************************************************************** // * Input Driver Class. This class implement work with user input elements like // * buttons and encoders. class InputDrv : public AppTask { public: // ************************************************************************* // *** Enum with all buttons ******************************************* // ************************************************************************* typedef enum { EXT_LEFT, // Left ext port EXT_RIGHT, // Right ext port EXT_MAX // Ext port count } PortType; // ************************************************************************* // *** Enum with all devices types ************************************* // ************************************************************************* typedef enum { EXT_DEV_NONE, // No device EXT_DEV_BTN, // Buttons(cross) EXT_DEV_ENC, // Encoder EXT_DEV_JOY, // Joystick EXT_DEV_MAX // Device types count } ExtDeviceType; // ************************************************************************* // *** Enum with all buttons ******************************************* // ************************************************************************* typedef enum { BTN_UP, // Up button BTN_LEFT, // Left button BTN_DOWN, // Down button BTN_RIGHT, // Right button BTN_MAX // Buttons count } ButtonType; // ************************************************************************* // *** Enum with all encoder buttons *********************************** // ************************************************************************* typedef enum { ENC_BTN_ENT, // Press on the knob ENC_BTN_BACK, // Small button ENC_BTN_MAX // Buttons count } EncButtonType; // ************************************************************************* // *** Get Instance **************************************************** // ************************************************************************* // * This class is singleton. For use this class you must call GetInstance() // * to receive reference to Input Driver class static InputDrv&amp; GetInstance(void); // ************************************************************************* // *** Init Input Driver Task ****************************************** // ************************************************************************* // * This function initialize Input Driver class. If htim provided, this // * timer will be used instead FreeRTOS task. virtual void InitTask(TIM_HandleTypeDef* htm, ADC_HandleTypeDef* had); // ************************************************************************* // *** Input Driver Setup ********************************************** // ************************************************************************* virtual Result Setup(); // ************************************************************************* // *** Input Driver Loop *********************************************** // ************************************************************************* // * If FreeRTOS task used, this function just call ProcessInput() with 1 ms // * period. If FreeRTOS tick is 1 ms - this task must have highest priority virtual Result Loop(); // ************************************************************************* // *** Process Input function ****************************************** // ************************************************************************* // * Main class function - must call periodically for process user input. // * If timer used, this function must be called from interrupt handler. void ProcessInput(void); // ************************************************************************* // *** Process Encoders Input function ********************************* // ************************************************************************* void ProcessEncodersInput(void); // ************************************************************************* // *** Get device type ************************************************* // ************************************************************************* ExtDeviceType GetDeviceType(PortType port); // ************************************************************************* // *** Get button state ************************************************ // ************************************************************************* // Return button state: true - pressed, false - unpressed bool GetButtonState(PortType port, ButtonType button); // ************************************************************************* // *** Get button state ************************************************ // ************************************************************************* // Return button state change flag: true - changed, false - not changed bool GetButtonState(PortType port, ButtonType button, bool&amp; btn_state); // ************************************************************************* // *** Get encoder counts from last call ******************************* // ************************************************************************* // * Return state of encoder. Class counts encoder clicks and stored inside. // * This function substract from current encoder counter last_enc_val and // * return it to user. Before return last_enc_val will be assigned to // * current encoder counter. int32_t GetEncoderState(PortType port, int32_t&amp; last_enc_val); // ************************************************************************* // *** Get button state ************************************************ // ************************************************************************* // Return button state: true - pressed, false - unpressed bool GetEncoderButtonState(PortType port, EncButtonType button); // ************************************************************************* // *** Get encoder button state **************************************** // ************************************************************************* // Return button state: true - pressed, false - unpressed bool GetEncoderButtonState(PortType port, EncButtonType button, bool&amp; btn_state); // ************************************************************************* // *** Get joystick counts from last call ****************************** // ************************************************************************* void GetJoystickState(PortType port, int32_t&amp; x, int32_t&amp; y); // ************************************************************************* // *** SetJoystickCalibrationConsts ************************************ // ************************************************************************* // * Set calibration constants. Must be call for calibration joystick. void SetJoystickCalibrationConsts(PortType port, int32_t x_mid, int32_t x_kmin, int32_t x_kmax, int32_t y_mid, int32_t y_kmin, int32_t y_kmax); // ************************************************************************* // *** Get joystick button state *************************************** // ************************************************************************* // Return button state: true - pressed, false - unpressed bool GetJoystickButtonState(PortType port); // ************************************************************************* // *** Get joystick button state *************************************** // ************************************************************************* // Return button state: true - pressed, false - unpressed bool GetJoystickButtonState(PortType port, bool&amp; btn_state); private: // How many cycles button must change state before state will be changed in // result returned by GetButtonState() function. For reduce debouncing const static uint32_t BUTTON_READ_DELAY = 4U; // Coefficient for calibration const static int32_t COEF = 100; // ADC max value - 12 bit const static int32_t ADC_MAX_VAL = 0xFFF; // Joystich threshold const static int32_t JOY_THRESHOLD = 1000; // Ticks variable uint32_t last_wake_ticks = 0U; // ************************************************************************* // *** Structure to describe button ************************************ // ************************************************************************* typedef struct { bool btn_state; // Button state returned by GetButtonState() function bool btn_state_tmp; // Temporary button state for reduce debouncing uint8_t btn_state_cnt; // Counter for reduce debouncing GPIO_TypeDef* button_port;// Button port uint16_t button_pin; // Button pin GPIO_PinState pin_state; // High/low on input treated as pressed } ButtonProfile; // ************************************************************************* // *** Structure to describe encoder *********************************** // ************************************************************************* typedef struct { // Encoder rotation int32_t enc_cnt; // Encoder counter uint8_t enc_state; // Current state of encder clock &amp; data pins GPIO_TypeDef* enc_clk_port; // Encoder clock port uint16_t enc_clk_pin; // Encoder clock pin GPIO_TypeDef* enc_data_port;// Encoder data port uint16_t enc_data_pin; // Encoder data pin } EncoderProfile; // ************************************************************************* // *** Structure to describe joysticks ********************************* // ************************************************************************* typedef struct { int32_t x_ch_val; // Joystick X axis value uint32_t x_channel; // Joystick X axis ADC channel GPIO_TypeDef* x_port; // Joystick X axis port uint16_t x_pin; // Joystick X axis pin int32_t bx; // Joystick X offset int32_t kxmin; // Joystick X coefficient int32_t kxmax; // Joystick X coefficient bool x_inverted; // Joystick X inverted flag int32_t y_ch_val; // Joystick Y axis value uint32_t y_channel; // Joystick Y axis ADC channel GPIO_TypeDef* y_port; // Joystick Y axis port uint16_t y_pin; // Joystick Y axis pin int32_t by; // Joystick Y offset int32_t kymin; // Joystick Y coefficient int32_t kymax; // Joystick Y coefficient bool y_inverted; // Joystick Y inverted flag } JoystickProfile; // ************************************************************************* // *** Structure to describe encoders ********************************** // ************************************************************************* typedef struct { EncoderProfile enc; ButtonProfile btn[ENC_BTN_MAX]; } DevEncoders; // ************************************************************************* // *** Structure to describe encoders ********************************** // ************************************************************************* typedef struct { JoystickProfile joy; ButtonProfile btn; } DevJoysticks; // ************************************************************************* // *** Structure to describe buttons *********************************** // ************************************************************************* typedef struct { ButtonProfile button[BTN_MAX]; } DevButtons; // *** Array describes types of connected devices *********************** ExtDeviceType devices[EXT_MAX]; // *** Structures array for describe buttons inputs ********************* DevButtons buttons[EXT_MAX] = { // Left device {{{false, false, 0, EXT_L1_GPIO_Port, EXT_L1_Pin, GPIO_PIN_RESET}, {false, false, 0, EXT_L2_GPIO_Port, EXT_L2_Pin, GPIO_PIN_RESET}, {false, false, 0, EXT_L3_GPIO_Port, EXT_L3_Pin, GPIO_PIN_RESET}, {false, false, 0, EXT_L4_GPIO_Port, EXT_L4_Pin, GPIO_PIN_RESET}}}, // Right device {{{false, false, 0, EXT_R1_GPIO_Port, EXT_R1_Pin, GPIO_PIN_RESET}, {false, false, 0, EXT_R2_GPIO_Port, EXT_R2_Pin, GPIO_PIN_RESET}, {false, false, 0, EXT_R3_GPIO_Port, EXT_R3_Pin, GPIO_PIN_RESET}, {false, false, 0, EXT_R4_GPIO_Port, EXT_R4_Pin, GPIO_PIN_RESET}}} }; // *** Structures array for describe encoders inputs ******************** DevEncoders encoders[EXT_MAX] = { // Left device {{0, 0, EXT_L1_GPIO_Port, EXT_L1_Pin, EXT_L2_GPIO_Port, EXT_L2_Pin}, // Encoder {{false, false, 0, EXT_L3_GPIO_Port, EXT_L3_Pin, GPIO_PIN_RESET}, // Button Enter {false, false, 0, EXT_L4_GPIO_Port, EXT_L4_Pin, GPIO_PIN_SET}}}, // Button Back // Right device {{0, 0, EXT_R1_GPIO_Port, EXT_R1_Pin, EXT_R2_GPIO_Port, EXT_R2_Pin}, // Encoder {{false, false, 0, EXT_R3_GPIO_Port, EXT_R3_Pin, GPIO_PIN_RESET}, // Button Enter {false, false, 0, EXT_R4_GPIO_Port, EXT_R4_Pin, GPIO_PIN_SET}}} // Button Back }; // *** Structures array for describe encoders inputs ******************** DevJoysticks joysticks[EXT_MAX] = { // Left device {{0, ADC_CHANNEL_11, EXT_L2_GPIO_Port, EXT_L2_Pin, 0, COEF, COEF, false, // Joystick 0, ADC_CHANNEL_10, EXT_L1_GPIO_Port, EXT_L1_Pin, 0, COEF, COEF, true}, {false, false, 0, EXT_L3_GPIO_Port, EXT_L3_Pin, GPIO_PIN_RESET}}, // Button // Right device {{0, ADC_CHANNEL_13, EXT_R2_GPIO_Port, EXT_R2_Pin, 0, COEF, COEF, false, // Joystick 0, ADC_CHANNEL_12, EXT_R1_GPIO_Port, EXT_R1_Pin, 0, COEF, COEF, true}, {false, false, 0, EXT_R3_GPIO_Port, EXT_R3_Pin, GPIO_PIN_RESET}} // Button }; // Handle to timer used for process encoders input TIM_HandleTypeDef* htim = nullptr; // Handle to timer used for process encoders input ADC_HandleTypeDef* hadc = nullptr; // ************************************************************************* // *** Process Button Input function *********************************** // ************************************************************************* void ProcessButtonInput(ButtonProfile&amp; button); // ************************************************************************* // *** Process Encoder Input function ********************************** // ************************************************************************* void ProcessEncoderInput(EncoderProfile&amp; encoder); // ************************************************************************* // *** Process Joystick Input function ********************************* // ************************************************************************* void ProcessJoystickInput(JoystickProfile&amp; joysticks, PortType port); // ************************************************************************* // *** Emulate buttons using joystick function ************************* // ************************************************************************* void EmulateButtonsByJoystick(PortType port); // ************************************************************************* // *** Emulate encoders using buttons function ************************* // ************************************************************************* void EmulateEncodersByButtons(PortType port); // ************************************************************************* // *** Configure inputs devices types ********************************** // ************************************************************************* ExtDeviceType DetectDeviceType(PortType port); // ************************************************************************* // *** Configure ADC *************************************************** // ************************************************************************* void ConfigADC(ExtDeviceType dev_left, ExtDeviceType dev_right); // ************************************************************************* // *** Configure inputs for read digital/analog data ******************* // ************************************************************************* void ConfigInputIO(bool is_digital, PortType port); // ************************************************************************* // ** Private constructor. Only GetInstance() allow to access this class. ** // ************************************************************************* InputDrv() : AppTask(INPUT_DRV_TASK_STACK_SIZE, INPUT_DRV_TASK_PRIORITY, "InputDrv") {}; }; #endif</span></span></code> </pre> </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù…Ù‡Ù…Ø© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ØµÙŠØ§Ù†Ø© Ø§Ù„Ø´Ø§Ø´Ø©</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ù‡ÙŠ </font><font style="vertical-align: inherit;">Ø§Ù„Ù…Ù‡Ù…Ø© </font><font style="vertical-align: inherit;">Ø§Ù„Ø£ÙƒØ«Ø± Ø¥Ø«Ø§Ø±Ø© Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù…. Ø¨Ø§Ø¯Ø¦ Ø°ÙŠ Ø¨Ø¯Ø¡ ØŒ ØªØ¨Ù„Øº Ø§Ù„Ø´Ø§Ø´Ø© 320 Ã— 240 Ã— 16 Ø¨Øª ØŒ Ù„Ø°Ù„Ùƒ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">153600 Ø¨Ø§ÙŠØª</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ù„Ù€ Framebuffer. Ù‡Ø°Ø§ Ù„ÙŠØ³ ÙƒØ«ÙŠØ±Ù‹Ø§ ÙØ­Ø³Ø¨ ØŒ Ø¨Ù„ Ø¥Ù†Ù‡ Ø¶Ø®Ù… Ù„Ù„ØºØ§ÙŠØ© - ÙÙŠ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© Ù‡Ø°Ù‡ ÙŠÙˆØ¬Ø¯ 192 ÙƒÙŠÙ„Ùˆ ÙÙ‚Ø· Ù…Ù† Ø°Ø§ÙƒØ±Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ ØŒ ÙˆÙÙŠ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù…Ù† Ø§Ù„Ø£Ø³Ù‡Ù„ Ø£Ù„Ø§ ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚. ÙƒÙŠÙ ØªÙƒÙˆÙ†ØŸ Ø§Ù„Ø¬ÙˆØ§Ø¨ Ø¨Ø³ÙŠØ·: Ø§Ø±Ø³Ù… Ø§Ù„Ø´Ø§Ø´Ø© ÙÙŠ Ø£Ø¬Ø²Ø§Ø¡! ÙˆÙ„ÙƒÙ† ÙŠÙ…ÙƒÙ†Ùƒ Ø±Ø³Ù… Ø´ÙŠØ¡ Ø¨Ø·Ø±Ù‚ Ù…Ø®ØªÙ„ÙØ© ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„Ø­Ù„ Ø§Ù„Ø°ÙŠ ØªÙ‚Ø¯Ù…Øª Ø¨Ù‡ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø© Ù‡Ùˆ Ù…Ø«Ù„ ÙƒÙ„ Ø¹Ø¨Ù‚Ø±ÙŠ. ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø®Ø²Ù† Ù…Ø¤Ù‚Øª Ø¹Ù„Ù‰ Ø®Ø·ÙŠÙ† Ù„Ù„Ø´Ø§Ø´Ø©. ÙÙŠ Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ ØŒ Ù†Ø±Ø³Ù… ÙƒÙ„ Ù…Ø§ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ØŒ Ù†Ø±Ø³Ù„Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø¹Ø¨Ø± SPI ÙÙŠ ÙˆØ¶Ø¹ DMA ØŒ ÙˆÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙˆÙ‚Øª ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø¥Ø¹Ø¯Ø§Ø¯ Ø®Ø· Ø¢Ø®Ø±. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÙƒÙŠÙ ØªØ¹Ø±Ù Ø§Ù„Ù…Ù‡Ù…Ø© Ù…Ø§ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ø³Ø·Ø± ÙˆÙƒÙŠÙ ØªØ±Ø³Ù…Ù‡ØŸ Ù„ÙƒÙ†Ù‡Ø§ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù„Ø§ ØªØ¹Ø±Ù!</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÙˆÙ„ÙƒÙ† Ù„Ø¯ÙŠÙ‡Ø§ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„ØªÙŠ ØªØ¹Ø±Ù ÙƒÙŠÙ ØªØ±Ø³Ù… Ù†ÙØ³Ù‡Ø§. </font><font style="vertical-align: inherit;">ÙƒÙ„ ÙƒØ§Ø¦Ù† Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø¨ÙŠÙ„ Ù…ÙˆØ±ÙˆØ« Ù…Ù† ÙØ¦Ø© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VisObject</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//****************************************************************************** // @file VisObject.h // @author Nicolai Shlapunov // // @details DevCore: Visual Object Base Class, header // // @section LICENSE // // Software License Agreement (BSD License) // // Copyright (c) 2016, Devtronic &amp; Nicolai Shlapunov // All rights reserved. // // Redistribution and use in source and binary forms, with or without // modification, are permitted provided that the following conditions are met: // 1. Redistributions of source code must retain the above copyright // notice, this list of conditions and the following disclaimer. // 2. Redistributions in binary form must reproduce the above copyright // notice, this list of conditions and the following disclaimer in the // documentation and/or other materials provided with the distribution. // 3. Neither the name of the Devtronic nor the names of its contributors // may be used to endorse or promote products derived from this software // without specific prior written permission. // // THIS SOFTWARE IS PROVIDED BY DEVTRONIC ''AS IS'' AND ANY EXPRESS OR IMPLIED // WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF // MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. // IN NO EVENT SHALL DEVTRONIC BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED // TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR // PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY // LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING // NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS // SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. // //****************************************************************************** #ifndef VisObject_h #define VisObject_h // ***************************************************************************** // *** Includes ************************************************************ // ***************************************************************************** #include "DevCfg.h" // ***************************************************************************** // * VisObject class. This class implements base Visual Objects properties. class VisObject { public: // ************************************************************************* // *** Action ********************************************************** // ************************************************************************* typedef enum { ACT_TOUCH, // When object touched ACT_UNTOUCH, // When object detouched ACT_MOVE, // When object moved on object ACT_MOVEIN, // When object moved in to object ACT_MOVEOUT, // When object moved out of object ACT_MAX // Total possible actions } ActionType; // ************************************************************************* // *** VisObject ******************************************************* // ************************************************************************* VisObject() {}; // ************************************************************************* // *** ~VisObject ****************************************************** // ************************************************************************* // * Destructor. Call DelVisObjectFromList() from DisplayDrv class for // * remove from list before delete and delete semaphore. virtual ~VisObject(); // ************************************************************************* // *** LockVisObject *************************************************** // ************************************************************************* void LockVisObject(); // ************************************************************************* // *** UnlockVisObject ************************************************* // ************************************************************************* void UnlockVisObject(); // ************************************************************************* // *** Show ************************************************************ // ************************************************************************* // * Show VisObject on screen. This function call AddVisObjectToList() from // * DisplayDrv class. When this function calls first time, user must // * provide Z level. In future user can call this function without // * parameters - previously set Z will be used. virtual void Show(uint32_t z_pos = 0); // ************************************************************************* // *** Hide ************************************************************ // ************************************************************************* // * Hide VisObject from screen. This function call DelVisObjectFromList() // * from DisplayDrv class. virtual void Hide(void); // ************************************************************************* // *** IsShow ********************************************************** // ************************************************************************* // * Check status of Show Visual Object. Return true if object in DisplayDrv list. virtual bool IsShow(void); // ************************************************************************* // *** Move ************************************************************ // ************************************************************************* // * Move object on screen. Set new x and y coordinates. If flag is set - // * move is relative, not absolute. virtual void Move(int32_t x, int32_t y, bool is_delta = false); // ************************************************************************* // *** DrawInBufH ****************************************************** // ************************************************************************* // * Draw one horizontal line of object in specified buffer. // * Each derived class must implement this function. virtual void DrawInBufH(uint16_t* buf, int32_t n, int32_t row, int32_t start_y = 0) = 0; // ************************************************************************* // *** DrawInBufW ****************************************************** // ************************************************************************* // * Draw one vertical line of object in specified buffer. // * Each derived class must implement this function. virtual void DrawInBufW(uint16_t* buf, int32_t n, int32_t line, int32_t start_x = 0) = 0; // ************************************************************************* // *** Action ********************************************************** // ************************************************************************* virtual void Action(ActionType action, int32_t tx, int32_t ty); // ************************************************************************* // *** Return Start X coordinate *************************************** // ************************************************************************* virtual int32_t GetStartX(void) {return x_start;}; // ************************************************************************* // *** Return Start Y coordinate *************************************** // ************************************************************************* virtual int32_t GetStartY(void) {return y_start;}; // ************************************************************************* // *** Return End X coordinate ***************************************** // ************************************************************************* virtual int32_t GetEndX(void) {return x_end;}; // ************************************************************************* // *** Return End Y coordinate ***************************************** // ************************************************************************* virtual int32_t GetEndY(void) {return y_end;}; // ************************************************************************* // *** Return Width of object ****************************************** // ************************************************************************* virtual int32_t GetWidth(void) {return width;}; // ************************************************************************* // *** Return Height of object ***************************************** // ************************************************************************* virtual int32_t GetHeight(void) {return height;}; protected: // ************************************************************************* // *** Object parameters *********************************************** // ************************************************************************* // X and Y start coordinates of object int16_t x_start = 0, y_start = 0; // X and Y end coordinates of object int16_t x_end = 0, y_end = 0; // Width and Height of object int16_t width = 0, height = 0; // Rotation of object int8_t rotation = 0; // Object active bool active = false; private: // ************************************************************************* // *** Object parameters *********************************************** // ************************************************************************* // * Only base class and DisplayDrv have access to this parameters // Z position of object uint16_t z = 0; // Pointer to next object. This pointer need to maker object list. Object // can be added only to one list. VisObject* p_next = nullptr; // Pointer to next object. This pointer need to maker object list. Object // can be added only to one list. VisObject* p_prev = nullptr; // DisplayDrv is friend for access to pointers and Z friend class DisplayDrv; }; #endif</span></span></code> </pre> </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ØªÙ…Ø± Ù…Ù‡Ù…Ø© ØµÙŠØ§Ù†Ø© Ø§Ù„Ø´Ø§Ø´Ø© Ù„ÙƒÙ„ Ø³Ø·Ø± Ù…Ù† Ø®Ù„Ø§Ù„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª ÙˆØªØ³ØªØ¯Ø¹ÙŠ ÙˆØ¸ÙŠÙØ© DrawInBufW () ØŒ ÙˆØªÙ…Ø±ÙŠØ±Ù‡Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ù…Ø¤Ù‚Øª ØŒ ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ù†Ù‚Ø§Ø· ØŒ ÙˆØ§Ù„Ø®Ø· Ø§Ù„Ù…Ø±Ø§Ø¯ Ø±Ø³Ù…Ù‡ ÙˆÙ…ÙˆØ¶Ø¹ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø­ØªÙ‰ ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙƒØ±Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ¶Ø¹ ÙˆØ­Ø¯Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø´Ø§Ø´Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø§ÙØ°Ø©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ ØŒ ÙƒÙ„ ÙƒØ§Ø¦Ù† ÙŠØ±Ø³Ù… Ù†ÙØ³Ù‡ ÙÙˆÙ‚ Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ Ø§Ù„Ù…Ø±Ø³ÙˆÙ…Ø© Ø¨Ø§Ù„ÙØ¹Ù„ ÙˆÙ…Ù† Ø§Ù„Ø³Ù‡Ù„ ØªØ±ØªÙŠØ¨ Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø¨Ø¨Ø³Ø§Ø·Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚ ÙˆØ¶Ø¹Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„Ùƒ ØŒ ÙØ¥Ù† Ù‡Ø°Ø§ Ø§Ù„Ù†Ù‡Ø¬ ÙŠØ¬Ø¹Ù„ Ù…Ù† Ø§Ù„Ø³Ù‡Ù„ Ø¯Ù…Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© - Ø¨Ø¹Ø¯ ØªÙ„Ù‚ÙŠ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ù…Ù† ÙˆØ­Ø¯Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„ Ø¨Ø§Ù„Ù„Ù…Ø³ ØŒ ÙŠÙ…ÙƒÙ† Ù„Ù…Ù‡Ù…Ø© ØµÙŠØ§Ù†Ø© Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù…Ù† Ø®Ù„Ø§Ù„ ÙˆØ±Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„ Ù…Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø¨Ø­Ø«Ù‹Ø§ Ø¹Ù† Ø§Ù„ÙƒØ§Ø¦Ù† Ø§Ù„Ù†Ø´Ø· Ø§Ù„Ø°ÙŠ ÙŠÙ‚Ø¹ ÙÙŠ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø¶ØºØ·. Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø«Ù„ Ù‡Ø°Ø§ Ø§Ù„ÙƒØ§Ø¦Ù† ØŒ ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Action () Ù„Ù„ÙƒØ§Ø¦Ù† Ø§Ù„Ù…Ø­Ø¯Ø¯.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ ØŒ Ù‡Ù†Ø§Ùƒ ÙƒØ§Ø¦Ù†Ø§Øª Ù„Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø¨Ø¯Ø§Ø¦ÙŠØ© ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„Ø®Ø· ÙˆØ§Ù„Ù…Ø±Ø¨Ø¹ ÙˆØ§Ù„Ø¯Ø§Ø¦Ø±Ø©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ÙˆØ§Ù„ØµÙˆØ± ÙˆØ®Ø±Ø§Ø¦Ø· Ø§Ù„Ø¨Ù„Ø§Ø· ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø£ÙŠØ¶Ø§ ÙÙŠ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DevCore</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ÙŠØ¯Ø®Ù„ Ø±Ù…Ø² Ø¢Ø®Ø± Ù„Ø¨Ø¹Ø¶ Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù…Ø«Ù„ Ù‚Ø§Ø¦Ù…Ø©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )ØŒ ÙˆØ§Ø¬Ù‡Ø© Ù„Ù„Ø³Ø§Ø¦Ù‚ I2CØŒ Ø³Ø§Ø¦Ù‚ I2C ÙˆØ§Ù„Ù…ÙƒØªØ¨Ø§Øª Ù„Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø¬Ù‡Ø§Ø² Ø§Ø³ØªØ´Ø¹Ø§Ø± BME280 ÙˆEEPROM 24S256ØŒ ÙˆÙ„ÙƒÙ†Ù‡Ø§ Ù„ÙŠØ³Øª Ù…Ø«ÙŠØ±Ø© Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ù„Ø°Ù„ÙƒØŒ ÙˆØ¨Ø¹Ø¯ ÙˆØ£Ù†Ø§ Ù„Ù† ÙˆØµÙ - ÙˆØ§ØªØ¶Ø­ ÙƒØ¨ÙŠØ±Ø© Ø¬Ø¯Ø§ . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§Ù…Ù„ Ù…ØªØ§Ø­ </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø¨Ø¯ÙˆÙ† ØªØ³Ø¬ÙŠÙ„ ÙˆØ±Ø³Ø§Ø¦Ù„ Ù†ØµÙŠØ© Ù‚ØµÙŠØ±Ø©</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ø¹Ù„Ù‰ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/nickshl/devboy </font></font></a> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ÙŠØ¨Ø¯Ùˆ Ø£Ù† Ø§Ù„Ø´Ø±ÙƒØ© ØªØ°Ù‡Ø¨ Ø¥Ù„Ù‰ Epic Fail. ÙÙŠ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£ÙˆÙ„ ØŒ Ø«Ù„Ø§Ø«Ø© Ø®Ø¨Ø§Ø²ÙŠÙ† ÙÙ‚Ø· ØŒ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø¯ÙˆÙ„Ø§Ø± Ù…Ù† Ù†ÙˆØ¹ Ù…Ø§ Ù…Ù† " </font><i><font style="vertical-align: inherit;">ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±</font></i><font style="vertical-align: inherit;"> "</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"ØŒ 180 Ø¯ÙˆÙ„Ø§Ø±Ù‹Ø§ Ù…Ù† Ø´Ø®Øµ Ø±Ø¨Ù…Ø§ ØªØ¹Ù„Ù… Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ù† Ù…Ù‚Ø§Ù„ Ø¹Ù† Ø­Ø¨Ø±ÙŠ ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ ØŒ Ø£Ù†Ø¯Ø±ÙŠ!</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ÙˆØ§Ù„Ø¨Ø§Ù‚ÙŠ Ù…Ù† Ø²Ù…ÙŠÙ„ÙŠ Ù…Ù† Ù…ÙƒØ¹Ø¨ Ù…Ø¬Ø§ÙˆØ±. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø¹Ø¯Ù… Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø§Ù„ Ù„ÙŠØ³ Ù…Ø´ÙƒÙ„Ø©. Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ù‡ÙŠ Ø¹Ø¯Ù… Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ...</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar424309/">https://habr.com/ru/post/ar424309/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar424295/index.html">Ø¯ÙˆØ±Ø© Ù…Ø¹Ù‡Ø¯ Ù…Ø§Ø³Ø§ØªØ´ÙˆØ³ØªØ³ Ù„Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ "Ø£Ù…Ù† Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±". Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 9: "Ø£Ù…Ø§Ù† ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ÙˆÙŠØ¨" ØŒ Ø§Ù„Ø¬Ø²Ø¡ 2</a></li>
<li><a href="../ar424297/index.html">Ø¯ÙˆØ±Ø© Ù…Ø¹Ù‡Ø¯ Ù…Ø§Ø³Ø§ØªØ´ÙˆØ³ØªØ³ Ù„Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ "Ø£Ù…Ù† Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±". Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 9: Ø£Ù…Ù† ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ÙˆÙŠØ¨ ØŒ Ø§Ù„Ø¬Ø²Ø¡ 3</a></li>
<li><a href="../ar424301/index.html">Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© ØªØµÙÙŠØ© ØµÙˆØ±Ø© Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø¹ØµØ¨ÙŠØ© Ø§Ù„ØªÙƒÙŠÙÙŠØ©</a></li>
<li><a href="../ar424305/index.html">Ribs Ù„Ù„Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„ Ø¹Ø¨Ø± Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ù† Uber</a></li>
<li><a href="../ar424307/index.html">ØªÙ… Ø¥ØµØ¯Ø§Ø± GitLab 11.3 Ù…Ø¹ Ù…Ø³ØªÙˆØ¯Ø¹ Maven ÙˆØ§Ù„Ø¨ÙŠØ¦Ø§Øª Ø§Ù„Ø¢Ù…Ù†Ø©</a></li>
<li><a href="../ar424311/index.html">Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ØºÙŠØ± Ø§Ù„Ù…ØªØ²Ø§Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø£ÙŠØ§Ù…</a></li>
<li><a href="../ar424313/index.html">EveryLang Ù‡Ùˆ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨ÙƒÙ„ Ø´ÙŠØ¡ ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§</a></li>
<li><a href="../ar424315/index.html">Ø¬ÙˆÙ„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„ÙˆØ§Ø±Ø¯Ø§Øª. Ø£ÙŠÙ† ØªØ°Ù‡Ø¨ ÙˆÙ…Ø§Ø°Ø§ ØªÙØ¹Ù„ØŸ</a></li>
<li><a href="../ar424319/index.html">Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…ØªØ¬Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª. Ø§Ù„Ø¬Ø²Ø¡ 2</a></li>
<li><a href="../ar424321/index.html">ÙˆØ¶Ø¹ NetFlow Ø±Ø®ÙŠØµØ© ÙˆØºØ§Ø¶Ø¨</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>