<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë¶üèª üë®üèº‚Äçü§ù‚Äçüë®üèª ‚ôæ Erste Schritte mit Google Analytics: App + Web üèÇüèº üç† üòÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Google hat k√ºrzlich eine neue Version von Google Analytics mit dem Namen App + Web ver√∂ffentlicht . Simo Ahab hat bereits eine hervorragende Schritt-f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erste Schritte mit Google Analytics: App + Web</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463143/">  Google hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">k√ºrzlich eine</a> neue Version von Google Analytics mit dem Namen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">App + Web ver√∂ffentlicht</a> .  Simo Ahab hat bereits eine hervorragende Schritt-f√ºr-Schritt-Anleitung f√ºr die Arbeit mit dem Tool geschrieben. Deshalb habe ich beschlossen, es ins Russische zu √ºbersetzen.  Ich selbst m√∂chte hinzuf√ºgen, dass das Produkt gerade in der Beta-Phase erschienen ist und anscheinend noch im Wesentlichen fertiggestellt sein wird.  Wir haben bereits begonnen, die neue Datenstruktur und die Funktionen der integrierten Datenexportfunktion in Google BigQuery zu testen, und hoffen, Ihnen bald mehr √ºber die Vor- und Nachteile erz√§hlen zu k√∂nnen.  Im Allgemeinen bewerten Analysten Innovationen heute positiv.  Zum Beispiel ist Vlad Flax von OWOX BI der Ansicht, dass Google mit diesem Update das Sammeln und √úbermitteln von Daten von Google Analytics an BigQuery f√ºr Projekte vereinfacht hat, die bereit sind, die Struktur ihrer Daten zu √§ndern.  Dar√ºber hinaus bietet es Google BigQuery einen Mehrwert als DWH f√ºr Marketingdaten. <a name="habracut"></a><br><br>  Unten finden Sie eine √úbersetzung von Simos Artikel mit seinen Bewertungen und Eindr√ºcken seiner Verwendung. <br><br>  Trotz des unangenehmen Titels ist es ein wirklich gro√üartiges Tool f√ºr alle Ziele von Google Analytics V2 oder Firebase Analytics for Web.  Hier geht es nicht um die charmante M√∂glichkeit, zusammenfassende Berichte zwischen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Google Analytics f√ºr Firebase</a> und Universal Analytics zu erstellen oder um Universal Analytics zu verbessern. <br><br>  Nein, es handelt sich um ein neues Modell zur Messung des Webverkehrs, das gut mit Google Analytics f√ºr Firebase funktioniert. <br><br>  Dies ist immer noch ein etwas unpoliertes Produkt, und die Dokumentation fehlt noch ein wenig. Daher dachte ich, ich w√ºrde Ihnen einen Vorteil verschaffen und zeigen, wie Sie die Datenerfassung mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Google Tag Manager</a> einrichten.  Ich beabsichtige, eine vollst√§ndige, ordnungsgem√§√üe und umfassende Anleitung zu ver√∂ffentlichen, sobald die Funktion den Betatest verl√§sst.  Trotzdem soll dieser Artikel denjenigen von Ihnen helfen, die bereits alle neuen Funktionen und interessanten Dinge ausprobieren m√∂chten. <br><br>  Der Name Google Analytics: App + Web ist etwas umst√§ndlich.  Es scheint mir, dass dies nur eine Frage der Zeit ist, wann wir es Firebase f√ºr das Web oder so etwas nennen werden, denn das ist es im Wesentlichen.  In diesem Artikel werde ich es GAv2 an den Stellen nennen, an denen ich den Namen nur ungern vollst√§ndig eingeben werde (ja, ich bin faul). <br><br><img src="https://habrastorage.org/webt/n2/8n/g4/n28ng4pnp0xw7zhsw9myfhx3a0o.jpeg"><br><br>  Bevor Sie beginnen, √∂ffnen Sie Crista Seydens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wundervollen Blog</a> in einem neuen Tab und achten Sie besonders auf die drei Artikel, die sie √ºber die Berichtsfunktionen von Google Analytics ver√∂ffentlicht hat: App + Web. <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Neue App + Web-Eigenschaften in Google Analytics</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pfad in Google Analytics</a> </li><li>  <a href="">Streamview in Google Analytics</a> . </li></ol><br>  <i>UPDATE: Unmittelbar nachdem ich diesen Artikel ver√∂ffentlicht habe, hat Krista einen weiteren gro√üartigen Leitfaden ver√∂ffentlicht, und das Tolle ist, dass er diesen erg√§nzt, da er die Schritte zum Erstellen eines Firebase-Projekts ausf√ºhrlicher behandelt.</i>  <i>√úberpr√ºfen Sie im Allgemeinen Folgendes: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schrittweise Einrichtung von App + Web</a> .</i> <br><br>  Ich beginne mit ein paar einleitenden Worten. Wenn Sie m√∂chten, √ºberspringen Sie sie einfach und fahren Sie direkt mit den Implementierungsschritten fort. <br><br><h3>  Warnungen </h3><br>  Zun√§chst befindet sich Google Analytics: App + Web im <b>Beta-</b> Test.  Dies bedeutet, dass es noch nicht vollst√§ndig fertig ist.  Im Ernst, es ist noch nicht fertig.  Viele der Dinge, die mir jetzt den Kopf zerbrechen, werden zweifellos irgendwann auf die Plattform fallen, und die Antworten auf viele Fragen, die Sie haben werden, werden h√∂chstwahrscheinlich in zuk√ºnftigen Versionen gegeben. <br><br>  Hier sind einige Punkte, die ich in der Berichtsoberfl√§che und in den Einstellungen von Google Tag Manager gefunden habe: <br><br><ul><li>  Keine speziellen Berichte wie Site Search Report oder E-Commerce </li><li>  Es gibt keine M√∂glichkeit, zwischen automatisch erfassten, empfohlenen und benutzerdefinierten Ereignissen in der Benutzeroberfl√§che f√ºr Benutzerberichte zu unterscheiden. </li><li>  Sie k√∂nnen die Benutzerressource konfigurieren (siehe unten). </li><li>  Bei Verwendung von GTM ist es in Google Analytics nicht m√∂glich, Elementen ein Array (oder ein anderes mehrdimensionales Objekt) als Ereignisparameter zu senden. </li><li>  Das Festlegen konstanter Werte im Konfigurations-Tag in GTM scheint unm√∂glich zu sein. </li><li>  Sie k√∂nnen vorhandene Firebase Analytics-Ressourcen gem√§√ü <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem Supportdokument</a> aktualisieren.  Wenn Sie eine Ressource in Google Analytics √∂ffnen (vorausgesetzt, Sie haben diese Ressource in Google Analytics verkn√ºpft), wird oben auf dem Bildschirm ein blaues Banner angezeigt, das Sie zur Aktualisierung auffordert. </li></ul><br>  Folgen Sie unbedingt dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offiziellen Blog</a> sowie Kristas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blog</a> , da diese zu Ihren Zauberst√§ben werden, um weitere Informationen zu erhalten, einschlie√ülich Fragen zu den in diesem Kapitel aufgef√ºhrten Problemen. <br><br><img src="https://habrastorage.org/webt/mp/g3/bu/mpg3bujaubzo9qnva_gpt1j2yao.jpeg"><br><br>  Und schlie√ülich der offensichtliche Punkt.  <b>Dies ist keine Universal Analytics</b> .  Viele der Dinge, die Sie in Universal Analytics gewohnt sind, sind nicht in Firebase enthalten.  Pers√∂nlich hoffe ich, dass die Parit√§t der Funktionalit√§t gleich um die Ecke ist, denn jetzt hat Google die Chance, etwas Neues und Besseres zu schaffen.  Aber wir alle m√∂chten nat√ºrlich, dass diese Plattform irgendwann Universal Analytics ersetzt. Daher sollte sie zumindest in denselben Anwendungsf√§llen n√ºtzlich sein. <br><br>  Hier meiner Meinung nach die Hauptunterschiede zwischen Universal Analytics und der neuen Plattform. <br><br>  <b>Universal Analytics:</b> <br>  Alles basiert auf dem Konzept einer Sitzung <br>  Benutzerdefinierte Definitionen f√ºr Treffer-, Sitzungs- und Benutzerbereiche. <br>  Oberfl√§chenberichte in Echtzeit. <br>  Segmente. <br>  Keine semantische Strukturierung. <br>  Ziemlich g√ºnstige Quoten und Grenzen (mit Ausnahme der Stichprobe). <br><br>  <b>Google Analytics V2:</b> <br>  Alles dreht sich um die Konzepte "Benutzer" und "Ereignis" <br>  Benutzerdefinierte Eigenschaften und benutzerdefinierte Ereignisparameter <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">StreamView und DebugView</a> bieten detailliertere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Informationen</a> . <br>  Das Publikum. <br>  Automatisch gesammelte und empfohlene Ereignisse. <br>  Strenge <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quoten und Beschr√§nkungen</a> (ohne Stichproben). <br><br>  Einschr√§nkungen sind im Vergleich zu Universal Analytics besonders schmerzhaft. <br><br>  Ich bin mir auf jeden Fall sicher, dass diese Probleme behoben werden, bevor Google Analytics: App + Web aus dem Betatest hervorgeht. Eines ist jedoch sicher: <b>Dies ist nicht Universal Analytics</b> .  Betrachten Sie das neue Messmodell als Gelegenheit, √ºber das hinauszugehen, was Universal Analytics jemals bieten k√∂nnte, und nicht nur als M√∂glichkeit, das alte GA-Datenmodell zu f√ºllen. <br><br>  Aufgrund dieser Warnungen <b>empfehle ich dringend, die Erfassung von Daten in Universal Analytics zu beenden und Daten ausschlie√ülich in Google Analytics: App + Web zu erfassen</b> .  In jedem Fall ist es besser, dieses neue Messmodell parallel zu jeder Einstellung auszuf√ºhren, die sich bereits auf der Site befand, damit Sie die Parit√§t zwischen den beiden Datens√§tzen vergleichen k√∂nnen. <br><br><h3>  Neue Analytics-Einstellungen erstellen: App + Web </h3><br>  Um eine neue Google Analytics-Eigenschaft zu erstellen: App + Web, m√ºssen Sie folgende Schritte ausf√ºhren: <br><br>  <b>Beachten Sie!</b>  Aufgrund der ver√∂ffentlichten Dokumentation ist es wahrscheinlich, dass diese Schritte in Zukunft erheblich vereinfacht werden. <br><br><h3>  Schritt 1: Erstellen Sie ein neues Firebase-Projekt </h3><br>  Gehen Sie zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Firebase-Konsole</a> und erstellen Sie ein neues Projekt.  Dies ist das Basis-Firebase-Projekt f√ºr Ihr neues Setup. <br><br><img src="https://habrastorage.org/webt/3b/3v/yn/3b3vynm7uvhajdryv-x5lbugtze.jpeg"><br><br>  Geben Sie dem Projekt einen Namen und eine ID (die ID muss eindeutig sein, sie wird basierend auf dem Namen des Projekts generiert). <br><br>  Lesen und akzeptieren Sie die Firebase-Bedingungen und klicken Sie dann auf Weiter. <br><br><img src="https://habrastorage.org/webt/ef/hv/tz/efhvtzmljd3aumtxmioqduqtfpo.jpeg"><br><br>  Stellen Sie im n√§chsten Schritt sicher, dass das Kontrollk√§stchen "Google Analytics f√ºr mein Projekt einrichten" aktiviert ist, und klicken Sie auf "Weiter". <br><br><img src="https://habrastorage.org/webt/wt/4j/ps/wt4jps7l5yylvdsqaesf0yv1gji.jpeg"><br><br>  Je nachdem, ob Sie bereits √ºber Google-Konten verf√ºgen oder nicht, k√∂nnen Sie jetzt ausw√§hlen, in welchem ‚Äã‚ÄãKonto die Ressource erstellt werden soll, oder ein neues Konto als Ganzes erstellen.  Wenn Ihrem Login keine Google Analytics-Konten zugeordnet sind, m√ºssen Sie die GA-Nutzungsbedingungen akzeptieren. Anschlie√üend werden ein neues Konto und eine neue Ressource f√ºr Sie erstellt. <br><br><img src="https://habrastorage.org/webt/d9/bz/f-/d9bzf-tavmmbmyjqpm03sob2nec.jpeg"><br><br>  Nachdem Sie auf <b>Projekt erstellen geklickt haben</b> und die Verarbeitung abgeschlossen ist, k√∂nnen Sie zu Google Analytics gehen und die neue App + Webressource in Ihrem ausgew√§hlten Konto suchen. <br><br><img src="https://habrastorage.org/webt/bp/js/y_/bpjsy_kg-eccdxlagnoqgpkgnny.jpeg"><br><br><h3>  Schritt 2. Erstellen Sie einen neuen Webstream </h3><br>  Das neue Messmodell dreht sich um <b>Streams</b> , die von Ihren Anwendungen (iOS und Android) oder aus dem Internet stammen k√∂nnen.  Ich hoffe, dass wir in Zukunft neue Streams sehen werden, wie das "Messprotokoll", das HTTP-Anfragen von jedem mit dem Internet verbundenen Ger√§t akzeptiert. <br><br>  <b>W√§hlen Sie</b> in beiden F√§llen die Option <b>Datenstr√∂me</b> in der Ressourcenspalte und dann <b>Web</b> . <br><br><img src="https://habrastorage.org/webt/ou/wv/1g/ouwv1guhselkp0mda09ag4dzxyq.jpeg"><br><br>  Geben Sie zum Konfigurieren eines Streams die URL Ihrer Site ein und geben Sie dem Stream einen beschreibenden Namen.  Klicken Sie dann auf das kleine Zahnrad, um die erweiterte Messung einzurichten. <br><br><img src="https://habrastorage.org/webt/r6/tn/nl/r6tnnlyvn6s7tvdq4lo254hje7w.jpeg"><br><br>  Enhanced Measurement f√ºgt der Site im Wesentlichen einige automatische Verfolgungsfunktionen hinzu, die beim <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erstellen des Basiskonfigurations-</a> Tags aktiviert werden. <br><br><img src="https://habrastorage.org/webt/gy/kv/lh/gykvlhuh7mitdzp-v_o3eyg0cy4.jpeg"><br><br>  Die Liste der Dinge, die automatisch verfolgt werden k√∂nnen, ist ziemlich klar und in der Konfiguration f√ºr erweiterte Messungen gut erkl√§rt (siehe Abbildung oben). <br><br>  Wenn Sie fertig sind, erstellen Sie einen Datenstrom und Sie sehen eine Reihe von Markierungsanweisungen und anderen Punkten auf dem Bildschirm.  Das Wichtigste ist die Mess-ID.  Lassen Sie diese Registerkarte ge√∂ffnet, damit Sie bei Bedarf Dimensions-IDs in Google Tag Manager-Tags kopieren k√∂nnen. <br><br><img src="https://habrastorage.org/webt/xw/mt/pg/xwmtpgjlosplxdl0mvikm14gg-y.jpeg"><br><br>  Bist du fertig  Ok, jetzt gehen wir zum Google Tag Manager. <br><br><h3>  Erstellen Sie ein grundlegendes Konfigurations-Tag </h3><br>  Wenn Sie im Google Tag Manager ein neues Tag erstellen, werden im Selektor zwei neue Tag-Vorlagen angezeigt. <br><br><img src="https://habrastorage.org/webt/uw/fa/n-/uwfan-erdvibiojmzalem4bptsq.jpeg"><br><br>  Google Analytics: App + Web Configuration √§hnelt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dem Befehl</a> <code>config</code> der in der Implementierung von <code>gtag.js</code> .  Sie verwenden es, um den Tracker zu konfigurieren, einen ersten Seitenaufruf zu senden und konstante Werte f√ºr alle Ihre Ereignisse festzulegen. <br><br>  Wenn Sie die Vorlage √∂ffnen, werden Sie sicherlich nicht von vielen Optionen begr√º√üt.  Tats√§chlich haben Sie ein Feld zum Bestimmen der Mess-ID, einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schalter</a> zum Ausw√§hlen, ob der erste Seitenaufruf gesendet werden soll oder nicht, und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konfigurationsfelder</a> , die Sie im Tag festlegen k√∂nnen. <br><br><img src="https://habrastorage.org/webt/lb/7b/od/lb7bodf5qbqg4xwpbnslhqt61rs.jpeg"><br><br>  Um das Basis-Tag zu konfigurieren, geben Sie es im Feld Mess-ID aus dem im vorherigen Teil erstellten Web-Stream an.  Sie k√∂nnen im Feld <code>user_id</code> einen Wert <code>user_id</code> , der der Benutzerauthentifizierungs-ID zugeordnet ist, falls Sie den Weg f√ºr die Messung zwischen Ger√§ten und Anwendungen ebnen m√∂chten. <br><br>  Gem√§√ü der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> sollten Sie in der Lage sein, alle Ereignisparameter in den Feldern zu definieren, die f√ºr das Konfigurations-Tag festgelegt werden sollen, wenn diese Ereignisparameter bei jedem nachfolgenden Aufruf gesendet werden sollen, der dieselbe Dimensions-ID verwendet.  Leider scheint dies zum Zeitpunkt des Schreibens nicht zu funktionieren. <br><br><h3>  Legen Sie benutzerdefinierte Eigenschaften fest </h3><br>  Um Benutzereigenschaften festzulegen, m√ºssen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diese zuerst</a> in der Berichtsoberfl√§che <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erstellen</a> . <br><br><img src="https://habrastorage.org/webt/vf/_g/k3/vf_gk3ltoh6kpmfwcmlx9ydqyhi.jpeg"><br><br>  Gehen Sie als N√§chstes in Ihrer Konfiguration zu Zu setzende Felder und f√ºgen Sie ein neues Feld hinzu.  Der Feldname muss <code>user_properties</code> . <br><br><img src="https://habrastorage.org/webt/vs/w7/8e/vsw78exc-nrgoxryhiecqkaf0vu.jpeg"><br><br>  Sie m√ºssen eine benutzerdefinierte JavaScript-Variable (oder eine benutzerdefinierte Variablenvorlage) als Feldwert verwenden, die ein Objekt zur√ºckgibt, bei dem jeder Schl√ºssel des Objekts dem Namen der Benutzereigenschaft entspricht, den Sie in der Berichtsoberfl√§che erstellt haben, und der Wert dem entspricht, den Sie als benutzerdefinierte Eigenschaft senden m√∂chten in Frage. <br><br>  Um beispielsweise die Eigenschaft <code>user_type</code> (siehe <code>user_type</code> oben), kann ich eine benutzerdefinierte JavaScript-Variable erstellen, die folgenderma√üen aussieht: <br><br><pre> <code class="plaintext hljs">"function() { return { user_type: 'Premium user' }; }"</code> </pre><br>  Anschlie√üend m√ºssen Sie diese Variable als Wert des <code>user_properties</code> im Konfigurations-Tag hinzuf√ºgen. <br><br>  Eine alternative Methode ist die Verwendung einer benutzerdefinierten Variablenvorlage (siehe mein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Handbuch,</a> wenn Sie sich nicht an die Benutzervorlagen erinnern).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist die Vorlage, die</a> ich erstellt habe, um das Benutzereigenschaftsobjekt zur√ºckzugeben.  Sie k√∂nnen damit eine Variable erstellen, in der Sie einzelne Schl√ºssel und Benutzereigenschaftswerte festlegen und diese Variable dann als Wert des Schl√ºssels <code>user_properties</code> im Konfigurations-Tag <code>user_properties</code> . <br><br><img src="https://habrastorage.org/webt/rx/zl/1o/rxzl1oz2kciqbzjd2zxdad4pbo8.jpeg"><br><br>  Nachdem Sie das Konfigurations-Tag erstellt haben, aktivieren Sie es mit dem Schalter Alle Seiten und rufen Sie den Vorschaumodus auf.  Mal sehen, wie dieses neue Messmodell auf einer Website funktioniert! <br><br><h3>  Testen! </h3><br>  Wenn Sie die Website besuchen und den Vorschau-Container herunterladen, √∂ffnen Sie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Entwicklertools</a> Ihres Browsers und sehen Sie sich die von GAv2 verwendeten Cookies an. <br><br><img src="https://habrastorage.org/webt/kl/ab/xo/klabxouaktnaphimbe0wwk5zvik.jpeg"><br><br>  Das <code>cookie _ga</code> fast dasselbe wie Universal Analytics, mit einem kleinen Unterschied.  Das _ga-Cookie codiert die Anzahl der Teile der Dom√§ne im Cookie-Wert als die Nummer nach <code>GA1</code> .  Wenn beispielsweise ein Cookie auf simoahava.com geschrieben wird, besteht die Domain aus zwei Teilen, und das Cookie-Pr√§fix lautet GA1.2. <br><br>  Bei GAv2 entspricht dies jedoch nicht der Verwendung des Standardwerts <code>cookie_domain</code> (automatische Konfiguration). <br>  Ich denke, dies kann eine Auslassung sein, als ob Sie die Domain manuell einstellen, zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.simoahava.com</a> , das Cookie hat die √ºbliche GA1.3.  Pr√§fix. <br><br>  Ein anderes <code>cookie, _ga_MEASUREMENT-ID **</code> , scheint den Sitzungsstatus zu unterst√ºtzen.  Die erste lange Zahl ist der Zeitstempel (in Sekunden), als das Cookie erstellt wurde, und die zweitl√§ngste Zahl ist der Zeitstempel, als der letzte Treffer an GA gesendet wurde. <br><br>  Mit anderen Worten, es scheint, dass GAv2 zumindest verfolgt, ob die Sitzung derzeit aktiv ist.  Es bleibt abzuwarten, ob die clientseitige Persistenz in gr√∂√üerem Umfang f√ºr Sitzungsinformationen verwendet wird und ob dieses Cookie zur Bestimmung des Sitzungsstatus in einem Webbrowser verwendet werden kann. <br><br>  JavaScript wird f√ºr Cookies verwendet, daher sind sie von Ma√ünahmen zur Verringerung der Leistung von Cookies auf der Clientseite betroffen, z. B. von Safari's Intelligent Tracking Prevention. <br><br>  Folgen Sie dann den vom Browser gesendeten Webanfragen oder verwenden Sie die Google Analytics-Debugger-Erweiterung, um zu sehen, wie die Bibliothek Treffer an Google Analytics sendet. <br><br><img src="https://habrastorage.org/webt/vi/os/2q/vios2qqoxfidrj52xjdesfbcthq.jpeg"><br><br>  Zun√§chst k√∂nnen Sie sehen, dass die Anforderung an den vertrauten Endpunkt <code>/collect</code> gesendet wird, au√üer dass sie sich stattdessen im Pfad / g / befindet. <br><br>  Der Anforderungstyp ist POST, und der Endpunkt ist immer noch ein Bildpixel.  Mit anderen Worten, der Treffer scheint standardm√§√üig die Beacon-API zu verwenden. Dies ist eine gro√üe Verbesserung f√ºr Universal Analytics, bei der Sie diese Funktion manuell aktivieren mussten. <br><br>  Die Beacon-API sch√ºtzt asynchrone Anforderungen, die beim Entladen der Seite gesendet werden, sodass sie auch bei geschlossenem Browser ausgef√ºhrt werden k√∂nnen.  Dies vermeidet das m√ºhsame √úberspringen von Anrufen (z. B. Ereignisse, die mit einem Klick auf einen Link verbunden sind), da der Benutzer die Seite verlassen hat, bevor die Anforderung abgeschlossen wurde. <br><br><img src="https://habrastorage.org/webt/-9/au/c2/-9auc2solqzij8-nmq_pshjgvxk.jpeg"><br><br>  Wenn Sie sich die an GA gesendeten tats√§chlichen Parameter ansehen, gibt es hier viele bekannte Dinge, wenn Sie sich daran erinnern, wie die Messprotokollanforderungen erstellt wurden. <br>  Der Parameter <code>v</code> hat den Wert 2, w√§hrend er in Universal Analytics 1 ist. Dies ist die Protokollversion. <br>  Der Parameter <code>tid</code> wird auf Ihre Dimensions-ID gesetzt. <br>  Der Parameter <code>gtm</code> aus der ID Ihres GTM-Containers gehasht. <br>  Der Parameter <code>cid</code> ist die Client- <code>cookie _ga</code> gespeichert ist. <br><br>  Weitere Optionen, die praktisch unver√§ndert geblieben sind, sind <code>uid</code> (Benutzer-ID), dl / dr / dt (Dokumentmetadaten) und <code>sr</code> (Bildschirmaufl√∂sung). <br><br>  Es gibt keine Trefferartdimension mehr, stattdessen wird der Parameter en (Ereignisname) verwendet, um verschiedene Arten von Treffern voneinander zu unterscheiden.  Dies ist der Hauptunterschied zu Universal Analytics, da Sie in GAv2 einen einzigen Ereignisstrom haben, bei dem die Ereignisparameter, die Sie zusammen mit dem Namen des Ereignisses senden, bestimmen, wie die Daten in den Berichten angezeigt werden. <br><br>  Ereignisparametern wird ep vorangestellt.  oder epn.  f√ºr Textparameter bzw. numerische Parameter.  Im Screenshot habe ich einen Ereignisparameter mit dem Namen country erstellt und auf US gesetzt. <br><br>  Den Benutzereigenschaften wird up vorangestellt.  oder upn.  f√ºr benutzerdefinierte Eigenschaften im Text- bzw. Zahlenformat.  Der Screenshot zeigt eine <code>user_type</code> des Benutzers mit dem Namen <code>user_type</code> , die auf Premium user festgelegt ist. <br>  Schlie√ülich scheint der Parameter sid den Zeitstempel zu enthalten, als die aktuelle Sitzung gestartet wurde (entnommen aus dem <code>cookie _ga_MEASUREMENT-ID</code> ). <br><br>  Es ist noch unklar, was die anderen Optionen tun. <br><br>  Eine Sache, die Sie m√∂glicherweise bemerken, ist die Verz√∂gerung beim Senden des Treffers.  Wenn Sie die Seite laden, k√∂nnen Sie sehen, wie der Browser einige Sekunden wartet, bevor er den Treffer an GA sendet.  Dies liegt an der Tatsache, dass GAv2 Anforderungen automatisch gruppiert, was wiederum ein gro√üartiges Feature-Update darstellt. <br><br>  Durch die B√ºndelung mehrerer Treffer in einer einzigen Anfrage werden Browser-Ressourcen f√ºr andere Zwecke gespeichert.  Die Verz√∂gerung ist darauf zur√ºckzuf√ºhren, dass der Browser darauf wartet, dass andere Treffer zusammen mit dem Seitenaufruf gesendet werden. <br><br>  Lesen Sie vor dem Erstellen Ihres ersten Ereignistags, wie die erweiterte Messung funktioniert.  Scrollen Sie zun√§chst bis zum Ende der aktuellen Seite und sehen Sie sich das an Google Analytics gesendete Ereignis an. <br><br><img src="https://habrastorage.org/webt/6g/cv/uy/6gcvuyafq8jicmqyvmiupnlcpoa.jpeg"><br><br>  Klicken Sie dann auf den Link, der von Ihrer Site f√ºhrt (verwenden Sie STRG / CMD + Klicken, um ihn in einem neuen Tab zu √∂ffnen).  Schauen Sie sich die Optionen an. <br><br><img src="https://habrastorage.org/webt/gp/h1/_i/gph1_iunj1kbcqrp3ruvcx3fote.jpeg"><br><br>  Wenn YouTube mit enablejsapi = 1 in Ihre Website eingebettet ist, √ºberpr√ºfen Sie die automatische Videoverfolgung! <br><br><img src="https://habrastorage.org/webt/it/9k/hd/it9khdbigieyah5sja-l1x7hy34.jpeg"><br><br>  Es ist alles unglaublich cool, aber ich hoffe, wir bekommen noch mehr Steuerelemente, um die erweiterte Messung zu optimieren. <br><br>  Jetzt erstellen wir unser eigenes Event-Tag! <br><br><h3>  Erstellen Sie ein Ereignis-Tag </h3><br>  Funktioniert √§hnlich wie bei der Verwendung von gtag.js- und Firebase-Ereignissen. <br><br>  Mit anderen Worten, es gibt eine Kombination aus automatisch erfassten Ereignissen, empfohlenen Ereignissen und Benutzerereignissen. <br><br>  Stellen Sie beim Erstellen neuer Ereignisse zun√§chst sicher, dass das Ereignis noch nicht automatisch erfasst wurde. <br><br>  √úberpr√ºfen Sie dann, ob es eine empfohlene Ereignisstruktur gibt, die Sie anstelle eines benutzerdefinierten Ereignisses verwenden k√∂nnen.  Wenn Sie das entsprechende empfohlene Ereignis finden, stellen Sie sicher, dass Sie beim Einrichten des Ereignistags den vorgeschlagenen Ereignisnamen und die vorgeschlagenen Parameter verwenden. <br><br>  Wenn Sie m√∂chten, k√∂nnen Sie jetzt weiterhin einen vollst√§ndig konfigurierten Ereignisnamen mit vollst√§ndig beliebigen Ereignisparametern senden.  Beachten Sie jedoch, dass Sie an Flexibilit√§t in der Berichtsbenutzeroberfl√§che verlieren, da die Anzahl der benutzerdefinierten Eigenschaften, die Sie f√ºr die Berichterstellung in der Benutzeroberfl√§che definieren k√∂nnen, strengen Einschr√§nkungen unterliegt. <br><br>  Beginnen wir mit einem <b>einfachen benutzerdefinierten Ereignis</b> . <br><br>  Erstellen Sie ein neues Google Analytics: App + Web Event-Teg und f√ºllen Sie es wie folgt aus: <br><br><img src="https://habrastorage.org/webt/vo/sw/xg/voswxgm0yjxlmcu0j7bi7jhs9hq.jpeg"><br><br>  Setzen Sie das Konfigurations-Tag auf den Wert, der im vorherigen Abschnitt erstellt wurde.  Dies funktioniert √§hnlich wie die Google Analytics-Einstellungsvariable, da Sie die Tracker-Einstellungen nur einmal konfigurieren m√ºssen. Danach werden sie auf alle Tags angewendet, die das Konfigurations-Tag verwenden. <br><br>  Geben Sie dem Ereignis einen beliebigen Namen (dh nicht eines der automatisch erfassten oder empfohlenen Ereignisse).  In diesem Fall verwenden wir <code>data_loaded</code> als Namen des Ereignisses. <br><br>  F√ºgen Sie dann einige Parameter hinzu: <br><br><ul><li>  <code>all_data</code> ist ein benutzerdefinierter <code>all_data</code> , der auf true gesetzt ist. </li><li>  <code>debug_mode</code> ist ein Parameter, der bei Installation in einem Tag einen Treffer im DebugView-UI-Berichtsstrom anzeigt (mehr dazu weiter unten). </li></ul><br>  Aktivieren Sie das Kontrollk√§stchen, um das Optionsfeld Fenster geladen zu starten, den Vorschaumodus zu aktualisieren und den Container auf die Website hochzuladen.  Schauen Sie sich die Netzwerkanforderungen an <code>/collect</code> . <br><br>  Nach dem Laden der Seite sollte eine Anfrage mit zwei Treffern in einem angezeigt werden (Batch-Modus). <br><br><img src="https://habrastorage.org/webt/w7/hy/rh/w7hyrhclui132v52ceu_45zfs8c.jpeg"><br><br>  Wie Sie sehen k√∂nnen, gibt es in der ersten Zeile einen Treffer <code>page_view</code> und in der zweiten Zeile das Benutzerereignis <code>data_loaded</code> . <br><br>  Wechseln Sie jetzt zur Google Analytics-Berichtsoberfl√§che und w√§hlen Sie im Berichtsnavigator DebugView aus. <br><br>  <i>Lesen Sie unbedingt Kristas hervorragenden Artikel √ºber Streaming-Berichte, um zu verstehen, wie die folgenden Daten zu interpretieren sind.</i>  <i>Weitere Informationen finden Sie auch in der Dokumentation zu Firebase DebugView.</i> <i><br></i> <br>  In der Auswahl Debug-Ger√§t oben auf dem Bildschirm k√∂nnen Sie sehen, wie viele Ger√§te (z. B. Browser-Instanzen) derzeit Debug-Treffer an GA senden.  Verwenden Sie die <code>data_loaded</code> um durch die aufgelisteten Ger√§te zu scrollen, bis Sie das Ger√§t finden, das k√ºrzlich das Ereignis <code>data_loaded</code> gesendet <code>data_loaded</code> . <br><br>  <i>Diese Auswahl f√ºr Debug-Ger√§te ist derzeit nicht verwendbar.</i>  <i>Hoffentlich wird es in naher Zukunft einfacher sein, Debug-Ger√§te zu finden.</i> <br><br>  Nachdem Sie das Ereignis <code>data_loaded</code> gefunden <code>data_loaded</code> , k√∂nnen Sie weitere Treffer in DebugView sehen.  Dies liegt daran, dass das Paket, wenn es andere Treffer als den Treffer <code>data_loaded</code> , auch automatisch in DebugView aufgelistet wird. <br><br><img src="https://habrastorage.org/webt/oy/-g/i-/oy-gi-5w_os53sp1o3byjbiwuv0.jpeg"><br><br>  Sie k√∂nnen auf die Parameter im Ereignis <code>data_loaded</code> , um zu sehen, welche Art von Informationen mit einem Treffer an Google Analytics gesendet werden. <br><br>  Bevor wir fertig sind, senden wir auch ein <b>empfohlenes Ereignis</b> .  Wir senden ein Suchereignis, um eine Site-Suche zu simulieren. <br><br>  Wenn Sie die Anweisungen in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Liste der empfohlenen Ereignisse</a> lesen, sehen Sie, dass der Name des Suchereignisses search ist und einen Parameter ben√∂tigt: <code>search_term</code> .  Erstellen wir also ein neues Ereignis-Tag und geben diese Werte ein!  So sieht das Tag aus: <br><br><img src="https://habrastorage.org/webt/us/h_/wb/ush_wbm2mzugcdl-nnr3bt21ypy.jpeg"><br><br>  Wie Sie sehen k√∂nnen, habe ich das Suchwort in den Ereignisparametern fest codiert.  Ich f√ºhre ein Tag mit einem <b>benutzerdefinierten Ereignisausl√∂ser aus</b> , der auf ein Ereignis namens <code>search</code> . <br><br>  Nachdem ich den Vorschaumodus aktualisiert und meine Website neu <code>window.dataLayer.push ({event: 'search'})</code> habe, kann ich das Ereignis mit einem einfachen <code>window.dataLayer.push ({event: 'search'})</code> , das in der JavaScript-Konsole der Seite ausgef√ºhrt wird. <br><br>  In DebugView sehe ich, dass das Ereignis protokolliert wurde: <br><br><img src="https://habrastorage.org/webt/ks/mz/gi/ksmzgix7vgnvrgfo_ky3v3r4nb0.jpeg"><br><br>  Und ... das ist alles.  Nichts unterscheidet dieses Ereignis von Benutzerereignissen.  Es gibt keine Berichte, die mit Site-Suchdaten √ºbereinstimmen, die Universal Analytics √§hneln.  Ich bin mir sicher, dass einige Suchereignisse irgendwann in einem eigenen Bericht aufgezeichnet werden, in dem die <code>view_search_results</code> mit den automatisch erfassten Ereignissen <code>view_search_results</code> (Seitenansicht, die mit Abfrageparametern aufgezeichnet wurden, die der Suche auf der Website entsprechen) kombiniert werden. <br><br><h3>  Zusammenfassung </h3><br>  In diesem Artikel wollte ich Ihnen zeigen, wie Sie eine neue Google Analytics-Ressource einrichten: App + Web, wenn Sie Google Tag Manager als ausgew√§hltes Implementierungstool verwenden. <br><br>  Hoffentlich habe ich klargestellt, dass sich diese Funktion noch im <b>Beta-</b> Test befindet und daher absichtlich nicht abgeschlossen ist.  Im Laufe der Zeit werden neue Funktionen eingef√ºhrt, bis wir in Zukunft die Beta-Version mit einer voll funktionsf√§higen Plattform beenden. <br><br>  Soll diese Plattform Universal Analytics ersetzen?  Es ist noch unbekannt.  Es w√§re jedoch konzeptionell schwierig, zuk√ºnftige Versionen des Dienstes oder der Funktionen von Universal Analytics zu rechtfertigen, wenn es ein neues brillantes Messmodell gibt, mit dem Sie sich abfinden m√ºssen. <br><br>  <i>Ich freue mich,</i> Firebase <i>vorsichtig</i> im Internet <i>vorstellen zu k√∂nnen</i> .  Darauf habe ich mich gefreut, seit ich vor langer Zeit mit Firebase (und Firebase Analytics) angefangen habe.  Ich denke, dass das Benutzer- und Ereignismessmodell dem stark aggregierten und Sitzungsmodell von Google Analytics √ºberlegen ist. <br><br>  Es bleibt jedoch abzuwarten, wie viel Kontextwechsel wir mental durchf√ºhren m√ºssen, um zu verstehen, wie die von Google Analytics: App + Web ber√ºcksichtigten Anwendungsf√§lle mit den Anwendungsf√§llen von Universal Analytics vergleichbar sind. <br><br>  Ich werde definitiv mehr Ressourcen f√ºr das Schreiben von Inhalten f√ºr Firebase bereitstellen, da diese neue Art der Kombination von Analysen zwischen Anwendungen und Websites zu interessant ist, um sie zu ignorieren. <br><br>  Lassen Sie uns Google Analytics: App + Web in den Kommentaren diskutieren, aber denken Sie daran, dass es sich um ein <b>Beta-</b> Produkt handelt.  Sie k√∂nnen Ihre Entt√§uschung √ºber Entwicklungsentscheidungen und fehlende Funktionen frei ausdr√ºcken. Beachten Sie jedoch, dass eine konstruktive Kritik zu √Ñnderungen f√ºhren kann, die darauf abzielen, diese Kritik im Endprodukt zu beseitigen, da der Zweck der Beta-Version darin besteht, diese zu erhalten Feedback von der Community. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de463143/">https://habr.com/ru/post/de463143/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de463125/index.html">OOP in Bildern</a></li>
<li><a href="../de463127/index.html">USV-√úberwachung. Teil Zwei - Analytics automatisieren</a></li>
<li><a href="../de463135/index.html">In welchen L√§ndern ist es rentabel, 2019 IT-Unternehmen zu registrieren?</a></li>
<li><a href="../de463137/index.html">Selbst wenn Sie ein Spieledesigner sein m√∂chten, wird Ihnen niemand beibringen, wie</a></li>
<li><a href="../de463141/index.html">Habr Weekly # 13 / Unter der Bedrohung von 1,5 Millionen Nutzern eines Dating-Dienstes, Medusa-Untersuchung, Dekan der Russen</a></li>
<li><a href="../de463147/index.html">ROS Trolley Robot. Teil 3. Beschleunigen, Kamera wechseln, Gang fixieren</a></li>
<li><a href="../de463149/index.html">Alan Kay empfiehlt, alte und vergessene, aber wichtige Programmierb√ºcher zu lesen</a></li>
<li><a href="../de463151/index.html">iOS 13 unter der Lupe</a></li>
<li><a href="../de463155/index.html">Wei√ües Rauschen zeichnet ein schwarzes Quadrat. Teil 2. L√∂sung</a></li>
<li><a href="../de463157/index.html">ESP32-CAM-Video-Streaming-Server zum Verbinden von I2C- und SPI-Displays</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>