<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¼â€ğŸ”¬ ğŸ• ğŸ§› Rust 1.34å‘å¸ƒ ğŸ‘©ğŸ»â€ğŸ¤â€ğŸ‘¨ğŸ¿ ğŸ¤‘ ğŸš‹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å“ˆHaï¼ æˆ‘å‘æ‚¨ä»‹ç»äº†æ–‡ç« â€œ The Rust Release Teamâ€œå®£å¸ƒRust 1.34.0â€çš„ç¿»è¯‘ ã€‚ 


 Rustå¼€å‘å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒå‘å¸ƒRustçš„æ–°ç‰ˆæœ¬1.34.0ã€‚ Rustæ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œä½¿æ¯ä¸ªäººéƒ½å¯ä»¥åˆ›å»ºå¯é ä¸”é«˜æ•ˆçš„è½¯ä»¶ã€‚ 


 å¦‚æœæ‚¨å…·æœ‰ä½¿ç”¨rustupå®‰è£…çš„Rustçš„æ—©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rust 1.34å‘å¸ƒ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448366/"><p> å“ˆHaï¼ æˆ‘å‘æ‚¨ä»‹ç»äº†æ–‡ç« <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œ The Rust Release Teamâ€œå®£å¸ƒRust 1.34.0â€çš„ç¿»è¯‘</a> ã€‚ </p><br><p>  Rustå¼€å‘å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒå‘å¸ƒRustçš„æ–°ç‰ˆæœ¬1.34.0ã€‚  Rustæ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œä½¿æ¯ä¸ªäººéƒ½å¯ä»¥åˆ›å»ºå¯é ä¸”é«˜æ•ˆçš„è½¯ä»¶ã€‚ </p><br><p> å¦‚æœæ‚¨å…·æœ‰ä½¿ç”¨rustupå®‰è£…çš„Rustçš„æ—©æœŸç‰ˆæœ¬ï¼Œé‚£ä¹ˆåªéœ€å°†Rustå‡çº§åˆ°ç‰ˆæœ¬1.34.0ï¼Œæ‚¨åªéœ€æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š </p><br><pre><code class="plaintext hljs">$ rustup update stable</code> </pre> <br><p> å¦‚æœå°šæœªå®‰è£…rustupï¼Œåˆ™å¯ä»¥ä»æˆ‘ä»¬ç½‘ç«™çš„ç›¸åº”é¡µé¢è¿›è¡Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®‰è£…</a> ã€‚ </p><br><h2 id="chto-voshlo-v-stabilnuyu-versiyu-1340"> ç¨³å®šç‰ˆ1.34.0ä¸­åŒ…å«ä»€ä¹ˆ </h2><br><p> æ­¤ç‰ˆæœ¬çš„ä¸»è¦æ”¹è¿›æ˜¯å¯¹æ›¿ä»£è´§ç‰©æ³¨å†Œçš„æ”¯æŒã€‚ è¯¥ç‰ˆæœ¬è¿˜åŒ…æ‹¬æ”¯æŒ<code>?</code> åœ¨æ–‡æ¡£æµ‹è¯•ä¸­ï¼Œå¯¹<code>#[attribute(...)]</code>å’Œ<code>TryFrom</code>ç¨³å®šæ€§è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ã€‚ é˜…è¯»æœ‰å…³å…³é”®äº‹é¡¹çš„ä¿¡æ¯ï¼Œæˆ–æŸ¥çœ‹<a href="">è¯¦ç»†çš„å‘è¡Œè¯´æ˜</a>ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚ </p><a name="habracut"></a><br><h3 id="alternativnye-cargo-reestry"> æ›¿ä»£<code>cargo</code>ç™»è®° </h3><br><p> åœ¨1.0ç‰ˆä¹‹å‰ï¼ŒRustæœ‰ä¸€ä¸ªå…¬å…±æ³¨å†Œè¡¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">crates.io</a> ã€‚ äººä»¬ä½¿ç”¨<code>cargo publish</code>æ¿æ¡ç®±ï¼Œå¹¶åœ¨<code>Cargo.toml</code>çš„<code>[dependencies]</code>éƒ¨åˆ†ä¸­è½»æ¾è¿æ¥è¿™äº›æ¿æ¡ç®±ã€‚ </p><br><p> ä½†æ˜¯ï¼Œå¹¶éæ¯ä¸ªäººéƒ½<em>å¸Œæœ›</em>åœ¨crates.ioä¸Šå‘å¸ƒå…¶åŒ…è£…ç®±ã€‚ æ”¯æŒå°é—­æºä»£ç é¡¹ç›®çš„äººå‘˜ä¸èƒ½ä½¿ç”¨crates.ioï¼Œè€Œæ˜¯å¿…é¡»åœ¨ä¾èµ–é¡¹ä¸­æŒ‡å®š<code>git</code>æˆ–<code>path</code> ã€‚ å°å‹é¡¹ç›®æ²¡æœ‰è¿™æ ·çš„ä¸œè¥¿ï¼Œä½†æ˜¯å¦‚æœæ‚¨çš„ç»„ç»‡ä¸­æœ‰å¾ˆå¤šå°é—­çš„æºæ¿æ¡ç®±ï¼Œé‚£ä¹ˆæ‚¨å°†å¤±å»crates.ioä¸­æä¾›çš„ç‰ˆæœ¬æ”¯æŒåŠŸèƒ½ã€‚ </p><br><p> ä»æ­¤ç‰ˆæœ¬å¼€å§‹ï¼ŒCargoå¯èƒ½æ”¯æŒæ›¿ä»£æ³¨å†Œè¡¨ã€‚ è¿™äº›æ³¨å†Œè¡¨ä¸crates.ioå…±å­˜ï¼Œå› æ­¤æ‚¨å¯ä»¥ç¼–å†™ä¾èµ–äºcrates.ioå’Œæ³¨å†Œè¡¨çš„ç¨‹åºã€‚ ä½†æ˜¯ï¼Œcrates.ioå­æœºæ¶ä¸èƒ½ä¾èµ–äºå¤–éƒ¨æ³¨å†Œè¡¨ã€‚ </p><br><p> è¦ä½¿ç”¨æ›¿ä»£æ³¨å†Œè¡¨ï¼Œå¿…é¡»<code>.cargo/config</code>æ·»åŠ åˆ°<code>.cargo/config</code> ã€‚ è¯¥æ–‡ä»¶å¯ä»¥ä½äºæ‚¨çš„ä¸»ç›®å½•ï¼ˆ <code>~/.cargo/config</code> ï¼‰æˆ–ç¨‹åºåŒ…ç›®å½•ä¸­ã€‚ </p><br><pre> <code class="plaintext hljs">[registries] my-registry = { index = "https://my-intranet:8080/git/index" }</code> </pre> <br><p> ä»å¤‡ç”¨æ³¨å†Œè¡¨æ·»åŠ ä¾èµ–é¡¹å¾ˆå®¹æ˜“ã€‚ å½“æ‚¨åœ¨<code>Cargo.toml</code>æŒ‡å®šä¾èµ–<code>Cargo.toml</code> ï¼Œè¯·ä½¿ç”¨<code>registry</code>é¡¹ï¼Œä»¥ä¾¿CargoçŸ¥é“æ‚¨å¸Œæœ›ä»å¤‡ç”¨æ³¨å†Œè¡¨ä¸­æ¥æ”¶æ¿æ¡ç®±ï¼š </p><br><pre> <code class="plaintext hljs">[dependencies] other-crate = { version = "1.0", registry = "my-registry" }</code> </pre> <br><p> ä½œä¸ºæ¿æ¡ç®±çš„ä½œè€…ï¼Œå¦‚æœè¦åœ¨å…¶ä»–æ³¨å†Œè¡¨ä¸­å‘å¸ƒæ¿æ¡ç®±ï¼Œåˆ™éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä½¿ç”¨<code>cargo login</code>å‘½ä»¤å°†èº«ä»½éªŒè¯ä»¤ç‰Œä¿å­˜åœ¨<code>~/.cargo/credentials</code> ï¼š </p><br><pre> <code class="plaintext hljs">cargo login --registry=my-registry</code> </pre> <br><p> æ¥ä¸‹æ¥ï¼Œå¯ä»¥ä½¿ç”¨<code>--registry</code>æ ‡å¿—æŒ‡å®šå°†åœ¨å…¶ä¸­å‘å¸ƒæœºæ¶çš„æ³¨å†Œè¡¨ï¼š </p><br><pre> <code class="plaintext hljs">cargo publish --registry=my-registry</code> </pre> <br><p> æœ‰å…³å¦‚ä½•è¿è¡Œè‡ªå·±çš„æ³¨å†Œè¡¨çš„ä¿¡æ¯ï¼Œè¯·å‚è§<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡æ¡£</a> ã€‚ </p><br><h3 id="-v-dokumentacionnyh-testah"> <code>?</code> åœ¨æ–‡æ¡£æµ‹è¯•ä¸­ </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">RFC 1937æ˜¯å¦</a>å»ºè®®å¢åŠ æ“ä½œå‘˜æ”¯æŒ<code>?</code> åœ¨<code>fn main()</code> ï¼Œ <code>#[test]</code>å‡½æ•°å’Œæ–‡æ¡£æµ‹è¯•ï¼Œå…è®¸å®ƒä»¬è¿”å›<code>Option&lt;T&gt;</code>æˆ–<code>Result&lt;T, E&gt;</code> ï¼Œå…¶ä¸­å¸¦é”™è¯¯çš„é€‰é¡¹åœ¨<code>fn main()</code>æƒ…å†µä¸‹å¯¼è‡´éé›¶ç»ˆæ­¢ä»£ç ï¼Œåœ¨æµ‹è¯•æƒ…å†µä¸‹å¯¼è‡´ä¸¢å¼ƒçš„æµ‹è¯•ã€‚ </p><br><p> å¯¹<code>fn main()</code>å’Œ<code>#[test]</code>å·²ç»å®æ–½<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">äº†å¾ˆé•¿æ—¶é—´äº†</a> ã€‚ ä½†æ˜¯ï¼Œæ–‡æ¡£æµ‹è¯•çš„æ”¯æŒä»…é™<code>fn main()</code>æ˜ç¡®å­˜åœ¨<code>fn main()</code>æµ‹è¯•ã€‚ </p><br><p> åœ¨æ­¤ç‰ˆæœ¬ä¸­<code>?</code>æ·»åŠ äº†å…¨é¢æ”¯æŒ<code>?</code> åœ¨æ–‡æ¡£æµ‹è¯•ä¸­ã€‚ ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨æ–‡æ¡£æµ‹è¯•ä¸­ç¼–å†™ä»¥ä¸‹å†…å®¹ï¼š </p><br><pre> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">/// ```rust /// use std::io; /// let mut input = String::new(); /// io::stdin().read_line(&amp;mut input)?; /// # Ok::&lt;(), io:Error&gt;(()) /// ``` fn my_func() {}</span></span></code> </pre> <br><p> åœ¨æ–‡æ¡£æµ‹è¯•çš„åº•éƒ¨ï¼Œæ‚¨ä»ç„¶éœ€è¦æŒ‡å‡ºå°†è¦ä½¿ç”¨çš„é”™è¯¯ç±»å‹ã€‚ </p><br><h3 id="podderzhka-proizvolnogo-potoka-tokenov-v-polzovatelskih-atributah"> æ”¯æŒç”¨æˆ·å±æ€§ä¸­çš„è‡ªå®šä¹‰ä»¤ç‰Œæµ </h3><br><p>  Rustä¸­çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿‡ç¨‹å®</a>å¯ä»¥å®šä¹‰ä»–ä»¬ä½¿ç”¨çš„ç”¨æˆ·å±æ€§ã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ ¹æ®ä»¥ä¸‹è¯­æ³•ï¼Œè¿™äº›å±æ€§ä»…é™äºè·¯å¾„æ ‘å’Œæ–‡å­—ï¼š </p><br><pre> <code class="rust hljs"><span class="hljs-meta"><span class="hljs-meta">#[foo(bar)]</span></span> <span class="hljs-meta"><span class="hljs-meta">#[foo = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"bar"</span></span></span><span class="hljs-meta">]</span></span> <span class="hljs-meta"><span class="hljs-meta">#[foo = 0]</span></span> <span class="hljs-meta"><span class="hljs-meta">#[foo(bar = true)]</span></span> <span class="hljs-meta"><span class="hljs-meta">#[foo(bar, baz(quux, foo = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"bar"</span></span></span><span class="hljs-meta">))]</span></span></code> </pre> <br><p> ä¸ç¨‹åºå®ä¸åŒï¼Œè¿™äº›è¾…åŠ©å±æ€§ä¸èƒ½æ¥å—å®šç•Œç¬¦ä¸­çš„ä»»æ„æ ‡è®°æµï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‚¨ä¸èƒ½ç¼–å†™<code>#[range(0..10)]</code>æˆ–<code>#[bound(T: MyTrait)]</code> ã€‚ ç›¸åï¼Œè¿‡ç¨‹å®æœºæ¶ä½¿ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºè¿™ç§è¯­æ³•ï¼Œä¾‹å¦‚<code>#[range("0..10")]</code> ã€‚ </p><br><p> åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œè‡ªå®šä¹‰å±æ€§<code>#[attr($tokens)]</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…è®¸</a>åœ¨<code>$tokens</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨</a>ä»»æ„<code>$tokens</code> ï¼Œå¹¶æ ¹æ®å®å¯¹å…¶è¿›è¡ŒåŒ¹é…ã€‚ å¦‚æœæ‚¨æ˜¯ç¨‹åºå®æ¿æ¡ç®±çš„ä½œè€…ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·å±æ€§çš„è¯­æ³•ä¸­æ˜¯å¦ä½¿ç”¨äº†å­—ç¬¦ä¸²ï¼Œä»¥åŠæ˜¯å¦å¯ä»¥ç”¨æ ‡è®°æµæ›¿æ¢å®ƒä»¬ã€‚ </p><br><h3 id="tryfrom-i-tryinto">  <code>TryFrom</code>å’Œ<code>TryInto</code> </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>TryFrom</code></a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>TryInto</code></a>å·²å¾—åˆ°ç¨³å®šï¼Œä»¥æ”¯æŒç±»å‹è½¬æ¢é”™è¯¯ã€‚ </p><br><p> ä¾‹å¦‚ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>from_be_bytes</code></a>å’Œç›¸å…³çš„æ•´æ•°ç±»å‹æ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯æ•°æ®é€šå¸¸æ˜¯é€šè¿‡åˆ‡ç‰‡è¯»å–çš„ã€‚ åˆ‡ç‰‡å’Œæ•°ç»„ä¹‹é—´çš„æ‰‹åŠ¨è½¬æ¢å¾ˆç¹çã€‚ ä½¿ç”¨æ–°ç‰¹æ€§ï¼Œå¯ä»¥ä¸<code>.try_into()</code>åœ¨åŒä¸€è¡Œä¸Šå®Œæˆã€‚ </p><br><pre> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> num = <span class="hljs-built_in"><span class="hljs-built_in">u32</span></span>::from_be_bytes(slice.try_into()?);</code> </pre> <br><p> å¯¹äºæ— æ³•å¤±è´¥çš„è½¬æ¢ï¼Œä¾‹å¦‚<code>u8</code>åˆ°<code>u32</code> ï¼Œæ·»åŠ äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>Infallible</code></a>ç±»å‹ã€‚ å› æ­¤ï¼Œ <code>TryFrom</code>è‡ªåŠ¨ä¸ºå®ç°<code>From</code>ç‰¹æ€§çš„æ‰€æœ‰å†…å®¹å®æ–½<code>TryFrom</code> ã€‚ å°†æ¥ï¼Œæˆ‘ä»¬å¸Œæœ›å°†<code>Infallible</code>ç”¨ä½œè¯¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code> !</code></a> <code>Infallible</code>åˆ«å<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code> !</code></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ï¼ˆä»ä¸ï¼‰</a> ã€‚ </p><br><h3 id="fn-before_exec-ustarela-v-polzu-unsafe-fn-pre_exec"> ä¸å»ºè®®ä½¿ç”¨<code>fn before_exec</code>ä½¿ç”¨<code>unsafe fn pre_exec</code> </h3><br><p> åœ¨ç±»ä¼¼Unixçš„ç³»ç»Ÿä¸Šï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>CommandExt::before_exec</code></a>å…è®¸æ‚¨<code>exec</code>è°ƒç”¨<code>exec</code>ä¹‹å‰å®‰æ’å…³é—­ã€‚ </p><br><p> åœ¨æ´¾ç”Ÿååœ¨å­è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œæ­¤å…³é—­ã€‚ è¿™æ„å‘³ç€å¯ä»¥å¤åˆ¶èµ„æºï¼Œä¾‹å¦‚æ–‡ä»¶æè¿°ç¬¦å’Œå†…å­˜åŒºåŸŸã€‚ æ¢å¥è¯è¯´ï¼Œæ‚¨å¯ä»¥åœ¨ä¸åŒçš„è¿‡ç¨‹ä¸­è·å¾—é<code>Copy</code>ç±»å‹å€¼çš„å‰¯æœ¬ï¼Œè€ŒåŸå§‹å‰¯æœ¬å°†ä¿ç•™åœ¨çˆ¶çº§ä¸­ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿™å¯èƒ½</a>å¯¼è‡´ä¸ç¡®å®šçš„è¡Œä¸ºï¼Œå¹¶ç ´å<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æš—ç¤ºæ²¡æœ‰é‡å¤çš„åº“</a> ã€‚ </p><br><p> å› æ­¤ï¼Œå¿…é¡»å°†<code>before_exec</code>å‡½æ•°æ ‡è®°ä¸º<code>unsafe</code> ã€‚ åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å°†<code>fn before_exec</code>æ ‡è®°ä¸ºä¸æ¨èä½¿ç”¨ï¼Œè€Œå»ºè®®ä½¿ç”¨<code>unsafe fn pre_exec</code> ã€‚ è°ƒç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>CommandExt::pre_exec</code></a>éœ€è¦é€šè¿‡åˆ›å»ºæ— æ•ˆçš„é‡å¤é¡¹æ¥ç¡®ä¿é—­åŒ…ä¸è¿ååº“ä¸å˜å¼ã€‚ å¦‚æœæ‚¨æä¾›çš„åº“ä¸<code>before_exec</code>å¤„äºç±»ä¼¼æƒ…å†µï¼Œè¯·è€ƒè™‘è¿‡æ—¶å¹¶æä¾›<code>unsafe</code>çš„æ›¿ä»£æ–¹æ³•ã€‚ </p><br><h3 id="stabilizaciya-v-bibliotekah"> å›¾ä¹¦é¦†ç¨³å®š </h3><br><p> åœ¨1.34.0ä¸­ï¼Œæ‰©å±•äº†ç¨³å®šçš„åŸå­æ•´æ•°æœ‰ç¬¦å·å’Œæ— ç¬¦å·ç±»å‹çš„é›†åˆï¼Œä»8ä½ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>AtomicU8</code></a> ï¼‰å¼€å§‹åˆ°64ä½ç»“æŸã€‚ </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>NonZeroU8</code></a>æ— ç¬¦å·æ•´æ•°ï¼ˆä¾‹å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>NonZeroU8</code></a> ï¼‰ <a href="">ä»¥å‰å·²</a>ç¨³å®šã€‚ å› æ­¤ï¼Œ <code>Option&lt;NonZeroU8&gt;</code>ä¸<code>u8</code>å¤§å°ç›¸åŒã€‚ æ­¤ç‰ˆæœ¬ä¸­<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>NonZeroI8</code></a>ç¨³å®šäº†è¯¸å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>NonZeroI8</code></a>ç­¾åç‰ˆæœ¬ã€‚ </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>iter::from_fn</code></a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>iter::successors</code></a>å‡½æ•°çš„åŠŸèƒ½<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>iter::successors</code></a>ç¨³å®šã€‚ ç¬¬ä¸€ä¸ªå…è®¸æ‚¨ä»<code>FnMut() -&gt; Option&lt;T&gt;</code>åˆ›å»ºè¿­ä»£å™¨ã€‚ è¦è¿­ä»£åœ°ä»å‘é‡ä¸­æ£€ç´¢å…ƒç´ ï¼Œç°åœ¨å¯ä»¥ç¼–å†™<code>from_fn(|| vec.pop())</code> ã€‚ åŒæ—¶ï¼Œç¬¬äºŒä¸ªå‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ï¼Œå…¶ä¸­æ¯ä¸ªä¸‹ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯æ ¹æ®å‰ä¸€ä¸ªå…ƒç´ è¿›è¡Œè®¡ç®—çš„ã€‚ </p><br><p> æ­¤å¤–ï¼Œä»¥ä¸‹APIå·²å¾—åˆ°ç¨³å®šï¼š </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»»ä½•:: type_id</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é”™è¯¯:: type_id</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åˆ‡ç‰‡:: sort_by_cached_key</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">str :: escape_debug</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">str :: escape_default</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">str :: escape_unicode</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">str :: split_ascii_whitespace</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å³æ—¶:: checked_add</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å³æ—¶:: checked_sub</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SystemTime :: Checked_Add</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SystemTime :: Checked_Sub</a> </li></ul><br><p> æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§<a href="">è¯¦ç»†çš„å‘è¡Œè¯´æ˜</a> ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN448366/">https://habr.com/ru/post/zh-CN448366/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN448354/index.html">GraphQL Voyagerä½œä¸ºæŸ¥æ‰¾æ¼æ´çš„å·¥å…·</a></li>
<li><a href="../zh-CN448358/index.html">æˆ‘ä»¬ä½¿ç”¨é”å®šçš„æ™ºèƒ½æ‰‹æœºå±å¹•æ”¶å¬YouTubeä¸Šçš„éŸ³ä¹å’Œè®²åº§ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨Telegramæ’­æ”¾å¹¿å‘Š</a></li>
<li><a href="../zh-CN448360/index.html">Flaskä¸Šçš„å°å‹åé—¨æˆ–å¦‚ä½•åœ¨æœ¬åœ°ç½‘ç»œä¸Šæ§åˆ¶è®¡ç®—æœº</a></li>
<li><a href="../zh-CN448362/index.html">æˆ‘è®¤ä¸ºæˆ‘éœ€è¦æ´¾è®¾è®¡å¸ˆå»...</a></li>
<li><a href="../zh-CN448364/index.html">é£æš´ç»ç’ƒ-æ™¶ä½“é¢„æŠ¥å™¨</a></li>
<li><a href="../zh-CN448368/index.html">SQLï¼šä¸Šç­æ—¶é—´çš„ä»»åŠ¡</a></li>
<li><a href="../zh-CN448372/index.html">ä¸è¦å› æ‚¨çš„é”™è¯¯é—®é¢˜è€Œæ‹’ç»ä¼˜ç§€çš„æ±‚èŒè€…ã€‚</a></li>
<li><a href="../zh-CN448374/index.html">æ”¶åˆ°äº†å¯¼è‡´å†å²ä¸Šæœ€å¤§è§„æ¨¡ç­ç»çš„ç«å±±æ´»åŠ¨çš„æ–°è¯æ®ã€‚</a></li>
<li><a href="../zh-CN448376/index.html">æ•°å­¦å‘Šè¯‰ç»†èƒåº”è¯¥æ˜¯ä»€ä¹ˆ</a></li>
<li><a href="../zh-CN448378/index.html">Windows 10ä¸­çš„DHCPå®‰å…¨æ€§ï¼šæ¢ç´¢å…³é”®æ¼æ´CVE-2019-0726</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>