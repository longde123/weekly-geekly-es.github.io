<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЪ╢ЁЯП╜ ЁЯеР ЁЯУ┐ Joi рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕рддреНрдпрд╛рдкрди ЁЯПВ ЁЯМ▓ ЁЯНз</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдПрдХ рд╣реА рдХреЛрдб рдХреЛ рдХрдИ рдмрд╛рд░ рд▓рд┐рдЦрдиреЗ рдкрд░ рджреЛ рджрд┐рди рдХреИрд╕реЗ рдмрд┐рддрд╛рдПрдВ рдЗрд╕рдХреА рдХрд╣рд╛рдиреАред 



 рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ 


 рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВ рд╣рд╛рдкреА, рдЬреЙрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╡рд░рдг рдЫреЛрдбрд╝ рджреЗрддрд╛ рд╣реВрдВ, рд░реВрдЯрд┐рдВрдЧ рдФрд░ va...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Joi рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕рддреНрдпрд╛рдкрди</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450238/"><p>  рдПрдХ рд╣реА рдХреЛрдб рдХреЛ рдХрдИ рдмрд╛рд░ рд▓рд┐рдЦрдиреЗ рдкрд░ рджреЛ рджрд┐рди рдХреИрд╕реЗ рдмрд┐рддрд╛рдПрдВ рдЗрд╕рдХреА рдХрд╣рд╛рдиреАред </p><br><p><img src="https://habrastorage.org/webt/kv/do/eq/kvdoeq2qi2shhsd1gtl76hjorvs.png" alt="Joi &amp; TypeScript. A love story" title="рдЬреЙрдп рдФрд░ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯред рдПрдХ рдкреНрд░реЗрдо рдХрд╣рд╛рдиреА"></p><a name="habracut"></a><br><h1 id="vstuplenie">  рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ </h1><br><p> рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВ рд╣рд╛рдкреА, рдЬреЙрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╡рд░рдг рдЫреЛрдбрд╝ рджреЗрддрд╛ рд╣реВрдВ, рд░реВрдЯрд┐рдВрдЧ рдФрд░ <code>validate: { payload: ... }</code> , рдпрд╣ рдЕрд░реНрде рджреЗрддреЗ рд╣реБрдП рдХрд┐ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдХреНрдпрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рд╢рдмреНрджрд╛рд╡рд▓реА, рдПрдХ рд▓рд╛ "рдЗрдВрдЯрд░рдлреЗрд╕", "рдкреНрд░рдХрд╛рд░" рдФрд░ рдЬреИрд╕реЗ ред  рдореИрдВ рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рдПрдХ рдЯрд░реНрди-рдЖрдзрд╛рд░рд┐рдд рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рддрд╛ рд╣реВрдВ, рди рдХрд┐ рд╕рдмрд╕реЗ рд╕рдлрд▓ рд░рдгрдиреАрддрд┐, рдЗрди рдЪреАрдЬреЛрдВ рдореЗрдВ рдореЗрд░рд╛ рдкреНрд░рд╢рд┐рдХреНрд╖рдгред </p><br><h2 id="nemnogo-predystorii">  рдереЛрдбрд╝реА рдкреГрд╖реНрдарднреВрдорд┐ </h2><br><p>  рдЕрдм рдореИрдВ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдкрд░ рдХреЗрд╡рд▓ рдмреИрдХреЗрдВрдб рдбреЗрд╡рд▓рдкрд░ (рдЕрд░реНрдерд╛рддреН, рдХреЛрдб рд▓рд┐рдЦрдирд╛) рд╣реВрдВред  рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╕рд╛рд░ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдореБрдЦреНрдп рд╕рд╛рд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдПрдХ рд▓рдВрдмрд╛ рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рд╣реИред  рдХреЛрдб рдХреА рдЧрддрд┐ рдФрд░ рдЧреБрдгрд╡рддреНрддрд╛ рд╕реНрдХреНрд░реИрдЪ рд╕реЗ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдкрд░ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рдореЗрд░реЗ рдЫреЛрдЯреЗ рдЕрдиреБрднрд╡ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИ, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЬреЗрдПрд╕ (рдХреЗрд╡рд▓ 4 рд╡реЗрдВ рдорд╣реАрдиреЗ) рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рдХрдо рдЕрдиреБрднрд╡, рдФрд░ рд╕рд╛рде рд╣реА, рдмрд╣реБрдд рдЯреЗрдврд╝реЗ-рдореЗрдврд╝реЗ рддрд░реАрдХреЗ рд╕реЗ, рдореИрдВ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ (рдЗрд╕рдХреЗ рдмрд╛рдж: рдЯреАрдПрд╕) рдореЗрдВ рд▓рд┐рдЦрддрд╛ рд╣реВрдВред  рддрд┐рдерд┐рдпрд╛рдВ рд╕рдВрдХреБрдЪрд┐рдд рд╣реИрдВ, рд░реЛрд▓ рд╕рдВрдкреАрдбрд╝рд┐рдд рд╣реИрдВ, рд╕рдВрдкрд╛рджрди рд▓рдЧрд╛рддрд╛рд░ рдЖ рд░рд╣реЗ рд╣реИрдВ рдФрд░ рдпрд╣ рдкрд╣рд▓реЗ рд╡реНрдпрд╛рдкрд╛рд░ рддрд░реНрдХ рдХреЛрдб рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдХрд▓рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдКрдкрд░ рд╕реЗ рдЗрдВрдЯрд░рдлреЗрд╕ред  рдлрд┐рд░ рднреА, рдПрдХ рддрдХрдиреАрдХреА рдХрд░реНрддрд╡реНрдп рдХреИрдк рдХреЛ рдкрдХрдбрд╝рдиреЗ рдФрд░ рджреЛрд╣рди рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИ, рдЬреЛ рд▓рдЧрднрдЧ, рд╣рдорд╛рд░реЗ рд╕рд╛рде рд╣реБрдЖ рд╣реИред </p><br><p>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдкрд░ 3 рдорд╣реАрдиреЗ рдХреЗ рдХрд╛рдо рдХреЗ рдмрд╛рдж, рдореИрдВ рдЖрдЦрд┐рд░рдХрд╛рд░ рдЕрдкрдиреЗ рд╕рд╣рдпреЛрдЧрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рд╣реА рд╢рдмреНрджрдХреЛрд╖ рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣рдордд рд╣реЛ рдЧрдпрд╛, рддрд╛рдХрд┐ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдЧреБрдгреЛрдВ рдХрд╛ рдирд╛рдо рджрд┐рдпрд╛ рдЬрд╛рдП рдФрд░ рд╣рд░ рдЬрдЧрд╣ рд╕рдорд╛рди рд▓рд┐рдЦрд╛ рдЬрд╛рдПред  рдЗрд╕ рд╡реНрдпрд╡рд╕рд╛рдп рдХреЗ рддрд╣рдд, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдореИрдВрдиреЗ рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдмреАрдбрд╝рд╛ рдЙрдард╛рдпрд╛ рдФрд░ рджреЛ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХреЗ рд╕рд╛рде рдордЬрдмреВрддреА рд╕реЗ рдлрдВрд╕ рдЧрдпрд╛ред </p><br><h1 id="problema">  рд╕рдорд╕реНрдпрд╛ </h1><br><p>  рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░реЛрдлрд╛рдЗрд▓ рдПрдХ рдЕрдореВрд░реНрдд рдЙрджрд╛рд╣рд░рдг рд╣реЛрдЧрд╛ред </p><br><ul><li><del>  <strong>рдкрд╣рд▓реЗ</strong> </del>  <strong>рдПрдХ рдЕрдЪреНрдЫреЗ рдбреЗрд╡рд▓рдкрд░ рдХрд╛ рд╢реВрдиреНрдп рдХрджрдо:</strong> <del>  рдбреЗрдЯрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░реЗрдВ </del>  рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦреЗрдВ; </li><li>  <strong>рдкрд╣рд▓рд╛ рдХрджрдо:</strong> <del>  рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦреЗрдВ </del>  рдбреЗрдЯрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░реЗрдВ </li><li>  рдФрд░ рдЗрд╕реА рддрд░рд╣ред </li></ul><br><p>  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рдЗрд╕ рдХреЛрдб рдХреЗ рд▓рд┐рдП рдкрд░реАрдХреНрд╖рдг рдкрд╣рд▓реЗ рд╣реА рд▓рд┐рдЦреЗ рдЬрд╛ рдЪреБрдХреЗ рд╣реИрдВ, рдпрд╣ рдбреЗрдЯрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд╣реБрдЖ рд╣реИ: </p><br><pre> <code class="javascript hljs">interface IUser { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: string; age: number; phone: string | number; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> aleg: IUser = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Aleg'</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">45</span></span>, <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: <span class="hljs-string"><span class="hljs-string">'79001231212'</span></span> };</code> </pre> <br><p>  рдЦреИрд░, рдпрд╣рд╛рдВ рд╕рдм рдХреБрдЫ рд╕реНрдкрд╖реНрдЯ рдФрд░ рдмреЗрд╣рдж рд╕рд░рд▓ рд╣реИред  рдпрд╣ рд╕рдм рдХреЛрдб, рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ, рдмреИрдХрдПрдВрдб рдкрд░ рдпрд╛ рдмрд▓реНрдХрд┐, рдПрдкреА рдореЗрдВ, рдЕрд░реНрдерд╛рддреН, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдЖрдП рдбреЗрдЯрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛ рдХреЛ рдорд╛рдиреНрдп рдХрд░рдиреЗ рдФрд░ рдЗрд╕рдореЗрдВ рдЬреЙрдп рдХреА рдорджрдж рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> joiUserValidator = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: Joi.string(), <span class="hljs-attr"><span class="hljs-attr">age</span></span>: Joi.number(), <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: Joi.alternatives([Joi.string(), Joi.number()]) };</code> </pre> <br><p>  "рдорд╛рдереЗ рдкрд░" рд╕рдорд╛рдзрд╛рди рддреИрдпрд╛рд░ рд╣реИред  рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рд╕реНрдкрд╖реНрдЯ рдорд╛рдЗрдирд╕ рдпрд╣ рд╣реИ рдХрд┐ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рддрд▓рд╛рдХрд╢реБрджрд╛ рд╣реИред  рдпрджрд┐ рдЖрд╡реЗрджрди рдХреЗ рдЬреАрд╡рди рдХреЗ рджреМрд░рд╛рди рдлрд╝реАрд▓реНрдб рдмрджрд▓рддреЗ рд╣реИрдВ / рдЙрдирдХреЗ рдкреНрд░рдХрд╛рд░ рдмрджрд▓рддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕ рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдФрд░ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдХреБрдЫ рдЧрд┐рд░рдиреЗ рддрдХ рдРрд╕реЗ рдЬрд┐рдореНрдореЗрджрд╛рд░ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдирд╣реАрдВ рд╣реЛрдВрдЧреЗред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдкреНрд░рд╢реНрдирд╛рд╡рд▓реА рдореЗрдВ рдШреЛрдВрд╕рд▓реЗ рдХреЗ рддреАрди рд╕реНрддрд░реЛрдВ рдкрд░ 50+ рдХреНрд╖реЗрддреНрд░ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рд╕рдордЭрдирд╛ рдмрд╣реБрдд рдореБрд╢реНрдХрд┐рд▓ рд╣реИ, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рджрд┐рд▓ рд╕реЗ рд╕рдм рдХреБрдЫ рдЬрд╛рдирддреЗ рд╣реБрдП рднреАред </p><br><p>  рд╣рдо рдХреЗрд╡рд▓ <code>const joiUserValidator: IUser</code> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ <code>Joi</code> рдЕрдкрдиреЗ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЯрд╛рдЗрдк рдХрд░рддреЗ рд╕рдордп рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ <code>Type 'NumberSchema' is not assignable to type 'number'</code> ред  рд▓реЗрдХрд┐рди рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкрд░ рд╕рддреНрдпрд╛рдкрди рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП? <br><img src="https://habrastorage.org/getpro/habr/post_images/c86/32b/ef0/c8632bef03e0bc08cb00b9040e05dd8c.jpg" alt="      " title="рдореИрдВ рдЗрд╕ рд╕рд╡рд╛рд▓ рдХреЗ рд╕рд╛рде рдСрдирд▓рд╛рдЗрди рдЧрдпрд╛ рдерд╛"></p><br><p>  рд╢рд╛рдпрдж рдореИрдВрдиреЗ рдЗрд╕реЗ рд╕рд╣реА рдврдВрдЧ рд╕реЗ Google рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рдпрд╛ рдЦрд░рд╛рдм рддрд░реАрдХреЗ рд╕реЗ рдЙрддреНрддрд░реЛрдВ рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд┐рдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рднреА рдирд┐рд░реНрдгрдп <code>extractTypes</code> рдФрд░ рдХреБрдЫ рдкреНрд░рдХрд╛рд░ рдХреА рднрдпрдВрдХрд░ рд╕рд╛рдЗрдХрд┐рд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдиреАрдЪреЗ рдЖрдП, рдЬреИрд╕реЗ: </p><br><pre> <code class="javascript hljs">type ValidatedValueType&lt;T extends joi.Schema&gt; = T extends joi.StringSchema ? string : T extends joi.NumberSchema ? number : T extends joi.BooleanSchema ? boolean : T extends joi.ObjectSchema ? ValidatedObjectType&lt;T&gt; : <span class="hljs-comment"><span class="hljs-comment">/* ... more schemata ... */</span></span> never;</code> </pre> <br><h1 id="reshenie">  рдирд┐рд░реНрдгрдп </h1><br><h2 id="ispolzovat-storonnie-biblioteki">  рддреГрддреАрдп-рдкрдХреНрд╖ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ </h2><br><p>  рдХреНрдпреЛрдВ рдирд╣реАрдВ?  рдЬрдм рдореИрдВрдиреЗ рдЕрдкрдиреЗ рдХрд╛рд░реНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд▓реЛрдЧреЛрдВ рд╕реЗ рдкреВрдЫрд╛, рддреЛ рдореБрдЭреЗ рдПрдХ рдЙрддреНрддрд░ рдорд┐рд▓рд╛, рдФрд░ рдмрд╛рдж рдореЗрдВ, рдФрд░ рдпрд╣рд╛рдБ, рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">keenondrums</a> рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж), рдЗрди рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЗ рд▓рд┐рдВрдХ: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/typestack/class-validator</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/typestack/class-transformer</a> </p><br><p>  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЯреАрдПрд╕ рдХреЗ рдХрд╛рдо рдХреЛ рдмреЗрд╣рддрд░ рддрд░реАрдХреЗ рд╕реЗ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рд╕рдордЭрдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рднреА рдЖрдЧреНрд░рд╣ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </p><br><h2 id="poluchit-vse-svoystva">  рд╕рднреА рдЧреБрдг рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ </h2><br><p>  рдЪреВрдВрдХрд┐ рдореБрдЭреЗ рд╕реНрдЯреИрдЯрд┐рдХреНрд╕ рдХреЗ рд╕рд╛рде рдХреЛрдИ рдкрд┐рдЫрд▓рд╛ рдХрд╛рдо рдирд╣реАрдВ рдерд╛, рдЗрд╕рд▓рд┐рдП рдЙрдкрд░реЛрдХреНрдд рдХреЛрдб рдиреЗ рдЕрдореЗрд░рд┐рдХрд╛ рдХреЛ рдЯрд░реНрдирд░реА рдСрдкрд░реЗрдЯрд░реЛрдВ рдХреЗ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдЦреЛрдЬрд╛ред  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рдерд╛ред  рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдПрдХ рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдЗрдХ рдорд┐рд▓реА: </p><br><pre> <code class="javascript hljs">interface IUser { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: string; age: number; phone: string | number; } type UserKeys&lt;T&gt; = { [key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> keyof T]; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> evan: UserKeys&lt;IUser&gt; = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Evan'</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: <span class="hljs-number"><span class="hljs-number">791234567890</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> joiUser: UserKeys&lt;IUser&gt; = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: Joi.string(), <span class="hljs-attr"><span class="hljs-attr">age</span></span>: Joi.number(), <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: Joi.alternatives([Joi.string(), Joi.number()]) };</code> </pre> <br><p>  <code>TypeScript</code> рдмрд▓реНрдХрд┐ рдореБрд╢реНрдХрд┐рд▓ рдФрд░ рд░рд╣рд╕реНрдпрдордп рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ, рдЖрдкрдХреЛ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕реЗ рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдпрд╣ рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдЬреЗрдПрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдерд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреЗрд╡рд▓ <code>type</code> рдирд┐рд░реНрдорд╛рдг рдореЗрдВ рдФрд░ <code>key in keyof T</code> рдорд╛рдзреНрдпрдо рд╕реЗ рдФрд░ рдХреЗрд╡рд▓ рдЬреЗрдирд░рд┐рдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗред  <code>UserKeys</code> рдкреНрд░рдХрд╛рд░ рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╕рднреА рд╡рд╕реНрддреБрдУрдВ рдореЗрдВ рдЧреБрдгреЛрдВ рдХрд╛ рд╕рдорд╛рди рд╕реЗрдЯ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рдорд╛рдиреЛрдВ рдХреЗ рдкреНрд░рдХрд╛рд░ рдордирдорд╛рдиреЗ рдврдВрдЧ рд╕реЗ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рдореЗрдВ рдЖрдИрдбреАрдИ рдореЗрдВ рд╕рдВрдХреЗрдд рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рдореВрд▓реНрдпреЛрдВ рдХреЗ рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рд╕реНрдкрд╖реНрдЯ рд╕рдВрдХреЗрдд рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИред </p><br><p>  рдпрд╣рд╛рдВ рдПрдХ рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рдорд╛рдорд▓рд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдореИрдВ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рд╕рдХрд╛ред  рд╢рд╛рдпрдж рдЖрдк рдореБрдЭреЗ рдмрддрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдХреНрдпреЛрдВ рдЖрд╡рд╢реНрдпрдХ рд╣реИ (рд╣рд╛рд▓рд╛рдВрдХрд┐ рдореИрдВ рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рддрд╛ рд╣реВрдВ, рдкрд░реНрдпрд╛рдкреНрдд рд▓рд╛рдЧреВ рдЙрджрд╛рд╣рд░рдг рдирд╣реАрдВ рд╣реИ): </p><br><pre> <code class="javascript hljs">interface IUser { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: string; age: number; phone: string | number; } interface IUserJoi { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: Joi.StringSchema, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: Joi.NumberSchema, <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: Joi.AlternativesSchema } type UserKeys&lt;T&gt; = { [key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> keyof T]: T[key]; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> evan: UserKeys&lt;IUser&gt; = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Evan'</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: <span class="hljs-number"><span class="hljs-number">791234567890</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> userJoiValidator: UserKeys&lt;IUserJoi&gt; = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: Joi.string(), <span class="hljs-attr"><span class="hljs-attr">age</span></span>: Joi.number(), <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: Joi.alternatives([Joi.string(), Joi.number()]) };</code> </pre> <br><h2 id="ispolzovat-variativnye-tipy">  рдкрд░рд┐рд╡рд░реНрддрдирд╢реАрд▓ рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ </h2><br><p>  рдЖрдк рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдкреНрд░рдХрд╛рд░ рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ "OR" рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЧреБрдгреЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рдХреЛрдб рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs">type TString = string | Joi.StringSchema; type TNumber = number | Joi.NumberSchema; type TStdAlter = TString | TNumber; type TAlter = TStdAlter | Joi.AlternativesSchema; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface IUser { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: TString; age: TNumber; phone: TAlter; } type UserKeys&lt;T&gt; = { [key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> keyof T]; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> olex: UserKeys&lt;IUser&gt; = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Olex'</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">67</span></span>, <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: <span class="hljs-string"><span class="hljs-string">'79998887766'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> joiUser: UserKeys&lt;IUser&gt; = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: Joi.string(), <span class="hljs-attr"><span class="hljs-attr">age</span></span>: Joi.number(), <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: Joi.alternatives([Joi.string(), Joi.number()]) };</code> </pre> <br><p>  рдЗрд╕ рдХреЛрдб рдХреА рд╕рдорд╕реНрдпрд╛ рддрдм рдкреНрд░рдХрдЯ рд╣реЛрддреА рд╣реИ рдЬрдм рд╣рдо рдХрд┐рд╕реА рдорд╛рдиреНрдп рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдЪреБрдирдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ, рдЕрд░реНрдерд╛рдд, TS рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдбреЗрдЯрд╛ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╣реЛрдЧрд╛ - рд╕рд░рд▓ рдпрд╛ рдЬреЛрдИред  рдЬрдм <code>number</code> рд░реВрдк рдореЗрдВ рдЕрдкреЗрдХреНрд╖рд┐рдд рдлрд╝реАрд▓реНрдб рдкрд░ рдЧрдгрд┐рддреАрдп рдХрд╛рд░реНрдп рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╕рдордп рдпрд╣ рддреНрд░реБрдЯрд┐ рд╣реЛ рд╕рдХрддреА рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> someUser: IUser = getUserFromDB({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Aleg'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> someWeirdMath = someUser.age % <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-comment"><span class="hljs-comment">// error TS2362: The left-hand side of an arithmetic operation must be of type'any', 'number', 'bigint' or an enum type</span></span></code> </pre> <br><p>  рдпрд╣ рддреНрд░реБрдЯрд┐ <code>Joi.NumberSchema</code> рд╕реЗ рдЖрддреА рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЙрдореНрд░ рдХреЗрд╡рд▓ <code>number</code> рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреА рд╣реИред  рд╡реЗ рдХрд┐рд╕ рд▓рд┐рдП рд▓рдбрд╝реЗ рдФрд░ рднрд╛рдЧреЗред </p><br><h2 id="soedinit-dva-resheniya-v-odno">  рдПрдХ рдореЗрдВ рджреЛ рд╕рдорд╛рдзрд╛рди рдорд┐рд▓рд╛рдПрдВ? </h2><br><p>  рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░ рдХрд╣реАрдВ, рдХрд╛рд░реНрдп рджрд┐рд╡рд╕ рдЕрдкрдиреЗ рддрд╛рд░реНрдХрд┐рдХ рдирд┐рд╖реНрдХрд░реНрд╖ рдХреЗ рдХрд░реАрдм рдкрд╣реБрдВрдЪ рд░рд╣рд╛ рдерд╛ред  рдореИрдВрдиреЗ рдПрдХ рд╕рд╛рдВрд╕ рд▓реА, рдХреЙрдлреА рдкреА рд▓реА рдФрд░ рдХрдордмрдЦреНрдд рдЪреБрджрд╛рдИ рдХреЛ рдорд┐рдЯрд╛ рджрд┐рдпрд╛ред  рдпрд╣ рдЖрдкрдХреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдХреЛ рдХрдо рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ!  рд╕рдордп рдЖ рдЧрдпрд╛ <del>  рдПрдХ рдмрдиреНрджреВрдХ рд▓реЗ рд▓реЛ рдФрд░ </del>  poraskinut рджрд┐рдорд╛рдЧ: </p><br><ol><li>  рдПрдХ рд╡рд╕реНрддреБ рдХреЛ рд╕реНрдкрд╖реНрдЯ рдореВрд▓реНрдп рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдмрдирд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП; </li><li>  рдЖрдк рдПрдХрд▓ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдкреНрд░рдХрд╛рд░ рдлреЗрдВрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЗрдирд░рд┐рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ; </li><li>  рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд░реНрдерди рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░рдХрд╛рд░; </li><li>  <code>type</code> рдирд┐рд░реНрдорд╛рдг рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдХреБрдЫ рдФрд░ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИред </li></ol><br><p>  рд╣рдо рд╕рд╛рдорд╛рдиреНрдп рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рд╛рде рд╕рд╛рдорд╛рдиреНрдп рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд▓рд┐рдЦрддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs">interface IUser &lt; TName = string, TAge = number, TAlt = string | number &gt; { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: TName; age: TAge; phone: TAlt; }</code> </pre> <br><p>  рдЬреЛрдИ рдХреЗ рд▓рд┐рдП, рдЖрдк рдПрдХ рджреВрд╕рд░рд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдореБрдЦреНрдп рд╣реИ: </p><br><pre> <code class="javascript hljs">interface IUserJoi extends IUser &lt; Joi.StringSchema, Joi.NumberSchema, Joi.AlternativesSchema &gt; {}</code> </pre> <br><p>  рдкрд░реНрдпрд╛рдкреНрдд рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЕрдЧрд▓реЗ рдбреЗрд╡рд▓рдкрд░ рд╣рд▓реНрдХреЗ рджрд┐рд▓ рдпрд╛ рдмрджрддрд░ рдХреЗ рд╕рд╛рде <code>IUserJoi</code> рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╕рдорд╛рди рд╡реНрдпрд╡рд╣рд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдзрд┐рдХ рд╕реАрдорд┐рдд рд╡рд┐рдХрд▓реНрдк рд╣реИ: </p><br><pre> <code class="javascript hljs">type IUserJoi = IUser&lt;Joi.StringSchema, Joi.NumberSchema, Joi.AlternativesSchema&gt;;</code> </pre> <br><p>  рд╣рдо рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> aleg: IUser = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Aleg'</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">45</span></span>, <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: <span class="hljs-string"><span class="hljs-string">'79001231212'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> joiUser: IUserJoi = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: Joi.string(), <span class="hljs-attr"><span class="hljs-attr">age</span></span>: Joi.number(), <span class="hljs-attr"><span class="hljs-attr">phone</span></span>: Joi.alternatives([Joi.string(), Joi.number()]) };</code> </pre> <br><p>  <strong>рдпреБрдкреАрдбреА:</strong> <br>  <code>Joi.object</code> рдореЗрдВ рд░реИрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>Joi.object</code> рдореБрдЭреЗ <code>Joi.object</code> рд╕реЗ рд▓рдбрд╝рдирд╛ рдкрдбрд╝рд╛ рдФрд░ рд╕рдмрд╕реЗ рд╕рд░рд▓ рдЙрдкрд╛рдп рдпрд╣реА рдерд╛ред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдзрд╛рд░рдгрд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЙрдкрд░реЛрдХреНрдд рд╡рд╕реНрддреБ рдЕрднреА рднреА рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкрд░ рд╣реИред </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> joiUserInfo = { <span class="hljs-attr"><span class="hljs-attr">info</span></span>: Joi.object(joiUser <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> any).required() };</code> </pre> <br><p>  рдпрд╣ рд╕рдВрдХрд▓рди рдХрд░рддрд╛ рд╣реИ, рдЙрдкрдпреЛрдЧ рдХреА рдЬрдЧрд╣ рдкрд░ рд╕рд╛рдл-рд╕реБрдерд░рд╛ рджрд┐рдЦрддрд╛ рд╣реИ, рдФрд░ рд╡рд┐рд╢реЗрд╖ рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рдЕрднрд╛рд╡ рдореЗрдВ рд╣рдореЗрд╢рд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░рдХрд╛рд░ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ!  рд╕реМрдВрджрд░реНрдп ... <br><img src="https://habrastorage.org/getpro/habr/post_images/f8c/4c4/96b/f8c4c496b545e0d6bd4a249feda9095f.jpg" alt="-" title="рджреБрдЦрдж рдореБрд╕реАрдмрдд"><br>  ... рдореИрдВрдиреЗ рджреЛ рдХрд╛рд░реНрдпрджрд┐рд╡рд╕ рдХреНрдпрд╛ рдмрд┐рддрд╛рдП </p><br><h1 id="rezyumirovanie">  рд╕рд╛рд░рд╛рдВрд╢ </h1><br><p>  <strong>рдЗрд╕ рд╕рдм рд╕реЗ рдХреНрдпрд╛ рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:</strong> </p><br><ol><li>  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдореИрдВрдиреЗ рдпрд╣ рдирд╣реАрдВ рд╕реАрдЦрд╛ рдХрд┐ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рдЙрддреНрддрд░ рдХреИрд╕реЗ рдЦреЛрдЬреЗ рдЬрд╛рдПрдБред  рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдПрдХ рд╕рдлрд▓ рдЕрдиреБрд░реЛрдз рдХреЗ рд╕рд╛рде, рдпрд╣ рд╕рдорд╛рдзрд╛рди (рдпрд╛ рдЗрд╕рд╕реЗ рднреА рдмреЗрд╣рддрд░) рдЦреЛрдЬ рдЗрдВрдЬрди рдХреЗ рдкрд╣рд▓реЗ 5k рд▓рд┐рдВрдХ рдореЗрдВ рд╣реИ; </li><li>  рдЧрддрд┐рд╢реАрд▓ рд╕реЗ рд╕реНрдерд┐рд░ рд╕реЛрдЪ рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░рдирд╛ рдЗрддрдирд╛ рдЖрд╕рд╛рди рдирд╣реАрдВ рд╣реИ, рдмрд╣реБрдд рдмрд╛рд░ рдореИрдВ рдРрд╕реЗ рдЭреБрдВрдб рдкрд░ рд╕рд┐рд░реНрдл рд╣рдереМрдбрд╝рд╛ рдЪрд▓рд╛рддрд╛ рд╣реВрдВ; </li><li>  рдЬреЗрдирд░рд┐рдХ рд╢рд╛рдВрдд рд╣реИрдВред  рд╣реЗрдмреНрд░рд╛ рдФрд░ рд╕реНрдЯреИрдХрдУрд╡рд░рдлрд╝реНрд▓реЛ рдкрд░ рднрд░рд╛ рд╣реБрдЖ рд╣реИ <del>  рд╕рд╛рдЗрдХрд┐рд▓реЛрдВ рдХреА </del>  рдЧреИрд░-рд╕реНрдкрд╖реНрдЯ рд╕рдорд╛рдзрд╛рди рдордЬрдмреВрдд рдЯрд╛рдЗрдкрд┐рдВрдЧ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП ... рд░рдирдЯрд╛рдЗрдо рдХреЗ рдмрд╛рд╣рд░ред </li></ol><br><p>  <strong>рд╣рдордиреЗ рдХреНрдпрд╛ рдЬреАрддрд╛:</strong> </p><br><ol><li>  рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрджрд▓рддреЗ рд╕рдордп, рд╕рднреА рдХреЛрдб рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рднреА рд╢рд╛рдорд┐рд▓ рд╣реИ; </li><li>  рд╕рдВрдкрд╛рджрдХ рдореЗрдВ, рд╕рдВрдкрддреНрддрд┐ рдХреЗ рдирд╛рдо рдФрд░ рд╡реИрдзрддрд╛ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдСрдмреНрдЬреЗрдХреНрдЯ рд╡реИрд▓реНрдпреВ рдХреЗ рдкреНрд░рдХрд╛рд░реЛрдВ рдкрд░ рд╕реБрдЭрд╛рд╡ рджрд┐рдЦрд╛рдИ рджрд┐рдП; </li><li>  рдПрдХ рд╣реА рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рдЕрд╕реНрдкрд╖реНрдЯ рддреГрддреАрдп-рдкрдХреНрд╖ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреА рдХрдореА; </li><li>  рдЬреЙрдп рдирд┐рдпрдореЛрдВ рдХреЛ рдХреЗрд╡рд▓ рд╡рд╣реАрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдЬрд╣рд╛рдВ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рдЕрдиреНрдп рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░рдХрд╛рд░; </li><li>  рдпрджрд┐ рдХреЛрдИ рдХрд┐рд╕реА рд╕рдВрдкрддреНрддрд┐ рдХреЗ рдореВрд▓реНрдп рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдмрджрд▓рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ, рддреЛ рдХреЛрдб рдХреЗ рд╕рд╣реА рд╕рдВрдЧрдарди рдХреЗ рд╕рд╛рде, рд╡рд╣ рдЙрд╕ рд╕реНрдерд╛рди рдкрд░ рдЧрд┐рд░ рдЬрд╛рдПрдЧрд╛ рдЬрд╣рд╛рдВ рдЗрд╕ рд╕рдВрдкрддреНрддрд┐ рд╕реЗ рдЬреБрдбрд╝реЗ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдПрдХ рд╕рд╛рде рдЗрдХрдЯреНрдард╛ рд╣реЛрддреЗ рд╣реИрдВ; </li><li>  рд╣рдордиреЗ рдЦреВрдмрд╕реВрд░рддреА рд╕реЗ рд╕реАрдЦрд╛ рд╣реИ рдФрд░ рдмрд╕ <code>type</code> рдЕрдореВрд░реНрдд рдХреЗ рдкреАрдЫреЗ рдЬреЗрдиреЗрд░рд┐рдХ рдЫрд┐рдкрд╛рддреЗ рд╣реИрдВ, рдиреЗрддреНрд░рд╣реАрди рд░рд╛рдХреНрд╖рд╕реА рдирд┐рд░реНрдорд╛рдгреЛрдВ рд╕реЗ рдХреЛрдб рдХреЛ рдЕрдирд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВред </li></ol><br><p>  <strong>рдиреИрддрд┐рдХ:</strong> рдЕрдиреБрднрд╡ рдЕрдирдореЛрд▓ рд╣реИ, рдмрд╛рдХреА рдХреЗ рд▓рд┐рдП, рдПрдХ рд╡рд┐рд╢реНрд╡ рдорд╛рдирдЪрд┐рддреНрд░ рд╣реИред </p><br><p>  рдЖрдк рдЕрдВрддрд┐рдо рдкрд░рд┐рдгрд╛рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЫреВ рд╕рдХрддреЗ рд╣реИрдВ, рднрд╛рдЧ рд╕рдХрддреЗ рд╣реИрдВ: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://repl.it/@Melodyn/Joi-by-interface</a> <br><img src="https://i01.fotocdn.net/s27/157/public_pin_m/250/2670655900.jpg" alt="" title="рдЯреБрдЯ"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi450238/">https://habr.com/ru/post/hi450238/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi450228/index.html">рд░реЗрдмреАрдЬ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ 10 рдорд┐рдердХ</a></li>
<li><a href="../hi450230/index.html">рдЖрдк Google рдирд╣реАрдВ рд╣реИрдВ</a></li>
<li><a href="../hi450232/index.html">рд░рд┐рд╡рд░реНрд╕ рдСрд╕реНрдореЛрд╕рд┐рд╕ рдЬрд▓ рд╢реЛрдзрди рдкреНрд░рдгрд╛рд▓реА - рдорд╣рд╛рди рдпрд╛ рдирд╣реАрдВ?</a></li>
<li><a href="../hi450234/index.html">рдорд╢реАрдиреЗрдВ рдХреИрд╕реЗ рд╕рдВрд╡рд╛рдж рдХрд░рддреА рд╣реИрдВ: рдореЛрдбрдмрд╕ рдкреНрд░реЛрдЯреЛрдХреЙрд▓</a></li>
<li><a href="../hi450236/index.html">рдХреИрд╕реЗ рдореИрдВрдиреЗ рдЪрд┐рдВрддрд╛ рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдФрд░ рдЯрд╛рдЗрдо рдЯреНрд░реИрдХрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдПрдХ рдЕрд▓рдЧ рдирдЬрд╝рд░ рдбрд╛рд▓реА</a></li>
<li><a href="../hi450240/index.html">рд╡реЙрд▓рдорд╛рд░реНрдЯ рдиреЗ рдкрд╣рд▓реЗ рдПрдЖрдИ-рдбреНрд░рд┐рд╡реЗрди рд╕реНрдЯреЛрд░ рдЦреЛрд▓рд╛</a></li>
<li><a href="../hi450242/index.html">рдЖрдкрдХреЛ рджреВрд╕рд░реЗ PHP рдврд╛рдВрдЪреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рдереА?</a></li>
<li><a href="../hi450244/index.html">рд╢реНрд╡реЗрдд рдкрддреНрд░ рдХреИрд╕реЗ рд▓рд┐рдЦреЗрдВ рдФрд░ рдмрдврд╝рд╛рд╡рд╛ рджреЗрдВ?</a></li>
<li><a href="../hi450246/index.html">рдЖрдИрдмреАрдПрдо 705 рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдЯреНрдпреВрдм рдЙрдЫрд╛рд▓ рджрдорди рдореЙрдбреНрдпреВрд▓ред рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рдЪрд╛рд▓реВ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ?</a></li>
<li><a href="../hi450248/index.html">Navisworks рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдЖрдЗрдЯрдо рдХрд╛ рд░рдВрдЧ рд╕рд╣реЗрдЬрдирд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>