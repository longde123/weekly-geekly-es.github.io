<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöÑ ‚ö±Ô∏è ‚§¥Ô∏è Arbeiten Sie mit der KOMPAS-3D-API ‚Üí Lektion 10 ‚Üí Sonderzeichen einschlie√ülich einer Zeichenfolge üï¥üèæ üèîÔ∏è üë®üèΩ‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bereits in der 4. Lektion unseres Zyklus haben wir Sonderzeichen kennengelernt. Dort wurde ihre einfachste Verwendung gezeigt. Wenn die ksTextItemPara...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arbeiten Sie mit der KOMPAS-3D-API ‚Üí Lektion 10 ‚Üí Sonderzeichen einschlie√ülich einer Zeichenfolge</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ascon/blog/414701/">  Bereits in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4. Lektion</a> unseres Zyklus haben wir Sonderzeichen kennengelernt.  Dort wurde ihre einfachste Verwendung gezeigt.  Wenn die <b>ksTextItemParam-</b> Schnittstelle sowohl ein Sonderzeichen als auch eine Zeichenfolge angibt, befindet sich die Zeichenfolge unmittelbar nach dem Sonderzeichen.  Es gibt jedoch Sonderzeichen, die gegen diese Regel versto√üen.  Wir werden heute dar√ºber sprechen. <br><br><img src="https://habrastorage.org/webt/iw/kr/zf/iwkrzfipwrlcopjm1kbpct1n2j4.png"><br><br><a name="habracut"></a><br><blockquote><h4>  Der Inhalt der Unterrichtsreihe ‚ÄûArbeiten mit der KOMPAS-3D-API‚Äú </h4><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Grundlagen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zeichnungsentwurf</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Richtige Verbindung zu KOMPAS</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hauptinschrift</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Grafische Grundelemente</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Speichern eines Dokuments in verschiedenen Formaten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einstellungen kennenlernen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anspruchsvollere Schreibmethoden im Schriftfeld</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beschriftungszellen lesen</a> </li><li>  <b>Sonderzeichen einschlie√ülich einer Zeichenfolge</b> </li></ol><br></blockquote><br><h2>  <font color="#00B2FF">Sonderzeichen einschlie√ülich einer Zeichenfolge</font> </h2><br><img src="https://habrastorage.org/webt/0s/x3/wh/0sx3whiq1g1yjkqoi764nrg8owm.png"><br>  <i>Die Tabelle der Sonderzeichen befindet sich in Anhang V der Haupthilfe von KOMPAS</i> <br><br>  Sonderzeichen mit den Nummern <i>78-80</i> , <i>83</i> , <i>93-99</i> , <i>171</i> und <i>172</i> enthalten die Zeichenfolge.  In diesem Fall befindet sich die Zeichenfolge <b>s der</b> Schnittstelle <b>ksTextItemParam</b> nicht nach dem Sonderzeichen, sondern darin.  Beispielsweise zeigt ein Sonderzeichen mit der Nummer <i>80</i> den Text im Rahmen an.  Das Folgende ist ein Beispiel f√ºr ein Programm, das die Arbeit mit einem solchen Sonderzeichen demonstriert. <br><br><pre><code class="hljs erlang-repl">//    TextItemParamPtr TextItemParam; TextItemParam=(TextItemParamPtr)kompas-&gt;GetParamStruct(ko_TextItemParam); //  TextItemParam-&gt;set_type(SPECIAL_SYMBOL); TextItemParam-&gt;set_iSNumb(<span class="hljs-number"><span class="hljs-number">98</span></span>); BSTR str = SysAllocString(L<span class="hljs-string"><span class="hljs-string">""</span></span>); TextItemParam-&gt;set_s(str); SysFreeString(str); //    StampPtr Stamp; Stamp=(StampPtr)Document2D-&gt;GetStamp(); //     Stamp-&gt;ksOpenStamp(); Stamp-&gt;ksColumnNumber(<span class="hljs-number"><span class="hljs-number">1</span></span>); Stamp-&gt;ksTextLine(TextItemParam); //     Stamp-&gt;ksCloseStamp(); Stamp.Unbind(); TextItemParam.Unbind(); Document2D.Unbind(); //   kompas-&gt;Visible = true; kompas.Unbind();</code> </pre> <br>  In diesem Beispiel wird der Einfachheit halber der Code weggelassen, der f√ºr die Erstellung und Ausf√ºhrung des Dokuments verantwortlich ist (dieses Thema wurde in fr√ºheren Lektionen des Zyklus behandelt).  Die folgende Abbildung zeigt das von diesem Programm gebildete Hauptetikett. <br><br><img src="https://habrastorage.org/webt/19/we/pi/19wepilxlhns4c6pzxl4okbo-4u.png"><br><br>  Der Einfachheit halber f√ºllen wir nur eine Zelle aus.  Das Sonderzeichen mit der Nummer <i>98</i> definiert das Vorzeichen der Quadratwurzel.  Beachten Sie, dass der Wert der s-Eigenschaft der <b>ksTextItemParam-</b> Schnittstelle vollst√§ndig unter dem <b>Stammzeichen liegt</b> .  Andere Sonderzeichen, einschlie√ülich der Zeichenfolge, funktionieren genauso. <br><br><h2>  <font color="#00B2FF">Sonderzeichen und <b>ksTextLineParam</b></font> </h2><br>  Die Aktion von Sonderzeichen ist nicht auf die Schnittstelle <b>ksTextItemParam</b> beschr√§nkt.  Betrachten Sie das folgende Beispiel. <br><br><pre> <code class="hljs erlang-repl">//     TextItemParamPtr TextItemParam; TextItemParam=(TextItemParamPtr)kompas-&gt;GetParamStruct(ko_TextItemParam); //     DynamicArrayPtr DynamicArray; DynamicArray=(DynamicArrayPtr)kompas-&gt;GetDynamicArray(TEXT_ITEM_ARR); //   TextItemParam-&gt;set_type(SPECIAL_SYMBOL); TextItemParam-&gt;set_iSNumb(<span class="hljs-number"><span class="hljs-number">98</span></span>); BSTR str = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"1 "</span></span>); TextItemParam-&gt;set_s(str); SysFreeString(str); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); //   TextItemParam-&gt;Init(); TextItemParam-&gt;set_type(SPECIAL_SYMBOL); TextItemParam-&gt;set_iSNumb(<span class="hljs-number"><span class="hljs-number">169</span></span>); str = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"2 "</span></span>); TextItemParam-&gt;set_s(str); SysFreeString(str); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); //   TextItemParam-&gt;Init(); TextItemParam-&gt;set_type(<span class="hljs-number"><span class="hljs-number">0</span></span>); str = SysAllocString(L<span class="hljs-string"><span class="hljs-string">" 3"</span></span>); TextItemParam-&gt;set_s(str); SysFreeString(str); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); //   ksTextLineParam TextLineParamPtr TextLineParam; TextLineParam=(TextLineParamPtr)kompas-&gt;GetParamStruct(ko_TextLineParam); TextLineParam-&gt;SetTextItemArr(DynamicArray); //    StampPtr Stamp; Stamp=(StampPtr)Document2D-&gt;GetStamp(); //     Stamp-&gt;ksOpenStamp(); Stamp-&gt;ksColumnNumber(<span class="hljs-number"><span class="hljs-number">1</span></span>); Stamp-&gt;ksTextLine(TextLineParam); //     Stamp-&gt;ksCloseStamp(); Stamp.Unbind(); TextItemParam.Unbind(); TextLineParam.Unbind(); DynamicArray-&gt;ksDeleteArray(); DynamicArray.Unbind(); Document2D.Unbind(); //   kompas-&gt;Visible = true; kompas.Unbind();</code> </pre><br>  In diesem Beispiel wird eine Zeile mit drei Komponenten in das Schriftfeld eingegeben.  Die ersten beiden enthalten ein Sonderzeichen und eine Zeichenfolge.  Die dritte Komponente enth√§lt nur eine Zeichenfolge ohne Sonderzeichen.  Schauen wir uns das Ergebnis des Programms an (die folgende Abbildung zeigt nur die generierte Zeile ohne die Hauptbeschriftung). <br><br><img src="https://habrastorage.org/webt/0o/4a/pk/0o4apkmrscynicmcq1otwlhtkfm.png"><br><br>  Bitte beachten Sie, dass die Zeile <i>‚ÄûSeite 2‚Äú</i> und die Zeile <i>‚ÄûSeite 3‚Äú</i> im zweiten Sonderzeichen enthalten waren, das au√üerhalb des Sonderzeichens angezeigt werden sollte.  Dar√ºber hinaus waren beide Zeilen im ersten Sonderzeichen enthalten (wir haben dies auch nicht geplant).  Dieses Beispiel zeigt zwei wichtige Punkte: <br><br><ul><li>  Sonderzeichen k√∂nnen andere Sonderzeichen enthalten; </li><li>  Die Aktion des Sonderzeichens erstreckt sich auf alle Komponenten, aus denen die <b>ksTextLineParam-</b> Schnittstelle besteht. </li></ul><br>  Es stellt sich eine vern√ºnftige Frage: Gibt es eine M√∂glichkeit, die Wirkung des Sonderzeichens einzuschr√§nken?  Ja, das gibt es.  Um dies zu verstehen, m√ºssen Sie sich zun√§chst mit der <b>ksTextItemFont-</b> Schnittstelle vertraut <b>machen</b> . <br><br><h2>  <font color="#00B2FF"><b>Schriftoptionen f√ºr Textkomponenten</b> ( <b>ksTextItemFont</b> )</font> </h2><br>  Gem√§√ü der Dokumentation beschreibt die Schnittstelle <b>ksTextItemFont</b> die Schriftparameter der Textkomponente.  Tats√§chlich gehen seine F√§higkeiten jedoch √ºber die einfache Beschreibung der verwendeten Schriftart hinaus.  √úber diese Schnittstelle k√∂nnen Sie zusammengesetzte Linien erstellen (dar√ºber - in den n√§chsten Lektionen des Zyklus). <br><br>  Sie k√∂nnen es auf verschiedene Arten bekommen.  Verwenden Sie zun√§chst die <b>GetParamStruct-</b> Methode der <b>KompasObject-</b> Schnittstelle: Dazu sollte die Konstante <b>ko_TextItemFont</b> als einziger Parameter an diese Methode √ºbergeben werden.  Zweitens mit der <b>GetItemFont-</b> Methode der <b>ksTextItemParam-</b> Schnittstelle.  Diese Methode hat keine Eingabeparameter und gibt die <b>ksTextItemFont-</b> Schnittstelle zur√ºck, die bereits der Textkomponente zugeordnet ist. <br><br>  Ber√ºcksichtigen Sie die Eigenschaften der Schnittstelle <b>ksTextItemFont</b> . <br>  <b>Bitvektor</b> - Ein Bitvektor, der die Eigenschaften des Textes definiert (diese werden in den n√§chsten Lektionen des Zyklus ausf√ºhrlich erl√§utert). <br>  <b>Farbe</b> - Farbe der Zeichen im RGB-Format. <br>  <b>fontName</b> - eine Zeichenfolge mit dem Schriftnamen. <br>  <b>H√∂he</b> - Schrifth√∂he in Millimetern. <br>  <b>ksu</b> ist der <b>Textdehnungsfaktor</b> . <br>  Es <b>gibt</b> nur drei Methoden f√ºr die <b>ksTextItemFont-</b> Schnittstelle. <br>  <b>Init ()</b> setzt alle Schnittstelleneigenschaften zur√ºck.  Es hat keine Eingabeparameter.  Wenn erfolgreich, wird <i>TRUE zur√ºckgegeben</i> und im Fehlerfall <i>FALSE</i> . <br>  <b>GetBitVectorValue</b> gibt den Wert eines einzelnen Flags aus dem <b>Bitvektorsatz zur√ºck</b> .  Als einzigen Parameter wird ein Flag verwendet, dessen Wert wir bestimmen m√∂chten.  Wenn es gesetzt ist, gibt die Methode <i>TRUE zur√ºck</i> , wenn es zur√ºckgesetzt wird, <i>FALSE</i> . <br>  <b>SetBitVectorValue</b> √§ndert den Wert eines einzelnen Flags.  Das Folgende ist ein Prototyp dieser Methode: <br><br><pre> <code class="hljs objectivec"><span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span> SetBitVectorValue ( <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> bitVector, <span class="hljs-comment"><span class="hljs-comment">//  BOOL state //   );</span></span></code> </pre><br>  Wenn der <b>Statusparameterwert</b> <i>TRUE ist</i> , wird das <b>BitVector-</b> Flag gespannt, andernfalls wird es zur√ºckgesetzt. <br>  Bei Erfolg gibt die <b>SetBitVectorValue-</b> Methode <i>TRUE</i> und im Fehlerfall <i>FALSE zur√ºck</i> . <br>  Mit den <b>Methoden</b> <b>GetBitVectorValue</b> und <b>SetBitVectorValue k√∂nnen</b> Sie mit der Eigenschaft <b>bitvector arbeiten,</b> ohne direkt darauf zuzugreifen. <br><br><h2>  <font color="#00B2FF">Sonderzeichenbeschr√§nkung</font> </h2><br>  Zwei Flags steuern Sonderzeichen.  Sie sind in der folgenden Tabelle aufgef√ºhrt. <br><br><img src="https://habrastorage.org/webt/i0/d1/gi/i0d1gimygumrgjotsp1o6fksiyg.png"><br><br>  Das Flag <b>SPECIAL_SYMBOL haben</b> wir bereits bei der Beschreibung der Schnittstelle <b>ksTextItemParam ber√ºcksichtigt</b> .  Es wird ben√∂tigt, um anzuzeigen, dass ein Sonderzeichen angezeigt wird.  Das gleiche Flag wird in der <b>bitVector-</b> Eigenschaft der <b>ksTextItemFont-</b> Schnittstelle <b>dupliziert</b> (wie meine Experimente zeigen, ist diese Duplizierung optional). <br><br>  Das zweite Flag ( <b>SPECIAL_SYMBOL_END</b> ) ist nur f√ºr Sonderzeichen sinnvoll, die eine Zeichenfolge enthalten.  Es bricht die Aktion des Sonderzeichens ab.  Nach diesem Flag angezeigte Zeilen sind nicht im Sonderzeichen enthalten. <br><br>  Die kombinierte Aktion beider Flags hebt die Aktion des Sonderzeichens auf.  In diesem Fall wird das Sonderzeichen nicht im Dokument angezeigt. <br><br><h2>  <font color="#00B2FF">Beispiel</font> </h2><br>  Unten finden Sie den Quellcode des ge√§nderten Programms.  Mit den oben beschriebenen Flags wird die korrekte Ausgabe von Komponenten implementiert. <br><br><pre> <code class="hljs erlang-repl">//     TextItemParamPtr TextItemParam; TextItemParam=(TextItemParamPtr)kompas-&gt;GetParamStruct(ko_TextItemParam); //     DynamicArrayPtr DynamicArray; DynamicArray=(DynamicArrayPtr)kompas-&gt;GetDynamicArray(TEXT_ITEM_ARR); //   TextItemParam-&gt;set_type(SPECIAL_SYMBOL); TextItemParam-&gt;set_iSNumb(<span class="hljs-number"><span class="hljs-number">98</span></span>); BSTR str = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"1 "</span></span>); TextItemParam-&gt;set_s(str); SysFreeString(str); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); //   TextItemFontPtr TextItemFont; TextItemParam-&gt;Init(); TextItemFont=(TextItemFontPtr)TextItemParam-&gt;GetItemFont(); TextItemFont-&gt;set_bitVector(SPECIAL_SYMBOL_END); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); TextItemFont-&gt;Init(); TextItemFont.Unbind(); //   TextItemParam-&gt;Init(); TextItemParam-&gt;set_type(SPECIAL_SYMBOL); TextItemParam-&gt;set_iSNumb(<span class="hljs-number"><span class="hljs-number">169</span></span>); str = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"2 "</span></span>); TextItemParam-&gt;set_s(str); SysFreeString(str); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); //      TextItemParam-&gt;Init(); TextItemFont=(TextItemFontPtr)TextItemParam-&gt;GetItemFont(); TextItemFont-&gt;set_bitVector(SPECIAL_SYMBOL_END); TextItemParam-&gt;set_type(<span class="hljs-number"><span class="hljs-number">0</span></span>); str = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"  3"</span></span>); TextItemParam-&gt;set_s(str); SysFreeString(str); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); TextItemFont.Unbind(); //   ksTextLineParam TextLineParamPtr TextLineParam; TextLineParam=(TextLineParamPtr)kompas-&gt;GetParamStruct(ko_TextLineParam); TextLineParam-&gt;SetTextItemArr(DynamicArray); //    StampPtr Stamp; Stamp=(StampPtr)Document2D-&gt;GetStamp(); //     Stamp-&gt;ksOpenStamp(); Stamp-&gt;ksColumnNumber(<span class="hljs-number"><span class="hljs-number">1</span></span>); Stamp-&gt;ksTextLine(TextLineParam); //     Stamp-&gt;ksCloseStamp(); Stamp.Unbind(); TextItemParam.Unbind(); TextLineParam.Unbind(); DynamicArray-&gt;ksDeleteArray(); DynamicArray.Unbind(); Document2D.Unbind(); //   kompas-&gt;Visible = true; kompas.Unbind();</code> </pre><br>  Der einzige Unterschied zwischen diesem und dem vorherigen Beispiel besteht darin, dass nach jedem Sonderzeichen eine Komponente angezeigt wird, f√ºr die das <b>SPECIAL_SYMBOL_END-</b> Flag in der Schnittstelle <b>ksTextItemFont gesetzt ist</b> .  Ihr einziger Zweck ist es, die Aktion des Sonderzeichens abzubrechen.  Im ersten Fall enth√§lt es keine Daten (au√üer nat√ºrlich das Flag).  Und im zweiten Fall enth√§lt es die Zeichenfolge <i>‚ÄûSeite 3‚Äú</i> . <br><br>  Sie k√∂nnen das Flag <b>SPECIAL_SYMBOL_END nicht</b> mit der Ausgabe des zweiten Sonderzeichens kombinieren.  Da in diesem Fall dieses Flag die Aktion beider Sonderzeichen abbricht.  Die Zeile <i>"Seite 2"</i> wird ohne Durchstreichen angezeigt. <br><br>  Die folgende Abbildung zeigt die vom Programm im Schriftfeld angezeigte Zeile. <br><br><img src="https://habrastorage.org/webt/hj/cd/tn/hjcdtneeonrdvngvleec6uaxuic.png"><br><br>  Wie Sie sehen k√∂nnen, gilt die Aktion von Sonderzeichen jetzt nur f√ºr "Ihre" Komponente. <br><br><h2>  <font color="#00B2FF">Verschachtelte spezielle Symbole</font> </h2><br>  Das erste Beispiel unserer heutigen Lektion zeigt deutlich, dass Sonderzeichen ineinander eingebettet werden k√∂nnen.  Das Flag <b>SPECIAL_SYMBOL_END bricht</b> die Aktion eines (letzten) Sonderzeichens ab.  Auf diese Weise k√∂nnen Sie komplexe Linien mit eingebetteten Sonderzeichen erstellen. <br><br>  Unten finden Sie den Quellcode des ge√§nderten Beispiels, in dem der Teilstring <i>‚ÄûSeite 2‚Äú</i> auch im Ausdruck unter dem Quadratwurzelzeichen enthalten ist. <br><br><pre> <code class="hljs erlang-repl">//     TextItemParamPtr TextItemParam; TextItemParam=(TextItemParamPtr)kompas-&gt;GetParamStruct(ko_TextItemParam); //     DynamicArrayPtr DynamicArray; DynamicArray=(DynamicArrayPtr)kompas-&gt;GetDynamicArray(TEXT_ITEM_ARR); //   TextItemParam-&gt;set_type(SPECIAL_SYMBOL); TextItemParam-&gt;set_iSNumb(<span class="hljs-number"><span class="hljs-number">98</span></span>); BSTR str = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"1 "</span></span>); TextItemParam-&gt;set_s(str); SysFreeString(str); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); //   TextItemParam-&gt;Init(); TextItemParam-&gt;set_type(SPECIAL_SYMBOL); TextItemParam-&gt;set_iSNumb(<span class="hljs-number"><span class="hljs-number">169</span></span>); str = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"2 "</span></span>); TextItemParam-&gt;set_s(str); SysFreeString(str); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); //   TextItemFontPtr TextItemFont; TextItemParam-&gt;Init(); TextItemFont=(TextItemFontPtr)TextItemParam-&gt;GetItemFont(); TextItemFont-&gt;set_bitVector(SPECIAL_SYMBOL_END); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); //      TextItemParam-&gt;set_type(<span class="hljs-number"><span class="hljs-number">0</span></span>); str = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"  3"</span></span>); TextItemParam-&gt;set_s(str); SysFreeString(str); DynamicArray-&gt;ksAddArrayItem(-<span class="hljs-number"><span class="hljs-number">1</span></span>, TextItemParam); TextItemFont.Unbind(); //   ksTextLineParam TextLineParamPtr TextLineParam; TextLineParam=(TextLineParamPtr)kompas-&gt;GetParamStruct(ko_TextLineParam); TextLineParam-&gt;SetTextItemArr(DynamicArray); //    StampPtr Stamp; Stamp=(StampPtr)Document2D-&gt;GetStamp(); //     Stamp-&gt;ksOpenStamp(); Stamp-&gt;ksColumnNumber(<span class="hljs-number"><span class="hljs-number">1</span></span>); Stamp-&gt;ksTextLine(TextLineParam); //     Stamp-&gt;ksCloseStamp(); Stamp.Unbind(); TextItemParam.Unbind(); TextLineParam.Unbind(); DynamicArray-&gt;ksDeleteArray(); DynamicArray.Unbind(); Document2D.Unbind(); //   kompas-&gt;Visible = true; kompas.Unbind();</code> </pre><br>  Bitte beachten Sie, dass wir nach dem Ersetzen der Zeichenfolge <i>"Seite 2"</i> die Komponente mit dem Flag <b>SPECIAL_SYMBOL_END</b> doppelt ausgeben (das erste Mal - als Teil einer leeren Komponente, das zweite Mal - zusammen mit der Zeichenfolge <i>"Seite 3"</i> ).  Dies ist erforderlich, um die Aktion von Sonderzeichen abzubrechen.  Das erste Mal l√∂schen wir das Sonderzeichen <i>169</i> (durchgestrichen), das zweite Mal - <i>98</i> (Quadratwurzel).  Wenn wir nur eine Komponente mit dem Flag <b>SPECIAL_SYMBOL_END anzeigen w√ºrden</b> , w√ºrde dies nur das Sonderzeichen <i>169</i> , aber nicht <i>98</i> aufheben.  In diesem Fall w√ºrde die Zeile <i>‚ÄûSeite 3‚Äú</i> nicht durchgestrichen, sondern in den Ausdruck unter dem Wurzelzeichen aufgenommen. <br>  Die folgende Abbildung zeigt das Ergebnis dieses Programms. <br><br><img src="https://habrastorage.org/webt/fs/x5/gc/fsx5gc3eq24wn7m1k1mbbgfah_m.png"><br><br>  <b>Fazit</b> <br><br>  Im Rahmen dieser Lektion haben wir Sonderzeichen kennengelernt, die eine Zeichenfolge enthalten.  Wie Sie gesehen haben, unterscheiden sie sich erheblich von einfachen Sonderzeichen (z. B. Buchstaben des griechischen Alphabets).  Obwohl wir sie am Beispiel der Hauptinschrift gezeigt haben, sollte dies Sie nicht verwirren.  Diese Zeichen k√∂nnen in anderen Textausgabemethoden verwendet werden.  Wir werden eine dieser Methoden in der n√§chsten Lektion betrachten. <br><br>  <b>Um fortzufahren, folgen Sie den Nachrichten des Blogs.</b> <br><br> <a href=""><img src="https://habrastorage.org/web/595/eee/f27/595eeef271b24830b3578751fcb52716.png"></a>  Sergey Norseev, Ph.D., Autor des Buches "Anwendungsentwicklung f√ºr COMPAS in Delphi". </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de414701/">https://habr.com/ru/post/de414701/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de414689/index.html">Offene Lektion "Webanwendungen und Microservices auf Spring Boot 2.0"</a></li>
<li><a href="../de414691/index.html">Hintergrund. YouTube Music und YouTube Premium: Was es ist und wie sie sich unterscheiden</a></li>
<li><a href="../de414693/index.html">Fujitsu fi-4750C unter Windows 10 √ºber Adaptec 78xx SCSI</a></li>
<li><a href="../de414695/index.html">NanoEinf√ºhrung in das Internet der Nano-Dinge. Teil 2</a></li>
<li><a href="../de414699/index.html">Unregelm√§√üige Kacheln auf der Oberfl√§che von prozedural erzeugten Planeten</a></li>
<li><a href="../de414703/index.html">(Fast) sechs Monate sp√§ter - eine Meinungsk√ºrzung zu den Budget-Heimprojektoren Epson EH-TW610 und Epson EH-TW650. Und noch eine Umfrage</a></li>
<li><a href="../de414705/index.html">Meisterwerke der globalen Lautsprecherkonstruktion: √úberwachen Sie den innovativen Weg von Audio von Stoff zu Metall und Verbundwerkstoffen</a></li>
<li><a href="../de414707/index.html">Blockchain-Analyse oder warum ist der Mischer kaputt gegangen?</a></li>
<li><a href="../de414709/index.html">W√ºstenl√∂wen und Selbstbeobachtung</a></li>
<li><a href="../de414711/index.html">Die spanische Fu√üball-App La Liga hat ihre Nutzer zu unfreiwilligen Betr√ºgern gemacht</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>