<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òÄÔ∏è üì∫ üåÜ Stockage d'objets dans l'arri√®re-boutique ou Comment devenir votre propre fournisseur de services üôÅ üõ¥ üë¶üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le monde a vu le premier prototype de stockage d'objets en 1996. Apr√®s 10 ans, Amazon Web Services lancera Amazon S3 et le monde commencera √† devenir ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Stockage d'objets dans l'arri√®re-boutique ou Comment devenir votre propre fournisseur de services</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/474746/"><p>  Le monde a vu le premier prototype de stockage d'objets en 1996.  Apr√®s 10 ans, Amazon Web Services lancera Amazon S3 et le monde commencera √† devenir fou avec un espace d'adressage plat.  En raison du travail avec les m√©tadonn√©es et de sa capacit√© √† √©voluer sans s'affaisser sous la charge, le stockage d'objets est rapidement devenu la norme pour la plupart des services de stockage cloud, et plus encore.  Une autre caract√©ristique importante est sa bonne capacit√© √† stocker des archives et des fichiers similaires rarement utilis√©s.  Tous ceux qui √©taient impliqu√©s dans le stockage de donn√©es se sont r√©jouis et ont apport√© la nouvelle technologie sous la main. </p><br><p><img src="https://habrastorage.org/webt/qy/bh/on/qybhon6eznwjioedof1nfoqb55s.png"></p><br><p>  Mais la rumeur des gens √©tait pleine de rumeurs selon lesquelles le stockage d'objets ne concerne que les gros nuages, et si vous n'avez pas besoin de solutions des maudits capitalistes, alors il sera tr√®s difficile de faire le v√¥tre.  Beaucoup a √©t√© √©crit sur le d√©ploiement de son cloud, mais il n'y a pas beaucoup d'informations sur la cr√©ation des solutions dites compatibles S3. </p><br><p>  Par cons√©quent, aujourd'hui, nous allons d√©terminer quelles sont les options "Pour le rendre plus semblable aux adultes, pas au CEPH et √† un fichier plus gros", nous d√©velopperons l'un d'entre eux et nous v√©rifierons avec Veeam Backup &amp; Replication pour v√©rifier que tout fonctionne.  Il revendique la prise en charge du travail avec les r√©f√©rentiels compatibles S3, et nous v√©rifierons cette d√©claration. </p><a name="habracut"></a><br><p>  <strong>Et les autres?</strong> </p><br><p>  Je sugg√®re de commencer par un bref aper√ßu du march√© et des options de stockage d'objets.  L'Amazon S3 est un leader et un standard reconnu.  Les deux poursuivants les plus proches sont Microsoft Azure Blob Storage et IBM Cloud Object Storage. </p><br><p>  C'est tout?  N'y a-t-il vraiment pas d'autres concurrents?  Bien s√ªr, il y a des concurrents, mais quelqu'un suit son propre chemin, comme Google Cloud ou Oracle Cloud Object Storage, avec une prise en charge incompl√®te de l'API S3.  Quelqu'un utilise des versions plus anciennes de l'API comme Baidu Cloud.  Et certains, comme Hitachi Cloud, n√©cessitent l'utilisation d'une logique sp√©ciale, ce qui entra√Ænera certainement leurs difficult√©s.  En tout cas, tout le monde est compar√© √† Amazon, qui peut √™tre consid√©r√© comme une norme industrielle. </p><br><p>  Mais les solutions sur site ont beaucoup plus de choix, alors identifions les crit√®res qui sont importants pour nous.  En principe, seuls deux suffisent: la prise en charge de l'API S3 et l'utilisation de la signature v4.  En tant que futur client, nous ne sommes int√©ress√©s que par les interfaces pour l'interaction, et la cuisine interne du stockage lui-m√™me n'est pas si int√©ressante pour nous. </p><br><p>  Eh bien, beaucoup de solutions conviennent √† ces conditions simples.  Par exemple, les poids lourds d'entreprise classiques: </p><br><ul><li>  DellEMC ECS </li><li>  NetApp S3 StorageGrid </li><li>  Godets Nutanix </li><li>  Pure Storage FlashBlade et StorReduce </li><li>  Huawei FusionStorage </li></ul><br><p>  Il existe un cr√©neau de solutions logicielles pures qui fonctionnent imm√©diatement: </p><br><ul><li>  Chapeau rouge c√©ph </li><li>  Stockage d'entreprise SUSE </li><li>  Cloudian </li></ul><br><p>  Et m√™me ceux qui aiment traiter soigneusement le fichier apr√®s l'assemblage n'ont pas √©t√© offens√©s: </p><br><ul><li>  Ceph pur </li><li>  Minio (version Linux, pour la version Windows il y a beaucoup de questions) </li></ul><br><p>  La liste est loin d'√™tre compl√®te, elle peut √™tre discut√©e dans les commentaires.  N'oubliez pas de v√©rifier les performances du syst√®me en plus de l'API de compatibilit√© avant la mise en ≈ìuvre.  La derni√®re chose dont vous avez besoin est la perte de t√©raoctets de donn√©es en raison de demandes suspendues.  N'h√©sitez donc pas √† effectuer des tests de r√©sistance.  En g√©n√©ral, tous les logiciels pour adultes qui fonctionnent avec de grandes quantit√©s de donn√©es ont au moins des rapports de compatibilit√©.  Dans le cas de <em>Veeam,</em> il existe un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">programme complet</a> de tests mutuels, qui vous permet de d√©clarer en toute s√©curit√© la pleine compatibilit√© de nos produits avec des √©quipements sp√©cifiques.  C'est d√©j√† un travail √† double sens, pas toujours rapide, mais nous √©largissons constamment la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">liste des</a> solutions test√©es. </p><br><p>  <strong>Rassembler notre stand</strong> </p><br><p>  Je voudrais parler un peu du choix d'un sujet de test. </p><br><p>  Tout d'abord, je voulais trouver une option qui fonctionnerait imm√©diatement hors de la bo√Æte.  Eh bien, ou du moins avec la probabilit√© maximale qu'il gagne sans avoir √† faire de gestes suppl√©mentaires.  Danser avec un tambourin et choisir la console la nuit est tr√®s excitant, mais parfois je veux que √ßa marche tout de suite.  Et la fiabilit√© g√©n√©rale de ces solutions est g√©n√©ralement plus √©lev√©e.  Et oui, l'esprit d'aventurisme a disparu en nous, nous avons cess√© de grimper par les fen√™tres de nos femmes bien-aim√©es, etc. (c). </p><br><p>  Deuxi√®mement, pour √™tre honn√™te, la n√©cessit√© de travailler avec le stockage d'objets se pose pour des entreprises assez grandes, c'est donc le cas lorsque la recherche de solutions au niveau de l'entreprise n'est pas seulement honteuse, mais m√™me encourag√©e.  En tout cas, je ne connais pas encore d'exemples de licenciement pour avoir achet√© de telles solutions. </p><br><p>  Sur la base de ce qui pr√©c√®de, mon choix s'est port√© sur l' <em>√©dition communautaire Dell EMC ECS</em> .  C'est un projet tr√®s int√©ressant, et je consid√®re qu'il est n√©cessaire de vous en parler. </p><br><p>  La premi√®re chose qui me vient √† l'esprit lorsque l'on regarde le module compl√©mentaire <em>Community Edition</em> est qu'il s'agit simplement d'un calque d'un ECS complet avec certaines restrictions qui sont supprim√©es en achetant une licence.  Alors non! </p><br><p>  N'oubliez pas: </p><br><p>  <strong>!!! Community Edition est un projet distinct con√ßu pour les tests et sans support technique de Dell !!</strong> <br>  Et il ne peut pas √™tre transform√© en un ECS √† part enti√®re, m√™me si vous le voulez vraiment. </p><br><p>  <strong>Comprenons</strong> </p><br><p>  Beaucoup de gens pensent que Dell EMC ECS est presque la meilleure solution si vous avez besoin de stockage d'objets.  Tous les projets sous la marque ECS, y compris commerciaux et corporatifs, reposent sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github</a> .  Une sorte de geste de bonne volont√© de Dell.  Et en plus du logiciel qui s'ex√©cute sur leur mat√©riel de marque, il existe une version open source qui peut √™tre d√©ploy√©e m√™me dans le cloud, au moins sur une machine virtuelle, au moins dans le conteneur, au moins sur n'importe lequel de votre mat√©riel.  Pour l'avenir, il existe m√™me une version OVA que nous utiliserons. <br>  DELL ECS Community Edition est lui-m√™me une mini-version de logiciel √† part enti√®re fonctionnant sur des serveurs de marque Dell EMC ECS. </p><br><p>  J'ai soulign√© quatre diff√©rences principales: </p><br><ul><li>  Aucun support de cryptage.  C'est dommage, mais pas critique. </li><li>  Couche de tissu manquante.  Cette chose est responsable de la construction du cluster, de la gestion des ressources, des mises √† jour, de la surveillance et du stockage des images Docker.  Ici, c'est d√©j√† tr√®s d√©cevant, mais Dell peut aussi √™tre compris. </li><li>  La cons√©quence la plus d√©sagr√©able du paragraphe pr√©c√©dent: la taille du n≈ìud ne peut pas √™tre augment√©e une fois l'installation termin√©e. </li><li>  Aucun support technique.  Il s'agit d'un produit de test, qui n'est pas interdit √† utiliser dans de petites installations, mais personnellement, je n'oserais pas y t√©l√©charger des p√©taoctets de donn√©es importantes.  Mais techniquement, personne ne peut vous emp√™cher de le faire. </li></ul><br><p><img src="https://habrastorage.org/webt/xu/za/mx/xuzamxqlzd-n5xqrf1ysuwcdwv0.png"></p><br><p>  <strong>Et qu'est-ce qui est dans la grande version?</strong> </p><br><p>  Nous galopons √† travers l'Europe pour trouver des solutions de fer afin d'avoir une image plus compl√®te de l'√©cosyst√®me. </p><br><p>  Je ne confirmerai ni ne nierai la d√©claration selon laquelle DELL ECS est le meilleur stockage d'objets sur site, mais si vous avez quelque chose √† dire √† ce sujet, je le lirai avec plaisir dans les commentaires.  Dans tous les cas, selon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IDC MarketScape 2018,</a> Dell EMC est en toute confiance l'un des cinq leaders du march√© OBS.  Bien que les solutions bas√©es sur le cloud n'y soient pas prises en compte, il s'agit d'un probl√®me distinct. </p><br><p>  D'un point de vue technique, ECS est un stockage d'objets qui permet d'acc√©der aux donn√©es via des protocoles de stockage cloud.  Prend en charge AWS S3 et OpenStack Swift.  Pour le compartiment activ√© pour les fichiers, ECS prend en charge NFSv3 pour les capacit√©s d'exportation de fichiers. </p><br><p>  Le processus d'enregistrement des informations est assez inhabituel, surtout apr√®s les syst√®mes de stockage de blocs classiques. </p><br><ul><li>  Lorsque de nouvelles donn√©es arrivent, un nouvel objet est cr√©√© qui a un nom, les donn√©es elles-m√™mes et les m√©tadonn√©es. </li><li>  Les objets battent sur des blocs de 128 Mo, et chaque bloc est enregistr√© imm√©diatement sur trois n≈ìuds. </li><li>  Le fichier d'index est mis √† jour, o√π les identifiants et les emplacements de stockage sont enregistr√©s. </li><li>  Le fichier journal (enregistrement de journal) est mis √† jour et est √©galement √©crit sur trois n≈ìuds. </li><li>  Un message sur l'enregistrement r√©ussi est envoy√© au client <br>  Les trois copies des donn√©es sont enregistr√©es en parall√®le.  L'enregistrement n'est consid√©r√© comme r√©ussi que si les trois copies ont √©t√© enregistr√©es avec succ√®s. </li></ul><br><p><img src="https://habrastorage.org/webt/ja/za/la/jazalacrokroce26vjjl7rbggyw.png"></p><br><p>  La lecture est plus simple: </p><br><ul><li>  Le client demande des donn√©es. </li><li>  L'index recherche un emplacement pour stocker des donn√©es. </li><li>  Les donn√©es sont lues √† partir d'un n≈ìud et envoy√©es au client. </li></ul><br><p><img src="https://habrastorage.org/webt/k9/j2/ib/k9j2ibyuhdfbtvuuze61rb5mt8i.png"></p><br><p>  Il y a pas mal de serveurs eux-m√™mes, alors regardons le plus petit Dell EMC ECS EX300.  Il commence √† 60 To, avec la capacit√© de cro√Ætre √† 1,5 Pb.  Et son fr√®re a√Æn√© Dell EMC ECS EX3000 peut d√©j√† stocker jusqu'√† 8,6 Po par rack. </p><br><p>  <strong>D√©ployer</strong> </p><br><p>  Techniquement, Dell ECS CE peut √™tre d√©ploy√© de mani√®re arbitraire.  En tout cas, je n'ai trouv√© aucune restriction explicite.  Cependant, toute mise √† l'√©chelle se fait commod√©ment en clonant le tout premier n≈ìud, pour lequel nous avons besoin: </p><br><ul><li>  8 vCPU </li><li>  64 Go de RAM </li><li>  16 Go pour les syst√®mes d'exploitation </li><li>  1 To directement pour le stockage </li><li>  Derni√®re version minimale de CentOS </li></ul><br><p>  C'est une option pour le cas o√π vous souhaitez tout installer vous-m√™me d√®s le d√©but.  Pour nous, cette option n'est pas pertinente, car  J'utiliserai l'image OVA pour le d√©ploiement. </p><br><p>  Mais dans tous les cas, les exigences sont tr√®s mauvaises, m√™me pour un seul n≈ìud, et si vous suivez strictement la lettre de la loi, il y a quatre de ces n≈ìuds. </p><br><p>  Cependant, les d√©veloppeurs ECS CE vivent dans le monde r√©el, et l'installation est r√©ussie m√™me avec un seul n≈ìud, et les exigences minimales sont les suivantes: </p><br><ul><li>  4 vCPU </li><li>  16 Go de RAM </li><li>  16 Go pour les syst√®mes d'exploitation </li><li>  Self stockage de 104 Go </li></ul><br><p>  Ce sont ces ressources qui sont n√©cessaires pour d√©ployer une image OVA.  D√©j√† beaucoup plus humain et r√©aliste. </p><br><p>  Le n≈ìud d'installation lui-m√™me peut √™tre pris dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github</a> officiel.  Il existe √©galement une documentation d√©taill√©e sur le d√©ploiement tout-en-un, mais vous pouvez toujours lire sur les documents de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lecture</a> officiels.  Par cons√©quent, nous ne nous attarderons pas sur le d√©ploiement d'OVA en d√©tail, il n'y a pas d'astuces.  L'essentiel - n'oubliez pas avant de le d√©marrer, √©tendez le disque au volume souhait√© ou attachez les n√©cessaires. <br>  Nous d√©marrons la voiture, ouvrons la console et utilisons les meilleurs cr√©dits par d√©faut: </p><br><ul><li>  connexion: admin </li><li>  mot de passe: ChangeMe </li></ul><br><p>  Ensuite, nous d√©marrons sudo nmtui et configurons l'interface r√©seau - IP / masque, DNS et porte.  Gardant √† l'esprit que CentOS minimal n'a pas de net-tools, nous v√©rifions les param√®tres via ip addr. </p><br><p><img src="https://habrastorage.org/webt/kn/q-/ha/knq-haxvfdp9awyooe8oejtiqco.png"></p><br><p>  Et puisque les mers ne se soumettent que hardiment, nous faisons une mise √† jour miam, apr√®s quoi red√©marrer.  En fait, c'est assez s√ªr, car  tout le d√©ploiement se fait via des playbooks, et tous les packages de docker importants sont verrouill√©s sur la version actuelle. </p><br><p>  Il est maintenant temps de modifier le script d'installation.  Pas de belles fen√™tres ou pseudo-interface utilisateur pour vous - tout au long de votre √©diteur de texte pr√©f√©r√©.  Pour des raisons purement techniques, il y a deux fa√ßons: vous pouvez d√©marrer chaque commande avec des poign√©es ou d√©marrer imm√©diatement le configurateur videploy.  Il ouvrira simplement la config dans vim, et √† la sortie, ex√©cutera sa v√©rification.  Mais simplifier d√©lib√©r√©ment votre vie n'est pas int√©ressant, nous allons donc faire deux autres √©quipes.  M√™me si cela n'a aucun sens, je vous ai pr√©venu =) </p><br><p>  Ainsi, nous faisons vim ECS-CommunityEdition / deploy.xml et apportons les modifications minimales optimales pour que ECS s'allume et fonctionne.  La liste des param√®tres peut √™tre raccourcie, mais j'ai bien aim√©: </p><br><ul><li>  license_accepted: true Vous ne pouvez pas le modifier, puis lors du d√©ploiement, il vous sera explicitement demand√© de l'accepter et affichera une belle phrase.  C'est peut-√™tre m√™me un ≈ìuf de P√¢ques. <br><img src="https://habrastorage.org/webt/pp/09/uj/pp09ujwekpze79i1nchvg_pf0ru.png"></li><li>  D√©commentez les lignes de noms automatiques: et personnalis√©es: entrez au moins un nom souhait√© pour le n≈ìud - le nom d'h√¥te sera remplac√© par celui-ci pendant le processus d'installation. </li><li>  install_node: 192.168.1.1 Sp√©cifiez les noeuds IP r√©els.  Dans notre cas, nous indiquons la m√™me chose que dans nmtui </li><li>  dns_domain: entrez votre domaine. </li><li>  dns_servers: entrez votre DNS. </li><li>  ntp_servers: vous pouvez sp√©cifier n'importe lequel.  J'ai pris le premier de la piscine 0.pool.ntp.org (il est devenu 91.216.168.42) </li><li>  nom automatique: personnalis√© Si vous ne commentez pas, la lune s'appellera Luna. </li><li>  ecs_block_devices: <br>  / dev / sdb <br>  Pour une raison inconnue, il peut y avoir un p√©riph√©rique de stockage en bloc inexistant / dev / vda </li><li>  pools_de stockage: <br>  membres: <br>  192.168.1.1 Ici encore, nous indiquons les n≈ìuds IP r√©els </li><li>  ecs_block_devices: <br>  / dev / sdb R√©p√©tez l'op√©ration de d√©coupe des p√©riph√©riques inexistants. </li></ul><br><p>  En g√©n√©ral, le fichier entier est d√©crit en d√©tail dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> , mais qui le lira dans un temps aussi charg√©.  Il indique √©galement que le minimum est suffisant pour sp√©cifier l'IP et le masque, mais dans mon laboratoire, cette configuration n'√©tait pas bonne et j'ai d√ª √©tendre ce qui pr√©c√®de. </p><br><p><img src="https://habrastorage.org/webt/3h/gq/qh/3hgqqh73fuxttgqzjleit46fyse.png"></p><br><p>  Apr√®s avoir quitt√© l'√©diteur, ex√©cutez update_deploy /home/admin/ECS-CommunityEdition/deploy.yml, et si tout est fait correctement, cela sera signal√© explicitement. </p><br><p><img src="https://habrastorage.org/webt/s-/hs/xh/s-hsxhpbz_mbyqbmqmcwzjj7tce.png"></p><br><p>  Ensuite, vous devez toujours lancer videploy, attendre que l'environnement soit mis √† jour et vous pouvez d√©marrer l'installation elle-m√™me avec la commande ova-step1, et apr√®s son ex√©cution r√©ussie, la commande ova-step2.  Important: n'arr√™tez pas de scripter avec vos mains!  Certaines √©tapes peuvent prendre un temps consid√©rable, non ex√©cut√©es du premier coup, et donner l'impression que tout est cass√©.  Dans tous les cas, vous devez attendre que le script se termine de mani√®re naturelle.  √Ä la fin, vous devriez voir quelque chose comme √ßa. </p><br><p><img src="https://habrastorage.org/webt/nq/qi/ry/nqqiryv7ke9iyt7crqvob-_fhzi.png"></p><br><p>  Maintenant, enfin, nous pouvons ouvrir le panneau de configuration WebUI sur l'IP que nous connaissons.  Si vous n'avez pas modifi√© l'√©tape de configuration, le compte par d√©faut sera root / ChangeMe.  Vous pouvez m√™me utiliser imm√©diatement notre stockage compatible S3.  Il est disponible sur les ports 9020 pour HTTP et 9021 pour HTTPS.  Encore une fois, si vous n'avez rien chang√©, alors access_key: object_admin1 et secret_key: ChangeMeChangeMeChangeMeChangeMeChangeMe. </p><br><p>  Mais n'allons pas de l'avant et commen√ßons dans l'ordre. </p><br><p><img src="https://habrastorage.org/webt/h8/z0/nv/h8z0nv8zmutp4fuaaljuxph-9pe.png"></p><br><p>  Lors de la premi√®re connexion, il vous sera demand√© de changer le mot de passe en un mot de passe ad√©quat, ce qui est absolument correct.  Le tableau de bord principal est extr√™mement compr√©hensible, alors faisons quelque chose de plus int√©ressant que d'expliquer les m√©triques √©videntes.  Par exemple, cr√©ez un utilisateur que nous utiliserons pour acc√©der au r√©f√©rentiel.  Dans le monde des prestataires de services, ils sont appel√©s locataires.  Cela se fait dans G√©rer&gt; Utilisateurs&gt; Nouvel utilisateur d'objet </p><br><p><img src="https://habrastorage.org/webt/ly/tq/_i/lytq_inxpqyy1shfzioiyzqxbcc.png"></p><br><p>  Lors de la cr√©ation d'un utilisateur, il nous est demand√© de sp√©cifier un espace de noms.  Techniquement, rien ne nous emp√™che d'en obtenir autant qu'il y aura d'utilisateurs.  Et vice versa.  Cela vous permet de g√©rer les ressources ind√©pendamment pour chaque locataire. </p><br><p>  En cons√©quence, nous s√©lectionnons les fonctions dont nous avons besoin et g√©n√©rons les cl√©s utilisateur.  S3 / Atmos me suffira.  Et n'oubliez pas de sauvegarder la cl√©;) </p><br><p><img src="https://habrastorage.org/webt/kc/4g/4h/kc4g4hb2w6ya7wbkqlhuaowmhko.png"></p><br><p>  L'utilisateur a √©t√© cr√©√©, il est maintenant temps pour lui de s√©lectionner le compartiment.  Allez dans G√©rer&gt; Bucket et remplissez les champs obligatoires.  Ici, tout est simple. </p><br><p><img src="https://habrastorage.org/webt/zl/pa/vh/zlpavhyndrctg7s6y2t44rs-tgw.png"></p><br><p>  Nous sommes maintenant pr√™ts √† utiliser pleinement notre stockage S3. </p><br><p>  <strong>Personnalisez Veeam</strong> </p><br><p>  Ainsi, comme nous nous en souvenons, l'une des principales utilisations du stockage d'objets est le stockage √† long terme d'informations rarement accessibles.  Un exemple id√©al est la n√©cessit√© de stocker des sauvegardes sur un site distant.  Dans Veeam Backup &amp; Replication, cette fonction est appel√©e Capacity Tier. </p><br><p>  Commen√ßons la configuration en ajoutant notre Dell ECS CE √† l'interface Veeam.  Dans l'onglet Infrastructure de sauvegarde, lancez l'Assistant Ajouter un nouveau r√©f√©rentiel et s√©lectionnez l'√©l√©ment Stockage d'objets. </p><br><p><img src="https://habrastorage.org/webt/4a/il/nj/4ailnjz2rhq34njcndqp6fun2vc.png"></p><br><p>  Nous choisissons de quoi il s'agissait - Compatible S3. </p><br><p><img src="https://habrastorage.org/webt/o0/ph/xy/o0phxyprkvi_oscktizel7huwj8.png"></p><br><p>  Dans la fen√™tre qui appara√Æt, √©crivez le nom souhait√© et passez √† l'√©tape Compte.  Ici, vous devez sp√©cifier le point de service sous la forme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https: // your_IP: 9021</a> , vous pouvez laisser la r√©gion telle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">quelle</a> et ajouter l'utilisateur cr√©√©.  Un serveur de portail est n√©cessaire si votre stockage est situ√© sur un site distant, mais c'est d√©j√† un sujet d'optimisation de l'infrastructure et un article s√©par√©, vous pouvez donc passer en toute s√©curit√© ici. </p><br><p><img src="https://habrastorage.org/webt/6v/ub/vy/6vubvylw5cxuyiz_4vtti6dhviu.png"></p><br><p>  Si tout est sp√©cifi√© et configur√© correctement, un avertissement de certificat appara√Ætra, puis une fen√™tre avec un compartiment o√π vous pourrez cr√©er un dossier pour nos fichiers. </p><br><p><img src="https://habrastorage.org/webt/ux/by/uv/uxbyuv_dqcew5zin2v_nvozfmh4.png"></p><br><p>  Nous passons par l'assistant jusqu'√† la fin et appr√©cions le r√©sultat. </p><br><p><img src="https://habrastorage.org/webt/v0/ud/cx/v0udcxh2stuvolvqbl8fyplnrdy.png"></p><br><p>  Dans l'√©tape suivante, vous devez soit cr√©er un nouveau r√©f√©rentiel de sauvegarde avec mont√©e en puissance parall√®le, soit ajouter notre S3 √† celui existant - il sera utilis√© comme niveau de capacit√© pour le stockage des archives.  Les fonctions permettant d'utiliser directement les r√©f√©rentiels compatibles S3, comme un r√©f√©rentiel standard, ne sont pas dans la version actuelle.  Trop de probl√®mes plut√¥t non √©vidents doivent √™tre r√©solus pour cela, mais tout peut l'√™tre. <br>  Nous allons dans les param√®tres du r√©f√©rentiel et activons le niveau de capacit√©.  Tout y est transparent, mais il y a une nuance int√©ressante: si vous voulez que toutes les donn√©es soient envoy√©es au stockage d'objets d√®s que possible, d√©finissez simplement 0 jour. </p><br><p><img src="https://habrastorage.org/webt/lu/9c/bw/lu9cbwqq3asnqszw2vh4c6qzx3y.png"></p><br><p>  Apr√®s avoir pass√© l'assistant, si vous ne voulez pas attendre, vous pouvez cliquer sur ctrl + RMB dans le r√©f√©rentiel, forcer le travail de hi√©rarchisation √† d√©marrer et regarder l'analyse des graphiques. </p><br><p><img src="https://habrastorage.org/webt/_9/pa/zo/_9pazooynmywt14iqjdwleocbem.png"></p><br><p>  C'est tout pour l'instant.  Je consid√®re que la t√¢che de montrer que le stockage en bloc n'est pas aussi effrayant qu'il est habituel de penser, j'ai r√©ussi.  Oui, il existe des solutions et des options pour un wagon et un petit chariot, mais vous ne pouvez pas tout couvrir dans un seul article.  Partageons donc l'exp√©rience dans les commentaires. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr474746/">https://habr.com/ru/post/fr474746/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr474726/index.html">M√™me les enfants comprendront: une explication simple de l'async / wait et des promesses en JavaScript</a></li>
<li><a href="../fr474732/index.html">Travailler avec la liste des broches, en C ++ pour les microcontr√¥leurs (en utilisant CortexM comme exemple)</a></li>
<li><a href="../fr474738/index.html">Mod√©lisation g√©om√©trique des surfaces de cong√©</a></li>
<li><a href="../fr474740/index.html">Le meilleur du mus√©e d'histoire de l'ordinateur √† Mountain View</a></li>
<li><a href="../fr474744/index.html">Uber entre sur le march√© des services financiers et lance la division Uber Money</a></li>
<li><a href="../fr474748/index.html">Syst√®mes Service Desk et leur int√©gration. Comment automatiser le processus de collaboration avec les entrepreneurs et les fabricants?</a></li>
<li><a href="../fr474754/index.html">S√©curit√© PHP: o√π et comment stocker les mots de passe. Partie 1</a></li>
<li><a href="../fr474756/index.html">VMworld Europe 2019: annonces cl√©s et d√©ballage du l√©gendaire sac √† dos</a></li>
<li><a href="../fr474760/index.html">Nous fixons ngx-translate dans une application angulaire. Proc√©dure pratique</a></li>
<li><a href="../fr474762/index.html">S√©minaire: Solutions informatiques hybrides pour les entreprises. 14 novembre, Moscou</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>