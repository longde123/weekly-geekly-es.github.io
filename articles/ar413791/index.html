<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐พ ๐ฉ๐ผโโ๏ธ ๐งค ูููุงูููุง ุงููู ููุญุณุงุจุงุช ูู ุดุจูุจุฉ โณ ๐ ๐๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจูุง ุ ุงุณูู ุฏููุชุฑู ูุงุฑูููุณูู ูุฃูุง ... ุนุงุทู ุนู ุงูุนูู. ูุฐูู ุ ูุฏู ุงููุซูุฑ ูู ููุช ุงููุฑุงุบ ูุชุดุบูู ุงูููุณููู ูุงูุฑูุงุถุฉ ูุงูุฅุจุฏุงุน ูุงููุบุงุช ููุคุชูุฑุงุช JS ูุนููู ุงูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูููุงูููุง ุงููู ููุญุณุงุจุงุช ูู ุดุจูุจุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413791/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> ูุฑุญุจูุง ุ ุงุณูู ุฏููุชุฑู ูุงุฑูููุณูู ูุฃูุง ... ุนุงุทู ุนู ุงูุนูู.  ูุฐูู ุ ูุฏู ุงููุซูุฑ ูู ููุช ุงููุฑุงุบ ูุชุดุบูู ุงูููุณููู ูุงูุฑูุงุถุฉ ูุงูุฅุจุฏุงุน ูุงููุบุงุช ููุคุชูุฑุงุช JS ูุนููู ุงูููุจููุชุฑ.  ุณุฃุฎุจุฑู ุนู ุฃุญุฏุซ ุจุญุซ ูู ูุฌุงู ุงูุชูุณูู ุดุจู ุงูุชููุงุฆู ููุญุณุงุจุงุช ุงูุทูููุฉ ุฅูู ูููุงุช ุตุบูุฑุฉ ูู ุนุฏุฉ ูููู ุซุงููุฉ ุ ููุง ุฃุฏู ุฅูู ููุชุจุฉ ูุตุบุฑุฉ <code>$mol_fiber</code> .  ููู ุฃููุงู ุ ุฏุนููุง ููุฎุต ุงููุดุงูู ุงูุชู ุณูุญููุง .. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/787/033/fb0/787033fb0e7d49cad98ce046a4e2380a.gif" alt="ููุงูุชุง!"></p><br><p style=";text-align:right;direction:rtl">  ูุฐู ูุณุฎุฉ ูุตูุฉ ูู ุงูุฃุฏุงุก ุงููุณูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">HolyJS 2018 Piter</a> .  ููููู ุฅูุง <a href="">ูุฑุงุกุชูุง ูููุงูุฉ</a> ุ ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุญูุง ูู ูุงุฌูุฉ ุงูุนุฑุถ ุงูุชูุฏููู</a> ุ ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดุงูุฏุฉ ููุทุน ููุฏูู</a> . </p><a name="habracut"></a><br><h1 id="issue-low-responsiveness" style=";text-align:right;direction:rtl">  ุงููุดููุฉ: ุงุณุชุฌุงุจุฉ ููุฎูุถุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุง ูุฑูุฏ ุฃู ูููู ูุฏููุง 60 ุฅุทุงุฑูุง ุซุงุจุชูุง ูู ุงูุซุงููุฉ ุ ููู ูููู ูุฏููุง ุณูู 16 ุฅุทุงุฑูุง ูุน ุฃุฌุฒุงุก ูู ุงููููู ุซุงููุฉ ููููุงู ุจูู ุงูุนูู ุ ุจูุง ูู ุฐูู ูุง ููุนูู ุงููุชุตูุญ ูุฅุธูุงุฑ ุงููุชุงุฆุฌ ุนูู ุงูุดุงุดุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ูุงุฐุง ูู ุฃุฎุฐูุง ุงูุชุฏูู ููุชุฑุฉ ุฃุทููุ  ุซู ุณููุงุญุธ ุงููุณุชุฎุฏู ูุงุฌูุฉ ูุชุฎููุฉ ุ ููุง ูููุน ุงูุฑุณูู ุงููุชุญุฑูุฉ ููุง ุดุงุจู ุฐูู ูู ุชุฏููุฑ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/9f8/b6f/431/9f8b6f43150f6aa318daf6bd7bde9e56.gif" alt="ุงุณุชุฌุงุจุฉ ููุฎูุถุฉ"></p><br><h1 id="issue-no-escape" style=";text-align:right;direction:rtl">  ุงููุดููุฉ: ูุง ููุฑ </h1><br><p style=";text-align:right;direction:rtl">  ูุญุฏุซ ุฃูู ุฃุซูุงุก ุฅุฌุฑุงุก ุงูุญุณุงุจุงุช ุ ูู ุชุนุฏ ุงููุชูุฌุฉ ูุซูุฑุฉ ููุงูุชูุงู ุจุงููุณุจุฉ ููุง.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏููุง ุชูุฑูุฑ ุงูุชุฑุงุถู ุ ููุณุญุจู ุงููุณุชุฎุฏู ุจูุดุงุท ุ ูููู ูุง ูููููุง ููุงูุจุฉ ุฐูู ููุง ูููููุง ุนุฑุถ ุงูููุทูุฉ ุงููุนููุฉ ุญุชู ูุนูุฏ ุงูุนุฑุถ ุงูุณุงุจู ุงูุชุญูู ูู ูุนุงูุฌุฉ ุฃุญุฏุงุซ ุงููุณุชุฎุฏู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/28d/4d9/12f/28d4d912fb979ddb97ac61f3bb314756.jpg" alt="ูุง ูููู ุงูุชุฑุงุฌุน ุนูู"></p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ุจุบุถ ุงููุธุฑ ุนู ูุฏุฉ ุงูุนูู ุงูุฐู ูููู ุจู ุ ูุฌุจ ุฃู ููุงุตู ูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ูุฃู ูููู ูุงุฏุฑูู ูู ุฃู ููุช ุนูู ุฅูุบุงุก ุงูุนูู ุงูุฐู ุจุฏุฃูุงู ุ ูููู ูู ููุชูู ุจุนุฏ. </p><br><h1 id="im-fast-and-i-know-it" style=";text-align:right;direction:rtl">  ุฃูุง ุณุฑูุน ูุฃูุง ุฃุนูู ุฐูู </h1><br><p style=";text-align:right;direction:rtl">  ูููู ูุงุฐุง ูู ูุงู ุนูููุง ููุณ ูุงุญุฏูุง ุ ุจู ุนุฏุฉ ุ ูููู ุชูุงุฑูุง ูุงุญุฏูุงุ  ุชุฎูู ุฃูู ุชููุฏ ุณูุงุฑุชู ุนูู ููุชุณ ุฃุตูุฑ ุชู ุดุฑุงุคู ุญุฏูุซูุง ูุชุฐูุจ ุฅูู ูุนุจุฑ ุงูุณูุฉ ุงูุญุฏูุฏ.  ุนูุฏูุง ุชููู ูุฌุงููุฉ ุ ููููู ูุถุนูุง ูู ุฌุฒุก ูู ุงูุซุงููุฉ.  ููู .. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/fcc/078/f2b/fcc078f2b90d03703c61d42ffe53701f.jpg" alt="ุณูุงุฑุฉ ุจุงุฑุฏุฉ"></p><br><h1 id="issue-no-concurrency" style=";text-align:right;direction:rtl">  ุงููุดููุฉ: ูุง ููุฌุฏ ุงูุชุฒุงูู </h1><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ูููู ุงููุนุจุฑ ูุดุบูููุง ุจูุทุงุฑ ูููููุชุฑ ุ ูุฌุจ ุนููู ุงููููู ูุงูุงูุชุธุงุฑ ุนุดุฑ ุฏูุงุฆู ุญุชู ููุฑ.  ููุณ ูุฃูู ุงุดุชุฑูุช ุณูุงุฑุฉ ุฑูุงุถูุฉ ุ ุฃููุณ ูุฐููุ </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0fe/ed1/d50/0feed1d50bc38d61f26f11d28f80a87c.gif" alt="ุงูุชุธุฑ ุณุฑูุน ุจุทูุก"></p><br><p style=";text-align:right;direction:rtl">  ููู ุณูููู ุฑุงุฆุนูุง ูู ุชู ุชูุณูู ูุฐุง ุงููุทุงุฑ ุฅูู 10 ูุทุงุฑุงุช 100 ูุชุฑ ููู ูููุง ุ ูุณูููู ููุงู ุนุฏุฉ ุฏูุงุฆู ุจููููุง ููุงูุฒูุงู!  ูู ุชููู ูุชุฃุฎุฑุง ุฌุฏุง ูู ุฐูู ุงูููุช. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐู ูุง ูู ุญููู ูุฐู ุงููุดุงูู ูู ุนุงูู JS ุงูุขูุ </p><br><h1 id="solution-workers" style=";text-align:right;direction:rtl">  ุงูุญู: ุงูุนูุงู </h1><br><p style=";text-align:right;direction:rtl">  ุฃูู ุดูุก ูุชุจุงุฏุฑ ุฅูู ุงูุฐูู: ุฏุนูุง ููุท ูุถุน ุฌููุน ุงูุญุณุงุจุงุช ุงููุนูุฏุฉ ูู ุฎูุท ูููุตูุ  ููููุงู ุจุฐูู ุ ูุฏููุง ุขููุฉ WebWorkers. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/f6b/005/e78/f6b005e7836243e1434af86e1cc337cc.png" alt="ููุทู ุงูุนูุงู"></p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชูุฑูุฑ ุงูุฃุญุฏุงุซ ูู ุฏูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุฅูู ุงูุนุงูู.  ููุงู ุชุชู ูุนุงูุฌุชูุง ูุฅุฑุฌุงุน ุงูุชุนูููุงุช ุงููุชุนููุฉ ุจูุง ูุชู ุชุบููุฑู ุนูู ุงูุตูุญุฉ ุจุงููุนู.  ูุจุงูุชุงูู ุ ูุฅููุง ูุญูุธ ุชุฏูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูู ุทุจูุฉ ูุจูุฑุฉ ูู ุงูุญูุณุจุฉ ุ ูููู ูุง ูุชู ุญู ุฌููุน ุงููุดุงูู ุจูุฐู ุงูุทุฑููุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฅุถุงูุฉ ูุดุงูู ุฌุฏูุฏุฉ. </p><br><h1 id="workers-issues-deserialization" style=";text-align:right;direction:rtl">  ุงูุนูุงู: ูุถุงูุง: (De) Serialization </h1><br><p style=";text-align:right;direction:rtl">  ูุญุฏุซ ุงูุงุชุตุงู ุจูู ุงูุชุฏููุงุช ุนู ุทุฑูู ุฅุฑุณุงู ุงูุฑุณุงุฆู ุงููุชุณูุณูุฉ ุฅูู ุฏูู ุจุงูุช ุ ูููููุง ุฅูู ุฏูู ุขุฎุฑ ุ ูููุงู ูุชู ุชุญููููุง ูู ูุงุฆูุงุช.  ูู ูุฐุง ุฃุจุทุฃ ุจูุซูุฑ ูู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ ุงููุจุงุดุฑ ุฏุงุฎู ุฎูุท ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e9f/c76/7db/e9fc767db4a76ac2079610a2df590eaa.jpg" alt="(ุฏู) ุงูุชุณูุณู"></p><br><h1 id="workers-issues-asynchronous-only" style=";text-align:right;direction:rtl">  ุงูุนูุงู: ุงููุถุงูุง: ุบูุฑ ูุชุฒุงูู ููุท </h1><br><p style=";text-align:right;direction:rtl">  ูุชู ุฅุฑุณุงู ุงูุฑุณุงุฆู ุจุดูู ุบูุฑ ูุชุฒุงูู ุจุฏูุฉ.  ููุฐุง ูุนูู ุฃู ุจุนุถ ุงูููุฒุงุช ุงูุชู ุฃุทูุจูุง ููู ุบูุฑ ูุชููุฑุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุง ููููู ุฅููุงู ุตุนูุฏ ุญุฏุซ ูุงุฌูุฉ ูุณุชุฎุฏู ูู ุนุงูู ุ ูุฃูู ุจุญููู ุงูููุช ุงูุฐู ูุจุฏุฃ ููู ุงููุนุงูุฌ ุ ุณูููู ุงูุญุฏุซ ูู ุณูุณูุฉ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุงููุนู ุฏูุฑุฉ ุญูุงุชู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/083/1c9/d42/0831c9d4270c8a64e17febb2d509ec56.png" alt="ููุงุฆู ุงูุชุธุงุฑ ุงูุฑุณุงุฆู"></p><br><h1 id="workers-issues-limited-apis" style=";text-align:right;direction:rtl">  ุงูุนูุงู: ุงููุถุงูุง: API ูุญุฏูุฏุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุชุงููุฉ ุบูุฑ ูุชููุฑุฉ ูุฏููุง ูู ุงูุนูุงู .. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  DOM ุ CSSOM </li><li style=";text-align:right;direction:rtl">  ููุงุด </li><li style=";text-align:right;direction:rtl">  ุงููููุน ุงูุฌุบุฑุงูู </li><li style=";text-align:right;direction:rtl">  ุงูุชุงุฑูุฎ ูุงููููุน </li><li style=";text-align:right;direction:rtl">  ูุฒุงููุฉ ุทูุจุงุช http </li><li style=";text-align:right;direction:rtl">  XMLHttpRequest.responseXML </li><li style=";text-align:right;direction:rtl">  ุงููุงูุฐุฉ </li></ul><br><h1 id="workers-issues-cant-cancel" style=";text-align:right;direction:rtl">  ุงูุนูุงู: ุงููุดุงูู: ูุง ูููู ุงูุฅูุบุงุก </h1><br><p style=";text-align:right;direction:rtl">  ููุฑุฉ ุฃุฎุฑู ุ ููุณ ูุฏููุง ุทุฑููุฉ ูุฅููุงู ุงูุญุณุงุจุงุช ูู Woker. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/064/059/e49/064059e49ab01b803d84001dc2111da8.jpg" alt="ุชููู!"></p><br><p style=";text-align:right;direction:rtl">  ูุนู ุ ูููููุง ุฅููุงู ุงูุนุงูู ุจุฃูููู ุ ููู ุฐูู ุณูููู ูู ุงูููุงู ููู. <br>  ูุนู ุ ููููู ุชุดุบูู ูู ูููุฉ ูู ุนุงูู ูููุตู ุ ูููููุง ุชุณุชููู ุงููุซูุฑ ูู ุงูููุงุฑุฏ. </p><br><h1 id="solution-react-fiber" style=";text-align:right;direction:rtl">  ุงูุญู: ุชูุงุนู ุงูุฃููุงู </h1><br><p style=";text-align:right;direction:rtl">  ุจุงูุชุฃููุฏ ุณูุน ุงููุซูุฑูู ุนู ุทุฑูู FaceBook ูุนูุฏูู ูุชุงุจุฉ React ุ ููุง ุฃุฏู ุฅูู ูุณุฑ ุฌููุน ุงูุญุณุงุจุงุช ููู ุฅูู ูุฌููุนุฉ ูู ุงููุธุงุฆู ุงูุตุบูุฑุฉ ุงูุชู ุฃุทูููุง ุจุฑูุงูุฌ ุฌุฏููุฉ ุฎุงุต. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/079/4f3/de4/0794f3de41b63342f7298e82f7d6bdb2.png" alt="ููุทู ุงูุฃููุงู ุชูุงุนู ุตุนุจุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฎูุถ ูู ุชูุงุตูู ุชูููุฐูุง ุ ูุฃู ูุฐุง ููุถูุน ูุจูุฑ ูููุตู.  ุณุฃูุงุญุธ ููุท ุจุนุถ ุงูููุฒุงุช ุ ูุงูุชู ูุฏ ูุง ุชูุงุณุจู .. </p><br><h1 id="react-fiber-react-required" style=";text-align:right;direction:rtl">  ุชูุงุนู ุงูุฃููุงู: ุงูุชูุงุนู ุงููุทููุจ </h1><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงุถุญ ุ ุฅุฐุง ููุช ุชุณุชุฎุฏู Angular ุฃู Vue ุฃู ุฅุทุงุฑ ุนูู ุขุฎุฑ ุจุฎูุงู React ุ ูุฅู React Fiber ุบูุฑ ุฐู ูุงุฆุฏุฉ ุจุงููุณุจุฉ ูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/015/01e/1fa/01501e1fa047ab219dbaf0cd140e7002.jpg" alt="ุฑุฏ ูุนู ูู ูู ููุงู!"></p><br><h1 id="react-fiber-only-rendering" style=";text-align:right;direction:rtl">  ุชูุงุนู ุงูุฃููุงู: ุงูุชูุฏูู ููุท </h1><br><p style=";text-align:right;direction:rtl">  ุฑุฏ ูุนู - ูุบุทู ููุท ุทุจูุฉ ุงูุชูุฏูู.  ูุชู ุชุฑู ุฌููุน ุทุจูุงุช ุงูุชุทุจูู ุงูุฃุฎุฑู ุฏูู ุฃู ุชูููุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a82/3f5/c3e/a823f5c3e063d3961f64b0c18b25aa1b.gif" alt="ููุณ ุจูุฐู ุงูุณุฑุนุฉ!"></p><br><p style=";text-align:right;direction:rtl">  ูู ูููุฑ ูู React Fiber ุนูุฏูุง ุชุญุชุงุฌ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅูู ุชุตููุฉ ูุฌููุนุฉ ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุญุณุจ ุงูุธุฑูู ุงูุตุนุจุฉ. </p><br><h1 id="react-fiber-quantization-is-disabled" style=";text-align:right;direction:rtl">  ุชูุงุนู ุงูุฃููุงู: ุชู ุชุนุทูู ุงูุชูููู </h1><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุงูุฏุนู ุงููุฒุนูู ููููุงุณ ุงูููู ุ ูุฅูู ูุง ูุฒุงู ูุชููููุง ุจุดูู ุงูุชุฑุงุถู ุ ูุฃูู ููุณุฑ ุงูุชูุงูู ุงูุนูุณู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/498/f7b/4be/498f7b4be46edbbbf0884a71bccc89a8.jpg" alt="ูุฎ ุงูุชุณููู"></p><br><p style=";text-align:right;direction:rtl">  ูุง ูุฒุงู ุงูููุงุณ ุงูููู ูู ุงูุชูุงุนู ุฃูุฑูุง ุชุฌุฑูุจููุง.  ูู ุญุฐุฑุง! </p><br><h1 id="react-fiber-debug-is-pain" style=";text-align:right;direction:rtl">  ุชูุงุนู ุงูุฃููุงู: ุงูุชุตุญูุญ ูู ุงูุฃูู </h1><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุชุดุบูู ุงูููุงุณ ุ ูู ูุนุฏ Callstack ูุชุทุงุจู ูุน ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู ุ ููุง ูุนูุฏ ุจุดูู ูุจูุฑ ุชุตุญูุญ ุงูุฃุฎุทุงุก.  ูููู ุณูุนูุฏ ุฅูู ูุฐู ุงููุถูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/3dd/725/bd5/3dd725bd5c728f4ecc43f167f2724f63.jpg" alt="ูู ุขูุงู ุงูุชุตุญูุญ"></p><br><h1 id="solution-quantization" style=";text-align:right;direction:rtl">  ุงูุญู: ุงูุชูููู </h1><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุญุงูู ุชุนููู ููุฌ ุงูุฃููุงู ุงูุชูุงุนููุฉ ููุชุฎูุต ูู ุงูุนููุจ ุงููุฐููุฑุฉ.  ูุฑูุฏ ุฃู ูุจูู ุถูู ุชูุงุฑ ูุงุญุฏ ุ ูููููุง ููุณู ุงูุญุณุงุจุงุช ุงูุทูููุฉ ุฅูู ูููุงุช ุตุบูุฑุฉ ุ ูููู ูููุชุตูุญ ูู ุฎูุงููุง ุนุฑุถ ุงูุชุบููุฑุงุช ุงูุชู ุชู ุฅุฌุฑุงุคูุง ุจุงููุนู ุนูู ุงูุตูุญุฉ ุ ูุณูู ูุณุชุฌูุจ ููุฃุญุฏุงุซ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a98/9c5/e9e/a989c5e9e41bc35a36a656a7ce19d610.png" alt="ูุฎุทุทุงุช ุงูููุจ"></p><br><p style=";text-align:right;direction:rtl">  ุฃุนูุงู ุชุฑู ุญุณุงุจูุง ุทููููุง ุฃููู ุงูุนุงูู ููู ุจุฃูุซุฑ ูู 100 ูููู ุซุงููุฉ.  ููู ุงูุฃุณูู - ููุณ ุงูุญุณุงุจ ุ ูููู ุชู ุชูุณูููุง ุฅูู ุดุฑุงุฆุญ ุฒูููุฉ ุชุจูุบ ุญูุงูู 16 ูููู ุซุงููุฉ ุ ูุงูุชู ุฃุนุทุช ูุนุฏู 60 ุฅุทุงุฑูุง ูู ุงูุซุงููุฉ.  ูุธุฑูุง ูุฃููุง ูุง ูุนูู ุนุงุฏุฉู ููุฏุงุฑ ุงูููุช ุงูุฐู ุณุชุณุชุบุฑูู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุ ูุง ูููููุง ุชูุณููู ูุฏูููุง ุฅูู ูุทุน ุชุจูุบ 16 ูููู ุซุงููุฉ ููุฏููุง.  ูุฐูู ุ ูุญุชุงุฌ ุฅูู ููุน ูู ุขููุฉ ููุช ุงูุชุดุบูู ุงูุชู ุชููุณ ุงูููุช ุงููุณุชุบุฑู ูุฅููุงู ุงููููุฉ ูุนูุฏูุง ูุชู ุชุฌุงูุฒ ุงููู ุ ููุง ูุคุฏู ุฅูู ุฅููุงู ุงูุชูููุฐ ูุคูุชูุง ุญุชู ุฅุทุงุฑ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุชุงูู.  ุฏุนููุง ูููุฑ ูู ุงูุขููุงุช ุงูููุฌูุฏุฉ ูุฏููุง ูุชูููุฐ ูุซู ูุฐู ุงูููุงู ุงููุนููุฉ ููุง .. </p><br><h1 id="concurrency-fibers--stackfull-coroutines" style=";text-align:right;direction:rtl">  ุงูุชุฒุงูู: ุงูุฃููุงู - coroutines stackfull </h1><br><p style=";text-align:right;direction:rtl">  ูู ูุบุงุช ูุซู Go ู D ุ ููุงู ูุซู ูุฐุง ุงููุตุทูุญ ูุซู "coroutine with stack" ุ ููู ุฃูุถูุง "ููู" ุฃู "ููู". </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Future } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'node-fibers'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> one = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> Future.wait( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">future</span></span></span><span class="hljs-function"> =&gt;</span></span> setTimeout( future.return ) ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> two = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> one() + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> three = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> two() + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> four = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> three() + <span class="hljs-number"><span class="hljs-number">1</span></span> Future.task( four ).detach()</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุซุงู ุงูููุฏ ุ ุชุฑู ุงููุธููุฉ <code>one</code> ุ ูุงูุชู ูููููุง ุฅููุงู ุงูุฃููุงู ุงูุญุงููุฉ ูุคูุชูุง ุ ูููู ููุง ูุงุฌูุฉ ูุชุฒุงููุฉ ุชูุงููุง.  ุชุนุชุจุฑ ุงูุฏุงูุชุงู ูุงูุซุงูุซุฉ ูุงูุฑุงุจุนุฉ ูุธุงุฆู ูุชุฒุงููุฉ ููุชุธูุฉ ูุง ุชุนุฑู ุฃู ุดูุก ุนู ุงูุฃููุงู.  ูููุง ููููู ุงุณุชุฎุฏุงู ุฌููุน ููุฒุงุช ุฌุงูุง ุณูุฑูุจุช ุจุงููุงูู.  ูุฃุฎูุฑูุง ุ ูู ุงูุณุทุฑ ุงูุฃุฎูุฑ ุ ูููู ุจุจุณุงุทุฉ ุจุชุดุบูู ุงููุธููุฉ <code>four</code> ูู ููู ูููุตู. </p><br><p style=";text-align:right;direction:rtl">  ูุนุฏ ุงุณุชุฎุฏุงู ุงูุฃููุงู ุฃูุฑูุง ูุฑูุญูุง ููุบุงูุฉ ุ ูููู ูุฏุนููุง ุ ุชุญุชุงุฌ ุฅูู ุฏุนู ููุช ุงูุชุดุบูู ุ ูุงูุฐู ูุง ููุชููู ูุนุธู ูุชุฑุฌูู JS.  ููุน ุฐูู ุ ุจุงููุณุจุฉ ูู NodeJS ุ ููุงู ููุญู <code>node-fibers</code> ุงูุฃุตูู ุงูุฐู ูุถูู ูุฐุง ุงูุฏุนู.  ููุฃุณู ุ ูุง ุชูุฌุฏ ูุชุตูุญุงุช ูุชุงุญุฉ ูู ุฃู ูุชุตูุญ. </p><br><h1 id="concurrency-fsm--stackless-coroutines" style=";text-align:right;direction:rtl">  ุงูุชุฒุงูู: FSM - coroutines ููุฏุณุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูู ูุบุงุช ูุซู C # ูุงูุขู JS ููุงู ุฏุนู ูู "coroutines" ููุฏุณุฉ "ุฃู" ูุธุงุฆู ุบูุฑ ูุชุฒุงููุฉ ".  ูุซู ูุฐู ุงููุธุงุฆู ูู ุขูุฉ ุญุงูุฉ ุชุญุช ุบุทุงุก ุงููุญุฑู ููุง ุชุนุฑู ุฃู ุดูุก ุนู ุงูููุฏุณ ุ ูุฐูู ูุฌุจ ุชูููุฒูุง ุจุงููููุฉ ุงูุฑุฆูุณูุฉ ุงูุฎุงุตุฉ "ุบูุฑ ูุชุฒุงููุฉ" ุ ูุงูุฃูุงูู ุงูุชู ูููู ุฅููุงููุง ูุคูุชูุง "ูู ุงูุชุธุงุฑ". </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> one = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">done</span></span></span><span class="hljs-function"> =&gt;</span></span> setTimeout( done ) ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> two = <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> ()=&gt; <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">await</span></span></span></span><span class="hljs-function"><span class="hljs-params"> one(</span></span></span><span class="hljs-function">) ) + 1 </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">three</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">async</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> two() ) + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> four = <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> ()=&gt; ( <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> three() ) + <span class="hljs-number"><span class="hljs-number">1</span></span> four()</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃููุง ูุฏ ูุญุชุงุฌ ุฅูู ุชุฃุฌูู ุงูุญุณุงุจ ูู ุฃู ููุช ุ ููุฏ ุงุชุถุญ ุฃูู ูุฌุจ ุฅุฌุฑุงุก ุฌููุน ุงููุธุงุฆู ูู ุงูุชุทุจูู ุจุดูู ุบูุฑ ูุชุฒุงูู.  ูุฐุง ููุณ ููุท ุฃู ุชุนููุฏ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูููู ูุคุซุฑ ุฃูุถูุง ุจุดูู ูุจูุฑ ุนูู ุงูุฃุฏุงุก.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ุชุฒุงู ุงูุนุฏูุฏ ูู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุชู ุชูุจู ุฑุฏ ุงูุงุชุตุงู ูุง ุชุฏุนู ุงูุงุณุชุฑุฌุงุนุงุช ุบูุฑ ุงููุชุฒุงููุฉ.  ูุงููุซุงู ุงููุงูุช ูููุธุฑ ูู ุทุฑููุฉ ุงูุชุตุบูุฑ ูุฃู ูุตูููุฉ. </p><br><h1 id="concurrency-semi-fibers---restarts" style=";text-align:right;direction:rtl">  ุงูุชุฒุงูู: ุฃููุงู ูุตู - ุฅุนุงุฏุฉ ุชุดุบูู </h1><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุญุงูู ุงูููุงู ุจุดูุก ูุดุงุจู ููุฃููุงู ุ ุจุงุณุชุฎุฏุงู ุชูู ุงูููุฒุงุช ุงููุชุงุญุฉ ููุง ููุท ูู ุฃู ูุชุตูุญ ุญุฏูุซ .. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { $mol_fiber_async , $mol_fiber_start } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mol_fiber/web'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> one = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> $mol_fiber_async( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">back</span></span></span><span class="hljs-function"> =&gt;</span></span> setTimeout( back ) ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> two = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> one() + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> three = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> two() + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> four = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> three() + <span class="hljs-number"><span class="hljs-number">1</span></span> $mol_fiber_start( four )</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑู ุ ูุฅู ุงููุธุงุฆู ุงููุชูุณุทุฉ ูุง ุชุนุฑู ุฃู ุดูุก ุนู ุงูุงููุทุงุน - ูุฐุง ูู JS ุงูุนุงุฏู.  ูุธููุฉ <code>one</code> ููุท ุชุนุฑู ุนู ุฅููุงููุฉ ุงูุชุนููู.  ูุฅุญุจุงุท ุงูุญุณุงุจ ุ ูุฅููุง ุจุจุณุงุทุฉ ุชูุฏู <code>Promise</code> ูุงุณุชุซูุงุก.  ูู ุงูุณุทุฑ ุงูุฃุฎูุฑ ุ ูููู ุจุชุดุบูู ุงููุธููุฉ <code>four</code> ูู ููู ุฒุงุฆู ูููุตู ุ ูุงูุฐู ูุฑุงูุจ ุงูุงุณุชุซูุงุกุงุช ุงูุชู ุชู ุทุฑุญูุง ูู ุงูุฏุงุฎู ุ ูุฅุฐุง ูุตู <code>Promise</code> ุ ูุดุชุฑู ูู <code>resolve</code> ุ ุซู ูุนูุฏ ุชุดุบูู ุงูุฃููุงู. </p><br><h1 id="figures" style=";text-align:right;direction:rtl">  ุฃุฑูุงู </h1><br><p style=";text-align:right;direction:rtl">  ูุชูุถูุญ ููููุฉ ุนูู ุงูุฃููุงู ุงูุฒุงุฆูุฉ ุ ุณููุชุจ ุฑูุฒูุง ุตุนุจูุง .. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/dce/e56/26a/dcee5626ad6c81048ca43a54a2825fe4.svg" alt="ูุฎุทุท ุงูุชูููุฐ ุงููููุฐุฌู"></p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุชุฎูู ุฃู ูุธููุฉ <code>step</code> ููุง ุชูุชุจ ุดูุฆูุง ููุญุฏุฉ ุงูุชุญูู ูุชููู ุจุจุนุถ ุงูุฃุนูุงู ุงูุดุงูุฉ ุงูุฃุฎุฑู ููุฏุฉ 20 ูููู ุซุงููุฉ.  ูุชุณุชุฏุนู ูุธููุฉ <code>walk</code> <code>step</code> ูุฑุชูู ุ ูุชุณุฌูู ุงูุนูููุฉ ุจุฃููููุง.  ูู ุงููุณุท ุ ุณูุธูุฑ ูุง ูุชู ุนุฑุถู ุงูุขู ูู ูุญุฏุฉ ุงูุชุญูู.  ูุฅูู ุงููููู ุญุงูุฉ ุดุฌุฑุฉ ุงูุฃููุงู ุงููุงุฐุจุฉ. </p><br><h1 id="mol_fiber-no-quantization" style=";text-align:right;direction:rtl">  mol_fiber $: ุจุฏูู ุชูููุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูุฏูุฑ ูุฐุง ุงูููุฏ ููุฑู ูุงุฐุง ุณูุญุฏุซ .. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/aa0/8aa/d4e/aa08aad4e3770368fd787aba5e8fcf81.svg" alt="ุชูููุฐ ุจุฏูู ุชูููู"></p><br><p style=";text-align:right;direction:rtl">  ุญุชู ุงูุขู ุ ูู ุดูุก ุจุณูุท ููุงุถุญ.  ุฅู ุดุฌุฑุฉ ุงูุฃููุงู ุงูุฒุงุฆูุฉ ุบูุฑ ูุชูุฑุทุฉ ุจุงูุทุจุน.  ูุณูููู ูู ุดูุก ุนูู ูุง ูุฑุงู ุ ูููู ูุชู ุชูููุฐ ูุฐุง ุงูุฑูุฒ ูุฃูุซุฑ ูู 40 ูููู ุซุงููุฉ ุ ููู ูุง ูููุฉ ูู. </p><br><h1 id="mol_fiber-cache-first" style=";text-align:right;direction:rtl">  $ mol_fiber: ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุฃููุงู </h1><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ููู ููุชุง ุงููุธููุชูู ูู ุบูุงู ุฎุงุต ูุฏูุฑู ูู ุฃููุงู ุฒุงุฆูุฉ ููุฑู ูุง ุณูุญุฏุซ .. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/1f2/7e3/2f9/1f27e32f982035e32f59c4100aac3dd0.svg" alt="ุชุนุจุฆุฉ ูุฎุงุจุฆ"></p><br><p style=";text-align:right;direction:rtl">  ููุง ูุฌุฏุฑ ุงูุงูุชุจุงู ุฅูู ุญูููุฉ ุฃูู ููู ููุงู ูุชู ููู ุงุณุชุฏุนุงุก ุงููุธููุฉ <code>one</code> ุฏุงุฎู ููู <code>walk</code> ุ ุชู ุฅูุดุงุก ููู ูููุตู.  ุชู ุชุฎุฒูู ูุชูุฌุฉ ุงูููุงููุฉ ุงูุฃููู ูุคูุชูุง ุ ูููู ุจุฏูุงู ูู ุงูุซุงููุฉ ุ ุชู ุทุฑุญ <code>Promise</code> ุ ูุฃููุง ุงุณุชููุฏูุง ุดุฑูุญุฉ ุงูููุช ูุฏููุง. </p><br><h1 id="mol_fiber-cache-second" style=";text-align:right;direction:rtl">  $ mol_fiber: ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุซุงููุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูุชู ุทุฑุญู ูู ุงูุฅุทุงุฑ ุงูุฃูู ุ ูุณูุชู ุญู <code>Promise</code> ุชููุงุฆููุง ูู ุงูุฅุทุงุฑ ุงูุชุงูู ุ ููุง ุณูุคุฏู ุฅูู ุฅุนุงุฏุฉ ุชุดุบูู ุฃููุงู <code>walk</code> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/2ec/d06/80b/2ecd0680bb11b2b425c2464e8d119362.svg" alt="ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช"></p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑู ุ ุจุณุจุจ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ูุฎุฑุฌ ูุฑุฉ ุฃุฎุฑู "ุจุฏุก" ู "ุฃูู ุนูู" ุฅูู ูุญุฏุฉ ุงูุชุญูู ุ ูููู ูู ุชุนุฏ ููุงู "ุงูุจุฏุงูุฉ ุงูุฃููู" ุ ุญูุซ ุฅููุง ูู ุงูุฃููุงู ูุน ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุนุจุฃุฉ ูู ููุช ุณุงุจู ุ ููุฐุง ูู ุงูุณุจุจ ูู ุฃู ูุนุงูุฌูุง ุฃูุซุฑ ูุง ูุณูู.  ุนูุฏูุง ุชูุชูุฆ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุฃููุงู <code>walk</code> ุ ูุชู ุชุฏููุฑ ุฌููุน ุงูุฃููุงู ุงููุถููุฉ ุ ูุฃู ุงูุชูููุฐ ูู ูุตู ุฅูููุง ุฃุจุฏูุง. </p><br><p style=";text-align:right;direction:rtl">  ูููุงุฐุง <code>first begin</code> ุงูุทุจุงุนุฉ ูุฑุฉ ูุงุญุฏุฉ <code>first done</code> ูุฑุชููุ  ูู ุดูุก ุนู idempotency.  <code>console.log</code> - ุนูููุฉ ุบูุฑ ูุชุดุงุจูุฉ ุ ุนุฏุฏ ุงููุฑุงุช ุงูุชู ุชุชุตู ุจูุง ุ ุงูุนุฏูุฏ ูู ุงููุฑุงุช ุณุชุถูู ูุฏุฎู ุฅูู ูุญุฏุฉ ุงูุชุญูู.  ููู ุงูุฃููุงู ุงูุชู ูุชู ุชูููุฐูุง ูู ุฃููุงู ุฃุฎุฑู ูู ุนุงุทูุฉ ุ ููู ุชููู ููุท ุจุชูููุฐ ุงูููุจุถ ูู ุงูููุงููุฉ ุงูุฃููู ุ ูุนูุฏ ุงูุฅุฑุฌุงุน ุงููุงุญู ูุจุงุดุฑุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ุฏูู ุฃู ุชุคุฏู ุฅูู ุฃู ุขุซุงุฑ ุฌุงูุจูุฉ ุฅุถุงููุฉ. </p><br><h1 id="mol_fiber-idempotence-first" style=";text-align:right;direction:rtl">  $ mol_fiber: idempotence ุฃููุงู </h1><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ููู ููู <code>console.log</code> ูู ุงูุงููุงู ุ ูุจุฐูู ูุฌุนููุง ุนุงุทููุฉ ุ ููุฑู ููู ูุชุตุฑู ุงูุจุฑูุงูุฌ .. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/340/552/c63/340552c63f8356ee7b680ae76558ec90.svg" alt="ููุก ูุฎุงุจุฆ ุนุงุฌุฒุฉ"></p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ูุฏููุง ุงูุขู ูู ุดุฌุฑุฉ ุงูุฃููุงู ูุฏููุง ุฅุฏุฎุงูุงุช ููู ุงุณุชุฏุนุงุก ููุธููุฉ <code>log</code> . </p><br><h1 id="mol_fiber-idempotence-second" style=";text-align:right;direction:rtl">  $ mol_fiber: idempotence ุงูุซุงููุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูู ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชุงููุฉ ูุฃููุงู <code>walk</code> ุ ูู ุชุนุฏ ุงูููุงููุงุช ุงููุชูุฑุฑุฉ ููุธููุฉ <code>log</code> ุชุคุฏู ุฅูู ููุงููุงุช ุฅูู ูุญุฏุฉ <code>console.log</code> ุงูุญููููุฉ ุ ูููู ุจูุฌุฑุฏ ุฃู ูุตู ุฅูู ุชูููุฐ ุงูุฃููุงู ูุน ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ูุงุฑุบุฉ ุ <code>console.log</code> ุงุณุชุฆูุงู ุงูููุงููุงุช ุฅูู ูุญุฏุฉ <code>console.log</code> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b32/2ac/e0b/b322ace0b34b91d3db8c52cbf78599f5.svg" alt="ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ูุฎุงุจุฆ ุนุงุฌุฒุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูุฑุฌู ููุงุญุธุฉ ุฃูู ูู ูุญุฏุฉ ุงูุชุญูู ุ ูุง ูุนุฑุถ ุงูุขู ุฃู ุดูุก ุบูุฑ ุถุฑูุฑู - ุจุงูุถุจุท ูุง ุณูุชู ุนุฑุถู ูู ุฑูุฒ ูุชุฒุงูู ุจุฏูู ุฃู ุฃููุงู ูุชุญุฏูุฏ ููู. </p><br><h1 id="mol_fiber-break" style=";text-align:right;direction:rtl">  mol_fiber $: ุงุณุชุฑุงุญุฉ </h1><br><p style=";text-align:right;direction:rtl">  ููู ููุงุทุน ุงูุญุณุงุจุ  ูู ุจุฏุงูุฉ ุงููู ุ ูุชู ุชุญุฏูุฏ ููุนุฏ ููุงุฆู.  ููุจู ุงูุจุฏุก ูู ูู ุฃููุงู ุ ูุชู ุงูุชุญูู ููุง ุฅุฐุง ููุง ูุฏ ูุตููุง ุฅูููุง.  ูุฅุฐุง ูุตูุช ุ ูุฅู <code>Promise</code> ููุฏูุน ุ ูุงูุฐู ูุชู ุญูู ูู ุงูุฅุทุงุฑ ุงูุชุงูู ููุจุฏุฃ ูููุง ุฌุฏูุฏูุง .. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now() &gt; $mol_fiber.deadline ) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>( $mol_fiber.schedule ) }</code> </pre> <br><h1 id="mol_fiber-deadline" style=";text-align:right;direction:rtl">  $ mol_fiber: ุงูููุนุฏ ุงูููุงุฆู </h1><br><p style=";text-align:right;direction:rtl">  ูู ุงูุณูู ุชุญุฏูุฏ ุงูููุนุฏ ุงูููุงุฆู ูููู.  ุชุชู ุฅุถุงูุฉ 8 ูููู ุซุงููุฉ ุฅูู ุงูููุช ุงูุญุงูู.  ููุงุฐุง 8 ุจุงูุถุจุท ุ ูุฃู ููุงู ูุง ูุตู ุฅูู 16 ูุฅุนุฏุงุฏ ุงูููุทุฉุ  ูุงูุญูููุฉ ูู ุฃููุง ูุง ูุนุฑู ููุฏููุง ุงููุฏุฉ ุงูุชู ุณูุญุชุงุฌ ูููุง ุงููุชุตูุญ ุฅูู ุงูุนุฑุถ ุ ูุฐูู ูุญุชุงุฌ ุฅูู ุชุฑู ุจุนุถ ุงูููุช ููุนูู.  ูููู ูู ุจุนุถ ุงูุฃุญูุงู ูุญุฏุซ ุฃู ุงููุชุตูุญ ูุง ูุญุชุงุฌ ุฅูู ุชูุฏูู ุฃู ุดูุก ุ ูุจุนุฏ ุฐูู ุจุงุณุชุฎุฏุงู ูููุฉ ููุฏุงุฑูุง 8 ูููู ุซุงููุฉ ุ ูููููุง ุฅุฏุฑุงุฌ ูููุฉ ุฃุฎุฑู ูู ููุณ ุงูุฅุทุงุฑ ุ ููุง ุณูุนุทู ุชุนุจุฆุฉ ูุซููุฉ ูููููุฉ ุจุฃูู ููุช ุชุนุทู ูููุนุงูุฌ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> now = <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> quant = <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> elapsed = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.max( <span class="hljs-number"><span class="hljs-number">0</span></span> , now - $mol_fiber.deadline ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> resistance = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.min( elapsed , <span class="hljs-number"><span class="hljs-number">1000</span></span> ) / <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-comment"><span class="hljs-comment">// 0 .. 100 ms $mol_fiber.deadline = now + quant + resistence</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุฅุฐุง ูููุง ููุท ุจุฑูู ุงุณุชุซูุงุก ูู 8 ูููู ุซุงููุฉ ุ ูุฅู ุงูุชุตุญูุญ ูุน ุฅููุงู ุชุดุบูู ุงูุงุณุชุซูุงุก ุณูุชุญูู ุฅูู ูุฑุน ุตุบูุฑ ูู ุงูุฌุญูู.  ูุญุชุงุฌ ุฅูู ุจุนุถ ุงูุขููุงุช ูููุดู ุนู ูุถุน ูุตุญุญ ุงูุฃุฎุทุงุก ูุฐุง.  ูุณูุก ุงูุญุธ ุ ูุง ูููู ููู ุฐูู ุฅูุง ุจุดูู ุบูุฑ ูุจุงุดุฑ: ูุณุชุบุฑู ุงูุดุฎุต ุญูุงูู ุซุงููุฉ ูููู ูุง ุฅุฐุง ูุงู ุณูุณุชูุฑ ูู ุงูุชูููุฐ ุฃู ูุง.  ููุฐุง ูุนูู ุฃูู ุฅุฐุง ูู ูุนุฏ ุนูุตุฑ ุงูุชุญูู ุฅูู ุงูุจุฑูุงูุฌ ุงููุตู ููุชุฑุฉ ุทูููุฉ ุ ูุนูุฏุฆุฐ ุฅูุง ุฃู ูุชููู ุงููุตุญุญ ุฃู ุฃู ููุงู ุญุณุงุจูุง ุซููููุง.  ููุฌููุณ ุนูู ูุฑุณููู ุ ูุถูู ุฅูู ุงููู 10 ูช ูู ุงูููุช ุงููููุถู ุ ูููู ููุณ ุฃูุซุฑ ูู 100 ูููู ุซุงููุฉ.  ูุง ูุคุซุฑ ูุฐุง ุจุดูู ูุจูุฑ ุนูู FPS ุ ููููู ูููู ูู ุชุฑุฏุฏ ุงูุชููู ููุตุญุญ ุงูุฃุฎุทุงุก ุจุชุฑุชูุจ ูู ุงูุญุฌู ุจุณุจุจ ุงูุชูููุฉ. </p><br><h1 id="debug-trycatch" style=";text-align:right;direction:rtl">  ุงูุชุตุญูุญ: ุญุงูู / ูุจุถ </h1><br><p style=";text-align:right;direction:rtl">  ุจูุง ุฃููุง ูุชุญุฏุซ ุนู ุชุตุญูุญ ุงูุฃุฎุทุงุก ุ ูุง ุฑุฃูู ุ ูู ุฃู ููุงู ูู ูุฐุง ุงูุฑูุฒ ูุชููู ุงููุตุญุญุ </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> new Error( <span class="hljs-string"><span class="hljs-string">'Something wrong'</span></span> ) // [<span class="hljs-number"><span class="hljs-number">1</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { foo() } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>( error ) { handle( error ) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> error // [<span class="hljs-number"><span class="hljs-number">2</span></span>] }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงุนุฏุฉ ุนุงูุฉ ุ ูุญุชุงุฌ ุฅูู ุงูุชููู ุญูุซ ูุชู ุทุฑุญ ุงูุงุณุชุซูุงุก ูุฃูู ูุฑุฉ ุ ููู ุงูุญูููุฉ ูู ุฃูู ูุชููู ููุท ุญูุซ ุชู ุทุฑุญู ูู ุงููุฑุฉ ุงูุฃุฎูุฑุฉ ุ ูุงูุชู ุนุงุฏุฉ ูุง ุชููู ุจุนูุฏุฉ ุฌุฏูุง ุนู ููุงู ุญุฏูุซูุง.  ูุฐูู ุ ูู ุฃุฌู ุนุฏู ุชุนููุฏ ุชุตุญูุญ ุงูุฃุฎุทุงุก ุ ูุฌุจ ุนุฏู ุงูุชุดุงู ุงูุงุณุชุซูุงุกุงุช ุ ูู ุฎูุงู ูุญุงููุฉ ุงูุงูุชูุงุท.  ูููู ุญุชู ุจุฏูู ูุนุงูุฌุฉ ุงุณุชุซูุงุก ูู ุงููุณุชุญูู. </p><br><h1 id="debug-unhandled-events" style=";text-align:right;direction:rtl">  ุงูุชุตุญูุญ: ุฃุญุฏุงุซ ูู ุชุชู ูุนุงูุฌุชูุง </h1><br><p style=";text-align:right;direction:rtl">  ุนุงุฏุฉ ุ ูููุฑ ููุช ุงูุชุดุบูู ุญุฏุซูุง ุนุงููููุง ูุญุฏุซ ููู ุงุณุชุซูุงุก ุบูุฑ ููุชุดู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>( <span class="hljs-string"><span class="hljs-string">'Something wrong'</span></span> ) } <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">'error'</span></span> , event =&gt; handle( event.error ) ) foo()</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฅุฑูุงู ุ ูุฅู ูุฐุง ุงูุญู ูู ุนูุจ ุจุญูุซ ุชูุน ุฌููุน ุงูุงุณุชุซูุงุกุงุช ููุง ููู ุงูุตุนุจ ุฌุฏูุง ููู ุงูุฃููุงู ูุงูุฃููุงู ุณูุงุก ุญุฏุซ ุงูุญุฏุซ. </p><br><h1 id="debug-promise" style=";text-align:right;direction:rtl">  ุงูุชุตุญูุญ: ุงููุนุฏ </h1><br><p style=";text-align:right;direction:rtl">  ุงููุนูุฏ ูู ุฃูุถู ุทุฑููุฉ ููุชุนุงูู ูุน ุงูุงุณุชุซูุงุกุงุช. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>( <span class="hljs-string"><span class="hljs-string">'Something wrong'</span></span> ) } <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> { foo() } ).catch( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> handle( error ) )</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฏุนุงุก ุงููุธููุฉ ุงูุชู ุชู ุชูุฑูุฑูุง ุฅูู Promise ุนูู ุงูููุฑ ูุจุดูู ูุชุฒุงูู ุ ูููู ูู ูุชู ุงูุชุดุงู ุงูุงุณุชุซูุงุก ููููู ุงููุตุญุญ ุจุฃูุงู ูู ููุงู ุญุฏูุซู.  ุจุนุฏ ุฐูู ุจูููู ุ ุจุดูู ุบูุฑ ูุชุฒุงูู ุ ูุทูู ุนููู ุจุงููุนู ูุนุงูุฌ ุงูุฃุฎุทุงุก ุ ุญูุซ ูุนุฑู ุจุงูุถุจุท ุงูุฃููุงู ุงูุชู ุฃุนุทุช ุงููุดู ูุฃู ุงููุดู.  ูุฐู ูู ุจุงูุถุจุท ุงูุขููุฉ ุงููุณุชุฎุฏูุฉ ูู $ mol_fiber. </p><br><h1 id="stack-trace-react-fiber" style=";text-align:right;direction:rtl">  ุชุชุจุน ุงูููุฏุณ: ุชูุงุนู ุงูุฃููุงู </h1><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุชุชุจุน ุงูููุฏุณ ุงูุฐู ุชุญุตู ุนููู ูู React Fiber .. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/074/97d/d53/07497dd53b67863fe121c9cc7d314f96.png" alt="ุชูุฏูุณ ูุงุฑุบ"></p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ูุญุตู ุนูู ุงููุซูุฑ ูู ุฑุฏ ุงููุนู ุงูุบุฑูุฒู.  ูู ุงููููุฏ ููุง ุ ููุท ููุทุฉ ุญุฏูุซ ุงูุงุณุชุซูุงุก ูุฃุณูุงุก ุงูููููุงุช ูู ุฃุนูู ูู ุงูุชุณูุณู ุงููุฑูู.  ููุณ ูุซูุฑูุง. </p><br><h1 id="stack-trace-mol_fiber" style=";text-align:right;direction:rtl">  ุชุชุจุน ุงูููุฏุณ: $ mol_fiber </h1><br><p style=";text-align:right;direction:rtl">  ูู $ mol_fiber ุ ูุญุตู ุนูู ุชุชุจุน ููุฏุณ ุฃูุซุฑ ูุงุฆุฏุฉ: ูุง ุชูุฌุฏ ุดุฌุงุนุฉ ุ ููุท ููุงุท ูุญุฏุฏุฉ ูู ุฑูุฒ ุงูุชุทุจูู ุงูุฐู ูุตู ูู ุฎูุงูู ุฅูู ุงุณุชุซูุงุก. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/5b8/99d/8cc/5b899d8ccd70b5489cf87fea439beb5a.png" alt="Strace ุงููุญุชูู"></p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุญููู ุฐูู ูู ุฎูุงู ุงุณุชุฎุฏุงู ุงูููุฏุณ ุงูุฃุตูู ูุงููุนูุฏ ูุงูุฅุฒุงูุฉ ุงูุชููุงุฆูุฉ ููุฃูุนุงุก.  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฐูู ุ ููููู ุชูุณูุน ุงูุฎุทุฃ ูู ูุญุฏุฉ ุงูุชุญูู ุ ููุง ูู ููุทุฉ ุงูุดุงุดุฉ ุ ูุฑุคูุฉ ุงูุดุฌุงุนุฉ ุ ูููู ูุง ููุฌุฏ ุดูุก ูุซูุฑ ููุงูุชูุงู. </p><br><h1 id="mol_fiber-handle" style=";text-align:right;direction:rtl">  mol_fiber $: ููุจุถ </h1><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุ ูููุงุทุนุฉ ุงููู ุ ูุชู ุทุฑุญ ุงููุนุฏ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript">limit() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now() &gt; $mol_fiber.deadline ) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>( $mol_fiber.schedule ) } <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุ ููุง ูุฏ ุชุฎูู ุ ูููู ุฃู ูููู Promise ุฃู ุดูุก ุนูู ุงูุฅุทูุงู - ุจุงููุณุจุฉ ุฅูู ุงูุฃููุงู ุ ุจุดูู ุนุงู ุ ูุง ููู ูุง ูููู ุชููุนู: ุงูุฅุทุงุฑ ุงูุชุงูู ุ ุฃู ุงูุชูุงู ุชุญููู ุงูุจูุงูุงุช ุ ุฃู ุฃู ุดูุก ุขุฎุฑ .. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript">fail( error : <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( error <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> listener = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> self.start() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> error.then( listener , listener ) } <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุดุชุฑู ุงูุฃููุงู ุจุจุณุงุทุฉ ูุญู ุงููุนูุฏ ูุฅุนุงุฏุฉ ุงูุชุดุบูู.  ููู ุฅููุงุก ุงููุนูุฏ ูุฏูููุง ูุงูุชูุงุทูุง ููุณ ุถุฑูุฑููุง ุ ูุฃู ุงูุญุฒูุฉ ุชุชุถูู ุงูุนุฏูุฏ ูู ุงูุฃุบููุฉ ุงููููุฏุฉ .. </p><br><h1 id="mol_fiber-functions" style=";text-align:right;direction:rtl">  $ mol_fiber: ุงูุฏูุงู </h1><br><p style=";text-align:right;direction:rtl">  ูุชุญููู ุฃู ูุธููุฉ ูุชุฒุงููุฉ ุฅูู ุฃููุงู <code>$mol_fiber_func</code> ุณูู ูููุง ูู <code>$mol_fiber_func</code> .. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { $mol_fiber_func <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> fiberize } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mol_fiber/web'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> log = fiberize( <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log ) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> main = fiberize( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> { log( getData( <span class="hljs-string"><span class="hljs-string">'goo.gl'</span></span> ).data ) } )</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ูููุง ุจุฌุนู <code>console.log</code> idempotent ูุชุนููููุง <code>main</code> ููุงุทุนุฉ ุฃุซูุงุก ุงูุชุธุงุฑ ุงูุชูุฒูู. </p><br><h1 id="mol_fiber-error-handling" style=";text-align:right;direction:rtl">  $ mol_fiber: ูุนุงูุฌุฉ ุงูุฎุทุฃ </h1><br><p style=";text-align:right;direction:rtl">  ูููู ููู ุชุฑุฏ ุนูู ุงูุงุณุชุซูุงุกุงุช ุฅุฐุง ูู ูุฑุบุจ ูู ุงุณุชุฎุฏุงู <code>try-catch</code> ุ  ุซู ูููููุง ุชุณุฌูู ูุนุงูุฌ ุงูุฃุฎุทุงุก ุจุงุณุชุฎุฏุงู <code>$mol_fiber_catch</code> ... </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { $mol_fiber_func <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> fiberize , $mol_fiber_catch <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> onError } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mol_fiber'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getConfig = fiberize( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> { onError( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">user</span></span> : <span class="hljs-string"><span class="hljs-string">'Anonymous'</span></span> }) ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getData( <span class="hljs-string"><span class="hljs-string">'/config'</span></span> ).data } )</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุฃุฑุฌุนูุง ุดูุฆูุง ูุฎุชูููุง ุนู ุงูุฎุทุฃ ููู ุ ูุณูููู ูุงุชุฌูุง ุนู ุงูุฃููุงู ุงูุญุงููุฉ.  ูู ูุฐุง ุงููุซุงู ุ ุฅุฐุง ูู ููู ูู ุงููููู ุชูุฒูู ุงูุชูููู ูู ุงูุฎุงุฏู ุ ูุณูู ุชูุฑุฌุน ูุธููุฉ <code>getConfig</code> ุงูุชูููู ุจุดูู ุงูุชุฑุงุถู. </p><br><h1 id="mol_fiber-methods" style=";text-align:right;direction:rtl">  mol_fiber $: ุทุฑู </h1><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ููููู ูู ุงููุธุงุฆู ููุณ ููุท ุ ูููู ุฃูุถูุง ุงูุฃุณุงููุจ ุจุงุณุชุฎุฏุงู ุงูุฏูููุฑ .. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { $mol_fiber_method <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> action } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mol_fiber/web'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Mover</span></span></span><span class="hljs-class"> </span></span>{ @action move() { sendData( <span class="hljs-string"><span class="hljs-string">'ya.ru'</span></span> , getData( <span class="hljs-string"><span class="hljs-string">'goo.gl'</span></span> ) ) } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูููุง ุจุชุญููู ุงูุจูุงูุงุช ูู Google ูุชุญููููุง ุนูู Yandex. </p><br><h1 id="mol_fiber-promises" style=";text-align:right;direction:rtl">  mol_fiber $: ูุนูุฏ </h1><br><p style=";text-align:right;direction:rtl">  ูุชูุฒูู ุงูุจูุงูุงุช ูู ุงูุฎุงุฏู ุ ูููู ุฃู ุชุฃุฎุฐ ุ ุนูู ุณุจูู ุงููุซุงู ุ <code>fetch</code> ุงููุธููุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูุจููุฑุฉ ูู ุงููุนุตู ุชุญููููุง ุฅูู ูุชุฒุงูู .. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { $mol_fiber_sync <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sync } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mol_fiber/web'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getData = sync( fetch )</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงูุชุทุจูู ูููุฏ ููุฌููุน ุ ููููู ูุง ูุฏุนู ุฅูุบุงุก ุงูุทูุจ ุนูุฏูุง ูุชู ุชุฏููุฑ ุดุฌุฑุฉ ุฃููุงู ุ ูุฐูู ูุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู <code>API</code> ุฃูุซุฑ ุฅุฑุจุงููุง .. </p><br><h1 id="mol_fiber-cancel-request" style=";text-align:right;direction:rtl">  mol_fiber $: ุฅูุบุงุก ุงูุทูุจ </h1><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { $mol_fiber_async <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mol_fiber/web'</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> uri : string </span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Response</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">async</span></span>( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">back</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> controller = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AbortController(); fetch( uri , { <span class="hljs-attr"><span class="hljs-attr">signal</span></span> : controller.signal } ).then( back( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res</span></span></span><span class="hljs-function"> =&gt;</span></span> res ) , back( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> error } ) , ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> controller.abort() } ) }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฏุนุงุก ุงููุธููุฉ ุงูุชู ุชู ุชูุฑูุฑูุง ุฅูู ุงูุบูุงู ุบูุฑ <code>async</code> ูุฑุฉ ูุงุญุฏุฉ ููุท ููุชู ุชูุฑูุฑ ุงูุบูุงู <code>back</code> ุฅูููุง ุ ุญูุซ ุชุญุชุงุฌ ุฅูู ุงูุชูุงู ุงูุงุณุชุฑุฌุงุนุงุช.  ููููุง ูุฐูู ุ ูู ุนูููุงุช ุงูุงุณุชุฑุฏุงุฏ ูุฐู ุ ูุฌุจ ุนููู ุฅูุง ุฅุฑุฌุงุน ุงููููุฉ ุฃู ุทุฑุญ ุงุณุชุซูุงุก.  ูููุง ูุงูุช ูุชูุฌุฉ ุงูุงุณุชุฏุนุงุก ุ ุณุชููู ุฃูุถูุง ูุชูุฌุฉ ุงูุฃููุงู.  ูุฑุฌู ููุงุญุธุฉ ุฃููุง ูู ุงูููุงูุฉ ูุนูุฏ ูุธููุฉ ุณูุชู ุงุณุชุฏุนุงุคูุง ูู ุญุงูุฉ ุงูุชูู ุงููุจูุฑ ููุฃููุงู. </p><br><h1 id="mol_fiber-cancel-response" style=";text-align:right;direction:rtl">  $ mol_fiber: ุฅูุบุงุก ุงูุฑุฏ </h1><br><p style=";text-align:right;direction:rtl">  ุนูู ุฌุงูุจ ุงูุฎุงุฏู ุ ูุฏ ูููู ูู ุงููููุฏ ุฃูุถูุง ุฅูุบุงุก ุงูุญุณุงุจ ุนูุฏ ุณููุท ุงูุนููู.  ุฏุนูุง ูุทุจู <code>midleware</code> ุนูู <code>midleware</code> ุงูุชู ุณุชุฎูู <code>midleware</code> ุชุดุบูู <code>midleware</code> ุงูุฃุตููุฉ.     ,    ,       ,      . </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { $mol_fiber_make <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Fiber } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mol_fiber'</span></span> const middle_fiber = middleware =&gt; ( req , res ) =&gt; { const fiber = Fiber( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> middleware( req , res ) ) req.<span class="hljs-literal"><span class="hljs-literal">on</span></span>( <span class="hljs-string"><span class="hljs-string">'close'</span></span> , <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> fiber.destructor() ) fiber.start() } app.get( <span class="hljs-string"><span class="hljs-string">'/foo'</span></span> , middle_fiber( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( req , res )</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> something } ) )</code> </pre> <br><h1 id="mol_fiber-concurrency" style=";text-align:right;direction:rtl"> $mol_fiber: concurrency </h1><br><p style=";text-align:right;direction:rtl">       ,         .  ,    3 :    ,     ,   - .. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/257/b87/a50/257b87a5095cecaf0e53da2234666a62.png" alt="ุทูุจุงุช ุณุฑูุนุฉ ูุจุทูุฆุฉ"></p><br><p style=";text-align:right;direction:rtl">      :      ,    .       .       ,       ,   . </p><br><h1 id="mol_fiber-properties" style=";text-align:right;direction:rtl"> $mol_fiber: properties </h1><br><p style=";text-align:right;direction:rtl">  ,    .. </p><br><blockquote style=";text-align:right;direction:rtl"> <strong>Pros:</strong> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> Runtime support isn't required </li><li style=";text-align:right;direction:rtl"> Can be cancelled at any time </li><li style=";text-align:right;direction:rtl"> High FPS </li><li style=";text-align:right;direction:rtl"> Concurrent execution </li><li style=";text-align:right;direction:rtl"> Debug friendly </li><li style=";text-align:right;direction:rtl"> ~ 3KB gzipped </li></ul><br><br> <strong>Cons:</strong> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> Instrumentation is required </li><li style=";text-align:right;direction:rtl"> All code should be idempotent </li><li style=";text-align:right;direction:rtl"> Longer total execution </li></ul><br></blockquote><p style=";text-align:right;direction:rtl"> $mol_fiber โ   ,         .  โ ,            .      , ,    .  ,   ,     ,     ,      .  ,          .        . </p><br><h1 id="links" style=";text-align:right;direction:rtl">  ุงูุฑูุงุจุท </h1><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">nin-jin.github.io/slides/fibers/</a> โ this slides </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">mol.js.org/fiber</a> โ $mol_fiber online demo </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">github.com/eigenmethod/mol/tree/master/fiber</a> โ $mol_fiber documentation </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">t.me/mam_mol</a> โ lovely $mol chat </li></ul><br><h1 id="call-back" style=";text-align:right;direction:rtl"> Call back </h1><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d35/cd4/554/d35cd4554553fa35a7d756cbf9737949.jpg" alt="ููุงุญุธุงุช"></p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :   , ,        ) </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :  ,       . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :  .    ,        . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :    .   ,        .   ,    . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :   ,            .     ,      ) </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :    ,     . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :    -      .   ,        ,     . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :       .  ,  ,     . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :  ,     .     16ms,     ?  16  8 ,      8,   .      ,       .            ,    ยซยป. </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :      โ       .  ุดูุฑุง ูู! </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :    .    ,   .  ! </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :  ,         .        . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :  ,     ,            ,      ,     ,     / ,            . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :  ,     . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :  . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :         ,     .      mol. </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :    ,     ,    . ,  ,  ,   . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :   . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :       ,     .   ,     $mol,    ,  . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :  ,  ,      .            โ .  . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :  -   ,         . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :       $mol    ,        .  (pdf,  )  ,      . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :     ,   .   ,     . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :   ,    )       . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> :   .  . </p><br><p style=";text-align:right;direction:rtl"> <strong></strong> : In some places I missed what the reporter was saying. The conversation was about how to use the "Mola" library and "why?". But how it works remains a mystery for me.To smoke an source code is for the overhead. </p><br><p style=";text-align:right;direction:rtl"> <strong> </strong> :  ,  . </p><br><p style=";text-align:right;direction:rtl"> <strong> </strong> :  .         ,    .       .        . </p><br><p style=";text-align:right;direction:rtl"> <strong> </strong> :     :     .   -      (,   ).           ,   :          16? </p><br><p style=";text-align:right;direction:rtl"> <strong> </strong> :    .      .    ,   mol_fiber  โฆ   ,          30fps     60fps โ   .              โ    . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar413791/">https://habr.com/ru/post/ar413791/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar413779/index.html">ุชูููุช ูุชุนุฏุฏ ุงูููุงู ุนูู ุงุฑุฏูููู</a></li>
<li><a href="../ar413781/index.html">ููู ุชุชุจุน ููุงุจ ุงูุฏุนุงูุฉ ุงูุฅุนูุงู ุฏุฑุจู ุนูู ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar413783/index.html">ููู ุชููุช ุฃูุจุฑ ุงููุฌูู: ุงููุณุชุนุฑ ุงูุฃุนุธู ุฃู ุงููุณุชุนุฑ ุงูุฃุนุธู ุฃู ุงูุงูููุงุฑ ุงููุจุงุดุฑุ</a></li>
<li><a href="../ar413787/index.html">ุงูุฒุงูู: ุชุฑุฌูุฉ ngx. ุชุญุณูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุจุงุณุชุฎุฏุงู Webpack</a></li>
<li><a href="../ar413789/index.html">ูู ูููุฑูุฏุง ุ ูู ูุชุญูููุง ูู ูุดุชุฑู ุงูุฃุณูุญุฉ ูู ูุงุนุฏุฉ ููุชุจ ุงูุชุญูููุงุช ุงููุฏุฑุงูู ููุฏุฉ ุนุงู ูุฃููู ูุณููุง ูููุฉ ุงููุฑูุฑ</a></li>
<li><a href="../ar413793/index.html">ุฃุดุฑุทุฉ ุงูุตูุช ูู ุซูุงูุฉ ุงูุจูุจ: ููุงุฐุง ูุนุชุจุฑ ุชูุณูู ุงูุชุณุฌูู ุงูุตูุชู ุงููุชูุงุฏู ูู ุงููุฃููู ูุฑุฉ ุฃุฎุฑู</a></li>
<li><a href="../ar413795/index.html">ููุงุฐุง ุชูุชูู ุตูุงุนุฉ ุงูุชุฑููู ุฅูู IaaS: ุฏุฑุงุณุฉ ุญุงูุฉ</a></li>
<li><a href="../ar413797/index.html">ูุฏู EA ุงูุฌุฒุก ุงูุฌุฏูุฏ ูู C&C ูู E3. ุฅู ุงููุธุฑ ุฅูููุง ุฃูุฑ ูุคูู ุฌุณุฏููุง</a></li>
<li><a href="../ar413799/index.html">Raspberry Pi Neural Network Counting Bee</a></li>
<li><a href="../ar413801/index.html">ูุนุฑุถ "Roskosmos" ุฅุนุงุฏุฉ ุตูุน ูุฏูุน ููุฒุฑ ... ุชูุณููุจ ุจุตุฑู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>