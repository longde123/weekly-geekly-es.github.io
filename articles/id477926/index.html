<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👐🏻 🎣 👨‍💻 Cara mengurangi penggunaan memori dan mempercepat kode Python menggunakan generator 💈 🙋 🤔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya. Hari ini kami ingin membagikan satu terjemahan bermanfaat, yang disiapkan sebelum peluncuran kursus "Pengembang web dengan Python . " M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara mengurangi penggunaan memori dan mempercepat kode Python menggunakan generator</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/477926/"><p>  Halo semuanya.  Hari ini kami ingin membagikan satu terjemahan bermanfaat, yang disiapkan sebelum peluncuran kursus <a href="https://otus.pw/m8hh/">"Pengembang web dengan Python</a> . <a href="https://otus.pw/m8hh/">"</a>  Menulis kode waktu-efisien dan memori-efisien dalam Python sangat penting ketika membuat aplikasi Web, model pembelajaran mesin, atau pengujian. </p><br><p><img src="https://habrastorage.org/webt/ii/2f/-o/ii2f-oqb0scheybgzq7yavjz1ue.png"></p><a name="habracut"></a><br><p>  Ketika saya mulai belajar generator dengan Python, saya tidak tahu betapa pentingnya mereka.  Namun, mereka terus-menerus membantu saya dengan fungsi menulis sepanjang perjalanan saya melalui pembelajaran mesin. </p><br><p>  Fungsi Generator memungkinkan Anda untuk mendeklarasikan fungsi yang akan berperilaku seperti iterator.  Mereka memungkinkan pemrogram untuk membuat iterator yang cepat, sederhana, dan bersih.  Iterator adalah objek yang dapat diulang (diulang).  Ini digunakan untuk abstrak wadah data dan membuatnya berperilaku seperti objek yang dapat diubah.  Sebagai contoh, contoh dari objek iterable dapat berupa string, daftar, dan kamus. </p><br><p>  Generator terlihat seperti fungsi, tetapi menggunakan kata kunci hasil alih-alih kembali.  Mari kita lihat contoh untuk membuatnya lebih jelas. </p><br><pre><code class="plaintext hljs">def generate_numbers(): n = 0 while n &lt; 3: yield n n += 1</code> </pre> <br><p>  Ini adalah fungsi generator.  Ketika Anda menyebutnya, ia mengembalikan objek generator. </p><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; numbers = generate_numbers() &gt;&gt;&gt; type(numbers) &lt;class 'generator'&gt;</code> </pre> <br><p>  Penting untuk memperhatikan bagaimana kondisi ini dienkapsulasi dalam tubuh fungsi generator.  Anda dapat mengulanginya satu per satu menggunakan fungsi built-in next (): </p><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; next_number = generate_numbers() &gt;&gt;&gt; next(next_number) 0 &gt;&gt;&gt; next(next_number) 1 &gt;&gt;&gt; next(next_number) 2</code> </pre> <br><h2 id="chto-proizoydet-esli-vy-vyzovete-next-posle-okonchaniya-vypolneniya">  Apa yang terjadi jika Anda memanggil next () setelah akhir eksekusi? </h2><br><p>  StopIteration adalah jenis pengecualian bawaan yang terjadi secara otomatis segera setelah generator berhenti memberikan hasil.  Ini adalah sinyal berhenti untuk loop for. </p><br><h2 id="operator-yield">  Pernyataan hasil </h2><br><p>  Tugas utamanya adalah untuk mengontrol aliran fungsi generator sehingga terlihat seperti pernyataan kembali.  Ketika fungsi generator dipanggil atau ekspresi generator digunakan, ia mengembalikan iterator khusus yang disebut generator.  Untuk menggunakan generator, tetapkan ke beberapa variabel.  Saat memanggil metode khusus dalam generator, seperti next (), kode fungsi akan dieksekusi sampai menghasilkan. </p><br><p>  Ketika masuk ke pernyataan hasil, program menghentikan fungsi dan mengembalikan nilai ke objek yang memulai eksekusi.  (Sedangkan pengembalian menghentikan eksekusi fungsi sepenuhnya.) Ketika fungsi ditangguhkan, statusnya dipertahankan. </p><br><p>  Sekarang kita sudah terbiasa dengan generator di Python, mari kita bandingkan pendekatan yang biasa dengan pendekatan yang menggunakan generator dalam hal memori dan waktu yang dihabiskan untuk eksekusi kode. </p><br><h2 id="postanovka-problemy">  Pernyataan masalah </h2><br><p>  Misalkan kita harus melalui daftar angka yang besar (misalnya, 1.000.000.000) dan menyimpan kotak semua angka yang perlu disimpan secara terpisah di daftar lain. </p><br><h2 id="obychnyy-podhod">  Pendekatan biasa </h2><br><pre> <code class="plaintext hljs">import memory_profiler import time def check_even(numbers): even = [] for num in numbers: if num % 2 == 0: even.append(num*num) return even if __name__ == '__main__': m1 = memory_profiler.memory_usage() t1 = time.clock() cubes = check_even(range(100000000)) t2 = time.clock() m2 = memory_profiler.memory_usage() time_diff = t2 - t1 mem_diff = m2[0] - m1[0] print(f"It took {time_diff} Secs and {mem_diff} Mb to execute this method")</code> </pre> <br><p>  Setelah menjalankan kode di atas, kami mendapatkan yang berikut: </p><br><pre> <code class="plaintext hljs">It took 21.876470000000005 Secs and 1929.703125 Mb to execute this method</code> </pre> <br><p>  Menggunakan generator </p><br><pre> <code class="plaintext hljs">import memory_profiler import time def check_even(numbers): for num in numbers: if num % 2 == 0: yield num * num if __name__ == '__main__': m1 = memory_profiler.memory_usage() t1 = time.clock() cubes = check_even(range(100000000)) t2 = time.clock() m2 = memory_profiler.memory_usage() time_diff = t2 - t1 mem_diff = m2[0] - m1[0] print(f"It took {time_diff} Secs and {mem_diff} Mb to execute this method")</code> </pre> <br><p>  Setelah menjalankan kode di atas, kami mendapatkan yang berikut: </p><br><pre> <code class="plaintext hljs">It took 2.9999999995311555e-05 Secs and 0.02656277 Mb to execute this method</code> </pre> <br><p>  Seperti yang dapat kita lihat, runtime dan memori yang digunakan berkurang secara signifikan.  Generator beroperasi dengan prinsip yang dikenal sebagai "komputasi malas."  Ini berarti mereka dapat menghemat prosesor, memori, dan sumber daya komputasi lainnya. </p><br><h2 id="zaklyuchenie">  Kesimpulan </h2><br><p>  Saya harap dalam artikel ini saya bisa menunjukkan bagaimana generator di Python dapat digunakan untuk menghemat sumber daya seperti memori dan waktu.  Keuntungan ini muncul karena fakta bahwa generator tidak menyimpan semua hasil dalam memori, tetapi menghitungnya dengan cepat, dan memori hanya digunakan jika kami meminta hasil perhitungan.  Generator juga memungkinkan Anda untuk mengabstraksi sejumlah besar kode boilerplate, yang diperlukan untuk menulis iterator, sehingga mereka juga membantu mengurangi jumlah kode. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id477926/">https://habr.com/ru/post/id477926/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id477914/index.html">Proyeksi di langit-langit: tayangan setelah satu minggu menggunakan proyektor, letakkan "di ujung"</a></li>
<li><a href="../id477916/index.html">Cara pembuat perangkat lunak jahat mencoba menghindari deteksi: kami menganalisis Spy.GmFUToMitm sebagai contoh</a></li>
<li><a href="../id477918/index.html">Helpdesk open source sebagai alternatif untuk Zendesk dan Help Scout. Arsitektur, Desain, dan Kegunaan</a></li>
<li><a href="../id477920/index.html">Aspek-aspek praktis dari gerakan API dini pensiun di Rusia</a></li>
<li><a href="../id477924/index.html">JavaFX Tutorial: styling CSS</a></li>
<li><a href="../id477928/index.html">Rekaman laporan dari QA-mitap Redmadrobot</a></li>
<li><a href="../id477930/index.html">Arsitektur terbaik untuk MVP: monolith, SOA, microservices atau serverless? .. Bagian 2</a></li>
<li><a href="../id477934/index.html">Diskon dari hosters pada Black Friday 2019</a></li>
<li><a href="../id477936/index.html">Kamus IT atau Apa? Dimana? Kemana? Bagian 2</a></li>
<li><a href="../id477938/index.html">Pasar server yang digunakan di Rusia: semuanya dimulai dengan Habr</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>