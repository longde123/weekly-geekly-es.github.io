<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé§ üë©‚Äçüé® üëàüèæ C√≥mo usamos el sistema de monitoreo minorista Zabbix üëÅ‚Äçüó® üòπ üë©üèº‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Los sistemas de monitoreo como Zabbix no son sorprendentes para los usuarios sofisticados. Sin embargo, en el comercio minorista no son invitados frec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo usamos el sistema de monitoreo minorista Zabbix</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pilot/blog/442044/">  Los sistemas de monitoreo como Zabbix no son sorprendentes para los usuarios sofisticados.  Sin embargo, en el comercio minorista no son invitados frecuentes, y si se usan, cada vez m√°s para el control del servidor.  Fuimos m√°s all√° y los usamos para monitorear el software y el equipo de la caja registradora. <br><br><img src="https://habrastorage.org/webt/oe/91/5m/oe915mnserqh-stapn4hwvsxb6m.jpeg"><a name="habracut"></a><br><br><h2>  Por qu√© los sistemas de monitoreo rara vez se encuentran en el comercio </h2><br>  Aqu√≠ todo es completamente transparente: los minoristas y las empresas de servicios rara vez usan sistemas de monitoreo, porque es dif√≠cil evaluar su eficiencia econ√≥mica.  Con la introducci√≥n de los procesos comerciales, todo es simple: X dinero y X esfuerzo.  Pero calcular cu√°nto ahorraron al minorista en el futuro es m√°s dif√≠cil. <br><br>  Los contratistas de servicios generalmente no implementan sistemas de monitoreo tambi√©n porque no reducen la importancia de su trabajo.  Esto es l√≥gico: Zabbix le permite identificar un problema antes de que el cliente lo vea.  Por un lado, esto mejora la calidad de los servicios prestados.  Por otro lado, el cliente a veces tiene la impresi√≥n err√≥nea de que sus procesos comerciales est√°n perfectamente organizados y funcionan sin ninguna ayuda externa.  Pero esto se puede resolver proporcionando informes a tiempo. <br><br>  Sin embargo, incluso aquellos minoristas que aceptan implementar un sistema de monitoreo generalmente terminan con el control de servidores, computadoras de oficina, fuentes de alimentaci√≥n ininterrumpida y equipos de red activos.  Hacemos esto tambi√©n: <br><br><ul><li>  de los servidores obtenemos datos sobre la utilizaci√≥n de procesadores, el rendimiento de ventiladores, discos duros, memoria, temperatura de procesadores y placas base; </li></ul><br><ul><li>  de fuentes de energ√≠a ininterrumpida: estados, nivel de carga, informaci√≥n sobre cu√°nto tiempo trabajar√°n en caso de un corte de energ√≠a; </li></ul><br><ul><li>  desde equipos de red: tr√°fico en puertos, utilizaci√≥n de recursos. </li></ul><br>  Como parte de la informaci√≥n recibida, las solicitudes autom√°ticas se realizan en la mesa de servicio.  Otros datos nos ayudan a investigar incidentes.  Ejemplo cl√°sico: un usuario se queja de que su computadora es lenta.  Es dif√≠cil rastrearlo sin un sistema de monitoreo, ya sea cuando el ingeniero conecta todo estar√° bien o el empleado tiene una impresi√≥n subjetiva (su PC d√©bil y funcional funciona objetivamente m√°s lentamente que una computadora de juego elegante que est√° en casa).  Por lo tanto, estamos estudiando gr√°ficos retrospectivos para el momento en que una persona observaba un problema. <br><br>  Pero todo lo anterior es un lugar com√∫n, nada nuevo.  Dio la casualidad de que fuimos m√°s all√° y con la ayuda de Zabbix comenzamos a monitorear el rendimiento del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">software</a> de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">caja registradora</a> y el equipo de la caja registradora.  Hacemos esto para grandes minoristas internacionales, ampliamente representados en el mercado ruso en los segmentos de alimentos y no alimentos.  Adem√°s, nuestro sistema de monitoreo regional fue adquirido por algunos networkers regionales, que ahora pueden controlar de manera independiente el desempe√±o de sus procesos comerciales. <br><br><h2>  ¬øPor qu√© empezamos a hacer esto? </h2><br>  Hablando francamente, el sistema de monitoreo se implement√≥ en Pilot espont√°neamente, sin ning√∫n proyecto y en partes.  Si la decisi√≥n sobre esto viniera desde arriba, tal vez seguir√≠amos el camino de otros contratistas de servicios y no nos molestar√≠amos.  Pero hemos iniciado la introducci√≥n de empleados lineales: ingenieros.  Ante un desglose particular del equipo de la caja registradora o problemas t√©cnicos de software, buscaban c√≥mo prevenirlo en el futuro.  Y se les ocurri√≥ la idea de un sistema de monitoreo. <br><br>  Con √©l, tenemos tres opciones para resolver problemas: <br><br><ul><li>  preventivamente: solucione el problema antes de que ocurra.  Por ejemplo, al monitorear un disco duro, vemos que el espacio en √©l se ha reducido a un nivel cr√≠tico.  Y estamos tomando medidas al respecto; </li></ul><br><ul><li>  despu√©s del hecho, resolvemos el problema despu√©s de que sucedi√≥.  Por ejemplo, un ventilador en el procesador ha fallado.  El procesador todav√≠a se est√° calentando, pero est√° funcionando.  Tarde o temprano, por supuesto, fallar√°, pero hasta ahora tenemos la oportunidad de reemplazar el ventilador.  Es decir, el usuario a√∫n no ha notado el incidente, pero ya lo est√°.  Desde su punto de vista, resolvemos el problema de manera proactiva, pero desde el punto de vista del equipo, despu√©s del hecho; </li></ul><br><ul><li>  anal√≠ticamente: obtenemos una gran cantidad de datos en retrospectiva para analizar incidentes. </li></ul><br><br><img src="https://habrastorage.org/webt/-1/yh/v0/-1yhv02wsngac5pl_ydhzezyskk.png"><br><br>  Por supuesto, nuestro sistema de monitoreo no afecta a todas las cajas registradoras porque no siempre tiene sentido.  Toma un esc√°ner de c√≥digo de barras.  Ellos trabajan o no.  Y en el segundo caso, los empleados de la tienda nos informar√°n un problema mucho m√°s r√°pido que un sistema de monitoreo.  Por lo tanto, nos centramos en el control de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">terminales POS</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cajas registradoras (PCC)</a> . <br><br><h2>  CCT Health Monitoring </h2><br>  CCP proporciona a trav√©s del controlador suficiente informaci√≥n que le permite juzgar su rendimiento.  Por ejemplo: <br><br><ul><li>  Varios datos de inventario: versiones de hardware, firmware, controladores, n√∫meros de serie.  En general, la composici√≥n del equipo en el servicio se fija en los anexos de los contratos y se almacena en CMDB, sin embargo, el cliente es libre de mover y reemplazar el equipo como lo desee.  Por supuesto, no siempre recuerda que ser√≠a bueno notificar a la compa√±√≠a de servicios al respecto.  Aqu√≠ es donde el sistema de monitoreo viene al rescate, que rastrea el cambio en la configuraci√≥n del equipo.  Escribimos un m√≥dulo de integraci√≥n que corrige CMDB de acuerdo con los datos de inventario de Zabbix.  Adem√°s de rastrear la configuraci√≥n real de los equipos en las instalaciones de servicio, junto con la funcionalidad de autodetecci√≥n del sistema de monitoreo, reduce enormemente el tiempo para iniciar el inventario de un nuevo cliente, si el contrato estipula dicho trabajo. </li></ul><br><br>  Estudio de caso: ¬ømuchos probablemente recuerden el caso de un error en el firmware de uno de los fabricantes de KKT en diciembre de 2017?  Tan pronto como apareci√≥ la primera informaci√≥n sobre el problema, configuramos un disparador en Zabbix, se√±alando la versi√≥n de firmware que contiene el error, y obtuvimos una lista de PCC que deb√≠an abordarse con urgencia. <br><br><ul><li>  El c√≥digo de estado CCP es un par√°metro excelente que le permite realizar un seguimiento de casi cualquier mal funcionamiento, desde el tiempo configurado incorrectamente o el sobrecalentamiento del cabezal de la impresora hasta la presencia de datos fiscales no enviados en la unidad fiscal. </li></ul><br><h2>  Control de software en efectivo </h2><br>  Como parte del control del programa de efectivo, monitoreamos varios signos: <br><br><ul><li>  la capacidad de servicio de los servicios: si el software est√° encendido o no, si abre algunos puertos de red o est√° esperando una conexi√≥n; </li></ul><br><ul><li>  entradas en los registros: por lo general, el software escribe en los registros sobre los problemas encontrados y genera un conjunto de errores.  Como se√±al indirecta, si los registros cambian, entonces el software funciona, si no hay nuevas entradas en ellos, entonces debe crear una solicitud; </li></ul><br><ul><li>  de hecho, las entradas de registro en s√≠ mismas: si se produce un mensaje de error, se dispara el disparador.  Despu√©s del procesamiento, los registros se transfieren a ELK: los registros de Logstash se eliminan a trav√©s de la API de Zabbix; </li></ul><br><ul><li>  Los resultados del software de integraci√≥n que descarga, convierte y env√≠a datos (por ejemplo, transfiere informaci√≥n a EGAIS, OFD, recibe una gama de productos).  Por lo tanto, un paquete de datos recientemente formado incorrectamente con la nomenclatura deshabilit√≥ el software de los terminales de auto pago, paralizando su trabajo en una de las tiendas de nuestros clientes.  Gracias al sistema de monitoreo, logramos localizar el problema a tiempo; </li></ul><br><ul><li>  versiones de software y controladores: a veces surgen situaciones en las que, por ejemplo, las versiones de dos programas no son compatibles, pero para que el software efectivo funcione, necesitan interactuar; </li></ul><br><ul><li>  Bases de datos: supervisamos la capacidad de servicio de los servicios, la disponibilidad de puertos de red, la cantidad de bases de datos, sus versiones y la cantidad de bases de datos desactivadas; </li></ul><br><ul><li>  servicios externos (por ejemplo, EGAIS, con el que interactuamos a trav√©s de redes IP en modo autom√°tico). </li></ul><br><br><img src="https://habrastorage.org/webt/aj/58/pb/aj58pbyioafwqbsfp7x7jwfq0ui.png"><br><br><h2>  Problemas que con mayor frecuencia ingresan al sistema de monitoreo </h2><br>  Muy a menudo, Zabbix nos se√±ala problemas de red: inaccesibilidad de dispositivos, tiempo de respuesta demasiado largo.  Adem√°s, existen dificultades con la utilizaci√≥n de los recursos: las PC de baja potencia generalmente se usan para cajas registradoras.  El tercer problema m√°s com√∫n es la validez de los datos de sistemas externos. <br><br>  Muy a menudo, llegan mensajes sobre hora local incorrecta.  Las PC con dinero en efectivo generalmente no entran en AD y el servicio ntp debe configurarse all√≠ por separado, lo que a veces se olvida.  Y el momento equivocado en la caja est√° plagado de problemas importantes para la tienda: por ejemplo, vender alcohol cuando est√° prohibido, lo que puede ocasionar una multa o la p√©rdida de una licencia. <br><br><h2>  Fraude y tiempo de inactividad </h2><br>  Otra √°rea de actividad en la que Zabbix, por cierto, result√≥ ser bastante √∫til, es la lucha contra el fraude.  Sucede que los contratistas en las regiones o los ingenieros de campo individuales, a quienes se les paga por separado, entran en una conspiraci√≥n con los usuarios del cliente y resuelven problemas que en realidad no exist√≠an.  Podemos llevarlos al agua limpia analizando las indicaciones del sistema de monitoreo.  Si bien esto se hace manualmente, cuando se registra un aumento sospechoso de actividad en un lugar determinado, pero estamos trabajando para verificar autom√°ticamente las aplicaciones con lecturas de Zabbix en todos los casos en que esto sea posible. <br><br>  Ahora desde nuestro sistema de monitoreo recibe del 15 al 25% de las aplicaciones.  Esta es una cantidad bastante peque√±a, pero para fines de este a√±o queremos aumentarla hasta un 50% para los clientes que han firmado acuerdos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">servicio</a> con nosotros. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/442044/">https://habr.com/ru/post/442044/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442032/index.html">Reintroducci√≥n de bisontes (peque√±a victoria de los zo√≥logos)</a></li>
<li><a href="../442034/index.html">ReCaptcha bypass en pruebas de selenio</a></li>
<li><a href="../442036/index.html">Tiempo de ejecuci√≥n de contenedor maduro: containerd se grad√∫a de CNCF</a></li>
<li><a href="../442038/index.html">El resumen de eventos para profesionales de recursos humanos en el campo de TI en marzo de 2019</a></li>
<li><a href="../442040/index.html">La asociaci√≥n como herramienta efectiva para el desarrollo empresarial</a></li>
<li><a href="../442046/index.html">Reaccionar y dividir c√≥digo</a></li>
<li><a href="../442048/index.html">C√≥mo Google Programmer resuelve problemas comunes</a></li>
<li><a href="../442050/index.html">Qu√© hacer si desea recaudar dinero para la reparaci√≥n de Falla, y solo Wikipedia est√° a la mano</a></li>
<li><a href="../442052/index.html">La nueva tecnolog√≠a puede mejorar diez veces la resoluci√≥n de im√°genes de tejidos biol√≥gicos</a></li>
<li><a href="../442054/index.html">Febrero de 2019 Joomla Digest</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>