<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏻 🥚 🕷️ [bookmark] 23 recomendações para proteger aplicativos Node.js. 👩🏻‍🤝‍👨🏾 🤙🏾 👨🏼‍🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Atualmente, os serviços da Web são constantemente expostos a uma variedade de ataques. Portanto, a segurança é algo a ser lembrado em todas as etapas ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>[bookmark] 23 recomendações para proteger aplicativos Node.js.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/419719/">  Atualmente, os serviços da Web são constantemente expostos a uma variedade de ataques.  Portanto, a segurança é algo a ser lembrado em todas as etapas do ciclo de vida do projeto.  Os autores do material, cuja tradução publicamos hoje, mantêm um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">repositório</a> no GitHub contendo cerca de 80 recomendações para proteger aplicativos em execução na plataforma Node.js.  Este material, com base em muitas publicações de segurança, possui mais de duas dúzias de recomendações sobre o Node.js e algumas dicas gerais.  Além disso, este material cobre as 10 principais vulnerabilidades da lista do projeto OWASP. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/un/rv/yq/unrvyqhru9dijyht3zx9k9x4tlg.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">1. Use as regras para o linter, destinadas a verificar a segurança do código</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Recomendações </h3><br>  Durante o desenvolvimento, use um plug-in orientado à segurança para o linter, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">eslint-plugin-security</a> .  Isso permite que você identifique vulnerabilidades e problemas de segurança muito cedo - na hora de escrever o código apropriado.  Essa abordagem ajuda a encontrar pontos fracos na segurança do programa.  Entre eles estão o uso do comando <code>eval</code> , a invocação de processos filhos, a importação de módulos com a transferência para o comando correspondente de algo diferente de uma string literal (digamos, uma certa string formada com base nos dados transmitidos ao servidor pelo usuário). <br><br>  → <a href="">Aqui estão alguns</a> materiais úteis sobre regras de linter <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Adam Baldwin</a> diz o seguinte sobre o linting: “O Linter não deve ser apenas uma ferramenta que segue meticulosamente as regras relativas ao número de espaços usados, ponto e vírgula e o uso do comando eval.  O ESLint fornece ao desenvolvedor uma plataforma poderosa que pode detectar e eliminar uma ampla variedade de padrões potencialmente perigosos no código.  Estamos falando, por exemplo, sobre expressões regulares, sobre como verificar a entrada do usuário e assim por diante.  Acredito que o linter oferece aos desenvolvedores preocupados com questões de segurança uma nova e poderosa ferramenta que vale a pena prestar atenção. ” <br><br><h3>  Possíveis problemas </h3><br>  O que parece uma falha de segurança menor durante o desenvolvimento está se tornando uma séria vulnerabilidade na produção.  Além disso, se todos os desenvolvedores do projeto não seguirem regras uniformes de segurança ao trabalhar com código, isso poderá levar a vulnerabilidades ou, por exemplo, à penetração de dados confidenciais em repositórios públicos. <br><br><h2>  <font color="#3AC1EF">2. Limite o número de solicitações simultâneas do servidor</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6b/49a/a03/c6b49aa0355cb99de053d330a5305b15.png"></div><br><h3>  Recomendações </h3><br>  Os ataques de DoS são muito populares entre os cibercriminosos e são relativamente fáceis de realizar.  Você pode implementar um sistema para limitar o número de solicitações a um aplicativo usando um serviço externo, como um balanceador de carga na nuvem, um firewall na nuvem, um servidor nginx ou, para aplicativos pequenos que não são críticos, usando o middleware para limitar o número de solicitações, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">taxa expressa -limite</a> . <br><br>  → <a href="">Aqui está o</a> material sobre a implementação do sistema para limitar a frequência de solicitações ao servidor <br><br><h3>  Possíveis problemas </h3><br>  Um aplicativo que não fornece um sistema para limitar o número de solicitações simultâneas pode ser atacado, o que levará à falha.  Isso é expresso no fato de que os usuários de um aplicativo têm dificuldade em trabalhar com ele ou não conseguem interagir com ele. <br><br><h2>  <font color="#3AC1EF">3. Remova as informações confidenciais dos arquivos de configuração ou criptografe-os</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  Recomendações </h3><br>  Nunca armazene dados confidenciais em texto sem formatação nos arquivos de configuração ou no código.  Em vez disso, use sistemas de gerenciamento de dados confidenciais, como produtos Vault ou sistemas Kubernetes / Docker Secrets, ou use variáveis ​​de ambiente para armazenar esses dados.  Os dados confidenciais armazenados no sistema de controle de versão devem ser criptografados, medidas devem ser tomadas para armazenamento e uso seguros.  Entre essas medidas estão o uso de chaves dinâmicas, o uso de datas de expiração de senha, auditorias de segurança e assim por diante.  Use sistemas para verificar o código antes de confirmar ou antes de enviá-lo ao repositório para impedir o envio acidental de dados confidenciais ao repositório público. <br><br>  → <a href="">Aqui está o</a> material sobre o gerenciamento de dados confidenciais <br><br><h3>  Possíveis problemas </h3><br>  Mesmo se o código for armazenado em um repositório fechado, um dia, por engano, ele poderá se tornar disponível ao público.  Neste ponto, todos os dados confidenciais armazenados nele se tornarão de domínio público.  Como resultado, o acesso de terceiros ao repositório com o código inadvertidamente fará com que eles obtenham acesso aos sistemas associados a ele (bancos de dados, APIs, serviços e assim por diante). <br><br><h2>  <font color="#3AC1EF">4. Evite vulnerabilidades de injeção de código</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Recomendações </h3><br>  Para evitar injeções de SQL / NoSQL e outros ataques similares, sempre use as bibliotecas ORM / ODM ou mecanismos DBMS para limpeza de dados ou suporte a consultas parametrizadas nomeadas ou indexadas e verifique o que está vindo do usuário.  Nunca use, para incorporar certos valores nos textos de consulta, apenas sequências JavaScript de modelo ou concatenação de sequências, pois essa abordagem abre seu aplicativo para uma ampla variedade de vulnerabilidades.  Todas as bibliotecas respeitáveis ​​do Node.js usadas para trabalhar com dados (por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sequelize</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Knex</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mangusto</a> ) contêm proteção <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">interna</a> contra ataques <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">injetando</a> código. <br><br>  → <a href="">Aqui está o</a> material sobre prevenção de injeção usando bibliotecas ORM / ODM <br><br><h3>  Possíveis problemas </h3><br>  O uso de dados não verificados e não limpos, recebidos do usuário em consultas, pode levar a um ataque ao introduzir um operador ao trabalhar com um banco de dados NoSQL, como o MongoDB.  Se você não usar um sistema de limpeza de dados ou uma biblioteca ORM ao trabalhar com um banco de dados SQL, isso levará à possibilidade de um ataque por injeção SQL, o que cria uma enorme falha de segurança no aplicativo. <br><br><h2>  <font color="#3AC1EF">5. Evite ataques DoS definindo explicitamente as condições para o término anormal do processo</font> </h2><br><h3>  Recomendações </h3><br>  O processo do nó falha quando ocorre um erro não tratado.  Porém, em muitas recomendações que refletem as práticas recomendadas para o Nó, é recomendável que os processos sejam finalizados mesmo quando um erro foi interceptado e processado.  Express, por exemplo, falhará quando ocorrer algum erro assíncrono - a menos que as rotas sejam agrupadas em expressões de <code>catch</code> .  Esse fato oferece aos atacantes uma oportunidade muito atraente.  Eles, tendo descoberto que quando uma certa solicitação chega, o processo falha, começam a enviar exatamente essas solicitações para ele.  Não há recomendação que resolva esse problema de uma só vez; no entanto, alguns truques podem atenuá-lo.  Portanto, no final do processo devido a um erro não tratado, você precisa notificar o administrador, dando a essa notificação a maior prioridade de importância.  É necessário verificar o que ocorre com o processo nas solicitações e evitar situações de encerramento anormal do processo devido a solicitações que, acidental ou intencionalmente, são formadas incorretamente.  Todas as rotas devem ser agrupadas em expressões de <code>catch</code> e o sistema deve ser configurado para que, se a causa do erro for uma solicitação, o processo não travar (ao contrário do que acontece no nível do aplicativo global). <br><br><h3>  Possíveis problemas </h3><br>  Vamos analisar a seguinte situação.  Existem muitos aplicativos Node.js.  O que acontece se começarmos a enviar solicitações POST com JSON vazio como o corpo da solicitação?  Isso fará com que muitos desses aplicativos falhem. <br><br>  Agora, se desempenharmos o papel de cibercriminosos, para impedir que os aplicativos falhem, seria suficiente continuar enviando solicitações semelhantes. <br><br><h2>  <font color="#3AC1EF">6. Configure os cabeçalhos de resposta HTTP para aumentar a segurança do projeto</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  Recomendações </h3><br>  Um aplicativo deve usar cabeçalhos HTTP orientados à segurança para impedir que os invasores recorram a técnicas comuns de ataque como XSS (cross-site scripting), clickjacking e outros.  É fácil personalizar os cabeçalhos usando módulos especiais, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">capacete</a> . <br><br>  → <a href="">Aqui está o</a> material sobre o uso de cabeçalhos seguros <br><br><h3>  Possíveis problemas </h3><br>  Se não forem usados ​​cabeçalhos HTTP seguros, os invasores poderão realizar ataques aos usuários de seus aplicativos, o que gera enormes vulnerabilidades. <br><br><h2>  <font color="#3AC1EF">7. Verifique contínua e automaticamente seus projetos quanto ao uso de dependências vulneráveis.</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/810/c93/fcf/810c93fcf88a0b68e15d345fccc1b597.png"></div><br><h3>  Recomendações </h3><br>  No ecossistema NPM, projetos com muitas dependências são muito comuns.  As dependências devem sempre ser controladas, dada a descoberta de novas vulnerabilidades.  Use ferramentas como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">auditoria npm</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nsp</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">snyk</a> para detectar, monitorar e corrigir dependências vulneráveis.  Incorpore essas ferramentas ao seu sistema de integração contínua.  Isso permitirá que você detecte dependências vulneráveis ​​antes que elas entrem em produção. <br><br>  → <a href="">Aqui está o</a> material sobre segurança de dependência do projeto <br><br><h3>  Possíveis problemas </h3><br>  Um invasor pode determinar a estrutura da web usada no projeto e executar ataques a todas as vulnerabilidades conhecidas. <br><br><h2>  <font color="#3AC1EF">8. Tente não usar o módulo criptográfico padrão Node.js. para processamento de senha, use Bcrypt</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Recomendações </h3><br>  As senhas ou outros dados confidenciais (chaves de API, por exemplo) devem ser armazenados processando-os com funções criptográficas usando "salt", como Bcrypt.  Vale a pena usar exatamente algo semelhante, e não o módulo <code>crypto</code> padrão do Node.js. por razões de segurança e desempenho. <br><br>  → <a href="">Aqui está o</a> material sobre o Bcrypt <br><br><h3>  Possíveis problemas </h3><br>  As senhas ou alguns dados confidenciais armazenados sem a aplicação de medidas apropriadas para protegê-los são vulneráveis ​​a ataques de força bruta e ataques de dicionário, que, como resultado, levam à divulgação desses dados. <br><br><h2>  <font color="#3AC1EF">9. Use sistemas de escape de caracteres em dados HTML, JS e CSS enviados ao usuário</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b7/846/638/0b7846638c9f820198235d61d8a2d0f0.png"></div><br><h3>  Recomendações </h3><br>  Se alguns dados são enviados para o navegador do usuário a partir de uma fonte não confiável, mesmo que devam ser exibidos simplesmente, esses dados podem ser um código que pode ser executado.  Isso geralmente é chamado de script entre sites (XSS).  Você pode reduzir o risco de tais ataques serem possíveis usando bibliotecas especiais que processam dados para que não possam ser executados.  Isso é chamado de codificação ou proteção de dados. <br><br>  → <a href="">Aqui está o</a> material sobre a proteção da saída <br><br><h3>  Possíveis problemas </h3><br>  Se você não se importa com a proteção de dados, um invasor pode, por exemplo, salvar código JavaScript malicioso no banco de dados, que pode ser transmitido aos clientes inalterados e iniciados. <br><br><h2>  <font color="#3AC1EF">10. Verifique os dados JSON que chegam ao servidor</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/56d/a15/9d556da155eb3922f32262c33522f797.png"></div><br><h3>  Recomendações </h3><br>  Controle o conteúdo dos corpos das solicitações recebidas, verificando se elas correspondem ao que você espera ver em tais solicitações.  Se a solicitação não parecer como o esperado, pare rapidamente de processá-la.  Para evitar a operação demorada do código de verificação de solicitação de gravação para cada rota, você pode usar ferramentas JSON leves para validação de dados, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jsonschema</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">joi</a> . <br><br>  → <a href="">Aqui está o</a> material sobre a verificação de dados JSON recebidos <br><br><h3>  Possíveis problemas </h3><br>  Se o servidor aceitar solicitações cordialmente sem examiná-las completamente, isso aumentará bastante a superfície de ataque do aplicativo e inspirará os invasores a tentar encontrar muitos deles que causam uma "falha" do sistema. <br><br><h2>  <font color="#3AC1EF">11. Manter tokens JWT na lista negra</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Recomendações </h3><br>  Ao usar tokens JWT (por exemplo, se você trabalha com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Passport.js</a> ), por padrão, não há mecanismo padrão para revogar privilégios de acesso ao sistema para tokens já emitidos.  Mesmo se você achar que um determinado usuário está fazendo algo obviamente anormal, não há como, através do mecanismo do token, bloquear seu acesso ao sistema, desde que ele tenha um token válido.  Esse problema pode ser atenuado com a implementação de uma lista negra de tokens não confiáveis, cuja validação é realizada em cada solicitação. <br><br>  → <a href="">Aqui está o</a> material sobre os tokens JWT na lista negra <br><br><h3>  Possíveis problemas </h3><br>  Tokens que caem nas mãos erradas podem ser usados ​​por um atacante.  Ele poderá acessar o aplicativo e se passar por um usuário comum - o proprietário do token. <br><br><h2>  <font color="#3AC1EF">12. Limite o número de tentativas de login</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Recomendações </h3><br>  Em aplicativos baseados em express, para proteger contra ataques de força bruta e ataques de dicionário, vale a pena usar o middleware apropriado, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">express-brute</a> .  Da mesma forma, você precisa proteger rotas críticas como <code>/admin</code> ou <code>/login</code> .  A proteção deve se basear na análise das propriedades da consulta, como o nome de usuário usado na consulta ou outros identificadores, como parâmetros do corpo da consulta. <br><br>  → <a href="">Aqui está o</a> material para limitar o número de tentativas de login <br><br><h3>  Possíveis problemas </h3><br>  Se o aplicativo não limitar o número de tentativas de login, o invasor poderá enviar automaticamente um número ilimitado de solicitações de login para o seu sistema, por exemplo, tentando obter acesso a uma conta privilegiada. <br><br><h2>  <font color="#3AC1EF">13. Execute o Node.js como um usuário não raiz</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4c0/dca/b4d/4c0dcab4d9a0d1fce8fcaf8b6abbdcce.png"></div><br><h3>  Recomendações </h3><br>  Um cenário extremamente comum é quando o Node.js é executado como um usuário root com privilégios ilimitados.  Por exemplo, é assim que tudo é configurado por padrão nos contêineres do Docker.  É recomendável criar um usuário que não tenha privilégios de root e incorporá-lo à imagem do Docker ou iniciar o processo em nome desse usuário chamando o contêiner com o sinalizador <code>-u username</code> . <br><br>  → <a href="">Aqui está o</a> material sobre o lançamento do Node.js como um usuário não raiz <br><br><h3>  Possíveis problemas </h3><br>  Se o Node.js for executado na conta de usuário raiz, um invasor que foi capaz de executar um script no servidor terá possibilidades ilimitadas na máquina local.  Digamos que ele possa alterar <code>iptable</code> configurações do <code>iptable</code> e redirecionar o tráfego para seu próprio computador. <br><br><h2>  <font color="#3AC1EF">14. Limite a quantidade de dados transmitidos em solicitações usando um servidor proxy reverso ou middleware</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/56d/a15/9d556da155eb3922f32262c33522f797.png"></div><br><h3>  Recomendações </h3><br>  Quanto maior a quantidade de dados no corpo da solicitação, mais difícil é para um servidor de thread único processar tal solicitação.  O uso de solicitações grandes oferece ao invasor a oportunidade de inundar o servidor com trabalho desnecessário sem enviar a ele um grande número de solicitações (ou seja, sem executar um ataque DoS / DDoS).  Você pode reduzir o risco de tais ataques limitando o tamanho dos corpos das solicitações recebidas em um determinado sistema de borda (em um firewall ou em um balanceador de carga) ou configurando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">body-parser</a> express para receber apenas pacotes contendo uma pequena quantidade de dados. <br><br>  → <a href="">Aqui está o</a> material sobre como limitar a quantidade de dados transmitidos nas solicitações <br><br><h3>  Possíveis problemas </h3><br>  Se você não limitar a quantidade de dados transmitidos nas solicitações, um invasor poderá carregar o aplicativo processando solicitações grandes.  No momento, ele não poderá resolver as tarefas para as quais foi projetado.  Isso leva a um desempenho ruim e torna o aplicativo vulnerável a ataques de DoS. <br><br><h2>  <font color="#3AC1EF">15. Evite usar a função eval em JavaScript</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70a/580/560/70a580560fba67e09f87bdd6c5ecda04.png"></div><br><h3>  Recomendações </h3><br>  A função <code>eval</code> é inválida porque permite executar código JS arbitrário passado a ele durante a execução do programa.  Além disso, está longe de ser apenas que esse código possa retardar o aplicativo.  Essa função representa um sério risco à segurança, pois o código JS mal-intencionado enviado ao servidor por um invasor pode entrar nele. <br><br>  Além disso, você deve evitar o <code>new Function</code> construtor <code>new Function</code> .  As funções <code>setTimeout</code> e <code>setInterval</code> nunca precisam passar o código JS gerado dinamicamente. <br><br>  → <a href="">Aqui estão as</a> coisas sobre eval <br><br><h3>  Possíveis problemas </h3><br>  Se alguém encontrar uma maneira de transferir código JS malicioso, na forma de texto, uma função de avaliação ou algum outro mecanismo JS semelhante, ele terá acesso total à página, a tudo o que pode ser feito usando JavaScript.  Essa vulnerabilidade é frequentemente associada a ataques XSS. <br><br><h2>  <font color="#3AC1EF">16. Não sobrecarregue aplicativos Node.js. de thread único com expressões regulares maliciosas</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6b/49a/a03/c6b49aa0355cb99de053d330a5305b15.png"></div><br><h3>  Recomendações </h3><br>  As expressões regulares, embora convenientes, representam uma ameaça para aplicativos JavaScript em geral, e em particular para a plataforma Node.js.  Processar com expressão regular o que veio do usuário pode criar uma enorme carga no processador.  Por exemplo, o processamento de expressões regulares pode ser tão ineficiente que a verificação de dez palavras pode bloquear o ciclo de eventos por vários segundos e sobrecarregar o processador.  Portanto, é melhor usar pacotes de terceiros para verificar os dados da string, como <a href="">validator.js</a> , em vez de escrever suas próprias expressões regulares.  Você pode usar o pacote <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">safe-regex</a> para detectar padrões de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">regex</a> vulneráveis. <br><br>  → <a href="">Aqui está</a> o material regex anti-malware <br><br><h3>  Possíveis problemas </h3><br>  Expressões regulares mal escritas podem estar sujeitas a um tipo especial de ataques DoS, durante os quais o loop de eventos é completamente bloqueado.  Por exemplo, em novembro de 2017, foi descoberto que o pacote de <code>moment</code> popular estava vulnerável a esses ataques. <br><br><h2>  <font color="#3AC1EF">17. Evite carregar módulos usando variáveis</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Recomendações </h3><br>  Evite importar arquivos cujo caminho seja especificado como parâmetro, com base em considerações segundo as quais esse parâmetro pode ser definido com base nos dados do usuário.  Essa regra pode ser expandida para incluir aqui e, em geral, acesso a arquivos (usando <code>fs.readFile()</code> ) e acesso a quaisquer outros recursos importantes usando parâmetros recebidos do usuário.  O uso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">eslint-plugin-security</a> torna possível detectar esses padrões inseguros muito cedo. <br><br>  → <a href="">Aqui está o</a> material sobre o carregamento seguro do módulo <br><br><h3>  Possíveis problemas </h3><br>  Os dados enviados ao servidor por um invasor podem estar nas configurações responsáveis ​​pela importação de certos arquivos, entre os quais um arquivo malicioso que foi carregado anteriormente no servidor.  Esses dados também podem ser usados ​​para acessar arquivos do sistema que já estão no computador. <br><br><h2> <font color="#3AC1EF">18.     </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70a/580/560/70a580560fba67e09f87bdd6c5ecda04.png"></div><br><h3>  </h3><br>      ,        (,  ),  «»,         .    ,    ( <code>cluster.fork()</code> ),     npm-,   . <br><br> → <a href=""></a>        <br><br><h3>   </h3><br>  ,   ,      .   —  ,  ,    ,      . <br><br><h2> <font color="#3AC1EF">19.        </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  </h3><br> ,   ,   .      ,     ,          ,       .      <code>child_process.execFile</code> , ,  ,    ,        ,  . <br><br> → <a href=""></a>    ,       <br><br><h3>   </h3><br>                ,  ,    ,   ,   . <br><br><h2> <font color="#3AC1EF">20.      </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>    express,  ,    . ,   ,       ,    <code>Error</code> (    ).    , ,        ,      -  ,       . <br><br> → <a href=""></a>         <br><br><h3>   </h3><br>  ,    , ,      ,            ,    ,      . <br><br><h2> <font color="#3AC1EF">21.     npm  Yarn</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>     ,      -,      (MFA, multi-factor authentication).   npm  Yarn     ,      .  ,      ,       ,       .        ,      .   , ,  npm,                   . <br><br><h3>   </h3><br>  ,        ? <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>    eslint,     . <br><br><h2> <font color="#3AC1EF">22.   ,   </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>   -       .    ,      —     ,   -  .   ,   ,      <code>X-Powered-By</code> ,          ,      .   ,        ( , , Node.js  express). <br><br> → <a href=""></a>   -    <br><br><h3>   </h3><br> -     .  ,         ,  -,   —    .            . <br><br><h2> <font color="#3AC1EF">23.     </font> </h2><br>           ,      .  —  ,     Node.js. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>     ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> OWASP</a> . <br><br><ul><li>      root-      . </li><li>        ( SSH-). </li><li>  ,      ,   ,   . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>  OWASP,  . </li><li>       ,     .  ,      . <br></li><li>       OAuth, OpenID,   .     Basic Authentication. <br></li><li>    .      ,    (   —       ),   X   ,  Y . <br></li><li>        —     ,    —   .     ,      . <br></li><li>    ,  ,    .             ( —     GitHub, AWS, Jenkins,   ). <br></li></ul><br><h2>  <font color="#3AC1EF">Sumário</font> </h2><br>      . ,        Node.js-. <br><br>  <b>Caros leitores!</b>       -,        ? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/ft/qm/bo/ftqmbopklpm88ixbi5vqyx2zcb8.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt419719/">https://habr.com/ru/post/pt419719/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt419707/index.html">Gamificação de aplicativos - 5 coisas para lembrar</a></li>
<li><a href="../pt419711/index.html">A primeira IT Bike Quest em São Petersburgo. Como foi</a></li>
<li><a href="../pt419713/index.html">Mail.Ru Design Conference + Dribbble Meetup 2018</a></li>
<li><a href="../pt419715/index.html">Você não sabe trabalhar com transações</a></li>
<li><a href="../pt419717/index.html">Projetando uma arquitetura de aplicativo incorporado</a></li>
<li><a href="../pt419721/index.html">Biomarcadores de envelhecimento. Fragilidade do painel. Parte 1</a></li>
<li><a href="../pt419725/index.html">Dardos, dados e moedas: algoritmos de distribuição discreta</a></li>
<li><a href="../pt419727/index.html">Harbor - um registro para contêineres Docker prontos para uso</a></li>
<li><a href="../pt419729/index.html">Evento de caridade “Dê asas às crianças”</a></li>
<li><a href="../pt419731/index.html">Mini-revisão da impressora 3D de fotopolímero dentário MoonRay S</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>