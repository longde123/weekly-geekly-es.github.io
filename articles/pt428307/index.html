<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ô£Ô∏è üë®üèº‚Äçüç≥ ‚õ∑Ô∏è Desafiantes Java # 1: Sobrecarga de m√©todo na JVM üë∂üèª üé© üèåÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Desafiantes Java # 1: Sobrecarga de m√©todo na JVM 


 Bom dia a todos. 


 J√° lan√ßamos o pr√≥ximo segmento do curso "Java Developer" , mas ainda temos ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desafiantes Java # 1: Sobrecarga de m√©todo na JVM</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/428307/"><h1 id="java-challengers-1-peregruzka-metodov-v-jvm">  Desafiantes Java # 1: Sobrecarga de m√©todo na JVM </h1><br><p>  <em>Bom dia a todos.</em> </p><br><p>  <em>J√° lan√ßamos o pr√≥ximo segmento do curso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Java Developer"</a> , mas ainda temos alguns materiais que gostar√≠amos de compartilhar com voc√™.</em> </p><br><p>  Bem-vindo √† s√©rie de artigos <strong>Java Challengers</strong> !  Esta s√©rie de artigos se concentra nos recursos de programa√ß√£o Java.  O desenvolvimento deles √© o seu caminho para se tornar um programador Java altamente qualificado. </p><br><p>  Dominar as t√©cnicas discutidas nesta s√©rie de artigos exige algum esfor√ßo, mas elas percorrer√£o um longo caminho na sua experi√™ncia di√°ria como desenvolvedor de java.  Evitar erros √© mais f√°cil quando voc√™ sabe como aplicar corretamente as t√©cnicas b√°sicas de programa√ß√£o Java e rastrear erros √© muito mais f√°cil quando voc√™ sabe exatamente o que est√° acontecendo no seu c√≥digo java. </p><br><p>  Voc√™ est√° pronto para come√ßar a dominar os conceitos b√°sicos de programa√ß√£o em Java?  Ent√£o vamos come√ßar com o nosso primeiro quebra-cabe√ßa! </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d05/921/30f/d0592130f3fa2d0bc7652db206c4ffef.png" alt="alargamento-boxe-varargs"></p><a name="habracut"></a><br><blockquote>  <strong>O termo "Sobrecarga de m√©todo"</strong> <br><br>  Sobre o termo <em>sobrecarga, os</em> desenvolvedores tendem a pensar que estamos falando sobre a reinicializa√ß√£o do sistema, mas n√£o √© assim.  Na programa√ß√£o, <em>sobrecarga de m√©todo</em> significa usar o mesmo nome de m√©todo com par√¢metros diferentes. </blockquote><br><h2 id="chto-takoe-peregruzka-metodov">  O que √© sobrecarga de m√©todo? </h2><br><p>  <em>Sobrecarga de m√©todo</em> √© uma t√©cnica de programa√ß√£o que permite que um desenvolvedor da mesma classe use o mesmo nome para m√©todos com par√¢metros diferentes.  Nesse caso, dizemos que o m√©todo est√° sobrecarregado. </p><br><p> A Listagem 1 mostra m√©todos com par√¢metros diferentes que variam em n√∫mero, tipo e ordem. </p><br><p>  Lista 1. Tr√™s op√ß√µes para sobrecarregar m√©todos. </p><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//   public class Calculator { void calculate(int number1, int number2) { } void calculate(int number1, int number2, int number3) { } } //   public class Calculator { void calculate(int number1, int number2) { } void calculate(double number1, double number2) { } } //   public class Calculator { void calculate(double number1, int number2) { } void calculate(int number1, double number2) { } }</span></span></code> </pre> <br><h2 id="peregruzka-metodov-i-primitivnye-tipy">  Sobrecarga de m√©todo e tipos primitivos </h2><br><p>  Na Listagem 1, voc√™ viu os tipos primitivos <code>int</code> e <code>double</code> .  Vamos divagar por um minuto e recuperar os tipos primitivos em Java. </p><br><p>  Tabela 1. Tipos primitivos em Java </p><br><table><thead><tr><th>  Tipo </th><th>  Range </th><th>  Valor padr√£o </th><th>  Tamanho </th><th>  Exemplos literais </th></tr></thead><tbody><tr><td>  booleano </td><td>  verdadeiro ou falso </td><td>  falsa </td><td>  1 bit </td><td>  verdadeiro falso </td></tr><tr><td>  byte </td><td>  -128 ... 127 </td><td>  0 0 </td><td>  8 bit </td><td>  1, -90, -128 </td></tr><tr><td>  char </td><td>  Caractere Unicode ou 0 a 65 536 </td><td>  \ u0000 </td><td>  16 bit </td><td>  'a', '\ u0031', '\ 201', '\ n', 4 </td></tr><tr><td>  curto </td><td>  -32.768 ... 32.767 </td><td>  0 0 </td><td>  16 bit </td><td>  1, 3, 720, 22.000 </td></tr><tr><td>  int </td><td>  -2 147 483 648 ... 2 147 483 647 </td><td>  0 0 </td><td>  32 bit </td><td>  -2, -1, 0, 1, 9 </td></tr><tr><td>  longo </td><td>  -9.223.372.036.854.775.808 a 9.223.372.036.854.775.807 </td><td>  0 0 </td><td>  64 bits </td><td>  -4000L, -900L, 10L, 700L </td></tr><tr><td>  flutuar </td><td>  3,40282347 x 1038, 1,40239846 x 10-45 </td><td>  0,0 </td><td>  32 bit </td><td>  1.67e200f, -1.57e-207f, .9f, 10.4F </td></tr><tr><td>  dobrar </td><td>  Por que voc√™ est√° reportando essa p√°gina? </td><td>  0,0 </td><td>  64 bits </td><td>  1.e700d, -123457e, 37e1d </td></tr></tbody></table><br><h2 id="zachem-mne-ispolzovat-peregruzku-metodov">  Por que devo usar a sobrecarga de m√©todo? </h2><br><p>  O uso de sobrecarga torna seu c√≥digo mais limpo e f√°cil de ler, al√©m de ajudar a evitar erros no programa. </p><br><p>  Em contraste com a Listagem 1, imagine um programa em que voc√™ ter√° muitos m√©todos de <code>calculate()</code> com nomes semelhantes a <code>calculate1</code> , <code>calculate2</code> , <code>calculate3</code> ... n√£o √© bom, certo?  A sobrecarga do m√©todo <code>calculate()</code> permite que voc√™ use o mesmo nome e altere apenas o necess√°rio - par√¢metros.  Tamb√©m √© muito f√°cil encontrar m√©todos sobrecarregados, pois eles est√£o agrupados em c√≥digo. </p><br><h3 id="chem-peregruzka-ne-yavlyaetsya">  Que sobrecarga n√£o √© </h3><br><p>  Lembre-se de que alterar um nome de vari√°vel n√£o √© uma sobrecarga.  O c√≥digo a seguir n√£o compila: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstNumber, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> secondNumber)</span></span></span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> secondNumber, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> thirdNumber)</span></span></span></span>{} }</code> </pre> <br><p>  Voc√™ tamb√©m n√£o pode sobrecarregar o m√©todo alterando o valor de retorno na assinatura do m√©todo.  Este c√≥digo tamb√©m n√£o compila: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span>;} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;} }</code> </pre> <br><h3 id="peregruzka-konstruktora">  Sobrecarga de construtor </h3><br><p>  Voc√™ pode sobrecarregar o construtor da mesma maneira que o m√©todo: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> number1; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> number2; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Calculator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number1 = number1; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Calculator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number1 = number1; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number2 = number2; } }</code> </pre> <br><h2 id="reshite-zadachku-po-peregruzke-metodov">  Resolver o problema de sobrecarga de m√©todo </h2><br><p>  Voc√™ est√° pronto para o primeiro teste?  Vamos descobrir! </p><br><p>  Comece examinando cuidadosamente o seguinte c√≥digo. </p><br><p>  Listagem 2. O desafio da sobrecarga de m√©todo </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AdvancedOverloadingChallenge3</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String x = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... doYourBest)</span></span></span><span class="hljs-function"> </span></span>{ executeAction(<span class="hljs-number"><span class="hljs-number">1</span></span>); executeAction(<span class="hljs-number"><span class="hljs-number">1.0</span></span>); executeAction(Double.valueOf(<span class="hljs-string"><span class="hljs-string">"5"</span></span>)); executeAction(<span class="hljs-number"><span class="hljs-number">1L</span></span>); System.out.println(x); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ... </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"a"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"b"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"c"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">short</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"d"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"e"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"f"</span></span>; } }</code> </pre> <br><p>  Bom  Voc√™ estudou o c√≥digo.  Qual ser√° a conclus√£o? </p><br><ol><li>  befe </li><li>  bfce </li><li>  efce </li><li>  aecf </li></ol><br><p>  A resposta correta √© dada no final do artigo. </p><br><h2 id="chto-seychas-proizoshlo-kak-jvm-kompiliruet-peregruzhennye-metody">  O que aconteceu agora?  Como a JVM compila m√©todos sobrecarregados </h2><br><p>  Para entender o que aconteceu na Listagem 2, voc√™ precisa saber algumas coisas sobre como a JVM compila m√©todos sobrecarregados. </p><br><p>  Primeiro de tudo, a JVM √© razoavelmente pregui√ßosa: sempre far√° o menor esfor√ßo para executar um m√©todo.  Portanto, ao pensar em como a JVM lida com sobrecarga, lembre-se de tr√™s recursos importantes do compilador: </p><br><ol><li>  Alargamento </li><li>  Embalagem (caixa autom√°tica e unboxing) </li><li>  Argumentos de comprimento vari√°vel (varargs) </li></ol><br><p>  Se voc√™ nunca se deparou com essas t√©cnicas, alguns exemplos devem ajud√°-lo a entend√™-las.  Observe que a JVM os executa na ordem em que est√£o listados. </p><br><p>  Aqui est√° um exemplo de extens√£o: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> primitiveDoubleNumber = primitiveIntNumber ;</code> </pre> <br><p>  Esta √© a ordem de extens√£o dos tipos primitivos: </p><br><p><img src="https://habrastorage.org/webt/ya/f3/fw/yaf3fw8adorzs9iz1ywad4oriri.jpeg" alt="Ordem de extens√£o de tipos primitivos"></p><br><p>  ( <em>Nota do tradutor - No <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JLS, a</a> extens√£o de primitivas √© descrita com grandes varia√ß√µes, por exemplo, por muito tempo pode ser expandida em float ou double.</em> ) </p><br><p>  Exemplo de embalagem autom√°tica: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; Integer wrapperIntegerNumber = primitiveIntNumber;</code> </pre> <br><p>  Observe o que acontece nos bastidores ao compilar o c√≥digo: </p><br><pre> <code class="java hljs">Integer wrapperIntegerNumber = Integer.valueOf(primitiveIntNumber);</code> </pre> <br><p>  Aqui est√° um exemplo de descompacta√ß√£o: </p><br><pre> <code class="java hljs">Integer wrapperIntegerNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber= wrapperIntegerNumber;</code> </pre> <br><p>  Aqui est√° o que acontece nos bastidores ao compilar este c√≥digo: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = wrapperIntegerNumber.intValue();</code> </pre> <br><p>  E aqui est√° um exemplo de um m√©todo com argumentos de comprimento vari√°vel.  Observe que os m√©todos de comprimento vari√°vel s√£o sempre os √∫ltimos a serem executados. </p><br><pre> <code class="java hljs">execute(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>... numbers){}</code> </pre> <br><h3 id="chto-takoe-argumenty-peremennoy-dliny">  O que s√£o argumentos de comprimento vari√°vel? </h3><br><p>  Os argumentos de comprimento vari√°vel s√£o apenas uma matriz de valores dados por tr√™s pontos (...).  Podemos passar tantos n√∫meros <code>int</code> para esse m√©todo. </p><br><p>  Por exemplo: </p><br><pre> <code class="java hljs">execute(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">88</span></span>...); <span class="hljs-comment"><span class="hljs-comment">//  ...</span></span></code> </pre> <br><p>  Argumentos de comprimento vari√°vel (varargs) s√£o muito convenientes, pois os valores podem ser passados ‚Äã‚Äãdiretamente para um m√©todo.  Se us√°ssemos matrizes, ter√≠amos que criar uma inst√¢ncia de matriz com valores. </p><br><h3 id="rasshirenie-prakticheskiy-primer">  Extens√£o: estudo de caso </h3><br><p>  Quando passamos o n√∫mero 1 diretamente para o m√©todo <code>executeAction()</code> , a JVM o interpreta automaticamente como um <code>int</code> .  √â por isso que esse n√∫mero n√£o ser√° passado para o <code>executeAction(short var)</code> . </p><br><p>  Da mesma forma, se passarmos o n√∫mero <code>1.0</code> JVM reconhecer√° automaticamente que √© o dobro. </p><br><p>  Obviamente, o n√∫mero <code>1.0</code> tamb√©m pode ser <code>float</code> , mas o tipo de literais √© predefinido.  Portanto, na Listagem 2, o <code>executeAction(double var)</code> √© <code>executeAction(double var)</code> . </p><br><p>  Quando usamos o wrapper <code>Double</code> , h√° duas op√ß√µes: o n√∫mero pode ser descompactado para um tipo primitivo ou pode ser expandido para <code>Object</code> .  (Lembre-se de que toda classe em Java estende a classe <code>Object</code> .) Nesse caso, a JVM escolhe uma extens√£o do tipo <code>Double</code> in <code>Object</code> , porque requer menos esfor√ßo do que descompactar. </p><br><p>  O √∫ltimo que passamos √© <code>1L</code> e <code>1L</code> como especificamos o tipo, √© <code>long</code> . </p><br><h2 id="rasprostranennye-oshibki-s-peregruzkoy">  Erros comuns de sobrecarga </h2><br><p>  At√© agora, voc√™ provavelmente j√° entendeu que as coisas podem estar confusas com a sobrecarga de m√©todo, ent√£o vamos examinar alguns problemas que voc√™ provavelmente encontrar√°. </p><br><h3 id="avtoupakovka-s-obyortkami-autoboxing-with-wrappers">  Autoboxing com wrappers </h3><br><p>  Java √© uma linguagem de programa√ß√£o fortemente tipada e quando usamos o empacotamento autom√°tico com wrappers, h√° algumas coisas que precisamos considerar.  Em primeiro lugar, o seguinte c√≥digo n√£o compila: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; Double wrapperNumber = primitiveIntNumber;</code> </pre> <br><p>  O empacotamento autom√°tico funcionar√° apenas com o tipo <code>double</code> porque, quando voc√™ compilar o c√≥digo, ser√° equivalente a isso: </p><br><pre> <code class="java hljs">Double number = Double.valueOf(primitiveIntNumber);</code> </pre> <br><p>  Este c√≥digo ser√° compilado.  O primeiro <code>int</code> ser√° expandido para <code>double</code> e depois empacotado em <code>Double</code> .  Mas, com o empacotamento autom√°tico, n√£o h√° extens√£o de tipo e o construtor <code>Double.valueof</code> espera um <code>double</code> , n√£o um <code>int</code> .  Nesse caso, o empacotamento autom√°tico funcionar√° se fizermos uma convers√£o de tipo expl√≠cita, por exemplo: </p><br><pre> <code class="java hljs">Double wrapperNumber = (<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>) primitiveIntNumber;</code> </pre> <br><p>  Lembre-se de que <code>Integer</code> n√£o pode ser <code>Long</code> e <code>Float</code> e n√£o pode ser <code>Double</code> .  N√£o h√° heran√ßa.  Cada um desses tipos ( <code>Integer</code> , <code>Long</code> , <code>Float</code> e <code>Double</code> ) √© <code>Number</code> e <code>Object</code> . </p><br><p>  Em caso de d√∫vida, lembre-se de que os n√∫meros do inv√≥lucro podem ser expandidos para <code>Number</code> ou <code>Object</code> .  (Muito mais pode ser dito sobre inv√≥lucros, mas vamos deixar para outro artigo.) </p><br><h3 id="literaly-chisel-v-kode">  Literais de c√≥digo </h3><br><p>  Quando n√£o especificamos o tipo de um n√∫mero literal, a JVM calcular√° o tipo para n√≥s.  Se usarmos diretamente o n√∫mero <code>1</code> no c√≥digo, a JVM o criar√° como <code>int</code> .  Se tentarmos passar <code>1</code> diretamente para um m√©todo que aceita <code>short</code> , ele n√£o ser√° compilado. </p><br><p>  Por exemplo: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      // ,   char, short, byte,  JVM    int calculate(1); } void calculate(short number) {} }</span></span></code> </pre> <br><p>  A mesma regra ser√° aplicada quando o n√∫mero <code>1.0</code> .  Embora possa ser um <code>float</code> , a JVM o considerar√° um <code>double</code> . </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      // ,   float,  JVM    double calculate(1.0); } void calculate(float number) {} }</span></span></code> </pre> <br><p>  Outro erro comum √© a suposi√ß√£o de que <code>Double</code> ou qualquer outro wrapper √© melhor para um m√©todo que recebe <code>double</code> . </p><br><p>  O fato √© que a JVM exige menos esfor√ßo para estender o wrapper <code>Double</code> para <code>Object</code> vez de descompact√°-lo em um tipo <code>double</code> primitivo. </p><br><p>  Para resumir, quando usado diretamente no c√≥digo java, <code>1</code> ser√° <code>int</code> e <code>1.0</code> ser√° o <code>double</code> .  A extens√£o √© a maneira mais f√°cil de executar; depois, h√° empacotamento ou descompacta√ß√£o e a √∫ltima opera√ß√£o sempre ser√° m√©todos de comprimento vari√°vel. </p><br><p>  Como um fato curioso.  Voc√™ sabia que o tipo <code>char</code> aceita n√∫meros? </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> anyChar = <span class="hljs-number"><span class="hljs-number">127</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ,  ,   </span></span></code> </pre> <br><h2 id="chto-neobhodimo-pomnit-o-peregruzke">  O que voc√™ precisa se lembrar sobre sobrecarga </h2><br><p>  A sobrecarga √© uma t√©cnica muito poderosa para casos em que voc√™ precisa do mesmo nome de m√©todo com par√¢metros diferentes.  Essa √© uma t√©cnica √∫til, pois o uso dos nomes corretos facilita a leitura do c√≥digo.  Em vez de duplicar o nome do m√©todo e adicionar confus√£o ao seu c√≥digo, voc√™ pode simplesmente sobrecarreg√°-lo. </p><br><p>  Isso mant√©m o c√≥digo limpo e f√°cil de ler, al√©m de reduzir o risco de m√©todos duplicados quebrarem parte do sistema. </p><br><p>  O que voc√™ deve ter em mente: ao sobrecarregar o m√©todo, a JVM far√° o m√≠nimo de esfor√ßo poss√≠vel. </p><br><p>  Aqui est√° a ordem do caminho mais lento para a execu√ß√£o: </p><br><ul><li>  O primeiro est√° aumentando. </li><li>  O segundo √© o boxe </li><li>  Terceiro, argumentos de tamanho vari√°vel (varargs) </li></ul><br><p>  Pontos a serem considerados: situa√ß√µes dif√≠ceis surgem ao declarar n√∫meros diretamente: <code>1</code> ser√° <code>int</code> e <code>1.0</code> ser√° o <code>double</code> . </p><br><p>  Lembre-se tamb√©m de que voc√™ pode declarar esses tipos explicitamente usando a sintaxe <code>1F</code> ou <code>1f</code> para <code>float</code> e <code>1D</code> ou <code>1d</code> para <code>double</code> . </p><br><p>  Isso conclui o papel da JVM na sobrecarga de m√©todo.  √â importante entender que a JVM √© inerentemente pregui√ßosa e sempre seguir√° o caminho mais pregui√ßoso. </p><br><h3 id="otvet">  A resposta </h3><br><p>  A resposta para a Listagem 2 √© a Op√ß√£o 3. efce. </p><br><h3 id="podrobnee-o-peregruzke-metodov-v-java">  Saiba mais sobre a sobrecarga de m√©todo em Java </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Java 101: Classes e objetos em Java</a> </li></ul><br><p>  Uma introdu√ß√£o a classes e objetos para iniciantes absolutos, incluindo pequenas se√ß√µes sobre m√©todos e sobrecarga de m√©todos. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Java 101: Recursos elementares da linguagem Java</a> </li></ul><br><p>  Saiba mais sobre por que √© importante que o Java seja uma linguagem fortemente tipada e aprenda sobre os tipos primitivos do Java. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Muitos par√¢metros nos m√©todos Java, Parte 4</a> </li></ul><br><p>  Aprenda as limita√ß√µes e desvantagens da sobrecarga de m√©todo, bem como resolv√™-las usando tipos personalizados e objetos de par√¢metro. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt428307/">https://habr.com/ru/post/pt428307/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt428295/index.html">Como fazer uma lanterna solar com suas pr√≥prias m√£os (parte 1)</a></li>
<li><a href="../pt428299/index.html">Mensageiros vs redes sociais vs ... - Continua√ß√£o</a></li>
<li><a href="../pt428301/index.html">Kaspersky Start Russia: competi√ß√£o de projetos do futuro</a></li>
<li><a href="../pt428303/index.html">Um dia na vida de um engenheiro de sistemas</a></li>
<li><a href="../pt428305/index.html">Voce estuda ingles Quadrinhos para o resgate</a></li>
<li><a href="../pt428311/index.html">TrustZone: SO confi√°vel e seus aplicativos</a></li>
<li><a href="../pt428313/index.html">O telegrama no MacOS [presumivelmente] tamb√©m armazena correspond√™ncia localmente de forma acess√≠vel</a></li>
<li><a href="../pt428315/index.html">5 medos de desenvolvedores que superamos</a></li>
<li><a href="../pt428317/index.html">Reagir ganchos - ganhar ou perder?</a></li>
<li><a href="../pt428321/index.html">An√°lise preditiva de dados - modelagem e valida√ß√£o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>