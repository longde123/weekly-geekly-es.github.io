<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçá üè™ ü§æüèæ Como automatizamos o lan√ßamento dos testes de sel√™nio atrav√©s do Moon e do OpenShift üí≠ üßö ‚õπÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em 14 de dezembro, em um com√≠cio em S√£o Petersburgo, eu (Artem Sokovets), juntamente com meu colega Dmitry Markelov, conversamos sobre a atual infraes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como automatizamos o lan√ßamento dos testes de sel√™nio atrav√©s do Moon e do OpenShift</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/437736/">  Em 14 de dezembro, em um com√≠cio em S√£o Petersburgo, eu (Artem Sokovets), juntamente com meu colega Dmitry Markelov, conversamos sobre a atual infraestrutura de autotestes da SberTech.  Uma recontagem de nosso discurso est√° neste post. <br><br><img src="https://habrastorage.org/webt/iu/ip/yi/iuipyifyxjogygipvmf7czx5w-a.png"><br><a name="habracut"></a><br><h2>  O que √© sel√™nio </h2><br>  Selenium √© uma ferramenta de automa√ß√£o de navegador da web.  Hoje, essa ferramenta √© o padr√£o para automa√ß√£o WEB. <br><img src="https://habrastorage.org/webt/zc/h0/hs/zch0hsfpfzmu24_fqa-azm7biuu.png"><br><br>  Existem muitos clientes para v√°rias linguagens de programa√ß√£o que oferecem suporte √† API Selenium Webdriver.  Por meio da API WebDriver, por meio do protocolo JSON Wire, ocorre uma intera√ß√£o com o driver do navegador selecionado, que, por sua vez, trabalha com um navegador j√° real, executando as a√ß√µes necess√°rias. <br>  Hoje, a vers√£o est√°vel do cliente √© Selenium 3.X. <br><br><img src="https://habrastorage.org/webt/lr/vi/cm/lrvicmxpizxyijy0fn_3mfvmi0w.png"><br>  A prop√≥sito, Simon Stewart prometeu apresentar o Selenium 4.0 na confer√™ncia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SeleniumConf no Jap√£o</a> . <br><br><h2>  Selenium GRID </h2><br>  Em 2008, Philippe Hanrigou anunciou o Selenium GRID para construir uma infraestrutura para autotestes com suporte para v√°rios navegadores. <br><br><img src="https://habrastorage.org/webt/ik/cb/gn/ikcbgnbwepodl4nagjkf_j2yknw.png"><br><br>  O Selenium GRID consiste em um hub e n√≥s (n√≥s).  N√≥ √© apenas um processo java.  Ele pode estar na mesma m√°quina que o Hub, em outra m√°quina ou no cont√™iner do Docker.  Um hub √© essencialmente um balanceador para autotestes, que determina o n√≥ ao qual a execu√ß√£o de um teste espec√≠fico deve ser enviada.  Voc√™ pode conectar emuladores m√≥veis a ele. <br><br>  O Selenium GRID permite executar testes em diferentes sistemas operacionais e diferentes vers√µes de navegadores.  Tamb√©m economiza tempo significativamente ao executar um grande n√∫mero de autotestes, se, √© claro, os autotestes s√£o executados em paralelo usando o maven-surfire-plugin ou outro mecanismo de paraleliza√ß√£o. <br><br>  Obviamente, o Selenium GRID tem suas desvantagens.  Ao usar a implementa√ß√£o padr√£o, √© necess√°rio enfrentar os seguintes problemas: <br><br><ul><li>  reinicializa√ß√£o constante do hub e n√≥.  Se o hub e o n√≥ n√£o forem utilizados por um longo per√≠odo de tempo, em uma conex√£o subseq√ºente, as situa√ß√µes ser√£o poss√≠veis quando, ao criar uma sess√£o em um n√≥, a mesma sess√£o cair√° no tempo limite.  Para restaurar o trabalho, √© necess√°rio reiniciar; </li><li>  limite no n√∫mero de n√≥s.  Muito dependente de testes e configura√ß√µes de grade.  Sem dan√ßar com um pandeiro, ele come√ßa a desacelerar com v√°rias dezenas de n√≥s conectados; </li><li>  escassa funcionalidade; </li><li>  a impossibilidade de atualizar sem uma parada completa do servi√ßo. </li></ul><br><h2>  Infraestrutura inicial de AutoTeste na SberTech </h2><br>  Anteriormente, na SberTech, havia a seguinte infraestrutura para testes autom√°ticos de interface do usu√°rio.  O usu√°rio iniciou a montagem em Jenkins, que, usando o plug-in, procurou o OpenStack para alocar a m√°quina virtual.  As VMs foram selecionadas com uma "imagem" especial e o navegador desejado, e somente ent√£o os autotestes foram executados nesta VM. <br><br>  Se voc√™ queria executar testes nos navegadores Chrome ou FireFox, os cont√™ineres do Docker se destacavam.  Mas, ao trabalhar com o IE, era necess√°rio criar uma VM "limpa", que levava at√© 5 minutos.  Infelizmente, o Internet Explorer √© um navegador priorit√°rio em nossa empresa. <br><br><img src="https://habrastorage.org/webt/hd/au/xe/hdauxedvhrlfxri3fmboujhmfwq.png"><br><br>  O principal problema foi que essa abordagem levou muito tempo ao executar autotestes no IE.  Eu tive que separar testes em su√≠tes e iniciar montagens em paralelo para obter pelo menos alguma redu√ß√£o no tempo.  Come√ßamos a pensar em moderniza√ß√£o. <br><br><h2>  Novos requisitos de infraestrutura </h2><br>  Visitando v√°rias confer√™ncias sobre automa√ß√£o, desenvolvimento e DevOps (Heisenbug, SQA Days, CodeOne, SeleniumConf e outros), gradualmente formamos uma lista de requisitos para a nova infraestrutura: <br><br><ul><li>  Reduza o tempo para executar testes de regress√£o; </li><li>  Forne√ßa um ponto de entrada √∫nico para autotestes, o que facilitar√° sua depura√ß√£o para um especialista em automa√ß√£o.  N√£o h√° casos raros em que tudo funciona localmente e, assim que os testes entram no pipeline - quedas cont√≠nuas. </li><li>  Para fornecer compatibilidade entre navegadores e automa√ß√£o m√≥vel (Appium-tests). </li><li>  Atenha-se √† arquitetura em nuvem do banco: os cont√™ineres do Docker devem ser gerenciados no OpenShift. </li><li>  Reduza o consumo de mem√≥ria e CPU. </li></ul><br><h2>  Uma breve vis√£o geral das solu√ß√µes existentes </h2><br>  Tendo definido as tarefas, analisamos as solu√ß√µes existentes no mercado.  As principais coisas que examinamos foram os produtos da equipe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aerokube</a> (Selenoid e Moon), solu√ß√µes Alfalab (Alpha Laboratory), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JW-Grid</a> (Avito) e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Zalenium</a> . <br><br>  A principal desvantagem do Selenoid foi a falta de suporte ao OpenShift (um inv√≥lucro do Kubernetes).  Sobre a decis√£o do Alfalab, h√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um artigo sobre Habr√©</a> .  Acabou sendo a mesma grade de sel√™nio.  A solu√ß√£o da Avito √© descrita no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> .  Vimos o relat√≥rio na confer√™ncia Heisenbug.  Tamb√©m tinha contras que n√£o gost√°vamos.  O Zalenium √© um projeto de c√≥digo aberto, tamb√©m sem problemas. <br><br>  Os pr√≥s e contras das solu√ß√µes consideradas por n√≥s est√£o resumidos na tabela: <br><br><img src="https://habrastorage.org/webt/cq/go/5h/cqgo5hznnv7540kfutmf_nuyk9i.png"><br><br>  Como resultado, optamos por um produto da Aerokube - Selenoid. <br><br><h2>  Selenoid vs Moon </h2><br>  Por quatro meses, usamos o Selenoid para automatizar o ecossistema do Sberbank.  Essa √© uma boa solu√ß√£o, mas o Banco est√° adotando o OpenShift, e implantar o Selenoid no OpenShift n√£o √© uma tarefa trivial.  A sutileza √© que o Selenoid no Kubernetes gerencia a janela de encaixe deste √∫ltimo, e o Kubernetes n√£o sabe nada sobre ele e n√£o pode brincar com outros n√≥s corretamente.  Al√©m disso, o Selenoid no Kubernetes requer um GGR (Go Grid Router) no qual o balanceamento de carga √© fraco. <br><br>  Depois de experimentar o Selenoid, ficamos interessados ‚Äã‚Äãna ferramenta Lua paga, focada especificamente no trabalho com o Kubernetes e com v√°rias vantagens em compara√ß√£o ao Selenoid gratuito.  Ele est√° em desenvolvimento h√° dois anos e permite implantar a infraestrutura para a interface do usu√°rio de teste do Selenium sem gastar dinheiro com os engenheiros do DevOps que possuem conhecimento secreto sobre como implantar o Selenoid no Kubernetes.  Essa √© uma vantagem importante - tente atualizar o cluster Selenoid sem tempo de inatividade e reduzir a capacidade ao executar testes? <br><br><img src="https://habrastorage.org/webt/ii/md/l_/iimdl_ci4dv-wh88mzansqxdmm8.png"><br><br>  Moon n√£o era a √∫nica op√ß√£o.  Por exemplo, voc√™ pode usar o zal√™nio mencionado acima, mas na verdade √© a mesma grade de sel√™nio.  Ele possui uma lista completa de sess√µes dentro do hub armazenadas nele e, se o hub travar, os testes terminam.  Nesse contexto, a Lua vence devido ao fato de n√£o ter um estado interno; portanto, a queda de uma de suas r√©plicas geralmente √© impercept√≠vel.  A Lua tem tudo "graciosamente" - pode ser reiniciada sem medo, sem esperar o final da sess√£o. <br><br>  O zal√™nio tem outras limita√ß√µes.  Por exemplo, ele n√£o suporta Cota.  Voc√™ n√£o pode colocar duas c√≥pias para um balanceador de carga, porque ele n√£o sabe como distribuir seu estado entre duas ou mais "cabe√ßas".  E, em geral, √© dif√≠cil come√ßar no cluster.  O Zalenium usa o PersistentVolume para armazenar dados: logs e testes de v√≠deo gravados, mas isso diz respeito principalmente a discos nas nuvens e n√£o ao S3 mais tolerante a falhas. <br><br><h2>  Infra-estrutura de teste autom√°tico </h2><br>  A infraestrutura atual usando Moon e OpenShift √© a seguinte: <br><br><img src="https://habrastorage.org/webt/yk/2y/1p/yk2y1pr_bt-tcndrgra-y4yjmpq.png"><br><br>  O usu√°rio pode executar testes localmente e usando um servidor de IC (no nosso caso, Jenkins, mas pode haver outros).  Nos dois casos, usamos o RemoteWebDriver para acessar o OpenShift, no qual o servi√ßo com v√°rias r√©plicas da Moon √© implantado.  Al√©m disso, a solicita√ß√£o na qual o navegador que precisamos √© indicado √© processada no Moon, como resultado da API Kubernetes inicia a cria√ß√£o de uma lareira com este navegador.  Em seguida, Moon solicita proxies diretamente ao cont√™iner, onde os testes passam. <br><br>  No final da execu√ß√£o, a sess√£o termina, em s√£o exclu√≠dos, os recursos s√£o liberados. <br><br><h2>  Iniciar o Internet Explorer </h2><br>  Claro, houve algumas dificuldades.  Como mencionado anteriormente, o navegador de destino para n√≥s √© o Internet Explorer - a maioria de nossos aplicativos usa componentes ActiveX.  Como usamos o OpenShift, nossos cont√™ineres do Docker s√£o executados no RedHat Enterprise Linux.  Assim, surge a pergunta: como iniciar o Internet Explorer no cont√™iner Docker quando a m√°quina host est√° no Linux? <br><br>  Os caras da equipe de desenvolvimento da Moon compartilharam sua decis√£o de lan√ßar o Internet Explorer e o Microsoft Edge. <br><br>  A desvantagem desta solu√ß√£o √© que o cont√™iner do Docker deve ser executado no modo privilegiado.  Portanto, leva 10 segundos para inicializar o cont√™iner com o Internet Explorer ap√≥s o in√≠cio do teste, que √© 30 vezes mais r√°pido que o uso da infraestrutura anterior. <br><br><h2>  Solu√ß√£o de problemas </h2><br>  Em conclus√£o, gostar√≠amos de compartilhar com voc√™ solu√ß√µes para alguns dos problemas que encontramos durante a implanta√ß√£o e configura√ß√£o do cluster. <br><br>  O primeiro problema √© a distribui√ß√£o de imagens de servi√ßo.  Quando a lua inicia a cria√ß√£o do navegador, al√©m do cont√™iner com o navegador, lan√ßamos cont√™ineres de servi√ßo adicionais - um registrador, um defensor, um gravador de v√≠deo. <br><br><img src="https://habrastorage.org/webt/vg/c0/yw/vgc0yw47ez0wxtd70dvbrg6znrc.png"><br><br>  Tudo isso √© lan√ßado em um pod.  E se as imagens desses cont√™ineres n√£o forem armazenadas em cache nos n√≥s, elas ser√£o entregues no hub do Docker.  Nesta fase, tudo caiu para n√≥s, porque a rede interna foi usada.  Portanto, os caras do Aerokube rapidamente colocaram essa configura√ß√£o na configura√ß√£o do mapa.  Se voc√™ tamb√©m usa uma rede interna, recomendamos que voc√™ libere essas imagens em seu registro e indique o caminho para elas na configura√ß√£o do mapa moon-config.  No arquivo service.json, voc√™ precisa adicionar a se√ß√£o de imagens: <br><br><pre><code class="plaintext hljs">"images": { "videoRecorder": "ufs-selenoid-cluster/moon-video-recorder:latest", "defender": "ufs-selenoid-cluster/defender:latest", "logger": "ufs-selenoid-cluster/logger:latest" }</code> </pre> <br>  O seguinte problema j√° foi identificado no in√≠cio dos testes.  Toda a infraestrutura foi criada dinamicamente, mas o teste travou ap√≥s 30 segundos com o seguinte erro: <br><br><pre> <code class="plaintext hljs">Driver info: org.openqa.selenium.remote.RemoteWebDriver Org.openqa.selenium.WebDriverException: &lt;html&gt;&lt;body&gt;&lt;h1&gt;504 Gateway Time-out&lt;/h1&gt; The server didn't respond in time.</code> </pre><br>  Por que isso aconteceu?  O fato √© que o teste atrav√©s do RemoteWebDriver se refere inicialmente √† camada de roteamento OpenShift, respons√°vel pela intera√ß√£o com o ambiente externo.  O papel dessa camada √© o Haproxy, que redireciona solicita√ß√µes para os cont√™ineres de que precisamos.  Na pr√°tica, o teste virou para essa camada, foi redirecionado para o cont√™iner, que deveria criar um navegador.  Mas ele n√£o conseguiu cri√°-lo, pois os recursos acabaram.  Portanto, o teste entrou na fila e, ap√≥s 30 segundos, o servidor proxy o deixou cair por tempo limite, porque, por padr√£o, era esse intervalo de tempo. <br><br><img src="https://habrastorage.org/webt/uw/q5/ig/uwq5ig93jvcqkxvpwbdwex4lqdk.png"><br><br>  Como resolver isso?  Tudo acabou sendo bastante simples - voc√™ apenas precisou redefinir a anota√ß√£o haproxy.router.openshift.io/timeout para o roteador do nosso cont√™iner. <br><br><pre> <code class="plaintext hljs">$oc annotate route moon --overwrite haproxy.router.openshift.io/timeout=10m</code> </pre><br>  O pr√≥ximo caso √© o trabalho com armazenamento compat√≠vel com S3.  Moon √© capaz de registrar o que acontece no cont√™iner com o navegador.  Em um n√≥, os cont√™ineres de servi√ßo aumentam junto com o navegador, um dos quais √© um gravador de v√≠deo.  Ele grava tudo o que acontece no cont√™iner e, ap√≥s o final da sess√£o, envia dados para o armazenamento compat√≠vel com o S3.  Para enviar dados para esse armazenamento, voc√™ precisa especificar URL, senhas de participa√ß√£o e o nome da cesta nas configura√ß√µes. <br><br>  Parece que tudo √© simples.  N√≥s inserimos os dados e come√ßamos a executar os testes, mas n√£o havia arquivos no reposit√≥rio.  Ap√≥s analisar os logs, percebemos que o cliente costumava interagir com o S3 jurava por falta de certificados, pois no campo url especificamos o endere√ßo para S3 com https.  A solu√ß√£o √© especificar um modo http desprotegido ou adicionar seus certificados ao cont√™iner.  A √∫ltima op√ß√£o √© mais dif√≠cil se voc√™ n√£o souber o que est√° no cont√™iner e como tudo funciona. <br><br><h3>  E finalmente ... </h3><br>  Cada cont√™iner de navegador pode ser configurado de forma independente - todos os par√¢metros dispon√≠veis est√£o na documenta√ß√£o do Moon.  Vamos prestar aten√ß√£o a configura√ß√µes personalizadas como privilegiado e nodeSelector. <br><br>  Eles s√£o necess√°rios para isso.  Um cont√™iner com o Internet Explorer, como mencionado acima, deve ser executado apenas no modo privilegiado.  A opera√ß√£o no modo necess√°rio √© fornecida pelo sinalizador privilegiado, juntamente com a emiss√£o de direitos para iniciar esses cont√™ineres na conta de servi√ßo. <br><br>  Para executar em n√≥s separados, √© necess√°rio registrar o nodeSelector: <br><br><pre> <code class="plaintext hljs">"internet explorer": { "default": "latest", "versions": { "latest": { "image": "docker-registry.default.svc:5000/ufs-selenoid-cluster/windows:7", "port": "4444", "path": "/wd/hub", "nodeSelector": { "kubernetes.io/hostname": "nirvana5.ca.sbrf.ru" }, "volumes": ["/var/lib/docker/selenoid:/image"], "privileged": true } } }</code> </pre><br>  √öltima dica.  Acompanhe o n√∫mero de sess√µes em execu√ß√£o.  Exibimos todos os lan√ßamentos em Grafana: <br><br><img src="https://habrastorage.org/webt/5t/_b/5x/5t_b5xujirnywt2prkzhngarlfk.png"><br><br><h2>  Para onde vamos </h2><br>  N√£o estamos satisfeitos com tudo na infraestrutura atual e a solu√ß√£o ainda n√£o pode ser considerada completa.  Em um futuro pr√≥ximo, planejamos estabilizar o IE no Docker, obter uma interface de interface do usu√°rio "rica" ‚Äã‚Äãna Lua e tamb√©m testar o Appium para autotestes m√≥veis. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt437736/">https://habr.com/ru/post/pt437736/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt437724/index.html">OpenSceneGraph: Anima√ß√£o processual de atributos de geometria e estado</a></li>
<li><a href="../pt437726/index.html">Serializando o Kotlin com o Kotlinx.Serialization</a></li>
<li><a href="../pt437730/index.html">Como resolvemos o problema de mem√≥ria no PostgreSQL sem adicionar um byte</a></li>
<li><a href="../pt437732/index.html">Vis√£o geral da impressora MakeX M-One Pro 70 DLP</a></li>
<li><a href="../pt437734/index.html">Configurando IPTV da Rostelecom nos roteadores MikroTik</a></li>
<li><a href="../pt437738/index.html">Notas de um fitoqu√≠mico. A batata. Parte Dois Uma hist√≥ria sobre a gordura da batata ou "Dia do comedor de alimentos crus"</a></li>
<li><a href="../pt437740/index.html">Haxe: O Grande Segredo do Desenvolvimento Entre Plataformas</a></li>
<li><a href="../pt437742/index.html">Eventos digitais em Moscou, de 28 de janeiro a 3 de fevereiro</a></li>
<li><a href="../pt437744/index.html">Novos aplicativos de voz em C # no 3CX v16</a></li>
<li><a href="../pt437746/index.html">SpaceX e NASA est√£o chegando perto de enviar uma espa√ßonave tripulada</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>