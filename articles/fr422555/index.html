<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïå ‚ùî üåã Architecture multi-modules Android. De A √† Z ü•ú üò† ‚õ™Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous! 

 Il n'y a pas si longtemps, nous avons r√©alis√© qu'une application mobile n'est pas seulement un client l√©ger, mais un tr√®s grand nom...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Architecture multi-modules Android. De A √† Z</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kaspersky/blog/422555/"> Bonjour √† tous! <br><br>  Il n'y a pas si longtemps, nous avons r√©alis√© qu'une application mobile n'est pas seulement un client l√©ger, mais un tr√®s grand nombre de logiques tr√®s diff√©rentes qui doivent √™tre rationalis√©es.  C'est pourquoi nous avons √©t√© inspir√©s par les id√©es de l'architecture propre, ressenti ce qu'est la DI, appris √† utiliser Dagger 2, et maintenant, les yeux ferm√©s, nous sommes en mesure de diviser n'importe quelle fonctionnalit√© en couches. <br><br>  Mais le monde ne reste pas immobile, et avec la solution des anciens probl√®mes, de nouveaux viennent.  Et le nom de ce nouveau probl√®me est la monomodularit√©.  Vous rencontrez g√©n√©ralement ce probl√®me lorsque le temps d'assemblage s'envole dans l'espace.  C'est exactement le nombre de rapports sur la transition vers la multimodularit√© ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">deux</a> ) qui commencent. <br>  Mais pour une raison quelconque, tout le monde oublie en m√™me temps que la monomodularit√© affecte fortement non seulement le temps d'assemblage, mais aussi votre architecture.  R√©pondez ici aux questions.  Quelle est la taille de votre AppComponent?  Voyez-vous p√©riodiquement dans le code que la fonctionnalit√© A tire pour quelque raison que ce soit le r√©f√©rentiel de la fonctionnalit√© B, bien que cela ne devrait pas ressembler √† cela, eh bien, ou devrait-il √™tre en quelque sorte plus de haut niveau?  Les fonctionnalit√©s ont-elles un type de contrat?  Et comment organisez-vous la communication entre les fonctionnalit√©s?  Y a-t-il des r√®gles? <br>  Vous pensez que nous avons r√©solu le probl√®me avec les calques, c'est-√†-dire que verticalement tout semble aller bien, mais horizontalement quelque chose ne va pas?  Et tout simplement d√©composer les paquets et contr√¥ler l'examen ne r√©sout pas le probl√®me. <br><br>  Et la question de la s√©curit√© pour les plus exp√©riment√©s.  Lorsque vous √™tes pass√© √† la multi-modularit√©, n‚Äôavez-vous pas d√ª pelleter la moiti√© de l‚Äôapplication, toujours faire glisser le code d‚Äôun module √† un autre et vivre une p√©riode d√©cente avec un projet non assembl√©? <br><br>  Dans mon article, je veux vous raconter comment je suis arriv√© √† la multimodularit√© pr√©cis√©ment d'un point de vue architectural.  Quels probl√®mes me d√©rangeaient et comment j'essayais de les r√©soudre par √©tapes.  Et √† la fin, vous trouverez un algorithme pour passer de la monomodularit√© √† la multimodularit√© sans larmes et sans douleur. <br><a name="habracut"></a><br>  En r√©pondant √† la premi√®re question, quelle est la taille de l'AppComponent, je peux l'avouer - gros, vraiment gros.  Et cela me tourmentait constamment.  Comment est-ce arriv√©?  Tout d'abord, cela est d√ª √† une telle organisation DI.  C'est avec DI que nous allons commencer. <br><br><h2>  Comme je l'ai fait auparavant </h2><br>  Je pense que beaucoup de gens ont form√© dans leur t√™te quelque chose comme ce diagramme des d√©pendances des composants et des port√©es correspondantes: <br><img src="https://habrastorage.org/webt/f1/xm/so/f1xmsoakbmgcfys9rjuys_jmnvo.png"><br><br><h4>  Qu'avons-nous ici </h4><br>  <b>AppComponent</b> , qui a absorb√© absolument toutes les d√©pendances avec les √©tendues <i>Singleton</i> .  Je pense que presque tout le monde a cette composante. <br><br>  <b>FeatureComponents</b> .  Chaque fonctionnalit√© avait sa propre port√©e et √©tait un sous-composant d' <i>AppComponent</i> ou une fonctionnalit√© senior. <br>  Arr√™tons-nous un peu sur les fonctionnalit√©s.  Tout d'abord, qu'est-ce qu'une fonctionnalit√©?  Je vais essayer avec mes propres mots.  <b>Une fonctionnalit√©</b> est un module de programme ind√©pendant, complet et logiquement complet, qui r√©sout un probl√®me utilisateur sp√©cifique, avec des d√©pendances externes clairement d√©finies et qui est relativement facile √† r√©utiliser dans un autre programme.  Les fonctionnalit√©s peuvent √™tre grandes et petites.  Les fonctionnalit√©s peuvent contenir d'autres fonctionnalit√©s.  Ils peuvent √©galement utiliser ou ex√©cuter d'autres fonctionnalit√©s via des d√©pendances externes clairement d√©finies.  Si nous prenons notre application (Kaspersky Internet Security for Android), les fonctionnalit√©s peuvent √™tre consid√©r√©es comme Anti-Virus, Anti-Theft, etc. <br><br>  <b>ScreenComponents</b> .  Un composant pour un √©cran particulier, √©galement avec sa propre port√©e et √©tant √©galement un sous-composant du composant de fonctionnalit√© correspondant. <br><br><h4>  Maintenant une liste de "pourquoi donc" </h4><br>  <b>Pourquoi des sous-composants?</b> <br>  Dans les d√©pendances de composants, je n'aimais pas le fait qu'un composant puisse d√©pendre de plusieurs composants √† la fois, ce qui, il me semblait, pouvait finalement conduire au chaos des composants et de leurs d√©pendances.  Lorsque vous avez une relation un-√†-plusieurs stricte (un composant et ses sous-composants), cela est plus s√ªr et plus √©vident.  De plus, par d√©faut, toutes les d√©pendances du parent sont disponibles pour le sous-composant, ce qui est √©galement plus pratique. <br><br>  <b>Pourquoi y a-t-il une port√©e pour chaque fonctionnalit√©?</b> <br>  Parce qu'alors je suis parti du principe que chaque fonctionnalit√© est une sorte de son propre cycle de vie, qui n'est pas le m√™me que celui des autres, il est donc logique de cr√©er votre propre port√©e.  Il y a encore un point pour beaucoup de choses avares, que je mentionnerai ci-dessous. <br><br>  Puisque nous parlons de Dagger 2 dans le contexte de Clean, je mentionnerai √©galement le moment de la livraison des d√©pendances.  Les pr√©sentateurs, les interacteurs, les r√©f√©rentiels et d'autres classes auxiliaires de d√©pendances ont √©t√© fournis par le constructeur.  Dans les tests, nous rempla√ßons ensuite les stubs ou moki par le constructeur et testons tranquillement notre classe. <br>  La fermeture du graphique de d√©pendance se produit g√©n√©ralement dans l'activit√©, les fragments, parfois les r√©cepteurs et les services, en g√©n√©ral, aux endroits racine √† partir desquels l'andro√Øde peut d√©marrer quelque chose.  La situation classique est lorsqu'une activit√© est cr√©√©e pour une fonction, le composant de fonction d√©marre et vit dans l'activit√©, et dans la fonction elle-m√™me, trois √©crans sont impl√©ment√©s en trois fragments. <br><br>  Donc, tout semble logique.  Mais comme toujours, la vie fait ses propres ajustements. <br><br><h2>  Probl√®mes de vie </h2><br><h3>  Exemple de t√¢che </h3><br>  Regardons un exemple simple de notre application.  Nous avons une fonction Scanner et une fonction Antivol.  Les deux fonctionnalit√©s ont un bouton d'achat pr√©cieux.  De plus, ¬´acheter¬ª ne signifie pas seulement envoyer une demande, mais aussi beaucoup de logiques diff√©rentes li√©es au processus d'achat.  Il s'agit d'une logique purement commerciale avec quelques dialogues pour un achat imm√©diat.  Autrement dit, il existe une fonctionnalit√© distincte pour lui-m√™me - Achat.  Ainsi, dans deux fonctionnalit√©s, nous devons utiliser la troisi√®me fonctionnalit√©. <br>  Du point de vue de l'interface utilisateur et de la navigation, nous avons l'image suivante.  L'√©cran principal d√©marre, sur lequel deux boutons: <br><img src="https://habrastorage.org/webt/ps/1o/qj/ps1oqjtlzdybdcj21pokcadin8u.png"><br><br>  En cliquant sur ces boutons, nous acc√©dons √† la fonction du scanner ou de l'antivol. <br>  Consid√©rez la fonction du scanner: <br><img src="https://habrastorage.org/webt/p5/2g/yw/p52gywypiko82skvl0mn90hd5wq.png"><br><br>  En cliquant sur "D√©marrer l'analyse antivirus", une sorte de travail d'analyse est effectu√©, en cliquant sur "Achetez-moi", nous voulons juste acheter, c'est-√†-dire que nous tirons la fonctionnalit√© des achats, mais sur "Aide" nous arrivons √† un √©cran simple avec une aide. <br>  La fonction d'Anti-Theft est presque la m√™me. <br><br><h3>  Solutions potentielles </h3><br>  Comment impl√©menter cet exemple en termes d'ID?  Il existe plusieurs options. <br><br><h4>  Premi√®re option </h4><br>  S√©lectionnez une fonction d'achat en tant <i><b>que composant ind√©pendant</b></i> qui ne d√©pend que de l' <i>AppComponent</i> . <br><img src="https://habrastorage.org/webt/ia/aq/t2/iaaqt2fi01u1lvjixbn9uspxgyi.png"><br><br>  Mais alors nous sommes confront√©s au probl√®me: comment injecter des d√©pendances de deux graphes (composants) diff√©rents dans une classe √† la fois?  Seulement √† travers des b√©quilles sales, ce qui, bien s√ªr, est une telle chose. <br><br><h4>  Deuxi√®me option </h4><br>  Nous s√©lectionnons la fonction d'achat dans le sous-composant, qui d√©pend de l'AppComponent.  Et les composants du scanner et de l'antivol peuvent √™tre transform√©s en sous-composants √† partir du composant d'achat. <br><img src="https://habrastorage.org/webt/wh/sh/y3/whshy3v3buimdjy2sfo6w1de3ys.png"><br><br>  Mais, comme vous le comprenez, il peut y avoir beaucoup de situations similaires dans les applications.  Et cela signifie que la profondeur des d√©pendances des composants peut √™tre vraiment √©norme et complexe.  Et un tel graphique sera plus d√©routant que de rendre votre application plus coh√©rente et compr√©hensible. <br><br><h4>  Troisi√®me option </h4><br>  Nous s√©lectionnons la fonction d'achat <b>non pas dans un composant s√©par√©, mais dans un module Dagger distinct</b> .  Deux voies sont encore possibles. <br><br>  <b>Premi√®re voie</b> <br>  Ajoutons les fonctionnalit√©s des √©tendues <i>Singleton</i> √† toutes les d√©pendances et connectons-nous √† <i>AppComponent</i> . <br><img src="https://habrastorage.org/webt/gx/wb/3h/gxwb3hokdqdrrcypwykypnym0n8.png"><br><br>  L'option est populaire, mais conduit √† des ballonnements <i>AppComponent</i> .  Par cons√©quent, il gonfle en taille, contient toutes les classes d'application et l'int√©r√™t d'utiliser Dagger se r√©sume √† une livraison plus pratique des d√©pendances aux classes - via les champs ou le constructeur, et non via les singletones.  En principe, c'est DI, mais nous manquons de points architecturaux, et il s'av√®re que tout le monde sait tout le monde. <br>  En g√©n√©ral, au d√©but du chemin, si vous ne savez pas o√π attribuer une classe √† quelle fonctionnalit√©, il est plus facile de la rendre globale.  Ceci est assez courant lorsque vous travaillez avec Legacy et essayez d'apporter au moins une sorte d'architecture, en plus vous ne connaissez pas encore tout le code.  Et l√†, en effet, les yeux s'√©carquillent, et ces actions sont justifi√©es.  L'erreur est que lorsque tout est plus ou moins imminent, personne ne veut <i>s'attaquer √†</i> cet <i>AppComponent</i> . <br><br>  <b>Deuxi√®me voie</b> <br>  Il s'agit d'une r√©duction de toutes les fonctionnalit√©s √† une seule √©tendue, par exemple <i>PerFeature</i> . <br><img src="https://habrastorage.org/webt/pm/5u/og/pm5uogvwcybvetc4nrfekteyqy4.png"><br><br>  Ensuite, nous pouvons connecter le module Dagger du Shopping aux composants n√©cessaires facilement et simplement. <br>  Cela semble commode.  Mais architecturalement, cela ne se r√©v√®le pas de mani√®re isol√©e.  Les fonctionnalit√©s du scanner et de l'antivol connaissent absolument tout sur la fonction d'achat, tous ses abats.  Par inadvertance, quelque chose peut √™tre impliqu√©.  Autrement dit, la fonction d'achat n'a pas d'API claire, la fronti√®re entre les fonctionnalit√©s est floue, il n'y a pas de contrat clair.  C'est mauvais.  Eh bien, en multi-modulaire, le gredloid sera difficile plus tard. <br><br><h3>  Douleur architecturale </h3><br>  Honn√™tement, j'ai utilis√© pendant longtemps la <b>troisi√®me option, la premi√®re</b> .  C'√©tait une mesure n√©cessaire lorsque nous avons commenc√© √† transf√©rer progressivement notre h√©ritage sur des rails normaux.  Mais, comme je l'ai mentionn√©, avec cette approche, vos fonctionnalit√©s commencent √† se m√©langer un peu.  Tout le monde peut conna√Ætre chacun, les d√©tails de la mise en ≈ìuvre et cela pour tout le monde.  Et ballonnement <i>AppComponent a</i> clairement indiqu√© que quelque chose doit √™tre fait. <br>  <i>Soit dit en passant</i> , la <b>troisi√®me option</b> aiderait au d√©chargement d' <i>AppComponent</i> <b>. La deuxi√®me fa√ßon</b> .  Mais la connaissance des impl√©mentations et des fonctionnalit√©s de mixage n'ira nulle part.  Eh bien, bien s√ªr, la r√©utilisation des fonctionnalit√©s entre les applications serait tr√®s difficile. <br><br><h3>  Conclusions interm√©diaires </h3><br>  Alors, que voulons-nous finalement?  Quels probl√®mes voulons-nous r√©soudre?  Allons droit au but, en commen√ßant par DI et en passant √† l'architecture: <br><br><ul><li>  Un m√©canisme DI pratique qui vous permet d'utiliser des fonctionnalit√©s dans d'autres fonctionnalit√©s (dans notre exemple, nous voulons utiliser la fonction Shopping dans Scanner et Anti-Theft), sans b√©quille ni douleur. </li><li>  L'AppComponent le plus fin. </li><li>  Les fonctionnalit√©s ne doivent pas conna√Ætre les impl√©mentations d'autres fonctionnalit√©s. </li><li>  Les fonctionnalit√©s ne devraient √™tre accessibles par d√©faut √† personne, je veux avoir une sorte de m√©canisme de contr√¥le strict. </li><li>  Il est possible de donner la fonctionnalit√© √† une autre application avec un nombre minimum de gestes. </li><li>  Une transition logique vers la multi-modularit√© et les meilleures pratiques pour cette transition. </li></ul><br>  Je n'ai sp√©cifiquement parl√© de multi-modularit√© qu'√† la toute fin.  Nous l'atteindrons, nous ne devancerons pas nous-m√™mes. <br><br><h2>  ‚ÄùVivre d'une nouvelle mani√®re" </h2><br>  Nous allons maintenant essayer d'impl√©menter progressivement la liste de souhaits ci-dessus. <br>  C'est parti! <br><br><h3>  Am√©liorations DI </h3><br>  Commen√ßons par la m√™me DI. <br><br><h4>  Refus d'un grand nombre de port√©es </h4><br>  Comme je l'ai √©crit ci-dessus, avant mon approche √©tait la suivante: pour chaque fonctionnalit√© sa propre port√©e.  En fait, cela ne g√©n√®re aucun b√©n√©fice sp√©cial.  Obtenez seulement un grand nombre de port√©es et une certaine quantit√© de maux de t√™te. <br>  Cette cha√Æne est tout √† fait suffisante: <i>Singleton</i> - <i>PerFeature</i> - <i>PerScreen</i> . <br><br><h4>  Abandon des sous-composants au profit des d√©pendances des composants </h4><br>  D√©j√† un point plus int√©ressant.  Avec les sous- <i>composants,</i> vous semblez avoir une hi√©rarchie plus stricte, mais en m√™me temps, vous avez les mains compl√®tement li√©es et il n'y a aucun moyen de man≈ìuvrer d'une mani√®re ou d'une autre.  De plus, <i>AppComponent</i> conna√Æt toutes les fonctionnalit√©s et vous obtenez √©galement une √©norme classe g√©n√©r√©e <i>DaggerAppComponent</i> . <br>  Avec les <i>d√©pendances de composants,</i> vous obtenez un avantage super cool.  Dans les d√©pendances de composants, vous pouvez sp√©cifier <b>non pas des composants, mais des interfaces propres</b> (gr√¢ce √† Denis et Volodya).  Gr√¢ce √† cela, vous pouvez remplacer toutes les impl√©mentations d'interface que vous aimez, Dagger mangera tout.  M√™me si le composant avec la m√™me port√©e est cette impl√©mentation: <br><pre><code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span>( dependencies = FeatureDependencies.class, modules = FeatureModule.class ) <span class="hljs-meta"><span class="hljs-meta">@PerFeature</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FeatureComponent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } public interface FeatureDependencies { SomeDependency someDependency(); } @Component( modules = AnotherFeatureModule.class ) @PerFeature public abstract class AnotherFeatureComponent implements FeatureDependencies { // ... }</span></span></code> </pre> <br><br><h3>  Des am√©liorations DI aux am√©liorations architecturales </h3><br>  R√©p√©tons la d√©finition des fonctionnalit√©s.  <b>Une fonctionnalit√©</b> est un module de programme logiquement complet et ind√©pendant au maximum qui r√©sout un probl√®me d'utilisateur sp√©cifique, avec des d√©pendances externes clairement d√©finies et qui est relativement facile √† r√©utiliser dans un autre programme.  L'une des expressions cl√©s de la d√©finition d'une entit√© est ¬´avec des d√©pendances externes clairement d√©finies¬ª.  Par cons√©quent, d√©crivons tout ce que nous voulons du monde ext√©rieur pour les fonctionnalit√©s, nous d√©crirons dans une interface sp√©ciale. <br>  Ici, disons, l'interface de d√©pendance externe de la fonction Shopping: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PurchaseFeatureDependencies</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">HttpClientApi </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">httpClient</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  Ou l'interface des d√©pendances externes de la fonction Scanner: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScannerFeatureDependencies</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">DbClientApi </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dbClient</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">HttpClientApi </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">httpClient</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">SomeUtils </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">someUtils</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">//       PurchaseInteractor purchaseInteractor(); }</span></span></code> </pre><br>  Comme d√©j√† mentionn√© dans la section sur DI, les d√©pendances peuvent √™tre impl√©ment√©es par n'importe qui et comme vous le souhaitez, ce sont des interfaces pures, et nos fonctionnalit√©s sont lib√©r√©es de cette connaissance suppl√©mentaire. <br><br>  Un autre √©l√©ment important d'une fonctionnalit√© ¬´pure¬ª est la pr√©sence d'une API claire, par laquelle le monde ext√©rieur peut acc√©der √† la fonctionnalit√©. <br>  Voici les fonctionnalit√©s api de Shopping: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PurchaseFeatureApi</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">PurchaseInteractor </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">purchaseInteractor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  Autrement dit, le monde ext√©rieur peut obtenir un <i>PurchaseInteractor</i> et essayer de faire un achat √† travers lui.  En fait, nous avons vu ci-dessus que le scanner avait besoin d'un <i>PurchaseInteractor</i> pour finaliser l'achat. <br><br>  Et voici les fonctionnalit√©s api du scanner: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScannerFeatureApi</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">ScannerStarter </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scannerStarter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  Et imm√©diatement, <i>j'apporte</i> l'interface et l'impl√©mentation de <i>ScannerStarter</i> : <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScannerStarter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span></span>; } <span class="hljs-meta"><span class="hljs-meta">@PerFeature</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScannerStarterImpl</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScannerStarter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ScannerStarterImpl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span><span class="hljs-function"> </span></span>{ Class&lt;?&gt; cls = ScannerActivity.class; Intent intent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Intent(context, cls); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); context.startActivity(intent); } }</code> </pre><br>  C'est plus int√©ressant ici.  Le fait est que le scanner et l'antivol sont des fonctionnalit√©s assez ferm√©es et isol√©es.  Dans mon exemple, ces fonctionnalit√©s sont lanc√©es sur des activit√©s distinctes, avec leur propre navigation, etc. Autrement dit, il nous suffit de d√©marrer l'activit√© ici.  L'activit√© meurt - la fonction meurt.  Vous pouvez travailler sur la base du principe de ¬´l'activit√© unique¬ª, puis, via les fonctionnalit√©s de l'API, passer, disons, un FragmentManager et certains rappels par lesquels la fonctionnalit√© signale qu'elle est termin√©e.  Il existe de nombreuses variantes. <br>  Nous pouvons √©galement dire que nous avons le droit de consid√©rer des fonctionnalit√©s telles que Scanner et Anti-Theft comme des applications ind√©pendantes.  Contrairement √† la fonctionnalit√© de l'achat, qui est un ajout √† quelque chose et en soi, elle n'existe pas d'une mani√®re ou d'une autre.  Oui, il est ind√©pendant, mais c'est un compl√©ment logique √† d'autres fonctionnalit√©s. <br><br>  Comme vous pouvez l'imaginer, il doit y avoir un point qui relie les fonctionnalit√©s, son impl√©mentation et les fonctionnalit√©s n√©cessaires de la d√©pendance.  Ce point est le composant Dagger. <br><div class="spoiler">  <b class="spoiler_title">Un exemple d'un composant de fonctionnalit√© du scanner:</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span>(modules = { ScannerFeatureModule.class, ScreenNavigationModule.class <span class="hljs-comment"><span class="hljs-comment">// ScannerFeatureDependencies - api    }, dependencies = ScannerFeatureDependencies.class) @PerFeature // ScannerFeatureApi - api   public abstract class ScannerFeatureComponent implements ScannerFeatureApi { private static volatile ScannerFeatureComponent sScannerFeatureComponent; //   public static ScannerFeatureApi initAndGet( ScannerFeatureDependencies scannerFeatureDependencies) { if (sScannerFeatureComponent == null) { synchronized (ScannerFeatureComponent.class) { if (sScannerFeatureComponent == null) { sScannerFeatureComponent = DaggerScannerFeatureComponent.builder() .scannerFeatureDependencies(scannerFeatureDependencies) .build(); } } } return sScannerFeatureComponent; } //           public static ScannerFeatureComponent get() { if (sScannerFeatureComponent == null) { throw new RuntimeException( "You must call 'initAndGet(ScannerFeatureDependenciesComponent scannerFeatureDependenciesComponent)' method" ); } return sScannerFeatureComponent; } //    (   ) public void resetComponent() { sScannerFeatureComponent = null; } public abstract void inject(ScannerActivity scannerActivity); //         Moxy public abstract ScannerScreenComponent scannerScreenComponent(); }</span></span></code> </pre><br></div></div><br>  Je pense que rien de nouveau pour toi. <br><br><h3>  Transition vers la multi-modularit√© </h3><br>  Ainsi, vous et moi avons pu identifier clairement les limites des fonctionnalit√©s via l'api de ses d√©pendances et l'api externe.  Nous avons √©galement compris comment tout d√©marrer dans Dagger.  Et maintenant, nous arrivons √† la prochaine √©tape logique et int√©ressante - la division en modules. <br>  Ouvrez un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">test</a> imm√©diatement - ce sera plus facile. <br>  Regardons l'image en g√©n√©ral: <br><img src="https://habrastorage.org/webt/qq/uw/bg/qquwbgerknuk95cjefxfxqserxi.png"><br>  Et regardez la structure du package de l'exemple: <br><img src="https://habrastorage.org/webt/cs/_a/4a/cs_a4ap7km-ivyxwzk615blftby.png"><br>  Voyons maintenant attentivement chaque √©l√©ment. <br><br>  Tout d'abord, nous voyons quatre grands blocs: <b>Application</b> , <b>API</b> , <b>Impl</b> et <b>Utils</b> .  Dans les <i>API</i> , <i>Impl</i> et <i>Utils,</i> vous remarquerez peut-√™tre que tous les modules d√©marrent au niveau du <b>noyau</b> ou de la <b>fonctionnalit√©</b> .  Parlons d'abord d'eux. <br><br><h4>  S√©paration en noyau et fonctionnalit√© </h4><br>  Je divise tous les modules en deux cat√©gories: <i>noyau</i> et <i>fonctionnalit√©</i> . <br>  En <i>fonction</i> , comme vous l'avez peut-√™tre devin√©, nos fonctionnalit√©s.  Dans le <b>noyau, il</b> y a des choses comme les utilitaires, travailler avec un r√©seau, des bases de donn√©es, etc. Mais il n'y a pas d'interfaces de fonctionnalit√©s l√†-bas.  Et le <i>noyau</i> n'est pas un monolithe.  Je suis pour casser le <i>core-module</i> en morceaux logiques et pour ne pas le charger avec d'autres interfaces de fonctionnalit√©s. <br>  Au nom du module, √©crivez d'abord le <i>noyau</i> ou la <i>fonctionnalit√©</i> .  Plus loin dans le nom du module se trouve un nom logique ( <i>scanner</i> , <i>r√©seau</i> , etc.). <br><br><h4>  Maintenant environ quatre grands blocs: Application, API, Impl et Utils </h4><br>  <b>API</b> <br>  Chaque <i>fonctionnalit√©</i> ou <i>module principal est</i> divis√© en <i>API</i> et <i>Impl</i> .  L' <i>API</i> contient une <i>API</i> externe √† travers laquelle vous pouvez acc√©der √† une fonctionnalit√© ou √† un noyau.  Seulement cela, et rien de plus: <br><img src="https://habrastorage.org/webt/8_/gz/0c/8_gz0ckdfivle1avlexldnj_mdc.png"><br>  De plus, le <i>module api</i> ne sait rien de personne, c'est un module absolument isol√©. <br><br>  <b>Utils</b> <br>  La seule exception √† la r√®gle ci-dessus peut √™tre consid√©r√©e comme des choses compl√®tement utilitaires, qu'il n'est pas logique de percer dans l'API et la mise en ≈ìuvre. <br><br>  <b>Impl</b> <br>  Ici, nous avons une subdivision en <i>core-impl</i> et <i>feature-impl</i> . <br>  Les modules de <i>core-impl sont</i> √©galement compl√®tement ind√©pendants.  Leur seule d√©pendance est le <i>module api</i> .  Pour un exemple, jetez un ≈ìil √† <i>build.gradle du module</i> <i>core-db-impl</i> : <br><pre> <code class="hljs powershell">// bla<span class="hljs-literal"><span class="hljs-literal">-bla</span></span><span class="hljs-literal"><span class="hljs-literal">-bla</span></span> dependencies { implementation project(<span class="hljs-string"><span class="hljs-string">':core-db-api'</span></span>) // bla<span class="hljs-literal"><span class="hljs-literal">-bla</span></span><span class="hljs-literal"><span class="hljs-literal">-bla</span></span> }</code> </pre><br>  Maintenant sur la <i>fonctionnalit√©-impl</i> .  Il y a d√©j√† la part du lion de la logique d'application.  Les modules du groupe <i>feature-impl</i> peuvent conna√Ætre les modules du groupe <i>API</i> ou <i>Utils</i> , mais ils ne savent certainement rien des autres modules du groupe <i>Impl</i> . <br>  Comme nous nous en souvenons, toutes les d√©pendances externes de la fonctionnalit√© sont accumul√©es dans les d√©pendances externes.  Par exemple, pour une fonctionnalit√© de Scan, cette API se pr√©sente comme suit: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScannerFeatureDependencies</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// core-db-api DbClientApi dbClient(); // core-network-api HttpClientApi httpClient(); // core-utils SomeUtils someUtils(); // feature-purchase-api PurchaseInteractor purchaseInteractor(); }</span></span></code> </pre><br>  En cons√©quence, <i>build.gradle feature-scanner-impl</i> sera comme ceci: <br><pre> <code class="hljs powershell">// bla<span class="hljs-literal"><span class="hljs-literal">-bla</span></span><span class="hljs-literal"><span class="hljs-literal">-bla</span></span> dependencies { implementation project(<span class="hljs-string"><span class="hljs-string">':core-utils'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':core-network-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':core-db-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':feature-purchase-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':feature-scanner-api'</span></span>) // bla<span class="hljs-literal"><span class="hljs-literal">-bla</span></span><span class="hljs-literal"><span class="hljs-literal">-bla</span></span> }</code> </pre><br>  Vous pouvez vous demander pourquoi l'api des d√©pendances externes n'est pas dans le module api?  Le fait est qu'il s'agit d'un d√©tail de mise en ≈ìuvre.  Autrement dit, c'est une impl√©mentation particuli√®re qui n√©cessite des d√©pendances sp√©cifiques.  Pour le scanner d'api de d√©pendance est ici: <br><img src="https://habrastorage.org/webt/8y/7o/fj/8y7ofjd9oxd344hzqua8xcqtdci.png"><br><br>  <b>Petite retraite architecturale</b> <br>  R√©sumons tout ce qui pr√©c√®de et comprenons par nous-m√™mes certains points architecturaux concernant la <i>fonctionnalit√© -...- impl-modules</i> et leurs d√©pendances avec d'autres modules. <br>  J'ai rencontr√© deux des mod√®les de mappage de d√©pendance les plus populaires pour un module: <br><br><ul><li>  Un module peut conna√Ætre n'importe qui.  Il n'y a pas de r√®gles.  Il n'y a rien √† commenter. </li><li>  Les modules ne connaissent que le <i>module principal</i> .  Et dans le <i>module principal,</i> toutes les interfaces de toutes les fonctionnalit√©s sont concentr√©es.  Cette approche n'est pas tr√®s attrayante pour moi, car il y a un risque de transformer le <i>c≈ìur</i> en un autre d√©potoir.  De plus, si nous voulons transf√©rer notre module vers une autre application, nous devrons copier ces interfaces dans une autre application, et √©galement le placer dans le <i>noyau</i> .  Le stupide copier-coller des interfaces en soi n'est pas tr√®s attrayant et r√©utilisable √† l'avenir, lorsque les interfaces peuvent √™tre mises √† jour. </li></ul><br>  Dans notre exemple, je pr√©conise la connaissance des modules api et seulement des modules api (enfin, utils-groups).  Les fonctionnalit√©s ne connaissent rien aux impl√©mentations. <br><br>  Mais il s'av√®re que les fonctionnalit√©s peuvent conna√Ætre d'autres fonctionnalit√©s (via l'API, bien s√ªr) et les ex√©cuter.  Serait-ce un g√¢chis? <br>  Bonne remarque.  Il est difficile d'√©laborer des r√®gles tr√®s claires.  Il devrait y avoir une mesure dans tout.  Nous avons d√©j√† abord√© ce probl√®me un peu plus haut, en divisant les fonctionnalit√©s en fonctionnalit√©s ind√©pendantes (Scanner et Anti-Theft) - compl√®tement ind√©pendantes et s√©par√©es, et les fonctionnalit√©s ¬´en contexte¬ª, c'est-√†-dire qu'elles sont toujours lanc√©es dans le cadre de quelque chose (achat) et impliquent g√©n√©ralement une logique m√©tier. sans interface utilisateur.  C'est pourquoi le scanner et l'antivol sont conscients des achats. <br>  Un autre exemple.  Imaginez que dans Anti-Theft, il existe une chose telle que l'effacement des donn√©es, c'est-√†-dire la suppression absolue de toutes les donn√©es du t√©l√©phone.  Il y a beaucoup de logique m√©tier, ui, elle est compl√®tement isol√©e.  Par cons√©quent, il est logique d'allouer des donn√©es d'effacement en tant que fonctionnalit√© distincte.  Et puis la fourchette.  Si les donn√©es d'effacement sont toujours lanc√©es uniquement depuis Anti-Theft et sont toujours pr√©sentes dans Anti-Theft, il est logique qu'Anti-Theft connaisse les donn√©es d'effacement et les ex√©cute de lui-m√™me.  Et le module d'accumulation, l'application, ne conna√Ætrait alors que l'antivol.  Mais si les donn√©es d'effacement peuvent d√©marrer ailleurs ou ne sont pas toujours pr√©sentes dans Anti-Theft (c'est-√†-dire qu'elles peuvent √™tre diff√©rentes dans diff√©rentes applications), il est logique qu'Anti-theft ne connaisse pas cette fonctionnalit√© et dise simplement quelque chose d'ext√©rieur (via le routeur, par le biais de certains rappels, cela n'a pas d'importance) que l'utilisateur ait appuy√© sur tel ou tel bouton, et ce qu'il faut lancer est d√©j√† l'affaire du consommateur de la fonction antivol (application sp√©cifique, application sp√©cifique). <br><br>  Il y a aussi une question int√©ressante sur le transfert de fonctionnalit√©s vers une autre application.  Si, par exemple, nous voulons transf√©rer le scanner vers une autre application, nous devons √©galement transf√©rer en plus des modules <i>: feature-scanner-api</i> et <i>: feature-scanner-impl</i> et les modules dont d√©pend le scanner ( <i>: core-utils,: core-network- api,: core-db-api,: fonctionnalit√©-achat-api</i> ). <br>  Oui mais!  Tout d'abord, tous vos modules api sont compl√®tement ind√©pendants, et il n'y a que des interfaces et des mod√®les de donn√©es.  Pas de logique.  Et ces modules sont clairement s√©par√©s logiquement, et <i>: core-utils</i> est g√©n√©ralement un module commun √† toutes les applications. <br>  Deuxi√®mement, vous pouvez collecter des api-modules sous la forme d'un aar et les livrer via le maven √† une autre application, ou vous pouvez les connecter sous la forme d'un sous-module gig.  Mais vous aurez des versions, il y aura du contr√¥le, il y aura de l'int√©grit√©. <br>  Ainsi, la r√©utilisation du module (plus pr√©cis√©ment, le module d'impl√©mentation) dans une autre application semble beaucoup plus simple, plus claire et plus s√ªre. <br><br><h4>  Candidature </h4><br>  Il semble que nous ayons une image √©lanc√©e et compr√©hensible avec des fonctionnalit√©s, des modules, leurs d√©pendances et c'est tout.  Nous arrivons maintenant √† un point culminant - il s'agit d'une combinaison d'api et de leurs impl√©mentations, rempla√ßant toutes les d√©pendances n√©cessaires, etc., mais du point de vue des modules Gredloi.  Le point de connexion est g√©n√©ralement l' <i>application</i> elle-m√™me. <br>  Par ailleurs, dans notre exemple, ce point est toujours <i>un exemple de scanner de fonctionnalit√©s</i> .  L'approche ci-dessus vous permet d'ex√©cuter chacune de vos fonctionnalit√©s en tant qu'application distincte, ce qui permet d'√©conomiser consid√©rablement le temps de construction pendant le d√©veloppement actif.  La beaut√©! <br><br>  Pour commencer, consid√©rons comment tout se passe dans l' <i>application</i> avec l'exemple du scanner d√©j√† aim√©. <br><div class="spoiler">  <b class="spoiler_title">Rappelez rapidement la fonctionnalit√©:</b> <div class="spoiler_text">  L'API des d√©pendances externes de Sci est: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScannerFeatureDependencies</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// core-db-api DbClientApi dbClient(); // core-network-api HttpClientApi httpClient(); // core-utils SomeUtils someUtils(); // feature-purchase-api PurchaseInteractor purchaseInteractor(); }</span></span></code> </pre><br>  Par cons√©quent <i>: feature-scanner-impl</i> d√©pend des modules suivants: <br><pre> <code class="hljs powershell">// bla<span class="hljs-literal"><span class="hljs-literal">-bla</span></span><span class="hljs-literal"><span class="hljs-literal">-bla</span></span> dependencies { implementation project(<span class="hljs-string"><span class="hljs-string">':core-utils'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':core-network-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':core-db-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':feature-purchase-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':feature-scanner-api'</span></span>) // bla<span class="hljs-literal"><span class="hljs-literal">-bla</span></span><span class="hljs-literal"><span class="hljs-literal">-bla</span></span> }</code> </pre><br></div></div><br>  Sur cette base, nous pouvons cr√©er un composant Dagger qui impl√©mente une API de d√©pendances externes: <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span>(dependencies = { CoreUtilsApi.class, CoreNetworkApi.class, CoreDbApi.class, PurchaseFeatureApi.class }) <span class="hljs-meta"><span class="hljs-meta">@PerFeature</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScannerFeatureDependenciesComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScannerFeatureDependencies</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre><br>  J'ai plac√© cette interface dans le <i>ScannerFeatureComponent</i> pour plus de commodit√©: <br><pre> <code class="hljs pgsql">@Component(modules = { ScannerFeatureModule.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>, ScreenNavigationModule.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> }, dependencies = ScannerFeatureDependencies.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>) @PerFeature <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> abstract <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ScannerFeatureComponent implements ScannerFeatureApi { // bla-bla-bla @Component(dependencies = { CoreUtilsApi.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>, CoreNetworkApi.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>, CoreDbApi.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>, PurchaseFeatureApi.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> }) @PerFeature interface ScannerFeatureDependenciesComponent extends ScannerFeatureDependencies { } }</code> </pre><br><br>  Maintenant, l'application.  L'application conna√Æt tous les modules dont elle a besoin ( <i>core-, feature-, api, impl</i> ): <br><pre> <code class="hljs powershell">// bla<span class="hljs-literal"><span class="hljs-literal">-bla</span></span><span class="hljs-literal"><span class="hljs-literal">-bla</span></span> dependencies { implementation project(<span class="hljs-string"><span class="hljs-string">':core-utils'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':core-db-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':core-db-impl'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':core-network-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':core-network-impl'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':feature-scanner-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':feature-scanner-impl'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':feature-antitheft-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':feature-antitheft-impl'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':feature-purchase-api'</span></span>) implementation project(<span class="hljs-string"><span class="hljs-string">':feature-purchase-impl'</span></span>) // bla<span class="hljs-literal"><span class="hljs-literal">-bla</span></span><span class="hljs-literal"><span class="hljs-literal">-bla</span></span> }</code> </pre><br>  Ensuite, cr√©ez une classe d'assistance.  Par exemple, <i>FeatureProxyInjector</i> .  Cela aidera √† initialiser correctement tous les composants, et c'est √† travers cette classe que nous nous tournerons vers les fonctionnalit√©s.  Voyons comment le composant de fonctionnalit√© Scanner est initialis√©: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FeatureProxyInjector</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// another... public static ScannerFeatureApi getFeatureScanner() { return ScannerFeatureComponent.initAndGet( DaggerScannerFeatureComponent_ScannerFeatureDependenciesComponent.builder() .coreDbApi(CoreDbComponent.get()) .coreNetworkApi(CoreNetworkComponent.get()) .coreUtilsApi(CoreUtilsComponent.get()) .purchaseFeatureApi(featurePurchaseGet()) .build() ); } }</span></span></code> </pre><br>  √Ä l'ext√©rieur, nous donnons l'interface de fonctionnalit√© ( <i>ScannerFeatureApi</i> ), et √† l'int√©rieur nous initialisons simplement le graphique de d√©pendance d'impl√©mentation entier (via la <i>m√©thode ScannerFeatureComponent.initAndGet (...)</i> ). <br>  <i>DaggerPurchaseComponent_PurchaseFeatureDependenciesComponent</i> est l'impl√©mentation du <i>PurchaseFeatureDependenciesComponent</i> g√©n√©r√© par Dagger, dont nous avons parl√© ci-dessus, o√π nous substituons l'impl√©mentation d'api-modules dans le g√©n√©rateur. <br>  C‚Äôest de la magie.  Voir √† nouveau l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exemple</a> . <br><br>  En parlant d' <i>exemple</i> .  Par <i>exemple,</i> nous devons √©galement satisfaire toutes les d√©pendances externes <i>: feature-scanner-impl</i> .  Mais comme il s'agit d'un exemple, nous pouvons remplacer les classes factices. <br>  √Ä quoi cela ressemblera: <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     ScannerFeatureDependencies public class ScannerFeatureDependenciesFake implements ScannerFeatureDependencies { @Override public DbClientApi dbClient() { return new DbClientFake(); } @Override public HttpClientApi httpClient() { return new HttpClientFake(); } @Override public SomeUtils someUtils() { return CoreUtilsComponent.get().someUtils(); } @Override public PurchaseInteractor purchaseInteractor() { return new PurchaseInteractorFake(); } } //  -  Application-   public class ScannerExampleApplication extends Application { @Override public void onCreate() { super.onCreate(); ScannerFeatureComponent.initAndGet( // ,     =) new ScannerFeatureDependenciesFake() ); } }</span></span></code> </pre><br>  Et la fonction Scanner elle-m√™me dans l' <i>exemple est</i> lanc√©e via le manifeste, afin de ne pas bloquer l'activit√© vide suppl√©mentaire: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifest</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">package</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.example.scanner_example"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".ScannerExampleApplication"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:allowBackup</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:icon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@mipmap/ic_launcher"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@string/app_name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:roundIcon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@mipmap/ic_launcher_round"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:supportsRtl</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:theme</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style/AppTheme"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">activity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.example.scanner.presentation.view.ScannerActivity"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.action.MAIN"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">category</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.category.LAUNCHER"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">activity</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifest</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><h2>  Algorithme de transition de la monomodularit√© √† la multimodularit√© </h2><br>  La vie est une chose dure.  Et la r√©alit√© est que nous travaillons tous avec Legacy.  Si quelqu'un scie maintenant un tout nouveau projet, o√π vous pouvez tout b√©nir imm√©diatement, alors je vous envie, mon fr√®re.  Mais ce n'est pas le cas avec moi, et ce type a √©galement tort =). <br><br>  Comment traduire votre application en multi-module?  J'ai surtout entendu parler de deux options. <br>  Le premier.  Partitionner l'application ici et maintenant.  Certes, votre projet peut ne pas √™tre assembl√© avant un mois ou deux =). <br>  Deuxi√®me.  Essayez de retirer progressivement les fonctionnalit√©s.  Mais en m√™me temps, toutes sortes de d√©pendances de ces fonctionnalit√©s s'√©tirent.  Et ici, le plaisir commence.  Le code de d√©pendance peut extraire un autre code, le tout migre vers le <i>module commun</i> , vers le <i>module principal</i> et vice versa, etc.  Par cons√©quent, tirer une fonctionnalit√© peut impliquer de travailler avec une autre bonne moiti√© de l'application.  Et encore une fois, au d√©but, votre projet ne r√©unira pas une p√©riode de temps d√©cente. <br><br>  Je pr√©conise le transfert progressif de l'application vers la multi-modularit√©, car en parall√®le nous avons encore besoin de voir de nouvelles fonctionnalit√©s.  L'id√©e cl√© est que <b>si votre module a besoin de certaines des d√©pendances, vous ne devez pas imm√©diatement faire glisser ce code physiquement dans les modules √©galement</b> .  Regardons l'algorithme de suppression de module en utilisant le scanner comme exemple: <br><br><ul><li>  Cr√©ez des fonctionnalit√©s api, placez-le dans un nouveau module api.  C'est-√†-dire, pour cr√©er enti√®rement un module <i>: feature-scanner-api</i> avec toutes les interfaces. </li><li>  Cr√©er <i>: feature-scanner-impl</i> .  Transf√©rez physiquement tout le code li√© √† la fonctionnalit√© √† ce module.  Tout ce dont d√©pend votre fonctionnalit√©, le studio le mettra imm√©diatement en √©vidence. </li><li>  Identifiez les d√©pendances des fonctionnalit√©s externes.  Cr√©ez des interfaces appropri√©es.  Ces interfaces sont divis√©es en api-modules logiques.  C'est-√†-dire, dans notre exemple, cr√©er les modules <i>: core-utils,: core-network-api,: core-db-api,: feature-purchase-api</i> avec les interfaces correspondantes. <br>  Je vous conseille d'investir imm√©diatement dans le nom et la signification des modules.  Il est clair qu'avec le temps, les interfaces et les modules peuvent √™tre un peu m√©lang√©s, effondr√©s, etc., c'est normal. </li><li>  Cr√©ez une API de d√©pendances externes ( <i>ScannerFeatureDependencies</i> ).  Selon <i>: feature-scanner-impl</i> enregistre les modules api nouvellement cr√©√©s. </li><li>  Puisque nous avons tout l'h√©ritage dans l' <i>application</i> , voici ce que nous faisons.  Dans l' <i>application,</i> nous connectons tous les modules cr√©√©s pour la fonctionnalit√© (module api de fonctionnalit√©, module impl√©ment de fonctionnalit√©, modules api de d√©pendance externe). <br>  <b>Point super important</b> .  Ensuite, dans l' <i>application,</i> nous cr√©ons des impl√©mentations de toutes les interfaces de d√©pendance de fonctionnalit√©s n√©cessaires (Scanner dans notre exemple).  Ces impl√©mentations ne seront probablement que des proxys de vos d√©pendances api √† l'impl√©mentation actuelle de ces d√©pendances dans le projet.  Lors de l'initialisation d'un composant de fonctionnalit√©, remplacez les donn√©es d'impl√©mentation. <br>  Difficile en mots, vous voulez un exemple?  Alors il l'est d√©j√†!  En fait, quelque chose de similaire existe d√©j√† dans feature-scanner-example.  Encore une fois, je vais lui donner un code l√©g√®rement adapt√©: <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     ScannerFeatureDependencies  app- public class ScannerFeatureDependenciesLegacy implements ScannerFeatureDependencies { @Override public DbClientApi dbClient() { return new DbClientLegacy(); } @Override public HttpClientApi httpClient() { // -  // ,      return NetworkFabric.createHttpClientLegacy(); } @Override public SomeUtils someUtils() { return new SomeUtils(); } @Override public PurchaseInteractor purchaseInteractor() { return new PurchaseInteractorLegacy(); } } //  -   ScannerFeatureComponent.initAndGet( new ScannerFeatureDependenciesLegacy() );</span></span></code> </pre><br>  Autrement dit, le message principal ici est le suivant.  Laissez tout le code externe n√©cessaire √† la fonctionnalit√© vivre dans l' <i>application</i> , comme il l'a fait.  Et la fonctionnalit√© elle-m√™me fonctionnera d√©j√† avec elle de mani√®re normale, via api (c'est-√†-dire les d√©pendances api et les modules api).  √Ä l'avenir, la mise en ≈ìuvre passera progressivement aux modules.  Mais alors nous √©viterons un jeu sans fin en faisant glisser du module vers le module le code externe n√©cessaire pour la fonctionnalit√©.  On peut √©voluer en it√©rations claires! </li><li>  B√©n√©fice </li></ul><br>  Voici un algorithme simple mais efficace qui vous permet d'avancer pas √† pas vers votre objectif. <br><br><h3>  Conseils suppl√©mentaires </h3><br>  <b>Quelle doit √™tre la taille / la taille des fonctionnalit√©s?</b> <br>  Tout d√©pend du projet, etc.  Mais au d√©but de la transition vers la multi-modularit√©, je recommande de le diviser en gros morceaux.  De plus, si n√©cessaire, vous s√©lectionnerez plus de modules parmi ces modules.  Mais ne moudre pas.  Ne faites pas cela: une / plusieurs classes = un module. <br><br>  <b>Module d'application propre</b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque vous passez √† la multi- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modularit√©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , l' </font><i><font style="vertical-align: inherit;">application</font></i><font style="vertical-align: inherit;"> sera assez grande et √† partir de l√†, vos fonctionnalit√©s mises en √©vidence se contracteront. Il est possible que pendant le travail, vous deviez apporter des modifications √† cet h√©ritage, pour terminer quelque chose l√†, eh bien, ou que vous ayez juste une version, et que vous ne soyez pas √† la hauteur des coupes en modules. Dans ce cas, vous voulez que l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et avec elle tout l'h√©ritage, ne connaisse les fonctionnalit√©s mises en √©vidence que via l'api, aucune connaissance des impl√©mentations. Mais l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , en fait, moissonneuses - </font><font style="vertical-align: inherit;">batteuses </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">api-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">impl-ins</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais parce que l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sait tout. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans ce cas, vous pouvez cr√©er un module sp√©cial </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: adaptateur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui sera juste le point de connexion de l'api et de l'impl, mais d√©j√†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'application</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ne conna√Ætra alors que l'api. </font><font style="vertical-align: inherit;">Je pense que l'id√©e est claire. </font><font style="vertical-align: inherit;">Vous pouvez voir un exemple dans la branche </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clean_app</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">J'ajouterai qu'avec Moxy, ou plut√¥t MoxyReflector, il y a quelques probl√®mes lors de la division en modules, √† cause desquels j'ai d√ª cr√©er un autre module suppl√©mentaire </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: stub-moxy-java</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Une l√©g√®re pinc√©e de magie, sans elle. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le seul amendement. </font><font style="vertical-align: inherit;">Cela ne fonctionnera que si votre fonctionnalit√© et les d√©pendances associ√©es sont d√©j√† physiquement transf√©r√©es vers d'autres modules. </font><font style="vertical-align: inherit;">Si vous avez cr√©√© une fonctionnalit√©, mais que les d√©pendances existent toujours dans l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , comme dans l'algorithme ci-dessus, cela ne fonctionnera pas.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Postface </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'article s'est av√©r√© assez volumineux. </font><font style="vertical-align: inherit;">Mais j'esp√®re que cela vous aidera vraiment dans la lutte contre la monomodularit√©, en comprenant comment cela devrait √™tre et comment se lier d'amiti√© avec DI. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous √™tes int√©ress√© √† plonger dans un probl√®me de vitesse de construction, comment tout mesurer, alors je recommande les rapports de Denis Neklyudov et Zhenya Suvorov (Mobius 2018 Piter, les vid√©os ne sont pas encore accessibles au public). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos de Gradle. </font><font style="vertical-align: inherit;">La diff√©rence entre l'API et la mise en ≈ìuvre dans Gradle a √©t√© parfaitement montr√©e par </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vova Tagakov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si vous souhaitez r√©duire le passe-partout multi-modules, vous pouvez commencer ici avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cet article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je me ferai un plaisir de faire des commentaires, des corrections, ainsi que des likes! </font><font style="vertical-align: inherit;">Tout code propre!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr422555/">https://habr.com/ru/post/fr422555/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr422545/index.html">Fa√ßons de synchroniser les onglets du navigateur</a></li>
<li><a href="../fr422547/index.html">Pour √©liminer Spectre et Meltdown, vous devrez peut-√™tre cr√©er un tout nouveau type de processeur</a></li>
<li><a href="../fr422549/index.html">Corda: Kotlin</a></li>
<li><a href="../fr422551/index.html">Comment voler de l'argent avec une carte sans contact et Apple Pay</a></li>
<li><a href="../fr422553/index.html">L'extension de navigateur officielle Mega vole les donn√©es de partage de fichiers et la crypto-monnaie</a></li>
<li><a href="../fr422561/index.html">Comment Yandex a appliqu√© la vision par ordinateur pour am√©liorer la qualit√© des √©missions vid√©o. Technologie DeepHD</a></li>
<li><a href="../fr422565/index.html">Webinaires Skillbox Friday: Tout pour les programmeurs et les concepteurs</a></li>
<li><a href="../fr422569/index.html">Application de suivi horaire</a></li>
<li><a href="../fr422571/index.html">Parall√©lisation des t√¢ches avec les d√©pendances - exemple .NET</a></li>
<li><a href="../fr422573/index.html">L'ing√©nierie inverse du rendu de The Witcher 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>