<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÆ üë∂üèø üåé Pneus e protocolos em automa√ß√£o industrial: como tudo funciona üçä üêë üö∂üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Certamente muitas pessoas conhecem voc√™ ou at√© viram como grandes objetos automatizados s√£o gerenciados, por exemplo, uma usina nuclear ou uma usina c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pneus e protocolos em automa√ß√£o industrial: como tudo funciona</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454156/"><img src="https://habrastorage.org/webt/hr/zi/hu/hrzihuinrzvoeiifwgci9x5lo2y.jpeg"><br><br>  Certamente muitas pessoas conhecem voc√™ ou at√© viram como grandes objetos automatizados s√£o gerenciados, por exemplo, uma usina nuclear ou uma usina com muitas linhas tecnol√≥gicas: a a√ß√£o principal geralmente ocorre em uma sala grande, com v√°rias telas, luzes e controles remotos.  Esse complexo de controle geralmente √© chamado de sala de controle principal - o painel de controle principal para monitorar a instala√ß√£o de produ√ß√£o. <br><br>  Certamente voc√™ estava se perguntando como tudo isso funciona em termos de hardware e software e que tipo de protocolos de transfer√™ncia de dados s√£o usados ‚Äã‚Äãl√°.  Neste artigo, examinaremos como v√°rios dados chegam ao painel de controle principal, como os comandos do equipamento s√£o enviados e o que √© necess√°rio para gerenciar uma esta√ß√£o de compressor, uma unidade de produ√ß√£o de propano, uma linha de montagem de autom√≥veis ou mesmo um sistema de bombeamento de esgoto. <br><a name="habracut"></a><br><h2>  O n√≠vel mais baixo ou o barramento de campo √© onde tudo come√ßa </h2><br>  Esse conjunto obscuro de palavras √© usado quando √© necess√°rio descrever os meios de comunica√ß√£o de dispositivos de controle com equipamentos subordinados, por exemplo, m√≥dulos de entrada-sa√≠da ou dispositivos de medi√ß√£o. <br><br>  Por dispositivos de controle, queremos dizer PLC, ou seja,  controladores l√≥gicos program√°veis ‚Äã‚Äã(ingl√™s PLC) ou PKA, ou seja,  controladores de automa√ß√£o program√°veis ‚Äã‚Äã(Eng. PAC).  Existem algumas diferen√ßas entre PLC e PKA, no entanto, no √¢mbito deste artigo, elas n√£o s√£o significativas, portanto, para simplifica√ß√£o, usaremos o termo geral ‚Äúcontrolador‚Äù. <br><br>  Na comunidade de asushniks de l√≠ngua russa, o canal de comunica√ß√£o entre o controlador e outros dispositivos √© geralmente chamado de "barramento de campo", porque √© respons√°vel pela transfer√™ncia de dados provenientes do "campo". <br><br>  ‚ÄúCampo‚Äù √© um termo profissional profundo pelo fato de que certos equipamentos (por exemplo, sensores ou atuadores) com os quais o controlador interage est√£o localizados em algum lugar muito, muito longe, na rua, nos campos, sob a cobertura da noite.  E n√£o importa que o sensor possa estar localizado a meio metro do controlador e me√ßa, digamos, a temperatura no gabinete de automa√ß√£o, ele ainda √© considerado "no campo".  Na maioria das vezes, os sinais dos sensores que chegam aos m√≥dulos de E / S ainda cobrem dist√¢ncias entre dezenas e centenas de metros (e √†s vezes mais), coletando informa√ß√µes de locais ou equipamentos remotos.  Na verdade, portanto, o barramento de troca atrav√©s do qual o controlador recebe valores desses mesmos sensores √© geralmente chamado de barramento de campo ou menos frequentemente de barramento de n√≠vel inferior ou industrial. <br><br>  Deve-se notar aqui que na Europa e nos EUA apenas os dispositivos localizados ‚Äúno campo‚Äù, mas n√£o o meio de transmiss√£o de dados, s√£o considerados no n√≠vel de campo.  Nas realidades russas, o termo "barramento de campo" ou "barramento de n√≠vel inferior" talvez esteja um pouco desfocado e denota um m√©todo de transfer√™ncia de dados dos m√≥dulos de E / S para o controlador e vice-versa. <br><br><img src="https://habrastorage.org/webt/nc/wy/7v/ncwy7vvwgkgdgvgttmjig3nn2we.png"><br>  <i>Esquema geral de automa√ß√£o de uma instala√ß√£o industrial</i> <br><br>  Portanto, o sinal el√©trico do sensor passa uma certa dist√¢ncia ao longo das linhas de cabo (na maioria das vezes ao longo do cabo de cobre usual com um certo n√∫mero de n√∫cleos), ao qual v√°rios sensores est√£o conectados.  Em seguida, o sinal entra no m√≥dulo de processamento (m√≥dulo de E / S), onde √© convertido em um idioma digital que o controlador entende.  Al√©m disso, esse sinal √© enviado diretamente ao controlador via barramento de campo, onde j√° √© processado completamente.  Com base nesses sinais, a l√≥gica do pr√≥prio controlador √© constru√≠da.  Existe um caminho de retorno: do controlador, o comando de controle via barramento de campo chega ao m√≥dulo de sa√≠da, onde √© convertido de digital para anal√≥gico e transmitido via linhas de cabo para atuadores e v√°rios dispositivos (n√£o mostrado no diagrama acima). <br><br><h2>  N√≠vel superior: da guirlanda a toda a esta√ß√£o de trabalho </h2><br>  O n√≠vel superior refere-se a tudo o que pode ser tocado pelo operador mortal comum que controla o processo.  No caso mais simples, o n√≠vel superior √© um conjunto de l√¢mpadas e bot√µes.  As l√¢mpadas sinalizam ao operador sobre certos eventos no sistema; os bot√µes servem para enviar comandos ao controlador.  Esse sistema costuma ser chamado de "guirlanda" ou "√°rvore de Natal" porque √© muito parecido (como voc√™ pode ver na foto no in√≠cio do artigo). <br><br>  Se o operador tiver mais sorte, ele obter√° o painel do operador como um n√≠vel superior - um tipo de computador de tela plana que, de uma maneira ou de outra, recebe dados para exibi√ß√£o do controlador e os exibe na tela.  Esse painel geralmente √© montado no pr√≥prio gabinete de automa√ß√£o; portanto, √© necess√°rio interagir com ele em p√©, o que causa inconveni√™ncia, al√©m da qualidade e tamanho da imagem - se for um painel de pequeno formato - deixa muito a desejar. <br><br><img src="https://habrastorage.org/webt/mx/ul/kg/mxulkgubdy6n5pkm7suvnovrtoe.jpeg"><br><br>  E, finalmente, uma atra√ß√£o de generosidade sem precedentes - uma esta√ß√£o de trabalho (ou mesmo v√°rias duplicatas), que √© um computador pessoal comum. <br><br>  Exibir visualmente informa√ß√µes em esta√ß√µes de trabalho e computadores de tela plana usando software especializado - sistemas SCADA.  O SCADA √© traduzido para a linguagem humana como um sistema de controle de supervis√£o e coleta de dados.  Inclui muitos componentes, como uma interface homem-m√°quina que visualiza processos tecnol√≥gicos, um sistema de controle para esses processos, um sistema de arquivamento de par√¢metros e registro de eventos, um sistema de gerenciamento de alarmes, etc.  Tudo isso fornece ao operador uma imagem completa dos processos que ocorrem na produ√ß√£o, bem como a capacidade de gerenci√°-los e responder rapidamente aos desvios do processo. <br><br>  O equipamento de n√≠vel superior deve interagir de alguma forma com o controlador (caso contr√°rio, por que √© necess√°rio?).  Para essa intera√ß√£o, s√£o utilizados protocolos de n√≠vel superior e alguma tecnologia de transmiss√£o, por exemplo, Ethernet ou UART.  No caso da √°rvore de Natal, √© claro, voc√™ n√£o precisa de tanta sofistica√ß√£o, as l√¢mpadas s√£o acesas usando linhas f√≠sicas convencionais, n√£o h√° interfaces e protocolos sofisticados l√°. <br><br>  Em geral, esse n√≠vel superior √© menos interessante que o barramento de campo, pois esse n√≠vel superior pode n√£o existir (o operador n√£o pode ver nada da s√©rie; o controlador descobrir√° o que e como fazer). <br><br><h2>  Protocolo de dados antigos: Modbus e HART </h2><br>  Poucas pessoas sabem, mas no s√©timo dia da cria√ß√£o do mundo, Deus n√£o descansou, mas criou o Modbus.  Juntamente com o protocolo HART, o Modbus √© talvez o mais antigo protocolo de transfer√™ncia de dados industriais; j√° apareceu em 1979. <br><br>  A interface serial foi inicialmente usada como meio de transmiss√£o, e o Modbus foi implementado atrav√©s de TCP / IP.  Este √© um protocolo s√≠ncrono de acordo com o esquema mestre-escravo (mestre-escravo), no qual o princ√≠pio da solicita√ß√£o-resposta √© usado.  O protocolo √© bastante pesado e lento, a taxa de c√¢mbio depende das caracter√≠sticas do receptor e do transmissor, mas geralmente a contagem √© de quase centenas de milissegundos, principalmente na implementa√ß√£o via interface serial. <br><br>  Al√©m disso, o registro de transfer√™ncia de dados Modbus √© de 16 bits, o que imp√µe imediatamente restri√ß√µes √† transmiss√£o de tipos reais e duplos.  Eles s√£o transmitidos em partes ou com perda de precis√£o.  Embora o Modbus ainda seja amplamente utilizado nos casos em que n√£o √© necess√°ria uma alta taxa de c√¢mbio e a perda de dados transmitidos n√£o √© cr√≠tica.  Muitos fabricantes de v√°rios dispositivos gostam de estender o protocolo Modbus de maneira exclusiva e muito original, adicionando recursos n√£o padr√£o.  Portanto, este protocolo tem muitas muta√ß√µes e desvios da norma, mas ainda vive com sucesso no mundo moderno. <br>  O protocolo HART tamb√©m existe desde os anos 80, √© um protocolo industrial para troca por uma linha de loop de corrente de dois fios, que conecta diretamente sensores de 4-20 mA e outros dispositivos com suporte ao protocolo HART. <br><br>  Para alternar as linhas HART, s√£o utilizados dispositivos especiais, os chamados modems HART.  Tamb√©m existem conversores que na sa√≠da fornecem ao usu√°rio, digamos, o protocolo Modbus. <br><br>  Talvez o HART seja digno de nota, pois al√©m dos sinais anal√≥gicos dos sensores de 4-20 mA, um sinal digital do pr√≥prio protocolo tamb√©m √© transmitido no circuito, o que permite conectar as partes digital e anal√≥gica em uma linha de cabo.  Modems HART modernos podem ser conectados √† porta USB do controlador, conectados via Bluetooth ou, √† moda antiga, atrav√©s da porta serial.  H√° dez anos, por analogia com o Wi-Fi, o padr√£o WirelessHART, trabalhando na banda ISM, apareceu. <br><br><h2>  Protocolos de segunda gera√ß√£o ou barramentos ISA, PCI (e) e VME que n√£o s√£o do setor </h2><br>  Os protocolos Modbus e HART foram substitu√≠dos por barramentos n√£o muito industriais, como ISA (MicroPC, PC / 104) ou PCI / PCIe (CompactPCI, CompactPCI Serial, StacPC), bem como VME. <br><br>  Chegou a era das calculadoras que dispunham de um barramento universal de transfer√™ncia de dados, onde v√°rias placas (m√≥dulos) podem ser conectadas para processar um determinado sinal unificado.  Como regra, neste caso, o m√≥dulo do processador (calculadora) √© inserido no chamado quadro, que fornece a comunica√ß√£o do barramento com outros dispositivos.  O quadro, ou, como engenheiros de automa√ß√£o comum gostam de cham√°-lo de "engradado", √© complementado com os cart√µes de E / S necess√°rios: anal√≥gico, discreto, interface etc., ou tudo isso fica preso na forma de um sandu√≠che sem um quadro - uma placa em cima da outra.  Depois disso, esse coletor no barramento (ISA, PCI, etc.) troca dados com o m√≥dulo do processador, que recebe informa√ß√µes dos sensores e implementa uma certa l√≥gica. <br><br><img src="https://habrastorage.org/webt/rt/op/am/rtopam03dvzkz3bkv9kpkywcks8.png"><br>  <i>Controlador e m√≥dulos de E / S no chassi PXI no barramento PCI.</i>  <i>Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">National Instruments Corporation</a></i> <br><br>  Tudo ficaria bem com esses barramentos ISA, PCI (e) e VME, especialmente para aqueles tempos: a velocidade de troca n√£o atrapalha e os componentes do sistema est√£o localizados em um √∫nico quadro, compacto e conveniente, pode n√£o haver uma placa de E / S de troca autom√°tica, mas ainda n√£o quero muito. <br><br>  Mas h√° uma mosca na pomada, e n√£o uma.  Um sistema distribu√≠do √© bastante dif√≠cil de construir nessa configura√ß√£o; o barramento local √© intercambi√°vel; voc√™ precisa inventar algo para trocar dados com outros n√≥s subordinados ou de mesmo n√≠vel, o mesmo Modbus sobre TCP / IP ou algum outro protocolo, em geral, n√£o h√° muita conveni√™ncia.  Bem, a segunda n√£o √© uma coisa muito agrad√°vel: as placas de E / S normalmente esperam a entrada de algum sinal unificado e elas n√£o t√™m isolamento galv√¢nico com equipamentos de campo, ent√£o voc√™ precisa cercar o jardim a partir de v√°rios m√≥dulos de convers√£o e circuitos intermedi√°rios, o que complica bastante a base do elemento. <br><br><img src="https://habrastorage.org/webt/je/ve/ez/jeveezwwyc-moqceoxeike2-0ka.jpeg"><br>  <i>M√≥dulos de convers√£o de sinal intermedi√°rios com isolamento galv√¢nico.</i>  <i>Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DataForth Corporation</a></i> <br><br>  "E o protocolo para a troca no √¥nibus industrial?"  - voc√™ pergunta.  Mas nada.  N√£o existe nessa implementa√ß√£o.  Por meio de linhas de cabo, o sinal passa dos sensores para os conversores de sinal, os conversores fornecem tens√£o para uma placa de E / S anal√≥gica ou discreta, e os dados da placa j√° s√£o lidos atrav√©s das portas de E / S usando ferramentas do SO.  E sem protocolos especializados. <br><br><h2>  Como funcionam os pneus e protocolos industriais modernos </h2><br>  E agora?  At√© o momento, a ideologia cl√°ssica de constru√ß√£o de sistemas automatizados mudou um pouco.  Muitos fatores tiveram um papel, come√ßando com o fato de que a automa√ß√£o tamb√©m deveria ser conveniente e terminando com a tend√™ncia de sistemas automatizados distribu√≠dos com n√≥s remotos um do outro. <br><br>  Talvez possamos dizer que hoje existem dois conceitos b√°sicos para sistemas de automa√ß√£o predial: sistemas automatizados localizados e distribu√≠dos. <br><br>  No caso de sistemas localizados, onde a coleta e o controle de dados s√£o centralizados em um local espec√≠fico, √© necess√°rio o conceito de um determinado conjunto de m√≥dulos de entrada e sa√≠da interconectados por um barramento r√°pido comum, incluindo um controlador com seu pr√≥prio protocolo de comunica√ß√£o.  Al√©m disso, como regra, os m√≥dulos de entrada e sa√≠da incluem um conversor de sinal e isolamento galv√¢nico (embora, √© claro, nem sempre).  Ou seja, √© suficiente para o consumidor final entender que tipos de sensores e mecanismos estar√£o presentes no sistema automatizado, contar o n√∫mero de m√≥dulos de entrada e sa√≠da necess√°rios para diferentes tipos de sinais e conect√°-los em uma linha comum com o controlador.  Nesse caso, como regra, cada fabricante usa seu protocolo de comunica√ß√£o favorito entre os m√≥dulos de entrada e sa√≠da e o controlador, e pode haver muitas op√ß√µes. <br><br>  No caso de sistemas distribu√≠dos, tudo o que √© dito sobre sistemas localizados √© verdadeiro; al√©m disso, √© importante que os componentes individuais, por exemplo, um conjunto de m√≥dulos de entrada-sa√≠da e um dispositivo para coletar e transmitir informa√ß√µes, n√£o sejam um controlador muito inteligente, localizado em algum lugar do estande. o campo, pr√≥ximo ao guindaste que bloqueia o √≥leo, poderia interagir com os mesmos n√≥s e com o controlador principal a uma grande dist√¢ncia, com uma taxa de c√¢mbio efetiva. <br><br>  Como os desenvolvedores escolhem um protocolo para seu projeto?  Todos os protocolos de troca modernos oferecem velocidade razoavelmente alta; muitas vezes a escolha de um fabricante n√£o se deve √† taxa de c√¢mbio nesse mesmo barramento industrial.  A implementa√ß√£o do protocolo n√£o √© t√£o importante, porque, do ponto de vista do desenvolvedor do sistema, ainda ser√° uma caixa preta que fornece algum tipo de estrutura de troca interna e n√£o foi projetada para interfer√™ncias externas.  Na maioria das vezes, eles prestam aten√ß√£o √†s caracter√≠sticas pr√°ticas: o desempenho da calculadora, a conveni√™ncia de aplicar o conceito do fabricante √† tarefa, a presen√ßa dos tipos necess√°rios de m√≥dulos de entrada / sa√≠da, a capacidade de trocar os m√≥dulos a quente sem interromper o barramento, etc. <br><br>  Fornecedores de equipamentos populares oferecem suas pr√≥prias implementa√ß√µes de protocolos industriais: por exemplo, a conhecida empresa Siemens est√° desenvolvendo sua pr√≥pria s√©rie de protocolos Profinet e Profibus, protocolo B&amp;R - Powerlink, protocolo Rockwell Automation - EtherNet / IP.  A solu√ß√£o dom√©stica nesta lista de exemplos: a vers√£o do protocolo FBUS da empresa russa Fastwel. <br><br>  Existem solu√ß√µes mais universais que n√£o est√£o vinculadas a um fabricante espec√≠fico, como EtherCAT e CAN.  Analisaremos esses protocolos em detalhes na continua√ß√£o do artigo e descobriremos quais s√£o os mais adequados para aplica√ß√µes espec√≠ficas: ind√∫strias automotiva e aeroespacial, eletr√¥nica, sistemas de posicionamento e rob√≥tica.  Fique em contato! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt454156/">https://habr.com/ru/post/pt454156/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt454138/index.html">10 de junho, Deworkacy - QA Good Communication</a></li>
<li><a href="../pt454140/index.html">De advogado a testador em Yandex. A hist√≥ria do meu est√°gio</a></li>
<li><a href="../pt454144/index.html">No Java 13, eles querem adicionar "blocos de texto"</a></li>
<li><a href="../pt454148/index.html">Verificando o desempenho do SOC</a></li>
<li><a href="../pt454154/index.html">"Ramos do inferno": controle em nuvem de aterros ilegais e aterros perigosos</a></li>
<li><a href="../pt454160/index.html">Usando o PowerShell para aumentar os privil√©gios da conta local</a></li>
<li><a href="../pt454164/index.html">Como o teste A / B funciona no Avito?</a></li>
<li><a href="../pt454166/index.html">6 de junho - F√≥rum VeeamON em Moscou</a></li>
<li><a href="../pt454168/index.html">A principal arena do pa√≠s. Como foram atualizados Luzhniki antes da Copa do Mundo</a></li>
<li><a href="../pt454170/index.html">Bem-vindo ao DroidHeads Meetup 8 de junho</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>