<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñï ü§≥üèΩ üëéüèΩ Introdu√ß√£o aos contratos inteligentes ‚óÄÔ∏è ‚óæÔ∏è üèúÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, examinaremos o que s√£o contratos inteligentes, o que s√£o, se familiarizar com diferentes plataformas de contratos inteligentes, seus rec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Introdu√ß√£o aos contratos inteligentes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/distributedlab/blog/413231/">  Neste artigo, examinaremos o que s√£o contratos inteligentes, o que s√£o, se familiarizar com diferentes plataformas de contratos inteligentes, seus recursos e tamb√©m discutiremos como eles funcionam e quais vantagens eles podem trazer.  Este material ser√° muito √∫til para leitores que n√£o est√£o familiarizados com o t√≥pico de contratos inteligentes, mas desejam se aproximar de seu entendimento. <br><a name="habracut"></a><br><h2>  <b>Contrato regular vs.</b>  <b>contrato inteligente</b> </h2><br>  Antes de entrarmos em detalhes, vejamos um exemplo da diferen√ßa entre um contrato comum, definido no papel, e um contrato inteligente, apresentado em formato digital. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e19/d3a/226/e19d3a22688347a83b9ef987a94162c7.png" alt="imagem"><br><br>  Como isso funcionou antes dos contratos inteligentes?  Imagine um grupo de pessoas que deseja estabelecer algumas regras e condi√ß√µes para a distribui√ß√£o de valores, bem como um certo mecanismo para garantir a implementa√ß√£o dessa distribui√ß√£o de acordo com as regras e condi√ß√µes fornecidas.  Ent√£o eles se reuniram, fizeram um trabalho no qual anotaram seus dados de identifica√ß√£o, as condi√ß√µes, os valores envolvidos, marcaram a data e assinaram.  Este contrato tamb√©m foi certificado por uma parte confi√°vel, como um not√°rio p√∫blico.  Al√©m disso, essas pessoas divergiram em dire√ß√µes diferentes com a c√≥pia impressa desse contrato e come√ßaram a executar algumas a√ß√µes que podem n√£o corresponder ao contrato em si, ou seja, fizeram uma coisa e foi garantido no papel que deveriam fazer algo completamente diferente.  E como sair dessa situa√ß√£o?  De fato, um dos membros do grupo precisa pegar este documento, pegar algumas evid√™ncias, lev√°-lo a tribunal e buscar conformidade entre o contrato e as a√ß√µes reais.  Muitas vezes, √© dif√≠cil obter uma execu√ß√£o justa deste contrato, o que leva a conseq√º√™ncias desagrad√°veis. <br><br>  O que se pode dizer sobre contratos inteligentes?  Eles combinam a possibilidade de escrever os termos do contrato e o mecanismo para sua estrita implementa√ß√£o.  Se as condi√ß√µes foram definidas e a transa√ß√£o ou solicita√ß√£o correspondente foi assinada, depois de aceitar essa solicita√ß√£o ou transa√ß√£o, n√£o √© mais poss√≠vel alterar as condi√ß√µes ou afetar sua implementa√ß√£o. <br><br>  Existe um validador ou toda a rede, al√©m de um banco de dados que armazena todos os contratos inteligentes que foram executados em estrita ordem cronol√≥gica.  Tamb√©m √© importante que esse banco de dados contenha todas as condi√ß√µes de acionamento para a execu√ß√£o de um contrato inteligente.  Al√©m disso, deve levar em considera√ß√£o o pr√≥prio valor, cuja distribui√ß√£o est√° descrita no contrato.  Se isso se aplica a alguma moeda digital, esse banco de dados deve levar em considera√ß√£o. <br><br>  Em outras palavras, os validadores de contratos inteligentes devem ter acesso a todos os dados com os quais o contrato inteligente opera.  Por exemplo, um banco de dados deve ser usado para registrar simultaneamente moedas digitais, saldos de usu√°rios, transa√ß√µes de usu√°rios e registros de data e hora.  Ent√£o, em um contrato inteligente, a condi√ß√£o pode ser o saldo do usu√°rio em uma determinada moeda, o in√≠cio de um certo tempo ou o fato de uma determinada transa√ß√£o, mas n√£o mais. <br><br><h2>  <b>Defini√ß√£o de contrato inteligente</b> </h2><br>  Em geral, a terminologia em si foi inventada pelo pesquisador Nick Szabo e foi aplicada pela primeira vez em 1994, e foi documentada em 1997 em um artigo que descreve a pr√≥pria id√©ia de contratos inteligentes. <br><br>  Contratos inteligentes implicam que alguma automa√ß√£o da distribui√ß√£o de valor seja realizada, o que pode depender apenas daquelas condi√ß√µes predefinidas.  Na sua forma mais simples, parece um contrato com condi√ß√µes estritamente especificadas, assinado por certas partes. <br><br>  Os contratos inteligentes s√£o projetados para minimizar a confian√ßa de terceiros.  √Äs vezes, o centro de decis√£o, do qual tudo depende, √© completamente exclu√≠do.  Al√©m disso, √© mais f√°cil realizar uma auditoria para esses contratos.  Isso √© uma consequ√™ncia de alguns recursos de design de um sistema como esse, mas na maioria das vezes queremos dizer com contrato inteligente um ambiente descentralizado e a presen√ßa de fun√ß√µes que permitem a qualquer um analisar o banco de dados e realizar uma auditoria completa da execu√ß√£o dos contratos.  Isso garante prote√ß√£o contra altera√ß√µes retroativas nos dados que implicam altera√ß√µes na execu√ß√£o do pr√≥prio contrato.  A digitaliza√ß√£o da maioria dos processos ao criar e lan√ßar um contrato inteligente geralmente simplifica a tecnologia e o custo de sua implementa√ß√£o. <br><br><h3>  Um exemplo simples - servi√ßo de cust√≥dia </h3><br>  Vejamos um exemplo muito simples.  Isso ajudar√° voc√™ a entender melhor a funcionalidade dos contratos inteligentes e a navegar melhor nos casos em que eles devem ser usados. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c49/ff9/541/c49ff9541c0289e2da814c0d62a0425a.png" alt="imagem"><br><br>  Ele tamb√©m pode ser implementado usando o Bitcoin, embora agora ainda seja dif√≠cil chamar o Bitcoin de uma plataforma completa para contratos inteligentes.  Portanto, temos algum comprador e existe uma loja online.  O comprador deseja comprar um monitor nesta loja.  No caso mais simples, o comprador prepara e envia o pagamento, e a loja on-line aceita, confirma e envia as mercadorias.  No entanto, nessa situa√ß√£o, h√° uma grande confian√ßa - o comprador deve confiar na loja on-line por todo o custo do monitor.  Como a loja on-line pode ter uma reputa√ß√£o baixa aos olhos do comprador, existe o risco de que, por algum motivo, depois de aceitar o pagamento, a loja se recuse a prestar servi√ßos de manuten√ß√£o e n√£o envie a mercadoria ao comprador.  Portanto, o comprador faz uma pergunta (respectivamente, e a loja online faz essa pergunta) o que pode ser aplicado nesse caso para minimizar esses riscos e tornar essas transa√ß√µes mais confi√°veis. <br><br>  No caso do Bitcoin, voc√™ pode oferecer ao comprador e ao vendedor a oportunidade de escolher um mediador de forma independente.  H√° muitas pessoas que lidam com quest√µes controversas.  E nossos participantes podem escolher da lista geral de mediadores confi√°veis, ao mesmo tempo.  Juntos, eles criam um endere√ßo de multi-assinatura 2 de 3, em que h√° tr√™s chaves e duas assinaturas s√£o necess√°rias para quaisquer duas chaves para gastar moedas nesse endere√ßo.  Uma chave pertence ao comprador, a segunda √† loja online e a terceira ao mediador.  E o comprador enviar√° o valor necess√°rio para pagar pelo monitor para um endere√ßo com v√°rias assinaturas.  Agora, quando o vendedor perceber que o dinheiro est√° bloqueado por um tempo no endere√ßo de v√°rias assinaturas, que depende dele, ele pode enviar o monitor com seguran√ßa por correio. <br><br>  Al√©m disso, o comprador recebe o pacote, inspeciona as mercadorias e toma uma decis√£o sobre a compra final.  Ele pode concordar completamente com o servi√ßo prestado e assinar a transa√ß√£o com sua chave, onde transfere moedas do endere√ßo de v√°rias assinaturas para o vendedor ou pode estar insatisfeito com alguma coisa.  No segundo caso, ele entra em contato com o mediador para compor uma transa√ß√£o alternativa, que distribuir√° essas moedas de maneira diferente. <br><br>  Suponha que o monitor tenha chegado um pouco arranhado e n√£o houvesse cabo para conectar a um computador no kit, embora tenha sido escrito no site da loja on-line que o cabo deve ser inclu√≠do no kit.  Em seguida, o comprador coleta as evid√™ncias necess√°rias para provar ao mediador que ele foi enganado nessa situa√ß√£o: ele tira capturas de tela do site, tira uma foto do cheque pelo correio, tira uma foto de arranh√µes no monitor e mostra que o selo foi quebrado e o cabo foi retirado.  A loja online, por sua vez, coleta suas evid√™ncias e as transmite ao mediador. <br><br>  O mediador est√° interessado em satisfazer a indigna√ß√£o do comprador e os interesses da loja on-line (ser√° mais compreendido o porqu√™).  Ele realiza uma transa√ß√£o em que moedas com endere√ßos de v√°rias assinaturas ser√£o gastas em alguma propor√ß√£o entre o comprador, a loja on-line e a picareta, pois ele participa de uma recompensa por seu trabalho.  Suponha que 90% do valor total v√° para o vendedor, 5% para o mediador e 5% de compensa√ß√£o para o comprador.  O mediador assina esta transa√ß√£o com sua chave, mas ainda n√£o pode ser aplicada, porque isso requer duas assinaturas, mas apenas uma.  Ele envia essa transa√ß√£o para o comprador e o vendedor.  Se pelo menos um deles estiver satisfeito com esta op√ß√£o de redistribui√ß√£o de moedas, a transa√ß√£o ser√° assinada e distribu√≠da adicionalmente √† rede.  Para sua valida√ß√£o, basta que um dos participantes da transa√ß√£o concorde com a op√ß√£o do mediador. <br><br>  Nesse caso, √© importante escolher inicialmente um mediador para que ambos os participantes confiem nele.  Nesse caso, ele agir√° independentemente dos interesses de um ou de outro e avaliar√° objetivamente a situa√ß√£o.  Se o mediador n√£o fornecer essa op√ß√£o para a distribui√ß√£o de moedas que satisfar√° pelo menos um participante, ent√£o, tendo acordado juntos, o comprador e a loja on-line poder√£o encaminhar as moedas para um novo endere√ßo de multi-assinatura, colocando suas duas assinaturas.  O novo endere√ßo de multi-assinatura ser√° compilado com outra escolha, que talvez seja mais competente no assunto e forne√ßa uma op√ß√£o melhor. <br><br><h3>  Exemplo de dormit√≥rio e geladeira </h3><br>  Vejamos um exemplo mais complexo que exibe os recursos de um contrato inteligente de maneira mais expl√≠cita. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4d9/d62/be0/4d9d62be0f11ea9938eb092ee279dd85.png" alt="imagem"><br><br>  Digamos que h√° tr√™s caras que se instalaram recentemente em um dormit√≥rio.  Os tr√™s est√£o interessados ‚Äã‚Äãem comprar uma geladeira no quarto, que eles compartilhar√£o.  Um deles se ofereceu para coletar o valor necess√°rio para comprar uma geladeira e negociar com o vendedor.  No entanto, eles se conheceram recentemente e n√£o h√° confian√ßa suficiente entre eles.  Obviamente, dois deles est√£o em risco, dando dinheiro a um ter√ßo.  Al√©m disso, eles precisam chegar a um acordo sobre a escolha do vendedor. <br><br>  Eles podem usar o servi√ßo de garantia, ou seja, escolher um mediador que monitorar√° a execu√ß√£o da transa√ß√£o e resolver√° os problemas disputados, se houver.  Depois, concordando, eles elaboram um contrato inteligente e prescrevem certas condi√ß√µes. <br><br>  A primeira condi√ß√£o √© que, antes de um certo per√≠odo, por exemplo, dentro de uma semana, tr√™s pagamentos de determinados endere√ßos para um determinado valor sejam recebidos na conta correspondente do contrato inteligente.  Se isso n√£o acontecer, o contrato inteligente termina e devolve as moedas a todos os participantes.  Se a condi√ß√£o for atendida, os valores dos identificadores do vendedor e do mediador s√£o definidos e a condi√ß√£o de que todos os participantes concordam com a escolha do vendedor e o mediador √© verificada.  Quando todas as condi√ß√µes forem atendidas, os fundos ser√£o transferidos para os endere√ßos especificados.  Essa abordagem pode proteger os participantes contra fraudes de qualquer lado e geralmente elimina a necessidade de confiar. <br><br>  Vemos neste exemplo o pr√≥prio princ√≠pio de que essa oportunidade de definir par√¢metros passo a passo para cada condi√ß√£o a ser cumprida permite criar sistemas de qualquer complexidade e profundidade dos n√≠veis aninhados.  Al√©m disso, primeiro voc√™ pode definir a primeira condi√ß√£o em um contrato inteligente e somente ap√≥s sua conclus√£o, voc√™ j√° pode definir par√¢metros para a pr√≥xima condi√ß√£o.  Em outras palavras, formalmente, a condi√ß√£o √© prescrita e os par√¢metros para ela j√° podem ser definidos durante sua opera√ß√£o. <br><br><h3>  Classifica√ß√£o de contratos inteligentes </h3><br>  Para classifica√ß√£o, voc√™ pode especificar diferentes grupos de crit√©rios.  No entanto, no momento do desenvolvimento da tecnologia, quatro deles s√£o relevantes. <br><br>  Os contratos inteligentes podem ser diferenciados por um ambiente de tempo de execu√ß√£o que pode ser centralizado ou descentralizado.  No caso da descentraliza√ß√£o, temos muito mais independ√™ncia e toler√¢ncia a falhas ao executar contratos inteligentes. <br><br>  Eles tamb√©m podem ser distinguidos pelo processo de defini√ß√£o e cumprimento de condi√ß√µes: eles podem ser arbitrariamente program√°veis, limitados ou predefinidos, ou seja, estritamente tipificados.  Quando na plataforma de contrato inteligente, existem apenas 4 contratos inteligentes espec√≠ficos, os par√¢metros para eles podem ser definidos arbitrariamente.  Assim, defini-los √© muito mais f√°cil: selecionamos um contrato da lista e passamos os par√¢metros. <br><br>  Pelo m√©todo de inicia√ß√£o, existem contratos inteligentes automatizados, ou seja, quando certas condi√ß√µes s√£o atendidas, eles s√£o auto-realiz√°veis ‚Äã‚Äãe existem contratos nos quais as condi√ß√µes s√£o especificadas, mas a plataforma n√£o verifica automaticamente seu cumprimento, para isso eles precisam ser iniciados separadamente. <br><br>  Al√©m disso, os contratos inteligentes variam em termos de privacidade.  Eles podem ser completamente abertos, parcialmente ou completamente confidenciais.  O √∫ltimo significa que observadores externos n√£o veem os termos dos contratos inteligentes.  No entanto, o t√≥pico da privacidade √© muito extenso e deve ser considerado separadamente do artigo atual. <br><br>  A seguir, abordaremos os tr√™s primeiros crit√©rios para esclarecer a compreens√£o do t√≥pico atual. <br><br><h3>  Contratos inteligentes de tempo de execu√ß√£o </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/64d/ffe/abc/64dffeabc36e80f36101529bd8cf1ff3.png" alt="imagem"><br><br>  O tempo de execu√ß√£o distingue entre plataformas de contrato inteligente centralizadas e descentralizadas.  No caso de contratos digitais centralizados, √© utilizado um servi√ßo, onde existe apenas um validador e pode haver um servi√ßo de backup e recupera√ß√£o, que tamb√©m √© gerenciado centralmente.  H√° um banco de dados que armazena todas as informa√ß√µes necess√°rias para definir os termos do contrato inteligente e a distribui√ß√£o do valor que √© levado em considera√ß√£o nesse mesmo banco de dados do servi√ßo.  Esse servi√ßo centralizado tem um cliente que define condi√ß√µes com determinadas solicita√ß√µes e usa esses contratos.  Devido ao fato de a plataforma estar centralizada, os mecanismos de autentica√ß√£o podem ser menos confi√°veis ‚Äã‚Äãdo que nas criptomoedas. <br><br>  Como exemplo, voc√™ pode usar provedores m√≥veis (diferentes operadoras de celular).  Suponha que um determinado operador monitore o tr√°fego em seus servidores de maneira centralizada, que pode ser transmitida em diferentes formatos, por exemplo: na forma de chamadas de voz, SMS, tr√°fego de Internet m√≥vel e de acordo com v√°rios padr√µes, al√©m de acompanhar os fundos dos saldos dos usu√°rios.  Por conseguinte, um fornecedor de servi√ßos m√≥veis pode elaborar contratos para contabilizar os servi√ßos prestados e o seu pagamento em diferentes condi√ß√µes.  Nesse caso, condi√ß√µes como ‚Äúenviar um SMS com esse c√≥digo para esse n√∫mero e voc√™ obter√° tais e tais condi√ß√µes de distribui√ß√£o de tr√°fego‚Äù s√£o facilmente definidas. <br><br>  Mais um exemplo: bancos tradicionais com funcionalidade avan√ßada de Internet banking e contratos muito simples como pagamentos regulares, convers√£o autom√°tica de pagamentos recebidos, dedu√ß√£o autom√°tica de juros em uma conta especificada, etc. <br><br>  Se estamos falando de contratos inteligentes com um tempo de execu√ß√£o descentralizado, temos um grupo de validadores.  No caso ideal, qualquer pessoa pode se tornar um validador.  Devido ao protocolo de sincroniza√ß√£o do banco de dados e √† constru√ß√£o de consenso, temos alguns bancos de dados comuns, que agora armazenam todas as transa√ß√µes com contratos estritamente descritos, e n√£o algumas solicita√ß√µes condicionais, cujos formatos geralmente mudam, mas n√£o h√° uma especifica√ß√£o aberta.  Aqui, as transa√ß√µes conter√£o instru√ß√µes sobre como executar um contrato de acordo com especifica√ß√µes r√≠gidas.  Essa especifica√ß√£o √© aberta e, portanto, os pr√≥prios usu√°rios da plataforma podem auditar e validar contratos inteligentes.  Aqui vemos que plataformas descentralizadas s√£o superiores √†s plataformas centralizadas em independ√™ncia e toler√¢ncia a falhas, mas seu design e manuten√ß√£o s√£o muito mais complicados. <br><br><h3>  Contratos inteligentes no caminho para definir e atender √†s condi√ß√µes </h3><br>  Agora, analisaremos mais detalhadamente como os contratos inteligentes podem diferir na maneira como s√£o definidos e cumpridos.  Aqui prestamos aten√ß√£o aos contratos inteligentes, que s√£o programados arbitrariamente e conclu√≠dos por Turing.  Um contrato inteligente completo de Turing permite especificar quase qualquer algoritmo como condi√ß√£o para o cumprimento do contrato: ciclos de registro, algum tipo de fun√ß√£o de c√°lculo de probabilidade e similares, at√© seus pr√≥prios algoritmos de assinatura eletr√¥nica.  Nesse caso, queremos dizer grafia realmente arbitr√°ria da l√≥gica. <br><br>  Eles tamb√©m destacam contratos inteligentes arbitr√°rios, mas n√£o completos de acordo com Turing.  Isso inclui Bitcoin e Litecoin com seu pr√≥prio script.  Isso significa que √© poss√≠vel usar apenas determinadas opera√ß√µes em uma ordem arbitr√°ria, mas n√£o √© mais poss√≠vel gravar loops e algoritmos personalizados. <br><br>  Al√©m disso, existem plataformas inteligentes de contratos que implementam contratos inteligentes predefinidos.  Estes incluem Bitshares e Steemit.  O Bitshares possui v√°rios contratos inteligentes para negocia√ß√£o, gerenciamento de contas, gerenciamento da pr√≥pria plataforma e seus par√¢metros.  O Steemit √© uma plataforma semelhante, mas n√£o se concentra mais em emitir tokens e negociar como o Bitshares, mas em blogs, ou seja, armazena e processa conte√∫do de maneira descentralizada. <br><br>  Os contratos arbitr√°rios de conclus√£o de Turing incluem as plataformas Ethereum e RootStock, que ainda est√£o em desenvolvimento.  Portanto, continuaremos detalhando a plataforma de contratos inteligentes da Ethereum. <br><br><h3>  Contratos inteligentes pelo m√©todo de inicia√ß√£o </h3><br>  Pelo m√©todo de inicia√ß√£o, os contratos inteligentes tamb√©m podem ser divididos em pelo menos dois grupos: automatizado e manual (n√£o automatizado).<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â comum para os automatizados que, com todos os par√¢metros conhecidos e o in√≠cio das condi√ß√µes, o contrato inteligente seja totalmente executado automaticamente, ou seja, n√£o √© necess√°rio enviar nenhuma transa√ß√£o adicional nem gastar uma comiss√£o adicional para cada execu√ß√£o subsequente. A plataforma em si possui todos os dados para calcular como o contrato inteligente terminar√°. A l√≥gica n√£o √© arbitr√°ria, mas predeterminada, e tudo isso √© previs√≠vel. Ou seja, com anteced√™ncia, voc√™ pode avaliar a complexidade do contrato inteligente, usar algum tipo de comiss√£o constante e todos os processos para sua implementa√ß√£o s√£o mais eficientes.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para contratos inteligentes programados arbitrariamente, a execu√ß√£o n√£o √© automatizada. </font><font style="vertical-align: inherit;">Para iniciar um contrato inteligente, praticamente a cada etapa, √© necess√°rio criar uma nova transa√ß√£o que chamar√° o pr√≥ximo est√°gio de execu√ß√£o ou o pr√≥ximo m√©todo do contrato inteligente, pague a comiss√£o apropriada e aguarde a confirma√ß√£o da transa√ß√£o. </font><font style="vertical-align: inherit;">A execu√ß√£o pode ser conclu√≠da com √™xito ou n√£o, porque o c√≥digo do contrato inteligente √© arbitr√°rio e alguns momentos imprevis√≠veis podem aparecer, como um ciclo eterno, falta de alguns par√¢metros e argumentos, momentos excepcionais n√£o processados ‚Äã‚Äãetc.</font></font><br><br><h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contas Ethereum</font></font></b> </h2><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tipos de contas Ethereum </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos considerar quais contas na plataforma Ethereum podem ser. Existem apenas dois tipos de contas aqui e n√£o h√° mais op√ß√µes. O primeiro tipo √© chamado de conta de usu√°rio, o segundo √© a conta do contrato. Vamos ver como eles diferem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A conta do usu√°rio √© gerenciada apenas pela chave privada da assinatura eletr√¥nica. O propriet√°rio da conta gera seu par de chaves para assinatura eletr√¥nica pelo algoritmo ECDSA (algoritmo de assinatura digital de curva el√≠ptica). Somente as transa√ß√µes assinadas por essa chave podem alterar o estado desta conta.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existe uma l√≥gica separada para a conta do contrato inteligente. </font><font style="vertical-align: inherit;">Ele pode ser controlado apenas com a ajuda de um c√≥digo de programa predeterminado que determina completamente o comportamento do contrato inteligente: como ele administrar√° suas moedas em determinadas circunst√¢ncias, por iniciativa de qual usu√°rio e sob quais condi√ß√µes adicionais essas moedas ser√£o distribu√≠das. </font><font style="vertical-align: inherit;">Se alguns pontos n√£o forem fornecidos pelos desenvolvedores no c√≥digo do programa, poder√£o surgir problemas. </font><font style="vertical-align: inherit;">Por exemplo, um contrato inteligente pode receber algum estado espec√≠fico em que n√£o aceita o in√≠cio de execu√ß√£o adicional de nenhum dos usu√°rios. </font><font style="vertical-align: inherit;">Nesse caso, as moedas ser√£o congeladas, porque o contrato inteligente n√£o fornece uma sa√≠da para esse estado.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como criar contas no Ethereum </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No caso de uma conta de usu√°rio, o propriet√°rio gera independentemente um par de chaves via ECDSA. √â importante observar que o Ethereum usa exatamente o mesmo algoritmo e a mesma curva el√≠ptica do Bitcoin para assinatura eletr√¥nica, mas o endere√ßo √© calculado de uma maneira ligeiramente diferente. Aqui, o resultado do hash duplo n√£o √© mais aplicado, como no Bitcoin, mas √© fornecido um hashing √∫nico pela fun√ß√£o Keccak com um comprimento de 256 bits. Os bits menos significativos s√£o cortados do valor recebido, ou seja, os 160 bits menos significativos do valor de sa√≠da da fun√ß√£o hash. Como resultado, obtemos o endere√ßo no Ethereum. De fato, s√£o necess√°rios 20 bytes.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observe que o identificador de conta no Ethereum √© codificado em hexadecimal sem usar uma soma de verifica√ß√£o, ao contr√°rio do Bitcoin e de muitos outros sistemas em que o endere√ßo √© codificado no sistema de n√∫meros base 58 com a adi√ß√£o de uma soma de verifica√ß√£o. Isso significa que voc√™ precisa trabalhar com identificadores de conta no Ethereum com cuidado: mesmo um erro no identificador √© garantido para levar √† perda de moedas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° um recurso importante e consiste no fato de que uma conta de usu√°rio no n√≠vel geral do banco de dados √© criada no momento em que ele aceita a primeira entrada de pagamento.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existe uma abordagem completamente diferente para criar uma conta de contrato inteligente. Inicialmente, um dos usu√°rios grava o c√≥digo-fonte do contrato inteligente, ap√≥s o qual o c√≥digo √© passado por um compilador especial para a plataforma Ethereum, recebendo c√≥digo de bytes para a m√°quina virtual Ethereum. O bytecode recebido √© colocado em um campo de transa√ß√£o especial. √â autenticado em nome da conta do iniciador. Al√©m disso, essa transa√ß√£o √© distribu√≠da pela rede e hospeda o c√≥digo do contrato inteligente. A comiss√£o pela transa√ß√£o e, consequentemente, pela execu√ß√£o do contrato √© removida do saldo da conta do iniciador.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada contrato inteligente cont√©m necessariamente seu pr√≥prio construtor (deste contrato). </font><font style="vertical-align: inherit;">Pode estar vazio ou pode ter conte√∫do. </font><font style="vertical-align: inherit;">Ap√≥s a execu√ß√£o do construtor, √© criado um identificador de conta de contrato inteligente, com o qual voc√™ pode enviar moedas, chamar certos m√©todos do contrato inteligente etc.</font></font><br><br><h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estrutura de transa√ß√£o do Ethereum</font></font></b> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para tornar mais claro, come√ßaremos a revisar a estrutura da transa√ß√£o Ethereum e o c√≥digo de contrato inteligente de amostra. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/2cf/562/c11/2cf562c11f33cc0ed594c935925a1fad.png" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma transa√ß√£o Ethereum consiste em v√°rios campos. O primeiro desses nonce √© um determinado n√∫mero de transa√ß√£o relativo √† pr√≥pria conta, que o distribui e √© seu autor. Isso √© necess√°rio para distinguir as duplas de transa√ß√µes, ou seja, para excluir o caso em que a mesma transa√ß√£o √© aceita duas vezes. Atrav√©s do uso de um identificador, cada transa√ß√£o possui um valor de hash exclusivo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isto √© seguido por um campo como o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pre√ßo do g√°s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Esse √© o pre√ßo pelo qual a moeda base do Ethereum √© convertida em g√°s, que paga pela execu√ß√£o do contrato inteligente e pela aloca√ß√£o do recurso da m√°quina virtual.</font></font> O que isso significa? <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No Bitcoin, as comiss√µes s√£o pagas diretamente pela moeda base - o pr√≥prio Bitcoin. Isso √© poss√≠vel gra√ßas a um mecanismo simples para calcul√°-los: pagamos estritamente a quantidade de dados contida na transa√ß√£o. No Ethereum, a situa√ß√£o √© mais complicada, porque √© muito dif√≠cil come√ßar a partir da quantidade de dados da transa√ß√£o. Aqui, a transa√ß√£o ainda pode conter c√≥digo de programa que ser√° executado na m√°quina virtual e cada opera√ß√£o da m√°quina virtual pode ter complexidade diferente. Tamb√©m existem opera√ß√µes que alocam mem√≥ria para vari√°veis. Eles ter√£o sua pr√≥pria complexidade, da qual o pagamento para cada opera√ß√£o depender√°.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O custo de cada opera√ß√£o em equivalente de g√°s ser√° constante. √â introduzido especificamente para determinar o custo constante de cada opera√ß√£o. Dependendo da carga na rede, o pre√ßo do g√°s mudar√°, ou seja, o coeficiente segundo o qual a moeda base ser√° convertida nessa unidade auxiliar para pagar a comiss√£o.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° outra caracter√≠stica da transa√ß√£o no Ethereum: o bytecode que ele cont√©m para execu√ß√£o na m√°quina virtual ser√° executado at√© terminar com algum resultado (falha de sucesso) ou at√© um certo n√∫mero de moedas alocadas pagar uma comiss√£o. √â para evitar a situa√ß√£o em que, no caso de algum erro, todas as moedas foram gastas em comiss√£o da conta do remetente (por exemplo, algum tipo de ciclo perp√©tuo foi lan√ßado na m√°quina virtual), existe o seguinte campo - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">start gas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (muitas vezes chamado de limite de g√°s) - define A quantidade m√°xima de moedas que o remetente est√° disposto a gastar em uma transa√ß√£o espec√≠fica. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O pr√≥ximo campo √© chamado </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">endere√ßo de destino</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Isso inclui o endere√ßo do destinat√°rio das moedas ou o endere√ßo de um contrato inteligente espec√≠fico, cujos m√©todos ser√£o chamados. Depois segue o campo do </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , onde √© inserida a quantidade de moedas que s√£o enviadas para o endere√ßo de destino. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A seguir, √© um campo interessante chamado </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dados</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que se ajusta a toda a estrutura. Este n√£o √© um campo separado, mas toda a estrutura na qual o c√≥digo da m√°quina virtual est√° definido. Voc√™ pode colocar dados arbitr√°rios aqui - existem regras separadas para isso. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E o √∫ltimo campo √© chamado de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assinatura</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ele cont√©m simultaneamente a assinatura eletr√¥nica do autor desta transa√ß√£o e a chave p√∫blica com a qual essa assinatura ser√° verificada. </font><font style="vertical-align: inherit;">Na chave p√∫blica, √© poss√≠vel obter o identificador da conta do remetente para esta transa√ß√£o, ou seja, identificar exclusivamente a conta do remetente no pr√≥prio sistema. </font><font style="vertical-align: inherit;">De acordo com a estrutura da transa√ß√£o, descobrimos o principal.</font></font><br><br><h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo de c√≥digo de contrato inteligente para solidez</font></font></b> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vamos agora dar uma olhada no contrato inteligente mais simples usando um exemplo. </font></font><br><br><pre><code class="javascript hljs">contract Bank { address owner; mapping(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) balances; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Bank</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ owner = msg.sender; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deposit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">payable</span></span></span><span class="hljs-function"> </span></span>{ balances[msg.sender] += msg.value; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">withdraw</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">uint amount</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (balances[msg.sender] &gt;= amount) { balances[msg.sender] -= amount; msg.sender.transfer(amount); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMyBalance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">uint</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> balances[msg.sender]; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kill</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (msg.sender == owner) selfdestruct(owner); } }</code> </pre> <br>  Acima est√° um c√≥digo-fonte simplificado que pode armazenar moedas do usu√°rio e devolv√™-las sob demanda. <br><br>  Portanto, existe um contrato inteligente do Banco que executa as seguintes fun√ß√µes: ele acumula moedas em seu saldo, ou seja, quando uma transa√ß√£o √© confirmada e um contrato inteligente √© colocado, √© criada uma nova conta que pode conter moedas em seu saldo;  lembra os usu√°rios e a distribui√ß√£o de moedas entre eles;  Possui v√°rios m√©todos para gerenciar saldos, ou seja, √© poss√≠vel reabastecer, retirar e verificar o saldo do usu√°rio. <br><br>  Vamos analisar cada linha do c√≥digo fonte.  Existem campos constantes neste contrato.  Um deles, com o tipo de endere√ßo, √© chamado de propriet√°rio.  Aqui, o contrato lembra o endere√ßo do usu√°rio que criou este contrato inteligente.  Al√©m disso, existe uma estrutura din√¢mica que preserva a correspond√™ncia entre os endere√ßos e os saldos dos usu√°rios. <br><br>  Depois disso, segue o m√©todo do Banco - ele √© chamado da mesma forma que o contrato.  Por conseguinte, este √© o seu construtor.  Aqui, a vari√°vel do propriet√°rio recebe o endere√ßo da pessoa que postou este contrato inteligente na rede.  Essa √© a √∫nica coisa que acontece nesse construtor.  Ou seja, msg nesse caso s√£o exatamente os dados que foram transferidos para a m√°quina virtual junto com a transa√ß√£o que cont√©m todo o c√≥digo desse contrato.  Por conseguinte, msg.sender √© o autor desta transa√ß√£o, que hospeda esse c√≥digo.  Ele ser√° o propriet√°rio do contrato inteligente. <br><br>  O m√©todo de dep√≥sito permite que uma transa√ß√£o transfira um certo n√∫mero de moedas para uma conta de contrato.  Nesse caso, o contrato inteligente, recebendo essas moedas, as deixa em seu balan√ßo, mas escreve para a estrutura de saldos quem exatamente foi o remetente dessas moedas para saber a quem elas pertencem. <br><br>  O pr√≥ximo m√©todo √© chamado de retirada e √© necess√°rio um par√¢metro - a quantidade de moedas que algu√©m deseja retirar deste banco.  Aqui est√° uma verifica√ß√£o para ver se h√° moedas suficientes no saldo do usu√°rio que chama esse m√©todo para envi√°-las.  Se houver um n√∫mero suficiente, o pr√≥prio contrato inteligente retorna essa quantia de moedas para o chamador. <br><br>  A seguir, √© o m√©todo de verificar o saldo atual do usu√°rio.  Quem chama esse m√©todo ser√° usado para obter esse equil√≠brio no contrato inteligente.  Vale ressaltar que o modificador deste m√©todo √© view.  Isso significa que o pr√≥prio m√©todo n√£o altera as vari√°veis ‚Äã‚Äãde sua classe de forma alguma e, de fato, √© apenas um m√©todo de leitura.  Uma transa√ß√£o separada n√£o √© criada para chamar esse m√©todo, nenhuma comiss√£o √© paga e todos os c√°lculos s√£o realizados localmente, ap√≥s o que o usu√°rio recebe o resultado. <br><br>  O m√©todo kill √© necess√°rio para destruir o estado de um contrato inteligente.  E aqui √© feita uma verifica√ß√£o adicional se o chamador deste m√©todo √© o propriet√°rio deste contrato.  Se for, o contrato √© autodestrutivo e a fun√ß√£o de destrui√ß√£o aceita um par√¢metro - o identificador da conta, para o qual o contrato enviar√° todas as moedas restantes em seu saldo.  Nesse caso, as moedas restantes ir√£o automaticamente para o endere√ßo do titular do contrato. <br><br><h2>  <b>Como um n√≥ de rede Ethereum completo funciona?</b> </h2><br>  Vamos dar uma olhada esquem√°tica em como esses contratos inteligentes s√£o executados na plataforma Ethereum e como um n√≥ de rede completo funciona. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/10b/d25/63a/10bd2563a30d8284e5498e774e4abaf9.png" alt="imagem"><br><br>  Um n√≥ de rede completo do Ethereum deve ter pelo menos quatro m√≥dulos. <br>  O primeiro, como em qualquer protocolo descentralizado, √© o m√≥dulo de rede P2P - um m√≥dulo para conex√£o de rede e trabalho com outros n√≥s, onde s√£o trocados blocos, transa√ß√µes e informa√ß√µes sobre outros n√≥s.  Este √© um componente tradicional para todas as criptomoedas descentralizadas. <br><br>  Al√©m disso, temos um m√≥dulo para armazenar dados da blockchain, processar, selecionar uma ramifica√ß√£o priorit√°ria, suplementar blocos, desacoplar blocos, verificar esses blocos etc. <br><br>  O terceiro m√≥dulo √© chamado EVM (m√°quina virtual Ethereum) - essa √© a m√°quina virtual que aceita c√≥digo de bytes da transa√ß√£o Ethereum.  Este m√≥dulo pega o estado atual de uma conta espec√≠fica e faz altera√ß√µes em seu status com base no bytecode recebido.  A vers√£o da m√°quina virtual em cada um dos n√≥s da rede deve ser a mesma.  Os c√°lculos em cada um dos n√≥s do Ethereum s√£o exatamente os mesmos, mas ocorrem em uma ordem ass√≠ncrona: algu√©m verifica e aceita essa transa√ß√£o anteriormente, ou seja, executa todo o c√≥digo contido nela e depois algu√©m.  Assim, ao criar uma transa√ß√£o, ela se espalha para a rede, os n√≥s a aceitam e no momento da verifica√ß√£o, assim como o Bitcoin Script √© executado no Bitcoin, o c√≥digo de bytes da m√°quina virtual √© executado aqui. <br><br>  Uma transa√ß√£o √© considerada verificada se todo o c√≥digo contido nela foi executado, um novo estado para uma conta espec√≠fica foi gerado e salvo at√© ficar claro se essa transa√ß√£o foi aplicada ou n√£o.  Se a transa√ß√£o for aplicada, esse estado ser√° considerado n√£o apenas conclu√≠do, mas j√° relevante.  H√° um banco de dados que armazena o status de cada conta para cada host.  Como todos os c√°lculos ocorrem da mesma maneira e o estado da blockchain √© o mesmo, o banco de dados que cont√©m o status de todas as contas tamb√©m ser√° o mesmo para cada n√≥. <br><br><h2>  <b>Mitos e limita√ß√µes dos contratos inteligentes</b> </h2><br>  Quanto √†s restri√ß√µes existentes para plataformas de contratos inteligentes do tipo Ethereum, pode-se citar o seguinte: <br><br><ul><li>  execu√ß√£o de c√≥digo; </li><li>  alocar mem√≥ria; </li><li>  dados de blockchain; </li><li>  enviar pagamentos; </li><li>  criar novo contrato; </li><li>  chamar outros contratos. </li></ul><br>  Vamos examinar as restri√ß√µes impostas a uma m√°quina virtual e, consequentemente, dissipar alguns mitos sobre contratos inteligentes.  Em uma m√°quina virtual, que pode estar n√£o apenas no Ethereum, mas tamb√©m em plataformas similares, voc√™ pode executar opera√ß√µes l√≥gicas verdadeiramente arbitr√°rias, ou seja, escrever c√≥digo e ele ser√° executado l√°, al√©m de poder alocar mem√≥ria.  No entanto, a comiss√£o √© paga separadamente por cada opera√ß√£o e por cada unidade de mem√≥ria alocada adicionalmente. <br><br>  Al√©m disso, a m√°quina virtual pode ler dados do banco de dados blockchain para usar esses dados como um gatilho para executar uma ou outra l√≥gica dos contratos inteligentes.  Uma m√°quina virtual pode criar e enviar transa√ß√µes, pode criar novos contratos e chamar m√©todos de outros contratos inteligentes j√° publicados na rede: existem, dispon√≠veis, etc. <br><br>  O mito mais comum √© que os contratos inteligentes da Ethereum podem usar informa√ß√µes de qualquer recurso da Internet em suas pr√≥prias condi√ß√µes.  A verdade √© que a m√°quina virtual n√£o pode enviar uma solicita√ß√£o de rede para algum recurso externo de informa√ß√£o na Internet, ou seja, √© imposs√≠vel escrever um contrato t√£o inteligente que distribua o valor entre os usu√°rios, dependendo da temperatura da rua ou que venceu em algum campeonato ou com base em outro incidente ocorrido no mundo exterior, porque as informa√ß√µes sobre esses incidentes simplesmente n√£o est√£o no banco de dados da plataforma em si.  Ou seja, n√£o h√° nada no blockchain sobre isso.  Se n√£o aparecer l√°, a m√°quina virtual n√£o poder√° usar esses dados como gatilhos. <br><br><h2>  <b>Desvantagens do Ethereum</b> </h2><br>  Vamos listar os principais.  A primeira desvantagem √© que existem algumas dificuldades em projetar, desenvolver e testar contratos inteligentes no Ethereum (o Ethereum usa a linguagem Solidity para escrever contratos inteligentes).  De fato, a pr√°tica mostra que uma porcentagem muito grande de todos os erros pertence ao fator humano.  Isso √© realmente verdade para os contratos inteligentes j√° escritos da Ethereum, que t√™m uma complexidade de m√©dio ou superior.  Se para contratos inteligentes simples a probabilidade de erro √© pequena, em contratos inteligentes complexos muitas vezes ocorrem erros que levam ao roubo de fundos, ao seu congelamento, √† destrui√ß√£o de contratos inteligentes de maneira inesperada etc. Muitos desses casos j√° s√£o conhecidos. <br><br>  A segunda desvantagem √© que a pr√≥pria m√°quina virtual n√£o √© perfeita, pois tamb√©m √© escrita por pessoas.  Ele pode executar comandos arbitr√°rios e isso √© uma vulnerabilidade: v√°rios comandos podem ser configurados de uma certa maneira, o que levar√° a consequ√™ncias imprevis√≠veis.  Essa √© uma √°rea muito complexa, mas j√° existem v√°rios estudos que mostram que essas vulnerabilidades existem na vers√£o atual da rede Ethereum e podem levar √† falha de muitos contratos inteligentes. <br><br>  Outra grande dificuldade, pode ser considerada uma desvantagem.  Consiste no fato de que √© poss√≠vel, de maneira pr√°tica ou t√©cnica, concluir que, se voc√™ compilar o c√≥digo de bytes do contrato que ser√° executado na m√°quina virtual, poder√° determinar uma ordem espec√≠fica de opera√ß√µes.  Quando executadas em conjunto, essas opera√ß√µes carregam muito a m√°quina virtual e a desaceleram desproporcionalmente √† comiss√£o paga por essas opera√ß√µes. <br><br>  No passado, j√° havia um per√≠odo de desenvolvimento do Ethereum, quando muitos caras que entenderam em detalhes a opera√ß√£o da m√°quina virtual encontraram essas vulnerabilidades.  De fato, as transa√ß√µes pagaram uma comiss√£o muito pequena, mas praticamente desaceleraram toda a rede.  Esses problemas s√£o muito dif√≠ceis de resolver, porque voc√™ precisa determin√°-los, em segundo lugar, ajustar o pre√ßo para executar essas opera√ß√µes e, em terceiro lugar, realizar um garfo r√≠gido, o que significa atualizar todos os n√≥s da rede para uma nova vers√£o do software e, em seguida, ativa√ß√£o simult√¢nea dessas altera√ß√µes. <br><br>  Quanto ao Ethereum, muita pesquisa foi realizada, muita experi√™ncia pr√°tica foi obtida: positiva e negativa, mas, no entanto, ainda existem dificuldades e vulnerabilidades que ainda precisam ser combatidas de alguma forma. <br><br>  Assim, como a parte tem√°tica do artigo est√° conclu√≠da, passamos √†s perguntas que surgem com bastante frequ√™ncia. <br><br><h2>  <b>Perguntas frequentes</b> </h2><br>  <i>- Se todas as partes do contrato inteligente atual desejarem alterar os termos, poder√£o cancelar esse contrato inteligente usando v√°rias assinaturas e criar um novo contrato inteligente com condi√ß√µes atualizadas para sua implementa√ß√£o?</i> <br><br>  Aqui a resposta ser√° dupla.  Porque  Como, por um lado, um contrato inteligente √© definido uma vez e n√£o implica em altera√ß√µes; por outro, pode ter uma l√≥gica predefinida que permita uma altera√ß√£o completa ou parcial em algumas condi√ß√µes.  Ou seja, se voc√™ deseja alterar algo em seu contrato inteligente, deve prescrever as condi√ß√µes sob as quais voc√™ pode atualizar essas condi√ß√µes.  Assim, √© apenas de maneira prudente que a renova√ß√£o do contrato pode ser organizada.  Mas tamb√©m aqui voc√™ pode ter problemas: cometer algum tipo de erro e obter a vulnerabilidade correspondente.  Portanto, essas coisas precisam ser muito detalhadas, bem projetadas e testadas. <br><br>  <i>- E se o mediador entrar em conspira√ß√£o com uma das partes envolvidas: cust√≥dia ou contrato inteligente?</i>  <i>√â necess√°rio um mediador em um contrato inteligente?</i> <br><br>  Um mediador n√£o √© necess√°rio em um contrato inteligente.  Pode n√£o ser.  Se, no caso de cust√≥dia, o mediador entrar em conspira√ß√£o de uma das partes, sim, esse esquema perder√° drasticamente todo o seu valor.  Portanto, os mediadores s√£o escolhidos de maneira a serem confi√°veis ‚Äã‚Äãao mesmo tempo por todas as partes envolvidas nesse processo.  Dessa forma, voc√™ simplesmente n√£o transferir√° moedas para um endere√ßo de multi-assinatura com o mediador em que voc√™ n√£o confia. <br><br>  <i>- √â poss√≠vel transferir muitos tokens diferentes de um endere√ßo para diferentes endere√ßos de destino, por exemplo, endere√ßos de troca, onde esses tokens s√£o negociados em uma transa√ß√£o Ethereum?</i> <br><br>  Esta √© uma boa pergunta e diz respeito ao modelo de transa√ß√£o Ethereum e suas diferen√ßas em rela√ß√£o ao modelo Bitcoin.  E a diferen√ßa √© dram√°tica.  Se no modelo de transa√ß√£o Ethereum voc√™ simplesmente transferir moedas, elas ser√£o transferidas apenas de um endere√ßo para outro, sem altera√ß√£o, apenas a quantia espec√≠fica que voc√™ especificou.  Em outras palavras, esse n√£o √© um modelo de resultados n√£o gastos (UTXO), mas um modelo de contas e saldos correspondentes.  Teoricamente, √© poss√≠vel enviar v√°rios tokens diferentes ao mesmo tempo com uma transa√ß√£o, se voc√™ escrever um contrato inteligente complicado, mas ainda precisar fazer muitas transa√ß√µes, criar um contrato, transferir tokens e moedas para ele e chamar o m√©todo apropriado.  Isso requer esfor√ßo e tempo, respectivamente, na pr√°tica, n√£o funciona assim e todos os pagamentos no Ethereum s√£o feitos em transa√ß√µes separadas. <br><br>  <i>- Um dos mitos sobre a plataforma Ethereum √© que √© imposs√≠vel descrever condi√ß√µes que depender√£o dos dados de um recurso externo da Internet, e ent√£o?</i> <br><br>  A solu√ß√£o √© que o pr√≥prio contrato inteligente possa incluir um ou mais chamados or√°culos confi√°veis ‚Äã‚Äãque coletam dados sobre o estado das coisas no mundo exterior e os transferem para contratos inteligentes por m√©todos especiais.  O pr√≥prio contrato considera os dados que recebeu de partes confi√°veis ‚Äã‚Äãcomo verdadeiros.  Para maior confiabilidade, eles simplesmente selecionam um grande grupo de or√°culos e minimizam o risco de conluio.  O contrato em si n√£o pode levar em considera√ß√£o dados de or√°culos que contradizem a maioria. <br><br>  Este t√≥pico √© abordado em uma das palestras do curso online Blockchain - " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Introdu√ß√£o aos contratos inteligentes</a> ". </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt413231/">https://habr.com/ru/post/pt413231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt413221/index.html">Bact√©rias sobrevivem em uma "sala limpa" durante a montagem da sonda, comendo produtos de limpeza</a></li>
<li><a href="../pt413223/index.html">Dicion√°rio Habra. Parte 1</a></li>
<li><a href="../pt413225/index.html">Semana 20 de Seguran√ßa: ataques cibern√©ticos n√£o triviais</a></li>
<li><a href="../pt413227/index.html">O que √© deus em roupas</a></li>
<li><a href="../pt413229/index.html">Crie o Caffe no Google Colaboratory: placa gr√°fica gratuita na nuvem</a></li>
<li><a href="../pt413233/index.html">O servi√ßo uLogin envia dados de formul√°rios (correio, telefone) para um site de terceiros e fica em sil√™ncio quanto a isso</a></li>
<li><a href="../pt413235/index.html">Apostando em melhores previs√µes: nova matem√°tica das previs√µes meteorol√≥gicas</a></li>
<li><a href="../pt413237/index.html">O Facebook nega enviar aos fabricantes de dispositivos os mesmos dados que o desenvolvedor Alexander Kogan</a></li>
<li><a href="../pt413239/index.html">Como tornar um smartphone um pouco mais burro</a></li>
<li><a href="../pt413241/index.html">Interceptando fun√ß√µes no kernel do Linux usando o ftrace</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>