<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘©ğŸ» ğŸ‘ğŸ» ğŸ”¢ æˆ‘ä»¬å¦‚ä½•åœ¨Bitrix24ä¸­ä¸ºä¸šåŠ¡æµç¨‹è®¾ç½®è¿ç§» ğŸ£ ğŸ‘©â€â¤ï¸â€ğŸ‘© âœ‹ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä¸ºäº†ä½¿ä»–ä»¬çš„æ“ä½œè‡ªåŠ¨åŒ–ï¼Œä¼ä¸šç»å¸¸ä½¿ç”¨Bitrix24ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†æ›´æ”¹ä¸šåŠ¡æµç¨‹æ—¶å¯èƒ½å‡ºç°çš„ä¸€äº›é—®é¢˜ä»¥åŠæˆ‘ä»¬å¦‚ä½•è§£å†³å®ƒä»¬ã€‚ 



 Bitrix24æ˜¯å¸¸è§çš„CRMç³»ç»Ÿä¹‹ä¸€ã€‚ å®ƒåŒ…æ‹¬ç”¨äºæ„å»ºä¸šåŠ¡æµç¨‹å›¾çš„å¯è§†è®¾è®¡å™¨ï¼ˆè®¾è®¡å¸ˆï¼‰ã€‚ é‡è¦çš„æ˜¯è¦è®°ä½ï¼Œåœ¨ç¼–è¾‘è¿™äº›è¿‡ç¨‹æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°å›°éš¾-ç‰¹åˆ«æ˜¯åœ¨å¤§å‹ç°æœ‰...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æˆ‘ä»¬å¦‚ä½•åœ¨Bitrix24ä¸­ä¸ºä¸šåŠ¡æµç¨‹è®¾ç½®è¿ç§»</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/simbirsoft/blog/466823/"> ä¸ºäº†ä½¿ä»–ä»¬çš„æ“ä½œè‡ªåŠ¨åŒ–ï¼Œä¼ä¸šç»å¸¸ä½¿ç”¨Bitrix24ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†æ›´æ”¹ä¸šåŠ¡æµç¨‹æ—¶å¯èƒ½å‡ºç°çš„ä¸€äº›é—®é¢˜ä»¥åŠæˆ‘ä»¬å¦‚ä½•è§£å†³å®ƒä»¬ã€‚ <br><br><img src="https://habrastorage.org/webt/fx/-p/sj/fx-psjbms29rlcnbbytsumkgw0y.jpeg"><br><a name="habracut"></a><br>  Bitrix24æ˜¯å¸¸è§çš„CRMç³»ç»Ÿä¹‹ä¸€ã€‚ å®ƒåŒ…æ‹¬ç”¨äºæ„å»ºä¸šåŠ¡æµç¨‹å›¾çš„å¯è§†è®¾è®¡å™¨ï¼ˆè®¾è®¡å¸ˆï¼‰ã€‚ é‡è¦çš„æ˜¯è¦è®°ä½ï¼Œåœ¨ç¼–è¾‘è¿™äº›è¿‡ç¨‹æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°å›°éš¾-ç‰¹åˆ«æ˜¯åœ¨å¤§å‹ç°æœ‰é¡¹ç›®ä¸­ï¼Œé¦–å…ˆåœ¨æœ¬åœ°å’Œæµ‹è¯•æœåŠ¡å™¨ä¸Šæ£€æŸ¥æ‰€æœ‰æ›´æ”¹ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“è½¬ç§»åˆ°ç”Ÿäº§ä¸­æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸šåŠ¡æµç¨‹è¿ç§»æœºåˆ¶ï¼ˆä»¥ä¸‹ç®€ç§°BPï¼‰ã€‚ <br><br> é€šå¸¸ï¼Œå°å…¬å¸å¯ä»¥ä¸è¿›è¡Œè¿ç§»è€Œä»…å°†ç‰¹å®šçš„ä¸šåŠ¡æµç¨‹æš‚åœ2-3å¤©ã€‚ å¤§å‹ä¼ä¸šé€šå¸¸ä¹°ä¸èµ·å®ƒï¼Œå› æ­¤å®ƒä½¿ç”¨æµ‹è¯•æœåŠ¡å™¨å’Œéƒ¨ç½²ã€‚ <br><br><img src="https://habrastorage.org/webt/bc/-9/2z/bc-92zo3_pb_lszqvilcyr8ifvc.png"><br><br>  <i>Bitrix24å…³äºä¸šåŠ¡æµç¨‹æ¨¡æ¿å¦‚ä½•<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å·¥ä½œ</a></i> <br><br> è¿ç§»å·¥ä½œæœ‰å…¶è‡ªèº«çš„ç‰¹ç‚¹ã€‚ å°¤å…¶æ˜¯ï¼Œç”±äºæ¶‰åŠçš„å¯¹è±¡å’ŒIDä¼—å¤šï¼Œå› æ­¤å˜å¾—å¾ˆå¤æ‚ã€‚ æ­¤å¤–ï¼ŒBitrix24è¿˜ä¸æä¾›ä¸šåŠ¡æµç¨‹çš„è¿ç§»-é€šå¸¸é€šè¿‡å¯¼å…¥å’Œå¯¼å‡ºè§£å†³æ­¤é—®é¢˜ï¼Œå¹¶ä¸”å¯èƒ½å­˜åœ¨å„ç§ä¸ä¸€è‡´ä¹‹å¤„ã€‚ è®©æˆ‘ä»¬ä»å¼€å‘çš„è§’åº¦è€ƒè™‘å“ªäº›é—®é¢˜åŒæ—¶å­˜åœ¨ã€‚ <br><br><h2> æŸ¥æ‰¾ä¸šåŠ¡æµç¨‹æ¨¡æ¿æ—¶é‡åˆ°é—®é¢˜ </h2><br> åˆ›å»ºä¸šåŠ¡æµç¨‹æ—¶ï¼Œåªèƒ½ä¸ºæ¨¡æ¿åˆ†é…åç§°ï¼Œè€Œä¸èƒ½ä¸ºå”¯ä¸€ä»£ç åˆ†é…åç§°ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ›´æ–°ä¸šåŠ¡æµç¨‹æ—¶ï¼Œå¿…é¡»æŒ‰åç§°ä»æ•°æ®åº“ä¸­è·å–å®ƒã€‚ åç§°æœ‰æ—¶ä¼šæ›´æ”¹ï¼Œå› ä¸ºç³»ç»Ÿåœ¨å¯åŠ¨æ—¶ä¼šä½¿ç”¨å®ƒä»¬æ˜¾ç¤ºåœ¨è¿›ç¨‹åˆ—è¡¨ä¸­ã€‚ å› æ­¤ï¼Œåœ¨å‡çº§è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæ‰¾ä¸åˆ°æ¨¡æ¿ã€‚ é€šå¸¸ï¼ŒæŒ‰åç§°æœç´¢å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚ <br><br>  <b>è§£å†³æ–¹æ¡ˆï¼š</b> <br><br> ç³»ç»Ÿä¸­åˆ›å»ºçš„æ‰€æœ‰ä¸šåŠ¡æµç¨‹æ¨¡æ¿éƒ½å­˜å‚¨åœ¨b_bp_workflow_templateè¡¨ä¸­ã€‚ æ‰“å¼€è¡¨åï¼Œåœ¨å­—æ®µä¸­å¯ä»¥çœ‹åˆ°SYSTEM_CODEï¼šæœ‰ä¸€ä¸ªä»£ç å­—æ®µï¼Œå®ƒæ ¹æœ¬ä¸ä¼šè¾“å‡ºåˆ°æ¥å£ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡æ¿IDè‡ªå·±è®¾ç½®ä»£ç -å¯ä»¥åœ¨æµç¨‹ç¼–è¾‘é¡µé¢çš„urlä¸­çœ‹åˆ°å®ƒï¼š <br><br><img src="https://habrastorage.org/webt/4j/x2/re/4jx2redv2qt5vecw6aulrikvvmc.png"><br><br> æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå‡½æ•°ä»¥è·å–æ¨¡æ¿å’Œä»£ç çš„IDï¼Œæ£€æŸ¥è¦æ›´æ”¹çš„æ¨¡æ¿çš„é‡å¤æ€§å’Œå­—æ®µçš„å®Œæ•´æ€§ï¼Œå¹¶è®¾ç½®å…¶ä»£ç ã€‚ <br><br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Bitrix</span></span>\<span class="hljs-title"><span class="hljs-title">Main</span></span>\<span class="hljs-title"><span class="hljs-title">Loader</span></span>; Loader::includeModule(<span class="hljs-string"><span class="hljs-string">"bizproc"</span></span>); $BPloader = CBPWorkflowTemplateLoader::GetLoader(); <span class="hljs-comment"><span class="hljs-comment">// set template CODE field setTemplateCode ($BPloader, 'TEST', '94' ); function setTemplateCode($BPloader, $code, $tempalteId) { if (isCodeExists($BPloader, $code)) { die('   '); } if (!isCodeEmpty($BPloader, $tempalteId)) { die('     ') } $BPloader-&gt;UpdateTemplate($tempalteId, ['SYSTEM_CODE' =&gt; $code]); } // check if $code exists in DB function isCodeExists($BPloader, string $code) { $dbRes = $BPloader-&gt;GetTemplatesList( $arOrder = ['ID' =&gt; 'DESC'], $arFilter = ['CODE' =&gt; $code], $arGroupBy = false, $arNavStartParams = false, $arSelectFields = ['ID'] ); if (intval($dbRes-&gt;SelectedRowsCount()) &gt; 0) { return true; } return false; } // check if the template code is not empty function isCodeEmpty($BPloader, $tempalteId) { $dbRes = $BPloader-&gt;GetTemplatesList( $arOrder = ['ID' =&gt; 'DESC'], $arFilter = ['CODE' =&gt; '', 'ID' =&gt; $tempalteId], $arGroupBy = false, $arNavStartParams = false, $arSelectFields = ['ID'] ); if (intval($dbRes-&gt;SelectedRowsCount()) &gt; 0) { return false; } return true; } return true; }</span></span></code> </pre> <br> æ¥å§ ä¾‹å¦‚ï¼Œåœ¨åˆ—è¡¨ä¸Šåˆ›å»ºä¸€ä¸ªæµ‹è¯•ä¸šåŠ¡æµç¨‹ï¼š <br><br><img src="https://habrastorage.org/webt/k4/z-/qc/k4z-qcs92cs5g7xcoiyf4dozfs0.png"><br><br> è¦å°†æœ¬åœ°å¼€å‘çš„æµç¨‹è½¬ç§»åˆ°æµ‹è¯•æœåŠ¡å™¨ï¼ˆç„¶åè½¬ç§»åˆ°ç”Ÿäº§ï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿ç§»æœºåˆ¶ã€‚ <br><br>  Bitrix24å…è®¸æ‚¨å¯¼å‡ºä¸šåŠ¡æµç¨‹ã€‚ æˆ‘ä»¬å°†åˆ©ç”¨è¿™ä¸ªæœºä¼šã€‚ <br><br><img src="https://habrastorage.org/webt/0x/ew/1c/0xew1cwrivumtl94pxwpfqvycoy.png"><br><br> ä¼ è¾“æ–¹æ¡ˆå¦‚ä¸‹ï¼š <br><br><ul><li> å¯¼å‡ºä¸šåŠ¡æµç¨‹ </li><li> æˆ‘ä»¬å†™è¿ç§»ï¼Œé™„åŠ æ–‡ä»¶ </li><li> åœ¨æ–°çš„å±•å°ï¼Œæˆ‘ä»¬å¤‡ä»½äº†æ—§æµç¨‹ </li><li> åº”ç”¨è¿ç§» </li></ul><br> æ¥ä¸‹æ¥ï¼Œè€ƒè™‘è¯¥è¿‡ç¨‹å¦‚ä½•å‘ç”Ÿã€‚ <br><br><h2> åˆ›å»ºè¿ç§» </h2><br> æˆ‘ä»¬å°†ä½¿ç”¨æ¥è‡ªå¸‚åœºçš„è¿ç§»æ¨¡å—ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">//marketplace.1c-bitrix.ru/solutions/ws.migrations/</a> ã€‚ <br><br> æˆ‘ä»¬é¡¹ç›®ä¸­çš„è¿ç§»æ–‡ä»¶ä½äº<b>æœ¬åœ°/è¿ç§»/æ–¹æ¡ˆä¸­</b> <b><br></b> <br><br><img src="https://habrastorage.org/webt/dp/pr/g1/dpprg1qs2z8qe_3i03xq87oo1xs.png"><br><br> æ‰“å¼€æµç¨‹æ¨¡æ¿é¡µé¢å¹¶å¯¼å‡ºã€‚ åœ¨è¿ç§»ç›®å½•ä¸­ï¼Œåˆ›å»ºæ–‡ä»¶ç›®å½•ï¼Œå¹¶å°†å¯¼å‡ºçš„æ–‡ä»¶æ”¾åœ¨æ­¤å¤„ã€‚ åŸæ¥æ˜¯è¿™æ ·çš„ï¼š <br><br>  <b>æœ¬åœ°/è¿ç§»/æ–¹æ¡ˆ/æ–‡ä»¶/ bp-94.bpt</b> <br><br> åˆ›å»ºè¿ç§»æ–¹æ¡ˆï¼š <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ws_m_1565783124_approve_task</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WS</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Migrations</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScriptScenario</span></span></span><span class="hljs-class"> </span></span>{</code> </pre> <br> å®šä¹‰ä¸šåŠ¡æµç¨‹æ¨¡æ¿çš„å‚æ•°ï¼š <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ws_m_1565783124_approve_task</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WS</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Migrations</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScriptScenario</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $arBPFields = [ <span class="hljs-string"><span class="hljs-string">'DOCUMENT_TYPE'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'lists'</span></span>, <span class="hljs-string"><span class="hljs-string">'BizprocDocument'</span></span>, <span class="hljs-string"><span class="hljs-string">'iblock_'</span></span> ], <span class="hljs-string"><span class="hljs-string">'AUTO_EXECUTE'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'NAME'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'CODE'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'TEST'</span></span>, ];</code> </pre> <br> æˆ‘ä»¬å®ç°ä¸šåŠ¡æµç¨‹çš„å¯¼å…¥åŠŸèƒ½ï¼š <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">importBP</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($path)</span></span></span><span class="hljs-function"> </span></span>{ CModule::IncludeModule(<span class="hljs-string"><span class="hljs-string">'bizproc'</span></span>); CModule::IncludeModule(<span class="hljs-string"><span class="hljs-string">'iblock'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//Get iBlock id for which BP is created $this-&gt;arBPFields['DOCUMENT_TYPE'][2] .= $this-&gt;getIblockId(); // Get BP id by the CODE $result = \CBPWorkflowTemplateLoader::GetList( [], [ 'CODE' =&gt; $this-&gt;arBPFields['CODE'], 'MODULE_ID' =&gt; 'lists' ] ); if ($arFields = $result-&gt;GetNext()) { $id = $arFields['ID']; } else { $id = 0; } //read file to a variable $f = fopen($path, 'rb'); $datum = fread($f, filesize($path)); fclose($f); //Update BP if id&gt;0, otherwise add BP \CBPWorkflowTemplateLoader::ImportTemplate( $id, $this-&gt;arBPFields['DOCUMENT_TYPE'], $this-&gt;arBPFields['AUTO_EXECUTE'], $this-&gt;arBPFields['NAME'], '', $datum, $this-&gt;arBPFields['CODE'] ); return $arFields['ID']; }</span></span></code> </pre><br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é¦–å…ˆç¡®å®šè¦ä¸ºå…¶åº”ç”¨æµç¨‹çš„ä¿¡æ¯å—çš„IDï¼Œç„¶åä½¿ç”¨ç»™å®šçš„ä»£ç è·å–æµç¨‹æ¨¡æ¿çš„IDã€‚ <br><br> å¦‚æœæ‰¾åˆ°æ¨¡æ¿ï¼Œæˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œæ›´æ–°ã€‚ å¦‚æœæ‰¾ä¸åˆ°-æ·»åŠ ã€‚ <br> è¯¥å‡½æ•°è¿”å›åˆ›å»ºæˆ–æ›´æ–°çš„è¿›ç¨‹çš„IDä»¥åŠæ‰€éœ€çš„ä¿¡æ¯-æˆ‘ä»¬å°†è¿›ä¸€æ­¥è¯´æ˜ã€‚ <br><br> æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæäº¤å‡½æ•°ï¼Œå®ƒå°†æ·»åŠ /æ›´æ–°æˆ‘ä»¬çš„ä¸šåŠ¡æµç¨‹ï¼š <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">commit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $pathBPElement = <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/files/bp-94-approve-task.bpt'</span></span>; $id = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;importBP($pathBPElement); }</code> </pre> <br> å› æ­¤ï¼Œåœ¨æ­¤æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿé€šè¿‡è¿ç§»æ¨¡å—åˆ›å»ºå’Œæ›´æ–°ç‰¹å®šçš„ä¸šåŠ¡æµç¨‹ã€‚ <br><br><h2> æ›´æ–°æ¨¡æ¿æ•°æ®æ—¶å‡ºç°é—®é¢˜ </h2><br> è®©æˆ‘ä»¬å›åˆ°ä¸šåŠ¡æµç¨‹å¹¶åœ¨å…¶ä¸­æ·»åŠ æ“ä½œ-ç”¨æˆ·é€šçŸ¥ã€‚ <br><br><img src="https://habrastorage.org/webt/tf/m0/8k/tfm08kk36ju3xtaonop4vjpr3lo.png"><br><br> ä½œä¸ºå‘é€è€…ï¼Œæˆ‘ä»¬é€‰æ‹©ä½œè€…ã€‚ æ”¶ä»¶äººå°†ï¼š <br><br><ul><li> äººåŠ›èµ„æºç”¨æˆ·ç»„ </li><li> ç”¨æˆ·Svetlana Kuznetsova </li></ul><br> ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹ä¸šåŠ¡æµç¨‹å¦‚ä½•è®°å½•åœ¨æ•°æ®åº“ä¸­ã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨ç®¡ç†é¢æ¿çš„PHPæ§åˆ¶å°ä¸­è·å–å¹¶æ‰“å°æ¨¡æ¿ï¼š <br><br><img src="https://habrastorage.org/webt/yi/ug/nx/yiugnxm3nbaflnr1_syuq9_3ljm.png"><br><br><pre> <code class="php hljs">$arFieldsTemplate = \CBPWorkflowTemplateLoader::GetList([], [<span class="hljs-string"><span class="hljs-string">'ID'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">94</span></span>])-&gt;GetNext(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;pre&gt;'</span></span>; var_dump($arFieldsTemplate);</code> </pre> <br><br> åœ¨è¿‡ç¨‹å‚æ•°æ•°ç»„ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä»¥ä¸‹æƒ…å†µï¼š <br><br><img src="https://habrastorage.org/webt/w6/wm/wb/w6wmwbgunucvakqyk_1skuvqwqa.png"><br><br> æˆ‘ä»¬çœ‹ä¸€ä¸‹group_g15è¡Œã€‚  15æ˜¯äººåŠ›èµ„æºç»„IDã€‚ <br> æˆ‘ä»¬çœ‹ä¸€è¡Œuser_579ã€‚  579æ˜¯ç”¨æˆ·IDã€‚ <br><br> è¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å¦ä¸€ä¸ªç«™ç‚¹ä¸Šå¯¼å…¥è¯¥æµç¨‹ï¼Œåˆ™ä¼šäº§ç”ŸæŒç»­çš„ä¸ä¸€è‡´ã€‚ <br><br>  T.O. åœ¨å°†è¿™äº›IDè¿ç§»åˆ°ä¸æˆ‘ä»¬è¦å¯¼å…¥æµç¨‹çš„ç½‘ç«™ç›¸å…³çš„IDåï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ›¿æ¢ã€‚ <br><br> ç»„é€šè¿‡ç¬¦å·ä»£ç æ ‡è¯†ï¼Œç”¨æˆ·é€šè¿‡ç™»å½•æ ‡è¯†ã€‚ <br><br> é¦–å…ˆï¼Œåœ¨åˆ›å»ºè¿‡ç¨‹çš„ç«™ç‚¹ä¸Šï¼Œæˆ‘ä»¬è·å¾—äº†ç»„çš„ç¬¦å·ä»£ç å’Œç”¨æˆ·ç™»å½•åã€‚ å¦‚æœæ‚¨æ²¡æœ‰è®¾ç½®ç¬¦å·ç»„ä»£ç ï¼Œæœ€å¥½ç¼–å†™è¿ç§»å¹¶å…ˆå®‰è£…å®ƒä»¬ã€‚ <br><br> åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼š <br><br><ul><li> ç»„ä»£ç -äººåŠ›èµ„æº </li><li> ç”¨æˆ·ç™»å½•-svetlana.kuznetsova </li></ul><br> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç¼–å†™è¿ç§»å‡½æ•°ï¼Œé€šè¿‡ä»£ç å’Œç™»å½•ï¼Œå°†ä¸ºæˆ‘ä»¬æä¾›ç»„å’Œç”¨æˆ·çš„IDï¼š <br><br><ul><li>  getUserIdï¼ˆ$ç™»å½•åï¼‰ </li><li>  getGroupIdï¼ˆ$ä»£ç ï¼‰; </li></ul><br> æœ€åï¼Œæ›´æ–°æ¨¡æ¿ä¸­çš„é€‚å½“å€¼ï¼š <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Write action by apply scenario. Use method `setData` for save need rollback data **/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">commit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{</code> </pre> <br><br> å¯¼å…¥ä¸šåŠ¡æµç¨‹ï¼š <br><br><pre> <code class="php hljs">$pathBPElement = <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/files/bp-94-approve-task.bpt'</span></span>; $id = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;importBP($pathBPElement);</code> </pre> <br><br> æˆ‘ä»¬å¾—åˆ°æ¨¡æ¿æ•°æ®ï¼š <br><br><pre> <code class="php hljs">$arFieldsTemplate = \CBPWorkflowTemplateLoader::GetList([], [<span class="hljs-string"><span class="hljs-string">'ID'</span></span> =&gt; $id])-&gt;GetNext(); $template = $arFieldsTemplate[<span class="hljs-string"><span class="hljs-string">"TEMPLATE"</span></span>];</code> </pre> <br><br> åœ¨ä¸šåŠ¡æµç¨‹ä¸­æ›¿æ¢ç”¨æˆ·æ ‡è¯†ï¼š <br><br><pre> <code class="php hljs">$template[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'Children'</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'Properties'</span></span>][<span class="hljs-string"><span class="hljs-string">"MessageUserTo"</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-string"><span class="hljs-string">'group_g'</span></span> . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getGroupId(<span class="hljs-string"><span class="hljs-string">'HR'</span></span>); $template[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'Children'</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'Properties'</span></span>][<span class="hljs-string"><span class="hljs-string">"MessageUserTo"</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-string"><span class="hljs-string">'user_'</span></span> . <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getUserId(<span class="hljs-string"><span class="hljs-string">'svetlana.kuznetsova'</span></span>); $arNewFields = [ â€œTEMPLATEâ€ =&gt; $template, â€œVARIABLESâ€ =&gt; $arFieldsTemplate[<span class="hljs-string"><span class="hljs-string">"VARIABLES"</span></span>] ]; $arNewFields[<span class="hljs-string"><span class="hljs-string">"MODIFIER_USER"</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \CBPWorkflowTemplateUser(CBPWorkflowTemplateUser::CurrentUser); \CBPWorkflowTemplateLoader::Update($id, $arNewFields); }</code> </pre><br> åœ¨è¿™é‡Œï¼Œå¼€å§‹è¿ç§»æ—¶ï¼Œæˆ‘ä»¬ä¸Šä¼ æ–‡ä»¶å¹¶ä½¿ç”¨importBPå‡½æ•°åˆ›å»º/æ›´æ–°è¿‡ç¨‹ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¸šåŠ¡æµç¨‹æ¨¡æ¿çš„ç»“æ„æ”¾å…¥ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ›¿æ¢IDå¹¶æ›´æ–°æ¨¡æ¿ã€‚ <br><br><h2> æ€»ç»“ä¸€ä¸‹ </h2><br> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»…æ¶‰åŠäº†ç«™ç‚¹ä¹‹é—´ä¼ è¾“æœŸé—´å¯èƒ½å‘ç”Ÿä¸ä¸€è‡´çš„å‡ ç§æƒ…å†µï¼Œå¹¶æŒ‡å‡ºäº†è¦æŸ¥æ‰¾çš„å†…å®¹ã€‚ é€šå¸¸ï¼Œåœ¨æˆ‘ä»¬çš„å®è·µä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä»¥ä¸‹idç»‘å®šï¼š <br><br><ul><li>  user_ï¼ˆç»‘å®šåˆ°ç”¨æˆ·ï¼‰ </li><li>  group_ï¼ˆç»‘å®šåˆ°ç”¨æˆ·ç»„ï¼‰ </li><li>  iblock_ï¼ˆä¿¡æ¯å—ç»‘å®šï¼‰ </li><li>  SequentialWorkflowActivityï¼ˆä»æ¨¡æ¿å¯åŠ¨ä¸šåŠ¡æµç¨‹ï¼‰ </li><li>  PROPERTY_ï¼ˆç»‘å®šåˆ°å…·æœ‰æœªå®šä¹‰å­—ç¬¦ä»£ç çš„æ–‡æ¡£å­—æ®µï¼‰ </li></ul><br> å¦‚æœä¸€åˆ‡éƒ½æ­£ç¡®å®Œæˆï¼Œé‚£ä¹ˆè°ƒè¯•åçš„ä¸šåŠ¡æµç¨‹åˆ°ç”Ÿäº§çš„è½¬ç§»å°†è¿…é€Ÿè€Œé¡ºåˆ©ã€‚ <br><br> å¸Œæœ›æˆ‘ä»¬çš„ç»éªŒå¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼ <br><br><div class="spoiler">  <b class="spoiler_title">æ˜¾ç¤ºå®Œæ•´çš„ä¾‹å­</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Updates migration scenario actions **/</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ws_m_1565783124_approve_task</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WS</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Migrations</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScriptScenario</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $arBPFields = [ <span class="hljs-string"><span class="hljs-string">'DOCUMENT_TYPE'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'lists'</span></span>, <span class="hljs-string"><span class="hljs-string">'BizprocDocument'</span></span>, <span class="hljs-string"><span class="hljs-string">'iblock_'</span></span> ], <span class="hljs-string"><span class="hljs-string">'AUTO_EXECUTE'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'NAME'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'CODE'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'TEST'</span></span>, ]; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $codeIBlock = <span class="hljs-string"><span class="hljs-string">'APPROVE_TASK'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Name of scenario * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string **/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'approve task process'</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Description of scenario * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string **/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">description</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'process to approve task and set task deadline +14 days after approving'</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> array First element is hash, second is owner name */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">version</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-string"><span class="hljs-string">'13ebf9abe69204014459b80a7036b7a0'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>]; } <span class="hljs-comment"><span class="hljs-comment">/** * Return IBlock ID * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> int */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getIblockId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $result = CIBlock::GetList( [], [ <span class="hljs-string"><span class="hljs-string">'TYPE'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'bitrix_processes'</span></span>, <span class="hljs-string"><span class="hljs-string">'=CODE'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;codeIBlock ], <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, [<span class="hljs-string"><span class="hljs-string">'nTopCount'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>] ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($arIBlock = $result-&gt;Fetch()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $arIBlock[<span class="hljs-string"><span class="hljs-string">'ID'</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * Start import BP * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> $path * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> mixed */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">importBP</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($path)</span></span></span><span class="hljs-function"> </span></span>{ CModule::IncludeModule(<span class="hljs-string"><span class="hljs-string">'bizproc'</span></span>); CModule::IncludeModule(<span class="hljs-string"><span class="hljs-string">'iblock'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//Get iBlock id for which BP is created $this-&gt;arBPFields['DOCUMENT_TYPE'][2] .= $this-&gt;getIblockId(); // Get BP id by the CODE $result = \CBPWorkflowTemplateLoader::GetList( [], [ 'CODE' =&gt; $this-&gt;arBPFields['CODE'], 'MODULE_ID' =&gt; 'lists' ] ); if ($arFields = $result-&gt;GetNext()) { $id = $arFields['ID']; } else { $id = 0; } //read file to a variable $f = fopen($path, 'rb'); $datum = fread($f, filesize($path)); fclose($f); //Update BP if id&gt;0, otherwise add BP \CBPWorkflowTemplateLoader::ImportTemplate( $id, $this-&gt;arBPFields['DOCUMENT_TYPE'], $this-&gt;arBPFields['AUTO_EXECUTE'], $this-&gt;arBPFields['NAME'], '', $datum, $this-&gt;arBPFields['CODE'] ); return $arFields['ID']; } /** * @param $login * @return mixed */ private function getUserId($login) { $rsUsers = Bitrix\Main\UserTable::getList([ "select" =&gt;['ID'], "filter" =&gt; ['LOGIN' =&gt; $login], ]); $userFields = $rsUsers-&gt;fetch(); return $userFields['ID']; } /** * @param $code * @return mixed */ private function getGroupId($code) { $rsGroups = \Bitrix\Main\GroupTable::getList( [ 'filter' =&gt; ['STRING_ID'=&gt; 'HR'], 'select' =&gt; ['ID'] ]); $arFields = $rsGroups-&gt;fetch(); return $arFields['ID']; } /** * Write action by apply scenario. Use method `setData` for save need rollback data **/ public function commit() { //make BP import $pathBPElement = _DIR_ . '/files/bp-94-approve-task.bpt'; $id = $this-&gt;importBP($pathBPElement); //get template data $arFieldsTemplate = \CBPWorkflowTemplateLoader::GetList([], ['ID' =&gt; $id])-&gt;GetNext(); $template = $arFieldsTemplate['TEMPLATE']; //replace id inside BP tempalte $template[0]['Children'][0]['Properties']['MessageUserTo'][0] = 'group_g' . $this-&gt;getGroupId('HR'); $template[0]['Children'][0]['Properties']['MessageUserTo'][1] = 'user_' . $this-&gt;getUserId('svetlana.kuznetsova'); $arNewFields = [ 'TEMPLATE' =&gt; $template, 'VARIABLES' =&gt; $arFieldsTemplate['VARIABLES'] ]; $arNewFields['MODIFIER_USER'] = new CBPWorkflowTemplateUser(CBPWorkflowTemplateUser::CurrentUser); \CBPWorkflowTemplateLoader::Update($id, $arNewFields); } /** * Write action by rollback scenario. Use method `getData` for getting commit saved data **/ public function rollback() { $pathBPElement = _DIR_ . '/files/bp-wt-old.bpt'; $id = $this-&gt;importBP($pathBPElement); $arFieldsTemplate = \CBPWorkflowTemplateLoader::GetList([], ['ID' =&gt; $id])-&gt;GetNext(); $template = $arFieldsTemplate['TEMPLATE']; $arNewFields = [ 'TEMPLATE' =&gt; $template, 'VARIABLES' =&gt; $arFieldsTemplate['VARIABLES'] ]; $arNewFields['MODIFIER_USER'] = new CBPWorkflowTemplateUser(CBPWorkflowTemplateUser::CurrentUser); \CBPWorkflowTemplateLoader::Update($id, $arNewFields); } }</span></span></code> </pre> <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN466823/">https://habr.com/ru/post/zh-CN466823/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN466813/index.html">æ­£ç®—æœ¯ï¼šå…‹æœè‡ªå·±é¢†åŸŸä¸­çš„æµ®ç‚¹æ•°ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN466815/index.html">NEC HYDRAstor HS8æŠ€æœ¯æ¦‚è¿°ç­‰</a></li>
<li><a href="../zh-CN466817/index.html">Varoniså‘ç°äº†ä¸€ç§åŠ å¯†æŒ–çŸ¿ç—…æ¯’ï¼šæˆ‘ä»¬çš„è°ƒæŸ¥</a></li>
<li><a href="../zh-CN466819/index.html">åœ¨iOSä¸­å®æ–½ä¿ƒé”€ä¼˜æƒ ã€‚ å¦‚ä½•é€šè¿‡è®¢é˜…è·å¾—æ›´å¤šæ”¶å…¥ï¼Ÿ</a></li>
<li><a href="../zh-CN466821/index.html">ä»Amazon AWS Marketplaceå®‰è£…3CX</a></li>
<li><a href="../zh-CN466829/index.html">åœ¨Rä¸­ä½¿ç”¨bigint idçš„ä¸€äº›æ“ä½œ</a></li>
<li><a href="../zh-CN466831/index.html">å¼€å‘å•ç‰‡ç±»Unixæ“ä½œç³»ç»Ÿ-å †ï¼ˆ4ï¼‰</a></li>
<li><a href="../zh-CN466833/index.html">å…³äºTensorflow 2.0çš„é‡è¦æ³¨æ„äº‹é¡¹</a></li>
<li><a href="../zh-CN466837/index.html">å‘¨æœ«éª‘ç€å¸¦æœ‰ç‡ƒæ°”å‘ç”Ÿå™¨çš„ç”µåŠ¨è‡ªè¡Œè½¦</a></li>
<li><a href="../zh-CN466839/index.html">è¯ºé¡¿æŒ‡æŒ¥å®˜çš„åˆ›ä½œæ•…äº‹ã€‚ ç¬¬1/3éƒ¨åˆ†</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>