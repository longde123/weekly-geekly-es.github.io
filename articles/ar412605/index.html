<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คท๐ฝ ๐ฃ ๐ญ ูุนุฑูุฉ ููุฑุฌ. ููุงุฆุน ูุน ุงูุงุณุชูุชุงุฌุงุช ูุงูุฃุฎูุงู ๐ข๏ธ ๐จ๐พโ๐ง ๐ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุจู ุจุถุนุฉ ุฃุณุงุจูุน ูู ููุฑุฌุงู ุงูุงูุชุฒุงู ุงูููู - ุงูุฃุฎูุฑ ูุจู ุฅุตุฏุงุฑ feature freeze ูู PostgreSQL 11 - ุดุงูุฏุช ุงููุดุฑุงุช ุงูุฅุฎุจุงุฑูุฉ ูููุชุณูููู ุ ุงูุชู ุชุถุบุท ูุฌููุนุฉ ุงูุด...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุนุฑูุฉ ููุฑุฌ. ููุงุฆุน ูุน ุงูุงุณุชูุชุงุฌุงุช ูุงูุฃุฎูุงู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/412605/" style=";text-align:right;direction:rtl"> ูุจู ุจุถุนุฉ ุฃุณุงุจูุน ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฑุฌุงู ุงูุงูุชุฒุงู</a> ุงูููู - ุงูุฃุฎูุฑ ูุจู ุฅุตุฏุงุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>feature freeze</code></a> ูู <b>PostgreSQL 11</b> - ุดุงูุฏุช ุงููุดุฑุงุช ุงูุฅุฎุจุงุฑูุฉ <b>ูููุชุณูููู</b> ุ ุงูุชู ุชุถุบุท ูุฌููุนุฉ ุงูุดุฑุงุฆุญ ูู ุงูุญุฒูุฉ ุงููุณุฑู ุ ูููู <b>MERGE</b> .  ุญุงูู ูุฏูุฑ ุงูุฅุซุงุฑุฉ ูุงูุฑุฆูุณ ุงูุชูููุฐู ูุดุฑูุฉ <b>2ndQuadrant ุ <i>Simon Riggs</i></b> ุ ุฏูุน ุฑูุนุฉ ุชููุฐ ุจูุงุก ุฌููุฉ ุฃูุฑ MERGE <b>ุจูุซุงุจุฑุฉ ูุฅุจุฏุงุน</b> ูุซูุฑ ููุฅุนุฌุงุจ.  ูุงู ุฑูุฌุฒ ููุซููุง ููููุฏููุง ููุฐ ุนุงู 2009 ุ ููุน ูุถุน ุงูููุซู ุงูููููุฏู ููููู ุงูููุงููุฉ ุนูู ุงูุชุตุญูุญุงุช ุจููุณู.  ููุฏ ุนุงุฑุถุชู ูุฌุงู PostgreSQL ูุงููุญุงุฑุจูู ุงููุฏูุงุก ุงูุฃูู ุงุญุชุฑุงููุง.  ูุงูุช ุงูุนูุงุทู ุชุบูู ุจุดูู ูุงุถุญ ูุถููู ุ ูู ุชุตู ุญุชู ุฅูู ุงูุฅูุงูุงุช ุงููุจุงุดุฑุฉ - ููู ุญูููุฉ ููุงุฌุฆุฉ ูููุธุงูู ูู ุงูุนุฏูุฏ ูู ุงูููุชุฏูุงุช ุงููุญููุฉ.  ููุน ุฐูู ุ ุจูู ุจุนุถ ุงูุชูุชุฑ ุญุชู ุงูุขู ุนูุฏูุง ุชูุช ุชุณููุฉ ุงูุณุคุงู ุ ูููุณ ููุงู ูุง ูุฌุงุฏู ุญููู. <a name="habracut"></a><br><br>  ููู ุงูุนูุงุทู ูู ุนูุงุทู (ุณูุชู ููุงูุดุชูุง ุจุดูู ุฃูุจุฑ) ุ ูุฃูุฏ ุฃู ุฃูุฑุฒ ุฌููุฑ ูุฐู ุงููุดููุฉ ุจุนูุฏุฉ ุงูููุงู. <br><br><img src="https://habrastorage.org/webt/t5/zc/ra/t5zcramwnjffszncwjkkkl9xt2g.jpeg"><br><h3 style=";text-align:right;direction:rtl">  ุฏูุฌ ุฎุงุฑุฌ </h3><br>  ุฅุฐุง ูุงู ุงูุฃูุฑ ุจุณูุทูุง ุชูุงููุง ุ ูุฅู ุงูุดูุก ูู ูุฐุง: ูุฏููุง ุฌุฏููุงู ูููุง ููุณ ุงูุญููู ูุจูุงูุงุช ูุฎุชููุฉ.  ุงูุชุฑุถ ุงูุงุณู ูุงูุนูุฑ.  ูุญู ุจุญุงุฌุฉ ุฅูู ุฏูุฌูุง ูู ูุงุญุฏ.  ูููู ุณูููู ูู ุงูุถุฑูุฑู ุชุญุฏูุฏ ูุง ูุฌุจ ูุนูู ุจุชูู ุงูุดุฎุตูุงุช ุงูููุฌูุฏุฉ ูู ููุง ุงูุฌุฏูููู.  ุนูู ุงูุฃุฑุฌุญ ุณูุฑูุฏ ูู ุดูุก ูู ุงูุฌุฏูู ุงูููุงุฆู ุ ูุชุญุฏูุซ ุงููุนูููุงุช ูุชุชูุงุณุจ ูุน ุงูุฃูุฑุงุฏ.  ูู ุงููุงุถุญ ุฃูู ุญุชู ูู ูุฐุง ุงูุฅุนุฏุงุฏ ุ ุชุนุฏ ูุฐู ูููุฉ ุดุงุฆุนุฉ ุฌุฏูุง.  ูููู ุญููุง ุจุฏูู <code>MERGE</code> ุ ููุง ูุฌุนู ุงูุทูุจ ุงููุนูุฏ ุ ููููู ุงุณุชุฎุฏุงู ุงููุดุบูุงุช ููุง ุฅูู ุฐูู.  ููู ูุฐุง ุบูุฑ ูุฑูุญ.  ููุน ุฐูู ุ ูุฅู ุงูุฅุตุฏุงุฑ ุบูุฑ ุงููุงูููู ูู MERGE ุ ูุงูุฐู ูุณูู UPSERT (UPdate + inSERT) ุ ูุญู ูุฐู ุงููุดููุฉ. <br><br>  ุนุงูู MERGE ููุฌูุฏ ูู ูุนูุงุฑ SQL-2003 ููู ุจุงููุนู ูู ูู ูุฌุฏู ูู SQL-2008.  ูุชู ุชูููุฐู ูู Oracle ู DB2 ู MS SQL ุ ููุง ูุนูู ุฃู ุนุฏู ูุฌูุฏ MERGE ุณูุฒุนุฌ ุฃููุฆู ุงูุฐูู ูููุฑูู ูู ุงูุงูุชูุงู ูู DBMSs ุฅูู PostgreSQL.  ูุงูุช ุฑุบุจุฉ ุณูููู ุฑูุฌุฒ ุงูุดูู ูู ุฃุณุฑุน ููุช ูููู ุ ุจุงููุนู ูู PostgreSQL 11 ุ ูุฏููุนุฉ ุจุฑุบุจุงุช ุนููุงุก 2ndQurant ุ ูููุณ ุจุงูุทููุญ ุฃู ุงูุดุฌุงุฑ. <br><br>  ูู ุงููุงูุน ุ ุชุชูุชุน MERGE ุจูุฏุฑุงุช ุบููุฉ ุ ููุง ูุฌุจ ุฃุฎุฐ ุงูุจูุงูุงุช ูู ุงูุฌุฏุงูู ุ ุฎุงุตุฉ ูู ุชูู ุงูููุงุซูุฉ ูู ุงููููู. <br><br>  ุจูุงุก ุฌููุฉ ุงูุฃูุฑ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"> <span class="hljs-keyword"><span class="hljs-keyword">MERGE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> tablename <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span> table_reference <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> (condition) <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MATCHED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> column1 = value1 [, column2 = value2 ...] <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MATCHED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> (column1 [, column2 ...]) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (value1 [, value2 ...]);</code> </pre> <br>  ููุน ุฐูู ุ ููููู ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">MERGE <span class="hljs-function"><span class="hljs-function">[</span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">hint</span></span></span><span class="hljs-function">] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">INTO</span></span></span></span> <span class="hljs-function"><span class="hljs-function">[</span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">schema</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">.</span></span></span><span class="hljs-function">] {</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">table</span></span></span></span> | view} <span class="hljs-function"><span class="hljs-function">[</span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">table_alias</span></span></span><span class="hljs-function">] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">USING</span></span></span></span> { subquery | <span class="hljs-function"><span class="hljs-function">[</span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">schema</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">.</span></span></span><span class="hljs-function">] { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">table</span></span></span></span> | view}} <span class="hljs-function"><span class="hljs-function">[</span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">table_alias</span></span></span><span class="hljs-function">] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ON</span></span></span></span> ( condition ) [ <span class="hljs-type"><span class="hljs-type">merge_update_clause</span></span> ] [ <span class="hljs-type"><span class="hljs-type">merge_insert_clause</span></span> ] [ <span class="hljs-type"><span class="hljs-type">error_logging_clause</span></span> ] ;</code> </pre> <br>  ูุชู ุชูููุฐ ุจูุงุก ุงูุฌููุฉ ูุฐุง ูู Oracle.  ุจุงููููุงุช ุ ุชููู MERGE ุจุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ุงูุชู ุชุนุฏู ุงูุณุฌูุงุช ูู ุงูุฌุฏูู ุงููุฏู target_table_name ุจุงุณุชุฎุฏุงู data_source ูู ุฃูุฑ SQL ูุงุญุฏ ุ ูุงูุฐู ูููู ุ ููููุง ููุดุฑูุท ุ ุฅุฌุฑุงุก INSERT ุฃู UPDATE ุฃู DELETE ูููุง ูุชุนูู ุจุงูุณุฌูุงุช ูู target_table_name.  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุฃู ูููู target_table_name ุทุฑููุฉ ุนุฑุถ ุ ููููู ุฃู ูููู ูุตุฏุฑ_ุงูุจูุงูุงุช ูุฌููุนุฉ ูู <b>ุงูุฌุฏุงูู ุฃู ุทุฑู ุงูุนุฑุถ ุ ูุชูุฌุฉ ุงุณุชุนูุงู ูุฑุนู</b> . <br><br>  ุฃููุงู ุ ูููุฐ <code>MERGE</code> ุตูุฉ <code>left outer join</code> ุนูู <code>data_source</code> ูุน <code>target_table_name</code> ุ ููุง ูุดูุฑ ุฅูู 0 ุฃู ุฃูุซุฑ ูู ุณุฌูุงุช ุชุบููุฑ ุงููุฑุดุญ ุ  <code>WHEN</code> ุชุญุณุจ ุงูุจููุฏ ุจุงูุชุฑุชูุจ ุงููุญุฏุฏ ุ  ุจูุฌุฑุฏ ุงุณุชููุงุก ุงูุดุฑุท ุ ูุชู ุชูููุฐ ุงูุฅุฌุฑุงุก ุงูููุงุจู.  ุงููููุงุช ุงูุฑุฆูุณูุฉ <code>WHEN [NOT] MATCH THEN</code> ููุณุช ุดุงุฆุนุฉ ุฌุฏูุง ูู <code>SQL</code> ุ ูุฐูู ูุฐูุฑู ุฃู ูุฐุง ูู ุนูุตุฑ ุชุญูู ูุซู <code>if-else</code> ุจูุบุงุช ุฃุฎุฑู.  ูุนูู <code>MERGE</code> ุจุงูุทุฑููุฉ ููุณูุง ุงูุชู ูุนูู ุจูุง <code>UPDATE, INSERT</code> ุฃู <code>UPDATE, INSERT</code> ุฃู <code>DELETE</code> ูููุง ูุชุนูู <code>target_table_name</code> ุ ุฅูุง ุฃู ุจูุงุก ุงูุฌููุฉ ููุฃูุฑ ุจุฃูููู ูุฎุชูู. <br><br>  ูุฌุจ ุฃู ูููู ุจูุฏ ูุน <code>ON</code> ุจุฅุฌุฑุงุก ุงุชุตุงู ุนูู ุฌููุน ุฃุนูุฏุฉ ุงูููุชุงุญ ุงูุฃุณุงุณู ุฃู ุ ุฅุฐุง ุชู ุชุญุฏูุฏ ุฃุนูุฏุฉ ุฃุฎุฑู ุ ููุฌุจ ุงุณุชุฎุฏุงู ุจุนุถ ุงูููุฑุณ ุงููุฑูุฏ ุจุญูุซ ุชุญุฏุฏ <code>[NOT] MATCHED</code> ุงูููุฑ ุฅุฌุฑุงุกุงุช ุณุฌู ุงููุฑุดุญ ูู ุฃุฌู ุงุณุชุจุนุงุฏ ุงูุชูุงุนู ูุน ุงููุนุงููุงุช ุงูุฃุฎุฑู. <br><br>  ุฃูุฑ <code>MERGE</code> ุงูุญุชููุฉ: ูุง ููููู ุชุญุฏูุซ ููุณ ุงูุณุฌู ุนุฏุฉ ูุฑุงุช ูู ููุณ ุฃูุฑ MERGE. <br>  ูุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">MERGE</span></span> CustomerAccount CA <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span> RecentTransactions T <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> T.CustomerId = CA.CustomerId <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MATCHED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> Balance = Balance + TransactionValue <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MATCHED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> (CustomerId, Balance) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (T.CustomerId, T.TransactionValue);</code> </pre> <br>  ุฃู ูุน ุงุณุชุนูุงู ูุฑุนู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">MERGE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> bonuses D <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> employee_id, salary, department_id <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> department_id = <span class="hljs-number"><span class="hljs-number">80</span></span>) S <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> (D.employee_id = S.employee_id) <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MATCHED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> D.bonus = D.bonus + S.salary*<span class="hljs-number"><span class="hljs-number">.01</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DELETE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> (S.salary &gt; <span class="hljs-number"><span class="hljs-number">8000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MATCHED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> (D.employee_id, D.bonus) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (S.employee_id, S.salary*<span class="hljs-number"><span class="hljs-number">.01</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> (S.salary &lt;= <span class="hljs-number"><span class="hljs-number">8000</span></span>);</code> </pre> <br>  ูู <b>IBM DB2 ุ</b> ุณุชุนูู ุงูุตูุบุฉ ุฃูุถูุง.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง ูููููู</a> ุ "ุชุญุช ุบุทุงุก ูุญุฑู ุงูุณูุงุฑุฉ" ุณูุชู ุฐูู ุจุดูู ููุงุซู <code>UPDATE FROM</code> ุงูุจูุงุก. <br>  ููุฐ ุนุงู 2008 ุ ูุฏู <b>MS SQL</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃูุถูุง</a> <code>MERGE</code> . <br><br>  ูููู ุญุชู ูุฑุงุก ุจูุงุก ุฌููุฉ ูุนูุงุฑู ูุงุญุฏ ุ ุชุจุฏุฃ ูุดููุฉ ุงูุงุฎุชูุงุฑ ูู ุจูู ุนุฏุฏ ูุจูุฑ ูู ุงูุขููุงุช ูุฃุณุงููุจ ุงูุชูููุฐ.  ูุฌุจ ุฃู ูุนูู ุงููุฑูู ุนูู ูุณุชููุงุช ูุฎุชููุฉ ูู ุนุฒู ุงููุนุงููุงุช ุ ูุน ุฎูุงุฑุฒููุงุช ููู ูุฎุชููุฉ ุ ูุน ุงูุชุฑููุฒ ุนูู ูุถุน ุงูุชุดุบูู ุงูุชูุงูุณู ููุบุงูุฉ ุฃู ุบูุฑ ุฐูู.  ูููุง ูุฏ ุชุชููุน ุ ูู ุฃุฌู ุชุทุจูู ูุฐุง ุงูููุทู ุงููุนูุฏ ุ ุชุญุชุงุฌ ุฅูู ููุณ ุงููุซูุฑ ูู ููููุงุช DBMS. <br><br><h3 style=";text-align:right;direction:rtl">  UPSERT ุ ุฒุงุฆูุฉ ุงูุงูุฏูุงุฌ </h3><br>  ูู ุงููุงุถุญ ุฃู ูุทูุฑู DBMS ูุงููุง ูุจุญุซูู ุนู ุญููู ูุณุท ุ ูุฑูุถูู ุฅุนุงุฏุฉ ุฅูุชุงุฌ ุจูุงุก ุงูุฌููุฉ ุงูููุงุณู.  ุฒุงุฆุฏ ูุฐุง ุงูููุฌ ูู ุงูุญุฑูุฉ.  ููููู ุงุณุชุฎุฏุงู ุงูุขููุงุช ุงูุนุถููุฉ ููุธุงู DBMS ูุนูู ุ ูููููู ุชุญุณูู ุงูุชูููุฐ ููููุงู ุงูุชู ุชุนุชุจุฑูุง ุงูุฃูุซุฑ ุตูุฉ ุจูุณุชุฎุฏููู. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ูู <b>MySQL</b> ููุฌุฏ ุฃูุฑ <code>REPLACE</code> ูุนูู <code>INSERT</code> ุ ูููู ุฅุฐุง ูุงูุช ุงูุตููู ุงูุฌุฏูุฏุฉ ูุงููุฏููุฉ ููุง ููุณ ุงูููู ูู <code>PRIMARY KEY</code> ุฃู ุงูููุฑุณ <code>UNIQUE</code> ุ ูุณูุชู ูุชู ุงูุตู ุงููุฏูู ูุจู ุฅุฏุฑุงุฌ ุงูุตู ุงูุฌุฏูุฏ.  ูููู ููุงู ุฃูุถูุง <code>INSERT ... ON DUPLICATE KEY UPDATE</code> ุญูุซ ุชุญุฏุซ <code>INSERT</code> ู <code>UPDATE</code> (ุจุฏูุงู ูู <code>DELETE</code> ูู <code>REPLACE</code> ).  ูุฐุง ูู <code>UPSERT</code> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุงู</a> <code>INSERT IGNORE</code> ุ ุงูุฐู ูุง ูููู ุจุจุณุงุทุฉ ุจุนูููุฉ ุงูุฅุฏุฑุงุฌ ุ ุฏูู ุฅููุงุก ุฎุทุฃ (ูููู ุชุญุฐูุฑ) ุชุญุช ูููุฏ ูุนููุฉ ุนูู ุงูุฌุฏูู ุงููุฏู. <br><br><h3 style=";text-align:right;direction:rtl">  ุณุฌูุงุช PG MERGE </h3><br>  ูู ูุฌุชูุน PostgreSQL ุ ุจุฏุฃ ุงูุญุฏูุซ ุนู MERGE ูู ุนุงู 2005 ุนูุฏูุง ุณุฃู Jaime Casanova ุนูุง <i>ุฅุฐุง ูุงู ุฃู ุดุฎุต ูู ุงููุฌุชูุน ูุฏ ุจุฏุฃ ูู ุชุทููุฑ</i> <code>MERGE</code> .  <a href="">ุงูุชุฑุญ</a> <i>Peter Eisentraut</i> <a href="">ููุงูุดุฉ</a> <i>ูุง ุฅุฐุง ูุงู ูุฌุจ ุนูู PostgreSQL ุชุทููุฑ ุฃุญุฏ ุฎูุงุฑุงุช MERGE: ุนูู ุบุฑุงุฑ ุชุทุจูู MySQL ุ ุฃู ูู ุงูุฃูุถู ุชูุฌูู ุงูุฌูุฏ ุฅูู ูุณุฎุฉ ุฎูููุฉ ุงููุฒู ูุธูููุฉ ูู ููุน <code>MERGE</code> ูู Oracle.</i>  <i>ููุน ุฐูู ุ ูู ูุณุชุญู ุงูุฃูุฑ ุจุฐู ุฌููุฏ ูู ูุฐุง ุงูุงุชุฌุงูุ</i> <br><br>  ูู ููุชุตู ููุงูุดุฉ ูุตูุฑุฉ ุ ูุธูุฑ ุจุทู ูุฐู ุงูุฑูุงูุฉ <i>ุณูููู ุฑูุฌุฒ</i> ูุน ุงููููุงุช: <br>  <i>ูุนุฏ MERGE ูููุฏูุง ููู ูู ุฃูุธูุฉ OLTP ู DW (ูุณุชูุฏุน ุงูุจูุงูุงุช - ูุณุชูุฏุนุงุช ุงูุจูุงูุงุช ุ ุฃู ุงูุชุทุจููุงุช ุงูุชุญููููุฉ ุญูุซ ูุงุฏุฑูุง ูุง ูุชู ุชุญุฏูุซ ุงูุงุณุชุนูุงูุงุช ุงููุนูุฏุฉ ุ ูููู ููุณ ุงูุจูุฆุงุช ูุงูุจูุงูุงุช ุงูุชูุงูุณูุฉ ููุบุงูุฉ ุ ูุฅุฐุง ุชู ุชุญุฏูุซูุง ุ ูุนุงุฏุฉ ูุง ุชููู ูู ุฃุฌุฒุงุก ูุจูุฑุฉ. &lt;...&gt; ูููููุง ุชูููุฐ MERGE ููุชุบูุฑ ูู COPY FROM ุ ุณูููู ุฑุงุฆุนูุง ุฌุฏูุง.</i> <br><br>  ูุชูู ุงูุฌููุน: ูุนู ุ ุฑุงุฆุน.  ุจุชุนุจูุฑ ุฃุฏู ุ ูู ุดูุก ุชูุฑูุจูุง: <i>ุณุชููู ูุฑูุณุช</i> : <i>ุฃุนุชูุฏ ุฃููู ูุณุช ุงููุญูุฏ ุงูุฐู ูููู ุฅููู ุจุญุงุฌุฉ ุฅูู ูุนูุงุฑ MERGE ูุงูู ููุชูุงูู.</i> <br><br>  ูุฏู ุจุฑูุณ ูููุฌูุงู ุงูุชุฑุงุญ ูุฎุชูู ูุฃูุซุฑ ูุงูุนูุฉ: <i>ูุจุฏู ูู ุฃููุง ุจุญุงุฌุฉ ุฅูู ุชูููุฐ</i> <i>ุจุนุถ ุงูุฎูุงุฑุงุช ุงูุชู ูููููุง</i> <i>ุชูููุฐูุง ูู</i> <code>MERGE</code> <i>ุ ููู ุงูุจุงูู ุณููุฏู ุฎุทุฃ (ููู ุงูุญุงูุงุช ุงูุชู ูููู ูููุง ูู ุงูุถุฑูุฑู ุญุธุฑ ุงูุฌุฏูู ุจุฃูููู).</i>  <i>ูุจุนุฏ ุฃู ูุญุตู ุนูู ุชุนูููุงุช ูู ุงููุณุชุฎุฏููู ูุณูููุฑ ูู ูุง ูุฌุจ ุงูููุงู ุจู ุจุนุฏ ุฐูู.</i> <br><br>  ูููู ุญุชู ุงูุขู ูู ูุญุฏุซ ุดูุก. <br><br><h3 style=";text-align:right;direction:rtl">  ููุฏ ูุณุฑ ุงูุฌููุฏ </h3><br>  ูู ุนุงู <b>2008 ุ</b> ุฏุนุง <i>Simon Riggs</i> ูุฑุฉ ุฃุฎุฑู ููุชุนุงูู ูุน MERGE - ุฃู ูู ุงูุทุฑู ููุงุฎุชูุงุฑ (ุจุญููู ุฐูู ุงูููุช ุธูุฑุช ูุณุฎุฉ ุฌุฏูุฏุฉ ูู MERGE ูู ูุนูุงุฑ SQL-2008 ุจุงููุนู ุ ุญุชู ุงูุขู ููุณูุฏุฉ).  ูุฑุณู ุจุงูุชูุตูู ุงูุญุงูู ูู ุฐูู ุงูููุช ุชูููุฐ Oracle ู IBM ู MS SQL ูุจูุงุก ุงูุฌููุฉ ูู MySQL ู Teradata.  ูุจุนุฏ ุฐูู ุจูููู ุฐูุฑ ุจุงููุนู <b>ุจุฏุงูุฉ ุงูุนูู ูู ุงูุฑุจุน ุงูุซุงูู</b> ูู ูุฐุง ุงูุงุชุฌุงู. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุจ</a> ุจูุชุฑ ุฅูุฒููุชุฑุงูุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูู ูุฏููุชู</a> : <i>ุจุงูุทุจุน ุ ุฑูุฌุฒ ูู ุฃุญุฏ ุฃูุซุฑ ุงููุชุฎุตุตูู ุงููุคูููู ุ ููููู ููุงุฏุฉ ุงูุนูู ุนูู ุชูููุฐ MERGE.</i> <br><br>  ูููู ููุง ูุฃุชู ุฃูู ููุนุทู ุบูุฑ ูุชููุน: ูุดุงุฑู <b>ุงูุทุงูุจ</b> ูู ุงููุดููุฉ - ูุดุงุฑู ูู ุชุทููุฑ ุจุฑูุงูุฌ <b>GSoC</b> ุ ุฃู Google Summer of Code.  ุงุณูู <i>Boxuan Bxzhai</i> - ูุง ุฃูุชุฑุถ ุฃู <i>ุฃูุณุฎ</i> ุงูุงุณู ุงูุฃุฎูุฑ.  ุณุฑุนุงู ูุง ููุชุจ ุฃู ุงูุนูู ุนูู ูุดู ุงูุงูุชูุงุก. <br><br>  ูููู ุชูุฑูุจุง ูุง ูุญุณุจ.  ููุชุจ <i>ุฌุฑูุฌ ุณููุซ</i> ูู 2ndQuadrant (ุฃู ุณูููู ุฑูุฌุฒ ุญููู): <br>  <i>ูุฐุง ุ ูุฏููุง ุชุตุญูุญ ูู ุงูููุฏ ูุญุชูู ุนูู ูุตู ุฏุฒููุฉ ูู ุงููุดุงูู ุงูุฎุทูุฑุฉ ุงูุชู ูู ูุชู ุญููุง.</i>  <i>ุฃูุง ุตุงูุช ุนู ูุคูุงุก ุงูุตุบุงุฑ.</i>  <i>ุงููุดุงูู ุนูููุฉ ููุบุงูุฉ ุจุญูุซ ูุง ูููู ูุถุน ุงูููุณุงุช ุงูุฃุฎูุฑุฉ ุนูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ููุงูุชุฒุงู.</i>  <i>ููู ุงูููุช ููุณู ุ ูู ูุณูุน ุฃู ุดูุก ูู Boxuan ููุชุฑุฉ ุทูููุฉ.</i>  <i>ูููููุง ูุณุงุนุฏุชู ุ ูููู ุฃูู ููุ</i>  <i>ูู ูุนุฑูุ</i> <br><br>  ุชุดุชุนู ููุงูุดุฉ ูุณุงุฑุงุช ุงูุชูููุฐ ูุฑุฉ ุฃุฎุฑู ูู ุนุงู <b>2014</b> ุ ูููู ูุฑุฉ ุฃุฎุฑู ูุง ูุญุฏุซ ุดูุก: ูุง ููุฌุฏ ุฑูุฒ. <br><br>  ุฃุฎูุฑูุง ุ ูู ููุช ูุจูุฑ ูู ุนุงู <b>2017 ุ</b> ูุชุจ <i>ุณูููู ุฑูุฌุฒ</i> : <br>  <i>ุฃูุง ุฃุนูู ุนูู ุฑูุฒ ูุฅูุฒุงู <code>MERGE</code> ุจุงูุฅุตุฏุงุฑ <b>11 ูู PostgreSQL</b> .</i>  <i>ูุญู ูุณุชุฎุฏู ููุณ ุงูุขููุงุช ุงูุชู ุชููู ูุฑุงุก <code>INSERT ON CONFLICT</code> ุงูุชู ุชุนูู ุจุงููุนู ุ ุจุญูุซ ูุง ุชููู ููุงู ุญุงุฌุฉ ุฅูู ุชุบููุฑุงุช ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุ ููุท ูู ุงูุฃุณุงุณ ุชูููุฐ ุจูุงุก ุงูุฌููุฉ ููู ูุง ูู ูุชุงุญ.</i>  <i>ููููู ุฃูุชุจ ุงูุฑูุฒ ุงูุฎุงุต ุจู ูู ุงูุจุฏุงูุฉ ุ ููุง ุฃุณุชุฎุฏู ุงูุชุทูุฑุงุช ุงูุณุงุจูุฉ.</i> <br><br>  ูุญู ูุชุญุฏุซ ุนู Peter Geoghegan ( <b>VMware</b> ) ุงูุฐู ุชู ุชูููุฐู ูู ุฐูู ุงูููุช ุจุงููุนู ูู 9.5 ุตูุบุฉ ุจุฏููุฉ <code>INSERT .. ON CONFLICT UPDATE</code> ุ ุชุฎุชูู ุนู ูุนูุงุฑ SQL ุ ูููููุง ูุง ุชุฒุงู ูุฑุชุจุทุฉ ุจู <code>MERGE</code> ู <code>REPLACE</code> ูู MySQL. <br><br>  ูู ุงูุจุฏุงูุฉ ุ ููุจู ุนูู ุณูููู ุจุนูุงูุงุช ุชุนุฌุจ ูู ุนูู ููุณ!  ููุน ุฐูู ุ <i>ุฑูุจุฑุช ูุงุณ</i> ุ ุนูู ุงูุฑุบู ูู ุฏุนูู ุ ูุญุฐุฑ ูู ุดุฐูุฐ ุงูุชุณูุณู ุงููุญุชูู.  ุนูู ุณุจูู ุงููุซุงู ุ ููุชุนุงูู ูุน <code>INSERT .. ON CONFLICT UPDATE</code> ุ ุจุฏูู ุฏูุฌ ูู ูุงุนุฏุชู ุ ูููู ุฃูุซุฑ ูุฏูุกูุง ุฅูู ุญุฏ ูุง. <br><br>  <code>UPSERT</code> ูุคูู PostgreSQL <code>UPSERT</code> ููุณู: <br>  <i>ูู ุฃุฎูุท <code>MERGE</code> <code>ON CONFLICT DO UPDATE</code> ู <code>MERGE</code> .</i>  <i>&lt;...&gt; ูุชุญููู ุฃุฌุฒุงุก ูุจูุฑุฉ ูู ุงูุจูุงูุงุช (ุชุญููู ุถุฎู) ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงุณุชุฎุฏู ุฎูุงุฑุฒููุฉ <code>merge join</code> .</i>  <i>&lt;...&gt; ุจุดูู ุนุงู ุ ุชุฑุชุจุท ูุฒุงูุง <code>MERGE</code> ุจุญูููุฉ ุฃู ุงูุงุชุตุงูุงุช ุงูุนุงุฏูุฉ ุณุชุนูู ููุงู ุจุงูุทุฑููุฉ ุงููุนุชุงุฏุฉ: <code>nested loop, hash, merge</code> .</i>  <i>ููู <code>INSERT โฆ ON CONFLICT</code> ูุง ุชูุฌุฏ ุตูุงุช ุนูู ุงูุฅุทูุงู.</i> <br><br>  ูุงุณ: <i>ูุซู ุจูุชุฑ ุ ุฃุนุชูุฏ ุฃูู ุฅุฐุง ุชู ุฐูู ุจูุฐู ุงูุทุฑููุฉ ุ ูุฅู ูุซู ูุฐุง ุงูููู ุงูููู ุนูุฏ ุชูููุฐ ุทูุจ <code>DML</code> ูุจุฏู ููุฐุง.</i>  <i>ูู ุบูุฑ ุงููุญุชูู ุฃู ูููู ุฃู ุดุฎุต ูุณุฑูุฑูุง ูุฃู ุดุฎุตูุง ูุงุญุฏูุง ููุท ููููู ุงูุนูู ูุน <code>MERGE</code> ูู ููุช ูุงุญุฏ.</i> <br><br>  ูููุถูู: ูููู Geigan ุจุชูููู ุงูุชูุงุตูู ุงูุฏูููุฉ ูุงูุงุฎุชูุงูุงุช <code>UPSERT</code> ุจูู <code>MERGE</code> ู <code>MERGE</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุง</a> (ูููู ุจุชุฎุฒูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฑุงุณูุงุช ุงููุคุฑุดูุฉ ูู</a> PostgreSQL ุนูู ูููุนูุง ุนูู ุงูุฅูุชุฑูุช). <br><br>  ุณูููู ููุงูู.  ููุงุดุฏ ุงูุชุงุฑูุฎ ุงูุญุฏูุซ.  ุนูู ุณุจูู ุงููุซุงู ุ ุญูู ุงูุชูุณูู ูุงููุง ุฃูุถูุง "ุจูุงุก ุฌุฏูุฏ ุ ูุง ุดูุก ุฃูุซุฑ."  ููู ุงุชุถุญ ุฃู ูุฐุง ุดูุก ูููุฏ ููุบุงูุฉ.  <i>ููููู ูุง ุฃูุชุฑุญ ุฃู ุฃุฏุฑู ุนูู ุงูููุฑ ูู ูุง ูู ูู MERGE.</i>  <i>ุณููุนู ุงูุดูุก ููุณู ููุง ูู ุงูุญุงู ูุน ุงูุชูุณูู - ููุณู ุงูุชุทููุฑ ุฅูู ูุฑุงุญู.</i> <br><br>  ูุญุฌุฉ ุฃุฎุฑู ุ ูู ุฑุฃูู ูููุนุฉ ููุบุงูุฉ: <i>ุฌูุฏ.</i>  <i>ููู ุฏุนูุง ูุฎุชุงุฑ.</i>  <i>ุฃูุชุฑุญ ุฎูุงุฑุง ุนูููุง.</i>  <i><b>ุณุชุฃุชู 10 ุณููุงุช ูุฑูุจูุง</b> ูู ุฃูู ูุญุงููุฉ ุฌุงุฏุฉ ูุชุทููุฑ <code>MERGE</code> .</i>  <i>ุฃูู ูุญู ุงูููุช ููุจุฏุก ูู ูุนู ุดูุก ูุง ุ ูุงูุญุตูู ุนูู ุจุนุถ ุงูุญููู ุงููููุฏุฉ ุ ุจุฏูุงู ูู ุงูุงูุชุธุงุฑ ููุฏุฉ 10 ุณููุงุช ุฃุฎุฑู ูู ุงูุญู ุงููุซุงููุ</i>  <i>ุจุงูุชุฑุงุถ ูุฌูุฏู ุนูู ุงูุฅุทูุงู.</i> <br><br>  ุฃุฎูุฑูุง ุ ูุตู ุงูุชุตุญูุญ ุฅูู ุงููุฌุชูุน.  ูุง ุงูุชุงุฑูุฎุ  ุชุฎูู ูู ุณูุญุช.  ูุง ุ ูู ูุฎูููุง: ุฃุฑุณูู ุณุงูููู ูู 30 ุฏูุณูุจุฑ 2017.  ูููุต ุนูู ุฃู ูุฐุง ูู ุงูุชุตุญูุญ WIP ุ ุฃู ุงูุนูู ููุฏ ุงูุชูุฏู - ุงูุชุตุญูุญ ูู ุงูุนูู. <br><br>  ุณูููู ุ ููุงูุฑ: <br>  <i>ุชู ุงูุงูุชูุงุก ูู ุงูุชุตุญูุญ ุฏูู ุฃู ุฃุฎุทุงุก ุฎุงุตุฉ.</i>  <i><b>1200 ุณุทุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ</b> ุจุงูุฅุถุงูุฉ ุฅูู ุงูุงุฎุชุจุงุฑุงุช ูุงูุชูุซูู.</i>  <i>ุณูู ุฃููู ุจุฅูุฒุงูู ุจูุฐู ุงููุณุงุจูุฉ ุ ูุณูููู RLS (ุญูุงูุฉ ูุณุชูู ุงูุตู - ุงูุญูุงูุฉ ุนูู ูุณุชูู ุงูุชุณุฌูู) ูุชูุณูู ุงูุฏุนู ูุงุญููุง.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ูุฌุงูุณ ุงููุฌุงู </h3><br>  ููุง ุนูููุง ุฃู ูุชุฎุฐ ุฎุทูุฉ ุฌุงูุจุง ูุดุฑุญ ุฏูุฑ ุงููููุถ ูู ุงููุฌุชูุน.  ููุฏ ุชุบูุฑุช ูุธุงุฆู ุงููููุถ ุ ุฃู ุงูุดุฎุต ุงููููุถ ุจูุจูู ุงูุชุตุญูุญ ูู ุงูุฅุตุฏุงุฑ ุงูุชุงูู ุ ุชุงุฑูุฎูุงู.  ุฐุงุช ูุฑุฉ ุ ุนูุฏูุง ูุงู ููุงู ุนุฏุฏ ูููู ูู ุงููุทูุฑูู ุ ุชู ุชูุฒูุน ุงูุญู ูู ุงูุงูุชุฒุงู ุจุณุฎุงุก.  ุนูู ุณุจูู ุงููุซุงู ุ ุญุตู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><b>ุฌูููุงู ุฃุณุงูุฌ</b></a> ุงูุดููุฑ (ูู ูุฌุงู ูุฎุชูู ุชูุงููุง) ุนูู ููุจ ุงููุงุฆุฏ ุ ูููู ูุคูู ุณุช ุจูุน ููุท.  ุงูุขู ููุณ ูู ุงูุณูู ุฃู ุชุตุจุญ ูููุถูุง ุ ูุง ุชูุฌุฏ ุดุฑูุงุช ูุงุดุฆุฉ ุนูู ูุงุฆูุฉ ุนุดุฑุงุช ุงูุฃุดุฎุงุต.  Boyus Momdjan ( <b>EnterpriseDB</b> ) ูุฏูู 13363 ุงูุชุฒุงููุง ุ Tom Lane (Tom Lane ุ Crunchy <b>Data</b> ) 13127 ุ ุฑูุจุฑุช Haas ( <b>EnterpriseDB</b> ) - 2074. ูุจุงูููุงุณุจุฉ ุ ูุฅู ุงููุงุนุจ <b>ุงููุญูุฏ ูู ุฑูุณูุง</b> ูู <i>Fedor Sigaev</i> (Teodor Sigaev ุ <b>Postgres Professional</b> ) ูุน ุงูุชุฒุงูุงุชู 383 .  ุณูููู ุฑูุฌุฒ ููุณู ูุฏูู 449 ูููู ุ ูุฃูุฑุฑ: ุฅูู ุจุตูุชู ูููุถูุง ุ ูุฏูู ูุง ูููู ูู ุงูุณูุทุฉ ูุฃุฎุฐ ุงูุชุตุญูุญุงุช ูุงูุงูุชุฒุงู ุจูุง - ููุธููู ูููุธููู.  ุดูุก ุขุฎุฑ ูู ุฃูู ูุง ูุณุชุญู ุงูููุงู ุจุฐูู ุ ูุชุฌุงูู ุจุตุฑุงุญุฉ ุขุฑุงุก ุงููุฌุงู ุงูุจุงุฑุฒุฉ ุงูุฃุฎุฑู.  ูููููู ุฃูุถูุง ุญุฑูุงู ูุฑูุฒ ุงููููุถ ุ ูููู ุนูู ุงูุฃูู <code>revert</code> ุงูุชุตุญูุญ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุณุฑ ูู ุงููุนุฑูุฉ </h3><br>  ุจุงูุทุจุน ุ ูู ุงูุชุตุญูุญ "ููุคูุณ ููู" ุ ุจุดูู ุนุงู ุ ุนูู ุนุฌู ุ ูุฌุฏูุง ุฃุฎุทุงุก ุฌุฏูุฏุฉ.  ููุฉ ุงูุฅุตุฏุงุฑุงุช ุงูุฌุฏูุฏุฉ ุฑุฏุง ุนูู ุฐูู. <br><br>  ูู ููุงูุฉ ููุงูุฑ ุ ุชุธูุฑ ุดุฎุตูุฉ ุฌุฏูุฏุฉ: ูุทูุฑ 2ndQuadrant <i>Pavan</i> (ุงุณูู ุงูุฌููุน ุจุงูุงุณู ุ Pavan Deolasee ุชูุงููุง).  ูุชุนุงูู ุงููุฌุชูุน ุงูุขู ูุน ุชุฑุงุฏู: ูุฑุณู ุจุงูุงู ุฅุตุฏุงุฑุงุช ุฌุฏูุฏุฉ ููุดูุฑ ุนูู ุงูููุฏ ุ ูููุณุฑูุง ุณุงูููู ุจุถุบุท ุชุณูููู ููุญูุธ. <br><br>  ูุงุณ: <i>ูุง ุฃุนุชูุฏ ุฃู ุงูุฃูุฑ ูุณุชุญู ุงุชุฎุงุฐ ูุฑุงุฑุงุช ุฃุญุงุฏูุฉ ุงูุฌุงูุจ ุจุดุฃู ุงุณุชุจุนุงุฏ ุงูููุฒุงุช ุงูุชู ุชุนูู ูู ูู ููุงู.</i>  <i>ุฅุฐุง ุงุชูููุง ุนูู ุฃู ุจุนุถ ุงูููุฒุงุช ูู ูุชู ุชุถููููุง ูู ูุฐุง ุงูุชุตุญูุญ - ููุฐุง ุดูุก ูุงุญุฏ.</i>  <i>ููุฎุชูู ุงูุฃูุฑ ุชูุงููุง ุฃูู ูู ุงูุชุนูููุงุช ุจูุฐู ุงูููุงุณุจุฉ ุนุจุฑ ุงูุฌููุน ุนู ุนุฏู ุงุชูุงููู.</i>  <i>ููู ูุณูุน ูู ุงููุงูุน ุฃุณุจุงุจ ุงุณุชุจุนุงุฏ ูุฐู ุงูููุฒุงุช.</i> <br><br>  ุชู ุชูุฏูู ุงูููุทู ุนูู ุงููุญู ุงูุชุงูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุฏุงูุฉ ุ ููุงู ูุดุงูู ุฎุทูุฑุฉ ูุฃููุง ูุง ูููู ุฅูุง ุฃู ุชููู ูู ุงูุชุทูุฑุงุช ูู ุฃุณููุจ "ูุฌูู ุงููุฑุณุงู". </li><li style=";text-align:right;direction:rtl">  ูููู ุฅููุงู ุฏุนู ุงูููุฒุงุช ุงููุงูุฉ ูุซู ุงูุชูุณูู ุงูุฌุฏูุฏ ูู ุงูุฅุตุฏุงุฑุงุช 10-11 ุฃู CTE (ุชุนุงุจูุฑ ุงูุฌุฏูู ุงูุดุงุฆุนุฉ = ูุน ุงุณุชุนูุงูุงุช) ุฃู RLS (ุฃูุงู ูุณุชูู ุงูุตู) ุญุชู ุจุนุฏ ูุจูู ุงูุชุตุญูุญ ูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ุ ูููู ููุท ุฅุฐุง ูุงูุช ุงูุจููุฉ ุงูููุชุฑุญุฉ ููุงุณุจุฉ ููุจูุงุก ูู ุงูุฃุนูู ูุธููุชูุง ุงููุทููุจุฉ. </li></ul><br>  ูุตูุฑ ุจูุชุฑ ุฌูุฌุงู ุงูุซุงูู ูุฐุง: <br>  <i>ุนุงุฏุฉ ูุง ุฃุฑูุฒ ุนูู <b>ุฏุนู ุงููุธุงุฆู ุงููุฎุชููุฉ ุ ูุฃูู ุฅุฐุง ูุงู ูุฐูู ุ ูุฅูู ูุนุฒุฒ ุงูุงุนุชูุงุฏ ุงูุนุงู ุจุฃู ุงูุชุตููู ูุตููุน ููุง ููุจุบู</b> .</i>  <i>ูุฅุฐุง ูุงูุช ูุซู ูุฐู ุงููุดุงูู ูุงุชุฌุฉ ุนู ุฏุนู ุชุนุจูุฑุงุช <code>WITH</code> [ุฃู <code>CTE</code> ] ุ ูุฅููู ุฃููู ุฃู ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุฃุณุงุณูุฉ ุณุชุณุจุจ ูุดุงูู ููุง ูููุงู.</i> <br><br>  ูู ูุฐู ุงูุฃุซูุงุก ุ ุชูุชุฑุจ ุงูุณุงุนุฉ X (ุขุฎุฑ ุงุฌุชูุงุน ููุฌูุฉ) ุ ูุชุชุฌูุน ุงูุบููู ููู MERGE.  ููุณ ุงูุฃูุฑ ุฃู ุงูุขุจุงุก ุงููุคุณุณูู ุจุญุซูุง ุนูู ูุฌู ุงูุชุญุฏูุฏ ุนู ูุดุงูู ุฎุทูุฑุฉ ูู ููุฏุณุฉ ุงูุฑูุน ุงูุชู ุตูุนูุง ุณูููู ุซู ุจุงูุงู.  ูู ููู ุนููู ุงูุจุญุซ ุนู ุงููุดุงูู ุ ููุฏ ูุชุญูุง ุฃููุณูู ุทูุงุนูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุงุชูุฉ ุชูุชุฑุจ </h3><br>  ุงููุคุงูุฑุฉ ุชุชุณุงุฑุน.  ุนูู ุงูุฑุบู ูู ุงููููู ุงูุฑุงุฆุน ููุฌุงู ุงูุฃุฎุฑู ุชุฌุงู ุชุนูุฏู ุ <b>ูู 2 ุฃุจุฑูู ุ</b> ูุฑุฑ ุณูููู ุชูููุฐ <b>ุงูุฃูุฑ ุงูุชุงูู ูู SQL:</b> ุชุตุญูุญ <b>2016</b> ุ ูุถูู ุงููููุงุช ุ ูุฏูุฑ ุฏูุจูุฒ (Hubert Lubachevsky) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅุนูุงู ุนูู</a> ุนูู ูุฏููุชู ุ ูููู ูู ููุณ ุงูููู ูููู ุณูููู ุจุฅุฑุฌุงุน ูู ุดูุก ุฅูู ุงููุฑุงุก ูุฃูู ุงูุฃุฎุทุงุก. <br><br>  ูู ุงูููู ุงูุชุงูู ุ ุงูุชุฒู ูุฑุฉ ุฃุฎุฑู ุจุฅุถุงูุฉ ุฏุนู. <br><br>  ุฑุฏุงู ุนูู ุฐูู ุ ูุฅู ุงูุงุฏุนุงุกุงุช ุฎุทูุฑุฉ ุญูุงู.  <i>ูุชุจ ุฃูุฏุฑูุณ ูุฑูููุฏ</i> ( <b>EnterpriseDB</b> ): <br>  <i>ูู ุชุจูุฑูู ููุฏุณุฉ MERGE ูู ุงููุญูู ุงููุบูู ูุงููููุฐ ุจุดูู ููุซูู.</i>  <i>ุฅูุดุงุก ุตูุงุช ูุฎููุฉ ุฃุซูุงุก ุชุญููู ุงูุชุญููู ููุฑุฉ ุณูุฆุฉ ุญููุง.</i>  <i>ูุฌุจ ุชุบููุฑ ุจููุฉ ุงููููุฐ ุจุงููุงูู.</i> <br><br>  ุชูู ููู: <br>  <i>ุชุตููู ุดุฌุฑุฉ ุงูุชุญููู ุถุนูู.</i> <br><br><br><br>  <i>ุชูุฑุท ูู ุชุญููู ูุธููุฉ <code>InsertStmt</code> ุ <code>InsertStmt</code> ุ ุฃููุง ูุง ุชููู <code>InsertStmt</code> ุนูู ุงูุฅุทูุงู ุ ูููููุง ุชุญุชูู ุจุดูู ุนุดูุงุฆู ุนูู ููุณ ุงูุญููู ูุซู ุงูุญูู ุงูุฃุตูู.</i>  <i>ูููุณ ูู ุดูุก ุ ูููู ุงูุจุนุถ.</i>  <i>ูุฐุง ุฃูุฑ ุณูุฆ ุ ูุคุฏู ุฅูู ุงูุงุฑุชุจุงู.</i> <br><br>  ุฏุนููุง ูุถูู ููุงุญุธุงุช <i>ููุฏูุฑ ุณูุบุงููู</i> : <br>  <i>ูู ุงููุญูู ุงููุบูู ุ ุธูุฑุช ุนููุฏ <code>INSERT</code> ุฐุงุช ุงูุตูุฉ ุจู <code>MERGE</code> ุ ููุนููููุฉ ุจูุฌููุนุฉ ูู ุงูุญููู ุงูุฅุถุงููุฉ.</i>  <i>ุฅุฐุง ูุธุฑุช ุฅูู ุฎุทุฉ ุงูุชูููุฐ ูู <code>ANALIZE</code> ุ ููู ุชููู ุนูู ุงูููุฑ ูุง ุฅุฐุง ููุช ุชุชุนุงูู ูุน <code>INSERT</code> ุนุงุฏู ุฃู ูุน <code>MERGE</code> : ูููู ุ ุชุญุชุงุฌ ุฅูู ุงููุธุฑ ูู ุญููู ุฅุถุงููุฉ.</i> <br><br><br>  ุณุงูููู ุ ุจูุฏูุก: <i>ุญุณููุง ุ ุณูุบูุฑ ุฐูู ูุณูุฑุณู ููููุง ุฌุฏูุฏูุง ุบุฏูุง</i> . <br>  ูุงุณ: <i>ุฃุชูู ูุน ุจูุชุฑ.</i>  <i>ุงุฎุชูุงุฑ ุงูุนูุงุฑุฉ ุบูุฑ ูุงุฌุญ.</i> <br><br>  ุณุงูููู ูุง ูุณุชุณูู.  <b>6 ุฃุจุฑูู ุ</b> ุฑุฏุง ุนูู ุงูุชูุงุฏ ุชูู ููู ุ ูุฑุชูุจ ุฑูุนุฉ ุฌุฏูุฏุฉ ุจุตูุบุชูุง ุงููุนุฏูุฉ ูู ุงููุญูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุชูุงูุถ ูุงูุงุณุชุณูุงู </h3><br>  ุจุฑูุณ ูููุฌุงู <b>6 ุฃุจุฑูู</b> : <br>  <i>ุฃุฑูุฏ ุฃู ุฃุดูุฑ ุฅูู ุฃู ุงููุงุณ ูู ูุทูุจูุง ููู ุงูุนูู ุจุฌุฏ ูุฅุตูุงุญ ุดูุก ุนูู ูุฌู ุงูุณุฑุนุฉ.</i>  <i>ุทูุจูุง ููู ุณุญุจ ุงูุชุตุญูุญ.</i>  <i>ููููู ุจุงูุทุจุน ุงูุนูู ุจุฌุฏ ุนูู ุฃูู ุฃู ูุบูุฑูุง ุฑุฃููู ุ ูููู - ูุฑุฉ ุฃุฎุฑู - ูู ูุณุฃููู ุนู ุฐูู.</i> <br><br>  ุณุงูููู: <i>ุฅุฐุง ูุงู ุชูู [ููู] ูุฃูุฏุฑูุณ [ูุฑููุฏ] ููุฃูุงู ุงูููููุฉ ุงููุชุจููุฉ ูุง ูุฒุงูุงู ูุดุนุฑุงู ุจุฃู ูุฎุงููููุง ูู ุชุจุฏุฏ ุ ูุณุฃููู <b>ุณุนูุฏูุง ุจุฅุนุงุฏุฉ ุงูุชุตุญูุญ</b> ุฏูู ูุฒูุฏ ูู ุงููุบุท.</i> <br><br>  ุชูู ููู: <i>ูุง ุฒูุช ุฃุตูุช ูู ุฃุฌู ุฅุนุงุฏุฉ ุงูุชุตุญูุญ.</i>  <i>ุญุชู ูู ูุงู ูุซุงูููุง ุงูุขู ุ ููุณ ูุฏู ุงููุงุณ ุงูุขู ุงูููุช ูุฅููุงุนูู ุจุฐูู - ุฅูู ุญูู ุงูุฃููุฑ ุงูููุญุฉ ุงูุฃุฎุฑู.</i> <br><br>  ูุฐุง ูู ุดูุก. <br><br>  ูุงู ุณูููู ุญุณููุง ุ <code>MERGE</code> ุงููุนุฑูุฉ ูู <code>MERGE</code> .  ุชู ุถุฎ ูู ุงูุชุตุญูุญุงุช ูุฑุฉ ุฃุฎุฑู ุ ูุชู ููู ุงูููุถูุน ุฅูู ุงููุฌููุนุฉ ุงูุชุงููุฉ ุจุงูุญุงูุฉ "ูู ุงูุชุธุงุฑ ุงูุงูุชูุงุก ูู ุงููุคูู".  ุตูุน ุงููุดุงุฑููู ูู ุงูุนุฑุถ ุงูุณูุงู. <br><br><img src="https://habrastorage.org/webt/ad/zw/ry/adzwryarovhxoldwxewpneljyms.jpeg"><br>  ููุน ุฐูู ุ ุฅุฐุง ุญูููุง ูู ุฎูุงู ูุฑุงุณูุงุช ุงูุฃุณุงุจูุน ุงูุฃุฎูุฑุฉ ุ ูุจุฏู ุฃู ุจุนุถ ุงูุชูุชุฑ ุจุงู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฃุฎูุงู ุงูููุนูุฏุฉ </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุณู ุงูุญุธ ุ ูุฅู ูุฌุชูุน PostgreSQL ูุฏูู ุขููุงุช ุทุจูุนูุฉ ูุฑุณููุฉ ูููุญุต (ุชูุฑูุจูุง) ุงูุฎุงูู ูู ุงูุตุฑุงุน ููุญุงููุงุช ุงูุญููู ุบูุฑ ุงููุงุถุฌุฉ.  ุญุชู ูู ุชู ุถุฑุจูู ูู ูุจู ุงููุทูุฑูู ุงููุญุชุฑููู ูู ุฑุชุจุฉ ุฑุฆูุณ ุงูุดุฑูุฉ ุ ุงูุฐูู ุชุนุฏ ูุณุงููุชูู ูู ุชุทููุฑ PostgreSQL ุถุฎูุฉ.  ูุงูุนููุงุก ุงูุฐูู ููุชูุฑูู ุฅูู ุงููุธุงุฆู ูุถุบุทูู ููุงุณุชุซูุงุฑ. </li><li style=";text-align:right;direction:rtl">  ูุณูุก ุงูุญุธ ุ ุบุงูุจูุง ูุง ูุชููู ุงููุฌุชูุน.  ุฅููุง ุนูููุฉ ูู ุงุนุชูุงุฏ ุญุชู ุงูุชุทูุฑุงุช ุฐุงุช ุงูุตูุฉ ุงูุชู ูุง ูุจุณ ูููุง.  ูู ุจุนุถ ุงูุฃุญูุงู ูุชู ุชุถููู ุงูููุงู ุบูุฑ ุงูุนููุงูู.  ุชุฌุฑุจุฉ Postgres Professional ุ ุญูุซ ุฃุนูู ุ ุชุคูุฏ ุฐูู.  ููููุง ุฑูุนุฉ ูุจูุฑุฉ ููููุฉ ูู <b>ูุคุดุฑุงุช INCLUDE</b> ููุฏุฉ 3 ุณููุงุช.  ูุง ุชุฒุงู ุณูุณูุฉ ูู ุงูุชุตุญูุญุงุช ุงููููุฏุฉ ููุนูู ูุน <b>JSON / JSONB</b> ููุฏ ุงูุงูุชุธุงุฑ.  ุฅู ุนุจุงุฑุฉ "ุฃุนุท ุชูููุชู ูููุฌุชูุน" ูุง ุชุนูู <b>ุญููุง ุงูุนุทุงุก ุ ูููู ุงูููู</b> : ูุชู ุงุณุชูุจุงู ุงูุถูู ุจุฃุฐุฑุน ููุชูุญุฉ ููุฑุงููู ุฅูู ุงูุญุฌุฑ ุงูุตุญู. </li></ul><br>  ููุงุญุธุฉ: <i>ุชูููู ูู ุงููุคูู</i> : ุฃุฑุฏูุง ููุท ุฅุธูุงุฑ ุฌุฒุก ูู ุญูุงุฉ ุงููุฌุชูุน.  ุฌููุน ูุทุงุจูุงุช ุงูุฃุณูุงุก ุนุดูุงุฆูุฉ :) <br>  PPS: ุณุงููุฑุงู <i>ูุงุชุงููุง ูููุดููุง</i> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar412605/">https://habr.com/ru/post/ar412605/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar412591/index.html">ุจูุงุก jetpack: 29 ูุงูู ูู ููู ูููุฏู ููุฑ ุงูุชุฐูุงุฑู</a></li>
<li><a href="../ar412593/index.html">ุงูููุชุฌุงุช ุงูุฌุฏูุฏุฉ ูุงูููุตุงุช ูุฌููุน ุงูุฎุฏูุงุช: HPE Webinars</a></li>
<li><a href="../ar412595/index.html">ุชูุฑูุฑ ูุงุฏู ุฑููุง 2018 ุ ุงููุตู 1.1.2: "ุงูุชูููู"</a></li>
<li><a href="../ar412597/index.html">ุณูููู ุฌูู ุจูุฒูุณ ุจุจูุงุก ูุณุชุนูุฑุฉ ุนูู ุณุทุญ ุงูููุฑ</a></li>
<li><a href="../ar412603/index.html">ุนุจุงุฑุงุช php ุบุฑูุจุฉ</a></li>
<li><a href="../ar412607/index.html">ูุญุทุฉ ูุญุงู ุนูุณูุฉ ูู ุงูุฏุฑุฌุฉ ุงูุนุงููุฉ</a></li>
<li><a href="../ar412609/index.html">10 ูุตุงุฆุญ ููุฅูุชุงุฌูุฉ ูู CLion ุ ููุตุฉ C / C ++ IDE ุนุจุฑ ุงูุฃูุธูุฉ ุงูุฃุณุงุณูุฉ</a></li>
<li><a href="../ar412611/index.html">ูุง ุงููุดุชุฑู ุจูู ุงูุชุนุฏูู ุงููุนุงู ููุธุฑูุฉ ุงููุนุจุฉ</a></li>
<li><a href="../ar412613/index.html">ุงูุญุณุงุจ ุงูุตุญูุญ. ุงูุณู ุจุชูุฑูุจ ุงููุชูุฌุฉ. ุงูุฌุฒุก ุงูุฃูู</a></li>
<li><a href="../ar412615/index.html">ูุฌูุฏ ูุฏู ุงูุทุฑูู ูู ุฅุนูุงูุงุช BGP ุจูู PE ู CE</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>