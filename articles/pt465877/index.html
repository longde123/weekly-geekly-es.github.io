<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüë©‚Äçüëß üë©üèΩ‚ÄçüöÄ üî® Seguran√ßa da informa√ß√£o na nuvem: como a plataforma de servi√ßos de seguran√ßa cibern√©tica unificada funciona üßõüèΩ üêΩ üï∫üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No final do ano passado, ap√≥s um acordo com a Rostelecom, recebemos √† nossa disposi√ß√£o uma plataforma SD-WAN / SDN baseada em nuvem para fornecer serv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Seguran√ßa da informa√ß√£o na nuvem: como a plataforma de servi√ßos de seguran√ßa cibern√©tica unificada funciona</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/465877/"><img src="https://habrastorage.org/webt/up/fe/po/upfepor6uo1ei64ske5ajymh0gq.jpeg" alt="imagem"><br>  No final do ano passado, ap√≥s um acordo com a Rostelecom, recebemos √† nossa disposi√ß√£o uma plataforma SD-WAN / SDN baseada em nuvem para fornecer servi√ßos de IB aos clientes.  N√≥s nos conectamos aos fornecedores do projeto que entregam suas solu√ß√µes de forma virtualizada e recebemos um enorme colosso, que chamamos de Plataforma de Servi√ßos de Seguran√ßa Cibern√©tica Unificada (EPSC).  Sua principal caracter√≠stica √© a entrega de tecnologias de seguran√ßa da nuvem com a possibilidade de gerenciamento centralizado: implantar e alterar uma √∫nica fun√ß√£o de rede ou transforma√ß√£o global em todos os escrit√≥rios atendidos leva apenas alguns minutos.  Hoje, falaremos mais sobre sua arquitetura e "recheio". <br><a name="habracut"></a><br>  Mas, antes de se envolver, algumas palavras sobre o que o EPSC realmente sabe.  A plataforma inclui servi√ßos: prote√ß√£o de email (Secure Email Gateway, SEG) e aplicativos da Web (Web Application Firewall, WAF), preven√ß√£o de intrus√µes de rede (Unified Threat Management, UTM) e Anti-DDoS.  Todos eles podem ser usados ‚Äã‚Äãsimultaneamente e separadamente - aqui para cada um de acordo com suas necessidades. <br><br><h2>  Me envolva no tr√¢nsito, por favor.  Princ√≠pios de trabalho </h2><br>  Em geral: os dispositivos de roteamento CPE (Customer Premises Equipment) s√£o instalados em todos os locais do cliente.  O CPE fornece um t√∫nel seguro para nossos data centers - para a plataforma EPSC.  Portanto, apenas o tr√°fego liberado em nossos equipamentos de seguran√ßa de per√≠metro chega ao cliente.  Ao mesmo tempo, gra√ßas ao SD-WAN e ao tunelamento, o processo de entrega de tr√°fego para nossa plataforma n√£o depende da rede de qual provedor o cliente usa. <br><br><img src="https://habrastorage.org/webt/pz/b4/d0/pzb4d097koq__lisd7bcasadzau.jpeg" alt="imagem"><br><br><h3>  Arquitetura da plataforma </h3><br>  A infraestrutura f√≠sica do EPSC s√£o servidores x86 comuns, com m√°quinas virtuais implantadas neles, comutadores e roteadores.  O ponto √© que voc√™ pode gerenciar essa riqueza de maneira flex√≠vel e central.  E aqui duas palavras m√°gicas v√™m em nosso aux√≠lio - VNF e MANO. <br><br>  VNF (Virtualized Network Function) s√£o fun√ß√µes de rede fornecidas aos usu√°rios finais (UTM, SEG e WAF).  MANO (Gerenciamento e Orquestra√ß√£o) - um conjunto de ferramentas para gerenciar o ciclo de vida das fun√ß√µes virtualizadas.  Essas ferramentas oferecem essa centraliza√ß√£o e orquestra√ß√£o flex√≠vel, o que permite fazer altera√ß√µes em uma velocidade fundamentalmente diferente. <br><br>  E agora com mais detalhes. <br><br>  Na extremidade de cada data center, h√° um roteador Nokia 7750 SR-12 com uma taxa de transfer√™ncia de 400 Gb / s - fornece roteamento no per√≠metro e dentro da nuvem.  Em um n√≠vel inferior, os Junine 5100 Spine Switches com portas de 40 Gb / s, agregando todos os componentes de rede das camadas inferiores. <br><br>  Uma rede virtual inclui dois segmentos: SD-WAN, que conecta o ambiente de nuvem aos sites dos clientes, e SDN DC, uma rede definida por software dentro da pr√≥pria nuvem, atrav√©s da qual portas, endere√ßos IP etc. s√£o configurados.  ao criar uma cadeia de servi√ßos. <br><br>  A parte do servidor consiste em servidores de gerenciamento de plataforma em nuvem CloudBand, servidores de gerenciamento SDN, servidores de gerenciamento SD-WAN (VSD, VSC) e NSG-BR (roteadores virtuais que terminam IPsec sobre t√∫neis de cliente VXLAN) ou VXLAN, dependendo de qual se criptografia IPsec. <br><br>  O endere√ßamento IP branco para o tr√°fego do cliente √© implementado com base em 2 sub-redes com uma m√°scara / 22 (1018 endere√ßos em cada sub-rede): uma delas √© roteada para a Internet e a outra para a RSNet. <br><br><h3>  Toler√¢ncia a falhas </h3><br>  Toda a infraestrutura de nuvem √© reservada com base em dois data centers geograficamente remotos em Moscou, que operam no modo Ativo - Em espera.  Al√©m disso, qualquer cadeia de servi√ßos (um conjunto de fun√ß√µes para um cliente espec√≠fico) √© implantada em cada uma delas como um cluster.  No caso de uma emerg√™ncia, ao alternar de um n√≥ para outro, apenas 10 pacotes s√£o perdidos.  Como pessoas est√∫pidas criaram o TCP, a perda n√£o ser√° percept√≠vel. <br><br><img src="https://habrastorage.org/webt/hz/m3/gg/hzm3gg-czupkjo99f-mizurxyam.jpeg" alt="imagem"><br><br>  No futuro, planejamos uma expans√£o geogr√°fica al√©m dos Urais, a fim de reduzir os atrasos na transmiss√£o de dados para as regi√µes.  No entanto, hoje, mesmo para Khabarovsk, os atrasos s√£o de apenas 200 ms - os clientes jogam com sucesso no Steam e assistem a v√≠deos do YouTube (a partir de uma revis√£o real sobre o servi√ßo). <br><br>  Num futuro pr√≥ximo, ser√° poss√≠vel conectar um CPE a duas WANs independentes.  O canal pode ser MPLS, Ethernet (cobre ou √≥ptica, dependendo do CPE usado), modem USB LTE, etc.  Por exemplo, o canal principal pode ser de fibra √≥tica e o canal de backup pode ser sem fio (porque ningu√©m est√° imune √† escavadeira do destino e dos fios danificados).  Atualmente, √© poss√≠vel usar duas WANs, mas apenas ao usar dois CPEs em um cluster de alta disponibilidade. <br><br><h3>  Cadeias de Servi√ßo </h3><br>  O cliente seleciona os par√¢metros b√°sicos por meio do LC e inicia a forma√ß√£o da cadeia de servi√ßos: as interfaces de rede s√£o aumentadas automaticamente, os endere√ßos IP s√£o atribu√≠dos e as imagens VNF s√£o bombeadas, dependendo da largura de banda selecionada.  Por exemplo, se voc√™ encomendou o FortiGate Firewall por 300 Mbit, voc√™ receber√° automaticamente 4 n√∫cleos, 8 GB de RAM, uma certa quantidade de espa√ßo em disco e a imagem ser√° implantada automaticamente em uma configura√ß√£o de 0 dias. <br><br>  O desempenho de nossa plataforma agora foi projetado para 160 cadeias de servi√ßo de 1 Gbit cada e est√° planejado escalar at√© 1000 cadeias de servi√ßo de 50 Mbit cada (uma vez que as cadeias de 1 Gbit ser√£o muito menos populares, com base em nossa avalia√ß√£o de mercado). <br><br><h2>  CPE - mais fino, sim mais? </h2><br>  Na verdade, para nosso servi√ßo, escolhemos CPEs "thin" baseados no Nokia NSG-C e NSG-E200.  Eles s√£o sutis apenas porque n√£o podem executar VNFs de terceiros, mas, caso contr√°rio, possuem toda a funcionalidade necess√°ria para criar comunica√ß√£o entre sites, encapsulamento (IPsec e VPN); no entanto, solu√ß√µes de outros fabricantes podem ser usadas para esta tarefa.  Tamb√©m existem listas de controle de acesso (ACLs) para filtragem: parte do tr√°fego pode ser liberada localmente e parte pode ser enviada para limpeza fina no data center EPSC, onde s√£o implementadas as fun√ß√µes virtuais WAF, UTM e SEG. <br><br>  Al√©m disso, o dispositivo pode fazer o AAR (Application Aware Routing), ou seja,  priorize a largura de banda dependendo do tipo de tr√°fego usando os mecanismos de inspe√ß√£o profunda de pacotes (DPI).  Ao mesmo tempo, redes fixas e m√≥veis ou sua combina√ß√£o para tr√°fego diferente podem ser usadas como canais de comunica√ß√£o. <br><br>  A ativa√ß√£o do CPE √© baseada no princ√≠pio do provisionamento com zero toque.  Ou seja, tudo √© elementar: conectamos o CPE √† Internet, conectamos um laptop a partir da interface Ethernet interna, clicamos no link de ativa√ß√£o e ligamos nossa LAN em vez do laptop e tudo funciona.  Al√©m disso, em nossa nuvem, o t√∫nel IPsec sobre VXLAN aumenta por padr√£o (ou seja, o espa√ßo de endere√ßo √© primeiro isolado e depois encapsulado). <br><br>  Em geral, a op√ß√£o com um CPE fino nos parece mais conveniente.  Com essa abordagem, o cliente √© poupado de um poss√≠vel bloqueio de fornecedor e pode dimensionar a solu√ß√£o a qualquer momento, sem confinar com a espessura do CPE (50 Mbps). <br><br>  No caso de um CPE espesso, ele tamb√©m implementa, entre outras coisas, as fun√ß√µes virtuais selecionadas pelo cliente e, no datacenter da EPCC, existe apenas o gerenciamento da cadeia de servi√ßos.  A vantagem dessa abordagem √© que todo o tr√°fego √© processado localmente.  Ao mesmo tempo, o custo desse dispositivo √© muito mais alto e voc√™ n√£o pode executar mais de um servi√ßo espec√≠fico - √© necess√°rio adquirir CPEs adicionais.  Sim, e voc√™ pode esquecer os v√°rios fornecedores. <br><br>  Mas se o cliente possui uma plataforma bastante grande (escrit√≥rio, filial) que passa muito tr√°fego por si mesmo (mais de 200 Mbit / s) e deseja filtrar tudo localmente, faz sentido prestar aten√ß√£o √† s√©rie CPE Nokia NSG E300 da Nokia (e superior) c Largura de banda de 1 a 10 Gbps que suporta virtualiza√ß√£o (VNF). <br><br>  Por padr√£o, o SD-WAN coloca todos os sites do cliente em uma rede de malha completa, ou seja, os conecta de acordo com o princ√≠pio de "cada um com cada" sem filtragem adicional.  Isso reduz os atrasos no per√≠metro interno.  No entanto, √© poss√≠vel construir topologias mais complexas (estrela, estrela complexa, grades multiponto, etc.). <br><br><h2>  Opera√ß√£o </h2><br>  Todos os VNFs que est√£o na nuvem est√£o atualmente dispon√≠veis na doutrina cl√°ssica do MSSP, ou seja, est√£o sob nosso controle.  No futuro, os clientes ter√£o a oportunidade de gerenciar esses servi√ßos de forma independente, mas √© importante avaliar suas compet√™ncias com sensibilidade. <br>  Algumas fun√ß√µes simples agora s√£o parcialmente automatizadas.  Por exemplo, no Secure Mail Gateway, uma pol√≠tica √© configurada por padr√£o, na qual o usu√°rio recebe uma lista de mensagens potencialmente relacionadas a spam uma vez por dia e pode decidir seu destino por conta pr√≥pria. <br><br>  Alguns problemas e vulnerabilidades globais que est√£o sendo monitorados pelo nosso JSOC ser√£o rapidamente encerrados, inclusive para os clientes do EPSC.  E aqui a possibilidade de gerenciamento centralizado de pol√≠ticas e assinaturas √© exatamente o que precisamos - isso proteger√° os clientes de infec√ß√µes como Petya, NotPetya e outras. <br><br><h2>  Respostas honestas a perguntas embara√ßosas </h2><br>  De fato, embora acreditemos muito nas vantagens do modelo de servi√ßo, √© claro que para muitos o conceito de sistema de e-mail √© muito incomum.  O que nos perguntam com mais frequ√™ncia: <br><br>  <b>- O FortiGate fica em seu data center, ou seja, voc√™ ver√° nosso tr√°fego?</b> <br><br>  - N√£o, n√£o vemos tr√°fego.  O FortiGate o recebe de forma criptografada, descriptografa-o com a chave do cliente, verifica e processa-o com um antiv√≠rus de fluxo, criptografa-o novamente com a mesma chave e s√≥ o envia √† sua rede.  N√£o temos op√ß√µes para integrar esse processo (a menos que se envolva na engenharia reversa de solu√ß√µes duras de infobase, mas √© muito caro). <br><br>  <b>- √â poss√≠vel salvar nossa segmenta√ß√£o de rede ao migrar para a nuvem?</b> <br><br>  - E aqui h√° uma limita√ß√£o.  A segmenta√ß√£o de rede n√£o √© uma hist√≥ria nublada.  O UTM √© um firewall de limite da rede de um cliente no qual a segmenta√ß√£o n√£o pode ser feita, ou seja, seus dados saem em um √∫nico canal.  Em certo sentido, voc√™ pode segmentar a rede dentro da ACL no CPE, definindo restri√ß√µes diferentes para sites diferentes.  Mas se voc√™ possui aplicativos de neg√≥cios que precisam interagir de maneira diferente entre si atrav√©s do firewall, ainda precisar√° usar um FW separado para segmenta√ß√£o interna. <br><br>  <b>- O que acontecer√° com nossos endere√ßos IP ao mudar para a nuvem?</b> <br><br>  - Na maioria dos casos, voc√™ precisar√° alterar seus endere√ßos IP brancos para os nossos.  Uma exce√ß√£o √© poss√≠vel se voc√™ tiver um sistema aut√¥nomo n√£o independente (PI AS) do provedor, alocado para voc√™, que possa ser anunciado novamente por n√≥s. <br><br>  √Äs vezes, √© mais l√≥gico escolher uma op√ß√£o complexa - por exemplo, permitir o tr√°fego do usu√°rio pelo UTM e liberar outros segmentos de rede diretamente para a Internet. <br><br>  <b>- E se voc√™ precisar proteger um site hospedado por um provedor externo?</b> <br><br>  - CPE n√£o coloca l√°.  Voc√™ pode conectar o WAF alterando o registro ADNS: altere o IP do site para o IP da cadeia de servi√ßos e, em seguida, o tr√°fego passar√° pela nossa nuvem sem a ajuda do CPE. <br><br>  Se voc√™ tiver outras perguntas, escreva nos coment√°rios e tentaremos respond√™-las </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt465877/">https://habr.com/ru/post/pt465877/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt465861/index.html">"Nuvem" confidencial. Estamos procurando uma alternativa para abrir solu√ß√µes</a></li>
<li><a href="../pt465863/index.html">Como usar o MIDI para web em resumo</a></li>
<li><a href="../pt465867/index.html">Reprogramamos o caixa e imprimimos nele Keanu Reeves</a></li>
<li><a href="../pt465869/index.html">Convertendo modelos poligonais em representa√ß√£o de limites: exemplos de algoritmos e c√≥digos</a></li>
<li><a href="../pt465873/index.html">O problema que voc√™ resolve √© mais importante que o c√≥digo que voc√™ escreve</a></li>
<li><a href="../pt465879/index.html">E os ber√ßos?</a></li>
<li><a href="../pt465885/index.html">Como se tornar um l√≠der em Scrum Master e agitar a equipe?</a></li>
<li><a href="../pt465889/index.html">Como abordamos a efici√™ncia energ√©tica</a></li>
<li><a href="../pt465891/index.html">Como criar um nome de produto ou empresa usando o Vepp como exemplo</a></li>
<li><a href="../pt465893/index.html">Summ3r do h4ck 2019. Departamento de An√°lise de Seguran√ßa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>