<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüé® üë©üèº‚Äç‚öñÔ∏è üë¶üèø Extensi√≥n web entre navegadores para scripts personalizados Parte 1 üë©üèª‚Äçüè≠ ü§£ üñ®Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En esta serie de art√≠culos, quiero hablar sobre mi experiencia escribiendo una extensi√≥n web para navegadores. Ya ten√≠a experiencia en la creaci√≥n de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Extensi√≥n web entre navegadores para scripts personalizados Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415183/"> En esta serie de art√≠culos, quiero hablar sobre mi experiencia escribiendo una extensi√≥n web para navegadores.  Ya ten√≠a experiencia en la creaci√≥n de una extensi√≥n web, que fue instalada por unos 100,000 usuarios de Chrome, que funcion√≥ de manera aut√≥noma, pero en esta serie de art√≠culos decid√≠ profundizar en el proceso de desarrollo de la extensi√≥n web al integrarla estrechamente con el lado del servidor. <br><br><img width="65" src="https://habrastorage.org/getpro/habr/post_images/188/09a/2d6/18809a2d60126c22c85f0dbb38c188dc.png" alt="imagen"><img width="65" src="https://habrastorage.org/getpro/habr/post_images/474/b37/7c9/474b377c9fd5df452ee6b2ae849c2891.png" alt="imagen"><img width="65" src="https://habrastorage.org/getpro/habr/post_images/804/cc0/c91/804cc0c91bd30f83537540bd6aca22df.png" alt="imagen"><img width="65" src="https://habrastorage.org/getpro/habr/post_images/94e/097/462/94e097462cb7f3af3b482312f6fd2ee9.png" alt="imagen"><img width="65" src="https://habrastorage.org/getpro/habr/post_images/4bf/d73/6f6/4bfd736f6830e4396071afedad261bfd.png" alt="imagen"><br><br><a name="habracut"></a><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 4</a> <br><br><h1>  Idea para extensi√≥n web </h1><br>  Cada desarrollador se enfrenta a las tareas de automatizaci√≥n de procesos en el navegador.  Una vez para m√≠, la tarea era reunir a miembros de grupos de un determinado tema en LinkedIn y Facebook. <br><br>  Antes de eso, ten√≠a experiencia escribiendo soluciones de analizador web en php, pero estos sitios usan muchos elementos din√°micos y el enfoque de la soluci√≥n para esta tarea se ha desplazado espec√≠ficamente a interactuar con los recursos web a trav√©s de un navegador. <br><br>  Por supuesto, no iba a violar el acuerdo sobre la prestaci√≥n de servicios (T√©rminos y condiciones), por lo que lo que se describe a continuaci√≥n es pura ficci√≥n de mi imaginaci√≥n y no se recomienda su implementaci√≥n. <br><br>  Fue posible abrir r√°pidamente la consola del desarrollador y escribir un script javascript que simule las acciones del usuario, despu√©s de lo cual pude recopilar datos.  Este enfoque funcion√≥ parcialmente con Facebook, donde los miembros del grupo y su informaci√≥n se pueden recopilar en una p√°gina.  Pero no funcion√≥ para LinkedIn, donde debe abrir la p√°gina de cada miembro. <br><br>  Despu√©s de buscar soluciones de terceros, eleg√≠ iMacros para esta tarea.  Esta extensi√≥n tiene su propio lenguaje para escribir macros.  De alguna manera lo adapt√© para resolver el problema de LinkedIn.  Tuve que descargar la versi√≥n anterior de Mozilla Firefox, ya que la extensi√≥n no funcionaba para la implementaci√≥n multiproceso de este navegador. <br><br>  Mientras buscaba soluciones de terceros, me encontr√© con muchas variaciones de analizador web, rastreador web, raspador web, etc. Muchos se centraron en sitios con navegaci√≥n p√°gina por p√°gina y no en contenido din√°mico.  Algunas soluciones sugirieron instalar una soluci√≥n de software para el sistema operativo y luego usar una extensi√≥n web para un complejo tan complejo.  Encontr√© cosas muy especializadas, por ejemplo, para reunir participantes solo en Facebook. <br><br>  Despu√©s de todo el tormento, tuve la idea de "inventar mi bicicleta" para automatizar las tareas en el navegador.  Entre los requisitos obligatorios para mi extensi√≥n web, destaqu√©: <br><br><ol><li>  Trabaje en la cantidad m√°xima de navegadores web, incluidos los dispositivos m√≥viles. </li><li>  El uso del lenguaje de secuencias de comandos est√°ndar para los navegadores es javascript. </li><li>  Usando sus propios archivos de datos en scripts. </li><li>  La capacidad de guardar los datos recibidos del script en un archivo. </li><li>  Los guiones deben ser p√∫blicos o privados.  Si el script es p√∫blico, entonces el equipo de seguridad debe verificar dicho script. </li></ol><br>  Adem√°s de esta lista, not√© cosas m√°s espec√≠ficas para cada elemento. <br><br><ol><li>  Debe usar un marco para escribir extensiones web para minimizar los esfuerzos para desarrollar soluciones entre navegadores. </li><li>  Todos los navegadores admiten Javascript, pero debe escribir su propia biblioteca para interactuar con la extensi√≥n web.  Esta biblioteca debe tener funciones para guardar datos, recuperar datos de archivos descargados, etc. </li><li>  A menudo es necesario usar la entrada para ejecutar el script.  Por ejemplo, datos para autorizaci√≥n, claves para la API, una lista de p√°ginas para rastrear, etc. Dichos datos deben cargarse directamente en la extensi√≥n web y almacenarse en la nube. </li><li>  Guardar datos del script es una de las funciones m√°s necesarias para la automatizaci√≥n.  Los datos almacenados deben cargarse a csv directamente desde la extensi√≥n web, o enviarse al correo del usuario cuando se excede el l√≠mite de datos para cargar.  Por ejemplo, si la carga de miembros del grupo supera los 10.000, la descarga desde una extensi√≥n web puede llevar mucho tiempo.  Esto debe evitarse generando un archivo en el servidor. </li><li>  Debe tener una interfaz web administrativa para que el equipo de seguridad verifique los scripts de los usuarios que han marcado como p√∫blicos. </li></ol><br>  De vez en cuando, encontraba m√°s y m√°s soluciones para el mismo problema: ejecutar scripts personalizados en un navegador.  Todas estas soluciones no se ajustaban a mis requisitos, ya que quer√≠a tener una extensi√≥n web que pudiera eliminar anuncios en cada p√°gina;  transformar la p√°gina y mostrarme solo su contenido, sin marcas innecesarias;  recopilar datos de cualquier p√°gina y convertirlos a un formato conveniente para uso futuro;  recopilar datos despu√©s de un cierto per√≠odo de tiempo;  etc. <br><br>  Por lo tanto, me "incendi√©" furiosamente creando una extensi√≥n para ejecutar scripts personalizados para el rango m√°ximo de tareas. <br><br><h1>  Elegir un marco de extensi√≥n web </h1><br>  Dado que inicialmente apunt√© al n√∫mero m√°ximo de navegadores web, necesitaba un marco para construir extensiones entre navegadores.  Podemos notar de inmediato el hecho de que simplemente no existe dicho marco.  Porque muchos navegadores, aunque funcionan de esta manera y proporcionan extensiones web con una API similar para la interacci√≥n, son fundamentalmente diferentes. <br><br>  Me vi obligado a abandonar la versi√≥n inicial del soporte del navegador m√≥vil casi de inmediato.  Dado que ninguno de estos navegadores no ofrece la posibilidad de utilizar extensiones web.  Solo encontr√© una menci√≥n de soporte para extensiones web en el navegador Dolphin, pero no pude encontrar informaci√≥n detallada en el sitio web oficial.  Se decidi√≥ abandonar esta brillante idea. <br><br>  Al escribir mi antigua extensi√≥n, utilic√© el marco kango.  En 2013, fue lo m√°s conveniente posible.  Aunque sin el soporte de Internet Explorer. <br><br>  Dado que mi extensi√≥n podr√≠a funcionar como un marcador, no prest√© atenci√≥n a este hecho y eleg√≠ este marco, que para su momento era la soluci√≥n perfecta para el desarrollo entre navegadores. <br><br>  Desde entonces, han aparecido otros proyectos que se han fijado el objetivo del desarrollo de extensiones web en varios navegadores.  Encontr√© todos estos proyectos en una etapa temprana de desarrollo.  Desde entonces, su tarea se ha simplificado, ya que Mozilla Firefox comenz√≥ a usar la API de WebExtensions, lo que hizo posible convertir f√°cilmente las extensiones de Chrome en extensiones para Firefox. <br><br>  Las extensiones para el navegador Opera en 2013 eran compatibles con las extensiones para Chrome.  Las extensiones para Safari ahora solo funcionan para MacOs, porque el soporte para la plataforma Windows del navegador Safari en s√≠ mismo ha cesado hace mucho tiempo. <br><br>  El navegador Tor se ejecuta en el antiguo motor Mozilla Firefox y, por lo tanto, admite extensiones web xpi, que la Fundaci√≥n Mozilla ha abandonado en favor de la tecnolog√≠a de extensi√≥n web. <br><br>  En esencia, el marco de trabajo de kango casi est√° haciendo su trabajo hasta el d√≠a de hoy, ya que genera extensiones web para todos los navegadores, excepto Internet Explorer.  Pero como ha pasado mucho tiempo y Firefox ahora funciona en un mecanismo similar a Chrome, kango genera el mismo paquete para dos navegadores.  Tuve que modificar un poco la generaci√≥n para Firefox y agregar la generaci√≥n para Tor. <br><br>  Dado que el estado del proyecto de marco de kango no est√° claro, as√≠ como la licencia del c√≥digo, no puedo publicar mis cambios en el dominio p√∫blico.  Si los titulares de los derechos de autor permiten el lanzamiento de la versi√≥n 1.9.0 con c√≥digo fuente abierto, estar√© encantado de ayudarlo en esta tarea. <br><br>  Todas las extensiones web tienen dos puntos para trabajar con datos.  El archivo content.js le permite manipular el DOM, mientras que background.html le permite trabajar con datos de fondo e interacci√≥n con el servidor.  La comunicaci√≥n entre estos dos puntos ocurre a trav√©s del mecanismo del mensaje. <br><br>  Por lo tanto, para modificar el DOM con datos del lado del servidor, necesitamos obtenerlos de background.html y usarlos en content.js a trav√©s del mecanismo de paso de mensajes <br><br>  Tal mecanismo ideal no funcion√≥ para mi caso por varias razones.  Por lo tanto, dej√© en background.js solo la l√≥gica de trabajar con ventanas emergentes y el bot√≥n de extensi√≥n web en el navegador. <br>  La l√≥gica de cualquier extensi√≥n web con una ventana emergente es la misma.  Al hacer clic en el bot√≥n, solo mostramos una ventana emergente, en el segundo clic, cerrar. <br><br>  El marco Kango ofrece al desarrollador una interfaz unificada para la interacci√≥n, y luego traduce el c√≥digo de la extensi√≥n web escrita a la extensi√≥n web para un navegador web espec√≠fico y, por lo tanto, ahorra mucho tiempo desarrollando extensiones web entre navegadores. <br><br>  En el pr√≥ximo art√≠culo, hablar√© sobre elegir el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Marco para el lado del servidor de la extensi√≥n web y la interfaz de extensi√≥n web"</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es415183/">https://habr.com/ru/post/es415183/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es415169/index.html">Compresi√≥n y deduplicaci√≥n: reduzca el tama√±o del archivo de correo y la copia de seguridad utilizando el invierno ZxPowerstore</a></li>
<li><a href="../es415171/index.html">Leyes de reflexi√≥n en Go</a></li>
<li><a href="../es415175/index.html">Entrevista con miembro de la Expo Mundial Aumentada</a></li>
<li><a href="../es415177/index.html">Bienvenido</a></li>
<li><a href="../es415181/index.html">[Ekaterimburgo, anuncio] Mitap de analistas: sobre los primeros analistas y CBAP, sobre m√©tricas, sobre el sector p√∫blico y los tipos de analistas</a></li>
<li><a href="../es415185/index.html">Videoconferencia gratuita de 3CX WebMeeting: descripci√≥n general de la funci√≥n</a></li>
<li><a href="../es415187/index.html">El primero es r√°pido. Pero tambi√©n muy hermosa! Prueba de HyperX Predator RGB RAM</a></li>
<li><a href="../es415189/index.html">Pensamiento funcional Parte 1</a></li>
<li><a href="../es415191/index.html">Nuevo campeonato ML Boot Camp VI. Predicci√≥n de la respuesta del p√∫blico a la encuesta en l√≠nea.</a></li>
<li><a href="../es415193/index.html">Traducci√≥n: ¬øPor qu√© es FI importante incluso para los programadores de OOP?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>