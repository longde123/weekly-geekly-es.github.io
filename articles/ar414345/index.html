<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐ปโ๐จ ๐๐ฟ ๐ฉ๐ปโ๐ ุงูุชุทูุฑ ุงูุนูุณู ูููุชุงุญ ุงูููุช VL-76-S ๐๐ฝ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฐุงุช ูุฑุฉ ูุฑุฑุช ุจููุชุงุญ ุงูููุช ุงูุฑููู ุงูุฅููุชุฑููู VL-76-S ุ ุฌุฏูุฏ ุ ูู ุนุจูุฉ ุ ูููู ูู ุญุงูุฉ ุฎูู. ูู ูุชู ุงูุนุซูุฑ ุนูู ุนููุจ ูู ููุญุงุช ุงูุฏูุงุฆุฑ ุงููุทุจูุนุฉ ูู ุงูุฏุงุฎู. ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุชุทูุฑ ุงูุนูุณู ูููุชุงุญ ุงูููุช VL-76-S</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414345/" style=";text-align:right;direction:rtl">  ุฐุงุช ูุฑุฉ ูุฑุฑุช ุจููุชุงุญ ุงูููุช ุงูุฑููู ุงูุฅููุชุฑููู VL-76-S ุ ุฌุฏูุฏ ุ ูู ุนุจูุฉ ุ ูููู ูู ุญุงูุฉ ุฎูู.  ูู ูุชู ุงูุนุซูุฑ ุนูู ุนููุจ ูู ููุญุงุช ุงูุฏูุงุฆุฑ ุงููุทุจูุนุฉ ูู ุงูุฏุงุฎู.  ูุฐูู ุ ุฒูุงุฌ ุงููุตูุน ุ ูุณุฑ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/cn/vj/2v/cnvj2vs2aonwmvjljydwos0ewqi.jpeg"></div><br>  <i>ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูุชุชุงุจุน.</i> <br><a name="habracut"></a><br>  ูุง ูุงุฌุฃูุง ูู ุงุณุชุฎุฏุงู ูุชุญูู ุจุณูุท ูุจุณูุท ATTiny2313.  ุฎุงุฑุฌูุงู ุ ูุชููู ูุฐุง ุงูุชุตููู ูู ุณูุฏ ุนูู ุดูู ุซูุงุซุฉ ุนููุฏ ูู ุงูููุงุชูุญ ููุญุทุฉ ูุชู ุชูุตูู ุงูุทุงูุฉ 220 ูููุช ูุงุชุตุงูุงุช ูุฑุญู EM.  ูุทุงู ุงููููุฉ 0.1 ... 99.9 ุฏูููุฉ.  ุจุฒูุงุฏุงุช 0.1 ุฏูููุฉ  (6 ุซูุงู).  ูุง ุชูุฌุฏ ุฏูุงุฆุฑ ูุจุฑุงูุฌ ุซุงุจุชุฉ ุนูู ูุฐุง ุงูุชุตููู ุนูู ุงูุฅูุชุฑูุช ุ ููุฐุง ููุณ ููุงุฌุฆูุง.  ุฏูู ุงูุชูููุฑ ูุฑุชูู ุ ูุฑุฑุช ุฑุณู ุงูุฏุงุฆุฑุฉ ูู ููุญุงุช ุงูุฏูุงุฆุฑ ุงููุทุจูุนุฉ ููู ุงููุณุชูุจู ุงูุชุจ ุงูุจุฑูุงูุฌ ุนูู ุนุถู ุงููููุณุช ุจููุณู. <br><br>  ูุชููู ุงูุชุตููู ูู ุซูุงุซ ููุญุงุช ุฏูุงุฆุฑ ูุทุจูุนุฉ ูุชุฑุงุจุทุฉ.  ูู ุงูููุญุฉ ุงูุฃููู ุ ูุชู ุฅุฌุฑุงุก ูุตุฏุฑ ุทุงูุฉ ููุฑุญู ุชูููุฐ TRA3.  ูุชู ุชูููุฑ ูุตุฏุฑ ุงูุทุงูุฉ ููููุง ูุฏุงุฆุฑุฉ ุจุฏูู ูุญูู: ูุชู ุงุณุชุฎุฏุงู ููุซูุงุช ุงูุชุจุฑูุฏ ูุชูููู ุงูุฌูุฏ.  ูู ุงูููุญุฉ ุงูุซุงููุฉ ููุฌุฏ ATTiny2313 MK ูุงูุนูุงุตุฑ ุงููุณุงุนุฏุฉ ุงูุฃุฎุฑู.  ุนูู ุงูููุญุฉ ุงูุซุงูุซุฉ ุชูุฌุฏ ููุงุชูุญ (ููุงุท ุถุจุท) ู LED ุชุญูู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/be/ew/4h/beew4hzen1salm0a6x7mlwhak2g.jpeg"></div><br>  <i>ุตูุฑุฉ ูููุญุฉ ุงูุซุงูุซุฉ ูู ุงูุฎูู.</i> <br><br>  ุณุฃุจุฏุฃ ุงููุตู ูุน ุงูููุญุฉ ุงูุซุงูุซุฉ.  ุงูููุงุชูุญ ูู ููุงุชูุญ 10 ูููู.  ูุง ููุฌุฏ ุนูุงูุงุช ุนูููุง ุ ููู ูููู 5 ุฌูุงุช ุงุชุตุงู.  ูุฐูู ุ ุงุนุชูุงุฏูุง ุนูู ุงููููุน ุ ูุชู ุฅุบูุงู ุฌูุงุช ุงุชุตุงู ูุนููุฉ ูู ูุฌููุนุงุช ูุฎุชููุฉ.  ุนูุฏ ุงุณุชุฏุนุงุก ุฌูุงุช ุงูุงุชุตุงู ุ ุงูุชุดูุช ุงูููุท ุนูู ุงูููุฑ: ุชู ุฅุบูุงู ุฃุญุฏ ุงููุฎุฑุฌุงุช ุงูุซุงุจุชุฉ (ุนุงู) ูุน ุงููุฎุฑุฌุงุช ุงูุฃุฑุจุนุฉ ุงูุฃุฎุฑู (ุงููุนูููุงุช) ููููุง ููุชูุซูู ุงูุซูุงุฆู ููุฑูู ุงูููุงุจู ูุนุฏุฏ ุงูููุถุน ุงููุญุฏุฏ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุชู ุชุญุฏูุฏ ุงูููุถุน "3" ุ ูุณูุชู ุฅุบูุงู ุงููุฎุฑุฌ ุงูุนุงู (ุงูุฎุงูุณ ุนูู ุงูุชูุงูู) ูุน ุฅุฎุฑุงุฌ ุงูุซุงูุซ ูุงูุฑุงุจุน ุ ูุฃู ุงูุฑูู "3" ูู ุงูุชูุซูู ุงูุซูุงุฆู ูู "0011".  ููุง ูุซู ูุฐุง ุงูุชุจุฏูู ุงูุตุนุจ.  ูููุงู ุซูุงุซุฉ ูููู.  ููู ูุชุตูุฉ ุนุจุฑ ููุตูุงุช XP1 ู XP2 ุจุงูููุญุฉ ุงูุซุงููุฉ ูุน MK.  ูููู ููุตู XP3 ุจุชูุตูู LED ูุจุนุถ ุงูุฃุบุทูุฉ ุบูุฑ ุงูููุญููุฉ ุงูุฃุฎุฑู ุบูุฑ ุงูุถุฑูุฑูุฉ ุ ูุงูุชู ููุฌุฏ ุจูุง ููุงู ุนูู ุงูููุญุฉ.  ุนูู ุงูุฃุฑุฌุญ ูุฐุง ูู ููุชุงุญ DPDT ุณุฏุงุณู ุงูุดุงุฆุน (ูุซู ูุฑุจุน ูุงุญุฏ ุ PB22E06 ุนูู ุณุจูู ุงููุซุงู).  ุฑุจูุง ูููู ุงูููุญ ุนุงููููุง ุ ูููู ูุง ูุชู ุงุณุชุฎุฏุงูู ูู ูุฐุง ุงููููุฐุฌ ุจุงูุฐุงุช. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lo/tv/rq/lotvrq9ovoeetew2zmaa6sauury.jpeg"></div><br>  <i>ุตูุฑุฉ ูููุญุฉ (ุงูุฑุฆูุณูุฉ) ุงูุซุงููุฉ.</i> <br><br>  ุนูุฏ ุงูุงุชุตุงู ุจุฌูุงุช ุงูุงุชุตุงู ุงูุฎุงุตุฉ ุจุงูููุงุชูุญ ุ ูู ุฃููู ุนูู ุงูููุฑ ูุจุฏุฃ ุงุชุตุงููู ุจููุงูุฐ MK.  ุนูู ุงูููุญุฉ ุงูุฑุฆูุณูุฉ ุ ุชุธูุฑ ุนูู ุงูููุฑ 8 ุชุฑุงูุฒุณุชูุฑุงุช SMD.  ุงูุชุดู ูุงุญููุง ุฃู ูุฐู ุงูุชุฑุงูุฒุณุชูุฑุงุช ุชุณุชุฎุฏู ูุฃุฒูุงุฌ ุฏููุฏ ูุน ุฃููุฏ ูุดุชุฑู.  ุชูุชูู ููุงุนุฏูู ุฅูู ููุงูุฐ MK ุ ููุฐูุจ ููุงุฉ ุงูุฌูุน ูุงูุจุงุนุซูู ุฅูู ุชุจุฏูู ุฌูุงุช ุงูุงุชุตุงู.  ุซู ุดุฑุญูุง ูู ุฃูู ูู ูุซู ูุฐู ุงูุญุงูุงุช ุชูุฌุฏ ุฃุฒูุงุฌ ุฏููุฏ ุ ูุฑููู ูุซู ุงูุชุฑุงูุฒุณุชูุฑุงุช ุ ููููู ููุณูุง ุชุฑุงูุฒุณุชูุฑุงุช.  ูู ุงููุฌููุน ุ ูุฏููุง 16 ููุตููุง ูุชุฑููู ุฃุฒูุงุฌ ุงูุตูุงู ุงูุซูุงุฆู ุนูู ุงูููุญุฉ ุงูุซุงูุซุฉ.  ูุฃุชู ุซูุงุซุฉ ุฃุฑุจุงุนูู (12 ูุทุนุฉ) ุฅูู ุฌูุงุช ุงูุงุชุตุงู ุงููุนูููุงุชูุฉ ููููุงุชูุญ (ูู ุซูุงุซุฉ ุฅูู ุฃุฑุจุนุฉ) ุ ู 4 ุชุจูู ูุฌุงููุฉ.  ูู ุงูุณูู ุชุฎููู ุฃูู ุชู ุชูููุฑูุง ูุธุฑููุง ููููุชุงุญ ุงูุฑุงุจุน ุ ููู ุบูุฑ ุบุงุฆุจ ุฅูู ุญุฏ ูุง ุ ูุฃูู ูุง ุชูุฌุฏ ูุณุงุญุฉ ูู ุนูู ุงูููุญุฉ ุนูู ุงูุฅุทูุงู.  ููุน ุฐูู ุ ููู ูุง ููุชูู ููุทู ุงูููุทู ุ ุณุฃุฐูุฑ ูุฐุง ุงูุชุญูู ุงูุฑุงุจุน ุงูุฎูุงูู.  ูุชู ุชูุตูู ุงูููุงูุชูู ุงููุดุชุฑูุชูู ููููุชุงุญูู ุงูุซุงูู ูุงูุซุงูุซ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูููุชุงุญูู ุงูุฃูู ูุงูุฑุงุจุน (ููู ุงูุฑุงุจุน ูุง ูููุฑ ุงูููุญุฉ) ูุนูุง ูู ุงููุณุงุฑุงุช ุงูุฑุฆูุณูุฉ ูู ุงูููุญุฉ ุงูุฑุฆูุณูุฉ ุนูู ููุตูุงุช ุงูุชุฒุงูุฌ XS1 ู XS2.  ูุฑุชุจุท ูุฐุงู ุงูุฒูุฌุงู ุจูุฎุฑุฌุงุช ูุฌููุนุงุช ุงูุชุฑุงูุฒุณุชูุฑ.  ุตูุนุช ูุงุชุงู ุงููุฌููุนุชุงู ุงููุชูุงุซูุชุงู ุนูู ุงูุชุฑุงูุฒุณุชูุฑุงุช BC857 ู BC847 (ููุงูู ูุฎุชููุฉ).  ุชุฑุชุจุท ูุฏุฎูุงุชูู ุฅูู ุนุถู ุงููููุณุช.  ุนูุฏ ุชุทุจูู "0" ููุทูู ุนูู ุฅุฏุฎุงู ูุฐู ุงููุฌููุนุฉ ุ ุณูููู ุงูุฅุฎุฑุงุฌ ุฃูุถูุง "0" ููุทูู.  ุฃูุถูุง ุ ุนูู ุงูููุญุฉ ููุฌุฏ ููุตู XP2 ููุจุฑุงูุฌ ุงูุซุงุจุชุฉ MK ุ ูุชุตู ุจุฃุทุฑุงู SPI ููุงุฌูุฉ MK ุ ูููุตู XS3 ููุตุจุงุญ LED ูููุตู XP1 ูุชุตู ุจูุงุณุทุฉ ูุงุจู ุจุงูููุญุฉ ุงูุฃููู.  ูุฌุจ ุฃู ูุชุฐูุฑ ุฃูู ูููู ุงุณุชุฎุฏุงู ุจุนุถ ููุงูุฐ MK ููู ูู SPI (ููุจุฑุงูุฌ ุงูุซุงุจุชุฉ) ููุฅุฎุฑุงุฌ ุงูุฅุฏุฎุงู ุงูุนุงุฏู (ุงูุนูู ูู ุงูุฏุงุฆุฑุฉ). <br><br>  ููุนูุณ ูู ูุง ุณุจู ูู ุงููุฎุทุทุงุช ุงูุชู ุฑุณูุชูุง ุฃููุงู ูู ุงููุณูุฏุฉ ุ ุซู ูู SPlan.  ุชููููุงุช ุงูุนูุงุตุฑ ุงูุฑุงุฏูููุฉ ุงูุชู ูู ูุชู ุชูููุฒูุง (ุนูู ุณุจูู ุงููุซุงู ุ ููุซูุงุช SMD) ุบูุฑ ููุฌูุฏุฉ ูู ุงูุฑุณูู ุงูุจูุงููุฉ ุ ููู ููุณุช ูููุฉ ููุบุงูุฉ.  ุฃููุงู ุ ุณุฃูุฏู ุฑุณููุง ุชุฎุทูุทููุง ูููุญุฉ ุงูุฑุฆูุณูุฉ ูุงูููุญุฉ ูุน ุงููุณุชูุทููู (ุชูููุนุงุช ุงูุตูุฑ ุฃุฏูุงู). <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/4c/r8/gr/4cr8gr6u5edycy869h9wuyprgs0.gif"></div><br>  <i>ูุฎุทุท ุงูููุญุฉ ุงูุฑุฆูุณูุฉ.</i> <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pg/sx/uy/pgsxuy7cgafwqwabsx39prgwkgw.gif"></div><br><br>  <i>ูุฎุทุท ุงูููุญุฉ ุงูุซุงูุซุฉ ูุน ุงููุณุชูุทููู</i> <br><br>  ุถุน ูู ุงุนุชุจุงุฑู ููููุฉ ุงุณุชุฌูุงุจ ูู ุฃุฏุงุฉ ุถุจุท.  ุชูุชุญ ุงูุฅุดุงุฑุงุช ูู ุงูููุงูุฐ PB4 ู PB5 MK logic "0" ุงูุชุฑุงูุฒุณุชูุฑุงุช VT2 ู VT1 ุ ุชูููุง VT4 ู VT3 ุ ูุชูุตูููุง ุจุฌูุงุช ุงูุงุชุตุงู ุงููุดุชุฑูุฉ ููุญุงููุงุช ุตูุฑ ููููุงุชูุญ ุฑูู 1 ูุฑูู 2-ุฑูู 3 ุนูู ุงูุชูุงูู.  ูุญุฏุซ ูุฐุง ุจุฏูุฑู.  ุฃููุงู ุ ุชุฃุชู ุงููููุฉ "0" ุงูููุทููุฉ ูู PB4 (ุชู ุชุนููู PB5 ุญุชู ุงูุขู ุนูู "1" ุงูููุทูู) ุ ูุชูุตูู ุงููุญูููู ุงูุซุงูู ูุงูุซุงูุซ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุชุณุฌูู ููู ุงูุฅุดุงุฑุงุช ุจุฏูุฑูุง ุจูุงุณุทุฉ ูุญุฏุฉ ุงูุชุญูู ูู ููุงูุฐ ุงูุฅุฏุฎุงู PB3 ู PB2 ู PB1 ู PB0 ุนุจุฑ ูุฌููุนุงุช ุงูุตูุงู ุงูุซูุงุฆู 2VD1 ... 2VD4 ูู ุงููุญููุงุช ุงูุฑุงุจุนุฉ ูุงูููููุฏุฉ ุงูููููุฏุฉ.  ุนูู ุงูููุฑ ุ ูุชู ุฅุตูุงุญ ููู ุงูุฅุดุงุฑุงุช ูู ุงููุณุงููุฑ PD6 ู PD5 ู PD4 ู PD3 MK ุ ูุงูุชู ุชุฃุชู ุงูุฅุดุงุฑุงุช ูู ุงูููุชุงุญูู ุงูุฃูู ูุงูุซุงูุซ ูู ุฎูุงู ูุฌููุนุงุช ุงูุตูุงู ุงูุซูุงุฆู 2VD5 ... 2VD8.  ูููู ุ ูุธุฑูุง ูุฃู ุงูููุชุงุญูู ุงูุซุงูู ูุงูุซุงูุซ ููุท ูุชุตูุงู ุจุฌูุฉ ุงุชุตุงู ูุดุชุฑูุฉ ุ ูุฅู ุงูุฅุดุงุฑุงุช ูู ุงูููุชุงุญ ุงูุซุงูู ุณุชุตู ุฅูู ุงูููุงูุฐ ุงูุฃููู ุงููุญุฏุฏุฉ ูู MK ุ ูุณูุชู ุชุฌุงูู ุงูููุชุงุญ ุงูุฑุงุจุน.  ูุจุงููุซู ุ ุณุชุฃุชู ุงูุฅุดุงุฑุงุช ูู ุงูููุชุงุญ ุงูุซุงูุซ ุฅูู ุงููุตู ุงูุซุงูู ูู MK ุ ูุณูุชู ุชุฌุงูู ุงูุฃูู.  ูู ูุฐู ุงููุฑุญูุฉ ุ ุชุนุฑู ูุญุฏุฉ ุงูุชุญูู ูู ุงูููุงุถุน ุงูุชู ุชู ูููุง ุชุซุจูุช ุงูููุชุงุญูู ุงูุซุงูู ูุงูุซุงูุซ.  ุจุนุฏ ุฐูู ุ ูุชู ุชุนููู PB4 ุนูู "ุงููุญุฏุฉ" ุ ูุฅููุงู ุงูููุชุงุญูู ุงูุซุงูู ูุงูุซุงูุซ ุ ููุชู ุชุนููู PB5 ุนูู "ุตูุฑ".  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุชูุตูู ุงูููุชุงุญูู ุงูุฃูู ูุงูุฑุงุจุน ุงูููููุฏ ูู ุฎูุงู ููุงูุฉ ูุดุชุฑูุฉ ูู "ุงูุญุงูุฉ".  ูุญุฏุซ ุงุณุชุฌูุงุจูู ุชูุงููุง ููุง ูู ุงูุญุงู ูู ุงูุญุงูุฉ ุงูุณุงุจูุฉ ุ ูููู ุงูุขู ุณูุชู ุชุณุฌูู ุฅุดุงุฑุงุช ูู ููุงุชูุญ ุงูุชุจุฏูู ุงูุชู ุชู ุชุฌุงูููุง ูู ุงููุฑุฉ ุงูุฃุฎูุฑุฉ.  ูุจุงูุชุงูู ุ ูุฅู ุฌูุงุฒ ุงูุชุญูู ูุนุฑู ูุนูููุงุช ุงููููุน ูุฌููุน ุงูููุงุชูุญ.  ุชุดุจู ูุฐู ุงูุนูููุฉ ุงุณุชุทูุงุน ููุญุฉ ููุงุชูุญ ุงููุตูููุฉ ุ ูููู ูู ูุฐู ุงูุญุงูุฉ ูุตูููุฉ ูู 4 ุทุจูุงุช ุจุฃุจุนุงุฏ 2 ร 2 ูุน ุนูุตุฑ ูุงุญุฏ ููููุฏ. <br><br>  ุงูููุงููุงุช R8 ... R15 - ุนูููุงุช ุงูุณุญุจ.  ุนูู ุงูุฑุบู ูู ุฃูู ูุงู ูู ุงููููู "ุณุญุจ" ูู ุนุถู ุงููููุณุช ููุณู.  ูููุฑ ุชุฑุฏุฏ ุงูุณุงุนุฉ ุงูุฏููู MK ุงูููุงุฑุชุฒ ูู 10 ููุฌุง ูุฑุชุฒ.  R1 ู C4 - MK ุฅุนุงุฏุฉ ุงูุฏุงุฆุฑุฉ.  ูุง ููุฌุฏ ุดูุก ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ูุฐุง ุงูููุชุฏู. <br><br><img src="https://habrastorage.org/webt/5u/u-/8s/5uu-8sh8ffhwe3qcxqs6gzppcqa.jpeg"><br>  <i>ุตูุฑุฉ ูููุญุฉ (ุงูุทุงูุฉ) ุงูุฃููู ูู ุฌุงูุจ ุงูุนูุงุตุฑ.</i> <br><br><img src="https://habrastorage.org/webt/oe/ln/3-/oeln3-vbwunn8pr0ku2gcwloywm.jpeg"><br>  <i>ุตูุฑุฉ ูููุญุฉ (ุงูุทุงูุฉ) ุงูุฃููู ูู ุงูุฎูู.</i> <br><br>  ุฏุนูุง ููุชูู ุฅูู ูุฎุทุท ุงูููุญุฉ ุงูุฃููู (ุงูุดูู ุฃุนูุงู).  ุจุฏุง ุงููุฎุทุท ูุซูุฑูุง ููุงูุชูุงู ูู ุจุนุถ ุงูุฃูุงูู ูุบูุฑ ููููู. <br><br><img src="https://habrastorage.org/webt/ku/br/ys/kubrysrquhsy3n1xfwmeuvnh8qw.gif"><br>  <i>ูุฎุทุท ุฃูู ููุญุฉ (ุทุงูุฉ).</i> <br><br>  C1C2 - ูุชูููู ุงูุฌูุฏ.  R1 - ูุชูุฑูุบ ูุง ุณุจู.  ุจุนุฏ ุฌุณุฑ ุงูุตูุงู ุงูุซูุงุฆู DB1 ููุง ุดูุงุฑุฏ.  ูุชุนููุฏ ุงูุฏุงุฆุฑุฉ (ุฃู ุงูููุซูููุฉ) - ูุธุงู ุชุซุจูุช ุงูุดูุงู VT3R6VD3 - VT7R12VD5.  ูุดุจู VD5 ุชุฑุงูุฒุณุชูุฑ SMD ุจุงุนุซ ุบูุฑ ูุณุชุฎุฏู.  ูุฐุง ูููุฑ ุฌูุฏ DC ูุณุชูุฑ ูู 12V.  ุงูุชุงูู ูู ุงูููุธู ุงูุฎุทู VR1 ุนูุฏ 5V.  ูู ููุณ ุงูููุช ุ ูุชู ุฅุฒุงูุฉ ุงูุฌูุฏ ูู ุฌุณุฑ ุงูุตูุงู ุงูุซูุงุฆู DB1 ุนุจุฑ ุงูุตูุงู ุงูุซูุงุฆู VD2 ุฅูู ูุซุจุช VT1R3VD1 24V ุขุฎุฑ.  ูุชู ุชูููุฑ ูุฐุง ุงูุฌูุฏ ุฅูู ููู ูุฑุญู EM Rel1 ู R17.  ูุฐุง ุงูุฃุฎูุฑ ุบูุฑ ูุงุถุญ ููุงุฐุง.  ูู ุงูุทุฑู ุงูุขุฎุฑ ูู R17 ุชุฃุชู ุงูุฅุดุงุฑุฉ ูู ูุฌููุนุฉ ุงูุชุฑุงูุฒุณุชูุฑ VT9VT10.  ุชุดุจู ุฏุงุฆุฑุฉ ูุฐู ุงููุฌููุนุฉ ุงูุฏุงุฆุฑุฉ ุงูููุฌูุฏุฉ ุนูู ุงูููุญุฉ ุงูุฑุฆูุณูุฉ.  ุชุฃุชู ุฅุดุงุฑุฉ ูู ูููุฐ MK PB6 ูููุตู ูุฅุฏุฎุงู ูุฌููุนุฉ ุงูุชุฑุงูุฒุณุชูุฑ ูู ุฎูุงู ุงูููุตู.  ููุงุฐุง ูู ูุทููุจุ  ููุงุฐุง ุชูุตูู ุงูููุงูู R17 ุจุฌูุฏ 24 ูููุชุ  ุนูู ุงูุฃุฑุฌุญ ุ ูุงูุช ููุงู ููุฑุฉ ุฃูู ุจุฏูุงู ูู ุงูููุงูู ุ ููููู ูุถุน ุดูุก ุขุฎุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุตุจุงุญ ุชุญูู ุฏุงุฎูู LED ุ ุนู ุทุฑูู ุจุฑูุฌุฉ ูููุฐ PB6 MK ุจุทุฑููุฉ ูุนููุฉ.  ุฃู ุนูุฏุฉ ุชุจุฏูู ุฅุถุงููุฉ.  ูููู ุ ุนูู ุงูุฑุบู ูู ุฐูู ุ ูุฐุง ูุฑุงุก ุ ููุง ูุงู ูููุฏุณู ุงูุฑุงุฏูู ูู ูุนุงุฑูู ุ ุจุนุฏ ุฃู ูุธุฑูุง ุฅูู ููุญุฉ ุงูุชุตููู.  ูุชู ุชูุตูู ุงูุทุฑู ุงูุซุงูู ูู ูุฑุญู EM Rel1 ุจูุฌููุนุฉ ุชุฑุงูุฒุณุชูุฑ ูุดุงุจูุฉ VT2VT5 ุ ููู ูุชุตู ุจูููุฐ MK PD0.  ุชุนูู ุงูุฅุดุงุฑุฉ "0" ูู ูุฐุง ุงููููุฐ ุนูู ุชุดุบูู ุชุฑุญูู EM.  ุงูุดูุก ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ุฃู LED ุงูุฎุงุฑุฌู ูุชุตู ููุณ ููุงุฒููุง ูุชุฑุญูู EM ุ ูููู ุฅูู ูุฌูุฉ ุจุงุนุซ ุงูุชุฑุงูุฒุณุชูุฑ VT2 ุ ุนูุงูุฉ ุนูู ุฐูู ุ ูู ุฎูุงู ุงุซููู ูู ุงูููุตูุงุช (ุชูุฑูุฑ ุงูููุญุฉ ุงูุฑุฆูุณูุฉ).  ุนูู ุงูุทุฑู ุ ูุธู ุงูุฑููุงู 1 ู 2 ุ ุฅุฐุง ุญูููุง ูู ุฎูุงู ุงูููุตู ุนูู ุงูุชุชุงุจุน ุ ูุงุฑุบูู.  ูููู ูู ุงูุฏุงุฆุฑุฉ ุ ูุชู ุชูุตูู ุฌูุฉ ุงูุงุชุตุงู ุฑูู 2 ุจุณูู ูุดุชุฑู ุ ููุชู ุชุบุฐูุฉ ุฌูุฉ ุงูุงุชุตุงู ุฑูู 1 ูุฅุฏุฎุงู ูุฌููุนุฉ ุงูุชุฑุงูุฒุณุชูุฑ VT6VT8.  ูุชู ุฅุฑุณุงู ุงูุฅุฎุฑุงุฌ ูู ูุฐู ุงููุฌููุนุฉ ุฅูู ูููุฐ PD2 MK.  ูู ููุช ูุงุญู ุ ูุฑุฃุช ูู ููุงุตูุงุช ูููุฐุฌ ุงูุชุฑุญูู ูุฐุง ุฃู ุฌูุงุช ุงูุงุชุตุงู ูุฐู ุชุณุชุฎุฏู ููุชุญูู ูู ููุงุฐุฌ ุงูุชุฑุญูู ุงูุฃุฎุฑู ุ ุงูุชู ุชู ุชุฌููุนูุง ูู ููุณ ุงูุญุงูุฉ.  ุงููููุฐุฌ ุงูุฐู ุฃููุฑ ููู ูุง ููุทูู ุนูู ุงูุชุญูู ุ ูููู ูููู ุชูููุฐู ุนูุฏ ูุชุงุจุฉ ุจุฑูุงูุฌ ุนูู MK ุ ูุฃู ุงููุฎุทุท ูููุฑ ูุฐู ุงููุฑุตุฉ.  ุชุญุช ุงูุชุญูู ูุฏ ูุนูู ุจุฏุงูุฉ ุ ุฅุนุงุฏุฉ ุชุนููู (ูู "ุงูุฒูุงุฏ" ููู ุงููุถุน ุงูุนุงุฏู) ุ ููู ูุง ูุชุจุงุฏุฑ ุฅูู ุงูุฐูู.  ุชูุถุญ ููุงุตูุงุช ุงููุฑุญูุงุช ุงูุฃุฎุฑู ูุฎุทุทุงุช ุชูููุชูุฉ ุชูุถุญ ุณููู ุงููุฑุญูุงุช ุจูุงุกู ุนูู ุฅุดุงุฑุฉ ุชุญูู ูุนููุฉ.  ุชููู ุฃูุถูุง ุฃุฏูุงู: ุจูุงุกู ุนูู ุทูุจ ุงูุนููู ุ ูููููุง ุชูููุฐ ุฃู ุฑุณู ุชุฎุทูุทู ูููู.  ูุขุฎุฑ ูุญุธุฉ ูู ุงููุฎุทุท.  ุชุฃุชู ุฅุดุงุฑุฉ ุงูุชุญูู ูุฐู ูู ุงููุญุทุฉ ุฑูู 1 ุฃูุถูุง ุฅูู ุชุฑุงูุฒุณุชูุฑ VT4 ุนุฏูู ุงููุงุฆุฏุฉ ุ ูุฏุนูู ุจุฌูุฏ 12 ูููุช.  ูุฐุง ุ ูุฑุฉ ุฃุฎุฑู ุ ูู ุชุนููุฏุงุช ุงููุฎุทุท.  ุฃู ุฑุจูุง ูุง ุชุฒุงู ููุงู ููุฑุฉ ููุถูุนุฉุ  ูู ุฃุชุนูู ูุซูุฑุง.  ุณุฃููู ุณุนูุฏุง ุจุฃู ุชุนููู. <br><br>  ูุชู ุชูููุน ุนูุงูุงุช ุฃุทุฑุงู ุงูููุตูุงุช ูู ุฎูุงู ุงูููุทุฉ ุจุนุฏ ุงุณู ุงูููุตู ููุณู.  ุชุดูุฑ ุงูุฃุฑูุงู ุงูุฑููุงููุฉ ุจุนุฏ ุฑูุฒ "~" ุฅูู ุงุณุชูุชุงุฌุงุช ุบูุฑ ูุฌุฏูุฉ ูููููุฏุฉ.  ูุฐู ุงูุฃุฎูุฑุฉ ููุณุช ููููุฉ ูู ุงููุฎุทุท ุ ููููู ูู ุฃุชุทุฑู ุฅูููุง.  ุฃุฏูุงู ุฃุนุทู ุฑุณููุงุช ููู ููุญุฉ ูุน ุชุนูููุงุช ุงูููุตูุงุช ูุงูุงุณุชูุชุงุฌุงุช ูุงูุนูุงุตุฑ ุงูุฃุณุงุณูุฉ. <br><br><img src="https://habrastorage.org/webt/9g/nt/94/9gnt940dbha1c-50htijfyd3erq.gif"><br>  <i>ุงุณูุชุดุงุช ุงููุฌูุณ.</i> <br><br>  ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ูุตู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ูุจุฑูุงูุฌ MK.  ุงูุจุฑูุงูุฌ ููุณู ุจุณูุท ููุฏ ูุชุจุชู ูู CVAVR ููุฏุฉ 20 ุฏูููุฉ.  ุณุฃูุงูุด ุงูุฎูุงุฑุฒููุฉ ุงูุชู ุณูุชู ุชูููุฐ ุงูุจุฑูุงูุฌ ูู ุฎูุงููุง.  ูุฏ ุชุจุฏู ูุฐู ุงููุนูููุงุช ูุจุชุฐูุฉ ุชูุงููุง ููุจุนุถ ุ ููููุง ูู ุชููู ุบูุฑ ุถุฑูุฑูุฉ ูููุจุชุฏุฆูู.  ูู ูุณุฎุชู ูู ุงูุฎูุงุฑุฒููุฉ ุ ุณูุชู ุงุณุชุฌูุงุจ ุงููููุชุงุช ุนูู ูุฑุญู ุงูููุช ููุณ ูุฑุฉ ูุงุญุฏุฉ ุ ูููู ุจุดูู ูุณุชูุฑ.  ุนูุงูุฉ ุนูู ุฐูู ุ ุณูุณุชูุฑ ุงูุงูุชุฑุงุน ุญุชู ุจุนุฏ ุชุนุซุฑ ุงูุชุชุงุจุน.  ุณูุณูุญ ูู ุฐูู ุจุฅุฌุฑุงุก ุชุนุฏููุงุช ุฃุซูุงุก ุงูุชููู.  ุฑุจูุง ูุง ุชุชูุงูู ูุฐู ุงูุฎูุงุฑุฒููุฉ ูุน ุงูุฎูุงุฑุฒููุฉ ุงูุฃุตููุฉ ูุชุดุบูู ูุฐุง ุงูุชุชุงุจุน ุ ููููู ูุณุช ุนูู ุฏุฑุงูุฉ ุจุงูุฎูุงุฑุฒููุฉ ุงูุฃุตููุฉ.  ุนูู ูุซุงู ุงูุฎูุงุฑุฒููุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ุณูุชู ุงููุธุฑ ูู ูุตู ุงูุจุฑูุงูุฌ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ ุงููุตุฏุฑ ูุจุฑูุงูุฌ C ูุน ุงููุตู.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูููู ุจุชูุตูู ุงูููุชุจุฉ ููุนูู ูุน ATTiny2313 MK ุ ููุฐูู ููุชุจุฉ ูุธุงุฆู ุงูุชุฃุฎูุฑ. <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;tiny2313.h&gt; #include &lt;delay.h&gt;</span></span></span></span></code> </pre> <br>  ุจุนุฏ ุฐูู ุ ูููู ุจุงุณุชุจุฏุงู ุงููุงูุฑู ุงูุถุฑูุฑู ุ ููููุง ูุชุฎุตูุตุงุช ุงูุฏูุงุฆุฑ ูููุงูุฐ MK.  ุชุนุชุจุฑ ูุฐู ุงูุงุณุชุจุฏุงูุงุช ููุงุฆูุฉ ูุฃูู ูู ูุต ุงูุจุฑูุงูุฌ ุจุฏูุงู ูู ุ ุนูู ุณุจูู ุงููุซุงู ุ PORTB.5 ุ ููููู ูุชุงุจุฉ getAD ุ ููู ุฃูุซุฑ ููุงุกูุฉ.  ุณูุชู ุชูุณูุฑ getAD ุงูุชุฌููุนู ูู PORTB.5.  ูุฐุง ุ ูุฅู ุงูุงุณุชุจุฏุงู ุงูุฃูู ูู ูุฎุฑุฌุงุช ุชูุตูู ูุญููุงุช ููุทุฉ ุงูุถุจุท ุงูุฃููู (A) ูุงูุฑุงุจุนุฉ (D).  ูุงูุซุงูู ููุซุงูู (B) ูุงูุซุงูุซ (C).  ุงูุชุงูู ูู ุงุณุชุจุฏุงู ูุชูููู ุงูุชุชุงุจุน.  ูุฃุฎูุฑูุง ุ ุงุณุชุจุฏุงู "Ctrl" ุบูุฑ ุงููุณุชุฎุฏู ูู ุงูุจุฑูุงูุฌ ููู ุงููููุฐุฌ ููุฏ ุงูุฏุฑุงุณุฉ.  ูุง ููููู ูุชุงุจุชูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> getAD PORTB.5 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> getBC PORTB.4 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RL PORTD.0 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> Ctrl PIND.2</span></span></code> </pre><br>  ุชูุณุชุฎุฏู ุงููุชุบูุฑุงุช A ู B ู C ูุชุฎุฒูู ุฑูู ููุถุน ุงูููุงุชูุญ ุงูุซูุงุซุฉ ุงูููุงุจูุฉ ูุฃุฎุฐ ุงูููู ูู 0 ุฅูู 9. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> A,B,C;</code> </pre><br>  ุงููุชุบูุฑ i - ุงููููุฉ ุงูุญุงููุฉ ูุฑูู ุงูุนุงุดุฑุฉ ูู ุงูุฏูููุฉ (6 ุซูุงูู) ุ ุฃู ุนุฏุฏ "ุนูุงูุฉ" ุงูุญุฏ ุงูุฃุฏูู ููุชุฑุญูู.  ุงููุชุบูุฑ t ูู ุนุฏุฏ ุฃุนุดุงุฑ ุงูุฏูููุฉ (ุงููุฑุงุฏ) ุงููุณุชููุฉ ูู ุงููุนูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>,t;</code> </pre><br>  ูุชู ุนุฑุถ ุงููุธููุฉ ุงูุฑุฆูุณูุฉ ููุจุฑูุงูุฌ ุฃุฏูุงู.  ูู ุงูุฃุณุทุฑ ุงูุณุชุฉ ุงูุฃููู ูู ุฃููู.  ูุชู ุชุดููููุง ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุงููุณุงุนุฏุฉ CodeWizadAVR ูุชุฑุชุจุท ุจูุฌูุฏ ุงูููุงุฑุชุฒ ุงูุฎุงุฑุฌู ุนูุฏ 10 ููุฌุง ูุฑุชุฒ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> optsize- CLKPR=0x80; CLKPR=0x00; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> _OPTIMIZE_SIZE_ #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> optsize+ #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre><br>  ูููู ุงูุฎุทุงู ุงูุชุงููุงู ุจุชูููู ุงููููุฐ B ุงูุฎุงุต ุจู MK ุงูุฎุงุต ุจูุง.  ููููุง ูููุฎุทุท ุ ูุถุนูุง 4 ุจุชุงุช ุฃูู ูููุฏุฎูุงุช ุ ูุงูุฃูุซุฑ ุฃูููุฉ ููุฅุฎุฑุงุฌ (ูุง ูุชู ุงุณุชุฎุฏุงู PB7 ุ ู PB6 ุนุฏูู ุงููุงุฆุฏุฉ ุ ูููู ุ ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ุงููุงุชุฌ).  ูุฐูู ุ ููููุง ููุจุงุฏุฆ ุชูููู MK ุ ุงูุชู ูู ุฃุตููุง ุ ููุชุจ ุงูุฑูู 240 ูู ุณุฌู DDRB (F0 ุจุงูุชุฏููู ุงูุณุช ุนุดุฑู).  ูุณุชูู ุงูุฅุฎุฑุงุฌ ุงูุฃููู ูู "1" ุ ุจุงุณุชุซูุงุก PB7 ุบูุฑ ุงูุถุฑูุฑูุฉ.  ูููุท ูู ุญุงูุฉ ุ ุฏุนูุง ูุฑุจุท "ููุงููุงุช ุงูุณุญุจ" ูู MK ุจุงููุฏุฎูุงุช ุ ุนูู ุงูุฑุบู ูู ุฃููุง ูุซุจุชุฉ ุจุงููุนู ูู ุงูุฏุงุฆุฑุฉ.  ููููุงู ุจุฐูู ุ ููููู ุจุชุนููู ุณุฌู PORTB ุนูู 7F ุจุชุฑููุฒ ุณุฏุงุณู ุนุดุฑู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">PORTB=<span class="hljs-number"><span class="hljs-number">0x7F</span></span>; DDRB=<span class="hljs-number"><span class="hljs-number">0xF0</span></span>;</code> </pre><br>  ุชู ุชูููู ุงููููุฐ D ุจุงูุทุฑููุฉ ููุณูุง. ุฌููุน ุงูุฏุจุงุจูุณ ุนูู ุงูุฅุฏุฎุงู ุ ุจุงุณุชุซูุงุก ุงูุงุซููู ุงูุณููููู.  ุชุชุดุงุจู "ููุงููุงุช ุงูุณุญุจ" ูู ุงููุฏุฎูุงุช ููุณุชูู ุงูุฅุฎุฑุงุฌ ุงูุฃููู "1" ูู ุงูุฅุฎุฑุงุฌ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">PORTD=<span class="hljs-number"><span class="hljs-number">0x7D</span></span>; DDRD=<span class="hljs-number"><span class="hljs-number">0x03</span></span>;</code> </pre><br>  ุชุฑุชุจุท ุงูุฎุทูุท ุงูุฎูุณุฉ ุงูุชุงููุฉ ุจุชูููู ุฃุญุฏ ุฃุฌูุฒุฉ ุถุจุท ุงูููุช MK.  ูุชููู ูุฐุง ุงููุคูุช ูู ุณุชุฉ ุนุดุฑ ุฑูููุง ุ ุฃู ุฃูู ูููุฑ ุฏุฑุฌุฉ ุชุตู ุฅูู 2 ^ 16 = 65536.  ูุชู ุชุญุฏูุฏ ุชุฑุฏุฏ ุงูุนุฏ ูู ุฎูุงู ุชุฑุฏุฏ ุณุงุนุฉ MK ููุนุงูู ุงููุณูุฉ (ูุงุญุฏ ูู ุฎูุณุฉ ูุญุฏุฏ ูุณุจููุง).  ูู ุงูุจุฑูุงูุฌ ุงูููุตูู ุ ุชูุฑุฑ ุงูุงุญุชูุงุธ ุจุญุณุงุจ ููุฏุฉ 6 ุซูุงูู (ุงูุญุฏ ุงูุฃุฏูู ูู ุฎุทูุฉ ุงููููุฉ) ุ ุซู ุฒูุงุฏุฉ ุงููุชุบูุฑ i ุจููุฏุงุฑ 1 ูุฅุนุงุฏุฉ ุถุจุท ุงููุคูุช ุฅูู ุจุฏุงูุฉ ุงูุนุฏ.  ูู ุฃุฌู ุถูุงู ูุง ุณุจู ุ ุชุญุชุงุฌ ุฅูู ุฃุฎุฐ ุงูุญุฏ ุงูุฃูุตู ููุณุจุฉ ุงููุณูุฉ ููู 1024 ูุงูุนุฏ ุฅูู 58594. ูู ุงูุณูู ุญุณุงุจ ุงูุฃุฎูุฑ.  ุชุฑุฏุฏ MK - 10ุ000ุ000 ูุฑุชุฒ.  ุจุงุณุชุฎุฏุงู ูุณุจุฉ ูุณูุฉ 1024 ุ ุณูููู ุชุฑุฏุฏ ุงููุคูุช 10ุ000ุ000 / 1ุ024 = 9ุ765.625 ูุฑุชุฒ ุ ูุณุชููู ุงููุชุฑุฉ 1ุ024ุ000 / 10ุ000ุ000 = 0.0001024 ุซุงููุฉ.  ูู ุบุถูู 6 ุซูุงูู ุ ุณูุชู ุชูุฏูุณ 6 / 0.0001024 = 58593.75 ูู ูุฐู ุงููุชุฑุงุช.  ููุน ูุฐุง ุงูุฑูู ุถูู ุงููุคูุช 16 ุจุช ุ ููููู ููุณ ุนุฏุฏูุง ุตุญูุญูุง ุ ูุฐูู ูุฌุจ ุนููู ุงูุชูุฑูุจ ุฅูู 58594. ูู ูุฐู ุงูุญุงูุฉ ุ ุณูููู ุฎุทุฃ ุชุชุงุจุน ุงูููุช ุบูุฑ ููู: 58594-58593.75 = 0.25 ุ  0.25 * 0.0001024 = 0.0000256 ุ  0.0000256 * 999 = 0.0255744.  ุฃู ุฃูู ูุฃูุตู ูุชุฑุฉ ุฒูููุฉ ููููุฉ (99.9 ุฏูููุฉ) ุ ูุฅู ุนุฏู ุฏูุฉ ูุฐุง ุงููุฑุญู ุงูุฒููู ุณูููู ุชูุฑูุจูุง 25.6 ูููู ุซุงููุฉ ุ ููู ุฃูุฑ ููุจูู ุชูุงููุง ูู ุงูููุงุฑุณุฉ.  ุจุงูููุงุณุจุฉ ุ ุชูุต ุงูุดุฑูุฉ ุงููุตูุนุฉ ุฃูุถูุง ุนูู ุฎุทุฃ ุงูุฌูุงุฒ ุ ููู ูููู ุฎุทุฃูุง ุฃุณูุฃ.  ูู ุณุฌู ุชูููู ุงููุคูุช TCCR1B ุ ุงูุชุจ ุงููููุฉ 5. ุจุฏูู ุงูุฏุฎูู ูู ุงูุชูุงุตูู ุ ูุฐุง ูุนูู ุฃู ุงููุคูุช ูุจุฏุฃ ููุนุงูู ุงููุณูุฉ ูู 1024. ูู ุณุฌู TCNT1 ุ ููุชุจ ุงููููุฉ 0. ูุฐุง ุงูุณุฌู ูู 16 ุจุช ููููุณู ุฅูู ูุตููู 8 ุจุช: ุงูุฃุตุบุฑ (L ) ููุจุงุฑ (ุญ).  ูุชู ูุชุงุจุฉ ุงููููุฉ ุฅูููุง ุ ุญูุซ ุณูุณุชูุฑ ุงูุนุฏ ูู ุงูุนุฏ.  ูุญู ุจุญุงุฌุฉ ุฅูู ุงูุนุฏ ูู ููุทุฉ ุงูุตูุฑ.  ุงููููุฉ OCR1A ุงูุชู ุชุณุฌู ูุจููุง ุณููุฑุฃ ุงููุคูุช ุ ูุจุนุฏ ุฐูู ุณูุณุชุฏุนู ูุธููุฉ ุงูููุงุทุนุฉ.  ูู ูุฐู ุงููุญุธุฉ ุ ูุชู ููุงุทุนุฉ ุงููุธููุฉ ุงูุฑุฆูุณูุฉ ููุจุฑูุงูุฌ ุ ููุชู ุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ุงููุญุฏุฏุฉ ูู ูุธููุฉ ูุฐุง ุงูููุงุทุนุฉ.  ุจุนุฏ ููุงุฑุณุฉ ุงูููุงุทุนุฉ ุ ุณุชุณุชูุฑ ุงููุธููุฉ ุงูุฑุฆูุณูุฉ ูู ุงูุชูููุฐ.  ูุฐู ุงููููุฉ ุ ููุง ููู ุฃุนูุงู ุ ุชุณุงูู 58594 (E4E2 ุจุงูุชุฏููู ุงูุณุช ุนุดุฑู).  ูุธุฑูุง ูุฃู ุณุฌู OCR1A ูููุณู ุฃูุถูุง ุฅูู ูุตููู ุ ูุฅููุง ููุชุจ ุงููููุฉ ุฃุนูุงู ูู ุฃุฌุฒุงุก. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">TCCR1B=<span class="hljs-number"><span class="hljs-number">0x05</span></span>; TCNT1H=<span class="hljs-number"><span class="hljs-number">0x00</span></span>; TCNT1L=<span class="hljs-number"><span class="hljs-number">0x00</span></span>; OCR1AH=<span class="hljs-number"><span class="hljs-number">0xE4</span></span>; OCR1AL=<span class="hljs-number"><span class="hljs-number">0xE2</span></span>;</code> </pre><br>  ููููู ุงูุฎุทุงู ุงูุชุงููุงู ุฏูุฉ ุงูููุงุทุนุงุช ุจุดูู ุตุญูุญ (ูุง ุชุฏุฎู ูู ุงูุชูุงุตูู). <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">TIMSK=<span class="hljs-number"><span class="hljs-number">0x40</span></span>; <span class="hljs-meta"><span class="hljs-meta">#asm(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"sei"</span></span></span><span class="hljs-meta">)</span></span></code> </pre><br>  ูู ุงูุฏูุฑุฉ ุงูุฑุฆูุณูุฉ ุ ูุชู ุชุจุฏูู ููุงุชูุญ ุงูุถุจุท ุจุงุณุชูุฑุงุฑ (ููููุง ููุฎูุงุฑุฒููุฉ ูู ูุตู ุงูุฏุงุฆุฑุฉ) ุจุงุณุชุฎุฏุงู ุชุฃุฎูุฑุงุช 30 ูููู ุซุงููุฉ ููุชุดุบูู ุงูุตุญูุญ ูุงููุณุชูุฑ.  ูู ุฎูุงู ุชุนููู ุงููููุฉ "0" ุนูู PORTB.5 (getAD = 0) ุ ูููู ุจุฅุนุฏุงุฏ ุงูููุชุงุญ ุงูุฃูู.  ูุชุฑุชุจุท ุงุณุชูุชุงุฌุงุชู ุจุงููููุฐ D ูู MK ููุฏุจุงุจูุณ 6 ู 5 ู 4 ู 3. ุงูุงุชุฌุงู ูู ุงูุฃุตุบุฑ ุฅูู ุงูุฃูุจุฑ.  ุจูุนูู ุ ูุชู ุชูุตูู ุงูุจุช ููุฎูุถ ุงูุชุฑุชูุจ ููููุชุงุญ ุจุช ููุฎูุถ ุงูุชุฑุชูุจ ูุณุจููุง (ุจุช 3) ูููููุฐ MK.  ูุฐูู ุ ูู ุฃุฌู ุงูุญุตูู ุนูู ูุนูููุงุช ูู ุงููููุฐ D ูู MK ุญูู ููุถุน ุงูููุชุงุญ ุงูุฃูู ุ ูู ุงูุถุฑูุฑู ุฅุฌุฑุงุก ุชุญููู ุฃุญุงุฏู ุฅูู ุงููููู ุจุซูุงุซุฉ ููุงุถุน (PIND &gt;&gt; 3) ุ ูุนูุณ ุงูุจุชุงุช ุงููุณุชููุฉ ูุน ุงูุนูููุฉ "~" (ุญูุซ ุณุชุธูุฑ ุงููุนูููุงุช ูู "0" ุ ููููุง ูููุฎุทุท) ูุฅุนุงุฏุฉ ุชุนููู ุงูุจุชุงุช ุงูุฃุฑุจุนุฉ ุบูุฑ ุงูุถุฑูุฑูุฉ ุงูุนุงููุฉ ููููุฉ 8 ุจุช ุงููุณุชููุฉ.  ุชุชู ุงูุนูููุฉ ุงูุฃุฎูุฑุฉ ุนู ุทุฑูู ุถุฑุจ ุงูุจุช ุงูููุทูู ูููุชูุฌุฉ ุจุงูุฑูู 15 (00001111 ูู ุงูุชูุซูู ุงูุซูุงุฆู).  ุจุนุฏ ูุฐู ุงูุนูููุฉ ุ ุณูุชู ุชุนููู ูููุฉ ุงูููุถุน ูููุญูู ุงูุฃูู ูููุชุบูุฑ A.  ุจุนุฏ ุฐูู ุ ูุชู ุฅููุงู ุชุดุบูู ุงูููุชุงุญ ุงูุฃูู ุ ููุชู ุฅุนุฏุงุฏ ุงูููุชุงุญูู ุงูุซุงูู ูุงูุซุงูุซ.  ูุชู ุฃุฎุฐ ุงููููุฉ ูู ุงููุญูู ุงูุซุงูู ุฅูู ุงููุชุบูุฑ B ูู ุงููููุฐ B ุงูุฎุงุต ุจู MK ุจุงููุซู ุ ูููู ุจุฏูู ุนูููุฉ ุฅุฒุงุญุฉ ุ ูุธุฑูุง ูุฃู ุฃุทุฑุงู ูุฐุง ุงููุญูู ูุชุตูุฉ ุจุฃุฏูู ูููุฐ ูู ุงููููุฐ B ุงูุฎุงุต ุจู MK ููุฐูู ุจุดูู ูุดุชุฑู.  ุชุชู ุฅุฒุงูุฉ ุงููุนูููุงุช ูู ุงูููุชุงุญ ุงูุซุงูุซ ุฅูู ุงููุชุบูุฑ C ุจููุณ ุงูุทุฑููุฉ ุงูุชู ุชูุช ุฅุฒุงูุชูุง ูู ุงูุฃูู.  ุจุนุฏ ุฐูู ุ ุงููุญููุงู ุงูุซุงูู ูุงูุซุงูุซ (getBC = 1) "ูุบููุงู" ููุชู ุญุณุงุจ ุงููููุฉ ุงููุญุฏุฏุฉ (ุนุฏุฏ ุฃุนุดุงุฑ ุงูุฏูููุฉ) ูู ุงูููุงุชูุญ ุงูุซูุงุซุฉ ูู ุงููุชุบูุฑ t. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>){ delay_ms(<span class="hljs-number"><span class="hljs-number">30</span></span>); getAD=<span class="hljs-number"><span class="hljs-number">0</span></span>; delay_ms(<span class="hljs-number"><span class="hljs-number">30</span></span>); A=(~(PIND&gt;&gt;<span class="hljs-number"><span class="hljs-number">3</span></span>)&amp;<span class="hljs-number"><span class="hljs-number">15</span></span>); delay_ms(<span class="hljs-number"><span class="hljs-number">30</span></span>); getAD=<span class="hljs-number"><span class="hljs-number">1</span></span>; getBC=<span class="hljs-number"><span class="hljs-number">0</span></span>; delay_ms(<span class="hljs-number"><span class="hljs-number">30</span></span>); B=(~PINB)&amp;<span class="hljs-number"><span class="hljs-number">15</span></span>; C=(~(PIND&gt;&gt;<span class="hljs-number"><span class="hljs-number">3</span></span>)&amp;<span class="hljs-number"><span class="hljs-number">15</span></span>); delay_ms(<span class="hljs-number"><span class="hljs-number">30</span></span>); getBC=<span class="hljs-number"><span class="hljs-number">1</span></span>; t=<span class="hljs-number"><span class="hljs-number">100</span></span>*A+<span class="hljs-number"><span class="hljs-number">10</span></span>*B+C; } }</code> </pre><br>  ุชุญุฏุซ ููุงุฑูุฉ ูุฐุง ุงููุชุบูุฑ ููุชุบูุฑ ุงูููุช ุงูุญูููู ุงูููุงุซู i ูู ูุธููุฉ ุงูููุงุทุนุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">interrupt [TIM1_COMPA] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">timer1_compa_isr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ i+=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(i&gt;=t){ RL=<span class="hljs-number"><span class="hljs-number">0</span></span>; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ RL=<span class="hljs-number"><span class="hljs-number">1</span></span>; } TCNT1H=<span class="hljs-number"><span class="hljs-number">0x00</span></span>; TCNT1L=<span class="hljs-number"><span class="hljs-number">0x00</span></span>; }</code> </pre><br>  ุฅุฐุง ุชุฌุงูุฒ ุงููุชุบูุฑ ุงูุฃุฎูุฑ ุงููููุฉ ุงููุญุฏุฏุฉ ุ ูุณูุชู ุชุดุบูู "ูุฑุญู ุงูุชูููุฐ" (RL = 0) ุจููุฏุงุฑ "0".  ุนูุงูุฉ ุนูู ุฐูู ุ ุณูุชู ุฅููุงู ุชุดุบููู ุฅุฐุง ุชู ุชุนููู ุงูููุงุชูุญ ูู ููุณ ุงูููุช ุนูู ูููุฉ ุฃูุจุฑ ูู ุชูู ุงูุชู ุชู ุชุดุบูููุง ูู ุงููุชุบูุฑ i.  ูู ููุณ ูุธููุฉ ุงูููุงุทุนุฉ ุ ูุชู ุฒูุงุฏุฉ ุงููุชุบูุฑ i ุจููุฏุงุฑ 1 ููุชู ุฅุนุงุฏุฉ ุถุจุท ุงููุคูุช ุฅูู 0. <br><br>  ุชู ุดุทุจ ุงูุจุชุงุช FUSE ูู MK ูุชุฑูุช ุฏูู ุชุบููุฑ.  ุญููุชูู ุ ูู ุดูุก ุนูู ูุง ูุฑุงู ููุงู. <br><br><img src="https://habrastorage.org/webt/zv/dt/ll/zvdtllilqlufxumtsv98xelmwnc.png"><br><br><br></div></div><br>  ูุจุงูุชุงูู ุ ูู ูุชู ูุณุฎ ูุฎุทุท ุงูุฌูุงุฒ ูุญุณุจ ุ ุจู ุชู ุฃูุถูุง ุชุทููุฑ ุจุฑูุงูุฌ MK ุ ูุงูุฐู ูุง ูุฎุชูู ูู ุงููุธุงุฆู ุนู ุงูููููุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ุฃุตุจุญ ูู ุงููููู ุนูู ูุณุชูู ุงูุจุฑูุงูุฌ ุชุบููุฑ ูุฑูุฉ ููุบุงูุฉ (ูุงูุฃูู ูู ุฐูู ุ ูุฌุงููุฉ) ุชุบููุฑ ูุนููุงุช ุงูููุช ููุฌูุงุฒ ูุงุณุชุฎุฏุงู ุฅุฎุฑุงุฌ ุงูุชุญูู (ุฑูู 1 ุนูู ุงูุฌูุงุฒ) ูู ูุธุงุฆู ูุฎุชููุฉ.  ุงูุจุฑูุงูุฌ ุจุณูุท ููุบุงูุฉ ุจุญูุซ ูููู ูุชุงุจุชู (ุจุดูู ุฃูุถู) ูู ูุฌููุน ุ ููููู ูุง ุฃููู ุจุฐูู ุจุนุฏ. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar414345/">https://habr.com/ru/post/ar414345/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar414335/index.html">ุงูุฎูููุฉ. Roskomnadzor ุ ูุง ุฃูุชุ</a></li>
<li><a href="../ar414337/index.html">ุงูุชูููุฑ ุงูุฑูุฒู: ุงูุซุจุงุช ูุงูุฃุดูุงุก</a></li>
<li><a href="../ar414339/index.html">ุฌููุฉ ูุตูุฑุฉ ุฑุงุฆุนุฉ ูููููุน ุงูุฌุฏูุฏ ููุนูู ูู ููุณูู #tceh</a></li>
<li><a href="../ar414341/index.html">ููุฎุต ุงูููุงุฏ ุงููุซูุฑุฉ ููุงูุชูุงู ููุทูุฑ # 256 ููุฌูุงู (ูู 3-12 ููููู)</a></li>
<li><a href="../ar414343/index.html">ุงูุชุฑุฌูุฉ ุงูุขููุฉ ุงูุนุตุจูุฉ ูู Google</a></li>
<li><a href="../ar414347/index.html">ุงูุนุฏูุงู ุงูุณูุจู: ููู ูุฏูุฑ ุญูุงุชูุง ุงูุนูููุฉ ูููู ูุชุนุงูู ูุนูุง</a></li>
<li><a href="../ar414349/index.html">ุงุญุตู ุนูู ุฅุญุตุงุฆูุงุช ุชูููุฉ ูุฑูุฒ ุนููุงุฆู: ุชููููู ู ุฑูููุช ุจุงูู</a></li>
<li><a href="../ar414351/index.html">ูุนุธู ุงูุขูุงุช ุงูููุณูููุฉ ุบูุฑ ุงููุนุชุงุฏุฉ: Hammond Organ ุ Vako Orchestron ู Synclavier</a></li>
<li><a href="../ar414353/index.html">ูููู. ูู ุงูุฎูู ุฅูู ุงูุฅูุชุงุฌ ุฎุทูุฉ ูุงุญุฏุฉ. ุงูุฌุฒุก 2</a></li>
<li><a href="../ar414355/index.html">ุงูุญูุงุฉ ุจุนุฏ ุงูุงููุฌุงุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>