<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüéì üëºüèº üå† Todo el mundo en tu bolsillo o c√≥mo hacer una tarjeta m√≥vil en un par de d√≠as üñïüèª üëπ üè§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En un art√≠culo anterior, habl√© sobre c√≥mo hacer r√°pidamente un marcador web. Pero, ¬øqu√© sucede si establece una tarea m√°s ambiciosa: ensamblar su prop...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Todo el mundo en tu bolsillo o c√≥mo hacer una tarjeta m√≥vil en un par de d√≠as</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/453182/"><img src="https://habrastorage.org/webt/a7/rk/wq/a7rkwqzwhfuc8lhtdpm1egxuwmm.jpeg"><br><p><br>  En un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo anterior,</a> habl√© sobre c√≥mo hacer r√°pidamente un marcador web.  Pero, ¬øqu√© sucede si establece una tarea m√°s ambiciosa: ensamblar su propia aplicaci√≥n con una tarjeta, sin anuncios y con blackjack?  ¬øY si en solo un par de d√≠as? </p><br><p>  ¬°Hag√°moslo!  Pido gato. </p><a name="habracut"></a><br><p>  Primero, descubramos qu√© tenemos que hacer.  En la salida, queremos obtener una aplicaci√≥n con datos de referencia y un mapa.  Y para trabajar sin conexi√≥n.  Como desarrollador, me interesa principalmente solo el mapa, porque ya sabemos c√≥mo mostrar datos de referencia.  Y fuera de l√≠nea es una limitaci√≥n bastante fuerte en este caso, porque no hay muchas bibliotecas buenas con soporte fuera de l√≠nea.  Por lo tanto, en el art√≠culo nos concentraremos en el mapa, pero hablemos de la gu√≠a de pasada. </p><br><h2 id="vybiraem-dvizhok-karty">  Elige un motor de mapas </h2><br><p>  Lo primero que debe hacer es obtener los datos para la aplicaci√≥n.  Existen muchas fuentes en el mercado, gratuitas y no muy numerosas.  Para empezar, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OpenStreetMap</a> es bastante adecuado para nosotros como fuente abierta de datos de mapas.  All√≠ puede tomar una cierta cantidad de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PDI</a> para nuestro directorio. </p><br><p>  El siguiente paso es elegir un motor de tarjeta.  En Internet, hay bastantes de ellos, incluso menos gratuitos, y con el soporte fuera de l√≠nea generalmente hay solo unos pocos.  Sugiero usar una opci√≥n genial: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mapsforge / vtm</a> .  ¬°Este es un motor vectorial OpenGL, muy r√°pido, compatible con fuera de l√≠nea, Android, iOS, varias fuentes de datos, estilos personalizados, superposiciones, marcadores, modelos 3D e incluso 3D de objetos!  Muy, muy guay. </p><br><p>  El repositorio tiene muchos ejemplos de inicio r√°pido, hay mapas listos para usar, hay un complemento que le permite ensamblar su propio mapa a partir de datos en formato OSM.  Entonces, ¬°comencemos! </p><br><pre><code class="java hljs">MapView mapView = findViewById(R.id.map_view); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map = mapView.map(); File baseMapFile = getMapFile(<span class="hljs-string"><span class="hljs-string">"cyprus.map"</span></span>); MapFileTileSource tileSource = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MapFileTileSource(); tileSource.setMapFile(baseMapFile.getAbsolutePath()); VectorTileLayer layer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.setBaseMap(tileSource); MapInfo info = tileSource.getMapInfo(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (info != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { MapPosition pos = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MapPosition(); pos.setByBoundingBox(info.boundingBox, Tile.SIZE * <span class="hljs-number"><span class="hljs-number">4</span></span>, Tile.SIZE * <span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.setMapPosition(pos); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.setTheme(VtmThemes.DEFAULT); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.layers().add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BuildingLayer(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map, layer)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.layers().add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LabelLayer(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map, layer));</code> </pre> <br><p>  Cree una fuente de datos MapFileTileSource, especifique la ubicaci√≥n del archivo de mapa.  Adem√°s, nos posicionamos en el centro del cuadro delimitador que nos interesa, para no estar en alg√∫n lugar fuera de la ubicaci√≥n seleccionada cuando se inicia la aplicaci√≥n.  Instala el tema predeterminado.  Agregue una capa de casas y una capa de firmas.  Eso es todo  Lanzamos - milagros! </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/id/lw/c5/idlwc5xexfimjwcgh6lvug6ncna.png" width="375" height="667"></div><br><p>  Parece m√°s r√°pido y m√°s f√°cil y no podr√≠a ser. </p><br><h2 id="delaem-geokoding">  Hacemos geocodificaci√≥n </h2><br><p>  El siguiente paso importante es implementar la geocodificaci√≥n.  La tarjeta en s√≠ ya es buena, pero se necesita interactividad.  Queremos aprovechar el mapa y ver informaci√≥n sobre el objeto que golpeamos.  Y hay alguna dificultad.  En general, no existe una geocodificaci√≥n completa en nuestra biblioteca.  Este es quiz√°s su mayor inconveniente.  Si no se inventa nada, podemos aprovechar la funcionalidad existente. </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//          float touchRadius = TOUCH_RADIUS * CanvasAdapter.getScale(); long mapSize = MercatorProjection.getMapSize((byte) mMap.getMapPosition().getZoomLevel()); double pixelX = MercatorProjection.longitudeToPixelX(p.getLongitude(), mapSize); double pixelY = MercatorProjection.latitudeToPixelY(p.getLatitude(), mapSize); int tileXMin = MercatorProjection.pixelXToTileX(pixelX - touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); int tileXMax = MercatorProjection.pixelXToTileX(pixelX + touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); int tileYMin = MercatorProjection.pixelYToTileY(pixelY - touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); int tileYMax = MercatorProjection.pixelYToTileY(pixelY + touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); Tile upperLeft = new Tile(tileXMin, tileYMin, (byte) mMap.getMapPosition().getZoomLevel()); Tile lowerRight = new Tile(tileXMax, tileYMax, (byte) mMap.getMapPosition().getZoomLevel()); //   ,        MapDatabase mapDatabase = ((MapDatabase) ((OverzoomTileDataSource) tileSource.getDataSource()).getDataSource()); MapReadResult mapReadResult = mapDatabase.readLabels(upperLeft, lowerRight); StringBuilder sb = new StringBuilder(); //   POI     sb.append("*** POI ***"); for (PointOfInterest pointOfInterest : mapReadResult.pointOfInterests) { Point layerXY = new Point(); mMap.viewport().toScreenPoint(pointOfInterest.position, false, layerXY); Point tapXY = new Point(e.getX(), e.getY()); if (layerXY.distance(tapXY) &gt; touchRadius) { continue; } sb.append("\n"); List&lt;Tag&gt; tags = pointOfInterest.tags; for (Tag tag : tags) { sb.append("\n").append(tag.key).append("=").append(tag.value); } } //  ,     sb.append("\n\n").append("*** WAYS ***"); for (Way way : mapReadResult.ways) { if (way.geometryType != GeometryBuffer.GeometryType.POLY || !GeoPointUtils.contains(way.geoPoints[0], p)) { continue; } sb.append("\n"); List&lt;Tag&gt; tags = way.tags; for (Tag tag : tags) { sb.append("\n").append(tag.key).append("=").append(tag.value); } }</span></span></code> </pre> <br><p>  Result√≥ relativamente detallado.  Debe encontrar un mosaico, obtener formas (en la terminolog√≠a de OSM, este es un objeto lineal) y puede extraer algunos atributos de ellos.  Adem√°s de las formas, es posible obtener un PDI, pero eso es todo.  Tendr√° que terminar el resto de la l√≥gica usted mismo: elija el "correcto" de todo el conjunto de objetos que golpe√≥ el clic, filtre por nivel de zoom.  Y una cosa m√°s.  De hecho, perdemos informaci√≥n sobre la geometr√≠a original y obtenemos en respuesta a una b√∫squeda solo un conjunto de l√≠neas.  Si tambi√©n desea hacer un editor geogr√°fico, obviamente esto no ser√° suficiente. </p><br><p>  Pero para demostrar el enfoque, todo nos conviene. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/p9/9t/m_/p99tm_xdj7tdnnjewpzovvsmqjm.png" width="375" height="667"></div><br><p><br></p><br><h2 id="prodvinutyy-geokoding">  Geocodificaci√≥n avanzada </h2><br><p>  En t√©rminos generales, hay una opci√≥n m√°s avanzada.  Para esto necesitamos nuestra propia base.  En particular, puede usar SQLite.  Es cierto que SQLite est√°ndar no ser√° suficiente para nosotros, y tendremos que construir el nuestro conectando el complemento RTree para la b√∫squeda geogr√°fica.  C√≥mo hacer esto, ya lo dije en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> , la secci√≥n "Haz una buena b√∫squeda". <br>  En este caso, tenemos un control total sobre los datos, podemos guardar todo lo que se requiere y en el formato correcto.  Tambi√©n podemos ajustar la b√∫squeda de texto completo y buscar nuestros objetos geogr√°ficos y empresas por nombre, direcci√≥n y otros atributos. </p><br><p>  La direccion es: </p><br><ol><li>  Hacemos tablas: <br><ul><li>  geo objetos (id, tipo, geometr√≠a, atributos) </li><li>  empresas (id, atributos, geo_id) con referencia a la geometr√≠a del edificio en el que se encuentra </li><li>  rtree <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">geoindex</a> as√≠: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">VIRTUAL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> geo_index <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span> rtree( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-comment"><span class="hljs-comment">-- Integer primary key minX, maxX, -- Minimum and maximum X coordinate minY, maxY -- Minimum and maximum Y coordinate );</span></span></code> </pre> </li></ul></li><li>  Llenamos todo con datos. </li><li>  Cuando toca el mapa, obtenemos GeoPoint y ejecutamos la solicitud: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> geo_index <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> minX&gt;=<span class="hljs-number"><span class="hljs-number">-81.08</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> maxX&lt;=<span class="hljs-number"><span class="hljs-number">-80.58</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> minY&gt;=<span class="hljs-number"><span class="hljs-number">35.00</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> maxY&lt;=<span class="hljs-number"><span class="hljs-number">35.44</span></span></code> </pre> </li><li>  √öltimo paso: filtrar y seleccionar el objeto apropiado. </li></ol><br><p>  Una de las opciones de implementaci√≥n se puede ver en el <a href="">repositorio</a> . </p><br><p>  Como resultado, ya sabemos c√≥mo mostrar el mapa y manejar los clics.  No esta mal. </p><br><h2 id="dobavlyaem-vazhnye-melochi">  Agrega peque√±as cosas importantes. </h2><br><p>  Agreguemos un par de caracter√≠sticas importantes. </p><br><p>  Comencemos con la ubicaci√≥n actual.  En mapsforge / vtm solo hay un especial para esto.  Ubicaci√≥n Capa de capa.  El uso es extremadamente simple. </p><br><pre> <code class="java hljs">LocationLayer locationLayer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LocationLayer(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map); locationLayer.setEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">//       , ,     GPS GeoPoint initialGeoPoint = this.map.getMapPosition().getGeoPoint(); locationLayer.setPosition(initialGeoPoint.getLatitude(), initialGeoPoint.getLongitude(), 1); this.map.layers().add(locationLayer);</span></span></code> </pre> <br><p>  Solo hay un inconveniente: es la ondulaci√≥n constante del "punto azul" en el borde de la pantalla cuando la ubicaci√≥n actual est√° fuera del mapa.  Lo m√°s probable es que, en el proceso de uso, rara vez se encuentre en una situaci√≥n as√≠, pero esto provoca una representaci√≥n constante, por lo tanto, carga un poco el procesador.  Para deshacerse de esto es un poco m√°s dif√≠cil, debe ingresar al sombreador y solucionarlo.  Pero esto ya es para los perfeccionistas.  C√≥mo hacerlo, puedes ver <a href="">aqu√≠</a> . </p><br><p>  Entonces, la posici√≥n es.  Es hora de agregar el bot√≥n de navegaci√≥n a la posici√≥n actual, como en todas las aplicaciones de mapeo que se respetan. </p><br><pre> <code class="java hljs">View vLocation = findViewById(R.id.am_location); vLocation.setOnClickListener(v -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateTo(initialGeoPoint));</code> </pre> <br><p>  Tambi√©n necesitamos los botones de zoom. </p><br><pre> <code class="javascript hljs">View vZoomIn = findViewById(R.id.am_zoom_in); vZoomIn.setOnClickListener(v -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateZoom(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); View vZoomOut = findViewById(R.id.am_zoom_out); vZoomOut.setOnClickListener(v -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateZoom(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>));</code> </pre><br><p>  Y la guinda del pastel es una br√∫jula. </p><br><pre> <code class="javascript hljs">View vCompass = findViewById(R.id.am_compass); vCompass.setVisibility(View.GONE); vCompass.setOnClickListener(v -&gt; { MapPosition mapPosition = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.getMapPosition(); mapPosition.setBearing(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateTo(<span class="hljs-number"><span class="hljs-number">500</span></span>, mapPosition); vCompass.animate().setListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Animator.AnimatorListener() { @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationStart(Animator animation) { } @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationEnd(Animator animation) { vCompass.setVisibility(View.GONE); } @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationCancel(Animator animation) { } @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationRepeat(Animator animation) { } }).setDuration(<span class="hljs-number"><span class="hljs-number">500</span></span>).rotation(<span class="hljs-number"><span class="hljs-number">0</span></span>).start(); }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.events.bind((e, mapPosition) -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e == <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>.ROTATE_EVENT) { vCompass.setRotation(mapPosition.getBearing()); vCompass.setVisibility(View.VISIBLE); } });</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lw/hp/cq/lwhpcqipt5bo-nirjiiz676gpo8.png" width="375" height="667"></div><br><p><br></p><br><h2 id="zahvatyvaem-mir">  Capturando el mundo </h2><br><p>  Amigos, estamos en la l√≠nea de meta.  Queda por agregar el toque final.  Estamos planeando capturar el mundo, lo que significa que necesitamos incluirlo de alguna manera en nuestra aplicaci√≥n. </p><br><p>  Y las cosas son tales que con nuestro motor es mucho m√°s f√°cil de lo que parece. <br>  Necesitamos modificar ligeramente el m√©todo de carga del mapa agreg√°ndole un MultyMapTileSource.  Esto es esencialmente un contenedor para cualquier otra fuente de mosaico, lo que le permite mostrar todo lo que se le agrega en el mapa a la vez.  Solo una caracter√≠stica asesina.  Como resultado, nos queda por preparar un mapa del mundo con detalles m√≠nimos, agregarlo primero a nuestro contenedor y dibujar el resto en la parte superior.  ¬°Adem√°s, podemos agregar inmediatamente todas las tarjetas que tenemos en el cat√°logo con mapas de la aplicaci√≥n!  Preciosa, simplemente preciosa.  Y no olvides que est√° fuera de l√≠nea :) </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  - MultiMapFileTileSource mmtilesource = new MultiMapFileTileSource(); File baseMapFile = getMapFile("cyprus.map"); MapFileTileSource tileSource = new MapFileTileSource(); tileSource.setMapFile(baseMapFile.getAbsolutePath()); mmtilesource.add(tileSource); //     MultiMapFileTileSource MapFileTileSource worldTileSource = new MapFileTileSource(); File worldMapFile = getMapFile("world.map"); worldTileSource.setMapFile(worldMapFile.getAbsolutePath()); mmtilesource.add(worldTileSource); //      - VectorTileLayer layer = this.map.setBaseMap(mmtilesource);</span></span></code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/9pdshe1mg7Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Quiz√°s estamos listos para el lanzamiento.  Recopilamos la compilaci√≥n, la ponemos en el mercado y obtenemos las estrellas merecidas :) </p><br><h2 id="para-lozhek-dyogtya-v-ogromnoy-bochke-myoda">  Un par de cucharas de alquitr√°n en un enorme barril de miel. </h2><br><p>  El motor de c√≥digo abierto se est√° desarrollando activamente, pero su equipo, francamente, es bastante modesto.  En general, esta es una persona bajo el nombre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">devemux86</a> .  Y un par de chicos m√°s de vez en cuando. </p><br><p>  A veces hay artefactos en el renderizado, algunos parpadeos y contracciones.  Pero nunca me he encontrado con ning√∫n problema cr√≠tico y m√°s accidentes, que no pueden dejar de alegrarme. </p><br><p>  Hay un matiz m√°s que puede no ser agradable.  Este es un dibujo de filetes y c√≠rculos.  Un ejemplo de c√≥mo se ve esto en la captura de pantalla: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qc/37/lo/qc37lomxbxd2ln7r_2zngp6repo.png" width="375" height="667"></div><br><p><br></p><br><p>  Si en la geometr√≠a inicial hay muchos puntos (el redondeo es suave), entonces en el mapa se puede ver un c√≠rculo bastante "angular" con muchas peque√±as protuberancias y concavidades.  Obviamente, esto se hace por el rendimiento y el tama√±o del archivo de mapa, pero no se ve muy bien. </p><br><p>  Quiz√°s esto es todo lo que hay en contra por hoy.  T√∫ decides si puedes vivir con ellos o no.  Mientras tanto, hemos estado usando esta biblioteca durante m√°s de 1,5 a√±os, el vuelo es excelente, al menos en Android. </p><br><h2 id="itogi">  Resumen </h2><br><p>  En este art√≠culo, he demostrado que incluso un problema tan poco trivial puede resolverse con relativa rapidez.  Tienes un esqueleto listo para usar, con el que puedes crear un prototipo de cualquier proyecto que implique el uso de un mapa sin conexi√≥n en un tiempo m√≠nimo. </p><br><p>  Si hay inter√©s, en el pr√≥ximo art√≠culo mostrar√© c√≥mo hacer pisos a la 2GIS.  Y esto es en realidad mucho m√°s simple de lo que parece :) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/453182/">https://habr.com/ru/post/453182/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../453168/index.html">Investigaci√≥n: crear un servicio proxy de bloqueo utilizando la teor√≠a de juegos</a></li>
<li><a href="../453170/index.html">Lluvia de ideas: c√≥mo ver las tareas desde un √°ngulo diferente</a></li>
<li><a href="../453174/index.html">Ocho razones para cambiarse a la nueva API de Yandex.</a></li>
<li><a href="../453178/index.html">La habilidad principal del desarrollador que mejorar√° su c√≥digo</a></li>
<li><a href="../453180/index.html">¬øC√≥mo llevar a cabo una planificaci√≥n trimestral sin papel distribuido y no arruinarlo?</a></li>
<li><a href="../453188/index.html">C√≥mo explicar a los gerentes que no son de TI los principios para construir una infraestructura de TI tolerante a fallas</a></li>
<li><a href="../453194/index.html">Resolvemos el problema del mejor inversor con PHDays 9</a></li>
<li><a href="../453196/index.html">Forrester Research: una comparaci√≥n de los diez principales proveedores de an√°lisis de composici√≥n de software</a></li>
<li><a href="../453200/index.html">Discusi√≥n: el proyecto OpenROAD pretende resolver la tarea de automatizar el dise√±o de procesadores</a></li>
<li><a href="../453204/index.html">Contenedores, microservicios y mallas de servicio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>