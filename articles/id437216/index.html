<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ»â€ğŸŒ¾ ğŸ• ğŸ”ª Molekul - Menguji Peran yang Mungkin ğŸ§“ğŸ¼ ğŸ‘†ğŸ½ ğŸ’»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hari yang baik Ansible disebutkan lebih dari satu kali di HabrÃ©, tetapi saya tidak menemukan artikel tentang pengujian perannya menggunakan molekul, n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Molekul - Menguji Peran yang Mungkin</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437216/">  Hari yang baik  Ansible disebutkan lebih dari satu kali di HabrÃ©, tetapi saya tidak menemukan artikel tentang pengujian perannya menggunakan molekul, namun saya menemukan kerangka kerja ini sangat nyaman dan ingin berbagi ini dengan audiens Habr. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/edc/21b/51f/edc21b51f91f44cfae26159fde4875b5.png"></div>  Tapi pertama-tama, sedikit tentang apa yang saya gunakan sebelumnya. <br><a name="habracut"></a><br>  Sebelumnya, untuk menguji peran yang saya buat, saya menggunakan gelandangan, mengemudi langsung: <br><br><pre><code class="bash hljs">$ vagrant init debian/jessie64 $ vagrant up</code> </pre> <br>  Membuat mesin virtual, setelah itu saya menulis inventaris dan buku pedoman untuk meluncurkan peran, sampai suatu hari saya mengetahui molekulnya. <br><br><h4>  Apa yang bisa ditawarkan molekul? </h4><br><ol><li>  Inisialisasi peran awal </li><li>  Driver / penyedia </li><li>  Tes Idempotensi </li><li>  Verifikasi </li></ol><br><h4>  Inisialisasi peran awal </h4><br>  Jika peran baru ditentukan, buat struktur sampel untuk peran yang dimungkinkan <br><br><h4>  Driver / penyedia </h4><br>  Molekul memungkinkan kita untuk menggunakan wadah Docker atau mesin virtual sebagai kelinci percobaan menggunakan Vagrant, ini ditentukan dengan menentukan driver selama inisialisasi, atau dalam molekul.yml.  Karena  Jika saya harus menguji peran mendalangi wadah, maka Vagrant tetap menjadi pendorong yang disukai bagi saya.  Memilih Vagrant sebagai pengemudi juga memungkinkan Anda memilih Penyedia. <br><br>  Berikut ini tersedia: <br><br><ul><li>  Libvirt </li><li>  Paralel </li><li>  VirtualBox (default) </li><li>  VMware Fusion </li></ul><br>  Selanjutnya, kami akan mempertimbangkan varian Vagrant dengan VirtualBox sebagai penyedia. <br><br><h4>  Tes Idempotensi </h4><br>  Menurut wiki: <br><blockquote>  properti dari suatu objek atau operasi ketika menerapkan operasi ke objek lagi memberikan hasil yang sama seperti ketika itu tunggal. </blockquote><br>  Sehubungan dengan peran yang dimungkinkan, ketika peran dimulai kembali, tidak ada perubahan yang harus dilakukan. <br><br><h4>  Verifikasi </h4><br>  Untuk memastikan bahwa perannya berfungsi dengan baik, tidak gagal dalam tugas apa pun tidak cukup.  Setelah semua, Anda perlu memeriksa bahwa layanan sudah mulai, port terbuka, dll. <br><br>  Kerangka kerja berikut tersedia untuk verifikasi: <br><br><ul><li>  Goss </li><li>  Serverspec </li><li>  Testinfra (default) </li></ul><br>  Saya telah diuji oleh Goss dan Testinfra.  Untuk saya sendiri, saya memilih Testinfra. <br><br>  Contoh penggunaan: <br><br><pre> <code class="bash hljs">$ molecule init --role sample-role</code> </pre> <br>  Setelah menjalankan perintah ini, kami mendapatkan direktori sampel-peran dengan struktur peran yang mungkin dan file yaml yang diperlukan: <br><br><pre> <code class="bash hljs">defaults handlers meta molecule.yml // -  molecule playbook.yml //      README.md tasks tests //    vars</code> </pre> <br>  Anda dapat memulai tanpa menentukan sakelar --role, dalam hal ini file molecule.yml dan playbook.yml akan dibuat di direktori saat ini. <br><br>  Itu terjadi bahwa Anda perlu memastikan bahwa peran berfungsi pada beberapa distribusi dalam kasus ini, di molecyle.yml, Anda harus menentukan nama kotak gelandangan (dalam platform): <br><br><pre> <code class="plaintext hljs">vagrant: platforms: - name: jessie64 box: debian/jessie64 - name: centos7 box: centos/7</code> </pre> <br>  Selanjutnya, tambahkan tindakan / variabel yang diperlukan, dll.  ke dalam peran, setelah itu kami menguji pada semua platform spesifik: <br><br><pre> <code class="bash hljs">$ molecule <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> --platform all</code> </pre> <br>  Setelah molekul ini: <br><br><ul><li>  jika sudah ada mesin virtual yang dibuat, itu akan berhenti dan menghapusnya </li><li>  akan meningkatkan mesin virtual yang diperlukan </li><li>  uji peran kita dengan anonim-serat </li><li>  memenuhi peran kami dalam wadah yang baru dibuat </li><li>  akan menguji idempotensi </li><li>  jalankan tes testinfra </li><li>  akan menghapus mesin virtual yang dibuat </li></ul><br>  Anda mungkin perlu mengubah perilaku molekul saat menjalankan tes, misalnya, jangan menguji idempotensi, untuk ini, tambahkan yang berikut ke molekul.yml: <br><br><pre> <code class="plaintext hljs">molecule: test: sequence: - destroy - syntax - create - converge - verify - destroy</code> </pre> <br>  Anda juga dapat memanggil setiap langkah terkait secara terpisah menggunakan perintah yang sesuai, misalnya: <br><br><pre> <code class="bash hljs">$ molecule create --platform all $ molecule syntax $ molecule create $ molecule converge $ molecule verify</code> </pre> <br>  Sebagai satu pilihan, jangan hapus / buat mesin virtual baru sebelum setiap konvergen. <br><br>  Anda dapat menentukan platform tertentu dan mengujinya secara terpisah: <br><br><pre> <code class="bash hljs">$ molecule create --platform jessie64 $ molecule syntax $ molecule create $ molecule converge $ molecule verify</code> </pre> <br>  Terima kasih atas perhatian anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id437216/">https://habr.com/ru/post/id437216/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id437206/index.html">Yandex mulai menjual komputer on-boardnya sendiri</a></li>
<li><a href="../id437208/index.html">Debian masih menolak untuk menggunakan HTTPS</a></li>
<li><a href="../id437210/index.html">AccelStor - pandangan sendiri tentang karya All Flash</a></li>
<li><a href="../id437212/index.html">Kami mengundang Anda ke presentasi kursus pelatihan tentang pemasaran dalam olahraga elektronik pada 12 Februari</a></li>
<li><a href="../id437214/index.html">Android Q akan membantu â€œmengikatâ€ ponsel dengan kaku ke pengangkut</a></li>
<li><a href="../id437218/index.html">Perubahan yang diajukan ke Chromium akan mengganggu uBlock Asal</a></li>
<li><a href="../id437220/index.html">Apakah semua uang bisa? Tiga juta audit kegunaan situs</a></li>
<li><a href="../id437222/index.html">Augmented Reality of Mr. Senior Consultant (cerita pendek)</a></li>
<li><a href="../id437224/index.html">Menerjemahkan templat debu ke BEJ</a></li>
<li><a href="../id437226/index.html">Kelvin Point Shadow</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>