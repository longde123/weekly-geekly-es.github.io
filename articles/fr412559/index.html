<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤰🏼 👩🏽‍🚒 🔴 Le contrat intelligent comme menace pour la sécurité du démarrage de la blockchain 🐖 🧒 🛏️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selon le site officiel , les contrats intelligents Ethereum sont exécutés "exactement comme programmé, sans possibilité d'interruption, de censure, de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le contrat intelligent comme menace pour la sécurité du démarrage de la blockchain</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/412559/"><p>  Selon le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">site officiel</a> , les contrats intelligents Ethereum sont exécutés "exactement comme programmé, sans possibilité d'interruption, de censure, de fraude ou d'interférence de tiers".  Aujourd'hui, je vais essayer de savoir si tout est si rose en fait, après avoir examiné certains des problèmes auxquels les utilisateurs de contrats intelligents sont confrontés dans la pratique. </p><br><p>  À la fin de l'article, je résume mes réflexions avec un bref guide pour la rédaction de contrats intelligents sécurisés. </p><br><p><img src="https://habrastorage.org/webt/tm/km/3c/tmkm3czjvvcrgcylejipvz9f4oa.png" alt="image"></p><a name="habracut"></a><br><h2 id="remarki">  Remarques </h2><br><ol><li>  Cet article se concentrera uniquement sur les contrats intelligents Ethereum.  La communauté a tacitement identifié les contrats intelligents avec les contrats intelligents Ethereum.  Pendant ce temps, le premier est plus un concept, et le second est la mise en œuvre, et la question de savoir comment cette mise en œuvre répond au concept peut être discutée (ainsi que le concept de contrats intelligents et d'autres mises en œuvre possibles en principe).  Ce sujet est complexe, sous-estimé et intéressant, mais ce n'est pas le sujet de cet article, je vais donc référer ceux qui sont intéressés par les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">travaux de Nick Szabo</a> .  Par conséquent, partout plus loin, où je dis «contrats intelligents», je veux dire en fait «contrats intelligents Ethereum». </li><li>  L'article se concentrera uniquement sur le langage des contrats intelligents <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solidity</a> comme le plus populaire et pour l'utilisateur Ethereum en fait le seul pour le moment. </li></ol><br><h2 id="problemy-bezopasnosti-smart-kontraktov">  Problèmes de sécurité des contrats intelligents </h2><br><p>  Il s'agira en fin de compte des problèmes rencontrés par les développeurs de contrats intelligents, et non de la sécurité de la plateforme elle-même (bien qu'un peu à ce sujet).  Nous divisons classiquement ces problèmes dans les types suivants: </p><br><ol><li>  problèmes dans le code de contrat intelligent; </li><li>  problèmes dans le processus de développement; </li><li>  problèmes de langue; </li><li>  problèmes de concept. </li></ol><br><h3 id="1-problemy-v-kode-smart-kontrakta">  1. Problèmes dans le code de contrat intelligent </h3><br><p>  Par problèmes dans le code d'un contrat intelligent, j'entends ici les problèmes qui sont résolus en modifiant le fichier .sol.  C'est notamment: </p><br><ul><li>  Constructions vulnérables connues (par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rentrée</a> ). <br>  <u>Exemple de vie</u> : rentrée, ou, plus largement, violation du modèle Checks-Effects-Interactions - même des vulnérabilités largement connues (et précédemment <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exploitées</a> ) continuent d'être trouvées dans les nouveaux contrats. </li><li> Constructions vulnérables de l'auteur (en particulier, erreurs dans la logique du code). <br>  <u>Exemple de vie</u> : un portefeuille MultiSig qui n'est en fait pas un MultiSig.  Pour signer une transaction et transférer des fonds, vous avez besoin du nombre de signatures des propriétaires de portefeuille égal à <code>required</code> .  Dans le même temps, pour modifier le <code>required</code> (par exemple, par un, afin de signer vous-même les transactions), seule la signature de l'un des propriétaires suffit: </li></ul><br><p><img src="https://habrastorage.org/webt/aq/_l/1o/aq_l1oidjbyqkeo4km8uciij6ag.png" alt="image"><br><img src="https://habrastorage.org/webt/v7/lw/bo/v7lwbog3xrhkuzfq-vcgsp6jp88.png" alt="image"></p><br><ul><li>  Mauvaise architecture. <br>  <u>Exemple de vie</u> : tentative d'implémentation d'un jeton, d'un portefeuille et d'un magasin de clés dans un même contrat.  Le contrat s'avère trop compliqué, le code est difficile à maintenir, à auditer, à modifier.  En conséquence, la sécurité en souffre également. </li><li>  Code de faible qualité. <br>  <u>Exemple de vie</u> : contrats avec différents retraits, sauts de ligne et espaces arbitraires.  Le code est difficile à lire, ce qui signifie que la sécurité souffre à nouveau.  Malgré le fait qu'il existe déjà des linters pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solidity</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solium</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solhit</a> ). </li></ul><br><p><img src="https://habrastorage.org/webt/px/7t/p_/px7tp_clvkugmymx3sfbiglshcw.png" alt="image"><br><img src="https://habrastorage.org/webt/jh/kc/fx/jhkcfxrd23sw_bfiyfvgb4od3h8.png" alt="image"></p><br><p>  Des problèmes dans le code entraînent directement des attaques et des pertes de fonds.  La bonne nouvelle est que les problèmes de code peuvent être identifiés pendant le processus d'audit et résolus.  Il est important de comprendre d'où ils viennent afin de les éviter à l'avenir.  Par conséquent, nous passons au paragraphe suivant. </p><br><h3 id="2-problemy-v-processe-razrabotki">  2. Problèmes dans le processus de développement </h3><br><p>  Les problèmes dans le code sont principalement dus à un processus de développement mal construit.  Il semblerait que le développement de logiciels soit une activité de longue date avec des bonnes pratiques établies.  Néanmoins, les jeunes du domaine des contrats intelligents, de l'argent disproportionné et du battage médiatique conduisent au fait que les gens pour une raison ou une autre négligent les procédures standard, ce qui entraîne souvent de graves problèmes.  Parmi les plus typiques, il convient de mentionner: </p><br><ul><li>  TK: La plupart des contrats intelligents Ethereum sont rédigés sans tâche technique.  À quoi cela peut conduire, à expliquer inutilement. </li><li>  Calendrier: en moyenne, très peu de temps est consacré au développement, environ un mois.  Un exemple extrême de ma pratique: le client a demandé au développeur de rédiger un contrat intelligent 3 jours avant l'ICO. </li><li>  Niveau développeur: beaucoup de gens viennent sur le terrain, y compris sans expérience en programmation. </li><li>  Comprendre l'écosystème: et même avec un fond, alors souvent les développeurs ne sont pas profondément plongés dans le sujet et ne comprennent pas les spécificités des contrats intelligents. </li><li>  Coût de développement: et pourtant, ceux qui rédigent des contrats intelligents sont peu nombreux;  encore moins qui les écrivent bien.  D'où le coût déraisonnablement élevé du développement. </li></ul><br><h3 id="3-problemy-v-yazyke">  3. Problèmes de langue </h3><br><p>  Ajoute du goudron au langage de Solidity lui-même.  Initialement, il a été créé davantage pour être rapidement maîtrisé par un grand nombre de personnes que pour faciliter l'écriture de contrats intelligents sécurisés.  Voici quelques-unes de ses fonctionnalités qui interfèrent avec la sécurité: </p><br><ul><li>  Héritage multiple, en <code>using for</code> , <code>call</code> / <code>delegate call</code> - tout cela démarre le code non pas de la source actuelle, ce qui signifie qu'il réduit la lisibilité et, par conséquent, la sécurité du code. </li><li>  Modèle de contrôles-effets-interactions - si les constructions qui violent le CEI sont dangereuses, alors pourquoi ne pas les interdire (et bien d'autres) simplement au niveau de la langue? </li><li>  En appelant un autre contrat, vous pouvez soudainement tomber dans sa fonction de repli avec des conséquences inattendues. </li></ul><br><p>  Il est clair que le projet Ethereum se développe et il est impossible de tout prendre en compte à l'avance.  Mais au final, les développeurs sont obligés de se souvenir de nombreuses fonctionnalités et d'utiliser des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">béquilles</a> pour sécuriser leur contrat intelligent. </p><br><h3 id="4-problemy-v-koncepcii">  4. Problèmes dans le concept </h3><br><p>  Cependant, le problème le plus grave est encore plus profond: beaucoup ne comprennent pas suffisamment pourquoi les contrats intelligents sont nécessaires, ce qu'ils peuvent, ce qu'ils ne peuvent pas et comment ils fonctionnent.  Dans le pire des cas, cela conduit au fait que le contrat intelligent: </p><br><ol><li><p>  Pas intelligent: </p><br><ul><li>  Mal écrit - fait ce qui est écrit, mais pas ce qui est prévu. </li><li>  Il est fortement lié au backend et / ou au frontend - et ce code n'est plus un contrat intelligent, il est exécuté de la manière habituelle, et son implémentation est complètement contrôlée par l'administrateur du serveur. </li></ul><br></li><li><p>  Pas un contrat: </p><br><ul><li>  Il n'enregistre pas les obligations des parties - par exemple, ICO vend ses jetons pour ETH, mais les jetons sont essentiellement des emballages de bonbons, car  n'imposez à celui qui les a libérés, aucune restriction ou obligation. </li><li>  Permet des changements unilatéraux - et il s'avère que l'une des parties peut modifier le contrat après sa signature. <br><br>  <u>Exemple de vie</u> : le propriétaire du contrat peut modifier arbitrairement la capitalisation, le taux et la durée de la vente de jetons: <br><br><img src="https://habrastorage.org/webt/ed/yg/me/edygmenuif3ox1rks29xna0w_ai.png" alt="image"></li></ul><br></li><li><p>  Pas nécessaire: </p><br><ul><li>  Le contrat intelligent a été ajouté non pas parce qu'il était techniquement nécessaire, mais en essayant de comprendre quoi faire sur les contrats intelligents et de surfer sur une vague de battage publicitaire; </li><li>  Nous avons essayé de comprendre comment lier des contrats intelligents à un produit existant. <br><br><img src="https://habrastorage.org/webt/vz/sp/dk/vzspdktp77hjgk7ntmbbpau5qzm.png" alt="image"></li></ul><br></li></ol><br><h2 id="smart-kontrakt-kak-ugroza-bezopasnosti-blokcheyn-startapa">  Le contrat intelligent comme menace pour la sécurité du démarrage de la blockchain </h2><br><p>  Quel est le résultat?  Ils voulaient que ce soit à la mode, sûr, blockchain, mais nous obtenons un code non pris en charge coûteux qui menace la sécurité et qui n'est pas du tout nécessaire.  Nous voulions que nos contrats intelligents soient exécutés «exactement comme programmés, sans possibilité d'interruption, de censure, de fraude ou d'intervention de tiers», et finalement ils sont vraiment exécutés tels qu'ils sont écrits - ils ne sont écrits qu'avec vulnérabilité.  Et il ne nous reste plus qu'à agiter une plume à nos moyens.  Eh bien, ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pour faire un hard fork</a> (discréditant ainsi l'idée originale elle-même) si les créateurs d'Ethereum ont perdu de l'argent en raison de la vulnérabilité. </p><br><p><img src="https://habrastorage.org/webt/sn/x5/zv/snx5zvymhlnhuavsagciubxbrfc.png" alt="image"></p><br><h2 id="kak-pisat-bezopasnye-smart-kontrakty">  Comment rédiger des contrats intelligents sécurisés </h2><br><p>  En fait, bien sûr, tout n'est pas si mal.  J'exagère simplement pour essayer d'attirer l'attention sur certains points importants, à mon avis.  En général, le domaine se développe, les gens apprennent, y compris la sécurité. </p><br><p>  Si le lecteur décide de rédiger un contrat intelligent, je conseillerais: </p><br><ul><li>  comprendre pourquoi un contrat intelligent est nécessaire (et s'il est nécessaire); </li><li>  recevoir du client ou écrire TK; </li><li>  calculer le temps; </li><li>  utiliser des outils de développement et de test ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Truffle</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Remix</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SmartCheck</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solhint</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solium linter</a> ); </li><li>  écrire des tests; </li><li>  effectuer plusieurs audits indépendants et des primes de bogues; </li><li>  surveiller la sécurité des autres composantes du projet (site Web, Twitter, etc.). </li></ul><br><p>  En suivant ces recommandations simples, vous pouvez éviter la plupart des problèmes décrits ci-dessus (à partir d'un hard fork, cependant, cela ne sera toujours pas enregistré). </p><br><p>  L'article a été créé en collaboration avec Eugene Marchenko ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">eMarchenko</a> ). </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr412559/">https://habr.com/ru/post/fr412559/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr412549/index.html">Le même type de méthodes? Arrête de l'écrire</a></li>
<li><a href="../fr412551/index.html">Copiez le texte du presse-papiers sur les appareils Android via ADB</a></li>
<li><a href="../fr412553/index.html">Le condensé des événements pour les professionnels des RH dans le domaine des TI pour juin 2018</a></li>
<li><a href="../fr412555/index.html">Engrenage magnétique pour moteur sans balais</a></li>
<li><a href="../fr412557/index.html">Comment créer votre propre bot sans compétences en programmation et le connecter à Yandex.Alice</a></li>
<li><a href="../fr412561/index.html">Rétro-ingénierie du firmware de l'appareil en utilisant l'exemple d'un «rhinocéros» clignotant. 2e partie</a></li>
<li><a href="../fr412565/index.html">BD sur les administrateurs système: toute la vie a défilé devant mes yeux</a></li>
<li><a href="../fr412571/index.html">Histoires de réussite de Kubernetes en production. Partie 9: Clusters CERN et 210 K8s</a></li>
<li><a href="../fr412573/index.html">Ce qui ne va pas avec le retour des Geektimes à Habr</a></li>
<li><a href="../fr412575/index.html">Chaque année, la musique pop devient de plus en plus monotone, car les mêmes personnes la composent</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>