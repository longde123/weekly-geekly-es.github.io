<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò† üåò üë©üèΩ‚Äçüè´ O dispositivo para a emiss√£o de cookies "Cook 3000" üòô üè† ‚úçüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° pessoal! Trabalho para uma empresa que desenvolve equipamentos para monitorar plataformas de petr√≥leo, fazendas de minera√ß√£o, grupos geradores a d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O dispositivo para a emiss√£o de cookies "Cook 3000"</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wirenboard/blog/420831/"><img src="https://habrastorage.org/webt/kh/e9/2m/khe92mi1t6q68vhqpcgle2f50cw.jpeg"><br><br>  Ol√° pessoal!  Trabalho para uma empresa que desenvolve equipamentos para monitorar plataformas de petr√≥leo, fazendas de minera√ß√£o, grupos geradores a diesel e outras coisas chatas.  Mas desta vez automatizamos outra coisa.  Ent√£o, conhe√ßa: "Cook 3000" - o aparelho para emitir cookies para os melhores funcion√°rios. <br><br>  O dispositivo √© uma constru√ß√£o feita de PVC e algumas partes: <br>  Uma espiral com uma unidade (serve para fornecer mercadorias), uma tela, um aceitador de moedas e o c√©rebro de toda a estrutura - o controlador Wiren Board 6. <br><a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/td/5c/ss/td5csslpot3ey_uuzx0yvirjd90.gif" width="720"><br><br> <a href=""><img src="https://habrastorage.org/webt/cc/39/cu/cc39cuim2tu0o8nine6dmo9r0ok.jpeg" width="360" alt="Clique para ampliar a imagem."></a> <a href=""><img src="https://habrastorage.org/webt/zc/ll/vn/zcllvnbavuzknmcx-vkecvjlp9m.jpeg" width="360" alt="Clique para ampliar a imagem."></a> <br> <a href=""><img src="https://habrastorage.org/webt/mw/3p/w0/mw3pw0garxwkyjp8orka5ymrcqo.jpeg" width="360" alt="Clique para ampliar a imagem."></a> <a href=""><img src="https://habrastorage.org/webt/pb/tc/kx/pbtckxlynifmqbzfun4heex-4m0.jpeg" width="360" alt="Clique para ampliar a imagem."></a> <br><br><h2>  Ecr√£ <br></h2><br>  Como tela do <abbr title="Placa Wiren 6">WB6,</abbr> eu uso o m√≥dulo de tela Nextion (NEXTION ENHANCED NX4832K035). <br><img src="https://habrastorage.org/webt/hw/6j/9d/hw6j9dvuwg6wqxkr9kwp3cp9upk.jpeg" width="450"><br>  O m√≥dulo est√° equipado com um processador AVR.  Possui uma tela TFT de 3,5 '' com uma resolu√ß√£o de 480 * 320, 32Mb de mem√≥ria interna, 1024 bytes EEPROM, 8192 bytes de RAM. <br><br>  Este dispositivo armazena e exibe gr√°ficos, anima elementos da interface e processa cliques.  Somente c√≥digos de eventos s√£o transmitidos ao controlador via UART, o que facilita a configura√ß√£o de interfaces de complexidade vari√°vel. <br><br>  Para carregar as configura√ß√µes e gr√°ficos necess√°rios no m√≥dulo de tela, √© fornecido um editor visual das interfaces do Nextion Editor.  Voc√™ pode baix√°-lo no site oficial da itead. <br><br> <a href=""><img src="https://habrastorage.org/webt/x6/u_/eb/x6u_ebycvwunndp6nshvmcqizki.png" width="450" alt="Clique para ampliar a imagem."></a> <br><br>  Ao criar um novo projeto, voc√™ deve especificar o modelo, a posi√ß√£o da tela e a codifica√ß√£o de caracteres.  Para a exibi√ß√£o correta do alfabeto cir√≠lico, selecione iso-8859-5. <br><br> <a href=""><img src="https://habrastorage.org/webt/nh/sw/m1/nhswm1fhm3dfn99dll_kzqsr4iq.png" width="360" alt="Clique para ampliar a imagem."></a> <a href=""><img src="https://habrastorage.org/webt/qt/fe/q-/qtfeq-bai9ghnfgimb4ucysox8y.png" width="360" alt="Clique para ampliar a imagem."></a> <br><br>  √Ä esquerda √© uma barra de ferramentas.  Aqui voc√™ encontra os elementos mais necess√°rios para criar uma interface. <br><br> <a href=""><img src="https://habrastorage.org/webt/7u/ef/da/7uefdanvxiu9o4ebff_cxuedhia.png" width="150" alt="Clique para ampliar a imagem." align="left"></a> <br><br>  Vamos clicar no bot√£o.  Um bot√£o condicional aparecer√° na caixa de edi√ß√£o.  Estique-o, edite o texto e o t√≠tulo.  Para exibir texto, voc√™ deve adicionar uma fonte.  Usaremos a ferramenta Criador de fontes na guia Ferramentas.  No campo "Evento", voc√™ deve escrever o c√≥digo que ser√° reproduzido nos eventos. <br><br>  Por exemplo, se voc√™ escrever ‚Äúpressione o bot√£o pressionado \ r‚Äù na guia ‚ÄúEvento pressionado ao pressionar‚Äù, quando voc√™ clicar no bot√£o, o dispositivo enviar√° ao UART: bot√£o pressionado e o caractere de quebra de linha. <br><br> <a href=""><img src="https://habrastorage.org/webt/zm/te/k_/zmtek_kvf6e-mb8cxxoddkt6a6m.png" width="350" alt="Clique para ampliar a imagem."></a> <br><br>  Descri√ß√£o e exemplos de c√≥digos podem ser encontrados na documenta√ß√£o da tela.  Para depura√ß√£o, voc√™ pode usar a fun√ß√£o Debug.  Essa janela permite testar todas as fun√ß√µes do firmware antes de preencher a pr√≥pria tela. <br><br> <a href=""><img src="https://habrastorage.org/webt/aa/gj/6a/aagj6ajoz26f2oiswoxpdxr0_ce.png" width="550" alt="Clique para ampliar a imagem."></a> <br><br>  Se tudo estiver em ordem, voc√™ poder√° conectar a tela ao computador atrav√©s do adaptador USB / UART e preencher o firmware clicando no bot√£o ‚ÄúUpload‚Äù. <br><br> <a href=""><img src="https://habrastorage.org/webt/oi/lf/mk/oilfmkojzwprppfkk5yza0lrpk4.png" width="150" alt="Clique para ampliar a imagem." align="left"></a> <br>  Mas como agora fazemos amizade com o WB6? <br>  Voc√™ pode conectar a tela atrav√©s do mesmo adaptador USB \ UART a uma das portas USB do controlador ou diretamente a um dos slots de expans√£o na placa do controlador. <br>  Estamos interessados ‚Äã‚Äãnos pinos TX, RX, 5V e GND. <br><br> <a href=""><img src="https://habrastorage.org/webt/jy/zz/tm/jyzztmnldc_my-wqwjvo4tgwavk.jpeg" width="450" alt="Clique para ampliar a imagem."></a> <br><br>  Ap√≥s conectar a tela ao controlador, receberemos dados do evento diretamente na porta serial. <br><br>  Para responder de alguma forma a esses eventos, vamos escrever um pequeno script que enviar√° todos os dados sobre os eventos ao t√≥pico MQTT.  Primeiro, crie um arquivo na pasta raiz do controlador e chame-o de serial.sh <br><br><div class="spoiler">  <b class="spoiler_title">serial.sh</b> <div class="spoiler_text"><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash #  /dev/ttyMOD3 stty -F /dev/ttyMOD3 ospeed 9600 ispeed 9600 raw clocal -parenb -echo cs8 CR="$(echo -e '\r')" exec 4&lt;&gt; /dev/ttyMOD3 cat &lt;&amp;4 | while : do IFS="$CR" read -r line case "$line" in quit*) break ;; *) if [[ -n "$line" ]]; then echo $line #    MQTT mosquitto_pub -t /devices/screen/controls/raw/meta/type -r -m text mosquitto_pub -t /devices/screen/controls/raw/on -r -m "$line" fi ;; esac done</span></span></code> </pre> <br></div></div><br>  Se voc√™ fez tudo corretamente, depois de executar o script ao clicar no bot√£o, na interface da web do controlador, voc√™ ver√° um t√≥pico com os dados que o m√≥dulo de tela envia. <br><br>  Nos controladores da Wiren Board, √© fornecido um sistema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">de regras</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">wb-rules</a> .  As regras s√£o criadas por meio de uma interface da Web e escritas em uma linguagem simples semelhante a Javascript. <br><br>  Na interface da web do WB6, v√° para a guia Scripts e crie um novo script clicando no bot√£o "Novo ...", nomeie-o como "screen_button.js" ou qualquer outra coisa.  Em seguida, escreveremos uma regra: Ao alterar a tela / t√≥pico bruto (√© para ele que enviamos dados da tela), certas a√ß√µes ocorrer√£o.  Nesse caso, quando voc√™ clicar na tela, veremos a mensagem "Bot√£o pressionado" na janela de depura√ß√£o da interface da web: <br><br><div class="spoiler">  <b class="spoiler_title">screen_button.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs">defineVirtualDevice(<span class="hljs-string"><span class="hljs-string">"screen"</span></span>, { <span class="hljs-comment"><span class="hljs-comment">//    title: "nextion screen", cells: { raw: { type: "text", value: "" }, } }); defineRule("screen_button", { whenChanged: "screen/raw", then: function(newValue, devName, cellName) { log(newValue); if (newValue == "button pressed") { //     ¬´button pressed¬ª log(" "); //     . } else if (newValue == "button released") { log("  "); } dev["screen"]["raw"] = ""; // . } });</span></span></code> </pre><br></div></div><br>  √ìtimo.  Para processar cliques na tela, descobrimos.  Agora vamos falar sobre como controlamos a tela com o WB6.  Por exemplo, altere o texto do bot√£o.  A tela aceita comandos UART.  Uma lista e descri√ß√£o dos comandos podem ser encontradas na documenta√ß√£o da tela. <br><br>  Para determinar o final do comando, a tela aguarda tr√™s caracteres especiais (\ xff \ xff \ xff).  Para simplificar a tarefa no futuro: crie um script na pasta raiz do bash.  Vamos cham√°-lo de text.sh: <br><br><div class="spoiler">  <b class="spoiler_title">text.sh</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash TEXT=""; UNIT=""; while [ -n "$1" ] do case "$1" in -a) UNIT=$2;; -b) TEXT=$2;; esac shift done echo -en "$UNIT.txt=\"$TEXT\"\xff\xff\xff" &gt; /dev/ttyMOD3 exit 0</span></span></code> </pre><br></div></div><br><br>  Agora, para alterar o texto do bot√£o, basta chamar o script com os argumentos: <br> <code>bash /mnt/data/root/text.sh -a b0 -b 'Some Text'</code> <br>  Onde b0 √© o nome do bot√£o na tela e Algum texto √© o texto desejado. <br><br>  Um exemplo de uso do mecanismo de regras WB6: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> txt1 = <span class="hljs-string"><span class="hljs-string">"some text"</span></span>; runShellCommand(<span class="hljs-string"><span class="hljs-string">"bash /mnt/data/root/text.sh -a b0 -b '"</span></span> + txt1+ <span class="hljs-string"><span class="hljs-string">"'"</span></span>);</code> </pre><br><br>  Da mesma forma, voc√™ pode alterar a p√°gina atualmente exibida na tela, o texto em v√°rios elementos, vari√°veis ‚Äã‚Äãe outros par√¢metros.  N√£o vou pintar aqui todas as funcionalidades do m√≥dulo de tela.  As informa√ß√µes j√° escritas acima s√£o suficientes para o nosso projeto. <br><br><h2>  Aceitador de moedas </h2><br>  Como aceitador de moedas, uso a vers√£o chinesa, encontrada nas extens√µes do Aliexpress por 400 rublos. <br><br>  Com a conex√£o, tudo √© simples.  + 12v e uma sa√≠da de pulso a ser conectada ao m√≥dulo de extens√£o de contato seco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WBE2-DI-DR-3</a> .  Al√©m disso, para determinar a moeda, precisamos apenas contar os impulsos.  Para fazer isso, crie um novo script no mecanismo de regras: <br><br><div class="spoiler">  <b class="spoiler_title">money.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> timeout_ms = <span class="hljs-number"><span class="hljs-number">1</span></span> * <span class="hljs-number"><span class="hljs-number">200</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> timer_id = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> timerTime = <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> timerLast = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> countMoney = <span class="hljs-number"><span class="hljs-number">0</span></span>; defineRule(<span class="hljs-string"><span class="hljs-string">"money"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">whenChanged</span></span>: <span class="hljs-string"><span class="hljs-string">"wb-gpio/MOD1_IN2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">then</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">newValue, devName, cellName</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (newValue) { timerLast = <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((timerLast - timerTime) &gt;= <span class="hljs-number"><span class="hljs-number">500</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// ? timerTime = Date.now(); countMoney = 1; } else { timerTime = Date.now(); //     countMoney++; } if (timer_id) { clearTimeout(timer_id); } timer_id = setTimeout(function() { //       if (countMoney == 5) { log("10 ") } else if (countMoney == 4) { log("5 ") } else if (countMoney == 3) { log("2 ") } else if (countMoney == 2) { log("1 ") } timer_id = null; }, timeout_ms); } } });</span></span></code> </pre><br></div></div><br>  Regra bastante simples.  Talvez n√£o seja o mais preciso. <br><br><h2>  Bitrix24 </h2><br>  Agora, provavelmente o mais interessante.  Vamos tentar descobrir como traduzir a frase "Muito bem.  Pegue um biscoito de uma prateleira.  Nossa empresa usa o sistema Bitrix24 como um CRM.  A id√©ia √© que, para cada tarefa conclu√≠da (Tarefa) no bitrix, o funcion√°rio receba alguns pontos eletr√¥nicos.  Esses mesmos pontos podem ser usados ‚Äã‚Äãcomo moeda para o nosso dispositivo.  Vamos descobrir como se conectar ao Bitrix24 e monitorar o sucesso dos funcion√°rios. <br><br> <a href=""><img src="https://habrastorage.org/webt/m3/tt/yk/m3ttykeum6-qm1pjvbqxa2golh0.png" width="350" alt="Clique para ampliar a imagem."></a> <br><br>  Usaremos o bitrix24-python-sdk como base. <br>  Instale o SDK no controlador com o comando <br> <code>pip install bitrix24-python-sdk</code> <br> <br>  Em seguida, crie um script python na pasta raiz, chame-o de bitrix.py: <br><br><div class="spoiler">  <b class="spoiler_title">bitrix.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python3 import pprint from bitrix24 import bitrix24 import sys import subprocess b24_webhook_key = 'some_key' #   ,    . b24_webhook_user = 1 # ID  -    . b24_domain = 'some_domain' #  . page = 1 user_id = [16, 10, 6, 55, 8, 14, 67, 20] #  ,     ord_status = 5 # 5 -   order_list = 0 total_orders = 0 bx24 = bitrix24.Bitrix24(b24_domain, webhook_key=b24_webhook_key, webhook_user=b24_webhook_user) def get_order_list_len(_user_id): result_ = bx24.call( 'task.item.list', {'ORDER': {'DEADLINE': 'desc'}}, {'FILTER': {'RESPONSIBLE_ID': _user_id,'REAL_STATUS': ord_status}}, {'PARAMS': {'NAV_PARAMS': {'nPageSize': 50, 'iNumPage': page}}} ) if result_: return (len(result_['result'])) for user in user_id: while True: order_list = get_order_list_len(user) total_orders = total_orders + order_list page = page + 1 if(order_list &lt; 50): subprocess.call("mosquitto_pub -t /devices/%s/controls/orders_finished/on -r -m %s" % (user, total_orders), shell=True) #    MQTT. page = 1 total_orders = 0 break</span></span></code> </pre><br></div></div><br>  Esse script solicita todas as tarefas conclu√≠das de uma determinada lista de usu√°rios, as considera e envia o n√∫mero aos t√≥picos no mqtt.  Em seguida, podemos apenas comparar a quantia obtida com os valores anteriores e, se os novos dados forem maiores, adicionar pontos ao funcion√°rio pelo trabalho realizado. <br><br><h2>  Bluetooth </h2><br>  Para digitalizar dispositivos BLE, uso o Bluez.  O programa j√° est√° instalado no controlador.  Para verificar dispositivos ble, basta digitar alguns comandos no console: <br><br><pre> <code class="hljs pgsql">hciconfig hci0 up hcitool lescan <span class="hljs-comment"><span class="hljs-comment">--duplicates</span></span></code> </pre> <br>  No entanto, isso n√£o √© suficiente para n√≥s.  √â aconselh√°vel ver o n√≠vel do sinal.  Para fazer isso, instale o utilit√°rio hcidump adicional: <br><br><pre> <code class="hljs powershell">apt<span class="hljs-literal"><span class="hljs-literal">-get</span></span> install bluez<span class="hljs-literal"><span class="hljs-literal">-hcidump</span></span></code> </pre> <br>  E complemente nossa equipe: <br><br><pre> <code class="hljs powershell">hciconfig hci0 up hcitool lescan -<span class="hljs-literal"><span class="hljs-literal">-duplicates</span></span> | hcidump <span class="hljs-literal"><span class="hljs-literal">-a</span></span> | grep <span class="hljs-literal"><span class="hljs-literal">-E</span></span> <span class="hljs-string"><span class="hljs-string">'bdaddr|RSSI'</span></span></code> </pre> <br>  Na sa√≠da, temos endere√ßos MAC e dispositivos RSSI bluetooth (ble) nas proximidades. <br><br> <a href=""><img src="https://habrastorage.org/webt/eg/st/ar/egstarnarzrsym0nfutrfwhawhc.png" width="650" alt="Clique para ampliar a imagem."></a> <br><br>  Essas duas linhas podem ser lindamente agrupadas em um script bash e a sa√≠da enviada para o MQTT. <br>  A segunda <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">maneira √© o</a> script <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aioblescan</a> <br>  Requer que o Python 3 funcione, de prefer√™ncia 3.5.  A vantagem desse script √© que voc√™ pode monitorar endere√ßos MAC espec√≠ficos, e nem todos os rel√≥gios inteligentes e smartphones que passam pela janela.  A sa√≠da do script tamb√©m √© redirecionada para o MQTT, para facilitar o trabalho com o mecanismo de regras. <br><br> <a href=""><img src="https://habrastorage.org/webt/co/bk/cl/cobkcltejo3kbwvhpk-rduxlgxk.png" width="400" alt="Clique para ampliar a imagem."></a> <br><br>  Agora sabemos como interagir com o WB6 usando o m√≥dulo de tela, podemos contar moedas, monitorar o sucesso dos funcion√°rios no Bitrix, digitalizar dispositivos e seu n√≠vel de sinal.  Resta coletar isso de uma s√≥ vez e prescrever algum tipo de l√≥gica.  N√£o vou pintar todos os scripts para este projeto.  Tudo estar√° dispon√≠vel no link em dom√≠nio p√∫blico.  Talvez um de voc√™s encontre uma aplica√ß√£o mais √∫til e inteligente para isso. <br><br><h2>  Habita√ß√£o </h2><br>  O corpo √© feito de PVC espumado de 10 mm.  Esse pl√°stico √© vendido em folhas.  Moderadamente suave.  Voc√™ pode cortar com uma serra ou com uma faca de escrit√≥rio regular em uma r√©gua. <br><br> <a href=""><img src="https://habrastorage.org/webt/jx/nc/7e/jxnc7ef0lwmeow3j4fhlyz4--gs.jpeg" width="400" alt="Clique para ampliar a imagem."></a> <br><br>  Como prendedor, foram utilizados um conjunto infantil de pe√ßas met√°licas ‚ÄúConstructor‚Äù e parafusos autoatarraxantes curtos.  Neste kit, quase tudo era necess√°rio para montar o estojo. <br><br> <a href=""><img src="https://habrastorage.org/webt/h0/5m/jl/h05mjlqrtr82bk4krmbjkeyetzq.jpeg" width="400" alt="Clique para ampliar a imagem."></a> <br><br><h2>  Drive </h2><br>  A espiral e a unidade foram compradas no aplicativo B \ U da loja online.  pe√ßas para m√°quinas de venda autom√°tica.  Alimentado por uma fonte de alimenta√ß√£o de 24V.  √â conectado atrav√©s do rel√© do m√≥dulo de expans√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WBE2-DO-R6C-1</a> . <br><br> <a href=""><img src="https://habrastorage.org/webt/es/fa/ar/esfaaryqjf8rslpblwesr3fcrgm.png" width="200" alt="Clique para ampliar a imagem."></a> <a href=""><img src="https://habrastorage.org/webt/be/oa/kt/beoaktz2glv7ksdvod0n4ehkn5e.png" width="200" alt="Clique para ampliar a imagem."></a> <a href=""><img src="https://habrastorage.org/webt/v7/bn/0p/v7bn0pxipe6w-bi328ugegtuh3e.png" width="200" alt="Clique para ampliar a imagem."></a> <br><br><h2>  Funcional </h2><br>  Funcionalmente semelhante a uma m√°quina de venda autom√°tica.  D√° cookies por dinheiro e n√£o apenas. <br><img src="https://habrastorage.org/webt/oy/kw/vh/oykwvhvrnx0sscx1kktd6fhcej8.gif"><br><br>  Quando o dispositivo √© inicializado, a tela mostra uma tela de apresenta√ß√£o com um logotipo e, em seguida, ele muda para a tela principal, onde somos oferecidos para comprar cookies ou jogar um jogo. <br><br>  O jogo para o usu√°rio √© gratuito, mas voc√™ pode definir um pre√ßo pequeno para a motiva√ß√£o.  As regras s√£o simples.  O jogador √© oferecido para resolver tr√™s problemas simples.  Se ele der tr√™s respostas corretas, ele receber√° um pr√™mio na forma de cookies.  Talvez seja tudo o que voc√™ precisa saber sobre esse item.  Vamos voltar ao menu principal e clicar em "Comprar cookies". <br><br>  Em seguida, o sistema solicitar√° que voc√™ selecione uma forma de pagamento.  Ao escolher o m√©todo de pagamento "Por dinheiro", uma janela aparece na tela com o pre√ßo e o valor pago, que aumentam quando voc√™ deposita dinheiro no aceitador de moedas. <br><br>  Assim que o valor for suficiente para fazer uma compra, o dispositivo fechar√° automaticamente esta janela e distribuir√° as mercadorias. <br><br>  Mas, como eu disse anteriormente, outra moeda tamb√©m √© fornecida - esses s√£o pontos recebidos pelo sucesso dos funcion√°rios no sistema Bitrix24.  Se um funcion√°rio fecha uma tarefa atribu√≠da a ele, pontos s√£o concedidos a ele.  Al√©m disso, pontos podem ser concedidos ao chefe por resultados particularmente bons. <br><br><img src="https://habrastorage.org/webt/cm/ng/ox/cmngoxpzdzbmt3hxh9xc9l9whac.png" width="360" alt="Clique para ampliar a imagem."><img src="https://habrastorage.org/webt/p6/bw/yr/p6bwyraqciiu2v0tu371qypzfxq.png" width="360" alt="Clique para ampliar a imagem."><br><img src="https://habrastorage.org/webt/kk/df/7d/kkdf7dnz548knhk5p17_21zj6nu.png" width="360" alt="Clique para ampliar a imagem."><img src="https://habrastorage.org/webt/wg/9w/cl/wg9wcltq4yk9ogjh-jik8kt0ogc.png" width="360" alt="Clique para ampliar a imagem."><br><br>  Para pagar os pontos, o funcion√°rio precisa selecionar o item "Comprar por pontos" e, em seguida, o dispositivo tentar√° determinar quem est√° na frente dele.  Para fazer isso, ele verifica os dispositivos Bluetooth √† sua volta e, se ele vir o endere√ßo MAC do dispositivo pertencente ao funcion√°rio e entrar no banco de dados, assim como o n√≠vel do sinal for poderoso o suficiente para supor que ele esteja pr√≥ximo, os dados sobre o status da conta do funcion√°rio aparecer√£o na tela, nome e oferta para pagar cookies com pontos. <br><br>  Se o sistema n√£o conseguir determinar um √∫nico dispositivo familiar, ele emitir√° um aviso e oferecer√° para selecionar seu nome na lista e depois inserir seu c√≥digo PIN. <br><br>  No caso de uma entrada correta, a mesma janela √© aberta com dados sobre o status da conta do usu√°rio e o custo do produto.  Quando uma compra √© confirmada, a quantidade necess√°ria de pontos √© debitada da conta do usu√°rio e o dispositivo emite as mercadorias. <br><br>  Isso √© tudo.  Este projeto foi criado exclusivamente para fins educacionais e para mostrar que as aplica√ß√µes do controlador Wiren Board s√£o limitadas apenas pela imagina√ß√£o.  Todos os arquivos e scripts podem ser encontrados no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt420831/">https://habr.com/ru/post/pt420831/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt420819/index.html">As 10 principais ferramentas Python para aprendizado de m√°quina e ci√™ncia de dados</a></li>
<li><a href="../pt420821/index.html">Regra 10: 1 em programa√ß√£o e reda√ß√£o</a></li>
<li><a href="../pt420825/index.html">Hoje ser√° a primeira partida entre os profissionais OpenAI e Dota 2 (pessoas vencidas). Entendemos como o bot funciona</a></li>
<li><a href="../pt420827/index.html">Crie um projeto simples do maven usando Java EE + WildFly10 + JPA (Hibernate) + Postgresql + EJB + IntelliJ IDEA</a></li>
<li><a href="../pt420829/index.html">Sistema de trabalho. Vis√£o geral do outro lado</a></li>
<li><a href="../pt420833/index.html">Principais erros de monetiza√ß√£o de aplicativos [e como corrigi-los]</a></li>
<li><a href="../pt420837/index.html">Teste de matrizes RAID de software para dispositivos NVMe usando a metodologia SNIA</a></li>
<li><a href="../pt420841/index.html">Hotfix pr√©-hospitalar ou ‚ÄúHey Swagger! Onde est√£o meus erros?</a></li>
<li><a href="../pt420843/index.html">7 de setembro de Ecaterimburgo - uma reuni√£o para desenvolvedores .NET</a></li>
<li><a href="../pt420845/index.html">Domar os obstinados com o uso de uma muleta: o orif√≠cio do adaptador Wi-Fi WF2190 (Realtek8812AU Wireless LAN 802.11ac USB)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>