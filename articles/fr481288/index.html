<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•î üèçÔ∏è üë®üèº‚Äçüè´ Redux Toolkit comme outil pour un d√©veloppement efficace de Redux üßëüèø‚Äçü§ù‚ÄçüßëüèΩ üíáüèª üë©üèº‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Actuellement, la part du lion des applications Web bas√©es sur le framework React est d√©velopp√©e √† l'aide de la biblioth√®que Redux. Cette biblioth√®que ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Redux Toolkit comme outil pour un d√©veloppement efficace de Redux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/inobitec/blog/481288/"><p><img src="https://habrastorage.org/getpro/habr/post_images/aad/f48/d2f/aadf48d2f864cef234b3b73d600dc8d1.jpg" alt="image"><br>  Actuellement, la part du lion des applications Web bas√©es sur le framework React est d√©velopp√©e √† l'aide de la biblioth√®que Redux.  Cette biblioth√®que est l'impl√©mentation la plus populaire de l'architecture FLUX et, malgr√© un certain nombre d'avantages √©vidents, elle pr√©sente des inconv√©nients tr√®s importants, tels que: </p><br><ul><li>  la complexit√© et la ¬´verbosit√©¬ª des mod√®les recommand√©s pour l'√©criture et l'organisation du code, ce qui implique un grand nombre de passe-partout; </li><li>  le manque de contr√¥les int√©gr√©s pour le comportement asynchrone et les effets secondaires, ce qui conduit √† la n√©cessit√© de choisir le bon outil parmi une vari√©t√© de modules compl√©mentaires √©crits par des d√©veloppeurs tiers. </li></ul><br><p>  Pour rem√©dier √† ces lacunes, les d√©veloppeurs de Redux ont introduit la biblioth√®que Redux Toolkit.  Cet outil est un ensemble de solutions et de m√©thodes pratiques con√ßues pour simplifier le d√©veloppement d'applications √† l'aide de Redux.  Les d√©veloppeurs de cette biblioth√®que avaient pour objectif de simplifier les cas typiques d'utilisation de Redux.  Cet outil n'est pas une solution universelle dans chacun des cas possibles d'utilisation de Redux, mais il vous permet de simplifier le code que le d√©veloppeur doit √©crire. </p><br><p>  Dans cet article, nous parlerons des principaux outils inclus dans la bo√Æte √† outils Redux et, en utilisant un exemple d'un fragment de notre application interne, montrerons comment les utiliser dans le code existant. </p><a name="habracut"></a><br><h2 id="kratko-o-biblioteke">  En bref sur la biblioth√®que </h2><br><p>  R√©sum√© de la bo√Æte √† outils Redux: </p><br><ul><li> avant sa sortie, la biblioth√®que s'appelait redux-starter-kit; </li><li>  la lib√©ration a eu lieu fin octobre 2019; </li><li>  La biblioth√®que est officiellement prise en charge par les d√©veloppeurs Redux. </li></ul><br><p>  Selon <a href="https://redux-toolkit.js.org/introduction/quick-start">les d√©veloppeurs</a> , le Redux Toolkit remplit les fonctions suivantes: </p><br><ul><li>  Vous aide √† d√©marrer rapidement en utilisant Redux. </li><li>  simplifie le travail avec les t√¢ches typiques et le code Redux; </li><li>  vous permet d'utiliser les meilleures pratiques de Redux par d√©faut; </li><li>  propose des solutions qui r√©duisent la m√©fiance envers les plaques de chaudi√®re. </li></ul><br><p>  La bo√Æte √† outils Redux fournit un ensemble d'outils √† la fois sp√©cialement con√ßus et ajoute un certain nombre d' <a href="https://redux-toolkit.js.org/api/other-exports">outils</a> √©prouv√©s qui sont couramment utilis√©s avec Redux.  Cette approche permet au d√©veloppeur de d√©cider comment et quels outils utiliser dans son application.  Au cours de cet article, nous noterons quels emprunts cette biblioth√®que utilise.  Pour plus d'informations et les d√©pendances de la bo√Æte √† outils Redux, consultez la description du package <a href="https://www.npmjs.com/package/%40reduxjs/toolkit">@ reduxjs / toolkit</a> . </p><br><p>  Les fonctionnalit√©s les plus importantes fournies par la biblioth√®que Redux Toolkit sont: </p><br><ul><li>  <a href="https://habr.com/ru/company/inobitec/blog/481288/">#configureStore</a> - une fonction con√ßue pour simplifier le processus de cr√©ation et de configuration du stockage; </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/481288/">#createReducer</a> - une fonction qui aide √† d√©crire de mani√®re concise et claire et √† cr√©er un r√©ducteur; </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/481288/">#createAction</a> - renvoie la fonction du cr√©ateur de l'action pour la cha√Æne sp√©cifi√©e du type d'action; </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/481288/">#createSlice</a> - combine les fonctionnalit√©s de createAction et createReducer; </li><li>  createSelector est une fonction de la biblioth√®que <a href="https://github.com/reduxjs/reselect">Reselect</a> , <a href="https://github.com/reduxjs/reselect">r√©export√©e</a> pour une facilit√© d'utilisation. </li></ul><br><p>  Il convient √©galement de noter que la bo√Æte √† outils Redux est enti√®rement int√©gr√©e √† TypeScript.  Pour plus d'informations, consultez la section <a href="https://redux-toolkit.js.org/usage/usage-with-typescript/">Utilisation avec TypeScript</a> de la documentation officielle. </p><br><h2 id="primenenie">  Candidature </h2><br><p>  Envisagez d'utiliser la biblioth√®que Redux Toolkit comme exemple de fragment d'une application React Redux vraiment utilis√©e. <br>  <em>Remarque</em>  Plus loin dans l'article, le code source sera pr√©sent√© √† la fois sans utiliser le Redux Toolkit et avec lui, ce qui permettra de mieux √©valuer les aspects positifs et n√©gatifs de l'utilisation de cette biblioth√®que. </p><br><h3 id="zadacha">  D√©fi </h3><br><p>  Dans l'une de nos applications internes, il √©tait n√©cessaire d'ajouter, de modifier et d'afficher des informations sur les versions de nos produits logiciels.  Pour chacune de ces actions, des fonctions API distinctes ont √©t√© d√©velopp√©es, dont les r√©sultats doivent √™tre ajout√©s au magasin Redux.  Pour contr√¥ler le comportement asynchrone et les effets secondaires, nous utiliserons <a href="https://github.com/reduxjs/redux-thunk">Thunk</a> . </p><br><h3 id="sozdanie-hranilischa">  Cr√©ation de stockage </h3><br><p>  La version initiale du code source qui cr√©e le r√©f√©rentiel ressemblait √† ceci: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createStore, applyMiddleware, combineReducers, compose, } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> thunk <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-thunk'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> reducers <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./reducers'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ext = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.__REDUX_DEVTOOLS_EXTENSION__; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> devtoolMiddleware = ext &amp;&amp; process.env.NODE_ENV === <span class="hljs-string"><span class="hljs-string">'development'</span></span> ? ext() : <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f</span></span></span><span class="hljs-function"> =&gt;</span></span> f; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = createStore( combineReducers({ ...reducers, }), compose( applyMiddleware(thunk), devtoolMiddleware ) );</code> </pre> <br><p>  Si vous regardez attentivement le code ci-dessus, vous pouvez voir une s√©quence assez longue d'actions qui doivent √™tre effectu√©es pour que le stockage soit enti√®rement configur√©.  Le Redux Toolkit contient un outil con√ßu pour simplifier cette proc√©dure, √† savoir la fonction configureStore. </p><br><h4 id="funkciya-configurestoreanchorconfigurestoreanchor">  Fonction ConfigureStore <a name="configureStore"></a></h4><br><p>  Cet outil vous permet de combiner automatiquement les r√©ducteurs, d'ajouter le middleware Redux (la valeur par d√©faut inclut redux-thunk) et d'utiliser √©galement l'extension Redux DevTools.  La fonction configureStore accepte un objet avec les propri√©t√©s suivantes comme param√®tres d'entr√©e: </p><br><ul><li>  r√©ducteur - un ensemble de r√©ducteurs personnalis√©s, </li><li>  middleware - param√®tre facultatif qui sp√©cifie un tableau de middleware con√ßu pour se connecter au r√©f√©rentiel, </li><li>  devTools - un param√®tre de type logique qui vous permet d'activer l'extension Redux DevTools install√©e dans le navigateur (la valeur par d√©faut est true), </li><li>  preloadedState - un param√®tre facultatif qui d√©finit l'√©tat initial du r√©f√©rentiel, </li><li>  Enhancers - un param√®tre facultatif qui d√©finit un ensemble d'amplificateurs. </li></ul><br><p>  Pour obtenir la liste la plus populaire de middleware, vous pouvez utiliser la fonction sp√©ciale getDefaultMiddleware, qui fait √©galement partie de la bo√Æte √† outils Redux.  Cette fonction renvoie un tableau avec le middleware activ√© par d√©faut dans la biblioth√®que Redux Toolkit.  La liste de ces middlewares diff√®re selon le mode dans lequel votre code est ex√©cut√©.  En mode production, un tableau se compose d'un seul √©l√©ment - thunk.  En mode d√©veloppement, au moment de la r√©daction, la liste est reconstitu√©e avec le middleware suivant: </p><br><ul><li>  serializableStateInvariant - un outil sp√©cialement d√©velopp√© pour √™tre utilis√© dans le Redux Toolkit et con√ßu pour v√©rifier l'arborescence d'√©tat pour la pr√©sence de valeurs non s√©rialisables, telles que les fonctions, Promise, Symbol et d'autres valeurs qui ne sont pas de simples donn√©es JS; </li><li>  immutableStateInvariant - middleware du package <a href="https://www.npmjs.com/package/redux-immutable-state-invariant">redux-immutable-state-invariant</a> , con√ßu pour d√©tecter les mutations dans les donn√©es contenues dans le stockage. </li></ul><br><p>  Pour sp√©cifier une liste ascendante de middleware, la fonction getDefaultMidlleware accepte un objet qui d√©finit la liste des middlewares inclus et les param√®tres pour chacun d'eux.  Vous trouverez plus d'informations sur ces informations dans la <a href="https://redux-toolkit.js.org/api/getDefaultMiddleware">section</a> correspondante <a href="https://redux-toolkit.js.org/api/getDefaultMiddleware">de la</a> documentation officielle. </p><br><p>  Nous allons maintenant r√©√©crire la section de code responsable de la cr√©ation du r√©f√©rentiel √† l'aide des outils d√©crits ci-dessus.  En cons√©quence, nous obtenons ce qui suit: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { configureStore, getDefaultMiddleware } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@reduxjs/toolkit'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> reducers <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./reducers'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> middleware = getDefaultMiddleware({ <span class="hljs-attr"><span class="hljs-attr">immutableCheck</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">serializableCheck</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">thunk</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = configureStore({ <span class="hljs-attr"><span class="hljs-attr">reducer</span></span>: { ...reducers }, middleware, <span class="hljs-attr"><span class="hljs-attr">devTools</span></span>: process.env.NODE_ENV !== <span class="hljs-string"><span class="hljs-string">'production'</span></span>, });</code> </pre> <br><p>  En utilisant l'exemple de cette section de code, vous pouvez clairement voir que la fonction configureStore r√©sout les probl√®mes suivants: </p><br><ul><li>  la n√©cessit√© de combiner les r√©ducteurs, en appelant automatiquement combineReducers, </li><li>  la n√©cessit√© de combiner le middleware, en invoquant automatiquement applyMiddleware. </li></ul><br><p>  Il vous permet √©galement d'activer plus facilement l'extension Redux DevTools √† l'aide de la fonction composeWithDevTools du package <a href="https://www.npmjs.com/package/redux-devtools-extension">redux-devtools-extension</a> .  Tout ce qui pr√©c√®de indique que l'utilisation de cette fonction vous permet de rendre le code plus compact et compr√©hensible. </p><br><p>  Ceci termine la cr√©ation et la configuration du r√©f√©rentiel.  Nous le transf√©rons au fournisseur et continuons. </p><br><h3 id="deystviya-sozdateli-deystviy-i-redyuser">  Actions, cr√©ateurs d'actions et r√©ducteur </h3><br><p>  Examinons maintenant les fonctionnalit√©s de la bo√Æte √† outils Redux en termes de d√©veloppement d'actions, de cr√©ateurs d'actions et de r√©ducteurs.  La version initiale du code sans utiliser le Redux Toolkit √©tait organis√©e en fichiers actions.js et reducers.js.  Le contenu du fichier actions.js ressemblait √† ceci: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> productReleasesService <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../services/productReleases'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASES_FETCHING = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHING'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASES_FETCHED = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHED'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASES_FETCHING_ERROR = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHING_ERROR'</span></span>; ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASE_UPDATING = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASE_UPDATING'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASE_UPDATED = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASE_UPDATED'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASE_CREATING_UPDATING_ERROR = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASE_CREATING_UPDATING_ERROR'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">productReleasesFetching</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: PRODUCT_RELEASES_FETCHING }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">productReleasesFetched</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productReleases</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: PRODUCT_RELEASES_FETCHED, productReleases }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">productReleasesFetchingError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: PRODUCT_RELEASES_FETCHING_ERROR, error } } ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchProductReleases</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dispatch</span></span></span><span class="hljs-function"> =&gt;</span></span> { dispatch(productReleasesFetching()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productReleasesService.getProductReleases().then( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productReleases</span></span></span><span class="hljs-function"> =&gt;</span></span> dispatch(productReleasesFetched(productReleases)) ).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { error.clientMessage = <span class="hljs-string"><span class="hljs-string">"Can't get product releases"</span></span>; dispatch(productReleasesFetchingError(error)) }); } } ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateProductRelease</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> id, productName, productVersion, releaseDate </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dispatch</span></span></span><span class="hljs-function"> =&gt;</span></span> { dispatch(productReleaseUpdating()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productReleasesService.updateProductRelease( id, productName, productVersion, releaseDate ).then( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productRelease</span></span></span><span class="hljs-function"> =&gt;</span></span> dispatch(productReleaseUpdated(productRelease)) ).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { error.clientMessage = <span class="hljs-string"><span class="hljs-string">"Can't update product releases"</span></span>; dispatch(productReleaseCreatingUpdatingError(error)) }); } }</code> </pre> <br><p>  Contenu du fichier reducers.js avant d'utiliser Redux Toolkit: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = { <span class="hljs-attr"><span class="hljs-attr">productReleases</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">loadedProductRelease</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">creatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">updatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reducer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state = initialState, action = {}</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (action.type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASES_FETCHING: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'requesting'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASES_FETCHED: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">productReleases</span></span>: action.productReleases, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'success'</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASES_FETCHING_ERROR: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'failed'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: action.error }; ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASE_UPDATING: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">updatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'requesting'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASE_UPDATED: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">updatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'success'</span></span>, <span class="hljs-attr"><span class="hljs-attr">productReleases</span></span>: state.productReleases.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productRelease</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (productRelease.id === action.productRelease.id) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> action.productRelease; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productRelease; }) }; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASE_UPDATING_ERROR: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">updatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'failed'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: action.error }; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state; } }</code> </pre> <br><p>  Comme nous pouvons le voir, c'est l√† que la majeure partie du passe-partout est contenue: constantes de type d'action, cr√©ateurs d'action, constantes √† nouveau, mais dans le code r√©ducteur, il faut du temps pour √©crire tout ce code.  Vous pouvez vous d√©barrasser partiellement de ce passe-partout en utilisant les fonctions createAction et createReducer, qui font √©galement partie de la bo√Æte √† outils Redux. </p><br><h4 id="funkciya-createactionanchorcreateactionanchor">  Fonction CreateAction <a name="createAction"></a></h4><br><p>  Dans la section de code donn√©e, la m√©thode standard pour d√©finir une action dans Redux est utilis√©e: d'abord, une constante est d√©finie s√©par√©ment qui d√©termine le type d'action, puis - la fonction du cr√©ateur de l'action de ce type.  La fonction <a href="https://redux-toolkit.js.org/api/createaction/">createAction</a> combine ces deux d√©clarations en une seule.  En entr√©e, il prend un type d'action et renvoie le cr√©ateur de l'action pour ce type.  Le cr√©ateur de l'action peut √™tre appel√© soit sans arguments, soit avec un argument (charge utile), dont la valeur sera plac√©e dans le champ de charge utile de l'action cr√©√©e.  En outre, le cr√©ateur d'action remplace la fonction toString (), de sorte que le type d'action devient sa repr√©sentation sous forme de cha√Æne. </p><br><p>  Dans certains cas, vous devrez peut-√™tre √©crire une logique suppl√©mentaire pour ajuster la valeur de la charge utile, par exemple, accepter plusieurs param√®tres pour le cr√©ateur de l'action, cr√©er un identificateur al√©atoire ou obtenir l'horodatage actuel.  Pour ce faire, createAction prend un deuxi√®me argument facultatif - une fonction qui sera utilis√©e pour mettre √† jour la valeur de la charge utile.  Vous trouverez plus d'informations sur ce <a href="https://redux-toolkit.js.org/api/createaction/">param√®tre</a> dans la documentation officielle. <br>  En utilisant la fonction createAction, nous obtenons le code suivant: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productReleasesFetching = createAction(<span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHING'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productReleasesFetched = createAction(<span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHED'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productReleasesFetchingError = createAction(<span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHING_ERROR'</span></span>); ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchProductReleases</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dispatch</span></span></span><span class="hljs-function"> =&gt;</span></span> { dispatch(productReleasesFetching()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productReleasesService.getProductReleases().then( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productReleases</span></span></span><span class="hljs-function"> =&gt;</span></span> dispatch(productReleasesFetched({ productReleases })) ).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { error.clientMessage = <span class="hljs-string"><span class="hljs-string">"Can't get product releases"</span></span>; dispatch(productReleasesFetchingError({ error })) }); } } ...</code> </pre> <br><h4 id="funkciya-createreduceranchorcreatereduceranchor">  Fonction CreateReducer <a name="createReducer"></a></h4><br><p>  Consid√©rez maintenant le r√©ducteur.  Comme dans notre exemple, les r√©ducteurs sont souvent impl√©ment√©s √† l'aide de l'instruction switch, avec un registre pour chaque type d'action trait√©.  Cette approche fonctionne bien, mais n'est pas sans passe-partout et sujette aux erreurs.  Par exemple, il est facile d'oublier de d√©crire le cas par d√©faut ou de ne pas d√©finir l'√©tat initial.  La fonction <a href="https://redux-toolkit.js.org/api/createreducer/">createReducer</a> simplifie la cr√©ation de fonctions de <a href="https://redux-toolkit.js.org/api/createreducer/">r√©duction</a> en les d√©finissant comme des tables de recherche de fonctions pour traiter chaque type d'action.  Il vous permet √©galement de simplifier consid√©rablement la logique des mises √† jour immuables en √©crivant du code dans un style "mutable" √† l'int√©rieur des r√©ducteurs. </p><br><p>  Un style de gestion d'√©v√©nements robuste est disponible gr√¢ce √† l'utilisation de la biblioth√®que <a href="https://immerjs.github.io/immer/docs/introduction">Immer</a> .  La fonction de gestionnaire peut soit ¬´muter¬ª l'√©tat pass√© pour changer les propri√©t√©s, soit renvoyer un nouvel √©tat, comme lorsque l'on travaille dans le style immuable, mais gr√¢ce √† Immer, la vraie mutation de l'objet n'est pas effectu√©e.  La premi√®re option est beaucoup plus facile pour le travail et la perception, en particulier lors du changement d'un objet avec une imbrication profonde. </p><br><p>  Attention: le retour d'un nouvel objet √† partir d'une fonction annule les modifications ¬´mutables¬ª.  L'utilisation simultan√©e des deux m√©thodes de mise √† jour d'√©tat ne fonctionnera pas. </p><br><p>  La fonction createReducer accepte les arguments suivants comme param√®tres d'entr√©e: </p><br><ul><li>  √©tat initial de stockage </li><li>  un objet qui √©tablit une correspondance entre les types d'actions et les r√©ducteurs, dont chacun traite un certain type. </li></ul><br><p>  En utilisant la m√©thode createReducer, nous obtenons le code suivant: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = { <span class="hljs-attr"><span class="hljs-attr">productReleases</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">loadedProductRelease</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">creatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">loadingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> counterReducer = createReducer(initialState, { [productReleasesFetching]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.fetchingState = <span class="hljs-string"><span class="hljs-string">'requesting'</span></span> }, [productReleasesFetched.type]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.productReleases = action.payload.productReleases; state.fetchingState = <span class="hljs-string"><span class="hljs-string">'success'</span></span>; }, [productReleasesFetchingError]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.fetchingState = <span class="hljs-string"><span class="hljs-string">'failed'</span></span>; state.error = action.payload.error; }, ‚Ä¶ [productReleaseUpdating]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updatingState = <span class="hljs-string"><span class="hljs-string">'requesting'</span></span> }, [productReleaseUpdated]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updatingState = <span class="hljs-string"><span class="hljs-string">'success'</span></span>; state.productReleases = state.productReleases.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productRelease</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (productRelease.id === action.payload.productRelease.id) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> action.payload.productRelease; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productRelease; }); }, [productReleaseUpdatingError]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updating = <span class="hljs-string"><span class="hljs-string">'failed'</span></span>; state.error = action.payload.error; }, });</code> </pre> <br><p>  Comme nous pouvons le voir, l'utilisation des fonctions createAction et createReducer r√©sout essentiellement le probl√®me de l'√©criture de code suppl√©mentaire, mais le probl√®me de la cr√©ation de constantes au pr√©alable demeure.  Par cons√©quent, nous consid√©rons une option plus puissante qui combine la g√©n√©ration de cr√©ateurs d'action et de r√©ducteur - la fonction createSlice. </p><br><h4 id="funkciya-createsliceanchorcreatesliceanchor">  Fonction CreateSlice <a name="createSlice"></a></h4><br><p>  La fonction createSlice accepte un objet avec les champs suivants comme param√®tres d'entr√©e: </p><br><ul><li>  name - espace de noms des actions cr√©√©es ( <code>${name}/${action.type}</code> ); </li><li>  initialState - √©tat initial du r√©ducteur; </li><li>  r√©ducteurs - un objet avec des gestionnaires.  Chaque gestionnaire prend une fonction avec l'√©tat et l'action des arguments, l'action contient des donn√©es dans la propri√©t√© payload et le nom de l'√©v√©nement dans la propri√©t√© name.  De plus, il est possible de modifier au pr√©alable les donn√©es re√ßues de l'√©v√©nement avant qu'il n'entre dans le r√©ducteur (par exemple, ajouter id aux √©l√©ments de la collection).  Pour ce faire, au lieu d'une fonction, vous devez passer un objet avec le r√©ducteur et pr√©parer les champs, o√π r√©ducteur est la fonction de gestionnaire d'action et pr√©parer est la fonction de gestionnaire de charge utile qui renvoie la charge utile mise √† jour; </li><li>  extraReducers - un objet contenant des r√©ducteurs d'une autre tranche.  Ce param√®tre peut √™tre requis s'il est n√©cessaire de mettre √† jour un objet appartenant √† une autre tranche.  Vous pouvez en savoir plus sur cette fonctionnalit√© dans la <a href="https://redux-toolkit.js.org/api/createSlice">section</a> correspondante <a href="https://redux-toolkit.js.org/api/createSlice">de la</a> documentation officielle. </li></ul><br><p>  Le r√©sultat de la fonction est un objet appel√© "tranche", avec les champs suivants: </p><br><ul><li>  nom - nom de tranche, </li><li>  r√©ducteur - r√©ducteur, </li><li>  actions - un ensemble d'actions. </li></ul><br><p>  En utilisant cette fonction pour r√©soudre notre probl√®me, nous obtenons le code source suivant: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = { <span class="hljs-attr"><span class="hljs-attr">productReleases</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">loadedProductRelease</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">creatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">loadingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productReleases = createSlice({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'productReleases'</span></span>, initialState, <span class="hljs-attr"><span class="hljs-attr">reducers</span></span>: { <span class="hljs-attr"><span class="hljs-attr">productReleasesFetching</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.fetchingState = <span class="hljs-string"><span class="hljs-string">'requesting'</span></span>; }, <span class="hljs-attr"><span class="hljs-attr">productReleasesFetched</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.productReleases = action.payload.productReleases; state.fetchingState = <span class="hljs-string"><span class="hljs-string">'success'</span></span>; }, <span class="hljs-attr"><span class="hljs-attr">productReleasesFetchingError</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.fetchingState = <span class="hljs-string"><span class="hljs-string">'failed'</span></span>; state.error = action.payload.error; }, ‚Ä¶ productReleaseUpdating: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updatingState = <span class="hljs-string"><span class="hljs-string">'requesting'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">productReleaseUpdated</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updatingState = <span class="hljs-string"><span class="hljs-string">'success'</span></span>; state.productReleases = state.productReleases.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productRelease</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (productRelease.id === action.payload.productRelease.id) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> action.payload.productRelease; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productRelease; }); }, <span class="hljs-attr"><span class="hljs-attr">productReleaseUpdatingError</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updating = <span class="hljs-string"><span class="hljs-string">'failed'</span></span>; state.error = action.payload.error; }, }, });</code> </pre> <br><p>  Nous allons maintenant extraire les cr√©ateurs d'action et le r√©ducteur de la tranche cr√©√©e. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { actions, reducer } = productReleases; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { productReleasesFetched, productReleasesFetching, productReleasesFetchingError, ‚Ä¶ productReleaseUpdated, productReleaseUpdating, productReleaseUpdatingError } = actions; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> reducer;</code> </pre> <br><p>  Le code source des cr√©ateurs d'actions contenant les appels d'API n'a pas chang√©, √† l'exception de la m√©thode de transmission des param√®tres lors de l'envoi des actions: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fetchProductReleases = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> (dispatch) =&gt; { dispatch(productReleasesFetching()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productReleasesService .getProductReleases() .then(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productReleases</span></span></span><span class="hljs-function">) =&gt;</span></span> dispatch(productReleasesFetched({ productReleases }))) .catch(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) =&gt;</span></span> { error.clientMessage = <span class="hljs-string"><span class="hljs-string">"Can't get product releases"</span></span>; dispatch(productReleasesFetchingError({ error })); }); }; ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> updateProductRelease = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id, productName, productVersion, releaseDate</span></span></span><span class="hljs-function">) =&gt;</span></span> (dispatch) =&gt; { dispatch(productReleaseUpdating()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productReleasesService .updateProductRelease(id, productName, productVersion, releaseDate) .then(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productRelease</span></span></span><span class="hljs-function">) =&gt;</span></span> dispatch(productReleaseUpdated({ productRelease }))) .catch(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) =&gt;</span></span> { error.clientMessage = <span class="hljs-string"><span class="hljs-string">"Can't update product releases"</span></span>; dispatch(productReleaseUpdatingError({ error })); });</code> </pre> <br><p>  Le code ci-dessus montre que la fonction createSlice vous permet de vous d√©barrasser d'une partie importante du passe-partout lorsque vous travaillez avec Redux, ce qui vous permet non seulement de rendre le code plus compact, concis et compr√©hensible, mais aussi de passer moins de temps √† l'√©crire. </p><br><h2 id="itog">  R√©sum√© </h2><br><p>  √Ä la fin de cet article, je voudrais dire que malgr√© le fait que la biblioth√®que Redux Toolkit n'ajoute rien de nouveau √† la gestion du stockage, elle fournit un certain nombre de moyens beaucoup plus pratiques pour √©crire du code qu'auparavant.  Ces outils permettent non seulement de rendre le processus de d√©veloppement plus pratique, compr√©hensible et plus rapide, mais aussi plus efficace en raison de la pr√©sence dans la biblioth√®que d'un certain nombre d'outils √©prouv√©s.  Nous, Inobitek, pr√©voyons de continuer √† utiliser cette biblioth√®que dans le d√©veloppement de nos produits logiciels et de suivre les nouveaux d√©veloppements prometteurs dans le domaine des technologies Web. </p><br><p>  Merci de votre attention.  Nous esp√©rons que notre article vous sera utile.  Plus d'informations sur la biblioth√®que Redux Toolkit peuvent √™tre obtenues dans la <a href="https://redux-toolkit.js.org/">documentation</a> officielle. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr481288/">https://habr.com/ru/post/fr481288/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr481272/index.html">Gel ou modernisation - que faisons-nous en vacances?</a></li>
<li><a href="../fr481276/index.html">Comment j'ai cr√©√© mon PJ et mon compilateur pendant 12 ans</a></li>
<li><a href="../fr481280/index.html">Comment nous avons pr√©par√© l'√©tape de qualification de CTFZone-2020</a></li>
<li><a href="../fr481282/index.html">Que vaut l'id√©e et comment la transformer en concept: des outils de game designer</a></li>
<li><a href="../fr481286/index.html">Monte sur la table! Bureau de petites choses qui ne sont pas du tout petites</a></li>
<li><a href="../fr481290/index.html">COMMENT / Param√®tres r√©seau et VLAN sur un serveur Hetzner et Mikrotik d√©di√©</a></li>
<li><a href="../fr481294/index.html">10 meilleurs outils d'automatisation de test de logiciels</a></li>
<li><a href="../fr481296/index.html">Comment √©crire du code qui sera r√©utilis√©</a></li>
<li><a href="../fr481302/index.html">"√Ä propos, oui pas un cluster" ou comme nous avons import√© un SGBD</a></li>
<li><a href="../fr481304/index.html">Tri du drapeau am√©ricain</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>