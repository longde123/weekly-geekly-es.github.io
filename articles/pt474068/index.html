<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“ ğŸ‘©ğŸ½â€ğŸ”¬ ğŸ‘¨ğŸ¿â€ğŸš€ VM ou Docker? ğŸ¤¸ğŸ½ ğŸ‘©â€ğŸ­ â˜‘ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como entender que vocÃª precisa de um Docker, nÃ£o de uma VM? Vamos tentar entender as principais diferenÃ§as entre o isolamento de mÃ¡quinas virtuais (VM...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VM ou Docker?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474068/"><p> Como entender que vocÃª precisa de um Docker, nÃ£o de uma VM?  Vamos tentar entender as principais diferenÃ§as entre o isolamento de mÃ¡quinas virtuais (VMs) e os contÃªineres do Docker, se eles podem ser intercambiÃ¡veis â€‹â€‹e como podemos usÃ¡-los. </p><a name="habracut"></a><br><p>  <strong>EntÃ£o, qual Ã© a diferenÃ§a entre contÃªineres do Docker e VM?</strong> <br>  <strong><em>Uma mÃ¡quina virtual (VM)</em></strong> Ã© um computador virtual com todos os dispositivos virtuais e um disco rÃ­gido virtual, no qual um novo sistema operacional independente (sistema operacional convidado) Ã© instalado junto com drivers de dispositivo virtual, gerenciamento de memÃ³ria e outros componentes.  Ou seja, obtemos uma abstraÃ§Ã£o de equipamento fÃ­sico que permite executar muitos computadores virtuais em um computador.  O equipamento virtual Ã© exibido nas propriedades do sistema e os aplicativos instalados interagem com ele como se fossem reais.  Ao mesmo tempo, a prÃ³pria mÃ¡quina virtual Ã© completamente isolada do computador real, embora possa ter acesso ao seu disco e dispositivos perifÃ©ricos. <br>  <strong><em>Uma VM instalada pode ocupar espaÃ§o no disco do computador de diferentes maneiras:</em></strong> </p><br><ul><li>  espaÃ§o fixo no disco rÃ­gido, que permite acesso mais rÃ¡pido ao disco rÃ­gido virtual e evita a fragmentaÃ§Ã£o de arquivos; </li><li>  alocaÃ§Ã£o dinÃ¢mica de memÃ³ria.  Ao instalar aplicativos adicionais, a memÃ³ria serÃ¡ alocada dinamicamente para eles atÃ© atingir a quantidade mÃ¡xima alocada a ela. </li></ul><br><p>  Ao usar a VM, hÃ¡ custos adicionais para a emulaÃ§Ã£o de equipamentos virtuais e o lanÃ§amento de um SO convidado, suportando e administrando o ambiente necessÃ¡rio para o funcionamento do aplicativo.  AlÃ©m disso, quando vocÃª implanta um grande nÃºmero de mÃ¡quinas virtuais no servidor, a quantidade de espaÃ§o que elas ocupam no disco rÃ­gido aumenta apenas porque  cada VM requer espaÃ§o, pelo menos para o SO convidado e os drivers para dispositivos virtuais. </p><br><p>  <strong><em>O Docker</em></strong> Ã© um software para criar aplicativos baseados em contÃªiner.  ContÃªineres e mÃ¡quinas virtuais resolvem um problema, mas o fazem de maneira diferente.  Os contÃªineres ocupam menos espaÃ§o porque  Reutilize mais recursos compartilhados do sistema host que a VM  ao contrÃ¡rio da VM, fornece virtualizaÃ§Ã£o no nÃ­vel do SO, nÃ£o hardware.  Essa abordagem fornece menos espaÃ§o no disco rÃ­gido, implantaÃ§Ã£o mais rÃ¡pida e redimensionamento mais fÃ¡cil. </p><br><p>  O contÃªiner do docker fornece um mecanismo de encapsulamento de aplicativo mais eficiente, fornecendo as interfaces necessÃ¡rias do sistema host.  Esse recurso permite que os contÃªineres dividam o nÃºcleo do sistema, onde cada contÃªiner trabalha como um processo separado do sistema operacional principal, que possui seu prÃ³prio espaÃ§o de endereÃ§o virtual, para que os dados pertencentes a diferentes Ã¡reas da memÃ³ria nÃ£o possam ser alterados. </p><br><p>  O Docker Ã© a tecnologia mais comum para usar contÃªineres no aplicativo.  Tornou-se o padrÃ£o nessa Ã¡rea, com base nos cgroups e no namespace fornecidos pelo kernel do Linux.  O SO nativo do Docker Ã© o Linux, portanto, o lanÃ§amento dos contÃªineres do Docker no Windows ocorrerÃ¡ dentro de uma mÃ¡quina virtual Linux. </p><br><p>  <strong>De que Ã© feito o contÃªiner?</strong> </p><br><p>  <strong><em>Uma imagem</em></strong> Ã© o elemento principal a partir do qual os contÃªineres sÃ£o criados.  A imagem Ã© criada a partir do Dockerfile adicionado ao projeto e Ã© um conjunto de sistemas de arquivos (camadas) em camadas entre si e agrupados, somente leitura;  o nÃºmero mÃ¡ximo de camadas Ã© 127. </p><br><p>  No coraÃ§Ã£o de cada imagem hÃ¡ uma imagem de base, indicada pelo comando FROM - o ponto de entrada para a formaÃ§Ã£o da imagem do Dockerfile.  Cada camada Ã© uma camada somente leitura e Ã© representada por um comando que modifica o sistema de arquivos gravado no Dockerfile.  Essa abordagem permite que diferentes arquivos e diretÃ³rios de diferentes camadas de arquivos se sobreponham de forma transparente, criando um sistema de arquivos integrado em cascata.  As camadas contÃªm metadados, permitindo salvar informaÃ§Ãµes relacionadas sobre cada camada no tempo de execuÃ§Ã£o e compilaÃ§Ã£o.  Cada camada contÃ©m um link para a prÃ³xima camada, se a camada nÃ£o tiver um link, essa Ã© a camada superior na imagem. <br>  Iniciando com o Docker EE versÃ£o 06.17.02-ee5 e o Docker Engine - Community, Overlay2 ou Overlay Ã© usado, e versÃµes anteriores usam AuFS (sistema de arquivos Union multi-camadas avanÃ§ado). </p><br><p>  <strong>Container - como funciona?</strong> </p><br><p>  <strong><em>Um contÃªiner</em></strong> Ã© uma abstraÃ§Ã£o no nÃ­vel do aplicativo que combina cÃ³digo e dependÃªncias.  Os contÃªineres sÃ£o sempre criados a partir de imagens, adicionando uma camada superior gravÃ¡vel e inicializando vÃ¡rios parÃ¢metros.  Como o contÃªiner possui sua prÃ³pria camada de gravaÃ§Ã£o e todas as alteraÃ§Ãµes sÃ£o salvas nessa camada, vÃ¡rios contÃªineres podem compartilhar o acesso Ã  mesma imagem.  Cada contÃªiner pode ser configurado por meio de um arquivo no projeto docker-compose.yml, configurando vÃ¡rios parÃ¢metros, como nome do contÃªiner, portas, identificadores, dependÃªncias entre outros contÃªineres.  Se vocÃª nÃ£o especificar um nome de contÃªiner nas configuraÃ§Ãµes, o Docker criarÃ¡ um novo contÃªiner a cada vez, atribuindo-lhe um nome aleatoriamente. </p><br><p>  Quando o contÃªiner inicia a partir da imagem, o Docker monta o sistema de arquivos para leitura e gravaÃ§Ã£o sobre qualquer camada abaixo.  Ã‰ aqui que todos os processos serÃ£o executados.  Quando vocÃª inicia o contÃªiner pela primeira vez, a camada inicial de leitura e gravaÃ§Ã£o fica vazia.  Quando ocorrem mudanÃ§as, elas se aplicam a essa camada;  por exemplo, se vocÃª deseja modificar um arquivo, esse arquivo serÃ¡ copiado da camada somente leitura inferior para a camada de leitura e gravaÃ§Ã£o.  Uma versÃ£o somente leitura do arquivo ainda existirÃ¡, mas agora estÃ¡ oculta na cÃ³pia. </p><br><p>  <strong>Como um sistema de arquivos federados em cascata funciona?</strong> </p><br><p>  Um sistema de arquivos integrado em cascata (FS) implementa um mecanismo de cÃ³pia de cÃ³pia na gravaÃ§Ã£o (COW).  A unidade de trabalho Ã© uma camada, cada camada deve ser considerada como um sistema de arquivos completo separado com uma hierarquia de diretÃ³rios a partir da prÃ³pria raiz.  Essa abordagem usa a montagem unificada de sistemas de arquivos, permitindo, de forma transparente para o usuÃ¡rio, combinar arquivos e diretÃ³rios de vÃ¡rios sistemas de arquivos (chamados ramificaÃ§Ãµes) em um Ãºnico sistema de arquivos conectado.  O conteÃºdo dos diretÃ³rios com os mesmos caminhos serÃ¡ exibido juntos em um diretÃ³rio combinado (em um Ãºnico espaÃ§o de nome) do sistema de arquivos resultante. </p><br><p>  <strong><em>As camadas sÃ£o mescladas de acordo com os seguintes princÃ­pios:</em></strong> </p><br><ul><li>  uma das camadas se torna uma camada do nÃ­vel superior, a segunda e as camadas subseqÃ¼entes se tornam camadas do nÃ­vel inferior; </li><li>  objetos de camada sÃ£o acessÃ­veis ao usuÃ¡rio "de cima para baixo", ou seja,  se o objeto solicitado estiver na camada "superior", ele serÃ¡ retornado, independentemente da presenÃ§a de um objeto com esse nome na camada "inferior";  caso contrÃ¡rio, o objeto da camada "inferior" Ã© retornado;  se o objeto solicitado nÃ£o estiver lÃ¡ ou ali, o erro "Nenhum arquivo ou diretÃ³rio" serÃ¡ retornado; </li><li>  a camada de trabalho Ã© "superior", ou seja, todas as aÃ§Ãµes do usuÃ¡rio para alterar dados sÃ£o refletidas apenas na camada de nÃ­vel superior, sem afetar o conteÃºdo das camadas de nÃ­vel inferior. </li></ul><br><p>  <strong>ConclusÃ£o</strong> </p><br><p>  Se vocÃª precisar virtualizar um sistema com recursos dedicados garantidos e hardware virtual, escolha uma VM.  O que fornece o uso da VM: </p><br><ul><li>  a capacidade de instalar vÃ¡rios sistemas operacionais diferentes em um computador; </li><li>  distribuiÃ§Ã£o de recursos do sistema entre mÃ¡quinas virtuais; </li><li>  nÃ£o hÃ¡ necessidade de reiniciar para alternar entre sistemas operacionais; </li><li>  a capacidade de tirar uma "captura instantÃ¢nea" do estado atual do sistema e do conteÃºdo das unidades para retornar o sistema ao seu estado original; </li><li>  isolamento de falhas e violaÃ§Ãµes do sistema de seguranÃ§a no nÃ­vel do hardware; </li><li>  a capacidade de simular uma rede de computadores em um computador. </li></ul><br><p>  Se vocÃª deseja isolar os aplicativos em execuÃ§Ã£o como processos separados, o Docker Ã© adequado para vocÃª.  O que fornece o uso do Docker: </p><br><ul><li>  fornece virtualizaÃ§Ã£o no nÃ­vel do SO; </li><li>  os contÃªineres compartilham o nÃºcleo do sistema, funcionando como um processo separado do sistema operacional principal; </li><li>  o consumo de recursos do sistema, como consumo de memÃ³ria e carga da CPU, pode ser limitado separadamente para cada contÃªiner usando cgroups; </li><li>  O FS para contÃªineres Ã© criado usando o mecanismo COW, que permite acelerar a implantaÃ§Ã£o de aplicativos, reduzir o consumo de memÃ³ria e economizar espaÃ§o em disco; </li><li>  o sistema de arquivos alterado de um contÃªiner pode ser usado como base para a formaÃ§Ã£o de novas imagens bÃ¡sicas de outros contÃªineres. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt474068/">https://habr.com/ru/post/pt474068/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt474048/index.html">HILDACRYPT: novo ransomware atinge sistemas de backup e soluÃ§Ãµes antivÃ­rus</a></li>
<li><a href="../pt474050/index.html">VocÃª nÃ£o pode simplesmente pegar e executar seu aplicativo se vocÃª Ã© a estrela da indÃºstria da mÃºsica</a></li>
<li><a href="../pt474052/index.html">Cesta de dificuldade para o viajante</a></li>
<li><a href="../pt474054/index.html">SeminÃ¡rio on-line aberto "Fundamentos do MongoDB"</a></li>
<li><a href="../pt474062/index.html">Contando dinheiro. Escolhendo uma mÃ©trica na pontuaÃ§Ã£o de crÃ©dito</a></li>
<li><a href="../pt474070/index.html">Dispositivos de sala de reuniÃ£o BYOD</a></li>
<li><a href="../pt474076/index.html">Como se tornar o melhor do mundo em um nicho</a></li>
<li><a href="../pt474080/index.html">Bot de telegrama mostrando as primeiras pÃ¡ginas dos 10 periÃ³dicos mais populares do mundo</a></li>
<li><a href="../pt474082/index.html">Phonocut - um gravador de vinil domÃ©stico: reflexÃµes sobre a probabilidade de decolagem</a></li>
<li><a href="../pt474084/index.html">Julia e Redes Neurais: Fluxo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>