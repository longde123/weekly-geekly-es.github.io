<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐓 👩🏽‍🔬 👨🏿‍🚀 VM ou Docker? 🤸🏽 👩‍🏭 ☑️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como entender que você precisa de um Docker, não de uma VM? Vamos tentar entender as principais diferenças entre o isolamento de máquinas virtuais (VM...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VM ou Docker?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474068/"><p> Como entender que você precisa de um Docker, não de uma VM?  Vamos tentar entender as principais diferenças entre o isolamento de máquinas virtuais (VMs) e os contêineres do Docker, se eles podem ser intercambiáveis ​​e como podemos usá-los. </p><a name="habracut"></a><br><p>  <strong>Então, qual é a diferença entre contêineres do Docker e VM?</strong> <br>  <strong><em>Uma máquina virtual (VM)</em></strong> é um computador virtual com todos os dispositivos virtuais e um disco rígido virtual, no qual um novo sistema operacional independente (sistema operacional convidado) é instalado junto com drivers de dispositivo virtual, gerenciamento de memória e outros componentes.  Ou seja, obtemos uma abstração de equipamento físico que permite executar muitos computadores virtuais em um computador.  O equipamento virtual é exibido nas propriedades do sistema e os aplicativos instalados interagem com ele como se fossem reais.  Ao mesmo tempo, a própria máquina virtual é completamente isolada do computador real, embora possa ter acesso ao seu disco e dispositivos periféricos. <br>  <strong><em>Uma VM instalada pode ocupar espaço no disco do computador de diferentes maneiras:</em></strong> </p><br><ul><li>  espaço fixo no disco rígido, que permite acesso mais rápido ao disco rígido virtual e evita a fragmentação de arquivos; </li><li>  alocação dinâmica de memória.  Ao instalar aplicativos adicionais, a memória será alocada dinamicamente para eles até atingir a quantidade máxima alocada a ela. </li></ul><br><p>  Ao usar a VM, há custos adicionais para a emulação de equipamentos virtuais e o lançamento de um SO convidado, suportando e administrando o ambiente necessário para o funcionamento do aplicativo.  Além disso, quando você implanta um grande número de máquinas virtuais no servidor, a quantidade de espaço que elas ocupam no disco rígido aumenta apenas porque  cada VM requer espaço, pelo menos para o SO convidado e os drivers para dispositivos virtuais. </p><br><p>  <strong><em>O Docker</em></strong> é um software para criar aplicativos baseados em contêiner.  Contêineres e máquinas virtuais resolvem um problema, mas o fazem de maneira diferente.  Os contêineres ocupam menos espaço porque  Reutilize mais recursos compartilhados do sistema host que a VM  ao contrário da VM, fornece virtualização no nível do SO, não hardware.  Essa abordagem fornece menos espaço no disco rígido, implantação mais rápida e redimensionamento mais fácil. </p><br><p>  O contêiner do docker fornece um mecanismo de encapsulamento de aplicativo mais eficiente, fornecendo as interfaces necessárias do sistema host.  Esse recurso permite que os contêineres dividam o núcleo do sistema, onde cada contêiner trabalha como um processo separado do sistema operacional principal, que possui seu próprio espaço de endereço virtual, para que os dados pertencentes a diferentes áreas da memória não possam ser alterados. </p><br><p>  O Docker é a tecnologia mais comum para usar contêineres no aplicativo.  Tornou-se o padrão nessa área, com base nos cgroups e no namespace fornecidos pelo kernel do Linux.  O SO nativo do Docker é o Linux, portanto, o lançamento dos contêineres do Docker no Windows ocorrerá dentro de uma máquina virtual Linux. </p><br><p>  <strong>De que é feito o contêiner?</strong> </p><br><p>  <strong><em>Uma imagem</em></strong> é o elemento principal a partir do qual os contêineres são criados.  A imagem é criada a partir do Dockerfile adicionado ao projeto e é um conjunto de sistemas de arquivos (camadas) em camadas entre si e agrupados, somente leitura;  o número máximo de camadas é 127. </p><br><p>  No coração de cada imagem há uma imagem de base, indicada pelo comando FROM - o ponto de entrada para a formação da imagem do Dockerfile.  Cada camada é uma camada somente leitura e é representada por um comando que modifica o sistema de arquivos gravado no Dockerfile.  Essa abordagem permite que diferentes arquivos e diretórios de diferentes camadas de arquivos se sobreponham de forma transparente, criando um sistema de arquivos integrado em cascata.  As camadas contêm metadados, permitindo salvar informações relacionadas sobre cada camada no tempo de execução e compilação.  Cada camada contém um link para a próxima camada, se a camada não tiver um link, essa é a camada superior na imagem. <br>  Iniciando com o Docker EE versão 06.17.02-ee5 e o Docker Engine - Community, Overlay2 ou Overlay é usado, e versões anteriores usam AuFS (sistema de arquivos Union multi-camadas avançado). </p><br><p>  <strong>Container - como funciona?</strong> </p><br><p>  <strong><em>Um contêiner</em></strong> é uma abstração no nível do aplicativo que combina código e dependências.  Os contêineres são sempre criados a partir de imagens, adicionando uma camada superior gravável e inicializando vários parâmetros.  Como o contêiner possui sua própria camada de gravação e todas as alterações são salvas nessa camada, vários contêineres podem compartilhar o acesso à mesma imagem.  Cada contêiner pode ser configurado por meio de um arquivo no projeto docker-compose.yml, configurando vários parâmetros, como nome do contêiner, portas, identificadores, dependências entre outros contêineres.  Se você não especificar um nome de contêiner nas configurações, o Docker criará um novo contêiner a cada vez, atribuindo-lhe um nome aleatoriamente. </p><br><p>  Quando o contêiner inicia a partir da imagem, o Docker monta o sistema de arquivos para leitura e gravação sobre qualquer camada abaixo.  É aqui que todos os processos serão executados.  Quando você inicia o contêiner pela primeira vez, a camada inicial de leitura e gravação fica vazia.  Quando ocorrem mudanças, elas se aplicam a essa camada;  por exemplo, se você deseja modificar um arquivo, esse arquivo será copiado da camada somente leitura inferior para a camada de leitura e gravação.  Uma versão somente leitura do arquivo ainda existirá, mas agora está oculta na cópia. </p><br><p>  <strong>Como um sistema de arquivos federados em cascata funciona?</strong> </p><br><p>  Um sistema de arquivos integrado em cascata (FS) implementa um mecanismo de cópia de cópia na gravação (COW).  A unidade de trabalho é uma camada, cada camada deve ser considerada como um sistema de arquivos completo separado com uma hierarquia de diretórios a partir da própria raiz.  Essa abordagem usa a montagem unificada de sistemas de arquivos, permitindo, de forma transparente para o usuário, combinar arquivos e diretórios de vários sistemas de arquivos (chamados ramificações) em um único sistema de arquivos conectado.  O conteúdo dos diretórios com os mesmos caminhos será exibido juntos em um diretório combinado (em um único espaço de nome) do sistema de arquivos resultante. </p><br><p>  <strong><em>As camadas são mescladas de acordo com os seguintes princípios:</em></strong> </p><br><ul><li>  uma das camadas se torna uma camada do nível superior, a segunda e as camadas subseqüentes se tornam camadas do nível inferior; </li><li>  objetos de camada são acessíveis ao usuário "de cima para baixo", ou seja,  se o objeto solicitado estiver na camada "superior", ele será retornado, independentemente da presença de um objeto com esse nome na camada "inferior";  caso contrário, o objeto da camada "inferior" é retornado;  se o objeto solicitado não estiver lá ou ali, o erro "Nenhum arquivo ou diretório" será retornado; </li><li>  a camada de trabalho é "superior", ou seja, todas as ações do usuário para alterar dados são refletidas apenas na camada de nível superior, sem afetar o conteúdo das camadas de nível inferior. </li></ul><br><p>  <strong>Conclusão</strong> </p><br><p>  Se você precisar virtualizar um sistema com recursos dedicados garantidos e hardware virtual, escolha uma VM.  O que fornece o uso da VM: </p><br><ul><li>  a capacidade de instalar vários sistemas operacionais diferentes em um computador; </li><li>  distribuição de recursos do sistema entre máquinas virtuais; </li><li>  não há necessidade de reiniciar para alternar entre sistemas operacionais; </li><li>  a capacidade de tirar uma "captura instantânea" do estado atual do sistema e do conteúdo das unidades para retornar o sistema ao seu estado original; </li><li>  isolamento de falhas e violações do sistema de segurança no nível do hardware; </li><li>  a capacidade de simular uma rede de computadores em um computador. </li></ul><br><p>  Se você deseja isolar os aplicativos em execução como processos separados, o Docker é adequado para você.  O que fornece o uso do Docker: </p><br><ul><li>  fornece virtualização no nível do SO; </li><li>  os contêineres compartilham o núcleo do sistema, funcionando como um processo separado do sistema operacional principal; </li><li>  o consumo de recursos do sistema, como consumo de memória e carga da CPU, pode ser limitado separadamente para cada contêiner usando cgroups; </li><li>  O FS para contêineres é criado usando o mecanismo COW, que permite acelerar a implantação de aplicativos, reduzir o consumo de memória e economizar espaço em disco; </li><li>  o sistema de arquivos alterado de um contêiner pode ser usado como base para a formação de novas imagens básicas de outros contêineres. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt474068/">https://habr.com/ru/post/pt474068/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt474048/index.html">HILDACRYPT: novo ransomware atinge sistemas de backup e soluções antivírus</a></li>
<li><a href="../pt474050/index.html">Você não pode simplesmente pegar e executar seu aplicativo se você é a estrela da indústria da música</a></li>
<li><a href="../pt474052/index.html">Cesta de dificuldade para o viajante</a></li>
<li><a href="../pt474054/index.html">Seminário on-line aberto "Fundamentos do MongoDB"</a></li>
<li><a href="../pt474062/index.html">Contando dinheiro. Escolhendo uma métrica na pontuação de crédito</a></li>
<li><a href="../pt474070/index.html">Dispositivos de sala de reunião BYOD</a></li>
<li><a href="../pt474076/index.html">Como se tornar o melhor do mundo em um nicho</a></li>
<li><a href="../pt474080/index.html">Bot de telegrama mostrando as primeiras páginas dos 10 periódicos mais populares do mundo</a></li>
<li><a href="../pt474082/index.html">Phonocut - um gravador de vinil doméstico: reflexões sobre a probabilidade de decolagem</a></li>
<li><a href="../pt474084/index.html">Julia e Redes Neurais: Fluxo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>