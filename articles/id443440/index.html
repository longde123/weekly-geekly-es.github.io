<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽 🥈 🚴🏾 Modul PHP untuk bekerja dengan data hierarkis di InterSystems IRIS 👨‍⚖️ ✋🏽 🥩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sejak awal masanya, PHP telah terkenal (dan dikritik) karena mendukung integrasi dengan banyak perpustakaan, serta dengan hampir semua DBMS di pasar. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Modul PHP untuk bekerja dengan data hierarkis di InterSystems IRIS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intersystems/blog/443440/"><img src="https://habrastorage.org/webt/ia/44/2l/ia442lsk5svgjp_oflwf7c_sesw.png" alt="gambar" align="left">  Sejak awal masanya, PHP telah terkenal (dan dikritik) karena mendukung integrasi dengan banyak perpustakaan, serta dengan hampir semua DBMS di pasar.  Namun, karena beberapa alasan aneh, itu tidak mendukung database hierarkis tentang global. <br><br>  Global adalah struktur untuk menyimpan informasi hierarkis.  Mereka agak mengingatkan pada database "kunci -&gt; nilai", dengan satu-satunya perbedaan adalah bahwa kuncinya bisa multi-level: <br><a name="habracut"></a><br clear="all"><pre><code class="bash hljs">Set ^inn(<span class="hljs-string"><span class="hljs-string">"1234567890"</span></span>, <span class="hljs-string"><span class="hljs-string">"city"</span></span>) = <span class="hljs-string"><span class="hljs-string">"Moscow"</span></span> Set ^inn(<span class="hljs-string"><span class="hljs-string">"1234567890"</span></span>, <span class="hljs-string"><span class="hljs-string">"city"</span></span>, <span class="hljs-string"><span class="hljs-string">"street"</span></span>) = <span class="hljs-string"><span class="hljs-string">"Req Square"</span></span> Set ^inn(<span class="hljs-string"><span class="hljs-string">"1234567890"</span></span>, <span class="hljs-string"><span class="hljs-string">"city"</span></span>, <span class="hljs-string"><span class="hljs-string">"street"</span></span>, <span class="hljs-string"><span class="hljs-string">"house"</span></span>) = 1 Set ^inn(<span class="hljs-string"><span class="hljs-string">"1234567890"</span></span>, <span class="hljs-string"><span class="hljs-string">"year"</span></span>) = 1970 Set ^inn(<span class="hljs-string"><span class="hljs-string">"1234567890"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>, <span class="hljs-string"><span class="hljs-string">"first"</span></span>) = <span class="hljs-string"><span class="hljs-string">"Vladimir"</span></span> Set ^inn(<span class="hljs-string"><span class="hljs-string">"1234567890"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>, <span class="hljs-string"><span class="hljs-string">"last"</span></span>) = <span class="hljs-string"><span class="hljs-string">"Ivanov"</span></span></code> </pre> <br>  Dalam contoh ini, bahasa ObjectScript bawaan di global <strong>^ inn</strong> , yang disimpan pada hard disk (ditunjukkan oleh ikon ^ di depan nama global), menyimpan informasi multilevel. <br><br>  Secara alami, untuk bekerja dengan global dari PHP kita akan membutuhkan fungsi baru yang akan ditambahkan oleh modul PHP, yang akan dibahas di bawah ini. <br><br>  Global mendukung banyak fungsi untuk bekerja dengan hierarki: mem-bypass kunci di setiap level secara terpisah, menghapus, menyalin, dan menempelkan seluruh pohon dan masing-masing node.  Yah, dan juga basis data transaksi ACID yang bagus.  Semua ini terjadi sangat cepat (sekitar 10 <sup>5</sup> -10 <sup>6</sup> operasi insert per detik pada perangkat keras biasa), karena dua alasan: <br><br><ol><li>  Global adalah abstraksi level yang lebih rendah dari SQL, </li><li>  Basis global telah berproduksi selama beberapa dekade dan selama ini mereka berhasil menjilat kode mereka dan mengoptimalkannya secara menyeluruh. </li></ol><br>  Lebih lanjut tentang global dalam seri artikel “Global - Pedang-Mason untuk Penyimpanan Data”: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pohon-pohon.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 1</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pohon-pohon.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 2</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Array yang jarang.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 3</a> <br><br>  Di dunia ini, global telah menemukan tempat aplikasi utama mereka dalam sistem penyimpanan informasi yang terstruktur rendah dan jarang seperti: medis, data pribadi, perbankan, dll. <br><br>  Saya suka PHP (dan mengembangkannya) dan ingin bermain-main dengan global.  Tidak ada modul jadi.  Saya menulis kepada InterSystems meminta saya untuk membuatnya.  Penantian tidak menghasilkan apa-apa, dan pada akhirnya kami (saya, bersama dengan mahasiswa pascasarjana saya) membuat modul sendiri.  InterSystems mensponsori pengembangan sebagai bagian dari hibah pendidikan. <br><br>  Secara umum, InterSystems IRIS adalah DBMS multi-model, jadi dari PHP Anda dapat bekerja dengannya melalui ODBC menggunakan SQL, tapi saya tertarik pada global, dan tidak ada konektor seperti itu. <br><br>  Jadi, modul ini tersedia untuk PHP 7.x (diuji di bawah 7.0-7.2).  Saat ini, itu hanya dapat bekerja dengan InterSystems IRIS dan Caché yang diinstal pada host yang sama. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Halaman modul pada OpenExchange</a> (katalog proyek dan add-on untuk pengembang di InterSystems IRIS dan Caché). <br><br>  Ada bagian DISKUS yang berguna di mana orang berbagi pengalaman penggunaannya. <br><br>  Unduh di sini: <br><blockquote>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://github.com/intersystems-community/php_ext_iris</a> <br></blockquote>  Unduh repositori dari baris perintah: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/intersystems-community/php_ext_iris</code> </pre> <br>  <a href="">Petunjuk untuk menginstal modul dalam bahasa Inggris dan Rusia.</a> <br><br>  Fungsi modul: <br><div class="scrollable-table"><table><tbody><tr><td>  Fungsi php </td><td>  Deskripsi </td></tr><tr><th colspan="2">  Bekerja dengan data </th></tr><tr><td>  <nobr>iris_set ($ node, value)</nobr> </td><td><div class="spoiler">  <b class="spoiler_title">Situs instalasi.</b> <div class="spoiler_text"><ol><li><blockquote>  <strong>iris_set ($ global, $ subscript1, ..., $ subscriptN, $ value);</strong> <strong><br></strong>  <strong>iris_set ($ global, $ value);</strong> </blockquote><br>  <strong>Pengembalian:</strong> benar atau salah (kesalahan). <br>  Semua parameter fungsi adalah string atau angka.  Yang pertama adalah nama global, lalu indeksnya, parameter terakhir adalah nilainya. <br><br><pre> <code class="php hljs">iris_set(<span class="hljs-string"><span class="hljs-string">'^time'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>); iris_set(<span class="hljs-string"><span class="hljs-string">'^time'</span></span>, <span class="hljs-string"><span class="hljs-string">'tree'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span>);</code> </pre> <br>  Analog pada ObjectScript <br><br><pre> <code class="bash hljs">Set ^time = 1 Set ^time(<span class="hljs-string"><span class="hljs-string">"tree"</span></span>, 1, 1) = <span class="hljs-string"><span class="hljs-string">"value"</span></span></code> </pre> </li><li><blockquote>  <strong>iris_set ($ arrayGlobal, $ value);</strong> </blockquote>  Hanya 2 parameter: yang pertama adalah array di mana nama global dan semua indeksnya disimpan;  yang kedua adalah makna. <br><br><pre> <code class="php hljs">$node = [<span class="hljs-string"><span class="hljs-string">'^time'</span></span>, <span class="hljs-string"><span class="hljs-string">'tree'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]; iris_set($node,<span class="hljs-string"><span class="hljs-string">'value'</span></span>);</code> </pre> </li></ol></div></div><br></td></tr><tr><td>  <nobr>iris_get ($ node)</nobr> </td><td><div class="spoiler">  <b class="spoiler_title">Baca simpul</b> <div class="spoiler_text">  <strong>Pengembalian:</strong> nilai (angka atau string), NULL (nilai tidak ditentukan) atau FALSE (kesalahan). <br><br><ol><li><blockquote>  <strong>iris_get ($ global, $ subscript1, ..., $ subscriptN);</strong> <strong><br></strong>  <strong>iris_get ($ global);</strong> </blockquote>  Semua parameter fungsi adalah string atau angka.  Yang pertama adalah nama global, lalu indeksnya.  Global mungkin tidak memiliki indeks. <br><br><pre> <code class="php hljs">$res = iris_get(<span class="hljs-string"><span class="hljs-string">'^time'</span></span>); $res1 = iris_get(<span class="hljs-string"><span class="hljs-string">'^time'</span></span>, <span class="hljs-string"><span class="hljs-string">'tree'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> </li><li><blockquote>  <strong>iris_get ($ arrayGlobal);</strong> </blockquote>  Satu-satunya parameter adalah array di mana nama global dan semua indeksnya disimpan. <br><br><pre> <code class="php hljs">$node = [<span class="hljs-string"><span class="hljs-string">'^time'</span></span>, <span class="hljs-string"><span class="hljs-string">'tree'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]; $res = iris_get($node);</code> </pre> </li></ol><br></div></div></td></tr><tr><td>  <nobr>iris_zkill ($ node)</nobr> </td><td><div class="spoiler">  <b class="spoiler_title">Menghapus nilai simpul.</b> <div class="spoiler_text">  <strong>Pengembalian:</strong> BENAR atau SALAH - pada kesalahan. <br><br>  Penting untuk dicatat bahwa fungsi ini hanya menghapus nilai dalam node dan tidak menyentuh cabang yang mendasarinya. <br><br><ol><li><blockquote>  <strong>iris_zkill ($ global, $ subscript1, ..., $ subscriptN);</strong> <strong><br></strong>  <strong>iris_zkill ($ global);</strong> </blockquote>  Semua parameter fungsi adalah string atau angka.  Yang pertama adalah nama global, lalu indeksnya.  Global mungkin tidak memiliki indeks. <br><br><pre> <code class="php hljs">$res = iris_zkill(<span class="hljs-string"><span class="hljs-string">'^time'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    . $res1 = iris_zkill('^time', 'tree', 1, 1);</span></span></code> </pre> </li><li><blockquote>  <strong>iris_zkill ($ arrayGlobal);</strong> </blockquote>  Satu-satunya parameter adalah array di mana nama global dan semua indeksnya disimpan. <br><br><pre> <code class="php hljs">$a = [<span class="hljs-string"><span class="hljs-string">'^time'</span></span>, <span class="hljs-string"><span class="hljs-string">'tree'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]; $res = iris_zkill($a);</code> </pre> </li></ol><br></div></div></td></tr><tr><td>  <nobr>iris_kill ($ node)</nobr> </td><td><div class="spoiler">  <b class="spoiler_title">Hapus node dan semua cabang turunan.</b> <div class="spoiler_text">  Pengembalian: BENAR atau SALAH - pada kesalahan. <br><br><ol><li><blockquote>  <strong>iris_kill ($ global, $ subscript1, ..., $ subscriptN);</strong> <strong><br></strong>  <strong>iris_kill ($ global);</strong> </blockquote>  Semua parameter fungsi adalah string atau angka.  Yang pertama adalah nama global, lalu indeksnya.  Global mungkin tidak memiliki indeks, dalam hal ini dihapus sepenuhnya. <br><br><pre> <code class="php hljs">$res1 = iris_kill(<span class="hljs-string"><span class="hljs-string">'^example'</span></span>, <span class="hljs-string"><span class="hljs-string">'subscript1'</span></span>, <span class="hljs-string"><span class="hljs-string">'subscript2'</span></span>); $res = iris_kill(<span class="hljs-string"><span class="hljs-string">'^time'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   .</span></span></code> </pre></li><li><blockquote>  <strong>iris_kill ($ arrayGlobal);</strong> </blockquote>  Satu-satunya parameter adalah array di mana nama global dan semua indeksnya disimpan. <br><br><pre> <code class="php hljs">$a = [<span class="hljs-string"><span class="hljs-string">'^time'</span></span>, <span class="hljs-string"><span class="hljs-string">'tree'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]; $res = iris_kill($a);</code> </pre> </li></ol><br></div></div></td></tr><tr><td>  <nobr>iris_order ($ node)</nobr> </td><td><div class="spoiler">  <b class="spoiler_title">Memotong cabang global pada tingkat tertentu</b> <div class="spoiler_text">  <strong>Returns:</strong> array yang berisi nama lengkap node global berikutnya atau FALSE (saat kesalahan). <br><br><ol><li><blockquote>  <strong>iris_order ($ global, $ subscript1, ..., $ subscriptN);</strong> </blockquote>  Semua parameter fungsi adalah string atau angka.  Yang pertama adalah nama global, lalu indeksnya. <br><br>  Formulir penggunaan PHP dan yang setara dengan ObjectScript: <br><br><pre> <code class="php hljs">iris_order(<span class="hljs-string"><span class="hljs-string">'^ccc'</span></span>,<span class="hljs-string"><span class="hljs-string">'new2'</span></span>,<span class="hljs-string"><span class="hljs-string">'res2'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// $Order(^ccc("new2", "res2"))</span></span></code> </pre> </li><li><blockquote>  <strong>iris_order ($ arrayGlobal);</strong> </blockquote>  Satu-satunya parameter adalah array di mana nama global dan indeks dari simpul awal disimpan. <br><br><pre> <code class="php hljs">$node = [<span class="hljs-string"><span class="hljs-string">'^inn'</span></span>, <span class="hljs-string"><span class="hljs-string">'1234567890'</span></span>, <span class="hljs-string"><span class="hljs-string">'city'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; $node !== <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>; $node = iris_order($node)) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> join(<span class="hljs-string"><span class="hljs-string">', '</span></span>, $node).<span class="hljs-string"><span class="hljs-string">'='</span></span>.iris_get($node).<span class="hljs-string"><span class="hljs-string">"\n"</span></span>; }</code> </pre> <br>  Akan memberi kita kesimpulan: <br><br><pre> <code class="bash hljs">^inn, 1234567890, city=Moscow ^inn, 1234567890, year=1970</code> </pre> </li></ol><br></div></div></td></tr><tr><td>  <nobr>iris_order_rev ($ node)</nobr> </td><td><div class="spoiler">  <b class="spoiler_title">Memotong cabang global pada tingkat tertentu dalam urutan terbalik</b> <div class="spoiler_text">  <strong>Returns: sebuah</strong> array yang berisi nama lengkap dari node global sebelumnya pada level yang sama atau FALSE (jika terjadi kesalahan). <br><br><ol><li><blockquote>  <strong>iris_order_rev ($ global, $ subscript1, ..., $ subscriptN);</strong> </blockquote><br>  Semua parameter fungsi adalah string atau angka.  Yang pertama adalah nama global, lalu indeksnya. <br><br>  Formulir penggunaan PHP dan yang setara dengan ObjectScript: <br><br><pre> <code class="php hljs">iris_order_rev(<span class="hljs-string"><span class="hljs-string">'^ccc'</span></span>,<span class="hljs-string"><span class="hljs-string">'new2'</span></span>,<span class="hljs-string"><span class="hljs-string">'res2'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// $Order(^ccc("new2", "res2"), -1)</span></span></code> </pre> </li><li><blockquote>  <strong>iris_order_rev ($ arrayGlobal);</strong> </blockquote><br>  Satu-satunya parameter adalah array di mana nama global dan indeks dari simpul awal disimpan. <br><br><pre> <code class="php hljs">$node = [<span class="hljs-string"><span class="hljs-string">'^inn'</span></span>, <span class="hljs-string"><span class="hljs-string">'1234567890'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'last'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; $node !== <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>; $node = iris_order_rev($node)) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> join(<span class="hljs-string"><span class="hljs-string">', '</span></span>, $node).<span class="hljs-string"><span class="hljs-string">'='</span></span>.iris_get($node).<span class="hljs-string"><span class="hljs-string">"\n"</span></span>; }</code> </pre> <br>  Akan memberi kita kesimpulan: <br><br><pre> <code class="bash hljs">^inn, 1234567890, name, last=Ivanov ^inn, 1234567890, name, first=Vladimir</code> </pre> </li></ol><br></div></div></td></tr><tr><td>  <nobr>iris_query ($ CmdLine)</nobr> </td><td><div class="spoiler">  <b class="spoiler_title">Memotong cabang global dengan masuk ke level yang lebih rendah</b> <div class="spoiler_text">  <strong>Returns:</strong> array yang berisi nama lengkap dari node yang mendasarinya (jika ada) atau global node berikutnya (jika tidak ada nested node). <br><br><ol><li><blockquote>  <strong>iris_query ($ global, $ subscript1, ..., $ subscriptN);</strong> </blockquote>  Semua parameter fungsi adalah string atau angka.  Yang pertama adalah nama global, lalu indeksnya. <br><br>  Formulir penggunaan PHP dan yang setara dengan ObjectScript: <br><br><pre> <code class="php hljs">iris_query(<span class="hljs-string"><span class="hljs-string">'^ccc'</span></span>, <span class="hljs-string"><span class="hljs-string">'new2'</span></span>, <span class="hljs-string"><span class="hljs-string">'res2'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// $Query(^ccc("new2", "res2"))</span></span></code> </pre> </li><li><blockquote>  <strong>iris_query ($ arrayGlobal);</strong> </blockquote>  Satu-satunya parameter adalah array di mana nama global dan indeks dari simpul awal disimpan. <br><br><pre> <code class="php hljs">$node = [<span class="hljs-string"><span class="hljs-string">'^inn'</span></span>, <span class="hljs-string"><span class="hljs-string">'city'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; $node !== <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>; $node = iris_query($node)) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> join(<span class="hljs-string"><span class="hljs-string">', '</span></span>, $node).<span class="hljs-string"><span class="hljs-string">'='</span></span>.iris_get($node).<span class="hljs-string"><span class="hljs-string">"\n"</span></span>; }</code> </pre> <br>  Akan memberi kita kesimpulan: <br><br><pre> <code class="bash hljs">^inn, 1234567890, city=Moscow ^inn, 1234567890, city, street=Req Square ^inn, 1234567890, city, street, house=1 ^inn, 1234567890, name, first=Vladimir ^inn, 1234567890, name, last=Ivanov ^inn, 1234567890, year=1970</code> </pre> </li></ol><br>  Urutan berbeda dari urutan yang kami atur, karena di global secara otomatis ketika Anda memasukkan semuanya diurutkan dalam urutan naik. <br></div></div></td></tr><tr><th colspan="2">  Fungsi Layanan </th></tr><tr><td>  <nobr>iris_set_dir ($ FullPath)</nobr> </td><td><div class="spoiler">  <b class="spoiler_title">Pengaturan direktori dengan database</b> <div class="spoiler_text">  <strong>Pengembalian:</strong> BENAR atau SALAH - pada kesalahan. <br><br><pre> <code class="php hljs">iris_set_dir(<span class="hljs-string"><span class="hljs-string">'/InterSystems/Cache/mgr'</span></span>);</code> </pre> <br>  Itu harus diselesaikan sebelum menghubungkan ke database. <br></div></div></td></tr><tr><td>  <nobr>iris_exec ($ CmdLine)</nobr> </td><td><div class="spoiler">  <b class="spoiler_title">Jalankan perintah DB</b> <div class="spoiler_text">  <strong>Pengembalian:</strong> BENAR atau SALAH - pada kesalahan. <br><br><pre> <code class="php hljs">iris_exec(<span class="hljs-string"><span class="hljs-string">'kill ^global(6)'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   ObjectScript   </span></span></code> </pre> <br></div></div></td></tr><tr><td>  <nobr>iris_connect ($ login, $ pass)</nobr> </td><td>  Terhubung ke DB </td></tr><tr><td>  <nobr>iris_quit ()</nobr> </td><td>  Putuskan koneksi ke database </td></tr><tr><td>  <nobr>iris_errno ()</nobr> </td><td>  Dapatkan kode kesalahan </td></tr><tr><td>  <nobr>iris_error ()</nobr> </td><td>  Dapatkan deskripsi teks tentang kesalahan tersebut </td></tr></tbody></table></div><br>  Jika Anda ingin bermain sendiri dengan modul, maka: <br><br><div class="spoiler">  <b class="spoiler_title">Khusus untuk pengguna Habr, Dockerfile dibuat untuk membangun gambar.</b> <div class="spoiler_text"><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/intersystems-community/php_ext_iris <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> php_ext_iris/iris docker-compose build docker-compose up -d</code> </pre><br>  Menguji halaman demo di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">localhost: 52080</a> di browser. <br><br>  File PHP yang dapat diedit dan dimainkan dengan mereka berada di folder php / demo dan akan dipasang di dalam wadah. <br><br>  Untuk menguji IRIS, gunakan <strong>admin</strong> nama pengguna, kata sandinya adalah <strong>SYS</strong> . <br><br>  Untuk masuk ke pengaturan IRIS, gunakan URL berikut: <br>  <a href="">http: // localhost: 52773 / csp / sys / UtilHome.csp</a> <br><br>  Untuk memasuki konsol IRIS dari wadah ini, gunakan perintah: <br><pre> <code class="bash hljs">docker <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> -it iris_iris_1 iris session IRIS</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Khusus untuk pengguna Habr dan InterSystems Caché virtualka dengan php-module diangkat.</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Halaman demo dalam bahasa Rusia.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Halaman demo dalam bahasa Inggris.</a> <br>  Login: habr_test <br>  Kata sandi: burmur # @ 8765 <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Untuk pemasangan sendiri modul di bawah InterSystems Caché</b> <div class="spoiler_text"><ol><li>  Memiliki Linux.  Saya diuji di Ubuntu, di bawah Windows modul juga harus dibangun, tetapi saya tidak mengujinya. </li><li>  Unduh versi gratis: <ul><li>  <a href="">InterSystems Caché (diperlukan pendaftaran)</a> .  Dari Linux di luar kotak, Red Hat dan Suse didukung, tetapi Anda dapat menaruhnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di distribusi lain</a> . </li></ul><br></li><li>  Instal modul cach.so dalam PHP <a href="">sesuai dengan instruksi</a> . </li></ol></div></div><br>  Dalam wadah buruh pelabuhan di komputer pribadi saya (AMD FX-9370 @ 4700Mhz 32GB, LVM, SSD SATA), untuk bersenang-senang, saya membuat dua tes primitif pada kecepatan memasukkan nilai-nilai baru ke dalam basis data. <br><br><ul><li>  Penyisipan 1 juta elemen baru ke global membutuhkan 1,81 detik atau 552K penyisipan per detik. </li><li>  Memperbarui nilai dalam 1.000.000 kali global yang sama membutuhkan 1,98 detik atau 505K pembaruan per detik.  Fakta yang menarik adalah bahwa penyisipan terjadi daripada pembaruan.  Rupanya ini adalah konsekuensi dari optimasi database awal untuk penyisipan cepat. </li></ul><br>  Jelas bahwa tes-tes ini tidak dapat mengklaim akurat dan bermanfaat, karena bersifat primitif, dibuat dalam sebuah wadah.  Pada perangkat keras yang lebih kuat dengan sistem disk PCIe SSD, puluhan juta insert per detik dapat dicapai. <br><br><h3>  Apa yang bisa diselesaikan dan keadaan saat ini </h3><br><ol><li>  Anda dapat menambahkan fungsi yang berguna untuk bekerja dengan transaksi (Anda masih dapat menggunakannya melalui iris_exec). </li><li>  Fungsi mengembalikan seluruh struktur global tidak diterapkan sehingga PHP tidak memotong global. </li><li>  Fungsi menyimpan array PHP sebagai subtree tidak diterapkan. </li><li>  Akses ke variabel basis data lokal tidak diterapkan.  Hanya melalui iris_exec, meskipun lebih baik melalui iris_set. </li><li>  Tidak diimplementasikan dengan melewati global secara mendalam di arah yang berlawanan. </li><li>  Akses ke database melalui objek menggunakan metode (mirip dengan fungsi saat ini) tidak diterapkan. </li></ol><br>  Modul saat ini mungkin belum siap untuk diproduksi: tidak ada tes untuk beban tinggi dan kebocoran memori.  Namun, jika seseorang membutuhkannya, maka hubungi saya (Sergey Kamenev updates@mail.ru). <br><br><h3>  Kesimpulan </h3><br>  Untuk waktu yang lama, dunia PHP dan basis hierarkis global secara praktis tidak berpotongan, meskipun global menyediakan fungsionalitas yang kuat dan cepat pada tipe data tertentu (medis, pribadi). <br><br>  Saya berharap bahwa modul ini akan berfungsi sebagai pendorong untuk eksperimen oleh pemrogram PHP dengan pemrogram global dan ObjectScript untuk pengembangan sederhana antarmuka web dalam PHP. <br><br>  PS Terima kasih atas perhatian Anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id443440/">https://habr.com/ru/post/id443440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id443430/index.html">Mengapa itu buruk ketika Internet tahu segalanya tentang Anda?</a></li>
<li><a href="../id443432/index.html">Blazor 0.9.0 dirilis</a></li>
<li><a href="../id443434/index.html">Pemberitahuan: diperlukan tindakan untuk mengambil untung / rugi. Jika Pialang Anda tidak mendukung pesanan tersebut</a></li>
<li><a href="../id443436/index.html">Tempat berbicara tentang Apache Ignite, mendistribusikan database, dan mendistribusikan pembelajaran mesin di musim semi</a></li>
<li><a href="../id443438/index.html">7 ekstensi Firefox yang berguna untuk belajar bahasa Inggris</a></li>
<li><a href="../id443450/index.html">Mengapa orang miskin tidak bisa sehat</a></li>
<li><a href="../id443452/index.html">Militer Rusia akan membuat Internet tertutup mereka sendiri</a></li>
<li><a href="../id443456/index.html">Kami mengundang Anda ke Yandex NLP selama seminggu</a></li>
<li><a href="../id443458/index.html">6 bug sistem yang menghibur dalam pengoperasian Kubernetes [dan solusinya]</a></li>
<li><a href="../id443460/index.html">11 jawaban tentang Yandex.Directory</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>