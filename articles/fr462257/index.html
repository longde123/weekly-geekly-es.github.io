<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëêüèº ü§πüèΩ üôèüèº Kafka sur Kubernetes - est-ce bien? üì¨ üë®üèΩ‚Äçüé® ‚¨áÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bienvenue, Habr! 

 √Ä un moment donn√©, nous avons √©t√© les premiers √† introduire le th√®me Kafka sur le march√© russe et √† continuer de suivre son d√©velo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kafka sur Kubernetes - est-ce bien?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/462257/">  Bienvenue, Habr! <br><br>  √Ä un moment donn√©, nous avons √©t√© les premiers √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">introduire le</a> th√®me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kafka</a> sur le march√© russe et √† continuer de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">suivre</a> son d√©veloppement.  En particulier, le sujet de l'interaction entre Kafka et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kubernetes nous a</a> sembl√© int√©ressant.  Un article de revue (et plut√¥t prudent) √† ce sujet a √©t√© publi√© sur le blog de la soci√©t√© Confluent en octobre dernier, r√©dig√© par Gwen Shapira.  Aujourd'hui, nous voulons attirer votre attention sur un article d'avril plus r√©cent de Johann Gyger, qui, bien que non d√©nu√© de point d'interrogation dans le titre, examine le sujet de mani√®re plus substantielle, accompagnant le texte de liens int√©ressants.  Veuillez nous pardonner la traduction gratuite de "chaos monkey" si vous le pouvez! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m7/ok/p4/m7okp40yxxxkzul5qq3blkj0qak.png" alt="image"></div><br><a name="habracut"></a><br><h4>  Pr√©sentation </h4><br>  Kubernetes est con√ßu pour g√©rer des charges sans √©tat.  En r√®gle g√©n√©rale, ces charges de travail sont pr√©sent√©es sous la forme d'une architecture de microservices, elles sont l√©g√®res, bien adapt√©es √† la mise √† l'√©chelle horizontale, ob√©issent aux principes des applications √† 12 facteurs et permettent de travailler avec des disjoncteurs et des singes du chaos. <br><br>  Kafka, d'autre part, agit essentiellement comme une base de donn√©es distribu√©e.  Ainsi, lorsque vous travaillez, vous devez faire face √† la condition, et c'est beaucoup plus lourd qu'un microservice.  Kubernetes prend en charge les charges avec √©tat, mais comme Kelsey Hightower le fait remarquer dans deux de ses tweets, elles doivent √™tre manipul√©es avec soin: <br><blockquote>  Il semble √† certains que si vous lancez Kubernetes sur une charge avec √©tat, il se transforme en une base de donn√©es enti√®rement g√©r√©e qui peut rivaliser avec RDS.  Ce n'est pas le cas.  Peut-√™tre que si vous travaillez dur, vissez des composants suppl√©mentaires et attirez une √©quipe d'ing√©nieurs SRE, vous pouvez installer RDS sur Kubernetes. </blockquote><blockquote>  Je recommande toujours √† tout le monde de faire preuve d'une extr√™me prudence lors du lancement de charges pr√©servant l'√©tat sur Kubernetes.  La plupart de ceux qui sont int√©ress√©s par ¬´puis-je ex√©cuter des charges avec √©tat sur Kubernetes¬ª n'ont pas une exp√©rience suffisante de travail avec Kubernetes, et souvent avec la charge qu'ils demandent. </blockquote>  Alors, dois-je ex√©cuter Kafka sur Kubernetes?  Contre-question: Kafka fonctionnera-t-il mieux sans Kubernetes?  C'est pourquoi je tiens √† souligner dans cet article comment Kafka et Kubernetes se compl√®tent mutuellement, et quels pi√®ges peuvent rencontrer lorsqu'ils sont combin√©s. <br><br><h4>  D√©lai de livraison </h4><br>  Parlons de la chose de base - l'environnement d'ex√©cution lui-m√™me <br><br>  <i><b>Le processus</b></i> <br><br>  Les courtiers Kafka sont pratiques lorsque vous travaillez avec le CPU.  TLS peut entra√Æner des frais g√©n√©raux.  Dans le m√™me temps, les clients Kafka peuvent charger davantage le processeur s'ils utilisent le chiffrement, mais cela n'affecte pas les courtiers. <br><br>  <i><b>La m√©moire</b></i> <br><br>  Les courtiers de Kafka engloutissent la m√©moire.  La taille du tas JVM est g√©n√©ralement √† la mode pour limiter 4 √† 5 Go, mais vous aurez √©galement besoin de beaucoup de m√©moire syst√®me, car Kafka utilise tr√®s activement le cache de pages.  Dans Kubernetes, d√©finissez correctement les limites de conteneur pour les ressources et les demandes. <br><br>  <i><b>Entrep√¥t de donn√©es</b></i> <br><br>  Le stockage des donn√©es dans les conteneurs est √©ph√©m√®re - les donn√©es sont perdues au red√©marrage.  Vous pouvez utiliser le volume <code>emptyDir</code> pour les donn√©es Kafka, et l'effet sera similaire: vos donn√©es de courtier seront perdues apr√®s la fin.  Vos messages peuvent toujours √™tre enregistr√©s sur d'autres courtiers en tant que r√©pliques.  Par cons√©quent, apr√®s un red√©marrage, un courtier d√©faillant doit d'abord r√©pliquer toutes les donn√©es, et ce processus peut prendre beaucoup de temps. <br><br>  C'est pourquoi le stockage de donn√©es √† long terme doit √™tre utilis√©.  Qu'il s'agisse d'un stockage √† long terme non local avec le syst√®me de fichiers XFS ou, plus pr√©cis√©ment, ext4.  N'utilisez pas NFS.  Ai-je pr√©venu.  Les versions NFS v3 ou v4 ne fonctionneront pas.  En bref, le courtier Kafka se terminera s'il ne peut pas supprimer le r√©pertoire de donn√©es en raison du probl√®me de ¬´renommage stupide¬ª qui est pertinent dans NFS.  Si je ne vous ai toujours pas convaincu, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lisez</a> tr√®s attentivement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article</a> .  L'entrep√¥t de donn√©es doit √™tre non local afin que Kubernetes puisse s√©lectionner de mani√®re plus flexible un nouveau n≈ìud apr√®s un red√©marrage ou une relocalisation. <br><br>  <i><b>R√©seau</b></i> <br><br>  Comme avec la plupart des syst√®mes distribu√©s, les performances de Kafka d√©pendent beaucoup de la latence du r√©seau minimale et de la bande passante maximale.  N'essayez pas de placer tous les courtiers sur le m√™me n≈ìud, car cela r√©duirait la disponibilit√©.  Si le n≈ìud Kubernetes √©choue, l'ensemble du cluster Kafka √©choue √©galement.  En outre, ne dispersez pas le cluster Kafka dans des centres de donn√©es entiers.  Il en va de m√™me pour le cluster Kubernetes.  Un bon compromis dans ce cas est de choisir diff√©rentes zones d'acc√®s. <br><br><h4>  La configuration </h4><br>  <i><b>Manifestes courants</b></i> <br><br>  Le site Web de Kubernetes a un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tr√®s bon guide</a> sur la fa√ßon de configurer ZooKeeper √† l'aide de manifestes.  Puisque ZooKeeper fait partie de Kafka, c'est √† partir de l√† qu'il est commode de commencer √† se familiariser avec les concepts de Kubernetes applicables ici.  Une fois que vous avez compris cela, vous pouvez utiliser les m√™mes concepts avec le cluster Kafka. <br><br><ul><li>  <i>Sub</i> : sub est la plus petite unit√© d√©ployable de Kubernetes.  Le module contient votre charge de travail et le module lui-m√™me correspond au processus de votre cluster.  Un foyer contient un ou plusieurs conteneurs.  Chaque serveur ZooKeeper de l'ensemble et chaque courtier du cluster Kafka fonctionneront selon une approche distincte. </li><li>  <i>StatefulSet</i> : StatefulSet est un objet Kubernetes qui fonctionne avec plusieurs charges de travail avec √©tat, qui n√©cessitent une coordination.  StatefulSet offre des garanties concernant la commande des foyers et leur caract√®re unique. </li><li>  <i>Services sans t√™te</i> : les services vous permettent de d√©tacher les modules des clients √† l'aide d'un nom logique.  Dans ce cas, Kubernetes est responsable de l'√©quilibrage de charge.  Cependant, lors de la maintenance de charges de travail avec √©tat, comme dans le cas de ZooKeeper et Kafka, les clients doivent √©changer des informations avec une instance sp√©cifique.  C'est l√† que les services sans t√™te sont utiles: dans ce cas, le client aura toujours un nom logique, mais vous n'aurez pas √† aller directement au bas. </li><li>  <i>Volume pour le stockage √† long terme</i> : ces volumes sont n√©cessaires pour la configuration du stockage √† long terme sur bloc non local, qui a √©t√© mentionn√© ci-dessus. </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Yolean</a> fournit un ensemble complet de manifestes qui facilitent le d√©marrage de Kafka sur Kubernetes. <br><br>  <i><b>Tableaux de barre</b></i> <br><br>  Helm est un gestionnaire de packages pour un Kubernetes, qui peut √™tre compar√© aux gestionnaires de packages pour le syst√®me d'exploitation, tels que yum, apt, Homebrew ou Chocolatey.  Son utilisation est pratique pour installer des progiciels pr√©d√©finis d√©crits dans les diagrammes de Helm.  Un diagramme de Helm bien choisi facilite la t√¢che difficile: comment configurer correctement tous les param√®tres pour utiliser Kafka sur Kubernetes.  Il existe plusieurs diagrammes de Kafka: celui officiel est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans un √©tat incubateur</a> , il y en a un de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Confluent</a> , un de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Bitnami</a> de plus. <br><br>  <i><b>Les op√©rateurs</b></i> <br><br>  Helm ayant certains inconv√©nients, un autre outil gagne en popularit√©: les op√©rateurs Kubernetes.  L'op√©rateur n'emballe pas seulement le logiciel pour Kubernetes, mais vous permet √©galement de d√©ployer ce logiciel et de le g√©rer. <br><br>  La liste des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">op√©rateurs impressionnants</a> mentionne deux op√©rateurs pour Kafka.  L'un d'eux est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Strimzi</a> .  Avec l'aide de Strimzi, il est facile de lever un cluster Kafka en quelques minutes.  Pratiquement aucune configuration n'est requise, de plus, l'op√©rateur lui-m√™me fournit de belles fonctionnalit√©s, par exemple le cryptage TLS de type "point √† point" √† l'int√©rieur du cluster.  Confluent fournit √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">son propre op√©rateur</a> . <br><br>  <b>Performances</b> <br><br>  Il est tr√®s important de tester les performances en fournissant √† l'instance Kafka install√©e des points de contr√¥le.  Ces tests vous aideront √† identifier les goulots d'√©tranglement potentiels avant le d√©but des probl√®mes.  Heureusement, Kafka fournit d√©j√† deux outils de test de performances: <code>kafka-producer-perf-test.sh</code> et <code>kafka-consumer-perf-test.sh</code> .  Utilisez-les activement.  Pour r√©f√©rence, vous pouvez vous r√©f√©rer aux r√©sultats d√©crits dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article par</a> Jay Kreps, ou utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette</a> critique de St√©phane Maarek Amazon MSK. <br><br><h4>  Les op√©rations </h4><br>  <i><b>Suivi</b></i> <br><br>  La transparence du syst√®me est tr√®s importante - sinon vous ne comprendrez pas ce qui s'y passe.  Aujourd'hui, il existe une solide bo√Æte √† outils qui fournit une surveillance bas√©e sur des m√©triques dans le style natif du cloud.  Deux outils populaires √† cet effet sont Prom√©th√©e et Grafana.  Prometheus peut collecter des m√©triques de tous les processus Java (Kafka, Zookeeper, Kafka Connect) √† l'aide de l'exportateur JMX - de la mani√®re la plus simple.  Si vous ajoutez des m√©triques cAdvisor, vous pouvez mieux comprendre comment les ressources sont utilis√©es dans Kubernetes. <br><br>  Strimzi a un exemple de tableau de bord Grafana tr√®s pratique pour Kafka.  Il affiche des mesures cl√©s, par exemple, sur les secteurs sous-r√©pliqu√©s ou ceux qui sont hors ligne.  Tout y est tr√®s clair.  Ces mesures sont compl√©t√©es par des informations sur l'utilisation et les performances des ressources, ainsi que des indicateurs de stabilit√©.  Ainsi, vous obtenez une surveillance de base du cluster Kafka sans raison! <br><br><img src="https://habrastorage.org/webt/rc/pl/wz/rcplwz2iz4iw7ujogarvaacoffe.png"><br><br>  Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">strimzi.io/docs/master/#kafka_dashboard</a> <br><br>  Il serait bon de compl√©ter tout cela avec une surveillance des clients (mesures pour les consommateurs et les producteurs), ainsi qu'une surveillance des retards (pour cela, il y a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Burrow</a> ) et une surveillance de bout en bout - pour cela, utilisez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kafka Monitor</a> . <br><br>  <i><b>Journalisation</b></i> <br><br>  La journalisation est une autre t√¢che critique.  Assurez-vous que tous les conteneurs de votre installation Kafka sont connect√©s dans <code>stdout</code> et <code>stderr</code> , et assurez-vous que votre cluster Kubernetes regroupe tous les journaux dans une infrastructure de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">journalisation</a> centrale, comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Elasticsearch</a> . <br><br>  <i><b>Bilan de sant√©</b></i> <br><br>  Kubernetes utilise des sondes de vivacit√© et de pr√©paration pour v√©rifier si vos pods fonctionnent correctement.  Si le test en direct √©choue, Kubernetes arr√™te ce conteneur, puis le red√©marre automatiquement si la strat√©gie de red√©marrage est d√©finie en cons√©quence.  Si le contr√¥le de disponibilit√© √©choue, Kubernetes l'isole du service de demande.  Ainsi, dans de tels cas, une intervention manuelle n'est plus n√©cessaire du tout, et c'est un gros plus. <br><br>  <i><b>D√©ploiement des mises √† jour</b></i> <br><br>  StatefulSet prend en charge les mises √† jour automatiques: lorsque vous choisissez une strat√©gie RollingUpdate, chacune sous Kafka sera mise √† jour √† son tour.  De cette fa√ßon, les temps d'arr√™t peuvent √™tre r√©duits √† z√©ro. <br><br>  <i><b>Mise √† l'√©chelle</b></i> <br><br>  Faire √©voluer un cluster Kafka n'est pas une t√¢che facile.  Cependant, dans Kubernetes, il est tr√®s facile de faire √©voluer les modules vers un certain nombre de r√©pliques, ce qui signifie que vous pouvez identifier de mani√®re d√©clarative autant de courtiers Kafka que vous le souhaitez.  Le plus difficile dans ce cas est la r√©affectation des secteurs apr√®s une augmentation ou une r√©duction.  Encore une fois, Kubernetes vous aidera dans cette t√¢che. <br><br>  <i><b>Administration</b></i> <br><br>  Les t√¢ches li√©es √† l'administration de votre cluster Kafka, en particulier la cr√©ation de rubriques et la r√©affectation de secteurs, peuvent √™tre effectu√©es √† l'aide de scripts shell existants, ouvrant l'interface de ligne de commande dans vos pods.  Cependant, cette solution n'est pas trop belle.  Strimzi prend en charge la gestion des sujets √† l'aide d'un autre op√©rateur.  Il y a quelque chose √† modifier ici. <br><br>  <i><b>Sauvegarde et restauration</b></i> <br><br>  Maintenant, la disponibilit√© de Kafka d√©pendra de la disponibilit√© de Kubernetes.  Si votre cluster Kubernetes tombe, dans le pire des cas, le cluster Kafka tombe √©galement.  Selon la loi de Murphy, cela se produira et vous perdrez des donn√©es.  Pour r√©duire ce type de risque, ayez un bon concept de sauvegarde.  Vous pouvez utiliser MirrorMaker, une autre option consiste √† utiliser S3 pour cela, comme d√©crit dans cet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> de Zalando. <br><br><h4>  Conclusion </h4><br>  Lorsque vous travaillez avec des clusters Kafka de petite ou moyenne taille, il est certainement conseill√© d'utiliser Kubernetes, car il offre une flexibilit√© suppl√©mentaire et simplifie le travail avec les op√©rateurs.  Si vous avez des exigences non fonctionnelles tr√®s graves concernant la latence et / ou le d√©bit, il peut √™tre pr√©f√©rable d'envisager une autre option de d√©ploiement. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr462257/">https://habr.com/ru/post/fr462257/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr462227/index.html">Moscou, 9 ao√ªt - Backend Stories 4.0</a></li>
<li><a href="../fr462243/index.html">Am√©lioration des performances frontales de Magento avec ReactJS</a></li>
<li><a href="../fr462245/index.html">auto git bisect comme exemple du noyau Linux</a></li>
<li><a href="../fr462251/index.html">Le mode navigation priv√©e dans le navigateur est-il une fiction?</a></li>
<li><a href="../fr462253/index.html">Les premi√®res exp√©riences utilisant le protocole de streaming sur l'exemple de communication CPU et processeur dans le FPGA Redd</a></li>
<li><a href="../fr462259/index.html">Faire un contr√¥leur pour une maison intelligente</a></li>
<li><a href="../fr462263/index.html">P√©dalez jusqu'au sol: cr√©ez un autre manipulateur de pied pour PC</a></li>
<li><a href="../fr462265/index.html">Python et cubes</a></li>
<li><a href="../fr462267/index.html">Apprenez √† conna√Ætre l'analyseur statique PVS-Studio pour Java</a></li>
<li><a href="../fr462269/index.html">John Romero √† Doom: 80s Game Dev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>