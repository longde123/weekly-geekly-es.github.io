<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“ ğŸ‘©â€âš–ï¸ ğŸŒ® Terapkan lingkungan Nix-Shell dalam Visual Studio Code ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ ğŸ›°ï¸ ğŸ˜©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Banyak pengembang menghadapi masalah dengan paket neraka di workstation mereka. Setelah beberapa bulan dengan eksperimen, termasuk berbagai bahasa dan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Terapkan lingkungan Nix-Shell dalam Visual Studio Code</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474916/"><img src="https://habrastorage.org/webt/41/gp/_e/41gp_emosvptu5py_t32zati-wo.png"><br><br>  Banyak pengembang menghadapi masalah dengan paket neraka di workstation mereka.  Setelah beberapa bulan dengan eksperimen, termasuk berbagai bahasa dan peralatan, saya menginstal Elixir, Haskell-stack, Node.js / NVM, dan berbagai hal lainnya.  Sebagian besar hal menarik terjadi ketika Anda membutuhkan versi berbeda dari paket yang sama untuk proyek yang berbeda.  Umat â€‹â€‹manusia telah menemukan solusi berbeda untuk menciptakan lingkungan yang terisolasi dan mengubahnya ketika dibutuhkan.  Kami menggunakan NVM untuk mengelola versi Node.js, Python Virtual Env untuk memilih versi barang Python atau Docker untuk membuat OS di dalam OS.  Tetapi tidak ada solusi yang memenuhi semua persyaratan saya untuk lingkungan pengembangan yang terisolasi. <br><a name="habracut"></a><br><h2>  Memperkenalkan persyaratan untuk mengelola alat lingkungan yang terisolasi </h2><br>  Itu adalah malam musim gugur yang dingin.  Saya sedang duduk di ruang dapur saya dan berpikir tentang isolasi sempurna untuk ruang kerja proyek dengan ketergantungan mereka.  Sebenarnya, saya tidak melakukannya, tetapi paragraf tersebut harus memiliki pengantar. <br><br>  Setelah itu, saya menulis kriteria berikut untuk alat isolasi sempurna saya: <br><br><ol><li>  Harus mencakup berbagai bahasa dan paket: bukan hanya Node.js, Python, atau Haskell. </li><li>  Tidak ada virtualisasi.  Kita terlalu muda untuk semua omong kosong ini.  Mari hemat waktu kita. </li><li>  Semua paket ruang kerja harus mudah dihapus. </li><li>  Semua lingkungan ruang kerja harus mudah dihilangkan. </li><li>  IDE saya harus dapat bekerja dengan semua hal ini tanpa memanggil Molfars dari pegunungan Carpathian Ukraina. </li></ol><br><h2>  Kami membutuhkan secangkir teh dan Google, tetapi secangkir teh pada awalnya </h2><br>  Saya ingat bahwa sekali saya membaca tentang manajer paket deklaratif yang dapat menghasilkan lingkungan yang terisolasi dan mengelola semua dependensi sistem dan dependensi proyek Haskell juga. <br>  Googling lima menit, 30 menit membaca, dan 1 jam mencoba biarkan saya mengetahui bahwa alat saat ini adalah yang saya butuhkan.  Yang saya butuhkan hanyalah cinta.  Tapi berhenti, itu lagu lain.  Yang saya butuhkan adalah Nix. <br><br>  Mari kita bandingkan persyaratan yang saya tulis di atas dari fitur Nix yang sebenarnya. <br><br><ol><li>  Kompatibel dengan macOS - ya. </li><li>  Mencakup berbagai bahasa dan paket - ya. </li><li>  Tidak ada virtualisasi - benar-benar tidak ada virtualisasi. </li><li>  Semua paket ruang kerja harus mudah dihapus - mungkin ya, tapi saya tidak tahu caranya. </li><li>  IDE saya seharusnya bekerja dengan semua hal ini - tidak.  Tidak ada cara untuk mengintegrasikan Nix Environment ke Visual Studio Code. </li></ol><br><div class="spoiler">  <b class="spoiler_title">Peringatan spoiler</b> <div class="spoiler_text">  Itu sudah lama sekali.  Ketika malam musim gugur dingin, saya katakan, apakah Anda ingat?  Tetapi hari ini adalah malam yang sama sekali berbeda.  Ini musim gugur yang hangat dan semua masalah saya hilang. <br></div></div><br><h2>  Bantu dirimu sendiri.  Menulis ekstensi Kode Visual Studio </h2><br>  Ekstensi membantu Anda mengintegrasikan Kode VS dan Nix-shell bersama-sama. <br>  Saya terlalu malas untuk menulis bab ini dari awal, jadi teks di bawah ini adalah copy / paste dari README.md resmi dari ekstensi saya. <br><br><h4>  Memulai </h4><br><ul><li>  Pertama-tama, Anda harus menginstal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">manajer paket Nix</a> . </li><li>  Restart VS Code untuk memastikan jalur untuk menjalankan nix-shell dikonfigurasi dengan benar </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pasang ekstensi</a> </li><li>  Buat nix env config, seperti default.nix di root ruang kerja proyek Anda </li><li>  Buka palet perintah (Cmd / Ctrl + Shift + P) dan ketik Select environment </li><li>  Dari daftar lingkungan virtual nix pilih yang ingin Anda terapkan </li></ul><br><h4>  Contoh menjalankan proyek Haskell </h4><br>  Untuk menjalankan aplikasi Haskell Anda, Anda harus menginstal kompiler GHC.  Untuk menghindari instalasi GHC global dan dapat menggunakan berbagai versi kompiler di host Anda, mari lakukan ini dengan menggunakan lingkungan virtual nix. <br><br>  Contoh kompiler GHC di dalam toko NIX (shell.nix): <br><br><pre><code class="haskell hljs">{ nixpkgs ? <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> &lt;nixpkgs&gt; {} }: let inherit (<span class="hljs-title"><span class="hljs-title">nixpkgs</span></span>) pkgs; inherit (<span class="hljs-title"><span class="hljs-title">pkgs</span></span>) haskellPackages; haskellDeps = ps: with ps; [ base lens mtl random ]; ghc = pkgs.haskell.packages.ghc864.ghcWithPackages haskellDeps; nixPackages = [ ghc pkgs.gdb haskellPackages.cabal-install ]; in pkgs.stdenv.mkDerivation { name = "snadbox-haskell-workspace"; buildInputs = nixPackages; }</code> </pre> <br>  Sekarang mari kita coba untuk membuka proyek kami dalam Visual Studio Code. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9db/ec8/7a3/9dbec87a3f5d96693b7d6f70f5e1453f.gif" alt="gambar"><br><br>  Anda dapat melihat, IDE tidak dapat menemukan kompiler.  Mari aktifkan shell.nix env. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b80/578/604/b8057860413b38a6fb958cb6c952e8e4.gif" alt="gambar"><br><br>  Bingo!  Semuanya baik-baik saja sekarang. <br><br><h2>  Kesimpulan </h2><br>  Saya harap artikel ini memberi Anda beberapa ide baru tentang bagaimana membuat hidup Anda lebih mudah dan mengelola proyek Anda tanpa kekacauan dalam sistem file Anda. <br><br>  <i>Manfaat dari pendekatan ini adalah:</i> <br><br><ul><li>  Semua paket di ruang kerja terpisah dan tidak mempengaruhi lingkup global yang Anda inginkan tersirat </li><li>  IDE Anda melihat semua staf ruang kerja dan bekerja seperti yang Anda harapkan </li><li>  Bootstrap proyek sederhana dari file konfigurasi pada mesin yang berbeda </li></ul><br>  <i>Tidak ada yang sempurna di dunia kita:</i> <br><br><ul><li>  Perlu belajar bahasa baru untuk menulis file konfigurasi </li><li>  Opsi Nix CLI tidak memiliki arti yang jelas dan sepanjang waktu ketika Anda berinteraksi dengan alat CLI, Anda perlu bantuan perintah baca </li><li>  Semua bahasa pemrograman memiliki hal-hal mereka untuk menginstal perpustakaan ekosistem.  Seperti NPM, Cabal, Cargo, Pip, dll.  Dan ketika Anda menginstal paket semacam ini melalui Nix, Anda berisiko tidak dapat bekerja dari kotak beberapa linters, menganalisis alat, dll. </li></ul><br><h2>  Tautan eksternal </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengelola paket Nix</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Repositori Ekstensi GitHub</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">VS Code Marketplace</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id474916/">https://habr.com/ru/post/id474916/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id474900/index.html">OpenTitan chip terbuka menggantikan akar kepercayaan Intel dan ARM</a></li>
<li><a href="../id474902/index.html">Tren dalam visi komputer. Sorotan ICCV 2019</a></li>
<li><a href="../id474906/index.html">Xamarin.Forms - Pemetaan QRCode dekoratif dengan SkiaSharp</a></li>
<li><a href="../id474910/index.html">Apa yang harus dimainkan dengan anak-anak sebelum sekolah</a></li>
<li><a href="../id474912/index.html">Pesan dan peringatan di Android melalui JSON</a></li>
<li><a href="../id474918/index.html">Meningkatkan desain bersama komponen elektromekanis</a></li>
<li><a href="../id474920/index.html">Bagaimana jika tidak ada analisa statis untuk bahasa favorit Anda?</a></li>
<li><a href="../id474922/index.html">Cara memilih VPS</a></li>
<li><a href="../id474924/index.html">Bagaimana cara menjadi manajer yang baik? 4 cara untuk mengisi kesenjangan dalam keterampilan manajemen</a></li>
<li><a href="../id474928/index.html">Belajar mengikuti peramban Vivaldi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>