<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò≤ üßù ü§∞ Web asc√©tica: prototipo de mercados de pulgas en go and js üå©Ô∏è ü§öüèæ ‚ôëÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos, quiero compartir el resultado de mis pensamientos sobre lo que puede ser una aplicaci√≥n web moderna. Como ejemplo, considere dise√±ar un ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Web asc√©tica: prototipo de mercados de pulgas en go and js</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435908/"><p> <a href=""><img src="https://habrastorage.org/webt/jl/lq/qo/jllqqo3xn1mthylxxodb2-digfw.png" alt="captura de pantalla"></a> </p><br><p>  Hola a todos, quiero compartir el resultado de mis pensamientos sobre lo que puede ser una aplicaci√≥n web moderna.  Como ejemplo, considere dise√±ar un tablero de anuncios para c√≥mics.  En cierto sentido, el producto en cuesti√≥n est√° dise√±ado para una audiencia de geeks y simpatizantes, lo que le permite mostrar libertad en la interfaz.  En el componente t√©cnico, por el contrario, es necesaria la atenci√≥n al detalle. </p><br><p>  En verdad, no entiendo nada en los c√≥mics, pero me encantan los mercados de pulgas, especialmente en el formato de foro, que eran populares en cero.  Por lo tanto, la suposici√≥n (posiblemente falsa), de la que surgen las siguientes conclusiones, es solo una: el tipo principal de interacci√≥n con la aplicaci√≥n es ver, la secundaria: publicar anuncios y discusiones. </p><br><p>  Nuestro objetivo ser√° crear una aplicaci√≥n simple, sin <del> conocimientos t√©cnicos </del>  silbidos adicionales, sin embargo, consistentes con las realidades modernas.  Los principales requisitos que me gustar√≠a lograr son: </p><a name="habracut"></a><br><ol><li><p>  Lado del servidor: </p><br><p>  a) Realiza las funciones de almacenar, validar y enviar datos de usuario al cliente <br>  b) Las operaciones anteriores consumen una cantidad aceptable de recursos (tiempo, incluido) <br>  c) La aplicaci√≥n y los datos est√°n protegidos de los vectores de ataque populares. <br>  d) Tiene una API simple para clientes de terceros e interacci√≥n entre servidores <br>  e) Multiplataforma, despliegue simple </p><br></li><li><p>  Lado del cliente: </p><br><p>  a) Proporciona la funcionalidad necesaria para crear y consumir contenido. <br>  b) La interfaz es conveniente para el uso regular, la ruta m√≠nima a cualquier acci√≥n, la cantidad m√°xima de datos por pantalla <br>  c) Fuera de comunicaci√≥n con el servidor, todas las funciones disponibles en esta situaci√≥n est√°n disponibles <br>  d) La interfaz muestra la versi√≥n actual del estado y el contenido, sin reiniciar ni esperar <br>  d) Reiniciar la aplicaci√≥n no afecta su estado <br>  f) Si es posible, reutilice los elementos DOM y el c√≥digo JS <br>  g) No utilizaremos bibliotecas y marcos de terceros en tiempo de ejecuci√≥n <br>  h) El dise√±o es sem√°ntico para accesibilidad, analizadores, etc. <br>  i) Se puede acceder a la navegaci√≥n del contenido principal utilizando la URL y el teclado </p><br></li></ol><br><p>  En mi opini√≥n, los requisitos l√≥gicos y la mayor√≠a de las aplicaciones modernas cumplen en cierta medida estas condiciones.  Veamos qu√© pasa con nosotros (enlace a la fuente y la demostraci√≥n al final de la publicaci√≥n). </p><br><div class="spoiler">  <b class="spoiler_title">Advertencias:</b> <div class="spoiler_text"><ul><li>  Quiero pedir disculpas a los autores desconocidos de las im√°genes utilizadas en la demostraci√≥n sin permisos, as√≠ como a G√∂sse G., Prozorovskaya B. D. y la editorial "Library of Florence Pavlenkov" por utilizar extractos de la obra "Siddhartha". </li><li>  El autor no es un programador real, no recomiendo usar el c√≥digo o las t√©cnicas utilizadas en este proyecto si no sabe lo que est√° haciendo. </li><li>  Pido disculpas por el estilo del c√≥digo; podr√≠a haber sido escrito de manera m√°s legible y obvia, pero esto no es divertido.  Un proyecto para el alma y para un amigo, tal como dicen. </li><li>  Tambi√©n me disculpo por la tasa de alfabetizaci√≥n, especialmente en el texto en ingl√©s.  A√±os hablan de May Hart. </li><li>  El rendimiento del prototipo presentado se prob√≥ en [cromo 70;  linux x86_64;  1366x768], estar√© extremadamente agradecido con los usuarios de otras plataformas y dispositivos por los mensajes de error. </li><li>  Este es un prototipo y un tema de discusi√≥n propuesto: enfoques y principios, pido que todas las cr√≠ticas a la implementaci√≥n y el lado est√©tico est√©n acompa√±adas de argumentos. </li></ul></div></div><br><h2 id="server">  Servidor </h2><br><p>  El idioma para el servidor es golang.  Un lenguaje simple y r√°pido con una excelente biblioteca y documentaci√≥n est√°ndar ... un poco molesto.  La elecci√≥n inicial recay√≥ en elixir / erlang, pero como ya sab√≠a ir (relativamente), se decidi√≥ no complicarlo (y los paquetes necesarios eran solo para ir). </p><br><p>  No se recomienda el uso de marcos web en la comunidad go (justificadamente, vale la pena admitirlo), elegimos un compromiso y utilizamos el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">microframework labstack / echo</a> , lo que reduce la cantidad de rutina y, seg√∫n me parece, no pierde mucho rendimiento. </p><br><p>  Usamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tidwall / buntdb</a> como la base de datos.  En primer lugar, la soluci√≥n integrada es m√°s conveniente y reduce los costos generales, y en segundo lugar, en memoria + clave / valor: <del>  de moda, con estilo </del>  R√°pido y no se necesita cach√©.  Almacenamos y damos datos en JSON, validando solo cuando se cambia. </p><br><p>  En el i3 de segunda generaci√≥n, el registrador incorporado muestra el tiempo de ejecuci√≥n para diferentes solicitudes de 0,5 a 10 ms.  Ejecutar wrk en la misma m√°quina tambi√©n muestra resultados suficientes para nuestros prop√≥sitos: </p><br><pre><code class="plaintext hljs">‚ûú comico git:(master) wrk -t2 -c500 -d60s http://localhost:9001/pub/mtimes Running 1m test @ http://localhost:9001/pub/mtimes 2 threads and 500 connections Thread Stats Avg Stdev Max +/- Stdev Latency 20.74ms 16.68ms 236.16ms 72.69% Req/Sec 13.19k 627.43 15.62k 73.58% 1575522 requests in 1.00m, 449.26MB read Requests/sec: 26231.85 Transfer/sec: 7.48MB</code> </pre> <br><pre> <code class="plaintext hljs">‚ûú comico git:(master) wrk -t2 -c500 -d60s http://localhost:9001/pub/goods Running 1m test @ http://localhost:9001/pub/goods 2 threads and 500 connections Thread Stats Avg Stdev Max +/- Stdev Latency 61.79ms 65.96ms 643.73ms 86.48% Req/Sec 5.26k 705.24 7.88k 70.31% 628215 requests in 1.00m, 8.44GB read Requests/sec: 10454.44 Transfer/sec: 143.89MB</code> </pre> <br><h3 id="struktura-proekta">  Estructura del proyecto </h3><br><p>  El paquete <u>comico / model</u> se divide en tres archivos: <br>  model.go: contiene una descripci√≥n de los tipos de datos y funciones generales: creaci√≥n / actualizaci√≥n (buntdb no distingue entre estas operaciones y verificamos la presencia de un registro manualmente), validaci√≥n, eliminaci√≥n, obtenci√≥n de un registro y obtenci√≥n de una lista; <br>  rules.go: contiene reglas de validaci√≥n para un tipo espec√≠fico y una funci√≥n de registro; <br>  files.go: trabaja con im√°genes. <br>  El tipo Mtimes almacena datos sobre el √∫ltimo cambio de los tipos restantes en la base de datos, informando as√≠ al cliente qu√© datos han cambiado. </p><br><p>  El paquete <u>comico / bd</u> contiene funciones generalizadas para interactuar con la base de datos: creaci√≥n, eliminaci√≥n, selecci√≥n, etc. Buntdb guarda todos los cambios en un archivo (en nuestro caso, una vez por segundo), en formato de texto, lo cual es conveniente en algunas situaciones.  El archivo de la base de datos no se edita, los cambios en caso de √©xito de la transacci√≥n se agregan al final.  Todos mis intentos de violar la integridad de los datos no tuvieron √©xito, en el peor de los casos, los cambios en el √∫ltimo segundo se pierden. <br>  En nuestra implementaci√≥n, cada tipo corresponde a una base de datos separada en un archivo separado (excepto los registros que se almacenan exclusivamente en la memoria y se restablecen a cero al reiniciar).  Esto se debe en gran parte a la conveniencia de la copia de seguridad y la administraci√≥n, una peque√±a ventaja: una transacci√≥n abierta para editar bloquea el acceso a un solo tipo de datos. <br>  Este paquete se puede reemplazar f√°cilmente por uno similar utilizando otra base de datos, SQL, por ejemplo.  Para hacer esto, es suficiente implementar las siguientes funciones: </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, key </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Exist</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, key </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Insert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, key, val </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, pattern </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(str </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, err error)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadOne</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, key </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(str </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, err error)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Renew</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, key </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err error, newId </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span></code> </pre> <br><p>  El <u>paquete comico / cnst</u> contiene algunas constantes necesarias en todos los paquetes (tipos de datos, tipos de acci√≥n, tipos de usuario).  Adem√°s, este paquete contiene todos los mensajes legibles por humanos con los que nuestro servidor responder√° al mundo exterior. </p><br><p>  El paquete <u>comico / server</u> contiene informaci√≥n de enrutamiento.  Adem√°s, solo un par de l√≠neas (gracias a los desarrolladores de Echo), se configura la autorizaci√≥n mediante JWT, CORS, encabezados CSP, registrador, distribuci√≥n est√°tica, gzip, certificado autom√°tico ACME, etc. </p><br><h3 id="tochki-vhoda-api">  Puntos de entrada de API </h3><br><table><thead><tr><th>  URL </th><th>  Datos </th><th>  Descripci√≥n </th></tr></thead><tbody><tr><td>  get / pub / (bienes | publicaciones | usuarios | cmnts | archivos) </td><td>  - </td><td>  Obtener una variedad de anuncios relevantes, publicaciones, usuarios, comentarios, archivos </td></tr><tr><td>  obtener / pub / mtimes </td><td>  - </td><td>  Obtener el √∫ltimo tiempo de cambio para cada tipo de datos </td></tr><tr><td>  post / pub / login </td><td>  {id *: inicio de sesi√≥n, pase *: contrase√±a} </td><td>  Devuelve el token JWT y su duraci√≥n. </td></tr><tr><td>  publicaci√≥n / pub / pase </td><td>  {id *, pass *} </td><td>  Crea un nuevo usuario si los datos son correctos </td></tr><tr><td>  poner / api / pasar </td><td>  {id *, pass *} </td><td>  Actualizaci√≥n de contrase√±a </td></tr><tr><td>  publicar | poner / api / bienes </td><td>  {id *, auth *, title *, type *, price *, text *, images: [], Table: {key: value}} </td><td>  Crear / actualizar anuncio </td></tr><tr><td>  post | put / api / posts </td><td>  {id *, auth *, title *, type *, text *} </td><td>  Crear / actualizar publicaci√≥n en el foro </td></tr><tr><td>  post | put / api / usuarios </td><td>  {id *, t√≠tulo, tipo, estado, escribanos: [], ignora: [], Tabla: {clave: valor}} </td><td>  Crear / Actualizar usuario </td></tr><tr><td>  post / api / cmnts </td><td>  {id *, auth *, owner *, type *, to, text *} </td><td>  Creaci√≥n de comentarios </td></tr><tr><td>  eliminar / api / (bienes | publicaciones | usuarios | cmnts) / [id] </td><td>  - </td><td>  Elimina una entrada con id </td></tr><tr><td>  obtener / api / actividad </td><td>  - </td><td>  Actualiza el √∫ltimo tiempo de lectura de los comentarios entrantes para el usuario actual </td></tr><tr><td>  get / api / (suscribirse | ignorar) / [etiqueta] </td><td>  - </td><td>  Agrega o elimina (si corresponde) una etiqueta al usuario en la lista de suscripciones / ignorar </td></tr><tr><td>  post / api / upload / (bienes | usuarios) </td><td>  multiparte (nombre, archivo) </td><td>  Sube anuncios fotogr√°ficos / avatar de usuario </td></tr></tbody></table><br><p>  * - campos obligatorios <br>  api - requiere autorizaci√≥n, pub - no </p><br><p>  Con una solicitud de obtenci√≥n que no coincide con lo anterior, el servidor busca un archivo en el directorio para la est√°tica (por ejemplo, / img / * - images, /index.html - el cliente). <br>  Cualquier punto API devolver√° un c√≥digo de respuesta 200 si tiene √©xito, 400 o 404 por un error, y un mensaje corto si es necesario. <br>  Los derechos de acceso son simples: la creaci√≥n de una entrada est√° disponible para un usuario autorizado, la edici√≥n para el autor y moderador, el administrador puede editar y nombrar moderadores. <br>  La API est√° equipada con el antivand√°lico m√°s simple: las acciones se registran junto con la identificaci√≥n de usuario y la IP, y, en el caso de acceso frecuente, se devuelve un error pidi√©ndole que espere un poco (√∫til contra la suposici√≥n de contrase√±a). </p><br><h2 id="klient">  Cliente </h2><br><p>  Me gusta el concepto de web'a reactiva, creo que la mayor√≠a de los sitios / aplicaciones modernos deber√≠an hacerse dentro de este concepto o completamente est√°ticos.  Por otro lado, un sitio simple con megabytes de c√≥digo JS no puede sino deprimirse.  En mi opini√≥n, este (y no solo) problema puede ser resuelto por Svelte.  Este marco (o m√°s bien el lenguaje para construir interfaces reactivas) no es inferior a Vue en la funcionalidad necesaria, pero tiene una ventaja innegable: los componentes se compilan en vanilla JS, lo que reduce tanto el tama√±o del paquete como la carga en la m√°quina virtual (bundle.min.js.gz nuestro mercado de pulgas es modesto, seg√∫n los est√°ndares actuales, 24 KB).  Los detalles se pueden encontrar en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> oficial. </p><br><p>  Elegimos el mercado de pulgas SvelteJS para el lado del cliente del mercado de pulgas, ¬°le deseamos todo lo mejor a Rich Harris y el desarrollo del proyecto! </p><br><p>  PD: no quiero ofender a nadie.  Estoy seguro de que cada especialista y cada proyecto tienen sus propias herramientas. </p><br><h3 id="klient--dannye">  Cliente / Datos </h3><br><h4 id="url">  URL </h4><br><p>  Usamos para la navegaci√≥n.  No simularemos un documento de varias p√°ginas; en su lugar, usamos p√°ginas hash con par√°metros de consulta.  Para las transiciones, puede usar el &lt;a&gt; habitual sin js. </p><br><p>  Las secciones corresponden a los tipos de datos: <u>/ # bienes</u> , <u>/ # publicaciones</u> , <u>/ # usuarios</u> . <br>  Par√°metros <u>:? Id =</u> <em>record_id,?</em> <u>P√°gina =</u> <em>page_number,?</em> <u>Search =</u> <em>search_query</em> . </p><br><p>  Algunos ejemplos </p><br><ul><li>  <u>/ # posts? id = 1542309643 &amp; page = 999 &amp; search = {auth: anon}</u> - secci√≥n de <em>publicaciones</em> , id de publicaci√≥n - <em>1542309643</em> , p√°gina de comentarios - <em>999</em> , consulta de b√∫squeda - <em>{auth: anon}</em> </li><li>  <u>/ # goods? page = 2 &amp; search = siddhartha</u> - secci√≥n <em>bienes</em> , secci√≥n p√°gina - <em>2</em> , consulta de b√∫squeda - <em>siddhartha</em> </li><li>  <u>/ # goods? search = wer {key: value} t</u> - <em>bienes de</em> secci√≥n, consulta de b√∫squeda - consiste en buscar la subcadena <em>wert</em> en el encabezado o texto del anuncio y el <em>valor de</em> la subcadena en la propiedad <em>clave</em> de la parte tabular del anuncio </li><li>  <u>/ # goods? search = {model: 100, display: 256}</u> - Creo que todo est√° claro aqu√≠ por analog√≠a </li></ul><br><p>  Las funciones de an√°lisis y generaci√≥n de URL en nuestra implementaci√≥n se ven as√≠: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'hashchange'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hash = location.hash.slice(<span class="hljs-number"><span class="hljs-number">1</span></span>).split(<span class="hljs-string"><span class="hljs-string">'?'</span></span>), result = {} <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!hash[<span class="hljs-number"><span class="hljs-number">1</span></span>]) hash[<span class="hljs-number"><span class="hljs-number">1</span></span>].split(<span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> { str = str.split(<span class="hljs-string"><span class="hljs-string">'='</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!str[<span class="hljs-number"><span class="hljs-number">0</span></span>] &amp;&amp; !!str[<span class="hljs-number"><span class="hljs-number">1</span></span>]) result[<span class="hljs-built_in"><span class="hljs-built_in">decodeURI</span></span>(str[<span class="hljs-number"><span class="hljs-number">0</span></span>]).toLowerCase()] = <span class="hljs-built_in"><span class="hljs-built_in">decodeURI</span></span>(str[<span class="hljs-number"><span class="hljs-number">1</span></span>]).toLowerCase() }) result.type = hash[<span class="hljs-number"><span class="hljs-number">0</span></span>] || <span class="hljs-string"><span class="hljs-string">'goods'</span></span> store.set({ <span class="hljs-attr"><span class="hljs-attr">hash</span></span>: result }) }) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">goto</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ type, id, page, search }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { hash } = store.get(), args = <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>], query = [] <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(<span class="hljs-string"><span class="hljs-string">'id'</span></span>, <span class="hljs-string"><span class="hljs-string">'page'</span></span>, <span class="hljs-string"><span class="hljs-string">'search'</span></span>).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">key</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = args[key] !== <span class="hljs-literal"><span class="hljs-literal">undefined</span></span> ? args[key] : hash[key] || <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) query.push(key + <span class="hljs-string"><span class="hljs-string">'='</span></span> + value) }) location.hash = (type || hash.type || <span class="hljs-string"><span class="hljs-string">'goods'</span></span>) + (!!query.length ? <span class="hljs-string"><span class="hljs-string">'?'</span></span> + query.join(<span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>) : <span class="hljs-string"><span class="hljs-string">''</span></span>) }</code> </pre> <br><h4 id="api">  API </h4><br><p>  Para intercambiar datos con el servidor, usaremos la API de b√∫squeda.  Para descargar registros actualizados a intervalos cortos, solicitamos a <em>/ pub / mtimes</em> , si la hora del √∫ltimo cambio para cualquier tipo difiere de la local, cargamos una lista de este tipo.  S√≠, fue posible implementar la notificaci√≥n de actualizaciones a trav√©s de SSE o WebSockets y la carga incremental, pero en este caso podemos prescindir de ella.  ¬øQu√© obtuvimos? </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GET</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fetch(location.origin + <span class="hljs-string"><span class="hljs-string">'/pub/'</span></span> + type) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">ok</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> })) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type === <span class="hljs-string"><span class="hljs-string">'mtimes'</span></span>) store.set({ <span class="hljs-attr"><span class="hljs-attr">online</span></span>: response.ok }) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response.ok ? <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> response.json() : [] } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type, mtimes, updates = {}</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> local = store.get()._mtimes, net = mtimes || <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> GET(<span class="hljs-string"><span class="hljs-string">'mtimes'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!net[type] || local[type] === net[type]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = updates[<span class="hljs-string"><span class="hljs-string">'_'</span></span> + type] = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> GET(type) local[type] = net[type]; updates._mtimes = local <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!value &amp;&amp; !!value.sort) store.set(updates) } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkUpdates</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> checkUpdates(), <span class="hljs-number"><span class="hljs-number">30000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mtimes = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> store.GET(<span class="hljs-string"><span class="hljs-string">'mtimes'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(<span class="hljs-string"><span class="hljs-string">'users'</span></span>, <span class="hljs-string"><span class="hljs-string">'goods'</span></span>, <span class="hljs-string"><span class="hljs-string">'posts'</span></span>, <span class="hljs-string"><span class="hljs-string">'cmnts'</span></span>, <span class="hljs-string"><span class="hljs-string">'files'</span></span>) .forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function"> =&gt;</span></span> checkUpdate(type, mtimes)) }</code> </pre> <br><p>  Para el filtrado y la paginaci√≥n, utilizamos las propiedades calculadas de Svelte, basadas en datos de navegaci√≥n.  La direcci√≥n de los valores calculados es: <strong>elementos</strong> (matrices de registros provenientes del servidor) =&gt; <strong>ignoredItems</strong> (registros filtrados basados ‚Äã‚Äãen la lista de ignorados del usuario actual) =&gt; <strong>scriptionsItems</strong> (filtra los registros de acuerdo con la lista de suscripciones, si este modo est√° activado) =&gt; <strong>curItem</strong> y <strong>curItems</strong> (calcula los registros actuales dependiendo de la secci√≥n) =&gt; <strong>filterItems</strong> (filtra los registros dependiendo de la consulta de b√∫squeda, si solo hay un registro - filtra los comentarios) =&gt; <strong>maxPage</strong> (calcula el n√∫mero de p√°ginas en funci√≥n de 12 registros / comentarios por p√°gina) =&gt; <strong>pagedItem</strong> (devuelve la matriz final con  publicaciones / comentarios basados ‚Äã‚Äãen el n√∫mero de p√°gina actual). </p><br><p>  Los comentarios e im√°genes ( <strong>comentarios</strong> e im√°genes) se calculan por separado, agrupados por tipo y registro de propietario. </p><br><p>  Los c√°lculos se realizan autom√°ticamente y solo cuando los datos asociados cambian, los datos intermedios est√°n constantemente en la memoria.  En este sentido, llegamos a una conclusi√≥n desagradable: para una gran cantidad de informaci√≥n y / o su actualizaci√≥n frecuente, se puede gastar una gran cantidad de recursos. </p><br><h4 id="cache">  Cach√© </h4><br><p>  De acuerdo con la decisi√≥n de crear una aplicaci√≥n fuera de l√≠nea, implementamos el almacenamiento de registros y algunos aspectos del estado en localStorage, archivos de imagen en CacheStorage.  Trabajar con localStorage es extremadamente simple, acordamos que las propiedades con el prefijo "_" se guardan y restauran autom√°ticamente al reiniciar cuando se cambian.  Entonces nuestra soluci√≥n puede verse as√≠: </p><br><pre> <code class="javascript hljs">store.on(<span class="hljs-string"><span class="hljs-string">'state'</span></span>, ({ changed, current }) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(changed).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prop</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!prop.indexOf(<span class="hljs-string"><span class="hljs-string">'_'</span></span>)) localStorage.setItem(prop, <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(current[prop])) }) }) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadState</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state = {}</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; localStorage.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prop = localStorage.key(i) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(localStorage.getItem(prop) || <span class="hljs-string"><span class="hljs-string">'null'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!value &amp;&amp; !prop.indexOf(<span class="hljs-string"><span class="hljs-string">'_'</span></span>)) state[prop] = value } store.set(state) }</code> </pre> <br><p>  Los archivos son un poco m√°s complicados.  En primer lugar, utilizaremos la lista de todos los archivos relevantes (con el tiempo de creaci√≥n) procedentes del servidor.  Al actualizar esta lista, la comparamos con los valores anteriores, colocamos los archivos nuevos en CacheStorage y eliminamos los obsoletos de all√≠: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cacheImages</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">newFiles</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oldFiles = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(localStorage.getItem(<span class="hljs-string"><span class="hljs-string">'_files'</span></span>) || <span class="hljs-string"><span class="hljs-string">'[]'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cache = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> caches.open(<span class="hljs-string"><span class="hljs-string">'comico'</span></span>) oldFiles.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">file</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!~newFiles.indexOf(file)) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [ id, type ] = file.split(<span class="hljs-string"><span class="hljs-string">':'</span></span>) cache.delete(<span class="hljs-string"><span class="hljs-string">`/img/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${type}</span></span></span><span class="hljs-string">_</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${id}</span></span></span><span class="hljs-string">_sm.jpg`</span></span>) }}) newFiles.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">file</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!~oldFiles.indexOf(file)) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [ id, type ] = file.split(<span class="hljs-string"><span class="hljs-string">':'</span></span>), src = <span class="hljs-string"><span class="hljs-string">`/img/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${type}</span></span></span><span class="hljs-string">_</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${id}</span></span></span><span class="hljs-string">_sm.jpg`</span></span> cache.add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Request(src, { <span class="hljs-attr"><span class="hljs-attr">cache</span></span>: <span class="hljs-string"><span class="hljs-string">'no-cache'</span></span> })) }}) }</code> </pre> <br><p>  Luego, debe redefinir el comportamiento de recuperaci√≥n para que el archivo se tome de CacheStorage sin conectarse al servidor.  Para hacer esto, debe usar ServiceWorker.  Al mismo tiempo, configuraremos otros archivos para que se almacenen en cach√© para que funcionen fuera de la comunicaci√≥n con el servidor: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CACHE = <span class="hljs-string"><span class="hljs-string">'comico'</span></span>, FILES = [ <span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-string"><span class="hljs-string">'/bundle.css'</span></span>, <span class="hljs-string"><span class="hljs-string">'/bundle.js'</span></span> ] self.addEventListener(<span class="hljs-string"><span class="hljs-string">'install'</span></span>, (e) =&gt; { e.waitUntil(caches.open(CACHE).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cache</span></span></span><span class="hljs-function"> =&gt;</span></span> cache.addAll(FILES)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> self.skipWaiting())) }) self.addEventListener(<span class="hljs-string"><span class="hljs-string">'fetch'</span></span>, (e) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> r = e.request <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r.method !== <span class="hljs-string"><span class="hljs-string">'GET'</span></span> || !!~r.url.indexOf(<span class="hljs-string"><span class="hljs-string">'/pub/'</span></span>) || !!~r.url.indexOf(<span class="hljs-string"><span class="hljs-string">'/api/'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!~r.url.lastIndexOf(<span class="hljs-string"><span class="hljs-string">'_sm.jpg'</span></span>) &amp;&amp; e.request.cache !== <span class="hljs-string"><span class="hljs-string">'no-cache'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> e.respondWith(fromCache(r)) e.respondWith(toCache(r)) }) <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromCache</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">request</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">await</span></span> caches.open(CACHE)).match(request) || <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Response(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, { <span class="hljs-attr"><span class="hljs-attr">status</span></span>: <span class="hljs-number"><span class="hljs-number">404</span></span> }) } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toCache</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">request</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fetch(request).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> fromCache(request)) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!response &amp;&amp; response.ok) (<span class="hljs-keyword"><span class="hljs-keyword">await</span></span> caches.open(CACHE)).put(request, response.clone()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response }</code> </pre> <br><p>  Parece un poco torpe, pero realiza sus funciones. </p><br><h3 id="klient--interfeys">  Cliente / interfaz </h3><br><p>  Estructura componente <br>  index.html |  main.js <br>  == <u>header.html</u> : contiene un logotipo, barra de estado, men√∫ principal, men√∫ de navegaci√≥n inferior, formulario de <u>env√≠o de</u> comentarios <br>  == <u>aside.html</u> - es un contenedor para todos los componentes modales <br>  <u>==== goodForm.html</u> - formulario para agregar y editar un anuncio <br>  <u>==== userForm.html</u> - edita el formulario del usuario actual <br>  ====== <u>tableForm.html</u> : un fragmento del formulario para ingresar datos tabulares <br>  <u>==== postForm.html</u> - formulario para publicaci√≥n en el foro <br>  <u>==== login.html</u> - <u>formulario de</u> inicio de sesi√≥n / registro <br>  ==== <u>activity.html</u> : muestra los comentarios dirigidos al usuario actual <br>  <u>==== goodImage.html</u> : vea los anuncios fotogr√°ficos principales y adicionales <br>  == <u>main.html</u> - contenedor para el contenido principal <br>  <u>==== mercanc√≠as.html</u> - lista o tarjetas de anuncio individuales <br>  <u>==== users.html</u> : lo mismo para los usuarios <br>  <u>==== posts.html</u> - Creo que est√° claro <br>  <u>==== cmnts.html</u> - lista de comentarios en la <u>publicaci√≥n</u> actual <br>  ====== <u>cmntsPager.html</u> - paginaci√≥n para comentarios </p><br><ul><li>  En cada componente, tratamos de minimizar la cantidad de etiquetas html. </li><li>  Usamos clases solo como un indicador de estado. </li><li>  Tomamos funciones similares a la tienda (las propiedades y m√©todos de la tienda esbelta se pueden usar directamente desde los componentes agregando el prefijo '$'). </li><li>  La mayor√≠a de las funciones esperan un evento de usuario o un cambio de ciertas propiedades, manipulan los datos del estado, guardan el resultado de su trabajo en el estado y finalizan.  Por lo tanto, se logra una peque√±a coherencia y extensibilidad del c√≥digo. </li><li>  Para la velocidad aparente de las transiciones y otros eventos de IU, separamos, en la medida de lo posible, las manipulaciones con datos que se producen en segundo plano y las acciones asociadas con la interfaz, que a su vez utiliza el resultado del c√°lculo actual, reconstruyendo si es necesario, el resto se realizar√° amablemente por el marco. </li><li>  Los datos del formulario a rellenar se almacenan en localStorage para cada entrada con el fin de evitar su p√©rdida. </li><li>  En todos los componentes, utilizamos el modo inmutable en el que el objeto de propiedad se considera cambiado solo cuando se recibe un nuevo enlace, independientemente del cambio en los campos, lo que acelera un poco nuestras aplicaciones, aunque debido a un peque√±o aumento en la cantidad de c√≥digo. </li></ul><br><h3 id="klient--upravlenie">  Cliente / Gerencia </h3><br><p>  Para controlar el uso del teclado, utilizamos las siguientes combinaciones: <br>  <strong>Alt + s</strong> / <strong>Alt + a</strong> : cambia la p√°gina de registros hacia adelante / hacia atr√°s, ya que un registro cambia la p√°gina de comentarios. <br>  <strong>Alt + w</strong> / <strong>Alt + q</strong> : se mueve al registro siguiente / anterior (si lo hay), funciona en modo de lista, registro √∫nico y vista de imagen <br>  <strong>Alt + x</strong> / <strong>Alt + z</strong> : desplaza la p√°gina hacia abajo / arriba.  En la vista de imagen, alterna las im√°genes hacia adelante / atr√°s <br>  <strong>Escape</strong> : cierra la ventana modal, si est√° abierta, vuelve a la lista, si hay una sola entrada abierta, cancela la consulta de b√∫squeda en modo de lista <br>  <strong>Alt + c</strong> : se centra en el campo de b√∫squeda o comentario, seg√∫n el modo actual <br>  <strong>Alt + v</strong> : activar / desactivar el modo de visualizaci√≥n de fotos para un solo anuncio <br>  <strong>Alt + r</strong> : abre / cierra la lista de comentarios entrantes para un usuario autorizado <br>  <strong>Alt + t</strong> : alterna los temas claros / oscuros <br>  <strong>Alt + g</strong> - Lista de anuncios <br>  <strong>Alt + u</strong> - Usuarios <br>  <strong>Alt + p</strong> - foro <br>  S√© que en muchos navegadores estas combinaciones son utilizadas por el navegador en s√≠, pero para mi Chrome no podr√≠a encontrar algo m√°s conveniente.  Estar√© encantado de sus sugerencias. </p><br><p>  Adem√°s del teclado, por supuesto, puede usar la consola del navegador.  Por ejemplo, <em>store.goBack ()</em> , <em>store.nextPage ()</em> , <em>store.prevPage ()</em> , <em>store.nextItem ()</em> , <em>store.prevItem ()</em> , <em>store.search (stringValue)</em> , <em>store.checkUpdate ('mercanc√≠as' || ' usuarios '||' publicaciones '||' archivos '||' cmnts ')</em> - hagan lo que el nombre implica;  <em>store.get (). comments</em> y <em>store.get () ._ images</em> : devuelve archivos agrupados y comentarios;  <em>store.get (). ignoredItems</em> y <em>store.get (). sitatedItems</em> son listas de registros que ignora y rastrea.  Una lista completa de todos los datos intermedios y calculados est√° disponible en <em>store.get ()</em> .  No creo que nadie pueda necesitar esto seriamente, pero, por ejemplo, filtrar registros por usuario y eliminarlos me pareci√≥ bastante conveniente desde la consola. </p><br><h2 id="zaklyuchenie">  Conclusi√≥n </h2><br><p>  Aqu√≠ es donde puede finalizar su conocimiento del proyecto; puede encontrar m√°s detalles en el c√≥digo fuente.  Como resultado, obtuvimos una aplicaci√≥n bastante r√°pida y compacta, en la mayor√≠a de los verificadores de validadores, seguridad, velocidad, disponibilidad, etc., muestra buenos resultados sin una optimizaci√≥n espec√≠fica. <br>  Me gustar√≠a saber la opini√≥n de la comunidad sobre cu√°n justificados est√°n los enfoques para organizar las aplicaciones utilizadas en el prototipo, qu√© dificultades podr√≠an ser, qu√© implementar√≠a de una manera fundamentalmente diferente <br>  C√≥digo fuente, instrucciones de instalaci√≥n de muestra y demostraci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> (por favor <del>  destrozar </del>  probar en el marco del C√≥digo Penal). </p><br><p>  Postdata  Un poco mercantil en conclusi√≥n.  Dime, con tal nivel, ¬øes realmente posible comenzar a programar por dinero?  Si no, qu√© buscar primero, si es as√≠, d√≠game d√≥nde est√°n buscando trabajo interesante en una pila similar ahora.  Gracias </p><br><p>  Postdata  Un poco m√°s sobre dinero y trabajo.  ¬øQu√© le parece esta idea? Suponga que una persona est√° lista para trabajar en un proyecto interesante para √©l por cualquier salario, sin embargo, los datos sobre las tareas y su pago estar√°n disponibles p√∫blicamente (la accesibilidad y un c√≥digo para evaluar la calidad del desempe√±o son deseables), si el pago est√° significativamente por debajo del mercado, los competidores del empleador pueden ofrecer una gran cantidad de dinero para el desempe√±o de sus tareas, si son m√°s altas; muchos artistas podr√°n ofrecer sus servicios a un precio m√°s bajo.  ¬øTal esquema en algunas situaciones equilibrar√≠a el mercado (TI) de manera m√°s √≥ptima y justa? </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es435908/">https://habr.com/ru/post/es435908/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es435898/index.html">En qu√© pensar en una entrevista NALSD</a></li>
<li><a href="../es435900/index.html">Encapsularlo</a></li>
<li><a href="../es435902/index.html">No puede simplemente tomar y escribir SELECCIONAR si el proveedor no lo permite ... pero nosotros escribiremos</a></li>
<li><a href="../es435904/index.html">AI tradujo la actividad cerebral al habla</a></li>
<li><a href="../es435906/index.html">Marcapasos Cluster Storage + DRBD (Dual primario) + ctdb</a></li>
<li><a href="../es435910/index.html">¬øPor qu√© BSD perdi√≥ la batalla con GNU / Linux?</a></li>
<li><a href="../es435912/index.html">Los principales problemas del desarrollo de interfaces modernas.</a></li>
<li><a href="../es435914/index.html">Empaquetado de aplicaciones principales de ASP.NET con Docker</a></li>
<li><a href="../es435916/index.html">Hackear VK, la autenticaci√≥n de dos factores no guardar√°</a></li>
<li><a href="../es435920/index.html">Developer Cookbook: DDD Recipes (Part 4, Structures)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>