<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçÖ ü§õüèæ üîñ ¬øC√≥mo ahorrar hasta medio mill√≥n de d√≥lares en AWS? üë©üèΩ‚Äçüíª üë©üèø‚Äçü§ù‚Äçüë©üèº ‚ÜòÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! Le presento la traducci√≥n del art√≠culo ‚Äú¬øC√≥mo reducir sus costos de AWS? ¬°Ahorre hasta $ 500k con estas pautas! ‚Äù autor George Batschinski....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øC√≥mo ahorrar hasta medio mill√≥n de d√≥lares en AWS?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467843/"> Hola Habr!  Le presento la traducci√≥n del art√≠culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚Äú¬øC√≥mo reducir sus costos de AWS?</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">¬°Ahorre hasta $ 500k con estas pautas! ‚Äù</a>  autor George Batschinski. <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/0.png" alt="imagen"><br><br>  En este art√≠culo, detallaremos c√≥mo Back4App redujo sus gastos de AWS de $ 55,492 por mes a $ 20,074 por mes y ahorr√≥ $ 500,000 por a√±o.  Describiremos pasos pr√°cticos basados ‚Äã‚Äãen nuestra propia experiencia de reducci√≥n de costos en AWS y compartiremos consejos que tambi√©n nos fueron √∫tiles. <br><a name="habracut"></a><br>  AWS contin√∫a innovando y dominando el mercado de la nube.  Ha crecido tanto que se ha convertido en una parte clave de la estrategia de Amazon.  Estoy entusiasmado con AWS, pero las dudas sobre la complejidad y el costo de la nube me han llevado a optimizar el uso de la nube.  A pesar de que AWS ofrece una lista cada vez mayor de servicios especializados para diversos tipos de desarrollo, esta no siempre es la forma m√°s directa, r√°pida o asequible.  Idealmente, tan pronto como vaya a la nube, debe pensar de inmediato en la arquitectura para reducir los costos.  Este material ayudar√° a acelerar la optimizaci√≥n de costos y contiene casos de la vida real que encontramos durante nuestra aventura de reducci√≥n de costos. <br><br>  Una breve descripci√≥n de lo que encontrar√° en este art√≠culo: <br><br><ul><li>  <b>Solicite pr√©stamos de AWS y obtenga hasta $ 100,000;</b> </li><li>  <b>Transfiera la transferencia de datos a Cloud Front y ahorre hasta un 75%;</b> </li><li>  <b>Use IP privada (no IP el√°stica) y deje de pagar por la transferencia de datos entre zonas de acceso;</b> </li><li>  <b>Ahorre hasta un 90% con instancias puntuales;</b> </li><li>  <b>Ahorre hasta un 75% comprando instancias reservadas en AWS Marketplace;</b> </li><li>  <b>Obtenga nodos reservados de Elastic Cache y ahorre hasta 77%;</b> </li><li>  <b>Reserve sus datos en S3, pero no en EBS y ahorre hasta un 75%;</b> </li><li>  <b>Configurar el autoescalado para recursos inactivos;</b> </li><li>  <b>Elija la regi√≥n de Virginia del Norte y al√©jese de Sao Paulo;</b> </li><li>  <b>Actualice a nuevas generaciones de instancias y ahorre hasta un 20%;</b> </li><li>  <b>Localice el punto final S3 en su VPC y habilite la red mejorada en EC2.</b> </li></ul><br>  As√≠ es como se ve√≠a nuestra cuenta de AWS en enero de 2019. El costo total de la nube es de $ 55,492. <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/1.png" alt="imagen"><br><br>  As√≠ es como se ve√≠a nuestra cuenta de AWS en mayo de 2019. El costo total fue de $ 20,074. <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/2.png" alt="imagen"><br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/3.png" alt="imagen"><br><br><h2>  1. Pr√©stamos de AWS </h2><br>  Primero de todo!  Antes de comenzar a hacer cualquier cosa, aseg√∫rese de que su empresa sea elegible para pr√©stamos de AWS.  As√≠ es como puede obtener estos pr√©stamos: <br><br><h3>  Solicite pr√©stamos a AWS </h3><br>  ¬°As√≠ fue en nuestro caso!  En 2016, nuestra empresa creci√≥ bastante r√°pido.  Nuestra factura de AWS comenz√≥ a aumentar y no ten√≠amos ni idea ni tiempo para optimizar el uso de AWS.  Como no ten√≠amos fondos, nos dimos cuenta de que recibir√≠amos pr√©stamos de AWS o desaparecer√≠amos.  Preparamos nuestro caso para nuestra cuenta de gerentes en AWS, demostrando cu√°n r√°pido estamos creciendo y las ventajas para AWS en apoyarnos en nuestro sitio.  Le mostramos que no ten√≠amos fondos y que nos ver√≠amos obligados a ir a Google Cloud (nos ofrecieron $ 100,000 en pr√©stamos para la migraci√≥n a AWS) si no recib√≠amos pr√©stamos de AWS.  La respuesta tard√≥ aproximadamente una semana y AWS nos proporcion√≥ $ 100,000 para su uso durante 12 meses.  ¬°Tambi√©n fue un buen negocio para AWS!  Desde que vencieron los pr√©stamos, hemos gastado m√°s de $ 750,000 con AWS. <br><br><h3>  Cr√©ditos para probar y lanzar Prueba de concepto </h3><br>  Si tiene la intenci√≥n de probar un nuevo servicio de AWS o el tipo de instancia, solicite pr√©stamos a su gerente de cuenta.  La cantidad de pr√©stamos depender√° de sus costos mensuales y del esfuerzo general para lanzar POC.  Estos pr√©stamos generalmente solo son v√°lidos por tres meses y debe asegurarse de la velocidad del POC.  En nuestro caso, pudimos obtener $ 3,000 en pr√©stamos para probar la familia de instancias i3. <br><br><h3>  Cr√©ditos de inicio </h3><br>  Si fund√≥ su empresa o lanz√≥ una startup, esta es una excelente manera de avanzar.  La cantidad de pr√©stamos var√≠a de $ 1,000 a $ 100,000, dependiendo de c√≥mo presente su caso de AWS.  Hay varias formas de obtener estos pr√©stamos. <br><br><h4>  Aceleradores </h4><br>  Una de las principales ventajas de Startup Accelerators en los bonos que proporcionan.  Uno de estos bonos son los pr√©stamos de proveedores de la nube.  La cantidad que puede recibir depender√° del acelerador en el que est√© representado.  Algunos de los mejores, por ejemplo, YC, Alchemist, Wayra y 500 Startups le ofrecer√°n $ 100,000 en pr√©stamos de AWS.  En nuestro caso, fuimos aceptados por Alchemist Accelerator y emitimos $ 100,000 en pr√©stamos.  Desafortunadamente, no pudimos usar estos pr√©stamos, ya que antes de eso ya hab√≠amos aprovechado otros pr√©stamos.  Por ejemplo, si acepta dos aceleradores por $ 100,000 cada uno, no podr√° usar $ 200,000, solo $ 100,000. <br><br><h4>  Fondos de riesgo y grupos de √°ngeles </h4><br>  Algunos grupos WF / Angel proporcionan pr√©stamos como parte del programa de bonificaci√≥n.  En nuestro caso, logramos obtener $ 10,000 de pr√©stamos de marketing, v√°lidos por dos a√±os de uno de nuestros inversores.  Desafortunadamente, no pudimos usarlos.  Las compa√±√≠as no pueden usar Cr√©ditos Promocionales de AWS si previamente han recibido una cantidad igual o mayor de pr√©stamos. <br><br><h4>  Todos los proveedores l√≠deres de la nube otorgan pr√©stamos para nuevas empresas </h4><br>  Todos los actores l√≠deres en el mercado de la nube ofrecen pr√©stamos a nuevas empresas.  Con AWS / Google, los pr√©stamos pueden ascender a $ 100,000.  En Azure, puede obtener $ 360,000 por tres a√±os. <br><br><h2>  2. Implemente ahorros de costos en AWS </h2><br>  La parte f√°cil ha terminado, ¬°y ahora vamos a los desaf√≠os!  No hay una p√≠ldora m√°gica para reducir costos en AWS, ¬°debe trabajar duro y seguir un procedimiento regular para controlar los costos!  ¬°Reducir los costos en la nube deber√≠a ser su rutina diaria!  ¬°Imagina cu√°nto ahorras en 365 d√≠as!  La cantidad de tiempo que invierte depende del tama√±o de su organizaci√≥n y sus costos de AWS.  Paso unos 30 minutos al d√≠a monitoreando mi cuenta y priorizando acciones de reducci√≥n de costos.  Adem√°s, los ingenieros de Back4App pasan al menos 1 hora por d√≠a en iniciativas de reducci√≥n de costos. <br><br>  La primera iniciativa que completamos: crear una hoja de trabajo simple en Excel para priorizar las iniciativas de reducci√≥n de costos. <br><br>  Los criterios principales por los cuales determinamos los ahorros: <br><br><ul><li>  Potencial de ahorro: mayores ganancias de ahorro </li><li>  Dificultad: ¬øQu√© tan dif√≠cil es aplicar el esfuerzo y el trabajo requerido? </li><li>  Propietario: qui√©n realizar√° la acci√≥n </li></ul><br>  En nuestro caso, los mayores ahorros son el uso de Elastic Compute Cloud (EC2), y este fue el primer tema que comenzamos a entender. <br><br><h2>  3. EC2 - Elastic Compute Cloud </h2><br><h3>  Desactivar instancias no utilizadas </h3><br>  El primer punto que se debe tomar para reducir los costos en EC2 es desactivar las instancias no utilizadas.  No hay nada complicado, y la mayor parte del trabajo es bastante sencillo.  Todo lo que necesita hacer es hacer una lista de todas las instancias, cargar el archivo de Excel del ejemplo y definir cada una.  En nuestro caso, dividimos nuestras instancias en 3 categor√≠as principales: <br><br><ul><li>  Instancias que deben funcionar continuamente </li><li>  Instancias que se pueden detener </li><li>  Instancias que se pueden eliminar </li></ul><br>  <b>No pare, pero elimine instancias</b> <br><br>  ¬°Elimine instancias no utilizadas cuando sea posible!  ¬°Si solo los detiene, continuar√° pagando por usar EBS! <br><br><h3>  Reduce el exceso de recursos </h3><br>  Esta acci√≥n es un poco m√°s complicada, y es absolutamente necesario seleccionar correctamente el tama√±o de la instancia.  Aseg√∫rese de evaluar al menos una semana de datos para aumentar la probabilidad de un cambio de instancia correcto.  El enfoque mediante el cual controlamos este proceso fue dividir las instancias en 3 categor√≠as principales: <br><br><ul><li>  Tama√±o correcto </li><li>  Reducir tama√±o de instancia </li><li>  Aumentar tama√±o de instancia </li></ul><br>  La forma de verificar los datos hist√≥ricos de una instancia es extremadamente simple.  En el panel de control de AWS, vaya a Servicios&gt; EC2&gt; Instancias&gt; Instancias en ejecuci√≥n, seleccione Instancia&gt; Monitoreo.  Por ejemplo, puede verificar la m√©trica de utilizaci√≥n de la CPU. <br><br>  <b>Reduzca el tama√±o de la instancia secuencialmente</b> <br><br>  Reduzca el tama√±o de su instancia paso a paso.  Por ejemplo, no reduzca el tama√±o de t2.xlarge a t2.medium.  En primer lugar, reduzca de t2.2xlarge a t2.xlarge.  Mire una semana, verifique cu√°ntos recursos se utilizan y repita los pasos en una nueva.  Al realizar estos pasos, minimizar√° las posibilidades de errores o tiempo de inactividad. <br><br><h3>  Usar instancias reservadas </h3><br>  Reservar instancias puede aumentar sus ahorros hasta en un 70%.  Tenga en cuenta que cuando reserva una instancia, paga 24/7 por la duraci√≥n de la reserva.  Pagar√° independientemente de si usa la instancia o no. <br><br>  Hay dos tipos de capacidades redundantes: <br><br>  Est√°ndar: que puede vender en AWS Marketplace, no puede convertir a otro tipo de instancia, m√°s barato que las instancias convertibles. <br><br>  Convertible: no podr√° venderlo en AWS Marketplace, pero puede convertirlo en una instancia de un tipo diferente, m√°s costoso que las instancias est√°ndar. <br><br>  <b>Las instancias convertibles pueden ser confusas</b> <br><br>  ¬°Las instancias convertibles son muy dif√≠ciles!  Cada vez que convierte instancias, solo puede aumentar el tama√±o de la instancia.  Considere la siguiente situaci√≥n: <br><br>  Adquiere t3.medium, una instancia convertible reservada. <br>  Decide convertir t3.medium a la instancia m5.large. <br><br>  ¬°Ciertamente tendr√°s √©xito!  Despu√©s de usar la instancia m5.large durante alg√∫n tiempo, querr√° volver a t3.medium. <br><br>  <b>¬°Y esto ya es imposible!</b> <br><br>  No podr√° reducir el consumo de la instancia convertible, sino solo aumentar la cantidad que paga por ella.  Por lo tanto, aseg√∫rese de comenzar con una peque√±a instancia reservada y aumentarla con el tiempo.  No comience con una instancia grande, porque no puede reducir su consumo o venderlo en AWS Marketplace'e.  <b>Si comete un error con una instancia reservada convertible, est√° suscrito a un pago mensual de 12 o 36 meses.</b>  En Back4App, siempre obtenemos primero t2.nano y lo aumentamos seg√∫n sea necesario. <br><br>  Prefiero instancias reservadas est√°ndar sobre convertibles por las siguientes razones: <br><br><ul><li>  Son mas baratos </li><li>  Tienen mayor liquidez: se pueden vender en AWS Marketplace en cualquier momento. </li><li>  Se pueden comprar en AWS Marketplace con un descuento. </li></ul><br><h3>  Use AWS Marketplace para instancias reservadas </h3><br>  Las instancias reservadas son geniales, ¬°pero comprar instancias reservadas en AWS Marketplace es a√∫n mejor! <br><br><h3>  AWS Marketplace puede ser mucho m√°s barato </h3><br>  ¬°AWS Marketplace parece un mercado de valores!  A veces puede comprar una instancia reservada est√°ndar con un precio mucho m√°s asequible que comprar directamente de AWS.  El motivo es simple;  Las empresas a veces poseen instancias redundantes que ya no est√°n en uso, pero contin√∫an pagando por ellas.  Bajar el precio del alojamiento acelera el proceso de compra. <br><br>  Aqu√≠ dar√© un ejemplo de lo que sucedi√≥ con Back4App.  Estaba buscando 4 r4.grandes instancias reservadas.  Logr√© encontrar instancias en AWS Marketplace con una tasa efectiva de 75% m√°s barata en comparaci√≥n con los precios a pedido.  AWS vendi√≥ el mismo tipo de instancias reservadas, pero con un 62% de descuento. <br><br><h3>  AWS Marketplace tiene condiciones de compra flexibles </h3><br>  Otra ventaja de AWS Marketplace es que puede comprar instancias con un per√≠odo de uso flexible.  AWS proporciona solo opciones durante 12 y 36 meses para la compra de instancias reservadas.  ¬°AWS Marketplace es mucho m√°s flexible!  Puede comprar, por ejemplo, instancias reservadas durante 15 meses por el mismo precio que durante 36 meses.  Algunas compa√±√≠as prefieren obligaciones a largo plazo (36 meses) y, antes de que expire la obligaci√≥n, las venden en AWS Marketplace.  El nuevo cliente solo usar√° la instancia durante el per√≠odo restante, por ejemplo: <br><br><ul><li>  Tiempo total de adquisici√≥n: 36 meses. </li><li>  Comprador inicial: utiliza la instancia durante 21 meses </li><li>  Segundo comprador: lo compra en el mercado y lo utiliza durante los 15 meses restantes. </li></ul><br>  La principal dificultad es encontrar las instancias correctas en AWS Marketplace.  <b>Una excelente manera de simplificar la b√∫squeda de instancias es buscarlas en varias zonas de acceso, y no solo en la que se encuentra.</b>  Una vez que adquiere una instancia, puede modificarla y asignarla a otra zona de accesibilidad, o convertirla en una instancia regional.  Esto no es nada dif√≠cil de hacer, pero siga las instrucciones a continuaci√≥n: <br><br><ul><li>  Paso 1: vaya al panel de instancias reservadas </li><li>  Paso 2: haga clic en Comprar instancias reservadas </li><li>  Paso 3: en la clase de oferta, seleccione Est√°ndar </li><li>  Paso 4: en la esquina superior derecha de la ventana emergente, seleccione "Mostrar solo las ofertas que reservan capacidad" </li><li>  Paso 5 - Haz clic en Buscar </li><li>  Paso 6: obtenga una instancia de la zona de disponibilidad 1b </li><li>  Paso 7: espere a que la instancia se active </li><li>  Paso 8: seleccione la instancia que se compr√≥ </li><li>  Paso 9 - Haz clic en el bot√≥n Acciones </li><li>  Paso 10: haga clic en Modificar instancias reservadas </li><li>  Paso 11 - Alcance - Cambiar zona o regi√≥n de disponibilidad </li><li>  Paso 12 - Haz clic en Continuar </li><li>  Paso 13 - Haz clic en Enviar modificaciones </li></ul><br>  Seguir estos pasos le permitir√° comprar instancias reservadas est√°ndar en cualquier zona de disponibilidad y modificarla para su zona de disponibilidad. <br><br><h3>  AWS Marketplace para empresas fuera de los EE. UU. </h3><br>  Aclaraciones importantes para usuarios fuera de la jurisdicci√≥n de los EE. UU.  No puede vender instancias reservadas est√°ndar en el mercado a menos que tenga una entidad legal estatal.  Si su empresa encuentra fuera de los Estados Unidos, podr√° comprar instancias en Marketplace, pero no podr√° venderlas. <br><br><h3>  Usar instancias puntuales </h3><br>  ¬°Me encantan las instancias de spot!  Puede ahorrar hasta un 90% al usarlos, ¬°y no requerir√° grandes inversiones!  El √∫nico inconveniente de las instancias Spot es que AWS puede eliminar estas instancias en muy poco tiempo o despu√©s de una advertencia de dos minutos.  A este respecto, este tipo de instancias solo se puede usar para cargas tolerantes a fallas o cargas flexibles. <br><br>  <b>Use SpotInst para ejecutar instancias de spot</b> <br><br>  Una forma segura de ejecutar instancias de Spot y minimizar el riesgo de tiempo de inactividad es utilizar la plataforma SpotInst.  Este servicio se conecta a su cuenta de AWS y administra la distribuci√≥n de instancias de Spot.  Si la instancia est√° desactivada, el servicio la reemplazar√° con On Demand y evitar√° el tiempo de inactividad.  Las tarifas tambi√©n son bastante interesantes, cobran el 20% de lo que se ahorr√≥ (entre la diferencia en el precio de On-demand y Spot). <br><br>  Un gran escenario para las instancias de Spot es usar una copia de servidores para bases de datos o para extensiones de aplicaciones flexibles.  Use SpotInst para controlar la asignaci√≥n de instancias de Spot, y lo m√°s probable es que nunca encuentre el tiempo de inactividad asociado con el uso de esta clase de instancias. <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/4.png" alt="imagen"><br><br><h3>  Escalado autom√°tico (recursos inactivos, automatizaci√≥n de iniciar / detener instancias EC2) </h3><br>  AWS Auto Scaling supervisa sus aplicaciones y ajusta autom√°ticamente la potencia para mantener una potencia estable y predecible al menor costo.  Puede configurar el escalado autom√°tico para iniciar y detener autom√°ticamente las instancias de EC2.  El escalado autom√°tico tiene en cuenta las m√©tricas de recursos, como CPU, solicitudes de API y tiempos de activaci√≥n / desactivaci√≥n. <br><br>  Para minimizar los costos, debe usar el escalado autom√°tico + instancias puntuales + instancias reservadas.  Veamos la situaci√≥n real que encontramos en Back4App.  Las cargas de trabajo cambian a lo largo del d√≠a.  La cantidad de solicitudes que recibimos no es uniforme y tiene cargas de uso pico en ciertas horas.  Para resolver este problema, asignamos instancias reservadas para el l√≠mite de consumo m√≠nimo y escalamos con instancias puntuales.  La siguiente figura lo ayuda a comprender la configuraci√≥n.  Esto es cu√°nto puede ahorrar: <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/5.png" alt="imagen"><br><br><ul><li>  Instancias reservadas: en Back4App, utilizamos una combinaci√≥n de 12/36 instancias reservadas est√°ndar mensuales.  Nuestros ahorros medios son del 50% en comparaci√≥n con los precios a pedido. </li><li>  Escalado autom√°tico: iniciamos / detenemos instancias en funci√≥n del n√∫mero total de solicitudes de API que recibe cada instancia.  Tenemos tres per√≠odos pico durante el d√≠a, y el ahorro en comparaci√≥n con los recursos inactivos que funcionar√≠an las 24 horas con la carga m√°xima es aproximadamente del 75%. </li><li>  Instancias puntuales: tenemos una combinaci√≥n de dos familias de instancias que funcionan en Spotinst para obtener el m√°ximo tiempo de actividad.  Nuestros ahorros son del 55% en comparaci√≥n con los precios a pedido.  Este es nuestro ahorro, teniendo en cuenta el monto total que pagamos a SpotInst.  El uso de instancias puntuales directamente desde AWS podr√≠a ahorrarnos aproximadamente un 70%, pero aumentar√≠a los riesgos.  Nos gusta jugar con moderaci√≥n y decidimos devolver algunos de nuestros ahorros a SpotInst. </li></ul><br>  <b>Ajustar escala</b> <br><br>  Personaliza tu escala vertical y horizontal (Cloudformation) <br><br><h3>  Elija la regi√≥n de AWS correcta para guardar </h3><br><ul><li>  Los precios var√≠an entre regiones!  Elija el equivocado y pagar√° de m√°s. </li><li>  Las regiones m√°s baratas son Virginia del Norte, Ohio y Oreg√≥n. </li></ul><br>  Los m√°s caros: Sao Paulo, Sydney y Hong Kong. <br>  Considere el siguiente ejemplo: <br><br><ul><li>  4 x instancias t3.medium </li><li>  EBS de 30 Gb dedicados a cada instancia </li><li>  1 Tb de tr√°fico total </li></ul><br>  La misma configuraci√≥n ser√° un 102% m√°s cara en Sao Paulo en comparaci√≥n con Virginia del Norte. <br><br><ul><li>  $ 221.65 / mes en Virginia del Norte </li><li>  $ 449.05 / mes en Sao Paulo </li></ul><br>  La centralizaci√≥n de las operaciones en una regi√≥n tambi√©n tiene sus ventajas. <br><br><ul><li>  Es mucho m√°s f√°cil controlar la asignaci√≥n de instancias reservadas. </li><li>  No se aplicar√°n cargos de tr√°fico entre regiones. </li></ul><br>  En Back4App, no pudimos centralizar todas las operaciones en North Virginia debido a nuestra cobertura comercial y los requisitos del cliente.  Decidimos crear un cl√∫ster en EE. UU., Europa y Asia.  Centralizamos nuestras operaciones en estos grupos y expandimos cada regi√≥n lo m√°s posible. <br><br><h3>  Actualizar generaciones anteriores de recursos </h3><br>  AWS ocasionalmente lanza nuevos tipos de instancias.  Las nuevas generaciones son m√°s poderosas y m√°s baratas. <br><br>  <b>La vieja generaci√≥n de instancias</b> <br><br>  C4.grande <br><br>  2 n√∫cleos <br><br>  3.75 GB de memoria <br><br>  $ 0.100 / hora <br><br>  <b>La nueva generaci√≥n de instancias.</b> <br><br>  C5.grande <br><br>  2 n√∫cleos <br><br>  Memoria de 4 gb <br><br>  $ 0.085 / hora <br><br>  ¬°La nueva generaci√≥n es un 15% m√°s barata y un 6% m√°s potente! <br><br>  <b>Permitir red mejorada</b> <br><br>  ¬°Habilite la red mejorada para un mejor rendimiento de instancia! <br><br><h2>  4. EBS - Elastic Block Store </h2><br>  EBS proporciona vol√∫menes de almacenamiento seguros para usar con instancias EC2 en la nube de AWS.   EBS    ,      ,     .        ,    .     General Purpose SSD  Magnetic. <br><br> <b>General Purpose SSD</b> <br><br> $ 0.10/- <br><br> <b>Magnetic</b> <br><br> $ 0.05/- <br><br><h3> EBS  ‚Äì SSD x Magnetic </h3><br>        ,    . ,    Magnetic  SSD. <br><br><ul><li>  Magnetic  SSD ,   . </li><li>  SSD  ,   . </li></ul><br><h3> EBS  ‚Äì    </h3><br>  ,    EBS ‚Äì      .       . <br><br><h3>   ‚Äì      EBS </h3><br>         EBS!         !        ,  !      EC2  EBS. <br><br> AWS     EBS,     .  ,    ,  ,   EBS   . <br><br>  ,     .  ,    10  t3.small     50GB SSD EBS . <br><br>    : <br><br><ul><li> EC2   = 10 x $ 15.23 = 152.30 </li><li> EBS  : 10 x 50  = 500  </li><li>   : $ 0.10- </li><li> EBS  : $ 50.00 </li><li>  : $ 182.30 </li></ul><br>    ,  EBS    32%   EC2      .    ,   . <br><br> <b>   </b> <br><br>       (ephemeral storage).  ,        EBS,          Reserved .  , ,         (   ),   Spot    . <br><br><h3>    </h3><br>   ,    ‚Äì      . <br><br> <b> S3,    </b> <br><br> EBS    ,  S3!  ,      S3,    EBS. <b>,  ,     ,     .</b> <br><br><h2> 5.  Elastic Cache ‚Äì Reserved Nodes </h2><br>  ,    reserved   Elastic Cache.   : <br><br><ul><li> 1   ‚Äì 65%  </li><li> 3   ‚Äì 77%  </li></ul><br>     EC2 .   reserved node,   : <br><br><ul><li>   Elastic Cache ( EC2 Reserved instances) </li><li>   Reserved Nodes </li><li>     ¬´Purchase Reserved Node¬ª   </li><li>  Redis  Memcached </li><li>    </li><li>     </li><li>  Offering Type (1  3 ) </li><li>  Next </li></ul><br>     Elastic Cache   ,    EC2.          . <br><br> <b> Elastic Cache  AWS Marketplace'</b> <br><br>  ,    Marketplace  Reserved Nodes!   ,       . <br><br><h2> 6.   </h2><br>      -   !    ,     ,    .  ,     . ,    ,    ,     , S3  ,  .. <br><br>  ,  Back4App        ,    . <br><br><h3>        AWS? </h3><br>   ,       . <br><br><h3>  S3 endpoint  Cloudflare   CDN . </h3><br> CDN (Content Delivery Network    )             ,    ,    . <br><br><h3>  IP ‚Äì   IP     </h3><br>   !  AWS ,        EC2 ,       ¬´Public IP/ Elastic IP Data Transfer¬ª.       Public  Elastic IP ,  Elastic Load Balancer   ,                .       ,       (   ),    IP  ,   . <br><br><h3>     ‚Äì Availability Zone </h3><br>      ,    .       . <br><br><h3>  GraphQL API </h3><br>     GraphQL     ,  ,      .  REST    ,    ,    ; ,      .   ‚Äì  GraphQL      . <br><br><h3>      </h3><br>   ,        .          . <br><br><h3>  CloudFront! </h3><br>    ,    !              ‚Äì  .      . <br><br><h3>      ? </h3><br>          <br><br><ul><li> Cost Explorer </li><li>  </li></ul><br>  -   ,    ,   ,      . <br><br>      Cost Explorer,    My Billing Dashboard   Cost Explorer.   Spend by Service View    .      6 ,    . ,    Service     !        ,   . <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/6.png" alt="imagen"><br><br>           : <br><br><ul><li>  More Filters,    </li><li>  Usage Type Group </li><li>      </li><li>  Data Transfer ‚Äì Inter AZ </li><li>  Data Transfer ‚Äì Internet Out </li><li>  Data Transfer ‚Äì Region to Region Out </li><li>  S3 Data Transfer Out </li><li>  Apply Filters </li></ul><br>        : <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/7.png" alt="imagen"><br><br>            ,  S3  EC2.  ,              . <br><br>         billing report.   My Billing Dashboard   Bills . <br><br>     : <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/8.png" alt="imagen"><br><br>  ,     ,      EC2.   Data Transfer     . <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/9.png" alt="imagen"><br><br>  ,       ( ,   , ). <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/10.png" alt="imagen"><br><br><h2> 7. CloudFront </h2><br>  On-demand  Cloudfront     .    100 Tb .    $ 0.060 / Gb,    15%          ELB. <br><br><h3>   Cloud Front &amp;    </h3><br>        ! AWS     CloudFront     ,      CloudFront   $0.02/Gb.      ,      AWS    ,    .    ,           CloudFront Private Contract. <br><br><h3> Amazon CloudFront SSL-Cert-Custom </h3><br> ,     .   $20  ,       Cloudflare  $25  .   Private &amp; Volume Pricing,      CDN (Cloud Delivery Network) ,       . <br><br><h2> 8. S3 ‚Äì Simple Storage Service </h2><br>       S3 . <br><br><h3> S3 VPC endpoint </h3><br>   ,     ‚Äì   S3 VPC endpoint. <b> S3 endpoint   VPC (Virtual Private Cloud)      S3       ,  AWS     ,       .</b>    ,          . <br><br><h3>         </h3><br>     : <br> <b>S3 Standard</b> <br><br> $ 0.023 /  <br><br> <b>:</b> <br><br><ul><li>     </li><li>       </li><li>   ,      </li></ul><br> <b>S3 Infrequent Access</b> <br><br> $ 0.0125 /  <br><br> <b>:</b> <br><br><ul><li>    ,        </li><li>     </li><li>   ,         </li></ul><br> <b>S3 One-Zone Infrequent Access</b> <br><br> $ 0.010 /  <br><br> <b>:</b> <br><br><ul><li>    </li><li>    </li><li>       </li></ul><br> <b>S3 Glacier</b> <br><br> $ 0.004 /  <br><br> <b>:</b> <br><br><ul><li> , ,        </li><li>     </li><li>            </li></ul><br> <b>S3 Glacier Deep Archive</b> <br><br> $ 0.00099 /  <br><br> <b>:</b> <br><br><ul><li>              ,       . </li><li>     12  </li><li>     </li></ul><br> <b>  S3 API  </b> <br><br> <b> ,   ,      ,      .</b>     !   ,    Back4App.        ,    .       S3 Standard      S3 Glacier  .   !    ,  AWS  $ 0.05   1000   Glacier!   ,    ,       ! <b>     ,       S3    .</b> <br><br><h3>     S3 </h3><br>        S3       .       S3 .       . <br><br><h2> 9.       AWS </h2><br>   4   : <br><br><ul><li> Basic ‚Äì  </li><li> Developer ‚Äî $ 29 /   3%     </li><li> Business ‚Äî $ 100 /   10-3%  ,     </li><li> Enterprise ‚Äî $ 15.000   </li></ul><br>    Business    .            ,   .       Enterprise,      . ( Enterprise , ,        .) <br><br> <b>    AWS</b> <br><br>         !              .  AWS      ! ,          GDPR   !           .     ,      . <br><br><h2> 10.    </h2><br>         .              ,    .       365 ! <br><br>         .        : <br><br><ul><li>   </li><li>  ,  : </li><li>  Billing &amp; Cost Management </li><li>   </li><li> Cost Explorer ‚Äì     </li><li> Cost Explorer ‚Äì  RI </li><li> Cost Explorer ‚Äì  RI </li><li>  tag'  </li><li>  , ,    </li><li>        AWS </li><li>  CloudWatch  Trusted Advisor    </li><li>         </li></ul><br><h2> 11.   </h2><br>        .       ,      . <br>    Back4App ,      .  ,         .           . <br><br><h2> 12.  </h2><br>   ,      AWS!      ,  ,   ,    . <br><br>    ,       AWS. <br><br><ul><li> <b>  EC2 </b> </li><li> <b>  </b> </li><li> <b>    CloudFront</b> </li><li> <b>    </b> </li><li> <b>    enhanced network</b> </li><li> <b>   S3</b> </li><li> <b>   AWS Marketplace &amp; Elastic Cache Nodes</b> </li><li> <b>   Spot, Reserved  On-Demand </b> </li><li> <b> autoscaling</b> </li><li> <b>  S3 Standard,   Glacier</b> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/467843/">https://habr.com/ru/post/467843/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../467825/index.html">Algoritmos de aprendizaje autom√°tico imprescindibles</a></li>
<li><a href="../467827/index.html">C√≥mo hicimos nuestra peque√±a Unidad desde cero</a></li>
<li><a href="../467831/index.html">El camino espinoso a la programaci√≥n</a></li>
<li><a href="../467837/index.html">MCU de tres centavos "terrible": una breve descripci√≥n de los microcontroladores que cuestan menos de $ 0.1</a></li>
<li><a href="../467841/index.html">Facilite terminar: Entrevista con John Romero, desarrollador de Doom</a></li>
<li><a href="../467847/index.html">La ‚Äúevoluci√≥n omnicanal de IoT‚Äù o c√≥mo la Internet de las cosas puede afectar el omnicanal</a></li>
<li><a href="../467849/index.html">Peloton: ¬øpr√≥xima Apple u otra estafa?</a></li>
<li><a href="../467851/index.html">Verifique la calidad sin salir de la caja registradora</a></li>
<li><a href="../467853/index.html">Business Card Evolution: de la tarjeta a la aplicaci√≥n</a></li>
<li><a href="../467855/index.html">Nuevo 2GIS: un mapa completo de Rusia y la b√∫squeda de productos en tiendas fuera de l√≠nea</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>