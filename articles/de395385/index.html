<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💝 🤾🏽 😭 Wir verwandeln einen Fitness-Tracker in ein Sicherheitsgerät 👩🏿‍🤝‍👩🏾 🚿 ▶️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fast jeder Fitness-Tracker verfügt über einen MEMS-Beschleunigungsmesser und Bluetooth BLE. Die Idee war, die Firmware in einem solchen Gerät neu zu s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir verwandeln einen Fitness-Tracker in ein Sicherheitsgerät</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395385/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fast jeder Fitness-Tracker verfügt über einen MEMS-Beschleunigungsmesser und Bluetooth BLE. Die Idee war, die Firmware in einem solchen Gerät neu zu schreiben, um daraus etwas zu machen, das nicht weniger nützlich ist. Zum Beispiel in einem Sicherheits- und Kontrollsystem oder einem Sensor für das Internet der Dinge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In vielen Überwachungssystemen können herkömmliche Sensoren wie Schalter, Volumen- oder Bewegungssensoren durchaus durch einen Vibrationssensor ersetzt werden. Zusätzlich erkennt der Beschleunigungsmesser Neigungswinkel, was ebenfalls nützlich sein kann.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Basis war Misfit Link oder Misfit Flash. Dies ist das gleiche Gerät und unterscheidet sich nur bei Vorhandensein eines Riemens (Gurt und Clip (Flash) gegenüber nur einem Clip (Link)). Im Inneren befindet sich der beliebte NRF51822AA (MCU + BLE) von NordicSemiconductors und der ebenso berühmte MEMS-Beschleunigungsmesser LIS2DH (STMicroelectronics). Batterie - CR2032.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/a07/1d8/e9f/a071d8e9f6d3c4cb9f8457fd5a1df187.jpg" alt="Bild"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei Kenntnis der NRF51822-Pinbelegung war es überhaupt nicht schwierig, eine 2-polige SWD-Schnittstelle zu erkennen, die alte (und geschützte) zu löschen und Ihre eigene auszufüllen. Löten Sie dazu nur 2 Drähte und haben Sie einen Programmierer mit SWD-Unterstützung (zum Beispiel J-Link). In unserer neuen Firmware besteht die Möglichkeit von Updates über BLE (Over-the-Air-Dfu). So können Sie weiterhin neue Dinge tun, ohne auch nur Drähte zu löten. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/2fb/b04/aa9/2fbb04aa9bb51afe8d9ff1e3e4850337.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, die einzige Frage ist, welche Funktionalität Sie haben möchten. Ich wollte fast alles Mögliche haben. Aus diesem Grund wurde eine Firmware entwickelt - eine Android-Anwendung mit folgenden Funktionen: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Beobachten Sie die aktuelle Ausrichtung des Geräts in Form eines Diagramms oder eines 3D-Modells.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Installieren Sie einen Trigger, der durch einen Schwellenwert, Achsen und eine Logik definiert ist. Wenn der Auslöser ausgelöst wird, sendet das Gerät ein Signal an das Smartphone. Das Smartphone schaltet den Piepton ein und macht auf Wunsch ein Foto. Und das im Hintergrund und außerhalb des Bildschirms. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Modus 2 kann bei seltenen Ereignissen offline verwendet werden, wenn die einzige Informationsquelle für ein Smartphone Werbepakete (Intervall von 1 Sekunde) sind, die Informationen über Winkel, Batterieleistung und Anzahl der Datensätze codieren. Dies spart den Akku des Geräts und macht das Anzeigen der aktuellen Position sehr schnell. Ich habe gerade das Telefon und das 3D-Modell eingeschaltet und gesehen, auf welcher Seite die Katze schlief oder in welcher Position sich das Paket im Lager befand.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Der NRF51822 verfügt über 256 KB Flash-Speicher. Nachdem alle Codekomponenten platziert wurden (SoftDevice (RTOS, Teil des SDK), unser Programm und Bootloader), verbleiben mindestens 100 KB freier batterieunabhängiger Speicher. Dort schreiben wir Trigger-Trigger, wenn der Aufnahmemodus aktiviert ist. Jeder Eintrag enthält die Zeit (RTC mit Quarz 32768 an Bord), die maximale Gesamtbeschleunigung und die statische Ausrichtung des Geräts. Dann kann es als Film betrachtet, analysiert oder sogar angesehen werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde hier nicht auf technische Details </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eingehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sie können auf meiner Website </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">www.msh-tools.com/misfit eingesehen werden</font></a><font style="vertical-align: inherit;"> . (auf Englisch). Dort werden auch der Firmware- und Bootloader-Code (Keil) sowie Android Apk (Ionic Framework) veröffentlicht. Für diejenigen, die einfach nur alles haben wollen, ist dies bereits in kompilierter Form verfügbar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Video ** Schalten Sie den Ton ein! **</font></font><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://www.youtube.com/embed/XsGhyzCalJk%3Ffeature%3Doembed&amp;usg=ALkJrhiawp_XQzC4wJUynly9tvqUApK8vg" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Gerät erwies sich als sehr empfindlich. Es kann so konfiguriert werden, dass es durch einfaches Tippen auf das Element, an das es angehängt ist, ausgelöst wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel. 1) Sie müssen heimlich etwas erfassen. Das Telefon ist geschlossen und ausgeschaltet. Tippen Sie leise auf das Gerät oder heben Sie einfach Ihre Hand und das Bild ist fertig. 2) Jemand schleicht sich regelmäßig in Ihren Schreibtisch oder geht nur zu ungünstigen Zeiten im Raum spazieren. Nehmen Sie ein Foto auf und im nächsten Raum (bis zu 10 m) ertönt zusätzlich ein Alarm. 3) Ich habe es auf ein elektrisches Fahrradladegerät gelegt. Wenn der Ladevorgang beendet ist, funktioniert der Lüfter im Ladegerät nicht mehr. Dieses Ereignis erzeugt ein Signal am Telefon. 4) Sehen Sie, wie Ihr Paket gelaufen ist, welche Beschleunigungen es gab und wie es umgedreht wurde. 5) Am Rohr (Klimaanlage usw.) befestigen und die Arbeitsstatistik herausfinden. 6) Über die Katze lernen Sie alles, was sie tut, wenn sie schläft. 7) Im Video gibt es auch ein Beispiel dafür, wie ich schlafe, wie ich mich drehe und drehe. Sie können am Bett befestigen, sehen, wie und wann (von wem) es verwendet wurde. OkayIch höre auf, du kannst noch lange weitermachen.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de395385/">https://habr.com/ru/post/de395385/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de395371/index.html">Straßen zum Mars führen durch den Mond ...</a></li>
<li><a href="../de395375/index.html">Atlas auf dem Hickpick</a></li>
<li><a href="../de395377/index.html">BatchMarc verarbeitet Marc-Dateien auf go + js</a></li>
<li><a href="../de395379/index.html">Bewertung des schönsten Geldes der Welt</a></li>
<li><a href="../de395383/index.html">Elektronik für Außerirdische</a></li>
<li><a href="../de395387/index.html">Smart Home Design</a></li>
<li><a href="../de395389/index.html">In Tibet schaffen Sie ein Reservat mit dunklem Himmel für Astronomen und Amateure</a></li>
<li><a href="../de395393/index.html">Integrierte Smart Home Management Systeme</a></li>
<li><a href="../de395395/index.html">Ist es möglich, ein strukturloses Objekt zu programmieren?</a></li>
<li><a href="../de395397/index.html">Die NASA schießt auf das Raumschiff Cygnus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>