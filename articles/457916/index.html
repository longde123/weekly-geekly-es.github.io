<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå¨Ô∏è üë®‚Äçüë©‚Äçüëß üõê La soluci√≥n de las tareas de WorldSkills del m√≥dulo de red en la competencia de "CCA". Parte 2 - Configuraci√≥n b√°sica üëÇüèΩ ü§ûüèº üë©‚Äçüîß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuamos analizando las tareas del m√≥dulo de red del campeonato de WorldSkills en la competencia "Administraci√≥n de redes y sistemas". 

 Las sigui...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La soluci√≥n de las tareas de WorldSkills del m√≥dulo de red en la competencia de "CCA". Parte 2 - Configuraci√≥n b√°sica</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457916/">  Continuamos analizando las tareas del m√≥dulo de red del campeonato de WorldSkills en la competencia "Administraci√≥n de redes y sistemas". <br><br>  Las siguientes tareas ser√°n consideradas en el art√≠culo: <br><br><ol><li>  En TODOS los dispositivos, cree interfaces virtuales, subinterfaces e interfaces de bucle.  Asigne direcciones IP de acuerdo con la topolog√≠a. <br><br><ul><li>  Habilite el mecanismo SLAAC para emitir direcciones IPv6 en la red MNG en la interfaz del enrutador RTR1; </li><li>  En las interfaces virtuales en VLAN 100 (MNG) en los conmutadores SW1, SW2, SW3, habilite el modo de configuraci√≥n autom√°tica de IPv6; </li><li>  En TODOS los dispositivos (excepto PC1 y WEB) asigne manualmente direcciones locales de enlace; </li><li>  En TODOS los conmutadores, desactive TODOS los puertos que no se utilizan en el trabajo y transfi√©ralos a la VLAN 99; </li><li>  En el interruptor SW1, habilite el bloqueo durante 1 minuto en caso de una doble entrada de contrase√±a incorrecta dentro de los 30 segundos; </li></ul></li><li>  Todos los dispositivos deben ser accesibles para el control SSH versi√≥n 2. </li></ol><a name="habracut"></a><br>  La topolog√≠a de la red a nivel f√≠sico se presenta en el siguiente diagrama: <br><br><img src="https://habrastorage.org/webt/e9/vi/cd/e9vicdacx-qljbarfkqtpcdjcm0.png"><br><br>  La topolog√≠a de red en la capa de enlace de datos se presenta en el siguiente diagrama: <br><br><img src="https://habrastorage.org/webt/wk/-_/uy/wk-_uypaooxm9ymdxobwjhaueou.png"><br><br>  La topolog√≠a de red a nivel de red se presenta en el siguiente diagrama: <br><br><img src="https://habrastorage.org/webt/q_/od/h9/q_odh9mn_vq_siwnvn5rpmpkbeg.png"><br><br>  Un ejemplo de resoluci√≥n de todas las tareas se puede ver en formato de video. <br><br>  La siguiente es una configuraci√≥n preliminar de los conmutadores: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/owYWIU7F9sA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Configuraci√≥n del direccionamiento IPv6, habilitando el mecanismo SLAAC: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dhuZdgs3Gio" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Configuraci√≥n de SSH versi√≥n 2: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/P9VZFkWGN2M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h1>  Preestablecido </h1><br>  Antes de completar las tareas anteriores, debe configurar la conmutaci√≥n b√°sica en los conmutadores SW1-SW3, ya que ser√° m√°s conveniente verificar su configuraci√≥n en el futuro.  La configuraci√≥n de cambio se describir√° en detalle en el pr√≥ximo art√≠culo, pero por ahora solo se definir√°n las configuraciones. <br><br>  El primer paso es crear vlan'y con los n√∫meros 99, 100 y 300 en todos los conmutadores: <br><br><pre><code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta">#vlan 99 SW1(config-vlan)#exit SW1(config)#vlan 100 SW1(config-vlan)#exit SW1(config)#vlan 300 SW1(config-vlan)#exit</span></span></code> </pre> <br>  El siguiente paso es traducir la interfaz g0 / 1 a SW1 en el n√∫mero de vlan 300: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/1 SW1(config-if)#switchport mode access SW1(config-if)#switchport access vlan 300 SW1(config-if)#exit</span></span></code> </pre><br>  Las interfaces f0 / 1-2, f0 / 5-6, que miran hacia otros interruptores, deben cambiarse al modo troncal: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta">#interface range fastEthernet 0/1-2, fastEthernet 0/5-6 SW1(config-if-range)#switchport trunk encapsulation dot1q SW1(config-if-range)#switchport mode trunk SW1(config-if-range)#exit</span></span></code> </pre><br>  En el interruptor SW2 en modo troncal habr√° interfaces f0 / 1-4: <br><br><pre> <code class="1c hljs">SW2(config)<span class="hljs-meta"><span class="hljs-meta">#interface range fastEthernet 0/1-4 SW2(config-if-range)#switchport trunk encapsulation dot1q SW2(config-if-range)#switchport mode trunk SW2(config-if-range)#exit</span></span></code> </pre><br>  En el interruptor SW3 en modo troncal habr√° interfaces f0 / 3-6, g0 / 1: <br><br><pre> <code class="1c hljs">SW3(config)<span class="hljs-meta"><span class="hljs-meta">#interface range fastEthernet 0/3-6, gigabitEthernet 0/1 SW3(config-if-range)#switchport trunk encapsulation dot1q SW3(config-if-range)#switchport mode trunk SW3(config-if-range)#exit</span></span></code> </pre><br>  En esta etapa, la configuraci√≥n del interruptor permitir√° el intercambio de paquetes etiquetados, que ser√°n necesarios para completar las tareas. <br><br><h1>  1. En TODOS los dispositivos, cree interfaces virtuales, subinterfaces e interfaces de bucle.  Asigne direcciones IP de acuerdo con la topolog√≠a. </h1><br>  El enrutador BR1 ser√° el primero en configurar.  De acuerdo con la topolog√≠a L3, aqu√≠ debe configurar una interfaz de tipo bucle, es loopback, bajo el n√∫mero 101: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//  loopback BR1(config)#interface loopback 101 //  ipv4- BR1(config-if)#ip address 2.2.2.2 255.255.255.255 //  ipv6   BR1(config-if)#ipv6 enable //  ipv6- BR1(config-if)#ipv6 address 2001:B:A::1/64 //      BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  Para verificar el estado de la interfaz creada, puede usar el comando <b><code>show ipv6 interface brief</code></b> : <br><br><pre> <code class="1c hljs">BR1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief ... Loopback101 [up/up] FE80::2D0:97FF:FE94:5022 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//link-local  2001:B:A::1 //IPv6- ... BR1#</span></span></span></span></code> </pre><br>  Aqu√≠ puede ver que el loopback est√° activo, su estado es <b>UP</b> .  Si mira a continuaci√≥n, puede ver dos direcciones IPv6, aunque solo se us√≥ un comando para establecer la direcci√≥n IPv6.  El hecho es que <b><code>FE80::2D0:97FF:FE94:5022</code></b> es la direcci√≥n local de enlace que se asigna cuando ipv6 est√° habilitado en la interfaz con el comando de <b><code>ipv6 enable</code></b> . <br><br>  Y para ver la direcci√≥n IPv4, se usa un comando similar: <br><br><pre> <code class="1c hljs">BR1<span class="hljs-meta"><span class="hljs-meta">#show ip interface brief ... Loopback101 2.2.2.2 YES manual up up ... BR1#</span></span></code> </pre><br>  Para BR1, debe configurar inmediatamente la interfaz g0 / 0, aqu√≠ solo necesita configurar la direcci√≥n IPv6: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//      BR1(config)#interface gigabitEthernet 0/0 //   BR1(config-if)#no shutdown BR1(config-if)#ipv6 enable BR1(config-if)#ipv6 address 2001:B:C::1/64 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  Puede verificar la configuraci√≥n con el mismo comando <b><code>show ipv6 interface brief</code></b> : <br><br><pre> <code class="1c hljs">BR1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief GigabitEthernet0/0 [up/up] FE80::290:CFF:FE9D:4624 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//link-local  2001:B:C::1 //IPv6- ... Loopback101 [up/up] FE80::2D0:97FF:FE94:5022 //link-local  2001:B:A::1 //IPv6-</span></span></span></span></code> </pre><br>  A continuaci√≥n, se configurar√° el enrutador ISP.  Aqu√≠, en el trabajo, se configurar√° el bucle de retorno con el n√∫mero 0, pero adem√°s, es preferible configurar la interfaz g0 / 0 en la que debe estar la direcci√≥n 30.30.30.1, por la raz√≥n de que en tareas posteriores no se dir√° nada sobre la configuraci√≥n de estas interfaces.  Primero, se configura el loopback con el n√∫mero 0: <br><br><pre> <code class="1c hljs">ISP(config)<span class="hljs-meta"><span class="hljs-meta">#interface loopback 0 ISP(config-if)#ip address 8.8.8.8 255.255.255.255 ISP(config-if)#ipv6 enable ISP(config-if)#ipv6 address 2001:A:C::1/64 ISP(config-if)#exit ISP(config)#</span></span></code> </pre><br>  Con el comando <code>show ipv6 interface brief</code> , puede verificar que la <code>show ipv6 interface brief</code> la <code>show ipv6 interface brief</code> sea ‚Äã‚Äãcorrecta.  Luego se configura la interfaz g0 / 0: <br><br><pre> <code class="1c hljs">BR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/0 BR1(config-if)#no shutdown BR1(config-if)#ip address 30.30.30.1 255.255.255.252 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  A continuaci√≥n, se configurar√° RTR1.  Aqu√≠ tambi√©n debe crear un loopback en el n√∫mero 100: <br><br><pre> <code class="1c hljs">BR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface loopback 100 BR1(config-if)#ip address 1.1.1.1 255.255.255.255 BR1(config-if)#ipv6 enable BR1(config-if)#ipv6 address 2001:A:B::1/64 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  Tambi√©n en RTR1 es necesario crear 2 subinterfaces virtuales para vlan'ov con los n√∫meros 100 y 300. Puede hacer esto de la siguiente manera. <br><br>  Primero, habilite la interfaz f√≠sica g0 / 1 con el comando no shutdown: <br><br><pre> <code class="1c hljs">RTR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/1 RTR1(config-if)#no shutdown RTR1(config-if)#exit</span></span></code> </pre><br>  Las subinterfaces con los n√∫meros 100 y 300 se crean y configuran: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//     100      RTR1(config)#interface gigabitEthernet 0/1.100 //    dot1q   vlan'a 100 RTR1(config-subif)#encapsulation dot1Q 100 RTR1(config-subif)#ipv6 enable RTR1(config-subif)#ipv6 address 2001:100::1/64 RTR1(config-subif)#exit //     300      RTR1(config)#interface gigabitEthernet 0/1.300 //    dot1q   vlan'a 100 RTR1(config-subif)#encapsulation dot1Q 300 RTR1(config-subif)#ipv6 enable RTR1(config-subif)#ipv6 address 2001:300::2/64 RTR1(config-subif)#exit</span></span></code> </pre><br>  El n√∫mero de subinterfaz puede diferir del n√∫mero vlan'a en el que funcionar√°, pero por conveniencia es mejor usar el n√∫mero de subinterfaz que coincida con el n√∫mero vlan'a.  En el caso de establecer el tipo de encapsulaci√≥n al configurar la subinterfaz, especifique el n√∫mero que coincida con el n√∫mero de vlan'a.  Entonces, despu√©s del <b><code>encapsulation dot1Q 300</code></b> subinterfaz solo pasar√° paquetes de vlan'a con el n√∫mero 300. <br><br>  El final en esta asignaci√≥n ser√° el enrutador RTR2.  La conexi√≥n entre SW1 y RTR2 debe estar en modo de acceso, la interfaz del conmutador solo pasar√° paquetes destinados a vlan'a n√∫mero 300 hacia RTR2, esto se indica en la tarea en la topolog√≠a L2.  Por lo tanto, solo la interfaz f√≠sica se configurar√° en RTR2 sin crear subinterfaces: <br><br><pre> <code class="1c hljs">RTR2(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/1 RTR2(config-if)#no shutdown RTR2(config-if)#ipv6 enable RTR2(config-if)#ipv6 address 2001:300::3/64 RTR2(config-if)#exit RTR2(config)#</span></span></code> </pre><br>  Luego se configura la interfaz g0 / 0: <br><br><pre> <code class="1c hljs">BR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/0 BR1(config-if)#no shutdown BR1(config-if)#ip address 30.30.30.2 255.255.255.252 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  Esto completa la configuraci√≥n de las interfaces del enrutador para la tarea actual.  Las interfaces restantes se configurar√°n tan pronto como se completen las siguientes tareas. <br><br><h6>  a.  Habilite el mecanismo SLAAC para emitir direcciones IPv6 en la red MNG en la interfaz del enrutador RTR1 </h6><br>  SLAAC est√° habilitado de forma predeterminada.  Lo √∫nico que debe hacer es habilitar el enrutamiento IPv6.  Puede hacer esto con el siguiente comando: <br><br><pre> <code class="1c hljs">RTR1(config-subif)<span class="hljs-meta"><span class="hljs-meta">#ipv6 unicast-routing</span></span></code> </pre><br>  Sin este comando, el equipo act√∫a como un host.  En otras palabras, gracias al comando antes mencionado, es posible usar funciones ipv6 adicionales, incluida la emisi√≥n de direcciones ipv6, la configuraci√≥n de enrutamiento y m√°s. <br><br><h6>  b.  En las interfaces virtuales en VLAN 100 (MNG) en los conmutadores SW1, SW2, SW3, habilite el modo de configuraci√≥n autom√°tica de IPv6 </h6><br>  Se puede ver en la topolog√≠a L3 que los conmutadores est√°n conectados a la red VLAN 100. Esto significa que debe crear interfaces virtuales en los conmutadores y solo luego configurarlos para recibir las direcciones IPv6 predeterminadas.  La configuraci√≥n inicial se realiz√≥ precisamente para que los conmutadores pudieran recibir direcciones predeterminadas de RTR1.  Puede completar esta tarea con la siguiente lista de comandos adecuados para los tres conmutadores: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//    SW1(config)#interface vlan 100 SW1(config-if)#ipv6 enable //  ipv6   SW1(config-if)#ipv6 address autoconfig SW1(config-if)#exit</span></span></code> </pre><br>  Puede verificar con el mismo comando <code>show ipv6 interface brief</code> : <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief ... Vlan100 [up/up] FE80::A8BB:CCFF:FE80:C000 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// link-local  2001:100::A8BB:CCFF:FE80:C000 //  IPv6-</span></span></span></span></code> </pre><br>  Adem√°s de la direcci√≥n local de enlace, apareci√≥ una direcci√≥n ipv6 recibida de RTR1.  Esta tarea se complet√≥ con √©xito, y en los otros conmutadores es necesario escribir los mismos comandos. <br><br><h6>  s  En TODOS los dispositivos (excepto PC1 y WEB) asigne manualmente direcciones locales de enlace </h6><br>  Las direcciones ipv6 de treinta d√≠gitos no complacen a los administradores, por lo que puede cambiar manualmente el enlace local, reduciendo su longitud al valor m√≠nimo.  No se dice nada en las tareas sobre qu√© direcciones elegir, por lo tanto, aqu√≠ se proporciona la libre elecci√≥n. <br><br>  Por ejemplo, en el interruptor SW1, debe establecer la direcci√≥n local de enlace fe80 :: 10.  Puede hacerlo con el siguiente comando desde el modo de configuraci√≥n de la interfaz seleccionada: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//     vlan 100 SW1(config)#interface vlan 100 //   link-local  SW1(config-if)#ipv6 address fe80::10 link-local SW1(config-if)#exit</span></span></code> </pre><br>  Ahora abordar parece mucho m√°s atractivo: <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief ... Vlan100 [up/up] FE80::10 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//link-local c 2001:100::10 //IPv6-</span></span></span></span></code> </pre><br>  Adem√°s de la direcci√≥n local de enlace, la direcci√≥n IPv6 recibida tambi√©n ha cambiado, ya que la direcci√≥n se emite en funci√≥n de la direcci√≥n local de enlace. <br><br>  En el interruptor SW1, solo ten√≠a que configurar la direcci√≥n local de enlace en una interfaz.  Con el enrutador RTR1, debe realizar m√°s configuraciones: debe establecer link-local en dos subinterfaces, en bucle invertido, y en la siguiente configuraci√≥n, la interfaz del t√∫nel 100 seguir√° apareciendo. <br><br>  Para evitar la escritura innecesaria de comandos, puede establecer la misma direcci√≥n local de enlace en todas las interfaces a la vez.  Esto se puede hacer usando la palabra clave <b><code>range</code></b> seguida de una lista de todas las interfaces: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//      RTR1(config)#interface range gigabitEthernet 0/1.100, gigabitEthernet 0/1.300, loopback 100 //   link-local  RTR1(config-if)#ipv6 address fe80::1 link-local RTR1(config-if)#exit</span></span></code> </pre><br>  Al verificar las interfaces, ser√° posible ver que las direcciones locales de enlace se han cambiado en todas las interfaces seleccionadas: <br><br><pre> <code class="1c hljs">RTR1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief gigabitEthernet 0/1.100 [up/up] FE80::1 2001:100::1 gigabitEthernet 0/1.300 [up/up] FE80::1 2001:300::2 Loopback100 [up/up] FE80::1 2001:A:B::1</span></span></code> </pre><br>  Todos los dem√°s dispositivos est√°n configurados de la misma manera. <br><br><h6>  d.  En TODOS los conmutadores, desactive TODOS los puertos que no se utilizan en el trabajo y transfi√©ralos a la VLAN 99 </h6><br>  La idea principal es la misma manera de seleccionar varias interfaces para la configuraci√≥n utilizando el comando de <b><code>range</code></b> , y solo entonces debe escribir el comando de transferencia en el vlan deseado y luego apagar las interfaces.  Por ejemplo, en el interruptor SW1, de acuerdo con la topolog√≠a de L1, los puertos f0 / 3-4, f0 / 7-8, f0 / 11-24 y g0 / 2 se desactivar√°n.  Para este ejemplo, la configuraci√≥n ser√° la siguiente: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//     SW1(config)#interface range fastEthernet 0/3-4, fastEthernet 0/7-8, fastEthernet 0/11-24, gigabitEthernet 0/2 //   access   SW1(config-if-range)#switchport mode access //   VLAN 99  SW1(config-if-range)#switchport access vlan 99 //   SW1(config-if-range)#shutdown SW1(config-if-range)#exit</span></span></code> </pre><br>  Al verificar la configuraci√≥n con un comando ya conocido, vale la pena prestar atenci√≥n a que todos los puertos no utilizados deben tener un estado <b>administrativamente inactivo</b> , notificando que el puerto est√° apagado: <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ip interface brief Interface IP-Address OK? Method Status Protocol ... fastEthernet 0/3 unassigned YES unset administratively down down</span></span></code> </pre><br>  Para ver en qu√© vlan se encuentra el puerto, puede usar otro comando: <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ip vlan ... 99 VLAN0099 active Fa0/3, Fa0/4, Fa0/7, Fa0/8 Fa0/11, Fa0/12, Fa0/13, Fa0/14 Fa0/15, Fa0/16, Fa0/17, Fa0/18 Fa0/19, Fa0/20, Fa0/21, Fa0/22 Fa0/23, Fa0/24, Gig0/2 ...</span></span></code> </pre><br>  Todas las interfaces no utilizadas deben estar aqu√≠.  Vale la pena se√±alar que no ser√° posible transferir interfaces a vlan si tal vlan no se crea.  Para este prop√≥sito en la configuraci√≥n inicial se crearon todas las vlan'y necesarias para el trabajo. <br><br><h6>  e.  En el interruptor SW1, habilite el bloqueo durante 1 minuto en caso de una doble entrada de contrase√±a incorrecta dentro de los 30 segundos </h6><br>  Puede hacer esto con el siguiente comando: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//   60; : 2;  : 30 SW1#login block-for 60 attempts 2 within 30</span></span></code> </pre><br>  Tambi√©n puede verificar esta configuraci√≥n de la siguiente manera: <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show login ... If more than 2 login failures occur in 30 seconds or less, logins will be disabled for 60 seconds. ...</span></span></code> </pre><br>  Donde se explica de manera inteligible que despu√©s de dos intentos fallidos en 30 segundos o menos, el inicio de sesi√≥n se bloquear√° durante 60 segundos. <br><br><h1>  2. Todos los dispositivos deben ser accesibles para la administraci√≥n del protocolo SSH versi√≥n 2. </h1><br>  Para que los dispositivos est√©n disponibles a trav√©s de SSH versi√≥n 2, primero debe configurar el equipo, por lo que, para fines informativos, primero se configurar√° el equipo con la configuraci√≥n de f√°brica. <br><br>  Puede cambiar la versi√≥n de punci√≥n de la siguiente manera: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//   SSH  2 Router(config)#ip ssh version 2 Please create RSA keys (of at least 768 bits size) to enable SSH v2. Router(config)#</span></span></code> </pre><br>  El sistema solicita crear claves RSA para la salud de SSH versi√≥n 2. Siguiendo los consejos de un sistema inteligente, puede crear claves RSA con el siguiente comando: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//  RSA  Router(config)#crypto key generate rsa % Please define a hostname other than Router. Router(config)#</span></span></code> </pre><br>  El sistema no permite que se ejecute el comando porque no se ha cambiado el nombre de host.  Despu√©s de cambiar el nombre de host, debe volver a escribir el comando de generaci√≥n de claves: <br><br><pre> <code class="1c hljs">Router(config)<span class="hljs-meta"><span class="hljs-meta">#hostname R1 R1(config)#crypto key generate rsa % Please define a domain-name first. R1(config)#</span></span></code> </pre><br>  Ahora el sistema no permite crear claves RSA, debido a la falta de un nombre de dominio.  Y despu√©s de instalar el nombre de dominio, ser√° posible crear claves RSA.  Las claves RSA deben tener al menos 768 bits de longitud para que funcione la versi√≥n 2 de SSH: <br><br><pre> <code class="1c hljs">R1(config)<span class="hljs-meta"><span class="hljs-meta">#ip domain-name wsrvuz19.ru R1(config)#crypto key generate rsa How many bits in the modulus [512]: 1024 % Generating 1024 bit RSA keys, keys will be non-exportable...[OK]</span></span></code> </pre><br>  Como resultado, resulta que para que SSHv2 funcione, necesita: <br><br><ol><li>  Cambiar nombre de host; </li><li>  Cambiar nombre de dominio; </li><li>  Generar claves RSA. </li></ol><br>  En el √∫ltimo art√≠culo, se dieron las configuraciones para cambiar el nombre de host y el nombre de dominio en todos los dispositivos, por lo tanto, al continuar configurando los dispositivos actuales, solo necesita generar claves RSA: <br><br><pre> <code class="1c hljs">RTR1(config)<span class="hljs-meta"><span class="hljs-meta">#crypto key generate rsa How many bits in the modulus [512]: 1024 % Generating 1024 bit RSA keys, keys will be non-exportable...[OK]</span></span></code> </pre><br>  La versi√≥n 2 de SSH est√° activa, pero el dispositivo a√∫n no est√° completamente configurado.  El √∫ltimo paso ser√° configurar las consolas virtuales: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//      R1(config)#line vty 0 4 //       SSH RTR1(config-line)#transport input ssh RTR1(config-line)#exit</span></span></code> </pre><br>  En el √∫ltimo art√≠culo, se configur√≥ el modelo AAA, donde la autenticaci√≥n se configur√≥ en consolas virtuales utilizando una base de datos local, y el usuario tuvo que ingresar inmediatamente al modo privilegiado despu√©s de la autenticaci√≥n.  La comprobaci√≥n de estado SSH m√°s simple es intentar conectarse a su propio hardware.  En RTR1 hay un loopback con la direcci√≥n IP 1.1.1.1, puede intentar conectarse a esta direcci√≥n: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//  ssh RTR1(config)#do ssh -l wsrvuz19 1.1.1.1 Password: RTR1#</span></span></code> </pre><br>  Despu√©s del <b><code>-l</code></b> , se ingresa el nombre de usuario del usuario existente y luego la contrase√±a.  Despu√©s de la autenticaci√≥n, cambia inmediatamente al modo privilegiado, lo que significa que SSH est√° configurado correctamente. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/457916/">https://habr.com/ru/post/457916/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457900/index.html">Comisi√≥n Federal de Comunicaciones de EE. UU. Contra meteor√≥logos</a></li>
<li><a href="../457902/index.html">Mitap para ciencia de datos</a></li>
<li><a href="../457904/index.html">Radio at√≥mica: la primera emisi√≥n musical</a></li>
<li><a href="../457906/index.html">Los m√©dicos creen que en el futuro cercano, los dispositivos de fabricaci√≥n de vacunas aparecer√°n en hogares y farmacias.</a></li>
<li><a href="../457910/index.html">WebFPGA - Desarrollo Verilog en navegador</a></li>
<li><a href="../457920/index.html">Jet World: acceso libre y abierto a los informes de la conferencia Joker 2018 + revisi√≥n de los diez mejores</a></li>
<li><a href="../457926/index.html">Comparaci√≥n de certificaci√≥n √°gil, Parte 1 - ICAgile, Scrum.org, ScrumAlliance y PMI</a></li>
<li><a href="../457928/index.html">Clasificaci√≥n profunda para comparar dos im√°genes</a></li>
<li><a href="../457930/index.html">Escritura din√°mica est√°ticamente segura a la Python</a></li>
<li><a href="../457932/index.html">An√°lisis del concurso IDS Bypass en Positive Hack Days 9</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>