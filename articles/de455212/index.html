<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úäüèø üß• ‚úãüèæ Leistung von Linux-Netzwerkanwendungen. Einf√ºhrung üöÖ üôç üçù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Webanwendungen sind mittlerweile weit verbreitet, und HTTP macht den L√∂wenanteil aller Transportprotokolle aus. Die meisten von ihnen untersuchen die ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Leistung von Linux-Netzwerkanwendungen. Einf√ºhrung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455212/"> Webanwendungen sind mittlerweile weit verbreitet, und HTTP macht den L√∂wenanteil aller Transportprotokolle aus.  Die meisten von ihnen untersuchen die Nuancen der Entwicklung von Webanwendungen und achten kaum auf das Betriebssystem, auf dem diese Anwendungen tats√§chlich ausgef√ºhrt werden.  Die Trennung von Entwicklung (Dev) und Betrieb (Ops) machte die Sache nur noch schlimmer.  Mit der Verbreitung der DevOps-Kultur beginnen Entwickler jedoch, die Verantwortung f√ºr das Starten ihrer Anwendungen in der Cloud zu √ºbernehmen. Daher ist es f√ºr sie sehr n√ºtzlich, sich gr√ºndlich mit dem Betriebssystem-Backend vertraut zu machen.  Dies ist besonders n√ºtzlich, wenn Sie versuchen, ein System f√ºr Tausende oder Zehntausende gleichzeitiger Verbindungen bereitzustellen. <br><br>  Einschr√§nkungen bei Webdiensten sind Einschr√§nkungen in anderen Anwendungen sehr √§hnlich.  Ob Load Balancer oder Datenbankserver, alle diese Anwendungen haben √§hnliche Probleme in einer Hochleistungsumgebung.  Wenn Sie diese grundlegenden Einschr√§nkungen kennen und wissen, wie Sie sie im Allgemeinen √ºberwinden k√∂nnen, k√∂nnen Sie die Leistung und Skalierbarkeit Ihrer Webanwendungen bewerten. <br><br>  Ich schreibe diese Artikelserie als Antwort auf Fragen junger Entwickler, die gut informierte Systemarchitekten werden m√∂chten.  Es ist unm√∂glich, die Methoden zur Optimierung von Linux-Anwendungen klar zu verstehen, ohne auf die Grundlagen ihrer Funktionsweise auf Betriebssystemebene einzugehen.  Obwohl es viele Arten von Anwendungen gibt, m√∂chte ich in dieser Serie Netzwerkanwendungen untersuchen, nicht Desktop-Anwendungen wie einen Browser oder einen Texteditor.  Dieses Material richtet sich an Entwickler und Architekten, die verstehen m√∂chten, wie Linux- oder Unix-Programme funktionieren und wie sie f√ºr eine hohe Leistung strukturiert werden. <br><a name="habracut"></a><br>  Linux ist ein <i>Server-</i> Betriebssystem, und meistens werden Ihre Anwendungen auf diesem bestimmten Betriebssystem ausgef√ºhrt.  Obwohl ich "Linux" sage, k√∂nnen Sie die meiste Zeit davon ausgehen, dass alle Unix-√§hnlichen Betriebssysteme im Allgemeinen gemeint sind.  Ich habe den zugeh√∂rigen Code jedoch nicht auf anderen Systemen getestet.  Wenn Sie also an FreeBSD oder OpenBSD interessiert sind, kann das Ergebnis variieren.  Wenn ich etwas Linux-spezifisches ausprobiere, weise ich darauf hin. <br><br>  Obwohl Sie dieses Wissen verwenden k√∂nnen, um eine Anwendung von Grund auf neu zu erstellen, und sie perfekt optimiert wird, ist es besser, dies nicht zu tun.  Wenn Sie einen neuen Webserver in C oder C ++ f√ºr die Gesch√§ftsanwendung Ihres Unternehmens schreiben, ist dies m√∂glicherweise Ihr letzter Arbeitstag.  Die Kenntnis der Struktur dieser Anwendungen hilft jedoch bei der Auswahl vorhandener Programme.  Sie k√∂nnen prozessbasierte Systeme mit threadbasierten und ereignisbasierten Systemen vergleichen.  Sie werden verstehen und verstehen, warum Nginx besser funktioniert als Apache httpd, warum eine Tornado-basierte Python-Anwendung mehr Benutzer bedienen kann als eine Django-basierte Python-Anwendung. <br><br><h1>  ZeroHTTPd: Lernwerkzeug </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://github.com/shuveb/zero">ZeroHTTPd</a> ist ein Webserver, den ich in C als Trainingstool von Grund auf neu geschrieben habe.  Es gibt keine externen Abh√§ngigkeiten, einschlie√ülich des Zugriffs auf Redis.  Wir f√ºhren unsere eigenen Redis-Routinen aus.  Siehe unten f√ºr weitere Details. <br><br>  Obwohl wir die Theorie lange diskutieren konnten, gibt es nichts Besseres, als Code zu schreiben, auszuf√ºhren und alle Serverarchitekturen miteinander zu vergleichen.  Dies ist die naheliegendste Methode.  Daher werden wir mit jedem Modell einen einfachen ZeroHTTPd-Webserver schreiben: basierend auf Prozessen, Threads und Ereignissen.  Lassen Sie uns jeden dieser Server √ºberpr√ºfen und sehen, wie sie im Vergleich zueinander funktionieren.  ZeroHTTPd ist in einer einzelnen C-Datei implementiert. Der ereignisbasierte Server enth√§lt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">uthash</a> , eine hervorragende Implementierung von Hash-Tabellen, die in einer einzelnen Header-Datei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">geliefert</a> wird.  In anderen F√§llen gibt es keine Abh√§ngigkeiten, um das Projekt nicht zu komplizieren. <br><br>  Der Code enth√§lt viele Kommentare, um das Problem zu l√∂sen.  ZeroHTTPd ist ein einfacher Webserver in wenigen Codezeilen und ein minimales Framework f√ºr die Webentwicklung.  Es verf√ºgt nur √ºber eingeschr√§nkte Funktionen, kann jedoch statische Dateien und sehr einfache ‚Äûdynamische‚Äú Seiten erstellen.  Ich muss sagen, dass ZeroHTTPd gut geeignet ist, um zu lernen, wie man leistungsstarke Linux-Anwendungen erstellt.  Im Gro√üen und Ganzen warten die meisten Webdienste auf Anfragen, pr√ºfen sie und verarbeiten sie.  Genau das wird ZeroHTTPd tun.  Dies ist ein Lernwerkzeug, kein Produktionswerkzeug.  Er kann nicht gut mit Fehlern <code>strcpy</code> und verf√ºgt wahrscheinlich nicht √ºber die besten Sicherheitspraktiken (oh ja, ich habe <code>strcpy</code> ) oder <code>strcpy</code> abstruse Tricks. Aber ich hoffe, er macht seine Arbeit gut. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cd0/fd7/c03/cd0fd7c03567dcb48c1e615a63a19c48.png"><br>  <i><font color="gray">ZeroHTTPd-Homepage.</font></i>  <i><font color="gray">Es k√∂nnen verschiedene Dateitypen einschlie√ülich Bilder erstellt werden</font></i> <br><br><h1>  G√§stebuchanwendung </h1><br>  Moderne Webanwendungen sind normalerweise nicht auf statische Dateien beschr√§nkt.  Sie haben komplexe Interaktionen mit verschiedenen Datenbanken, Caches usw. Daher erstellen wir eine einfache Webanwendung namens "G√§stebuch", in der Besucher Eintr√§ge unter ihrem Namen hinterlassen.  Das G√§stebuch speichert die zuvor verbliebenen Eintr√§ge.  Es gibt auch einen Besucherschalter am Ende der Seite. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/997/b6b/39e/997b6b39e116c216a13422e1a3fcd7b6.png"><br>  <i><font color="gray">G√§stebuch-Webanwendung ZeroHTTPd</font></i> <br><br>  Der Besucherschalter und die G√§stebucheintr√§ge werden in Redis gespeichert.  F√ºr die Kommunikation mit Redis werden eigene Prozeduren implementiert, die von einer externen Bibliothek unabh√§ngig sind.  Ich bin kein gro√üer Fan von rollendem Code aus eigenem Anbau, wenn es √∂ffentlich verf√ºgbare und gut getestete L√∂sungen gibt.  Das Ziel von ZeroHTTPd ist es jedoch, die Linux-Leistung und den Zugriff auf externe Dienste zu untersuchen, w√§hrend die Bearbeitung von HTTP-Anforderungen die Leistung erheblich beeintr√§chtigt.  Wir m√ºssen die Kommunikation mit Redis in jeder unserer Serverarchitekturen vollst√§ndig steuern.  In einer Architektur verwenden wir blockierende Aufrufe, in anderen verwenden wir ereignisbasierte Prozeduren.  Die Verwendung einer externen Redis-Clientbibliothek gibt eine solche Kontrolle nicht.  Dar√ºber hinaus f√ºhrt unser kleiner Redis-Client nur wenige Funktionen aus (Abrufen, Setzen und Erh√∂hen eines Schl√ºssels; Abrufen und Hinzuf√ºgen eines Arrays).  Dar√ºber hinaus ist das Redis-Protokoll au√üergew√∂hnlich elegant und einfach.  Er muss nicht einmal speziell unterrichtet werden.  Die Tatsache, dass das Protokoll die gesamte Arbeit in etwa hundert Codezeilen ausf√ºhrt, zeigt an, wie gut es durchdacht ist. <br><br>  Die folgende Abbildung zeigt die Anwendung, wenn der Client (Browser) <code>/guestbookURL</code> anfordert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f4/6cc/bb0/9f46ccbb030a53a1822678afac4e518f.png"><br>  <i><font color="gray">Der Mechanismus der G√§stebuchanwendung</font></i> <br><br>  Wenn Sie eine G√§stebuchseite ausgeben m√ºssen, gibt es einen Aufruf an das Dateisystem, um die Vorlage in den Speicher einzulesen, und drei Netzwerkaufrufe an Redis.  Die Vorlagendatei enth√§lt den gr√∂√üten Teil des HTML-Inhalts f√ºr die Seite im obigen Screenshot.  Es gibt auch spezielle Platzhalter f√ºr den dynamischen Teil des Inhalts: Datens√§tze und Besucherz√§hler.  Wir bekommen sie von Redis, f√ºgen sie auf der Seite ein und geben dem Kunden vollst√§ndig gestaltete Inhalte.  Ein dritter Aufruf von Redis kann vermieden werden, da Redis beim Inkrementieren einen neuen Schl√ºsselwert zur√ºckgibt.  F√ºr unseren Server mit einer asynchronen ereignisbasierten Architektur sind viele Netzwerkanrufe jedoch ein guter Test f√ºr Schulungszwecke.  Daher verwerfen wir den R√ºckgabewert von Redis √ºber die Anzahl der Besucher und fordern ihn in einem separaten Anruf an. <br><br><h1>  ZeroHTTPd-Serverarchitekturen </h1><br>  Wir erstellen sieben Versionen von ZeroHTTPd mit derselben Funktionalit√§t, aber unterschiedlichen Architekturen: <br><br><ul><li>  Iterativ <br></li><li>  Fork-Server (ein untergeordneter Prozess pro Anforderung) <br></li><li>  Pre-Fork-Server (Pre-Forking-Prozesse) <br></li><li>  Server mit Threads (ein Thread pro Anfrage) <br></li><li>  Server mit Pre-Threading <br></li><li>  <code>poll()</code> -basierte Architektur <br></li><li>  Epoll Architektur </li></ul><br>  Wir messen die Leistung jeder Architektur, indem wir den Server mit HTTP-Anforderungen laden.  Beim Vergleich von Architekturen mit einem hohen Grad an Parallelit√§t steigt jedoch die Anzahl der Anforderungen.  Wir testen dreimal und ber√ºcksichtigen den Durchschnitt. <br><br><h1>  Testmethodik </h1><br><img src="https://habrastorage.org/getpro/habr/post_images/d37/97d/a33/d3797da3301e7b3d8b9e93fbfb3aeafa.png"><br>  <i><font color="gray">Installation zum Stresstest ZeroHTTPd</font></i> <br><br>  Es ist wichtig, dass bei der Durchf√ºhrung von Tests nicht alle Komponenten auf derselben Maschine funktionieren.  In diesem Fall verursacht das Betriebssystem zus√§tzlichen Planungsaufwand, da die Komponenten um die CPU konkurrieren.  Das Messen des Betriebssystem-Overheads von jeder der ausgew√§hlten Serverarchitekturen ist eines der wichtigsten Ziele dieser √úbung.  Das Hinzuf√ºgen weiterer Variablen wirkt sich nachteilig auf den Prozess aus.  Daher funktioniert die Einstellung in der obigen Abbildung am besten. <br><br><h3>  Was jeder dieser Server tut </h3><br><ul><li>  load.unixism.net: Hier f√ºhren wir <code>ab</code> , das Dienstprogramm Apache Benchmark.  Es erzeugt die Last, die zum Testen unserer Serverarchitekturen erforderlich ist. <br></li><li>  nginx.unixism.net: Manchmal m√∂chten wir mehr als eine Instanz eines Serverprogramms ausf√ºhren.  Hierzu fungiert der Nginx-Server mit den entsprechenden Einstellungen als Load Balancer, der von <i>ab</i> zu unseren Serverprozessen kommt. <br></li><li>  zerohttpd.unixism.net: Hier f√ºhren wir unsere Serverprogramme nacheinander auf sieben verschiedenen Architekturen aus. <br></li><li>  redis.unixism.net: Der Redis-Daemon wird auf diesem Server ausgef√ºhrt, auf dem Eintr√§ge im G√§stebuch und im Besucherz√§hler gespeichert sind. </li></ul><br>  Alle Server laufen auf einem einzigen Prozessorkern.  Die Idee ist, die maximale Leistung jeder Architektur zu bewerten.  Da alle Serverprogramme auf derselben Hardware getestet werden, ist dies die grundlegende Ebene f√ºr den Vergleich.  Mein Testaufbau besteht aus virtuellen Servern, die von Digital Ocean gemietet werden. <br><br><h3>  Was messen wir? </h3><br>  Sie k√∂nnen verschiedene Indikatoren messen.  Wir bewerten die Leistung jeder Architektur in dieser Konfiguration und laden Server mit Anforderungen auf verschiedenen Ebenen der Parallelit√§t: Die Last steigt von 20 auf 15.000 gleichzeitige Benutzer. <br><br><h1>  Testergebnisse </h1><br>  Das folgende Diagramm zeigt die Leistung von Servern auf verschiedenen Architekturen auf verschiedenen Ebenen der Parallelit√§t.  Die y-Achse ist die Anzahl der Anforderungen pro Sekunde, die x-Achse ist eine parallele Verbindung. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f5/01a/a17/4f501aa1794e1d9eddc4f57fad5e96d3.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ff7/9bc/306/ff79bc306edde1b6f1bc39b4d2aeaa38.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b30/b9b/322/b30b9b322ec0d8fa20bfc5e7010a7a5d.png"><br><br>  Unten finden Sie eine Tabelle mit den Ergebnissen. <br><br><div class="scrollable-table"><table><tbody><tr><td></td><td colspan="7">  Anfragen pro Sekunde </td></tr><tr><td>  <strong>Parallelit√§t</strong> </td><td>  <strong>iterativ</strong> </td><td>  <strong>Gabel</strong> </td><td>  <strong>Vorgabel</strong> </td><td>  <strong>Streaming</strong> </td><td>  <strong>Pre-Streaming</strong> </td><td>  <strong>Umfrage</strong> </td><td>  <strong>epoll</strong> </td></tr><tr><td>  20 </td><td>  7 </td><td>  112 </td><td>  2100 </td><td>  1800 </td><td>  2250 </td><td>  1900 </td><td>  2050 </td></tr><tr><td>  50 </td><td>  7 </td><td>  190 </td><td>  2200 </td><td>  1700 </td><td>  2200 </td><td>  2000 </td><td>  2000 </td></tr><tr><td>  100 </td><td>  7 </td><td>  245 </td><td>  2200 </td><td>  1700 </td><td>  2200 </td><td>  2150 </td><td>  2100 </td></tr><tr><td>  200 </td><td>  7 </td><td>  330 </td><td>  2300 </td><td>  1750 </td><td>  2300 </td><td>  2200 </td><td>  2100 </td></tr><tr><td>  300 </td><td>  - - </td><td>  380 </td><td>  2200 </td><td>  1800 </td><td>  2400 </td><td>  2250 </td><td>  2150 </td></tr><tr><td>  400 </td><td>  - - </td><td>  410 </td><td>  2200 </td><td>  1750 </td><td>  2600 </td><td>  2000 </td><td>  2000 </td></tr><tr><td>  500 </td><td>  - - </td><td>  440 </td><td>  2300 </td><td>  1850 </td><td>  2700 </td><td>  1900 </td><td>  2212 </td></tr><tr><td>  600 </td><td>  - - </td><td>  460 </td><td>  2400 </td><td>  1800 </td><td>  2500 </td><td>  1700 </td><td>  2519 </td></tr><tr><td>  700 </td><td>  - - </td><td>  460 </td><td>  2400 </td><td>  1600 </td><td>  2490 </td><td>  1550 </td><td>  2607 </td></tr><tr><td>  800 </td><td>  - - </td><td>  460 </td><td>  2400 </td><td>  1600 </td><td>  2540 </td><td>  1400 </td><td>  2553 </td></tr><tr><td>  900 </td><td>  - - </td><td>  460 </td><td>  2300 </td><td>  1600 </td><td>  2472 </td><td>  1200 </td><td>  2567 </td></tr><tr><td>  1000 </td><td>  - - </td><td>  475 </td><td>  2300 </td><td>  1700 </td><td>  2485 </td><td>  1150 </td><td>  2439 </td></tr><tr><td>  1500 </td><td>  - - </td><td>  490 </td><td>  2400 </td><td>  1550 </td><td>  2620 </td><td>  900 </td><td>  2479 </td></tr><tr><td>  2000 </td><td>  - - </td><td>  350 </td><td>  2400 </td><td>  1400 </td><td>  2396 </td><td>  550 </td><td>  2200 </td></tr><tr><td>  2500 </td><td>  - - </td><td>  280 </td><td>  2100 </td><td>  1300 </td><td>  2453 </td><td>  490 </td><td>  2262 </td></tr><tr><td>  3000 </td><td>  - - </td><td>  280 </td><td>  1900 </td><td>  1250 </td><td>  2502 </td><td>  weit verbreitet </td><td>  2138 </td></tr><tr><td>  5000 </td><td>  - - </td><td>  weit verbreitet </td><td>  1600 </td><td>  1100 </td><td>  2519 </td><td>  - - </td><td>  2235 </td></tr><tr><td>  8000 </td><td>  - - </td><td>  - - </td><td>  1200 </td><td>  weit verbreitet </td><td>  2451 </td><td>  - - </td><td>  2100 </td></tr><tr><td>  10.000 </td><td>  - - </td><td>  - - </td><td>  weit verbreitet </td><td>  - - </td><td>  2200 </td><td>  - - </td><td>  2200 </td></tr><tr><td>  11.000 </td><td>  - - </td><td>  - - </td><td>  - - </td><td>  - - </td><td>  2200 </td><td>  - - </td><td>  2122 </td></tr><tr><td>  12.000 </td><td>  - - </td><td>  - - </td><td>  - - </td><td>  - - </td><td>  970 </td><td>  - - </td><td>  1958 </td></tr><tr><td>  13.000 </td><td>  - - </td><td>  - - </td><td>  - - </td><td>  - - </td><td>  730 </td><td>  - - </td><td>  1897 </td></tr><tr><td>  14.000 </td><td>  - - </td><td>  - - </td><td>  - - </td><td>  - - </td><td>  590 </td><td>  - - </td><td>  1466 </td></tr><tr><td>  15.000 </td><td>  - - </td><td>  - - </td><td>  - - </td><td>  - - </td><td>  532 </td><td>  - - </td><td>  1281 </td></tr></tbody></table></div><br>  Aus der Grafik und Tabelle geht hervor, dass √ºber 8000 gleichzeitige Anfragen nur noch zwei Spieler √ºbrig sind: Pre-Fork und Epoll.  Mit zunehmender Auslastung ist der umfragebasierte Server schlechter als der Streaming-Server.  Die Pre-Threading-Architektur konkurriert mit epoll: Dies ist ein Beweis daf√ºr, wie gut der Linux-Kernel eine gro√üe Anzahl von Threads plant. <br><br><h1>  Quellcode ZeroHTTPd </h1><br>  Der Quellcode f√ºr ZeroHTTPd ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://github.com/shuveb/zero">hier</a> .  Jede Architektur hat ein eigenes Verzeichnis. <br><br><pre>  ZeroHTTPd
 ‚îÇ
 ‚îú‚îÄ‚îÄ 01_iterativ
 ‚îÇ ‚îú main.c
 ‚îú‚îÄ‚îÄ 02_Gabelung
 ‚îÇ ‚îú main.c
 ‚îú‚îÄ‚îÄ 03_Vorforking
 ‚îÇ ‚îú main.c
 ‚îú‚îÄ‚îÄ 04_Threading
 ‚îÇ ‚îú main.c
 ‚îú‚îÄ‚îÄ 05_prethreading
 ‚îÇ ‚îú main.c
 ‚îú‚îÄ‚îÄ 06_poll
 ‚îÇ ‚îú main.c
 ‚îú‚îÄ‚îÄ 07_epoll
 ‚îÇ ‚îî main.c
 ‚îú‚îÄ‚îÄ Makefile
 ‚îú‚îÄ‚îÄ √∂ffentlich
 ‚îÇ ‚îú index.html
 ‚îÇ ‚îî tux.png
 ‚îî‚îÄ‚îÄ Vorlagen
     ‚îî‚îÄ‚îÄ G√§stebuch
         ‚îî‚îÄ‚îÄ index.html </pre><br>  Neben sieben Verzeichnissen f√ºr alle Architekturen befinden sich zwei weitere Verzeichnisse im Verzeichnis der obersten Ebene: public und templates.  Die erste enth√§lt die Datei index.html und das Bild aus dem ersten Screenshot.  Dort k√∂nnen andere Dateien und Ordner abgelegt werden, und ZeroHTTPd sollte diese statischen Dateien problemlos ausgeben.  Wenn der Pfad im Browser mit dem Pfad im √∂ffentlichen Ordner √ºbereinstimmt, sucht ZeroHTTPd in ‚Äã‚Äãdiesem Verzeichnis nach der Datei index.html.  G√§stebuchinhalte werden dynamisch generiert.  Es hat nur die Hauptseite und der Inhalt basiert auf der Datei 'templates / guestbook / index.html'.  ZeroHTTPd f√ºgt auf einfache Weise dynamische Seiten zur Erweiterung hinzu.  Die Idee ist, dass Benutzer diesem Verzeichnis Vorlagen hinzuf√ºgen und ZeroHTTPd nach Bedarf erweitern k√∂nnen. <br><br>  Um alle sieben Server zu erstellen, f√ºhren Sie <code>make all</code> aus dem Verzeichnis der obersten Ebene aus. Alle Builds werden in diesem Verzeichnis angezeigt.  Die ausf√ºhrbaren Dateien suchen in dem Verzeichnis, in dem sie ausgef√ºhrt werden, nach den Verzeichnissen public und templates. <br><br><h1>  Linux API </h1><br>  Um die Informationen in dieser Artikelserie zu verstehen, m√ºssen Sie sich nicht mit der Linux-API auskennen.  Ich empfehle jedoch, mehr zu diesem Thema zu lesen. Es gibt viele Referenzressourcen im Web.  Obwohl wir verschiedene Kategorien von Linux-APIs abdecken werden, konzentrieren wir uns haupts√§chlich auf Prozesse, Threads, Ereignisse und den Netzwerkstapel.  Neben B√ºchern und Artikeln √ºber die Linux-API empfehle ich auch das Lesen von Mana f√ºr verwendete Systemaufrufe und Bibliotheksfunktionen. <br><br><h1>  Leistung und Skalierbarkeit </h1><br>  Ein Hinweis zu Leistung und Skalierbarkeit.  Theoretisch besteht keine Verbindung zwischen ihnen.  M√∂glicherweise haben Sie einen Webdienst, der mit einer Antwortzeit von einigen Millisekunden sehr gut funktioniert, aber √ºberhaupt nicht skaliert.  In √§hnlicher Weise gibt es m√∂glicherweise eine schlecht ausgef√ºhrte Webanwendung, deren Antwort einige Sekunden dauert, die jedoch auf Zehn skaliert wird, um Zehntausende gleichzeitiger Benutzer zu verarbeiten.  Die Kombination aus hoher Leistung und Skalierbarkeit ist jedoch eine sehr leistungsstarke Kombination.  Hochleistungsanwendungen nutzen Ressourcen im Allgemeinen sparsam und bedienen so effektiv mehr gleichzeitige Benutzer auf dem Server, wodurch die Kosten gesenkt werden. <br><br><h1>  CPU- und E / A-Aufgaben </h1><br>  Schlie√ülich gibt es beim Rechnen immer zwei m√∂gliche Arten von Aufgaben: f√ºr E / A und CPU.  Das Empfangen von Anforderungen √ºber das Internet (Netzwerk-E / A), die Dateiverwaltung (Netzwerk- und Festplatten-E / A) und die Kommunikation mit der Datenbank (Netzwerk- und Festplatten-E / A) sind E / A-Aktionen.  Einige Datenbankabfragen k√∂nnen die CPU ein wenig belasten (Sortieren, Berechnen des Durchschnitts von einer Million Ergebnissen usw.).  Die meisten Webanwendungen sind durch die maximal m√∂gliche E / A begrenzt, und der Prozessor wird selten mit voller Kapazit√§t verwendet.  Wenn Sie feststellen, dass einige CPUs viele CPUs verwenden, ist dies h√∂chstwahrscheinlich ein Zeichen f√ºr eine schlechte Anwendungsarchitektur.  Dies kann bedeuten, dass CPU-Ressourcen f√ºr die Prozesssteuerung und die Kontextumschaltung aufgewendet werden - und dies ist nicht ganz n√ºtzlich.  Wenn Sie beispielsweise Bildverarbeitung, Audiokonvertierung oder maschinelles Lernen ausf√ºhren, ben√∂tigt die Anwendung leistungsstarke CPU-Ressourcen.  Bei den meisten Anwendungen ist dies jedoch nicht der Fall. <br><br><h1>  Mehr zu Serverarchitekturen </h1><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil I. Iterative Architektur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil II</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gabel-Server</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil III.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pre-Fork-Server</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil IV</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Server mit Threads</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil V. Server mit Thread-Vorerstellung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil VI.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Umfragebasierte Architektur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil VII.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Epoll Architektur</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de455212/">https://habr.com/ru/post/de455212/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de455194/index.html">Amazon startet die Lieferung von Drohnen. Wie es funktionieren wird</a></li>
<li><a href="../de455202/index.html">Big Data im Hotelmanagement: Die Nutzung kann nicht ignoriert werden</a></li>
<li><a href="../de455204/index.html">Die Luke des Sojus-Raumfahrzeugs MS-14 war f√ºr den FEDOR-Roboter eng</a></li>
<li><a href="../de455206/index.html">5 Testfragen f√ºr eine schnelle Jobsuche in Deutschland</a></li>
<li><a href="../de455210/index.html">Carding und Black Boxes: Wie Geldautomaten heute gehackt werden</a></li>
<li><a href="../de455214/index.html">Stanford, wir scheinen ein Problem zu haben ...</a></li>
<li><a href="../de455216/index.html">Doppler-Geschwindigkeitsmesser</a></li>
<li><a href="../de455218/index.html">√ñkosystemansatz zur Gesch√§ftstechnologie</a></li>
<li><a href="../de455224/index.html">Fingermusik: Spielen Sie alles mit Spheros SpecDrums</a></li>
<li><a href="../de455226/index.html">Warum einen angewandten Linguisten bewerben?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>