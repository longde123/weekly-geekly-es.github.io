<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚈 👨🏾‍🔧 📡 如何从1到10中选择一个随机数 💦 ☯️ 🚬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="想象一下，您需要生成一个从1到10的均匀分布的随机数。即，一个从1到10的整数（含1和10），并且每次出现的概率均等（10％）。 但是，也就是说，无法访问硬币，计算机，放射性物质或其他（伪）随机数的类似来源。 您只能与人同住一个房间。 

 假设这个房间里有8500多名学生。 

 最简单的事情是问...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>如何从1到10中选择一个随机数</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459532/"> 想象一下，您需要生成一个从1到10的均匀分布的随机数。即，一个从1到10的整数（含1和10），并且每次出现的概率均等（10％）。 但是，也就是说，无法访问硬币，计算机，放射性物质或其他（伪）随机数的类似来源。 您只能与人同住一个房间。 <br><br> 假设这个房间里有8500多名学生。 <br><br> 最简单的事情是问一个人：“嘿，从1到10中选择一个随机数！”。 那人回答：“七个！”。 太好了！ 现在您有一个电话号码。 但是，您开始怀疑它是否均匀分布。 <br><a name="habracut"></a><br> 所以您决定再问几个人。 您不断询问他们并计算他们的答案，四舍五入小数，而忽略那些认为从1到10的范围包括0的人。最后，您开始发现分布根本不均匀： <br><br><pre><code class="plaintext hljs">library(tidyverse) probabilities &lt;- read_csv("https://git.io/fjoZ2") %&gt;% count(outcome = round(pick_a_random_number_from_1_10)) %&gt;% filter(!is.na(outcome), outcome != 0) %&gt;% mutate(p = n / sum(n)) probabilities %&gt;% ggplot(aes(x = outcome, y = p)) + geom_col(aes(fill = as.factor(outcome))) + scale_x_continuous(breaks = 1:10) + scale_y_continuous(labels = scales::percent_format(), breaks = seq(0, 1, 0.05)) + scale_fill_discrete(h = c(120, 360)) + theme_minimal(base_family = "Roboto") + theme(legend.position = "none", panel.grid.major.x = element_blank(), panel.grid.minor.x = element_blank()) + labs(title = '"Pick a random number from 1-10"', subtitle = "Human RNG distribution", x = "", y = NULL, caption = "Source: https://www.reddit.com/r/dataisbeautiful/comments/acow6y/asking_over_8500_students_to_pick_a_random_number/")</code> </pre> <br><img src="https://habrastorage.org/webt/-k/tx/ng/-ktxngdw0b4tk1nqomn4gbkracu.png"><br>  <i><font color="gray">来自<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Reddit的</a>数据</font></i> <br><br> 你拍你的额头。 好吧， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">当然</a> ，它不会是随机的。 毕竟， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">你不能信任别人</a> 。 <br><br><h1> 那该怎么办呢？ </h1><br> 我希望我能找到一些功能来将“人类RNG”的分布转换为统一的分布... <br><br> 直觉在这里相对简单。 您只需要从大于10％的位置获取分配质量，然后将其移动到小于10％的位置即可。 这样图表上的所有列都处于同一级别： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f9f/ac0/71e/f9fac071e2c99a3110418506b46f14b2.png"><br><br> 理论上，这种功能应该存在。 实际上，必须有许多不同的功能（用于排列）。 在极端情况下，您可以将每列“切割”成无限小的块，并构建任何形状的分布（例如Lego积木）。 <br><br> 当然，这样一个极端的例子有点麻烦。 理想情况下，我们希望保留尽可能多的初始分布（即，尽可能减少碎片和移动）。 <br><br><h1> 如何找到这样的功能？ </h1><br> 好吧，我们上面的解释听起来很像<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">线性编程</a> 。 从维基百科： <br><br> 线性规划（LP，也称为线性优化）是一种在数学模型中以线性关系表示其要求的方法，以获得最佳结果。标准形式是描述线性规划问题的通常且最直观的形式。 它包括三个部分： <br><br><ul><li> 线性函数要最大化 <br></li><li> 以下形式的问题局限性 <br></li><li> 非负变量 </li></ul><br> 同样，可以提出重新分配的问题。 <br><br><h1> 问题介绍 </h1><br> 我们有一组变量 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>j</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.098ex" height="2.78ex" viewBox="0 -780.1 2625.4 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><g transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-69" x="0" y="0"></use><g transform="translate(244,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6A" x="1175" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>j</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-1">（x_ {i，j} </script>  ，每个都编码从整数重新分配的几分之一概率 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6211;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>我</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-2">我</script>  （1到10）为整数 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> j </script>  （从1到10）。 因此，如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>7</mn><mo>,</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>0.2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.661ex" height="2.66ex" viewBox="0 -780.1 5020.8 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><g transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-37" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="779" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="2685" y="0"></use><g transform="translate(3741,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>7</mn><mo>,</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>0.2</mn></math></span></span><script type="math/tex" id="MathJax-Element-4">（x_ {7,1} = 0.2 </script>  ，那么我们需要将答案的20％从7转移到1。 <br><br><pre> <code class="plaintext hljs">variables &lt;- crossing(from = probabilities$outcome, to = probabilities$outcome) %&gt;% mutate(name = glue::glue("x({from},{to})"), ix = row_number()) variables</code> </pre> <br><pre>  ##＃小标题：100 x 4
 ##从到名称ix
 ## &lt;dbl&gt; &lt;dbl&gt; &lt;胶水&gt; &lt;int&gt;
 ## 1 1 1 x（1,1）1
 ## 2 1 2 x（1,2）2
 ## 3 1 3 x（1,3）3
 ## 4 1 4 x（1,4）4
 ## 5 1 5 x（1,5）5
 ## 6 1 6 x（1,6）6
 ## 7 1 7 x（1,7）7
 ## 8 1 8 x（1,8）8
 ## 9 1 9 x（1.9）9
 ## 10 1 10 x（1,10）10
 ##＃...还有90多行 </pre><br> 我们希望限制这些变量，以便所有重新分配的概率加起来为10％。 换句话说，对于每个 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> j </script> 从1到10： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>j</mi></mrow></msub><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>s</mi><mtext>&amp;#xA0;</mtext><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>10</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>j</mi></mrow></msub><mo>=</mo><mn>0.1</mn></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.975ex" height="2.78ex" viewBox="0 -780.1 13766.8 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="0" y="0"></use><g transform="translate(353,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6A" x="1330" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-2B" x="2127" y="0"></use><g transform="translate(3127,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="0" y="0"></use><g transform="translate(353,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6A" x="1330" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-2B" x="5255" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6C" x="6505" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-64" x="6804" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6F" x="7327" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-74" x="7813" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-73" x="8174" y="0"></use><g transform="translate(8894,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-30" x="500" y="0"></use><g transform="translate(707,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6A" x="1830" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="11431" y="0"></use><g transform="translate(12487,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>j</mi></mrow></msub><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>s</mi><mtext>&nbsp;</mtext><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>10</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>j</mi></mrow></msub><mo>=</mo><mn>0.1</mn></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> x_ {1，j} + x_ {2，j} + \ ldots \ x_ {10，j} = 0.1 </script></p><br> 我们可以将这些限制表示为R中的数组列表。稍后，我们将它们绑定到矩阵中。 <br><br><pre> <code class="plaintext hljs">fill_array &lt;- function(indices, weights, dimensions = c(1, max(variables$ix))) { init &lt;- array(0, dim = dimensions) if (length(weights) == 1) { weights &lt;- rep_len(1, length(indices)) } reduce2(indices, weights, function(a, i, v) { a[1, i] &lt;- v a }, .init = init) } constrain_uniform_output &lt;- probabilities %&gt;% pmap(function(outcome, p, ...) { x &lt;- variables %&gt;% filter(to == outcome) %&gt;% left_join(probabilities, by = c("from" = "outcome")) fill_array(x$ix, x$p) })</code> </pre> <br> 我们还必须确保保留初始分布中的全部概率。 所以对大家 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-7"> j </script> 范围从1到10： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>j</mi></mrow></msub><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>s</mi><mtext>&amp;#xA0;</mtext><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>10</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>j</mi></mrow></msub><mo>=</mo><mn>0.1</mn></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.975ex" height="2.78ex" viewBox="0 -780.1 13766.8 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="0" y="0"></use><g transform="translate(353,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6A" x="1330" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-2B" x="2127" y="0"></use><g transform="translate(3127,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="0" y="0"></use><g transform="translate(353,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6A" x="1330" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-2B" x="5255" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6C" x="6505" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-64" x="6804" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6F" x="7327" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-74" x="7813" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-73" x="8174" y="0"></use><g transform="translate(8894,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-30" x="500" y="0"></use><g transform="translate(707,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6A" x="1830" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="11431" y="0"></use><g transform="translate(12487,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>j</mi></mrow></msub><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>s</mi><mtext>&nbsp;</mtext><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>10</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>j</mi></mrow></msub><mo>=</mo><mn>0.1</mn></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-8"> x_ {1，j} + x_ {2，j} + \ ldots \ x_ {10，j} = 0.1 </script></p><br><pre> <code class="plaintext hljs">one_hot &lt;- partial(fill_array, weights = 1) constrain_original_conserved &lt;- probabilities %&gt;% pmap(function(outcome, p, ...) { variables %&gt;% filter(from == outcome) %&gt;% pull(ix) %&gt;% one_hot() })</code> </pre> <br> 如前所述，我们希望最大程度地保留原始发行版。 这是我们的<i>目标</i> ： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6700;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5927;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x5316;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mn>2</mn></mrow></msub><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>s</mi><mtext>&amp;#xA0;</mtext><msub><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>10</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mn>10</mn></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="36.798ex" height="2.66ex" viewBox="0 -780.1 15843.7 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">最</text><g transform="translate(829,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">大</text></g><g transform="translate(1659,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">化</text></g><g transform="translate(2489,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(3319,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="0" y="0"></use><g transform="translate(353,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="1330" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-2B" x="5509" y="0"></use><g transform="translate(6510,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="0" y="0"></use><g transform="translate(353,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="1330" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-2B" x="8699" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6C" x="9950" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-64" x="10248" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6F" x="10772" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-74" x="11257" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-73" x="11619" y="0"></use><g transform="translate(12338,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-30" x="500" y="0"></use><g transform="translate(707,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(1294,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-30" x="500" y="0"></use></g></g></g><g transform="translate(15013,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo>最</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>大</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>化</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mn>2</mn></mrow></msub><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>s</mi><mtext>&nbsp;</mtext><msub><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>10</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mn>10</mn></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-9">最大化（x_ {1，1} + x_ {2，2} + \ ldots \ x_ {10，10}）</script></p><br><pre> <code class="plaintext hljs">maximise_original_distribution_reuse &lt;- probabilities %&gt;% pmap(function(outcome, p, ...) { variables %&gt;% filter(from == outcome, to == outcome) %&gt;% pull(ix) %&gt;% one_hot() }) objective &lt;- do.call(rbind, maximise_original_distribution_reuse) %&gt;% colSums()</code> </pre> <br><br> 然后，我们将问题传递给求解器，例如R中的<code>lpSolve</code>包，将创建的约束组合到一个矩阵中： <br><br><pre> <code class="plaintext hljs"># Make results reproducible... set.seed(23756434) solved &lt;- lpSolve::lp( direction = "max", objective.in = objective, const.mat = do.call(rbind, c(constrain_original_conserved, constrain_uniform_output)), const.dir = c(rep_len("==", length(constrain_original_conserved)), rep_len("==", length(constrain_uniform_output))), const.rhs = c(rep_len(1, length(constrain_original_conserved)), rep_len(1 / nrow(probabilities), length(constrain_uniform_output))) ) balanced_probabilities &lt;- variables %&gt;% mutate(p = solved$solution) %&gt;% left_join(probabilities, by = c("from" = "outcome"), suffix = c("_redistributed", "_original"))</code> </pre> <br> 返回以下重新分配： <br><br><pre> <code class="plaintext hljs">library(gganimate) redistribute_anim &lt;- bind_rows(balanced_probabilities %&gt;% mutate(key = from, state = "Before"), balanced_probabilities %&gt;% mutate(key = to, state = "After")) %&gt;% ggplot(aes(x = key, y = p_redistributed * p_original)) + geom_col(aes(fill = as.factor(from)), position = position_stack()) + scale_x_continuous(breaks = 1:10) + scale_y_continuous(labels = scales::percent_format(), breaks = seq(0, 1, 0.05)) + scale_fill_discrete(h = c(120, 360)) + theme_minimal(base_family = "Roboto") + theme(legend.position = "none", panel.grid.major.x = element_blank(), panel.grid.minor.x = element_blank()) + labs(title = 'Balancing the "Human RNG distribution"', subtitle = "{closest_state}", x = "", y = NULL) + transition_states( state, transition_length = 4, state_length = 3 ) + ease_aes('cubic-in-out') animate( redistribute_anim, start_pause = 8, end_pause = 8 )</code> </pre> <br><img src="https://habrastorage.org/webt/0a/jd/97/0ajd97wzrznq0bw7hea6n4bikl8.gif"><br><br> 太好了！ 现在，我们有了重新分配功能。 让我们仔细看看质量如何运动： <br><br><pre> <code class="plaintext hljs">balanced_probabilities %&gt;% ggplot(aes(x = from, y = to)) + geom_tile(aes(alpha = p_redistributed, fill = as.factor(from))) + geom_text(aes(label = ifelse(p_redistributed == 0, "", scales::percent(p_redistributed, 2)))) + scale_alpha_continuous(limits = c(0, 1), range = c(0, 1)) + scale_fill_discrete(h = c(120, 360)) + scale_x_continuous(breaks = 1:10) + scale_y_continuous(breaks = 1:10) + theme_minimal(base_family = "Roboto") + theme(panel.grid.minor = element_blank(), panel.grid.major = element_line(linetype = "dotted"), legend.position = "none") + labs(title = "Probability mass redistribution", x = "Original number", y = "Redistributed number")</code> </pre> <br><img src="https://habrastorage.org/webt/hu/ic/xk/huicxkem3bii4lq4vlysw6odf6o.png"><br><br> 这张图说，在大约8％的情况下，当某人以随机数呼叫8时，您需要将答案作为一个单位。 在其余92％的案件中，他仍然是八名。 <br><br> 如果我们可以使用均匀分布的随机数（从0到1）的生成器，则解决该问题将非常简单。 但是我们只有一个挤满了人的房间。 幸运的是，如果您准备好以一些小错误来达成协议，那么您可以从人们中获得相当不错的RNG，而无需问两次以上。 <br><br> 回到我们的原始分布，我们为每个数字提供以下概率，如有必要，可将其用于重新分配任何概率。 <br><br><pre> <code class="plaintext hljs">probabilities %&gt;% transmute(number = outcome, probability = scales::percent(p))</code> </pre> <br><pre>  ##＃小标题：10 x 2
 ##数字概率
 ## &lt;dbl&gt; &lt;chr&gt;
 ## 1 1 3.4％
 ## 2 2 8.5％
 ## 3 3 10.0％
 ## 4 4 9.7％
 ## 5 5 12.2％
 ## 6 6 9.8％
 ## 7 7 28.1％
 ## 8 8 10.9％
 ## 9 9 5.4％
 ## 10 10 1.9％ </pre><br> 例如，当有人给我们八个随机数时，我们需要确定这八个数字是否应成为一个单位（概率为8％）。 如果我们问<i>另一个</i>人一个随机数，那么他以8.5％的概率回答“两个”。 因此，如果第二个数字为2，我们知道必须返回1作为<i>均匀分布的</i>随机数。 <br><br> 将此逻辑扩展到所有数字，我们获得以下算法： <br><br><blockquote><ul><li> 问一个人一个随机数， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.449ex" height="1.696ex" viewBox="0 -520.7 1054.4 730.2" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="849" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-10"> n_1 </script>  。 </li><li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mn>3</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mn>4</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mn>6</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mn>9</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.088ex" height="2.298ex" viewBox="0 -780.1 10371.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="849" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="2388" y="0"></use><g transform="translate(2888,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="3718" y="0"></use><g transform="translate(4219,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-33" x="5049" y="0"></use><g transform="translate(5549,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-34" x="6379" y="0"></use><g transform="translate(6880,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-36" x="7710" y="0"></use><g transform="translate(8210,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-39" x="9040" y="0"></use><g transform="translate(9541,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mn>3</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mn>4</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mn>6</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mn>9</mn><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-11"> n_1 = 1，2，3，4，6，9，</script> 或 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>10</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.325ex" height="1.937ex" viewBox="0 -728.2 1001 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-30" x="500" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>10</mn></math></span></span><script type="math/tex" id="MathJax-Element-12"> 10 </script>  ： <br><ul><li> 您的随机数 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.449ex" height="1.696ex" viewBox="0 -520.7 1054.4 730.2" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="849" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-13"> n_1 </script></li></ul></li><li> 如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mn>5</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.71ex" height="2.178ex" viewBox="0 -728.2 2889 937.7" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="849" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-35" x="2388" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mn>5</mn></math></span></span><script type="math/tex" id="MathJax-Element-14"> n_1 = 5 </script>  ： <br><ul><li> 向另一个人询问一个随机数（ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.449ex" height="1.696ex" viewBox="0 -520.7 1054.4 730.2" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="849" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-15"> n_2 </script>  ） </li><li> 如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>5</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.71ex" height="2.178ex" viewBox="0 -728.2 2889 937.7" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="849" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-35" x="2388" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>5</mn></math></span></span><script type="math/tex" id="MathJax-Element-16"> n_2 = 5 </script>  （12.2％）： <br><ul><li> 您的随机数2 </li></ul></li><li> 如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>10</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.872ex" height="2.178ex" viewBox="0 -728.2 3389.5 937.7" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="849" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="1332" y="0"></use><g transform="translate(2388,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-30" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>10</mn></math></span></span><script type="math/tex" id="MathJax-Element-17"> n_2 = 10 </script>  （1.9％）： <br><ul><li> 您的随机数4 </li></ul></li><li> 否则，您的随机数是5 </li></ul></li><li> 如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mn>7</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.71ex" height="2.298ex" viewBox="0 -780.1 2889 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="849" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-37" x="2388" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mn>7</mn></math></span></span><script type="math/tex" id="MathJax-Element-18"> n_1 = 7 </script>  ： <br><ul><li> 向另一个人询问一个随机数（ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.449ex" height="1.696ex" viewBox="0 -520.7 1054.4 730.2" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="849" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-19"> n_2 </script>  ） </li><li> 如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.71ex" height="2.178ex" viewBox="0 -728.2 2889 937.7" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="849" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="2388" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>2</mn></math></span></span><script type="math/tex" id="MathJax-Element-20"> n_2 = 2 </script> 或 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>5</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-35" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>5</mn></math></span></span><script type="math/tex" id="MathJax-Element-21"> 5 </script>  （20.7％）： <br><ul><li> 您的随机数1 </li></ul></li><li> 如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>8</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.71ex" height="2.178ex" viewBox="0 -728.2 2889 937.7" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="849" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-38" x="2388" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>8</mn></math></span></span><script type="math/tex" id="MathJax-Element-22"> n_2 = 8 </script> 或 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>9</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-39" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>9</mn></math></span></span><script type="math/tex" id="MathJax-Element-23"> 9 </script>  （16.2％）： <br><ul><li> 您的随机数是9 </li></ul></li><li> 如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>7</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.71ex" height="2.298ex" viewBox="0 -780.1 2889 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="849" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-37" x="2388" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>7</mn></math></span></span><script type="math/tex" id="MathJax-Element-24"> n_2 = 7 </script>  （28.1％）： <br><ul><li> 您的随机数是10 </li></ul></li><li> 否则，您的随机数是7 </li></ul></li><li> 如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mn>8</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.71ex" height="2.178ex" viewBox="0 -728.2 2889 937.7" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-31" x="849" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-38" x="2388" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mn>8</mn></math></span></span><script type="math/tex" id="MathJax-Element-25"> n_1 = 8 </script>  ： <br><ul><li> 向另一个人询问一个随机数（ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.449ex" height="1.696ex" viewBox="0 -520.7 1054.4 730.2" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="849" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-26"> n_2 </script>  ） </li><li> 如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.71ex" height="2.178ex" viewBox="0 -728.2 2889 937.7" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="849" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/459532/&amp;usg=ALkJrhjAzDXArzmeiPuvThJ6-Vv_PihqUg#MJMAIN-32" x="2388" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>2</mn></math></span></span><script type="math/tex" id="MathJax-Element-27"> n_2 = 2 </script>  （8.5％）： <br><ul><li> 您的随机数1 </li></ul></li><li> 否则，您的随机数是8 </li></ul></li></ul></blockquote> 使用此算法，您可以使一群人接近从1到10均匀分布的随机数生成器！ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN459532/">https://habr.com/ru/post/zh-CN459532/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN459514/index.html">.NET：用于处理多线程和异步的工具。 第二部分</a></li>
<li><a href="../zh-CN459518/index.html">面试中的Python任务说明</a></li>
<li><a href="../zh-CN459520/index.html">一个自然数列及其元素的模型。 菱形</a></li>
<li><a href="../zh-CN459528/index.html">我们如何教法国生态学和收集瓶子</a></li>
<li><a href="../zh-CN459530/index.html">微生物群。 研究历史和研究方法</a></li>
<li><a href="../zh-CN459536/index.html">开发JetBrains产品的插件并在JetBrains市场上出售</a></li>
<li><a href="../zh-CN459538/index.html">＃18拉莫达的Mosdroid Argon-公告</a></li>
<li><a href="../zh-CN459540/index.html">Microfronts：我们在说什么？</a></li>
<li><a href="../zh-CN459542/index.html">游戏化机制：技能树</a></li>
<li><a href="../zh-CN459544/index.html">为什么切尔诺贝利系列对核能的描述如此差劲</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>