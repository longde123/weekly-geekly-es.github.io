<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â ğŸ‘©ğŸ¼â€ğŸ”§ ğŸ¦— Zigå¦‚ä½•å·¥ä½œï¼Ÿ ğŸ¤¦ ğŸ’ªğŸ¾ âºï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ¥è‡ªç¿»è¯‘è€…ï¼šè¿™ç¯‡æ–‡ç« äº2018å¹´3æœˆ15æ—¥å‘å¸ƒåœ¨ä½œè€…çš„åšå®¢ä¸Šã€‚ éšç€è¯­è¨€çš„å‘å±•ï¼Œç›®å‰å…¶è¯­æ³•å¯èƒ½æœ‰æ‰€ä¸åŒã€‚ æ‰€æè¿°çš„æ‰€æœ‰å†…å®¹å‡ä¸Zig 0.2.0æœ‰å…³ï¼Œè¯¥è¯­è¨€çš„å½“å‰ç‰ˆæœ¬ä¸ºZig 0.3.0ã€‚ 

 æˆ‘è”ç³»äº†å¸–å­çš„ä½œè€…ï¼Œä»–åœ¨Zig 0.3.0ä¸Šæä¾›äº†åˆ°é¡¹ç›®æºçš„æœ€æ–°ç‰ˆæœ¬çš„èµ„æºåº“é“¾æ¥ã€‚ 
 
 ä½ å¥½ è®©æˆ‘ä»¬...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zigå¦‚ä½•å·¥ä½œï¼Ÿ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435574/">  <i>æ¥è‡ªç¿»è¯‘è€…ï¼šè¿™ç¯‡æ–‡ç« äº2018å¹´3æœˆ15æ—¥å‘å¸ƒåœ¨ä½œè€…çš„åšå®¢ä¸Šã€‚</i>  <i>éšç€è¯­è¨€çš„å‘å±•ï¼Œç›®å‰å…¶è¯­æ³•å¯èƒ½æœ‰æ‰€ä¸åŒã€‚</i>  <i>æ‰€æè¿°çš„æ‰€æœ‰å†…å®¹å‡ä¸Zig 0.2.0æœ‰å…³ï¼Œè¯¥è¯­è¨€çš„å½“å‰ç‰ˆæœ¬ä¸ºZig 0.3.0ã€‚</i> <i><br><br></i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æˆ‘è”ç³»äº†å¸–å­çš„ä½œè€…ï¼Œä»–åœ¨Zig 0.3.0ä¸Šæä¾›äº†åˆ°é¡¹ç›®æºçš„æœ€æ–°ç‰ˆæœ¬çš„èµ„æºåº“é“¾æ¥ã€‚</a></i> <i><br></i> <br> ä½ å¥½ è®©æˆ‘ä»¬å†™ä¸€ä¸ªBrainfuckè§£é‡Šå™¨ï¼  â€œä¸ºä»€ä¹ˆï¼Ÿâ€  â€œæ‚¨å¯èƒ½ä¼šé—®ï¼Œä½†åœ¨è¿™é‡Œæ‰¾ä¸åˆ°ç­”æ¡ˆã€‚â€ <br><br> æˆ‘å°†åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Zig</a>ä¸Šæ‰§è¡Œæ­¤æ“ä½œã€‚ <br><img src="https://habrastorage.org/webt/p2/l1/zs/p2l1zsmnlu7j_yqwm6fczu4ycay.jpeg"><br><h3>  Zigæ˜¯... </h3><br>  ...ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€ã€‚ å®ƒä»å¤„äºæµ‹è¯•é˜¶æ®µï¼Œå¹¶ä¸”æ­£åœ¨è¿…é€Ÿå‘å±•ã€‚ å¦‚æœæ‚¨ä¹‹å‰çœ‹è¿‡Zigä»£ç ï¼Œé‚£ä¹ˆæœ¬ç¯‡æ–‡ç« ä¸­çš„ä»£ç ä¼¼ä¹å¯¹æ‚¨è€Œè¨€å°±æœ‰äº›ä¸åŒäº†ã€‚ ä»–çœŸçš„ä¸ä¸€æ ·ï¼  Zig 0.2.0åˆšåˆšå‘å¸ƒï¼Œä¸å‡ å‘¨å‰å‘å¸ƒçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">LLVM 6</a>ä¸€è‡´ï¼Œå®ƒåŒ…æ‹¬è®¸å¤šè¯­æ³•æ›´æ”¹å’Œå¸¸è§„è¯­è¨€æ”¹è¿›ã€‚ é€šå¸¸ï¼Œè®¸å¤šâ€œå’’è¯­â€å·²è¢«å…³é”®å­—æ›¿æ¢ã€‚ æœ‰å…³æ‰€æœ‰æ›´æ”¹çš„æ›´è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚è§<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a> ï¼ <br><br> å¯¹äºç†Ÿæ‚‰Cå’ŒC ++ç­‰æŸäº›ç¼–è¯‘å’Œç±»å‹åŒ–è¯­è¨€ï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹è¿˜åŒ…æ‹¬Rustï¼‰çš„äººæ¥è¯´ï¼ŒZigçš„è®¾è®¡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…·æœ‰å¯è¯»æ€§</a>å’Œç›¸å¯¹ç›´è§‚æ€§ã€‚ <br><br> è¯¥ä»£ç å·²ä½¿ç”¨Zig 0.2.0è¿›è¡Œç¼–è¯‘å’Œæµ‹è¯•ï¼Œå¦‚æœæ‚¨åœ¨OSXä¸Šï¼Œåˆ™å¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é€šè¿‡å„ç§æ¸ é“</a> ï¼ˆåŒ…æ‹¬è‡ªåˆ¶è½¯ä»¶ï¼‰ä½¿ç”¨Zig 0.2.0ï¼šbrew install zigã€‚ <br><a name="habracut"></a><br><h3> è®©æˆ‘ä»¬å¼€å§‹å§ </h3><br> è¦äº†è§£Brainfuckçš„å·¥ä½œåŸç†ï¼Œè¯·å‚è§<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a> ã€‚ é‚£é‡Œå‡ ä¹æ²¡æœ‰ä»€ä¹ˆå¯å­¦çš„ï¼Œä½†è¿™æ˜¯ä¸€ç§<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å›¾çµå®Œå¤‡çš„</a>è¯­è¨€ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨ä¸Šé¢å†™<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»»ä½•ä¸œè¥¿</a> ã€‚ <br><br> æˆ‘åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a>å‘å¸ƒäº†ä»£ç ï¼Œä»¥é˜²æ‚¨æƒ³æŸ¥çœ‹æœ€ç»ˆäº§å“æˆ–æ—©æœŸæäº¤ã€‚ <br><br>  Zigæ˜¯ä¸€ç§ç¼–è¯‘è¯­è¨€ã€‚ ç¼–è¯‘ç¨‹åºæ—¶ï¼Œç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚æœæ­£åœ¨ç¼–è¯‘å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œä¸æ˜¯åº“ï¼‰åº”å…·æœ‰æ ‡è®°å…¥å£ç‚¹çš„ä¸»å‡½æ•°ã€‚ <br><br> æ‰€ä»¥... <br><br><pre><code class="plaintext hljs">// main.zig fn main() void { }</code> </pre> <br>  ...ç„¶åå¼€å§‹... <br><br><pre> <code class="bash hljs">$ zig build-exe main.zig</code> </pre> <br>  ...å‘å‡º... <br><br><pre> <code class="bash hljs">/zig/std/special/bootstrap.zig:70:33: error: <span class="hljs-string"><span class="hljs-string">'main'</span></span> is private /zigfuck/main.zig:2:1: note: declared here</code> </pre> <br>  mainå¿…é¡»å£°æ˜ä¸ºpublicä»¥ä¾¿åœ¨æ¨¡å—å¤–éƒ¨å¯è§... <br><br><pre> <code class="plaintext hljs">// main.zig pub fn main() void { }</code> </pre> <br> è®©Brainfuckç¨‹åºä½¿ç”¨30,000å­—èŠ‚çš„æ•°ç»„ä½œä¸ºå†…å­˜ï¼Œæˆ‘å°†åˆ¶ä½œè¿™æ ·çš„æ•°ç»„ã€‚ <br><br><pre> <code class="plaintext hljs">// main.zig pub fn main() void { const mem: [30000]u8; }</code> </pre> <br> æˆ‘å¯ä»¥å£°æ˜ä¸€ä¸ªå¸¸é‡ï¼ˆconstï¼‰æˆ–ä¸€ä¸ªå˜é‡ï¼ˆvarï¼‰ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘å°†memå£°æ˜ä¸º30,000ä¸ªæ— ç¬¦å·ï¼ˆuï¼‰å­—èŠ‚ï¼ˆ8ä½ï¼‰çš„æ•°ç»„ã€‚ <br><br> è¿™ä¸ä¼šç¼–è¯‘ã€‚ <br><br><pre> <code class="bash hljs">/main.zig:3:5: error: variables must be initialized</code> </pre> <br> ç­‰æ•ˆçš„Cç¨‹åºå°†æ­£å¸¸ç¼–è¯‘ï¼šæˆ‘å¯ä»¥åœ¨ä¸åˆå§‹åŒ–çš„æƒ…å†µä¸‹å£°æ˜å˜é‡ï¼Œä½†æ˜¯Zigè¿«ä½¿æˆ‘åœ¨å£°æ˜å˜é‡æ—¶ç«‹å³åšå‡ºå†³å®šã€‚ æˆ‘å¯èƒ½ä¸åœ¨ä¹ä¼šå†™ä»€ä¹ˆï¼Œä½†æ˜¯æˆ‘å¿…é¡»æ˜ç¡®æŒ‡å‡ºã€‚ æˆ‘å°†é€šè¿‡ä½¿ç”¨æœªå®šä¹‰çš„å€¼ï¼ˆæœªå®šä¹‰ï¼‰åˆå§‹åŒ–å˜é‡æ¥å®Œæˆæ­¤æ“ä½œã€‚ <br><br><pre> <code class="plaintext hljs">// main.zig pub fn main() void { const mem: [30000]u8 = undefined; }</code> </pre> <br> ç”¨æœªå®šä¹‰çš„å€¼åˆå§‹åŒ–å˜é‡å¹¶ä¸èƒ½ä¿è¯è¯¥å˜é‡åœ¨å†…å­˜ä¸­çš„å€¼ã€‚ è¿™ä¸Cä¸­çš„æœªåˆå§‹åŒ–å˜é‡å£°æ˜ç›¸åŒï¼Œé™¤äº†éœ€è¦æ˜ç¡®æŒ‡å‡ºã€‚ <br><br> ä½†ä¹Ÿè®¸æˆ‘ä¸åœ¨ä¹å¦‚ä½•åˆå§‹åŒ–æ­¤å†…å­˜ã€‚ ä¹Ÿè®¸æˆ‘æƒ³ä¿è¯åœ¨å…¶ä¸­å†™å…¥é›¶æˆ–ä¸€äº›ä»»æ„å€¼ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘è¿˜åº”è¯¥æ˜ç¡®å£°æ˜ï¼š <br><br><pre> <code class="plaintext hljs">// main.zig pub fn main() void { const mem = []u8{0} ** 30000; }</code> </pre> <br> çœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼Œä½†æ˜¯**æ˜¯ç”¨äºæ‰©å±•æ•°ç»„çš„è¿ç®—ç¬¦ã€‚ æˆ‘å£°æ˜ä¸€ä¸ª0å­—èŠ‚çš„æ•°ç»„ï¼Œç„¶åå°†å…¶æ‰©å±•ä¸º30,000ï¼Œå¹¶è·å¾—30,000ä¸ªé›¶å­—èŠ‚çš„æœ€ç»ˆåˆå§‹åŒ–å€¼ã€‚ è¯¥æ“ä½œ<i>åœ¨ç¼–è¯‘æ—¶</i>å‘ç”Ÿä¸€æ¬¡ã€‚  comptimeæ˜¯Zigçš„å‡ºè‰²åˆ›æ„ä¹‹ä¸€ï¼Œæˆ‘å°†åœ¨ä»¥ä¸‹å‡ ç¯‡æ–‡ç« ä¸­å†æ¬¡è°ˆåˆ°ã€‚ <br><br> ç°åœ¨è®©æˆ‘ä»¬åœ¨Brainfuckä¸Šç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè¯¥ç¨‹åºé™¤äº†å°†ç¬¬ä¸€ä¸ªå†…å­˜æ’æ§½å¢åŠ äº”å€ä¹‹å¤–ä»€ä¹ˆä¹Ÿä¸åšï¼ <br><br><pre> <code class="plaintext hljs">pub fn main() void { const mem = []u8{0} ** 30000; const src = "+++++"; }</code> </pre> <br> åœ¨Zigä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯å­—èŠ‚æ•°ç»„ã€‚ æˆ‘ä¸åº”è¯¥å°†srcå£°æ˜ä¸ºå­—èŠ‚æ•°ç»„ï¼Œå› ä¸ºç¼–è¯‘å™¨æš—å«äº†è¿™ä¸€ç‚¹ã€‚ è¿™æ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯å¦‚æœæ‚¨æ„¿æ„ï¼Œåˆ™å¯ä»¥ï¼š <br><br><pre> <code class="plaintext hljs">const src: [5]u8 = "+++++";</code> </pre> <br> è¿™æ ·å¯ä»¥ç¼–è¯‘è‰¯å¥½ã€‚ ä½†æ˜¯ï¼Œè¿™ï¼š <br><br><pre> <code class="plaintext hljs">const src: [6]u8= "+++++";</code> </pre> <br> ä¸ä¼šã€‚ <br><br><pre> <code class="bash hljs">main.zig:5:22: error: expected <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> <span class="hljs-string"><span class="hljs-string">'[6]u8'</span></span>, found <span class="hljs-string"><span class="hljs-string">'[5]u8'</span></span></code> </pre> <br> è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šç”±äºå­—ç¬¦ä¸²åªæ˜¯æ•°ç»„ï¼Œæ‰€ä»¥å®ƒä»¬ä¸ä»¥é›¶ç»“å°¾ã€‚ ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥å£°æ˜ä¸€ä¸ªä»¥ç©ºå€¼ç»ˆæ­¢çš„å­—ç¬¦ä¸²Cã€‚ä½œä¸ºæ–‡å­—ï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="plaintext hljs">c"Hello I am a null terminated string";</code> </pre> <br><h3> ä¸ºäº†å…±åŒçš„åˆ©ç›Š... </h3><br> æˆ‘æƒ³å¯¹å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦è¿›è¡Œå¤„ç†ã€‚ æˆ‘åšå¾—åˆ°ï¼ åœ¨main.zigçš„å¼€å¤´ï¼Œæˆ‘ä»æ ‡å‡†åº“ä¸­å¯¼å…¥äº†ä¸€äº›å‡½æ•°ï¼š <br><br><pre> <code class="plaintext hljs">const warn = @import("std").debug.warn;</code> </pre> <br> å°±åƒå‡ ä¹æ‰€æœ‰ä»¥@ç¬¦å·å¼€å¤´çš„å†…å®¹ä¸€æ ·ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">import</a>éƒ½æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å†…ç½®çš„ç¼–è¯‘å™¨å‡½æ•°</a> ã€‚ è¿™äº›åŠŸèƒ½å§‹ç»ˆåœ¨å…¨çƒèŒƒå›´å†…å¯ç”¨ã€‚ æ­¤å¤„çš„å¯¼å…¥ä¸javascriptç›¸ä¼¼-æ‚¨å¯ä»¥é€šè¿‡æ·±å…¥åç§°ç©ºé—´å¹¶ä»ä¸­æå–ä»»ä½•å…¬å¼€å¯ç”¨çš„å‡½æ•°æˆ–å˜é‡æ¥å¯¼å…¥ä»»ä½•å†…å®¹ã€‚ åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ç›´æ¥å¯¼å…¥äº†è­¦å‘Šå‡½æ•°ï¼Œå¹¶çªç„¶å°†å…¶åˆ†é…ç»™è­¦å‘Šå¸¸é‡ã€‚ ç°åœ¨å¯ä»¥æ‰“ç”µè¯ç»™å¥¹äº†ã€‚ è¿™æ˜¯ä¸€ç§å¸¸è§çš„æ¨¡å¼ï¼šæˆ‘ä»¬ç›´æ¥ä»stdåç§°ç©ºé—´å¯¼å…¥ï¼Œç„¶åè°ƒç”¨std.debug.warnï¼ˆï¼‰æˆ–å°†å…¶åˆ†é…ç»™warnå˜é‡ã€‚ çœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="plaintext hljs">const std = @import("std"); const warn = std.debug.warn;</code> </pre> <br><pre> <code class="plaintext hljs">const warn = @import("std").debug.warn; // main.zig pub fn main() void { const mem = []u8{0} ** 30000; const src = "+++++"; for (src) |c| { warn("{}", c); } }</code> </pre> <br> åœ¨è°ƒè¯•ï¼Œåˆå§‹å¼€å‘å’Œæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘åªæƒ³åœ¨å±å¹•ä¸Šæ‰“å°ä¸€äº›å†…å®¹ã€‚  Zig <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®¹æ˜“å‡ºé”™</a> ï¼Œstdoutä¹Ÿå®¹æ˜“å‡ºé”™ã€‚ æˆ‘ç°åœ¨ä¸æƒ³è¿™æ ·åšï¼Œæˆ‘å¯ä»¥ä½¿ç”¨ä»æ ‡å‡†åº“å¯¼å…¥çš„warnç›´æ¥æ‰“å°åˆ°stderrã€‚ <br><br> è­¦å‘Šä½¿ç”¨æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚Cè¯­è¨€ä¸­çš„printfï¼ ä¸Šé¢çš„ä»£ç å°†æ‰“å°ï¼š <br><br><pre> <code class="plaintext hljs">4343434343</code> </pre> <br>  43æ˜¯ASCIIå­—ç¬¦ä»£ç +ã€‚ æˆ‘ä¹Ÿå¯ä»¥å†™ï¼š <br><br><pre> <code class="plaintext hljs">warn("{c}", c);</code> </pre> <br> å¹¶è·å¾—ï¼š <br><br><pre> <code class="plaintext hljs">+++++</code> </pre> <br> å› æ­¤ï¼Œæˆ‘ä»¬åˆå§‹åŒ–äº†å†…å­˜ç©ºé—´ï¼Œå¹¶ç¼–å†™äº†ç¨‹åºã€‚ ç°åœ¨æˆ‘ä»¬æ­£åœ¨æ„è¯†åˆ°è¯­è¨€æœ¬èº«ã€‚ æˆ‘å°†ä»+å¼€å§‹ï¼Œå¹¶ç”¨switchæ›¿æ¢forå¾ªç¯çš„ä¸»ä½“ï¼š <br><br><pre> <code class="plaintext hljs">for (src) |c| { switch(c) { '+' =&gt; mem[0] += 1 } }</code> </pre> <br> æˆ‘å¾—åˆ°ä¸¤ä¸ªé”™è¯¯ï¼š <br><br><pre> <code class="plaintext hljs">/main.zig:10:7: error: switch must handle all possibilities switch(c) { ^ /main.zig:11:25: error: cannot assign to constant '+' =&gt; mem[0] += 1 ^</code> </pre> <br> å½“ç„¶ï¼Œæˆ‘ä¸èƒ½å°†æ–°å€¼èµ‹ç»™ä¸€ä¸ªå¸¸é‡å˜é‡ï¼ è®°å¿†éœ€è¦æˆä¸ºä¸€ä¸ªå˜é‡... <br><br><pre> <code class="plaintext hljs">var mem = []u8{0} ** 30000;</code> </pre> <br> ä¸å…¶ä»–é”™è¯¯ä¸€æ ·ï¼Œå³ä½¿ä¸éœ€è¦æ‰§è¡Œä»»ä½•æ“ä½œï¼Œæˆ‘çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">switch</a>æ„é€ ä¹Ÿåº”è¯¥çŸ¥é“å¦‚æœå­—ç¬¦ä¸æ˜¯+æ€ä¹ˆåŠã€‚ å°±æˆ‘è€Œè¨€ï¼Œè¿™æ­£æ˜¯æˆ‘æƒ³è¦çš„ã€‚ æˆ‘ç”¨ä¸€ä¸ªç©ºå—å¡«å……è¿™ç§æƒ…å†µï¼š <br><br><pre> <code class="plaintext hljs">for (src) |c| { switch(c) { '+' =&gt; mem[0] += 1, else =&gt; {} } }</code> </pre> <br> ç°åœ¨ï¼Œæˆ‘å¯ä»¥ç¼–è¯‘ç¨‹åºäº†ã€‚ æœ€åè‡´ç”µè­¦å‘Šå¹¶è¿è¡Œï¼š <br><br><pre> <code class="plaintext hljs">const warn = @import("std").debug.warn; pub fn main() void { var mem = []u8{0} ** 30000; const src = "+++++"; for (src) |c| { switch(c) { '+' =&gt; mem[0] += 1, else =&gt; {} } } warn("{}", mem[0]); }</code> </pre> <br> å¦‚æˆ‘æ‰€æ–™ï¼Œæˆ‘åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">stderrä¸­</a>å¾—åˆ°äº†æ•°å­—5ã€‚ <br><br><h3> è®©æˆ‘ä»¬ç»§ç»­... </h3><br> åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿæä¾›æ”¯æŒã€‚ <br><br><pre> <code class="plaintext hljs">switch(c) { '+' =&gt; mem[0] += 1, '-' =&gt; mem[0] -= 1, else =&gt; {} }</code> </pre> <br> è¦ä½¿ç”¨&gt;å’Œ&lt;ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ä¸€ä¸ªé™„åŠ å˜é‡ï¼Œè¯¥å˜é‡åœ¨æˆ‘åˆ†é…ç»™ç”¨æˆ·Brainfuckç¨‹åºçš„å†…å­˜ä¸­ç”¨ä½œâ€œæŒ‡é’ˆâ€ã€‚ <br><br><pre> <code class="plaintext hljs">var memptr: u16 = 0;</code> </pre> <br> ç”±äºæ— ç¬¦å·çš„16ä½æœ€å¤§ä¸º65535ï¼Œå› æ­¤ç´¢å¼•30,000å­—èŠ‚çš„åœ°å€ç©ºé—´ç»°ç»°æœ‰ä½™ã€‚ <br><br><blockquote>  <i>å®é™…ä¸Šï¼Œå¯¹äºæˆ‘ä»¬æ¥è¯´15ä½å°±è¶³å¤Ÿäº†ï¼Œè¿™ä½¿æˆ‘ä»¬å¯ä»¥å¯»å€32767ä¸ªå­—èŠ‚ã€‚</i>  <i>Zigå…è®¸ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸åŒå®½åº¦çš„</a>ç±»å‹ï¼Œä½†å°šæœªå…è®¸u15ã€‚</i> <i><br><br></i>  <i>æ‚¨å®é™…ä¸Šå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰§è¡Œu15ï¼š</i> <i><br><br></i> <pre> <code class="plaintext hljs">const u15 = @IntType(false, 15):</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å»ºè®®</a>ä»»ä½•[iu] \ d +ç±»å‹éƒ½å¯ä»¥ä½œä¸ºæ•´æ•°ç±»å‹æœ‰æ•ˆã€‚ </blockquote><br> ç°åœ¨ï¼Œæˆ‘å¯ä»¥ä¸ä½¿ç”¨mem [0]ï¼Œè€Œå¯ä»¥ä½¿ç”¨æ­¤å˜é‡ã€‚ <br><br><pre> <code class="plaintext hljs">'+' =&gt; mem[memptr] += 1, '-' =&gt; mem[memptr] -= 1,</code> </pre> <br>  &lt;and&gt;åªéœ€é€’å¢å’Œé€’å‡æ­¤æŒ‡é’ˆã€‚ <br><br><pre> <code class="plaintext hljs">'&gt;' =&gt; memptr += 1, '&lt;' =&gt; memptr -= 1,</code> </pre> <br> å¤ªå¥½äº† æˆ‘ä»¬ç°åœ¨å¯ä»¥ç¼–å†™ä¸€ä¸ªçœŸå®çš„ç¨‹åºï¼ <br><br><h3> æ£€æŸ¥1,2,3 </h3><br>  Zigå…·æœ‰å†…ç½®çš„æµ‹è¯•å¼•æ“ã€‚ åœ¨ä»»ä½•æ–‡ä»¶ä¸­çš„ä»»ä½•åœ°æ–¹ï¼Œæˆ‘éƒ½å¯ä»¥ç¼–å†™ä¸€ä¸ªæµ‹è¯•å—ï¼š <br><br><pre> <code class="plaintext hljs">test "Name of Test" { // test code }</code> </pre> <br> å¹¶ä»å‘½ä»¤è¡Œè¿è¡Œæµ‹è¯•ï¼šzig test $ FILENAMEã€‚ å…¶ä½™æµ‹è¯•å—ä¸å¸¸è§„ä»£ç ç›¸åŒã€‚ <br><br> è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼š <br><br><pre> <code class="plaintext hljs">// test.zig test "testing tests" {} zig test test.zig Test 1/1 testing tests...OK</code> </pre> <br> å½“ç„¶ï¼Œç©ºæµ‹è¯•æ˜¯æ²¡æœ‰ç”¨çš„ã€‚ æˆ‘å¯ä»¥ä½¿ç”¨assertæ¥ç¡®è®¤æµ‹è¯•çš„æ‰§è¡Œã€‚ <br><br><pre> <code class="plaintext hljs">const assert = @import("std").debug.assert; test "test true" { assert(true); } test "test false" { assert(false); }</code> </pre> <br><pre> <code class="bash hljs">zig <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> test.zig <span class="hljs-string"><span class="hljs-string">"thing.zig"</span></span> 10L, 127C written :!zig <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> thing.zig Test 1/2 <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> true...OK Test 2/2 <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> false...assertion failure [37;1m_panic.7 [0m: [2m0x0000000105260f34 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ??? (???) [0m [37;1m_panic [0m: [2m0x0000000105260d6b <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ??? (???) [0m [37;1m_assert [0m: [2m0x0000000105260619 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ??? (???) [0m [37;1m_test <span class="hljs-literal"><span class="hljs-literal">false</span></span> [0m: [2m0x0000000105260cfb <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ??? (???) [0m [37;1m_main.0 [0m: [2m0x00000001052695ea <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ??? (???) [0m [37;1m_callMain [0m: [2m0x0000000105269379 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ??? (???) [0m [37;1m_callMainWithArgs [0m: [2m0x00000001052692f9 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ??? (???) [0m [37;1m_main [0m: [2m0x0000000105269184 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ??? (???) [0m [37;1m??? [0m: [2m0x00007fff5c75c115 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ??? (???) [0m [37;1m??? [0m: [2m0x0000000000000001 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ??? (???) [0m</code> </pre> <br> æµ‹è¯•å¤±è´¥äº†ã€‚ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥é‡ç°è¯¥é”™è¯¯ï¼š <br><br><pre> <code class="plaintext hljs">./zig-cache/test</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç½‚ç²Ÿä¸Šçš„å †æ ˆè·Ÿè¸ªä»åœ¨å¼€å‘ä¸­ã€‚</a> <br><br> ä¸ºäº†æœ‰æ•ˆåœ°è¿›è¡Œæµ‹è¯•ï¼Œæˆ‘éœ€è¦å°†å…¶åˆ†è§£ã€‚ è®©æˆ‘ä»¬ä»è¿™ä¸ªå¼€å§‹ï¼š <br><br><pre> <code class="plaintext hljs">fn bf(src: []const u8, mem: [30000]u8) void { var memptr: u16 = 0; for (src) |c| { switch(c) { '+' =&gt; mem[memptr] += 1, '-' =&gt; mem[memptr] -= 1, '&gt;' =&gt; memptr += 1, '&lt;' =&gt; memptr -= 1, else =&gt; {} } } } pub fn main() void { var mem = []u8{0} ** 30000; const src = "+++++"; bf(src, mem); }</code> </pre> <br> å®ƒä¼¼ä¹åº”è¯¥èµ·ä½œç”¨ï¼Œå¯¹å—ï¼Ÿ <br><br> ä½†æ˜¯... <br><br><pre> <code class="plaintext hljs">/main.zig:1:29: error: type '[30000]u8' is not copyable; cannot pass by value</code> </pre> <br><blockquote> è¿™åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/zig-lang/zig/issues/733ä¸­è¿›è¡Œäº†</a>æè¿°ã€‚ </blockquote><br> é½æ ¼å¯¹æ­¤å¾ˆä¸¥æ ¼ã€‚ å¤æ‚ç±»å‹ä»¥åŠæ‰€æœ‰å¯ä»¥è°ƒæ•´å¤§å°çš„å¯¹è±¡éƒ½ä¸èƒ½æŒ‰å€¼ä¼ é€’ã€‚ è¿™ä½¿å †æ ˆåˆ†é…å¯é¢„æµ‹ä¸”åˆä¹é€»è¾‘ï¼Œå¹¶é¿å…äº†ä¸å¿…è¦çš„å¤åˆ¶ã€‚ å¦‚æœè¦åœ¨ç¨‹åºä¸­ä½¿ç”¨æŒ‰å€¼ä¼ é€’çš„è¯­ä¹‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åˆ†é…ç­–ç•¥è‡ªå·±å®ç°å®ƒï¼Œä½†æ˜¯åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œè¯­è¨€æœ¬èº«ä¸æ”¯æŒæ­¤æ“ä½œã€‚ <br><br> è§£å†³æ­¤é™åˆ¶çš„è‡ªç„¶æ–¹æ³•æ˜¯ä¼ é€’æŒ‡é’ˆè€Œä¸æ˜¯å€¼ï¼ˆæŒ‰å¼•ç”¨ä¼ é€’ï¼‰ã€‚  Zigä½¿ç”¨ä¸åŒçš„ç­–ç•¥ï¼Œåˆ‡ç‰‡ã€‚ åˆ‡ç‰‡æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå…¶é•¿åº¦ä¸å…¶ç›¸è¿ï¼Œå¹¶å¸¦æœ‰æ£€æŸ¥æ˜¯å¦è½å…¥è¾¹ç•Œçš„æŒ‡ç¤ºã€‚ å‡½æ•°ç­¾åä¸­çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="plaintext hljs">fn bf(src: []const u8, mem: []u8) void { ... }</code> </pre> <br> å¹¶åœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="plaintext hljs">bf(src, mem[0..mem.len]);</code> </pre> <br> è¯·æ³¨æ„ï¼Œæˆ‘åªæ˜¯é€šè¿‡å¼•ç”¨æ•°ç»„çš„é•¿åº¦æ¥å®šä¹‰ä¸Šé™ã€‚ å¯¹äºè¿™ç§æƒ…å†µï¼Œæœ‰ä¸€ç§ç¼©å†™å½¢å¼ï¼š <br><br><pre> <code class="plaintext hljs">bf(src, mem[0..]);</code> </pre> <br> ç°åœ¨ï¼Œæˆ‘å¯ä»¥å¼€å§‹ç¼–å†™ç›´æ¥æµ‹è¯•bfï¼ˆï¼‰å‡½æ•°çš„æµ‹è¯•ã€‚ æˆ‘ç°åœ¨å°†æµ‹è¯•åŠŸèƒ½æ·»åŠ åˆ°æ–‡ä»¶çš„æœ«å°¾... <br><br><pre> <code class="plaintext hljs">test "+" { var mem = []u8{0}; const src = "+++"; bf(src, mem[0..]); assert(mem[0] == 3); }</code> </pre> <br> æˆ‘ä»ä¸€ä¸ªå­—èŠ‚ä¸­å–å‡ºå†…å­˜æ•°ç»„ï¼Œç„¶åæ£€æŸ¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼ˆè¯¥å­—èŠ‚å¢åŠ 3æ¬¡ï¼‰ã€‚ æœ‰æ•ˆï¼ <br><br><pre> <code class="plaintext hljs">Test 1/1 +...OK</code> </pre> <br> ä»¥ç›¸åŒçš„æ–¹å¼æ£€æŸ¥â€œ-â€ï¼š <br><br><pre> <code class="plaintext hljs">test "-" { var mem = []u8{0}; const src = "---"; bf(src, mem[0..]); assert(mem[0] == 253); }</code> </pre> <br> ä¸èµ·ä½œç”¨ï¼ å½“æˆ‘å°è¯•ä»0ä¸­å‡å»1æ—¶ï¼Œæˆ‘å¾—åˆ°... <br><br><pre> <code class="bash hljs">Test 2/2 -...<span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> overflow</code> </pre> <br>  memæ˜¯æ— ç¬¦å·å­—èŠ‚çš„æ•°ç»„ï¼Œä»0å‡å»1ä¼šå¯¼è‡´æº¢å‡ºã€‚ åŒæ ·ï¼ŒZigè®©æˆ‘æ˜ç¡®å£°æ˜è‡ªå·±æƒ³è¦çš„ä¸œè¥¿ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä¸å¿…æ‹…å¿ƒæº¢å‡ºï¼Œå®é™…ä¸Šï¼Œæˆ‘å¸Œæœ›å®ƒå‘ç”Ÿï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨æŒ‰ç…§<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Brainfuck</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è§„èŒƒ</a>å¤„ç†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¨¡å—åŒ–ç®—æœ¯</a> ã€‚ è¿™æ„å‘³ç€é€’å‡ä¸€ä¸ªæ•°å­—ä¸º0çš„å•å…ƒæ ¼å°†å¾—åˆ°255ï¼Œè€Œé€’å¢255å°†ç»™æˆ‘0ã€‚ <br><br>  Zigå…·æœ‰å‡ ç§è¾…åŠ©ç®—æœ¯è¿ç®—ï¼Œè¿™äº›è¿ç®—æä¾›äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¿è¯â€œåŒ…è£…â€</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯­ä¹‰</a> ã€‚ <br><br><pre> <code class="plaintext hljs">'+' =&gt; mem[memptr] +%= 1, '-' =&gt; mem[memptr] -%= 1,</code> </pre> <br> è¿™è§£å†³äº†æ•´ä¸ªæº¢å‡ºé—®é¢˜ï¼Œå¹¶è¾¾åˆ°äº†æˆ‘çš„é¢„æœŸã€‚ <br><br> ä¸ºäº†æµ‹è¯•&lt;and&gt;ï¼Œæˆ‘æµè§ˆäº†ä¸€ä¸ªå°æ•°ç»„å¹¶æ£€æŸ¥äº†é€’å¢å•å…ƒæ ¼çš„å€¼ï¼š <br><br><pre> <code class="plaintext hljs">test "&gt;" { var mem = []u8{0} ** 5; const src = "&gt;&gt;&gt;+++"; bf(src, mem[0..]); assert(mem[3] == 3); }</code> </pre> <br> è¿˜æœ‰... <br><br><pre> <code class="plaintext hljs">test "&lt;" { var mem = []u8{0} ** 5; const src = "&gt;&gt;&gt;+++&lt;++&lt;+"; bf(src, mem[0..]); assert(mem[3] == 3); assert(mem[2] == 2); assert(mem[1] == 1); }</code> </pre> <br> åœ¨åä¸€ç§æƒ…å†µä¸‹ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨...ç›´æ¥å°†ç»“æœä¸é™æ€æ•°ç»„è¿›è¡Œæ¯”è¾ƒã€‚ <br><br><pre> <code class="plaintext hljs">const mem = std.mem;</code> </pre> <br> å›æƒ³ä¸€ä¸‹æˆ‘å·²ç»å¯¼å…¥äº†stdã€‚ åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘åœ¨æ­¤å‘½åç©ºé—´ä¸­ä½¿ç”¨mem.eqlï¼š <br><br><pre> <code class="plaintext hljs">test "&lt;" { var storage = []u8{0} ** 5; const src = "&gt;&gt;&gt;+++&lt;++&lt;+"; bf(src, storage[0..]); assert(mem.eql(u8, storage, []u8{ 0, 1, 2, 3, 0 })); }</code> </pre> <br>  ...è®°ä½å­—ç¬¦ä¸²å­—é¢é‡ï¼Œå®ƒä»¬åªæ˜¯zigä¸­çš„u8æ•°ç»„ï¼Œæˆ‘å¯ä»¥åœ¨å…¶ä¸­æ”¾å…¥åå…­è¿›åˆ¶å­—é¢é‡ï¼Œå³ ä»¥ä¸‹ä»£ç å°†ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œï¼ <br><br><pre> <code class="plaintext hljs">assert(mem.eql(u8, storage, "\x00\x01\x02\x03\x00"));</code> </pre> <br> æ·»åŠ â€œã€‚â€ï¼ å®ƒåªæ˜¯å°†æŒ‡é’ˆæ‰€æŒ‡å‘çš„å•å…ƒæ ¼ä¸­çš„å­—èŠ‚å€¼æ‰“å°ä¸ºå­—ç¬¦ã€‚ æˆ‘ç°åœ¨ä½¿ç”¨è­¦å‘Šï¼Œä½†æ˜¯ç¨åæˆ‘å°†å…¶æ›¿æ¢ä¸ºstdoutã€‚ ä»æ¦‚å¿µä¸Šè®²ï¼Œè¿™å¾ˆå®¹æ˜“åšåˆ°ï¼Œä½†åœ¨å®ç°ä¸Šå´æœ‰äº›å›°æƒ‘ã€‚ æˆ‘ç¨åå†åšï¼ <br><br><pre> <code class="plaintext hljs">'.' =&gt; warn("{c}", storage[memptr]),</code> </pre> <br> å‘¨æœŸæ•° <br>  [å’Œ]-é­”æœ¯ä»è¿™é‡Œå¼€å§‹ã€‚ <br><br>  [-å¦‚æœå½“å‰å•å…ƒæ ¼çš„å€¼ä¸ºé›¶ï¼Œåˆ™ä¸æ‰§è¡Œä»£ç å°±è·³è‡³å³æ‹¬å·ã€‚ <br>  ]-å¦‚æœå½“å‰å•å…ƒæ ¼çš„å€¼ä¸ä¸ºé›¶ï¼Œè¯·è¿”å›å·¦æ‹¬å·å¹¶å†æ¬¡æ‰§è¡Œä»£ç ã€‚ <br><br> è¿™æ¬¡ï¼Œæˆ‘å°†ä»æµ‹è¯•å¼€å§‹ï¼Œå°†å®ƒä»¬ä¸€èµ·æµ‹è¯•ï¼ˆæ˜¾ç„¶ï¼Œå•ç‹¬æµ‹è¯•å®ƒä»¬æ²¡æœ‰æ„ä¹‰ï¼‰ã€‚ ç¬¬ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹-å­˜å‚¨[2]å•å…ƒåº”è¯¥ä¸ºç©ºï¼Œå°½ç®¡å¾ªç¯åœ¨å¼€å§‹æ—¶åº”å°†å…¶é€’å¢ï¼š <br><br><pre> <code class="plaintext hljs">test "[] skips execution and exits" { var storage = []u8{0} ** 3; const src = "+++++&gt;[&gt;+++++&lt;-]"; bf(src, storage[0..]); assert(storage[0] == 5); assert(storage[1] == 0); assert(storage[2] == 0); }</code> </pre> <br> æˆ‘å°†ä¸ºswitchè¯­å¥åˆ›å»ºç©ºç™½ï¼š <br><br><pre> <code class="plaintext hljs">'[' =&gt; if (storage[memptr] == 0) { }, ']' =&gt; if (storage[memptr] == 0) { },</code> </pre> <br> ç°åœ¨è¯¥æ€ä¹ˆåŠï¼Ÿ æ‚¨å¯ä»¥ä½¿ç”¨å¹¼ç¨šçš„æ–¹æ³•ã€‚ æˆ‘åªæ˜¯å¢åŠ srcæŒ‡é’ˆï¼Œç›´åˆ°æ‰¾åˆ°å®ƒä¸ºæ­¢ã€‚ ä½†æ˜¯æˆ‘ä¸èƒ½åœ¨zigä¸­ä½¿ç”¨forå¾ªç¯ï¼Œå®ƒæ˜¯ä¸ºéå†é›†åˆè€Œåˆ›å»ºçš„ï¼Œè€Œä¸ä¼šä¸¢å¤±å®ƒä»¬çš„å…ƒç´ ã€‚ è¿™é‡Œæ˜¯ä¸€ä¸ªåˆé€‚çš„æ„é€ ï¼š <br><br> åŸä¸ºï¼š <br><br><pre> <code class="plaintext hljs">var memptr: u16 = 0; for (src) |c| { switch(c) { ... } }</code> </pre> <br> æˆä¸º... <br><br><pre> <code class="plaintext hljs">var memptr: u16 = 0; var srcptr: u16 = 0; while (srcptr &lt; src.len) { switch(src[srcptr]) { ... } srcptr += 1; }</code> </pre> <br> ç°åœ¨ï¼Œæˆ‘å¯ä»¥åœ¨å—ä¸­é—´é‡æ–°åˆ†é…srcptræŒ‡é’ˆï¼Œæˆ‘å°†è¿™æ ·åšï¼š <br><br><pre> <code class="plaintext hljs">'[' =&gt; if (storage[memptr] == 0) { while (src[srcptr] != ']') srcptr += 1; },</code> </pre> <br> è¿™æ»¡è¶³æµ‹è¯•â€œ []è·³è¿‡ä»£ç æ‰§è¡Œå¹¶é€€å‡ºâ€ <br> æ­£å¦‚æˆ‘ä»¬å°†çœ‹åˆ°çš„é‚£æ ·ï¼Œå®ƒæ»¡è¶³æµ‹è¯•â€œ []è·³è¿‡æ‰§è¡Œå¹¶é€€å‡ºâ€ï¼Œå°½ç®¡å¹¶ä¸å®Œå…¨å¯é ã€‚ <br><br> å³æ‹¬å·å‘¢ï¼Ÿ æˆ‘ç›¸ä¿¡å¯ä»¥ç®€å•åœ°ç”¨ç±»æ¨æ¥å†™ï¼š <br><br><pre> <code class="plaintext hljs">test "[] executes and exits" { var storage = []u8{0} ** 2; const src = "+++++[&gt;+++++&lt;-]"; bf(src, storage[0..]); assert(storage[0] == 0); assert(storage[1] == 25); } ']' =&gt; if (storage[memptr] != 0) { while (src[srcptr] != '[') srcptr -= 1; },</code> </pre> <br> æ‚¨å¯ä»¥çœ‹åˆ°å‘ç”Ÿäº†ä»€ä¹ˆ...ä¸¤ä¸ªæ‹¬å·çš„å¹¼ç¨šè§£å†³æ–¹æ¡ˆå…·æœ‰è‡´å‘½ç¼ºé™·ï¼Œå¹¶ä¸”åœ¨åµŒå¥—å¾ªç¯ä¸­å®Œå…¨ä¸­æ–­ã€‚ è€ƒè™‘ä»¥ä¸‹å†…å®¹ï¼š <br><br><pre> <code class="plaintext hljs">++&gt;[&gt;++[-]++&lt;-]</code> </pre> <br> ç»“æœåº”è¯¥æ˜¯{2ï¼Œ0}ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªå·¦æ‹¬å·ç®€å•åœ°æ„šè ¢åœ°ç§»åˆ°äº†ç¬¬ä¸€ä¸ªå³æ‹¬å·ï¼Œå¹¶ä¸”ä¸€åˆ‡éƒ½å˜å¾—æ··ä¹±äº†ã€‚ æ‚¨éœ€è¦è·³åˆ°ç›¸åŒåµŒå¥—çº§åˆ«çš„ä¸‹ä¸€ä¸ªå³æ‹¬å·ã€‚ æ²¿ç›´çº¿å‰è¿›æ—¶ï¼Œæ·»åŠ æ·±åº¦è®¡æ•°å™¨å¹¶å¯¹å…¶è¿›è¡Œè·Ÿè¸ªå¾ˆå®¹æ˜“ã€‚ æˆ‘ä»¬åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šéƒ½è¿™æ ·åšï¼š <br><br><pre> <code class="plaintext hljs">'[' =&gt; if (storage[memptr] == 0) { var depth:u16 = 1; srcptr += 1; while (depth &gt; 0) { srcptr += 1; switch(src[srcptr]) { '[' =&gt; depth += 1, ']' =&gt; depth -= 1, else =&gt; {} } } }, ']' =&gt; if (storage[memptr] != 0) { var depth:u16 = 1; srcptr -= 1; while (depth &gt; 0) { srcptr -= 1; switch(src[srcptr]) { '[' =&gt; depth -= 1, ']' =&gt; depth += 1, else =&gt; {} } } },</code> </pre> <br> å’Œç›¸å…³æµ‹è¯•ï¼šè¯·æ³¨æ„ï¼Œä¸¤ä¸ªæµ‹è¯•ä¸­çš„srcéƒ½åŒ…å«ä¸€ä¸ªå†…éƒ¨å¾ªç¯ã€‚ <br><br><pre> <code class="plaintext hljs">test "[] skips execution with internal braces and exits" { var storage = []u8{0} ** 2; const src = "++&gt;[&gt;++[-]++&lt;-]"; try bf(src, storage[0..]); assert(storage[0] == 2); assert(storage[1] == 0); } test "[] executes with internal braces and exits" { var storage = []u8{0} ** 2; const src = "++[&gt;++[-]++&lt;-]"; try bf(src, storage[0..]); assert(storage[0] == 0); assert(storage[1] == 2); }</code> </pre> <br><blockquote> å¦å¤–ï¼Œè¯·æ³¨æ„[-]-Brainfuckçš„æˆè¯­ï¼Œæ„æ€æ˜¯â€œå°†æ­¤å•å…ƒå½’é›¶â€ã€‚ æ‚¨ä¼šçœ‹åˆ°ï¼Œå•å…ƒæ ¼å¼€å§‹æ—¶å…·æœ‰ä»€ä¹ˆå€¼éƒ½æ²¡æœ‰å…³ç³»ï¼Œå®ƒå°†é€’å‡ç›´åˆ°è¾¾åˆ°0ï¼Œç„¶åç»§ç»­æ‰§è¡Œã€‚ </blockquote><br><h3> å€’éœ‰çš„è·¯ </h3><br> æˆ‘æ²¡æœ‰æŒ‡æœ›bfä¸Šçš„ç¨‹åºè¢«ç ´åçš„å¯èƒ½æ€§ã€‚ å¦‚æœæˆ‘å‘å£è¯‘å‘˜æäº¤äº†é”™è¯¯çš„è¾“å…¥ç¨‹åºï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ ä¾‹å¦‚ï¼Œç®€å•åœ°[æ²¡æœ‰å³æ‹¬å·æˆ–&lt;ï¼Œå®ƒç«‹å³è¶…å‡ºäº†å†…å­˜é˜µåˆ—ï¼Ÿ  ï¼ˆæˆ‘å¯ä»¥åŒ…è£…å†…å­˜æŒ‡é’ˆï¼Œä½†æ˜¯æœ€å¥½å°†æ­¤è§†ä¸ºé”™è¯¯ï¼‰ã€‚ <br><br> æˆ‘å°†å‘å‰çœ‹ä¸€äº›ï¼Œå¹¶è§£é‡Šä»£ç ä¸­çš„æ‰€æœ‰å·®å¼‚ã€‚ æˆ‘å°†æŠŠbfè§£é‡Šå™¨åŠŸèƒ½æ”¾åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œè¿˜å°†seekBackå’ŒseekForwardåŠŸèƒ½æ”¾åˆ°æˆ‘è‡ªå·±çš„å°åŠŸèƒ½ä¸­ã€‚ <br><br><pre> <code class="plaintext hljs">const warn = @import("std").debug.warn; const sub = @import("std").math.sub; fn seekBack(src: []const u8, srcptr: u16) !u16 { var depth:u16 = 1; var ptr: u16 = srcptr; while (depth &gt; 0) { ptr = sub(u16, ptr, 1) catch return error.OutOfBounds; switch(src[ptr]) { '[' =&gt; depth -= 1, ']' =&gt; depth += 1, else =&gt; {} } } return ptr; } fn seekForward(src: []const u8, srcptr: u16) !u16 { var depth:u16 = 1; var ptr: u16 = srcptr; while (depth &gt; 0) { ptr += 1; if (ptr &gt;= src.len) return error.OutOfBounds; switch(src[ptr]) { '[' =&gt; depth += 1, ']' =&gt; depth -= 1, else =&gt; {} } } return ptr; } pub fn bf(src: []const u8, storage: []u8) !void { var memptr: u16 = 0; var srcptr: u16 = 0; while (srcptr &lt; src.len) { switch(src[srcptr]) { '+' =&gt; storage[memptr] +%= 1, '-' =&gt; storage[memptr] -%= 1, '&gt;' =&gt; memptr += 1, '&lt;' =&gt; memptr -= 1, '[' =&gt; if (storage[memptr] == 0) srcptr = try seekForward(src, srcptr), ']' =&gt; if (storage[memptr] != 0) srcptr = try seekBack(src, srcptr), '.' =&gt; warn("{c}", storage[memptr]), else =&gt; {} } srcptr += 1; } }</code> </pre> <br> åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä½¿å¼€å…³æ›´æ˜“äºé˜…è¯»ï¼ŒseekForwardå’ŒseekBackçš„å·¥ä½œå’Œå¤–è§‚éå¸¸ç›¸ä¼¼ï¼Œæˆ‘å¾ˆæƒ³å°†å®ƒä»¬é‡æ„ä¸ºæ›´æ™ºèƒ½ï¼Œæ›´ç´§å‡‘çš„ä¸œè¥¿ï¼Œä½†æœ€ç»ˆå®ƒä»¬ä¼šåšä¸åŒçš„äº‹æƒ…å¹¶å¤„ç†é”™è¯¯ä¹Ÿä»¥ä¸åŒçš„æ–¹å¼ã€‚ æ˜“äºå¤åˆ¶å’Œè°ƒæ•´ï¼Œå› æ­¤æ›´åŠ æ¸…æ™°ã€‚ æˆ‘è¿˜å°†ç¨ååœ¨æŸä¸ªæ—¶å€™ï¼ˆå¯èƒ½åœ¨åç»­å¸–å­ä¸­ï¼‰è°ƒæ•´seekForwardã€‚ <br><br> æˆ‘æ·»åŠ äº†ä¸€äº›é‡è¦çš„ä¸œè¥¿ï¼ è¯·æ³¨æ„ï¼Œè¿™ä¸‰ä¸ªå‡½æ•°ç°åœ¨éƒ½è¿”å›ä¸€ä¸ªç±»å‹ï¼..è¿™æ˜¯ç”¨äºï¼…Tï¼ˆé”™è¯¯å¹¶é›†ï¼‰ç±»å‹çš„æ–°è¯­æ³•ã€‚ è¿™æ„å‘³ç€è¯¥å‡½æ•°å¯ä»¥è¿”å›æŸäº›ç‰¹å®šç±»å‹æˆ–é”™è¯¯ã€‚ å½“æˆ‘å°è¯•è°ƒç”¨æ­¤ç±»å‡½æ•°æ—¶ï¼Œå¿…é¡»åœ¨è°ƒç”¨è¯¥å‡½æ•°ä¹‹å‰ä½¿ç”¨tryï¼Œå¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¯¥é”™è¯¯ä¼šå°†é”™è¯¯æŠ›å‡ºåˆ°è°ƒç”¨å †æ ˆä¸­ï¼Œæˆ–è€…ä½¿ç”¨catchï¼š <br><br><pre> <code class="plaintext hljs">const x = functionCall() catch {}</code> </pre> <br> æˆ‘åœ¨catchå—ä¸­å¤„ç†é”™è¯¯çš„åœ°æ–¹ã€‚ å¦‚æ‰€å†™ï¼Œcatchå¯ä»¥åä¸‹ä»»ä½•é”™è¯¯ã€‚ è¿™æ˜¯ä¸å¥½çš„åšæ³•ï¼Œä½†æ˜¯Zigåœ¨è¿™é‡Œè®©æˆ‘ä»¬æ˜ç¡®åœ°åšåˆ°äº†ã€‚ å¦‚æœæˆ‘åœ¨ä¸€ä¸ªç©ºå—ä¸­æ•è·åˆ°é”™è¯¯ï¼Œåˆ™è¯´æ˜æˆ‘ä¸è®¤ä¸ºä¼šå‘ç”Ÿé”™è¯¯ï¼Œæˆ–è€…ä¸éœ€è¦å¤„ç†å®ƒã€‚ å®é™…ä¸Šï¼Œå®ƒå¯èƒ½ç±»ä¼¼äºTODOï¼Œå®é™…ä¸Šä¹Ÿå¾ˆå®¹æ˜“ä½¿å…¶æ˜ç¡®ï¼ <br><br><pre> <code class="plaintext hljs">const x = functionCall() catch { @panic("TODO") }</code> </pre> <br> å›æƒ³ä¸€ä¸‹ï¼Œè¿™ç§æƒ…å†µæ°¸è¿œä¸ä¼šåœ¨ç”Ÿäº§ä»£ç ä¸­å‘ç”Ÿã€‚ æˆ‘é€šçŸ¥ç¼–è¯‘å™¨æˆ‘çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆã€‚ å¦‚æœå¯èƒ½å‘ç”Ÿé”™è¯¯ï¼Œæˆ‘å°†ä¸å¾—ä¸æ·»åŠ é”™è¯¯å¤„ç†ã€‚ <br><br> é‚£ä¹ˆæˆ‘åº”è¯¥ä»seekBackæˆ–seekForwardè¿”å›ä»€ä¹ˆé”™è¯¯ï¼Ÿ <br><br> åœ¨seekBackä¸­ï¼š <br><br><pre> <code class="plaintext hljs">ptr = sub(u16, ptr, 1) catch return error.OutOfBounds;</code> </pre> <br> æˆ‘æ›¿æ¢äº†å‡é‡æŒ‡é’ˆä»¥ä½¿ç”¨std libçš„å­å‡½æ•°ï¼Œå¦‚æœå‘ç”Ÿæº¢å‡ºï¼Œå®ƒå°†å¼•å‘æº¢å‡ºé”™è¯¯ã€‚ æˆ‘æƒ³æ•è·æ­¤é”™è¯¯å¹¶è¿”å›OutOfBoundsé”™è¯¯ï¼Œè€Œæˆ‘åªæ˜¯åœ¨ä½¿ç”¨å®ƒåˆ›å»ºçš„ã€‚ <br><br><blockquote>  <i>é”™è¯¯ZigåŸºæœ¬ä¸Šæ˜¯é”™è¯¯ä»£ç çš„æ•°ç»„ï¼Œå½“æ‚¨ä½¿ç”¨erroræ—¶ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆè¿™äº›é”™è¯¯ä»£ç ã€‚</i>  <i>å®ƒä»¬ä¿è¯æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”å¯ä»¥ç”¨ä½œå¼€å…³å—ä¸­çš„å€¼ã€‚</i> </blockquote><br> æˆ‘æƒ³åœ¨è¿™é‡Œä½¿ç”¨OutOfBoundsï¼Œå› ä¸ºä»è¯­ä¹‰ä¸Šè®²ï¼Œå¦‚æœå†…å­˜æŒ‡é’ˆå°äºé›¶ï¼Œæˆ‘ä¼šè¦æ±‚è¿è¡Œæ—¶è¶…å‡ºæˆ‘åˆ†é…çš„å†…å­˜ç©ºé—´ã€‚ <br><br> åœ¨seekForwardå‡½æ•°ä¸­ç±»ä¼¼ï¼š <br><br><pre> <code class="plaintext hljs">if (ptr &gt;= src.len) return error.OutOfBounds;</code> </pre> <br> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæŒ‡é’ˆå¤§äºsrc.lenï¼Œæˆ‘ä¼šåœ¨è¿™é‡Œæ•è·é”™è¯¯å¹¶è¿”å›ç›¸åŒçš„é”™è¯¯ã€‚ <br><br> è‡´ç”µæ—¶ï¼š <br><br><pre> <code class="plaintext hljs">'[' =&gt; if (storage[memptr] == 0) srcptr = try seekForward(src, srcptr), ']' =&gt; if (storage[memptr] != 0) srcptr = try seekBack(src, srcptr),</code> </pre> <br> æˆ‘å°è¯•è°ƒç”¨è¿™äº›å‡½æ•°ã€‚ å¦‚æœæˆåŠŸè°ƒç”¨äº†å®ƒä»¬ï¼Œåˆ™å®ƒä»¬å°†æ­£ç¡®æ‰§è¡Œï¼Œå¹¶å°è¯•è¿”å›srcptrã€‚ å¦‚æœå®ƒä»¬ä¸æˆåŠŸï¼Œè¯·å°è¯•ç»ˆæ­¢è¯¥å‡½æ•°ï¼Œå¹¶å°†é”™è¯¯è¿”å›åˆ°æ•´ä¸ªå‡½æ•°bfçš„è°ƒç”¨ä½ç½®ã€‚ <br><br> å‘¼å«å¯èƒ½æ¥è‡ªä¸»è¦ï¼ <br><br><pre> <code class="plaintext hljs">const bf = @import("./bf.zig").bf; // yes, hello const hello_world = "++++++++++[&gt;+++++++&gt;++++++++++&gt;+++&gt;+&lt;&lt;&lt;&lt;-]&gt;++.&gt;+.+++++++..+++.&gt;++.&lt;&lt;+++++++++++++++.&gt;.+++.------.--------.&gt;+.&gt;."; pub fn main() void { storage = []u8{0} ** 30000; bf(hello_world, storage[0..]) catch {}; }</code> </pre> <br> æˆ‘åœ¨è¿™é‡Œåå¹¶äº†è¿™ä¸ªé”™è¯¯ï¼Œä¸åº”è¯¥è¿™æ ·åšï¼Œä½†æ˜¯æˆ‘ä»¬è¦æ³¨æ„ä¸€ä¸ªé‡è¦çš„é—®é¢˜ï¼Œå³zigå¯ä»¥å¾ˆå®¹æ˜“åœ°å°†é”™è¯¯ä¼ é€’åˆ°è°ƒç”¨å †æ ˆä¸­ã€‚ æ£€æŸ¥æ¯ç§é”™è¯¯æƒ…å†µéƒ½ä¸æ˜¯è°ƒç”¨å‡½æ•°çš„è´£ä»»ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¼šå¼ºåˆ¶å°è¯•å°è¯•å¤±è´¥çš„æ¯ä¸ªå‡½æ•°ã€‚ å³ä½¿å¿½ç•¥é”™è¯¯ï¼Œä¹Ÿå¿…é¡»å§‹ç»ˆè¿™æ ·åšï¼ <br><br><blockquote>  <i>æ–°çš„try / catchè¯­æ³•æ¶ˆé™¤äº†äººä»¬éå¸¸è®¨åŒçš„è®¸å¤šå’’è¯­ï¼Œä¾‹å¦‚%%å’Œï¼…ã€‚</i> </blockquote><br> ç°åœ¨ï¼Œæˆ‘å·²ç»å®ç°äº†8ä¸ªè„‘æ®‹è§’è‰²ä¸­çš„7ä¸ªï¼Œè¿™è¶³ä»¥è¿è¡Œä¸€ä¸ªâ€œæœ‰æ„ä¹‰çš„â€ç¨‹åºã€‚ <br><br><h3> ä¸€ä¸ªæœ‰æ„ä¹‰çš„ç¨‹åº </h3><br> è¿™æ˜¯ç¨‹åºï¼š <br><br><pre> <code class="plaintext hljs">//   ,   const fib = "++++++++++++++++++++++++++++++++++++++++++++&gt;++++++++++++++++++++++++++++++++&gt;++++++++++++++++&gt;&gt;+&lt;&lt;[&gt;&gt;&gt;&gt;++++++++++&lt;&lt;[-&gt;+&gt;-[&gt;+&gt;&gt;]&gt;[+[-&lt;+&gt;]&gt;+&gt;&gt;]&lt;&lt;&lt;&lt;&lt;&lt;]&gt;[&lt;+&gt;-]&gt;[-]&gt;&gt;&gt;++++++++++&lt;[-&gt;-[&gt;+&gt;&gt;]&gt;[+[-&lt;+&gt;]&gt;+&gt;&gt;]&lt;&lt;&lt;&lt;&lt;]&gt;[-]&gt;&gt;[++++++++++++++++++++++++++++++++++++++++++++++++.[-]]&lt;[++++++++++++++++++++++++++++++++++++++++++++++++.[-]]&lt;&lt;&lt;++++++++++++++++++++++++++++++++++++++++++++++++.[-]&lt;&lt;&lt;&lt;&lt;&lt;&lt;.&gt;.&gt;&gt;[&gt;&gt;+&lt;&lt;-]&gt;[&gt;+&lt;&lt;+&gt;-]&gt;[&lt;+&gt;-]&lt;&lt;&lt;-]&lt;&lt;++...";</code> </pre> <br> è®©æˆ‘ä»¬å¼€å§‹... <br><br><pre> <code class="plaintext hljs">pub fn main() void { storage = []u8{0} ** 30000; bf(fib, storage[0..]) catch {}; }</code> </pre> <br> ç§ï¼ <br><br><pre> <code class="plaintext hljs">1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 121, 98, 219,</code> </pre> <br><blockquote>  <i>æ¯å½“æˆ‘æƒ³åˆ°æ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰ç³»åˆ—ç”µå½±æ—¶ï¼Œæˆ‘éƒ½ä¼šå›æƒ³èµ·â€¦â€¦æˆ‘æ˜¯ä»80å¹´ä»£çš„PBSï¼ˆå…¬å…±å¹¿æ’­æœåŠ¡ï¼Œç¾å›½çš„éå•†ä¸šç”µè§†å¹¿æ’­æœåŠ¡ï¼‰è®¡åˆ’ä¸­å‘ç°çš„ï¼Œæˆ‘ä¸€ç›´éƒ½è®°å¾—ã€‚</i>  <i>æˆ‘ä»¥ä¸ºä¼šè¢«é—å¿˜ï¼Œä½†æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Youtubeæ˜¯ä¸€ä»¶å¾ˆæ£’çš„äº‹</a> ã€‚</i> </blockquote><br><h3> æˆ‘è¯¥å¦‚ä½•æ”¹å–„ï¼Ÿ </h3><br> æˆ‘å·²ç»æš—ç¤ºäº†ä¸€äº›å¾…åŠäº‹é¡¹ã€‚ æˆ‘ä¸åº”è¯¥ä½¿ç”¨stderrè¿›è¡Œè¾“å‡ºã€‚ æˆ‘æƒ³ä½¿ç”¨æ ‡å‡†è¾“å‡ºã€‚ <br><br> æ¯æ¬¡æ‰“å¼€è§£é‡Šå™¨æ—¶ï¼Œæˆ‘éƒ½ä¼šåœ¨stdoutä¸­æ‰“å¼€æµå¹¶æ‰“å°åˆ°å…¶ä¸­ï¼š <br><br><pre> <code class="plaintext hljs">const io = std.io; ... pub fn bf(src: []const u8, storage: []u8) !void { const stdout = &amp;(io.FileOutStream.init(&amp;(io.getStdOut() catch unreachable)).stream); ... '.' =&gt; stdout.print("{c}", storage[memptr]) catch unreachable, ...</code> </pre> <br> è¿™æ˜¯æ€ä¹ˆå›äº‹<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘è°ƒç”¨io.getStdOutï¼ˆï¼‰ï¼Œå®ƒä¼šç”Ÿæˆé”™è¯¯ï¼ˆåŒæ ·ï¼Œæˆ‘æ˜ç¡®åœ°åä¸‹äº†ä¸€ä¸ªå¯èƒ½çš„é”™è¯¯ï¼Œå¹¶ä¸”catchæ— æ³•åˆ°è¾¾-å¦‚æœæ­¤å‡½æ•°è¿”å›é”™è¯¯ï¼Œç¨‹åºå°†å´©æºƒï¼ï¼‰ã€‚æˆ‘åˆå§‹åŒ–æµï¼Œè·å–å®ƒçš„æŒ‡é’ˆï¼Œç„¶åå°†å…¶åˆå§‹åŒ–ä¸ºå¯é€šè¿‡è°ƒç”¨printå†™å…¥çš„è¾“å‡ºæµã€‚å°±åƒè­¦å‘Šä¸€æ ·ï¼Œprintæ¥å—æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œå› æ­¤æ›¿æ¢ç›´æ¥è¿›è¡Œã€‚æ‰“å°ä¹Ÿä¼šäº§ç”Ÿé”™è¯¯ï¼Œæˆ‘ä¹Ÿåä¸‹äº†è¿™äº›é”™è¯¯ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æ­£ç¡®ç¼–å†™çš„ç¨‹åºä¸­ï¼Œæˆ‘å¿…é¡»è€ƒè™‘æ‰“å¼€stdoutçš„æ½œåœ¨é”™è¯¯ä»¥åŠå°è¯•å†™å…¥stdoutçš„å¯èƒ½é”™è¯¯ã€‚åªè¦æ‚¨çŸ¥é“è‡ªå·±å¿½ç•¥äº†Zigï¼Œå°±å¯ä»¥å¾ˆå®¹æ˜“åœ°å¿½ç•¥è¿™äº›é”™è¯¯ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæˆ‘å†³å®šå°†åŸå‹è½¬å˜ä¸ºå‘è¡Œç‰ˆï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿ</font><font style="vertical-align: inherit;">æˆ‘æ˜¯å¦ä¼šåç€å–å’–å•¡ï¼Œå¯¹é”™è¯¯çš„å¤„ç†å·¥ä½œåšå¾—å¾ˆå¿˜æ©è´Ÿä¹‰ï¼Œä¾é æ•°åå¹´çš„ç»éªŒå’ŒçŸ¥è¯†åˆ—å‡ºæ¯ç§å¯èƒ½çš„é”™è¯¯æ¡ˆä¾‹ï¼Œæˆ‘è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œå¦‚æœæˆ‘æ²¡æœ‰å‡ åå¹´çš„ç»éªŒå’ŒçŸ¥è¯†æ€ä¹ˆåŠï¼Ÿ</font><font style="vertical-align: inherit;">æ²¡å…³ç³»ï¼ŒZigä¼šåšçš„ï¼</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘æƒ³å±•ç¤ºä¸€ä¸ªå¼ºå¤§çš„ä¸œè¥¿ï¼Œé”™è¯¯è¾“å‡ºï¼</font></font><br><br><pre> <code class="plaintext hljs">const bf = @import("./bf.zig").bf; const warn = @import("std").debug.warn; const serpinsky = "++++++++[&gt;+&gt;++++&lt;&lt;-]&gt;++&gt;&gt;+&lt;[-[&gt;&gt;+&lt;&lt;-]+&gt;&gt;]&gt;+[ -&lt;&lt;&lt;[ -&gt;[+[-]+&gt;++&gt;&gt;&gt;-&lt;&lt;]&lt;[&lt;]&gt;&gt;++++++[&lt;&lt;+++++&gt;&gt;-]+&lt;&lt;++.[-]&lt;&lt; ]&gt;.&gt;+[&gt;&gt;]&gt;+ ] "; pub fn main() void { var storage = []u8{0} ** 30000; bf(serpinsky, storage[0..]) catch unreachable; }</code> </pre> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘çŸ¥é“bfä¼šå› ä¸ºè¿”å›è€Œäº§ç”Ÿé”™è¯¯ï¼</font><font style="vertical-align: inherit;">æˆ‘åœ¨ä¸»å‡½æ•°çš„è°ƒç”¨ç«¯åä¸‹äº†æ­¤é”™è¯¯ã€‚</font><font style="vertical-align: inherit;">å½“æˆ‘å‡†å¤‡å¥½æ¥å—å‘½è¿å¹¶åšæ­£ç¡®çš„äº‹æ—¶ï¼Œæˆ‘ä¼šå‘ç°ä»¥ä¸‹å¯èƒ½çš„é”™è¯¯ï¼š</font></font><br><br><pre> <code class="plaintext hljs">const bf = @import("./bf.zig").bf; const warn = @import("std").debug.warn; const serpinsky = "++++++++[&gt;+&gt;++++&lt;&lt;-]&gt;++&gt;&gt;+&lt;[-[&gt;&gt;+&lt;&lt;-]+&gt;&gt;]&gt;+[ -&lt;&lt;&lt;[ -&gt;[+[-]+&gt;++&gt;&gt;&gt;-&lt;&lt;]&lt;[&lt;]&gt;&gt;++++++[&lt;&lt;+++++&gt;&gt;-]+&lt;&lt;++.[-]&lt;&lt; ]&gt;.&gt;+[&gt;&gt;]&gt;+ ] "; pub fn main() void { var storage = []u8{0} ** 30000; bf(serpinsky, storage[0..]) catch |err| switch (err) { }; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ç¼–è¯‘å™¨ç°åœ¨æ˜¯æˆ‘çš„æœ‹å‹ï¼ </font></font><br><br><pre> <code class="bash hljs">/Users/jfo/code/zigfuck/main.zig:7:46: error: error.OutOfBounds not handled <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> switch shell returned 1</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”±äºbfå’Œè¾…åŠ©åŠŸèƒ½å¼•å‘äº†è¯¥é”™è¯¯ï¼Œå› æ­¤æ‚¨åº”è¯¥ç†Ÿæ‚‰è¯¥é”™è¯¯ï¼</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œè®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘çœ‹åˆ°äº†æˆ‘åœ¨bfä¸­åä¸‹çš„stdoutç”Ÿæˆçš„é”™è¯¯ã€‚</font><font style="vertical-align: inherit;">ä¸å…¶åä¸‹å®ƒä»¬ï¼Œä¸å¦‚å°è¯•ä½¿ç”¨å®ƒä»¬å°†å®ƒä»¬æ¨ä¸Šé“¾ã€‚</font><font style="vertical-align: inherit;">å›æƒ³ä¸€ä¸‹ï¼Œä½¿ç”¨å¯¹äº§ç”Ÿé”™è¯¯è€Œä¸æ•è·çš„å‡½æ•°çš„è°ƒç”¨ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†tryï¼Œå®ƒåœ¨å‘ç”Ÿé”™è¯¯æ—¶ç»ˆæ­¢å‡½æ•°ï¼Œä¸ºè°ƒç”¨å‡½æ•°æä¾›ä»»ä½•æ½œåœ¨é”™è¯¯çš„å¤„ç†ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å› æ­¤ï¼Œä»£æ›¿ï¼š</font></font><br><br><pre> <code class="plaintext hljs">const io = std.io; ... pub fn bf(src: []const u8, storage: []u8) !void { const stdout = &amp;(io.FileOutStream.init(&amp;(io.getStdOut() catch unreachable)).stream); ... '.' =&gt; stdout.print("{c}", storage[memptr]) catch unreachable, ...</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æˆ‘ä»¬åšï¼š </font></font><br><br><pre> <code class="plaintext hljs">const io = std.io; ... pub fn bf(src: []const u8, storage: []u8) !void { const stdout = &amp;(io.FileOutStream.init(&amp;(try io.getStdOut())).stream); ... '.' =&gt; try stdout.print("{c}", storage[memptr]), ...</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æˆ‘ä»¬ç¼–è¯‘ï¼š </font></font><br><br><pre> <code class="plaintext hljs">const bf = @import("./bf.zig").bf; const warn = @import("std").debug.warn; const serpinsky = "++++++++[&gt;+&gt;++++&lt;&lt;-]&gt;++&gt;&gt;+&lt;[-[&gt;&gt;+&lt;&lt;-]+&gt;&gt;]&gt;+[ -&lt;&lt;&lt;[ -&gt;[+[-]+&gt;++&gt;&gt;&gt;-&lt;&lt;]&lt;[&lt;]&gt;&gt;++++++[&lt;&lt;+++++&gt;&gt;-]+&lt;&lt;++.[-]&lt;&lt; ]&gt;.&gt;+[&gt;&gt;]&gt;+ ] "; pub fn main() void { var storage = []u8{0} ** 30000; bf(serpinsky, storage[0..]) catch |err| switch (err) { }; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å¹¶è·å¾—é€šè¿‡è°ƒç”¨è¯¥å‡½æ•°å¯ä»¥è·å¾—çš„æ‰€æœ‰å¯èƒ½é”™è¯¯çš„åˆ—è¡¨ï¼ </font></font><br><br><pre> <code class="plaintext hljs">/Users/jfo/code/zigfuck/main.zig:7:46: error: error.SystemResources not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.OperationAborted not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.IoPending not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.BrokenPipe not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.Unexpected not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.WouldBlock not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.FileClosed not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.DestinationAddressRequired not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.DiskQuota not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.FileTooBig not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.InputOutput not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.NoSpaceLeft not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.AccessDenied not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.OutOfBounds not handled in switch /Users/jfo/code/zigfuck/main.zig:7:46: error: error.NoStdHandles not handled in switch shell returned 1</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zigè®©æˆ‘æœ‰æœºä¼šè®¤çœŸåœ°å¤„ç†è¿™äº›é”™è¯¯ï¼Œå¦‚æœæˆ‘æ„¿æ„æˆ–å¯ä»¥åšåˆ°ï¼</font><font style="vertical-align: inherit;">æˆ‘æ ¹æ®é”™è¯¯å€¼è¿›è¡Œåˆ‡æ¢ï¼Œå¦‚æœéœ€è¦ï¼Œå¯ä»¥å¤„ç†å¤§å°å†™ï¼Œå¦‚æœè¦è·³è¿‡å®ƒä»¬ï¼Œåˆ™å¯ä»¥è·³è¿‡ã€‚</font></font><br><br><pre> <code class="plaintext hljs">pub fn main() void { var storage = []u8{0} ** 30000; bf(serpinsky, storage[0..]) catch |err| switch (err) { error.OutOfBounds =&gt; @panic("Out Of Bounds!"), else =&gt; @panic("IO error") }; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸¥æ ¼æ¥è¯´ï¼Œè¿™ä»ç„¶ä¸æ˜¯æ­£ç¡®çš„é”™è¯¯å¤„ç†ï¼Œä½†æ˜¯æˆ‘åªæƒ³é€šè¿‡å‘è°ƒç”¨å‡½æ•°æŠ¥å‘Šå„ç§é”™è¯¯æƒ…å†µæ¥æ¼”ç¤ºZigçš„æ™ºèƒ½ç¨‹åº¦ï¼</font><font style="vertical-align: inherit;">å½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œæ‚¨å°†è·å¾—</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é”™è¯¯</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è·Ÿè¸ªè€Œä¸æ˜¯å †æ ˆè·Ÿè¸ªï¼</font><font style="vertical-align: inherit;">å¾ˆé…·çš„ä¸œè¥¿ï¼</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å¾…åŠ </font></font></h3><br>    ,     !         , ,     ",",   brainfuck-    getc,        .            ,      bf.    ,     ,      Zig.  ,       ,           ,       . <br><br><h3> ç»“è®º </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘å¸Œæœ›è¿™ä¸ªå®Œæˆäº†ä¸€åŠçš„å¾®å‹é¡¹ç›®å¯ä»¥ä½¿æ‚¨å¯¹Zigä»£ç çš„å¤–è§‚ä»¥åŠå®ƒçš„ç”¨é€”æœ‰æ‰€äº†è§£ã€‚ Zigä¸æ˜¯ä¸€æŠŠç‘å£«åˆ€ï¼Œå®ƒä¹Ÿä¸æ˜¯æ‰€æœ‰å·¥å…·çš„å®Œç¾å·¥å…·ï¼Œå®ƒä¸“æ³¨äºæŸäº›äº‹æƒ…ï¼Œæ˜¯ä¸€ç§å®ç”¨çš„ç³»ç»Ÿè¯­è¨€ï¼Œå¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä»£æ›¿Cå’ŒC ++ä½¿ç”¨ã€‚è¿™ä½¿æˆ‘ä»”ç»†åœ°å¤„ç†äº†å†…å­˜ä½¿ç”¨ï¼Œå†…å­˜ç®¡ç†å’Œé”™è¯¯å¤„ç†ã€‚åœ¨èµ„æºæœ‰é™çš„ç¯å¢ƒä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯é”™è¯¯ã€‚ Zigæ˜¯ç¡®å®šæ€§çš„ï¼Œæ²¡æœ‰æ­§ä¹‰ï¼Œå¹¶ä¸”è¯•å›¾åœ¨ä¼ ç»Ÿä¸Šéš¾ä»¥åšåˆ°çš„ç¯å¢ƒä¸­ä¿ƒè¿›å¯é ä»£ç çš„ç¼–å†™ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»…æè¿°äº†Zigè¯­æ³•å’ŒåŠŸèƒ½çš„ä¸€å°éƒ¨åˆ†ï¼Œåœ¨0.2.0ç‰ˆåŠæ›´é«˜ç‰ˆæœ¬ä¸­å¯¹è¯¥è¯­è¨€è¿›è¡Œäº†è®¸å¤šæœ‰è¶£çš„æ›´æ”¹ï¼æˆ‘ç¼–å†™çš„æ‰€æœ‰ä»£ç éƒ½æ˜¯åœ¨è°ƒè¯•æ¨¡å¼ä¸‹ç¼–è¯‘çš„ï¼Œè¿™å¯¹äºå®‰å…¨æ£€æŸ¥å’Œå‡å°‘ç¼–è¯‘æ—¶é—´ä»¥ä½¿è¿­ä»£é€Ÿåº¦æ›´å¿«è€Œè¨€æ˜¯æœ€ä½³é€‰æ‹©ï¼æœ‰--release-fastå’Œ--release-safeæ¨¡å¼ï¼Œå°†æ¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿˜ä¼šæœ‰æ›´å¤š</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚æ‚¨å¯ä»¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æ­¤å¤„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯¦ç»†äº†è§£å®ƒä»¬çš„åŒºåˆ«ä»¥åŠå¯¹è¿™äº›æ¨¡å¼çš„è§£é‡Š</font><font style="vertical-align: inherit;">ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä¸€ç›´å¯¹Zigå¼€å‘çš„é€Ÿåº¦å’Œæ–¹å‘æ„Ÿåˆ°æƒŠè®¶ã€‚ä»ç„¶æœ‰å¾ˆå¤šå·¥ä½œè¦åšï¼Œç›´åˆ°1.0.0ç‰ˆå‘è¡Œä¸ºæ­¢ã€‚å¦‚æœæ‚¨å†³å®šå°è¯•Zigï¼Œè¯·è®°ä½ï¼Œè¿™é‡Œæœ‰å¾ˆå¤šå¥½ä¸»æ„ï¼Œæˆ‘æœŸå¾…ç€å®ç°å®ƒä»¬ï¼</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å¦‚æœ‰ç–‘é—®ï¼Œè¯·éšæ—¶å°è¯•å¹¶åœ¨freenodeä¸­åŠ å…¥#zigã€‚ </font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN435574/">https://habr.com/ru/post/zh-CN435574/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN435560/index.html">ç¬¬ä¸€å°å•†ç”¨é‡å­è®¡ç®—æœº-IBM</a></li>
<li><a href="../zh-CN435562/index.html">å¸çƒŸè€…çš„é“è·¯ï¼šå¦‚æœæ‚¨æ˜¯äººæ–‡ä¸»ä¹‰è€…ï¼Œå¦‚ä½•è¿›å…¥ç¨‹åºå‘˜çš„èŒä¸š</a></li>
<li><a href="../zh-CN435564/index.html">ä½¿ç”¨GtkApplicationã€‚ Librsvgæ¸²æŸ“åŠŸèƒ½</a></li>
<li><a href="../zh-CN435568/index.html">VyOSå¼€æºè·¯ç”±å™¨</a></li>
<li><a href="../zh-CN435572/index.html">Anycubic i3 Megaï¼šPrusa i3çš„é«˜å“è´¨ç¿»æ‹</a></li>
<li><a href="../zh-CN435576/index.html">1Cï¼Œæ— ç—›è‹¦</a></li>
<li><a href="../zh-CN435578/index.html">åœ£è¯èŠ‚å¤ªç©ºæ¼«æ­¥</a></li>
<li><a href="../zh-CN435580/index.html">Javaï¼ŒSpringï¼ŒKurentoå’Œåª’ä½“æœåŠ¡</a></li>
<li><a href="../zh-CN435582/index.html">å¦‚ä½•åœ¨ä¸åœæœºçš„æƒ…å†µä¸‹åœ¨å·²åŠ è½½ç³»ç»Ÿ24/7ä¸Šæ·»åŠ ç´¢å¼•ï¼Ÿ</a></li>
<li><a href="../zh-CN435584/index.html">Slush2018ã€‚ç¬¬ä¸€å¤©ï¼Œç¬¬äºŒå¤©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>