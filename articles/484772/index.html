<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õπüèº üì´ üôãüèø Hibernate: como cocinar üë©üèø‚Äçüî¨ üìã üç®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buenas noches, Habr. 

 Este art√≠culo es un intento de facilitar la b√∫squeda de personas que comienzan en hibernaci√≥n y se enfrentan a la misma pregun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hibernate: como cocinar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484772/">  Buenas noches, Habr. <br><br>  Este art√≠culo es un intento de facilitar la b√∫squeda de personas que comienzan en hibernaci√≥n y se enfrentan a la misma pregunta que yo, a saber, <a href="https://qna.habr.com/q/683195" rel="nofollow">c√≥mo escribir correctamente en esta herramienta</a> .  (Esto ser√° especialmente √∫til para los programadores que vienen a Java desde lenguajes de tipo d√©bil).  No habr√° c√≥digo, habr√° principios b√°sicos sobre c√≥mo utilizar esta tecnolog√≠a de manera productiva.  Todo lo que est√° escrito debajo del corte es mi IMHO, no reclamando la √∫nica soluci√≥n posible al problema. <br><br><h3>  Entonces </h3><br><a name="habracut"></a><br>  Inmediatamente haga una reserva de que mi experiencia fue con <a href="https://habr.com/ru/post/435114/">Spring Data JPA</a> . <br><br>  Dado que Hibernate es un marco empresarial, es dif√≠cil encontrar ejemplos de c√≥digo que sean m√°s profundos que el CRUD normal.  Este hecho complica seriamente la comprensi√≥n de c√≥mo escribir en Hiber, c√≥mo los desarrolladores del marco se imaginaron un buen c√≥digo; como resultado, tuve que pensar en este problema yo mismo.  Estoy seguro de que no estoy solo. <br><br><h3>  @ @ </h3><br>  Lo primero que puede notar es que no hay una base de datos como abstracci√≥n.  En hibernaci√≥n, se ha hecho todo lo posible para obtener un control total sobre la base de datos en el c√≥digo (puede buscar en Google Entity Management).  Su base de datos son objetos de dominio que realizan la funci√≥n de almacenamiento casi est√∫pido.  De ah√≠ una regla importante: no los use para nada m√°s que para almacenamiento.  No deben realizar las funciones de un DTO que acepte la entrada del usuario, y no deben servir como pantalla durante la serializaci√≥n.  Tienen patas. <br><br><div class="spoiler">  <b class="spoiler_title">Incre√≠ble pero cierto</b> <div class="spoiler_text">  En general, es sorprendente que no haya visto en el segmento educativo de Internet (incluido el ingl√©s) un ejemplo del uso de clases adicionales para la serializaci√≥n, por ejemplo, en json.  ¬øQui√©n dijo que si tiene un servicio REST, entonces no tiene que preocuparse por las clases de visualizaci√≥n?) <br><br>  S√≠, y no para REST, la intuici√≥n sugiere que en un buen tono, le dar√° al cliente solo el conjunto de datos que necesita, mientras que todos los datos est√°n listos (y no tuvieron que llamar a los captadores del cliente para una inicializaci√≥n diferida). <br></div></div><br><h3>  @ @ </h3><br>  Esto implica la siguiente regla: no deber√≠an preocuparse por el formato de uso.  Ya sea que necesitemos una lista de productos (donde solo estar√° el nombre y la descripci√≥n) o una p√°gina del producto (con fotos y rese√±as), el cliente recibir√° en un caso una <code>List</code> de <code>SimpleProductViewer (id, name, description)</code> , y en el otro <code>ExtendedProductViewer (id, name, description, List(photos), List(reviews), rating)</code> , que se generar√° en los m√©todos de la clase <code>ProductService</code> y usar√° las clases de dominio <b>solo</b> como fuente de datos. <br><br>  Lo mismo con la entrada.  Esto es Java, aqu√≠ est√° bien hacer DTO con diferentes campos para cada caso :) <br><br>  Como ejemplo, aumentar√© la base de clases para el dominio del Producto trillado.  Lo que ya tenemos: <br><br><ol><li>  Producto (dominio) </li><li>  Visor (clases para la visualizaci√≥n de informaci√≥n del cliente, puede ser cualquier n√∫mero) </li><li>  Dto (las clases para obtener informaci√≥n tambi√©n pueden ser cualquier n√∫mero) </li><li>  Repositorio (para recibir datos) </li><li>  Servicio (o Administrador): un cuadro negro para la l√≥gica empresarial no controlada, que combina todos los puntos anteriores. </li></ol><br><h3>  @ @ </h3><br>  Me parece (parece) que Java Enterprise no est√° muy optimizado (esto se puede ver ya a pedido de hibernate y el hecho mismo de que OOP (hibernate) se ha hecho cargo de la manta para administrar entidades de bases de datos).  Por lo tanto, creo que lo principal en este contexto es la correspondencia del c√≥digo con las ideas de los desarrolladores del marco, y no la estrategia √≥ptima. <br><br><h3>  @ @ </h3><br>  Si observa los dominios de hibernaci√≥n de esta manera (solo almacenamiento de datos), <code>@ManyToOne</code> parece ser un mecanismo que no se usa con tanta frecuencia y se aplica solo a tablas completamente dependientes: im√°genes, rese√±as, comentarios.  En principio, esto es normal; en mi opini√≥n, no es necesario extender su efecto a las tablas principales de su base de datos. <br><br><h3>  Resumiendo </h3><br><ul><li>  Utilice el dominio solo para el almacenamiento de datos, es deseable que las propiedades de la clase est√©n contenidas en la tabla de la base de datos de destino, es decir, no hay nada superfluo (dictado por la l√≥gica empresarial). </li><li>  No es necesario intentar expandir el dominio: ampl√≠e las clases de visualizaci√≥n y use las clases de dominio solo como proveedor de datos. </li><li>  No tenga miedo de producir el mismo tipo de clases: la comprensi√≥n y la flexibilidad de uso son m√°s importantes.  Lo m√°ximo que se puede hacer para reducir la cantidad de c√≥digo es heredarlos del dominio. </li><li>  No persigas la optimizaci√≥n.  Para los <a href="https://habr.com/ru/post/484590/">ni√±os de Java</a> esto no es importante, aunque, por supuesto, todo depende del contexto. </li></ul><br>  Algo asi. </div></div><p>Source: <a href="https://habr.com/ru/post/484772/">https://habr.com/ru/post/484772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../484754/index.html">Intel no puede decidir qui√©n es m√°s r√°pido: Comet Lake o Ice Lake</a></li>
<li><a href="../484756/index.html">Teor√≠a de la informaci√≥n visual (parte 2)</a></li>
<li><a href="../484758/index.html">Lo que es com√∫n entre programar y comenzar un negocio</a></li>
<li><a href="../484760/index.html">Eventos digitales en Mosc√∫ del 21 al 26 de enero</a></li>
<li><a href="../484762/index.html">6 maneras de darse de baja de los observables en angular</a></li>
<li><a href="../484774/index.html">Estado de la zona de dominio de Polonia .pl para 2019</a></li>
<li><a href="../484776/index.html">Eventos digitales en San Petersburgo del 21 al 26 de enero.</a></li>
<li><a href="../484778/index.html">Intel Parallel Studio XE 2020: todo lo mejor para desarrolladores</a></li>
<li><a href="../484782/index.html">Blazor Client Side Online Store: Parte 2 - CI / CD</a></li>
<li><a href="../484788/index.html">M√°s funciones para su sistema: integraci√≥n de telefon√≠a y CRM / ERP / Helpdesk. ¬øQu√©, c√≥mo y por qu√©?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>