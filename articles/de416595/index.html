<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👦‍👦 🐒 👩‍🔧 Dagaz: Horde 🐞 👩🏼‍🤝‍👨🏿 💯</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Millionen bist du. Uns - Dunkelheit und Dunkelheit und Dunkelheit. 
 Probieren Sie es aus, kämpfen Sie gegen uns! 
 Ja, Skythen - wir sind es! Ja, Asi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dagaz: Horde</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416595/"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/43e/794/3a3/43e7943a3e289a281570ab8b68d347b8.png" alt="Bild">  <b><i>Millionen bist du.</i></b>  <b><i>Uns - Dunkelheit und Dunkelheit und Dunkelheit.</i></b> <b><i><br></i></b>  <b><i>Probieren Sie es aus, kämpfen Sie gegen uns!</i></b> <b><i><br></i></b>  <b><i>Ja, Skythen - wir sind es!</i></b>  <b><i>Ja, Asiaten - wir ...</i></b> <b><i><br><br></i></b>  <b><i>Alexander Block " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Skythen</a> "</i></b> <br><br>  In einem früheren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel habe</a> ich viel über meine Erkenntnisse im Bereich Design und Benutzeroberfläche von Brettspielen gesprochen, aber ich musste diese Geschichte unterbrechen, kann man in der Mitte sagen, teils wegen des großen Volumens des Artikels, teils einfach, weil ich zu diesem Zeitpunkt nicht bereit war, sie fortzusetzen als nächstes.  Seitdem hat sich viel geändert.  Neue interessante Probleme wurden gelöst und die Spiele, die sie erzeugten (nicht weniger interessant), wurden der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Veröffentlichung</a> hinzugefügt.  Ich möchte heute darüber sprechen. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/nWSawKsdTlQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Wenn sich jemand erinnert, ging es um das Spiel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Abalon</a> ", das 1988 von Michel Lale und Laurent Levy entwickelt wurde.  Seine Essenz besteht darin, die Bälle des Feindes aus dem Feld zu schieben.  Zwei Bälle können einen und drei Bälle schieben - ein Paar Bälle einer anderen Farbe.  Der Spieler kann seine Bälle einzeln oder in Gruppen zu je zwei oder drei Bällen auf dem Brett bewegen (zusätzlich sollten drei Bälle eine „Reihe“ bilden).  Was hat mich daran gehindert, dieses Spiel das letzte Mal zu machen? <br><br>  Offensichtlich nicht die Gruppenbewegung selbst.  Die gleichzeitige Bewegung mehrerer Figuren innerhalb eines Zuges erfolgt sogar im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schach</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rochade</a> ).  Und die " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schiebepuzzles</a> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sind</a> einfach so aufgebaut, dass eine solche Bewegung synchron und reibungslos abläuft.  Schauen wir uns ein Spiel an, das 1975 von Robert Abbott entwickelt wurde: <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/kv/fp/d-/kvfpd-kf--0kt2sproxmbidswpi.png"></a> </div><br>  Es sieht aus wie ein Abalon.  Der einzige Unterschied besteht darin, dass die "Reihe" die gegnerische Figur nicht von ihrem Platz "drückt", sondern sie einfach mit einem "Schach" -Fang vom Brett entfernt.  Der Sieg wird an einen der Spieler vergeben, der es geschafft hat, in der letzten Reihe des Bretts seiner Figuren mehr zu ziehen als sein Gegner in diesem Moment.  Das ganze Spiel basiert auf sich bewegenden "Reihen".  Es ist unwahrscheinlich, dass es gelingt, nur Einzelstücke zu gewinnen.  So sieht ein einfacher Druck aus. <br><br><div class="spoiler">  <b class="spoiler_title">Zrf</b> <div class="spoiler_text"><pre><code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> push-1 ( $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> friend?) (<span class="hljs-name"><span class="hljs-name">while</span></span> friend? cascade $<span class="hljs-number"><span class="hljs-number">1</span></span> ) (<span class="hljs-name"><span class="hljs-name">verify</span></span> not-friend?) add ))</code> </pre> </div></div><br>  Es geht nur um die Zauberwortkaskade - sie zwingt den Dolmetscher, die bewegte Figur auf das aktuelle Feld zu "freigeben", von dort "in der Hand" eine andere Figur zu nehmen (es ist nicht wichtig für sich selbst oder den Gegner) und sich weiter zu bewegen, bereits mit der neuen Figur "in der Hand".  In einem Zug kann ein solcher Vorgang wiederholt ausgeführt werden, wodurch eine unbegrenzte Anzahl von Teilen gleichzeitig bewegt wird.  Solche (und etwas komplexeren) Fälle finden sich auch in anderen Spielen - " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Guns</a> ", " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dameo</a> ", " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Leutwayite Game</a> ", ... <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/ts/cz/0-/tscz0-t_xblqjzzxeolgpa-7cjm.gif"></a> </div><br>  Aus Sicht der Benutzeroberfläche sind Pushing-Moves ebenfalls recht trivial implementiert.  Die bekannte Zielfeldbezeichnung (grüner Kreis) erscheint in der Abbildung.  Wenn wir (nach den Spielregeln) diese Figur essen können - wir essen (Schachfang), sonst - pushen wir.  Sie können eine Reihe und mehr als ein Feld nach vorne schieben (wie im Spiel Epaminondas).  Das Codieren eines solchen Zuges wird natürlich etwas komplizierter sein: <br><br><div class="spoiler">  <b class="spoiler_title">Zrf</b> <div class="spoiler_text"><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> push-2 ( $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> friend?) (<span class="hljs-name"><span class="hljs-name">while</span></span> friend? mark $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> not-enemy?) to back cascade $<span class="hljs-number"><span class="hljs-number">1</span></span> ) $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> not-friend?) add ))</code> </pre></div></div><br>  Das Schlüsselwort to (und sein gepaartes <b>von</b> ) wirkt in Verbindung mit der <b>Kaskade</b> .  Dies bedeutet, dass die Figur „außer Kontrolle“ jetzt auf das Brett gelegt werden muss und die neue Figur etwas später „in die Hand nehmen“ muss, nachdem Sie zu einem anderen Feld navigiert haben.  Im Allgemeinen ist das „Schieben“ von Bewegungen einfach, aber es gibt eine andere Art von Gruppenbewegung bei Abalon: <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/ta/hn/js/tahnjsqbpx_m2hmguohqdiannb4.gif"></a> </div><br>  Ich nenne sie "Querbewegungen".  Aus Sicht der ZRF-Codierung sind sie nicht kompliziert.  Das Problem liegt in der Benutzeroberfläche.  Wie kann man dem Programm „sagen“, dass der Spieler nicht einen Ball, sondern eine Gruppe bewegen möchte, wenn beide Züge nach den Regeln zulässig sind?  Ich benutze das gleiche "Blinken", das mir bei Checkern so nützlich war, um die "aktuelle" Zahl zu markieren.  Erst jetzt gibt es mehrere "aktuelle" Zahlen im Set. <br><br>  Ein Klick auf eine "freie" Figur fügt sie der Gruppe hinzu, wenn alle der Gruppe hinzugefügten Figuren beteiligt sind (es ist noch einfacher, die Schaltfläche nicht loszulassen und die gesamte Gruppe mit einem Mausklick hervorzuheben).  Wenn es keine solchen Bewegungen gibt, wird nur eine neue Gruppe erstellt, die bisher aus einem Stück besteht.  Für die zuletzt hinzugefügte Zahl werden immer grüne Kreise angezeigt (dies ist möglicherweise nicht sehr offensichtlich, aber Sie können sich daran gewöhnen).  Durch wiederholtes Klicken auf eine „blendende“ Figur wird die gesamte Gruppe sofort zurückgesetzt. <br><br><div class="spoiler">  <b class="spoiler_title">Übrigens</b> <div class="spoiler_text">  Grüne Kreise erscheinen nicht unbedingt nur bei „blendenden“ Figuren.  In einigen Fällen ist eine Situation möglich, in der alle ausgewählten Teile in einem gültigen Zug enthalten sind, es jedoch keinen gültigen Zug gibt, der darauf beschränkt ist, nur diese ausgewählten Formen zu bewegen.  Es klingt ein bisschen verwirrend, aber hier ist eine Illustration: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d_/3h/me/d_3hmeibopemfxnzcfpmwmvztty.gif"></div><br>  In diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spiel sind</a> nur gleichzeitige Züge von Gruppen mit drei Teilen zulässig (wenn weniger Teile übrig sind, sollte sich jeder bewegen).  Alle ausgewählten Figuren bewegen sich einen Schritt und in die gleiche Richtung.  Schachfang, seine Figuren stören die Bewegung.  Um zu gewinnen, müssen Sie mindestens eine Ihrer Figuren in der letzten Reihe im feindlichen Lager halten. <br><br>  Das Spiel selbst ist meiner Meinung nach nicht sehr interessant, aber aus Sicht der Codierung ist dies ein echter Wahnsinn.  Jeder Versuch, „ehrlich“ alle möglichen Bewegungen von Gruppen mit drei Figuren zu erzeugen, führt zu einer kombinatorischen Explosion.  Sie müssen tricksen (der Vorteil von Dagaz erlaubt dies).  Zunächst generieren wir alle gültigen Züge von Einzelstücken.  Das ist einfach: <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> step ( $<span class="hljs-number"><span class="hljs-number">1</span></span> add ))</code> </pre><br>  Bis Sie den möglichen Kampf Ihrer eigenen Figur überprüfen können, das alles später!  Wir gehen einfach in alle Richtungen, wo immer es möglich ist.  Schalten Sie als nächstes die " <a href="">Magie</a> " ein.  Wir kombinieren einfach alle möglichen Kombinationen von drei Zügen verschiedener Teile in eine Richtung und bilden so ein kartesisches Produkt.  Danach <a href="">verwerfen</a> wir Züge, die auf unsere eigenen Teile stoßen. <br><br>  Warum sie nicht sofort fallen lassen?  Aus einem sehr einfachen Grund - ein Stück hat das Recht, sich auf ein besetztes Feld zu bewegen, wenn es als Teil derselben Gruppenbewegung freigegeben wird, und zum Zeitpunkt der Erzeugung der "elementaren" Bewegungen gibt es keine Informationen über die Zusammensetzung der bewegten Gruppen!  Deshalb liebe ich dieses Projekt so sehr.  Von Zeit zu Zeit wirft er hier so interessante Rätsel! <br></div></div><br>  Das Verschieben muss nicht wie in Abalone auf nur einem Feld erfolgen.  In dem 2009 von Dieter Stein erfundenen Spiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ordo</a> (und insbesondere in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ordo X</a> ) können sich Figurengruppen viel weiter bewegen.  Die einzige Bedingung ist, dass die Teile ihrer Farbe am Ende des Zuges nicht getrennt werden (dies ist die gleiche Invariante des Spiels wie die Notwendigkeit, dass der König die Bedrohung im Schach verlässt).  Der Spieler, der die erste Zeile des Bretts gewinnt, gewinnt. <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/e9/es/o2/e9eso2wtosdaokcmbftoppjdwqq.gif"></a> </div><br>  In diesem Spiel gibt es sowohl Längs- als auch Querbewegungen der „Reihen“ von Stücken beliebiger Größe und Entfernung (natürlich innerhalb des Bretts).  Es werden so viele Vorlagen zum Generieren von Zügen verwendet, dass die Verarbeitung einer von mir mit einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konverter</a> entwickelten <a href="">ZRF-Datei</a> mehr als 5 Minuten dauert (die meisten Spiele werden in Sekunden verarbeitet)!  Man könnte annehmen, dass dies zu Problemen in der Phase der Erzeugung der Bewegungen führen würde, aber dies ist nicht so.  Die überwiegende Mehrheit der Züge wird durch die <a href="">Invariante des</a> Spiels unterbrochen. <br><br><div class="spoiler">  <b class="spoiler_title">Eine weitere Gehirn-Puzzle-Aufgabe tauchte hier auf</b> <div class="spoiler_text">  Tatsache ist, dass der Mechanismus der abwechselnden Auswahl von Figuren, den ich für die Durchführung einer Gruppenbewegung entwickelt habe, im Allgemeinen nicht mit der Schnittstelle für "Pushing" -Züge kompatibel ist, die von alten Versionen des Controllers implementiert wurde.  Es ist ganz einfach: Um einen "Pushing" -Zug auszuführen, müssen Sie eine Figur auswählen, die in der Lage ist, auf das Feld zu gehen, das bisher von einer anderen Figur der bewegten Gruppe besetzt ist.  Wir können das Zielfeld jedoch nicht anzeigen, da die Bildung der Gruppe noch nicht abgeschlossen ist und das Verschieben einer einzelnen Figur auf das besetzte Feld nach den Spielregeln höchstwahrscheinlich verboten ist. <br><br>  Wenn alles „gemäß den Regeln“ ausgeführt wird, müssen im Allgemeinen alle Figuren der verschobenen Gruppe einzeln angeklickt werden. Erst danach zeigt die Benutzeroberfläche die Zielfelder für die zuletzt hinzugefügte Figur an.  Selbst in Abalon mit seinen Gruppen von maximal drei Figuren ist dies etwas anstrengend, aber in Ordo ist es im Allgemeinen undenkbar!  Ich musste eine spezielle Methode entwickeln, die die Gruppe automatisch „erweitert“, wenn sie die oben beschriebenen Konflikte erkennt. <br><br><div class="spoiler">  <b class="spoiler_title">So sieht es für Abalone aus</b> <div class="spoiler_text"><pre> <code class="javascript hljs">Dagaz.Model.closure = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">board, move, group</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = []; _.each(group, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pos</span></span></span><span class="hljs-function">) </span></span>{ r.push(pos); }); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; r.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pos = r[i]; _.each(move.actions, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((a[<span class="hljs-number"><span class="hljs-number">0</span></span>] !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (a[<span class="hljs-number"><span class="hljs-number">1</span></span>] !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (a[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>] == pos)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> p = a[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> piece = board.getPiece(p); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((piece !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (piece.player == board.player) &amp;&amp; (_.indexOf(r, p) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)) { r.push(p); } } }); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r; }</code> </pre></div></div><br>  In Ordo sind jedoch lange "Pushing" -Züge zulässig, und dieser Algorithmus funktioniert nicht!  Es spielt keine Rolle - alle in Dagaz.Model definierten Funktionen können neu definiert werden. <br><br><div class="spoiler">  <b class="spoiler_title">Auf diese Weise</b> <div class="spoiler_text"><pre> <code class="javascript hljs">Dagaz.Model.closure = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">board, move, group</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> design = board.game.design; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = []; _.each(group, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pos</span></span></span><span class="hljs-function">) </span></span>{ r.push(pos); }); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; r.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pos = r[i]; _.each(move.actions, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((a[<span class="hljs-number"><span class="hljs-number">0</span></span>] !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (a[<span class="hljs-number"><span class="hljs-number">1</span></span>] !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (a[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>] == pos)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> target = a[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = Dagaz.Model.getX(pos); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> y = Dagaz.Model.getY(pos); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dx = sign(Dagaz.Model.getX(target) - x); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dy = sign(Dagaz.Model.getY(target) - y); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dir = design.findDirection(pos, pos + (dy * Dagaz.Model.WIDTH) + dx); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dir !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((pos !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (pos != target)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> piece = board.getPiece(pos); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((piece === <span class="hljs-literal"><span class="hljs-literal">null</span></span>) || (piece.player != board.player)) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_.indexOf(r, pos) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { r.push(pos); } pos = design.navigate(board.player, pos, dir); } } } }); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r; }</code> </pre></div></div><br>  Diese Überlastung ist für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Takoka</a> am <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einfachsten</a> .  Da es keine "Pushing" -Züge gibt (es ist immer notwendig, alle in der Gruppe enthaltenen Teile klar hervorzuheben), reicht es aus, diese Funktionalität zu blockieren, dh die Gruppe einfach nicht zu erweitern: <br><br><pre> <code class="javascript hljs">Dagaz.Model.closure = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">board, move, group</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> group; }</code> </pre><br>  Ich entschuldige mich für den Funktionsnamen, der niemandem etwas sagt.  Ich konnte mir einfach keinen besseren Namen für die Aktion einfallen lassen. <br></div></div><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/w0/ao/0l/w0ao0ly48ozfetiaojn5ilq9wum.png"></a> </div><br>  Dieses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spiel</a> implementiert auch Gruppenbewegungen, aber seine Mechanik ist völlig anders!  Hier bewegen sich die Figuren in 3x3 Gruppen, außerdem sind die leeren Felder der Gruppe auch Teil des verschobenen „Musters“.  Das Vorhandensein von Figuren auf einem der acht externen Felder zeigt die Richtungen an, in die Sie sich bewegen können, und das Ausfüllen des zentralen Felds bestimmt, ob Sie das "Muster" auf eine beliebige oder nur eine kurze Strecke verschieben können, nicht mehr als 3 Schritte.  Um zu gewinnen, muss der "Ring" des Feindes zerstört werden - ein Analogon der königlichen Figur (dies ist ein leeres Feld, das allseitig von acht gefüllten umgeben ist).  Sie müssen sehr vorsichtig sein, um Ihren Ring nicht zu zerstören. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GESS</a> erwies sich als wahrer Albtraum, sowohl in Bezug auf " <a href="">Magie</a> " als auch in Bezug auf den <a href="">Prototyp</a> selbst - das Skelett des Spiels.  Es reicht zu sagen, dass die Platine (20x20, unter Berücksichtigung einer Reihe von Feldern außerhalb der Platine) aus zwei Schichten besteht.  Die gesamte oberste Ebene ist vollständig mit unsichtbaren Formen gefüllt, die die Bewegung steuern.  Die Bewegung der Steine, aus denen die „Muster“ der Spieler bestehen, sind nur Nebenwirkungen dieser Bewegungen.  Leider habe ich es noch nicht geschafft, einen Bot für dieses Spiel zu entwickeln. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/hBuolYNV1Oo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Am Ende des Artikels möchte ich Ihnen etwas anderes vorstellen, das nicht direkt mit dem Thema Gruppenbewegung von Figuren zusammenhängt.  In diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spiel wurde</a> ich gebeten, einen der Abonnenten meiner Projektseite zu gewinnen - Sultan Ratrout.  Im Allgemeinen sind dies gewöhnliche <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Säulenprüfer</a> auf einem sechseckigen Brett.  Auch ohne die Damen.  Das Konzept der Revolution ist anders!  Das Spielfeld selbst ist transformierbar!  Genieße es. <br><br>  <b><i>Ich fahre in den Urlaub ...</i></b> <br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de416595/">https://habr.com/ru/post/de416595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de416585/index.html">Browserübergreifende Web-Erweiterung für benutzerdefinierte Skripte Teil 3</a></li>
<li><a href="../de416587/index.html">Ein paar Worte zu den Subwoofern und warum sie für fast jeden geeignet sind</a></li>
<li><a href="../de416589/index.html">Tote Zellen: Verwenden der 3D-Pipeline für 2D-Animationen</a></li>
<li><a href="../de416591/index.html">"Die Muttern festziehen": Warum alle über eine Verschärfung der Regulierung des IT-Sektors sprachen</a></li>
<li><a href="../de416593/index.html">Meine Teilnahme an der Entwicklung von Uncharted 4</a></li>
<li><a href="../de416597/index.html">IBM Watson Build - versuchen Sie sich beim Entwicklerwettbewerb</a></li>
<li><a href="../de416599/index.html">Was ist eCPM und wie kann es erhöht werden?</a></li>
<li><a href="../de416601/index.html">Vertex Impress Play Test: schlankes Gehäuse + 5000-mAh-Akku + gute 16-Megapixel-Kameras</a></li>
<li><a href="../de416605/index.html">@ Pythonetc Juni 2018</a></li>
<li><a href="../de416607/index.html">Post-mortem-Paarung: Wie man Cthulhu und weitere 2.000 Menschen besiegt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>