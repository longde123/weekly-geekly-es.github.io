<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üàÇÔ∏è ‚ùóÔ∏è üôÖüèø Mi magnum opus del mundo de los juegos m√≥viles ü§ö üßëüèø‚Äçü§ù‚Äçüßëüèø üòè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! Hoy, 26 de septiembre, es mi cumplea√±os, lo que significa que para m√≠ esta es una gran raz√≥n para lanzar un art√≠culo sobre la secuela de mi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mi magnum opus del mundo de los juegos m√≥viles</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468363/">  Hola Habr!  Hoy, 26 de septiembre, es mi cumplea√±os, lo que significa que para m√≠ esta es una gran raz√≥n para lanzar un art√≠culo sobre la secuela de mi rompecabezas.  Te advierto que soy un aficionado, lo que significa que habr√° muchos errores en TODOS los aspectos del desarrollo (si lo encuentras, escribe, con mucho gusto lo tendr√© en cuenta).  En este art√≠culo me gustar√≠a contar todo (bueno, o casi todo) sobre c√≥mo hice la secuela, c√≥mo llegu√© a esto y a qu√© llegu√©. <br><a name="habracut"></a><br>  Para no confundirme, aqu√≠ me refiero a los significados de los t√©rminos que est√°n en el art√≠culo: <br>  El original es la primera parte, un juego con un impulso subterr√°neo de la tecnodemo.  Puedes leer sobre esto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  La secuela es la segunda parte de la serie, el juego que se trata en este art√≠culo. <br><br>  Peri√≥dicamente comparar√© el juego original con la secuela para enfatizar la diferencia entre los dos. <br><br>  <i>Brevemente sobre el desarrollo</i> <br><br>  Comenc√© a trabajar en el juego a fines de enero y para fines de marzo se complet√≥ la parte t√©cnica (2 meses).  Despu√©s de que tom√© otro juego y regres√© para continuar desarrollando este juego a mediados de mayo.  Termin√© claramente al final del verano y todo este tiempo (3.5 meses) llen√© el juego con contenido.  Y como resultado, la secuela fue hecha a√∫n m√°s r√°pido por m√≠ que el juego original (6 meses versus 5.5 meses). <br><br>  Hice un juego en el motor de la unidad.  Me gustar√≠a que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">estos muchachos</a> hicieran su propio motor y avanzaran en la programaci√≥n, pero algo sali√≥ mal y a√∫n as√≠ decid√≠ hacer el juego en un est√°ndar, pero probado por mi instrumento. <br><br>  <i>Entre el original y la secuela</i> <br><br>  La idea de crear una secuela surgi√≥ un mes antes del lanzamiento del juego original (en alg√∫n lugar de agosto).  Al ver los errores que comet√≠, quise eliminar todo y comenzar a trabajar nuevamente con logros exitosos.  Pero no comenc√© a cambiar nada debido al hecho de que hab√≠a muchos c√≥digos de problemas, todo el contenido estaba listo y solo retras√© el desarrollo.  Era necesario ir a liberar. <br><br>  Despu√©s del lanzamiento, nuevamente me atorment√≥ la idea de una secuela.  Esta vez no comenc√©, porque era moralmente flojo, despu√©s del lanzamiento fue completamente suave.  Quer√≠a algo nuevo e interesante.  Comenzaron experimentos masivos. <br><br>  Los siguientes 3 meses intent√© implementar cualquier idea, configuraci√≥n o concepto en los juegos.  Lo hice a pesar de la escala de ambiciones, las dificultades de ejecuci√≥n, y tambi√©n a veces a pesar de la l√≥gica y el sentido com√∫n.  Como resultado, obtuve unos 50 proyectos.  Eran de diferentes g√©neros: desde tiradores hasta estrategias, desde plataformas hasta juegos de rol. <br><br>  Entonces los experimentos continuar√≠an hasta que me cansara.  Y estoy cansado de no hacer juegos, sino de lo incompleto que hice.  Me propuse un objetivo: hacer al menos alg√∫n tipo de juego una semana antes del final.  Y as√≠ apareci√≥ mi segundo juego. <br><br><div class="spoiler">  <b class="spoiler_title">Pro 2 juego</b> <div class="spoiler_text">  Este juego es muy simple y complejo al mismo tiempo.  Es necesario cortar l√≠neas y no gr√°ficos.  El significado del juego es que cada l√≠nea de corte se dividi√≥ por 2, y apareci√≥ un gr√°fico en su centro.  La caracter√≠stica del juego era que toda la geometr√≠a era din√°mica.  Los gr√°ficos se mov√≠an y las l√≠neas siempre conectaban ciertos gr√°ficos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fq/ey/fc/fqeyfcevpqtzh8uxu8xvmib4h0g.jpeg" width="400"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/c-/xl/-j/c-xl-jj2fecfxp1d5eiofqybahg.jpeg" width="400"></div><br></div></div><br>  Despu√©s de esto, estaba motivado (estoy motivado) y listo para un nuevo proyecto.  Sent√≠ una oleada de fuerza y ‚Äã‚Äãa√∫n tom√© la secuela de mi juego. <br><br>  <i>Idea</i> <br><br>  Antes de comenzar a hacer algo, decid√≠ echar un vistazo completo al original.  Y horrorizado.  De calidad.  El juego, sobre todo, se redujo a rompecabezas est√°ndar: la necesidad de desbloquear niveles, recoger estrellas, un temporizador, terminar, pero todo esto se hizo sin un presupuesto y muy ins√≠pido.  ¬°El original realmente carec√≠a de animaciones!  Aunque hab√≠a algo original en √©l, y algo, probablemente, sincero.  Aunque incluso aqu√≠ lograron adelantarse a m√≠. <br><br><div class="spoiler">  <b class="spoiler_title">Encontr√© algo similar</b> <div class="spoiler_text">  Resulta que hay un juego muy similar con un nombre casi id√©ntico.  Y ella parece una variaci√≥n m√°s exitosa de mi juego.  Me enter√© de ella en este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">video</a> . <br>  Despu√©s descubr√≠ que este juego es un exclusivo LG Smart TV.  Fue creado por la divisi√≥n rusa de LG R&amp;D Lab en 2014: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qs/r_/ro/qsr_rozxewpa190vstdrslntr9i.png" width="400"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/h4/vt/3x/h4vt3xoolsh3l-rqqyxi7p52q7k.png" width="600"></div><br>  Est√° controlado por las flechas "izquierda" y "derecha" en el control remoto.  De la misma manera que en mi juego (2 partes de la pantalla).  ¬øQu√© puedo decir? El √°ngulo de inclinaci√≥n es el mismo: 30 ¬∞.  Puramente t√©cnicamente, se puede decir que mi juego est√° plagiado por esto.  Aunque me enter√© de ella unos 2 meses despu√©s del lanzamiento del primer juego. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9k/8h/u6/9k8hu6sbmhqtlta1k8nnand7jkm.png" width="500"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sd/oa/dx/sdoadx3lb0kw-jx08nwmuszcewe.png" width="500"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wc/hj/b7/wchjb7a3e8pfykhr1kokfnxxslw.png" width="500"></div><br></div></div><br>  Entendiendo la posici√≥n muy deplorable del original, decid√≠ revivir el juego con cambios radicales, para mejorarlo.  Y luego la fantas√≠a vol√≥: que haya una trama y que haya una opci√≥n en ella, habr√° jefes con ataques reflexivos, habr√° una producci√≥n de la que el original careci√≥, habr√° la sensaci√≥n de una sola aventura completada, etc.  En general, todas las mejores ideas que se me ocurrieron durante el tiempo entre el original y la secuela.  Y todo lo que no funcion√≥ o funcion√≥ mal fue destinado a tirar de la secuela. <br><br>  <i>Primera demo</i> <br><br>  Todo comenz√≥, por supuesto, con √©l.  Decid√≠: "Si resuelve problemas, h√°galo a fondo".  Y la primera v√≠ctima de tales cambios fue la administraci√≥n.  Podr√≠a robarlo de un juego similar (ver arriba).  Esta es exactamente la gesti√≥n que originalmente quer√≠a, pero no sab√≠a c√≥mo hacerlo.  Un suplemento ser√≠a bastante simple: solo agregue animaciones de rotaci√≥n cada vez que haga clic.  Pero eso no fue para m√≠.  Al menos para percibir el control, as√≠ como en un juego similar, era necesario hacer la misma c√°mara est√°tica y obviamente reducir los niveles junto con el ritmo del juego.  Pero quer√≠a acci√≥n, din√°mica y velocidad, as√≠ que hice un desarrollo l√≥gico del control original.  Ahora, en lugar de presionar y girar un cierto grado, hubo una sujeci√≥n y el grado de rotaci√≥n final se determin√≥ por su duraci√≥n.  Se ve√≠a claramente mejor que en el original. <br><br>  Debido a que normalmente controlaba el control, el error principal del original desapareci√≥ y ahora era posible hacer que los niveles MUCHO m√°s cargados que en el original sin temor a retrasos y frisos.  Y luego vino la parte experimental. <br><br>  <i>Demo gr√°fica</i> <br><br>  Nunca supe c√≥mo dibujar gr√°ficos normales y casi siempre fue reemplazado por la parte tecnol√≥gica, o m√°s bien su ejecuci√≥n normal.  Y este juego no fue la excepci√≥n.  En lugar de simples sprites normales, apareci√≥ una luz realista.  Era una ilusi√≥n de luz 2D.  De hecho, esta es una luz tridimensional, contra una superficie de metal, y todos los objetos ten√≠an materiales con sombreadores espec√≠ficos.  Se ve√≠a bastante bien: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xr/y4/r7/xry4r7d7f2-qgnnrzxno2cbmpea.png" width="500"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5s/t7/9k/5st79k9tkdwa86zq4eg9xrcesc8.png" width="500"></div><br>  En las pruebas, mostr√≥ 60 fps estables, pero en el tel√©fono, incluso en mi Sony Xperia, era de alrededor de 20 fps y se hundi√≥ a 10 fps.  Y me encontr√© con un techo de rendimiento.  Ten√≠a que ir por un camino diferente, el camino de la destructibilidad ... <br><br>  <i>La destructibilidad</i> <br><br>  Inicialmente, todo me pareci√≥ una mala idea.  Pero decid√≠ probar y ahora este es mi programa principal de juegos.  Seg√∫n el plan, nuevamente quer√≠a m√°s realismo, es decir, la destrucci√≥n de los fragmentos generados, dependiendo de la direcci√≥n y la fuerza del impacto.  Pero el plan nuevamente descansaba en el techo, esta vez que yo sepa.  Tuve que simplificar a uno m√°s simple. <br><br>  Ahora, la destructibilidad se basaba en un principio de operaci√≥n m√°s simple, es decir, creaba una copia de s√≠ mismo, solo a partir de fragmentos f√≠sicos, y el objeto original eliminaba los componentes de SpriteRenderer, Collider2D y, si hab√≠a uno, desactivaba Rigidbody2D. <br><br>  Pero surgi√≥ otra pregunta: colisionadores.  Por un lado, podr√≠as usar PolygonCollider2D y no ser atormentado, pero por otro lado, tendr√≠as que sufrir m√°s tarde en el dise√±o y la optimizaci√≥n del juego.  Por lo tanto, todos los fragmentos de los bloques destruidos ten√≠an BoxCollider2D (incluso fragmentos de objetos redondos). <br><br>  Adem√°s, se realiz√≥ una contribuci√≥n significativa a la optimizaci√≥n mediante la configuraci√≥n correcta del par√°metro de tiempo fijo paso a paso (se convirti√≥ en igual a 0.0 (3) o 30 por segundo).  Pero ahora, a altas velocidades, el objeto vol√≥ a trav√©s de √©l, y esto definitivamente afect√≥ el dise√±o del juego. <br><br>  ¬°Estos elementos llevaron la optimizaci√≥n a un nivel aceptable y ahora podr√≠a haber hasta cientos de objetos f√≠sicos en el escenario!  Despu√©s del original, definitivamente fue un gran avance, revoluci√≥n, etc.  Al darme cuenta de que me estaba moviendo en la direcci√≥n correcta, decid√≠ solucionar otro problema de juego de larga data: el abrumador hardcore.  Para provocar de alguna manera el juego que hice ... <br><br>  <i>Sistema de da√±os</i> <br><br>  Para m√≠, esta es la parte m√°s oscura del desarrollo, que se ha reescrito 2 veces.  Trabajar en ello estaba en curso.  Como resultado, sali√≥ un sistema extremadamente sofisticado, pero funcion√≥ bastante ampliamente. <br><br>  Pero primero, vale la pena mencionar c√≥mo funciona la percepci√≥n del da√±o aqu√≠.  Puede parecer que funciona seg√∫n el principio "cuanto m√°s golpeas, m√°s fuerte es el da√±o", pero esto no es as√≠.  En la mayor√≠a de los casos, funciona seg√∫n el principio de "cuanto m√°s largo es el contacto, mayor es el da√±o", donde el lugar de algo tan importante como la "fuerza de impacto" fue reemplazado por un coeficiente de da√±o que se configur√≥ manualmente para cada objeto que causa da√±o, dependiendo de la situaci√≥n.  Esto sucedi√≥ debido al hecho de que el paso fijo del tiempo result√≥ ser tan grande que se cre√≥ un poderoso error: el juego no logr√≥ procesar Enter2D.  Y esto cre√≥ situaciones como: se estrell√≥ a alta velocidad, no recibi√≥ da√±o.  ¬øPor qu√© no lo arregl√©?  Ni siquiera yo puedo decir eso. <br><br>  Entonces, ¬ød√≥nde comenz√≥ el sistema de da√±os?  De la salud.  El jugador tiene una salud igual a 1 (luego aument√≥ a 2).  S√≠, esto todav√≠a no es suficiente, y al primer contacto fuerte con la trampa morir√°, pero al menos a baja velocidad existe la posibilidad de sobrevivir (incluso varias veces).  No quise cambiar el original.  "¬øPero qu√© causar√° da√±o al jugador?"  - Pens√© y se me ocurrieron las trampas principales. <br><br>  <i>Trampas principales</i> <br><br>  La base de mi rompecabezas consist√≠a en trampas, pero contradec√≠an el nombre del juego.  Del nombre se deduce que el juego debe ser sobre bolas que caen bajo la influencia de la gravedad.  Pero no hab√≠a tantos de ellos.  En cambio, hab√≠a m√°s acertijos est√°ndar. <br><br>  El principal y el primero fue una sierra.  Rompecabezas simple y claro.  Fue escrito de manera no muy √≥ptima, durante el per√≠odo de postproducci√≥n lo arregl√©. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1z/rd/12/1zrd120z2iybncavb97pa6khk_0.png" width="500"></div><br><div class="spoiler">  <b class="spoiler_title">Saw Script</b> <div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine; public class Saw : GlobalFunctions { public AudioClip setClip; private TypePlaying typePlaying = TypePlaying.Sound; private AudioBase audioBase; private float speed = 4f; private Transform tr; private void Awake() { audioBase = GameObject.FindWithTag("MainCamera").GetComponent&lt;AudioBase&gt;(); tr = transform; } private void Update() { float s = Time.fixedDeltaTime / 0.03f * (Time.deltaTime / 0.03f); tr.localEulerAngles = new Vector3(0f, 0f, tr.localEulerAngles.z - speed * s); } private void OnCollisionEnter2D(Collision2D collision) { if (collision.collider.tag == "Player") { audioBase.SetSound(setClip, 1, 0.2f, typePlaying, false); } } public float GetSpeed() { return speed; } }</code> </pre> <br></div></div><br>  El siguiente fue un l√°ser, que, bueno, carg√≥ todo muy pesadamente.  Si pones 40 piezas en el escenario, el juego comenzar√° a retrasarse significativamente.  Pero tambi√©n ten√≠a el deseo de agregar leyes f√≠sicas completas de la luz, es decir, reflexi√≥n o incluso refracci√≥n.  Pero no hubo tiempo, no lo termin√©.  Aunque optimic√© algunas cosas, no ayud√≥ mucho. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ve/tr/yk/vetrykehlbbyyoiulruywx-ln2q.png" width="500"></div><br><div class="spoiler">  <b class="spoiler_title">Script l√°ser</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; public class Laser : MonoBehaviour { public Vector2 vector2; public bool active = true; public GameObject laserActive; public LineRenderer lr1; public Transform tr; public BoxCollider2D bcl; public Damage dmg; private void Start() { lr1.startColor = lr1.endColor = LaserColor(); } public Color LaserColor() { Color c = new Color(0f, 0f, 0f, 1f); switch (dmg.GetTypeLaser().Type2int()) { case 1: c = new Color(1f, 0f, 0f, 1f); break; case 2: c = new Color(0f, 1f, 0f, 1f); break; case 3: c = new Color(0f, 0f, 0f, 0.4901961f); break; case 4: c = new Color(1f, 0.8823529f, 0f, 1f); break; case 5: c = new Color(0.6078432f, 0.8823529f, 0f, 1f); break; case 6: c = new Color(1f, 0.2745098f, 0f, 1f); break; } return c; } private void Update() { LaserUpdate(); } private void LaserUpdate() { if (active == true) { Vector2[] act1 = Points(tr.position, -tr.up); lr1.SetPosition(0, act1[0]); lr1.SetPosition(1, act1[1]); bcl.size = new Vector2(0.1f, 0.1f); bcl.offset = act1[2]; } return; } private Vector2[] Points(Vector2 start, Vector2 end) { Vector2[] ret = new Vector2[3]; RaycastHit2D hit = Physics2D.Raycast(tr.position, -tr.up, 200f); ret[0] = tr.position; ret[1] = hit.point; vector2 = ret[1]; float distance = Vector2.Distance(tr.position, hit.point); bcl.size = new Vector2(0.1f, 0.1f); if (hit.collider == bcl) { ret[2] = new Vector2(0f, 0.5f); } else { ret[2] = new Vector2(0f, -distance - 0.2f); } return ret; } }</code> </pre><br></div></div><br><br>  La bomba fue la √∫ltima trampa, y antes de agregarla, reescrib√≠ el sistema de toma de da√±os, en particular, transfir√≠ todo lo relacionado con la salud del jugador a un script separado de HealthBar (√∫til para otros fines).  Despu√©s de que la bomba todav√≠a apareci√≥, y su f√≠sica dej√≥ mucho que desear, en el proceso se termin√≥ nuevamente.  Y al final result√≥ ser bastante digno. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/gn/so/zggnsolmlabdaf5gupqicjr3ih8.png" width="500"></div><br><div class="spoiler">  <b class="spoiler_title">Explosion Script</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using System.Collections; using UnityEngine; public class Explosion : GlobalFunctions { public float power = 1f; public float radius = 5f; public float health = 20f; public float timeOffsetExplosion = 1f; public GameObject[] contacts = new GameObject[0]; public Animator expAnim; public bool writeContacs = true; public AudioClip setClip; private float timeOffsetExplosionCount; private float alphaTimer; private bool isTimerOn = false; private bool firstAPEvirtual = true; private Collider2D cl; private Rigidbody2D rb; private SpriteRenderer sr; private AudioBase audioBase; private Explosion explosion; private void Awake() { audioBase = GameObject.FindWithTag("MainCamera").GetComponent&lt;AudioBase&gt;(); cl = GetComponent&lt;Collider2D&gt;(); rb = GetComponent&lt;Rigidbody2D&gt;(); sr = GetComponent&lt;SpriteRenderer&gt;(); explosion = GetComponent&lt;Explosion&gt;(); } private void Start() { alphaTimer = sr.color.a; StartCoroutineTimerOffsetExplosion(); } private void OnCollisionEnter2D(Collision2D collision) { if (writeContacs == true) { int cont = contacts.Length; GameObject[] n = new GameObject[cont + 1]; if (cont != 0) { for (int i = 0; i &lt; cont; i++) { n[i] = contacts[i]; } } n[cont] = collision.gameObject; contacts = n; } } private void OnCollisionExit2D(Collision2D collision) { if (writeContacs == true) { int cont = contacts.Length; if (cont != 1) { int counter = 0; GameObject[] n = new GameObject[cont - 1]; for (int i = 0; i &lt; cont; i++) { if (contacts[i] != collision.gameObject) { n[counter] = contacts[i]; counter++; } } contacts = n; } else { contacts = new GameObject[0]; } } } public void ActionExplosionEmulation(GameObject obj) { float damage = 0f; if (obj.CompareTag("Laser")) { damage = obj.GetComponent&lt;Damage&gt;().senDamage; } else { damage = obj.GetComponent&lt;Power&gt;().power; } health = health - damage; StartCoroutineTimerOffsetExplosion(); return; } public void StartCoroutineTimerOffsetExplosion() { if (health &lt;= 0f &amp;&amp; isTimerOn == false) { isTimerOn = true; timeOffsetExplosionCount = timeOffsetExplosion; StartCoroutine(TimerOffsetExplosion(0.1f)); } } private IEnumerator TimerOffsetExplosion(float timeTick) { yield return new WaitForSeconds(timeTick); timeOffsetExplosionCount = timeOffsetExplosionCount - timeTick; if (timeOffsetExplosionCount &gt; 0f) { float c = timeOffsetExplosionCount / timeOffsetExplosion; sr.color = new Color(1f, c, c, alphaTimer); StartCoroutine(TimerOffsetExplosion(timeTick)); } else { ExplosionAction(); } } private void ExplosionAction() { rb.gravityScale = 0f; rb.velocity = Vector2.zero; audioBase.SetSound(setClip, 2, 1f, TypePlaying.Sound, false); Destroy(cl); CircleCollider2D c = gameObject.AddComponent&lt;CircleCollider2D&gt;(); c.isTrigger = true; c.radius = radius; tag = "Explosion"; if (PlayerPrefs.GetString("graphicsquality") != "high") { Destroy(sr); StartCoroutine(Off()); } else { expAnim.enabled = true; StartCoroutine(Off2High()); } } public IEnumerator Off() { yield return new WaitForSecondsRealtime(0.1f); gameObject.SetActive(false); } public IEnumerator OffHigh(CircleCollider2D c) { yield return new WaitForSecondsRealtime(0.1f); c.enabled = false; } public IEnumerator Off2High() { yield return new WaitForSecondsRealtime(1.5f); gameObject.SetActive(false); } public void APEvirtual() { int cont = contacts.Length; if (cont != 0 &amp;&amp; firstAPEvirtual == true) { firstAPEvirtual = false; for (int i = 0; i &lt; cont; i++) { if (contacts[i] != null) { if (contacts[i].GetComponent&lt;PhysicsEmulation&gt;()) { contacts[i].GetComponent&lt;PhysicsEmulation&gt;().ExplosionPhysicsEmulation(explosion); } } } } } public void AnimFull() { sr.color = new Color(1f, 1f, 1f, 1f); sr.size = new Vector2(3f * radius, 3f * radius); return; } }</code> </pre><br></div></div><br>  Despu√©s de mirar todo el sistema de da√±os, decid√≠ reescribirlo a fondo.  Y esta vez, Damage puso todas las variaciones de da√±o posibles en un script de Damage, e hizo un m√©todo similar de ActionPhysicsEmulation para bloques destructibles (al final, para cada tipo de da√±o individual, se escribi√≥ su propio m√©todo optimizado).  Adem√°s, la intensidad del da√±o estaba determinada por la intensidad de la "fuerza" del objeto (el gui√≥n estaba solo en el jugador). <br><br>  Y al final, solo estos 3 acertijos estaban por encima del original.  Pero esta no fue una raz√≥n para parar: tampoco me olvid√© de experimentar durante todo el desarrollo.  As√≠ apareci√≥. <br><br>  Campo de fuerza (desactiva la gravedad, ralentiza y mata lentamente) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-d/ai/yk/-daiykfxbws9lxxsalwbop6xblg.png" width="500"></div><br><div class="spoiler">  <b class="spoiler_title">Script VelocityField</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; public class VelocityField : GlobalFunctions { public float percent = 10f; public float damage = 0.01f; public float heal = 0.01f; public GameObject[] contacts = new GameObject[0]; private HealthBar hb; private void Awake() { hb = GameObject.FindWithTag("MainCamera").GetComponent&lt;Management&gt;().healthBar; } private void FixedUpdate() { if (contacts.Length != 0) { for (int i = 0; i &lt; contacts.Length; i++) { if (contacts[i] != null) { if (contacts[i].GetComponent&lt;Rigidbody2D&gt;()) { float s = Time.fixedDeltaTime / 0.03f; Vector2 vel = contacts[i].GetComponent&lt;Rigidbody2D&gt;().velocity; contacts[i].GetComponent&lt;Rigidbody2D&gt;().velocity = vel / 100f * (100f - percent * s); } } else { contacts = Remove(contacts, i); } } } } private void OnTriggerEnter2D(Collider2D collision) { if (collision.GetComponent&lt;Rigidbody2D&gt;()) { Rigidbody2D rb2 = collision.GetComponent&lt;Rigidbody2D&gt;(); if (rb2.isKinematic == false) { VelocityInput vi = collision.GetComponent&lt;VelocityInput&gt;(); vi.fields = Add(vi.fields, gameObject); rb2.gravityScale = 0f; rb2.freezeRotation = true; vi.inVelocityField = true; if (collision.GetComponent&lt;Destroy&gt;()) { collision.GetComponent&lt;Destroy&gt;().ActiveTimerDeleteChange(300f); } if (collision.tag == "Player") { hb.StartVFRad(damage); } contacts = Add(contacts, collision.gameObject); } } } public void OnTriggerExit2D(Collider2D collision) { if (collision.GetComponent&lt;Rigidbody2D&gt;()) { Rigidbody2D rb2 = collision.GetComponent&lt;Rigidbody2D&gt;(); if (rb2.isKinematic == false) { VelocityInput vi = collision.GetComponent&lt;VelocityInput&gt;(); vi.fields = Remove(vi.fields, gameObject); if (vi.fields.Length != 0) { rb2.gravityScale = 0f; rb2.freezeRotation = true; vi.inVelocityField = true; } else { rb2.gravityScale = 1f; rb2.freezeRotation = false; vi.inVelocityField = false; } if (collision.GetComponent&lt;Destroy&gt;()) { collision.GetComponent&lt;Destroy&gt;().ActiveTimerDeleteChange(60f); } if (collision.tag == "Player") { hb.EndVFRad(heal); } contacts = Remove(contacts, collision.gameObject); } } } }</code> </pre><br></div></div><br>  Pisotear (mat√≥ a los jugadores, aplast√°ndolos) <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ag/id/eu/agideu1-kir4r8z4xgmawwhcp_c.png" width="500"></div><br><div class="spoiler">  <b class="spoiler_title">Vagabundo Script</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; public class TrampAnim : MonoBehaviour { public float speed = 0.1f; public float speedOffset = 0.01f; public float damage = 1f; private float sc; private float maxDis; public Vector3 start; public Vector3 end; public TrampAnim ender; public bool active = true; public bool trigPlayer = false; private AudioSet audioSet; private bool audioAct; private Transform tr; private HealthBar hb; public int count = 0; public void Start() { if (active) { tr = transform; maxDis = Vector2.Distance(start, end); sc = Vector2.Distance(tr.localPosition, start) / maxDis; hb = Camera.main.GetComponent&lt;Management&gt;().healthBar; audioAct = GetComponent&lt;AudioSet&gt;(); if (audioAct) { audioSet = GetComponent&lt;AudioSet&gt;(); } } } public void Update() { if (active) { float s = Time.fixedDeltaTime / 0.03f * (Time.deltaTime / 0.03f); if (count == 0) { tr.localPosition = Vector2.MoveTowards(tr.localPosition, end, (speed * sc + speedOffset) * s); if (tr.localPosition == end) { count = 1; if (trigPlayer &amp;&amp; ender.trigPlayer) { hb.Damage(100f, tag, Vector2.zero); } if (audioAct) { audioSet.SetMusic(); } } } else { tr.localPosition = Vector2.MoveTowards(tr.localPosition, start, (speed * sc + speedOffset) * s); if (tr.localPosition == start) { count = 0; } } sc = Vector2.Distance(tr.localPosition, start) / maxDis; } } public void OnCollisionEnter2D(Collision2D collision) { Transform trans = collision.transform; string tag = trans.tag; if (tag == "Player") { trigPlayer = true; } else if (active == false) { if (trans.GetComponent&lt;PhysicsEmulation&gt;()) { trans.GetComponent&lt;PhysicsEmulation&gt;().TrampAnimPhysicsEmulation(GetComponent&lt;TrampAnim&gt;()); } } } public void OnCollisionExit2D(Collision2D collision) { string tag = collision.transform.tag; if (tag == "Player") { trigPlayer = false; } } }</code> </pre><br></div></div><br>  Radiaci√≥n (que reduce lentamente la salud) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bz/w2/mi/bzw2mi2pn0jk6lzbqiu4ze-we5u.png" width="500"></div><br><div class="spoiler">  <b class="spoiler_title">Radiaci√≥n de gui√≥n</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using System.Collections; using UnityEngine; public class Radiation : MonoBehaviour { public bool isActiveRadiation = false; private Management m; private HealthBar hb; private void Awake() { gameObject.SetActive(PlayerPrefs.GetString("ai") == "off"); m = GameObject.FindWithTag("MainCamera").GetComponent&lt;Management&gt;(); hb = m.healthBar; } private void Start() { StartCoroutine(RadiationDamage()); } public IEnumerator RadiationDamage() { yield return new WaitForSeconds(0.0002f); if (isActiveRadiation) { hb.StraightDamage(0.0002f, "Radiation"); } StartCoroutine(RadiationDamage()); } public void OnTriggerEnter2D(Collider2D collision) { if (collision.tag == "Player") { isActiveRadiation = true; hb.animator.SetBool("isVisible", true); } } public void OnTriggerExit2D(Collider2D collision) { if (collision.tag == "Player") { isActiveRadiation = false; hb.animator.SetBool("isVisible", false); if (hb.healthBarImage.fillAmount == 0f) { m.StartGraphics(); } } } public void OnCollisionEnter2D(Collision2D collision) { if (collision.transform.tag == "Player") { hb.animator.SetBool("isVisible", false); PlayerPrefs.SetString("ai", "on"); gameObject.SetActive(false); } } }</code> </pre><br></div></div><br>  Trampa (una bola azul que mata cuando se toca, que es una referencia al juego m√°s dif√≠cil del mundo) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oh/wg/6y/ohwg6ye0n_7lvpk_gt8igkknjye.png" width="500"></div><br><div class="spoiler">  <b class="spoiler_title">Gui√≥n inmortal</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; public class DeathlessScript : MonoBehaviour { private HealthBar hb; private void Awake() { hb = Camera.main.GetComponent&lt;Management&gt;().healthBar; } public void OnTriggerEnter2D(Collider2D collision) { if (collision.tag == "Player") { hb.Damage(10f, tag, Vector2.zero); } } }</code> </pre><br></div></div><br>  No registr√© todos estos tipos de da√±os en el script de Da√±o, pero generalmente funcionaban bien con muletas.  Despu√©s de esto, la mec√°nica adicional entr√≥ en l√≠nea. <br><br>  <i>Mec√°nica adicional</i> <br><br>  Se hicieron variados.  Hab√≠a bastantes, por lo que todos eran de inter√©s y no lo suficiente como para ser funcionales para la interacci√≥n con la mayor√≠a de las mec√°nicas del juego. <br><br>  La primera de esas mec√°nicas fueron las puertas.  El primero y m√°s funcional de todos.  Definitivamente √∫til en todos los lugares donde se necesitaban barreras funcionales.  Tambi√©n tiene funciones adicionales: isActive para determinar el estado de inicio e isState para fijar la posici√≥n despu√©s de la activaci√≥n (los nombres est√°n mezclados, pero cuando not√© que era demasiado tarde para arreglarlos). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1j/by/if/1jbyifik8daournyzffkwxtubxk.png" width="500"></div><br><div class="spoiler">  <b class="spoiler_title">Script Gate</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; using System.Collections; public class Gate : MonoBehaviour { [Header("StartSet")] public Vector2 gateScale = new Vector2(1, 4); public float speed = 0.1f; public bool isReverse = false; public bool isEnd = true; public Vector2 animSetGateScale = new Vector2(); public Vector2 target = new Vector2(); [Header("SpriteEditor")] public Sprite mainSprite; [Header("Assets")] public GameObject door1; public GameObject door2; private IEnumerator fixUpdate; private void Start() { SpriteRenderer ds1 = door1.GetComponent&lt;SpriteRenderer&gt;(); SpriteRenderer ds2 = door2.GetComponent&lt;SpriteRenderer&gt;(); ds1.sprite = mainSprite; ds2.sprite = mainSprite; if (isReverse == false) { animSetGateScale = target = gateScale; } fixUpdate = FixUpdate(); SetGate(animSetGateScale); } private IEnumerator FixUpdate() { yield return new WaitForSeconds(0.03f); if (animSetGateScale != target) { float s = Time.fixedDeltaTime / 0.03f; animSetGateScale = Vector2.MoveTowards(animSetGateScale, target, speed * s); SetGate(animSetGateScale); StartCoroutine(FixUpdate()); } } private void SetGate(Vector2 scale) { SpriteRenderer ds1 = door1.GetComponent&lt;SpriteRenderer&gt;(); SpriteRenderer ds2 = door2.GetComponent&lt;SpriteRenderer&gt;(); Vector2 size = new Vector2(mainSprite.texture.width, mainSprite.texture.height); float k = size.x / size.y; ds1.size = new Vector2(gateScale.x, scale.y / 2f); ds2.size = new Vector2(gateScale.x, scale.y / 2f); BoxCollider2D d1 = door1.GetComponent&lt;BoxCollider2D&gt;(); BoxCollider2D d2 = door2.GetComponent&lt;BoxCollider2D&gt;(); d1.size = new Vector2(gateScale.x, scale.y / 2f); d2.size = new Vector2(gateScale.x, scale.y / 2f); door1.transform.localScale = new Vector3(1f, 1f, 1f); door2.transform.localScale = new Vector3(1f, 1f, 1f); door1.transform.localPosition = new Vector3(0f, (gateScale.y / 2f) - (scale.y / 4f), 0f); door2.transform.localPosition = new Vector3(0f, -(gateScale.y / 2f) + (scale.y / 4f), 0f); } public void OnTriggerEnter2D(Collider2D collision) { if (collision.CompareTag("Player")) { if (isReverse == false) { target = Vector2.zero; } else { target = gateScale; } StopCoroutine(fixUpdate); fixUpdate = FixUpdate(); StartCoroutine(fixUpdate); } } private void OnTriggerExit2D(Collider2D collision) { if (collision.CompareTag("Player") &amp;&amp; isEnd == true) { if (isReverse == false) { target = gateScale; } else { target = Vector2.zero; } StopCoroutine(fixUpdate); fixUpdate = FixUpdate(); StartCoroutine(fixUpdate); } } }</code> </pre><br></div></div><br>  Funcionalidad similar pose√≠a los objetos f√≠sicos.  No, estos no son objetos de la destrucci√≥n, son solo objetos f√≠sicos (aunque tambi√©n podr√≠an destruirse, pero no usaron esta mec√°nica).  No hay muchos de ellos en rompecabezas, pero se combinan bien con otras mec√°nicas.  Por ejemplo, con una puerta: cuando un objeto toca un gatillo de la puerta, la puerta se abre. <br><br>  Desde que aprend√≠ a "poseer poder", hasta tres mec√°nicos lo controlaron.  Estos fueron disparadores con el mismo c√≥digo para interactuar con los objetos, pero cada uno realiz√≥ tareas a su manera.  El primero era un campo de fuerza (ralentizaba el objeto, multiplicando la fuerza por un cierto factor).  El segundo agreg√≥ fuerza en la direcci√≥n del punto y el punto ten√≠a "gravedad".  El tercero se hizo por accidente: cuando el rompecabezas relacionado con la gravedad cero no funcion√≥, este script lo salv√≥.  En √©l, el objeto cambia la direcci√≥n de la fuerza, sin cambiarla, su intensidad. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5t/cs/f7/5tcsf7fu4hrzrspc8fdlph14zpk.png" width="500"></div><br><div class="spoiler">  <b class="spoiler_title">Como funciona</b> <div class="spoiler_text">  Primero, seg√∫n el teorema de Pit√°goras, se calcula la hipotenusa, que es el coeficiente del vector y es √∫til para restaurar la fuerza.  El √°ngulo se calcula utilizando la funci√≥n Atan2.  Despu√©s de eso, se agrega offsetAngle a la esquina y se construye un nuevo vector basado en el seno y el coseno, que se multiplica por un coeficiente y se obtiene una direcci√≥n cambiada sin una fuerza cambiada. <br><pre> <code class="plaintext hljs">public Vector2 RotateVector(Vector2 a, float offsetAngle) { float power = Mathf.Sqrt(ax * ax + ay * ay); float angle = Mathf.Atan2(ay, ax) * Mathf.Rad2Deg - 90f + offsetAngle; return Quaternion.Euler(0, 0, angle) * Vector2.up * power; }</code> </pre><br></div></div><br>  En esto, toda mi fantas√≠a de extras se sec√≥.  S√≠, hab√≠a ideas como una bomba en una soga, un telef√©rico, etc.  Pero entonces surgi√≥ la idea normal: tienes que renderizar el juego nuevamente.  A√∫n as√≠, ser√© sincero conmigo mismo: la gran mayor√≠a de las personas juegan juegos m√≥viles, y casi ninguno de ellos jugar√° mi juego si el juego es insoportablemente complicado.  Decid√≠ comenzar con acertijos que mataran al jugador con un solo golpe, pero no quer√≠a cambiar el da√±o debido a la destructibilidad.  Y luego surgi√≥ la idea de una mec√°nica adicional normal: refuerzos o modificadores. <br><br>  Seg√∫n el concepto, dieron mejoras temporales que est√°n asociadas con algunos valores b√°sicos.  Hubo 5 refuerzos: tratamiento, inmortalidad, dilataci√≥n del tiempo (mo lento), cambio en la gravedad y cambio en la masa del jugador. <br><br>  Pero parec√≠a una especie de est√°ndar: bolas de disparo dispersas por el nivel para ayudar a pasar.  Y entonces agregu√© estos refuerzos al l√°ser.  Cambi√≥ un poco la mec√°nica y funcion√≥. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rf/fe/b_/rffeb_rey0t4dhbhwupljorcyva.png" width="500"></div><br>  Ahora el l√°ser tiene 5 modos de interacci√≥n con el jugador: da√±o y curaci√≥n, inmortalidad, dilataci√≥n del tiempo (mo lento), cambio en la gravedad y cambio en la masa del jugador.  Es lo mismo, pero con una diferencia: el l√°ser act√∫a constantemente sobre el jugador y si abandonas el l√°ser, el efecto desaparecer√° inmediatamente (o despu√©s de un tiempo).  S√≠, los potenciadores tienen casi lo mismo, pero los l√°seres no son est√°ndar (y, por lo tanto, todo el juego). <br><br>  El tema f√≠sico del juego hizo posible crear un trampol√≠n, que generalmente se usa para dispersar al jugador y luego destruir la pared (aunque este es un simple BoxCollider2D con PhysicsMaterial, que ten√≠a el par√°metro de rebote torcido para diferentes fuerzas de rebote). <br><br>  Y la arena del juego te permiti√≥ crear tus propios guiones para la animaci√≥n.  B√°sicamente, movieron el objeto de un punto a otro o lo giraron.  Anteriormente, ten√≠an muchas m√°s funciones: la capacidad de animar (por puntos) rotar un objeto, cambiar la escala (por puntos), etiquetas m√°s precisas para el comienzo y el final de una animaci√≥n de un objeto, etc.  Pero debido al hecho de que estos eran atavismos, que en total consumieron fren√©ticamente la productividad, tuve que eliminarlos en nombre de la optimizaci√≥n.  El gui√≥n de animaci√≥n se usa donde sea necesario para mostrar una animaci√≥n simple, porque como dije: "¬°El original carec√≠a de animaciones!"  Solo hay dos guiones: <br><br>  Animaci√≥n b√°sica y Puntos de animaci√≥n. <br><br><div class="spoiler">  <b class="spoiler_title">Script de animaci√≥n b√°sica</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; using System.Collections; public class BasicAnimation : GlobalFunctions { public AnimationType animationType = AnimationType.Infinity; public float speedSpeed = 0.05f; public float rotation = 0f; private bool make = true; private bool animMake = false; private bool isMoved = false; private Transform tr; private float rotationActive = 0f; public void SetPos(bool pos, float m) { rotationActive = rotation * (pos ? 1 : m); } private void Start() { tr = transform; animMake = false; switch (animationType) { case AnimationType.Infinity: make = true; isMoved = true; rotationActive = rotation; break; case AnimationType.Start: make = false; isMoved = false; break; case AnimationType.End: make = true; isMoved = true; rotationActive = rotation; break; case AnimationType.All: make = false; isMoved = false; break; } } public void TimerAnim(float timer, bool anim) { StartAnim(anim); StartCoroutine(TimerTimerAnim(timer, anim)); } private IEnumerator TimerTimerAnim(float timer, bool anim) { yield return new WaitForSeconds(timer); EndAnim(anim); } public void StartAnim(bool anim) { make = true; if (anim == true) { animMake = true; isMoved = true; } else { rotationActive = rotation; } } public void EndAnim(bool anim) { if (anim == true) { animMake = true; isMoved = false; } else { make = false; rotationActive = 0f; } } private void FixedUpdate() { if (animMake == true) { if (isMoved == true) { if (rotationActive != rotation) { rotationActive = Mathf.MoveTowards(rotationActive, rotation, speedSpeed); } else { animMake = false; isMoved = false; } } else { if (rotationActive != 0f) { rotationActive = Mathf.MoveTowards(rotationActive, 0f, speedSpeed); } else { animMake = false; isMoved = true; } } } } private void Update() { if (make == true) { float rot = tr.localEulerAngles.z; float s = Time.fixedDeltaTime / 0.03f * (Time.deltaTime / 0.03f); tr.localEulerAngles = new Vector3(0f, 0f, rot + rotationActive * s); } } }</code> </pre></div></div><br><div class="spoiler">  <b class="spoiler_title">Puntos Script de animaci√≥n</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; using System.Collections; public class PointsAnimation : GlobalFunctions { public AnimationType animationType = AnimationType.Infinity; public float speedSpeedPosition = 0.001f; public float speedPosition = 0.1f; public Vector3[] pointsPosition = new Vector3[0]; public int counterPosition = 0; private float speedPositionActive = 0f; private int pointsPositionLength = 0; private bool make = true; private bool animMake = false; private bool isMoved = false; private Transform tr; public void SetPos(bool pos, float m) { speedPositionActive = speedPosition * (pos ? 1 : m); } private void Awake() { pointsPositionLength = pointsPosition.Length; tr = transform; switch (animationType) { case AnimationType.Infinity: make = true; isMoved = true; speedPositionActive = speedPosition; break; case AnimationType.Start: make = false; isMoved = false; break; case AnimationType.End: make = true; isMoved = true; speedPositionActive = speedPosition; break; case AnimationType.All: make = false; isMoved = false; break; } } public void TimerAnim(float timer, bool anim) { StartAnim(anim); StartCoroutine(TimerTimerAnim(timer, anim)); } private IEnumerator TimerTimerAnim(float timer, bool anim) { yield return new WaitForSeconds(timer); EndAnim(anim); } public void StartAnim(bool anim) { make = true; if (anim == true) { animMake = true; isMoved = true; } else { speedPositionActive = speedPosition; } } public void EndAnim(bool anim) { if (anim == true) { animMake = true; isMoved = false; } else { make = false; speedPositionActive = 0f; } } private void FixedUpdate() { if (animMake == true) { if (isMoved == true) { if (speedPositionActive != speedPosition) { Vector2 ends = new Vector2(-speedPosition, speedPosition); speedPositionActive = Mathf.MoveTowards(speedPositionActive, speedPosition, speedSpeedPosition); } else { animMake = false; isMoved = false; } } else { if (speedPositionActive != 0f) { Vector2 ends = new Vector2(-speedPosition, speedPosition); speedPositionActive = Mathf.MoveTowards(speedPositionActive, 0f, speedSpeedPosition); } else { animMake = false; isMoved = true; } } } } private void Update() { if (make) { if (tr.localPosition == pointsPosition[counterPosition]) { counterPosition++; if (counterPosition == pointsPositionLength) { counterPosition = 0; } } else { float s = Time.fixedDeltaTime / 0.03f * (Time.deltaTime / 0.03f); tr.localPosition = Vector3.MoveTowards(tr.localPosition, pointsPosition[counterPosition], speedPositionActive * s); } } } }</code> </pre><br></div></div><br>  <i>UI</i> <br><br>  En comparaci√≥n con el original, esta es una verdadera obra maestra. <br><br>  A modo de comparaci√≥n, aqu√≠ est√° el original: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iu/i9/lz/iui9lzqmqtypz2cvs3cqacrz644.png" width="500"></div><br>  Aqu√≠ est√° la secuela: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tt/d9/7t/ttd97thjtgvskcddhk1qwo5zwdc.png" width="500"></div><br>  Aqu√≠ est√° el original: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9m/9n/is/9m9nisamgqedkkpx1ou8498vdqa.png" width="500"></div><br>  Aqu√≠ est√° la secuela: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yx/l7/3k/yxl73kah93pbxu8hjsckduyylh0.png" width="500"></div><br>  Aqu√≠ est√° el original ... Creo que est√° claro.  Minimalismo en la secuela que record√©, y en lugar del bot√≥n de pausa de color inapropiado y el temporizador que interfiere francamente, ahora hay un bot√≥n de pausa lokanico, de alguna manera notable en la esquina inferior izquierda.  La secuela a√∫n gana el men√∫.  A diferencia del original, hay animaciones en todas partes, y el fondo es de 11 sombreadores que escrib√≠ accidentalmente en el Gr√°fico de sombreadores.  La funcionalidad tambi√©n est√° mejorando, hay una configuraci√≥n de gr√°ficos, configuraciones de sonido y m√∫sica separadas, una consola que le permite cambiar el guardado; no hay nada de esto en el men√∫ original. <br><br>  Result√≥ tan bueno porque decid√≠ mirar otros juegos.  Aqu√≠ y all√°, en general, tom√© (en lugar de robar) lo mejor de todas partes.  Y esto es lo que tom√© especial: <br><br><ol><li>  Jugar men√∫ <br>  Tomado de Alto's Adventure, solo las experiencias se convirtieron en rid√≠culo, bromas, comentarios ir√≥nicos, etc. </li><li>  Pausa <br>  Tambi√©n de Alto, pero no tan funcional, pero encaja m√°s convenientemente y juega m√°s convenientemente. </li><li>  Configuraciones <br>  Parcialmente tomado del Vector 2, es decir, la forma del men√∫ y los controles deslizantes de volumen. <br>  Tom√≥ un poco en general, pero por lo dem√°s hizo todo por su cuenta. </li></ol><br>  <i>Consola</i> <br><br>  Primero, haga una reserva sobre c√≥mo funciona la conservaci√≥n.  Hay dos variables responsables de la conservaci√≥n global y local: estos son los n√∫meros de progreso y ahorro de ascensor, respectivamente.  La variable de progreso es responsable de guardar entre escenas, y la variable de guardar ascensor es responsable de guardar dentro de la escena.  Cuando presionas el bot√≥n "Comenzar" o "Reiniciar", el juego transfiere el progreso a la escena y genera el jugador al guardar con el n√∫mero de ahorro de ascensor. <br><br>  La consola le permite cambiar o crear cualquier variable.  Una herramienta tan simple y poderosa me fue muy √∫til para probar el juego e identificar errores en √©l.  La consola en s√≠ es un comando escrito a mano que imita otras consolas. <br><br><div class="spoiler">  <b class="spoiler_title">Script DebugConsole</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; using UnityEngine.UI; using UnityEngine.SceneManagement; using System.Collections; public class DebugConsole : MonoBehaviour { public Animator animatorBlackScreen; public Language l; public InputField inputField; public Text textDebug; private bool access = false; public void AnalyzeText() { string txt = inputField.text.ToLower(); string[] output = new string[0]; string txtLoc = ""; for (int i = 0; i &lt; txt.Length; i++) { if (txt[i] == ' ') { if (txtLoc != "") { output = Add(output, txtLoc); txtLoc = ""; } } else { txtLoc = txtLoc + txt[i]; } } if (txtLoc != "") { output = Add(output, txtLoc); txtLoc = ""; } Analyze(output); } public void Analyze(string[] commands) { switch (commands[0]) { case "playerprefs": if (access == true) { if (commands.Length &lt; 2) { Log(l.ConsoleLanguage(1));//1 } else { switch (commands[1]) { case "f": case "float": float f = 0f; if (float.TryParse(commands[3], out f)) { PlayerPrefs.SetFloat(commands[2], float.Parse(commands[3])); Log(l.ConsoleLanguage(2, commands[2]));//2 } else { Log(l.ConsoleLanguage(3));//3 } break; case "i": case "int": int i = 0; if (int.TryParse(commands[3], out i)) { PlayerPrefs.SetInt(commands[2], int.Parse(commands[3])); Log(l.ConsoleLanguage(4, commands[2]));//4 } else { Log(l.ConsoleLanguage(5));//5 } break; case "s": case "string": PlayerPrefs.SetString(commands[2], commands[3]); Log(l.ConsoleLanguage(6, commands[2]));//6 break; case "clear": PlayerPrefs.DeleteAll(); SceneManager.LoadScene(0); break; default: Log(l.ConsoleLanguage(7, commands[1]));//7 break; } } } else { Log(l.ConsoleLanguage(8));//8 } break; case "next": if (access == true) { if (commands.Length &gt; 1) { switch (commands[1]) { case "level": int p = PlayerPrefs.GetInt("progress"); PlayerPrefs.SetInt("progress", p + 1); Log("ok level"); break; case "save": int s = PlayerPrefs.GetInt("elevatorsave"); PlayerPrefs.SetInt("elevatorsave", s + 1); Log("ok save"); break; case "start": PlayerPrefs.SetInt("elevatorsave", 0); Log("ok start"); break; case "end": PlayerPrefs.SetInt("elevatorsave", 1); Log("ok end"); break; } } } else { Log(l.ConsoleLanguage(8));//8 } break; case "echo": if (commands.Length == 1) { Log(l.ConsoleLanguage(9));//9 } else { switch (commands[1]) { case "vertogpro"://echo vertogpro access = true; Log(l.ConsoleLanguage(10));//10 break; default: Log(l.ConsoleLanguage(11));//11 break; } } break; case "restart": if (access == true) { SceneManager.LoadScene(0); } else { Log(l.ConsoleLanguage(12));//12 } break; case "authors": Log(l.ConsoleLanguage(13));//13 break; case "discharge": animatorBlackScreen.SetBool("isActive", true); PlayerPrefs.SetString("start", "key"); PlayerPrefs.SetString("language", "nothing"); PlayerPrefs.SetString("graphicsquality", "medium"); PlayerPrefs.SetFloat("sound", 0.5f); PlayerPrefs.SetFloat("music", 0.5f); PlayerPrefs.SetFloat("rotatenextlevel", 0f); PlayerPrefs.SetInt("elevatorsave", 0); PlayerPrefs.SetInt("progress", 1); PlayerPrefs.SetInt("deaths", 0); PlayerPrefs.SetInt("discharge", PlayerPrefs.GetInt("discharge") + 1); PlayerPrefs.SetInt("lastmenueffect", -1); PlayerPrefs.SetString("isshotmode", "false"); PlayerPrefs.SetString("boss1", "life"); PlayerPrefs.SetString("boss2", "life"); PlayerPrefs.SetString("ai", "off"); PlayerPrefs.SetString("boss3", "life"); PlayerPrefs.SetString("end", "none"); StartCoroutine(StartGame()); break; case "clear": Clear(); break; case "info": if (access == false) { Log(l.ConsoleLanguage(14));//14 } else { Log(l.ConsoleLanguage(15));//15 } break; default: Log(l.ConsoleLanguage(16, commands[0]));//16 break; } } public void Log(object message) { textDebug.text = message.ToString(); } public void Clear() { inputField.text = ""; textDebug.text = ""; } public string[] Add(string[] old, string addComponent) { string[] n = new string[old.Length + 1]; if (old.Length != 0) { for (int i = 0; i &lt; old.Length; i++) { n[i] = old[i]; } } n[old.Length] = addComponent; return n; } public IEnumerator StartGame() { yield return new WaitForSeconds(1f); SceneManager.LoadSceneAsync(0); } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Y especialmente para ti, te dejar√© una lista de equipos l√≠quidos: </font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> descarga: restablece el progreso del juego (y toda otra informaci√≥n tambi√©n) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> echo vertogpro: un equipo para proporcionar acceso a equipos de desarrollo </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">playerprefs [tipo dado (string, int, float)] [nombre de la variable] [datos] - cambia o crea cualquier variable. </font><font style="vertical-align: inherit;">Ejemplo: playerprefs int progress 14</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> siguiente: un subtipo para una navegaci√≥n de nivel simplificada, con sus propios comandos: </font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inicio: guarda al comienzo del nivel (siguiente inicio) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> final: guarda al final del nivel (siguiente final) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> guardar: se teletransporta al siguiente guardado (siguiente guardado) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nivel: teletransporta al siguiente nivel (siguiente nivel) </font></font></li></ul></li></ol><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gr√°ficos</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Durante el a√±o no aprend√≠ a dibujar, as√≠ que hice casi lo mismo que en el original: descargu√© unos 30 paquetes de texturas para Maycraft, seleccion√© lo mejor de cada uno y as√≠ resultaron los gr√°ficos principales. </font><font style="vertical-align: inherit;">Los gr√°ficos no difer√≠an mucho del original y me enfureci√≥, me enfureci√≥ tanto que todav√≠a encontr√© varios efectos animados (explosiones, fuego, etc.) y bombe√© varios paquetes de texturas de la tienda de activos. </font><font style="vertical-align: inherit;">Incluso para un juego m√≥vil, los gr√°ficos son bastante malos, aunque todav√≠a se est√° observando progreso. </font><font style="vertical-align: inherit;">Aqu√≠ est√° el original:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/81/ap/oz/81apoz9lyvlrkz-zr73c2y54qjo.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Y aqu√≠ est√° la secuela: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jz/gl/h3/jzglh35mj-d5ymacylqigsnmphw.png" width="500"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahorro</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si el principio de ahorro es simple, entonces su implementaci√≥n no lo es tanto. </font><font style="vertical-align: inherit;">El sistema de guardado consta de 3 scripts:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ElevatorBase es la base en la que se producen los equipos de inicio. </font><font style="vertical-align: inherit;">En √©l, mediante la variable ascensor salvador, el guardado activo se selecciona de la matriz de guardado.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Script ElevatorBase</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; using System.Collections; public class ElevatorBase : MonoBehaviour { public GameObject[] savers = new GameObject[0]; public float inputStartBlock = 1f; private GameUI gameUI; public void Awake() { int l = savers.Length; if (l != 0) { for (int i = 0; i &lt; l; i++) { if (savers[i] != null) { if (savers[i].GetComponent&lt;Saving&gt;()) { Saving saving = savers[i].GetComponent&lt;Saving&gt;(); saving.isFirst = false; saving.idElevatorBase = i; } else if (savers[i].GetComponent&lt;Elevator&gt;()) { savers[i].GetComponent&lt;Elevator&gt;().isFirst = false; } } } int es = PlayerPrefs.GetInt("elevatorsave"); if (savers[es] != null) { if (savers[es].GetComponent&lt;Saving&gt;()) { savers[es].GetComponent&lt;Saving&gt;().isFirst = true; } else if (savers[es].GetComponent&lt;Elevator&gt;()) { savers[es].GetComponent&lt;Elevator&gt;().isFirst = true; } } else { gameUI = GameObject.FindWithTag("Canvas").GetComponent&lt;GameUI&gt;(); StartCoroutine(BlockEnabled()); GameObject.Find("TipsInput").GetComponent&lt;TipsGamePlayInput&gt;().active = true; } } else { gameUI = GameObject.FindWithTag("Canvas").GetComponent&lt;GameUI&gt;(); gameUI.ChangeisBlocked(); } } public IEnumerator BlockEnabled() { yield return new WaitForSeconds(inputStartBlock); GameObject block = gameUI.block.gameObject; block.SetActive(false); } }</code> </pre></div></div><br></li><li> Saving ‚Äî ,            ,   ,         elevatorsave  id. <br><br><div class="spoiler"> <b class="spoiler_title"> Saving</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using System.Collections; using UnityEngine; public class Saving : MonoBehaviour { public Saving[] savings; public Vector2 startPos; public float startRot; public bool isActive = true; public bool isFirst = true; public int idElevatorBase = 0; public TipsGamePlayInput tgpi; private GameObject player; private GameObject cam; private Transform trp; private GameUI gameui; private Management m; private Saving self; private void Start() { self = GetComponent&lt;Saving&gt;(); cam = GameObject.FindWithTag("MainCamera"); m = cam.GetComponent&lt;Management&gt;(); gameui = GameObject.FindWithTag("Canvas").GetComponent&lt;GameUI&gt;(); player = m.player; trp = player.GetComponent&lt;Transform&gt;(); if (isFirst) { trp.position = startPos; m.Set(startRot); OfferSaves(); } isActive = !isFirst; tgpi.SetActive(!isFirst); StartCoroutine(BlockFalse()); } public IEnumerator BlockFalse() { yield return new WaitForSeconds(1f); gameui.block.gameObject.SetActive(false); } private void OnTriggerEnter2D(Collider2D collision) { if (collision.CompareTag("Player") &amp;&amp; isActive == true) { isActive = false; PlayerPrefs.SetInt("elevatorsave", idElevatorBase); OfferSaves(); } } public void OfferSaves() { if (savings.Length != 0) { for (int i = 0; i &lt; savings.Length; i++) { savings[i].isActive = false; savings[i].tgpi.SetActive(false); } } } }</code> </pre></div></div><br></li><li> Elevator ‚Äî   ,      .   :           (      ). <br><br><div class="spoiler"> <b class="spoiler_title"> Elevator</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using System.Collections; using UnityEngine; public class Elevator : GlobalFunctions { public Vector2 endPos; public Vector2 startPos; public int nextScene = 1; public int nextElevatorSave = 0; public float speed = 0.1f; public bool isFirst = true; public bool isActive = true; public bool isReverse = false; public bool isMake = false; private GameObject player; private Rigidbody2D rb; private Transform tr; private Transform trp; private GameUI gameui; private AudioBase audioBase; private Transform cam; private void Start() { audioBase = GameObject.FindWithTag("MainCamera").GetComponent&lt;AudioBase&gt;(); gameui = GameObject.FindWithTag("Canvas").GetComponent&lt;GameUI&gt;(); player = gameui.m.player; rb = player.GetComponent&lt;Rigidbody2D&gt;(); trp = player.GetComponent&lt;Transform&gt;(); tr = GetComponent&lt;Transform&gt;(); cam = gameui.m.transform; startPos = tr.position; if (isFirst) { trp.position = startPos; rb.velocity = new Vector2(); rb.gravityScale = 0f; gameui.m.Set(); } else { tr.position = endPos; isMake = true; } isActive = isFirst; isReverse = false; } private void OnTriggerEnter2D(Collider2D collision) { if (collision.CompareTag("Player") &amp;&amp; isMake == true) { isReverse = true; isActive = true; rb.velocity = new Vector2(); rb.gravityScale = 0f; gameui.block.gameObject.SetActive(true); PlayerPrefs.SetInt("elevatorsave", nextElevatorSave); gameui.animatorBlackScreenGame.SetBool("isActive", true); audioBase.LowerSound(0.05f, 16, 0, TypePlaying.Music); StartCoroutine(NumSaveRotate()); StartCoroutine(gameui.StartGame(1.5f, nextScene)); } } private IEnumerator NumSaveRotate() { yield return new WaitForSeconds(1.5f); PlayerPrefs.SetFloat("rotatenextlevel", Stable(cam.localEulerAngles.z, -180f, 180f)); } private void FixedUpdate() { if (isActive == true) { float s = Time.fixedDeltaTime / 0.03f; if (isReverse == false) { rb.velocity = new Vector2(); tr.position = Vector2.MoveTowards(tr.position, endPos, speed * s); trp.position = tr.position; if ((Vector2)tr.position == endPos) { isMake = true; isActive = false; rb.gravityScale = 1f; gameui.block.gameObject.SetActive(false); } } else if (isReverse == true) { tr.position = Vector2.MoveTowards(tr.position, startPos, speed * s); trp.position = tr.position; if (tr.position == (Vector3)startPos) { isActive = false; rb.gravityScale = 1f; } } } } }</code> </pre></div></div></li></ol><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dise√±o del juego</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fue un verdadero desastre. Fue el dise√±o del juego lo que alarg√≥ el ciclo de desarrollo de 4 a 6 meses. En total, el juego tiene 34 niveles: 30 regulares, 3 jefes y 1 final (nivel). Cada ordinario hice 2-3 d√≠as, cada jefe 2 semanas y el nivel final hizo una semana. Para equilibrarlo todo, los constru√≠ as√≠: 10 niveles =&gt; 1 jefe =&gt; 10 niveles =&gt; 2 jefe =&gt; 10 niveles =&gt; 3 jefe =&gt; nivel final. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los niveles locales son mi orgullo. Son inusuales, variados e incluso un poco interesantes. Los niveles est√°n dise√±ados en una forma espec√≠fica para crear un sentido del mundo abierto. Para esto, incluso dibuj√© un mapa:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xv/1y/fx/xv1yfxu-5xf9nzogz1ffuzc8wc0.png" width="350"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El mapa no es el mejor dibujo e informaci√≥n, pero dio informaci√≥n importante para las formas necesarias de niveles. </font><font style="vertical-align: inherit;">Inicialmente, los planes eran hacer todos los niveles en el mapa, pero no hice los que estaban oscuros. </font><font style="vertical-align: inherit;">Por cierto, este es un mapa con un tama√±o de 1000x1000 p√≠xeles, y fue de este mapa que sali√≥ la escala: 1 bloque = 1 p√≠xel = tama√±o del jugador. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entre niveles, el jugador pasa por el ascensor. </font><font style="vertical-align: inherit;">Puede llegar a cualquier nivel y, por lo tanto, es posible viajar entre niveles, creando un jugador con un sentido a√∫n mayor de la apertura del mundo. </font><font style="vertical-align: inherit;">Y tambi√©n, en algunos lugares, los disparadores est√°n ocultos para activar los ascensores secretos, que pueden llevar de 10 a 15 niveles. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para los niveles ordinarios, hab√≠a un algoritmo de construcci√≥n:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Un fondo que tendr√≠a una forma y escala como en un mapa </font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iv/hk/bo/ivhkbo6wfuraf7ccfqsafxuwz44.png" width="500"></div></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paredes exteriores (triple espesor debido a la f√≠sica especial) </font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zb/6j/1v/zb6j1vbcr_ok_-dnessoj2qgdxk.png" width="500"></div></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Las paredes son internas. </font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ze/na/l8/zenal8v8mt8fbfxqz3ne8xdyt-e.png" width="500"></div></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Niveles ellos mismos </font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_k/nf/8k/_knf8kp4cndzcc7u3ldbux2anqg.png" width="500"></div></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Elevadores, salvadores y disparadores de audio </font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nq/bp/2v/nqbp2vgeiaca4ydxollwdcxsjk8.png" width="500"></div></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es m√°s complicado con los jefes, porque cada jefe presenta al mismo tiempo patrones de comportamiento diferentes y similares. </font><font style="vertical-align: inherit;">Todos los jefes tienen 100 de salud y cada nivel tiene algo que destruir. </font><font style="vertical-align: inherit;">Es mejor hablar de cada uno por separado: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 jefe tiene un comportamiento muy simple: se mueve aleatoriamente por la habitaci√≥n, espera 5 segundos y repite. </font><font style="vertical-align: inherit;">Para ser honesto, este es un mal ejemplo de un jefe: simple, rezagado y no memorable. </font><font style="vertical-align: inherit;">Y solo puede ser asesinado golpe√°ndolo. </font><font style="vertical-align: inherit;">Pero hay una defensa en forma de 4 sierras: 3 de ellas se mueven de forma inteligente al azar por la habitaci√≥n y una protege al jefe cuando se mueve. </font><font style="vertical-align: inherit;">Despu√©s de la muerte, explota.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Script BossManagement1</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; using System.Collections; public class BossManagement1 : GlobalFunctions { public float hp = 100f; public float speed = 0.2f; public bool startActivated = false; public bool activated = false; public bool activatedSaw = false; public bool activatedAngle = false; public bool activatedCoroutine = true; private bool active; private float maxhp; public Vector2 target; public Vector2 targetSaw1; public Vector2 targetSaw2; public Vector2 minBorder; public Vector2 maxBorder; public DeadBoss1 deadBoss; public GameObject backGround; public GameObject healthBar; public Transform tr; public Transform sawMain; public Transform saw1; public Transform saw2; public Arrow arrow; public AudioSet setStart; public AudioSet setEnd; public Transform player; public Power playerPower; private Transform bg, hb; private float targethp = 0f; private Vector2 startMove = new Vector2(-20f, 0f); public void Awake() { maxhp = hp; bg = backGround.transform; hb = healthBar.transform; } public void Start() { if (PlayerPrefs.GetString("boss1") == "death") { Dead(false); } } public void FixedUpdate() { if (startActivated &amp;&amp; !activatedCoroutine) { if ((Vector2)tr.position != startMove) { tr.position = Vector2.MoveTowards(tr.position, startMove, speed); saw1.position = Vector2.MoveTowards(saw1.position, startMove, speed); saw2.position = Vector2.MoveTowards(saw2.position, startMove, speed); } else { activatedCoroutine = true; startActivated = false; StartCoroutine(ActivatedOn()); } } if (activated) { if ((Vector2)tr.position != target) { tr.position = Vector2.MoveTowards(tr.position, target, speed); } else { activated = false; sawMain.localScale = new Vector2(0f, 0f); StartCoroutine(TargetRotate()); } } if (activatedSaw) { if ((Vector2)saw1.position != targetSaw1) { saw1.position = Vector2.MoveTowards(saw1.position, targetSaw1, speed); } else { float x = Random.Range(minBorder.x, maxBorder.x); float y = Random.Range(minBorder.y, maxBorder.y); targetSaw1 = new Vector2(x, y); } if ((Vector2)saw2.position != targetSaw2) { saw2.position = Vector2.MoveTowards(saw2.position, targetSaw2, speed); } else { float x = Random.Range(minBorder.x, maxBorder.x); float y = Random.Range(minBorder.y, maxBorder.y); targetSaw2 = new Vector2(x, y); } } if (activatedAngle) { Vector2 dir = player.position - tr.position; float angle = Mathf.Atan2(dir.y, dir.x) * Mathf.Rad2Deg; tr.localEulerAngles = new Vector3(0f, 0f, Mathf.LerpAngle(tr.localEulerAngles.z, angle, 0.1f)); } } public IEnumerator TargetRotate() { yield return new WaitForSeconds(3f + 3f * hp / maxhp); sawMain.localScale = new Vector2(6f, 6f); float x = Random.Range(minBorder.x, maxBorder.x); float y = Random.Range(minBorder.y, maxBorder.y); target = new Vector2(x, y); activated = true; } public IEnumerator ActivatedOn() { yield return new WaitForSeconds(3f); sawMain.localScale = new Vector2(6f, 6f); target = new Vector2(Random.Range(minBorder.x, maxBorder.x), Random.Range(minBorder.y, maxBorder.y)); targetSaw1 = new Vector2(Random.Range(minBorder.x, maxBorder.x), Random.Range(minBorder.y, maxBorder.y)); targetSaw2 = new Vector2(Random.Range(minBorder.x, maxBorder.x), Random.Range(minBorder.y, maxBorder.y)); activatedSaw = true; activated = true; arrow.isActive = true; } public IEnumerator ActivatedCoroutineOff() { yield return new WaitForSeconds(1f); activatedCoroutine = false; activatedAngle = true; } public void Update() { if (active == true) { if (hp != targethp) { float s = Time.fixedDeltaTime / 0.03f * (Time.deltaTime / 0.03f); hp = MoveToward(hp, targethp, speed * s, new Vector2(-0f, maxhp)); } else { active = false; if (targethp == 0f) { Dead(true); } } } UpdateHP(); } public void UpdateHP() { float h = hp / maxhp; bg.localScale = new Vector3(5f, 0.9f, 1f); hb.localScale = new Vector3(4.8f * h, 0.7f, 1f); hb.localPosition = new Vector3(-2.4f + 4.8f * h / 2f, 0f, 0f); } private bool oneTimeMusic = true; public void Damage(float damage) { if (oneTimeMusic == true) { oneTimeMusic = false; deadBoss.StartBoss(); deadBoss.Boom(); setStart.SetMusic(); startActivated = true; StartCoroutine(ActivatedCoroutineOff()); } if (hp != 0f) { targethp = Stable2(hp - damage, 0f, maxhp); speed = speed + damage * 0.02f; active = true; } } public void Dead(bool boom) { active = false; activated = false; activatedSaw = false; startActivated = false; activatedAngle = false; activatedCoroutine = false; backGround.SetActive(false); healthBar.SetActive(false); sawMain.gameObject.SetActive(false); saw1.gameObject.SetActive(false); saw2.gameObject.SetActive(false); setEnd.SetMusic(); arrow.obj.SetActive(false); PlayerPrefs.SetString("boss1", "death"); deadBoss.Dead(tr.position, boom); } public void OnCollisionEnter2D(Collision2D collision) { if (collision.transform.CompareTag("Player")) { Damage(playerPower.power); } } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 boss ya es mejor en calidad, pero a√∫n lejos de ser ideal. </font><font style="vertical-align: inherit;">Su patr√≥n es m√°s complicado: determina la ubicaci√≥n del jugador y despu√©s del √°rea en la que se encuentra. </font><font style="vertical-align: inherit;">Despu√©s de que el jefe selecciona un punto aleatorio en el √°rea y se mueve hacia √©l. </font><font style="vertical-align: inherit;">Su defensa ya es m√°s significativa: la salud del jefe tiene etapas y diferentes armas para cada etapa:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 sierras en la distancia </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 sierras a distancia, cuando est√°n protegidas por una sierra </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 l√°ser limitado, protegido por una sierra durante el movimiento </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 l√°seres, cuando est√°n protegidos por una sierra </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 l√°seres, cuando se mueven protegidos por una sierra y 2 sierras a distancia </font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Adem√°s, desde la parte gr√°fica, el segundo jefe es mejor que el primero: tiempo de inactividad en forma de recuperaci√≥n de estaminas y actividad de terceros en forma de desactivaci√≥n de los l√°seres de jefe, si los activadores se activan en el centro de la habitaci√≥n. </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Script BossManagement2</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using System.Collections; using UnityEngine; public class BossManagement2 : GlobalFunctions { public float hp = 100f; public float speed = 0.5f; public float speedRotate = 0.5f; public int stage = 1; public bool isAlive = true; public bool isActivated = false; public bool isMove = false; public bool isWorkingLaser = true; private float timeStamina = 0f; private float timeRetarget = 0f; public Vector2 region = Vector2.zero; public Vector3 target = Vector3.zero; public GameObject player; public Transform saw; public Transform laser1; public Transform laser2; public Laser laserL1; public Laser laserL2; public Transform laserOffset1; public Transform laserOffset2; public Explosion explosion; public GameObject explosionAsset; public CircleCollider2D trigStart; public BoxCollider2D laserDetected1; public BoxCollider2D laserDetected2; public GameObject saw1; public GameObject saw2; public Transform health; public Transform stamina; public SpriteRenderer srStamina; private Transform pl; private Transform tr; public Transform state; public Laser state1; public Laser state2; public Laser state3; public Laser state4; private Coroutine coroutineStamina; public SpriteRenderer bossBase; public SpriteRenderer laserD1; public SpriteRenderer laserD2; public Gate gateStart; public Gate gateEnd; public GameObject blockWin; public GameObject physicsIn; public GameObject stateLasers; public GameObject expStart; public AudioSet setStart; public AudioClip setEnd; public AudioBase audioBase; public void Awake() { bool isDeath = PlayerPrefs.GetString("boss2") == "death"; blockWin.SetActive(false); if (isDeath) { isAlive = false; gateStart.isReverse = true; gateEnd.isReverse = true; physicsIn.SetActive(false); stateLasers.SetActive(false); expStart.SetActive(false); gameObject.SetActive(false); } else { tr = transform; pl = player.transform; timeStamina = 5.4f / speedRotate / 100f; timeRetarget = 5.4f / speedRotate; saw.localScale = Vector3.zero; stamina.localScale = Vector3.zero; srStamina.color = new Color(0f, 0.5f, 1f, 0f); saw1.SetActive(false); saw2.SetActive(false); LaserDisable(); LaserBlockEnable(); } } public void Update() { if (isAlive) { if (isActivated == true) { switch (stage) { case 1: if (isMove == true) { if (tr.position == target) { isMove = false; RotatePlayer(); saw1.SetActive(true); saw2.SetActive(true); stamina.localScale = Vector3.zero; srStamina.color = new Color(0f, 0.5f, 1f, 1f); if (coroutineStamina != null) { StopCoroutine(coroutineStamina); } coroutineStamina = StartCoroutine(StaminaAnim(timeStamina, 100)); StartCoroutine(Retarget1()); } else { tr.position = Vector2.MoveTowards(tr.position, target, speed); } } break; case 2: if (isMove == true) { if (tr.position == target) { isMove = false; RotatePlayer(); saw.localScale = Vector3.zero; saw1.SetActive(true); saw2.SetActive(true); stamina.localScale = Vector3.zero; srStamina.color = new Color(0f, 0.5f, 1f, 1f); if (coroutineStamina != null) { StopCoroutine(coroutineStamina); } coroutineStamina = StartCoroutine(StaminaAnim(timeStamina, 100)); StartCoroutine(Retarget2()); } else { tr.position = Vector2.MoveTowards(tr.position, target, speed); } } break; case 3: if (isMove == true) { if (tr.position == target) { isMove = false; RotatePlayer(); saw.localScale = Vector3.zero; LaserEnable(); stamina.localScale = Vector3.zero; srStamina.color = new Color(0f, 0.5f, 1f, 1f); if (coroutineStamina != null) { StopCoroutine(coroutineStamina); } coroutineStamina = StartCoroutine(StaminaAnim(timeStamina, 100)); StartCoroutine(Retarget3()); } else { tr.position = Vector2.MoveTowards(tr.position, target, speed); } } break; case 4: if (isMove == true) { if (tr.position == target) { isMove = false; RotatePlayer(); saw.localScale = Vector3.zero; LaserEnable(); stamina.localScale = Vector3.zero; srStamina.color = new Color(0f, 0.5f, 1f, 1f); if (coroutineStamina != null) { StopCoroutine(coroutineStamina); } coroutineStamina = StartCoroutine(StaminaAnim(timeStamina, 100)); StartCoroutine(Retarget4()); } else { tr.position = Vector2.MoveTowards(tr.position, target, speed); } } break; case 5: if (isMove == true) { if (tr.position == target) { isMove = false; RotatePlayer(); saw.localScale = Vector3.zero; LaserEnable(); saw1.SetActive(false); saw2.SetActive(false); stamina.localScale = Vector3.zero; srStamina.color = new Color(0f, 0.5f, 1f, 1f); if (coroutineStamina != null) { StopCoroutine(coroutineStamina); } coroutineStamina = StartCoroutine(StaminaAnim(timeStamina, 100)); StartCoroutine(Retarget5()); } else { tr.position = Vector2.MoveTowards(tr.position, target, speed); } } break; } } else { if (trigStart.enabled == false) { isActivated = true; float musicValue = PlayerPrefs.GetFloat("music"); audioBase.UpSound(0.01f, 5, 0, TypePlaying.Music); explosion.health = 0f; explosion.StartCoroutineTimerOffsetExplosion(); RegionDetected(); LaserDisable(); target = Target(); } } } } public void FixedUpdate() { if (!isMove &amp;&amp; isActivated) { laserOffset1.localEulerAngles = new Vector3(0f, 0f, laserOffset1.localEulerAngles.z + speedRotate); laserOffset2.localEulerAngles = new Vector3(0f, 0f, laserOffset2.localEulerAngles.z + speedRotate); if (isWorkingLaser) { state.localEulerAngles = new Vector3(0f, 0f, state.localEulerAngles.z + speedRotate); } } } public void RotatePlayer() { Vector2 p = pl.position; float angle = Mathf.Atan2(py, px) * Mathf.Rad2Deg; laserOffset1.localEulerAngles = new Vector3(0f, 0f, angle); laserOffset2.localEulerAngles = new Vector3(0f, 0f, angle - 180f); } private Vector3[] posLasers = new Vector3[] { Vector3.zero, Vector3.zero}; public void TriggerLaserDefect(int id) { switch (id) { case 1: state1.active = false; state1.lr1.SetPositions(posLasers); break; case 2: state2.active = false; state2.lr1.SetPositions(posLasers); break; case 3: state3.active = false; state3.lr1.SetPositions(posLasers); break; case 4: state4.active = false; state4.lr1.SetPositions(posLasers); break; } if (!state1.active &amp;&amp; !state2.active &amp;&amp; !state3.active &amp;&amp; !state4.active) { isWorkingLaser = false; state1.active = false; state2.active = false; state3.active = false; state4.active = false; laserL1.active = false; laserL2.active = false; laser1.localPosition = Vector2.zero; laser2.localPosition = Vector2.zero; } } public void OnCollisionEnter2D(Collision2D collision) { if (collision.transform.tag == "Player") { hp = hp - pl.GetComponent&lt;Power&gt;().power; health.localScale = new Vector2(hp / 50f, hp / 50f); stage = 5 - (int)(hp / 25f); if (stage == 4) { LaserBlockDisable(); } if (hp &lt;= 0f &amp;&amp; isAlive == true) { audioBase.LowerSound(0.1f, 50, 0, TypePlaying.Music); audioBase.SetSound(setEnd, 0, 0.8f, TypePlaying.Music, true, 1f); GameObject deadInside = Instantiate(explosionAsset, pl.position, Quaternion.identity); deadInside.GetComponent&lt;Rigidbody2D&gt;().isKinematic = true; deadInside.transform.localScale = new Vector2(2f, 2f); Explosion exp = deadInside.GetComponent&lt;Explosion&gt;(); exp.radius = 2f; exp.health = 0f; exp.timeOffsetExplosion = 3f; exp.StartCoroutineTimerOffsetExplosion(); gateStart.OnTriggerEnter2D(player.GetComponent&lt;Collider2D&gt;()); gateEnd.OnTriggerEnter2D(player.GetComponent&lt;Collider2D&gt;()); PlayerPrefs.SetString("boss2", "death"); blockWin.SetActive(false); gameObject.SetActive(false); } } } public void OnTriggerEnter2D(Collider2D collision) { if (collision.tag == "Player") { blockWin.SetActive(true); trigStart.enabled = false; } } public void LaserEnable() { if (isWorkingLaser) { laserL1.active = true; laserL2.active = true; state1.active = false; state2.active = false; state3.active = false; state4.active = false; } laser1.localPosition = new Vector2(0f, -1f); laser2.localPosition = new Vector2(0f, -1f); return; } public void LaserDisable() { if (isWorkingLaser) { state1.active = true; state2.active = true; state3.active = true; state4.active = true; laserL1.active = false; laserL2.active = false; } laser1.localPosition = Vector2.zero; laser2.localPosition = Vector2.zero; return; } public void LaserBlockEnable() { laserDetected1.enabled = true; laserDetected2.enabled = true; } public void LaserBlockDisable() { laserDetected1.enabled = false; laserDetected2.enabled = false; } public void RegionDetected() { Vector2 result = Vector2.zero; Vector2 pos = pl.position; if (pos.x &gt; -45f &amp; pos.x &lt;= -30f) { result.x = 1; } else if (pos.x &gt; -30f &amp; pos.x &lt; -5f) { result.x = 2; } else if (pos.x &gt;= -5f &amp; pos.x &lt;= 5f) { result.x = 3; } else if (pos.x &gt; 5f &amp; pos.x &lt;= 30f) { result.x = 4; } else if (pos.x &gt;= 30f &amp; pos.x &lt; 45f) { result.x = 5; } if (pos.y &gt; -45f &amp; pos.y &lt;= -30f) { result.y = 1; } else if (pos.y &gt; -30f &amp; pos.y &lt; -5f) { result.y = 2; } else if (pos.y &gt;= -5f &amp; pos.y &lt;= 5f) { result.y = 3; } else if (pos.y &gt; 5f &amp; pos.y &lt;= 30f) { result.y = 4; } else if (pos.y &gt;= 30f &amp; pos.y &lt; 45f) { result.y = 5; } region = result; return; } private readonly Vector2[] aroundCloser = new Vector2[] { new Vector2(2, 2), new Vector2(2, 3), new Vector2(2, 4), new Vector2(3, 2), new Vector2(3, 4), new Vector2(4, 2), new Vector2(4, 3), new Vector2(4, 4) }; public Vector2 Target() { Vector2 result = Vector2.zero; if (region == new Vector2(3, 3)) { region = aroundCloser[Random.Range(0, 8)]; } switch (region.x) { case 1: result.x = Random.Range(-45f, -32f); break; case 2: result.x = Random.Range(-29f, -5f); break; case 3: result.x = Random.Range(-5f, 5f); break; case 4: result.x = Random.Range(5f, 29f); break; case 5: result.x = Random.Range(32f, 45f); break; } switch (region.y) { case 1: result.y = Random.Range(-45f, -32f); break; case 2: result.y = Random.Range(-29f, -5f); break; case 3: result.y = Random.Range(-5f, 5f); break; case 4: result.y = Random.Range(5f, 29f); break; case 5: result.y = Random.Range(32f, 45f); break; } isMove = true; return result; } public IEnumerator StaminaAnim(float time, int count) { yield return new WaitForSeconds(time); float sc = hp * (100f - count) / 5000f; stamina.localScale = new Vector2(sc, sc); if (count &gt; 1) { count = count - 1; coroutineStamina = StartCoroutine(StaminaAnim(time, count)); } } public IEnumerator Retarget1() { yield return new WaitForSeconds(timeRetarget); srStamina.color = new Color(0f, 0.5f, 1f, 0f); RotatePlayer(); saw1.SetActive(false); saw2.SetActive(false); RegionDetected(); target = Target(); } public IEnumerator Retarget2() { yield return new WaitForSeconds(timeRetarget); srStamina.color = new Color(0f, 0.5f, 1f, 0f); RotatePlayer(); saw.localScale = new Vector2(2f, 2f); saw1.SetActive(false); saw2.SetActive(false); RegionDetected(); target = Target(); } public IEnumerator Retarget3() { yield return new WaitForSeconds(timeRetarget); srStamina.color = new Color(0f, 0.5f, 1f, 0f); RotatePlayer(); saw.localScale = new Vector2(2f, 2f); LaserDisable(); RegionDetected(); target = Target(); } public IEnumerator Retarget4() { yield return new WaitForSeconds(timeRetarget); srStamina.color = new Color(0f, 0.5f, 1f, 0f); RotatePlayer(); saw.localScale = new Vector2(2f, 2f); LaserDisable(); RegionDetected(); target = Target(); } public IEnumerator Retarget5() { yield return new WaitForSeconds(timeRetarget); srStamina.color = new Color(0f, 0.5f, 1f, 0f); RotatePlayer(); saw.localScale = new Vector2(2f, 2f); saw1.SetActive(true); saw2.SetActive(true); LaserDisable(); RegionDetected(); target = Target(); } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°3 boss es la mejor calidad entre los jefes! √âl usa rayos para moverse. Primero, gira aleatoriamente a cualquier √°ngulo, luego, entre 12 transmisiones de rayos lanzadas en diferentes direcciones, selecciona la m√°s larga y vuela hasta el punto de emisi√≥n de rayos. Hay objetos en el nivel, algunos de los cuales tambi√©n est√°n siendo destruidos. ¬øY c√≥mo reaccionan los rayos de jefe a los objetos? Se agregaron disparadores a los objetos est√°ticos, que son 2 veces m√°s grandes que los objetos mismos, de modo que la emisi√≥n de rayos ten√≠a un punto donde el jefe no volaba en el aire, no estar√≠a en la pared, sino que estar√≠a clavado en la pared. El jefe tiene una defensa especial: al comienzo del nivel con el jefe (cada jefe es un nivel grande separado sin acertijos de terceros) hay activadores, y se configuran para que solo uno se active.El jefe tiene 5 trampas en blanco y cada gatillo deja solo 3-4 trampas activas. Y tambi√©n ten√≠a un sistema mejorado de √°reas, que consist√≠a en √°reas predefinidas para cada √°rea (en la que el jugador puede estar) y para cada trampa. Y durante el vuelo, el jefe siempre mata al jugador.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lista de trampas: </font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El l√°ser en el centro, que despu√©s de cada vez que el jefe comienza a volar, comienza a mirar al jugador. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 l√°seres que usan la funci√≥n Lerp para moverse a √°reas espec√≠ficas (dependiendo de la ubicaci√≥n del jugador) y se env√≠an al jugador antes del movimiento (siempre deben estar frente al jugador, pero algo sali√≥ mal). </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Una sierra que siempre va a la misma √°rea que el jugador. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 sierras, que siempre se dirigen a las √°reas izquierda y derecha del √°rea donde se encuentra el jugador. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 4 bolas trampa que se mueven sim√©tricamente al centro </font></font></li></ol><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Script BossManagement3</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using System.Collections; using UnityEngine; using UnityEngine.SceneManagement; public class BossManagement3 : MonoBehaviour { public float health = 100f; public Vector4[] boxs = new Vector4[0]; public int[] saw1Fields = new int[0]; public int[] saw2Fields = new int[0]; public int[] saw3Fields = new int[0]; public int[] laser1Fields = new int[0]; public int[] laser2Fields = new int[0]; public Transform trBoss; public SpriteRenderer srBoss; public BossTracing3 bt; public Transform saw1; public Transform saw2; public Transform saw3; public Transform laser; public Transform laser1; public Transform laser2; public Transform trap1; public Transform trap2; public Transform trap3; public Transform trap4; public LineRenderer lr1; public LineRenderer lr2; public TrailRenderer trail; public GameObject exp; public GameObject terminal1; public GameObject terminal2; public GameObject LaserTarget; public GameObject LaserMover; public GameObject TrapsMover; public GameObject SawMover; public GameObject SawsAroundMover; public Explosion explosion; public SpriteRenderer sr; public CircleCollider2D cc; public Animator animatorEnd; public bool isMove = false; public bool isMoveSaw1 = false; public bool isMoveSaw2 = false; public bool isMoveSaw3 = false; public bool isMoveLaser1 = false; public bool isMoveLaser2 = false; public bool isMoveTraps = false; public int loadScene = 35; public int fieldPlayer = 0; private bool isActive = true; private float maxHealth; private Vector2 target = Vector2.zero; private Vector2 saw1target = Vector2.zero; private Vector2 saw2target = Vector2.zero; private Vector2 saw3target = Vector2.zero; private Vector2 laser1target = Vector2.zero; private Vector2 laser2target = Vector2.zero; private Vector2 traptarget1 = Vector2.zero; private Vector2 traptarget2 = Vector2.zero; private Vector2 traptarget3 = Vector2.zero; private Vector2 traptarget4 = Vector2.zero; private Vector2 border = new Vector2(47f, 44.5f); private Vector2 borderSaw = new Vector2(46f, 43.5f); private Management m; public GameObject p { get; private set; } private HealthBar hb; private Transform tr; private Power ppl; private int lengthBoxs = 0; private bool isLife = true; public void Awake() { isActive = !(PlayerPrefs.GetString("boss1") == "life" &amp;&amp; PlayerPrefs.GetString("boss2") == "life"); terminal1.SetActive(!isActive); terminal2.SetActive(isActive); trail.enabled = PlayerPrefs.GetString("graphicsquality") != "low"; m = GameObject.FindWithTag("MainCamera").GetComponent&lt;Management&gt;(); lengthBoxs = boxs.Length; maxHealth = health; hb = m.healthBar; p = m.player; tr = p.transform; ppl = m.ppl; float c = health / maxHealth; srBoss.color = new Color(0f, 0f, c); } public void Start() { if (isActive == false) { return; } StartCoroutine(Mover()); fieldPlayer = bt.BoxPos(tr.position); if (fieldPlayer &gt;= 0) { Vector4 r = boxs[saw1Fields[fieldPlayer]]; saw1target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); r = boxs[saw2Fields[fieldPlayer]]; saw2target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); r = boxs[saw3Fields[fieldPlayer]]; saw3target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); r = boxs[laser1Fields[fieldPlayer]]; laser1target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); r = boxs[laser2Fields[fieldPlayer]]; laser2target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } else { Vector4 r = boxs[Random.Range(0, lengthBoxs)]; saw1target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); r = boxs[Random.Range(0, lengthBoxs)]; saw2target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); r = boxs[Random.Range(0, lengthBoxs)]; saw3target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); r = boxs[Random.Range(0, lengthBoxs)]; laser1target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); r = boxs[Random.Range(0, lengthBoxs)]; laser2target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } TrapMover(); StartCoroutine(Laser1AIM()); StartCoroutine(Laser2AIM()); isMoveSaw1 = true; isMoveSaw2 = true; isMoveSaw3 = true; isMoveLaser1 = true; isMoveLaser2 = true; return; } public void SawMover1() { fieldPlayer = bt.BoxPos(tr.position); if (fieldPlayer &gt;= 0) { Vector4 r = boxs[saw1Fields[fieldPlayer]]; saw1target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } else { Vector4 r = boxs[Random.Range(0, lengthBoxs)]; saw1target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } isMoveSaw1 = true; } public void SawMover2() { fieldPlayer = bt.BoxPos(tr.position); if (fieldPlayer &gt;= 0) { Vector4 r = boxs[saw2Fields[fieldPlayer]]; saw2target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } else { Vector4 r = boxs[Random.Range(0, lengthBoxs)]; saw2target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } isMoveSaw2 = true; } public void SawMover3() { fieldPlayer = bt.BoxPos(tr.position); if (fieldPlayer &gt;= 0) { Vector4 r = boxs[saw3Fields[fieldPlayer]]; saw3target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } else { Vector4 r = boxs[Random.Range(0, lengthBoxs)]; saw3target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } isMoveSaw3 = true; } public void LaserMover1() { fieldPlayer = bt.BoxPos(tr.position); if (fieldPlayer &gt;= 0) { Vector4 r = boxs[laser1Fields[fieldPlayer]]; laser1target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } else { Vector4 r = boxs[Random.Range(0, lengthBoxs)]; laser1target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } StartCoroutine(Laser1AIM()); isMoveLaser1 = true; } public void LaserMover2() { fieldPlayer = bt.BoxPos(tr.position); if (fieldPlayer &gt;= 0) { Vector4 r = boxs[laser2Fields[fieldPlayer]]; laser2target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } else { Vector4 r = boxs[Random.Range(0, lengthBoxs)]; laser2target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); } StartCoroutine(Laser2AIM()); isMoveLaser2 = true; } public void TrapMover() { traptarget1 = new Vector2(Random.Range(-border.x, border.x), Random.Range(-border.y, border.y)); traptarget2 = new Vector2(-traptarget1.x, -traptarget1.y); traptarget3 = new Vector2(-traptarget1.x, traptarget1.y); traptarget4 = new Vector2(traptarget1.x, -traptarget1.y); isMoveTraps = true; } public IEnumerator Laser1AIM() { yield return new WaitForSeconds(0.5f); Vector2 diff = tr.position; float rot_z = Mathf.Atan2(diff.y, diff.x) * Mathf.Rad2Deg + 90f; laser1.rotation = Quaternion.Euler(0f, 0f, rot_z); } public IEnumerator Laser2AIM() { yield return new WaitForSeconds(0.5f); Vector2 diff = tr.position; float rot_z = Mathf.Atan2(diff.y, diff.x) * Mathf.Rad2Deg + 90f; laser2.rotation = Quaternion.Euler(0f, 0f, rot_z); } public IEnumerator Mover() { yield return new WaitForSeconds(7.5f); if (isLife) { Vector2 diff = tr.position; float rot_z = Mathf.Atan2(diff.y, diff.x) * Mathf.Rad2Deg + 90f; laser.rotation = Quaternion.Euler(0f, 0f, rot_z); target = bt.GetPosRaycast(); isMove = true; } } public void Update() { if (isActive == false) { return; } float s = Time.fixedDeltaTime / (0.03f / Time.timeScale); if (isMove) { trBoss.position = Vector2.MoveTowards(trBoss.position, target, s * 0.5f); if (trBoss.position == (Vector3)target) { isMove = false; if (isLife) { StartCoroutine(Mover()); } } } if (isMoveSaw1) { saw1.position = Vector2.MoveTowards(saw1.position, saw1target, s * 0.1f); if (saw1.position == (Vector3)saw1target) { isMoveSaw1 = false; if (isLife) { SawMover1(); } } } if (isMoveSaw2) { saw2.position = Vector2.MoveTowards(saw2.position, saw2target, s * 0.1f); if (saw2.position == (Vector3)saw2target) { isMoveSaw2 = false; if (isLife) { SawMover2(); } } } if (isMoveSaw3) { saw3.position = Vector2.MoveTowards(saw3.position, saw3target, s * 0.1f); if (saw3.position == (Vector3)saw3target) { isMoveSaw3 = false; if (isLife) { SawMover3(); } } } if (isMoveLaser1) { laser1.position = Vector2.Lerp(laser1.position, laser1target, s * 0.1f); if (laser1.position == (Vector3)laser1target) { isMoveLaser1 = false; if (isLife) { LaserMover1(); } } } if (isMoveLaser2) { laser2.position = Vector2.Lerp(laser2.position, laser2target, s * 0.1f); if (laser2.position == (Vector3)laser2target) { isMoveLaser2 = false; if (isLife) { LaserMover2(); } } } if (isMoveTraps) { trap1.position = Vector2.MoveTowards(trap1.position, traptarget1, s * 0.1f); trap2.position = Vector2.MoveTowards(trap2.position, traptarget2, s * 0.1f); trap3.position = Vector2.MoveTowards(trap3.position, traptarget3, s * 0.1f); trap4.position = Vector2.MoveTowards(trap4.position, traptarget4, s * 0.1f); lr1.SetPosition(0, trap1.position); lr1.SetPosition(1, trap2.position); lr2.SetPosition(0, trap3.position); lr2.SetPosition(1, trap4.position); if (trap1.position == (Vector3)traptarget1) { isMoveTraps = false; if (isLife) { TrapMover(); } } } } public void OnCollisionEnter2D(Collision2D collision) { if (collision.gameObject == p) { if (isActive == false) { isActive = true; Start(); } if (isMove == true) { hb.StraightDamage(10f, "Boss3"); } else { health = health - ppl.power; float c = health / maxHealth; srBoss.color = new Color(0f, 0f, c); trail.startColor = srBoss.color; if (health &lt;= 0f) { isLife = false; isMove = false; saw1target = trBoss.position; saw2target = trBoss.position; saw3target = trBoss.position; isMoveSaw1 = true; isMoveSaw2 = true; isMoveSaw3 = true; sr.enabled = false; cc.enabled = false; exp.SetActive(true); explosion.health = 0f; explosion.StartCoroutineTimerOffsetExplosion(); Vector2 diff = trBoss.position; float rot_z = Mathf.Atan2(diff.y, diff.x) * Mathf.Rad2Deg + 90f; laser.rotation = Quaternion.Euler(0f, 0f, rot_z); int fieldBoss = bt.BoxPos(trBoss.position); Vector4 r = boxs[laser1Fields[fieldBoss]]; laser1target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); r = boxs[laser2Fields[fieldBoss]]; laser2target = new Vector2(Random.Range(rz, rx), Random.Range(rw, ry)); StartCoroutine(Ended()); } } } } public void EndedCoroutine() { if (!isActive) { //Debug.Log("End"); isActive = true; StartCoroutine(Ended()); } } public IEnumerator Ended() { yield return new WaitForSeconds(6.5f); if (hb.healthBarImage.fillAmount != 0f) { animatorEnd.SetBool("isActive", true); StartCoroutine(EndedFunction()); } } public IEnumerator EndedFunction() { yield return new WaitForSeconds(1.5f); if (hb.healthBarImage.fillAmount != 0f) { PlayerPrefs.SetInt("progress", 35); SceneManager.LoadSceneAsync(loadScene); } } public void ControlDamagers(bool lt, bool lm, bool tm, bool sm, bool sam) { LaserTarget.SetActive(lt); LaserMover.SetActive(lm); TrapsMover.SetActive(tm); SawMover.SetActive(sm); SawsAroundMover.SetActive(sam); } }</code> </pre></div></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Audio y m√∫sica</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tampoco puedo escribir m√∫sica, pero tengo suficiente gusto musical para encontrar la m√∫sica correcta. </font><font style="vertical-align: inherit;">En mi plan, para cada nivel era necesario elegir una pista. </font><font style="vertical-align: inherit;">Y en su mayor parte cumpl√≠ el plan: recog√≠ 25 canciones. </font><font style="vertical-align: inherit;">Busqu√© todas las pistas en la tienda de activos. </font><font style="vertical-align: inherit;">Tom√© sonidos para el resto en freesound.org o sitios similares. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El sonido de la parte t√©cnica se realiz√≥ de acuerdo con un principio simple: en la c√°mara hab√≠a 5 AudioSource deshabilitados y un script AudioBase para controlar el sonido. </font><font style="vertical-align: inherit;">En este script, exist√≠a la funci√≥n principal de SetSound con los par√°metros de volumen, bucle, tipo (m√∫sica o sonido) y el archivo de audio en s√≠. </font><font style="vertical-align: inherit;">Despu√©s de la se√±al, el sonido comenz√≥ a reproducirse y (si no estaba en bucle) IEnumerator se activ√≥ con un tiempo igual a la duraci√≥n de la pista y, una vez que expir√≥, apag√≥ el componente.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Script AudioBase</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; using System.Collections; public class AudioBase : GlobalFunctions { public AudioSource[] layerSounds = new AudioSource[0]; public GameObject music; private float musicValue, soundValue; private int lengthLayerSounds = 0; private bool soundActive = true; private Coroutine offsetActive; private int lowerSoundCoroutineCounter = 100; private int upSoundCoroutineCounter = 0; public void Awake() { soundActive = PlayerPrefs.GetString("graphicsquality") != "low"; musicValue = PlayerPrefs.GetFloat("music"); soundValue = PlayerPrefs.GetFloat("sound"); lengthLayerSounds = layerSounds.Length; for (int i = 0; i &lt; lengthLayerSounds; i++) { layerSounds[i].enabled = false; } } public void LowerSound(float timer, int upd, int id, TypePlaying typePlaying) { lowerSoundCoroutineCounter = upd; if (typePlaying == TypePlaying.Music) { StartCoroutine(LowerSoundCoroutine(timer, upd, id, musicValue)); } else { StartCoroutine(LowerSoundCoroutine(timer, upd, id, soundValue)); } } public void UpSound(float timer, int upd, int id, TypePlaying typePlaying) { upSoundCoroutineCounter = 0; if (typePlaying == TypePlaying.Music) { StartCoroutine(UpSoundCoroutine(timer, upd, id, musicValue)); } else { StartCoroutine(UpSoundCoroutine(timer, upd, id, soundValue)); } } public IEnumerator LowerSoundCoroutine(float timer, int upd, int id, float volumeSen) { yield return new WaitForSeconds(timer); layerSounds[id].volume = Stable2((layerSounds[id].volume / volumeSen - timer) * volumeSen, 0f, 1f); if (lowerSoundCoroutineCounter &gt; 1) { StartCoroutine(LowerSoundCoroutine(timer, upd, id, volumeSen)); lowerSoundCoroutineCounter -= 1; } } public IEnumerator UpSoundCoroutine(float timer, int upd, int id, float volumeSen) { yield return new WaitForSeconds(timer); layerSounds[id].volume = Stable2((layerSounds[id].volume / volumeSen + timer) * volumeSen, 0f, 1f); if (upSoundCoroutineCounter &lt; upd) { StartCoroutine(UpSoundCoroutine(timer, upd, id, volumeSen)); upSoundCoroutineCounter += 1; } } public void UpdateSound() { if (soundActive) { float time = Time.timeScale; for (int i = 0; i &lt; lengthLayerSounds; i++) { AudioSource audioSource = layerSounds[i]; if (audioSource.enabled == true) { audioSource.pitch = time; } } } } public void SetSound(AudioClip audioClip, int layerSound, float volume, TypePlaying typePlaying, bool loop, float time) { StartCoroutine(SetSoundTime(audioClip, layerSound, volume, typePlaying, loop, time)); } public IEnumerator SetSoundTime(AudioClip audioClip, int layerSound, float volume, TypePlaying typePlaying, bool loop, float time) { yield return new WaitForSeconds(time); SetSound(audioClip, layerSound, volume, typePlaying, loop); } public void SetSound(AudioClip audioClip, int layerSound, float volume, TypePlaying typePlaying, bool loop) { if (volume == 0f) { return; } if (soundActive) { AudioSource audioSource = layerSounds[layerSound]; audioSource.enabled = true; audioSource.clip = audioClip; audioSource.loop = loop; if (typePlaying == TypePlaying.Sound) { audioSource.volume = soundValue * volume; } else { audioSource.volume = musicValue * volume; } audioSource.Play(); if (offsetActive != null) { StopCoroutine(offsetActive); offsetActive = null; } if (!loop) { offsetActive = StartCoroutine(Offet(layerSound, audioClip.length, audioSource)); } } } public IEnumerator Offet(int layerSound, float length, AudioSource audioSource) { yield return new WaitForSeconds(length); if (audioSource.clip == layerSounds[layerSound].clip) { AudioSource audioSource2 = layerSounds[layerSound]; audioSource2.Stop(); audioSource2.enabled = false; } } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adem√°s, el componente Vagabundo (estampado) tiene su propio sistema de sonido: cuando un jugador ingresa al estampado del estampado, el componente responsable del sonido se activa. Y si es necesario, el producto determina la distancia al jugador y, despu√©s de calcular el coeficiente, le da el volumen necesario, creando una especie de efecto de sonido realista. Pero no funciona como lo quer√≠a, tal vez es una cuesti√≥n de c√≥digo incorrectamente escrito. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La trama</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> S√≠, este juego es la historia. Y tiene 2 caracter√≠sticas: es casi no verbal y tiene una opci√≥n que afecta el final del juego. Es mejor contar sobre la variabilidad (porque, de hecho, esta variabilidad es toda la trama).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El juego tiene 3 opciones: en los dos primeros jefes y en el nivel 32. La elecci√≥n con los jefes es bastante obvia: pueden ser asesinados o no al comenzar un ataque o alcanzar el siguiente nivel, respectivamente. </font><font style="vertical-align: inherit;">Y en el nivel 32, un poco m√°s complicado: puedes activar el gatillo, lo que implica el despertar del ancla de salvamento de la historia local (un personaje llamado AI). </font><font style="vertical-align: inherit;">La elecci√≥n de los dos primeros jefes afecta si habr√° una batalla con 3 jefes. </font><font style="vertical-align: inherit;">Si matas al menos a uno de los dos primeros jefes, habr√° una batalla con el tercer jefe. </font><font style="vertical-align: inherit;">Si no, entonces no. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solo hay 4 finales: bueno, malo, neutral y secreto. </font><font style="vertical-align: inherit;">Se ven afectados por 2 opciones: activaci√≥n de IA y matar a 3 jefes. </font><font style="vertical-align: inherit;">Analizar√© las terminaciones en orden:</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buen final</font></font></b> <div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ocurre si 3 jefes no fueron asesinados y se activ√≥ la IA. </font><font style="vertical-align: inherit;">En √©l tiene lugar un mon√≥logo de IA, en el que insin√∫a una continuaci√≥n y se muestra un ojo ardiente (de los diferentes efectos del fuego en el juego).</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ic/7y/5q/ic7y5qybvgsqkntsirrs0vo2x50.png" width="250"></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Texto final</font></font></b> <div class="spoiler_text">  Gracias <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Podr√≠as revivirme </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y lograr no despertar al Ranger. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aparentemente ser√°s su √∫nica instancia exitosa. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Te merec√≠as un peque√±o descanso </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ganaste.</font></font></div></div></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mal final</font></font></b> <div class="spoiler_text">  ,  3        .      (¬´¬ª ),         ( ). <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/1y/ns/zg1yns6xsbmhbqw8ecailcmj9nc.png" width="250"></div><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text">    <br>      <br>    <br>         <br>   -1 </div></div></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Final neutro</font></font></b> <div class="spoiler_text">  ,  3       .            ,  ,    ‚Ä¶ <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/up/xp/dtupxp-eviq15ssct_eyj-926dq.png" width="250"></div><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text">  <br>     <br> ,     <br>      <br>    <br>     <br>     <br>   </div></div></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Final secreto</font></font></b> <div class="spoiler_text">  ,  3         .     ,     -   (!)    . ( ,    ) <br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> - <br> ,  -   <br> ,      <br>     <br> ,  ,    <br>    ‚Ä¶ <br> , , ,  ,   ... </div></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero, ¬øpor qu√© la trama es casi no verbal? No pude hacerlo completamente no verbal debido a los finales. Pero hay suficiente texto en el juego. De hecho, para explicarle al jugador "para el ENT del juego", aparecieron terminales con notas en el juego y el gui√≥n del juego se explica con gran detalle. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escenario El</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> escenario en este caso es la prehistoria del mundo, revelada a partir de las caras y los personajes de este juego en forma de notas, registros, informes, mon√≥logos y di√°logos: en texto general. Y este es un delirio tan grafoman√≠aco de un programador que incluso Glukhovsky se sorprender√≠a (no tengo nada en contra de √©l, me encanta Metro). Desafortunadamente, no tuve mucho tiempo para crear npc completo. Aunque los sprites para ellos en el juego que encontr√©:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cp/wz/jn/cpwzjnsg2h0mgb72x1aj7hrrzu8.png" width="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nuevamente, debido a las circunstancias, el gui√≥n fue escrito en √∫ltimo lugar, y ya en √©l se me ocurri√≥ una trama seg√∫n la cual complet√© el juego. Escribi√≥ durante 4 semanas todos los d√≠as de la semana, en un minib√∫s, cuando fui al trabajo normal. E incluso en tan poco tiempo pude escribir mucho. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En todo caso, el juego original no tiene trama ni pistas. Y ahora no tiene sentido ocultar la trama (despu√©s de todo, nadie pasar√° completamente el juego y leer√° todas las notas). Hay tres objetivos para esta grafoman√≠a: agregar una variabilidad razonable de las acciones del jugador, explicar cosas inexplicables del juego y al menos un poco m√°s de inter√©s para el jugador en su juego.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escrib√≠ el gui√≥n de una manera muy simple: primero lo escrib√≠ en una historia para 40-50 oraciones en 2-3 semanas. Luego, para cada nota, eleg√≠ de acuerdo con la oraci√≥n, y en base a una oraci√≥n, agregu√© 2-3 oraciones a la nota, las cambi√© a mon√≥logos (u otras formas de narraci√≥n) y recib√≠ notas balanceadas listas para usar. Como resultado, de tal recepci√≥n en todas las notas se acumul√≥ un total de 160 oraciones con informaci√≥n. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y debes entender: en mi juego hay suficientes cosas il√≥gicas, y para justificar cada una de ellas con la verdad en el formato de una historia, se necesita mucho texto. Por lo tanto, trat√© de no verter agua, y cada oraci√≥n intent√≥ llenar de significado, o cerrar el agujero de la trama, o pintar y revelar los personajes de la historia. Pero aun as√≠, el nivel de escritura sigue siendo dudoso.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entonces, ¬øde qu√© est√° hablando el gui√≥n? </font><font style="vertical-align: inherit;">Si es muy simple, entonces esta es la trama del Portal, solo con una historia abierta del mundo y personajes ligeramente modificados (m√°s cambiante). </font><font style="vertical-align: inherit;">Por cierto, este escenario tiene una caracter√≠stica: el sexo de los objetos inanimados se ha vuelto promedio a pesar de la l√≥gica, el sentido com√∫n o las reglas del idioma ruso (y otros idiomas tambi√©n). </font><font style="vertical-align: inherit;">Si alguien de repente (bueno, de repente) se interes√≥, entonces dejar√© el gui√≥n completo y todas las notas del juego aqu√≠:</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El gui√≥n</font></font></b> <div class="spoiler_text">  : <br> , ,   (3 ) <br>  (1 ) <br> ,  RLIS (2 ) <br><br>  : <br><br> [1]   . [3]    :   ,   ,  ,  ,    ..      . [3]       ,    ,        ,   ([2]   , ,           ).  (4) <br><br> [4]         ,   . [5]     ,      . [6]          . [6]  ,    . [7]          .  (5) <br><br> [8]            :   . [9]      (- )      . [10]        (       ). (3) <br><br> [11]     . [12]   ,     ,  ,   . [13]           . [13]    ,           . (3) <br><br> [15]       ([14] ‚Äî          ,      ,      ). [15]   (     )             ([16]            ).  (4) <br><br> [17]  . [18]     ¬´¬ª. [18]            . [19]-       .  (4) <br><br> [20]      ¬´¬ª. [21]   ,         . [22]      ,    . (3) <br><br> [23]    . [24]          . [25]     ¬´ ¬ª. (3) <br><br> [26]    ,       . [27]        ,  -  ,   . [28]       ¬´ ¬ª. [29]      .  (4) <br><br> [30] -   ( ?)            (     ,    ). [31]      . [32] ,          ([33]    ,         ),      - ,        . [34]     . [35]          ,  . [36]      (        ):     10  (10  = 1 )   . [X]- (  )        ,     (    2   1   ?). [37]   2 .  (9) <br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Libro de recuerdos</font></font></b> <div class="spoiler_text">  (): <br><br> 1) {}    ¬´¬ª ,      .      ,       .   -   ,       . <br><br> 2) {} RLIS (reasonable likeness in simulation) ‚Äî      .     . RLIS   ( )       ‚Äî     . <br><br> 3) {}  RLIS     100  : , , , ,   ..    ,   , ,    .    ,       . <br><br> 4) {} ,        .     ,     ,    ,   ,       .    magnum opus      . <br><br> 5) {ARSotLotC}        ,       .    ,           .      ,      . <br><br> 6) {} -!!! -   ,       .    ,      ,     ,     .        ,  ,       ,      .        2 :      . <br><br> 7) {}       ,    backup       ,    .         :     ,       . ,          ,         . <br><br> 8) {}    .    ,              .    ,   ,         ,         (    ). <br><br> 9) {}   ,      ,   -.            ?  .          ,   .  ,    .   ‚Ä¶ <br><br> 10) {}    -   ,         .                  .      , ‚Ä¶ <br><br> 11) {ARSotLotC}      .  ,    ¬´¬ª   , ,    .            ,   ‚Ä¶              . <br><br> 12) {}      ,      ¬´¬ª    .  .         ¬´¬ª,   .          .      . <br><br> 13) {}               ,       .     ,            .      ,         .                 . <br><br> 14) {}      ,     ,       (             ).  ‚Äî   ,         .   :      ,           . <br><br> 15) {}  ‚Äî            .    ,         .           .        ,       ,           . <br><br> 16) {}     ?        ,          .                 . <br><br> 17) {}     .       .      ,   ¬´¬ª.         .       ,      ,       . <br><br> 18) {}       ¬´¬ª.  , ?    ,          ,          . <br><br> 19) {}    ¬´¬ª     ,      .      ,     ,   ,       ,     .     .                  . <br><br> 20) {}   ''           ''. ,   , ''      '',          ,      . <br><br> 21) {}  ''       :       ,        ''.  ,     .     . <br><br> 22) {ARSotLotC}          :    ,     .        ,         . <br><br> 23) {}       ,           .                    ' '.          ,            . <br><br> 24) {}     ,   ,      .           ,   .   ,          . <br><br> 25) {}  .         ,  -  .      ,    ,   '  '. <br><br> 26) {}  .   ,      .                 .      ' '    ! <br><br> 27) {}   ' '   ,      .              .     :    ,    ,     . <br><br> 28) {ARSotLotC} - &lt; &gt;     .             .        .  ,    . <br><br> 29) {ARSotLotC}         .   ? ,         (- ,          )    ARSotLotC (Automatic Recording System of the Logs of the Complex). <br><br> 30) {ARSotLotC}   ¬´¬ª  ,        .          ,     ,   .  -    ,  backup .    ,    ,         . <br><br> 31) {ARSotLotC}  :      .     ,       .           .          backup. <br><br> 32) {ARSotLotC}   .         .     ,   .           . <br><br> 33) {ARSotLotC}                  (       backup').          . <br><br> 34) {ARSotLotC}    ,      .    ,      ,     10     .      ,     . Ps:        ,           ,  . <br><br> 35.1) {}   .  .     ' '  .     ,      ,       ''.  ,          -   ,    .            ' '. <br><br> 35.2)                                                   <br></div></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base de c√≥digo</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dado que mi especialidad es un programador, el c√≥digo fue la tarea principal para m√≠. </font><font style="vertical-align: inherit;">En comparaci√≥n con la base de c√≥digo original, la base de c√≥digo secuela aument√≥ de 2 a 3 veces (aunque el original contiene 900 l√≠neas de m√©todos de c√≥digo, ya que ten√≠a miedo de usar paquetes como bucles y matrices o GetChild () y bucles ) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Junto con la cantidad, la calidad general del c√≥digo tambi√©n aument√≥, pero no pude evitar errores. </font><font style="vertical-align: inherit;">Como resultado, hay muchos errores en el c√≥digo mismo. </font><font style="vertical-align: inherit;">E incluso a pesar de mi conocimiento objetivamente escaso, veo perfectamente mis errores. </font><font style="vertical-align: inherit;">Entonces, analizaremos mi error m√°s importante. </font><font style="vertical-align: inherit;">Tome por ejemplo un c√≥digo simple:</font></font><br><br><pre> <code class="plaintext hljs">public class VelocityRotate : MonoBehaviour { public float rotate = 0f; public bool oneTime = true; private bool active = true; public void OnTriggerEnter2D(Collider2D collision) { if (active == true) { if (oneTime == true) { active = false; } Rigidbody2D rb = collision.GetComponent&lt;Rigidbody2D&gt;(); Vector2 vel = rb.velocity; rb.velocity = RotateVector(vel, rotate); } } public Vector2 RotateVector(Vector2 a, float offsetAngle) { float power = Mathf.Sqrt(ax * ax + ay * ay); float angle = Mathf.Atan2(ay, ax) * Mathf.Rad2Deg - 90f + offsetAngle; return Quaternion.Euler(0, 0, angle) * Vector2.up * power; } }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øEntendiste r√°pidamente de qu√© es responsable este script? </font><font style="vertical-align: inherit;">Y si lo haces as√≠:</font></font><br><br><pre> <code class="plaintext hljs">public class VelocityRotate : MonoBehaviour { //      public float rotate = 0f;//  public bool oneTime = true;//  private bool active = true;//  public void OnTriggerEnter2D(Collider2D collision) { if (active == true) { if (oneTime == true)//   { active = false; } //   Rigidbody2D rb = collision.GetComponent&lt;Rigidbody2D&gt;(); Vector2 vel = rb.velocity; rb.velocity = RotateVector(vel, rotate); } } public Vector2 RotateVector(Vector2 a, float offsetAngle)//   { float power = Mathf.Sqrt(ax * ax + ay * ay);//  float angle = Mathf.Atan2(ay, ax) * Mathf.Rad2Deg - 90f + offsetAngle; //    offset' return Quaternion.Euler(0, 0, angle) * Vector2.up * power; //        } }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°La falta de comentarios es mi primer y m√°s grande error al desarrollar el juego! En toda su base de c√≥digo no hay un solo comentario que explique de qu√© es responsable esta o aquella rama del c√≥digo. Y quiz√°s esto no sea necesario para un peque√±o juego independiente. Bueno, en primer lugar, definitivamente no puedo llamar a este juego peque√±o, y en segundo lugar, como futuro desarrollador, definitivamente tendr√© que trabajar en un equipo y la ausencia de un h√°bito tan √∫til como comentar alguna vez me enga√±ar√°. Acabo de darme cuenta de este error ahora: me persegu√≠a todos mis proyectos relacionados con la programaci√≥n y esta vez, tom√© esto en cuenta y la pr√≥xima vez har√© comentarios. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Errores y fallas</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hubo muchos errores. </font><font style="vertical-align: inherit;">Muy! </font><font style="vertical-align: inherit;">Para un trabajo tan masivo, asign√© un mes entero de correcciones (agosto). </font><font style="vertical-align: inherit;">No tiene sentido analizar los ejemplos, solo puse una nota con todos mis errores documentados (aunque no document√© la mayor√≠a de ellos y los correg√≠ en su lugar):</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista de verificaci√≥n de GB2</font></font></b> <div class="spoiler_text"> : <br> // ‚Äî   <br> \ ‚Äî    <br><br> //1)     ,  ,  <br> //2)   :  <br> //3)        <br> //4)     TipsGamePlay <br> //5) ( )     <br> //6) 0:      <br> //7) 1:    () <br> //8)      <br> //9) 2:  2      <br> //10)                <br> //11) 4:    <br> //12)     layer Player <br> //13) 7:    ()      <br> //14) 8:           ( 1) <br> //15) 8:      <br> \16)         (    ) <br> \17) 8:           zero <br> //18)        <br> //19) 1:        <br> //20)    ,   <br> //21)        <br> //22)    timescale=0 <br> //23) 6:         <br> //24) 0:   <br> //25)     <br> //26) 7:    <br> //27) 7:    <br> //28)  AspectRatio <br> \29)      <br> //30)    <br> //31)    &lt;EXfgpy)b&gt;    //32) 7:    -  <br> //33)   ,       <br> //34) 9:     <br> //35) 9:      <br> //36) 'loop'   <br> //37) 10:   <br> //38) 11:   () <br> //39) 11:    <br> //40) 11:      <br> //41) 11:   <br> //42) 11:      <br> //43) 11:         <br> //44)    ( ) <br> /45) 12:    <br> \46)  Raycast   <br> \47)   ( static, dynamic, kinematic) <br> //48)     (next level, next start, next end) <br> \49) 1:          elevatorsave = 0 <br> \50)   offset angle,            <br> //51) 2:       <br> //52)    <br> //53) 7:       <br> //54)  next save <br> //55)      Dynamic Graph <br> //56) 11:        (    ) <br> 57) 11:   <br> //58) 9:    () <br> //59) 11: (  )    <br> //60) 12:   (   2 .     active   ,  .         . <br> 61) :     <br> //62) :  -   <br> //63)  :        <br> 64)    <br> //65)      (. ) <br> //66)      <br> //67)     HealthBar <br> 68) 0:          <br> //69)      localposition  position <br> 70) 14:    bool isPresentation <br> //71) 17:         2  4 <br> 72)    () <br> \73)      <br> //74)        <br> //75)      layer,     <br> //76)      <br> //77) 2:      1     <br> \78)     (     ) <br> //79)          <br> //80) 3:  ,         <br> //81)           <br> //82) 6:      ,      <br> //83) 6:     1  <br> //84) 6:       <br> //85) 7:    40.      . <br> //86)        <br> //87) 9:        <br> //88) 32:      <br> //89)  offsetAngle  elevator <br> //90) 11:     <br> //91)    (  ) <br> //92)      <br> //93)    <br> //94)    <br> //95) 13:     <br> //96) 15:      <br> /97)    3            isshotmode <br> //98) 17:       <br> //99) 18:  ,         <br> //100) 19:       (   ) <br> /101) 20:          <br> \102)    Tramp <br> //103) 20:         <br> \104)         <br> //105) 11:    ui   <br> //106)   text         arial <br> \107)              <br> //108)          <br> //109) 3:           <br> //110) 3:        <br> //111) 3:      ,    <br> //112)    ,     <br> //113)     () <br> //114) 4:     <br> //115)       (    ) <br> //116)       () <br> //117)  pointsAnimation  basicAnimation <br> //118) 7:   <br> //119) 9:      <br> //120)         AudioBase <br> //121)     pointsAnimation       <br> //122)       ,   ( ) <br> //123) 13:    HealthBar <br> //124) 13:  ,      <br> //125) 14:      kinematic (. ) <br> //126) 14:     <br> //127) 14:      ,    <br> //128)    velocityField   (     ,        ) <br> //129) 16:     velocityField <br> //130) 22:      <br> //131) 22:     <br> \132) 25:       <br> //133) 26:   <br> //134) 27:   <br> \135)       (  ) <br> //136)       <br> //137) :          <br> //138)    ( ) <br> //139)            <br> //140) 8:   <br> //141)      (  1.5-2,      -oneshot' <br> \142)  lerp         <br> //143)      ,  ,        (    ,         ) <br> //144) 22:       <br> //145) 11:          <br> //146) 11:      <br> //147) 11:     <br> //148)    <br> //149)  ¬´Home¬ª  ¬´Menu¬ª <br> //150)      <br> //151)       <br> //152)       <br> \153)        (  healthEnd) <br> //154) :       <br> //155) 33:    ,      <br> //156) 15:     (   0.1) <br> //157) 15:      velocityfield          healthbar <br> //158)     <br> //159)   basicAnimation (27) <br> //160)   (18, 27) <br> //161)     <br> \162) 19: -      <br> //163)     ( trigger  collision) <br> //164) 20:     50  250 <br> //165)      shotmode <br> //166) 27:        <br> //167) 28:     <br> //168) 17:    <br> //169) tag  boss3 <br> \170)   (  ,    ) <br> //171)    35 <br> //172)  :   ,  600    ¬´I'll come back¬ª <br> //173) 33:        <br><br> //174)      <br> //175) HealthBar       <br> //176)     (     damage- <br> //177) 27:         <br><br>    <br><br> 0) (0) <br> 1) (2) <br> 2) (2) <br> 3) (1) <br> 4) (1) <br> 5) (1) <br> 6) (1) <br> 7) (1) <br> 8) (2) <br> 9) (1) <br> 10) (0) <br> 11) (1) <br> (13) <br> 12) (0) <br> 13) (2) <br> 14) (2) <br> 15) (0) <br> 16) (0) <br> 17) (1) <br> 18) (1) <br> 19) (3) <br> 20) (0) <br> 21) (3) <br> 22) (1) <br> (13) <br> 23) (1) <br> 24) (1) <br> 25) (0) <br> 26) (0) <br> 27) (0) <br> 28) (3) <br> 29) (1) <br> 30) (2) <br> 31) (0) <br> 32) (0) <br> 33) (1) <br> 34) (1) <br> (10) <br><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y lo que tiene sentido desmontar son los defectos. </font><font style="vertical-align: inherit;">Y no los peque√±os que se pueden atribuir a los errores, sino los grandes, que son los errores m√°s graves en el rendimiento del juego. </font><font style="vertical-align: inherit;">Tambi√©n quiero se√±alar que por fallas no me refiero a fallas. </font><font style="vertical-align: inherit;">El juego tiene muchos inconvenientes, esto es comprensible, pero quiero distinguir aquellas cosas que podr√≠a solucionar o evitar que se creen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øCu√°les son mis principales defectos?</font></font><br><br><ol><li>         .   ,           .    2       3-4 .     ,     ,    :               10 .        ,                  .             . </li><li>        ,    .   ,        ,     ,   ,       . </li><li>        .       ,   ¬´ ¬ª   60%     .       ,    . </li></ol><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Localizaci√≥n</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Debido al escenario completo, el volumen de texto localizado ha crecido aproximadamente 30 veces. </font><font style="vertical-align: inherit;">Pero la t√©cnica de traducci√≥n no ha cambiado un poco: a medida que traduje a trav√©s de Google Translate, contin√∫o. </font><font style="vertical-align: inherit;">Solo al principio traduje directamente del ruso, y ahora traduzco al ingl√©s, corrijo los errores y ya de √©l a otros idiomas. </font><font style="vertical-align: inherit;">Adem√°s, la cantidad de idiomas disminuy√≥: si el juego original ten√≠a 18 idiomas y su p√°gina se tradujo a TODOS los idiomas que admite Google, la secuela se transfiri√≥ a solo 10 idiomas: qu√© hay en el juego, qu√© hay en la p√°gina (y esta es la √∫nica secuela inferior al original). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para los terminales de notas normales, hice un esquema bastante grande para trabajar con texto. </font><font style="vertical-align: inherit;">En resumen, en lugar de cadenas simples, hab√≠a una clase especial para trabajar con diferentes idiomas:</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Script StringLanguageMinimize</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">[System.Serializable] public class StringLanguageMinimize { public string english = ""; public string spanish = ""; public string italian = ""; public string german = ""; public string russian = ""; public string french = ""; public string portuguese = ""; public string korean = ""; public string chinese = ""; public string japan = ""; public string GetString() { string ret = ""; switch (PlayerPrefs.GetString("language")) { case "english": ret = english; break; case "spanish": ret = spanish; break; case "italian": ret = italian; break; case "german": ret = german; break; case "russian": ret = russian; break; case "french": ret = french; break; case "portuguese": ret = portuguese; break; case "korean": ret = korean; break; case "chinese": ret = chinese; break; case "japan": ret = japan; break; } return ret; } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Y exactamente la misma clase para terminales: </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terminal de script</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">[System.Serializable] public class StringLanguage { [TextArea] public string english = ""; [TextArea] public string spanish = ""; [TextArea] public string italian = ""; [TextArea] public string german = ""; [TextArea] public string russian = ""; [TextArea] public string french = ""; [TextArea] public string portuguese = ""; [TextArea] public string korean = ""; [TextArea] public string chinese = ""; [TextArea] public string japan = ""; public string GetString() { string ret = ""; switch (PlayerPrefs.GetString("language")) { case "english": ret = english; break; case "spanish": ret = spanish; break; case "italian": ret = italian; break; case "german": ret = german; break; case "russian": ret = russian; break; case "french": ret = french; break; case "portuguese": ret = portuguese; break; case "korean": ret = korean; break; case "chinese": ret = chinese; break; case "japan": ret = japan; break; } return ret; } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El siguiente fue el c√≥digo de activaci√≥n del terminal: </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entrada de sugerencias de script</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; public class TipsInput : MonoBehaviour { public int idTips = 0; public bool isPress2Read = true; public bool oneTime = true; private bool active = true; public GameObject[] copys; private Data data; private Press2Read p2r; private TipsInput ti; private void Awake() { data = GameObject.FindWithTag("MainCamera").GetComponent&lt;Data&gt;(); p2r = GameObject.FindWithTag("Press2Read").GetComponent&lt;Press2Read&gt;(); ti = GetComponent&lt;TipsInput&gt;(); } public void OnCollisionEnter2D(Collision2D collision) { if (collision.transform.CompareTag("Player")) { if (isPress2Read == false &amp;&amp; active == true) { Disable(); data.SetDialoge(idTips); if (copys.Length != 0) { for (int i = 0; i &lt; copys.Length; i++) { copys[i].GetComponent&lt;TipsInput&gt;().Disable(); } } } else if (isPress2Read == true) { p2r.Active(ti); } } } public void OnCollisionExit2D(Collision2D collision) { if (isPress2Read == true) { p2r.DeActive(); } } public void Disable() { if (oneTime == true) { active = false; } return; } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Datos importantes de la clase: </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datos</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using UnityEngine; using UnityEngine.UI; using System.Collections; public class Data : GlobalFunctions { public Dialoge[] dialoges; public DeadPhrases[] deadPhrases; public GamePlay[] gameplay; [Space] public Tips tips; public AudioBase audioBase; public TipsGamePlay gamePlayTips; public Image slowmobonus; public Text fpsText; public float scaleTips = 1f; public float scaleGameUI = 1f; public float scaleSlowMo = 1f; private float speed = 0f; private float target = 1f; private float timeDuration = 1f; private int updFPS = 0; public void Awake() { scaleTips = scaleGameUI = scaleSlowMo = 1f; slowmobonus.color = new Color(0f, 0f, 0f, 0f); } public void Start() { StartCoroutine(SecFPSUpdate()); } public void SetDialoge(int id) { if (dialoges.Length != 0) { tips.SetActiveTrue(dialoges[id].dialogeStrings, dialoges[id].name); } } public void FalseP2R() { tips.SetFalse(); } public string GetDeadPhrase(string typeDead) { int idType = -1; for (int i = 0; i &lt; deadPhrases.Length; i++) { if (deadPhrases[i].typeDead == typeDead) { idType = i; break; } } if (idType == -1) { return typeDead; } int rand = Random.Range(0, deadPhrases[idType].deadPhrases.Length); return deadPhrases[idType].deadPhrases[rand].GetString(); } public string GetDeadPhrase2() { string ret = ""; switch (PlayerPrefs.GetString("language")) { case "english": ret = "Tap to continue"; break; case "spanish": ret = "Pulse para continuar"; break; case "italian": ret = "Tocca per continuare"; break; case "german": ret = "Tippen Sie, um fortzufahren"; break; case "russian": ret = "  "; break; case "french": ret = "Appuyez sur pour continuer"; break; case "portuguese": ret = "Clique para continuar"; break; case "korean": ret = "Í≥ÑÏÜçÌïòÎ†§Î©¥ ÌÉ≠ÌïòÏÑ∏Ïöî"; break; case "chinese": ret = "ÁÇπÊåâÂç≥ÂèØÁªßÁª≠"; break; case "japan": ret = "„Çø„ÉÉ„Éó„Åó„Å¶Á∂öË°å„Åó„Åæ„Åô"; break; } return ret; } public void PauseGameUI(float time) { scaleGameUI = time; Update(); audioBase.UpdateSound(); } public void SetGamePlayTips(int id) { if (id == -1) { gamePlayTips.SetActiveTrueSaved(); } else { gamePlayTips.SetActiveTrue(gameplay[id]); } } public void SlowMo(float timeDuration2, float setSlowMo, float speed2) { speed = speed2; target = setSlowMo; timeDuration = timeDuration2; Update(); audioBase.UpdateSound(); } public void SlowMo(float timeDuration2) { scaleSlowMo = 0.1f; float sb = (1f - scaleSlowMo) * 0.3921569f; slowmobonus.color = new Color(0f, 0f, 0f, sb); Update(); audioBase.UpdateSound(); } public IEnumerator EndAnim(float timeDuration) { yield return new WaitForSeconds(timeDuration); End(); } public void End() { scaleSlowMo = 1f; float sb = (1f - scaleSlowMo) * 0.3921569f; slowmobonus.color = new Color(0f, 0f, 0f, sb); Update(); audioBase.UpdateSound(); } public void End2(float timeDuration2) { if (timeDuration2 == 0) { End(); return; } StartCoroutine(EndAnim(timeDuration2)); } private void Update() { Time.timeScale = scaleTips * scaleSlowMo * scaleGameUI; Time.fixedDeltaTime = 0.03f * scaleSlowMo * scaleTips; updFPS = updFPS + 1; return; } private IEnumerator SecFPSUpdate() { yield return new WaitForSeconds(1f); fpsText.text = "FPS: " + updFPS; updFPS = 0; StartCoroutine(SecFPSUpdate()); } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Y la clase principal de Tips, que es responsable del funcionamiento de la terminal: </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consejos para guiones</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">using System.Collections; using UnityEngine.UI; using UnityEngine; public class Tips : GlobalFunctions { public Data data; public Press2Read p2r; public GameUI gameUI; public GameObject obj; public AudioClip setClip; public Text nameText; public Text txt; private int textID = 0; private int textsID = 0; private AudioBase audioBase; private DialogeString textActive; private DialogeString[] textsActive; private bool isMass = false; [TextArea] public string end = ""; [TextArea] public string endPast = ""; public void Start() { audioBase = GameObject.FindWithTag("MainCamera").GetComponent&lt;AudioBase&gt;(); data.scaleTips = 1f; obj.SetActive(false); txt.text = ""; } public void SetActiveTrue(DialogeString text, StringLanguageMinimize name) { data.scaleTips = 0.1f; audioBase.layerSounds[0].volume /= 10f; obj.SetActive(true); nameText.text = name.GetString(); gameUI.pauseButton.SetActive(false); textActive = text; isMass = false; StartCoroutine(TimerFalse()); } public void SetActiveTrue(DialogeString[] texts, StringLanguageMinimize name) { data.scaleTips = 0.1f; audioBase.layerSounds[0].volume /= 10f; obj.SetActive(true); nameText.text = name.GetString(); gameUI.pauseButton.SetActive(false); textsActive = texts; isMass = true; StartCoroutine(TimersFalse()); } public IEnumerator TimerFalse(float time = 0.02f) { yield return new WaitForSecondsRealtime(time); string ds = textActive.dialogeString.GetString(); if (textID &lt; ds.Length &amp;&amp; ds != end) { audioBase.SetSound(setClip, 1, 0.5f, TypePlaying.Sound, false); end = end + ds.Substring(textID, 1); txt.text = endPast + end; textID = textID + 1; if (textID + 1 != ds.Length &amp;&amp; ds != end) { if (ds.Substring(textID + 1, 1) == ",") { StartCoroutine(TimersFalse(0.1f)); } else if (ds.Substring(textID + 1, 1) == ".") { StartCoroutine(TimersFalse(0.15f)); } else if (ds.Substring(textID + 1, 1) == "?") { StartCoroutine(TimersFalse(0.15f)); } else if (ds.Substring(textID + 1, 1) == ".") { StartCoroutine(TimersFalse(0.15f)); } else { StartCoroutine(TimersFalse()); } } else { StartCoroutine(TimersFalse()); } } else { endPast = txt.text; if (textActive.isSkip) { if (textActive.skipOffset == 0f) { SetActiveFalse(); } else { IsSkip(textActive.skipOffset); } } } } public IEnumerator TimersFalse(float time = 0.02f) { yield return new WaitForSecondsRealtime(time); string ds = textsActive[textsID].dialogeString.GetString(); if (textID &lt; ds.Length &amp;&amp; ds != end) { audioBase.SetSound(setClip, 1, 0.5f, TypePlaying.Sound, false); end = end + ds.Substring(textID, 1); txt.text = endPast + end; textID = textID + 1; string ds1 = textsActive[textsID].dialogeString.GetString(); if (textID + 1 != ds1.Length &amp;&amp; ds1 != end) { if (ds1.Substring(textID + 1, 1) == ",") { StartCoroutine(TimersFalse(0.1f)); } else if (ds1.Substring(textID + 1, 1) == ".") { StartCoroutine(TimersFalse(0.15f)); } else if (ds1.Substring(textID + 1, 1) == "?") { StartCoroutine(TimersFalse(0.15f)); } else if (ds1.Substring(textID + 1, 1) == "!") { StartCoroutine(TimersFalse(0.15f)); } else { StartCoroutine(TimersFalse()); } } else { StartCoroutine(TimersFalse()); } } else { endPast = txt.text; if (textsActive[textsID].isSkip) { if (textsActive[textsID].skipOffset == 0f) { SetActiveFalse(); } else { IsSkip(textsActive[textsID].skipOffset); } } } } public IEnumerator IsSkip(float time) { yield return new WaitForSecondsRealtime(time); SetActiveFalse(); } public void SetFalse() { obj.SetActive(false); gameUI.pauseButton.SetActive(true); end = ""; endPast = ""; txt.text = ""; textID = textsID = 0; data.scaleTips = 1f; audioBase.layerSounds[0].volume *= 10f; } public void SetActiveFalse() { if (isMass == false) { if (textActive.dialogeString.GetString() != end) { end = textActive.dialogeString.GetString(); if (textActive.isSkip) { SetActiveFalse(); } } else { obj.SetActive(false); gameUI.pauseButton.SetActive(true); end = ""; data.scaleTips = 1f; audioBase.layerSounds[0].volume *= 10f; } } else { if (textsActive[textsID].dialogeString.GetString() != end) { if (textsActive[textsID].isStep == true) { txt.text = end = textsActive[textsID].dialogeString.GetString(); if (textsActive[textsID].isSkip) { SetActiveFalse(); } } else { end = textsActive[textsID].dialogeString.GetString(); txt.text = endPast + end; } } else { if (textsID != textsActive.Length - 1) { textsID = textsID + 1; textID = 0; end = ""; if (textsActive[textsID].isStep == true) { endPast = ""; } StartCoroutine(TimersFalse()); } else { obj.SetActive(false); gameUI.pauseButton.SetActive(true); p2r.UnTap(); end = ""; endPast = ""; txt.text = ""; textID = textsID = 0; data.scaleTips = 1f; audioBase.layerSounds[0].volume *= 10f; } } } } }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Decid√≠ que ser√≠a deprimente si el texto solo se mostrara, y por lo tanto, con la ayuda de IEnumerator, hice una emulaci√≥n de escribir el texto (exactamente el mismo efecto al final). </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lanzamiento</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Inicialmente, mi plan era poner el juego el 1 de septiembre. </font><font style="vertical-align: inherit;">Y as√≠ lo hice: en el √∫ltimo momento result√≥ que ten√≠a 4 errores al final (y tampoco estaba traducido), lo arregl√© r√°pidamente y present√© el juego por la noche. </font><font style="vertical-align: inherit;">Desafortunadamente, el cheque se retras√≥ por 7 d√≠as, porque decid√≠ verificar la oferta con algo manualmente. </font><font style="vertical-align: inherit;">Lo m√°s probable es que el asunto est√© en la cuenta, que se ha "definido" y ya se verifica con moderaci√≥n manualmente.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las relaciones p√∫blicas fueron mucho m√°s dif√≠ciles para m√≠ que prepararme para el lanzamiento, porque no hab√≠a dinero ni conexiones, pero quer√≠a distribuir el juego. Por lo tanto, utilic√© m√©todos simples: lo envi√© todo a mis amigos en VK, cre√© publicaciones en Reddit, lo lanc√© a la oferta de sitios en juegos m√≥viles, intent√© contactar a los autores de m√∫sica, etc. Y esto dio un peque√±o resultado:</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kj/u-/dd/kju-ddrnggd-val9oytmh3b9-pi.jpeg" width="400"></div><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El resultado es</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sorprendente, pero fue el d√≠a en que publiqu√© este art√≠culo que pas√© 3 a√±os en TI. Y a pesar de mis 16 a√±os, ese mismo d√≠a, cuando ten√≠a 13 a√±os, me propuse el objetivo: aprender a programar y crear un juego de ensue√±o. Y desde ese momento, hasta cierto punto, mi sue√±o se hizo realidad. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© hay del juego? Estoy contento con ella No, realmente, no he recibido tanta informaci√≥n y experiencia √∫til de nada como de este proyecto. Bueno, la calidad del juego podr√≠a ser claramente mayor, pero incluso lo que ya es bueno para m√≠. Adem√°s, para m√≠ este juego es algo personal y ser√≠a irrespetuoso monetizar este juego antes que nada. Por lo tanto, en √©l no hay publicidad, donaci√≥n y no tiene una versi√≥n paga</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s de esto, me gustar√≠a continuar en el desarrollo del juego. </font><font style="vertical-align: inherit;">Pero las circunstancias de la vida son tales que ya no es posible. </font><font style="vertical-align: inherit;">Y para comenzar a convertirme en programador normalmente, necesito desarrollo, crecimiento personal sobre m√≠ mismo. </font><font style="vertical-align: inherit;">No s√© qu√© estudiar ahora ni a d√≥nde ir, pero una cosa estoy segura: este es probablemente mi √∫ltimo juego en el motor de la unidad. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gracias por al menos un poco de atenci√≥n. </font><font style="vertical-align: inherit;">Si mi historia result√≥ ser ca√≥tica, haga preguntas, aclarar√© que puedo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PD: A alguien le gust√≥ el √∫ltimo avance:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/cm/se/iacmseb355qijfw6g2lsexdrtow.png" width="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Y aqu√≠ est√° el trailer de este juego: </font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Whsn9B5t6Hc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/468363/">https://habr.com/ru/post/468363/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../468341/index.html">Azure Cloud Shell en la Terminal de Windows</a></li>
<li><a href="../468343/index.html">Jeff Bezos: "Ir al espacio por el bien de la tierra"</a></li>
<li><a href="../468345/index.html">GitHub lanza sus tent√°culos en CI / CD y gesti√≥n de artefactos</a></li>
<li><a href="../468347/index.html">MetricKit. An√°lisis de rendimiento de aplicaciones iOS.</a></li>
<li><a href="../468351/index.html">Microestructura de mercado y selecci√≥n adversa</a></li>
<li><a href="../468367/index.html">Amazon anuncia plan de calentamiento global</a></li>
<li><a href="../468369/index.html">C√≥mo cre√© "WildMAN" - una parodia de muchos juegos de 8 bits y recientemente lo port√© a Android</a></li>
<li><a href="../468371/index.html">Dise√±o de juegos a la vida. Descarga sin problemas o inmersi√≥n completa en God of War 4</a></li>
<li><a href="../468377/index.html">8 historias sobre el interior de China. Lo que no se muestra a los extranjeros</a></li>
<li><a href="../468379/index.html">Inteligencia artificial de uso general. TK, estado actual, perspectivas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>