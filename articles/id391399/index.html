<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö° üòã üèáüèø Bukan kantor bodoh üë®‚Äç‚úàÔ∏è üàÇÔ∏è üïµÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya tidak akan pernah berani menulis artikel tentang implementasi rumah pintar berikutnya dengan koneksi sensor untuk kebocoran air di kamar mandi da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bukan kantor bodoh</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/391399/"><img src="https://habrastorage.org/files/0dd/7a2/355/0dd7a23553144b86ab85d90d2b064823.jpg" align="left" width="255" height="189"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya tidak akan pernah berani menulis artikel tentang implementasi rumah pintar berikutnya dengan koneksi sensor untuk kebocoran air di kamar mandi dan sistem pelacakan untuk trik kucing di apartemen. Syukurlah kucing itu ada di bawah kendali seekor anjing, air sepertinya juga tidak mengalir. Tapi tetap saja, kami lebih banyak bekerja, di berbagai kantor, di mana tidak selalu memungkinkan untuk menciptakan lingkungan kerja yang optimal. Artikel ini dikhususkan untuk sistem pemantauan lingkungan dari ruang kerja di kantor dan untuk kegiatan yang kami lakukan setelah sebulan bekerja stabil (secara mengejutkan). Tentu saja, kami mengirim semua data ke cloud, melihatnya dari smartphone kami, tidak ada manfaatnya, tetapi tidak ada alasan untuk menyombongkan diri kepada kerabat dan teman, dan kantor menjadi lebih nyaman. Semuanya diimplementasikan pada ESP8266, tetapi bagaimana - Anda disambut di bawah cat)</font></font><br>
<br>
<a name="habracut"></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dimana monitornya? </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan mengatakan bahwa kami bekerja secara langsung dalam kondisi yang tidak tertahankan. </font><font style="vertical-align: inherit;">Kantor-kantor di perusahaan itu luar biasa, di kamar tiga orang, banyak bunga. </font><font style="vertical-align: inherit;">Bangunan itu sendiri dikelilingi oleh hutan. </font><font style="vertical-align: inherit;">Secara umum, panorama kantor tempat sistem pemantauan digunakan. </font></font><br>
<img src="https://habrastorage.org/files/984/d35/3ac/984d353ace384c1eae1e75d112a56c4c.jpg"> <br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu pemantauan? </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak ada yang asli. </font><font style="vertical-align: inherit;">Kami menghapus suhu di kantor, kelembaban, tekanan, dan tingkat CO2. </font><font style="vertical-align: inherit;">Tentu saja, sensor cahaya telah ditambahkan ke sistem. </font><font style="vertical-align: inherit;">Tingkat penerangan tempat kerja bahkan dapat dikendalikan dan dalam kasus kami harus berada pada level 300-400 Lux. </font><font style="vertical-align: inherit;">Mungkin ini adalah parameter paling penting untuk pekerjaan yang nyaman. </font><font style="vertical-align: inherit;">Dan yang paling dinamis di siang hari.</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/3e1/150/cbc/3e1150cbc42247ad859b2faf45845c6b.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mendapatkan suhu dan kelembaban dari sensor DHT22. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deskripsi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sensor.</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/e10/371/788/e10371788d6747288bed75aebce84343.jpg" width="301" height="247"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menerima tekanan dari sensor BMP180. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deskripsi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sensor.</font></font><div style="text-align:center;"><img src="https://habrastorage.org/files/26e/126/3d0/26e1263d0df142ec90551d66818d3226.jpg" width="225" height="230"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Level CO2 dipantau oleh sensor optik MH-Z14. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deskripsi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sensor.</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/25c/952/171/25c952171b2449b7b1560bafcec9bfbe.jpg" width="260" height="250"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nah, sensor TSL2561 dalam bentuk papan nama untuk seri Arduino GROVE memantau kualitas pencahayaan. </font><font style="vertical-align: inherit;">Deskripsi di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/293/d8a/b9c/293d8ab9c5fd451fa9c835ca64bd1b5a.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan akhirnya, kontroler ESP8266 dalam bentuk sapu tangan untuk pembuatan prototipe cepat NodeMcu (dengan nama firmware), yang dalam kasus saya di-flash dari standar Arduino IDE, mengarahkan semuanya. </font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/ca4/d7c/47d/ca4d7c47d81a42f1b70252f2d1b0992f.jpg" width="320" height="220"></div><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami mengumpulkan versi kotak</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jadi, semua sensor diletakkan di atas meja - saatnya untuk merakit perangkat. </font><font style="vertical-align: inherit;">Namun, sebagai permulaan kami akan menganalisis beberapa seluk-beluk. </font><font style="vertical-align: inherit;">Membuat sketsa diagram skematis untuk kejelasan.</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/005/e9a/9aa/005e9a9aa1664c72aad7be7822bd1f32.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini semua sensor diaktifkan dari +3,3 V, yang akan kita ambil dari papan NodeMcu, karena sudah ada tiga dari mereka di papan tulis. Tetapi sensor karbon dioksida harus diberdayakan secara terpisah, ini membutuhkan daya 4-6 volt, dan pabrikan sangat merekomendasikan untuk memberikan perhatian khusus pada hal ini. Karena saya berencana untuk menghidupkan daya perangkat dari catu daya terpisah pada + 5V, tidak akan ada masalah. Kami menyuplai daya ke terminal 1 sensor MH-Z14 (atau 15, karena diduplikasi). Ketika Anda menyalakan sensor selama beberapa menit, ia mengeluarkan semua sampah ke port saat mentransmisikan melalui jalur TX / RX, jadi saya mengambil sinyal yang berguna dari sensor ini dari output PWM pada kaki ke-6. Secara umum, saya suka sensor ini. Ini cukup stabil, memiliki keluaran digital dan analog, tetapi hanya dapat bekerja dengan mikrokontroler dengan logika tiga volt, jadi jalankan, misalnya, pada UNO tanpa</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menari dengan rebana</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> koordinasi tingkat logis tidak akan berhasil. Dalam kasus kami, ESP berjalan pada logika tiga volt, seperti semua sensor lainnya. Pada saat yang sama, ESP itu sendiri sangat pilih-pilih tentang kualitas daya, tetapi di papan yang saya gunakan dalam artikel ini, skema normal untuk menstabilkan daya input hingga +3,3 V dirakit, tapi saya masih tidak akan menyarankan papan dari IP meragukan akan lebih dari 5 volt. Kami juga tidak akan men-debug sirkuit yang dirakit penuh, hanya menyalakannya dari port USB. Karena sensor karbon dioksida memiliki konsumsi besar karena kehadiran bola lampu pijar (sebagai sumber IR, mungkin) dalam desainnya, ini dapat mendorong port. Apakah kita membutuhkannya?). Oleh karena itu, kami mengisi firmware dengan catu daya pihak ketiga yang disertakan, atau melalui USB, tetapi melepaskan sensor karbon dioksida.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini bukan tanpa besi solder ...</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Seperti yang Anda lihat dari diagram, saya menggunakan dua sensor pada garis i2c. </font><font style="vertical-align: inherit;">Ini adalah sensor tekanan dan sensor cahaya. </font><font style="vertical-align: inherit;">Seperti yang Anda </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ketahui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pada bus serial Anda dapat "menggantung" hingga 127 semua jenis sensor dan perangkat. </font><font style="vertical-align: inherit;">Dalam implementasi protokol, garis SDA / SCL harus dikencangkan ke daya, tetapi hanya sekali. </font><font style="vertical-align: inherit;">Dan jika kita menggantung sensor N, yang masing-masing memiliki kawat gigi - Anda dapat menanam garis. </font><font style="vertical-align: inherit;">Mungkin, tidak ada yang akan terjadi dari kedua sensor - tetapi saya selalu konsisten dalam desain. </font><font style="vertical-align: inherit;">Seharusnya tidak ada gigi - maaf ... Karena itu, kami menyingkirkan resistor pull-up di salah satu sensor. </font><font style="vertical-align: inherit;">Lebih mudah merobek resistor dari sensor tekanan. </font><font style="vertical-align: inherit;">Angka tersebut menunjukkan.</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/606/4b0/ef3/6064b0ef37ef4f2dbcbcfba329f13b12.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah semua latihan ini, kami mengumpulkan versi kotak kami. </font><font style="vertical-align: inherit;">Dalam kotak kertas)</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/d60/a52/e23/d60a52e239a941a7b1c143d0d4c2568a.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang mengejutkan - itu berhasil segera. </font><font style="vertical-align: inherit;">Ini tidak baik, tapi tetap saja. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami mencerna data</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
, jadi ideologinya adalah ini. </font><font style="vertical-align: inherit;">Kami mengumpulkan data dari sensor dan, misalnya, setiap 10 menit, kami memasukkannya ke penyimpanan cloud melalui Wi-Fi kantor. </font><font style="vertical-align: inherit;">Kami membuat grafik yang indah dan menganalisis hasil dari Thingspeak.com. </font><font style="vertical-align: inherit;">Layanan ini gratis, cukup stabil dan mudah dimengerti. </font><font style="vertical-align: inherit;">Banyak yang telah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ditulis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tentang dia </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Kami mendaftarkan saluran, mendapatkan kunci API, dan mengatur ulang data dari sensor apa pun menggunakan metode POST.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kode program</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">//    ,     <font></font>
#include &lt;Wire.h&gt;<font></font>
#include &lt;ESP8266WiFi.h&gt; //     ,    <font></font>
float index_comfort=0; //   <font></font>
<font></font>
//+++++++++++++++++++++++++++++++++++++++++++++++++++<font></font>
<font></font>
//   ,    <font></font>
//   <font></font>
#include "DHT.h"<font></font>
#define DHTTYPE DHT22  //   - Grove DHT22<font></font>
#define DHTPIN 14     //  14  ESP (   D5)  . <font></font>
<font></font>
//       <font></font>
float humidity_room = 0.0; //     <font></font>
//  humidity_room = dht.readHumidity();<font></font>
float temp_room = 0.0; //     <font></font>
//  temp_room = dht.readTemperature();<font></font>
<font></font>
//    .     <font></font>
//     <font></font>
DHT dht(DHTPIN, DHTTYPE);<font></font>
<font></font>
//++++++++++++++++++++++++++++++++++++++++++++++++++++<font></font>
<font></font>
//     <font></font>
#include &lt;Digital_Light_TSL2561.h&gt;<font></font>
//      <font></font>
float light_room=0.0;<font></font>
//  light_room=TSL2561.readVisibleLux();<font></font>
<font></font>
<font></font>
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++<font></font>
<font></font>
//  C02  <font></font>
int CO2; //     <font></font>
int pin_CO2 = 13; //  13,   7 <font></font>
//  2<font></font>
<font></font>
<font></font>
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++<font></font>
<font></font>
//    . <font></font>
#include &lt;Adafruit_BMP085.h&gt;<font></font>
Adafruit_BMP085 bmp;<font></font>
float pressure =0.0; //   <font></font>
//  pressure=bmp.readPressure(); <font></font>
//   !<font></font>
// 1013.25 millibar = 101325  = 760  ..   ? ...<font></font>
//      ,  <font></font>
<font></font>
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++<font></font>
<font></font>
//        -<font></font>
//     thingspeak.com , , ..,  <font></font>
#define myPeriodic 300; //        <font></font>
const char* server = "184.106.153.149"; //   thingspeak.com<font></font>
<font></font>
String apiKey ="1K******************GM"; //   <font></font>
<font></font>
const char* MY_SSID = "P********x"; //  Wi-Fi  <font></font>
const char* MY_PWD = ""; //  ,    ,  ""<font></font>
<font></font>
int sent = 0; //   ()  .  ?  ,  ...<font></font>
<font></font>
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<font></font>
<font></font>
//    ,  <font></font>
<font></font>
void setup() {<font></font>
  Serial.begin(9600); //    <font></font>
 <font></font>
  Serial.println("Go! Go! Go!");<font></font>
  <font></font>
  Wire.begin(); <font></font>
 <font></font>
  dht.begin(); //    <font></font>
 <font></font>
  TSL2561.init(); //    <font></font>
 <font></font>
  pinMode(pin_CO2, INPUT); //    CO2  <font></font>
 <font></font>
  //   <font></font>
 if (!bmp.begin()) {<font></font>
 Serial.println("Promlem with sensor bmp180!");<font></font>
  while (1) {}<font></font>
  }<font></font>
  //  wi-Fi<font></font>
 connectWifi();<font></font>
}<font></font>
<font></font>
//++++++++++++++++++++++++++++++++++++++++++++++++++++++<font></font>
<font></font>
//       <font></font>
void connectWifi() <font></font>
{<font></font>
  Serial.print("Connecting to "+*MY_SSID);<font></font>
 WiFi.begin(MY_SSID, MY_PWD);<font></font>
 while (WiFi.status() != WL_CONNECTED) {<font></font>
  delay(1000);<font></font>
 Serial.print(".");<font></font>
  }<font></font>
  <font></font>
 Serial.println("");<font></font>
 Serial.println("Connected");<font></font>
 Serial.println(""); <font></font>
  Serial.print("SSID: ");<font></font>
  Serial.println(WiFi.SSID());<font></font>
<font></font>
  //   <font></font>
  IPAddress ip = WiFi.localIP();<font></font>
  Serial.print("IP Address: ");<font></font>
  Serial.println(ip);<font></font>
<font></font>
  //    <font></font>
  long rssi = WiFi.RSSI();<font></font>
  Serial.print("signal strength (RSSI):");<font></font>
  Serial.print(rssi);<font></font>
  Serial.println(" dBm"); <font></font>
}//end connect<font></font>
<font></font>
//++++++++++++++++++++++++++++++++++++++++++++++++++++<font></font>
//    <font></font>
void send_info(float temp_in, float temp_out, float humidity_in, int CO2_in, float light_in, float pressure_all )<font></font>
{  <font></font>
  WiFiClient client;<font></font>
  <font></font>
   if (client.connect(server, 80)) { // use ip 184.106.153.149 or api.thingspeak.com<font></font>
   Serial.println("WiFi Client connected ");<font></font>
   <font></font>
   //        <font></font>
   String postStr = apiKey; //  <font></font>
   postStr += "&amp;field1=";<font></font>
   postStr += String(temp_in); //    <font></font>
<font></font>
   postStr += "&amp;field2=";<font></font>
   postStr += String(temp_out); //   <font></font>
<font></font>
   postStr += "&amp;field3=";<font></font>
   postStr += String(humidity_in); //    <font></font>
<font></font>
   postStr += "&amp;field4=";<font></font>
   postStr += String(CO2_in); // 2   <font></font>
<font></font>
   postStr += "&amp;field5=";<font></font>
   postStr += String(light_in); //    <font></font>
<font></font>
   postStr += "&amp;field6=";<font></font>
   postStr += String(pressure_all); //   <font></font>
   <font></font>
   postStr += "\r\n\r\n"; //    <font></font>
   <font></font>
   client.print("POST /update HTTP/1.1\n");<font></font>
   client.print("Host: api.thingspeak.com\n");<font></font>
   client.print("Connection: close\n");<font></font>
   client.print("X-THINGSPEAKAPIKEY: " + apiKey + "\n");<font></font>
   client.print("Content-Type: application/x-www-form-urlencoded\n");<font></font>
   client.print("Content-Length: ");<font></font>
   client.print(postStr.length());<font></font>
   client.print("\n\n");<font></font>
   client.print(postStr);<font></font>
   delay(1000);  <font></font>
   }//end if<font></font>
   sent++; //   <font></font>
  <font></font>
 client.stop();<font></font>
 Serial.println("transmition closed ");<font></font>
}//end send<font></font>
<font></font>
<font></font>
//+++++++++++++++++++++++++++++++++++++++++++++++++++++<font></font>
<font></font>
//    ,   ? <font></font>
<font></font>
void loop()<font></font>
{<font></font>
 delay(5000);<font></font>
 // <font></font>
 dht.begin();<font></font>
 humidity_room = dht.readHumidity();<font></font>
delay(500);<font></font>
<font></font>
//   <font></font>
 temp_room = dht.readTemperature();<font></font>
delay(500);<font></font>
<font></font>
//   <font></font>
light_room=TSL2561.readVisibleLux();<font></font>
delay(500);<font></font>
<font></font>
<font></font>
// CO2  <font></font>
 while(digitalRead(pin_CO2)==HIGH){;}<font></font>
float duration_h = pulseIn(pin_CO2,HIGH)/1000;<font></font>
 <font></font>
 CO2= int(5000*(duration_h-2)/(duration_h+(1004-duration_h)-4)); //   <font></font>
 delay(500);<font></font>
<font></font>
//  <font></font>
bmp.begin();<font></font>
pressure=bmp.readPressure(); <font></font>
pressure=int((pressure/101325)*760);<font></font>
delay(500);<font></font>
<font></font>
//    <font></font>
if (temp_room&lt;18) {<font></font>
  index_comfort=(2*light_room/300)+(400/CO2)+humidity_room/40;<font></font>
  }<font></font>
<font></font>
if (temp_room&gt;25) {<font></font>
  index_comfort=(2*light_room/300)+(400/CO2)+humidity_room/40;<font></font>
  }<font></font>
<font></font>
  index_comfort=1+(2*(light_room/300)+(400/CO2)+humidity_room/40);<font></font>
<font></font>
  if (index_comfort&gt;5){<font></font>
    index_comfort=5;<font></font>
    }<font></font>
  <font></font>
//    <font></font>
send_info(temp_room, index_comfort, humidity_room, CO2, light_room, pressure);<font></font>
  <font></font>
  //.      <font></font>
  int count = myPeriodic;<font></font>
  while(count--)<font></font>
  delay(1000);<font></font>
<font></font>
  // ,  .   ...<font></font>
  // , <font></font>
  //<font></font>
  //       i2c    ,   <font></font>
  // .     . <font></font>
  //     .  .    <font></font>
  //  ,   .    ,   . <font></font>
  //     ,  DHT22,    . <font></font>
  // --,     ... <font></font>
  // 15  2016 .    <font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika semuanya bekerja dengan benar, maka akan menjadi seperti ini)</font></font></b><div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/files/a16/19c/b2d/a1619cb2dc4342e48c4b02734610fc5b.jpg"></div><br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar ini berfungsi, Anda akan membutuhkan perpustakaan untuk bekerja dengan sensor yang dipilih dan perpustakaan untuk bekerja dengan ESP8266 melalui Wi-Fi. Anda juga perlu menambahkan papan NodeMcu ke daftar papan IDE Arduino, dan untuk melihatnya, Anda memerlukan driver USB-SERIAL CH340, yang mudah ditemukan dan diunduh di jaringan tanpa masalah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Library for ESP8266 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Library untuk bekerja dengan sensor kelembaban. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Library untuk bekerja dengan sensor cahaya. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Library untuk bekerja dengan sensor tekanan. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sensor CO2 tidak perlu perpustakaan. Indikasi dihitung dengan durasi output pulsa yang berasal dari PWM dan dihitung oleh rumus dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deskripsi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sensor. </font><font style="vertical-align: inherit;">Omong-omong, rentang pengukurannya bukan 2000 ppm, tetapi 5000, yang, kebetulan, juga ditulis oleh pengguna </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hellsy22</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam sebuah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baru-baru </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ini</font></a><font style="vertical-align: inherit;"> tentang sensor karbon dioksida yang serupa. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan organisasi</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1. Pekerjaan </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Kerajinan layak dipindahkan dari kotak kertas ke gedung yang layak.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini dia. </font><font style="vertical-align: inherit;">Ini juga akan menunjukkan tingkat kenyamanan di kantor sebagai lampu lalu lintas.</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/907/3a4/e47/9073a4e47fc247bfa7c88341594f2fbf.jpg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Tidak banyak cahaya di kantor di malam hari - mereka menambahkan beberapa lampu langit-langit. Itu menjadi lebih baik. 350 lx </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Wanita pembersih benar-benar bekerja. Datang lebih awal di pagi hari, menyalakan lampu, pembersihan basah memberikan gelombang kelembaban di kantor selama setengah jam. Tidak banyak, tapi tetap saja ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Setelah dua jam bekerja (tiga orang bernapas dengan berat) di kantor, level CO2 keluar dari skala. Siaran lima menit memperbaiki situasi menjadi normal (500 ppm). Kombinasikan (jika diinginkan) ditayangkan dengan senam)))</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6. Sangat kering. </font><font style="vertical-align: inherit;">Pemanasan di musim dingin, tentu saja, adalah alasan langsung. </font><font style="vertical-align: inherit;">Tidak mungkin mencapai kelembaban 40-50% yang nyaman. </font><font style="vertical-align: inherit;">Namun, bunga di kantor benar-benar memberi plus 10 persen kelembaban dibandingkan dengan ruangan serupa tanpa bunga. </font><font style="vertical-align: inherit;">Jangan lupa menyirami mereka, tentu saja). </font><font style="vertical-align: inherit;">Ngomong-ngomong, dibutuhkan 10-12 liter air untuk menyirami bunga. </font><font style="vertical-align: inherit;">Kantor ini memiliki 13 pot bunga. </font><font style="vertical-align: inherit;">Siram dua kali seminggu. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7. Kegunaan ini dalam segala hal, terus terang, tidak cukup. </font><font style="vertical-align: inherit;">Namun, misalnya, untuk kelas sekolah atau klinik sistem seperti itu mungkin akan lebih bermanfaat.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ct/sl/yg/ctslygn5rw0wym3aqglkzwvrcoe.jpeg"></div></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id391399/">https://habr.com/ru/post/id391399/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id391385/index.html">Tur pertama kantor pusat Blue Origin</a></li>
<li><a href="../id391387/index.html">Mengapa tata surya datar? [Voiceover Vert Dider]</a></li>
<li><a href="../id391389/index.html">–°—á–∞—Å—Ç–ª–∏–≤—ã–π —á–µ–ª–æ–≤–µ–∫, —É—Å–ø–µ–≤—à–∏–π –≤–æ–ø–ª–æ—Ç–∏—Ç—å –≤—Å–µ —Å–≤–æ–∏ –º–µ—á—Ç—ã –∏ –∑–∞–º—ã—Å–ª—ã. –ê–¥–º–∏—Ä–∞–ª-–∏–Ω–∂–µ–Ω–µ—Ä –∏ –∞–∫–∞–¥–µ–º–∏–∫ –ê.–ò. –ë–µ—Ä–≥ –∏ –∫–∏-–±–µ—Ä–≥-–Ω–µ—Ç–∏–∫–∞</a></li>
<li><a href="../id391393/index.html">Madu yang salah: peternak lebah Prancis belajar cara membuat madu rami</a></li>
<li><a href="../id391395/index.html">Penguasa PCB. Garis radio amatir dan crowdfunding di Vkontakte</a></li>
<li><a href="../id391401/index.html">HackerQuest v0.97: ruang pencarian tingkat kesulitan "Nightmare"</a></li>
<li><a href="../id391403/index.html">Kecerdasan nirkabel. Ikhtisar Modul Witty ESP-8266</a></li>
<li><a href="../id391407/index.html">Piala Super Supercup Drone Prix Dunia: Kolam Hadiah $ 1 Juta</a></li>
<li><a href="../id391409/index.html">Studi penyelidikan fajar Ceres selama setahun: penemuan menarik dan teka-teki baru</a></li>
<li><a href="../id391413/index.html">Visualisasi Musik Abad 21: Dari Animusic ke Kotak Musik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>