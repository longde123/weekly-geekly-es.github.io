<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧤 🛤️ 🌥️ Antrian - apa itu, mengapa dan bagaimana menggunakannya? Lihatlah fitur AWS SQS ♒️ 🧗🏼 🚟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pertama, mari kita tentukan konsep "antrian". 
 Pertimbangkan jenis antrian “FIFO” (masuk pertama, keluar pertama). Jika Anda mengambil nilai dari Wik...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Antrian - apa itu, mengapa dan bagaimana menggunakannya? Lihatlah fitur AWS SQS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457068/"><img src="https://habrastorage.org/webt/zw/yz/pq/zwyzpqk1p65bfsq6xzvqab7rt60.png"><br><h3>  <b>Pertama, mari kita tentukan konsep "antrian".</b> </h3><br>  Pertimbangkan jenis antrian <b>“FIFO”</b> (masuk pertama, keluar pertama).  Jika Anda mengambil nilai dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Wikipedia</a> - "ini adalah tipe data abstrak dengan disiplin akses ke elemen."  Singkatnya, ini berarti bahwa kita tidak bisa mendapatkan data darinya secara acak, tetapi hanya mengambil apa yang datang terlebih dahulu. <br><br><h3>  Selanjutnya, Anda perlu memutuskan mengapa mereka dibutuhkan sama sekali? </h3><br>  <b>1. Untuk operasi yang ditangguhkan.</b>  Contoh klasik adalah pemrosesan gambar.  Misalnya, seorang pengguna mengunggah gambar ke situs yang perlu kami proses, operasi ini membutuhkan banyak waktu, pengguna tidak ingin menunggu terlalu lama.  Karena itu, kami memuat gambar, lalu mentransfernya ke antrian.  Dan itu akan diproses ketika ada "pekerja" yang mendapatkannya. <br><br>  <b>2. Untuk menangani beban puncak.</b>  Misalnya, ada beberapa bagian dari sistem yang terkadang menyebabkan banyak lalu lintas dan tidak memerlukan respons instan.  Sebagai opsi, menghasilkan laporan apa pun.  Melemparkan tugas ini dalam antrian - kami memberikan kesempatan untuk menanganinya dengan beban seragam pada sistem. <br><br>  <b>3. Skalabilitas.</b>  Dan mungkin alasan terpenting, antrian memungkinkan <br>  meningkatkan skala.  Ini berarti bahwa Anda dapat memunculkan beberapa layanan untuk diproses secara paralel, yang akan sangat meningkatkan produktivitas. <br><a name="habracut"></a><br><h3>  Sekarang mari kita lihat masalah yang akan kita hadapi jika kita membuat antrian sendiri: </h3><br>  <b>1. Akses paralel.</b>  Hanya satu pawang yang dapat mengambil pesan dari antrian.  Artinya, jika pada saat yang sama dua layanan meminta pesan, masing-masing dari mereka harus mengembalikan satu set pesan yang unik.  Kalau tidak, ternyata satu pesan diproses dua kali.  Apa yang bisa penuh. <br><br>  <b>2. Mekanisme deduplikasi.</b>  Layanan harus memiliki sistem yang melindungi antrian dari duplikat.  Mungkin ada situasi di mana satu dan dataset yang sama akan dikirim ke antrian secara kebetulan dua kali.  Akibatnya, kami akan memproses hal yang sama dua kali.  Yang lagi penuh. <br><br>  <b>3. Mekanisme penanganan kesalahan.</b>  Katakanlah layanan kami mengambil tiga pesan dari antrian.  Dua di antaranya ia berhasil diproses dengan mengirimkan permintaan penghapusan dari antrian.  Dan yang ketiga dia tidak bisa memproses dan mati.  Pesan yang dalam status pemrosesan tidak tersedia untuk layanan lain.  Dan seharusnya tidak selamanya tetap dalam status pemrosesan.  Pesan semacam itu harus diteruskan ke penangan lain dengan beberapa logika.  Contoh implementasi logika ini akan dipertimbangkan segera menggunakan AWS SQS (Layanan Antrian Sederhana) sebagai contoh. <br><br><h3>  Layanan Web Amazon - Layanan Antrian Sederhana </h3><br><h4>  Sekarang mari kita lihat bagaimana SQS menyelesaikan masalah ini dan apa yang dapat dilakukannya. </h4><br>  <b>1. Akses paralel.</b>  Pada antrian, Anda dapat mengatur parameter <b>batas waktu Visibilitas</b> .  Ini menentukan berapa lama pemrosesan pesan dapat berlangsung selama mungkin.  Secara default, itu adalah <b>30 detik.</b>  Ketika suatu layanan mengambil pesan, itu ditransfer ke status <b>"Dalam Penerbangan"</b> selama 30 detik.  Jika selama waktu ini tidak ada perintah untuk menghapus pesan ini dari antrian, itu kembali ke awal dan layanan berikutnya dapat menerimanya lagi untuk diproses. <br><br>  <b>Pekerjaan shemka kecil.</b> <br><br><img src="https://habrastorage.org/webt/zx/wj/pd/zxwjpdw6hdsdw8qoinabmifuyzo.png"><br><blockquote>  <b>Perhatikan:</b> Hati-hati.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SQS dalam beberapa kasus dapat mengirim pesan duplikat (Item "Setidaknya-Sekali Pengiriman").</a>  Karena itu, layanan Anda harus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">idempoten</a> untuk diproses. </blockquote><br>  <b>2. Mekanisme penanganan kesalahan.</b>  Di SQS, Anda dapat mengonfigurasi belokan kedua untuk pesan "mati" (Antrian Surat Mati).  Artinya, mereka yang tidak dapat memproses layanan kami akan dikirim ke antrian terpisah, yang dapat Anda buang sesuai kebijakan Anda.  Anda juga dapat mengatur setelah mana jumlah upaya gagal pesan akan masuk ke antrian "mati".  Upaya yang gagal adalah berakhirnya "Batas waktu visibilitas".  Artinya, jika tidak ada permintaan penghapusan yang dikirim selama waktu ini, pesan seperti itu akan dianggap tidak diproses dan akan kembali ke antrian utama atau pergi ke "mati". <br><br>  <b>3. Deduplikasi pesan.</b>  SQS juga memiliki sistem perlindungan duplikat.  Setiap pesan memiliki <b>"Id Deduplikasi"</b> , SQS tidak akan mengantri pesan <br>  mengulangi "Deduplikasi Id" selama 5 menit.  Anda harus menentukan “Id Deduplikasi” di setiap pesan atau mengaktifkan pembuatan id berbasis konten.  Ini berarti bahwa hash yang dihasilkan berdasarkan konten Anda akan masuk ke “Id Deduplikasi”.  Parameter <b>"Deduplikasi Berbasis Konten".</b>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lebih lanjut tentang Deduplikasi</a> <br><blockquote>  <b>Perhatian:</b> Hati-hati jika Anda mengirim dua pesan identik dalam 5 menit dan Anda telah mengaktifkan <b>"Deduplikasi Berbasis Konten".</b> SQS tidak akan menambahkan pesan kedua ke antrian. <br></blockquote><blockquote>  <b>Perhatikan:</b> Hati-hati, misalnya, jika koneksi terputus pada perangkat dan tidak menerima respons dan kemudian mengirim permintaan kedua setelah 5 menit, duplikat akan dibuat. <br></blockquote>  <b>4. Polling panjang.</b>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Survei panjang</a> .  SQS mendukung jenis koneksi ini dengan batas waktu maksimum 20 detik.  Apa yang memungkinkan kita menghemat lalu lintas dan "menyentak" layanan. <br><br>  <b>5. Metrik.</b>  Amazon juga menyediakan metrik antrian terperinci.  Seperti jumlah pesan yang diterima / dikirim / dihapus, ukuran dalam KB dari pesan-pesan ini dan sebagainya.  Anda juga dapat menghubungkan SQS ke layanan log CloudWatch.  Di sana Anda dapat melihat lebih banyak lagi.  Di sana Anda juga dapat mengkonfigurasi apa yang disebut <b>"alarm"</b> dan Anda dapat mengkonfigurasi tindakan untuk setiap peristiwa.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pelajari lebih lanjut tentang menghubungkan ke SQS.</a>  Dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dokumentasi CloudWatch</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><br></a> <br><h3>  Sekarang mari kita lihat pengaturan antrian: </h3><br><h4>  Yang utama: </h4><br>  <b>Batas Waktu Visibilitas Standar -</b> jumlah detik / menit / jam yang pesannya setelah diterima tidak akan terlihat untuk diterima.  Waktu pemrosesan maksimum adalah 12 jam. <br><br>  <b>Periode Retensi Pesan -</b> jumlah detik / menit / jam / hari, yang berarti berapa lama pesan yang belum diproses akan disimpan dalam antrian.  Maksimal - 14 hari. <br><br>  <b>Ukuran Pesan Maksimum -</b> ukuran pesan maksimum dalam KB.  Nilainya mulai dari 1KB hingga 256KB. <br><br>  <b>Keterlambatan pengiriman -</b> Anda dapat mengatur waktu tunda untuk mengirim pesan ke antrian.  Dari 0 detik hingga 15 menit (Faktanya, pesan akan berada dalam antrian, tetapi tidak akan terlihat untuk diterima). <br><br>  <b>Terima Waktu Tunggu Pesan -</b> waktu, berapa lama koneksi akan bertahan jika kita menggunakan "Polling panjang" untuk menerima pesan baru. <br><br>  <b>Deduplikasi Berbasis Konten -</b> bendera, jika disetel ke true, maka "Deduplikasi Id" akan ditambahkan ke setiap pesan dalam bentuk hash SHA-256 yang dihasilkan dari konten. <br><br><h4>  Pengaturan Antrian Mati </h4><br>  <b>Gunakan Kebijakan Redrive -</b> bendera, jika disetel, maka pesan akan dialihkan setelah beberapa upaya. <br><br>  <b>Dead Letter Queue -</b> nama antrian "mati" yang akan dikirimi pesan mentah. <br><br>  <b>Penerimaan Maksimum -</b> jumlah upaya pemrosesan yang gagal, setelah itu pesan akan dikirim ke antrian "mati" <br><blockquote>  <b>Perhatikan: Perhatikan</b> juga bahwa kami dapat mengirim semua parameter utama bersama dengan setiap pesan secara terpisah.  Misalnya, setiap pesan individu mungkin memiliki <b>Batas Waktu Visibilitas</b> atau <b>Keterlambatan Pengiriman sendiri.</b> </blockquote><h3>  Sekarang sedikit tentang pesan itu sendiri dan propertinya: </h3><br>  Pesan memiliki beberapa parameter: <br><br>  <b>1. Badan pesan -</b> teks apa saja <br>  <b>2. Id Grup Pesan adalah</b> sesuatu seperti tag, saluran, yang diperlukan untuk semua pesan.  Setiap grup tersebut dijamin akan diproses dalam mode FIFO. <br>  <b>3. Pesan Deduplikasi Pesan -</b> string untuk mengidentifikasi duplikat.  Jika mode "Deduplikasi Berbasis Konten" diatur, parameternya opsional. <br><br><h4>  Ada juga atribut pesan </h4><br>  Atribut terdiri dari nama, jenis, dan nilai. <br><br>  <b>1. Nama -</b> string <br>  <b>2. Jenis -</b> ada beberapa jenis: string, angka, biner.  Tipe ini datang hanya sebagai string, dan dimungkinkan untuk menambahkan postfix ke tipe tersebut.  Dalam hal ini, tipe akan datang dengan postfix ini melalui titik, misalnya string.example_postfix <br>  <b>3. Nilai -</b> string <br><blockquote>  <b>Perhatikan:</b> Harap dicatat bahwa jumlah maksimum atribut adalah <b>10</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Detail</a> </blockquote>  PS: Artikel ini menyediakan deskripsi singkat tentang antrian, serta sedikit tentang kemampuan dan mekanisme SQS.  Artikel berikut akan dikhususkan untuk <b>AWS Lambda</b> , dan kemudian berbagi praktisnya. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id457068/">https://habr.com/ru/post/id457068/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id457058/index.html">Mengubah hasil tayangan menjadi klik untuk Google dan Yandex pada tahun 2019</a></li>
<li><a href="../id457060/index.html">Tiga video untuk penulis iOS</a></li>
<li><a href="../id457062/index.html">Pusat Pelatihan Kosmonot di Star City</a></li>
<li><a href="../id457064/index.html">Untuk pertanyaan tentang modul</a></li>
<li><a href="../id457066/index.html">Cara memodifikasi robot FEDOR dan kursi penerbangan ISS</a></li>
<li><a href="../id457070/index.html">Textolite bukan karton. Beberapa kata tentang lencana interaktif OFFZONE 2019</a></li>
<li><a href="../id457072/index.html">Cara mengatasi masalah lama menggunakan ML dalam Python dan .Net</a></li>
<li><a href="../id457074/index.html">Evolusi pengembang: game apa yang harus kita harapkan di masa depan</a></li>
<li><a href="../id457078/index.html">Cara mengubah avatar Telegram Anda menjadi arloji</a></li>
<li><a href="../id457082/index.html">Pemberian hak administrator yang tidak sensitif</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>