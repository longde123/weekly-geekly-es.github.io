<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî© ‚öúÔ∏è üéÖüèæ Ateliers √† Wireshark üèÇüèΩ üèóÔ∏è üéã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Julia Evans, l'auteur du mat√©riel que nous publions aujourd'hui, a d√©cid√© de parler de l'un de ses outils r√©seau pr√©f√©r√©s appel√© Wireshark . Il s'agit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ateliers √† Wireshark</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/416537/">  Julia Evans, l'auteur du mat√©riel que nous publions aujourd'hui, a d√©cid√© de parler de l'un de ses outils r√©seau pr√©f√©r√©s appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wireshark</a> .  Il s'agit d'un programme puissant et complexe, √©quip√© d'une interface graphique, con√ßu pour analyser le trafic dans les r√©seaux informatiques.  Julia dit qu'en pratique, elle n'utilise que quelques-unes des fonctionnalit√©s de Wireshark, mais elles sont g√©n√©ralement utiles.  Ici, elle veut partager avec tous ceux qui souhaitent une histoire sur les m√©thodes les plus utiles de travailler avec le programme et esp√®re qu'ils seront utiles non seulement pour elle, mais aussi pour tous ceux qui doivent r√©soudre des probl√®mes de r√©seau. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/rz/ag/uw/rzaguwsi5logcjjqkre-sglko0o.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Installer Wireshark</font> </h2><br>  Les distributions Wireshark pour divers syst√®mes d'exploitation peuvent √™tre trouv√©es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Pour installer le programme, vous pouvez t√©l√©charger et installer le fichier correspondant.  Alternativement, si vous utilisez des distributions Linux bas√©es sur Debian, vous pouvez utiliser la commande <code>sudo apt install wireshark</code> .  Si vous le souhaitez, afin de trouver la derni√®re version du programme, vous pouvez vous r√©f√©rer √† l'archive personnelle des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">packages cableshark-dev</a> . <br><br>  Voici √† quoi ressemble l'interface du programme. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/485/d33/40c/485d3340cca2688b2d8460c7263b1d31.png"></div><br>  <i><font color="#999999">Interface Wireshark</font></i> <br><br>  √Ä premi√®re vue, tout cela peut sembler trop compliqu√©: une longue liste de packages, un champ myst√©rieux pour saisir des requ√™tes ... Comment travailler avec Wireshark? <br><br><h2>  <font color="#3AC1EF">Analyse des fichiers pcap</font> </h2><br>  J'utilise g√©n√©ralement Wireshark pour trouver les causes des probl√®mes de r√©seau.  La s√©quence d'actions ex√©cut√©e au cours de la r√©solution de ces probl√®mes ressemble √† ceci: <br><br><ol><li>  Capturez des paquets avec <code>tcpdump</code> (g√©n√©ralement avec une commande comme <code>sudo tcpdump port 443 -w output.pcap</code> ). </li><li>  Copie du fichier pcap sur un ordinateur portable fonctionnel ( <code>scp host:~/output.pcap .</code> ). </li><li>  Ouverture d'un fichier pcap √† l'aide de Wireshark ( <code>wireshark output.pcap</code> ). </li></ol><br>  Comme vous pouvez le voir, tout est tr√®s simple.  Cependant, apr√®s l'ouverture du fichier pcap dans le programme, vous pouvez avoir une question logique sur ce qu'il faut faire avec tout cela.  Parlons-en. <br><br><h2>  <font color="#3AC1EF">Analyse de connexion TCP</font> </h2><br>  Souvent, lorsque j'analyse une certaine situation dans Wireshark, je dois v√©rifier une connexion TCP sp√©cifique, avec laquelle, pour une raison quelconque, quelque chose ne va pas.  Gr√¢ce √† Wireshark, vous pouvez analyser l'ensemble du cycle de vie d'une connexion TCP individuelle et d√©couvrir les causes d'un comportement incorrect du syst√®me. <br><br>  Pour ce faire, cliquez avec le bouton droit sur le package qui vous int√©resse et choisissez la commande <code>Conversation filter &gt; TCP</code> dans le menu contextuel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a9a/1ce/e15/a9a1cee15deb7869196dc71cee5800af.png"></div><br>  <i><font color="#999999">Lancer l'analyse de connexion TCP</font></i> <br><br>  Apr√®s cela, Wireshark affichera les autres paquets de la m√™me connexion TCP √† laquelle appartient le paquet sur lequel vous avez cliqu√©.  Dans la figure ci-dessous, vous pouvez voir un exemple de connexion SSL r√©ussie - il existe <code>client hello</code> packages <code>client hello</code> <code>service hello</code> , <code>certificate</code> , <code>server key exchange</code> qui sont utilis√©s pour √©tablir des connexions SSL. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/53e/bfc/ae9/53ebfcae9417574c6423124725e6a373.png"></div><br>  <i><font color="#999999">Analyse de connexion TCP</font></i> <br><br>  La technique d'analyse de paquets TCP discut√©e ici que j'ai d√ª utiliser le jour de la r√©daction de cet article, au travail.  Certaines connexions ont √©t√© abandonn√©es et j'ai remarqu√© qu'apr√®s avoir envoy√© le paquet <code>client hello</code> , le <code>client hello</code> envoy√© le paquet <code>FIN ACK</code> , qui a mis fin √† la connexion TLS.  Ce que j'ai r√©ussi √† d√©couvrir s'est av√©r√© utile, car il est devenu clair que le client et non le serveur mettaient fin √† la connexion.  En cons√©quence, j'ai imm√©diatement d√©couvert que le probl√®me venait du client et je devais y pr√™ter attention. <br><br>  Ce qui pr√©c√®de est un sch√©ma tr√®s typique pour moi de travailler avec Wireshark.  Habituellement, le client et le serveur sont impliqu√©s dans la connexion et quelque chose ne va pas sur le client ou sur le serveur.  Cela peut √™tre, par exemple, une sorte d'√©chec ou d'erreur dans les param√®tres syst√®me.  En cons√©quence, Wireshark me fournit une aide inestimable pour identifier le coupable des probl√®mes, en aidant √† savoir s'il s'agit d'un client ou d'un serveur. <br><br><h2>  <font color="#3AC1EF">D√©coder en √©quipe</font> </h2><br>  Afin de comprendre exactement ce qu'est un package particulier, Wireshark utilise des num√©ros de port, et cette approche fonctionne g√©n√©ralement.  Par exemple, si un programme voit du trafic sur le port 80, il d√©cide que c'est du trafic HTTP et c'est g√©n√©ralement le cas. <br><br>  Cependant, parfois les connexions HTTP utilisent des ports inhabituels et, par cons√©quent, Wireshark a besoin d'indices pour les reconna√Ætre.  De tels conseils peuvent √™tre donn√©s au programme en appelant le menu contextuel du package et en s√©lectionnant la commande <code>Decode as</code> .  De plus, vous pouvez indiquer √† Wireshark quel protocole est utilis√© pour transmettre des paquets en utilisant un certain port.  Ces conseils simplifient l'analyse des donn√©es. <br><br><h2>  <font color="#3AC1EF">Afficher le contenu de l'emballage</font> </h2><br>  Dans Wireshark, il existe simplement un mode agr√©able pour afficher des informations d√©taill√©es sur un package, avec lequel vous pouvez comprendre le contenu de n'importe quel package.  Prenez, par exemple, le package avec le message <code>client hello</code> du <code>client hello</code> de l'exemple pr√©c√©dent.  Il s'agit du premier paquet de connexion SSL, le client avec son aide comme s'il disait: ¬´Bonjour!  Me voici! " <br><br>  Wireshark fournit √† l'administrateur r√©seau deux outils incroyablement utiles pour examiner le contenu d'un package.  Le premier est un mode d'affichage dans lequel vous pouvez √©tendre les en-t√™tes disponibles pour le paquet (par exemple, en-t√™te Ethernet, en-t√™te IP, en-t√™te TCP) et afficher leur contenu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a2f/990/77a/a2f99077a2e3cdb10652ad3a387103f0.png"></div><br>  <i><font color="#999999">Analyse d'en-t√™te de package</font></i> <br><br>  Le deuxi√®me mode de visualisation des packages est un vrai miracle.  Ici, vous pouvez voir les donn√©es brutes des paquets sous la forme d'une s√©quence d'octets.  Et, ce qui est particuli√®rement agr√©able, si vous passez la souris sur un octet (par exemple, dans la figure ci-dessous, le curseur se trouve sur l'octet inclus dans <code>tiles.services.mozilla.com</code> ), le programme, dans la barre d'√©tat, vous indiquera √† quel champ il appartient. cet octet (dans ce cas, il s'agit du champ <code>Server Name</code> du <code>Server Name</code> ), et du nom de code utilis√© par Wireshark pour ce champ (dans ce cas - <code>ssl.handshake.extensions_server_name</code> ) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d50/6e8/b35/d506e8b3512c273fd66a94796230f4e5.png"></div><br>  <i><font color="#999999">Analyse des donn√©es du package brut</font></i> <br><br><h2>  <font color="#3AC1EF">Recherche de package</font> </h2><br>  Wireshark prend en charge un langage de requ√™te puissant.  Cela simplifie consid√©rablement la recherche de packages sp√©cifiques dans les listes.  Habituellement, lorsque je travaille avec un programme, j'utilise des requ√™tes tr√®s simples.  Voici quelques exemples: <br><br><ul><li>  Le <code>frame contains "mozilla"</code> requ√™te <code>frame contains "mozilla"</code> vous permet de rechercher la ligne <code>mozilla</code> n'importe o√π dans le package et de r√©pertorier les packages trouv√©s. </li><li>  La <code>tcp.port == 443</code> affiche les paquets utilisant le port TCP 443. </li><li>  La requ√™te <code>dns.resp.len &gt; 0</code> affiche toutes les r√©ponses DNS </li><li>  La <code>ip.addr == 52.7.23.87</code> affiche les paquets dont l'adresse IP source ou de destination est 52.7.23.87. </li></ul><br>  Le langage de requ√™te Wireshark a des capacit√©s beaucoup plus grandes que le langage de requ√™te <code>tcpdump</code> (et, en outre, prend en charge la saisie semi-automatique en appuyant sur la touche TAB).  Par cons√©quent, j'utilise souvent la s√©quence d'actions suivante: je capture une grande quantit√© de paquets √† l'aide de <code>tcpdump</code> (disons, quelque chose comme tous les paquets du port 443), puis je les √©tudie attentivement √† l'aide de Wireshark. <br><br><h2>  <font color="#3AC1EF">Afficher les d√©tails de la dur√©e de la connexion TCP</font> </h2><br>  Parfois, je dois porter une attention particuli√®re √† l'√©tude des connexions TCP lentes.  Comment faire, √† condition que dans mon fichier il y ait des enregistrements de milliers de paquets?  Comment trouver des connexions TCP lentes? <br><br>  Si vous s√©lectionnez <code>Statistics</code> dans le menu principal du programme et la commande <code>Conversations</code> qu'il contient, Wireshark nous fournira un merveilleux ensemble d'informations statistiques. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e1a/477/968/e1a477968ed8e4473600709d927efe58.png"></div><br>  <i><font color="#999999">Informations statistiques</font></i> <br><br>  En particulier, ici, dans la colonne <code>Duration</code> , vous pouvez voir la dur√©e des connexions TCP, identifier les plus longues et les √©tudier attentivement.  C'est une fonctionnalit√© tr√®s utile. <br><br><h2>  <font color="#3AC1EF">Mise √† jour de Wireshark</font> </h2><br>  Si vous n'avez pas mis √† jour Wireshark depuis longtemps, cela vaut la peine de le faire.  Par exemple, r√©cemment, sur un ordinateur portable fonctionnel, je faisais des recherches sur les paquets HTTP / 2.  Ce n'√©tait pas facile pour moi √† l'√©poque, et j'ai d√©cid√© de regarder la documentation.  Il s'est av√©r√© que j'avais une ancienne version du programme.  Dans la mise √† jour que j'ai install√©e, le support HTTP / 2 a √©t√© s√©rieusement am√©lior√©, c'est-√†-dire qu'il y avait juste ce dont j'avais besoin √† l'√©poque. <br><br><h2>  <font color="#3AC1EF">Utilisation de Wireshark pour apprendre les protocoles r√©seau</font> </h2><br>  Cet article contient des termes qui peuvent √™tre attribu√©s √† quelque chose comme le jargon des sp√©cialistes des r√©seaux.  Par exemple - trame, port TCP (port TCP), r√©ponse DNS (r√©ponse DNS), adresse IP source (adresse IP source), connexions SSL du paquet <code>client hello</code> (bonjour client SSL).  L'une des raisons de leur utilisation est le fait que Wireshark n'essaie certainement pas de prot√©ger l'utilisateur contre les subtilit√©s de la structure interne des technologies de r√©seau.  Pour un d√©butant, cet √©tat de fait peut, dans un premier temps, vous faire penser que Wireshark n'est pas un programme pour lui, mais uniquement pour des sp√©cialistes r√©seau exp√©riment√©s. <br><br>  L'accent mis par Wireshark sur les m√©canismes de r√©seau de bas niveau pr√©sente cependant un avantage majeur.  Le fait est qu'en travaillant avec ce programme, vous pouvez apprendre quelque chose de nouveau sur les protocoles r√©seau.  Par exemple, je ne connais pas grand-chose aux m√©canismes internes du protocole TLS / SSL.  Cependant, en analysant le trafic dans Wireshark, j'ai remarqu√© que les deux premiers paquets de la connexion SSL sont <code>client hello</code> et <code>server hello</code> .  En cons√©quence, le protocole, qui, si l'on ne se penche pas sur les d√©tails de son travail, semble myst√©rieux et inaccessible √† la compr√©hension, commence √† prendre une forme plus compr√©hensible, se transforme en quelque chose qui peut √™tre compris et analys√©. <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Wireshark a d'√©normes opportunit√©s.  Ici, nous n'avons parl√© que de certains d'entre eux.  Cependant, selon l'auteur du document, les m√©thodes de travail discut√©es ici sont utilis√©es dans environ 95% des situations o√π Wireshark est n√©cessaire.  Par cons√©quent, nous esp√©rons que m√™me le peu que vous avez appris aujourd'hui vous sera utile. <br><br>  <b>Chers lecteurs!</b>  Utilisez-vous Wireshark? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr416537/">https://habr.com/ru/post/fr416537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr416525/index.html">Secrets d'une conception r√©ussie de l'IP (syst√®me d'information) sur l'exemple de la construction d'un h√¥pital</a></li>
<li><a href="../fr416527/index.html">Virgin Galactic a accept√© d'utiliser le port spatial italien</a></li>
<li><a href="../fr416531/index.html">Formation sur la durabilit√© GAN</a></li>
<li><a href="../fr416533/index.html">Le condens√© de mati√®res fra√Æches du monde du front-end de la derni√®re semaine n ¬∞ 322 (2 - 8 juillet 2018)</a></li>
<li><a href="../fr416535/index.html">√âv√©nements num√©riques √† Moscou du 9 au 15 juillet</a></li>
<li><a href="../fr416539/index.html">15 propri√©t√©s et m√©thodes peu connues des objets DOM</a></li>
<li><a href="../fr416541/index.html">Foire aux questions sur les √©nergies renouvelables, partie 2</a></li>
<li><a href="../fr416543/index.html">PHP Digest n ¬∞ 134 (24 juin - 8 juillet 2018)</a></li>
<li><a href="../fr416545/index.html">Tranche d'exp√©rience personnelle: d√©veloppement, pull demandes, commits, comp√©tences logicielles</a></li>
<li><a href="../fr416547/index.html">Rostec quitte Yota Devices, un smartphone avec deux √©crans sera propos√© aux abonn√©s de l'agence de presse Xinhua</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>