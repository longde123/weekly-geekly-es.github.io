<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé° üßùüèª üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® Wir k√§mpfen mit zu gro√üen Nachrichten in Elm-Anwendungen üë©üèæ‚Äç‚öñÔ∏è üîØ ü¶ó</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Laut Elm Architecture ist die gesamte Anwendungslogik an einem Ort konzentriert. Dies ist ein ziemlich einfacher und praktischer Ansatz, aber mit dem ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir k√§mpfen mit zu gro√üen Nachrichten in Elm-Anwendungen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455553/"><p> Laut Elm Architecture ist die gesamte Anwendungslogik an einem Ort konzentriert.  Dies ist ein ziemlich einfacher und praktischer Ansatz, aber mit dem Wachstum der Anwendung k√∂nnen Sie die <code>update</code> mit einer L√§nge von 700 Zeilen sehen, <code>Msg</code> mit hundert Konstruktoren und <code>Model</code> , die nicht auf den Bildschirm passt. </p><br><p>  Ein solcher Code ist ziemlich schwer zu lernen und wird oft gepflegt.  Ich m√∂chte eine sehr einfache Technik demonstrieren, die den Grad der Abstraktionen in Ihrer Anwendung verbessert. </p><a name="habracut"></a><br><p>  Schauen wir uns ein einfaches Beispiel an. </p><br><p>  Erstellen Sie zun√§chst eine kleine Anwendung mit nur einem Textfeld.  Den vollst√§ndigen Code finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . </p><br><pre> <code class="plaintext hljs">type alias Model = { name : String } view : Model -&gt; Html Msg view model = div [] [ input [ placeholder "Name", value model.name, onInput ChangeName ] [] ] type Msg = ChangeName String update : Msg -&gt; Model -&gt; Model update msg model = case msg of ChangeName newName -&gt; { model | name = newName }</code> </pre> <br><p>  Die Anwendung w√§chst, wir f√ºgen den Nachnamen "√ºber uns" und die Schaltfl√§che "Speichern" hinzu.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier verpflichten</a> . </p><br><pre> <code class="plaintext hljs">type alias Model = { name : String , surname : String , bio : String } view : Model -&gt; Html Msg view model = div [] [ input [ placeholder "Name", value model.name, onInput ChangeName ] [] , br [] [] , input [ placeholder "Surname", value model.surname, onInput ChangeSurname ] [] , br [] [] , textarea [ placeholder "Bio", onInput ChangeBio, value model.bio ] [] , br [] [] , button [ onClick Save ] [ text "Save" ] ] type Msg = ChangeName String | ChangeSurname String | ChangeBio String | Save update : Msg -&gt; Model -&gt; Model update msg model = case msg of ChangeName newName -&gt; { model | name = newName } ChangeSurname newSurname -&gt; { model | surname = newSurname } ChangeBio newBio -&gt; { model | bio = newBio } Save -&gt; ...</code> </pre> <br><p>  Nichts Bemerkenswertes, alles ist gut. </p><br><p>  Die Komplexit√§t nimmt jedoch dramatisch zu, wenn wir beschlie√üen, unserer Seite eine weitere Komponente hinzuzuf√ºgen, die v√∂llig unabh√§ngig von der vorhandenen ist - das Formular f√ºr den Hund.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Festschreiben</a> </p><br><pre> <code class="plaintext hljs">type Msg = ChangeName String | ChangeSurname String | ChangeBio String | Save | ChangeDogName String | ChangeBreed String | ChangeDogBio String | SaveDog update : Msg -&gt; Model -&gt; Model update msg model = case msg of ChangeName newName -&gt; { model | name = newName } ChangeSurname newSurname -&gt; { model | surname = newSurname } ChangeBio newBio -&gt; { model | bio = newBio } Save -&gt; ... ChangeDogName newName -&gt; { model | dogName = newName } ChangeBreed newBreed -&gt; { model | breed = newBreed } ChangeDogBio newBio -&gt; { model | dogBio = newBio } SaveDog -&gt; ...</code> </pre> <br><p>  Bereits zu diesem Zeitpunkt k√∂nnen Sie sehen, dass <code>Msg</code> zwei "Gruppen" von Nachrichten enth√§lt.  Mein "programmatisches Flair" legt nahe, dass solche Dinge abstrahiert werden m√ºssen.  Was passiert, wenn 5 weitere Komponenten erscheinen?  Was ist mit Unterkomponenten?  Es wird fast unm√∂glich sein, in diesem Code zu navigieren. </p><br><p>  K√∂nnen wir diese zus√§tzliche Abstraktionsebene einf√ºhren?  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nat√ºrlich</a> ! </p><br><pre> <code class="plaintext hljs">type Msg = HoomanEvent HoomanMsg | DoggoEvent DoggoMsg type HoomanMsg = ChangeHoomanName String | ChangeHoomanSurname String | ChangeHoomanBio String | SaveHooman type DoggoMsg = ChangeDogName String | ChangeDogBreed String | ChangeDogBio String | SaveDog update : Msg -&gt; Model -&gt; Model update msg model = case msg of HoomanEvent hoomanMsg -&gt; updateHooman hoomanMsg model DoggoEvent doggoMsg -&gt; updateDoggo doggoMsg model updateHooman : HoomanMsg -&gt; Model -&gt; Model updateHooman msg model = case msg of ChangeHoomanName newName -&gt; { model | name = newName } -- Code skipped -- updateDoggo : DoggoMsg -&gt; Model -&gt; Model -- Code skipped -- view : Model -&gt; Html Msg view model = div [] [ h3 [] [ text "Hooman" ] , input [ placeholder "Name", value model.name, onInput (HoomanEvent &lt;&lt; ChangeHoomanName) ] [] , -- Code skipped -- , button [ onClick (HoomanEvent SaveHooman) ] [ text "Save" ] , h3 [] [ text "Doggo" ] , input [ placeholder "Name", value model.dogName, onInput (DoggoEvent &lt;&lt; ChangeDogName) ] [] , -- Code skipped -- ]</code> </pre> <br><p>  Unter Verwendung des Elm-Typsystems haben wir unsere Nachrichten in zwei Typen unterteilt: Mensch und Hund.  Jetzt wird der Schwellenwert f√ºr die Eingabe dieses Codes viel einfacher.  Sobald ein Entwickler etwas an einer der Komponenten √§ndern muss, kann er anhand der Typstruktur sofort bestimmen, welche Teile des Codes er ben√∂tigt.  M√ºssen Sie der Aufbewahrung von Hundeinformationen Logik hinzuf√ºgen?  Schauen Sie sich die Nachrichten an und starten Sie eine Suche nach ihnen. </p><br><p>  Stellen Sie sich vor, Ihr Code ist eine gro√üe Referenz.  Wie suchen Sie nach den Informationen, die Sie interessieren?  Nach Inhaltsverzeichnis (Nachricht und Modell).  Wird es Ihnen leicht fallen, im Inhaltsverzeichnis zu navigieren, ohne in Abschnitte und Unterabschnitte zu unterteilen?  Kaum. </p><br><h3 id="zaklyuchenie">  Fazit </h3><br><p>  Dies ist eine √§u√üerst einfache Technik, die √ºberall verwendet werden kann und sich recht einfach in vorhandenen Code einbetten l√§sst.  Das Refactoring einer vorhandenen Anwendung ist dank statischer Typisierung und unseres bevorzugten Ulmen-Compilers v√∂llig problemlos. </p><br><p>  Nachdem Sie nur eine Stunde Ihrer Zeit verbracht haben (wir haben weniger als 20 Minuten f√ºr jede Anwendung in unserem Projekt aufgewendet), k√∂nnen Sie die Lesbarkeit Ihres Codes erheblich verbessern und den Standard f√ºr das zuk√ºnftige Schreiben festlegen.  Nicht der Code, mit dem Fehler leicht korrigiert werden k√∂nnen, ist gut, sondern derjenige, der Fehler verbietet und ein Beispiel daf√ºr gibt, wie der Code geschrieben werden soll. </p><br><p>  Genau die gleiche Technik kann auf das <code>Model</code> angewendet werden, wobei die erforderlichen Informationen in Typen hervorgehoben werden.  In unserem Beispiel kann das Modell beispielsweise nur in zwei Typen unterteilt werden: <code>Hooman</code> und <code>Doggo</code> , wodurch die Anzahl der Felder im Modell auf zwei reduziert wird. </p><br><p>  Gott sch√ºtze das Ulmensystem. </p><br><p>  PS-Repository mit Code finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier,</a> wenn Sie Unterschiede sehen m√∂chten </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de455553/">https://habr.com/ru/post/de455553/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de455539/index.html">Mobile Hellseher: 10 neue Fakten dar√ºber, wie tragbare Ger√§te Sie beobachten</a></li>
<li><a href="../de455543/index.html">Ist Kubernetes Cluster einfach und bequem vorzubereiten? Addon-Operator ank√ºndigen</a></li>
<li><a href="../de455545/index.html">Bauprozesse von Grund auf neu: Vom Chaos zur Ordnung</a></li>
<li><a href="../de455547/index.html">Internet der Dinge auf Russisch. Basisband Hotel LoRaWAN f√ºr RTL-SDR-Besitzer</a></li>
<li><a href="../de455549/index.html">So verwenden Sie Facebook-Gruppen zur Werbung: Erstellen Sie ein Web</a></li>
<li><a href="../de455555/index.html">St√ºck f√ºr den mechanischen Manager</a></li>
<li><a href="../de455559/index.html">Wie kann ein Quantencomputer in moderne Verschl√ºsselungssysteme eindringen und die Kosten der Ammoniakproduktion senken?</a></li>
<li><a href="../de455563/index.html">Kleinunternehmen: Automatisieren oder nicht?</a></li>
<li><a href="../de455565/index.html">Kann der Geist das Universum vort√§uschen?</a></li>
<li><a href="../de455569/index.html">Wir laden Sie zur Tarantool-Konferenz am 17. Juni ein</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>