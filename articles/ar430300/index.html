<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คถ ๐ง ๐จโ๐จโ๐ฆโ๐ฆ Microservices on Go ูุน ูุฌููุนุฉ Go: ููุฏูุฉ ๐ฉ๐ฟโ๐พ ๐ ๐๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ูุฐู ุงูููุงูุฉ ุณุฃุตู ุงุณุชุฎุฏุงู ูุฌููุนุฉ ุฃุฏูุงุช Go ุ ููู ูุฌููุนุฉ ูู ุงูุฃุฏูุงุช ูุงูููุชุจุงุช ูุฅูุดุงุก ุฎุฏูุงุช ุตุบูุฑุฉ ุนูู Go. ูุฐู ุงูููุงูุฉ ููุฏูุฉ ููุฌููุนุฉ ุฃุฏูุงุช Go. ุงูุฌุฒุก ุงูุฃ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Microservices on Go ูุน ูุฌููุนุฉ Go: ููุฏูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430300/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูููุงูุฉ ุณุฃุตู ุงุณุชุฎุฏุงู ูุฌููุนุฉ ุฃุฏูุงุช Go ุ ููู ูุฌููุนุฉ ูู ุงูุฃุฏูุงุช ูุงูููุชุจุงุช ูุฅูุดุงุก ุฎุฏูุงุช ุตุบูุฑุฉ ุนูู Go.  ูุฐู ุงูููุงูุฉ ููุฏูุฉ ููุฌููุนุฉ ุฃุฏูุงุช Go.  ุงูุฌุฒุก ุงูุฃูู ูู ูุฏููุชู ุ ููุฏ ุงููุตุฏุฑ ููุฃูุซูุฉ ูุชุงุญ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl"> ูุชู ุงุฎุชูุงุฑ Go ุจุดูู ูุชุฒุงูุฏ ูุชุทููุฑ ุงูุฃูุธูุฉ ุงูููุฒุนุฉ ุงูุญุฏูุซุฉ.  ุนูุฏูุง ุชููู ุจุชุทููุฑ ูุธุงู ููุฒุน ุนูู ุงูุณุญุงุจุฉ ุ ูุฏ ุชุญุชุงุฌ ุฅูู ุฏุนู ูุธุงุฆู ูุญุฏุฏุฉ ูุชููุนุฉ ูู ุฎุฏูุงุชู ุ ูุซู: ุจุฑูุชููููุงุช ุงูููู ุงููุฎุชููุฉ ( <em>ุฅูุฎ ุ HTTP ุ gRPC ุ ุฅูุฎ</em> ) ูุชูุณููุงุช ุชุฑููุฒ ุงูุฑุณุงุฆู ููุง ุ ูููุซูููุฉ RPC ุ ูุชุณุฌูู ุ ุงูุชุชุจุน ุ ุงูููุงููุณ ูุงูุชูููุท ุ ููุงุทุนุฉ ุงูุทูุจุงุช ุ ุชุญุฏูุฏ ุนุฏุฏ ุงูุทูุจุงุช ุ ุงูุงูุฏูุงุฌ ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุ ูุญุชู ูุตู ุงูุจููุฉ.  Go ูู ูุบุฉ ุดุงุฆุนุฉ ุจุณุจุจ ุจุณุงุทุชูุง ูููุฌูุง "ูุง ุณุญุฑ" ุ ูุจุงูุชุงูู ูุฅู ุญุฒู Go ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุชุจุฉ ููุงุณูุฉ ุ ูู ุจุงููุนู ุฃูุซุฑ ููุงุกูุฉ ูุชุทููุฑ ุฃูุธูุฉ ููุฒุนุฉ ูู ุงุณุชุฎุฏุงู ุฅุทุงุฑ ูุงูู ูุน ุงููุซูุฑ ูู "ุงูุณุญุฑ ุชุญุช ุบุทุงุก ุงููุญุฑู".  ุฃูุง ุดุฎุตูุงู [ <em>ุชูุฑูุจูุง.</em>  <em>ุนุจุฑ.</em>  <em>Shiju Varghese</em> ] ุฃูุง ูุง ุฃุคูุฏ ุงุณุชุฎุฏุงู ุฃุทุฑ ุงูุนูู ุงููุงููุฉ ุ ุฃูุถู ุงุณุชุฎุฏุงู ุงูููุชุจุงุช ุงูุชู ุชููุญ ุงููุฒูุฏ ูู ุงูุญุฑูุฉ ูููุทูุฑ.  ููุฃุช ูุฌููุนุฉ Go ุงููุฌูุฉ ูู ุงููุธุงู ุงูุจูุฆู Go ุ ููุง ูุฌุนู ูู ุงููููู ุงุณุชุฎุฏุงู ูุฌููุนุฉ ูู ุงูููุชุจุงุช ูุงูุญุฒู ุนูุฏ ุฅูุดุงุก ุงูุฎุฏูุงุช ุงูุฏูููุฉ ุ ูุงูุชู ุจุฏูุฑูุง ุชุณูุญ ุจุงุณุชุฎุฏุงู ุงููุจุงุฏุฆ ุงูุฌูุฏุฉ ูุชุตููู ุงูุฎุฏูุงุช ุงููุฑุฏูุฉ ูู ุงูุฃูุธูุฉ ุงูููุฒุนุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0d0/826/505/0d082650579f840f84d034c10c48e013.png" alt="ุงูุตูุฑุฉ"></p><br><h3 id="vvedenie-v-go-kit" style=";text-align:right;direction:rtl">  ููุฏูุฉ ููุฌููุนุฉ ุฃุฏูุงุช Go </h3><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Go kit</a> ุนุจุงุฑุฉ ุนู ูุฌููุนุฉ ูู ุญุฒู Go ุงูุชู ุชุฌุนู ูู ุงูุณูู ุฅูุดุงุก ุฎุฏูุงุช ุฏูููุฉ ููุซููุฉ ููุฏุนููุฉ.  ุชููุฑ Go kit ููุชุจุงุช ูุชูููุฐ ููููุงุช ูุชููุนุฉ ูู ุจููุฉ ุชุทุจูู ุดูุงูุฉ ูููุซููุฉ ุ ุจุงุณุชุฎุฏุงู ุทุจูุงุช ูุซู: ุชุณุฌูู ุงูุฏุฎูู ุ ูุงูููุงููุณ ุ ูุงูุชุชุจุน ุ ูุงูุญุฏ ูู ุทูุจุงุช ุงูููุงุทุนุฉ ุงูุถุฑูุฑูุฉ ูุชุดุบูู ุงูุฎุฏูุงุช ุงูุตุบูุฑุฉ ุนูู ุงูููุชุฌ.  ูุฌููุนุฉ ุฃุฏูุงุช Go ุฌูุฏุฉ ูุฃููุง ุชุญุชูู ุนูู ุฃุฏูุงุช ุฌูุฏุฉ ุงูุชูููุฐ ููุชูุงุนู ูุน ูุฎุชูู ุงูุจูู ุงูุชุญุชูุฉ ูุชูุณููุงุช ุชุฑููุฒ ุงูุฑุณุงุฆู ูุทุจูุงุช ุงูููู ุงููุฎุชููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ูุฌููุนุฉ ุงูููุชุจุงุช ูุฎุฏูุงุช ุงูุนุงูู ุงููุงูู ุ ูุฅูู ูููุฑ ููุดุฌุน ุนูู ุงุณุชุฎุฏุงู ุงููุจุงุฏุฆ ุงูุฌูุฏุฉ ูุชุตููู ุจููุฉ ุฎุฏูุงุชู.  ุชุณุงุนุฏู ูุฌููุนุฉ ุฃุฏูุงุช Go ุนูู ุงูุงูุชุฒุงู ุจูุจุงุฏุฆ SOLID ุ ูุงูููุฌ ุงูููุฌู ูุญู ุงูููุถูุน (DDD) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงูุนูุงุฑุฉ ุงูุณุฏุงุณูุฉ</a> ุงูุชู ุงูุชุฑุญูุง <em>ุฃููุณุชูุฑ ูููุจูุฑู</em> ุฃู ุฃู ููุฌ ุขุฎุฑ ูู ุงููุจุงุฏุฆ ุงููุนูุงุฑูุฉ ุงููุนุฑููุฉ ุจุงุณู " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฏุณุฉ ุงูุจุตู</a> " ูู ูุจู <em>ุฌููุฑู ุจุงููุฑูู</em> ู " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนูุงุฑุฉ ุงููุธููุฉ</a> " ูู ูุจู <em>ุฑูุจุฑุช ุณู ูุงุฑุชู</em> .  ุนูู ุงูุฑุบู ูู ุฃู ูุฌููุนุฉ Go ุชู ุชุตููููุง ููุฌููุนุฉ ูู ุงูุญุฒู ูุชุทููุฑ ุงูุฎุฏูุงุช ุงูุฏูููุฉ ุ ุฅูุง ุฃููุง ููุงุณุจุฉ ุฃูุถูุง ูุชุทููุฑ ูุชุฌุงูุณุฉ ุฃูููุฉ. </p><br><h3 id="arhitektura-go-kit" style=";text-align:right;direction:rtl">  ูุฌููุนุฉ Go Architecture </h3><br><p style=";text-align:right;direction:rtl">  ุงููุณุชููุงุช ุงูุฑุฆูุณูุฉ ุงูุซูุงุซุฉ ูู ุจููุฉ ุงูุชุทุจููุงุช ุงูุชู ุชู ุชุทููุฑูุง ุจุงุณุชุฎุฏุงู ูุฌููุนุฉ ุฃุฏูุงุช Go ูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุณุชูู ุงูููู </li><li style=";text-align:right;direction:rtl">  ูุณุชูู ููุทุฉ ุงูููุงูุฉ </li><li style=";text-align:right;direction:rtl">  ูุณุชูู ุงูุฎุฏูุฉ </li></ul><br><h4 id="transportnyy-uroven" style=";text-align:right;direction:rtl">  ูุณุชูู ุงูููู </h4><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชูุชุจ ุฎุฏูุงุช ุตุบูุฑุฉ ููุฃูุธูุฉ ุงูููุฒุนุฉ ุ ุบุงูุจูุง ูุง ูุชุนูู ุนูู ุงูุฎุฏูุงุช ูููุง ุงูุชูุงุตู ูุน ุจุนุถูุง ุงูุจุนุถ ุจุงุณุชุฎุฏุงู ุจุฑูุชููููุงุช ุงูููู ุงููุฎุชููุฉ ุ ูุซู: HTTP ุฃู gRPC ุ ุฃู ุงุณุชุฎุฏุงู ุฃูุธูุฉ ุงููุดุฑ / ุงููุฑุนูุฉ ุ ูุซู NATS.  ุชุฑุชุจุท ุทุจูุฉ ุงูููู ูู ูุฌููุนุฉ Go ุจุจุฑูุชูููู ููู ูุญุฏุฏ (ูุดุงุฑ ุฅููู ูููุง ุจุนุฏ ุจุงูููู).  ุชุฏุนู ูุฌููุนุฉ ุฃุฏูุงุช ุงูููู ูุณุงุฆู ุงูููู ุงููุฎุชููุฉ ูุฎุฏูุชู ุ ูุซู: HTTP ู gRPC ู NATS ู AMQP ู Thirft ( <em>ุชูุฑูุจูุง. ููููู ุฃูุถูุง ุชุทููุฑ ูุณููุฉ ุงูููู ุงูุฎุงุตุฉ ุจู ูุจุฑูุชููููู</em> ).  ูุฐูู ุ ุบุงูุจูุง ูุง ุชุฑูุฒ ุงูุฎุฏูุงุช ุงูููุชูุจุฉ ุจุงุณุชุฎุฏุงู ูุฌููุนุฉ Go ุนูู ุชูููุฐ ููุทู ุนูู ูุญุฏุฏ ูุง ูุนุฑู ุฃู ุดูุก ุนู ุงูููู ุงููุณุชุฎุฏู ุ ููุฏูู ูุทูู ุงูุญุฑูุฉ ูู ุงุณุชุฎุฏุงู ูุณุงุฆู ููู ูุฎุชููุฉ ูููุณ ุงูุฎุฏูุฉ.  ููุซุงู ุ ูููู ูุฎุฏูุฉ ูุงุญุฏุฉ ููุชูุจุฉ ูู ูุฌููุนุฉ Go ุชูููุฑ ุงููุตูู ุฅูููุง ูู ููุช ูุงุญุฏ ุนุจุฑ HTTP ู gRPC. </p><br><h4 id="endpointy" style=";text-align:right;direction:rtl">  ููุงุท ุงูููุงูุฉ </h4><br><p style=";text-align:right;direction:rtl">  ููุทุฉ ุงูููุงูุฉ ุฃู ููุทุฉ ุงูููุงูุฉ ูู ูุจูุฉ ุงูุจูุงุก ุงูุฃุณุงุณูุฉ ููุฎุฏูุงุช ูุงูุนููุงุก.  ูู ูุฌููุนุฉ ุฃุฏูุงุช Go ุ ูููู ููุท ุงูุงุชุตุงู ุงูุฑุฆูุณู ูู RPC.  ูุชู ุชูุฏูู ููุทุฉ ุงูููุงูุฉ ูุทุฑููุฉ RPC ูููุตูุฉ.  ูุชู ุชุญููู ูู ุทุฑููุฉ ุฎุฏูุฉ ูู ูุฌููุนุฉ Go ุฅูู ููุทุฉ ููุงูุฉ ุ ููุง ูุชูุญ ูู ุงูุชูุงุตู ุจูู ุงูุฎุงุฏู ูุงูุนููู ุจุฃุณููุจ RCP.  ุชูุดู ูู ููุทุฉ ููุงูุฉ ุทุฑููุฉ ุฎุฏูุฉ ุจุงุณุชุฎุฏุงู ุทุจูุฉ ุงูููู ุ ูุงูุชู ุจุฏูุฑูุง ุชุณุชุฎุฏู ุจุฑูุชููููุงุช ููู ูุฎุชููุฉ ุ ูุซู HTTP ุฃู gRPC.  ูููู ูุดู ููุทุฉ ููุงูุฉ ูููุตูุฉ ุฎุงุฑุฌ ุงูุฎุฏูุฉ ูู ููุช ูุงุญุฏ ุจุงุณุชุฎุฏุงู ุงูุนุฏูุฏ ูู ูุณุงุฆู ุงูููู ( <em>ุชูุฑูุจูุง ููู HTTP ู gRPC ุนูู ููุงูุฐ ูุฎุชููุฉ</em> ). </p><br><h4 id="servisy" style=";text-align:right;direction:rtl">  ุงูุฎุฏูุงุช </h4><br><p style=";text-align:right;direction:rtl">  ูุชู ุชูููุฐ ููุทู ุงูุฃุนูุงู ูู ุทุจูุฉ ุงูุฎุฏูุฉ.  ุชู ุชุตููู ุงูุฎุฏูุงุช ุงูููุชูุจุฉ ุจุงุณุชุฎุฏุงู ูุฌููุนุฉ Go ููุงุฌูุงุช.  ูุญุชูู ููุทู ุงูุฃุนูุงู ูู ุทุจูุฉ ุงูุฎุฏูุฉ ุนูู ุฌููุฑ ููุทู ุงูุฃุนูุงู ุงูุฃุณุงุณู ุ ูุงูุฐู ูุง ูุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุฃู ุดูุก ุนู ููุงุท ุงูููุงูุฉ ุงููุณุชุฎุฏูุฉ ุฃู ุจุฑูุชูููู ููู ูุญุฏุฏ ุ ูุซู HTTP ุฃู gRPC ุ ุฃู ุญูู ุทูุจุงุช ุงูุชุฑููุฒ ุฃู ูู ุงูุชุฑููุฒ ูุงูุฑุฏูุฏ ุนูู ุฃููุงุน ูุฎุชููุฉ ูู ุงูุฑุณุงุฆู.  ุณูุณูุญ ูู ุฐูู ุจุงูุงูุชุฒุงู ุจููุฏุณุฉ ูุธููุฉ ูู ุงูุฎุฏูุงุช ุงูููุชูุจุฉ ุจุงุณุชุฎุฏุงู ูุฌููุนุฉ Go.  ูุชู ุชุญููู ูู ุทุฑููุฉ ุฎุฏูุฉ ุฅูู ููุทุฉ ููุงูุฉ ุจุงุณุชุฎุฏุงู ูุญูู ูุชุนุฑูุถูุง ููุฎุงุฑุฌ ุจุงุณุชุฎุฏุงู ูุณููุฉ ููู ูุนููุฉ.  ูู ุฎูุงู ุงุณุชุฎุฏุงู ุงูุนูุงุฑุฉ ุงููุธููุฉ ุ ูููู ุชุนููู ุทุฑููุฉ ูุงุญุฏุฉ ุจุงุณุชุฎุฏุงู ูุณุงุฆู ููู ูุชุนุฏุฏุฉ ูู ููุณ ุงูููุช. </p><br><h3 id="primery" style=";text-align:right;direction:rtl">  ุฃูุซูุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุงูุขู ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุงูุทุจูุงุช ุงูููุถุญุฉ ุฃุนูุงู ุจุงุณุชุฎุฏุงู ูุซุงู ูุชุทุจูู ุจุณูุท. </p><br><h4 id="biznes-logika-v-servise" style=";text-align:right;direction:rtl">  ููุทู ุงูุฃุนูุงู ูู ุงูุฎุฏูุฉ </h4><br><p style=";text-align:right;direction:rtl">  ุชู ุชุตููู ููุทู ุงูุฃุนูุงู ูู ุงูุฎุฏูุฉ ุจุงุณุชุฎุฏุงู ุงููุงุฌูุงุช.  ุณูููู ูุธุฑุฉ ุนูู ูุซุงู ูุฃูุฑ ูู ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ: </p><br><pre style=";text-align:right;direction:rtl"><code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// Service describes the Order service. type Service interface { Create(ctx context.Context, order Order) (string, error) GetByID(ctx context.Context, id string) (Order, error) ChangeStatus(ctx context.Context, id string, status string) error }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุนูู ูุงุฌูุฉ ุฎุฏูุฉ ุงูุทูุจ ูุน ููุงู ูุฌุงู ุงูุทูุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// Order represents an order type Order struct { ID string `json:"id,omitempty"` CustomerID string `json:"customer_id"` Status string `json:"status"` CreatedOn int64 `json:"created_on,omitempty"` RestaurantId string `json:"restaurant_id"` OrderItems []OrderItem `json:"order_items,omitempty"` } // OrderItem represents items in an order type OrderItem struct { ProductCode string `json:"product_code"` Name string `json:"name"` UnitPrice float32 `json:"unit_price"` Quantity int32 `json:"quantity"` } // Repository describes the persistence on order model type Repository interface { CreateOrder(ctx context.Context, order Order) error GetOrderByID(ctx context.Context, id string) (Order, error) ChangeOrderStatus(ctx context.Context, id string, status string) error }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ูููู ุจุชูููุฐ ูุงุฌูุฉ ุฎุฏูุฉ ุงูุทูุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> implementation <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"context"</span></span> <span class="hljs-string"><span class="hljs-string">"database/sql"</span></span> <span class="hljs-string"><span class="hljs-string">"time"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/go-kit/kit/log"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/go-kit/kit/log/level"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/gofrs/uuid"</span></span> ordersvc <span class="hljs-string"><span class="hljs-string">"github.com/shijuvar/gokit-examples/services/order"</span></span> ) <span class="hljs-comment"><span class="hljs-comment">// service implements the Order Service type service struct { repository ordersvc.Repository logger log.Logger } // NewService creates and returns a new Order service instance func NewService(rep ordersvc.Repository, logger log.Logger) ordersvc.Service { return &amp;service{ repository: rep, logger: logger, } } // Create makes an order func (s *service) Create(ctx context.Context, order ordersvc.Order) (string, error) { logger := log.With(s.logger, "method", "Create") uuid, _ := uuid.NewV4() id := uuid.String() order.ID = id order.Status = "Pending" order.CreatedOn = time.Now().Unix() if err := s.repository.CreateOrder(ctx, order); err != nil { level.Error(logger).Log("err", err) return "", ordersvc.ErrCmdRepository } return id, nil } // GetByID returns an order given by id func (s *service) GetByID(ctx context.Context, id string) (ordersvc.Order, error) { logger := log.With(s.logger, "method", "GetByID") order, err := s.repository.GetOrderByID(ctx, id) if err != nil { level.Error(logger).Log("err", err) if err == sql.ErrNoRows { return order, ordersvc.ErrOrderNotFound } return order, ordersvc.ErrQueryRepository } return order, nil } // ChangeStatus changes the status of an order func (s *service) ChangeStatus(ctx context.Context, id string, status string) error { logger := log.With(s.logger, "method", "ChangeStatus") if err := s.repository.ChangeOrderStatus(ctx, id, status); err != nil { level.Error(logger).Log("err", err) return ordersvc.ErrCmdRepository } return nil }</span></span></code> </pre> <br><h4 id="zaprosy-i-otvety-dlya-rpc-endpointov" style=";text-align:right;direction:rtl">  ุทูุจุงุช ูุฅุฌุงุจุงุช ููุงุท ููุงูุฉ RPC </h4><br><p style=";text-align:right;direction:rtl">  ูุชู ูุดู ุทุฑู ุงูุฎุฏูุฉ ูููุงุท ููุงูุฉ RPC.  ูุฐูู ูุญู ุจุญุงุฌุฉ ุฅูู ุชุญุฏูุฏ ุฃููุงุน ุงูุฑุณุงุฆู ( <em>ุชูุฑูุจูุง ููู DTO - ูุงุฆู ููู ุงูุจูุงูุงุช</em> ) ุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง ูุฅุฑุณุงู ูุงุณุชูุจุงู ุงูุฑุณุงุฆู ูู ุฎูุงู ููุงุท ููุงูุฉ RPC.  ุฏุนูุง ุงูุขู ูุญุฏุฏ ุงูููุงูู ูุฃููุงุน ุงูุทูุจุงุช ูุงูุงุณุชุฌุงุจุงุช ูููุงุท ููุงูุฉ RPC ูู ุฎุฏูุฉ ุงูุทูุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// CreateRequest holds the request parameters for the Create method. type CreateRequest struct { Order order.Order } // CreateResponse holds the response values for the Create method. type CreateResponse struct { ID string `json:"id"` Err error `json:"error,omitempty"` } // GetByIDRequest holds the request parameters for the GetByID method. type GetByIDRequest struct { ID string } // GetByIDResponse holds the response values for the GetByID method. type GetByIDResponse struct { Order order.Order `json:"order"` Err error `json:"error,omitempty"` } // ChangeStatusRequest holds the request parameters for the ChangeStatus method. type ChangeStatusRequest struct { ID string `json:"id"` Status string `json:"status"` } // ChangeStatusResponse holds the response values for the ChangeStatus method. type ChangeStatusResponse struct { Err error `json:"error,omitempty"` }</span></span></code> </pre> <br><h4 id="endpointy-go-kit-dlya-metodov-servisa-kak-rpc-endpointy" style=";text-align:right;direction:rtl">  ููุงุท ููุงูุฉ ูุฌููุนุฉ ุฃุฏูุงุช ุงูููู ูุทุฑู ุงูุฎุฏูุฉ ูุซู ููุงุท ููุงูุฉ RPC </h4><br><p style=";text-align:right;direction:rtl">  ูุชู ูุตู ุฌููุฑ ููุทู ุฃุนูุงููุง ุนู ุจุงูู ุงูููุฏ ููุถุนู ูู ุทุจูุฉ ุงูุฎุฏูุฉ ุ ุงูุชู ูุชู ูุดููุง ุจุงุณุชุฎุฏุงู ููุงุท ููุงูุฉ RPC ุ ูุงูุชู ุชุณุชุฎุฏู ุชุฌุฑูุฏ ูุฌููุนุฉ Go ูุณูู <code>Endpoint</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุง ุชุจุฏู ุนููู ููุทุฉ ุงูููุงูุฉ ูู ูุฌููุนุฉ Go: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Endpoint <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ctx context.Context, request </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">interface</span></span></span></span><span class="hljs-function"><span class="hljs-params">{})</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(response </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">interface</span></span></span></span><span class="hljs-function"><span class="hljs-params">{}, err error)</span></span></span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ูููุง ุฃุนูุงู ุ ุชูุซู ููุทุฉ ุงูููุงูุฉ ุทุฑููุฉ RPC ูููุตูุฉ.  ูุชู ุชุญููู ูู ุทุฑููุฉ ุฎุฏูุฉ ุฅูู <code>endpoint.Endpoint</code> .  ุฏุนููุง ูุฌุนู ููุงุท ููุงูุฉ ุฃุฏูุงุช Go ูุฃุณุงููุจ ุฎุฏูุฉ ุงูุทูุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"context"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/go-kit/kit/endpoint"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/shijuvar/gokit-examples/services/order"</span></span> ) <span class="hljs-comment"><span class="hljs-comment">// Endpoints holds all Go kit endpoints for the Order service. type Endpoints struct { Create endpoint.Endpoint GetByID endpoint.Endpoint ChangeStatus endpoint.Endpoint } // MakeEndpoints initializes all Go kit endpoints for the Order service. func MakeEndpoints(s order.Service) Endpoints { return Endpoints{ Create: makeCreateEndpoint(s), GetByID: makeGetByIDEndpoint(s), ChangeStatus: makeChangeStatusEndpoint(s), } } func makeCreateEndpoint(s order.Service) endpoint.Endpoint { return func(ctx context.Context, request interface{}) (interface{}, error) { req := request.(CreateRequest) id, err := s.Create(ctx, req.Order) return CreateResponse{ID: id, Err: err}, nil } } func makeGetByIDEndpoint(s order.Service) endpoint.Endpoint { return func(ctx context.Context, request interface{}) (interface{}, error) { req := request.(GetByIDRequest) orderRes, err := s.GetByID(ctx, req.ID) return GetByIDResponse{Order: orderRes, Err: err}, nil } } func makeChangeStatusEndpoint(s order.Service) endpoint.Endpoint { return func(ctx context.Context, request interface{}) (interface{}, error) { req := request.(ChangeStatusRequest) err := s.ChangeStatus(ctx, req.ID, req.Status) return ChangeStatusResponse{Err: err}, nil } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุจู ูุญูู ููุทุฉ ุงูููุงูุฉ ุงููุงุฌูุฉ ููุณูุทุฉ ูููุฏุฎูุงุช ููุญูููุง ุฅูู ุชุฌุฑูุฏ <code>endpoint.Enpoint</code> ูุฌููุนุฉ ุฃุฏูุงุช Go. ูุดูุฑ ุฅูู ุฌุนู ูู ุทุฑููุฉ ุฎุฏูุฉ ูุฑุฏูุฉ ููุทุฉ ููุงูุฉ.  ุชููู ูุธููุฉ ุงููุญูู ูุฐู ุจุฅุฌุฑุงุก ููุงุฑูุฉ ูููุน ุงูุชุญูููุงุช ููุทูุจุงุช ุ ูุงุณุชุฏุนุงุก ุทุฑููุฉ ุงูุฎุฏูุฉ ูุฅุฑุฌุงุน ุฑุณุงูุฉ ุงุณุชุฌุงุจุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeCreateEndpoint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s order.Service)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">endpoint</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Endpoint</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ctx context.Context, request </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">interface</span></span></span></span><span class="hljs-function"><span class="hljs-params">{})</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">interface</span></span></span></span><span class="hljs-function"><span class="hljs-params">{}, error)</span></span></span></span> { req := request.(CreateRequest) id, err := s.Create(ctx, req.Order) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> CreateResponse{ID: id, Err: err}, <span class="hljs-literal"><span class="hljs-literal">nil</span></span> } }</code> </pre> <br><h4 id="vystavlenie-servisa-naruzhu-s-pomoschyu-http" style=";text-align:right;direction:rtl">  ูุถุญ ุงูุฎุฏูุฉ ุจุงุณุชุฎุฏุงู HTTP </h4><br><p style=";text-align:right;direction:rtl">  ุฃูุดุฃูุง ุฎุฏูุชูุง ููุตููุง ููุงุท ููุงูุฉ RPC ููุดู ุทุฑู ุฎุฏูุชูุง.  ูุญุชุงุฌ ุงูุขู ุฅูู ูุดุฑ ุฎุฏูุชูุง ูู ุงูุฎุงุฑุฌ ุญุชู ุชุชููู ุงูุฎุฏูุงุช ุงูุฃุฎุฑู ูู ุงุณุชุฏุนุงุก ููุงุท ููุงูุฉ RCP.  ููุถุญ ุฎุฏูุชูุง ุ ูุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุจุฑูุชูููู ุงูููู ูุฎุฏูุชูุง ุ ูุงูุฐู ุจููุฌุจู ุณููุจู ุงูุทูุจุงุช.  ูุฌููุนุฉ ุฃุฏูุงุช Go ุชุฏุนู ุนูููุงุช ุงูููู ุงููุฎุชููุฉ ุ ูุซู HTTP ู gRPC ู NATS ู AMQP ู Thrift ุฎุงุฑุฌ ุงูุตูุฏูู. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูุณุชุฎุฏู ููู HTTP ูุฎุฏูุชูุง.  ุชููุฑ ุญุฒูุฉ go go <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=http://github.com/go-kit/kit/transport/">github.com/go-kit/kit/transport/http</a> ุงููุฏุฑุฉ ุนูู ุฎุฏูุฉ ุทูุจุงุช HTTP.  <code>NewServer</code> ูุธููุฉ <code>NewServer</code> ูู ุญุฒูุฉ <code>transport/http</code> ุฅูุดุงุก ุฎุงุฏู http ุฌุฏูุฏ ูููู ุจุชุทุจูู <code>http.Handler</code> ูููู ููุงุท ุงูููุงูุฉ ุงูููุฏูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููุง ููู ุงูููุฏ ุงูุฐู ูุญูู ููุงุท ููุงูุฉ ูุฌููุนุฉ ุฃุฏูุงุช Go ุฅูู ููู HTTP ูุฎุฏู ุทูุจุงุช HTTP: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> http <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"context"</span></span> <span class="hljs-string"><span class="hljs-string">"encoding/json"</span></span> <span class="hljs-string"><span class="hljs-string">"errors"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/shijuvar/gokit-examples/services/order"</span></span> <span class="hljs-string"><span class="hljs-string">"net/http"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/go-kit/kit/log"</span></span> kithttp <span class="hljs-string"><span class="hljs-string">"github.com/go-kit/kit/transport/http"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/gorilla/mux"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/shijuvar/gokit-examples/services/order/transport"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ( ErrBadRouting = errors.New(<span class="hljs-string"><span class="hljs-string">"bad routing"</span></span>) ) <span class="hljs-comment"><span class="hljs-comment">// NewService wires Go kit endpoints to the HTTP transport. func NewService( svcEndpoints transport.Endpoints, logger log.Logger, ) http.Handler { // set-up router and initialize http endpoints r := mux.NewRouter() options := []kithttp.ServerOption{ kithttp.ServerErrorLogger(logger), kithttp.ServerErrorEncoder(encodeError), } // HTTP Post - /orders r.Methods("POST").Path("/orders").Handler(kithttp.NewServer( svcEndpoints.Create, decodeCreateRequest, encodeResponse, options..., )) // HTTP Post - /orders/{id} r.Methods("GET").Path("/orders/{id}").Handler(kithttp.NewServer( svcEndpoints.GetByID, decodeGetByIDRequest, encodeResponse, options..., )) // HTTP Post - /orders/status r.Methods("POST").Path("/orders/status").Handler(kithttp.NewServer( svcEndpoints.ChangeStatus, decodeChangeStausRequest, encodeResponse, options..., )) return r } func decodeCreateRequest(_ context.Context, r *http.Request) (request interface{}, err error) { var req transport.CreateRequest if e := json.NewDecoder(r.Body).Decode(&amp;req.Order); e != nil { return nil, e } return req, nil } func decodeGetByIDRequest(_ context.Context, r *http.Request) (request interface{}, err error) { vars := mux.Vars(r) id, ok := vars["id"] if !ok { return nil, ErrBadRouting } return transport.GetByIDRequest{ID: id}, nil } func decodeChangeStausRequest(_ context.Context, r *http.Request) (request interface{}, err error) { var req transport.ChangeStatusRequest if e := json.NewDecoder(r.Body).Decode(&amp;req); e != nil { return nil, e } return req, nil } func encodeResponse(ctx context.Context, w http.ResponseWriter, response interface{}) error { if e, ok := response.(errorer); ok &amp;&amp; e.error() != nil { // Not a Go kit transport error, but a business-logic error. // Provide those as HTTP errors. encodeError(ctx, e.error(), w) return nil } w.Header().Set("Content-Type", "application/json; charset=utf-8") return json.NewEncoder(w).Encode(response) }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุจุฅูุดุงุก <code>http.Handler</code> ุจุงุณุชุฎุฏุงู ูุธููุฉ <code>NewServer</code> ูู ุญุฒูุฉ <code>transport/http</code> ุ ูุงูุชู ุชุฒูุฏูุง <code>NewServer</code> ููุงูุฉ ูุทูุจ ูุธุงุฆู ูู ุงูุชุดููุฑ (ุฅุฑุฌุงุน ูููุฉ <code>type DecodeRequestFunc func</code> ) ูุชุฑููุฒ ุงูุงุณุชุฌุงุจุฉ (ุนูู ุณุจูู ุงููุซุงู <code>type EncodeReponseFunc func</code> ). </p><br><p style=";text-align:right;direction:rtl">  ูููุง ููู ุฃูุซูุฉ ุนูู <code>DecodeRequestFunc</code> ู <code>EncodeResponseFunc</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// For decoding request type DecodeRequestFunc func(context.Context, *http.Request) (request interface{}, err error)</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// For encoding response type EncodeResponseFunc func(context.Context, http.ResponseWriter, interface{}) error</span></span></code> </pre> <br><h4 id="zapusk-http-servera" style=";text-align:right;direction:rtl">  ุจุฏุก ุฎุงุฏู HTTP </h4><br><p style=";text-align:right;direction:rtl">  ุฃุฎูุฑูุง ุ ูููููุง ุชุดุบูู ุฎุงุฏู HTTP ุงูุฎุงุต ุจูุง ููุนุงูุฌุฉ ุงูุทูุจุงุช.  ุชุทุจู ูุธููุฉ <code>NewService</code> ุงูููุถุญุฉ ุฃุนูุงู ูุงุฌูุฉ <code>http.Handler</code> ูุงูุชู ุชุชูุญ ููุง ุชุดุบูููุง <code>http.Handler</code> HTTP: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ( httpAddr = flag.String(<span class="hljs-string"><span class="hljs-string">"http.addr"</span></span>, <span class="hljs-string"><span class="hljs-string">":8080"</span></span>, <span class="hljs-string"><span class="hljs-string">"HTTP listen address"</span></span>) ) flag.Parse() <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> logger log.Logger { logger = log.NewLogfmtLogger(os.Stderr) logger = log.NewSyncLogger(logger) logger = level.NewFilter(logger, level.AllowDebug()) logger = log.With(logger, <span class="hljs-string"><span class="hljs-string">"svc"</span></span>, <span class="hljs-string"><span class="hljs-string">"order"</span></span>, <span class="hljs-string"><span class="hljs-string">"ts"</span></span>, log.DefaultTimestampUTC, <span class="hljs-string"><span class="hljs-string">"caller"</span></span>, log.DefaultCaller, ) } level.Info(logger).Log(<span class="hljs-string"><span class="hljs-string">"msg"</span></span>, <span class="hljs-string"><span class="hljs-string">"service started"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> level.Info(logger).Log(<span class="hljs-string"><span class="hljs-string">"msg"</span></span>, <span class="hljs-string"><span class="hljs-string">"service ended"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> db *sql.DB { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> err error <span class="hljs-comment"><span class="hljs-comment">// Connect to the "ordersdb" database db, err = sql.Open("postgres", "postgresql://shijuvar@localhost:26257/ordersdb?sslmode=disable") if err != nil { level.Error(logger).Log("exit", err) os.Exit(-1) } } // Create Order Service var svc order.Service { repository, err := cockroachdb.New(db, logger) if err != nil { level.Error(logger).Log("exit", err) os.Exit(-1) } svc = ordersvc.NewService(repository, logger) } var h http.Handler { endpoints := transport.MakeEndpoints(svc) h = httptransport.NewService(endpoints, logger) } errs := make(chan error) go func() { c := make(chan os.Signal) signal.Notify(c, syscall.SIGINT, syscall.SIGTERM) errs &lt;- fmt.Errorf("%s", &lt;-c) }() go func() { level.Info(logger).Log("transport", "HTTP", "addr", *httpAddr) server := &amp;http.Server{ Addr: *httpAddr, Handler: h, } errs &lt;- server.ListenAndServe() }() level.Error(logger).Log("exit", &lt;-errs) }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ุชู ุฅุทูุงู ุฎุฏูุชูุง ูุชุณุชุฎุฏู ุจุฑูุชูููู HTTP ุนูู ูุณุชูู ุงูููู.  ูููู ุจุฏุก ููุณ ุงูุฎุฏูุฉ ุจุงุณุชุฎุฏุงู ูุณููุฉ ููู ุฃุฎุฑู. ุนูู ุณุจูู ุงููุซุงู ุ ูููู ูุดู ุงูุฎุฏูุฉ ุจุงุณุชุฎุฏุงู gRPC ุฃู Apache Thrift. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููููุงูุฉ ุงูุชูููุฏูุฉ ุ ุงุณุชุฎุฏููุง ุจุงููุนู ุจุฏุงุฆู Go kit ุจุดูู ูุงูู ุ ููููู ูููุฑ ุฃูุถูุง ุงููุฒูุฏ ูู ุงููุธุงุฆู ูุฅูุดุงุก ุฃูุธูุฉ ุฐุงุช ุฃููุงุท ุดูุงูุฉ ูููุซููุฉ ูุงูุชุดุงู ุงูุฎุฏูุฉ ูููุงุฒูุฉ ุงูุญูู ููุง ุฅูู ุฐูู.  ุณููุงูุด ูุฐู ุงูุฃุดูุงุก ูุฃุดูุงุก ุฃุฎุฑู ูู ูุฌููุนุฉ Go ูู ุงูููุงูุงุช ุงูุชุงููุฉ. </p><br><h3 id="ishodnyy-kod" style=";text-align:right;direction:rtl">  ููุฏ ุงููุตุฏุฑ </h3><br><p style=";text-align:right;direction:rtl">  ูููู ุงูุงุทูุงุน ุนูู ุดูุฑุฉ ุงููุตุฏุฑ ุงููุงููุฉ ููุฃูุซูุฉ ุนูู GitHub <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง.</a> </p><br><h3 id="middlewares-v-go-kit" style=";text-align:right;direction:rtl">  ุงููุณูุทุฉ ูู ูุฌููุนุฉ Go </h3><br><p style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ุฃุฏูุงุช Go ุชุณุชุนุฏ ูุงุณุชุฎุฏุงู ุงููุจุงุฏุฆ ุงูุฌูุฏุฉ ูุชุตููู ุงููุธุงู ุ ูุซู ุงูุทุจูุงุช.  ูููู ุนุฒู ููููุงุช ุงูุฎุฏูุฉ ูููุงุท ุงูููุงูุฉ ุจุงุณุชุฎุฏุงู Middlewares ( <em>ููุท ูุณูุท</em> ุงููุณุงุฑ <em>ุชูุฑูุจูุง</em> ).  ุชููุฑ ุงููุณูุทุฉ ูู ูุฌููุนุฉ Go ุขููุฉ ูููุฉ ููููู ูู ุฎูุงููุง ุงูุชูุงู ุงูุฎุฏูุงุช ูููุงุท ุงูููุงูุฉ ูุฅุถุงูุฉ ูุธุงุฆู (ููููุงุช ูุนุฒููุฉ) ุ ูุซู ุชุณุฌูู ุงูุฏุฎูู ุฃู ููุงุทุนุฉ ุงูุทูุจ ุฃู ุงูุญุฏ ูู ุนุฏุฏ ุงูุทูุจุงุช ุฃู ููุงุฒูุฉ ุงูุชุญููู ุฃู ุงูุชุชุจุน ุงูููุฒุน. </p><br><p style=";text-align:right;direction:rtl">  ูููุง ููู ุตูุฑุฉ ูู ูููุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Go kit ุนูู</a> ุงูููุจ ุ ูุงูุชู ุชู ุชุตููุฑูุง ุนูู ุฃููุง "ููุฏุณุฉ ุจุตู" ูููุฐุฌูุฉ ุจุงุณุชุฎุฏุงู Middlewares ูู ูุฌููุนุฉ Go: <br><img src="https://habrastorage.org/getpro/habr/post_images/996/daa/da6/996daada64744e2f5b702ca8ea53c19a.png" alt="ุงูุตูุฑุฉ"></p><br><h3 id="osteregaytes-sindroma-spring-boot-misroservices" style=";text-align:right;direction:rtl">  ุญุฐุงุฑ ูู ูุชูุงุฒูุฉ Microservices ุงูุฑุจูุน ุงูุชูููุฏ </h3><br><p style=";text-align:right;direction:rtl">  ูุซู ูุฌููุนุฉ ุฃุฏูุงุช Go ุ ูุนุฏ Spring Boot ูุฌููุนุฉ ุฃุฏูุงุช ููุฎุฏูุฉ ุงูุตุบูุฑุฉ ูู ุนุงูู Java.  ูููู ุ ุนูู ุนูุณ ูุฌููุนุฉ Go ุ ูุนุชุจุฑ Spring Boot ุฅุทุงุฑูุง ูุงุถุฌูุง ููุบุงูุฉ.  ุฃูุถูุง ุ ูุณุชุฎุฏู ุงูุนุฏูุฏ ูู ูุทูุฑู Java Spring Boot ูุฅูุดุงุก ุฎุฏูุงุช ุนุงูููุฉ ุจุงุณุชุฎุฏุงู ููุฏุณ Java ูุน ููุงุญุธุงุช ุฅูุฌุงุจูุฉ ูู ุงูุงุณุชุฎุฏุงู ุ ููุนุชูุฏ ุงูุจุนุถ ุฃู ุงูุฎุฏูุงุช ุงูุฏูููุฉ ุชุชุนูู ููุท ุจุงุณุชุฎุฏุงู Spring Boot.  ุฃุฑู ุงูุนุฏูุฏ ูู ูุฑู ุงูุชุทููุฑ ุงูุชู ุชุณูุก ุชูุณูุฑ ุงุณุชุฎุฏุงู ุงูุฎุฏูุงุช ุงูุฏูููุฉ ุ ูุฃูู ูุง ูููู ุชุทููุฑูุง ุฅูุง ุจุงุณุชุฎุฏุงู Spring Boot ู OSS Netflix ููุง ูุฑูู ุงูุฎุฏูุงุช ุงูุฏูููุฉ ูููุท ุนูุฏ ุชุทููุฑ ุงูุฃูุธูุฉ ุงูููุฒุนุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุถุน ูู ุงุนุชุจุงุฑู ุฃูู ูู ุฎูุงู ูุฌููุนุฉ ูู ุงูุฃุฏูุงุช ุ ูุซู ูุฌููุนุฉ Go ุฃู ููุน ูุง ูู ุฅุทุงุฑ ุงูุนูู ุ ููููู ุชูุฌูู ุชุทููุฑู ูุญู ุฃุฌูุฒุฉ ุตุบุฑู ุ ูููุท ุชุตููู.  ุนูู ุงูุฑุบู ูู ุฃู ุงูุฎุฏูุงุช ุงูุตุบูุฑุฉ ุชุญู ุงูุนุฏูุฏ ูู ูุดููุงุช ุงูููุงุณ ููู ูู ุงูุฃูุงูุฑ ูุงูุฃูุธูุฉ ุ ุฅูุง ุฃููุง ุชุฎูู ุฃูุถูุง ุงูุนุฏูุฏ ูู ุงููุดุงูู ูุฃู ุงูุจูุงูุงุช ูู ุฃูุธูุฉ ุงูุฎุฏูุงุช ุงูุฏูููุฉ ูุชูุงุซุฑุฉ ุนุจุฑ ููุงุนุฏ ุจูุงูุงุช ูุฎุชููุฉ ุ ูุงูุชู ุชุฎูู ุฃุญูุงููุง ุงูุนุฏูุฏ ูู ุงููุดุงูู ุนูุฏ ุฅูุดุงุก ุงุณุชุนูุงูุงุช ุงููุนุงููุงุช ุฃู ุงูุจูุงูุงุช.  ูู ูุฐุง ูุชููู ุนูู ูุดููุฉ ูุฌุงู ุงูููุถูุน ูุณูุงู ูุธุงูู.  ุงูุดูุก ุงูุฑุงุฆุน ูู ุฃู ูุฌููุนุฉ Go ุ ุงููุตููุฉ ูุฃุฏุงุฉ ูุฅูุดุงุก ุฎุฏูุงุช ุฏูููุฉ ุ ูุงูุช ููุงุณุจุฉ ุฃูุถูุง ูุฅูุดุงุก ูุชุฌุงูุณุฉ ุฃูููุฉ ุชู ุฅูุดุงุคูุง ุจุงุณุชุฎุฏุงู ุชุตููู ูุนูุงุฑู ุฌูุฏ ูุฃูุธูุชู. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุชููุฑ ุจุนุถ ููุฒุงุช ูุฌููุนุฉ ุฃุฏูุงุช Go ุ ูุซู ููุงุทุนุฉ ุงูุทูุจุงุช ูุชูููุฏูุง ุ ุนูู ุงูุฃูุธูุฉ ุงูุฃุณุงุณูุฉ ูุดุจูุงุช ุงูุฎุฏูุฉ ุ ูุซู Istio.  ูุฐุง ุ ุฅุฐุง ููุช ุชุณุชุฎุฏู ุดูุฆูุง ูุซู Istio ูุฅุทูุงู ูุญุฏุงุช ุงููููุฑูุณูู ุงูุฎุงุตุฉ ุจู ุ ููุฏ ูุง ุชุญุชุงุฌ ุฅูู ุจุนุถ ุงูุฃุดูุงุก ูู ูุฌููุนุฉ Go ุ ูููู ููุณ ูุฏู ุงูุฌููุน ูุง ูููู ูู ุนุฑุถ ุงูููุงุฉ ูุงุณุชุฎุฏุงู ุดุจูุฉ ุงูุฎุฏูุฉ ูุฅูุดุงุก ุงุชุตุงู ุจูู ุงูุฎุฏูุงุช ุ ูุฃู ูุฐุง ูุถูู ุงููุฒูุฏ ูุณุชูู ูุงุญุฏ ูุชุนููุฏ ุฅุถุงูู. </p><br><h2 id="ps" style=";text-align:right;direction:rtl">  ููุงุญุธุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูุฏ ูุง ูุดุงุฑู ูุคูู ุงูุชุฑุฌูุฉ ุฑุฃู ูุคูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุต ุงูุฃุตูู</a> ุ ููุฏ ุชูุช ุชุฑุฌูุฉ ูุฐู ุงูููุงูุฉ ูุฃุบุฑุงุถ ุชุนููููุฉ ููุท ููุฌุชูุน ุงููุบุฉ ุงูุฑูุณูุฉ Go. </p><br><p style=";text-align:right;direction:rtl">  <strong>UPD</strong> <br>  ูุฐู ูู ุฃูุถูุง ุงูููุงูุฉ ุงูุฃููู ูู ูุณู ุงูุชุฑุฌูุฉ ูุณุฃููู ููุชููุง ูุฃูุฉ ุชุนูููุงุช ุนูู ุงูุชุฑุฌูุฉ. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar430300/">https://habr.com/ru/post/ar430300/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar430286/index.html">ุชูุงุตูู ุงูุฌุงูุจ ุงูููุถูู ูุงููุธูู ูุฃูุนุงุจ ุงููุฑุงุตูุฉ ูู Nintendo Switch</a></li>
<li><a href="../ar430290/index.html">ูุญุงููุฉ ููุชูุจุค ุจุงูุชูุฑุงุฑ ุงูุฑุงุจุน ููุดุฑูุน SpaceX BFR</a></li>
<li><a href="../ar430292/index.html">ูุคุณุณุฉ ุงูุญุฏูุฏ ุงูุฅููุชุฑูููุฉ: ุฃุฏุงุก ุดุจูุฉ ููุญุฉ ุชุฑุฎูุต ุงูุดุฑุทุฉ ุงูุฃูุฑูููุฉ 0.5ูช</a></li>
<li><a href="../ar430294/index.html">10 ููุงุฆุฏ ุบูุฑ ูุงุถุญุฉ ูุงุณุชุฎุฏุงู ุงูุตุฏุฃ</a></li>
<li><a href="../ar430296/index.html">ุงุฌุนู ุฃููุงุฑู ุชุฃุชู ุงูุชุทุจูู. ุชุทุจูู ุจุฏูู ุฎุงุฏู - ุชุนูููุงุช ุฎุทูุฉ ุจุฎุทูุฉ</a></li>
<li><a href="../ar430302/index.html">ููุฏูุฉ ุนู ptrace ุฃู ุฅุฏุฎุงู ุงูุฑูุฒ ูู sshd ูู ุฃุฌู ุงููุชุนุฉ</a></li>
<li><a href="../ar430304/index.html">ูููุน ุฑุงุฆุน ูู ุงููุฏุงุฑ</a></li>
<li><a href="../ar430306/index.html">ุงูููู ุงูุฃูู ูุดุฑูุฉ ูููุฉ ุญูุฑ ุจูุงุณุทุฉ ุฅููููุง ูุงุณู</a></li>
<li><a href="../ar430308/index.html">ุงูุซุนุจุงู ุงูุฏุงุฎูู. ุจูุถ ุนูุฏ ุงููุตุญ</a></li>
<li><a href="../ar430312/index.html">ุงูุชุญูู ูู ุงูุฃุดูุงู ุงููุนูุฏุฉ ููุชูุงุนู. ุงูุฌุฒุก ุงูุฃูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>