<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👽 👩‍✈️ 🆎 Applications multilingues en angulaire 👆🏿 🤟🏿 🏌️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, nous verrons comment vous pouvez rapidement transférer votre projet Angular en fonctionnement multilingue et quels sont les utilitai...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Applications multilingues en angulaire</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446402/"><p><img src="https://habrastorage.org/getpro/habr/post_images/754/11c/d80/75411cd8068a43ec7db6e321e2fb0356.png" alt="image"></p><br><p>  Dans cet article, nous verrons comment vous pouvez rapidement transférer votre projet Angular en fonctionnement multilingue et quels sont les utilitaires disponibles pour cela. </p><a name="habracut"></a><br><p>  <strong>Arrêtez d'utiliser ngx-translate!</strong> </p><br><p>  La plupart des projets que j'ai rencontrés ont été écrits à l'aide de cette bibliothèque, et sans surprise, elle est très simple et est apparue avant la sortie officielle d'Angular. </p><br><p>  <strong>Utilisez le standard i18n!</strong> </p><br><p>  L'ajouter à votre projet est encore plus facile qu'il n'y paraît. </p><br><p>  Et donc, voici une courte instruction: </p><br><ul><li>  Ajouter l'attribut i18n à l'élément de modèle </li><li>  Utilisez l'attribut i18n- pour traduire les attributs de l'élément lui-même </li><li>  Utiliser les expressions ICU </li><li>  Enregistrez les paramètres régionaux souhaités pour Pipe </li></ul><br><p>  <strong>Nous traduisons l'application hello-world en 5 minutes:</strong> </p><br><p>  Dans cet exemple, nous désignerons l'attribut title et le contenu lui-même. </p><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n-title</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span>  {{name}}! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Nous pouvons également définir une description pour notre traducteur </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"   "</span></span></span><span class="hljs-tag">&gt;</span></span>  {{name}}! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Et bien sûr, pour répéter des textes, nous pouvons spécifier des identifiants: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@@HiId"</span></span></span><span class="hljs-tag">&gt;</span></span>!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Nous pouvons également combiner des identifiants avec une description: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  |@@HiId"</span></span></span><span class="hljs-tag">&gt;</span></span>!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Nous exposons l'expression ICU là où nous en avions besoin: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n</span></span></span><span class="hljs-tag">&gt;</span></span>  { orders, plural, =0 {} =1 { } other {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>{{orders}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>} } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Dans cet exemple, cela fonctionne comme un boîtier de commutation standard.  Mais il existe différents cas d'utilisation. </p><br><p>  Presque tout est prêt! </p><br><p>  Exécutez la commande Angular CLI: </p><br><p> <code>ng xi18n</code> </p> <br><p>  Par défaut, il collectera le fichier <code>messages.xlf</code> au format XLIFF.  C'est suffisant pour aller plus loin. </p><br><p>  Copiez ce fichier dans messages.fr.xlf (disons que nous voulons une traduction en français). </p><br><p>  Nous donnons le fichier à traduire, heureusement, ce format est très courant, et il existe de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nombreux utilitaires</a> pour le rendre plus facile à modifier pour le traducteur. </p><br><p>  Eh bien, maintenant nous éditons les configurations angular.json: </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"configurations"</span></span>: { ... <span class="hljs-attr"><span class="hljs-attr">"fr"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"outputPath"</span></span>: <span class="hljs-string"><span class="hljs-string">"dist/my-project-fr/"</span></span>, //    <span class="hljs-attr"><span class="hljs-attr">"i18nFile"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/locale/messages.fr.xlf"</span></span>, //    <span class="hljs-attr"><span class="hljs-attr">"i18nFormat"</span></span>: <span class="hljs-string"><span class="hljs-string">"xlf"</span></span>, //   <span class="hljs-attr"><span class="hljs-attr">"i18nLocale"</span></span>: <span class="hljs-string"><span class="hljs-string">"fr"</span></span>, //   ... } }</code> </pre> <br><p>  C'est tout! </p><br><p> <code>&gt; ng serve  - configuration=fr</code> <br> <code>&gt; ng build  - configuration=fr</code> </p> <br><hr><br><p>  Considérez maintenant comment cela fonctionne de l'intérieur: <br><img src="https://habrastorage.org/getpro/habr/post_images/c47/e4e/4a5/c47e4e4a558e8edd7fe5982579684b9e.png" alt="image"></p><br><p>  Le diagramme montre que la dynamique n'est tout simplement pas possible, c'est ainsi que le i18n standard est actuellement organisé.  Et tout changement de langue nécessitera le téléchargement d'un nouveau pack. </p><br><hr><br><p>  En fait, pour la plupart des cas liés au multilinguisme, un locuteur n'est pas nécessaire.  Le plus souvent, il s'agit d'une localisation complètement différente.  Demandez-vous simplement, vos utilisateurs changent souvent de langue?  Mais que faire si vous avez besoin de traduire votre application en arabe?  Vous pouvez lire les recommandations détaillées sur le site Web du W3C. </p><br><hr><br><p>  On ne peut qu'insérer un lien vers un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tableau comparant différentes options i18n pour Angular</a> . </p><br><hr><br><p>  Pour les amateurs de dynamique, il y a de bonnes nouvelles, avec Ivy apparaîtra Runtime Service. </p><br><p>  <strong>i18n et ivy</strong> <br><img src="https://habrastorage.org/getpro/habr/post_images/f82/b8e/c94/f82b8ec940b9e082ff71912fd74c07e9.png" alt="image"></p><br><p>  Alors qu'est-ce que ça donnera? </p><br><ul><li>  Il peut être utilisé partout (React, Vue), par exemple via Angular Elements </li><li>  Arbre secouable </li><li>  Prise en charge du chargement différé </li><li>  Prise en charge de divers paramètres régionaux </li><li>  Fonctionnalité complète sans compilation </li></ul><br><hr><br><p>  Eh bien, comme il n'y a jamais trop d'utilitaires, surtout pour vous faciliter la vie, j'ai créé un petit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utilitaire</a> pour passer rapidement en mode multilingue votre application terminée: </p><br><pre> <code class="bash hljs">&gt; npx ngx-translate-all --format ngx-translate | i18n --<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ru --out en,fr --outPath src/assets/i18n</code> </pre> <br><p>  Il prend en charge 2 formats, à la fois i18n standard et ngx-translate-all. <br>  Pour l'i18n standard, l'utilitaire organisera les attributs nécessaires et ajoutera la description souhaitée. </p><br><pre> <code class="plaintext hljs">--format i18n &lt;div i18n="AppModule.AppComponent"&gt; ! &lt;/div&gt;</code> </pre> <br><p>  Pour ngx-translate, il affectera les variables, placera le canal et les exportera dans le fichier json souhaité. </p><br><pre> <code class="plaintext hljs">--format ngx-translate &lt;div&gt; {{AppModule.AppComponent[0] | translate}} &lt;div&gt;</code> </pre> <br><hr><br><p>  Et je veux aussi que vous transfériez vos projets vers l'i18n standard, au moins dans les modèles.  Et bientôt je publierai un utilitaire spécial qui transférera automatiquement votre projet de ngx-translate vers i18n </p><br><pre> <code class="plaintext hljs">&gt; npx ngx-translate-migrate ngx-translate -&gt; i18n</code> </pre> <br><p>  Pour suivre le projet, vous pouvez vous abonner à ma chaîne twitter, github ou télégramme dédiée à Angular: </p><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://twitter.com/irustm</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://t.me/ngFanatic</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/irustm</a> </h2><br><p>  Si vous avez encore des questions, je vous invite au podcast vidéo en direct ngRuAir: </p><br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/15c/315/ec9/15c315ec9b29b7d89d25821a38e0dbaf.png" width="120" height="120"><br></td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">7 avril 2019 20h00 heure de Moscou</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sujet: Développement d'applications multilingues sur Angular.</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a> <br></td></tr></tbody></table></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr446402/">https://habr.com/ru/post/fr446402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr446388/index.html">L'industrie pétrolière et gazière comme exemple pour les systèmes de cloud périphériques</a></li>
<li><a href="../fr446390/index.html">Bombe oublie-moi de mémorisation</a></li>
<li><a href="../fr446394/index.html">5. Check Point Getting Started R80.20. Gaia & CLI</a></li>
<li><a href="../fr446396/index.html">Réinitialisation du compteur hebdomadaire GPS</a></li>
<li><a href="../fr446400/index.html">Dmitry Dumik, Chatfuel: À propos de Y Combinator, entrepreneuriat technologique, changement de comportement et sensibilisation</a></li>
<li><a href="../fr446404/index.html">Alternatives modernes au PGP</a></li>
<li><a href="../fr446408/index.html">DRO universel basé sur Arduino Nano - shDRO</a></li>
<li><a href="../fr446412/index.html">Base de données KDB +: de la finance à la Formule 1</a></li>
<li><a href="../fr446414/index.html">Une bonne chose n'est pas appelée rouille</a></li>
<li><a href="../fr446418/index.html">Cloudflare a présenté son propre service VPN basé sur l'application 1.1.1.1 pour les appareils mobiles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>