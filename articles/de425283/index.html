<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎺 🚊 🧙🏻 Unendliche Lokalisierung oder wie wir eine Karte in Echtzeit übersetzen 🧛 🤾🏻 🔕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Was passiert, wenn Ihr Produkt in einem anderen Land mit eigenen sprachlichen und kulturellen Merkmalen verkauft wird? Höchstwahrscheinlich erwartet i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unendliche Lokalisierung oder wie wir eine Karte in Echtzeit übersetzen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/425283/"><img src="https://habrastorage.org/webt/vx/rx/aq/vxrxaqudt-xi_kwjgd21ufa0ggw.jpeg"><br><br>  Was passiert, wenn Ihr Produkt in einem anderen Land mit eigenen sprachlichen und kulturellen Merkmalen verkauft wird?  Höchstwahrscheinlich erwartet ihn die Lokalisierung.  In den meisten Fällen müssen die Ressourcendateien nur so übersetzt werden, dass die Menüs und Schnittstellenelemente in der dem Benutzer vertrauten Sprache vorliegen.  Was ist jedoch zu tun, wenn die Grundlage Ihres Verkaufs Daten sind, von denen es viele gibt? Sie kommen ständig in großen Mengen an und erfordern eine regelmäßige Übersetzung.  Und nicht nur eine Sprache, sondern mehrere Sprachen gleichzeitig. <br><br>  Unter dem Schnitt finden Sie eine Geschichte darüber, wie dieses Problem in 2GIS gelöst wurde.  Ich werde es Ihnen am Beispiel des letzten Falles mit Dubai erzählen, aber die Praktiken sind für jede Sprache anwendbar. <br><a name="habracut"></a><br><h2>  Über Arabisch </h2><br>  Diese ganze Geschichte begann mit der Tatsache, dass 2GIS in Dubai gestartet wurde, wo zwei Sprachen verwendet werden: Arabisch und Englisch. <br><br>  Hohe Datengenauigkeit ist der wichtigste Wert des Unternehmens.  Dies wird durch Handarbeit von Kartographen und Spezialisten vor Ort erreicht.  In Dubai, wo sowohl lokale Spezialisten als auch Endbenutzer Englisch sprechen, wurden die Daten zunächst nur darin eingegeben.  Während des Wachstumsprozesses beschlossen sie, nicht dort anzuhalten und die arabische Sprache hinzuzufügen. <br><br><h2>  Fidschi </h2><br>  Für die Arbeit der Kartographen haben wir unsere eigene Software.  Dieses Ding heißt Fidschi und dient als Master-System zum Sammeln von Kartendaten.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wir haben bereits geschrieben,</a> wie Fidschi Kartographen hilft, Häuser zu bearbeiten und Straßen zu zeichnen.  Die nach der Verarbeitung und Vorbereitung aus Fidschi hochgeladenen Daten gehen an das Endprodukt, um den Benutzern zu gefallen.  In dem Artikel spreche ich genau darüber, was wir in Fidschi zum Bearbeiten / Speichern / Anzeigen mehrsprachiger Daten implementiert haben. <br><br><h2>  Bedingungen </h2><br>  Im Team verwenden wir spezifisches Vokabular.  Nachfolgend finden Sie vier Beispiele ↓ <br>  Das System unterstützt die Arbeit mit zwei Arten von Sprachen: <br><br>  <b>Metadatensprache</b> - Die Sprache, in der alle Benutzersteuerelemente angezeigt werden: Benutzeroberfläche, Metadaten. <br><br>  <b>Datensprache</b> - Eine Sprache, in der die Werte der Attribute von Geoobjekten, einigen Verzeichnissen und Klassifizierern angezeigt werden. <br><br>  Sprachen sind an Gebiete gebunden.  Ein Gebiet kann zwei Arten von Sprachen haben: <br><br>  <b>Die Hauptsprache des</b> Gebiets ist die in diesem Gebiet offiziell angenommene Sprache. <br><br>  <b>Die zusätzliche Sprache des</b> Gebiets ist die Sprache, in der wir das Produkt veröffentlichen möchten.  Es kommt zusätzlich zum Haupt. <br><br><h2>  Sprachen und Dialekte </h2><br>  Dialekte, die in verschiedenen Regionen des Landes verwendet werden, können erheblich variieren.  Daher werden in einigen Systemen der Kern der Sprache (= die Basisversion) und die Dialekte separat gespeichert und dann beim Entladen ihrer Merjats.  Dieser Ansatz schien uns sehr kompliziert zu sein, daher haben wir beschlossen, jeden Dialekt als eigenständige Sprache zu betrachten. <br><br>  Nuancen in Bezug auf arabische Sprachen und Dialekte.  Für jede Sprache müssen Sie ein Wagenrichtungsflag mit zwei Werten eingeben: von links nach rechts und von rechts nach links.  Standardmäßig sollte sich der Wagen von links nach rechts bewegen.  Wenn der Wert von rechts nach links eingestellt ist, müssen Sie die Richtung des Wagens für alle bearbeitbaren mehrsprachigen Felder ändern.  Wie dies in den Endprodukten gemacht wurde, wurde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> geschrieben.  Wir mussten ungefähr das Gleiche tun. <br><br><h2>  An Territorien ausrichten </h2><br>  Unsere ganze Welt ist in bestimmte Gebiete unterteilt - dies können Länder, Regionen, Regionen sein.  Für jedes Gebiet geben wir mehrere Sprachen an, von denen eine als die Hauptsprache und die andere als zusätzliche Sprache betrachtet wird.  Die Übersetzung erfolgt von der Primärsprache in weitere Sprachen. <br><br>  Im Fall von Dubai haben wir beispielsweise Englisch als Hauptsprache beibehalten, da es viele Daten enthielt.  Arabisch wurde optional gemacht. <br><br><h2>  Sprache eingeben und ändern </h2><br>  Damit die Kartografen bequem arbeiten können, haben wir unsere Benutzeroberfläche an den Stellen neu gestaltet, an denen mehrsprachige Eingaben gemeint sind. <br><br><img src="https://habrastorage.org/webt/ea/2v/tq/ea2vtqvbdzpl2ulocp8j1mzzdhu.png"><br><br>  In diesem Bild sehen Sie, dass wir die Sprachen in Registerkarten unterteilt haben, wobei die Hauptsprache ganz links ist und es dann weitere gibt. <br><br>  Auf den Registerkarten weiterer Sprachen stehen nur die Felder zur Bearbeitung zur Verfügung, die ein Flag für die Notwendigkeit einer Übersetzung in der Datenbank aufweisen.  Dies dient als Schutzmaßnahme und hilft, die Aufmerksamkeit des Benutzers auf die Übersetzung der erforderlichen Daten zu lenken.  Alles andere wird in der Hauptsprache bearbeitet. <br><br><img src="https://habrastorage.org/webt/gk/yd/fh/gkydfh3us5wb162wi6s7ayetgte.png"><br><br>  Das Bearbeiten von Daten in einer zusätzlichen Sprache ist möglicherweise nur erforderlich, wenn der Kartograf selbst mehrere Sprachen beherrscht und nicht auf die Hilfe eines Übersetzers zurückgreifen möchte.  Für alle anderen gibt es CrowdIn. <br><br><h2>  Crowdin oder Stream-Transfer </h2><br>  Daher haben wir unseren Kartographen ermöglicht, Daten in verschiedenen Sprachen einzugeben.  Es ist jedoch viel besser, die Übersetzungsaufgabe an Profis zu übergeben. <br><br>  Das erste, was Ihnen beim Übersetzen der Anwendung einfällt, ist, die Ressourcendateien den Übersetzern zu übergeben und sie nach dem Übertragen wieder herunterzuladen. <br><br>  In dieser Hinsicht hat uns die CrowdIn-Plattform sehr geholfen.  Sie können Ihre Dateien an professionelle Übersetzer weiterleiten.  Das einzige, was noch übrig war, war die Integration der übersetzten Daten in unser System. <br><br>  Die Situation wird durch die Tatsache kompliziert, dass die Daten in einem kontinuierlichen Strom zu uns kommen, daher möchten wir kontinuierlich Übersetzungen erhalten. <br><br>  Wir haben das System wie folgt optimiert: Wenn Änderungen in der Hauptsprache des Gebiets vorgenommen werden, laden wir die Änderungen zur Übersetzung in alle weiteren Sprachen dieses Gebiets hoch.  Wir machen Ausnahmen für Fälle, in denen der Kartograf die Übersetzung selbst gemacht hat.  Hier glauben wir, dass er versteht, was er tut, und dass es nicht notwendig ist, einen Dolmetscher anzuschließen. <br><br>  Für jedes Verzeichnis oder Kartenobjekt haben wir eine End-to-End-Version, die mit jeder Datenaktualisierung erhöht wird.  So können wir schnell alle Änderungen von einer bestimmten Version erhalten. <br><br>  Das Versionsverwaltungssystem ist sehr einfach und effizient, hat jedoch einen erheblichen Nachteil: Tatsächlich haben wir eine einzige Warteschlange und können sie in keiner Weise verwalten.  Unser Maximum ist es, die Version zu überspringen.  Es besteht die Notwendigkeit, zu einer normalen Warteschlange zu wechseln, z. B. zu RabitMQ oder Kafka, aber die Hände sind noch nicht erreicht. <br><br>  Um den Inhalt schnell zu aktualisieren, haben wir einen kleinen Dienst geschrieben, der in drei Streams funktioniert. <br><br>  Der erste Stream (Saver) löscht alle Daten, die übersetzt werden müssen, und generiert daraus XML-Dateien. <br><br>  Der zweite (Export) sendet sie an CrowdIn und fügt sie in das gewünschte Projekt ein, das die Hauptsprache angibt, aus der wir übersetzen, sowie eine Liste der Sprachen, in die übersetzt werden soll. <br><br>  Der dritte (Import) fragt die CrowdIn-API regelmäßig nach Dateien ab, deren Übersetzung zu 100% vorgenommen und installiert wurde, und importiert die fertigen Dateien in unsere Datenbank. <br><br><img src="https://habrastorage.org/webt/99/uk/xo/99ukxoedj5npaxnkvylq6cidd3k.jpeg"><br><br>  Ohne Rechen geht das nicht.  Wir sind über unser Datenversionierungssystem gestolpert. <br>  Als wir die Übersetzung des Wortes heruntergeladen haben, wurde die Version der Daten aktualisiert und das Wort fiel erneut in die Übersetzung. <br><br>  Um eine endlose Übersetzungsschleife zu vermeiden, haben wir begonnen, Daten aufzuzeichnen.  Jedes übersetzte Wort ist markiert, wodurch das wiederholte Senden an CrowdIn entfällt. <br><br><h3>  Tutorial </h3><br>  Jetzt erzähle ich Ihnen, wie die Arbeit mit CrowdIn abläuft.  Es gibt verschiedene Möglichkeiten, mit der Plattform zu arbeiten. Sie können beispielsweise Dateien in das Git-Repository hochladen und CrowdIn selbst saugt sie auf.  Wir dachten jedoch, dass das Durcharbeiten der API bequemer aussieht. <br><br>  CrowdIn hat ein ziemlich detailliertes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tutorial</a> , aber unten werde ich schreiben, wie wir es gemacht haben. <br><br>  Wir benötigen einen API-Schlüssel, den wir jeder unserer Anforderungen hinzufügen, damit das System uns überprüft.  Wir gehen in den Projekteinstellungen zur Registerkarte API und sehen uns an, was in der API-Schlüsselspalte geschrieben steht. <br><br><img src="https://habrastorage.org/webt/oa/zi/bh/oazibhzp43g7sj851hzik0ctfhs.png"><br><br>  Dieser Schlüssel muss am Ende jeder Ihrer Plattformanforderungen hinzugefügt werden.  Zum Beispiel so: <br>  GET: <code>https://api.crowdin.com/api/project/{myLitleProject}/download/all.zip?key={project-key}</code> <br><br>  2. Erstellen Sie einen Ordner, in den wir Dateien innerhalb des Projekts hochladen. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uri = <span class="hljs-string"><span class="hljs-string">$"project/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_projectName}</span></span></span><span class="hljs-string">/add-directory?key=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{apiKey}</span></span></span><span class="hljs-string">"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> content = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MultipartFormDataContent { { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringContent(crowdInDirectoryPath), <span class="hljs-string"><span class="hljs-string">"name"</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> PostAsync(uri, content);</code> </pre><br>  Es gibt einen kleinen ungeschickten Moment.  Wir schreiben einen Dienst. Es wäre schön, wenn er zuerst prüft, ob der von uns benötigte Ordner vorhanden ist, bevor er versucht, ihn zu erstellen.  CrowdIn bietet keine normale Möglichkeit, nach einem Ordner zu suchen. Daher senden wir eine Anfrage zur Erstellung.  Wenn es nicht vorhanden ist, erstellt CrowdIn es und gibt den Code 200 zurück. Wenn ein Ordner vorhanden war, wird nichts erstellt und der Code 500 zurückgegeben. <br><br>  3. Exportieren Sie Dateien.  Die Funktion zum Hinzufügen von Dateien bietet viele Optionen und Parameter, wie und wo gelesen werden soll.  Unten sehen Sie ein Beispiel dafür, wie wir Daten mit XML-Dateien laden. <br><br><div class="spoiler">  <b class="spoiler_title">Beispiel</b> <div class="spoiler_text">  Wir speichern alle Daten, die wir übersetzen möchten, in XML-Dateien mit der folgenden Struktur. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableDocument</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableValues</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableValue</span></span></span><span class="hljs-tag">&gt;</span></span> … <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Attributes</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableAttributeValue</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AttributeName</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableAttributeValue</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Attributes</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableValue</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableValues</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableDocument</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Damit CrowdIn analysieren kann, welche Daten aus der Datei übersetzt werden müssen, muss sie angegeben werden.  Dazu müssen Sie ein Array von translatable_elements-Parametern mit den Pfaden zu den erforderlichen Elementen des Dokuments in den Inhalt schreiben.  In unserem Fall sah es so aus: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uri = <span class="hljs-string"><span class="hljs-string">$"project/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_projectName}</span></span></span><span class="hljs-string">/add-file?key=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{apiKey}</span></span></span><span class="hljs-string">"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> content = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MultipartFormDataContent { { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringContent(<span class="hljs-string"><span class="hljs-string">"/LocalizableDocument/LocalizableValues/LocalizableValue/Attributes/LocalizableAttributeValue/Value"</span></span>), <span class="hljs-string"><span class="hljs-string">"translatable_elements[0]"</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> filePath <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> filePaths) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fileName = Path.GetFileName(filePath); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fileStream = File.OpenRead(filePath); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fileContent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StreamContent(fileStream); content.Add(fileContent, <span class="hljs-string"><span class="hljs-string">$"files[</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_crowdInDirectoryPath}</span></span></span><span class="hljs-string">/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{fileName}</span></span></span><span class="hljs-string">]"</span></span>, fileName); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> PostAsync(uri, content);</code> </pre><br></div></div><br>  Bitte beachten Sie: In der Dokumentation heißt es, dass CrowdIn maximal 20 Dateien gleichzeitig kauen kann, während die Größe einer Datei 100 MB nicht überschreiten sollte. <br><br>  4. Wir finden heraus, welche Dateien wir vollständig übersetzt haben.  Wir tun dies mit einem Befehl für eine bestimmte Sprache. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uri = <span class="hljs-string"><span class="hljs-string">$"project/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_projectName}</span></span></span><span class="hljs-string">/language-status?key=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{apiKey}</span></span></span><span class="hljs-string">"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> content = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MultipartFormDataContent {{ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringContent(langCode), <span class="hljs-string"><span class="hljs-string">"language"</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> PostAsync(uri, content);</code> </pre><br>  Die Plattform wird uns ungefähr so ​​zurückgeben: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span>directory<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span>29812<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>Version 1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">files</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span>file<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span>29827<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>strings.xml<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span>file<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">phrases</span></span></span><span class="hljs-tag">&gt;</span></span>7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">phrases</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">translated</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">translated</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">approved</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">approved</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words</span></span></span><span class="hljs-tag">&gt;</span></span>32<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words_translated</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words_translated</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words_approved</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words_approved</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">files</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Hier interessieren uns die Werte &lt;übersetzt /&gt; und &lt;genehmigt /&gt;.  Der erste zeigt den Prozentsatz der übersetzten Zeilen in dieser Datei, der zweite den Prozentsatz der genehmigten Werte, wenn neben dem Übersetzer auch ein Prüfer am Workflow teilnimmt.  Abhängig von unserem Workflow betrachten wir beispielsweise bei 100 das Dokument als übersetzt und genehmigt.  Jetzt kann diese Datei wieder in uns importiert werden. <br><br>  5. Importieren Sie die Datei zurück in unser System. <br>  Dies erfolgt mit einer einfachen GET-Anfrage. <br><br><pre> <code class="hljs cmake">https://api.crowdin.com/api/<span class="hljs-keyword"><span class="hljs-keyword">project</span></span>/{_projectName}/<span class="hljs-keyword"><span class="hljs-keyword">export</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">file</span></span>?<span class="hljs-keyword"><span class="hljs-keyword">file</span></span>={_crowdInDirectoryPath}/{fileName}&amp;language={langCode}&amp;key={<span class="hljs-keyword"><span class="hljs-keyword">project</span></span>-key}</code> </pre> <br>  Die resultierende Datei wird deserialisiert und die Daten in unser System importiert. <br><br><h2>  Anstelle einer Schlussfolgerung </h2><br>  Im Allgemeinen ist das alles.  Natürlich mussten wir die Anzeige der Signaturen auf der Fidschi-Karte noch verfeinern, damit sie in der richtigen Sprache angezeigt wurden, je nachdem, welches Gebiet der Kartograf jetzt regiert.  Es war notwendig, mit anderen Systemen zu vereinbaren, wie wir sie mit mehrsprachigen Daten versorgen werden, aber dies ist eine andere Geschichte. <br><br>  Infolgedessen erhielten wir den Service im Sinne von „eingeschaltet und vergessen“.  Kartografen geben Daten ein, Übersetzer übersetzen, der Scheich ist zufrieden, der Dienst lädt die Daten bei Bedarf hoch und wir lösen dringendere Probleme, ohne darüber nachzudenken, wie unser System in mehreren Sprachen funktioniert. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de425283/">https://habr.com/ru/post/de425283/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de425271/index.html">WPA3 könnte sicherer sein: Expertenmeinung</a></li>
<li><a href="../de425273/index.html">Eine andere Möglichkeit, Docker-Compose zu verwenden</a></li>
<li><a href="../de425275/index.html">12 Tipps zum Skalieren von Node.js.</a></li>
<li><a href="../de425279/index.html">So interviewen Sie Google: Was soll man sein, was soll man nicht bestehen?</a></li>
<li><a href="../de425281/index.html">Richtlinien für die "Konditionierung" eines Klons des beliebten chinesischen Mini-Routers Hame A15, auch bekannt als "A5-V11 ohne Markenzeichen"</a></li>
<li><a href="../de425285/index.html">Wenn Sie den Jones nicht einstellen, dann verdienen Sie die Herren nicht</a></li>
<li><a href="../de425287/index.html">FIAS-Häuser in PostgreSQL</a></li>
<li><a href="../de425289/index.html">Unternehmensfokus</a></li>
<li><a href="../de425291/index.html">Die Ergebnisse des Sommerpraktikums 2018: Sie fegten fünfhundert Pita Shawarma. Und überlebt</a></li>
<li><a href="../de425293/index.html">Das ideale (wahrscheinlich) Interview eines mobilen Mittelklasse-Entwicklers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>