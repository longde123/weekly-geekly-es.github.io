<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî± üåá ü§úüèª Telegram - bot | Menu lengkap ü§üüèæ üîì üëæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cepat atau lambat, dalam kehidupan pengembang bot telegram, ada pemahaman yang jelas bahwa semuanya diperlukan untuk membuat menu bot yang kurang lebi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Telegram - bot | Menu lengkap</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459604/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6c/b90/8bf/c6cb908bf54852219fe0026aa89e8409.jpg" alt="gambar"></div><br>  Cepat atau lambat, dalam kehidupan pengembang bot telegram, ada pemahaman yang jelas bahwa <s>semuanya</s> diperlukan untuk membuat menu bot yang kurang lebih lengkap. <br><br>  Sejak: <br><br>  A) Lebih mudah <br>  B) Nyaman untuk kustomisasi * <br><br><blockquote>  Tidak ada yang, tentu saja, membatalkan "/ tim", tetapi tetap saja </blockquote><a name="habracut"></a><br><h3>  Esensi dari tugas </h3><br>  Sekilas - tugasnya sederhana, tapi bagaimanapun caranya.  Seluruh <i>masalah ada</i> di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">API</a> itu sendiri <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">, yaitu di objek Perbarui</a> . <br><blockquote>  Sedikit lebih detail: Menggunakan metode getUpdate - Anda mendapatkan objek Perbarui, ini masuk akal!  Jadi, objek ini mengandung banyak hal berguna, termasuk informasi tentang pesan, tetapi hanya tentang yang terakhir.  Ini tangkapannya </blockquote>  Berdasarkan hal di atas, kesimpulan yang tidak terlalu menyenangkan berikut - memproses permintaan dengan webhook, tanpa menyimpan data tambahan, tidak bersinar bagi kami ... <br><br>  Yah, kita mencuci diri dan mulai bekerja. <br><br><h3>  <s>Menulis</s> Kode Belajar </h3><br>  Dalam latihan mereka, terutama untuk tugas ini, kelas kecil dikembangkan. <br><br>  BARU!  Sekarang di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github</a> ) <br><br>  Jika Anda tidak bisa menunggu, maka Anda dapat segera pergi ke repositori, ada perjalanan di sana. <br><br><h4>  Lanjutkan </h4><a name="RequestForInquiry"></a><br>  Kelas membuat <abbr title="Saya minta maaf atas singkatannya. Ini berarti bahwa kelas membuat file, yang kemudian melaporkan keberadaan permintaan">permintaan permintaan</abbr> <br><blockquote>  Sedikit tentang struktur: Menu ini dinavigasi dengan membuat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">permintaan untuk permintaan</a> .  Anda membuatnya di tempat yang tepat, dan pada panggilan <abbr title="Jangan bingung dengan pecundang!">pengguna</abbr> berikutnya, bam, dan dia ada di "menu". </blockquote>  Saya setuju, konsepnya, setelah itu, tidak menjadi dimengerti ... Saya akan mencoba mengklarifikasi.  Untuk memahami, Anda harus pergi ke tingkat abstraksi tertentu, yaitu, bayangkan bahwa seluruh struktur bot terdiri dari menu yang berbeda di mana pengguna beralih (Anda dapat menggambar analogi dengan aktivitas android).  Ketika bot diaktifkan, pengguna berada di "menu awal", dari mana ia dapat pergi, misalnya, di menu "Pengaturan", "Informasi", dll. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ac/c6b/9e8/8acc6b9e878f93bba2862a004a007507.gif" alt="gambar"><br><br>  Jadi, struktur bot berubah sedikit, singkatnya: <br><br>  Pertama, periksa apakah ada permintaan: <br><br>  YA) Jalankan penangan permintaan <br>  TIDAK) Kami tetap berada di "menu awal", kami memeriksa respons pengguna dengan perintah yang tersedia. <br><br>  * Ini adalah versi yang sangat sederhana, karena ini mengetuk bilah.  Dengan contoh itu akan menjadi lebih mudah. <br><br><h4>  Ayo lanjutkan ..? </h4><br>  Mari kita mulai dengan instalasi.  Kami akan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">compser</a> untuk menginstalnya (buat "composer.json", lalu salin baris di bawahnya, baca lebih lanjut di off.docs) <br><br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"require"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"s0d3s/tg-long-req"</span></span>: <span class="hljs-string"><span class="hljs-string">"&gt;=1"</span></span> } }</code> </pre> <br>  dan terhubung <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">include_once</span></span>(<span class="hljs-string"><span class="hljs-string">'path/to/autoload.php'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">TgLongReq</span></span>\<span class="hljs-title"><span class="hljs-title">TgLongReq</span></span>;</code> </pre> <br>  <b>ATAU</b> terhubung secara manual (unduh ke folder proyek) <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">include_once</span></span>(<span class="hljs-string"><span class="hljs-string">'TgLongReq.php'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">TgLongReq</span></span>\<span class="hljs-title"><span class="hljs-title">TgLongReq</span></span>;</code> </pre> <br>  <b>MENCIPTAKAN OBYEK</b> <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SOMTH</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($tg_res, $long_req_obj, $tab_key)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"EveryForEveryone"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } $BOT_FUNC_ASSO_TAB = arrray(<span class="hljs-string"><span class="hljs-string">"ECHO_SOMETHING"</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"SOMTH"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// -      ,  -  -\  $tgreq = new TgLongReq ( $usr_id, //(STR) -id  $BOT_FUNC_ASSO_TAB, //(ARRAY) $BOT_req_dir , //[OPT](STR) $tapi, //[OPT](ANY*) $result //[OPT](ANY**) ); // *  ,    $this-&gt;tg_api // **  ,     </span></span></code> </pre><br>  <b>MEMBUAT PERMINTAAN, PERIKSA KETERSEDIAANNYA, dan mulailah memproses</b> <br><br><pre> <code class="php hljs">$tgreq -&gt; ReqCreate(<span class="hljs-string"><span class="hljs-string">'SOMTH'</span></span>);<span class="hljs-comment"><span class="hljs-comment">//  if($tgreq -&gt; ReqCheck()){ // ,   ,       $tgreq -&gt; ReqHand();// ,   }</span></span></code> </pre><br>  <b>TERSEMBUNYI DAN MENDAPATKAN DATA WAKTU</b> <br><br>  simpan: <br><br><pre> <code class="php hljs">$tgreq -&gt; SaveToTemp(<span class="hljs-string"><span class="hljs-string">'HiHabr'</span></span>);<span class="hljs-comment"><span class="hljs-comment">//  ,    json-</span></span></code> </pre><br>  pulihkan: <br><br><pre> <code class="php hljs">$tgreq -&gt; GetFromTemp(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>);<span class="hljs-comment"><span class="hljs-comment">//  -    ,    // ,    SaveToTemp()</span></span></code> </pre><br>  <b>HASIL FUNGSI</b> <br><br>  Perlu dicatat bahwa setiap fungsi [dengan pengecualian GetFromTemp (), GetError (), ReqCheck () dan konstruktor], mengembalikan array: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/*$function_result = array( 'func_res' =&gt;   'error' =&gt;true,    'err_discript' =&gt; ,     ); */</span></span></code> </pre><br>  <b>GALAT</b> <br><br>  Setiap fungsi [dengan pengecualian GetFromTemp (), GetError (), ReqCheck (), dan konstruktor] menetapkan kesalahan jika terjadi kegagalan, yang dapat diperiksa dengan: <br><br><pre> <code class="php hljs">$error_arr = $tgreq -&gt; GetError(); <span class="hljs-comment"><span class="hljs-comment">/*$error_arr = array( 'error' =&gt;true,    'err_discript' =&gt; ,     ); */</span></span></code> </pre><br><h3>  Semua berkumpul, pergi! </h3><br>  Kami akan berasumsi bahwa Anda minimal terbiasa menulis bot telegram, jika tidak -% <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> %, membaca item " <u>Menulis kode bot</u> " - tautan pertama di Google pada subjek, Anda dapat mencari sendiri, hal utama adalah mencari tahu cara membuat bot di tg sendiri, dan mengonfigurasi dia ke server Anda.  Jika ini menarik, saya akan menulis artikel tentang cara mengonfigurasi webhook agar berfungsi dengan server lokal (~ BARU! Solusi untuk melewati "masalah" dengan https). <br><br>  Kami akan menyadari contoh ini.  Kami membagi ruang menjadi dua file "botmain.php" (menu utama dan pemrosesan) dan "varfunc.php" (fungsi pemrosesan permintaan).  Sebagai contoh mudahnya, kami akan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">telegram-bot-sdk</a> (proyek yang dibuat dengan baik dan dirancang, nyaman untuk proyek kecil, terima kasih kepada penciptanya;). <br><br>  Secara umum, <i>daftar</i> : <br><br><div class="spoiler">  <b class="spoiler_title">composer.json</b> <div class="spoiler_text"><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"require"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"irazasyed/telegram-bot-sdk"</span></span>: <span class="hljs-string"><span class="hljs-string">"&gt;=3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"s0d3s/tg-long-req"</span></span>: <span class="hljs-string"><span class="hljs-string">"&gt;=1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"php"</span></span>:<span class="hljs-string"><span class="hljs-string">"&gt;=7.1"</span></span> } }</code> </pre><br></div></div><br>  Selanjutnya, di folder proyek, buka konsol dan ... <br><br><pre> <code class="bash hljs">&gt;composer install ...</code> </pre><br>  <b>UPD</b> : Dalam kerangka Habr, kode sumber menjadi tidak dapat dibaca, tanpa pengeditan global.  Karena itu, jika Anda tertarik pada contoh, saya sarankan Anda beralih ke github. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Asli</a> |  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Versi sederhana</a> . <br><br><h4>  Kesimpulan </h4><br>  Pada akhirnya, saya hanya bisa mengatakan bahwa ini bukan satu-satunya solusi yang mungkin untuk masalah ini, tetapi dari sudut pandang optimalitas untuk ME adalah favorit. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id459604/">https://habr.com/ru/post/id459604/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id459592/index.html">Tiga tips manajemen waktu untuk mereka yang telah mencoba segalanya.</a></li>
<li><a href="../id459594/index.html">Baca di antara catatan: sistem transfer data di dalam musik</a></li>
<li><a href="../id459596/index.html">iOS Digest No. 9 (28 Juni - 11 Juli)</a></li>
<li><a href="../id459598/index.html">SELinux Pertanyaan yang Sering Diajukan (FAQ)</a></li>
<li><a href="../id459602/index.html">Kami menanamkan Lua interpreter dalam proyek untuk mikrokontroler (stm32)</a></li>
<li><a href="../id459606/index.html">Jaringan sosial terdistribusi</a></li>
<li><a href="../id459610/index.html">Router berbahaya ini: peretasan paling besar dari peralatan jaringan baru-baru ini dan metode perlindungan</a></li>
<li><a href="../id459612/index.html">Bagaimana Qualcomm merobek industri ponsel selama hampir 20 tahun berturut-turut</a></li>
<li><a href="../id459614/index.html">Bebek robot mengaduk sawah</a></li>
<li><a href="../id459616/index.html">MIPT membuka program master lanjutan pertama Rusia dalam Ilmu Komputer dan Rekayasa Perangkat Lunak</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>