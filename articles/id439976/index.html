<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍⚕️ 🖼️ 🧜🏼 Apakah Node.js selalu lebih lambat dari Golang? 👩🏿‍🔧 📩 🐝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ada perasaan bahwa setiap minggu ada "kerangka kerja web" baru untuk Node.js, yang disebut sesuatu yang bekerja lebih cepat daripada semua yang datang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apakah Node.js selalu lebih lambat dari Golang?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/439976/">  Ada perasaan bahwa setiap minggu ada "kerangka kerja web" baru untuk Node.js, yang disebut sesuatu yang bekerja lebih cepat daripada semua yang datang sebelumnya.  Semua orang tahu bahwa Express lambat, tetapi apakah kerangka kerja berikutnya mampu benar-benar meningkatkan kinerja subsistem I / O Node.js?  Satu-satunya hal yang dapat dilakukan adalah menghilangkan beban berlebih pada sistem yang dibuat oleh Express.  Tidak ada pembicaraan tentang meningkatkan sesuatu yang mendasar.  Bahkan, untuk memperbaiki situasi secara radikal, Anda harus bekerja di level yang lebih dalam, dan tidak menambahkan abstraksi baru di atas Node.js. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/ca9/67d/fb9/ca967dfb9d2f8e6128460295b5245e65.jpg" alt="gambar"></a> <br><br>  Apa yang diperlukan untuk membuat aplikasi server pada platform Node.js yang berjalan jauh lebih cepat dari semua yang ada saat ini? <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Analisis situasi</font> </h2><br>  Express adalah salah satu kerangka kerja web tertua untuk Node.js.  Ini didasarkan pada kemampuan standar platform ini, memberikan pengembang antarmuka yang nyaman dibangun di sekitar konsep aplikasi, dan memungkinkan Anda untuk mengelola rute URL, parameter, metode, dan sejenisnya. <br><br>  Ekspres sederhana, ini membantu programmer cepat mengembangkan aplikasi.  Satu-satunya hal yang kurang adalah kinerja.  Proyek yang terus muncul, seperti Fastify, berusaha memberi pengembang kemampuan yang sama dengan Express, tetapi dengan lebih sedikit kehilangan kinerja.  Tapi mereka sendiri yang membuat beban tambahan pada sistem dan sangat mempengaruhi kinerja.  Mereka sangat dibatasi oleh apa yang dapat disediakan platform Node.js.  Dan itu bisa memberi, dibandingkan dengan pesaing, tidak terlalu banyak. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/748/266/c8a/748266c8a017e8c15fb882d06c2100fd.png"></div><br>  <i><font color="#999999">Jumlah permintaan HTTP yang diproses oleh berbagai server per detik</font></i> <br><br>  Perhatikan garis merah.  Ini adalah platform maksimum Node.js.  Baginya, terlepas dari apakah nama mereka mengandung kata "cepat" atau tidak, mereka tidak dapat melewati batas ini.  Ini sebenarnya adalah batas kinerja yang sangat rendah ketika membandingkan platform Node.js dengan alternatif populernya seperti Golang. <br><br>  Untungnya, Node.js mendukung pengaya C ++, pengikat Google V8 yang memungkinkan Anda untuk mengikat JavaScript dan C ++, dan memungkinkan Anda untuk memanggil mekanisme apa pun dari JavaScript, bahkan jika mekanisme ini disediakan oleh sesuatu selain platform Node.js. <br><br>  Ini memungkinkan untuk memperluas dan meningkatkan kemampuan aplikasi JavaScript, memungkinkan Anda untuk mencapai tingkat kinerja baru.  Ini memungkinkan program-program JavaScript untuk memeras segala yang mungkin dari mesin Google V8, tidak terbatas pada apa yang ditemukan oleh para pengembang Node.js cukup memadai. <br><br><h2>  <font color="#3AC1EF">Tentang μWebSockets.js</font> </h2><br>  Awal bulan ini, saya merilis proyek baru - <a href="">μWebSockets.js</a> .  GitHub digunakan sebagai hosting untuk kodenya, bukan npm, tetapi Anda dapat menginstalnya untuk Node.js menggunakan npm seperti ini: <br><br><pre><code class="plaintext hljs">npm install uNetworking/uWebSockets.js#v15.0.0</code> </pre> <br>  Untuk bekerja dengan µWebSockets.js, Anda tidak memerlukan kompiler.  Linux, macOS dan Windows didukung.  Versi awal sistem adalah 15.0.0, penomoran versi dilakukan sesuai dengan aturan semantic versioning. <br><br>  μWebSockets.js adalah server web alternatif untuk aplikasi backend yang ditulis dalam JS.  Ini terdiri dari sekitar 6 ribu baris kode C dan C ++ dan secara signifikan mengungguli solusi terbaik yang ditulis dalam Golang.  Jadi, pertukaran bitfinex.com telah mem-porting kedua API perdagangannya (REST dan WebSocket) ke μWebSockets.js dan secara bertahap memperkenalkannya ke dalam produksi.  Paolo Ardoino dari Bitfinex mencatat bahwa ini adalah proyek yang hebat.  Saya ingin mengatakan bahwa fakta bahwa saya memiliki kesempatan untuk merilis μWebSockets.js sepenuhnya karena dukungan yang diberikan kepada saya oleh BitMEX, Bitfinex dan Coinbase. <br><br><h2>  <font color="#3AC1EF">Fitur μWebSockets.js</font> </h2><br>  μWebSockets.js adalah proyek baru yang dirilis di bawah lisensi Apache 2.0, yang merupakan kelanjutan dari apa yang dikenal sebagai "uws".  Proyek ini adalah tumpukan lengkap untuk Google V8, mulai dari level kernel sistem operasi, sepenuhnya menggantikan fitur standar Node.js dan mewakili subsistem I / O yang stabil, aman, memenuhi standar, cepat dan ringan untuk Node.js.  Inilah yang tampak seperti interaksi aplikasi JS dengan sistem operasi menggunakan μWebSockets.js. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4ef/b7e/416/4efb7e416344ba928f85143ad1dbba62.png"></div><br>  <i><font color="#999999">Interaksi JS-aplikasi dengan OS menggunakan µWebSockets.js</font></i> <br><br>  Seperti yang Anda lihat, proyek ini terdiri dari beberapa lapisan.  Setiap lapisan hanya bergantung pada lapisan sebelumnya.  Arsitektur ini menyederhanakan identifikasi dan koreksi kesalahan, serta implementasi pekerjaan untuk memperluas solusi karena penerapan fitur-fitur baru di dalamnya. <br><br>  Perlu dicatat bahwa lapisan <code>µSockets</code> sendiri terdiri dari tiga sublayers, yang merupakan mekanisme untuk bekerja dengan peristiwa dan dengan jaringan, serta alat untuk melindungi data.  Hal ini memungkinkan, jika perlu, untuk mengganti bagian-bagian dari solusi, menambahkan implementasi alternatif dari fitur-fitur tertentu ke sistem, tanpa memenuhi kebutuhan untuk mengubah kode pada level yang lebih tinggi. <br><br>  Sebagai contoh, jika Anda perlu mengganti OpenSSL dengan sesuatu, ubah saja file <code>ssl.c</code> dengan enam ratus baris kode menjadi apa yang Anda butuhkan.  Namun, lapisan lain dari sistem bahkan tidak tahu apa itu SSL.  Pendekatan ini, selain kenyamanan mengganti beberapa bagian sistem dengan yang lain, juga mengarah pada penyederhanaan proses deteksi kesalahan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/719/113/b42/719113b4261fee20a799f8412e332f53.png"></div><br>  <i><font color="#999999">ΜMemasang sublapis bagian dalam</font></i> <br><br>  Arsitektur yang disajikan di sini sangat berbeda dari yang monolitik yang digunakan di Node.js, di mana dalam file kode sumber yang sama Anda dapat menemukan panggilan ke libuv, perintah untuk bekerja dengan sistem, dan panggilan ke OpenSSL dan V8.  Dalam Node.js semua ini tercampur, tidak ada yang berangkat untuk mengisolasi masing-masing bagian dari platform ini.  Ini sangat menyulitkan proses membuat perubahan besar pada Node.js. <br><br><h2>  <font color="#3AC1EF">Tentang pengembangan untuk μWebSockets.js</font> </h2><br>  Berikut adalah contoh yang sangat disederhanakan dan disingkat dari bekerja dengan μWebSockets.js, yang tugas utamanya adalah menunjukkan kemampuan dasar sistem. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* SSL-   */</span></span> uWS.SSLApp({   <span class="hljs-attr"><span class="hljs-attr">key_file_name</span></span>: <span class="hljs-string"><span class="hljs-string">'misc/key.pem'</span></span>,   <span class="hljs-attr"><span class="hljs-attr">cert_file_name</span></span>: <span class="hljs-string"><span class="hljs-string">'misc/cert.pem'</span></span>,   <span class="hljs-attr"><span class="hljs-attr">passphrase</span></span>: <span class="hljs-string"><span class="hljs-string">'1234'</span></span> }).get(<span class="hljs-string"><span class="hljs-string">'/hello'</span></span>, (res, req) =&gt; {   <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span>   res.end(<span class="hljs-string"><span class="hljs-string">'Hello World!'</span></span>); }).ws(<span class="hljs-string"><span class="hljs-string">'/*'</span></span>, {   <span class="hljs-attr"><span class="hljs-attr">open</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ws, req</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'A WebSocket connected via URL: '</span></span> + req.getUrl() + <span class="hljs-string"><span class="hljs-string">'!'</span></span>);   },   <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ws, message, isBinary</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-comment"><span class="hljs-comment">/* OK   false          *     */</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> ok = ws.send(message, isBinary);   },   <span class="hljs-attr"><span class="hljs-attr">drain</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ws</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'WebSocket backpressure: '</span></span> + ws.getBufferedAmount());   },   <span class="hljs-attr"><span class="hljs-attr">close</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ws, code, message</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'WebSocket closed'</span></span>);   } }).listen(port, (token) =&gt; {   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (token) {       <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Listening to port '</span></span> + port);   } });</code> </pre> <br>  Dalam arti tertentu, kita dapat mengatakan bahwa µWebSockets.js menggunakan SSL dapat mem-bypass Gorilla WebSocket, sebuah implementasi dari protokol WebSocket on Go, tanpa SSL.  Artinya, ternyata kode JS dapat bertukar pesan menggunakan SSL lebih cepat daripada, dalam kondisi tertentu, kode yang ditulis dalam Go tanpa SSL.  Saya percaya bahwa ini adalah hasil yang sangat baik. <br><br><h2>  <font color="#3AC1EF">Implementasi Protokol WebSocket Cepat</font> </h2><br>  Socket.IO, dalam banyak hal, dapat dianggap setara dengan Express secara real time.  Kedua proyek ini muncul sejak lama, mudah untuk bekerja dengan mereka, mereka populer.  Tetapi mereka, antara lain, juga lambat. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7eb/459/06d/7eb45906d3bb8f8867ed5f689223d441.png"></div><br>  <i><font color="#999999">Berbagai implementasi WebSocket</font></i> <br><br>  Tugas-tugas yang dipecahkan oleh pengembang Socket.IO direduksi menjadi implementasi fungsi untuk mempublikasikan pesan dan berlangganan, hingga kemampuan untuk mengirim dan menerima pesan. <br><br>  Pada saat yang sama, perlu dicatat penggunaan beberapa mekanisme cadangan untuk bekerja dengan protokol WebSocket, karena browser telah lama mendukung teknologi ini.  Lalu lintas SSL tidak dapat diartikan oleh proksi perusahaan, ia melewati mereka dengan cara yang sama seperti lalu lintas HTTP, dan sebagai hasilnya, menggunakan protokol WebSocket melalui SSL tidak memblokir lalu lintas yang sesuai.  Mekanisme cadangan untuk mendukung WebSocket dapat disediakan, tetapi tidak ada gunanya menggunakannya.  Mereka hanya secara tidak masuk akal meningkatkan kompleksitas keputusan. <br><br>  Salah satu tujuan dari μWebSockets.js adalah untuk memberikan pengembang fitur yang mirip dengan yang ditemukan di Socket.IO sehingga μWebSockets.js dapat sepenuhnya menggantikan Socket.IO tanpa memerlukan pembungkus tingkat yang lebih tinggi. .  Ini dimungkinkan jika beberapa protokol non-standar khusus tidak digunakan. <br><br>  Banyak perusahaan memiliki masalah dalam menerbitkan dan berlangganan pesan saat bekerja dengan WebSocket.  Perlu dicatat bahwa dalam rilis yang dijelaskan dari μWebSockets.js fitur-fitur ini tidak banyak diperhatikan, tetapi sekarang pekerjaan serius sedang dilakukan pada mereka.  Hasilnya akan sangat cepat (tes menunjukkan bahwa µWebSockets.js sudah lebih cepat dari Redis).  Jadi tetap disini. <br><br><h2>  <font color="#3AC1EF">Ringkasan</font> </h2><br>  Saat ini μWebSockets.js sedang berkembang, fitur baru ditambahkan ke proyek, kesalahan diperbaiki.  Butuh beberapa waktu untuk menghilangkan kekurangan kecil yang merupakan ciri dari rilis pertama program baru.  Ingatlah bahwa ini adalah proyek besar yang terdiri dari ribuan baris kode yang ditulis dalam C dan C ++, yang disimpan dalam tiga repositori.  <a href="">Di sinilah</a> letak pembungkus JavaScript - uWebSockets.js.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Berikut adalah</a> server web yang ditulis dalam C ++ - uWebSockets.  Dan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> adalah pustaka dasar yang ditulis dalam C - uSockets. <br><br>  Proyek tersebut digunakan oleh perusahaan, program-program yang digunakan untuk menciptakan beban besar pada subsistem I / O.  Di perusahaan-perusahaan ini, stabilitas dan keamanan, yang sepenuhnya alami dan jelas, adalah karakteristik terpenting dari perangkat lunak yang mereka gunakan. <br><br>  <b>Pembaca yang budiman!</b>  Apakah Anda berencana untuk menggunakan μWebSockets.js dalam proyek Anda? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id439976/">https://habr.com/ru/post/id439976/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id439966/index.html">Pengurai sederhana untuk operasi aritmatika</a></li>
<li><a href="../id439968/index.html">Ruang Generasi dan Ruang Peluang</a></li>
<li><a href="../id439970/index.html">Laporkan masalah dan aksesibilitas Internet pada 2018-2019</a></li>
<li><a href="../id439972/index.html">io_submit: alternatif untuk epoll yang belum pernah Anda dengar</a></li>
<li><a href="../id439974/index.html">Transformasi Agile Pribadi: Perjalanan Fleksibel ke Produktivitas</a></li>
<li><a href="../id439978/index.html">Learning Docker, Bagian 2: Istilah dan Konsep</a></li>
<li><a href="../id439980/index.html">Belajar Docker, Bagian 3: File Dockerfile</a></li>
<li><a href="../id439982/index.html">React Tutorial, Bagian 16: Fase Keempat Bekerja pada Aplikasi TODO, Pemrosesan Acara</a></li>
<li><a href="../id439984/index.html">React Tutorial, Bagian 17: Tahap Kelima Bekerja pada Aplikasi TODO, Mengubah Status Komponen</a></li>
<li><a href="../id439986/index.html">Chips VS Ancaman terhadap Teknologi Kontainerisasi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>