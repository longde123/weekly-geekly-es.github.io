<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💝 😿 🙆🏿 AOP vs Funktionen 🙅🏿 👩🏼‍🍳 🤜🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aspect Oriented Programming (AOP) ist ein recht beliebtes Programmierparadigma. Der Wikipedia-Artikel erklärt die Motivation für diesen Ansatz gut. 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AOP vs Funktionen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435454/">  <b>Aspect Oriented Programming</b> (AOP) ist ein recht beliebtes Programmierparadigma.  Der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wikipedia-Artikel</a> erklärt die Motivation für diesen Ansatz gut. <br><br><img src="https://habrastorage.org/webt/v0/-3/u-/v0-3u-qnmbsx2cjc3tv-c9ccy2s.png" alt="Bild"><br><a name="habracut"></a><br>  <b>AOP</b> ist ein hervorragendes Werkzeug für globale Konzepte wie die Protokollierung, die sich direkt nicht auf die Logik des Codes auswirkt. <br><br>  Probleme mit AOP werden jedoch entdeckt, wenn es für geschäftliche Anforderungen wie die Autorisierung verwendet wird.  Solche Aspekte sollten im entsprechenden Code deutlich sichtbar sein, damit der Entwickler beim Lesen des Quellcodes sofort sehen kann, ob sie korrekt implementiert sind.  AOP-Frameworks lösen dieses Problem normalerweise mit Anmerkungen: <br><br><pre><code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@RequireRole(Role.Admin)</span></span> <span class="hljs-comment"><span class="hljs-comment">// clearly visible aspect fun updateUserPermissions(…) { // logic here }</span></span></code> </pre> <br>  In Bezug auf die Lesbarkeit unterscheidet es sich jedoch nicht wesentlich vom funktionalen Ansatz, bei dem anstelle der Annotation die <i>requireRole-</i> Methode verwendet wird. <br><br><blockquote>  <i>Anmerkung des Übersetzers</i> : Im Originalartikel wird der Ausdruck verwendet, <b>wenn er auf funktionale Weise</b> oder mit <b>funktionalem Ansatz</b> <b>umgeschrieben</b> <b>wird. Dies</b> kann als Verwendung eines funktionalen Ansatzes oder eines direkten / spezifischen Funktionsaufrufs interpretiert werden.  Der Artikel enthält Beispiele, die auf unterschiedliche Weise interpretiert werden können. <br><br>  Auch: <br><br>  1. In Zukunft werden wir zum Konzept der Funktionen höherer Ordnung zurückkehren <br><br>  2. Der Artikel trifft auf den Wortaspekt, den Engländerismus, und das Konzept im AOP- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aspekt</a> </blockquote><br><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUserPermissions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(…)</span></span></span></span> { requireRole(Role.Admin) <span class="hljs-comment"><span class="hljs-comment">// throws SecurityException // logic here }</span></span></code> </pre><br>  Darüber hinaus hat der funktionale Ansatz den Vorteil, dass er auf komplexere Zugriffskontrollprüfungen wie die Analyse von Methodenparametern skaliert werden kann, bevor entschieden wird, welche Benutzerrolle erforderlich ist. <br><br>  Gleiches gilt für andere Arten von Aspekten, z. B. Transaktionen.  Leider ist die funktionale Darstellung komplexerer Konzepte in Java umständlich und unpraktisch, was die künstliche Popularität von AOP-Frameworks im Java-Ökosystem hervorruft. <br><br>  In Kotlin anstelle eines Java-ähnlichen Transaktionsansatzes mit AOP und Anmerkungen wie diesen: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Transactional</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUserPermissions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(…)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// logic here }</span></span></code> </pre><br>  Es ist auch lesbar und sieht sauber aus, wenn es ohne Anmerkungen neu geschrieben wird, mit einem funktionalen Ansatz. <br><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUserPermissions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(…)</span></span></span></span> = transactional { <span class="hljs-comment"><span class="hljs-comment">// logic here }</span></span></code> </pre><br>  Der Vorteil dieses Ansatzes ist, dass Sie jederzeit Strg / Befehlstaste drücken können. Klicken Sie auf die <i>Transaktionsfunktionsdeklaration</i> in Ihrer IDE und sehen Sie sofort, was genau sie tut.  Dies ist normalerweise mit keinem der häufig verwendeten AOP-Frameworks möglich.  Selbst wenn die Navigation zum Aspektcode mithilfe des IDE-Plugins bereitgestellt wird, erfordert die Entschlüsselung seiner Logik die Kenntnis einer separaten multifunktionalen API und / oder Konventionen. <br><br>  Leider gibt es Probleme bei der Skalierung des Ersetzens von AOP-Annotationen in Kotlin.  Für den Fall, dass mehrere Aspekte auf dieselbe Funktion angewendet werden, wobei sich geschweifte Klammern und Einrückungen ansammeln: <br><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUserPermissions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(…)</span></span></span></span> = logged { transactional { <span class="hljs-comment"><span class="hljs-comment">// logic here } }</span></span></code> </pre><br>  Eine Problemumgehung besteht darin, eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Funktion höherer Ordnung</a> zu erstellen, um akzeptablen Code zu erhalten, wenn mehrere Aspekte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">angewendet werden</a> : <br><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUserPermissions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(…)</span></span></span></span> = loggedTransactional { <span class="hljs-comment"><span class="hljs-comment">// logic here }</span></span></code> </pre><br>  Ein weiterer Nachteil des funktionalen Ansatzes besteht darin, dass Aspekte wie die Protokollierung den Zugriff auf die Methodenparameter erfordern.  Sie sind normalerweise in AOP-Frameworks über spezielle APIs verfügbar, aber mit Standardfunktionen der Kotlin-Sprache können Sie nicht einfach darauf zugreifen.  Um also ein reales Beispiel für den Aspekt der Protokollierung in einer rein funktionalen Form zu präsentieren, müssen Sie noch eine erhebliche Menge an <i>Kesselplattencode</i> schreiben: <br><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateUserPermissions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(params: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Params</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> = logged(<span class="hljs-string"><span class="hljs-string">"updateUserPermissions(</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$params</span></span></span><span class="hljs-string">)"</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// logic here }</span></span></code> </pre><br>  Diese Überlegung macht AOP immer noch zum bevorzugten Protokollierungswerkzeug, wenn Sie es wirklich global und konsistent in Ihrer Anwendung benötigen.  Gleichzeitig ist die Verwendung von AOP für Funktionen wie Autorisierung und Transaktionen angesichts der umfangreichen funktionalen Abstraktionen, die in Kotlin verfügbar sind, ein Missbrauch.  Funktionen erfüllen diese Anforderungen besser und sauberer. <br><br>  Abschließend würde ich sagen, dass eine weitere Verbesserung der funktionalen Abstraktionen, um AOP noch besser zu ersetzen, ein vielversprechender Vektor für die zukünftige Entwicklung der Kotlin-Sprache sein könnte.  Java-basierte AOP-Frameworks sind in der Regel JVM-spezifisch und werden als magisch empfunden, während Kotlins funktionale Abstraktionen wirklich plattformübergreifend und für den Benutzer transparent sind. <br><blockquote>  <i>Anmerkung des Übersetzers</i> : <br>  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel auf Medium (deu)</a> . <br>  2. Der Autor des Originalartikels ist <b>Roman Elizarov</b> (Teamleiter JetBrains, der an Kotlin-Coroutinen und -Bibliotheken, Sportprogrammierung / ICPC, Parallelität und Algorithmen, Mathematik / quantitative Finanzen; ehemals Devexperts) arbeitet.  Auf Habr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">elizarov</a> </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de435454/">https://habr.com/ru/post/de435454/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de435444/index.html">Wir implementieren OSGI auf der Karaf-Plattform</a></li>
<li><a href="../de435446/index.html">Verhuff-Algorithmus für ein beliebiges System mit geraden Zahlen</a></li>
<li><a href="../de435448/index.html">Über die Erfahrung der Kommunikation mit einem Signalgenerator über QTcpSocket und SCPI</a></li>
<li><a href="../de435450/index.html">Frohes Neues Jahr, Frohes Neues MQTT / UDP</a></li>
<li><a href="../de435452/index.html">End-to-End-Tests von Microservices mit Catcher</a></li>
<li><a href="../de435456/index.html">Ist es schädlich, nachts ein Smartphone neben sich zu lassen?</a></li>
<li><a href="../de435460/index.html">Coworkidea Coworking Fototour (Barcelona)</a></li>
<li><a href="../de435462/index.html">Testen von Node.js-Projekten. Teil 1. Testanatomie und Testtypen</a></li>
<li><a href="../de435464/index.html">Testen von Node.js-Projekten. Teil 2. Bewertung der Testleistung, kontinuierliche Integration und Analyse der Codequalität</a></li>
<li><a href="../de435466/index.html">React Tutorial Teil 6: Einige Funktionen des Kurses, JSX und JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>