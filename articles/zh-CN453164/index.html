<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“’ ğŸŒï¸ ğŸ¥ª åŠ å¯†ä»¤ç‰ŒPKCSï¼ƒ11ã€‚ å›¾å½¢å®ç”¨ç¨‹åºâ€œå…·æœ‰ç­¾åå’Œæ·»åŠ æ—¶é—´æˆ³çš„åŠŸèƒ½â€ã€‚ ç¬¬ä¸€éƒ¨åˆ† ğŸ™‹ğŸ½ ğŸ¤  ğŸ‘¨ğŸ¿â€ğŸ­</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨å¯¹æ–‡ç« â€œåœ¨è„šæœ¬è¯­è¨€ä¸­ä½¿ç”¨PKCSï¼ƒ11åŠ å¯†ä»¤ç‰Œæœºåˆ¶â€çš„è¯„è®ºä¸­ï¼Œ kovsergè¯»è€…å†™é“ ï¼š 
 â€œæˆ‘ä»¬æœŸå¾…è¿™ç¯‡æ–‡ç« å…·æœ‰ç­¾ç½²æ–‡æ¡£å’Œæ·»åŠ æ—¶é—´æˆ³çš„åŠŸèƒ½ã€‚â€  æ—©äº›æ—¶å€™ï¼Œ pas Habrçš„å¦ä¸€ä½å‚ä¸è€…å†™é“ ï¼Œè¿™å¯¹äºPKCSï¼ƒ11ä»¤ç‰Œï¼ˆæ¯ä¸ªäººéƒ½å¯ä»¥è®¡æ•°ï¼‰ï¼ˆæ„å‘³ç€ä¸»è¦æ˜¯ç”¨äºç”Ÿæˆå¯†é’¥ï¼Œç”Ÿæˆå’ŒéªŒè¯ç”µå­å¯†é’¥çš„åŠ å¯†...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åŠ å¯†ä»¤ç‰ŒPKCSï¼ƒ11ã€‚ å›¾å½¢å®ç”¨ç¨‹åºâ€œå…·æœ‰ç­¾åå’Œæ·»åŠ æ—¶é—´æˆ³çš„åŠŸèƒ½â€ã€‚ ç¬¬ä¸€éƒ¨åˆ†</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453164/"><img src="https://habrastorage.org/webt/xh/tq/ph/xhtqphqpspdmceylr6o1duj5vpu.png" align="left"> åœ¨å¯¹æ–‡ç« â€œåœ¨è„šæœ¬è¯­è¨€ä¸­ä½¿ç”¨PKCSï¼ƒ11åŠ å¯†ä»¤ç‰Œæœºåˆ¶â€çš„è¯„è®ºä¸­ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">kovserg</a>è¯»è€…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å†™é“</a> ï¼š <br><blockquote>  â€œæˆ‘ä»¬æœŸå¾…è¿™ç¯‡æ–‡ç« å…·æœ‰ç­¾ç½²æ–‡æ¡£å’Œæ·»åŠ æ—¶é—´æˆ³çš„åŠŸèƒ½ã€‚â€ </blockquote> æ—©äº›æ—¶å€™ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">pas</a> Habrçš„å¦ä¸€ä½å‚ä¸è€…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å†™é“</a> ï¼Œè¿™å¯¹äºPKCSï¼ƒ11ä»¤ç‰Œï¼ˆæ¯ä¸ªäººéƒ½å¯ä»¥è®¡æ•°ï¼‰ï¼ˆæ„å‘³ç€ä¸»è¦æ˜¯ç”¨äºç”Ÿæˆå¯†é’¥ï¼Œç”Ÿæˆå’ŒéªŒè¯ç”µå­å¯†é’¥çš„åŠ å¯†æ“ä½œï¼‰ï¼Œæ‘†è„±å„ç§ä¸­é—´å±‚å¹¶å…·æœ‰ä¸€ç§å®ç”¨ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨ä»¤ç‰Œæœ¬èº«çš„æœºåˆ¶æ¥å½¢æˆè¯ä¹¦è¯·æ±‚å¹¶ç­¾ç½²æ–‡æ¡£ï¼ŒéªŒè¯æ–‡æ¡£çš„ç­¾åï¼ŒéªŒè¯è¯ä¹¦çš„ç­¾åå’Œæœ‰æ•ˆæ€§ã€‚ <br><a name="habracut"></a><br><h3>  <font color="1368c2">ç†Ÿæ‚‰å®ç”¨ç¨‹åº</font> </h3><br> ç»“æœï¼Œæˆ‘ä»¬å°†è¯¥å®ç”¨ç¨‹åºæäº¤ç»™äº†ç”¨æˆ·æ³•é™¢ <br><br><div class="spoiler">  <b class="spoiler_title">guipkcs7_tclpkcs11ï¼š</b> <div class="spoiler_text"><ul><li>  <a href="">Linux32</a> </li><li>  <a href="">Linux64</a> </li><li>  <a href="">OS X</a> </li><li>  <a href="">WIN32</a> </li><li>  <a href="">WIN64</a> </li></ul><br></div></div><br><img src="https://habrastorage.org/webt/3a/zo/ob/3azoobtvrkbo6boo_tvquyt03ns.png"><br><br> æ­¤å®ç”¨ç¨‹åºçš„é©±åŠ¨åŠ›æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PKCSï¼ƒ11</a>åŠ å¯†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»¤ç‰Œ</a> ï¼Œè‡³å°‘æ”¯æŒGOST R 34.10-2012çš„ä¿„ç½—æ–¯åŠ å¯†ã€‚ å¦‚æœæ‚¨æ‰“ç®—ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…¬å…±æœåŠ¡</a>ç­‰ï¼Œåˆ™ä»ç„¶éœ€è¦è´­ä¹°å·²é€šè¿‡ä¿„ç½—æ–¯FSBè®¤è¯ç³»ç»Ÿè®¤è¯æµ‹è¯•çš„ä»¤ç‰Œã€‚ å¦‚æœè¿™æ˜¯æ‚¨çš„å†…éƒ¨ç”µå­æ–‡æ¡£ç®¡ç†ï¼Œé‚£ä¹ˆæ‚¨å½“ç„¶å¯ä»¥å†³å®šã€‚  PKCSï¼ƒ11ä»¤ç‰Œå¯ä»¥ä¸åŒï¼šè½¯ä»¶ï¼Œç¡¬ä»¶ç”šè‡³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">äº‘</a> ã€‚ è¯¥å®ç”¨ç¨‹åºæ˜¯ç”¨è„šæœ¬è¯­è¨€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Tcl / Tk</a>ç¼–å†™çš„ã€‚ è´­ä¹°PKCSï¼ƒ11ä»¤ç‰Œæ—¶ï¼Œè¯·ä¸è¦å¿˜è®°è·å–æˆ–è¯¢é—®åœ¨å“ªé‡Œå¯ä»¥ä¸‹è½½ç”¨äºå„ç§å¹³å°çš„å·²è´­ä¹°ä»¤ç‰Œçš„åº“ã€‚ å›¾ä¹¦é¦†é€šå¸¸æ˜¯å…è´¹æä¾›çš„ã€‚ è¯¥å®ç”¨ç¨‹åºä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">TclPKCS11</a>ç¨‹åºåŒ…æ¥è®¿é—®åŠ å¯†å’Œå…¶ä»–ä»¤ç‰Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åŠŸèƒ½</a> ã€‚ è¯¥å®ç”¨ç¨‹åºä»é€‰æ‹©æ”¯æŒä»¤ç‰Œçš„åº“å¼€å§‹ã€‚ è¯·æ³¨æ„ï¼Œåº“åº“å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªä»¤ç‰Œï¼ˆç»„åˆæ¡†â€œé€‰æ‹©ä»¤ç‰Œ/æ™ºèƒ½å¡â€ï¼‰ï¼š <br><br><img src="https://habrastorage.org/webt/hr/1j/zc/hr1jzcxcrdug57at8an0in9ahik.png"><br><br> å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæœªåˆå§‹åŒ–ä»¤ç‰Œæˆ–éœ€è¦æ›´æ”¹PINç ç­‰ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ ç­”æ¡ˆå¾ˆç®€å•-ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">p11conf</a>ä»¤ç‰Œé…ç½®å®â€‹â€‹ç”¨ç¨‹åºã€‚ <br><br> è¦æ›´æ–°ä»¤ç‰Œåˆ—è¡¨ï¼ˆç¦ç”¨ä»¤ç‰Œï¼Œæ·»åŠ ä¸€ä¸ªæ–°ä»¤ç‰Œï¼‰ï¼Œåªéœ€å•å‡» <br> é€šè¿‡å›¾æ ‡ <img src="https://habrastorage.org/webt/wj/dj/xy/wjdjxy2orhsi7op3stcjzpogisa.png"> ä½äºç»„åˆæ¡†â€œé€‰æ‹©ä»¤ç‰Œ/æ™ºèƒ½å¡â€å³ä¾§ <br> ç»„åˆæ¡†â€œè¯ä¹¦â€åŒ…å«æ‰€é€‰ï¼ˆå½“å‰ï¼‰ä»¤ç‰Œä¸Šå­˜å‚¨çš„æ‰€æœ‰è¯ä¹¦çš„æ ‡ç­¾ï¼š <br><br><img src="https://habrastorage.org/webt/ws/ew/bx/wsewbxr_8nksvtk9j-ckfs_ixwe.png"><br><br> å¦‚æœå•å‡»å›¾æ ‡ <img src="https://habrastorage.org/webt/ko/sk/sc/koskscpianfsm5kgw_1peg91t6u.png"> ä½äºç»„åˆæ¡†è¯ä¹¦å³ä¾§çš„çª—å£å°†æ˜¾ç¤ºä¸€ä¸ªçª—å£ï¼Œå…¶ä¸­åŒ…å«è¯ä¹¦çš„å†…å®¹ï¼š <br><br><img src="https://habrastorage.org/webt/9x/tg/qi/9xtgqiqpbgtwhu1nyb7p0ttkii4.png"><br><br> å¦‚æœå•å‡»æŸ¥çœ‹çª—å£ä¸­çš„â€œä¿å­˜/ä¿å­˜â€æŒ‰é’®ï¼Œåˆ™ä»¥æ–‡æœ¬æ ¼å¼è§£æçš„è¯ä¹¦çš„å†…å®¹å°†ä¿å­˜åœ¨æ‚¨æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚ <br> è¦æŸ¥çœ‹æœ‰å…³å½“å‰ä»¤ç‰Œçš„ä¿¡æ¯ï¼Œå¯ä»¥å•å‡»â€œ 6.ä»¤ç‰Œä¿¡æ¯â€æŒ‰é’®æˆ–å°†å…‰æ ‡ç§»åˆ°ä»¤ç‰Œæ ‡ç­¾ï¼š <br><br><img src="https://habrastorage.org/webt/cb/hn/5y/cbhn5yy0qyyremnetuakmcreoia.png"><br><br> ä¸ºäº†æ‰¾å‡ºå½“å‰ä»¤ç‰Œæ”¯æŒå“ªäº›åŠ å¯†æœºåˆ¶ï¼Œåªéœ€å•å‡»æŒ‰é’®â€œ 5.æœºåˆ¶åˆ—è¡¨â€ï¼š <br><br><img src="https://habrastorage.org/webt/0z/d2/d_/0zd2d_rk1jpetlsa883wthvye0e.png"><br><br><h3>  <font color="1368c2">åˆ›å»ºè¯ä¹¦ç”³è¯·</font> </h3> æˆ‘ä»¬ä¼ é€’ç»™è¯¥å®ç”¨ç¨‹åºçš„ä¸»è¦åŠŸèƒ½ã€‚ ç¬¬ä¸€ä¸ªè¿™æ ·çš„åŠŸèƒ½æ˜¯åˆ›å»ºè¯ä¹¦è¯·æ±‚ï¼ˆæŒ‰é’®â€œ 3.è¯ä¹¦è¯·æ±‚â€ï¼‰ï¼š <br><br><img src="https://habrastorage.org/webt/z9/ef/lf/z9eflfzgcrus2an8mc86t9djsv8.png"><br><br> å¦‚æœæ‰€é€‰ä»¤ç‰Œä¸æ”¯æŒç”Ÿæˆè¿™ç§ç±»å‹çš„å¯†é’¥ï¼Œåˆ™ä¼šå‡ºç°æ¶ˆæ¯â€œä»¤ç‰Œä¸æ”¯æŒå¯†é’¥...â€ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦é€‰æ‹©å…¶ä»–ç±»å‹çš„å¯†é’¥æˆ–å…¶ä»–ä»¤ç‰Œã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨RuToken ECP 2.0ä»¤ç‰Œï¼ˆè¯·å‚é˜…ç¬¬äºŒä¸ªå±å¹•æˆªå›¾ï¼‰ã€‚ ç»„åˆæ¡†â€œè¯ä¹¦æŒæœ‰è€…â€å…è®¸æ‚¨æŒ‡å®šè°å°†æ‹¥æœ‰è¯ä¹¦ï¼šä¸ªäººï¼Œæ³•äººå®ä½“æˆ–ä¸ªäººä¼ä¸šå®¶ã€‚ ä¾æ­¤ï¼Œå°†åœ¨æ¥ä¸‹æ¥çš„é¡µé¢ä¸­å½¢æˆè¦å¡«å†™çš„å­—æ®µã€‚ <br><br> è¿™é‡Œçš„ä¸€ä¸ªé‡è¦å­—æ®µæ˜¯â€œåç§°CIPFâ€å­—æ®µã€‚ å®ƒæ˜¯åˆæ ¼è¯ä¹¦çš„ç»„æˆéƒ¨åˆ†ï¼Œå®ƒæŒ‡ç¤ºå¯†ç ä¿¡æ¯ä¿æŠ¤ç³»ç»Ÿå¦‚ä½•ç”Ÿæˆå¯†é’¥å¯¹ã€‚ æ‚¨å¯ä»¥åœ¨äº§å“è¡¨æ ¼ä¸­æˆ–è´­ä¹°ä»¤ç‰Œæ—¶æ‰¾åˆ°åŠ å¯†ä¿¡æ¯ä¿æŠ¤è¯ä¹¦çš„åç§°ã€‚ æˆ‘å‘ç°å¾ˆéš¾è¯´ï¼Œä»¤ç‰Œä¿¡æ¯ä¸­çš„ç±»å‹å­—æ®µæ˜¯å¦ä¸å¯†ç ä¿¡æ¯ä¿æŠ¤ç³»ç»Ÿçš„åç§°ä¸€è‡´ã€‚ å› æ­¤ï¼Œæœ€å¥½æŸ¥çœ‹è¡¨æ ¼ã€‚ å•å‡»ä¸‹ä¸€æ­¥ï¼Œç„¶åå¡«å†™å¿…å¡«å­—æ®µï¼š <br><br><img src="https://habrastorage.org/webt/gj/vi/rx/gjvirxly5zr2gy1d22h-ifdzoei.png"><br><br> å¡«å†™æ—¶ï¼Œè¯¥å®ç”¨ç¨‹åºä¼šå°è¯•é€šè¿‡å‘å‡ºé€‚å½“çš„è­¦å‘Šæ¥æ§åˆ¶å¡«å†™å­—æ®µï¼ˆç”µå­é‚®ä»¶ï¼ŒPSRNç­‰ï¼‰çš„æ­£ç¡®æ€§ã€‚ å¡«å†™ä¸»è¦å­—æ®µåï¼Œå°†è¦æ±‚æ‚¨ç¡®å®šè¯ä¹¦ç”³è¯·åœ¨è®¡ç®—æœºä¸Šçš„æ ¼å¼å’Œå­˜å‚¨ä½ç½®ã€‚ æ‚¨è¿˜éœ€è¦è¾“å…¥ä»¤ç‰Œçš„PINç ï¼š <br><br><img src="https://habrastorage.org/webt/kg/xm/bm/kgxmbm_2xtski-x5fhh4jzkyeys.png"><br><br> å•å‡»â€œä¸‹ä¸€æ­¥â€æŒ‰é’®åï¼Œå°†è¦æ±‚æ‚¨å†æ¬¡æŸ¥çœ‹è¾“å…¥çš„å†…å®¹ï¼Œå¹¶æŒ‰â€œå®Œæˆâ€é”®ç¡®è®¤æ‚¨çš„å†³å®šï¼š <br><br><img src="https://habrastorage.org/webt/kk/yv/gr/kkyvgr2ayqktgluvfms_ooxhn5w.png"><br><br> è€Œä¸”ï¼Œå¦‚æœå•å‡»â€œå®Œæˆâ€æŒ‰é’®ï¼Œå°†åœ¨ä»¤ç‰Œä¸Šç”Ÿæˆä¸€ä¸ªå¯†é’¥å¯¹ï¼Œä¸€ä¸ªè¯·æ±‚å°†è¢«åˆ›å»ºå¹¶ç­¾åï¼š <br><br><img src="https://habrastorage.org/webt/uo/hj/nr/uohjnrhhbt6ih9qbsbdxzu3wqg0.png"><br><br> å¹¶ä¸”æ‚¨å¯ä»¥ç¡®ä¿å¯†é’¥å·²ç”Ÿæˆå¹¶å­˜å‚¨åœ¨ä»¤ç‰Œä¸Šå—ï¼Ÿ æ˜¯çš„ æˆ‘ä»¬æŒ‰ä¸‹â€œ 7.ä»¤ç‰Œå¯¹è±¡â€æŒ‰é’®ï¼Œè¾“å…¥PINç ä»¥è®¿é—®ä»¤ç‰Œï¼Œå¹¶æŸ¥æ‰¾å…¶æ ‡ç­¾ä¸æ‚¨åœ¨åˆ›å»ºè¯ä¹¦è¯·æ±‚æ—¶å¡«å†™çš„â€œ COMMON NANEâ€ï¼ˆCNï¼‰å­—æ®µåŒ¹é…çš„SKO_PRIVATE_KEYå’ŒCKO_PUBLIV_KEYå¯¹è±¡ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œå®ƒæ˜¯â€œå…¨èƒ½å“ˆä¼¯â€ï¼š <br><br><img src="https://habrastorage.org/webt/vv/rp/jm/vvrpjmoqxpgjfolr_mzino1uwhc.png"><br><br> çœ‹äº†ä¸€ä¸‹ï¼Œç«‹å³è½¬åˆ°å¦ä¸€é¡µã€‚ å¯†é’¥å¯¹å·²æˆåŠŸåˆ›å»ºçš„æœ€ä½³è¯æ®æ˜¯ç­¾åè¯·æ±‚æœ¬èº«çš„å­˜åœ¨ã€‚ ä¸ºäº†éªŒè¯è¿™ä¸€ç‚¹ï¼Œè¯·æŒ‰â€œæŸ¥çœ‹è¯·æ±‚/è¯ä¹¦â€æŒ‰é’®ï¼Œé€‰æ‹©å·²ä¿å­˜çš„è¯·æ±‚ï¼Œå•å‡»â€œæŸ¥çœ‹è¯ä¹¦çš„è¯·æ±‚â€æŒ‰é’®ï¼Œç„¶åæŸ¥çœ‹æœ‰å…³å¯†é’¥å¯¹çš„ä¿¡æ¯ï¼š <br><br><img src="https://habrastorage.org/webt/hn/xq/o7/hnxqo7b6iqsoa0mcqwxwtjfg5da.png"><br><br> ç¡®ä¿å·²æˆåŠŸåˆ›å»ºè¯·æ±‚åï¼Œä½¿ç”¨ç§é’¥å®‰å…¨åœ°éšè—ä»¤ç‰Œæˆ–å°†å…¶æ”¾åœ¨å¿ƒè„é™„è¿‘ï¼ˆè€ä¸€ä»£äººçŸ¥é“å¦‚ä½•å­˜å‚¨æ´¾å¯¹æˆ–Komsomolé—¨ç¥¨ï¼‰ï¼Œå°†è¯·æ±‚å¤åˆ¶åˆ°é—ªå­˜é©±åŠ¨å™¨ï¼Œè·å–å¿…è¦çš„æ–‡æ¡£ï¼ˆæŠ¤ç…§ç­‰ï¼‰ã€‚å¹¶å‰å¾€CAè·å¾—è¯ä¹¦ã€‚ æ˜¯çš„ï¼Œå¦‚æœè¿™ä¸æ˜¯éƒ¨é—¨çš„CAï¼Œé‚£ä¹ˆæ‚¨ä»ç„¶éœ€è¦ä»˜æ¬¾ã€‚ ä¸€åˆ‡éƒ½åƒæ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æŠ¤ç…§</a> ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">æˆ‘ä»¬å»CAå–å¾—è¯ä¹¦</b> <div class="spoiler_text"> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ºäº†å‘å°Šæ•¬çš„Habré¢å‘è¯ä¹¦ï¼Œæˆ‘ä»¬ä¹Ÿå°†ä½¿ç”¨æ‰€æœ‰Habré¡µé¢ä¸­çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CAã€‚</a>  CAå¼€å§‹è€ƒè™‘æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼š <br><br><img src="https://habrastorage.org/webt/nj/za/wt/njzawtbm3ze91qnj2widi-if4wg.png"><br><br> åœ¨åº”ç”¨ç¨‹åºè¿›å…¥CAæ•°æ®åº“ä¹‹åï¼Œæˆæƒç®¡ç†å‘˜å°†å…¶è€ƒè™‘å¹¶æ‹’ç»æˆ–æ‰¹å‡†ï¼š <br><br><img src="https://habrastorage.org/webt/so/pr/zq/soprzqefs9b5w0_5phvien6amog.png"><br><br> ç”³è¯·è¢«æ‰¹å‡†åï¼Œç”³è¯·äººä¸CAçš„æˆæƒäººä¸€èµ·ç¡®å®šä½¿ç”¨è¯ä¹¦çš„ç›®çš„ï¼š <br><br><img src="https://habrastorage.org/webt/tw/kx/ex/twkxex2i3htjet9bkxm1kdoiuya.png"><br><br> åœ¨é‚£ä¹‹åï¼Œæ²¡æœ‰ä»€ä¹ˆå¯ä»¥é˜»æ­¢è¯ä¹¦çš„é¢å‘ï¼š <br><br><img src="https://habrastorage.org/webt/hb/ox/1c/hbox1clfovnx8ghzsvne5fvsmys.png"><br></div></div><br> é¢å‘è¯ä¹¦åï¼ŒCAå‘˜å·¥å°†å·²é¢å‘çš„è¯ä¹¦å¯¼å‡ºåˆ°Habã€‚Habrçš„é—ªå­˜é©±åŠ¨å™¨ï¼š <br><br><img src="https://habrastorage.org/webt/71/3r/zi/713rzi-nn3sd1v0ockcyfpwphie.png"><br><br><h3>  <font color="1368c2">æˆ‘ä»¬æ”¾äº†ä»¤ç‰Œè¯ä¹¦</font> </h3><br> å› æ­¤ï¼Œè¯ä¹¦çš„å¹¸è¿æŒæœ‰è€…è¿”å›äº†ä»–çš„ç¥–å›½ï¼Œé¦–å…ˆå†³å®šå°†ä»¤ç‰Œçš„è¯ä¹¦æ”¾åœ¨å¯†é’¥å¯¹æ—è¾¹ã€‚ ä¸ºæ­¤ï¼Œåœ¨å®ç”¨ç¨‹åºçš„ä¸»çª—å£ä¸Šï¼Œå•å‡»æŒ‰é’®â€œ 4.æŸ¥çœ‹è¯·æ±‚/è¯ä¹¦â€ï¼Œé€‰æ‹©åŒ…å«è¯ä¹¦çš„æ–‡ä»¶å’Œæ“ä½œâ€œæŸ¥çœ‹è¯ä¹¦â€ï¼Œç„¶åå•å‡»æŒ‰é’®ä»¥æ‰§è¡Œæ“ä½œâ€œï¼š <br><br><img src="https://habrastorage.org/webt/vp/uh/1n/vpuh1n5xtmcgzri4vf1im1wfq64.png"><br><br> æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡é€‰æ‹©é€‚å½“çš„æ“ä½œæ¥æ£€æŸ¥è¯ä¹¦çš„æœ‰æ•ˆæ€§ï¼ˆä½†æˆ‘ä»¬è¿˜æ²¡æœ‰æ—¶é—´æ’¤é”€è¯ä¹¦ï¼‰æˆ–ç­¾åçš„æ­£ç¡®æ€§ï¼š <br><br><img src="https://habrastorage.org/webt/4x/en/yf/4xenyfg6oq0uem5e24pskrf8qgk.png"><br><br><div class="spoiler">  <b class="spoiler_title">è¯ä¹¦ç­¾åéªŒè¯å®ç”¨ç¨‹åºä»£ç </b> <div class="spoiler_text"><pre><code class="plaintext hljs">#!/usr/bin/env tclsh package require pki load ./tclpkcs11.so Tclpkcs11 #     PKCS#11 #set pkcs11_module "/usr/local/lib64/librtpkcs11ecp_2.0.so" set pkcs11_module "/usr/local/lib64/libls11sw2016.so" puts "Connect the Token and press Enter" gets stdin yes set handle [pki::pkcs11::loadmodule $pkcs11_module] set slots [pki::pkcs11::listslots $handle] set i 0 foreach slotinfo $slots { set slotid [lindex $slotinfo 0] set slotlabel [lindex $slotinfo 1] set slotflags [lindex $slotinfo 2] if {[lsearch -exact $slotflags TOKEN_PRESENT] != -1} { set token_slotlabel $slotlabel set token_slotid $slotid #    incr i break } } if {$i == 0} { puts "   . ." exit } # PEM  DER proc ::cert_to_der {data} { if {[string first "-----BEGIN CERTIFICATE-----" $data] != -1} { set data [string map {"\r\n" "\n"} $data] } array set parsed_cert [::pki::_parse_pem $data "-----BEGIN CERTIFICATE-----" "-----END CERTIFICATE-----"] if {[string range $parsed_cert(data) 0 0 ] == "0" } { #   DER- "0" == 0x30 set asnblock $parsed_cert(data) } else { set asnblock "" } return $asnblock } proc usage {use error} { puts "Copyright(C) Orlov Vladimir (http://museum.lissi-crypto.ru/) 2019" if {$use == 1} { puts $error puts "Usage:\nverify_cert_with_pkcs11 &lt;file with certificate&gt; \[&lt;file with CA certificate&gt;\]\n" } } set countcert [llength $argv] if { $countcert &lt; 1 || $countcert &gt; 2 } { usage 1 "Bad usage!" exit } set file [lindex $argv 0] if {![file exists $file]} { usage 1 "File $file not exist" exit } #  cert_user puts "Loading user certificate: $file" set fd [open $file] chan configure $fd -translation binary set cert_user [read $fd] close $fd if {$cert_user == "" } { usage 1 "Bad file with certificate user: $file" exit } set cert_user [cert_to_der $cert_user] if {$cert_user == ""} { puts "User certificate bad" exit } catch {array set cert_parse [::pki::x509::parse_cert $cert_user]} if {![info exists cert_parse]} { puts "User certificate bad" exit } #parray cert_parse if {$countcert == 1} { if {$cert_parse(issuer) != $cert_parse(subject)} { puts "Bad usage: not self signed certificate" } else { set cert_CA $cert_user } } else { set fileca [lindex $argv 1] if {![file exists $fileca]} { usage 1 "File $fileca not exist" exit } #  cert_CA puts "Loading CA certificate: $fileca" set fd [open $fileca] chan configure $fd -translation binary set cert_CA [read $fd] close $fd if {$cert_CA == "" } { usage 1 "Bad file with certificate CA=$fileca" exit } set cert_CA [cert_to_der $cert_CA] if {$cert_CA == ""} { puts "CA certificate bad" exit } } foreach slotinfo $slots { set slotid [lindex $slotinfo 0] set slotlabel [lindex $slotinfo 1] set slotflags [lindex $slotinfo 2] if {[lsearch -exact $slotflags TOKEN_PRESENT] != -1} { set token_slotlabel $slotlabel set token_slotid $slotid } } #    catch {array set cert_parse_CA [::pki::x509::parse_cert $cert_CA]} if {![info exists cert_parse_CA]} { puts "CA certificate bad" exit } #  if {$cert_parse(issuer) != $cert_parse_CA(subject)} { puts "Bad issuer" exit } set aa [dict create pkcs11_handle $handle pkcs11_slotid $token_slotid] set tbs_cert [binary format H* $cert_parse(cert)] catch {set signature_algo_number [::pki::_oid_name_to_number $cert_parse(signature_algo)]} if {![info exists signature_algo_number]} { set signature_algo_number $cert_parse(signature_algo) } switch -- $signature_algo_number { "1.2.643.2.2.3" - "1 2 643 2 2 3" { # "GOST R 34.10-2001 with GOST R 34.11-94" set digest_algo "gostr3411" } "1.2.643.7.1.1.3.2" - "1 2 643 7 1 1 3 2" { # "GOST R 34.10-2012-256 with GOSTR 34.11-2012-256" set digest_algo "stribog256" } "1.2.643.7.1.1.3.3" - "1 2 643 7 1 1 3 3" { # "GOST R 34.10-2012-512 with GOSTR 34.11-2012-512" set digest_algo "stribog512" } default { puts "  :$signature_algo_number" exit } } #   tbs-!!!! set digest_hex [pki::pkcs11::digest $digest_algo $tbs_cert $aa] # asn-   #    binary scan $cert_CA H* cert_CA_hex array set infopk [pki::pkcs11::pubkeyinfo $cert_CA_hex [list pkcs11_handle $handle pkcs11_slotid $token_slotid]] set lpk [dict create pkcs11_handle $handle pkcs11_slotid $token_slotid] # pybkeyinfo     lappend lpk "pubkeyinfo" lappend lpk $infopk(pubkeyinfo) array set lpkar $lpk puts "Enter PIN user for you token \"$token_slotlabel\":" gets stdin password if { [pki::pkcs11::login $handle $token_slotid $password] == 0 } { puts "Bad PIN" exit } if {[catch {set verify [pki::pkcs11::verify $digest_hex $cert_parse(signature) $lpk]} res] } { puts "  =$res" exit } if {$verify != 1} { puts "BAD SIGNATURE=$verify" } else { puts "SIGNATURE OK=$verify" }</code> </pre> <br></div></div><br> ä½†æ˜¯æˆ‘ä»¬ç°åœ¨å¯¹å°†æ¥æ”¶åˆ°çš„è¯ä¹¦å¯¼å…¥æˆ‘ä»¬çš„ä»¤ç‰Œçš„æ“ä½œæ„Ÿå…´è¶£ã€‚ é€‰æ‹©â€œä¸ºä»¤ç‰Œå¯¼å…¥è¯ä¹¦â€æ“ä½œï¼Œç„¶åå•å‡»â€œæ‰§è¡Œæ“ä½œâ€æŒ‰é’®ã€‚ è¯¥å®ç”¨ç¨‹åºå°†éªŒè¯è¯ä¹¦çš„ç”µå­ç­¾åã€‚ ä¸ºæ­¤ï¼Œæ‚¨å°†éœ€è¦è¾“å…¥ä»¤ç‰Œçš„PINç ã€‚ å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œé‚£ä¹ˆè¯ä¹¦å°†è¢«å¯¼å…¥ä»¤ç‰Œï¼š <br><br><img src="https://habrastorage.org/webt/vn/o5/q0/vno5q0k5jrvwic9p_4uzqfpjyte.png"><br><br> è¯ä¹¦çš„æ ‡ç­¾ï¼ˆæ˜µç§°ï¼‰å¯ä»¥åœ¨è¯ä¹¦åˆ—è¡¨ä¸­çœ‹åˆ°ï¼š <br><br><img src="https://habrastorage.org/webt/ov/ja/kk/ovjakktrr_aco5_y75htmflyp68.png"><br><br> è¿™æ˜¯æˆ‘ä»¬çš„ä¸ªäººè¯ä¹¦ï¼Œå³å…·æœ‰å¯†é’¥å¯¹çš„è¯ä¹¦ã€‚ å¦‚æœæ‚¨å†æ¬¡æŸ¥çœ‹ä»¤ç‰Œä¸Šçš„å¯¹è±¡åˆ—è¡¨ï¼Œæˆ‘ä»¬å°†æ‰¾åˆ°ä¸‰ä¸ªæ ‡ç­¾ä¸ºâ€œæ¥è‡ªUT 12_512çš„å…¨èƒ½å“ˆä¼¯â€å’Œç›¸åŒçš„CKA_IDçš„å¯¹è±¡ã€‚ è¿™<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸‰ä¸ªå¯¹è±¡</a>æ˜¯è¯ä¹¦æœ¬èº«ï¼ˆCKO_CERTIFICATEï¼‰ï¼Œå…¬å…±ï¼ˆCKO_PUBLIC_KEYï¼‰å’Œç§æœ‰ï¼ˆCKO_PRIVATE_KEYï¼‰å¯†é’¥ã€‚ æ­¤ä¸‰é‡å¯¹è±¡çš„æ ‡ç­¾è®¾ç½®å¦‚ä¸‹ï¼š <br>  &lt;CNè¯ä¹¦å‘è¡Œè€…&gt;çš„&lt;CNè¯ä¹¦æŒæœ‰è€…&gt;ã€‚ <br><br> ä¸‹é¢æˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•æ›´æ”¹æ ‡ç­¾ã€‚ <br><br> ç°åœ¨æˆ‘ä»¬å·²ç»å°†è¯ä¹¦æ”¾åœ¨ä»¤ç‰Œä¸Šï¼Œå¦‚ä½•è®¿é—®å®ƒï¼Ÿ ä¸ºäº†è®¿é—®ä½¿ç”¨ä½äºä»¤ç‰Œä¸Šçš„è¯ä¹¦çš„åŠŸèƒ½ï¼Œåªéœ€å°†å…‰æ ‡ç§»è‡³â€œè¯ä¹¦â€æ ‡ç­¾ï¼Œç„¶åæŒ‰é¼ æ ‡å³é”®ï¼š <br><br><img src="https://habrastorage.org/webt/kd/he/cb/kdhecbhcpq7frlxxaa2lw77nhv4.png"><br><br><h3>  <font color="1368c2">æˆ‘ä»¬ç”¨ç”µå­ç­¾åç­¾ç½²äº†ç¬¬ä¸€ä»½æ–‡ä»¶</font> </h3><br> è®©æˆ‘ä»¬ç­‰å¾…ä¸‹ä¸€ç¯‡æ–‡ç« ã€‚ æ‚¨å¿…é¡»ç­‰å¾…å‡ å¤©ã€‚ ä»å±å¹•æˆªå›¾ä¸­å¯ä»¥äº†è§£åˆ°é‚£é‡Œè¿˜æœ‰ä»€ä¹ˆï¼š <br><br><img src="https://habrastorage.org/webt/q-/bq/sp/q-bqspoaaal056weiylzz4wchek.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç»§ç»­è¿™é‡Œ</a> ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN453164/">https://habr.com/ru/post/zh-CN453164/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN453148/index.html">AirBnbå¿½ç•¥äº†å¸æˆ·</a></li>
<li><a href="../zh-CN453154/index.html">äº’è”ç½‘å†å²ï¼šå¢å¼ºäº’åŠ¨æ€§</a></li>
<li><a href="../zh-CN453156/index.html">é€šç”¨æ±½è½¦å°†ä¸ºæ‰€æœ‰æ–°è½¦ï¼ˆæ•°ç å¤–å£³ï¼‰æ³¨å…¥çµé­‚</a></li>
<li><a href="../zh-CN453158/index.html">æˆ‘ä¸çŸ¥é“å¤„ç†å™¨å¦‚ä½•å·¥ä½œï¼Œæ‰€ä»¥æˆ‘å†™äº†ä¸€ä¸ªè½¯ä»¶æ¨¡æ‹Ÿå™¨</a></li>
<li><a href="../zh-CN453162/index.html">ä¸Šå¤äº§å“ï¼šThinkPad 380Eï¼Œ90å¹´ä»£ç»æµèˆ±å’ŒWindows 95</a></li>
<li><a href="../zh-CN453166/index.html">ä½¿ç”¨iOSé£æ ¼çš„åŠ¨ç”»å°†ViewPagerå˜æˆç‰‡æ®µç®¡ç†å™¨</a></li>
<li><a href="../zh-CN453168/index.html">ç ”ç©¶ï¼šä½¿ç”¨åšå¼ˆè®ºåˆ›å»ºé˜»å¡ä»£ç†æœåŠ¡</a></li>
<li><a href="../zh-CN453170/index.html">å¤´è„‘é£æš´ï¼šå¦‚ä½•ä»ä¸åŒè§’åº¦çœ‹å¾…ä»»åŠ¡</a></li>
<li><a href="../zh-CN453174/index.html">åˆ‡æ¢åˆ°æ–°çš„Yandexã€‚Cashier APIçš„å…«ä¸ªåŸå› </a></li>
<li><a href="../zh-CN453178/index.html">å¼€å‘äººå‘˜çš„ä¸»è¦æŠ€èƒ½ï¼Œå¯ä»¥ä½¿æ‚¨çš„ä»£ç å˜å¾—æ›´å¥½</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>