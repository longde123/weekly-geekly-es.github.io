<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙏 👩🏻 🆔 Membuat Aplikasi Catatan Tempel Menggunakan 8base, GraphQL, dan Bereaksi 💪🏽 🏒 🚧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lihat versi demo program di sini . 

 Sepanjang waktu, manajemen waktu telah menjadi perjuangan besar bagi saya, tugas yang direncanakan dilupakan, ca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Membuat Aplikasi Catatan Tempel Menggunakan 8base, GraphQL, dan Bereaksi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463907/"><img src="https://habrastorage.org/getpro/habr/post_images/c98/5ef/e7d/c985efe7da6be444438fac5cbae68238.png" alt="gambar"><br><br>  Lihat versi demo program di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Sepanjang waktu, manajemen waktu telah menjadi perjuangan besar bagi saya, tugas yang direncanakan dilupakan, catatan hilang, karena didistribusikan di beberapa aplikasi yang menyimpan catatan.  Solusinya tidak sama sekali dalam aplikasi untuk catatan yang dipersonalisasi, yang saya sarankan Anda buat, meskipun kemungkinan Anda akan menggunakannya karena waktu yang Anda masukkan ke dalamnya. <br><a name="habracut"></a><br>  Untuk membuat aplikasi pencatatan, kita membutuhkan tumpukan sederhana yang praktis tidak memerlukan backend pengembangan, dan aplikasi yang dapat dengan mudah digunakan.  Berdasarkan persyaratan ini, kami akan memilih tumpukan untuk aplikasi.  Ini terlihat seperti ini: <br>  <b>-Bereaksi</b> - untuk pengembangan front-end.  Ini adalah perpustakaan yang populer untuk membuat antarmuka pengguna, dapat dengan mudah digunakan pada beberapa platform, seperti Sekarang dan Netlify. <br>  <b>-8base GraphQL</b> - lapisan basis data untuk aplikasi kita.  Di sini kita akan menyimpan dan membaca permintaan dalam aplikasi kita.  Dengan 8base, Anda tidak perlu membuat dan memelihara backend untuk aplikasi. <br><br>  Saya telah berhasil membuat aplikasi sederhana menggunakan alat ini.  Pada artikel ini, kita akan melihat proses pembuatan aplikasi ini dan mengatur backend yang berjalan pada platform 8base. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/807/f6e/fa9/807f6efa97c63a172fa3e621d6411de5.png" alt="gambar"><br><br>  Jika tangkapan layar tidak nyaman bagi Anda, Anda selalu dapat melihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">aplikasi demo</a> .  Catatan ditempatkan secara acak di halaman web dan dapat diseret ke tempat yang berbeda. <br><br>  Mengikuti instruksi memerlukan pemahaman dasar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">React</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Node.js.</a>  Sebelum Anda mulai, pastikan Anda memiliki Node dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">npm</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">benang yang terpasang</a> . <br><br>  Kami juga akan menggunakan permintaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GraphQL</a> di proyek, sehingga beberapa keakraban dengan teknologi ini akan berguna. <br><br>  Platform <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">8base</a> menawarkan berbagai fitur untuk membantu pengembang membuat aplikasi lebih cepat dan lebih mudah.  Dengan 8base, Anda dapat dengan mudah mengatur backend aplikasi Anda tanpa menulis kode.  Menggunakan platform 8base, Anda dapat membuat backend Anda menggunakan antarmuka grafis sederhana yang memungkinkan Anda untuk melakukan tindakan seperti: <br><br><ul><li>  Tentukan skema data Anda: buat hubungan tabel / tabel. </li><li>  Unggah file. </li><li>  Tetapkan hak akses dan peran otorisasi. </li><li>  Kelola berbagai proyek menggunakan bengkel. </li><li>  Desain kueri menggunakan API Explorer (berdasarkan GraphQL). </li></ul><br>  Dalam panduan ini, kita akan melihat cara menggunakan 8base untuk dengan cepat mengkonfigurasi sisi server dan memproses data menggunakan GraphQL API.  Aplikasi front-end kami akan dibangun menggunakan React dan akan berinteraksi dengan server menggunakan GraphQL. <br><br>  Untuk mulai menggunakan 8base, ikuti langkah-langkah ini: <br><br>  1. <b>Buat akun</b> di 8base.  Ini gratis. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/674/3bc/809/6743bc8091fa63acb34a068fe09581a9.png" alt="gambar"><br><br>  2. Setelah pendaftaran selesai, klik tombol <b>Pembuat Data</b> untuk membuka halaman <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Data</a> , dan klik Tabel Baru untuk mulai mengonfigurasi backend. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/571/e32/808/571e32808c3cd8d029805f01279c60a8.png" alt="gambar"><br><br>  3. Setelah memuat tabel baru, Anda akan dibawa ke skema dan Anda akan dapat mulai mendefinisikan bidang.  Mari kita perhatikan beberapa hal.  Di sebelah kiri Anda akan melihat <i>Tabel Sistem</i> dan <i>Tabel Anda</i> . <br><br>  Setiap ruang kerja 8base baru secara otomatis dilengkapi dengan beberapa tabel bawaan.  Tabel ini digunakan untuk hal-hal seperti File, Pengaturan, dan Izin, dan semuanya dapat diakses melalui API GraphQL 8base. <br><br>  4. Silakan dan <b>buat tabel</b> <i>Notes</i> , yang terdiri dari bidang-bidang berikut: <br><br>  <b>judul</b> : jenis bidang <i>Teks</i> .  Ini akan menjadi judul catatan. <br>  <b>teks</b> : jenis bidang <i>Teks</i> .  Bidang ini akan berisi isi catatan. <br>  Skema kami cukup sederhana dan digunakan untuk mencapai peluang yang kami coba sadari. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bea/d62/ca7/bead62ca7ffa32276ddc9df5ef9a4712.png" alt="gambar"><br><br>  5. Kemudian <b>salin</b> URL API titik akhir (tersedia di kiri bawah) - ini adalah jalur komunikasi utama antara klien dan bagian server dari aplikasi Anda. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/56b/762/8d9/56b7628d911cf529305c3dece34a3896.png" alt="gambar"><br><br>  6. Akhirnya, untuk tujuan panduan ini, kami secara default akan <b>mengizinkan akses publik untuk para tamu</b> , sehingga otentikasi tidak diperlukan.  Untuk mengizinkan akses tamu ke tabel Catatan baru, buka Pengaturan&gt; Peran&gt; Tamu dan centang kotak yang sesuai di bagian Catatan.  Semua pengguna tidak sah yang mengakses titik akhir API Anda ditetapkan peran Tamu secara default.  Otorisasi tidak dicakup dalam panduan ini.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Di sini</a> Anda dapat mempelajari lebih lanjut tentang cara bekerja dengannya. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/110/0c9/f7d/1100c9f7d58abd0b4ade83938c6378c7.png" alt="gambar"><br><br>  Sekarang kita telah selesai mengonfigurasi backend menggunakan 8base, kita akan mulai bekerja di sisi front-end aplikasi. <br><br><h3>  Memulai </h3><br>  Saya membuat proyek pemula untuk dengan mudah mengkonfigurasi dan mengurangi overhead, sehingga artikel tersebut pada dasarnya menjelaskan cara memulai dengan 8base dan GraphQL.  Kerangka aplikasi sudah dikonfigurasi, termasuk gaya dan struktur proyek.  Opsi berikut tersedia di cabang pemula: <br><br><ol><li>  Komponen formulir catatan untuk membuat catatan. </li><li>  Komponen catatan yang menampilkan detail satu catatan. </li><li>  Komponen daftar catatan yang menampilkan daftar catatan yang tersedia. </li></ol><br>  Jalankan perintah berikut untuk mengkloning repositori: <br><br><pre><code class="javascript hljs">git clone -b starter https:<span class="hljs-comment"><span class="hljs-comment">//github.com/HackAfro/note-app.git</span></span></code> </pre> <br>  Buka folder dan instal dependensi proyek dengan menjalankan perintah berikut: <br><br><pre> <code class="javascript hljs">npm install</code> </pre> <br>  Mulai server aplikasi Bereaksi dengan menjalankan mulai npm di terminal di folder root proyek Anda. <br><br><h4>  Terhubung ke backend 8base menggunakan GraphQL </h4><br>  Sekarang frontend awal kami sudah aktif dan berjalan, langkah berikutnya adalah mengkonfigurasi klien untuk berinteraksi dengan backend 8base menggunakan GraphQL.  Perpustakaan yang berguna untuk membantu Anda terhubung adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">apollo-boost</a> ;  ini menyediakan klien untuk terhubung ke backend GraphQL menggunakan URI.  URI adalah titik akhir yang disediakan oleh 8base.  Mari kita perbarui file <i>index.js</i> untuk mengkonfigurasi ApolloClient. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ApolloProvider } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-apollo"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ApolloClient <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"apollo-boost"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> serviceWorker <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./serviceWorker"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"./index.css"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./App"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> client = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ApolloClient({ <span class="hljs-attr"><span class="hljs-attr">uri</span></span>: <span class="hljs-string"><span class="hljs-string">"&lt;YOUR_8BASE_ENDPOINT&gt;"</span></span> }); ReactDOM.render( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ApolloProvider</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">client</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{client}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ApolloProvider</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>, <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"root"</span></span>) ); serviceWorker.unregister();</code> </pre> <br>  ApolloClient mengambil objek dengan properti <i>uri</i> sebagai argumen;  pada saat yang sama, klien memberi kami akses untuk menerima, memperbarui dan menghapus data menggunakan <i>uri yang</i> disediakan.  Pastikan untuk mengganti nilai &lt;YOUR_8BASE_ENDPOINT&gt; dengan titik akhir yang sebenarnya. <br><br>  Kemudian kami membungkus aplikasi di ApolloProvider, yang menerima klien prop.  ApolloProvider memuat skema tabel 8base, yang memberi Anda akses ke semua properti model data dalam kode front-end Anda. <br><br><h4>  Terima dan tampilkan catatan </h4><br>  Untuk mendapatkan catatan dari backend, kami akan menulis permintaan GraphQL untuk menerima catatan yang disimpan di 8base.  Mari kita mulai dengan memperbarui file <i>App.js.</i> <br><br>  Tambahkan impor berikut ke tempat Anda menemukan TODO - 1 komentar: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gql <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"graphql-tag"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { graphql } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-apollo"</span></span>;</code> </pre> <br>  Mereka akan berguna untuk membuat permintaan GraphQL dan mengirim properti ke komponen Aplikasi untuk membuat catatan.  Selanjutnya, kita perlu menambahkan permintaan untuk menerima catatan dari sisi server.  Perbarui <i>NOTE_LIST_QUERY</i> agar terlihat seperti cuplikan di bawah ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> NOTE_LIST_QUERY = gql<span class="hljs-string"><span class="hljs-string">` query { notesList { items { id title text } } } `</span></span>;</code> </pre> <br>  Jika Anda tidak yakin tentang permintaan Anda, Anda selalu dapat mengujinya di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://auth.8base.com/login%3Fstate%3Dg6Fo2SBpQzdtSDdPX3B6Y1Y1QUFvVXp0R014dG56MVpWVzlHZaN0aWTZIG5ncC16aHpjSXE1TlJtVUVyQmVKdVpIQXo5aEdFVFZEo2NpZNkgcUdIWlZ1NUN4WTVrbGl2bTI4T1BMam9wdnNZcDBiYUQ%26client%3DqGHZVu5CxY5klivm28OPLjopvsYp0baD%26protocol%3Doauth2%26response_type%3Dtoken%2520id_token%26redirect_uri%3D">penjelajah API 8base</a> .  Mari kita periksa kueri di atas. <br><br>  Jika Anda menjalankan kueri ini di penjelajah Anda, kemungkinan besar Anda akan mengembalikan array kosong, karena Anda tidak membuat catatan apa pun.  Kita dapat dengan mudah membuat catatan menggunakan toolbar 8base.  Ikuti tautan <b>data</b> di bilah sisi dan ikuti petunjuk di tangkapan layar di bawah ini: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/757/48f/de2/75748fde25301cb5fba67934b5a89d37.png" alt="gambar"><br><br>  Kami akan mendapatkan <i>id</i> , <i>judul</i> , dan <i>teks</i> dari elemen notesList.  Selanjutnya, kami akan menyiapkan komponen <i>Aplikasi</i> untuk menggunakan catatan yang diterima dari permintaan.  Akhirnya, kami akan menggunakan <i>graphql HOC</i> (Komponen Orde Tinggi) untuk mengaitkan kueri dengan komponen <i>App</i> .  Fungsi menerima string kueri dan parameter konfigurasi. <br>  // TODO - 3 <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> graphql(NOTE_LIST_QUERY, { <span class="hljs-attr"><span class="hljs-attr">props</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">result</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { data } = result; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { loading, refetch } = data; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> notes = []; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data &amp;&amp; data.notesList) notes = data.notesList.items; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { loading, notes, refetch, }; }, })(App);</code> </pre> <br>  Ganti jalur ekspor yang ada di bawah komentar TODO - 3 di atas. <br><br>  Fungsi <i>graphql</i> mengembalikan fungsi "penambah", yang akan memperluas komponen yang diteruskan ke sana dengan kemampuan GraphQL.  Ini sesuai dengan pola komponen tingkat tinggi yang juga digunakan oleh fungsi <i>koneksi</i> dalam respons-redux. <br><br>  Dengan menggunakan fungsi <code>graphql()</code> , kita dapat mengakses titik akhir GraphQL.  Sebagai parameter pertama, ia menerima permintaan (NOTE_LIST_QUERY), yang kedua - config, nilai kembali adalah HOC, yang harus dieksekusi dengan komponen yang diperlukan sebagai argumen.  Dalam fragmen, kami meneruskan nilai properti <code>data.noteList</code> catatan variabel baru.  Dengan mengembalikan nilai ini, kita dapat mengaksesnya di dalam komponen sebagai <code>props.notes</code> , dan status unduhan sebagai <code>props.loading</code> . <br><br>  Metode <i>pengambilan ulang</i> akan sangat berguna sehingga kami dapat mencapai sesuatu yang dekat dengan pembaruan waktu nyata.  Kami akan memanggil fungsi setelah setiap mutasi untuk memastikan bahwa data dalam aplikasi selalu disinkronkan dengan backend 8base. <br>  Jika Anda beralih ke localhost: 3000, Anda akan melihat catatan yang baru saja dibuat.  Kita harus dapat membuat catatan tanpa mengunjungi bilah alat 8base, ini berarti pindah ke tingkat berikutnya dari GraphQL ....  Mutasi! <br><br><h4>  Buat catatan </h4><br>  Setelah menyelesaikan pengaturan untuk menerima catatan dari backend, langkah logis berikutnya adalah menambahkan kemampuan untuk membuat catatan.  File awal berisi komponen formulir, dan kita perlu memperbarui komponen untuk mengaktifkan mutasi untuk menyimpan catatan yang dibuat di backend 8base. <br><br>  Di bagian sebelumnya, kami mengeksekusi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">permintaan</a> untuk menerima catatan dari backend, di bagian ini kami akan melakukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mutasi</a> untuk menyimpan catatan baru, mutasi ini mirip dengan permintaan, dengan satu-satunya perbedaan adalah bahwa mutasi dipanggil setiap kali ada kebutuhan untuk mengubah data.  Setelah membuat tabel di 8base, kueri dan mutasi untuk tabel ini mudah diakses di Explorer API;  oleh karena itu, kita selalu dapat sampai di sana jika kita ragu bagaimana mutasi harus disusun. <br><br>  Mari kita lihat seperti apa mutasi itu untuk membuat catatan di API Explorer.  Buka bilah alat 8base dan klik pada API Explorer di bilah sisi. <br><br>  Di Penjelajah API, klik tautan <i>mutasi</i> , seperti yang ditunjukkan di atas.  Ini akan menampilkan semua mutasi yang tersedia.  Cari apa yang bertanggung jawab untuk membuat catatan: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f18/b87/a31/f18b87a316f26f5ebdaaaafbdc3a9625.png" alt="gambar"><br><br>  Tangkapan layar menunjukkan bahwa nama mutasi adalah <i>noteCreate</i> , dan dibutuhkan satu argumen bertipe <i>NoteCreateInput</i> .  <i>NoteCreateInput</i> - Menentukan jenis badan permintaan yang diperlukan untuk membuat catatan. <br><br>  Sekarang kita tahu apa yang dituntut dari kita, mari kita mulai implementasi.  Saya merawat Anda dan membuat formulir untuk membuat catatan, jadi tetap menambahkan mutasi ke komponen menggunakan fungsi <i>graphql</i> . <br><br>  Buka <i>src / components / note-form / index.js</i> , tambahkan impor berikut ini di mana Anda memiliki komentar TODO 1: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gql <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"graphql-tag"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { graphql } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-apollo"</span></span>;</code> </pre> <br>  Selanjutnya, kami akan mendeklarasikan mutasi, memperbarui variabel <i>NOTE_MUTATION</i> dan memberinya nilai baru, mirip dengan fragmen di bawah ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> NOTE_MUTATION = gql<span class="hljs-string"><span class="hljs-string">` mutation NoteCreate($data: NoteCreateInput!) { noteCreate(data: $data) { id } } `</span></span>;</code> </pre> <br>  Selanjutnya, kita kaitkan mutasi dengan komponen menggunakan fungsi <i>graphql</i> .  Ganti baris <i>ekspor</i> dalam file dengan potongan di bawah ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> graphql(NOTE_MUTATION, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"noteCreate"</span></span> })(NoteForm);</code> </pre><br>  Dengan demikian, fungsi <i>graphql</i> melewati function <i>noteCreate</i> bernama, yang akan digunakan untuk melakukan mutasi buat.  Mari kita gunakan fungsi <i>noteCreate</i> untuk membuat catatan saat mengirimkan formulir. <br><br>  Buka komentar TODO 4 dan perbarui fungsi <i>kirim</i> agar terlihat seperti cuplikan di bawah ini: <br>  // TODO - 4 <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> submit = <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> note =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> noteCreate({ <span class="hljs-attr"><span class="hljs-attr">variables</span></span>: { <span class="hljs-attr"><span class="hljs-attr">data</span></span>: note } }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (res.data.noteCreate.id) { setNote({ <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }); refetch() } };</code> </pre> <br>  Dalam cuplikan di atas, kami menggunakan fungsi <i>noteCreate</i> untuk melakukan mutasi <i>buat</i> di tabel catatan.  Argumen yang diteruskan ke fungsi adalah objek yang berisi <i>variabel</i> dan badan <i>data</i> . <br><br>  Kami menunggu hingga permintaan selesai, lalu memeriksa keberhasilannya dengan menemukan id di badan respons.  Lalu kami mengatur ulang status catatan dan mengambil ulang.  Saya menyebutkan fungsi pengambilan ulang sebelumnya dalam artikel ini, tetapi izinkan saya memperbarui memori Anda.  Ambil ulang memaksa komponen Anda untuk mengulangi permintaan yang Anda tetapkan dalam fungsi <code>graphql()</code> . <br><br>  Sekarang semuanya siap untuk pengujian.  Pergi ke localhost: 3000, isi formulir dan nikmati hasilnya. <br><br><h4>  Hapus catatan </h4><br>  Apa gunanya aplikasi pencatatan jika Anda tidak bisa menghapus semua catatan dan berpura-pura tidak pernah ada.  Prosedur untuk menghapus catatan: <br><br><ol><li>  Pengguna mengklik tombol hapus. </li><li>  Jendela konfirmasi muncul - ini mengurangi jumlah pengguna jahat, sangat berguna. </li><li>  Tetap melakukan tindakan - menghapus catatan. </li></ol><br>  Pengaturan untuk menghapus catatan ada dalam file <i>src / note-card / delete-button.js</i> .  Buka file dan tambahkan impor berikut di bagian atas file.  Secara khusus, di bawah ini di mana TODO 1 berada: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gql <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'graphql-tag'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { graphql } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-apollo'</span></span>;</code> </pre> <br>  Kemudian tulis mutasi penghapusan dan tetapkan ke variabel <i>DELETE_MUTATION</i> .  Ini akan terlihat seperti berikut ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> DELETE_MUTATION = gql<span class="hljs-string"><span class="hljs-string">` mutation DeleteNote($data: NoteDeleteInput!) { noteDelete(data: $data) { success } } `</span></span>;</code> </pre> <br>  Selanjutnya, kita kaitkan mutasi dengan komponen menggunakan fungsi <i>graphql</i> .  Ganti baris <i>ekspor</i> dalam file dengan fragmen di bawah ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> graphql(DELETE_MUTATION, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'deleteNote'</span></span>, })(DeleteButton);</code> </pre> <br>  Fungsi <i>graphql kemudian</i> melewati fungsi <i>deleteNote</i> bernama, yang akan digunakan untuk melakukan mutasi penghapusan.  Sekarang kita dapat memperbarui event handler klik dan menambahkan pengaturan yang sangat dibutuhkan untuk menghapus catatan. <br><br>  Buka fungsi <i>onDeleteClick</i> di komponen, tempatkan fragmen berikut di dalam fungsi: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> onDeleteClick = <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: noteId, }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> remove = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.confirm(<span class="hljs-string"><span class="hljs-string">'Are you sure you want to delete this note?'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (remove) { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> deleteNote({ <span class="hljs-attr"><span class="hljs-attr">variables</span></span>: { data } }); refetch(); } };</code> </pre> <br>  Ketika Anda mengklik tombol hapus, di badan objek <b>data</b> , kami mengatur bidang <i>id</i> untuk <i>noteId</i> , dan kemudian menunjukkan kepada pengguna pesan konfirmasi, dengan tegas menyatakan bahwa kami bermaksud untuk menghapus catatan ini secara permanen.  Jika pengguna melakukan seperti yang dimaksudkan dan memutuskan untuk melanjutkan, kami memanggil fungsi <i>deleteNote</i> untuk <i>mengubah</i> penghapusan.  Ketika ini selesai, Anda memerlukan aplikasi. <br><br>  Begini tampilannya.  Buka localhost: 3000 dan coba hapus catatan: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/515/f80/9ea/515f809ea6cbc73518d449241df4299e.png" alt="gambar"><br>  Anda dapat menemukan demo aplikasi ini di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br><h3>  Kesimpulan </h3><br>  Saya yakin Anda bersenang-senang membuat aplikasi ini, kami melihat cara menulis kueri untuk menerima data dari sisi server 8base, serta cara menulis <i>kreasi</i> dan <i>menghapus</i> mutasi.  8base sebagai platform relatif mudah dinavigasi dan menawarkan antarmuka pengguna yang intuitif.  Saya menghabiskan malam untuk mencari tahu.  Anda dapat mengisi lubang yang hilang dengan mempelajari cara menulis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mutasi</a> <i>pembaruan</i> dan menambahkan kemampuan untuk mengedit catatan.  Saya yakin pengguna akan puas.  Anda juga dapat melihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> resmi mereka untuk mendapatkan informasi lebih lanjut tentang platform.  Anda dapat menemukan kode sumber aplikasi di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id463907/">https://habr.com/ru/post/id463907/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id463897/index.html">Audit Keamanan Platform Cloud MCS</a></li>
<li><a href="../id463899/index.html">Kenapa kita sudah menunggu penemuan sepeda begitu lama?</a></li>
<li><a href="../id463901/index.html">Menguji ketersediaan jaringan NB-IoT di St. Petersburg (Agustus 2019)</a></li>
<li><a href="../id463903/index.html">5 Tips Kepemimpinan Desain Bagian 2</a></li>
<li><a href="../id463905/index.html">Promosi Saluran Youtube</a></li>
<li><a href="../id463913/index.html">Dan bagaimana agen perekrutan benar-benar mencari programmer?</a></li>
<li><a href="../id463915/index.html">Apa itu CDN dan bagaimana cara kerjanya?</a></li>
<li><a href="../id463917/index.html">20 hal yang ingin saya ketahui sebelum menjadi pengembang web</a></li>
<li><a href="../id463919/index.html">Pemikiran Filosofis Besar: Top 10 DotNext 2019 Piter Talks</a></li>
<li><a href="../id463921/index.html">(Tidak terlalu) biaya tersembunyi dari basis kode umum iOS dan Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>