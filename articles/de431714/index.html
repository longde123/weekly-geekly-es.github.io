<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💮 👿 👩‍👩‍👧‍👦 Backend als Service Evolution: Das zweite Kommen von Scorocode 🈚️ ♿️ 🎮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr. 

 Wir brechen die Stille für eine lange Zeit und kündigen die Veröffentlichung der zweiten Version von Scorocode an. 
 Dies ist nicht ein...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Backend als Service Evolution: Das zweite Kommen von Scorocode</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/scorocode/blog/431714/">  Hallo Habr. <br><br>  Wir brechen die Stille für eine lange Zeit und kündigen die Veröffentlichung der zweiten Version von Scorocode an. <br>  Dies ist nicht einmal die Evolution, sondern die Geburt eines neuen Dienstes. <br><br>  Arbeitsjahr, Docker, Kubernetes, Yandex.Cloud usw. <br><br><blockquote>  Ich warne vor der Frage „Warum gibt es hier einen Go-Hub?“ - alle Scorocode-Dienste sind in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Golang geschrieben</a> . Dies ist die Sprache, die wir im Technologie-Stack verwenden. <br></blockquote><br>  Ich frage nach Details unter Katze. <br><a name="habracut"></a><br><h2>  Historischer Hintergrund </h2><br><p> Scorocode v1 wurde im Sommer 2016 gestartet und sammelte in 3 Monaten etwa 20.000 Registrierungen. 2,5 Jahre lang war es ein kostenloses Tool für unser öffentliches Publikum. Es wurde verwendet, um private Clouds bereitzustellen, auf denen in dieser Zeit 8 Systeme unterschiedlicher Ebenen entwickelt wurden: aus dem Dienst Taxi zum Produktionsmanagementsystem. </p><br><p>  In der ersten Version gab es selbstgeschriebene Dienste für die Arbeit mit NoSQL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MongoDB</a> DBMS, einem eigenen Parser für Datenbankabfragen, Dienste, die die Ausführung von JavaScript-Code auf dem Server ermöglichten, und all dies war ein einziges Ganzes in der Cloud. </p><br><p>  Die Hauptnachteile der v1-Plattform: </p><br><ol><li>  Alle Ressourcen wurden zwischen den Anwendungen durchsucht, und es war unmöglich, eine garantierte Ressource zu erhalten, was in unserer Zeit bereits zumindest seltsam aussieht. </li><li>  Es gab keinen Mechanismus zum Starten eines vollwertigen WEB-Knotenservers, nur ein einmaliger Start von Skripten mit begrenzter Ausführungszeit war möglich. </li><li>  Wie sich herausstellte, wird MongoDB für die meisten unserer NoSQL-Clients nicht benötigt. Stattdessen fragten alle nach relationalem MySQL / PostgreSQL. </li><li>  Die Kosten für den anfänglich bezahlten Tarif waren hoch, etwa 3.000 Rubel / Monat, und es gab kein Verständnis dafür, wofür der Benutzer bezahlte. </li></ol><br><p>  Ende letzten Jahres beschloss unser Team, nachdem es alle Erfolge und Misserfolge verstanden hatte, sich an der Entwicklung einer neuen Version zu beteiligen und die Architektur grundlegend neu zu gestalten. </p><br><h2>  Was ist neu in v2? </h2><br><p>  Die Logik hat sich nicht geändert.  Es gibt ein Konto, in dem der Benutzerkontoinhaber Anwendungen erstellen kann.  Die Struktur der Anwendung hat sich jedoch geändert.  Es ist jetzt unabhängig und wird auf dedizierten Ressourcen gehostet (in einer öffentlichen Cloud - auf einem dedizierten virtuellen Server). </p><br><p>  Wenn wir die geleistete Arbeit bewerten, verstehen wir, dass wir den langen Weg gegangen sind.  Für den Anfang haben wir eine grundlegende Architektur erstellt, deren Bausteine ​​Dienste sind, die in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Docker-</a> Containern leben, die wiederum in abhängigen Gruppen zusammengefasst sind, und die in den von Kubernetes verwalteten Pods leben.  Im Allgemeinen ist alles ein Klassiker des Genres. </p><br><p>  Von den vorgefertigten Diensten werden verwendet: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PostgreSQL</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Redis</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konsul</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Prometheus</a> </li></ul><br><p>  Der nächste Schritt ist das Schreiben und Erstellen eigener Dienste. </p><br><h5>  Auth </h5><br><p>  Anwendungsautorisierungsdienst mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HTTP-Autorisierungsmethode</a> (Typ Bearer). </p><br><h5>  Makler </h5><br><p>  Service zum Packen Ihrer eigenen Services (Entschuldigung für die Tautologie).  Heute wird es in Form eines Knotenservers dargestellt, auf dem Sie entweder Ihre vollständige Anwendung mit Quellcodes oder eine vorgefertigte Baugruppe eines Knotens bereitstellen können (weitere Informationen finden Sie unter scorocode-cli).  Wir entwickeln den Service in Richtung der Möglichkeit, sowohl fertige Services von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DTR</a> als auch selbst geschriebene Services zu verpacken.  Wir machen natürlich die ersten Experimente mit Dienstleistungen, die in Golang geschrieben wurden. </p><br><h5>  DBAPI </h5><br><p>  Ein Dienst, der eine RESTful-API-Operation mit allen PostgreSQL-Datenbanktabellen bereitstellt. <br>  Das heißt, sobald Sie eine Tabelle in der Datenbank erstellen, werden alle CRUD-Operationen über die API verfügbar. </p><br><h5>  Websockets </h5><br><p>  Wenn Clients über das WebSocket-Protokoll verbunden werden, werden Clients identifiziert, nach denen benannte oder Broadcast-Nachrichten von der Server-API gesendet werden können.  Weiter werden wir den Service in Richtung Pufferung und garantierte Nachrichtenübermittlung weiterentwickeln. </p><br><h5>  FS </h5><br><p>  Arbeiten Sie mit Ordnern und Dateien des Anwendungsspeichers. </p><br><h5>  DRÜCKEN </h5><br><p>  Senden von Push-Benachrichtigungen.  Android / iOS-Zertifikate sind in Ihrem Konto gebunden. </p><br><h3>  Konsolendienstprogramm scorocode-cli </h3><br><p>  2 Jahre Benutzer, die mit der ersten Version gearbeitet haben, haben uns gelehrt, dass der Entwickler nach einer gewissen Zeit des "Verwöhnens" zu seiner vertrauten Umgebung zurückkehren möchte - zu seinem lokalen Computer, egal wie schön die Tools auf dem Portal im persönlichen Konto des Benutzers dargestellt sind.  Daher könnten wir nicht auf ein Konsolendienstprogramm verzichten. </p><br><p>  Heute bietet scorocode-cli (sc-cli binary) dem Entwickler folgende Funktionen: </p><br>  <strong>holen</strong> <br><p>  Herstellen einer Verbindung zur Anwendung in der Cloud, Autorisierung, Speichern der Konfiguration im CLI-Ordner. </p><br>  <strong>init</strong> <br><p>  Abrufen des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Repositorys</a> und Bereitstellen der Basisanwendung, gefolgt vom Erstellen und Speichern in der Cloud.  Die grundlegende Anwendung ist immer noch eine, wie Sie Ihre Hände in die Hand bekommen - wir werden noch ein paar verschiedene Arten schreiben. </p><br>  <strong>ziehen</strong> <br><p>  Synchronisieren Sie lokale Projektdateien mit der Cloud. </p><br>  <strong>drücken</strong> <br><p>  Speichern Sie lokale Projektdateien in der Cloud. </p><br>  <strong>regdb</strong> <br><p>  Registrieren Sie eine Datenbank. </p><br>  <strong>Protokolle</strong> <br><p>  Abrufen von Protokollen vom Dienst. </p><br>  <strong>Brücke</strong> <br><p>  Leiten Sie lokale Ports für alle Dienste an die Cloud weiter.  Nach dem Starten der Bridge können Sie beispielsweise einen beliebigen Client als lokalen Client mit dem wolkigen PostgreSQL verbinden. </p><br>  <strong>servieren</strong> <br><p>  Lokaler Start der Anwendung.  Wird zum lokalen Debuggen verwendet. </p><br><h3>  Die Probleme </h3><br><p>  Es gab viele Probleme auf der Straße.  Und immer noch gibt es viele von ihnen.  Grundsätzlich entstehen sie an der Schnittstelle von Open-Source-Produkten.  Manchmal führten elementare Aktionen zu wöchentlichem Graben und infolgedessen zu einer Pull-Anforderung an das Produkt-Repository.  Es ist schwer, alles in einen Artikel zu schieben.  Ich hoffe, ich werde mehr über bestimmte Probleme und Lösungen schreiben. </p><br><h3>  Entwicklungspläne </h3><br><p>  Zunächst werden wir Dienstleistungen schreiben.  Viele Dienstleistungen.  Wir werden sie aber nicht abstrakt schreiben, sondern auf Wunsch unserer Kunden.  Wir werden auch Anwendungsvorlagen entwickeln, damit Benutzer weniger Code schreiben, um neue Funktionen zu verbinden. </p><br><h3>  Über das Geschäft </h3><br><p>  Wir haben unseren Fokus von privaten Nutzern auf das B2B-Marktsegment verlagert.  Und wir haben die Basis geändert - jetzt sind wir in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Yandex.Cloud</a> .  Mehr dazu in den Artikeln unseres Produktes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Korbut</a> .  Genau aus diesem Grund wurde die Testversion in der neuen Version der öffentlichen Cloud veröffentlicht - 1 Monat. Danach möchten wir wissen, ob der Benutzer das Interesse an uns verloren hat oder bereit ist, für den Dienst zu zahlen (die Kosten für die Grundkonfiguration der Anwendung betragen 990 Rubel / Monat). </p><br><h3>  Über Tarife </h3><br><p>  Jetzt haben wir absolut transparente Tarife.  Der Benutzer sieht die für seine IaaS-Anwendung zugewiesenen Ressourcen, deren Kosten wir einfach in Prozent berechnen.  Der Prozentsatz ist abhängig vom verbrauchten Volumen variabel.  Dies gab uns Tariftransparenz und die Möglichkeit, nach dem Start des Yandex.Cloud-Marktplatzes private Clouds mit Tarifierung für Benutzer im Yandex.Cloud-Konto bereitzustellen. </p><br><p>  Und ja, wir sind vorsichtig.  In Anbetracht der Tatsache, dass wir für jede Anwendung zugewiesene Ressourcen bereitstellen, ist der Anwendungspool für den Testzeitraum mit etwa hundert klein.  Zunächst haben wir eine Einladung von der alten Version an unsere Benutzer gesendet, aber wir akzeptieren weiterhin Anträge auf Verbindung zum Testzeitraum auf der Seite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">scorocode.ru</a> </p><br><h3>  Nachwort </h3><br><p>  Ich bin unserem Team sehr dankbar, das auch in den schwierigsten Situationen nicht den Mut verloren hat.  Übrigens über den Befehl: </p><br><ul><li>  <strong>Anya Korbut</strong> - Produktmanagerin </li><li>  <strong>Zhenya Khramtsov</strong> - Architekt, geh Entwickler </li><li>  <strong>Levan Kiknadze</strong> - Architekt, Entwickler </li><li>  <strong>Roma Gayazov</strong> - js / Frontend-Entwickler </li><li>  <strong>Tagir Khalilov</strong> - DevOps </li><li>  <strong>Dasha Golubeva</strong> - <strong>Systemanalytikerin</strong> </li></ul><br><p>  Und natürlich vielen Dank an das Yandex.Cloud-Team für die Schnelligkeit, Unterstützung und Teilnahme an neu auftretenden Problemen. </p><br><p>  Vielen Dank für das Lesen bis zum Ende.  Ich habe alles </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de431714/">https://habr.com/ru/post/de431714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de431702/index.html">Sowjetisches HI-FI und seine Schöpfer: Kopfhörer für eine Schallplatte oder eine vergessene Geschichte Electronics TDK-3 „Quad“</a></li>
<li><a href="../de431704/index.html">Wochenendlesung: Wie Sie Ihr Gehör nicht beeinträchtigen und dem Lärm der Stadt entfliehen können - 17 Artikel und praktische Anleitungen</a></li>
<li><a href="../de431706/index.html">Theorie des Glücks. Unfälle sind nicht zufällig?</a></li>
<li><a href="../de431708/index.html">Mein Umzug und meine Arbeit in Australien</a></li>
<li><a href="../de431712/index.html">Einstein-Teleskop: Gravitationswellendetektor der nächsten Generation</a></li>
<li><a href="../de431716/index.html">Robotron BIC A5105 - Unbekanntes Personal DDR</a></li>
<li><a href="../de431718/index.html">RecyclerView-Baumansicht (ohne Bibliotheken und untergeordnete Arrays von Drittanbietern)</a></li>
<li><a href="../de431720/index.html">Tipps und Tricks zum UX Designer-Portfolio</a></li>
<li><a href="../de431722/index.html">Rückblick: Wie die Ära der Transistoren begann und wie sich die Startup-Kultur in den 1940er und 1950er Jahren entwickelte</a></li>
<li><a href="../de431724/index.html">Tableau Software führt die Visualisierungsoberfläche für natürliche Sprachen ein</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>