<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎅🏿 💎 🙍🏿 雨果静态网站生成器体验 🏈 🆑 👃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我分享了2年使用Hugo静态网站生成器的经验。 这篇文章是为初学者准备的，但是这篇文章不会提供有关如何安装Hugo或如何创建第一篇文章的说明。 这篇文章对那些选择和比较博客替代方法的人很有用。 
 为什么要使用静态网站生成器和Hugo 


 静态站点生成器是一个程序，用于处理结构化的源文件（文本，...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>雨果静态网站生成器体验</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473656/"><p> 我分享了2年使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Hugo静态网站生成器</a>的经验。 这篇文章是为初学者准备的，但是这篇文章不会提供有关如何安装Hugo或如何创建第一篇文章的说明。 这篇文章对那些选择和比较博客替代方法的人很有用。 </p><a name="habracut"></a><br><h1 id="pochemu-generator-staticheskih-saytov-i-hugo"> 为什么要使用静态网站生成器和Hugo </h1><br><p> 静态站点生成器是一个程序，用于处理结构化的源文件（文本，图片，模板），并生成可以上传到服务器的静态HTML站点。 </p><br><p> 站点源是计算机上的一组文件夹： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/62b/c25/cac/62bc25cacc5810d797e3aa8fb15b4e3d.png" alt="雨果根文件夹"></p><br><p> 在单独的子文件夹中，提供了主题模板，帖子的源代码，常规图片。 几个bat文件包含用于典型操作的命令：记录博客更新，启动服务器以供本地查看，从模板创建新帖子。 </p><br><p> 尽管看起来有些敌意，但是与CMS不同，此方法对于那些对HTML，CSS和其他Web技术有一定了解但希望博客在技术上保持原始的人来说很方便。 </p><br><p> 从主观上讲，在5-10行中编辑基本脚本比挖掘某些CMS页面的源代码更容易。 另外，您无需在服务器上配置环境，也无需处理数据库和安装安全性问题。 </p><br><p> 静态站点的局限性是无法使用绑定到用户的功能。 例如，您必须使用第三方评论系统。 对于博客而言，此类限制并不重要。 </p><br><h4 id="dlya-staticheskih-saytov-legko-nayti-i-nastroit-hosting"> 对于静态网站，很容易找到并配置托管 </h4><br><p> 静态托管虽然不像Google那样拥有大量流量，但它的配置要比动态托管更容易，而且在许多情况下是免费的。 </p><br><p> 我将源代码和博客本身保留在GitLab上。 运作方式如下： </p><br><ol><li>  GitLab的私有git存储库包含博客的源代码。 </li><li> 更新存储库时，GitLab CI会独立开始生成站点的新版本并将其放在GitLab页面上。 </li></ol><br><p> 计划其工作方式： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a32/9d5/97d/a329d597d81a56e23736993ce5f928c7.png" alt="方案"></p><br><p> 在堆栈的最后，Cloudflare用于为博客的https版本组织SSL证书。 </p><br><p> 从Hugo-GitLab配置中更新站点以更改新版本博客的在线可用性需要0.5-1分钟。  Gitlab CI大部分时间都花在准备建设站点上。 直接生成网站需要1-2秒。 其他站点生成器将具有不同的刷新率。 例如，使用另一个流行的Jekyll网站生成器，为网站的新版本构建页面的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">速度可能会慢几倍</a> 。 </p><br><p> 源和托管可以划分-在本地计算机上生成站点页面，仅将生成的HTML文件上传到托管。 对于静态，有方便的托管服务，例如Netlify。  GitHub Pages以前曾致力于此原则。 不久前，GitHub引入了CI自动化工具，例如GitLab。 </p><br><h4 id="ne-nuzhno-dumat-o-podderzhke-rabotosposobnosti-bloga"> 无需考虑博客健康支持 </h4><br><p> 如果一次都没有错误，我将完成的网站上载到服务器，而您没有进行任何更改，那么维护该网站的工作将降至最低。 您只需要每年为该域名支付一次费用。 无需考虑安全性（例如，更新CMS和插件），每月支付托管费用，您不必担心自动更新。 </p><br><h4 id="sohranyaetsya-polnyy-kontrol-nad-ishodnikami"> 保持对源代码的完全控制 </h4><br><p> 每个帖子都是一个单独的文件夹，其中包含Markdown文本和即时说谎的图像文件。 </p><br><p> 从理论上讲，以这种方式准备的帖子可以轻松转移到其他平台。 实际上，由于很难在Internet上找到案例，因此很难判断。 </p><br><p> 这是1个博客文章的数据文件夹如下所示： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/bfe/90c/aac/bfe90caac87e32e72420dd33c3a23e8a.png" alt="邮寄资料夹"></p><br><p> 这是在Sublime Text和输出页面中编辑帖子本身： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b08/c66/7d8/b08c667d8301851983db96b2c5eb816b.png" alt="在Sublime Text中编辑帖子"></p><br><p> 如果将源代码添加到版本控制系统，则可以在博客中查看更改的历史记录。 以下屏幕截图显示了Sublime Merge自2018年5月以来的更改历史记录： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/6b5/90c/ff6/6b590cff6875afb3b1ce563ab720e39f.png" alt="崇高合并更改"></p><br><h4 id="sredi-raznyh-generatorov-vybral-hugo-iz-za-ego-populyarnosti-skorosti-i-prostoty-ustanovki"> 雨果因其受欢迎程度，速度和易于安装而被选为不同的发电机 </h4><br><p> 根据GitHub上的星级数，Hugo在互联网上最受欢迎的网站生成器中排名前三。 </p><br><p> 该程序本身是一个1 exe文件。 启动生成器不需要安装，但是要使用hugo命令调用生成器，您需要在PATH系统变量中注册指向生成器的路径。 </p><br><p> 我已经在上面提到了工作的速度-雨果比其他许多生成器快得多，随着站点数量的增长，这变得很重要。 </p><br><h1 id="slozhnosti-s-kotorymi-prishlos-stolknutsya"> 面临的困难 </h1><br><h4 id="nuzhno-hotya-by-nemnogo-razbiratsya-v-programmirovanii-ili-skriptah"> 您至少需要对编程或脚本有一点了解 </h4><br><p>  HUGO和其他生成器没有熟悉的用户界面。 通过一组命令或单个bat文件来启动站点更新。 </p><br><p>  “接口”： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/8f4/72a/f33/8f472af331f74430d8f943f2e602a1ef.png" alt="启动的部署的屏幕截图"></p><br><p> 如果通过GitLab CI加载站点，则需要能够稍微编辑CI配置文件。 </p><br><p>  GitLab为不同的生成器提供了许多现成的文件，这些文件可以作为基础： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/93b/6fd/f6c/93b6fdf6c9534f49d90fec52f08f9c05.png" alt="Gitlab模板"></p><br><p> 但是，您仍然必须投入配置以修复某些问题。 例如，在标准配置中（在下面的屏幕截图中），我建议至少更改Hugo的版本（稍后将分析原因）： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/bec/f84/454/becf84454b9f66989da79a4d2c52edf5.png" alt="Hugo的标准GitLab页面配置"></p><br><h4 id="prihoditsya-vruchnuyu-pravit-vybrannuyu-temu-oformleniya-pod-sebya-nuzhny-znaniya-html"> 您必须自己手动编辑所选主题，您需要HTML知识 </h4><br><p> 讲俄语的雨果社区并不算太大，因此很少有现成的解决方案能够考虑到俄罗斯观众的具体情况。 没有俄语主题，社交按钮适用于外国网络，主题仅用于使用Disqus评论，依此类推。 我不得不独立地将系统铭文改写成俄语，并使用在俄语国家中颇受欢迎的网络来设置社交按钮集。 </p><br><p> 即使您不是前端开发人员，也欢迎来到带有Go上的插入内容的HTML模板的世界： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ea9/bc1/450/ea9bc14505e984962ebf7d8460d05a68.png" alt="主题编辑"></p><br><p> 在雨果，直到最近，还没有插件之类的东西。 所有编辑都必须在主题的源代码中完成。 例如，如果您需要更正页面页脚中的文本，则必须编辑HTML主题模板。 </p><br><p> 如果需要更新主题，则必须在主题的各个版本之间手动转移所做的编辑。 如果您需要完全转移，则必须保留文本日志，其中包含原始主题中所有更改的描述。 </p><br><p> 在下面的屏幕截图中，显示了更改列表的1/3： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/39f/67b/65c/39f67b65cbb534517db5c5a50445613b.png" alt="变更清单"></p><br><h4 id="slozhno-razobratsya-kak-rabotaet-dvizhok-generatora"> 很难弄清发电机引擎是如何工作的。 </h4><br><p> 我没有尝试，但是一直以来我都无法完全理解发电机的工作原理。 我将无法从头开始创建主题或复杂的博客结构。 </p><br><h4 id="ne-vsegda-mozhno-nayti-reshenie-problemy"> 并非总是可以找到问题的解决方案 </h4><br><p> 如果该问题对许多用户而言是常见的，则可以快速修复。 但是您可能会遇到只有您会遇到的问题。 </p><br><p> 例如，更新后，GitLab开始将文件路径中的非英语字符转换为Web编码。 如果文件路径包含非英语字母，则将大大增加文件路径。 由于路径太长，建立站点的过程因错误而失败。 提到我找不到的特定问题。 我在GitLab问题跟踪器上开始了一张票，但是上面没有任何动静。 我认为该问题与GitLab CI中的一个较大错误有关，该错误已在一个月内修复。 这个月，我通过托管转移暂时解决了我的问题。 </p><br><h4 id="opasnost-obnovleniy-i-prichiny-fiksirovat-versiyu-hugo"> 更新的危险和提交Hugo版本的原因 </h4><br><p> 不保证您的设置，文档和完成的主题在不更改新版本的Hugo的情况下即可正常运行。 </p><br><p> 例如，在Hugo版本0.57.0中，不再正确地组装主页。 我不明白问题出在什么地方：在新版本的生成器的错误中，未打开的主题中或在我的源代码结构中。 我决定继续使用版本0.56。 事实证明，开发人员对页面生成算法的配置进行了打破兼容性的更改。 </p><br><p> 相关的问题是，如果不使用新功能，原则上是否值得更新。 实际上，缺少更新不会影响安全性，并且兼容性可能会中断。 雨果官方论坛的例子： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7ae/484/287/7ae484287084b55b958b376461ebea90.png" alt="来自雨果官方论坛的问题"></p><br><p> 建议您在GitLab CI的脚本设置中，对要使用的Hugo版本进行硬修复。 </p><br><p> 默认情况下，我使用的是“最新的”，但是有几次我发现新版本更改了网站渲染的重要参数。 直至博客构建过程中断，或RSS中出现不必要的帖子。 仅在更新托管站点或进入RSS之后，我才了解到这一点。 在下面的屏幕快照中，带有永久保存的错误条目的供稿RSS故事： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/1d7/1d9/bc7/1d71d9bc70804dfd191582d0a443760c.png" alt="饲料历史"></p><br><h3 id="podvodim-itogi"> 总结一下 </h3><br><p> 静态网站生成器-适合那些已经对前端有所了解的人，希望在技术方面的投入有限，以获得技术上简单的网站/博客。 </p><br><p> 如果优先考虑速度和易于安装，则雨果是一个不错的选择。 </p><br><p> 没有技术知识，你就做不到。 在这里和那里，您必须沉浸在HTML，CSS和其他技术问题中。 另一方面，配置站点后，维护所需的工作量将大大减少。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN473656/">https://habr.com/ru/post/zh-CN473656/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN473642/index.html">Cribble Crabble Gradle：自动构建魔术</a></li>
<li><a href="../zh-CN473646/index.html">小公司的Hackathon：如何在不浪费资源的情况下进行安排</a></li>
<li><a href="../zh-CN473648/index.html">马已经死了-哭泣：从tslint到eslint的过渡</a></li>
<li><a href="../zh-CN473652/index.html">使用Node.js和Oracle数据库创建REST API。 第5部分</a></li>
<li><a href="../zh-CN473654/index.html">PHP Composer：轻松解决依赖关系</a></li>
<li><a href="../zh-CN473658/index.html">处理Go 1.13中的错误</a></li>
<li><a href="../zh-CN473660/index.html">街机逆向工程：在NBA Jam上创下Michael Jordan</a></li>
<li><a href="../zh-CN473664/index.html">亲身学习经验。 Yandex.Practicum-数据分析师</a></li>
<li><a href="../zh-CN473666/index.html">作为科幻小说作家，亚瑟·克拉克（Arthur Clark）几乎关闭了《科技-青年》杂志</a></li>
<li><a href="../zh-CN473668/index.html">为什么选择Bitrix-Bitrix</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>