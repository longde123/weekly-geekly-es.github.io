<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§µüèø ü§πüèæ ü•¢ Pi√®ges de Java. Partie 1 üíí üíÜ üë®üèΩ‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour Je voudrais attirer votre attention sur un court article. Cet article est destin√© aux d√©butants. Mais m√™me si vous √™tes un d√©veloppeur exp√©rim...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pi√®ges de Java. Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439642/">  Bonjour  Je voudrais attirer votre attention sur un court article.  Cet article est destin√© aux d√©butants.  Mais m√™me si vous √™tes un d√©veloppeur exp√©riment√©, ne tirez pas de conclusions h√¢tives. <br>  J'esp√®re que cette publication sera utile non seulement aux d√©butants. <br><br>  <i>Le but de cette publication:</i> <br>  Montrez les erreurs les plus courantes aux d√©butants et quelques astuces pour les corriger.  Il est clair que certaines erreurs peuvent √™tre complexes et se produire pour une raison ou une autre.  Le but de la publication est dans une certaine mesure de les analyser et d'aider √† les identifier √† un stade pr√©coce.  J'esp√®re que cette publication sera utile aux d√©butants. <br><br>  Liste de v√©rification des erreurs: <br><a name="habracut"></a><br>  1. Typos.  Des fautes de frappe ennuyeuses qui n'apparaissent pas imm√©diatement <br>  2. Affectation en condition au lieu de comparaison <br>  3. Erreurs logiques dans la condition <br>  4. Mauvaise comparaison de cha√Ænes <br>  5. Initialisation incorrecte des variables de types primitifs <br>  6. Mauvaise utilisation du double <br>  7. Type de valeur de retour incorrect dans le constructeur. <br>  8. Division par z√©ro.  POSITIVE_INFINITY <br>  9. Ne pas prendre en compte l'ordre d'initialisation des classes <br>  10. Une variable locale cache une variable de classe <br>  11. Ignorer la conversion automatique dans les expressions arithm√©tiques <br>  12. Boucle infinie avec octet, difficile √† d√©tecter. <br>  13. Le nom de la classe est diff√©rent du nom du fichier dans lequel elle est stock√©e. <br>  14. Les objets qui sont des √©l√©ments d'un tableau ne sont pas initialis√©s. <br>  15. Placer plusieurs classes dans un fichier √† la fois avec le modificateur public <br><cut></cut><br><h3>  Pi√®ges Java </h3><br>  Tous les langages de programmation ont leurs avantages et leurs inconv√©nients.  Cela est d√ª √† de nombreuses raisons.  Java ne fait pas exception.  J'ai essay√© de recueillir des difficult√©s √©videntes et non √©videntes rencontr√©es par un programmeur Java novice.  Je suis s√ªr que les programmeurs exp√©riment√©s trouveront √©galement quelque chose d'utile dans mon article.  La pratique, l'attention et l'exp√©rience acquise en programmation vous aideront √† √©viter de nombreuses erreurs.  Mais il est pr√©f√©rable de consid√©rer √† l'avance certaines erreurs et difficult√©s.  Je vais donner quelques exemples avec du code et des explications.  De nombreuses explications vous appara√Ætront clairement √† partir des commentaires sur le code.  La pratique donne beaucoup, car certaines r√®gles ne sont pas si √©videntes.  Certains se trouvent √† la surface, certains sont cach√©s dans les biblioth√®ques de langues ou dans la machine virtuelle java.  N'oubliez pas que java n'est pas seulement un langage de programmation avec un ensemble de biblioth√®ques, c'est aussi une machine virtuelle java. <br><br>  Pour l'article, j'ai sp√©cifiquement √©crit un code de travail avec des commentaires d√©taill√©s.  Pour √©crire un article avec des exemples de code, java 8 a √©t√© utilis√©. Pour les tests, le code java est plac√© dans des packages s√©par√©s. <br><br>  Exemple: "package underwaterRocks.simple;" <br><br>  √Ä quelles difficult√©s les d√©butants sont-ils confront√©s? <br><br><h3>  Typos </h3><br>  Il arrive que des programmeurs novices cr√©ent des fautes de frappe difficiles √† d√©tecter en un coup d'≈ìil. <br><br><cut></cut><br>  <i>Exemple de code:</i> <br><br>  Fichier: "Simple.java" <br><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*   ;     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.simple; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Simple</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ival = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(ival&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>); { System.out.println(<span class="hljs-string"><span class="hljs-string">"     "</span></span>); } } }</code> </pre> <br><cut></cut><br>  <i>Explication</i> : ¬´Le point-virgule indique la fin de l'instruction.  Dans ce cas;  Est la fin d'une instruction vide.  C'est une erreur logique.  Une telle erreur peut √™tre difficile √† d√©tecter. <br><br>  Le compilateur consid√©rera que tout est correct.  Condition si (ival&gt; 0);  dans ce cas n'a pas de sens.  Parce que cela signifie: si ival est sup√©rieur √† z√©ro, ne faites rien et continuez. ¬ª <br><br><h3>  Affectation en condition au lieu de comparaison </h3><br>  La condition est l'affectation variable. <br><br>  Ce n'est pas une erreur, mais l'utilisation d'une telle technique doit √™tre justifi√©e. <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> myBool = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(myBool = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) System.out.println(myBool);</code> </pre> <br>  Dans ce code, si (myBool = true) signifie: "D√©finissez la variable myBool sur true, <br>  si l'expression est vraie, suivez la condition suivant les crochets. ¬ª <br><br>  Dans ce code, la condition sera toujours vraie.  Et System.out.println (myBool);  sera toujours ex√©cut√©, quelle que soit la condition. <br><br>  == est une comparaison pour l'√©galit√©. <br>  = Est une affectation, vous pouvez dire a = 10;  comme: "mais attribuez une valeur de 10". <br><br>  La condition entre parenth√®ses renvoie une valeur bool√©enne. <br>  Peu importe l'ordre dans lequel vous √©crivez.  Vous pouvez comparer comme ceci: (0 == a) ou (5 == a) <br>  Si vous oubliez un signe √©gal, par exemple (0 = a) ou (5 = a), le compilateur vous informera d'une erreur.  Vous attribuez une valeur, pas une comparaison. <br>  Vous pouvez √©galement √©crire sous une forme lisible un certain intervalle. <br>  Par exemple: vous devez √©crire: sup√©rieur √† 5 et inf√©rieur √† 10. <br>  Vous √©crivez comme ceci: (a&gt; 4 &amp;&amp; a &lt;10), mais avec le m√™me succ√®s, vous pouvez √©crire: (4 &lt;a &amp;&amp; a &lt;10), <br>  vous voyez maintenant que a est compris entre 4 et 10, √† l'exclusion de ces valeurs.  C'est plus √©vident.  Il est imm√©diatement √©vident que, a est dans l'intervalle entre 4 et 10, √† l'exclusion de ces valeurs. <br><br>  Exemple de code (intervalle) 3,9 [): <br>  si (3 &lt;a &amp;&amp; a &lt;9) ex√©cuter; <br><br><h3>  Erreur logique </h3><br>  if (condition) {} if (condition) {} else {} - else fait r√©f√©rence √† l'if le plus proche. <br>  C'est souvent la cause d'erreurs d√©butantes. <br><br><h3>  Comparaison de cha√Ænes non valide </h3><h3>  Les d√©butants utilisent assez souvent == au lieu de .equals pour comparer les cha√Ænes. <br><br></h3><h3>  Initialisation variable </h3><br>  Envisagez d'initialiser des variables d'un type primitif. <br><br>  Primitives (octet, court, int, long, char, float, double, bool√©en). <br><br>  Valeurs initiales. <br><cut></cut><br><pre> <code class="plaintext hljs">byte 0 short 0 int 0 long 0L float 0.0f double 0.0d char '\u0000' String (or any object) null boolean false (  jvm)</code> </pre> <br><cut></cut><br>  <i>Remarque:</i> <br><br>  Les variables locales sont l√©g√®rement diff√©rentes; <br>  Le compilateur n'attribue jamais de valeur par d√©faut √† une variable locale non initialis√©e. <br><br>  Si vous ne pouvez pas initialiser votre variable locale l√† o√π elle est d√©clar√©e, <br>  N'oubliez pas de lui attribuer une valeur avant d'essayer de l'utiliser. <br><br>  L'acc√®s √† une variable locale non initialis√©e entra√Ænera une erreur de compilation. <br><br>  <i>Confirmation de cette note dans le code:</i> <br><br>  Fichier: "MyInitLocal.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myInit; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInitLocal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> classes_f; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> classes_gi; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; MyInitLocal myInit = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyInitLocal(); <span class="hljs-comment"><span class="hljs-comment">/*         .*/</span></span> System.out.println(<span class="hljs-string"><span class="hljs-string">"myInit.classes_f = "</span></span> + myInit.classes_f); System.out.println(<span class="hljs-string"><span class="hljs-string">"myInit.classes_gi = "</span></span> + myInit.classes_gi); <span class="hljs-comment"><span class="hljs-comment">// System.out.println("f = " + f); // .     // System.out.println("f = " + i); // .     } }</span></span></code> </pre> <br><br>  Plages de valeurs: <br><br> <code>byte ( , 1 , [-128, 127]) <br> short ( , 2 , [-32768, 32767]) <br> int ( , 4 , [-2147483648, 2147483647]) <br> long ( , 8 , [-922372036854775808,922372036854775807]) <br> float ( , 4 ) <br> double ( , 8 ) <br> char ( Unicode, 2 , 16 , [0, 65535]) <br> boolean ( /,  int,   JVM)</code> <br> <blockquote>  char: le type de donn√©es char est un seul caract√®re Unicode 16 bits.  Il a une valeur minimale de ¬´\ u0000¬ª (ou 0) et une valeur maximale de ¬´\ uffff¬ª (ou 65 535 inclus). </blockquote><br><br>  Documentation Oracle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">&gt;&gt;</a> <br><br>  Essayons d'initialiser une variable de type long avec le num√©ro: 922372036854775807. <br>  Rien ne marchera pour nous.  Parce que c'est un litt√©ral entier de type int. <br>  Initialisation correcte avec un long litt√©ral: 922372036854775807L; <br><br>  <i>Exemple de code:</i> <br><br>  Fichier: ¬´MyInitLocalLong.java¬ª <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*    long  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myInit; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInitLocalLong</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// long al = 922372036854775807; // integer number too large long bl = 922372036854775807L; //   } }</span></span></code> </pre><br><br>  Que rechercher lors de l'initialisation d'une variable. <br><br>  Plage de valeurs d'une variable de ce type.  Le fait que la variable soit initialis√©e avec un litt√©ral d'un certain type.  Pour les conversions explicites et implicites.  Sur la compatibilit√© des types. <br><br>  Lorsque vous utilisez des coques de type Integer, vous devez faire attention √† l'emballage automatique et au d√©ballage automatique de ces types. <br><br><h3>  Utilisation inappropri√©e du double </h3><br>  Ici, vous devez clarifier.  Il ne s'agit pas de mal utiliser le double type. <br>  Nous utilisons correctement.  Seul le r√©sultat peut surprendre un programmeur d√©butant. <br>  Fichier: "MinusDouble.java" <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.tstDouble; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> vvm */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MinusDouble</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> a = <span class="hljs-number"><span class="hljs-number">4.64</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> b = <span class="hljs-number"><span class="hljs-number">2.64</span></span>; System.out.println(<span class="hljs-string"><span class="hljs-string">"ab = "</span></span>+(ab)); } } <span class="hljs-comment"><span class="hljs-comment">/*   run: ab = 1.9999999999999996 */</span></span></code> </pre><br><br>  <i>Remarque sur le type double.</i>  Une virgule flottante vous permet de compter avec une erreur relative donn√©e et une plage √©norme.  Dans les calculs scientifiques, une erreur relative est souvent n√©cessaire. <br><br><h3>  Double comparaison non valide </h3><br>  Consid√©rez le type double. <br><br>  <i>Exemple de code:</i> <br><br>  Fichier: "MyDouble.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*    double  - double. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myDouble; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyDouble</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dx = <span class="hljs-number"><span class="hljs-number">1.4</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span>; System.out.println(<span class="hljs-string"><span class="hljs-string">"dx = "</span></span> + dx); <span class="hljs-comment"><span class="hljs-comment">// dx = 0.9999999999999997 System.out.print(" (dx == 1.0):"); System.out.println(dx == 1.0); // false,   1.0   0.9999999999999997 /*   double*/ final double EPSILON = 1E-14; double xx = 1.4 - 0.1 - 0.1 - 0.1 - 0.1; double xy = 1.0; /*  xx c xy */ if (Math.abs(xx - xy) &lt; EPSILON) System.out.println(xx + "    " + xy + " EPSILON = " + EPSILON); } }</span></span></code> </pre><br>  Le type double est pratique lorsqu'une pr√©cision √©lev√©e n'est pas n√©cessaire.  Pour les transactions financi√®res, ce type ne convient pas.  Bien que certaines entreprises, pas tr√®s honn√™tes, utilisent le type double pour arrondir le c√¥t√© dont elles ont besoin.  Pour les op√©rations financi√®res, la classe BigDecimal est utilis√©e dans les calculs financiers, car les vrais types primitifs ne conviennent pas √† cette fin pour des raisons de perte de pr√©cision et d'erreurs dans les r√©sultats d'arrondi.  Cependant, des r√©sultats plus pr√©cis sont obtenus en utilisant la classe BigInteger. <br><br><h3>  Constructeur de classe </h3><br>  Le constructeur de classe correspond au nom de classe et ne renvoie rien, pas m√™me void. <br><br>  <i>Exemple de code:</i> <br><br>  Fichier: "MyConstructor.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*      ,  void    void -    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myConstructor; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"   void"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"  c void"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ MyConstructor myconst = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyConstructor(); myconst.MyConstructor(); <span class="hljs-comment"><span class="hljs-comment">//    } }</span></span></code> </pre><br>  Comme nous le voyons dans le code, deux m√©thodes avec les m√™mes noms: MyConstructor () et MyConstructor ().  L'une des m√©thodes ne renvoie rien.  Ceci est le constructeur de notre classe.  Une autre m√©thode avec void est la m√©thode de classe r√©guli√®re.  Dans le cas o√π vous n'avez pas cr√©√© de constructeur ou, √† votre avis, cr√©√© un constructeur de classe avec void, le compilateur cr√©era un constructeur par d√©faut et vous serez surpris de savoir pourquoi votre constructeur ne fonctionne pas. <br><br><h3>  Division par z√©ro </h3><br>  Que pensez-vous sera le r√©sultat de l'ex√©cution de ce code. <br><br>  Fichier: "DivisionByZero.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> divisionByZero; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> java.lang.Double.POSITIVE_INFINITY; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DivisionByZero</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f = <span class="hljs-number"><span class="hljs-number">12.2f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> d = <span class="hljs-number"><span class="hljs-number">8098098.8790</span></span>d; System.out.println(f/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(d/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(POSITIVE_INFINITY == f/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(POSITIVE_INFINITY == d/<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (NumberFormatException ex) { System.out.println(<span class="hljs-string"><span class="hljs-string">"NumberFormatException"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ArithmeticException ex) { System.out.println(<span class="hljs-string"><span class="hljs-string">"ArithmeticException"</span></span>); } } }</code> </pre><br>  L'ex√©cution du code produira: <br><br><pre> <code class="plaintext hljs">Infinity Infinity true true</code> </pre> <br>  La division du type entier par z√©ro donnera une ArithmeticException. <br><br>  La classe java.lang.Double d√©finit la constante <code>POSITIVE_INFINITY;</code> <br><br><pre> <code class="1c hljs">public static final float POSITIVE_INFINITY = <span class="hljs-number"><span class="hljs-number">1.0</span></span>d / <span class="hljs-number"><span class="hljs-number">0.0</span></span>d;</code> </pre> <br>  Il est converti en une cha√Æne √©gale √† Infinity. <br><br><h3>  Ordre d'initialisation </h3><br>  Fichier: ¬´InitClass.java¬ª <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> myInitClass; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InitClass</span></span></span><span class="hljs-class"> </span></span>{ InitClass(){ <span class="hljs-comment"><span class="hljs-comment">//   System.out.print(""); } { //   System.out.print("3 "); } public static void main(String[] args) { System.out.print("2"); new InitClass(); } static { //    System.out.print("1"); } }</span></span></code> </pre><br>  Tout d'abord, tous les blocs statiques sont ex√©cut√©s, puis les blocs d'initialisation, puis le constructeur de classe. <br><br>  Il sera affich√©: "123 Constructor" <br><br>  <b>Une variable locale cache une variable de classe</b> <br>  Bien que les IDE modernes d√©tectent facilement une telle erreur, je voudrais examiner une telle erreur plus en d√©tail.  Commen√ßons par l'affectation classique des variables dans le constructeur.  L'exemple est correct.  Il n'y a pas d'erreur. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> val = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> val)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.val = val; } }</code> </pre><br>  Cependant, que se passe-t-il si vous utilisez cette technique dans une m√©thode et non dans un constructeur de classe?  Dans la m√©thode habituelle, l'utilisation de cette technique n'est pas recommand√©e.  La question porte sur la bonne conception d'une classe. <br><br>  <i>Une explication simple:</i> dans une m√©thode, une variable portant le m√™me nom qu'une variable de classe est locale √† la m√©thode.  Vous pouvez acc√©der √† la variable de classe √† l'aide de this.val.  Cependant, un tel appel de la m√©thode, si la classe est mal con√ßue, ne provoquera que des effets secondaires et peut d√©grader la lisibilit√© du code. <br><br>  <b>La conversion de type arithm√©tique se fait automatiquement</b> <br><br>  Cela peut provoquer des erreurs g√™nantes. <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// byte a = 1; // byte b = 1; // byte  = a + b; //  // byte a = (byte) 1; // byte b = (byte) 1; // byte  = a + b; // </span></span></code> </pre><br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     ‚Äî     . byte a = 1; byte b = 1; byte c = (byte) (a + b);</span></span></code> </pre><br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     ‚Äî  final // final byte a = 1; // final byte b = 1; // byte c = a + b; //    ,  a  b final</span></span></code> </pre><br><br>  Une solution possible lorsque vous travaillez avec une cha√Æne: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> bHundr = Byte.parseByte(<span class="hljs-string"><span class="hljs-string">"100"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//      byte</span></span></code> </pre> <br><br>  Une autre erreur est donn√©e dans le code suivant. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= <span class="hljs-number"><span class="hljs-number">128</span></span>; i++) { System.out.println(i); }</code> </pre><br>  Dans ce cas, nous obtenons une boucle infinie. <br><br>  <i>L'explication.</i>  Octet de type [-128, 127].  128 n'est plus dans cette gamme.  Un d√©bordement se produit et le cycle se r√©p√®te.  La n√©cessit√© d'utiliser l'octet dans ce cas est douteuse.  Bien qu'il ait lieu dans de rares cas.  La recommandation est d'utiliser int au lieu d'octet.  Une autre recommandation est de ne pas utiliser de boucle dans votre algorithme. <br><br>  <b>Les objets qui sont des √©l√©ments de tableau ne sont pas initialis√©s</b> <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] cats = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[<span class="hljs-number"><span class="hljs-number">10</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;cats.length;i++){ System.out.println(<span class="hljs-string"><span class="hljs-string">"cats "</span></span> + i + <span class="hljs-string"><span class="hljs-string">" = "</span></span> + cats[i]); }</code> </pre><br><br>  Dans cet exemple, nous avons un tableau d'√©l√©ments de type primitif.  Et rien de mal ne se produit lorsque nous ne les initialisons pas.  On leur attribuera la valeur par d√©faut.  Dans ce cas, la valeur = 0. <br><br>  Prenons un autre exemple, non pas avec des primitives dans le tableau, mais avec des objets dans le tableau. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArrInitObj</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ MyObj[] cats = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyObj[<span class="hljs-number"><span class="hljs-number">10</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;cats.length;i++){ System.out.println(<span class="hljs-string"><span class="hljs-string">"cats "</span></span> + i + <span class="hljs-string"><span class="hljs-string">" = "</span></span> + cats[i]); System.out.println(<span class="hljs-string"><span class="hljs-string">"cats "</span></span> + i + <span class="hljs-string"><span class="hljs-string">".val = "</span></span> + cats[i].val); <span class="hljs-comment"><span class="hljs-comment">//    java.lang.NullPointerException } } } class MyObj{ public int val; }</span></span></code> </pre><br><br>  La solution √† ce probl√®me consiste √† initialiser toutes les variables d'objet avant de les utiliser.  L'initialisation peut √™tre effectu√©e dans le constructeur de la classe MyObj. <br><br>  <b>Le nom de classe est diff√©rent du nom du fichier dans lequel il est stock√©</b> <br>  L'IDE moderne d√©tecte facilement ce type d'erreur.  Cependant, de telles erreurs sont rencontr√©es, bien que rarement.  Cela aidera √† l'attention, en tenant compte des diff√©rences dans les noms des lettres majuscules et minuscules. <br><br>  <b>Placer plusieurs classes dans un fichier √† la fois avec le modificateur public</b> <br>  L'erreur est assez rare.  L'IDE vous donnera imm√©diatement un avertissement. <br>  Le nom de fichier doit correspondre au nom de la classe publique. <br><br>  <b>Conclusions</b> <br>  De nombreuses erreurs ne sont pas √©videntes √† premi√®re vue.  M√™me les programmeurs exp√©riment√©s les font, mais en plus petit nombre.  La prudence, l'exp√©rience pratique, l'utilisation d'un d√©bogueur et la lecture de la documentation vous aideront √† √©viter de nombreuses erreurs. <br><br>  J'esp√®re que vous avez appr√©ci√© l'article et que vous l'avez trouv√© utile.  Je serai heureux de vos commentaires, commentaires, suggestions, souhaits.  √Ä suivre.  Au contraire, l'ajout suit. <br><br>  <b>Les r√©f√©rences</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Consignes de conception du code Oracle Java &gt;&gt;&gt;</a> <br><br>  PS.  Mes amis.  Je n'ai aucun moyen de continuer √† publier sans votre aide.  Autrement dit, aucune opportunit√© financi√®re.  Si la publication vous a vraiment aid√© et que vous souhaitez continuer, merci de me soutenir.  Quelque part, il y a un bouton: "Soutenez l'auteur". <br>  J'esp√®re pour votre compr√©hension.  Je vous remercie  Merci √† Habr pour l'opportunit√© de publier. <br><br>  L'auteur sera oblig√© de supprimer ses publications ou de les masquer dans des brouillons en cas de manque de soutien.  Ce n'est pas un ultimatum.  Si vous en avez l'occasion, cela vous a √©t√© utile, vous pouvez aider, puis cliquez sur le bouton de support d'auteur. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr439642/">https://habr.com/ru/post/fr439642/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr439628/index.html">Actualisation parall√®le des donn√©es dans l'API Web ASP.NET</a></li>
<li><a href="../fr439632/index.html">Comment configurer le d√©ploiement continu pour votre projet: exp√©rience personnelle</a></li>
<li><a href="../fr439636/index.html">La crise des concepts pour am√©liorer la s√©curit√© routi√®re et un nouveau concept pour la r√©soudre</a></li>
<li><a href="../fr439638/index.html">Obtenir FPGA en Python</a></li>
<li><a href="../fr439640/index.html">Le vinyle est de retour et il est diff√©rent</a></li>
<li><a href="../fr439644/index.html">Anti-√¢ge: S√©nolytiques et th√©rapie de remplacement des cellules souches</a></li>
<li><a href="../fr439646/index.html">SoftBank Holding vend les actions de Nvidia en raison de la baisse du cours, mais obtient toujours 3,3 milliards de dollars</a></li>
<li><a href="../fr439652/index.html">Comment transporter votre startup aux USA: 4 √©tapes importantes</a></li>
<li><a href="../fr439654/index.html">Immersion compl√®te: comment refroidir les puces ASIC chez Bitfury</a></li>
<li><a href="../fr439656/index.html">Calculatrice de caract√®res en C #</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>