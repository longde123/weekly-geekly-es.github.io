<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧚🏽 👩‍💻 🐶 Wie schreibe ich Code, den jeder verstehen wird? ☃️ 🐥 🏔️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Von einem Übersetzer: Wir haben für Sie einen Artikel von Camil Lelonek über die Bedeutung von Lesbarkeit von Code und „Empathie von Programmierern“ v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie schreibe ich Code, den jeder verstehen wird?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skillbox/blog/430510/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d5d/6f5/3cf/d5d6f53cf53a8dcce56ead2c2483b284.png"></div><br>  <b>Von einem Übersetzer: Wir</b> haben für Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen Artikel von</a> Camil Lelonek über die Bedeutung von Lesbarkeit von Code und „Empathie von Programmierern“ veröffentlicht. <br><br>  Haben Sie sich jemals gefragt, wer Ihren Code anzeigen wird?  Wie schwierig kann es für andere sein?  Versucht, seine Lesbarkeit zu bestimmen? <br><blockquote>  „Jeder Dummkopf kann Code schreiben, den die Maschine versteht.  Aber nur gute Programmierer schreiben Code, den die Leute auch verstehen “, sagt Martin Fowler. </blockquote>  Von Zeit zu Zeit verliere ich das Vertrauen in die Existenz von Empathie unter Programmierern, wenn ich einige Codefragmente sehe.  Sie müssen verstehen, wovon ich spreche - denn jeder von uns ist auf Code gestoßen, der nur schrecklich geschrieben und praktisch unlesbar war. <br><a name="habracut"></a><blockquote>  <b>Skillbox empfiehlt:</b> Zweijähriger Praktikumskurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Ich bin ein PRO-Webentwickler</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"</a> <br><br>  <b>Wir erinnern Sie daran:</b> <i>Für alle Leser von „Habr“ - ein Rabatt von 10.000 Rubel bei der Anmeldung für einen Skillbox-Kurs mit dem Promo-Code „Habr“.</i> </blockquote>  Ich habe kürzlich so etwas gesehen: <br><br><pre><code class="java hljs">defmodule Util.<span class="hljs-function"><span class="hljs-function">Combinators </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">do</span></span></span><span class="hljs-function"> def </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">then</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">do</span></span></span><span class="hljs-function"> fn data -&gt; b.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a.(data)</span></span></span><span class="hljs-function">) end end def a ~&gt; b, </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">do</span></span></span><span class="hljs-function">: a |&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">then</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(b)</span></span></span><span class="hljs-function"> end</span></span></code> </pre> <br>  Im Prinzip ist hier alles in Ordnung: Vielleicht hat jemand nur eine Fantasie oder der Autor des Codes hat einen soliden mathematischen Hintergrund.  Ich wollte diesen Code nicht umschreiben, aber unbewusst schien es mir, dass hier etwas nicht stimmte.  „Es muss einen Weg geben, es besser zu machen, es anders zu formulieren.  Ich werde sehen, wie alles funktioniert “, dachte ich mir.  Ziemlich schnell fand ich Folgendes: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Util.{Reset, Combinators} # ... conn = conn!() Benchee.run( # ... time: <span class="hljs-number"><span class="hljs-number">40</span></span>, warmup: <span class="hljs-number"><span class="hljs-number">10</span></span>, inputs: inputs, before_scenario: do_reset!(conn) ~&gt; init, formatter_options: %{console: %{extended_statistics: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>}} )</code> </pre> <br>  Hmmm, es sieht so aus, als würde nicht nur ~&gt; importiert, sondern auch die Funktionen conn! / 0 und do_reset! / 1.  Ok, schauen wir uns das Reset-Modul an: <br><br><pre> <code class="java hljs">defmodule Util.Reset <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> alias EventStore.{Config, Storage.Initializer} def conn! <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> {:ok, conn} = Config.parsed() |&gt; Config.default_postgrex_opts() |&gt; Postgrex.start_link() conn end def do_reset!(conn) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> fn data -&gt; Initializer.reset!(conn) data end end end</code> </pre> <br>  Für conn! Gibt es verschiedene Möglichkeiten, diese Website zu vereinfachen.  Dennoch macht es keinen Sinn, an dieser Stelle anzuhalten.  Ich möchte mich lieber auf do_reset! / 1 konzentrieren.  Diese Funktion gibt eine Funktion zurück, die ein Argument zurückgibt und einen Reset für den Initializer durchführt.  und der Name selbst ist ziemlich kompliziert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8bb/61a/11d/8bb61a11daa14a5df65cea9042198039.jpg"><br><br>  Ich habe mich entschlossen, den Code zurückzuentwickeln.  Laut Benchee-Dokumentation verwendet before_scenario die Skripteingabe als Argument.  Der Rückgabewert wird zur Eingabe für die nächsten Schritte.  Folgendes hat der Autor wahrscheinlich gemeint: <br><br><ul><li>  Initialisieren einer Postgrex-Verbindung. </li><li>  EventStore zurücksetzen. </li><li>  Verwenden von Eingabewerten als Konfigurationselemente (über die Anzahl der Konten). </li><li>  Vorbereiten von Daten für Tests (d. H. Erstellen von Benutzern und Eingeben der Anwendung). </li><li>  Benchmarks verwenden. </li></ul><br>  Im Allgemeinen ist alles klar, ein solcher Code ist einfach zu schreiben.  Ich stelle fest, dass ich beim Refactoring die Init-Funktion nicht anzeigen oder ändern werde, dies ist hier nicht sehr wichtig. <br><br>  Der erste Schritt besteht darin, Aliasing anstelle impliziter Importe explizit zu verwenden.  Ich mochte die "magischen" Funktionen, die in meinem Code erscheinen, nie, obwohl Ecto.Query die Abfragen elegant macht.  Jetzt sieht unser Verbindungsmodul folgendermaßen aus: <br><br><pre> <code class="java hljs">defmodule Benchmarks.Util.Connection <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> alias EventStore.{Config, Storage.Initializer} def init! <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> with {:ok, conn} = Config.parsed() |&gt; Config.default_postgrex_opts() |&gt; Postgrex.start_link() <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> conn end end def reset!(conn), <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>: Initializer.reset!(conn) end</code> </pre> <br>  Als nächstes habe ich beschlossen, einen „Haken“ zu schreiben, wie in der Dokumentation vorgeschlagen: <br><br>  <i>before_scenario: fn Eingänge -&gt; Eingänge enden</i> <br><br>  Es bleibt nur noch die Vorbereitung der Daten.  Das Endergebnis ist wie folgt: <br><br><pre> <code class="java hljs">alias Benchmarks.Util.Connection conn = Connection.init!() # ... Benchee.run( inputs: inputs, before_scenario: fn inputs -&gt; Connection.reset!(conn) init.(inputs) end, formatter_options: %{console: %{extended_statistics: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>}} ) Connection.reset!(conn)</code> </pre> <br>  Ist dieser Code perfekt?  Wahrscheinlich noch nicht.  Aber ist es leichter zu verstehen?  Ich hoffe darauf.  Könnte es sofort gemacht werden?  Auf jeden Fall ja. <br><br><h3>  Was ist das Problem? </h3><br>  Als ich dem Autor eine Lösung vorschlug, hörte ich: „Cool.“  Mehr habe ich jedoch nicht erwartet. <br><br>  Das Problem ist, dass der primäre Code funktioniert hat.  Das einzige, was mich dazu brachte, über die Notwendigkeit eines Refactorings nachzudenken, war die zu komplexe Struktur des Codes und seine geringe Lesbarkeit. <br><br>  Um andere Entwickler davon zu überzeugen, ihren Code lesbar zu machen, benötigen Sie etwas Überzeugendes.  Und das Argument „Ich habe beschlossen, Ihren Code zu wiederholen, weil er dunkel ist“ wird nicht akzeptiert. Die Antwort lautet: „Es bedeutet, dass Sie nur ein schlechter Entwickler sind. Was kann ich tun? ¯ \ _ (ツ) _ / ¯“. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/46c/3ba/d64/46c3bad6448f8d6549b6c65cb7401023.png"><br><br><h3>  Dies ist ein (Nicht-) Managementproblem </h3><br>  Niemand ist überrascht, dass das Unternehmen Ergebnisse von Mitarbeitern erwartet.  Und je früher sie empfangen werden, desto besser.  Manager bewerten Software und ihr Schreiben in der Regel in Bezug auf Fristen, Budget und Geschwindigkeit.  Ich sage nicht, dass dies schlecht ist, ich versuche nur zu erklären, warum es keinen zu hochwertigen Code gibt, der "einfach funktioniert".  Tatsache ist, dass Manager nicht sehr an Schönheit und Lesbarkeit interessiert sind, sondern Verkäufe, niedrige Kosten und schnelle Ergebnisse benötigen. <br><br>  Wenn Programmierer gedrückt werden, suchen sie einen Ausweg.  Meistens besteht die Lösung darin, einen „Arbeitscode“ zu erstellen, in dem sich möglicherweise eine Reihe von „Krücken“ befinden.  Es wird ohne den Gedanken erstellt, dass der Code in Zukunft beibehalten werden muss.  Und eleganter Code ist sehr schwer schnell zu schreiben.  Es spielt keine Rolle, wie erfahren der Programmierer ist, wenn die Arbeit unter Zeitdruck erledigt wird, denkt niemand an Schönheit. <br><br>  Diese Situation kann nur gelöst werden, indem Manager davon überzeugt werden, dass ein schlechter (wenn auch funktionierender) Code in naher Zukunft die Kosten für seine Wartung zu erhöhen droht.  Beheben von Fehlern und Hinzufügen neuer Funktionen, Überprüfen, Schreiben technischer Dokumentation - bei Code mit schlechter Qualität dauert dies viel länger als in einer Situation, in der es elegant und rational ist. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c84/b49/aab/c84b49aab74743e407730cd8168c2f0c.jpg"><br><br><h3>  Die wichtige Rolle von Empathie </h3><br>  Wenn Sie Software entwickeln, verstehen Sie, dass diese für andere Personen bestimmt ist und die Entwicklung in einem Team durchgeführt wird.  Und Empathie ist hier sehr wichtig. <br><br>  Ihr Code ist eine besondere Form der Kommunikation.  Bei der Entwicklung der Architektur zukünftiger Software müssen Sie an diejenigen denken, die mit Ihrem Code interagieren. <br><br>  "Empathie der Programmierer" hilft dabei, einen saubereren und rationaleren Code zu erstellen, selbst wenn die Fristen abgelaufen sind und der Manager ständig "zerquetscht".  Es hilft zu verstehen, wie es ist, den unlesbaren Code eines anderen zu analysieren, was äußerst schwer zu verstehen ist. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/722/337/549/72233754963b16f39a4a9aaf80e8f43b.gif"><br><br><h3>  Als Fazit </h3><br>  Ich habe kürzlich Code auf Elixir geschrieben: <br><br><pre> <code class="erlang hljs">result = calculate_results() Connection.close(conn) result</code> </pre> <br>  Dann dachte ich an eine Ruby-Tap-Methode, mit der Sie diesen Code neu schreiben können: <br><br><pre> <code class="erlang hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate_result</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tap</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do</span></span></span><span class="hljs-function"> C</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onnection</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">close</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(conn)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span></span></code> </pre> <br>  IMHO wäre es besser, dies ohne das Ergebnis der Zwischenvariablen zu tun.  Ich überlegte, wie dies getan werden könnte, und kam zu folgendem Schluss: <br><br><pre> <code class="erlang hljs">with result = calculate_results(), Connection.close(conn), do: result</code> </pre> <br>  Das Ergebnis wird das gleiche sein.  Die Verwendung von with kann jedoch zu Problemen für jemanden führen, der diesen Code studiert, da with im Normalfall anders verwendet wird. <br><br>  Deshalb habe ich beschlossen, alles so zu lassen, wie es war, um es nicht auf Kosten anderer besser zu machen.  Ich bitte Sie, dasselbe zu tun, ohne den Code unermesslich zu komplizieren.  Denken Sie vor der Einführung einer exotischen Funktion oder Variablen daran, dass Ihre Kollegen sie in einer Überprüfung möglicherweise einfach nicht verstehen. <br><br>  Im Allgemeinen empfehle ich das folgende Prinzip: "Wenn Sie IHREN Code schreiben, denken Sie an ANDERE." <br><blockquote><ul><li>  Online-Kurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Beruf Frontend-Entwickler"</a> </li><li>  Praktikum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Mobile Developer PRO"</a> . </li><li>  Praktischer Jahreskurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"PHP-Entwickler von 0 bis PRO"</a> . </li></ul></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430510/">https://habr.com/ru/post/de430510/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430500/index.html">Vermeiden von Chaos in der Wissensdatenbank von Unternehmen: Unsere Confluence-Erfahrung</a></li>
<li><a href="../de430502/index.html">Lastprüfung mit Heuschrecke</a></li>
<li><a href="../de430504/index.html">Junior und rationale Denkmethoden</a></li>
<li><a href="../de430506/index.html">Dunkle Kunst der Auferstehung: Wie man Daten von beschädigten Medien wiederherstellt</a></li>
<li><a href="../de430508/index.html">DevOps: Was ist das wirklich?</a></li>
<li><a href="../de430512/index.html">Wie Freiberufler leben: Arbeiten Sie nicht mit allwissenden Kunden zusammen und lassen Sie sich zögern</a></li>
<li><a href="../de430514/index.html">Blockchain Charity - DataArt gewinnt Malta Blockchain Summit Hackathon</a></li>
<li><a href="../de430518/index.html">So rendern Sie den Rahmen von Mittelerde: Schatten von Mordor</a></li>
<li><a href="../de430520/index.html">Einführung in Spring Data MongoDB</a></li>
<li><a href="../de430522/index.html">Benötigen Sie eine Unternehmenskultur in der IT? Geständnis des Markenmanagers des Krasnodar-Studios Plarium</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>