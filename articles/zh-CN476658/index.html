<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧕🏾 🍆 🚴🏾 带视频卡的VPS（第2部分）：计算功能 😊 🌾 👌🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在上一篇文章中，当我们谈论带有视频卡的新VPS服务时，我们没有涉及将虚拟服务器与视频适配器一起使用的一些有趣方面。 现在是补充测试的时候了。 

  

 要在虚拟环境中使用物理视频适配器，我们选择了Microsoft虚拟机管理程序支持的RemoteFX vGPU技术。 在这种情况下，主机必须安装支...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>带视频卡的VPS（第2部分）：计算功能</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/476658/"> 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上</a>一篇文章中，当我们谈论带有视频卡的新<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">VPS</a>服务时，我们没有涉及将虚拟服务器与视频适配器一起使用的一些有趣方面。 现在是补充测试的时候了。 <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/z0/cb/44/z0cb44avqtjhewefev9y7agmxuk.jpeg"></a> <br><br> 要在虚拟环境中使用物理视频适配器，我们选择了Microsoft虚拟机管理程序支持的RemoteFX vGPU技术。 在这种情况下，主机必须安装支持SLAT的处理器（Intel的EPT或AMD的NPT / RVI），并满足Hyper-V图形卡创建者的要求。 在任何情况下，您都不应将此解决方案与物理机中的桌面适配器进行比较，后者在处理图形时通常表现出最佳性能。 在我们的测试中，vGPU将与虚拟服务器的中央处理器竞争-对于计算任务而言，这是合乎逻辑的。 我们还注意到，除了RemoteFX之外，还有其他类似的技术，例如NVIDIA Virtual GPU-它使您可以将每个虚拟机的图形命令直接传输到适配器，而无需管理程序进行广播。 <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">测验</font> </h2><br> 测试使用的机器具有4个3.4 GHz的计算核心，16 GB的RAM，100 GB的固态驱动器（SSD）和具有512 MB视频内存的虚拟视频适配器。 物理服务器中安装了专业的NVIDIA Quadro P4000图形卡，并且来宾系统正在运行带有标准Microsoft Remote FX视频驱动程序的Windows Server 2016 Standard（64位）。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a53/7f6/319/a537f6319527d00478522af83e6db218.png"></div><br><h3>  <font color="#3AC1EF">eekGeekBench 5</font> </h3><br> 首先，让我们<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">启动</a>当前版本的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GeekBench 5</a>实用程序，该实用程序可让您<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">评估</a> OpenCL应用程序的系统性能。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e55/f88/5ce/e55f885ce10a6a1aecd197b5c9f2cc1d.png"></div><br> 我们在上一篇文章中使用了该基准测试，但它只是证实了显而易见的事实-我们的vGPU在解决典型的“图形”问题方面比高效的台式机视频卡要弱。 <br><br><h3>  <font color="#3AC1EF">▍GPUCaps Viewer 1.43.0.0</font> </h3><br> 由<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Geeks3D</a>创建的实用程序不能称为基准。 它不包含性能测试，但允许您获取有关所使用的硬件和软件解决方案的信息。 在这里您可以看到，尽管物理服务器中安装了NVIDIA Quadro P4000视频适配器，但我们的vGPU虚拟机仅支持OpenCL 1.1，不支持CUDA。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d7/f11/bb4/3d7f11bb49ddfea0bf98e5227696fbf9.jpg"></div><br><h3>  <font color="#3AC1EF">▍FAHBench2.3.1</font> </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Folding @ Home</a>分布式计算项目<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的官方基准</a>致力于解决蛋白质分子凝血的计算机模拟的高度专业化问题。 研究与蛋白质缺陷有关的病理原因的必要步骤-阿尔茨海默氏病和帕金森氏病，疯牛病，多发性硬化等。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FAHBench</a>实用程序不能全面评估虚拟视频适配器的计算能力，但可以让您在复杂的计算中比较CPU和vGPU的性能。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a04/b0b/f01/a04b0bf017048cb24aafaabe6cec55a1.png"></div><br> 事实证明，使用OpenHB的FAHBench进行vGPU计算的性能比功能相当强大的中央处理器的类似指标高出约6倍（对于隐式仿真方法，约为10倍）。 <br><br> 接下来，我们以双精度呈现计算结果。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7ea/7e1/bca/7ea7e1bcae176e26f4582a07129f5b19.png"></div><br><h3>  <font color="#3AC1EF">SoftSiSoftware Sandra 20/20</font> </h3><br> 用于诊断和测试计算机的另一个通用软件包。 它使您可以详细了解服务器的硬件和软件配置，并包含大量不同的基准。 除了使用CPU进行计算外，Sandra 20/20还支持OpenCL，DirectCompute和CUDA。 我们主要对使用免费版<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Sandra Lite中</a>包含的硬件加速器的通用基准计算基准测试（GPGPU）感兴趣。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb5/047/525/bb50475259cd967ab7fa2458b61143c9.png"></div><br> 尽管它们比NVIDIA Quadro P4000视频适配器的预期值略低，但<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">结果</a>还是不错的。 虚拟化开销可能会受到影响。 <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/205/c92/99b/205c9299b1f29aaed8ae6ed74bc6fed8.jpg"></a> </div><br>  Sandra 20/20具有一组类似的CPU基准测试。 运行它们以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">将结果</a>与vGPU计算进行<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">比较</a> 。 <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/4d5/6b2/492/4d56b24927d2f8c9f0f3393b5777ac3c.jpg"></a> </div><br> 视频适配器的优点是显而易见的，但是，常规测试包的设置并不完全相同，因此在结果中您看不到具有必要详细程度的指示器。 我们决定进行几个单独的测试。 首先， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我们</a>使用OpenCL通过一组简单的数学计算<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">确定了</a> vGPU <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>峰值性能。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">该基准</a>实质上是CPU的Sandra多媒体<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">基准</a> （不是算术<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">基准</a> ！）。 为了进行比较，我们在同一张图上放置了中央处理器VPS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>多媒体测试<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">结果</a> 。 即使是具有四个内核的CPU也会明显损失给vGPU。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/01e/228/d03/01e228d03d8ade1d48c303d828fd3302.png"></div><br> 从综合测试，让我们继续实践。 密码测试帮助我们确定了编码和解码数据的速度。 在这里，对<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">vGPU</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CPU</a>的结果进行比较也显示了加速器的明显优势。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/458/3f5/08f/4583f508f40ab4e3f60e21f48c8336ef.png"></div><br>  vGPU的另一个应用领域是财务分析。 这样的计算很容易并行化，但是要执行这些计算，您需要一个支持双精度计算的视频适配器。 再一次，结果说明一切：功能强大的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">处理器</a>完全失去了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GPU</a> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd1/c28/993/fd1c28993784073fc96d9b237fd10c40.png"></div><br> 我们进行的最后一项测试是高精度的科学计算。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">图形适配器</a>在矩阵乘法，快速傅立叶变换和其他类似任务方面的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">处理能力</a>再次优于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">中央处理器</a> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/132/328/eaa/132328eaa047db1c19a79d718251942a.png"></div><br><h2>  <font color="#3AC1EF">结论</font> </h2><br>  vGPU不适合启动图形编辑器以及3D渲染和视频处理应用程序。 用于台式机系统的适配器可以更好地处理图形，但是虚拟适配器比CPU可以更快地执行并行计算。 为此，我必须感谢高效的RAM和更多的算术逻辑模块。 从各种传感器收集和处理数据，用于业务应用程序的分析计算，科学和工程计算，流量分析和关税，与交易系统配合使用-GPU必不可少的许多计算任务。 当然，您可以在家中或办公室中构建这样的服务器，但是您将需要为购买硬件和购买许可的软件支付大量的费用。 除基本建设成本外，还有维修服务的运营成本，其中包括电费。 存在折旧-设备会随着时间的推移而磨损，甚至会更快地过时。 虚拟服务器没有这些缺点：可以根据需要创建虚拟服务器，并在对计算能力的需求消失后将其删除。 仅在需要时才为资源付费总是有益的。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN476658/">https://habr.com/ru/post/zh-CN476658/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN476644/index.html">语言层</a></li>
<li><a href="../zh-CN476646/index.html">在werf中进行3种方式合并：在Heber上部署Kubernetes，“在类固醇上”</a></li>
<li><a href="../zh-CN476648/index.html">联想在FINOPOLIS 2019</a></li>
<li><a href="../zh-CN476650/index.html">枚举在当今瞬息万变的世界中的地位</a></li>
<li><a href="../zh-CN476656/index.html">11月26日，莫斯科-Alfa JS MeetUP＃3</a></li>
<li><a href="../zh-CN476664/index.html">oktech：前端聚会2：演讲者迷你访谈</a></li>
<li><a href="../zh-CN476666/index.html">程序员生物学：工程方法如何改变世界</a></li>
<li><a href="../zh-CN476668/index.html">我如何通过电话进行计算机控制</a></li>
<li><a href="../zh-CN476670/index.html">几何核C3D上的CAD概述-2</a></li>
<li><a href="../zh-CN476674/index.html">ReportPortal快速部署以熟悉</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>