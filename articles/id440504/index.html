<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤞 👨🏿‍🌾 👩🏼‍💼 Docker dan Kubernetes di Lingkungan yang Menuntut Keamanan 👆🏾 👨🏿‍🤝‍👨🏽 🏀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Catatan perev. : Artikel asli ditulis oleh seorang insinyur dari Swedia - Christian Abdelmassih, yang gemar arsitektur tingkat perusahaan, keamanan TI...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Docker dan Kubernetes di Lingkungan yang Menuntut Keamanan</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/440504/"> <i><b>Catatan</b></i>  <i><b>perev.</b></i>  <i>: Artikel asli ditulis oleh seorang insinyur dari Swedia - Christian Abdelmassih, yang gemar arsitektur tingkat perusahaan, keamanan TI, dan komputasi awan.</i>  <i>Baru-baru ini, ia menerima gelar master di bidang Ilmu Komputer dan sedang terburu-buru untuk berbagi karyanya - tesis master, atau lebih tepatnya, bagian dari itu, dikhususkan untuk masalah mengisolasi aplikasi kemas [dan diluncurkan dalam Kubernet].</i>  <i>Sebagai "klien" untuk siapa penelitian ini dipersiapkan, bertindak tidak kurang dari polisi di tanah airnya.</i> <br><br><img src="https://habrastorage.org/webt/_8/ys/gr/_8ysgrs-atvkocc6r8jpzyzzu1g.jpeg"><br><br>  Orkestrasi kontainer dan komputasi awan-asli telah menjadi sangat populer dalam beberapa tahun terakhir.  Adaptasi mereka telah mencapai tingkat yang bahkan perusahaan keuangan, bank, dan sektor publik menunjukkan minat pada mereka.  Dibandingkan dengan perusahaan lain, mereka dibedakan oleh persyaratan luas di bidang keamanan informasi dan TI. <a name="habracut"></a><br><br>  Salah satu aspek penting adalah bagaimana wadah dapat digunakan dalam lingkungan produksi dan pada saat yang sama, pemisahan sistem antara aplikasi dapat dipertahankan.  Karena organisasi tersebut menggunakan lingkungan cloud pribadi berdasarkan virtualisasi di atas bare metal, kehilangan isolasi seperti itu ketika bermigrasi ke lingkungan dengan wadah yang diatur tidak dapat diterima.  Dengan batasan-batasan ini, disertasi saya ditulis, dan Polisi Swedia dianggap sebagai klien target. <br><br>  Masalah spesifik dari penelitian yang dipertimbangkan dalam tesis adalah: <br><br><blockquote>  Bagaimana demarkasi aplikasi didukung di Docker dan Kubernetes dibandingkan dengan mesin virtual yang berjalan di atas ESXi hypervisor yang berjalan pada bare metal? </blockquote><br>  Masalah ini membutuhkan studi yang cermat.  Untuk memulai dengan sesuatu, lihat common denominator - application. <br><br><h2>  Aplikasi web membingungkan </h2><br>  Kerentanan dalam aplikasi web - kebun binatang vektor serangan nyata.  Risiko paling signifikan disajikan dalam OWASP Top 10 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">2013</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">2017</a> ).  Sumber daya ini membantu mendidik pengembang dalam mengurangi risiko tipikal.  Namun, bahkan jika pengembang menulis kode tanpa cacat, aplikasi masih bisa rentan - misalnya, melalui dependensi paket. <br><br>  David Gilbertson menulis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kisah hebat</a> tentang bagaimana Anda dapat menyuntikkan kode melalui paket jahat yang didistribusikan, misalnya, sebagai bagian dari NPM untuk aplikasi berbasis Node.js.  Untuk mendeteksi kerentanan, Anda dapat menggunakan pemindai ketergantungan, tetapi mereka hanya <i>mengurangi</i> risiko, tetapi tidak sepenuhnya menghilangkannya. <br><br>  Bahkan jika Anda membuat aplikasi tanpa ketergantungan pihak ketiga, masih tidak realistis untuk percaya bahwa aplikasi tersebut tidak akan pernah menjadi rentan. <br><br>  <b>Karena risiko ini, kami tidak dapat mengatakan bahwa aplikasi web aman.</b> <br><br>  Sebaliknya, tetap berpegang pada strategi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>pertahanan dalam</b></a> (DID).  Mari kita lihat tingkat selanjutnya: wadah dan mesin virtual. <br><br><h2>  Kontainer versus mesin virtual - kisah isolasi </h2><br>  Wadah adalah lingkungan ruang-pengguna yang terisolasi yang sering diimplementasikan menggunakan kemampuan kernel.  Misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Docker</a> menggunakan ruang nama Linux, grup, dan kemampuan untuk ini.  Dalam hal ini, isolasi wadah Docker <b>sangat berbeda</b> dari mesin virtual yang diluncurkan oleh hypervisor tipe 1 <i>(mis., Bekerja secara langsung pada perangkat keras; hypervisor bare-metal)</i> . <br><br>  Diferensiasi untuk mesin virtual semacam itu dapat diimplementasikan pada level rendah seperti pada perangkat keras nyata, misalnya, melalui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Intel VT</a> .  Kontainer Docker, pada gilirannya, bergantung pada kernel Linux untuk demarkasi.  Perbedaan ini sangat penting untuk dipertimbangkan ketika datang ke <i>serangan layer-bawah</i> . <br><br>  Jika seorang penyerang dapat mengeksekusi kode dalam mesin atau wadah virtual, ia berpotensi dapat mencapai tingkat yang lebih rendah dengan melakukan <i>serangan melarikan diri</i> . <br><br><img src="https://habrastorage.org/webt/36/hl/_c/36hl_cjove9e7ufmr4g7f3vcq5q.png"><br>  <i>tergantung pada apakah wadah atau mesin virtual digunakan pada perangkat keras, diferensiasi diimplementasikan pada berbagai tingkat infrastruktur.</i> <br><br>  Kemungkinan serangan tersebut terbukti untuk hypervisor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">VMware ESXi</a> selama kontes hacker Pwn2Own 2017, serta GeekPwn2018.  Hasilnya adalah sepasang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CVE</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CVE-2017–4902</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CVE-2018–6981</a> ) yang dapat digunakan dalam serangan lapisan-bawah untuk <b>keluar dari mesin</b> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">virtual</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">virtual machine escape</a> )</i> .  Mesin virtual pada server besi tidak menjamin keamanan absolut, meskipun mereka menggunakan teknologi untuk membedakan tingkat besi. <br><br>  Di sisi lain, jika kita melihat vektor serangan pada hypervisor bare-metal versus kernel Linux, jelas bahwa yang terakhir memiliki permukaan serangan yang lebih besar - karena ukuran [Linux kernel] dan berbagai kemampuan.  Permukaan serangan yang lebih besar menyiratkan lebih banyak vektor serangan potensial untuk lingkungan cloud menggunakan isolasi wadah.  Ini dimanifestasikan dalam perhatian yang semakin besar terhadap <i>serangan pelarian kontainer</i> , yang dimungkinkan berkat eksploitasi kernel (misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CVE-2016–5195</a> <i>[yaitu, Kotor SAPI - kira-kira. Terjemahan.]</i> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CVE-2017–1000405</a> ) <br><br>  Modul seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SELinux</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AppArmor</a> dapat digunakan untuk meningkatkan insulasi <b>di dalam</b> wadah.  Sayangnya, mekanisme keamanan seperti itu di kernel tidak mencegah serangan melarikan diri pada kernel itu sendiri.  Mereka hanya akan membatasi kemungkinan tindakan penyerang jika melampaui batas <i>tidak mungkin</i> .  Jika kita ingin berurusan dengan pintu keluar di luar wadah, diperlukan mekanisme isolasi di <b>luar</b> wadah atau bahkan inti.  Misalnya, kotak pasir <i>(kotak pasir)</i> ! <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gVisor</a> adalah kotak pasir untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">runtime</a> wadah, kode yang dibuka oleh Google dan yang menambahkan kernel tambahan antara wadah dan kernel OS.  Jenis kotak pasir ini dapat memperbaiki situasi dengan serangan kontainer yang tidak terbatas yang terjadi <i>di tingkat kernel</i> .  Namun, eksploitasi inti hanyalah salah satu alat penyerang. <br><br>  Untuk melihat bagaimana serangan lain dapat menyebabkan hasil yang serupa, Anda perlu melihat gambaran yang lebih umum tentang bagaimana wadah digunakan di era cloud asli. <br><br><h2>  Efek orkestrasi wadah pada isolasi </h2><br>  Untuk mengelola kontainer yang berjalan di lingkungan dengan banyak node, mereka memperkenalkan orkestrasi, di mana Kubernetes memberikan peran utama.  Ternyata, bug orkestra juga dapat mempengaruhi isolasi wadah. <br><br>  Tim Allclair <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">membuat</a> presentasi yang luar biasa di KubeCon 2018, di mana ia mencatat beberapa permukaan serangan.  Dalam laporannya, ia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menyebutkan</a> contoh ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CVE-2017-1002101</a> ), bagaimana bug orkestrasi dapat mempengaruhi isolasi - dalam hal ini, melalui kemampuan untuk memasang ruang disk di luar pod.  Kerentanan jenis ini sangat bermasalah, karena  dapat melewati kotak pasir di mana wadah dibungkus. <br><br>  Dengan memperkenalkan Kubernetes, kami telah memperluas permukaan serangan.  Ini mencakup sistem yang di-host pada master Kubernetes.  Salah satunya adalah server API Kubernetes, di mana mereka baru-baru ini menemukan kerentanan yang dapat memungkinkan hak istimewa yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">berlebihan</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CVE-2018–1002105</a> ).  Karena permukaan serangan master Kubernetes berada di luar cakupan disertasi saya, kerentanan khusus ini tidak diperhitungkan. <br><br>  Mengapa serangan melarikan diri begitu penting?  Wadah memberikan kemampuan untuk menjalankan banyak aplikasi yang dihosting bersama dalam OS yang sama.  Jadi ada risiko yang terkait dengan isolasi aplikasi.  Jika aplikasi bisnis-kritis dan aplikasi rentan lainnya berjalan pada host yang sama, penyerang bisa mendapatkan akses ke aplikasi kritis melalui serangan terhadap aplikasi yang rentan. <br><br>  Bergantung pada jenis data apa organisasi ini bekerja, kebocoran mereka dapat membahayakan tidak hanya organisasi itu sendiri, tetapi juga individu dan seluruh negara.  Seperti yang Anda ingat, kita berbicara tentang sektor publik, keuangan, bank ... - kebocoran dapat secara serius mempengaruhi kehidupan masyarakat. <br><br>  Jadi dapatkah wadah orkestrasi digunakan di lingkungan seperti itu?  Sebelum memulai refleksi lebih lanjut, penilaian risiko harus dilakukan. <br><br><h2>  Risiko apa yang bisa diterima? </h2><br>  Sebelum memperkenalkan langkah-langkah keamanan, penting untuk memikirkan informasi apa yang sebenarnya dilindungi oleh organisasi.  Keputusan apakah langkah lebih lanjut diperlukan untuk mencegah kemungkinan serangan melarikan diri pada kontainer tergantung pada data yang organisasi itu kerjakan dan layanan yang diberikannya. <br><br>  Dalam jangka panjang, ini berarti bahwa untuk mencapai kemungkinan keluar dari wadah pada host yang <i>dikonfigurasi dengan benar yang</i> dilindungi oleh kotak pasir untuk wadah, penyerang harus: <br><br><ol><li>  mengeksekusi kode dalam wadah, misalnya, melalui injeksi kode atau menggunakan kerentanan dalam kode aplikasi; </li><li>  Manfaatkan kerentanan lain, zero-day, atau patch belum diterapkan untuk keluar dari wadah <i>meskipun ada kotak pasir</i> . </li></ol><br>  Seperti yang Anda duga, organisasi yang tidak mempertimbangkan skenario seperti itu dapat diterima harus bekerja dengan data atau menawarkan layanan yang sangat menuntut <b>kerahasiaan</b> , <b>integritas</b> dan / atau <b>aksesibilitas</b> . <br><br>  Karena disertasi dikhususkan untuk klien seperti itu, hilangnya isolasi sistem dengan pergi ke luar wadah tidak diperbolehkan, karena  konsekuensinya terlalu signifikan.  Langkah apa yang dapat diambil untuk meningkatkan isolasi?  Untuk naik satu tingkat di tangga isolasi, Anda juga harus melihat kotak pasir di mana kernel OS dibungkus, yaitu  mesin virtual! <br><br>  Teknologi virtualisasi yang menggunakan hypervisor yang di-host akan meningkatkan situasi, tetapi kami ingin membatasi permukaan serangan <i>lebih banyak lagi</i> .  Karena itu, mari kita periksa hypervisor yang dipasang pada besi dan lihat apa yang akan membawa kita. <br><br><h2>  Hypervisor pada besi </h2><br>  Sebuah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">studi oleh</a> Badan Riset Pertahanan Swedia Swedia meneliti risiko virtualisasi dalam kaitannya dengan Angkatan Bersenjata Swedia.  Kesimpulannya berbicara tentang manfaat teknologi ini bagi militer, bahkan dengan persyaratan keamanan yang ketat dan risiko yang dibawa oleh virtualisasi. <br><br>  Dalam hal ini, kita dapat mengatakan bahwa virtualisasi digunakan (sampai batas tertentu) di industri pertahanan, karena membawa <b>risiko yang dapat diterima</b> .  Karena agensi dan perusahaan dalam industri pertahanan adalah salah satu pelanggan yang paling banyak menuntut keamanan TI, kami juga dapat berargumen bahwa risiko yang dapat diterima bagi mereka berarti dapat diterima oleh klien yang dipertimbangkan dalam disertasi.  Dan semua ini - terlepas dari potensi keluar di luar mesin virtual, dibahas di atas. <br><br>  Jika kami memutuskan untuk menggunakan kotak pasir jenis ini untuk wadah, ada beberapa hal yang perlu dipertimbangkan dalam konteks spesifikasi asli cloud. <br><br><h2>  Node kotak pasir untuk mesin virtual </h2><br>  Idenya adalah bahwa node dari cluster Kubernetes adalah mesin virtual yang menggunakan virtualisasi perangkat keras.  Karena mesin virtual akan memainkan peran kotak pasir untuk wadah yang berjalan di pod, setiap node dapat dianggap sebagai lingkungan yang dilindungi kotak pasir. <br><br>  Catatan penting tentang kotak pasir ini dalam konteks kotak pasir yang telah disebutkan: pendekatan ini memungkinkan Anda untuk meletakkan banyak kontainer dalam satu kotak pasir.  Fleksibilitas ini memungkinkan Anda untuk mengurangi overhead jika dibandingkan dengan case ketika setiap kontainer memiliki kotak pasir sendiri.  Karena setiap kotak pasir membawa OS sendiri, kami ingin mengurangi jumlah mereka sambil mempertahankan isolasi. <br><br><img src="https://habrastorage.org/webt/wg/2t/jr/wg2tjra8xh9y_i7vlyygm7vulzy.png"><br>  <i>Mesin virtual yang diinstal pada perangkat keras - node cluster - bertindak sebagai kotak pasir untuk wadah.</i>  <i>Kontainer yang berjalan di VM yang berbeda dibatasi dengan tingkat risiko yang dapat diterima.</i>  <i>Namun, ini tidak berlaku untuk kontainer yang berjalan di VM yang sama.</i> <br><br>  Namun, karena Kubernetes mampu mengubah penempatan polong karena berbagai alasan, yang dapat <b>merusak gagasan kotak pasir yang digunakan</b> , maka akan perlu untuk menambahkan pembatasan pada mekanisme penempatan polong bersama.  Anda dapat mencapai yang diinginkan dengan banyak cara. <br><br>  Pada saat penulisan, Kubernetes ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">v1.13</a> ) mendukung tiga metode utama untuk mengendalikan perencanaan dan / atau peluncuran pod: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NodeSelector</a> &amp; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NodeAffinity</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Noda &amp; toleransi</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PodAffinity &amp; PodAntiAffinity</a> . </li></ul><br>  Metode mana yang digunakan tergantung pada aplikasi organisasi.  Namun, penting untuk dicatat bahwa metode berbeda dalam kemampuan mereka untuk membuang polong setelah mereka memasuki tahap eksekusi.  Sekarang hanya noda yang mampu melakukan ini - melalui tindakan <code>NoExecute</code> .  Jika Anda tidak memproses momen ini dengan cara apa pun dan beberapa label berubah, maka semuanya dapat mengarah ke lokasi bersama yang tidak diinginkan. <br><br><h2>  Kepatuhan dengan persyaratan lokasi bersama </h2><br>  Disertasi ini mengusulkan gagasan untuk menggunakan sistem klasifikasi yang menunjukkan bagaimana sensitivitas tercermin di lokasi bersama.  Idenya adalah untuk menggunakan hubungan 1: 1 antara wadah dan pod dan menentukan lokasi co-pod berdasarkan klasifikasi aplikasi kontainer. <br><br>  Untuk kesederhanaan dan penggunaan kembali, sistem klasifikasi 3 langkah berikut digunakan: <br><br><ul><li>  <b>Kelas O</b> : Aplikasi tidak sensitif dan tidak memiliki persyaratan isolasi.  Itu dapat ditempatkan pada node yang bukan milik kelas lain. </li><li>  <b>Kelas PG</b> <i>(grup pribadi)</i> : Suatu aplikasi, bersama dengan satu set aplikasi lain, membentuk grup pribadi yang memerlukan simpul khusus.  Aplikasi hanya dapat di-host pada node kelas PG yang memiliki pengidentifikasi grup pribadi yang sesuai. </li><li>  <b>Kelas P</b> <i>(pribadi)</i> : Aplikasi memerlukan simpul pribadi dan terpisah dan hanya dapat ditempatkan pada simpul kosong kelasnya (P). </li></ul><br>  Untuk memenuhi persyaratan co-location untuk banyak aplikasi rahasia, noda dan toleransi digunakan, dengan mana setiap node diberi kelas, dan PodAffinity untuk menerapkan pembatasan tambahan untuk pod dengan aplikasi kelas P atau PG. <br><br>  Contoh sederhana ini menunjukkan bagaimana noda dan toleransi dapat digunakan untuk menerapkan kontrol di lokasi bersama: <br><br><img src="https://habrastorage.org/webt/ul/qj/ec/ulqjecbgz60kuw7upls5jyrxpik.gif"><br><br>  <i>Pods 2 dan 3 berisi aplikasi dari satu grup pribadi, dan aplikasi di Pod 1 lebih sensitif dan memerlukan node khusus.</i> <br><br>  Namun, kelas P dan PG akan memerlukan aturan Affinity tambahan untuk memastikan bahwa permintaan demarkasi dieksekusi ketika cluster dan aplikasi yang dihosting tumbuh.  Mari kita lihat bagaimana Anda dapat menerapkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">aturan-aturan ini</a> untuk kelas yang berbeda: <br><br><pre> <code class="plaintext hljs"># Class P affinity: podAntiAffinity: requiredDuringSchedulingIgnoredDuringExecution: - topologyKey: "kubernetes.io/hostname" namespaces: ["default"] labelSelector: matchExpressions: - key: non-existing-key operator: DoesNotExist</code> </pre> <br>  Aturan afinitas untuk aplikasi kelas P membutuhkan node khusus.  Dalam hal ini, pod tidak akan dijadwalkan jika pod keluar tanpa kunci yang <code>non-existing-key</code> .  Semuanya akan berfungsi sampai satu pod memiliki kunci ini. <br><br><pre> <code class="plaintext hljs"># Class PG affinity: podAffinity: requiredDuringSchedulingIgnoredDuringExecution: - topologyKey: "kubernetes.io/hostname" labelSelector: matchLabels: class-pg-group-1: foobar podAntiAffinity: requiredDuringSchedulingIgnoredDuringExecution: - topologyKey: "kubernetes.io/hostname" labelSelector: matchExpressions: - key: class-pg-group-1 operator: DoesNotExist</code> </pre> <br>  Untuk aplikasi kelas PG, aturan Affinity akan meng-host pod yang memiliki pengidentifikasi grup <code>class-pg-group-1</code> dan pada node yang memiliki pod tanpa pengidentifikasi. <br><br>  Pendekatan semacam itu akan memungkinkan kami menggunakan sistem klasifikasi untuk membatasi wadah berdasarkan persyaratan yang relevan dari aplikasi kemas. <br><br>  Apa yang kita dapatkan? <br><br><h2>  Kesimpulan </h2><br>  Kami mempertimbangkan cara untuk mengimplementasikan kotak pasir berdasarkan pada hypervisor tipe 1 (mis., Diluncurkan pada bare metal) untuk membuat simpul di kluster Kubernetes dan menyajikan sistem klasifikasi yang mendefinisikan persyaratan untuk membatasi aplikasi kontainer.  Jika kami membandingkan pendekatan ini dengan solusi lain yang dipertimbangkan, ia memiliki keunggulan dalam hal memastikan isolasi sistem. <br><br>  Kesimpulan penting adalah bahwa strategi isolasi <i>membatasi penyebaran</i> serangan melarikan diri ke wadah.  <b>Dengan kata lain, meninggalkan wadah dengan sendirinya tidak dicegah, tetapi efeknya dikurangi.</b>  Jelas, seiring dengan ini muncul kesulitan tambahan yang harus diperhitungkan ketika membuat perbandingan serupa. <br><br>  Untuk menggunakan metode yang ditentukan dalam lingkungan cloud dan memberikan skalabilitas, persyaratan tambahan akan dikenakan pada otomatisasi.  Misalnya, untuk mengotomatisasi pembuatan mesin virtual dan penggunaannya di kluster Kubernetes.  Yang paling penting adalah implementasi dan verifikasi klasifikasi aplikasi yang <b>tersebar luas</b> . <br><br>  Ini adalah bagian dari disertasi saya tentang <b>isolasi aplikasi kemas</b> . <br><br>  Untuk mencegah kemungkinan penyerang yang keluar dari wadah pada satu node untuk menyerang layanan dari node lain, perlu untuk mempertimbangkan <i>serangan jaringan yang diperbanyak</i> .  Untuk memperhitungkan risiko ini, disertasi saya mengusulkan <b><i>segmentasi jaringan cluster</i></b> dan memperkenalkan arsitektur cloud, yang salah satunya memiliki <b>firewall perangkat keras</b> . <br><br>  Mereka yang ingin dapat membiasakan diri dengan dokumen lengkap - teks disertasi ada di akses publik: " <a href="">Orkestra Kontainer dalam Lingkungan yang Menuntut Keamanan di Otoritas Kepolisian Swedia</a> ". <br><br><h2>  PS dari penerjemah </h2><br>  Baca juga di blog kami: <br><br><ul><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kerentanan CVE-2019-5736 dalam runc, memungkinkan untuk mendapatkan hak akses root pada host</a> "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">9 Praktik Keamanan Terbaik di Kubernetes</a> "; </li><li>  “ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">11 Cara untuk (Tidak) Menjadi Korban Peretasan Kubernetes</a> ”; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Memahami RBAC di Kubernetes</a> "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OPA dan SPIFFE - Dua Proyek Baru di CNCF untuk Keamanan Aplikasi Cloud</a> "; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">VM Docker Rentan - permainan puzzle virtual oleh Docker dan pentesting</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id440504/">https://habr.com/ru/post/id440504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id440490/index.html">Biomodule 1-2</a></li>
<li><a href="../id440492/index.html">Korea Selatan akan meninggalkan mobil listrik dan pembangunan pembangkit listrik tenaga nuklir baru</a></li>
<li><a href="../id440498/index.html">Polisi Moskow akan menerima poin dengan pengakuan wajah</a></li>
<li><a href="../id440500/index.html">Pertama</a></li>
<li><a href="../id440502/index.html">Cara Meluncurkan Podcast Anda, Panduan untuk Pemula</a></li>
<li><a href="../id440506/index.html">Penyelidikan orbit bulan NASA mengambil gambar baru dari stasiun Chang'e-4 China - lebih dekat dan lebih jelas</a></li>
<li><a href="../id440508/index.html">Cara kehilangan hobi Anda dan menjadikannya bisnis online yang sukses di AS</a></li>
<li><a href="../id440510/index.html">Siapa yang mengembangkan switch 400GbE untuk pusat data</a></li>
<li><a href="../id440512/index.html">Faktorial yang dapat dibagi</a></li>
<li><a href="../id440514/index.html">Siapa yang akan mengisi tanah cyborg? Status pengembangan Motorika berbicara tentang status masa depan Pulau Russky</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>