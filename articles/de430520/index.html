<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßîüèΩ üë®üèø‚Äçüé® üèê Einf√ºhrung in Spring Data MongoDB üè∏ üßëüèø‚Äçü§ù‚Äçüßëüèª ‚õΩÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag an alle! 

 Der brandneue Stream "Developer on the Spring Framework" wurde "pl√∂tzlich " gestartet. Dieser Kurs erwies sich sowohl bei neuen ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Einf√ºhrung in Spring Data MongoDB</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/430520/">  Guten Tag an alle! <br><br>  Der brandneue Stream <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Developer on the Spring Framework"</a> wurde "pl√∂tzlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"</a> gestartet. Dieser Kurs erwies sich sowohl bei neuen Studenten als auch bei denen, die bereits von uns in "normalem" Java und Enterprise verlernt haben, als sehr beliebt.  Wenn es also interessant ist, kommen Sie zu uns, um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offenen Unterricht zu erhalten</a> , und teilen Sie nat√ºrlich interessante Materialien zu diesem Thema. <br><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spring Data MongoDB Tutorial</a> √úbersetzung</i> <i><br></i>  <i>Gepostet von Anand Kumar</i> <br><br>  Lass uns gehen! <br><br>  In der heutigen Welt ist es sehr wichtig, die Anwendung so schnell wie m√∂glich zu erstellen und auszuf√ºhren.  Au√üerdem sollte die Anwendung leicht zu entwickeln und zu warten sein. <br><br>  Spring ist ein solches Framework, das eine einfache Integration in viele andere Frameworks erm√∂glicht und die Anwendungsentwicklung mit Spring vereinfacht.  Eine solche Integration ist die Integration von Spring in MongoDB. <br><br><img src="https://habrastorage.org/webt/nb/mx/ey/nbmxeyxhok6yyrwovmk9vfkqgv4.png"><br><br>  <b>1. Einleitung</b> <a name="habracut"></a><br><br>  In dieser Lektion werden wir eine Kombination aus dem bekanntesten Spring Java Framework und dem bekanntesten NoSQL Database Management System (DBMS) MongoDB diskutieren.  MongoDB ist ein dokumentorientiertes NoSQL-DBMS, das Daten in einem JSON-√§hnlichen Format speichert. <br>  Die Integration von Spring Data und MongoDB wird von Spring bereitgestellt, um die Interaktion zwischen beiden und den Komfort f√ºr Entwickler zu erleichtern, sodass nicht mehr viele Abfragen zum Einf√ºgen, Aktualisieren und L√∂schen geschrieben werden m√ºssen. <br><br>  Im Folgenden sind einige der Funktionen aufgef√ºhrt, die vom Spring Data MongoDB-Projekt bereitgestellt werden: <br><br><ol><li>  Mit Spring Data k√∂nnen Sie sowohl die @ Configuration-Klasse als auch die XML-Konfiguration verwenden. </li><li>  Die Data Access Spring-Ausnahmehierarchie wird zum √úbersetzen der Ausnahme verwendet. </li><li>  Integrierte Zuordnung zwischen Java POJOs und einem MongoDB-Dokument. </li><li>  Die MongoTemplate-Klasse, die die Verwendung g√§ngiger MongoDB-Operationen vereinfacht. </li><li>  Zus√§tzlich zu MongoTemplate k√∂nnen Sie die Klassen MongoReader und MongoWriter f√ºr das Rendern auf niedriger Ebene verwenden. </li></ol><br>  Der beste Weg, eine Technologie zu verstehen, besteht darin, sie in der Praxis einzusetzen, und genau das werden wir jetzt tun. <br><br>  Lassen Sie uns ein einfaches Programm erstellen, um mehr √ºber Spring Data MongoDB zu erfahren. <br><br>  <b>2. Technologien und Werkzeuge</b> <br><br>  Schauen wir uns die Technologien und Tools an, mit denen wir das Programm erstellen. <br><br><ol><li>  Eclispe Oxygen.2 Release (4.7.2) </li><li>  Java - Version 9.0.4 </li><li>  Gradle - 4.6 </li><li>  MongoDB-Server - 3.6 </li><li>  MongoCompass - 3.6 </li><li>  SpringDataMongoDB - 2.0.5-RELEASE </li></ol><br>  <b>3. Projektstruktur</b> <br><br>  Die Struktur unseres Projekts sieht wie folgt aus. <br><br><img src="https://habrastorage.org/webt/ot/f3/_j/otf3_jvoeuqufrnqzfoh4tz3qms.jpeg"><br>  <i>Projektstruktur f√ºr Spring Data MongoDB</i> <br><br>  Das Gradle-Projekt hat die oben gezeigte Struktur.  Im Fall von pom.xml unterscheidet sich die Struktur des Projekts geringf√ºgig. <br><br>  <b>4. Das Programm</b> <br><br>  Im Rahmen dieses Programms werden wir versuchen, die folgenden Aufgaben auszuf√ºhren. <br><br><ol><li>  Speichern eines Objekts in MongoDB </li><li>  Aktualisieren eines Objekts in MongoDB </li><li>  Entfernen eines Objekts aus MongoDB </li><li>  Alle Objekte aus MongoDB abrufen </li></ol><br>  Lassen Sie uns nun alle Komponenten des Programms analysieren.  Zun√§chst beginnen wir mit den Abh√§ngigkeiten und JAR-Dateien, die f√ºr das Programm ben√∂tigt werden. <br><br>  <b>4,1 Gradle</b> <br><br>  Wir verwenden Gradle, um als Teil des Programms zu erstellen.  Die Datei <code>build.gradle</code> sieht wie folgt aus. <br><br><pre> <code class="java hljs">apply plugin: <span class="hljs-string"><span class="hljs-string">'java'</span></span> repositories { mavenCentral() } dependencies { compile group: <span class="hljs-string"><span class="hljs-string">'org.springframework.data'</span></span>, name: <span class="hljs-string"><span class="hljs-string">'spring-data-mongodb'</span></span>, version: <span class="hljs-string"><span class="hljs-string">'2.0.5.RELEASE'</span></span> implementation <span class="hljs-string"><span class="hljs-string">'com.google.guava:guava:23.0'</span></span> testImplementation <span class="hljs-string"><span class="hljs-string">'junit:junit:4.12'</span></span> }</code> </pre> <br>  In der <code>build.gradle</code> Datei <code>build.gradle</code> gibt das <code>apply plugin: 'java'</code> zum <code>build.gradle</code> der Zeile an <code>apply plugin: 'java'</code> , welches Plug-in installiert werden soll.  In unserem Fall ist dies ein Java-Plugin. <br><br>  Das Tag <code>repositories{}</code> das Repository an, aus dem Abh√§ngigkeiten abgerufen werden sollen.  Wir haben <code>mavenCentral</code> , um abh√§ngige JAR-Dateien <code>mavenCentral</code> .  Wir k√∂nnen auch jcenter verwenden, um die entsprechenden abh√§ngigen JAR-Dateien aufzurufen. <br><br>  Das Tag <code>dependencies {}</code> wird verwendet, um die erforderlichen Daten zu JAR-Dateien bereitzustellen, die f√ºr das Projekt abgerufen werden m√ºssen. <br><br>  <b>4.2 Konfiguration f√ºr MongoDB</b> <br><br>  Um die MongoDB-Konfiguration zu verwenden, m√ºssen wir die <code>AbstractMongoConfiguration</code> Klasse implementieren.  Die Klasse <code>MongoConfig.java</code> sieht wie folgt aus.  Hier verwenden wir Anmerkungen anstelle von XML.  XML kann aber auch zum Konfigurieren der Konfiguration verwendet werden. <br><br>  Implementierung der MongoConfig.java-Klasse <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.tutorial.config; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.Bean; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.Configuration; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.config.AbstractMongoConfiguration; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mongodb.MongoClient; <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MongoConfig</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractMongoConfiguration</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDatabaseName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"local"</span></span>; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> MongoClient </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mongoClient</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MongoClient(<span class="hljs-string"><span class="hljs-string">"127.0.0.1"</span></span>); } }</code> </pre> <br>  <code>@Configuration</code> verwendet, um die Klasse <code>MongoConfig.java</code> als Konfigurationsklasse zu definieren.  <code>@Bean</code> definiert die <code>MongoClient</code> . <br><br>  <b>4.3 Modellklasse</b> <br><br>  Betrachten Sie nun die Klasse des Modells.  Wir verwenden <code>student.java</code> als Modellklasse, die Attribute f√ºr Student wie Name und Alter enth√§lt.  Die <code>Student.java</code> Modellklasse <code>Student.java</code> verwendet, um POJOs der MongoDB-Auflistung zuzuordnen. <br><br>  Student Model Class <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.tutorial.model; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.annotation.Id; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.mapping.Document; <span class="hljs-meta"><span class="hljs-meta">@Document</span></span>(collection = <span class="hljs-string"><span class="hljs-string">"students"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Student</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Student</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String studentName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> studentAge)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.studentName = studentName; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.studentAge = studentAge; } <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String id; String studentName; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> studentAge; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStudentName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> studentName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setStudentName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String studentName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.studentName = studentName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getStudentAge</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> studentAge; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setStudentAge</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> studentAge)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.studentAge = studentAge; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> String.format( <span class="hljs-string"><span class="hljs-string">"Student[id=%s, studentName='%s', studentAge="</span></span>+studentAge+<span class="hljs-string"><span class="hljs-string">"]"</span></span>, id, studentName); } }</code> </pre> <br>  <code>@Document</code> definiert ein Dokument.  Die <code>collection</code> bestimmt die Sammlung, die zur √úbereinstimmung mit der Sammlung verwendet wird.  Auf alle Attribute, die als Teil der Sammlung bezeichnet werden, muss in der POJO-Klasse zugegriffen werden k√∂nnen.  <code>@Id</code> definiert die Sammlungskennung. <br><br>  <b>4.4 CRUD-Operationen</b> <br><br>  Um CRUD-Operationen (kurz f√ºr Erstellen, Lesen, Aktualisieren, L√∂schen) auszuf√ºhren, z. B. das Speichern, Aktualisieren, L√∂schen und Abrufen von Daten aus MongoDB, verwenden wir <code>MongoOperations</code> . <br><br>  Schauen wir uns nun die Klasse <code>MongoDBPOperations.java</code> an.  Diese Klasse enth√§lt die Implementierung aller Methoden von CRUD-Operationen. <br><br>  Die MongoDBPOperations-Klasse, die zum Ausf√ºhren von CRUD-Operationen verwendet wird <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.tutorial; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.List; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.MongoOperations; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.query.Criteria; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.query.Query; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.query.Update; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.tutorial.model.Student; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MongoDBPOperations</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveStudent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MongoOperations mongoOperation, Student student)</span></span></span><span class="hljs-function"> </span></span>{ mongoOperation.save(student); System.out.println(<span class="hljs-string"><span class="hljs-string">"Student saved successfully"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// student object got created with id. System.out.println("student : " + student); } public void searchStudent(MongoOperations mongoOperation, String critera,String value) { // query to search student Query searchStudent = new Query(Criteria.where(critera).is(value)); // find student based on the query Student resultStudent = mongoOperation.findOne(searchStudent, Student.class); System.out.println("Student found!!"); System.out.println("Student details: " + resultStudent); } public void updateStudent(MongoOperations mongoOperation, String critera,String value, String updateCriteria, String updateValue) { // query to search student Query searchStudent = new Query(Criteria.where(critera).is(value)); mongoOperation.updateFirst(searchStudent, Update.update(updateCriteria, updateValue), Student.class); System.out.println("Student got updated successfully"); } public void getAllStudent(MongoOperations mongoOperation) { List listStudent = mongoOperation.findAll(Student.class); for(Student student:listStudent) { System.out.println("Student = " + student); } } public void removeStudent(MongoOperations mongoOperation, String critera,String value) { Query searchStudent = new Query(Criteria.where(critera).is(value)); mongoOperation.remove(searchStudent, Student.class); System.out.println("Student removed successfully!! "); } }</span></span></code> </pre> <br>  Die wichtigste Klasse eines Java-Programms ist die Klasse, die die <code>main</code> enth√§lt. <br><br>  <b>4.5 Anwendungsklasse</b> <br><br>  Die Hauptklasse, die die Hauptmethode enth√§lt, ist die <code>Application.java</code> Klasse.  Wir werden diese Klasse verwenden, um Methoden aus der <code>MongoDBPOperations</code> Klasse <code>MongoDBPOperations</code> . <br><br>  Anwendungsklasse zum Aufrufen von Methoden der MongoDBPOperations-Klasse <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.tutorial; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.AnnotationConfigApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.MongoOperations; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.tutorial.config.MongoConfig; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.tutorial.model.Student; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// For Annotation ApplicationContext ctx = new AnnotationConfigApplicationContext(MongoConfig.class); MongoOperations mongoOperation = (MongoOperations) ctx.getBean("mongoTemplate"); MongoDBPOperations ops = new MongoDBPOperations(); Student student = new Student("John", 15); //save student ops.saveStudent(mongoOperation, student); // get student based on search criteria ops.searchStudent(mongoOperation, "studentName", "John"); //update student based on criteria ops.updateStudent(mongoOperation, "StudentName", "John", "studentAge", "18"); // get student based on search criteria ops.searchStudent(mongoOperation, "studentName", "John"); // get all the students ops.getAllStudent(mongoOperation); //remove student based on criteria ops.removeStudent(mongoOperation, "studentName", "John"); // get all the students ops.getAllStudent(mongoOperation); } }</span></span></code> </pre> <br>  Schauen wir uns Schritt f√ºr Schritt die Vorg√§nge an, die in der <code>Application.java</code> Klasse ausgef√ºhrt werden: <br><br><ol><li>  Wir erstellen einen <code>ApplicationContext</code> .  Dies liegt an der Notwendigkeit, die Konfiguration herunterzuladen. </li><li>  Au√üerdem wurde ein <code>MongoOperations</code> Objekt <code>MongoOperations</code> , um die <code>MongoTemplate</code> Komponente zu laden. </li><li>  Das <code>MongoDBOperations</code> Objekt bietet Zugriff auf Methoden zum Ausf√ºhren verschiedener <code>MongoOperation</code> Operationen. </li><li>  Au√üerdem wurde ein Sch√ºlerobjekt mit dem Namen John und Alter 15 erstellt. </li><li>  Wir rufen die <code>saveMethod</code> Methode der <code>saveMethod</code> Klasse auf und √ºbergeben die erforderlichen Parameter, um das Objekt in der Datenbank zu speichern. </li><li>  Auf die gleiche Weise rufen wir die verschiedenen <code>MongoDBOperations</code> Methoden nacheinander auf. </li></ol><br>  <b><b>4.6 Programm starten</b></b> <br><br>  Lassen Sie uns das Programm nun als Java-Anwendung ausf√ºhren.  Klicken Sie mit der rechten Maustaste auf Application.java -&gt; Ausf√ºhren als -&gt; Java-Anwendung. <br><br>  Das folgende Ergebnis wird in der Konsole angezeigt. <br><br><img src="https://habrastorage.org/webt/ue/vs/bn/uevsbnjunkbqehapgwio4uzer4i.jpeg"><br>  <i>Konsolenausgabe nach dem Starten des Programms</i> <br><br>  Lassen Sie uns nun den Befehl zum L√∂schen des Objekts auskommentieren.  MongoDB speichert erfolgreich Daten. <br><br>  Lassen Sie uns auch die Zeile auskommentieren, um das Objekt zu l√∂schen, wie unten gezeigt. <br><br>  Klassenanwendung nach Kommentierung der Entfernungsmethoden <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.tutorial; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.AnnotationConfigApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.MongoOperations; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.tutorial.config.MongoConfig; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.tutorial.model.Student; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// For Annotation ApplicationContext ctx = new AnnotationConfigApplicationContext(MongoConfig.class); MongoOperations mongoOperation = (MongoOperations) ctx.getBean("mongoTemplate"); MongoDBPOperations ops = new MongoDBPOperations(); Student student = new Student("John", 15); //save student ops.saveStudent(mongoOperation, student); // get student based on search criteria ops.searchStudent(mongoOperation, "studentName", "John"); //update student based on criteria ops.updateStudent(mongoOperation, "StudentName", "John", "studentAge", "18"); // get student based on search criteria ops.searchStudent(mongoOperation, "studentName", "John"); // get all the students ops.getAllStudent(mongoOperation); //remove student based on criteria //ops.removeStudent(mongoOperation, "studentName", "John"); // get all the students //ops.getAllStudent(mongoOperation); } }</span></span></code> </pre> <br>  Nachdem Sie √Ñnderungen am Programm vorgenommen haben, starten Sie es neu.  Folgendes wird in der Konsole angezeigt. <br><br><img src="https://habrastorage.org/webt/a8/sc/lv/a8sclvihnd6fkwi9igu92f8ddqk.jpeg"><br>  <i>Konsole, wenn der L√∂schvorgang auskommentiert ist</i> <br><br>  Als Ergebnis des Kommentierens des L√∂schbefehls speichert MongoDB die Daten und sieht daher wie unten gezeigt aus. <br><br><img src="https://habrastorage.org/webt/yb/8p/to/yb8ptodba8b2ygsony4gz1nvhnu.jpeg"><br>  <i>MongoDB-Ausgabe nach dem Befehl zum Speichern und Aktualisieren</i> <br><br>  <b>5. Laden Sie das Eclipse-Projekt herunter</b> <br><br>  Sie k√∂nnen den gesamten Quellcode f√ºr dieses Beispiel <a href="">hier</a> herunterladen <a href="">.</a> <br><br>  DAS ENDE <br><br>  Wie immer warten wir hier auf Fragen und Kommentare oder gehen zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Yuri</a> f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eine offene Lektion,</a> in der Sie nicht nur zuh√∂ren, sondern auch herumfragen k√∂nnen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430520/">https://habr.com/ru/post/de430520/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430508/index.html">DevOps: Was ist das wirklich?</a></li>
<li><a href="../de430510/index.html">Wie schreibe ich Code, den jeder verstehen wird?</a></li>
<li><a href="../de430512/index.html">Wie Freiberufler leben: Arbeiten Sie nicht mit allwissenden Kunden zusammen und lassen Sie sich z√∂gern</a></li>
<li><a href="../de430514/index.html">Blockchain Charity - DataArt gewinnt Malta Blockchain Summit Hackathon</a></li>
<li><a href="../de430518/index.html">So rendern Sie den Rahmen von Mittelerde: Schatten von Mordor</a></li>
<li><a href="../de430522/index.html">Ben√∂tigen Sie eine Unternehmenskultur in der IT? Gest√§ndnis des Markenmanagers des Krasnodar-Studios Plarium</a></li>
<li><a href="../de430524/index.html">Neuronale Netzwerkarchitektur</a></li>
<li><a href="../de430526/index.html">Spielautomaten: Woher kamen sie in der UdSSR und wie sind sie angeordnet?</a></li>
<li><a href="../de430528/index.html">Programmieren mit PyUSB 1.0</a></li>
<li><a href="../de430530/index.html">Mock-Server f√ºr die mobile Testautomatisierung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>