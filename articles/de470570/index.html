<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🌾 👨🏿‍🎓 🐞 GridmiAPI - eine einfache und flexible Android-Bibliothek für die Arbeit mit REST & RPC 💐 🤸🏻 🆘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Khabrovites! 

 Wenn Sie Netzwerkanwendungen für die Android-Plattform entwickeln, verstehen Sie, dass die eine und die andere Anwendung einande...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>GridmiAPI - eine einfache und flexible Android-Bibliothek für die Arbeit mit REST & RPC</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470570/"> Hallo Khabrovites! <br><br>  Wenn Sie Netzwerkanwendungen für die Android-Plattform entwickeln, verstehen Sie, dass die eine und die andere Anwendung einander ähnlich sind.  Mit diesem Gedanken initialisiert die Mehrheit der Entwickler einen anderen Gedanken: "Warum verwende ich keine vorgefertigten Lösungen, weil meine Aufgabe offensichtlich nicht neu ist?"  Ab diesem Moment beginnt die Suche nach geeigneten Bibliotheken, um das aktuelle Problem zu lösen.  Nach einiger Zeit - Gewinn.  Alles schien gut zu sein, denn die Bibliothek wurde gefunden und es blieb nur eine Implementierung der Lösung für das aktuelle Problem zu schreiben.  Und hier beginnen die Probleme.  Sie sind mit der Flusskontrolle verbunden, und tatsächlich war Java nie für seine Kompaktheit bekannt. Die gesamte "Magie" sollte direkt vom Entwickler implementiert werden.  Manchmal finde ich darin nur positive Aspekte, weil sich die Logik jedes Projekts radikal voneinander unterscheidet.  Sie müssen ständig von Stream zu Stream wechseln, was nicht sehr praktisch und, wie bereits beschrieben, umständlich ist.  Die Lösung für dieses Problem wurde früher implementiert, aber nicht so kompakt, wie wir es gerne hätten.  Eine Bibliothek für die Arbeit mit HTTP <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hilft</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GridmiAPI</a> .  Dies ist die kompakteste Lösung, mit der Sie wiederum mit Daten in Echtzeit arbeiten können. <br><a name="habracut"></a><br><h2>  Arbeitsprozess </h2><br>  Alle Bibliotheksarbeiten beginnen mit ihrer Initialisierung.  Die Initialisierung ist einmal erforderlich.  Die Initialisierung bezieht sich auf die folgende Konstruktion: <br><br><pre><code class="java hljs">GridmiAPI.init(<span class="hljs-string"><span class="hljs-string">"https://habr.com/API/"</span></span>, <span class="hljs-number"><span class="hljs-number">8000</span></span>, JSONObject.class);</code> </pre> <br><ol><li>  Endpunktadresse für die Anforderungsverarbeitung </li><li>  Zeitlimit für Serverantwort </li><li>  Die Klasse, in die die Serverantwort umgewandelt werden soll </li></ol><br>  Das ist alles!  Die Bibliothek ist voll einsatzbereit. <br><br><h2>  Erste Serveranfrage </h2><br>  Um die erste Anfrage an den Server abzuschließen, müssen Sie nur ein paar Codezeilen und die Daten schreiben, die wir von uns benötigen.  Glaubst du nicht?  Siehe: <br><br><pre> <code class="java hljs">GridmiAPI.onRequest(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GridmiAPI.Request(<span class="hljs-string"><span class="hljs-string">"profile/get"</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GridmiAPI.Handler.OUT() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSuccess</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GridmiAPI.Response response)</span></span></span><span class="hljs-function"> </span></span>{ Log.d(<span class="hljs-string"><span class="hljs-string">"TagGridmiAPI"</span></span>, <span class="hljs-string"><span class="hljs-string">"result = "</span></span> + ((JSONObject) response.getData()).toString()); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onFailed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Exception exception)</span></span></span><span class="hljs-function"> </span></span>{ Log.d(<span class="hljs-string"><span class="hljs-string">"TagGridmiAPI"</span></span>, <span class="hljs-string"><span class="hljs-string">"exception = "</span></span> + exception.getMessage()); } }).start();</code> </pre><br>  Glückwunsch!  Dies ist deine "Hallo Welt!"  mit dieser Bibliothek.  Schauen wir uns zwei umgeschriebene Methoden der GridmiAPI.Handler.OUT-Klasse an.  Zunächst sollte geschrieben werden, dass diese beiden Methoden im Hauptthread aufgerufen werden. Daher ist es nach Abschluss der Anforderung nicht sinnvoll, auf die Aktivität zum Starten des Hauptthreads zuzugreifen.  Nehmen Sie zum Beispiel JSON und ändern Sie den Text der Textansicht.  Alles ist einfach. <br><br><h2>  Datei an Server senden </h2><br>  Sehr oft müssen Sie Dateien an den Server senden.  Wieder Kopfschmerzen?  Auf keinen Fall.  Die GridmiAPI-Bibliothek macht das Senden einer Datei sehr einfach und ohne Kopfschmerzen.  Etwas mehr Linien als im obigen Beispiel, aber immer noch kompakt.  So senden Sie eine Datei: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onActivityResult</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> requestCode, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> resultCode, @Nullable Intent data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onActivityResult(requestCode, resultCode, data); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || data.getData() == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//     GridmiAPI.Request request = new GridmiAPI.Request("POST", "photo/add"); //      GridmiAPI.Multipart multipart = new GridmiAPI.Multipart(getContentResolver()); multipart.appendData("photo", data.getData()); //    request.setBody(multipart); //   GridmiAPI.onRequest(this, request, new GridmiAPI.Handler.OUT() { @Override protected void onSuccess(GridmiAPI.Response response) { try { //      boolean result = ((JSONObject) response.getData()).getBoolean("result"); //  Toast.makeText(MainActivity.this, result ? "!" : "!", Toast.LENGTH_LONG).show(); } catch (Exception exception) { this.onFailed(exception); } } @Override protected void onFailed(Exception exception) { //     Toast.makeText(MainActivity.this, exception.getMessage(), Toast.LENGTH_LONG).show(); } }).start(); } catch (Exception exception) { Toast.makeText(this, exception.getMessage(), Toast.LENGTH_LONG).show(); } }</span></span></code> </pre><br><h2>  Fazit </h2><br>  Wir haben die beliebtesten Aufgaben untersucht. Weitere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Informationen</a> finden Sie auf der Seite dieser Bibliothek auf GitHub - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GridmiAPI</a> .  Es ist bequem, mit dieser Bibliothek zu arbeiten.  Schätzen Sie sich.  Vielen Dank für Ihr Interesse an diesem Artikel! <br><br><h2>  Referenzen </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GridmiAPI-Bibliothek</a> <br>  <a href="">Dokumentation / ReadMe.md</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de470570/">https://habr.com/ru/post/de470570/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de470559/index.html">So entfernen Sie negative Bewertungen und wehren einen Angriff auf den Ruf ab: persönliche Erfahrung</a></li>
<li><a href="../de470561/index.html">Meine Erfahrung in 1C Firm</a></li>
<li><a href="../de470563/index.html">Wie leben Entwickler in Uljanowsk und was machen sie neben der Arbeit?</a></li>
<li><a href="../de470566/index.html">Vorbereitung auf die Spring Professional-Zertifizierung. Fragen zu Spring MVC</a></li>
<li><a href="../de470568/index.html">Blaugrüne Bereitstellung von Spring-Anwendungen mit Nginx Web Server</a></li>
<li><a href="../de470572/index.html">„Automatisierung der Infrastruktur. Warum machen wir das? " (Denis Yakovlev)</a></li>
<li><a href="../de470576/index.html">Banks of America wird in den kommenden Jahren 200.000 Arbeitsplätze abbauen</a></li>
<li><a href="../de470578/index.html">Wie wir die Buchhaltung in einer mobilen Bank „humanisiert“ haben</a></li>
<li><a href="../de470582/index.html">Überprüfen der Telerik-Benutzeroberfläche auf UWP als Einstieg in PVS-Studio</a></li>
<li><a href="../de470584/index.html">Überprüfen Sie die Telerik-Benutzeroberfläche auf UWP, um sich mit PVS-Studio vertraut zu machen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>