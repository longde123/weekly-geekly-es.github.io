<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëµ üê† üßúüèø Architecture de solution pure, tests sans mobs et comment j'en suis arriv√© √† cela üéµ ü§± üíÖüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour chers lecteurs! Dans cet article, je veux parler de l'architecture de mon projet, que j'ai refactoris√© 4 fois lors de son lancement, car je n'...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Architecture de solution pure, tests sans mobs et comment j'en suis arriv√© √† cela</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459394/"><p>  Bonjour chers lecteurs!  Dans cet article, je veux parler de l'architecture de mon projet, que j'ai refactoris√© 4 fois lors de son lancement, car je n'√©tais pas satisfait du r√©sultat.  Je vais parler des inconv√©nients des approches populaires et montrer les miennes. </p><a name="habracut"></a><br><p>  Je veux dire tout de suite que c'est mon premier article, je ne dis pas quoi faire comme moi - √† droite.  Je veux juste montrer ce que j'ai fait, dire comment j'en suis arriv√© au r√©sultat final et, surtout, obtenir les opinions des autres. </p><br><p>  J'ai travaill√© dans plusieurs campagnes et j'ai vu un tas de tout ce que j'aurais fait diff√©remment. </p><br><p>  Par exemple, je vois souvent une architecture N-Layer, il y a une couche pour travailler avec les donn√©es (DA), il y a une couche avec la logique m√©tier (BL) qui fonctionne avec DA et √©ventuellement d'autres services, et il y a aussi une couche de vue \ API dans laquelle une demande est re√ßue, trait√©e en utilisant BL.  Cela semble pratique, mais en regardant le code, je vois cette situation: </p><br><ul><li>  [DA] extrait \ √©crit \ modifie les donn√©es, m√™me si une requ√™te complexe - OK </li><li>  [BL] 80% appelle 1 m√©thode et obtient le r√©sultat ci-dessus - Pourquoi ce calque vide? </li><li>  [Voir] 80% Appelle 1 m√©thode BL lance le r√©sultat ci-dessus - Pourquoi cette couche vierge? </li></ul><br><p>  De plus, il est √† la mode d'encapsuler des interfaces pour que plus tard vous puissiez verrouiller et tester - wow, wow! </p><br><ul><li>  Pourquoi se mouiller? </li><li>  Eh bien, pour r√©duire les effets secondaires pendant la dur√©e des tests. </li><li>  Autrement dit, nous allons protester sans effets secondaires, mais dans la prod avec eux? <br>  ... </li></ul><br><p>  C‚Äôest une chose fondamentale que je n‚Äôaimais pas dans cette architecture, car pour r√©soudre un probl√®me comme: ¬´Lister les go√ªts des utilisateurs¬ª est un gros processus, mais en r√©alit√© il y a 1 requ√™te dans la base de donn√©es et peut-√™tre un mappage. </p><br><div class="spoiler">  <b class="spoiler_title">Exemple de solution</b> <div class="spoiler_text"><p>  1) [DA] Ajouter une demande √† DA <br>  2) [BL] R√©ponse DA directe <br>  3) [Voir] R√©sultat BA en avant, peut promouvoir </p><br><p>  N'oubliez pas que toutes ces m√©thodes doivent encore √™tre ajout√©es √† l'interface, nous √©crivons un projet afin de se mouiller, et non pour une solution. </p></div></div><br><p>  Ailleurs, j'ai vu une impl√©mentation d'API avec une approche CQRS. </p><br><p>  La solution n'a pas l'air mal, 1 dossier - 1 fonctionnalit√©.  Un d√©veloppeur qui cr√©e une fonctionnalit√© se trouve dans son dossier et peut presque toujours oublier l'influence de son code sur d'autres fonctionnalit√©s, mais il y avait tellement de fichiers que ce n'√©tait qu'un cauchemar.  Mod√®les de demande / r√©ponse, validateurs, assistants, logique elle-m√™me.  La recherche dans le studio a pratiquement refus√© de fonctionner, des extensions ont √©t√© mises en place pour trouver les √©l√©ments n√©cessaires dans le code. </p><br><p>  Il y a encore beaucoup √† dire, mais j'ai soulign√© les principales raisons qui m'ont pouss√© √† le refuser </p><br><h2 id="i-nakonec-k-moemu-proektu">  Et enfin √† mon projet </h2><br><p>  Comme je l'ai dit, j'ai refactoris√© mon projet plusieurs fois, √† ce moment-l√† j'ai eu une ¬´d√©pression programmeur¬ª, je n'√©tais tout simplement pas satisfait de mon code, et je l'ai refactoris√©, encore et encore, √† la fin j'ai commenc√© √† regarder une vid√©o sur l'architecture de l'application pour voir comment d'autres le font.  Je suis tomb√© sur les rapports d'Anton Moldovan sur le DDD et la programmation fonctionnelle, et j'ai pens√©: ¬´Voil√†, j'ai besoin de F #!¬ª. </p><br><p>  Apr√®s avoir pass√© quelques jours sur F #, j'ai r√©alis√© qu'en principe, je ferais la m√™me chose en C # et pas pire.  La vid√©o montre: </p><br><ul><li>  Voici le code C #, c'est de la merde </li><li>  Voici F # cool, moins √©crit - super. </li></ul><br><p>  Mais l'astuce est que la solution sur F # a √©t√© impl√©ment√©e diff√©remment, et contre cela, ils ont montr√© une mauvaise impl√©mentation sur C #.  Le principe principal √©tait que BL n'est pas une chose qui appelle les services DA et fait tout le travail, mais c'est une <strong>fonction pure</strong> . </p><br><p>  Bien s√ªr, F # est bon, j'ai aim√© certaines fonctionnalit√©s mais, comme C #, ce n'est qu'un outil qui peut √™tre utilis√© de diff√©rentes mani√®res. </p><br><p>  Et je suis retourn√© en C # et j'ai commenc√© √† cr√©er. </p><br><p>  J'ai cr√©√© de tels projets dans la solution: </p><br><ol><li>  API </li><li>  Noyau </li><li>  Les services </li><li>  Les tests </li></ol><br><p>  J'ai √©galement utilis√© des fonctionnalit√©s C # 8, en particulier le type de r√©f√©rence nullable, je vais montrer son application. <br>  Bri√®vement sur les t√¢ches des couches que je leur ai donn√©es. </p><br><p>  <strong>API</strong> <br>  1) R√©ception des demandes, mod√®les de demande + validation, restrictions </p><br><div class="spoiler">  <b class="spoiler_title">Plus de d√©tails</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/1ba/e1f/fdf/1bae1ffdfd889b06d323d50d58904459.png" alt="image"></p></div></div><br><p>  2) Fonctions d'appel du noyau et des services </p><br><div class="spoiler">  <b class="spoiler_title">Plus de d√©tails</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/a9f/01f/606/a9f01f6067340c60ca2e07e3e1321fbf.png" alt="image"></p><br><p>  Ici, nous voyons un code simple et lisible, je pense que tout le monde comprendra ce qui est √©crit ici. <br>  Sch√©ma clair observ√© <br>  1) Obtenez des donn√©es <br>  2) Traiter, modifier, etc. - Cette partie doit √™tre test√©e. <br>  3) Enregistrez. </p></div></div><br><p>  3) Cartographie, si n√©cessaire <br>  4) Gestion des erreurs (journalisation + r√©ponse humaine) </p><br><div class="spoiler">  <b class="spoiler_title">Plus de d√©tails</b> <div class="spoiler_text"><p>  Cette classe contient toutes les erreurs d'application possibles auxquelles le gestionnaire d'exceptions r√©pond. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/574/7f6/c44/5747f6c44498d03e6c94958b3b500f8b.png" alt="image"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a74/5c4/4ab/a745c44ab83c307d92fdaa82b339bd55.png" alt="image"></p><br><p>  Il s'av√®re que l'application fonctionne, ou donne une erreur sp√©cifique, et que les erreurs trait√©es ne sont ni un effet secondaire ni un bug, le journal de ces erreurs me vole tout de suite par t√©l√©gramme dans un chat avec le bot. </p><br><p>  J'ai AppError.Bug cette erreur pour un cas peu clair. </p><br><p>  J'ai un rappel d'un autre service, il aura un ID utilisateur dans mon syst√®me, et si je ne trouve pas un utilisateur avec cet ID, soit quelque chose est arriv√© √† l'utilisateur ou ce n'est pas clair du tout, une telle erreur me vient comme CRITICAL, en th√©orie, elle ne devrait pas se poser, mais si cela se produit, cela n√©cessite mon intervention. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/625/ecf/ce5/625ecfce5eb5570993443f65eb4b7006.png" alt="image"></p></div></div><br><p>  <strong>Core, le plus int√©ressant</strong> </p><br><p>  J'ai toujours pens√© que les BL ne sont que des fonctions qui donnent le m√™me r√©sultat avec la m√™me entr√©e.  La complexit√© du code dans cette couche √©tait au niveau du travail en laboratoire, pas de grandes fonctions qui, clairement et sans erreurs, font leur travail.  Et il √©tait important qu'il n'y ait pas d'effets secondaires √† l'int√©rieur des fonctions, tout ce dont la fonction avait besoin √©tait son param√®tre. </p><br><p>  Si la fonction a besoin d'un solde utilisateur, nous obtenons le solde et le transf√©rons √† la fonction, et NE PAS pousser le service utilisateur dans BL. </p><br><p>  1) Actions de base des entit√©s </p><br><div class="spoiler">  <b class="spoiler_title">Plus de d√©tails</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/729/ec2/7d4/729ec27d4e71e4f050d6c404f2c25c5c.png" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/d49/b15/f17/d49b15f17eb75d63a61486db99f9ceab.png" alt="image"></p><br><p>  J'ai propos√© des m√©thodes comme m√©thodes d'extension afin que la classe ne gonfle pas et que les fonctionnalit√©s puissent √™tre regroup√©es par fonctionnalit√©s. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/3ef/4a6/634/3ef4a663438981f8ab3d326e2289e1c7.png" alt="image"><br><img src="https://habrastorage.org/getpro/habr/post_images/296/e9c/220/296e9c220a1b41407b5901d7789b317e.png" alt="image"></p></div></div><br><p>  Je consid√®re qu'une bonne construction de mod√®les d'entit√© est un sujet tout aussi important. </p><br><p>  Par exemple, j'ai un utilisateur, l'utilisateur a des soldes dans plusieurs devises.  L'une des d√©cisions typiques que j'ai prises sans h√©sitation est l'essence de "Balance" et vient de mettre un tableau d'√©quilibres dans l'utilisateur.  Mais quel genre de commodit√© a amen√© une telle d√©cision? </p><br><p>  1) Ajout / suppression de devises.  Cette t√¢che signifie imm√©diatement pour nous non seulement l'√©criture de nouveau code, mais aussi la migration, en remplissant / supprimant tous les utilisateurs existants, et c'est l'option la plus simple.  √Ä Dieu ne plaise, pour ajouter une nouvelle devise, vous devez cr√©er un bouton pour l'utilisateur, sur lequel il clique et lance la cr√©ation d'un nouveau portefeuille pour une sorte de processus m√©tier.  En cons√©quence, il √©tait seulement n√©cessaire d'√©tendre l'√©num√©ration pour la nouvelle monnaie, et ils ont √©crit une autre fonctionnalit√© pour cr√©er des portefeuilles par un bouton, ils ont lanc√© une autre t√¢che vers l'avant. </p><br><p>  2) Dans le code, constantes FirstOrDefault (s =&gt; s.Currency == currency) et v√©rification de null </p><br><div class="spoiler">  <b class="spoiler_title">Ma d√©cision</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/254/d7d/7d5/254d7d7d580592114c8ab62a6bd028de.png" alt="image"></p><br><p>  Par le mod√®le lui-m√™me, je me garantis qu'il n'y aura pas d'√©quilibre nul, et en cr√©ant l'op√©rateur indexeur j'ai simplifi√© mon code dans tous les lieux d'interaction avec l'√©quilibre. </p></div></div><br><h2 id="services">  Les services </h2><br><p>  Cette couche me fournit des outils pratiques pour travailler avec divers services. <br>  Dans mon projet, j'utilise MongoDB et pour un travail pratique avec lui, j'ai envelopp√© les collections dans un tel r√©f√©rentiel. </p><br><div class="spoiler">  <b class="spoiler_title">Plus de d√©tails</b> <div class="spoiler_text"><p>  R√©f√©rentiel lui-m√™me <br><img src="https://habrastorage.org/getpro/habr/post_images/259/453/270/2594532705f07b698d6b6d29c19eb4ef.png" alt="image"></p><br><p>  Monga bloque le document au moment de travailler avec lui, respectivement, cela nous aidera √† r√©soudre les probl√®mes dans la comp√©tition des demandes.  Et dans le mong il y a des m√©thodes pour rechercher une entit√© + agir dessus, par exemple: "Trouver un utilisateur avec id et ajouter 10 √† son solde actuel" </p><br><p>  Et maintenant sur la fonctionnalit√© de C # 8. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/579/237/bc6/579237bc61fdb0e58342ff73300b0def.png" alt="image"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/221/449/d5e/221449d5ea5fb587e3d8cf2aea980f0a.png" alt="image"></p><br><p>  La signature de la m√©thode m'indique que l'utilisateur peut retourner, et peut-√™tre Null, respectivement, quand je vois l'utilisateur?  Je re√ßois imm√©diatement un avertissement du compilateur et effectue une v√©rification nulle. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/441/28c/503/44128c503d8af4762f5bc7fea812f0b3.png" alt="image"></p><br><p>  Lorsque la m√©thode renvoie Utilisateur, je travaille avec elle en toute confiance. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/665/8c6/4b9/6658c64b9cb10ea08fbfae84447e6c48.png" alt="image"></p><br><p>  Je veux √©galement attirer l'attention sur le fait qu'il n'y a pas de prise d'essai car les exceptions ne peuvent provenir que de "situations √©tranges" et de donn√©es incorrectes qui ne devraient pas arriver ici car il y a validation.  Il n'y a pas non plus de catch try dans la couche API, il n'y a qu'un seul gestionnaire d'exceptions global. </p><br><p>  Il n'y a qu'une seule m√©thode qui l√®ve Exception est la m√©thode Update. <br>  Il impl√©mente une protection contre la perte de donn√©es en mode multi-thread. <br><img src="https://habrastorage.org/getpro/habr/post_images/4b5/87c/709/4b587c709dffe51e88dcf8deb7db42ee.png" alt="image"></p><br><p>  Pourquoi n'avez-vous pas utilis√© les m√©thodes monga mentionn√©es ci-dessus? <br>  Il y a des endroits o√π je ne sais toujours pas avec certitude si je peux m√™me travailler avec l'utilisateur, peut-√™tre qu'il n'a pas d'argent pour cette action, donc au d√©but je fais sortir l'utilisateur et le v√©rifie, puis mute et l'enregistre. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/9fd/c68/b23/9fdc68b236ce758a977c1cca2f50ad69.png" alt="image"></p><br><p>  Mon application en th√©orie va changer l'√©quilibre de l'utilisateur plus d'une fois par seconde, car ce seront des jeux rapides. </p><br><p>  Mais le mod√®le de l'utilisateur lui-m√™me, il est clairement visible que la r√©f√©rence de l'utilisateur est facultative, et vous pouvez travailler avec tout le reste sans penser √† null. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c0f/0c7/835/c0f0c7835e56f5ac9372dc0a5139908d.png" alt="image"></p></div></div><br><h2 id="i-nakonec-tests">  Enfin des tests </h2><br><p>  Comme je l'ai dit, il suffit de tester la logique, et la logique de notre fonction est sans effets secondaires. <br>  Par cons√©quent, nous pouvons ex√©cuter nos tests tr√®s rapidement et avec diff√©rents param√®tres. </p><br><div class="spoiler">  <b class="spoiler_title">Plus de d√©tails</b> <div class="spoiler_text"><p>  J'ai t√©l√©charg√© le nuget FSCheck qui g√©n√®re des donn√©es entrantes au hasard et permet de nombreux cas diff√©rents. </p><br><p>  Il me suffit de cr√©er diff√©rents utilisateurs, d'alimenter leur test et de v√©rifier les modifications. </p><br><p>  Il existe un petit g√©n√©rateur pour cr√©er de tels utilisateurs, mais il est facile √† √©tendre. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ff5/11a/bf1/ff511abf173fd7fd9b452934af2e0d20.png" alt="image"></p><br><p>  Et voici les tests eux-m√™mes </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/51e/ba1/1ec/51eba11ec1df6ca5393bba5095a4dd15.png" alt="image"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4dd/fa7/063/4ddfa706330f69bff4950bf9d46b7fe0.png" alt="image"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/459/d62/92d/459d6292d288de62429663160487bb2c.png" alt="image"></p><br><p>  Apr√®s quelques changements, je lance les tests, apr√®s 1-2 secondes je vois que tout est en ordre. <br>  Il est √©galement pr√©vu d'√©crire des tests E2E afin de v√©rifier l'ensemble de l'API de l'ext√©rieur et de s'assurer qu'il fonctionne comme il se doit, de la demande √† la r√©ponse. </p></div></div><br><h2 id="fishki">  Chips </h2><br><div class="spoiler">  <b class="spoiler_title">Des trucs sympas dont vous pourriez avoir besoin</b> <div class="spoiler_text"><p>  Chacune de mes requ√™tes est dop√©e, lorsqu'un bug se produit, je trouve requestId et je peux facilement reproduire le bug en r√©p√©tant la requ√™te, car mon API n'a pas d'√©tat, et chaque requ√™te ne d√©pend que des param√®tres de la requ√™te. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d4d/2e9/112/d4d2e9112f58db9beee8dbaaa9abb466.png" alt="image"></p></div></div><br><p>  Pour r√©sumer. </p><br><p>  Nous avons vraiment √©crit une solution, et non un cadre dans lequel un tas d'abstractions suppl√©mentaires, ainsi que mok.  Nous avons fait la gestion des erreurs en un seul endroit et elles devraient se produire tr√®s rarement.  Nous avons s√©par√© BL et les effets secondaires, maintenant BL n'est plus qu'une logique locale qui peut √™tre r√©utilis√©e.  Nous n'avons pas √©crit de fonctions suppl√©mentaires qui transf√®rent simplement l'appel √† d'autres fonctions.  Je vais lire activement les commentaires et compl√©ter l'article, merci! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr459394/">https://habr.com/ru/post/fr459394/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr459378/index.html">√âcriture d'une API pour les composants React, partie 2: donner des noms au comportement, pas √† l'interaction</a></li>
<li><a href="../fr459380/index.html">√âcriture d'une API pour les composants React, partie 3: l'ordre des accessoires est important</a></li>
<li><a href="../fr459384/index.html">A la question des pleurs diff√©rents ou autres de Yaroslavna</a></li>
<li><a href="../fr459388/index.html">Star Wars: Chevaliers de l'ancienne R√©publique</a></li>
<li><a href="../fr459392/index.html">Repenser le processus d'entrevue √† la division de d√©veloppement de Microsoft</a></li>
<li><a href="../fr459396/index.html">"AVERTISSEMENT: la d√©sinfection du HTML a supprim√© certains contenus" et comment les traiter correctement</a></li>
<li><a href="../fr459400/index.html">Quels incidents du Border Gateway Protocol peuvent √™tre mis en √©vidence ces derni√®res ann√©es</a></li>
<li><a href="../fr459402/index.html">Comment impl√©menter une architecture propre sur Android?</a></li>
<li><a href="../fr459404/index.html">Id√©e: enregistrement / autorisation anonyme via le r√©seau Ethereum + Metamask, sans e-mails, etc.</a></li>
<li><a href="../fr459408/index.html">Comment j'ai essay√© de corriger une recherche de carte pour les pilotes. Partie 3 (finale)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>