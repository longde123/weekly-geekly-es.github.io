<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©â€ğŸ”§ ğŸ‘¨ğŸ¿â€âš•ï¸ ğŸ‘©ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ» Matchmaking ennuyeux sans dÃ©sÃ©quilibre et files d'attente: un guide pratique ğŸ‘ŠğŸ½ ğŸ‘©â€âœˆï¸ ğŸ·</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le matchmaking est le composant principal de la plupart des jeux multijoueurs modernes. Une fois qu'un dÃ©veloppeur le prend au sÃ©rieux, il s'avÃ¨re que...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Matchmaking ennuyeux sans dÃ©sÃ©quilibre et files d'attente: un guide pratique</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pixonic/blog/475548/">  Le matchmaking est le composant principal de la plupart des jeux multijoueurs modernes.  Une fois qu'un dÃ©veloppeur le prend au sÃ©rieux, il s'avÃ¨re que les nouveaux arrivants rencontrent rÃ©guliÃ¨rement des professionnels au combat, et certains joueurs doivent attendre indÃ©finiment juste pour entrer dans le match.  De plus, il est difficile de tester et d'analyser avant le lancement, car vous devez prendre en compte de nombreux facteurs.  Comment les joueurs sont-ils rÃ©partis gÃ©ographiquement?  Combien de temps sont-ils prÃªts Ã  faire la queue?  Quel ping est optimal pour un jeu confortable?  Ces facteurs et d'autres affectent la qualitÃ© du matchmaking. <br><br><img src="https://habrastorage.org/webt/7g/o6/x6/7go6x6m2omemdo-c_jfsmn8_iku.jpeg" alt="image"><br><br>  Sous la coupe, nous allons d'abord discuter de la pratique gÃ©nÃ©rale de sÃ©lection des batailles dans les jeux multijoueurs, puis partager notre propre expÃ©rience dans l'organisation de matchmaking pour les robots de guerre. <a name="habracut"></a><br><br><h3>  Quels critÃ¨res choisir? </h3><br>  Alors, qu'est-ce qui dÃ©termine un bon matchmaking?  Bien sÃ»r, cela dÃ©pend de la plate-forme et des caractÃ©ristiques de genre du jeu, mais, en rÃ¨gle gÃ©nÃ©rale, les dÃ©veloppeurs sont guidÃ©s par les critÃ¨res suivants: <br><br><ul><li>  temps d'attente court; </li><li>  ping faible; </li><li>  la diffÃ©rence minimale dans l'expÃ©rience, les compÃ©tences et les progrÃ¨s des joueurs: ici l'expÃ©rience du jeu peut Ãªtre prise en compte Ã  la fois en gÃ©nÃ©ral et pour une classe spÃ©cifique, si le jeu a une division en eux; </li><li>  opposition Ã  l'autre parti - groupes d'acteurs prÃ©-assemblÃ©s visant Ã  un travail coordonnÃ©; </li><li>  dÃ©but simultanÃ© du match pour tous les joueurs. </li></ul><br>  D'autres exigences sont possibles, par exemple: <br><br><ul><li>  choisir des joueurs qui parlent la mÃªme langue; </li><li>  prendre en compte les rÃ©sultats des derniers matchs du joueur, ainsi que le coefficient de conformitÃ© au classement: si un joueur a perdu les derniers matchs, il peut juste Ãªtre hors de forme maintenant, et pendant un certain temps il devrait faciliter les adversaires; </li><li>  faire du matchmaking en tenant compte de la composition des Ã©quipes: si une Ã©quipe manque, par exemple, un tank ou un guÃ©risseur, chercher des adversaires une Ã©quipe de mÃªme composition; </li><li>  rassembler les trolls, les livrÃ©es et les pinces afin qu'ils n'interfÃ¨rent pas avec les autres joueurs; </li><li>  diversifier la composition des joueurs afin que les mÃªmes personnes ne se rencontrent pas trop souvent dans des matchs diffÃ©rents; </li><li>  rÃ©unir les joueurs Ã  l'aide du chat vocal. </li></ul><br>  Il est loin d'Ãªtre toujours possible de satisfaire simultanÃ©ment toutes ces exigences.  De plus, un grand nombre d'exigences vont toujours Ã  l'encontre de la volontÃ© de rÃ©aliser un temps d'attente court.  MÃªme si le jeu est trÃ¨s rÃ©ussi et que des centaines de personnes attendent le match chaque minute, il se peut qu'il ne reste pas assez de temps pour remplir certaines conditions.  Par exemple, si vous voulez trouver une autre Ã©quipe australienne satisfaisante pour une Ã©quipe d'Australiens rivaux, le temps d'attente peut augmenter considÃ©rablement. <br><br>  Ã€ cet Ã©gard, parmi toutes les exigences souhaitÃ©es, il est nÃ©cessaire de choisir les plus importantes pour un projet particulier.  Un raccourcissement de cette liste entraÃ®nera une meilleure conformitÃ© aux exigences restantes et des temps d'attente plus courts. <br><br>  De plus, lors du dÃ©veloppement de jeux multijoueurs, il convient de rappeler que l'ajout de divers modes de jeu divise la base de joueurs en plusieurs files d'attente et conduit ainsi Ã  une augmentation du temps d'attente, et donc Ã  une dÃ©tÃ©rioration de la qualitÃ© du matchmaking.  Par consÃ©quent, rÃ©flÃ©chissez bien avant d'ajouter tel ou tel mode au jeu, et si cela vaut la peine de donner au joueur la possibilitÃ© de choisir entre eux. <br><br>  RÃ©duire le nombre d'exigences pour le matchmaking n'est pas le seul moyen de rÃ©duire le temps d'attente.  Par exemple, vous pouvez implÃ©menter le multijoueur sur le systÃ¨me Drop-In-Drop-Out, afin que les utilisateurs puissent rejoindre le jeu Ã  tout moment et le quitter Ã  tout moment.  Si cela n'est pas possible, avec une courte durÃ©e de matchs, vous pouvez autoriser le joueur Ã  jouer avec des bots dans le processus d'attente.  Bien sÃ»r, cela ne rÃ©soudra pas le problÃ¨me des attentes, mais au moins cela nous permettra de passer le temps. <br><br><h3>  Comment Ã©valuer la conformitÃ© aux critÃ¨res sÃ©lectionnÃ©s? </h3><br>  Nous avons donc un certain nombre de joueurs que nous devons allouer aux matchs.  Comment faire mieux?  Lequel est prÃ©fÃ©rable: le mÃªme niveau de compÃ©tences ou un ping faible?  Comment Ã©quilibrer ces exigences pour que les parties jouent les unes contre les autres? <br><br>  Pour comparaison, nous avons besoin d'une certaine mÃ©trique.  D'une maniÃ¨re ou d'une autre, tous ces critÃ¨res doivent converger en un seul paramÃ¨tre, par la valeur la plus Ã©levÃ©e dont le systÃ¨me peut effectuer une recherche.  Ensuite, nous l'appellerons le score du match. <br><br>  Afin d'obtenir la valeur de cette Ã©valuation, vous devez d'abord calculer les indicateurs individuels.  ConsidÃ©rez une combinaison de facteurs: <br><br><ul><li>  <b>Ã‰quipes ayant le mÃªme niveau de compÃ©tence.</b>  C'est le critÃ¨re le plus Ã©vident dans le matchmaking.  Pour chaque jeu, la mÃ©thode de calcul de ce paramÃ¨tre est individuelle.  L'une des plus simples: prendre le niveau moyen d'expÃ©rience par Ã©quipe et le comparer avec la mÃªme valeur pour une autre Ã©quipe.  Plus la diffÃ©rence est grande, plus la correspondance est mauvaise et plus l'indicateur souhaitÃ© est bas. </li><li>  <b>Joueurs avec le mÃªme niveau de compÃ©tence.</b>  MÃªme si les deux Ã©quipes sont parfaitement Ã©quilibrÃ©es, mais composÃ©es par exemple de deux professionnels et d'un dÃ©butant, l'indicateur moyen des compÃ©tences des Ã©quipes sera le mÃªme, mais un bon match ne fonctionnera toujours pas.  Par consÃ©quent, nous introduisons un autre paramÃ¨tre non pas pour l'Ã©quipe dans son ensemble, mais pour chaque joueur individuellement, ou la variance du niveau de compÃ©tences au sein de l'Ã©quipe. </li><li>  <b>FÃªte.</b>  IdÃ©alement, un groupe qui joue ensemble depuis longtemps devrait s'opposer Ã  un autre du mÃªme groupe, et non contre trois joueurs distincts.  C'est facile Ã  calculer: si une Ã©quipe joue depuis longtemps, nous avons un indicateur Ã©gal Ã  100%.  Si une Ã©quipe de trois joue contre deux amis et un joueur au hasard, nous obtenons 60%.  Si aucun des joueurs n'avait jouÃ© auparavant, la valeur serait de 0%. </li><li>  <b>Ping adversaires.</b>  Pour chaque utilisateur, nous vÃ©rifions le ping avec les trois joueurs de l'Ã©quipe adverse.  Plus le ping est Ã©levÃ©, plus le score est bas. </li><li>  <b>VariabilitÃ© des adversaires.</b>  Dans le but de rÃ©pondre Ã  des exigences de prioritÃ© plus Ã©levÃ©e, le systÃ¨me de matchmaking peut souvent opposer les mÃªmes Ã©quipes avec les taux de match les plus Ã©levÃ©s.  Par consÃ©quent, afin que les joueurs ne s'ennuient pas constamment Ã  jouer avec des visages familiers, il vaut la peine de garder une trace du nombre de fois qu'ils se rencontrent dans les matchs. </li></ul><br><img src="https://habrastorage.org/webt/a6/uo/r_/a6uor_z7okkjhfofrmmgmavks1g.png"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un exemple de match</a> dans lequel les Ã©quipes ont un indicateur Ã  100% pour une fÃªte, un bon indicateur de la compÃ©tence moyenne dans l'Ã©quipe, mais une faible corrÃ©lation dans les compÃ©tences des joueurs individuels: dans l'Ã©quipe bleue, ils diffÃ¨rent considÃ©rablement</i> <br><br><h3>  Comment prendre en compte l'ambiguÃ¯tÃ© des critÃ¨res? </h3><br>  Donc, pour chacun des critÃ¨res, nous avons un score de 0% (trÃ¨s mauvaise coÃ¯ncidence) Ã  100% (meilleur), mais au final nous n'avons besoin que d'un seul chiffre.  Pour cela, nous utiliserons la valeur moyenne pondÃ©rÃ©e.  Ensuite, nous pouvons dÃ©finir la prioritÃ© d'importance pour chaque critÃ¨re. <br><br>  Lors du calcul de l'estimation, il convient de se demander si nous voulons obtenir une dÃ©pendance linÃ©aire des paramÃ¨tres.  Par exemple, l'amÃ©lioration du ping de 210 ms Ã  200 ms vaut-elle la peine de 110 ms Ã  100 ms?  Les deux options sont amÃ©liorÃ©es de 10 ms, mais la valeur ping elle-mÃªme est deux fois plus diffÃ©rente. <br><br>  Fait intÃ©ressant, dans le cas de certains critÃ¨res, il est plus facile d'obtenir une diffÃ©rence de performance significative que dans le cas d'autres.  Donc, pour gagner 0% en termes de niveau de compÃ©tence, il faut collecter trois joueurs professionnels et trois dÃ©butants dans le match, ce qui est extrÃªmement rare.  Cependant, obtenir 0% par le critÃ¨re de la partie est beaucoup plus facile, car pour cela, vous devez avoir une Ã©quipe longtemps assemblÃ©e contre trois joueurs uniques.  Cet aspect mÃ©rite Ã©galement d'Ãªtre examinÃ©. <br><br><img src="https://habrastorage.org/webt/1n/sz/ts/1nsztsgg1rdifaad46pici69cpw.png"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un exemple de la</a> faÃ§on dont les Ã©quipes peuvent Ãªtre composÃ©es en fonction du niveau de compÃ©tence.</i>  <i>Vert et jaune montrent le ping entre les joueurs</i> <br><br>  Maintenant, sur la base des valeurs des indicateurs de chacune des exigences, nous pouvons calculer le score final. <br><br>  Ce nombre Ã©tant le critÃ¨re dominant, l'algorithme produit certaines prÃ©fÃ©rences.  Si l'Ã©change de deux joueurs augmente le paramÃ¨tre d'Ã©valuation d'un match de 5%, mais le rÃ©duit de 10% dans un autre match, le systÃ¨me ne le fera pas, car en gÃ©nÃ©ral le rÃ©sultat va empirer.  Cependant, dans certains cas, cela peut Ãªtre nÃ©gligÃ©.  Ainsi, il peut Ãªtre appropriÃ© d'amÃ©liorer un indicateur de 50% (ce qui est trÃ¨s mauvais) Ã  55% en rÃ©duisant l'autre de 90% Ã  80% (ce qui est encore assez bon).  Cela peut Ãªtre rÃ©alisÃ©, par exemple, en calculant la racine carrÃ©e de tous les indicateurs de l'Ã©valuation jusqu'au stade de la moyenne.  Ainsi, l'amÃ©lioration des mauvais matchs devient relativement plus importante que les bons. <br><br><h3>  Comment cela se produit-il dans les robots de guerre? </h3><br>  Puisque nous parlons d'un jeu mobile oÃ¹ tout devrait se produire rapidement, la principale prioritÃ© est le faible temps d'attente avant d'entrer dans la bataille.  Pour cela, le systÃ¨me de matchmaking doit Ãªtre aussi simple que possible.  Pour le moment, le matchmaker War Robots ne prend en compte que le classement de sÃ©lection des joueurs (MMR) et essaie de se concentrer sur les parties, mais comme elles ne sont pas rÃ©pandues dans le jeu, ce critÃ¨re est secondaire: si vous ne pouvez pas faire correspondre des parties de mÃªme force, le systÃ¨me essaie de se combiner les uns avec les autres. quelques parties ou ne se concentre pas du tout sur ce critÃ¨re.  Et si un joueur quitte la bataille, Ã  sa place, il en prendra un autre qui rÃ©pond aux critÃ¨res, mais seulement au tout dÃ©but du match. <br><br>  Le classement de la sÃ©lection des joueurs dÃ©pend du nombre de victoires / dÃ©faites et de la place dans l'Ã©quipe, et selon le rÃ©sultat du match, il peut augmenter ou diminuer.  Selon cette note, les joueurs sont regroupÃ©s en ligues et divisions.  Ã€ l'intÃ©rieur de la division, le matchmaker recherche des joueurs avec le score de notation le plus proche possible, Ã©largissant progressivement la plage de recherche et couvrant Ã©galement les prochaines divisions.  Il convient de noter que le matchmaker essaie d'empÃªcher les joueurs des ligues infÃ©rieures qui sous-estiment intentionnellement leur classement en les suivant selon des schÃ©mas de comportement caractÃ©ristiques: gÃ©nÃ©ralement, le nombre de dÃ©faites est supÃ©rieur au nombre moyen de batailles de ligue par jour. <br><br><img src="https://habrastorage.org/webt/ei/ne/iw/eineiwpog5b5b10klcccmnp9ccm.png"><br>  <i>Organigramme de correspondance des robots de guerre simplifiÃ©s</i> <br><br>  Le systÃ¨me fonctionnait mal.  Le critÃ¨re principal Ã©tait la puissance des robots et des armes, et Ã  partir des rÃ©sultats des matchs, seuls les cinq derniers ont Ã©tÃ© pris en compte.  Le systÃ¨me Ã©tait plus vulnÃ©rable Ã  la manipulation.  Les joueurs expÃ©rimentÃ©s pourraient Ãªtre dans la mÃªme bataille avec les nouveaux arrivants, s'ils changeaient simplement leurs armes pour des armes plus faibles, ou vice versa, un nouveau venu au robot de premier niveau pourrait installer la 12e arme et finir dans une bataille avec des professionnels, sans avoir le temps de dÃ©velopper les compÃ©tences du jeu.  Ã€ cet Ã©gard, le systÃ¨me de notation basÃ© sur l'expÃ©rience rÃ©elle des victoires et des dÃ©faites s'est avÃ©rÃ© Ãªtre beaucoup plus honnÃªte, bien qu'il n'ait pas Ã©tÃ© possible d'y arriver tout de suite: une rÃ©organisation complÃ¨te du processus de matchmaking est une Ã©tape radicale.Par consÃ©quent, au dÃ©but, on a tout de mÃªme tentÃ© de simplement dÃ©finir le systÃ¨me avec des conditions supplÃ©mentaires. <br><br>  Les travaux d'optimisation et d'amÃ©lioration du jumelage dans War Robots se poursuivent.  Peut-Ãªtre qu'Ã  l'avenir, il sera possible de combiner l'ancienne et la nouvelle approche pour trouver des matchs, mais n'oubliez pas que toute amÃ©lioration de la qualitÃ© du matchmaking entraÃ®ne une augmentation du temps d'attente.  Par consÃ©quent, le dÃ©veloppement d'une telle solution ne sera conseillÃ© que s'il n'affecte pas de maniÃ¨re significative les performances du systÃ¨me. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr475548/">https://habr.com/ru/post/fr475548/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr475536/index.html">CV pour un traducteur indÃ©pendant</a></li>
<li><a href="../fr475538/index.html">OÃ¹ commence la crÃ©ation d'un marchÃ©. PremiÃ¨re partie</a></li>
<li><a href="../fr475542/index.html">L'Ã©volution du marketing par e-mail depuis 2013: 4 tendances principales et statistiques actuelles</a></li>
<li><a href="../fr475544/index.html">Catalogues de produits, services et plus</a></li>
<li><a href="../fr475546/index.html">Syndromes addictifs IT</a></li>
<li><a href="../fr475550/index.html">SystÃ¨mes acoustiques pour piÃ¨ces ouvertes</a></li>
<li><a href="../fr475552/index.html">Algorithmes d'apprentissage automatique de test Blitz: alimentez votre ensemble de donnÃ©es vers la bibliothÃ¨que scikit-learn</a></li>
<li><a href="../fr475554/index.html">Techniques de conception d'interface utilisateur qui font gagner du temps</a></li>
<li><a href="../fr475556/index.html">DÃ©mÃ©nagement Ã  Munich. Le chemin Scalors d'Amazon vers le travail de rÃªve d'Amazon</a></li>
<li><a href="../fr475558/index.html">Dictionnaire informatique ou quoi? O?? OÃ¹ aller? Partie 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>