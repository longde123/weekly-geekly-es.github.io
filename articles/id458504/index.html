<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏂🏽 🧚🏼 😌 Trik 13 npm untuk menghemat waktu 💸 ◽️ 🤺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setiap hari, jutaan pengembang, saat membuat aplikasi JavaScript mereka, beralih ke npm (atau ke Benang). Menjalankan perintah seperti npm init atau n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Trik 13 npm untuk menghemat waktu</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/458504/"> Setiap hari, jutaan pengembang, saat membuat aplikasi JavaScript mereka, beralih ke npm (atau ke Benang).  Menjalankan perintah seperti <code>npm init</code> atau <code>npx create-react-app</code> telah menjadi cara yang biasa untuk mulai bekerja di hampir semua proyek JavaScript.  Ini bisa berupa server, klien, atau bahkan aplikasi desktop. <br><br>  Tetapi utilitas npm tidak hanya mampu menginisialisasi proyek atau menginstal paket.  Penulis materi, terjemahan yang kami terbitkan hari ini, ingin berbicara tentang trik 13 npm yang akan memungkinkan Anda untuk memeras segala yang mungkin dari sistem ini.  Di sini kita akan mempertimbangkan berbagai teknik ukuran - dari penggunaan cara pintas untuk menyesuaikan perilaku <code>npm init</code> . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/_5/ae/8r/_5ae8rwztut9iad5acmba7qf23a.jpeg"></a> <br><br>  Banyak programmer menggunakan npm setiap hari.  Ini berarti bahwa dalam jangka panjang, bahkan penghematan waktu yang kecil dapat mengubah sesuatu menjadi lebih baik.  Materi ini terutama ditujukan untuk pengembang pemula dan pengembang tingkat menengah.  Namun, bahkan jika Anda seorang profesional, penulis materi berharap bahwa Anda dapat menemukan beberapa hal menarik di sini yang belum pernah Anda temui sebelumnya. <br><br>  Jika Anda benar-benar tidak terbiasa dengan npm - perlu diketahui bahwa program yang menarik bagi kami diinstal dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Node.js.</a>  Jika Anda bekerja pada Windows, Anda disarankan menginstal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Git Bash</a> untuk mereproduksi apa yang sedang dibahas di sini. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">1. Opsi singkat untuk merekam perintah dasar</font> </h2><br>  Mari kita mulai dengan dasar-dasarnya.  Dengan menghabiskan sedikit waktu menjelajahi versi singkat dari perintah npm yang paling umum, Anda akan menghemat banyak waktu di masa depan. <br><br><ul><li>  Instal paket.  Opsi normal: <code>npm install</code> .  Pintasan: <code>npm i</code> . </li><li>  Menjalankan tes.  Opsi normal: <code>npm test</code> .  Pintasan: <code>npm t</code> . </li><li>  Telepon bantuan  Opsi umum: <code>npm --help</code> .  Pintasan: <code>npm -h</code> . </li><li>  Bendera pengaturan global.  Opsi umum: <code>--global</code> .  Pintasan: <code>-g</code> . </li><li>  Paket pemasangan bendera sebagai ketergantungan pengembangan.  Opsi yang biasa adalah <code>--save-dev</code> .  Pintasan: <code>-D</code> . </li><li>  <code>npm init</code> awal <code>npm init</code> .  Opsi yang biasa adalah <code>npm init --yes</code> atau <code>npm init --force</code> .  Pintasan: <code>npm init -y</code> atau <code>npm init -f</code> . </li></ul><br>  Sekarang Anda tidak perlu menggunakan flag <code>--save</code> atau <code>-S</code> untuk menyimpan paket.  Paket disimpan secara default.  Dan untuk menginstal paket tanpa menyimpannya, Anda dapat menggunakan <code>--no-save</code> . <br><br><h3>  <font color="#3AC1EF">▍Pilihan perekaman pendek untuk perintah yang kurang umum</font> </h3><br>  Berikut adalah beberapa singkatan yang lebih berguna, yang, bagaimanapun, tidak digunakan seluas yang kami tinjau. <br><br><ul><li>  Menyimpan paket sebagai ketergantungan opsional.  Opsi yang biasa: <code>--save-optional</code> .  Pintasan: <code>-O</code> . </li><li>  Menyimpan informasi tentang versi persis paket.  Opsi yang biasa adalah <code>--save-exact</code> .  Pintasan: <code>-E</code> . </li></ul><br>  Menggunakan perintah <code>npm install</code> dengan <code>npm install</code> <code>--save-bundle</code> , atau <code>-B</code> <code>bundledDependencies</code> menyebabkan entri dalam bundel yang diinstal muncul di <code>package.json</code> , di bagian <code>bundledDependencies</code> .  Paket-paket ini akan dikemas dengan proyek setelah publikasi.  Untuk membuat file tarball yang berisi file proyek dan paket yang terdaftar di <code>bundledDependencies</code> , Anda dapat menggunakan perintah <code>npm pack</code> . <br><br><h3>  <font color="#3AC1EF">▍ Singkatan untuk direktori root</font> </h3><br>  Biasanya, simbol titik ( <code>.</code> ) Digunakan untuk merepresentasikan direktori root dari suatu aplikasi, atau (tergantung pada konteksnya) untuk mewakili titik masuk ke suatu aplikasi.  Dalam npm, ini adalah apa yang ditetapkan sebagai nilai properti <code>main</code> dalam file <code>package.json</code> : <br><br><pre> <code class="plaintext hljs">{  "main": "index.js" }</code> </pre> <br>  Steno ini dapat digunakan, misalnya, dengan perintah seperti <code>npx create-react-app</code> .  Jadi, alih-alih menjalankan perintah ini dalam bentuk <code>npx create-react-app my-app</code> (yang akan mengarah pada pembuatan folder <code>my-app</code> ), Anda dapat menjalankan perintah ini seperti ini: <code>npx create-react-app .</code>  (perhatikan titik yang datang setelah perintah).  Ini akan memungkinkan Anda untuk membuat proyek template aplikasi Bereaksi di folder di mana Anda berada saat perintah dijalankan. <br><br><h2>  <font color="#3AC1EF">2. Menetapkan nilai default untuk npm init</font> </h2><br>  Dengan terus-menerus menjalankan perintah <code>npm init</code> untuk membuat proyek baru, Anda kemungkinan besar akan menemukan bahwa Anda memasukkan data yang sama berulang-ulang sebagai respons terhadap pertanyaan sistem.  Misalnya - kemungkinan Anda adalah penulis sebagian besar proyek yang Anda buat.  Untuk menghemat waktu dalam memasukkan data yang sama, Anda dapat menetapkan nilai default Anda sendiri untuk bidang yang sesuai: <br><br><pre> <code class="plaintext hljs">npm config set init.author.name "Joe Bloggs" npm config set init.author.email "joebloggs@gmail.com" npm config set init.author.url  "joebloggs.com" npm config set init.license   "MIT"</code> </pre> <br>  Untuk memverifikasi kebenaran menambahkan informasi tersebut ke sistem, masukkan perintah <code>npm config edit</code> .  Ini akan membuka file konfigurasi di editor sistem.  Jika Anda ingin mengedit parameter global npm, gunakan perintah <code>npm config edit -g</code> . <br><br>  Untuk kembali ke pengaturan default, Anda dapat menggunakan skrip berikut.  Baris pertama menghapus data konfigurasi dari file, dan yang kedua mengisinya dengan nilai default. <br><br><pre> <code class="plaintext hljs">echo "" &gt; $(npm config get userconfig) npm config edit</code> </pre> <br>  Skrip di atas mengatur ulang nilai default untuk pengguna.  Skrip berikut ini akan menyetel ulang default global: <br><br><pre> <code class="plaintext hljs">echo "" &gt; $(npm config get globalconfig) npm config --global edit</code> </pre> <br><h2>  <font color="#3AC1EF">3. Skrip lintas platform</font> </h2><br>  Kode apa pun yang dijalankan pada baris perintah dapat mengalami masalah kompatibilitas.  Ini terutama berlaku untuk ketidakcocokan antara sistem berbasis Windows dan Unix (ini termasuk Mac dan Linux).  Ini bukan masalah jika Anda dan hanya Anda yang mengerjakan proyek tertentu.  Tetapi dalam banyak kasus, kompatibilitas skrip lintas platform sangat penting.  Sebagai contoh, bekerja secara independen dari sistem operasi adalah nilai tambah yang besar untuk proyek open source, pelatihan atau demonstrasi. <br><br>  Untungnya, menyelesaikan masalah kompatibilitas skrip tidak terlalu sulit.  Kami memiliki beberapa opsi.  Namun, di sini saya ingin berbicara tentang salah satunya, tentang penggunaan yang mana saya mendapatkan hasil terbaik.  Ini adalah paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lintas-env</a> .  Itu harus diinstal sebagai dependensi pengembangan menggunakan perintah <code>npm i -D cross-env</code> .  Maka Anda perlu meletakkan <code>cross-env</code> di depan setiap variabel lingkungan.  Misalnya, mungkin terlihat seperti ini: <br><br><pre> <code class="plaintext hljs">{  "scripts": {    "build": "cross-env NODE_ENV=production webpack --config build/webpack.config.js" }</code> </pre> <br>  Saya menemukan bahwa paket <code>cross-env</code> adalah alat yang paling nyaman untuk mencapai kompatibilitas skrip lintas platform.  Tetapi akan berguna bagi Anda untuk melihat dua alat populer berikut yang dapat membantu dalam memecahkan masalah ini: <br><br><ul><li>  Paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Rimraf</a> .  Itu, untuk menjalankan skrip lintas-platform, dapat diinstal secara global. </li><li>  Paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ShellJS</a> .  Ini adalah implementasi Node.js portabel dari shell perintah Unix. </li></ul><br><h2>  <font color="#3AC1EF">4. Eksekusi skrip paralel</font> </h2><br>  Untuk mengatur eksekusi berurutan dari perintah di shell Linux, <code>&amp;&amp;</code> construct digunakan.  Bagaimana dengan menjalankan skrip paralel?  Untuk mencapai ini, Anda dapat memilih paket npm yang sesuai.  Paket yang paling populer dari jenis ini adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bersamaan</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">npm-run-all</a> .  Di sini kami mendemonstrasikan penggunaan paket secara bersamaan. <br><br>  Pertama, paket yang dipilih harus diinstal sebagai dependensi pengembangan: <code>npm i -D concurrently</code> .  Kemudian di <code>package.json</code> Anda dapat menggunakan konstruksi dari formulir berikut: <br><br><pre> <code class="plaintext hljs">{  "start": "concurrently \"command1 arg\" \"command2 arg\"" }</code> </pre> <br><h2>  <font color="#3AC1EF">5. Menjalankan skrip yang terletak di berbagai direktori</font> </h2><br>  Terkadang Anda menemukan aplikasi yang memiliki beberapa file <code>package.json</code> terletak di direktori yang berbeda.  Akan lebih mudah, misalnya, untuk menjalankan skrip yang dideklarasikan di dalamnya, berada di direktori root proyek.  Ini jauh lebih baik daripada harus melakukan perjalanan ke folder yang berbeda setiap kali Anda perlu menjalankan skrip.  Untuk melakukan ini, Anda dapat menggunakan dua pendekatan berikut. <br><br>  Untuk memulai, Anda dapat menggunakan <code>cd</code> untuk secara otomatis menavigasi ke direktori yang diinginkan.  Mungkin terlihat seperti ini: <br><br><pre> <code class="plaintext hljs">cd folder &amp;&amp; npm start &amp;&amp; cd ..</code> </pre> <br>  Namun masalah ini bisa diselesaikan dengan cara yang lebih menarik.  Terdiri dari menggunakan flag <code>--prefix</code> , yang dengannya Anda dapat menentukan path: <br><br><pre> <code class="plaintext hljs">npm start --prefix path/to/your/folder</code> </pre> <br>  Berikut ini adalah contoh penerapan solusi ini dari aplikasi nyata.  Di sini kita perlu menjalankan <code>npm start</code> untuk bagian klien dan server proyek.  Kode mereka, masing-masing, terletak di folder <code>client</code> dan <code>server</code> . <br><br><pre> <code class="plaintext hljs">"start": "concurrently \"(npm start --prefix client)\" \"(npm start --prefix server)\"",</code> </pre> <br><h2>  <font color="#3AC1EF">6. Menunda peluncuran skrip hingga sumber daya tersedia</font> </h2><br>  Ketika mengembangkan aplikasi tumpukan penuh, sering kali perlu untuk menjalankan bagian klien dan server dari aplikasi tersebut.  Paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tunggu</a> memungkinkan Anda untuk menyinkronkan pelaksanaan proses tertentu.  Dalam kasus kami, perlu bahwa sebelum memulai bagian klien dari aplikasi, port tertentu harus tersedia. <br><br>  Misalnya, ada skrip dev yang digunakan dalam aplikasi Elektron yang antarmuka ditulis menggunakan React.  Script, menggunakan <code>concurrently</code> , menjalankan lapisan presentasi aplikasi dan jendela Elektron secara paralel.  Tetapi menggunakan <code>wait-on</code> Anda dapat membuat jendela Electron terbuka hanya ketika layer presentasi Bereaksi siap digunakan dan tersedia di <code>http://localhost:3000</code> .  Seperti apa tampilan <code>wait-on</code> : <br><br><pre> <code class="plaintext hljs">"dev": "concurrently \"cross-env BROWSER=none npm run start\" \"wait-on http://localhost:3000 &amp;&amp; electron .\"",</code> </pre> <br>  Selain itu, perilaku standar proyek Bereaksi adalah membuka jendela browser secara otomatis.  Jika menggunakan Bereaksi dengan Elektron, ini tidak perlu.  Ini dapat <code>BROWSER=none</code> menggunakan <code>BROWSER=none</code> variabel lingkungan, sebelum itu, demi kompatibilitas lintas platform dari solusi, ada perintah <code>cross-env</code> . <br><br><h2>  <font color="#3AC1EF">7. Mendaftar dan bekerja dengan skrip yang tersedia</font> </h2><br>  Untuk membuat daftar skrip yang tersedia di <code>package.json</code> , cukup buka direktori root proyek dan jalankan perintah <code>npm run</code> di terminal. <br><br>  Tetapi ada cara yang bahkan lebih mudah untuk membuat daftar skrip.  Saat menggunakannya, skrip yang diinginkan dapat langsung dipilih dari daftar dan jalankan.  Untuk menggunakan cara ini bekerja dengan skrip, kita perlu menginstal modul <code>ntl</code> (Npm Task List) secara global: <br><br><pre> <code class="plaintext hljs">npm i -g ntl</code> </pre> <br>  Kemudian di folder proyek Anda perlu menjalankan perintah <code>ntl</code> .  Ini akan menampilkan daftar skrip yang tersedia dan akan memberi Anda kesempatan untuk memilih skrip untuk dijalankan.  Ini tampilannya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e7/8e6/7f2/6e78e67f2f7f520bba4d6aef31df3578.png"></div><br>  <i><font color="#999999">Menggunakan perintah ntl</font></i> <br><br>  Fitur ini bisa sangat berguna jika Anda tidak tahu persis skrip apa yang ada dalam proyek.  Ini juga baik dalam kasus di mana programmer ingin mengganti input dari perintah panjang untuk menjalankan skrip dengan input dari perintah pendek dan penekanan cepat dari beberapa tombol lagi pada keyboard. <br><br><h2>  <font color="#3AC1EF">8. Menjalankan pra-skrip dan post-skrip</font> </h2><br>  Anda mungkin terbiasa dengan skrip <code>postbuild</code> dan <code>postbuild</code> yang memungkinkan Anda untuk menjalankan beberapa kode sebelum dan sesudah menjalankan skrip <code>build</code> .  Skrip pra dan pasca dapat didefinisikan untuk skrip lainnya.  Termasuk mereka yang uraiannya ditambahkan ke p <code>ackage.json</code> oleh programmer. <br><br>  Ini tidak hanya memungkinkan Anda untuk membuat kode lebih bersih, tetapi juga membantu untuk menjalankan skrip pra dan pasca secara terpisah. <br><br><h2>  <font color="#3AC1EF">9. Kontrol versi aplikasi</font> </h2><br>  Alih-alih mengubah versi aplikasi secara manual, programmer dapat menggunakan perintah <code>npm</code> khusus.  Untuk meningkatkan bagian yang sesuai dari nomor versi aplikasi, Anda dapat menggunakan perintah <code>npm version</code> diikuti oleh <code>major</code> , <code>minor</code> atau <code>patch</code> : <br><br><pre> <code class="plaintext hljs">// 1.0.0 npm version patch // 1.0.1 npm version minor // 1.1.0 npm version major // 2.0.0</code> </pre> <br>  Bergantung pada seberapa sering Anda memperbarui aplikasi, Anda dapat menghemat waktu dengan secara otomatis menambah nomor versi setiap kali Anda menggunakan versi baru aplikasi.  Misalnya, seperti ini: <br><br><pre> <code class="plaintext hljs">{  "predeploy": "npm version patch" }</code> </pre> <br><h2>  <font color="#3AC1EF">10. Mengedit package.json dari baris perintah</font> </h2><br>  File package.json adalah file json biasa, sehingga dapat diedit langsung dari baris perintah menggunakan utilitas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">json</a> .  Ini membuka kemungkinan baru dalam situasi di mana Anda perlu memodifikasi <code>package.json</code> , memungkinkan Anda untuk membuat versi perintah yang dipersingkat.  Instal paket <code>json</code> secara global: <br><br><pre> <code class="plaintext hljs">npm install -g json</code> </pre> <br>  Kemudian utilitas <code>json</code> dapat digunakan untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengedit</a> file dengan cepat menggunakan <code>-I</code> .  Misalnya, untuk menambahkan skrip <code>foo</code> baru dengan <code>bar</code> nilai ke file, Anda dapat menggunakan perintah berikut: <br><br><pre> <code class="plaintext hljs">json -I -f package.json -e 'this.scripts.foo="bar"'</code> </pre> <br>  Di bagian selanjutnya, Anda akan melihat contoh yang lebih praktis menggunakan utilitas <code>json</code> . <br><br><h2>  <font color="#3AC1EF">11. Otomatisasi pengaturan dan pembukaan repositori</font> </h2><br>  Jika ada entri <code>"repository"</code> di file <code>package.json</code> Anda, ini berarti Anda dapat membuka halaman repositori di browser yang digunakan oleh sistem secara default.  Untuk melakukan ini, gunakan perintah <code>npm repo</code> . <br><br>  Jika proyek Anda sudah terhubung ke repositori jarak jauh dan Anda telah menginstal utilitas baris perintah <code>git</code> , ini berarti Anda bisa mengetahui alamat repositori Anda menggunakan perintah berikut: <br><br><pre> <code class="plaintext hljs">git config --get remote.origin.url</code> </pre> <br>  Tapi itu belum semuanya.  Jika, sesuai dengan tip sebelumnya, Anda menginstal utilitas <code>json</code> , maka Anda dapat menggunakan skrip berikut untuk secara otomatis menambahkan informasi repositori yang benar ke <code>package.json</code> : <br><br><pre> <code class="plaintext hljs">json -I -f package.json -e "this.repository=\"$(git config --get remote.origin.url)\""</code> </pre> <br><h2>  <font color="#3AC1EF">12. Membuat skrip Anda sendiri untuk mengontrol perintah npm init</font> </h2><br>  Sekarang mari kita bicara tentang menyelesaikan tugas yang lebih besar.  Yaitu, kami akan mengembangkan skrip kami sendiri yang mengontrol operasi perintah <code>npm init</code> , yang menerima URL repositori GitHub dan secara otomatis mengirimkan komit pertama ke sana.  Di sini kita berbicara tentang cara membuat skrip seperti itu.  Dan di bagian selanjutnya, yang akan menjadi tip terakhir kami, kami akan berbicara tentang bekerja dengan <code>git</code> . <br><br>  Anda dapat menyesuaikan perilaku perintah <code>npm init</code> menggunakan file <code>.npm-init.js</code> .  Mari kita buat file seperti itu di direktori home pengguna saat ini (pada Windows biasanya <code>C:/Users/&lt;username&gt;</code> , dan pada Mac itu adalah <code>/Users/&lt;username&gt;</code> ).  Setelah itu, jalankan perintah berikut yang memberi tahu npm di mana tepatnya file ini berada: <br><br><pre> <code class="plaintext hljs">npm config set init-module ~\.npm-init.js</code> </pre> <br>  Sebelum melakukan integrasi dengan c <code>git</code> , mari kita lihat contoh sederhana dari file <code>.npm-init.js</code> , yang mereproduksi pertanyaan yang diajukan sistem kepada pengguna saat menggunakan perintah <code>npm init</code> tanpa pengaturan tambahan: <br><br><pre> <code class="plaintext hljs">module.exports = {  name: prompt('package name', basename || package.name),  version: prompt('version', '0.0.0'),  decription: prompt('description', ''),   main: prompt('entry point', 'index.js'),  repository: prompt('git repository', ''),  keywords: prompt(function (s) { return s.split(/\s+/) }),  author: prompt('author', 'Joe Bloggs &lt;joe.bloggs@gmail.com&gt; (joebloggs.com)'),  license: prompt('license', 'ISC') }</code> </pre> <br>  Setiap pertanyaan didasarkan pada templat berikut: <br><br><pre> <code class="plaintext hljs">nameInPackage: prompt('nameInPrompt', 'defaultValue')</code> </pre> <br>  Untuk menunjukkan nilai tertentu dan tidak mengajukan pertanyaan kepada pengguna, cukup hapus metode <code>prompt</code> . <br><br>  Jika Anda ingin kembali ke pengaturan standar <code>npm init</code> , cukup hapus file <code>.npm-init.js</code> . <br><br><h2>  <font color="#3AC1EF">13. Mengirim komit pertama ke repositori GitHub menggunakan npm init</font> </h2><br>  Untuk menjalankan perintah <code>git</code> dalam file <code>.npm-init.js</code> kita perlu menemukan cara untuk bekerja dengan baris perintah.  Anda dapat menggunakan modul <code>child_process</code> untuk <code>child_process</code> .  Kami menyambungkannya di bagian atas file, dan karena kami hanya membutuhkan fungsi <code>execSync</code> , kami hanya mengimpornya, menggunakan penghancuran: <br><br><pre> <code class="plaintext hljs">const { execSync } = require('child_process');</code> </pre> <br>  Selain itu, kami akan membuat fungsi pembantu yang menampilkan hasil fungsi kami di konsol: <br><br><pre> <code class="plaintext hljs">function run(func) {  console.log(execSync(func).toString()) }</code> </pre> <br>  Dan akhirnya, mari kita buat blok prompt yang sesuai untuk menangani URL repositori GitHub.  Jika skrip memiliki URL, kami akan membuat file <code>README.md</code> dan mengirimkan komit pertama ke repositori. <br><br>  Jadi, salah satu elemen objek <code>module.exports</code> dari file <code>.npm-init.js</code> harus berupa kode berikut: <br><br><pre> <code class="plaintext hljs">repository: prompt('github repository url', '', function (url) {  if (url) {    run('touch README.md');    run('git init');    run('git add README.md');    run('git commit -m "first commit"');    run(`git remote add origin ${url}`);    run('git push -u origin master');   return url; })</code> </pre> <br>  Berikut adalah bagaimana kode lengkap untuk file <code>.npm-init.js</code> akan terlihat setelah penambahan ini: <br><br><pre> <code class="plaintext hljs">const { execSync } = require('child_process'); function run(func) {  console.log(execSync(func).toString()) } module.exports = {  name: prompt('package name', basename || package.name),  version: prompt('version', '0.0.0'),  decription: prompt('description', ''),  main: prompt('entry point', 'index.js'),  keywords: prompt(function (s) { return s.split(/\s+/) }),  author: prompt('author', 'Joe Bloggs &lt;joe.bloggs@gmail.com&gt; (joebloggs.com)'),  license: prompt('license', 'ISC'),  repository: prompt('github repository url', '', function (url) {    if (url) {      run('touch README.md');      run('git init');      run('git add README.md');      run('git commit -m "first commit"');      run(`git remote add origin ${url}`);      run('git push -u origin master');       return url;  }), }</code> </pre> <br>  Ini adalah file <code>package.json</code> yang dibuat oleh sistem menggunakan <code>.npm-init.js</code> : <br><br><pre> <code class="plaintext hljs">{  "name": "Custom npm init",  "version": "0.0.0",  "decription": "A test project, to demonstrate a custom npm init script.",  "main": "index.js",  "keywords": [],  "author": "Joe Bloggs &lt;joe.bloggs@gmail.com&gt; (joebloggs.com)",  "license": "ISC",  "repository": {    "type": "git",    "url": "git+https://github.com/JoeBloggs/custom.git"  },  "bugs": {    "url": "https://github.com/JoeBloggs/custom/issues"  },  "homepage": "https://github.com/JoeBloggs/custom#readme" }</code> </pre> <br>  Dengan mengatur proses inisialisasi proyek baru, Anda dapat melangkah lebih jauh.  Misalnya, untuk memastikan bahwa saat membuat proyek, repositori baru untuknya akan dibuat. <br><br><h2>  <font color="#3AC1EF">Ringkasan</font> </h2><br>  Saya harap materi ini telah membantu Anda melihat apa yang dapat Anda capai dengan npm.  Saya ingin percaya bahwa Anda telah menemukan sesuatu di sini yang akan memungkinkan Anda bekerja lebih produktif - apakah kita berbicara tentang menggunakan versi perintah yang diperpendek, tentang skrip dari <code>package.json</code> , atau tentang pengaturan <code>npm init</code> agar sesuai dengan kebutuhan Anda. <br><br>  <b>Pembaca yang budiman!</b>  Apakah Anda mengotomatisasi kerja dengan npm? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/b4/fn/f5/b4fnf52x9i3mn80tttdafqtvkfe.jpeg"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id458504/">https://habr.com/ru/post/id458504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id458494/index.html">Contoh praktis menggunakan fungsi render Vue: membuat kisi tipografi untuk sistem desain</a></li>
<li><a href="../id458496/index.html">Pedoman praktis untuk mengembangkan aplikasi Bereaksi skala besar. Perencanaan, Tindakan, Sumber Data, dan API</a></li>
<li><a href="../id458498/index.html">Pedoman praktis untuk mengembangkan aplikasi Bereaksi skala besar. Bagian 2: manajemen negara, perutean</a></li>
<li><a href="../id458500/index.html">Metamorfosis dari pengujian redux-saga</a></li>
<li><a href="../id458502/index.html">Rahasia utama untuk mengembangkan aplikasi Elektron yang baik</a></li>
<li><a href="../id458506/index.html">Bukan Portal 3, tapi tutup: teleportasi kuantum informasi di dalam berlian</a></li>
<li><a href="../id458508/index.html">Pandangan dari dalam: sekolah pascasarjana di EPFL. Bagian 4.2: sisi keuangan</a></li>
<li><a href="../id458514/index.html">Pelanggaran GDPR dihukum lebih aktif - denda baru dan dampak peraturan di luar UE</a></li>
<li><a href="../id458516/index.html">Dapatkan worklog dari Jira</a></li>
<li><a href="../id458518/index.html">Python menghabiskan banyak memori atau cara mengurangi ukuran objek?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>