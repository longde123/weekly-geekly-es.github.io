<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåç üëª üñ≤Ô∏è Schulung Cisco 200-125 CCNA v3.0. Tag 44. Einf√ºhrung in OSPF ü§ô ü§úüèª üòº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute werden wir mit dem Studium des OSPF-Routings beginnen. Dieses Thema sowie die Ber√ºcksichtigung des EIGRP-Protokolls sind w√§hrend des gesamten CC...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schulung Cisco 200-125 CCNA v3.0. Tag 44. Einf√ºhrung in OSPF</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466449/"> Heute werden wir mit dem Studium des OSPF-Routings beginnen.  Dieses Thema sowie die Ber√ºcksichtigung des EIGRP-Protokolls sind w√§hrend des gesamten CCNA-Kurses am wichtigsten.  Wie Sie sehen k√∂nnen, hei√üt Abschnitt 2.4 ‚ÄûKonfigurieren, √úberpr√ºfen und Probleme mit einer einzelnen Zone und OSPFv2-Multizone f√ºr IPv4 (au√üer Authentifizierung, Filterung, manuelle Routensummierung, Umverteilung, Sackgasse, virtuelles Netzwerk und LSA)‚Äú. <br><br><img src="https://habrastorage.org/webt/eh/eg/ly/eheglytkouujf35vnfqie-es6my.jpeg"><br><br>  Das OSPF-Thema ist ziemlich umfangreich, daher werden 2, m√∂glicherweise 3 Video-Tutorials ben√∂tigt.  Die heutige Lektion wird der theoretischen Seite des Themas gewidmet sein. Ich werde Ihnen sagen, was dieses Protokoll allgemein ist und wie es funktioniert.  Im n√§chsten Video wechseln wir mit Packet Tracer in den OSPF-Konfigurationsmodus. <a name="habracut"></a><br><br>  In dieser Lektion werden wir uns drei Dinge ansehen: Was ist OSPF, wie funktioniert es und was sind OSPF-Zonen.  In der vorherigen Lektion haben wir gesagt, dass OSPF ein Routing-Protokoll vom Typ Link State ist, das die Kommunikationskan√§le zwischen Routern untersucht und Entscheidungen basierend auf der Geschwindigkeit dieser Kan√§le trifft.  Ein langer Kanal mit einer h√∂heren Geschwindigkeit, d. H. Mit einer h√∂heren Bandbreite, hat im Vergleich zu einem kurzen Kanal mit einer niedrigeren Bandbreite Priorit√§t. <br><br>  Das RIP-Protokoll, das ein Entfernungsvektor ist, w√§hlt einen Pfad in einem Sprung aus, selbst wenn dieser Kanal eine niedrige Geschwindigkeit hat, und OSPF w√§hlt aus mehreren Hoffnungen eine lange Route aus, wenn die Gesamtgeschwindigkeit auf dieser Route h√∂her ist als die Verkehrsgeschwindigkeit auf einer kurzen Route. <br><br><img src="https://habrastorage.org/webt/si/vu/ov/sivuovzoo80jcpepru30511r2lk.jpeg"><br><br>  Sp√§ter werden wir uns den Entscheidungsalgorithmus ansehen. Zun√§chst m√ºssen Sie sich daran erinnern, dass OSPF das Verbindungsstatus-Verbindungsstatusprotokoll ist.  Dieser offene Standard wurde 1988 geschaffen, damit jeder Netzwerkger√§tehersteller und jeder Netzwerkanbieter ihn verwenden kann.  Daher ist OSPF viel beliebter als EIGRP. <br><br>  OSPF Version 2 unterst√ºtzt nur IPv4, und ein Jahr sp√§ter, 1989, k√ºndigten Entwickler die Ver√∂ffentlichung von Version 3 an, die IPv6 unterst√ºtzt.  Die voll funktionsf√§hige dritte Version von OSPF f√ºr IPv6 wurde jedoch erst 2008 ver√∂ffentlicht.  Warum haben Sie sich f√ºr OSPF entschieden?  In der letzten Lektion haben wir gelernt, dass dieses interne Gateway-Protokoll die Routenkonvergenz viel schneller als RIP durchf√ºhrt.  Dies ist ein klassenloses Protokoll. <br><br>  Wenn Sie sich erinnern, ist RIP ein Klassenprotokoll, dh es sendet keine Informationen √ºber die Subnetzmaske, und wenn es auf eine IP-Adresse der Klasse A / 24 trifft, akzeptiert es diese nicht.  Wenn Sie ihm beispielsweise eine IP-Adresse der Form 10.1.1.0/24 vorlegen, wird er diese als Netzwerk 10.0.0.0 wahrnehmen, da er nicht versteht, wann ein Netzwerk mit mehr als einer Subnetzmaske in Subnetze unterteilt wird. <br>  OSPF ist ein sicheres Protokoll.  Wenn beispielsweise zwei Router OSPF-Informationen austauschen, k√∂nnen Sie die Authentifizierung so konfigurieren, dass Sie Informationen erst nach Eingabe des Kennworts f√ºr einen benachbarten Router freigeben k√∂nnen.  Wie gesagt, dies ist ein offener Standard, weshalb OSPF von vielen Herstellern von Netzwerkger√§ten verwendet wird. <br><br>  Im globalen Sinne ist OSPF der Link State Advertisemen (LSA) -Verbindungsmechanismus f√ºr den Link State Advertisemen.  LSA-Nachrichten werden vom Router generiert und enthalten viele Informationen: eine eindeutige Kennung f√ºr die Router-Router-ID, Daten in Netzwerken, die dem Router bekannt sind, Daten zu deren Kosten usw.  Der Router ben√∂tigt all diese Informationen, um eine Entscheidung √ºber das Routing zu treffen. <br><br><img src="https://habrastorage.org/webt/aj/nx/5-/ajnx5-u3bzlcoc3kjj0holdm9po.jpeg"><br><br>  Router R3 sendet seine LSA-Informationen an Router R5, und Router R5 teilt seine LSA-Informationen mit R3.  Diese LSAs sind eine Datenstruktur, die eine Verbindungsstatusdatenbank (LSDB) mit Verbindungsstatus bildet.  Der Router sammelt alle empfangenen LSAs und legt sie in seiner LSDB ab.  Nachdem beide Router ihre eigenen Datenbanken erstellt haben, tauschen sie Hello-Nachrichten aus, mit denen Nachbarn erkannt werden, und beginnen mit dem Vergleich ihrer LSDBs. <br><br>  Der R3-Router sendet eine DBD-Nachricht oder "Datenbankbeschreibung" an R5, und R5 sendet seine DBD an R3.  Diese Nachrichten enthalten die LSA-Indizes, die sich in den Basen jedes Routers befinden.  Nach dem Empfang einer DBD sendet R3 eine LSR-Netzwerkstatusanforderung an R5, die besagt: "Ich habe bereits die Nachrichten 3.4 und 9, senden Sie mir also nur 5 und 7". <br><br>  R5 macht genau das Gleiche und sagt dem dritten Router: "Ich habe Informationen 3,4 und 9, also senden Sie mir 1 und 2".  Beim Empfang von LSR-Anforderungen senden die Router Pakete zur Aktualisierung des LSU-Netzwerkstatus zur√ºck, dh als Antwort auf ihre LSR empf√§ngt der dritte Router die LSU vom R5-Router.  Nachdem die Router ihre Datenbanken aktualisiert haben, haben alle, auch wenn Sie 100 Router haben, dieselbe LSDB.  Sobald LSDB-Datenbanken in den Routern erstellt wurden, kennt jeder von ihnen das gesamte Netzwerk als Ganzes.  Das OSPF-Protokoll verwendet den Shortest Path First-Algorithmus, um eine Routing-Tabelle zu erstellen. Die wichtigste Bedingung f√ºr den korrekten Betrieb ist daher die Synchronisation der LSDB aller Ger√§te im Netzwerk. <br><br><img src="https://habrastorage.org/webt/ci/dg/fs/cidgfs7bbtoycybdlbkuzet-uqe.jpeg"><br><br>  Das obige Diagramm enth√§lt 9 Router, von denen jeder LSR-, LSU- usw. Nachrichten mit Nachbarn austauscht.  Alle von ihnen sind wie p2p oder Punkt-zu-Punkt-Schnittstellen, die das OSPF-Protokoll unterst√ºtzen, miteinander verbunden und interagieren miteinander, um dieselbe LSDB zu erstellen. <br><br><img src="https://habrastorage.org/webt/z0/am/wv/z0amwvsbzhhwo3quwhqf9vypyk4.jpeg"><br><br>  Sobald die Datenbanken synchronisiert sind, bildet jeder Router unter Verwendung des Algorithmus f√ºr den k√ºrzesten Pfad eine eigene Routing-Tabelle.  Unterschiedliche Router haben unterschiedliche Tabellen.  Das hei√üt, alle Router verwenden dieselbe LSDB, erstellen jedoch Routing-Tabellen basierend auf ihren eigenen √úberlegungen zu den k√ºrzesten Routen.  Um diesen Algorithmus verwenden zu k√∂nnen, ben√∂tigt OSPF regelm√§√üige Aktualisierungen der LSDB-Datenbank. <br><br>  F√ºr seine eigene Funktionsweise muss OSPF zun√§chst drei Bedingungen bereitstellen: Nachbarn finden, LSDB erstellen und aktualisieren und eine Routing-Tabelle erstellen.  Um die erste Bedingung zu erf√ºllen, muss der Netzwerkadministrator m√∂glicherweise die Router-ID, das Timing oder die Platzhaltermaske manuell konfigurieren.  Im n√§chsten Video werden wir uns √ºberlegen, wie Sie das Ger√§t f√ºr die Arbeit mit OSPF konfigurieren. Bisher sollten Sie wissen, dass dieses Protokoll eine umgekehrte Maske verwendet. Wenn es nicht √ºbereinstimmt, wenn Ihre Subnetze nicht √ºbereinstimmen oder die Authentifizierung nicht √ºbereinstimmt, wird die Nachbarschaft der Router nicht gebildet.  Daher m√ºssen Sie bei der Fehlerbehebung bei OSPF-Problemen herausfinden, warum sich nicht genau diese Nachbarschaft bildet, dh √ºberpr√ºfen Sie, ob die oben genannten Parameter √ºbereinstimmen. <br><br>  Als Netzwerkadministrator sind Sie nicht an der Erstellung einer LSDB beteiligt.  Datenbanken werden automatisch aktualisiert, nachdem eine Nachbarschaft von Routern erstellt und Routing-Tabellen erstellt wurden.  All dies wird vom Ger√§t selbst erledigt, das f√ºr die Arbeit mit dem OSPF-Protokoll konfiguriert ist. <br>  Schauen wir uns ein Beispiel an.  Wir haben 2 Router, f√ºr die ich der Einfachheit halber die IDs RID 1.1.1.1 und 2.2.2.2 zugewiesen habe.  Sobald wir sie verbinden, wird der Verbindungskanal sofort in den Up-Zustand versetzt, da ich diese Router zuerst f√ºr die Arbeit mit OSPF konfiguriert habe.  Sobald der Kommunikationskanal gebildet ist, sendet Router A sofort das zweite Hello-Paket.  Dieses Paket enth√§lt Informationen, die dieser Router auf diesem Kanal nicht "gesehen" hat, da er zum ersten Mal Hello sendet, sowie eine eigene Kennung, Daten √ºber das mit ihm verbundene Netzwerk und andere Informationen, die er mit einem Nachbarn teilen kann. <br><br><img src="https://habrastorage.org/webt/8y/h3/ee/8yh3eeidlszlok6i5nc6mk_pwu8.jpeg"><br><br>  Nachdem Router B dieses Paket empfangen hat, sagt er: ‚ÄûIch sehe, dass es auf diesem Kommunikationskanal einen potenziellen Kandidaten f√ºr die OSPF-Nachbarschaft gibt‚Äú und wechselt in den Anfangszustand Init.  Das Hello-Paket ist keine Unicast- oder Broadcast-Nachricht, sondern ein Multicast-Paket, das an die OSPF-Multicast-IP-Adresse 224.0.0.5 gesendet wird.  Einige Leute fragen, was eine Subnetzmaske f√ºr einen Multicast ist.  Tatsache ist, dass ein Multicast keine Subnetzmaske hat, sondern als Funksignal verteilt wird, das von allen auf seine Frequenz eingestellten Ger√§ten geh√∂rt wird.  Wenn Sie beispielsweise ein UKW-Radio mit einer Frequenz von 91,0 h√∂ren m√∂chten, stellen Sie Ihr Radio auf diese Frequenz ein. <br><br>  Auf die gleiche Weise ist Router B so konfiguriert, dass er Nachrichten f√ºr die Multicast-Adresse 224.0.0.5 empf√§ngt.  Wenn dieser Kanal abgeh√∂rt wird, empf√§ngt er das vom Router A gesendete Hello-Paket und antwortet ihm mit seiner Nachricht. <br><br><img src="https://habrastorage.org/webt/jz/3v/65/jz3v65x0bhyt3l7aulusvjqv_ns.jpeg"><br><br>  Dar√ºber hinaus kann die Nachbarschaft nur hergestellt werden, wenn die Antwort B eine Reihe von Kriterien erf√ºllt.  Das erste Kriterium - die H√§ufigkeit des Sendens von Hello-Nachrichten und das Warteintervall auf eine Antwort auf diese Dead Interval-Nachricht sollten f√ºr beide Router √ºbereinstimmen.  Normalerweise entspricht das Totintervall mehreren Hello-Timer-Werten.  Wenn der Hello-Timer von Router A 10 s betr√§gt und Router B nach 30 s eine Nachricht mit einem Totintervall von 20 s sendet, findet die Nachbarschaft nicht statt. <br><br>  Das zweite Kriterium ist, dass beide Router dieselbe Art der Authentifizierung verwenden m√ºssen.  Dementsprechend m√ºssen auch Authentifizierungskennw√∂rter √ºbereinstimmen. <br><br>  Das dritte Kriterium ist das Zusammentreffen der Arial ID-Zonen-IDs, das vierte das Zusammentreffen der Netzwerkpr√§fixl√§nge.  Wenn Router A das Pr√§fix / 24 meldet, muss Router B auch ein Netzwerkpr√§fix / 24 haben.  Im n√§chsten Video werden wir dies genauer betrachten. Im Moment werde ich feststellen, dass dies keine Subnetzmaske ist. Hier verwenden die Router die umgekehrte Wildcard-Maske.  Und nat√ºrlich m√ºssen die Flags der Stub-Bereich-Stub-Zone auch √ºbereinstimmen, wenn sich die Router in dieser Zone befinden. <br><br>  Nach √úberpr√ºfung dieser Kriterien sendet Router B, falls sie √ºbereinstimmen, sein Hello-Paket an Router A.  Im Gegensatz zu Nachricht A meldet Router B, dass er Router A gesehen hat, und stellt sich vor. <br><br><img src="https://habrastorage.org/webt/6r/kn/vy/6rknvyrb_4jh5nhlv4qwio46zay.jpeg"><br><br>  Als Antwort auf diese Nachricht sendet Router A erneut Hallo an Router B, in dem best√§tigt wird, dass er auch Router B gesehen hat. Der Kommunikationskanal zwischen ihnen besteht aus den Ger√§ten 1.1.1.1 und 2.2.2.2 und ist selbst Ger√§t 1.1.1.1.  Dies ist eine sehr wichtige Phase beim Aufbau einer Nachbarschaft.  In diesem Fall wird eine 2-WEGE-Zweiwegeverbindung verwendet. Was passiert jedoch, wenn wir einen Switch mit einem verteilten Netzwerk von 4 Routern haben?  In einer solchen "gemeinsam genutzten" Umgebung sollte einer der Router die Rolle eines dedizierten Routers spielen. Designated Router DR, und der zweite - ein Backup-dedizierter Router. Backup Designated Router, BDR <br><br><img src="https://habrastorage.org/webt/ly/gi/on/lygionmgdtv62_x7hibp9lc48xm.jpeg"><br><br>  Jedes dieser Ger√§te bildet eine vollst√§ndige Verbindung oder einen Zustand voller Nachbarschaft. Sp√§ter werden wir uns √ºberlegen, was es ist. Eine Verbindung dieses Typs wird jedoch nur mit DR und BDR hergestellt. Die beiden unteren Router D und B kommunizieren weiterhin gem√§√ü dem Zweiwege-Verbindungsschema miteinander Punkt zu Punkt. <br><br>  Das hei√üt, mit DR und BDR stellen alle Router eine vollst√§ndige Proximity-Beziehung und eine Punkt-zu-Punkt-Verbindung untereinander her.  Dies ist sehr wichtig, da beim bidirektionalen Verbinden der benachbarten Ger√§te alle Parameter des Hello-Pakets √ºbereinstimmen m√ºssen.  In unserem Fall stimmt alles √ºberein, sodass die Ger√§te problemlos eine Nachbarschaft bilden. <br><br>  Sobald die bidirektionale Kommunikation hergestellt ist, sendet Router A das Datenbankbeschreibungspaket oder die ‚ÄûDatenbankbeschreibung‚Äú an Router B und wechselt in den ExStart-Status - den Beginn des Austauschs oder das Warten auf den Download.  Der Datenbankdeskriptor enth√§lt Informationen, die dem Inhaltsverzeichnis des Buches √§hneln. Dies ist eine Aufz√§hlung aller in der Routing-Datenbank verf√ºgbaren Informationen.  Als Antwort sendet Router B seine Datenbankbeschreibung an Router A und wechselt in den Status des Datenaustauschs auf Exchange-Kan√§len.  Wenn der Router im Exchange-Status feststellt, dass sich einige Informationen in seiner Datenbank befinden, wechselt er in den Startstatus LOADING und beginnt mit dem Austausch von LSR-, LSU- und LSA-Nachrichten mit dem Nachbarn. <br><br><img src="https://habrastorage.org/webt/c2/0h/ix/c20hixd7ecp-7n0m1cjiwhsfzmm.jpeg"><br><br>  Also sendet Router A einen LSR an einen Nachbarn, er antwortet mit einem LSU-Paket, auf den Router A mit einer LSA-Nachricht an Router B antwortet.  Dieser Austausch findet so oft statt, wie oft das Ger√§t LSA-Nachrichten austauschen m√∂chte.  Ein LOADING-Status bedeutet, dass noch kein vollst√§ndiges LSA-Datenbank-Upgrade durchgef√ºhrt wurde.  Nach dem Herunterladen aller Daten wechseln beide Ger√§te in den Status VOLLST√ÑNDIG. <br><br>  Ich stelle fest, dass sich das Ger√§t bei einer bidirektionalen Verbindung einfach in der N√§he befindet und der Zustand der vollst√§ndigen Nachbarschaft nur zwischen Routern, DR und BDR m√∂glich ist. Dies bedeutet, dass jeder Router DR √ºber √Ñnderungen im Netzwerk informiert und alle Router von DR √ºber diese √Ñnderungen informiert werden <br><br>  Die Wahl von DR und BDR ist ein wichtiges Thema.  √úberlegen Sie, wie die Auswahl von DR in einer gemeinsamen Umgebung erfolgt.  Angenommen, in unserer Schaltung gibt es drei Router und einen Switch.  Zuerst vergleichen OSPF-Ger√§te die Priorit√§t in Hello-Nachrichten und dann die Router-ID. <br><br>  Das Ger√§t mit der h√∂chsten Priorit√§t wird zu DR. Wenn die Priorit√§ten der beiden Ger√§te √ºbereinstimmen, wird von den beiden Ger√§ten das Ger√§t mit der h√∂chsten Router-ID ausgew√§hlt, das zu DR wird <br><br>  Ein Ger√§t mit der zweith√∂chsten Priorit√§t oder der zweitwichtigsten Router-ID wird zum dedizierten Backup-BDR-Router. Wenn DR ausf√§llt, wird es sofort durch BDR ersetzt. Es spielt die Rolle des DR und das System w√§hlt einen anderen BDR. <br><br><img src="https://habrastorage.org/webt/na/i3/ss/nai3ssrsisjj-sdy7hc0hxnp6cg.jpeg"><br><br>  Ich hoffe, dass Sie die Wahl von DR und BDR herausgefunden haben. Wenn nicht, werde ich in einem der folgenden Videos auf dieses Problem zur√ºckkommen und diesen Prozess erl√§utern. <br><br>  Also haben wir uns angesehen, was Hello ist, eine Beschreibung des Datenbankdeskriptors und der Nachrichten LSR, LSU und LSA.  Bevor wir zum n√§chsten Thema √ºbergehen, lassen Sie uns ein wenig √ºber die Kosten von OSPF sprechen. <br><br><img src="https://habrastorage.org/webt/ts/ma/ct/tsmact54hpjwyrgvpdot7xop_cu.jpeg"><br><br>  Bei Cisco werden die Kosten einer Route anhand der Formel f√ºr das Verh√§ltnis der Bandbreite der Referenzbandbreite, die standardm√§√üig 100 Mbit / s betr√§gt, zu den Kosten des Kanals berechnet.  Wenn Sie beispielsweise Ger√§te √ºber die serielle Schnittstelle verbinden, betr√§gt die Geschwindigkeit 1,544 Mbit / s und die Kosten 64. Bei Verwendung einer Ethernet-Verbindung mit einer Geschwindigkeit von 10 Mbit / s betragen die Kosten 10 und die Kosten f√ºr eine FastEthernet-Verbindung mit einer Geschwindigkeit von 100 Mbit / s 1. <br><br>  Bei Verwendung von Gigabit-Ethernet haben wir eine Geschwindigkeit von 1000 Mbit / s. In diesem Fall wird die Geschwindigkeit jedoch immer mit 1 angenommen. Wenn Sie also Gigabit-Ethernet in Ihrem Netzwerk haben, m√ºssen Sie den Standardwert Ref √§ndern.  BW pro 1000. In diesem Fall betragen die Kosten 1, und die gesamte Tabelle wird mit einer 10-fachen Wertsteigerung neu berechnet.  Nachdem wir die Nachbarschaft gebildet und die LSDB-Datenbank erstellt haben, fahren wir mit der Erstellung der Routing-Tabelle fort. <br><br><img src="https://habrastorage.org/webt/bh/_p/rt/bh_prtlzefjqlznmehubb6_ndnw.jpeg"><br><br>  Nach dem Empfang der LSDB erstellt jeder der Router unabh√§ngig eine Liste von Routen unter Verwendung des SPF-Algorithmus.  In unserem Schema erstellt Router A eine solche Tabelle f√ºr sich.  Zum Beispiel berechnet er die Kosten der Route A-R1 und bestimmt sie gleich 10. Um das Verst√§ndnis des Schemas zu vereinfachen, nimmt Router A die optimale Route zum Router B an. Die Kosten der Verbindung A-R1 betragen 10, die Verbindung A-R2 betr√§gt 100 und die Kosten der Route A-R3 ist 11, d. H. Die Summe der Route A-R1 (10) und R1-R3 (1). <br><br>  Wenn Router A zum Router R4 gelangen m√∂chte, kann er dies entweder entlang der Route A-R1-R4 oder entlang der Route A-R2-R4 tun. In beiden F√§llen sind die Kosten f√ºr die Routen gleich: 10 + 100 = 100 + 10 = 110.  Die Route A-R6 kostet 100 + 1 = 101, was bereits besser ist.  Als n√§chstes betrachten wir den Pfad zum Router R5 entlang der Route A-R1-R3-R5, dessen Kosten 10 + 1 + 100 = 111 betragen. <br><br>  Der Pfad zum R7-Router kann auf zwei Routen festgelegt werden: A-R1-R4-R7 oder A-R2-R6-R7.  Die Kosten f√ºr die erste betragen 210, f√ºr die zweite - 201, daher sollten Sie 201 w√§hlen. Um Router B zu erreichen, kann Router A 4 Routen verwenden. <br><br><img src="https://habrastorage.org/webt/1r/uf/3p/1ruf3pxrl5k0fwwd6zdd2sm6b9w.jpeg"><br><br>  Die Kosten f√ºr die Route A-R1-R3-R5-B betragen 121. Die Route A-R1-R4-R7-B kostet 220. Die Route A-R2-R4-R7-B kostet 210 und A-R2-R6-R7- B hat Kosten von 211. Auf dieser Grundlage w√§hlt Router A die Route mit den niedrigsten Kosten von 121 aus und platziert sie in der Routing-Tabelle.  Dies ist ein sehr vereinfachtes Diagramm der Funktionsweise des SPF-Algorithmus.  Tats√§chlich enth√§lt die Tabelle nicht nur die Bezeichnungen der Router, √ºber die die optimale Route verl√§uft, sondern auch die Bezeichnungen der sie verbindenden Ports und alle anderen erforderlichen Informationen. <br><br>  Betrachten Sie ein anderes Thema, das Routing-Zonen betrifft.  Wenn Sie OSPF-Ger√§te eines Unternehmens konfigurieren, befinden sich diese normalerweise alle in einer gemeinsamen Zone. <br><br><img src="https://habrastorage.org/webt/d3/5z/rq/d35zrq0teeueeyun9lmth9efqic.jpeg"><br><br>  Was passiert, wenn ein an den R3-Router angeschlossenes Ger√§t pl√∂tzlich ausf√§llt?  Der R3-Router sendet sofort eine Nachricht an die R5- und R1-Router, dass der Kanal mit diesem Ger√§t nicht mehr funktioniert, und alle Router beginnen, Aktualisierungen zu diesem Ereignis auszutauschen. <br><br><img src="https://habrastorage.org/webt/of/qn/ce/ofqnceag0vtmjmpd-dddu3vja_o.jpeg"><br><br>  Wenn Sie √ºber 100 Router verf√ºgen, aktualisieren alle die Informationen zum Status der Kan√§le, da sie sich in derselben gemeinsamen Zone befinden.  Dasselbe passiert, wenn einer der benachbarten Router ausf√§llt - alle Ger√§te in der Zone tauschen LSA-Updates aus.  Nach dem Austausch solcher Nachrichten √§ndert sich die Netzwerktopologie.  In diesem Fall berechnet der SPF die Routing-Tabellen entsprechend den ge√§nderten Bedingungen neu.  Dies ist ein sehr langwieriger Prozess. Wenn Sie tausend Ger√§te in einer Zone haben, m√ºssen Sie die Speichergr√∂√üe der Router so steuern, dass alle LSAs und eine gro√üe Datenbank mit dem LSDB-Kanalstatus gespeichert werden k√∂nnen.  Sobald √Ñnderungen in einem Teil der Zone auftreten, berechnet der SPF-Algorithmus die Routen sofort neu.  Standardm√§√üig wird der LSA alle 30 Minuten aktualisiert.  Dieser Vorgang findet nicht auf allen Ger√§ten gleichzeitig statt. In jedem Fall werden Aktualisierungen von jedem Router mit einer H√§ufigkeit von 30 Minuten durchgef√ºhrt.  Weitere Netzwerkger√§te.  Je mehr Speicher und Zeit zum Aktualisieren der LSDB ben√∂tigt wird. <br><br>  Sie k√∂nnen dieses Problem l√∂sen, wenn Sie eine gemeinsame Zone in mehrere separate Zonen unterteilen, dh Multi-Zoning verwenden.  Dazu ben√∂tigen Sie einen Plan oder ein Diagramm des gesamten von Ihnen verwalteten Netzwerks.  Nullzone BEREICH 0 ist Ihre Hauptzone.  Hier stellen Sie eine Verbindung zu einem externen Netzwerk her, z. B. zum Internetzugang.  Beim Erstellen neuer Zonen sollten Sie sich an der Regel orientieren: Jede Zone sollte einen ABR (Area Border Router) haben.  Der Grenzrouter verf√ºgt √ºber eine Schnittstelle in einer Zone und eine zweite Schnittstelle in einer anderen Zone.  Zum Beispiel hat der R5-Router Schnittstellen in Zone 1 und Zone 0. Wie ich bereits sagte, muss jede der Zonen mit der Nullzone verbunden sein, dh einen Edge-Router haben, von dem eine der Schnittstellen mit BEREICH 0 verbunden ist. <br><br><img src="https://habrastorage.org/webt/so/lw/yu/solwyugzi0kcniowromdhqrf4em.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Angenommen, die Verbindung R6-R7 ist nicht in Betrieb. </font><font style="vertical-align: inherit;">In diesem Fall wird das LSA-Update nur in der Zone AREA 1 verteilt und betrifft nur diese Zone. </font><font style="vertical-align: inherit;">Ger√§te in Zone 2 und Zone 0 wissen nicht einmal davon. </font><font style="vertical-align: inherit;">Der Grenzrouter R5 fasst Informationen √ºber das Geschehen in seiner Zone zusammen und sendet die Gesamtinformationen √ºber den Status des Netzwerks an die Hauptzone AREA 0. </font><font style="vertical-align: inherit;">Ger√§te in einer Zone m√ºssen nicht √ºber alle LSA-√Ñnderungen in anderen Zonen informiert sein, da der ABR-Router zusammenfassende Informationen zu Routen von einer Zone zu einer anderen weiterleitet. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie sich √ºber das Konzept der Zonen nicht ganz im Klaren sind, k√∂nnen Sie in der n√§chsten Lektion mehr dar√ºber erfahren, wann wir das OSPF-Routing konfigurieren und einige Beispiele betrachten.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BDSrDuTRo0Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Vielen Dank f√ºr Ihren Aufenthalt bei uns.  Gef√§llt dir unser Artikel?  M√∂chten Sie weitere interessante Materialien sehen?  Unterst√ºtzen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% f√ºr Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir f√ºr Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit √ºber VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verf√ºgbar). <br><br>  <b>Dell R730xd 2 mal g√ºnstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2,6 GHz 14C 64 GB DDR4 4 x 960 GB SSD 1 Gbit / s 100 TV von 199 US-Dollar</a> in den Niederlanden!</b>  <b><b>Dell R420 - 2x E5-2430 2,2 GHz 6C 128 GB DDR3 2x960 GB SSD 1 Gbit / s 100 TB - ab 99 US-Dollar!</b></b>  Lesen Sie mehr √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgeb√§udes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern f√ºr 9.000 Euro f√ºr einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466449/">https://habr.com/ru/post/de466449/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466439/index.html">√úberpr√ºfen Sie selbst: Wie viele Fragen k√∂nnen Sie ChGK beantworten?</a></li>
<li><a href="../de466441/index.html">Python-Buggy-Code: 10 h√§ufigste Fehler, die Entwickler machen</a></li>
<li><a href="../de466443/index.html">ShIoTiny und die Welt: Analoge Sensoren oder ADCs f√ºr die Kleinsten</a></li>
<li><a href="../de466445/index.html">Angriffe zwischen Vertrauensstellungen zwischen Dom√§nen</a></li>
<li><a href="../de466447/index.html">Wof√ºr sollen wir ein CDN bauen?</a></li>
<li><a href="../de466451/index.html">Read_You kann nicht werfen</a></li>
<li><a href="../de466453/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 45. Konfigurieren von OSPF</a></li>
<li><a href="../de466455/index.html">Services, Microservices und Batch-orientierte Programmierung</a></li>
<li><a href="../de466457/index.html">Landwirtschaft und Sonnenkollektoren - Win-Win-Strategie f√ºr Energieingenieure und Landwirte</a></li>
<li><a href="../de466459/index.html">Postgresql Parallel Integration Tests in GO-Anwendung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>