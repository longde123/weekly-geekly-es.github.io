<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👨🏼 🎴 ⛅️ Ulasan independen tentang PVS-Studio (Linux, C ++) 🌪️ 👧🏽 🔐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya melihat publikasi yang dipelajari oleh PVS di Linux, dan memutuskan untuk mencoba proyek-proyeknya. Dan inilah yang terjadi. 

 Isi 


1. Pro 
2....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ulasan independen tentang PVS-Studio (Linux, C ++)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463027/"><p>  Saya melihat publikasi yang dipelajari oleh PVS di Linux, dan memutuskan untuk mencoba proyek-proyeknya.  Dan inilah yang terjadi. </p><a name="habracut"></a><br><a name="contents"></a><br><h2>  Isi </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pro</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cons</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ringkasan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kata penutup</a> </li></ol><br><a name="pros"></a><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pro</a> </h2><br><h3 id="otzyvchivaya-podderzhka">  Dukungan Responsif </h3><br><p>  Saya meminta kunci percobaan, mereka mengirimkannya kepada saya pada hari yang sama. </p><br><h3 id="dostatochno-ponyatnaya-dokumentaciya">  Dokumentasi yang cukup jelas </h3><br><p>  Dimungkinkan untuk memulai penganalisa tanpa masalah.  Bantuan untuk perintah konsol juga tersedia (meskipun ada keluhan, lihat bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kontra</a> ). </p><br><h3 id="vozmozhnost-mnogopotochnogo-analiza">  Kemampuan analisis multi-utas </h3><br><p> Alat analisis memiliki opsi "standar" <code>-j</code> , yang memungkinkan menganalisis secara paralel dalam beberapa tugas.  Ini menghemat banyak waktu. </p><br><h3 id="horoshaya-vizualizaciya">  Visualisasi yang baik </h3><br><p>  Banyak format output yang berbeda, dari teks ke moncong web kecil.  <a href="">Wajah web nyaman, ringkas, dengan kiat di sebelah baris dalam kode dan tautan ke deskripsi diagnostik</a> . </p><br><h3 id="prostaya-integraciya-v-sborku">  Integrasi perakitan yang mudah </h3><br><p>  Semua dokumentasi ada di situs web mereka, saya hanya bisa mengatakan bahwa jika proyek Anda dibuat menggunakan CMake, maka semuanya sangat sederhana. </p><br><h3 id="horoshie-opisaniya-diagnostik">  Deskripsi diagnostik yang baik </h3><br><p>  Jika Anda menghasilkan keluaran dalam mode <code>fullhtml</code> , maka setiap pesan memiliki tautan ke deskripsi diagnosis, dengan penjelasan, contoh kode, dan tautan tambahan. </p><br><a name="cons"></a><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cons</a> </h2><br><h3 id="neznanie-analizatorom-yazyka-c">  Ketidaktahuan Penganalisa Bahasa C ++ </h3><br><p>  Sayangnya, PVS terkadang salah dalam sintaksis dan menghasilkan pesan positif palsu dengan kode yang benar-benar sempurna. </p><br><p>  Misalnya, ada fungsi yang mengembalikan <code>void</code> : </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">copy</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * source, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * destination)</span></span></span><span class="hljs-function"> -&gt; </span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">std</span></span></span><span class="hljs-function">::enable_if_t &lt; </span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">std</span></span></span><span class="hljs-function">::is_copy_constructible&lt;T&gt;::value &gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> (destination) T(*<span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> T *&gt;(source)); }</code> </pre> <br><p>  Ya, kata kunci <code>auto</code> dapat berarti <code>void</code> , itu sebabnya <em>otomatis</em> .  Tetapi PVS mengeluarkan pesan-pesan ini: </p><br><pre> <code class="plaintext hljs">dynamic_tuple_management.hpp:29:1: error: V591 Non-void function should return a value. dynamic_tuple_management.hpp:29:1: error: V2542 Function with a non-void return type should return a value from all exit paths.</code> </pre> <br><h3 id="ochen-tormoznutyy-sayt">  Situs sangat lambat </h3><br><p>  Ya, di moncong web di sebelah setiap pesan ada tautan ke deskripsi diagnosis yang sesuai dengan contoh.  Tetapi ketika Anda mengklik tautan, Anda harus menunggu cukup lama, dan kadang-kadang itu terjadi <a href="">504 Waktu habis Gateway</a> . </p><br><h3 id="yazyk">  Bahasa </h3><br><p>  Semua deskripsi dalam bahasa Rusia, itu hebat.  Tetapi tautan dari laporan selalu mengarah ke versi bahasa Inggris.  Alangkah baiknya untuk dapat beralih bahasa sehingga Anda dapat melihat diagnostik segera dalam bahasa Rusia.  Saya tidak menemukan peluang seperti itu di antarmuka. </p><br><h3 id="neudobno-rabotat-s-urovnyami-diagnostik-cherez-konsol">  Nyaman untuk bekerja dengan level diagnostik melalui konsol </h3><br><p>  Untuk mulai dengan, dua perintah yang digunakan ( <code>pvs-studio-analyzer</code> dan <code>plog-converter</code> ) memiliki format pekerjaan diagnostik yang berbeda. </p><br><p>  Bantuan untuk <code>pvs-studio-analyzer</code> berbunyi: </p><br><pre> <code class="plaintext hljs">-a [MODE], --analysis-mode [MODE] MODE defines the type of warnings: 1 - 64-bit errors; 2 - reserved; 4 - General Analysis; 8 - Micro-optimizations; 16 - Customers Specific Requests; 32 - MISRA. Modes can be combined by adding the values Default: 4</code> </pre> <br><p>  Untuk waktu yang lama saya mencoba memahami di mana <em>menambahkan</em> ("menambahkan nilai") kunci.  Mencoba mendaftar dengan koma: </p><br><pre> <code class="plaintext hljs">pvs-studio-analyzer analyze ... -a 1,4,16</code> </pre> <br><p>  Saya mencoba mendaftarkan kunci beberapa kali: </p><br><pre> <code class="plaintext hljs">pvs-studio-analyzer analyze ... -a 1 -a 4 -a 16</code> </pre> <br><p>  Dan baru kemudian saya menyadari bahwa ini adalah topeng bit!  Dan Anda perlu <em>meringkas</em> , bukan <em>menambahkan</em> nilai.  Misalnya, untuk mendapatkan diagnostik umum, diagnostik untuk optimasi mikro dan MISRA, Anda perlu menjumlahkannya (4 + 8 + 32 = 44): </p><br><pre> <code class="plaintext hljs">pvs-studio-analyzer analyze ... -a 44</code> </pre> <br><p>  Menggunakan bitmask di antarmuka pengguna biasanya merupakan ide yang buruk.  Semua ini dapat diringkas di dalam, dan pengguna menetapkan satu set bendera. </p><br><p>  Selain itu, ada juga utilitas <code>plog-converter</code> , yang menghasilkan informasi yang dapat dibaca manusia tentang analisis statis.  Dia memiliki masalah lain. </p><br><p>  Bantuan untuk laporan program <code>plog-converter</code> : </p><br><pre> <code class="plaintext hljs">-a, --analyzer Specifies analyzer(s) and level(s) to be used for filtering, ie 'GA:1,2;64:1;OP:1,2,3;CS:1;MISRA:1,2' Default: GA:1,2</code> </pre> <br><p>  Semacam "level" muncul di sini, yang belum pernah terlihat sebelumnya, dan saya juga tidak menemukan apa pun tentang mereka dalam dokumentasi. </p><br><p>  Secara umum, tidak jelas.  Karena itu, saya mengatur semuanya secara maksimal. </p><br><h3 id="kucha-bestolkovoy-rugani-na-catch">  Sekelompok sumpah bodoh di Catch </h3><br><p>  Dua dari tiga proyek yang saya analisis menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">perpustakaan</a> pengujian unit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Catch2</a> .  Dan bagian terbesar dari pesan (!!! 90 dari 138 dalam satu dan 297 dari 344 dalam yang lain !!!) memiliki bentuk berikut: </p><br><p><img src="https://habrastorage.org/webt/uh/fi/6g/uhfi6gcehf00hu0sarfkm9bnnqa.png" alt="Catch2"></p><br><h3 id="ne-uchityvaet-mnogopotochnost">  Tidak mempertimbangkan multithreading </h3><br><p>  Ada banyak kesalahan positif tentang variabel yang seharusnya tidak berubah atau loop tak terbatas, sementara bekerja dengan variabel-variabel ini berasal dari utas yang berbeda, dan jika tidak demikian, maka unit test tidak akan berfungsi. </p><br><p><img src="https://habrastorage.org/webt/xn/rs/zl/xnrszlmyu3m8mhyu6dgkrkk0bty.png" alt="Multithreading"></p><br><p>  Namun, dapatkah penganalisa statis mempertimbangkan ini sama sekali?  Saya tidak tahu. </p><br><a name="summary"></a><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ringkasan</a> </h2><br><p>  PVS tidak menemukan kesalahan nyata dalam proyek terbuka saya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Burst</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Proxima</a> , serta dalam draft kerja, yang saya, karena alasan yang jelas, tidak dapat hadir.  Benar, harus diingat bahwa beberapa kekurangan sudah ditangkap dan diperbaiki sebelumnya menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cppcheck</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>scan-build</code></a> . </p><br><p>  Secara umum, kesan semua analisis ini hampir sama: ya, mereka menangkap sesuatu, kadang-kadang bahkan sesuatu yang penting, tetapi secara keseluruhan kompiler sudah cukup. </p><br><p>  Adalah mungkin (dan secara pribadi saya senang berpikir demikian) bahwa tim kami menggunakan praktik pengembangan perangkat lunak seperti itu yang memungkinkan kami untuk menghasilkan jumlah kotoran minimum.  Lebih baik tidak menciptakan masalah daripada mengatasinya dengan heroik. </p><br><p>  Oleh karena itu, saya mengambil kebebasan memberikan beberapa saran tentang cara menulis dalam C ++ sedemikian rupa agar tidak menembak kaki siapa pun dan tidak menyapu dahi. </p><br><h3 id="ispolzuyte-diagnostiki-kompilyatora-po-maksimumu">  Gunakan diagnostik kompiler secara maksimal </h3><br><p>  Tim kami menggunakan (dan memberi tahu Anda) opsi kompilasi berikut: </p><br><pre> <code class="plaintext hljs">-Werror -Wall -Wextra -Wpedantic -Wcast-align -Wcast-qual -Wconversion -Wctor-dtor-privacy -Wenum-compare -Wfloat-equal -Wnon-virtual-dtor -Wold-style-cast -Woverloaded-virtual -Wredundant-decls -Wsign-conversion -Wsign-promo</code> </pre> <br><p>  Masukkan mereka dalam proyek Anda, pelajari banyak tentang kode Anda. </p><br><h3 id="priderzhivaytes-standarta">  Tetap pada standar </h3><br><p>  Cobalah untuk tidak menggunakan hal-hal yang bergantung pada platform jika ada analog standar, dan jika Anda tidak dapat melakukannya tanpa semuanya, bungkus dalam blok khusus untuk pemotretan makro (atau yang lain) dan jangan biarkan kami mengkompilasi kode Anda dalam kondisi yang tidak didukung. </p><br><h3 id="priderzhivaytes-standartnoy-semantiki-operaciy">  Tetap menggunakan semantik operasi standar </h3><br><p>  Penambahan harus berupa penambahan, perkalian demi perkalian, pemanggilan fungsi dengan pemanggilan fungsi, salin harus menyalin, transfer harus ditransfer, wadah harus dapat diubah, iterator harus memiliki <code>++</code> promosi dan dereferensi <code>*</code> .  Dan seterusnya dan seterusnya. </p><br><p>  Saya pikir idenya jelas.  Ada perjanjian yang dibuat yang tidak mengikat tetapi semua pengguna dan pembaca kode Anda berharap untuk melihatnya.  Jangan mencoba mengakali orang lain, atau mengakali diri sendiri. </p><br><h3 id="pishite-sovmestimyy-kod">  Tulis kode yang kompatibel </h3><br><p>  Pertama-tama, maksud saya perpustakaan standar.  Sangat diinginkan bahwa antarmuka kelas dan fungsi Anda dapat digunakan dengan perpustakaan standar dan lainnya (misalnya, Bust). </p><br><p>  Silakan mengintip antarmuka STL dan Boost.  Dengan pengecualian langka, Anda akan melihat panutan yang layak di sana. </p><br><h3 id="ispolzuyte-po-maksimumu-otkrytye-instrumenty">  Manfaatkan alat terbuka sebaik mungkin </h3><br><p>  Untuk analisis statis yang sama, setidaknya ada dua alat gratis terbuka yang terhubung ke proyek apa pun dengan sistem bangun CMake dengan mengorbankan "waktu". </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Anda dapat membaca lebih lanjut tentang ini di publikasi terbaru saya</a> . </p><br><a name="afterword"></a><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kata penutup</a> </h2><br><p>  Sebagai kesimpulan, saya menekankan bahwa saya tidak mendesak untuk tidak menggunakan PVS atau analisa statis lainnya.  Tetapi saya mendesak Anda untuk memikirkan bagaimana ternyata penganalisa statis terus-menerus menemukan kesalahan signifikan dalam kode Anda. </p><br><p>  Ini hanya konsekuensi.  Perlu untuk mencari dan menghilangkan penyebabnya. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id463027/">https://habr.com/ru/post/id463027/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id463011/index.html">Jangan membuang akustik lama Kehidupan baru akustik lama</a></li>
<li><a href="../id463019/index.html">Roadmap Pengembang Android pada tahun 2019</a></li>
<li><a href="../id463021/index.html">Hal pertama yang harus dilakukan ketika memulai proyek di Django</a></li>
<li><a href="../id463023/index.html">Eduard Proydakov: “Komputer pribadi mengeluarkan elektronik pada waktunya. Robot akan menariknya keluar sekarang. "</a></li>
<li><a href="../id463025/index.html">Bagaimana jejaring sosial menyerap perhatian kita: studi besar tentang waktu layar</a></li>
<li><a href="../id463031/index.html">Hidup dan belajar. Bagian 3. Pendidikan berkelanjutan atau usia siswa abadi</a></li>
<li><a href="../id463035/index.html">Berita dari dunia OpenStreetMap No. 471 (07.23.2019-29.07.2019)</a></li>
<li><a href="../id463037/index.html">Mencari inspirasi, atau Cara keluar dari F</a></li>
<li><a href="../id463039/index.html">Pembersih debu manicure sendiri</a></li>
<li><a href="../id463041/index.html">Didefinisikan atau Tidak Ditentukan? Nuansa membuat array dalam JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>