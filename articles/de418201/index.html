<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíáüèæ üë©‚Äçüåæ ‚úäüèª K√∂nnen wir Duck Hunt wiederbeleben? üç¶ ‚úåüèø üë©üèª‚Äçüåæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die meisten Menschen freuen sich, wenn sie es schaffen, alte Dinge wieder zum Leben zu erwecken. Der endlose Wunsch, die Erfahrung der Jugend noch ein...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>K√∂nnen wir Duck Hunt wiederbeleben?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418201/"><img src="https://habrastorage.org/getpro/habr/post_images/ed1/ff3/c40/ed1ff3c40f21f321eadf88ad634941f0.jpg"><br><br>  Die meisten Menschen freuen sich, wenn sie es schaffen, alte Dinge wieder zum Leben zu erwecken.  Der endlose Wunsch, die Erfahrung der Jugend noch einmal zu erleben, f√ºhrt uns auf eine Weise, die wir l√§ngst vergessen haben.  Und auf dem Weg sto√üen wir manchmal auf vergessene Erinnerungen, die andere vergessene Erinnerungen hervorrufen, die es uns erm√∂glichen, gl√ºckliche Momente wiederzuerleben, an die wir jahrelang oder sogar jahrzehntelang nicht gedacht haben.  Jemand, der zur√ºck zur High School geht, um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">abends</a> mit der Lautst√§rke des Radios <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Auto</a> zu fahren, erwidert das Dr√∂hnen des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ford Windsor-</a> Motors.  F√ºr diejenigen, die in den 80ern und 90ern geboren wurden, k√∂nnen solche Spiele Videospiele ausl√∂sen.  Wer kann das erste Treffen mit einem Assistentenclip aus Microsoft Office, eleganter Musik aus Final Fantasy oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Up-Up-Down-Down-Links-Rechts-Links-Rechts-Ba-Select-Start</a> vergessen? <br><br>  Dank der Fortschritte in der Prozessortechnologie konnten wir Zeit mit unseren Lieblingsspielen durch Emulatoren verbringen - Programme, die die Prozessoren alter Computer emulieren.  Spiele werden von ROM-Chips in Dateien heruntergeladen.  Diese Dateien k√∂nnen dann in den Emulator heruntergeladen werden und das Spiel so spielen, als w√ºrden Sie es auf dem urspr√ºnglichen System spielen. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/317/cc1/f6b/317cc1f6bae300da4eba190071a1b668.jpg"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NES Zapper</a> Interna</i> <br><br>  Technologie ist eine wunderbare Sache.  Es erm√∂glicht uns, vorw√§rts zu gehen und heute das zu tun, was gestern unm√∂glich war.  In einigen F√§llen ist dieses Paradigma jedoch falsch.  Eine davon ist die NES-Spielekonsole, das Nintendo Entertainment System und der Waffencontroller Zapper.  Zu einer Zeit wurde NES aus gutem Grund zur beliebtesten Spielekonsole.  Die Ingenieure, Programmierer und Audioexperten von Nintendo haben einige der besten Videospiele hervorgebracht, die jemals hergestellt wurden.  Leider k√∂nnen einige dieser Spiele nicht auf Ihrem bevorzugten Raspberry Pi-Emulator gespielt werden, da Zapper nicht mit modernen digitalen Monitoren kompatibel ist.  Es ist unwahrscheinlich, dass jemand vergessen kann, wie viel Spa√ü es gemacht hat, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Duck Hunt</a> zu spielen.  Dieses Spiel wurde mit allen NES-Systemen geb√ºndelt, also haben wir es alle gespielt.  Die damit verbundene Nostalgie ist jedoch aufgrund ungel√∂ster technologischer Merkmale begraben. <br><br>  Ich sage Ihnen, als Hacker zu Hacker - das kann nicht l√§nger toleriert werden.  Zuerst schauen wir uns an, wie Zapper funktioniert und warum es mit Digitalanzeigen nicht funktioniert.  Und dann werden wir dar√ºber nachdenken, wie wir das Problem beheben k√∂nnen. <br><br><h2>  Das Problem </h2><br>  Die Zapper-Pistole ist nur eine Fotozelle mit einem Schalter.  Wenn der Ausl√∂ser (Schalter) gedr√ºckt wird, f√ºhrt NES bestimmte Manipulationen mit dem Bildschirm durch, um zu verstehen, wohin die Waffe zeigt.  Welche - wir werden etwas sp√§ter diskutieren.  Aber zuerst m√ºssen wir verstehen, dass sie nur auf analogen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CRT-</a> Fernsehern funktionieren.  Wenn Sie Ihren Emulator an ein solches Fernsehger√§t anschlie√üen, treten keine Probleme auf.  Das Problem ist, dass niemand einen CRT-Fernseher hat.  Alle verf√ºgen √ºber digitale Flachbildfernseher und Monitore.  Bei Anschluss an einen solchen Monitor funktioniert das Spiel nicht.  Wir m√ºssen verstehen, warum das so ist. <br><br><h2>  Mythen entlarven </h2><br>  Es gibt viel Verwirrung dar√ºber, wie NES wei√ü, wohin Zapper steuert, selbst unter Leuten, die sich ein wenig mit Elektronik auskennen.  Einige von ihnen denken und verbreiten diesen Mythos weiter, dass NES Scanzeilen aus CRT liest.  Eine CRT zeichnet in regelm√§√üigen Abst√§nden Scanlinien von oben nach unten auf dem Bildschirm.  Durch Vergleichen der Startzeit der Zeichnung und der Zeit, zu der Zapper die Linie sieht, kann NES herausfinden, wohin Zapper zeigt.  Und da der moderne Monitor alle Linien gleichzeitig anzeigt, ist es unm√∂glich zu berechnen, wo genau Zapper zeigt.  Es ist m√∂glich, dass einige √§ltere Fotozellenpistolen funktionierten, aber NES funktioniert nicht so.  Absolut. <br><br><h2>  Wie NES Zapper funktioniert </h2><br>  Das System ist ziemlich knifflig.  Wenn Sie den Ausl√∂ser dr√ºcken, zeichnet NES einen schwarzen Rahmen auf dem Fernseher.  NES zeichnet 60 Bilder pro Sekunde, sodass ein Bild etwa 0,0166 oder 17 ms lang auf dem Bildschirm angezeigt wird.  Im n√§chsten Bild erscheint anstelle der Ente ein wei√ües Rechteck, und das Pr√§fix fragt den Zustand der Fotozelle in der Pistole ab.  Die Ausgabe einer Fotodiode ist sehr unterschiedlich, je nachdem, ob sie auf einen schwarzen Bildschirm oder auf ein wei√ües Rechteck gerichtet ist.  Und das alles geschieht w√§hrend der Demonstration von zwei Frames, 34 ms.  Der Mensch merkt es kaum.  Das n√§chste Bild zeichnet das Spielfeld erneut und ein Treffer oder Fehlschlag wird auf Sie angerechnet.  Genial! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/c3tBk-LYyzo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  "Aber hey, wie funktioniert dieses System, wenn zwei Ziele auf dem Bildschirm angezeigt werden?"  Gute Frage.  NES-Ingenieure l√∂sen dieses Problem, indem sie einfach den gesamten Vorgang wiederholen.  Das erste Bild ist schwarz, gefolgt von einem Bild mit einem wei√üen Rechteck anstelle eines Ziels und einer Fotozellenvermessung.  Wenn sich auf dem Bildschirm ein anderes Ziel befindet, befindet sich das dritte Bild mit einem Rechteck um das zweite Ziel.  Alle drei Bilder dauern ungef√§hr eine halbe Sekunde, sodass Sie nicht die M√∂glichkeit haben, zwei Enten gleichzeitig zu schie√üen.  Sie k√∂nnen nur einen schie√üen, und diese Technik l√§sst NES wissen, welcher. <br><br>  "Wenn NES nur den Zustand der Fotozelle abfragt, kann ich die Waffe dann einfach auf ein helles Licht richten und meinen Treffer jedes Mal aufzeichnen?"  Noch eine gute Frage.  Die NES-Ingenieure haben eine solche T√§uschung beseitigt und den Zustand der Fotozelle bereits w√§hrend des Auftretens des ersten schwarzen Rahmens abgefragt.  Wenn die Fotozelle etwas anderes als einen schwarzen Bildschirm sieht, z√§hlt das Pr√§fix einen Fehler.  Es gibt Ger√ºchte, dass dieser Fehler in den fr√ºhesten Versionen des Spiels nicht behoben wurde, aber bisher konnte niemand einen solchen Fehler nachweisen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2dd/07c/1db/2dd07c1db164ff90e5b4e428511bd7e8.jpg"><br><br><h2>  Ein weiterer Blick auf das Problem </h2><br>  Wenn wir nun wissen, wie Zapper funktioniert, k√∂nnen wir Probleme mit dem digitalen Monitor l√∂sen.  Wenn das Spiel nur den Unterschied zwischen Schwarz und Wei√ü misst, sollte die Waffe auf digitalen Monitoren einwandfrei funktionieren.  Aber es funktioniert offensichtlich nicht.  Einige argumentieren, dass die Fotozelle gegen√ºber Infrarotstrahlung von einer CRT empfindlich ist und der digitale Monitor keine Infrarotstrahlen emittiert.  Aber schauen Sie sich dieses Video an: Zapper funktioniert gro√üartig! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8D624JADDOw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>[Das Video zeigt einen modifizierten Zapper / ca.</i>  <i>perev.]</i> <br><br>  Wir wissen, dass Scanlinien nichts damit zu tun haben und dass Zapper auf einem digitalen Bildschirm zwischen dem Kontrast zwischen Wei√ü und Schwarz unterscheiden kann.  Wir k√∂nnen daraus schlie√üen, dass unser Problem mit der Zeit zusammenh√§ngt.  Anscheinend kann eine CRT ein Bild viel schneller anzeigen als ein digitaler Kollege.  In NES ist die Notwendigkeit, nach 16 ms nach einem wei√üen Rechteck zu suchen, fest verdrahtet.  Wenn Ihr digitaler Bildschirm die NES-Ausgabe nicht mit ausreichender Geschwindigkeit verarbeiten kann, sucht die Konsole nach einem wei√üen Rechteck, w√§hrend das Spiel noch auf dem Bildschirm sichtbar ist. <br><br>  Die Ausgabeaufl√∂sung von NES betr√§gt 256 x 240 Pixel.  Der digitale Monitor muss jedes Bild auf die Arbeitsaufl√∂sung skalieren.  Dieser Prozess erzeugt eine Verz√∂gerung, die bis zu 70 ms erreichen kann und unsere Zahl von 16 ms erheblich √ºberschreitet. <br><br><h2>  Wie man es repariert </h2><br>  Es wird nicht einfach sein.  Wenn ein digitaler Monitor zu langsam ist, besteht die einzige L√∂sung darin, NES zu verlangsamen. <br><br><h3>  Option 1: Verringern Sie die Taktrate </h3><br>  Wir haben alle davon geh√∂rt, den Prozessor durch Erh√∂hen der Taktfrequenz zu √ºbertakten.  Was ist mit Bremsen?  K√∂nnen wir die Zeit im NES-Prozessor verlangsamen, ohne sie auf einen merklichen Bruchteil der Lichtgeschwindigkeit zu √ºbertakten?  Es ist notwendig, dass das Spiel mit normaler Geschwindigkeit l√§uft, aber wenn der Ausl√∂ser gedr√ºckt wird, schaltet es auf einen langsameren Betrieb um und erh√∂ht tats√§chlich die Verz√∂gerungszeit.  Denken Sie daran, dass NES 16 ms lang einen schwarzen Bildschirm anzeigt und dann ein wei√ües Rechteck zeichnet.  Durch Verlangsamung des Prozessors k√∂nnen wir diese Verz√∂gerung erh√∂hen und dem digitalen Monitor eine Reaktionszeit geben. <br><br><h3>  Option 2: ROM bearbeiten </h3><br>  ROM kann nur in einem Hex-Editor bearbeitet werden.  Was w√§re, wenn wir den Emulator untersuchen und herausfinden w√ºrden, an welcher Stelle der Verz√∂gerungswert eingestellt wird, nachdem der Trigger gedr√ºckt wurde?  Wir k√∂nnten es einfach gr√∂√üer machen und hoffen, dass wir nichts kaputt gemacht haben. <br><br><h3>  Option 3: Ihre Option </h3><br>  Jetzt, da Sie wissen, wie NES Zapper funktioniert und warum es mit modernen digitalen Monitoren nicht funktioniert, sind Sie auf halbem Weg, dieses Problem zu l√∂sen und die Nostalgie loszulassen, die uns das grausame technologische Schicksal genommen hat.  Was w√ºrden Sie tun, um Zapper mit einem digitalen Monitor arbeiten zu lassen und zum Helden des Internets zu werden? <br><br>  Das Arbeitsschema ist nicht so kompliziert - sicher k√∂nnen wir alle zusammenkommen, um herauszufinden, wie Zapper in unserer digitalen Welt aufh√∂ren kann, im Leerlauf zu schie√üen.  Teilen Sie Ihre L√∂sungen in den Kommentaren. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i>Originalartikel</i></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de418201/">https://habr.com/ru/post/de418201/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de418191/index.html">Analoge in Python und JavaScript. Teil drei</a></li>
<li><a href="../de418193/index.html">Wie f√ºhlt es sich an, 2017 ein Spiel f√ºr Game Boy zu erstellen?</a></li>
<li><a href="../de418195/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 4: ‚ÄûPrivilegien teilen‚Äú, Teil 1</a></li>
<li><a href="../de418197/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 4: ‚ÄûPrivilegien teilen‚Äú, Teil 2</a></li>
<li><a href="../de418199/index.html">Wie man eine einfache technische Aufgabe macht und nicht Geld und Nerven verliert</a></li>
<li><a href="../de418203/index.html">GraphQL API (CRUD) f√ºr unterwegs</a></li>
<li><a href="../de418205/index.html">Space Language Vol. 2: Willkommen, GJ273b</a></li>
<li><a href="../de418207/index.html">√úberpr√ºfung der Gaming-Laptops ASUS ROG Strix GL504GS SCAR II und ASUS ROG Strix GL504GM HERO II</a></li>
<li><a href="../de418209/index.html">Wir erhalten Daten von Mercury 203.2T-Z√§hlern auf RS-485</a></li>
<li><a href="../de418211/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 4: ‚ÄûPrivilegien teilen‚Äú, Teil 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>