<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥉 ⚙️ 👨🏿 Shader bukanlah sihir. Menulis shader di Unity. Pendahuluan 🚊 🔞 🧕🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! Nama saya Grigory Dyadichenko, dan saya adalah pendiri dan CTO dari Foxsys Studios. Hari ini saya ingin berbicara tentang shader. Kemam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Shader bukanlah sihir. Menulis shader di Unity. Pendahuluan</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473638/"> Halo semuanya!  Nama saya Grigory Dyadichenko, dan saya adalah pendiri dan CTO dari Foxsys Studios.  Hari ini saya ingin berbicara tentang shader.  Kemampuan untuk menulis shader (dan umumnya bekerja dengan rendering) sangat penting ketika mengembangkan untuk platform seluler atau AR / VR, jika Anda ingin mencapai grafik yang keren.  Banyak pengembang berpikir bahwa shader adalah sihir.  Bahwa ada sedikit informasi yang baik tentang mereka, dan bahwa untuk menulisnya, Anda harus memiliki, minimal, judul kandidat sains.  Ya, pengembangan shader dengan prinsip mereka sangat berbeda dari pengembangan klien.  Tetapi yang utama adalah memahami prinsip-prinsip dasar shader, serta mengetahui esensi mereka, sehingga tidak ada yang ajaib dan pencarian informasi tentang topik ini adalah tugas yang sederhana.  Seri artikel ini ditujukan untuk pemula, jadi jika Anda pandai memprogram shader, seri ini tidak akan menarik bagi Anda.  Siapa pun yang ingin memahami topik ini - selamat datang di bawah potongan! <br><br><img src="https://habrastorage.org/webt/8x/7p/8w/8x7p8wysmifccxmj1p5gustpoom.jpeg"><br><a name="habracut"></a><br>  Ini adalah artikel pengantar di mana saya akan menjelaskan prinsip-prinsip umum penulisan shader.  Jika topiknya menarik, maka kami akan menganalisis secara lebih rinci dalam artikel terpisah: vertex shaders, shaders geometris, shaders fragmen / pixel, shaders triplanar, efek screenspace dan shaders komputer (OpenCL, CUDA, dll.).  Dan secara umum, semua keajaiban itu bisa dilakukan pada GPU.  Ini akan disortir dalam konteks pipa standar Unity.  Jadi LWRP dan HDRP sejauh ini tampak agak lembab bagi saya. <br><br><h3>  Apa itu shader? </h3><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Browser Anda tidak mendukung video HTML5. <source src="https://i.giphy.com/media/IgGEhTzMSyNFEgJLAe/giphy.mp4" type="video/mp4"></video></div></div></div><br>  <i>Sumber: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.shadertoy.com/view/MsGSRd</a></i> <br><br>  Sebenarnya, ini adalah program yang berjalan pada GPU, yang hasilnya adalah informasi yang berbeda.  Dalam vertex shaders, ini adalah parameter dari simpul mesh.  Pixel shaders dieksekusi pixel demi pixel. <br><br>  Untuk memahami cara kerja shader, Anda perlu memberi tahu apa itu pipeline grafik.  Sangat sering orang berbicara tentang topik ini dengan kata-kata yang agak rumit, tetapi kami akan membuatnya sedikit lebih mudah untuk dipahami.  Ambil contoh OpenGL.  Dalam hal ini, saya sangat suka gambar ini. <br><br><img src="https://habrastorage.org/webt/it/un/ys/itunysdel8o0cqcdvkifmjekwvu.png"><br><br>  Jika Anda menghilangkan bagian yang terkait dengan pencahayaan, dll.  Secara umum, dari sudut penulisan shiter Unlit yang sama pada hlsl, esensinya adalah sebagai berikut.  Kami memiliki shader <br><br><pre><code class="plaintext hljs">#pragma vertex vert #pragma fragment frag</code> </pre> <br>  di mana kita menentukan bahwa bagian simpul shader akan ditulis dalam fungsi vert, dan bagian fragmen dalam fungsi frag. <br><br>  Struktur yang kami jelaskan di shader menentukan data apa yang akan kami ambil dari mesh dan setelah diproses dengan vertex shader yang menggantung pada objek MeshRenderer dan MeshFilter kami. <br><br><pre> <code class="plaintext hljs"> struct appdata { float4 vertex : POSITION; float2 uv : TEXCOORD0; }; struct v2f { float2 uv : TEXCOORD0; UNITY_FOG_COORDS(1) float4 vertex : SV_POSITION; };</code> </pre><br>  Selanjutnya, vertex shader menghitung dengan menerima data appdata sebagai input dan memberikan hasilnya dalam bentuk struktur v2f, yang kemudian menuju ke fragmen shader.  Yang pada gilirannya akan menghitung warna piksel.  Karena informasi v2f ditulis hanya untuk simpul (yang lebih kecil dari piksel), data di bagian fragmen diinterpolasi.  Semua ini dapat direpresentasikan sebagai fakta bahwa vert dipertimbangkan dalam setiap vertex secara independen.  Kemudian hasilnya ditransfer ke bagian fragmen, di mana frag untuk setiap piksel dianggap independen.  Karena perhitungan dilakukan secara paralel, di bagian ini tidak ada informasi tentang tetangga (jika Anda tidak mengirimkannya dengan cerdik). <br><br>  Secara lebih rinci, semua nuansa, serta banyak contoh dijelaskan dalam dokumentasi Unity <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">docs.unity3d.com/Manual/SL-Reference.html</a> <br><br><h3>  Bahasa Pemrograman Shader </h3><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Browser Anda tidak mendukung video HTML5. <source src="https://i.giphy.com/media/kDrszZhUweXe8RB9dR/giphy.mp4" type="video/mp4"></video></div></div></div><br>  <i>Sumber: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.shadertoy.com/view/WsS3Dc</a></i> <br><br>  Apa lagi yang penting agar tidak dilupakan.  Fakta bahwa shader sekarang ditulis dalam tiga bahasa pemrograman yang tidak ada hubungannya dengan persatuan.  CG, GLSL dan HLSL.  Cara termudah untuk menulis shader dalam satu unit adalah melalui HLSL, karena di situlah file shader dengan izin .shader ditulis.  Dan jika ada relatif sedikit informasi tentang shader dalam konteks unit, maka informasi secara terpisah tentang HLSL, GLSL dan CG hanya berton-ton.  Dokumentasi untuk shaders menjelaskan cara mentransfer apa yang ditulis dalam bahasa-bahasa ini ke Unity.  Oleh karena itu, ternyata hampir semua informasi secara umum tentang bahasa pemrograman ini valid.  Ketiga bahasa sangat mirip dengan C, tetapi masing-masing memiliki karakteristik sendiri. <br><br>  Lebih jauh, dari sudut pandang mempelajari shader, ketika bahasa-bahasa ini tidak lagi menimbulkan pertanyaan, Anda dapat melihat peluang apa "UnityCG.cginc" dan perpustakaan lain yang ditulis oleh persatuan menyediakan sendiri untuk menyederhanakan pekerjaan mereka. <br><br><h3>  Kenapa kalau di shader itu buruk? </h3><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Browser Anda tidak mendukung video HTML5. <source src="https://i.giphy.com/media/iJPLCJPnRgISEvp34p/giphy.mp4" type="video/mp4"></video></div></div></div><br>  <i>Sumber: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.shadertoy.com/view/Md3cWr</a></i> <br><br>  Penting untuk memahami bagaimana shader dieksekusi pada tingkat besi dan mengapa mereka begitu cepat sehingga mereka dapat melakukan jutaan operasi tanpa melelahkan. <br><br>  Gagasan utama GPU adalah paralelisme maksimum perhitungan.  Di sini perlu untuk memperkenalkan konsep seperti itu sebagai "gelombang depan".  Sebenarnya, ini cukup sederhana, wavefront adalah sekelompok shader yang melakukan urutan operasi yang sama.  Artinya, dari sudut pandang GPU, opsi terbaik adalah ketika instruksi yang sama dijalankan pada waktu yang sama.  Satu-satunya perbedaan dalam eksekusi adalah input.  Masalah percabangan adalah bahwa suatu situasi dapat terjadi ketika dalam satu kelompok shader, shader harus menjalankan operasi yang berbeda.  Yang pada gilirannya mengarah pada pembuatan wavefront baru, menyalin data ke dalamnya, dll.  Dan itu sangat mahal. <br><br>  Ada nuansa dan pengecualian, tetapi untuk bisa menulis dengan aman, Anda harus memahami bagaimana perilakunya pada versi target api grafis.  Karena OpenGL ES 2 atau DX11 yang sama dalam hal ini sangat berbeda. <br><br><h3>  Mengapa saya perlu tahu ini, karena ada editor simpul? </h3><br><img src="https://habrastorage.org/webt/c2/um/cj/c2umcjrvnqkh3f7kxeaxuhhsye0.jpeg"><br><br>  Penting untuk memahami bahwa editor simpul adalah alat utama bagi seniman teknis.  Ini adalah spesialis yang memiliki keahlian dalam matematika, tetapi lebih banyak desainer.  Shader tipe wireframe (di mana pemahaman tentang koordinat barycentric diperlukan) atau transformasi ke koordinat Cartesian, yang digunakan untuk proyeksi rumit, jauh lebih mudah dilakukan dengan kode, seperti banyak model matematis dari bahan fisik.  Pada saat yang sama, dari sudut pandang programmer shader, Anda pada dasarnya membuat simpul dan alat khusus untuk seniman teknis untuk membuat keajaiban nyata.  Editor node memiliki fungsi terbatas dari sudut pandang ini.  Oleh karena itu, penting untuk dapat menulis shader dalam bahasa seperti hlsl.  Memahami cara kerja rendering, dll. <br><br><h3>  Sumber Daya yang Berguna untuk Belajar </h3><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Browser Anda tidak mendukung video HTML5. <source src="https://i.giphy.com/media/KbMBpaOC2Uiwstu20J/giphy.mp4" type="video/mp4"></video></div></div></div><br>  <i>Sumber: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.shadertoy.com/view/4tlcWj</a></i> <br><br>  Dalam hal mempelajari pemrograman shader, latihan yang baik adalah menulis ulang shader dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.shadertoy.com</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">glslsandbox.com</a> .  Selain itu, ada profil keren dari spesialis dari Unity, di mana Anda dapat melihat banyak <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/keijiro yang</a> menarik <br><br>  Yang lainnya adalah matematika dan pemahaman tentang fisika efek.  Ini agak mirip dengan mencampur bahan-bahan, jika masalah spesifik pemodelan fisik tidak terpecahkan.  Banyak hal menarik yang dapat dilakukan dengan mencampur kebisingan, refraksi, hamburan cahaya di bawah permukaan, kaustik, efek Fresnel, reaksi difusi dan sifat fisik benda lainnya.  Secara umum, pemrograman shader tentu saja tidak elementer, dan ada tempat untuk menggali lebih dalam. <br><br>  Jika topik shader menarik, maka saya akan mencoba untuk merilis serangkaian artikel tentang topik ini, sudah dengan contoh dan tutorial khusus tentang topik menciptakan efek yang berbeda.  Sarankan dalam komentar tentang apa yang Anda ingin baca dan topik apa yang akan dipelajari.  Terima kasih atas perhatian anda! <br><br>  <i>Semua efek dalam artikel adalah rekaman efek shader dengan shadertoy.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id473638/">https://habr.com/ru/post/id473638/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id473628/index.html">C ++ dalam layanan ortodontik: wawancara dengan Mikhail Matrosov, pengembang CAD di Align Technology</a></li>
<li><a href="../id473630/index.html">Praktik dan alat terbaik untuk mengembangkan aplikasi iOS</a></li>
<li><a href="../id473632/index.html">Kami melihat sebuah artikel tentang Habr</a></li>
<li><a href="../id473634/index.html">Lobb Comcast melarang enkripsi DNS</a></li>
<li><a href="../id473636/index.html">Unduh torrent 16GB via tablet dengan ruang kosong 4GB</a></li>
<li><a href="../id473640/index.html">Sunset Data Besar</a></li>
<li><a href="../id473642/index.html">Cribble Crabble Gradle: Auto Build</a></li>
<li><a href="../id473646/index.html">Hackathon di sebuah perusahaan kecil: cara mengatur tanpa membuang kereta sumber daya</a></li>
<li><a href="../id473648/index.html">Kuda itu mati - menangis: transisi dari tslint ke eslint</a></li>
<li><a href="../id473652/index.html">Membuat API REST dengan Node.js dan Oracle Database. Bagian 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>