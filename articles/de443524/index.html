<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¢ üîÑ üë®üèø‚Äçüç≥ Do-it-yourself-Flash-Animationen in Unity3D. Erster Teil, Lyrisch üëåüèΩ üê≠ üêè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In dieser Artikelserie werde ich dar√ºber sprechen, wie und warum wir beschlossen haben, eine eigene L√∂sung f√ºr den Import von Flash-Animationen in Uni...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Do-it-yourself-Flash-Animationen in Unity3D. Erster Teil, Lyrisch</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443524/"><p>  In dieser Artikelserie werde ich dar√ºber sprechen, wie und warum wir beschlossen haben, eine eigene L√∂sung f√ºr den Import von Flash-Animationen in Unity zu erstellen, √ºber Optimierungen und die interne K√ºche des resultierenden Plug-Ins.  Und auch im Programm: eine Geschichte √ºber die Innenseiten des SWF-Formats, die Funktionen der Unity-Editor-Erweiterung und allgemein √ºber Animationen im Allgemeinen.  Ich bitte um einen Schnitt! </p><br><img src="https://habrastorage.org/webt/q3/4s/r_/q34sr_45c9c6d5lygnzixa7jhwy.png"><br><a name="habracut"></a><br><h2>  Einf√ºhrung </h2><br><p> Zu Beginn eines jeden Projekts stehen f√ºr viele seiner Teile die Qualen der Wahl der Technologie.  Ein solcher Teil ist das Animationssystem.  Es gibt mehrere Variablen, von denen diese Auswahl abh√§ngt.  Erstens, mit was sind Ihre Animatoren gearbeitet (k√∂nnen) oder welche Werkzeuge dieser Animatoren sind f√ºr Sie leichter zu finden.  Es ist klar, dass es keinen Sinn macht, ein √§u√üerst spezifisches Produkt zu w√§hlen, denn wenn derzeitige Mitarbeiter aus dem einen oder anderen Grund (einem pl√∂tzlichen Bus?) Verlassen, wird es √§u√üerst schwierig sein, sie zu ersetzen. Ein Teil des Projekts wird einfach auf unbestimmte Zeit eingestellt, was im Fall eines kommerziellen Produkts der Fall ist kann sehr teuer sein.  Die zweite Variable ist technischer: Integration in Ihren Motor.  Gibt es L√∂sungen von Drittanbietern und die Qualit√§t dieser L√∂sungen, gibt es irgendeine St√§rke und F√§higkeit, meine eigenen zu erstellen, sowie die Produktivit√§t und den Komfort all der oben genannten.  Nun, die dritte Variable sind die Funktionen dieses Tools. Wenn Sie, Nasenbluten, eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">inverse Kinematik</a> ben√∂tigen, ist es absolut seltsam, eine Animation ohne Skelett zu w√§hlen. </p><br><h2>  Arten von 2D-Animationen </h2><br><p>  Betrachten Sie die beliebtesten Optionen zum Implementieren von Animationen in Spielen.  Ich werde nur √ºber 2D-Animationen, 3D-Animationen sprechen - dies ist das Thema einer v√∂llig anderen Konversation, Ans√§tze und Werkzeuge.  Sie k√∂nnen einen Abschnitt ohne Angst √ºberspringen, wenn Sie in diesen Angelegenheiten versiert sind (es wird keine Enth√ºllungen und keine Zusammenbr√ºche geben) oder wenn Sie nur Funktionen von Flash-Animationen betrachten m√∂chten. </p><br><h3>  Rahmenanimationen </h3><br><p>  Unser Mini-Review beginnt mit der einfachsten und √§ltesten Art von Animation: Einzelbildanimation.  Jedes Bild einer solchen Animation wird durch ein separates Bild dargestellt, bei dessen schneller √Ñnderung eine Illusion von Bewegung entsteht. </p><br><p>  <strong>Vorteile:</strong> </p><br><p>  Eine elementare Implementierung, normalerweise in jeder Engine.  Jede Komplexit√§t und jeder Stil von Animationen, zumindest einen Film auslegen und in Frames einf√ºgen (theoretisch nat√ºrlich).  Beliebige Werkzeuge: Fast alles kann Ihnen eine Folge von Rahmen geben, die bei Bedarf in einen Texturatlas eingeklebt werden k√∂nnen. </p><br><p>  <strong>Nachteile:</strong> </p><br><p>  Das Hauptminus ist nat√ºrlich die Gr√∂√üe dieses Materials im Speicher.  Nat√ºrlich gibt es alle m√∂glichen Tricks, wie das Schneiden von Frames in Bl√∂cke und das anschlie√üende Wiederverwenden wiederholter Bl√∂cke, das Laden von Frames von der Festplatte im Hintergrund und das Freigeben der bereits gezeigten und andere.  Aber diese Tricks haben ihre Nachteile.  Block Slicing - nur f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pixelkunst</a> und Hintergrundladen geeignet - erzeugt eine zus√§tzliche Last auf der Festplatte, nimmt viel Speicherplatz auf dieser Festplatte selbst ein und die Gr√∂√üe Ihres Spiels sowie die Menge der heruntergeladenen Daten, die gestartet oder aktualisiert werden sollen, nehmen zu. </p><br><p>  <strong>Gesamt:</strong> </p><br><p>  Nur f√ºr kleine Gr√∂√üen und Anzahl der Frames geeignet, ideal f√ºr Pixelkunst und den Stil von Retro-Spielen a la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NES</a> . </p><br><h3>  Videoanimationen </h3><br><p>  Als Apotheose des Wahnsinns von Einzelbildanimationen erscheinen Videoanimationen.  Und ja, es wird verwendet und sogar gelegentlich an den Ort.  Wir haben dies f√ºr Spiele im Genre " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wimmelbild</a> " f√ºr gro√üe und komplexe Animationen sowie f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schnittszenen</a> mit einem Hauch von Realismus implementiert.  Mit Hilfe von Codecs wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">theora</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vp8 k√∂nnen</a> Sie selbst ertr√§gliche Videoanimationen (und sogar mit einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Alphakanal</a> ) selbst implementieren. </p><br><p>  Die Pluspunkte hier sind nat√ºrlich, dass Sie in solchen Animationen alles zeigen k√∂nnen, was Ihr Herz begehrt, von gerichteten Szenen unter Beteiligung realer Schauspieler bis hin zu gerenderten 3D-Schlachten.  Die Nachteile sind die wilde Belastung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CPU</a> beim Decodieren und nat√ºrlich die Bildqualit√§t.  Sie k√∂nnen in sehr begrenzten und spezifischen F√§llen einen Kompromiss zwischen Qualit√§t und Leistung finden, wie beispielsweise in den oben f√ºr Hidden Object angegebenen Spielen. </p><br><p>  Im Allgemeinen ist es bei weitem nicht f√ºr jeden geeignet und bei weitem nicht oder eher fast nie, wenn wir gerenderte Schnittszenen nicht ber√ºcksichtigen - wo ist der Ort f√ºr solche ‚ÄûAnimationen‚Äú?  Eine gute Implementierung solcher Animationen kann sich auch nicht der Einfachheit r√ºhmen, es gibt viele Nuancen und Tricks, sowohl hinsichtlich der Qualit√§t des Ausgabebildes als auch der empfangenen Lasten auf dem Zentralprozessor.  Aufgrund der Spezifit√§t gibt es nur wenige vorgefertigte Implementierungen, sie unterscheiden sich auch nicht in der Qualit√§t oder sie kosten viel Geld (hi, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bink_Video</a> ), so viele schreiben ihre eigenen. </p><br><h3>  Skelettanimationen </h3><br><p>  Also kamen wir zu den beliebten und modernen Arten von 2D-Animationen.  Skelettanimationen erobern immer mehr die Herzen und Gedanken von Entwicklern im Bereich 2D und werden zur Standardanimation f√ºr Spiele.  Es ist lustig, dass sie in 2d vor relativ kurzer Zeit so weit verbreitet waren, im Gegensatz zu 3d, wo sie w√§hrend der Zeit von King Peas auftraten, als die V√§ter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Half-Life</a> schrieben.  Die Essenz von Skelettanimationen liegt seltsamerweise im Skelett, das einen Animator aus Knochen erzeugt, die durch eine Baumstruktur miteinander verbunden sind.  Fragmente werden in Form von separaten Bildern an den Knochen befestigt.  Die gesamte Struktur wird durch Verschiebungen und Rotationen der Knochen relativ zueinander in Bewegung gesetzt.  Die Verschiebungen und Rotationen der Knochen im Skelett folgen der allgemeinen Animationszeitleiste. </p><br><p>  Die Vorteile liegen auf der Hand: Wir m√ºssen nicht jedes Bild der Animation in Form von separaten Bildern speichern, sondern nur Fragmente (z. B. die Arme und Beine des Charakters), mit denen wir die Knochen des Skeletts bewegen.  Es gibt ausgezeichnete Implementierungen dieser Art von Animation mit Laufzeiten f√ºr die erforderlichen Plattformen und Engines, zu einem angemessenen Preis oder sogar kostenlos: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spine</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spriter</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anima2D</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DragonBones</a> und andere.  Dank des Skeletts und seiner Funktionen ist es m√∂glich, eine kolossale Gl√§tte der Animationen zu erreichen, indem die Positionen seiner Knochen interpoliert werden, √úberg√§nge von Animation zu Animation gemischt und sogar zwei verschiedene Animationen gemischt werden: Schie√üen auf der Flucht, Schie√üen auf Schleichen und so weiter.  Ich werde nicht alle M√∂glichkeiten der Skelettanimation auflisten, es gibt wirklich viele davon und sie sind sehr cool.  Ich gebe besser einen Link an, auf dem sie deutlich mit Bildern und Beschreibungen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf der Website von Spine</a> angezeigt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">werden</a> . </p><br><p>  Es sieht aus wie eine Silberkugel, aber nein.  Es gab einige Minuspunkte.  Machen Sie sofort einen Vorbehalt, dass f√ºr viele Projekte und Animationen diese Nachteile m√∂glicherweise nicht bestehen.  Wenn Skelettanimationen zu Ihnen passen - es ist gro√üartig, verwenden Sie sie, sie sind sch√∂n und modern. </p><br><p>  Kommen wir zur√ºck zu den Minuspunkten.  Eine zus√§tzliche Phase bei der Erstellung von Animationen ist das Rig (oder das Rigging, wie viele Begriffe in unserer Branche, wurde ebenfalls russifiziert).  Die Entstehung des Skeletts und die Bindung von Knochen an Fragmente.  Wenn das Objekt eine Animation hat und nicht mehrere, wie zum Beispiel den Charakter des Spiels im Genre " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Platformer</a> ", ist die B√ºhne v√∂llig √ºberfl√ºssig.  Nicht alle Animationen werden bequem mit Knochen animiert.  Es gibt viele Animationen, bei denen die Knochen im Weg sind, und ohne sie ist es bequemer und schneller, sowohl in Bezug auf die Erstellung als auch in Bezug auf die Spieleleistung.  Ein separater Artikel werde ich Spezialisten auf dem Markt herausnehmen.  Ihre Zahl w√§chst mit der Popularit√§t der Skelettanimation, aber es ist immer noch keine leichte Aufgabe, sie in Ihrem Team zu finden.  Die Verbreitung von Werkzeugen und Werkzeugen wirkt sich auch darauf aus, dass jemand daran gew√∂hnt ist und eins verwendet, jemand anderes, es ist notwendig, unterwegs umzuschulen, was zus√§tzliche Schwierigkeiten bei der Suche und Schulung von Mitarbeitern schafft. </p><br><h3>  Timeline-Animationen </h3><br><p>  Ich habe diese Art von Animation bis zum Ende gef√ºhrt, nicht weil sie besser ist als alle anderen, sondern weil es nur die Flash-Animationen √ºber die Innenseiten sind, die im technischen Teil des Artikels behandelt werden.  Flash ist nicht der einzige Vertreter dieser Art von Animation, aber sicherlich ihr Anf√ºhrer, daher wird alles in Bezug darauf beschrieben.  Timeline-Animationen bestehen aus Fragmenten, die in separaten Ebenen auf einer Timeline animiert werden.  Fast das gleiche, was wir in der Skelettanimation gesehen haben, aber ohne Skelett.  Entsprechend den Keyframes auf der Timeline k√∂nnen wir diese Frames verschieben, drehen, ersetzen, neue Fragmente in diese Frames zeichnen und nat√ºrlich Silbentrennung, Skalierung und Rotation zwischen ihnen interpolieren.  Das hei√üt, wir bewegen nicht die Knochen mit den angeh√§ngten Fragmenten, sondern die Fragmente selbst.  Nat√ºrlich verlieren wir viele der M√∂glichkeiten, die uns Skelettanimationen bieten, aber nicht jeder braucht sie.  Im Gegenzug erwerben wir andere, wie zum Beispiel: </p><br><ul><li>  die F√§higkeit, neue Fragmente in der Mitte der Animation zu zeichnen und einzuf√ºgen; </li><li>  kein Rig, keine Knochen, die manchmal nur st√∂ren; </li><li>  Adobe Flash (jetzt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Adobe Animate</a> ) ist das √§lteste und bew√§hrte Animationswerkzeug seit Jahren. Eine sehr gro√üe Anzahl von Animatoren besitzt es auf die eine oder andere Weise. </li><li>  Die M√∂glichkeit, alte Animationen beim √úbersetzen Ihrer Flash-Projekte in Unity zu verwenden, einschlie√ülich Animationen, die in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vektorgrafiken</a> und nicht nur in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rastergrafiken erstellt wurden</a> . </li></ul><br><p>  Ist der Blitz tot?  Als Spieler in Browsern - sicherlich als Werkzeug f√ºr Animationen - gibt es keine Alternativen und wird nicht erwartet.  Nachteile?  Nat√ºrlich.  Das Hauptminus ist, dass dies keine Skelettanimation ist, nicht wahr?  Wir haben keine M√∂glichkeit, Animationen miteinander zu mischen. Wir haben keine inverse Kinematik und √§hnliche F√§higkeiten, die nur dem Skelett eigen sind.  Aber wir haben Zeitleisten ineinander verschachtelt sowie Raster- und Vektormasken!  Alle Animatoren lieben Masken!  Hier ist zu erw√§hnen, dass in Spine zu k√ºrzlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Clipping-</a> Funktionen erschienen sind, die jedoch bisher nur geometrisch und im Vergleich zu Blitzmasken sehr begrenzt sind. </p><br><h3>  Zusammenfassung des Animationstyps </h3><br><p>  Nat√ºrlich habe ich nicht alle Arten von Animationen aufgelistet, nur die wichtigsten.  Zum Beispiel wurden die sogenannten prozeduralen Animationen zur√ºckgelassen, wenn Objekte oder ihre Fragmente nur durch Code in Bewegung gesetzt werden, aber es nicht m√∂glich ist, sie mit anderen zu kontrastieren, und ich wollte den Artikel nicht wirklich aufblasen, es ist besser, etwas spezielleres auf Animationen zu sehen um das Bild zu vervollst√§ndigen. </p><br><p>  Zusammenfassend.  Wie immer und in fast allem gibt es keine Silberkugel.  Sie m√ºssen das Projekt, die Aufgaben und die Personen ausw√§hlen.  Schlie√ülich hindert niemand jemanden daran, eine Art von Animation zu verwenden.  √úberall gibt es Projekte, bei denen alle Arten von Animationen gleichzeitig verwendet werden und alle gl√ºcklich sind.  Schnittszenen - Video, Charaktere - Skelett, Szenerie - Zeitachse, Emitterfl√ºge <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">von Partikelsystemen</a> - prozedural, die Partikel selbst in ihren Systemen - Bild f√ºr Bild.  Wir nehmen das Beste aus jedem Typ. </p><br><h2>  Die Qual der Wahl und die Entscheidung, selbst zu schreiben </h2><br><p>  Aus objektiven Gr√ºnden haben wir beschlossen, dass wir f√ºr unser Projekt Flash-Animationen ben√∂tigen.  Es stellte sich die Frage, ob sie in den Motor integriert werden sollen.  Nachdem wir verschiedene Optionen f√ºr Plugins ausprobiert hatten, entschieden wir uns f√ºr eine, die zu ihren F√§higkeiten passte, lebendig und unterst√ºtzend war und auch einen v√∂llig unbescheidenen Preis f√ºr eine Lizenz zwischen Lizenzen hatte, aber Sie k√∂nnen ein gutes Produkt tolerieren.  Ich werde absichtlich keine Namen nennen, um niemandem Werbung oder Anti-Werbung zu machen. </p><br><p>  Mit diesem Plugin lebten wir fast ein Jahr in der Entwicklung, in der die Details gekl√§rt wurden, die wir nicht weiter verwenden konnten.  Die Qualit√§t seiner Integration in die Einheit.  Dies alles f√ºhrte zu ehrlich gesagt schwerwiegenden Fehlern, von denen nicht gesagt werden konnte, dass sie einfach, schnell und ohne einen Kampf seitens der Entwickler behoben werden konnten, und zu einer schrecklichen Leistung auf den Zielger√§ten, und wir haben immer noch das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">iPad 2-</a> Level.  Dies geschah aufgrund der ungebildeten Integration in eine bestimmte Engine, der Unkenntnis ihrer Besonderheiten und Fallstricke. Wir waren mehr als zufrieden mit den M√∂glichkeiten, aber die Quellcodes weigerten sich, selbst in pers√∂nlicher Reihenfolge, zu √∂ffnen, und es wurde beschlossen, unsere Entscheidung zu schreiben. </p><br><p>  Ich hatte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einige</a> ziemlich erfolgreiche Erfahrungen mit dem Schreiben von Erweiterungen f√ºr Unity und wenig Erfahrung mit dem Konvertieren von Flash-Animationen in meine Formate.  Letzteres ist lange her, aber etwas wurde zur√ºckgerufen.  Am selben Ort wurde beschlossen, alles als Heimprojekt zu schreiben, um nicht vom Projekt oder von der Firma abh√§ngig zu sein, in der ich arbeite, und um ehrlich zu sein, wollte ich auch mein eigenes Produkt haben.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ausger√ºstet</a> mit einer 250-seitigen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SWF-Format-Spezifikation</a> ging ich in die Schlacht. </p><br><h2>  Exportoptionen </h2><br><p>  Zun√§chst lohnt es sich, Optionen zum Exportieren von Animationen aus dem Flash-Editor zu diskutieren.  Es gibt mehrere von ihnen, nat√ºrlich mit ihren Vor- und Nachteilen.  Lassen Sie uns die wichtigsten durchgehen. </p><br><h3>  .xfl-Format </h3><br><p>  Im Flash-Animationseditor ist es m√∂glich, die Animationsquelle in einem unkomprimierten .xfl-Format anstelle des standardm√§√üig angebotenen geschlossenen .fla-Formats zu speichern.  Das Format ist recht einfach, aber nicht dokumentiert.  Es besteht aus mehreren verschachtelten Verzeichnissen und einer Reihe von XML-Dateien, in denen alle Zust√§nde der darin gespeicherten Clips beschrieben werden.  Das Beschreibungsformat ist ebenfalls einfach und klar, hier ein Beispiel: </p><br><p>  <strong>static_clip.xml</strong> </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">itemID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5c719f28-00000051"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lastModified</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1550950184"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Layer_1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#00FFFF"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">current</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isSelected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"9728"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMBitmapInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">selected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bitmap.png"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i>Link zur Quelle</i></a> <br><blockquote><p>  Hier haben wir einen statischen Clip <code>static_clip</code> mit einer Ebene <code>Layer_1</code> und einem Frame, in dem sich eine Bitmap namens <code>bitmap.png</code> . </p></blockquote><p>  <strong>movie_clip.xml</strong> </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"movie_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">itemID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5c719f30-00000053"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lastModified</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1550950713"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"movie_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Layer_1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#00FFFF"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">current</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isSelected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">duration</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tweenType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"motion"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">motionTweenSnap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"22017"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Matrix</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ty</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-50"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"28.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"27.5"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tweenType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"motion"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">motionTweenSnap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"22017"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">centerPoint3DX</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"128.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">centerPoint3DY</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"127.5"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Matrix</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ty</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"28.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"27.5"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i>Link zur Quelle</i></a> <br><blockquote><p>  Hier beschreiben wir den Animationsclip <code>movie_clip</code> , der zwei Keyframes mit den Indizes 0 bzw. 4 enth√§lt.  Die Frames enthalten unseren statischen Clip <code>static_clip</code> an den Koordinaten <code>(-50;-50)</code> und <code>(100;100)</code> .  Zwischen Frames gibt es Bewegungs-Tween (prozedurale Animation, in unserem Fall nur eine √úbertragung ohne Skalierung und Drehung). Die Position eines statischen Clips zwischen Keyframes kann durch lineare Interpolation von Koordinaten aus diesen Frames erhalten werden. </p></blockquote><p>  Nat√ºrlich wird alles in echter Animation sein, √§hm ... etwas komplizierter und umfangreicher, aber Sie k√∂nnen alles ohne Dokumentation herausfinden.  Es scheint, dass es hier Gl√ºck ist.  Und ich kenne mehrere Projekte und Unternehmen, die diesen Weg recht erfolgreich gegangen sind, aber mit einigen Einschr√§nkungen und Schwierigkeiten.  Diese Schwierigkeiten sind die Fliege in der Salbe .xfl, n√§mlich: </p><br><ol><li>  Tweens (Tweens, so russifiziert er konnte) sind sehr unterschiedlich, sowohl einfach: mit linearer Interpolation als auch komplexer: mit benutzerdefinierten Funktionen und Graphen dieser Interpolation, Morphing von Vektorgrafiken auf Zwillingen, mit ihren eigenen Regeln nur f√ºr Makromedia und Adobe; </li><li>  Vektorgrafiken werden wie alle Animationen mit Ausnahme von Rastergrafiken beispielsweise in Textform beschrieben.  Dementsprechend ist es notwendig, einen eigenen Rasterizer zu schreiben, was aufgrund der Komplexit√§t und Merkmale des Vektors im Flash in der Praxis nicht m√∂glich ist. </li><li>  Die Regeln f√ºr das Abspielen von Animationen, einschlie√ülich verschachtelter Animationen, m√ºssen Sie sich von Grund auf neu √ºberlegen. Es gibt keine Dokumentation daf√ºr und wann welcher Frame angezeigt werden soll, was in welchen Situationen zu optimieren ist und was ohne Interpolation zu belassen ist - es muss noch durch lange Experimente bestimmt werden, um alle m√∂glichen F√§lle abzudecken Testl√§ufe, die f√ºr eine allgemeine und keine private L√∂sung eine nicht triviale √úbung sind. </li></ol><br><p>  Dies sind nicht alle Schwierigkeiten dieses Ansatzes, aber sie reichen aus, um zu verstehen, dass eine allgemeine L√∂sung nur mit starken Vorbehalten geeignet ist.  Es war einmal, als ich diesen Weg f√ºr eines der Projekte eingeschlagen habe, an denen ich teilgenommen habe.  Es gab Flash-Schnittszenen mit klassischen Zwillingen (ohne benutzerdefinierte Interpolationsregeln und spezielle Funktionen dieser Interpolation), nur Bitmap-Grafiken und ohne andere erweiterte Funktionen, die der Flash-Editor bietet.  Die private L√∂sung wurde recht schnell und effizient geschrieben, aber die Animatoren mussten stark eingeschr√§nkt werden, damit sie nichts mehr oder weniger kompliziertes verwendeten.  Der Ansatz hat das Recht auf Leben und es gibt mehrere Bibliotheken mit unterschiedlichem Grad an Vernachl√§ssigung, basierend darauf, aber wie gesagt, mit vielen Vorbehalten und Einschr√§nkungen. </p><br><h3>  .jsfl-Skripte </h3><br><p>  Eine andere, fast funktionierende Option besteht darin, Informationen √ºber unsere Animationen zu erhalten.  Mit jsfl-Skripten k√∂nnen Sie den Flash-Editor erweitern, mit seiner Umgebung interagieren, die Animation √§ndern und nat√ºrlich alle erforderlichen Informationen zu Zeitleisten, Ebenen, Clips und Frames darin abrufen.  Und es wird auch von Animatoren verwendet, um verschiedene Aktionen zu automatisieren, aber dies ist eine Geschichte aus einem benachbarten Buch.  Im Allgemeinen ist der Ansatz mit allen Nachteilen des vorherigen Ansatzes ausgestattet, daher werde ich nicht weiter darauf eingehen. Ich kann nur sagen, dass Sie damit unsere gesamte Animation in Form von beispielsweise Einzelbildanimationen entladen k√∂nnen, und dies ist nicht der Weg eines echten Jedi (aber nat√ºrlich) findet in einigen Projekten statt).  Wir werden in dem von mir gew√§hlten Ansatz auf diese Skripte zur√ºckkommen: Vektorgrafiken rastern und ausgelagerte Animationen optimieren. </p><br><h3>  AIR-Anwendung </h3><br><p>  Dieser Ansatz funktioniert jedoch bereits und kann so verwendet werden, wie er sollte.  Ich habe es nicht gew√§hlt, aber als Referenz werde ich diese Option geben.  Das Wesentliche des Ansatzes ist, dass wir eine AIR-Anwendung auf Flash selbst oder f√ºr √Ñsthetiker beispielsweise auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Haxe</a> erstellen, die alle Informationen aus einer Animation abruft, die bereits in einem SWF-Format kompiliert wurde.  Wir spielen die Animation Frame f√ºr Frame in unserer Anwendung ab, erhalten alle Frame-Informationen und speichern sie in dem Format, das wir f√ºr unsere Laufzeit ben√∂tigen.  Hier werden alle oben genannten Probleme gel√∂st: </p><br><ul><li>  Vektorgrafiken m√ºssen nicht gerastert werden, die Flash-Laufzeit erledigt dies f√ºr uns. Es bleibt nur, diese Informationen abzurufen und das Rasterergebnis von Vektorfragmenten zu speichern. </li><li>  Der Flash-Player in der AIR-Anwendung muss keine Regeln f√ºr das Spielen und die benutzerdefinierte Doppelinterpolation festlegen. Er wei√ü genau, wie das geht, und erledigt fast alles f√ºr uns. </li></ul><br><p>  Als Bonus haben wir die M√∂glichkeit, Frame-Skripte in Animationen zu verwenden (alle Arten von <code>play()</code> , <code>stop()</code> und anderen <code>gotoAndPlay()</code> , einige Animatoren lieben sie sehr).  Der Nachteil ist die Unf√§higkeit, die in den Flash selbst geloopten Animationen zu exportieren. Dies spielt jedoch keine Rolle, da Sie sie bereits in Ihrer Laufzeit schleifen k√∂nnen und die Animatoren bitten, alles darauf vorzubereiten. </p><br><p>  Es ist erw√§hnenswert, dass ich sicher bin, dass alles etwas komplizierter sein wird, als es in meiner Beschreibung klingt, da ich pers√∂nlich nicht dorthin gegangen bin, sodass ich Ihnen die Details nicht sagen kann.  Lassen Sie diejenigen, die diesen Weg gegangen sind, ihre Erfahrungen teilen, mit Vergn√ºgen lesen wir √ºber ihre Freuden und Schwierigkeiten! </p><br><h3>  Eigener Flash Player </h3><br><p>  Dies ist wahrscheinlich die ehrlichste, offensichtlichste und einfachste Option von allen, aber auch die schwierigste.  Am Ende ist dies das, was ein echter Flash-Player tut, was die meisten von uns in ihrem Lieblingsbrowser als Erg√§nzung dazu haben.  Beliebte Vertreter dieses Genres: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gameswf</a> und, gewachsen aus dem vorherigen, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">scaleform</a> .  Beide sind jetzt tot.  Es ist interessant, dass sie haupts√§chlich zur Implementierung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GUI</a> in verschiedenen Projekten verwendet wurden, einschlie√ülich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AAA</a> .  Wir interessieren uns jedoch f√ºr die interne Struktur, nicht f√ºr die spezifischen Anwendungen toter Bibliotheken. </p><br><p>  Jeder Flash-Player mit Selbstachtung hat mindestens Folgendes an Bord: </p><br><ul><li>  Parser des SWF-Formats; </li><li>  Rasterizer-Vektorgrafiken; </li><li>  Implementierung einer virtuellen Maschine zum Ausf√ºhren von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ActionScript-</a> Code; </li><li>  Implementierung einer Standardbibliothek f√ºr Benutzercode; </li></ul><br><p>  In jedem dieser Punkte geht es darum, was passiert, wenn es m√∂glich ist, es zu implementieren. Dann m√ºssen Sie mehr als ein Team f√ºr diese Aufgabe wechseln und mehrere Jahre Entwicklungszeit auf die Mindestversion umstellen.  Selbst die Implementierung einer kleinen Rolle, die ausreicht, um etwas zu spielen, wird viel Zeit in Anspruch nehmen, und die zus√§tzlichen Schwierigkeiten in Form so vieler undokumentierter Teile dieser gesamten Pipeline werden diese bereits gro√üe Zeit verdoppeln. </p><br><p>  Ja, das Netzwerk ist voll von Versuchen, jeden dieser Teile zu implementieren, mit unterschiedlichem Grad an Vernachl√§ssigung und Verschlechterung.  Es ist jedoch nicht einmal m√∂glich, diese Entwicklungen als Grundlage zu verwenden. Es wird nur Jahre dauern, um Fehler zu erkennen und ungeschriebene Komponententests zu schreiben, bevor festgestellt wird, dass dies nicht in vollem Umfang funktioniert.  Diejenigen, die versucht haben, gameswf mit den notwendigen F√§higkeiten zu erg√§nzen, verstehen, wovon ich spreche.  Ein ehrlicher Flash-Player muss Vektorgrafiken auch nicht im Voraus, sondern zur Laufzeit rastern, was sich auf einen solchen Leistungseinbruch auswirkt, dass nicht jedes Projekt √ºberleben kann.  Ich nutze diese Gelegenheit, um den √úberlebenden, die Scaleform auf Mobilger√§ten verwendet haben, meine Gr√º√üe zu √ºbermitteln.  Im Allgemeinen der d√ºsterste und hoffnungsloseste Weg, nicht unsere Wahl. </p><br><h3>  Wir kombinieren Ans√§tze </h3><br><p>  Also kam ich endlich zu meiner Wahl.  Nachdem ich die m√∂glichen Wege untersucht hatte, wurde eine interessante Kombination f√ºr mich gezogen.  Relativ einfach zu implementieren, f√ºr eine Person in der Lautst√§rke machbar und gleichzeitig funktional genug, um die Anforderungen der meisten 2D-Timeline-Animationen zu erf√ºllen. </p><br><p>  Erstens werden wir die in swf kompilierte Animation verwenden, um keine verschiedenen Wiedergabeoptionen zu finden und fast nie zu erraten, wie der Flash Player von innen funktioniert, da wir nicht alle m√∂glichen F√§lle abdecken k√∂nnen, aber wir versuchen, eine allgemeine L√∂sung zu schreiben.  Au√üerdem entfernt der Flash-Editor alle Zwillinge, die in der Animation verwendet wurden, und repr√§sentiert im kompilierten SWF geschickt die blo√üen Positionen der Fragmente. </p><br><p>  Zweitens verbieten wir die Verwendung von Skripten in Animationen.  Ja, dies ist eine sehr schwierige und traurige Anforderung, aber ich habe kein Team von Programmierern, um eine ehrliche virtuelle Maschine und eine Standardbibliothek zu implementieren, die ich fast blind schreiben m√ºsste.  Hier ist nat√ºrlich das Minus meines Ansatzes gegen√ºber dem Ansatz sichtbar, bei dem die AIR-Anwendung verwendet wurde, da in letzterem einige Skripte f√ºr die interne Animationswiedergabe verwendet werden k√∂nnten.  Auf der anderen Seite wird die Erstellung guter Animationen nicht beeintr√§chtigt.  Um benutzerdefinierte Informationen aus der Animation in das Spiel zu √ºbertragen, k√∂nnen Sie die sogenannten <code>frame labels</code> , die im Code sichtbar sind, und benutzerdefinierte Ereignisse in Form von R√ºckruffunktionen, die bereits zur Laufzeit verwendet werden, an bestimmte Frames h√§ngen. </p><br><p>  Drittens m√ºssen wir nicht mehr unseren eigenen Rasterizer f√ºr Vektorgrafiken schreiben, da wir keinen f√ºr den allgemeinen Fall schreiben k√∂nnen, um alle Optionen und Funktionen des Vektors in Flash abzudecken.  Stattdessen werden wir die Grafiken mithilfe eines jsfl-Skripts in (!) Compilation rasteren.  Gleichzeitig optimieren wir mithilfe dieses Skripts unsere Vektorgrafiken, indem wir statische Clips zu einem Bild zusammenf√ºhren, die resultierenden Bitmap-Bilder f√ºr unsere Anforderungen reduzieren oder erh√∂hen: Qualit√§t und / oder Leistung.  Hier sei auch auf die verschiedenen Optionen f√ºr die Qualit√§t / Aufl√∂sung von Kunstwerken f√ºr Ger√§te mit unterschiedlichen Pixeldichten auf dem Bildschirm (z. B. HD- und SD-Kunstwerke) hingewiesen. </p><br><h2>  Der Abschluss des lyrischen Teils </h2><br><p>  Damit ist der erste Teil des Artikels abgeschlossen.  Im zweiten Teil werden technische Implementierungsdetails, Codeteile, Bilder (!), Optimierungen, Tricks und Tricks aufgef√ºhrt.  Verpassen Sie es nicht, wenn Sie bald auf Ihren Bildschirmen erscheinen!  Am Ende werde ich einige interessante Links mit Informationen zur Verwendung von Flash-Animationen von Kollegen geben, zum Gl√ºck von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ZeptoLab</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Playrix</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de443524/">https://habr.com/ru/post/de443524/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de443514/index.html">Schreiben Sie Ihre Netzwerkschicht in Swift: Protokollorientierter Ansatz</a></li>
<li><a href="../de443516/index.html">Hacker Geohot hat beschlossen, Menschen von der KI-Simulation zu befreien</a></li>
<li><a href="../de443518/index.html">RBKmoney Zahlungen unter der Haube - Microservices, Protokolle und Plattformkonfiguration</a></li>
<li><a href="../de443520/index.html">W√§hlen Sie ein Auto f√ºr einen IT-Spezialisten oder Tipps f√ºr Teekannen aus einer Teekanne</a></li>
<li><a href="../de443522/index.html">Hosting: Optionen, Vergleiche, Benutzerstatistiken</a></li>
<li><a href="../de443526/index.html">Von Algorithmen zu Krebs: Vorlesungen an der School of Bioinformatics</a></li>
<li><a href="../de443528/index.html">Amazon hat Open Distro f√ºr Elasticsearch ver√∂ffentlicht</a></li>
<li><a href="../de443530/index.html">Weiterentwicklung der Datenbankinfrastruktur: Von Datenbank und Anwendung auf einem Server zur Streaming-Replikation</a></li>
<li><a href="../de443532/index.html">5 Merkmale von Metallpulvern f√ºr den 3D-Druck</a></li>
<li><a href="../de443534/index.html">Compute Express Link - Verbindung f√ºr Big Data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>