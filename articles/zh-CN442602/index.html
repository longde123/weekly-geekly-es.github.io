<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤¹ğŸ½ ğŸ· ğŸ‘´ğŸ¼ é€Ÿåº¦é™ä½é€Ÿåº¦ä¼šé™ä½å—ï¼Ÿ ğŸ’´ ğŸ›€ğŸ» â¤µï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä¸ä¹…å‰ï¼Œå¼€å§‹è®¨è®ºä»¥è¶…é€Ÿ10å…¬é‡Œ/å°æ—¶çš„é€Ÿåº¦ç½šæ¬¾ã€‚ ä¼ ç»Ÿä¸Šï¼Œå®ƒä»¬æ˜¯é’ˆå¯¹Internetè¿›è¡Œçš„éç ´åæ€§æ“ä½œï¼Œå› æ­¤ï¼Œæˆ‘é€šå¸¸ä¸æ”¯æŒæ­¤ç±»æ‰‹æ®µçš„ä»»ä½•æ–¹é¢ã€‚ 

 å¤§ä¼—æ±½è½¦æ‹¥æŠ¤è€…çš„è®ºç‚¹ç®€åŒ–ä¸ºâ€œæˆ‘éœ€è¦â€ï¼Œè¿™å½“ç„¶æ˜¯ä¸ä¸€æ ·çš„ã€‚ æ¯å¤©è¢«è¿«å¼€è½¦50å…¬é‡Œç©¿è¿‡å…¬å…±äº¤é€šä¸è¦†ç›–çš„åœ°ç‚¹çš„å·¥ä½œäººå‘˜ä¸­ï¼Œæœ‰ç›¸å½“ä¸€éƒ¨åˆ†ä¸ä½äºé©¾è½¦å‰å¾€â€œé¢åŒ…æˆ¿...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>é€Ÿåº¦é™ä½é€Ÿåº¦ä¼šé™ä½å—ï¼Ÿ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442602/"><img src="https://habrastorage.org/webt/nz/nh/bl/nznhbl9nugodw2fprkrhxvu3sda.jpeg" alt="å›¾ç‰‡"><br><br> ä¸ä¹…å‰ï¼Œå¼€å§‹è®¨è®ºä»¥è¶…é€Ÿ10å…¬é‡Œ/å°æ—¶çš„é€Ÿåº¦ç½šæ¬¾ã€‚ ä¼ ç»Ÿä¸Šï¼Œå®ƒä»¬æ˜¯é’ˆå¯¹Internetè¿›è¡Œçš„<i>é</i>ç ´åæ€§æ“ä½œï¼Œå› æ­¤ï¼Œæˆ‘é€šå¸¸ä¸æ”¯æŒæ­¤ç±»æ‰‹æ®µçš„ä»»ä½•æ–¹é¢ã€‚ <br><br> å¤§ä¼—æ±½è½¦æ‹¥æŠ¤è€…çš„è®ºç‚¹ç®€åŒ–ä¸ºâ€œæˆ‘éœ€è¦â€ï¼Œè¿™å½“ç„¶æ˜¯ä¸ä¸€æ ·çš„ã€‚ æ¯å¤©è¢«è¿«å¼€è½¦50å…¬é‡Œç©¿è¿‡å…¬å…±äº¤é€šä¸è¦†ç›–çš„åœ°ç‚¹çš„å·¥ä½œäººå‘˜ä¸­ï¼Œæœ‰ç›¸å½“ä¸€éƒ¨åˆ†ä¸ä½äºé©¾è½¦å‰å¾€â€œé¢åŒ…æˆ¿â€çš„äººçš„æ¯”ä¾‹ï¼Œè¿™å¯ä»¥ä»æ—©ä¸Šä¸€å¼€å§‹å°±ç•™åœ¨è¿™äº›æœºå™¨ä¸Šæ¸…æ¥šåœ°çœ‹å‡ºå°é›ªã€‚ <br><br> éƒ½å¸‚ä¸»ä¹‰è€…ç»å¸¸å¬åˆ°ä¸€äº›å•æ–¹é¢çš„è®ºç‚¹ï¼Œä¸€äº›æ¬§æ´²å›½å®¶çš„ç§äººå…¸èŒƒï¼Œè¿™äº›å›½å®¶çš„äººå£æœ‰æ—¶å¯ä»¥ä¸è«æ–¯ç§‘çš„æ—¥å¸¸äº¤é€šé‡ç›¸æå¹¶è®ºã€‚ <br><br> å½“å‘ç”Ÿè¿™ç§æƒ…å†µæ—¶ï¼Œæ²¡æœ‰ä»€ä¹ˆæ¯”æ”¾ä¸‹å…¶ä»–äººçš„æƒ…æ„Ÿå¹¶æ‹œè®¿ä¸¤ä¸ªå…¬æ­£çš„åŠ©æ‰‹-Matanå’ŒPythonæ›´å¥½çš„äº†ã€‚ <br><a name="habracut"></a><br> è½¦ä¸»åœ°ä½çš„å¼±ç‚¹-ä»–ä»¬æ²¡æœ‰æå‡ºè§£å†³é—®é¢˜çš„æ–¹æ³•ï¼ˆæˆ‘è®¤ä¸ºè§£å†³æ–¹æ¡ˆæ˜¯å–æ¶ˆå¤§åŸå¸‚å’Œå‘è¾¾åœ°åŒºä¸­æ¯å—å…è´¹åœŸåœ°çš„è‡ªå‘å¼€å‘ï¼Œè¿™æ ·äººä»¬å°±ä¸å¿…å¤„â€‹â€‹ç†åŠ³åŠ¨åŠ›è¿ç§»åˆ°å…¶ç¥–å›½é¦–éƒ½çš„é—®é¢˜ï¼Œä½†æ˜¯æˆ‘æ˜¯è°ä¾‹å¦‚æä¾›è¿™ç±»ä¸œè¥¿ï¼Ÿï¼‰ã€‚ éƒ½å¸‚ä¸»ä¹‰è€…æ€»æ˜¯æœ‰ä¸€å¥—ç”±æ•°æ®æ”¯æŒçš„è®ºç‚¹å’Œäº¤é’¥åŒ™è§£å†³æ–¹æ¡ˆã€‚ ä½†æ˜¯æœ‰æ—¶è¿™äº›æ˜¯å¯¹ä¸¥è‚ƒåˆ¶åº¦çš„ç ”ç©¶ï¼Œæœ‰æ—¶å¦‚æœæ²¡æœ‰é€‚å½“çš„å®šé‡åˆ†é…ï¼Œç»Ÿè®¡æ•°å­—å°±ä¸å¤ªå®¹æ˜“ç†è§£ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™äº›æ•°æ®æ¨åŠ¨äº†åŸå¸‚é€Ÿåº¦æ™®éä¸‹é™çš„æƒ³æ³•ã€‚ å¥¹æœ€èµæˆçš„è®ºç‚¹æ˜¯ï¼š <br>  <b>â€œæ— è®ºå¦‚ä½•ï¼Œç”±äºäº¤é€šä¿¡å·ç¯ï¼Œæ‚¨ä¸èƒ½ä¸€ç›´ä»¥æœ€å¤§é€Ÿåº¦è¡Œé©¶ï¼Œæ‚¨çš„å¹³å‡é€Ÿåº¦å°†ä½äºå…è®¸çš„é€Ÿåº¦ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¸é™ä½ç¨å¾®å…è®¸çš„é€Ÿåº¦å‘¢ï¼Ÿâ€</b> <br><br>  â€œå—¯ï¼Œâ€æˆ‘ä¸€ç›´æƒ³èµ·è¿™ç§è¯´æ³•ã€‚ å¦‚æœé™ä½å…è®¸çš„æœ€å¤§å€¼ï¼Œåˆ™å¹³å‡å€¼ä¹Ÿä¼šç•¥æœ‰ä¸‹é™ã€‚ è¿™è¯æ˜äº†ä»€ä¹ˆâ€“å¯ä»¥å†æ¬¡å‡å°‘ï¼Ÿ è¿™<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ˜¯</a>ä»€ä¹ˆç±»å‹çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¤±è¯­ç—‡</a> ï¼Ÿ æ‚¨éœ€è¦æ£€æŸ¥è¿™æ˜¯å¤šä¹ˆçœŸå®ã€‚ <br><br> æˆ‘è°¨å‘æ‚¨ä»‹ç»å¦ä¸€ç¯‡æ–‡ç« ï¼Œä»¥å»ºè®¾æ€§çš„æ–¹å¼åœ¨è¯„è®ºä¸­æå‡ºæ‰¹è¯„ï¼š <br><br>  -æ˜¯çš„ï¼Œæˆ‘çŸ¥é“ä»£ç çš„ç¼–å†™å¾ˆä¸‘é™‹ï¼Œä½†æ˜¯å¯¹æˆ‘æ¥è¯´æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒå¯ä»¥æ­£å¸¸å·¥ä½œï¼Œæˆ‘è‡ªå·±ä¹Ÿä¸æ˜¯ç¨‹åºå‘˜ï¼Œå› æ­¤æœ€å¥½åœ¨PMä¸­ç¼–å†™æœ‰å…³ä»£ç çš„æ³¨é‡Šã€‚ <br>  -æ˜¯çš„ï¼Œæˆ‘çŸ¥é“æ¨¡æ‹Ÿå¯èƒ½ä¼šå˜å¾—æ›´åŠ å›°éš¾ï¼Œæ›´åŠ å…¨é¢å’Œæ›´åŠ ç°å®ã€‚ ä½†æ˜¯æˆ‘ä¸ä¼šæ¥å—è¿™æ ·çš„æŒ‡è´£ï¼Œå³ç™½å¤©çš„äº¤é€šå¯†åº¦æ²¡æœ‰å˜åŒ–ï¼Œä¸åŒçš„æ±½è½¦æœ‰ä¸åŒçš„åŠ¨åŠ›ï¼Œå¤©æ°”æƒ…å†µï¼Œ <s>æœˆç›¸ï¼Œä½œè€…çš„æ¯äº²</s> ï¼Œä½†æ˜æ™ºçš„è¨€è®ºï¼Œç®—æ³•ç¼ºé™·çš„è¿¹è±¡ï¼Œé’ˆå¯¹ä»»ä½•æœªè€ƒè™‘æƒ…å†µçš„æ¨¡å‹ä¿®æ”¹ã€‚ ä»¥æˆ‘çš„ç†è§£ï¼Œä»æ•°å­¦çš„è§‚ç‚¹å‡ºå‘ï¼Œå›ç­”ä¸€ä¸ªç®€å•çš„é—®é¢˜å°±è¶³å¤Ÿäº†ï¼š <i>é‰´äºäº¤é€šä¿¡å·ç¯é€ æˆçš„å¼ºçƒˆè¿åŠ¨ç¦»æ•£æ€§ï¼Œå„ä¸ªè·¯æ®µçš„æœ€å¤§å…è®¸é€Ÿåº¦çš„é™ä½æ˜¯å¦ä¼šä¸¥é‡å½±å“è¡Œé©¶æ—¶é—´ï¼Ÿ</i> <br><br> æˆ‘çš„æ¨¡å‹çš„æœ¬è´¨å¾ˆç®€å•ã€‚ ç”±äºäº¤é€šä¿¡å·ç¯æ˜¯ç°æˆçš„ç¨‹åºå‘¨æœŸï¼Œå› æ­¤æ¨¡æ‹Ÿæ˜¯å›´ç»•é“è·¯çš„ä¸€éƒ¨åˆ†å»ºç«‹çš„ï¼Œäº¤é€šä¿¡å·ç¯çš„æœ«ç«¯å’Œå„ä¸ªé˜¶æ®µå‡å¤„äºè¯¥çŠ¶æ€ã€‚ ä¸‹ä¸€æ¬¡è¿­ä»£æ˜¯è·¯çº¿çš„ä¸‹ä¸€æ®µï¼Œå…¶é•¿åº¦ï¼Œå…è®¸çš„é€Ÿåº¦ä»¥åŠç»ˆç‚¹å¤„çš„äº¤é€šä¿¡å·ç¯ç›¸ä½ã€‚ <br> èµ›è½¦åˆ†ä¸ºä¸‰ä¸ªè¿åŠ¨é˜¶æ®µï¼šåŒ€é€ŸåŠ é€Ÿï¼Œä»¥ç»™å®šè·¯æ®µå…è®¸çš„æœ€å¤§é€Ÿåº¦è¿åŠ¨ï¼ŒåŒæ ·ç¼“æ…¢ã€‚ å®ƒä»¬ä»¥9ä¸ªç‰ˆæœ¬å®ç°ã€‚ <br><br><ul><li> å¦‚æœæ±½è½¦ä»¥å…è®¸çš„ç›¸åŒé€Ÿåº¦ç§»åŠ¨åˆ°å½“å‰è·¯æ®µï¼Œåˆ™å®ƒä¼šç§»åŠ¨è€Œä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼› </li><li> å¦‚æœä»–èµ°å¾—æ›´æ…¢ï¼ˆæˆ–ç«™ç€ï¼‰-é‚£ä¹ˆä»–é¦–å…ˆä¼šåŠ é€Ÿï¼› </li><li> æ²¡æœ‰é€‰é¡¹â€œä»–ç§»åŠ¨å¾—æ›´å¿«â€ï¼Œè¿™å°±æ˜¯åŸå› ï¼šå¦‚æœä¸‹ä¸€ä¸ªæ®µä¸­å…è®¸çš„é€Ÿåº¦è¾ƒä½ï¼Œä»–ä¼šé™ä½é€Ÿåº¦ã€‚ è¿™åˆä¹é€»è¾‘å—ï¼Ÿ </li></ul><br> æ›´å¤šé€‰é¡¹æ·»åŠ åˆ°è¿™äº›é€‰é¡¹ï¼š <br><br><ul><li> æ±½è½¦åœ¨è¡Œé©¶æˆ–å‡é€Ÿæ—¶è¡Œé©¶ï¼Œå¹¶ä»¥çº¢è‰²åˆ°è¾¾åˆ†æ®µçš„ç»“å°¾ã€‚ è¿™æ„å‘³ç€æ‚¨éœ€è¦åœ¨äº¤é€šä¿¡å·ç¯å‰åœè½¦ã€‚ å‡è®¾å®ƒæ€»æ˜¯ä»¥ç›¸åŒçš„åŠ é€Ÿåº¦å‡é€Ÿï¼Œæˆ‘ä»¬æ¨è¿Ÿäº†ä»çº¢ç»¿ç¯åˆ¶åŠ¨æ‰€éœ€çš„è·¯å¾„ã€‚ ç±»ä¼¼äºé£æœºçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸´ç•Œèµ·é£é€Ÿåº¦ï¼Œ</a>è¿™æ˜¯ä¸´ç•Œè·ç¦»ã€‚ ç°åœ¨ï¼Œå¦‚æœæ ¹æ®æ¡ä»¶æ±½è½¦ä»çº¢ç¯é€šè¿‡ï¼Œåˆ™åº”è¯¥ä»ä¸´ç•Œç‚¹å¼€å§‹å‡é€Ÿè‡³é›¶ï¼› </li><li> è¯¥æ­»çš„ï¼Œæˆ–è€…é‚£æ®µè·¯å¤ªçŸ­ï¼Œæˆ–è€…é‚£è¾†è½¦å¤ªè”¬èœäº†ï¼Œä»¥è‡³äºæ²¡æœ‰æ—¶é—´åœ¨Skritå‘ä½œä¹‹å‰è·å¾—æœ€å¤§çš„é€Ÿåº¦ï¼Ÿ å°½ç®¡ç¨‹åºä»–ä»ç„¶éœ€è¦åœ¨äº¤é€šä¿¡å·ç¯å‰æ”¾æ…¢é€Ÿåº¦ï¼Œä½†ç¨‹åºbaganetä»åœ¨ç»§ç»­åˆ†æ•£ï¼Ÿ å¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°†è¿«ä½¿ä»–ä¸è¦é€‰æ‹©é«˜äºScritç‚¹æ‰€è¾¾åˆ°çš„é€Ÿåº¦ï¼Œç„¶åæˆ‘ä»¬å°†æ‰§è¡Œå…¶ä¸­ä¸€ç§é€‰æ‹©ã€‚ ç»“æœå¦‚ä¸‹ï¼š <br><br><img src="https://habrastorage.org/webt/oc/no/xl/ocnoxlxpzrecydlds3plkp0qcz0.jpeg" alt="å›¾ç‰‡"></li></ul><br> ç„¶åï¼Œæ‚¨éœ€è¦åœ¨ä»£ç ä¸­å®ç°å®ƒã€‚ è¿™æ˜¯æˆ‘çš„æ“ä½œæ–¹å¼ï¼Œå¹¶æä¾›äº†è¯¦ç»†çš„è¯„è®ºï¼š <br><br><div class="spoiler">  <b class="spoiler_title">å°åº¦æ•™æ¨¡å¼</b> <div class="spoiler_text"><pre><code class="python">import random
import math

#  :
redlight = ("100",
            "10",
            "90",
            "1", #   "-" .       .   1   
            "1") #  1  ,   0.          .      .
#  :
greenlight = ("30",
              "120",
              "30",
              "1",
              "1")
#   :
distance = ("400",
            "400",
            "250",
            "500",
            "500")
#   
velocity = ("60",
            "60",
            "60",
            "60",
            "40")

#-  
r=0
g=0
d=0
v=0


#  :
vcurrent=float(0)
#    :
t=0
#    :
gtime=0
#,      100 /  15 .
#      :
accel=float(100/(3.6*15))
#,      .
#      :
decel = float(accel*2)

#     ,   ( ,    0):
while r&lt;=2:
    red=float(redlight[r])
    grn=float(greenlight[g])
    dis=float(distance[d])
    vel=float(float(velocity[v])/3.6)
    vnext=float(float(velocity[v+1])/3.6)
    #         accel     :
    #saccel = float(((vcurrent*vel-vcurrent)/accel) + ((vel-vcurrent)*((vel-vcurrent)/(2*accel)
    saccel = float((vcurrent*(vel-vcurrent)/accel) + (vel-vcurrent)*(vel-vcurrent)/(2*accel))
    # :     ,           decel:
    scrit = float(dis-(vel/decel) - (vel*vel)/(2*decel))
# ,        .
#         :
    startingred = random.randint(0, (int(grn)-1))
    print ("startingred= ", startingred)
    
    #    ,    __  -      :
    if vcurrent == vel:
        
        #         ,   ,     :
        if vnext&gt;= vcurrent:
            t = int (dis/vel)
            # ,   :
            if (t+startingred)%(red+grn)&lt;=red:
                t = int (scrit/vel + (vel/decel) + red-((t+startingred)%(red+grn))) ### 2
                vcurrent = 0
                print ("        , ")
                
            # ,  :
            else:
                t = int (dis/vel)### 1
                vcurrent = vel
                print ("        , ", " v=", vcurrent)
                
        #       ,  ,   scrit:
        else:
            t = int ((scrit/vel) +
                         (vcurrent - (vnext)/((vcurrent*(vcurrent - (vnext/(dis-scrit))-
                                                           ((vcurrent - vnext)*(vcurrent - vnext)/(2*(dis-scrit))))))))
            #  ,  :
            if (t+startingred)%(red+grn)&lt;=red:
                t = int (scrit/vel +  (vel/decel)+ red-((t+startingred)%(red+grn)))### 2
                vcurrent = 0
                print ("      , ")
                
            #   -   ,    ,    scrit  :
            else:
                t = int (scrit/vel +
                         (vcurrent - vnext)/((vcurrent*(vcurrent - (vnext/(dis-scrit))-
                                                           ((vcurrent - vnext)*(vcurrent - vnext)/(2*(dis-scrit)))))))### 3
                vcurrent = float(vnext/3.6)
                print ("      , ", " v=", vcurrent)

    
    #    ,    __  -        :
    elif vcurrent &lt; vel:
       
        #  ,    scrit:
        vcrit=math.sqrt(2*accel*scrit+vcurrent*vcurrent)
        #        scrit,      scrit,   vcrit  ,   :
        if saccel &gt;= scrit:
            
                   
            #          -      ,  
            if vnext &gt;= vcrit:
                t = int(((vcrit-vcurrent)/ accel) + (dis-scrit)/vcrit)
                # ,  :   
                if (t+startingred)%(red+grn)&lt;=red:
                    t = int(((vcrit-vcurrent)/ accel) + ((dis-scrit)*2/vcrit) + red-((t+startingred)%(red+grn)))### 8
                    vcurrent = 0
                    print ("         ,  , ")
                    
                # ,     :
                else:
                    t = int(((vcrit-vcurrent)/ accel) + (dis-scrit)/vcrit) ### 7
                    vcurrent = vcrit
                    print ("         ,  , ", " v=", vcurrent)
                
            #       -    
            else:
                t = int(((vcrit-vcurrent)/ accel) + (vcrit - vnext)/((vcrit*(vcrit - vnext)/(dis-scrit))-
                                                           ((vcrit - vnext)*(vcrit - vnext)/(2*(dis-scrit)))))
                # ,  :
                if (t+startingred)%(red+grn)&lt;=red:
                    t = int(((vcrit-vcurrent)/ accel) + ((dis-scrit)*2/vcrit) + red-((t+startingred)%(red+grn))    ) ### 8
                    vcurrent = 0
                    print ("       ,  , ")
                
                #  -   ,    ,    scrit  :
                else:
                    t = int(((vcrit-vcurrent)/ accel) + (vcrit - vnext)/((vcrit*(vcrit - vnext)/(dis-scrit))-
                                                           ((vcrit - vnext)*(vcrit - vnext)/(2*(dis-scrit))))) ### 9
                    vcurrent = vnext
                    print ("       ,  , ", " v=", vcurrent)

        #        scrit,   ,    :
        else:
            
            #         ,   ,     :
            if vnext&gt;= vel:
                t = int(((vel- vcurrent)/accel) + (dis-saccel)/vel)
                
                # ,  :
                if (t+startingred)%(red+grn)&lt;=red:
                    t = int (((vel- vcurrent)/accel) + (scrit-saccel)/vel + (vel/decel)+ red-((t+startingred)%(red+grn)))### 5
                    vcurrent = 0
                    print ("         , ")

                # ,  :
                else:
                    t = int (((vel- vcurrent)/accel) + (dis-saccel)/vel)### 4
                    vcurrent = vel
                    print ("         , ", " v=", vcurrent)
            
            else:
                                
                # ,  :
                if (t+startingred)%(red+grn)&lt;=red:
                    t = int (((vel- vcurrent)/accel) + (scrit-saccel)/vel + (vel/decel)+ red-((t+startingred)%(red+grn)))### 5
                    vcurrent = 0
                    print ("       , ")
                
                #  -   ,    ,    scrit  :
                else:
                    print ("scrit ", scrit)
                    print ("vcurrent ", vcurrent)
                    t = int (((vel- vcurrent)/accel) +(scrit-saccel)/vel + (vel - vnext)/((vel*(vel - vnext)/(dis-scrit))-((vel - vnext)*(vel - vnext)/(2*(dis-scrit))))) ### 6
                    vcurrent = vnext
                    print ("       , ", " v=", vcurrent)
    
   
    #    ,    __  -    ,      :
    else:
        print ("ERROR: v current &gt; v next")

    print (t)
    r+=1
    g+=1
    d+=1
    v+=1
    
    gtime+=t

print (gtime)
</code></pre><br>
</div></div><br>
   .<br>
<br>
       0  100  15 ,     .    ,    â€”    ,       .<br>
<br>
,   ,    ,     . ,     â€”        ,        . ,    3-5 .        ,   ,   â€”  ,     . â€¦<br>
<br>
,    . , .                    .         â€”  . <br>
<br>
   ,     .     ,   ,     ,  .   ,          :      ,    .     â€”            (        ).  ,        , :<br>
<br>
<pre><code class="plaintext">t = int (scrit/vel + (vel/decel) + red-((t+startingred)%(red+grn)) &lt;b&gt;+ (red+grn)&lt;/b&gt;)</code></pre><br>
   - ?  ,    ,     ,  .            .   ,      ,   /    . <br>
<br>
   ,     ,    ?       .<br>
<br>
    ,     .  ,   .       ,       ,       ,  ,     .<br>
<br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/pe/8a/uu/pe8auus8gacuhsfcbzpaaolopb8.jpeg" alt="image"><br>
</div></div><br>
    .     ,    ,   , , 10000 :<br>
<br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><pre><code class="python">import random
import math
n=0
overalltime=0
while n&lt;=10000:
 
    redlight = ("100",
                "10",
                "90",
                "20",
                "60",
                "20",
                "20",
                "20",
                "20",
                "60",
                "20",
                "20",
                "90",
                "90",
                "100",
                "60",
                "100",
                "80",
                "80",
                "60",
                "90",
                "60",
                "120",
                "60",
                "80",
                "60",
                "1",
                "1")
 
    greenlight = ("30",
                  "120",
                  "30",
                  "120",
                  "40",
                  "120",
                  "120",
                  "120",
                  "120",
                  "40",
                  "120",
                  "120",
                  "40",
                  "15",
                  "20",
                  "20",
                  "20",
                  "20",
                  "20",
                  "40",
                  "30",
                  "20",
                  "40",
                  "40",
                  "20",
                  "40",
                  "1",
                  "1")
 
    distance = ("400",
                "400",
                "250",
                "250",
                "250",
                "450",
                "300",
                "650",
                "1000",
                "450",
                "500",
                "900",
                "450",
                "400",
                "1100",
                "900",
                "600",
                "1000",
                "450",
                "450",
                "400",
                "450",
                "200",
                "500",
                "350",
                "400",
                "500",
                "500")
 
    velocity = ("80",
                "80",
                "80",
                "80",
                "80",
                "80",
                "60",
                "80",
                "80",
                "80",
                "80",
                "80",
                "80",
                "80",
                "80",
                "80",
                "80",
                "60",
                "80",
                "80",
                "80",
                "80",
                "80",
                "60",
                "80",
                "80",
                "80",
                "40")

 
    r=0
    g=0
    d=0
    v=0

    vcurrent=float(0)
    t=0
    gtime=0
    accel=float(100/(3.6*15))
    decel = float(accel*2)
 
    while r&lt;=26:
        red=float(redlight[r])
        grn=float(greenlight[g])
        dis=float(distance[d])
        vel=float(float(velocity[v])/3.6)
        vnext=float(float(velocity[v+1])/3.6)
        saccel = float((vcurrent*(vel-vcurrent)/accel) + (vel-vcurrent)*(vel-vcurrent)/(2*accel))
        scrit = float(dis-(vel/decel) - (vel*vel)/(2*decel))
        startingred = random.randint(0, (int(grn)-1))
        
        if vcurrent == vel:
                 
            if vnext&gt;= vcurrent:
                t = int (dis/vel)
             
                if (t+startingred)%(red+grn)&lt;=red:
                    t = int (scrit/vel + (vel/decel) + red-((t+startingred)%(red+grn))) ### 2
                    vcurrent = 0
               
                else:
                    t = int (dis/vel)### 1
                    vcurrent = vel
                
            else:
                t = int ((scrit/vel) +
                         (vcurrent - (vnext)/((vcurrent*(vcurrent - (vnext/(dis-scrit))-
                                                           ((vcurrent - vnext)*(vcurrent - vnext)/(2*(dis-scrit))))))))
             
                if (t+startingred)%(red+grn)&lt;=red:
                    t = int (scrit/vel +  (vel/decel)+ red-((t+startingred)%(red+grn)))### 2
                    vcurrent = 0
            
                else:
                    t = int (scrit/vel +
                         (vcurrent - vnext)/((vcurrent*(vcurrent - (vnext/(dis-scrit))-
                                                           ((vcurrent - vnext)*(vcurrent - vnext)/(2*(dis-scrit)))))))### 3
                    vcurrent = float(vnext/3.6)
    
        elif vcurrent &lt; vel:
       
            vcrit=math.sqrt(2*accel*scrit+vcurrent*vcurrent)
        
            if saccel &gt;= scrit:
              
                if vnext &gt;= vcrit:
                    t = int(((vcrit-vcurrent)/ accel) + (dis-scrit)/vcrit)
                 
                    if (t+startingred)%(red+grn)&lt;=red:
                        t = int(((vcrit-vcurrent)/ accel) + ((dis-scrit)*2/vcrit) + red-((t+startingred)%(red+grn)))### 8
                        vcurrent = 0
                                      
                    else:
                        t = int(((vcrit-vcurrent)/ accel) + (dis-scrit)/vcrit) ### 7
                        vcurrent = vcrit
                                                   
                else:
                    t = int(((vcrit-vcurrent)/ accel) + (vcrit - vnext)/((vcrit*(vcrit - vnext)/(dis-scrit))-
                                                           ((vcrit - vnext)*(vcrit - vnext)/(2*(dis-scrit)))))
                
                    if (t+startingred)%(red+grn)&lt;=red:
                        t = int(((vcrit-vcurrent)/ accel) + ((dis-scrit)*2/vcrit) + red-((t+startingred)%(red+grn))    ) ### 8
                        vcurrent = 0
                        
                    else:
                        t = int(((vcrit-vcurrent)/ accel) + (vcrit - vnext)/((vcrit*(vcrit - vnext)/(dis-scrit))-
                                                           ((vcrit - vnext)*(vcrit - vnext)/(2*(dis-scrit))))) ### 9
                        vcurrent = vnext
                 
            else:
                        
                if vnext&gt;= vel:
                    t = int(((vel- vcurrent)/accel) + (dis-saccel)/vel)
                               
                    if (t+startingred)%(red+grn)&lt;=red:
                        t = int (((vel- vcurrent)/accel) + (scrit-saccel)/vel + (vel/decel)+ red-((t+startingred)%(red+grn)))### 5
                        vcurrent = 0
                                          
                    else:
                        t = int (((vel- vcurrent)/accel) + (dis-saccel)/vel)### 4
                        vcurrent = vel
                                   
                else:                                    
               
                    if (t+startingred)%(red+grn)&lt;=red:
                        t = int (((vel- vcurrent)/accel) + (scrit-saccel)/vel + (vel/decel)+ red-((t+startingred)%(red+grn)))### 5
                        vcurrent = 0
                        
                    else:
                         
                        t = int (((vel- vcurrent)/accel) +(scrit-saccel)/vel + (vel - vnext)/((vel*(vel - vnext)/(dis-scrit))-((vel - vnext)*(vel - vnext)/(2*(dis-scrit))))) ### 6
                        vcurrent = vnext   
    
        else:
            print ("ERROR: v current &gt; v next")
    
        #print (t)
        r+=1
        g+=1
        d+=1
        v+=1
    
        gtime+=t
        dev=(1476-gtime)*(1476-gtime)
        #print (gtime)
        
    n+=1
    dev+=dev
    overalltime+=gtime
    
print ("mean= ", overalltime/n)
print ("deviation=  ", math.sqrt(dev/n))
</code></pre><br>
</div></div><br>
   Â« Â» â€”    ,     .<br>
<br>
              :     10 /,     ,       50 /. <br>
<br>
 10 000 , raw data:<br>
<br>
(, /;   , ;  ):<br>
<br>
<pre><code class="plaintext">90	1466,6	0,5
80	1475,6	0,4
70	1479,7	0,9
60	1593,7	0,8
50	1701,3	0,5
40	1869,8	0,6</code></pre><br>
<img src="https://habrastorage.org/webt/e4/um/ak/e4umakdzls7zmzp3mjmdzctrxea.jpeg" alt="image"><br>
<br>
         . , ,   Y   ,   .<br>
<br>
    . -,     <i>  </i> <i>        </i>.     -  70 /      . -,      ,  8%        13%     Â« Â».  , <i>,        ,   </i>.  ,      ,   Â«Â»   10%        .<br>
<br>
,     (, ),               â€”   .</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN442602/">https://habr.com/ru/post/zh-CN442602/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN442592/index.html">åœ¨Djangoé¡¹ç›®ä¸­ä½¿ç”¨Joomlaå¸æˆ·</a></li>
<li><a href="../zh-CN442594/index.html">æ‚¨ä¼šä¸ºæˆ‘ç›‘è§†ä¸€åˆ‡å—ï¼Ÿ æ˜¯å•Š</a></li>
<li><a href="../zh-CN442596/index.html">æ¸¸æˆåŸå£°ï¼šäººæ–‡ä¹Ÿå“­æ³£</a></li>
<li><a href="../zh-CN442598/index.html">éœ€è¦çŒå¤´å—ï¼Ÿ</a></li>
<li><a href="../zh-CN442600/index.html">æˆ‘çš„å®¶åº­è‡ªåŠ¨åŒ–ç³»ç»Ÿ</a></li>
<li><a href="../zh-CN442606/index.html">é¾™ç›®å²›åŸŸå¯¹è±¡ï¼šæˆ˜æ–—ç»å…¸</a></li>
<li><a href="../zh-CN442608/index.html">QuadrigaCXåŠ å¯†è´§å¸äº¤æ˜“æ‰€çš„åˆ›å»ºè€…å»ä¸–çš„é’±åŒ…è¢«è¯æ˜æ˜¯ç©ºçš„</a></li>
<li><a href="../zh-CN442610/index.html">ç”µæŠ¥æœºå™¨äºº+ Google Analytics</a></li>
<li><a href="../zh-CN442612/index.html">ç”µå­æ£‹ç›˜æ¸¸æˆçš„çº¸æ¿å¼•æ“ã€‚ æˆ‘ä»¬å¦‚ä½•ä½¿å…¶æ›´æ¥è¿‘ç°å®</a></li>
<li><a href="../zh-CN442614/index.html">åœ¨Kubernetesä¸Šä½¿ç”¨Jenkinsçš„CI / CD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>