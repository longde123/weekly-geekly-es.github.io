<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😶 ♠️ 🏏 Membuat fungsi pemicu di pgModeler 🔈 💒 ✊🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Di kerajaan tertentu, dalam kondisi tertentu ... Saya perlu menambahkan pemicu ke model di pgModeler . Apa yang harus dilakukan cukup mudah. Tetapi un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Membuat fungsi pemicu di pgModeler</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424121/">  <i>Di kerajaan tertentu, dalam kondisi tertentu ...</i> Saya perlu menambahkan pemicu ke model di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pgModeler</a> .  Apa yang harus dilakukan cukup mudah.  Tetapi untuk menambahkan fungsi pemicu ... Ini juga mudah, tetapi saya harus berurusan sedikit dengan parameter yang ditawarkan untuk pengisian / pemilihan di antarmuka. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pgModeler</a> adalah alat desain database yang sangat baik yang dapat menghasilkan skrip sql untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PostgreSQL</a> .  Rincian tentang alat ini dan kemampuannya dapat ditemukan di situs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">web</a> resmi. <br><a name="habracut"></a><br>  Sebagai contoh, pertimbangkan model yang disederhanakan dengan satu tabel. <br><br><img src="https://habrastorage.org/webt/qv/rk/gh/qvrkghh1osp-coovacxaoen9t5y.png"><br><br>  Tambahkan fungsi ke model. <br><br><img src="https://habrastorage.org/webt/cj/xq/vj/cjxqvjvjvu0ilrmnidbyl67iyek.png"><br><br>  Setelah itu, sebuah jendela akan terbuka dengan berbagai parameter yang dapat diedit yang dengannya fungsi tersebut akan dibuat.  Namun, beberapa bidang sudah akan diisi dengan nilai default. <br><br><img src="https://habrastorage.org/webt/ti/gg/fs/tiggfs9_2zuay6vog--ewjrvdxa.png"><br><br>  Mari kita pertimbangkan parameter ini lebih terinci. <br><br>  Saya pikir dengan parameter <i>Nama</i> , <i>Skema</i> , <i>Pemilik</i> dan <i>Komentar</i> semuanya jelas - ini adalah nama fungsi, skema basis data, pemilik dan komentar untuk fungsi ini, masing-masing. <br><br>  <i>Bahasa</i> adalah nama bahasa di mana fungsi akan dilaksanakan.  Sejujurnya, saya tidak pernah harus menulis fungsi untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PostgreSQL</a> pada hal lain selain <i>plpgsql</i> .  Oleh karena itu, nilai ini untuk parameter yang saya pilih. <br><br>  <i>Kembali metode</i>  Karena dalam fungsi pemicu kami tidak perlu mengembalikan tabel atau sekumpulan nilai, kami meninggalkan <i>Simple</i> . <br><br>  Dengan parameter di blok <i>Tipe Data</i> , secara umum, semuanya juga sederhana.  Karena  Jika fungsi ini dipanggil di trigger, maka di kolom <i>Type</i> kita tentukan <i>trigger</i> (kolom <i>Format</i> akan diisi secara otomatis dengan nilai <i>trigger</i> ).  Bidang <i>Dimensi</i> (satu-satunya bidang digital yang tidak dicadangkan di blok ini) diperlukan untuk menunjukkan dimensi array nilai yang dikembalikan.  Tapi karena kita hanya perlu satu nilai, bukan array, kita meninggalkan <i>0</i> di bidang ini. <br><br>  Dengan parameter yang tersisa, semuanya tidak begitu jelas, setidaknya bagi saya, karena  tidak pernah memikirkannya selama pembuatan fungsi-fungsi biasa di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PostgreSQL</a> . <br><br>  <i>Jenis Fungsi</i> dapat mengambil salah satu dari tiga nilai: <i>IMMUTABLE</i> , <i>STABLE</i> dan <i>VOLATILE</i> .  Dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> resmi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PostgreSQL</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">,</a> Anda dapat mengetahui bahwa argumen ini menginformasikan optimizer kueri tentang perilaku fungsi. <br><br><ul><li>  <i>IMMUTABLE</i> berarti bahwa fungsi tidak dapat memodifikasi database dan selalu mengembalikan hasil yang sama untuk nilai argumen tertentu. <br></li><li>  <i>STABEL</i> berarti bahwa fungsi tidak dapat memodifikasi database, dan dalam pemindaian tabel tunggal, ia selalu mengembalikan hasil yang sama untuk nilai argumen tertentu. <br></li><li>  <i>VOLATILE</i> berarti bahwa hasil suatu fungsi dapat berubah bahkan dalam satu pemindaian tabel, sehingga panggilannya tidak dapat dioptimalkan. <br></li></ul><br>  Dengan demikian, jika fungsi pemicu memerlukan perubahan basis data, maka <i>IMMUTABLE</i> tidak cocok.  Fungsi dengan parameter <i>STABLE</i> tidak cocok untuk pemicu <i>SETELAH</i> yang ingin membaca baris yang dimodifikasi oleh perintah saat ini.  Masih ada <i>VOLATILE</i> , yang tidak memiliki masalah di atas.  Ini juga akan ditentukan secara default jika tidak ada argumen di atas yang ditentukan saat membuat fungsi. <br><br>  <i>Keamanan</i> dapat mengambil salah satu dari dua nilai: <i>SECURITY DEFINER</i> dan <i>SECURITY INVOKER</i> dan bertanggung jawab atas hak pengguna yang akan dipanggil. <br><br><ul><li>  <i>DEFINER KEAMANAN</i> berarti bahwa fungsi tersebut akan dieksekusi dengan hak-hak pengguna yang memilikinya, mis.  orang yang terdaftar di <i>Pemilik</i> . <br></li><li>  <i>SECURITY INVOKER</i> berarti bahwa fungsi tersebut akan dieksekusi dengan hak-hak pengguna yang memanggilnya. <br></li></ul><br>  Secara default, <i>SECURITY INVOKER digunakan</i> , sehingga Anda dapat meninggalkannya. <br><br>  <i>Perilaku</i> dapat mengambil salah satu dari tiga nilai: <i>STRICT</i> , <i>RETURNS NULL ON NULL INPUT</i> dan <i>CALLED ON NULL INPUT</i> dan menunjukkan bagaimana fungsi akan berperilaku jika ada nilai NULL di antara argumennya. <br><br><ul><li>  <i>RETURNS NULL ON NULL INPUT</i> atau <i>STRICT</i> berarti bahwa fungsi akan selalu mengembalikan NULL jika setidaknya salah satu argumennya adalah NULL. <br></li><li>  <i>DISEBUT DI NULL INPUT</i> berarti bahwa fungsi akan dipanggil seperti biasa, bahkan jika NULL adalah salah satu argumennya. <br></li></ul><br>  Standarnya adalah <i>CALLED ON NULL INPUT</i> .  Karena itu, dengan cara yang sama, Anda dapat meninggalkannya. <br><br>  <i>Rows Returned</i> menunjukkan jumlah baris yang diharapkan penjadwal.  Nilai ditentukan untuk fungsi yang mengembalikan set.  Karena  fungsi kami mengembalikan nilai tunggal, kami meninggalkan <i>0</i> . <br><br>  <i>Biaya Eksekusi</i> menetapkan biaya untuk menjalankan fungsi ini untuk penjadwal.  Untuk <i>plpgsql</i> , standarnya adalah <i>100</i> .  Oleh karena itu, kami menunjukkan nilai ini. <br><br>  <i>Fungsi Windown.</i>  berarti bahwa fungsi jendela akan dibuat.  Dalam kasus kami, karena  kita membutuhkan fungsi pemicu, kita tidak perlu menentukan nilai ini (well, secara umum, mereka menulis dalam dokumentasi itu sendiri bahwa masuk akal untuk menentukan parameter ini hanya untuk fungsi yang ditulis dalam C). <br><br>  <i>Anti bocor</i> menunjukkan bahwa fungsinya disegel, mis.  bahwa ia tidak mengungkapkan informasi tentang argumennya (misalnya, itu tidak menampilkan artinya dalam pesan kesalahan), kecuali untuk mengembalikan hasil.  Karena  Karena fungsi pemicu tidak menerima argumen, parameter ini tidak perlu ditentukan. <br><br>  Jadi, parameter fungsi sudah berakhir.  Badan fungsi itu sendiri dapat ditulis di jendela yang sama pada tab Definisi.  Kami terus membuat pemicu itu sendiri. <br><br><img src="https://habrastorage.org/webt/-m/d-/gn/-md-gnby6dhi6dy_o6bxawskjjw.png"><br><br>  Setelah itu, jendela pembuatan pemicu akan muncul. <br><br><img src="https://habrastorage.org/webt/ap/6j/uo/ap6juopfdv961t2r92hxrzjjhkk.png"><br><br>  Pertimbangkan parameter yang dapat diatur di jendela ini. <br><br>  Dengan parameter <i>Nama</i> , <i>Alias</i> , dan <i>Komentar,</i> sekali lagi, semuanya jelas - ini adalah nama pemicu, alias, dan komentar masing-masing. <br><br>  <i>Pengecualian</i> menunjukkan bagaimana pemicu ini akan dieksekusi dan dapat mengambil salah satu dari nilai berikut: <i>SEBELUM</i> , <i>SETELAH,</i> dan <i>BUKAN DARI</i> , yang berarti bahwa fungsi akan dieksekusi sebelum, setelah, atau bukan acara. <br><br>  <i>UNTUK SETIAP BARIS</i> menentukan apakah prosedur pemicu akan menyala sekali untuk setiap baris.  Jika tidak ditentukan, parameter <i>UNTUK SETIAP PERNYATAAN</i> akan ditetapkan, yang menentukan bahwa prosedur pemicu dipicu sekali untuk pernyataan SQL. <br><br>  <i>Acara</i> menentukan acara apa yang perlu diproses dalam pemicu ini.  Anda dapat menentukan beberapa acara.  Acara adalah dari jenis berikut: <i>INSERT</i> , <i>UPDATE</i> , <i>DELETE,</i> dan <i>TRUNCATE</i> .  Mereka terjadi ketika perintah yang sesuai dengan pernyataan SQL yang sama dipanggil. <br><br>  <i>Batasan</i> menunjukkan bahwa pemicu batasan akan dibuat.  Pemicu kendala digunakan untuk melempar pengecualian ketika kendala dilanggar.  Anda dapat membaca lebih lanjut tentang mereka di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> resmi. <br><br>  Untuk pemicu pembatasan, Anda dapat menentukan <i>Ditangguhkan</i> , yang menentukan waktu pemicu.  Parameter ini dapat mengambil salah satu dari nilai-nilai berikut: <i>SEGERA DITERBITKAN</i> atau <i>DITANGGUNG AWAL</i> . <br><br><ul><li>  <i>SEGERA AWAL</i> artinya pemicu akan aktif setelah setiap pernyataan. <br></li><li>  <i>DITANGGUHKAN AWAL</i> berarti pemicu hanya akan aktif di akhir transaksi. <br></li></ul><br>  <i>Lihat.</i>  <i>Tabel</i> adalah nama tabel yang dirujuk oleh kendala.  Digunakan untuk batasan kunci asing dan hanya diizinkan untuk pemicu kendala. <br><br>  <i>Kondisi</i> adalah kondisi yang menentukan apakah fungsi pemicu akan dieksekusi.  Untuk pemicu <i>FOR EACH ROW</i> di bidang ini, Anda dapat mengakses nilai lama dan baru masing-masing melalui <i>TUA</i> dan <i>BARU</i> (mis., Sama seperti di tubuh fungsi pemicu). <br><br>  <i>Argumen</i> - daftar argumen yang akan diteruskan ke fungsi pemicu saat memicu.  Konstanta string dilewatkan sebagai argumen ke fungsi. <br><br>  <i>Kolom</i> - hanya dapat ditentukan untuk acara <i>UPDATE</i> .  Pemicu hanya akan berfungsi jika setidaknya salah satu kolom yang ditentukan ada di daftar kolom yang ditentukan dalam <i>UPDATE</i> . <br><br><h3>  Kesimpulan </h3><br>  Itu, secara umum, itu saja.  Saya harap ini menarik dan akan bermanfaat bagi seseorang. <br><br><hr><br>  Saat menulis artikel ini, pgModeler versi 0.9.2-alpha, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dibangun di</a> bawah Windows 7 x64, digunakan.  Saat menggunakan pgModeler versi yang lebih lama / lebih baru, ada sedikit perbedaan pada antarmuka. <br><br>  Model yang digunakan dalam artikel dapat diunduh di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id424121/">https://habr.com/ru/post/id424121/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id424109/index.html">VSCE # 2: Podcast Pengusaha Media</a></li>
<li><a href="../id424111/index.html">Kontrak Cerdas Gelombang. Pengalaman pertama</a></li>
<li><a href="../id424113/index.html">Proses desain, penelitian dan pencarian pekerjaan</a></li>
<li><a href="../id424115/index.html">Gunakan kasing atau yang tidak dimiliki penyeimbang muatan</a></li>
<li><a href="../id424119/index.html">Apakah ada Scrum *?</a></li>
<li><a href="../id424127/index.html">Bagaimana cara berteman Ovirt dan Let's Encrypt</a></li>
<li><a href="../id424129/index.html">Pengembangan Android. Sedikit tentang kerja cepat dengan daftar</a></li>
<li><a href="../id424131/index.html">Manifesto Pengembang Sistem Cerdas: 15 Prinsip</a></li>
<li><a href="../id424133/index.html">Virtualisasi pekerjaan untuk biro arsitektur melalui mata humaniora</a></li>
<li><a href="../id424135/index.html">Uni Eropa menyetujui arahan hak cipta baru - bagaimana hal itu akan mempengaruhi Internet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>