<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍴 👄 💾 Menggunakan Immer untuk Mengelola Status Aplikasi Bereaksi 💇🏽 🎼 🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Negara digunakan untuk mengatur pemantauan data dari Bereaksi aplikasi. Negara berubah saat pengguna berinteraksi dengan aplikasi. Ketika pengguna mel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menggunakan Immer untuk Mengelola Status Aplikasi Bereaksi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/463337/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Negara</a> digunakan untuk mengatur pemantauan data dari Bereaksi aplikasi.  Negara berubah saat pengguna berinteraksi dengan aplikasi.  Ketika pengguna melakukan beberapa tindakan, kita perlu memperbarui keadaan, yang merupakan kumpulan data berdasarkan apa yang pengguna lihat di layar terbentuk.  Perbarui keadaan Bereaksi aplikasi menggunakan metode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">setState</a> . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/ox/bh/zi/oxbhziuoggxlnj-unanjgwxcob4.jpeg"></a> <br><br>  Karena negara tidak boleh diperbarui secara langsung (dalam Bereaksi, negara harus tidak berubah), dengan kerumitan struktur negara, bekerja dengan mereka berubah menjadi tugas yang sangat sepele.  Yakni, menjadi sulit bagi programmer untuk bernavigasi di negara bagian dan menggunakan datanya dalam aplikasi. <br><a name="habracut"></a><br>  Dalam situasi seperti itu, Anda dapat menggunakan perpustakaan Immer.  Penggunaannya dalam React-aplikasi dikhususkan untuk materi, terjemahan yang kami terbitkan hari ini. <br><br><h2>  <font color="#3AC1EF">Dasar-dasar Penggunaan Immer dalam Aplikasi Bereaksi</font> </h2><br>  Saat menggunakan Immer, struktur keadaan aplikasi Bereaksi dapat disederhanakan, yang berarti akan lebih mudah digunakan.  Immer menggunakan konsep yang disebut "draft".  "Draf" dapat diambil sebagai salinan negara, tetapi bukan negara itu sendiri. <br><br>  Immer, seolah-olah, menyalin keadaan dengan "menekan" tombol CMD + C, kemudian, menggunakan kunci CMD + V, memasukkan apa yang disalin ke tempat di mana data yang disalin dapat dilihat tanpa mengganggu bahan aslinya.  Mengubah data yang termasuk dalam negara bagian dilakukan dalam "konsep", setelah itu, berdasarkan perubahan yang dibuat pada "konsep", keadaan aplikasi saat ini diperbarui. <br><br>  Misalkan kondisi aplikasi Anda terlihat seperti ini: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {   <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Kunle'</span></span>,   <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>,   <span class="hljs-attr"><span class="hljs-attr">city</span></span>: <span class="hljs-string"><span class="hljs-string">'Lagos'</span></span>,   <span class="hljs-attr"><span class="hljs-attr">country</span></span>: <span class="hljs-string"><span class="hljs-string">'Nigeria'</span></span> }</code> </pre> <br>  Ini adalah data pengguna.  Pengguna ini, ternyata, sedang merayakan ulang tahunnya yang ke-31.  Ini berarti bahwa kita perlu memperbarui umurnya (properti <code>age</code> ).  Jika Anda menggunakan Immer untuk menyelesaikan masalah ini, salinan dari status ini akan dibuat terlebih dahulu. <br><br>  Sekarang bayangkan sebuah salinan kekayaan dibuat, itu diserahkan kepada kurir, dan dia mengirimkan salinan ini kepada Kunle.  Ini berarti bahwa sekarang ada dua salinan negara.  Salah satunya adalah keadaan aplikasi saat ini, dan yang kedua adalah salinan "kasar" yang ditransfer ke pengguna.  Pengguna, mengedit "draft", mengubah usianya menjadi 31. Setelah itu, kurir kembali dengan dokumen yang diubah dan memberikan "draft" ke aplikasi.  Di sana, perbandingan dua versi dokumen dilakukan, dan hanya perubahan yang berkaitan dengan usia pengguna yang dibuat dengan keadaan aplikasi saat ini, karena tidak ada lagi yang berubah dalam "konsep". <br><br>  Skema kerja semacam itu tidak melanggar gagasan kekebalan negara - keadaan saat ini tidak diperbarui secara langsung.  Secara umum, kita dapat mengatakan bahwa penggunaan Immer hanya membantu meningkatkan kegunaan keadaan kekebalan tubuh. <br><br><h2>  <font color="#3AC1EF">Contoh No. 1: lampu lalu lintas</font> </h2><br>  Mari kita lihat contoh aplikasi yang menggunakan Immer.  Misalkan Anda sedang mengembangkan aplikasi lampu lalu lintas.  Dalam aplikasi ini Anda dapat mencoba menggunakan Immer. <br><br>  Berikut tampilan layar aplikasi ini di salah satu momen operasinya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2f0/416/a6a/2f0416a6a858f3dc973e0bfd58969275.png"></div><br>  <i><font color="#999999">Aplikasi lampu lalu lintas</font></i> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Di sini</a> Anda dapat menemukan kode proyek. <br><br>  Di sini akan terlihat seperti apa komponennya, mengingat bahwa proyek tersebut menggunakan Immer. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> {produce} = immer <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  state = {    <span class="hljs-attr"><span class="hljs-attr">red</span></span>: <span class="hljs-string"><span class="hljs-string">'red'</span></span>,    <span class="hljs-attr"><span class="hljs-attr">yellow</span></span>: <span class="hljs-string"><span class="hljs-string">'black'</span></span>,    <span class="hljs-attr"><span class="hljs-attr">green</span></span>: <span class="hljs-string"><span class="hljs-string">'black'</span></span>,    <span class="hljs-attr"><span class="hljs-attr">next</span></span>: <span class="hljs-string"><span class="hljs-string">"yellow"</span></span>  }  componentDidMount() {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.interval = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.changeHandle(), <span class="hljs-number"><span class="hljs-number">3000</span></span>);  }   componentWillUnmount() {    clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.interval);  }  handleRedLight = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(      produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {        draft.red = <span class="hljs-string"><span class="hljs-string">'red'</span></span>;        draft.yellow = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.green = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.next = <span class="hljs-string"><span class="hljs-string">'yellow'</span></span>      })    )  }   handleYellowLight = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(      produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {        draft.red = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.yellow = <span class="hljs-string"><span class="hljs-string">'yellow'</span></span>;        draft.green = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.next = <span class="hljs-string"><span class="hljs-string">'green'</span></span>      })    )  }   handleGreenLight = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(      produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {        draft.red = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.yellow = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.green = <span class="hljs-string"><span class="hljs-string">'green'</span></span>;        draft.next = <span class="hljs-string"><span class="hljs-string">'red'</span></span>      })    )  }  changeHandle = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.next === <span class="hljs-string"><span class="hljs-string">'yellow'</span></span>) {      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleYellowLight()    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.next === <span class="hljs-string"><span class="hljs-string">'green'</span></span>) {      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleGreenLight()    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleRedLight()    }     }  render() {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (      <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"box"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"circle"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{backgroundColor:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">this.state.red</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"circle"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{backgroundColor:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">this.state.yellow</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"circle"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{backgroundColor:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">this.state.green</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>  ); } };</code> </pre> <br>  <code>Produce</code> adalah fitur standar yang diimpor dari Immer.  Kami meneruskannya, sebagai nilai, ke metode <code>setState()</code> .  Fungsi <code>produce</code> mengambil fungsi yang, sebagai argumen, mengambil <code>draft</code> .  Dalam fungsi ini kita dapat mengedit status "draft", membawanya ke bentuk yang seharusnya berbentuk nyata. <br><br>  Jika semua ini tampaknya terlalu rumit bagi Anda - berikut adalah pendekatan lain untuk menulis kode yang menyelesaikan tugas yang sama dengan kode di atas.  Pertama, buat fungsi: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handleLight = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> produce(state, (draft) =&gt; {    draft.red = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;    draft.yellow = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;    draft.green = <span class="hljs-string"><span class="hljs-string">'green'</span></span>;    draft.next = <span class="hljs-string"><span class="hljs-string">'red'</span></span>  }); }</code> </pre> <br>  Untuk fungsi <code>produce</code> , kami, sebagai argumen, melewati status aplikasi saat ini dan fungsi lain yang menggunakan <code>draft</code> argumen.  Sekarang mari kita manfaatkan semua ini dalam komponen: <br><br><pre> <code class="javascript hljs">handleGreenLight = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> nextState = handleLight(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state)  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(nextState) }</code> </pre> <br><h2>  <font color="#3AC1EF">Contoh 2: daftar belanja</font> </h2><br>  Jika Anda telah bekerja dengan Bereaksi selama beberapa waktu, maka Anda seharusnya tidak terkejut dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sintaksis penyebaran</a> .  Saat menggunakan Immer, Anda tidak perlu menggunakan desain serupa.  Secara khusus, ketika bekerja dengan array yang terdapat dalam keadaan. <br><br>  Kami akan terus mengeksplorasi kemungkinan Immer, membuat aplikasi yang mengimplementasikan daftar belanja. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c7f/71a/c75/c7f71ac758dbcdd0a49d13442f6e38cc.png"></div><br>  <i><font color="#999999">Daftar belanja</font></i> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Di sini</a> Anda dapat bereksperimen dengannya. <br><br>  Berikut adalah komponen yang kami kerjakan. <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) {      <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props)           <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {        <span class="hljs-attr"><span class="hljs-attr">item</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,        <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,        <span class="hljs-attr"><span class="hljs-attr">list</span></span>: [          { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"Cereals"</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span> },          { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"Rice"</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> }        ]      }    }    handleInputChange = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function"> =&gt;</span></span> {      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(      produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {        draft[event.target.name] = event.target.value      }))    }    handleSubmit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> {      e.preventDefault()      <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newItem = {        <span class="hljs-attr"><span class="hljs-attr">id</span></span>: uuid.v4(),        <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.name,        <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.price      }      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(        produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {          draft.list = draft.list.concat(newItem)        })      )    };  render() {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (      &lt;React.Fragment&gt;        &lt;section className="section"&gt;          &lt;div className="box"&gt;            &lt;form onSubmit={this.handleSubmit}&gt;              &lt;h2&gt;Create your shopping list&lt;/h2&gt;              &lt;div&gt;                &lt;input                  type="text"                  placeholder="Item's Name"                  onChange={this.handleInputChange}                  name="name"                  className="input"                  /&gt;              &lt;/div&gt;              &lt;div&gt;                &lt;input                  type="number"                  placeholder="Item's Price"                  onChange={this.handleInputChange}                  name="price"                  className="input"                  /&gt;              &lt;/div&gt;              &lt;button className="button is-grey"&gt;Submit&lt;/button&gt;            &lt;/form&gt;          &lt;/div&gt;                   &lt;div className="box"&gt;            {              this.state.list.length ? (                this.state.list.map(item =&gt; (                  &lt;ul&gt;                    &lt;li key={item.id}&gt;                      &lt;p&gt;{item.name}&lt;/p&gt;                      &lt;p&gt;${item.price}&lt;/p&gt;                    &lt;/li&gt;                    &lt;hr /&gt;                  &lt;/ul&gt;                ))              ) : &lt;p&gt;Your list is empty&lt;/p&gt;            }          &lt;/div&gt;        &lt;/section&gt;      &lt;/React.Fragment&gt;    )  } } ReactDOM.render(  &lt;App /&gt;,  document.getElementById('root') );</code> </pre> <br>  Saat menambahkan catatan belanja baru ke daftar, kita perlu memperbarui keadaan komponen di mana, dalam array <code>list</code> , elemen baru harus disimpan.  Untuk memperbarui item <code>list</code> menggunakan metode <code>setState()</code> , <code>setState()</code> memerlukan kode berikut: <br><br><pre> <code class="javascript hljs">handleSubmit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> {  e.preventDefault()  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newItem = {    <span class="hljs-attr"><span class="hljs-attr">id</span></span>: uuid.v4(),    <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.name,    <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.price  }  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">list</span></span>: [...this.state.list, newItem] }) };</code> </pre> <br>  Jika selama pengoperasian aplikasi Anda perlu memperbarui banyak elemen state - sintaks penyebaran harus sering digunakan.  Status baru diperoleh dengan menggabungkan apa yang sudah ada dalam status dengan data baru.  Ketika jumlah perubahan bertambah, pekerjaan menjadi lebih rumit.  Jika menggunakan Immer - hal-hal seperti itu tidak menyebabkan kesulitan.  Anda dapat memverifikasi ini dengan melihat kode contoh di awal bagian ini. <br><br>  Tetapi bagaimana jika kita ingin menambahkan fungsi ke proyek itu, dalam bentuk panggilan balik, akan dipanggil setelah memperbarui negara?  Misalnya, ini mungkin diperlukan jika Anda perlu menghitung jumlah entri dalam daftar atau total biaya semua pembelian yang direncanakan. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Di sini</a> Anda dapat melihat kode aplikasi, yang sekarang akan kami analisis.  Antarmukanya ditunjukkan di bawah ini. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/42c/43e/9ee/42c43e9ee7d1eebfc5ab18552ecf51e2.png"></div><br>  <i><font color="#999999">Aplikasi dengan fungsi menghitung total biaya pembelian yang direncanakan</font></i> <br><br>  Jadi, anggaplah kita ingin menghitung nilai total pembelian yang direncanakan.  Mari kita mulai dengan membuat mekanisme pembaruan status.  Mekanisme ini diwakili oleh fungsi <code>handleSubmit</code> : <br><br><pre> <code class="javascript hljs">handleSubmit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> {  e.preventDefault()  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newItem = {    <span class="hljs-attr"><span class="hljs-attr">id</span></span>: uuid.v4(),    <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.name,    <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.price  }   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(    produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {      draft.list = draft.list.concat(newItem)    }), () =&gt; {      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.calculateAmount(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.list)    }  ) };</code> </pre> <br>  Dalam fungsi <code>handleSubmit</code> pertama-tama kita membuat objek berdasarkan data yang dimasukkan oleh pengguna.  Referensi ke objek ditulis ke <code>newItem</code> konstan.  Untuk membentuk keadaan baru aplikasi, metode <code>.concat()</code> digunakan.  Metode ini, dipanggil pada array, mengembalikan array baru, yang mencakup elemen array asli, serta elemen baru.  Array baru ditulis ke <code>draft.list</code> .  Setelah itu, Immer dapat memperbarui status aplikasi. <br><br>  Callback, fungsi <code>calculateAmount</code> , dipanggil setelah pembaruan keadaan.  Penting untuk dicatat bahwa fungsi ini menggunakan versi negara yang diperbarui. <br><br>  Fungsi <code>calculateAmount</code> akan terlihat seperti ini: <br><br><pre> <code class="javascript hljs">calculateAmount = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">list</span></span></span><span class="hljs-function">) =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> total = <span class="hljs-number"><span class="hljs-number">0</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; list.length; i++) {      total += <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(list[i].price, <span class="hljs-number"><span class="hljs-number">10</span></span>)    }  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(    produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {      draft.totalAmount = total    })  ) }</code> </pre> <br><h2>  <font color="#3AC1EF">Kait lebih dekat</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Use-immer</a> adalah pengait yang memungkinkan pengembang mengontrol keadaan aplikasi Bereaksi.  Mari kita lihat bagaimana kait ini bekerja dengan mengimplementasikan aplikasi penghitung klasik berdasarkan: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {useImmer} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"use-immer"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Counter = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, updateCounter] = useImmer({    <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>  });  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">increment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{    updateCounter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {      draft.value = draft.value +<span class="hljs-number"><span class="hljs-number">1</span></span>;    });  }  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (    <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        Counter {count.value}      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{increment}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Increment</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>  ); } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Counter;</code> </pre> <br>  Fungsi <code>useImmer</code> sangat mirip dengan metode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">useState</a> .  Fungsi mengembalikan status dan fungsi yang memperbarui status.  Saat komponen dimuat pertama kali, konten negara (dalam hal ini, properti <code>count</code> ) sesuai dengan nilai yang diteruskan ke <code>useImmer</code> .  Menggunakan fungsi yang dikembalikan untuk memperbarui status memungkinkan kami untuk membuat fungsi kenaikan yang menambah nilai properti status <code>count</code> . <br><br>  Dan di sini adalah kode yang menggunakan hook untuk Immer, mengingatkan kita pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">useReducer</a> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { useRef } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {useImmerReducer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"use-immer"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uuidv4 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"uuid/v4"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = []; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducer = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft, action</span></span></span><span class="hljs-function">) =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (action.type) {    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"ADD_ITEM"</span></span>:      draft.push(action.item);      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"CLEAR_LIST"</span></span>:      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> initialState;    <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>:      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> draft;  } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Todo = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> inputEl = useRef(<span class="hljs-literal"><span class="hljs-literal">null</span></span>);  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [state, dispatch] = useImmerReducer(reducer, initialState);   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handleSubmit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> {    e.preventDefault()    <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newItem = {      <span class="hljs-attr"><span class="hljs-attr">id</span></span>: uuidv4(),      <span class="hljs-attr"><span class="hljs-attr">text</span></span>: inputEl.current.value    };    dispatch({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"ADD_ITEM"</span></span>, <span class="hljs-attr"><span class="hljs-attr">item</span></span>: newItem });    inputEl.current.value = <span class="hljs-string"><span class="hljs-string">""</span></span>;    inputEl.current.focus();  }   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handleClear = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {    dispatch({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'CLEAR_LIST'</span></span> })  }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (    <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'App'</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">header</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'App-header'</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">          {state.map(todo =&gt; {            return </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{todo.id}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{todo.text}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">;          })}        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">form</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onSubmit</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{handleSubmit}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">          </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'text'</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{inputEl}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">          </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">            </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'submit'</span></span></span></span><span class="xml"><span class="hljs-tag">          &gt;</span></span></span><span class="xml">            Add Todo          </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">form</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">          </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{handleClear}</span></span></span></span><span class="xml"><span class="hljs-tag">        &gt;</span></span></span><span class="xml">          Clear Todos        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">header</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">  ); } export default Todo;</span></span></code> </pre> <br>  Fungsi <code>useImmerReducer</code> menerima fungsi <code>useImmerReducer</code> dan status awal.  Ini mengembalikan fungsi negara dan <code>dispatch</code> .  Setelah itu, Anda dapat melewati negara untuk menampilkan elemen di dalamnya.  Tindakan pengiriman menggunakan fungsi <code>dispatch</code> dilakukan ketika item baru ditambahkan ke daftar tugas dan ketika daftar dihapus.  Tindakan yang akan dikirim ditetapkan jenis berdasarkan keputusan yang dibuat dalam fungsi peredam tentang apa yang sebenarnya perlu dilakukan untuk memproses tindakan tertentu. <br><br>  Dalam peredam, kami menggunakan, seperti sebelumnya, entitas <code>draft</code> , bukan <code>state</code> .  Berkat ini, kami memiliki cara mudah untuk mengontrol status aplikasi. <br><br>  Kode yang digunakan dalam contoh sebelumnya dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br><h2>  <font color="#3AC1EF">Ringkasan</font> </h2><br>  Pada artikel ini, kita berbicara tentang Immer, perpustakaan yang menyederhanakan pengelolaan keadaan aplikasi Bereaksi.  Penulis artikel percaya bahwa setiap orang yang tertarik pada perpustakaan ini dapat menggunakan Immer dalam aplikasi baru mereka atau secara perlahan memperkenalkannya ke dalam salah satu proyek saat ini. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Berikut adalah</a> bahan di mana Anda dapat menemukan beberapa detail tentang Immer. <br><br>  <b>Pembaca yang budiman!</b>  Apakah Anda berencana menggunakan Immer? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id463337/">https://habr.com/ru/post/id463337/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id463327/index.html">Vue.js: 3 anti-pola</a></li>
<li><a href="../id463329/index.html">Pengembangan diagram pohon dinamis menggunakan SVG dan Vue.js</a></li>
<li><a href="../id463331/index.html">Klien Apollo. Sekarang dengan React hooks</a></li>
<li><a href="../id463333/index.html">Memilih sistem manajemen pengujian pada 2019</a></li>
<li><a href="../id463335/index.html">Menggunakan analisa statis PVS-Studio dalam pengembangan untuk sistem tertanam dalam C dan C ++</a></li>
<li><a href="../id463347/index.html">Membuka serangkaian kursus pelatihan bersama Group-IB dan Belkasoft di bidang forensik komputer</a></li>
<li><a href="../id463349/index.html">Masalah terbalik transformasi affine atau tentang satu formula yang indah</a></li>
<li><a href="../id463351/index.html">Menggunakan PVS-Studio Static Analyzer dalam Pengembangan C dan C ++ untuk Sistem Tertanam</a></li>
<li><a href="../id463353/index.html">5 Tips Kepemimpinan Desain Bagian 1</a></li>
<li><a href="../id463355/index.html">Merger Uber & Careem: Bagaimana dampak layanan taksi yang akan muncul di wilayah MENA?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>