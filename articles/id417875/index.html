<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏂🏿 👃🏽 👨🏽‍🏫 Keluar dari Rabbit Hole SPA dengan Modern Rails 🐳 🎮 🚢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TL; DR: Jejak SPA gelap dan penuh kengerian. Anda dapat melawan mereka tanpa rasa takut ... atau memilih jalan lain yang akan membawa Anda ke tempat y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Keluar dari Rabbit Hole SPA dengan Modern Rails</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417875/"> TL; DR: Jejak SPA gelap dan penuh kengerian.  Anda dapat melawan mereka tanpa rasa takut ... atau memilih jalan lain yang akan membawa Anda ke tempat yang tepat: Rails modern. <br><br><img src="https://habrastorage.org/webt/bm/nz/o6/bmnzo6gdhrpqqdufks3kgylhxjw.jpeg"><br><br>  Saya ingat berpikir bahwa Rails berfokus pada tujuan yang salah ketika DHH mengumumkan Turbolinks pada 2012.  Kemudian saya yakin bahwa waktu respons instan selama interaksi pengguna adalah kunci menuju UX yang unggul.  Karena keterlambatan jaringan, interaktivitas ini hanya dimungkinkan jika Anda meminimalkan ketergantungan jaringan dan, alih-alih panggilan jaringan, mempertahankan sebagian besar status klien. <br><br>  Saya pikir itu perlu untuk aplikasi yang sedang saya kerjakan.  Dan dengan pendapat itu, saya mencoba banyak pendekatan dan kerangka kerja untuk mengimplementasikan template yang sama: Aplikasi satu halaman (SPA).  Saya percaya bahwa SPA adalah masa depan.  Beberapa tahun kemudian, saya tidak yakin apa masa depan itu, tetapi saya pasti ingin mencari alternatif. <br><a name="habracut"></a><br><h2>  SPA lubang kelinci </h2><br>  Aplikasi satu halaman adalah aplikasi JavaScript yang, setelah diunduh, mendapat kontrol penuh tanpa harus memuat ulang halaman: rendering, menerima data dari server, memproses interaksi pengguna, memperbarui layar ... <br><br>  Aplikasi tersebut terlihat lebih asli daripada halaman web tradisional, di mana aplikasi tergantung pada server.  Misalnya, jika Anda menggunakan Trello, Anda mungkin memperhatikan seberapa cepat kartu dibuat. <br><br>  Tentu saja, tanggung jawab besar datang dengan kekuatan besar.  Dalam aplikasi web tradisional, aplikasi server Anda mencakup model domain dan aturan bisnis, teknologi akses data untuk bekerja dengan database, dan lapisan pengontrol untuk mengontrol bagaimana halaman-halaman HTML disusun sebagai tanggapan terhadap permintaan HTTP. <br><br>  C SPA sedikit lebih rumit.  Anda masih memerlukan aplikasi server yang mencakup model dan aturan domain Anda, server web, database, dan beberapa jenis teknologi akses data ... dan banyak hal tambahan di atas: <br><br>  Untuk server: <br><br><ul><li>  API yang memenuhi kebutuhan data pelanggan Anda </li><li>  Sistem serialisasi JSON untuk bertukar data dengan klien dan sistem caching yang mendukung ini </li></ul><br>  Untuk klien JavaScript baru: <br><br><ul><li>  Sistem template untuk mengonversi data ke HTML </li><li>  Presentasi model dan aturan domain Anda </li><li>  Lapisan akses data dalam aplikasi klien untuk mentransfer data ke server </li><li>  Sistem untuk memperbarui tampilan ketika data berubah </li><li>  Sistem untuk menautkan URL dan layar (saya harap Anda tidak akan menggunakan satu alamat untuk semuanya, itu tidak terlihat seperti aplikasi web) </li><li>  Sistem untuk menempelkan semua komponen yang diperlukan untuk menampilkan layar dan mendapatkan data untuk ini </li><li>  Templat dan arsitektur baru untuk mengatur semuanya saat </li><li>  Sistem untuk penanganan kesalahan, pencatatan, pelacakan pengecualian, dll. </li><li>  Sistem untuk menghasilkan JSON untuk permintaan server </li><li>  Kerangka Pengujian Otomatis yang Mendukung SPA Anda </li><li>  Satu set tes tambahan untuk menulis dan mendukung </li><li>  Seperangkat alat tambahan untuk merakit, mengemas, dan menggunakan aplikasi baru </li></ul><br>  Singkatnya, dengan SPA Anda akan memiliki aplikasi lain untuk dukungan.  Dan satu set masalah baru untuk dipecahkan.  Dan perhatikan, Anda tidak dapat mengganti satu aplikasi dengan yang lain.  Anda masih memerlukan aplikasi server (sekarang ini akan membuat JSON alih-alih HTML). <br><br>  Jika Anda belum pernah bekerja dengan SPA, Anda dapat meremehkan kesulitan yang akan Anda hadapi.  Saya tahu ini karena saya membuat kesalahan yang sama di masa lalu.  Render JSON?  Saya bisa mengatasinya.  Model objek domain kaya dalam JavaScript?  Kedengarannya lucu.  Dan, Anda tahu, kerangka kerja ini akan menyelesaikan semua masalah ini.  Kue yang luar biasa! <br><br>  <b>Salah</b> <br><br><h2>  API dan pertukaran data. </h2><br>  Komunikasi antara aplikasi baru Anda dan server adalah masalah yang kompleks. <br><br>  Ada dua kekuatan yang berlawanan: <br><br><ul><li>  Anda akan ingin membuat permintaan server sesedikit mungkin untuk meningkatkan kinerja. </li><li>  Mengonversi catatan tunggal ke JSON itu sederhana.  Tetapi mencampur model besar dari berbagai catatan untuk meminimalkan jumlah pertanyaan tidak sama sekali.  Anda harus hati-hati mengembangkan logika serialisasi untuk mengoptimalkan jumlah kueri basis data dan mempertahankan kinerja di level tersebut. </li></ul><br>  Selain itu, Anda perlu memikirkan apa yang harus diunduh, dan kapan melakukannya untuk setiap layar mereka.  Maksud saya, Anda memerlukan keseimbangan antara bootstrap, apa yang Anda butuhkan segera dan apa yang dapat dimuat dengan malas, dan kembangkan API yang memungkinkan Anda melakukan ini. <br><br>  Beberapa standar dapat membantu di sini.  API JSON untuk membakukan format JSON;  atau GraphQL, untuk memilih hanya data yang diperlukan, serumit yang diperlukan, dalam satu permintaan.  Tetapi tidak satu pun dari mereka yang akan menyelamatkan Anda dari: <br><ul><li>  Elaborasi dari masing-masing pertukaran data </li><li>  Menerapkan kueri untuk memilih data secara efisien di server </li></ul><br>  Dan kedua aspek ini mewakili jumlah pekerjaan tambahan yang cukup. <br><br><h2>  Waktu boot </h2><br>  Orang-orang terbiasa mengasosiasikan SPA dengan kecepatan, tetapi kenyataannya adalah membuat mereka memuat dengan cepat tidaklah mudah.  Ada banyak alasan untuk ini: <br><br><ul><li>  Aplikasi membutuhkan data sebelum merender sesuatu, dan perlu waktu untuk menguraikan JavaScript dalam jumlah yang cukup besar. </li><li>  Di luar permintaan HTTP awal untuk mengunduh aplikasi, Anda biasanya perlu membuat satu atau lebih permintaan untuk mendapatkan data JSON yang diperlukan untuk membuat layar. </li><li>  Klien harus mengonversi JSON ke HTML untuk menunjukkan setidaknya sesuatu.  Bergantung pada perangkat dan jumlah JSON yang akan dikonversi, ini dapat menyebabkan penundaan yang nyata. </li></ul><br>  Ini tidak berarti bahwa SPA tidak mungkin dapat dimuat dengan cepat.  Saya hanya mengatakan bahwa itu sulit dan Anda harus mengatasinya, karena itu tidak akan sejalan dengan arsitektur SPA. <br><br>  Misalnya, Discourse, SPA berbasis Ember, memiliki waktu muat yang fantastis, tetapi di antaranya, mereka memuat sejumlah besar data JSON sebagai bagian dari HTML awal sehingga tidak membuat permintaan tambahan.  Dan saya perhatikan bahwa tim Wacana gila dalam kecepatan yang baik dan keterampilan mereka jauh di atas rata-rata.  Pikirkan sebelum Anda dapat dengan mudah mereproduksi yang sama di SPA Anda. <br><br>  Solusi ambisius untuk masalah ini adalah isomorfik JavaScript: merender halaman awal Anda di server dan dengan cepat memberikannya kepada klien, sementara di latar belakang SPA memuat dan mendapat kontrol penuh saat siap. <br><br>  Pendekatan ini membutuhkan menjalankan runtime JavaScript di server, dan juga bukan tanpa masalah teknis.  Misalnya, pengembang harus mempertimbangkan acara pemuatan SPA karena perubahan proses pemuatan. <br><br>  Saya suka kesempatan untuk menggunakan kembali kode dalam ide ini, tetapi saya belum melihat implementasi yang akan memungkinkan saya untuk pergi ke arah yang berlawanan.  Selain itu, proses rendering halaman ini terasa sangat lucu bagi saya: <br><br>  - Server: permintaan ke server API <br>  - Server: permintaan basis data <br>  - Server: menghasilkan JSON <br>  - Server: konversi JSON ke HTML <br>  - Klien: tampilkan HTML awal <br>  - Klien: unduh SPA <br>  - Klien: parsing HTML awal dan berlangganan acara DOM <br><br>  Bisakah Anda meminta data dari database, menghasilkan HTML dan mulai bekerja? <br><br>  Ini tidak sepenuhnya adil, karena Anda tidak akan menjadi SPA dan karena sebagian besar sihir ini tersembunyi di balik kerangka kerja, tetapi menurut saya masih salah. <br><br><h2>  Arsitektur </h2><br>  Mengembangkan aplikasi dengan antarmuka pengguna yang kaya sulit.  Ini semua karena ini adalah salah satu masalah yang mengilhami munculnya pendekatan berorientasi objek dan banyak pola desain. <br><br>  Mengelola status klien sulit.  Situs web tradisional biasanya fokus pada layar tanggung jawab tunggal yang kehilangan status ketika mereka reboot.  Di SPA, aplikasi bertanggung jawab untuk memastikan bahwa semua pembaruan status dan layar selama penggunaan konsisten dan berjalan lancar. <br><br>  Dalam praktiknya, jika Anda mulai menulis JavaScript dalam porsi kecil untuk meningkatkan interaksi, maka di SPA Anda harus menulis banyak kode JavaScript tambahan.  Di sini Anda harus memastikan bahwa Anda melakukan semuanya dengan benar. <br><br>  Ada banyak arsitektur berbeda seperti halnya kerangka SPA: <br><br><ul><li>  Sebagian besar kerangka kerja berbeda dari template MVC tradisional.  Ember awalnya terinspirasi oleh Cocoa MVC, tetapi mengubah model pemrogramannya cukup banyak di versi terbaru. </li><li>  Ada kecenderungan bahwa pengembang lebih suka komponen daripada pemisahan tradisional controller dan presentasi (beberapa kerangka kerja, seperti Ember dan Angular, telah pindah ke pendekatan ini dalam versi terbaru).  Semua kerangka kerja menerapkan semacam pengikatan data satu arah.  Ikatan dua sisi tidak disarankan karena efek samping yang mungkin ditimbulkannya. </li><li>  Sebagian besar kerangka kerja mencakup sistem perutean yang memungkinkan Anda memetakan URL dan layar, dan menentukan cara membuat instance komponen untuk dirender.  Ini adalah pendekatan web unik yang tidak ada pada antarmuka desktop tradisional. </li><li>  Sebagian besar kerangka kerja memisahkan templat HTML dari kode JavaScript, tetapi React mencampur generasi HTML dan JavaScript dan melakukannya dengan cukup sukses, mengingat penggunaannya yang luas.  Ada juga hype sekitar menanamkan CSS dalam JavaScript.  Facebook, dengan arsitektur Flux-nya, telah cukup banyak memengaruhi industri, dan wadah seperti Redux, vuex, dll. Sangat dipengaruhi olehnya. </li></ul><br>  Dari semua kerangka yang saya lihat, Ember adalah favorit saya.  Saya suka konsistensinya dan fakta bahwa dia agak keras kepala.  Saya juga suka model pemrogramannya dalam versi terbaru, menggabungkan MVC tradisional, komponen, dan routing. <br><br>  Di sisi lain, saya sangat menentang kamp Flux / Redux.  Saya melihat begitu banyak orang pintar menggunakannya sehingga saya berusaha keras untuk belajar dan memahaminya, dan tidak sekali pun.  Aku hanya bisa menggelengkan kepalaku frustrasi ketika aku melihat kode.  Saya tidak melihat diri saya senang saat menulis kode seperti itu. <br><br>  Akhirnya, saya tidak bisa tahan dengan campuran HTML dan CSS dalam komponen yang penuh dengan logika JavaScript.  Saya mengerti masalah apa yang dipecahkan ini, tetapi masalah yang dibawa pendekatan ini tidak membuatnya sepadan. <br><br>  Mari kita tinggalkan preferensi pribadi, intinya adalah jika Anda memilih jalur SPA, Anda akan memiliki masalah yang sangat sulit: untuk membuat arsitektur aplikasi baru Anda dengan benar.  Dan industrinya cukup jauh dari menyetujui cara melakukan ini.  Setiap tahun, kerangka kerja baru, templat, dan versi kerangka kerja muncul, yang sedikit mengubah model pemrograman.  Anda perlu menulis dan memelihara satu ton kode berdasarkan pilihan arsitektur Anda, jadi pikirkan dengan benar. <br><br><h2>  Duplikasi kode </h2><br>  Saat bekerja dengan SPA, Anda mungkin akan mengalami duplikasi kode. <br><br>  Untuk logika SPA Anda, Anda ingin membuat model kaya objek yang mewakili area domain dan logika bisnis Anda.  Dan Anda masih membutuhkan hal yang sama untuk logika server.  Dan ini masalah waktu sebelum Anda mulai menyalin kode. <br><br>  Misalnya, Anda bekerja dengan faktur.  Anda mungkin memiliki kelas Faktur dalam JavaScript yang berisi metode total yang merangkum harga semua elemen sehingga Anda dapat merender nilainya.  Di server, Anda juga akan memerlukan kelas Faktur dengan metode total untuk menghitung biaya ini untuk mengirimnya melalui email.  Kamu lihat?  Klien Faktur dan kelas server menerapkan logika yang sama.  Duplikasi kode. <br><br>  Seperti yang dikatakan di atas, JavaScript isomorfik dapat mengurangi masalah ini, membuatnya lebih mudah untuk menggunakan kembali kode.  Dan saya katakan ke level, karena korespondensi antara klien dan server tidak selalu 1-ke-1.  Anda akan ingin memastikan bahwa beberapa kode tidak pernah meninggalkan server.  Sejumlah besar kode masuk akal hanya untuk klien.  Dan juga, beberapa aspek sangat berbeda (misalnya, elemen server dapat menyimpan data dalam database, dan klien dapat menggunakan API jarak jauh).  Menggunakan kembali kode, bahkan jika mungkin, adalah masalah yang kompleks. <br><br>  Anda dapat bertaruh bahwa Anda tidak memerlukan model kaya di SPA Anda dan bahwa Anda akan bekerja dengan objek JSON / JavaScript secara langsung, mendistribusikan logika di seluruh komponen UI.  Sekarang Anda memiliki duplikasi kode yang sama dicampur dengan kode UI Anda, semoga berhasil. <br><br>  Dan hal yang sama terjadi jika Anda ingin template untuk rendering HTML antara server dan klien.  Misalnya, untuk SEO, bagaimana dengan menghasilkan halaman di server untuk mesin pencari?  Anda harus menulis ulang template Anda di server dan memastikan bahwa mereka disinkronkan dengan klien.  Sekali lagi duplikasi kode. <br><br>  Kebutuhan untuk mereproduksi logika pola pada server dan klien, dalam pengalaman saya, adalah sumber kemalangan yang tumbuh dari programmer.  Untuk melakukan ini sekali adalah normal.  Ketika Anda melakukan ini untuk yang ke-20 kalinya, Anda akan memegangi kepala Anda.  Setelah melakukan ini untuk yang ke-50 kalinya, Anda akan memikirkan apakah semua SPA ini diperlukan. <br><br><h2>  Kerapuhan </h2><br>  Dalam pengalaman saya, mengembangkan SPA yang baik adalah tugas yang jauh lebih rumit daripada menulis aplikasi web dengan generasi server. <br><br>  Pertama, tidak peduli seberapa hati Anda Anda, tidak peduli berapa banyak tes yang Anda tulis.  Semakin banyak kode yang Anda tulis, semakin banyak bug yang Anda miliki.  Dan SPA mewakili (maaf, jika saya mendorong keras) setumpuk besar kode untuk menulis dan mendukung. <br><br>  Kedua, seperti yang disebutkan di atas, mengembangkan GUI yang kaya adalah rumit dan diterjemahkan ke dalam sistem yang kompleks yang terdiri dari banyak elemen yang saling berinteraksi.  Semakin kompleks sistem yang Anda buat, semakin banyak bug yang Anda miliki.  Dan dibandingkan dengan aplikasi web tradisional menggunakan MVC, kompleksitas SPA hanya gila. <br><br>  Misalnya, untuk menjaga konsistensi pada server, Anda dapat menggunakan batasan dalam database, validasi model, dan transaksi.  Jika terjadi kesalahan, Anda merespons dengan pesan kesalahan.  Di klien, semuanya sedikit lebih rumit.  Begitu banyak yang bisa salah karena terlalu banyak yang terjadi.  Mungkin sebagian catatan berhasil disimpan, dan sebagian lainnya tidak.  Mungkin Anda offline di tengah semacam operasi.  Anda harus memastikan bahwa UI tetap konsisten dan aplikasi pulih dari kesalahan.  Semua ini mungkin, tentu saja, hanya jauh lebih rumit. <br><br><h2>  Tantangan Organisasi </h2><br>  Kedengarannya konyol, tetapi untuk mengembangkan SPA, Anda membutuhkan pengembang yang tahu apa yang harus dilakukan dengannya.  Pada saat yang sama, Anda tidak boleh meremehkan kompleksitas SPA, Anda tidak boleh berpikir bahwa setiap pengembang web berpengalaman dengan motivasi dan pemahaman yang tepat dapat menulis SPA yang bagus dari awal.  Anda membutuhkan keterampilan dan pengalaman yang tepat, atau mengharapkan kesalahan penting dibuat.  Saya tahu ini karena ini adalah kasus saya. <br><br>  Ini mungkin tantangan yang lebih penting bagi perusahaan Anda daripada yang Anda kira.  Pendekatan SPA mendorong tim yang sangat terspesialisasi daripada tim dari generalis: <br><br><ul><li>  Kerangka kerja SPA adalah perangkat lunak yang kompleks yang membutuhkan banyak jam pengalaman untuk menjadi produktif.  Hanya orang-orang di perusahaan Anda yang menghabiskan waktu berjam-jam pada kode ini yang dapat mendukung aplikasi ini. </li><li>  Kerangka SPA membutuhkan API yang dipikirkan secara matang dan produktif.  Memenuhi persyaratan ini membutuhkan serangkaian keterampilan yang sama sekali berbeda dari yang membutuhkan kerja dengan SPA. </li></ul><br>  Kemungkinannya adalah Anda akan menemukan diri Anda dengan orang-orang yang tidak dapat bekerja dengan SPA, dan yang tidak dapat bekerja di sisi server, hanya karena mereka tidak tahu caranya. <br><br>  Spesialisasi ini mungkin ideal untuk Facebook atau Google dan tim mereka yang terdiri dari beberapa lapis pasukan teknik.  Tetapi apakah itu baik untuk tim Anda yang terdiri dari 6 orang? <br><br><h2>  Rel modern </h2><br>  Ada 3 hal yang masuk ke Rails modern yang dapat mengubah pikiran Anda tentang pengembangan aplikasi web modern: <br><ul><li>  salah satunya adalah Turbolinks dan ini adalah ledakan otak </li><li>  yang lain adalah teman lama yang diabaikan hari ini: tanggapan SJR dan permintaan rendering AJAX sederhana </li><li>  dan yang terakhir ditambahkan baru-baru ini: Stimulus </li></ul><br>  Sulit untuk memahami apa itu untuk menerapkan pendekatan apa pun tanpa bermain dengannya.  Oleh karena itu, saya akan membuat beberapa referensi ke Basecamp di bagian berikut.  Saya tidak ada hubungannya dengan Basecamp, kecuali sebagai pengguna yang bahagia.  Adapun artikel ini, ini hanyalah contoh langsung dari Rails modern yang dapat Anda coba secara gratis. <br><br><h2>  Turbolinks </h2><br>  Gagasan di balik Turbolinks sederhana: percepat aplikasi Anda dengan sepenuhnya mengganti halaman yang memuat ulang dengan permintaan AJAX yang menggantikan elemen ``.  Sihir batin yang melakukan pekerjaan ini tersembunyi.  Sebagai pengembang, Anda dapat fokus pada pemrograman sisi server tradisional. <br><br>  Turbolinks terinspirasi oleh pjax dan melalui beberapa revisi. <br><br>  Dulu saya khawatir tentang kinerjanya.  Saya salah.  Akselerasinya sangat besar.  Yang meyakinkan saya adalah bagaimana saya menggunakannya dalam proyek, tetapi Anda bisa mencoba versi percobaan di Basecamp dan bermain dengannya.  Coba buat proyek dengan beberapa elemen, lalu navigasikan dengan mengklik bagian.  Ini akan memberi Anda ide yang baik tentang seperti apa Turbolinks. <br><br>  Saya tidak berpikir bahwa Turbolinks sangat luar biasa dengan kebaruannya (pjax - 8 tahun).  Atau kecanggihan teknisnya.  Ini mengherankan saya bagaimana ide sederhana dapat meningkatkan produktivitas Anda dengan urutan besar dibandingkan dengan alternatif untuk SPA. <br><br>  Izinkan saya menyoroti beberapa masalah yang diperbaiki: <br><br><ul><li>  Pertukaran data.  Anda tidak memilikinya.  Tidak perlu membuat serial JSON, membuat API, atau memikirkan permintaan data yang memuaskan kebutuhan pelanggan dalam hal kinerja. </li><li>  Beban awal.  Tidak seperti SPA, pendekatan ini merangsang waktu pemuatan cepat (sesuai desain).  Untuk merender layar, Anda bisa mendapatkan data yang Anda butuhkan langsung dari database.           HTML —    . </li><li> :         JavaScript-.           ,         SPA. </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MVC di server, dalam versi yang digunakan oleh Rails dan banyak kerangka kerja lainnya, jauh lebih sederhana daripada templat yang digunakan untuk arsitektur GUI yang kaya: dapatkan permintaan, bekerja dengan database untuk memuaskannya, dan tampilkan halaman HTML sebagai jawaban. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akhirnya, batasan yang selalu diganti memiliki efek yang luar biasa: Anda dapat fokus pada rendering awal halaman alih-alih memperbarui bagian tertentu (atau memperbarui beberapa kondisi di dunia SPA). </font><font style="vertical-align: inherit;">Dalam kasus umum, dia hanya melakukan segalanya.</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Duplikasi kode. </font><font style="vertical-align: inherit;">Hanya ada satu tampilan aplikasi Anda yang hidup di server. </font><font style="vertical-align: inherit;">Model domain Anda, aturannya, layar aplikasi, dll. </font><font style="vertical-align: inherit;">Tidak perlu menduplikasi konsep dalam klien.</font></font></li><li> .    SPA, JavaScript            ,    .  ,         ,    ,   . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhatikan bahwa saya tidak berbicara tentang masalah penamaan, tetapi tentang memperbaikinya. Sebagai contoh, GraphQL atau SPA rehydration adalah solusi super pintar untuk masalah yang sangat kompleks. Tetapi bagaimana jika, alih-alih mencoba mencari solusi, Anda menempatkan diri Anda dalam situasi di mana masalah ini tidak ada? Ini adalah perubahan dalam pendekatan untuk masalah tersebut. Dan saya butuh bertahun-tahun untuk sepenuhnya menghargai kemampuan pendekatan ini untuk menyelesaikan masalah. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentu saja, Turbolinks bukanlah peluru perak yang bebas gangguan. Masalah terbesar adalah ia dapat merusak kode JavaScript yang ada:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Turbolinks dikirimkan dengan acara "pemuatan halaman" khusus, dan plugin yang ada yang mengandalkan pemuatan halaman biasa tidak akan berfungsi. </font><font style="vertical-align: inherit;">Saat ini ada cara yang lebih baik untuk menambahkan perilaku ke DOM, tetapi widget lawas tidak akan berfungsi jika tidak diadaptasi.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kode JavaScript yang memodifikasi DOM harus idempoten karena dapat dijalankan beberapa kali. </font><font style="vertical-align: inherit;">Sekali lagi, ini membatalkan banyak JavaScript yang ada.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kecepatannya luar biasa, tetapi tidak seperti di SPA, yang dapat menangani beberapa interaksi tanpa memuat server. </font><font style="vertical-align: inherit;">Saya akan berbicara lebih banyak tentang kompromi nanti.</font></font></li></ul><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Render AJAX dan jawaban SJR </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingat ketika merender HTML melalui Ajax menjadi tren 15 tahun yang lalu? </font><font style="vertical-align: inherit;">Coba tebak? </font><font style="vertical-align: inherit;">Ini masih merupakan alat yang hebat di gudang senjata Anda:</font></font><br><ul><li>   HTML       DOM,   ( 100 ). </li><li>    HTML  ,              . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat melihat bagaimana pendekatan ini dirasakan di Basecamp dengan membuka menu profil Anda dengan mengklik tombol kanan atas: </font></font><br><br><img src="https://habrastorage.org/webt/yc/6b/th/yc6bth2x9on2cvks1r34w937xey.gif"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuka secara instan. Dari sisi pengembangan, Anda tidak perlu khawatir tentang serialisasi JSON dan sisi klien. Anda cukup menampilkan fragmen ini di server, menggunakan semua fitur Rails. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alat serupa yang Rails sertakan selama bertahun-tahun adalah tanggapan JavaScript sisi-server (SJR). Mereka memungkinkan Anda untuk menanggapi permintaan Ajax (biasanya formulir pengiriman) dengan JavaScript yang dijalankan oleh klien. Ini memberikan keuntungan yang sama seperti rendering AJAX dari potongan HTML: ini berjalan sangat cepat, Anda dapat menggunakan kembali kode di sisi server, dan Anda dapat langsung mengakses database untuk membuat respons.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat melihat bagaimana ini terjadi jika Anda masuk ke Basecamp dan mencoba membuat todo baru. </font><font style="vertical-align: inherit;">Setelah Anda mengklik "Tambahkan todo", server akan menyimpan todo dan merespons dengan fragmen JavaScript yang menambahkan todo baru ke DOM. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya pikir banyak pengembang hari ini melihat rendering AJAX dan tanggapan SJR dengan jijik. </font><font style="vertical-align: inherit;">Saya juga ingat itu. </font><font style="vertical-align: inherit;">Mereka adalah alat dan, dengan demikian, dapat disalahgunakan. </font><font style="vertical-align: inherit;">Tetapi ketika digunakan dengan benar, ini adalah solusi hebat. </font><font style="vertical-align: inherit;">Memungkinkan Anda menawarkan UX yang hebat dan interaktivitas dengan harga yang sangat rendah. </font><font style="vertical-align: inherit;">Sayangnya, seperti Turbolinks, mereka sulit untuk dievaluasi jika Anda belum melawan SPA.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stimulus </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stimulus adalah kerangka kerja JavaScript yang diterbitkan beberapa bulan lalu. </font><font style="vertical-align: inherit;">Itu tidak peduli tentang rendering atau manajemen negara berbasis JavaScript. </font><font style="vertical-align: inherit;">Alih-alih, itu hanya cara modern yang bagus untuk mengatur JavaScript, yang Anda gunakan untuk menambahkan HTML:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini menggunakan MutationObserver untuk mengikat perilaku ke DOM, yang berarti tidak peduli bagaimana HTML muncul di halaman. </font><font style="vertical-align: inherit;">Tentu saja, ini sangat bagus untuk Turbolinks.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ini akan menghemat satu ton kode boilerplate untuk melampirkan perilaku ke DOM, untuk melampirkan penangan acara ke acara, dan untuk menempatkan elemen dalam wadah yang ditentukan. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ini bertujuan untuk membuat kode HTML Anda mudah dibaca dan dimengerti, yang bagus jika Anda pernah menemui masalah dalam mencari tahu bagian mana dari JavaScript yang bekerja pada elemen sialan ini. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini mendorong kegigihan dalam DOM. </font><font style="vertical-align: inherit;">Sekali lagi, ini berarti bahwa dia tidak peduli bagaimana HTML dihasilkan, yang cocok untuk banyak skenario, termasuk Turbolinks.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda menerima jalur Rails, JavaScript Anda akan fokus pada memodifikasi kode HTML sisi-server dan meningkatkan interaksi (dengan sedikit JavaScript). </font><font style="vertical-align: inherit;">Stimulus dirancang untuk mengatur kode tersebut. </font><font style="vertical-align: inherit;">Ini bukan sistem SPA dan tidak berpura-pura menjadi satu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya menggunakan Stimulus di beberapa proyek, dan saya sangat menyukainya. </font><font style="vertical-align: inherit;">Ini menghilangkan banyak kode boilerplate, itu dibangun di atas standar web terbaru dan membaca dengan sangat indah. </font><font style="vertical-align: inherit;">Dan sesuatu yang sangat saya sukai: sekarang ini adalah cara standar untuk melakukan sesuatu yang masih harus diselesaikan di setiap aplikasi.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Game kompromi </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Turbolinks biasanya dijual sebagai "Dapatkan semua manfaat SPA tanpa ketidaknyamanan." </font><font style="vertical-align: inherit;">Saya tidak berpikir ini sepenuhnya benar:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aplikasi yang dibangun menggunakan Rails modern terlihat cepat, tetapi SPA masih akan merespon lebih cepat untuk interaksi yang tidak tergantung server. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ada beberapa skenario di mana SPA lebih masuk akal. </font><font style="vertical-align: inherit;">Jika Anda perlu menawarkan tingkat interaktivitas yang tinggi, Anda perlu mengelola sejumlah besar negara, menjalankan logika kompleks di sisi klien, dll. Kerangka SPA akan membuat hidup Anda lebih mudah.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekarang pengembangan adalah permainan kompromi. </font><font style="vertical-align: inherit;">Dan dalam game ini:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modern Rails memungkinkan Anda membuat aplikasi yang cukup cepat dan tampak hebat. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Untuk berbagai macam aplikasi, Rails memungkinkan Anda untuk mengimplementasikan fungsi yang sama dengan kode yang lebih sedikit dan kompleksitas yang lebih sedikit. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya percaya bahwa dengan Rails Anda bisa mendapatkan 90% dari penawaran SPA dengan usaha 10%. </font><font style="vertical-align: inherit;">Dalam hal kinerja, Rails membunuh SPA. </font><font style="vertical-align: inherit;">Adapun UX, saya pikir banyak pengembang membuat kesalahan yang sama seperti saya, dengan asumsi bahwa SPA UX tidak tertandingi.</font></font> Ini tidak benar.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bahkan, seperti dibahas di atas, Anda lebih tahu apa yang Anda lakukan saat membuat SPA Anda, atau UX sebenarnya akan lebih buruk. </font></font><br><br><h2>  Kesimpulan </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya menonton perusahaan secara besar-besaran menerima kerangka SPA dan melihat banyak artikel tentang cara melakukan hal-hal mewah bergaya SPA. Saya pikir ada banyak "penggunaan alat yang salah untuk pekerjaan itu," karena saya sangat percaya bahwa jenis aplikasi yang membenarkan penggunaan SPA terbatas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan saya katakan mereka membenarkannya karena SPA itu kompleks. Bagaimanapun, saya harap saya meyakinkan Anda tentang ini. Saya tidak mengatakan bahwa tidak mungkin untuk membuat aplikasi SPA yang hebat, atau bahwa aplikasi Rails modern sangat bagus secara definisi, hanya satu pendekatan yang sangat rumit dan yang lainnya jauh lebih sederhana. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saat mempersiapkan artikel ini, saya menemukan tweet ini:</font></font><br><br><img src="https://habrastorage.org/webt/px/54/rc/px54rc9odiplrsororeiozro--c.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Itu membuat saya tertawa karena saya akan memilih opsi pertama jika alternatifnya tidak dibenarkan. Dia juga merupakan perwakilan dari jenis pemikiran pengembang yang menyukai kompleksitas dan berkembang pesat, bahkan sampai berpikir bahwa orang lain dengan kriteria berbeda gila. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setelah bertahun-tahun, saya menyadari bahwa kompleksitas sering menjadi pilihan. Tetapi dalam dunia pemrograman, sangat sulit untuk memilih kesederhanaan. Kami sangat menghargai kompleksitas sehingga menerima kesederhanaan sering membuat kami berpikir secara berbeda, yang menurut definisi sulit.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingatlah bahwa Anda dapat menyingkirkan masalah. </font><font style="vertical-align: inherit;">Jika Anda memilih jalur SPA, pastikan itu dibenarkan dan Anda memahami masalahnya. </font><font style="vertical-align: inherit;">Jika Anda tidak yakin, bereksperimenlah dengan berbagai pendekatan dan lihat sendiri. </font><font style="vertical-align: inherit;">Mungkin Facebook atau Google, dalam skala mereka, tidak memiliki kemewahan membuat keputusan seperti itu, tetapi Anda mungkin bisa. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan jika Anda adalah pengembang Rails yang meninggalkan Rails bertahun-tahun yang lalu, saya sarankan Anda kembali ke sana. </font><font style="vertical-align: inherit;">Saya pikir Anda akan senang.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id417875/">https://habr.com/ru/post/id417875/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id417865/index.html">Aksesibilitas Android - serigala berbulu domba? Kuliah Yandex</a></li>
<li><a href="../id417867/index.html">Cara mengevaluasi durasi proyek TI, dan ketika itu tidak layak dilakukan sama sekali</a></li>
<li><a href="../id417869/index.html">Bagaimana cara debug WebRTC</a></li>
<li><a href="../id417871/index.html">Di garis finish pariwisata suborbital</a></li>
<li><a href="../id417873/index.html">Cara Membuat PopUp Windows</a></li>
<li><a href="../id417877/index.html">Bagaimana Tinder (sedikit) menyembunyikan lokasi Anda</a></li>
<li><a href="../id417879/index.html">Cara mengambil ujian dari Microsoft secara gratis [misalnya, kompetisi terbaru]</a></li>
<li><a href="../id417881/index.html">Intisari bahan-bahan segar dari dunia front-end selama dua minggu terakhir No. 323 (8-22 Juli 2018)</a></li>
<li><a href="../id417883/index.html">Membuat dialog untuk memilih nada dering</a></li>
<li><a href="../id417885/index.html">Tentang M dan tentang V dan sedikit tentang C</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>