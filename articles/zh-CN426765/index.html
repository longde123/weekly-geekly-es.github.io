<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ”  ğŸ¥— ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘©ğŸ½ SAS Baseç¼–ç¨‹åŸºç¡€ã€‚ ç¬¬4è¯¾ï¼šåˆ›å»ºSASæ•°æ®é›† ğŸ›¬ ğŸ‰‘ â˜¸ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•è¯»å–å¤–éƒ¨åŸå§‹æ•°æ®ã€‚ ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ç†Ÿæ‚‰SETè¿ç®—ç¬¦ï¼Œè¯¥è¿ç®—ç¬¦å¯è¯»å–æ ‡å‡†SASæ•°æ®é›†ï¼ˆSASæ•°æ®é›†ï¼‰ï¼Œå­¦ä¹ å¦‚ä½•åˆ›å»ºæ•°æ®ç‰‡ï¼Œé…ç½®æŒä¹…å±æ€§ä»¥åŠå­¦ä¹ ä¸€äº›æœ‰ç”¨çš„SASåŠŸèƒ½ã€‚ æˆ‘å°†å†æ¬¡å°è¯•ä½¿ç”¨å°½å¯èƒ½å¤šçš„ç¤ºä¾‹ä»¥æœ€ç®€å•çš„è¯­è¨€æ¥ä»‹ç»ææ–™ã€‚ 



 å‡è®¾æ•°æ®ä»¥EXCELæ ¼å¼å­˜å‚¨åœ¨ç›®å½•Cï¼š\...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SAS Baseç¼–ç¨‹åŸºç¡€ã€‚ ç¬¬4è¯¾ï¼šåˆ›å»ºSASæ•°æ®é›†</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sas/blog/426765/"> åœ¨ä¸Š<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œ</a>æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•è¯»å–å¤–éƒ¨åŸå§‹æ•°æ®ã€‚ ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ç†Ÿæ‚‰SETè¿ç®—ç¬¦ï¼Œè¯¥è¿ç®—ç¬¦å¯è¯»å–æ ‡å‡†SASæ•°æ®é›†ï¼ˆSASæ•°æ®é›†ï¼‰ï¼Œå­¦ä¹ å¦‚ä½•åˆ›å»ºæ•°æ®ç‰‡ï¼Œé…ç½®æŒä¹…å±æ€§ä»¥åŠå­¦ä¹ ä¸€äº›æœ‰ç”¨çš„SASåŠŸèƒ½ã€‚ æˆ‘å°†å†æ¬¡å°è¯•ä½¿ç”¨å°½å¯èƒ½å¤šçš„ç¤ºä¾‹ä»¥æœ€ç®€å•çš„è¯­è¨€æ¥ä»‹ç»ææ–™ã€‚ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mh/41/za/mh41zamhljv6eb9q3esmouqgqmy.jpeg"></div><br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z5/gp/dc/z5gpdcquyr1srkiskv378g39vpa.png"></div> å‡è®¾æ•°æ®ä»¥EXCELæ ¼å¼å­˜å‚¨åœ¨ç›®å½•<i>Cï¼š\ workshop \ habrahabrä¸­</i> ã€‚ æˆ‘ä»¬å¯¼å…¥ç”µå­è¡¨æ ¼ï¼Œä»ä¸­åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡ï¼Œä½¿ç”¨SASå‡½æ•°åˆ›å»ºæ–°çš„è®¡ç®—åˆ—ï¼Œç„¶åå°†æ­¤æ•°æ®é›†åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚ <br><br><h2> å¯¼å…¥ç”µå­è¡¨æ ¼å¹¶è®¾ç½®è¿‡æ»¤å™¨ </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vc/h1/ea/vch1eafptkkhr1zdxbg1rejuhvy.jpeg"></div><br>  excelæ–‡ä»¶å­˜å‚¨åœ¨ä¸Šè¿°ç›®å½•ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š <br><br> æ–‡ä»¶ç‰‡æ®µï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dp/yu/ta/dpyutaqneikteedo3fw-kz_w7dk.png"></div><br> æˆ‘ä»¬åº”ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PROC IMPORT</a>è¿‡ç¨‹å°†ç”µå­è¡¨æ ¼è½¬æ¢ä¸ºSASæ•°æ®é›†ï¼š <br><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">options</span></span> validvarname=v7; proc <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datafile="C:\workshop\habrahabr\company.xlsx" dbms=xlsx <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>=company replace; getnames=yes; run;</code> </pre> <br> ä»SASçš„è§’åº¦æ¥çœ‹ï¼Œ <b>validvarname = V7</b>é€‰é¡¹å¯è®¾ç½®æ­£ç¡®çš„å­—æ®µåç§°ï¼šç”¨ä¸‹åˆ’çº¿æ›¿æ¢æ‰€æœ‰æ— æ•ˆå­—ç¬¦ã€‚ å˜é‡çš„å‘½åè§„åˆ™å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬1è¯¾ä¸­</a>æ‰¾åˆ°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ã€‚</a> <br><br> æˆ‘ä»¬åœ¨è¯»å–å¤–éƒ¨æ–‡ä»¶æ—¶ä¼šç«‹å³è®¾ç½®è¿‡æ»¤å™¨ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬ä»…é€‰æ‹©ä¸ç¼ºå°‘ç»“æŸæ—¥æœŸçš„é‚£äº›è§‚å¯Ÿå€¼ã€‚ è¯·æ³¨æ„whereå‚æ•°çš„è¯­æ³•ã€‚ <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">options</span></span> validvarname=v7; proc <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datafile="C:\workshop\habrahabr\company.xlsx" dbms=xlsx <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>=company (<span class="hljs-keyword"><span class="hljs-keyword">where</span></span>=(End_Date <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> missing)) replace; getnames=yes; run;</code> </pre><br> è®©æˆ‘ä»¬è¯¦ç»†è€ƒè™‘PROC IMPORTæ­¥éª¤è¿ç®—ç¬¦ï¼š <br><br>  <b>æ•°æ®æ–‡ä»¶</b> -å®šä¹‰å¤–éƒ¨æ–‡ä»¶çš„å®Œæ•´è·¯å¾„å’Œåç§° <br>  <b>Dbms-</b>å®šä¹‰è¦å¯¼å…¥çš„æ•°æ®ç±»å‹ã€‚ <br>  <b>Outï¼ˆè¾“å‡ºï¼‰</b> -ç”¨ä¸€ä¸ªæˆ–ä¸¤ä¸ªçº§åˆ«çš„SASåç§°ï¼ˆåº“åç§°å’Œæ•°æ®é›†åç§°ï¼‰æ ‡è¯†SASè¾“å‡ºæ•°æ®é›†ã€‚ <br>  <b>æ›¿æ¢</b> -è¦†ç›–ç°æœ‰çš„SASæ•°æ®é›†ã€‚ <br>  <b>Getnames-</b>è¡¨ç¤ºPROC IMPORTæ˜¯å¦ä»è¾“å…¥å¤–éƒ¨æ–‡ä»¶ç¬¬ä¸€è¡Œä¸­çš„æ•°æ®å€¼ç”ŸæˆSASå˜é‡åã€‚ <br><br> è¿è¡ŒPROC IMPORTæ­¥éª¤å¹¶æ£€æŸ¥LOGï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ie/jx/f3/iejxf3zmynbwn2enbnmsejxpehs.jpeg"></div><br> æ‰“å°ç»“æœSASæ•°æ®é›†ï¼š <br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">proc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> data=work.company noobs; run;</code> </pre> <br>  PROC PRINTè¿‡ç¨‹çš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š <br><br> ç‰‡æ®µï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/48/_q/fc/48_qfcru6laeswnqaalj9fbsm5u.jpeg"></div><br> åŒæ ·åœ¨SAS UEä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨â€œç»“æœâ€é€‰é¡¹å¡æŸ¥çœ‹å¯¼å…¥çš„SASæ•°æ®é›†ã€‚ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qt/do/sd/qtdosdz9p9fls5-zpbs6sl8sde0.jpeg"></div><br><h2> è¯»å–SASæ•°æ®é›† </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/su/sz/ny/susznyrezwwkzaae2pheftsoipa.jpeg"></div><br> è¯»å–SASæ•°æ®é›†æ˜¯åœ¨DATAæ­¥éª¤ä¸­ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SET</a>è¯­å¥å®ç°çš„ï¼š <br><br> è€ƒè™‘ä¸€ä¸‹SETè¯­å¥çš„ä¸€èˆ¬è¯­æ³•ï¼š <br><br><pre> <code class="hljs lisp">SET&lt;SAS-data-set(<span class="hljs-name"><span class="hljs-name">s</span></span>) &lt;(<span class="hljs-name"><span class="hljs-name">data-set-options</span></span>(<span class="hljs-name"><span class="hljs-name">s</span></span>) )&gt; &gt; &lt;options&gt;<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br> å¦‚æœæœªåœ¨SETè¯­å¥ä¸­æŒ‡å®šæ•°æ®é›†ï¼Œåˆ™å®ƒå°†ä»æœ€ååˆ›å»ºçš„SASæ•°æ®é›†ä¸­è¯»å–è§‚æµ‹å€¼ã€‚ <br><br> åœ¨SETè¯­å¥ä¸­ï¼Œæ‚¨å¯ä»¥æŒ‡å®šå‡ ä¸ªæ•°æ®é›†ï¼›åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒSASæ•°æ®é›†å°†è¢«ä¸€ä¸ªæ·»åŠ åˆ°å¦ä¸€ä¸ªï¼ˆç±»ä¼¼äºSQLä¸­çš„UNIONï¼‰ã€‚ <br><br> åŒæ ·ï¼Œåœ¨DATAæ­¥éª¤ä¸­ï¼Œå¯ä»¥æœ‰ä¸¤ä¸ªSETè¯­å¥ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¡¨ç”±å…¬å…±åˆ—è¿æ¥ã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æœ¬æ–‡ä¸­</a>é˜…è¯»æœ‰å…³ä¸¤ä¸ªSETè¯­å¥çš„æ›´å¤šä¿¡æ¯ã€‚ <br><br> åˆ›å»ºSASæ•°æ®é›†å‰¯æœ¬çš„æœ€ç®€å•ä»£ç å¦‚ä¸‹ï¼š <br><br><pre> <code class="hljs sql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> company; run;</code> </pre> <br><h2> é…ç½®SASæ•°æ®é›†æè¿°ç¬¦ </h2><br> æ‚¨å¯ä»¥ä½¿ç”¨PROC CONTENTSè¿‡ç¨‹æ£€æŸ¥SASæ•°æ®é›†æè¿°ç¬¦ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯·å‚é˜…ç¬¬2è¯¾</a> ï¼‰ã€‚ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PROC DATASETS</a>è¿‡ç¨‹æ‰“å°æè¿°ç¬¦ç»„ä»¶ï¼š <br><br><pre> <code class="hljs pgsql">proc datasets library=<span class="hljs-keyword"><span class="hljs-keyword">work</span></span> nolist; contents data=company <span class="hljs-keyword"><span class="hljs-keyword">order</span></span>=varnum; quit;</code> </pre> <br> ç»“æœç‰‡æ®µï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hx/dv/fb/hxdvfb9xumkbypqe3kx_ps0yggy.jpeg"></div><br> ä¸ºTravel_Expenseså’ŒBudgetå˜é‡è®¾ç½®æ’å®šæ ¼å¼ï¼š <br><br><pre> <code class="hljs pgsql">data company; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> company; <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span>; run;</code> </pre> <br> æ£€æŸ¥SASæ•°æ®é›†çš„å±æ€§ï¼š <br><br><pre> <code class="hljs pgsql">proc datasets library=<span class="hljs-keyword"><span class="hljs-keyword">work</span></span> nolist; contents data=company <span class="hljs-keyword"><span class="hljs-keyword">order</span></span>=varnum; quit;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zs/ue/jq/zsuejqa6eyz7mhuwznywso-j-1e.jpeg"></div><br><h2> åˆ›å»ºè®¡ç®—åˆ— </h2><br> å¯ä»¥åœ¨ã€Š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SAS 9.4å‡½æ•°å’ŒCALLä¾‹ç¨‹ï¼šå‚è€ƒï¼Œç¬¬äº”ç‰ˆã€‹ä¸­</a>æ¢è®¨æ‰€æœ‰SASå‡½æ•°ã€‚ <br><br> æ­¤å¤–ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„åŠŸèƒ½æ¥æ‰§è¡Œç‰¹å®šä»»åŠ¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PROC FCMP</a>è¿‡ç¨‹å¹¶åˆ›å»ºè‡ªå·±çš„åŠŸèƒ½ã€‚ <br><br> åœ¨æœ¬è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨YRDIFï¼ŒSUMå’ŒCATSçš„ä¸‰ä¸ªåŠŸèƒ½ã€‚ <br><br> è¦è®¡ç®—ä»¥å¹´ä¸ºå•ä½çš„æ—¥æœŸå·®å¼‚ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">YRDIFå‡½æ•°</a> ã€‚ <br><br> è®©æˆ‘æé†’æ‚¨ï¼ŒSASæ ¼å¼çš„æ—¥æœŸæ˜¯ä»1960å¹´1æœˆ1æ—¥å¼€å§‹çš„å¤©æ•°ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯·å‚é˜…ç¬¬1è¯¾</a> ï¼‰ã€‚ æ ¹æ®æä¾›çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—æ‰§è¡Œæ—¶é—´ï¼š <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> company1; set work.company; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Lead_Time</span></span></span><span class="hljs-class">=yrdif(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Start_Date</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">End_Date</span></span></span><span class="hljs-class">, '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">actual'</span></span></span><span class="hljs-class">); format </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Travel_Expenses</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Budget</span></span></span><span class="hljs-class"> dollar10.2 </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Lead_Time</span></span></span><span class="hljs-class"> 3.1; run;</span></span></code> </pre><br> è¯·æ³¨æ„ï¼Œå¯¹äºLead_Timeå˜é‡ä½¿ç”¨3.1æ ¼å¼ï¼Œæˆ‘ä»¬å°†æŠ¥å‘Šï¼ˆï¼ï¼‰ä¸­çš„è®¡ç®—å€¼å››èˆäº”å…¥åˆ°å°æ•°ç‚¹åä¸€ä½ã€‚ æ ¼å¼è¿ç®—ç¬¦<b>ä¸ä¼šæ›´æ”¹</b> SASæ•°æ®é›†ä¸­<b>çš„</b>å€¼ï¼ <br><br> ç»“æœç‰‡æ®µï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t_/ch/fv/t_chfvwkcil_pslkfobagw3zhjs.jpeg"></div><br> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è®¡ç®—ä¸å«å·®æ—…è´¹çš„å·¥ä½œæˆæœ¬ï¼š <br><br><pre> <code class="hljs pgsql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; run;</code> </pre> <br> ç»“æœç‰‡æ®µï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yp/ss/4i/ypss4iuzxz8yib7g0pkltst0jxc.jpeg"></div><br> ä½œä¸ºæˆ‘ä»¬ä»»åŠ¡çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬åœ¨ä¸ä½¿ç”¨åŠŸèƒ½çš„æƒ…å†µä¸‹è®¡ç®—å·¥ä½œæˆæœ¬æ—¶æœªè€ƒè™‘å·®æ—…è´¹ç”¨ã€‚ æˆ‘ä»¬çš„è¡¨ä¸­æ²¡æœ‰ç¼ºå¤±å€¼ï¼Œå¦‚æœå˜é‡ï¼ˆBudgetæˆ–Travel_Expensesï¼‰ä¹‹ä¸€å…·æœ‰ç¼ºå¤±å€¼ï¼Œåˆ™ç»“æœä¸ºâ€œä»»åŠ¡â€ã€‚ <br><br> ä¾‹å¦‚ï¼š <br><br> åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ•°æ®é›†ï¼š <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> test; input </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Budget</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Travel_Expenses</span></span></span><span class="hljs-class">; datalines; 12345 233 . 345 12543 . ;</span></span></code> </pre> <br> è®¡ç®—å˜é‡Budget Travel_Expensesçš„å·®å¼‚ <br><br><pre> <code class="hljs sql">data test; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">test</span></span>; value=Budget-Travel_Expenses; run;</code> </pre> <br> æ­¤æ­¥éª¤çš„ç»“æœï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kj/ng/h9/kjngh9l39sj9hht7mf0o3ptfauy.jpeg"></div><br> ä¸ºäº†è·å¾—æ­£ç¡®çš„ç»“æœï¼Œå¯ä»¥ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SUM</a>å‡½æ•°ã€‚ <br><br> æ­¤åŠŸèƒ½å±äº<b>æè¿°æ€§ç»Ÿè®¡</b>åŠŸèƒ½çš„ç±»åˆ«ã€‚ æè¿°æ€§ç»Ÿè®¡åŠŸèƒ½<b>ä¼šå¿½ç•¥</b>ç¼ºå¤±å€¼ã€‚ <br><br> é€šè¿‡SUMç¼–å†™ä»£ç ï¼š <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> test; set test; value=sum(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Budget</span></span></span><span class="hljs-class">,-</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Travel_Expenses</span></span></span><span class="hljs-class">); run;</span></span></code> </pre> <br> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ­¥éª¤çš„ç»“æœå¦‚ä¸‹ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ls/ji/6u/lsji6u565y1z9dinudwbzhrgygo.jpeg"></div><br> è®¡ç®—çš„ç¬¬ä¸‰åˆ—æ˜¯ç»ç†çš„ç”µå­é‚®ä»¶åœ°å€ã€‚ å¯ä»¥ä»Manager_FirstNameï¼ŒManager_LastNameåˆ—å’Œå€¼<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">habr</a> .comä¸­â€œç»„è£…â€å®ƒã€‚ <br><br> æ‚¨å¯ä»¥ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CATSå‡½æ•°</a>å°†æ–‡æœ¬å€¼ç»„åˆä¸ºä¸€è¡Œã€‚ <br><br><pre> <code class="hljs pgsql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; Email=cats(Manager_FirstName, <span class="hljs-string"><span class="hljs-string">'.'</span></span>,Manager_LastName, <span class="hljs-string"><span class="hljs-string">'@habr.com'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; run;</code> </pre> <br> ç»“æœç‰‡æ®µï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ta/rg/cn/targcncw0c3sg7w09xf1d3hizoq.jpeg"></div><br> è®©æˆ‘ä»¬æ£€æŸ¥åˆ›å»ºçš„æ•°æ®é›†çš„æè¿°ç¬¦ï¼š <br><br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">proc</span></span> contents <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">=work.company1 varnum; run;</span></span></code> </pre> <br> å¤„ç†ç‰‡æ®µï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cu/sk/sw/cusksw789cltrxqyxhl9vumtafu.jpeg"></div><br> æ³¨æ„Emailå˜é‡çš„é•¿åº¦ï¼Œå®ƒæ˜¯200å­—èŠ‚ï¼›è¿™æ˜¯CATSå‡½æ•°è¿”å›çš„é»˜è®¤é•¿åº¦ã€‚ å¦‚æœæˆ‘ä»¬æ£€æŸ¥å˜é‡Manager_FirstNameå’ŒManager_LastNameçš„å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿8 + 6 +å­—ç¬¦ä¸²é•¿åº¦'@ habr.com'è¶³ä»¥å®¹çº³Emailå˜é‡ï¼Œå³å¦å¤–9ä¸ªå­—èŠ‚ï¼Œå…±23ä¸ªå­—èŠ‚ã€‚ä¸ºä»€ä¹ˆæˆ‘è¦æ³¨æ„è¿™ä¸€ç‚¹ï¼Ÿ æ‰€æœ‰ä¸¢å¤±çš„å­—ç¬¦éƒ½ç•™æœ‰ç©ºæ ¼ï¼Œè¿™ä¼šå½±å“æ•°æ®é›†çš„å¤§å°ï¼Œå¹¶ä¼šå½±å“å¤§é‡æ•°æ®çš„æ€§èƒ½ã€‚ <br><br> ä¸ºäº†æ˜¾å¼è®¾ç½®Emailå˜é‡çš„é•¿åº¦ï¼Œå¿…é¡»ä½¿ç”¨LENGTHè¿ç®—ç¬¦ï¼š <br><br><pre> <code class="hljs pgsql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; length Email <span class="hljs-meta"><span class="hljs-meta">$23</span></span>; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; Email=cats(Manager_FirstName, <span class="hljs-string"><span class="hljs-string">'.'</span></span>,Manager_LastName, <span class="hljs-string"><span class="hljs-string">'@habr.com'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; run;</code> </pre><br> å¤„ç†ç‰‡æ®µ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aa/gb/1m/aagb1mayhm8qb27qe1q_uemuc_i.jpeg"></div><br> è€ƒè™‘åˆ°ä»¥ä¸‹æ¡ä»¶ï¼Œæ ¹æ®Lead_Timeå˜é‡åˆ›å»ºä¸€ä¸ªè¯¦ç»†çš„åˆ—ï¼š <br><br><ol><li> å¦‚æœLead_Timeå˜é‡çš„å€¼å°äº1ï¼Œåˆ™â€œè¯¦ç»†ä¿¡æ¯â€åˆ—çš„å€¼å°äº1å¹´ã€‚ </li><li> å¦‚æœLead_Timeå˜é‡çš„å€¼åœ¨1åˆ°2çš„èŒƒå›´å†…ï¼ˆåŒ…æ‹¬è¾¹ç•Œï¼‰ï¼Œåˆ™â€œè¯¦ç»†ä¿¡æ¯â€åˆ—çš„å€¼ä¸º1-2å¹´ã€‚ </li><li> å¦‚æœLead_Timeå˜é‡çš„å€¼åœ¨2åˆ°3çš„èŒƒå›´å†…ï¼ˆä¸åŒ…æ‹¬2ï¼‰ï¼Œåˆ™â€œè¯¦ç»†ä¿¡æ¯â€åˆ—çš„å€¼ä¸º2-3å¹´ã€‚ </li><li> å¦‚æœLead_Timeå˜é‡çš„å€¼åœ¨3åˆ°4çš„èŒƒå›´å†…ï¼ˆä¸åŒ…æ‹¬3ï¼‰ï¼Œåˆ™â€œè¯¦ç»†ä¿¡æ¯â€åˆ—çš„å€¼ä¸º3-4å¹´ã€‚ </li><li> å¦‚æœLead_Timeå˜é‡çš„å€¼åœ¨4åˆ°5çš„èŒƒå›´å†…ï¼ˆä¸åŒ…æ‹¬4ï¼‰ï¼Œåˆ™â€œè¯¦ç»†ä¿¡æ¯â€åˆ—çš„å€¼ä¸º4-5å¹´ã€‚ </li><li> åœ¨æ‰€æœ‰å…¶ä»–æƒ…å†µä¸‹ï¼Œâ€œè¯¦ç»†ä¿¡æ¯â€åˆ—çš„å€¼å‡é«˜äº5å¹´ã€‚ </li></ol><br> æ‚¨å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼åˆ›å»ºè¯¦ç»†çš„åˆ—ï¼Œä¾‹å¦‚ï¼Œæœ€ç®€å•ä¹Ÿæ˜¯æœ€æ˜æ˜¾çš„é€‰æ‹©æ˜¯ä½¿ç”¨æ¡ä»¶å¤„ç†ã€‚ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¿ç®—ç¬¦å®ç°å®ƒï¼š <br><br><ol><li> å¦‚æœæ˜¯å…¶ä»– </li><li> å¦åˆ™ </li><li> é€‰æ‹©æ—¶ </li></ol><br> å¯¹äºå¤§é‡æ•°æ®ï¼Œä½¿ç”¨åä¸¤ä¸ªé€‰é¡¹æ›´ä¸ºæœ‰æ•ˆã€‚ <br><br><pre> <code class="hljs pgsql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; length Email <span class="hljs-meta"><span class="hljs-meta">$23</span></span>; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; Email=cats(Manager_FirstName, <span class="hljs-string"><span class="hljs-string">'.'</span></span>,Manager_LastName, <span class="hljs-string"><span class="hljs-string">'@habr.com'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'less than a year'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time=&gt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'1-2 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'2-3 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'3-4 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'4-5 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> detail=<span class="hljs-string"><span class="hljs-string">'above 5 years'</span></span>; run;</code> </pre> <br> æ·»åŠ ä¸€ä¸ªæ¡ä»¶ï¼Œè¯¥æ¡ä»¶ä»…é€‰æ‹©é‚£äº›Detailå˜é‡çš„å€¼ä¸ç­‰äºâ€œ 5å¹´ä»¥ä¸Šâ€çš„è§‚æµ‹å€¼ã€‚ ä½¿ç”¨whereä½œä¸ºè¿‡æ»¤å™¨æ—¶ï¼Œå°†å‘ç”Ÿè¯­æ³•é”™è¯¯ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dg/1g/xw/dg1gxwpxot2yr4y8hxfyf1qn5yy.jpeg"></div><br>  whereå­å¥ä¸ç”¨äºè®¡ç®—åˆ—ã€‚ è¦é€‰æ‹©æˆ‘ä»¬éœ€è¦çš„å˜é‡ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªé€‰æ‹©æ€§çš„IFè¯­å¥ã€‚ å®ƒå°†è§‚æµ‹å€¼çš„è¾“å‡ºå–æ¶ˆåˆ°åˆ›å»ºçš„æ•°æ®é›†ï¼š <br><br><pre> <code class="hljs pgsql">data company1; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; length Email <span class="hljs-meta"><span class="hljs-meta">$23</span></span>; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; Email=cats(Manager_FirstName, <span class="hljs-string"><span class="hljs-string">'.'</span></span>,Manager_LastName, <span class="hljs-string"><span class="hljs-string">'@habr.com'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'less than a year'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time=&gt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'1-2 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'2-3 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'3-4 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'2-3 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> detail=<span class="hljs-string"><span class="hljs-string">'above 5 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> detail ne <span class="hljs-string"><span class="hljs-string">'above 5 years'</span></span>; run;</code> </pre> <br> å¦è¯·æ³¨æ„ï¼Œé€‰æ‹©æ€§IFè¯­å¥éœ€è¦ç®—æœ¯è¿ç®—ç¬¦ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸èƒ½è¿™æ ·å†™ï¼š <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> detail <span class="hljs-built_in"><span class="hljs-built_in">contains</span></span> 'above <span class="hljs-number"><span class="hljs-number">5</span></span> years';</code> </pre> <br> é”™è¯¯å°†æ˜¾ç¤ºåœ¨æ—¥å¿—ä¸­ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bb/pg/bn/bbpgbnq-vb-xinyyoedx4psogra.jpeg"></div><br><h2> é…ç½®SASæ•°æ®é›†ã€‚ </h2><br> å˜é‡Manager_FirstNameå’ŒManager_LastNameä¸èƒ½å‡ºç°åœ¨æ–°çš„SASæ•°æ®é›†ä¸­ã€‚ ä½¿ç”¨DROPå‚æ•°å¯ä»¥å®ç°æ­¤è¦æ±‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨DROPè¿ç®—ç¬¦ã€‚ <br><br><pre> <code class="hljs pgsql">data company1 (<span class="hljs-keyword"><span class="hljs-keyword">drop</span></span>=Manager_FirstName Manager_LastName); <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company; length Email <span class="hljs-meta"><span class="hljs-meta">$23</span></span>; Lead_Time=yrdif(Start_Date, End_Date, <span class="hljs-string"><span class="hljs-string">'actual'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span>=Budget-Travel_Expenses; Email=cats(Manager_FirstName, <span class="hljs-string"><span class="hljs-string">'.'</span></span>,Manager_LastName, <span class="hljs-string"><span class="hljs-string">'@habr.com'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Cost</span></span> Travel_Expenses Budget dollar10<span class="hljs-number"><span class="hljs-number">.2</span></span> Lead_Time <span class="hljs-number"><span class="hljs-number">3.1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&lt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'less than a year'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time=&gt;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'1-2 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'2-3 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'3-4 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Lead_Time&gt;<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Lead_Time&lt;=<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> detail=<span class="hljs-string"><span class="hljs-string">'2-3 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> detail=<span class="hljs-string"><span class="hljs-string">'above 5 years'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> detail ne <span class="hljs-string"><span class="hljs-string">'above 5 years'</span></span>; run;</code> </pre> <br><h2> æˆ‘ä»¬æ ¹æ®ç»™å®šæ¡ä»¶å°†åˆ›å»ºçš„SASæ•°æ®é›†åˆ†ä¸ºä¸¤éƒ¨åˆ† <br></h2><br> åœ¨ä¸€ä¸ªDATAæ­¥éª¤ä¸­ï¼Œæ‚¨å¯ä»¥åˆ›å»ºå¤šä¸ªSASæ•°æ®é›†ã€‚ ä¸ºæ¯ä¸ªå›½å®¶/åœ°åŒºåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„æ•°æ®é›†ã€‚ <br><br> ä¾‹å¦‚ï¼Œè¦æ£€æŸ¥â€œå›½å®¶/åœ°åŒºâ€åˆ—ä¸­çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PROC FREQ</a>è¿‡ç¨‹ã€‚ <br><br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">proc</span></span> freq <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">=company1; table </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Country</span></span></span><span class="hljs-class"> /nocum nopercent; run;</span></span></code> </pre> <br> æ­¤æ­¥éª¤è€ƒè™‘æ¥è‡ªå›½å®¶ï¼ˆåœ°åŒºï¼‰å˜é‡çš„ç‰¹å®šå€¼åœ¨data =å‚æ•°æŒ‡å®šçš„SASæ•°æ®é›†ä¸­å‡ºç°å¤šå°‘æ¬¡ã€‚ <br><br> æ­¤æ­¥éª¤çš„ç»“æœå¦‚ä¸‹ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iu/nw/d7/iunwd74wia2efvl8dufe1lss-wa.jpeg"></div><br> å› æ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨OUTPUTè¿ç®—ç¬¦å’Œæ¡ä»¶å¤„ç†åœ¨ä¸€ä¸ªDATAæ­¥éª¤ä¸­åˆ›å»ºä¸¤ä¸ªæ•°æ®é›†ï¼š <br><br><pre> <code class="hljs pgsql">data US AU; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>.company1; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Country=<span class="hljs-string"><span class="hljs-string">'AU'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> output AU; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Country=<span class="hljs-string"><span class="hljs-string">'US'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> output US; run;</code> </pre> <br> è¿è¡Œä»£ç å¹¶æŸ¥çœ‹æ—¥å¿—ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kp/ml/qh/kpmlqhkwiaykfvnpglwkzfjryiy.jpeg"></div><br> è¿™æ˜¯æœ‰å…³è¯»å–å’Œé…ç½®SASæ•°æ®é›†çš„ç®€è¦è¯´æ˜ã€‚ åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å‘æ‚¨ä»‹ç»å¦‚ä½•ä½¿ç”¨MERGEå’ŒSETè¯­å¥ç»„åˆæ•°æ®é›†ã€‚ <br><br> ä½œä¸ºPSï¼Œæˆ‘ä¼šæé†’æ‚¨SAS BASEè¯¾ç¨‹çš„ç»“æ„ï¼š <br><br> å·²ç»å‘è¡¨çš„æ–‡ç« ï¼š <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SAS BASEç¼–ç¨‹åŸºç¡€ã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬ä¸€è¯¾</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SAS BASEç¼–ç¨‹åŸºç¡€ã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬2è¯¾ã€‚æ•°æ®è®¿é—®</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SAS BASEç¼–ç¨‹åŸºç¡€ã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬3è¯¾ã€‚è¯»å–æ–‡æœ¬æ–‡ä»¶ã€‚</a> </li><li> æ‚¨åˆšåˆšå­¦ä¹ äº†ç¬¬å››è¯¾ã€‚ </li></ol><br> åœ¨ä»¥ä¸‹æ–‡ç« ä¸­ï¼Œæˆ‘è¦é‡ç‚¹ä»‹ç»è¯¸å¦‚åœ¨SAS Baseä¸­åˆå¹¶è¡¨ï¼ˆåˆå¹¶ï¼Œè®¾ç½®ï¼‰ï¼Œæ¡ä»¶å¤„ç†ï¼Œå¾ªç¯ï¼ŒSASå‡½æ•°ï¼Œåˆ›å»ºè‡ªå®šä¹‰æ ¼å¼ï¼ŒSASå®ï¼ŒPROC SQLä¹‹ç±»çš„é—®é¢˜ã€‚ <br><br><img src="https://habrastorage.org/webt/5h/3z/5l/5h3z5lwpgz1n66okrqwkvu6gnm0.png"> æˆ‘å¾ˆä¹æ„åœ¨è¯„è®ºä¸­åé¦ˆï¼ æ‚¨è¿˜å¸Œæœ›åœ¨æ–‡ç« ä¸­çœ‹åˆ°å“ªäº›å…¶ä»–ä¸»é¢˜ï¼Ÿ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN426765/">https://habr.com/ru/post/zh-CN426765/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN426747/index.html">2018å¹´ï¼ŒKDEé¡¹ç›®çš„å¼€å‘äººå‘˜æ”¶åˆ°äº†è¶…è¿‡50ä¸‡ç¾å…ƒçš„ææ¬¾ã€‚ ä¸ä»…ä»–ä»¬...</a></li>
<li><a href="../zh-CN426749/index.html">å’Œå¦»å­å’Œç‹—ä¸€èµ·æ¬åˆ°ä¼¦æ•¦ã€‚ ç§»åŠ¨å¼€å‘äººå‘˜çš„å†å²</a></li>
<li><a href="../zh-CN426753/index.html">é‚®ä»¶è®¾è®¡æ¯2018-ç•Œé¢è®¾è®¡å¸ˆç«èµ›</a></li>
<li><a href="../zh-CN426755/index.html">Windows 10å¼€å‘äººå‘˜å·²å®æ–½äº†é’ˆå¯¹å‹’ç´¢è½¯ä»¶ç—…æ¯’çš„é˜²æŠ¤ã€‚ å¯ä»¥é€šè¿‡DLLæ³¨å…¥æ¥è§„é¿</a></li>
<li><a href="../zh-CN426759/index.html">ç°ä»£æµ‹è¯•ä»ªçš„å›¾åƒã€‚ æ‚¨éœ€è¦çŸ¥é“å¹¶èƒ½å¤Ÿ</a></li>
<li><a href="../zh-CN426769/index.html">ã€Šæˆ‘çš„ä¸–ç•Œã€‹ä¸€ä¹¦ã€‚ ç”¨Pythonç¼–å†™ä¸–ç•Œã€‚ ç¬¬äºŒå›½é™…ç‰ˆ</a></li>
<li><a href="../zh-CN426771/index.html">æˆ‘ä»¬æ­£åœ¨ç”¨Pythonåšä¸€ä¸ªæœºå™¨å­¦ä¹ é¡¹ç›®ã€‚ ç¬¬ä¸‰éƒ¨åˆ†</a></li>
<li><a href="../zh-CN426773/index.html">ä¸“ä¸šä½¿ç”¨RecyclerViewçš„æç¤ºã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN426777/index.html">ä¸è‰¯çš„æŠ€æœ¯æ”¯æŒæç¤º</a></li>
<li><a href="../zh-CN426779/index.html">è½¦ç«™å¦‚ä½•è¿ä½œ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>