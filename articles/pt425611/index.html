<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêß üë®üèΩ‚Äçü§ù‚Äçüë®üèº üíØ Arquitetura de front-end de n√≠vel superior. Palestra Yandex üë©üèª‚Äçüè≠ üë®üèª‚ÄçüöÄ üà∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Escolher a arquitetura certa √© uma parte essencial da constru√ß√£o de um servi√ßo front-end. A desenvolvedora Anna Karpelevich disse aos alunos da Escola...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arquitetura de front-end de n√≠vel superior. Palestra Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/425611/">  Escolher a arquitetura certa √© uma parte essencial da constru√ß√£o de um servi√ßo front-end.  A desenvolvedora Anna Karpelevich disse aos alunos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">da Escola de Desenvolvimento de Interface o</a> que √© arquitetura, quais fun√ß√µes ela desempenha e quais problemas resolve.  Na palestra, voc√™ pode aprender sobre as abordagens arquitet√¥nicas mais populares no front-end: Model-View- * e Flux. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/mWeq5Kh6tlM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Boa noite  Meu nome √© Anya Karpelevich.  Hoje falaremos sobre a arquitetura do front-end de n√≠vel superior. <a name="habracut"></a><br><br>  Eu trabalho no Yandex.Direct.  Fazemos interfaces para anunciantes.  Eles publicam an√∫ncios, os personalizam.  Este √© um sistema muito complexo e interessante, com muitos componentes interconectados, eles crescem um no outro, t√™m uma funcionalidade comum e pr√≥pria.  "As cal√ßas se transformam em shorts elegantes."  Tudo isso tem que ser cuidadosamente controlado.  E a arquitetura em nossos aplicativos √© muito complexa.  Esta √© uma das raz√µes pelas quais estou dando esta palestra hoje.  Eu realmente amo esse t√≥pico. <br><br>  O que √© arquitetura?  O fato √© que provavelmente n√£o h√° resposta para essa pergunta.  Ou existe, mas cada um tem o seu.  Este √© um t√≥pico muito controverso.  Isso causa muita controv√©rsia, muitos holivares.  E muito do que vou falar hoje √© minha opini√£o.  Em parte, √© apoiado pelo meu grupo de trabalho, em parte n√£o muito.  E todo mundo, quando ele escreve a arquitetura de seu aplicativo, decide por si mesmo como e o que fazer. <br><br>  √â por isso que a arquitetura √© um dos lugares mais criativos no trabalho de um programador.  E, portanto, nossa apresenta√ß√£o hoje tamb√©m come√ßar√° com criatividade. <br><br><img src="https://habrastorage.org/webt/bv/2m/kk/bv2mkka_ztkeyh6qgwvizb_oqsk.jpeg"><br><br>  Vamos olhar para a foto da esquerda.  Ficarei muito feliz se algu√©m reconhecer o edif√≠cio que √© mostrado nele.  Esta √© a igreja de Saint-Sulpice em Paris.  Preste aten√ß√£o nas torres, por causa delas esta igreja foi colocada aqui.  Espero que sejam diferentes.  Eles s√£o bem diferentes, e h√° uma raz√£o interessante para isso.  Entre eles 130 anos de diferen√ßa.  Em seguida, a torre esquerda foi demolida e reconstru√≠da durante a guerra franco-prussiana. <br><br>  Por que ela est√° aqui?  Olhe para esta foto.  As torres t√™m a mesma arquitetura e todo o ambiente, essas vinhetas, lumin√°rias e estruturas em arco s√£o diferentes.  Porque  Porque o objetivo dessas torres √© o mesmo.  Nenhum deles, por exemplo, era uma torre sineira.  Estas s√£o apenas torres.  Algo estava guardado neles e todo o resto era diferente.  Porque  Porque a arquitetura dessas torres √© a mesma.  Ambos t√™m um cofre, apenas uma janela, e √© uma lanceta.  As janelas t√™m aproximadamente a mesma altura.  E a ideia √© que a arquitetura, tanto edif√≠cios quanto aplicativos, seja uma estrutura de suporte.  Isso n√£o √© uma vinheta, n√£o √© uma cintila√ß√£o, n√£o √© uma implementa√ß√£o.  √â isso que est√° no centro.  E essa base, via de regra, depende do ambiente, do solo, quando se trata do edif√≠cio, da meta que o arquiteto estabelece para si, mas quase nunca depende de aprimoramentos de design. <br><br>  O exemplo de constru√ß√£o para o tema da arquitetura √© bastante √≥bvio.  Mas a imagem certa √© mais interessante.  "Arquitetura √© m√∫sica entorpecida."  "Architektur ist gefrorene Musik", disse Johann Wolfgang Goethe no s√©culo XVIII.  Goethe provavelmente n√£o sabia nada sobre a arquitetura dos edif√≠cios, ele era um poeta.  E ele tinha certeza de n√£o saber nada sobre arquitetura de aplicativos.  Mas ele expressou uma ideia muito valiosa e interessante. <br><br>  A m√∫sica existe na din√¢mica.  Isso n√£o √© algo est√°tico.  Este √© um processo.  E assim, um aplicativo √© um processo.  Ele tem um momento de lan√ßamento, ele tem um momento de desenvolvimento, quando fazemos algo com ele, trabalho.  E ele finalmente tem um momento de conclus√£o.  A arquitetura do aplicativo √© sua fatia a qualquer momento.  A qualquer momento, nossa aplica√ß√£o, como tema musical, deve ser clara, clara, compreens√≠vel, previs√≠vel etc. Caso contr√°rio, tudo desmoronar√°. <br><br>  Com esta introdu√ß√£o criativa, terminamos, passamos a coisas mais mundanas, mais pr√≥ximas da pr√°tica de criar aplicativos. <br><br>  O que √© arquitetura e por que √© necess√°rio? <br><br><img src="https://habrastorage.org/webt/yc/9k/e9/yc9ke9y2n-ywlc5u8esvrfhhe4k.jpeg"><br><br>  Primeiro, temos a organiza√ß√£o de uma grande quantidade de c√≥digos, algo que n√≥s no Direct, e n√£o apenas no Direct, encontramos o tempo todo.  H√° tanto c√≥digo que voc√™ pode se perder nele.  N√£o queremos nos perder no c√≥digo. <br><br>  Em segundo lugar, duplica√ß√£o de funcionalidade.  Esse tamb√©m √© um problema eterno que voc√™ sempre encontrar√°, e hoje esse t√≥pico da duplica√ß√£o passar√° pela linha vermelha por toda a palestra.  A mesma funcionalidade que podemos precisar em v√°rios lugares na interface.  Se for necess√°rio em v√°rios locais, deve ser fisicamente o mesmo c√≥digo usado em v√°rios locais, n√£o uma c√≥pia.  Porque  Falaremos mais sobre isso.  Mas a arquitetura deve nos ajudar a evitar copiar e colar. <br><br>  Terceiro √© o apoio.  √â √≥bvio que, se temos um aplicativo, precisamos apoi√°-lo de alguma forma, e √© aconselh√°vel que todos os recursos da equipe n√£o sejam desperdi√ßados nisso. <br><br>  Mude a composi√ß√£o da equipe.  Tamb√©m √© algo que encontramos na vida real com mais frequ√™ncia do que gostar√≠amos.  Algu√©m vem, algu√©m sai, e se uma pessoa passa seis meses para inserir o c√≥digo, isso √© ruim.  Se o conhecimento do c√≥digo for armazenado em apenas um cabe√ßalho e transmitir√° esse conhecimento por seis meses em caso de sa√≠da, isso √© ainda pior.  Em geral, aqui a arquitetura tamb√©m nos ajuda a tornar tudo isso mais compreens√≠vel e a manter o compartilhamento de conhecimento. <br><br>  Adicionando e expandindo funcionalidade.  Tamb√©m √© uma coisa bastante √≥bvia.  O gerente vem correndo at√© n√≥s e diz que isso √© urgentemente necess√°rio.  E se, para fazer isso com urg√™ncia, voc√™ precisa gastar muito tempo e esfor√ßo, essa √© uma solu√ß√£o arquitet√¥nica ruim.  E n√≥s precisamos do bem. <br><br>  E, finalmente, erros.  Quanto mais compreens√≠vel, previs√≠vel nossa arquitetura, mais f√°cil √© procurar erros, menos bugs. <br><br>  Como tudo isso pode ser chamado?  Tudo isso pode ser chamado - os problemas de um sistema complexo.  Um aplicativo √© um sistema complexo; a arquitetura nos ajuda a resolver um problema. <br><br><img src="https://habrastorage.org/webt/fe/dm/o7/fedmo7no6wpl7dcco8nn-o8ktiu.jpeg"><br><br>  Em suma, de alguma forma.  Aqui est√° uma imagem de macarr√£o √† minha direita, e √© isso que acontece se voc√™ n√£o segue a arquitetura, se n√£o a constr√≥i, pensa e projeta.  E a segunda imagem √© o que acontece se a arquitetura for pensada de alguma forma.  Este n√£o √© Saint-Sulpice, mas pelo menos um designer infantil, ele se mant√©m firme e n√£o desmorona.  Hoje jogaremos muito construtor tamb√©m. <br><br><img src="https://habrastorage.org/webt/ke/kg/57/kekg57hzr3erft5cfqrelnfgjwa.jpeg"><br><br>  Formalmente sobre tudo isso.  A arquitetura √© uma maneira de resolver os problemas de um sistema complexo abstraindo a implementa√ß√£o da interface e diferenciando os poderes entre os blocos de c√≥digo.  Al√©m disso, analisaremos essa longa frase em detalhes. <br><br>  Quais s√£o os recursos da arquitetura de aplicativos como um campo de conhecimento?  Ela tem uma √°rea espec√≠fica com a qual trabalhamos.  Ou seja, n√£o √© algo abstrato, √© uma coisa muito espec√≠fica.  Aqui est√° a tarefa: selecionamos a arquitetura para ela, e n√£o para que, oooh, uma abordagem arquitet√¥nica interessante, devemos tentar.  Ent√£o n√£o.  Voc√™ pode experimentar algo pequeno, mas para um projeto s√©rio, a arquitetura √© selecionada, algumas vezes composta para um projeto espec√≠fico. <br><br>  A hist√≥ria da quest√£o, quando, em geral, surgiu a id√©ia de que a arquitetura deveria ser feita.  Devo dizer que, certa vez, uma id√©ia extraordin√°ria foi expressa em 1968 por Edsger Dijkstra, um programador maravilhoso.  Ele provavelmente √© mais conhecido como o autor do algoritmo Dijkstra, a busca pelo caminho mais curto em um gr√°fico.  Mas ele tem muitas id√©ias inovadoras para o seu tempo.  E um deles √© um artigo, ent√£o darei uma refer√™ncia aos materiais, voc√™ pode ler, existem apenas duas p√°ginas, um pequeno ensaio.  Parece ‚ÄúOperador GOTO considerado prejudicial‚Äù, na tradu√ß√£o ‚ÄúOperador GOTO - operador de transi√ß√£o incondicional - mal‚Äù.  Foi o primeiro pensamento que vamos dizer oficialmente que precisamos escrever arquitetura, n√£o macarr√£o. <br><br>  Nos anos 70, essa id√©ia j√° foi desenvolvida por Dijkstra em colabora√ß√£o com Parnassus, e por conta pr√≥pria, individualmente.  O primeiro livro detalhado sobre arquitetura de aplicativos em geral foi escrito em 1996 por Mary Shaw e David Garlan.  Depois disso, de fato, esses livros detalhados sobre arquitetura de software n√£o foram escritos precisamente por causa do escopo, de modo que cada campo de conhecimento tem suas pr√≥prias abordagens arquitet√¥nicas, em algum lugar, em algum lugar mais popular, em geral n√£o aplic√°vel em alguns lugares.  E como a arquitetura √© um processo criativo, voc√™ n√£o encontrar√° livros espec√≠ficos sobre como escrever arquitetura.  Talvez depois de 1996 n√£o houvesse nada particularmente detalhado sobre esse assunto. <br><br>  Quais s√£o os requisitos para a arquitetura do projeto agora.  Em primeiro lugar, e mais importante, o que √© necess√°rio √©, de fato, extensibilidade, porque se o seu projeto n√£o se expandir, ele estar√° morto. <br><br>  Reutilizando c√≥digo.  √â sobre a pr√≥pria c√≥pia e colagem.  Se voc√™ tiver dois blocos usados ‚Äã‚Äãem dois locais diferentes, precisar√° da mesma funcionalidade, reutilizar o mesmo c√≥digo e a arquitetura dever√° ser tal que qualquer parte do c√≥digo possa ser usada e reutilizada assim que necess√°rio . <br><br>  Separa√ß√£o de autoridade entre os m√≥dulos de c√≥digo.  Falaremos sobre isso hoje em mais detalhes, por que isso √© necess√°rio.  A id√©ia √© a seguinte: cada m√≥dulo, cada bloco, cada peda√ßo de c√≥digo deve executar uma a√ß√£o espec√≠fica, realizar exatamente uma fun√ß√£o.  E essa fun√ß√£o deve ser colocada no t√≠tulo deste m√©todo, classe, seja l√° o que for, m√≥dulo.  Um m√≥dulo - uma fun√ß√£o. <br><br>  E, finalmente, a qualidade das aplica√ß√µes.  Gostaria de fazer muitas coisas - confiabilidade e compatibilidade com vers√µes anteriores.  Na realidade, novamente, ele √© selecionado para a tarefa.  Em algum lugar, a compatibilidade com vers√µes anteriores √© necess√°ria para que, em nenhum caso, algo se mova.  Em algum lugar, a confiabilidade √© necess√°ria para que Deus n√£o permita que senhas, c√≥digos PIN de cart√µes ou CVVs n√£o vazem para lugar algum.  Em algum lugar, voc√™ precisa estar livre de problemas se for um sat√©lite ou outra coisa.  Em geral, escolha alguns.  Quanto mais voc√™ deseja oferecer suporte, mais complexidade voc√™ provavelmente encontrar√° na arquitetura. <br><br>  Al√©m disso, falaremos com voc√™ sobre algumas defini√ß√µes, exatamente essas coisas enciclop√©dicas.  Por que isso √© importante?  Porque a terminologia na arquitetura √© muito importante e precisamos falar o mesmo idioma com voc√™.  As defini√ß√µes na maioria das vezes s√£o tiradas do paradigma de programa√ß√£o chamado OOP.  Mas, de fato, eles surgiram em outros paradigmas, com os termos ‚Äúclasse, objeto, interface‚Äù que operam n√£o apenas dentro da estrutura da OOP.  No entanto, essas defini√ß√µes e entendimento s√£o retirados precisamente do mundo da OOP. <br><br><img src="https://habrastorage.org/webt/wh/dt/05/whdt05wzktnd2lfx3clnz2t5hq0.jpeg"><br><br>  A coisa mais simples √© a classe.  O que √© uma aula?  Este √© um modelo, isto √© uma amostra.  Por exemplo, a classe Snake √© a classe Snake.  Definimos tr√™s campos particulares com ela, ou seja, um campo que n√£o √© acess√≠vel a ningu√©m, exceto aos m√©todos da pr√≥pria classe - o n√∫mero de objetivos, o n√∫mero de caudas e o comprimento dos papagaios.  Determinamos o construtor no qual colocamos essas mesmas cabe√ßas, caudas e comprimento em papagaios.  Tem a classe Snake.  Tudo √© simples. <br><br><img src="https://habrastorage.org/webt/bt/r6/dh/btr6dhizspc6nag8fusfusqb5ti.jpeg"><br><br>  N√≥s estamos indo al√©m.  Objeto.  E um objeto √© uma inst√¢ncia de uma estrutura espec√≠fica.  Al√©m disso, novamente no POO cl√°ssico, est√° impl√≠cito que um objeto √© um objeto de uma classe.  No mundo moderno, em JavaScript, que nem sempre era uma linguagem OOP, e mesmo agora nem sempre √© em todo lugar, sabemos que pode haver objetos abstratos.  Ou seja, podemos criar um objeto, um literal, que n√£o ser√° um objeto da classe.  Mas aqui est√° um exemplo de como criamos um objeto da classe Snake.  Aqui temos uma cobra de duas caudas com 38 papagaios - uma jib√≥ia. <br><br><img src="https://habrastorage.org/webt/20/8j/jb/208jjb0c46u5ap_6yhdvjjdb0-k.jpeg"><br><br>  M√≥dulo  Um m√≥dulo √© uma unidade sem√¢ntica.  Isso nem sempre √© uma aula.  Pode ser um conjunto de classes, um conjunto de objetos, um conjunto de m√©todos que n√£o s√£o combinados em classes.  Geralmente, voc√™ pode assumir que um m√≥dulo √© o que voc√™ escreveu em um √∫nico arquivo.  Mas, em princ√≠pio, o m√≥dulo √© a pasta em que se encontram, por exemplo, o arquivo e os testes para esse m√≥dulo tamb√©m s√£o um m√≥dulo.  O importante aqui √© que um m√≥dulo √© o que voc√™ chama de m√≥dulo, o que voc√™ considera uma unidade de sem√¢ntica.  Neste caso, o m√≥dulo √© sobre como comemos cobras.  O resultado deste m√≥dulo √© o √∫ltimo m√©todo, eatSnake, como comemos cobras.  N√£o sei por que comemos cobras, mas podemos faz√™-lo, porque escrevemos esse m√≥dulo assim. <br><br><img src="https://habrastorage.org/webt/3r/0u/lr/3r0ulrmuomtsrmbuuqz0x9mbfye.jpeg"><br><br>  Foi trivial, ent√£o uma coisa um pouco mais interessante come√ßar√°.  Interface de classe.  A interface de uma classe √©, mais simplesmente, seus m√©todos p√∫blicos, o que ela destaca, o que podemos obter de um objeto dessa classe a partir de um objeto de fora.  Esta classe implementa a interface getSnakeLength.  Ele pode devolver o comprimento da cobra para n√≥s.  Observe que n√£o h√° acesso externo a campos particulares.  O acesso externo √© apenas para o m√©todo p√∫blico getSnakeLength. <br><br><img src="https://habrastorage.org/webt/pw/k-/eq/pwk-eqd0mzubaatv3mkauzqtdmq.jpeg"><br><br>  E ent√£o uma coisa muito interessante.  Discutimos por muito tempo como chamar isso, porque cunhei o termo "interface abstrata" quando criei essa palestra.  E honestamente, nunca vi uma defini√ß√£o normal dessa abordagem e m√©todo.  No entanto, muitas linguagens de programa√ß√£o permitem criar interfaces abstratas e cham√°-las, assim que n√£o abstraem classes, e interfaces abstratas tamb√©m, apenas interfaces.  Acontece um hom√¥nimo com a interface da classe.  A id√©ia √© que uma interface abstrata seja um conjunto de m√©todos que fazem alguma coisa.  Quando criamos uma classe, passamos da pergunta "o que √© isso?"  Esta √© uma cobra e ela sabe como fazer algo, ou n√£o.  Ela pode apenas dar seu comprimento. <br><br>  E quando criamos a interface, partimos do que ele faz, do que ele deve ser capaz de fazer.  E isso prova ser uma maneira muito poderosa de estender as classes.  Podemos atribuir classes a algumas classes, expandindo-a com a ajuda de interfaces.  Por exemplo, a estrutura do I-BEM pode fazer isso, uma hist√≥ria com interfaces abstratas √© incorporada √† estrutura.  Infelizmente, muitas estruturas n√£o sabem como e a coisa √© poderosa. <br><br>  Aqui, como exemplo, criamos a interface audi√°vel, algo que pode soar.  E sua defini√ß√£o √© o m√©todo getNoise vazio abstrato.  Expandimos nossa cobra com a classe audible, implementamos seu m√©todo getNoise e nossa cobra sibilou.  A inspira√ß√£o para esse conjunto de exemplos me foi dada pelo maravilhoso livro de Eric Freeman e Design Patterns. <br><br>  Agora, tentaremos analisar esses exemplos um pouco mais especificamente. <br><br><img src="https://habrastorage.org/webt/rm/pb/df/rmpbdf8kcpdxy3n-o7elkjqzuf8.jpeg"><br><br>  Mas primeiro, vamos falar sobre por que esses exemplos foram necess√°rios.  E eles eram necess√°rios aqui para este grande slide.  O que est√° escrito aqui √© t√£o importante que eu at√© o coloco no bloco de t√≠tulo amarelo.  Pode-se dizer um mantra.  Esse √© um princ√≠pio muito importante que voc√™ precisa sempre pensar sobre isso ao projetar a arquitetura.  Alta coes√£o, baixo acoplamento - ades√£o forte, conectividade fraca.  H√° um certo problema com o fato de que a palavra coes√£o e a palavra acoplamento s√£o traduzidas para o russo e assim por diante, e assim por diante, ‚Äúconex√£o‚Äù √© traduzida, a palavra acoplamento foi especialmente inventada para esse princ√≠pio. <br><br>  Essa √© a ideia.  Seus blocos devem ser muito compactos, muito acoplados.  Eles devem implementar exatamente uma fun√ß√£o.  E entre si, eles devem ser conectados com muita facilidade, para que possam ser facilmente combinados, montados, como um designer.  E ent√£o sua arquitetura ser√° flex√≠vel o suficiente e confi√°vel o suficiente.  E tamb√©m f√°cil de testar. <br><br>  Vamos ver como podemos obter tra√ß√£o forte e acoplamento fraco nos pontos do que √© chamado. <br><br><img src="https://habrastorage.org/webt/tj/ii/da/tjiida1_0svgswa1j7at7e36wto.jpeg"><br><br>  Especializa√ß√£o.  Cada bloco resolve apenas um problema.  Aqui temos uma boa ilustra√ß√£o - um designer infantil.  Temos todos os blocos ou um conjunto de blocos.  Eles s√£o todos da sua forma, seu tamanho.  E se precisarmos construir uma casa, tomaremos barras longas.  Se precisarmos construir uma bola, pegaremos barras curtas.  Cada barra tem sua pr√≥pria fun√ß√£o.  E quem jogou construtores sabe: quanto mais simples o formato das pe√ßas, mais voc√™ pode construir a partir delas.  Nada ser√° constru√≠do a partir dessa zagogulina, ou apenas o que √© descrito na instru√ß√£o √© constru√≠do.  E quem precisa disso? <br><br>  A mesma coisa, abstra√ß√£o.  Trata-se da abstra√ß√£o da interface da implementa√ß√£o.  A id√©ia √© que a interface seja externa, como nossa classe √©, nosso bloco se destaca, como ele interage com outros blocos n√£o deve afetar sua implementa√ß√£o interna.  Pelo contr√°rio - isso acontece.  A outra maneira - nunca.  Em uma boa arquitetura.  Aqui, como exemplo, a forma√ß√£o dessas espinhas n√£o afeta a forma do pr√≥prio bloco.  Selecionamos separadamente a forma do bloco e colamos colas nele. <br><br><img src="https://habrastorage.org/webt/mz/jv/cp/mzjvcphyv-ww_qxak1dkhrayj04.jpeg"><br><br>  Encapsulamento.  Continua√ß√£o do t√≥pico anterior.  Nos m√©todos privados, ou seja, de dentro de nossos blocos, percebemos o pr√≥prio significado de nosso bloco, implementa√ß√£o.  E a interface, a maneira como eles est√£o conectados, √© p√∫blica.  Ou seja, neste caso, todos esses cruzamentos, h√≠fens e o pr√≥prio formul√°rio s√£o implementados.  E espinhas s√£o a interface.  E uma boa arquitetura parece um construtor. <br><br><img src="https://habrastorage.org/webt/mn/fj/sz/mnfjszrrwxblgrmhty4jcxchpf4.jpeg"><br><br>  Oh, que monstro assustador.  Trata-se de reutilizar c√≥digo.  Inicialmente, esse monstro, na verdade, deveria mostrar um exemplo de arquitetura pobre, mas olhe para ele com cuidado.  Ele √© lindo  Al√©m disso, ele est√° claramente satisfeito com sua vida, corre com bastante vigor em suas estranhas pernas.  Talvez ele at√© saiba voar, ou pelo menos tenha belas asas de borboleta. <br><br>  Qual √© a ideia?  Se voc√™ tem uma implementa√ß√£o para um camelo e uma implementa√ß√£o para um crocodilo, e um gerente chega at√© voc√™ e diz que um camelo-crocodilo √© urgentemente necess√°rio.  Voc√™ n√£o escreve separadamente um crocodilo de camelo.  Voc√™ pega o corpo de um camelo, separa-o de toda a realiza√ß√£o do camelo.  Pegue a cabe√ßa do crocodilo, separe-a do crocodilo e reutilize os blocos.  Por que isso √© necess√°rio? <br><br>  Ent√£o, quando o gerente voltar correndo para voc√™ e disser que estamos nos expandindo com urg√™ncia para a Am√©rica do Sul, e existem jacar√©s, precisamos manter um formato irregular da mand√≠bula ou que ali, o quarto dente do crocodilo n√£o √© assim, voc√™ n√£o se atrapalhar√° com todo o projeto , onde voc√™ copiou as cabe√ßas dos crocodilos.  Porque voc√™ pode ter outro crocodilo-zebra-bis√£o por perto.  Voc√™ apenas pega na sua classe a cabe√ßa de um crocodilo, faz uma extens√£o da s√©rie da cabe√ßa do jacar√©, fornece os par√¢metros, ele determina por si mesmo quais dentes desenhar para ele.  E isso √© tudo.  Em um s√≥ lugar, e n√£o em todos os lugares em que √© usado. <br><br>  Aqui, a confiabilidade aumenta √†s vezes, porque voc√™ tem a garantia de esquecer algumas cabe√ßas copiadas em um projeto muito raro.  Em geral, n√£o h√° nada errado com esses cad√°veres.  Bom cad√°ver, √∫til. <br><br><img src="https://habrastorage.org/webt/hm/mn/rq/hmmnrqebwtywkhb8c5o35gv7n6a.jpeg"><br><br>     -   .  ,  .     TypeScript,    .    ,   .  ,      ,      ,  TypeScript 2.7  ,     (     ‚Äî . .). <br><br> ,     User.      .  .    User  ,     . User  ,    ,   . <br><br>      printLabel.    User.  ,    User  User,     .  User  User  ,  ,   .  -  ,   . <br><br>  , ?    , . , .    , ‚àí   ,    UserWithSurname, ,      printLabel.   ? , ,    ,      ,   . -   ?    ,      .    , ‚àí  ,  .      . PrintLabel    . ?     ? ,  . <br><br>  ,       .  ,      .  , ,    .  ,   if,     ,   .  ,    ,    . <br><br><img src="https://habrastorage.org/webt/lz/u5/bt/lzu5btqwmkn4qlxej0cwvrpq4xk.jpeg"><br><br>    printLabel,   ,  iPrintLabel   ,  iPhone,    .     -   getText.   User,   iPrintLabel.   , ,     ,  -  ,   getText  iPrintLabel,            ,     . UserWithSurname,     User,        Surname   getText.   printLabel   .    iPrintLabel    getText. <br><br>    ,    ,  ,  .  . , ,     .     , , ,       , ,    iPrintLabel,     ,  ,  , ‚àí .  printLabel     .   ,           . <br><br>       .   ,   ,    ,      front-end,  , .          ,    front-end  , , . <br><br><img src="https://habrastorage.org/webt/pn/fz/mb/pnfzmbqi3a7_xxro1ocxrnfelf4.jpeg"><br><br>    -?  .    -  back-end.     - API, ,    REST API   REST.   ‚Äî   , ‚àí      -.         ,   , - PowerPoint,     .      . <br><br>      front-end. Front-end   -  .   -  ,         .  ,   - .   .      .    , -, .     ,     ,      . . <br><br>          front-end,    ,    ,       ,    ,      ,   ,     . <br><br><blockquote> &gt; - ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Client-server</a> ) <br> &gt;  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Component-based</a> ) <br> &gt;  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Event-driven</a> ) <br> &gt; REST ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Representational state transfer</a> ) <br> &gt; --*( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MVC</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MVP</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MVVM</a> ) <br> &gt;    ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flux</a> ) </blockquote><br>  Essas s√£o as abordagens arquitet√¥nicas.  Alguns deles mencionamos hoje.  Arquitetura do servidor cliente;  arquitetura de componentes, uma de suas varia√ß√µes √© familiar para voc√™ do React, espero familiar.  Evento, que, curiosamente, tamb√©m √© familiar para todos, √© baseado em quase todos os sistemas operacionais de computadores pessoais.  REST, o que amamos no servidor, e os dois √∫ltimos, que conheceremos hoje em detalhes, s√£o os mais front-end, com o qual trabalhamos √© um modelo de apresenta√ß√£o * e fluxos de dados unidirecionais. <br><br>  Vamos come√ßar com o MV *.  Por que um asterisco?  A hist√≥ria, como se costuma dizer, cheia de dor e raiva.  Era uma vez, nos anos 80, a maravilhosa abordagem arquitet√¥nica do MVC foi inventada.  Modelo M, Vista V, Controlador C.  A abordagem foi muito conveniente.  Inventou-o geralmente para aplicativos de console.  Mas quando as tecnologias da web come√ßaram a se desenvolver, quando todas come√ßaram a us√°-lo, √†s vezes era necess√°rio, aqui o modelo de MV √© bom, mas o Controller n√£o √© implementado da maneira correta.  Como resultado, houve muitas varia√ß√µes diferentes da implementa√ß√£o do Model-View - algo que a princ√≠pio ficou confuso devido ao fato de ser chamada de MVC.  Porque, se existe um modelo de MV, o terceiro √© o Controller, n√£o importa o que realmente colocamos l√°. <br><br>  Ent√£o, as pessoas ficam confusas e querem dizer coisas completamente diferentes pelo MVC.  Por volta de agora, n√£o mais de um ano atr√°s, eles come√ßaram a compartilhar ativamente essa terminologia e a criar seus pr√≥prios nomes para cada implementa√ß√£o dessa abordagem.  De um jeito ou de outro, esse MV * apareceu.  Eu tamb√©m vi o termo MVW na Internet, onde W √© o que quer.  Bem, estamos mudando, de fato, para as tecnologias MVC. <br><br><img src="https://habrastorage.org/webt/mv/yc/fu/mvycfuvbvwewv3dyc3jzfqnxgdo.jpeg"><br><br>  Como eles est√£o organizados?  A id√©ia √© que temos um modelo que armazena dados.  Geralmente existem muitos deles.  Existe algum tipo de exibi√ß√£o que mostra esses dados para o usu√°rio.  Eles, como regra, tamb√©m s√£o muitos.  E um terceiro componente, que √© um intermedi√°rio entre eles, conecta dados e exibi√ß√£o.  Aqui, o usu√°rio no canto superior direito trabalha com tudo isso. <br><br><img src="https://habrastorage.org/webt/hn/32/tk/hn32tkw40hvqtfjylhpbguvvu40.jpeg"><br><br>  MVC, tudo come√ßou em 1980, Smalltalk.  Mas √© dessa forma que existe em algumas estruturas at√© agora.  N√£o em alguns, em muitos.  Qual √© a ideia?  O usu√°rio trabalha diretamente com a visualiza√ß√£o e o controlador.  Ele insere dados em alguns campos da visualiza√ß√£o, pressiona o bot√£o enviar e os dados v√£o para o controlador.  Este √© um envio de formul√°rio.  Uma submiss√£o de formul√°rio t√£o honesta pelo bot√£o enviar, familiar a todos por um longo tempo, espero. <br><br>  N√≥s olhamos.  A seta amarela do usu√°rio para o controlador - este √© o usu√°rio transferiu os dados para o controlador usando o bot√£o Enviar.  Uma seta verde - o controle passou por l√°.  O controlador analisa esses dados.  Talvez ele de alguma forma os processe, as sutilezas da implementa√ß√£o j√° est√£o aqui e as envie para o modelo desejado.  O pr√≥prio controlador escolhe qual modelo enviar.  Envia uma seta verde, envia dados com uma seta amarela. <br><br>  O modelo tamb√©m processa dados.  Talvez ela os valide.  Talvez ela os coloque na base.  Em suma, o modelo sabe o que fazer com eles.  Como regra, o resultado s√£o novos dados.  Por exemplo, podemos dizer ao usu√°rio se ele efetuou login ou n√£o, e o modelo verificou a senha com o login.  Depois disso, o modelo transfere o controle para o controlador novamente, para que o controlador selecione qual visualiza√ß√£o exibir.  E os dados v√£o diretamente para o View.  Como isso pode ser feito, em geral, como um modelo pode enviar dados para uma visualiza√ß√£o? <br><br><img src="https://habrastorage.org/webt/sj/kl/f5/sjklf5h9jknh0zzhtdhfio2pkvm.jpeg"><br><br>  Muito simples  Se o controlador e o modelo estiverem no backend e a Visualiza√ß√£o de modelo estiver do lado do servidor.  √â assim que as estruturas Ruby on Rails, ASP.NET e Django s√£o organizadas, em geral, onde quer que voc√™ escreva modelos do lado do servidor, e o HTML coletado chega ao cliente, e os dados tamb√©m retornam, com uma alta probabilidade, √© essa abordagem.  Quais s√£o os problemas aqui?  Em um aplicativo de p√°gina √∫nica, isso n√£o pode ser constru√≠do.  Temos constantemente dados no servidor, no servidor, a p√°gina √© recarregada.  Em segundo lugar, n√£o est√° totalmente claro onde empurrar a valida√ß√£o do cliente e, em geral, o JavaScript do cliente, o AJAX e tudo isso aqui?  Porque se queremos algo r√°pido, em lugar nenhum.  Simplesmente n√£o funciona nessa abordagem ou funciona para que n√£o funcione melhor. <br><br>  A √∫ltima linha aqui, esta √© uma hist√≥ria t√£o interessante, enraizada, ao que parece, em 2008.  A quest√£o era: onde armazenar a l√≥gica de neg√≥cios - no modelo ou no controlador?  Houve quem dissesse: "Armazenamos a l√≥gica de neg√≥cios no controlador, porque √© conveniente e dados limpos imediatamente s√£o enviados ao modelo.  O controlador se validar√°, verificar√° novamente, se houver, e enviar√° um erro ".  Houve quem dissesse que "o resultado s√£o controladores feios e est√∫pidos, controladores feios e grossos".  Eles realmente ficaram enormes.  E eles disseram que a l√≥gica de neg√≥cios deve estar no modelo, e o controlador deve ser fino, leve, transferido os dados, o pr√≥prio modelo processado.  E ent√£o, na primeira vers√£o, o modelo, em geral, acaba sendo apenas uma API para o banco de dados. <br><br>  Como, na minha opini√£o, realmente?  De fato, voc√™ precisa observar as tarefas deles.  Se voc√™ tem uma conex√£o entre uma visualiza√ß√£o e um modelo que √© sempre um para um, uma visualiza√ß√£o √© um modelo, √© conveniente executar l√≥gica de neg√≥cios em controladores e criar um modelo simples e limpo, que, de fato, ser√° uma API para o banco de dados.  Se suas visualiza√ß√µes e modelos puderem se sobrepor e uma visualiza√ß√£o depender de muitos modelos, o modelo funcionar√° com muitas visualiza√ß√µes, √© conveniente que voc√™ tenha muitos controladores finos e os multiplique em qualquer progress√£o, n√£o se importa quantos existem, eles ainda s√£o pequenos. <br><br>  Devo dizer que o mundo parece ter conquistado o segundo ponto de vista, com a l√≥gica de neg√≥cios nos modelos.  Ou seja, esses controladores feios e est√∫pidos parecem n√£o ser t√£o ativamente usados.  Sinais, voc√™ pode assistir o que, na documenta√ß√£o do ASP.NET, a estrutura em 2013, prop√¥s a l√≥gica comercial nos controladores.  E nas √∫ltimas vers√µes em 2014 - nos modelos.  Houve um momento muito interessante quando isso mudou. <br><br>  O que o MVC tem problemas.  N√≥s j√° falamos com eles, mas iremos.  Testar como n√£o est√° claro como implementar a valida√ß√£o do cliente √© poss√≠vel, mas dif√≠cil, o AJAX est√° parafusado na lateral, voc√™ precisa fazer alguma coisa.  Eles vieram com uma solu√ß√£o.  A solu√ß√£o foi chamada MVP e, sim, voc√™ pode conhecer o MVP na estrutura com o texto que eles s√£o MVC.  Por exemplo, estrutura do Backbone MVP.  Sobre ele por um longo tempo na documenta√ß√£o no mesmo 2011-2012-2013, foi escrito que essa √© uma estrutura MVC. <br><br><img src="https://habrastorage.org/webt/4y/w2/ge/4yw2geofqyb5tmvj1fpv6o-q__e.jpeg"><br><br>  Model-View-Presenter.  Seu esquema j√° √© muito mais simples.  Existem modelos.  Eles interagem um com o outro.  Eles fornecem dados ao Presenter, o Presenter os transfere para a visualiza√ß√£o, os mostra ao usu√°rio.  E de volta.  O usu√°rio direciona algo para a visualiza√ß√£o, clica no bot√£o, o Presenter olha, o AJAX envia para o modelo ou coloca no modelo, e o modelo AJAX envia para o servidor.  Ou seja, tudo j√° √© muito mais simples e linear, mas sem a padroniza√ß√£o do servidor j√° haver√° dificuldades.  Se voc√™ deseja um servidor, esse sistema ser√° complicado. <br><br><img src="https://habrastorage.org/webt/by/k2/sp/byk2spod-5nthacsrxtjmbcxvwg.jpeg"><br><br>  Vamos comparar.  Vejamos a primeira imagem, na qual tentaremos implementar uma coisa muito simples: enviar dados de entrada para o modelo.  N√≥s inserimos algo, clicamos em um bot√£o, ele deve aparecer no modelo, o modelo far√° algo com isso e nos dir√° que algo aconteceu.  Entramos: ‚Äúmeu nome √© Vasya‚Äù, clicamos em ok.  Se queremos valida√ß√£o do lado do cliente, isso acontece aqui, quase por intercepta√ß√£o, em casos especialmente graves, interceptando um clique atrav√©s de event.preventDefault ().  E em algum lugar, um ponto zero na lateral aparafusava a valida√ß√£o do cliente. <br><br>  Em seguida, enviamos honestamente os dados atrav√©s do formul√°rio de envio para o controlador.  Os dados entram no modelo, o modelo os coloca em si, processa, parece.  Nos diz que, bem, os dados s√£o aceitos, voc√™ realmente √© Vasya.  A terceira seta - o controle vai para o controlador, o modelo informa ao controlador que, por favor, exiba o r√≥tulo "Meu nome √© Vasya".  O controlador seleciona a visualiza√ß√£o apropriada, exibe a etiqueta.  E os dados "meu nome √© Vasya", a quarta seta, amarela, o modelo coloca l√°.  A quest√£o √© como testar isso?  Apenas um instant√¢neo.  N√£o tem outro jeito.  N√£o h√° nada para escrever testes funcionais. <br><br>  A segunda op√ß√£o, j√° com MVP.  Dirigimos ‚Äúmeu nome √© Vasya‚Äù e clicamos em ok.  A seta sob o n√∫mero um, verde, - gerenciamento foi para o Presenter.  O apresentador disse: o bot√£o est√° pressionado.  Apar√™ncia do apresentador, seta n√∫mero dois, azul, observe que esta √© uma solicita√ß√£o de dados.  No MVP cl√°ssico, n√£o enviando dados da exibi√ß√£o para o Presenter, mas uma solicita√ß√£o do Presenter para dados.  Isso √© muito mais limpo, porque o Presenter j√° deve saber antecipadamente, por exemplo, que n√£o precisa de dados, mesmo assim, tudo est√° ruim. <br><br>  Em seguida, o terceiro par√°grafo do Presenter √© uma valida√ß√£o honesta do JS.  J√° podemos escrev√™-lo com seguran√ßa, este √© um lugar especial para ele.  A quarta seta - os dados v√£o para o modelo, por exemplo, coloc√°-lo no banco de dados, disse: "Tudo est√° em ordem, eu coloco".  A quinta seta, veja, est√° listrada, espero que fique claro que est√° verde-amarela listrada, e o gerenciamento e os dados voltaram ao Presenter.  O modelo dizia ‚Äúeu coloquei‚Äù, o Presenter percebeu que, como os dados foram colocados no banco de dados, significa que √© necess√°rio mostrar que tudo est√° em ordem, os dados s√£o colocados.  E a sexta flecha - eles a enviaram para a vista, talvez para outra, mas ent√£o eu n√£o desenhei a segunda vista. <br><br>  Qual √© a vantagem aqui.  A valida√ß√£o do JS caiu em seu devido lugar e tudo ficou bem com ele, o AJAX tamb√©m se encaixou, pode ser a quarta seta, por exemplo, se o modelo estiver no servidor ou o pr√≥prio modelo AJAX for para o servidor.  E, finalmente, podemos testar com seguran√ßa o Presenter, escrever testes funcionais nele. <br><br><img src="https://habrastorage.org/webt/hw/it/hn/hwithnio6pftr2qf-5ogkg7x4vc.jpeg"><br><br>  Em segundo lugar, o que mais obtivemos no positivo, al√©m dos testes simplificados?  Temos uma separa√ß√£o entre a exibi√ß√£o visual e seu trabalho.  Ou seja, ainda podemos gravar instant√¢neos no modo de exibi√ß√£o e escrever testes no Presenter separadamente.  Podemos consertar o apresentador e n√£o tocar na tela e vice-versa.  Nossa especializa√ß√£o melhorou.  √â assim que estruturas como Angular1, Backbone, Ember, Knockout de vers√µes anteriores s√£o organizadas.  Uma vez que havia muitos deles, apenas uma concorr√™ncia feroz. <br><br>  Quais s√£o os recursos.  O Presenter j√° est√° colocado no cliente, o modelo pode estar l√° e os aplicativos de p√°gina √∫nica s√£o feitos silenciosamente.  Acontece melhor, mas h√° muitos aplicativos de p√°gina √∫nica nessa hist√≥ria, ou pelo menos j√° foram feitos antes.  A intera√ß√£o do servidor AJAX √© boa.  Valida√ß√£o do cliente em vigor.  Parece que est√° tudo bem, por que pensar mais? <br><br>  No entanto, pelo menos o MVVM foi inventado.  Tamb√©m √© uma coisa interessante. <br><br><img src="https://habrastorage.org/webt/ts/qa/gs/tsqagsrgxuxkkpmk81xpvzu9zds.jpeg"><br><br>  Em ess√™ncia, esta √© uma implementa√ß√£o do Presenter usando a estrutura.  Geralmente, quando voc√™ escrevia o primeiro apresentador, o segundo apresentador e o quinto apresentador, eles eram todos iguais.  E eles apenas criam uma vista e um modelo.  Como voc√™ pode ver, ele √© constru√≠do como o MVP. <br><br><img src="https://habrastorage.org/webt/vp/j-/xd/vpj-xd3_hkbngf5r3rrxff9qyb0.jpeg"><br><br>  E tantas estruturas acabaram de resolver essas tarefas vinculativas.  Quais s√£o as vantagens?  N√£o precisamos escrever c√≥digo extra.  E realmente acelera a velocidade de desenvolvimento.  Quais s√£o as desvantagens.  A conectividade entre Model e ViewModel foi aprimorada. <br><br>  Ou seja, os problemas surgem l√° precisamente por causa da forte conex√£o, ent√£o √†s vezes acontece que o MVVM n√£o √© usado.  Por exemplo, eu estou pessoalmente familiarizado com o MVVM na estrutura do i-BEM, que algumas vezes usamos e outras n√£o, porque √© uma liga√ß√£o inconveniente e muito r√≠gida.  No entanto, o Microsoft Silverlight √© organizado por essa tecnologia e eles dizem: bom.  N√£o sei, ainda n√£o tentei. <br><br>  Por que aconteceu que, al√©m do MVP e MVVM, surgiu outra coisa, todos voc√™s familiarizados com a palavra redux, por que havia fluxos de dados unidirecionais. <br><br><img src="https://habrastorage.org/webt/xd/r5/bp/xdr5bp3oxzj8_uxsvw3lqd5tdlk.jpeg"><br><br>  Olhamos para a foto certa.  N√≥s, com o MVP, regularmente temos esse problema.  Suponha que tenhamos um sistema complexo, n√£o um para um - muitas vis√µes, muitos modelos.  Eles est√£o todos interconectados.  A vista de cima, amarela, mudou o modelo.  O modelo mudou outro modelo.  A vista inferior amarela mudou.  A vista inferior tamb√©m mudou o modelo.  Todos eles mudaram a vis√£o central vermelha, e algo incompreens√≠vel est√° acontecendo nela. <br><br>  O Facebook enfrentou isso quando eles constantemente recebiam um bug devido a mensagens n√£o lidas pop-up.  Ou seja, o usu√°rio v√™ "Voc√™ tem uma mensagem n√£o lida", √© aberto, mas n√£o √©.  Porque as duas vis√µes juntas corrigiram o estado desta ... Em geral, o estado da vis√£o foi corrigido de duas fontes diferentes, e quem est√° certo n√£o est√° claro.  Eles governaram, um bug surgiu novamente, eles governaram novamente, um bug surgiu novamente.  No final, eles estavam cansados ‚Äã‚Äãe decidiram resolver o problema radicalmente, desculpe a tautologia e apenas tornar o estado da vista determin√≠stico. <br><br>  O problema do MVP est√° precisamente no n√£o determinismo do estado do sistema.  Nem sempre podemos prever em que condi√ß√£o ela est√° agora e quem veio primeiro, quem corrigiu o que.  O fluxo resolveu esse problema, como se costuma dizer, geneticamente.  Ele n√£o pode ter isso.  Eles me disseram aqui por um longo tempo que a ideia com um fluxo de dados unidirecional estava no ar, √© verdade.  E esse conceito foi inventado, √© claro, muito antes do Facebook, muito antes de 2013, quando o publicaram.  Mas eles, como dizem, patentearam, lan√ßaram uma merda, que criamos exatamente isso, usamos. <br><br><img src="https://habrastorage.org/webt/ur/xk/hp/urxkhphyjz85uoyqlci_syhu1bo.jpeg"><br><br>  Vejamos o Flux com mais detalhes.  Aqui est√° a ideia.  Temos uma loja, e esta loja √© um data warehouse, essa √© a √∫nica fonte de verdade para nossa aplica√ß√£o.  Tudo o resto √© falso.  Como ele trabalha?  Inicialmente, se olharmos especificamente para o ciclo de trabalho, ele geralmente come√ßa com o usu√°rio fazendo algo, ou seja, a visualiza√ß√£o est√° funcionando.  View cria uma a√ß√£o.  Observe que a a√ß√£o n√£o √© preenchida na imagem.  Porque  Porque √© uma estrutura.  Isso n√£o √© uma classe, n√£o √© um objeto, n√£o √© algo inteligente.  Essa √© a estrutura.  Na web, em JavaScript, podemos escrever, √© apenas esse objeto muito abstrato. <br><br>  A vis√£o cria uma estrutura, passa para o gerenciador de blocos.  O gerenciador de blocos aciona um retorno de chamada.  Ou seja, ele diz: ‚ÄúChame a fun√ß√£o que me disseram para chamar quando a A√ß√£o acontecer.  Ele disse para ligar para a loja. "  Ou seja, o m√©todo Store √© chamado do despachante.  O m√©todo √© chamado.  O m√©todo √© chamado, √© obtido na loja.  A loja analisa o que aconteceu, de alguma forma muda a si mesma.  Ele est√° mudando de condi√ß√£o.  E ele √© o √∫nico que pode mudar sua condi√ß√£o.  Ningu√©m mais faz isso.  Ou seja, ele √© a √∫nica fonte de verdade.  Depois disso, ele √© transmitido a todas as visualiza√ß√µes vinculadas a ele, a todos os componentes vinculados a ele: "Eu mudei, v√° buscar os dados". <br><br>  As visualiza√ß√µes s√£o para dados e, em seguida, um momento interessante come√ßa.  No Flux cl√°ssico, como no Facebook, a visualiza√ß√£o √© redesenhada completamente. <br><br><img src="https://habrastorage.org/webt/wb/7p/pj/wb7ppjlhpuquvd6a0e1ygfczicw.jpeg"><br><br>  Aqui est√° o nosso formul√°rio com um r√≥tulo e um bot√£o.  Como ela trabalha?  N√≥s olhamos para o ponto zero.  O ponto zero tamb√©m est√° aqui.  Ele √© a seta azul na parte inferior, registro de retorno de chamada.  √â o que acontece primeiro. <br><br>  O gerente da loja liga: "Registre meu retorno de chamada, o que farei quando a A√ß√£o chegar at√© voc√™".  Isso aconteceu.  Ent√£o podemos trabalhar com o aplicativo.  Clicamos em um bot√£o, criamos uma estrutura.  Observe que, al√©m dos dados inseridos pelo usu√°rio, por exemplo, Vasya, Action tamb√©m possui metadados, tipo.  Um ponto muito importante √© que a pr√≥pria a√ß√£o transmite que tipo de a√ß√£o √©, mas de qualquer maneira para o despachante.  Ele joga toda a transmiss√£o de a√ß√£o.  Primeira seta, o m√©todo √© chamado. <br><br>  O despachante chama o m√©todo, de fato, um gatilho de A√ß√£o e passa essa a√ß√£o para l√°.  No gatilho A√ß√£o, um retorno de chamada √© chamado, que registramos no ponto zero.  Aqui est√° a seta vermelha: trata-se de uma chamada de retorno de chamada.  A Store pega esses dados, parece que, huh, o tipo √© change name, ent√£o eu mudo a mim mesmo no campo name para Vasya, e os envio para o back-end, e de alguma forma valida, provavelmente, em geral, a Store sabe o que fazer .  Em seguida, a seta roxa apresenta o evento de altera√ß√£o.  N√≥s mudamos.  Todo mundo sabe que mudamos a loja. <br><br>  A seguir, um pequeno recurso do cl√°ssico Flux, que pode n√£o ser familiar para quem trabalhou com o Redux, mais precisamente, mesmo com o React, e n√£o com o Redux.  As visualiza√ß√µes s√£o para dados.  Eles v√£o √† loja e dizem: "Eu tenho este campo, este campo e este campo".  Estamos acostumados ao fato de que, pelo contr√°rio, tudo chega a pontos de vista se voc√™ trabalhou com React, Redux ou algo assim.  E o sexto ponto, um redesenho completo. <br><br>  Vamos olhar para este diagrama e encontrar um gargalo, por qu√™?  Redesenhar.  Um redesenho completo, motivo pelo qual o Flux come√ßou a ser usado ativamente ap√≥s 2013, quando surgiu o que?  O que tornou isso poss√≠vel?  Casa virtual.  Uma casa virtual que permite redesenhar apenas quando √© realmente necess√°rio. <br><br><img src="https://habrastorage.org/webt/fw/mt/5b/fwmt5buqiod5aydmavmpq2d2ly0.jpeg"><br><br>  Vamos nos afastar e falar sobre o React, que assim, combinado com muito sucesso ao Flux, criou o mundo que sabemos agora quando essa tecnologia √© mais popular. <br><br>  O mesmo 2013, o mesmo 2013, o mesmo Facebook.  Inicialmente, o React foi inventado em geral, como um aviso de visualiza√ß√µes nas varia√ß√µes do MVC, MVP.  E pode, de fato, ser usado l√°.  Qual √© o seu poder.  Primeiro, a casa virtual, como disseram corretamente, permite n√£o redesenhar a casa real, porque √© uma opera√ß√£o muito dif√≠cil, mas redesenhar a casa virtual.  E somente se, de fato, houve uma mudan√ßa, redesenhamos o componente, como resultado do qual tudo funciona muito mais r√°pido do que poderia ser. <br><br>  E - componentes imut√°veis ‚Äã‚Äãpuros.  Este √© o mecanismo de propriedades.  A implementa√ß√£o tamb√©m √© reativa, permitindo criar componentes que n√£o possuem seu pr√≥prio estado.  E se voc√™ escrever nessa arquitetura, √© muito correto criar componentes limpos, sem estado, sem estado.  Eles s√≥ t√™m dados que vieram da loja e ele os desenha.  Eles s√£o convenientes para testar, eles raramente quebram.  O que √© est√°tico √© muito dif√≠cil de quebrar e o teste √© f√°cil. <br><br>  Aplicativos combinados com a arquitetura Flux s√£o poderosos.  Provavelmente, muitas pessoas sabem que isso √© realmente uma coisa poderosa.  Qual √© a import√¢ncia que deve ser mencionada?  Al√©m do React Redux, existem muitos outros pacotes.  E voc√™ provavelmente sabe que existe um segundo angular.  √â tamb√©m uma combina√ß√£o de estrutura reativa e arquitetura Flux.  Vue,    Flux  Redux ‚Äî Fluxxor, MobX  . .     React Redux.   Vue, ,      ,  React Redux.    . <br><br><img src="https://habrastorage.org/webt/vz/lp/zd/vzlpzdhegekq8qaleu18cxykukg.jpeg"><br><br>      ?  ,   React Redux   .  Vue, .    ‚Äî .               ‚Äî     MVC-.            .      .  - React Redux    . <br><br> MVP/MVVM-    .   ,      ‚Äî ,  ,    .  single page application,  multiple page application. -    - . ,       -,  -    . ,  MVP,     . <br><br>       ‚Äî single page application   ,    ,     . .  Flux    React Redux, View, Angular, MobX, Fluxxor  . . <br><br> . . <br><br><blockquote> &gt; MVC: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Smalltalk-80</a> , <a href="">General MVC</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ASP.NET</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MVC on Web</a> <br> &gt; MVP: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MVP vs MVC</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GUI Architecture</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Backbone</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Angular1</a> <br> &gt; MVVM: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MS Silverlight</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  i-BEM</a> <br> &gt; Flux: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  Hexlet</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flux for stupid people</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flux official</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.google.ru/url%3Fsa%3Dt%26rct%3Dj%26q%3D%26esrc%3Ds%26source%3Dweb%26cd%3D1%26cad%3Drja%26uact%3D8%26ved%3D0ahUKEwjAocDv153ZAhUBfywKHTHzDRQQFggoMAA%26url%3D">ReactJS</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VueJS</a> <br> &gt; : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> , ¬´Javascript. ¬ª</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   ., ¬´ ¬ª</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">D.Garlain, M.Shaw, ‚ÄùAn introduction to Software Architecture‚Äù</a> (1994), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">E.Dijkstra ‚ÄùGOTO statement considered harmful‚Äù</a> (1968) <br></blockquote><br>  MVC, MVP, MVVM    . ,          .  Flux     . , ,  . ,    ‚Äî .    . JavaScript. .        ES5,     ¬´JavaScript. ¬ª      ,         ES6- ‚Äî , , ,      . <br><br>  , ¬´ ¬ª.   .    Java,      .   ,   ,    Flux,    .       MVP,    ‚Äî -.          ,       .      . <br><br>   ,     , ¬´   ¬ª. , , , ,  , .         ¬´GOTO operator considered harmful¬ª.   . ,   . <br><br>  .   .    .  ,  -   ,          .    ,  ,  Flux,     ,   input  Flux.       ‚Äî     ,    ,   -  .          .       ,    . ,    <a href=""></a> .  Muito obrigado. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt425611/">https://habr.com/ru/post/pt425611/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt425601/index.html">Corrigir um bug em um jogo de 2000 no Shockwave</a></li>
<li><a href="../pt425603/index.html">Constata√ß√£o de carreira</a></li>
<li><a href="../pt425605/index.html">Aceita√ß√£o de pagamentos de um cart√£o sem jur. rostos em Yandex.Money</a></li>
<li><a href="../pt425607/index.html">Identifique fraudes usando o conjunto de dados da Enron. Parte 2, encontrando o melhor modelo</a></li>
<li><a href="../pt425609/index.html">Teoria dos Jogos: Tomada de Decis√£o com Exemplos no Kotlin</a></li>
<li><a href="../pt425613/index.html">Como eu combinei os dados do plug-in Tempo para o Jira Server e o Jira Cloud e os migrei de volta para o Jira Cloud</a></li>
<li><a href="../pt425619/index.html">O problema dos bandidos com v√°rias armas - compare a estrat√©gia Epsilon-Greedy e a amostragem Thompson</a></li>
<li><a href="../pt425621/index.html">Uma empresa que utiliza di√≥xido de carbono atmosf√©rico inicia a produ√ß√£o de metano</a></li>
<li><a href="../pt425623/index.html">Tour fotogr√°fico de Coworking ‚ÄúKey‚Äù</a></li>
<li><a href="../pt425625/index.html">Gasto ou Por que os localizadores traduzem mal os jogos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>