<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôüÔ∏è üßî üîô Prozedurale Mondherstellung ‚úã üôçüèº üë®üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor nicht allzu langer Zeit haben wir ein Mondsch√∂pfungssystem geschaffen. Unser Ziel war es, Monde zu schaffen, die in Gr√∂√üe und Zusammensetzung dene...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prozedurale Mondherstellung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468305/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/008/121/e0d/008121e0d8197c4d9d6f6708e536d9ad.png" alt="Bild"></div><br>  Vor nicht allzu langer Zeit haben wir ein Mondsch√∂pfungssystem geschaffen.  Unser Ziel war es, Monde zu schaffen, die in Gr√∂√üe und Zusammensetzung denen unseres Sonnensystems √§hneln.  Die Hauptschwierigkeit bestand darin, die riesigen Oberfl√§chen solcher Monde und ihre Innenseiten zu erhalten, so dass sie zwar interessant blieben.  Au√üerdem mussten die Monde unabh√§ngig von der Entfernung zu ihnen mit klaren Details gerendert werden. <br><br>  Das System geht davon aus, dass die Monde eine kugelf√∂rmige Basis haben.  Die Erzeugung eines geod√§tischen Netzes wird auf die Basiskugel angewendet, wodurch die gleiche Fl√§che aller Teile der Oberfl√§che garantiert wird.  Das System wendet diese Struktur nur als Berechnungsgitter f√ºr die prozedurale Erzeugung an. Die reale Mondoberfl√§che ist viel glatter als das Erzeugungsgitter. <br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b16/ef1/c39/b16ef1c39e3002d49b6d30ecb2a36a5e.png"></div><br>  <i>Geod√§tische Sph√§re</i> <br><br>  Um kleine gezackte Monde zu erhalten, werden geometrische Grundformen durch niederfrequentes 3D-Rauschen verzerrt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39e/971/5de/39e9715de990094a4c155425d6dd9d0f.jpg"></div><br>  <i>Rauschverzerrte Vermessungskugel</i> <br><br>  Ausgehend von dieser Grundlage verwendet das System eine Reihe konzentrischer Schalen.  Jede Zelle bestimmt die volumetrischen Eigenschaften der nachfolgenden konzentrischen H√ºlle.  Die √§u√üerste Schale definiert die Oberfl√§cheneigenschaften des Mondes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ff/e29/a6c/1ffe29a6cb9f66fbcda22b4f1e6d7ac4.jpg"></div><br>  <i>Konzentrische Schale</i> <br><br>  Jede Verkleidung kann durch das f√ºr diese Verkleidung einzigartige niederfrequente 3D-Rauschen verzerrt sein.  Wenn Sie diese Generierungsoption w√§hlen, ist die innere H√ºlle m√∂glicherweise sogar gr√∂√üer als die √§u√üere. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/064/56f/4ab/06456f4aba57b3eeab4ebbd25a47978a.png"></div><br>  <i>Schalenverzerrung</i> <br><br>  In den obigen Diagrammen sind der Abstand zwischen den Schalen und das Ausma√ü der Verzerrung √ºbertrieben, um den Konstruktionsprozess deutlicher darzustellen.  In der Praxis sind die Schalen viel n√§her beieinander und die Gr√∂√üe ihrer Verzerrung ist proportional kleiner. <br><br>  Im Folgenden wird erl√§utert, wie die √§u√üerste Shell erstellt wird.  Die gleichen Prinzipien gelten f√ºr die Erstellung von Innenschalen, daher werden wir sie nicht im Detail betrachten. <br><br>  Ein prozedurales Mondsystem erfordert eine Echtzeitkomponente und eine Offlinekomponente.  Die Echtzeitkomponente wird auf dem Computer des Players ausgef√ºhrt.  Die Offline-Komponente wird auf den Computern der Spieleentwickler ausgef√ºhrt.  Die Offline-Generierungskomponente erstellt Informationen, die schnell durch eine Echtzeitkomponente erg√§nzt werden k√∂nnen. <br><br>  Jeder Scheitelpunkt in einer Kugelschale wird als zu einem separaten Biom geh√∂rend klassifiziert.  Ein Biom ist eine Reihe von Oberfl√§cheneigenschaften, einschlie√ülich: H√∂he, Materialverteilung, Platzierung von Proben und F√§rbung von Materialien. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/292/18d/4d3/29218d4d3fb1e588fc742ccf46d94e61.jpg"></div><br>  <i>Biom Beispiel</i> <br><br>  Biominformationen enthalten entropiereiche Eigenschaften wie Krater, trockene See und Oberfl√§chenrisse, die durch Gravitationsfluten verursacht werden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a10/4cd/a32/a104cda328cc7e51e19a3c321321d64a.jpg"></div><br>  <i>Gro√üer Krater in Biominformationen aufgezeichnet</i> <br><br>  Die Definition des Bioms enth√§lt auch Regeln f√ºr die Platzierung von Objekten, die den Ort, die H√§ufigkeit und die Randomisierung von Kleinteilen bestimmen - Steinen, Kopfsteinpflaster, Leisten usw. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a8/3bb/76a/9a83bb76a7843923d8774f2e0d2e3754.jpg"></div><br>  <i>Rock Instances</i> <br><br>  Jedes Biom wird aus Elementen erstellt, die von Kacheln (Kacheln) platziert werden, sodass die Echtzeitkomponente die gleichen Informationen in verschiedenen Teilen des Mondes sowie auf anderen Monden anwenden kann.  Biominformationen sollten so erzeugt werden, dass eine schnelle Verzerrung und Umlagerung m√∂glich ist, wodurch die Anzahl sich wiederholender und vorhersagbarer Umgebungsmuster verringert wird. <br><br>  Das System verwendet zwei Arten von Biomkacheln: √úbergangskacheln und isolierte Kacheln. <br><br>  √úbergangsinformationen von Biomen treten in Bereichen auf, in denen das Biom in das benachbarte Biom √ºbergeht.  Isolierte Biominformationen treten in Bereichen auf, in denen das System das Fehlen benachbarter Biome garantiert. <br><br>  Diese beiden getrennten Modi sind erforderlich, da einige Elemente von Biomes, z. B. Krater, nur in Bereichen lokalisiert werden k√∂nnen, in denen das Biom nicht auf ein anderes Biom √ºbertragen wird, da √úberg√§nge zwischen Biomes das H√∂henprofil und das Erscheinungsbild von Reliefelementen beeinflussen k√∂nnen. <br><br>  Unten sehen Sie ein vereinfachtes Beispiel f√ºr den Mond, bei dem drei verschiedene Biome verwendet werden: polar, tropisch und √§quatorial, jeweils in Rot, Blau und Gr√ºn gef√§rbt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f5d/d51/35f/f5dd5135fa458abddc2384468f770b11.png"></div><br>  <i>Mond mit drei Biomen</i> <br><br>  Bereiche mit einem isolierten Biom haben eine einheitliche Farbe, in Bereichen mit √úbergangsbiomen mischen sich die Farben. <br><br>  Das System verwendet eine Reihe von vorberechneten Rauschen, um Variabilit√§t in die √úbergangszonen zwischen Biomen einzuf√ºhren und interessante, einzigartige √úberg√§nge von einem Biom zum anderen zu erzeugen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/abb/a7c/d18/abba7cd18459dccae567bbb832a843fe.png"></div><br>  <i>Verfahrensrauschen bei √úberg√§ngen zwischen Biomen</i> <br><br>  In den obigen Bildern ist die Gr√∂√üe jedes Teils des Bioms im Verh√§ltnis zur Gr√∂√üe des Mondes √ºbertrieben, um die Technik zur Erzeugung von Biomen deutlicher darzustellen.  Ein separater Biomstandort wird eine Fl√§che von ungef√§hr 10 mal 10 km abdecken.  Ein Mond mit einem Radius von 1.500 km hat eine Oberfl√§che von 30.000.000 km <sup>2</sup> .  Um diese Oberfl√§che zu bedecken, w√§ren fast 300.000 solcher Fl√§chen erforderlich. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/707/9d2/f98/7079d2f982a17f506ab76405a96a14c6.png"></div><br>  <i>Aufl√∂sung des Biomgitters f√ºr den Mond mit einem Radius von 1.500 km</i> <br><br>  Die Aufl√∂sung des Biomgitters kann zu einer sehr gro√üen Anzahl von Biomstellen f√ºhren.  Das System verfolgt nicht jeden von ihnen einzeln, da der Standort jedes Standorts analytisch berechnet werden kann.  Ein Biom f√ºr die meisten Standorte kann √ºber eine Biomkarte auf hoher Ebene zugewiesen werden. <br><br>  Hochrangige Biomkarten bestimmen die Schl√ºsselmerkmale von Monden aus gro√üer Entfernung.  Das System verwendet diese Karten, um zus√§tzliche Details in n√§herer Form zu generieren, wobei die Einheitlichkeit der Definition des Mondes bei Betrachtung aus verschiedenen Entfernungen erhalten bleibt. <br><br>  Hochrangige Biomkarten sind 2D-Bilder, die mithilfe der 2D-Parametrisierung auf der Mondoberfl√§che platziert werden k√∂nnen.  Jeder Punkt der Karte enth√§lt eine numerische Kennung des Bioms, das an der entsprechenden Stelle der Oberfl√§che oder der inneren H√ºlle vorherrscht. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/214/4a5/682/2144a56825fc99a706f7498ddddf4c54.png"></div><br>  <i>2D-Biomkarte</i> <br><br>  Das Bild oben zeigt eine Karte mit vier verschiedenen Arten von Biomen (blau, rot, gelb und wei√ü).  Das Bild wird mittels 2D-Parametrisierung auf die Kugel gelegt.  Eine m√∂gliche Parametrisierung ist unten gezeigt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/97c/b14/da1/97cb14da1a178f0e11e5925bc6997c40.png"></div><br>  <i>2D-Parametrisierung f√ºr die Biom-ID-Karte</i> <br><br>  Zus√§tzlich zur Biomkennungskarte erm√∂glicht das System die Verwendung anderer Karten, die beispielsweise H√∂hen und Oberfl√§chenfarben enthalten. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7a9/3b5/012/7a93b5012ca67394a4ac79ebbcb6a5e1.png"></div><br>  <i>Mond Fernschatten und Rendering</i> <br><br>  Ein Pixel in jedem Bild kann 4 km <sup>2</sup> abdecken, was die Erstellung kosteng√ºnstig macht.  Solche H√∂hen- und Farbkarten k√∂nnen prozedural erstellt oder von K√ºnstlern gezeichnet werden.  In einem Projekt, das nur ein Dutzend Monde verwendet und bei dem jeder Mond reichhaltige und einzigartige nat√ºrliche Eigenschaften haben sollte, ist es am besten, die Arbeit von K√ºnstlern in dieser Phase zu verwenden. <br><br>  Das folgende Bild zeigt den Prozess der Erzeugung der Manteloberfl√§chenh√∂he und anderer Eigenschaften: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/008/121/e0d/008121e0d8197c4d9d6f6708e536d9ad.png"></div><br>  <i>Drei Schuppen bauten den Mond</i> <br><br>  Der Mond besteht aus mindestens einer Kugelschale.  Wenn mehrere Schalen vorhanden sind, extrudiert das System die inneren Schalen auf der Grundlage ihres maximalen Radius und der Funktion der Schalenh√∂he, die durch Ausf√ºhren des Prozesses mit verschiedenen oben beschriebenen Ma√üst√§ben erhalten wird. <br><br>  F√ºr jede Schale erstellt der Monddesigner eine allgemeine Karte der Verteilung der Biome, Definitionen der Biome f√ºr die auf dieser Karte gefundenen Biome und Identifizierung der in diesem Biom gefundenen Materialien. <br><br>  Das System betrachtet Luft als akzeptables Material, sodass Hohlr√§ume in jeder H√ºlle erzeugt werden k√∂nnen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/069/94f/db9/06994fdb95020a907fa281bc0e0baf0b.png"></div><br>  <i>Querschnitt des Reliefs des Mondes, auf dem verschiedene Muscheln sichtbar sind</i> <br><br>  Eine separate H√ºlle kann auch ein volumetrisches Objekt sein, dessen Tiefe durch einen Materialstapel festgelegt wird.  Stapelinformationen werden in einem Biom gespeichert. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d5b/308/002/d5b30800245d119f324fb378ff56d35e.png"></div><br>  <i>Ein Materialstapel aus sechs Materialien</i> <br><br>  Da unterirdische Materialien selten an die Oberfl√§che kommen, k√∂nnen sie mit einer viel geringeren Aufl√∂sung als Oberfl√§chenmaterialien von Biomen beschrieben werden, und die Verwendung von lokalem Verfahrensrauschen bleibt f√ºr den Spieler unsichtbar. <br><br>  Die Funktionalit√§t des Materialstapels kann f√ºr das Layout ausreichen, da einige Materialien im Stapel sehr selten sein k√∂nnen.  Der Biomdesigner kann die Verbreitung und das Muster jedes Materials auf dem Stapel anpassen. <br><br>  Die Prozedurgenerierung wird von GPU-Shadern und Voxel-CPU-Algorithmen durchgef√ºhrt. <br><br>  Der Shader berechnet die Farbe des Fragments f√ºr jede der drei Skalen und mischt diese Samples in Abh√§ngigkeit vom Abstand zwischen Kamera und Fragment. <br><br>  Alle Teile, die zu klein sind, um in der Geometrie registriert zu werden.  Sie wirken sich jedoch immer noch auf die wahrgenommene Komplexit√§t der Oberfl√§chen aus und werden in normalen Karten aufgezeichnet, die in Echtzeit auf der Grundlage der prozeduralen Bestimmung von Materialien, Biomen oder Karten auf hoher Ebene zur Bestimmung des Mondes erstellt wurden.  Aus diesem Grund wird eine geringe Anzahl von Polygonen in der Szene beibehalten. <br><br>  Sie m√ºssen den Preis daf√ºr bezahlen, solange der Mond in der Kamera sichtbar ist, m√ºssen die Biom- und High-Level-Definitionskarten in der GPU gespeichert sein.  Sie k√∂nnen nur die Mip-Texturen selektiv laden, die zum Rendern der aktuellen Mondskala erforderlich sind.  Die Gesamtmenge des erforderlichen GPU-Speichers wird durch das Laden und Entladen von Streaming von der GPU beim √Ñndern der Position des Beobachters auf ein Minimum reduziert. <br><br>  Wenn einzelne Elemente aufgrund der N√§he zur Kamera gro√ü genug werden, erscheinen sie mithilfe der Echtzeit-Voxelerzeugung in der Ausgabe der Geometrie.  Gleiches gilt f√ºr alle Teile des Mondes, die von Spielern terraformiert oder gegraben wurden.  Wenn die √Ñnderungen gro√ü genug sind und vom Orbit aus beobachtet werden k√∂nnen, erh√∂ht der adaptive Szenenmanager Voxel Farm den Detaillierungsgrad (LOD) aller Bereiche, deren √Ñnderung die Anwendung f√ºr wichtig h√§lt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468305/">https://habr.com/ru/post/de468305/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468289/index.html">AM</a></li>
<li><a href="../de468291/index.html">Synopse aus Mark Gaulstons Buch "Ich kann dich durchh√∂ren"</a></li>
<li><a href="../de468293/index.html">Vive Cosmos - Test des neuen VR-Sets von HTC</a></li>
<li><a href="../de468295/index.html">50 Matplotlib-Schattierungen - The Master Plots (mit vollst√§ndigem Python-Code)</a></li>
<li><a href="../de468299/index.html">Was soll Oracle f√ºr einen Entwickler im Jahr 2019 (und danach) entwickeln?</a></li>
<li><a href="../de468307/index.html">Tipps und Tricks zur digitalen Forensik: Telegramm-IM-basierte RAT - Teil I.</a></li>
<li><a href="../de468309/index.html">Einf√ºhrung in die Cascadia-Code-Schriftart</a></li>
<li><a href="../de468311/index.html">L√∂schen des Download-Ordners mit einem Python-Programm</a></li>
<li><a href="../de468313/index.html">Einf√ºhrung in die Cascadia Code-Schriftart</a></li>
<li><a href="../de468315/index.html">So generieren Sie die richtige Signatur (SIG) in der OK.RU-API. Wir arbeiten mit einem Fehler 104</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>