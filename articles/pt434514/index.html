<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéß üöÄ ‚ôëÔ∏è DPAPI "Segredos" ou DPAPI para Pentesters üë©üèª‚Äçü§ù‚Äçüë®üèº üåû üõ¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O segundo artigo, com base nos resultados do desempenho de nossa equipe no OFFZONE-2018. Desta vez, considere uma conversa com o MainTrack ‚ÄúWindows DP...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DPAPI "Segredos" ou DPAPI para Pentesters</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434514/">  O segundo artigo, com base nos resultados do desempenho de nossa equipe no OFFZONE-2018.  Desta vez, considere uma conversa com o MainTrack ‚ÄúWindows DPAPI‚Äú Sekretiki ‚Äùou DPAPI para pentesters‚Äù. <br><br>  Aten√ß√£o!  Muitas faias! <br><br>  Ao conduzir campanhas da RedTeam, quero apresentar menos raz√µes para a rea√ß√£o da BlueTeam, mas pode haver muitas.  Por exemplo, executando o mimikatz para obter senhas ou certificados do usu√°rio.  Mesmo se pud√©ssemos "otmazyvat" ele da Kaspersky, o BlueTeam tem a capacidade de rastrear usando ferramentas especializadas, como Sysmon, Microsoft ATA, etc.  Ao mesmo tempo, gostaria de obter o m√°ximo de informa√ß√µes de uma m√°quina de usu√°rio comprometida.  No decorrer de campanhas conduzidas repetidamente pela RedTeam para combater equipes reais da BlueTeam, chegamos √† conclus√£o de que √© necess√°rio evitar a√ß√µes que possam servir como indicadores de comprometimento do sistema.  Para atingir esse objetivo, √© poss√≠vel atrav√©s do uso de mecanismos e a√ß√µes legais fornecidas pelo sistema operacional ao usu√°rio. <br><br>  Uma dessas ferramentas legais √© o mecanismo DPAPI (Windows Data Protection API), usado pelo sistema operacional e por v√°rios aplicativos para criptografar dados confidenciais do usu√°rio (principalmente senhas, chaves criptogr√°ficas, etc.) Para o usu√°rio final e seus aplicativos, o DPAPI parece extremamente simples : Existem apenas 2 fun√ß√µes - ‚Äúcriptografar dados‚Äù e ‚Äúdescriptografar dados‚Äù.  Neste artigo, gostaria de considerar como esse mecanismo √© √∫til para os clientes durante campanhas da RedTeam. <br><a name="habracut"></a><br><h3>  O que √© DPAPI?  Apenas brevemente e em russo </h3><br>  Desde 2000, todos os sistemas operacionais Windows come√ßaram a usar o mecanismo DPAPI para manter os dados do usu√°rio em seguran√ßa. <br><br>  Se pularmos toda a criptografia examinada no relat√≥rio, para descriptografar os dados criptografados via DPAPI, precisaremos de: uma chave mestra, SID do usu√°rio, hash da senha do usu√°rio e o pr√≥prio blob DPAPI (dados DPAPI criptografados). <br><br>  Em geral, o processo √© assim: <br><br><img src="https://habrastorage.org/webt/n1/ex/ah/n1exahepzml5ykake_tcy_qaj6i.jpeg"><br><br>  Dentro do nosso "chap√©u criptogr√°fico", existem muitos mecanismos criptogr√°ficos diferentes que n√£o consideraremos neste artigo, para n√£o sobrecarregar o leitor.  Observamos apenas que a parte principal do DPAPI √© a chamada Masterkey (chave mestra).  Em termos simples, a chave mestra √© de 64 bytes de dados aleat√≥rios criptografados usando a pr√©-chave, que √© gerada a partir da senha do usu√°rio e seu SID. <br><img src="https://habrastorage.org/webt/dr/gu/b2/drgub2ccge4pjhkz1czilfleveg.jpeg"><br><br>  Par√¢metros adicionais tamb√©m participam da gera√ß√£o de pr√©-chave: o n√∫mero de itera√ß√µes (IterN), salt e HMAC, que podem variar de caso para caso.  Os valores desses par√¢metros s√£o armazenados junto com a chave mestra em um arquivo. <br><br>  Assim, sabendo a senha do usu√°rio, seu SID e lendo os par√¢metros de gera√ß√£o no arquivo de chave mestra (HMAC, Salt, InterN), podemos gerar uma pr√©-chave e descriptografar a chave mestra, ou seja,  obtenha os 64 bytes muito aleat√≥rios que usaremos para descriptografar os blobs DPAPI. <br><br><h3>  E se eu mudar minha senha? </h3><br>  Geralmente, as senhas dos usu√°rios s√£o alteradas em intervalos regulares.  O que acontece se o usu√°rio alterar a senha?  Para onde foi a anterior?  De fato, para descriptografar a chave mestra, voc√™ precisa saber a senha do usu√°rio e criptografar todas as chaves mestras do usu√°rio toda vez que √© um prazer muito caro.  Nesse caso, tudo √© pensado no Windows. <br><br>  H√° um arquivo especial (CREDHIST), cuja tarefa √© armazenar todas as senhas de usu√°rio anteriores.  Tamb√©m √© criptografada com a senha atual do usu√°rio e armazenada na pilha.  Se o sistema falhar repentinamente em descriptografar a chave mestra, proceder√° da seguinte maneira: usando a senha atual, descriptografar√° o primeiro registro em CREDHIST.  A senha est√° tentando descriptografar a chave mestre novamente, e assim por diante at√© que as senhas na cadeia se esgotem ou a chave mestre seja descriptografada. <br><br><h3>  Um pouco sobre as chaves privadas de um controlador de dom√≠nio </h3><br>  Como voc√™ deve ter adivinhado, o DPAPI √© aplicado a todos os usu√°rios, incluindo usu√°rios do dom√≠nio.  Para poder redefinir a senha para um usu√°rio que a esqueceu ap√≥s uma festa de sexta √† noite, voc√™ precisa de uma chave reserva que ser√° armazenada em um local seguro.  Segundo a Microsoft, um local t√£o confi√°vel √© um controlador de dom√≠nio. <br><br>  A ess√™ncia do mecanismo para descriptografar a chave mestra ap√≥s redefinir a senha do usu√°rio √© a seguinte: um par de chaves RSA - privadas e p√∫blicas - √© criado no controlador de dom√≠nio.  A chave privada √© armazenada no controlador de dom√≠nio no banco de dados NTDS e √© chamada BCKUPKEY_xxxx (veja a figura abaixo), e a chave p√∫blica √© distribu√≠da a todos os sistemas de dom√≠nio e √© usada para gerar uma duplicata da chave mestra quando √© gerada. <br><br>  Depois de criar uma chave mestra em uma m√°quina de dom√≠nio, sua duplicata tamb√©m √© criada (ou melhor, o material da chave mestra √© seus 64 bytes), que √© armazenado junto com a chave mestra principal em um arquivo e √© chamado de Chave do Dom√≠nio.  Se voc√™ perder a chave mestra principal, ou seja,  ao redefinir a senha do usu√°rio, o sistema envia uma duplicata para o controlador de dom√≠nio e solicita sua descriptografia.  O controlador, depois de autorizado o usu√°rio, descriptografa a duplicata e a devolve ao sistema, ap√≥s o qual o material da chave mestra j√° √© criptografado com uma nova senha. <br><br><img src="https://habrastorage.org/webt/jj/7h/zr/jj7hzrqypjkdjwiaooxks9wcbj0.jpeg"><br><br>  Tendo os privil√©gios apropriados no dom√≠nio (na maioria das vezes, administrador), voc√™ pode obter essas chaves RSA privadas do controlador de dom√≠nio atrav√©s do mecanismo de replica√ß√£o e us√°-las para descriptografar mais as chaves mestras criadas nas m√°quinas de dom√≠nio.  Isso pode ser feito usando mimikatz ou DSInternals.  Voc√™ pode ler mais sobre isso no wiki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mimikatz</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no</a> blog <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DSInternals</a> . <br><br><h3>  Onde est√£o armazenadas as chaves mestras e quais s√£o elas? </h3><br>  A chave mestra pode ser usu√°rio e sistema, dependendo de cujos segredos s√£o criptografados.  A chave mestra do usu√°rio √© armazenada no perfil do usu√°rio da seguinte maneira: <br><br> <code>Users\%USER%\AppData\Roaming\Microsoft\Protect\%SID%\</code> <br> <br>  Por precau√ß√£o, o sistema armazena todas as chaves mestras j√° utilizadas pelo usu√°rio.  Afinal, ela n√£o sabe de antem√£o qual mestre precisar√° descriptografar algo com uma chave.  O GUID da chave atual usada √© armazenado no arquivo Preferred. <br><br><img src="https://habrastorage.org/webt/xf/vm/dr/xfvmdrhqgsspxyznypourrwceh8.jpeg"><br><br>  As chaves mestras do sistema s√£o armazenadas da seguinte maneira: <br> <code>windows\system32\Microsoft\Protect\S-1-5-18\</code> <br> <br>  Da mesma forma com o usu√°rio - uma chave mestra √© usada, cujo nome pode ser encontrado no arquivo Preferred, onde todas as chaves que j√° foram usadas s√£o armazenadas. <br><br><img src="https://habrastorage.org/webt/zt/xt/xj/ztxtxjcblhgk7ugrwxwgosbtmjw.jpeg"><br><br><h3>  Bem, o que esse DPAPI pode dar ao Pentester? </h3><br>  Como o DPAPI √© um mecanismo legal e simples, v√°rios aplicativos tentam us√°-lo.  Porque √© conveniente e seguro.  Por enquanto, √© claro. <br><br>  Por exemplo, o DPAPI √© usado para criptografar chaves privadas de certificados de cliente e de sistema, chaves WIFI, Chrome (cookies, senhas), DropBox, Skype, RSA SecurID (um aplicativo de software que gera chaves √∫nicas).  E esta n√£o √© de forma alguma uma lista exaustiva. <br><br>  A tarefa do pentester √© descriptografar os blobs necess√°rios e obter senhas, cookies etc. <br><br>  Existem v√°rias maneiras de fazer isso.  De um jeito ou de outro, todos se resumem a duas transcri√ß√µes - online e offline.  A descriptografia online √© quando, na m√°quina do usu√°rio, simplesmente chamamos as fun√ß√µes do sistema para descriptografar os dados e passamos o blob DPAPI para a entrada, e o sistema faz tudo sozinho - ele procura a chave mestra com a qual o blob foi criptografado, descriptografando-o usando o SID do usu√°rio e um hash de senha armazenado na mem√≥ria LSASS. <br><br>  A figura abaixo mostra um exemplo de chamada de fun√ß√µes DPAPI para criptografia e descriptografia no PowerShell. <br><br><img src="https://habrastorage.org/webt/nj/h3/ko/njh3koyjpr5f1yft8o6zllkpjfw.jpeg"><br><br>  Primeiro, criptografamos nosso segredo (neste caso, a palavra "Senha") chamando a fun√ß√£o [Security.Cryptography.ProtectedData] :: Protect ().  E fazemos isso duas vezes - no primeiro caso, usando a chave mestra do usu√°rio (par√¢metro CurrentUser) e, no segundo - a chave mestra do sistema (par√¢metro LocalMachine).  Em seguida, podemos descriptografar os blobs resultantes chamando a fun√ß√£o inversa - [Security.Cryptography.ProtectedData] :: UnProtect (). <br><br>  Al√©m disso, nesse caso, o valor do par√¢metro CurrentUser ou LocalMachine n√£o importa, porque  o pr√≥prio sistema encontra uma chave mestra adequada para decodificar o blob e faz todo o necess√°rio.  Nos dois casos, obtemos nosso segredo inicial - a palavra ‚ÄúSenha‚Äù (sua representa√ß√£o byte-a-bit). <br><br>  Ao descriptografar online, √© importante entender em que contexto voc√™ est√° chamando a fun√ß√£o UnProtect ().  Para que a descriptografia seja bem-sucedida, voc√™ deve estar em uma sess√£o do usu√°rio ou fazer login em uma nova sess√£o.  O problema √© o hash da senha, que √© armazenado na mem√≥ria LSASS.  Se voc√™ fizer uma chamada fora da sess√£o do usu√°rio (por exemplo, efetuou login no sistema atrav√©s da rede via psexec ou meterpreter), n√£o precisar√°, portanto, de um hash de senha para descriptografar a chave mestra.  Ele, √© claro, est√° na pr√≥xima sess√£o, mas o LSASS n√£o dar√° a voc√™, porque  essa √© outra sess√£o, embora tenha sido criada com o mesmo usu√°rio.  Para obter descriptografia online bem-sucedida, voc√™ deve migrar para qualquer processo iniciado pelo usu√°rio conectado via GUI ou efetuar login completo no sistema, por exemplo, via RDP. <br><br>  Uma alternativa ao powershell para descriptografia online de blobs DPAPI pode ser uma chamada para mimiktaz :: blob com o par√¢metro / desprotect.  Na entrada, ele recebe um arquivo bin√°rio com um blob DPAPI e, na sa√≠da, obtemos dados descriptografados.  Mais casos usando o mimikatz s√£o descritos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no blog</a> HarmJ0y. <br><br><h3>  A bola branca caiu.  O que fazer com minha fazenda com vidyuhi? </h3><br>  Devido ao fato de que as chaves mestras DPAPI s√£o criptografadas na senha do usu√°rio, voc√™ pode tentar o processo inverso - for√ßar brutalmente a senha do usu√°rio por sua chave mestra.  Por exemplo, recebemos uma conex√£o reversa de nossa macro ou DDE do arquivo docx enviado.  Podemos pegar a chave mestra do usu√°rio e restaurar a senha do usu√°rio sem nenhuma escala√ß√£o de privil√©gios e lan√ßamentos de mimikatz. <br><br>  Posso usar o Hashcat ou JohnTheRipper para bruteforce de senha?  Mas antes disso, voc√™ precisa obter os par√¢metros para for√ßa bruta da composi√ß√£o de John com o script apropriado: <br><br><pre> <code class="xml hljs">./DPAPImk2john.py ‚ÄìS <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sid</span></span></span><span class="hljs-tag">&gt;</span></span> -mk <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">masterkey</span></span></span><span class="hljs-tag">&gt;</span></span> -c <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">domain|local</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Ent√£o j√° podemos enviar o resultado do script para o nosso farm com placas de v√≠deo e esperar que o usu√°rio tenha uma senha fraca, porque  a velocidade da for√ßa bruta da chave mestra √© aproximadamente compar√°vel √† velocidade da enumera√ß√£o WPA2, ou seja,  bem devagar. <br><br>  Vale a pena notar aqui que, no caso em que uma chave mestra √© gerada em um dom√≠nio Windows 10, outras 10.000 rodadas do algoritmo PBKDF2 s√£o adicionadas √† gera√ß√£o de pr√©-chave.  Pior ainda, nem o Hashcat nem o JohnTheRipper sabem disso (pelo menos no momento da reda√ß√£o deste artigo), o que significa que eles n√£o poder√£o remover a senha dessa chave mestra. <br><br><h3>  "Tirar tudo o que √© ruim e depois descobrir ..." </h3><br>  Como observamos anteriormente, a execu√ß√£o de a√ß√µes suspeitas na m√°quina do usu√°rio pode provocar um interesse adicional da equipe do Blueteam, e isso, portanto, est√° repleto de fato de que todo o RedTeam terminar√° a√≠.  Um exemplo √© o lan√ßamento do PowerShell no computador de um contador ou secret√°rio, seguido de uma investiga√ß√£o do incidente.  Para n√£o causar suspeitas desnecess√°rias, √© melhor usar m√©todos offline para decodificar blobs DPAPI.  Para fazer isso, voc√™ deve primeiro pegar tudo o que precisa da m√°quina, a saber: <br><br><ul><li>  Chaves mestras do usu√°rio </li><li>  Chaves mestras do sistema </li><li>  Arquivo CREDHIST (se n√£o for uma m√°quina de dom√≠nio); </li><li>  Senha do usu√°rio (ou seu hash sha1 / ntlm); </li><li>  SID do usu√°rio; </li><li>  Blocos DPAPI que queremos descriptografar. </li></ul><br>  Para descriptografia no modo offline, n√£o podemos prescindir de ferramentas especializadas.  Essas ferramentas podem ser: <br><br><ul><li>  Mimikatz; </li><li>  Impacket (a partir da 18¬™ vers√£o, possui funcionalidade DPAPI); </li><li>  Estrutura Dpapick. </li></ul><br>  √â sobre o framework dpapick sobre o qual falaremos mais detalhadamente. <br><br>  A pr√≥pria estrutura python dpapick foi criada pelo pesquisador Jean-Michel Pikode em 2014 e √© uma implementa√ß√£o de mecanismos DPAPI nas bibliotecas de criptografia Python.  O uso de python, assim como a estrutura da estrutura, permite que ela seja facilmente adaptada a v√°rios mecanismos DPAPI.  Na vers√£o original, o dpapick n√£o conseguiu usar a chave de backup do dom√≠nio para descriptografar as chaves mestras e n√£o possu√≠a mecanismos para descriptografar as chaves mestras criadas no Windows 10 no modo de m√°quina de dom√≠nio. <br><br>  Ap√≥s corrigir essas defici√™ncias e expandir a funcionalidade para descriptografar os blobs DPAPI, o dpapick se transformou em uma ferramenta muito boa para decodificar offline o DPAPI.  Abaixo, como exemplos, mostraremos as op√ß√µes para usar essa estrutura para descriptografar os dados do usu√°rio criptografados por meio da DPAPI. <br><br><h3>  Chrome - pegue e descriptografe cookies e senhas </h3><br>  Os <code>%localappdata%\Google\Chrome\User Data\Default\Cookies</code> Chrome s√£o armazenados no arquivo <code>%localappdata%\Google\Chrome\User Data\Default\Cookies</code> <br>  Os dados de login est√£o no arquivo <code>%localappdata%\Google\Chrome\User Data\Default\Login Data</code> <br><br>  Ambos os arquivos s√£o bancos de dados sqlite3 nos quais dados confidenciais s√£o armazenados como blobs DPAPI.  Como parte do dpapick, h√° um dissector (analisador) pronto para esses dados (examples / chrome.py).  Para uma descriptografia bem-sucedida, ele precisa especificar o diret√≥rio com chaves mestras, o sid do usu√°rio, sua senha ou o local da chave privada do controlador de dom√≠nio, bem como o arquivo sqlite3 do Chrome (dados de cookie ou login). <br><br>  Descriptografia offline do cookie do Chrome com senha de usu√°rio <br><br><pre> <code class="xml hljs">./chrome.py --cookie <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cookiefile</span></span></span><span class="hljs-tag">&gt;</span></span> --sid <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SID</span></span></span><span class="hljs-tag">&gt;</span></span> --password <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">..</span></span></span><span class="hljs-tag">&gt;</span></span> --masterkey <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">masterkeydir</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Descriptografia offline de um cookie do Chrome usando um hash da senha de um usu√°rio <br><br><pre> <code class="xml hljs">./chrome.py --cookie <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cookiefile</span></span></span><span class="hljs-tag">&gt;</span></span> --sid <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SID</span></span></span><span class="hljs-tag">&gt;</span></span> --hash <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">..</span></span></span><span class="hljs-tag">&gt;</span></span> --masterkey <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">masterkeydir</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Descriptografia offline de senhas do Chrome usando uma chave privada de um controlador de dom√≠nio <br><br><pre> <code class="xml hljs">./chrome.py --chrome <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">login</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">file</span></span></span><span class="hljs-tag">&gt;</span></span> --pkey <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rsa-priv.pem</span></span></span><span class="hljs-tag">&gt;</span></span> --masterkey <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">masterkeydir</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3>  DPAPI para certificados de cliente </h3><br>  Os certificados de cliente s√£o usados ‚Äã‚Äãmuito onde - para gerar OTP, EFS ou autentica√ß√£o em VPN, aplicativos da Web, etc. <br><br>  Os certificados de chave p√∫blica s√£o armazenados no perfil do usu√°rio: <br> <code>%APPDATA%\Microsoft\SystemCertificates\My\Certificates\</code> <br>  E chaves privadas, com a ajuda da qual a assinatura √© realmente executada ou outras opera√ß√µes criptogr√°ficas s√£o criptografadas via DPAPI e tamb√©m est√£o localizadas no perfil do usu√°rio no caminho: <br><br><pre> <code class="bash hljs">%APPDATA%\Roaming\Microsoft\Crypto\RSA\&lt;SID&gt;\</code> </pre> <br>  Para descriptografar com √™xito as chaves privadas do certificado e recriar os arquivos PFX, al√©m dos arquivos acima, tamb√©m precisamos das chaves mestras do usu√°rio, bem como do seu SID e senha (ou uma chave RSA privada do controlador). <br><br>  Usando o Dpapick e a senha do usu√°rio, descriptografamos isso: <br><br><pre> <code class="xml hljs">./efs.py --certificates <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cert</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span><span class="hljs-tag">&gt;</span></span> --rsakyes <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RSA</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span><span class="hljs-tag">&gt;</span></span> --sid <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">..</span></span></span><span class="hljs-tag">&gt;</span></span> --password <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">..</span></span></span><span class="hljs-tag">&gt;</span></span> --masterkey <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">masterkeydir</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/tx/kf/bp/txkfbp91hcb6pg_rq7wgh8w7v5u.jpeg"><br><br>  O par√¢metro rsaout opcional na captura de tela permite exportar adicionalmente chaves RSA descriptografadas no formato PEM.  O resultado do script √© um arquivo PFX recriado sem senha, que j√° pode ser importado para voc√™ e usado para a finalidade a que se destina.  Se nos diret√≥rios acima houver v√°rios certificados e chaves privadas, o dpapick tentar√° descriptografar cada um deles e criar v√°rios arquivos pfx. <br><br>  As mesmas a√ß√µes podem ser executadas usando uma chave privada de dom√≠nio para descriptografar a chave mestra, especificando o par√¢metro apropriado: <br><br><pre> <code class="xml hljs">./efs.py --certificates <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cert</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span><span class="hljs-tag">&gt;</span></span> --rsakyes <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RSA</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dir</span></span></span><span class="hljs-tag">&gt;</span></span> --masterkey <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">masterkeydir</span></span></span><span class="hljs-tag">&gt;</span></span> --pkey <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">domain</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bkp</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3>  Um pouco mais sobre os "chips" do dom√≠nio </h3><br>  Falando sobre o dom√≠nio do Active Directory, vale a pena mencionar um recurso maravilhoso como Credentials Roaming - uma fun√ß√£o de dom√≠nio quando chaves mestras, senhas criptografadas e certificados ‚Äúviajam‚Äù para o usu√°rio em todo o dom√≠nio do Active Directory.  Eles n√£o est√£o vinculados a uma m√°quina espec√≠fica e "chegar√£o" ao computador em que o usu√°rio do dom√≠nio efetua login. <br><br>  Quando esse "recurso" √© ativado, todos os certificados importados pelo usu√°rio, bem como todas as suas chaves e senhas privadas, s√£o direcionados para o AD e s√£o armazenados nos atributos de conta correspondentes: msPKIAccountCrdentailas e msPKIDPAPIMasterKeys. <br><br>  Voc√™ pode ver como fica dentro do AD, por exemplo, atrav√©s do ldapsearch: <br><br><pre> <code class="xml hljs">ldapsearch -x -h dc1.lab.local -D ‚Äúuser1@lab.local" -s sub "samAccountname=user1" ldapsearch -x -h dc1.lab.local -D "admin@lab.local" -s sub "samAccountname=anyuser"</code> </pre> <br><img src="https://habrastorage.org/webt/vl/sh/01/vlsh019lykontfubtr-g5rx__dc.jpeg"><br><br>  Por padr√£o, um usu√°rio pode receber apenas atributos DPAPI para sua conta.  Mas com privil√©gios elevados, isso pode ser feito para qualquer conta, incluindo uma conta de computador. <br><br>  O Roaming de credenciais √© uma tecnologia muito conveniente, n√£o apenas para administradores, mas tamb√©m para clientes externos.  Ap√≥s acessar o controlador de dom√≠nio via ldap, voc√™ pode mesclar todos os certificados de usu√°rio, suas chaves mestras e senhas criptografadas pela DPAPI (por exemplo, senhas para conectar-se a unidades de rede). <br><br>  E por que n√£o adicionar essa funcionalidade ao dpapick, pensamos - e o ensinamos a extrair automaticamente certificados de um controlador de dom√≠nio atrav√©s do ldap, descriptograf√°-los e gerar arquivos pfx. <br><br><pre> <code class="xml hljs">./efs.py ‚Äìldap-server <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">..</span></span></span><span class="hljs-tag">&gt;</span></span> --ldap-connect admin:Passw0rd@lab.local --ldap-user user1 --password Password1 ./efs.py ‚Äìldap-server <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">..</span></span></span><span class="hljs-tag">&gt;</span></span> --ldap-connect admin:Passw0rd@lab.local --ldap-user user1 --pkey <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rsa-priv.pem</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><img src="https://habrastorage.org/webt/an/_p/bi/an_pbimm2jjr-iuapm945q43rzs.jpeg"><br><br>  Para executar o script, √© necess√°rio especificar o controlador de dom√≠nio como um servidor LDAP, os detalhes de conex√£o com ele, o nome da conta para a qual recebemos certificados e uma senha para descriptografar a chave mestra (ou uma chave de backup privada do controlador). <br><br><h3>  Dropbox  Foi em 60 segundos ... </h3><br>  O Dropbox √© outro exemplo de uso da DPAPI para armazenar segredos de usu√°rios.  Os tokens de autoriza√ß√£o para o dropbox s√£o armazenados em arquivos: <br><br><pre> <code class="bash hljs">c:\users\&lt;username&gt;\Appdata\Local\Dropbox\instance1\config.dbx c:\users\&lt;username&gt;\Appdata\Local\Dropbox\instance_db\instanse.dbx</code> </pre> <br>  Esses s√£o bancos de dados sqlite3 criptografados que cont√™m dados para conex√£o.  Para criptografia, √© usada uma chave sim√©trica, que por sua vez √© criptografada via DPAPI e armazenada no registro: <br><br> <code>HKCU\SOFTWARE\Dropbox\ks <br> HKCU\SOFTWARE\Dropbox\ks1</code> <br> <br>  Portanto, a ordem geral do seq√ºestro de caixas de dep√≥sito √© a seguinte: <br><br><ol><li>  pegamos dois arquivos de banco de dados do computador; </li><li>  n√≥s obtemos as chaves do registro e as descriptografamos usando o dpapick; </li><li>  usando DPAPI, criptografamos as chaves recebidas em nossa m√°quina e as colocamos no registro; </li><li>  em nossa m√°quina, substitu√≠mos os arquivos do banco de dados e executamos o Dropbox. </li></ol><br>  Voc√™ deve estar ciente de que permiss√µes especiais est√£o definidas para os ramos do registro acima.  Eles s√≥ podem ser lidos pelo usu√°rio.  Nem o administrador nem o sistema podem l√™-los.  Portanto, se voc√™ acessar o registro em nome de outro usu√°rio (mesmo um administrador), primeiro defina as permiss√µes apropriadas nas ramifica√ß√µes do registro especificadas.  Por exemplo, ent√£o (PowerShell): <br><br><pre> <code class="xml hljs">$Sid="S-1-5-21-3463664321-2923530833-3546627382-1000"; $key=[Microsoft.Win32.Registry]::USERS.OpenSubKey("$sid\SOFTWARE\Dropbox\ks",[Microsoft.Win32.RegistryKeyPermissionCheck]::ReadWriteSubTree,[System.Security.AccessControl.RegistryRights]::ChangePermissions); $acl = $key.GetAccessControl(); $rule = New-Object System.Security.AccessControl.RegistryAccessRule ("administrator","FullControl","Allow"); $acl.SetAccessRule($rule); $key.SetAccessControl($acl); $key_path = "REGISTRY::HKEY_USERS\$Sid\SOFTWARE\Dropbox\ks"; (Get-ItemProperty -Path $key_path -Name Client).Client;</code> </pre> <br>  As chaves ks e ks1 cont√™m o cabe√ßalho (8 bytes) da vers√£o dbx antes do blob DPAPI e o blob md5 HMAC DPAPI (√∫ltimos 16 bytes).  O pr√≥prio blob DPAPI come√ßa com o nono byte 0x01000000D0 ... Esses bytes devem ser copiados no formato base64 para um arquivo, que √© descriptografado via dpapick: <br><br><pre> <code class="xml hljs">./filegeneric.py --sid <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">..</span></span></span><span class="hljs-tag">&gt;</span></span> --password <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">..</span></span></span><span class="hljs-tag">&gt;</span></span> --masterkey <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">..</span></span></span><span class="hljs-tag">&gt;</span></span> --base64file <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">..</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Em sua m√°quina, voc√™ precisa criptografar as chaves recebidas no √∫ltimo est√°gio com nossa chave mestra e colocar o resultado nas ramifica√ß√µes de registro apropriadas. <br><br>  Para criptografia, √© mais conveniente usar o PowerShell: <br><br><pre> <code class="xml hljs">$hdata="4efebbdf394d4003317fc5c357beac4b"; [Byte[]] $dv0_entropy = 0xd1,0x14,0xa5,0x52,0x12,0x65,0x5f,0x74,0xbd,0x77,0x2e,0x37,0xe6,0x4a,0xee,0x9b; $data = ($hdata -split "(?<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">=\G\w{2})(?=\w{2})"</span></span></span><span class="hljs-tag"> | %{ [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Convert</span></span></span><span class="hljs-tag">]</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">::ToByte</span></span></span><span class="hljs-tag">( $</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">_</span></span></span><span class="hljs-tag">, </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">16</span></span></span><span class="hljs-tag"> ) }); </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Add-Type</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-AssemblyName</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">System.Security</span></span></span><span class="hljs-tag">; $</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dk1</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[system.security.cryptography.protecteddata]::Protect($data,$dv0_entropy,[System.Security.Cryptography.DataProtectionScope]::CurrentUser);</span></span></span><span class="hljs-tag"> $</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">pr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">([System.BitConverter]::ToString($dk1));$pr</span></span></span><span class="hljs-tag"> $</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">OBJ_hmac</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">New-Object</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">System.Security.Cryptography.HMACMD5</span></span></span><span class="hljs-tag"> $</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hmac</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">$OBJ_hmac.ComputeHash($dk1)</span></span></span><span class="hljs-tag"> $</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">pr</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">([System.BitConverter]::ToString($hmac));$pr</span></span></span></span></code> </pre> <br>  Nesse caso, hdata √© a chave que foi recebida no est√°gio de descriptografia.  dv0_entropy √© a constante de entropia usada pelo DBOX no DPAPI.  Para o blob resultante, voc√™ precisa atribuir um cabe√ßalho de 8 bytes 0x00000000F6000000 na frente e um HMACMD5 + 0x00 na parte traseira <br>  Depois disso, voc√™ pode gravar dados nas chaves do Registro apropriadas. <br><br><h3>  DPAPI e RSA SecurID </h3><br>  O RSA SecurID √© um programa cliente usado para gerar uma senha descart√°vel, desenvolvida pela RSA. <br><br>  √â algo bastante popular para grandes empresas e tamb√©m usa DPAPI, apenas um pouco mais complicado.  Nesse caso, os engenheiros da RSA decidiram se confundir e aplicaram esquemas DPAPI mais complexos. <br><br>  Os dados do token s√£o armazenados no arquivo <code>%LOCALAPPDATA%\RSA\SecurIDStorage</code> , que √© o banco de dados sqlite3.  Cada token criptografado cont√©m seu EnTokenSid criptografado (par√¢metros para a inicializa√ß√£o do algoritmo de gera√ß√£o de c√≥digo).  EnTokenSid √© gerado com base em DBKey, SID do token e usu√°rio SID, e DBKey j√° √© gerado pela descriptografia DPAPI DBKeyEnc na seguinte sequ√™ncia: <br> <code>DBKeyEnc = DPAPI(CurrenUser, DPAPI(LocalSystem(DBKey))</code> <br> <br>  I.e.  Primeiro, a chave do banco de dados √© criptografada com a chave mestra do sistema e, em seguida, o blob DPAPI resultante √© novamente criptografado com a chave mestra do usu√°rio. <br><br>  Tamb√©m no banco de dados h√° CryptoCheckSum do CheckSum: <br>  CryptoCheckSum = blob DPAPI (CurrenUser) <br><br>  Portanto, para que o SecurIDStorage mesclado funcione em sua m√°quina, voc√™ deve: <br><br><ol><li>  Devido ao fato de o SID do usu√°rio estar envolvido na forma√ß√£o do EncTokenSid, √© necess√°rio definir o SID do usu√°rio atual na m√°quina virtual com o mesmo valor que o SID do usu√°rio do qual a base do SecurIDStorage √© obtida.  O utilit√°rio NewSid da SysInternals nos ajudar√° com isso; </li><li>  Descriptografar DBKeyEnc usando a chave mestra do usu√°rio e a senha ou a chave privada do dom√≠nio (caso a m√°quina seja um dom√≠nio); </li><li>  Descriptografe o resultado da descriptografia anterior usando a chave mestra do sistema e o valor do par√¢metro DPAPI_SYSTEM; </li><li>  Descriptografar CryptoCheckSum usando a chave mestra do usu√°rio </li><li>  Criptografe os valores DBKey e CheckSum recebidos em ordem inversa j√° em sua m√°quina virtual; </li><li>  Em algumas vers√µes do SecurID, voc√™ tamb√©m precisar√° definir o tamanho do HDD da m√°quina virtual para o mesmo tamanho que o tamanho do HDD da m√°quina de origem, como  o programa verifica na inicializa√ß√£o. </li></ol><br>  Como mencionado acima, para descriptografar DBKeyEnc, al√©m da chave mestra do usu√°rio, tamb√©m precisamos de uma chave mestra do sistema, al√©m do valor DPAPI_SYSTEM, com o qual as chaves mestras do sistema s√£o descriptografadas.  DAPPI_SYSTEM √© na verdade uma pr√©-chave j√° formada, participando da forma√ß√£o das chaves mestras do sistema.  Voc√™ pode obt√™-lo da mem√≥ria LSASS (via mimikatz ou analisando o despejo de processo) ou dos ramos de registro correspondentes (HKLM \ SYSTEM, HKLM \ SECURITY), despejando-os e analisando o mesmo Impacket. <br><br>  Em seguida, podemos usar o DPAPI_SYSTEM obtido para descriptografar os blobs necess√°rios usando o dpapick (o analisador √© examples / filegeneric.py), conforme mostrado nas seguintes capturas de tela: <br><br>  1) Obtendo DPAPI_SYSTEM via mimikatz offline <br><br><img src="https://habrastorage.org/webt/ww/xi/ov/wwxiovhm-6gdcbn7tmmpr7-qsim.jpeg"><br><br>  2) Obtendo DPAPI_SYSTEM via Impacket offline <br><br><img src="https://habrastorage.org/webt/s7/9v/5g/s79v5gxvzjjccekaklg8gtefyfw.jpeg"><br><br>  3) Descriptografia DPAPIck com chaves mestras do usu√°rio e do sistema <br><br><img src="https://habrastorage.org/webt/ip/th/qm/ipthqmqacvzvixntzgk_n1vsgvs.jpeg"><br><br><h3>  Folha de dicas </h3><br>  Para que voc√™ n√£o esque√ßa o local dos dados espec√≠ficos - n√≥s os colocaremos em uma se√ß√£o separada: <br><br>  <b>Chaves mestras personalizadas</b> <br><br><pre> <code class="bash hljs">%APPDATA%\Microsoft\Protect\&lt;SID&gt;\*</code> </pre> <br>  <b>Chaves mestras do sistema</b> <br><br><pre> <code class="bash hljs">Windows\System32\Microsoft\Protect\*</code> </pre> <br>  <b>DPAPI_SYSTEM</b> <br><br><pre> <code class="bash hljs">LSASecrets ‚Äì online SYSTEM, SECURITY (reg save ‚Ä¶, system\backup, etc)</code> </pre> <br>  <b>Certificados de usu√°rio</b> <br><br><pre> <code class="bash hljs">%APPDATA%\Microsoft\SystemCertificates\My\Certificates\ %APPDATA%\Microsoft\Crypto\RSA\&lt;SID&gt;\</code> </pre> <br>  <b>Certificados do sistema</b> <br><br><pre> <code class="bash hljs">HKLM:\SOFTWARE\Microsoft\SystemCertificates\MY\Certificates\* C:\Programdata\Microsoft\Crypto\RSA\MachineKeys\</code> </pre> <br>  <b>Chrome</b> <br><br><pre> <code class="bash hljs">%localappdata%\Google\Chrome\User Data\Default\Cookies %localappdata%\Google\Chrome\User Data\Default\Login Data</code> </pre> <br>  <b>Dropbox</b> <br><br><pre> <code class="bash hljs">HKCU\SOFTWARE\Dropbox\ks HKCU\SOFTWARE\Dropbox\ks1 %APPDATA%\Local\Dropbox\instance1\config.dbx %APPDATA%\Local\Dropbox\instance_db\instanse.dbx</code> </pre> <br>  <b>Rsa securid</b> <br><br><pre> <code class="bash hljs">%LOCALAPPDATA%\RSA\SecurIDStorage</code> </pre> <br><h3>  Pouca conclus√£o </h3><br>  O DPAPI √© uma coisa maravilhosa - o principal √© entender como ele pode ser usado na realiza√ß√£o de estudos de pentests e RedTeam. <br><br>  Neste artigo, vimos apenas alguns exemplos em que a descriptografia DPAPI pode ser aplicada.  De fato, o escopo √© muito mais amplo.  Por exemplo, n√£o consideramos chaves RDP (* .rdg), Icloud (arquivo pList), Skype (* .Xml), para conex√£o ao Wi-Fi.  Em todos os lugares, a DPAPI √© aplicada e os analisadores correspondentes s√£o implementados como parte da estrutura dpapick. <br><br>  Uma vers√£o modificada do dpapick est√° dispon√≠vel no nosso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> .  Pedimos que voc√™ use essa ferramenta para descriptografar a DPAPI e seremos gratos pelo desenvolvimento adicional do dpapick. <br><br>  E algumas informa√ß√µes interessantes podem ser encontradas em nosso canal em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">telegramas</a> .  Falamos sobre o IB atrav√©s dos olhos do RedTeam. <br><br>  PS Agradecemos aos organizadores do OFFZONE-2018 por uma confer√™ncia divertida! <br><br>  PPS A segunda parte do artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt434514/">https://habr.com/ru/post/pt434514/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt434504/index.html">20 anos Relat√≥rios r√°pidos ‚ÄúO produto foi criado em um s√≥ f√¥lego, apenas alto ...‚Äù</a></li>
<li><a href="../pt434506/index.html">Experi√™ncia em publicar um aplicativo de edi√ß√£o de v√≠deo na Microsoft Store</a></li>
<li><a href="../pt434508/index.html">O lado negro do marketing dos mecanismos de busca: como e por que o Google coleta nossas informa√ß√µes pessoais</a></li>
<li><a href="../pt434510/index.html">Brevemente sobre como trabalhar com o RabbitMQ do Python</a></li>
<li><a href="../pt434512/index.html">Corporativa</a></li>
<li><a href="../pt434516/index.html">Uma maneira f√°cil de lidar com suas aspira√ß√µes de carreira.</a></li>
<li><a href="../pt434518/index.html">Aplausos e aplausos: drama cuidadosamente controlado nas lojas da Apple</a></li>
<li><a href="../pt434522/index.html">Padr√µes de justifica√ß√£o de tarefas e antipadr√µes</a></li>
<li><a href="../pt434524/index.html">Kubernetes Ingress atrav√©s dos olhos de um iniciante</a></li>
<li><a href="../pt434528/index.html">Descriptografia do ray tracer do tamanho de um cart√£o postal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>