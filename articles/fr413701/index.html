<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêú üëåüèΩ üç≤ Impl√©mentation de machines √† √©tats sur Zend Framework3 + Doctine2 üåé üëêüèª üè©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction: pourquoi avons-nous besoin d'une machine d'√©tat 


 Dans les applications, il est souvent n√©cessaire de restreindre l'acc√®s √† certaines ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Impl√©mentation de machines √† √©tats sur Zend Framework3 + Doctine2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413701/"><h1>  Introduction: pourquoi avons-nous besoin d'une machine d'√©tat </h1><br><p>  Dans les applications, il est souvent n√©cessaire de restreindre l'acc√®s √† certaines actions sur un objet.  Pour cela, des modules RBAC sont utilis√©s pour r√©soudre le probl√®me de restriction d'acc√®s en fonction des droits des utilisateurs.  La t√¢che de gestion des actions, selon l'√©tat de l'objet, n'est toujours pas r√©solue.  Ce probl√®me est bien r√©solu en utilisant une machine d'√©tat ou une machine d'√©tat.  Une machine √† √©tats pratique vous permet non seulement de rassembler en un seul endroit toutes les r√®gles de transition entre les √©tats de l'objet, mais aussi de mettre de l'ordre dans le code en s√©parant les r√®gles de transition, en v√©rifiant les conditions et la manipulation et en les soumettant √† des r√®gles g√©n√©rales. </p><br><p>  Je veux partager l'impl√©mentation de la machine d'√©tat pour Zend Framework 3 en utilisant Doctrine 2 <br>  pour travailler avec la base de donn√©es.  Le projet lui-m√™me peut √™tre trouv√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Et ici, je veux partager les principes de base √©nonc√©s. </p><a name="habracut"></a><br><p>  Commen√ßons </p><br><hr><br><p>  Nous allons stocker la description du graphe de transition dans la table de base de donn√©es car: </p><br><ol><li>  C'est clair. </li><li>  Permet d'utiliser le m√™me dictionnaire d'√©tat que celui utilis√© dans celui qui vous int√©resse <br>  nous un objet ayant un √©tat. </li><li>  Vous permet de garantir l'int√©grit√© de la base de donn√©es √† l'aide de cl√©s √©trang√®res. </li></ol><br><p>  L'utilisation d'une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">machine √† √©tats finis non d√©terministe</a> augmentera la flexibilit√© de notre solution. </p><br><p>  Le graphe de transition sera d√©crit √† l'aide d'une paire de tableaux A et B, reli√©s par une relation un-√†-plusieurs. </p><br><p>  Tableau a: </p><br><pre><code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`tr_a`</span></span> ( <span class="hljs-string"><span class="hljs-string">`id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT, <span class="hljs-string"><span class="hljs-string">`src_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> utf8_unicode_ci <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`action_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> utf8_unicode_ci <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">`condition`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> utf8_unicode_ci <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'   '</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`IDX_96B84B3BFF529AC`</span></span> (<span class="hljs-string"><span class="hljs-string">`src_id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`IDX_96B84B3B9D32F035`</span></span> (<span class="hljs-string"><span class="hljs-string">`action_id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> <span class="hljs-string"><span class="hljs-string">`FK_96B84B3B9D32F035`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`action_id`</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">REFERENCES</span></span> <span class="hljs-string"><span class="hljs-string">`action`</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> <span class="hljs-string"><span class="hljs-string">`FK_96B84B3BFF529AC`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`src_id`</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">REFERENCES</span></span> <span class="hljs-string"><span class="hljs-string">`state`</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span> AUTO_INCREMENT=<span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHARSET</span></span>=utf8 <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span>=utf8_unicode_ci</code> </pre> <br><p>  Tableau B: </p><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`tr_b`</span></span> ( <span class="hljs-string"><span class="hljs-string">`id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT, <span class="hljs-string"><span class="hljs-string">`transition_a_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`dst_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> utf8_unicode_ci <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`weight`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'  ,- , null-  '</span></span>, <span class="hljs-string"><span class="hljs-string">`condition`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> utf8_unicode_ci <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'   '</span></span>, <span class="hljs-string"><span class="hljs-string">`pre_functor`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> utf8_unicode_ci <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">' ,  ,   '</span></span>, <span class="hljs-string"><span class="hljs-string">`post_functor`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> utf8_unicode_ci <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">' ,  ,   '</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`IDX_E12699CB85F4C374`</span></span> (<span class="hljs-string"><span class="hljs-string">`transition_a_id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`IDX_E12699CBE1885D19`</span></span> (<span class="hljs-string"><span class="hljs-string">`dst_id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> <span class="hljs-string"><span class="hljs-string">`FK_E12699CB85F4C374`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`transition_a_id`</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">REFERENCES</span></span> <span class="hljs-string"><span class="hljs-string">`tr_a`</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> <span class="hljs-string"><span class="hljs-string">`FK_E12699CBE1885D19`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`dst_id`</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">REFERENCES</span></span> <span class="hljs-string"><span class="hljs-string">`state`</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span> AUTO_INCREMENT=<span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHARSET</span></span>=utf8 <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span>=utf8_unicode_ci</code> </pre> <br><p>  Je vais omettre la d√©finition des classes d'entit√©s; vous pouvez voir un exemple ici: </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">table a</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tableau B</a> </li></ol><br><p>  Tout est standard ici, y compris une description de la relation entre les entit√©s. </p><br><p>  Pour utiliser la machine d'√©tat, nous n'avons besoin que de quelques m√©thodes publiques </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *            * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> object $objE * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $action * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> array $data extra data * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> array * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> ExceptionNS\StateMachineException */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($objE, $action, array $data = [])</span></span></span><span class="hljs-function"> /** *          * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">param</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object</span></span></span><span class="hljs-function"> $</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">objE</span></span></span><span class="hljs-function"> * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">param</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> $</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">action</span></span></span><span class="hljs-function"> * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">param</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> $</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">data</span></span></span><span class="hljs-function"> * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span><span class="hljs-function"> */ </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hasAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($objE, $action, $data=[])</span></span></span></span></code> </pre> <br><p>  Il existe plusieurs autres m√©thodes publiques pour une utilisation confortable, mais ici, je voudrais faire attention √† l'algorithme de la <code>doAction()</code> principale <code>doAction()</code> . </p><br><p>  De l'objet on obtient son √©tat. </p><br><p>  Le connaissant et l'identifiant de l'action, l'entit√©-A est facilement trouv√©e dans la table de transition A. <br>  La condition obtenue par l'identificateur de condition, qui se trouve dans la <code>condition</code> de l'entit√©-A, vous permet de v√©rifier si l'action peut √™tre effectu√©e.  En particulier, la clause RBAC mentionn√©e au d√©but peut √™tre utilis√©e dans le validateur de condition. </p><br><p>  Le validateur sera trouv√© par l'identifiant du champ de <code>condition</code> via le <code>ValidatorPluginManager</code> et <br>  devrait impl√©menter <code>\Zend\Validator\ValidatorInterface</code> .  Je pr√©f√®re utiliser les h√©ritiers de <code>ValidatorChain</code> .  Cela facilite la modification de la composition des conditions contr√¥l√©es et la r√©utilisation de validateurs simples dans le cadre de cha√Ænes de test. </p><br><p>  Nous avons d√©termin√© la transition, v√©rifi√© l'√©tat.  Puisque nous avons un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">non-d√©terministe</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">machine d'√©tat</a> , le r√©sultat de l'action peut √™tre l'un de plusieurs √©tats. </p><br><p>  De tels cas ne sont pas tr√®s courants, mais le projet propos√© est facile √† mettre en ≈ìuvre. <br>  Par la connexion A - &lt;B, nous obtenons une collection de nouveaux √©tats possibles de l'objet (entit√©-B). <br>  Pour s√©lectionner un seul √©tat, nous v√©rifions tour √† tour les conditions de l'entit√©-B de la collection r√©sultante, en les triant par <code>weight</code> de plus grand √† plus petit dans le champ de <code>weight</code> .  La premi√®re v√©rification r√©ussie de la condition nous donne l'Entit√©-B, dans laquelle il y a un nouvel √©tat de l'objet (voir le champ <code>dst_id</code> ). </p><br><p>  Une nouvelle condition est d√©finie  Maintenant, avant de changer l'√©tat, la machine d'√©tat s'ex√©cutera <br>  actions d√©finies dans le pr√©fet, puis il va changer d'√©tat et effectuer des actions, <br>  d√©fini dans la post-fonction.  La machine d'√©tat obtiendra des foncteurs bas√©s sur le nom du champ <code>pre_functor</code> pour la pr√©fonction et <code>post_functor</code> pour la fonction post √† l'aide du gestionnaire de plug-ins et appellera la m√©thode __invoke () pour les objets re√ßus. </p><br><p>  Il n'est pas n√©cessaire de changer d'√©tat √† l'aide de foncteurs.  C'est la t√¢che de la machine d'√©tat.  S'il n'est pas n√©cessaire d'effectuer des actions suppl√©mentaires lors du changement d'√©tat, d√©finissez null sur les champs ci-dessus. </p><br><p>  <strong>Autres puces:</strong> </p><br><ol><li>  Dans les champs de la <code>condition</code> tables de transition, <code>pre_funtor</code> , <code>post_functor</code> j'utilise des alias, √† mon avis c'est pratique. </li><li>  Pour plus de commodit√© visuelle, cr√©ez une vue √† partir des tableaux A et B. </li><li>  J'utilise des identificateurs de cha√Æne comme cl√© primaire dans les dictionnaires d'√©tat et d'action.  Ce n'est pas n√©cessaire, mais pratique.  Des dictionnaires avec des identificateurs num√©riques peuvent √©galement √™tre utilis√©s. </li><li>  Puisqu'une machine √† √©tats finis non d√©terministe est utilis√©e, l'action n'a pas √† conduire √† un changement d'√©tat.  Cela vous permet de d√©crire des actions telles que la visualisation, par exemple. </li><li>  En plus des m√©thodes de v√©rification d'une action et d'ex√©cution d'une action, il existe un certain nombre de m√©thodes publiques qui permettent, par exemple, d'obtenir une liste d'actions pour un √©tat donn√© d'un objet ou une liste d'actions <em>disponibles</em> pour un √©tat donn√© d'un objet, en tenant compte des v√©rifications.  Souvent, dans l'interface des grilles pour chaque enregistrement, vous devez afficher un ensemble d'actions.  Ces m√©thodes de machines d'√©tat aideront √† obtenir la liste n√©cessaire. </li><li>  Bien s√ªr, d'autres machines d'√©tat peuvent √™tre appel√©es √† l'int√©rieur de foncteurs, de plus, vous pouvez vous appeler vous-m√™me, mais avec un objet diff√©rent ou avec le m√™me objet, mais apr√®s un changement d'√©tat (c'est-√†-dire dans un post-foncteur).  Ceci est parfois utile pour organiser des transitions en cascade dans des conditions ¬´soudaines¬ª changeantes du client;) </li></ol><br><h2>  Conclusion </h2><br><p>  Malgr√© les nombreuses t√¢ches qui conviennent parfaitement √† l'utilisation de machines d'√©tat, les programmeurs Web les utilisent relativement rarement.  Les m√™mes d√©cisions que j'ai vues me semblaient monstrueuses. </p><br><p>  J'esp√®re que la solution propos√©e aidera quelqu'un √† gagner du temps sur la mise en ≈ìuvre. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr413701/">https://habr.com/ru/post/fr413701/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr413691/index.html">Commencer</a></li>
<li><a href="../fr413693/index.html">Fait √† la main: clavier programmable pour le commerce en ligne √† faire soi-m√™me</a></li>
<li><a href="../fr413695/index.html">S√©curit√© de Messenger: pourquoi le stockage de messages sur la blockchain pourrait √™tre une bonne id√©e</a></li>
<li><a href="../fr413697/index.html">Comment ne pas √©crire de code</a></li>
<li><a href="../fr413699/index.html">"Qui remue l'eau - 2": ou tout ce que vous vouliez savoir sur l'osmose inverse</a></li>
<li><a href="../fr413703/index.html">S√©curit√© de l'information des paiements bancaires sans esp√®ces. Partie 5 - Plus de 100 liens th√©matiques sur le piratage des banques</a></li>
<li><a href="../fr413705/index.html">√Ä propos de l'avenir du partage en Russie et dans le monde</a></li>
<li><a href="../fr413707/index.html">Une explication tr√®s simple des principes SOLID</a></li>
<li><a href="../fr413709/index.html">Lancement du projet Fusion fusionnant le navigateur Tor et Firefox</a></li>
<li><a href="../fr413711/index.html">Programme pr√©liminaire PyConRu-2018: trois d√©veloppeurs Python Core, conf√©renciers de Google, Yelp, Red Hat, Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>