<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíΩ ü§ûüèΩ üìë Botovodstvo üîµ üõÉ üé¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Depuis le d√©but des ann√©es 2000, les nouvelles concernant l'introduction des robots de discussion dans le travail apparaissent avec une fr√©quence envi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Botovodstvo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/selectel/blog/436622/"><img src="https://habrastorage.org/webt/4r/bm/ao/4rbmaocgu1zssnwtw9jr7trcoiu.png"><br><br>  Depuis le d√©but des ann√©es 2000, les nouvelles concernant l'introduction des robots de discussion dans le travail apparaissent avec une fr√©quence enviable.  Dans cet article, je vais vous dire par o√π commencer et donner un aper√ßu des solutions existantes, ainsi que partager mon exp√©rience dans la cr√©ation d'un bot pour Selectel. <br><br><h2>  Champ d'application </h2><br>  Le d√©veloppement commercial s'accompagne souvent non seulement de l'extension du c≈ìur de m√©tier, mais aussi du d√©bogage des processus de support.  Les chatbots ne sont qu'une partie de l'activit√© commerciale dans le cadre de l'automatisation de routine.  La communication et la mise en ≈ìuvre de t√¢ches simples du m√™me type sous-tendent le travail du chat bot.  Avec lui, vous pouvez effectuer non seulement des t√¢ches r√©p√©titives, mais aussi celles qu'une personne n'est pas en mesure d'effectuer, par exemple, surveiller l'activit√© sur les r√©seaux sociaux. <br><a name="habracut"></a><br>  Je veux donner une vari√©t√© de domaines d'application pour les bots en utilisant l'exemple de mon propre travail chez Selectel.  Mini-spoiler: J'ai commenc√© mon travail en tant que r√©dacteur technique, maintenant je suis ing√©nieur dans le d√©partement des solutions cloud.  Le chemin vers la mise en place d'assistants virtuels a commenc√© avec un bot pour le service marketing, qui suit les commentaires et mentions de l'entreprise sur les r√©seaux sociaux.  Un tel d√©veloppement est tr√®s simple, mais compl√®te efficacement les solutions existantes sur le march√©, par exemple le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">service IFTTT</a> . <br><br>  Les d√©veloppements suivants dans ma pratique ont √©t√© un chatbot interne pour le d√©partement des ressources humaines et un bot pour la communication avec les clients, pr√©sent√©s comme un stand de d√©monstration lors des conf√©rences SelectelTechDay √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Saint-P√©tersbourg</a> et √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Moscou</a> .  Les deux robots sont cr√©√©s en utilisant diff√©rents services et technologies.  Et avant de plonger dans les d√©tails techniques, consid√©rez le sch√©ma de haut niveau des robots d'appareil. <br><br><h2>  Les principes de base de la botanique </h2><br><img src="https://habrastorage.org/webt/bj/pa/lh/bjpalhf582st-rvscox-0rdb3ww.png" title="Principes du chatbot"><br><br>  L'activit√© Chatbot est construite autour de 3 actions principales: <br><br><ol><li>  Les informations sont re√ßues ou affich√©es via certains canaux de communication, par exemple, dans les bo√Ætes de dialogue Slack ou Vk.com. </li><li>  La reconnaissance de l'intention est une analyse compl√®te des informations re√ßues pour former une r√©ponse </li><li>  Traitement des actions - tout travail effectu√© c√¥t√© serveur, n√©cessaire pour pr√©parer la bonne r√©ponse.  Par exemple, si une pr√©vision m√©t√©o a √©t√© demand√©e, alors une demande sera faite √† une certaine API sur la m√©t√©o dans la ville N, et les r√©sultats de cette commande seront envoy√©s √† l'utilisateur </li></ol><br>  Les principales actions des chatbots sont combin√©es dans le cadre de la t√¢che de maintien du contexte afin de cr√©er une forme humano√Øde de communication et de soutien au dialogue.  Le chatbot doit ¬´se souvenir¬ª du sujet de la conversation et adapter ses r√©ponses en cons√©quence. <br><br>  La question de la connexion du chatbot aux plateformes sociales se d√©marque s√©par√©ment.  Les connecteurs aux messageries instantan√©es et aux r√©seaux sociaux peuvent √™tre mis en ≈ìuvre ind√©pendamment ou pris en charge dans le cadre des produits existants pour cr√©er des robots de discussion. <br><br>  √Ä l'heure actuelle, il existe de nombreuses solutions offrant un service pr√™t √† l'emploi pour automatiser le support technique ou les processus de vente.  J'accorderai plus d'attention aux outils qui vous permettent de cr√©er un service qui r√©pond aux exigences internes de s√©curit√© de l'entreprise sans compliquer le processus de d√©veloppement. <br><br><h2>  Construction botanique </h2><br>  Les 3 principes ci-dessus des robots de discussion (canal, analyse, action) peuvent √™tre mis en ≈ìuvre de diff√©rentes mani√®res.  L'option la plus simple consiste √† comparer le texte entrant et √† envoyer les r√©ponses correspondantes √† l'utilisateur. <br><br><img src="https://habrastorage.org/webt/qk/uq/hp/qkuqhp34ajh9mngceyotokw5zsc.jpeg" title="Le formulaire de chatbot le plus simple est de faire des comparaisons avec la base de r√©ponses"><br><br>  Notre objectif est un peu plus √©lev√© - obtenir un syst√®me dans lequel vous pouvez ajouter rapidement de nouveaux scripts et qui comprendra l'utilisateur dans la plupart des cas. <br><br>  Pour ce faire, nous devons comprendre de quoi parle l'utilisateur, contr√¥ler la progression du dialogue et, dans certains cas, effectuer certaines actions (par exemple, r√©server des salles de r√©union).  Ceci peut √™tre r√©alis√© en utilisant les outils suivants: <br><br><ul><li>  DialogFlow (Google) </li><li>  Wit.ai (Facebook) </li><li>  Azure Bot Service (Microsoft) </li><li>  Rasa Core (Open Source) </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sl/ny/ae/slnyae0-oecyvkprys5ofemjssg.png" title="Comparaison des produits les plus populaires"></div><br>  Lors du choix d'un produit, les facteurs suivants sont pris en compte: <br><br><ol><li>  <i>Quelle est l'importance du placement du code ex√©cutable du bot dans les syst√®mes existants</i> <br>  Par exemple, dans le cas de Wit.ai et Dialogflow, nous ne contr√¥lons pas compl√®tement l'ensemble du processus - nous donnons le texte √† ces applications et obtenons une r√©ponse toute faite.  √Ä l'aide du SDK Rasa Core ou Azure BotBuilder, nous pouvons stocker toute la correspondance dans les limites des syst√®mes internes </li><li>  <i>De combien de canaux de communication avez-vous besoin pour vous connecter</i> <br>  Dialogflow offre la possibilit√© d'utiliser un nombre limit√© de connecteurs qui connectent les messageries instantan√©es et les r√©seaux sociaux en sp√©cifiant les cl√©s d'acc√®s.  Vous pouvez utiliser n'importe quel nombre de canaux pour Wit.ai et Rasa Core, mais la logique de connexion √† ceux-ci doit √™tre impl√©ment√©e ind√©pendamment (c'est souvent une t√¢che tr√®s triviale).  Azure Bot Service a la possibilit√© d'utiliser des connecteurs pour certains canaux, mais n'est pas limit√© √† ceux-ci, et il peut √©galement √™tre connect√© √† d'autres sources ind√©pendamment </li><li>  <i>Est-il facile de modifier la base de connaissances du bot</i> <br>  Lorsque vous cr√©ez un bot sous forme de code de programme sans utiliser d'interface visuelle pour interagir avec lui, nous limitons le cercle des personnes qui peuvent apporter des modifications aux bo√Ætes de dialogue et aux r√©ponses du bot.  La fonctionnalit√© d'ajout et de modification de phrases doit √™tre disponible pour tout le monde </li></ol><br>  Pour notre assistant virtuel interne du chat bot Tirex, une plate-forme de Google Dialogflow a √©t√© choisie, qui offre la possibilit√© de modifier visuellement les intentions, et les actions sont effectu√©es √† l'int√©rieur d'un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cloud priv√© dans Selectel</a> .  Les facteurs d√©terminants √©taient la vitesse de d√©marrage du travail avec le bot, la s√©curit√© lors de l'envoi de messages et la pr√©sence du canal Slack dans la liste des canaux support√©s. <br><br><img src="https://habrastorage.org/webt/6o/or/re/6oorre8yi3d19b3pvyc_omf6ve4.jpeg" title="Tirex pr√©voit une transition vers la r√©alit√© virtuelle"><br><br>  L'id√©e de cr√©er un chat bot a longtemps √©t√© dans l'air de l'entreprise, en particulier compte tenu des probl√®mes qui pourraient √™tre r√©solus avec elle: <br><br><ul><li>  Une augmentation du nombre d'employ√©s de l'entreprise, et avec elle un flux croissant de questions similaires comme ¬´Comment utiliser une biblioth√®que d'entreprise?¬ª  et "O√π d√©jeuner?" </li><li>  R√©servation r√©guli√®re de salles de r√©union et d√©livrance de laissez-passer </li><li>  Recherche d'informations et de documents dans la base de connaissances de l'entreprise </li></ul><br><img src="https://habrastorage.org/webt/ff/jq/rl/ffjqrlqkxk_d3hrmanp1x9x_k-i.png" title="Avatar Web Tirex cr√©√© par notre illustrateur Pavel"><br><br>  La cr√©ation et la connexion d'un bot dans Dialogflow prennent plusieurs minutes.  Au d√©but, nous allons consid√©rer les principes du chat bot dans le syst√®me, puis ajouter l'impl√©mentation d'actions complexes. <br><br><h2>  Cr√©er un bot dans Dialogflow </h2><br><h3>  Cr√©ation d'architecture </h3><br>  Plus loin dans le texte, nous travaillerons avec des concepts tels que: <br><br><ul><li>  <b>L'intention</b> est une t√¢che formalis√©e qu'un utilisateur souhaite effectuer. </li><li>  <b>Param√®tres</b> - un ensemble de donn√©es n√©cessaires pour effectuer une t√¢che </li><li>  <b>R√©ponse</b> - une fonction ou un programme ex√©cut√© en r√©ponse √† une intention reconnue </li><li>  <b>Phrase de formation</b> - un exemple de message de l'utilisateur sur lequel le chatbot apprend </li></ul><br>  Dialogflow traite le langage naturel et extrait toutes les donn√©es n√©cessaires pour ex√©cuter des commandes complexes.  Pour cela, des <b>agents</b> sont cr√©√©s qui contiennent plusieurs <b>intentions</b> .  Chacune des <b>intentions</b> vous permet de pr√©parer un chatbot pour comprendre les nuances et les subtilit√©s lors de la formulation des demandes. <br><br>  <b>L'intention</b> comprend <b>des phrases de formation</b> , des <b>param√®tres</b> et des <b>r√©ponses</b> .  √Ä l'int√©rieur de la phrase de formation, nous mettons en √©vidence les param√®tres (par exemple, l'heure ou le lieu) qui sont n√©cessaires pour former la bonne r√©ponse. <br><br>  <b>La r√©ponse est</b> indiqu√©e soit <b>intentionnellement</b> , soit Dialogflow envoie une demande √† notre serveur, qui fait le travail n√©cessaire et renvoie la <b>r√©ponse</b> √† notre chatbot √† titre d'exemple: <br><br><ul><li>  Pour des questions simples (par exemple, ¬´Avons-nous un programme d'assurance √† l'√©tranger?¬ª, La <b>r√©ponse</b> r√©side dans l' <b>intention</b> </li><li>  Pour des t√¢ches plus complexes comme "Y a-t-il une salle d'appel gratuite maintenant?"  <b>la r√©ponse</b> est form√©e en utilisant une demande suppl√©mentaire au serveur, qui d√©termine le temps libre pour tous les participants et salles </li></ul><br><img src="https://habrastorage.org/webt/zd/pj/gl/zdpjgldguiq15ebnhn3llbxnt4i.png" title="Sch√©ma de s√©lection de la r√©ponse du chat bot"><br><br><h3>  Travailler avec des intentions </h3><br>  Envisagez de travailler avec Dialoglow comme exemple de r√©servation de n√©gociation.  Nous cr√©ons un agent de gestion des r√©servations et d√©terminons les intentions suivantes: <br><br><ul><li>  Afficher les r√©servations existantes </li><li>  R√©servez une salle de r√©union </li></ul><br>  Chacune des intentions est invoqu√©e par des phrases d'apprentissage.  Plus ils sont ajout√©s, plus l'action souhait√©e sera ex√©cut√©e.  Dans notre exemple, l'intention de ¬´r√©server une salle de r√©union¬ª sera provoqu√©e par les phrases suivantes: <br><br><ul><li>  R√©servez <b>aujourd'hui</b> √† <b>23h15</b> pour <b>30 minutes</b> sur <b>moi</b> </li><li>  Salut  Veuillez r√©server une <b>salle de</b> r√©union le <b>08/08/2018</b> de <b>15h00</b> √† <b>16h00</b> </li><li>  R√©server </li><li>  J'ai besoin d'une salle de r√©union </li></ul><br><img src="https://habrastorage.org/webt/kq/7q/g0/kq7qg04pq_awv3kwvong8wmmwdg.png"><br><br>  Le principe de la collecte de donn√©es en intention est le suivant: <br><br><ol><li>  Sur la base de l'entr√©e re√ßue, Dialogflow comprend de quelle intention il s'agit.  Dans notre exemple - n√©gociation de r√©servation </li><li>  Si les param√®tres requis n'√©taient pas sp√©cifi√©s dans le premier message (par exemple, l'heure de la r√©union), alors le chat bot posera des questions de clarification </li><li>  Apr√®s avoir re√ßu toutes les donn√©es, Dialogflow enverra une demande √† notre serveur en VPC pour r√©server la chambre souhait√©e </li></ol><br>  Regardons ce processus en action: <br><br><img src="https://habrastorage.org/webt/a2/da/ba/a2dabaptazt_bzdbibfhirvdsxw.gif" title="Communication avec Tirex"><br><br>  L'action est trait√©e en envoyant une demande avec toutes les donn√©es √† l'adresse pr√©-ajout√©e du serveur d'action (URL Webhook): <br><br><img src="https://habrastorage.org/webt/ex/xa/tv/exxatvzn3ysqxnzuxoqmwftmgoi.png" title="Ajouter un serveur d'action"><br><br>  Il y a un serveur sur <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">website.ru/webhook</a></i> qui traite les commandes complexes (dans notre exemple, il renvoie la cha√Æne ¬´Bonjour du serveur!¬ª).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Github Gist</a> pour un d√©marrage rapide: <br><br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- from flask import Flask, request, make_response, jsonify app = Flask(__name__) @app.route('/webhook', methods=['POST']) def webhook(): req = request.get_json(force=True) intent = req.get('queryResult').get('intent').get('displayName') print(intent) if intent == 'Sample intent': res = make_response(jsonify( { "fulfillmentText": "  !", } )) return res return make_response(jsonify( { "fulfillmentText": "   !", } )) if __name__ == '__main__': app.run(host='0.0.0.0', debug=True, port=5000)</span></span></code> </pre> <br><h2>  Cr√©ation d'un bot √† l'aide de RASA </h2><br>  Pour utiliser le chatbot sans services tiers pour la reconnaissance de texte, vous pouvez utiliser des outils tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rasa</a> , qui vous permettent de contr√¥ler enti√®rement l'ensemble du processus du bot.  Rasa est un ensemble de composants logiciels open source qui contiennent la reconnaissance vocale et la gestion du dialogue.  D√©j√† maintenant, vous pouvez regarder la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Boilerplate</a> , que j'ai pr√©par√© pour me familiariser avec la plate-forme, et nous publierons des instructions plus d√©taill√©es s'il y a des demandes de la communaut√© Habr. <br><br><h2>  Chatbots et affaires </h2><br>  L'utilisation des services d'automatisation pour le service client n'est pas une question facile.  Les outils modernes offrent de nombreuses solutions pour choisir entre flexibilit√©, rapidit√© de travail et s√©curit√©.  Les syst√®mes de reconnaissance d'intention en langage naturel sont d√©sormais disponibles non seulement sous une forme exclusive, mais √©galement librement distribu√©s, ce qui ouvre de grandes opportunit√©s pour leurs propres exp√©riences.  Nous avons consid√©r√© l'une des options qui vous permet d'impl√©menter rapidement des robots de discussion pour automatiser les m√™mes t√¢ches de votre entreprise sans co√ªts d'investissement et avec un minimum de main-d'≈ìuvre.  Si vous utilisez d√©j√† des robots de discussion dans votre travail, partagez vos commentaires dans les commentaires sur vos impressions et, bien s√ªr, les impressions de vos clients. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436622/">https://habr.com/ru/post/fr436622/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436612/index.html">Brian Krebs: base de donn√©es de comptes m√©ga-fuites contenant des centaines de millions d'enregistrements, 2-3 ans</a></li>
<li><a href="../fr436614/index.html">Tesla r√©duira de 7% le nombre d'employ√©s permanents dans le monde</a></li>
<li><a href="../fr436616/index.html">Comment Singapour travaille avec l'innovation: de la r√©glementation gouvernementale aux bo√Ætes de nuit</a></li>
<li><a href="../fr436618/index.html">√Ä quoi se pr√©parer en 2019: tendances de programmation</a></li>
<li><a href="../fr436620/index.html">Une approche int√©gr√©e pour visualiser les √©v√©nements de s√©curit√© et mesurer son efficacit√©</a></li>
<li><a href="../fr436624/index.html">√âtude: la plupart des utilisateurs ne comprennent pas comment Facebook g√®re leurs donn√©es.</a></li>
<li><a href="../fr436626/index.html">Python devient le langage de programmation le plus populaire au monde.</a></li>
<li><a href="../fr436628/index.html">Am√©lioration de l'agent Q-Learning bas√© sur les actions en ajoutant la r√©currence et les r√©compenses</a></li>
<li><a href="../fr436630/index.html">Microservices. L'unification et pourquoi c'est si important. Partie 1 - Configuration</a></li>
<li><a href="../fr436632/index.html">Comment nous construisons un syst√®me de traitement, de stockage et d'analyse des donn√©es dans SIBUR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>