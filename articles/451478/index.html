<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏇 🙇 🚴🏻 Acelerar la exploración de datos utilizando la biblioteca de perfiles de pandas 🤳🏼 🙍 ⛽️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En primer lugar, para comenzar con un nuevo conjunto de datos, debe comprenderlo. Para hacer esto, es necesario, por ejemplo, encontrar los rangos de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Acelerar la exploración de datos utilizando la biblioteca de perfiles de pandas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/451478/">  En primer lugar, para comenzar con un nuevo conjunto de datos, debe comprenderlo.  Para hacer esto, es necesario, por ejemplo, encontrar los rangos de valores aceptados por las variables, sus tipos y también conocer el número de valores faltantes. <br><br>  La biblioteca de pandas nos proporciona muchas herramientas útiles para realizar el Análisis Exploratorio de Datos (EDA).  Pero antes de usarlos, generalmente necesita comenzar con funciones más generales, como df.describe ().  Es cierto que debe tenerse en cuenta que las posibilidades proporcionadas por tales funciones son limitadas, y las etapas iniciales de trabajar con cualquier conjunto de datos durante EDA son muy a menudo muy similares entre sí. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/5w/2h/8c/5w2h8ckcwdq5ukaw61r5xhdvch4.jpeg"></a> <br><br>  El autor del material que publicamos hoy dice que no es fanático de repetir acciones.  Como resultado, en la búsqueda de herramientas para realizar análisis de datos exploratorios de manera rápida y eficiente, encontró la biblioteca de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">perfiles de pandas</a> .  Los resultados de su trabajo se expresan no en forma de ciertos indicadores individuales, sino en forma de un informe HTML bastante detallado que contiene la mayor parte de la información sobre los datos analizados que puede necesitar saber antes de comenzar a trabajar más de cerca con ellos. <br><a name="habracut"></a><br>  Aquí consideraremos las características de usar la biblioteca de perfiles de pandas usando el ejemplo del conjunto de datos Titanic. <br><br><h2>  <font color="#3AC1EF">Análisis de datos de exploración de pandas</font> </h2><br>  Decidí experimentar con perfiles de pandas en el conjunto de datos Titanic debido al hecho de que tiene datos de diferentes tipos y debido a los valores faltantes en él.  Creo que la biblioteca de perfiles de pandas es especialmente interesante en los casos en que los datos aún no se han borrado y requieren un procesamiento adicional, dependiendo de sus características.  Para realizar con éxito dicho procesamiento, debe saber dónde comenzar y qué buscar.  Aquí es donde las funciones de perfil de pandas son útiles. <br><br>  Para comenzar, importamos los datos y usamos pandas para obtener indicadores de estadísticas descriptivas: <br><br><pre><code class="plaintext hljs">#    import pandas as pd import pandas_profiling import numpy as np #   df = pd.read_csv('/Users/lukas/Downloads/titanic/train.csv') #     df.describe()</code> </pre> <br>  Después de ejecutar este fragmento de código, obtiene lo que se muestra en la siguiente figura. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f2/aa7/199/7f2aa71998447a1618eb8d307594ad16.png"></div><br>  <i><font color="#999999">Métricas de estadísticas descriptivas utilizando herramientas estándar de pandas</font></i> <br><br>  Aunque contiene mucha información útil, no hay todo lo que sea interesante para aprender sobre los datos que se estudian.  Por ejemplo, podemos suponer que en el marco de datos, en la estructura <code>DataFrame</code> , hay 891 <code>DataFrame</code> .  Si necesita verificar esto, necesitará otra línea de código que determine el tamaño del marco.  Aunque estos cálculos no son particularmente intensivos en recursos, su repetición constante necesariamente conducirá a la pérdida de tiempo, que probablemente se gasta mejor en la limpieza de datos. <br><br><h2>  <font color="#3AC1EF">Análisis exploratorio de datos utilizando perfiles pandas</font> </h2><br>  Ahora haga lo mismo usando pandas-perfiling: <br><br><pre> <code class="plaintext hljs">pandas_profiling.ProfileReport(df)</code> </pre> <br>  La implementación de la línea de código anterior le permitirá generar un informe con indicadores de análisis de datos exploratorios.  El código que se muestra arriba conducirá a la conclusión de la información de datos encontrados, pero se puede hacer para que el resultado sea un archivo HTML, que, por ejemplo, se puede mostrar a alguien. <br><br>  La primera parte del informe contendrá la sección Descripción general, que proporciona información básica sobre los datos (número de observaciones, número de variables, etc.).  Además, contendrá una lista de advertencias que notificarán al analista sobre a qué debe prestar especial atención.  Estas advertencias pueden ser una pista sobre dónde puede concentrar sus esfuerzos al limpiar sus datos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/174/84c/728/17484c7286399fc9776298fff4f1e812.png"></div><br>  <i><font color="#999999">Resumen de la sección de informes</font></i> <br><br><h2>  <font color="#3AC1EF">Análisis exploratorio de variables</font> </h2><br>  Detrás de la sección Descripción general del informe, puede encontrar información útil sobre cada variable.  Entre otras cosas, incluyen pequeños diagramas que describen la distribución de cada variable. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/323/c12/003/323c12003055c61e634d0575e564842b.png"></div><br>  <i><font color="#999999">Información de variables numéricas de edad</font></i> <br><br>  Como puede ver en el ejemplo anterior, el perfil de pandas nos brinda algunos indicadores útiles, como el porcentaje y el número de valores faltantes, así como indicadores de estadísticas descriptivas que ya hemos visto.  Como la <code>Age</code> es una variable numérica, la visualización de su distribución en forma de histograma nos permite concluir que tenemos una distribución en ángulo recto. <br><br>  Cuando se considera una variable categórica, los indicadores mostrados son ligeramente diferentes de los encontrados para la variable numérica. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fdf/f91/5c4/fdff915c4b0fce210387ffcfeb775b9d.png"></div><br>  <i><font color="#999999">Información variable de categoría de sexo</font></i> <br><br>  Es decir, en lugar de encontrar el promedio, el mínimo y el máximo, la biblioteca de perfiles de pandas encontró el número de clases.  Como <code>Sex</code> es una variable binaria, sus valores están representados por dos clases. <br><br>  Si, como yo, le gusta investigar el código, entonces puede estar interesado en cómo exactamente la biblioteca de perfiles de pandas calcula estos indicadores.  Saber esto, dado que el código de la biblioteca está abierto y disponible en GitHub, no es tan difícil.  Como no soy un gran fanático del uso de "cajas negras" en mis proyectos, miré el código fuente de la biblioteca.  Por ejemplo, aquí está el mecanismo para procesar variables numéricas representadas por la función <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">describe_numeric_1d</a> : <br><br><pre> <code class="plaintext hljs">def describe_numeric_1d(series, **kwargs):   """Compute summary statistics of a numerical (`TYPE_NUM`) variable (a Series).   Also create histograms (mini an full) of its distribution.   Parameters   ----------   series : Series       The variable to describe.   Returns   -------   Series       The description of the variable as a Series with index being stats keys.   """   # Format a number as a percentage. For example 0.25 will be turned to 25%.   _percentile_format = "{:.0%}"   stats = dict()   stats['type'] = base.TYPE_NUM   stats['mean'] = series.mean()   stats['std'] = series.std()   stats['variance'] = series.var()   stats['min'] = series.min()   stats['max'] = series.max()   stats['range'] = stats['max'] - stats['min']   # To avoid to compute it several times   _series_no_na = series.dropna()   for percentile in np.array([0.05, 0.25, 0.5, 0.75, 0.95]):       # The dropna() is a workaround for https://github.com/pydata/pandas/issues/13098       stats[_percentile_format.format(percentile)] = _series_no_na.quantile(percentile)   stats['iqr'] = stats['75%'] - stats['25%']   stats['kurtosis'] = series.kurt()   stats['skewness'] = series.skew()   stats['sum'] = series.sum()   stats['mad'] = series.mad()   stats['cv'] = stats['std'] / stats['mean'] if stats['mean'] else np.NaN   stats['n_zeros'] = (len(series) - np.count_nonzero(series))   stats['p_zeros'] = stats['n_zeros'] * 1.0 / len(series)   # Histograms   stats['histogram'] = histogram(series, **kwargs)   stats['mini_histogram'] = mini_histogram(series, **kwargs)   return pd.Series(stats, name=series.name)</code> </pre> <br>  Aunque este fragmento de código puede parecer bastante grande y complejo, de hecho, comprenderlo es muy simple.  El punto es que en el código fuente de la biblioteca hay una función que determina los tipos de variables.  Si resultó que la biblioteca cumplió con una variable numérica, la función anterior encontrará los indicadores que consideramos.  Esta función utiliza operaciones estándar de pandas para trabajar con objetos del tipo <code>Series</code> , como <code>series.mean()</code> .  Los resultados del cálculo se almacenan en el diccionario de <code>stats</code> .  Los histogramas se generan utilizando una versión adaptada de la función <code>matplotlib.pyplot.hist</code> .  La adaptación tiene como objetivo permitir que la función funcione con varios tipos de conjuntos de datos. <br><br><h2>  <font color="#3AC1EF">Indicadores de correlación y muestra de los datos estudiados.</font> </h2><br>  Después de los resultados del análisis de variables, el perfil de pandas, en la sección Correlaciones, muestra las matrices de correlación de Pearson y Spearman. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d95/56f/a49/d9556fa495d7c0f0fd337cae18e512a2.png"></div><br>  <i><font color="#999999">Matriz de correlación de Pearson</font></i> <br><br>  Si es necesario, es posible, en la línea de código que comienza la formación del informe, establecer los valores umbral utilizados para calcular la correlación.  Al hacer esto, puede indicar qué fuerza de correlación se considera importante para su análisis. <br><br>  Finalmente, el informe de perfil de pandas, en la sección Muestra, muestra, como ejemplo, una pieza de datos tomada desde el comienzo del conjunto de datos.  Este enfoque puede llevar a sorpresas desagradables, ya que las primeras observaciones pueden ser una muestra que no refleja las características de todo el conjunto de datos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d26/9e9/d5c/d269e9d5c6d5f6cf18041a154034fcbc.png"></div><br>  <i><font color="#999999">Sección que contiene datos de muestra</font></i> <br><br>  Como resultado, no recomiendo prestar atención a esta última sección.  En cambio, es mejor usar el <code>df.sample(5)</code> , que seleccionará al azar 5 casos del conjunto de datos. <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  Resumiendo lo anterior, se puede observar que la biblioteca de perfiles de pandas proporciona al analista algunas características útiles que serán útiles en los casos en que necesite obtener rápidamente una idea general de los datos o enviar a alguien un informe sobre el análisis de datos de inteligencia.  Al mismo tiempo, se realiza un trabajo real con datos, teniendo en cuenta sus características, como si no se utilizara el perfil de pandas de forma manual. <br><br>  Si desea ver cómo se ve todo el análisis de inteligencia de datos en un cuaderno Jupyter, eche un vistazo a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esto que</a> mi proyecto creó usando nbviewer.  Y en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> repositorio de GitHub puedes encontrar el código apropiado. <br><br>  <b>Estimados lectores!</b>  ¿Cómo comienzas a analizar nuevos conjuntos de datos? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/451478/">https://habr.com/ru/post/451478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451462/index.html">Escriba menos código duplicado usando carpetas en Laravel</a></li>
<li><a href="../451464/index.html">Frontend Weekly Digest (6-12 de mayo de 2019)</a></li>
<li><a href="../451466/index.html">graphql - trampas</a></li>
<li><a href="../451468/index.html">El resumen de materiales frescos del mundo del front-end para la última semana No. 364 (6 al 12 de mayo de 2019)</a></li>
<li><a href="../451476/index.html">LLVM en términos de Go</a></li>
<li><a href="../451480/index.html">¿Por qué el Ministerio de Industria y Comercio prohíbe el almacenamiento de datos en equipos extranjeros?</a></li>
<li><a href="../451482/index.html">Competencias de un programador moderno desde un ángulo diferente</a></li>
<li><a href="../451488/index.html">Cálculo de canibalización basado en la prueba clásica A / B y el método bootstrap</a></li>
<li><a href="../451492/index.html">Siete variables inesperadas de Bash</a></li>
<li><a href="../451496/index.html">Mitap Netologii "Carreras en ciencia de datos para principiantes"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>