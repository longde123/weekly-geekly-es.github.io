<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐗 🔌 💧 PDU et All-All-All: distribution d'alimentation en rack 🉑 👨‍🎓 ✋🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'un des racks de virtualisation interne. Confondu avec l'indication de couleur des câbles: l'orange indique une entrée impaire pour l'alimentation, l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PDU et All-All-All: distribution d'alimentation en rack</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/471876/"><img src="https://habrastorage.org/webt/eq/r1/yo/eqr1yo6q0xgzlqde_yrkplaj1hg.jpeg"><br>  <i>L'un des racks de virtualisation interne.</i>  <i>Confondu avec l'indication de couleur des câbles: l'orange indique une entrée impaire pour l'alimentation, le vert - même.</i> <br><br>  Ici, nous parlons le plus souvent des «krupnyak» - refroidisseurs, groupes électrogènes diesel, tableaux de distribution principaux.  Aujourd'hui, nous allons parler des "petites choses" - les prises dans les racks, ce sont aussi les Power Distribution Unit (PDU).  Dans nos centres de données, il y a plus de 4 000 racks obstrués par du matériel informatique, donc dans la pratique j'ai vu beaucoup de choses: PDU classiques, «intelligentes» avec surveillance et contrôle, blocs de socket ordinaires.  Aujourd'hui, je vais vous dire quelles PDU sont disponibles et ce qu'il vaut mieux choisir dans une situation spécifique. <a name="habracut"></a><br><br><h3>  Que sont les PDU </h3><br>  <b>Un simple bloc de prises.</b>  Oui, celui qui vit dans chaque maison ou bureau. <br>  Formellement, il ne s'agit pas exactement d'un PDU au sens d'une utilisation industrielle dans des racks avec des équipements informatiques, mais ces appareils ont aussi leurs ventilateurs.  Le seul avantage de cette solution est son faible coût (le coût commence à partir de 2 000 roubles).  Ils peuvent également vous aider si vous utilisez des racks ouverts, où vous ne pouvez pas pousser une PDU standard de quelque manière que ce soit, et vous ne voulez pas perdre des unités sous une PDU horizontale.  C'est encore une fois la question de l'épargne. <br><br>  Il y a bien plus d'inconvénients: ces appareils n'ont pas toujours de protection interne contre les courts-circuits et les surcharges, surveillent les indicateurs et encore plus ne parviennent pas à gérer les prises.  Le plus souvent, ils seront placés au bas du rack.  Ce n'est pas la position la plus pratique pour les prises pour déconnecter l'équipement. <br><br>  En général, les «pilotes» peuvent être utilisés si: <br><br><ul><li>  vous avez des milliers de serveurs et vous devez enregistrer </li><li>  vous pouvez vous permettre de connecter aveuglément des équipements sans comprendre ce qui s'y passe avec une consommation réelle, </li><li>  prêt pour les temps d'arrêt. </li></ul><br>  Nous n'utilisons pas cela, mais nous avons des clients qui pratiquent cela avec beaucoup de succès.  Certes, ils construisent l'infrastructure de leurs services de telle manière que la panne de dizaines de serveurs n'affecte pas les performances de l'application cliente. <br><br><img src="https://habrastorage.org/webt/c2/wb/2s/c2wb2se3kwviqykqus9qfqopfdi.jpeg"><br>  <i>Pas cher et gai.</i> <br><br><img src="https://habrastorage.org/webt/l8/yh/xz/l8yhxzzq2chj5wjvbu0uufl6rdg.jpeg"><br>  <i>Placement vertical.</i> <br><br>  <b>PDU stupides.</b>  En fait, c'est un PDU classique pour une utilisation dans des racks avec des équipements informatiques, et c'est déjà bon.  Ils ont le facteur de forme approprié pour le placement sur les côtés du rack, grâce auquel il est pratique de leur connecter l'équipement.  Il y a une protection interne.  Ces PDU n'ont pas de surveillance, ce qui signifie que nous ne saurons pas quel équipement consomme combien et ce qui se passe à l'intérieur.  Nous n'avons presque plus de PDU de ce type et, en général, elles se retirent progressivement de l'utilisation massive. <br><br>  Ces PDU coûtent 25 000 roubles. <br><br><img src="https://habrastorage.org/webt/gj/ok/xn/gjokxnk_xkfiyqkyee9wjzj2ygs.jpeg"><br><br>  <b>PDU intelligentes avec surveillance.</b>  Ces appareils ont un cerveau et sont capables de suivre les paramètres de consommation d'énergie.  Il y a un affichage où les principaux indicateurs sont affichés: tension, courant et puissance.  Vous pouvez les suivre par des groupes de points de vente distincts: sections ou banques.  Vous pouvez vous connecter à une telle PDU à distance, configurer l'envoi de données au système de surveillance.  Ils écrivent des journaux par lesquels vous pouvez voir tout ce qui lui est arrivé, par exemple, lorsque la PDU s'est éteinte. <br><br>  Ils savent également calculer la consommation (kW * h) pour la comptabilité technique afin de comprendre combien le rack consomme dans un certain laps de temps. <br><br>  Ce sont des PDU standard que nous proposons à la location à nos clients, et la plupart de ces PDU se trouvent dans nos centres de données. <br><br>  Si vous achetez, préparez-vous à payer 75 000 roubles chacun. <br><br><img src="https://habrastorage.org/webt/hm/2z/_r/hm2z_r5hlfaha5fcwcc8hm4jxnq.jpeg"><br><br><img src="https://habrastorage.org/webt/te/be/fm/tebefmn6gpd4neghnidr880se4c.jpeg"><br><br><img src="https://habrastorage.org/webt/-v/bx/j_/-vbxj_jf7hc00z00dhbj21sxwfm.jpeg"><br>  <i>Graphique de notre surveillance PDU interne.</i> <br><br>  <b>PDU intelligentes avec contrôle.</b>  Ces compétences sont complétées par des contrôles pour les compétences ci-dessus.  Les PDU les plus cool contrôlent et surveillent chaque prise: vous pouvez activer / désactiver, ce qui se produit dans les situations où il est nécessaire de redémarrer à distance le serveur sous tension.  C'est le charme et le danger de ces PDU: un utilisateur ordinaire, par ignorance, peut se connecter à l'interface Web, appuyer sur quelque chose et redémarrer / arrêter l'ensemble du système d'un seul coup.  Oui, le système avertira deux fois des conséquences, mais la pratique montre que même les alarmes ne protègent pas toujours contre les actions inconsidérées des utilisateurs. <br><br>  Le gros problème avec les PDU intelligentes est la surchauffe et la défaillance du contrôleur et de l'affichage.  Les PDU sont généralement montés à l'arrière du rack où de l'air chaud est soufflé.  Il fait chaud là-bas et les contrôleurs ne peuvent pas le supporter.  Dans ce cas, la PDU n'a pas besoin d'être entièrement changée, le contrôleur peut être changé à chaud. <br><br>  Eh bien, à un coût assez mordant - de 120 mille roubles. <br><br><img src="https://habrastorage.org/webt/sc/ww/2i/scww2i2gmyjqwfs1saspc7hhg3i.jpeg"><br>  <i>Les PDU contrôlées peuvent être identifiées par les indications sous chaque prise.</i> <br><br>  À mon avis, la fonction de gestion dans la PDU est une question de goût, mais la surveillance est un must have.  Sinon, il ne sera pas possible de suivre la consommation et la charge.  Pourquoi c'est important, je le dirai un peu plus tard. <br><br><h3>  Comment calculer la puissance PDU requise? </h3><br>  À première vue, tout est assez simple ici: la puissance de la PDU est sélectionnée en fonction de la puissance du rack, mais il y a des nuances.  Disons que vous avez besoin d'un rack de 10 kW.  Les fabricants de PDU proposent des modèles de 3, 7, 11, 22 kW.  Choisissez 11 kW et, malheureusement, vous vous tromperez.  Nous devrons choisir 22 kW.  Pourquoi avons-nous besoin d'une telle offre?  Je vais tout expliquer maintenant. <br><br>  Premièrement, les fabricants indiquent souvent la puissance des PDU en kilowatts plutôt qu'en kilovolt-ampères, ce qui est plus correct, mais pas évident pour la personne moyenne. <br>  Parfois, les fabricants eux-mêmes ajoutent une confusion supplémentaire: <br><br>  Ici, il dit d'abord environ 11 kW, <br><br><img src="https://habrastorage.org/webt/d5/d4/u9/d5d4u9lgwwimtjvkzb8r5v8p70i.png"><br><br>  Et dans la description détaillée, nous parlons de 11000 VA: <br><br><img src="https://habrastorage.org/webt/ly/zo/zi/lyzozicxuuealtfgc7im7gwo-fm.png"><br><br>  Si vous avez affaire à des mannequins et à des consommateurs similaires, il n'y aura pas de différence entre kW et kVA.  Un rack de 10 kW avec bouilloires consommera 10 kVA.  Mais si nous avons un équipement informatique, alors le coefficient (cos φ) y apparaît: plus l'équipement est récent, plus ce coefficient est proche de l'unité.  Le coût hospitalier moyen pour l'équipement informatique est de 0,93 à 0,95.  Par conséquent, un rack de 10 kW avec IT consommera 10,7 kVA.  Voici la formule par laquelle nous avons reçu 10,7 kVA. <br><br>  <i>Pfull = Pacte / Cos (φ)</i> <i><br></i>  <i>10 / 0,93 = 10,7 kVA</i> <br><br>  Eh bien, vous posez une question raisonnable, 10,7 est inférieur à 11. Pourquoi avons-nous besoin d'une télécommande de 22 kW?  Il y a un deuxième point: le niveau de consommation d'énergie de l'équipement variera selon l'heure de la journée, le jour de la semaine.  Lors de la distribution de l'alimentation, ce moment doit être pris en compte et ~ 10% doit être mis de côté pour les fluctuations et les sauts, de sorte qu'au moment de l'augmentation de la consommation de PDU, ils n'entrent pas en surcharge et ne laissent pas l'équipement sans alimentation. <br><br><img src="https://habrastorage.org/webt/mx/je/jg/mxjejgs7lu3oi9zt2amthe0mxtu.jpeg"><br>  <i>Le calendrier de consommation d'un rack de 10 kW en 4 jours.</i> <br><br>  Il s'avère que nous devons ajouter 10% supplémentaires à nos 10,7 kW, et en conséquence, la télécommande pour 11 kW ne nous convient plus. <br><br><div class="scrollable-table"><table><tbody><tr><td>  Modèle de télécommande <br></td><td>  Phase <br></td><td>  Puissance du fabricant, kVA <br></td><td>  Puissance DtLN, kW <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AP8858</a> <br></td><td>  1 f <br></td><td>  3,7 <br></td><td>  3 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AP8853</a> <br></td><td>  1 f <br></td><td>  7.4 <br></td><td>  6 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AP8881</a> <br></td><td>  3 f <br></td><td>  11 <br></td><td>  9 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AP8886</a> <br></td><td>  3 f <br></td><td>  22 <br></td><td>  18 <br></td></tr></tbody></table></div><br>  <i>Un fragment de la table de puissance de modèles PDU spécifiques selon DataLine.</i>  <i>Tenant compte de la conversion de kVA en kW et de la réserve pour les courses de chevaux pendant la journée.</i> <br><br><h3>  Caractéristiques de montage </h3><br>  Il est plus pratique de travailler avec la PDU lorsqu'elle est montée verticalement, à gauche et à droite du rack.  Dans ce cas, il n'occupe pas d'espace utilisable.  Régulièrement, jusqu'à quatre PDU peuvent être installés dans le rack - deux à gauche et deux à droite.  Le plus souvent, ils mettent un PDU de chaque côté.  Chaque PDU reçoit une entrée d'alimentation. <br><br><img src="https://habrastorage.org/webt/15/xt/sx/15xtsx1ezymyuudgqccv4hmpchu.jpeg"><br>  <i>Les racks standard «kit carrosserie» - 2 PDU et 1 ATS.</i> <br><br>  Parfois, dans un rack, il n'y a pas de place pour les PDU verticaux, par exemple, s'il s'agit d'un rack ouvert.  Ensuite, les PDU horizontales viennent à la rescousse.  La seule chose est que dans ce cas, vous devrez accepter la perte de 2 à 4 unités dans le rack, selon le modèle de PDU. <br><br><img src="https://habrastorage.org/webt/rl/zr/3q/rlzr3qasnvs2jz1rlcovcry8xym.jpeg"><br>  <i>Ici, le PDU a mangé 4 unités.</i>  <i>Ce type de PDU est également utilisé lorsque vous devez faire la distinction entre deux clients dans le même rack.</i>  <i>Dans ce cas, chaque client aura une paire distincte de PDU.</i> <br><br>  Il arrive que le rack ne soit pas sélectionné suffisamment profondément et que le serveur dépasse, bloquant la PDU.  Ici, la chose la plus triste n'est pas que certaines des prises soient inactives, mais que si une telle PDU se casse, vous devrez l'enterrer directement dans le rack, ou déconnecter et retirer tout l'équipement interférant. <br><br><img src="https://habrastorage.org/webt/1z/wh/_p/1zwh_putdsjdkgr5da4af3fgpfq.jpeg"><br>  <i>Ne le faites pas - 1.</i> <br><br><img src="https://habrastorage.org/webt/1t/fc/an/1tfcanom9tsxn-khlhyb3e8awxc.jpeg"><br>  <i>Ne faites pas cela - 2.</i> <br><br><h3>  Connexion d'équipement </h3><br>  Même la PDU la plus sophistiquée n'aidera pas si l'équipement n'est pas correctement connecté et qu'il n'y a aucun moyen de surveiller la consommation. <br><br>  Qu'est-ce qui pourrait mal tourner?  Un peu d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">équipement</a> .  Deux entrées d'alimentation viennent à chaque rack, deux PDU dans un rack standard.  Il s'avère que chaque PDU a sa propre entrée.  Si quelque chose arrive à l'une des entrées (lire la PDU), le rack continue de vivre sur la seconde.  Pour que ce schéma fonctionne, vous devez suivre certaines règles.  Voici les principaux (une liste complète peut être trouvée <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ): <br><br>  <b>L'équipement doit être connecté à différentes PDU.</b>  Si l'équipement possède un bloc d'alimentation et une fiche, il est alors connecté à la PDU via ATS (commutateur de transfert automatique) ou ATS (commutateur de transfert automatique).  En cas de problème avec l'une des entrées ou la PDU elle-même, l'ATS commute l'équipement sur une PDU / entrée saine.  L'équipement ne ressentira rien. <br><br>  <b>Charge appariée sur deux entrées / PDU.</b>  L'entrée de sauvegarde ne sera sauvegardée que si elle peut supporter la charge d'une entrée tombée.  Pour ce faire, vous devez laisser une marge: chargez chaque entrée à moins de la moitié de la puissance nominale, et la charge totale sur les deux entrées était inférieure à 100% de la valeur nominale.  Seulement dans ce cas, l'entrée restante résistera à une double charge.  Si vous ne le faites pas, la mise au point avec le passage à la réserve n'aura pas lieu - l'équipement restera sans alimentation.  Pour éviter le pire, nous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">surveillons</a> ce paramètre. <br><br>  <b>Équilibrage de charge entre les sections PDU.</b>  Les sockets PDU sont regroupés en sections.  Habituellement 2 ou 3 pièces.  Chaque section a sa propre limite de puissance.  Il est important de ne pas le dépasser et de répartir la charge uniformément sur toutes les sections.  Eh bien, l'histoire avec des charges jumelées, qui a été discutée ci-dessus, fonctionne également ici. <br><br>  <b>Pour résumer</b> <br><br><ol><li>  Si possible, choisissez une PDU avec une fonction de surveillance. </li><li>  Lorsque vous choisissez un modèle PDU, laissez une marge de puissance. </li><li>  Montez le PDU pour pouvoir le remplacer sans déranger l'équipement informatique. </li><li>  Connectez-vous correctement: connectez l'équipement à deux PDU, ne surchargez pas les sections et n'oubliez pas les charges de la paire. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr471876/">https://habr.com/ru/post/fr471876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr471864/index.html">Génération de l'analyseur PEG</a></li>
<li><a href="../fr471866/index.html">Visualisation de l'analyseur PEG</a></li>
<li><a href="../fr471868/index.html">Génétique de l'amour: le conflit entre les sexes comme base de coopération dans des couples d'oiseaux monogames</a></li>
<li><a href="../fr471872/index.html">Interfaces en C # 8: hypothèses dangereuses dans l'implémentation par défaut</a></li>
<li><a href="../fr471874/index.html">Comment nous avons contourné les directives d'examen et lancé un serveur par téléphone</a></li>
<li><a href="../fr471880/index.html">Idée pour Geek Halloween, ou le temps de choisir GeekMask</a></li>
<li><a href="../fr471882/index.html">Une liste ouverte d'événements PHP, de conférenciers et d'organisateurs sur GitHub</a></li>
<li><a href="../fr471884/index.html">10 utilitaires ApexSQL gratuits pour gérer les bases de données Microsoft SQL Server</a></li>
<li><a href="../fr471886/index.html">VMmanager 6: présentation de la box et comparaison avec la génération précédente</a></li>
<li><a href="../fr471890/index.html">Inférence variationnelle - qu'est-ce que c'est et que mange-t-elle?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>