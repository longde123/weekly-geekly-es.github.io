<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§üüèª üåâ üë®‚Äçüé® Sob supervis√£o vigilante: como monitorar tarifas hoster e manter o cat√°logo VPS atualizado üë©üèæ‚ÄçüöÄ üï∫üèæ üëî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em 2013, escrevi o site VPS Search e, na √©poca da primeira publica√ß√£o em Habr√©, o cat√°logo continha informa√ß√µes sobre 150 hosters e mais de 1200 tarif...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sob supervis√£o vigilante: como monitorar tarifas hoster e manter o cat√°logo VPS atualizado</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/poiskvps/blog/422899/"> Em 2013, escrevi o site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VPS Search</a> e, na √©poca da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira publica√ß√£o</a> em Habr√©, o cat√°logo continha informa√ß√µes sobre 150 hosters e mais de 1200 tarifas.  A adi√ß√£o desse conjunto de informa√ß√µes n√£o demorou muito tempo, pois na primeira vers√£o do site mostramos apenas os principais par√¢metros tarif√°rios (custo, capacidade do disco, tamanho da RAM, frequ√™ncia do processador, quantidade de tr√°fego, pa√≠s de localiza√ß√£o e tipo de virtualiza√ß√£o).  Todas essas informa√ß√µes foram apresentadas nos sites dos hosters, portanto, al√©m da c√≥pia rotineira desses dados para o painel de administra√ß√£o do site, nada tinha que ser feito. <br><br><img src="https://habrastorage.org/webt/9d/e0/81/9de0810zxlwbzgppwxwsnsctqji.jpeg"><br><br>  No final de janeiro de 2014, apresentei a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">segunda vers√£o do</a> VPS Search, e o n√∫mero de par√¢metros para cada tarifa aumentou bastante, foram adicionados: tipo de disco, lista de sistemas operacionais instalados, m√©todos de pagamento, disponibilidade do painel de controle inclu√≠do no pre√ßo, tipo de administra√ß√£o, suporte IPv6.  Todas essas informa√ß√µes n√£o estavam nos sites de host, ent√£o eu precisei de cada host apresentado no cat√°logo para fazer perguntas para atualizar suas tarifas, o que levou bastante tempo. <br><br>  No entanto, como se viu, o preenchimento do cat√°logo n√£o foi o mais dif√≠cil: as tarifas dos hosters estavam constantemente mudando, e era necess√°rio responder rapidamente a essas mudan√ßas e fazer altera√ß√µes. <br><a name="habracut"></a><br>  Na minha opini√£o, as mudan√ßas nas tarifas devem ser monitoradas com muito cuidado, pois dados irrelevantes prejudicam a reputa√ß√£o do cat√°logo.  Por exemplo, um usu√°rio foi ao site, encontrou algum tipo de tarifa por 100 rublos, foi ao site do hoster e viu que essa tarifa custa 150 rublos.  O usu√°rio pode pensar que as informa√ß√µes no cat√°logo est√£o muito desatualizadas e n√£o podem mais ser usadas.  Para excluir essa situa√ß√£o, voc√™ precisa atualizar as informa√ß√µes o mais r√°pido e corretamente poss√≠vel. <br><br>  No momento da reda√ß√£o do cat√°logo, assumi o seguinte modelo de atualiza√ß√£o de informa√ß√µes: os hosters, registrados em sua conta pessoal, poder√£o monitorar independentemente suas tarifas.  Caso o hoster n√£o tenha essa oportunidade, eu mesmo seguirei as tarifas.  No entanto, posteriormente, decidi me recusar a fornecer uma conta pessoal aos hosters e, na minha opini√£o, essa foi uma decis√£o muito correta.  Se voc√™ permitir que os hosters editem as tarifas, surgir√£o v√°rios inconvenientes: <br><br><ul><li>  ser√° necess√°rio moderar as altera√ß√µes feitas pelo hoster: por acaso ou de prop√≥sito, mas o hoster pode indicar incorretamente o pre√ßo da tarifa (por padr√£o, a classifica√ß√£o √© feita pelo pre√ßo) e, assim, subir para a primeira posi√ß√£o; </li><li>  tamb√©m n√£o est√° claro se as tarifas devem ser ocultadas antes da modera√ß√£o: se ocultas, a modera√ß√£o precisar√° ser executada prontamente para que as tarifas do host sejam acess√≠veis aos visitantes e se a p√≥s-modera√ß√£o for usada, ou seja, existe o risco de exibir informa√ß√µes falsas aos usu√°rios; </li><li>  o hoster pode muito pouco esquecer de alterar a descri√ß√£o das tarifas, j√° que existem muitos desses diret√≥rios e √© dif√≠cil para os hosters acompanharem todos.  Isso tamb√©m pode acontecer se a pessoa respons√°vel pela atualiza√ß√£o das informa√ß√µes sair / sair de f√©rias / adoecer e n√£o transferir o acesso a um novo funcion√°rio. </li></ul><br>  Com o tempo, cheguei √† conclus√£o de que voc√™ mesmo precisa monitorar a atualiza√ß√£o tarif√°ria e fazer periodicamente uma verifica√ß√£o de todas as tarifas em seu pr√≥prio host.  Embora isso exija muito tempo e recursos, mas com essa abordagem, as tarifas devem ser o mais relevantes poss√≠vel.  Essa abordagem tem menos em termos de recursos gastos: para a maioria dos hosters, as tarifas mudam muito raramente, mas voc√™ ainda precisa verific√°-las; portanto, na maioria dos casos, os editores examinam as tarifas e n√£o encontram mudan√ßas significativas.  A principal desvantagem em termos de atualiza√ß√£o de tarifas √© a incapacidade de responder imediatamente √†s mudan√ßas.  Ou seja, se checarmos uma vez por m√™s, e em alguns hosters, verificarmos as tarifas no 1¬∫ dia, e no segundo dia em que o hoster as atualizou, por quase um m√™s exibiremos dados irrelevantes.  No entanto, esse problema foi parcialmente resolvido: alguns hosters, ap√≥s atualizarem suas tarifas, enviam um pedido de altera√ß√£o. <br><br>  Entendendo que, quando h√° tarifas irrelevantes no site por um m√™s, isso prejudica bastante a reputa√ß√£o, comecei a procurar op√ß√µes para corrigir essa situa√ß√£o e automatizar a verifica√ß√£o. <br><br>  A primeira coisa que tentei fazer foi verificar as p√°ginas dos sites hospedados quanto a altera√ß√µes e come√ßar a partir da p√°gina principal de cada site.  A ideia era a seguinte: se algo mudou no site do host, um sinal √© enviado aos editores, e eles manualmente verificam se ele mudou e, se necess√°rio, fazem altera√ß√µes nas tarifas.  Dessa maneira, as mudan√ßas podem ser monitoradas rapidamente.  Sim, nesse caso, haveria muitos falsos positivos quando o hoster n√£o alterasse as caracter√≠sticas tarif√°rias, mas outra coisa, no entanto, na minha opini√£o, √© melhor verificar e encontrar nada do que ignorar qualquer altera√ß√£o.  O script foi escrito rapidamente, e o princ√≠pio de sua opera√ß√£o √© extremamente simples: baixe a p√°gina html, pegue o md5 e salve-o no banco de dados.  Ap√≥s um dia, repita o procedimento e compare com o valor j√° salvo - se eles n√£o corresponderem, a p√°gina foi alterada e voc√™ precisar√° ver manualmente o que exatamente foi alterado.  Essa op√ß√£o parecia ideal do ponto de vista da conveni√™ncia: n√£o √© necess√°rio escrever nenhum analisador de c√≥digo html - apenas procurando por altera√ß√µes e √© isso.  No entanto, no dia seguinte ao in√≠cio da verifica√ß√£o, os editores receberam uma notifica√ß√£o de que a maioria dos hosters teve altera√ß√µes.  Foi um pouco estranho, e eu decidi verificar, por causa disso aconteceu.  O motivo acabou sendo banal, e rejeitou completamente minha ideia de verificar altera√ß√µes no c√≥digo html: muitos hosts da web tinham p√°ginas que geravam dados automaticamente (por exemplo, informa√ß√µes sobre a hora em que a p√°gina foi gerada etc.), ent√£o a ideia entrou em uma dura realidade, e esse m√©todo de verifica√ß√£o n√£o funcionou. <br><br>  A segunda ideia que me veio √† mente foi verificar se h√° altera√ß√µes na API de cobran√ßa.  No entanto, isso tamb√©m tem suas desvantagens.  Em primeiro lugar, apenas o faturamento do BILLmanager possui uma API, o que n√£o √© t√£o ruim, pois cerca de 40% dos hosters usam esse faturamento.  O segundo problema √© uma descri√ß√£o n√£o padronizada das caracter√≠sticas da tarifa no faturamento, que novamente leva √† situa√ß√£o em que voc√™ s√≥ precisa monitorar se algo mudou e se mudou, ver manualmente o que exatamente e se voc√™ precisa fazer altera√ß√µes.  Al√©m disso, n√£o est√° claro o que fazer com o faturamento do WHMCS, que tamb√©m √© usado por muitos hosters, os menos populares RootPanel e BPanel, al√©m de outros programas de faturamento criados pelos pr√≥prios hosters. <br><br>  Infelizmente, at√© agora n√£o encontrei uma solu√ß√£o ideal, por isso, no momento, estamos agindo da seguinte forma: as tarifas s√£o constantemente verificadas pelos editores e, em caso de altera√ß√µes, atualizamos as informa√ß√µes do servi√ßo de suporte e descobrimos as caracter√≠sticas atuais. <br><br>  Uma vez por ano, fazemos uma verifica√ß√£o "grande" e re-perguntamos a todos os hosters as mesmas perguntas que eles fizeram durante a adi√ß√£o inicial, especificando se algum par√¢metro foi alterado. <br><br>  Ocasionalmente, encontramos erros factuais nos sites dos hosters (por exemplo, geralmente acontece que, ap√≥s a altera√ß√£o das tarifas, algumas partes das p√°ginas do site permanecem com informa√ß√µes desatualizadas), e tentamos notific√°-los imediatamente. <br><br>  No modo de teste, os scripts funcionam para verificar os sites dos hosters que n√£o geraram informa√ß√µes automaticamente no site; portanto, para alguns dos hosters, podemos responder rapidamente √†s altera√ß√µes.  Tamb√©m no modo de teste, um verificador para cobran√ßa funciona e, para os hosters que podem fazer isso, tamb√©m tentamos monitorar automaticamente as altera√ß√µes. <br><br>  Essa abordagem permite que voc√™ responda o mais r√°pido poss√≠vel ao que est√° acontecendo e mantenha um alto grau de confiabilidade das informa√ß√µes no cat√°logo.  Por exemplo, n√£o recebemos mais de 2 a 3 reclama√ß√µes por m√™s sobre erros na descri√ß√£o e, na maioria das vezes, est√£o relacionadas ao fato de o usu√°rio n√£o conseguir encontrar a tarifa no site do hoster. <br><br>  Ainda est√° longe de ser perfeito, pois n√£o h√° como escapar de uma verifica√ß√£o manual.  Ficaria feliz se algu√©m pudesse aconselhar mais op√ß√µes para automatizar uma tarefa t√£o dif√≠cil. <br><br><blockquote><div style="text-align:center;"><img src="https://habrastorage.org/webt/op/1d/zd/op1dzdczzwfxzcisazp6zysnoxg.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">D√™ uma olhada</a> no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VPS.today</a> , um site para encontrar servidores virtuais.  1500 tarifas de 130 hosts, uma interface conveniente e um grande n√∫mero de crit√©rios para encontrar o melhor servidor virtual. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dd/ky/d6/ddkyd6kuoqn62p8il6p3oc4zilq.png"></div></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt422899/">https://habr.com/ru/post/pt422899/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt422887/index.html">Domadores de Enigma: Mavis Betty (Lever), Margaret Rock</a></li>
<li><a href="../pt422891/index.html">Fim de jogo, meninos</a></li>
<li><a href="../pt422893/index.html">Guia do Node.js, parte 1: informa√ß√µes gerais e introdu√ß√£o</a></li>
<li><a href="../pt422895/index.html">Google quer matar URLs</a></li>
<li><a href="../pt422897/index.html">Ruim, mas meu: como escrever CSS realmente horr√≠vel</a></li>
<li><a href="../pt422901/index.html">Um monitor de freq√º√™ncia card√≠aca para Putin, ou o que √© um Ritmer</a></li>
<li><a href="../pt422903/index.html">Como e por que escrevemos um servi√ßo escal√°vel altamente carregado para 1C: Enterprise: Java, PostgreSQL, Hazelcast</a></li>
<li><a href="../pt422905/index.html">Mas voc√™ diz que Ceph ... ele √© t√£o bom?</a></li>
<li><a href="../pt422907/index.html">Refer√™ncia r√°pida do aspirador de p√≥ 2018</a></li>
<li><a href="../pt422909/index.html">Os 10 v√≠deos retro talk mais populares do 404 Festival</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>