<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóª üéØ üë≤üèª Raspberry Pi e iperf: probador de ancho de banda para dispositivos Smart Home y IoT üè∫ üëÅÔ∏è üîò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como parte de mi proyecto anterior, "Videophone from Raspberry Pi", utilic√© la utilidad Iperf para configurar el equipo y resolver el problema. El pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Raspberry Pi e iperf: probador de ancho de banda para dispositivos Smart Home y IoT</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482012/"><img src="https://habrastorage.org/webt/b_/k5/bo/b_k5bolvds_-izsufj8ovug4efs.jpeg"><br><br>  Como parte de mi proyecto anterior, "Videophone from Raspberry Pi", utilic√© la utilidad Iperf para configurar el equipo y resolver el problema.  El programa se conoce desde hace mucho tiempo entre los especialistas que trabajan con redes locales. <br><br>  La utilidad le permite generar tr√°fico para analizar el ancho de banda de la red. <br><br>  Con su ayuda, es bastante simple medir el ancho de banda m√°ximo de la red entre dos dispositivos (servidor y cliente) y realizar pruebas de carga del canal de comunicaci√≥n. <br>  Creo que, en relaci√≥n con el aumento de los dispositivos de la red dom√©stica, ser√° bastante demandado, tanto para buscar y analizar fallas (fallas) en el trabajo, como para la ubicaci√≥n √≥ptima de los equipos WiFi. <br><br>  En mi ejemplo, el programa se instal√≥ en la Raspberry Pi con el sistema de automatizaci√≥n del hogar MajorDoMo instalado: la imagen base y en dispositivos con Windows (computadora port√°til), Android (tel√©fono inteligente, TV, reproductor multimedia). <br><br>  Debajo del gato, un poco sobre instalaci√≥n y pruebas, as√≠ como un peque√±o ejemplo de integraci√≥n en el sistema de automatizaci√≥n del hogar MajorDoMo. <br><a name="habracut"></a><br>  En Raspberry Pi, que sirve como servidor de automatizaci√≥n del hogar MajorDoMo y se ejecuta en Debian 9, instalamos la utilidad iperf. <br><br><pre><code class="plaintext hljs">sudo apt-get install iperf</code> </pre> <br>  Por defecto, la versi√≥n 2.0.9 est√° instalada.  Hay dos opciones para iperf: iperf 2 e iperf 3. No son compatibles entre s√≠, para instalar la tercera versi√≥n, debe especificar el comando <br><br><pre> <code class="plaintext hljs">sudo apt-get install iperf3</code> </pre> <br>  En el segundo dispositivo, si tomamos una PC o computadora port√°til con Windows, entonces instalamos Jperf (instalado tanto 2.0 como 2.2).  Jperf es un complemento gr√°fico de Java para Iperf.  El complemento es multiplataforma, funciona tanto en Windows como en sistemas nix.  Jperf programa el ancho de banda del canal en tiempo real.  No se requiere instalaci√≥n; se debe instalar una m√°quina Java en el sistema operativo. <br><br>  Conectamos Ethernet con el cable de red Raspberry al enrutador dom√©stico, la computadora port√°til est√° conectada a la red WiFi dom√©stica. <br><br>  Ejecutamos la utilidad en Raspberry Pi en modo servidor, el cliente genera tr√°fico, el servidor lo espera. <br><br><pre> <code class="plaintext hljs">iperf -s -t 3600</code> </pre> <br>  donde <b>‚Äìs</b> comienza en modo servidor, <b>‚Äìt 3600</b> por 3600 segundos o 1 hora. <br>  En una computadora con Windows, ejecute el archivo * .bat jperf.bat, ingrese la direcci√≥n del servidor, deje el puerto predeterminado, configure el tiempo de prueba, haga clic en el icono de inicio. <br><br>  En el servidor obtenemos la informaci√≥n en forma de texto, en el cliente en el gr√°fico: <br><br><img src="https://habrastorage.org/webt/ua/wf/1e/uawf1eyl08phxwtvcg_o7aquj3m.png"><br><br>  Para el sistema operativo Android (tel√©fono inteligente, TV, decodificador de TV, etc.), instalamos el programa del mercado de juegos: Magic iPerf.  <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.nextdoordeveloper.miperf.miperf%26hl%3Dru" rel="nofollow">Magic iPerf</a> . <br><br>  Ingresamos la direcci√≥n IP de nuestro RPi, las teclas y comenzamos la prueba moviendo el control deslizante de la posici√≥n detenida a la posici√≥n inicial. <br><br><img src="https://habrastorage.org/webt/un/ok/3m/unok3m7bgexzu0gxhwduf82tly8.jpeg"><br><br>  La ayuda sobre los comandos (teclas de inicio de la utilidad) se puede ver escribiendo en el terminal o la aplicaci√≥n m√≥vil - ayuda (-h). <br><br><img src="https://habrastorage.org/webt/bh/we/ei/bhweeiiscnzaagtsnkm3lpn_8je.jpeg"><br><br>  Adem√°s: cuando se utiliza el sistema de automatizaci√≥n del hogar MajorDoMo, la configuraci√≥n b√°sica, la imagen del Raspberri Pi. <br><br>  Cuando se inicia el sistema, el hablante est√° hablando direcciones IP.  Lo cual es bastante conveniente. <br>  El servidor tambi√©n tiene un nombre de host (un nombre que se asigna a una computadora conectada a la red que identifica de forma exclusiva la red y, por lo tanto, permite el acceso a ella sin usar su direcci√≥n IP).  Incluso sin conocer la direcci√≥n IP, podemos conectarnos con el terminal SSH o con el cliente iperf escribiendo en su lugar el nombre IP: majordomopi. <br><br>  Una peque√±a ventaja de RPi, su relativo bajo costo y dimensiones, le permite colocar una mini PC conect√°ndola con un cable de red a un enrutador, ya sea en un armario, mesa de noche o rack de 19 ". <br><br>  En la configuraci√≥n b√°sica de MajorDoMo, por defecto hay 3 botones de control que no est√°n ocupados con nada, en la p√°gina principal del sistema es: luz 1, luz 2, luz 3. <br><br><img src="https://habrastorage.org/webt/it/tx/r9/ittxr9mhkxo-etbh_cjygayaxek.png"><br><br>  Intentemos asignar uno de ellos para probar el ancho de banda de la red. <br><br>  Abra la p√°gina de inicio de MajorDoMo.  Vaya a <b>Panel de control - Dispositivos - Dispositivos simples - Editar interruptor 1 - Acciones</b> . <br><br>  En las acciones, escribimos una l√≠nea de c√≥digo en PHP que ejecuta la utilidad Iperf desde el usuario Pi en modo servidor durante 600 segundos: <br><br><pre> <code class="plaintext hljs">exec ('sudo -u pi iperf -s -t 600 &gt;/dev/null &amp;');</code> </pre> <br><br><img src="https://habrastorage.org/webt/9d/i9/sw/9di9swom40plizpie19m7ihn91c.png"><br><br>  Despu√©s de eso, cuando se presiona el bot√≥n "luz 1" desde la p√°gina principal del sistema de automatizaci√≥n del hogar, Iperf se inicia durante 10 minutos y luego se prueba el rendimiento del dispositivo deseado. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/482012/">https://habr.com/ru/post/482012/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../482000/index.html">¬øTe gusta tu negocio?</a></li>
<li><a href="../482002/index.html">Escribir un blog de microservicios - Parte 3 "Usuario"</a></li>
<li><a href="../482004/index.html">Probamos 1C en el servidor VPS</a></li>
<li><a href="../482008/index.html">LEGO constructor y cero absoluto</a></li>
<li><a href="../482010/index.html">"Nuevas epopeyas". Para desarrolladores, operaciones y personas curiosas</a></li>
<li><a href="../482014/index.html">Acepta y decodifica TV anal√≥gica usando SDR y Python</a></li>
<li><a href="../482020/index.html">R, Monte Carlo y tareas empresariales</a></li>
<li><a href="../482022/index.html">¬°Solo mira! 20 pel√≠culas sobre ciencia y cient√≠ficos</a></li>
<li><a href="../482028/index.html">Dos botones rojos, soldador y React: c√≥mo hicimos un movimiento para una conferencia de TI</a></li>
<li><a href="../482030/index.html">Vue.js: ganchos de ciclo de vida de sus componentes y los de terceros</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>