<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🎓 🧕🏾 ❌ Nouvelles fonctionnalités JavaScript attendues que vous devez connaître ✝️ 👰🏼 👩‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Depuis la sortie de la norme ECMAScript 2015 (également appelée ES6), JavaScript a sérieusement changé et amélioré. C'est une très bonne nouvelle pour...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nouvelles fonctionnalités JavaScript attendues que vous devez connaître</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/475244/">  Depuis la sortie de la norme ECMAScript 2015 (également appelée ES6), JavaScript a sérieusement changé et amélioré.  C'est une très bonne nouvelle pour tous les développeurs JS.  De plus, une nouvelle version d'ECMAScript est désormais publiée chaque année.  Peut-être n'avez-vous pas prêté beaucoup d'attention à ce qui figurait dans la dernière version de la norme, qui a été publiée en juin 2019.  L'auteur de l'article, dont nous publions la traduction aujourd'hui, veut dire en quelques mots les innovations de JavaScript et ce à quoi on peut s'attendre dans la prochaine version du standard ECMAScript. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/fi/vc/hd/fivchddl8mlzwem95dlmcvypba4.png"></a> <br><br>  Les opportunités dont les propositions sont dans la troisième phase d'approbation (étape 3) seront mentionnées ici.  Cela signifie qu'ils sont susceptibles d'apparaître dans la prochaine version de la norme ECMAScript, mais cela ne peut pas être confirmé avec une certitude absolue.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici un</a> référentiel où vous pouvez trouver des informations sur les propositions qui sont à différents stades d'approbation. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Caractéristiques ECMAScript 2019 (ES10)</font> </h2><br>  La norme ES10 possède de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nombreuses</a> nouvelles fonctionnalités.  Nous n'en considérerons ici que quelques-uns.  À savoir, quelques nouvelles méthodes de tableau. <br><br><h3>  <font color="#3AC1EF">▍ Méthode Array.prototype.flat</font> </h3><br>  Cette méthode vous permet de créer des tableaux, qui incluent d'autres tableaux, plus "plats", en les "compressant" à un niveau de profondeur donné. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> array = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>]]; array.flat(); <span class="hljs-comment"><span class="hljs-comment">// [1, 2, 3, 4];</span></span></code> </pre> <br>  Il s'agit d'une fonctionnalité très utile, en particulier dans les cas où vous devez travailler avec des tableaux imbriqués.  Si la profondeur d'imbrication des tableaux dans la structure de données dépasse 1, un seul appel à la méthode <code>flat</code> ne peut pas rendre le tableau complètement «plat».  Cette méthode accepte une <code>depth</code> paramètre facultative, qui vous permet de spécifier combien de niveaux d'imbrication la dimension du tableau traité doit être réduite. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   const crazyArray = [1, 2, [3, 4], [[5], [6, [7,8]]]]; crazyArray.flat(Infinity); // [1, 2, 3, 4, 5, 6, 7, 8]; // ,  flat,    </span></span></code> </pre> <br>  Plus la baie est profonde, plus il faudra de ressources informatiques pour la traiter.  Veuillez noter qu'IE et Edge ne prennent pas en charge cette fonctionnalité. <br><br><h3>  <font color="#3AC1EF">▍ Méthode Array.prototype.flatMap</font> </h3><br>  Cette méthode traite d'abord les éléments du tableau à l'aide de la fonction qui lui est transmise, puis convertit le tableau en une structure plate. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> arr = [<span class="hljs-string"><span class="hljs-string">"it's Sunny in"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"California"</span></span>]; arr.flatMap(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// ["it's","Sunny","in", "", "California"]</span></span></code> </pre> <br>  La différence entre <code>flatMap</code> et <code>flatMap</code> est que vous pouvez passer votre propre fonction à la méthode <code>flatMap</code> qui convertit les éléments du tableau d'origine.  En plus de cela, <code>flatMap</code> , contrairement à <code>flat</code> , «ne soulève» les éléments des tableaux que d'un niveau.  Cette méthode renvoie un nouveau tableau.  Cela peut être utile dans les cas où, avant de rendre un certain tableau «plat», vous devez en quelque sorte traiter ses éléments. <br><br><h2>  <font color="#3AC1EF">Nouvelles fonctionnalités JS à l'étape 3 de l'approbation</font> </h2><br>  Au troisième stade de la coordination, il existe de nombreuses nouvelles propositions intéressantes pour étendre et améliorer la langue.  Examinons certains d'entre eux. <br><br><h3>  <font color="#3AC1EF">▍ Séparateurs de chiffres</font> </h3><br>  Cela vous est arrivé: écrivez un nombre long dans une variable et doutez de son orthographe correcte?  La phrase en question nous permet de séparer les bits de nombres avec des traits de soulignement.  Cela facilite le travail avec les nombres. <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">1</span></span>_000_000_000      <span class="hljs-comment"><span class="hljs-comment">// ,   101_475_938.38     //     -     let fee = 123_00;    // $123 (, , 12300 ) let fee = 12_300;    // $12,300 (  !) let amount = 12345_00; // 12,345 (,  , 1234500 ) let amount = 123_45.00; // 12345 (, -  ) let amount = 1_234_500; // 1,234,500 let budget = 1_000_000_000_000; //   `budget`?  - 1 ! // // : console.log(budget === 10 ** 12); // true</span></span></code> </pre> <br>  Chaque développeur, après avoir accepté cette fonctionnalité, décidera lui-même d'utiliser ou non des séparateurs de décharge.  Mais une chose est sûre: cette fonctionnalité peut réduire les inconvénients liés au calcul des chiffres des grands nombres. <br><br><h3>  <font color="#3AC1EF">▍Utilisation de l'attente au niveau supérieur du code</font> </h3><br>  L'utilisation du mot-clé <code>await</code> au niveau supérieur du code permet aux modules d'agir comme de grandes fonctions asynchrones.  En raison de cette fonctionnalité, les modules ECMAScript peuvent s'attendre à ce que certaines ressources apparaissent.  Cela conduit au fait que les autres modules qui les importent attendront que le corps des modules importés soit prêt à fonctionner. <br><br>  La raison de cette fonctionnalité est que lorsqu'un module est importé qui a une fonction déclarée avec le <code>async</code> , la sortie de cette fonction ne sera pas <code>undefined</code> . <br><br>  L'exemple suivant montre deux fichiers.  Il peut être <code>undefined</code> en <code>output</code> si la fonction est appelée avant que les tâches représentées par les promesses ne soient terminées. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// awaiting.mjs import { process } from "./some-module.mjs"; const dynamic = import(computedModuleSpecifier); const data = fetch(url); export const output = process((await dynamic).default, await data); // usage.mjs import { output } from "./awaiting.mjs"; export function outputPlusValue(value) { return output + value } console.log(outputPlusValue(100)); setTimeout(() =&gt; console.log(outputPlusValue(100), 1000);</span></span></code> </pre> <br>  Tout s'arrêtera dans le <code>awaiting.js</code> jusqu'à ce que les <code>awaiting.js</code> soient résolues en attendant.js. <br><br><h3>  <font color="#3AC1EF">▍Opérateur ??</font>  <font color="#3AC1EF">et vérifier les valeurs uniquement sur null et indéfini</font> </h3><br>  Peut-être, parmi toutes les offres de l'étape 3, c'est la plus utile.  Nous devons souvent écrire quelque chose comme ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = {  <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'James'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = obj.name || <span class="hljs-string"><span class="hljs-string">'Jane'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// James</span></span></code> </pre> <br>  Si <code>obj.name</code> est représenté par une valeur fausse, la chaîne <code>Jane</code> entre dans <code>name</code> .  Par conséquent, le <code>name</code> ne sera pas quelque chose comme <code>undefined</code> .  Mais le problème est qu'une chaîne vide dans ce cas sera perçue comme une fausse valeur.  Si cela est pris en compte, ce code doit être réécrit comme suit: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = (obj.name &amp;&amp; obj.name !== <span class="hljs-string"><span class="hljs-string">''</span></span>) || <span class="hljs-string"><span class="hljs-string">'Jane'</span></span>;</code> </pre> <br>  Il n’est pas pratique d’écrire comme ça tout le temps.  Opérateur <code>??</code>  (deux points d'interrogation) permet de vérifier uniquement <code>null</code> valeurs <code>null</code> et <code>undefined</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = {  <span class="hljs-attr"><span class="hljs-attr">settings</span></span>: {    <span class="hljs-attr"><span class="hljs-attr">nullValue</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>,    <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">400</span></span>,    <span class="hljs-attr"><span class="hljs-attr">animationDuration</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,    <span class="hljs-attr"><span class="hljs-attr">headerText</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>,    <span class="hljs-attr"><span class="hljs-attr">showSplashScreen</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>  } }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> undefinedValue = response.settings.undefinedValue ?? <span class="hljs-string"><span class="hljs-string">'some other default'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// : 'some other default' const nullValue = response.settings.nullValue ?? 'some other default'; // : 'some other default' const headerText = response.settings.headerText ?? 'Hello, world!'; // : '' const animationDuration = response.settings.animationDuration ?? 300; // : 0 const showSplashScreen = response.settings.showSplashScreen ?? true; // : false</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍Opérateur?.</font>  <font color="#3AC1EF">et chaînes optionnelles</font> </h3><br>  Cette suggestion est proche de celle qui vient d'être examinée, combinant <code>null</code> contrôles <code>null</code> et <code>undefined</code> .  Il est connu que les utilisateurs de TypeScript <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sont intéressés</a> par cette fonctionnalité. <br>  Prenons un exemple: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> city = country &amp;&amp; country.city; <span class="hljs-comment"><span class="hljs-comment">// undefined  city  </span></span></code> </pre> <br>  Pour accéder à la propriété de la <code>city</code> d'un objet de <code>country</code> , vous devez vérifier l'existence de l'objet de <code>country</code> et l'existence de la propriété de la <code>city</code> . <br><br>  En utilisant l'opérateur <code>?.</code>  (point d'interrogation et point) ce code peut être converti comme ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> city = country?.city; <span class="hljs-comment"><span class="hljs-comment">// undefined  city  </span></span></code> </pre> <br>  Cette fonctionnalité semble utile dans de telles situations: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { fetch } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../yourFetch.js'</span></span>; <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">async</span></span></span></span><span class="hljs-function"><span class="hljs-params"> (</span></span></span><span class="hljs-function">) =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fetch();  <span class="hljs-comment"><span class="hljs-comment">// res &amp;&amp; res.data &amp;&amp; res.data.cities || undefined  const cities = res?.data?.cities; })();</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍ Méthode Promise.any</font> </h3><br>  La méthode <code>Promise.any</code> accepte un objet <code>Promise.any</code> contenant des objets de promesse et retourne une promesse qui est résolue avec succès lorsqu'au moins un des objets de promesse qui lui sont passés est résolu avec succès.  Si tous les objets promis sont rejetés, il renvoie un tableau contenant des informations sur les raisons de leur rejet. <br><br>  Voici à quoi <code>Promise.any</code> avec la construction async / attendent: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> first = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.any(promises);  <span class="hljs-comment"><span class="hljs-comment">//      . } catch (error) {  //    . }</span></span></code> </pre> <br>  Voici la même chose implémentée à l'aide de promesses: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.any(promises).then(  <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">first</span></span></span><span class="hljs-function">) =&gt;</span></span> {    <span class="hljs-comment"><span class="hljs-comment">//      .  },  (error) =&gt; {    //    .  } );</span></span></code> </pre> <br>  JavaScript a déjà des <code>Promise.all</code> , <code>.allSettled</code> , <code>.race</code> , mais une méthode similaire.  <code>any</code> , n'était pas.  En conséquence, nous avons une nouvelle opportunité qui complète les opportunités existantes et peut s'avérer utile dans certaines situations.  Bien que cette <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">proposition en soit</a> déjà à la troisième étape d'approbation, elle pourrait ne pas être incluse dans la prochaine édition de la norme ECMAScript car elle nécessite des tests supplémentaires. <br><br><h2>  <font color="#3AC1EF">Résumé</font> </h2><br>  Il existe de nombreuses suggestions intéressantes pour développer JavaScript qui en sont à la troisième étape de l'approbation.  Il sera intéressant de les voir dans les normes ES11 et ES12.  Bien sûr, il est peu probable que quiconque les utilise tous, mais certains d'entre eux trouveront certainement une large application et contribueront à la croissance de la qualité du code JS. <br><br>  <b>Chers lecteurs!</b>  Utilisez-vous déjà des fonctionnalités JavaScript qui sont presque prêtes à être incluses dans la prochaine version de la norme? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/-o/2e/tu/-o2etuqogwhmdnmysb9_vivc9v4.png"></a> </div><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr475244/">https://habr.com/ru/post/fr475244/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr475226/index.html">Stage à la Fondation Haxe</a></li>
<li><a href="../fr475228/index.html">Fourchette de paie. Vous êtes programmeur pour maman</a></li>
<li><a href="../fr475236/index.html">N'ignorez plus jamais l'entraînement de renforcement.</a></li>
<li><a href="../fr475240/index.html">Utilisation de modules stricts dans des projets Python à grande échelle: expérience Instagram. Partie 1</a></li>
<li><a href="../fr475242/index.html">Utilisation de modules stricts dans des projets Python à grande échelle: expérience Instagram. 2e partie</a></li>
<li><a href="../fr475246/index.html">Programmation asynchrone Python: un bref aperçu</a></li>
<li><a href="../fr475248/index.html">L'utilisation de polyfills lors de l'écriture d'applications inter-navigateurs</a></li>
<li><a href="../fr475250/index.html">Comme Redash l'a remarqué et a corrigé un problème qui provoquait une dégradation des performances du code Python</a></li>
<li><a href="../fr475252/index.html">Comment critiquer Microsoft</a></li>
<li><a href="../fr475254/index.html">Architecture AERODISK vAIR ou caractéristiques de la construction d'un cluster national</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>