<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>け  锔 Autob煤s centralizado vs Malla de servicio: c贸mo convertir un mitap en una batalla う  </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cuando nos dimos cuenta de que ser铆a aburrido celebrar la pr贸xima reuni贸n, decidimos convertirlo en algo m谩s lleno de acci贸n. A saber, en un duelo, en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Autob煤s centralizado vs Malla de servicio: c贸mo convertir un mitap en una batalla</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/psb/blog/432428/">  Cuando nos dimos cuenta de que ser铆a aburrido celebrar la pr贸xima reuni贸n, decidimos convertirlo en algo m谩s lleno de acci贸n.  A saber, en un duelo, en un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">duelo</a> entre dos enfoques de integraci贸n, ESB y Distribuido, cuyo honor fue defendido por expertos de peso pesado.  En esta publicaci贸n, le diremos c贸mo fue la batalla y descubriremos al ganador. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1c8/ea2/c5b/1c8ea2c5b4bea415ac5fb3187574ac30.jpg"><br><a name="habracut"></a><br><h2>  Algunas palabras sobre el formato </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Alexander Trekhlebov</a> , nuestro arquitecto corporativo, habl贸 por el autob煤s centralizado.  Para la descentralizaci贸n: Andrey Trushkin, jefe del centro de innovaci贸n y tecnolog铆as prometedoras de Promsvyazbank.  Se turnaron para dar informes sobre sus tecnolog铆as y respondieron varias preguntas, provocativas y no muy.  As铆 fue como fue. <br><br><h2>  驴Por qu茅 es genial ESB? </h2><br>  Para empezar, debe ponerlo en conocimiento y decir c贸mo comenz贸 todo.  Probablemente muchos recuerden que en la primera etapa todo sucedi贸 sin ninguna integraci贸n, cuando cada sistema se comunicaba y realizaba sus pruebas de integraci贸n con cualquier otro sistema. <br><br>  En consecuencia, si una persona renuncia o le sucede algo m谩s, entonces nadie sabe c贸mo funcionar铆a todo esto.  Cada computadora interactu贸 con alg煤n servidor.  驴Qu茅 protocolo, qu茅 tipo de interacci贸n?  Solo la persona que trabajaba en el sistema sab铆a todo esto. <br><br>  Luego vino el bus de integraci贸n.  Parec铆a no solo as铆, sino porque los principales protocolos y m茅todos de interacci贸n se recopilaron en 茅l y era posible no obligar al sistema a describir cosas espec铆ficas.  Pod铆a comunicarse con ellos usando sus algoritmos internos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb0/98f/435/eb098f4350ddd5690d4843ee39d553f8.png"><br><br>  Adem谩s, result贸 que la mayor铆a de las veces se comunican con el autob煤s a trav茅s de colas o mediante REST. <br><br>  Con el tiempo, sin embargo, la necesidad de un autob煤s y REST en muchos casos desapareci贸.  Pero parec铆a un retroceso, las preguntas importantes volvieron a surgir: <br><br><ul><li>  C贸mo orquestar si no hay neum谩ticos.  驴D贸nde va a pasar esto? <br></li><li>  驴Qu茅 hacer con los formatos de datos y protocolos? <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/a13/7dd/6a2/a137dd6a22ca7d26a1da27105419a130.png"><br><br>  Adem谩s, el rendimiento en un sistema centralizado es mucho mejor que en Distribuido.  Puede contar con la velocidad, el volumen y la disponibilidad.  Todo esto porque es un sistema que un equipo en particular est谩 atendiendo. <br><br>  <i>驴Cu谩n vulnerable es este sistema?</i>  <i>驴Qu茅 sucede si una computadora es pirateada?</i> <br><br>  Siempre hay redundancia y centralizaci贸n.  En caso de que uno est茅 fuera de servicio, el sistema funcionar谩. <br><br>  <i>驴Qui茅n es responsable del neum谩tico?</i>  <i>驴Su equipo o desarrolladores de terceros?</i> <br><br>  En el equipo interno, brindamos servicios operativos, brindamos confiabilidad y monitoreo.  Si algo no funciona, sabemos d贸nde buscar.  Hay una pregunta: "驴Es posible confiar en los proveedores en tales casos y en equipos de terceros?"  Se necesita un buen monitoreo aqu铆.  Porque la calidad, en cualquier caso, es responsabilidad del equipo interno. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e39/45e/f6b/e3945ef6b554670e5c939d47c41e8acb.png"><br><br>  <i>A medida que crece el autob煤s, los servicios no se conectan.</i>  <i>驴Cambian los servicios con lanzamientos o qu茅?</i>  <i>驴Qu茅 hacer con Agile?</i> <br><br>  Aqu铆 llegamos a la pregunta fundamental.  <b>La integraci贸n no es una aplicaci贸n.</b>  Sol铆a ser parte, pero ahora no lo es.  El desarrollo de integraci贸n no es desarrollo de aplicaciones.  Es el desarrollo de interacciones de integraci贸n o el desarrollo dentro del marco de un proyecto separado, pero no espec铆ficamente de una aplicaci贸n. <br><br>  Sus inquietudes 谩giles son comprensibles.  Este modelo se usa cuando hacemos un sistema separado que est谩 conectado al bus en alg煤n lado del lado.  Cuando trabajaba en otro banco, exist铆a ese sistema: un mes de pruebas, un mes de desarrollo.  Como resultado, todas las interacciones de integraci贸n se implementan r谩pidamente en el bus.  Incluso m谩s r谩pido de lo que los analistas los describen, porque los sistemas de desarrollo son bastante sofisticados y simples.  Y 谩gil se utiliza en el desarrollo del sistema final. <br><br>  <i>驴Cu谩nto tiempo busca el equipo el servicio que necesita y d贸nde lo busca?</i> <br><br>  Todos tienen el sue帽o de que haya un mapa mundial en el que todas las principales 谩reas de negocios se encuentren dispersas por los continentes.  E incluso se implementa parcialmente.  El analista va all铆 y comienza a deambular intensamente por los continentes, despu茅s de un tiempo encuentra la interacci贸n que se necesita.  Adem谩s, si todo encaja perfectamente, simplemente lo usa.  Si no, describe en TK qu茅 adiciones necesita.  Ser铆a genial tener esa opci贸n, pero hasta ahora los sistemas menos convenientes que requieren mucho m谩s tiempo y esfuerzo para trabajar con ellos son relevantes. <br><br><img src="https://habrastorage.org/webt/4u/hc/h_/4uhch_i9j8zifq0vkwdysfvk3ms.jpeg"><br><br><h2>  驴O tal vez Service Mesh es m谩s genial? </h2><br>  Para empezar, mucho ha cambiado realmente en 3-4 a帽os.  驴Pero qu茅 pas贸 exactamente?  Ha sucedido la misma banalidad que todos los hablantes repiten regularmente, y por la cual tampoco podemos pasar: el mundo est谩 cambiando. <br><br>  Los requisitos para la velocidad de cambio se est谩n volviendo enormes.  Al mismo tiempo, los requisitos de fiabilidad, los requisitos de seguridad no desaparecen en ning煤n lado y los requisitos de carga solo aumentan.  Como podemos ver, todos est谩n tratando de capturar participaci贸n de mercado, lo que inevitablemente conduce a un aumento de la carga sobre los sistemas corporativos y, en consecuencia, sobre la integraci贸n. <br><br>  De hecho, el ESB en un momento muy bueno ayud贸 como plantilla para la implementaci贸n t茅cnica en t茅rminos de descentralizaci贸n de aplicaciones, la asignaci贸n de l贸gica entre diferentes aplicaciones, un dispositivo unificado para integrar aplicaciones entre s铆.  Digamos condicionalmente unificado. <br><br>  Ahora imaginemos que no hay 20 sistemas en la empresa; despu茅s de todo, busca pasar a la arquitectura que se llama la palabra de moda "microservicios".  驴Y qu茅 es un microservicio?  Hay muchas definiciones, una de ellas es utilizada peri贸dicamente por Martin Fowler: es un servicio que un desarrollador medio puede desarrollar en un sprint.  Imagine cu谩ntos servicios de este tipo habr谩 en una gran empresa.  Por ejemplo, Netflix estima el n煤mero de sus microservicios en 800-900.  En principio, en una empresa que busca construir un ecosistema externo asociado, estos servicios pueden superar los mil.  Pero cada uno de estos servicios a largo plazo soporta una carga tremenda y debe desarrollarse independientemente. <br><br>  驴Qu茅 hay del autob煤s?  Si el autob煤s sigue siendo este complejo com煤n entre ellos, resulta que se convierte en un cuello de botella y retrasa el desarrollo de los servicios.  No solo porque est谩 esperando estos servicios, sino porque se est谩 desarrollando como un equipo separado, por personas que poseen estas mismas tecnolog铆as y habilidades. <br><br>  Y ahora imaginemos: varias docenas de equipos de productos est谩n desarrollando y trabajando con nosotros.  Y cada uno de ellos vio varios servicios.  Y el autob煤s es conducido por dos equipos.  Naturalmente, estos equipos con un alto grado de probabilidad no podr谩n desarrollar esta integraci贸n con el nivel necesario de velocidad y calidad. <br><br>  Surge la pregunta: "驴C贸mo podemos garantizar la misma velocidad r谩pida sin perder accesibilidad, seguridad, etc.?"  La respuesta es muy simple: "Deje que estos servicios interact煤en directamente, sin un intermediario expl铆cito". <br><br>  Luego se plantea la siguiente pregunta importante: "驴C贸mo se aprenden los servicios unos de otros?"  Y aqu铆 la respuesta tambi茅n es muy simple: puede crear un sistema con el cual los servicios mismos informar铆an sobre s铆 mismos.  Es decir, en el momento en que se desarrolla el servicio, publicar谩 de forma independiente informaci贸n sobre s铆 mismo en un determinado registro.  Y en base a esta informaci贸n, todos los servicios podr谩n comenzar a interactuar con 茅l. <br><br>  Por lo tanto, se form贸 el concepto de una "cuadr铆cula" de servicios, como se llamaba originalmente, <i>"malla de servicios"</i> .  Como una especie de nivel intermedio de integraci贸n entre servicios, que proporciona dicha integraci贸n, como si fuera una soluci贸n en la nube. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d97/6a1/248/d976a1248fe855f8f531ab455ab91ec2.png"><br><br>  Las grandes empresas ahora est谩n tratando de resolver los problemas de velocidad de desarrollo en paralelo, para encontrar una cierta soluci贸n general, distribuida y a menudo integrada.  En este caso, cada servicio utiliza un conjunto particular de bibliotecas preparadas para publicar autom谩ticamente informaci贸n en un registro durante la implementaci贸n. <br><br>  A menudo surge la pregunta: "驴Pero qu茅 hacer con el modelo de datos can贸nicos, cuya fuente, por regla general, era el ESB, en el que se invirti贸 tanto dinero y esfuerzo para implementarlo y mantenerlo?"  Despu茅s de todo, ella era una modelo est谩ndar.  Aqu铆 hay una contrapregunta: 驴Y qu茅 ventajas nos trajo?  驴Y no fue el punto que retras贸 nuestro desarrollo? "  De hecho, al desarrollar servicios, el modelo se expande m谩s y m谩s.  Siempre habr谩 desaf铆os m谩s nuevos. <br><br>  Para decirlo sin rodeos, el <i>costo de agregar nuevos dispositivos, organizar la interacci贸n, etc., por regla general, es significativamente menor que el costo de mantener actualizado el modelo de datos ESB can贸nico</i> . <br><br>  Adem谩s, la integraci贸n descentralizada garantiza en gran medida la misma alta disponibilidad.  Cada uno de los microservicios es independiente, incluso de otros microservicios, pero depende de manera cr铆tica de la carga externa que se le aplica.  Implementado en paralelo con la integraci贸n tambi茅n se puede implementar tecnol贸gicamente de forma independiente. <br><br>  A veces, el uso de un ESB bastante pesado en condiciones modernas no tiene sentido, o incluso viceversa, reduce la calidad de la soluci贸n.  La aplicaci贸n de tecnolog铆as sin servidor, la infraestructura misma que no se adapta a las necesidades ef铆meras de las soluciones que se crean, ya est谩 al borde, pero ya se entrega en la forma correcta para un servicio espec铆fico.  Ahora parece algo muy distante, pero el mundo est谩 cambiando, como ya se ha dicho, bastante r谩pido. <br><br>  Muchos proveedores de software van por este camino en t茅rminos de sus soluciones de integraci贸n.  Ya existen marcos que esencialmente implementan el concepto de malla de servicio (el mismo Linkerd o Istio).  Ya est谩 sucediendo lo mismo como parte del alojamiento de una gran cantidad de servidores proxy de red y servicios de integraci贸n de malla de servicios.  Mucho en com煤n con la malla de servicios y los sistemas de orquestaci贸n de contenedores como Kubernetes. <br><br>  <i>驴Es posible construir distribuido basado en ESB?</i>  <i>Es decir, 驴es posible hacer otro a partir de un sistema?</i>  <i>Y si es as铆, 驴cu谩l es el punto de estas disputas?</i> <br><br>  Aqu铆 me vienen a la mente Hegel y su "negaci贸n de la negaci贸n".  Cuando una idea se repite en un nivel hist贸rico m谩s alto.  Venir de uno a otro, en mi opini贸n, es posible.  Otra pregunta es c贸mo haremos esto.  De hecho, en esencia, el concepto mismo de microservicios y su implementaci贸n es en muchos aspectos similar al concepto de integraci贸n que originalmente era: la interacci贸n de microservicios entre ellos, cada uno con cada uno. <br><br>  驴Es posible llegar a la integraci贸n de acuerdo con los principios de la red, si pasamos del ESB?  En realidad, Red Hat, ahora IBM, ya sigue el mismo principio.  Basta con ver su comprensi贸n del concepto de la pila de integraci贸n y la integraci贸n flexible (Integraci贸n 谩gil).  Ofrecen una gran cantidad de proxies de integraci贸n que no est谩n sobrecargados de l贸gica.  Lo m谩s importante es la transparencia y el conocimiento de los servicios que requieren todos los nuevos participantes en la interacci贸n. <br><br>  <i>驴Entiende su banco que el ESB ha sobrevivido si contin煤a invirtiendo presupuestos significativos en 茅l?</i> <br><br>  Francamente, los problemas presupuestarios son un secreto comercial.  En cuanto a los enfoques utilizados, en este momento estamos desarrollando un paralelo de dos enfoques.  En Promsvyazbank realmente hay muchos sistemas vinculados al autob煤s.  Todav铆a est谩n integrados a trav茅s del autob煤s.  Pero, por nuestra parte, entendemos que ESB es un enfoque poco prometedor y es m谩s eficiente invertir en integraciones distribuidas sin usar un bus.  Esta es nuestra prioridad estrat茅gica ahora. <br><br>  <i>驴D贸nde est谩 el lugar para el monitoreo de negocios en un sistema distribuido?</i> <br><br>  En la integraci贸n descentralizada, la presencia de una gran cantidad de servicios no excluye la presencia de monitoreo comercial.  Todo esto puede establecerse a nivel de los respectivos marcos.  En consecuencia, este monitoreo puede fusionar informaci贸n en un determinado almacenamiento responsable de los datos.  Estos datos se analizan all铆 y se prepara un informe resumido. <br><br>  <i>驴C贸mo ve el plan para la transici贸n a la integraci贸n descentralizada?</i> <br><br>  La transici贸n a la integraci贸n descentralizada tiene sentido a considerar en el contexto de la transici贸n a nuevos principios arquitect贸nicos.  Esta es una transici贸n compleja que no puede suceder de inmediato.  S铆, puede intentar mantenerlo en el formato de "big bang", pero esta opci贸n de escenario conlleva serios riesgos.  M谩s l贸gica es la opci贸n de crear un nuevo circuito en paralelo con el existente y, a medida que se crea (en modo iterativo), introducir nuevos productos en 茅l.  A medida que se desarrolla el nuevo contorno arquitect贸nico, los productos del panorama actual de TI que han resistido la prueba del tiempo pueden transferirse all铆.  Tal camino es bastante largo, se estima hasta 4-5 a帽os, pero debido a la iteraci贸n, es posible obtener resultados en el modo de operaci贸n industrial en secuencia. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9eb/4eb/a78/9eb4eba78ed341fc7e5d8fbc3523513b.png"><br><br><h2>  Quien gan贸 </h2><br>  Despu茅s de tres rondas interactivas con presentaciones, preguntas y respuestas, la audiencia se escondi贸 anticipando el anuncio del resultado final.  Probablemente te des cuenta de que el ganador de la Batalla de PSB fue Andrey Trushkin y el sistema distribuido. <br><br>  En conclusi贸n, ofrecemos un video que ayudar谩 a sentir la atm贸sfera de nuestra batalla: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/fEvsDpOqhbE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es432428/">https://habr.com/ru/post/es432428/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es432418/index.html">Analizando expresiones lambda en Java</a></li>
<li><a href="../es432420/index.html">Introducci贸n a Git Merge y Git Rebase: por qu茅 y cu谩ndo usarlos</a></li>
<li><a href="../es432422/index.html">Modo sin conexi贸n en iOS y caracter铆sticas de su implementaci贸n en Realm</a></li>
<li><a href="../es432424/index.html">Infraestructura certificada HyperFlex para SAP HANA</a></li>
<li><a href="../es432426/index.html">Depuraci贸n de un error que no se reproduce</a></li>
<li><a href="../es432432/index.html">La nueva tecnolog铆a de la serie Oc茅 ColorWave mejora la impresi贸n</a></li>
<li><a href="../es432434/index.html">Los desarrolladores de Rover de pr贸xima generaci贸n usan IA para aumentar la eficiencia del Rover</a></li>
<li><a href="../es432436/index.html">Tenga cuidado con las estafas de Smart Touch ID infiltradas en App Store</a></li>
<li><a href="../es432440/index.html">Una variedad de navegadores comienza con nosotros.</a></li>
<li><a href="../es432442/index.html">Caracter铆sticas del trabajo en un equipo internacional. India</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>