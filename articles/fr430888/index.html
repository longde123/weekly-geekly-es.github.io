<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•û üîá üö∂üèø Est-il s√ªr d'utiliser des packages R pour travailler avec l'API des syst√®mes publicitaires üöÑ üë®üèæ‚Äçüé® üë©üèæ‚Äç‚öñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©cemment, ils ont souvent commenc√© √† me poser une question sur la s√©curit√© de l'utilisation de diverses extensions pr√™tes √† l'emploi, c'est-√†-dire pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Est-il s√ªr d'utiliser des packages R pour travailler avec l'API des syst√®mes publicitaires</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430888/"><p> R√©cemment, ils ont souvent commenc√© √† me poser une question sur la s√©curit√© de l'utilisation de diverses extensions pr√™tes √† l'emploi, c'est-√†-dire  packages √©crits pour la langue R, est-il possible que le compte publicitaire tombe entre de mauvaises mains </p><br><p>  Dans cet article, je parlerai en d√©tail du fonctionnement du m√©canisme d'autorisation √† l'int√©rieur de la plupart des packages et des API des services de publicit√© et de la mani√®re la plus s√ªre possible d'utiliser les packages d√©crits dans l'article. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bca/7b8/9dc/bca7b89dc9efcb6238b8ab3f6f0a1116.jpg" alt="image"></div><a name="habracut"></a><br>  Les informations contenues dans cet article ne sont pas techniquement les plus faciles, donc, pour que le texte ne soit pas aussi sec et technique que l'aide habituelle, j'ose essayer le r√¥le d'un guide et je vais vous guider √† travers les mat√©riaux de cet article pour sa perception la plus simple. <br><p>  Notre bus touristique est d√©j√† arriv√©, prenez vos places et consultez notre itin√©raire actuel. </p><br><h2 id="soderzhanie">  Table des mati√®res </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fonctionnement du processus d'autorisation dans la plupart des services publicitaires modernes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D'o√π vient la question de s√©curit√©</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qu'est-ce qui vous menace avec une interception symbolique</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Que faire si quelqu'un a pris possession de votre jeton</a> </li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment utiliser en toute s√©curit√© les packages R pour travailler avec les syst√®mes de publicit√© API</a> </p><br><p>  5.1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjGoldlJtVs4oxKDCN_Xw0DbT7nfQ#ryandexdirecthttpsgithubcomselesnowryandexdirect-i-rym">ryandexdirect et rym - Packages pour travailler avec les API Yandex.Direct et Yandex.Metrica</a> <br>  5.2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjGoldlJtVs4oxKDCN_Xw0DbT7nfQ#rfacebookstat">rfacebookstat - Packages pour travailler avec le compte publicitaire Facebook</a> <br>  5.3.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjGoldlJtVs4oxKDCN_Xw0DbT7nfQ#rvkstat">rvkstat - Packages pour travailler avec le compte VK</a> <br>  5.4.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjGoldlJtVs4oxKDCN_Xw0DbT7nfQ#rmytarget">rmytarget - Packages de tableau de bord MyTarget</a> </p><br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conclusion</a> </li></ol><br><h2 id="kak-ustroen-process-avtorizacii-v-bolshinstve-sovremennyh-reklamnyh-servisov">  Fonctionnement du processus d'autorisation dans la plupart des services publicitaires modernes </h2><br><p>  Le lieu de rencontre de notre groupe d'excursion est le protocole OAuth. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2f8/fe9/b7a/2f8fe9b7a06b8ee4007f04aedd3bbbca.jpg"></p><br><p>  Presque tous les services avec lesquels l'API j'ai d√ª travailler effectuent des autorisations en utilisant le protocole OAuth 2.0, ils ont d√©j√† √©crit plus en d√©tail √† ce sujet sur le hub, qui sont int√©ress√©s √† se promener dans ses d√©serts, s'il vous pla√Æt, vous avez une telle opportunit√©, vous pouvez le faire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Si vous expliquez sa signification en un mot, OAuth permet √† l'application (dans notre cas, le package R sera une telle application), √† laquelle vous avez accord√© la permission, d'effectuer certaines actions en votre nom, sans avoir besoin de transf√©rer votre nom d'utilisateur et votre mot de passe du compte publicitaire vers cette application, √† nouveau pour des raisons de s√©curit√©. </p><br><p>  Au lieu d'un nom d'utilisateur et d'un mot de passe, le protocole OAuth utilise un jeton, il s'agit d'une cha√Æne g√©n√©r√©e compos√©e d'un ensemble de lettres et de chiffres, qui stocke les informations sous forme crypt√©e: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7ad/5e4/eed/7ad5e4eed98381e9d537fdcbd9e59fcd.png"></p><br><ul><li>  Au nom de quel utilisateur l'application ex√©cute la demande </li><li>  L'utilisateur a-t-il vraiment autoris√© cette application √† acc√©der √† ses donn√©es </li><li>  L'utilisateur dispose-t-il des autorisations n√©cessaires pour travailler avec les supports publicitaires auxquels il se r√©f√®re? </li></ul><br><p>  Pour le processus d'autorisation et l'utilisation de l'API, vous devez g√©n√©ralement enregistrer l'application dans l'API.  En outre, cette application devrait recevoir la confirmation de l'√©quipe de support API d'un syst√®me publicitaire particulier, c'est-√†-dire  l'auteur d√©crit initialement en d√©tail comment et pourquoi il utilisera l'API, tout cela est v√©rifi√©, mod√©r√©, et seulement si le support du c√¥t√© de la plateforme publicitaire n'a pas de questions de s√©curit√©, l'auteur du package aura acc√®s √† l'API, et avec l'aide de son application enregistr√©e, vous package, vous pouvez vous authentifier √† l'aide de l'ID et du secret √©mis pour cette application. </p><br><h2 id="otkuda-voznik-vopros-bezopasnosti">  D'o√π vient la question de s√©curit√© </h2><br><p>  Nous allons de l'avant, essayons de comprendre o√π la question de s√©curit√© s'est pos√©e lors de l'utilisation des packages? </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/936/2cc/0c6/9362cc0c6ecf870b58c9b45d32e9299f.jpg"></p><br><p>  En g√©n√©ral, la question de la s√©curit√© d'acc√®s aux panneaux publicitaires est plus que justifi√©e, car les agences de publicit√© ont de l'argent, et souvent pas assez petit, de sorte que la s√©curit√© des comptes publicitaires est un probl√®me beaucoup plus grave que la s√©curit√© d'acc√®s, par exemple, √† un profil d'utilisateur r√©gulier sur les r√©seaux sociaux. </p><br><p>  Le fait est que dans la plupart des cas, lors de l'autorisation, R redirige les utilisateurs des packages vers le navigateur, initialement pour confirmer l'acc√®s au compte, √† ce stade, vous √™tes sur la page de service avec l'API avec laquelle vous allez travailler.  Apr√®s confirmation, l'utilisateur est redirig√© vers la page o√π le jeton sera g√©n√©r√©, ou le code de confirmation d'autorisation, qui doit ensuite √™tre entr√© dans le R. </p><br><p>  Ainsi, la plupart des utilisateurs sont inquiets car les sites o√π le jeton lui-m√™me ou le code de confirmation d'autorisation sont g√©n√©r√©s sont tiers et n'ont rien √† voir avec le service de publicit√© lui-m√™me, bien s√ªr, ils ont soit un compteur Google Analytics soit un compteur Yandex.Metrica, et le propri√©taire du site, qui, dans la plupart des cas, est √©galement l'auteur du package, selon beaucoup, √† travers ce site, il peut prendre possession de ses jetons et acc√©der √† la gestion de son mat√©riel publicitaire √† travers eux. </p><br><h2 id="chem-vam-grozit-perehvat-tokena">  Qu'est-ce qui vous menace avec une interception symbolique </h2><br><p>  Parlons de ce qui vous permet g√©n√©ralement de cr√©er un jeton s'il tombe entre les mains d'un attaquant. </p><br><p>  Le jeton doit √™tre stock√© de la m√™me mani√®re que toutes les autres donn√©es n√©cessaires pour acc√©der au compte, c'est-√†-dire  si le jeton tombe dans l'une ou l'autre des mains, celui qui en a pris possession pourra g√©rer vos supports publicitaires: supprimez-les, modifiez par exemple, il sera possible de modifier le texte de l'annonce et le lien vers lequel elle m√®ne. </p><br><p>  La bonne nouvelle est que, comme je l'ai √©crit ci-dessus, le protocole OAuth vous permet de g√©rer vos supports publicitaires sans fournir de nom d'utilisateur et de mot de passe depuis votre compte, c'est-√†-dire  m√™me si quelqu'un a pris possession de votre jeton, il ne pourra pas voler votre compte avec son aide.  Pas une seule API ne vous permet de demander, et plus encore, de changer votre mot de passe, donc vous ne serez pas retir√© de votre compte, mais la publicit√© de votre site via votre compte est facile. </p><br><h2 id="chto-delat-esli-kto-to-zavladel-vashim-tokenom">  Que faire si quelqu'un a pris possession de votre jeton </h2><br><p>  S'il se trouve que vous avez accidentellement transf√©r√© votre jeton, ne paniquez pas.  En fait, ce n'est pas la fin du monde, dans la plupart des cas, il existe un certain nombre d'actions qui r√©initialisent les jetons pr√©c√©demment √©mis, par exemple, dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette section de la r√©f√©rence API Yandex.Direct, le</a> processus de rappel des jetons pr√©c√©demment √©mis est d√©crit en d√©tail. </p><br><p>  Dans la plupart des cas, quel que soit l'API du syst√®me publicitaire avec lequel vous travaillez, il suffira de changer le mot de passe de votre compte. </p><br><h2 id="kak-naibolee-bezopasno-ispolzovat-r-pakety-dlya-raboty-s-api-reklamnyh-sistem">  Comment utiliser en toute s√©curit√© les packages R pour travailler avec les syst√®mes de publicit√© API </h2><br><p>  Et maintenant que nous sommes arriv√©s √† la partie la plus int√©ressante de notre tourn√©e, je vais parler de la fa√ßon la plus s√ªre d'utiliser les packages que j'ai d√©velopp√©s, car je connais bien les API des syst√®mes avec lesquels ils fonctionnent. </p><br><p>  Je tiens √† noter que tous les jetons √©mis sont stock√©s sur le c√¥t√© de la plate-forme publicitaire, pas l'application via laquelle le package R fonctionne, donc m√™me l'utilisateur de l'application enregistr√©e pour travailler avec l'API de la plate-forme publicitaire n'a pas acc√®s au jeton lui-m√™me. </p><br><h3 id="ryandexdirecthttpsgithubcomselesnowryandexdirect-i-rymhttpsgithubcomselesnowrym---pakety-dlya-raboty-s-api-yandeksdirekt-i-yandeksmetriki">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ryandexdirect</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rym</a> - Packages pour travailler avec les API Yandex.Direct et Yandex.Metrica </h3><br><p>  Les deux packages utilisent le service Yandex OAuth; pour plus de d√©tails, consultez ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lien</a> . </p><br><p>  Il y a 2 fonctions dans le package ryandexdirect pour l'autorisation: </p><br><ul><li> <code>yadirAuth</code> - autorisation en deux √©tapes </li><li>  <code>yadirGetToken</code> - demande de jeton d'autorisation </li></ul><br><p>  Lorsque vous utilisez la fonction yadirAuth, √† savoir, je recommande de l'utiliser lorsque vous travaillez avec ryandexdirect, le processus d'autorisation se d√©roule selon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le</a> sch√©ma d√©crit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , la seule vuln√©rabilit√© dans ce cas est la p√©riode entre le moment o√π le code de confirmation est g√©n√©r√© et son entr√©e dans la console R. </p><br><p>  Je vais vous expliquer pourquoi, voici comment Google Analytics affiche les donn√©es relatives aux visites sur <strong>la</strong> page de g√©n√©ration de <strong>code de v√©rification</strong> . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/61e/43a/5bc/61e43a5bcd179c4a8008feb36245f9e1.png"></p><br><p>  C'est-√†-dire  le code vient apr√®s le signe ``? '' et est consid√©r√© comme un param√®tre GET qui capture le compteur Google Analytics, mais la dur√©e de vie d'un tel code de confirmation se termine imm√©diatement apr√®s son utilisation, c'est-√†-dire  juste apr√®s l'avoir entr√© dans la console R. La dur√©e de vie maximale d'un tel code est de 10 minutes. </p><br><p>  La deuxi√®me fonction, <code>yadirGetToken</code> , effectue l'autorisation selon l'autre sch√©ma d√©crit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Et lors de son utilisation, aucun code de confirmation n'est g√©n√©r√©, c'est-√†-dire  apr√®s avoir donn√© au package l'autorisation d'acc√©der aux donn√©es, vous acc√©dez √† la page de g√©n√©ration de jetons.  Le jeton dans l'URL elle-m√™me est retourn√© apr√®s le signe '#', ce n'est pas un param√®tre get, mais une ancre, ou comme cette partie de l'URL est √©galement appel√©e hachage.  Le navigateur ne transmet pas ces donn√©es; en cons√©quence, elles ne sont pas transf√©r√©es ult√©rieurement dans les rapports Google Analytics, c'est-√†-dire  les visites de cette page dans les rapports sont affich√©es comme suit: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/633/040/b06/633040b066ca52c3ffba4d6d464dee02.png"></p><br><p>  Dans ce deuxi√®me cas, il n'y a pas de risques, mais l'inconv√©nient d'utiliser la fonction yadirGetToken est qu'elle n'enregistre pas les informations d'identification dans un fichier sur votre PC et ne peut donc pas utiliser ces donn√©es entre diff√©rentes sessions R, ce qui n'est pas tr√®s pratique.  Vous stockerez le jeton re√ßu avec son aide et utiliserez dans les scripts une cha√Æne de texte, la dur√©e de vie d'un tel jeton est de 1 an, apr√®s quoi le package ne pourra pas le remplacer automatiquement, comme cela se produit lors de l'utilisation de la fonction yadirGetAuth. </p><br><p>  Il y a une fonction rym_auth dans le paquet rym pour autorisation, qui est un analogue complet de la fonction yadirAuth, dont j'ai d√©j√† d√©crit en d√©tail le sch√©ma de fonctionnement. </p><br><h3 id="rfacebookstathttpsgithubcomselesnowrfacebookstat---pakety-dlya-raboty-s-reklamnym-kabinetom-facebook">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rfacebookstat</a> - Packages pour travailler avec le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">compte</a> publicitaire Facebook </h3><br><p>  Le processus d'authentification dans l'API Facebook Marketing est d√©crit en d√©tail <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Pour passer l'autorisation, le package rfacebookstat a la fonction <code>fbGetToken</code> , il fonctionne de la m√™me mani√®re que la fonction yadirGetToken du package ryandexdirect d√©crit pr√©c√©demment, c'est-√†-dire  tout est impl√©ment√© via une authentification en une √©tape.  Il n'y a aucun danger que votre token soit intercept√© via les rapports Google Analytics, il y a un √©cran √† quoi ressemble une visite sur la page de g√©n√©ration de token dans Google Analytics. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2c5/c13/5e7/2c5c135e71c0fdf1270aed25d59d4cef.png"></p><br><h3 id="rvkstathttpsgithubcomselesnowrvkstat---pakety-dlya-raboty-s-reklamnym-kabinetom-vkontakte">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rvkstat</a> - Packages pour travailler avec le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">compte VK</a> </h3><br><p>  Le processus d'authentification Vkontakte est d√©crit dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">aide de</a> l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API</a> . <br>  Dans rvkstat, vous pouvez utiliser l'une des deux fonctions d'autorisation: </p><br><ul><li>  <code>vkAuth</code> - Sch√©ma d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">autorisation Flux de code d'autorisation</a> , c.-√†-d.  autorisation en deux √©tapes. </li><li>  <code>vkGetToken</code> - Autorisation selon le sch√©ma de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">flux implicite</a> , autorisation en une √©tape, avec le jeton li√© √† l'appareil. </li></ul><br><p>  <code>vkAuth</code> fournit une authentification en deux √©tapes, essentiellement un analogue de la fonction <code>yadirAuth</code> d√©crite au d√©but de ce bloc, mais uniquement pour l'autorisation dans l'API Vkontakte, et non Yandex. </p><br><p>  La particularit√© de travailler avec l'API Vkontakte dans ce cas est que l'enregistrement de votre application et l'acc√®s √† l'API y sont assez simples, vous n'avez pas besoin de remplir des formulaires dans lesquels vous devez d√©crire en d√©tail comment et pourquoi vous utiliserez l'API.  Donc, puisque vous utilisez votre application lorsque vous travaillez avec rvkstat, m√™me l'interception du code de confirmation ne fonctionne pas, car  il est li√© √† votre application, et pour intercepter un jeton avec lui, vous devez conna√Ætre l' <em>identifiant</em> et le <em>secret de</em> votre application, le code lui-m√™me ne vous permettra pas d'obtenir un jeton pour vous. </p><br><p>  La fonction <code>vkGetToken</code> vous permet d'obtenir le jeton de la mani√®re la plus <code>vkGetToken</code> outre, le jeton re√ßu est li√© √† l'appareil √† partir duquel il a √©t√© demand√©, c'est-√†-dire  m√™me si quelqu'un l'obtient, il ne peut l'utiliser que depuis le m√™me PC √† partir duquel il a √©t√© sollicit√©.  Dans le m√™me temps, le jeton dans l'URL lors de la g√©n√©ration se trouve apr√®s le signe `` # '', et comme je l'ai dit plus t√¥t, il n'entre pas dans les rapports Google Analytics. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/3d7/f57/b52/3d7f57b52c9f662007c801a4f8c214fc.png"></p><br><h3 id="rmytargethttpsgithubcomselesnowrmytarget---pakety-dlya-raboty-s-reklamnym-kabinetom-mytarget">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rmytarget</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Packages de tableau de bord MyTarget</a> </h3><br><p>  √Ä l'heure actuelle, il existe 3 sch√©mas d'autorisation dans l'API MyTarget, pour plus de d√©tails sur chacun, voir la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> . </p><br><p>  La fonction myTarAuth est destin√©e √† √™tre autoris√©e dans l'API MyTarget dans rmytarget.Par d√©faut, elle utilise le sch√©ma d'autorisation Granting <em>Code Authorization</em> , qui vous permet de travailler avec l'API MyTarget sans avoir √† y acc√©der personnellement.  C'est-√†-dire  J'ai d√©j√† enregistr√© l'application, elle a √©t√© approuv√©e par le support de l'API MyTarget, et vous lui donnez acc√®s √† travailler avec le compte en votre nom. </p><br><p>  <em>L'autorisation du code d'autorisation</em> est un sch√©ma d'autorisation en deux √©tapes, ce qui signifie similaire √† celui impl√©ment√© par la fonction <code>yadirAuth</code> dans le package ryandexdirect. </p><br><p>  Cela fonctionne comme suit: </p><br><ul><li>  Vous d√©marrez la fonction, apr√®s quoi le navigateur s'ouvre. </li><li>  Sur la page du service MyTarget, vous autorisez l'acc√®s √† votre compte. </li><li>  Vous serez redirig√© vers la page du package o√π le code de confirmation est g√©n√©r√©.  La dur√©e de vie maximale de ce code est de 1 heure, mais il se termine imm√©diatement apr√®s avoir re√ßu un jeton avec lui. </li><li>  Vous entrez le code de confirmation copi√© dans la console R et obtenez un jeton pour travailler avec l'API. </li></ul><br><p>  Dans ce cas, le code de confirmation est un param√®tre get et est enregistr√© dans les rapports Google Analytics. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/f08/183/573/f08183573b76c823fd84e754382fe9bf.png"></p><br><p>  Mais, si vous regardez attentivement, en plus du code <em>(obtenir le code du param√®tre)</em> , l'URL contient un autre param√®tre - l' <em>√©tat</em> .  Il s'agit d'une cha√Æne, √©galement un jeton g√©n√©r√© par le package rmytarget lui-m√™me et envoy√© au navigateur imm√©diatement apr√®s le d√©marrage de la fonction, ce param√®tre est unique et le code de confirmation d'autorisation lui est attach√©.  M√™me si vous interceptez √† la fois le code de confirmation et le jeton d'√©tat, vous ne pouvez toujours pas utiliser cette combinaison car  Premi√®rement, il n'y a nulle part o√π entrer le jeton d'√©tat, et comme je l'ai d√©j√† √©crit, il est unique, et m√™me s'il y avait un endroit pour y entrer, il ne peut pas √™tre renvoy√©.  Par cons√©quent, ce r√©gime d'autorisation est totalement s√ªr. </p><br><p>  Mais si tout de m√™me, cette option vous semble encore suspecte, alors rmytarget et la fonction <code>myTarAuth</code> vous permettent d'utiliser les deux sch√©mas d'autorisation restants: </p><br><ul><li>  <em>Client Credentials Grant</em> , utilis√© pour travailler avec des donn√©es de compte personnel via l'API </li><li>  <em>Subvention des pouvoirs des clients d'agence</em> , utilis√©e pour travailler avec les donn√©es de leurs propres clients d'agences / gestionnaires. </li></ul><br><p>  Dans ce cas, vous devez acc√©der ind√©pendamment √† l'API MyTarget, au moment o√π elle ne peut √™tre obtenue que par des entit√©s juridiques, et elle est √©mise manuellement, pour demander l'acc√®s, vous devez utiliser le formulaire de commentaires, vous pouvez trouver tous les d√©tails <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Donc, si vous avez quand m√™me r√©ussi √† enregistrer votre application pour travailler avec l'API MyTarget, vous pouvez assez facilement vous authentifier √† l'aide de l'un des deux sch√©mas r√©pertori√©s ci-dessus en utilisant la fonction <code>myTarAuth</code> , pour cela, passez la valeur FALSE √† l'argument <em>code_grant</em> et utilisez les arguments suivants: </p><br><ul><li>  <em>grant_type</em> - Le type de votre compte, dans ce cas un compte client normal, prend les valeurs "client_credentials" ou "agency_client_credentials". </li><li>  <em>agency_client_name</em> - Connexion client √† partir du compte d'agent, utilis√©e uniquement si grant_type = "agency_client_credentials". </li><li>  <em>client_id</em> - L'ID vous est d√©livr√© lors de la confirmation de l'acc√®s √† l'API MyTarget. </li><li>  <em>client_secret</em> - D√©livr√© lorsque vous confirmez l'acc√®s √† l'API MyTarget avec l'ID client. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Exemple de code d'autorisation de subvention des informations d'identification client</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">myTargetAuth &lt;- myTarAuth(code_grant = FALSE, grant_type = "client_credentials", client_id = "XXXXXXXXXX", client_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Exemple de code pour le sch√©ma d'autorisation Grant of Credentials Agency Agency</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">myTargetAuth &lt;- myTarAuth(code_grant = FALSE, grant_type = "agency_client_credentials", client_id = "XXXXXXXXXX", client_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", agency_client_name = "xxxxxxxxx@agency_client")</code> </pre> </div></div><br><p>  Dans le cas de l'utilisation de cette approche, l'authentification passera sans aucune interaction avec le site du package rmytarget. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  C'est l√† que notre tour se termine, car aujourd'hui plus de 10000 packages sont publi√©s dans les principaux r√©f√©rentiels - CRAN, et plus de 80000 sur GitHub, en conclusion, je voudrais dire quelques mots de plus sur la s√©curit√© de leur utilisation. </p><br><p>  Tout d'abord, faites attention √† savoir s'il existe un package dont vous avez besoin sur CRAN, car il s'agit du r√©f√©rentiel officiel du langage R, les packages sont soumis √† une mod√©ration assez stricte par une √©quipe de sp√©cialistes de ce r√©f√©rentiel avant d'√™tre publi√©s sur ce site.  Et le package ne sera pas publi√© l√†-bas tant qu'il ne sera pas enti√®rement conforme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√† la politique CRAN</a> .  Par cons√©quent, si le package est pr√©sent sur CRAN, vous pouvez √™tre s√ªr que son utilisation est sans danger pour vous. </p><br><p>  De plus, je tiens √† noter que le code de tous les packages pour le langage R est ouvert, vous pouvez toujours consulter le code de l'une de ses fonctions avant de le lancer. </p><br><p>  Essayez √©galement de trouver des articles sur l'application de ce package, les utilisateurs de R sont tout √† fait dispos√©s √† partager des informations, et vous trouverez probablement des cas d'utilisation de packages plus ou moins populaires.  S'ils √©crivent sur un paquet, cela signifie qu'ils l'utilisent, et apparemment personne n'a eu de probl√®me avec lui. </p><br><p>  Regardez √©galement qui est l'auteur du package, il y a deux fa√ßons de proc√©der: </p><br><ol><li>  Apr√®s avoir install√© le package, ex√©cutez la commande <code>utils::packageDescription("_")$Author</code> </li><li>  Affichez le fichier <em>DESCRIPTION</em> dans la source du package. </li></ol><br><p>  Essayez de trouver des informations sur l'auteur sur un r√©seau mondial, si une personne est m√™me la moins publique, il est peu probable qu'elle risque sa r√©putation afin d'obtenir un jeton d'acc√®s √† votre compte publicitaire et √† votre mat√©riel publicitaire.  Souvent, une r√©putation co√ªte plus cher que l'argent re√ßu de mani√®re douteuse. </p><br><p>  Si vous installez un package √† partir de GitHub, puis installez-le √† partir du r√©f√©rentiel de l'auteur, et non √† partir de n'importe quelle branche, en r√®gle g√©n√©rale, il y a beaucoup de telles branches dans les r√©f√©rentiels populaires: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a0b/805/0cf/a0b8050cfecfc935ff10f0af4c9bc339.png" alt="Succursales Ryandexdirect"></p><br><p>  Le fait est que les branches ne sont pas mises √† jour par l'auteur du package, ce qui signifie que vous ne recevrez pas sa version la plus r√©cente.  De plus, l'utilisateur GitHub qui a cr√©√© la branche peut apporter des modifications √† son code lui-m√™me, que vous d√©cidiez ou non de faire confiance √† ces modifications. </p><br><p>  Vous pouvez voir √† partir de quel r√©f√©rentiel sa branche a √©t√© cr√©√©e sur sa page sur GitHub. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0e5/d1f/797/0e5d1f797cdb3a225a4f43ebc5b4f174.png"></p><br><p>  Ne transf√©rez vos jetons √† personne en aucune circonstance, stockez-les de la m√™me mani√®re que vous stockez les mots de passe des comptes, m√™me si vous devez montrer un exemple de code, faites-le sans sp√©cifier de jetons. </p><br><p>  N'oubliez pas que dans la grande majorit√© des cas, l'utilisation des packages R est totalement s√ªre pour vous, j'esp√®re que cet article vous en convaincra et explique comment fonctionne le processus d'autorisation dans l'API des plateformes publicitaires les plus populaires. </p><br><p>  Bonne chance, soyez prudent mais ne c√©dez pas √† la parano√Øa. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430888/">https://habr.com/ru/post/fr430888/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430878/index.html">PhpStorm disponible 2018.3</a></li>
<li><a href="../fr430880/index.html">Une autre impl√©mentation du traitement des donn√©es</a></li>
<li><a href="../fr430882/index.html">Xiaomi Aqara Switch refaire de ZigBee √† Z-Wave</a></li>
<li><a href="../fr430884/index.html">Imprimerie: pourquoi "LANIT-Integration" a ouvert sa propre "imprimerie"</a></li>
<li><a href="../fr430886/index.html">Mettre √† jour la biblioth√®que SPPermission et hater</a></li>
<li><a href="../fr430890/index.html">O√π l'agilit√© est terrible, surtout la m√™l√©e</a></li>
<li><a href="../fr430892/index.html">La combinaison d'une approche multiplateforme et native dans le d√©veloppement d'applications mobiles</a></li>
<li><a href="../fr430894/index.html">Situation: les marques d√©pensent de plus en plus d'argent pour la publicit√© dans les podcasts - nous comprenons pourquoi</a></li>
<li><a href="../fr430896/index.html">Linux Foundation a √©tabli des fonds pour GraphQL et Ceph - pourquoi sont-ils n√©cessaires et √† quoi s'attendre d'eux</a></li>
<li><a href="../fr430900/index.html">Le premier laser de l'histoire: ce que c'√©tait</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>