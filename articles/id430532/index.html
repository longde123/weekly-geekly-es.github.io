<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤒 ⚛️ 🍍 Keamanan di aplikasi iOS 👩🏾 🧜🏻 💲</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang, Habr! Saya mempersembahkan kepada Anda terjemahan artikel tentang prinsip-prinsip dasar keamanan data rahasia dalam aplikasi iOS "Wajib...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Keamanan di aplikasi iOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430532/">  Selamat siang, Habr!  Saya mempersembahkan kepada Anda terjemahan artikel tentang prinsip-prinsip dasar keamanan data rahasia dalam aplikasi iOS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Wajib Keamanan Aplikasi untuk setiap Aplikasi iOS"</a> oleh Arlind Aliu. <br><br>  Keamanan aplikasi adalah salah satu aspek terpenting dari pengembangan perangkat lunak.  Pengguna aplikasi berharap bahwa informasi yang mereka berikan dilindungi dengan aman.  Karenanya, Anda tidak bisa memberikan informasi rahasia kepada seseorang. <br><br>  Untungnya, dalam artikel ini kita akan membahas kesalahan yang dilakukan pengembang dalam aplikasi mereka, serta cara untuk mengatasinya. <br>  Berlanjut di bawah potongan. <br><a name="habracut"></a><br><h3>  Penyimpanan data di tempat yang salah </h3><br>  Saya melakukan studi tentang beberapa aplikasi dari AppStore dan banyak membuat kesalahan yang sama: informasi rahasia disimpan di tempat yang seharusnya tidak. <br>  Jika Anda menyimpan data pribadi di <i>UserDefaults</i> , maka Anda berisiko.  <i>UserDefaults</i> disimpan dalam file dengan daftar properti, yang terletak di dalam folder "Pengaturan" di aplikasi Anda.  Data disimpan dalam aplikasi tanpa sedikit pun enkripsi. <br><br>  Dengan menginstal program pihak ketiga pada mac, seperti iMazing, Anda bahkan tidak perlu meretas telepon, tetapi segera melihat semua data <i>UserDefaults</i> dari aplikasi yang diinstal dari AppStore.  Program semacam itu memungkinkan Anda untuk menonton dan mengelola data dari aplikasi yang diinstal pada iPhone.  Anda dapat dengan mudah mendapatkan <i>UserDefaults dari</i> aplikasi apa pun. <br>  Ini adalah alasan utama mengapa saya memutuskan untuk menulis artikel - Saya menemukan banyak aplikasi di AppStore yang menyimpan data di <i>UserDefaults</i> , seperti: token, langganan aktif dan terbarukan, jumlah uang yang tersedia, dan sebagainya.  Semua data ini dapat dengan mudah diperoleh dan digunakan dengan niat jahat, mulai dari mengelola langganan berbayar di aplikasi hingga peretasan di tingkat jaringan dan lebih buruk. <br><br>  Dan sekarang tentang cara menyimpan data. <br><br>  Ingat, hanya sejumlah kecil informasi yang harus disimpan dalam <i>UserDefaults</i> , seperti pengaturan dalam aplikasi, yaitu data yang tidak dirahasiakan bagi pengguna. <br><br>  Gunakan layanan keamanan khusus Apple untuk menyimpan informasi pribadi.  Layanan Keychain API memungkinkan Anda untuk menyimpan sejumlah data pengguna dalam database terenkripsi.  Di sana Anda dapat menyimpan kata sandi dan data penting lainnya untuk pengguna, seperti informasi kartu kredit, atau bahkan catatan penting kecil. <br>  Juga, mungkin ada kunci dan sertifikat terenkripsi yang dengannya Anda bekerja. <br><br><h3>  Layanan API Keychain </h3><br>  Berikut ini adalah contoh cara menyimpan kata sandi pengguna di Keychain. <br><br><pre><code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> KeychainService { func save(_ password: String, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> account: String) { let password = password.data(using: String.Encoding.utf8)! let query: [String: Any] = [kSecClass as String: kSecClassGenericPassword, kSecAttrAccount as String: account, kSecValueData as String: password] let status = SecItemAdd(query as <span class="hljs-built_in"><span class="hljs-built_in">CFDictionary</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) guard status == errSecSuccess <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> print(<span class="hljs-string"><span class="hljs-string">"save error"</span></span>) } }</code> </pre> <br>  Bagian dari kamus <i>kSecClass: kSecClassGenericPassword</i> berarti bahwa informasi yang perlu dienkripsi adalah kata sandi.  Kemudian kami menambahkan kata sandi baru ke gantungan kunci dengan memanggil metode <i>SecItemAdd</i> .  Mengambil data dari bundel mirip dengan menyimpan. <br><br><pre> <code class="objectivec hljs">func retrivePassword(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> account: String) -&gt; String? { let query: [String: Any] = [kSecClass as String: kSecClassGenericPassword, kSecAttrAccount as String: account, kSecMatchLimit as String: kSecMatchLimitOne, kSecReturnData as String: kCFBooleanTrue] var retrivedData: AnyObject? = <span class="hljs-literal"><span class="hljs-literal">nil</span></span> let _ = SecItemCopyMatching(query as <span class="hljs-built_in"><span class="hljs-built_in">CFDictionary</span></span>, &amp;retrivedData) guard let data = retrivedData as? Data <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> String(data: data, encoding: String.Encoding.utf8) }</code> </pre> <br>  Mari kita tulis cek kecil tentang kebenaran menyimpan dan menerima data. <br><br><pre> <code class="objectivec hljs">func testPaswordRetrive() { let password = <span class="hljs-string"><span class="hljs-string">"123456"</span></span> let account = <span class="hljs-string"><span class="hljs-string">"User"</span></span> keyChainService.save(password, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: account) <span class="hljs-built_in"><span class="hljs-built_in">XCTAssertEqual</span></span>(keyChainService.retrivePassword(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: account), password) }</code> </pre> <br>  Pada pandangan pertama, sepertinya Keychain API cukup sulit digunakan, terutama jika Anda perlu menyimpan lebih dari satu kata sandi, jadi saya mendorong Anda untuk menggunakan pola Facade untuk keperluan ini.  Ini akan memungkinkan Anda untuk menyimpan dan mengubah data tergantung pada kebutuhan aplikasi. <br><br>  Jika Anda ingin tahu lebih banyak tentang pola ini, serta cara membuat pembungkus sederhana untuk subsistem kompleks, maka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> ini akan membantu Anda.  Juga di Internet penuh dengan pustaka terbuka yang membantu menggunakan Keychain API, misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SAMKeychain</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SwiftKeychainWrapper</a> . <br><br><h3>  Penghematan Kata Sandi dan Otorisasi </h3><br>  Dalam karier pengembangan saya, saya terus-menerus menghadapi masalah yang sama.  Pengembang dapat menyimpan kata sandi dalam aplikasi, atau membuat permintaan ke server, yang mengirimkan nama pengguna dan kata sandi secara langsung. <br><br>  Jika Anda menyimpan data di <i>UserDefault</i> , maka setelah membaca informasi dari bagian pertama artikel, Anda sudah memahami seberapa besar risiko Anda.  Dengan menyimpan kata sandi di Gantungan Kunci, Anda secara serius meningkatkan tingkat keamanan aplikasi Anda, tetapi sekali lagi, sebelum Anda menyimpan informasi rahasia di mana saja, Anda harus terlebih dahulu mengenkripsinya. <br><br>  Misalkan seorang hacker dapat menyerang kami melalui jaringan kami.  Dengan demikian, ia akan menerima kata sandi dalam bentuk teks mentah.  Tentu saja, lebih baik hash semua kata sandi. <br><br><h3>  Enkripsi data pribadi </h3><br>  Hashing bisa tampak sedikit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">berlebihan</a> jika Anda melakukannya sendiri, jadi dalam artikel ini kita akan menggunakan pustaka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CryptoSwift</a> .  Ia telah mengumpulkan banyak algoritma enkripsi andal standar yang digunakan di Swift. <br><br>  Mari mencoba menyimpan dan mengambil kata sandi dari gantungan kunci menggunakan algoritma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CryptoSwift</a> . <br><br><pre> <code class="objectivec hljs">func saveEncryptedPassword(_ password: String, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> account: String) { let salt = Array(<span class="hljs-string"><span class="hljs-string">"salty"</span></span>.utf8) let key = try! HKDF(password: Array(password.utf8), salt: salt, variant: .sha256).calculate().toHexString() keychainService.save(key, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: account) }</code> </pre> <br>  Fungsi di atas mencatat nama pengguna dan kata sandi dan menyimpannya di Gantungan Kunci sebagai string terenkripsi. <br><br>  Mari kita lihat apa yang terjadi di dalam: <br><br>  - Login dan kata sandi ditulis ke variabel garam sebagai string <br>  - sha256 mengisi hash SHA-2 <br>  - HKDF adalah fungsi pembuatan kunci ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">KDF</a> ) berdasarkan kode otentikasi pesan ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HMAC</a> ) <br><br>  Kami menciptakan variabel garam untuk mempersulit tugas bagi peretas.  Kami hanya dapat mengenkripsi kata sandi, tetapi dalam hal ini, penyerang dapat memiliki daftar kata sandi yang paling sering digunakan, ia akan mengenkripsi kata sandi tersebut tanpa masalah dan membandingkannya dengan kata sandi terenkripsi kami.  Kemudian menemukan kata sandi untuk akun tertentu tidaklah sulit. <br>  Sekarang kita bisa masuk menggunakan akun kita dan kunci yang dihasilkan. <br><br><pre> <code class="objectivec hljs">authManager.login(key, user)</code> </pre> <br>  Tentu saja, server harus tahu apa yang dienkripsi dalam variabel garam kami.  Backend akan dapat membandingkan kunci menggunakan algoritma yang sama untuk mengidentifikasi pengguna. <br>  Menggunakan pendekatan ini akan sangat meningkatkan keamanan aplikasi Anda. <br><br><h3>  Selesai </h3><br>  Jangan pernah mengabaikan keamanan aplikasi Anda.  Pada artikel ini, pertama-tama kita mengetahui apa yang bisa menjadi konsekuensi ketika menyimpan data sensitif di <i>UserDefaults</i> dan mengapa Keychain diperlukan. <br><br>  Pada bagian kedua, kita akan berbicara tentang tingkat keamanan yang lebih serius, mengenkripsi data sebelum menyimpannya, dan juga membahas cara mentransfer informasi dengan data pribadi ke server dengan benar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id430532/">https://habr.com/ru/post/id430532/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id430522/index.html">Apakah Anda memerlukan budaya perusahaan di bidang TI? Pengakuan manajer merek studio Krasnodar Plarium</a></li>
<li><a href="../id430524/index.html">Arsitektur Jaringan Saraf Tiruan</a></li>
<li><a href="../id430526/index.html">Mesin slot: dari mana asalnya di USSR dan bagaimana pengaturannya</a></li>
<li><a href="../id430528/index.html">Pemrograman dengan PyUSB 1.0</a></li>
<li><a href="../id430530/index.html">Server tiruan untuk otomatisasi pengujian seluler</a></li>
<li><a href="../id430534/index.html">Membuat templat untuk Zabbix menggunakan DVR Trassir SDK sebagai contoh</a></li>
<li><a href="../id430536/index.html">Merancang fungsi jendela diringkas menjadi satu unit dengan tingkat tumpang tindih yang diberikan</a></li>
<li><a href="../id430538/index.html">Apakah Anda membaca Scaladoc untuk metode pengumpulan yang "jelas"? Atau mengapa kemalasan tidak selalu baik</a></li>
<li><a href="../id430542/index.html">Buka webinar "Infrastruktur sebagai kode"</a></li>
<li><a href="../id430546/index.html">"Diyakini bahwa kode tersebut akan diganti oleh diagram UML, tetapi tidak perlu diuji": sebuah wawancara dengan Alexei Barantsev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>