<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíº ‚úäüèΩ üë©‚Äçüîß MVC + Scenario vs Fat Controllers üòµ ‚åöÔ∏è üë¥üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sc√©nario MVC + vs contr√¥leurs √©pais 


 Les frameworks PHP modernes (Symphony, Laravel, ci-apr√®s partout) montrent de mani√®re convaincante que la mise...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MVC + Scenario vs Fat Controllers</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424595/"><h1 id="mvc--scenario-protiv-tolstyh-kontrollerov">  Sc√©nario MVC + vs contr√¥leurs √©pais </h1><br><p> Les frameworks PHP modernes (Symphony, Laravel, ci-apr√®s partout) montrent de mani√®re convaincante que la mise en ≈ìuvre du mod√®le Model-View-Controller n'est pas si simple.  Toutes les impl√©mentations pour une raison quelconque sont sujettes aux Fat Controllers (contr√¥leurs de <code>fat controllers</code> ), condamn√©s par tous, et les d√©veloppeurs, et les frameworks eux-m√™mes. </p><br><p>  Pourquoi en est-il ainsi?  Et existe-t-il un moyen de g√©rer cela?  Faisons les choses correctement. </p><a name="habracut"></a><br><h2 id="terminologiya">  Terminologie </h2><br><ul><li>  Mod√®le - mod√®le (mise en forme des donn√©es demand√©es) </li><li>  Vue - vue (mod√®le de d√©corateur de donn√©es) </li><li>  Contr√¥leur - contr√¥leur (coordinateur de la vue du mod√®le sur demande) </li><li>  Template - mod√®le de pr√©sentation </li><li>  Rendu - rendu (formation, conception de l'image de pr√©sentation) </li><li>  Renderer - renderer (shaper, concepteur de l'image de pr√©sentation) </li></ul><br><h2 id="tolstyy-kontroller">  Contr√¥leur √©pais </h2><br><p>  Voici un Fat Controller typique: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *   *      ID */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionUserHello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($userId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//         ( ) $user = UserModel::find($userId); //       -   $name = $user-&gt;firstName.' '.$user-&gt;lastName; //         $view = new View('hello', ['name' =&gt; $name]); //  ( )     return $view-&gt;render(); } }</span></span></code> </pre> <br><p>  Que voyons-nous?  On voit de la vinaigrette!  Dans le contr√¥leur, tout ce qui est possible est m√©lang√© - √† la fois le mod√®le et la pr√©sentation, et, en fait, le contr√¥leur lui-m√™me! </p><br><p>  Nous voyons les noms du mod√®le et du mod√®le √©troitement c√¢bl√©s dans le contr√¥leur.  Ce n'est pas un buzz.  Nous voyons des manipulations avec les donn√©es du mod√®le dans le contr√¥leur - la formation d'un nom complet √† partir du pr√©nom et du nom.  Et ce n'est pas un buzz. </p><br><p>  Et encore une chose: nous ne voyons pas cet exemple explicitement, mais il est implicite.  A savoir: il n'y a qu'une seule fa√ßon de rendre (formation d'image)!  Un seul: selon le mod√®le du fichier php!  Et si je veux un pdf?  Et si je ne veux pas dans un fichier, mais dans une ligne php?  J'avais des designs avec des designs √©labor√©s sur des centaines de petits mod√®les.  J'ai d√ª laisser √©chapper le moteur de rendu pour les mod√®les de cha√Ænes moi-m√™me.  Je n'ai pas surchauff√© bien s√ªr, mais la question est en principe. </p><br><p>  Bref r√©sum√©: </p><br><blockquote>  Les cadres modernes ont des d√©fauts communs dans la mise en ≈ìuvre de MVC pour tout le monde: <br><ol><li>  Interpr√©tation √©troite de MVC-View (View) <strong><em>uniquement</em></strong> comme <em>"View with a template in a PHP file"</em> au lieu de <em>"View with any renderer"</em> . </li><li>  Interpr√©tation √©troite du mod√®le MVC <strong><em>uniquement en</em></strong> tant que ¬´domaine de mod√®le de base de donn√©es¬ª au lieu de <em>¬´tout compilateur de donn√©es pour la pr√©sentation¬ª</em> . </li><li>  Ils provoquent l'utilisation des soi-disant <em>"contr√¥leurs √©pais"</em> contenant √† la fois toute la logique: m√©tier, pr√©sentation et interaction.  Cela d√©truit compl√®tement l'objectif principal de MVC - la r√©partition des responsabilit√©s entre les composants de la triade. </li></ol><br></blockquote><p>  Pour rem√©dier √† ces lacunes, il serait int√©ressant d'examiner de plus pr√®s les composants de MVC. </p><br><h2 id="predstavlenie---eto-renderer">  La vue est un moteur de rendu </h2><br><p>  Jetez un ≈ìil au premier inconv√©nient: </p><br><blockquote><ol><li>  Interpr√©tation √©troite de MVC-View (View) <strong><em>uniquement</em></strong> comme <em>"View with a template in a PHP file"</em> au lieu de <em>"View with any renderer"</em> . </li></ol><br></blockquote><p>  Ici, tout est assez simple - la solution du probl√®me est d√©j√† indiqu√©e dans la formulation m√™me du probl√®me.  Nous devons juste dire que n'importe quel moteur de rendu peut utiliser la vue.  Pour impl√©menter cela, ajoutez simplement la nouvelle propri√©t√© de <code>renderer</code> √† la classe View: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $template, $data, $renderer; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__costruct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($template, $data, $renderer = NULL)</span></span></span><span class="hljs-function"> </span></span>{} }</code> </pre> <br><p>  Nous avons donc d√©fini une nouvelle propri√©t√© de <code>renderer</code> pour la vue.  Dans le cas le plus g√©n√©ral, la valeur de cette propri√©t√© peut √™tre n'importe quelle fonction <code>callable</code> qui forme une image des donn√©es qui lui sont transf√©r√©es √† l'aide du mod√®le transmis. </p><br><p>  La plupart des applications n'utilisent qu'un seul moteur de rendu, et m√™me si elles en utilisent plusieurs, l'une d'entre elles est pr√©f√©r√©e.  Par cons√©quent, l'argument de <code>renderer</code> est d√©fini comme facultatif, en supposant qu'il existe un rendu par d√©faut. </p><br><p>  C'est simple?  C'est simple.  En fait pas si simple.  Le fait est que la <code>View</code> qui se trouve dans MVC n'est pas exactement la <code>View</code> qui se trouve dans les frameworks.  La <code>View</code> qui se trouve dans le cadre ne peut pas vivre sans mod√®le.  Mais la <code>View</code> , qui dans MVC, pour une raison quelconque, ne sait rien de ces m√™mes mod√®les.  Pourquoi?  Oui, car pour MVC <code>View</code> , il s'agit de <em>n'importe quel convertisseur de donn√©es de mod√®le en image</em> , et pas seulement d'un moteur de mod√®le.  Lorsque nous √©crivons quelque chose comme √ßa dans le gestionnaire de requ√™tes: </p><br><pre> <code class="php hljs">$name = <span class="hljs-string"><span class="hljs-string">' '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello, {$name}!"</span></span>;</code> </pre> <br><p>  ou m√™me: </p><br><pre> <code class="php hljs">$return json_encode($name); <span class="hljs-comment"><span class="hljs-comment">// Ajax response</span></span></code> </pre> <br><p>  alors nous d√©finissons vraiment la <code>View</code> qui est dans MVC, sans toucher √† aucune <code>View</code> qui est dans les frameworks! </p><br><p>  Mais maintenant, tout est vraiment simple: ces <code>View</code> , qui dans les frameworks - c'est un sous-ensemble de ces <code>View</code> , qui sont dans MVC.  De plus, un sous-ensemble tr√®s √©troit, √† savoir, ce n'est qu'un moteur de mod√®le bas√© sur des fichiers PHP. </p><br><p>  R√©sum√©: c'est le <code></code> , c'est-√†-dire  tout d√©corateur d'une image de donn√©es est la <code>View</code> qui se trouve dans MVC.  Et ces <code>View</code> , qui se trouvent dans les frameworks, ne sont qu'une sorte de <code></code> de <code></code> . </p><br><h2 id="model-domena--model-predstavleniya-viewmodel--domainmodel">  Mod√®le de domaine / Afficher le mod√®le (ViewModel / DomainModel) </h2><br><p>  Regardez maintenant le deuxi√®me inconv√©nient: </p><br><blockquote><ol><li>  Interpr√©tation √©troite du mod√®le MVC <strong><em>uniquement en</em></strong> tant que ¬´domaine de mod√®le de base de donn√©es¬ª au lieu de <em>¬´tout compilateur de donn√©es pour la pr√©sentation¬ª</em> . </li></ol><br></blockquote><p>  Il est √©vident pour tout le monde que le mod√®le MVC est une chose complexe qui se compose d'autres pi√®ces.  La communaut√© s'engage √† d√©composer le mod√®le en deux composantes: un mod√®le de domaine (DomainModel) et un mod√®le de pr√©sentation (ViewModel). </p><br><p>  Un mod√®le de domaine est ce qui est stock√© dans des bases de donn√©es, c'est-√†-dire  donn√©es de mod√®le normalis√©es.  Tapez ¬´pr√©nom¬ª et ¬´nom¬ª dans diff√©rents champs.  Les cadres sont occup√©s par cette partie particuli√®re du mod√®le simplement parce que le stockage des donn√©es est son propre univers, bien √©tudi√©. </p><br><p>  Cependant, une application a besoin de donn√©es agr√©g√©es plut√¥t que normalis√©es.  Les donn√©es du domaine doivent √™tre compil√©es en images telles que: ¬´Bonjour, Ivan!¬ª, Ou ¬´Cher Ivan Petrov!¬ª, Ou m√™me ¬´Pour Ivan <strong>a</strong> Petrov <strong>a</strong> !¬ª.  Ces donn√©es converties sont r√©f√©r√©es √† un autre mod√®le - mod√®le de pr√©sentation.  C'est donc cette partie du mod√®le qui est encore ignor√©e par les cadres modernes.  Il est ignor√© car il n'y a pas d'accord sur la fa√ßon de le traiter.  Et si les frameworks ne fournissent pas de solution, les programmeurs choisissent le moyen le plus simple: ils jettent le mod√®le de vue dans le contr√¥leur.  Et ils obtiennent les contr√¥leurs de graisse d√©test√©s mais in√©vitables! </p><br><p>  Total: pour impl√©menter MVC, vous devez impl√©menter un mod√®le de vue.  Il n'y a pas d'autre option.  √âtant donn√© que les repr√©sentations et leurs donn√©es peuvent √™tre quelconques, nous d√©clarons avoir un probl√®me. </p><br><h2 id="scenariy-protiv-tolstyh-kontrollerov">  Sc√©nario vs contr√¥leurs de graisse </h2><br><p>  Il y a un dernier inconv√©nient des cadres: </p><br><blockquote><ol><li>  Ils provoquent l'utilisation des soi-disant <em>"contr√¥leurs √©pais"</em> contenant √† la fois toute la logique: m√©tier, pr√©sentation et interaction.  Cela d√©truit compl√®tement l'objectif principal de MVC - la r√©partition des responsabilit√©s entre les composants de la triade. </li></ol><br></blockquote><p>  Nous arrivons ici aux bases de MVC.  Soyons clairs.  MVC assume donc la r√©partition des responsabilit√©s suivante entre les composants de la triade: </p><br><ul><li>  Le contr√¥leur est la <em>logique d'interaction</em> , c'est-√†-dire  interactions avec le monde ext√©rieur (demande - r√©ponse) et l'interne (Mod√®le - Pr√©sentation), </li><li>  Le mod√®le est <em>la logique m√©tier</em> , c'est-√†-dire  g√©n√©rer des donn√©es pour une demande sp√©cifique, </li><li>  La repr√©sentation est la <em>logique de la repr√©sentation</em> , c'est-√†-dire  d√©coration des donn√©es g√©n√©r√©es par le mod√®le. </li></ul><br><p>  Allez-y.  Deux niveaux de responsabilit√©s sont clairement visibles: </p><br><ul><li>  Le niveau organisationnel est le contr√¥leur, </li><li>  Le niveau ex√©cutif est Mod√®le et repr√©sentation. </li></ul><br><p>  En termes simples, le contr√¥leur dirige, charrue mod√®le et vue.  C'est si d'une mani√®re simple.  Et sinon d'une mani√®re simple, mais plus pr√©cis√©ment?  Comment contr√¥le exactement le contr√¥leur?  Et comment fonctionnent exactement le mod√®le et la charrue de vue? </p><br><p>  Le contr√¥leur dirige comme ceci: </p><br><ul><li>  Re√ßoit une demande d'une application, </li><li>  D√©cide quel mod√®le et quelle vue utiliser pour cette demande, </li><li>  Appelle le mod√®le s√©lectionn√© et en re√ßoit les donn√©es, </li><li>  Appelle la vue s√©lectionn√©e avec les donn√©es re√ßues du mod√®le, </li><li>  Renvoie les donn√©es d√©cor√©es par la vue √† l'application. </li></ul><br><p>  Quelque chose comme √ßa.  L'essentiel dans ce sch√©ma est que le mod√®le et la repr√©sentation s'av√®rent √™tre des maillons de la cha√Æne d'ex√©cution des requ√™tes.  De plus, par liens successifs: tout d'abord, le mod√®le convertit la demande en certaines donn√©es, puis ces donn√©es du mod√®le sont converties par la vue en une r√©ponse d√©cor√©e selon les besoins pour une demande sp√©cifique.  Par exemple, une demande humano√Øde est d√©cor√©e visuellement avec des mod√®les, une demande Android est d√©cor√©e avec des encodeurs JSON. </p><br><p>  Essayons maintenant de comprendre comment les artistes labourent exactement - Mod√®le et pr√©sentation.  Nous avons dit plus haut qu'il existe un consensus sur la d√©composition du mod√®le en deux sous-composants: le mod√®le de domaine et le mod√®le de pr√©sentation.  Cela signifie qu'il peut y avoir plus d'artistes - pas deux, mais trois.  Au lieu d'une cha√Æne d'ex√©cution </p><br><blockquote>  <code></code> &gt;&gt; <code></code> </blockquote><p>  il peut bien y avoir une cha√Æne </p><br><blockquote>  <code> </code> <code> </code> &gt;&gt; <code></code> <code> </code> &gt;&gt; <code></code> </blockquote><p>  La question se pose: pourquoi seulement deux ou trois?  Et si vous en avez besoin de plus?  La r√©ponse naturelle est, pour l'amour de Dieu, prenez autant que vous en avez besoin! </p><br><p>  D'autres artistes utiles sont imm√©diatement visibles: validateurs, redirecteurs, divers rendus, et en g√©n√©ral tout ce qui est impr√©visible, mais agr√©able. </p><br><p>  R√©capitulons: </p><br><blockquote><ul><li>  Le MVC de niveau ex√©cutif ( <code></code> - <code></code> ) peut √™tre impl√©ment√© comme une cha√Æne de liens, o√π chaque lien convertit la sortie du lien pr√©c√©dent en entr√©e pour le suivant. </li><li>  L'entr√©e du premier lien est la demande d'application. </li><li>  La sortie du dernier lien est la r√©ponse de l'application √† la demande. </li></ul><br></blockquote><p>  J'ai appel√© ce <code>Scenario</code> cha√Æne, mais pour les maillons de la cha√Æne, je n'ai pas encore d√©cid√© du nom.  Les options actuelles sont une sc√®ne (dans le cadre d'un script), un filtre (comme convertisseur de donn√©es), une action de script.  De mani√®re g√©n√©rale, le nom du lien n'est pas si important, il y a une chose plus importante. </p><br><p>  Les cons√©quences de l'apparition du sc√©nario sont importantes.  A savoir: Le sc√©nario a assum√© la responsabilit√© principale du contr√¥leur - d√©terminer le mod√®le et la pr√©sentation n√©cessaires √† la demande et les lancer.  Ainsi, le contr√¥leur n'a que deux responsabilit√©s: interagir avec le monde ext√©rieur (requ√™te-r√©ponse) et ex√©cuter le script.  Et c'est bien dans le sens o√π tous les composants de la triade MVC sont d√©compos√©s s√©quentiellement et deviennent plus sp√©cifiques et g√©rables.  Et toujours bon √† un autre √©gard - le contr√¥leur MVCS devient une classe immuable purement interne, et donc, m√™me en principe, ne peut pas devenir gras. </p><br><p>  L'utilisation de sc√©narios conduit √† une autre variation du mod√®le MVC; j'ai appel√© cette variation <strong><code>MVCS</code></strong> - <code>Model-View-Controller-Scenario</code> . </p><br><p>  Et quelques lignes suppl√©mentaires sur la d√©composition MVC.  Les cadres modernes, o√π toutes les fonctions typiques sont d√©compos√©es √† la limite, ont tout naturellement enlev√© √† la partie conceptuelle MVC des responsabilit√©s d'interaction avec le monde ext√©rieur.  Ainsi, des classes sp√©cialement form√©es comme la <code>HTTP </code> et le <code></code> sont engag√©es dans le traitement des requ√™tes des utilisateurs.  Par cons√©quent, le contr√¥leur ne re√ßoit pas la demande initiale de l'utilisateur, mais certaines <code></code> affin√©es, ce qui permet d'isoler le contr√¥leur des sp√©cificit√©s de la demande.  De m√™me, l'isolement des sp√©cificit√©s de la r√©ponse HTTP est effectu√©, permettant au module MVC de d√©finir son propre type de r√©ponse.  De plus, les cadres ont mis en ≈ìuvre int√©gralement les deux composants de MVC - le mod√®le de domaine et le mod√®le de pr√©sentation, cependant, nous en avons d√©j√† discut√©.  Je suis tout cela au fait que le raffinement et la concr√©tisation de MVC sont continus et continus, et cela bourdonne. </p><br><h2 id="primer-ispolzovaniya-mvcs">  Exemple MVCS </h2><br><p>  Voyons maintenant comment l'exemple de <em>Fat Cortroller</em> au d√©but de cet article peut √™tre impl√©ment√© dans MVCS. </p><br><p>  Nous commen√ßons par cr√©er un contr√¥leur MVCS: </p><br><pre> <code class="php hljs">$mvcs = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MvcsController();</code> </pre> <br><p>  Le contr√¥leur MVCS re√ßoit une demande d'un routeur externe.  Laissez le routeur convertir l'URI du formulaire ¬´utilisateur / bonjour / XXX¬ª en une telle action et demander des param√®tres: </p><br><pre> <code class="php hljs">$requestAction = <span class="hljs-string"><span class="hljs-string">'user/hello'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   $requestParams = ['XXX']; //   -  </span></span></code> </pre> <br><p>  √âtant donn√© que le contr√¥leur MVCS accepte des scripts plut√¥t que des URI, nous devons mapper certains scripts √† l'action de la demande.  Il est pr√©f√©rable de le faire dans le conteneur MVCS: </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   MVCS  URI  $mvcs-&gt;set('scenarios', [ 'user/hello' =&gt; 'UserModel &gt; UserViewModel &gt; view, hello', ..., ]);</span></span></code> </pre> <br><p>  Examinons de plus pr√®s ce sc√©nario.  Il s'agit d'une cha√Æne de trois convertisseurs de donn√©es s√©par√©s par un ¬´&gt;¬ª: </p><br><ul><li>  'UserModel' est le nom du mod√®le de domaine 'User', l'entr√©e du mod√®le sera les param√®tres de demande, la sortie sera les donn√©es r√©elles du mod√®le, </li><li>  "UserViewModel" est le nom du mod√®le d'affichage qui convertit les donn√©es de domaine en donn√©es d'affichage, </li><li>  'view, hello' est la vue syst√®me 'template' pour un mod√®le PHP appel√© 'hello'. </li></ul><br><p>  Il nous suffit maintenant d'ajouter deux transformateurs impliqu√©s dans le script en tant que fonction de fermeture au conteneur MVCS: </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   UserModel $mvcs-&gt;set('UserModel', function($id) { $users = [ 1 =&gt; ['first' =&gt; '', 'last' =&gt; ''], 2 =&gt; ['first' =&gt; '', 'last' =&gt; ''], ]; return isset($users[$id]) ? $users[$id] : NULL; }); //   UserViewModel $mvcs-&gt;set('UserViewModel', function($user) { //    PHP  : 'echo "Hello, $name!"'; return ['name' =&gt; $user['first'].' '.$user['last']]; });</span></span></code> </pre> <br><p>  Et c'est tout!  Pour chaque requ√™te, il est n√©cessaire de d√©terminer le script correspondant et toutes ses sc√®nes (√† l'exception de celles du syst√®me, telles que 'view').  Et rien de plus. </p><br><p>  Et maintenant, nous sommes pr√™ts √† tester MVCS pour diff√©rentes demandes: </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//        $scenarios = $mvcs-&gt;get('scenarios'); $scenario = $scenarios[$requestAction]; //      ... //   'user/hello/1'  ' '   'hello' $requestParams = ['1']; $response = $mvcs-&gt;play($scenario, $requestParams); //   'user/hello/2'  ' '   'hello' $requestParams = ['2']; $response = $mvcs-&gt;play($scenario, $requestParams);</span></span></code> </pre> <br><blockquote>  <em>L'impl√©mentation PHP MVCS est h√©berg√©e sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com</a> .</em> <br>  <em>Cet exemple se trouve dans l' <code>example</code> r√©pertoire MVCS.</em> </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr424595/">https://habr.com/ru/post/fr424595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr424585/index.html">CryEngine 5.5 publi√© par Crytek</a></li>
<li><a href="../fr424587/index.html">R√©sum√© du livre "Ventes aux grandes entreprises"</a></li>
<li><a href="../fr424589/index.html">Comment s'inscrire √† un programme de PhD Machine Learning</a></li>
<li><a href="../fr424591/index.html">Il n'y a pas d'id√©al: comment j'ai cherch√© un langage de programmation pour moi</a></li>
<li><a href="../fr424593/index.html">C ++ 11 et gestion des √©v√©nements</a></li>
<li><a href="../fr424597/index.html">Entretien avec le pr√©sident de la conf√©rence RubyRussia Marcus Schirp</a></li>
<li><a href="../fr424599/index.html">Vous devez choisir le logiciel dont vous avez besoin: √©crit √† temps ou de haute qualit√©</a></li>
<li><a href="../fr424601/index.html">Architecture de l'information sur Internet partie 1</a></li>
<li><a href="../fr424603/index.html">Le livre ¬´Pourquoi avons-nous tort. Penser les pi√®ges en action. Extraits Partie 1</a></li>
<li><a href="../fr424605/index.html">Fonds Zuckerberg: collaboration + technologie + science ouverte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>