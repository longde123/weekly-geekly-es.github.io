<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЧ║я╕П ЁЯФЖ тЬНЁЯП╜ рдПрдХреНрд╕ 86 рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рдмрд╛рд╣рд░реА рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рд╡реНрдпрд╡рдзрд╛рдиред рднрд╛рдЧ 2. рд▓рд┐рдирдХреНрд╕ рдХрд░реНрдиреЗрд▓ рдмреВрдЯ рд╡рд┐рдХрд▓реНрдк ЁЯХ║ЁЯП╝ ЁЯРж ЁЯдШЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ, рд╣рдордиреЗ x86 рд╕рд┐рд╕реНрдЯрдо (PIC тЖТ APIC тЖТ MSI), рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд╕рд┐рджреНрдзрд╛рдВрдд, рдФрд░ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рд╢рдмреНрджреЛрдВ рдореЗрдВ рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рд╡рд┐рддрд░рдг рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреА рдЬрд╛рдВрдЪ рдХреАред 

 рдЗрд╕ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХреНрд╕ 86 рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рдмрд╛рд╣рд░реА рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рд╡реНрдпрд╡рдзрд╛рдиред рднрд╛рдЧ 2. рд▓рд┐рдирдХреНрд╕ рдХрд░реНрдиреЗрд▓ рдмреВрдЯ рд╡рд┐рдХрд▓реНрдк</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431372/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ,</a> рд╣рдордиреЗ x86 рд╕рд┐рд╕реНрдЯрдо (PIC тЖТ APIC тЖТ MSI), рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд╕рд┐рджреНрдзрд╛рдВрдд, рдФрд░ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рд╢рдмреНрджреЛрдВ рдореЗрдВ рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рд╡рд┐рддрд░рдг рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреА рдЬрд╛рдВрдЪ рдХреАред <br><br>  рдЗрд╕ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рднрд╛рдЧ рдореЗрдВ, рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдХреИрд╕реЗ рд▓реАрдЧреЗрд╕реА рд▓рд┐рдирдХреНрд╕ рдЗрдВрдЯрд░рдкреНрдЯ рдбрд┐рд▓реАрд╡рд░реА рдХреЗ рддрд░реАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд╛рдкрд╕ рд░реЛрд▓ рдХрд░реЗрдВ, рдЕрд░реНрдерд╛рддреН рдХрд░реНрдиреЗрд▓ рдмреВрдЯ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: <br><br><ul><li>  pci = nomsi </li><li>  noapic </li><li>  nolapic </li></ul><br>  рд╣рдо рдЙрд╕ рдХреНрд░рдо рдХреЛ рднреА рджреЗрдЦреЗрдВрдЧреЗ рдЬрд┐рд╕рдореЗрдВ рдУрдПрд╕ рд░реВрдЯрд┐рдВрдЧ рд░реВрдЯрд┐рдВрдЧ рдЯреЗрдмрд▓ (ACPI / MPtable / $ PIR) рдХреЛ рджреЗрдЦрддрд╛ рд╣реИ рдФрд░ рдмреВрдЯ рд╡рд┐рдХрд▓реНрдк рдЬреЛрдбрд╝рдиреЗ рдкрд░ рдЗрд╕рдХрд╛ рдХреНрдпрд╛ рдкреНрд░рднрд╛рд╡ рдкрдбрд╝реЗрдЧрд╛: <br><br><ul><li>  pci = noacpi </li><li>  acpi = noirq </li><li>  рдПрд╕реАрдкреА = рдмрдВрдж </li></ul><br>  рд╢рд╛рдпрдж рдЖрдкрдиреЗ рдЗрди рд╕рднреА рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рд╕рдВрдпреЛрдЬрди рдХреА рдХреЛрд╢рд┐рд╢ рдХреА рдереА рдЬрдм рдПрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдПрдХ рд░реБрдХрд╛рд╡рдЯ рдХреА рд╕рдорд╕реНрдпрд╛ рдХреЗ рдХрд╛рд░рдг рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рдерд╛ред  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рд╡реЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреНрдпрд╛ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдХреИрд╕реЗ рд╡реЗ / proc / interrupts рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рдмрджрд▓рддреЗ рд╣реИрдВред <br><a name="habracut"></a><br><h3>  рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ </h3><br>  рд╣рдо рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдЗрдВрдЯреЗрд▓ рд╣реИрд╕рд╡реЗрд▓ i7 рдХреЗ рд╕рд╛рде рдПрдХ рдХрд╕реНрдЯрдо рдмреЛрд░реНрдб рдкрд░ рд░реБрдХрд╛рд╡рдЯ рджреЗрдЦреЗрдВрдЧреЗ lynxPoint- рдПрд▓рдкреА рдЪрд┐рдкрд╕реЗрдЯ рдХреЗ рд╕рд╛рде рдЬрд┐рд╕ рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЛрд░рдмреВрдЯ</a> рдЪрд▓ рд░рд╣рд╛ рд╣реИред <br><br>  рд╣рдо рдХрдорд╛рдВрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрдВрдЯрд░рдкреНрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдЖрдЙрдЯрдкреБрдЯ рдХрд░реЗрдВрдЧреЗ <br><br><pre><code class="bash hljs">cat /proc/interrupts</code> </pre> <br>  рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдмреВрдЯ рдкрд░ рдЖрдЙрдЯрдкреБрдЯ: <br><br><pre> <code class="bash hljs">CPU0 CPU1 CPU2 CPU3 0: 15 0 0 0 IO-APIC-edge timer 1: 0 1 0 1 IO-APIC-edge i8042 8: 0 0 0 1 IO-APIC-edge rtc0 9: 0 0 0 0 IO-APIC-fasteoi acpi 12: 0 0 0 1 IO-APIC-edge 23: 16 247 7 10 IO-APIC-fasteoi ehci_hcd:usb1 56: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 57: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 58: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 59: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 60: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 61: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 62: 3118 1984 972 3454 PCI-MSI-edge ahci 63: 1 0 0 0 PCI-MSI-edge eth59 64: 2095 57 4 832 PCI-MSI-edge eth59-rx-0 65: 6 18 1 1309 PCI-MSI-edge eth59-rx-1 66: 13 512 2 1 PCI-MSI-edge eth59-rx-2 67: 10 61 232 2 PCI-MSI-edge eth59-rx-3 68: 169 0 0 0 PCI-MSI-edge eth59-tx-0 69: 14 14 4 205 PCI-MSI-edge eth59-tx-1 70: 11 491 3 0 PCI-MSI-edge eth59-tx-2 71: 20 19 134 50 PCI-MSI-edge eth59-tx-3 72: 0 0 0 0 PCI-MSI-edge eth58 73: 2 1 0 152 PCI-MSI-edge eth58-rx-0 74: 3 150 2 0 PCI-MSI-edge eth58-rx-1 75: 2 34 117 2 PCI-MSI-edge eth58-rx-2 76: 153 0 2 0 PCI-MSI-edge eth58-rx-3 77: 4 0 2 149 PCI-MSI-edge eth58-tx-0 78: 4 149 2 0 PCI-MSI-edge eth58-tx-1 79: 4 0 117 34 PCI-MSI-edge eth58-tx-2 80: 153 0 2 0 PCI-MSI-edge eth58-tx-3 81: 66 106 2 101 PCI-MSI-edge snd_hda_intel 82: 928 5657 262 224 PCI-MSI-edge i915 83: 545 56 32 15 PCI-MSI-edge snd_hda_intel NMI: 0 0 0 0 Non-maskable interrupts LOC: 4193 3644 3326 3499 Local timer interrupts SPU: 0 0 0 0 Spurious interrupts PMI: 0 0 0 0 Performance monitoring interrupts IWI: 290 233 590 111 IRQ work interrupts RTR: 3 0 0 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 1339 2163 2404 1946 Rescheduling interrupts CAL: 607 537 475 559 Function call interrupts TLB: 163 202 164 251 TLB shootdowns TRM: 48 48 48 48 Thermal event interrupts THR: 0 0 0 0 Threshold APIC interrupts MCE: 0 0 0 0 Machine check exceptions MCP: 3 3 3 3 Machine check polls ERR: 0 MIS: 0</code> </pre><br>  рдлрд╝рд╛рдЗрд▓ / proc / interrupts рдлрд╝рд╛рдЗрд▓ рдирд┐рдореНрди рд░реВрдк рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдкрд░ рдЗрдВрдЯрд░рдкреНрдЯ рдХреА рд╕рдВрдЦреНрдпрд╛ рдкрд░ рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИ: <br><br><ul><li>  рдкрд╣рд▓рд╛ рдХреЙрд▓рдо: рдЗрдВрдЯрд░рдкреНрдЯ рдирдВрдмрд░ </li><li>  рд╕реАрдкреАрдпреВрдПрдХреНрд╕ рд╕реНрдкреАрдХрд░: рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдкрд░ рдЗрдВрдЯрд░рдкреНрдЯ рдХрд╛рдЙрдВрдЯрд░ </li><li>  рдЕрдЧрд▓рд╛ рдХреЙрд▓рдо: рд░реБрдХрд╛рд╡рдЯ рдХрд╛ рдкреНрд░рдХрд╛рд░: <br><ul><li>  IO-APIC-edge - I / O APIC рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рд▓рд┐рдП рдХрд┐рдирд╛рд░реЗ рдХреА рд░реБрдХрд╛рд╡рдЯ </li><li>  IO-APIC-fasteoi - I / O APIC рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рдкреНрд░рддрд┐ рд╕реНрддрд░ рдХрд╛ рд╡реНрдпрд╡рдзрд╛рди </li><li>  PCI-MSI-edge - MSI рдЗрдВрдЯрд░рдкреНрдЯ </li><li>  XT-PIC-XT-PIC - PIC рдирд┐рдпрдВрддреНрд░рдХ рдкрд░ рд░реБрдХрд╛рд╡рдЯ (рдмрд╛рдж рдореЗрдВ рджреЗрдЦреЗрдВ) </li></ul></li><li>  рдЕрдВрддрд┐рдо рдХреЙрд▓рдо: рдЗрд╕ рд░реБрдХрд╛рд╡рдЯ рд╕реЗ рдЬреБрдбрд╝рд╛ рдЙрдкрдХрд░рдг </li></ul><br>  рдЗрд╕рд▓рд┐рдП, рдЬреИрд╕рд╛ рдХрд┐ рдпрд╣ рдПрдХ рдЖрдзреБрдирд┐рдХ рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрди рдЙрдкрдХрд░рдгреЛрдВ рдФрд░ рдбреНрд░рд╛рдЗрд╡рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ MSI / MSI-X рдЗрдВрдЯрд░рдкреНрдЯ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВред  рд╢реЗрд╖ рд╡реНрдпрд╡рдзрд╛рдиреЛрдВ рдХреЛ I / O APIC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд░реВрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рд╕рд░рд▓реАрдХреГрдд рд░реБрдХрд╛рд╡рдЯ рд░реВрдЯрд┐рдВрдЧ рд╕реНрдХреАрдо рдХреЛ рдЗрд╕ рддрд░рд╣ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рд▓рд╛рд▓ рд░рдВрдЧ рдореЗрдВ рдЪрд┐рд╣реНрдирд┐рдд рд╕рдХреНрд░рд┐рдп рдкрде, рдХрд╛рд▓реЗ рд░рдВрдЧ рдореЗрдВ рдЕрдкреНрд░рдпреБрдХреНрдд рдкрде)ред <br><br><img src="https://habrastorage.org/webt/pb/ej/7c/pbej7cfkiyscux6fzyttfbi99my.png"><br><br>  MSI / MSI-X рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдХреЛ рдЗрд╕рдХреЗ PCI рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реНрдерд╛рди рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдХреНрд╖рдорддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЗрдмрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдкреБрд╖реНрдЯрд┐ рдореЗрдВ, рд╣рдо рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП lspci рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рдПрдХ рдЫреЛрдЯрд╛ рд╕рд╛ рдЯреБрдХрдбрд╝рд╛ рджреЗрддреЗ рд╣реИрдВ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдпрд╣ рдЗрдВрдЧрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╡реЗ MSI / MSI-X рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдПрдХ SATA рдХрдВрдЯреНрд░реЛрд▓рд░ (рдЗрдВрдЯрд░рдкреНрдЯ рдЖрд╣рд┐рд╕реНрддрд╛), 2 рдИрдерд░рдиреЗрдЯ рдХрдВрдЯреНрд░реЛрд▓рд░ (рд░реБрдХрд╛рд╡рдЯ eth58 * рдФрд░ eth59 *), рдПрдХ рдЧреНрд░рд╛рдлрд┐рдХ рдХрдВрдЯреНрд░реЛрд▓рд░ (i915) рдФрд░ 2 HD рдСрдбрд┐рдпреЛ рдХрдВрдЯреНрд░реЛрд▓рд░ (snd_hda_intel) рд╣реИред <br><br><pre> <code class="bash hljs">lspci -v</code> </pre> <br><pre> <code class="bash hljs">00:02.0 VGA compatible controller: Intel Corporation Haswell-ULT Integrated Graphics Controller (rev 09) (prog-if 00 [VGA controller]) ... Capabilities: [90] MSI: Enable+ Count=1/1 Maskable- 64bit- Capabilities: [d0] Power Management version 2 Capabilities: [a4] PCI Advanced Features Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: i915 00:03.0 Audio device: Intel Corporation Haswell-ULT HD Audio Controller (rev 09 ... Capabilities: [60] MSI: Enable+ Count=1/1 Maskable- 64bit- Capabilities: [70] Express Root Complex Integrated Endpoint, MSI 00 Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: snd_hda_intel 00:1b.0 Audio device: Intel Corporation 8 Series HD Audio Controller (rev 04) ... Capabilities: [60] MSI: Enable+ Count=1/1 Maskable- 64bit+ Capabilities: [70] Express Root Complex Integrated Endpoint, MSI 00 Capabilities: [100] Virtual Channel Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: snd_hda_intel 00:1f.2 SATA controller: Intel Corporation 8 Series SATA Controller 1 [AHCI mode] (rev 04) (prog-if 01 [AHCI 1.0]) ... Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit- Capabilities: [70] Power Management version 3 Capabilities: [a8] SATA HBA v1.0 Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: ahci 05:00.0 Ethernet controller: Intel Corporation I350 Gigabit Network Connection (rev 01) ... Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+ Capabilities: [70] MSI-X: Enable+ Count=10 Masked- Capabilities: [a0] Express Endpoint, MSI 00 Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: igb 05:00.1 Ethernet controller: Intel Corporation I350 Gigabit Network Connection (rev 01) ... Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+ Capabilities: [70] MSI-X: Enable+ Count=10 Masked- Capabilities: [a0] Express Endpoint, MSI 00 Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: igb</code> </pre> <br>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрди рдЙрдкрдХрд░рдгреЛрдВ рдореЗрдВ "MSI: Enable +" рдпрд╛ "MSI-X: Enable +" рд▓рд╛рдЗрди рд╣реИред <br><br>  рдЪрд▓реЛ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдиреАрдЪрд╛ рджрд┐рдЦрд╛рдирд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, pci = nomsi рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдмреВрдЯ рдХрд░реЗрдВред <br><br><h3>  pci = nomsi </h3><br>  рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде, MSI рд╡реНрдпрд╡рдзрд╛рди IO-APIC / XT-PIC рдмрди рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡реНрдпрд╡рдзрд╛рди рдирд┐рдпрдВрддреНрд░рдХ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред <br><br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЕрднреА рднреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛ APIC рдЕрд╡рд░реЛрдз рдирд┐рдпрдВрддреНрд░рдХ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЪрд┐рддреНрд░ рдпрд╣ рд╣реЛрдЧрд╛: <br><br><img src="https://habrastorage.org/webt/er/ft/jy/erftjybrd7rm61bmmmhcs3qfzni.png"><br><br>  рдЙрддреНрдкрд╛рджрди / рдЦрд░реАрдж / рд╡реНрдпрд╡рдзрд╛рди: <br><br><pre> <code class="bash hljs"> CPU0 CPU1 CPU2 CPU3 0: 15 0 0 0 IO-APIC-edge timer 1: 0 1 0 1 IO-APIC-edge i8042 8: 0 0 1 0 IO-APIC-edge rtc0 9: 0 0 0 0 IO-APIC-fasteoi acpi 12: 0 0 0 1 IO-APIC-edge 16: 1314 5625 342 555 IO-APIC-fasteoi i915, snd_hda_intel, eth59 17: 5 0 1 34 IO-APIC-fasteoi eth58 21: 2882 2558 963 2088 IO-APIC-fasteoi ahci 22: 26 81 2 170 IO-APIC-fasteoi snd_hda_intel 23: 23 369 8 8 IO-APIC-fasteoi ehci_hcd:usb1 NMI: 0 0 0 0 Non-maskable interrupts LOC: 3011 3331 2435 2617 Local timer interrupts SPU: 0 0 0 0 Spurious interrupts PMI: 0 0 0 0 Performance monitoring interrupts IWI: 197 228 544 85 IRQ work interrupts RTR: 3 0 0 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 1708 2349 1821 1569 Rescheduling interrupts CAL: 520 554 509 555 Function call interrupts TLB: 187 181 205 179 TLB shootdowns TRM: 102 102 102 102 Thermal event interrupts THR: 0 0 0 0 Threshold APIC interrupts MCE: 0 0 0 0 Machine check exceptions MCP: 2 2 2 2 Machine check polls ERR: 0 MIS: 0</code> </pre> <br>  рд╕рднреА MSI / MSI-X рд╡реНрдпрд╡рдзрд╛рди рдЧрд╛рдпрдм рд╣реЛрдиреЗ рдХреА рдЙрдореНрдореАрдж рд╣реИред  рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рдбрд┐рд╡рд╛рдЗрд╕ рдЕрдм IO-APIC-fasteoi рдЗрдВрдЯрд░рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, eth58 рдФрд░ eth59 рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдореЗрдВ 9 рдЗрдВрдЯрд░рдкреНрдЯ рдереЗ!  рдФрд░ рдЕрдм рдПрдХ рд╕рдордп рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рд╣реА рд╣реИред  рдЖрдЦрд┐рд░рдХрд╛рд░, рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ, рдПрдордПрд╕рдЖрдИ рдПрдХ рдкреАрд╕реАрдЖрдИ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдмрд┐рдирд╛, рдХреЗрд╡рд▓ рдПрдХ рд░реБрдХрд╛рд╡рдЯ рдЙрдкрд▓рдмреНрдз рд╣реИ! <br><br>  рдИрдерд░рдиреЗрдЯ рдирд┐рдпрдВрддреНрд░рдХ рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдкрд░ dmesg рд╕реЗ рдХреБрдЫ рдЬрд╛рдирдХрд╛рд░реА: <br><br>  - pci = nomsi рд╡рд┐рдХрд▓реНрдк рдХреЗ рдмрд┐рдирд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs">igb: Intel(R) Gigabit Ethernet Network Driver - version 5.0.5-k igb: Copyright (c) 2007-2013 Intel Corporation. acpi:acpi_pci_irq_enable: igb 0000:05:00.0: PCI INT A -&gt; GSI 16 (level, low) -&gt; IRQ 16 igb 0000:05:00.0: irq 63 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 64 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 65 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 66 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 67 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 68 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 69 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 70 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 71 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 63 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 64 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 65 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 66 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 67 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 68 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 69 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 70 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 71 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: added PHC on eth0 igb 0000:05:00.0: Intel(R) Gigabit Ethernet Network Connection igb 0000:05:00.0: eth0: (PCIe:5.0Gb/s:Width x1) 00:15:d5:03:00:2a igb 0000:05:00.0: eth0: PBA No: 106300-000 igb 0000:05:00.0: Using MSI-X interrupts. 4 rx queue(s), 4 tx queue(s) acpi:acpi_pci_irq_enable: igb 0000:05:00.1: PCI INT B -&gt; GSI 17 (level, low) -&gt; IRQ 17 igb 0000:05:00.1: irq 72 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 73 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 74 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 75 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 76 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 77 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 78 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 79 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 80 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 72 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 73 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 74 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 75 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 76 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 77 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 78 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 79 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 80 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: added PHC on eth1 igb 0000:05:00.1: Intel(R) Gigabit Ethernet Network Connection igb 0000:05:00.1: eth1: (PCIe:5.0Gb/s:Width x1) 00:15:d5:03:00:2b igb 0000:05:00.1: eth1: PBA No: 106300-000 igb 0000:05:00.1: Using MSI-X interrupts. 4 rx queue(s), 4 tx queue(s)</code> </pre> <br>  - pci = nomsi рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдмреВрдЯ рдХрд░реЗрдВ <br><br><pre> <code class="bash hljs">igb: Intel(R) Gigabit Ethernet Network Driver - version 5.0.5-k igb: Copyright (c) 2007-2013 Intel Corporation. acpi:acpi_pci_irq_enable: igb 0000:05:00.0: PCI INT A -&gt; GSI 16 (level, low) -&gt; IRQ 16 igb 0000:05:00.0: added PHC on eth0 igb 0000:05:00.0: Intel(R) Gigabit Ethernet Network Connection igb 0000:05:00.0: eth0: (PCIe:5.0Gb/s:Width x1) 00:15:d5:03:00:2a igb 0000:05:00.0: eth0: PBA No: 106300-000 igb 0000:05:00.0: Using legacy interrupts. 1 rx queue(s), 1 tx queue(s) acpi:acpi_pci_irq_enable: igb 0000:05:00.1: PCI INT B -&gt; GSI 17 (level, low) -&gt; IRQ 17 igb 0000:05:00.1: added PHC on eth1 igb 0000:05:00.1: Intel(R) Gigabit Ethernet Network Connection igb 0000:05:00.1: eth1: (PCIe:5.0Gb/s:Width x1) 00:15:d5:03:00:2b igb 0000:05:00.1: eth1: PBA No: 106300-000 igb 0000:05:00.1: Using legacy interrupts. 1 rx queue(s), 1 tx queue(s)</code> </pre> <br>  рдкреНрд░рддрд┐ рдбрд┐рд╡рд╛рдЗрд╕ рдЗрдВрдЯрд░рдкреНрдЯ рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдХрдореА рдХреЗ рдХрд╛рд░рдг, рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╢рд╛рдорд┐рд▓ рдХрд┐рдП рдЬрд╛рдиреЗ рд╕реЗ рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реАрдорд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ (рдпрд╣ рдЗрд╕ рддрдереНрдп рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рд╣реИ рдХрд┐, рдЗрдВрдЯреЗрд▓ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрдо рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЕрдВрддрд░рд╛рд▓ рдХреЗ</a> рдЕрдиреБрд╕рд╛рд░, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рдВрджреЗрд╢ рд╕рд┐рдЧреНрдирд▓ рдЗрдВрдЯрд░рдкреНрдЯреНрд╕ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ</a> рдорд╛рдзреНрдпрдо рд╕реЗ, рдПрдордПрд╕рдЖрдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрдВрдЯрд░рдкреНрдЯрд░реНрд╕</a> рдЖрдИрдУ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ 3 рдЧреБрдирд╛ рддреЗрдЬ рд╣реИрдВред -APIC рдФрд░ PIC рд╕реЗ 5 рдЧреБрдирд╛ рддреЗрдЬ)ред <br><br><h3>  noapic </h3><br>  рдпрд╣ рд╡рд┐рдХрд▓реНрдк I / O APIC рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИред  MSI рд╡реНрдпрд╡рдзрд╛рди рдЕрднреА рднреА рд╕рднреА CPU рдореЗрдВ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдЗрдВрдЯрд░рдкреНрдЯ рдХреЗрд╡рд▓ CPU 0 рдкрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ PIC рдХреЗрд╡рд▓ CPU0 рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реИред  рд▓реЗрдХрд┐рди LAPIC рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЕрдиреНрдп CPU рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрдВрдЯрд░рдкреНрдЯ рдХреЛ рд╕рдВрднрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/uw/tf/rt/uwtfrt5lgbpfenyjwb3u_fc4yvq.png"><br><br><pre> <code class="bash hljs"> CPU0 CPU1 CPU2 CPU3 0: 5 0 0 0 XT-PIC-XT-PIC timer 1: 2 0 0 0 XT-PIC-XT-PIC i8042 2: 0 0 0 0 XT-PIC-XT-PIC cascade 8: 1 0 0 0 XT-PIC-XT-PIC rtc0 9: 0 0 0 0 XT-PIC-XT-PIC acpi 12: 172 0 0 0 XT-PIC-XT-PIC ehci_hcd:usb1 56: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 57: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 58: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 59: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 60: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 61: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 62: 2833 2989 1021 811 PCI-MSI-edge ahci 63: 0 1 0 0 PCI-MSI-edge eth59 64: 301 52 9 3 PCI-MSI-edge eth59-rx-0 65: 12 24 3 178 PCI-MSI-edge eth59-rx-1 66: 14 85 6 2 PCI-MSI-edge eth59-rx-2 67: 17 24 307 1 PCI-MSI-edge eth59-rx-3 68: 70 18 8 10 PCI-MSI-edge eth59-tx-0 69: 7 0 0 23 PCI-MSI-edge eth59-tx-1 70: 15 227 2 2 PCI-MSI-edge eth59-tx-2 71: 18 6 27 2 PCI-MSI-edge eth59-tx-3 72: 0 0 0 0 PCI-MSI-edge eth58 73: 1 0 0 27 PCI-MSI-edge eth58-rx-0 74: 1 22 0 5 PCI-MSI-edge eth58-rx-1 75: 1 0 22 5 PCI-MSI-edge eth58-rx-2 76: 23 0 0 5 PCI-MSI-edge eth58-rx-3 77: 1 0 0 27 PCI-MSI-edge eth58-tx-0 78: 1 22 0 5 PCI-MSI-edge eth58-tx-1 79: 1 0 22 5 PCI-MSI-edge eth58-tx-2 80: 23 0 0 5 PCI-MSI-edge eth58-tx-3 81: 187 17 70 7 PCI-MSI-edge snd_hda_intel 82: 698 1647 247 129 PCI-MSI-edge i915 83: 438 135 16 59 PCI-MSI-edge snd_hda_intel NMI: 0 0 0 0 Non-maskable interrupts LOC: 1975 2499 2245 1474 Local timer interrupts SPU: 0 0 0 0 Spurious interrupts PMI: 0 0 0 0 Performance monitoring interrupts IWI: 132 67 429 91 IRQ work interrupts RTR: 3 0 0 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 1697 2178 1903 1541 Rescheduling interrupts CAL: 561 496 534 567 Function call interrupts TLB: 229 254 170 137 TLB shootdowns TRM: 78 78 78 78 Thermal event interrupts THR: 0 0 0 0 Threshold APIC interrupts MCE: 0 0 0 0 Machine check exceptions MCP: 2 2 2 2 Machine check polls ERR: 0 MIS: 0</code> </pre> <br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╕рднреА IO-APIC- * рдЗрдВрдЯрд░рдкреНрдЯреНрд╕ XT-PIC-XT-PIC рдореЗрдВ рдмрджрд▓ рдЧрдП, рдФрд░ рдпреЗ рдЗрдВрдЯрд░рдкреНрдЯ рдХреЗрд╡рд▓ CPU0 рдкрд░ рд░реВрдЯ рдХрд┐рдП рдЧрдП рд╣реИрдВред  MSI рдЗрдВрдЯрд░рдкреНрдЯ рдЕрдкрд░рд┐рд╡рд░реНрддрд┐рдд рд░рд╣рддрд╛ рд╣реИ рдФрд░ рд╕рднреА CPU0-3 рдкрд░ рдЬрд╛рддрд╛ рд╣реИред <br><br><h3>  nolapic </h3><br>  LAPIC рдЕрдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИред  MSI рдЗрдВрдЯрд░рдкреНрдЯ LAPIC рдХреЗ рдмрд┐рдирд╛ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛, I / O APIC LAPIC рдХреЗ рдмрд┐рдирд╛ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ред  рдЗрд╕рд▓рд┐рдП, рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рд╕рднреА рд╡реНрдпрд╡рдзрд╛рди PIC рдкрд░ рдЬрд╛рдПрдВрдЧреЗ, рдФрд░ рдпрд╣ рдХреЗрд╡рд▓ CPU0 рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдФрд░ LAPIC рдХреЗ рдмрд┐рдирд╛ рдЕрдиреНрдп CPU рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рднреА рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗред <br><br><img src="https://habrastorage.org/webt/rm/jd/4t/rmjd4tr9wxvkghj5hzb5wu7fswi.png"><br><br>  рдЙрддреНрдкрд╛рджрди / рдЦрд░реАрдж / рд╡реНрдпрд╡рдзрд╛рди: <br><br><pre> <code class="bash hljs"> CPU0 0: 6416 XT-PIC-XT-PIC timer 1: 2 XT-PIC-XT-PIC i8042 2: 0 XT-PIC-XT-PIC cascade 3: 5067 XT-PIC-XT-PIC aerdrv, aerdrv, PCIe PME, PCIe PME, i915, snd_hda_intel, eth59 4: 32 XT-PIC-XT-PIC aerdrv, aerdrv, PCIe PME, PCIe PME, eth58 5: 0 XT-PIC-XT-PIC aerdrv, PCIe PME 6: 0 XT-PIC-XT-PIC aerdrv, PCIe PME 8: 1 XT-PIC-XT-PIC rtc0 9: 0 XT-PIC-XT-PIC acpi 11: 274 XT-PIC-XT-PIC snd_hda_intel 12: 202 XT-PIC-XT-PIC ehci_hcd:usb1 15: 7903 XT-PIC-XT-PIC ahci NMI: 0 Non-maskable interrupts LOC: 0 Local timer interrupts SPU: 0 Spurious interrupts PMI: 0 Performance monitoring interrupts IWI: 0 IRQ work interrupts RTR: 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 0 Rescheduling interrupts CAL: 0 Function call interrupts TLB: 0 TLB shootdowns TRM: 0 Thermal event interrupts THR: 0 Threshold APIC interrupts MCE: 0 Machine check exceptions MCP: 1 Machine check polls ERR: 0 MIS: 0</code> </pre><br><h3>  рд╕рдВрдпреЛрдЬрди: </h3><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдирдП рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдПрдХ: "рдиреЙрдПрдкрд┐рдХ рдкреАрдПрд╕рдЖрдИ = рдиреЛрдореНрд╕реАред"  рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рд╕рднреА рд░реБрдХрд╛рд╡рдЯ рдХреЗрд╡рд▓ PIC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ CPU0 рдкрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди LAPIC рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЕрдиреНрдп CPU рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрдВрдЯрд░рдкреНрдЯ рдХреЛ рд╕рдВрднрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдПрдХ, рдХреНрдпреЛрдВрдХрд┐ рдЖрдк "рдиреЙрд▓рд╛рдкрд┐рдХ" рдХреЗ рд╕рд╛рде рдХреБрдЫ рднреА рдЬреЛрдбрд╝ рдирд╣реАрдВ рд╕рдХрддреЗ, рдХреНрдпреЛрдВрдХрд┐  рдпрд╣ рд╡рд┐рдХрд▓реНрдк I / O APIC рдФрд░ MSI рдХреЛ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред  рдЗрд╕рд▓рд┐рдП рдЕрдЧрд░ рдЖрдкрдиреЗ рдПрдХ рдмрд╛рд░ рдмреВрдЯ рд╡рд┐рдХрд▓реНрдк "рдиреЙрдПрдкрд┐рдХ рдиреЙрд▓рд╛рдкрд┐рдХ" (рдпрд╛ рд╕рдмрд╕реЗ рдЖрдо рд╡рд┐рдХрд▓реНрдк "рдПрд╕рдкреАрдЖрдИ = рдиреЙрдПрдкрд┐рдХ рдиреЙрд▓рд╛рдкрд┐рдХ") рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдЬрд╛рд╣рд┐рд░ рд╣реИ рдЖрдкрдиреЗ рдЕрддрд┐рд░рд┐рдХреНрдд рдЕрдХреНрд╖рд░ рдЯрд╛рдЗрдк рдХрд┐рдП рд╣реИрдВред <br><br>  рддреЛ, "noapic pci = nomsi" рд╡рд┐рдХрд▓реНрдкреЛрдВ рдореЗрдВ рд╕реЗ рдХреНрдпрд╛ рд╣реЛрдЧрд╛: <br><br><img src="https://habrastorage.org/webt/jx/bu/is/jxbuissu4c453b_5g-4pcs6_d-w.png"><br><br>  рдЙрддреНрдкрд╛рджрди / рдЦрд░реАрдж / рд╡реНрдпрд╡рдзрд╛рди: <br><br><pre> <code class="bash hljs"> CPU0 CPU1 CPU2 CPU3 0: 5 0 0 0 XT-PIC-XT-PIC timer 1: 2 0 0 0 XT-PIC-XT-PIC i8042 2: 0 0 0 0 XT-PIC-XT-PIC cascade 3: 5072 0 0 0 XT-PIC-XT-PIC i915, snd_hda_intel, eth59 4: 32 0 0 0 XT-PIC-XT-PIC eth58 8: 1 0 0 0 XT-PIC-XT-PIC rtc0 9: 0 0 0 0 XT-PIC-XT-PIC acpi 11: 281 0 0 0 XT-PIC-XT-PIC snd_hda_intel 12: 200 0 0 0 XT-PIC-XT-PIC ehci_hcd:usb1 15: 7930 0 0 0 XT-PIC-XT-PIC ahci NMI: 0 0 0 0 Non-maskable interrupts LOC: 2595 2387 2129 1697 Local timer interrupts SPU: 0 0 0 0 Spurious interrupts PMI: 0 0 0 0 Performance monitoring interrupts IWI: 159 90 482 135 IRQ work interrupts RTR: 3 0 0 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 1568 1666 1810 1833 Rescheduling interrupts CAL: 431 556 549 558 Function call interrupts TLB: 124 184 156 274 TLB shootdowns TRM: 116 116 116 116 Thermal event interrupts THR: 0 0 0 0 Threshold APIC interrupts MCE: 0 0 0 0 Machine check exceptions MCP: 2 2 2 2 Machine check polls ERR: 0 MIS: 0</code> </pre> <br><h3>  рд░реВрдЯрд┐рдВрдЧ рдЯреЗрдмрд▓ рдФрд░ рд╡рд┐рдХрд▓реНрдк "acpi = noirq", "pci = noacpi", "acpi = off" </h3><br>  рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рдмрд╛рдзрд┐рдд рд░реВрдЯрд┐рдВрдЧ рдЬрд╛рдирдХрд╛рд░реА рдХреИрд╕реЗ рдорд┐рд▓рддреА рд╣реИ?  BIOS OS рдХреЗ рд▓рд┐рдП рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдЗрд╕ рд░реВрдк рдореЗрдВ рддреИрдпрд╛рд░ рдХрд░рддрд╛ рд╣реИ: <br><br><ul><li>  ACPI рдЯреЗрдмрд▓ (_PIC / _PRT рддрд░реАрдХреЗ) </li><li>  _MP_ рдЯреЗрдмрд▓ (MPtable) </li><li>  $ рдкреАрд░ рдЯреЗрдмрд▓ </li><li>  рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ 0x3C / 0x3D PCI рдбрд┐рд╡рд╛рдЗрд╕ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реНрдерд╛рди </li></ul><br>  рдпрд╣ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ BIOS рдХреЛ MSI рдореЗрдВ рд░реБрдХрд╛рд╡рдЯреЛрдВ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рднреА рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдЙрдкрд░реЛрдХреНрдд рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЗрд╡рд▓ APIC / PIC рдЗрдВрдЯрд░рдкреНрдЯ рд▓рд╛рдЗрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред <br><br>  рдКрдкрд░ рдХреА рд╕реВрдЪреА рдореЗрдВ рдЯреЗрдмрд▓ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдХреЗ рдХреНрд░рдо рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХрд┐рдП рдЧрдП рд╣реИрдВред  рдЖрдЗрдП рдЗрд╕реЗ рдФрд░ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред <br><br>  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ BIOS рдиреЗ рдпрд╣ рд╕рд╛рд░рд╛ рдбреЗрдЯрд╛ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рд╣реИ рдФрд░ рд╣рдо рдмрд┐рдирд╛ рдХрд┐рд╕реА рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд┐рдХрд▓реНрдк рдХреЗ рдмреВрдЯ рдХрд░рддреЗ рд╣реИрдВ: <br><br><ul><li>  OS ACPI рдЯреЗрдмрд▓ рдкрд╛рддрд╛ рд╣реИ </li><li>  рдУрдПрд╕ рдПрд╕реАрдкреАрдЖрдИ рд╡рд┐рдзрд┐ "_PIC" рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдпрд╣ рддрд░реНрдХ рджреЗрддрд╛ рд╣реИ рдХрд┐ рдЗрд╕реЗ рдПрдкреАрдЖрдИрд╕реА рдореЛрдб рдореЗрдВ рд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрд╣рд╛рдБ рд╡рд┐рдзрд┐ рдХреЛрдб рдЖрдо рддреМрд░ рдкрд░ рдПрдХ рдЪрд░ рдореЗрдВ рдЪрдпрдирд┐рдд рдореЛрдб рдХреЛ рдмрдЪрд╛рддрд╛ рд╣реИ (PICM = 1 рдХрд╣рддреЗ рд╣реИрдВ) </li><li>  рдЗрдВрдЯрд░рдкреНрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдУрдПрд╕ рдПрд╕реАрдкреАрдЖрдИ рд╡рд┐рдзрд┐ "_PRT" рдХрд╣рддрд╛ рд╣реИред  рдпрд╣ рдЖрдВрддрд░рд┐рдХ рд░реВрдк рд╕реЗ PICM рдЪрд░ рдХреА рдЬрд╛рдБрдЪ рдХрд░рддрд╛ рд╣реИ рдФрд░ APIC рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдорд╛рд░реНрдЧ рджреЗрддрд╛ рд╣реИ </li></ul><br>  рдорд╛рдорд▓реЗ рдореЗрдВ рд╣рдо <b>noapic</b> рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдмреВрдЯ рдХрд░рддреЗ рд╣реИрдВ: <br><br><ul><li>  OS ACPI рдЯреЗрдмрд▓ рдкрд╛рддрд╛ рд╣реИ </li><li>  рдУрдПрд╕ рдПрд╕реАрдкреАрдЖрдИ рд╡рд┐рдзрд┐ "_PIC" рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЗрд╕ рддрд░реНрдХ рдХреЛ рдкрд╛рд╕ рдХрд░рддрд╛ рд╣реИ рдХрд┐ PIC рдореЛрдб рдореЗрдВ рдмреВрдЯ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдпрд╣рд╛рдБ рд╡рд┐рдзрд┐ рдХреЛрдб рдЖрдорддреМрд░ рдкрд░ рдПрдХ рдЪрд░ рдореЗрдВ рдЪрдпрдирд┐рдд рдореЛрдб рдХреЛ рдмрдЪрд╛рддрд╛ рд╣реИ (PICM = 0 рдХрд╣реЗрдВ) </li><li>  рдЗрдВрдЯрд░рдкреНрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдУрдПрд╕ рдПрд╕реАрдкреАрдЖрдИ рд╡рд┐рдзрд┐ "_PRT" рдХрд╣рддрд╛ рд╣реИред  рдпрд╣ рдЖрдВрддрд░рд┐рдХ рд░реВрдк рд╕реЗ PICM рдЪрд░ рдХреА рдЬрд╛рдБрдЪ рдХрд░рддрд╛ рд╣реИ рдФрд░ PIC рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рд░реВрдЯрд┐рдВрдЧ рд▓реМрдЯрд╛рддрд╛ рд╣реИ </li></ul><br>  рдпрджрд┐ рдПрд╕реАрдкреАрдЖрдИ рддрд╛рд▓рд┐рдХрд╛ рдЧрд╛рдпрдм рд╣реИ рдпрд╛ рдПрд╕реАрдкреАрдЖрдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрд╛рдзрд╛ рд░реВрдЯрд┐рдВрдЧ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдПрд╕реАрдкреАрдЖрдИ <b>= рдиреЛрдЗрд░рдХ</b> рдпрд╛ <b>рдкреАрдПрд╕рдЖрдИ</b> <b>= рдиреЛрдПрдХрдкреА рд╡рд┐рдХрд▓реНрдкреЛрдВ</b> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдХреНрд╖рдо рд╣реИ (рдпрд╛ рдПрд╕реАрдкреАрдЖрдИ <b>=</b> рдПрд╕реАрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ <b>рд╣реИ</b> ), рддреЛ рдУрдПрд╕ рд░реВрдЯрд┐рдВрдЧ рдЗрдВрдЯрд░рдкреНрдЯ рдХреЗ рд▓рд┐рдП рдПрдордкреАрдЖрдИрдЯреЗрдмрд▓ (_MP_) рддрд╛рд▓рд┐рдХрд╛ рдХреА рддрд▓рд╛рд╢ рдХрд░рддрд╛ рд╣реИ: <br><br><ul><li>  рдУрдПрд╕ рдПрд╕реАрдкреАрдЖрдИ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЛ рдирд╣реАрдВ рджреЗрдЦрддрд╛ / рдирд╣реАрдВ рджреЗрдЦрддрд╛ рд╣реИ </li><li>  OS MPtable (_MP_) рдкрд╛рддрд╛ рд╣реИ </li></ul><br>  рдпрджрд┐ рдПрд╕реАрдкреАрдЖрдИ рддрд╛рд▓рд┐рдХрд╛ рдЧрд╛рдпрдм рд╣реИ рдпрд╛ рдПрд╕реАрдкреАрдЖрдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрдВрдЯрд░рдкреНрдЯ рд░рд╛рдЙрдЯрд┐рдВрдЧ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдПрд╕реАрдкреАрдЖрдИ <b>= рдиреЛрдЗрд░рдХ</b> рдпрд╛ <b>рдкреАрдПрд╕рдЖрдИ</b> <b>= рдиреЙрдПрдХреИрдкреА рд╡рд┐рдХрд▓реНрдкреЛрдВ</b> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдХреНрд╖рдо рд╣реИ (рдпрд╛ рдПрд╕реАрдкреАрдЖрдИ <b>=</b> рдПрд╕реАрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ <b>рд╣реИ</b> ) рдФрд░ рдпрджрд┐ MPtable (_MP_) рддрд╛рд▓рд┐рдХрд╛ рдЧрд╛рдпрдм рд╣реИ (рдпрд╛ <b>рдиреЙрдПрдкрд┐рдХ</b> рдпрд╛ <b>рдиреЙрд▓реЗрдкрд┐рдХ</b> рдмреВрдЯ рд╡рд┐рдХрд▓реНрдк <b>рдкрд╛рд╕ рд╣реИ</b> ): <br><br><ul><li>  рдУрдПрд╕ рдПрд╕реАрдкреАрдЖрдИ рдЯреЗрдмрд▓ рдХреЛ рдирд╣реАрдВ рджреЗрдЦрддрд╛ / рджреЗрдЦрддрд╛ рдирд╣реАрдВ рд╣реИ </li><li>  OS рдПрдордкреА рдЯреЗрдмрд▓рдЯреЗрдмрд▓ (_MP_) рдкрд░ рдирд╣реАрдВ рд▓рдЧрддрд╛ / рдирд╣реАрдВ рджрд┐рдЦрддрд╛ рд╣реИ </li><li>  OS рдХреЛ PIR рдЯреЗрдмрд▓ $ рдорд┐рд▓рддреА рд╣реИ </li></ul><br>  рдпрджрд┐ рдХреЛрдИ $ PIR рддрд╛рд▓рд┐рдХрд╛ рдирд╣реАрдВ рд╣реИ, рдпрд╛ рдпрд╣ рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ, рддреЛ рд╡реНрдпрд╡рдзрд╛рди рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо PCI рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реНрдкреЗрд╕ рдореЗрдВ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ 0x3C / 0x3D рдХреЗ рдорд╛рдиреЛрдВ рдХреЛ рджреЗрдЦреЗрдЧрд╛ред <br><br>  рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░ рдХреЗ рд╕рд╛рде рдЙрдкрд░реЛрдХреНрдд рд╕рднреА рдХреЛ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░рддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/rj/9s/mk/rj9smkhk7c_ou_fzskxasgeriw8.png"><br><br>  рдпрд╣ рдпрд╛рдж рд░рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ BIOS рд╕рднреА 3 рддрд╛рд▓рд┐рдХрд╛рдУрдВ (рдПрд╕реАрдкреАрдЖрдИ / рдПрдордкреАрдЯреЗрдмрд▓ / $ рдкреАрдЖрдИрдЖрд░) рдкреНрд░рджрд╛рди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдкрдиреЗ рд▓реЛрдбрд┐рдВрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХреЛ рдкрд╛рд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрд╕реАрдкреАрдЖрдИ рдпрд╛ рдПрд╕реАрдкреАрдЖрдИ рдФрд░ рдПрдордкреАрдЯреЗрдмрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдЗрдирдХрд╛рд░ рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рдЗрд╕ рддрдереНрдп рд╕реЗ рдмрд╣реБрдд рджреВрд░ рд╣реИ рдХрд┐ рдЖрдкрдХрд╛ рд╕рд┐рд╕реНрдЯрдо рдмреВрдЯ рд╣реЛрдЧрд╛ред <br><br>  <b>рдиреЛрдЯ 1</b> : рдЕрдЧрд░ рд╣рдо APIC рдореЛрдб рдореЗрдВ acpi = noirq рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдФрд░ MPtable рдХреЗ рдмрд┐рдирд╛ рдмреВрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд░реБрдХрд╛рд╡рдЯ рдХреА рддрд╕реНрд╡реАрд░ рдХреЗрд╡рд▓ рд╕рд╛рдорд╛рдиреНрдп рдмреВрдЯ рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рд╕рд╛рдорд╛рдиреНрдп рдмреВрдЯ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд╣реА рд╣реЛрдЧреАред  рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдЦреБрдж PIC рд░реБрдХрд╛рд╡рдЯ рдореЛрдб рдореЗрдВ рдЬрд╛рдПрдЧрд╛ред <br>  рдпрджрд┐ рд╣рдо рдПрд╕реАрдкреАрдЖрдИ рдЯреЗрдмрд▓ рдХреЗ рдмрд┐рдирд╛ (рдПрд╕рдкреАрдЖрдИ = рдмрдВрдж) рдФрд░ рдПрдордкреАрдЯреЗрдмрд▓ рдкреНрд░рджрд╛рди рдХрд┐рдП рдмрд┐рдирд╛ рдмреВрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЪрд┐рддреНрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реЛрдЧрд╛: <br><pre> <code class="bash hljs"> CPU0 0: 6 XT-PIC-XT-PIC timer 1: 2 XT-PIC-XT-PIC i8042 2: 0 XT-PIC-XT-PIC cascade 8: 0 XT-PIC-XT-PIC rtc0 12: 373 XT-PIC-XT-PIC ehci_hcd:usb1 16: 0 PCI-MSI-edge PCIe PME 17: 0 PCI-MSI-edge PCIe PME 18: 0 PCI-MSI-edge PCIe PME 19: 0 PCI-MSI-edge PCIe PME 20: 0 PCI-MSI-edge PCIe PME 21: 0 PCI-MSI-edge PCIe PME 22: 8728 PCI-MSI-edge ahci 23: 1 PCI-MSI-edge eth59 24: 1301 PCI-MSI-edge eth59-rx-0 25: 113 PCI-MSI-edge eth59-tx-0 26: 0 PCI-MSI-edge eth58 27: 45 PCI-MSI-edge eth58-rx-0 28: 45 PCI-MSI-edge eth58-tx-0 29: 1280 PCI-MSI-edge snd_hda_intel NMI: 2 Non-maskable interrupts LOC: 24076 Local timer interrupts SPU: 0 Spurious interrupts PMI: 2 Performance monitoring interrupts IWI: 2856 IRQ work interrupts RTR: 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 0 Rescheduling interrupts CAL: 0 Function call interrupts TLB: 0 TLB shootdowns TRM: 34 Thermal event interrupts THR: 0 Threshold APIC interrupts MCE: 0 Machine check exceptions MCP: 2 Machine check polls ERR: 0 MIS: 0</code> </pre><br>  рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реЛрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ MADT рддрд╛рд▓рд┐рдХрд╛ рдХреЗ ACPI ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдорд▓реНрдЯреАрдкрд▓ APIC рд╡рд┐рд╡рд░рдг рддрд╛рд▓рд┐рдХрд╛</a> ) рдФрд░ MPtable рдХреА рдЖрд╡рд╢реНрдпрдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдмрд┐рдирд╛, рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдЕрдиреНрдп рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЗ рд▓рд┐рдП APIC рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛рдУрдВ (APIC ID) рдХреЛ рдирд╣реАрдВ рдЬрд╛рдирддрд╛ рд╣реИ рдФрд░ рдЙрдирдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореБрдЦреНрдп рдкреНрд░реЛрд╕реЗрд╕рд░ рдХрд╛ LAPIC рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред рдЪреВрдБрдХрд┐ рд╣рдордиреЗ рдЗрд╕ рдкрд░ рд░реЛрдХ рдирд╣реАрдВ рд▓рдЧрд╛рдИ рдереА, рдФрд░ MSI рдХреЗ рд╡реНрдпрд╡рдзрд╛рди рдЗрд╕рдореЗрдВ рдЖ рд╕рдХрддреЗ рд╣реИрдВред  рдЕрд░реНрдерд╛рддреН, рдпрд╣ рдЗрд╕ рддрд░рд╣ рд╣реЛрдЧрд╛: <br><br><img src="https://habrastorage.org/webt/b-/pz/hx/b-pzhxxyugr5iv203wysxfs7-mo.png"><br><br>  <b>рдиреЛрдЯ 2</b> : рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, APIC рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ ACPI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдЗрдВрдЯрд░рдкреНрдЯ рд░реВрдЯрд┐рдВрдЧ рдПрдордкреАрдЯреЗрдмрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрдВрдЯрд░рдкреНрдЯ рд░реВрдЯрд┐рдВрдЧ рдХреЗ рд╕рдорд╛рди рд╣реИред  рдФрд░ PIC рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ ACPI рдЗрдВрдЯрд░рдкреНрдЯ рд░реВрдЯрд┐рдВрдЧ $ PIR рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрдВрдЯрд░рдкреНрдЯ рд░реВрдЯрд┐рдВрдЧ рдХреЗ рд╕рдорд╛рди рд╣реИред  рдЕрддрдГ / proc / interrupts рдХрд╛ рдирд┐рд╖реНрдХрд░реНрд╖ рдЕрд▓рдЧ рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдиреБрд╕рдВрдзрд╛рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ, рдореИрдВрдиреЗ рдПрдХ рдЕрдЬрдирдмреА рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛ред  рдЬрдм рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ MPtable рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд░реВрдЯрд┐рдВрдЧ, рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рдХреИрд╕реНрдХреЗрдбрд┐рдВрдЧ рд╡реНрдпрд╡рдзрд╛рди "XT-PIC-XT-PIC рдХреИрд╕реНрдХреЗрдб" рд╣реЛрддрд╛ рд╣реИред <br><br><pre> <code class="bash hljs"> CPU0 CPU1 CPU2 CPU3 0: 15 0 0 0 IO-APIC-edge timer 1: 2 0 0 0 IO-APIC-edge i8042 2: 0 0 0 0 XT-PIC-XT-PIC cascade 8: 0 1 0 0 IO-APIC-edge rtc0 9: 0 0 0 0 IO-APIC-edge acpi ...</code> </pre><br>  рдпрд╣ рдереЛрдбрд╝рд╛ рдЕрдЬреАрдм рд╣реИ рдХрд┐ рдРрд╕рд╛ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд░реНрдиреЗрд▓ рдкреНрд░рд▓реЗрдЦрди рдпрд╣</a> рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╕рд╛рдорд╛рдиреНрдп рд╣реИред <br><br><h3>  рдирд┐рд╖реНрдХрд░реНрд╖: </h3><br>  рдирд┐рд╖реНрдХрд░реНрд╖ рдореЗрдВ, рд╣рдо рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рд╕реЗ рдкрд╛рд░реНрд╕ рдХрд┐рдП рдЧрдП рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЛ рджрд░реНрд╢рд╛рддреЗ рд╣реИрдВред <br><br>  рдмрд╛рдзрд╛ рдирд┐рдпрдВрддреНрд░рдХ рдЪрдпрди рд╡рд┐рдХрд▓реНрдк: <br><br><ul><li>  <b>pci = nomsi</b> - MSI рд╡реНрдпрд╡рдзрд╛рди IO-APIC / XT-PIC рдмрди рдЬрд╛рдПрдЧрд╛ рдЬреЛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдЕрд╡рд░реЛрдз рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╣реЛрдЧрд╛ </li><li>  <b>noapic</b> - I / O APIC рдЕрдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИред  MSI рд╡реНрдпрд╡рдзрд╛рди рдЕрднреА рднреА рд╕рднреА CPU рдореЗрдВ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рдЕрдиреНрдп рд╡реНрдпрд╡рдзрд╛рди рдХреЗрд╡рд▓ PIC рдкрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдпрд╣ рдХреЗрд╡рд▓ CPU0 рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди LAPIC рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЕрдиреНрдп CPU рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрдВрдЯрд░рдкреНрдЯ рдХреЛ рд╕рдВрднрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ </li><li>  <b>noapic pci = nomsi</b> - рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рд╕рднреА рд╡реНрдпрд╡рдзрд╛рди рдХреЗрд╡рд▓ PIC рдкрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдпрд╣ рдХреЗрд╡рд▓ CPU0 рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди LAPIC рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЕрдиреНрдп CPU рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрдВрдЯрд░рдкреНрдЯ рдХреЛ рд╕рдВрднрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ </li><li>  <b>nolapic</b> - <b>рд▓реИрдкрд┐рдХ рдХреЛ</b> рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░рддрд╛ рд╣реИред  MSI рдЗрдВрдЯрд░рдкреНрдЯ LAPIC рдХреЗ рдмрд┐рдирд╛ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛, I / O APIC LAPIC рдХреЗ рдмрд┐рдирд╛ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ред  рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рд╕рднреА рд╡реНрдпрд╡рдзрд╛рди PIC рдкрд░ рдЬрд╛рдПрдВрдЧреЗ, рдФрд░ рдпрд╣ рдХреЗрд╡рд▓ CPU0 рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдФрд░ LAPIC рдХреЗ рдмрд┐рдирд╛, рд╢реЗрд╖ рд╕реАрдкреАрдпреВ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред </li></ul><br>  рд░реВрдЯрд┐рдВрдЧ рд░реВрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рддрд╛рд▓рд┐рдХрд╛ рдЪреБрдирдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рдХрд▓реНрдк: <br><br><ul><li>  <b>рдХреЛрдИ рд╡рд┐рдХрд▓реНрдк рдирд╣реАрдВ</b> - рдПрд╕реАрдкреА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдкреАрдЖрдИрд╕реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдорд╛рд░реНрдЧ </li><li>  <b>noapic</b> - ACPI рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ PIC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдорд╛рд░реНрдЧ </li><li>  <b>acpi = noirq</b> ( <b>pci = noacpi</b> / <b>acpi = off</b> ) - MPIC рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ APIC рд╕реЗ рд╣реЛрдХрд░ рдЧреБрдЬрд░рддрд╛ рд╣реИ </li><li>  <b>acpi = noirq</b> ( <b>pci = noacpi</b> / <b>acpi = off</b> ) <b>noapic</b> ( <b>nolapic</b> ) - $ PIR рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ PIC рд╕реЗ рд╣реЛрдХрд░ <b>рдЧреБрдЬрд░рдирд╛</b> </li></ul><br>  рдЕрдЧрд▓реЗ рднрд╛рдЧ рдореЗрдВ, рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдХреИрд╕реЗ рдХреЛрд░рдмреВрдЯ рд░реВрдЯрд┐рдВрдЧ рдЗрдВрдЯрд░рдкреНрдЯ рдХреЗ рд▓рд┐рдП рдЪрд┐рдкрд╕реЗрдЯ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддрд╛ рд╣реИред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi431372/">https://habr.com/ru/post/hi431372/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi431350/index.html">рдмрд╛рдЗрдХрд╛рд▓ рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХреНрд╕ рдкреНрд░реЛрд╕реЗрд╕рд░ рд╡рд┐рдХрд╛рд╕ рдпреЛрдЬрдирд╛рдПрдВ</a></li>
<li><a href="../hi431354/index.html">рдкрд╣рд▓рд╛ рдорд╢реАрди-рд▓рд░реНрдирд┐рдВрдЧ рд╡реАрдбрд┐рдпреЛ рдХреЛрдбреЗрдХ рдирд╛рдЯрдХреАрдп рд░реВрдк рд╕реЗ H.265 рдФрд░ VP9 рд╕рд╣рд┐рдд рд╕рднреА рдореМрдЬреВрджрд╛ рдХреЛрдбреЗрдХреНрд╕ рд╕реЗ рдЖрдЧреЗ рдирд┐рдХрд▓ рдЧрдпрд╛</a></li>
<li><a href="../hi431360/index.html">рдЗрд╡реЗрдВрдЯ-рд╕реНрдЯреНрд░реАрдо рдореЗрдВ рдкрд┐рдЫрд▓реЗ рджрд░рд╡рд╛рдЬреЗ рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХрд░реЗрдВ</a></li>
<li><a href="../hi431362/index.html">рдХреИрд╕реЗ рдПрдХ рдбрд┐рдЬрд╛рдЗрдирд░ рджрд┐рдирдЪрд░реНрдпрд╛ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЕрдкрдиреА рдиреМрдХрд░реА рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦ рд╕рдХрддрд╛ рд╣реИ?</a></li>
<li><a href="../hi431370/index.html">рдЬрдВрдЧрд▓реА рдкрд╢реНрдЪрд┐рдо рдореЗрдВ рд╕рдмрд╕реЗ рддреЗрдЬ рд░рд┐рдкреЛрд░реНрдЯред рдФрд░ рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдореБрдЯреНрдареА рднрд░ рдХреАрдбрд╝реЗ ...</a></li>
<li><a href="../hi431374/index.html">рдЕрдВрддрд┐рдо рдирд┐рд░реНрдгрдп: рд╢реБрд░реБрдЖрддреА рдкрд╣реБрдВрдЪ рдореЗрдВ рдЦреЗрд▓ рдХреЗ рд╡рд┐рддреНрддреАрдп рд╕рдВрдХреЗрддрдХреЛрдВ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../hi431376/index.html">рдЦреВрдиреА рдЙрджреНрдпрдо рдореЗрдВ рдбреЗрдЯрд╛ рдорд╛рдЗрдЧреНрд░реЗрд╢рди: рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрдпрд╛, рддрд╛рдХрд┐ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рдбреВрдмрдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ</a></li>
<li><a href="../hi431378/index.html">RTOS рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрд░реА рд╕рдЪреНрдЪрд╛рдИред рдЕрдиреБрдЪреНрдЫреЗрдж # 23ред рдХрддрд╛рд░: рдкрд░рд┐рдЪрдп рдФрд░ рдмреБрдирд┐рдпрд╛рджреА рд╕реЗрд╡рд╛рдПрдВ</a></li>
<li><a href="../hi431380/index.html">рд╢реАрддрд▓ рдХреМрд╢рд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдорд┐рддрд╛рдк рдиреЗрдЯреЛрд▓рд┐рдпрд╛ рдФрд░ рд╕реНрдХрд╛рдИрдВрдЧ "рдХреЛрдб рдХреЛ рдЫреЛрдбрд╝рдХрд░ рдПрдХ рдбреЗрд╡рд▓рдкрд░ рдХреЛ рдХреНрдпрд╛ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рд┐рдП"</a></li>
<li><a href="../hi431382/index.html">рдЬреЗрд╡реАрдПрдо рдкрд╛рд░рд┐рд╕реНрдерд┐рддрд┐рдХреА рддрдВрддреНрд░ рд╕рд░реНрд╡реЗрдХреНрд╖рдг рдХреЗ рдкрд░рд┐рдгрд╛рдо</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>