<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìû üßëüèΩ‚Äçü§ù‚ÄçüßëüèΩ üêã C'√©tait le soir, il n'y avait rien √† faire, ni comment installer Gentoo sans clavier üëá üë©üèº‚Äçü§ù‚Äçüë®üèΩ üîá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Une histoire humoristique bas√©e sur des √©v√©nements r√©els. 





 Ce fut une soir√©e ennuyeuse. Ma femme n'est pas √† la maison, l'alcool est fini, DotA ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C'√©tait le soir, il n'y avait rien √† faire, ni comment installer Gentoo sans clavier</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447330/"><p>  <i>Une histoire humoristique bas√©e sur des √©v√©nements r√©els.</i> </p><br><p><img src="https://habrastorage.org/webt/3w/qm/rs/3wqmrsuo0rbna6-uptn-ps4suqa.jpeg" alt="Installer Gentoo"></p><br><p>  Ce fut une soir√©e ennuyeuse.  Ma femme n'est pas √† la maison, l'alcool est fini, DotA n'est pas connect√©.  Que faire dans cette situation?  Bien s√ªr, r√©cup√©rez Gentoo !!! </p><br><p>  Commen√ßons donc! </p><a name="habracut"></a><br><p>  √âl√©ments fournis <b>: un</b> ancien serveur avec 2 Go de RAM, AMD Athlon Dual, deux disques durs de 250 Go, l'un d'eux a un syst√®me et une batterie BIOS qui ne fonctionne pas.  √âgalement Sony Bravia TV avec entr√©e VGA et souris.  Ainsi qu'un routeur Wi-Fi et un ordinateur portable fonctionnel avec Manjaro Arch Linux et l'environnement i3. </p><br><p>  <b>Requiert:</b> installez Gentoo. </p><br><p>  <b>Jour 1</b> </p><br><p>  <b>21:00 Je</b> sors du placard un vieux servachek poussi√©reux.  De l√†, je re√ßois une bo√Æte avec des fils et d'autres d√©chets et une vieille t√©l√© (une armoire dans le couloir est grande, tout y va exactement).  Je fouille dans une bo√Æte, d√©m√™le les fils, r√©cup√®re un cordon de raccordement, un c√¢ble VGA, une souris, un c√¢ble d'alimentation et un jeu de tournevis (j'en ai soudainement besoin). </p><br><p>  <b>21:15</b> Je commence √† regarder tout cela et √† r√©fl√©chir √† la question: "Comment faire cela?"  Apr√®s tout, l'attribut principal pour installer Gentoo - le clavier, je ne l'avais pas! </p><br><p>  <b>21:20</b> Je pense: ¬´Et si vous retirez la vis du serveur, la branchez sur le port USB et d√©ployez le syst√®me dessus?  Pas casher, il faut r√©cup√©rer le core sur le m√™me mat√©riel ... ".  Pendant que je pensais √† cette option, j'ai r√©ussi √† retirer la vis et √† la mettre dans le support, mais quand j'ai tordu le dernier boulon dans la bo√Æte, j'ai d√©cid√© que cela ne marcherait pas! </p><br><p>  <b>21:30</b> J'ai d√©viss√© les boulons, mis la vis en place dans le serveur.  Je r√©fl√©chis plus loin: ¬´Il n'y a qu'une seule option - l'acc√®s SSH.  Peut-√™tre existe-t-il un tel LiveUSB avec sshd d√©j√† en cours d'ex√©cution? ¬ª </p><br><p>  <b>21:35 Je</b> vais sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">site officiel de Gentoo</a> .  Je t√©l√©charge l'habitude ¬´CD d'installation minimale¬ª.  Je l'annule.  Sans clavier, c'est un nombre mort!  Vous trouverez ci-dessous un lien vers l'ISO hybride (LiveDVD).  Ouais, je pense, tout y est!  Je t√©l√©charge et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©ploie sur une cl√© USB</a> . </p><br><p>  <b>21:50 J'apporte</b> le serveur, la t√©l√©, les fils, la souris de la cuisine, o√π mes pens√©es et mes pr√©paratifs ont eu lieu, dans une pi√®ce d'angle √©loign√©e.  Le serveur est bruyant comme un aspirateur industriel, donc le policier viendrait certainement le visiter!  Tous connect√©s et ont d√©marr√© la voiture. </p><br><p>  <b>22:00</b> L'OS pr√©c√©dent est en cours de chargement!  J'√©teins le serveur et commence √† penser: "La batterie est morte, vous n'avez pas besoin d'aller dans le BIOS (il n'y a pas de clavier), mais vous devez d√©marrer √† partir du lecteur flash √† tout prix!"  Je d√©monte le serveur, d√©sactive une vis.  Je d√©marre.  L'OS pr√©c√©dent est en cours de chargement!  Revissez la vis, √©teignez l'autre!  √áa marche! </p><br><p>  <b>22:10</b> Et voici l'√©cran tant attendu pour choisir l'option de d√©marrage √† partir de LiveUSB!  Le temps restant jusqu'√† la s√©lection automatique de la premi√®re option de d√©marrage s'ex√©cute, "Maintenant, tout sera, il suffit d'attendre un peu", je me r√©jouis!  Les pr√©cieuses 30 secondes passent, l'√©cran devient vierge et rien ne se passe.  "D'accord, pendant que je charge, je vais fumer ...", d√©cida de faire une pause et de faire une pause de ce bruit. </p><br><p>  <b>22:15 Je</b> rentre dans la "salle du bruit".  L'√©cran est noir et rien ne se passe non plus!  "√âtrange ...", pensai-je, "En tout cas, il aurait d√©j√† √©t√© charg√©!".  Soit dit en passant, tout est aggrav√© par le fait que ma t√©l√© ne montre pas toujours ce qui se passe √† l'√©cran, elle ne per√ßoit pas certains modes et refuse de diffuser une image de ce qui se passe ... Je red√©marre le serveur.  Je suis assis, √† regarder ... Encore un √©cran noir, tout de m√™me.  Eh bien, j'ai paniqu√© et j'ai commenc√© √† piquer sur les boutons de la souris ... Et, oh mon Dieu, il s'est allum√© et le t√©l√©chargement s'est poursuivi.  Plus tard, j'ai d√©couvert que le t√©l√©chargement ne se poursuit qu'apr√®s avoir cliqu√© sur le petit bouton de cette souris miracle!  Ne soyez pas ce bouton, Dieu sait comment se terminerait cette soir√©e!?  Apr√®s tout, l'objectif est fix√© et nous devons l'atteindre de toute fa√ßon! <br><br></p><div class="spoiler">  <b class="spoiler_title">Photo de souris</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/a_/7s/ip/a_7sip3elz7_mefafsfyviemfdo.jpeg" alt="la souris"></div></div><br><p>  <b>22:20</b> √áa r√©sonne dans mes oreilles, mais je continue d'aller vers mon objectif!  Gentoo a d√©marr√©!  Les couleurs sont agr√©ables √† l'oeil!  Une souris marche autour de l'√©cran!  Et ci-dessous, il dit "Aucun mot de passe n√©cessaire pour la connexion", c'est juste bien, car je n'ai pas de clavier!  Il y a deux champs √† l'√©cran: le choix de l'environnement de travail et du mot de passe, enfin, et le bouton de connexion.  Le LiveDVD de Gentoo offre une s√©lection assez √©tendue d'environnements, notamment Fluxbox, Openbox, rat (xfce), plasma, etc.  Option avec le choix du "rat", il me semblait, un excellent choix!  J'entre dans l'environnement de travail du "rat".  Super!  Il y a un terminal, mais pourquoi en ai-je besoin, je n'ai pas de clavier! <br><br></p><div class="spoiler">  <b class="spoiler_title">√âcran de connexion</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/37/f2/-z/37f2-ztfk37073tz0wjxidonmv8.jpeg" alt="√âcran de connexion"><img src="https://habrastorage.org/webt/n4/7b/tq/n47btq6mm-fwpqhzlxgfhlr7fus.jpeg" alt="Choix de l'environnement"></div></div><br><p>  <b>22:25</b> Je commence √† chercher une sorte de clavier √† l'√©cran ou quelque chose.  Trouv√© uniquement "Carte des personnages".  "Eh bien, g√©nial, ici, c'est ma sortie!" J'ai pens√©.  Mais √ßa y √©tait!  Vous pouvez coller le texte, copier, coller, mais comment appuyer sur <b>Entr√©e</b> !?  Permettez-moi de vous rappeler que la t√¢che consiste √† d√©marrer sshd, ce qui revient √† taper dans le terminal " <i>sudo /etc/init.d/sshd start</i> " et √† appuyer sur le bouton <b>Entr√©e</b> , ce que je n'ai pas!  Que faire?  Mais il y a un moyen! </p><br><p>  <b>22:30</b> Temps de repos du bruit.  Je vais dans la cuisine et m'assois devant l'ordinateur portable.  Tous les terminaux, si vous collez le texte copi√© avec un saut de ligne, ex√©cuteront la commande, car  percevoir le saut de ligne comme <b>Entr√©e</b> .  Alors, la solution est trouv√©e!  Vous devez t√©l√©charger la page HTML avec la commande et le fil de ligne sur Internet.  C'est du HTML, car, simple fichier texte, le navigateur s'ouvrira sur une seule ligne, "d√©vorant" toutes les transitions vers une nouvelle ligne.  Donc ma page ressemble √† ceci: <br><br></p><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span>sudo /etc/init.d/sshd start<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  "1" est n√©cessaire pour que vous puissiez copier la transition vers une nouvelle ligne, sinon une seule ligne est copi√©e, combien de "br" ne sont pas d√©finis.  Je t√©l√©charge le fichier sur un certain site en utilisant le lien " <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mydomen.ru/1.htm</a></i> ". <br><p>  <b>22:40 Je</b> rentre dans la "salle du bruit".  L'essentiel est d'avoir le temps de revenir avant d'activer l'√©conomiseur d'√©cran qui, lorsque vous quittez, indique qu'il ne laissera pas l'ancienne version dans le syst√®me avec un mot de passe vide!  J'ouvre avec impatience le succ√®s du navigateur et de la table des symboles!  Je tape " <i>mondomaine</i> ".  Vous cherchez un point ... </p><br><p>  <b>22:50 J'ai</b> trouv√© un point!  Vous devez s√©lectionner le mode d'affichage "By Unicode Block".  Je compose l'adresse plus loin, l'avantage de ¬´/¬ª et les num√©ros ont √©t√© trouv√©s avec un point!  Je copie le texte, le colle dans la barre d'adresse, clique sur go.  En raison de la batterie morte du BIOS, l'heure dans le syst√®me est r√©gl√©e sur "01.01.2002", et dans ces conditions, les certificats SSL ne fonctionnent pas! <br><br></p><div class="spoiler">  <b class="spoiler_title">Table de caract√®res</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/rr/7v/53/rr7v53bmdkemyj5ysl2e9zi5zla.jpeg" alt="Menu du mode d'affichage"><img src="https://habrastorage.org/webt/tz/id/mn/tzidmnqlvvmxwv-zvl5xvkh5fzi.jpeg" alt="Table de caract√®res"></div></div><br><p>  <b>23:00</b> Je suis dans la cuisine, au repos du bruit.  L'essentiel est de ne pas se reposer longtemps, sinon l'√©conomiseur d'√©cran s'allumera!  Je configure NGINX pour t√©l√©charger mon fichier sans HTTPS √† l'adresse " <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mydomain.ru/2.htm</a></i> ", car  l'ancienne adresse a √©t√© redirig√©e et mise en cache par le navigateur. </p><br><p>  <b>23:05</b> Je me repose un peu du bruit et dans l'attente du succ√®s, je retaper le lien, car le bouton <b>Retour arri√®re</b> ne peut pas √™tre √©mul√©!  Eh bien, c'est pour rire, mais en fait je viens d'appuyer sur la table des symboles "2", s√©lectionnez, copiez et remplacez dans la barre d'adresse.  Allez!  "Vraiment!" J'ai pens√©.  Avec fiert√©, je copie deux lignes de la page et les mets dans le terminal.  Le serveur SSH est en cours d'ex√©cution, il est temps d'essayer de vous connecter en regardant l'adresse IP dans l'interface de gestion Web sur un routeur Wi-Fi!  En fait, non, c'est trop t√¥t!  Dommage, je ne l'ai pas compris tout de suite ... </p><br><p>  <b>23:15 Je</b> reviens √† la "souris", en ajoutant une ligne √† ce <br><br></p><pre> <code class="xml hljs">sudo passwd<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span>123<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span>1</code> </pre> <br>  et mettre √† jour le fichier HTML sur le serveur.  Heureusement, rien de plus pour entrer!  Je mets √† jour la page.  Eh bien, selon l'ancien sch√©ma, je copie les lignes sur le terminal pour ex√©cuter ¬´ <i>sudo passwd</i> ¬ª et s√©par√©ment deux fois pour entrer et r√©p√©ter le mot de passe. <br><p>  <b>23:17</b> Connect√©!  Maintenant, je n'ai pas peur de l'√©conomiseur d'√©cran et du bruit! </p><br><p>  <b>01:00 A</b> propos du processus que j'ai suivi depuis le moment o√π la connexion ssh a √©t√© √©tablie et jusqu'√† pr√©sent, il existe une description d√©taill√©e dans de nombreuses sources, la plus compl√®te est pr√©sent√©e dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">manuel Gentoo</a> .  J'ai compil√© le noyau, install√© grub et le noyau assembl√© dedans.  Configurez le r√©seau et SSH sur le nouveau syst√®me.  Termin√©, <i>red√©marrez</i> ! </p><br><p>  <b>Jour 2 - jour de cong√©</b> </p><br><p>  <b>10:00 Je suis</b> retourn√© √† ma t√¢che.  Allum√© le serveur.  Rien ne se passe √† l'√©cran, il n'y a pas de serveur sur le r√©seau!  Pens√© des probl√®mes de r√©seau.  Apr√®s avoir d√©marr√© √† partir de LiveDVD, j'ai configur√© le r√©seau, mais cela n'a pas aid√© ... </p><div class="spoiler">  <b class="spoiler_title">Lors du d√©marrage du serveur, sur mon ancien t√©l√©viseur</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/bv/m-/0i/bvm-0iobgk9n1q3tpvrmkhryaw0.jpeg" alt="image"></div></div><br><p>  <b>10h30</b> D√©cid√© qu'il serait bien d'√©tudier les journaux de t√©l√©chargement.  Il n'y a pas de journaux!  "Ouais, alors il n‚Äôa pas fallu charger le syst√®me!  Mais qu'est-ce qui est √©crit sur l'√©cran? ¬ªAi-je pens√©.  Apr√®s avoir r√©fl√©chi un peu aux raisons pour lesquelles le t√©l√©viseur n'affiche rien, √©mettez l'hypoth√®se qu'il ne peut pas afficher la r√©solution dans laquelle se trouve la sortie de la console.  Sur l'√©cran, en effet, il est √©crit ... </p><br><p>  <b>11:00</b> J'ai chang√© les param√®tres de GRUB en sortie 640x480.  √áa a aid√©.  Il dit "Chargement de Linux 4.19.27-gentoo-r1 ...".  Il s'est av√©r√© qu'il a foir√© lors de l'assemblage du noyau. </p><br><p>  <b>11:30</b> Je mets genkernel, avec un r√©glage manuel du noyau que j'exp√©rimenterai plus tard.  Pas r√©gl√©!  Il s'av√®re un jambage avec une date.  Il est pr√©f√©rable de le mettre √† jour √† chaque d√©marrage, cela d√©pend beaucoup de cette date.  Je le mettrais dans le BIOS, mais pour cela, j'ai besoin d'un clavier ... Je change la date pour la date actuelle. </p><br><p>  <b>14:00</b> Hourra!  Le noyau a compil√©!  Rempli le noyau dans le chargeur de d√©marrage, red√©marr√©.  Enfin √ßa a march√©! </p><br><p>  Le premier objectif est atteint! </p><br><p>  De plus, je vais mettre le deuxi√®me disque dur CentOS √©galement sans clavier, mais d√©j√† d'un gentil!  Mais j'√©crirai √† ce sujet dans la deuxi√®me partie.  Dans la troisi√®me partie, je vais effectuer des tests de charge d'un serveur Web avec une application simple sur ces deux syst√®mes et comparer RPS. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr447330/">https://habr.com/ru/post/fr447330/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr447318/index.html">Gadgets d'un march√© aux puces: pourquoi acheter un ordinateur portable Packard Bell de 20 ans pour 10 euros</a></li>
<li><a href="../fr447322/index.html">Principes de construction d'une API REST JSON</a></li>
<li><a href="../fr447324/index.html">Comment l'ordinateur fonctionne √† l'int√©rieur de Hayabusa-2, qui a largu√© une bombe sur Ryuga. Et des photos de ses d√©veloppeurs</a></li>
<li><a href="../fr447326/index.html">Fractales en nombre irrationnel. 2e partie</a></li>
<li><a href="../fr447328/index.html">Habro suicide. La douleur de la planification en 1C</a></li>
<li><a href="../fr447334/index.html">Un exemple de strat√©gie de contenu pour la promotion d'un magasin de pi√®ces d'armes en ligne</a></li>
<li><a href="../fr447336/index.html">Surveillance des ressources du cluster Kubernetes</a></li>
<li><a href="../fr447338/index.html">Stage d'√©t√© Intel 0x7E3 en attente des √©tudiants</a></li>
<li><a href="../fr447342/index.html">Pyramides non-Mars: √©tude de la forme des amas nanocristallins sous une couche de graph√®ne</a></li>
<li><a href="../fr447344/index.html">Nouvelles fonctionnalit√©s dans Webmaster</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>