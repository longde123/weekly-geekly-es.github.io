<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👇🏾 🖕🏽 👨‍👦‍👦 Lo que se agregará a JavaScript en 2020 👩🏼‍🎨 🍤 🤸🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente, el encadenamiento opcional y el valor de atributo predeterminado ( fusión nula ) se han movido al último y cuarto paso del proceso TC39...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lo que se agregará a JavaScript en 2020</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483118/"><p>  Recientemente, el <em>encadenamiento opcional</em> y el valor de atributo predeterminado ( <em>fusión nula</em> ) se han movido al último y cuarto paso del proceso TC39. </p><br><p>  En la práctica, esto significa que estas y otras <a href="" rel="nofollow">innovaciones</a> se convertirán en parte del estándar de JavaScript ya en este 2020.  Los consideraremos en este artículo. </p><br><p> <em>Puede rastrear el soporte del navegador <a href="https://kangax.github.io/compat-table/es2016plus/" rel="nofollow">aquí</a> ("características 2020") - aprox.</em>  <em>perev.</em> </p><br><p></p><div style="text-align:center;"> <em><img src="https://habrastorage.org/getpro/habr/post_images/e8c/27f/6b0/e8c27f6b0fcf596a06a31135d937c73e.png"></em> </div><p></p><a name="habracut"></a><br><h2>  <a href="https://github.com/tc39/proposal-string-matchall" rel="nofollow">String.prototype.matchAll</a> </h2><br><p>  El uso de expresiones regulares globales o fijas, cuando necesita capturar múltiples grupos en la misma línea, puede no ser trivial. </p><br><p>  <em>String.prototype.match</em> no devuelve grupos capturados en presencia de un indicador global, y sin él solo puede obtener la primera coincidencia completa con la plantilla y su grupo. </p><br><p>  <em>Un ejemplo:</em> </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> regexp = <span class="hljs-regexp"><span class="hljs-regexp">/t(e)(st(\d?))/g</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> str = <span class="hljs-string"><span class="hljs-string">'test1test2'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> results = str.match(regexp); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(results);</code> </pre> <br><p>  <em>Resultado con bandera "g"</em> </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/528/510/9a4/5285109a434b86fd2c717aaa0353415d.png" width="492" height="68"></div>  <em>El resultado sin la bandera "g"</em> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a14/ee1/28d/a14ee128df6d5f105ade9fa42aeebe81.png" width="636" height="64"></div><br><p>  El uso de <em>String.prototype.matchAll</em> garantiza que se devuelvan todas las coincidencias y sus grupos. </p><br><p>  <em>Un ejemplo:</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> regexp = <span class="hljs-regexp"><span class="hljs-regexp">/t(e)(st(\d?))/g</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> str = <span class="hljs-string"><span class="hljs-string">'test1test2'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> array = [...str.matchAll(regexp)]; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(array);</code> </pre> <br><p>  <em>Resultado:</em> </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4dd/b2f/92a/4ddb2f92a9122b47355a04802557752f.png" width="1316" height="70"></div><br><h2>  <a href="https://github.com/tc39/proposal-bigint" rel="nofollow">BigInt</a> </h2><br><p>  Antes de <em>BigInt, el</em> valor más grande representado por <em>Number</em> era 2⁵³-1 (MAX_SAFE_INTEGER).  JavaScript ahora tendrá una primitiva que puede exceder el límite. </p><br><p>  Puede crear un <em>BigInt</em> agregando 'n' a un número o usando la función BigInt (). </p><br><p>  <em>Un ejemplo:</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bigInt = <span class="hljs-number"><span class="hljs-number">4</span></span>n <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(bigInt * bigInt)</code> </pre> <br><ul><li>  <em>BigInt</em> no <em>es</em> equivalente a <em>Number</em> , pero se puede <em>lanzar</em> a este último. </li><li>  Al realizar operaciones como la división, el resultado se redondeará al entero más cercano. </li><li>  No se puede usar con <em>Number</em> sin tipo casting. </li></ul><br><p>  <em>Intentando agregar BigInt con un número ...</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bigInt = <span class="hljs-number"><span class="hljs-number">4</span></span>n + <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(bigInt)</code> </pre> <br><p>  <em>... resulta en una excepción:</em> </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7c6/32d/078/7c632d07828092222ae6e1788e2ac62f.png" width="1176" height="98"></div><br><h2>  <a href="https://github.com/tc39/proposal-global" rel="nofollow">globalThis</a> </h2><br><p>  Acceder a objetos globales en el mundo de JavaScript siempre ha sido un dolor de cabeza.  Debe estar familiarizado con la sintaxis específica para el entorno, lo que crea dificultades innecesarias al escribir código portátil y hace que sea necesario usar algo como getGlobal. </p><br><p>  <em>Un ejemplo:</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> getGlobal = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> self !== <span class="hljs-string"><span class="hljs-string">'undefined'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> !== <span class="hljs-string"><span class="hljs-string">'undefined'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> global !== <span class="hljs-string"><span class="hljs-string">'undefined'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> global; } <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'no global object found'</span></span>); }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> globals = getGlobal();</code> </pre> <br><p>  Con el advenimiento de <em>globalThis,</em> puede dejar de pensar en el entorno y unificar los objetos globales. </p><br><p>  <em>Un ejemplo:</em> </p><br><pre> <code class="javascript hljs">globalThis.someFunction = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">'hello'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(globalThis.someFunction())</code> </pre> <br><h2>  <a href="https://github.com/tc39/proposal-promise-allSettled" rel="nofollow">Promesa.todos</a> </h2><br><p>  Supongamos que tiene algunas promesas y desea hacer algo después de que se hayan completado (no importa si tiene éxito o no).  <em>Promise.allSettled</em> es para este mismo propósito. </p><br><p>  <em>Un ejemplo:</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fulfilledPromise = <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.resolve(<span class="hljs-string"><span class="hljs-string">"success"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rejectedPromise = <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.reject(<span class="hljs-string"><span class="hljs-string">"error"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> promises = [fulfilledPromise, rejectedPromise]; <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.allSettled(promises). then(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">results</span></span></span><span class="hljs-function">) =&gt;</span></span> results.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">result</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(result)));</code> </pre> <br><p>  <em>Resultado:</em> </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/155/a78/d67/155a78d673de870c3ab4ab900cfdcf25.png" width="896" height="144"></div><br><h2>  <a href="https://github.com/tc39/proposal-dynamic-import" rel="nofollow">Importación dinámica</a> </h2><br><p>  ¿Desea cargar un módulo en tiempo de ejecución, dependiendo de una condición específica?  Ahora se puede hacer sin bibliotecas de terceros. </p><br><p>  Es suficiente llamar a la función de <em>importación</em> , que devolverá la promesa. </p><br><p>  <em>Un ejemplo:</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">"some_module"</span></span>) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">module</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.doSomething(); }) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(err.message); });</code> </pre> <br><p>  A diferencia de la importación estática, donde debe especificar el nombre del módulo explícitamente, durante la importación dinámica puede, por ejemplo, pasar una plantilla a la función. </p><br><p>  <em>Ejemplo usando una plantilla:</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${some_module}</span></span></span><span class="hljs-string">.js`</span></span>) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">module</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.doSomething(); }) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(err.message); });</code> </pre> <br><h2>  <a href="https://github.com/tc39/proposal-nullish-coalescing" rel="nofollow">Fusión nula</a> </h2><br><p>  Cuando necesita obtener un atributo o valor predeterminado, si es <em>nulo</em> o <em>no</em> está <em>definido</em> , usualmente usamos el operador '||'. </p><br><p>  <em>Antes de la fusión nula:</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = someResponse.properties.mayBeUndefined || <span class="hljs-string"><span class="hljs-string">'Response'</span></span>;</code> </pre> <br><p>  Imagine, sin embargo, que un atributo tiene un valor "falso". </p><br><p>  <em>El problema de usar '||':</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> someResponse = {<span class="hljs-attr"><span class="hljs-attr">properties</span></span>: { <span class="hljs-attr"><span class="hljs-attr">mayBeUndefined</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = someResponse.properties.mayBeUndefined || <span class="hljs-string"><span class="hljs-string">'Response'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(response)</code> </pre> <br><p>  <em>Resultado:</em> </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/254/f5e/3c8/254f5e3c8fd02963dc00ee32edf7b82a.png" width="294" height="80"></div>  Este es un comportamiento indeseable.  En este caso, necesitábamos un valor de atributo, no un valor predeterminado. <br><p>  Con <em>Nullish coalescing</em> este problema no será.  El valor predeterminado se devolverá solo para atributos <em>nulos</em> o <em>indefinidos</em> . </p><br><p>  <em>Usando la fusión nula:</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> someResponse = {<span class="hljs-attr"><span class="hljs-attr">properties</span></span>: { <span class="hljs-attr"><span class="hljs-attr">mayBeUndefined</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>}} <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = someResponse.properties.mayBeUndefined ?? <span class="hljs-string"><span class="hljs-string">'Response'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(response)</code> </pre> <br><p>  <em>Resultado:</em> <br></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4b7/88d/1ca/4b788d1cac2f7cb836511c319e3dae58.png" width="132" height="72"></div><br><h2>  <a href="https://github.com/tc39/proposal-optional-chaining" rel="nofollow">Encadenamiento opcional</a> </h2><br><p>  Para acceder al sub-atributo, debemos asegurarnos de que el atributo anterior exista.  Hasta ahora, la existencia de cada uno de los sobreatributos debe verificarse manualmente. </p><br><p>  <em>Antes del encadenamiento opcional:</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> someObj = { <span class="hljs-attr"><span class="hljs-attr">property</span></span>: <span class="hljs-string"><span class="hljs-string">'prop'</span></span>, <span class="hljs-attr"><span class="hljs-attr">otherProperty</span></span>: { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'prop2'</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> property = someObj.NotOtherProperty ? someObj.NotOtherProperty.name: <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(property);</code> </pre> <br><p>  Con el advenimiento del <em>encadenamiento opcional</em> , puede usar el operador '?.'  para acceso opcional a sub-atributos.  El siguiente código es equivalente al código anterior. </p><br><p>  <em>Usando encadenamiento opcional:</em> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> someObj = { <span class="hljs-attr"><span class="hljs-attr">property</span></span>: <span class="hljs-string"><span class="hljs-string">'prop'</span></span>, <span class="hljs-attr"><span class="hljs-attr">otherProperty</span></span>: { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'prop2'</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> property = someObj.NotOtherProperty?.name; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(property);</code> </pre> <br><p>  <em>El encadenamiento opcional</em> hace que el código sea mucho más limpio, especialmente si hay muchos atributos en la cadena. </p><br><h2>  Conclusión </h2><br><p>  Puede intentar ejecutar ejemplos de un artículo en la consola: <a href="https://kangax.github.io/compat-table/es2016plus/" rel="nofollow">algunos de ellos</a> ya <a href="https://kangax.github.io/compat-table/es2016plus/" rel="nofollow">están</a> implementados en las últimas versiones de los navegadores, es probable que otros se implementen muy pronto.  De una forma u otra, ya es posible comenzar a relacionarse con las posibilidades del artículo como parte del lenguaje 2020. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/483118/">https://habr.com/ru/post/483118/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../483094/index.html">Cómo hice realidad mi sueño cuando visité la oficina rusa de Microsoft</a></li>
<li><a href="../483110/index.html">Rostov del Don: empresas de TI, comunidades y eventos en 2019</a></li>
<li><a href="../483112/index.html">Uso de Clickhouse como reemplazo de ELK, Big Query y TimescaleDB</a></li>
<li><a href="../483114/index.html">Las ventanas modales que merecemos</a></li>
<li><a href="../483116/index.html">Hacer un tubo de telescopio en casa</a></li>
<li><a href="../483120/index.html">¿Cómo conectar tarjetas en una proyección elipsoide, si no se proporciona?</a></li>
<li><a href="../483124/index.html">El gadget más masivo en el futuro cercano (no un teléfono inteligente)</a></li>
<li><a href="../483126/index.html">Los efectos criogénicos pueden garantizar el transporte seguro de las baterías dañadas de los vehículos eléctricos.</a></li>
<li><a href="../483128/index.html">Presentación de PHP 7.4: rendimiento, características, desaprobaciones</a></li>
<li><a href="../483130/index.html">¿Qué hacer si se olvida el código para el candado de la maleta?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>