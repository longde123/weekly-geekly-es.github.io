<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì∫ ‚óæÔ∏è üõÄüèæ Station m√©t√©o de randonn√©e portable MiniBTH2 / 2M üíß üê¢ üë®‚Äçüë©‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans l' article pr√©c√©dentL'histoire de la cr√©ation et de l'exp√©rience d'utilisation de la station m√©t√©orologique de terrain miniBTH a √©t√© d√©crite. Cet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Station m√©t√©o de randonn√©e portable MiniBTH2 / 2M</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/384641/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans l' </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">article</font></a><font style="vertical-align: inherit;"> pr√©c√©dent</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'histoire de la cr√©ation et de l'exp√©rience d'utilisation de la station m√©t√©orologique de terrain miniBTH a √©t√© d√©crite. Cet instrument mesure et affiche en continu sur l'√©cran sous forme de graphique la pression atmosph√©rique, la temp√©rature et l'humidit√© actuelles. Tous les param√®tres mesur√©s sont enregistr√©s sur la carte m√©moire une fois par minute. De plus, l'appareil dispose d'un capteur de lumi√®re et les donn√©es du capteur de pression peuvent √™tre converties en hauteur barom√©trique. Gr√¢ce √† l'utilisation d'un √©cran transflectif, les lectures de l'appareil sont facilement lisibles m√™me en plein soleil, et le bo√Ætier de l'appareil est scell√©. L'exp√©rience de l'utilisation de cet appareil s'est av√©r√©e g√©n√©ralement positive, mais un certain nombre de lacunes ont √©t√© identifi√©es et examin√©es en d√©tail dans un article pr√©c√©dent, la principale √©tant le poids. Dans cet article, nous consid√©rerons l'exp√©rience de cr√©ation et de fonctionnement de la deuxi√®me version, plus pratique et fonctionnelle. Remarquequ'au moment de la r√©daction du dernier article, la deuxi√®me version de l'appareil √©tait d√©j√† tr√®s pr√™te, par cons√©quent, les principaux moyens d'y rem√©dier ont √©t√© d√©crits.</font></font><br>
<br>
<img src="https://habrastorage.org/files/e32/be3/80f/e32be380f9124532be2521ebdd13cd1a.jpg"><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nouveau design d'appareil et r√©duction de poids</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re station m√©t√©o MiniBTH a √©t√© con√ßue comme un appareil autonome, con√ßu principalement pour une utilisation en randonn√©e. </font><font style="vertical-align: inherit;">C'est pourquoi le bo√Ætier de l'instrument a √©t√© rendu √©tanche √† l'air, un √©cran transflectif a √©t√© utilis√© et la capacit√© de la batterie a √©t√© calcul√©e pour plus d'un mois de fonctionnement. </font><font style="vertical-align: inherit;">Le principal inconv√©nient de la premi√®re version, √† mon avis, √©tait beaucoup de poids, j'ai donc d√©cid√© de rendre la deuxi√®me version aussi compacte et l√©g√®re que possible. </font><font style="vertical-align: inherit;">Pour ce faire, vous devez s√©parer la carte de l'appareil de la plus petite taille possible: un peu plus grande que l'√©cran, et rendre le bo√Ætier le plus fin et le plus mur√© possible. </font><font style="vertical-align: inherit;">Les parties √©lectroniques et logicielles seront discut√©es plus loin, mais pour l'instant nous nous tournons vers la conception du bo√Ætier de la deuxi√®me version de l'appareil. </font><font style="vertical-align: inherit;">Les principales id√©es pour r√©duire la taille du bo√Ætier √©taient les suivantes:</font></font><br>
<br>
<ul>
<li>  ,       ,     .</li>
<li>    ,        .</li>
<li>    .             ,     .</li>
<li>      .</li>
<li>        .</li>
<li>    ¬´¬ª     .</li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, il a √©t√© possible de r√©concilier les id√©es propos√©es et de r√©aliser un bo√Ætier assez compact en capralon de la conception suivante: </font></font><br>
<br>
<img src="https://habrastorage.org/files/731/687/dbc/731687dbc17646cd8c8dcb8fdd33b792.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le bloc capteur est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cens√© √™tre amovible, fix√© au bo√Ætier avec deux vis, et l'√©tanch√©it√© de l'amarrage du bloc capteur et du bo√Ætier est assur√©e par un joint annulaire √† travers lequel les fils passent. L'ensemble de capteurs est utilis√© de la m√™me mani√®re que dans la premi√®re version de l'appareil - capteur de pression MS5803 et capteur d'humidit√© sht21. L'unit√© de capteur elle-m√™me est coll√©e avec du produit d'√©tanch√©it√© √† partir de deux bouchons de capralon. Entre eux se trouve une carte sur laquelle les capteurs sont mont√©s. La planche est en fibre de verre de 0,75 mm d'√©paisseur. Lors du montage de l'unit√©, pour prot√©ger le capteur d'humidit√© des vapeurs d√©gag√©es par le mastic, sa fen√™tre a √©t√© scell√©e avec du ruban adh√©sif Kapton (comme recommand√© dans la documentation).</font></font><br>
<br>
<img src="https://habrastorage.org/files/384/7c1/3e8/3847c13e8c024fb8afe48c6f04e9d792.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La conception de l'unit√© de capteur prend en compte les lacunes identifi√©es lors du fonctionnement de la premi√®re version de l'appareil. Le capteur d'humidit√© n'est pas recouvert d'un capuchon en maille SF2, mais simplement plac√© dans le logement de l'unit√©. Cela r√©sout le probl√®me de mouillage du capuchon, ce qui conduit √† un ¬´collage¬ª prolong√© des lectures d'humidit√© √† la marque maximale, et en m√™me temps, l'emplacement dans la cavit√© avec le c√¥t√© sensible au corps √©limine les dommages caus√©s par des objets externes. Une saillie suppl√©mentaire est fournie sur le bloc capteur de l'appareil version 2M pour prot√©ger le capteur d'humidit√© contre les dommages caus√©s par des objets longs et minces. Le probl√®me de la protection du capteur de pression MS5803 contre la lumi√®re directe du soleil est √©galement r√©solu au stade de la conception de l'appareil. La partie sensible du capteur est recouverte d'un capuchon en polystyr√®ne noir coll√© dans un √©videment du bo√Ætier.√âtant donn√© que le capteur est √©galement sensible √† l'√©clairage de la face arri√®re, la m√©tallisation est laiss√©e sur la carte sur le site d'installation du c√¥t√© oppos√©.</font></font><br>
<br>
<img src="https://habrastorage.org/files/cd1/a43/644/cd1a4364424f48fc9f04ed2fb7bfd4d4.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'air est acc√©d√© au capteur de pression par un canal mince (0,5 mm) entre le bo√Ætier de l'instrument et le bloc du capteur. Notez que lors du choix de cette conception du bloc de capteur, il y avait des inqui√©tudes que dans la pluie, l'eau coulerait dans un mince espace entre le bloc de capteur et le corps de l'appareil et bloquerait compl√®tement le canal d'acc√®s √† l'air directement au capteur de pression, ce qui entra√Ænerait une erreur syst√©matique dans les lectures de pression en raison de tension superficielle de l'eau. Les tests des appareils sous la pluie et sous la douche ont montr√© qu'en raison de la non mouillabilit√© du capralon, aucune fuite ne se produit √† une √©paisseur de canal de 0,5 mm. Des exp√©riences plus approfondies ont montr√© que si le bloc capteur est install√© avec une inclinaison et que l'√©paisseur du canal est ainsi r√©duite jusqu'√† ce que le bord du bloc capteur touche le bo√Ætier, de l'eau peut fuir vers le bo√Ætier de l'instrument,et conduit √† une diminution des lectures de pression d'environ 0,7 mm Hg. Si le capteur est install√© uniform√©ment, l'eau ne fuit pas.</font></font><br>
<br>
<b>   </b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä premi√®re vue, peu de choses ont chang√© √† l'ext√©rieur, mais dans sa conception, un certain nombre de nouvelles solutions techniques ont d√ª √™tre appliqu√©es. D'une part, la r√©duction du nombre de vis de serrage et l'augmentation de la distance entre elles n√©cessitent un cadre de serrage plus rigide et / ou un joint plus souple pour assurer la compression du joint sur toute sa longueur. Par contre, pour des raisons de commodit√© d'utilisation de l'appareil, il a √©t√© d√©cid√© de rendre le cadre de serrage en plastique, ce qui au contraire r√©duira sa rigidit√©. Un moyen possible de r√©soudre cette contradiction consiste √† utiliser un tampon en caoutchouc plus doux. Cette option est plus raisonnable que d'essayer de mettre des ¬´b√©quilles¬ª sous la forme d'introduire des inserts m√©talliques rigides ou des √©l√©ments √©lastiques dans la structure du cadre de serrage et d'utiliser la m√™me bande dure du magn√©tophone comme joint.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s une courte recherche sur Internet, une solution a √©t√© trouv√©e pour fabriquer soi-m√™me des joints en caoutchouc. Il existe des silicones sp√©ciales √† deux composants utilis√©es pour la fabrication de moules et de joints. La technologie pour travailler avec ces silicones se pr√©sente bri√®vement comme suit: deux composants liquides doivent √™tre m√©lang√©s ensemble, apr√®s quoi ils coulent dans le moule pendant plusieurs minutes et attendent que la composition durcisse. Apr√®s durcissement, on obtient un caoutchouc silicone tr√®s souple et doux, qui se s√©pare facilement de la forme sous laquelle il s'est solidifi√©. Il existe des gammes enti√®res de ces silicones de diff√©rents fabricants, elles diff√®rent entre elles par le type de catalyseur durcisseur utilis√© et les propri√©t√©s physico-m√©caniques et chimiques du caoutchouc r√©sultant. Toutes les silicones ont un allongement √† la rupture √©gal √† des centaines de pour cent,relativement doux, peut fonctionner √† des temp√©ratures allant jusqu'√† 200 degr√©s Celsius et relativement r√©sistant chimiquement. Les silicones avec un catalyseur au platine sont chimiquement plus stables et ont une tol√©rance alimentaire. L'une des applications typiques de ces silicones est la fabrication de moules pour la coul√©e √† partir de gypse, de ciment, de savon ou m√™me de chocolat. La deuxi√®me application typique est la fabrication de joints.</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos de la fabrication de joints en caoutchouc silicone</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans sa ville, il a trouv√© un fournisseur qui propose toute une gamme de silicones avec un catalyseur √† l'√©tain Sk-76x et du silicone platine Sk-790. </font><font style="vertical-align: inherit;">Pour les exp√©riences, j'ai achet√© deux ensembles - le silicone catalyseur au platine Sk-790 et le silicone le plus doux Sk-762, et je me suis mis √† exp√©rimenter la coul√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans mon cas, la fabrication d'un moule pour la coul√©e n'√©tait pas un probl√®me, je viens de fraiser les rainures de la forme souhait√©e dans une feuille d'acrylate de polym√©thyle. Au d√©but, il √©tait cens√© verser du silicone dans le moule et le recouvrir d'une deuxi√®me feuille plate de verre organique, en extrayant l'exc√®s de silicone. Cependant, il s'est av√©r√© que tout n'est pas si simple, et j'ai l√©g√®rement chang√© la technologie. Le principal probl√®me lors de la coul√©e de silicone est les bulles d'air. Ils se forment √† la fois lors du m√©lange des composants de d√©part et lorsque la composition est vers√©e dans un moule. L'une des m√©thodes de contr√¥le des bulles, recommand√©e par le fabricant, consiste √† placer le silicone pr√©par√© pour la coul√©e sous vide pendant plusieurs minutes avant la coul√©e. Dans le vide, toutes les bulles gonflent et √©clatent, et tout l'air en sort. Ext√©rieurement, il rappelle vaguement le lait d'emballement. Pour combattre les bullessurvenant lors de la coul√©e, vous pouvez vouer la composition apr√®s la coul√©e. Cependant, j'ai d√©cid√© de ne pas forcer mes coll√®gues qui ont une chambre √† vide et de chercher un moyen plus facile de faire des pi√®ces coul√©es sans bulles. Cela ne s'est pas av√©r√© si difficile, car toutes les bulles form√©es lors du m√©lange et de la coul√©e sont assez grandes. Apparemment, la viscosit√© du silicone emp√™che la formation de petites bulles lors de la capture de l'air ou en √©crasant les grosses bulles. Par cons√©quent, les bulles sont assez clairement visibles √† l'≈ìil, et parviennent m√™me √† flotter de quelques millim√®tres jusqu'au durcissement du silicone. Par cons√©quent, la technologie de coul√©e est cens√©e √™tre la suivante: du silicone est appliqu√© avec un exc√®s le long de la rainure du moule, et apr√®s quelques minutes, le silicone en exc√®s, ainsi que toutes les bulles, est enlev√© avec une spatule en m√©tal. Si la bulle adh√®re √† la paroi du moule,il peut √™tre retir√© √† l'aide de la m√™me omoplate. La surface sup√©rieure du remplissage devient lisse en raison de l'action de la tension superficielle et de la gravit√©. L'essentiel est d'√©liminer uniform√©ment l'exc√®s de silicone du haut du moule. Mais si vous couvrez le moulage avec un couvercle, il y a un gros risque de faire p√©n√©trer la bulle d'air dans le moule.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, le probl√®me de la fabrication de joints de toute forme a √©t√© r√©solu, ce qui a permis de choisir n'importe quelle option de conception pratique pour le capot avant. Un dilemme distinct √©tait le choix du mat√©riau pour la partie transparente du couvercle. Il existe deux types de mat√©riaux transparents √† ma disposition. L'un est le polycarbonate visqueux et flexible, qui, cependant, n'est pas tr√®s r√©sistant aux contraintes m√©caniques et n'est pas tr√®s transparent, mais a une teinte bleu√¢tre. Le second est de l'acrylate de polym√©thyle transparent mais fragile. Malgr√© le fait que du polycarbonate √©tait utilis√© dans la premi√®re version de l'appareil, dans la seconde j'ai d√©cid√© d'utiliser de l'acrylate de polym√©thyle. D'une part, il est plus transparent, ce qui am√©liore la lisibilit√© de l'√©cran sous une lumi√®re diffuse vive, d'autre part, il introduit moins d'√©carts dans les lectures des capteurs de lumi√®re. De plus, il est moins ray√© dans des conditions de fonctionnement similaires.Pour r√©duire le risque de fissuration de l'acrylate lors d'un choc frontal et am√©liorer l'apparence de l'appareil, le couvercle transparent est √©pais (5 mm) et le cadre de pression est mont√© sur un rebord frais√© sp√©cial. Le couvercle sup√©rieur de cette conception s'av√®re assez rigide et peut √™tre utilis√© √† la fois avec un joint en silicone souple Sk-762 et avec un joint plus rigide en Sk-790. Au final, j'ai d√©cid√© d'opter pour le silicone 790, car il est avec un catalyseur au platine et est chimiquement plus inerte.et peut √™tre utilis√© √† la fois avec un joint en silicone souple Sk-762 et avec un joint plus rigide de Sk-790. Au final, j'ai d√©cid√© d'opter pour le silicone 790, car il est avec un catalyseur au platine et est chimiquement plus inerte.et peut √™tre utilis√© √† la fois avec un joint en silicone souple Sk-762 et avec un joint plus rigide de Sk-790. Au final, j'ai d√©cid√© d'opter pour le silicone 790, car il est avec un catalyseur au platine et est chimiquement plus inerte.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a20/604/278/a20604278d4c4e50be78f51b7eecde27.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La possibilit√© de couler des joints de n'importe quelle forme a permis de cr√©er une trappe pour un acc√®s rapide √† SD, qui a √©t√© impl√©ment√© dans la version 2M de l'appareil. Enfin, l'id√©e de faire la trappe a pris forme assez tard, lorsque la version 2 de l'appareil a √©t√© assembl√©e et fabriqu√©e. La cr√©ation de la trappe reposait sur trois probl√®mes - comment la sceller, o√π la placer et comment la r√©parer. Le premier probl√®me est r√©solu en r√©alisant le joint de la forme souhait√©e. Le deuxi√®me probl√®me a √©galement √©t√© r√©solu, car dans l'√©videment sur le c√¥t√© inf√©rieur, il y a un endroit libre dans lequel il est pratique de cacher le couvercle faisant saillie vers l'ext√©rieur. J'ai r√©solu le troisi√®me probl√®me de la mani√®re la plus simple √† mon avis - la trappe est fix√©e avec des vis. D'une part, vous n'ouvrirez pas sans cl√©, mais par chance, il ne s'ouvrira pas non plus. Et sur les gadgets scell√©s en s√©rie, les couvercles sont √©galement souvent fix√©s avec des vis.</font></font><br>
<br>
<img src="https://habrastorage.org/files/9b1/576/58d/9b157658d7de432cae6814881aee559d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La trappe elle-m√™me est situ√©e dans la partie inf√©rieure du corps, et est un trou frais√© traversant de forme oblongue, avec une √©tape en forme de T dans la section, sur laquelle le joint est serti. √Ä l'ext√©rieur, le joint est press√© par un couvercle plat, qui est fix√© au bo√Ætier avec deux vis M3x5. L'√©paisseur de la paroi inf√©rieure du bo√Ætier est de 5 mm, la profondeur du rebord est de 2 mm, l'√©paisseur du joint non compress√© est de 2,5 mm et l'√©paisseur du couvercle est de 2 mm. Les trous dans lesquels les vis sont viss√©es ne sont pas traversants, ils sont encastr√©s dans le corps de 3,9 mm, le filetage y est coup√© presque √† toute la profondeur. Le filetage n'est pas possible sur une machine CNC √† ma disposition, il a donc √©t√© r√©alis√© √† l'aide de trois tarauds sp√©cialement aff√ªt√©s et d'un tournevis.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©tanch√©it√© du bo√Ætier fini a √©t√© test√©e par immersion dans l'eau pendant 12 heures. </font><font style="vertical-align: inherit;">Du papier filtre a √©t√© utilis√© pour d√©tecter d'√©ventuelles fuites. </font><font style="vertical-align: inherit;">Les enceintes √©taient herm√©tiques. </font><font style="vertical-align: inherit;">Pour √©viter la condensation de l'eau √† l'int√©rieur du bo√Ætier √† basse temp√©rature, un sac en tissu avec du gel de silice est plac√© dans le volume libre pr√®s de la batterie. </font><font style="vertical-align: inherit;">Des tests et des op√©rations suppl√©mentaires ont montr√© que la condensation dans le bo√Ætier ne se forme pas.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A propos du d√©veloppement de la partie √©lectronique</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La partie √©lectronique de la deuxi√®me version de l'appareil en termes de solutions utilis√©es est tr√®s similaire √† la premi√®re version. </font><font style="vertical-align: inherit;">Le microcontr√¥leur ATmega1284p fonctionnant √† une fr√©quence de 8 MHz est utilis√© comme processeur principal.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/878/13e/3f3/87813e3f3d8147a382fab117e5e6892e.gif"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les capteurs DS1337 et les horloges en temps r√©el y sont connect√©s via le bus I2C. Un signal suppl√©mentaire d'une fr√©quence de 1 Hz est connect√© √† une entr√©e s√©par√©e du microcontr√¥leur du processeur. Cela vous permet d'utiliser les modes veille avec l'horloge principale arr√™t√©e pour une meilleure efficacit√© √©nerg√©tique. La batterie est charg√©e √† l'aide du contr√¥leur max1879 avec une cl√© externe, mais maintenant elle est directement connect√©e au chargeur via des presse-√©toupes. Pour indiquer le courant de charge, un circuit de mesure de courant est introduit sur l'amplificateur op√©rationnel TS321, qui est compl√®tement similaire √† celui utilis√© dans la premi√®re version de l'appareil. L'√©cran et la carte SD sont connect√©s au contr√¥leur via le m√™me bus SPI, mais maintenant le circuit offre la possibilit√© de couper l'alimentation de la carte SD lorsqu'elle n'est pas utilis√©e.Les boutons tactiles des d√©tecteurs de phase sont similaires √† ceux utilis√©s sur la premi√®re version de l'appareil.</font></font><br>
<br>
<img src="https://habrastorage.org/files/41f/896/8f1/41f8968f1a724007bedfe025b6226a3b.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les plaques des boutons tactiles sont plac√©es sur le panneau lat√©ral de l'appareil, et le fraisage est effectu√© au-dessus d'eux pour une recherche aveugle facile. </font><font style="vertical-align: inherit;">Il y a encore trois boutons, celui du haut est conventionnellement appel√© "Input", celui du milieu est "-", et celui du bas est "+". </font><font style="vertical-align: inherit;">Presque tous les d√©tails de l'appareil ont pu √™tre plac√©s sur une carte de 59x41 mm aux bords arrondis. </font><font style="vertical-align: inherit;">Seuls les sapressors protecteurs et les bobines L2-L3 sont mont√©s directement sur les vis - entr√©es herm√©tiques. </font></font><br>
<br>
<img src="https://habrastorage.org/files/80b/bdc/33b/80bbdc33b7ca4ce981616b24365ab203.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les capteurs de lumi√®re sont plac√©s sur un panneau mince s√©par√© situ√© au-dessus de l'√©cran. </font><font style="vertical-align: inherit;">La taille de la carte est choisie de sorte que, une fois assembl√©, l'√©cran couvre presque tout le devant de la carte. </font></font><br>
<br>
<img src="https://habrastorage.org/files/93b/09a/1e9/93b09a1e932c40498eb7ad209d50f24e.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour donner √† l'appareil une apparence plus esth√©tique, une superposition d√©corative a √©t√© r√©alis√©e couvrant tout sauf la partie fonctionnelle de l'√©cran et les capteurs de lumi√®re.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos de l'interface de l'appareil et du d√©veloppement logiciel</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, il convient de noter que le projet de la deuxi√®me version de l'appareil a √©t√© transf√©r√© d'Arduino √† AVR Studio. Cela a √©t√© fait car il n'y a aucun avantage r√©el d'Arduino, √† l'exception d'un micrologiciel rapide via le chargeur de d√©marrage et l'UART, mais il y a des probl√®mes avec le chien de garde, l'√©conomie d'√©nergie et quelques petites choses. La situation est encore aggrav√©e par le fait qu'il n'y a pas de plate-forme Arduino standard sur l'ATmega1284p, donc il y avait un choix - soit terminer l'IDE Arduino et le chargeur de d√©marrage, soit transf√©rer le projet vers AVR Studio. Afin de ne pas trop interf√©rer avec le travail de la biblioth√®que SDFATlib utilis√©e, j'ai laiss√© la partie du noyau Arduino dans le projet li√©e √† l'initialisation, en travaillant avec le temporisateur et les lignes d'entr√©e / sortie. Cependant, j'ai d√ª apporter des modifications √† la biblioth√®que SDFATlib, et cela est d√ª √† un changement de polarit√© du signal SCK lors de l'utilisation du circuit de d√©connexion de la carte SD.Soit dit en passant, SDFATlib peut fonctionner √† la fois avec la biblioth√®que SPI h√©rit√©e d'arduino et avec la sienne. Dans mon projet, SDFATlib est configur√© pour fonctionner avec SPI via sa propre biblioth√®que pour AVR (√† propos, c'est sa configuration standard, bien qu'il soit possible de travailler via des biblioth√®ques Arduino).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une diff√©rence importante entre la deuxi√®me version de l'appareil est l'√©conomie d'√©nergie. √âtant donn√© que l'√©cran couleur inclus consomme environ 3 mA en mode actif, le principal moyen d'√©conomiser de l'√©nergie est de mettre l'√©cran en mode veille apr√®s un certain temps d'inactivit√© de l'appareil. L'√©cran est allum√© par la m√™me combinaison de boutons ¬´initiateurs¬ª, qui a √©t√© utilis√©e pour allumer le r√©tro-√©clairage dans la premi√®re version de l'appareil - en maintenant les boutons extr√™mes, avec la moyenne lib√©r√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque l'√©cran est allum√©, les capteurs et les boutons tactiles sont interrog√©s avec une p√©riode du cycle principal d'environ 200 ms, avec la m√™me p√©riode interrog√©e, et certains √©l√©ments d'affichage, tels que l'√©tat des boutons et l'heure, sont mis √† jour. Les informations affich√©es des capteurs sont mises √† jour avec une p√©riode deux fois plus longue, environ une fois tous les 400 ms. Cette p√©riode, √† mon avis, est optimale, car avec une p√©riode de mise √† jour plus courte, les nombres changeants sont difficiles √† lire, et avec une plus longue, le retard dans les lectures sera perceptible. La fr√©quence d'interrogation de tous les capteurs a √©t√© sp√©cialement s√©lectionn√©e deux fois plus √©lev√©e que la fr√©quence de rafra√Æchissement de l'affichage, car deux param√®tres mesur√©s sont lus √† tour de r√¥le par les capteurs de pression et d'humidit√©: lors d'une interrogation, la temp√©rature, lors de l'interrogation suivante - pression ou humidit√©. Pendant tout le temps "libre" du cycle principal, le processeur est en mode de r√©duction du bruit ADC,mesurer le courant de la batterie. Par cons√©quent, lorsque l'√©cran est allum√©, l'appareil consomme environ 6 mA.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque l'√©cran est √©teint, la mise √† jour de l'affichage n'est pas n√©cessaire, les capteurs et les boutons sont donc interrog√©s moins fr√©quemment, une fois tous les 500 ms, et le processeur passe tout son temps libre en mode hors tension. Le mode de mise hors tension est quitt√© par interruption de l'interruption de changement de broche de l'horloge en temps r√©el. Dans ce cas, les donn√©es moyennes de tous les capteurs sont enregistr√©es sur la carte m√©moire une fois par minute, quel que soit le mode d'√©cran. Pour r√©duire la consommation d'√©nergie, toute la p√©riph√©rie du microcontr√¥leur est allum√©e imm√©diatement avant utilisation via les registres PRR et d√©sactiv√©e apr√®s utilisation. Le courant consomm√© par l'appareil avec l'√©cran √©teint est en moyenne d'environ 250 ŒºA, dont environ 100 ŒºA tombent sur l'√©cran en mode veille, et le reste est principalement sur le microcontr√¥leur. Dans ce cas, une diminution de la fr√©quence des sondages ne r√©duit pratiquement pas la consommation de courant,car une part importante de l'√©nergie est consomm√©e lors de l'interrogation des boutons tactiles. Il convient de noter que le type d'horloge utilis√© affecte √©galement la consommation d'√©nergie. Ainsi, lorsque vous synchronisez le microcontr√¥leur √† partir de l'oscillateur RC int√©gr√©, la consommation de courant en mode hors √©cran est l√©g√®rement inf√©rieure √† celle lors de l'utilisation de quartz externe. √âvidemment, cela est d√ª √† un d√©marrage plus rapide et √† une capacit√© de dissipation moins importante de l'oscillateur RC. En cons√©quence, comme dans cette version de l'appareil, il n'y a pas d'exigences particuli√®res pour la stabilit√© de la fr√©quence d'horloge du microcontr√¥leur, dans la version finale de l'appareil, l'oscillateur RC int√©gr√© est utilis√© comme g√©n√©rateur d'horloge (bien qu'il y ait une place pour le quartz sur la carte).que le type d'horloge utilis√© affecte √©galement la consommation d'√©nergie. Ainsi, lorsque vous synchronisez le microcontr√¥leur √† partir de l'oscillateur RC int√©gr√©, la consommation de courant en mode hors √©cran est l√©g√®rement inf√©rieure √† celle lors de l'utilisation de quartz externe. √âvidemment, cela est d√ª √† un d√©marrage plus rapide et √† une capacit√© de dissipation moins importante de l'oscillateur RC. En cons√©quence, comme dans cette version de l'appareil, il n'y a pas d'exigences particuli√®res pour la stabilit√© de la fr√©quence d'horloge du microcontr√¥leur, dans la version finale de l'appareil, l'oscillateur RC int√©gr√© est utilis√© comme g√©n√©rateur d'horloge (bien qu'il y ait une place pour le quartz sur la carte).que le type d'horloge utilis√© affecte √©galement la consommation d'√©nergie. Ainsi, lorsque vous synchronisez le microcontr√¥leur √† partir de l'oscillateur RC int√©gr√©, la consommation de courant en mode hors √©cran est l√©g√®rement inf√©rieure √† celle lors de l'utilisation de quartz externe. √âvidemment, cela est d√ª √† un d√©marrage plus rapide et √† une capacit√© de dissipation moins importante de l'oscillateur RC. En cons√©quence, comme dans cette version de l'appareil, il n'y a pas d'exigences particuli√®res pour la stabilit√© de la fr√©quence d'horloge du microcontr√¥leur, dans la version finale de l'appareil, l'oscillateur RC int√©gr√© est utilis√© comme g√©n√©rateur d'horloge (bien qu'il y ait une place pour le quartz sur la carte).cela est d√ª √† un d√©marrage plus rapide et √† une capacit√© de dissipation moins importante de l'oscillateur RC. En cons√©quence, comme dans cette version de l'appareil, il n'y a pas d'exigences particuli√®res pour la stabilit√© de la fr√©quence d'horloge du microcontr√¥leur, dans la version finale de l'appareil, l'oscillateur RC int√©gr√© est utilis√© comme g√©n√©rateur d'horloge (bien qu'il y ait une place pour le quartz sur la carte).cela est d√ª √† un d√©marrage plus rapide et √† une capacit√© de dissipation moins importante de l'oscillateur RC. En cons√©quence, comme dans cette version de l'appareil, il n'y a pas d'exigences particuli√®res pour la stabilit√© de la fr√©quence d'horloge du microcontr√¥leur, dans la version finale de l'appareil, l'oscillateur RC int√©gr√© est utilis√© comme g√©n√©rateur d'horloge (bien qu'il y ait une place pour le quartz sur la carte).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des modifications importantes ont affect√© les modes d'affichage des informations, toutes les lacunes identifi√©es lors de l'utilisation de la premi√®re version de l'appareil ont √©t√© prises en compte et les modifications correspondantes ont √©t√© apport√©es au programme. Il existe maintenant 4 modes d'affichage de donn√©es diff√©rents (le mode d'affichage se r√©f√®re √† l'apparence de l'√©cran principal), le basculement entre ceux-ci √©tant effectu√© par le bouton Entr√©e. </font></font><br>
<br>
<img src="https://habrastorage.org/files/466/e4c/d49/466e4cd4995e436d904c74adf2bc4d50.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Premier √©cran</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est utilis√© pour afficher l'historique des changements dans les donn√©es m√©t√©orologiques sous forme de graphiques, ainsi que les lectures actuelles des capteurs, la date et l'heure. √Ä premi√®re vue, il peut sembler que pratiquement rien n'a chang√© ici depuis la premi√®re version de l'appareil, mais en fait ce n'est pas le cas. D√©sormais, l'appareil se souvient de la temp√©rature, de l'humidit√© et de la pression toutes les deux minutes et stocke les donn√©es des 4 derniers jours dans la RAM - un total de 2880 lectures. Toutes ces donn√©es sont disponibles pour visualisation, √† diff√©rentes √©chelles de temps. Par d√©faut, les derni√®res donn√©es sont affich√©es √† l'√©cran, cependant, maintenir le bouton ¬´-¬ª vous permet de passer en mode de rembobinage, puis d'utiliser les boutons ¬´+¬ª et ¬´-¬ª pour vous d√©placer d'avant en arri√®re le long de l'axe du temps. Quittez le mode de rembobinage en appuyant sur le bouton ¬´enter¬ª. La mise √† l'heure des balances s'effectue par le bouton ¬´+¬ª. La version finale du firmware propose 4 √©chelles de temps:</font></font><br>
<ul>
<li>2/ (3.2    ).</li>
<li>6/ (9.6    ).</li>
<li>10/ (16    ).</li>
<li>30/ (48    ).</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En principe, toutes les autres options d'√©chelle qui sont des multiples de 2 minutes sont √©galement possibles. Maintenant, lors de la construction de graphiques, diverses interpr√©tations des donn√©es m√©t√©orologiques sont possibles. La pression peut √™tre affich√©e directement ou convertie en hauteur barom√©trique par rapport √† un point avec une pression de r√©f√©rence donn√©e. Dans le premier cas, l'√©chelle de droite est gradu√©e en millim√®tres de mercure et dans le second cas, en m√®tres. L'humidit√© peut √©galement √™tre affich√©e directement (remplissage bleu) ou recalcul√©e au point de ros√©e, puis en plus de la courbe de temp√©rature, une courbe de point de ros√©e (framboise) est √©galement affich√©e. Le mode d'affichage de la pression et de l'humidit√© bascule sur le deuxi√®me √©cran. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deuxi√®me √©cran</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, comme dans la premi√®re version, est r√©serv√© √† l'affichage de toutes les informations sur l'√©tat actuel de l'appareil et des capteurs. Voici les param√®tres affich√©s tels que la tension de la batterie, le courant de charge, les lectures actuelles des capteurs principaux, la pression d'altitude z√©ro, l'heure, la date. La derni√®re ligne montre le r√©sultat de la derni√®re tentative d'√©criture sur la carte SD, et la version actuelle de l'interpr√©tation des donn√©es m√©t√©orologiques sur les graphiques. Sur cet √©cran, √† l'aide des boutons ¬´+¬ª et ¬´-¬ª, vous pouvez changer l'interpr√©tation des donn√©es m√©t√©orologiques et, en appuyant sur la s√©quence de d√©marrage, entrer dans le mode de r√©glage de l'horloge. Comme pour la carte SD, le r√©sultat du dernier appel est affich√©. Si l'enregistrement a r√©ussi, le nombre d'octets enregistr√©s lors du dernier acc√®s est affich√©, si une erreur se produit, ¬´Err¬ª s'affiche et si la carte n'√©tait pas dans le lecteur de carte, ¬´---¬ª s'affiche. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Troisi√®me √©cran</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Con√ßu pour r√©gler la pression de r√©f√©rence d'un altim√®tre barom√©trique. La premi√®re ligne indique la pression de r√©f√©rence actuelle et la hauteur barom√©trique correspondante. La pression atmosph√©rique actuelle est indiqu√©e ci-dessous. Ce qui suit est un tableau de l'historique des pressions de r√©f√©rence avec la date et l'heure de leur installation, la derni√®re ligne montre la date et l'heure. La pression de r√©f√©rence est modifi√©e √† l'aide des boutons ¬´+¬ª et ¬´-¬ª, et elle est automatiquement ajout√©e √† la table d'historique si, lors du passage √† l'√©cran suivant, la pression de r√©f√©rence actuelle d√©finie est diff√©rente de la derni√®re valeur historique. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quatri√®me √©cran</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est destin√© √† un affichage d√©taill√© des donn√©es fournies par le capteur de lumi√®re RGB max44008. Les cinq premi√®res lignes montrent l'√©clairage actuel des canaux sous forme num√©rique et graphique, suivi des coordonn√©es de couleur estim√©es et de la temp√©rature de couleur de la lumi√®re incidente. Ceci est suivi d'une ligne avec deux lectures dans les suites. Le nombre de gauche se r√©f√®re au capteur de courant max44008, le droit - √† max44009. Les quatre derni√®res lignes co√Øncident compl√®tement avec celles du premier √©cran. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctionnement du r√©tro√©clairage</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l√©g√®rement chang√© par rapport √† la premi√®re version de l'appareil, car le mode de fonctionnement de l'√©cran a chang√©. Le r√©tro-√©clairage est toujours activ√© par la combinaison initiale de boutons (comme l'√©cran), et si l'√©clairage est inf√©rieur √† 100 lux lorsque l'√©cran est allum√©, le r√©tro-√©clairage s'allume avec l'√©cran. Au moment de la mise sous tension, la minuterie de d√©sactivation du r√©tro√©clairage est r√©gl√©e pour une p√©riode s√©lectionn√©e de 40 secondes. Toute pression sur le bouton avec le r√©tro√©clairage activ√© r√®gle la minuterie de mise en veille sur au moins une autre p√©riode d√©finie sur 12 secondes. Avant d'allumer le r√©tro√©clairage, toutes les lectures des capteurs de lumi√®re sont m√©moris√©es et pendant la p√©riode initiale de r√©tro√©clairage br√ªlant pendant environ 7 secondes, ce sont les lectures stock√©es des capteurs de lumi√®re qui sont affich√©es sur tous les √©crans, tandis que l'arri√®re-plan du texte affich√© passe du blanc au vert.Gr√¢ce √† la m√©morisation des lectures, l'appareil peut afficher un faible √©clairage non d√©form√© par l'√©clairage des capteurs avec son propre √©cran. Sur tous les √©crans sauf le second, le fait d'appuyer sur la combinaison de d√©marrage lorsque le r√©tro√©clairage est allum√© entra√Æne la d√©sactivation du r√©tro√©clairage. Sur le deuxi√®me √©cran, cette combinaison active le mode de r√©glage de l'horloge.</font></font><br>
<br>
<b>   ,</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en particulier sur max44008 vaut la peine de parler s√©par√©ment. Ce capteur a √©t√© ajout√© dans la version de l'instrument 2M, afin d'√©largir la plage de fonctionnement du luxom√®tre de la station m√©t√©o dans la zone de faible luminosit√©. La sensibilit√© maximale du capteur max44009 h√©rit√© de la premi√®re version de l'appareil est de 45 millilux / compte, ce qui est tout √† fait suffisant pour mesurer l'√©clairage au cr√©puscule, mais pas assez pour mesurer l'√©clairage sur une nuit au clair de lune et sans lune. Bien s√ªr, la mesure de l'√©clairage n'est pas la t√¢che principale de ma station m√©t√©o, mais comme il y a un luxom√®tre dans l'appareil, et parfois vous devez vous d√©placer la nuit lorsque vous voyagez, je veux avoir un outil qui montrera √† quel point la nuit est sombre. Par cons√©quent, le capteur le plus sensible a √©t√© s√©lectionn√©, similaire √† celui utilis√© dans les versions ant√©rieures de max44009.Le capteur poss√®de six canaux pour mesurer l'√©clairage dans diff√©rentes plages et un canal pour mesurer la temp√©rature. Nous avons d√©j√† suffisamment de capteurs de temp√©rature dans l'appareil, de sorte que l'appareil interroge uniquement six canaux optiques - visible (clair), rouge (rouge), vert (vert), bleu (bleu), infrarouge (IR) et compensation (IRcomp). Les cinq premiers canaux sont con√ßus pour mesurer l'illumination dans diff√©rentes parties du spectre, et le sixi√®me est con√ßu pour compenser l'illumination infrarouge des canaux visibles. Le r√©glage de param√®tres tels que le gain (essentiellement la sensibilit√©) et le temps d'accumulation du signal (affecte √©galement la sensibilit√© et la pr√©cision des mesures) n'est possible que pour tous les canaux √† la fois, et uniquement de l'ext√©rieur. La possibilit√© de s√©lectionner automatiquement ces param√®tres par le capteur lui-m√™me n'est pas fournie, et contrairement au max44009,la sensibilit√© doit √™tre ajust√©e √† partir du programme. Selon la documentation du capteur, les valeurs initiales fournies peuvent √™tre converties en puissance du flux lumineux par unit√© de surface en milliwatts par centim√®tre carr√©. Des courbes (en fait des lignes droites) pour convertir la sortie en suites pour des sources telles qu'une lampe √† incandescence et une lampe fluorescente y sont √©galement affich√©es. J'ai effectu√© mon √©talonnage en comparant les lectures de max44009 et du nouveau max44008, en utilisant la lumi√®re solaire diffuse, la lumi√®re d'une lampe fluorescente, une lampe LED et j'ai fait la moyenne des lectures comme source. En cons√©quence, j'ai obtenu des valeurs similaires pour les facteurs de conversion. Par cons√©quent, la sensibilit√© de max44008 est d'environ 1,4 milliuks par lecture dans la plage la plus sensible, ce qui repr√©sente un ordre de grandeur et demi mieux que max44009.La valeur finale des lectures du luxom√®tre est form√©e par des donn√©es d'assemblage lin√©aire du max44009 √† faible sensibilit√© et du max44008 sensible dans la plage de 5 √† 10 lux. Le calcul des coordonn√©es de couleur et de la temp√©rature de couleur est mis en ≈ìuvre conform√©ment √† la documentation, simplement parce qu'il existe une telle possibilit√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une √©tude distincte m√©rite la question de la pr√©cision des capteurs de lumi√®re et l'effet de l'√©clairage IR sur la fiabilit√© des lectures. La racine du probl√®me r√©side dans le fait que les √©l√©ments photosensibles des capteurs max4400x (ainsi que de nombreuses autres photodiodes et capteurs int√©gr√©s, matrices de cam√©ras et cam√©ras vid√©o et autres appareils) sont fabriqu√©s √† base de silicium. De par leur nature physique, ces √©l√©ments photosensibles enregistrent le rayonnement √©lectromagn√©tique d'une longue longueur d'onde, plus courte qu'une certaine limite d√©termin√©e par la bande interdite. Pour le silicium, cette longueur d'onde ultime est d'environ 1100 nm. Dans le m√™me temps, l'≈ìil humain est compl√®tement insensible aux rayonnements √©lectromagn√©tiques avec une longueur d'onde sup√©rieure √† 800 nm. Par cons√©quent, un rayonnement d'une longueur d'onde sup√©rieure √† 800 nm (g√©n√©ralement 800-1400 nm) est appel√© proche infrarouge.Il y a beaucoup de ce rayonnement dans les spectres d'√©mission des corps chauff√©s, tels que les lampes √† incandescence, les lampes √† arc ou le soleil. Et ce rayonnement est pratiquement absent dans le spectre des LED blanches et des lampes fluorescentes. En r√®gle g√©n√©rale, les √©l√©ments photosensibles sont recouverts sur le dessus de filtres sp√©ciaux qui rapprochent leur courbe de sensibilit√© de ce qui est requis dans une application particuli√®re. Un tel filtre peut att√©nuer le rayonnement infrarouge proche de plusieurs ordres de grandeur, mais ne le coupe pas compl√®tement. Dans le m√™me temps, il reste un probl√®me li√© au fait que l'≈ìil humain ne voit pas du tout dans le proche infrarouge, et l'appareil, qui devrait mesurer le flux de lumi√®re visible, l'enregistre au moins un peu. Il existe plusieurs fa√ßons de r√©soudre ce probl√®me. Ainsi, dans les appareils photo num√©riques ou les cam√©ras vid√©o, un filtre multicouche sp√©cial est plac√© devant la matrice,qui att√©nue le rayonnement proche infrarouge d'environ 3 ordres de grandeur. Les capteurs max4400x utilisent une solution diff√©rente - l'utilisation d'un canal de ¬´compensation¬ª suppl√©mentaire. Plusieurs photodiodes avec diff√©rents filtres sont install√©es dans le capteur, avec approximativement la m√™me transmission dans le proche infrarouge, et l'illumination totale dans le visible est d√©termin√©e comme la diff√©rence de mesures de deux photodiodes. Dans notre cas, le capteur max44009 effectue automatiquement la compensation, et le capteur max44008 ne fournit que les donn√©es du canal de mesure, et l'utilisateur doit effectuer lui-m√™me la compensation en soustrayant les valeurs lues les unes des autres.avec approximativement la m√™me transmittance dans le proche infrarouge, et l'illumination r√©sultante dans le visible est d√©termin√©e comme la diff√©rence de mesures de deux photodiodes. Dans notre cas, le capteur max44009 effectue automatiquement la compensation, et le capteur max44008 ne fournit que les donn√©es du canal de mesure, et l'utilisateur doit effectuer la compensation en soustrayant les valeurs lues les unes des autres.avec approximativement la m√™me transmittance dans le proche infrarouge, et l'illumination totale dans le visible est d√©termin√©e comme la diff√©rence de mesures de deux photodiodes. Dans notre cas, le capteur max44009 effectue automatiquement la compensation, et le capteur max44008 ne fournit que les donn√©es du canal de mesure, et l'utilisateur doit effectuer la compensation en soustrayant les valeurs lues les unes des autres.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour v√©rifier l'ad√©quation de la compensation IR, j'ai men√© plusieurs exp√©riences simples. La premi√®re consiste √† √©tudier l'effet de l'√©clairage IR d'une LED IR avec une longueur d'onde de 880 nm de rayonnement sur les lectures des deux capteurs. Les lectures des canaux ont √©t√© compar√©es lorsque la source de rayonnement infrarouge a √©t√© allum√©e et √©teinte et que les conditions d'√©clairage n'ont pas chang√©. L'exp√©rience a montr√© que la compensation IR fonctionne mieux dans le canal clair du capteur max44008. Lorsque l'√©clairage infrarouge d√©passe la lumi√®re visible en intensit√© d'environ un ordre de grandeur, l'erreur du canal clair compens√© n'est pas sup√©rieure √† 10%, et le capteur max44009 donne des lectures tr√®s sous-estim√©es sous un tel √©clairage (il y a surcompensation). Mais les lectures des canaux de couleur du capteur RVB sous √©clairage IR commencent √† "flotter" et dans des directions diff√©rentes.Une autre bizarrerie a √©t√© trouv√©e dans le fonctionnement de ce capteur - sauts dans les valeurs mesur√©es r√©elles lors de la commutation du gain PGA de 16 √† 256 dans le canal ircomp.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxi√®me exp√©rience consistait √† v√©rifier l'exactitude de la mesure de la temp√©rature de couleur en utilisant diverses sources avec une temp√©rature de couleur connue. √âtant donn√© que je n'ai pas de colorim√®tre pr√©cis pour la v√©rification, je peux conclure que le max44008 montre des r√©sultats plus ou moins ad√©quats pour des sources telles que les LED et les lampes fluorescentes.Cependant, les r√©sultats des mesures pour les lampes √† incandescence qui br√ªlent √† la fois en pleine lumi√®re et sous l'√©clat sont absolument peu fiable en raison de l'√©clairage infrarouge. Il convient de mentionner que lors de l'utilisation d'une lampe pr√©chauff√©e comme source de rayonnement infrarouge, la surcompensation du capteur max44009 est toujours perceptible.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il convient de mentionner un autre inconv√©nient du capteur max44008 - le courant d'obscurit√©. Ainsi, √† des temp√©ratures inf√©rieures √† 15 degr√©s Celsius dans l'obscurit√© absolue, les lectures du capteur de max 44008 sont nulles, cependant, avec l'augmentation de la temp√©rature, le courant d'obscurit√© augmente fortement. √Ä une temp√©rature de 18 degr√©s, c'est 1 compte, 20 degr√©s d√©j√† 2 comptes, et √† 30 degr√©s d√©j√† 7 comptes. Il est probable que le capteur puisse √™tre calibr√© pour compenser thermiquement le courant d'obscurit√©, mais je n'ai pas r√©solu ce probl√®me car j'ai d√©tect√© une augmentation notable du courant d'obscurit√© uniquement lorsque j'ai analys√© le journal de donn√©es du voyage en Car√©lie, plus pr√©cis√©ment cette partie lorsque l'appareil √©tait emball√© dans un sac et un sac sous pression. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos de la charge de la batterie.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme le montre le diagramme, un contr√¥leur max1879 s√©par√© g√®re la charge de la batterie, et le processeur et le programme ex√©cut√© dessus ne peuvent mesurer que la tension sur la batterie et le courant de charge via les circuits correspondants. Cependant, un certain nombre de mesures ont √©t√© prises pour que l'appareil puisse se charger et s'allumer normalement, m√™me si la batterie est compl√®tement charg√©e. Le projet utilise maintenant le chien de garde et le fusible WDTON clignote, ce qui garantit que le chien de garde d√©marre automatiquement lorsque le contr√¥leur est r√©initialis√©. Le seuil de coupure est r√©gl√© sur 1,8 V, la source d'horloge est l'oscillateur RC int√©gr√© et le fusible CKDIV8 clignote √©galement. Pour que le chien de garde inclus ne provoque pas de red√©marrage cyclique, √† l'aide de __attribute __ ((section (". Init3"))), la r√©initialisation du chien de garde pour la p√©riode de quatre secondes est int√©gr√©e √† l'initialisation du contr√¥leur.Gr√¢ce au CKDIV8 install√©, le contr√¥leur d√©marre √† une fr√©quence de 1 MHz, ce qui est possible √† des tensions de 1,8 V. Apr√®s l'initialisation du contr√¥leur principal v√©rifie la tension sur la batterie. Si elle est inf√©rieure au seuil d√©fini (2,7 V), un message sur la d√©charge de la batterie et la valeur de tension sur la batterie s'affiche √† l'√©cran, apr√®s quoi le contr√¥leur attend environ 500 ms, √©teint l'√©cran et se met hors tension jusqu'√† ce qu'il soit r√©initialis√© par le chien de garde. Si la tension est sup√©rieure au seuil, le programme commute la fr√©quence d'horloge √† 8 MHz via le registre CLKPR et est initialis√© en mode normal. Par mesure de pr√©caution suppl√©mentaire, l'enregistrement sur une carte microSD ne se produit que si la tension sur la batterie est sup√©rieure √† un certain seuil s√©lectionn√© √† 3,2 V. En cons√©quence, m√™me avec une d√©charge profonde de la batterie, l'appareil continue de fonctionner en mode normal, alors que cela est possible.En raison du blocage de l'enregistrement sur la carte, une d√©faillance de la carte pendant l'enregistrement est exclue. Si pendant une d√©charge profonde, la tension chute tellement que le processeur se fige (l'exp√©rience a montr√© que cela se produit √† une tension d'environ 2,3 V), un chien de garde sera r√©initialis√© et l'appareil entrera dans un cycle sans fin compos√© de red√©marrages et d'une indication √† court terme ¬´la batterie est faible¬ª. Si la d√©charge est encore plus profonde, l'appareil s'√©teint via DBO. Lorsqu'il est connect√© √† la charge, tout se passe dans l'ordre inverse. Le contr√¥leur max1879 charge une batterie profond√©ment d√©charg√©e avec un faible courant de 8mA. Lorsque la tension de la batterie d√©passe environ 2 V, le microcontr√¥leur se r√©initialise par DBO et affiche le message ¬´batterie faible¬ª clignotant toutes les 4 secondes. Dans ce cas, la consommation de courant moyenne ne d√©passe pas 1 mA et la charge continuera. Lorsque la tension de la batterie atteint 2,5 V,il y aura une transition vers une charge √† pleine intensit√© et √† 2,7 V, l'appareil s'allumera normalement. Une telle solution, √† mon avis, offre de meilleures performances et une meilleure indication lorsque la batterie est profond√©ment d√©charg√©e et une sortie stable de la d√©charge profonde. Mais si vous d√©finissez le seuil de DBO sur 2,7 V, de fausses alarmes accidentelles sont possibles dans des circonstances d√©favorables (le seuil de DBO maximal est trop proche de la tension de sortie minimale du stabilisateur).des fausses alarmes accidentelles sont possibles dans des circonstances d√©favorables (le seuil de DBO maximum est trop proche de la tension de sortie minimale du stabilisateur).des fausses alarmes accidentelles sont possibles dans des circonstances d√©favorables (le seuil de DBO maximum est trop proche de la tension de sortie minimale du stabilisateur).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'indication standard d'une batterie faible sous la forme de lettres clignotantes "LB" a un seuil de d√©clenchement de 3,65 V, ce qui correspond √† environ 20% de la charge restante de la batterie, c'est-√†-dire que l'appareil peut fonctionner pendant environ un mois apr√®s avoir activ√© l'indication de la n√©cessit√© d'une charge. Par cons√©quent, il est tr√®s difficile de manquer le moment o√π vous devez charger l'appareil, si du moins parfois de regarder ses lectures. Pour cette raison, j'ai d√©cid√© qu'une indication plus ennuyeuse d'une batterie d√©charg√©e n'est pas requise. La LED d'indicateur de charge connect√©e √† max1879 est situ√©e sur la carte du c√¥t√© oppos√© de l'√©cran, de sorte que l'appareil devient vert de l'int√©rieur lors de la charge.</font></font><br>
<br>
<img src="https://habrastorage.org/files/200/3c6/d72/2003c6d723f04a32bed73b3e5e490374.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour charger l'appareil, faites un support sp√©cial avec un √©videment sous l'appareil et deux groupes de contacts. Le support est √©quip√© d'un connecteur microUSB pour connecter une source de courant. Le support n'a pas de circuits √©lectroniques √† l'int√©rieur, seulement des fils et un fusible r√©armable. Pour un lecteur attentif, le choix de la puce max1879 comme contr√¥leur de charge peut sembler quelque peu absurde, car avec un sch√©ma de charge s√©lectionn√© √† partir d'une source de courant compatible USB, il serait plus logique d'utiliser un contr√¥leur avec limitation de courant int√©gr√©e. Cependant, le circuit s√©lectionn√© est fiable, n'a pas peur des sources avec une mauvaise stabilisation de la tension de sortie, et son seul inconv√©nient, en fait, n'est pas une compatibilit√© totale avec la norme USB compte tenu de l'absence de r√©gulation automatique du courant maximum autoris√©.Mais un tel sch√©ma fournit une charge plus rapide lors de l'utilisation d'une carte r√©seau.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exp√©rience de fonctionnement des instruments</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au printemps, une copie de la version deux √©tait pr√™te, et je l'ai emmen√©e en randonn√©e dans la Crim√©e montagneuse. </font><font style="vertical-align: inherit;">En √©t√©, lors d'une randonn√©e le long de la mer Blanche et du Kovdozer, j'ai pris la prochaine instance de la version 2M. </font><font style="vertical-align: inherit;">Comme auparavant, lorsque je faisais du kayak, j'ai plac√© l'appareil sur le corps du kayak devant moi, en voyageant autour de la Crim√©e, j'ai port√© l'appareil autour de mon cou, en m'arr√™tant, en stationnant et pendant des jours j'ai accroch√© l'appareil sur un arbre √† l'ombre, dans un endroit souffl√© par le vent.</font></font><br>
<br>
<img src="https://habrastorage.org/files/bac/4a7/5bc/bac4a75bc424436986c30b5b2f44c9aa.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme la premi√®re version, l'appareil ressemble √† un organe sensoriel suppl√©mentaire, et son utilisation est devenue plus pratique que la premi√®re version. Avec une masse d'environ 128g (contre 330g de la premi√®re version), l'appareil n'est pratiquement pas ressenti sur le cou. L'apparence de l'appareil est devenue, √† mon avis, plus pr√©cise par rapport √† la premi√®re version. Les boutons tactiles de la deuxi√®me version sont plus pratiques en raison de l'emplacement sur le c√¥t√© et de l'absence de pi√®ces m√©talliques √† proximit√© du bo√Ætier, bien que, compte tenu du sondage pas si rapide, tout le monde ne puisse pas les utiliser la premi√®re fois. La n√©cessit√© d'allumer l'√©cran pour voir les lectures de l'appareil ne cause aucun inconv√©nient. L'√©cran est facile √† allumer m√™me au toucher dans l'obscurit√© totale. La m√©thode d'affichage des graphiques utilis√©s sur la deuxi√®me version de l'appareil, avec diff√©rentes √©chelles et d√©filement vers l'arri√®re, s'av√®re tr√®s pratique,ce qui permet d'analyser facilement la m√©t√©o ou le profil parcouru ces derniers jours.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous marchez, en particulier dans les montagnes, il est tr√®s pratique d'utiliser l'affichage de la pression sur le graphique comme hauteur barom√©trique. </font><font style="vertical-align: inherit;">Le graphique montre le profil du chemin parcouru. </font><font style="vertical-align: inherit;">D'une part, un tel calendrier permet d'√©valuer facilement la rugosit√© d'un sentier parcouru, ce qui est particuli√®rement vrai pour les sentiers de montagne de Crim√©e qui traversent la for√™t.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ba1/fa7/e34/ba1fa7e3470541239b9a06236a6c1873.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'autre part, selon le calendrier, il est facile de voir votre propre rythme de mouvement de haut en bas (en fait dans les mont√©es raides) et d'estimer combien il reste jusqu'√† la fin du mouvement dans les zones avec une diff√©rence connue. </font><font style="vertical-align: inherit;">Lors des sorties sur mer ou sur les lacs, lorsque l'altitude est constante, il est plus pratique d'afficher la pression sous forme de pression. </font><font style="vertical-align: inherit;">Les tendances de la pression peuvent √™tre utilis√©es pour juger de la m√©t√©o des deux prochains jours. </font><font style="vertical-align: inherit;">En montagne, le suivi des tendances de pression est plus difficile, elles ne sont visibles sur le graphique que lors de l'arr√™t.</font></font><br>
<br>
<img src="https://habrastorage.org/files/218/37b/d2d/21837bd2da3d43c8a6365d5ae1af70e3.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, comme d√©j√† indiqu√© dans l'article pr√©c√©dent, les d√©placements propres dans les montagnes et m√™me sur des terrains accident√©s et accident√©s entra√Ænent des changements de pression beaucoup plus rapides que les processus typiques se produisant dans l'atmosph√®re. Pour cette raison, l'erreur quotidienne dans le graphique de l'altitude barom√©trique est g√©n√©ralement faible, de plus, il est facile de l'√©valuer visuellement en extrapolant les changements de pression lors des arr√™ts et des arr√™ts.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les graphiques de temp√©rature et de pression sont √©galement int√©ressants, mais leur signification pratique n'est pas si √©vidente. Ils vous permettent de d√©terminer les tendances m√©t√©orologiques, de choisir les bons v√™tements et d'√©valuer les perspectives d'essayer de s√©cher votre √©quipement. Avec la mesure de temp√©rature, comme la premi√®re version, il y a des fonctionnalit√©s. Ainsi, la p√©n√©tration de la lumi√®re solaire sur l'appareil conduit √† un √©chauffement notable et √† une erreur de mesure de la temp√©rature. De plus, la temp√©rature de l'air (et de l'appareil) est affect√©e par la temp√©rature des objets environnants et le chauffage radiant. Ainsi, m√™me par temps nuageux, l'appareil plac√© √† l'ombre au-dessus du sol affiche une temp√©rature plusieurs degr√©s plus basse que s'il √©tait plac√© sur le corps d'un cano√´ debout sur l'eau. Apparemment, cela est d√ª au chauffage du kayak et de l'air au-dessus de lui par la lumi√®re diffus√©e et le rayonnement infrarouge. Pour √©tudier cette circonstance, j'ai m√™me men√© l'exp√©rience suivante.Comme on le sait, le flux d'air peut √™tre utilis√© pour acc√©l√©rer le transfert de chaleur. Le moyen le plus simple d'organiser le soufflage du thermom√®tre par temps calme est de le tordre simplement sur une corde autour de lui. En retournant l'appareil sur la terre un jour nuageux √† l'ombre, j'√©tais convaincu que le flux d'air n'affectait pas les lectures. Les lectures sont donc √† l'ombre et correspondent donc √† la temp√©rature de l'air. Apr√®s tout, si la temp√©rature de l'appareil diff√©rait de la temp√©rature de l'air, en raison, par exemple, du chauffage par rayonnement, l'intensification du transfert de chaleur entra√Ænerait des changements dans la condition d'√©quilibre et des changements dans les lectures vers le bas. Si vous retournez l'appareil sur la surface de l'eau, les relev√©s de temp√©rature deviennent inf√©rieurs √† ceux de l'appareil sur un kayak et l'effet est observ√© m√™me en pr√©sence d'un petit vent. De cela, nous pouvons conclure que le chauffage de l'appareil √† partir du kayak est important, et probablementdes autres surfaces sous-jacentes √©clair√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il convient de mentionner la possibilit√© d'afficher le point de ros√©e. La temp√©rature du point de ros√©e est fonction de l'humidit√© absolue de l'air (masse de vapeur d'eau par unit√© de volume) et permet de juger de la teneur en eau de l'atmosph√®re. Si vous prenez une certaine quantit√© d'air et la chauffez, la temp√©rature augmentera, l'humidit√© relative baissera et la temp√©rature du point de ros√©e ne changera pas. En cons√©quence, puisque le capteur est toujours en √©quilibre avec une fine couche d'air qui l'entoure, si le capteur (ou l'ensemble de l'appareil) est chauff√©, la temp√©rature affich√©e augmentera, l'humidit√© affich√©e baissera et la temp√©rature de point de ros√©e affich√©e ne changera pas. En r√©alit√©, tout est un peu plus compliqu√©, car l'erreur et la discr√©tion de mesurer la temp√©rature et surtout l'humidit√© affectent fortement la pr√©cision du calcul du point de ros√©e. Cependant, nous pouvons dire que le point de ros√©e calcul√©,et non l'humidit√© relative est une information sur la quantit√© d'eau dans l'atmosph√®re, et elle n'est pas affect√©e par les erreurs de mesure de la temp√©rature associ√©es au chauffage de l'appareil par le soleil. En r√®gle g√©n√©rale, la temp√©rature du point de ros√©e change assez lentement et ses fluctuations quotidiennes peuvent √™tre aussi faibles que 2-5 degr√©s contre 10-15 √† la temp√©rature de l'air. En √©t√©, une augmentation du point de ros√©e d'environ 20 degr√©s est un signe avant-coureur de la formation d'orages.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le luxom√®tre, d√©sormais √©quip√© de deux capteurs, vous permet de mesurer l'√©clairage et d'obtenir des r√©sultats de mesure fiables dans diverses conditions: √† la fois par une journ√©e ensoleill√©e, par une nuit sans lune et m√™me dans des pi√®ces tr√®s sombres. Son t√©moignage nous permet de juger de l'√©paisseur de la couverture nuageuse dans le ciel ou de la profondeur du cr√©puscule. La possibilit√© de construire un graphique d'√©clairage dans l'instrument n'est pas fournie, car les lectures d√©pendent fortement non seulement de l'√©clairage, mais √©galement de la position spatiale des objets environnants, et de l'instrument lui-m√™me, en cons√©quence, il serait difficile d'extraire des informations d'un tel graphique. En raison de la pr√©sence de deux capteurs, dont l'un est RVB avec un canal IR, le luxom√®tre fournit de nombreuses informations sur l'√©clairage, la temp√©rature de couleur et le niveau de rayonnement infrarouge. Cependant, √† mon avis,Cette fonctionnalit√© est plus utile lors de l'√©valuation de l'√©clairage int√©rieur que de la randonn√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En r√©sum√©, nous notons que le deuxi√®me appareil s'est av√©r√© plus pratique et pratique que le premier. Le bo√Ætier est assez l√©ger, compact et agr√©able au toucher m√™me √† basse temp√©rature. Le temps de fonctionnement sur une seule charge de batterie est plus que suffisant pour tout voyage. Les graphiques peuvent √™tre facilement mis √† l'√©chelle et invers√©s au cours des quatre derniers jours, ce qui est suffisant pour analyser la m√©t√©o et / ou le profil de la route parcourue, et la fonctionnalit√© de l'appareil, √† mon avis, est suffisante. La carte SD peut √™tre facilement retir√©e pour copier des donn√©es.</font></font><br>
<br>
<img src="https://habrastorage.org/files/67c/0b3/f1f/67c0b3f1f11a402fa128af52faf9e1fd.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la description de l'exp√©rience de fonctionnement de la premi√®re version de l'appareil se terminait par une liste de lacunes, je ne donnerai pas une telle liste ici, car, √† mon avis, l'appareil n'a pas de lacunes √©videntes. Bien s√ªr, il y a toujours des id√©es pour construire des fonctionnalit√©s, mais pendant l'op√©ration je n'ai eu aucun sentiment de manque de fonction. Par cons√©quent, j'examinerai plus avant les options possibles pour le d√©veloppement du projet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fa√ßon possible de d√©velopper l'instrument est d'ajouter de nouvelles fonctionnalit√©s au logiciel de l'instrument. Ici, vous pouvez proposer les domaines suivants:</font></font><br>
<ul>
<li>                     .        ,       ,      ,          .</li>
<li>      SD .</li>
<li>             (   )     ,    .</li>
<li>         RGB   SD .</li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, il y a des id√©es sur le d√©veloppement d'un ensemble de capteurs pour l'avenir. Par exemple, vous pouvez ajouter un capteur sp√©cial con√ßu pour mesurer la temp√©rature de l'eau dans les r√©servoirs et les sources, un capteur de salinit√© de l'eau (compteur TDS) et ajouter la possibilit√© de stocker l'historique de mesure correspondant dans le logiciel. Apr√®s tout, il est parfois int√©ressant de mesurer la temp√©rature de l'eau dans un √©tang, et les capteurs de temp√©rature disponibles dans l'appareil sont quelque peu inertiels et non destin√©s √† la plong√©e, bien que la plong√©e leur soit inoffensive. De plus, un capteur ultraviolet peut √™tre ajout√© √† l'ensemble de capteurs de lumi√®re pour d√©terminer √† quel point il est dangereux d'√™tre en plein soleil sous l'√©tat actuel de l'atmosph√®re.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La conception du bo√Ætier de l'appareil de la deuxi√®me version offre √©galement une certaine marge de r√©duction suppl√©mentaire de poids et de taille. En r√©duisant l'√©paisseur de la paroi, en utilisant un tampon plus doux et un couvercle plus mince (par exemple, du verre tremp√©), en r√©duisant la taille de la batterie, le bo√Ætier peut √™tre l√©g√®rement plus petit et plus l√©ger. Par ailleurs, il convient de dire que j'ai r√©ussi √† trouver l'√©cran transflectif 2,4 pouces actuellement produit avec une r√©solution de 320x240 pixels. Par cons√©quent, la troisi√®me version de l'appareil sera probablement enti√®rement compos√©e de composants disponibles dans le commerce. Cependant, lorsque vous passez √† un √©cran de r√©solution sup√©rieure, vous devez augmenter la fr√©quence d'horloge du processeur afin que le redessin ne prenne pas trop de temps et augmenter le volume de la RAM afin d'utiliser efficacement le nombre accru de pixels √† l'√©cran, ce qui r√©duit le nombre minimum de degr√©s, m√®tres et minutes par pixel.Pour cette raison, la troisi√®me version de l'appareil est susceptible d'√™tre mont√©e sur un microcontr√¥leur AVR Xmega ou STM32.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code source du programme, les courbes de fraisage et de c√¢blage de la carte sont disponibles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr384641/">https://habr.com/ru/post/fr384641/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr384629/index.html">Les scientifiques ont annonc√© des preuves claires de la pr√©sence d'eau liquide sur Mars</a></li>
<li><a href="../fr384631/index.html">Intel Edison Utilisation d'Intel IoT Analytics Cloud: gestion des appareils</a></li>
<li><a href="../fr384633/index.html">La bionique et la robotique font leur entr√©e dans le monde de la mod√©lisation</a></li>
<li><a href="../fr384635/index.html">"Human Phantom" ouvrira de grandes opportunit√©s pour les m√©decins. Le cadavre d'une femme a √©t√© d√©coup√© en 5000 pi√®ces et scann√©</a></li>
<li><a href="../fr384637/index.html">Les scientifiques n'ont pas trouv√© d'ondes gravitationnelles en onze ans d'observation</a></li>
<li><a href="../fr384647/index.html">Vous ne r√©ussirez pas: verrouillage du code sur la logique</a></li>
<li><a href="../fr384651/index.html">Rapport de mixAR2015: AR&VR Technologies</a></li>
<li><a href="../fr384653/index.html">Vue int√©rieure: 13 lampes LED et une bouteille de rhum. Partie 2</a></li>
<li><a href="../fr384657/index.html">Automatisation de la commande de chauffage domestique par vous-m√™me. Partie 4</a></li>
<li><a href="../fr384659/index.html">Contr√¥le des requins gonflables Brainwave</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>