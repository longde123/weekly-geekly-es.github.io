<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíë üë©üèæ‚Äçüè≠ üöç An√°lisis de sentimiento de texto en Node.js ‚è™ üëßüèª ü•´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos El tema es bastante interesante y puede parecer bastante dif√≠cil de implementar. Pero soy una persona pr√°ctica y quiero tocar lo bello, e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>An√°lisis de sentimiento de texto en Node.js</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486036/"><p><img src="https://habrastorage.org/webt/ib/_g/vg/ib_gvg4f3vdu0wiwjyhrjctmd8g.jpeg"></p><br><p>  Hola a todos  El tema es bastante interesante y puede parecer bastante dif√≠cil de implementar.  Pero soy una persona pr√°ctica y quiero tocar lo bello, especialmente sin esfuerzo.  Hoy haremos un "microservicio" para el an√°lisis de sentimentalismo / tonalidad del texto.  Y el caso, algunas cosas m√°s interesantes que lo ayudar√°n a preparar su apelaci√≥n textual a Skynet. </p><a name="habracut"></a><br><h3 id="intro">  Introducci√≥n </h3><br><p>  Por qu√©  Esta es una muy buena pregunta.  Pero antes de responderlo, seamos un poco m√°s inteligentes y descubramos cu√°l es el an√°lisis de la tonalidad del texto y cu√°l es la tonalidad. </p><br><blockquote> El an√°lisis de la tonalidad del texto (an√°lisis de sentimientos, an√°lisis de sentimientos en ingl√©s, miner√≠a de opini√≥n en ingl√©s) es una clase de m√©todos de an√°lisis de contenido en ling√º√≠stica inform√°tica, dise√±ado para identificar autom√°ticamente en los textos vocabulario coloreado emocionalmente y la evaluaci√≥n emocional de los autores (opiniones) en relaci√≥n con los objetos, el habla que va en el texto <br><br>  La tonalidad es la actitud emocional del autor de una declaraci√≥n a un objeto (un objeto del mundo real, un evento, un proceso o sus propiedades / atributos), expresado en el texto.  El componente emocional, expresado a nivel del lexema o fragmento comunicativo, se llama tonalidad l√©xica (o sentimiento l√©xico).  La tonalidad de todo el texto en su conjunto puede definirse como una funci√≥n (en el caso m√°s simple, la suma) de la tonalidad l√©xica de sus unidades (oraciones) y las reglas para combinarlas. </blockquote><p>  por wikipedia </p><br><h3 id="zachem">  Por qu√© </h3><br><p>  A menudo tengo m√°s preguntas que respuestas al leer Wikipedia.  Simplifiquemos: la clave del texto nos habla sobre el "estado de √°nimo del texto".  Por ejemplo, "Ven aqu√≠, tu madre ..." indica que el oyente tiene problemas.  "Cari√±o, estoy en casa", un poco mejor, pero seg√∫n la situaci√≥n. </p><br><p><img src="https://habrastorage.org/webt/5s/xz/dl/5sxzdlj-cbh9r3axka1xf0lmcwq.gif"></p><br><p>  Puede usar este an√°lisis para buscar noticias positivas, filtrar comentarios negativos, crear calificaciones de productos por revisiones, etc.  Creo que la idea general es clara. </p><br><h3 id="ustanavlivaem-neobhodimoe">  Instala lo necesario </h3><br><p>  Como vamos a usar Node.js, necesitaremos Express.  Puede usar cualquier cosa, exprese un bajo nivel y no sea cr√≠tico para la tarea. </p><br><pre><code class="bash hljs">npm install -g express-generator</code> </pre> <br><p>  <a href="https://expressjs.com/en/starter/generator.html" rel="nofollow">express-generator</a> es un tipo de aplicaci√≥n <a href="https://reactjs.org/docs/create-a-new-react-app.html" rel="nofollow">create-react-</a> for para el framework Express. </p><br><p>  <code>node_nlp</code> la aplicaci√≥n en la carpeta <code>node_nlp</code> : </p><br><pre> <code class="bash hljs">express node_nlp --no-view</code> </pre> <br><p>  puedes simplificar los dos √∫ltimos comandos usando npx: </p><br><pre> <code class="bash hljs">npx express-generator node_nlp --no-view</code> </pre> <br><p>  Para iniciar la aplicaci√≥n, vaya a la carpeta, descargue las dependencias y los lanzamientos: </p><br><pre> <code class="plaintext hljs">cd node_nlp npm install npm start</code> </pre> <br><p>  Para no perder tiempo reiniciando manualmente el servidor para cada cambio, <code>nodemon</code> y configuremos <code>nodemon</code> : </p><br><pre> <code class="bash hljs">npm install --save nodemon</code> </pre> <br><p>  Ediciones menores en package.json: </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"dev"</span></span>: <span class="hljs-string"><span class="hljs-string">"nodemon ./bin/www"</span></span></code> </pre> <br><p>  Y para el desarrollo usamos: </p><br><pre> <code class="bash hljs">npm run dev</code> </pre> <br><p>  Pongamos un pu√±ado de paquetes de inmediato, te dir√© por qu√© se necesitan en el camino.  Es solo un tutorial diferente para luchar por ser una configuraci√≥n de proyecto y ya olvid√© lo que estoy escribiendo con toda esta <code>npm install</code> . </p><br><pre> <code class="bash hljs">npm install --save natural apos-to-lex-form spelling-corrector stopword</code> </pre> <br><p><img src="https://habrastorage.org/webt/yd/q5/6y/ydq56yhahqjyit4dpuqgntr0s2i.png"></p><br><h3 id="routing">  Enrutamiento </h3><br><p>  De hecho, solo tendremos un punto final, en la carpeta <code>./routers</code> , hay un archivo <code>index.js</code> que lo destruiremos: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> natural = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'natural'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> router = express.Router(); router.post(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res, next</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { text } = req.body; }); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = router;</code> </pre> <br><p>  Un punto final <code>POST</code> simple que toma un <code>body</code> con un campo de <code>text</code> . </p><br><h3 id="processing">  Procesamiento </h3><br><p>  Si usted, como yo, de alguna manera ha entrado en contacto con la creaci√≥n <del>  Skynet </del>  , proces√≥ los datos, probablemente sepa que el proceso de preparaci√≥n es tan importante como el proceso de procesamiento de datos.  Necesitamos minimizar varios ruidos y posibles errores, para que no vaya hacia el orador, "bueno, ven aqu√≠ tu madre ...". </p><br><h3 id="izbavlyaemsya-ot-sokrascheniy">  Deshacerse de los cortes </h3><br><p><img src="https://habrastorage.org/webt/p6/bf/b4/p6bfb4bi1gveyau9ek44ed7hxhc.gif"></p><br><p>  Dado que el microservicio se dedicar√° al an√°lisis de la tonalidad del idioma ingl√©s, debemos considerar c√≥mo convertir esas abreviaturas como estoy, est√°s dentro, estoy, est√°s. <br>  Para esto usaremos <a href="https://www.npmjs.com/package/apos-to-lex-form" rel="nofollow">apos-to-lex-form</a> </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> natural = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'natural'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> aposToLexForm = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'apos-to-lex-form'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> router = express.Router(); router.post(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res, next</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { text } = req.body; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> lexedText = aposToLexForm(text); }); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = router;</code> </pre> <br><h3 id="konvertiruem-tekst-v-lowercase-nizhniy-registr">  Convertir texto a min√∫sculas (min√∫sculas) </h3><br><p>  Para que las palabras IR AQU√ç y venir aqu√≠ sean percibidas de la misma manera, debe asegurarse de que todo el texto est√© en un registro. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> casedReview = lexedText.toLowerCase();</code> </pre> <br><h3 id="udalyaem-lishnie-simvoly">  Eliminar caracteres extra </h3><br><p>  Para la pr√≥xima mejora en la precisi√≥n de nuestro an√°lisis, debe eliminar los caracteres adicionales, es dif√≠cil para m√≠ decir qu√© tonalidad @ # $% ^ # son esos caracteres.  Por lo tanto, eliminamos todo lo innecesario y dejamos solo letras. <br>  Usamos la funci√≥n est√°ndar de JavaScript - <code>replace()</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> alphaOnlyReview = casedReview.replace(<span class="hljs-regexp"><span class="hljs-regexp">/[^a-zA-Z\s]+/g</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>)</code> </pre> <br><h3 id="tokenizaciya">  Tokenizaci√≥n </h3><br><p>  La tokenizaci√≥n es el proceso de dividir el texto en componentes individuales.  Por ejemplo, la palabra es el token de la oraci√≥n, y la oraci√≥n, a su vez, es el token del p√°rrafo. </p><br><p>  Aqu√≠ nuestro caballo principal <a href="https://www.npmjs.com/package/natural" rel="nofollow">Natural se</a> precipita en la escena. <br>  En este paquete, se nos proporciona la <code>WordTokenizer</code> tokenizaci√≥n de <code>WordTokenizer</code> : </p><br><pre> <code class="javascript hljs">... const { WordTokenizer } = natural; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tokenizer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WordTokenizer(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tokenizedReview = tokenizer.tokenize(alphaOnlyReview); ...</code> </pre> <br><h3 id="ispravlyaem-oshibki">  Correcciones de errores </h3><br><p>  Dado que el texto puede venir de cualquier parte, existe la posibilidad de errores.  Necesitamos tratar de arreglarlos.  El <a href="https://www.npmjs.com/package/spelling-corrector" rel="nofollow">corrector ortogr√°fico</a> nos ayudar√° con esto. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> natural = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'natural'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> aposToLexForm = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'apos-to-lex-form'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SpellCorrector = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'spelling-corrector'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> router = express.Router(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> spellCorrector = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SpellCorrector(); spellCorrector.loadDictionary(); router.post(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res, next</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { text } = req.body; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> lexedText = aposToLexForm(text); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> casedReview = lexedText.toLowerCase(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> alphaOnlyReview = casedReview.replace(<span class="hljs-regexp"><span class="hljs-regexp">/[^a-zA-Z\s]+/g</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { WordTokenizer } = natural; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tokenizer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WordTokenizer(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tokenizedReview = tokenizer.tokenize(alphaOnlyReview); tokenizedReview.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">word, index</span></span></span><span class="hljs-function">) =&gt;</span></span> { tokenizedReview[index] = spellCorrector.correct(word); }); }); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = router;</code> </pre> <br><h3 id="udalyaem-stop-slova">  Eliminar palabras de detenci√≥n </h3><br><p><img src="https://habrastorage.org/webt/lp/5r/_u/lp5r_uo_fh_dra2is3ct56ufrzq.gif"></p><br><p>  Pare las palabras, estos son alg√∫n tipo de palabras par√°sitos.  Bueno, por as√≠ decirlo, eh, oye, oye, no como par√°sitos, sino palabras superfluas que no hacen absolutamente ning√∫n tiempo para nuestro t√≥nico.  Con la eliminaci√≥n de tales palabras, el paquete de palabras <a href="https://www.npmjs.com/package/stopword" rel="nofollow">clave</a> nos ayudar√°. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SW = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'stopword'</span></span>); ... const filteredReview = SW.removeStopwords(tokenizedReview);</code> </pre> <br><h3 id="stemming-stemming">  Tallo </h3><br><p>  La derivaci√≥n es el proceso de normalizaci√≥n de las palabras.  Por ejemplo, "dar", "dio" y "donante" en la forma simple "dar". <br>  No tomaremos esto como un paso separado, ya que el <code>SentimentAnalyzer</code> que nos proporciona el paquete <code>Natural</code> puede hacer esto por nosotros. </p><br><h3 id="tonalnyy-analiz-teksta-s-pomoschyu-natural">  An√°lisis de texto de tono con Natural </h3><br><p>  Eso es todo!  Llegamos ahi.  Ahora Skynet aceptar√° el nuestro y lo entender√° todo.  Es hora de alimentar el texto en <code>SentimentAnalyzer</code> y comprender si sonamos positivos en una sociedad tan tolerante o no. </p><br><p>  El an√°lisis de tonos funciona de manera bastante compleja.  El paquete natural tiene su propio diccionario de palabras con la "polaridad" de las palabras.  Por ejemplo, la palabra "bueno" tiene una polaridad de 3, y la palabra "malo" es -3.  De hecho, todos estos "puntos" se resumen y normalizan al tama√±o de la propuesta.  Por lo tanto, de hecho, hicimos mucho para borrar nuestro texto de todo lo que era superfluo, de modo que no hubiera nada que nos impidiera obtener una evaluaci√≥n adecuada. <br>  El texto es positivo si la calificaci√≥n es positiva, negativa si es negativa y neutral si obtenemos 0. </p><br><p>  <code>SentimentAnalyzer</code> <a href="https://www.npmjs.com/package/natural" rel="nofollow">acepta 3 par√°metros</a> : </p><br><ul><li>  Lenguaje de texto </li><li>  Transmitir o no transmitir </li><li>  Diccionario (AFINN, Senticon, Pattern), est√° incorporado </li></ul><br><p>  Todo el c√≥digo final con an√°lisis de tono del texto al final: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> natural = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'natural'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> aposToLexForm = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'apos-to-lex-form'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SpellCorrector = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'spelling-corrector'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SW = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'stopword'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> router = express.Router(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> spellCorrector = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SpellCorrector(); spellCorrector.loadDictionary(); router.post(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res, next</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { text } = req.body; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> lexedText = aposToLexForm(text); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> casedReview = lexedText.toLowerCase(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> alphaOnlyReview = casedReview.replace(<span class="hljs-regexp"><span class="hljs-regexp">/[^a-zA-Z\s]+/g</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { WordTokenizer } = natural; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tokenizer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WordTokenizer(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tokenizedReview = tokenizer.tokenize(alphaOnlyReview); tokenizedReview.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">word, index</span></span></span><span class="hljs-function">) =&gt;</span></span> { tokenizedReview[index] = spellCorrector.correct(word); }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> filteredReview = SW.removeStopwords(tokenizedReview); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { SentimentAnalyzer, PorterStemmer } = natural; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> analyzer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SentimentAnalyzer(<span class="hljs-string"><span class="hljs-string">'English'</span></span>, PorterStemmer, <span class="hljs-string"><span class="hljs-string">'afinn'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> analysis = analyzer.getSentiment(filteredReview); res.status(<span class="hljs-number"><span class="hljs-number">200</span></span>).json({ analysis }); }); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = router;</code> </pre> <br><p>  Hemos agregado algunas l√≠neas nuevas.  Destrucci√≥n <code>natural</code> , para obtener las herramientas que necesitamos, creamos una variable para el analizador y asignamos el resultado al <code>analysis</code> variables. <br>  Los par√°metros del <code>SentimentAnalyzer</code> son relativamente obvios.  El idioma es el ingl√©s como el texto que procesamos en ingl√©s.  Sellando las palabras que mencion√© anteriormente y el diccionario que nos proporciona el paquete <code>Natrual</code> . </p><br><p>  Me gustar√≠a hacer una interfaz de usuario para este caso, pero puede probarla en algunas DevTools: </p><br><pre> <code class="javascript hljs">fetch(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">'POST'</span></span>, <span class="hljs-attr"><span class="hljs-attr">headers</span></span>: { <span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>: <span class="hljs-string"><span class="hljs-string">'application/json'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">body</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify({<span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">'hey'</span></span>}) }) <span class="hljs-comment"><span class="hljs-comment">// {"analysis":0} fetch('/', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({text: 'hey f*** you'}) }) // {"analysis":-2} fetch('/', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({text: 'hey love you'}) }) // {"analysis":1}</span></span></code> </pre> <br><p>  Como vemos, funciona :) </p><br><p>  <a href="https://github.com/DmitryOlkhovoi/sentiment-analysis-nodejs" rel="nofollow">Repositorio de Github</a> </p><br><h3 id="zaklyuchenie">  Conclusi√≥n </h3><br><p>  En este art√≠culo realizamos un "microservicio" que analiza la tonalidad del texto.  Ll√©velo a cualquier enfrentamiento y analice lo que dicen sus oponentes.  Tambi√©n tocamos el tema de la preparaci√≥n de datos e instalamos un mont√≥n de dependencias.  Gracias por su atencion! </p><br><p>  Leer lo mismo </p><br><ul><li>  <a href="https://habr.com/ru/post/485768/">Tendencias web 2020 que vale la pena probar</a> </li><li>  <a href="https://habr.com/ru/post/485562/">Navegando en Internet con un Gamepad (Javascript)</a> </li></ul></div></div><p>Source: <a href="https://habr.com/ru/post/486036/">https://habr.com/ru/post/486036/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../486024/index.html">Gr√°ficos realmente simples en R para ciencia y periodismo.</a></li>
<li><a href="../486028/index.html">Redes neuronales en la producci√≥n de pr√≥tesis dentales.</a></li>
<li><a href="../486030/index.html">TL-SREET 55 5K LED Farola revisi√≥n</a></li>
<li><a href="../486032/index.html">C√≥mo convertirse en un dise√±ador de di√°logos</a></li>
<li><a href="../486034/index.html">Entrada r√°pida a la gesti√≥n de productos a trav√©s del c√≥digo abierto</a></li>
<li><a href="../486042/index.html">Mensajeros y legislaci√≥n de telecomunicaciones</a></li>
<li><a href="../486046/index.html">El kernel de Linux incluye WireGuard VPN</a></li>
<li><a href="../486050/index.html">Biblioteca JavaScript de Webix a trav√©s de los ojos de un principiante. Parte 3. M√≥dulos, diagramas, tablas de √°rbol.</a></li>
<li><a href="../486052/index.html">Scorched Earth es la madre de todos los juegos. Entrevista con el creador.</a></li>
<li><a href="../486056/index.html">De los scripts a nuestra propia plataforma: c√≥mo automatizamos el desarrollo en el Instituto Cyan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>