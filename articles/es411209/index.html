<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗝️ 👧🏽 👩🏾‍🚀 ¿Puedo ganar el juego? Simulación de Python 🧦 🤞🏻 👨🏿‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola geektimes 

 En el proceso de inactividad, surgió la idea de estudiar varios juegos de azar, al mismo tiempo para comprender mejor cómo funciona....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¿Puedo ganar el juego? Simulación de Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/411209/">  Hola geektimes <br><br>  En el proceso de inactividad, surgió la idea de estudiar varios juegos de azar, al mismo tiempo para comprender mejor cómo funciona.  Los resultados, aunque generalmente obvios, fueron lo suficientemente interesantes como para compartirlos con el público. <br><br><img src="https://habrastorage.org/webt/0a/aw/qx/0aawqx__4v1cuysw6apmuhd1u6q.jpeg"><br><br>  Para quien los detalles son interesantes, pregunto bajo cat. <br><a name="habracut"></a><br><h2>  Dados: Juego de dados </h2><br>  Lo más probable es que sea una opción intuitivamente simple y comprensible: hay un cubo con marcas del 1 al 6, y la probabilidad de que un número en particular se caiga es 1/6.  Pero jugar de esta manera sería aburrido, por lo que los juegos con reglas más complejas son populares.  Un juego de azar popular son los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dados</a> , la imagen de arriba muestra una imagen de la mesa de juego.  Como puede ver, hay mucho de todo, pero no entraremos en sutilezas profundas. <br><br>  Cada turno del juego consiste en lanzar dos dados, los puntos acumulados se suman.  Como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dice</a> el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">artículo</a> , “Las reglas del juego son sencillas: un jugador tira dos dados, y si la suma de puntos en ellos es 7 u 11, gana, si 2, 3 o 12, pierde.  Cuando una cantidad diferente cae en los dados, el tirador los lanza a una combinación ganadora o perdedora ”. <br><br>  Veamos cuánto puedes ganar de esta manera.  No es necesario ir a un casino para esto; usaremos Python para simular el juego.  Escribimos una función para un tiro: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shoot</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>) + random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>)</code> </pre> <br>  Escribiremos la función de simulación de un movimiento de acuerdo con las reglas anteriores. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: val = shoot() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Dice roll:"</span></span>, val <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">11</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">12</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre><br>  Configuremos a nuestro jugador virtual una cantidad inicial de $ 100 y comencemos el proceso del juego.  Deje que nuestro jugador haga 100 apuestas, cada vez 1u.e. <br><br><pre> <code class="python hljs">money_total = <span class="hljs-number"><span class="hljs-number">100</span></span> win = <span class="hljs-number"><span class="hljs-number">0</span></span> loss = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): bet = <span class="hljs-number"><span class="hljs-number">1</span></span> step = move() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> step <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: money_total += bet win += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: money_total -= bet loss += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Win"</span></span>, win, <span class="hljs-string"><span class="hljs-string">"Loss"</span></span>, loss, <span class="hljs-string"><span class="hljs-string">"Money"</span></span>, money_total</code> </pre><br>  Comenzamos la simulación de 100 juegos y estamos sorprendidos por el resultado, el jugador <b>ganó</b> y con un margen notable de victorias de las derrotas: Ganar 63, Perder 37, Dinero 126. Aumentamos el número de juegos a 1000 y corremos nuevamente, el jugador ganó nuevamente: Ganó 680, Pérdida 320, Dinero 460 . <br><br>  Está claro que algo está mal aquí: un juego en el que el jugador siempre estaría en negro, difícilmente sería popular en el casino, simplemente iría a la quiebra.  Tratemos de resolverlo. <br><br>  Parece intuitivamente que al lanzar un dado, la probabilidad de que se caiga cualquier faceta es igualmente probable.  Y esto es cierto, pero en el caso de <i>un</i> cubo.  Si hay dos cubos, entonces todo se vuelve más complicado.  Por ejemplo, el número 7 puede salir como 3 + 4, 2 + 5, 1 + 6, pero el número 12 puede caer solo como una combinación de 6 + 6. <br><br>  En el cuaderno Jupyter construimos un cronograma para la pérdida de cantidades del 1 al 12 por 100 lanzamientos: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> matplotlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt %matplotlib inline y = [ shoot() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>) ] plt.hist(y)</code> </pre> <br><img src="https://habrastorage.org/webt/iy/lc/tb/iylctbczo4panaaa-1xp9vjmqhc.png"><br><br>  La suposición se confirmó, y la cantidad del centro realmente se cae más a menudo.  Por lo tanto, los números 7 y 11 realmente se caen con más frecuencia que 2.3 o 12. Y la probabilidad de obtener una combinación ganadora "7 u 11" es realmente mayor. <br><br>  ¿Cómo puede ser esto?  Lamentablemente, la respuesta es simple: el autor del artículo citado anteriormente simplemente no entendió completamente las reglas del juego.  El texto "las <i>reglas del juego son sencillas: el jugador tira dos dados, y si la suma de puntos en ellos es 7 u 11, gana, si 2, 3 o 12 - pierde</i> " está muy lejos de la verdad, y las reglas en los dados no son tan sencillas como parecen . <br><br>  Las reglas reales para apostar en la línea de pase resultaron ser un poco más complicadas (hay otros tipos de apuestas, aquellos que lo deseen pueden resolverlo por su cuenta). <br><br>  <b>Mover 1</b> : se hace una tirada.  Si cae 7 u 11, el jugador gana; si 2, 3 o 12, el jugador pierde.  Si se cae otro número, se recuerda debajo del punto del nombre. <br><br>  <b>Movimiento 2</b> : se hace una tirada.  Si 7 cae, entonces el jugador pierde.  Si el punto cae, entonces el jugador ganó.  Si otros números caen, el movimiento se repite (en este momento, los jugadores también pueden apostar a otros números). <br><br>  De hecho, todo es un poco más complicado de lo que se describe en la versión original.  Agregamos una función de simulación teniendo en cuenta reglas más precisas. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> point = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: val = shoot() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> point == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-comment"><span class="hljs-comment"># First move if val == 7 or val == 11: return True if val == 2 or val == 3 or val == 12: return False point = val else: # 2..N move if val == 7: return False if val == point: return True</span></span></code> </pre> <br>  El resultado ahora es más similar a la verdad: para 100 juegos, el jugador ganó 43 veces, perdió 57 veces, el saldo al final del juego fue de 86.u.  del original 100. También es interesante que el número de victorias resultó ser bastante grande, y es solo un poco menos del 50%.  Esta es una estrategia competente desde el punto de vista del casino: le permite mantener el interés del participante en el juego (no sería interesante perder todo el tiempo), pero al mismo tiempo, el saldo de ganancias del casino sigue siendo positivo y el saldo monetario del jugador es en consecuencia negativo. <br><br>  Veamos con más detalle lo que se obtiene para la simulación de 100 juegos. <br>  - La posibilidad de ganar en el primer paso cayó en unos 20 casos. <br>  - La posibilidad de perder inmediatamente en el primer paso cayó en 15 casos. <br>  - En los 65 casos restantes, el juego continúa, y todo es complicado: la elección proviene de dos números, 7 y puntos, pero como se puede ver en el gráfico anterior, la probabilidad de que un número 7 "perdedor" se caiga es máxima, lo que en general se demostró. <br><br>  Es interesante notar que la posibilidad de ganar al 45% es bastante alta.  Entonces, ¿es posible ganar?  En el corto plazo, por ejemplo, en otra simulación, el jugador tuvo "suerte", y en 100 juegos aumentó su capital virtual de 100 a 112ye. <br><br><img src="https://habrastorage.org/webt/yw/7q/_z/yw7q_zxcfq2o5oiit5am3_tblzu.png"><br><br>  Pero ya la próxima simulación mostró un balance negativo: el jugador redujo su estado de 100 a 88 años, habiendo perdido, por cierto, el mismo 12 años "ganado" la vez anterior. <br><br>  Si aumenta el número de iteraciones a 1000, puede ver cómo se verá el saldo monetario del jugador a largo plazo: <br><br><img src="https://habrastorage.org/webt/8r/sz/zw/8rszzwxy60dyofbgso79jtowanq.png"><br><br>  Está claro que con una posibilidad de ganar cada juego menos del 50%, la cantidad de dinero resultante en la cuenta del jugador disminuirá gradualmente, y la cantidad de ganancias del casino aumentará gradualmente.  En la tabla, por cierto, las explosiones y caídas son visibles, y puede surgir una pregunta razonable: ¿pueden predecirse?  Ay, no, porque  Las tiradas de dados son eventos independientes entre sí, y los resultados anteriores no afectan lo siguiente de ninguna manera.  Puede repetir la idea principal una vez más: puede ganar una o incluso varias veces, pero a la larga es imposible mantenerse en el plus en el casino, las reglas del juego están redactadas para que el saldo no sea a favor del jugador. <br><br>  Hay otros tipos de apuestas en el juego de dados, y aquellos que lo deseen pueden analizarlas por su cuenta. <br><br><h2>  Ruleta americana </h2><br>  El siguiente tipo popular de juego es la ruleta, considere su versión estadounidense. <br><br><img src="https://habrastorage.org/webt/00/hn/hc/00hnhcurdofynyx7ctuwderckvs.png"><br><br>  El campo de juego de la ruleta se divide en 38 celdas: 36 zonas con números + 2 zonas "cero" y "doble cero".  Una pelota lanzada a una ruleta obviamente se detendrá en una de las zonas.  El jugador puede hacer una variedad de apuestas, de las cuales hay más de 10 tipos, considere algunas de ellas. <br><br>  <b>Negro-rojo (o par-impar)</b> <br><br>  Un jugador gana si la apuesta que nombra coincide.  Obviamente, la probabilidad de negro o rojo sería 50/50, si no fuera por dos campos de cero, si los golpean, la apuesta pierde.  Como en el caso de los dados, esto hace que la probabilidad de ganar sea solo un poco menos del 50%, pero esto "ligeramente" es suficiente para estar en números rojos. <br><br>  Escribiremos la función de simular el movimiento usando números aleatorios del 1 al 38, los últimos 2 dígitos serán considerados como "cero". <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">38</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">37</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">38</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val % <span class="hljs-number"><span class="hljs-number">2</span></span> != <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  Ejecute la simulación para 100 juegos, el código es el mismo que en la simulación de dados, solo cambiamos la llamada a la función. <br><br><pre> <code class="python hljs">money_total = <span class="hljs-number"><span class="hljs-number">100</span></span> win = <span class="hljs-number"><span class="hljs-number">0</span></span> loss = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): bet = <span class="hljs-number"><span class="hljs-number">1</span></span> step = move_roulette1() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> step <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: money_total += bet win += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: money_total -= bet loss += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Win"</span></span>, win, <span class="hljs-string"><span class="hljs-string">"Loss"</span></span>, loss, <span class="hljs-string"><span class="hljs-string">"Money"</span></span>, money_total</code> </pre> <br>  Resultado: en 100 intentos, el jugador ganó 46 veces y perdió 54 veces.  El gráfico muestra que el jugador tuvo "subidas" y "caídas", pero el saldo final sigue siendo negativo. <br><br><img src="https://habrastorage.org/webt/qa/e6/8a/qae68ajlup6cb933mhh1gvcfhh0.png"><br><br>  Cuanto más jugamos, más profundizamos en menos, y el casino, respectivamente, en más: <br><br><img src="https://habrastorage.org/webt/ea/tm/hm/eatmhmumtpnzcfd2jnyrlxgt2ui.png"><br><br>  Hubo una pregunta del lector por qué no consideraba la ruleta europea con un campo "cero". Como puede suponer, la posibilidad de ganar allí es realmente mayor, pero el principio general no cambia.  De hecho, la diferencia está solo en la "pérdida de velocidad".  Aquí está el calendario conjunto para las versiones estadounidense y europea del juego: <br><br><img src="https://habrastorage.org/webt/qu/v7/h6/quv7h6ryrdsup7jti_n62blatgu.png"><br>  Aquellos que quieran probar la versión europea de la ruleta con 37 máquinas tragamonedas pueden usar la segunda opción de la función: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">37</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">37</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val % <span class="hljs-number"><span class="hljs-number">2</span></span> != <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  <b>Apuesta por un número específico</b> <br><br>  El jugador también puede apostar en un cierto número, la apuesta para ganar es 35: 1.  Parece genial, pero es fácil adivinar que la probabilidad de que se caiga cierto número de ruleta es 1:38, es decir  de nuevo, un poco menos. <br><br>  Agreguemos la función de apuesta a un número específico: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">38</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val == num</code> </pre> <br>  Simulación, suponemos que el jugador pone el número 10: <br><br><pre> <code class="python hljs">money_total = <span class="hljs-number"><span class="hljs-number">100</span></span> win = <span class="hljs-number"><span class="hljs-number">0</span></span> loss = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): bet = <span class="hljs-number"><span class="hljs-number">1</span></span> step = move_roulette2(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> step <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">35</span></span>*bet win += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: money_total -= bet loss += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Win"</span></span>, win, <span class="hljs-string"><span class="hljs-string">"Loss"</span></span>, loss, <span class="hljs-string"><span class="hljs-string">"Money"</span></span>, money_total</code> </pre> <br>  Como resultado, el jugador ganó 2 veces y perdió 98 veces, el saldo final es -28.u. <br><br><img src="https://habrastorage.org/webt/9u/cz/pp/9uczpprwa1ais2i0mpz0niufmqo.png"><br><br>  <b>Apuesta por dos números</b> <br><br>  Puede apostar en dos números: la posibilidad de ganar es mayor, pero la apuesta es menor y es 17: 1. <br><br>  Escribamos una función: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num1, num2)</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">38</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val == num1 <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == num2</code> </pre> <br>  Para 100 intentos de nuestra simulación, el jugador ganó 3 veces y perdió 97 veces, el saldo fue -46u.e. <br><br>  Hay otros tipos de apuestas, por ejemplo, para 4 números con un coeficiente de 1: 8, aquellos que lo deseen pueden experimentar por su cuenta.  Como puede suponer, todas las probabilidades están diseñadas para que el jugador esté en rojo.  Parece tentador poner 1ye en el número para ganar hasta 35ue.  Pero la cantidad ganadora aumenta en 35 veces, y la posibilidad de ganar disminuye en 38 veces: el saldo final seguirá siendo favorable para el casino. <br><br><h2>  Lotto 6 de 45 </h2><br>  Lo siguiente que es interesante verificar es la lotería.  El principio del juego es bastante simple: hay 45 bolas en el tambor, 6 de ellas caen al azar.  El precio del boleto según el sitio web de Gosloto es de 100 rublos, y el premio depende del número de bolas adivinadas.  El orden aproximado de las ganancias es el siguiente: 2 bolas adivinadas dan una ganancia de 100r, 3 bolas adivinadas dan 300r, 4 bolas - 3000r, 5 bolas - 300.000r y 6 bolas - un super premio de aproximadamente 10.000.000r. <br><br>  Primero, escriba un programa para lanzar bolas y comparar el resultado: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lottery</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(values)</span></span></span><span class="hljs-function">:</span></span> balls = range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">45</span></span>+<span class="hljs-number"><span class="hljs-number">1</span></span>) b1 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b2 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b3 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b4 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b5 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b6 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) s = [b1,b2,b3,b4,b5,b6] res = list(set(s) &amp; set(values)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(res)</code> </pre> <br>  Una bola aleatoria "obtiene" 6 veces del conjunto de bolas, luego se determina el número de elementos de intersección de dos conjuntos.  Ahora construiremos un gráfico de la ganancia total en la cantidad de boletos comprados.  Por simplicidad, suponemos que el jugador apuesta por los mismos números. <br><br><pre> <code class="python hljs">money = [] money_total = <span class="hljs-number"><span class="hljs-number">0</span></span> ticket_price = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(N): val = lottery([<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">28</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">2</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">3</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">300</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">4</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">3000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">5</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">300000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">6</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">10000000</span></span> money.append(money_total) x = range(<span class="hljs-number"><span class="hljs-number">0</span></span>, N) price = map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: ticket_price*x, x) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> matplotlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt %matplotlib inline plt.plot(price, money)</code> </pre> <br>  Para comprender el orden de magnitud: si compra 100 boletos (el monto total gastado será de 10.000 r), esto le dará 14 bolas "dobles" adivinadas y una "triple" adivinada.  La ganancia total es de aproximadamente 2000r con 10,000r gastados. <br><br>  El calendario de pagos para la cantidad gastada es casi lineal: <br><br><img src="https://habrastorage.org/webt/ub/ki/gb/ubkigbaki0kxaoa8rys0m90kvtc.png"><br><br>  Resulta que si compras boletos en un millón, la ganancia será de 250 mil.  El "super premio" en la simulación nunca se cayó, aunque en teoría, ciertamente es posible.  Por cierto, como está escrito en las reglas, el premio total es el 50% de las entradas vendidas, pero el "super premio" no siempre se cae, por lo que con el casino, los organizadores, por supuesto, siempre ganan. <br><br><h2>  Máquinas tragamonedas </h2><br>  También trabajan en un principio (pseudo) aleatorio, "pseudo" porque  El código en ellos ha sido durante mucho tiempo programático y no tiene una mecánica limpia.  Los principios generales descritos anteriormente para las máquinas tragamonedas también funcionan, y los gráficos probablemente no serán diferentes, aquellos que lo deseen pueden agregar la función de simulación por su cuenta. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Un buen artículo</a> sobre el diseño de máquinas de juego ya ha estado en Geektimes. <br><br><h2>  Conclusión </h2><br>  Quizás este artículo no abrió Estados Unidos a muchos, pero en los gráficos es, en principio, más visual.  Resultó ser más interesante comparar un enfoque psicológico fundamentalmente diferente del juego.  Las ganancias en la lotería son potencialmente grandes, pero muy raras.  En los casinos, el enfoque es el opuesto: las apuestas se configuran para que una persona gane con la mayor frecuencia posible.  Condicionalmente, después de haber realizado 10 juegos en un casino, una persona ganará 4 veces y perderá 6 veces.  Esto permite que el jugador no pierda interés en el juego, pero en cualquier caso, el saldo general sigue siendo negativo: una persona ganará muchas veces, pero también perderá un <i>poco más</i> . <br><br>  Quizás esto ya sea tan obvio, pero el artículo trata solo sobre juegos basados ​​en la aleatoriedad, no sobre póker, cartas, ajedrez, etc. ¿Puede haber una "estrategia ganadora" en tales juegos aleatorios?  Obviamente no, porque  ni el hueso, ni la pelota, ni los boletos de lotería tienen memoria, y su comportamiento no depende de iteraciones previas.  Por cierto, es importante recordar este momento: intuitivamente, habiendo perdido varias veces, una persona puede decidir que ahora "definitivamente" ganará.  Por desgracia, no hay ruleta o dado, y no saben sobre el número de intentos anteriores, cada juego comienza esencialmente con una pizarra limpia. <br><br>  Respondiendo la pregunta en el título del artículo: ¿es posible ganar juegos de azar?  Como muestra la simulación, en principio es posible, la teoría de la probabilidad admite.  Pero no por mucho tiempo: vale la pena comenzar a jugar la 2da, 3ra, ... enésima vez, ya que el balance baja.  A la larga, es imposible ganar en el casino. <br><br>  PD: Para aquellos que quieran experimentar, el código fuente en un archivo se presenta bajo el spoiler.  Se puede ejecutar en el IDE de Python en línea, por ejemplo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> .  Para probar la versión europea de la ruleta en lugar de la estadounidense, es suficiente cambiar 38 a 37 en el código.Esta simulación es bastante básica y no tiene en cuenta varios factores adicionales, como la cantidad de dinero que tiene un jugador o el límite de apuestas en un casino, aquellos que lo deseen pueden agregar todo esto de forma independiente.  Bajo el spoiler, también puede ver una versión en video de este artículo. <br><br><div class="spoiler">  <b class="spoiler_title">Video</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/3KXhMu9-OpU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Código fuente</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">craps</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> point = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: val = shoot() <span class="hljs-comment"><span class="hljs-comment"># print " Dice roll:", val if point == 0: # First move if val == 7 or val == 11: return True if val == 2 or val == 3 or val == 12: return False point = val else: # 2..N move if val == 7: return False if val == point: return True def move_roulette1(): val = random.randint(1,38) if val == 37 or val == 38: return False return val % 2 != 0 def move_roulette2(num): val = random.randint(1,38) return val == num def move_roulette3(num1, num2): val = random.randint(1,38) return val == num1 or val == num2 def lotto(values): balls = range(1,46) b1 = balls.pop(random.randint(0, len(balls)-1)) b2 = balls.pop(random.randint(0, len(balls)-1)) b3 = balls.pop(random.randint(0, len(balls)-1)) b4 = balls.pop(random.randint(0, len(balls)-1)) b5 = balls.pop(random.randint(0, len(balls)-1)) b6 = balls.pop(random.randint(0, len(balls)-1)) s = [b1,b2,b3,b4,b5,b6] res = list(set(s) &amp; set(values)) return len(res) money_total = 100 steps = 100 win = 0 loss = 0 for p in range(steps): bet = 1 step = move_roulette1() if step is True: money_total += bet win += 1 else: money_total -= bet loss += 1 print "Step", p+1, "Bet", bet, "Result", step, "Win", win, "Loss", loss, "Money total", money_total</span></span></code> </pre><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es411209/">https://habr.com/ru/post/es411209/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es411197/index.html">Adiós al Palacio Celestial</a></li>
<li><a href="../es411199/index.html">Los inhibidores de CDK2 pueden ayudar a prevenir la pérdida de audición</a></li>
<li><a href="../es411201/index.html">Para su 50 aniversario, Intel lanza computadoras coleccionables basadas en sus procesadores x86, comenzando con 286</a></li>
<li><a href="../es411203/index.html">Destornillador eléctrico de bricolaje o nuestra respuesta Xiaomi</a></li>
<li><a href="../es411207/index.html">Se ha presentado un proyecto de ley sobre criptomonedas a la Duma del Estado: los mineros se verán obligados a registrarse como IP</a></li>
<li><a href="../es411211/index.html">En la cadena de bloques de Bitcoin, encontraron una imagen similar a la pornografía infantil</a></li>
<li><a href="../es411213/index.html">Qué ver en Top 3D Expo 2018</a></li>
<li><a href="../es411215/index.html">No solo orcos en el espacio: los desarrolladores de StarCraft hablan sobre el legado del juego</a></li>
<li><a href="../es411217/index.html">El Ministerio de Comunicaciones ha desarrollado las reglas para ICO en Rusia</a></li>
<li><a href="../es411219/index.html">Nueva oficina de Top 3D Shop abre bajo franquicia en Yakutsk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>