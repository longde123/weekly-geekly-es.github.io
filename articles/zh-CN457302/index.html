<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌧️ 🔬 📏 加快Python数据分析的10个功能 🧚 🎈 🆗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="来源 


 技巧和窍门，特别是在编程中，可能会很有帮助。 小型的shot弹枪，插件或hack可以节省大量时间，并大大提高生产率。 我收集了我最喜欢的文章，并从中撰写了这篇文章。 下面的一些技巧已为许多人所熟知，并且最近出现了一些。 无论如何，我确信当您再次着手进行数据分析项目时，它们肯定不会多余。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>加快Python数据分析的10个功能</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457302/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2fa/0a8/c6d/2fa0a8c6dad39ef8009d6e8d3726ab1e.jpg"></div>  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">来源</a></em> <br><p> 技巧和窍门，特别是在编程中，可能会很有帮助。 小型的shot弹枪，插件或hack可以节省大量时间，并大大提高生产率。 我收集了我最喜欢的文章，并从中撰写了这篇文章。 下面的一些技巧已为许多人所熟知，并且最近出现了一些。 无论如何，我确信当您再次着手进行数据分析项目时，它们肯定不会多余。 </p><br><h3>  1.分析熊猫数据框 </h3><br><p> 分析可以帮助我们更好地理解我们的数据， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><strong>Pandas分析</strong></a>包正是为此而创建的。 该库将提供一种简便，快捷的方法来<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">对</a> Pandas Dataframe进行<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">探索性分析</a> 。 通常，在这种情况下，将<strong>df.describe（）</strong>和<strong>df.info（）</strong>函数用作第一步，但它们报告的很少，并且对大型数据集的处理效果不佳。 相比之下，使用<strong>Pandas Profiling的</strong>一行代码将在交互式HTML报告中输出很多信息。 </p><br><p> 这是给定数据集的计算结果： </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cbc/67e/976/cbc67e9767c87b2831ecee85b8bfd64c.png"></div>  <em>Pandas Profiling输出的统计信息。</em> <br><h4> 安装方式 </h4><br><pre><code class="plaintext hljs">pip install pandas-profiling  conda install -c anaconda pandas-profiling</code> </pre> <br><h4> 使用方法 </h4><br><p> 让我们使用《泰坦尼克号》乘客数据集展示分析器。 </p><a name="habracut"></a><br><pre> <code class="plaintext hljs">#    import pandas as pd import pandas_profiling</code> </pre> <br><pre> <code class="plaintext hljs">df = pd.read_csv('titanic/train.csv') pandas_profiling.ProfileReport(df)</code> </pre> <br><p> 这就是显示分析结果所需的全部。 该报告充满了详细信息，包括适当的图表。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d5/53a/185/8d553a185bc224daeeed43ac7171b805.gif"></div><br><p> 该报告可以导出到<strong>交互式HTML文件</strong> ： </p><br><pre> <code class="plaintext hljs">profile = pandas_profiling.ProfileReport(df) profile.to_file(outputfile="Titanic data profiling.html")</code> </pre> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/558/438/e48/558438e4824d0441994a8057ee153cc8.gif"></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://htmlpreview.github.io/%3F"><strong>单击此处</strong></a>观看直播。 </p><br><p>  <em>（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">带示例的文件夹</a> -大约翻译）</em> </p><br><hr><br><h3>  2.使熊猫图形互动 </h3><br><p>  <strong>Pandas中</strong>的<strong>DataFrame</strong>类具有内置的<strong>.plot（）</strong>函数。 但是，在其帮助下创建的可视化不是交互式的，我想改进它。 另一方面，我也不想放弃使用该功能的简单性。 如果我们可以使<strong>Pandas</strong>图形互动，而无需实际更改代码怎么办？  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><strong>Cufflinks</strong></a>库完全可以做到这一点<strong>。</strong> </p><br><p>  <strong>袖扣</strong>将<strong>Plots的</strong>优势与<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Pandas</a>交互式绘图<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>灵活性相结合。 让我们看看如何安装该库并使它与<strong>Pandas一起使用</strong> 。 </p><br><h4> 安装方式 </h4><br><pre> <code class="plaintext hljs">pip install plotly # Plotly     Cufflinks pip install cufflinks</code> </pre> <br><h4> 使用方法 </h4><br><pre> <code class="plaintext hljs">#  Pandas import pandas as pd # plotly  cufflinks    import cufflinks as cf</code> </pre> <br><pre> <code class="plaintext hljs">import plotly.offline cf.go_offline() cf.set_config_file(offline=False, world_readable=True)</code> </pre> <br><p> 是时候在泰坦尼克号乘客的数据上查看仪器的所有功能了。 </p><br><pre> <code class="plaintext hljs">df.iplot()</code> </pre> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/675/b86/86d/675b8686d506b16430aa79c316534cba.gif"></div><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/154/cad/3b8/154cad3b8ca80ddb533c71fe3b358d88.png"></div>  <em><strong>df.plot（）</strong>与<strong>df.iplot（）</strong>比较</em> <br><p> 底部的可视化图显示了一个静态图，而上方的图则是交互式的且更加详细，所有这些都没有任何重大的语法更改。 </p><br><p>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里</a></strong>您可以看到更多示例。 </p><br><hr><br><h3>  3.一点魔力 </h3><br><p>  <strong>魔术命令</strong>是Jupyter笔记本电脑中的一组便捷功能，旨在解决标准数据分析的常见任务。 您可以使用<strong>％lsmagic</strong>查看所有可用功能。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/864/a49/0eb/864a490ebc5293d28ec27d784e3771b4.png"></div>  <em>所有可用的“魔术”功能列表</em> <br><p> 魔术命令有两种类型： <strong><em>行</em></strong>魔术，以单个<strong>％</strong>开头并在同一行上工作。 和<strong><em>细胞魔法</em></strong> ，它们与double <strong>%%</strong>相关联并且可以在多行上使用。 </p><br><p> 让我们看看在常规数据分析任务中有用的那些： </p><br><ul><li>  <strong>％糊盒</strong> </li></ul><br><p>  <strong>％pastebin</strong>将代码加载到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Pastebin中</a>并返回url。  Pastebin是一个站点，我们可以在其中保存纯文本（例如，源代码的一部分），然后将链接传递给其他人。 实际上，GitHub Gist与Pastebin类似，尽管具有版本控制。 </p><br><p> 考虑以下脚本： </p><br><pre> <code class="plaintext hljs"># file.py def foo(x): return x</code> </pre> <br><p> 在Jupyter Notebook中使用<strong>％pastebin将</strong>在Pastebin上创建url。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ad0/b83/c34/ad0b83c34d0b0fa8f3bb39da518b78b4.png"></div><br><ul><li>  <strong>％matplotlib笔记本</strong> </li></ul><br><p>  <strong>％matplotlib内联命令</strong>用于在Jupyter Notebook中可视化<strong>matplotlib</strong>静态图。 用<strong>Notebook</strong>替换<strong>inline</strong>以获取可扩展和可变的图表。 只需确保在导入<strong>matplotlib</strong>之前已添加命令。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a05/e84/436/a05e84436f764c3fac9d17b9b5f70126.png"></div>  <em><strong>％matplotlib内联</strong>与<strong>％matplotlib笔记本</strong>相比</em> <br><ul><li>  <strong>运行百分比</strong> </li></ul><br><p>  <strong>％run</strong>命令在Jupyter Notebook中运行脚本。 </p><br><pre> <code class="plaintext hljs">%run file.py</code> </pre> <br><ul><li>  <strong>%%写文件</strong> </li></ul><br><p>  <strong>%% writefile</strong>将单元格的内容写入文件。 下面的代码将被写入名为<strong>foo.py</strong>的文件中，并保存在当前目录中。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aee/725/973/aee7259735bddf17b6d96629f7832eb6.png"></div><br><ul><li>  <strong>%%乳胶</strong> </li></ul><br><p>  <strong>%%乳胶</strong>功能将单元格的内容显示为LaTeX。 这对于在单元格中编写数学公式和方程式很有用。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fe5/b0f/389/fe5b0f3890309ed52ddb28fc71f69948.png"></div><br><hr><br><h3>  4.故障排除 </h3><br><p>  <strong>交互式调试器</strong>也是一支神奇的团队，但我给了自己一个类别。 如果使用代码启动单元格时发生异常，请在新行上输入<strong>％debug</strong>命令并执行它。 将打开一个交互式调试环境，其中显示了发生异常的位置。 您可以检查变量的值并执行各种操作。 要退出调试器，请按<strong>q</strong> 。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f5a/eb8/e9a/f5aeb8e9acee7ac2fa697adfc2219f9d.gif"></div><br><hr><br><h3>  5.结论可以很美 </h3><br><p> 如果您希望数据结构漂亮地显示，那么<strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pprint</a></strong>是您的选择。 这在打印字典或JSON数据时特别有用。 让我们看一下同时使用print和pprint进行输出的代码。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/378/b2c/860/378b2c860e0ccd6754d35b7aab8e34d0.png"></div><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac1/a3a/32b/ac1a3a32b1b2fc47e2d93f0f89a91b61.png"></div><br><hr><br><h3>  6.突出说明 </h3><br><p> 我们可以在Jupyter笔记本中使用警报来突出显示重要的内容。 颜色将取决于警报的类型。 只需将以下任何或所有以下代码添加到要突出显示的单元格即可。 </p><br><ul><li>  <strong>蓝色警报：信息</strong> </li></ul><br><pre> <code class="plaintext hljs">&lt;div class="alert alert-block alert-info"&gt; &lt;b&gt;Tip:&lt;/b&gt; Use blue boxes (alert-info) for tips and notes. If it's a note, you don't have to include the word “Note”. &lt;/div&gt;</code> </pre> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/26a/531/0b4/26a5310b431e582d94b54d7314b9c1c2.png"></div><br><ul><li>  <strong>黄色警报：警告</strong> </li></ul><br><pre> <code class="plaintext hljs">&lt;div class="alert alert-block alert-warning"&gt; &lt;b&gt;Example:&lt;/b&gt; Yellow Boxes are generally used to include additional examples or mathematical formulas. &lt;/div&gt;</code> </pre> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/63c/0ef/ff2/63c0efff2c01a23ebc441afddb98a390.png"></div><br><ul><li>  <strong>绿色警报：成功</strong> </li></ul><br><pre> <code class="plaintext hljs">&lt;div class="alert alert-block alert-success"&gt; Use green box only when necessary like to display links to related content. &lt;/div&gt;</code> </pre> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7e4/889/d55/7e4889d555bfea22648b2dd627f1709c.png"></div><br><ul><li>  <strong>红色警报：危险</strong> </li></ul><br><pre> <code class="plaintext hljs">&lt;div class="alert alert-block alert-danger"&gt; It is good to avoid red boxes but can be used to alert users to not delete some important part of code etc. &lt;/div&gt;</code> </pre> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/64f/09a/49f/64f09a49fbb32355106d0c129ce3a447.png"></div><br><hr><br><h3>  7.在单元格中打印每个输出 </h3><br><p> 考虑一个包含以下代码的Jupyter Notebook单元： </p><br><pre> <code class="plaintext hljs">In [1]: 10+5 11+6</code> </pre> <br><pre> <code class="plaintext hljs">Out [1]: 17</code> </pre> <br><p> 这是仅输出最后一个输出的单元格的正常属性，对于其他单元格，我们需要添加<strong>print（）</strong>函数。 好吧，事实证明，我们可以通过从上方添加以下片段来打印所有结论： </p><br><pre> <code class="plaintext hljs">from IPython.core.interactiveshell import InteractiveShell InteractiveShell.ast_node_interactivity = "all"</code> </pre> <br><p> 现在，所有结论都陆续印出。 </p><br><pre> <code class="plaintext hljs">In [1]: 10+5 11+6 12+7</code> </pre> <br><pre> <code class="plaintext hljs">Out [1]: 15 Out [1]: 17 Out [1]: 19</code> </pre> <br><p> 要返回初始设置： </p><br><pre> <code class="plaintext hljs">InteractiveShell.ast_node_interactivity = "last_expr"</code> </pre> <br><hr><br><h3>  8.使用-i选项运行Python脚本。 </h3><br><p> 从命令行运行Python脚本的典型方法是： <strong>python hello.py</strong> 。 但是，如果您添加参数-i，即 致电<strong>python -i hello.py，</strong>您将获得更多。 让我们看看到底是什么。 </p><br><ul><li> 首先，一旦到达程序末尾，Python将不再退出解释器。 因此，我们可以检查变量的值以及程序中定义的函数的正确性。 </li></ul><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2de/c64/2e5/2dec642e590f9fd26885367f56c8eebf.gif"></div><br><ul><li> 其次，由于我们仍在解释器中，因此我们可以轻松地调用python调试器： </li></ul><br><pre> <code class="plaintext hljs">import pdb pdb.pm()</code> </pre> <br><p> 这将导致我们到达发生异常的地方，并且我们可以继续处理代码。 </p><br><p>  <em>功能的原始</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>来源</em></a> <em>。</em> </p><br><hr><br><h3>  9.自动（ras）代码注释 </h3><br><p>  <strong>Ctrl / Cmd + /</strong>在单元格中的选定行上自动注释。 再按一次组合键将取消注释相同的行。 </p><br><p>  <em>（顺便说一下，这对于其他编辑器（例如Pycharm或Sublime Text-大约翻译）是正确的。）</em> </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f13/871/253/f13871253910498695f69985bddcef46.gif"></div><br><hr><br><h3>  10.取消随机动作 </h3><br><p> 您是否曾经不小心删除了Jupyter Notebook单元？ 如果是这样，那么以下是将取消此操作的shot口。 </p><br><ul><li> 如果您删除了单元格中的内容，则可以通过按<strong>CTRL / CMD + Z</strong>轻松还原它 </li><li> 如果您需要恢复已删除的单元格本身<strong>-ESC + Z</strong>或<strong>EDIT&gt;撤消删除单元格</strong> </li></ul><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1da/0aa/6aa/1da0aa6aa5086a7479994e34df58bbb5.gif"></div><br><hr><br><h3> 结论 </h3><br><p> 在本文中，我列出了在使用Python和Jupyter Notebooks时对我有帮助的基本技巧。 希望他们也能为您提供帮助。 编码愉快！ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN457302/">https://habr.com/ru/post/zh-CN457302/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN457290/index.html">DEFCON 25会议，Garry Kasparov。 “大脑的最后一战。” 第二部分</a></li>
<li><a href="../zh-CN457292/index.html">OpenGL中的WBOIT：无需排序即可透明</a></li>
<li><a href="../zh-CN457294/index.html">“过高的生活”或我从拖延到自我发展的故事</a></li>
<li><a href="../zh-CN457298/index.html">前端每周摘要（2019年6月17日至23日）</a></li>
<li><a href="../zh-CN457300/index.html">上周第370期（2019年6月17日至23日）从前端世界中摘录的新鲜材料摘要</a></li>
<li><a href="../zh-CN457304/index.html">移动应用统计服务</a></li>
<li><a href="../zh-CN457306/index.html">古罗马和基本粒子</a></li>
<li><a href="../zh-CN457308/index.html">在Sergey Pavlovich Korolev的路上。 俄罗斯现代载人工程。 第2部分。火箭</a></li>
<li><a href="../zh-CN457310/index.html">信息依赖生物学</a></li>
<li><a href="../zh-CN457312/index.html">集合论导论</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>