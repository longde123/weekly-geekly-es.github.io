<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèπ üßñüèΩ ‚Ü™Ô∏è Tragbare Wanderwetterstation MiniBTH2 / 2M üçÇ üé® üõ°Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im vorherigen ArtikelDie Entstehungsgeschichte und Erfahrung mit der Verwendung der miniBTH-Feldwetterstation wurde beschrieben. Dieses Instrument mis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tragbare Wanderwetterstation MiniBTH2 / 2M</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/384641/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im vorherigen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Entstehungsgeschichte und Erfahrung mit der Verwendung der miniBTH-Feldwetterstation wurde beschrieben. Dieses Instrument misst den aktuellen Luftdruck, die Temperatur und die Luftfeuchtigkeit und zeigt sie kontinuierlich grafisch auf dem Bildschirm an. Alle gemessenen Parameter werden einmal pro Minute auf der Speicherkarte gespeichert. Dar√ºber hinaus verf√ºgt das Ger√§t √ºber einen Lichtsensor, und Daten vom Drucksensor k√∂nnen in eine barometrische H√∂he umgewandelt werden. Dank der Verwendung eines transflektiven Bildschirms sind die Messwerte des Ger√§ts auch bei hellem Sonnenlicht gut lesbar, und das Geh√§use des Ger√§ts ist versiegelt. Die Erfahrungen mit der Verwendung dieses Ger√§ts erwiesen sich im Allgemeinen als positiv, es wurden jedoch eine Reihe von M√§ngeln festgestellt, die in einem fr√ºheren Artikel ausf√ºhrlich untersucht wurden, wobei das Hauptproblem viel Gewicht war. In diesem Artikel werden wir die Erstellung und Bedienung der zweiten, bequemeren und funktionaleren Version betrachten. HinweisDa sich zum Zeitpunkt des Schreibens des letzten Artikels die zweite Version des Ger√§ts bereits in einem hohen Grad an Bereitschaft befand, wurden dort die wichtigsten M√∂glichkeiten zur √úberwindung der M√§ngel beschrieben.</font></font><br>
<br>
<img src="https://habrastorage.org/files/e32/be3/80f/e32be380f9124532be2521ebdd13cd1a.jpg"><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neues Ger√§tedesign und Gewichtsreduzierung</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste MiniBTH-Wetterstation wurde als eigenst√§ndiges Ger√§t konzipiert, das haupts√§chlich f√ºr Wanderungen entwickelt wurde. </font><font style="vertical-align: inherit;">Aus diesem Grund wurde der Instrumentenkoffer luftdicht gemacht, ein transflektiver Bildschirm verwendet und die Batteriekapazit√§t f√ºr mehr als einen Betriebsmonat berechnet. </font><font style="vertical-align: inherit;">Der Hauptnachteil der ersten Version war meiner Meinung nach viel Gewicht, deshalb habe ich beschlossen, die zweite Version so kompakt und leicht wie m√∂glich zu gestalten. </font><font style="vertical-align: inherit;">Dazu m√ºssen Sie die Platine des Ger√§ts von der kleinstm√∂glichen Gr√∂√üe trennen: etwas gr√∂√üer als der Bildschirm, und das Geh√§use so d√ºnn und ummauert wie m√∂glich gestalten. </font><font style="vertical-align: inherit;">Die elektronischen und Software-Teile werden sp√§ter besprochen, aber jetzt wenden wir uns dem Design des Geh√§uses der zweiten Version des Ger√§ts zu. </font><font style="vertical-align: inherit;">Die Hauptideen zur Reduzierung der Gr√∂√üe des Falles waren wie folgt:</font></font><br>
<br>
<ul>
<li>  ,       ,     .</li>
<li>    ,        .</li>
<li>    .             ,     .</li>
<li>      .</li>
<li>        .</li>
<li>    ¬´¬ª     .</li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen war es m√∂glich, die vorgeschlagenen Ideen miteinander in Einklang zu bringen und aus Capralon ein ziemlich kompaktes Geh√§use mit folgendem Design herzustellen: </font></font><br>
<br>
<img src="https://habrastorage.org/files/731/687/dbc/731687dbc17646cd8c8dcb8fdd33b792.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Sensoreinheit</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> soll abnehmbar sein, mit zwei Schrauben am Geh√§use befestigt sein, und die Dichtheit des Andockens der Sensoreinheit und des Geh√§uses wird durch eine ringf√∂rmige Dichtung sichergestellt, durch die Dr√§hte verlaufen. Der Sensorsatz wird wie in der ersten Version des Ger√§ts verwendet - Drucksensor MS5803 und Feuchtigkeitssensor sht21. Die Sensoreinheit selbst ist mit Dichtmittel aus zwei Capralonkappen verklebt. Zwischen ihnen befindet sich eine Platine, auf der die Sensoren montiert sind. Die Platte besteht aus Glasfaser mit einer Dicke von 0,75 mm. W√§hrend des Zusammenbaus des Ger√§ts wurde das Fenster zum Schutz des Feuchtigkeitssensors vor den vom Dichtmittel freigesetzten D√§mpfen mit Kapton-Klebeband (wie in der Dokumentation empfohlen) versiegelt.</font></font><br>
<br>
<img src="https://habrastorage.org/files/384/7c1/3e8/3847c13e8c024fb8afe48c6f04e9d792.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Design der Sensoreinheit ber√ºcksichtigt die M√§ngel, die beim Betrieb der ersten Version des Ger√§ts festgestellt wurden. Der Feuchtigkeitssensor ist nicht mit einer Netzkappe SF2 abgedeckt, sondern wird einfach in die Aussparung des Ger√§ts eingesetzt. Dies l√∂st das Problem des Benetzens der Kappe, was zu einem l√§ngeren ‚ÄûAnhaften‚Äú der Feuchtigkeitsmesswerte an der Maximalmarke f√ºhrt, und gleichzeitig verhindert die Stelle in der Aussparung mit der empfindlichen Seite des K√∂rpers eine Besch√§digung durch externe Gegenst√§nde. Am Sensorblock des Ger√§ts der Version 2M befindet sich ein zus√§tzlicher Vorsprung, um den Feuchtigkeitssensor vor Besch√§digung durch lange, d√ºnne Gegenst√§nde zu sch√ºtzen. Das Problem des Schutzes des Drucksensors MS5803 vor direkter Sonneneinstrahlung wird auch in der Entwurfsphase des Ger√§ts gel√∂st. Der empfindliche Teil des Sensors ist mit einer Kappe aus schwarzem Polystyrol bedeckt, die in eine Aussparung im Geh√§use eingeklebt ist.Da der Sensor auch von der R√ºckseite empfindlich auf Beleuchtung reagiert, verbleibt die Metallisierung auf der Platine am Installationsort auf der gegen√ºberliegenden Seite.</font></font><br>
<br>
<img src="https://habrastorage.org/files/cd1/a43/644/cd1a4364424f48fc9f04ed2fb7bfd4d4.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Luftzugang zum Drucksensor erfolgt √ºber einen d√ºnnen Kanal (0,5 mm) zwischen dem Instrumentengeh√§use und dem Sensorblock. Beachten Sie, dass bei der Auswahl dieser Ausf√ºhrung des Sensorblocks Bedenken bestanden, dass im Regen Wasser in einen d√ºnnen Spalt zwischen dem Sensorblock und dem Ger√§tek√∂rper flie√üen und den Luftzugangskanal direkt zum Drucksensor vollst√§ndig blockieren w√ºrde, was zu einem systematischen Fehler bei den Druckmesswerten aufgrund von f√ºhren w√ºrde Oberfl√§chenspannung von Wasser. Tests der Ger√§te im Regen und unter der Dusche zeigten, dass aufgrund der Nichtbenetzbarkeit von Capralon bei einer Kanaldicke von 0,5 mm keine Leckage auftritt. Gr√ºndlichere Experimente haben gezeigt, dass, wenn der Sensorblock mit einer Neigung installiert wird und dadurch die Kanaldicke verringert wird, bis die Kante des Sensorblocks das Geh√§use ber√ºhrt, Wasser in das Geh√§use des Instruments austreten kann.und f√ºhrt zu einer Abnahme der Druckwerte um etwa 0,7 mm Hg. Bei gleichm√§√üiger Installation der Sensoreinheit tritt kein Wasser aus.</font></font><br>
<br>
<b>   </b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auf den ersten Blick hat sich √§u√üerlich wenig ge√§ndert, aber in seinem Design mussten eine Reihe neuer technischer L√∂sungen angewendet werden. Einerseits erfordert die Verringerung der Anzahl der Klemmschrauben und die Vergr√∂√üerung des Abstands zwischen ihnen einen steiferen Klemmrahmen und / oder eine weichere Dichtung, um ein Zusammendr√ºcken der Dichtung √ºber ihre gesamte L√§nge sicherzustellen. Andererseits wurde aus Gr√ºnden der Bequemlichkeit der Verwendung des Ger√§ts beschlossen, den Klemmrahmen aus Kunststoff herzustellen, was im Gegenteil seine Steifigkeit verringert. Eine M√∂glichkeit, diesen Widerspruch zu l√∂sen, ist die Verwendung eines weicheren Gummipads. Diese Option ist sinnvoller als der Versuch, ‚ÄûKr√ºcken‚Äú in Form des Einf√ºhrens von starren Metalleins√§tzen oder elastischen Elementen in die Struktur des Klemmrahmens einzubauen und dasselbe harte Band vom Tonbandger√§t als Dichtung zu verwenden.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach einer kurzen Suche im Internet wurde eine L√∂sung gefunden, wie man Gummidichtungen selbst herstellt. F√ºr die Herstellung von Formen und Dichtungen werden spezielle Zweikomponentensilikone verwendet. Die Technologie f√ºr die Arbeit mit diesen Silikonen sieht kurz wie folgt aus: Zwei fl√ºssige Komponenten m√ºssen zusammengemischt werden, danach gie√üen sie einige Minuten in die Form und warten, bis die Zusammensetzung ausgeh√§rtet ist. Nach dem Aush√§rten wird ein sehr flexibler und weicher Silikonkautschuk erhalten, der sich leicht von der Form trennt, in der er sich verfestigt. Es gibt ganze Linien solcher Silikone verschiedener Hersteller, die sich untereinander durch die Art des verwendeten H√§rterkatalysators und die physikomechanischen und chemischen Eigenschaften des resultierenden Kautschuks unterscheiden. Alle Silikone haben eine Bruchdehnung von Hunderten von Prozent.relativ weich, kann bei Temperaturen bis zu 200 Grad Celsius arbeiten und ist relativ chemisch best√§ndig. Silikone mit einem Platinkatalysator sind chemisch stabiler und haben eine Lebensmitteltoleranz. Eine der typischen Anwendungen solcher Silikone ist die Herstellung von Formen zum Gie√üen aus Gips, Zement, Seife oder sogar Schokolade. Die zweite typische Anwendung ist die Herstellung von Dichtungen.</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úber die Herstellung von Silikonkautschukdichtungen</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In seiner Stadt fand er einen Lieferanten, der eine ganze Reihe von Silikonen mit einem Sk-76x-Zinnkatalysator und Sk-790-Platinsilikon anbietet. </font><font style="vertical-align: inherit;">F√ºr Experimente kaufte ich zwei Sets - Sk-790 Platinkatalysatorsilikon und Sk-762 weichstes Silikon und begann mit dem Gie√üen zu experimentieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In meinem Fall war die Herstellung einer Form zum Gie√üen kein Problem, ich habe nur die Rillen der gew√ºnschten Form in eine Folie aus Polymethylacrylat gefr√§st. Zuerst sollte es Silikon in die Form gie√üen und es oben mit einer zweiten flachen Scheibe organischen Glases bedecken, wobei das √ºbersch√ºssige Silikon herausgedr√ºckt wurde. Es stellte sich jedoch heraus, dass nicht alles so einfach ist, und ich habe die Technologie leicht ge√§ndert. Das Hauptproblem beim Gie√üen von Silikon sind Luftblasen. Sie entstehen sowohl beim Mischen der Ausgangskomponenten als auch beim Gie√üen der Zusammensetzung in eine Form. Eine der vom Hersteller empfohlenen Methoden zur Kontrolle der Blasen besteht darin, das zum Gie√üen vorbereitete Silikon vor dem Gie√üen einige Minuten lang in ein Vakuum zu setzen. In einem Vakuum quellen alle Blasen auf und platzen, und die gesamte Luft tritt aus ihnen aus. √Ñu√üerlich erinnert es vage an au√üer Kontrolle geratene Milch. Um die Blasen zu bek√§mpfenW√§hrend des Gie√üens entsteht, k√∂nnen Sie die Zusammensetzung nach dem Gie√üen schw√∂ren. Ich beschloss jedoch, meine Kollegen mit einer Vakuumkammer nicht zu belasten und nach einem einfacheren Weg zu suchen, um blasenfreie Gussteile herzustellen. Dies stellte sich als nicht so schwierig heraus, da alle beim Mischen und Gie√üen gebildeten Blasen ziemlich gro√ü sind. Offensichtlich verhindert die Viskosit√§t von Silikon die Bildung kleiner Blasen w√§hrend des Lufteinfangs oder durch Zerkleinern gro√üer Blasen. Daher sind die Blasen mit dem Auge deutlich sichtbar und k√∂nnen sogar einige Millimeter bis zur Aush√§rtung des Silikons schweben. Daher sollte die Gie√ütechnologie wie folgt aussehen: Silikon wird mit √úberschuss entlang der Nut in der Form aufgetragen, und nach einigen Minuten wird das √ºbersch√ºssige Silikon zusammen mit allen Blasen mit einem Metallspatel entfernt. Wenn die Blase an der Wand der Form haftet,es kann mit dem gleichen Schulterblatt entfernt werden. Die Oberseite der F√ºllung wird aufgrund der Einwirkung von Oberfl√§chenspannung und Schwerkraft glatt. Die Hauptsache ist, √ºbersch√ºssiges Silikon gleichm√§√üig von der Oberseite der Form zu entfernen. Wenn Sie das Gussteil jedoch mit einem Deckel abdecken, besteht ein gro√ües Risiko, dass die Luftblase in die Form gelangt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somit wurde das Problem der Herstellung von Dichtungen jeglicher Form gel√∂st, wodurch es m√∂glich wurde, eine geeignete Designoption f√ºr die vordere Abdeckung zu w√§hlen. Ein separates Dilemma war die Wahl des Materials f√ºr den transparenten Teil des Deckels. Mir stehen zwei Arten von transparentem Material zur Verf√ºgung. Eines ist viskoses und flexibles Polycarbonat, das jedoch nicht sehr widerstandsf√§hig gegen mechanische Beanspruchung ist und nicht sehr transparent ist, sondern einen bl√§ulichen Farbton aufweist. Das zweite ist transparentes, aber zerbrechliches Polymethylacrylat. Trotz der Tatsache, dass in der ersten Version des Ger√§ts Polycarbonat verwendet wurde, entschied ich mich in der zweiten f√ºr die Verwendung von Polymethylacrylat. Einerseits ist es transparenter, was die Lesbarkeit des Bildschirms bei hellem Streulicht verbessert, andererseits f√ºhrt es zu weniger Abweichungen bei den Messwerten von Lichtsensoren. Au√üerdem ist es unter √§hnlichen Betriebsbedingungen weniger zerkratzt.Um die Wahrscheinlichkeit von Acrylatrissen w√§hrend eines Frontalaufpralls zu verringern und das Erscheinungsbild des Ger√§ts zu verbessern, wird die transparente Abdeckung dick (5 mm) gemacht und der Druckrahmen auf einer speziellen gefr√§sten Kante montiert. Die obere Abdeckung dieses Designs erweist sich als ziemlich steif und kann sowohl mit einer weichen Silikondichtung Sk-762 als auch mit einer steiferen Dichtung von Sk-790 verwendet werden. Am Ende habe ich mich f√ºr Silikon 790 entschieden, weil es mit einem Platinkatalysator arbeitet und chemisch inerter ist.und kann sowohl mit einer weichen Silikondichtung Sk-762 als auch mit einer steiferen Dichtung von Sk-790 verwendet werden. Am Ende habe ich mich f√ºr Silikon 790 entschieden, weil es mit einem Platinkatalysator arbeitet und chemisch inerter ist.und kann sowohl mit einer weichen Silikondichtung Sk-762 als auch mit einer steiferen Dichtung von Sk-790 verwendet werden. Am Ende habe ich mich f√ºr Silikon 790 entschieden, weil es mit einem Platinkatalysator arbeitet und chemisch inerter ist.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a20/604/278/a20604278d4c4e50be78f51b7eecde27.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die M√∂glichkeit, Dichtungen jeder Form zu gie√üen, erm√∂glichte es, eine Luke f√ºr den schnellen Zugriff auf SD zu erstellen, die in der 2M-Version des Ger√§ts implementiert war. Schlie√ülich nahm die Idee, die Luke herzustellen, ziemlich sp√§t Gestalt an, als die Ger√§teversion 2 zusammengebaut und hergestellt wurde. Das Erstellen der Luke beruhte auf drei Problemen - wie man sie versiegelt, wo man sie platziert und wie man sie repariert. Das erste Problem wird gel√∂st, indem die Dichtung in die gew√ºnschte Form gebracht wird. Das zweite Problem wurde ebenfalls gel√∂st, da sich in der Aussparung an der Unterseite eine freie Stelle befindet, an der es bequem ist, den nach au√üen ragenden Deckel zu verbergen. Ich habe das dritte Problem meiner Meinung nach auf einfachste Weise gel√∂st - die Luke ist mit Schrauben befestigt. Einerseits √∂ffnen Sie nicht ohne Schl√ºssel, aber zuf√§llig wird es auch nicht ge√∂ffnet. Bei seriell versiegelten Ger√§ten werden die Abdeckungen h√§ufig auch mit Schrauben befestigt.</font></font><br>
<br>
<img src="https://habrastorage.org/files/9b1/576/58d/9b157658d7de432cae6814881aee559d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Luke selbst befindet sich im unteren Teil des K√∂rpers und ist ein durchbohrtes Loch von l√§nglicher Form mit einer T-f√∂rmigen Stufe in dem Abschnitt, auf den die Dichtung gecrimpt wird. Au√üen wird die Dichtung durch eine flache Abdeckung gedr√ºckt, die mit zwei M3x5-Schrauben am Geh√§use befestigt ist. Die Dicke der Bodenwand des Geh√§uses betr√§gt 5 mm, die Tiefe der Kante betr√§gt 2 mm, die Dicke der nicht komprimierten Dichtung betr√§gt 2,5 mm und die Dicke des Deckels betr√§gt 2 mm. Die L√∂cher, in die die Schrauben eingeschraubt werden, sind nicht durchgehend, sie sind um 3,9 mm in den K√∂rper eingelassen, das Gewinde in ihnen ist fast bis zur gesamten Tiefe geschnitten. Das Einf√§deln ist auf einer mir zur Verf√ºgung stehenden CNC-Maschine nicht m√∂glich, daher wurde es mit drei speziell gesch√§rften Gewindebohrern und einem Schraubendreher durchgef√ºhrt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das fertige Geh√§use wurde durch 12-st√ºndiges Eintauchen in Wasser auf Dichtheit gepr√ºft. </font><font style="vertical-align: inherit;">Filterpapier wurde verwendet, um m√∂gliche Lecks festzustellen. </font><font style="vertical-align: inherit;">Die Geh√§use waren luftdicht. </font><font style="vertical-align: inherit;">Um die Kondensation von Wasser im Inneren des Geh√§uses bei niedrigen Temperaturen zu verhindern, wird ein Stoffbeutel mit Kieselgel in das freie Volumen in der N√§he der Batterie gelegt. </font><font style="vertical-align: inherit;">Tests und weitere Operationen haben gezeigt, dass sich im Geh√§use kein Kondenswasser bildet.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úber die Entwicklung des elektronischen Teils</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der elektronische Teil der zweiten Version des Ger√§ts ist in Bezug auf die verwendeten L√∂sungen der ersten Version sehr √§hnlich. </font><font style="vertical-align: inherit;">Als Hauptprozessor wird der ATmega1284p-Mikrocontroller verwendet, der mit einer Frequenz von 8 MHz arbeitet.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/878/13e/3f3/87813e3f3d8147a382fab117e5e6892e.gif"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle DS1337-Sensoren und Echtzeituhren sind √ºber den I2C-Bus mit ihm verbunden. Ein zus√§tzliches Signal mit einer Frequenz von 1 Hz wird an einen separaten Eingang des Prozessormikrocontrollers angeschlossen. Auf diese Weise k√∂nnen Sie den Schlafmodus bei gestoppter Hauptuhr verwenden, um die Energieeffizienz zu verbessern. Der Akku wird √ºber den max1879-Controller mit einem externen Schl√ºssel aufgeladen. Jetzt ist er √ºber Druckverschraubungen direkt mit dem Ladeger√§t verbunden. Zur Anzeige des Ladestroms wird am Operationsverst√§rker TS321 eine Strommessschaltung eingef√ºhrt, die der in der ersten Version des Ger√§ts verwendeten v√∂llig √§hnlich ist. Der Bildschirm und die SD-Karte sind √ºber denselben SPI-Bus mit dem Controller verbunden. Jetzt bietet die Schaltung jedoch die M√∂glichkeit, die Stromversorgung der SD-Karte auszuschalten, wenn sie nicht verwendet wird.Die Touch-Tasten an den Phasendetektoren √§hneln denen der ersten Version des Ger√§ts.</font></font><br>
<br>
<img src="https://habrastorage.org/files/41f/896/8f1/41f8968f1a724007bedfe025b6226a3b.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Platten der Touch-Tasten befinden sich auf der Seitenwand des Ger√§ts, und √ºber ihnen wird f√ºr eine einfache Blindsuche gefr√§st. </font><font style="vertical-align: inherit;">Es gibt noch drei Tasten, die obere hei√üt √ºblicherweise "Eingabe", die mittlere "-" und die untere "+". </font><font style="vertical-align: inherit;">Fast alle Details des Ger√§ts konnten auf einer 59 x 41 mm gro√üen Platine mit abgerundeten Kanten platziert werden. </font><font style="vertical-align: inherit;">Nur Schutzsapressoren und L2-L3-Spulen sind direkt an den Schrauben montiert - hermetische Einl√§sse. </font></font><br>
<br>
<img src="https://habrastorage.org/files/80b/bdc/33b/80bbdc33b7ca4ce981616b24365ab203.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Lichtsensoren befinden sich auf einer separaten d√ºnnen Platine √ºber dem Display. </font><font style="vertical-align: inherit;">Die Gr√∂√üe der Platine wird so gew√§hlt, dass das Display im zusammengebauten Zustand fast die gesamte Vorderseite der Platine abdeckt. </font></font><br>
<br>
<img src="https://habrastorage.org/files/93b/09a/1e9/93b09a1e932c40498eb7ad209d50f24e.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dem Ger√§t ein √§sthetischeres Aussehen zu verleihen, wurde eine dekorative Auflage angebracht, die alles au√üer dem Arbeitsteil des Displays und den Lichtsensoren abdeckt.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úber die Ger√§teschnittstelle und Softwareentwicklung</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zun√§chst ist anzumerken, dass der Entwurf der zweiten Version des Ger√§ts von Arduino an AVR Studio √ºbertragen wurde. Dies geschah, weil Arduino keinen wirklichen Vorteil bietet, au√üer f√ºr eine schnelle Firmware √ºber Bootloader und UART, aber es gibt Probleme mit Watchdog, Energieeinsparung und einigen kleinen Dingen. Die Situation wird durch die Tatsache versch√§rft, dass es auf dem ATmega1284p keine Standard-Arduino-Plattformen gibt. Sie hatten also die Wahl: Beenden Sie entweder die Arduino-IDE und den Bootloader oder √ºbertragen Sie das Projekt an AVR Studio. Um die Arbeit der verwendeten SDFATlib-Bibliothek nicht zu beeintr√§chtigen, habe ich den Teil des Arduino-Kerns im Projekt im Zusammenhang mit der Initialisierung belassen und mit dem Timer und den Eingabe- / Ausgabezeilen gearbeitet. Ich musste jedoch √Ñnderungen an der SDFATlib-Bibliothek vornehmen, was auf eine √Ñnderung der Polarit√§t des SCK-Signals bei Verwendung der SD-Karten-Trennschaltung zur√ºckzuf√ºhren ist.√úbrigens kann SDFATlib sowohl mit der von Arduino geerbten SPI-Bibliothek als auch mit seiner eigenen arbeiten. In meinem Projekt ist SDFATlib so konfiguriert, dass es √ºber seine eigene Bibliothek f√ºr AVR mit SPI zusammenarbeitet (dies ist √ºbrigens die Standardkonfiguration, obwohl es m√∂glich ist, √ºber Arduino-Bibliotheken zu arbeiten).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein wichtiger Unterschied zwischen der zweiten Version des Ger√§ts ist die Energieeinsparung. Da der mitgelieferte Farbbildschirm im aktiven Modus etwa 3 mA verbraucht, besteht die Hauptmethode zum Energiesparen darin, den Bildschirm nach einiger Zeit der Inaktivit√§t des Ger√§ts in den Ruhemodus zu versetzen. Der Bildschirm wird durch dieselbe Tastenkombination "Initiieren" eingeschaltet, mit der die Hintergrundbeleuchtung in der ersten Version des Ger√§ts eingeschaltet wurde - durch Halten der Extremtasten, wobei der Durchschnitt freigegeben wurde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Bildschirm eingeschaltet ist, werden Sensoren und Ber√ºhrungstasten mit einer Periode des Hauptzyklus von ungef√§hr 200 ms abgefragt, wobei dieselbe Periode abgefragt wird, und einige Anzeigeelemente, wie der Status der Tasten und die Zeit, werden aktualisiert. Die angezeigten Informationen von den Sensoren werden doppelt so lange aktualisiert, ungef√§hr alle 400 ms. Dieser Zeitraum ist meiner Meinung nach optimal, da bei einem k√ºrzeren Aktualisierungszeitraum das Lesen von Zahlen unpraktisch ist und bei einem l√§ngeren Zeitraum die Verz√∂gerung beim Lesen sp√ºrbar ist. Die Abfragefrequenz aller Sensoren wurde speziell doppelt so hoch wie die Bildwiederholfrequenz der Anzeige gew√§hlt, da zwei gemessene Parameter nacheinander von den Druck- und Feuchtigkeitssensoren abgelesen werden: w√§hrend einer Abfrage Temperatur, w√§hrend der n√§chsten Abfrage - Druck oder Feuchtigkeit. W√§hrend der gesamten "freien" Zeit des Hauptzyklus befindet sich der Prozessor im ADC-Rauschunterdr√ºckungsmodus.Messen des Batteriestroms. Wenn der Bildschirm eingeschaltet ist, verbraucht das Ger√§t daher ca. 6 mA.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Bildschirm ausgeschaltet ist, ist keine Aktualisierung der Anzeige erforderlich, sodass die Sensoren und Tasten weniger h√§ufig alle 500 ms abgefragt werden und der Prozessor seine gesamte Freizeit im Ausschaltmodus verbringt. Der Ausschaltmodus wird durch Unterbrechung des Pin-Wechsel-Interrupts von der Echtzeituhr beendet. In diesem Fall werden die gemittelten Daten aller Sensoren unabh√§ngig vom Bildschirmmodus einmal pro Minute auf der Speicherkarte aufgezeichnet. Um den Energieverbrauch zu senken, wird die gesamte Peripherie des Mikrocontrollers unmittelbar vor der Verwendung √ºber die PRR-Register eingeschaltet und nach der Verwendung ausgeschaltet. Der Strom, den das Ger√§t bei ausgeschaltetem Bildschirm verbraucht, betr√§gt durchschnittlich etwa 250 ŒºA, von denen etwa 100 ŒºA im Ausschaltmodus auf den Bildschirm fallen, und der Rest entf√§llt haupts√§chlich auf den Mikrocontroller. In diesem Fall verringert eine Verringerung der H√§ufigkeit von Abfragesensoren den Stromverbrauch praktisch nicht.weil ein erheblicher Teil der Energie beim Abrufen der Touch-Tasten verbraucht wird. Es ist anzumerken, dass der verwendete Uhrentyp auch den Stromverbrauch beeinflusst. Wenn der Mikrocontroller vom eingebauten RC-Oszillator getaktet wird, ist der Stromverbrauch im Off-Screen-Modus etwas geringer als bei Verwendung von externem Quarz. Dies ist offensichtlich auf einen schnelleren Start und eine geringere Verlustkapazit√§t des RC-Oszillators zur√ºckzuf√ºhren. Da in dieser Version des Ger√§ts keine besonderen Anforderungen an die Stabilit√§t der Taktfrequenz des Mikrocontrollers gestellt werden, wird in der endg√ºltigen Version des Ger√§ts der eingebaute RC-Oszillator als Taktgenerator verwendet (obwohl auf der Platine Platz f√ºr Quarz vorhanden ist).dass der verwendete Uhrentyp auch den Stromverbrauch beeinflusst. Wenn der Mikrocontroller vom eingebauten RC-Oszillator getaktet wird, ist der Stromverbrauch im Off-Screen-Modus etwas geringer als bei Verwendung von externem Quarz. Dies ist offensichtlich auf einen schnelleren Start und eine geringere Verlustkapazit√§t des RC-Oszillators zur√ºckzuf√ºhren. Da in dieser Version des Ger√§ts keine besonderen Anforderungen an die Stabilit√§t der Taktfrequenz des Mikrocontrollers gestellt werden, wird in der endg√ºltigen Version des Ger√§ts der eingebaute RC-Oszillator als Taktgenerator verwendet (obwohl auf der Platine Platz f√ºr Quarz vorhanden ist).dass der verwendete Uhrentyp auch den Stromverbrauch beeinflusst. Wenn der Mikrocontroller vom eingebauten RC-Oszillator getaktet wird, ist der Stromverbrauch im Off-Screen-Modus etwas geringer als bei Verwendung von externem Quarz. Dies ist offensichtlich auf einen schnelleren Start und eine geringere Verlustkapazit√§t des RC-Oszillators zur√ºckzuf√ºhren. Da in dieser Version des Ger√§ts keine besonderen Anforderungen an die Stabilit√§t der Taktfrequenz des Mikrocontrollers gestellt werden, wird in der endg√ºltigen Version des Ger√§ts der eingebaute RC-Oszillator als Taktgenerator verwendet (obwohl auf der Platine Platz f√ºr Quarz vorhanden ist).Dies ist auf einen schnelleren Start und eine geringere Verlustkapazit√§t des RC-Oszillators zur√ºckzuf√ºhren. Da in dieser Version des Ger√§ts keine besonderen Anforderungen an die Stabilit√§t der Taktfrequenz des Mikrocontrollers gestellt werden, wird in der endg√ºltigen Version des Ger√§ts der eingebaute RC-Oszillator als Taktgenerator verwendet (obwohl auf der Platine Platz f√ºr Quarz vorhanden ist).Dies ist auf einen schnelleren Start und eine geringere Verlustkapazit√§t des RC-Oszillators zur√ºckzuf√ºhren. Da in dieser Version des Ger√§ts keine besonderen Anforderungen an die Stabilit√§t der Taktfrequenz des Mikrocontrollers gestellt werden, wird in der endg√ºltigen Version des Ger√§ts der eingebaute RC-Oszillator als Taktgenerator verwendet (obwohl auf der Platine Platz f√ºr Quarz vorhanden ist).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wichtige √Ñnderungen wirkten sich auf die Informationsanzeigemodi aus, alle bei der Verwendung der ersten Version des Ger√§ts festgestellten M√§ngel wurden ber√ºcksichtigt und die entsprechenden √Ñnderungen wurden im Programm vorgenommen. Jetzt gibt es 4 verschiedene Datenanzeigemodi (der Anzeigemodus bezieht sich auf das Erscheinungsbild des Hauptbildschirms), zwischen denen √ºber die Eingabetaste umgeschaltet wird. </font></font><br>
<br>
<img src="https://habrastorage.org/files/466/e4c/d49/466e4cd4995e436d904c74adf2bc4d50.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erster Bildschirm</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wird verwendet, um den Verlauf von √Ñnderungen der Wetterdaten in Form von Diagrammen sowie die aktuellen Messwerte von Sensoren, Datum und Uhrzeit anzuzeigen. Auf den ersten Blick scheint sich hier seit der ersten Version des Ger√§ts praktisch nichts ge√§ndert zu haben, aber tats√§chlich ist dies nicht der Fall. Jetzt speichert das Ger√§t alle zwei Minuten Temperatur, Luftfeuchtigkeit und Druck und speichert die Daten der letzten 4 Tage im RAM - insgesamt 2880 Messwerte. Alle diese Daten k√∂nnen in verschiedenen Zeitskalen angezeigt werden. Standardm√§√üig werden die neuesten Daten auf dem Bildschirm angezeigt. Wenn Sie jedoch die Taste ‚Äû-‚Äú gedr√ºckt halten, k√∂nnen Sie in den R√ºcklaufmodus wechseln und dann mit den Tasten ‚Äû+‚Äú und ‚Äû-‚Äú entlang der Zeitachse vor- und zur√ºckbewegen. Verlassen Sie den R√ºcklaufmodus durch Dr√ºcken der Eingabetaste. Das Einschalten der Waage erfolgt zeitlich √ºber die Taste ‚Äû+‚Äú. Die endg√ºltige Firmware-Version bietet 4 Zeitskalen:</font></font><br>
<ul>
<li>2/ (3.2    ).</li>
<li>6/ (9.6    ).</li>
<li>10/ (16    ).</li>
<li>30/ (48    ).</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grunds√§tzlich sind auch andere Skalierungsoptionen m√∂glich, die ein Vielfaches von 2 Minuten sind. Beim Erstellen von Diagrammen sind nun verschiedene Interpretationen meteorologischer Daten m√∂glich. Der Druck kann direkt angezeigt oder in eine barometrische H√∂he relativ zu einem Punkt mit einem bestimmten Referenzdruck umgerechnet werden. Im ersten Fall wird die richtige Skala in Millimetern Quecksilber und im zweiten Fall in Metern angegeben. Die Luftfeuchtigkeit kann auch entweder direkt angezeigt werden (blaue F√ºllung) oder auf den Taupunkt neu berechnet werden. Zus√§tzlich zur Temperaturkurve wird auch eine Taupunktkurve (Himbeere) angezeigt. Der Anzeigemodus f√ºr Druck und Luftfeuchtigkeit wechselt auf dem zweiten Bildschirm. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zweiter Bildschirm</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist wie in der ersten Version f√ºr die Anzeige aller Informationen zum aktuellen Status des Ger√§ts und der Sensoren reserviert. Hier werden Parameter wie Batteriespannung, Ladestrom, Strommesswerte der Hauptsensoren, Nulldruck, Uhrzeit, Datum angezeigt. Die letzte Zeile zeigt das Ergebnis des letzten Schreibversuchs auf die SD-Karte und die aktuelle Version der Interpretation meteorologischer Daten in Grafiken. Auf diesem Bildschirm k√∂nnen Sie mit den Tasten ‚Äû+‚Äú und ‚Äû-‚Äú die Interpretation der Wetterdaten √§ndern und durch Dr√ºcken der Ausl√∂sesequenz den Uhreinstellungsmodus aufrufen. Bei der SD-Karte wird das Ergebnis des letzten Anrufs angezeigt. Wenn die Aufzeichnung erfolgreich war, wird die Anzahl der beim letzten Zugriff aufgezeichneten Bytes angezeigt. Wenn ein Fehler auftritt, wird "Err" angezeigt, und wenn sich die Karte nicht im Kartenleser befand, wird "---" angezeigt. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dritter Bildschirm</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entwarf, den Referenzdruck eines barometrischen H√∂henmessers einzustellen. Die erste Zeile zeigt den aktuellen Referenzdruck und die entsprechende Luftdruckh√∂he. Der aktuelle atmosph√§rische Druck ist unten gezeigt. Das Folgende ist eine Tabelle der Geschichte der Referenzdr√ºcke mit Datum und Uhrzeit ihrer Installation. Die letzte Zeile zeigt Datum und Uhrzeit. Der Referenzdruck wird mit den Tasten ‚Äû+‚Äú und ‚Äû-‚Äú ge√§ndert und automatisch zur Verlaufstabelle hinzugef√ºgt, wenn beim Einstellen des n√§chsten Bildschirms der eingestellte aktuelle Referenzdruck vom letzten historischen Wert abweicht. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vierter Bildschirm</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dient zur detaillierten Anzeige der vom RGB-Lichtsensor max44008 bereitgestellten Daten. Die ersten f√ºnf Linien zeigen die aktuelle Beleuchtung der Kan√§le in numerischer und grafischer Form, gefolgt von den gesch√§tzten Farbkoordinaten und der Farbtemperatur des einfallenden Lichts. Darauf folgt eine Zeile mit zwei Lesungen in Suiten. Die linke Nummer bezieht sich auf den aktuellen Sensor max44008, die rechte auf max44009. Die letzten vier Zeilen stimmen vollst√§ndig mit denen des ersten Bildschirms √ºberein. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hintergrundbeleuchtung</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geringf√ºgig ge√§ndert im Vergleich zur ersten Version des Ger√§ts, da sich die Funktionsweise des Bildschirms ge√§ndert hat. Die Hintergrundbeleuchtung wird weiterhin durch die ausl√∂sende Tastenkombination (wie der Bildschirm) eingeschaltet. Wenn die Beleuchtung beim Einschalten des Bildschirms weniger als 100 Lux betr√§gt, wird die Hintergrundbeleuchtung mit dem Bildschirm eingeschaltet. Zum Zeitpunkt des Einschaltens wird der Timer f√ºr das Ausschalten der Hintergrundbeleuchtung auf einen Zeitraum von 40 Sekunden eingestellt. Durch Dr√ºcken der Taste bei eingeschalteter Hintergrundbeleuchtung wird der Sleep-Timer auf mindestens einen weiteren Zeitraum von 12 Sekunden eingestellt. Vor dem Einschalten der Hintergrundbeleuchtung werden alle Messwerte der Lichtsensoren gespeichert. W√§hrend des anf√§nglichen Brennens der Hintergrundbeleuchtung f√ºr etwa 7 Sekunden werden die gespeicherten Messwerte der Lichtsensoren auf allen Bildschirmen angezeigt, w√§hrend sich der Hintergrund des angezeigten Texts von wei√ü nach gr√ºn √§ndert.Dank der Speicherung von Messwerten kann das Ger√§t eine geringe Beleuchtung anzeigen, die nicht durch die Beleuchtung von Sensoren mit einem eigenen Bildschirm verzerrt wird. Auf allen Bildschirmen au√üer dem zweiten f√ºhrt das Dr√ºcken der Ausl√∂sekombination bei eingeschalteter Hintergrundbeleuchtung dazu, dass die Hintergrundbeleuchtung ausgeschaltet wird. Auf dem zweiten Bildschirm schaltet diese Kombination den Uhreinstellungsmodus ein.</font></font><br>
<br>
<b>   ,</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vor allem √ºber max44008 lohnt es sich separat zu sprechen. Dieser Sensor wurde in der Version des 2M-Instruments hinzugef√ºgt, um den Betriebsbereich des Wetterstations-Luxometers im Bereich bei schlechten Lichtverh√§ltnissen zu erweitern. Die maximale Empfindlichkeit des von der ersten Version des Ger√§ts geerbten Sensors max44009 betr√§gt 45 Millilux / Z√§hlung. Dies reicht v√∂llig aus, um die Beleuchtung in der D√§mmerung zu messen, reicht jedoch nicht aus, um die Beleuchtung in einer mondhellen und mondlosen Nacht zu messen. Nat√ºrlich ist die Messung der Beleuchtung nicht die Hauptaufgabe meiner Wetterstation, aber da sich im Ger√§t ein Luxometer befindet und Sie sich manchmal auf Reisen nachts bewegen m√ºssen, m√∂chte ich ein Werkzeug haben, das zeigt, wie dunkel die Nacht jetzt ist. Daher wurde der empfindlichste Sensor ausgew√§hlt, √§hnlich dem in fr√ºheren Versionen von max44009 verwendeten.Der Sensor verf√ºgt √ºber sechs Kan√§le zur Messung der Beleuchtung in verschiedenen Bereichen und einen Kanal zur Messung der Temperatur. Wir haben bereits gen√ºgend Temperatursensoren im Ger√§t, sodass das Ger√§t nur sechs optische Kan√§le abfragt - sichtbar (klar), rot (rot), gr√ºn (gr√ºn), blau (blau), infrarot (IR) und kompensiert (IRcomp). Die ersten f√ºnf Kan√§le dienen zur Messung der Beleuchtung in verschiedenen Teilen des Spektrums, und der sechste dient zur Kompensation der Infrarotbeleuchtung sichtbarer Kan√§le. Die Einstellung von Parametern wie Verst√§rkung (im Wesentlichen Empfindlichkeit) und Signalakkumulationszeit (beeinflusst auch die Empfindlichkeit und Genauigkeit von Messungen) ist nur f√ºr alle Kan√§le gleichzeitig und nur von au√üen m√∂glich. Die M√∂glichkeit, diese Parameter automatisch vom Sensor selbst auszuw√§hlen, ist im Gegensatz zu max44009 nicht verf√ºgbar.Die Empfindlichkeit muss √ºber das Programm eingestellt werden. Gem√§√ü der Dokumentation f√ºr den Sensor k√∂nnen die gelieferten Anfangswerte in die Leistung des Lichtflusses pro Fl√§cheneinheit in Milliwatt pro Quadratzentimeter umgerechnet werden. Dort sind auch Kurven (eigentlich gerade Linien) zum Umwandeln des Ausgangs in Suiten f√ºr Quellen wie eine Gl√ºhlampe und eine Leuchtstofflampe dargestellt. Ich f√ºhrte meine Kalibrierung durch, indem ich die Messwerte von max44009 und dem neuen max44008 mit diffusem Sonnenlicht, Licht einer Leuchtstofflampe und LED-Lampe verglich und die Messwerte als Quelle mittelte. Als Ergebnis habe ich √§hnliche Werte f√ºr Umrechnungsfaktoren erhalten. Infolgedessen betr√§gt die Empfindlichkeit von max44008 im empfindlichsten Bereich ungef√§hr 1,4 Milliuks pro Anzeige, was eineinhalb Gr√∂√üenordnungen besser ist als bei max44009.Der Endwert der Luxometerablesungen wird durch lineares Zusammenf√ºgen von Daten aus dem niedrigempfindlichen max44009 und dem empfindlichen max44008 im Bereich von 5 bis 10 Lux gebildet. Die Berechnung der Farbkoordinaten und der Farbtemperatur erfolgt gem√§√ü der Dokumentation, einfach weil es eine solche M√∂glichkeit gibt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine separate Studie verdient die Frage nach der Genauigkeit von Lichtsensoren und dem Einfluss der IR-Beleuchtung auf die Zuverl√§ssigkeit von Messwerten. Die Wurzel des Problems liegt in der Tatsache, dass die lichtempfindlichen Elemente von max4400x-Sensoren (sowie viele andere Fotodioden und integrierte Sensoren, Matrizen von Kameras und Videokameras und andere Ger√§te) auf der Basis von Silizium hergestellt werden. Aufgrund ihrer physikalischen Natur zeichnen solche lichtempfindlichen Elemente elektromagnetische Strahlung von einer langen Wellenl√§nge auf, die k√ºrzer als eine bestimmte durch die Bandl√ºcke bestimmte Grenze ist. F√ºr Silizium betr√§gt diese endg√ºltige Wellenl√§nge ungef√§hr 1100 nm. Gleichzeitig ist das menschliche Auge gegen√ºber elektromagnetischer Strahlung mit einer Wellenl√§nge von mehr als 800 nm v√∂llig unempfindlich. Daher wird Strahlung mit einer Wellenl√§nge von mehr als 800 nm (normalerweise 800-1400 nm) als nahes Infrarot bezeichnet.In den Emissionsspektren erhitzter K√∂rper wie Gl√ºhlampen, Bogenlampen oder der Sonne befindet sich viel solcher Strahlung. Und solche Strahlung fehlt praktisch in den Spektren von wei√üen LEDs und Leuchtstofflampen. In der Regel werden die lichtempfindlichen Elemente mit speziellen Filtern beschichtet, die ihre Empfindlichkeitskurve n√§her an die Anforderungen einer bestimmten Anwendung bringen. Ein solches Filter kann Strahlung im nahen Infrarot um mehrere Gr√∂√üenordnungen abschw√§chen, schneidet sie jedoch nicht vollst√§ndig ab. Gleichzeitig bleibt ein Problem bestehen, das damit zusammenh√§ngt, dass das menschliche Auge √ºberhaupt nicht im nahen Infrarotbereich sieht und das Ger√§t, das den Fluss des sichtbaren Lichts messen soll, ihn zumindest ein wenig registriert. Es gibt verschiedene M√∂glichkeiten, um dieses Problem zu l√∂sen. Bei Digitalkameras oder Videokameras wird also ein spezieller Mehrschichtfilter vor der Matrix platziert.Dies schw√§cht die Strahlung im nahen Infrarot um etwa 3 Gr√∂√üenordnungen ab. Die max4400x-Sensoren verwenden eine andere L√∂sung - die Verwendung eines zus√§tzlichen ‚ÄûKompensationskanals‚Äú. Im Sensor sind mehrere Fotodioden mit unterschiedlichen Filtern installiert, mit ungef√§hr derselben Transmission im nahen Infrarotbereich, und die Gesamtbeleuchtung im sichtbaren Bereich wird als Differenz der Messungen von zwei Fotodioden bestimmt. In unserem Fall f√ºhrt der max44009-Sensor automatisch eine Kompensation durch, und der max44008-Sensor gibt nur die Daten des Messkanals aus, und der Benutzer muss die Kompensation selbst durchf√ºhren, indem er die gelesenen Werte voneinander subtrahiert.mit ungef√§hr der gleichen Durchl√§ssigkeit im nahen Infrarotbereich, und die Gesamtbeleuchtung im sichtbaren Bereich wird als Differenz der Messungen von zwei Fotodioden bestimmt. In unserem Fall f√ºhrt der max44009-Sensor automatisch eine Kompensation durch, und der max44008-Sensor gibt nur die Daten des Messkanals aus, und der Benutzer muss die Kompensation selbst durchf√ºhren, indem er die gelesenen Werte voneinander subtrahiert.mit ungef√§hr der gleichen Durchl√§ssigkeit im nahen Infrarotbereich, und die Gesamtbeleuchtung im sichtbaren Bereich wird als Differenz der Messungen von zwei Fotodioden bestimmt. In unserem Fall f√ºhrt der max44009-Sensor automatisch eine Kompensation durch, und der max44008-Sensor gibt nur die Daten des Messkanals aus, und der Benutzer muss die Kompensation selbst durchf√ºhren, indem er die gelesenen Werte voneinander subtrahiert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Angemessenheit der IR-Kompensation zu √ºberpr√ºfen, f√ºhrte ich mehrere einfache Experimente durch. Die erste besteht darin, den Effekt der IR-Beleuchtung von einer IR-LED mit einer Wellenl√§nge von 880 nm Strahlung auf die Messwerte beider Sensoren zu untersuchen. Die Kanalwerte wurden verglichen, wenn die Infrarotstrahlungsquelle ein- und ausgeschaltet wurde und die Lichtbedingungen unver√§ndert blieben. Das Experiment zeigte, dass die IR-Kompensation im freien Kanal des max44008-Sensors am besten funktioniert. Wenn die IR-Beleuchtung die Intensit√§t des sichtbaren Lichts um etwa eine Gr√∂√üenordnung √ºberschreitet, betr√§gt der Fehler des kompensierten klaren Kanals nicht mehr als 10%, und der Sensor max44009 liefert bei einer solchen Beleuchtung sehr untersch√§tzte Messwerte (es liegt eine √úberkompensation vor). Die Messwerte der Farbkan√§le des RGB-Sensors unter IR-Beleuchtung beginnen jedoch zu "schweben" und in verschiedene Richtungen.Eine weitere Kuriosit√§t wurde beim Betrieb dieses Sensors festgestellt - Spr√ºnge in realen Messwerten beim Umschalten der PGA-Verst√§rkung von 16 auf 256 im ircomp-Kanal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das zweite Experiment war die √úberpr√ºfung der Richtigkeit der Farbtemperaturmessung unter Verwendung verschiedener Quellen mit einer bekannten Farbtemperatur. Da ich kein genaues Farbmessger√§t zur √úberpr√ºfung habe, kann ich daraus schlie√üen, dass max44008 mehr oder weniger ad√§quate Ergebnisse f√ºr Quellen wie LEDs und Leuchtstofflampen zeigt. Die Ergebnisse von Messungen f√ºr Gl√ºhlampen, die sowohl bei vollem Licht als auch bei Unterlicht brennen, sind jedoch absolut unzuverl√§ssig aufgrund von IR-Beleuchtung. Erw√§hnenswert ist, dass bei Verwendung einer vorgew√§rmten Lampe als Infrarotstrahlungsquelle die √úberkompensation des max44009-Sensors immer noch sp√ºrbar ist.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erw√§hnenswert ist ein weiterer Nachteil des max44008-Sensors - der Dunkelstrom. Bei Temperaturen unter 15 Grad Celsius in absoluter Dunkelheit sind die Sensorwerte von max44008 Null. Mit zunehmender Temperatur steigt der Dunkelstrom jedoch stark an. Bei einer Temperatur von 18 Grad ist es 1 Z√§hlung, 20 Grad bereits 2 Z√§hlungen und bei 30 Grad bereits 7 Z√§hlungen. Es ist wahrscheinlich, dass der Sensor kalibriert werden kann, um den Dunkelstrom thermisch zu kompensieren, aber ich habe mich nicht mit diesem Problem befasst, da ich nur dann einen merklichen Anstieg des Dunkelstroms festgestellt habe, als ich das Datenprotokoll von der Reise nach Karelien analysiert habe, oder vielmehr den Teil davon, als das Ger√§t in einem Beutel und einem Druckbeutel verpackt war. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informationen zum Laden des Akkus.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie aus dem Diagramm ersichtlich ist, verwaltet ein separater max1879-Controller die Batterieladung, und der Prozessor und das darauf ausgef√ºhrte Programm k√∂nnen nur die Spannung an der Batterie und den Ladestrom √ºber die entsprechenden Schaltkreise messen. Es wurden jedoch eine Reihe von Ma√ünahmen ergriffen, damit das Ger√§t normal aufgeladen und eingeschaltet werden kann, selbst wenn der Akku vollst√§ndig eingelegt ist. Jetzt verwendet das Projekt den Watchdog und die Sicherung WDTON blinkt, wodurch sichergestellt wird, dass der Watchdog automatisch gestartet wird, wenn der Controller zur√ºckgesetzt wird. Die Brownout-Schwelle ist auf 1,8 V eingestellt, die Taktquelle ist der eingebaute RC-Oszillator und die Sicherung CKDIV8 blinkt ebenfalls. Damit der enthaltene Watchdog keinen zyklischen Neustart unter Verwendung von __attribute __ ((Abschnitt (". Init3"))) verursacht, ist das Zur√ºcksetzen des Watchdogs f√ºr den Zeitraum von vier Sekunden in die Initialisierung des Controllers integriert.Dank des installierten CKDIV8 startet der Controller mit einer Frequenz von 1 MHz, was bei Spannungen ab 1,8 V m√∂glich ist. Nach der Initialisierung des Hauptreglers wird die Spannung an der Batterie √ºberpr√ºft. Wenn dieser Wert unter dem eingestellten Schwellenwert (2,7 V) liegt, wird auf dem Bildschirm eine Meldung √ºber die Batterieentladung und den Spannungswert der Batterie angezeigt. Danach wartet der Controller etwa 500 ms, schaltet den Bildschirm aus und schaltet sich aus, bis er vom Watchdog zur√ºckgesetzt wird. Wenn die Spannung √ºber dem Schwellenwert liegt, schaltet das Programm die Taktfrequenz √ºber das CLKPR-Register auf 8 MHz um und wird im normalen Modus initialisiert. Als zus√§tzliche Vorsichtsma√ünahme erfolgt die Aufzeichnung auf eine microSD-Karte nur, wenn die Spannung an der Batterie √ºber einem bestimmten bei 3,2 V gew√§hlten Schwellenwert liegt. Infolgedessen arbeitet das Ger√§t auch bei einer tiefen Entladung des Akkus im normalen Modus weiter, solange dies m√∂glich ist.Aufgrund der Blockierung der Aufzeichnung auf der Karte ist ein Kartenfehler w√§hrend der Aufzeichnung ausgeschlossen. Wenn w√§hrend einer Tiefentladung die Spannung so stark abf√§llt, dass der Prozessor einfriert (die Erfahrung hat gezeigt, dass dies bei einer Spannung von etwa 2,3 V geschieht), wird ein Watchdog zur√ºckgesetzt und das Ger√§t wird in einen endlosen Zyklus versetzt, der aus Neustarts und einer Kurzzeitanzeige ‚ÄûBatterie ist schwach‚Äú besteht. Wenn die Entladung noch tiefer ist, schaltet sich das Ger√§t √ºber BSB aus. Beim Anschlie√üen geschieht alles in umgekehrter Reihenfolge. Der max1879-Controller l√§dt einen tief entladenen Akku mit einem niedrigen Strom von 8 mA auf. Wenn die Batteriespannung ca. 2 V √ºberschreitet, wird der Mikrocontroller vom BSB zur√ºckgesetzt und alle 4 Sekunden blinkt die Meldung ‚ÄûBatterie schwach‚Äú. In diesem Fall √ºberschreitet der durchschnittliche Stromverbrauch 1 mA nicht und der Ladevorgang wird fortgesetzt. Wenn die Batteriespannung 2,5 V erreicht,Es erfolgt ein √úbergang zu einer Ladung mit vollem Strom, und bei 2,7 V schaltet sich das Ger√§t normal ein. Eine solche L√∂sung bietet meiner Meinung nach eine bessere Leistung und Anzeige, wenn der Akku tief entladen ist, und einen stabilen Austritt aus der Tiefentladung. Wenn Sie jedoch den BSB-Schwellenwert auf 2,7 V einstellen, sind unter ung√ºnstigen Umst√§nden versehentliche Fehlalarme m√∂glich (der maximale BSB-Schwellenwert liegt zu nahe an der minimalen Ausgangsspannung des Stabilisators).Unter ung√ºnstigen Umst√§nden sind versehentliche Fehlalarme m√∂glich (der maximale BSB-Schwellenwert liegt zu nahe an der minimalen Ausgangsspannung des Stabilisators).Unter ung√ºnstigen Umst√§nden sind versehentliche Fehlalarme m√∂glich (der maximale BSB-Schwellenwert liegt zu nahe an der minimalen Ausgangsspannung des Stabilisators).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Standardanzeige einer schwachen Batterie in Form der blinkenden Buchstaben "LB" hat eine Ausl√∂seschwelle von 3,65 V, was etwa 20% der verbleibenden Batterieladung entspricht, dh das Ger√§t kann nach dem Einschalten der Anzeige der Notwendigkeit einer Ladung etwa einen Monat lang arbeiten. Daher ist es sehr schwierig, den Moment zu verpassen, in dem Sie das Ger√§t aufladen m√ºssen, wenn auch zumindest manchmal, um die Messwerte zu √ºberpr√ºfen. Aus diesem Grund habe ich beschlossen, dass eine nervigere Anzeige einer entladenen Batterie nicht erforderlich ist. Die an max1879 angeschlossene Ladeanzeige-LED befindet sich auf der Platine auf der gegen√ºberliegenden Seite des Bildschirms, sodass das Ger√§t beim Laden von innen gr√ºn leuchtet.</font></font><br>
<br>
<img src="https://habrastorage.org/files/200/3c6/d72/2003c6d723f04a32bed73b3e5e490374.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Laden des Ger√§tes wurde ein spezieller St√§nder mit einer Aussparung unter dem Ger√§t und zwei Kontaktgruppen hergestellt. Der St√§nder ist mit einem Micro-USB-Anschluss zum Anschlie√üen einer Stromquelle ausgestattet. Der St√§nder enth√§lt keine elektronischen Schaltkreise, nur Kabel und eine r√ºcksetzbare Sicherung. F√ºr einen aufmerksamen Leser mag die Wahl des max1879-Chips als Laderegler etwas absurd erscheinen, da es bei einem ausgew√§hlten Ladeschema aus einer USB-kompatiblen Stromquelle logischer w√§re, einen Regler mit integrierter Strombegrenzung zu verwenden. Die ausgew√§hlte Schaltung ist jedoch zuverl√§ssig, ohne Angst vor Quellen mit schlechter Stabilisierung der Ausgangsspannung, und ihr einziger Nachteil ist in der Tat nicht die vollst√§ndige Kompatibilit√§t mit dem USB-Standard, da der maximal zul√§ssige Strom nicht automatisch geregelt wird.Ein solches Schema bietet jedoch eine schnellere Aufladung bei Verwendung eines Netzwerkadapters.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erfahrung im Instrumentenbetrieb</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Fr√ºhjahr war eine Kopie der zweiten Version fertig, und ich nahm sie mit auf eine Wanderung auf der bergigen Krim. </font><font style="vertical-align: inherit;">Im Sommer nahm ich auf einer Wanderung entlang des Wei√üen Meeres und Kovdozer die n√§chste Instanz von Version 2M. </font><font style="vertical-align: inherit;">Wie zuvor, als ich mit einem Kajak fuhr, legte ich das Ger√§t vor mir auf den Kajakk√∂rper. W√§hrend einer Wanderung auf der Krim trug ich das Ger√§t am Hals, hielt an, parkte und h√§ngte es am Nachmittag an einem Baum im Schatten an einem windigen Ort.</font></font><br>
<br>
<img src="https://habrastorage.org/files/bac/4a7/5bc/bac4a75bc424436986c30b5b2f44c9aa.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie die erste Version f√ºhlt sich das Ger√§t wie ein zus√§tzliches Sinnesorgan an, und seine Verwendung ist im Vergleich zur ersten Version bequemer geworden. Mit einer Masse von ca. 128 g (im Vergleich zu 330 g der ersten Version) ist das Ger√§t praktisch nicht am Hals zu sp√ºren. Das Erscheinungsbild des Ger√§ts ist meiner Meinung nach im Vergleich zur ersten Version genauer geworden. Die Touch-Tasten der zweiten Version sind aufgrund der seitlichen Position und des Fehlens von Metallteilen in der N√§he des Geh√§uses bequemer, obwohl angesichts der nicht so schnellen √úbersicht nicht jeder sie beim ersten Mal verwenden kann. Die Notwendigkeit, den Bildschirm einzuschalten, um die Messwerte des Ger√§ts anzuzeigen, verursacht keine Unannehmlichkeiten. Der Bildschirm l√§sst sich auch bei Ber√ºhrung bei v√∂lliger Dunkelheit leicht einschalten. Die Methode zum Anzeigen von Diagrammen, die in der zweiten Version des Ger√§ts verwendet werden, mit unterschiedlichen Ma√üst√§ben und zum Zur√ºckbl√§ttern, erweist sich als sehr praktisch.Dies erleichtert die Analyse des Wetters oder Profils der letzten Tage.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Gehen, insbesondere in den Bergen, ist es sehr praktisch, die Druckanzeige in der Grafik als Luftdruckh√∂he zu verwenden. </font><font style="vertical-align: inherit;">Die Grafik zeigt das Profil des zur√ºckgelegten Weges. </font><font style="vertical-align: inherit;">Ein solcher Zeitplan erleichtert einerseits die Beurteilung der Rauheit eines befahrenen Pfades, was insbesondere f√ºr Krimgebirgspfade gilt, die durch den Wald f√ºhren.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ba1/fa7/e34/ba1fa7e3470541239b9a06236a6c1873.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der anderen Seite ist es gem√§√ü Zeitplan einfach, Ihr eigenes Bewegungstempo auf und ab zu sehen (tats√§chlich bei steilen Anstiegen) und zu sch√§tzen, wie viel bis zum Ende der Bewegung in Gebieten mit einem bekannten Unterschied √ºbrig bleibt. </font><font style="vertical-align: inherit;">Bei Wasserfahrten auf dem Meer oder auf Seen ist es bei konstanter H√∂he bequemer, den Druck als Druck anzuzeigen. </font><font style="vertical-align: inherit;">Die Drucktrends k√∂nnen verwendet werden, um das Wetter in den n√§chsten zwei Tagen zu beurteilen. </font><font style="vertical-align: inherit;">In den Bergen ist es schwieriger, Drucktrends zu verfolgen. Sie sind nur w√§hrend des Stopps in der Grafik sichtbar.</font></font><br>
<br>
<img src="https://habrastorage.org/files/218/37b/d2d/21837bd2da3d43c8a6365d5ae1af70e3.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√ºber hinaus f√ºhrt, wie bereits im vorherigen Artikel erw√§hnt, die eigene Bewegung in den Bergen und sogar in h√ºgeligem, rauem Gel√§nde zu erheblich schnelleren Druck√§nderungen als bei typischen Prozessen in der Atmosph√§re. Aus diesem Grund ist der t√§gliche Fehler im Diagramm der barometrischen H√∂he normalerweise gering. Dar√ºber hinaus ist es einfach, ihn visuell zu bewerten, indem Druck√§nderungen w√§hrend Stopps und Stopps extrapoliert werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Temperatur- und Druckgraphen sind ebenfalls interessant, aber ihre praktische Bedeutung ist nicht so offensichtlich. Mit ihnen k√∂nnen Sie die Wettertrends bestimmen, die richtige Kleidung ausw√§hlen und die Aussichten f√ºr den Versuch, Ihre Ausr√ºstung zu trocknen, bewerten. Bei der Temperaturmessung gibt es wie bei der ersten Version Funktionen. Das Eindringen von Sonnenlicht auf das Ger√§t f√ºhrt somit zu einer sp√ºrbaren Erw√§rmung und einem Fehler bei der Temperaturmessung. Dar√ºber hinaus wird die Temperatur der Luft (und des Ger√§ts) von der Temperatur der umgebenden Objekte und der Strahlungsheizung beeinflusst. Selbst an einem wolkigen Tag zeigt das Ger√§t im Schatten √ºber dem Land eine um einige Grad niedrigere Temperatur als wenn es auf den K√∂rper eines Kanus gestellt wird, das auf dem Wasser steht. Anscheinend ist dies auf die Erw√§rmung des Kajaks und der Luft dar√ºber durch Streulicht und Infrarotstrahlung zur√ºckzuf√ºhren. Um diesen Umstand zu untersuchen, f√ºhrte ich sogar das folgende Experiment durch.Bekanntlich kann der Luftstrom verwendet werden, um die W√§rme√ºbertragung zu beschleunigen. Der einfachste Weg, das Blasen des Thermometers bei ruhigem Wetter zu organisieren, besteht darin, es einfach an einem Seil um sich selbst zu drehen. Als ich das Ger√§t an einem wolkigen Tag im Schatten √ºber Land drehte, war ich √ºberzeugt, dass der Luftstrom die Messwerte nicht beeinflusste. Die Messwerte liegen also im Schatten und entsprechen somit der Lufttemperatur. Wenn sich die Temperatur der Vorrichtung beispielsweise durch Strahlungserw√§rmung von der Lufttemperatur unterscheidet, w√ºrde die Intensivierung der W√§rme√ºbertragung zu √Ñnderungen des Gleichgewichtszustands und zu √Ñnderungen der Messwerte nach unten f√ºhren. Wenn Sie das Ger√§t √ºber die Wasseroberfl√§che drehen, werden die Temperaturwerte niedriger als bei einem Kajak, und der Effekt wird auch bei geringem Wind beobachtet. Daraus k√∂nnen wir schlie√üen, dass die Erw√§rmung des Ger√§ts durch das Kajak wahrscheinlich erheblich istvon anderen beleuchteten Untergr√ºnden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erw√§hnenswert ist die M√∂glichkeit, den Taupunkt anzuzeigen. Die Taupunkttemperatur ist eine Funktion der absoluten Luftfeuchtigkeit (Masse des Wasserdampfs pro Volumeneinheit) und erm√∂glicht die Beurteilung des Wassergehalts in der Atmosph√§re. Wenn Sie eine bestimmte Menge Luft nehmen und erw√§rmen, steigt die Temperatur, die relative Luftfeuchtigkeit sinkt und die Temperatur des Taupunkts √§ndert sich nicht. Dementsprechend steigt die angezeigte Temperatur an, die angezeigte Luftfeuchtigkeit sinkt und die angezeigte Taupunkttemperatur √§ndert sich nicht, da sich der Sensor immer im Gleichgewicht mit einer d√ºnnen Luftschicht befindet, die ihn umgibt, wenn der Sensor (oder das gesamte Ger√§t) erw√§rmt wird. In der Realit√§t ist alles etwas komplizierter, da der Fehler und die Diskretion der Messung der Temperatur und insbesondere der Luftfeuchtigkeit die Genauigkeit der Berechnung des Taupunkts stark beeinflussen. Wir k√∂nnen jedoch sagen, dass der berechnete Taupunkt,und nicht die relative Luftfeuchtigkeit ist eine Information √ºber die Wassermenge in der Atmosph√§re und wird nicht durch Temperaturmessfehler beeinflusst, die mit der Erw√§rmung des Ger√§ts durch die Sonne verbunden sind. In der Regel √§ndert sich die Taupunkttemperatur ziemlich langsam und ihre t√§glichen Schwankungen k√∂nnen nur 2-5 Grad gegen√ºber 10-15 Grad bei der Lufttemperatur betragen. Im Sommer ist eine Erh√∂hung des Taupunkts um etwa 20 Grad ein Vorbote f√ºr die Bildung von Gewittern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem jetzt mit zwei Sensoren ausgestatteten Luxometer k√∂nnen Sie die Beleuchtung messen und unter verschiedenen Bedingungen zuverl√§ssige Messergebnisse erzielen: sowohl an einem sonnigen Tag als auch in einer mondlosen Nacht und sogar in sehr dunklen R√§umen. Sein Zeugnis erlaubt es uns, die Dicke der Wolkendecke am Himmel oder die Tiefe der D√§mmerung zu beurteilen. Die M√∂glichkeit, einen Beleuchtungsgraphen im Instrument zu erstellen, ist nicht gegeben, da die Messwerte nicht nur stark von der Beleuchtung, sondern auch von der r√§umlichen Position der umgebenden Objekte abh√§ngen und das Instrument selbst dementsprechend schwierig w√§re, Informationen aus einem solchen Graphen zu extrahieren. Aufgrund des Vorhandenseins von zwei Sensoren, von denen einer RGB mit einem IR-Kanal ist, liefert das Luxometer viele Informationen √ºber Beleuchtung, Farbtemperatur und Infrarotstrahlung. Meiner Meinung nach jedochDiese Funktion ist bei der Bewertung der Innenbeleuchtung n√ºtzlicher als beim Wandern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zusammenfassend stellen wir fest, dass sich das zweite Ger√§t als bequemer und praktischer als das erste herausstellte. Das Geh√§use ist recht leicht, kompakt und f√ºhlt sich auch bei niedrigen Temperaturen angenehm an. Die Betriebszeit mit einer Akkuladung ist f√ºr jede Fahrt mehr als ausreichend. Die Grafiken k√∂nnen innerhalb der letzten vier Tage einfach skaliert und gespiegelt werden. Dies reicht aus, um das Wetter und / oder das zur√ºckgelegte Streckenprofil zu analysieren, und die Funktionalit√§t des Ger√§ts ist meiner Meinung nach ausreichend. Die SD-Karte kann leicht entfernt werden, um Daten zu kopieren.</font></font><br>
<br>
<img src="https://habrastorage.org/files/67c/0b3/f1f/67c0b3f1f11a402fa128af52faf9e1fd.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Beschreibung der Betriebserfahrung der ersten Version des Ger√§ts mit einer Liste von M√§ngeln endete, werde ich hier keine solche Liste geben, da das Ger√§t meiner Meinung nach keine offensichtlichen M√§ngel aufweist. Nat√ºrlich gibt es immer Ideen zum Aufbau von Funktionalit√§t, aber w√§hrend der Operation hatte ich nicht das Gef√ºhl, dass es an Funktion mangelt. Daher werde ich m√∂gliche Optionen f√ºr die Entwicklung des Projekts weiter pr√ºfen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine M√∂glichkeit, das Instrument zu entwickeln, besteht darin, der Instrumentensoftware neue Funktionen hinzuzuf√ºgen. Hier k√∂nnen Sie folgende Bereiche anbieten:</font></font><br>
<ul>
<li>                     .        ,       ,      ,          .</li>
<li>      SD .</li>
<li>             (   )     ,    .</li>
<li>         RGB   SD .</li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√ºber hinaus gibt es Ideen zur Entwicklung einer Reihe von Sensoren f√ºr die Zukunft. Sie k√∂nnen beispielsweise einen speziellen Sensor zum Messen der Wassertemperatur in Beh√§ltern und Quellen sowie einen Wassersalzsensor (TDS-Messger√§t) hinzuf√ºgen und die M√∂glichkeit hinzuf√ºgen, den entsprechenden Messverlauf in der Software zu speichern. Schlie√ülich ist es manchmal interessant, die Wassertemperatur in einem Teich zu messen, und die im Ger√§t verf√ºgbaren Temperatursensoren sind etwas tr√§ge und nicht zum Tauchen gedacht, obwohl das Tauchen f√ºr sie harmlos ist. Zus√§tzlich kann dem Satz von Lichtsensoren ein Ultraviolettsensor hinzugef√ºgt werden, um zu bestimmen, wie gef√§hrlich es ist, unter dem aktuellen Zustand der Atmosph√§re in hellem Sonnenlicht zu sein.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Design des Ger√§tegeh√§uses der zweiten Version bietet auch einen gewissen Spielraum f√ºr eine weitere Gewichts- und Gr√∂√üenreduzierung. Durch Verringern der Wandst√§rke, Verwenden eines weicheren Polsters und einer d√ºnneren Abdeckung (z. B. geh√§rtetes Glas) und Verringern der Gr√∂√üe der Batterie kann das Geh√§use etwas kleiner und leichter gemacht werden. Unabh√§ngig davon ist es erw√§hnenswert, dass ich es geschafft habe, den aktuell produzierten 2,4-Zoll-Transflektionsbildschirm mit einer Aufl√∂sung von 320 x 240 Pixel zu finden. Daher wird die dritte Version des Ger√§ts wahrscheinlich vollst√§ndig aus handels√ºblichen Komponenten bestehen. Wenn Sie jedoch zu einem Bildschirm mit h√∂herer Aufl√∂sung wechseln, sollten Sie die Prozessortaktfrequenz erh√∂hen, damit das Neuzeichnen nicht zu lange dauert, und den Arbeitsspeicher vergr√∂√üern, um die erh√∂hte Anzahl von Pixeln auf dem Bildschirm effektiv zu nutzen und die Mindestanzahl von Grad, Metern und Minuten pro Pixel zu verringern.Aus diesem Grund wird die dritte Version des Ger√§ts wahrscheinlich auf einem AVR Xmega- oder STM32-Mikrocontroller montiert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Den Quellcode des Programms, Kurven zum Fr√§sen und Verdrahten der Platine finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de384641/">https://habr.com/ru/post/de384641/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de384629/index.html">Wissenschaftler haben eindeutige Beweise f√ºr das Vorhandensein von fl√ºssigem Wasser auf dem Mars angek√ºndigt</a></li>
<li><a href="../de384631/index.html">Intel Edison Arbeiten mit Intel IoT Analytics Cloud: Ger√§teverwaltung</a></li>
<li><a href="../de384633/index.html">Bionik und Robotik kommen in das Modellgesch√§ft</a></li>
<li><a href="../de384635/index.html">"Human Phantom" er√∂ffnet √Ñrzten gro√üe Chancen. Die Leiche einer Frau wurde in 5.000 Teile geschnitten und gescannt</a></li>
<li><a href="../de384637/index.html">Wissenschaftler haben in elf Jahren Beobachtung keine Gravitationswellen gefunden</a></li>
<li><a href="../de384647/index.html">Sie werden nicht bestehen: Codesperre f√ºr Logik</a></li>
<li><a href="../de384651/index.html">Bericht von mixAR2015: AR & VR Technologies</a></li>
<li><a href="../de384653/index.html">Innenansicht: 13 LED-Lampen und eine Flasche Rum. Teil 2</a></li>
<li><a href="../de384657/index.html">Automatisierung der Heizungssteuerung zum Selbermachen. Teil 4</a></li>
<li><a href="../de384659/index.html">Brainwave aufblasbare Hai-Kontrolle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>