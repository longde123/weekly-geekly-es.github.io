<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💆🏻 👍🏾 🚜 Botovodstvo 👩🏽‍💼 👩🏾‍🤝‍👨🏽 ☝🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="自2000年代初以来，有关将聊天机器人引入这项工作的消息以令人羡慕的频率出现。 在本文中，我将告诉您从哪里开始，并概述现有解决方案，并分享为Selectel创建机器人的经验。 

 适用范围 
 业务发展通常不仅伴随着扩大核心业务，还伴随着调试支持流程。 聊天机器人只是日常自动化中业务活动的一部分。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Botovodstvo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/selectel/blog/436622/"><img src="https://habrastorage.org/webt/4r/bm/ao/4rbmaocgu1zssnwtw9jr7trcoiu.png"><br><br> 自2000年代初以来，有关将聊天机器人引入这项工作的消息以令人羡慕的频率出现。 在本文中，我将告诉您从哪里开始，并概述现有解决方案，并分享为Selectel创建机器人的经验。 <br><br><h2> 适用范围 </h2><br> 业务发展通常不仅伴随着扩大核心业务，还伴随着调试支持流程。 聊天机器人只是日常自动化中业务活动的一部分。 通信和同类型简单任务的实现是聊天机器人的工作基础。 有了它，您不仅可以执行重复性任务，而且还可以执行人无法执行的任务，例如，监视社交网络上的活动。 <br><a name="habracut"></a><br> 我想以我在Selectel的工作示例为机器人的各种应用领域。 小型破坏者：我从技术作家开始工作，现在是云解决方案部门的工程师。 实施虚拟助手的途径始于市场部门的机器人，该机器人在社交网络上跟踪公司的评论和提及。 这样的开发非常简单，但是有效地补充了市场上现有的解决方案，例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IFTTT服务</a> 。 <br><br> 在我的实践中，以下发展为人力资源部门的内部聊天机器人和与客户进行交流的机器人，在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">圣彼得堡</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">莫斯科的</a> SelectelTechDay会议上作为演示台展示。 两种漫游器都是使用不同的服务和技术创建的。 在深入探讨技术细节之前，请考虑设备机器人的顶级方案。 <br><br><h2> 植物学的基本原理 </h2><br><img src="https://habrastorage.org/webt/bj/pa/lh/bjpalhf582st-rvscox-0rdb3ww.png" title="聊天机器人原理"><br><br>  Chatbot活动是围绕3个主要动作构建的： <br><br><ol><li> 信息是通过某些通信渠道接收或显示的，例如在Slack或Vk.com对话框中。 </li><li> 意图识别是对接收到的信息进行综合分析以形成答案 </li><li> 动作处理-准备正确答案所必需的在服务器端执行的任何工作。 例如，如果请求天气预报，则将向某个API发出有关城市N的天气的请求，并将此命令的结果发送给用户 </li></ol><br> 聊天机器人的主要动作在维护上下文任务的框架内组合在一起，以创建人形形式的交流和支持对话。 聊天机器人应“记住”对话的主题并相应地调整其答案。 <br><br> 将聊天机器人连接到社交平台的问题单独存在。 即时通讯程序和社交网络的连接器可以独立实现，也可以在用于创建聊天机器人的现有产品框架内得到支持。 <br><br> 目前，有许多解决方案可提供现成的服务，以使技术支持或销售流程自动化。 我将更加关注工具，这些工具使您可以创建满足公司安全性内部要求的服务，而不会使开发过程复杂化。 <br><br><h2> 植物构造 </h2><br> 聊天机器人的上述3条原则（渠道，分析，操作）可以以不同的方式实现。 最简单的选择是比较传入的文本并将相应的答案发送给用户。 <br><br><img src="https://habrastorage.org/webt/qk/uq/hp/qkuqhp34ajh9mngceyotokw5zsc.jpeg" title="最简单的聊天机器人形式是与答案库进行比较"><br><br> 我们的目标是更高一些-获得一个可以快速添加新脚本并在大多数情况下可以理解用户的系统。 <br><br> 为此，我们需要了解用户在说什么，控制对话的进度，并在某些情况下执行某些操作（例如，预订会议室）。 可以使用以下工具来实现： <br><br><ul><li>  DialogFlow（Google） </li><li>  Wit.ai（Facebook） </li><li>  Azure Bot服务（Microsoft） </li><li>  Rasa Core（开源） </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sl/ny/ae/slnyae0-oecyvkprys5ofemjssg.png" title="最受欢迎的产品比较"></div><br> 选择产品时，请考虑以下因素： <br><br><ol><li>  <i>在现有系统中放置机器人的可执行代码有多重要</i> <br> 例如，对于Wit.ai和Dialogflow，我们不能完全控制整个过程-我们将文本提供给这些应用程序并获得现成的答案。 使用Rasa Core或Azure BotBuilder SDK，我们可以将所有对应关系存储在内部系统的边界内 </li><li>  <i>您需要连接多少个通讯渠道</i> <br>  Dialogflow通过指定访问密钥，可以使用有限数量的连接器来连接即时通讯程序和社交网络。 您可以为Wit.ai和Rasa Core使用任意数量的通道，但是连接它们的逻辑必须独立实现（通常这是一项非常琐碎的任务）。  Azure Bot Service可以使用连接器连接某些通道，但不仅限于此，它还可以独立连接到其他源 </li><li>  <i>更改机器人知识库的难易程度</i> <br> 当以程序代码的形式创建机器人而不使用可视界面与之交互时，我们限制了可以更改该机器人的对话框和响应的人员圈子。 每个人都应该可以使用添加和编辑短语的功能 </li></ol><br> 对于我们的聊天机器人Tirex的内部虚拟助手，选择了Google Dialogflow提供的平台，该平台提供了可视化编辑意图的功能，并且操作<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在Selectel</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">私有云中进行</a> 。 决定性因素包括开始使用该漫游器的速度，发送消息时的安全性以及所支持消息列表中是否存在Slack通道。 <br><br><img src="https://habrastorage.org/webt/6o/or/re/6oorre8yi3d19b3pvyc_omf6ve4.jpeg" title="Tirex正在计划向虚拟现实过渡"><br><br> 创建聊天机器人的想法长期以来一直存在于公司中，特别是考虑使用它可以解决什么问题： <br><br><ul><li> 公司员工人数增加，与此类似的问题如“如何使用公司资料库”的流量也在增加。 和“在哪里吃午饭？” </li><li> 定期预定会议室和发行通行证 </li><li> 在公司知识库中搜索信息和文档 </li></ul><br><img src="https://habrastorage.org/webt/ff/jq/rl/ffjqrlqkxk_d3hrmanp1x9x_k-i.png" title="由我们的插画家Pavel创建的Tirex Web头像"><br><br> 在Dialogflow中创建和连接机器人需要几分钟。 首先，我们将考虑系统中聊天机器人的原理，然后添加复杂动作的实现。 <br><br><h2> 在Dialogflow中创建机器人 </h2><br><h3> 建筑创作 </h3><br> 在本文的进一步内容中，我们将使用以下概念进行操作： <br><br><ul><li>  <b>意图</b>是用户想要执行的形式化任务。 </li><li>  <b>参数</b> -完成任务所需的一组数据 </li><li>  <b>答案</b> -为响应所识别的意图而执行的功能或程序 </li><li>  <b>训练词组</b> -聊天机器人从其获得的来自用户的消息示例 </li></ul><br>  Dialogflow处理自然语言并提取所有必要的数据以执行复杂的命令。 为此，将创建包含多个<b>意图的</b> <b>代理</b> 。 每种<b>意图都</b>可以使您准备一个聊天机器人，以理解提出请求时的细微差别。 <br><br>  <b>目的</b>包括<b>训练短语</b> ， <b>参数</b>和<b>答案</b> 。 在训练短语中，我们突出显示形成正确答案所必需的参数（例如，时间或地点）。 <br><br>  <b>答案</b>以<b>intent</b>表示，或者Dialogflow向我们的服务器发送请求，该服务器执行必要的工作并使用我们的聊天机器人示例返回<b>响应</b> ： <br><br><ul><li> 对于简单的问题（例如，“我们在国外有保险计划吗？”， <b>答案</b>在于<b>意图</b> </li><li> 对于更复杂的任务，例如“现在有免费的呼叫室吗？” 使用对服务器的附加请求来形成<b>响应</b> ，该请求确定所有参与者和会议室的空闲时间 </li></ul><br><img src="https://habrastorage.org/webt/zd/pj/gl/zdpjgldguiq15ebnhn3llbxnt4i.png" title="聊天机器人响应选择方案"><br><br><h3> 有意工作 </h3><br> 考虑使用Dialoglow作为协商保留的示例。 我们创建一个预订管理代理，并确定以下意图： <br><br><ul><li> 查看现有预订 </li><li> 预定会议室 </li></ul><br> 每个意图都由训练短语来调用。 添加的次数越多，执行所需动作的可能性就越大。 在我们的示例中，“预订会议室”的意图将由以下短语引起： <br><br><ul><li>  <b>今天23</b>点<b>15分</b>预订<b>我</b> <b>30分钟</b> </li><li> 你好 请在<b>08/08/2018</b>从<b>15:00</b>到<b>16:00</b>预订会议<b>室</b> </li><li> 书本 </li><li> 我需要一间会议室 </li></ul><br><img src="https://habrastorage.org/webt/kq/7q/g0/kq7qg04pq_awv3kwvong8wmmwdg.png"><br><br> 意向性数据收集的原则如下： <br><br><ol><li> 根据收到的输入，Dialogflow会了解其意图。 在我们的示例中-预订谈判 </li><li> 如果在第一条消息中未指定所需的参数（例如，会议时间），则聊天机器人将询问澄清的问题 </li><li> 收到所有数据后，Dialogflow将向VPC中的服务器发送请求以保留所需的空间 </li></ol><br> 让我们看一下这个过程： <br><br><img src="https://habrastorage.org/webt/a2/da/ba/a2dabaptazt_bzdbibfhirvdsxw.gif" title="与Tirex交流"><br><br> 通过将包含所有数据的请求发送到操作服务器的预添加地址（Webhook URL）来处理操作： <br><br><img src="https://habrastorage.org/webt/ex/xa/tv/exxatvzn3ysqxnzuxoqmwftmgoi.png" title="添加动作服务器"><br><br> 在<i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">website.ru/webhook</a></i>上有一个服务器，它处理复杂的命令（在我们的示例中，它返回字符串“ Hello from server！”）。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Github Gist</a>快速<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">入门</a> ： <br><br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- from flask import Flask, request, make_response, jsonify app = Flask(__name__) @app.route('/webhook', methods=['POST']) def webhook(): req = request.get_json(force=True) intent = req.get('queryResult').get('intent').get('displayName') print(intent) if intent == 'Sample intent': res = make_response(jsonify( { "fulfillmentText": "  !", } )) return res return make_response(jsonify( { "fulfillmentText": "   !", } )) if __name__ == '__main__': app.run(host='0.0.0.0', debug=True, port=5000)</span></span></code> </pre> <br><h2> 使用RASA创建机器人 </h2><br> 要使用不带第三方服务的chatbot进行文本识别，可以使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Rasa之类的</a>工具，该工具可让您完全控制Bot的整个过程。  Rasa是一组包含语音识别和对话管理的开源软件组件。 现在，您已经可以浏览<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Boilerplate了</a> ，我准备熟悉该平台，如果有Habr社区提出要求，我们将发布更详细的说明。 <br><br><h2> 聊天机器人和业务 </h2><br> 是否将自动化服务用于客户服务不是一个容易的问题。 在灵活性，工作速度和安全性之间进行选择时，现代工具可提供许多解决方案。 现在，自然语言的意图识别系统不仅可以以专有形式使用，而且可以自由分发，这为他们自己的实验提供了巨大的机会。 我们考虑了一种选择，可以让您快速实现聊天机器人，以自动执行您的业务相同任务，而无需花费资本支出，并以最低的人工成本进行操作。 如果您已经在工作中使用聊天机器人，请在评论中分享有关您的印象以及客户印象的反馈。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN436622/">https://habr.com/ru/post/zh-CN436622/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN436612/index.html">布莱恩·克雷布斯（Brian Krebs）：巨型泄漏帐户数据库，包含2-3年的亿万条记录</a></li>
<li><a href="../zh-CN436614/index.html">特斯拉将在全球范围内减少7％的固定员工</a></li>
<li><a href="../zh-CN436616/index.html">新加坡如何与创新合作：从政府法规到夜总会</a></li>
<li><a href="../zh-CN436618/index.html">2019年的准备工作：编程趋势</a></li>
<li><a href="../zh-CN436620/index.html">可视化安全事件并评估其有效性的集成方法</a></li>
<li><a href="../zh-CN436624/index.html">研究：大多数用户不了解Facebook如何处理其数据。</a></li>
<li><a href="../zh-CN436626/index.html">Python成为世界上最受欢迎的编程语言。</a></li>
<li><a href="../zh-CN436628/index.html">通过增加重复率和奖励来改善基于股票的Q学习代理</a></li>
<li><a href="../zh-CN436630/index.html">微服务。 统一及其为何如此重要。 第1部分-配置</a></li>
<li><a href="../zh-CN436632/index.html">我们如何构建用于在SIBUR中处理，存储和分析数据的系统</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>