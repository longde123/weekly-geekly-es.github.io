<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸˆ¸ ğŸš´ğŸ¾ ğŸ“° Apa yang terjadi ketika kami memecahkan pameran? ğŸ‘¨ğŸ¼â€âš–ï¸ ğŸ‘©ğŸ»â€ğŸ¤â€ğŸ‘¨ğŸ½ ğŸš“</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Q RC OD E melalui aplikasi seluler untuk memindai lencana peserta pameran proyek keamanan informasi. 

 Tahun lalu, kami mengunjungi pameran besar pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apa yang terjadi ketika kami memecahkan pameran?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417621/">  Q <b>RC</b> OD <b>E</b> melalui aplikasi seluler untuk memindai lencana peserta pameran proyek keamanan informasi. <br><a name="habracut"></a><br>  Tahun lalu, kami mengunjungi pameran besar proyek keamanan informasi di London.  Sebagai persiapan, kami mengirimkan kartu pass kami dalam bentuk PDF â€œprint it yourselfâ€. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3cf/c19/9ba/3cfc199ba6b29143007fb4871a3536b5.png" alt="Lencana peserta pameran Toms"></div><br>  Kami segera memperhatikan dua jenis barcode.  Menariknya, kode QR terlihat terlalu padat, mengingat cukup untuk menyimpan hanya ID peserta di dalamnya.  Karena penasaran, kami meluncurkan pemindai QR dan menerima isi kode: <br><br><pre><code class="hljs objectivec">{<span class="hljs-string"><span class="hljs-string">"CJe"</span></span>;<span class="hljs-string"><span class="hljs-string">"BHEEZST"</span></span>,<span class="hljs-string"><span class="hljs-string">"DO"</span></span>;<span class="hljs-string"><span class="hljs-string">"Cvmmfuqsppg"</span></span>,<span class="hljs-string"><span class="hljs-string">"G"</span></span>;<span class="hljs-string"><span class="hljs-string">"upn"</span></span>,<span class="hljs-string"><span class="hljs-string">"KU"</span></span>;<span class="hljs-string"><span class="hljs-string">"Qfofusbujpo uftufs"</span></span>,<span class="hljs-string"><span class="hljs-string">"T"</span></span>;<span class="hljs-string"><span class="hljs-string">"xzbuu"</span></span>}</code> </pre> <br>  Ternyata hampir-tapi-tidak-cukup-JSON.  Salah satu keuntungan dari nama pendek seperti nama saya adalah bahwa itu menarik perhatian Anda dalam situasi seperti itu.  Oleh karena itu, saya segera memperhatikan bahwa nama saya dikodekan dalam ROT-25 ("tom" berubah menjadi "upn").  Ia juga dikenal sebagai Caesar's Cipher, di mana setiap huruf diganti dengan yang lain dengan offset tetap (dalam hal ini, huruf dalam alfabet digunakan sebagai ganti setiap huruf).  Setelah menjalankan baris melalui decoder (dengan mempertimbangkan markup JSON), kami mendapat: <br><br><pre> <code class="hljs objectivec">{<span class="hljs-string"><span class="hljs-string">"BId"</span></span>;<span class="hljs-string"><span class="hljs-string">"AGDDYRS"</span></span>,<span class="hljs-string"><span class="hljs-string">"CN"</span></span>;<span class="hljs-string"><span class="hljs-string">"Bulletproof"</span></span>,<span class="hljs-string"><span class="hljs-string">"F"</span></span>;<span class="hljs-string"><span class="hljs-string">"tom"</span></span>,<span class="hljs-string"><span class="hljs-string">"JT"</span></span>;<span class="hljs-string"><span class="hljs-string">"Penetration tester"</span></span>,<span class="hljs-string"><span class="hljs-string">"S"</span></span>;<span class="hljs-string"><span class="hljs-string">"wyatt"</span></span>}</code> </pre> <br>  Ini lebih mudah dibaca. <br><br><h2>  Hancurkan? </h2><br>  Anehnya, kode QR menyimpan informasi yang tampaknya terkait dengan bidang BId dalam database.  Mengapa  Ya, itu sangat sederhana.  Panitia telah membuat aplikasi mobile untuk vendor yang membantu mereka mengumpulkan kontak peserta selama pameran.  Kami berasumsi bahwa data dienkripsi dalam kode QR jika Wi-Fi atau sinyal seluler tidak stabil. <br><br>  Sejauh ini, kami dapat melakukan sedikit informasi ini, kecuali mengubah data kami untuk menghindari spam dari vendor dari acara tersebut.  Itu akan lucu, tetapi hampir tidak layak untuk mengirim email ke pengembang sistem.  Jadi, kami pergi ke Play Market dan menginstal aplikasi yang sesuai untuk melihat fungsinya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/544/bf7/ff1/544bf7ff1910ec9044f73bf566dbb997.png" alt="Tangkapan layar aplikasi"></div><br>  Dan di sini kami menemui masalah: kami tidak memiliki data yang diperlukan dari penyelenggara acara.  Kami berpikir bahwa kami dapat memalsukan respons server menggunakan proxy MiTM, dan aplikasi akan melepaskan kami.  Kami menyiapkan Burpsuite dan mencatat beberapa upaya masuk yang tidak berhasil, berharap untuk mencegat lalu lintas dan bermain dengannya. <br><br>  Sayangnya, kami tidak berhasil.  Aplikasi mengarahkan semua permintaan menggunakan SOAP, dan tanggapannya tidak jelas.  Namun, server menerbitkan dokumen WSDL untuk aplikasi tersebut. <br><br><h2>  Ini bukan akhirnya </h2><br>  Mengapa tidak menulis layanan web palsu sehingga Anda tidak dapat lagi mengakses server aplikasi sebenarnya?  Beberapa jam kemudian kami memiliki layanan seperti itu, dan semua lalu lintas dihidupkan.  Itu berhasil!  Aplikasi diautentikasi dengan data apa pun dan terhubung ke acara palsu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c32/e23/0a9/c32e230a94d053e2bd63cc2f7849e4ba.png" alt="Acara palsu di aplikasi"></div><br>  Kami memindai beberapa lencana, dan semuanya tampak berfungsi dengan baik.  Kemajuan!  Setelah berkeliaran di sekitar aplikasi untuk beberapa waktu, menjadi jelas bahwa itu menggunakan semacam kerangka kerja berbasis WebView.  Menggali sedikit di APK, kami menemukan sejumlah sebutan Sencha dan Ext.js, yang mengkonfirmasi asumsi kami. <br><br>  Dan sekarang - yang paling menarik.  Jika suatu aplikasi terdiri dari campuran HTML dan JavaScript biasa, dapatkah itu rentan terhadap serangan web standar?  Kami membungkus beberapa XSS dalam "tidak-cukup-JSON" yang diharapkan aplikasi, memindai mereka, dan ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/21c/64d/940/21c64d940bd21911a963ff8ee4a8a697.png" alt="Id palsu di aplikasi"></div><br><h2>  Kami memecahkannya </h2><br>  Hebat!  Injeksi HTML di bidang "JT" menunjukkan gambar.  Kita dapat menambahkan atribut "onerror" ke tag ini untuk mencapai eksekusi skrip, tetapi kami dibatasi oleh batasan pada panjang maksimum kode QR.  Akibatnya, kami membuat payload yang mengunduh file JS dari server dan menjalankannya di perangkat.  Di sini, misalnya, adalah tes peringatan standar (): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/831/726/56e/83172656e9f9340bfec3447e8d24ac3f.png" alt="mengkode peringatan"></div><br>  Memindai kode batang memicu XSS dan mengeksekusi kode: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c9c/d23/7e2/c9cd237e297e61234ad05df380b52a3d.png" alt="Menampilkan cacat XSS"></div><br>  Kami menyengatnya sehingga pas dengan ukuran maksimum kode QR yang dapat dibaca, tidak terlalu padat untuk mencetak pada kartu pass.  Setelah membaca dokumentasi untuk Ext.js API dan membandingkannya dengan kode APK terekompilasi, kami dapat membuat barcode yang: <br><br><ol><li>  Unduh file JS dari server jauh </li><li>  Membaca kunci sesi dari smartphone dan mengirimkannya ke server kami </li><li>  Membaca isi dari basis data kontak yang di-cache dari aplikasi, termasuk nama dan alamat email semua pass yang dipindai oleh perangkat ini </li><li>  Menghapus rekaman Anda dari telepon pintar </li></ol><br>  Kemudian serangannya muncul sebagai berikut: penjual memindai kode QR saya dengan imbalan pena gratis, dan saya mendapatkan daftar lengkap semua kontak yang dipindai oleh perangkat ini. <br><br>  Payload: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/23d/604/4fc/23d6044fccd94b03cdd82e833a6c0d65.png" alt="Menampilkan Payload"><br><br>  Permintaan ke server web: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3c/257/8de/b3c2578de409b7d6409e138f8aba5717.png" alt="Menampilkan respons server"><br><br><h2>  Semua baik-baik saja itu berakhir dengan baik </h2><br>  Kami menarik perhatian para vendor di pameran, dan setelah beberapa diskusi, mereka memutuskan untuk tidak menggunakan aplikasi ini tahun ini.  Hanya beberapa orang di acara itu yang memanfaatkan aplikasi ini, sementara kebanyakan pemindai barcode kecil lebih disukai.  Aplikasi dari Pasar diunduh hanya sekitar 500 kali.  Namun, ini adalah vektor yang menarik untuk XSS, yang menunjukkan bahwa Anda benar-benar perlu memfilter data sebelum digunakan, terlepas dari sumbernya. <br><br>  Meskipun aplikasi khusus ini belum banyak digunakan, bayangkan jika kerentanannya ada dalam aplikasi yang digunakan oleh ribuan atau diunduh oleh jutaan?  Semua data ini untuk penyerang yang akan membuangnya atas kebijakan mereka: dari kampanye phishing hingga serangan brutal. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id417621/">https://habr.com/ru/post/id417621/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id417607/index.html">Tes A / B tidak berhasil. Periksa apa yang Anda lakukan salah</a></li>
<li><a href="../id417613/index.html">Ceph as pluggable storage: 5 wawasan praktis dari proyek besar</a></li>
<li><a href="../id417615/index.html">Disk Cracker Confessions untuk Apple II: Rahasia 4 pagi</a></li>
<li><a href="../id417617/index.html">Cassandra untuk menyimpan metadata: keberhasilan dan kegagalan</a></li>
<li><a href="../id417619/index.html">Win32 / Glupteba tidak lagi dikaitkan dengan operasi Windigo</a></li>
<li><a href="../id417627/index.html">Hyper CRM atau Mini ERP? Bisnis kacau</a></li>
<li><a href="../id417629/index.html">Delphi dan C ++ Builder Community Edition</a></li>
<li><a href="../id417631/index.html">Tutorial Video Kotak CSS</a></li>
<li><a href="../id417637/index.html">Pengembangan editor untuk membuat situs web / pendaratan (pengalaman)</a></li>
<li><a href="../id417639/index.html">Kebalikan dari Neuromancer. Bagian 4: Suara, Animasi, Huffman, Github</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>