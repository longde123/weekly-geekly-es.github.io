<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏥 🧓🏻 🔫 Automatisierung der Heizungssteuerung zum Selbermachen. Teil 3 🤽🏼 👴🏽 🥊</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Weiter geht es über die Heimat Heizungssteuerung mit dem sprechen NM8036 Timer-Thermostat (Start hier weiterhin hier ). 
 
 
 
 Programmstrings und Pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatisierung der Heizungssteuerung zum Selbermachen. Teil 3</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/masterkit/blog/383709/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weiter geht es </font><font style="vertical-align: inherit;">über die Heimat Heizungssteuerung mit dem sprechen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NM8036 Timer-Thermostat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Start </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> weiterhin </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<img src="https://habrastorage.org/files/5b3/7b5/34c/5b37b534c1454736865ab3b0b75bd9d1.jpg" width="650"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Programmstrings und Programm für NM8036. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der NM8036-Timer-Thermostat ist natürlich eine gute Sache, aber ohne Person ist er immer noch nur ein Stück Hardware. Ich sage, dass für die normale Steuerung der Heizung in einem Privathaus ein Programm erforderlich ist, das entsprechend der verwendeten Ausrüstung erstellt wird. Wo soll ich anfangen?</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Machen wir uns mit den Grundprinzipien der Programmierung dieses "Stücks Eisen" vertraut. </font><font style="vertical-align: inherit;">Wie Sie aus der Beschreibung wissen, können in der Steuerung nur 32 Befehle (Anweisungen) platziert werden. </font><font style="vertical-align: inherit;">Natürlich nicht viel, aber dieser Nachteil wird bis zu einem gewissen Grad durch die Tatsache kompensiert, dass diese Teams ziemlich funktional sind, dh anfangs einige Bedingungen enthalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Buchstäblich jede Anweisung erlaubt Ihnen, eine Wahl zu treffen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Art des Teams;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Start- und Endzeiten;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gültigkeitszeitraum;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Belastung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Art des Eingangssensors;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nummern (Namen) des Sensors;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obere und untere Schwellenwerte (Hysterese);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Logik der Interaktion.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stimmen Sie zu, Meister, eine ziemlich umfangreiche Liste und für den ersten unerfahrenen Blick ist nicht ganz unverständlich. Deshalb werden wir jetzt auf all diese Punkte näher eingehen. Danach wird sich hoffentlich alles als nicht so kompliziert herausstellen. Lesen Sie es einfach sorgfältig durch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Art des Teams. Es gibt vier davon, mit Ausnahme des Typs „Deaktiviert“: Timer, Heizung, Kühlung, Wecker. In Bezug auf den letzten, den Wecker, können wir mit Sicherheit sagen: Kaum jemand hat ihn benutzt. Obwohl vielleicht jemand fädelt und dieses Gerät an der Wand am Kopf anbringt. Aber ich würde lieber ein Handy benutzen ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tatsächlich bleiben uns drei Arten von Interesse: Mit dem Timer können Sie die ausgewählte Last zu einer bestimmten Zeit und an einem bestimmten Tag ein- und ausschalten. Durch Erhitzen kann die Last eingeschaltet werden, wenn die Temperatur auf die eingestellten Werte abfällt, und durch Abkühlen wird eingeschaltet, wenn die Temperatur steigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Start- und Endzeit sowie Gültigkeitsdauer. Die Wahl dieser Werte ist mit jedem Team der drei Teams möglich, an denen wir interessiert sind. Hier finden Sie Datum und Uhrzeit des Starts sowie Datum und Uhrzeit des Stopps. Diese Auswahl hängt eng mit der Gültigkeitsdauer zusammen. Auf welche Weise?</font></font><br>
<br>
<img src="https://habrastorage.org/files/1b3/212/80f/1b321280fe3d48e78f67c85f626199d8.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Gültigkeitszeitraum nicht ausgewählt ist (oder „Ohne Zeitraum“ ausgewählt ist), werden die ausgewählten Werte für Zeiten und Daten wörtlich genommen. Das heißt, die Ladung funktioniert von der Startzeit über die Uhrzeit und das Datum des Stopps bis zum 2. Oktober 2099. Die ganze Zeit ohne auszuschalten. Aber wie kann man die Last jeden Tag zur ausgewählten Zeit einschalten und zu einer anderen Zeit ausschalten? </font></font><br>
<br>
<img src="https://habrastorage.org/files/e69/018/4d5/e690184d52fc4866b7c9961166be7500.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für diese Arbeitslogik müssen Sie den Gültigkeitszeitraum angeben. Irgendein. Insbesondere wird im obigen Beispiel der Zeitraum nach Wochentagen ausgewählt und alle Tage werden angezeigt. Jetzt wird die Last jeden Tag während des Starts ein- und während des Stopps ausgeschaltet. Und so geht es wieder bis 2099 weiter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hinweis: Bei der Auswahl der Typen des Befehls Heizen und Kühlen wirkt sich die Auswahl der Temperaturwerte neben der ausgewählten Zeit und Wirkungsdauer auch auf das Ergebnis aus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auswahl laden. Es macht kaum Sinn zu erklären, dass dies die Wahl der Last ist, auf die das Team einwirkt. Ich stelle jedoch noch einmal fest, wie bequem es ist, eine solche Auswahl (sowie die Auswahl der Sensoren) zu treffen, wenn Namen zugewiesen sind. Ich zeige absichtlich nicht, wie der NM8036-Block über die Tastatur des Blocks selbst programmiert wird, da ich es nicht selbst gemacht habe und es viel bequemer finde, dies mit dem erweiterten Manager zu tun (ich werde im nächsten Teil darauf eingehen).</font></font><br>
<br>
<img src="https://habrastorage.org/files/14c/901/8ec/14c9018ec5fb40739e4384fce164c725.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sensoren In diesem Programmblock können Sensoren und deren Werte ausgewählt werden. Die Reihenfolge der Aktionen ist sehr logisch: Wählen Sie den Sensortyp aus, wählen Sie den Sensor selbst aus der Liste aus und stellen Sie die erforderlichen Werte ein. </font></font><br>
<br>
<img src="https://habrastorage.org/files/25a/77f/7b9/25a77f7b999942149846c9abe6645223.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sensortyp. Es gibt drei Optionen: digital (Temperatursensoren), analog (dies sind die Eingänge des ADC-Controllers) und Vergleich zweier Sensoren (Temperatursensoren). Wählen Sie zunächst Digital. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a86/514/ac2/a86514ac2681402fb9269051071e91e0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Digitaler Sensor. Wählen Sie aus der angezeigten Liste der Sensornamen den gewünschten aus.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ff5/e92/7af/ff5e927af0fe4ca0813a7e82ec8c2d58.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hysterese. Und hier sei vorsichtig, Meister. Das Ein- und Ausschalten der Last sind Aktionen, die das System bei unterschiedlichen Temperaturen ausführt. Stellen Sie nicht die gleichen Temperaturwerte für den oberen und unteren Schwellenwert ein, dies entspricht nicht der Logik der Steuerung. Die Schwellenwerte können sehr nahe liegen, z. B. 22,12 Grad und 22,13 Grad, sie müssen jedoch unterschiedlich sein.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ffd/97d/617/ffd97d61741c47b6bc51033b1da8a7a0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hysterese ist die Differenz zwischen den Ein- und Ausschalttemperaturen. Darüber hinaus gibt es zwei Arten von Befehlen: Heizen und Kühlen. Wenn also eine Heizung installiert ist, wird die Last immer in der grünen Zone (unterhalb der unteren Schwelle) eingeschaltet. In der gelben Zone kann die Last ein- und ausgeschaltet werden, alles hängt von der Richtung ab. Wenn die tatsächliche Temperatur steigt, wird die Last auf die obere Schwelle (25 Grad) eingeschaltet. Wenn es erreicht ist, schaltet sich die Last aus und ihr Einschluss ist nur möglich, wenn die Temperatur auf den unteren Schwellenwert abfällt. Oberhalb der oberen Schwelle wird die Last unter keinen Umständen eingeschaltet.</font></font><br>
<br>
<img src="https://habrastorage.org/files/984/e29/545/984e2954579d4affa20bfc837c9dd277.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine andere Sache ist, wenn die Art des Befehls Cool ist. Hier wird die Last immer bei Temperaturen über der oberen Schwelle (grüne Zone) eingeschaltet. Die Last wird bei der Temperatur der unteren Schwelle (24 Grad) und der Einbeziehung: bei der Temperatur der oberen Schwelle (25 Grad) getrennt. Somit wird die Temperatur für beide Befehlstypen zwischen Werten von 24 bis 25 Grad gehalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auswahl eines analogen Sensors. Hier und bei der Auswahl eines digitalen Sensors muss die Hysterese ein- und ausgeschaltet werden. </font></font><br>
<br>
<img src="https://habrastorage.org/files/785/296/483/785296483ca9438a8bf5328397943675.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Programm bietet zwei Arten von Hystereseeinstellungen: ADC und Physik. Sie können Werte in jede Zeile eingeben, in einer anderen werden die entsprechenden Werte automatisch berechnet. Lesen Sie mehr über die Darstellung dieser Daten im zweiten Teil über ADC-Eingänge.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es sollte auch beachtet werden, dass die Logik der Last und hier der Art des Befehls entspricht: Heizen oder Kühlen. Es spielt keine Rolle, was wir hier messen: Temperatur, Druck, Kilogramm, Kilometer oder Volt ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vergleich zweier Sensoren. Diese Funktion ist in Firmware-Versionen unter 1,95 nicht verfügbar. Es besteht auch eine Abhängigkeit von der Art des Befehls. Im obigen Beispiel wird die Last während des Heizens eingeschaltet, wenn der Sensor „Hausrücklauf“ „kälter“ als der „BTA-Ausgang“ ist. Wenn der Kühltyp ausgewählt ist, kehrt sich die Situation um.</font></font><br>
<br>
<img src="https://habrastorage.org/files/db2/99e/9d1/db299e9d1bcd4759b289f94b4cbb4f74.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Logik der Interaktion. In vielen Fällen ist diese Funktion gefragt, da es manchmal unmöglich ist, ein Programm zu erstellen, bei dem mehrere Bedingungen berücksichtigt werden müssen. Für mich sollte der Betrieb der Pumpe im Haus zum Beispiel nicht nur von der Temperatur im Flur abhängen, sondern auch von der Temperatur des Hausrücklaufs und von der Position des Schalters „Boiler“. Das heißt, drei Sensoren müssen auf dieselbe Last wirken. Im Allgemeinen kann es bei der Steuerung der Heizung eines Privathauses verschiedene Situationen geben.</font></font><br>
<br>
<img src="https://habrastorage.org/files/4ca/f84/fab/4caf84fabcd247f19dad5cc45b81a8f9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie es uns zunächst herausfinden, Meister, mit dieser Logik. Wir sind uns sofort einig, dass die getrennte Lastposition Null (0) und die Ein-Position Eins (1) ist. Das heißt, jedes Team von 32 kann uns als Ergebnis nur diese 2 Zustände geben: 0 oder 1 (deaktiviert und aktiviert). Alle Bedingungen in diesem Befehl wurden erfüllt (Uhrzeit, Datum, Zeitraum, Sensorstatus) - ausgegeben 1 (Laden an), und wenn mindestens eine der aufgelisteten Bedingungen nicht erfüllt ist - ausgegeben 0 (Laden aus).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nehmen wir jetzt zwei Teams. Für die gleiche Ladung (ich achte besonders darauf). Zwei Teams, die auf dieselbe Last einwirken, aber unterschiedliche Sensoren testen oder eine andere Zeit einstellen, oder im Allgemeinen sind die Typen unterschiedlich: eines ist Heizen und das andere ist Kühlen oder Timer. Es spielt keine Rolle, aber die Hauptsache ist, dass jeder von ihnen sein eigenes Ergebnis liefert: 0 oder 1. Aber die Last ist eins! Wem sollte sie zuhören, wie sie sich verhalten soll? Wird es sich einschalten oder nicht? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier kommt die Interaktionslogik ins Spiel. Es gibt zwei Optionen: die Option "ODER" und die Option "UND". Mit der Option „ODER“ wird die Last eingeschaltet, wenn mindestens ein Team 1 ausgibt. Das ODER ein anderes - es spielt keine Rolle, aber wenn mindestens eines den Startschuss gibt, wird die Last eingeschaltet.</font></font><br>
<br>
<img src="https://habrastorage.org/files/155/c62/a6e/155c62a6ec11459caa3382eedc9760d4.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit der Option "Und" auf andere Weise. Hier werden zwei Einheiten benötigt, damit die Last funktioniert. Das und das andere. Wenn mindestens eines der Teams die Freigabe nicht erteilt hat, wird die Ladung nicht eingeschaltet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wenn die Teams nicht zwei, sondern drei sind? Und wenn vier? Und egal, die Logik bleibt dieselbe. Die Hauptsache ist zu verstehen und sich daran zu erinnern, dass die Interaktionslogik so eingestellt ist, dass sie mit dem vorherigen Team für dieselbe Last interagiert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, hier sind wir mit den Prinzipien der Programmierung von NM8036 bei der Heizungssteuerung eines Privathauses vertraut. Aber das Gespräch ist noch nicht vorbei. Wir werden noch Beispiele geben, um verschiedene Tricks kennenzulernen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Logik meines Systems sieht, wie bereits erwähnt, zwei Modi vor, in denen der Kessel in Betrieb ist und in dem anderen die Lufttemperatur geregelt wird. Der Modusschalter befindet sich im Schalter "Boiler".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Name dieses Schalters entspricht anscheinend nicht seiner Logik. Warum? Denn wenn es eingeschaltet ist, gibt es eine Spannung von 0 Volt aus, und wenn es ausgeschaltet ist, gibt es 5 Volt ab. Dies ist keine notwendige Maßnahme, sondern nur, dass ich sie während der Montage zufällig auswähle. Dementsprechend habe ich das Programm gemacht, ich wollte es nicht berühren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des Weiteren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Programm enthält 5 Lasten, die es steuert: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Pumpe umgehen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Der Pumpenkreis zum Haus. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Elektrische Heizelemente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Signalwarnung. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Signalalarm. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kontrollierte Temperatursensoren: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Lufttemperatur in der Eingangshalle. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Die Temperatur am Eingang der Register. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Temperatur im Rücklauf des Heizkreises.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen ein Modusschalter, fünf Lasten und 3 Temperatursensoren. All dies muss irgendwie in einer bestimmten Logik zu einem Ganzen verbunden sein: einem Steuerungsprogramm. Loslegen! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst bestimmen wir die Werte, anhand derer wir die Position des Modusschalters bestimmen. Es sollte zwei Bedeutungen geben. Einer von ihnen sollte überdurchschnittlich sein, der andere darunter. Ich akzeptierte die obere Hystereseschwelle von 2,7 Volt und die untere - 2,0 Volt. Es hätte weiter von der Mitte entfernt sein können, beispielsweise 3,5 Volt und 1,5 Volt, aber wie sich herausstellte, bestimmt das Programm trotz der akzeptierten Werte eindeutig die Position des Schalters. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einfach ausgedrückt, das Programm weiß jetzt, dass bei einer Spannung unter 2 Volt der Modus „Kesselbetrieb“ aktiviert ist. Wenn die Eingangsspannung über 2,7 Volt liegt, ist dies der Modus „Schaltungsbetrieb“.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Umstand ermöglicht es uns bereits, eine der Lasten zu steuern: die Bypasspumpe. Wenn der Modus „Kesselbetrieb“ aktiviert ist, muss diese Pumpe eingeschaltet sein und Wasser jagen. Im Modus „Kreislaufbetrieb“ ist diese Pumpe jedoch nicht erforderlich. Für diese Last sind keine weiteren Bedingungen vorgesehen. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a23/d89/a2c/a23d89a2c8e74cca939443e89034fd4c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und so die erste Zeile. Wir setzen den Start-Stopp bis 2099, lassen ihn immer funktionieren, solange eine Versorgungsspannung vorhanden ist. Wir wählen nicht die Art der Periode aus, hier ist keine Periodizität in der Zeit erforderlich. Die Last wurde angezeigt, der Sensor wurde angezeigt, die Hysteresewerte wurden bestimmt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber warum heizen? Da bei dieser Auswahl die Last jedoch immer eingeschaltet bleibt, solange die Eingangsspannung unter der oberen Hystereseschwelle liegt (dh unter 2,7 Volt). Ich habe diese Bedingungen oben ausführlicher erläutert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dank dieser Programmzeile wird nun die Bypasspumpe die ganze Zeit eingeschaltet, während der Modus „Kesselbetrieb“ eingeschaltet ist. Haben Sie, Meister, eine Frage wie: Oder ist es besser, die Pumpe einfach mit dem Kippschalter einzuschalten? Immerhin macht es keinen Unterschied, es ist sowieso ein Becher! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn es auftritt, werde ich folgendermaßen antworten: Und dieser Kippschalter von mir schaltet nicht nur die Bypasspumpe ein. Dank der Betätigung dieses Kippschalters werden andere Aufgaben ausgeführt, die im Folgenden beschrieben werden. </font></font><br>
<br>
<img src="https://habrastorage.org/files/6cd/610/ccc/6cd610ccc684488aa63a188ae7db5e1e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes kümmern wir uns um die Registerheizung. Dazu habe ich einen Elektrokessel installiert. Die darin enthaltenen Heizelemente sollten sich einschalten, wenn die Temperatur am Eingang der Register unter 40 Grad liegt. Es gibt aber auch eine Bedingung: Sie sollten nur im Modus „Kesselbetrieb“ eingeschaltet werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Über die Temperatur: Ich habe bereits über den Fehler von Temperatursensoren gesprochen, die mit Klebeband am Rohr befestigt sind. Daher berücksichtigen wir diesen Fehler und setzen die Grenzen der Hysterese etwas niedriger. Wie viel - das habe ich empirisch ermittelt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für diese Last (Heizelemente) müssen also zwei Bedingungen erfüllt sein. Beginnen wir mit der Temperatur von der ersten und stellen die Werte für die erste Lastlinie der Heizelemente ein. Start-Stopp und Art der Periode sind in allen Zeilen gleich, daher werde ich sie nicht mehr erwähnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Übrigen wählen wir die Aufgabe Heizen, laden TENy, ​​steuern die Sensoreingangsregister und stellen die Hysterese 36-35 ein. Mit solchen Einstellungen werden die Heizelemente bei einer Temperatur von 35 oder weniger eingeschaltet und ausgeschaltet, wenn sie 36 Grad erreichen (in der Natur habe ich 41 Grad).</font></font><br>
<br>
<img src="https://habrastorage.org/files/f07/956/201/f07956201a304ec3a9553f09842c8a2d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt müssen wir noch eine weitere Bedingung für diese Last (Heizelemente) erfüllen: den Modus „Kesselbetrieb“. Hier fällt es uns leichter, diese Bedingung haben wir bereits in der ersten Zeile für die Bypasspumpe erfüllt. Wir stellen hier alles genau gleich ein, in der dritten in einer Reihe Programmzeile und in der zweiten in einer Reihe für die Last der Heizelemente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Gegensatz zu dieser Zeile geben wir natürlich die Belastung der Heizelemente an und (ACHTUNG!) In der oberen rechten Ecke treffen wir die Wahl der Interaktionslogik I. Wenn Sie vergessen haben, Meister, sende ich Ihnen oben noch einmal, wo wir mehr über die Interaktionslogik sprechen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somit schaltet sich die Last der Heizelemente jetzt nur ein, wenn die Temperatur am Eingang der Register unter 40 Grad liegt und nur, wenn der Modus „Kesselbetrieb“ eingeschaltet ist.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ef6/1c2/565/ef61c256546a42b194dece2724a34607.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und jetzt ist es Zeit, über den Alarm nachzudenken. Insbesondere wenn TENs eingeschaltet sind, sollten kurze, seltene Ticker für mich klingen. Hier könnte man theoretisch einfach das Signalgerät an die Heizelemente und das gesamte Geschäft anschließen. Die Frage ist nur: wie? Immerhin pendelt das Lastrelais TENY 220 Volt Wechselstrom, und 12 Volt Konstantstrom sollten zum Warnsignal gehen. Es ist also notwendig, ein separates Laden zu programmieren: Warnung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also werden wir es tun. Alles ist genau das gleiche wie für die Last der Heizelemente, auch zwei Leitungen, aber geben Sie die Last in ihnen an: Warnung. Links sehen wir die erste Zeile ... </font></font><br>
<br>
<img src="https://habrastorage.org/files/5f4/08a/6fa/5f408a6fae024889bf3819d0fb9d7b81.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und hier ist die zweite Zeile für das Warnsignal.</font></font><br>
<br>
<img src="https://habrastorage.org/files/67c/310/1e4/67c3101e470542b69653bd4a1e43b5e7.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden sofort einen Alarm auslösen, dh ein Temperaturüberschusssignal am Eingang der Register. Und hier sind auch zwei Programmzeilen erforderlich, da die Temperatur am Eingang der Register geregelt und der Zustand des Modus „Kesselbetrieb“ beobachtet werden muss. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fast alles ist das gleiche wie beim Warnsignal. Fast, weil wir die Last angeben. Unfall, Hysterese 51-50 und (ACHTUNG!) Die Aufgabe, die wir Kühlung wählen. Mit dieser Anordnung wird die Last des Alarms eingeschaltet und funktioniert dann, wenn die Temperatur am Eingang der Register 51 und höher vom Sensor ist. In der Natur habe ich es 58 und höher. </font></font><br>
<br>
<img src="https://habrastorage.org/files/7b2/58f/04f/7b258f04ff374319a43d88c2b77c9f8f.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und die zweite Zeile zum Lastunfall befestigt den Modus "Kessel". Die Logik der Interaktion Und!</font></font><br>
<br>
<img src="https://habrastorage.org/files/910/aa2/ccb/910aa2ccbdf343a89945a87511da59eb.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und schließlich erreichten wir die Einstellung der Lufttemperatur im Flur. Hier werden wir nicht eine Zeile verwalten und nicht zwei. Hier habe ich drei Bedingungen: die Temperatur in der Eingangshalle, die Temperatur bei der Rückführung des Stromkreises und ... den Modus „Stromkreisbetrieb“. Kein Kessel, sondern ein Heizkreis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Theoretisch ist es nicht so schwierig, wenn auch drei Zeilen. Die erste Zeile regelt die Temperatur im Flur. Aufgabe Heizen, Last Pumpenhaus, Hysterese 21.7-21.6. </font></font><br>
<br>
<img src="https://habrastorage.org/files/ed7/5d1/af3/ed75d1af39b24574a5c05ca629c5f635.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zweite Zeile ist eine wichtige Zeile. Dies ist der Temperaturzustand in der Rücklaufleitung des Stromkreises. Die Pumpe sollte aufhören, heißes Wasser zu fördern, wenn ihre Rücklauftemperatur 33 Grad überschritten hat. </font></font><br>
<br>
<img src="https://habrastorage.org/files/4c3/1fc/5b4/4c31fc5b43e3466b99edbed0d40e0c20.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dies ist die dritte Zeile für die Last des Pumpenhauses und die letzte in meinem Heizungssteuerungsprogramm. Pass auf, Meister, hier ist die Aufgabe Kühlen für den Kippschalter ausgewählt. Ich denke du verstehst warum.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Natürlich werden in meinem Heizungssteuerungsprogramm nicht alle NM8036-Funktionen verwendet. Es gibt auch einen Vergleich von zwei Temperatursensoren, die ich nicht nach Bedarf verwendet habe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte auch ein paar Worte zur Logik der Interaktion sagen. Die Anweisungen besagen, dass für jede Programmzeile die Logik der Interaktion mit der vorherigen Zeile bestimmt wird. Aber ich würde hier korrigieren. Ein bisschen falsch. Richtiger: die Logik der Interaktion mit dem Ergebnis der vorherigen Zeilen. Was bedeutet das? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber schauen Sie: Wir haben zum Beispiel 5 Zeilen des Programms für dieselbe Last: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Zeile 1 (ODER) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Zeile 2 (UND) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Zeile 3 (UND) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Zeile 4 (ODER) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Zeile 5 (UND)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie kann man das Ergebnis bestimmen? Beginnen wir von oben. Die erste Zeile zählt keine Logik, da für diese Last keine vorherigen Zeilen vorhanden sind. Wenn Sie jedoch das logische UND in die erste Zeile setzen, wird diese Zeile niemals für Sie ausgeführt (sie ergibt 0). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zweite Zeile arbeitet mit der ersten gemäß der Logik I. Das heißt, die erste sollte 1 und die zweite - 1 ergeben. Zwei Einheiten in der Logik und geben eine Einheit am Ausgang: 1. Wenn mindestens eine der Bedingungen nicht erfüllt ist, ist der Ausgang der zweiten Zeile Null ( 0). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die dritte Zeile funktioniert ... nicht mit der zweiten! Sie arbeitet mit Ergebnis von der zweiten. Sie arbeitet mit diesem Ergebnis gemäß dem logischen UND und gibt ihr Ergebnis 0 oder 1 an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die vierte Zeile. Noch nicht verwirrt? Achten Sie darauf, dass es mit dem ERGEBNIS von Zeile 3 gemäß dem logischen ODER funktioniert (jede 1 am Eingang ergibt 1 am Ausgang).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und schließlich die fünfte Zeile. </font><font style="vertical-align: inherit;">Wenn wir nicht verwirrt sind und das Ergebnis nach der vierten Zeile genau kennen, können wir das Ergebnis nach der fünften Zeile ganz genau bestimmen. </font><font style="vertical-align: inherit;">Logik Und: Für 1 am Ausgang sollten zwei Einheiten am Eingang sein. </font><font style="vertical-align: inherit;">Und wenn wir nach der fünften Zeile Ausgang 1 erhalten, wird unsere Last eingeschaltet. </font><font style="vertical-align: inherit;">0 - lässt sich nicht einschalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortsetzung folgt…</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de383709/">https://habr.com/ru/post/de383709/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de383695/index.html">In den USA wollen sie die Änderung der Firmware für Wi-Fi-Router verbieten</a></li>
<li><a href="../de383699/index.html">Welthauptstadt des Patentrechts</a></li>
<li><a href="../de383701/index.html">Frischer Blick auf das "Brennholz"</a></li>
<li><a href="../de383703/index.html">Materie besteht aus nichtig oder 0, (9) = 1</a></li>
<li><a href="../de383705/index.html">Voronoi-Diagramme für Flughäfen und Hauptstädte</a></li>
<li><a href="../de383711/index.html">Alle wichtigen Innovationen von Lenovo auf der IFA 2015</a></li>
<li><a href="../de383715/index.html">Jacke für Reisende erhielt 8 Millionen US-Dollar bei Kickstarter anstelle von 20.000 US-Dollar</a></li>
<li><a href="../de383717/index.html">VOICe Sound Vision - Ein Schritt vom Durchbruch entfernt</a></li>
<li><a href="../de383719/index.html">Video Bewertung Asus X555LF Laptop</a></li>
<li><a href="../de383721/index.html">Die Rückgabe des Pakets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>