<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค๐ฝ ๐๏ธ ๐ฉโ๐ฉโ๐งโ๐ฆ ุฏููู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง ุงูุจุตุฑูุฉ ู Kubernetes ๐จ๐พโ๐ญ ๐คฑ๐ฝ ๐จโ๐ณ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชูุฑูุจุง. ุงูุนุงุจุฑุฉ. : ูุฐุง ุงูููุงู ุฌุฒุก ูู ุงูููุงุฏ ุงููุชุงุญุฉ ูุฌุงููุง ูู ูุดุฑูุน learnk8s ุ ูุงูุฐู ูุนููู ููููุฉ ุงูุนูู ูุน ุดุฑูุงุช Kubernetes ูุงููุณุคูููู ุงูุฃูุฑุงุฏ. ูู ุฐูู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฏููู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง ุงูุจุตุฑูุฉ ู Kubernetes</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/484954/" style=";text-align:right;direction:rtl">  <i><b>ุชูุฑูุจุง.</b></i>  <i><b>ุงูุนุงุจุฑุฉ.</b></i>  <i>: ูุฐุง ุงูููุงู ุฌุฒุก ูู ุงูููุงุฏ ุงููุชุงุญุฉ ูุฌุงููุง ูู ูุดุฑูุน <a href="https://learnk8s.io/">learnk8s</a> ุ ูุงูุฐู ูุนููู ููููุฉ ุงูุนูู ูุน ุดุฑูุงุช Kubernetes ูุงููุณุคูููู ุงูุฃูุฑุงุฏ.</i>  <i>ูู ุฐูู ุ ูุดุงุฑู Daniele Polencic ุ ูุฏูุฑ ุงููุดุฑูุน ุ ุชุนูููุงุช ูุงุถุญุฉ ุญูู ุงูุฎุทูุงุช ุงูุชู ูุฌุจ ุงุชุฎุงุฐูุง ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู ุนุงูุฉ ููุชุทุจููุงุช ุงูุชู ุชุนูู ูู ูุฌููุนุฉ K8s.</i> <br><br><img src="https://habrastorage.org/webt/ch/5u/xa/ch5uxanj-3ivwqu88swqyoi6bsu.png"><br><br>  TL ุ DR: ุฅููู ูุฎุทุท ูุณุงุนุฏู ูู ุชุตุญูุญ ุงููุดุฑ ูู Kubernetes: <a name="habracut"></a><br><br> <a href=""><img src="https://habrastorage.org/webt/4r/qp/si/4rqpsie8dnplkqxahaqntpi2ssw.png"></a> <br><br>  <i>ูุฎุทุท ุงูุณูุงุจู ููุนุซูุฑ ุนูู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง ูู ูุชูุฉ.</i>  <i>ูู ุงูุฃุตู (ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ) ููู ูุชููุฑุฉ ูู <a href="https://learnk8s.io/a/troubleshooting-kubernetes.pdf">PDF</a> <a href="">ููุตูุฑุฉ</a> .</i> <br><br>  ุนูุฏ ูุดุฑ ุชุทุจูู ุนูู Kubernetes ุ ุนุงุฏุฉ ูุง ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุซูุงุซุฉ ููููุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ุงููุดุฑ</b> ูู ูุตูุฉ ูุฅูุดุงุก ูุณุฎ ูู ุชุทุจูู ูุณูู ุงููุฑูู. </li><li style=";text-align:right;direction:rtl">  <b>ุฎุฏูุฉ</b> - ููุงุฒู ุงูุชุญููู ุงูุฏุงุฎูู ุงูุฐู ููุฒุน ุญุฑูุฉ ุงููุฑูุฑ ุจูู ุงููุฑูู. </li><li style=";text-align:right;direction:rtl">  <b>ุฏุฎูู</b> - ูุตู ูููููุฉ ุชุฏูู ุญุฑูุฉ ุงููุฑูุฑ ูู ุงูุนุงูู ุงูุฎุงุฑุฌู ุฅูู ุงูุฎุฏูุฉ. </li></ul><br>  ูููุง ููู ููุฎุต ุฑุณููู ููุฌุฒ: <br><br>  1) ูู Kubernetes ุ ุชุณุชูุจู ุงูุชุทุจููุงุช ุญุฑูุฉ ุงููุฑูุฑ ูู ุงูุนุงูู ุงูุฎุงุฑุฌู ูู ุฎูุงู ุทุจูุชูู ูู ููุงุฒูู ุงูุชุญููู: ุฏุงุฎููุฉ ูุฎุงุฑุฌูุฉ. <br><br><img src="https://habrastorage.org/webt/3v/cy/z9/3vcyz9a-2ciiqbh9he7idgvo7uy.png"><br><br>  2) ูุณูู ุงูููุงุฒู ุงูุฏุงุฎูู ุงูุฎุฏูุฉ ุ ุงูุฎุงุฑุฌูุฉ - ุฏุฎูู. <br><br><img src="https://habrastorage.org/webt/23/mn/zc/23mnzcfo_b3niccdivn4bc4vzei.png"><br><br>  3) ุงููุดุฑ ูุฎูู ุงููุฑูู ููุฑุตุฏูุง (ูุง ูุชู ุฅูุดุงุคูุง ูุฏููุงู). <br><br><img src="https://habrastorage.org/webt/4j/c2/h9/4jc2h9pgzbxmkon4ewkbeuf0vhc.png"><br><br>  ูููุชุฑุถ ุฃูู ุชุฑูุฏ ูุดุฑ ุชุทุจูู ุจุณูุท ุจุงุณู la <i>Hello World</i> .  ุณูุจุฏู ุชูููู YAML ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">apiVersion: apps/v1 kind: Deployment # &lt;&lt;&lt; metadata: name: my-deployment labels: track: canary spec: selector: matchLabels: any-name: my-app template: metadata: labels: any-name: my-app spec: containers: - name: cont1 image: learnk8s/app:1.0.0 ports: - containerPort: 8080 --- apiVersion: v1 kind: Service # &lt;&lt;&lt; metadata: name: my-service spec: ports: - port: 80 targetPort: 8080 selector: name: app --- apiVersion: networking.k8s.io/v1beta1 kind: Ingress # &lt;&lt;&lt; metadata: name: my-ingress spec: rules: - http: paths: - backend: serviceName: app servicePort: 80 path: /</code> </pre> <br>  ุงูุชุนุฑูู ุทููู ุฌุฏูุง ุ ููู ุงูุณูู ุงูุชูุฑุท ูู ููููุฉ ุงุฑุชุจุงุท ุงูููููุงุช ุจุจุนุถูุง ุงูุจุนุถ. <br><br>  ุนูู ุณุจูู ุงููุซุงู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ูุฌุจ ุฃู ุชุณุชุฎุฏู ุงููููุฐ 80 ุ ููุชู - 8080ุ </li><li style=";text-align:right;direction:rtl">  ูู ูุฌุจ ุนูู ุฅูุดุงุก ูููุฐ ุฌุฏูุฏ ููู ุฎุฏูุฉ ุญุชู ูุง ุชุชุนุงุฑุถุ </li><li style=";text-align:right;direction:rtl">  ูู ุฃุณูุงุก ุงูููุตูุงุช ูููุฉุ  ูุฌุจ ุฃู ุชููู ูู ููุณูุง ูู ูู ููุงูุ </li></ul><br>  ูุจู ุงูุชุฑููุฒ ุนูู ุชุตุญูุญ ุงูุฃุฎุทุงุก ุ ุฏุนูุง ูุชุฐูุฑ ููู ุชุฑุชุจุท ุงูููููุงุช ุงูุซูุงุซุฉ ุจุจุนุถูุง ุงูุจุนุถ.  ููุจุฏุฃ ุจุงููุดุฑ ูุงูุฎุฏูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุชุตุงู Deployment'a ู Service'a </h2><br>  ุณูู ุชูุงุฌุฃ ุ ููู ุนูููุงุช ุงููุดุฑ ูุงูุฎุฏูุฉ ุบูุฑ ูุชุตูุฉ ุจุฃู ุดูู ูู ุงูุฃุดูุงู.  ุจุฏูุงู ูู ุฐูู ุ ุชุดูุฑ ุงูุฎุฏูุฉ ูุจุงุดุฑุฉู ุฅูู ูุฑูู ุชุฌุงูุฒ ุงููุดุฑ. <br><br>  ูุจุงูุชุงูู ุ ูุญู ููุชููู ุจููููุฉ ุงุฑุชุจุงุท ุงููุฑูู ูุงูุฎุฏูุงุช ุจุจุนุถูู ุงูุจุนุถ.  ุซูุงุซุฉ ุฃุดูุงุก ููุชุฐูุฑูุง: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชุทุงุจู <code>selector</code> ุงูุฎุฏูุฉ ูุน ุนูุงูุฉ Pod ูุงุญุฏุฉ ุนูู ุงูุฃูู. </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชุทุงุจู <code>targetPort</code> ูุน <code>containerPort</code> . </li><li style=";text-align:right;direction:rtl">  ุฎุฏูุฉ <code>port</code> ูููู ุฃู ูููู ุฃู ุดูุก.  ูููู ูุฎุฏูุงุช ูุฎุชููุฉ ุงุณุชุฎุฏุงู ููุณ ุงููููุฐ ูุฃู ูุฏููู ุนูุงููู IP ูุฎุชููุฉ. </li></ol><br>  ููุซู ุงููุฎุทุท ุงูุชุงูู ูู ูุง ุณุจู ูู ุดูู ุฑุณูู ุจูุงููุฉ: <br><br>  1) ุชุฎูู ุฃู ุงูุฎุฏูุฉ ุชูุฌู ุญุฑูุฉ ุงููุฑูุฑ ุฅูู ุฌุฑุงุจ ูุนูู: <br><br><img src="https://habrastorage.org/webt/2a/e5/8f/2ae58fcgoi7aifmcr5rl_0bseym.png"><br><br>  2) ุนูุฏ ุฅูุดุงุก ุฌุฑุงุจ ุ ูุฌุจ ุนููู ุชุญุฏูุฏ <code>containerPort</code> ููู ุญุงููุฉ ูู ุงููุฑูู: <br><br><img src="https://habrastorage.org/webt/xc/fa/ow/xcfaowomhbtqhebhodgzhzrkupc.png"><br><br>  3) ุนูุฏ ุฅูุดุงุก ุงูุฎุฏูุฉ ุ ูุฌุจ ุนููู ุชุญุฏูุฏ <code>port</code> ู <code>targetPort</code> .  <i>ููู ูู ุงูุฐู ูุชุตู ุจุงูุญุงููุฉุ</i> <br><br><img src="https://habrastorage.org/webt/vg/wj/nd/vgwjnde0xyzdblwamomfxjaxb40.png"><br><br>  4) ุนู ุทุฑูู <code>targetPort</code> .  ูุฌุจ ุฃู ุชุทุงุจู <code>containerPort</code> . <br><br><img src="https://habrastorage.org/webt/q4/yx/qn/q4yxqnkxxilupalikahmqqp09x8.png"><br><br>  5) ูููุชุฑุถ ุฃู ุงููููุฐ 3000 ููุชูุญ ูู ุงูุญุงููุฉ ุ ุซู ูุฌุจ ุฃู ุชููู ูููุฉ <code>targetPort</code> ูู ููุณูุง. <br><br><img src="https://habrastorage.org/webt/cq/tj/-s/cqtj-srznih70qh7bxs3w_l7bis.png"><br><br>  ูู ููู YAML ุ ูุฌุจ ุฃู ุชุชุทุงุจู ุงูุชุณููุงุช <code>ports</code> / <code>targetPort</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: apps/v1 kind: Deployment metadata: name: my-deployment labels: track: canary spec: selector: matchLabels: any-name: my-app template: metadata: labels: # &lt;&lt;&lt; any-name: my-app # &lt;&lt;&lt; spec: containers: - name: cont1 image: learnk8s/app:1.0.0 ports: - containerPort: 8080 # &lt;&lt;&lt; --- apiVersion: v1 kind: Service metadata: name: my-service spec: ports: - port: 80 targetPort: 8080 # &lt;&lt;&lt; selector: # &lt;&lt;&lt; any-name: my-app # &lt;&lt;&lt;</code> </pre> <br>  <i>ูุงุฐุง ุนู <code>track: canary</code> ูู ุงูุฌุฒุก ุงูุนููู ูู ูุณู ุงููุดุฑุ</i>  <i>ูุฌุจ ุฃู ุชุชุทุงุจูุ</i> <br><br>  ุชุดูุฑ ูุฐู ุงูุชุณููุฉ ุฅูู ุงููุดุฑ ุ ููุง ุชุณุชุฎุฏููุง ุงูุฎุฏูุฉ ูุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ.  ุจูุนูู ุขุฎุฑ ุ ูููู ุญุฐูู ุฃู ุชุนููู ูููุฉ ูุฎุชููุฉ ูู. <br><br>  <i>ูุงุฐุง ุนู ูุญุฏุฏุงุช <code>matchLabels</code> ุ</i> <br><br>  <b>ูุฌุจ ุฃู ูุชุทุงุจู ุฏุงุฆููุง ูุน ููุตูุงุช Pod</b> ุ ุญูุซ ูุชู ุงุณุชุฎุฏุงูู ุจูุงุณุทุฉ Deployment ูุชุชุจุน ุงูุณููุงุช. <br><br>  <i>ูููุชุฑุถ ุฃูู ุฃุฌุฑูุช ุงูุชุนุฏููุงุช ุงูุตุญูุญุฉ.</i>  <i>ููููุฉ ุงูุชุญูู ูููุงุ</i> <br><br>  ููููู ุงูุชุญูู ูู ุงูููุตู ูู ุฎูุงู ุงูุฃูุฑ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl get pods --show-labels</code> </pre> <br>  ุฃู ุ ุฅุฐุง ูุงูุช ุงููุฑูู ุชูุชูู ุฅูู ุงูุนุฏูุฏ ูู ุงูุชุทุจููุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl get pods --selector any-name=my-app --show-labels</code> </pre> <br>  ุญูุซ <code>any-name=my-app</code> ูู <code>any-name: my-app</code> label. <br><br>  <i>ูู ููุงู ุฃู ุตุนูุจุงุชุ</i> <br><br>  ููููู ุงูุงุชุตุงู ุฌุฑุงุจ!  ููููุงู ุจุฐูู ุ ุงุณุชุฎุฏู ุงูุฃูุฑ <code>port-forward</code> ูู kubectl.  ูุชูุญ ูู ุงูุงุชุตุงู ุจุงูุฎุฏูุฉ ูุงูุชุญูู ูู ุงูุงุชุตุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl port-forward service/&lt;service name&gt; 3000:80</code> </pre> <br>  ููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>service/&lt;service name&gt;</code> - ุงุณู ุงูุฎุฏูุฉ ุ  ูู ุญุงูุชูุง ูู <code>my-service</code> . </li><li style=";text-align:right;direction:rtl">  3000 - ุงููููุฐ ุงูุฐู ุชุฑูุฏ ูุชุญู ุนูู ุงูููุจููุชุฑ ุ </li><li style=";text-align:right;direction:rtl">  80 - ูููุฐ ูุญุฏุฏ ูู ูุฌุงู <code>port</code> ุงูุฎุฏูุฉ. </li></ul><br>  ุฅุฐุง ุชูููุช ูู ุฅูุดุงุก ุงุชุตุงู ุ ูุฅู ุงูุฅุนุฏุงุฏุงุช ุตุญูุญุฉ. <br><br>  ุฅุฐุง ุชุนุฐุฑ ุฅูุดุงุก ุงูุงุชุตุงู ุ ูููุงู ูุดููุฉ ูู ุงูุชุณููุงุช ุฃู ุงูููุงูุฐ ุบูุฑ ูุชุทุงุจูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุชุตุงู ุงูุฎุฏูุฉ ูุงูุฏุฎูู </h2><br>  ุชุชุนูู ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุชูููุฑ ุงููุตูู ุฅูู ุงูุชุทุจูู ุจุชูููู ุงูุฏุฎูู.  ูุฌุจ ุฃู ูุนุฑู ุงูุฅุฏุฎุงู ููููุฉ ุงูุนุซูุฑ ุนูู ุงูุฎุฏูุฉ ุ ุซู ุงุจุญุซ ุนู ุงูุญุงุถุฑุงุช ูุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ุฅูููุง.  ุฏุฎูู ูุฌุฏ ุงูุฎุฏูุฉ ุงููุทููุจุฉ ุจุงูุงุณู ูุงููููุฐ ุงูููุชูุญ. <br><br>  ูู ูุตู ุงูุฏุฎูู ูุงูุฎุฏูุฉ ุ ูุฌุจ ุฃู ุชุชุทุงุจู ูุนููุชุงู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชุทุงุจู <code>servicePort</code> ูู Ingress ูุน ูุนููุฉ <code>port</code> ูู ุงูุฎุฏูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชุทุงุจู <code>serviceName</code> ูู <code>serviceName</code> ูุน ุญูู <code>name</code> ูู ุงูุฎุฏูุฉ. </li></ol><br>  ููุฎุต ุงูุฑุณู ุงูุจูุงูู ุงูุชุงูู ุงุชุตุงู ุงูููุงูุฐ: <br><br>  1) ููุง ุชุนูููู ุจุงููุนู ุ ุชุณุชูุน ุงูุฎุฏูุฉ ุนูู <code>port</code> ูุนูู: <br><br><img src="https://habrastorage.org/webt/9q/t0/fz/9qt0fzsyme9mnrd4ki07ezamnkg.png"><br><br>  2) ุงูุฏุฎูู ูุญุชูู ุนูู ูุนููุฉ ุชุณูู <code>servicePort</code> : <br><br><img src="https://habrastorage.org/webt/rn/du/yw/rnduyw4xvfmpjmhup8fy9ao2d1a.png"><br><br>  3) ูุฌุจ ุฃู ุชุชุทุงุจู ูุฐู ุงููุนููุฉ ( <code>servicePort</code> ) ุฏุงุฆููุง ูุน <code>port</code> ูู ุชุนุฑูู ุงูุฎุฏูุฉ: <br><br><img src="https://habrastorage.org/webt/1d/ap/ty/1daptyulxphnbb2dt6uben-lnzk.png"><br><br>  4) ุฅุฐุง ุชู ุชุญุฏูุฏ ุงููููุฐ 80 ูู ุงูุฎุฏูุฉ ุ ููุฌุจ ุฃู ุชููู <code>servicePort</code> ุฃูุถูุง 80: <br><br><img src="https://habrastorage.org/webt/nc/mi/dl/ncmidlxiegmtmhtozaxxqhznaya.png"><br><br>  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ุชุญุชุงุฌ ุฅูู ุงูุงูุชุจุงู ุฅูู ุงูุฃุณุทุฑ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: v1 kind: Service metadata: name: my-service # &lt;&lt;&lt; spec: ports: - port: 80 # &lt;&lt;&lt; targetPort: 8080 selector: any-name: my-app --- apiVersion: networking.k8s.io/v1beta1 kind: Ingress metadata: name: my-ingress spec: rules: - http: paths: - backend: serviceName: my-service # &lt;&lt;&lt; servicePort: 80 # &lt;&lt;&lt; path: /</code> </pre> <br>  <i>ููููุฉ ุงูุชุญูู ููุง ุฅุฐุง ูุงู ุงูุฏุฎูู ูุนููุ</i> <br><br>  ููููู ุงุณุชุฎุฏุงู ุงูุฃุณููุจ ูุน <code>kubectl port-forward</code> ุ ูููู ุจุฏูุงู ูู ุงูุฎุฏูุฉ ุ ุชุญุชุงุฌ ุฅูู ุงูุงุชุตุงู ุจูุญุฏุฉ ุงูุชุญูู ูู Ingress. <br><br>  ุชุญุชุงุฌ ุฃููุงู ุฅูู ูุนุฑูุฉ ุงุณู ุงูุฌุฑุงุจ ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ุงูุชุญูู ูู ุงูุฏุฎูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl get pods --all-namespaces NAMESPACE NAME READY STATUS kube-system coredns-5644d7b6d9-jn7cq 1/1 Running kube-system etcd-minikube 1/1 Running kube-system kube-apiserver-minikube 1/1 Running kube-system kube-controller-manager-minikube 1/1 Running kube-system kube-proxy-zvf2h 1/1 Running kube-system kube-scheduler-minikube 1/1 Running kube-system nginx-ingress-controller-6fc5bcc 1/1 Running</code> </pre> <br>  ุญุฏุฏ ูููุน ุฌุฑุงุจ Ingress (ูุฏ ูุดูุฑ ุฅูู ูุณุงุญุฉ ุงุณู ูุฎุชููุฉ) ุซู ูู ุจุชุดุบูู ุงูุฃูุฑ description ููุนุฑูุฉ ุฃุฑูุงู ุงูููุงูุฐ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl describe pod nginx-ingress-controller-6fc5bcc \ --namespace kube-system \ | grep Ports Ports: 80/TCP, 443/TCP, 18080/TCP</code> </pre> <br>  ุฃุฎูุฑูุง ุ ุงุชุตู ุจุงูุฌุฑุงุจ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl port-forward nginx-ingress-controller-6fc5bcc 3000:80 --namespace kube-system</code> </pre> <br>  ุงูุขู ูู ูู ูุฑุฉ ุชุฑุณู ูููุง ุทูุจูุง ุฅูู ูููุฐ 3000 ุนูู ุงูููุจููุชุฑ ุ ุณูุชู ุฅุนุงุฏุฉ ุชูุฌููู ุฅูู ุงููููุฐ 80 ูู ุงูุญุงูุธุฉ ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ุงูุชุญูู ูู ุงูุฏุฎูู.  ุจุงูุงูุชูุงู ุฅูู <a href="http://localhost:3000/">http: // localhost: 3000</a> ุ ุณุชุฑู ุงูุตูุญุฉ ุงูุชู ุฃูุดุฃูุง ุงูุชุทุจูู. <br><br><h2 style=";text-align:right;direction:rtl">  ููุฎุต ุงููููุงุก </h2><br>  ุฏุนููุง ูุชุฐูุฑ ูุฑุฉ ุฃุฎุฑู ุงูููุงูุฐ ูุงูุนูุงูุงุช ุงูุชู ูุฌุจ ุฃู ุชุชุทุงุจู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชุทุงุจู ูุญุฏุฏ ูู ุชุนุฑูู ุงูุฎุฏูุฉ ูุน ุงูุชุณููุฉ pod. </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชุทุงุจู ูุฏู <code>targetPort</code> ูู ุชุนุฑูู ุงูุฎุฏูุฉ ูุน <code>containerPort</code> <code>targetPort</code> ุงูุญุงููุฉ ุฏุงุฎู ุงูุญุงูุธุฉ ุ </li><li style=";text-align:right;direction:rtl">  <code>port</code> ูู ุชุนุฑูู ุงูุฎุฏูุฉ ูููู ุฃู ูููู ุฃู ุดูุก.  ูููู ูุฎุฏูุงุช ูุฎุชููุฉ ุงุณุชุฎุฏุงู ููุณ ุงููููุฐ ูุฃู ูุฏููู ุนูุงููู IP ูุฎุชููุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชุทุงุจู <code>servicePort</code> Ingress ูุน <code>port</code> ูู ุชุนุฑูู ุงูุฎุฏูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชุทุงุจู ุงุณู ุงูุฎุฏูุฉ ูุน ุงูุญูู <code>serviceName</code> ูู Ingress. </li></ol><br>  ููุฃุณู ุ ูุง ูููู ูุนุฑูุฉ ููููุฉ ููููุฉ ุชูููู YAML ุจุดูู ุตุญูุญ. <br><br>  <i>ูุงุฐุง ูุญุฏุซ ุนูุฏูุง ูุญุฏุซ ุฎุทุฃ ูุงุ</i> <br><br>  ุฑุจูุง ูุง ูุจุฏุฃ ุฌุฑุงุจ ุฃู ุชุนุทู. <br><br><h2 style=";text-align:right;direction:rtl">  3 ุฎุทูุงุช ูุงุณุชูุดุงู ุฃุฎุทุงุก ูุดู ุงูุชุทุจูู ูู Kubernetes </h2><br>  ูุจู ุชุตุญูุญ ุงููุดุฑ ุ ูุฌุจ ุฃู ูููู ูุฏูู ููู ุฌูุฏ ูููููุฉ ุนูู Kubernetes. <br><br>  ูุธุฑูุง ููุฌูุฏ ุซูุงุซุฉ ููููุงุช ูู ูู ุชุทุจูู ุชู ุชูุฒููู ุนูู K8s ุ ููุฌุจ ุชุตุญูุญูุง ุจุชุฑุชูุจ ูุนูู ุ ุจุฏุกูุง ูู ุงูุฃุณูู. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุญุชุงุฌ ุฃููุงู ุฅูู ุงูุชุฃูุฏ ูู ุฃู ุงููุฑูู ุชุนูู ุ ุซู ... </li><li style=";text-align:right;direction:rtl">  ุชุญูู ููุง ุฅุฐุง ูุงูุช ุงูุฎุฏูุฉ ุชููุฑ ุญุฑูุฉ ุงููุฑูุฑ ุฅูู ุงูุณููุงุช ุ ุซู ... </li><li style=";text-align:right;direction:rtl">  ุชุญูู ููุง ุฅุฐุง ุชู ุชูููู Ingress ุจุดูู ุตุญูุญ. </li></ol><br>  ุนุฑุถ ูุฑุฆู: <br><br>  1) ุจุฏุก ุงูุจุญุซ ุนู ุงููุดุงูู ูุฌุจ ุฃู ูููู ูู ุงูุฃุณูู.  ุชุฃูุฏ ุฃููุงู ูู ุฃู ุงููุฑูู ููุง ุฃูุถุงุน <code>Ready</code> <code>Running</code> : <br><br><img src="https://habrastorage.org/webt/f-/lc/iz/f-lcizmfav5sb1sc7hvu8samwes.png"><br><br>  2) ุฅุฐุง ูุงูุช ุงููุฑูู <code>Ready</code> ุ ูุฌุจ ุนููู ูุนุฑูุฉ ูุง ุฅุฐุง ูุงูุช ุงูุฎุฏูุฉ ุชูุฒุน ุญุฑูุฉ ุงููุฑูุฑ ุจูู ุงููุฑูู: <br><br><img src="https://habrastorage.org/webt/yg/we/bu/ygwebumu8ga9lmd7krineuw38mq.png"><br><br>  3) ุฃุฎูุฑูุง ุ ุชุญุชุงุฌ ุฅูู ุชุญููู ุงูุนูุงูุฉ ุจูู ุงูุฎุฏูุฉ ูุงูุฏุฎูู: <br><br><img src="https://habrastorage.org/webt/y7/ze/uz/y7zeuzkhzgsdzcjmng2ei4fjrxg.png"><br><br><h2 style=";text-align:right;direction:rtl">  1. ุชุดุฎูุต ุงููุฑูู </h2><br>  ูู ูุนุธู ุงูุญุงูุงุช ุ ุชููู ุงููุดููุฉ ูุน ุฌุฑุงุจ.  ุชุฃูุฏ ูู ุงููุฑูู <code>Ready</code> <code>Running</code> .  ููููู ุงูุชุญูู ูู ุฐูู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl get pods NAME READY STATUS RESTARTS AGE app1 0/1 ImagePullBackOff 0 47h app2 0/1 Error 0 47h app3-76f9fcd46b-xbv4k 1/1 Running 1 47h</code> </pre> <br>  ูู ุฅุฎุฑุงุฌ ุงูุฃูุฑ ุฃุนูุงู ุ ูุชู ุณุฑุฏ ุงูุฌุฑุงุจ ุงูุฃุฎูุฑ ุจุงุณู <code>Running</code> <code>Ready</code> ุ ูููู ุจุงููุณุจุฉ ููุงุซููู ุงูุฃุฎุฑููู ูุฅูู ููุณ ูุฐูู. <br><br>  <i>ููู ูููู ูุง ุงูุฎุทุฃ ุงูุฐู ุญุฏุซุ</i> <br><br>  ููุงู ุฃุฑุจุนุฉ ุฃูุงูุฑ ูููุฏุฉ ูุชุดุฎูุต ุงููุฑูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>kubectl logs &lt; pod'&gt;</code> ูุณูุญ ูู ุจุงุณุชุฎุฑุงุฌ ุงูุณุฌูุงุช ูู ุญุงููุงุช ูู ุฌุฑุงุจ. </li><li style=";text-align:right;direction:rtl">  <code>kubectl describe pod &lt; pod'&gt;</code> ูุชูุญ ูู ุนุฑุถ ูุงุฆูุฉ ุจุงูุฃุญุฏุงุซ ุงููุฑุชุจุทุฉ ุจุงูุฌุฑุงุจ ุ </li><li style=";text-align:right;direction:rtl">  <code>kubectl get pod &lt; pod'&gt;</code> ูุณูุญ ูู ุจุงูุญุตูู ุนูู ุชูููู YAML ููุฌุฑุงุจ ุงููุฎุฒู ูู Kubernetes ุ </li><li style=";text-align:right;direction:rtl">  ูุณูุญ ูู <code>kubectl exec -ti &lt; pod'&gt; bash</code> ุจุชุดุบูู ุตุฏูุฉ ุฃูุงูุฑ ุชูุงุนููุฉ ูู ุฅุญุฏู ุญุงููุงุช pod </li></ol><br>  <i>ุฃู ูุงุญุฏ ููุงุฎุชูุงุฑุ</i> <br><br>  ุงูุญูููุฉ ูู ุฃูู ูุง ููุฌุฏ ูุฑูู ุนุงููู.  ูุฒูุฌ ูู ูุฐู ููุจุบู ุฃู ุชุณุชุฎุฏู. <br><br><h3 style=";text-align:right;direction:rtl">  ูุดุงูู ุฌุฑุงุจ ุงููุดุชุฑูุฉ </h3><br>  ููุงู ููุนุงู ุฑุฆูุณูุงู ูู ุฃุฎุทุงุก ุฌุฑุงุจ: ุฃุฎุทุงุก ุจุฏุก ุงูุชุดุบูู ูุฃุฎุทุงุก ููุช ุงูุชุดุบูู. <br><br>  ุฃุฎุทุงุก ุจุฏุก ุงูุชุดุบูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>ImagePullBackoff</code> </li> <li style=";text-align:right;direction:rtl"> <code>ImageInspectError</code> </li> <li style=";text-align:right;direction:rtl"> <code>ErrImagePull</code> </li> <li style=";text-align:right;direction:rtl"> <code>ErrImageNeverPull</code> </li> <li style=";text-align:right;direction:rtl"> <code>RegistryUnavailable</code> </li> <li style=";text-align:right;direction:rtl"> <code>InvalidImageName</code> </li> </ul><br>  ุฃุฎุทุงุก ููุช ุงูุชุดุบูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>CrashLoopBackOff</code> </li> <li style=";text-align:right;direction:rtl"> <code>RunContainerError</code> </li> <li style=";text-align:right;direction:rtl"> <code>KillContainerError</code> </li> <li style=";text-align:right;direction:rtl"> <code>VerifyNonRootError</code> </li> <li style=";text-align:right;direction:rtl"> <code>RunInitContainerError</code> </li> <li style=";text-align:right;direction:rtl"> <code>CreatePodSandboxError</code> </li> <li style=";text-align:right;direction:rtl"> <code>ConfigPodSandboxError</code> </li> <li style=";text-align:right;direction:rtl"> <code>KillPodSandboxError</code> </li> <li style=";text-align:right;direction:rtl"> <code>SetupNetworkError</code> </li> <li style=";text-align:right;direction:rtl"> <code>TeardownNetworkError</code> </li> </ul><br>  ุจุนุถ ุงูุฃุฎุทุงุก ูู ุฃูุซุฑ ุดููุนุง ูู ุบูุฑูุง.  ูููุง ููู ุจุนุถ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ูููููุฉ ุฅุตูุงุญูุง. <br><br><h4 style=";text-align:right;direction:rtl">  ImagePullBackOff </h4><br>  ูุธูุฑ ูุฐุง ุงูุฎุทุฃ ุนูุฏูุง ูุชุนุฐุฑ ุนูู Kubernetes ุงูุญุตูู ุนูู ุตูุฑุฉ ูุฃุญุฏ ุญุงููุงุช pod.  ูููุง ููู ุงูุฃุณุจุงุจ ุงูุซูุงุซุฉ ุงูุฃูุซุฑ ุดููุนูุง ููุฐุง: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชู ุชุญุฏูุฏ ุงุณู ุงูุตูุฑุฉ ุจุดูู ุบูุฑ ุตุญูุญ - ุนูู ุณุจูู ุงููุซุงู ุ ุงุฑุชูุจุช ุฎุทุฃ ููู ุ ุฃู ูุงูุช ุงูุตูุฑุฉ ุบูุฑ ููุฌูุฏุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูุชู ุชุญุฏูุฏ ุนูุงูุฉ ุบูุฑ ููุฌูุฏุฉ ููุตูุฑุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูุชู ุชุฎุฒูู ุงูุตูุฑุฉ ูู ุณุฌู ุฎุงุต ุ ููุง ุชุชูุชุน Kubernet ุจุณูุทุฉ ุงููุตูู ุฅูููุง. </li></ol><br>  ูุณูู ุงูุชุฎูุต ูู ุฃูู ุณุจุจูู - ููุท ูู ุจุฅุตูุงุญ ุงุณู ุงูุตูุฑุฉ ูุงูุนูุงูุฉ.  ูู ุญุงูุฉ ุงูุฃุฎูุฑ ุ ุชุญุชุงุฌ ุฅูู ุฅุฏุฎุงู ุจูุงูุงุช ุงูุงุนุชูุงุฏ ุงูุฎุงุตุฉ ุจุงูุณุฌู ุงูุฎุงุต ูู Secret ูุฅุถุงูุฉ ุฑูุงุจุท ุฅููู ูู ูููุงุช.  ุชุญุชูู ูุซุงุฆู Kubernetes <a href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/">ุนูู ูุซุงู</a> ุนู ููููุฉ ุงูููุงู ุจุฐูู. <br><br><h4 style=";text-align:right;direction:rtl">  CrashLoopBackOff </h4><br>  ุณูููู Kubenetes ุจุฑูู ุฎุทุฃ CrashLoopBackOff ุฅุฐุง ุชุนุฐุฑ ุจุฏุก ุชุดุบูู ุงูุญุงููุฉ.  ูุญุฏุซ ูุฐุง ุนุงุฏุฉ ุนูุฏูุง: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุฌุฏ ุฎุทุฃ ูู ุงูุชุทุจูู ูููุนู ูู ุจุฏุก ุงูุชุดุบูู ุ </li><li style=";text-align:right;direction:rtl">  ุชู <a href="https://stackoverflow.com/questions/41604499/my-kubernetes-pods-keep-crashing-with-crashloopbackoff-but-i-cant-find-any-lo">ุชูููู</a> ุงูุญุงููุฉ <a href="https://stackoverflow.com/questions/41604499/my-kubernetes-pods-keep-crashing-with-crashloopbackoff-but-i-cant-find-any-lo">ุจุดูู ุบูุฑ ุตุญูุญ</a> ุ </li><li style=";text-align:right;direction:rtl">  ูุดู ุงุฎุชุจุงุฑ Liveness ุนุฏุฉ ูุฑุงุช. </li></ol><br>  ูุฌุจ ุฃู ุชุญุงูู ุงููุตูู ุฅูู ุงูุณุฌูุงุช ูู ุงูุญุงููุฉ ููุนุฑูุฉ ุณุจุจ ูุดููุง.  ุฅุฐุง ูุงู ุงููุตูู ุฅูู ุงูุณุฌูุงุช ุตุนุจูุง ุ ูุธุฑูุง ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุญุงููุฉ ุจุณุฑุนุฉ ูุจูุฑุฉ ุ ููููู ุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl logs &lt;pod-name&gt; --previous</code> </pre> <br>  ูุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ูู ุงูุชูุงุณุฎ ุงูุญุงููุฉ ุงูุณุงุจูุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  RunContainerError </h4><br>  ูุญุฏุซ ูุฐุง ุงูุฎุทุฃ ุนูุฏูุง ุชูุดู ุงูุญุงููุฉ ูู ุงูุจุฏุก.  ุฅูู ูุชูุงูู ูุน ุงููุญุธุฉ ุงูุชู ุณุจูุช ุฅุทูุงู ุงูุชุทุจูู.  ุนุงุฏุฉ ูุง ูููู ุงูุณุจุจ ูู ุงูุชูููู ุบูุฑ ุงูุตุญูุญ ุ ุนูู ุณุจูู ุงููุซุงู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุงููุฉ ุชุญููู ูุญุฏุฉ ุชุฎุฒูู ุบูุฑ ููุฌูุฏุฉ ุ ูุซู ConfigMap ุฃู Secrets ุ </li><li style=";text-align:right;direction:rtl">  ูุญุงููุฉ ุชุญููู ูุญุฏุฉ ุชุฎุฒูู ูููุฑุงุกุฉ ููุท ูููุฑุงุกุฉ ูุงููุชุงุจุฉ. </li></ul><br>  <code>kubectl describe pod &lt;pod-name&gt;</code> ููุงุณุจ ุชูุงููุง ูุชุญููู ูุซู ูุฐู ุงูุฃุฎุทุงุก. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุฑูู ูู ุงูุชุธุงุฑ </h3><br>  ุจุนุฏ ุงูุฎูู ุ ูุจูู ุงูููู ูู ุญุงูุฉ <code>Pending</code> . <br><br>  <i>ููุงุฐุง ูุญุฏุซ ูุฐุงุ</i> <br><br>  ูููุง ููู ุงูุฃุณุจุงุจ ุงููุญุชููุฉ (ุฃูุชุฑุถ ุฃู ุงููุฌุฏูู ูุนูู ุจุดูู ุฌูุฏ): <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ุชุญุชูู ุงููุฌููุนุฉ ุนูู ููุงุฑุฏ ูุงููุฉ ุ ูุซู ูุนุงูุฌุฉ ุงูุทุงูุฉ ูุงูุฐุงูุฑุฉ ุ ูุชุดุบูู ุงูุฃุฏุงุฉ. </li><li style=";text-align:right;direction:rtl">  ูุชู ุชุซุจูุช ูุงุฆู <code>ResourceQuota</code> ูู ูุณุงุญุฉ ุงูุงุณู ุงููุทุงุจูุฉ ูุณูุคุฏู ุฅูุดุงุก pod ุฅูู ุชุฌุงูุฒ ูุณุงุญุฉ ุงูุงุณู ุงูุญุตุฉ ุงููุณุจูุฉ. </li><li style=";text-align:right;direction:rtl">  ูุฑูุฉ ูุฑุชุจุทุฉ Pending <code>PersistentVolumeClaim</code> . </li></ol><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ููุตู ุจุงุณุชุฎุฏุงู ุฃูุฑ <code>kubectl describe</code> ูุงูุชุญูู ูู ูุณู <code>Events</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl describe pod &lt;pod name&gt;</code> </pre> <br>  ูู ุญุงูุฉ ูุฌูุฏ ุฃุฎุทุงุก ูุชุนููุฉ ุจู <code>ResourceQuotas</code> ุ ููุตู ุจุนุฑุถ ุณุฌูุงุช ูุธุงู ุงููุฌููุนุฉ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl get events --sort-by=.metadata.creationTimestamp</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุงููุฑูู ููุณุช ุฌุงูุฒุฉ </h3><br>  ุฅุฐุง ูุงูุช ุงูุญุงูุธุฉ ูุฏุฑุฌุฉ ุนูู ุฃููุง <code>Running</code> ุ ูููููุง ููุณุช ูู ุญุงูุฉ <code>Ready</code> ุ ูุฅู <i>ูุณุจุงุฑ</i> ุงูุงุณุชุนุฏุงุฏ ุบูุฑ ูุงุฌุญ. <br><br>  ุนูุฏูุง ูุญุฏุซ ูุฐุง ุ ูุง ุชุชุตู pod ุจุงูุฎุฏูุฉ ุ ููุง ุชุชุฏูู ุญุฑูุฉ ุงููุฑูุฑ ุนูููุง.  ูุดู ุงุฎุชุจุงุฑ ุงูุงุณุชุนุฏุงุฏ ุจุณุจุจ ูุดููุงุช ุงูุชุทุจูู.  ูู ูุฐู ุงูุญุงูุฉ ุ ููุนุซูุฑ ุนูู ุงูุฎุทุฃ ุ ุชุญุชุงุฌ ุฅูู ุชุญููู ูุณู <code>Events</code> ูู ุฅุฎุฑุงุฌ ุฃูุฑ <code>kubectl describe</code> . <br><br><h2 style=";text-align:right;direction:rtl">  2. ุชุดุฎูุต ุงูุฎุฏูุงุช </h2><br>  ุฅุฐุง ุชู ุณุฑุฏ ุงููุฑูู ุนูู ุฃููุง <code>Running</code> <code>Ready</code> ุ ูููู ูุง ููุฌุฏ ุญุชู ุงูุขู ุฃู ุงุณุชุฌุงุจุฉ ูู ุงูุชุทุจูู ุ ูุฌุจ ุนููู ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุฎุฏูุฉ. <br><br>  ูุชุดุงุฑู ุงูุฎุฏูุงุช ูู ุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ุฅูู ุงููุฑูู ุงุนุชูุงุฏุง ุนูู ุงูุชุณููุงุช ุงูุฎุงุตุฉ ุจูู.  ูุฐูู ุ ูุฅู ุฃูู ุดูุก ูุนูู ูู ุงูุชุญูู ูู ุนุฏุฏ ุงููุฑูู ุงูุชู ุชุนูู ูุน ุงูุฎุฏูุฉ.  ููููุงู ุจุฐูู ุ ููููู ุงูุชุญูู ูู ููุงุท ุงูููุงูุฉ ูู ุงูุฎุฏูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl describe service &lt;service-name&gt; | grep Endpoints</code> </pre> <br>  ููุทุฉ ุงูููุงูุฉ ูู ุฒูุฌ ูู ููู ุงููููุฐุฌ <code>&lt;IP-:&gt;</code> ุ ููุฌุจ ุฃู ูููู ููุงู ุฒูุฌ ูุงุญุฏ ุนูู ุงูุฃูู ูู ุงูุฅุฎุฑุงุฌ (ุฃู ุ ุฌุฑุงุจ ูุงุญุฏ ุนูู ุงูุฃูู ูุนูู ูุน ุงูุฎุฏูุฉ). <br><br>  ุฅุฐุง ูุงู ูุณู <code>Endpoins</code> ูุงุฑุบูุง ุ ููู ุงููููู ูุฌูุฏ ุฎูุงุฑูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ุญุงูุธุงุช ุชุญุชูู ุนูู ุงูููุตู ุงูุตุญูุญ (ุชูููุญ: ุชุญูู ูู ุชุญุฏูุฏ ูุณุงุญุฉ ุงูุงุณู ุจุดูู ุตุญูุญ) ุ </li><li style=";text-align:right;direction:rtl">  ููุฌุฏ ุฎุทุฃ ูู ุชุณููุงุช ุงูุฎุฏูุฉ ูู ุงููุญุฏุฏ. </li></ol><br>  ุฅุฐุง ุฑุฃูุช ูุงุฆูุฉ <code>targetPort</code> ุงูููุงูุฉ ุ ูููู ูุง ูุฒุงู ูุชุนุฐุฑ ุนููู ุงููุตูู ุฅูู ุงูุชุทุจูู ุ ูุฅู ุงูุฌุงูู ุงููุญุชูู ูู ุงูุฎุทุฃ ูู <code>targetPort</code> ูู ูุตู ุงูุฎุฏูุฉ. <br><br>  <i>ููููุฉ ุงูุชุญูู ูู ุงูุฎุฏูุฉ ููุฎุฏูุฉุ</i> <br><br>  ุจุบุถ ุงููุธุฑ ุนู ููุน ุงูุฎุฏูุฉ ุ ููููู ุงุณุชุฎุฏุงู ุงูุฃูุฑ <code>kubectl port-forward</code> ููุงุชุตุงู ุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl port-forward service/&lt;service-name&gt; 3000:80</code> </pre> <br>  ููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>&lt;service-name&gt;</code> - ุงุณู ุงูุฎุฏูุฉ ุ </li><li style=";text-align:right;direction:rtl">  3000 - ุงููููุฐ ุงูุฐู ุชูุชุญู ุนูู ุงูููุจููุชุฑ ุ </li><li style=";text-align:right;direction:rtl">  80 - ูููุฐ ุนูู ุฌุงูุจ ุงูุฎุฏูุฉ. </li></ul><br><h2 style=";text-align:right;direction:rtl">  3. ุฏุฎูู ุงูุชุดุฎูุต </h2><br>  ุฅุฐุง ูุฑุฃุช ูุฐุง ุงูููุงู ุ ููู ุจูุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุณุฑุฏ ุงููุฑูู ููุง <code>Running</code> <code>Ready</code> . </li><li style=";text-align:right;direction:rtl">  ุชูุฒุน ุงูุฎุฏูุฉ ุจูุฌุงุญ ุญุฑูุฉ ุงููุฑูุฑ ุจูู ุงููุฑูู. </li></ul><br>  ููุน ุฐูู ุ ูุง ูุฒุงู ูุชุนุฐุฑ ุนููู "ุงููุตูู" ุฅูู ุงูุชุทุจูู. <br><br>  ูุฐุง ูุนูู ุฃูู ุ ุนูู ุงูุฃุฑุฌุญ ุ ุชู ุชูููู ูุญุฏุฉ ุชุญูู Ingress ุจุดูู ุบูุฑ ุตุญูุญ.  ูุธุฑูุง ูุฃู ูุญุฏุฉ ุชุญูู Ingress ูู ูููู ุชุงุจุน ูุฌูุฉ ุฎุงุฑุฌูุฉ ูู ุงููุชูุฉ ุ ูููุงู ุงูุนุฏูุฏ ูู ุทุฑู ุชุตุญูุญ ุงูุฃุฎุทุงุก ููููุง ูููุนูุง. <br><br>  ูููู ูุจู ุงููุฌูุก ุฅูู ุฃุฏูุงุช ุฎุงุตุฉ ูุชููุฆุฉ Ingress ุ ููููู ุงูููุงู ุจุดูุก ุจุณูุท ููุบุงูุฉ.  ูุณุชุฎุฏู <code>serviceName</code> ู <code>servicePort</code> ููุงุชุตุงู ุจุงูุฎุฏูุฉ.  ูุฌุจ ุนููู ุงูุชุญูู ูู ุชูููููุง ุจุดูู ุตุญูุญ.  ููููู ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl describe ingress &lt;ingress-name&gt;</code> </pre> <br>  ุฅุฐุง ูุงู ุงูุนููุฏ <code>Backend</code> ูุงุฑุบูุง ุ ูููุงู ุงุญุชูุงู ูุจูุฑ ูุญุฏูุซ ุฎุทุฃ ูู ุงูุชูููู.  ุฅุฐุง ูุงูุช ุงูุฎูููุฉ ููุฌูุฏุฉ ูู ููุงููุง ุ ูููู ูุง ููุฌุฏ ุญุชู ุงูุขู ุฅููุงููุฉ ุงููุตูู ุฅูู ุงูุชุทุจูู ุ ููุฏ ุชููู ุงููุดููุฉ ูุชุนููุฉ ุจู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฏุฎูู ุฅุนุฏุงุฏุงุช ุงููุตูู ูู ุงูุฅูุชุฑูุช ุงูุนุงู ุ </li><li style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏุงุช ุฅููุงููุฉ ุงููุตูู ุฅูู ูุธุงู ุงููุฌููุนุฉ ูู ุงูุฅูุชุฑูุช ุงูุนุงู. </li></ul><br>  ููููู ุชุญุฏูุฏ ูุดุงูู ุงูุจููุฉ ุงูุชุญุชูุฉ ูู ุฎูุงู ุงูุงุชุตุงู ูุจุงุดุฑุฉ ุจูุฑูุฉ Ingress.  ููููุงู ุจุฐูู ุ ุงุจุญุซ ุฃููุงู ุนู ูุญุฏุฉ ุงูุชุญูู ูู Ingress (ูุฏ ุชููู ูู ูุณุงุญุฉ ุงุณู ูุฎุชููุฉ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl get pods --all-namespaces NAMESPACE NAME READY STATUS kube-system coredns-5644d7b6d9-jn7cq 1/1 Running kube-system etcd-minikube 1/1 Running kube-system kube-apiserver-minikube 1/1 Running kube-system kube-controller-manager-minikube 1/1 Running kube-system kube-proxy-zvf2h 1/1 Running kube-system kube-scheduler-minikube 1/1 Running kube-system nginx-ingress-controller-6fc5bcc 1/1 Running</code> </pre> <br>  ุงุณุชุฎุฏู ุฃูุฑ ุตู ูุชุนููู ุงููููุฐ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl describe pod nginx-ingress-controller-6fc5bcc --namespace kube-system \ | grep Ports</code> </pre> <br>  ุฃุฎูุฑูุง ุ ุงุชุตู ุจุงูุฌุฑุงุจ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">kubectl port-forward nginx-ingress-controller-6fc5bcc 3000:80 --namespace kube-system</code> </pre> <br>  ุณูุชู ุงูุขู ุฅุนุงุฏุฉ ุชูุฌูู ุฌููุน ุงูุทูุจุงุช ุงูุฎุงุตุฉ ุจูููุฐ 3000 ุนูู ุงูููุจููุชุฑ ุฅูู ุงููููุฐ 80 pod. <br><br>  <i>ูู ุชุนูู ุงูุขูุ</i> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ูุฅู ุงููุดููุฉ ุชููู ูู ุงูุจููุฉ ุงูุชุญุชูุฉ.  ูู ุงูุถุฑูุฑู ูุนุฑูุฉ ุจุงูุถุจุท ููู ูุชู ุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ุฅูู ุงููุชูุฉ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ููู ูุฐูู ุ ูุฅู ุงููุดููุฉ ุชููู ูู ูุญุฏุฉ ุงูุชุญูู ูู ุงูุฏุฎูู. </li></ul><br>  ุฅุฐุง ูู ุชุชููู ูู ุชุดุบูู ุฌูุงุฒ ุงูุชุญูู ูู ุงูุฏุฎูู ุ ูุณุชุถุทุฑ ุฅูู ุชุตุญูุญู. <br><br>  ููุงู ุงูุนุฏูุฏ ูู ุฃููุงุน ุงูุชุญูู ูู ุงูุฏุฎูู.  ุงูุฃูุซุฑ ุดููุนูุง ูู Nginx ู HAProxy ู Traefik ููุง ุฅูู ุฐูู <i>(ููุฒูุฏ ูู ุงููุนูููุงุช ุญูู ุงูุญููู ุงูุญุงููุฉ ุ ุฑุงุฌุน <a href="https://habr.com/ru/company/flant/blog/447180/">ูุฑุงุฌุนุชูุง</a> - ุงูุชุฑุฌูุฉ ุชูุฑูุจูุง.)</i> ูุฌุจ <i>ุนููู</i> ุงุณุชุฎุฏุงู ุฏููู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง ูู ูุซุงุฆู ูุญุฏุฉ ุงูุชุญูู ุงูููุงุจูุฉ.  ูุธุฑูุง ูุฃู <a href="https://github.com/kubernetes/ingress-nginx">Ingress Nginx</a> ูู ุฌูุงุฒ ุงูุชุญูู ูู Ingress ุงูุฃูุซุฑ ุดุนุจูุฉ ุ ููุฏ ูููุง ุจุชุถููู ุจุนุถ ุงููุตุงุฆุญ ุญูู ุญู ุงููุดููุงุช ุฐุงุช ุงูุตูุฉ ูู ูุฐู ุงูููุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุตุญูุญ ุนูู ูุญุฏุฉ ุชุญูู Nginx Ingress </h3><br><br>  ูุญุชูู ูุดุฑูุน Ingress-nginx ุนูู <a href="https://kubernetes.github.io/ingress-nginx/kubectl-plugin/">ูููู ุฅุถุงูู</a> ุฑุณูู <a href="https://kubernetes.github.io/ingress-nginx/kubectl-plugin/">ูู kubectl</a> .  ูููู ุงุณุชุฎุฏุงู ุงูุฃูุฑ <code>kubectl ingress-nginx</code> ูู ุฃุฌู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุญููู ุงูุณุฌูุงุช ุ ูุงููุงุฌูุงุช ุงูุฎูููุฉ ุ ูุงูุดูุงุฏุงุช ุ ููุง ุฅูู ุฐูู ุ </li><li style=";text-align:right;direction:rtl">  ุงุชุตุงู ุงูุฏุฎูู ุ </li><li style=";text-align:right;direction:rtl">  ุฏุฑุงุณุฉ ุงูุชูููู ุงูุญุงูู. </li></ul><br>  ุณูู ุชุณุงุนุฏู ุงููุฑู ุงูุซูุงุซุฉ ุงูุชุงููุฉ ูู ูุฐุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>kubectl ingress-nginx lint</code> - ูุชุญูู <code>nginx.conf</code> ุ </li><li style=";text-align:right;direction:rtl">  <code>kubectl ingress-nginx backend</code> - ููุญุต ุงูุฎูููุฉ (ูุดุจู <code>kubectl describe ingress &lt;ingress-name&gt;</code> ) ุ </li><li style=";text-align:right;direction:rtl">  <code>kubectl ingress-nginx logs</code> - ูุญุต ุงูุณุฌูุงุช. </li></ul><br>  ูุฑุฌู ููุงุญุธุฉ ุฃูู ูู ุจุนุถ ุงูุญุงูุงุช ูุฏ ูููู ูู ุงูุถุฑูุฑู ุชุญุฏูุฏ ูุณุงุญุฉ ุงูุงุณู ุงูุตุญูุญุฉ ูุฌูุงุฒ ุงูุชุญูู ูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู - <code>--namespace &lt;name&gt;</code> ุงูุนูุงูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ููุฎุต </h2><br>  ูููู ุฃู ูุดูู ุชุดุฎูุต Kubernetes ูููุฉ ุดุงูุฉ ุฅุฐุง ููุช ูุง ุชุนุฑู ูู ุฃูู ุชุจุฏุฃ.  ูุฌุจ ุฏุงุฆููุง ูุนุงูุฌุฉ ุงููุดููุฉ ููููุง ูููุจุฏุฃ ูู ุงููุงุนุฏุฉ ุฅูู ุงูููุฉ: ุงุจุฏุฃ ุจุงููุฑูู ุ ุซู ุงูุชูู ุฅูู ุงูุฎุฏูุฉ ูุฏุฎูู.  ูููู ุชุทุจูู ุฃุณุงููุจ ุชุตุญูุญ ุงูุฃุฎุทุงุก ุงูููุถุญุฉ ูู ุงูููุงูุฉ ุนูู ูุงุฆูุงุช ุฃุฎุฑู ุ ูุซู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฎููู ูุธุงุฆู ู CronJobs. </li><li style=";text-align:right;direction:rtl">  StatefulSets ู DaemonSets. </li></ul><br>  ุจูุถู <a href="https://github.com/errge">Gergely Risko</a> ู <a href="https://medium.com/%40weibeld">Daniel</a> <a href="https://github.com/errge">Weibel</a> ู <a href="https://www.linkedin.com/in/charles-christyraj-0bab8a36/">Charles Christyraj</a> ุนูู ุงูุชุนูููุงุช <a href="https://www.linkedin.com/in/charles-christyraj-0bab8a36/">ูุงูุฅุถุงูุงุช</a> ุงููููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  PS ูู ุงููุชุฑุฌู </h2><br>  ุงูุฑุฃ ุฃูุถูุง ูู ูุฏููุชูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  " <a href="https://habr.com/ru/company/flant/blog/436112/">Kubectl-debug plugin ูุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ูุฑูู Kubernetes</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://habr.com/ru/company/flant/blog/443458/">6 ุฃุฎุทุงุก ูุธุงู ูุณููุฉ ูู ุชุดุบูู Kubernetes [ูุญููุง]</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://habr.com/ru/company/flant/blog/462707/">ุฃุฏูุงุช ููุทูุฑู ุงูุชุทุจููุงุช ุงูุชู ุชุนูู ุนูู Kubernetes</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://habr.com/ru/company/flant/blog/471892/">6 ูุตุต ุนูููุฉ ูู ุญูุงุชูุง ุงูููููุฉ SRE</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar484954/">https://habr.com/ru/post/ar484954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar484936/index.html">ุงููุนุฑูุฉ ูุงูููุงุกุงุช ูู ุงููุฑูู: ุงูุจุญุซ ุ ุงูุธุฑ ุ ุถุฎ</a></li>
<li><a href="../ar484944/index.html">ูุง ุฃูุง ูู ุญูุถ ุฃู ูุง ุชูุงุณุจูุง</a></li>
<li><a href="../ar484946/index.html">ููุฐุฌุฉ GPR</a></li>
<li><a href="../ar484948/index.html">ุฃุตุฏุฑุช ุดุฑูุฉ NEC ูุงุจููุง ุจุญุฑููุง ูุญุชูู ุนูู 20 ุฒูุฌูุง ูู ุงูุฃููุงู ุงูุถูุฆูุฉ</a></li>
<li><a href="../ar484952/index.html">ุงุณุชุจุฏุงู Redux ูุน ููุงุญุธุงุช ููุชูุงุนู ูููุณ</a></li>
<li><a href="../ar484964/index.html">ุชูููู ููุงุฒูุฉ ุงูุชุญููู ุนูู ูุฑุงูุจ ุญุฑูุฉ InfoWatch</a></li>
<li><a href="../ar484966/index.html">ูุงูุจ ุฌุงูุฒ ููุงุฎุชุจุงุฑ ุจุงุณุชุฎุฏุงู Spring</a></li>
<li><a href="../ar484968/index.html">WPF DataGrid. ุงูููุงุญ ูู ุฃุฌู ุงููุงูุจ</a></li>
<li><a href="../ar484972/index.html">ุงููุจูุฐ 5.0 ุตุฏุฑ</a></li>
<li><a href="../ar484974/index.html">ุจูุงุท ูุงูุฌ ููุญุงูุงุฉ ุขูุฉ ุชูุฑููุฌ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>