<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÖüèø üë©üèø‚Äçü§ù‚Äçüë®üèæ üçΩÔ∏è KNX Home Control: √âclairage ‚úã üßï üçÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut Je vais essayer de vous dire comment construire un syst√®me de contr√¥le √† domicile en utilisant le syst√®me KNX. Les principaux points que je veux...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>KNX Home Control: √âclairage</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427669/">  Salut  Je vais essayer de vous dire comment construire un syst√®me de contr√¥le √† domicile en utilisant le syst√®me KNX.  Les principaux points que je veux souligner sont l'approche de la mise en ≈ìuvre de la ¬´maison intelligente¬ª sur KNX, les rep√®res de co√ªt, les pi√®ges.  Si le mat√©riel "dispara√Æt", je continuerai.  Je n'essaie pas de pousser le non modifiable: en dehors de l'article, il y aura des gradateurs, des commandes RVB et autres - pour l'instant, nous allumons et √©teignons simplement les lumi√®res :) <br><br>  TL; DR: ce n'est pas aussi cher que cela puisse para√Ætre √† premi√®re vue et assez fiable. <br><a name="habracut"></a><br><h2>  L'approche </h2><br>  √Ä mon avis (et pas seulement), la ¬´maison intelligente¬ª est un ensemble de syst√®mes qui simplifient la vie.  Id√©alement, le fonctionnement de la plupart des syst√®mes devrait √™tre invisible pour l'utilisateur final - configurer et oublier - cela s'applique aux syst√®mes de contr√¥le pour l'√©clairage, le chauffage, la climatisation.  Contrairement √† l'approche ¬´classique¬ª, je veux pouvoir l'affiner dans le processus - loin de toute liste de souhaits peut √™tre imagin√©e au stade de la conception et de la mise en service. <br><br><h2>  Knx </h2><br>  Pourquoi KNX?  En sautant le marketing, je note les principaux avantages du syst√®me: <br><br><ul><li>  KNX est un syst√®me d√©centralis√©.  Cela signifie que si n√©cessaire, vous pouvez remplacer n'importe quel composant, sans <i>presque</i> aucun effet sur le reste.  En particulier, il n'y a pas de contr√¥leur centralis√© qui contr√¥le tout et tout.  Bien s√ªr, dans les syst√®mes budg√©taires, il existe des points de d√©faillance tels que les alimentations, mais cela peut facilement √™tre tol√©r√©. </li><li>  En fait, le syst√®me n'est pas li√© √† un fournisseur sp√©cifique - vous pouvez choisir n'importe quel √©quipement en fonction de vos besoins, de votre budget et de vos pr√©f√©rences esth√©tiques.  Si vous voulez avoir des commutateurs d'un fabricant allemand, des contr√¥leurs d'un autre et un troisi√®me, et des thermostats - en g√©n√©ral italien - personne n'intervient.  En r√®gle g√©n√©rale, les interconnexions entre les appareils sont enregistr√©es sans aucun probl√®me.  Par exemple, j'utilise un √©quipement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MDT</a> , mais tout peut √™tre √† sa place - le choix <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est immense</a> . </li><li>  Des paragraphes pr√©c√©dents, un autre point int√©ressant se pose: √† tout moment, le syst√®me peut √™tre √©tendu et am√©lior√©.  Classiquement, si des interrupteurs √† bouton-poussoir ont √©t√© install√©s √† l'origine, lorsqu'un besoin (et une opportunit√©) se pr√©sente, vous pouvez les remplacer par des boutons tactiles.  Ou g√©n√©ralement accroch√© avec des √©crans multifonctions. </li></ul><br>  Je dois dire que le syst√®me a une nuance notable - l'environnement de programmation n'y en a qu'une, avec ses avantages et ses inconv√©nients, appel√© ETS et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">co√ªte de l'argent</a> - √† partir de 200 euros par version avec un nombre limit√© d'appareils dans le projet (jusqu'√† 20 - pour une petite installation c'est suffisant ) jusqu'√† 1000 euros par version avec un nombre illimit√© d'appareils.  Ils disent qu'il existe une version adapt√©e au march√© russe quelque part sur les torrents - je ne l'ai pas vue. <br><br><h2>  Principes g√©n√©raux de conception </h2><br>  KNX est avant tout un pneu.  Deux fils, mais il est cens√© utiliser un c√¢ble √† quatre fils pour l'installation - il est recommand√© que JY (St) Y 2x2x0.8 soit le m√™me que dans les syst√®mes d'alarme incendie.  Deux veines sont utilis√©es - rouge et noir, blanc avec jaune - en r√©serve.  Le c√¢ble est blind√©, il n'a pas peur des interf√©rences. <br><br>  Topologiquement, KNX est un arbre, l'essentiel est d'√©viter les anneaux.  Les dispositifs de terminaison ne sont pas n√©cessaires. <br><br>  L'ensemble du syst√®me est divis√© en actionneurs (acteurs - relais contr√¥l√©s √† des fins diverses), capteurs (boutons, interrupteurs, thermostats, stations m√©t√©orologiques) et dispositifs syst√®me - alimentations, connecteurs de ligne et plus encore. <br><br><h2>  Nous contr√¥lons l'√©clairage </h2><br>  Supposons que nous devions organiser le contr√¥le de l'√©clairage dans une petite maison - par exemple, nous avons deux √©tages, un escalier et plusieurs pi√®ces - plusieurs chambres, un bureau, des salles de bains et toutes sortes de pi√®ces de passage telles que des escaliers, des couloirs et autres. <br><br>  Dans le cas le plus simple, je veux ce qui suit: <br><br><ol><li>  Commodit√©.  Par exemple, si vous rentrez tard, vous souhaitez √©clairer imm√©diatement le couloir, les escaliers, le porche et au-del√†.  Un autre - allume / √©teint la lumi√®re dans la salle de bain en fonction du capteur de pr√©sence. </li><li>  La lutte avec l'oubli.  Il se coucha et la lumi√®re du couloir √©clata sous la porte.  Eh bien, figues avec lui, laissez-le sortir apr√®s, par exemple, 10 minutes. </li><li>  La possibilit√© d'allumer l'√©clairage de secours - par exemple, nous sommes dans la chambre au deuxi√®me √©tage, et quelqu'un sonne √† la porte - nous allumerons imm√©diatement les escaliers, le couloir, le porche </li><li>  La possibilit√© de rembourser toute la maison au d√©part </li></ol><br>  Nous comptons les groupes d'√©clairage, jetons les interrupteurs sur le plan, estimons leurs r√¥les: le nombre de touches en d√©pend.  De nombreux fabricants fabriquent jusqu'√† huit interrupteurs √† bouton dans un seul bo√Ætier d'installation - comme celui-ci: <br><br><img src="https://habrastorage.org/webt/-n/pj/5b/-npj5b_-qcunc9ex6ce1ujznjv4.png"><br><br>  Cela vous permet de mettre en ≈ìuvre un <i>tas de</i> tout sur un seul commutateur, mais ce n'est pas toujours pratique pour trouver le bon bouton. <br><br>  Pour les fans d'une installation √©lectrique classique, au lieu de commutateurs KNX natifs, vous pouvez utiliser des commutateurs ordinaires, avec le signal transmis au bus via un contact sec plac√© sous le commutateur dans le bo√Ætier de montage (sur la photo - un cracker sous le commutateur √† quatre touches): <br><br><img src="https://habrastorage.org/webt/dj/qr/7b/djqr7btguqb1p4spvvjshqx0m5c.png"><br><br>  En fonction du nombre de groupes et de leur fonction, vous pouvez choisir un relais multicanal (n'oubliez pas de prendre en compte les courants de charge).  Presque tous les produisent, mais les appareils Gira, ABB, MDT, Zennio sont courants. <br><br>  Vient ensuite le plan de c√¢blage.  Du tableau aux commutateurs, seul le c√¢ble de bus est connect√©, le m√™me JY (St) Y 2x2x0.8.  Aux charges (lampes) - le c√¢ble √©lectrique correspondant (VVG, NYM - au go√ªt).  Le nombre et la disposition des boucliers sont √† votre go√ªt.  Dans une maison de ville √† trois √©tages, j'ai fabriqu√© des tableaux √† trois √©tages - chacun avec un relais multi-canaux pour contr√¥ler la lumi√®re au sol, afin de d√©rouler moins de c√¢ble √©lectrique. <br><br>  Un bon bonus: des canaux de relais gratuits peuvent √™tre utilis√©s pour contr√¥ler les prises.  Cependant, comme les canaux multiples ont, en r√®gle g√©n√©rale, une faible puissance (courants jusqu'√† 10 A), des relais interm√©diaires de la puissance correspondante doivent √™tre utilis√©s sur les prises. <br><br><h2>  Lancement </h2><br>  Ainsi, tous les fils sont √©tendus, les appareils sont install√©s, les cartes sont connect√©es.  Vous pouvez essayer de tout d√©marrer - vous avez besoin du m√™me ETS.  Je vais sauter les √©tapes de d√©part - cr√©er une topologie de b√¢timent dans le projet, ajouter des p√©riph√©riques, etc.  Si vous √™tes int√©ress√© - demandez dans les commentaires, je vais essayer de faire un tutoriel de base. <br><br>  Conform√©ment √† la liste de souhaits et au nombre de groupes d'√©clairage, nous pr√©voyons l'adressage des groupes. <br>  Un groupe est une telle entit√© dans un bus que les acteurs qui lui sont attach√©s √©coutent et dans laquelle les capteurs √©crivent toutes sortes de valeurs.  Un acteur (par exemple, un canal relais) peut √™tre affect√© √† plusieurs groupes, le capteur √©crira dans un groupe. <br><br>  Par exemple: au rez-de-chauss√©e il y a un relais √† quatre canaux, √† partir duquel nous allumons / √©teignons les lumi√®res sur le porche, dans le couloir, la salle de bain et le salon. <br><br><img src="https://habrastorage.org/webt/pw/d_/08/pwd_08jtfvodnwycseqdcu0ldfy.png"><br><br>  Il est conseill√© de proposer les groupes suivants (nous utilisons une structure √† trois niveaux d'adresses de groupe, le premier √©tage est 0, l'√©clairage du premier √©tage est 0/0): <br><br>  0/0/0 - toute la lumi√®re du premier √©tage, li√©e √† tous les canaux <br>  0/0/1 - lumi√®re sur le porche, canal A <br>  0/0/2 - lumi√®re dans le couloir, canal B <br>  0/0/3 - lumi√®re dans la salle de bain, canal C <br>  0/0/4 - lumi√®re dans le salon, canal D <br><br>  Voici √† quoi cela ressemble dans un environnement de programmation: <br><br><img src="https://habrastorage.org/webt/qx/an/0a/qxan0alpldqpg9p78a1dqtzy8ds.png"><br><br>  Ensuite, nous attachons des commutateurs aux groupes, en fonction de leur emplacement.  Supposons que nous utilisons des commutateurs √† deux touches avec des indicateurs d'√©tat LED, comme ceci: <br><br><img src="https://habrastorage.org/webt/th/lv/un/thlvundsj9khifeq6gkf6cw76go.jpeg"><br><br>  Par exemple, dans le salon, le premier bouton allume / √©teint (bascule) la lumi√®re dans le salon lui-m√™me, et le second √©teint de force toute la lumi√®re au sol: <br><br>  Snap light dans le salon: <br><br><img src="https://habrastorage.org/webt/4m/zs/7v/4mzs7vyyw1a54kci9ljoc55gzck.png"><br><br>  √âteignez toutes les lumi√®res du sol: <br><br><img src="https://habrastorage.org/webt/-j/_3/ny/-j_3nybl3l7tu_zbcubd5t8gt_m.png"><br><br>  Pour commuter (basculer), il est n√©cessaire de transf√©rer des canaux de relais vers le bus d'√©tat afin que le commutateur sache quelle valeur transf√©rer sur le bus. <br><br>  Si n√©cessaire, nous lions les diodes des commutateurs √† l'√©tat des canaux de relais correspondants - la signification est similaire, je ne chargerai pas de photos. <br><br>  Nous chargeons la configuration dans les appareils et profitons de l'effet :) <br><br>  Ensuite, nous commen√ßons √† jouer avec le projet du relais - retards de coupure, fonctions d'arr√™t automatique de l'√©clairage, r√©glage des interrupteurs de passage en quantit√© illimit√©e, etc. - jusqu'√† ce que l'effet souhait√© soit obtenu. <br><br><h2>  Combien cela co√ªte-t-il? </h2><br>  En fait, la question est multiforme.  Vous pouvez aller sur la boutique en ligne nationale et acheter tout litt√©ralement √† des prix exorbitants.  Vous pouvez le commander quelque part en Europe - je citerai les √©tiquettes de prix allemandes (sur lesquelles je suis heureux de donner une remise tr√®s agr√©able) pour l'installation minimale que je viens de d√©crire: <br><br>  1. Alimentation 320mA: 110 Euro <br>  2. Relais quatre canaux: 145 euros <br>  3. Quatre commutateurs: 65 euros chacun <br><br>  Total - 515 euros, 130 euros pour le canal d'√©clairage.  N'oubliez pas les remises possibles et le fait que des r√©ductions plus importantes donnent un co√ªt moindre du canal d'√©clairage. <br><br>  Pour ceux qui veulent √©conomiser de l'argent - cela a parfois du sens pour la laine Avito - parfois des r√©sidus sucr√©s y sont vendus, l'essentiel est de surveiller le prix. <br><br><h2>  Et ensuite? </h2><br><ol><li>  Vous pouvez choisir une plate-forme pour contr√¥ler l'√©clairage sur le r√©seau (√† partir d'un smartphone, par exemple). </li><li>  Il est possible d'impl√©menter des capteurs de pr√©sence, de lumi√®re, etc. dans le syst√®me, selon l'imagination (bien s√ªr, le c√¢blage doit √™tre pos√© au stade de la conception) </li><li>  Vous pouvez enfin vous rappeler que KNX n'est pas seulement la lumi√®re, mais aussi le climat et d'autres commodit√©s - mais cela d√©passe clairement le cadre de l'article d'introduction :) </li></ol><br>  Merci de votre attention :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427669/">https://habr.com/ru/post/fr427669/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427655/index.html">Traefik en tant que contr√¥leur d'entr√©e pour K8S</a></li>
<li><a href="../fr427657/index.html">Utilisation de l'inspecteur d'animation dans les outils de d√©veloppement Chrome</a></li>
<li><a href="../fr427661/index.html">Sportiduino - syst√®me de marquage √©lectronique pour les √©v√©nements sportifs, partie 3</a></li>
<li><a href="../fr427663/index.html">Ours Habro et crabe</a></li>
<li><a href="../fr427665/index.html">Les meilleures balances intelligentes (selon Wareable)</a></li>
<li><a href="../fr427671/index.html">Sberbank et Yandex ont officiellement lanc√© la plateforme de trading Beru, la version russe d'Amazon</a></li>
<li><a href="../fr427673/index.html">Apprentissage automatique @ booking.com</a></li>
<li><a href="../fr427675/index.html">Papiers, s'il vous pla√Æt. Comment un r√©seau de neurones nous aide √† v√©rifier les clients et √† attraper les escrocs</a></li>
<li><a href="../fr427679/index.html">La r√©duction √† z√©ro de la limite des achats hors taxes prendra un an et demi, si une d√©cision est prise</a></li>
<li><a href="../fr427681/index.html">Faites glisser et faites glisser dans RecyclerView. Partie 1: ItemTouchHelper</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>