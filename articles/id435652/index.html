<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍸 😙 🧔🏻 Cara tidak menggunakan kata sandi dalam skrip Python 🔎 🚫 👩🏾‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Menjaga kata sandi selalu menjadi sakit kepala. Dalam versi klasik, Anda memiliki pengguna yang berusaha sangat keras untuk tidak melupakan "qwerty123...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara tidak menggunakan kata sandi dalam skrip Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435652/"><img src="https://habrastorage.org/webt/qr/eu/1p/qreu1pvpdtkrat69rsru9jv6mga.png"><br><br>  Menjaga kata sandi selalu menjadi sakit kepala.  Dalam versi klasik, Anda memiliki pengguna yang berusaha sangat keras untuk tidak melupakan "qwerty123" yang sangat rahasia dan sistem informasi yang menyimpan hash dari kata sandi ini.  Sistem yang baik juga dengan hati-hati menggaruk hash untuk meracuni kehidupan orang jahat yang dapat mencuri database dengan kata sandi hash.  Semuanya jelas di sini.  Beberapa kata sandi disimpan di kepala, dan beberapa dienkripsi di keepass. <br><br>  Semuanya berubah ketika kita menghapus dari skema seseorang yang dengan hati-hati memasukkan kunci dari selembar kertas.  Dalam interaksi dua sistem informasi, dalam hal apa pun, kata sandi harus disimpan pada sisi klien dalam bentuk terbuka untuk sistem sehingga dapat ditransmisikan dan dibandingkan dengan hash referensi.  Dan pada tahap ini, admin biasanya membuka cabang lokal dari pabrik sepeda dan mulai menyembunyikan, mengaburkan, dan mengubur kunci rahasia dalam kode skrip.  Banyak dari opsi ini tidak hanya tidak berguna, tetapi juga berbahaya.  Saya akan mencoba menawarkan solusi yang nyaman dan aman untuk masalah ini untuk python.  Dan sedikit sentuhan pada PowerShell. <br><a name="habracut"></a><br><h2>  Bagaimana tidak </h2><br>  Setiap orang akrab dengan konsep "skrip sementara."  Di sini, secara harfiah, hanya data yang dapat dengan cepat diuraikan dari database dan dihapus.  Dan kemudian tiba-tiba ternyata skrip telah bermigrasi di suatu tempat dalam produksi dari zona dev.  Dan kemudian kejutan yang tidak menyenangkan dari "disposability" awal mulai muncul. <br><br>  Opsi yang paling umum adalah dalam gaya: <br><br><pre><code class="python hljs">db_login = <span class="hljs-string"><span class="hljs-string">'john.doe'</span></span> password = <span class="hljs-string"><span class="hljs-string">'password!'</span></span></code> </pre> <br>  Masalahnya adalah bahwa di sini kata sandi menyala dengan jelas dan cukup mudah dideteksi di antara setoran skrip lama dengan pencarian otomatis.  Versi yang sedikit lebih rumit mengikuti jalur keamanan melalui ketidakjelasan, dengan kata sandi disimpan dalam bentuk terenkripsi langsung dalam kode.  Dalam hal ini, dekripsi kembali harus dilakukan segera, jika tidak, klien tidak akan dapat menyajikan kata sandi ini ke sisi server.  Metode ini akan menyimpan maksimum dari tampilan biasa, tetapi setiap analisis serius dari kode secara manual akan memungkinkan Anda untuk dengan mudah mengekstrak kunci rahasia.  Kode di bawah ini hanya akan menghemat dari "peselancar bahu": <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> base64 &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> base64.b64encode(<span class="hljs-string"><span class="hljs-string">"password"</span></span>) cGFzc3dvcmQ= &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> base64.b64decode(<span class="hljs-string"><span class="hljs-string">"cGFzc3dvcmQ="</span></span>) password</code> </pre><br>  Skenario yang paling tidak menyenangkan adalah penggunaan sistem kontrol versi, seperti git, untuk file seperti itu dengan informasi sensitif.  Bahkan jika penulis memutuskan untuk menghapus semua kata sandi, mereka akan tetap berada dalam sejarah repositori.  Bahkan, jika Anda menjalankan file dengan data rahasia di git, Anda dapat secara otomatis menganggap mereka terganggu dan segera memulai prosedur untuk mengganti semua kredensial yang terpengaruh. <br><br><h2>  Menggunakan Penyimpanan Sistem </h2><br>  Ada perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">keyring</a> keren.  Prinsip dasar operasi didasarkan pada kenyataan bahwa setiap pengguna OS memiliki penyimpanan terenkripsi sendiri, akses yang hanya mungkin setelah pengguna masuk ke sistem.  Ini adalah lintas platform dan akan menggunakan backend untuk menyimpan kata sandi yang disediakan oleh sistem operasi: <br><br><ul><li>  KDE4 &amp; KDE5 KWallet (diperlukan dbus) </li><li>  Layanan Rahasia Freedesktop - banyak DE, termasuk GNOME (memerlukan penyimpanan rahasia) </li><li>  Loker kredensial Windows </li><li>  macOS Keychain </li></ul><br>  Anda juga dapat menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">backend alternatif</a> atau menulis sendiri, jika benar-benar diperlukan sesuatu yang aneh. <br><br><h3>  Bandingkan kesulitan serangan </h3><br>  <b>Saat menyimpan kata sandi secara langsung dalam skrip, Anda perlu</b> : <br><br><ol><li>  Mencuri kode itu sendiri (mudah) </li><li>  Deobfuscate jika perlu (mudah) </li></ol><br>  <b>Saat menggunakan keyring lokal, penyerang perlu:</b> <br><br><ol><li>  Mencuri kode itu sendiri (mudah) </li><li>  Deobfuscate jika perlu (mudah) </li><li>  Mengompromikan mesin lokal dengan masuk sebagai pengguna yang diserang (sulit) </li></ol><br>  Secara teoritis, akses ke penyimpanan lokal dapat diperoleh oleh program lokal apa pun yang berjalan atas nama pengguna saat ini, jika ia mengetahui pengaturan akses untuk kata sandi rahasia.  Namun, ini bukan masalah, karena dalam hal akun yang disusupi, penyerang akan dapat mencegat semua data sensitif.  Pengguna lain dan perangkat lunak mereka tidak akan memiliki akses ke keystore lokal. <br><br><h2>  Contoh penggunaan </h2><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> argparse <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> getpass <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> keyring <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_arguments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> parser = argparse.ArgumentParser() parser.add_argument(<span class="hljs-string"><span class="hljs-string">"-n"</span></span>, <span class="hljs-string"><span class="hljs-string">"--newpass"</span></span>, required=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, help=<span class="hljs-string"><span class="hljs-string">"Set new password"</span></span>, action=<span class="hljs-string"><span class="hljs-string">"store_true"</span></span>) arguments = parser.parse_args() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> arguments <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fake_db_connection</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># ,       -  db_name = 'very_important_db' db_host = '147.237.0.71' passwd = keyring.get_password(systemname, username) print('Connecting to db: {}'.format(db_name)) print('Using very secret password from vault: {}'.format(passwd)) print('Doing something important...') print('Erasing the database...') print('Task completed') #    systemname = 'important_database' username = 'meklon' args = parse_arguments() #    ,    --newpass if args.newpass: #      CLI password = getpass.getpass(prompt="Enter secret password:") #       try: keyring.set_password(systemname, username, password) except Exception as error: print('Error: {}'.format(error)) #          fake_db_connection()</span></span></code> </pre><br><h2>  Keamanan Kata Sandi </h2><br>  Kebocoran kata sandi rahasia umum lainnya adalah riwayat baris perintah.  Menggunakan input standar tidak diperbolehkan di sini: <br><br><pre> <code class="python hljs">age = input(<span class="hljs-string"><span class="hljs-string">"What is your age? "</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Your age is: "</span></span>, age type(age) &gt;&gt;output What <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> your age? <span class="hljs-number"><span class="hljs-number">100</span></span> Your age <span class="hljs-keyword"><span class="hljs-keyword">is</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span> type <span class="hljs-string"><span class="hljs-string">'int'</span></span>&gt;</code> </pre><br>  Pada contoh di atas, saya telah menyebutkan pustaka <b>getpass</b> : <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#      CLI password = getpass.getpass(prompt="Enter secret password:")</span></span></code> </pre><br>  Memasukkan data saat menggunakannya mirip dengan pendekatan * nix klasik saat login.  Data tidak ditulis atau ditampilkan di layar apa pun di log sistem apa pun. <br><br><h2>  Sedikit Tentang Powershell </h2><br>  Untuk Powershell, opsi yang tepat adalah menggunakan Locker Kredensial Windows standar. <br>  Ini diimplementasikan oleh modul <a href="">CredentialManager</a> . <br><br>  Contoh penggunaan: <br><br><pre> <code class="plaintext hljs">Install-Module CredentialManager -force New-StoredCredential -Target $url -Username $ENV:Username -Pass .... Get-StoredCredential -Target ....</code> </pre> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id435652/">https://habr.com/ru/post/id435652/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id435642/index.html">Pentax Auto 110: “kepalan kamera mana?”</a></li>
<li><a href="../id435644/index.html">Kebun Binatang AFL Phasers</a></li>
<li><a href="../id435646/index.html">NB-IoT, Internet Sempit Band of Things. Informasi umum, fitur teknologi</a></li>
<li><a href="../id435648/index.html">Bot menghasilkan tutorial dari artikel Wikipedia</a></li>
<li><a href="../id435650/index.html">Bagaimana cara menanamkan C-library dalam kerangka Swift</a></li>
<li><a href="../id435654/index.html">Jebakan properti CSS khusus</a></li>
<li><a href="../id435656/index.html">Scooter Rolls Royce - Ninebot KickScooter ES4 oleh Segway</a></li>
<li><a href="../id435662/index.html">“Keandalan dan keandalan seperti di Google” - dan tidak hanya: terjemahan artikel “Penghitungan keandalan layanan”</a></li>
<li><a href="../id435664/index.html">Spoofing mesin pencari Google</a></li>
<li><a href="../id435666/index.html">Asinkron desinkronisasi: antipatterns dalam bekerja dengan async / menunggu di .NET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>