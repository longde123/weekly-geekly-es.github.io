<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💤 🏕️ 🤝 Mise en place d'un environnement de développement domestique (docker + gitlab + DNS) 👩🏿‍🔬 🧘🏾 🦅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Intro 


 Je n'ai pas pu trouver un nom approprié pour le poste, je vais donc décrire brièvement ce qui sera discuté. 


 La plupart d'entre nous ont ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mise en place d'un environnement de développement domestique (docker + gitlab + DNS)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417179/"><h1 id="intro">  Intro </h1><br><p>  Je n'ai pas pu trouver un nom approprié pour le poste, je vais donc décrire brièvement ce qui sera discuté. </p><br><p>  La plupart d'entre nous ont de petits métiers personnels qui ne dépassent pas les limites de nos maisons.  Quelqu'un les héberge sur un ordinateur de travail, quelqu'un sur Heroku, quelqu'un sur VPS et quelqu'un a un serveur domestique.  Il existe même une communauté <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r / homelab</a> sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">reddit</a> , dans laquelle les gens discutent de différents <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">composants</a> matériels et logiciels pour les soi-disant.  <em>laboratoire à domicile</em> . </p><br><p>  Je ne suis pas très intéressé par ce problème, mais j'ai un Intel NUC à ma place, qui joue de la musique à partir d'un NAS utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MPD</a> .  En plus de MPD, mes petits métiers tournent dessus, ce qui m'aide à travailler avec lui: maintenant un bot mort pour le télégramme, l'API HTTP sur sinatra et une interface maladroite pour lui. </p><br><p> Dans un article, je décrirai sans détails particuliers (dont beaucoup je ne comprends pas moi-même) le processus d'installation d'un serveur DNS pour travailler avec des noms de domaine pour les services, le schéma de fonctionnement simultané de plusieurs services à l'aide de Docker et l'installation de Gitlab avec CI.  Vous n’apprenez rien de nouveau, mais soudain, ce «guide» est utile à quelqu’un.  De plus, j'aimerais entendre des suggestions sur la façon de le rendre plus facile / plus élégant / plus correct. </p><a name="habracut"></a><br><p>  Initialement, le code de mes services était sur un bitbucket / github, et après avoir créé les images de docker, j'ai dû passer sous SSH et exécuter quelques scripts qui ont créé / mis à jour des conteneurs avec des services.  Je me suis surpris à penser que je voyais un petit bogue ennuyeux dans l'application, que je ne corrige pas juste parce que je suis trop paresseux pour effectuer toute cette procédure.  De toute évidence, il était temps d'automatiser tout.  C'est alors que l'idée d'installer Gitlab + CI est venue. </p><br><h1 id="lokalnye-domeny-s-pomoschyu-dns">  Domaines locaux utilisant DNS </h1><br><p> Tous les conteneurs ont été créés avec l' <code>--network=host</code> pour plus de simplicité - il suffisait d'utiliser différents ports dans les applications.  Cependant, avec l'augmentation du nombre de services, rappelez-vous quelle application quel port utilise.  Oui, et entrer l'adresse IP avec le port dans le navigateur à chaque fois n'est pas très agréable, donc avant d'installer gitlab, j'ai décidé de m'occuper de l'hébergement de plusieurs applications sur le même serveur. </p><br><p>  L'idée est simple: nous configurons le DNS, le transmettons au routeur, installons Nginx et utilisons sa configuration pour rediriger les requêtes vers différents ports en fonction du domaine.  Cela vous permettra de ne pas vous soucier des ports pendant le développement, car  les conteneurs commenceront à utiliser <code>--publish</code> au lieu de <code>--network=host</code> . </p><br><p>  Lors de l'installation, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce guide a été utilisé</a> .  Dans ce document, la configuration est effectuée pour Ubuntu 16.04, j'ai Debian. </p><br><p>  D'autres actions sont effectuées en tant que <code>root</code> . </p><br><p>  Tout d'abord, installez <code>bind9</code> et les utilitaires: </p><br><pre> <code class="bash hljs">apt-get install -y bind9 bind9utils bind9-doc dnsutils</code> </pre> <br><p>  Ensuite, nous devons configurer la zone de domaine.  Pour ce faire, ajoutez ce qui suit au fichier <code>/etc/bind/named.conf.local</code> : </p><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">zone</span></span> "nondv.home" <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> { //    <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> master; file "/etc/bind/fwd.nondv.home.db"; // Forward lookup file allow-<span class="hljs-keyword"><span class="hljs-keyword">update</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>; }; // Since this <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">primary</span></span> DNS, it should be <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>. };</code> </pre> <br><p>  De plus, la configuration de la recherche inversée est ajoutée au guide, mais pour être honnête, je ne comprends pas vraiment pourquoi cela est nécessaire, donc je ne l'ai pas fait. </p><br><p>  Créez maintenant le fichier <code>/etc/bind/fwd.nondv.home.db</code> : </p><br><pre> <code class="hljs vbscript">$TTL <span class="hljs-number"><span class="hljs-number">604800</span></span> @ <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> SOA ns1.mydomain.home. root.mydomain.home. ( <span class="hljs-number"><span class="hljs-number">20</span></span> ; Serial <span class="hljs-number"><span class="hljs-number">604800</span></span> ; Refresh <span class="hljs-number"><span class="hljs-number">86400</span></span> ; Retry <span class="hljs-number"><span class="hljs-number">2419200</span></span> ; Expire <span class="hljs-number"><span class="hljs-number">604800</span></span> ) ; Negative Cache TTL ;Name <span class="hljs-built_in"><span class="hljs-built_in">Server</span></span> Information <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> NS ns1.nondv.home. ;IP address of Name <span class="hljs-built_in"><span class="hljs-built_in">Server</span></span> ns1 <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> A <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> ;A - Record HostName <span class="hljs-keyword"><span class="hljs-keyword">To</span></span> Ip Address nuc <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> A <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> gitlab <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> A <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> mpd <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> A <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> @ <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> A <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span></code> </pre> <br><p>  Ensuite, redémarrez bind9 et définissez l'exécution automatique: </p><br><pre> <code class="bash hljs">systemctl restart bind9 systemctl <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> bind9</code> </pre> <br><p>  Notez que j'ai utilisé <code>.home</code> au lieu de <code>.local</code> .  Cela a été fait car le domaine <code>nondv.local</code> pas résolu sans sous-domaines.  Eh bien, plus précisément, <code>dig</code> reconnu normalement, mais pas les navigateurs et les <code>curl</code> .  Comme un collègue me l'a expliqué, cela est probablement dû à divers logiciels comme Bonjour (mon ordinateur portable de travail avec une pomme sur le couvercle).  En général, il ne devrait pas y avoir de tels problèmes avec le domaine <code>.home</code> . </p><br><p>  C'est tout, en fait.  Après cela, j'ai ajouté DNS en tant que principal au routeur et me suis reconnecté à celui-ci (afin que le fichier <code>/etc/resolve.conf</code> soit automatiquement mis à jour). </p><br><h1 id="nginx">  Nginx </h1><br><p>  Comme je l'ai dit, afin de pouvoir accéder à tous les services en même temps via HTTP sur le port 80, nous devons configurer Nginx de manière à ce qu'il envoie des requêtes par procuration à différents ports en fonction du domaine. </p><br><p>  La documentation de l'image nginx est disponible sur le site Web de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Docker Hub</a> . </p><br><p>  Préparez le fichier de configuration principal <code>/srv/nginx/nginx.conf</code> : </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">user</span></span> nginx; <span class="hljs-attribute"><span class="hljs-attribute">worker_processes</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">error_log</span></span> /var/log/nginx/error.log <span class="hljs-literal"><span class="hljs-literal">warn</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">pid</span></span> /var/run/nginx.pid; <span class="hljs-section"><span class="hljs-section">events</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">worker_connections</span></span> <span class="hljs-number"><span class="hljs-number">1024</span></span>; } <span class="hljs-section"><span class="hljs-section">http</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">include</span></span> /etc/nginx/mime.types; <span class="hljs-attribute"><span class="hljs-attribute">default_type</span></span> application/octet-stream; <span class="hljs-attribute"><span class="hljs-attribute">log_format</span></span> main <span class="hljs-string"><span class="hljs-string">'</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$remote_addr</span></span></span><span class="hljs-string"> - </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$remote_user</span></span></span><span class="hljs-string"> [</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time_local</span></span></span><span class="hljs-string">] "</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$request</span></span></span><span class="hljs-string">" '</span></span> <span class="hljs-string"><span class="hljs-string">'</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$status</span></span></span><span class="hljs-string"> </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$body_bytes_sent</span></span></span><span class="hljs-string"> "</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$http_referer</span></span></span><span class="hljs-string">" '</span></span> <span class="hljs-string"><span class="hljs-string">'"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$http_user_agent</span></span></span><span class="hljs-string">" "</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$http_x_forwarded_for</span></span></span><span class="hljs-string">"'</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">access_log</span></span> /var/log/nginx/access.log main; <span class="hljs-attribute"><span class="hljs-attribute">sendfile</span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">keepalive_timeout</span></span> <span class="hljs-number"><span class="hljs-number">65</span></span>; <span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">server_name</span></span> nondv.home; <span class="hljs-attribute"><span class="hljs-attribute">rewrite</span></span><span class="hljs-regexp"><span class="hljs-regexp"> ^/$</span></span> http://mpd.nondv.home <span class="hljs-literal"><span class="hljs-literal">redirect</span></span>; <span class="hljs-comment"><span class="hljs-comment">#  ,       } include /etc/nginx/conf.d/*.conf; }</span></span></code> </pre> <br><p>  Ensuite, configurez les domaines.  Je n'en montrerai qu'un: </p><br><pre> <code class="hljs pgsql"># /srv/nginx/conf.d/gitlab.conf <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; server_name gitlab.nondv.home; <span class="hljs-keyword"><span class="hljs-keyword">location</span></span> / { proxy_pass http://<span class="hljs-number"><span class="hljs-number">127.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>:<span class="hljs-number"><span class="hljs-number">3080</span></span>; } }</code> </pre><br><p>  Le conteneur est lancé par la commande: </p><br><pre> <code class="bash hljs">docker run --detach \ --network host \ --name nginx \ --restart always \ --volume /srv/nginx/nginx.conf:/etc/nginx/nginx.conf:ro \ --volume /srv/nginx/conf.d:/etc/nginx/conf.d:ro \ nginx:alpine</code> </pre> <br><p>  C'est tout, maintenant les requêtes HTTP vers le port 80 seront capturées à l'aide de nginx et redirigées vers le port souhaité. </p><br><h1 id="gitlab">  Gitlab </h1><br><p>  Tout est simple selon le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">guide officiel</a> : </p><br><pre> <code class="hljs powershell">docker run -<span class="hljs-literal"><span class="hljs-literal">-detach</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-hostname</span></span> gitlab.nondv.home \ -<span class="hljs-literal"><span class="hljs-literal">-publish</span></span> <span class="hljs-number"><span class="hljs-number">3080</span></span>:<span class="hljs-number"><span class="hljs-number">80</span></span> -<span class="hljs-literal"><span class="hljs-literal">-publish</span></span> <span class="hljs-number"><span class="hljs-number">3022</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-name</span></span> gitlab \ -<span class="hljs-literal"><span class="hljs-literal">-restart</span></span> always \ -<span class="hljs-literal"><span class="hljs-literal">-volume</span></span> /srv/gitlab/config:/etc/gitlab:Z \ -<span class="hljs-literal"><span class="hljs-literal">-volume</span></span> /srv/gitlab/logs:/var/log/gitlab:Z \ -<span class="hljs-literal"><span class="hljs-literal">-volume</span></span> /srv/gitlab/<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>:/var/opt/gitlab:Z \ gitlab/gitlab<span class="hljs-literal"><span class="hljs-literal">-ce</span></span>:latest</code> </pre> <br><p>  Nous attendons que tout soit configuré (nous examinons les <code>docker logs -f gitlab</code> ) et après cela, nous entrons dans le conteneur ( <code>docker exec -it gitlab bash</code> ) pour plus.  paramètres: </p><br><pre> <code class="hljs pgsql">nano /etc/gitlab/gitlab.rb # <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> vim # /etc/gitlab/gitlab.rb external_url <span class="hljs-string"><span class="hljs-string">'http://gitlab.nondv.home'</span></span> gitlab_rails[<span class="hljs-string"><span class="hljs-string">'gitlab_shell_ssh_port'</span></span>] = <span class="hljs-number"><span class="hljs-number">3022</span></span> # /etc/gitlab/gitlab.rb gitlab-ctl reconfigure</code> </pre> <br><p>  Pour plus de fiabilité, vous pouvez redémarrer le conteneur ( <code>docker container restart gitlab</code> ). </p><br><h2 id="ci">  Ci </h2><br><p>  Gitlab CI est déjà intégré, mais il a besoin d'un Gitlab Runner ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> ). </p><br><p>  Pour ce faire, j'ai écrit un petit script: </p><br><pre> <code class="bash hljs">NAME=<span class="hljs-string"><span class="hljs-string">"gitlab-runner</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-variable"><span class="hljs-variable">$NAME</span></span> docker run -d --name <span class="hljs-variable"><span class="hljs-variable">$NAME</span></span> --restart always \ --network=host \ -v /srv/gitlab-runner/config:/etc/gitlab-runner \ -v /var/run/docker.sock:/var/run/docker.sock \ gitlab/gitlab-runner:alpine</code> </pre> <br><p>  Après avoir créé le coureur, nous devons l'enregistrer.  Pour ce faire, allez dans gitlab (via le navigateur), allez dans la zone Admin → Présentation → Runners.  Il décrit l'installation des coureurs.  En bref, vous faites simplement: </p><br><pre> <code class="bash hljs">docker <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> -it gitlab-runner register</code> </pre> <br><p>  et répondez aux questions. </p><br><h1 id="vashi-sobstvennye-http-servisy">  Vos propres services HTTP </h1><br><p>  Ils sont lancés par analogie avec le gitlab.  Publiez-les sur un port et ajoutez la configuration à nginx. </p><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  Vous pouvez désormais héberger vos projets sur votre serveur domestique et utiliser la puissance de Gitlab CI pour automatiser l'assemblage et la publication de vos projets.  Il est pratique de faire <code>git push</code> et de ne pas se soucier de commencer, non? </p><br><p>  Je recommanderais également de configurer la messagerie pour gitlab.  Personnellement, j'ai utilisé une boîte aux lettres sur Yandex.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La documentation</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr417179/">https://habr.com/ru/post/fr417179/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr417167/index.html">Lancez LDA dans le monde réel. Guide détaillé</a></li>
<li><a href="../fr417171/index.html">Étude: les fonds spéculatifs gérés par des femmes affichent de meilleurs résultats</a></li>
<li><a href="../fr417173/index.html">«Old New Vinyl»: 20 documents sur l'histoire et la production de platines vinyles et de disques</a></li>
<li><a href="../fr417175/index.html">Restauration du sémaphore de la route d'Acme de la première moitié du XXe siècle</a></li>
<li><a href="../fr417177/index.html">Serveur Web local sous Linux, avec élévation d'hôte automatique et changement de version PHP</a></li>
<li><a href="../fr417181/index.html">Fintech digest: dans le magasin, il sera possible de retirer de l'argent de la carte à la caisse; PayPal veut acheter plus d'entreprises</a></li>
<li><a href="../fr417183/index.html">Sales Funnel Analytics</a></li>
<li><a href="../fr417185/index.html">Des neutrinos à ultra-haute énergie émis par des galaxies brillantes à l'autre bout de l'univers sont d'abord découverts</a></li>
<li><a href="../fr417189/index.html">Comment les gens se sont «noyés» à la Nouvelle-Orléans</a></li>
<li><a href="../fr417193/index.html">Présentation du marché informatique des solutions d'entreprise cloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>