<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèÅ üë®‚Äçüë®‚Äçüë¶‚Äçüë¶ üí´ O que √© o ZFS? E por que as pessoas s√£o loucas por ela? üë®üèº‚Äçüç≥ üôÅ ‚òëÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Agora discutiremos o ZFS, um sistema de arquivos avan√ßado. Discutiremos como apareceu, o que √© e por que √© t√£o popular nos c√≠rculos t√©cnicos e nas emp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O que √© o ZFS? E por que as pessoas s√£o loucas por ela?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424651/">  Agora discutiremos o ZFS, um sistema de arquivos avan√ßado.  Discutiremos como apareceu, o que √© e por que √© t√£o popular nos c√≠rculos t√©cnicos e nas empresas. <br><br>  Embora eu seja dos EUA, prefiro pronunciar o ZedFS em vez do ZeeFS porque parece mais legal.  Voc√™ pode escolher a op√ß√£o de pron√∫ncia para si mesmo. <br><br><blockquote>  Nota: Neste artigo, voc√™ ver√° que o ZFS √© repetido v√°rias vezes.  Quando falo sobre recursos e instala√ß√£o, quero dizer o OpenZFS.  Os caminhos do ZFS (desenvolvido pela Oracle) e do OpenZFS divergiram desde que a Oracle encerrou o projeto OpenSolaris.  (Leia mais no artigo.) </blockquote><a name="habracut"></a><br><h2>  Hist√≥ria do ZFS </h2><br>  O sistema de arquivos Z (ZFS) foi criado por Matthew Aren e Jeff Bonwick em 2001. O ZFS foi desenvolvido para se tornar a pr√≥xima gera√ß√£o dos sistemas de arquivos Sun Microsystems OpenSolaris.  Em 2008, o ZFS foi portado para o FreeBSD.  No mesmo ano, come√ßou a portabilidade do ZFS para Linux.  No entanto, desde que o ZFS come√ßou a ser lan√ßado sob a licen√ßa CDDL, que √© incompat√≠vel com a GNU GPL, ele n√£o pode ser adicionado ao kernel do Linux.  Para contornar essa limita√ß√£o, a maioria das distribui√ß√µes oferece m√©todos de instala√ß√£o do ZFS. <br><br>  Logo depois que a Oracle comprou a Sun Microsystems, o c√≥digo do OpenSolaris foi fechado.  Todo o desenvolvimento subsequente do ZFS tamb√©m foi fechado.  Um grande n√∫mero de desenvolvedores do ZFS ficou desapontado com essas mudan√ßas.  Dois ter√ßos dos desenvolvedores importantes do ZFS, incluindo Arens e Bonwick, deixaram a Oracle como resultado dessa decis√£o.  Eles se juntaram a outras empresas e criaram o projeto OpenZFS em setembro de 2013. O projeto liderou o desenvolvimento de c√≥digo aberto do ZFS. <br><br>  Vamos voltar ao problema com as licen√ßas mencionadas acima.  A partir do momento em que o OpenZFS se destacou do Oracle, algu√©m pode estar se perguntando por que eles n√£o alteraram a licen√ßa compat√≠vel com GPL para incluir o sistema de arquivos no kernel do Linux.  De acordo com o site do OpenZFS, uma altera√ß√£o na licen√ßa envolve o contato de desenvolvedores que fizeram altera√ß√µes na vers√£o do OpenZFS (incluindo aqueles que iniciaram este projeto e o c√≥digo ZFS antes do OpenSolaris) e obt√™m sua permiss√£o.  Isso √© quase imposs√≠vel (talvez alguns deles j√° tenham morrido ou n√£o sejam t√£o f√°ceis de encontrar), eles decidiram deixar tudo como est√°. <br><br><h2>  O que √© o ZFS?  Sobre o que √© especial? </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/750/dc3/5a3/750dc35a38c02934e5d092316ab2e14d.png" alt="imagem"><br><br>  Como eu disse anteriormente, o ZFS √© um sistema de arquivos avan√ßado.  Como tal, tem algumas caracter√≠sticas interessantes.  Tais como: <br><br><ul><li>  Armazenamento em pool </li><li>  Copiar na grava√ß√£o </li><li>  Instant√¢neos </li><li>  Verifica√ß√£o de integridade e reparo autom√°tico </li><li>  RAID-Z </li><li>  O tamanho m√°ximo do arquivo √© 16 Exabytes ( <i>nota do tradutor: 10 ^ 18 bytes</i> ) </li><li>  O tamanho m√°ximo de armazenamento √© de 256 quatrilh√µes de Zettabytes ( <i>tradutor de notas: Quadrilh√£o - milh√£o ^ 4; Zettabyte - 10 ^ 21 bytes)</i> </li></ul><br>  N√≥s vamos lidar com alguns deles. <br><br><h2>  Armazenamento Federado </h2><br>  Diferente de outros sistemas de arquivos, o ZFS combina os recursos de um sistema de arquivos e um gerenciador de disco.  Isso significa que o ZFS pode criar um sistema de arquivos que abrange todos os discos.  Mas n√£o √© s√≥ isso, voc√™ tamb√©m pode adicionar armazenamento ao sistema de disco.  O ZFS far√° particionamento e formata√ß√£o de unidades. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/abb/3ce/2be/abb3ce2be8ebedd9e83f684e1a6f3819.png" alt="imagem"><br><br><h2>  Copiar na grava√ß√£o </h2><br>  A c√≥pia na grava√ß√£o √© outro recurso interessante.  Mas a maioria dos sistemas de arquivos, se as informa√ß√µes s√£o substitu√≠das, s√£o perdidas para sempre.  No ZFS, novas informa√ß√µes s√£o gravadas em um bloco separado.  Ap√≥s a conclus√£o da grava√ß√£o, os metadados do sistema de arquivos s√£o atualizados ao ponto de novas informa√ß√µes.  Isso garante que, se o sistema de arquivos quebrar (ou algo semelhante acontecer) durante a grava√ß√£o, as informa√ß√µes antigas ser√£o corrigidas.  Isso significa que o sistema n√£o precisa executar o fsck ap√≥s uma falha. <br><br><h2>  Instant√¢neos </h2><br>  A c√≥pia na grava√ß√£o leva a outra coisa interessante no ZFS: instant√¢neos.  O ZFS usa instant√¢neos para acompanhar as altera√ß√µes no sistema de arquivos.  O instant√¢neo armazena a vers√£o original do sistema de arquivos e a atual, na qual todas as altera√ß√µes desde o momento em que o instant√¢neo foi criado.  Nenhum espa√ßo extra √© usado.  Assim que novas informa√ß√µes s√£o gravadas no sistema de arquivos atual, novos blocos s√£o alocados para seu armazenamento.  Se o arquivo foi exclu√≠do, a men√ß√£o a ele na imagem desaparece.  Os instant√¢neos foram projetados para rastrear altera√ß√µes, mas n√£o s√£o um complemento e n√£o criam arquivos. <br><br>  Os instant√¢neos podem ser montados no formato somente leitura para restaurar uma vers√£o antiga de um arquivo.  Voc√™ tamb√©m pode reverter o sistema para a imagem anterior.  Todas as altera√ß√µes feitas ap√≥s a foto ser√£o perdidas. <br><br><h2>  Verifica√ß√£o de integridade e reparo autom√°tico </h2><br>  Sempre que novas informa√ß√µes s√£o gravadas no ZFS, uma soma de verifica√ß√£o (soma de verifica√ß√£o) √© criada para essas informa√ß√µes.  Quando as informa√ß√µes s√£o lidas, o valor do cheque √© confirmado.  Se os valores do cheque n√£o corresponderem, o ZFS notar√° o erro e tentar√° corrigi-lo. <br><br><h2>  RAID-Z </h2><br>  O ZFS pode aumentar o RAID sem software auxiliar.  N√£o √© de surpreender que o ZFS forne√ßa sua implementa√ß√£o RAID: RAID-Z.  O RAID-Z √© essencialmente uma varia√ß√£o do RAID-5.  No entanto, o RAID-Z foi projetado para superar o RAID-5 em termos de erro: "Todas as informa√ß√µes de dados e paridade tornam-se incompat√≠veis ap√≥s uma reinicializa√ß√£o inesperada".  Para usar o n√≠vel b√°sico (RAID-Z1), voc√™ precisa de pelo menos dois discos para armazenamento e um para paridade.  O RAID-Z2 precisa de pelo menos dois discos para armazenamento e dois para paridade.  O RAID-Z3 requer duas unidades para armazenamento e tr√™s para paridade.  Depois que os discos s√£o adicionados aos grupos RAID-Z, eles devem ser m√∫ltiplos de dois. <br><br><h2>  Enormes capacidades de armazenamento </h2><br>  Quando o ZFS foi criado, ele foi projetado para ser o melhor de seu tipo.  No momento em que a maioria dos sistemas de arquivos tinha 64 bits, os criadores do ZFS decidiram torn√°-lo em 128 bits, para confirma√ß√£o futura.  Isso significa que o ZFS fornece a capacidade de 16 milh√µes de sistemas de 32 ou 64 bits.  Al√©m disso, Jeff Bonwick (um dos criadores) disse que alimentar um pool de mem√≥ria de 128 bits totalmente preenchido exigiria literalmente mais energia do que ferver os oceanos. <br><br><h2>  Como instalar o ZFS </h2><br>  Se voc√™ deseja usar o ZFS imediatamente, √© necess√°rio instalar o FreeBSD ou um sistema operacional que use o kernel illumos.  Illumos √© uma bifurca√ß√£o do kernel do OpenSolaris. <br><br>  De fato, o suporte do ZFS ao ZFS √© o principal aspecto do motivo pelo qual alguns usu√°rios experientes do Linux optam pelo BSD. <br><br>  Se voc√™ quiser usar o ZFS no Linux, poder√° us√°-lo como um sistema de arquivos apenas para armazenamento.  At√© onde eu sei, nenhuma das distribui√ß√µes possibilita a instala√ß√£o do ZFS, para que funcione imediatamente.  Se voc√™ estiver interessado e quiser tentar, existe um projeto do ZFS no Linux que fornece v√°rios tutoriais. <br><br><h2>  No final </h2><br>  Neste artigo, falei sobre os profissionais do ZFS.  E agora sobre um pequeno problema.  O uso do RAID-Z pode ser caro, devido ao n√∫mero de unidades necess√°rias para isso. <br><br>  Voc√™ j√° usou o ZFS?  E como ela est√° com voc√™?  Conte-nos sobre isso nos coment√°rios. <br><br><h2>  Posf√°cio do tradutor </h2><br>  Obrigado pela leitura.  Boa sorte </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt424651/">https://habr.com/ru/post/pt424651/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt424639/index.html">Google tem 20 anos</a></li>
<li><a href="../pt424641/index.html">Rebranding: life hack como n√£o se tornar um assunto de rid√≠culo</a></li>
<li><a href="../pt424645/index.html">Como fizemos a pesquisa interna mais massiva do banco</a></li>
<li><a href="../pt424647/index.html">O pior gr√°fico do mundo</a></li>
<li><a href="../pt424649/index.html">Java vs GO. Teste por um grande n√∫mero de usu√°rios</a></li>
<li><a href="../pt424653/index.html">Bem-vindo ao Voronezh Game Dev Meetup</a></li>
<li><a href="../pt424655/index.html">Personalizando o Jira de acordo com suas necessidades. Fluxo perfeito e bilhete perfeito</a></li>
<li><a href="../pt424657/index.html">[Tradu√ß√£o] Corrigir ou matar o JavaScript instalado automaticamente?</a></li>
<li><a href="../pt424659/index.html">Benef√≠cio do escrit√≥rio em casa - luz do dia</a></li>
<li><a href="../pt424661/index.html">Pequenos sat√©lites terrestres cont√™m potencial para incr√≠veis oportunidades cient√≠ficas e comerciais</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>