<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö© ‚ôéÔ∏è üßëüèΩ‚Äçü§ù‚Äçüßëüèª ¬°SDK para ti, SDK para m√≠, SDK para todos! C√≥mo hacer un SDK y por qu√© es necesario üé§ ü¶ã üîµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! 


 Nuestra empresa ofrece un servicio para almacenar y procesar datos de dispositivos industriales (bombas, taladros y otros equipos in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬°SDK para ti, SDK para m√≠, SDK para todos! C√≥mo hacer un SDK y por qu√© es necesario</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430940/"><p><img src="https://habrastorage.org/webt/pk/ur/nt/pkurntejpmw1zarvuwn67jvh61k.jpeg"></p><br><p>  Hola a todos! </p><br><p>  Nuestra empresa ofrece un servicio para almacenar y procesar datos de dispositivos industriales (bombas, taladros y otros equipos industriales).  Almacenamos los datos de nuestros clientes y brindamos funcionalidad para su an√°lisis: creaci√≥n de informes, gr√°ficos y mucho m√°s. </p><br><p> Y en el curso del trabajo, notamos que la integraci√≥n de cada nuevo cliente se retrasa enormemente, y la cantidad de varios errores aumenta constantemente.  Entonces qued√≥ claro que era hora de lidiar con esto.  Como lo mostr√≥ un an√°lisis de la situaci√≥n, el departamento de TI de cada uno de nuestros clientes desarroll√≥ su propia soluci√≥n para recopilar datos localmente desde dispositivos y enviarlos a nuestro servicio.  Esto complica el hecho de que, teniendo en cuenta las caracter√≠sticas espec√≠ficas de la industria, no siempre hay acceso a Internet y es necesario almacenar datos localmente y enviarlos lo antes posible.  Y hay un n√∫mero suficientemente grande de tales matices, lo que conduce a un aumento en el n√∫mero de errores. </p><br><p>  Y luego nos dimos cuenta de que la mejor soluci√≥n en esta situaci√≥n ser√≠a desarrollar un SDK y proporcionarlo al cliente.  Inmediatamente comenc√© a buscar mejores pr√°cticas y debates sobre el desarrollo del SDK y me sorprendi√≥ mucho: pr√°cticamente no hay nada al respecto en RuNet, pero hay muy poca informaci√≥n en Internet Basurmani y est√° dispersa.  Bueno, la tarea es clara, pensada e implementada. </p><br><p>  Pero fue la falta de informaci√≥n sobre este tema lo que cre√≥ el deseo de contarle a la comunidad sobre los pensamientos, las decisiones tomadas y las conclusiones sobre el desarrollo del SDK.  Este art√≠culo analiza una soluci√≥n para .NET, pero es un concepto, por lo que ser√° interesante para muchos.  Detalles debajo del corte! </p><a name="habracut"></a><br><h2 id="pora-opredelyatsya">  Es hora de ser determinado </h2><br><p>  Comencemos definiendo qu√© es el SDK y por qu√© podr√≠a ser necesario. </p><br><blockquote>  SDK (del kit de desarrollo de software en ingl√©s) es un conjunto de herramientas de desarrollo que permite a los especialistas en software crear aplicaciones para un paquete de software espec√≠fico, software de desarrollo b√°sico, plataforma de hardware, sistema inform√°tico, consolas de juegos, sistemas operativos y otras plataformas.  El SDK aprovecha cada plataforma y reduce el tiempo de integraci√≥n. <br>  ... <br>  Un ingeniero de software generalmente recibe un SDK del desarrollador del sistema de destino. </blockquote><p>  Bueno, eso es l√≥gico.  En palabras simples, el SDK es un paquete de bibliotecas, por lo que el cliente puede comenzar a trabajar de manera f√°cil y r√°pida con su sistema (en este art√≠culo hablaremos sobre nuestro servicio, pero todo lo descrito en el art√≠culo se aplica a otros tipos de SDK) o realizar las mismas acciones. </p><br><p>  Pero, como cualquier enfoque, la ruta SDK tiene ventajas y desventajas. </p><br><h3 id="preimuschestva">  Los beneficios </h3><br><p>  <strong>Integraci√≥n de alta velocidad de un nuevo cliente</strong> : sus clientes necesitan escribir menos c√≥digo. </p><br><p>  <strong>Reutilizaci√≥n de c√≥digo</strong> : el mismo c√≥digo se usa en varios lugares a la vez.  Podemos decir que esto es una duplicaci√≥n del p√°rrafo anterior, pero estamos hablando del hecho de que la l√≥gica del trabajo es solitaria en todas partes, lo que implica </p><br><p>  <strong>Previsibilidad del comportamiento</strong> : el uso de las mismas bibliotecas lleva el comportamiento de los sistemas a un determinado est√°ndar, lo que facilita en gran medida la b√∫squeda y eliminaci√≥n de errores y vulnerabilidades. </p><br><p>  <strong>La calidad del c√≥digo</strong> es donde a muchas personas les gusta ahorrar en las pruebas (perd√≥n por el presupuesto, los plazos y otras razones).  Est√° claro que en el mundo real probar todas las secciones del proyecto con pruebas es una tarea muy laboriosa.  Pero probar cualitativamente todos los m√≥dulos SDK y luego usarlos es una forma de aumentar el porcentaje de cobertura de prueba, lo que conducir√° a una reducci√≥n en el n√∫mero de errores. </p><br><p>  <strong>La documentaci√≥n</strong> es el mismo escenario que con las pruebas.  Documentar todo el proyecto es bastante problem√°tico.  La reutilizaci√≥n de los SDK aumenta el porcentaje de cobertura de documentaci√≥n, lo que reduce el umbral para que los nuevos empleados ingresen al proyecto y, en general, ayuda en la vida. </p><br><p>  De hecho, todas las ventajas son las consecuencias de lo m√°s importante: <strong>escribimos el c√≥digo de muy alta calidad una vez y luego lo reutilizamos</strong> . </p><br><h3 id="nedostatki">  Desventajas </h3><br><p>  <strong>Los requisitos de alta calidad del c√≥digo SDK</strong> son el resultado de la principal ventaja.  Un error en el SDK generar√° errores en todos los sistemas que lo usan. </p><br><p>  <strong>Establecer restricciones</strong> : el SDK es un conjunto de bibliotecas para implementar scripts <strong>est√°ndar</strong> .  A veces, los desarrolladores de SDK creen que, adem√°s de implementar uno de los escenarios proporcionados, el cliente no necesita nada, que es m√°s f√°cil para el cliente hacer todo desde cero por s√≠ mismo que construir un pedestal con muletas para el SDK. </p><br><p>  <strong>Infierno de dependencia y actualizaciones</strong> : al expandir la funcionalidad (por ejemplo, personalizar una soluci√≥n para un cliente espec√≠fico), lanzar√° una nueva versi√≥n de la biblioteca.  Pero hay dependencias, diferentes conjuntos de versiones de biblioteca para diferentes clientes, y debe supervisar cuidadosamente la compatibilidad con versiones anteriores o las versiones estrictas. </p><br><h3 id="kogda-sdk-deystvitelno-nuzhen">  Cuando realmente se necesita el SDK </h3><br><p>  <strong>Tiene varios escenarios est√°ndar que se implementan nuevamente de vez en cuando</strong> , de hecho, nuestro caso. </p><br><p>  <strong>Desarrollo interno</strong> : en diferentes proyectos, ¬øutiliza sistemas de registro, configuraciones de sistema, trabajo con HttpRequest, bases de datos, archivos?  Cree un <strong>SDK interno</strong> : un conjunto de bibliotecas para uso interno.  Puede ampliar la funcionalidad del SDK en cualquier momento, pero la velocidad de desarrollo de nuevos proyectos, el porcentaje de cobertura con pruebas y documentaci√≥n aumentar√°, y el umbral para que ingresen nuevos desarrolladores disminuir√°. </p><br><h3 id="kogda-sdk-skoree-vsego-budet-lishnim">  Cuando es probable que el SDK sea redundante </h3><br><p>  <strong>Los escenarios de uso no est√°n definidos o cambian constantemente</strong> : deje la implementaci√≥n de soluciones personalizadas a los clientes y ay√∫delos.  No es necesario hacer un prodigio de wunderwaffle, que solo interferir√°.  Muy relevante para empresas j√≥venes y startups. </p><br><p>  <strong>No sabes c√≥mo hacerlo cualitativamente</strong> . Tengo malas noticias para ti: es hora de aprender.  Pero dar una decisi√≥n torcida a un cliente est√° muy, muy mal.  Los clientes deben ser respetados, despu√©s de todo. </p><br><p>  Entonces, decidimos qu√© es el SDK, con sus ventajas y desventajas, y cu√°ndo lo necesitamos.  Si despu√©s de eso se dio cuenta de que el SDK es realmente necesario, lo invito a embarcarse en el "camino del SDK" y descubrir qu√© deber√≠a ser y c√≥mo demonios hacerlo. </p><br><h2 id="a-vy-lyubite-lego---modulnost">  "¬øAmas a Lego?"  - Modularidad </h2><br><p>  Imagine todos los escenarios posibles para usar el SDK (ya ha decidido por qu√© lo necesita, ¬øverdad?) Y cree un script para la biblioteca.  ¬øQu√© no es una opci√≥n?  Pero este es un mal enfoque, por lo que no lo haremos.  Y seremos as√≠: </p><br><ul><li>  romper todos los guiones en pasos </li><li>  identificar pasos comunes </li><li>  construir una lista de <strong>m√≥dulos</strong> que implementen todos los pasos posibles (un m√≥dulo es responsable de implementar algo espec√≠fico, por ejemplo, trabajar con configuraciones) </li></ul><br><p>  Por ejemplo, teniendo en cuenta los detalles de la tarea, necesitamos que toda la l√≥gica se establezca desde las configuraciones.  Implementamos el m√≥dulo para trabajar con configuraciones (leer, escribir, actualizar, validar y procesar configuraciones) y lo usaremos en todos los dem√°s m√≥dulos. </p><br><p>  Y para la implementaci√≥n de escenarios est√°ndar, realmente crearemos m√≥dulos, alg√∫n tipo de m√≥dulos de "control", cada uno de los cuales implementa un escenario espec√≠fico utilizando otros m√≥dulos del mismo SDK.  Por lo tanto, para la implementaci√≥n de escenarios est√°ndar, el cliente solo necesita conectar el m√≥dulo de control del script (y extraer√° todas las dependencias), y para la implementaci√≥n de los no est√°ndar, usamos los m√≥dulos base, tambi√©n reutilizando el c√≥digo. </p><br><p>  Esta es precisamente la raz√≥n por la cual el SDK no debe ser una biblioteca (aunque realmente lo quiero, lo entiendo. Despu√©s de todo, cuando todo el SDK est√° en una biblioteca, puede olvidarse de las dependencias y todo lo que est√° conectado con ellas), sino ser un conjunto de bibliotecas.  Una ventaja adicional de este enfoque ser√° la reducci√≥n del "peso" del programa del cliente: extraer√° un SDK pesado y solo extraer√° los m√≥dulos necesarios. </p><br><p>  Pero de todos modos no debe producir m√≥dulos, porque cuantos m√°s m√≥dulos, m√°s dolor de cabeza de sus dependencias!  Es decir  Es importante dividir correctamente la l√≥gica en m√≥dulos, manteniendo un equilibrio entre la decisi√≥n "todo en uno" y "cada m√≥dulo tiene su propio m√≥dulo". </p><br><h2 id="a-chto-tak-mozhno-bylo---universalnost">  "¬øY entonces fue posible?"  - versatilidad </h2><br><p>  Proporcione al cliente varias interfaces para trabajar con su biblioteca.  Dar√© un ejemplo: </p><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LoadConfiguration</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> filename</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LoadConfigurationAsync</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> filename</span></span></span><span class="hljs-function">)</span></span>;</code> </pre> <br><p>  Si solo proporciona la versi√≥n s√≠ncrona, cuando implemente una aplicaci√≥n as√≠ncrona, el cliente se ver√° obligado a hacer envoltorios asincr√≥nicos de su m√©todo s√≠ncrono.  Si solo proporciona la versi√≥n asincr√≥nica, la situaci√≥n es similar.  Dale al cliente ambos y √©l te lo agradecer√°. </p><br><p>  Los gen√©ricos ser√°n una buena ventaja.  Por ejemplo, tenemos una clase para trabajar con configuraciones que implementa m√©todos para empaquetar una configuraci√≥n en una cadena, cargar una configuraci√≥n desde un archivo, etc.  La configuraci√≥n de un m√≥dulo espec√≠fico se heredar√° de nuestra clase base, pero para trabajar con la nueva clase tambi√©n debemos proporcionar m√©todos de desempaquetado. </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BaseConfiguration</span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> BaseConfiguration </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FromString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> source</span></span></span><span class="hljs-function">)</span></span>{...} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> BaseConfiguration </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FromString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> source,Type configurationType</span></span></span><span class="hljs-function">)</span></span>{...} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T FromString&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> source) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T:BaseConfiguration } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CustomConfiguration</span></span> : <span class="hljs-title"><span class="hljs-title">BaseConfiguration</span></span>{}</code> </pre> <br><p>  Por lo tanto, hemos proporcionado al cliente tres implementaciones que puede usar.  Los gen√©ricos son muy convenientes, pero cuando se trabaja con tipos din√°micos, solo se pueden llamar a trav√©s de la reflexi√≥n, lo que no es rentable.  El principio general de universalidad, espero, es claro. </p><br><h2 id="roditel-1-roditel-2-deti----imenovanie">  "Padre 1, Padre 2, Hijos []" - Nombramiento </h2><br><blockquote>  ¬øCu√°l es la parte m√°s dif√≠cil en un programador?  Inventar nombres para variables. </blockquote><p>  Sin embargo ... La asignaci√≥n adecuada de nombres de m√≥dulos, clases, propiedades y m√©todos ser√° de gran ayuda para aquellos que trabajar√°n con su SDK.  Ejemplo que no requiere comentarios: </p><br><p>  <strong>Ejemplo de Kinect 2.0 SDK</strong> </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> skeletons = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Skeleton[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> skeletonFrame = e.OpenSkeletonFrame()) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (skeletonFrame != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { skeletons = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Skeleton[skeletonFrame.SkeletonArrayLength]; skeletonFrame.CopySkeletonDataTo(skeletons); } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (skeletons.Length == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> skel = skeletons.FirstOrDefault(x =&gt; x.TrackingState == SkeletonTrackingState.Tracked); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (skel == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rightHand = skel.Joints[JointType.WristRight]; XValueRight.Text = rightHand.Position.X.ToString(CultureInfo.InvariantCulture); YValueRight.Text = rightHand.Position.Y.ToString(CultureInfo.InvariantCulture); ZValueRight.Text = rightHand.Position.Z.ToString(CultureInfo.InvariantCulture);</code> </pre> <br><p>  Todo est√° claro a partir de los nombres de clases y m√©todos.  Y si se completa el c√≥digo en su IDE, a menudo es posible no consultar la documentaci√≥n si todo est√° claro. </p><br><h2 id="uveren-esli-by-smert-znala-chto-takoe-byurokratiya-lyudi-by-nikogda-ne-umirali-vechno-stoya-v-ocheredi---dokumentaciya">  "Estoy seguro de que si la Muerte supiera lo que es la burocracia, la gente nunca morir√≠a, siempre parando en la fila ..." - Documentaci√≥n </h2><br><p>  Pero incluso si todos los m√≥dulos, clases, m√©todos y propiedades tienen nombres muy hermosos y urgentes, a√∫n necesita escribir documentaci√≥n.  En primer lugar, le ahorrar√° mucho los nervios (el n√∫mero de preguntas de los clientes se reduce en un orden de magnitud. Todo est√° en la documentaci√≥n), y en segundo lugar, siempre est√° claro por qu√© hizo esto y no de otra manera. </p><br><blockquote>  La documentaci√≥n en el SDK suele ser simple y concisa.  Por lo general, se divide en dos partes: Tutorial, un curso paso a paso al estilo de "Construir una ciudad en 10 minutos" y la secci√≥n Referencia, una referencia a todo lo que se puede hacer con este SDK. </blockquote><p>  Elegimos la forma m√°s f√°cil: resumen + art√≠culos.  Agregamos atributos Xml para m√©todos y clases que brillan en intellisense como informaci√≥n sobre herramientas.  Con Docfx, creamos documentaci√≥n sobre estos atributos y obtenemos documentaci√≥n detallada y conveniente, que se complementa con art√≠culos que describen casos de uso y ejemplos. </p><br><h2 id="-chtoby-chisto-bylo--kak-ya-budu-vilkoy-to-chistit---testirovanie">  "- ¬°Para mantenerlo limpio! - ¬øC√≥mo lo limpiar√© con un tenedor?"  - Pruebas </h2><br><p>  ¬øQu√© se puede decir acerca de las pruebas como parte de la discusi√≥n del SDK ... Debe tener!  La mejor soluci√≥n ser√≠a TDD (a pesar de que tengo una actitud negativa hacia este enfoque, en este caso decid√≠ usarlo).  Si mucho tiempo  Si aburrido  Pero en el futuro no se ahorcar√° de las constantes ca√≠das del SDK y las consecuencias de esta ca√≠da. </p><br><p>  El jugo principal de la situaci√≥n es que al darle el SDK al cliente, pierde el control: no puede solucionar el error r√°pidamente, es dif√≠cil encontrar este error y se ver√° lo suficientemente est√∫pido en tal situaci√≥n.  Por lo tanto, prueba.  Prueba mejor.  Y una vez mas.  Y por si acaso, prueba tus pruebas.  Y pruebas de prueba.  Entonces, algo que me dej√© llevar, pero la importancia de probar el SDK, espero, es clara. </p><br><h2 id="zhertva-kotoraya-ne-mogla-protivostoyat-svoemu-proshlomu-byla-pogloschena-im---logi">  "Una v√≠ctima que no pudo resistir su pasado fue consumida por √©l" - Logi </h2><br><p>  Dado que le da el SDK a una empresa de terceros, como resultado de lo cual pierde el control sobre la situaci√≥n, en caso de error (en la etapa de prueba, todos decidieron "funcionar√°", ¬øno?), Un proceso bastante largo y doloroso est√° esperando que busque este mismo error.  Aqu√≠ es donde los registros vienen en tu ayuda. </p><br><p>  <strong>Registre todo</strong> , absolutamente todo, y si ocurre un error, solicite registros a su cliente.  De esta forma, ahorrar√° mucho tiempo y no podr√° frotarse la cara frente al cliente. </p><br><h2 id="alarm-achtung-attention---oshibki">  "¬°Alarma! ¬°Achtung! ¬°Atenci√≥n!"  - Errores </h2><br><p><img src="https://habrastorage.org/webt/au/2d/b0/au2db0fwmmfbfxrtkw4kqmexht4.gif"><br>  Mientras pensaba mucho en los errores, llegu√© a una conclusi√≥n interesante: <strong>ni un solo m√©todo en su SDK deber√≠a dar un error que no se describe en la documentaci√≥n</strong> .  Debe admitir que es muy desagradable cuando conecta una biblioteca de terceros para trabajar con HttpRequest, y arroja un poco de NullPointerException y StackTrace sobre usted, lo que lo lleva a las entra√±as de la biblioteca.  Y tienes que sumergirte en estos mismos "intestinos", tratando de entender qu√© tan profunda es la madriguera del conejo y cu√°l es el problema. </p><br><p>  Por lo tanto, propongo la siguiente soluci√≥n: declarar una lista cerrada de posibles excepciones y documentarlas.  Pero porque  no puede estar seguro de haber proporcionado todo, envolver el m√©todo en un try-catch y el error detectado en el declarado.  Por ejemplo, una ConfigurationException que contendr√° una InnerException es un error detectado.  Esto permitir√° que un desarrollador externo detecte todos los errores posibles, pero si sucede algo, descubra r√°pidamente cu√°l es el problema. </p><br><h2 id="versii-ili-kak-ne-ukusit-sebya-za-hvost">  Versiones o "c√≥mo no morderte la cola" </h2><br><p>  Para evitar futuros problemas, recomiendo usar versiones estrictas.  Elija el sistema de versiones que m√°s le convenga y √∫selo.  Pero si la nueva versi√≥n de la biblioteca no tiene compatibilidad con versiones anteriores, esto debe indicarse.  C√≥mo resolverlo, piensas.  Pero definitivamente deber√≠as pensarlo. </p><br><h2 id="parovozik-kotoryy-smog---deploy">  "Un tren que podr√≠a" - Implementar </h2><br><p>  La necesidad de relevancia de la documentaci√≥n y las versiones da lugar al requisito de la correcci√≥n de la implementaci√≥n.  En nuestra decisi√≥n, usamos la siguiente soluci√≥n (muletas, pero funcionan). <br>  Cuando es necesario lanzar una nueva versi√≥n, el desarrollador tira el bat'nik con el n√∫mero de versi√≥n y luego el archivo por lotes: </p><br><ul><li>  lanzamiento de compilaci√≥n </li><li>  pone todas las bibliotecas en el archivo </li><li>  construir la √∫ltima versi√≥n de la documentaci√≥n (docfx) </li><li>  indica la versi√≥n de lanzamiento en la documentaci√≥n y en el nombre del archivo </li><li>  pone todo lo m√°s fresco en el repositorio de git </li><li>  WebApp en MS Azure obtiene una nueva confirmaci√≥n de enlace de git y publica cambios </li></ul><br><p>  En la salida, obtenemos una versi√≥n actualizada del sitio con documentaci√≥n, desde donde puede descargar el archivo con la √∫ltima versi√≥n del SDK. <br>  Los planes futuros incluyen empacar todo en paquetes Nuget y publicarlo en el repositorio local de Nuget. </p><br><p>  Recomiendo prestar atenci√≥n a este punto, ya que puede reducir significativamente la cantidad de dolor de cabeza causado por la falta de informaci√≥n relevante sobre la nueva versi√≥n de la biblioteca. </p><br><h2 id="-a-tak-mozhesh---fignya-smotri-kak-nado---primery--toolkit">  "-Y para que puedas? - Mierda. ¬°Mira c√≥mo deber√≠a!"  - Ejemplos y kit de herramientas </h2><br><p>  Un punto importante en la documentaci√≥n son los ejemplos de uso.  Pero adem√°s de esto, a menudo se requiere proporcionar no una biblioteca, sino una aplicaci√≥n que implemente los escenarios m√°s est√°ndar.  Recomiendo hacer estas aplicaciones con un c√≥digo fuente abierto y bien comentado, que le permitir√° matar dos p√°jaros de un tiro: proporcione una aplicaci√≥n que funcione y brinde un ejemplo del uso del SDK. </p><br><h2 id="zaklyuchenie">  Conclusi√≥n </h2><br><p>  El desarrollo de SDK se ha convertido en una nueva tarea interesante para m√≠, que ha planteado muchos problemas arquitect√≥nicos importantes.  Muchas de las cosas descritas en el art√≠culo son obvias (para m√≠), pero considero importante anunciar incluso las cosas obvias para obtener una imagen clara. </p><br><h2 id="ps">  PS </h2><br><p>  Gracias por leer, estar√© encantado de sus comentarios.  Espero que este art√≠culo te sea √∫til. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430940/">https://habr.com/ru/post/es430940/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430930/index.html">Acerca de los gr√°ficos 3D en palabras simples</a></li>
<li><a href="../es430932/index.html">Los hackers robaron m√°s de 21 millones de rublos de un banco ruso</a></li>
<li><a href="../es430934/index.html">Asterisk dialplan extension generador de m√°scara</a></li>
<li><a href="../es430936/index.html">DEFCON 21. La conferencia DNS puede ser peligrosa para su salud. Parte 2</a></li>
<li><a href="../es430938/index.html">C√≥mo obtener los primeros pedidos en dise√±o cuando no hay cartera ni experiencia</a></li>
<li><a href="../es430942/index.html">Julia Scripts y an√°lisis de argumentos de l√≠nea de comando</a></li>
<li><a href="../es430944/index.html">La NASA ha decidido a los participantes para su competencia de mini-rover de luna</a></li>
<li><a href="../es430948/index.html">El Ministerio de Comunicaciones propone reforzar el control sobre los datos personales.</a></li>
<li><a href="../es430950/index.html">Making Modern Build</a></li>
<li><a href="../es430952/index.html">Los autos el√©ctricos y los h√≠bridos deber√°n emitir sonidos adicionales: ¬øpor qu√© es necesario?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>