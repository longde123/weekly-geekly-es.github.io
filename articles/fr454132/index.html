<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¥üèø üç∏ üë©üèª‚Äçü§ù‚Äçüë®üèΩ Surveillance vid√©o sur Orange Pi Zero - pas cher et pas du tout en col√®re ‚õÑÔ∏è üî´ üë®‚Äçüë©‚Äçüëß‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©cemment, je me suis donn√© pour mission de mettre en place une vid√©osurveillance avec les caract√©ristiques suivantes: 



1. Consommation √©lectrique ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Surveillance vid√©o sur Orange Pi Zero - pas cher et pas du tout en col√®re</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454132/">  R√©cemment, je me suis donn√© pour mission de mettre en place une vid√©osurveillance avec les caract√©ristiques suivantes: <br><br><ol><li>  Consommation √©lectrique minimale </li><li>  La taille minimale de l'appareil qui recevra la vid√©o de la cam√©ra (ou de plusieurs cam√©ras).  Avec une taille si petite qu'elle peut, par exemple, √™tre entass√©e dans une bo√Æte d'installation de 10-10 cm ou cach√©e dans un large canal de c√¢ble (!) </li><li>  Les cam√©ras IP seront connect√©es via le Wi-Fi, c'est-√†-dire qu'il est impossible de d√©terminer qui regarde / √©crit la vid√©o √† partir d'elles.  Vous pouvez les alimenter √† partir du r√©seau g√©n√©ral, que ce soit l'√©clairage d'acc√®s ou les prises dans le bureau </li><li>  Il doit y avoir un enregistrement vid√©o (dans mon cas - sur une carte microsd), il doit √™tre possible de regarder des vid√©os sur Internet depuis n'importe o√π dans le monde ainsi que via une application mobile </li><li>  Bien s√ªr, il devrait √™tre possible de configurer √† distance l'ensemble du syst√®me - ajouter de nouvelles cam√©ras, copier-supprimer des enregistrements, avoir acc√®s √† tous les param√®tres </li><li>  Le co√ªt minimum!  Mais qu'en est-il?  Nulle part sans √ßa </li></ol><br>  Pour mettre en ≈ìuvre cette id√©e, le choix s'est port√© sur les composants suivants: <br><a name="habracut"></a><br>  1) L'ordinateur monocarte le moins cher avec Wi-Fi √† bord, sur lequel vous pouvez lancer une distribution de bras Linux - par exemple, mon debian pr√©f√©r√©.  Malinka est cher, mais orange pi z√©ro sur ebay ne vous co√ªtera que 900 roubles (il y a quelques mois, je l'ai achet√© pour 700 roubles).  Voici un lien vers ebay - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici.</a> <br><br><img src="https://ltparts.ru/upload/shop_1/4/5/5/item_45566/item_45566.jpg" alt="image"><br><br>  2) En fait, les cam√©ras IP wifi - nulle part sans elles.  Petit plafond en d√¥me.  Et au moins 720p - g√©n√©ralement pour la surveillance vid√©o dans un porche de bureau n'est plus n√©cessaire.  Le prix d'√©mission est d'environ 1 500 roubles par cam√©ra.  Jusqu'o√π aller, ici sur aliexpress - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> <br><br><img src="https://ae01.alicdn.com/kf/HTB1YiqTdjrguuRjy0Feq6xcbFXao.jpg" alt="image"><br><br>  3) Carte microSD de 32 Go.  Pourquoi 32, pas plus ou moins?  Parce que pour mon cas, vous devez pouvoir rembobiner la vid√©o de deux cam√©ras il y a quelques jours.  Eh bien, encore 300 √† 400 roubles. <br><br>  4) Adaptateurs d'alimentation pour carte unique et pour cam√©ras. <br><br>  Alors qu'est-ce qui a √©t√© fait.  Apr√®s avoir re√ßu le colis ch√©ri par la poste, j'en ai sorti un payeur unique orange, l'ai examin√© et tout d'abord j'ai pens√© - bon sang, mais il n'y a pas de sortie vid√©o.  Comment installer les logiciels Debian et de vid√©osurveillance et effectuer les r√©glages initiaux?  Je me suis imm√©diatement souvenu que sur la framboise, il y avait toujours un AV composite ordinaire, mais ce n'est pas le cas.  Eh bien, il ne peut pas √™tre que le fabricant ne laisse pas une telle opportunit√© de se connecter via composite - je pensais, et est all√© √† Google pour regarder le brochage GPIO.  Ouais, la deuxi√®me broche est la terre, et la 9e est sortie TV. <br><br>  Soudez la prise AV.  Nous allons maintenant utiliser l'adaptateur AV-&gt; VGA (vous avez devin√© qu'il peut √©galement √™tre achet√© sur aliexpress, une chose utile) et nous connecter √† notre moniteur.  Mais nous n'inclurons rien encore - apr√®s tout, nous n'avons pas encore pr√©par√© de carte microsd. <br><br>  Nous allons sur le site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.orangepi.org</a> et t√©l√©chargeons la distribution de bureau Debian xfce, l'√©crivons sur la carte √† l'aide d'un imageur de disque win32 ou d'un graveur.  Nous collons la cl√© USB dans notre orange, allumons le moniteur, connectons l'adaptateur secteur et ... rien.  C'est ce que les nouveaux arrivants rencontrent le plus souvent - un ordinateur monocarte ne d√©marre en aucune fa√ßon, mais ne brille que moqueusement avec une diode jaune.  Qu'est ce que c'est  Une carte incorrectement enregistr√©e (peut-√™tre), une carte unique qui ne fonctionne pas (peu probable, car nous venons de la d√©baller), il n'y a pas de signal de la sortie vid√©o?  Le probl√®me le plus courant est la nutrition.  Orange pi, comme les framboises et les autres √† carte unique, est tr√®s gourmand en √©nergie - l'adaptateur doit √™tre de 5 V / 2 A, si l'adaptateur est faible et que l'alimentation s'affaisse dans les premi√®res secondes de la mise sous tension d'une carte unique, cela ne fonctionnera pas et ne fonctionnera pas.  Utilisez donc une bonne alimentation puissante et ne rechargez pas √† partir de votre ancien Android. <br><br>  Nous connectons un bon adaptateur secteur, nous voyons comment s'est pass√© le t√©l√©chargement de Debian.  Nous voyons le bureau - super!  Vous devez maintenant configurer l'appareil pour qu'il fonctionne via le Wi-Fi.  Nous allons dans les connexions r√©seau, cr√©ons une nouvelle connexion Wi-Fi, entrez notre nom d'utilisateur et mot de passe √† partir du Wi-Fi du bureau √† domicile - maintenant l'appareil est sur notre r√©seau local et a acc√®s √† Internet!  Maintenant, nous devons nous d√©barrasser du moniteur. <br><br>  Afin de pouvoir voir le bureau √† distance, le programme de visualisation vnc nous aidera, et pour un serveur vnc √† carte unique.  Habituellement, cette chose est d√©j√† int√©gr√©e dans ce debian, qui est distribu√© par le fabricant de ces produits √† carte unique, il vous suffit de le configurer - entrez les param√®tres d'autorisation, etc.  Apr√®s nous √™tre assur√©s que nous avons maintenant acc√®s au bureau √† l'int√©rieur de notre r√©seau local, nous supprimons le moniteur, cachons l'appareil dans un bo√Ætier / canal de c√¢ble / ailleurs et configurons tout le reste via la visionneuse vnc, tout en √©tant assis devant l'ordinateur habituel. <br><br>  En tant que logiciel de surveillance vid√©o, zoneminder a √©t√© choisi.  Pourquoi exactement lui?  Gratuit, flexible, facile √† configurer, disponible dans la version bras pour notre carte unique avec debian.  Ce logiciel fonctionne sur php / mysql, vous devez donc tout d'abord installer les packages n√©cessaires: <br><br><pre><code class="plaintext hljs">sudo apt-get install php5 mysql-server php-pear php5mysql php5-gd</code> </pre> <br>  Ensuite, nous devons ajouter la ligne dans /etc/apt/sources.list: <br><br><pre> <code class="plaintext hljs">deb http://ftp.debian.org/debian jessie-backports main</code> </pre> <br>  Nous effectuons une mise √† jour: <br><br><pre> <code class="plaintext hljs">sudo apt-get update</code> </pre> <br>  Et enfin, pour ce que nous avons tous commenc√©: <br><br><pre> <code class="plaintext hljs">sudo apt-get install zoneminder</code> </pre> <br>  Lorsque la console nous a inform√© que zoneminder est install√©, passons √† sa configuration.  Le processus de configuration est d√©crit en d√©tail sur le site officiel de zoneminder, cela n'a aucun sens d'√©num√©rer tous ses points dans cet article, nous allons donc d√©cider que le cher lecteur l'a fait, et maintenant, si nous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tapons</a> dans notre navigateur sur l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">adresse de</a> l'ordinateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de notre abonn√© / zm,</a> nous irons au panneau d'administration de vid√©osurveillance en ligne.  Ici, nous devons ajouter les adresses IP des cam√©ras, d√©finir les param√®tres d'enregistrement vid√©o, etc. <br><br><img src="http://d.radikal.ru/d26/1905/68/8ed0bed4007c.jpg" alt="image"><br><br>  Maintenant, nous pouvons regarder la vid√©o des cam√©ras via le navigateur du r√©seau interne, √† la fois via le r√©seau c√¢bl√© et via le Wi-Fi. <br><br><img src="http://d.radikal.ru/d33/1905/f1/4c69d9aaab2a.jpg" alt="image"><br><br>  Mais la t√¢che consistait √† regarder des vid√©os sur Internet depuis n'importe o√π dans le monde - et nous ne l'avons pas encore mis en ≈ìuvre.  Alors impl√©mentons!  Au moins deux options viennent √† l'esprit: <br><br><ol><li>  Entrez via le bureau distant comme une chronologie.  H√©las, la chronologie fonctionne plus ou moins correctement uniquement sur les "framboises", ici m√™me avec un tambourin et des sorts vous ne pouvez rien r√©aliser </li><li>  Nous avons une adresse IP d√©di√©e, allez dans les param√®tres du routeur, transf√©rez les ports n√©cessaires, configurez le serveur virtuel, maintenant nous pouvons voir le panneau d'administration de zoneminder, par exemple, √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">our_white_ip</a> : 123.  C'est bien, mais qu'en est-il s'il n'y a pas d'IP d√©di√©e? </li><li>  S'il n'y a pas d'IP d√©di√©e, rappelez vpn et dyndns.  Un grand nombre d'articles y sont consacr√©s, notamment sur Habr√©; chercher et trouver des informations </li></ol><br>  Il reste maintenant √† ajouter la possibilit√© de regarder des vid√©os depuis le t√©l√©phone.  T√©l√©chargez pour notre application android zoneminder client mobile (facilement google), et pour iphone - Surveillance Pro. <br><br><img src="http://dvr-security.net/air/zmc/screenshots/login_portrait.png" alt="image"><br><br><img src="https://is4-ssl.mzstatic.com/image/thumb/Purple118/v4/66/6f/22/666f2254-ac58-834b-3b6f-832a0ff9f120/mzl.cqzeieud.png/690x0w.jpg" alt="image"><br><br>  Au total, pour plusieurs milliers de roubles, nous avons notre propre mini-serveur de surveillance vid√©o, qui peut √™tre facilement cach√© dans une cha√Æne c√¢bl√©e et qui consomme de l'√©lectricit√© pour un sou, une paire de cam√©ras sans fil et la possibilit√© de toujours regarder depuis un ordinateur ou un t√©l√©phone de n'importe quel endroit o√π il y a un acc√®s Internet ce qui se passe dans votre bureau / garage / v√©randa. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr454132/">https://habr.com/ru/post/fr454132/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr454114/index.html">Exp√©rience avec Starwind VSAN et EMC ScaleIO (VxFlexOS) + aide-m√©moire pour le stockage mini-entreprise (1 partie)</a></li>
<li><a href="../fr454124/index.html">Le livre "Apprendre √† coder en JavaScript"</a></li>
<li><a href="../fr454126/index.html">Des accidents quotidiens √† la stabilit√©: Informatica avec 10 yeux d'administrateur</a></li>
<li><a href="../fr454128/index.html">Comment faire deux applications √† partir d'une seule. Exp√©rience Tinkoff Junior</a></li>
<li><a href="../fr454130/index.html">C-V2X avec prise en charge des r√©seaux 5G NR: un nouveau paradigme pour l'√©change de donn√©es entre v√©hicules</a></li>
<li><a href="../fr454136/index.html">Le plus beau th√©or√®me des math√©matiques: l'identit√© d'Euler</a></li>
<li><a href="../fr454138/index.html">10 juin, Deworkacy - QA Good Communication</a></li>
<li><a href="../fr454140/index.html">D'un avocat √† un testeur √† Yandex. L'histoire de mon stage</a></li>
<li><a href="../fr454144/index.html">Dans Java 13, ils veulent ajouter des ¬´blocs de texte¬ª</a></li>
<li><a href="../fr454148/index.html">V√©rification des performances SOC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>