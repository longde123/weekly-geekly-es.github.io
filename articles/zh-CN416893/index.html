<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔇 🔆 🍞 Vaadin Flow-一只奇怪的鹿 🙅🏻 🎥 🐎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="每一次改变，甚至变得更好， 
 总是很不方便 

 理查德·胡克 
 
 如您所知，Vaadin是最流行的Java Web框架之一： 



- Java Web框架索引：2017年2月 
- 2018年使用的10个最佳Java Web框架 
 最近，已经发布了用于开发Web UI的框架的新版本Va...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vaadin Flow-一只奇怪的鹿</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/416893/">  <i>每一次改变，甚至变得更好，</i> <i><br></i>  <i>总是很不方便</i> <i><br><br></i>  <i>理查德·胡克</i> <i><br></i> <br> 如您所知，Vaadin是最流行的Java Web框架之一： <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Java Web框架索引：2017年2月</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2018年使用的10个最佳Java Web框架</a> </li></ul><br> 最近，已经发布了用于开发Web UI的框架的新版本Vaadin 10，俄文中关于Vaadin 10和Vaadin Flow的出版物很少，这篇文章旨在填补这一空白。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/td/86/hk/td86hkhcruqgdewpgjjkk4oi4_8.png" height="450"></div><br> 创作者将Vaadin Flow定位为用于开发现代Web应用程序和网站的新Java Web框架（这里我不太相信它们）。 这是Vaadin平台的一部分，该平台替代了另一个产品-Vaadin Framework，它使您可以使用Java Web Components标准来开发Web应用程序（或更确切地说，是Web UI）。 <br><br> 在读者的脑海中，很可能一切都已经被混淆了，所有这些Vaadin Bla Bla，框架，平台等等。 这是怎么回事？ <br><br> 我们已经将Vaadin用作UI后台系统的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CUBA平台的</a>一部分，在此期间，我们已经积累了很多与他合作的经验，因此我们不必担心他的命运。 在裁减下，您会发现我在Vaadin 10上的规格。 <br><a name="habracut"></a><br><h2>  Vaadin框架 </h2><br>  Vaadin是一家芬兰公司，致力于开发用于开发UI的工具和库。 它们使Java的Web开发具有相同的名称。 <br><br>  Vaadin框架是具有服务器端编程模型的UI框架，其中所有UI逻辑及其状态都位于服务器上，并且仅组件的UI代码在浏览器中执行。 实际上，这是一种瘦客户端技术，其中浏览器仅显示服务器所说的内容，所有事件都发送到服务器。 <br><br> 服务器端方法使您无需考虑开发是在Web下进行的，而是将UI开发为可直接访问服务器上的数据和服务的桌面Java应用程序。 同时，Vaadin将负责在浏览器中显示UI以及浏览器与服务器之间的AJAX交互。  Vaadin引擎在浏览器中呈现服务器端应用程序的用户界面，并实现客户端和服务器交换的所有详细信息。 <br><br><img src="https://habrastorage.org/webt/3t/ga/gq/3tgagqq-c9pfrt-7cfhxz-lb11s.png"><br><br> 这种方法有很多优点： <br><br><ul><li>  Java代码更易于编写和调试 </li><li> 您可以使用现有的Java库和工具（IDE，编译器，测试） </li><li> 无需开发Web服务 </li><li> 安全性更好 </li></ul><br> 缺点： <br><br><ul><li> 服务器上需要大量内存才能用于UI视图 </li><li> 难以扩展的解决方案 </li><li>开发小部件时，您需要开发一个Java API </li></ul><br> 基于这些优点和缺点，Vaadin FW在企业发展中准确地落定下来，在这里，负载是可以预测的，并且开发速度和便利性比铁和存储器的成本更为重要。 <br><br><h2>  Google Web工具包发生了什么 </h2><br> 在Vaadin一直为大众所熟悉的时候，Vaadin FW的客户部分与另一种著名产品Google Web Toolkit（GWT）有着千丝万缕的联系。 这种串联方式使得可以使用一种语言-Java，来编写UI组件本身和用于它们的服务器API，这非常方便。 <br><br> 近年来，Google Web Toolkit尚未开发，自2015年以来，我们都在等待GWT 3.0 / J2CL的出现。 <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用Java 8构建GWT 3.0应用</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">别称它为GWT 3.0</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">难以捉摸的j2cl</a> </li></ul><br> 在这个停滞的时期（2015-2017年）发生了一个重要事件：Web组件规范和另一个Google框架Polymer出现了。 显然，这是GWT结束的开始。 <br><br> 值得注意的是，GWT 3正在作为内部Google框架进行开发，其开发是在内部进行的。 因此，社区无法以任何方式影响该过程，或者至少看不到该过程正在进行。 <br><br> 在这种停滞的背景下，Vaadin团队做出了一个艰难的决定，即完全放弃GWT上的开发并<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">改写其框架的客户端部分</a> 。 这些变化不会被忽视，并使已经在Vaadin上进行开发的每个人都感到恐惧。 <br><br><h2>  Web组件 </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Web组件</a>是一组标准。 它是由Google的人员提出并积极推广的，但是该倡议已经在Mozilla中得到了支持。 本质上，这些是用于为Web创建UI组件的技术，以便它们支持行为和表示的封装。 而且主要优点是可以重用。 <br><br> 关键概念： <br><br><ul><li> 自定义元素-用于创建HTML元素的API </li><li>  Shadow DOM是用于封装HTML组件并将其视觉表示与全局CSS规则隔离的工具。 简而言之，您可以制作一个组件（例如订单），而不必担心由于该页面的CSS规则，该样式在网站的某些页面上会损坏。 </li><li>  HTML模板-在HTML文档中放置包含DOM空白元素的被动块的功能。 此类块由浏览器解析，但不会呈现或运行其代码。 建议将它们用作数据渲染的模板。 </li><li>  HTML导入-能够将HTML文档以其所有布局，样式和JS导入为模块 </li></ul><br> 例如，如果您现在查看YouTube DOM树，则会发现使用“自定义元素”和“影子DOM”： <br><br><img src="https://habrastorage.org/webt/mz/ay/ky/mzaykywnytaqq5h0ormmbskvxio.png"><br><br> 所有这些使您可以为Web编写新的时尚UI组件。 <br><br> 值得承认的是，浏览器的支持远非完美，仍然<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">需要polyfill</a> ，例如Edge。 <br><br><h2> 高分子 </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Polymer</a>是Web组件标准之上的一个小型库，旨在简化其使用。 一个例子： <br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    import '@polymer/paper-checkbox/paper-checkbox.js'; import {PolymerElement, html} from '@polymer/polymer'; //    class LikeableElement extends PolymerElement { //      static get properties() { return { liked: Boolean }} //    DOM  , CSS      static get template() { return html` &lt;style&gt; .response { margin-top: 10px; } &lt;/style&gt; &lt;paper-checkbox checked="{{liked}}"&gt;I like web components.&lt;/paper-checkbox&gt; &lt;div hidden$="[[!liked]]" class="response"&gt;Web components like you, too.&lt;/div&gt; `; } } //     customElements.define('likeable-element', LikeableElement);</span></span></code> </pre> <br> 实际上，Polymer可以完成GWT之前所做的所有工作，但同时它可以与任何JS组件和其他框架（例如React和Angular）兼容。 <br><br><h2>  Vaadin成分 </h2><br> 回到瓦丹。 长期以来，Vaadin一直在开发一种名为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Vaadin Components</a>的产品-用于前端开发人员的UI组件，可以将其嵌入任何JS应用程序中。 <br><br><img src="https://habrastorage.org/webt/i2/ld/8c/i2ld8cn0bvmkeckh6uxonraleh0.png"><br><br> 这些组件基于Web组件和Polymer！ <br><br> 正如我们现在所看到的，这是Vaadin框架的备用机场，它使我们可以离开Goog​​le Web Toolkit并开发一个尚不存在组件的新框架。 鸡肉和鸡蛋问题已经解决，Vaadin组件已成为即将到来的Vaadin 10的前端。 <br><br><h2>  Vaadin流 </h2><br>  Vaadin 8包括UI状态同步机制，并支持双向RPC协议（远程过程调用）。 由于GWT，这是可能的，因为服务器和客户端的通用接口和类都是用Java编写的。 <br><br> 与放弃GWT一起，需要实现一种新的机制，该机制允许与JS前端和Java后端进行透明集成。 这种机制就是Vaadin Flow（而且这个名称也早已用于指代整个Vaadin 10）。 <br><br>  Flow <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文档</a>具有以下方案： <br><br><img src="https://habrastorage.org/webt/gk/ls/u_/gklsu_tqc6qzanrwitz3v8mqkca.png"><br><br> 其主要含义如下： <br><br><ul><li> 支持从服务器到客户端的UI状态同步 </li><li> 服务器部分可以订阅UI组件的事件，并且将执行AJAX请求 </li><li> 在服务器上执行业务逻辑，仅将UI中显示的数据加载到Web浏览器中 </li><li> 服务器端使用Java </li><li> 客户可以使用HTML，CSS，JS和Polymer模板 </li></ul><br> 对我来说，这意味着Vaadin将拥有更多的前端技术，而现在仅Java显然还不够（对于Vaadin 8，Java对您而言就足够了，而HTML / CSS则不是必需的）。 另一方面，现在可以轻松集成JS代码。 <br><br><h2>  Vaadin平台 </h2><br>  Vaadin 10的每个组件都是按照JS世界的最佳传统分别开发的，这些微型模块彼此尽可能独立。 同时，组件的客户端部分以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">WebJARs</a>格式打包在JAR中： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.webjars.org</a> <br><br> 这有点吓人，尤其是当您查看最小设计时： <br><br><img src="https://habrastorage.org/webt/fu/6d/-b/fu6d-bycxab2yomlvwguormpkbk.png"><br><br> 为了以某种方式控制这种混乱，出现了一个名为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Vaadin Platform</a>的BOM（物料清单）项目。 <br><br> 这不是一些独立的产品，而是以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Maven BOM</a>格式设计的组件和工具的兼容版本的列表。 <br><br> 它<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">按以下方式</a>连接到Maven： <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencyManagement</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.vaadin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>vaadin-bom<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>${vaadin.platform.version}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span>pom<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>import<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencyManagement</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h2>  Vaadin 10的功能 </h2><br> 总体而言，整个框架包含3个组件： <br><br><ol><li>  Vaadin组件-前端 </li><li>  Vaadin Flow-运输 </li><li> 服务器组件API-用于UI组件的Java API </li></ol><br> 值得从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">官方教程</a>开始开发。 <br><br> 另外，我建议<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">参加</a>一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">新的网络研讨会</a> 。 <br><br><h3> 初学者 </h3><br> 您可以从该<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">页面</a>更加熟悉该框架。 在那里，您将找到项目示例，包括基于Spring Boot的完整堆栈。 <br><br>  Spring Boot的热心粉丝可以直接进入<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">start.spring.io</a>并从那里的Web框架中选择Vaadin。 <br><br> 一个Java类可以启动一个最小的项目，例如： <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  URL   @Route("") public class MainView extends VerticalLayout { public MainView() { //  UI   Button button = new Button("Click me"); //    button.addClickListener(event -&gt; { new Notification("Hello!").open(); }); add(button); } }</span></span></code> </pre><br> 通常，您可以在Vaadin 10上书写，就像在Vaadin 8上一样！ 您绝对应该查看<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">组件匹配页面</a> 。 <br><br><h3> 元素API </h3><br> 杀手级功能Vaadin 10-直接从服务器端Java代码控制DOM元素。 <br><br><pre> <code class="java hljs">Element nameField = ElementFactory.createInput(); nameField.setAttribute(<span class="hljs-string"><span class="hljs-string">"id"</span></span>, <span class="hljs-string"><span class="hljs-string">"nameField"</span></span>); nameField.setAttribute(<span class="hljs-string"><span class="hljs-string">"placeholder"</span></span>, <span class="hljs-string"><span class="hljs-string">"John Doe"</span></span>); nameField.setAttribute(<span class="hljs-string"><span class="hljs-string">"autofocus"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>);</code> </pre><br> 您还可以管理已附加的属性： <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// "John Doe" String placeholder = nameField.getAttribute("placeholder"); // true nameField.hasAttribute("autofocus"); nameField.removeAttribute("autofocus"); // ["id", "placeholder"] nameField.getAttributeNames().toArray();</span></span></code> </pre><br> 当然，这并不是UI组件的替代品，而是在开发UI组件时不需要简单的布局更改的良好API。 <br><br><h3> 资料绑定 </h3><br> 为了与实现HasValue接口的组件（获取/设置值和ValueChangeListener）一起使用，有一个便捷的Binder类： <br><br><pre> <code class="java hljs">Binder&lt;Person&gt; binder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Binder&lt;&gt;(); TextField titleField = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextField(); binder.forField(titleField) .bind( Person::getTitle, Person::setTitle);</code> </pre><br> 从示例中可以看到，支持基于lambda表达式的静态类型的绑定。 <br><br> 此外，活页夹可以安装值转换器和验证器： <br><br><pre> <code class="java hljs">binder.forField(yearOfBirthField) <span class="hljs-comment"><span class="hljs-comment">// Validator will be run with the String value of the field .withValidator(text -&gt; text.length() == 4, "Doesn't look like a year") // Converter will only be run for strings with 4 characters .withConverter( new StringToIntegerConverter("Must enter a number")) // Validator will be run with the converted value .withValidator(year -&gt; year &gt;= 1900 &amp;&amp; year &lt; 2000, "Person must be born in the 20th century") .bind(Person::getYearOfBirth, Person::setYearOfBirth);</span></span></code> </pre><br><h3> 范本 </h3><br>  HTML模板正在排版： <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"import"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../bower_components/polymer/polymer-element.html"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"import"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../bower_components/paper-input/paper-input.html"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dom-module</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hello-world"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">paper-input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"inputId"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{{userInput}}"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">paper-input</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"helloButton"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sayHello"</span></span></span><span class="hljs-tag">&gt;</span></span>Say hello<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"greeting"</span></span></span><span class="hljs-tag">&gt;</span></span>[[greeting]]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-class"><span class="hljs-keyword"><span class="actionscript"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span><span class="actionscript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-class"><span class="hljs-title">HelloWorld</span></span></span></span><span class="actionscript"><span class="hljs-class"> </span></span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span></span><span class="actionscript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-class"><span class="hljs-title">Polymer</span></span></span></span><span class="actionscript"><span class="hljs-class">.</span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-class"><span class="hljs-title">Element</span></span></span></span><span class="actionscript"><span class="hljs-class"> </span></span></span><span class="actionscript">{ </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">static</span></span></span><span class="actionscript"> </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">get</span></span></span><span class="actionscript"> </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">is</span></span></span><span class="actionscript">() { </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">return</span></span></span><span class="actionscript"> </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'hello-world'</span></span></span><span class="actionscript"> } } customElements.define(HelloWorld.is, HelloWorld); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dom-module</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br> 模板支持声明性数据绑定，您可以编写将在原样浏览器中执行的本机JavaScript。 这使您可以实现部分最简单的UI逻辑，而无需将请求发送到服务器。 <br><br><h3> 大事记 </h3><br> 组件事件的处理<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">非常简单</a> ： <br><br><pre> <code class="java hljs">TextField textField = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextField(); textField.addChangeListener(e -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Event fired"</span></span>));</code> </pre><br> 在这里，您不会注意到与Vaadin 8的区别。 <br><br><h3> 路由选择 </h3><br> 应用程序中的导航和路由<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">已成为应有的功能</a> ： <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Route</span></span>(<span class="hljs-string"><span class="hljs-string">"some/path"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomePathComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Div</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SomePathComponent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ setText(<span class="hljs-string"><span class="hljs-string">"Hello @Route!"</span></span>); } }</code> </pre><br> 视图可以确定它们处理的URL，地址需要哪些参数等等。 <br><br><h3> 组件开发 </h3><br> 对于Vaadin 10，您可以通过以下方式开发组件： <br><br><ul><li> 集成现有的Web组件： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">vaadin.com/docs/v10/flow/web-components/integrating-a-web-component.html</a> </li><li> 将JS代码直接连接到模板： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">vaadin.com/docs/v10/flow/importing-dependencies/tutorial-importing.html</a> </li><li> 从现有的开发复合组件： </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">vaadin.com/docs/v10/flow/creating-components/tutorial-component-composite.html</a> </li></ul><br> 这种开发定制组件的简单方法也许是向前迈出的最大一步。 不再需要在GWT上为JS编写包装程序，然后在Vaadin上编写服务器端。 <br><br><h3>  Lumo主题 </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CSS变量</a>现在代替了SASS，而是用于视觉主题，即 构建项目时不再需要编译CSS： <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">custom-style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">html</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">--lumo-font-family</span></span></span><span class="css">: </span><span class="hljs-string"><span class="css"><span class="hljs-string">"Open Sans"</span></span></span><span class="css">, sans-serif; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">custom-style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Valo主题被新的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">自定义Lumo主题</a>替换。 <br><br><img src="https://habrastorage.org/webt/xp/jx/kg/xpjxkgrpp0cialgd3hyrvh-eoay.png"><br><br><h2> 使用Vaadin FW 8进行迁移 </h2><br> 文档中描述了Vaadin 8的迁移选项： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">vaadin.com/docs/v10/flow/migration/1-migrating-v8-v10.html</a> <br><br> 在这里，我有个坏消息：如果您在Vaadin 8上编写了一个庞大的项目，那么切换到Vaadin 10时就需要完全重写它。根本没有迁移路径！ <br><br>  Vaadin 10和Vaadin 8在几个方面相似： <br><br><ul><li> 服务器端方法 </li><li> 用于开发UI逻辑的Java </li><li> 数据绑定的相同方法 </li></ul><br> 最重要的<b>是</b> ： <b>Vaadin 10是从头开始编写的新框架</b> 。 <br><br> 正如开发人员承诺的那样， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Vaadin 8将在2022年之前得到支持，</a>并且可能会出现迁移方法。 <br><br><h2> 结论 </h2><br> 我认为用Vaadin Flow编写新的Vaadin网站非常重要，因为它已经成为前端技术的事实上的标准，因为编程语言的成熟度取决于其编译器是否使用相同的语言编写。 <br><br> 我希望现在您可以对Vaadin 10提出意见。总的来说，这是一个很好的框架，并且是未来的巨大储备。 对我来说，这是一个极好的实验培训场，它为构建UI提供了新的思路和方法。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN416893/">https://habr.com/ru/post/zh-CN416893/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN416883/index.html">我如何撰写我的过境点</a></li>
<li><a href="../zh-CN416885/index.html">健身服务再次“屈服”了政府，军事和特殊服务部门</a></li>
<li><a href="../zh-CN416887/index.html">如何对提交发表评论</a></li>
<li><a href="../zh-CN416889/index.html">您只需几分钟即可了解AI</a></li>
<li><a href="../zh-CN416891/index.html">在美国，他们仍然被允许分发DIY武器的3D模型和数字制图。</a></li>
<li><a href="../zh-CN416897/index.html">如何建立自己动手的付款系统</a></li>
<li><a href="../zh-CN416899/index.html">我们告诉市长去哪里（使用开放式街道地图）</a></li>
<li><a href="../zh-CN416901/index.html">IT和安全专家如何保护自己：Cisco Connect，BlackHat，RSAC和MWC的真实案例</a></li>
<li><a href="../zh-CN416903/index.html">使用go-critic解析器为Go贡献力量</a></li>
<li><a href="../zh-CN416905/index.html">波士顿动力学SpotMini演示</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>