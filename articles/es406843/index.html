<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüéì üê≥ üëò VR inal√°mbrico y captura de movimiento en hardware HTC Vive üíù üï° üï¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√≥logo 
 Sol√≠a ‚Äã‚Äãescribir sobre mi proyecto de impulso : un traje de captura de movimiento basado en sensores inerciales. En primer lugar, quiero agr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VR inal√°mbrico y captura de movimiento en hardware HTC Vive</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/406843/"><iframe width="560" height="315" src="https://www.youtube.com/embed/5hQimVTOCVg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Pr√≥logo </h4><br>  Sol√≠a ‚Äã‚Äãescribir sobre mi proyecto de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">impulso</a> : un traje de captura de movimiento basado en sensores inerciales.  En primer lugar, quiero agradecer a todos los que dejaron sus comentarios, de una forma u otra, ayudaron al proyecto.  Debo decir que el proyecto no recibi√≥ mucho desarrollo, el problema de la deriva no se resolvi√≥ con sensores de 9 ejes, pero las compensaciones con una br√∫jula digital ayudaron mucho, y el uso de un seguimiento √≥ptico simple (por ejemplo, 2 marcadores LED en la cabeza) le permite obtener el valor de deriva promedio.  Pero hoy no se trata de eso.  Quiero hablar sobre una forma relativamente econ√≥mica de capturar movimiento para sistemas de realidad virtual basados ‚Äã‚Äãen HTC Vive sin una granja colectiva y un soldador, as√≠ como sobre c√≥mo deshacerse del cable que inevitablemente conecta la cabeza y la computadora, lo que crea muchos inconvenientes.  Tambi√©n le dir√© c√≥mo logramos lograr un √°rea de seguimiento de ~ 80 metros cuadrados. <br><a name="habracut"></a><br><h3>  Empecemos </h3><br>  El sistema funcionar√° en el equipo HTC Vive, este es un casco de tiempo completo, 2 controladores y 2 estaciones base, recomiendo comprar <b>HTC Vive 2</b> , se mostr√≥ bien, probablemente debido a las estaciones base actualizadas.  Ahora, el precio se ha reducido a 50 mil rublos. <br><br>  Adem√°s del conjunto est√°ndar, recomiendo el complemento <b>VIVE Deluxe Audio</b> , no son solo auriculares (que ya es conveniente), es una soluci√≥n extremadamente conveniente para un uso m√°s c√≥modo del casco, especialmente esta adici√≥n es relevante cuando varios jugadores o visitantes usan el casco.  Adem√°s, este soporte le permite montar de forma segura el sistema inal√°mbrico, y se ve genial: <br><div style="text-align:center;"><img src="https://habrastorage.org/web/656/15a/f81/65615af817cb46b88ed294f91380cea1.jpg" alt="imagen"></div><br>  <i><b>VIVE Deluxe Audio</b> .</i>  <i>El precio de emisi√≥n es de 10 mil rublos.</i> <br><br><h3>  Abajo con el cable </h3><br>  En primer lugar, debe romper esta "correa" y sentir una verdadera libertad en el espacio de realidad virtual sin computadoras port√°tiles pesadas y calientes.  Para hacer esto, necesita el complemento <b>TPCast</b> , un dispositivo que le permite poner Vive en modo inal√°mbrico. <br><div style="text-align:center;"><img src="https://habrastorage.org/web/32f/afb/f62/32fafbf622c34f77b0dc5e3e1dd2bcad.jpg" alt="imagen"></div><br>  <i><b>TPCast</b></i>  <i>Opciones</i> <br><br>  Todo el sistema consta de varios m√≥dulos, m√°s sobre cada uno: <br><br><div class="spoiler">  <b class="spoiler_title">Receptor</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/c8d/66d/7c3/c8d66d7c3d594dc6b7b5d76303362c81.jpg" alt="imagen"></div></div><br>  Se monta perfectamente en VIVE Deluxe Audio.  Est√° conectado al casco con cables cortos USB y HDMI, los otros 2 cables (USB y alimentaci√≥n) est√°n conectados al adaptador a la bater√≠a. <br><br><div class="spoiler">  <b class="spoiler_title">Caja de alimentaci√≥n</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/c9e/d86/875/c9ed86875fdc49058a03e40c0ab3f34e.jpg" alt="imagen"></div></div><br>  A continuaci√≥n, debe dejar a un lado la caja de enlace Vive est√°ndar y conectar el siguiente m√≥dulo (transmisor) directamente a la computadora a trav√©s de HDMI: <br><br><div class="spoiler">  <b class="spoiler_title">Transmisor</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/18b/4fa/e89/18b4fae894af485f8a4191d282e99bd3.jpg" alt="imagen"></div></div>  Puede usar el cable est√°ndar o HDMI de 10 metros.  La fuente de alimentaci√≥n de un linkbox est√°ndar debe estar conectada al transmisor TPCast.  Debo decir que puede usar una combinaci√≥n con un linkbox, simplemente conectando un transmisor en lugar de un casco (sin conectar uno de los tres cables: USB).  El transmisor debe colocarse en un punto de la habitaci√≥n donde el casco siempre estar√° visible, como  el transmisor funciona a altas frecuencias, entonces cualquier obstrucci√≥n ser√° un obst√°culo para transmitir una se√±al, la misma cabeza si una persona se da vuelta.  En otras palabras, proporcionar visibilidad directa.  La mejor opci√≥n es colocar el transmisor exactamente en el centro de la habitaci√≥n en el techo, envi√°ndolo perpendicular al piso. <br><br>  Esto no es todo, el kit tambi√©n tiene un enrutador que debe conectarse a la conexi√≥n a Internet de la PC.  En pocas palabras, el cable de Ethernet est√° en el puerto WAN del enrutador y la PC est√° conectada al enrutador a trav√©s de LAN.  Si esta conexi√≥n es inaceptable, use una tarjeta de red adicional.  Ahora casi todo est√° listo, solo queda descargar el software y los controladores del sitio web oficial de TPCast: <br><br><div class="spoiler">  <b class="spoiler_title">Asistente de conexi√≥n inal√°mbrica para VIVE</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/b42/901/548/b4290154811f49b99554fc6d0654c6a9.png" alt="imagen"></div></div><br>  Despu√©s de la instalaci√≥n, la aplicaci√≥n le pedir√° que ingrese datos para conectarse al punto de acceso, el nombre de usuario y la contrase√±a se indican en la etiqueta del adaptador para la bater√≠a.  Todo lo que queda es hacer clic en Inicio e iniciar SteamVR despu√©s de una conexi√≥n exitosa.  Si algo sali√≥ mal, entonces en el men√∫ superior derecho hay un elemento Cambiar canal.  En general, la p√©rdida de conexi√≥n es f√°cil de restaurar con solo tocar un bot√≥n, tambi√©n puede cambiar la bater√≠a sobre la marcha. <br><br><div class="spoiler">  <b class="spoiler_title">Diagrama de cableado</b> <div class="spoiler_text"><img src="https://habrastorage.org/web/cce/401/26c/cce40126c1e54c8cbff55583d7e6e119.png" alt="imagen"></div></div><br><img src="https://habrastorage.org/web/1ca/145/27b/1ca14527be4f45abaaa10904ded5d8b5.jpg" alt="imagen"><br>  <i>Asamblea <b>TPCast</b> .</i>  <i>El precio de emisi√≥n es de 35-40 mil rublos, pero estas son las caracter√≠sticas:</i> <br><br><ul><li>  Resoluci√≥n 2K (normal para HTC Vive) </li><li>  90 FPS </li><li>  Retraso de menos de 2 ms </li></ul><br>  Por supuesto, para el uso en el hogar esto no es pr√°ctico, puede tolerar el cable, pero para una soluci√≥n comercial, una excelente opci√≥n, especialmente si ampl√≠a el campo de seguimiento. <br><br>  Ahora puede intentar caminar en Steam Home y no recordar el cable, los pliegues, los nodos y m√°s, excepto que la bater√≠a est√° cargada, pero es mejor comprar otros.  Son suficientes para 4-5 horas de uso activo. <br><br><h3>  Vamos m√°s all√° de los l√≠mites de lo permitido </h3><br>  Sin un cable, r√°pidamente se sentir√° apretado, tendr√° que caminar un poco, pero en 16 metros cuadrados est√°ndar esto no funcionar√°.  Lo primero que necesita es una habitaci√≥n (son adecuados 100 metros cuadrados), y con techos m√°s altos (3.5 metros).  Esta es la parte m√°s dif√≠cil.  En el centro del techo de la habitaci√≥n se encuentra el transmisor TPCast.  A los lados, las estaciones base HTC Vive est√°n montadas debajo del techo.  la distancia entre - 5 metros, de modo que las estaciones est√©n ubicadas en una l√≠nea (perpendicular a dos paredes y paralelas a las otras dos), pasando por el centro de la habitaci√≥n (en el centro del transmisor).  Adem√°s, las estaciones deben inclinarse en un √°ngulo de 30 grados entre s√≠ (es decir, est√°n m√°s dirigidas al piso). <br><br>  Las estaciones deben estar conectadas con un cable para la sincronizaci√≥n (la √≥ptica no funcionar√° de manera estable), los canales de las estaciones deben configurarse en A y b.  Despu√©s de la instalaci√≥n, calibre la habitaci√≥n con herramientas est√°ndar.  Vale la pena se√±alar que en la etapa de construcci√≥n de una chaperona (una cuadr√≠cula azul, que indica los l√≠mites de una habitaci√≥n real), vale la pena elegir el modo avanzado, que le permitir√° especificar solo las esquinas de la habitaci√≥n, la cuadr√≠cula ser√° un cuadrado uniforme.  El √°rea de juego est√° mejor ubicada en el centro.  Esta configuraci√≥n proporcionar√° una gran √°rea de seguimiento lo suficientemente precisa con un n√∫mero m√≠nimo de puntos ciegos y permitir√° el uso eficiente de las estaciones regulares.  Antes de bucear, recomiendo instalar la <b>configuraci√≥n avanzada de OpenVR</b> , su interfaz estar√° disponible directamente en el espacio VR en el men√∫ est√°ndar.  Esta configuraci√≥n mejorar√° la resoluci√≥n, el supermuestreo y configurar√° el chaper√≥n (√°rea de activaci√≥n, color, altura, visibilidad, etc.) Por supuesto, a√∫n puede jugar con la ubicaci√≥n de las estaciones base, cambiar el √°ngulo o una peque√±a distancia entre ellas para una habitaci√≥n determinada.  El resultado es impresionante, de acuerdo con el est√°ndar Steam Home, es posible navegar sin recordar la teletransportaci√≥n.  En la mayor√≠a de los juegos, esta √°rea es m√°s que suficiente.  En noviembre, Vive amenaza con agregar soporte para trabajar con una gran cantidad de estaciones base, pero a√∫n no est√° claro si el equipo actual podr√° aceptar m√°s de dos, o solo los nuevos cascos y controladores podr√°n hacerlo. <br><br><h3>  Deja de ser un fantasma </h3><br>  En general, todos los juegos de realidad virtual se pueden definir como un solo subg√©nero: "simulador de fantasmas", puede recoger objetos, lanzarlos, etc.  Hay excepciones donde puedes ver tu cuerpo inm√≥vil, que es muy disonante.  De una forma u otra, para atraer a un protagonista virtual a un cuerpo en movimiento confiable, necesita algo del √°rea de captura de movimiento.  Capturar el movimiento no es el placer m√°s barato si descarta el kinekt miope y similares, lo cual es ineficaz en dicha √°rea de seguimiento.  Dos cosas vienen al rescate: <b>HTC Vive Tracker</b> y la cinem√°tica inversa (IR).  El primero es necesario para determinar la posici√≥n de cualquier cosa en el √°rea de seguimiento, el segundo es recrear la posici√≥n del cuerpo en el espacio virtual, conociendo la posici√≥n de solo 6 puntos (este es el m√≠nimo para todo el cuerpo). <br><br><img src="https://habrastorage.org/web/f5c/4c1/0c5/f5c4c10c5a484acc91d3d3d7015a8f96.png" alt="imagen"><br>  <i><b>Vive Tracker</b> .</i>  <i>Un rastreador cuesta alrededor de 8 mil rublos.</i> <br><br>  Para un conjunto m√≠nimo, necesitar√° 3 de estos rastreadores.  En general, estos son los mismos controladores est√°ndar, solo recortados y en un caso ligeramente diferente.  Cada uno de estos rastreadores se define en SteamVR, la √∫nica diferencia es que necesitan dongles especiales (incluidos) para conectarlos, aunque puede conectarlos a un casco en lugar de controladores.  En la parte posterior hay un √°rea de contacto para conectar botones personalizados (tambi√©n puede usar el conector USB en el rastreador).  Puede ser un gatillo de pistola, un bot√≥n de activaci√≥n de sable de luz, cualquier cosa.  Las pulsaciones de dichos botones se procesan de la misma manera que las pulsaciones de botones en el controlador, desde el punto de vista del desarrollo de software no hay diferencia.  En general, se pueden usar para rastrear objetos del juego, como armas o herramientas, incluso muebles y puertas, pero estamos interesados ‚Äã‚Äãen la captura de movimiento. <br><br><img src="https://habrastorage.org/web/d0c/e11/d7f/d0ce11d7f6654937b182c12110062bd7.png" alt="imagen"><br><br>  Es posible determinar la posici√≥n de la cabeza con un casco, con las manos usando controladores.  Deben colocarse 2 rastreadores en el zapato (desde arriba de los pies), el restante se sentir√° bien en el cintur√≥n en la parte posterior.  Tal configuraci√≥n ya te permitir√° jugar algunos juegos que admitan esta configuraci√≥n, pero si hablamos de desarrollar tu propio software, necesitar√°s soluciones IR para animar al personaje.  La diferencia fundamental entre la cinem√°tica inversa y una l√≠nea recta es que, en el caso de una l√≠nea recta, se calcula la posici√≥n, conociendo los √°ngulos, y en el caso de la inversa, se calculan los √°ngulos, conociendo la posici√≥n.  Por lo tanto, puede hacer un modelo muy simple usted mismo, conociendo la posici√≥n de dos puntos para calcular el intermedio, dada la forma en que el cuerpo humano generalmente se dobla.  Pero hay soluciones listas para <b>usar,</b> como <b>Final IK</b> , <b>VRIK</b> y otras herramientas de animaci√≥n de procedimientos.  Hay estudios que brindan soluciones de este tipo.  Uno de ellos es <b>IKinema</b> y su producto llamado <b>Project Orion</b> , un software que le permite capturar el movimiento en base a los datos recibidos de SteamVR y transmitirlo a trav√©s del protocolo <b>VRPN</b> a cualquier otra aplicaci√≥n (hay complementos y activos listos para Unity y Unreal).  Para una soluci√≥n de presupuesto, es mejor usar los medios anteriores, que se muestran bastante bien. <br><br><img src="https://habrastorage.org/web/620/596/86b/62059686b70e4be2b1db0489e3f624cf.jpg" alt="imagen"><br><br><div class="spoiler">  <b class="spoiler_title">IKinema Orion (video)</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/Khoer5DpQkE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br>  Adem√°s, ya en el motor, la animaci√≥n resultante se puede limpiar un poco, aunque Orion hace frente a esto, elimina los topes de deslizamiento y calcula la compensaci√≥n por la rugosidad del piso virtual.  IKinema tiene una soluci√≥n de complemento para Unreal: <br><br><div class="spoiler">  <b class="spoiler_title">Acci√≥n en vivo</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/oWqKCdFpyfI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br>  En general, los complementos son m√°s f√°ciles de hacer frente a tareas similares, incluso m√°s f√°cil. <br>  Estos guantes, por ejemplo: <br><br><img src="https://habrastorage.org/web/fa3/9c3/8ac/fa39c38ac2a04714b982323a9d7c4958.jpg" alt="imagen"><br>  <i><b>Manus vr</b></i> <br><br><h3>  Conclusi√≥n </h3><br>  Hoy en d√≠a, la captura de movimiento se est√° volviendo m√°s accesible, al igual que la realidad virtual, que sin duda es agradable.  Vienen varios juegos, en los que habr√° soporte para rastreadores y animaciones del protagonista de acuerdo con los movimientos del jugador.  Por supuesto, todo esto a√∫n no es tan conveniente y accesible como nos gustar√≠a, pero ahora es posible ensamblar un sistema de este tipo a un costo relativamente bajo.  No es necesario decir que el jugador masivo podr√≠a permitirse equipar su espacio de juego de esta manera, pero en forma de atracci√≥n, este ser√° un nivel completamente nuevo. <br><br>  Algunas observaciones: <br><br>  Para abandonar el cable, hab√≠a m√°s cables en general. <br>  Despu√©s de adquirir un cuerpo virtual, parece que el grado de realismo est√° aumentando, pero para ver su sombra en movimiento en el espacio virtual es otra tarea para el cerebro, comienza el mareo, por lo que es mejor apagarlo (esto es individual) <br><br>  El seguimiento del cuerpo y los objetos abre una gran cantidad de oportunidades para crear mecanismos de juego y el efecto de la inmersi√≥n en general. <br><br>  El resultado de ensamblar dicho sistema en video al comienzo de la publicaci√≥n.  Tambi√©n un ejemplo de animaci√≥n de personajes en tiempo real: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/AQuCKXnuqKM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es406843/">https://habr.com/ru/post/es406843/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es406833/index.html">"A pesar de la edad": c√≥mo proteger su audici√≥n</a></li>
<li><a href="../es406835/index.html">Puede haber dos tipos de medicamentos: los cient√≠ficos critican la homeopat√≠a y advierten sobre riesgos importantes para la salud.</a></li>
<li><a href="../es406837/index.html">Batalla: asesinos de drones contra el "inmortal" DJI Phantom 4</a></li>
<li><a href="../es406839/index.html">Comenzar a estudiar STM32 o administrar la luz de forma inteligente</a></li>
<li><a href="../es406841/index.html">Modelado - a las masas</a></li>
<li><a href="../es406845/index.html">Ecuaci√≥n de Poisson y distribuci√≥n de Boltzmann (parte 2.1)</a></li>
<li><a href="../es406847/index.html">El agregador de criptomonedas XRONOS lanza preventa de monedas</a></li>
<li><a href="../es406851/index.html">Mini-sistema Denon D-M41: un retorno al concepto de un centro de m√∫sica, Hi-Fi para la clase media</a></li>
<li><a href="../es406853/index.html">ESA invita a empresas comerciales a participar en la exploraci√≥n de la luna</a></li>
<li><a href="../es406855/index.html">"Oportunidades" invisibles en el estudio de Marte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>