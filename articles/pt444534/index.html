<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🍳 🔎 👨🏼‍✈️ Verificação de vulnerabilidades e desenvolvimento seguro. Parte 1 👩🏿‍🤝‍👩🏼 👩🏿‍🤝‍👩🏽 🧒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como parte de suas atividades profissionais, desenvolvedores, pentesters e profissionais de segurança precisam lidar com processos como o Vulnerabilit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verificação de vulnerabilidades e desenvolvimento seguro. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444534/"><img src="https://habrastorage.org/webt/fs/4d/51/fs4d51oahbwuy-w0vwmrbrgup84.png" alt="imagem"><br><br>  Como parte de suas atividades profissionais, desenvolvedores, pentesters e profissionais de segurança precisam lidar com processos como o Vulnerability Management (VM), (Secure) SDLC. <br>  Sob essas frases, estão ocultos diferentes conjuntos de práticas e ferramentas usadas que estão interligadas, embora seus consumidores sejam diferentes. <br><br>  O progresso técnico ainda não chegou ao ponto de substituir uma pessoa por uma ferramenta para analisar a segurança da infraestrutura e do software. <br>  É interessante entender por que isso é assim e quais problemas você tem que enfrentar. <br><a name="habracut"></a><br><br><h2>  Os processos </h2><br>  O processo de gerenciamento de vulnerabilidades destina-se ao monitoramento contínuo da segurança da infraestrutura e do gerenciamento de patches. <br>  O processo Secure SDLC ("ciclo de desenvolvimento seguro") foi projetado para oferecer suporte à segurança do aplicativo durante o desenvolvimento e operação. <br><br>  Uma parte semelhante desses processos é o processo de Avaliação de vulnerabilidades - avaliação de vulnerabilidades, verificação de vulnerabilidades. <br>  A principal diferença na varredura na VM e no SDLC é que, no primeiro caso, o objetivo é detectar vulnerabilidades conhecidas em software de terceiros ou em uma configuração.  Por exemplo, uma versão desatualizada do Windows ou a sequência de comunidades padrão do SNMP. <br>  No segundo caso, o objetivo é detectar vulnerabilidades não apenas em componentes de terceiros (dependências), mas principalmente no código do novo produto. <br><br>  Isso gera diferenças de ferramentas e abordagens.  Na minha opinião, a tarefa de encontrar novas vulnerabilidades no aplicativo é muito mais interessante, pois não se resume a versões de impressão digital, coleta de banners, classificação de senhas etc. <br>  A verificação automatizada de alta qualidade das vulnerabilidades de aplicativos requer algoritmos que levam em consideração a semântica do aplicativo, seu objetivo e ameaças específicas. <br><br>  O scanner de infraestrutura geralmente pode ser substituído por um temporizador, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">avleonov</a> disse.  O ponto é que, puramente estatisticamente, você pode considerar sua infraestrutura vulnerável se não a atualizar, digamos, um mês. <br><br><h2>  As ferramentas </h2><br>  A digitalização, assim como a análise de segurança, pode ser realizada como uma caixa preta ou branca. <br><br><h4>  Caixa preta </h4><br>  Ao digitalizar na caixa preta, a ferramenta deve poder trabalhar com o serviço através das mesmas interfaces pelas quais os usuários trabalham. <br><br>  Os scanners de infraestrutura (Tenable Nessus, Qualys, MaxPatrol, Rapid7 Nexpose etc.) procuram portas de rede abertas, coletam "banners", determinam versões de software instaladas e procuram informações sobre vulnerabilidades nessas versões em sua base de conhecimento.  Eles também tentam detectar erros de configuração, como senhas padrão ou acesso aberto a dados, cifras SSL fracas, etc. <br><br>  Os scanners de aplicativos da Web (Acunetix WVS, Netsparker, Burp Suite, OWASP ZAP etc.) também sabem como determinar os componentes conhecidos e suas versões (por exemplo, CMS, estruturas, bibliotecas JS).  As principais etapas do scanner são rastejantes e difusas. <br>  Durante o rastreamento, o scanner coleta informações sobre interfaces de aplicativos existentes, parâmetros HTTP.  Durante a difusão, todos os parâmetros detectados são substituídos por dados mutados ou gerados para provocar um erro e detectar vulnerabilidade. <br><br>  Esses scanners de aplicativos pertencem às classes DAST e IAST - Teste de Segurança de Aplicativos Dinâmicos e Interativos, respectivamente. <br><br><h4>  Caixa branca </h4><br>  As varreduras de caixa branca têm mais diferenças. <br>  Durante todo o processo, os scanners de VM (Vulners, Incsecurity Couch, Vuls, Tenable Nessus etc.) geralmente recebem acesso aos sistemas, realizando uma verificação autenticada.  Assim, o scanner pode baixar versões instaladas de pacotes e parâmetros de configuração diretamente do sistema, sem adivinhar sobre os banners dos serviços de rede. <br>  A digitalização é mais precisa e completa. <br><br>  Se falamos sobre digitalização de caixas brancas (CheckMarx, HP Fortify, Coverity, RIPS, FindSecBugs, etc.) de aplicativos, geralmente falamos sobre análise de código estático e o uso das ferramentas correspondentes da classe SAST - Static Application Security Testing. <br><br><h2>  Os problemas </h2><br>  Existem muitos problemas com a digitalização!  Eu tenho que lidar com a maioria deles pessoalmente na estrutura de prestação de um serviço para a criação de processos de verificação e desenvolvimento seguro, bem como na realização de trabalhos de análise de segurança. <br><br>  Vou destacar três grupos principais de problemas, confirmados por conversas com engenheiros e gerentes de serviços de segurança da informação em várias empresas. <br><br><h4>  Problemas de verificação de aplicativos da Web </h4><br><ol><li>  <b>A complexidade da implementação.</b>  Os scanners precisam ser implantados, configurados, personalizados para cada aplicativo, alocados um ambiente de teste para varreduras e implementados no processo de CI / CD para serem eficazes.  Caso contrário, será um procedimento formal inútil, emitindo apenas falsos positivos </li><li>  <b>Duração da digitalização.</b>  Os scanners, mesmo em 2019, se saem mal com a desduplicação de interface e podem digitalizar milhares de páginas por 10 dias com 10 parâmetros em cada um, considerando-os diferentes, embora o mesmo código seja responsável por eles.  Ao mesmo tempo, a decisão de implantar a produção dentro do ciclo de desenvolvimento deve ser tomada rapidamente </li><li>  <b>Recomendações escassas.</b>  Os scanners fornecem recomendações bastante gerais, e nem sempre é possível para um desenvolvedor entender rapidamente como reduzir o nível de risco e, o mais importante, se é necessário fazê-lo agora ou não. </li><li>  <b>Efeito destrutivo na aplicação.</b>  Os scanners podem muito bem executar um ataque de DoS no aplicativo e também podem criar um grande número de entidades ou modificar os existentes (por exemplo, criar dezenas de milhares de comentários em um blog), portanto, não inicie uma varredura sem sentido no prod. </li><li>  <b>Detecção de vulnerabilidades de baixa qualidade.</b>  Os scanners geralmente usam uma matriz de cargas fixas e podem facilmente ignorar uma vulnerabilidade que não se encaixa no cenário conhecido de comportamento de aplicativos. </li><li>  <b>O scanner não entende as funções do aplicativo.</b>  Os próprios scanners não sabem o que são “Internet banking”, “pagamento” e “comentário”.  Para eles, existem apenas links e parâmetros, para que uma enorme camada de possíveis vulnerabilidades na lógica de negócios permaneça completamente descoberta, elas não tentarão escrever duas vezes, buscar dados de outras pessoas por ID ou aumentar o saldo por meio de arredondamentos. </li><li>  <b>Incompreensão do scanner sobre a semântica da página.</b>  Os scanners não sabem ler as Perguntas frequentes, eles não sabem reconhecer captchas, eles mesmos não sabem como se registrar e precisam fazer login, que não pode clicar em "sair" e como assinar solicitações ao alterar os valores dos parâmetros.  Como resultado, a maioria dos aplicativos pode não ser verificada. </li></ol><br><br><h4>  Problemas de digitalização do código fonte </h4><br><ol><li>  <b>Falsos positivos.</b>  A análise estática é uma tarefa difícil, para resolver a qual é necessário recorrer a muitos compromissos.  Muitas vezes, você precisa sacrificar a precisão, e mesmo os scanners corporativos caros produzem uma enorme quantidade de falsos positivos </li><li>  <b>A complexidade da implementação.</b>  Para aumentar a precisão e a integridade da análise estática, é necessário refinar as regras de varredura, e a gravação dessas regras pode levar muito tempo.  Às vezes, é mais fácil encontrar todos os lugares do código com algum tipo de bug e corrigi-los do que escrever uma regra para detectar esses casos </li><li>  <b>Falta de suporte à dependência.</b>  Projetos grandes dependem de um grande número de bibliotecas e estruturas que expandem os recursos da linguagem de programação.  Se a base de conhecimento do scanner não tiver informações sobre "sumidouros" nessas estruturas, isso se tornará um ponto cego e o scanner simplesmente nem entenderá o código </li><li>  <b>Duração da digitalização.</b>  Encontrar vulnerabilidades no código é uma tarefa difícil em termos de algoritmos.  Portanto, o processo pode estar atrasado e exigir recursos computacionais significativos. </li><li>  <b>Baixa cobertura.</b>  Apesar do consumo de recursos e da duração da verificação, os desenvolvedores das ferramentas SAST ainda precisam recorrer a compromissos e analisar nem todas as condições em que o programa pode estar. </li><li>  <b>Reprodutibilidade dos achados.</b>  Apontar para uma linha específica e pilha de chamadas que levam a uma vulnerabilidade é bom, mas, na realidade, o scanner geralmente não fornece informações suficientes para verificar se há uma vulnerabilidade externa.  Afinal, uma falha também pode estar em código morto, o que é inatingível para um invasor </li></ol><br><br><h4>  Problemas de verificação de infraestrutura </h4><br><ol><li>  <b>Inventário inadequado.</b>  Em grandes infra-estruturas, especialmente separadas geograficamente, geralmente é mais difícil entender quais hosts precisam ser verificados.  Em outras palavras, a tarefa de verificação está intimamente relacionada à tarefa de gerenciamento de ativos. </li><li>  <b>Má priorização.</b>  Os scanners de rede geralmente produzem muitos resultados com desvantagens que não são exploráveis ​​na prática, mas formalmente seu nível de risco é alto.  O consumidor recebe um relatório difícil de interpretar e não está claro o que precisa ser corrigido primeiro </li><li>  <b>Recomendações escassas.</b>  A base de conhecimento do scanner geralmente possui apenas informações muito gerais sobre a vulnerabilidade e como corrigi-la, para que os administradores tenham que se armar com o Google.  A situação é um pouco melhor com os scanners de caixa branca que podem emitir um comando específico para corrigir </li><li>  <b>Handwork</b>  As infra-estruturas podem ter muitos nós, o que significa que há potencialmente muitas deficiências, relatórios nos quais devem ser desmontados e analisados ​​manualmente a cada iteração </li><li>  <b>Cobertura ruim.</b>  A qualidade da varredura de infraestrutura depende diretamente do volume da base de conhecimento sobre vulnerabilidades e versões de software.  Ao mesmo tempo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">verifica-se</a> que mesmo os líderes de mercado não possuem uma base de conhecimento abrangente e há muitas informações nos bancos de dados de soluções gratuitas que os líderes não possuem </li><li>  <b>Problemas com o patch.</b>  O patch mais comum para vulnerabilidades na infraestrutura é atualizar o pacote ou alterar o arquivo de configuração.  O grande problema aqui é que o sistema, especialmente o legado, pode se comportar de maneira imprevisível como resultado de uma atualização.  Em essência, você terá que realizar testes de integração da infraestrutura viva na produção </li></ol><br><br><h2>  As abordagens </h2><br>  Como ser <br>  Vou lhe contar mais sobre exemplos e como lidar com muitos desses problemas nas seguintes partes, mas por enquanto vou indicar as principais áreas em que você pode trabalhar: <br><ol><li>  <b>Agregação de várias ferramentas de digitalização.</b>  Com o uso correto de vários scanners, é possível obter um aumento significativo na base de conhecimento e na qualidade da detecção.  Você pode encontrar ainda mais vulnerabilidades do que todos os scanners lançados separadamente, enquanto é possível avaliar com mais precisão o nível de risco e dar mais recomendações </li><li>  <b>Integração do SAST e DAST.</b>  Você pode aumentar a cobertura e a precisão do DAST compartilhando informações entre eles.  Na fonte, você pode obter informações sobre rotas existentes e, usando o DAST, pode verificar se a vulnerabilidade é visível de fora. </li><li>  <b>Machine Learning <sup>™</sup> .</b>  Em 2015, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">falei sobre</a> (e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ainda</a> ) sobre o uso de estatísticas para dar aos hackers a intuição dos scanners e acelerá-los.  Definitivamente, este é o alimento para o desenvolvimento de futuras análises de segurança automatizadas. </li><li>  <b>Integração do IAST com autotestes e OpenAPI.</b>  Na estrutura do pipeline de CI / CD, é possível criar um processo de varredura com base em ferramentas que funcionam como proxies HTTP e testes funcionais que trabalham com HTTP.  Os testes e contratos OpenAPI / Swagger fornecerão ao scanner as informações ausentes sobre fluxos de dados e possibilitarão a varredura do aplicativo em vários estados </li><li>  <b>Configuração correta.</b>  Para cada aplicativo e infraestrutura, você precisa criar um perfil de verificação adequado que leve em consideração o número e a natureza das interfaces, tecnologias usadas </li><li>  <b>Personalização de scanners.</b>  Freqüentemente, um aplicativo não pode ser digitalizado sem finalizar o scanner.  Um exemplo é um gateway de pagamento no qual cada solicitação deve ser assinada.  Sem escrever um conector no protocolo do gateway, os scanners atendem as solicitações com a assinatura errada.  Também é necessário escrever scanners especializados para um tipo específico de falha, como a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Referência de objeto direto inseguro</a> </li><li>  <b>Gerenciamento de riscos.</b>  O uso de vários scanners e a integração com sistemas externos, como Asset Management e Threat Management, permitirá que você use muitos parâmetros para avaliar o nível de risco, para que o gerenciamento possa obter uma imagem adequada do status atual de segurança do desenvolvimento ou infraestrutura </li></ol><br><br>  Fique atento e vamos interromper a verificação de vulnerabilidades! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt444534/">https://habr.com/ru/post/pt444534/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt444522/index.html">Apocalipse é cancelado</a></li>
<li><a href="../pt444524/index.html">Lambdas: de C ++ 11 a C ++ 20. Parte 1</a></li>
<li><a href="../pt444526/index.html">Pilha de DOTS: C ++ e C #</a></li>
<li><a href="../pt444528/index.html">Situação: o Japão pode limitar o download de conteúdo da rede - entendemos e discutimos</a></li>
<li><a href="../pt444530/index.html">O futuro da injeção de dependência no Android</a></li>
<li><a href="../pt444536/index.html">MVCC-2. Camadas, arquivos, páginas</a></li>
<li><a href="../pt444540/index.html">Intel está pronta para começar a produção de memória MRAM</a></li>
<li><a href="../pt444542/index.html">Transmissão ao vivo e programação de conferências para SmartMail Conf: Machine Learning</a></li>
<li><a href="../pt444544/index.html">Algo sobre data centers distribuídos para empresas</a></li>
<li><a href="../pt444546/index.html">Como e por que trabalhar mais devagar? O método de Sergey Korolev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>