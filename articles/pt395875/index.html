<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçü§ù‚Äçüë®üèº üò∑ ü§∑üèΩ Remo√ß√£o de linhas telef√¥nicas usando gateways VoIP da Grandstream ‚ùÑÔ∏è üë©üèø‚Äçüíº üë©üèΩ‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os clientes costumam entrar em contato conosco com um problema bastante comum. Em geral, pode ser expresso da seguinte forma: a empresa utiliza uma ce...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Remo√ß√£o de linhas telef√¥nicas usando gateways VoIP da Grandstream</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/arttel/blog/395875/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os clientes costumam entrar em contato conosco com um problema bastante comum. Em geral, pode ser expresso da seguinte forma: a empresa utiliza uma central telef√¥nica anal√≥gica, √† qual √© necess√°rio conectar alguns usu√°rios de um local remoto. Pode ser um escrit√≥rio vizinho, uma cidade vizinha ou at√© outro pa√≠s - o principal √© que a rede telef√¥nica n√£o chega at√© l√°, mas a LAN alcan√ßa ou h√° acesso √† Internet. Hoje, resolveremos esse problema com a ajuda dos gateways VoIP da s√©rie Grandstream GXW4xxx.</font></font><br>
<img src="https://habrastorage.org/files/512/849/e7b/512849e7b3de4893addc9bbab1dabae2.jpg"><br>
<br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De fato, esta tarefa tem muitas varia√ß√µes. Por exemplo, encaminhando linhas PSTN para outro local ou combinando as capacidades de numera√ß√£o de duas trocas anal√≥gicas remotas - muito semelhantes em significado e solu√ß√£o para o problema. Portanto, para n√£o introduzir confus√£o desnecess√°ria, determinaremos imediatamente os dados iniciais e tomaremos a seguinte ilustra√ß√£o: </font></font><br>
<img src="https://habrastorage.org/files/be9/9da/ffa/be99daffa61f44799a99153df5123d42.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existe uma sede da empresa na qual a central telef√¥nica anal√≥gica est√° localizada, com a numera√ß√£o de telefones internos 2XX. H√° tamb√©m um escrit√≥rio remoto com quatro funcion√°rios que precisam atribuir os n√∫meros de ramal 301-304. √â necess√°rio oferecer aos funcion√°rios de diferentes escrit√≥rios uma oportunidade de ligar diretamente um para o outro usando um n√∫mero abreviado interno.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na sede da empresa, colocaremos um gateway Grandstream VoIP com portas FXO. </font><font style="vertical-align: inherit;">Pode ser um modelo GXW4104 (4 portas) ou GXW4108 (8 portas). </font><font style="vertical-align: inherit;">E no escrit√≥rio remoto - um gateway com portas FXS - GXW4004 (4 portas) ou GXW4008 (8 portas). </font><font style="vertical-align: inherit;">Para simplificar, assumimos que trabalhamos com os gateways de quatro portas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GXW4104</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GXW4004,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> respectivamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selecionamos quatro portas internas em nosso PABX anal√≥gico e atribu√≠mos n√∫meros internos a elas - 301-304. </font><font style="vertical-align: inherit;">Conectamos o Grandstream GXW4104 √† rede local, atribu√≠mos um endere√ßo IP est√°tico e conectamos as portas internas do PBX √†s portas do gateway (n¬∫ 301 - com a primeira porta do gateway, n¬∫ 302 - com a segunda, etc.). </font><font style="vertical-align: inherit;">Na filial remota, tamb√©m atribu√≠mos um endere√ßo est√°tico ao gateway GXW4004 e conectamos quatro telefones anal√≥gicos a ele.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora precisamos resolver duas subtarefas:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Permitir que os assinantes da sede (‚Ññ201, ‚Ññ202) liguem para os assinantes da sede remota (‚Ññ301 - 304)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Permitir que os assinantes do escrit√≥rio remoto liguem para os assinantes da sede da empresa.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira tarefa ser√° resolvida configurando o GXW4104:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contas - Conta 1 - Configura√ß√µes gerais</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servidor SIP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">especifique o endere√ßo IP do gateway Grandstream GXW4004 FXS localizado no escrit√≥rio remoto. </font><font style="vertical-align: inherit;">Se os gateways estiverem localizados na mesma rede local ou estiverem conectados por uma VPN, indicamos o endere√ßo IP local. </font><font style="vertical-align: inherit;">Caso contr√°rio, especificamos o endere√ßo IP externo da unidade remota e voc√™ precisar√° encaminhar as portas no roteador remoto. </font><font style="vertical-align: inherit;">Vamos falar sobre o encaminhamento de porta um pouco mais tarde.</font></font><br>
<br>
<img src="https://habrastorage.org/files/793/68f/726/79368f726711473d8fcf61db31462abc.jpg"> <br>
<br>
</li>
<li> <b>Accounts ‚Äî Account 1 ‚Äî SIP Settings</b>.   <b>SIP Registration</b>   <i>No</i> ‚Äì        ¬´ ¬ª.<br>
<br>
<img src="https://habrastorage.org/files/851/511/580/851511580e5946a294fa88cf5163d6c7.jpg"><br>
<br>
</li>
<li> <b>Settings ‚Äì Channels Settings ‚Äì Calling to VoIP</b>.   <b>SIP Server</b>   <i>ch1-4:p1;</i>  ,  ,       FXO  ,    IP-,    <b>Accounts ‚Äî Account 1 ‚Äî General Settings</b>.    -   Account1    Account2,       : <i>ch1-4:p2;</i>       GXW4108,           <i>ch1-8:p1;</i> <br>
<br>
<img src="https://habrastorage.org/files/0ab/89b/78a/0ab89b78ae1e48759564a2eab58aa2e0.jpg"><br>
<br>
</li>
<li> <b>Settings ‚Äì Channels Settings ‚Äì Calling to VoIP</b>.   IP-,     ,   SIP-.    <b>SIP Destination Port</b>      <i>ch1-4:5060</i>  <i>ch1-4:5060++;</i>  ,       FXO-    SIP- 5060  ,   FXO- ‚Äì    SIP- 5062,     ‚Äì   5064  5066 .    SIP-,    , FXS-           ,   . </li>
<li> <b>Settings ‚Äì Channels Settings ‚Äì Calling to VoIP</b>.  <b>User ID</b>     <i>ch1-4:</i>.     ,     ,          IP-.  ,   ,   ,  ,   ,      .    ,         : <i>ch1:301;ch2:302;ch3:303;ch4:304</i>.  FXO-    301-304 (   )  SIP-    FXS-. ,    ,  FXS-          SIP-,     .      ,  ,  FXO-      IP-   .  <i>ch1-4:123;</i>  <i>ch1-4:x;</i>   .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas as outras configura√ß√µes do gateway GXW4104 podem ser deixadas no padr√£o. E essas configura√ß√µes s√£o suficientes para organizar a comunica√ß√£o dos assinantes da matriz com os assinantes da filial. Sim, o gateway remoto GXW4004 nem precisa ser configurado, pois escuta as portas 5060, 5062, 5064 e 5066 por padr√£o e converte as mensagens enviadas para essas portas e as envia para as portas 1-4, respectivamente. As portas SIP √≠mpares 5061, 5063, 5065 e 5067 no gateway FXS s√£o padronizadas como SIP sobre TLS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, tamb√©m somos obrigados a resolver o segundo problema - organizar a comunica√ß√£o dos assinantes da filial remota com os assinantes da matriz. </font><font style="vertical-align: inherit;">H√° duas maneiras de resolver esse problema: por analogia com a primeira tarefa, usando portas SIP diferentes para canais diferentes ou usando o plano de discagem. </font><font style="vertical-align: inherit;">Vamos escolher a segunda op√ß√£o: abra a interface da Web do gateway remoto Grandstream GXW4004 e v√° para a se√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perfil 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<img src="https://habrastorage.org/files/a01/60e/878/a0160e878695450da2ecf26ce5bcb0d4.jpg"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servidor SIP Prim√°rio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">especifique o endere√ßo IP do gateway Grandstream GXW4104 FXO localizado na matriz. </font><font style="vertical-align: inherit;">Se este n√£o for um endere√ßo IP local, o encaminhamento de porta tamb√©m ser√° necess√°rio.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registro SIP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">selecione o valor </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - os gateways se comunicar√£o entre si no modo "sem registro".</font></font></li>
<li>  <b>Outgoing Call without Registration</b>   <i>Yes</i>,          ¬´ ¬ª.</li>
<li>  <b>Dialplan</b>  <i>{&lt;=99$P&gt;x+}</i>.      :    ,       (x+)       99$P,  $P ‚Äì   FXS-,    ,  .   301      202,   GXW4004   GXW4104   99-1-202.   303    204,     99-3-204.     , FXO-      ,   FXO-      . <br>
<img src="https://habrastorage.org/files/2a7/5a6/4ce/2a75a64ce3b7432eb93b0886305dc85d.jpg"><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Retornamos √† configura√ß√£o do gateway GXW4104 na matriz: abra a interface da Web e v√° para a se√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linhas FXO&gt; Discagem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stage Method (1/2)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">escreva </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ch1-4: 1; </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso significa que, para todos os quatro canais, uma chamada sem discagem de ramal ser√° usada. </font><font style="vertical-align: inherit;">Se </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deix√°ssemos o registro</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> padr√£o </font><i><font style="vertical-align: inherit;">ch1-4: 2</font></i><font style="vertical-align: inherit;"> , o assinante da filial remota teria que rediscar o n√∫mero necess√°rio ap√≥s a chamada chegar ao gateway FXO. </font><font style="vertical-align: inherit;">E isso √© um trabalho sup√©rfluo, pois o assinante j√° discou o n√∫mero que precisa uma vez.</font></font><br>
<br>
<img src="https://habrastorage.org/files/474/a8a/249/474a8a2498174f8098e9473bbec0692e.jpg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prefixo para especificar porta</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">deixe o valor padr√£o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">99</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tendo descoberto esse prefixo no n√∫mero que veio da filial, o gateway FXO entender√° que o pr√≥ximo d√≠gito √© o n√∫mero da porta atrav√©s da qual ele deve enviar esta chamada ao PABX. </font><font style="vertical-align: inherit;">Assim, garantiremos que as chamadas de assinantes remotos cheguem estritamente √†s portas designadas no PABX.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso conclui a configura√ß√£o dos gateways - agora os assinantes da filial remota podem ligar para os funcion√°rios da matriz e at√© para n√∫meros fixos atrav√©s do PBX, se isso claramente n√£o for proibido no pr√≥prio PBX.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre o encaminhamento de porta</font></font></b><div class="spoiler_text">   ?<br>
<br>
<ol>
<li>   ‚Äì  UDP- 5060, 5062, 5064  5066  SIP-.         5068 ‚Äì 5074.</li>
<li>  RTP:      2  (  RTP +  RTCP).        <b>Local RTP port</b>,      ‚Äî 5004,       UDP  5004 + 5005,   5006+5007   . ,   Local RTP port = 5004,    4-  ‚Äî  5004-5011,   8-  ‚Äî  5004-5019. </li>
</ol><br>
,          .         ,  ,   VPN    .<br>
</div></div><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V√°rios escrit√≥rios remotos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos mudar um pouco a tarefa. Suponha que precisamos conectar n√£o uma, mas v√°rias filiais remotas ao PBX central da empresa. Sejam tr√™s pontos de venda com um assinante em cada um: em </font></font><br>
<img src="https://habrastorage.org/files/8a3/56b/0d6/8a356b0d613949889cdb98058b839206.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vez de gateways de quatro portas, seria mais l√≥gico colocar adaptadores SIP de porta √∫nica baratos, por exemplo, Grandstream HT701, nesses pontos. Como, ent√£o, as configura√ß√µes no gateway GXW4104 ser√£o alteradas? Para fazer uma chamada de assinantes da matriz para assinantes remotos, n√£o √© mais necess√°rio usar portas SIP diferentes, pois agora as chamadas para v√°rios assinantes remotos ser√£o roteadas para diferentes endere√ßos IP. E aqui estamos diante do primeiro problema - o n√∫mero de servidores SIP que podem ser configurados no GXW4104 (e at√© no GXW4108) √© limitado a tr√™s, portanto, mais de tr√™s locais n√£o podem ser conectados atrav√©s de um gateway FXO.</font></font><br>
<br>
<ol>
<li>   <b>Accounts ‚Äî Account 1 ‚Äì General Settings</b>.   <b>SIP-Server</b>  IP-  HT701   1.      Account 2  Account 3,       2  3 .<br>
<br>
<img src="https://habrastorage.org/files/008/f33/2b8/008f332b80d74e31956e6938f3d9c6a8.jpg"><br>
<br>
</li>
<li> <b>Accounts ‚Äî Account 1 ‚Äî SIP Settings</b>.   <b>SIP Registration</b>   <i>No</i>.   Account 2  Account 3. <br>
<br>
<img src="https://habrastorage.org/files/92b/d71/004/92bd71004f9c4c0288b0cd29744fcb4c.jpg"><br>
<br>
</li>
<li>  <b>Settings ‚Äì Channels Settings ‚Äì Calling to VoIP</b>.   <b>SIP Server</b>   <i>ch1:p1;ch2:p2;ch3:p3;ch4:p1;</i>      ,      .   <b>SIP Destination Port</b>      <i>ch1-4:5060</i>.  <b>User ID</b>    , , <i>ch1-4:123;</i><br>
<br>
<img src="https://habrastorage.org/files/47b/ccb/235/47bccb2350304610a820ba8b4b2e54c2.jpg"><br>
<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As chamadas efetuadas da central de c√¢mbio para locais remotos foram ativadas, pois cada HT701 escuta sua porta padr√£o 5060 e, quando uma chamada chega, inicia uma chamada para o telefone conectado a uma √∫nica porta FXS. </font><font style="vertical-align: inherit;">Para que as chamadas sigam o contr√°rio, √© necess√°rio configurar cada Grandstream HT701. </font><font style="vertical-align: inherit;">N√≥s vamos para a interface web do gateway HT-701 e para a se√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FXS PORT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servidor SIP Prim√°rio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">especifique o endere√ßo IP do FXO do gateway Grandstream GXW4104.</font></font><br>
<br>
<img src="https://habrastorage.org/files/873/ba9/376/873ba9376ce24b3990898461463c04b5.jpg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registro SIP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">selecione </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o</font></font></i><br>
<br>
<img src="https://habrastorage.org/files/f21/d04/939/f21d04939913483fa4b1ed204bf612f2.jpg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prefixo do plano de discagem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">especifique </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">991</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o primeiro ponto (telefone 301), </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">992</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o segundo (302) e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">993</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o terceiro (303). </font><font style="vertical-align: inherit;">Com base nesse prefixo, o gateway FXO da matriz entender√° qual porta deve enviar a chamada ao PBX.</font></font><br>
<br>
<img src="https://habrastorage.org/files/3cc/226/2c8/3cc2262c8d504ca9b6a6378843d7a1c7.jpg"><br>
<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se as configura√ß√µes </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FXO Lines&gt; Discagem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Grandstream GXW4104 campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stage Method (1/2)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indicou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CH1-4: 1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , e no </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prefixo para especificar a porta</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indicada </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">99</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , chamadas dos assinantes de pontos remotos na dire√ß√£o dos assinantes cabe√ßa de PBX tamb√©m ganhar.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usamos telefones IP</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No problema em considera√ß√£o, o gateway FXO instalado na matriz √© um elemento-chave que n√£o podemos recusar, pois a central de trocas, de acordo com as condi√ß√µes da tarefa, n√£o suporta o protocolo SIP. </font><font style="vertical-align: inherit;">Se a substitui√ß√£o de uma central telef√¥nica central √© um procedimento trabalhoso e caro, a substitui√ß√£o de telefones anal√≥gicos por dispositivos habilitados para SIP em filiais remotas √© bastante f√°cil e muitos de nossos clientes fazem isso. </font><font style="vertical-align: inherit;">Isso simplifica um pouco o esquema: As </font></font><br>
<img src="https://habrastorage.org/files/aea/e98/27e/aeae9827eddf4290832719301044e286.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
configura√ß√µes do gateway GXW4104 n√£o mudam em compara√ß√£o com o exemplo anterior. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> considerar as configura√ß√µes do telefone IP usando o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Grandstream GXP1620</font></a><font style="vertical-align: inherit;"> como exemplo </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Abra a interface da Web e v√° para a se√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contas - Conta 1 - Configura√ß√µes gerais</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nome</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da </font><b><font style="vertical-align: inherit;">conta</font></b><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">especifique o n√∫mero de telefone - 301, 302 ou 303.</font></font></li>
<li>  <b>SIP Server</b>  IP  FXO  Grandstream GXW4104.<br>
<br>
<img src="https://habrastorage.org/files/ebc/ade/2b7/ebcade2b796846638deefd2d2df9972c.jpg"><br>
<br>
</li>
<li>   <b>Account 1 ‚Äî SIP Settings ‚Äî Basic Settings</b>    <b>SIP Registration</b>  <i>No</i>.<br>
<br>
<img src="https://habrastorage.org/files/3ad/a6a/e56/3ada6ae569a543ab84a2745067c7d411.jpg"><br>
<br>
</li>
<li>   <b>Account 1 ‚Äî Call Settings</b>    <b>Dial Plan Prefix</b>   <i>991</i>   301, <i>992</i> ‚Äì   302  <i>993</i>   303.<br>
<br>
<img src="https://habrastorage.org/files/9dc/f88/b15/9dcf88b151344212aca8beb6bffe415a.jpg"><br>
<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso conclui a configura√ß√£o do telefone IP - agora voc√™ pode fazer chamadas para os telefones dos assinantes de PBX central. </font><font style="vertical-align: inherit;">Note-se que nem todos os telefones podem funcionar nesta configura√ß√£o. </font><font style="vertical-align: inherit;">O principal requisito para os dispositivos √© a capacidade de fazer chamadas sem registrar. </font><font style="vertical-align: inherit;">Al√©m disso, os telefones devem poder adicionar um prefixo ao n√∫mero discado. </font><font style="vertical-align: inherit;">O segundo requisito n√£o √© obrigat√≥rio, pois em vez de usar o plano de discagem, voc√™ pode rotear chamadas de diferentes telefones IP para diferentes portas SIP do gateway FXO, o que permite que o √∫ltimo envie corretamente as chamadas para o PBX. </font><font style="vertical-align: inherit;">Voc√™ tamb√©m pode usar a discagem em dois est√°gios, o que, no entanto, √© menos conveniente. </font><font style="vertical-align: inherit;">As marcas mais populares de telefones IP, como Grandstream, Yealink, Fanvil, Linksys atendem aos requisitos especificados e suportam o trabalho nesta configura√ß√£o.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt395875/">https://habr.com/ru/post/pt395875/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt395863/index.html">O mist√©rio da medicina: c√¢ncer de c√≥lon, doen√ßas card√≠acas e dem√™ncia est√£o diminuindo, mas ningu√©m pode explicar por que</a></li>
<li><a href="../pt395865/index.html">Com√©rcio contextual - uma nova tend√™ncia no com√©rcio eletr√¥nico</a></li>
<li><a href="../pt395869/index.html">Torrent com 427 milh√µes de senhas do MySpace</a></li>
<li><a href="../pt395871/index.html">Cientistas alertam para efeitos colaterais de fraca estimula√ß√£o el√©trica do c√©rebro</a></li>
<li><a href="../pt395873/index.html">Os cientistas primeiro investigaram e descreveram o mecanismo de ativa√ß√£o de uma cadeia de neur√¥nios cerebrais respons√°veis ‚Äã‚Äãpor uma tend√™ncia √† agress√£o</a></li>
<li><a href="../pt395879/index.html">Discuss√£o: Os comerciantes de HFT gostam de seu trabalho?</a></li>
<li><a href="../pt395881/index.html">Parasitica (est√≥ria)</a></li>
<li><a href="../pt395883/index.html">Tomada inteligente REDMOND Smart plug SkyPlug RSP-100S (Parte 2). A principal desvantagem da tomada e sua elimina√ß√£o</a></li>
<li><a href="../pt395887/index.html">A constru√ß√£o do ITER est√° adiantada. O primeiro plasma est√° planejado para 2025</a></li>
<li><a href="../pt395889/index.html">A vida secreta dos gigantes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>