<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🍳 👇🏽 🙃 MPPT-Laderegler am STM32F334C8T6 🏪 ↘️ 🧖🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Kommentare in meinen vorherigen Artikeln haben wiederholt die durchaus vernünftige Frage aufgeworfen: "Warum DC / DC-Wandler auf einem Mikrocontro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MPPT-Laderegler am STM32F334C8T6</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454024/"><p> Die Kommentare in meinen vorherigen Artikeln haben wiederholt die durchaus vernünftige Frage aufgeworfen: <em>"Warum DC / DC-Wandler auf einem Mikrocontroller herstellen, wenn es fertige gibt?"</em>  und als Antwort erwähnte ich ständig als auffälligstes Beispiel einen Laderegler mit MPPT-Algorithmus.  Aber um dies zu sagen und zu zeigen ... es ist viel interessanter und klarer, also erzähle ich Ihnen heute von meinem kleinen trägen Projekt eines solchen Controllers. </p><br><p>  Das Controller-Projekt ist geöffnet, alle Quelldateien sind auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github</a> verfügbar.  Der Controller selbst ist recht einfach zu implementieren, basiert auf der Topologie von Buck, verwendet verfügbare Komponenten und bietet eine gute Wiederholbarkeit auch ohne viel Wissen.  Das Layout der Anschlüsse und Komponenten ist so konzipiert, dass dieser Controller sowohl als Debug-Board für das Studium der Leistungselektronik als auch als fertiges Gerät verwendet werden kann. </p><br><p><img src="https://habrastorage.org/webt/m9/jz/zv/m9jzzv8udvu62hfujno-cwyeerg.jpeg" alt="MRT-Fotos"></p><a name="habracut"></a><br><h1 id="glava-1-chto-takoe-algoritm-mppt-i-zachem-on-nuzhen">  Kapitel 1. Was ist der MPPT-Algorithmus und warum wird er benötigt? </h1><br><p>  MPPT selbst ist der Prozess zum Ermitteln des maximalen Leistungspunkts eines Solarmoduls.  Das Vorhandensein dieses Algorithmus in der Steuerung ermöglicht es unter bestimmten Bedingungen, die Effizienz der Verwendung von Solarmodulen erheblich zu steigern.  Wenn ein Hersteller eine Leistung auf das Panel schreibt, z. B. 100 ... 200 ... 250 ... 320 W, bedeutet dies die Nennleistung des Solarpanels bei einer Sonneneinstrahlung von 1000 W / m <sup>2</sup> .  Natürlich nehmen die Hersteller die Paneele nicht mit nach draußen und warten nicht auf ideale Wetterbedingungen. Daher wird dieser Wert als Standard akzeptiert und auf dem Labortisch "erzeugt". </p><br><p>  Unter realen Bedingungen und bei klarem Himmel reicht die maximale Sonneneinstrahlung von 250 W / m <sup>2</sup> irgendwo in Norwegen bis 900-1000 W / m <sup>2</sup> in Nordafrika.  Daraus folgt, dass im Norden das Solarpanel seine deklarierte Leistung nicht abgeben wird, in Afrika ist es jedoch einfach.  ABER ... Sobald Wolken am Himmel erscheinen, die das Solarpanel verdecken, nimmt der Grad der Sonneneinstrahlung ab.  Erinnern Sie sich an das Wetter des letzten Monats, wie viele ideale Sonnentage haben Sie gesehen?  Wenn Sie aus Krasnodar kommen, dann vielleicht viel, aber die Bewohner des mittleren Wolkenstreifens sind definitiv mehr. </p><br><p>  Was ist eigentlich das Problem ... Mit einer Verringerung der Beleuchtung des Solarmoduls ändert sich die Position des maximalen Leistungspunkts (TMM) auf dem CVC des realen Solarmoduls.  Lassen Sie uns nun herausfinden, was TMM ist ... Dazu nehmen wir ein Solarpanel mit der angegebenen Leistung von 200 W (ich habe Delta BST200-24P) und entfernen die Strom-Spannungs-Kennlinie (I-V) bei einer Sonneneinstrahlung von 1000 W / m <sup>2 daraus</sup> : </p><br><p><img src="https://habrastorage.org/webt/19/of/fo/19offomrype-rernndjj3hb2wqm.png" alt="VAC des Solarpanels"></p><br><p><img src="https://habrastorage.org/webt/qz/ul/97/qzul97qjoj_0vwksddogizi9wkk.jpeg" alt="TTX Solarpanel"></p><br><p>  Wenn Sie sich das Leistungsdiagramm ansehen, wird deutlich die Spitze angezeigt, in der das Panel die maximal mögliche Leistung liefert - dies ist TMM.  Wenn Sie die Linie von diesem Punkt aus absenken, schneidet sie den CVC - die Koordinaten dieses Punkts sind genau das Ergebnis, das Sie finden müssen.  Einfach ausgedrückt: <strong>"MPPT ist der Prozess des Findens eines Punktes auf der I-V-Kennlinie, an dem das Produkt aus Strom und Spannung einen Maximalwert hat."</strong> </p><br><p>  Darüber hinaus ist darauf zu achten, dass das Solarpanel etwas mehr abgeben kann, das ist normal, weil  Ihre Wirksamkeit hängt nicht nur von der Sonneneinstrahlung ab, sondern auch von der Temperatur.  Wenn Sie das Panel in die Sonne stellen, erwärmt es sich nach einigen Stunden ziemlich stark und die Leistung sinkt um etwa 10%. </p><br><p>  Lassen Sie uns nun herausfinden, was genau der Laderegler tut und warum er eine MRT benötigt.  Wie bereits erwähnt, ändert sich der Sonneneinstrahlungsgrad während des Betriebs erheblich: Wolken, bewölktes Wetter, Morgendämmerung bzw. Sonnenuntergang, und die I-V-Charakteristik des Solarpanels ändert sich ebenfalls: </p><br><p><img src="https://habrastorage.org/webt/um/ll/w_/umllw__pu-2_11x5p3kdytfbjqm.png" alt="CVC vor Sonneneinstrahlung"></p><br><p>  Die Grafik zeigt die I - V - Kennlinie für 4 Fälle: 1000, 800, 600 und 400 W / m <sup>2,</sup> und dementsprechend haben wir für jeden Fall einen eigenen Punkt auf der I - V - Kennlinie, bei dem das Produkt aus Strom und Spannung einen Maximalwert hat.  <strong>Die Aufgabe des Ladereglers mit MPPT besteht darin, den maximalen Leistungspunkt für bestimmte Wetterbedingungen zu ermitteln.</strong>  Zum Beispiel leben Sie irgendwo in Woronesch, Sie haben Wärme und viel Sonnenenergie und Sie finden TMM und holen das Beste aus der Energie heraus, aber nach 15 Minuten stieg eine Wolke über Ihre Paneele und schloss die Paneele teilweise und der Sonnenwert änderte sich, und daher änderte sich die I-V-Charakteristik Paneele.  Damit sich der Laderegler an neue Bedingungen anpassen kann, muss er mit einer bestimmten Frequenz beispielsweise alle 5 Minuten Berechnungen durchführen und nach TMM nach einem neuen CVC suchen. </p><br><p>  Es gibt viele TMM-Suchalgorithmen, die von den einfachsten "0,8 * U <sub>xx</sub> " bis zu verschiedenen Scanalgorithmen mit neuronalen Netzen reichen. Ich werde die Algorithmen und ihre Implementierung im Code jedoch in einem separaten Artikel genauer beschreiben.  Ich hoffe, Sie verstehen, was TMM ist und warum wir danach suchen. Jetzt können Sie direkt zur Drüse gehen. </p><br><h1 id="glava-2-tehnicheskie-harakteristiki-i-funkcional-kontrollera">  Kapitel 2. Technische Daten und Controller-Funktionalität </h1><br><p>  Nun muss entschieden werden, welche Steuerung die erforderliche Funktionalität bereitstellen soll.  Zunächst lädt der Controller die Batterie auf. Daher muss am Ausgang eine CC / CV-Steuerung (Stabilisierung von Strom und Spannung) implementiert werden. Dazu müssen Sie den Strom und die Spannung am Ausgang messen.  Zweitens ist es für die Suche nach TMM erforderlich, die I - V - Charakteristik des Solarpanels zu messen, was bedeutet, dass Strom und Spannung am Eingang gemessen werden müssen.  Drittens sollte es einen Abwärts-Gleichstrom / Gleichstrom geben, der die Eingangsspannung auf 12 oder 24 V senkt. In diesem Fall handelt es sich um einen synchronen Buck.  Auf diese Weise können Sie die Grundfunktionalität des Geräts implementieren. Das Funktionsdiagramm sieht daher folgendermaßen aus: </p><br><p><img src="https://habrastorage.org/webt/kr/eu/e0/kreue0025-em-j32uy7zfzqo2gw.png" alt="Funktionsplan"></p><br><p>  Wie Sie sehen können, gibt es nichts Kompliziertes, die Schaltung ist dem Beispiel aus diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> sehr ähnlich und die einzigen Unterschiede bestehen in den zusätzlichen Rückkopplungsschaltungen zur Implementierung des TMM-Suchalgorithmus und des Ladevorgangs.  Darüber hinaus ist es erforderlich, einen Schutz vor Überhitzung durch Durchströme zu implementieren, einige Schnittstellen für die Kommunikation mit der Außenwelt hinzuzufügen und die Firmware bequem zu aktualisieren. </p><br><h5 id="tehnicheskie-harakteristiki">  Technische Eigenschaften: </h5><br><ul><li>  Eingangsspannung: 15 ... 60V </li><li>  Ausgangsspannung: 12 / 24V </li><li>  Nennausgangsstrom: 20A </li><li>  MRT-Algorithmen: Ja </li><li>  Konvertierungsfrequenz: 100 kHz </li><li>  Überhitzungsschutz: Ja </li><li>  Durch Stromschutz: Ja </li><li>  Batterieschutz: OVP und OCP </li><li>  Schnittstellen: USB, Modbus </li><li>  Ressource: mindestens 50.000 Stunden </li><li>  Gesamtabmessungen: 1109020 mm </li></ul><br><p>  Diese Lösung enthält keine besonderen Probleme. Die Hauptursache ist die erhöhte Zuverlässigkeit, die Effektivität von TMM-Algorithmen und die Aufrechterhaltung angemessener Steuerungskosten.  Von den Annehmlichkeiten wurde beschlossen, galvanisch entkoppeltes USB zum Einstellen und Flashen des Steuer-Mikrocontrollers zu verlegen. + Es kann zum Debuggen verwendet werden, wenn Sie SWO nicht mögen.  Für die Implementierung der Fernsteuerung und -überwachung wurde der RS-485 installiert, der zuverlässig und kostengünstig zu implementieren ist und es Ihnen ermöglicht, die Kommunikation über eine Entfernung von 1000 Metern zu organisieren.  Von Wi-Fi und anderen Dingen lehnte das Radio sofort ab, weil  Die Steuerung wird normalerweise in einer Metallplatte und optional in einem Stahlbetongebäude betrieben. </p><br><h1 id="glava-3-vybor-komponentov">  Kapitel 3. Komponentenauswahl </h1><br><p>  Auf KDPV ist ersichtlich, dass das Gerät aus zwei Leiterplatten besteht: dem 4-Lagen-Steuermodul und der 2-Lagen-Hauptplatine.  Aufmerksam kann sein, dass das Steuermodul der Lösung aus dem letzten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> ähnelt, nur gründlich überarbeitet.  In der Tat wurde nach dem Testen der vorherigen Version der <em>Steuerplatine</em> und nach Diskussionen in den Kommentaren beschlossen, eine Reihe globaler Änderungen vorzunehmen: </p><br><ul><li>  Verweigerung der vertikalen Installation im Stecker und Übergang zur horizontalen.  Dies ermöglichte es uns, das Problem mit dem Stecker zu lösen und auf die üblichen 2,54-mm-PLS zu verzichten sowie die Höhe des Geräts erheblich zu reduzieren.  Bei der vertikalen Version würde die Höhe des Controllers 60 mm und nicht 20 mm betragen, und es besteht eine große Chance, die Steuerplatine abzubrechen.  Jetzt hebt es sich nicht vom Hintergrund der anderen Komponenten ab und nimmt dennoch wenig Platz ein; </li><li>  Plattenabmessungen auf 90x35 mm reduziert; </li><li>  Der STM32F334R8T6-Controller wurde durch einen kompakteren und billigeren STM32F334C8T6 ersetzt.  Dieser Austausch führte auch zu einer Verringerung der Anzahl der Kanäle zur Steuerung der Halbbrücke von 5 auf 4.  Wie die Praxis gezeigt hat, übernimmt dieser Controller die Steuerung nicht sofort durch 5 Halbbrücken, es sei denn, es handelt sich um sehr einfache Algorithmen.  Auf dieser Grundlage wurde beschlossen, das LQFP-64-Paket zugunsten des LQFP-48 aufzugeben. </li><li>  USB galvanisch isoliert, genauer gesagt, die USB-UART-Brücke hinzugefügt, weil  Der Mikrocontroller selbst verfügt nicht über eine USB-Hardwareschnittstelle. </li><li>  PHY-Chip für RS-485 von der Steuerplatine entfernt, as  Nicht jeder braucht es und nicht immer, aber für seine mögliche Verwendung werden ein UART und ein zusätzliches GPIO zum Empfangen / Senden der Steuerung an den Anschluss ausgegeben.  Auch jetzt können Sie auf der Hauptplatine galvanisch isoliertes PHY platzieren und sind nicht an meine Entscheidung gebunden. </li><li>  Zusätzlich zur SWD-Schnittstelle wurde beschlossen, SWO an den Debugging-Connector auszugeben, um das Debuggen des Programms zu vereinfachen. </li></ul><br><p><img src="https://habrastorage.org/webt/bz/tw/cd/bztwcd9f2vlp49nv4ajjzq5pux4.jpeg" alt="Vorstand"></p><br><p>  Fahren wir nun mit der Auswahl der Komponenten für den Haupt- (Leistungs-) Teil des Konverters fort.  In meiner vorherigen Geschichte über die Buck-Topologie habe ich über die Auswahl der Leistungskomponenten (Transistoren, Kondensatoren, Induktivitäten) und die Methode zur Berechnung ihrer Nennwerte gesprochen.  Heute möchte ich etwas mehr über ebenso wichtige Komponenten sprechen, nämlich über den Power Key Management-Treiber, aktuelle Sensoren und mehr. </p><br><h5 id="datchik-toka">  Stromsensor </h5><br><p>  Um die Batterieladung zu steuern und die Strom-Spannungs-Kennlinie des Solarpanels zu messen, muss ein Gleichstrom im Bereich von 0 bis 20 A gemessen werden.  Es gibt nicht viele Möglichkeiten, Gleichstrom zu messen. Die effektivsten und einfachsten Methoden sind ein Stromshunt und ein Hall-Effekt-Sensor.  In der ersten Version habe ich eine Reihe von "Shunt + INA194" ausprobiert. Die Option funktioniert im Allgemeinen, aber der Monitor selbst war ziemlich laut und es gab ein Problem beim Messen von Strömen unter 3-4A.  Das Problem wurde gelöst, indem der Nennwert des Shunts und des Digitalfilters erhöht wurde, aber dann die auf den Shunt in Form von Wärme abgegebene Leistung zunahm, was ich nicht sehr wollte. </p><br><p>  Anfangs habe ich die Option mit der Verwendung von Hallsensoren sofort geworfen, nämlich der ACS-Serie (zum Beispiel ACS758 oder ACS711), weil  Ich habe bereits in der Vergangenheit versucht, sie anzuwenden, aber sie haben viel gelogen und ihr Messbereich ist niedrig.  In einer der Diskussionen sprach ein Mann über die erfolgreiche Erfahrung mit diesen Sensoren. Es stellte sich heraus, dass relativ neue Serien nicht mehr auf die geringste Störung reagierten. Hauptsache, es gab nichts Eisen oder etwas, das in ihrer Nähe magnetisiert werden konnte.  Ich muss Gleichstrom in einem System messen, in dem die Änderungsrate des Stroms nicht hoch ist und daher ein Band von 100 kHz ausreicht.  Aufgrund der Einfachheit und des Preises der Lösung habe ich in der zweiten Version des MPPT-Controllers ACS713ELCTR-30A installiert.  Allegro hat zwei Versionen von Sensoren - DC und DC / AC. Ich muss die Änderung nicht messen. Daher liegt die Wahl zugunsten von DC auf, die ebenfalls einen hohen Wert von "Volt pro Ampere" haben.  Dies ermöglichte es, nicht nur große, sondern auch kleine Ströme mit einem realen Fehler von ± 5% genau zu messen.  Der Schaltkreis dieses Sensors ist äußerst einfach: </p><br><p><img src="https://habrastorage.org/webt/ep/-r/r2/ep-rr2vao5uk4rxhnpkxcibhgos.png" alt="Stromsensorkreis"></p><br><p>  Der Einschluss ist Standard, es gibt keine Magie in der Schaltung. Das einzige, was getan werden muss, ist, den Ausgangsbereich des 0 ... 5 V-Sensors mit dem zu "koordinieren", was der ADC des STM32-Mikrocontrollers messen kann, nämlich mit dem Bereich von 0 ... 3,3 V.  Der Sensor hat einen Spannungsausgang, ist linear und eine Erhöhung der Ausgangsspannung um 133 mV bedeutet eine Erhöhung des durch den Sensor fließenden Stroms um 1A.  Basierend darauf beträgt die minimale Ausgangsspannung 0 V und die maximale 30 A * 133 mV / A = 3,99 V.  Theoretisch konnte der Spannungsteiler nicht eingestellt werden, weil  Der maximale Strom beträgt nur 20A und daher liegt die Ausgangsspannung innerhalb von 2,66 V und gefährdet den ADC-Eingang in keiner Weise. Es ist jedoch besser, auf Nummer sicher zu gehen.  Vielleicht entferne ich nach dem Testen und einem langen Einfahren des Geräts immer noch den Teiler und setze einen Spannungsfolger an den Operationsverstärker. </p><br><h5 id="drayver-upravleniya-zatvorami-tranzistorov">  Transistor-Gate-Treiber </h5><br><p>  Schon in der Phase der Idee habe ich beschlossen, die vollständige galvanische Trennung des Steuerkreises vom Stromkreis sofort aufzugeben. Es ist banal teuer, obwohl es die Interferenzen beseitigt und den digitalen Teil schützt.  Die Einführung einer galvanischen Trennung von 2 Spannungen und eines Treibers würde den Preis des Wandlers um 40% erhöhen.  Daher musste ich meine bevorzugten Treiber der Infineon 1ED / 1EDI-Serie ablehnen und etwas Anständiges mit Bootstrap-Leistung für den oberen Schlüssel auswählen. Meine Wahl fiel auf eine ziemlich neue Lösung - NCP5183DR2G.  Der Treiber erwies sich als sehr stabil im Betrieb und ausreichend, um ein Paar Mosfets mit einer Frequenz von 100 kHz zu steuern.  Ich habe ein Minus darin gefunden - das Fehlen eines separaten Eingangs, z. B. ShutDown oder Enable, um den Treiber im Falle eines Unfalls auszuschalten. Um den Schutz zu implementieren, müssen Sie zusätzliche diskrete Logik installieren oder den Hardware-Eingang FAULT im STM32F334-Mikrocontroller selbst verwenden.  Ich habe mich für die zweite Option entschieden und sie hat mich bisher nicht enttäuscht, obwohl ich anfangs skeptisch war, wie zuverlässig eine solche Lösung ist.  Die Transistorsteuerschaltung sieht folgendermaßen aus: </p><br><p><img src="https://habrastorage.org/webt/lb/ga/kd/lbgakdmt_teki4jkembec5gwgwe.png" alt="Treiberschaltung"></p><br><p>  Die Lösung ist einfach und klar. Das einzige, was ich von mir hinzufügen möchte, ist, dass der C1-Kondensator aus Keramik mit einem X7R-Dielektrikum und vorzugsweise nicht dem faulsten sein sollte. Das Original Yageo / Murata / Samsung ist für alle ausreichend.  Der Rest des losen Pulvers kann eine einfachere Marke sein.  Übrigens können Sie in diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> über die "Qual der Wahl" des Nennwerts der Gate-Widerstände R1 und R5 lesen. </p><br><h5 id="vyhodnye-kondensatory">  Ausgangskondensatoren </h5><br><p>  Ich habe oben die Priorität der Zuverlässigkeit und der Ressourcen des Konverters angegeben, und daher ist es notwendig, alle Schwachstellen zu beseitigen.  Meiner Meinung nach gibt es bei modernen DC / DC-Wandlern nur eine Schwachstelle - Elektrolytkondensatoren, die nach einer Weile „trocknen“ und sich verschlechtern, was zuerst zu einer Zunahme der Welligkeit und Überhitzung und dann zum Ausfall des Wandlers führt. </p><br><p>  In meinem Laderegler gibt es bis zu zwei solcher Stellen: Kondensatoren am Ein- und Ausgang.  Es wurde beschlossen, die Ausgangselektrolyte durch Festkörperpolymerkondensatoren (wie in Ihren Grafikkarten) zu ersetzen, die viel einfacher mit Strömen von mehreren zehn Ampere arbeiten können und eine Ressource haben, die um eine Größenordnung höher ist als die des Elektrolytkondensators höchster Qualität.  Sie haben ein Minus - der Preis, dieses Vergnügen von Panasonic kostet $ 2 / Stück, aber es lohnt sich. </p><br><p>  Am Eingang des Geräts kann die Spannung 60 V erreichen, was bedeutet, dass Festkörperpolymerkondensatoren nicht mehr zugeführt werden können, sie existieren einfach nicht, maximal 35 V.  Zwar gibt es Hybridoptionen, dies ist eine Zwischenverbindung zwischen dem Elektrolyten und einem Festkörperkondensator, sie sind bis zu 100V.  Bei diesem Kondensatortyp wird der flüssige Elektrolyt durch einen pastösen ersetzt, wodurch sich seine Ressource mehrmals erhöhen lässt. </p><br><p><img src="https://habrastorage.org/webt/gl/tf/wd/gltfwd1e_9rxm2hpssaf225lico.jpeg" alt="MRT-Fotos"></p><br><p>  Die aufmerksamsten können feststellen, dass die Ausgangsfestkörperkondensatoren auf zwei Platinen unterschiedlich sind.  Ich denke, jeder "schätzte" die Kosten für einen 120-uF-35-V-Kondensator, der Elektrolyt von Wurth kostet zehnmal billiger.  Auf dieser Grundlage habe ich mich für Tests entschieden, um eine Alternative zu den 35SEK330M-Kondensatoren von Panasonic zu kaufen.  Als Alternative gibt es eine solche asiatische Firma, <em>Lelon</em> , die (in ihren Worten) ein vollständiges Analogon von Panasonic-Kondensatoren herstellt.  Ich habe das Original auf eine Platine gelegt, auf ein anderes Analogon. Die Geräte selbst wurden bereits seit ungefähr einem Monat getestet. Bis der Unterschied wirklich bemerkt wird, wollen wir sehen, wie die endgültige Ressource aussehen wird. Für diejenigen, die den Preis fünfmal auf 0,4 USD / Stück senken möchten, empfehle ich Ihnen, darüber nachzudenken. </p><br><h5 id="obschie-svedeniya-po-komponentam">  Komponentenübersicht </h5><br><p>  Ich möchte gesondert auf die Politik der Auswahl von Komponenten und Lösungen eingehen.  Da die Idee die Verwendung dieses Controllers nicht nur zum Lernen auf dem Tisch, sondern auch zum Arbeiten vor Ort beinhaltet, wurde beschlossen, nur vertrauenswürdige Hersteller und keine chinesischen Komponenten (außer Erfahrung mit <em>Lelon</em> ) und verschiedene Handwerke mit Aliexpress zu verwenden.  In meiner Version und in der Stückliste erscheinen Originale mit Digikey von Herstellern wie Infineon, TI, ON, ST, Yageo, Bourns und anderen.  Grundsätzlich verbietet Ihnen niemand, Komponenten mit demselben Aliexpress einfacher zu platzieren, sondern bereit zu sein, die Zuverlässigkeit und Effizienz der Steuerung zu verringern. </p><br><h1 id="glava-4-o-proekte-i-ishodnikah">  Kapitel 4. Informationen zum Projekt und zu den Quellcodes </h1><br><p>  Ich habe bereits in meinem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel über Buck</a> über Leistungskomponenten und Berechnungsmethoden geschrieben. Sie können ihn hier lesen.  Ich werde nur die Ergebnisse geben, die ich erhalten habe: </p><br><ul><li><p>  Die Induktivität des Leistungsinduktors beträgt 30 μH, gewickelt auf einen R32 / 20/10-Ring aus Kool Mu-Material.  Der Ring wird offen mit einem Rand ausgewählt, weil  Experimente mit Frequenz- und Stromanstieg waren geplant; </p><br></li><li><p>  Die Kapazität der Ausgangskondensatoren beträgt etwa 300 Mikrofarad, in Wirklichkeit ist die Kapazität deutlich höher, was die Ausgangswelligkeit verringert.  Ich habe versucht, mit 3 Kondensatoren zu arbeiten. Alles ist in Ordnung. Wenn Sie es also wiederholen möchten, können Sie die Hälfte der Sitze für die Ausgangskondensatoren leer lassen.  Grundsätzlich können Sie versuchen, 6 gewöhnliche Elektrolytkondensatoren zu löten, wenn es nicht möglich ist, Festkörperkondensatoren zu kaufen.  Nach meinen Annahmen funktioniert der Controller problemlos. </p><br></li><li><p>  Transistoren ( <em>IPD053N08N3GATMA1</em> ) Ich habe diejenigen ausgewählt, die ich auf Lager hatte und die ziemlich einfach zu kaufen sind.  Wenn Sie bereits die Schlüssel haben oder die von mir nicht kaufen konnten, wählen Sie einen Transistor mit einem Kanalwiderstand von nicht mehr als 8 mOhm und einem Gate von nicht mehr als 100 nC.  Andernfalls sinkt der Wirkungsgrad ausreichend und die Transistoren überhitzen sich erheblich. </p><br></li></ul><br><p>  Es gibt wahrscheinlich auch diejenigen, die zu faul sind, um zu Github zu gehen. Daher lasse ich das vollständige Gerätediagramm im PDF-Format: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Leistungsteil des Ladereglers</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Universelle Steuerkarte</a> </li></ul><br><p>  Der eiserne Teil des Projekts wurde in Altium Designer 19 abgeschlossen, und das Projekt kann auch in Curcuit Studio geöffnet werden.  Für diejenigen, die sich nicht auf den Kauf von Software oder Piraterie einlassen möchten, gibt es ein schematisches Diagramm in PDF- und Gerber-Dateien. Dies reicht aus, um Leiterplatten zu bestellen und selbst einen MRPT-Controller zu bauen. </p><br><p>    …     ""             github,         ,          .          dc/dc ,    -, -, -,  ,        . </p><br><h1 id="zaklyuchenie">  Fazit </h1><br><p>       , ..     ,   , ,           .1         .                —   10 ,   HIN  LIN   (GND).       ,     ""    . </p><br><p>      PCBway      ,       .     ,     , <del>   </del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ihre Unterstützung wird für Hardware ausgegeben und dies wird zu einem interessanten Artikel führen. </font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe auch noch 2 Sätze Leiterplatten übrig. Wenn jemand einen Controller zusammenbauen möchte, gebe ich gute Hände kostenlos. </font><font style="vertical-align: inherit;">Sie müssen nur Ihre Kommentare und Vorschläge sammeln und, wenn Sie möchten, mir schreiben. </font><font style="vertical-align: inherit;">Diejenigen, die persönlich schreiben möchten.</font></font></p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github-Projekte</font></font></a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de454024/">https://habr.com/ru/post/de454024/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de454006/index.html">Über IT ohne Bindungen: Werbung, Bindung und Umsatz in Unternehmen aus der GUS und den USA</a></li>
<li><a href="../de454010/index.html">Hochschul- und Weiterbildung in IT: Ergebnisse der My Circle-Studie</a></li>
<li><a href="../de454012/index.html">Das Ende der Ära der Reparaturgeräte. Wie Apple und Amazon alte Elektronikhändler ausräumen</a></li>
<li><a href="../de454016/index.html">3CX v16 Update 1, 3CX App für iOS Beta und die neue Version von 3CX Call Flow Designer</a></li>
<li><a href="../de454018/index.html">iOS Digest Nr. 6 (17. - 30. Mai)</a></li>
<li><a href="../de454028/index.html">Skizzen mit PHP Russia 2019: sauberer Code, dunkle Magie</a></li>
<li><a href="../de454030/index.html">Odigest: interessant für Designer der Woche</a></li>
<li><a href="../de454032/index.html">Saubere schnelle Architektur für Router und Datenübergabe</a></li>
<li><a href="../de454034/index.html">Erstes Modell: Fashion MNIST Dataset</a></li>
<li><a href="../de454036/index.html">6 Wege, um zur Hölle der vorgefertigten Lösungen zu gelangen und ein oder zwei Millionen zu senken</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>