<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🔬 🍭 🍨 +10 aturan kode bersih dari pengembang Angular 👦🏿 🤙 🧑🏻‍🤝‍🧑🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! 

 Hari ini saya ingin menyentuh pada topik kode yang benar dalam bekerja dengan Angular. Rekomendasi ini akan membuat kode Anda lebih efe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>+10 aturan kode bersih dari pengembang Angular</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426935/">  <b>Halo, Habr!</b> <br><br>  Hari ini saya ingin menyentuh pada topik kode yang benar dalam bekerja dengan Angular.  Rekomendasi ini akan membuat kode Anda lebih efektif dalam praktik, serta memungkinkan saya untuk tidak terlalu menuntut kode junior. <a name="habracut"></a><br><br>  1. Hindari logika dalam pola <br><br>  Dan hal pertama yang ingin saya sebutkan adalah logika dalam template.  Jika Anda memiliki semacam logika di templat Anda, meskipun sederhana &amp;&amp;, penting untuk mengekstraknya ke dalam komponen Anda.  Kehadiran logika dalam templat berarti bahwa tidak mungkin untuk mengujinya, dan karena itu lebih rentan terhadap kesalahan saat mengubah kode templat. <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> *</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ngIf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"isShow"</span></span></span><span class="hljs-tag">&gt;</span></span> Example <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ngOnInit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>): </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isShow = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  2. garis "aman" <br><br>  Misalkan Anda memiliki variabel tipe string yang hanya dapat memiliki serangkaian nilai tertentu.  Alih-alih mendeklarasikannya sebagai tipe string, Anda dapat mendeklarasikan daftar nilai yang sangat mungkin ini sebagai tipe. <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>: <span class="hljs-string"><span class="hljs-string">'One'</span></span> | <span class="hljs-string"><span class="hljs-string">'Two'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isShow) { <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-string"><span class="hljs-string">'One'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-string"><span class="hljs-string">'Two'</span></span> }</code> </pre><br>  Dengan mendeklarasikan jenis variabel dengan cara ini, kita dapat menghindari kesalahan saat menulis kode pada waktu kompilasi, bukan pada saat runtime. <br><br>  3. Aturan metode panjang <br><br>  Ini demo kode yang mubazir.  Penting untuk dipahami bahwa tidak ada yang suka metode panjang. <br>  Metode yang panjang biasanya menunjukkan bahwa mereka melakukan terlalu banyak hal.  Ada kemungkinan bahwa metode itu sendiri melakukan satu hal, tetapi di dalamnya ada beberapa operasi lain yang dapat ditempatkan dalam metode lain yang memiliki tujuan logisnya sendiri.  Metode yang panjang sulit dibaca, dipahami, dan dipelihara.  Mereka juga rentan kesalahan, karena mengubah satu hal dapat mempengaruhi banyak hal lain dalam metode ini.  Saya yakin, bukan untuk saya sendiri, metode seperti itu membuat refactoring (yang merupakan kunci dalam aplikasi apa pun) lebih sulit daripada yang seharusnya. <br><br>  4. Duplikasi kode <br><br>  Jika Anda memiliki kode yang berulang di berbagai tempat dalam proyek.  Ekstrak kode berulang menjadi metode yang terpisah dan gunakan sebagai ganti kode berulang. <br><br>  Masalah dengan duplikasi kode adalah bahwa jika kita ingin membuat perubahan pada logika kode ini, kita harus melakukannya di beberapa tempat.  Ini membuatnya sulit untuk mempertahankan kode, yang pada gilirannya meningkatkan risiko kesalahan muncul.  Juga dibutuhkan lebih banyak waktu untuk membuat perubahan pada logika.  Dengan kode duplikat yang lebih sedikit, aplikasi akan lebih cepat. <br><br>  5. trackBy <br><br>  Mari kita encerkan daftar seluk-beluk bekerja dengan Angular. <br><br>  Sering digunakan oleh ngFor untuk melakukan iterasi pada array dalam template, seringkali tidak digunakan dalam fungsi seperti trackBy.  Gunakan dalam bekerja dengan ngFor.  Berkat hal sepele seperti itu, Anda akan menerima pengidentifikasi unik untuk setiap elemen. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> *</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ngFor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"let item of items; trackBy: trackByFn"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ item }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="hljs axapta">trackByFn(<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>, item) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> item.id; <span class="hljs-comment"><span class="hljs-comment">//  ,   }</span></span></code> </pre> <br>  Ketika array berubah, Angular menampilkan ulang seluruh pohon DOM.  Tetapi jika Anda menggunakan trackBy, maka Angular akan tahu elemen mana yang telah berubah dan hanya akan mengubah DOM untuk elemen tertentu itu. <br><br>  6. Berlangganan di template <br><br>  Perhatikan contoh berlangganan ke komponen yang diamati: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{{ text }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="hljs javascript">blablaObservable .pipe( map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function"> =&gt;</span></span> value.item), takeUntil(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._destroyed$) ) .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.text = item);</code> </pre> <br>  Sekarang Anda telah melihat bagaimana tidak melakukannya.  Bukannya saya mendesak Anda untuk secara ketat mengikuti rekomendasi saya, hanya saja pengembang sering tidak menyelidiki apa yang terjadi dalam kode mereka.  Jadi mengapa itu buruk dan bagaimana melakukannya dengan baik?  Faktanya adalah kita menghadapi risiko tidak sengaja berhenti berlangganan dari suatu komponen, yang dapat menyebabkan kebocoran memori.  Opsi terbaik adalah menggunakan langganan dalam templat itu sendiri: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{{ text$ | async }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.text$ = blablaObservable .pipe( map(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.item) );</code> </pre> <br>  Berkat async, kami tidak perlu khawatir tentang berhenti berlangganan, karena ia melakukannya secara otomatis, dan ini menyederhanakan kode, menghilangkan kebutuhan untuk mengelola langganan secara manual.  Ini juga mengurangi risiko berhenti berlangganan secara tidak sengaja dari komponen yang saya sebutkan di atas. <br><br>  7. Memuat malas <br><br>  Jika memungkinkan, gunakan pemuatan modul malas di aplikasi Angular Anda.  Pemuatan malas adalah ketika Anda mengunduh sesuatu hanya saat digunakan, misalnya, memuat komponen hanya saat Anda perlu melihatnya.  Ini akan mengurangi ukuran aplikasi yang dapat diunduh dan dapat meningkatkan waktu pemuatan aplikasi tanpa memuat modul yang tidak digunakan. <br><br>  // app.routing.ts <br><br><pre> <code class="hljs css">{ <span class="hljs-attribute"><span class="hljs-attribute">path</span></span>: <span class="hljs-string"><span class="hljs-string">'dashboard'</span></span>, loadChildren: <span class="hljs-string"><span class="hljs-string">'lazy-load.module#DashboardModule'</span></span> }</code> </pre> <br>  8. Berlangganan di dalam berlangganan <br><br>  Terkadang Anda mungkin membutuhkan nilai dari lebih dari satu yang dapat diamati untuk menyelesaikan suatu tindakan.  Dalam hal ini, hindari berlangganan satu yang dapat diamati di blok berlangganan yang lain yang dapat diamati.  Sebagai gantinya, gunakan operator rantai yang sesuai.  Pernyataan berantai dijalankan berdasarkan observasi dari pernyataan di depannya.  Beberapa operator rantai, seperti withLatestFrom, menggabungkanLatest, dll ... <br><br>  Kepada: <br><br><pre> <code class="hljs javascript">oneObservable$.pipe( take(<span class="hljs-number"><span class="hljs-number">1</span></span>) ) .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">oneValue</span></span></span><span class="hljs-function"> =&gt;</span></span> { twoObservable$.pipe( take(<span class="hljs-number"><span class="hljs-number">1</span></span>) ) .subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">twoValue</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log([oneValue, twoValue].join(<span class="hljs-string"><span class="hljs-string">', '</span></span>)); }); });</code> </pre> <br>  Setelah: <br><br><pre> <code class="hljs powershell">oneObservable<span class="hljs-variable"><span class="hljs-variable">$</span></span>.pipe( withLatestFrom(twoObservable<span class="hljs-variable"><span class="hljs-variable">$</span></span>), first() ) .subscribe(([<span class="hljs-type"><span class="hljs-type">oneValue</span></span>, <span class="hljs-type"><span class="hljs-type">twoValue</span></span>]) =&gt; { console.log([<span class="hljs-type"><span class="hljs-type">oneValue</span></span>, <span class="hljs-type"><span class="hljs-type">twoValue</span></span>].join(<span class="hljs-string"><span class="hljs-string">', '</span></span>)); });</code> </pre> <br>  9. Caching <br><br>  Saat mengajukan permintaan ke API, respons dari beberapa di antaranya sering tidak berubah.  Dalam kasus ini, Anda bisa menambahkan mekanisme caching dan menyimpan nilai dari API.  Ketika permintaan harus diulangi ke API yang sama, periksa apakah ada nilai dalam cache, dan jika demikian, gunakan itu.  Kalau tidak, buat panggilan API dan tembolok hasilnya.  Jika perlu, Anda dapat memasukkan waktu cache, tempat Anda dapat memeriksa kapan terakhir kali, dan memutuskan apakah akan memanggil API.  Memiliki mekanisme caching menghindari permintaan API yang tidak diinginkan.  Karena penghindaran permintaan duplikat ini, kecepatan aplikasi ditingkatkan, karena kami tidak perlu menunggu jawaban dan karenanya mengunduh informasi yang sama berulang kali. <br><br>  10. Menghancurkan menjadi komponen yang dapat digunakan kembali <br><br>  Bagilah komponen besar menjadi yang lebih kecil.  Sederhanakan komponen tersebut dan buat mereka sebodoh mungkin, karena ini akan membuatnya bekerja dalam lebih banyak skenario.  Pembuatan komponen seperti itu berarti bahwa komponen itu sendiri tidak memiliki logika khusus dan bekerja hanya berdasarkan input dan output yang disediakan untuk itu.  Biasanya, keturunan terakhir di pohon komponen akan menjadi yang paling sederhana.  Hal ini dilakukan berdasarkan kemudahan penggunaan komponen tersebut, komponen tersebut cenderung tidak mengalami kesalahan.  Komponen yang dapat digunakan kembali juga mengurangi duplikasi kode, yang membuatnya lebih mudah untuk mempertahankan dan membuat perubahan. <br><br>  <b>Apakah Anda ingin melanjutkan kolom seperti itu?</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id426935/">https://habr.com/ru/post/id426935/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id426925/index.html">Ulasan Haiku R1 / beta1 - BeOS revisi 18 tahun setelah rilis resmi terakhirnya</a></li>
<li><a href="../id426927/index.html">Transisi fase video game dan keseimbangan gim</a></li>
<li><a href="../id426929/index.html">Bagaimana aplikasi keuangan pribadi disinkronkan dengan bank</a></li>
<li><a href="../id426931/index.html">Cara pergi bekerja di Cote d'Azur dan mendapatkan paspor Prancis dalam 3 tahun</a></li>
<li><a href="../id426933/index.html">Desain frontend</a></li>
<li><a href="../id426937/index.html">Anggota tubuh bionik belajar membuka bir</a></li>
<li><a href="../id426939/index.html">Mahasiswa pascasarjana menyelesaikan masalah mengkonfirmasikan komputasi kuantum</a></li>
<li><a href="../id426941/index.html">Tentang pertanyaan kecepatan dan mengukurnya di Arduino</a></li>
<li><a href="../id426943/index.html">Terjemahan Rusia paling komprehensif dari Harvard Programming Course 2015 CS50 2015, gratis di YouTube</a></li>
<li><a href="../id426945/index.html">Apa yang saya sukai tentang Paul Allen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>