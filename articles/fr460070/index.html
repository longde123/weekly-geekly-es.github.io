<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕺🏻 😗 👩🏼‍🔧 Artisanat à partir de disques durs inactifs - mini pompe 👩🏿‍🔬 💅 🗂️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="D'une certaine manière, j'avais besoin d'une pompe à eau pour les futurs produits maison. Oui, ce n'est pas simple - avec des restrictions de taille -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Artisanat à partir de disques durs inactifs - mini pompe</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460070/"><img src="https://habrastorage.org/webt/97/oj/ug/97ojuga_jqyheaiultzk5b3fpla.jpeg"><br><br>  D'une certaine manière, j'avais besoin d'une pompe à eau pour les futurs produits maison.  Oui, ce n'est pas simple - avec des restrictions de taille - épaisseur jusqu'à 25 mm, largeur jusqu'à 50 mm (longueur - vous pouvez déjà varier).  Des caractéristiques souhaitées - une pression de 1m et un débit de 100l / h.  Ne trouvant pas ce qu'il voulait dans les ventes (principalement en termes de taille), dans son <s>obstiné</s> obstiné, il s'est mis à mettre en œuvre sa solution à ce problème! <br><br>  <b>Attention - beaucoup de photos!</b> <br><a name="habracut"></a><br><h4>  <font color="dodgerblue">"Cerveaux" et un peu d'histoire:</font> </h4><br>  À strictement parler, l'idée d'utiliser des moteurs HDD pour les pompes n'est pas nouvelle.  Depuis 2009, une branche entière a été maintenue dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un forum bien connu</a> .  Ainsi, il visait à l'origine à fabriquer une pompe à partir d'un disque dur «portable» et à trouver un pilote approprié avec des touches d'alimentation intégrées et un contrôle sans capteur. <br><br>  Mais «hors de la boîte», je n'ai pas pu apprendre de l'expérience.  Une série de tests avec différents pilotes (MTD6501C, DRV11873 et un certain nombre d'autres métiers chinois) a donné un résultat décevant: les moteurs plus gros de 3,5 disques fonctionnent parfaitement.  Mais avec de petits moteurs, au mieux, ils parviennent à démarrer les unités, et ils fonctionnent de manière extrêmement instable.  Avec un résultat aussi décevant, une vieille idée a été abandonnée et au bord de l'oubli. <br><br>  Mais relativement récemment, je suis tombé sur un pilote assez intéressant de TI- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DRV10987</a> .  Avec ses dimensions modestes, il a un potentiel assez impressionnant: <br><br><ul><li>  Tension de fonctionnement de 6v à 28v </li><li>  Convertisseur abaisseur 5v intégré (vous pouvez alimenter le MK pour le contrôle) </li><li>  Courant de fonctionnement constant jusqu'à 2A (crête - 3A) </li><li>  Un grand nombre de paramètres définis par logiciel (réglage des valeurs des registres de configuration sur le bus I2C) pour contrôler le fonctionnement du moteur </li><li>  Redémarrage automatique du moteur après un arrêt / une panne d'urgence (si les conditions de la panne sont passées) </li><li>  Protection contre les surintensités </li><li>  Protection contre les surtensions </li><li>  Détection d'arrêt / verrouillage du rotor </li><li>  Arrêt lorsque le contrôleur surchauffe </li></ul><br>  Armé d'un <i>arduino</i> (pardonnez-moi ce mot abusif des ingénieurs en électronique locaux) pour définir les paramètres définis par la carte LUT pour ce pilote, j'ai approfondi les expériences de démarrage des moteurs.  Eh bien, ce contrôleur ne m'a pas déçu!  Malgré la méthode appliquée de "piquer scientifique" dans la sélection des paramètres, il était possible de trouver une approche à n'importe quel moteur du disque dur! <br><br>  M'a aidé dans ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>configurateur de paramètres en ligne personnalisé</b></a> .  Utilisez sur la santé!) <br><br><div class="spoiler">  <b class="spoiler_title">Voici un croquis sur le versement de paramètres via Arduino:</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;Arduino.h&gt; #include &lt;Wire.h&gt; #define I2C_DRV10983_Q1_ADR 0x52 #define Fault_Reg 0x00 #define MotorSpeed_Reg 0x01 #define DeviceIDRevisionID_Reg 0x08 #define SpeedCtrl_Reg 0x30 #define EEPROM_Access_Code_Reg 0x31 #define EEPROM_EeReady_Reg 0x32 #define EEPROM_Iindividual_Access_Adr_Reg 0x33 #define EEPROM_Individual_Access_Data_Reg 0x34 #define EEPROM_Access_Reg 0x35 #define EECTRL_Reg 0x60 void setup() { Serial.begin(9600); Wire.begin(); } byte readByAdress(byte reg_adr, unsigned int &amp;result) { //I2C write 2-byte register byte i = 0, err = 0; byte bytes[2] = {0, 0}; Wire.beginTransmission(I2C_DRV10983_Q1_ADR); Wire.write(reg_adr); err = Wire.endTransmission(); if(err!=0) return err; Wire.requestFrom(I2C_DRV10983_Q1_ADR, 2); while(Wire.available()) { bytes[i] = Wire.read(); i++; } result = ((bytes[0] &lt;&lt; 8) | bytes[1]); return 0; } byte writeByAdress(byte reg_adr, unsigned int value) { //I2C read 2-byte register byte bytes[2]; bytes[1] = value &amp; 0xFF; bytes[0] = (value &gt;&gt; 8) &amp; 0xFF; Wire.beginTransmission(I2C_DRV10983_Q1_ADR); Wire.write(reg_adr); Wire.write(bytes,2); return Wire.endTransmission(); } boolean flag = true; void loop() { if(flag){ unsigned int onReady = 0; writeByAdress(EECTRL_Reg, 0xFFFF); writeByAdress(EEPROM_Access_Code_Reg, 0x0000); //Reset EEPROM_Access_Code_Reg writeByAdress(EEPROM_Access_Code_Reg, 0xC0DE); //Set EEPROM_Access_Code_Reg while(onReady == 0){ // Wait EEPROM ready readByAdress(EEPROM_EeReady_Reg, onReady); } Serial.println("EEPROM_Access."); onReady = 0; //Write values on shadow registers //writeByAdress(EEPROM_Access_Reg, 0x1000); //Not use EEPROM storage. Store values in shadow registers writeByAdress(0x90, 0x154F); writeByAdress(0x91, 0x042C); writeByAdress(0x92, 0x0090); writeByAdress(0x93, 0x09EA); writeByAdress(0x94, 0x3FAF); writeByAdress(0x95, 0xFC33); writeByAdress(0x96, 0x016A); writeByAdress(EEPROM_Access_Reg,0x0006); //EEPROM mass access enabled &amp;&amp; update while(onReady == 0 ){ // Wait EEPROM ready readByAdress(EEPROM_EeReady_Reg, onReady); } Serial.println("EEPROM_Update."); writeByAdress(EECTRL_Reg, 0x0000); //Run motor flag = false; } }</span></span></span></span></code> </pre> <br></div></div><br>  Ensuite, des châles plus présentables ont été commandés dans l'Empire du Milieu: <br><br><img src="https://habrastorage.org/webt/nh/ot/6g/nhot6gddzj8nb1h5ha0mvpvwc4o.jpeg"><br><br>  Après l'enregistrement (enfin, c'est ce dont ils ont besoin), vous pouvez télécharger gratuitement les fichiers du projet.  Ou commandez immédiatement les planches <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a></b> . <br><br><h4>  <font color="dodgerblue">À propos de la «transplantation cardiaque»</font> </h4><br>  La seule chose qui reste est de sortir le moteur du boîtier du disque dur, qui, soit dit en passant, dans 2,5 disques (et dans la plupart des 3,5) en fait partie intégrante.  En bref, vous pouvez décrire le processus avec la célèbre phrase " <b>Saw, Shura, saw!</b> ": <br><br><img src="https://habrastorage.org/webt/jo/5u/uk/jo5uukkufahdroybnebr5yjgbs8.jpeg"><br>  <font color="gray"><i>Un guide externe pour une couronne métallique avec fixation au boîtier de disque est en contreplaqué.</i></font>  <font color="gray"><i>Par sécurité, le câble moteur est collé à sa base pour ne pas être coupé par une couronne</i></font> <br><br><img src="https://habrastorage.org/webt/97/oj/ug/97ojuga_jqyheaiultzk5b3fpla.jpeg"><br>  <font color="gray"><i>Après le forage, nous obtenons des tours avec un moteur.</i></font>  <font color="gray"><i>Après traitement des fichiers, nous obtenons un diamètre de base d'environ 25 mm.</i></font> <br><br><h4>  <font color="dodgerblue">Préparation du receveur pour la transplantation:</font> </h4><br>  Le cerveau et le cœur de la future pompe s'entendent bien et sont prêts à trouver un nouvel habitat.  Il est donc temps de penser au boîtier et à la roue. <br><br>  Puisqu'il est nécessaire d'obtenir une haute pression avec un petit volume de travail, la roue a été conçue avec 7 rayons: <br><br><img src="https://habrastorage.org/webt/d5/qt/ow/d5qtowle2rmjlwupcxrs6uvkeok.jpeg"><br>  <font color="gray"><i>Impression 3D avec polycarbonate</i></font> <br>  <a href="">Modèle 3D</a> <br><br>  Le polycarbonate est une grande chose pour le boîtier.  Mais l'impression de l'ensemble du bâtiment leur coûte cher.  Les morceaux de feuilles épaisses sont très difficiles à trouver et le fraisage n'est pas gratuit (pour moi).  Mais pour les remerciements aux annonceurs, vous pouvez mendier des chutes de feuilles de 4 mm et 2 mm d'épaisseur.  Le boîtier a donc été conçu pour la découpe laser ultérieure de pièces et leur collage en une seule unité sans besoin de fraisage.  Seuls les trous de perçage pour les raccords et les écrous sont nécessaires. <br><br><img src="https://habrastorage.org/webt/mu/rx/u0/murxu0_euh0xdhgrwy0oden45rm.png"><br>  <font color="gray"><i>Vue du modèle 3D</i></font> <br>  <a href="">Modèle 3D</a> <br><br><img src="https://habrastorage.org/webt/9y/ij/7n/9yij7n0qgvuuq_be0kwo2mf0de4.jpeg"><br>  <font color="gray"><i>Un ensemble de pièces pour coller le "haut" de la pompe.</i></font>  <font color="gray"><i>Aux endroits où les canaux d'entrée et de sortie sont connectés, les faces sont coupées</i></font> <br><br><h4>  <font color="dodgerblue">Progression de l'opération:</font> </h4><br>  Ici, je voudrais faire une digression et rappeler à ceux qui souhaitent répéter, et pas seulement que le dichloroéthane, qui a été collé ensemble, <s>contient peu de vitamines et que vous devez inhaler une</s> substance plutôt toxique et volatile.  Le travail doit être effectué à l'extérieur ou dans un endroit bien ventilé. <br><br><img src="https://habrastorage.org/webt/uh/at/2t/uhat2t0bw0yz9gqqw3yqlfiggja.jpeg"><br>  <font color="gray"><i>La pile de pièces «supérieures» lors du séchage après collage est le rotor séparateur-séparateur-impulseur supérieur.</i></font>  <font color="gray"><i>De même, la base du moteur est collée ensemble (ou entièrement fabriquée à partir d'un morceau de polycarbonate de 6 mm)</i></font> <br><br><img src="https://habrastorage.org/webt/kr/dp/ic/krdpicydaqvtafojqwyskmros1o.png"><br>  <font color="gray"><i>Après le collage, les trous pour le raccord sont percés - un tube en laiton de 8 mm à travers les encoches sur la partie «séparateur»</i></font> <br><br><img src="https://habrastorage.org/webt/qx/hi/za/qxhizalki9yeppwa1ug0dmyqmzm.jpeg"><br>  <font color="gray"><i>La bonne vieille composition BF-4, quant à moi, permet un collage fiable du laiton et du polycarbonate</i></font> <br><br><img src="https://habrastorage.org/webt/hl/hv/t4/hlhvt4b78jlgrxybtnjthv0oysw.jpeg"><br>  <font color="gray"><i>La base du moteur au bas de la pompe est collée avec la même colle.</i></font>  <font color="gray"><i>Dans la partie supérieure, des trous ( <b>pas</b> traversants!) Sont percés pour coller les écrous à rivets M3.</i></font>  <font color="gray"><i>Et la photo montre un mince joint en silicone</i></font> <br><br><h4>  <font color="dodgerblue">Test:</font> </h4><br>  Le moment est donc venu de vérifier le travail fait maison.  Pour cela, un banc d'essai a été assemblé à la hâte.  Étant donné que des développeurs sérieux lisent les <s>enfants</s> de Habr, dont l'apparence et la composition du stand peuvent provoquer des épisodes de panique, d'horreur et de désorientation, je voulais le cacher sous un spoiler ... mais j'espère que tout ira bien, puis ne dis pas que je ne t'ai pas prévenu, chers lecteurs ! <br><br><img src="https://habrastorage.org/webt/r2/xw/fo/r2xwfokhm72vrvqev85bntydnr8.jpeg"><br>  <font color="gray"><i>Arduinka envoie un signal de contrôle PWM, dont le rapport cyclique est défini manuellement par une résistance variable, lit la valeur des registres de configuration et détermine également la vitesse de rotation à la fois via les registres de pilote internes (RPMrg) et le signal FG (RPMfg).</i></font>  <font color="gray"><i>Puissance du moteur - 12v</i></font> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/96ax_CMhhxU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <font color="gray"><i>Démarrage du moteur sans charge.</i></font>  <font color="gray"><i>Contrôle de vitesse et mesure d'énergie</i></font> <br><br>  Le moteur démarre avec succès à partir de 6% du signal de commande PWM.  Et à la fin de la vidéo, vous pouvez voir comment à des vitesses élevées les valeurs de vitesse dans le registre interne "se bloquent" dans l'intervalle de 10k à 13k tours, bien que la fréquence soit fixée par la sortie FG sans changement. <br><br>  Au ralenti, tout est clair - ils ont obtenu des révolutions de 13k à une tension de 12v et une consommation de 0,16A.  Mais une pompe à eau était en marche et je suis en train de chasser l'air.  Alors la prochaine étape est d'escorter les membres du ménage dans la rue, pour ne pas gêner, et l'occupation de la salle de bain! <br><br><img src="https://habrastorage.org/webt/bb/9o/fx/bb9ofxhylu__vmtln1pbj3sqtqu.jpeg"><br>  <font color="gray"><i>Hélas, je n'ai pas pris de mesures ni filmé de vidéos.</i></font>  <font color="gray"><i>Alors, passons avec une photo générale.</i></font>  <font color="gray"><i>Un chronomètre et une canette de 3L ont été ajoutés à l'équipement de mesure</i></font> <br><br><img src="https://habrastorage.org/webt/oq/1l/ds/oq1ldsu_mnitngnwdyt0-quplo4.jpeg"><br>  <font color="gray"><i>Selon les résultats des mesures, nous avons obtenu un tel tableau</i></font> <br><br><img src="https://habrastorage.org/webt/5h/9a/ga/5h9agafcrkufho0pp6ccxioipv8.png"><br>  <font color="gray"><i>Organigramme</i></font> <br><br>  En conséquence - ce métier répond entièrement à mes exigences.  Et en cas de panne, grâce à la conception pliable et à la présence de boîtiers avec 2.5HDD morts dans tous les ateliers de réparation / centres de service, il ne sera pas difficile de réparer.  Et la voie vers la poursuite de la construction du NWO est ouverte!  Alors, continuez! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr460070/">https://habr.com/ru/post/fr460070/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr460050/index.html">Face à face NeoQUEST 2019: dans le monde de la cybersécurité</a></li>
<li><a href="../fr460052/index.html">Interaction des solutions Cisco dans GosSOPKoy et FinCERT</a></li>
<li><a href="../fr460054/index.html">Conseils pour les pigistes: comment attraper le zen en travaillant</a></li>
<li><a href="../fr460058/index.html">Histoires de support technique incroyablement véridiques</a></li>
<li><a href="../fr460060/index.html">Créez Amazon Prime, le programme d'adhésion le plus réussi et le plus destructeur de l'histoire d'Internet</a></li>
<li><a href="../fr460073/index.html">Communiquer: comment transmettre des informations au consommateur à l'ère numérique</a></li>
<li><a href="../fr460083/index.html">Création d'un magasin global de type Redux à l'aide de hooks React</a></li>
<li><a href="../fr460087/index.html">Tri pyramidal (HeapSort)</a></li>
<li><a href="../fr460089/index.html">Mise à jour sécurisée de Zimbra Collaboration Suite</a></li>
<li><a href="../fr460091/index.html">Impression directe sur des T-shirts avec Epson SureColor SC - F et sa différence avec la sérigraphie, l'autocollant et la sublimation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>