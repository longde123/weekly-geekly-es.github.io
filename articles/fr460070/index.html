<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï∫üèª üòó üë©üèº‚Äçüîß Artisanat √† partir de disques durs inactifs - mini pompe üë©üèø‚Äçüî¨ üíÖ üóÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="D'une certaine mani√®re, j'avais besoin d'une pompe √† eau pour les futurs produits maison. Oui, ce n'est pas simple - avec des restrictions de taille -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Artisanat √† partir de disques durs inactifs - mini pompe</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460070/"><img src="https://habrastorage.org/webt/97/oj/ug/97ojuga_jqyheaiultzk5b3fpla.jpeg"><br><br>  D'une certaine mani√®re, j'avais besoin d'une pompe √† eau pour les futurs produits maison.  Oui, ce n'est pas simple - avec des restrictions de taille - √©paisseur jusqu'√† 25 mm, largeur jusqu'√† 50 mm (longueur - vous pouvez d√©j√† varier).  Des caract√©ristiques souhait√©es - une pression de 1m et un d√©bit de 100l / h.  Ne trouvant pas ce qu'il voulait dans les ventes (principalement en termes de taille), dans son <s>obstin√©</s> obstin√©, il s'est mis √† mettre en ≈ìuvre sa solution √† ce probl√®me! <br><br>  <b>Attention - beaucoup de photos!</b> <br><a name="habracut"></a><br><h4>  <font color="dodgerblue">"Cerveaux" et un peu d'histoire:</font> </h4><br>  √Ä strictement parler, l'id√©e d'utiliser des moteurs HDD pour les pompes n'est pas nouvelle.  Depuis 2009, une branche enti√®re a √©t√© maintenue dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un forum bien connu</a> .  Ainsi, il visait √† l'origine √† fabriquer une pompe √† partir d'un disque dur ¬´portable¬ª et √† trouver un pilote appropri√© avec des touches d'alimentation int√©gr√©es et un contr√¥le sans capteur. <br><br>  Mais ¬´hors de la bo√Æte¬ª, je n'ai pas pu apprendre de l'exp√©rience.  Une s√©rie de tests avec diff√©rents pilotes (MTD6501C, DRV11873 et un certain nombre d'autres m√©tiers chinois) a donn√© un r√©sultat d√©cevant: les moteurs plus gros de 3,5 disques fonctionnent parfaitement.  Mais avec de petits moteurs, au mieux, ils parviennent √† d√©marrer les unit√©s, et ils fonctionnent de mani√®re extr√™mement instable.  Avec un r√©sultat aussi d√©cevant, une vieille id√©e a √©t√© abandonn√©e et au bord de l'oubli. <br><br>  Mais relativement r√©cemment, je suis tomb√© sur un pilote assez int√©ressant de TI- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DRV10987</a> .  Avec ses dimensions modestes, il a un potentiel assez impressionnant: <br><br><ul><li>  Tension de fonctionnement de 6v √† 28v </li><li>  Convertisseur abaisseur 5v int√©gr√© (vous pouvez alimenter le MK pour le contr√¥le) </li><li>  Courant de fonctionnement constant jusqu'√† 2A (cr√™te - 3A) </li><li>  Un grand nombre de param√®tres d√©finis par logiciel (r√©glage des valeurs des registres de configuration sur le bus I2C) pour contr√¥ler le fonctionnement du moteur </li><li>  Red√©marrage automatique du moteur apr√®s un arr√™t / une panne d'urgence (si les conditions de la panne sont pass√©es) </li><li>  Protection contre les surintensit√©s </li><li>  Protection contre les surtensions </li><li>  D√©tection d'arr√™t / verrouillage du rotor </li><li>  Arr√™t lorsque le contr√¥leur surchauffe </li></ul><br>  Arm√© d'un <i>arduino</i> (pardonnez-moi ce mot abusif des ing√©nieurs en √©lectronique locaux) pour d√©finir les param√®tres d√©finis par la carte LUT pour ce pilote, j'ai approfondi les exp√©riences de d√©marrage des moteurs.  Eh bien, ce contr√¥leur ne m'a pas d√©√ßu!  Malgr√© la m√©thode appliqu√©e de "piquer scientifique" dans la s√©lection des param√®tres, il √©tait possible de trouver une approche √† n'importe quel moteur du disque dur! <br><br>  M'a aid√© dans ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>configurateur de param√®tres en ligne personnalis√©</b></a> .  Utilisez sur la sant√©!) <br><br><div class="spoiler">  <b class="spoiler_title">Voici un croquis sur le versement de param√®tres via Arduino:</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;Arduino.h&gt; #include &lt;Wire.h&gt; #define I2C_DRV10983_Q1_ADR 0x52 #define Fault_Reg 0x00 #define MotorSpeed_Reg 0x01 #define DeviceIDRevisionID_Reg 0x08 #define SpeedCtrl_Reg 0x30 #define EEPROM_Access_Code_Reg 0x31 #define EEPROM_EeReady_Reg 0x32 #define EEPROM_Iindividual_Access_Adr_Reg 0x33 #define EEPROM_Individual_Access_Data_Reg 0x34 #define EEPROM_Access_Reg 0x35 #define EECTRL_Reg 0x60 void setup() { Serial.begin(9600); Wire.begin(); } byte readByAdress(byte reg_adr, unsigned int &amp;result) { //I2C write 2-byte register byte i = 0, err = 0; byte bytes[2] = {0, 0}; Wire.beginTransmission(I2C_DRV10983_Q1_ADR); Wire.write(reg_adr); err = Wire.endTransmission(); if(err!=0) return err; Wire.requestFrom(I2C_DRV10983_Q1_ADR, 2); while(Wire.available()) { bytes[i] = Wire.read(); i++; } result = ((bytes[0] &lt;&lt; 8) | bytes[1]); return 0; } byte writeByAdress(byte reg_adr, unsigned int value) { //I2C read 2-byte register byte bytes[2]; bytes[1] = value &amp; 0xFF; bytes[0] = (value &gt;&gt; 8) &amp; 0xFF; Wire.beginTransmission(I2C_DRV10983_Q1_ADR); Wire.write(reg_adr); Wire.write(bytes,2); return Wire.endTransmission(); } boolean flag = true; void loop() { if(flag){ unsigned int onReady = 0; writeByAdress(EECTRL_Reg, 0xFFFF); writeByAdress(EEPROM_Access_Code_Reg, 0x0000); //Reset EEPROM_Access_Code_Reg writeByAdress(EEPROM_Access_Code_Reg, 0xC0DE); //Set EEPROM_Access_Code_Reg while(onReady == 0){ // Wait EEPROM ready readByAdress(EEPROM_EeReady_Reg, onReady); } Serial.println("EEPROM_Access."); onReady = 0; //Write values on shadow registers //writeByAdress(EEPROM_Access_Reg, 0x1000); //Not use EEPROM storage. Store values in shadow registers writeByAdress(0x90, 0x154F); writeByAdress(0x91, 0x042C); writeByAdress(0x92, 0x0090); writeByAdress(0x93, 0x09EA); writeByAdress(0x94, 0x3FAF); writeByAdress(0x95, 0xFC33); writeByAdress(0x96, 0x016A); writeByAdress(EEPROM_Access_Reg,0x0006); //EEPROM mass access enabled &amp;&amp; update while(onReady == 0 ){ // Wait EEPROM ready readByAdress(EEPROM_EeReady_Reg, onReady); } Serial.println("EEPROM_Update."); writeByAdress(EECTRL_Reg, 0x0000); //Run motor flag = false; } }</span></span></span></span></code> </pre> <br></div></div><br>  Ensuite, des ch√¢les plus pr√©sentables ont √©t√© command√©s dans l'Empire du Milieu: <br><br><img src="https://habrastorage.org/webt/nh/ot/6g/nhot6gddzj8nb1h5ha0mvpvwc4o.jpeg"><br><br>  Apr√®s l'enregistrement (enfin, c'est ce dont ils ont besoin), vous pouvez t√©l√©charger gratuitement les fichiers du projet.  Ou commandez imm√©diatement les planches <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a></b> . <br><br><h4>  <font color="dodgerblue">√Ä propos de la ¬´transplantation cardiaque¬ª</font> </h4><br>  La seule chose qui reste est de sortir le moteur du bo√Ætier du disque dur, qui, soit dit en passant, dans 2,5 disques (et dans la plupart des 3,5) en fait partie int√©grante.  En bref, vous pouvez d√©crire le processus avec la c√©l√®bre phrase " <b>Saw, Shura, saw!</b> ": <br><br><img src="https://habrastorage.org/webt/jo/5u/uk/jo5uukkufahdroybnebr5yjgbs8.jpeg"><br>  <font color="gray"><i>Un guide externe pour une couronne m√©tallique avec fixation au bo√Ætier de disque est en contreplaqu√©.</i></font>  <font color="gray"><i>Par s√©curit√©, le c√¢ble moteur est coll√© √† sa base pour ne pas √™tre coup√© par une couronne</i></font> <br><br><img src="https://habrastorage.org/webt/97/oj/ug/97ojuga_jqyheaiultzk5b3fpla.jpeg"><br>  <font color="gray"><i>Apr√®s le forage, nous obtenons des tours avec un moteur.</i></font>  <font color="gray"><i>Apr√®s traitement des fichiers, nous obtenons un diam√®tre de base d'environ 25 mm.</i></font> <br><br><h4>  <font color="dodgerblue">Pr√©paration du receveur pour la transplantation:</font> </h4><br>  Le cerveau et le c≈ìur de la future pompe s'entendent bien et sont pr√™ts √† trouver un nouvel habitat.  Il est donc temps de penser au bo√Ætier et √† la roue. <br><br>  Puisqu'il est n√©cessaire d'obtenir une haute pression avec un petit volume de travail, la roue a √©t√© con√ßue avec 7 rayons: <br><br><img src="https://habrastorage.org/webt/d5/qt/ow/d5qtowle2rmjlwupcxrs6uvkeok.jpeg"><br>  <font color="gray"><i>Impression 3D avec polycarbonate</i></font> <br>  <a href="">Mod√®le 3D</a> <br><br>  Le polycarbonate est une grande chose pour le bo√Ætier.  Mais l'impression de l'ensemble du b√¢timent leur co√ªte cher.  Les morceaux de feuilles √©paisses sont tr√®s difficiles √† trouver et le fraisage n'est pas gratuit (pour moi).  Mais pour les remerciements aux annonceurs, vous pouvez mendier des chutes de feuilles de 4 mm et 2 mm d'√©paisseur.  Le bo√Ætier a donc √©t√© con√ßu pour la d√©coupe laser ult√©rieure de pi√®ces et leur collage en une seule unit√© sans besoin de fraisage.  Seuls les trous de per√ßage pour les raccords et les √©crous sont n√©cessaires. <br><br><img src="https://habrastorage.org/webt/mu/rx/u0/murxu0_euh0xdhgrwy0oden45rm.png"><br>  <font color="gray"><i>Vue du mod√®le 3D</i></font> <br>  <a href="">Mod√®le 3D</a> <br><br><img src="https://habrastorage.org/webt/9y/ij/7n/9yij7n0qgvuuq_be0kwo2mf0de4.jpeg"><br>  <font color="gray"><i>Un ensemble de pi√®ces pour coller le "haut" de la pompe.</i></font>  <font color="gray"><i>Aux endroits o√π les canaux d'entr√©e et de sortie sont connect√©s, les faces sont coup√©es</i></font> <br><br><h4>  <font color="dodgerblue">Progression de l'op√©ration:</font> </h4><br>  Ici, je voudrais faire une digression et rappeler √† ceux qui souhaitent r√©p√©ter, et pas seulement que le dichloro√©thane, qui a √©t√© coll√© ensemble, <s>contient peu de vitamines et que vous devez inhaler une</s> substance plut√¥t toxique et volatile.  Le travail doit √™tre effectu√© √† l'ext√©rieur ou dans un endroit bien ventil√©. <br><br><img src="https://habrastorage.org/webt/uh/at/2t/uhat2t0bw0yz9gqqw3yqlfiggja.jpeg"><br>  <font color="gray"><i>La pile de pi√®ces ¬´sup√©rieures¬ª lors du s√©chage apr√®s collage est le rotor s√©parateur-s√©parateur-impulseur sup√©rieur.</i></font>  <font color="gray"><i>De m√™me, la base du moteur est coll√©e ensemble (ou enti√®rement fabriqu√©e √† partir d'un morceau de polycarbonate de 6 mm)</i></font> <br><br><img src="https://habrastorage.org/webt/kr/dp/ic/krdpicydaqvtafojqwyskmros1o.png"><br>  <font color="gray"><i>Apr√®s le collage, les trous pour le raccord sont perc√©s - un tube en laiton de 8 mm √† travers les encoches sur la partie ¬´s√©parateur¬ª</i></font> <br><br><img src="https://habrastorage.org/webt/qx/hi/za/qxhizalki9yeppwa1ug0dmyqmzm.jpeg"><br>  <font color="gray"><i>La bonne vieille composition BF-4, quant √† moi, permet un collage fiable du laiton et du polycarbonate</i></font> <br><br><img src="https://habrastorage.org/webt/hl/hv/t4/hlhvt4b78jlgrxybtnjthv0oysw.jpeg"><br>  <font color="gray"><i>La base du moteur au bas de la pompe est coll√©e avec la m√™me colle.</i></font>  <font color="gray"><i>Dans la partie sup√©rieure, des trous ( <b>pas</b> traversants!) Sont perc√©s pour coller les √©crous √† rivets M3.</i></font>  <font color="gray"><i>Et la photo montre un mince joint en silicone</i></font> <br><br><h4>  <font color="dodgerblue">Test:</font> </h4><br>  Le moment est donc venu de v√©rifier le travail fait maison.  Pour cela, un banc d'essai a √©t√© assembl√© √† la h√¢te.  √âtant donn√© que des d√©veloppeurs s√©rieux lisent les <s>enfants</s> de Habr, dont l'apparence et la composition du stand peuvent provoquer des √©pisodes de panique, d'horreur et de d√©sorientation, je voulais le cacher sous un spoiler ... mais j'esp√®re que tout ira bien, puis ne dis pas que je ne t'ai pas pr√©venu, chers lecteurs ! <br><br><img src="https://habrastorage.org/webt/r2/xw/fo/r2xwfokhm72vrvqev85bntydnr8.jpeg"><br>  <font color="gray"><i>Arduinka envoie un signal de contr√¥le PWM, dont le rapport cyclique est d√©fini manuellement par une r√©sistance variable, lit la valeur des registres de configuration et d√©termine √©galement la vitesse de rotation √† la fois via les registres de pilote internes (RPMrg) et le signal FG (RPMfg).</i></font>  <font color="gray"><i>Puissance du moteur - 12v</i></font> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/96ax_CMhhxU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <font color="gray"><i>D√©marrage du moteur sans charge.</i></font>  <font color="gray"><i>Contr√¥le de vitesse et mesure d'√©nergie</i></font> <br><br>  Le moteur d√©marre avec succ√®s √† partir de 6% du signal de commande PWM.  Et √† la fin de la vid√©o, vous pouvez voir comment √† des vitesses √©lev√©es les valeurs de vitesse dans le registre interne "se bloquent" dans l'intervalle de 10k √† 13k tours, bien que la fr√©quence soit fix√©e par la sortie FG sans changement. <br><br>  Au ralenti, tout est clair - ils ont obtenu des r√©volutions de 13k √† une tension de 12v et une consommation de 0,16A.  Mais une pompe √† eau √©tait en marche et je suis en train de chasser l'air.  Alors la prochaine √©tape est d'escorter les membres du m√©nage dans la rue, pour ne pas g√™ner, et l'occupation de la salle de bain! <br><br><img src="https://habrastorage.org/webt/bb/9o/fx/bb9ofxhylu__vmtln1pbj3sqtqu.jpeg"><br>  <font color="gray"><i>H√©las, je n'ai pas pris de mesures ni film√© de vid√©os.</i></font>  <font color="gray"><i>Alors, passons avec une photo g√©n√©rale.</i></font>  <font color="gray"><i>Un chronom√®tre et une canette de 3L ont √©t√© ajout√©s √† l'√©quipement de mesure</i></font> <br><br><img src="https://habrastorage.org/webt/oq/1l/ds/oq1ldsu_mnitngnwdyt0-quplo4.jpeg"><br>  <font color="gray"><i>Selon les r√©sultats des mesures, nous avons obtenu un tel tableau</i></font> <br><br><img src="https://habrastorage.org/webt/5h/9a/ga/5h9agafcrkufho0pp6ccxioipv8.png"><br>  <font color="gray"><i>Organigramme</i></font> <br><br>  En cons√©quence - ce m√©tier r√©pond enti√®rement √† mes exigences.  Et en cas de panne, gr√¢ce √† la conception pliable et √† la pr√©sence de bo√Ætiers avec 2.5HDD morts dans tous les ateliers de r√©paration / centres de service, il ne sera pas difficile de r√©parer.  Et la voie vers la poursuite de la construction du NWO est ouverte!  Alors, continuez! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr460070/">https://habr.com/ru/post/fr460070/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr460050/index.html">Face √† face NeoQUEST 2019: dans le monde de la cybers√©curit√©</a></li>
<li><a href="../fr460052/index.html">Interaction des solutions Cisco dans GosSOPKoy et FinCERT</a></li>
<li><a href="../fr460054/index.html">Conseils pour les pigistes: comment attraper le zen en travaillant</a></li>
<li><a href="../fr460058/index.html">Histoires de support technique incroyablement v√©ridiques</a></li>
<li><a href="../fr460060/index.html">Cr√©ez Amazon Prime, le programme d'adh√©sion le plus r√©ussi et le plus destructeur de l'histoire d'Internet</a></li>
<li><a href="../fr460073/index.html">Communiquer: comment transmettre des informations au consommateur √† l'√®re num√©rique</a></li>
<li><a href="../fr460083/index.html">Cr√©ation d'un magasin global de type Redux √† l'aide de hooks React</a></li>
<li><a href="../fr460087/index.html">Tri pyramidal (HeapSort)</a></li>
<li><a href="../fr460089/index.html">Mise √† jour s√©curis√©e de Zimbra Collaboration Suite</a></li>
<li><a href="../fr460091/index.html">Impression directe sur des T-shirts avec Epson SureColor SC - F et sa diff√©rence avec la s√©rigraphie, l'autocollant et la sublimation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>