<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👡 👩🏾‍✈️ 🔬 Mutationsanalyse oder wie man Tests testet 👩‍⚕️ 🔴 ◾️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es gibt nie zu viele Tests - das weiß jeder. Memes über Unit- und Integrationstests machen keinen Spaß mehr. Wir wissen jedoch immer noch nicht, ob es...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mutationsanalyse oder wie man Tests testet</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/421141/">  Es gibt nie zu viele Tests - das weiß jeder.  Memes über Unit- und Integrationstests machen keinen Spaß mehr.  Wir wissen jedoch immer noch nicht, ob es möglich ist, sich auf die Ergebnisse des Bestehens der Tests zu verlassen, und wie viel Prozent der Abdeckung es uns ermöglicht, Fehler nicht in die Produktion zu lassen.  Wenn schwerwiegende Änderungen in den Codes überspringen, ohne das Ergebnis zu beeinflussen, bietet sich die Lösung an - Sie müssen die Tests testen! <br><br><img src="https://habrastorage.org/webt/6w/kv/4n/6wkv4nyll_4lnom-dlicndmsuhu.png"><br><br>  Der Ansatz zur Automatisierung dieser Aufgabe war der Bericht von Mark Langovoy von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Frontend Conf</a> .  Das Video und der Artikel sind kurz und die Ideen funktionieren sehr gut - das müssen Sie beachten. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-1820HwCJUA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>Über den Sprecher:</strong> Mark <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Langovoi</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">marklangovoi</a> ) arbeitet in Yandex im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Yandex.Tolok-</a> Projekt.  Dies ist eine Crowdsourcing-Plattform zum schnellen Markieren großer Datenmengen.  Kunden laden Daten herunter, die beispielsweise für die Verwendung in Algorithmen für maschinelles Lernen vorbereitet werden müssen, und legen einen Preis fest. Auf der anderen Seite können Ausführende Aufgaben erledigen und Geld verdienen. <br><br>  In seiner Freizeit entwickelt Mark die Krasnodar Devodar Developer Days, eine von 19 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IT-Communities,</a> deren Aktivisten wir zu Frontend Conf nach Moskau eingeladen haben. <br><br><h2>  Testen <br></h2><br>  Es gibt verschiedene Arten von automatisierten Tests. <br><img src="https://habrastorage.org/webt/xv/dl/of/xvdlofex2xlqouaertrnrkq804c.png"><br><br>  Während gängiger <strong>Unit-Tests</strong> schreiben wir Tests für kleine Teile (Module) einer Anwendung.  Sie sind einfach zu schreiben, aber manchmal verhalten sie sich während der Integration mit anderen Modulen möglicherweise nicht genau so, wie wir es erwartet haben. <br><br>  Um dies zu vermeiden, können wir <strong>Integrationstests</strong> schreiben, die den Betrieb unserer Module gemeinsam testen. <br><img src="https://habrastorage.org/webt/ri/6k/gy/ri6kgykpne6mwcobow5wqwhphmq.png"><br><br>  Sie sind etwas komplizierter, daher konzentrieren wir uns heute auf Unit-Tests. <br><br><h2>  Unit Testing <br></h2><br>  Jedes Projekt, das zumindest eine minimale Stabilität wünscht, schreibt Unit-Tests. <br><br>  Betrachten Sie ein Beispiel. <br><br><pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Signal</span></span></span><span class="hljs-class"> </span></span>{ on(callback) { ... } off(callback) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> callbackIndex = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.listeners.indexOf(callback); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (callbackIndex === <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.listeners = [ ...this.listeners.slice(<span class="hljs-number"><span class="hljs-number">0</span></span>, callbackIndex - <span class="hljs-number"><span class="hljs-number">1</span></span>), ...this.listeners.slice(callbackIndex) ]; } trigger() { ... } }</code> </pre> <br>  Es gibt eine Signalklasse - dies ist ein Ereignisemitter mit einer Ein-Methode zum Abonnieren und einer Aus-Methode zum Löschen eines Abonnements. Wir prüfen, ob der Rückruf im Abonnenten-Array enthalten ist, und löschen ihn dann.  Und natürlich gibt es eine Auslösemethode, die signierte Rückrufe aufruft. <br><br>  Für dieses Beispiel haben wir einen einfachen Test, der die Ein- und Ausschaltmethoden und dann den Trigger aufruft, um zu überprüfen, ob der Rückruf nach dem Abbestellen nicht aufgerufen wurde. <br><br><pre> <code class="javascript hljs">test(<span class="hljs-string"><span class="hljs-string">'off method should remove listener'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> signal = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Signal(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> wasCalled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> callback = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { wasCalled = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }; signal.on(callback); signal.off(callback); signal.trigger(); expect(wasCalled).toBeFalsy(); });</code> </pre><br><h3>  Qualitätsbewertungskriterien <br></h3><br>  Was sind die Kriterien für die Beurteilung der Qualität eines solchen Tests? <br><br>  <strong>Die Codeabdeckung</strong> ist das beliebteste und bekannteste Kriterium, das angibt, wie viele Prozent der Codezeilen ausgeführt wurden, als der Test ausgeführt wurde. <br><img src="https://habrastorage.org/webt/8q/i8/om/8qi8om5vmjpwbthvc31xspmwtcu.png"><br><br>  Möglicherweise haben Sie eine Codeabdeckung von 70%, 80% oder 90%. Bedeutet dies jedoch, dass beim Sammeln des nächsten Builds für die Produktion alles in Ordnung ist oder etwas schief geht? <br><br>  Kehren wir zu unserem Beispiel zurück. <br><br>  Freitagabend, Sie sind müde und beenden das nächste Feature.  Und dann stoßen Sie auf diesen Code, den Ihr Kollege geschrieben hat.  Etwas an dir schien dir kompliziert und beängstigend. <br><br><pre> <code class="javascript hljs"> ...this.listeners.slice(<span class="hljs-number"><span class="hljs-number">0</span></span>, callbackIndex - <span class="hljs-number"><span class="hljs-number">1</span></span>), ...this.listeners.slice(callbackIndex)</code> </pre><br>  Sie haben entschieden, dass Sie das Array wahrscheinlich einfach löschen können: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Signal</span></span></span><span class="hljs-class"> </span></span>{ ... off(callback) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> callbackIndex = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.listeners.indexOf(callback); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (callbackIndex === <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.listeners = []; } ... }</code> </pre><br>  Ich habe mich verpflichtet, das Projekt zusammengestellt und an die Produktion geschickt.  Tests bestanden - warum nicht?  Und er ging in einer Bar zur Ruhe. <br><br><img src="https://habrastorage.org/webt/zv/ds/pb/zvdspbqun8lcjabukmbkna-eivo.png"><br><br>  Aber plötzlich, spät in der Nacht, klingelte ein Anruf beim Empfänger, dass alles fiel, die Leute das Produkt nicht benutzen konnten und im Allgemeinen verschwendete das Geschäft Geld!  Sie brennen, Sie werden mit Entlassung bedroht. <br><br><img src="https://habrastorage.org/webt/5q/ac/4x/5qac4xp9819iwt9dwwue9rfvan8.png"><br><br>  Wie gehe ich damit um?  Was tun mit Tests?  Wie kann man solche primitiven dummen Fehler auffangen?  Wer wird die Tests testen? <br><br>  Natürlich können Sie eine Armee von QS-Ingenieuren einstellen - lassen Sie sie sitzen und klatschen Sie einfach in unsere Bewerbung. <br><br><img src="https://habrastorage.org/webt/5n/7s/rd/5n7srdm7g3tk0iiakgj3oft8zum.png"><br><br>  Oder mieten Sie QS-Automatisierung.  Sie können für das Schreiben von Tests verantwortlich gemacht werden - warum selbst schreiben, wenn es spezielle Leute dafür gibt? <br><br>  Tatsächlich ist es jedoch teuer, daher werden wir heute über Mutationsanalysen oder Mutationstests sprechen. <br><br><h2>  Mutationstests <br></h2><br>  Dies ist eine Möglichkeit, den Testprozess unserer Tests zu automatisieren.  Ihr Zweck ist es, ineffektive und unvollständige Tests zu identifizieren, dh tatsächlich <strong>Tests zu testen</strong> . <br><br>  Die Idee ist, Codeteile zu ändern, Tests mit ihnen durchzuführen, und wenn die Tests nicht fallen, sind sie unvollständig. <br><br>  Änderungen werden mit bestimmten Operationen vorgenommen - <strong>Mutatoren</strong> .  Sie ersetzen beispielsweise Plus durch Minus, Multiplikation mit Division und andere ähnliche Operationen.  Mutatoren können Codeteile ändern, Bedingungen in while-Arrays auf Null setzen, anstatt dem Array ein Element hinzuzufügen. <br><img src="https://habrastorage.org/webt/mu/xh/nb/muxhnbcmixwyzkp3xwoa5t0zywi.png"><br><br>  Durch das Anwenden von Mutationen auf den Quellcode mutiert dieser und wird zu einer <strong>Mutante</strong> . <br><br>  Mutanten werden in zwei Kategorien unterteilt: <br><br><ol><li>  <strong>Getötet</strong> - diejenigen, bei denen wir Abweichungen feststellen konnten, dh bei denen mindestens ein Test fiel. </li><li>  <strong>Die Überlebenden</strong> sind diejenigen, die vor uns weggelaufen sind und den Fehler in die Produktion gebracht haben. </li></ol><br>  Zur Beurteilung der Qualität gibt es eine <strong>MSI-</strong> Metrik <strong>(Mutation Score Indicator)</strong> - den Prozentsatz der getöteten und überlebenden Mutanten.  Je größer der Unterschied zwischen Codeabdeckungstests und MSI ist, desto schlechter spiegelt der Prozentsatz der Codeabdeckung die Relevanz unserer Tests wider. <br><br>  Dies war ein bisschen Theorie, und jetzt überlegen Sie, wie es in JavaScript verwendet werden kann. <br><br><h3>  Javascript-Lösung <br></h3><br>  Es gibt nur ein aktiv entwickeltes Mutationstest-Tool in JavaScript - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stryker</a> .  Dieser Name wurde dem Instrument zu Ehren des Charakters von X-Man William Stryker gegeben - dem Schöpfer von "Weapon X" und einem Kämpfer mit allen Mutanten. <br><br><img src="https://habrastorage.org/webt/6w/kv/4n/6wkv4nyll_4lnom-dlicndmsuhu.png"><br><br>  Stryker ist kein Testläufer wie Karma oder Jest;  Es ist auch kein Test-Framework wie Mocha oder Jasmine.  Dies ist ein Mutationstest-Framework, das Ihre aktuelle Infrastruktur ergänzt. <br><br><h3>  Plugin-System <br></h3><br>  Stryker ist sehr flexibel und basiert vollständig auf einem Plug-In-System, von dem die meisten von Stryker-Entwicklern geschrieben wurden. <br><img src="https://habrastorage.org/webt/j3/2r/-n/j32r-ns1i8trfuitelgg3y_dpqu.png"><br><br>  Es gibt Plugins zum Ausführen von Tests für Jest, Karma und Mocha.  Es gibt eine Integration mit den Frameworks Mocha (Stryker-Mocha-Framework) Jasmine (Stryker-Jasmin) und vorgefertigten Mutator-Sets für JavaScript, TypeScript und sogar für Vue: <br><br><ul><li>  Stryker-Javascript-Mutator; </li><li>  Stryker-Typoskript; </li><li>  Stryker-Vue-Mutator. </li></ul><br>  Mutatoren für die Reaktion sind im Stryker-Javascript-Mutator enthalten.  Darüber hinaus können Sie jederzeit Ihre eigenen Mutatoren schreiben. <br><br>  Wenn Sie den Code vor der Ausführung konvertieren müssen, können Sie Plugins für Webpack, Babel oder TypeScript verwenden. <br><img src="https://habrastorage.org/webt/6f/qi/b3/6fqib3tsj-cjmqcnmpiyc45rmc4.png"><br><br>  Dies ist alles relativ einfach eingerichtet. <br><br><h3>  Konfiguration <br></h3><br>  Die Konfiguration ist nicht schwierig: Sie müssen lediglich in der JSON-Konfiguration angeben, welchen Testrunner (und / oder Testframework und / oder Transpiler) Sie verwenden, und die entsprechenden Plugins von npm installieren. <br><br>  Das einfache Konsolendienstprogramm <strong>stryker-cli</strong> kann dies alles in einem Frage- und Antwortmodus für Sie erledigen.  Sie wird Sie fragen, was Sie verwenden, und sich selbst konfigurieren. <br><br><h3>  Wie funktioniert es? <br></h3><br>  Der Lebenszyklus ist einfach und besteht aus folgenden Schritten: <br><br><ul><li>  Lesen und Analysieren der Konfiguration.  Stryker lädt die Konfiguration herunter und analysiert sie auf verschiedene Plugins, Einstellungen, Ausschluss von Dateien usw. </li><li>  Laden Sie die Plugins gemäß der Konfiguration herunter. </li><li>  Ausführen von Tests für den Quellcode, um zu überprüfen, ob die Tests gerade relevant sind (plötzlich sind sie bereits fehlerhaft). </li><li>  Wenn alles in Ordnung ist, wird aus den Dateien, die wir mutieren durften, eine Reihe von Mutanten generiert. </li><li>  Ausführen von Tests an Mutanten. </li></ul><br><img src="https://habrastorage.org/webt/6v/ww/yn/6vwwynfb_hq570upwyur0zrp5fq.png"><br><br>  Oben sehen Sie ein Beispiel für das Starten von Stryker: <br><br><ul><li>  Stryker startet; </li><li>  liest eine Konfiguration; </li><li>  lädt die notwendigen Abhängigkeiten; </li><li>  findet Dateien, die mutieren; </li><li>  führt Tests für den Quellcode durch; </li><li>  erzeugt 152 Mutanten; </li><li>  führt Tests in 8 Threads aus (in diesem Fall basierend auf der Anzahl der CPU-Kerne). </li></ul><br>  Dies ist kein schneller Vorgang, daher ist es besser, ihn auf einigen CI / CD-Servern durchzuführen. <br><br>  Nach Bestehen aller Tests gibt Stryker einen kurzen Bericht über die Dateien mit der Anzahl der erstellten, getöteten und überlebenden Mutanten sowie dem Prozentsatz des Verhältnisses von getöteten Mutanten zu Überlebenden (MSI) und den verwendeten Mutatoren. <br><br>  Dies sind potenzielle Probleme, die in unseren Tests nicht vorhergesehen wurden. <br><br><h3>  Zusammenfassend <br></h3><br>  <strong>Mutationstests sind nützlich und interessant</strong> .  Es kann Probleme in den frühen Phasen des Testens und ohne die Teilnahme von Menschen finden.  Dies verkürzt beispielsweise die Zeit für die Validierung von Pull-Anforderungen, da qualifizierte Entwickler keine Zeit für die Validierung von Pull-Anforderungen aufwenden müssen, die bereits potenzielle Probleme aufweist.  Oder speichern Sie die Produktion, wenn Sie am Freitagabend eine neue Version vorbereiten möchten. <br><br>  Stryker ist ein flexibles Multithread-Mutationstest-Tool.  Es entwickelt sich aktiv, ist aber bisher feucht und hat die Hauptversion noch nicht erreicht.  Während der Erstellung dieses Berichts haben die Entwickler beispielsweise im Plugin für Babel endlich die Möglichkeit gegeben, die Konfigurationsdatei anzugeben und die Jest-Integration zu korrigieren.  Dies ist ein OpenSource- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Projekt</a> , dessen Entwicklung unterstützt werden kann. <br><br><div class="spoiler">  <b class="spoiler_title">FAQ</b> <div class="spoiler_text">  <em>- Wie teste ich Mutationstests?</em>  <em>Sicher gibt es auch einen Fehler.</em>  <em>Im ersten Unit-Test-Beispiel betrug die Abdeckung 90%.</em>  <em>Es scheint, dass alles in Ordnung ist, aber dennoch rutschten die Fälle durch, als alles fiel und in Flammen stand.</em>  <em>Warum sollte es dementsprechend das Gefühl geben, dass nach diesen Mutationstests alles in Ordnung ist?</em> <br><br>  - Ich sage nicht, dass Mutationstests eine Silberkugel sind und alles heilen werden.  Natürlich kann es einige grenzwertig verrückte Fälle geben oder das Fehlen einer Art Mutator.  Erstens sind typische Fehler leicht zu erkennen.  Zum Beispiel haben Sie das Alter überprüft, auf &lt;18 gesetzt (es war notwendig &lt;=) und im Test vergessen, eine Grenzfallprüfung durchzuführen.  Sie haben einen weiteren Vergleich mit dem Mutator durchgeführt, und als Ergebnis ist der Test gefallen (oder nicht gefallen), und Sie verstehen, dass alles gut oder alles schlecht ist.  Solche Dinge werden schnell gefangen.  Auf diese Weise können Sie Tests einfach korrekt anhängen und fehlende Punkte finden. <br><br>  <em>- Oft haben Sie eine Situation von "fassungslos und verlassen"?</em>  <em>Ich denke das ist nicht wahr.</em> <br><br>  - Nein, aber ich denke, dass es in vielen Projekten solche Dinge gibt.  Das stimmt natürlich nicht.  Viele Leute denken, dass die Codeabdeckung hilft, alles zu überprüfen, Sie können sicher gehen und sich keine Sorgen machen - aber das ist nicht so. <br><br>  <em>- Ich werde sofort sagen, wo das Problem liegt.</em>  <em>Wir haben viele Arten von Reduzierern und andere Dinge, die wir auf Mutationsbasis testen, und es gibt viele davon.</em>  <em>Dies alles wächst und es stellt sich heraus, dass für jede Pull-Anforderung Mutationstests gestartet werden, was viel Zeit in Anspruch nimmt.</em>  <em>Ist es möglich, nur auf dem zu laufen, was sich geändert hat?</em> <br><br>  "Ich denke, Sie können es selbst konfigurieren."  Auf der Entwicklerseite können Sie beispielsweise beim Pushing und Commit ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">fusselfreies</a> Plugin erstellen, das nur Dateien ausführt, die sich geändert haben.  Auf CI / CD ist dies ebenfalls möglich.  In unserem Fall ist das Projekt sehr groß und alt, und wir üben Stichproben.  Wir überprüfen nicht alles, da es eine Woche dauern wird, wird es Hunderttausende von Mutationen geben.  Ich würde empfehlen, Stichproben durchzuführen oder selbst einen selektiven Startvorgang zu organisieren.  Ich habe kein fertiges Werkzeug für eine solche Integration gesehen. <br><br>  <em>- Ist die Vollständigkeit aller möglichen Mutationen für einen bestimmten Code gewährleistet?</em>  <em>Wenn nicht, wie genau werden Mutationen ausgewählt?</em> <br><br>  - Ich persönlich habe nicht nachgesehen, aber ich habe auch keine Probleme damit festgestellt.  Stryker muss alle möglichen Mutationen auf demselben Code generieren. <br><br>  <em>- Ich möchte nach Schnappschüssen fragen.</em>  <em>Mein Unit-Test testet sowohl die Logik als auch das Layout der Snapshot-Reaktionskomponente.</em>  <em>Wenn ich ein logisches Design ändere, ändert sich natürlich genau dort mein Layout.</em>  <em>Das ist erwartetes Verhalten, nicht wahr?</em> <br><br>  - Ja, das bedeutet, dass Sie Snapshots manuell aktualisieren. <br><br>  <em>- Also ignorieren Sie irgendwie Schnappschüsse in diesem Bericht?</em> <br><br>  - Höchstwahrscheinlich müssen Schnappschüsse im Voraus aktualisiert und anschließend Mutationstests durchgeführt werden, da sonst viel Müll von Stryker kommt. <br><br>  <em>- Frage zu CI-Servern.</em>  <em>Für einfache Komponententests gibt es unter GitLab Reporter für alles, was Sie möchten, die den Prozentsatz der erfolgreichen Tests anzeigen, die Sie konfigurieren können, ob sie fehlschlagen oder nicht.</em>  <em>Was ist mit Stryker?</em>  <em>Das Tablet wird nur in der Konsole angezeigt. Was kann ich als Nächstes tun?</em> <br><br>  - Sie haben HTML-Reporter, Sie können Ihre eigenen Reporter erstellen - alles ist flexibel anpassbar.  Vielleicht gibt es einige spezifische Tools, aber da wir immer noch Punktmutationstests durchführen, habe ich keine spezifischen Integrationen mit TeamCity und ähnlichen CI / CD-Tools gefunden. <br><br>  <em>- Inwieweit erhöhen Mutationstests die Unterstützung für die Tests, die Sie im Allgemeinen haben?</em>  <em>Das heißt, Tests sind ein Schmerz, und Tests müssen neu geschrieben werden, wenn der Code neu geschrieben wird usw. Manchmal ist es einfacher, den Code neu zu schreiben als Tests.</em>  <em>Und hier habe ich auch Mutationstests.</em>  <em>Wie teuer ist es für ein Unternehmen?</em> <br><br>  - Erstens werde ich wahrscheinlich korrigieren, dass das Umschreiben von Code zum Zwecke von Tests falsch ist.  Der Code sollte leicht zu testen sein.  Für das, was abgeschlossen werden muss, ist es für das Unternehmen erneut wichtig, dass die Tests so vollständig und effektiv wie möglich sind.  Wenn sie nicht vollständig sind, bedeutet dies, dass ein Fehler auftreten kann, der Verluste verursacht.  Natürlich können Sie nur die wichtigsten Teile für das Geschäft testen. <br><br>  <em>"Trotzdem, wie viel teurer wird es, wenn Mutationstests erscheinen, als wenn sie nicht da wären."</em> <br><br>  - Es sind jetzt genauso schlechte Tests.  Wenn die Tests jetzt schlecht geschrieben sind, müssen Sie viel hinzufügen.  Bei Mutationstests werden Fälle gefunden, die nicht durch Tests abgedeckt sind. <br><br>  <em>- Auf der Folie mit den Ergebnissen des Stryker-Checks gibt es viele Vorings, sie sind kritisch oder nicht kritisch.</em>  <em>Wie gehe ich mit Fehlalarmen um?</em> <br><br>  - Die subtile Frage ist, was als falsch angesehen wird.  Ich habe die Jungs in unserem Team gefragt, welche interessanten Dinge mit ihnen passiert sind.  Es gab ein Beispiel für den Fehlertext.  Stryker berichtete, dass die Tests nicht auf die Änderung des Fehlertextes reagierten.  Es scheint ein Pfosten zu sein, aber klein. <br><br>  <em>- Sie sehen solche Fehler und überspringen unkritische Fehler im manuellen Modus?</em> <br><br>  "Wir haben eine Stichprobe, also ja." <br><br>  <em>- Ich habe eine praktische Frage.</em>  <em>Wie viel Prozent der Tests haben Sie bei der Implementierung nicht bestanden?</em> <br><br>  - Wir haben es nicht für das gesamte Projekt implementiert, aber es gab kleinere Probleme für das neue Projekt.  Daher kann ich die genauen Zahlen nicht sagen, aber im Allgemeinen hat der Ansatz die Situation definitiv verbessert. <br></div></div><br><blockquote>  Weitere, ebenso nützliche Front-End-Performances finden Sie auf unserem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Youtube-Kanal</a> . Alle thematischen Berichte aller unserer Konferenzen werden nach und nach veröffentlicht.  Oder abonnieren Sie den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Newsletter</a> und wir halten Sie über alle neuen Materialien und Neuigkeiten zukünftiger Konferenzen auf dem Laufenden. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de421141/">https://habr.com/ru/post/de421141/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de421131/index.html">Kritische Sicherheitsanfälligkeit von 1Cloud-Servern</a></li>
<li><a href="../de421133/index.html">LINKa. Papiertastatur. Extra große Knöpfe</a></li>
<li><a href="../de421135/index.html">Au / Ni / MgO: Wärmeübertragung im Nanomaßstab</a></li>
<li><a href="../de421137/index.html">So funktioniert Headless Chrome</a></li>
<li><a href="../de421139/index.html">Frontend Conf - kümmert sich um den Benutzer</a></li>
<li><a href="../de421143/index.html">Aurora Labs S-Titanium Pro Mini-Metall-3D-Drucker</a></li>
<li><a href="../de421147/index.html">Monster nach den Ferien: AMD Threadripper 2990WX 32-Core und 2950X 16-Core</a></li>
<li><a href="../de421149/index.html">Ein paar Worte zu Farbverläufen</a></li>
<li><a href="../de421153/index.html">24-Kern-CPU, aber ich kann keine E-Mail eingeben (Teil 2)</a></li>
<li><a href="../de421155/index.html">3D-Druck im Jahr 2018: das Interessanteste in der Branche</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>