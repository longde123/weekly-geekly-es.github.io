<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚙 🛀🏽 🕍 Membuat MacBook Pro 2018 T2 berfungsi dengan ArchLinux (dualboot) 🕶️ ☘️ 🧒🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ada banyak hype tentang fakta bahwa karena chip T2 baru, tidak mungkin untuk menginstal linux pada MacBook 2018 baru dengan touchbar. Seiring berjalan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Membuat MacBook Pro 2018 T2 berfungsi dengan ArchLinux (dualboot)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472106/"> Ada banyak hype tentang fakta bahwa karena chip T2 baru, tidak mungkin untuk menginstal linux pada MacBook 2018 baru dengan touchbar.  Seiring berjalannya waktu, dan pada akhir 2019, pengembang pihak ketiga menerapkan sejumlah driver dan patch kernel untuk berinteraksi dengan chip T2.  Driver utama untuk model MacBook 2018 dan yang lebih baru mengimplementasikan pekerjaan VHCI (pengoperasian sentuh / keyboard / dll.), Serta fungsi suara. <br><br>  Proyek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mbp2018-bridge-drv</a> dibagi menjadi 3 komponen utama: <br><br><ul><li>  BCE (Buffer Copy Engine) - menetapkan saluran komunikasi utama dengan T2.  VHCI dan Audio memerlukan komponen ini. </li><li>  VHCI adalah pengendali host virtual USB;  keyboard, mouse, dan komponen sistem lainnya disediakan oleh komponen ini (driver lain menggunakan pengontrol host ini untuk menyediakan lebih banyak fungsi. </li><li>  Audio - driver untuk antarmuka audio T2, saat ini hanya output audio melalui speaker internal MacBook yang didukung </li></ul><a name="habracut"></a><br>  Proyek kedua disebut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">macbook12-spi-driver</a> , dan mengimplementasikan kemungkinan input driver untuk keyboard, trackpad SPI, touchbar untuk MacBook Pro akhir 2016 dan versi yang lebih baru.  Beberapa driver untuk keyboard / trackpad sekarang termasuk dalam kernel, dimulai dengan versi 5.3. <br><br>  Dukungan juga diterapkan untuk perangkat seperti wi-fi, touchpad, dll, menggunakan patch kernel.  Saat ini versi kernel adalah <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">5.3.5-1</a></b> <br><br><h4>  Apa yang berhasil saat ini </h4><br><ol><li>  NVMe </li><li>  Keyboard </li><li>  USB-C (Thunderbolt tidak diuji, ketika modul dimuat secara otomatis, ia menangguhkan sistem dengan erat) </li><li>  Panel Sentuh (dengan kemampuan untuk mengaktifkan tombol Fn, lampu latar, ESC, dll.) </li><li>  Suara (hanya speaker internal) </li><li>  Modul Wi-Fi (melalui brcmfmac dan hanya melalui iw) </li><li>  DisplayPort via USB-C </li><li>  Sensor </li><li>  Tangguhkan / Lanjutkan (sebagian) </li><li>  dll .. </li></ol><br>  Tutorial ini berlaku untuk macbookpro15.1 dan macbookpro15.2.  Artikel ini diambil dari github dalam bahasa Inggris <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari sini</a> .  Tidak semua artikel ini berfungsi, jadi saya harus mencari solusi sendiri. <br><br><h4>  Apa yang perlu Anda instal </h4><br><ul><li>  USB-C USB dock adapter (setidaknya tiga input USB untuk menghubungkan mouse, keyboard, modem USB atau telepon dalam mode tethering).  Ini hanya diperlukan pada tahap awal instalasi. </li><li>  Keyboard USB </li><li>  USB / USB-C flash drive minimal 4GB </li></ul><br><h2>  1. Nonaktifkan larangan mengunduh dari media eksternal </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://support.apple.com/en-us/HT208330</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://www.ninjastik.com/support/2018-macbook-pro-boot-from-usb/</a> <br><br><h2>  2. Alokasikan ruang kosong menggunakan Disk Utility </h2><br>  Untuk kenyamanan, saya segera mengalokasikan 30GB ke disk, memformatnya untuk melakukan exfat di Disk Utility itu sendiri.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mempartisi disk fisik menjadi partisi Disk Utility</a> . <br><br><h2>  3. Bentuk gambar iso </h2><br>  <b>Opsi:</b> <br><br><ol><li>  Anda dapat pergi dengan cara sederhana dan mengunduh gambar yang sudah jadi dengan kernel 5.3.5-1 dan tambalan dari <a href="">tautan</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">aunali1</a> <a href="">ke gambar yang sudah selesai</a> </li><li>  Buat gambar sendiri melalui arsip (Anda memerlukan sistem dengan distribusi archa) <br><br>  Instal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">archiso</a> <br><br><pre><code class="bash hljs">pacman -S archiso</code> </pre> <br><pre> <code class="bash hljs">cp -r /usr/share/archiso/configs/releng/ archlive <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> archlive</code> </pre><br>  Tambahkan repositori ke pacman.conf: <br><br><pre> <code class="bash hljs">[mbp] Server = https://packages.aunali1.com/archlinux/<span class="hljs-variable"><span class="hljs-variable">$repo</span></span>/<span class="hljs-variable"><span class="hljs-variable">$arch</span></span></code> </pre><br>  Abaikan kernel asli di pacman.conf: <br><br><pre> <code class="plaintext hljs">IgnorePkg = linux linux-headers</code> </pre><br>  Tambahkan paket yang diperlukan, pada akhirnya kita tambahkan kernel linux-mbp dan linux-mbp-header <br><br><pre> <code class="plaintext hljs">... wvdial xl2tpd linux-mbp linux-mbp-headers</code> </pre><br>  Ubah skrip agar berfungsi dalam mode interaktif (ganti pacstrap -C dengan pacstrap -i -C): <br><br><pre> <code class="bash hljs">sudo nano /usr/bin/mkarchiso</code> </pre> <br><pre> <code class="plaintext hljs"># Install desired packages to airootfs _pacman () { _msg_info "Installing packages to '${work_dir}/airootfs/'..." if [[ "${quiet}" = "y" ]]; then pacstrap -i -C "${pacman_conf}" -c -G -M "${work_dir}/airootfs" $* &amp;&gt; /dev/null else pacstrap -i -C "${pacman_conf}" -c -G -M "${work_dir}/airootfs" $* fi _msg_info "Packages installed successfully!" }</code> </pre> <br>  Kami membentuk gambar: <br><br><pre> <code class="bash hljs">sudo ./build.sh -v</code> </pre> <br>  Tekan Y untuk melewati paket yang diabaikan, lalu tulis gambar iso ke usb flash drive: <br><br><pre> <code class="bash hljs">sudo dd <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>=out/archlinux*.iso of=/dev/sdb bs=1M</code> </pre> <br></li></ol><br><h2>  4. Boot pertama </h2><br>  Reboot dengan flash drive dan keyboard yang dimasukkan.  Tekan opsi saat apel muncul, pilih EFI BOOT. <br><br>  Selanjutnya, Anda perlu menekan tombol "e" dan menulis <b>module_blacklist = thunderbolt</b> di akhir baris perintah.  Jika ini tidak dilakukan, maka sistem mungkin tidak bisa boot, dan Kesalahan ICM Thunderbolt akan macet. <br><br>  Menggunakan fdisk / cfdisk, kami menemukan partisi kami (saya memilikinya nvme0n1p4), memformat dan menginstal lengkungan.  Anda dapat menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">instruksi resmi</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pihak ketiga</a> . <br><br>  Kami tidak membuat partisi boot, kami akan menulis bootloader di <b>/ dev / nvme0n1p1</b> <br>  Setelah lingkungan di / mnt sepenuhnya terbentuk dan sebelum beralih ke arch-chroot, kita menulis: <br><br><pre> <code class="bash hljs">mount /dev/nvme0n1p1 /mnt/boot arch-chroot /mnt /bin/bash</code> </pre><br>  Tambahkan ke /etc/pacman.conf: <br><br><pre> <code class="bash hljs">[mbp] Server = https://packages.aunali1.com/archlinux/<span class="hljs-variable"><span class="hljs-variable">$repo</span></span>/<span class="hljs-variable"><span class="hljs-variable">$arch</span></span></code> </pre><br>  Instal kernel: <br><br><pre> <code class="bash hljs">sudo pacman -S linux-mbp linux-mbp-headers sudo mkinitcpio -p linux-mbp</code> </pre><br>  Masukkan thunderbolt dan applesmc di /etc/modprobe.d/blacklist.conf <br><br><pre> <code class="plaintext hljs">blacklist thunderbolt blacklist applesmc</code> </pre><br><h3>  Keyboard, panel sentuh, dll </h3><br>  Instal yay: <br><br><pre> <code class="bash hljs">sudo pacman -S git gcc make fakeroot binutils git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://aur.archlinux.org/yay.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> yay makepkg -si</code> </pre><br>  Pasang modul untuk panel sentuh: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> --branch mbp15 https://github.com/roadrunner2/macbook12-spi-driver.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> macbook12-spi-driver make install</code> </pre><br>  Tambahkan modul ke pengisian otomatis: /etc/modules-load.d/apple.conf <br><br><pre> <code class="plaintext hljs">industrialio_triggered_buffer apple-ibridge apple-ib-tb apple-ib-als</code> </pre><br>  Instal modul kernel untuk keyboard.  Repositori <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">anuali1</a> memiliki paket yang sudah jadi, disebut <b>apple-bce-dkms-git</b> .  Untuk menginstalnya, tulis di konsol: <br><br><pre> <code class="bash hljs">pacman -S apple-bce-dkms-git</code> </pre> <br>  Dalam hal ini, modul kernel akan disebut <b>apple-bce</b> .  Dalam hal perakitan diri, itu disebut <b>SM</b> .  Dengan demikian, jika Anda ingin mendaftarkan modul di bagian MODUL dalam file mkinicpio.conf, maka jangan lupa modul mana yang Anda instal. <br><br>  Perakitan manual: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/MCMrARM/mbp2018-bridge-drv.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> mbp2018-bridge-drv make cp bce.ko /usr/lib/modules/extramodules-mbp/bce.ko</code> </pre><br>  Tambahkan modul SM atau apple-SM untuk memuat secara otomatis: /etc/modules-load.d/bce.conf <br><br><pre> <code class="bash hljs">bce</code> </pre> <br>  Jika Anda ingin menggunakan tombol Fn secara default, maka dalam file /etc/modprobe.d/apple-tb.conf kita menulis: <br><br><pre> <code class="plaintext hljs">options apple-ib-tb fnmode=2</code> </pre> <br>  Memperbarui kernel dan initramfs. <br><br><pre> <code class="bash hljs">mkinitcpio -p linux-mbp</code> </pre><br>  Instal iwd: <br><br><pre> <code class="bash hljs">sudo pacman -S networkmanager iwd</code> </pre> <br><h2>  5. Bootloader </h2><br>  Setelah di dalam chroot, semua paket utama diinstal, Anda dapat melanjutkan untuk menginstal bootloader. <br><br>  Saya tidak pernah berhasil membuat grub bekerja.  Dari drive usb eksternal, grub boot, tetapi ketika Anda mencoba mendaftarkannya di nvme via <blockquote>  grub-install --target = x86_64-efi --efi-directory = / boot --bootloader-id = grub </blockquote>  sistem menabrak panik kernel, dan setelah me-reboot item baru melalui opsi tidak muncul.  Saya tidak menemukan solusi yang dapat dipahami untuk masalah ini dan karena itu memutuskan untuk mencoba mengimplementasikan boot menggunakan systemd-boot. <br><br><ol><li>  Kami meluncurkan <br><br><pre> <code class="bash hljs">bootctl --path=/boot install</code> </pre> <br>  dan terbang ke kernel panik.  Matikan MacBook, hidupkan lagi, klik opsi (jangan nonaktifkan hub usb-c dengan keyboard) </li><li>  Periksa apakah catatan EFI BOOT baru telah muncul di samping perangkat eksternal </li><li>  Kami memilih boot dari USB-drive eksternal, seperti saat instalasi pertama (jangan lupa menulis module_blacklist = thunderbolt) </li><li>  Kami memasang cakram kami dan masuk ke lingkungan melalui arch-chroot </li></ol><br><pre> <code class="bash hljs">mount /dev/nvme0n1p4 /mnt mount /dev/nvme0n1p1 /mnt/boot arch-chroot /mnt</code> </pre><br>  Jika perlu agar keyboard berfungsi hingga sistem terisi penuh (ini diperlukan jika enkripsi luks / dm-crypt digunakan), maka kami menulisnya di file /etc/mkinicpio.conf di bagian MODULES: <br><br><pre> <code class="plaintext hljs">MODULES=(ext4 applespi intel_lpss_pci spi_pxa2xx_platform bce)</code> </pre><br>  Memperbarui kernel dan initramfs. <br><br><pre> <code class="bash hljs">mkinicpio -p linux-mbp</code> </pre><br><h4>  Konfigurasikan systemd-boot </h4><br>  Kami mengedit file /boot/loader/loader.conf, menghapus semua yang ada di dalamnya, dan menambahkan yang berikut: <br><br><pre> <code class="plaintext hljs">default arch timeout 5 editor 1</code> </pre><br>  Buka folder / boot / loader / entri, buat file arch.conf dan tulis: <br><br><pre> <code class="plaintext hljs">title arch linux /vmlinuz-linux-mbp initrd /initramfs-linux-mbp.img options root=/dev/&lt;b&gt;nvme0n1p4&lt;/b&gt; rw pcie_ports=compat</code> </pre><br>  Jika Anda menggunakan luks dan lvm, maka <br><br><pre> <code class="plaintext hljs">options cryptdevice=/dev/&lt;b&gt;nvme0n1p4&lt;/b&gt;:luks root=/dev/mapper/vz0-root rw pcie_ports=compat</code> </pre><br>  Reboot di MacOS. <br><br><h2>  6. Pengaturan Wi-fi </h2><br>  Ternyata, MacOS menyimpan file firmware untuk adaptor wi-fi di folder <b>/ usr / share / firmware / wifi</b> , dan Anda dapat membawanya dari sana dalam bentuk gumpalan dan memberi mereka ke modul kernel brcmfmac.  Untuk mengetahui file mana yang digunakan adaptor Anda, buka terminal di MacOS dan tulis: <br><br><pre> <code class="bash hljs">ioreg -l | grep C-4364</code> </pre> <br>  Kami mendapatkan daftar panjang.  Kami hanya perlu file dari bagian <b>RequestedFiles</b> : <br><br><pre> <code class="plaintext hljs">"RequestedFiles" = ({"Firmware"="&lt;b&gt;C-4364__s-B2/maui.trx&lt;/b&gt;","TxCap"="C-4364__s-B2/maui-X3.txcb","Regulatory"="C-4364__s-B2/&lt;b&gt;maui-X3.clmb&lt;/b&gt;","NVRAM"="C-4364__s-B2/&lt;b&gt;P-maui-X3_M-HRPN_V-m__m-7.7.txt&lt;/b&gt;"})</code> </pre><br>  Dalam kasus Anda, nama file mungkin berbeda.  Salin dari folder / usr / share / firmware / wifi ke USB flash drive dan ganti namanya ke tampilan berikut: <br><br><pre> <code class="plaintext hljs"> maui.trx -&gt; brcmfmac4364-pcie.bin maui-X3.clmb -&gt; brcmfmac4364-pcie.clm_blob P-maui-X3_M-HRPN_V-m__m-7.7.txt -&gt; brcmfmac4364-pcie.Apple Inc.-&lt;b&gt;MacBookPro15,2.txt&lt;/b&gt;</code> </pre><br>  Dalam hal ini, file teks terakhir berisi nama model, jika model Anda bukan macbookpro15,2, maka Anda perlu mengganti nama file ini sesuai dengan model macbook Anda. <br><br>  Reboot ke lengkungan. <br><br>  Salin file dari USB flash drive ke folder / lib / firmware / brcm / <br><br><pre> <code class="bash hljs">sudo cp brcmfmac4364-pcie.bin /lib/firmware/brcm/ sudo cp brcmfmac4364-pcie.clm_blob /lib/firmware/brcm/ sudo cp <span class="hljs-string"><span class="hljs-string">'brcmfmac4364-pcie.Apple Inc.-&lt;b&gt;MacBookPro15,2.txt'</span></span> /lib/firmware/brcm/</code> </pre><br>  Periksa kesehatan modul: <br><br><pre> <code class="bash hljs">rmmod brcmfmac modprobe brcmfmac</code> </pre><br>  Kami memastikan bahwa antarmuka jaringan muncul melalui ifconfig / ip. <br>  Konfigurasikan wifi melalui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">iwctl</a> <br><br>  <b>Perhatian</b>  <b>Melalui netctl, nmcli, dll.</b>  <b>antarmuka tidak berfungsi, hanya melalui iwd.</b> <br><br>  Membuat NetworkManager menggunakan iwd.  Untuk melakukan ini, buat file /etc/NetworkManager/NetworkManager.conf dan tulis: <br><br><pre> <code class="plaintext hljs">[device] wifi.backend=iwd</code> </pre><br>  Memulai layanan NetworkManager <br><br><pre> <code class="bash hljs">sudo systemctl start NetworkManager.service sudo systemctl <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> NetworkManager.service</code> </pre><br><h2>  7. Suara </h2><br>  Untuk membuat suara, Anda harus menginstal pulseaudio: <br><br><pre> <code class="bash hljs">sudo pacman -S pulseaudio</code> </pre><br>  Unduh tiga file: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">91-pulseaudio-custom.rules</a> </li><li>  <a href="">apple-t2.conf</a> </li><li>  <a href="">AppleT2.conf</a> </li></ul><br>  Pindahkan mereka: <br><br><pre> <code class="plaintext hljs"> /usr/share/alsa/cards/AppleT2.conf /usr/share/pulseaudio/alsa-mixer/profile-sets/apple-t2.conf /usr/lib/udev/rules.d/91-pulseaudio-custom.rules</code> </pre> <br><h2>  8. Tangguhkan / Lanjutkan </h2><br>  Saat ini, <b>10/16/2019</b> Anda harus memilih suara atau menangguhkan / melanjutkan.  Kami sedang menunggu pembuat modul SM untuk menyelesaikan fungsionalitasnya. <br><br>  Untuk membangun modul dengan dukungan untuk susped / resume, Anda harus melakukan hal berikut: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/MCMrARM/mbp2018-bridge-drv.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> mbp2018-bridge-drv git checkout <span class="hljs-built_in"><span class="hljs-built_in">suspend</span></span> make cp bce.ko /usr/lib/modules/extramodules-mbp/bce.ko modprobe bce</code> </pre><br>  Jika Anda memasang modul apple-bce yang sudah jadi dari repositori anuali1, Anda harus menghapusnya dan baru kemudian mengumpulkan dan menginstal modul SM dengan dukungan untuk mode penundaan. <br><br>  Juga, Anda perlu menambahkan modul applesmc ke daftar hitam (jika Anda belum pernah melakukan ini sebelumnya) dan pastikan bahwa <b>pcie_ports = compat</b> ditambahkan ke /boot/loader/entries/arch.conf pada baris opsi di bagian akhir. <br><br>  Saat ini, driver panel sentuh macet ketika Anda memasuki mode tunda, dan driver thunderbolt kadang-kadang menangguhkan sistem selama lebih dari 30 detik, dan ketika melanjutkan, selama beberapa menit.  Ini dapat diperbaiki dengan mengunduh modul masalah secara otomatis. <br><br>  Buat skrip <b>/lib/systemd/system-sleep/rmmod.sh</b> : <br><br><pre> <code class="plaintext hljs">#!/bin/sh if [ "${1}" == "pre" ]; then rmmod thunderbolt rmmod apple_ib_tb elif [ "${1}" == "post" ]; then modprobe apple_ib_tb modprobe thunderbolt fi</code> </pre><br>  Jadikan itu dapat dieksekusi: <br><br><pre> <code class="bash hljs">sudo chmod +x /lib/systemd/system-sleep/rmmod.sh</code> </pre> <br>  Itu saja untuk saat ini.  Hasilnya adalah sistem yang berfungsi penuh, dengan pengecualian beberapa nuansa dengan menangguhkan / melanjutkan.  Tidak ada crash dan panik kernel telah diamati selama beberapa hari uptime.  Saya berharap bahwa dalam waktu dekat penulis modul SM akan menyelesaikannya, dan kami akan mendapatkan dukungan penuh untuk penangguhan / resume dan suara. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id472106/">https://habr.com/ru/post/id472106/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id472092/index.html">Fungsi PHP Tidak Aman</a></li>
<li><a href="../id472094/index.html">Delegasi dan Acara di C #</a></li>
<li><a href="../id472096/index.html">Android clicker berlangganan pengguna ke layanan berbayar</a></li>
<li><a href="../id472100/index.html">Shchyry Ukrainian Dunno atau Bagaimana Kiev tidak menebak</a></li>
<li><a href="../id472104/index.html">Habr Weekly # 23 / Terbang ke luar angkasa dan pikiran, Microsoft mengubur Windows Phone, warisan Matrix, permainan kertas</a></li>
<li><a href="../id472110/index.html">Kami melewati tantangan RegexPlay 100%</a></li>
<li><a href="../id472112/index.html">Chatbot dengan harga murah</a></li>
<li><a href="../id472114/index.html">Konsol gim dan gim do-it-yourself untuk itu. Mesin Game Kecil + ESPboy</a></li>
<li><a href="../id472118/index.html">Bagaimana Zoom Amerika di Tiongkok Diblokir</a></li>
<li><a href="../id472120/index.html">Konsep Navigasi Lapangan Adaptif</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>