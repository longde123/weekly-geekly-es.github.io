<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìå üö¶ üçá El mundo a trav√©s de los ojos de un enrutador WiFi üï¥üèæ üë©üèæ‚Äç‚öñÔ∏è üèáüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La historia de los intentos de ver el mundo bajo una luz completamente diferente y c√≥mo esto finalmente condujo a la creaci√≥n de un dispositivo que le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El mundo a trav√©s de los ojos de un enrutador WiFi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/392555/"><img src="https://habrastorage.org/files/ca8/256/56c/ca825656c192477eadd9274c6dc04a2d.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La historia de los intentos de ver el mundo bajo una luz completamente diferente y c√≥mo esto finalmente condujo a la creaci√≥n de un dispositivo que le permite "ver" WiFi. </font><font style="vertical-align: inherit;">El proceso utilizar√° el popular m√≥dulo ESP8266. </font><font style="vertical-align: inherit;">Desafortunadamente, Arduino tampoco lo har√° sin Arduino.</font></font><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hace N a√±os, un grupo de j√≥venes investigadores de Alemania describi√≥ el concepto de una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√°mara termogr√°fica</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> basada solo en un sensor. La esencia del dispositivo era la siguiente: usando un dise√±o de dos servos, el sensor IR se dirigi√≥ secuencialmente vertical y horizontalmente al √°rea deseada, escaneando gradualmente la imagen. Una soluci√≥n tan interesante hizo posible reducir dr√°sticamente el precio del dispositivo y obtener im√°genes divertidas de la distribuci√≥n de temperatura, como estas: </font></font><br>
<img src="https://habrastorage.org/files/2b6/3ac/755/2b63ac75524e4faeaa71d6a03b153ffd.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
el sistema de escaneo mec√°nico de la imagen, y esto es lo que es el dise√±o de los servos, result√≥ ser algo extremadamente interesante. Inmediatamente despu√©s de la construcci√≥n de un dispositivo de este tipo, surge la pregunta: ¬øpor qu√© no reemplazar el sensor IR con cualquier otra cosa que permita utilizar el mismo principio para visualizar, por ejemplo, ondas de radio?</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El ojo humano, aunque es una herramienta bastante compleja pero muy limitada. El rango de luz que vemos es una parte muy peque√±a del espectro de radiaci√≥n electromagn√©tica. </font></font><br>
<img src="https://habrastorage.org/files/69b/d24/fc9/69bd24fc9014471f8261476800c48393.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Califique la magnitud de la tragedia: la mayor parte de la informaci√≥n sobre el mundo que nos rodea simplemente se nos oculta. Por supuesto, ser√≠a genial expandir el marco natural y obtener la capacidad de ver m√°s all√° de los l√≠mites descritos por la naturaleza. Por lo tanto, los siguientes experimentos se llevaron a cabo utilizando un sistema de barrido mec√°nico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para probar la tecnolog√≠a, hice una c√°mara simple de "un solo p√≠xel" que funciona en el rango ya visible que nos es familiar. Us√© una bater√≠a solar de un autom√≥vil de juguete chino como sensor:</font></font><br>
<img src="https://habrastorage.org/files/c00/308/440/c00308440ccc4a38a7a3d1d75242df45.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, el √°rea de una fotoc√©lula es muy grande, lo que significa que de alguna manera es necesario proporcionar un campo de visi√≥n estrecho, por lo que le agregamos una lente de la linterna. Nos ponemos servos y nos conectamos a Arduino. </font></font><br>
<img src="https://habrastorage.org/files/3c9/b1c/57c/3c9b1c57cdbb4179a68db3c34ea3e841.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La bater√≠a solar gira al √°rea deseada de la imagen futura, despu√©s de lo cual el controlador lee una se√±al que es proporcional a la cantidad de luz incidente en la bater√≠a. Por supuesto, dicha c√°mara finalmente producir√° una imagen en blanco y negro. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para procesar los resultados del an√°lisis, utilizando QT, se implement√≥ un programa con una interfaz simple. (Las lecciones sobre c√≥mo implementar la comunicaci√≥n entre Arduino y Qt se pueden obtener f√°cilmente en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YouTube</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">El programa consiste en un par de botones para el control manual de servos y el campo QGraphicsScene, donde se dibujan cuadrados-p√≠xeles, cuyo color depende de la magnitud de la se√±al en un punto en particular. </font><font style="vertical-align: inherit;">El uso es simple: primero, las unidades se gu√≠an manualmente al punto superior izquierdo de la imagen futura, despu√©s de lo cual se realiza un escaneo autom√°tico del √°rea durante la cual se construye la imagen. </font><font style="vertical-align: inherit;">Esto es lo que sali√≥ de todo esto: </font></font><br>
<img src="https://habrastorage.org/files/493/a25/5f3/493a255f374f439fbbd6f865d9a2ac02.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© se representa en esta visualizaci√≥n? </font><font style="vertical-align: inherit;">Por supuesto, este es el tema m√°s obvio para disparar si su c√°mara es una bater√≠a solar: este es el sol.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, la se√±al de la bater√≠a es demasiado d√©bil para recibir im√°genes adecuadas en la iluminaci√≥n de la habitaci√≥n, ya que fue reemplazada por una fotorresistencia, y la lente de la linterna dio paso a la mitad de los prism√°ticos rotos del teatro. </font></font><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagrama de cableado</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/a6b/680/417/a6b680417a6347d7a95ca8e3af23f370.jpg"><br>
</div></div><br>
<img src="https://habrastorage.org/files/62b/8c6/b07/62b8c6b073e64fd88417b2a0cc3b667a.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta creaci√≥n result√≥ ser m√°s exitosa, y ya era posible tomar fotograf√≠as m√°s o menos reconocibles: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chandelier </font></font><br>
<img src="https://habrastorage.org/files/3ed/a70/796/3eda7079642044c08f4c4660df7a2d20.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Machine en la carretera </font></font><br>
<img src="https://habrastorage.org/files/58f/df4/483/58fdf44832be41a489363f0b980e84e6.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vista desde la ventana </font></font><br>
<img src="https://habrastorage.org/files/d27/027/9ff/d270279ff97b44259b0675db5fc82521.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E incluso nubes en el cielo </font></font><br>
<img src="https://habrastorage.org/files/7c0/c57/97f/7c0c5797fc80420299e53b22e8fa02eb.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una vez satisfecho con este resultado, decid√≠ que era hora de finalmente hacer un generador de im√°genes de radio completo, reemplazando el fotorresistor con una antena direccional. </font><font style="vertical-align: inherit;">El rango m√°s adecuado para esto es el microondas, ya que una antena direccional no ocupa mucho espacio, y en nuestra vida actual hay muchos dispositivos que emiten cuidadosamente en este rango.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al principio decid√≠ usar una antena de bocina, que se encuentra en los detectores de radar del autom√≥vil (generalmente funcionan en el rango de 10.525 GHz o 24.15 GHz). Los intentos de aislar una se√±al anal√≥gica proporcional a la magnitud de la radiaci√≥n detectada del circuito de dicho detector no tuvieron √©xito, posiblemente debido a una falta de conocimiento, y posiblemente porque no existe, ya que funciona seg√∫n el principio de comparaci√≥n. (Hola a los hermanos chinos que reunieron este milagro). Por supuesto, quer√≠a sacar la antena y construir algo propio, pero no comenc√© a romper un buen dispositivo para esto.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo segundo que me vino a la mente fue construir un detector de campo de acuerdo con uno de los esquemas que se encuentran en abundancia en los portales de radioaficionados y conectarle una antena direccional casera, por ejemplo, la muy popular y relativamente simple de producir biquadrat de Kharchenko. Pero result√≥ que el elemento m√°s importante: el diodo detector de microondas es muy dif√≠cil de encontrar, f√°cil de perder y, en general, cuesta mucho, por lo que tuve que buscar la parte correcta. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de un tiempo, logr√© obtener un diodo detector de germanio de la √©poca sovi√©tica y ensamblar el siguiente circuito: </font></font><br>
<img src="https://habrastorage.org/files/938/cc7/d9c/938cc7d9c7f541738e97e24b7c82bd25.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El dispositivo resultante funcion√≥ con confianza, pero a una distancia muy corta, en alg√∫n lugar a 5-10 cm de un tel√©fono m√≥vil que act√∫a como fuente de radiaci√≥n. Esto, por supuesto, no fue suficiente para la tarea.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de todas estas pruebas, finalmente obtuve el m√≥dulo ESP8266, que puede mostrar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RSSI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Indicador del nivel de se√±al WiFi recibida) de los puntos de acceso encontrados. </font><font style="vertical-align: inherit;">Para hacer esto, use el comando AT + CWLAP en el firmware est√°ndar del m√≥dulo. </font><font style="vertical-align: inherit;">Decid√≠ aplicar esta funci√≥n, junto con la antena biquadrat de WiFi hecha en casa mencionada anteriormente. </font><font style="vertical-align: inherit;">As√≠, apareci√≥ este milagro de la tecnolog√≠a:</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diagrama de cableado</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/5e6/608/d66/5e6608d66dff4b60bb256fdbe9ed6ddb.jpg"></div></div><br>
<img src="https://habrastorage.org/files/193/2df/f2a/1932dff2a29247f682269bd2ddfa769b.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El ESP8266 en s√≠ est√° montado en la parte posterior de la antena y est√° bien protegido con l√°minas de cobre. Los d√≠gitos luminosos muestran el voltaje en la salida del convertidor DC-DC pulsado, que reduce los 12V de la fuente de alimentaci√≥n a 3.3V, lo cual es necesario para que el m√≥dulo funcione (es muy voraz, por lo que alimentarlo desde el Arduino est√° plagado de una operaci√≥n inestable). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arduino todav√≠a maneja servoaccionamientos y tambi√©n env√≠a comandos AT al ESP8266 usando la biblioteca SoftwareSerial. Uno de los puntos dif√≠ciles: en lugar de las bibliotecas est√°ndar SoftwareSerial y Servo, tuve que cambiar a sus contrapartes, ya que las originales entran en conflicto cuando se usan simult√°neamente.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, puede escuchar reproches de que el Arduino es un elemento adicional aqu√≠, ya que el ESP8266 en s√≠ mismo puede hacer frente a dicha funcionalidad. </font><font style="vertical-align: inherit;">Pero sucedi√≥ hist√≥ricamente que durante la creaci√≥n del dispositivo, inicialmente me concentr√© en Arduino como el enlace central del dispositivo final, y el ESP8266 desempe√±a el papel de un tipo de sensor. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El programa QT, escrito para la "c√°mara solar", ha experimentado un refinamiento significativo.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versi√≥n final del programa</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/193/444/1da/1934441da66842f8b728bb6d22fcf1cc.jpg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante el escaneo del √°rea, para cada punto de acceso encontrado, se crea una matriz de valores de se√±al, que le permite ver c√≥mo los diferentes enrutadores WiFi "brillan" al final del escaneo, e incluso tratar de estimar su ubicaci√≥n aproximada. Cuanto m√°s fuerte sea la se√±al en un punto particular, m√°s brillante ser√° el color azul del p√≠xel correspondiente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y finalmente, colocando el dispositivo en diferentes partes de mi hogar, obtuve las siguientes im√°genes. Afortunadamente, hay muchas redes wifi en mi casa, y con una antena direccional similar puedes capturar incluso las m√°s remotas. </font></font><br>
<img src="https://habrastorage.org/files/8a5/445/7f7/8a54457f77c246b289f1376f8a4add41.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sof√° y alfombra. Si presta atenci√≥n, se obtiene una imagen de muy alta calidad en comparaci√≥n con las dem√°s en el punto "SkyNet": este es el enrutador de mi casa. Est√° m√°s cerca del lugar de filmaci√≥n, que aparentemente juega un papel importante en el proceso.</font></font><br>
<img src="https://habrastorage.org/files/0da/39e/051/0da39e0513f54dbaa7e6c35c6508baec.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ara√±a de nuevo. </font><font style="vertical-align: inherit;">Las se√±ales de algunas redes no se reflejan desde el techo o desde el candelabro. </font><font style="vertical-align: inherit;">Lo m√°s probable es que, bas√°ndose en estos signos, pueda intentar determinar la ubicaci√≥n f√≠sica del transmisor. </font></font><br>
<img src="https://habrastorage.org/files/6e6/adf/0f8/6e6adf0f85984c8097da5bbb18049ee3.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una ba√±era llena de agua. </font><font style="vertical-align: inherit;">Como todos saben, las ondas de radio bajo el agua se transmiten mal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vale la pena se√±alar que las fotos en el rango visible solo corresponden aproximadamente al √°rea escaneada. </font><font style="vertical-align: inherit;">Tambi√©n es necesario tener en cuenta que durante la operaci√≥n la antena de alguna manera describe el hemisferio, y esto tambi√©n afecta el resultado. </font><font style="vertical-align: inherit;">La resoluci√≥n, en principio, est√° limitada solo por el curso de la antena y el tiempo que se tarda en rodear toda el √°rea. </font><font style="vertical-align: inherit;">Adem√°s, obtener datos para cada p√≠xel requiere de 4 a 5 segundos. </font><font style="vertical-align: inherit;">Me gustar√≠a obtener im√°genes menos borrosas, pero esto requiere una antena con un patr√≥n de radiaci√≥n m√°s estrecho. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digos fuente, incluido un boceto para Arduino</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es392555/">https://habr.com/ru/post/es392555/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es392545/index.html">IBM Watson analiz√≥ los personajes de "Star Wars", describiendo los personajes principales</a></li>
<li><a href="../es392547/index.html">¬øLas ‚Äúbranquias artificiales‚Äù permitir√°n que el buceo se quede en casa?</a></li>
<li><a href="../es392549/index.html">Dale al astronauta y al h√©roe del astronauta y al h√©roe</a></li>
<li><a href="../es392551/index.html">Revise bb-mobile Techno W8.0 3G (Q800AY): tableta econ√≥mica de 8 pulgadas en Windows 10 con un m√≥dem 3G</a></li>
<li><a href="../es392553/index.html">Los cient√≠ficos lanzan un proyecto para predecir la esperanza de vida</a></li>
<li><a href="../es392559/index.html">Laboratorio digital NR05: hacer un c√≥digo de bloqueo</a></li>
<li><a href="../es392561/index.html">FLProg + Nextion HMI. Lecci√≥n 1</a></li>
<li><a href="../es392565/index.html">Posibilidades de usar tecnolog√≠a de video 360 ¬∞ para representar eventos culturales</a></li>
<li><a href="../es392573/index.html">WhatsApp ha introducido un cifrado completo de extremo a extremo de todos los datos para sus mil millones de usuarios</a></li>
<li><a href="../es392575/index.html">32 palos de abedul o sistemas de encendido del motor de cohete</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>