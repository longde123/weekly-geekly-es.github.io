<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👆🏼 🧢 🚷 计算机视觉代替办公室通行证 🛌🏼 👘 👡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今天，我将告诉您我们如何基于Vision面部识别服务在办公室中创建门禁系统。 首先，有一点背景。 与任何电子邮件服务一样，我们创建了一个反垃圾邮件系统。 这样的系统现在是在机器学习的基础上构建的，我们有一个强大的团队负责它。 哪里有机器学习，哪里就有计算机视觉。 因此，Vision服务自然而然地出现...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>计算机视觉代替办公室通行证</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/473828/"><img src="https://habrastorage.org/webt/un/xu/h1/unxuh13fdsjq-aryuwovmchvjxw.jpeg"><br><br> 今天，我将告诉您我们如何基于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Vision</a>面部识别服务在办公室中创建门禁系统。 首先，有一点背景。 与任何电子邮件服务一样，我们创建了一个反垃圾邮件系统。 这样的系统现在是在机器学习的基础上构建的，我们有一个强大的团队负责它。 哪里有机器学习，哪里就有计算机视觉。 因此，Vision服务自然而然地出现了。 <br><br> 与此同时，几年前，我们推出了Cloud，这是一种可靠的文件存储，具有地理分布于数据中心的功能，个人和公司均可使用。 随着时间的流逝，我们得到了一个“ Cloud for Business”，它不仅存储文件，而且还允许您订购虚拟机。 逐渐地，它变成了MCS-Mail.ru云解决方案，在其中Vision成为其中的一项服务。 <br><a name="habracut"></a><br><h1> 云 </h1><br> 我们的神经网络不仅能够识别人脸，而且还能识别各种<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">物体，物体和场景</a> ，包括<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">视觉</a> 。 现在他们可以识别大约一万种类别，并且机器视觉有时比人类更有效。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/399/b8d/be4/399b8dbe4c0ba7bb25dcc7701b9efc34.jpg"><br><br> 这是我在2012年，2015年和2018年的女儿。 如果我不认识她，那么我可能不会立即理解她是同一个人。 而且神经网络能够匹配和理解。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/543/a67/56d/543a6756d6caa113dd04657c45f8b550.jpg"><br><br> 在这里，女孩转身斜视着，男孩通常戴着帽子，脸上有阴影。 但与此同时，即使遇到如此困难的情况，神经网络仍能准确识别它们。 自然，公司内部开发的技术不得不在内部服务中寻求支持。 <br><br><h1> 我们的内部网 </h1><br> 我们的内部网称为sys。 这是一种社交网络（我们很少）。 在其中，员工可以上传各种活动的照片。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e2c/f0b/a5b/e2cf0ba5b544efc7d8d52f1c2c7ef640.jpg"><br><br> 在活动中布置数百张照片时，很难在那找到自己。 因此，我们将机器视觉连接到这些相册，这些相册就在企业内部网上的一个位置中显示了描绘了我的照片。 在这里，系统在一个夏季公司聚会上看到了我。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b47/69c/5b9/b4769c5b9c349f443e9968574d5417d3.jpg"><br><br> 神经网络即使在黄昏时也能认出我，照片中还有更多人。 <br><br><h1> 会议架 </h1><br> 后来我们制作了会议架。 我为iPad编写了软件，该软件安装在机架内，但总的来说，我是iOS开发人员，与计算机视觉无关，我只是以友好的方式提供帮助。 <br><br><img src="https://habrastorage.org/webt/p5/01/ul/p501uly37m546fdxxrwwtuegigo.png"><br><br> 这个架子的本质是什么？ 在整个活动（会议，会议，公司聚会或至少是生日）中，摄影师都会为您拍照。 它会不时地将累积的图像拖放到云中。 您可以随时前往柜台拍照，然后单击“查找我”按钮。 如果系统尚未成功索引索引，机架将立即显示捕获您的所有照片，或者说到目前为止尚未找到任何照片，并提示您输入电子邮件。 活动结束后，您将在邮件中收到指向云端文件夹的链接，其中包含您所处的所有照片。 这是视觉服务的应用程序之一。 <br><br><h1> 门禁系统 </h1><br> 自然，我不仅想使用这样的面部识别功能来搜索公司图像中的相貌，而且还要寻找更实用的东西。 例如，对于自动吞吐量系统。 在地板的每个入口处应用通行证不是很方便：您常常会忘记通行证，对于夏天穿轻便衣服的女孩来说，没有地方固定通行证。 <br><br> 因此，我们决定进行实验。 我们具备所有条件：我们不需要征求任何人的许可，这是一个反应迅速的行政部门，他叹了口气说：“好的。 连接相机。 只是不在门口。 门与消防安全有关。” 我们是：“那么。 我们将站在侧面。” 我们也有耐心的同事，他们遭受了我们的折磨。 <br><br><h1> 建筑学 </h1><br> 乍一看，访问系统的体系结构似乎非常简单：相机拍摄照片并将其发送给Vision，然后Vision打开门。 但是，当我们开始与同事一起绘画如何实际执行此操作时，我们得到了这样一个方案： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7be/683/61c/7be68361c530fdb7f8da32500b7a5c4c.jpg"><br><br> 右边的块称为“相机”-这是悬挂在门上的模块。 它包括三个部分。  Raspberry Pi从USB摄像机接收视频，用FFmpeg编码，然后发送。 我们测试了几款价格合理的IP摄像机，每个人都有明显的延迟，大约为0.5 s。 而且由于我们在其他阶段会有延迟，因此当一个人出现时，注视着镜头，几秒钟没有任何反应，他已经想通过。 因此，我们尽可能地减少了延迟，事实证明带有USB摄像头的Raspberry Pi比许多商用IP摄像头要快。 连接到Raspberry的还有一个带有多色LED和一个squeaker的小型Arduino。 默认LED为红色。 当一个人出现并被识别时，绿色点亮。 <br><br> 因此，Raspberry Pi传输视频流，该视频流通过有线以太网进入服务器。 我们在每层都有一个服务器机房，其中有交换机，将电缆连接到员工办公桌的地方以及一个全职访问控制系统-访问控制和管理系统。 <br><br> 我们在服务器机房中放置了另一台Raspberry Pi，它可以实时接收视频流并通过OpenCV运行它。 为什么我们需要OpenCV？ 我们需要确定图片中是否有面孔。 在照片中定义人的神经网络的工作时间更长，而且要持续不断地向其提供视频流太昂贵了。 因此，通过OpenCV，我们确定面部的存在，如果出现，则将其发送给Vision。 该服务回答它找不到该雇员，或者在HR数据库中发送该雇员标识符。 使用该员工标识符，我们转到与ACS关联的Intranet，它返回给我们通行证标识符。 此外，我们将此传递标识符扔到Arduino中，然后将其传递给ACS。 对于访问控制系统，这相当于申请通行证的人。 也就是说，我们不以任何方式更改ACS；它仍然记录员工的出入情况。 <br><br> 我们如何将我们的系统与ACS集成在一起？ 在我们的办公室中，使用了Bolid C2000-2设备。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/351/01a/0de/35101a0de56c7879ac661be35a5060b8.jpg"><br><br> 这是一个家庭访问控制系统。 您很可能可以通过485th接口连接到这些设备，但是我们是通过Wiegand协议连接的。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e5d/36e/70b/e5d36e70b78094589c3c63df5f6ee934.jpg"><br><br> 我们将充当代理的Arduino连接到门附近安装的密码读取器。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9bc/26d/700/9bc26d7009e2dae347db5223fd50dfa8.jpg"><br><br> 图为电源读取器的电源连接和两条数据线。 该垫用于更方便的连接。 <br><br>  Arduino通过USB从阅读器或Raspberry Pi接收通行证编号，并将其提供给ACS。  ACS甚至不知道通行证号码来自哪里。 <br><br><h1> 维根 </h1><br> 这是门禁系统的标准协议，大多数读者都支持。 该协议非常简单：两条数据线，一条零线和一条单位线。 将零线连接到地面后，读者便会了解到零的传输与单位相同。 也就是说，该协议没有标准化的时序，并且跳过编号很容易通过Arduino上的中断读取，很容易将其表示为数据序列。 由于记录需要某种时间安排，因此我将重点放在这些值上： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6aa/d03/ee3/6aad03ee3eb8aa49fab36710af32b342.jpg"><br><br> 已经有一个现成的Arduino库。 她可以阅读不同的Wiegand格式，但是她的能力仅限于此。 而且我仍然必须传播。 因此，我编写了仅适用于Wiegand-26格式的库。 位数为26：跳过数的3个字节和2个奇偶校验位。 而且，在所有文档和文章中都写道，现代控制器很可能会忽略奇偶校验位，因此我很懒，不对它们进行计数，但始终发送零。  ACS通常会感知到这一点。 <br><br> 我们还有另一个问题：如果有人首先出现在镜头前，然后在不等待操作的情况下应用了通行证，则出现了比赛情况：通行证号码同时来自读者和识别。  ACS无法解决此问题，也没有让人们加入。 因此，我必须在库中添加一个包含4个代码的环形缓冲区。 无论代码来自哪里，都将它们放在缓冲区中，然后以0.5 s的超时时间将其传输到ACS。 从那以后，同事们不再抱怨他们不被允许。 <br><br><h1> 试验台 </h1><br><img src="https://habrastorage.org/getpro/habr/post_images/158/b78/43f/158b7843fe5152a47f530123a3342908.jpg"><br><br> 第一个原型是由任何可怕的东西组装而成的。 树莓派（Raspberry Pi）挂在一个荒谬的架子上的盒子里，相机粘贴在双面胶带的上面。  Arduino挂在侧面熨平板上。 总的来说，我们爱的一切都是DIY。 <br><br> 当然，以这种形式不可能离开，必须布置精美。 我们与几位承包商进行了交谈，他们答应我们在中国订购样品，但是所有约定的最后期限都过去了，没人给我们任何东西。 <br><br> 定制产品有一个问题-所有解决方案都是高度专业化的，它们将专门为我们量身定制。 首先，我们变得依赖于供应商。 其次，结果是独特的电路设计具有很小的流通量，这意味着一件电路的成本会很高。 第三，生产时间足够长，如果复印失败，我们将无法在商店中快速购买替代品，我们将不得不等待下一次印刷运行，如果立即进行操作，剩余的副本将被撒在仓库中。 <br><br> 在所有潜在的合作伙伴让我们失望之后，我去了Vision的一位同事说：“ Volodya，让我在您的3D打印机上打印一个盒子，使它看起来更漂亮。” 他叹了口气说：“来吧。 该怎么办？” <br><br><h1> 相机V 1 </h1><br><img src="https://habrastorage.org/getpro/habr/post_images/6f1/4f0/c61/6f14f0c6132add7dcd3eb753d95e822e.jpg"><br><br> 在融合中，我画了这样的科学怪人怪物。 拐角处应该是带以太网电缆输入的Raspberry Pi。 侧面有电源。  “二楼”是一台照相机。 结果是一个很大的结构，我什至打印了一层薄的纸，以免浪费很多塑料。 它看起来很糟糕，而且挂起来更加尴尬。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d5b/8ba/682/d5b8ba6826307a63d09473ef779d646c.jpg"><br><br> 另外，他们说，一位同事给我提供了这样的参考，我们希望这样做。 我回答说我做不到，但是决定设计另一座建筑物。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f6/668/e5e/9f6668e5e503946ad94e4a75319d4816.jpg"><br><br> 新盒的直径为11厘米，比CD小。 填充物的位置也是两层。 在打印了第一个版本后，我意识到将USB相机完全放在其原始包装中没有任何意义。 我仔细地拆解了它，结果发现它在前面板上有4个着陆孔。 我将这个面板和一个摄像头组合成一个带有高音扬声器和LED的通用组件。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/031/180/4a4/0311804a49018e3b8f7f84b86caffc22.jpg"><br><br> 首先，我们尝试通过gpio在Raspberry Pi上产生吱吱声。 结果非常糟糕。 因此，我们决定通过连接一个小的arduino（实际上是Iskra mini）（与squeaker和LED焊接在一起），并通过TTL直接将其连接到模块，从而使该功能与Raspberry Pi分开。 <br><br> 这是战斗中的样子： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/93b/9fe/6ec/93b9fe6ecea2fff3b39c6c60a83240a9.jpg"></div><br> 我们将设备挂在地板上。 以这种形式，它的寿命足够长。 但是，并不是每次都发出尖叫声，发出漂亮的光芒，打开门。 但是，同事抱怨该LED太亮。 我不得不削弱它四次。 <br><br><h1> 相机V 2 </h1><br> 然后他们做出了这个选择： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b73/9b4/caf/b739b4caf65d413e545e9f1f1a3bd784.jpg"><br><br> 它的灵感来自小米集线器的设计，周围有一个发光环。 看起来很漂亮。 视觉徽标由印有不同颜色塑料的单个零件制成。 这是模型： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ea/e91/536/1eae91536fc7fb62bf7b9dc8c4ee24d5.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d70/1ab/64d/d701ab64dc264959923d6c67ce011bd8.jpg"><br><br> 这次我将squeker放在后墙上，将LED安装在周围的透明环上，并由透明的PLA印刷。 装饰几乎立即坍塌了，因为它最初只是在摩擦时才插入的，所以我不得不将其粘贴在胶水上。 <br><br><h1> 相机问题 </h1><br> 我们有想法在整个建筑中重复这一决定。 但是有一个问题：几乎所有楼层都有两个门，每个楼层都应该有两个摄像头，仅其中96个摄像头用于我们其中一个塔楼，现在正在积极开发第二个。 可以打印很多情况，但是看起来已经很复杂。 此外，设备中有很多组件，这意味着很多故障点。 如果我们将解决方案扩展到整个建筑物，我们将不断维护这些摄像机。 再次，快速更换的复杂性，因为每个摄像机都是一个设备。 并且您需要以一定的余量打印其中的许多内容，或者，如果发生某些情况，请立即运行，打印并收集新的内容。 我们意识到DIY解决方案很酷，但是您需要一些更方便的复制方法。 于是，想法便转移到了iPad上。 <br><br><h3>  iPad </h3><br>  iPad具有多个优点。 首先是屏幕。 同事抱怨缺乏反馈，他们很适合并且不了解认可是否已经开始，要等待还是不等待。 <br><br> 其次，iOS具有内置的面部识别功能。  OpenCV执行的功能已传递给iPad。 屏幕上会显示一个框，人应该走得很远，以使脸部适合该框。 之后，系统开始自动识别它，您无需按任何键。 <br><br> 第三，iPad是大众产品。 如果失败，我们设置另一个。 尽管平板电脑本身的价格约为2万卢布，但仍比合作伙伴提供的定制相机便宜。 另外，更快，更可靠。 <br><br><h1> 新架构 </h1><br><img src="https://habrastorage.org/getpro/habr/post_images/35e/90f/685/35e90f685bd150fcc133f73a24b07cee.jpg"><br><br>  iPad接管了大多数功能。 在服务器机房中的Raspberry Pi上，实际上只有一个HTTP主机接受带有通行ID的GET请求。 他立即在Arduino中代理代码，而在ACS中代理她。 <br><br> 在第一个版本中，Raspberry Pi的负载非常大，因为OpenCV一直在对其进行开发。 不再可能将第二个摄像机连接到它；将没有足够的计算能力。 我们已经考虑过在这里放置一台诚实的计算机，该计算机可以从两个门解析4个线程。 但这并没有实现。 现在，在每个iPad上独立执行图像中的人脸搜索。 在十字架上，有两个Arduino，每个门一个。 这两块板均可使用出入通行证。 为什么使用出入境证很重要？ 首先，当识别到人脸并且门打开时，读卡器上的绿灯亮起，同事知道您可以出去。 其次，ACS记录输入和输出。 分别模拟输入和输出，我们不会破坏ACS操作方案。 <br><br> 自然，设计师将自己吸引到一起，为我们绘制了漂亮的界面。 这就是我们办公室其中一层的外观： <br><br><img src="https://habrastorage.org/webt/t_/mv/27/t_mv273f9oor1vamysoa-hwybxe.jpeg"><br><br><h1> 与愿景合作 </h1><br> 尽管MCS是一种商业产品，但业余爱好者也可以使用它。 该服务每月为每个人提供5000次免费交易，即每天166次。 因此，如果您符合限制，则可以申请您的家庭需求。 怎么办呢？ <br><br><pre><code class="python hljs">python examples/python/smarty.py \ -u <span class="hljs-string"><span class="hljs-string">"https://smarty.mail.ru/api/v1/persons/recognize ?oauth_provider=mcs&amp;oauth_token=e50b000614a371ce 99c01a80a4558d8ed93b313737363830"</span></span> \ -p friends1.jpg \ --meta <span class="hljs-string"><span class="hljs-string">'{"space":"1", "create_new":true}'</span></span> \ -v</code> </pre> <br> 拍摄照片，并将其与我们的访问令牌一起发送给Vision。 我们表明我们正在使用第一个空格并设置<code>create_new</code>然后系统将为每个陌生人创建一个新标识符。 这是我们的回应： <br><br><pre> <code class="python hljs">{ <span class="hljs-string"><span class="hljs-string">"status"</span></span>:<span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-string"><span class="hljs-string">"body"</span></span>:{ <span class="hljs-string"><span class="hljs-string">"objects"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"status"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"file_0"</span></span>, <span class="hljs-string"><span class="hljs-string">"persons"</span></span>:[ {<span class="hljs-string"><span class="hljs-string">"tag"</span></span>:<span class="hljs-string"><span class="hljs-string">"person1"</span></span>,<span class="hljs-string"><span class="hljs-string">"coord"</span></span>:[<span class="hljs-number"><span class="hljs-number">102</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>,<span class="hljs-number"><span class="hljs-number">184</span></span>,<span class="hljs-number"><span class="hljs-number">134</span></span>],<span class="hljs-string"><span class="hljs-string">"confidence"</span></span>:<span class="hljs-number"><span class="hljs-number">0.99999</span></span>,<span class="hljs-string"><span class="hljs-string">"awesomeness"</span></span>:<span class="hljs-number"><span class="hljs-number">0.5025</span></span>}, {<span class="hljs-string"><span class="hljs-string">"tag"</span></span>:<span class="hljs-string"><span class="hljs-string">"person2"</span></span>,<span class="hljs-string"><span class="hljs-string">"coord"</span></span>:[<span class="hljs-number"><span class="hljs-number">393</span></span>,<span class="hljs-number"><span class="hljs-number">74</span></span>,<span class="hljs-number"><span class="hljs-number">461</span></span>,<span class="hljs-number"><span class="hljs-number">166</span></span>],<span class="hljs-string"><span class="hljs-string">"confidence"</span></span>:<span class="hljs-number"><span class="hljs-number">0.99987</span></span>,<span class="hljs-string"><span class="hljs-string">"awesomeness"</span></span>:<span class="hljs-number"><span class="hljs-number">0.548</span></span>}, {<span class="hljs-string"><span class="hljs-string">"tag"</span></span>:<span class="hljs-string"><span class="hljs-string">"person3"</span></span>,<span class="hljs-string"><span class="hljs-string">"coord"</span></span>:[<span class="hljs-number"><span class="hljs-number">458</span></span>,<span class="hljs-number"><span class="hljs-number">48</span></span>,<span class="hljs-number"><span class="hljs-number">535</span></span>,<span class="hljs-number"><span class="hljs-number">149</span></span>],<span class="hljs-string"><span class="hljs-string">"confidence"</span></span>:<span class="hljs-number"><span class="hljs-number">0.99976</span></span>,<span class="hljs-string"><span class="hljs-string">"awesomeness"</span></span>:<span class="hljs-number"><span class="hljs-number">0.4766</span></span>}, {<span class="hljs-string"><span class="hljs-string">"tag"</span></span>:<span class="hljs-string"><span class="hljs-string">"person4"</span></span>,<span class="hljs-string"><span class="hljs-string">"coord"</span></span>:[<span class="hljs-number"><span class="hljs-number">273</span></span>,<span class="hljs-number"><span class="hljs-number">45</span></span>,<span class="hljs-number"><span class="hljs-number">352</span></span>,<span class="hljs-number"><span class="hljs-number">147</span></span>],<span class="hljs-string"><span class="hljs-string">"confidence"</span></span>:<span class="hljs-number"><span class="hljs-number">0.99963</span></span>,<span class="hljs-string"><span class="hljs-string">"awesomeness"</span></span>:<span class="hljs-number"><span class="hljs-number">0.504</span></span>}, {<span class="hljs-string"><span class="hljs-string">"tag"</span></span>:<span class="hljs-string"><span class="hljs-string">"person5"</span></span>,<span class="hljs-string"><span class="hljs-string">"coord"</span></span>:[<span class="hljs-number"><span class="hljs-number">525</span></span>,<span class="hljs-number"><span class="hljs-number">81</span></span>,<span class="hljs-number"><span class="hljs-number">600</span></span>,<span class="hljs-number"><span class="hljs-number">184</span></span>],<span class="hljs-string"><span class="hljs-string">"confidence"</span></span>:<span class="hljs-number"><span class="hljs-number">0.99954</span></span>,<span class="hljs-string"><span class="hljs-string">"awesomeness"</span></span>:<span class="hljs-number"><span class="hljs-number">0.4849</span></span>}, {<span class="hljs-string"><span class="hljs-string">"tag"</span></span>:<span class="hljs-string"><span class="hljs-string">"person6"</span></span>,<span class="hljs-string"><span class="hljs-string">"coord"</span></span>:[<span class="hljs-number"><span class="hljs-number">194</span></span>,<span class="hljs-number"><span class="hljs-number">76</span></span>,<span class="hljs-number"><span class="hljs-number">258</span></span>,<span class="hljs-number"><span class="hljs-number">167</span></span>],<span class="hljs-string"><span class="hljs-string">"confidence"</span></span>:<span class="hljs-number"><span class="hljs-number">0.9984</span></span>,<span class="hljs-string"><span class="hljs-string">"awesomeness"</span></span>:<span class="hljs-number"><span class="hljs-number">0.5725</span></span>} ] } ], <span class="hljs-string"><span class="hljs-string">"aliases_changed"</span></span>:false }, <span class="hljs-string"><span class="hljs-string">"htmlencoded"</span></span>:false, <span class="hljs-string"><span class="hljs-string">"last_modified"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span> }</code> </pre> <br> 我对JSON进行了一些格式化。 响应包含人的标识符，照片中人脸的坐标和两个参数：人脸的识别程度以及该人与标准的匹配程度。 您可以使用编程语言发送带有图片的POST请求，获取JSON并解析响应。 <br><br> 如果十字架很大，只需确定十几个人，就可以手动设置。 然后，系统将为熟悉的人提供标识符，为陌生的人提供标识符。 例如，如果员工辞职，也可以有选择地将人员撤离。 <br><br><h1> 主意 </h1><br> 您可以在哪些项目中使用人脸识别？ 如果要实施带宽系统，则必须担心防欺骗。 例如，添加红外相机以确定它是照片还是活人。 或放置两个摄像机来确定物体的深度，可以使用OpenCV完成。 <br><br> 您可以组织对入口处的人的识别。 如果这些是您的邻居，那么一切都井然有序，如果某人是局外人，则可以向自己发送警报。 我们的房子有这样的问题，陌生人会定期走来走去，并在自己着陆后留下很多垃圾。 <br><br> 如果您制作“智能镜子”，则可以为其配备家人的认可，以便每个人都可以展示出对他有趣的东西。 说，镜子会告诉我今天的会议时间表，她和我的女儿会愉快地向我打招呼，并愿意像往常一样迅速刷牙，但要花两分钟。 <br><br> 另一个想法是，该国的自动门可以识别车牌。 为了不出门或不按遥控器上的按钮，您可以放置​​一台将删除您的电话号码的摄像头，然后门会自动打开。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN473828/">https://habr.com/ru/post/zh-CN473828/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN473816/index.html">您可能不知道的现代JavaScript功能</a></li>
<li><a href="../zh-CN473818/index.html">在TSD上的应用以及通过HTTP服务与1C：Enterprise 8.3的通信。 第4部分（带有键盘仿真的OnKeyUp。SC扫描器）</a></li>
<li><a href="../zh-CN473822/index.html">1天的工作机会：我们如何在同一天进行面试并提供反馈</a></li>
<li><a href="../zh-CN473824/index.html">如何在单个系统中构建用于销售计划的业务技术</a></li>
<li><a href="../zh-CN473826/index.html">Apache Web服务器上的OTP身份验证</a></li>
<li><a href="../zh-CN473832/index.html">ShIoTiny：更新和通知</a></li>
<li><a href="../zh-CN473834/index.html">Clos网络中的黑盒监控。 Yandex报告</a></li>
<li><a href="../zh-CN473838/index.html">DJI Mavic Mini：最轻的折叠直升机</a></li>
<li><a href="../zh-CN473840/index.html">通过UDP将Android设备中的视频流传输到JAVA应用程序</a></li>
<li><a href="../zh-CN473842/index.html">十月机器学习和人工智能新闻摘要</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>