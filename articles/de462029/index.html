<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👩‍👧‍👦 🍀 🤚🏻 19 nützliche Funktionen der .htaccess-Datei 🎅🏻 🤐 👩🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich wette, Sie waren sich einiger nicht bewusst. Wir haben .htaccess-Anwendungen zusammengestellt, um die Website zu verbessern. Es wird häufig von Op...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>19 nützliche Funktionen der .htaccess-Datei</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/promopult/blog/462029/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/fp/j1/7v/fpj17vbejxqjouncivragbm2t5m.jpeg" alt="19 nützliche Funktionen der .htaccess-Datei"></div><br><br><p>  Ich wette, Sie waren sich einiger nicht bewusst.  Wir haben .htaccess-Anwendungen zusammengestellt, um die Website zu verbessern.  Es wird häufig von Optimierern verwendet, um 301-Weiterleitungen korrekt zu konfigurieren.  Die Möglichkeiten der Datei sind jedoch nicht darauf beschränkt.  Hier Sicherheits-, Optimierungs- und Anzeigeeinstellungen - Mit .htaccess kann der Webmaster viele nützliche Dinge tun, damit die Site ordnungsgemäß funktioniert. </p><a name="habracut"></a><br><p>  Die .htaccess-Datei (kurz für "Hypertext-Zugriff") überschreibt die Einstellungen des beliebtesten Apache-Webservertyps und seiner Analoga.  Im Folgenden finden Sie Möglichkeiten, .htaccess mit Codebeispielen für verschiedene Zwecke zu verwenden. </p><br><div class="spoiler">  <b class="spoiler_title">Artikelinhalt</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Warum .htaccess benötigt wird und wo danach gesucht werden muss</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Syntax .htaccess</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Richten Sie Weiterleitungen für SEO ein</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wir bieten Site-Sicherheit</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Passen Sie die Anzeige der Site an</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wir optimieren die Seite</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Noch ein paar Möglichkeiten</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Allgemeine .htaccess-Regeln</a> <br></div></div><br><a name="id1"></a><h2>  Warum .htaccess benötigt wird und wo danach gesucht werden muss </h2><br><p>  Die Datei wird für flexiblere Servereinstellungen für Optimierungsaufgaben benötigt.  Das Festlegen von Regeln in .htaccess lohnt sich nicht, wenn Sie Zugriff auf die Konfigurationsdatei des Hauptservers .httpd.conf oder apache.conf haben (der Name hängt von den Einstellungen des Betriebssystems ab).  Änderungen werden schneller wirksam, Anforderungen überlasten den Server nicht.  Sehr oft gibt es jedoch keinen solchen Zugang, beispielsweise im Fall von Shared Hosting.  Dann müssen Sie die notwendigen Einstellungen über .htaccess registrieren. </p><br><p>  Funktionen .htaccess für die Site-Optimierung: </p><br><ul><li>  Einrichten von Weiterleitungen für SEO. </li><li>  Gewährleistung der Sicherheit der Ressource als Ganzes und einzelner Abschnitte. </li><li>  Einstellen der korrekten Anzeige der Site. </li><li>  Geschwindigkeitsoptimierung herunterladen. </li></ul><br><h3>  Wo suchen und wie bearbeiten </h3><br><p>  Wenn sich die .htaccess-Datei im Stammordner befindet, erstreckt sich die Befehlsaktion auf die gesamte Site, Sie können sie jedoch in einem beliebigen Verzeichnis ablegen.  Dann betreffen die Anweisungen nur ein bestimmtes Verzeichnis und Unterverzeichnisse.  Daher kann eine Ressource mehrere .htaccess-Dateien enthalten.  Die Befehle der Datei, die sich im Verzeichnis und nicht im Stammverzeichnis befindet, haben Vorrang. </p><br><p>  .htaccess ist der allgemein akzeptierte und beliebteste Name, der jedoch nicht erforderlich ist (er ist in der Datei httpd.conf angegeben).  Trotz des ungewöhnlichen Namens können Sie die Datei in jedem Texteditor erstellen und bearbeiten. </p><br><p>  Einige CMS bieten die Möglichkeit, die Datei über das Administrationsfenster zu bearbeiten.  In Bitrix finden Sie es leicht im Abschnitt Inhalt - Dateien und Ordner: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1_/2f/vc/1_2fvcz6ltpvxfcnlxvi9gwi94u.png" alt="19 nützliche Funktionen der .htaccess-Datei"></div><br><br><p>  In WordPress können Sie .htaccess mit den Plugin-Modulen Yoast SEO und All in One SEO Pack bearbeiten. </p><br><p>  Wenn die .htaccess-Datei fehlt, erstellen Sie sie in einem Texteditor und legen Sie sie im Stammordner der Site oder im gewünschten Verzeichnis ab (Sie benötigen Zugriff auf das Hosting oder über FTP). </p><br><a name="id2"></a><h2>  Syntax .htaccess </h2><br><p>  Die Dateisyntax ist einfach: Jede Anweisung (Befehl) beginnt mit einer neuen Zeile. Nach dem # -Zeichen können Sie Kommentare hinzufügen, die vom Server nicht berücksichtigt werden.  Änderungen an der Site werden sofort wirksam, ein Neustart des Servers ist nicht erforderlich. </p><br><p>  Regeln werden festgelegt, einschließlich der Verwendung regulärer Ausdrücke.  Um sie lesen zu können, müssen Sie die Bedeutung von Sonderzeichen und Variablen verstehen.  Entschlüsseln Sie die am häufigsten verwendeten. </p><br><h3>  Die wichtigsten Sonderzeichen: </h3><br><ul><li>  ^ - Zeilenanfang; </li><li>  $ - Zeilenende; </li><li>  .  - irgendein Charakter; </li><li>  * - beliebig viele Zeichen; </li><li> ?  - ein bestimmtes Zeichen; </li><li>  [0-9] ist eine Folge von Zeichen, beispielsweise von 0 bis 9; </li><li>  |  - "oder" Symbol, entweder die eine oder die andere Gruppe ist ausgewählt; </li><li>  () - Dient zum Auswählen von Zeichengruppen. </li></ul><br><h3>  Die Hauptvariablen sind: </h3><br><ul><li>  % {HTTP_USER_AGENT} - User-Agent-Feld, das vom Browser des Benutzers übertragen wird; </li><li>  % {REMOTE_ADDR} - IP-Adresse des Benutzers; </li><li>  % {REQUEST_URI} - der angeforderte URI; </li><li>  % {QUERY_STRING} - Abfrageparameter nach dem? -Zeichen. </li></ul><br><p>  Für diejenigen, die sich eingehend mit dem Thema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=http://">befassen</a> möchten - die vollständige offizielle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=http://">Dokumentation zur Verwendung von .htaccess</a> oder eine gute <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ressource in russischer Sprache</a> .  Wir werden die Hauptfunktionen der Datei durchgehen, um Ihre Site zu optimieren. </p><br><a name="id3"></a><h2>  Richten Sie Weiterleitungen für SEO ein </h2><br><p>  Wie bereits erwähnt, ist dies die beliebteste Methode zur Verwendung von .htaccess.  Stellen Sie vor dem Konfigurieren dieser oder jener Art der Anrufweiterleitung sicher, dass dies wirklich erforderlich ist.  Beispielsweise ist in einigen CMS standardmäßig eine Umleitung zu Seiten mit einem Schrägstrich konfiguriert.  Wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">haben</a> über die Weiterleitungseinstellungen für SEO <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im Blog geschrieben</a> . </p><br><h3>  Beachten Sie beim Einrichten von 301-Weiterleitungen zwei Regeln: </h3><br><ol><li>  Vermeiden Sie mehrere aufeinanderfolgende Weiterleitungen - sie erhöhen die Belastung des Servers und verringern die Geschwindigkeit der Site. </li><li>  Platzieren Sie Weiterleitungen von privat zu global.  Führen Sie beispielsweise zuerst eine Seite zu einer anderen um, dann eine allgemeine Weiterleitung zu Seiten mit einem Schrägstrich.  Diese Regel funktioniert in 100% der Fälle nicht. Sie müssen daher mit der Platzierung von Anweisungen experimentieren. </li></ol><br><h3>  1. Richten Sie Weiterleitungen auf Seite 301 ein </h3><br><p>  Dies ist in folgenden Fällen erforderlich: </p><br><ul><li>  Die Struktur der Site hat sich geändert, und die Verschachtelungsebene der Seite hat sich geändert. </li><li>  Die Seite existiert nicht mehr, es ist jedoch erforderlich, den eingehenden Datenverkehr beizubehalten (z. B. werden Waren in Abwesenheit von Waren normalerweise in die Produktkategorie umgeleitet). </li><li>  URL geändert, was äußerst unerwünscht ist, aber auch gefunden wird. </li></ul><br><p>  Das Löschen der Seite ist eine schlechte Idee. Es ist besser, dem Roboter keinen 404-Fehler zu geben, sondern ihn auf eine andere URL umzuleiten.  In diesem Fall besteht die Möglichkeit, die Position der Site in der Ausgabe und im gezielten Verkehr nicht zu verlieren.  Mit der <strong>einfachen Umleitungsanweisung</strong> können Sie 301 Weiterleitungen von einer Seite zur anderen konfigurieren: </p><br><p></p><pre><code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">Redirect</span></span> 301 /page1/ https://mysite.com/page2/</code> </pre> <br><ul><li>  <code>/page1/</code> - <code>/page1/</code> vom Stammverzeichnis ohne Protokoll und Domäne.  Zum Beispiel <code>/catalog/ofisnaya-mebel/kompjuternye-stoly/</code> . </li><li>  <code>https://mysite.com/page2/</code> - vollständige Adresse der Weiterleitungsseite, einschließlich Protokoll und Domain.  Zum Beispiel <code>https://dom-mebeli.com/ofisnaya-mebel/stoly-v-ofis/</code> . </li></ul><br><h3>  2. Takes loswerden </h3><br><p>  Jede Seite der Site sollte nur unter einer Adresse zugänglich sein.  Dazu muss Folgendes konfiguriert werden: </p><br><ul><li>  Weiterleiten zu Seiten mit einem Schrägstrich am Ende der URL oder umgekehrt; </li><li>  Der Hauptspiegel ist die Hauptadresse der Site in der Suche. </li></ul><br><p>  Dies kann mit dem Modul <code>mod_rewrite</code> .  Es werden spezielle Befehle verwendet - <strong>komplexe Umleitungsanweisungen</strong> .  Der erste Befehl ist immer, die URL-Konvertierung zu aktivieren: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">On</span></span></code> </pre> <br><h4>  Weiter zum Schrägstrich oder umgekehrt </h4><br><p>  Ob Sie zu Seiten mit oder ohne Schrägstrich umleiten möchten, müssen Sie jeweils individuell entscheiden.  Wenn die Site bereits einen Verlauf in der Suche gesammelt hat, analysieren Sie, welche Seiten im Index größer sind.  Bei neuen Websites wird normalerweise eine Umleitung zu einem Schrägstrich eingerichtet.  Es ist einfach zu überprüfen, ob die Umleitung nicht standardmäßig konfiguriert ist: Entfernen / Hinzufügen eines Schrägstrichs am Ende der URL.  Wenn die Seite mit einer neuen Adresse neu geladen wird - wir haben Duplikate, ist eine Konfiguration erforderlich.  Wenn die URL ersetzt wird, ist alles in Ordnung.  Es ist besser, mehrere Verschachtelungsebenen zu überprüfen. </p><br><h4>  Code 301 Weiterleitung zu einem Schrägstrich: </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span></span></span> <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span> /+[^\.]+$ RewriteRule ^(.+[^/])$ <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span>/<span class="hljs-meta"><span class="hljs-meta"> [R=301,L]</span></span></code> </pre> <br><h4>  Code 301 Weiterleitung zu Seiten ohne Schrägstrich: </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span></span></span> <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span> !\? RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span> !\&amp; RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span> !\= RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span> !\. RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span> ![^\/]$ RewriteRule ^(.*)\/$ /<span class="hljs-number"><span class="hljs-number">$1</span></span><span class="hljs-meta"><span class="hljs-meta"> [R=301,L]</span></span></code> </pre> <br><h3>  3. Richten Sie den Hauptspiegel ein </h3><br><p>  Zuerst müssen Sie entscheiden, welche Adresse die Hauptadresse für die Suche sein soll.  Das SSL-Zertifikat ist seit langem ein Impressum.  Installieren Sie es einfach und fügen Sie die Regel in .htaccess hinzu.  Denken Sie daran, es auch in robots.txt zu registrieren. </p><br><h4>  HTTPS-Umleitung </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">On</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTPS}</span></span> !<span class="hljs-literal"><span class="hljs-literal">on</span></span> RewriteRule (.*) https://<span class="hljs-variable"><span class="hljs-variable">%{HTTP_HOST}</span></span><span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span></code> </pre> <br><p>  Es gibt verschiedene Möglichkeiten, um festzustellen, ob der Hauptspiegel mit "www" angezeigt wird oder nicht: </p><br><ul><li>  Wenn Sie Yandex.Webmaster in zwei Versionen eine Site hinzufügen, zeigt die Konsole Informationen darüber an, welche URL die Suchmaschine als Hauptspiegel betrachtet. </li><li>  Analysieren Sie die Ausgabe und sehen Sie, welche Seiten der Website mehr im Index enthalten sind. </li><li>  Für eine neue Ressource spielt es keine Rolle, mit oder ohne www, es wird eine Adresse geben, Sie haben die Wahl. </li></ul><br><p>  Verwenden Sie nach der Auswahl eine der beiden Codeoptionen. </p><br><h4>  Weiterleiten von www nach ohne www </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">On</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTP_HOST}</span></span> ^www\.(.*)$<span class="hljs-meta"><span class="hljs-meta"> [NC] RewriteRule ^(.*)$ http://%1/$1 [R=301,L]</span></span></code> </pre> <br><h4>  Weiterleiten ohne www zu www </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">On</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTP_HOST}</span></span> !^www\..*<span class="hljs-meta"><span class="hljs-meta"> [NC] RewriteRule ^(.*) http://www.%{HTTP_HOST}/$1 [R=301]</span></span></code> </pre> <br><h3>  4. Wir leiten von einer Domain zur anderen weiter </h3><br><p>  Der offensichtlichste Grund für das Einrichten dieser Umleitung besteht darin, Roboter und Benutzer an eine andere Adresse umzuleiten, wenn die Site in eine neue Domäne verschoben wird.  Optimierer verwenden es auch, um die Referenzmasse zu manipulieren, aber Drop-Domains und PBN sind graue Promotion-Technologien, die wir in diesem Material nicht ansprechen werden. </p><br><p>  <strong>Verwenden Sie eine der Codeoptionen:</strong> </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">On</span></span> RewriteRule ^(.*)$ http://www.mysite2.com/<span class="hljs-number"><span class="hljs-number">$1</span></span><span class="hljs-meta"><span class="hljs-meta"> [R=301,L]</span></span></code> </pre> <br><p>  <strong>oder</strong> </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTP_HOST}</span></span> ^www\.mysite1\.ru$<span class="hljs-meta"><span class="hljs-meta"> [NC] RewriteRule ^(.*)$ http://www.mysite2.ru/$1 [R=301,L]</span></span></code> </pre> <br><p>  Vergessen Sie nicht, "mysite1" und "mysite2" im Code in die alte bzw. neue Domain zu ändern. </p><br><blockquote><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SEO-Modul</a> im Promopult-System: für diejenigen, die nicht routinemäßig ertrinken wollen.  Alle Tools zur Verbesserung der Qualität der Website und zur Suchförderung, Prozessautomatisierung, Checklisten und detaillierten Berichte. </p></blockquote><br><a name="id4"></a><h2>  Wir bieten Site-Sicherheit </h2><br><p>  Die .htaccess-Datei bietet hervorragende Möglichkeiten, die Site vor böswilligen Skripten, Inhaltsdiebstahl und DOS-Angriffen zu schützen.  Sie können auch den Zugriff auf bestimmte Dateien und Partitionen schützen. </p><br><h3>  5. Wir untersagen das Herunterladen von Bildern von Ihrer Website </h3><br><p>  Es gibt Technologien, bei denen Websites von Drittanbietern Inhalte, einschließlich Bilder, verwenden und diese per Hotlink direkt von Ihrem Hosting herunterladen (direkte Links zu Dateien).  Dies ist nicht nur beleidigend und verletzt das Urheberrecht, sondern führt auch zu einer unnötigen zusätzlichen Belastung Ihres Servers. </p><br><p>  Belagern Sie Diebe mit diesem Code: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">Options</span></span></span></span> +FollowSymlinks RewriteEngine <span class="hljs-literal"><span class="hljs-literal">On</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTP_REFERER}</span></span> !^$ RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTP_REFERER}</span></span> !^https://(www.)?mysite.com/<span class="hljs-meta"><span class="hljs-meta"> [nc] RewriteRule .*.(gif|jpg|png)$ https://mysite.com/img/goaway.gif[nc]</span></span></code> </pre> <br><p>  Ersetzen Sie "mysite.com" durch die Adresse Ihrer Website und erstellen Sie ein Bild mit der Meldung, dass das Stehlen von Bildern anderer Personen unter <code>https://mysite.com/img/goaway.gif</code> nicht gut ist.  Dieses Bild wird in einer Ressource eines Drittanbieters angezeigt. </p><br><h3>  6. Zugriff verweigern </h3><br><p>  Ganze Gruppen unerwünschter Gäste aus bestimmten IP-Adressen, Subnetzen und böswilligen Bots können mithilfe der folgenden Anweisungen in .htaccess der Zugriff auf Ihre Ressource verweigert werden. </p><br><h4>  Für unerwünschte User Agents (Bots) </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">SetEnvIfNoCase</span></span> user-Agent ^FrontPage<span class="hljs-meta"><span class="hljs-meta"> [NC,OR] SetEnvIfNoCase user-Agent ^Java.* [NC,OR] SetEnvIfNoCase user-Agent ^Microsoft.URL [NC,OR] SetEnvIfNoCase user-Agent ^MSFrontPage [NC,OR] SetEnvIfNoCase user-Agent ^Offline.Explorer [NC,OR] SetEnvIfNoCase user-Agent ^[Ww]eb[Bb]andit [NC,OR] SetEnvIfNoCase user-Agent ^Zeus [NC] &lt;limit get=”” post=”” head=””&gt; Order Allow,Deny Allow from all Deny from env=bad_bot &lt;/limit&gt;</span></span></code> </pre> <br><p>  Die Liste der Benutzeragenten kann ergänzt, reduziert oder selbst erstellt werden.  Die Liste der guten und schlechten Bots finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . </p><br><p>  Ein Sonderfall eines solchen Verbots ist ein Verbot für Suchroboter.  Wenn Sie aus irgendeinem Grund mit der Regel in robots.txt nicht zufrieden sind, können Sie den Zugriff auf Googlebot beispielsweise mithilfe der folgenden Anweisungen verweigern: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{USER_AGENT}</span></span> Googlebot RewriteRule .* -<span class="hljs-meta"><span class="hljs-meta"> [F]</span></span></code> </pre> <br><h4>  Für alle außer der angegebenen IP </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">ErrorDocument</span></span></span></span> 403 https://mysite.com Order deny,allow Deny from <span class="hljs-literal"><span class="hljs-literal">all</span></span> Allow from IP1 Allow from IP2  . .</code> </pre> <br><p>  Vergessen Sie nicht, "https://mysite.com" durch die Adresse Ihrer Site zu ersetzen und IP-Adressen anstelle von IP1, IP2 usw. einzugeben. </p><br><h4>  Für bestimmte IP-Adressen </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">allow</span></span></span></span> from <span class="hljs-literal"><span class="hljs-literal">all</span></span> deny from IP1 deny from IP2  . .</code> </pre> <br><h4>  Für Subnetz </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">allow</span></span></span></span> from <span class="hljs-literal"><span class="hljs-literal">all</span></span> deny from 192.168.0.0/24</code> </pre> <br><p>  Geben Sie die Netzmaske in die Zeile nach "Verweigern von" ein. </p><br><p>  Spam-IP-Adressen können in Serverprotokollen oder mithilfe von Statistikdiensten berechnet werden.  Das WordPress-Administrator-Dashboard zeigt die IP-Adressen der Kommentatoren an: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tu/h-/pv/tuh-pvunxnt_8dwik_mcs_qqrwe.png" alt="19 nützliche Funktionen der .htaccess-Datei"></div><br><br><h4>  Zu einer bestimmten Datei </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;files myfile.html&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">order</span></span></span></span> allow,deny deny from <span class="hljs-literal"><span class="hljs-literal">all</span></span> &lt;/files&gt;</code> </pre> <br><p>  Geben Sie im Beispiel den Dateinamen anstelle von "myfile.html" ein.  Dem Benutzer wird der Fehler 403 - "Zugriff verweigert" angezeigt. </p><br><p>  Es ist aus Sicherheitsgründen nicht überflüssig, den Zugriff auf die .htaccess-Datei selbst einzuschränken. Wir empfehlen außerdem, dass Sie nach dem Festlegen aller Regeln 444 Berechtigungen für die Datei festlegen. </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;Files .htaccess&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">order</span></span></span></span> allow,deny deny from <span class="hljs-literal"><span class="hljs-literal">all</span></span> &lt;/Files&gt;</code> </pre> <br><p>  Für WordPress-Sites ist es wichtig, den Zugriff auf die Datei wp-config.php als einzuschränken  Es enthält Informationen zur Datenbank: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;files wp-config.php&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">order</span></span></span></span> allow,deny deny from <span class="hljs-literal"><span class="hljs-literal">all</span></span> &lt;/files&gt;</code> </pre> <br><h4>  Für Benutzer, die von einer bestimmten Site kommen </h4><br><p>  Sie können Besucher von unerwünschten Ressourcen abhalten (z. B. mit Inhalten für Erwachsene oder schockierende Inhalte). </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;IfModule mod_rewrite.c&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTP_REFERER}</span></span> bad-site.com<span class="hljs-meta"><span class="hljs-meta"> [NC,OR] RewriteCond %{HTTP_REFERER} bad-site.com [NC,OR] RewriteRule .* - [F] &lt;/ifModule&gt;</span></span></code> </pre> <br><h3>  7. Schützen Sie den Zugriff auf eine bestimmte Datei oder einen bestimmten Ordner </h3><br><p>  Erstellen Sie zunächst eine .htpasswd-Datei, schreiben Sie Anmeldungen und Kennwörter im Benutzer: Kennwortformat ein und platzieren Sie sie im Stammverzeichnis der Site.  Aus Sicherheitsgründen werden Passwörter am besten verschlüsselt.  Dies kann beispielsweise mithilfe spezieller Dienste zum Generieren von Datensätzen erfolgen.  Der nächste Schritt ist das Hinzufügen von Verzeichnissen oder Dateien zu .htaccess: </p><br><h4>  Dateikennwortschutz </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;files secure.php=””&gt;</span></span> <span class="hljs-attribute"><span class="hljs-attribute">AuthType</span></span> Basic AuthName “” AuthUserFile /pub/home/.htpasswd Require valid-user &lt;/files&gt;</code> </pre> <br><h4>  Kennwortschutzordner </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">resides</span></span> AuthType basic AuthName “This directory is protected” AuthUserFile /pub/home/.htpasswd AuthGroupFile /dev/null Require valid-user</code> </pre> <br><p>  Geben Sie anstelle von "/pub/home/.htpasswd" den Pfad zur .htpasswd-Datei vom Serverstamm an.  Wir empfehlen, den Zugriff nach der Installation des Codes zu überprüfen. </p><br><h3>  8. Wir verbieten die Ausführung von schädlichen Skripten </h3><br><p>  Die folgende Gruppe von Anweisungen schützt die Site vor der sogenannten "Skriptinjektion" - einem Tool für Hackerangriffe: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">Options</span></span></span></span> +FollowSymLinks RewriteEngine <span class="hljs-literal"><span class="hljs-literal">On</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{QUERY_STRING}</span></span> (\&lt;|<span class="hljs-number"><span class="hljs-number">%3</span></span>C).*script.*(\&gt;|<span class="hljs-number"><span class="hljs-number">%3</span></span>E)<span class="hljs-meta"><span class="hljs-meta"> [NC,OR] RewriteCond %{QUERY_STRING} GLOBALS(=|\[|\%[0-9A-Z]{0,2}) [OR] RewriteCond %{QUERY_STRING} _REQUEST(=|\[|\%[0-9A-Z]{0,2}) RewriteRule ^(.*)$ index.php [F,L]</span></span></code> </pre> <br><p>  Alle Versuche, Ihrer Ressource Schaden zuzufügen, werden auf die Fehlerseite 403 "Zugriff verweigert" umgeleitet. </p><br><h3>  9. Schützen Sie die Site vor DOS-Angriffen </h3><br><p>  Eine der Schutzmethoden besteht darin, die maximal zulässige Anforderungsgröße zu begrenzen (standardmäßig gibt es keine Einschränkung). </p><br><p>  Legen Sie dazu die Größe der heruntergeladenen Dateien in Byte in .htaccess fest: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">LimitRequestBody</span></span> 10240000</code> </pre> <br><p>  Im Beispiel beträgt die Größe 10 MB.  Wenn Sie das Herunterladen von Dateien verhindern möchten, schreiben Sie eine Zahl von weniger als 1 MB (1048576 Byte). </p><br><p>  Sie können auch die Möglichkeiten der Direktiven LimitRequestFields, LimitRequestFieldSize und LimitRequestLine in der offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=http://">Dokumentation untersuchen</a> . </p><br><a name="id5"></a><h2>  Passen Sie die Anzeige der Site an </h2><br><p>  Lassen Sie uns sehen, was mit der Anzeige der gesamten Ressource oder ihrer Abschnitte in den Browsern der Benutzer mithilfe von .htaccess getan werden kann. </p><br><h3>  10. Ersetzen Sie die Indexdatei </h3><br><p>  Eine Indexdatei wird standardmäßig geöffnet, wenn auf ein bestimmtes Verzeichnis zugegriffen wird.  Normalerweise heißen sie: index.html, index.htm, index.php, index.phtml, index.shtml, default.htm, default.html. </p><br><p>  So sieht es in der Verzeichnisstruktur aus: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kk/hy/8m/kkhy8muv-omjellggi7b6kwczto.png" alt="19 nützliche Funktionen der .htaccess-Datei"></div><br><br><p>  Um diese Datei durch eine andere zu ersetzen, legen Sie sie im Verzeichnis .htaccess ab und fügen Sie den folgenden Befehl hinzu: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">DirectoryIndex</span></span> hello.html</code> </pre> <br><p>  Geben Sie anstelle von "hello.html" die Adresse der gewünschten Datei ein. </p><br><p>  Sie können die Reihenfolge der Dateien angeben, die in der angegebenen Reihenfolge geöffnet werden, wenn eine davon nicht verfügbar ist: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">DirectoryIndex</span></span> hello.html hello.php hello.pl</code> </pre> <br><h3>  11. Fügen Sie HTML am Ende der URL hinzu oder entfernen Sie es </h3><br><p>  Das Beibehalten oder Entfernen der Dateierweiterung in der URL ist Sache jedes Optimierers.  Es gibt keine verlässlichen Studien über die Auswirkung von Erweiterungen in Adressen auf das Ressourcenranking, aber jeder Webmaster hat eine Meinung dazu. </p><br><h4>  So fügen Sie .html hinzu: </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span></span></span> <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span> (.*/[^/.]+)($|\?) RewriteRule .* <span class="hljs-number"><span class="hljs-number">%1</span></span>.html<span class="hljs-meta"><span class="hljs-meta"> [R=301,L] RewriteRule ^(.*)/$ /$1.html [R=301,L]</span></span></code> </pre> <br><h4>  So entfernen Sie .html: </h4><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">RewriteBase</span></span> / RewriteRule (.*)\.html$ <span class="hljs-number"><span class="hljs-number">$1</span></span><span class="hljs-meta"><span class="hljs-meta"> [R=301,L]</span></span></code> </pre> <br><p>  Dieselben Anweisungen können die PHP-Erweiterung hinzufügen / entfernen. </p><br><h3>  12. Richten Sie die Codierung ein </h3><br><p>  Um Fehler bei der Anzeige der Ressource durch den Browser zu vermeiden, müssen Sie angeben, in welcher Codierung die Site erstellt wurde.  Am beliebtesten: </p><br><ul><li>  UTF-8 - universell </li><li>  Windows-1251 - Kyrillisch </li><li>  Windows-1250 - für Mitteleuropa </li><li>  Windows-1252 - für Westeuropa </li><li>  KOI8-R - Kyrillisch (KOI8-R) </li></ul><br><p>  Am häufigsten verwenden sie UTF-8 und Windows-1251. </p><br><p>  Wenn die Codierung nicht im Meta-Tag jeder Seite angegeben ist, können Sie sie über .htaccess angeben. </p><br><p>  Ein Beispiel für eine Direktive, die die Datei auf UTF-8-Codierung setzt: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">AddDefaultCharset</span></span> UTF-8</code> </pre> <br><p>  Ein solcher Befehl bedeutet, dass alle auf den Server hochgeladenen Dateien in Windows-1251 konvertiert werden: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">CharsetSourceEnc</span></span> WINDOWS-1251</code> </pre> <br><p>  Die Beispiele zeigen unterschiedliche Codierungen, aber innerhalb derselben Site müssen die Codierungen in diesen Anweisungen übereinstimmen. </p><br><h3>  13. Erstellen Sie benutzerdefinierte Fehlerseiten </h3><br><p>  Mithilfe von Regeln in .htaccess können Sie die Anzeige speziell erstellter Seiten für die häufigsten Fehler konfigurieren, z. B.: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">ErrorDocument</span></span></span></span> 401 /error/401.php ErrorDocument 403 /error/403.php ErrorDocument 404 /error/404.php ErrorDocument 500 /error/500.php</code> </pre> <br><p>  Erstellen Sie vor dem Schreiben der Anweisungen den Fehlerordner im Stammverzeichnis der Site und platzieren Sie dort die entsprechenden Dateien für die Fehlerseiten. </p><br><p>  Warum wird das benötigt?  Zum Beispiel, um den Benutzer auf Seite 404 nicht zu verlieren, sondern ihm die Möglichkeit zu geben, zu anderen Abschnitten der Site zu wechseln: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3p/lg/xe/3plgxe1dd33l2sqrixfcjqw_jie.png" alt="19 nützliche Funktionen der .htaccess-Datei"></div><br><br><a name="id6"></a><h2>  Wir optimieren die Seite </h2><br><p>  Die Ladegeschwindigkeit der Website ist einer der Ranking-Faktoren in Suchmaschinen.  Sie können es erhöhen, einschließlich der Anweisungen in .htaccess. </p><br><h3>  14. Komprimieren Sie Site-Komponenten mit mod_gzip oder mod_deflate </h3><br><p>  Die Dateikomprimierung erhöht einerseits die Geschwindigkeit beim Laden einer Site, andererseits lädt sie den Server stärker.  In .htaccess können Sie die Komprimierung mit zwei Modulen aktivieren - mod_zip und mod_deflate.  Sie sind in der Kompressionsqualität nahezu identisch. </p><br><p>  Die Syntax des Gzip-Moduls ist flexibler und kann mit Masken arbeiten: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;ifModule mod_gzip.c&gt;</span></span> <span class="hljs-attribute"><span class="hljs-attribute">mod_gzip_on</span></span> Yes mod_gzip_dechunk Yes mod_gzip_item_include file \.(html?|txt|css|js|php|pl)$ mod_gzip_item_include handler ^cgi-script$ mod_gzip_item_include mime ^text/.* mod_gzip_item_include mime ^application/x-javascript.* mod_gzip_item_exclude mime ^image/.* mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.* &lt;/ifModule&gt;</code> </pre> <br><p>  In mod_deflate listen Sie die Dateitypen auf, die Sie komprimieren möchten: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;ifModule mod_deflate.c&gt;</span></span> <span class="hljs-attribute"><span class="hljs-attribute">AddOutputFilterByType</span></span> DEFLATE text/html text/plain text/xml application/xml application/xhtml+xml text/css text/javascript application/javascript application/x-javascript &lt;/ifModule&gt;</code> </pre> <br><h3>  15. Wir stärken das Caching </h3><br><p>  Mit diesen Befehlen können Sie die Site schnell für die Besucher laden, die bereits darauf waren.  Der Browser lädt Bilder und Skripte nicht erneut vom Server herunter, sondern verwendet Daten aus dem Cache. </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">FileETag</span></span> MTime Size &lt;ifmodule mod_expires.c&gt; &lt;filesmatch “.(jpg|gif|png|css|js)$”&gt; ExpiresActive <span class="hljs-literal"><span class="hljs-literal">on</span></span> ExpiresDefault “access plus 1 week” &lt;/filesmatch&gt; &lt;/ifmodule&gt;</code> </pre> <br><p>  In diesem Beispiel ist die Lebensdauer des Caches auf eine Woche ("1 Woche") begrenzt. Sie können Ihren Zeitraum in Monaten (Monat), Jahren (Jahr), Stunden (Stunden) usw. angeben. </p><br><p>  Eine weitere Codeoption: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;IfModule mod_expires.c&gt;</span></span> <span class="hljs-attribute"><span class="hljs-attribute">ExpiresActive</span></span> <span class="hljs-literal"><span class="hljs-literal">On</span></span> ExpiresByType application/javascript <span class="hljs-string"><span class="hljs-string">"access plus 7 days"</span></span> ExpiresByType text/javascript <span class="hljs-string"><span class="hljs-string">"access plus 7 days"</span></span> ExpiresByType text/css <span class="hljs-string"><span class="hljs-string">"access plus 7 days"</span></span> ExpiresByType image/gif <span class="hljs-string"><span class="hljs-string">"access plus 7 days"</span></span> ExpiresByType image/jpeg <span class="hljs-string"><span class="hljs-string">"access plus 7 days"</span></span> ExpiresByType image/png <span class="hljs-string"><span class="hljs-string">"access plus 7 days"</span></span> &lt;/IfModule&gt;</code> </pre> <br><p>  Die folgenden Dateitypen stehen zum Zwischenspeichern zur Verfügung: </p><br><ul><li>  Bild / X-Symbol; </li><li>  Bild / JPEG; </li><li>  image / png; </li><li>  Bild / GIF; </li><li>  Anwendung / X-Shockwave-Flash; </li><li>  Text / CSS; </li><li>  Text / Javascript; </li><li>  Anwendung / Javascript; </li><li>  Anwendung / x-Javascript; </li><li>  Text / HTML; </li><li>  application / xhtml + xml. </li></ul><br><a name="id7"></a><h2>  Noch ein paar Möglichkeiten </h2><br><h3>  16. PHP-Einstellungen verwalten </h3><br><p>  Diese Einstellungen werden von Programmierern vorgenommen, wenn kein Zugriff auf die Datei php.ini besteht.  Lassen Sie uns auf php_value-Ausdrücke eingehen, die für die auf die Site hochgeladene Datenmenge und die Verarbeitungszeit von Skripten verantwortlich sind, weil  Dies wirkt sich direkt auf die Leistung aus. </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;ifModule mod_php.c&gt;</span></span> <span class="hljs-attribute"><span class="hljs-attribute">php_value</span></span> upload_max_filesize 125M php_value post_max_size 20M php_value max_execution_time 60 &lt;/ifModule&gt;</code> </pre> <br><p>  In der Zeile "upload_max_filesize" gibt die maximale Größe der heruntergeladenen Dateien in Megabyte an. "Post_max_size" gibt die maximale Anzahl der Veröffentlichungen an. "Max_execution_time" gibt die Zeit in Sekunden für die Verarbeitung der Skripte an. </p><br><h3>  17. Bekämpfung von Spam-Kommentaren in WordPress </h3><br><p>  Fügen Sie diese Anweisungen zu .htaccess hinzu, um zu verhindern, dass Spammer auf die Datei wp-comment-post.php zugreifen. </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">On</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_METHOD}</span></span> POST RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span> .wp-comments-post\.php* RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTP_REFERER}</span></span> !.*mysite.com.*<span class="hljs-meta"><span class="hljs-meta"> [OR] RewriteCond %{HTTP_USER_AGENT} ^$ RewriteRule (.*) ^http://%{REMOTE_ADDR}/$ [R=301,L]</span></span></code> </pre> <br><p>  Geben Sie anstelle von "mysite.com" die Adresse Ihrer Website ein. </p><br><h3>  18. Installieren Sie E-Mail für den Serveradministrator </h3><br><p>  Dieser Code in .htaccess legt standardmäßig die E-Mail-Adresse des Administrators fest.  Es werden Benachrichtigungen zu wichtigen Ereignissen auf dem Server empfangen. </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">ServerSignature</span></span> EMail SetEnv SERVER_ADMIN admin@mysite.com</code> </pre> <br><h3>  19. Wir warnen vor der Nichtverfügbarkeit der Website </h3><br><p>  In einer Situation, in der die Site aus technischen Gründen nicht verfügbar ist, können Sie Benutzer auf eine Seite mit Informationen darüber umleiten, wann die Arbeit wiederhergestellt wird.  Es ist besser, solche Unterbrechungen zu vermeiden, aber unter Umständen höherer Gewalt fügen Sie .htaccess die folgenden Anweisungen hinzu: </p><br><p></p><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span> !/info.html$ RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REMOTE_HOST}</span></span> !^12\.345\.678\.90 RewriteRule $ https://mysite.ru/info.html<span class="hljs-meta"><span class="hljs-meta"> [R=302,L]</span></span></code> </pre> <br><p>  Ersetzen Sie im Beispiel (12 \ .345 \ .678 \ .90) die IP-Adresse durch Ihre eigene. Geben Sie in der letzten Zeile die Adresse der Seite Ihrer Ressource mit Informationen zu Art und Zeitpunkt der Fertigstellung an. </p><br><a name="id8"></a><h2>  Allgemeine .htaccess-Regeln </h2><br><ul><li>  Sichern Sie die Datei immer, bevor Sie Änderungen vornehmen, um sie schnell zurückzusetzen. </li><li>  Nehmen Sie Änderungen Schritt für Schritt vor, fügen Sie eine Regel hinzu und bewerten Sie, wie es funktioniert hat. </li><li>  Wenn Sie mehrere .htaccess-Dateien in verschiedenen Verzeichnissen ablegen und nur neue Anweisungen schreiben, die für ein bestimmtes Verzeichnis in den untergeordneten Verzeichnissen relevant sind, wird der Rest vom übergeordneten Verzeichnis oder der übergeordneten Datei im Stammordner geerbt. </li><li>  Leeren Sie den Browser-Cache: Strg + F5, auf Safari: Strg + R, unter Mac OS: Cmd + R. </li><li>  Wenn ein 500-Fehler auftritt, überprüfen Sie die Syntax der Regel (auf Tippfehler).  Sie können beispielsweise die Dienste zum Online-Überprüfen der .htaccess-Datei verwenden.  Wenn keine Fehler gefunden werden, ist diese Art von Anweisung in der Hauptkonfigurationsdatei verboten. Sie müssen sich an einen Programmierer und Hosting-Anbieter wenden. </li><li>  Kyrillische Zeichen sind in .htaccess-Anweisungen nicht zulässig.  Wenn Sie die Adresse der kyrillischen Domäne (moisite.rf) angeben müssen, verwenden Sie einen beliebigen whois-Dienst, um die Schreibweise mithilfe der Punycode-Methode herauszufinden.  Beispielsweise würde die Adresse "site.rf" wie folgt aussehen: "xn - 80aswg.xn - p1ai / $ 1". </li><li>  Zu viele Anweisungen in .htaccess können die Leistung der Site beeinträchtigen.  Versuchen Sie, die Datei nur zu verwenden, wenn das Problem nicht auf andere Weise gelöst werden kann. </li><li>  Wenn Sie keine Zeit haben, die Funktionen von Anweisungen im Detail zu studieren, verwenden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den .htaccess-Generator</a> . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de462029/">https://habr.com/ru/post/de462029/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de462015/index.html">SAP-Berichtsuniversum</a></li>
<li><a href="../de462021/index.html">Wie man aufhört, dasselbe zu tun</a></li>
<li><a href="../de462023/index.html">Cascadeur: Die Zukunft der Spielanimation</a></li>
<li><a href="../de462025/index.html">Relationales Netzwerkdatenmodell</a></li>
<li><a href="../de462027/index.html">Wie Dark 50ms Code einsetzt</a></li>
<li><a href="../de462031/index.html">Zum Beispiel, wenn Sie die Protokolle lesen !: Starten Sie Hotspot 2.0 im Wi-Fi-Netzwerk in der U-Bahn</a></li>
<li><a href="../de462033/index.html">Das letzte Abendmahl der Entwickler</a></li>
<li><a href="../de462035/index.html">Python gegen R - Data Science</a></li>
<li><a href="../de462041/index.html">Mobile Segmentierungsansätze - Übersetzung</a></li>
<li><a href="../de462043/index.html">Intelligentes Angeln bei FishSensor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>