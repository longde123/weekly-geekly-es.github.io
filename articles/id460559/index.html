<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🤝‍👨🏿 🙆 😇 Sepuluh Perintah Komponen Bereaksi 🚱 😈 👨🏻‍✈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ditulis oleh Kristofer Selbekk , bekerja sama dengan Caroline Odden . Berdasarkan ceramah dengan nama yang sama dan orang yang sama pada pertemuan Rea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sepuluh Perintah Komponen Bereaksi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460559/"><p><img src="https://habrastorage.org/getpro/habr/post_images/adf/1cf/5da/adf1cf5da0c04102046e8b6e8c12322e.jpg" alt="the-10-komponen-perintah"></p><br><blockquote>  Ditulis oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Kristofer Selbekk</a> , bekerja sama dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Caroline Odden</a> .  Berdasarkan ceramah dengan nama yang sama dan orang yang sama pada pertemuan ReactJS di Oslo pada Juni 2019. </blockquote><p>  <em>Dari penerjemah - nama asli dari <strong>10 Komponen Perintah</strong> tidak menyebutkan Bereaksi, tetapi sebagian besar contoh dan rekomendasi berkaitan khusus dengan reaksi, di samping itu, artikel tersebut diletakkan di bawah tag reaksi dan pengembang menulis reaksi</em> . </p><br><p>  Tidak mudah membuat komponen yang akan digunakan banyak pengembang.  Anda harus mempertimbangkan dengan hati-hati props mana yang akan digunakan jika props ini merupakan bagian dari API publik. </p><br><p> Dalam artikel ini, kami akan membuat pengantar singkat untuk beberapa praktik terbaik untuk mengembangkan API secara keseluruhan, serta membentuk <strong>sepuluh perintah</strong> yang dapat Anda gunakan untuk membuat komponen yang akan digunakan oleh rekan pengembang Anda. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eb9/35b/750/eb935b750f7a08ad9116ecd5a115f81e.jpg" alt="api"></p><br><h2 id="chto-takoe-api">  Apa itu API? </h2><br><p>  API - atau antarmuka pemrograman aplikasi - adalah tempat dua potong kode bertemu.  Ini adalah permukaan kontak antara <em>kode Anda</em> dan seluruh dunia.  Kami menyebut permukaan ini sebagai antarmuka.  Ini adalah serangkaian tindakan atau poin data tertentu yang dengannya Anda dapat berinteraksi. </p><br><p>  Antarmuka antara kelas dan kode yang memanggil kelas ini juga merupakan API.  Anda dapat memanggil metode kelas untuk menerima data atau menjalankan fungsi yang terlampir di dalamnya. </p><br><p>  Mengikuti prinsip yang sama, properti <strong>yang diterima komponen Anda, ini adalah API-nya</strong> .  Ini adalah cara pengembang berinteraksi dengan komponen Anda. </p><br><h2 id="nekotorye-luchshie-praktiki-proektirovaniya-api">  Beberapa Praktik Desain API Terbaik </h2><br><p>  Jadi, aturan dan pertimbangan apa yang berlaku saat mengembangkan API?  Ya, kami melakukan sedikit riset, dan ternyata ada banyak sumber yang bagus tentang hal ini.  Kami memilih dua - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Josh Tauberer</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">"Apa yang membuat API bagus?"</a>  dan sebuah artikel oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Ron Kurir dengan judul yang sama</a> - dan sampai pada empat praktik ini. </p><br><h3 id="stabilnye-versii">  Versi stabil </h3><br><p>  Salah satu hal paling penting untuk dipertimbangkan saat membuat API adalah menjaganya tetap stabil.  Jumlah perubahan kritis harus minimal.  Jika Anda harus membuat perubahan penting, pastikan untuk menulis panduan pembaruan terperinci dan, jika mungkin, tulis kode mod yang mengotomatiskan proses ini untuk pengembang. </p><br><h3 id="opisatelnye-soobscheniya-ob-oshibkah">  Pesan Kesalahan Deskriptif </h3><br><p>  Setiap kali terjadi kesalahan saat memanggil API Anda, Anda harus melakukan segala yang mungkin untuk menjelaskan apa yang salah dan bagaimana cara memperbaikinya.  Jika Anda memarahi pengguna dengan pesan seperti "penyalahgunaan" dan tidak memberikan penjelasan apa pun, API Anda akan meninggalkan kesan buruk. </p><br><p>  Alih-alih, tulis kesalahan deskriptif yang membantu pengguna memperbaiki cara mereka menggunakan API Anda. </p><br><h3 id="minimizirovat-syurprizy-dlya-razrabotchikov">  Minimalkan kejutan untuk pengembang </h3><br><p>  Pengembang adalah makhluk yang rapuh, dan Anda tidak perlu menakut-nakuti mereka ketika mereka menggunakan API Anda.  Dengan kata lain, buat API Anda seintuitif mungkin.  Anda akan mencapai ini jika Anda mengikuti praktik terbaik dan konvensi penamaan yang ada. </p><br><p> Selain itu, kode Anda harus selalu konsisten.  Jika Anda menggunakan nama logis properti dengan <code>is</code> atau <code>has</code> di satu tempat, tetapi lewati lebih jauh, ini akan membingungkan orang. </p><br><h3 id="minimizirovat-poverhnost-api">  Minimalkan permukaan API </h3><br><p>  API Anda juga perlu diminimalkan.  Banyak fitur yang bagus, tetapi semakin kecil permukaan API Anda (permukaan API), semakin sedikit pengembang yang harus mempelajarinya untuk mulai bekerja secara produktif dengannya.  Berkat ini, API Anda akan dianggap mudah digunakan! </p><br><p>  Selalu ada cara untuk mengontrol ukuran API Anda.  Salah satunya adalah refactoring API baru dari yang lama. </p><br><h2 id="desyat-zapovedey-dlya-veb-komponentov">  Sepuluh Perintah untuk Komponen Web </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/15e/2c7/33c/15e2c733cf1d3b5e5916c17692a6df5a.jpg" alt="10 Perintah Komponen"></p><br><p>  Jadi, keempat aturan emas ini bekerja dengan baik untuk REST API dan untuk kepingan prosedur lama tentang Pascal - tetapi bagaimana cara mentransfernya ke dunia React modern? </p><br><p>  Seperti yang kami katakan sebelumnya, komponen memiliki API mereka sendiri.  Kami menyebutnya <code>props</code> , dan dengan bantuan mereka data ditransfer ke komponen.  Bagaimana kita menyusun alat peraga agar tidak melanggar aturan di atas? </p><br><p>  Kami telah membuat daftar <strong>sepuluh aturan emas</strong> ini yang paling baik diikuti saat membuat komponen Anda.  Kami berharap semoga bermanfaat bagi Anda. </p><br><h3 id="1-dokumentiruyte-ispolzovanie-komponentov">  1. Dokumentasikan penggunaan komponen </h3><br><p>  Jika cara Anda ingin menggunakan komponen Anda tidak didokumentasikan, maka komponen ini tidak berguna.  Yah, hampir tidak berguna, Anda selalu dapat melihat implementasinya, tetapi sedikit orang yang suka melakukan ini. </p><br><p>  Ada banyak cara untuk mendokumentasikan komponen Anda, tetapi kami sarankan Anda memperhatikan ketiga hal ini: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Buku cerita</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Penjaga gaya</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Docz</a> </li></ul><br><p>  Dua yang pertama memberi Anda tempat untuk bekerja ketika mengembangkan komponen Anda, dan yang ketiga memungkinkan Anda untuk menulis dokumentasi dalam bentuk bebas menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">MDX</a> </p><br><p>  Apa pun yang Anda pilih, selalu dokumentasikan baik API itu sendiri dan <strong>bagaimana dan kapan komponen Anda harus digunakan</strong> .  Bagian terakhir sangat penting dalam perpustakaan tujuan umum - bagi orang untuk menggunakan tombol atau tata letak grid dengan benar dalam konteks yang diberikan. </p><br><h3 id="2-razreshite-kontekstnuyu-semantiku">  2. Aktifkan semantik kontekstual </h3><br><p>  HTML adalah bahasa untuk menyusun informasi dengan cara semantik.  Hanya di sini, sebagian besar komponen kami terdiri dari <code>&lt;div /&gt;</code> .  Ini masuk akal - komponen universal tidak dapat mengetahui sebelumnya apa yang akan terjadi, mungkin <code>&lt;article /&gt;</code> , atau <code>&lt;section /&gt;</code> , atau <code>&lt;aside /&gt;</code> - tetapi situasi ini jauh dari ideal. </p><br><p>  Ada opsi lain, biarkan komponen Anda menerima prop <code>as</code> , dan dengan demikian menentukan elemen DOM yang akan diberikan.  Berikut adalah contoh cara mengimplementasikan ini: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Grid</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ as: Element, ...props }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Element</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"grid"</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml"> } Grid.defaultProps = { as: 'div', };</span></span></code> </pre> <br><p>  Kami mengganti nama prop untuk variabel <code>Element</code> dan menggunakannya di JSX kami.  Kami memberikan nilai <code>div</code> standar umum jika kami tidak memiliki tag HTML yang lebih semantik untuk lulus. </p><br><p>  Ketika saatnya tiba untuk menggunakan komponen <code>&lt;Grid /&gt;</code> , Anda dapat dengan mudah memberikan tag yang benar: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"main"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">MoreContent</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); }</code> </pre> <br><p>  Ini juga berfungsi dengan komponen Bereaksi.  Misalnya, jika Anda ingin komponen <code>&lt;Button /&gt;</code> me-render React Router <code>&lt;Link /&gt;</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{Link}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">to</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/profile"</span></span></span><span class="hljs-tag">&gt;</span></span> Go to Profile <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3 id="3-izbegayte-logicheskih-boolean-propsov">  3. Hindari alat peraga boolean </h3><br><p>  Alat peraga logis, seperti, ide yang bagus.  Mereka dapat digunakan tanpa nilai, sehingga terlihat sangat elegan: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">large</span></span></span><span class="hljs-tag">&gt;</span></span>BUY NOW!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Tetapi meskipun terlihat bagus, properti logis hanya memungkinkan dua kemungkinan.  Hidup atau mati  Terlihat atau disembunyikan.  1 atau 0. </p><br><p>  Setiap kali Anda mulai memperkenalkan properti logis untuk hal-hal seperti ukuran, opsi, warna, atau apa pun yang bisa menjadi apa pun selain pilihan biner, Anda memiliki masalah. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">large</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">small</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">primary</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">secondary</span></span></span><span class="hljs-tag">&gt;</span></span>   ?? <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Dengan kata lain, properti logis sering tidak berskala dengan perubahan persyaratan.  Alih-alih, untuk nilai yang mungkin menjadi sesuatu selain pemilihan biner, lebih baik menggunakan nilai yang disebutkan, seperti string. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">variant</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"primary"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"large"</span></span></span><span class="hljs-tag">&gt;</span></span>     <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Ini tidak berarti bahwa properti logis tidak dapat digunakan sama sekali.  Kamu bisa!  Prop yang <code>disabled</code> , yang saya sebutkan di atas, masih harus logis - karena tidak ada keadaan tengah antara hidup dan mati.  Biarkan saja properti boolean hanya untuk pilihan yang benar-benar biner. </p><br><h3 id="4-ispolzuyte-propschildren">  4. Gunakan <code>props.children</code> </h3><br><p>  Bereaksi memiliki beberapa sifat khusus yang diperlakukan berbeda dari yang lain.  Salah satu <code>key</code> ini diperlukan untuk melacak urutan item daftar.  Dan alat peraga khusus lainnya adalah <code>children</code> - <code>children</code> . </p><br><p>  Segala sesuatu yang Anda tempatkan di antara tag pembuka dan penutup komponen ditempatkan di dalam <code>props.children</code> . <code>props.children</code> .  Dan Anda harus menggunakan ini sesering mungkin. </p><br><p>  Mengapa  Karena itu jauh lebih mudah daripada memiliki <code>content</code> prop untuk konten atau sesuatu seperti itu yang biasanya hanya mengambil nilai-nilai sederhana, seperti teks. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Some text"</span></span></span><span class="hljs-tag"> /&gt;</span></span> //  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span>Some text<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Ada beberapa keuntungan menggunakan <code>props.children</code> .  Pertama, ini mirip dengan cara kerja HTML biasa.  Kedua, Anda dapat dengan bebas mentransfer apa pun yang Anda inginkan!  Alih-alih menambahkan alat peraga seperti <code>leftIcon</code> dan <code>rightIcon</code> ke komponen Anda - hanya meneruskannya sebagai bagian dari <code>props.children</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ImportantIcon</span></span></span><span class="hljs-tag"> /&gt;</span></span> Some text <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Anda mungkin berpendapat bahwa komponen Anda hanya perlu membuat teks biasa, dan dalam beberapa kasus itu.  Sampai titik tertentu.  Dengan menggunakan <code>props.children</code> , Anda menjamin bahwa API Anda akan siap untuk mengubah persyaratan. </p><br><h3 id="5-pozvolte-roditelyu-ceplyatsya-za-vnutrennyuyu-logiku">  5. Biarkan orang tua berpegang teguh pada logika internal </h3><br><p>  Terkadang kita membuat komponen dengan banyak logika dan status internal - misalnya, diagram autocomplete atau interaktif. </p><br><p>  Komponen seperti itu sering mengalami API yang berlebihan, salah satu alasannya adalah banyaknya kasus penggunaan yang berbeda yang terakumulasi dengan perkembangan proyek. </p><br><p>  Tetapi bagaimana jika kita bisa menyediakan satu saja, prop standar yang memungkinkan pengembang untuk mengontrol, merespons, atau hanya mengubah perilaku default komponen? </p><br><p>  Kent Dodds menulis artikel yang bagus tentang konsep reduksi negara.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Berikut ini adalah artikel tentang konsep itu sendiri</a> , dan juga, di sini adalah artikel tentang cara <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">menerapkan ini untuk React hooks</a> . </p><br><p>  Singkatnya, ini adalah pola transfer fungsi peredam keadaan ke komponen Anda, yang akan memungkinkan pengembang untuk mengakses semua tindakan yang dilakukan di dalam komponen Anda.  Anda dapat mengubah status atau bahkan menyebabkan efek samping.  Ini adalah cara terbaik untuk memberikan <strong>tingkat penyesuaian yang tinggi, tanpa alat peraga</strong> . </p><br><p>  Begini tampilannya: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyCustomDropdown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> stateReducer = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action.type === Dropdown.actions.CLOSE) { buttonRef.current.focus(); } }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;&gt; &lt;Dropdown stateReducer={stateReducer} {...props} /&gt; &lt;Button ref={buttonRef}&gt;Open&lt;/Button&gt; &lt;/&gt; }</code> </pre> <br><p>  Omong-omong, Anda dapat membuat cara yang lebih sederhana untuk merespons acara.  Menggunakan <code>onClose</code> pada contoh sebelumnya cenderung membuat penggunaan komponen lebih nyaman.  Gunakan pola "peredam keadaan" saat dibutuhkan. </p><br><h3 id="6-ispolzuyte-operator-troetochie-spread-dlya-ostavshihsya-propsov">  6. Gunakan operator spread untuk alat peraga yang tersisa </h3><br><p>  Setiap kali Anda membuat komponen baru, pastikan Anda menerapkan elipsis ke alat peraga yang tersisa dan mengirimkannya ke elemen yang masuk akal. </p><br><p>  Anda tidak perlu terus menambahkan alat peraga ke komponen Anda, yang hanya akan diteruskan ke komponen atau elemen dasar.  Ini akan membuat API Anda lebih stabil dengan menghilangkan kebutuhan akan banyak kesalahan versi kecil ketika pengembang berikutnya membutuhkan pendengar acara baru atau tag ARIA. </p><br><p>  Anda bisa melakukannya seperti ini: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ isVisible, ...rest }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isVisible ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"tooltip"</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...rest</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml"> : null; }</span></span></code> </pre> <br><p>  Setiap kali komponen Anda melewati prop untuk implementasi Anda, seperti nama kelas atau penangan <code>onClick</code> , pastikan bahwa pengembang lain dapat melakukan hal yang sama.  Dalam kasus kelas, Anda bisa menambahkan kelas prop menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">pustaka classnames npm yang</a> nyaman (atau hanya rangkaian string): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> classNames <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'classnames'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{classNames(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">tooltip</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">props.tooltip</span></span></span></span><span class="xml"><span class="hljs-tag">)} /&gt;</span></span></span><span class="xml"> }</span></span></code> </pre> <br><p>  Dalam hal penangan klik dan panggilan balik lainnya, Anda dapat menggabungkannya menjadi satu fungsi menggunakan utilitas kecil.  Inilah salah satu cara untuk melakukan ini: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">combine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...functions</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...args</span></span></span><span class="hljs-function">) =&gt;</span></span> functions .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> func === <span class="hljs-string"><span class="hljs-string">'function'</span></span>) .forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function"> =&gt;</span></span> func(...args)); }</code> </pre> <br><p>  Di sini kita membuat fungsi yang menerima daftar fungsi untuk menggabungkannya.  Ini mengembalikan panggilan balik baru, yang memanggil mereka semua pada gilirannya dengan argumen yang sama. </p><br><p>  Fungsi ini dapat digunakan dengan cara ini: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [isVisible, setVisible] = React.useState(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;span {...props} className={classNames(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'tooltip'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, props.className</span></span></span><span class="hljs-function">)} </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onMouseIn</span></span></span><span class="hljs-function">={</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">combine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="hljs-function">) =&gt;</span></span> setVisible(<span class="hljs-literal"><span class="hljs-literal">true</span></span>), props.onMouseIn)} onMouseOut={combine(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> setVisible(<span class="hljs-literal"><span class="hljs-literal">false</span></span>), props.onMouseOut)} /&gt; ); }</code> </pre> <br><h3 id="7-ispolzuyte-znacheniya-po-umolchaniyu">  7. Gunakan nilai default </h3><br><p>  Pastikan Anda memberikan cukup standar (default) untuk alat peraga Anda.  Dengan demikian, Anda akan mengurangi jumlah alat peraga wajib.  Ini akan sangat menyederhanakan API Anda. </p><br><p>  Ambil, misalnya, penangan <code>onClick</code> .  Jika kode Anda tidak memerlukan penangan ini, gunakan fungsi kosong (fungsi-noop) sebagai penyangga standar.  Dengan cara ini Anda bisa menyebutnya dalam kode Anda seolah-olah itu selalu berlalu. </p><br><p>  Contoh lain mungkin untuk input pengguna.  Asumsikan string input adalah string kosong kecuali ditentukan lain.  Ini akan memungkinkan Anda untuk memastikan bahwa Anda selalu berurusan dengan objek string, bukan sesuatu yang tidak terdefinisi atau nol. </p><br><h3 id="8-ne-nado-pereimenovyvat-atributy-html">  8. Tidak perlu mengganti nama atribut HTML </h3><br><p>  HTML sebagai bahasa memiliki alat peraga sendiri - atau atribut, dan itu sendiri adalah API untuk elemen HTML.  Jadi mengapa tidak terus menggunakan API ini? </p><br><p>  Seperti yang kami sebutkan sebelumnya, meminimalkan permukaan API dan intuitifnya adalah metode yang berguna untuk meningkatkan API komponen Anda.  Jadi alih-alih membuat prop <code>screenReaderLabel</code> Anda sendiri, mengapa tidak menggunakan <code>aria-label</code> ada saja? </p><br><p>  <strong>Tinggal jauh dari mengganti nama atribut HTML yang ada</strong> untuk "kemudahan penggunaan" Anda sendiri.  Anda bahkan tidak mengganti API yang ada - Anda cukup menambahkan sendiri di atasnya.  Orang-orang masih dapat melewati <code>aria-label</code> bersama dengan <code>screenReaderLabel</code> screenReaderLabel Anda - dan apa yang seharusnya menjadi nilai akhir? </p><br><p>  Juga, pastikan Anda tidak pernah menimpa atribut HTML di komponen Anda.  Contoh yang bagus adalah atribut <code>type</code> dari elemen <code>&lt;button /&gt;</code> .  Itu bisa <code>submit</code> (default), <code>button</code> atau <code>reset</code> .  Namun, banyak pengembang mendefinisikan kembali prop ini untuk menunjukkan tipe visual dari tombol ( <code>primary</code> , <code>cta</code> , dll.). </p><br><p>  Jika Anda akan menggunakan prop semacam itu, Anda perlu menambahkan override untuk atribut <code>type</code> sebenarnya.  Ini akan menyebabkan kebingungan, keraguan, dan gangguan dari pihak pengembang. </p><br><p>  Percayalah - saya membuat kesalahan ini lagi dan lagi - jika Anda membuatnya, maka Anda harus menguraikannya untuk waktu yang lama. </p><br><h3 id="9-pishite-tipy-propsov-ili-prosto-tipy">  9. Tuliskan jenis alat peraga (atau hanya tipe) </h3><br><p>  Tidak ada dokumentasi yang sebagus dokumentasi yang ada di dalam kode Anda.  Bereaksi datang dengan cara yang bagus untuk mendeklarasikan API Anda menggunakan paket <code>prop-types</code> .  Gunakan itu. </p><br><p>  Anda dapat menentukan persyaratan format untuk alat peraga wajib dan opsional Anda, dan Anda dapat memperbaikinya dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">komentar JSDoc</a> . </p><br><p>  Jika Anda tidak menentukan alat peraga wajib atau memberikan nilai yang tidak valid atau tidak terduga, pada saat dijalankan Anda akan menerima peringatan di konsol.  Ini banyak membantu selama pengembangan, dan dapat dihapus dari produksi. </p><br><p>  Jika Anda menulis aplikasi Bereaksi Anda dalam TypeScript atau menggunakan Flow, Anda mendapatkan dokumentasi API sebagai fungsi bahasa.  Ini semakin meningkatkan dukungan alat pengembangan dan menyederhanakan pekerjaan. </p><br><p>  Jika Anda sendiri tidak menggunakan JavaScript yang diketik, Anda harus tetap mempertimbangkan untuk memberikan definisi tipe kepada pengembang yang menggunakannya.  Maka akan lebih mudah bagi mereka untuk menggunakan komponen Anda. </p><br><h3 id="10-proektiruyte-dlya-razrabotchikov">  10. Desain untuk pengembang </h3><br><p>  Akhirnya, aturan yang paling penting untuk diikuti.  Pastikan API Anda dan bekerja dengan komponen Anda dioptimalkan untuk pengembang yang akan menggunakannya. </p><br><p>  Salah satu cara untuk menyederhanakan pekerjaan pengembang adalah memberinya umpan balik tentang penggunaan yang tidak pantas.  Lakukan ini dengan pesan kesalahan, dan juga, tetapi hanya selama pengembangan, dengan peringatan bahwa ada cara yang lebih efisien untuk menggunakan komponen Anda. </p><br><p>  Saat menulis kesalahan dan peringatan, berikan tautan ke dokumentasi Anda atau tampilkan contoh kode sederhana.  Semakin cepat pengembang memahami apa masalahnya dan bagaimana cara memperbaikinya, komponen Anda akan merasa lebih nyaman untuk bekerja. </p><br><p>  Luar biasa, tetapi ternyata, keberadaan semua peringatan kesalahan panjang ini tidak mempengaruhi ukuran paket akhir.  Berkat keajaiban menghilangkan kode mati, semua teks dan kode kesalahan ini dapat dihapus selama perakitan dalam produksi. </p><br><p>  Salah satu perpustakaan yang memberikan umpan balik yang sangat baik adalah Bereaksi sendiri.  Tidak masalah jika Anda lupa menentukan kunci untuk item daftar, atau Anda menulis metode siklus hidup secara tidak benar, atau mungkin Anda lupa memperpanjang kelas dasar atau menyebut hook dengan cara yang tidak pasti - dalam hal apa pun, Anda akan mendapatkan pesan kesalahan besar yang tebal di konsol.  Mengapa pengembang yang menggunakan komponen Anda mengharapkan lebih sedikit dari Anda? </p><br><p>  Jadi desain untuk pengguna masa depan Anda.  Desain untuk diri sendiri dari masa depan.  Desain untuk yang kurang beruntung yang harus menjaga kode Anda ketika Anda pergi!  Desain untuk pengembang. </p><br><h3 id="itogo">  Total </h3><br><p>  Kita bisa belajar banyak dari pendekatan API klasik.  Dengan mengikuti tip, trik, aturan, dan perintah dari artikel ini, Anda dapat membuat komponen yang mudah digunakan, mudah dirawat, intuitif, dan, jika perlu, sangat fleksibel. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id460559/">https://habr.com/ru/post/id460559/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id460547/index.html">Barang Antik: Psion 5MX dan Retired Life</a></li>
<li><a href="../id460551/index.html">Portugal Pantai terbaik dan seribu startup per tahun</a></li>
<li><a href="../id460553/index.html">Teknologi, outsourcing, dan mentalitas: bagaimana kami menerapkan Microsoft Dynamics 365 di kantor Jerman Lamoda</a></li>
<li><a href="../id460555/index.html">Laporan dari pertemuan PyDaCon di Mail.ru Group, 22 Juni</a></li>
<li><a href="../id460557/index.html">Pilihan contoh kerja pemrosesan data</a></li>
<li><a href="../id460561/index.html">Cara mengembangkan platformer lain menggunakan Unity. Tutorial lain, bagian 2</a></li>
<li><a href="../id460565/index.html">Pertempuran untuk akun itu. Pendiri jaringan kopi Jeffrey menggugat VKontakte</a></li>
<li><a href="../id460567/index.html">Bereaksi Asli: buat daftar yang bisa diseret & digesek</a></li>
<li><a href="../id460569/index.html">Menulis perangkat lunak dengan fungsi utilitas klien-server Windows, bagian 01</a></li>
<li><a href="../id460573/index.html">Google menyatakan bahwa "reCAPTCHA" tidak menyalahgunakan data pengguna. Apakah layak untuk percaya?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>