<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тЪ╛я╕П ЁЯОЕЁЯП╛ ЁЯзСЁЯП╜тАНЁЯдЭтАНЁЯзСЁЯП╝ рдкрд╛рдЗрдк рдФрд░ рдлрд┐рд▓реНрдЯрд░ред рдЙрджрд╛рд╣рд░рдг рдЖрд╡реЗрджрди рдФрд░ рд╡рд╕рдВрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди ЁЯСзЁЯП╜ ЁЯСД ЁЯСитАНтЭдя╕ПтАНЁЯТЛтАНЁЯСи</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдпрд╣ рдЖрд▓реЗрдЦ рдкрд╛рдЗрдк рдФрд░ рдлрд┐рд▓реНрдЯрд░ рдкреИрдЯрд░реНрди рдХреЗ рдЙрдкрдпреЛрдЧ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдЧрд╛ред 


 рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВрдЧреЗ, рдЬрд┐рд╕реЗ рд╣рдо рдЙрдкрд░реНрдпреБрдХреНрдд рдкреИрдЯрд░реНрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдкрд╛рдЗрдк рдФрд░ рдлрд┐рд▓реНрдЯрд░ред рдЙрджрд╛рд╣рд░рдг рдЖрд╡реЗрджрди рдФрд░ рд╡рд╕рдВрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479464/"><p>  рдпрд╣ рдЖрд▓реЗрдЦ рдкрд╛рдЗрдк рдФрд░ рдлрд┐рд▓реНрдЯрд░ рдкреИрдЯрд░реНрди рдХреЗ рдЙрдкрдпреЛрдЧ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдЧрд╛ред </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВрдЧреЗ, рдЬрд┐рд╕реЗ рд╣рдо рдЙрдкрд░реНрдпреБрдХреНрдд рдкреИрдЯрд░реНрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрд╛рдж рдореЗрдВ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦреЗрдВрдЧреЗред  рдХреЛрдб рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдзреАрд░реЗ-рдзреАрд░реЗ рд╣реЛрдЧрд╛ рдФрд░ рд╣рд░ рдмрд╛рд░ рд╣рдо рдПрдХ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд╕рдВрд╕реНрдХрд░рдг рдмрдирд╛рдПрдВрдЧреЗ рдЬрдм рддрдХ рдХрд┐ рд╣рдо рдбреАрдЖрдИ (рдЗрд╕ рд╕реНрдкреНрд░рд┐рдВрдЧ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдорд╛рдзрд╛рди рдкрд░ рдзреНрдпрд╛рди рдирд╣реАрдВ рджреЗрддреЗред </p><br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдо рдХрдИ рд╕рдорд╛рдзрд╛рди рдмрдирд╛рдПрдВрдЧреЗ, рдХрд┐рд╕реА рднреА рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рдкреНрд░рджрд╛рди рдХрд░реЗрдВрдЧреЗред <br>  рдЕрдВрдд рдореЗрдВ, рд╣рдо рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдФрд░ рдЕрдВрддрд┐рдо рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреА рддреБрд▓рдирд╛ рдХрд░рддреЗ рд╣реИрдВ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рдЖрд╡реЗрджрди рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ рдФрд░ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░рддреЗ рд╣реИрдВред </p><a name="habracut"></a><br><h2 id="zadacha">  рдХрд╛рд░реНрдп </h2><br><p>  рдорд╛рди рд▓реАрдЬрд┐рдП рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХрдкрдбрд╝реЗ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рд╣реИ рдЬреЛ рд╣рдореЗрдВ рд╕реВрдЦрдиреЗ рд╕реЗ рдорд┐рд▓рддрд╛ рд╣реИ рдФрд░ рдЬрд┐рд╕реЗ рдЕрдм рд╣рдореЗрдВ рдХреЛрдард░реА рдореЗрдВ рд▓реЗ рдЬрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрд╣ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рдбреЗрдЯрд╛ (рдХрдкрдбрд╝реЗ) рдПрдХ рдЕрд▓рдЧ рд╕реЗрд╡рд╛ рд╕реЗ рдЖрддреЗ рд╣реИрдВ рдФрд░ рдХрд╛рд░реНрдп рдЧреНрд░рд╛рд╣рдХ рдХреЛ рдпрд╣ рдбреЗрдЯрд╛ рд╕рд╣реА рд░реВрдк рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рд╣реИ (рдПрдХ рдХреЛрдард░реА рдЬрд┐рд╕рдореЗрдВ рд╡рд╣ рдХрдкрдбрд╝реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ)ред </p><br><p>  рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдЖрдк рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрд╕ рд░реВрдк рдореЗрдВ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕ рд░реВрдк рдореЗрдВ рдпрд╣ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЖрддрд╛ рд╣реИред  рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рдЬрд╛рдВрдЪрдирд╛, рдмрджрд▓рдирд╛, рдХреНрд░рдордмрджреНрдз рдХрд░рдирд╛, рдЖрджрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br>  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рдПрдХ рдЧреНрд░рд╛рд╣рдХ рдорд╛рдВрдЧ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХрдкрдбрд╝реЗ рдЯрдХрд╕рд╛рд▓ рд╣реЛрдиреЗ рдкрд░ рдЗрд╕реНрддреНрд░реА рдХрд┐рдП рдЬрд╛рдиреЗ рдЪрд╛рд╣рд┐рдПред </p><br><p> рдлрд┐рд░ рдкрд╣рд▓реА рдмрд╛рд░ рд╣рдо рдПрдХ <code>Modifier</code> рдмрдирд╛рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рд╣рдо рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд▓рд┐рдЦрддреЗ рд╣реИрдВ: </p><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Modifier</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;&gt; modify(List&lt;&gt; ){ (); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> (List&lt;&gt; ) { .stream() .filter(::) .forEach(o -&gt; { <span class="hljs-comment"><span class="hljs-comment">// }); } }</span></span></code> </pre> <br><p>  рдЗрд╕ рд╕реНрддрд░ рдкрд░, рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рдФрд░ рд╕реНрдкрд╖реНрдЯ рд╣реИред  рдЖрдЗрдП рдПрдХ рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦреЗрдВ рдЬреЛ рдпрд╣ рдЬрд╛рдВрдЪрддрд╛ рд╣реИ рдХрд┐ рд╕рднреА рдЭреБрд░реНрд░рд┐рдпреЛрдВ рд╡рд╛рд▓реЗ рдХрдкрдбрд╝реЗ рдЗрд╕реНрддреНрд░реА рдХрд┐рдП рдЧрдП рд╣реИрдВред </p><br><p>  рд▓реЗрдХрд┐рди рд╕рдордп рдХреЗ рд╕рд╛рде, рдирдИ рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИрдВ рдФрд░ рд╣рд░ рдмрд╛рд░ <code>Modifier</code> рд╡рд░реНрдЧ рдХреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдмрдврд╝рддреА рд╣реИ: </p><br><ul><li>  рдХреЛрдард░реА рдореЗрдВ рдЧрдВрджреЗ рдХрдкрдбрд╝реЗ рди рдбрд╛рд▓реЗрдВред </li><li>  рд╢рд░реНрдЯ, рдЬреИрдХреЗрдЯ рдФрд░ рдкрддрд▓реВрди рдХрдВрдзреЛрдВ рдкрд░ рд▓рдЯрдХрд╛рдП рдЬрд╛рдиреЗ рдЪрд╛рд╣рд┐рдПред </li><li>  рд░рд┐рд╕рд╛рд╡рдпреБрдХреНрдд рдореЛрдЬреЗ рдХреЛ рдкрд╣рд▓реЗ рд╕рд┐рд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ </li><li>  ... </li></ul><br><p>  рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХрд╛ рдХреНрд░рдо рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рдкрд╣рд▓реЗ рдЙрдирдХреЗ рдХрдВрдзреЛрдВ рдкрд░ рдХрдкрдбрд╝реЗ рд▓рдЯрдХрд╛ рдирд╣реАрдВ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рд▓реЛрд╣реЗред </p><br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдХреБрдЫ рдмрд┐рдВрджреБ рдкрд░, <code>Modifier</code> рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд░реВрдк рд▓реЗ рд╕рдХрддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Modifier</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Predicate&lt;&gt; ___ = ((Predicate&lt;&gt;).class::isInstance) .or(.class::isInstance) .or(.class::isInstance) ; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;&gt; modify(List&lt;&gt; ){ (); (); (); (); <span class="hljs-comment"><span class="hljs-comment">//   return ; } private void (List&lt;&gt; ) { .stream() .filter(.class::isInstance) .map(.class::cast) .filter(::) .forEach(o -&gt; { // }); } private void (List&lt;&gt; ) { .stream() .filter(___) .forEach(o -&gt; { //   }); } private void (List&lt;&gt; ) { .removeIf(::); } private void (List&lt;&gt; ) { .stream() .filter(::) .forEach(o -&gt; { // }); } //  }</span></span></code> </pre> <br><p>  рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд, рдкрд░реАрдХреНрд╖рдг рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реЛ рдЧрдП рд╣реИрдВ, рдЬреЛ рдЕрдм рдкреНрд░рддреНрдпреЗрдХ рдЪрд░рдг рдХреЛ рдХрдо рд╕реЗ рдХрдо рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ рдЬрд╛рдВрдЪрдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  рдФрд░ рдЬрдм рдПрдХ рдирдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдЖрддреА рд╣реИ, рддреЛ рдХреЛрдб рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рд╣рдо рддрдп рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рд░рд┐рдлреИрдХреНрдЯрд░рд┐рдВрдЧ рдХрд╛ рд╕рдордп рдЖ рдЧрдпрд╛ рд╣реИред </p><br><h2 id="refactoring">  рдкреБрдирд░реНрд░рдЪрдирд╛ </h2><br><p>  рдкрд╣рд▓реА рдЪреАрдЬ рдЬреЛ рдЖрдкрдХреА рдЖрдВрдЦ рдХреЛ рдкрдХрдбрд╝рддреА рд╣реИ, рд╡рд╣ рд╣реИ рд╕рднреА рдХрдкрдбрд╝реЛрдВ рдХреА рд▓рдЧрд╛рддрд╛рд░ рд╣рд▓рдЪрд▓ред  рддреЛ рдкрд╣рд▓рд╛ рдХрджрдо, рд╣рдо рд╕рдм рдХреБрдЫ рдПрдХ рдЪрдХреНрд░ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рд╕рдлрд╛рдИ рдХреА рдЬрд╛рдВрдЪ рдХреЛ рдЪрдХреНрд░ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рднреА рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Modifier</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Predicate&lt;&gt; ___ = ((Predicate&lt;&gt;).class::isInstance) .or(.class::isInstance) .or(.class::isInstance) ; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;&gt; modify(List&lt;&gt; ){ List&lt;&gt; result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o : ){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(o.()){ <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } result.add(o); (o); (o); (o); <span class="hljs-comment"><span class="hljs-comment">//   } return result; } private void ( ) { if( instanceof ){ // ()  } } private void ( ) { if(___.test()){ //   } } private void ( ) { if(.()){ // } } //  }</span></span></code> </pre> <br><p>  рдЕрдм, рдХрдкрдбрд╝реЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╕рдордп рдХрдо рд╣реЛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рд╡рд░реНрдЧ рдХреЗ рд▓рд┐рдП рдФрд░ рдЪрдХреНрд░ рдХреЗ рд╢рд░реАрд░ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдЕрднреА рднреА рдмрд╣реБрдд рд▓рдВрдмрд╛ рд╣реИред  рдЖрдЗрдП рдкрд╣рд▓реЗ рдЪрдХреНрд░ рдХреЗ рд╢рд░реАрд░ рдХреЛ рдЫреЛрдЯрд╛ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред </p><br><ul><li><p>  рд╕рдлрд╛рдИ рдХреЗ рд▓рд┐рдП рдЬрд╛рдБрдЪ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рд╕рднреА рдХреЙрд▓ рдХреЛ рдПрдХ рдЕрд▓рдЧ рддрд░реАрдХреЗ рд╕реЗ <code>modify( )</code> рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <code>modify( )</code> : </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;&gt; modify(List&lt;&gt; ){ List&lt;&gt; result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o : ){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(o.()){ <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } result.add(o); modify(o); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">modify</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( o)</span></span></span><span class="hljs-function"> </span></span>{ (o); (o); (o); <span class="hljs-comment"><span class="hljs-comment">//   }</span></span></code> </pre> <br></li><li><p>  рдЖрдк рд╕рднреА рдХреЙрд▓ рдХреЛ рдПрдХ <code>Consumer</code> рдореЗрдВ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Consumer&lt;&gt; modification = ((Consumer&lt;&gt;) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::) .andThen(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::) .andThen(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::); <span class="hljs-comment"><span class="hljs-comment">//   public List&lt;&gt; modify(List&lt;&gt; ){ return .stream() .filter(o -&gt; !o.()) .peek(modification) .collect(Collectors.toList()); }</span></span></code> </pre> <br><blockquote>  рдХреБрдВрдж: рдЭрд╛рдВрдХрдирд╛ <br>  рдореИрдВрдиреЗ рд╢реЙрд░реНрдЯ рдХреЗ рд▓рд┐рдП рдЭрд╛рдВрдХрдирд╛ рд╢реБрд░реВ рдХрд┐рдпрд╛ред  рд╕реЛрдирд╛рд░ рдХрд╣реЗрдЧрд╛ рдХрд┐ рдРрд╕рд╛ рдХреЛрдб рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдХреНрдпреЛрдВрдХрд┐  рдЬрд╛рд╡рджреЛрдХ рдЭрд╛рдВрдХрдирд╛ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рдзрд┐ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдбрд┐рдмрдЧ рдХреЗ рд▓рд┐рдП рдореМрдЬреВрдж рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рдЗрд╕реЗ рдорд╛рдирдЪрд┐рддреНрд░ рдкрд░ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрддреЗ рд╣реИрдВ: .map (o -&gt; {modification.accept (o); рд╡рд╛рдкрд╕реА рдУ;}), рддреЛ IDEA рдХрд╣реЗрдВрдЧреЗ рдХрд┐ рдпрд╣ рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреЗрд╣рддрд░ рд╣реИред </blockquote><br></li></ul><br><blockquote>  рдареЛрдХрд░: рдЙрдкрднреЛрдХреНрддрд╛ <br>  рдЙрдкрднреЛрдХреНрддрд╛ рдХреЗ рд╕рд╛рде рдПрдХ рдЙрджрд╛рд╣рд░рдг (рдФрд░ рдмрд╛рдж рдореЗрдВ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде) рднрд╛рд╖рд╛ рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </blockquote><p>  рдЕрдм рдЪрдХреНрд░ рдХрд╛ рд╢рд░реАрд░ рдЫреЛрдЯрд╛ рд╣реЛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрднреА рддрдХ рдпрд╣ рд╡рд░реНрдЧ рдЕрднреА рднреА рдмрд╣реБрдд рдмрдбрд╝рд╛ рд╣реИ рдФрд░ рдЗрд╕рдореЗрдВ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА (рд╕рднреА рдЪрд░рдгреЛрдВ рдХрд╛ рдЬреНрдЮрд╛рди) рд╣реИред </p><br><p>  рдЖрдЗрдП рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕реНрдерд╛рдкрд┐рдд рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдкреИрдЯрд░реНрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо <code>Pipes &amp; Filters</code> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред </p><br><h2 id="pipes--filters">  рдкрд╛рдЗрдк рдФрд░ рдлрд┐рд▓реНрдЯрд░ </h2><br><p>  <a href="https://docs.microsoft.com/ru-ru/azure/architecture/patterns/pipes-and-filters">рдЪреИрдирд▓ рдФрд░ рдлрд┐рд▓реНрдЯрд░ рдЯреЗрдореНрдкрд▓реЗрдЯ</a> <a href="https://medium.com/nuances-of-programming/%25D0%25BA%25D1%2580%25D0%25B0%25D1%2582%25D0%25BA%25D0%25B8%25D0%25B9-%25D0%25BE%25D0%25B1%25D0%25B7%25D0%25BE%25D1%2580-10-%25D0%25BF%25D0%25BE%25D0%25BF%25D1%2583%25D0%25BB%25D1%258F%25D1%2580%25D0%25BD%25D1%258B%25D1%2585-%25D0%25B0%25D1%2580%25D1%2585%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BA%25D1%2582%25D1%2583%25D1%2580%25D0%25BD%25D1%258B%25D1%2585-%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD%25D0%25BE%25D0%25B2-%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BB%25D0%25BE%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B9-81647be5c46f">рдПрдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛</a> рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓рд╛ рдбреЗрдЯрд╛ рдХрдИ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЪрд░рдгреЛрдВ рд╕реЗ рдЧреБрдЬрд░рддрд╛ рд╣реИред </p><br><p>  рдЖрдЗрдП рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рд╣рдорд╛рд░реЗ рдХреЛрдб рдкрд░ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред </p><br><h3 id="shag-1">  рдЪрд░рдг 1 </h3><br><p>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╣рдорд╛рд░рд╛ рдХреЛрдб рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЗрд╕ рдкреИрдЯрд░реНрди рдХреЗ рдХрд░реАрдм рд╣реИред  рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рдХрдИ рд╕реНрд╡рддрдВрддреНрд░ рдЪрд░рдгреЛрдВ рд╕реЗ рдЧреБрдЬрд░рддрд╛ рд╣реИред  рдЕрдм рддрдХ, рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рдзрд┐ рдПрдХ рдлрд┐рд▓реНрдЯрд░ рд╣реИ, рдФрд░ <code>modify</code> рдХрд░рдХреЗ рдЪреИрдирд▓ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ, рдкрд╣рд▓реЗ рд╕рднреА рдЧрдВрджреЗ рдХрдкрдбрд╝реЗ рдХреЛ рдЫрд╛рдирддрд╛ рд╣реИред </p><br><p>  рдЕрдм рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рдЪрд░рдг рдХреЛ рдПрдХ рдЕрд▓рдЧ рд╡рд░реНрдЧ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░реЗрдВрдЧреЗ рдФрд░ рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рд╣рдореЗрдВ рдХреНрдпрд╛ рдорд┐рд▓рддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Modifier</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span>  ; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span>  ; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span>  ; <span class="hljs-comment"><span class="hljs-comment">//  public Modifier( ,  ,   //  ) { this. = ; this. = ; this. = ; //  } public List&lt;&gt; modify(List&lt;&gt; ) { return .stream() .filter(o -&gt; !o.()) .peek(o -&gt; { .(o); .(o); .(o); //  }) .collect(Collectors.toList()); } }</span></span></code> </pre> <br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдордиреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХрдХреНрд╖рд╛рдУрдВ рдореЗрдВ рдХреЛрдб рд░рдЦрд╛, рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдпрд╛ (рдФрд░ рдЪрд░рдгреЛрдВ рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдкреИрджрд╛ рдХреА)ред  рдХреЙрд▓ рдХрд╛ рдХреНрд░рдо рдЪрд░рдгреЛрдВ рдХрд╛ рдХреНрд░рдо рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред </p><br><p>  рд▓реЗрдХрд┐рди рд╡рд░реНрдЧ рдЕрднреА рднреА рд╕рднреА рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЪрд░рдгреЛрдВ рдХреЛ рдЬрд╛рдирддрд╛ рд╣реИ, рдЖрджреЗрд╢ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдирд┐рд░реНрднрд░рддрд╛ рдХреА рдПрдХ рд╡рд┐рд╢рд╛рд▓ рд╕реВрдЪреА рд╣реИред  рдПрдХ рдирдпрд╛ рдХрджрдо рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдореЗрдВ рди рдХреЗрд╡рд▓ рдПрдХ рдирдпрд╛ рд╡рд░реНрдЧ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рдзреНрдп рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдмрд▓реНрдХрд┐ рдЗрд╕реЗ <code>Modfier</code> рднреА рдЬреЛрдбрд╝рд╛ <code>Modfier</code> ред </p><br><h3 id="shag-2">  рдЪрд░рдг 2 </h3><br><p>  рд╕реНрдкреНрд░рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЛрдб рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдПрдВред <br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдкреНрд░рддреНрдпреЗрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЪрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрдирд╛рдПрдБ: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Modification</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">modify</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( )</span></span></span></span>; }</code> </pre><br><p>  <code>Modifier</code> рдЕрдм рдмрд╣реБрдд рдЫреЛрдЯрд╛ рд╣реЛрдЧрд╛: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Modifier</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;Modification&gt; steps; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Modifier</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;Modification&gt; steps)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.steps = steps; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;&gt; modify(List&lt;&gt; ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .stream() .filter(o -&gt; !o.()) .peek(o -&gt; { steps.forEach(m -&gt; m.modify(o)); }) .collect(Collectors.toList()); } }</code> </pre> <br><p>  рдЕрдм, рдПрдХ рдирдпрд╛ рдХрджрдо рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдмрд╕ рдПрдХ рдирдпрд╛ рд╡рд░реНрдЧ рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛ рдЬреЛ <code>Modification</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рдКрдкрд░ <code>@Component</code> рдбрд╛рд▓ <code>@Component</code> рд╣реИред  рд╡рд╕рдВрдд рдЗрд╕реЗ рдвреВрдВрдврдХрд░ рд╕реВрдЪреА рдореЗрдВ рдЬреЛрдбрд╝ рджреЗрдЧрд╛ред </p><br><p>  <code>Modifer</code> рд╣реА рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЪрд░рдгреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдирд╣реАрдВ рдЬрд╛рдирддрд╛ рд╣реИ, рдЬреЛ рдШрдЯрдХреЛрдВ рдХреЗ рдмреАрдЪ рдПрдХ "рдХрдордЬреЛрд░ рд╕рдВрдмрдВрдз" рдмрдирд╛рддрд╛ рд╣реИред </p><br><p>  рдЕрдиреБрдХреНрд░рдо рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдХрдард┐рдирд╛рдИ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕реНрдкреНрд░рд┐рдВрдЧ рдХреЗ рдкрд╛рд╕ <code>@Order</code> рдПрдиреЛрдЯреЗрд╢рди рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЖрдк рдПрдХ рдЗрдВрдЯ рд╡реИрд▓реНрдпреВ рдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╕реВрдЪреА рдХреЛ рдЖрд░реЛрд╣реА рдХреНрд░рдо рдореЗрдВ рдХреНрд░рдордмрджреНрдз рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдпрд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╕реВрдЪреА рдХреЗ рдмреАрдЪ рдореЗрдВ рдПрдХ рдирдпрд╛ рдХрджрдо рдЬреЛрдбрд╝рдХрд░, рдЖрдкрдХреЛ рдореМрдЬреВрджрд╛ рдЪрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЫрдВрдЯрд╛рдИ рдХреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред </p><br><blockquote>  рдпрджрд┐ рд╕рднреА рдЬреНрдЮрд╛рдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╕рдВрд╢реЛрдзрдХ рдирд┐рд░реНрдорд╛рддрд╛ рдХреЛ рдкрд╛рд╕ рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рддреЛ рд╡рд╕рдВрдд рдХреЛ рддрд┐рд░рд╕реНрдХреГрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рдерд╛ред  рдпрд╣ рд╕реЙрд░реНрдЯрд┐рдВрдЧ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛, рд▓реЗрдХрд┐рди рдлрд┐рд░ рд╕реЗ рдирдП рдХрджрдореЛрдВ рдХреЛ рдЬреЛрдбрд╝ рджреЗрдЧрд╛ред </blockquote><br><h3 id="shag-3">  рдЪрд░рдг 3 </h3><br><p>  рдЕрдм рд╣рдо рдПрдХ рдЕрд▓рдЧ рдЪрд░рдг рдореЗрдВ рд╕реНрд╡рдЪреНрдЫрддрд╛ рдХреЗ рд▓рд┐рдП рдкрд░реАрдХреНрд╖рд╛ рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЕрдкрдиреЗ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдпрд╣ рд╣рдореЗрд╢рд╛ рдПрдХ рдорд╛рди рд▓реМрдЯрд╛рдП: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Modification</span></span></span><span class="hljs-class"> </span></span>{  modify( ); }</code> </pre> <br><p>  рд╕реНрд╡рдЪреНрдЫрддрд╛ рдХреЗ рд▓рд┐рдП рдЬрд╛рдБрдЪ рдХрд░реЗрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-meta"><span class="hljs-meta">@Order</span></span>(Ordered.HIGHEST_PRECEDENCE) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CleanFilter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Modification</span></span></span><span class="hljs-class"> </span></span>{  modify( ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(.()){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ; } }</code> </pre> <br><p>  <code>Modifier.modify</code> </p><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;&gt; modify(List&lt;&gt; ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .stream() .map(o -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> modified = o; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> step : steps){ modified = step.modify(o); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(modified == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> modified; }) .filter(Objects::nonNull) .collect(Collectors.toList()); }</code> </pre> <br><p>  рдЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ, <code>Modifier</code> рдкрд╛рд╕ рдХреЛрдИ рдбреЗрдЯрд╛ рдЬрд╛рдирдХрд╛рд░реА рдирд╣реАрдВ рд╣реИред  рд╡рд╣ рдмрд╕ рдЙрдиреНрд╣реЗрдВ рд╣рд░ рдЬреНрдЮрд╛рдд рдХрджрдо рдкрд░ рдкрд╛рд╕ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкрд░рд┐рдгрд╛рдо рдПрдХрддреНрд░ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдпрджрд┐ рдХреЛрдИ рдПрдХ рдХрджрдо рд╢реВрдиреНрдп рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЗрд╕ рдкрд░рд┐рдзрд╛рди рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдмрд╛рдзрд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдЗрд╕реА рддрд░рд╣ рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд╕рдВрдд рдореЗрдВ рд╣реИрдВрдбрд▓рд░рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдирд┐рдпрдВрддреНрд░рдХ рдХреЙрд▓ рд╕реЗ рдкрд╣рд▓реЗ рдФрд░ рдмрд╛рдж рдореЗрдВ, рдЗрд╕ URL рдХреЗ рд╕рднреА рдЙрдкрдпреБрдХреНрдд рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░ рдХреЛ рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрд╕реА рд╕рдордп, рдпрд╣ рдкреНрд░реАрд╣реИрдВрдбрд▓ рд╡рд┐рдзрд┐ рдореЗрдВ рд╕рд╣реА рдпрд╛ рдЧрд▓рдд рд░рд┐рдЯрд░реНрди рджреЗрддрд╛ рд╣реИ, рдпрд╣ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреНрдпрд╛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдХреЙрд▓рд┐рдВрдЧ рдмрд╛рдж рдХреЗ рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░ рдЬрд╛рд░реА рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ </p><br><h3 id="shag-n">  рдЪрд░рдг n </h3><br><p>  рдЕрдЧрд▓рд╛ рдЪрд░рдг <code>matches</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ <code>matches</code> рд╡рд┐рдзрд┐ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдХрдкрдбрд╝реЛрдВ рдХреА рдПрдХ рдЕрд▓рдЧ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЗ рдЪрд░рдгреЛрдВ рдХреА рдЬрд╛рдБрдЪ рдХреА рдЬрд╛рддреА рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Modification</span></span></span><span class="hljs-class"> </span></span>{  modify( ); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">default</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">matches</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( )</span></span></span><span class="hljs-function"> </span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>;} }</code> </pre> <br><p>  рдЗрд╕рдХреЗ рдХрд╛рд░рдг, рдЖрдк рд╡рд░реНрдЧреЛрдВ рдФрд░ рд╕рдВрдкрддреНрддрд┐рдпреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХреЛ рдПрдХ рдЕрд▓рдЧ рд╡рд┐рдзрд┐ рдореЗрдВ <code>modify</code> рддрд░реАрдХреЛрдВ рдХреЛ <code>modify</code> рдореЗрдВ рддрд░реНрдХ рдХреЛ рдереЛрдбрд╝рд╛ рд╕рд░рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рд╕реНрдкреНрд░рд┐рдВрдЧ (рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ) рдлрд╝рд┐рд▓реНрдЯрд░ рдореЗрдВ рдПрдХ рд╕рдорд╛рди рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореБрдЦреНрдп рдЕрдВрддрд░ рдпрд╣ рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдлрд╝рд┐рд▓реНрдЯрд░ рдЕрдЧрд▓реЗ рдХреЗ рдЖрд╕рдкрд╛рд╕ рдПрдХ рдЖрд╡рд░рдг рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЬрд╛рд░реА рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдлрд╝рд┐рд▓реНрдЯрд░рдЪреИрди.рдбреЛрдлрд╝рд┐рд▓реНрдЯрд░ рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред </p><br><h2 id="itogo">  рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░ </h2><br><p>  рдЕрдВрддрд┐рдо рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рдмрд╣реБрдд рдЕрд▓рдЧ рд╣реИред  рдЙрдирдХреА рддреБрд▓рдирд╛ рдХрд░рддреЗ рд╣реБрдП, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><ul><li>  рдкрд╛рдЗрдкреНрд╕ рдПрдВрдб рдлрд┐рд▓реНрдЯрд░реНрд╕ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди, <code>Modifier</code> рд╡рд░реНрдЧ рдХреЛ рд╕рд░рд▓ <code>Modifier</code> рд╣реИред </li><li>  рдмреЗрд╣рддрд░ рд╡рд┐рддрд░рд┐рдд рдЬрд┐рдореНрдореЗрджрд╛рд░рд┐рдпреЛрдВ рдФрд░ рдШрдЯрдХреЛрдВ рдХреЗ рдмреАрдЪ "рдХрдордЬреЛрд░" рдХрдиреЗрдХреНрд╢рдиред </li><li>  рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╕рд╛рдиред </li><li>  рдЪрд░рдгреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдФрд░ рд╣рдЯрд╛рдиреЗ рдореЗрдВ рдЖрд╕рд╛рдиред </li><li>  рдлрд╝рд┐рд▓реНрдЯрд░ рдХреА рдПрдХ рдкреВрд░реА рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдереЛрдбрд╝рд╛ рдХрдард┐рдиред  рд╣рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рдирдЯреЗрд╕реНрдЯ рдХреА рдЬрд░реВрд░рдд рд╣реИред </li><li>  рдЕрдзрд┐рдХ рдХрдХреНрд╖рд╛рдПрдВ </li></ul><br><p>  рдЕрдВрддрддрдГ, рдореВрд▓ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдФрд░ рд▓рдЪреАрд▓рд╛ рд╡рд┐рдХрд▓реНрдкред </p><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдк рд╕рдорд╛рди рд╕рдорд░реВрдкрддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЗрд╡рд▓ рдбреЗрдЯрд╛ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХреЛ рд╕рдорд╛рдирд╛рдВрддрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h3 id="chto-ne-reshaet-dannyy-primer">  рдпрд╣ рдЙрджрд╛рд╣рд░рдг рдХреНрдпрд╛ рд╣рд▓ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ </h3><br><ol><li>  рдкреИрдЯрд░реНрди рдХрд╛ рд╡рд░реНрдгрди рдХрд╣рддрд╛ рд╣реИ рдХрд┐ рдПрдХ рдФрд░ рдлрд╝рд┐рд▓реНрдЯрд░ рд╢реНрд░реГрдВрдЦрд▓рд╛ (рдЪреИрдирд▓) рдмрдирд╛рдХрд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><ul><li>  рдПрдХ рдУрд░, рдпрд╣ <code>@Qualifier</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИред </li><li>  рджреВрд╕рд░реА рдУрд░, <code>@Order</code> рдЖрджреЗрд╢ рдХреЗ рд╕рд╛рде рдПрдХ рдЕрд▓рдЧ рдХреНрд░рдо <code>@Order</code> рдХрд░рдирд╛ рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред </li></ul></li><li>  рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХрдИ рдЪреЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдиреЗрд╕реНрдЯреЗрдб рдЪреЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдФрд░ рдлрд┐рд░ рднреА рдореМрдЬреВрджрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред <br><ul><li>  рдЗрд╕рд▓рд┐рдП рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрд╛рд░реНрдп: "рдкреНрд░рддреНрдпреЗрдХ рдЬреБрд░реНрд░рд╛рдм рдХреЗ рд▓рд┐рдП, рдПрдХ рдЬреЛрдбрд╝реА рдХреА рддрд▓рд╛рд╢ рдХрд░реЗрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдбрд╛рд▓реЗрдВ &lt;? рдлреИрд▓реА рд╣реБрдИ рд╡рд╕реНрддреНрд░&gt;" рд╡рд░реНрдгрд┐рдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдлрд┐рдЯ рдирд╣реАрдВ рд╣реЛрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐?  рдЕрдм, рдкреНрд░рддреНрдпреЗрдХ рдкреИрд░ рдХреА рдЕрдВрдЧреБрд▓реА рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рд╕рднреА рд▓рд┐рдирди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реЙрд░реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдбреЗрдЯрд╛ рд╕реВрдЪреА рдХреЛ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред </li><li>  рдЗрд╕реЗ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдПрдХ рдирдпрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдПрдХ рд╕реВрдЪреА &lt;рд╡рд╕реНрддреНрд░&gt; рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдФрд░ рд╡рд╛рдкрд╕ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдПрдХ рдирдИ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдЦреБрдж рдЪреЗрди рдХреЗ рдХреЙрд▓ рдХреЗ рдЕрдиреБрдХреНрд░рдо рд╕реЗ рд╕рд╛рд╡рдзрд╛рди рд░рд╣рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ, рдЕрдЧрд░ рдореЛрдЬреЗ рдХреЗрд╡рд▓ рд╣реЛрдЯрд▓ рджреНрд╡рд╛рд░рд╛ рд╣реА рд╕реАрд╡рди рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред </li></ul></li></ol><br><h2 id="spasibo-za-vnimanie">  рдЖрдкрдХрд╛ рдзреНрдпрд╛рди рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рджред </h2></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi479464/">https://habr.com/ru/post/hi479464/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi479450/index.html">AppCode 2019.3: рддреЗрдЬреА рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд╕реНрд╡рд┐рдлреНрдЯ рдХреЛ рдмреЗрд╣рддрд░ рдврдВрдЧ рд╕реЗ рд╕рдордЭрддрд╛ рд╣реИ, рдореИрдХ рдХреИрдЯрд╛рд▓рд┐рд╕реНрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирддрд╛ рд╣реИ, рдЖрд╕рд╛рдиреА рд╕реЗ рд╡рд┐рдзрд╛рдирд╕рднрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi479452/index.html">рдбреЛрдореЗрди рдирд╛рдо рдкреНрд░рдгрд╛рд▓реА рдХреИрд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рд╣реБрдИ: ARPANET рдпреБрдЧ</a></li>
<li><a href="../hi479458/index.html">рд╕рд░реНрд╡рд░ рдХрдХреНрд╖ рдореЗрдВ рд╕реМрдВрджрд░реНрдп рдпрд╛ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХрддрд╛</a></li>
<li><a href="../hi479460/index.html">рдлреНрд▓рд╛рдЗрдВрдЧ рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдЧрд╛рдЗрдб</a></li>
<li><a href="../hi479462/index.html">рд╕реА ++ рдореЗрдВ рд╕реАрд░рд┐рдпрд▓</a></li>
<li><a href="../hi479466/index.html">2019 рдХреЗ рд▓рд┐рдП рд╣реИрдмреНрд░реЗрдЯрд┐рдВрдЧ: 2019 рдХреЗ рд▓рд┐рдП рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда рд▓реЗрдЦреЛрдВ рдХреЗ рдЖрдВрдХрдбрд╝реЗ рдФрд░ рд░реИрдВрдХрд┐рдВрдЧ</a></li>
<li><a href="../hi479468/index.html">рдРрдЬ рдСрдл рдСрдирд░рд┐рдЯреА рдФрд░ рдЬреЙрди рдбреЛ</a></li>
<li><a href="../hi479474/index.html">рд╕реНрдХреНрд░рдо рдореЗрдВ рдЯреАрдореЛрдВ рдХрд╛ рд╕реНрд╡-рд╕рдВрдЧрдарди рдЗрддрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХреНрдпреЛрдВ рд╣реИ рдФрд░ рдЗрд╕рдореЗрдВ рдкреНрд░рдмрдВрдзрдХ рдХреНрдпреЛрдВ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi479478/index.html">рдмрд┐рдирд╛ рджрд░реНрдж рдХреЗ рдЬрд╛рд╡рд╛ рдкреНрд▓рдЧ-рдЗрди</a></li>
<li><a href="../hi479480/index.html">SARIF SDK рдФрд░ рдЗрд╕рдХреЗ рддреНрд░реБрдЯрд┐рдпрд╛рдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>