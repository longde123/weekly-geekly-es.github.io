<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêê ‚ôåÔ∏è üì° Pr√©vision √† nouveau, partie 1 üìΩÔ∏è üëÖ ‚ùå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Envisagez de pr√©voir des s√©ries chronologiques. Essayons de pr√©dire les graphiques de cotations, ou autre chose qui s'av√®re pratique. 



 Prenons com...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pr√©vision √† nouveau, partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435590/"> Envisagez de pr√©voir des s√©ries chronologiques.  Essayons de pr√©dire les graphiques de cotations, ou autre chose qui s'av√®re pratique. <br><br><img src="https://habrastorage.org/webt/vu/9t/i1/vu9ti19agphjfufbbndeff5xjj4.jpeg"><br><a name="habracut"></a><br>  Prenons comme base les pr√©visions pr√©sent√©es dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le mod√®le de pr√©vision des s√©ries chronologiques pour l'√©chantillon de similarit√© maximale: explication et exemple</a> (cet article n'est pas le mien).  Le bref point est que le segment le plus similaire du graphique √† gauche de la pr√©vision parmi l'historique du pass√© est recherch√©, puis les valeurs √† droite du graphique sont prises √† partir de cet ancien meilleur et utilis√©es comme pr√©visions. <br><br>  J'irai plus loin.  Lors du calcul des pr√©visions, je prendrai non pas un cas qui soit le meilleur en corr√©lation, mais un paquet des meilleurs.  Et la pr√©vision sera la moyenne des r√©sultats de ce pack.  Cela permettra de comprendre que la valeur trouv√©e est une r√©gularit√©, et non une co√Øncidence accidentelle avec la pr√©vision souhait√©e, ou une d√©viation al√©atoire si la pr√©vision s'√©carte de la pr√©vision r√©elle. <br><br>  Utiliser la meilleure option unique comme dans cet article n'est pas correct, ainsi que d√©terminer la distribution de probabilit√© avec une valeur √† partir de cette distribution.  Si vous g√©n√©rez un tr√®s grand graphique de donn√©es al√©atoires et lancez une recherche sur celles-ci, il y aura certainement des segments en corr√©lation, et m√™me √©ventuellement avec un coefficient de 0,9999, mais il n'est pas du tout n√©cessaire que des segments similaires continuent de suivre ces segments - c'est toujours tout est al√©atoire.  Et vous devez prendre juste un pack de ces segments et calculer que la variance des donn√©es suivantes est inf√©rieure √† la variance form√©e √† partir d'un √©chantillon al√©atoire de ces donn√©es.  Et si la dispersion du pack est plus faible - alors c'est la pr√©vision.  Bien que ce ne soit pas non plus une repr√©sentation pr√©cise des erreurs possibles, cela suffit pour l'instant. <br><br>  C'est-√†-dire  <b>la pr√©vision n'est</b> pas le principe d'√©chantillonnage et de corr√©lation des segments compar√©s que nous utilisons, l'essentiel est qu'en raison de l'application de cet √©chantillon, la variance des valeurs souhait√©es serait inf√©rieure √† celle r√©sultant d'un √©chantillonnage al√©atoire. <br><br>  De plus, la variance de ce pack permettra d'√©valuer lequel est pr√©f√©rable d'utiliser l'option de s√©lection des cas pr√©c√©dents.  Apr√®s tout, il est possible de s√©lectionner pas toujours un segment de donn√©es en corr√©lation et de ne pas toujours utiliser la corr√©lation de Pearson.  Et un tel choix peut √™tre fait s√©par√©ment pour chaque point pr√©vu.  Pour quel type d'√©chantillon la variance est moindre, cette option est meilleure pour le point actuel. <br><br>  Quelle taille de pack devrait √™tre?  Cela repose sur la question des intervalles de confiance.  Afin de ne pas trop charger, il est mentionn√© qu'il est pr√©f√©rable de prendre au moins 30 exemples pour d√©terminer la valeur moyenne.  S'il y a un exc√®s de donn√©es de test, j'en prendrais au moins 100. <br><br>  Le rapport des √©carts-types de l'√©chantillon selon l'algorithme et l'al√©atoire peut √™tre appel√© le coefficient th√©orique de r√©ussite de l'algorithme de pr√©vision pour le point courant √† des fins de comparaison avec d'autres algorithmes d'√©chantillonnage, ou pour d√©terminer l'utilit√© de cette pr√©vision en g√©n√©ral, alors que la valeur r√©elle n'est pas encore disponible. <br><br><img src="https://habrastorage.org/webt/5c/5z/1m/5c5z1mvlg8betcdjgytvaxqcopc.png" alt="koef_forecast = 1 - std_dev_forecast / std_dev_random"><br><br>  Ce coefficient peut dans certains cas prendre des valeurs n√©gatives.  Les points auxquels cela se produit sont de peu d'int√©r√™t, tout comme les points avec un coefficient nul.  Dans le cas d'une pr√©visibilit√© de 100%, elle sera √©gale √† un. <br><br>  Passons √† des exemples pratiques, encore une fois √† partir de cet article.  Apr√®s avoir corrig√© les petites erreurs, nous obtenons le r√©sultat suivant, coh√©rent avec cet article et cet algorithme: <br><br>  <b>calcul des pr√©visions au 01/09/2012 23:00 position 52631</b> <b><br></b>  <b>valeurs totales v√©rifi√©es pour la similitude 2184</b> <b><br></b>  <b>la meilleure corr√©lation 0,958174 position 52295</b> <b><br></b>  <b>coefficients de transfert alpha (1/2) 1.03117 -11.1992</b> <b><br></b>  <b>erreur de pr√©vision de fait mape 5.210%</b> <br><br>  mape - un terme de l'article original Erreur de pourcentage absolu moyen, calcul√© par la formule <br>  <b>Abs (Pr√©vision - Fait) / Fait</b> <br><br>  Et maintenant, faisons une s√©lection non pas d'une meilleure similitude, mais de packs des meilleurs et de tout pour pr√©dire un instant dans le temps et voir ce qui se passe: <br><br>  <b>0 corr 0.958174 pos 52295 mape 5.210%</b> <b><br></b>  <b>1 corr 0.953571 pos 52151 mape 6.566%</b> <b><br></b>  <b>2 corr 0.953532 pos 45599 mape 11.642%</b> <b><br></b>  <b>3 corr 0.951462 pos 45743 mape 7.033%</b> <b><br></b>  <b>4 corr 0.950921 pos 45575 mape 3.300%</b> <b><br></b>  <b>5 corr 0.950789 pos 38687 mape 3.538%</b> <b><br></b> <br>  La valeur de corr√©lation change ici de valeur en valeur n√©gligeable.  Dans le m√™me temps, la valeur du r√©sultat pr√©visionnel varie de 3% √† 11%.  C'est-√†-dire  que les 5% initiaux ne sont rien de plus qu'une co√Øncidence, ils pourraient √™tre de 11% et 3%. <br><br>  Dans les conditions de similitude sp√©cifi√©es dans cet article, 2184 valeurs peuvent √™tre compar√©es au total.  Parmi ceux-ci, j'ai pris un pack des meilleurs en 1500 pi√®ces, tri√©s dans l'ordre de corr√©lation d√©croissante, et affich√© dans un graphique.  La corr√©lation dans ce pack des meilleurs 0,958 est tomb√©e √† 0,715 de gauche √† droite.  Mais la fluctuation du r√©sultat n'a pratiquement pas chang√©: <br><br><img src="https://habrastorage.org/webt/o6/jz/wl/o6jzwlcdck1ynbs8oss9um0aios.png"><br><br>  On voit que la d√©pendance du r√©sultat √† la corr√©lation est tr√®s faible, mais elle semble n√©anmoins y √™tre.  En g√©n√©ral, nous prenons un pack des 100 premi√®res valeurs et calculons les pr√©visions, comme je l'ai mentionn√©, par la moyenne de ce pack.  Le r√©sultat est le suivant: <b>mape 5,824%, stddev mape 7,035%</b> .  Mais ce 5,8% n'est plus une co√Øncidence, mais la moyenne de la distribution - la pr√©vision la plus probable.  L'√©cart type de mape est plus grand que le mape lui-m√™me, mais c'est parce que le mape a une distribution non sym√©trique. <br><br>  J'ai √©galement calcul√© la m√™me pr√©vision mais en utilisant un √©chantillon conditionnellement al√©atoire, plus pr√©cis√©ment, simplement en moyenne √† partir de toutes les options possibles, le r√©sultat de <b>mape √©tait de 8,246%</b> .  Par √©chantillonnage al√©atoire, l'erreur est l√©g√®rement plus grande, mais cette valeur est toujours dans la plage de la dispersion calcul√©e √† partir du meilleur √©chantillon.  Pour le point calcul√©, le coefficient de pr√©vision th√©orique indiqu√© par moi est proche de z√©ro, plus pr√©cis√©ment <b>koef_forecast = -0.041</b> .  Je ne l'ai pas compt√© √† partir de stddev mape (il comprend les pr√©visions r√©elles), mais √† partir des valeurs absolues des pr√©visions, si vous regardez le programme, les chiffres originaux y sont donn√©s. <br><br>  Mais c'est le cas en ce qui concerne l'horodatage, qui a √©t√© mentionn√© dans l'article d'origine.  Mais si nous prenons par exemple ¬´9/4/2012 23:00¬ª (heure mois / jour / ann√©e), alors le coefficient d'efficacit√© th√©orique est <b>koef_forecast = 0,21</b> , et <b>mape = 3,126%, mape_rand = 7,147%</b> .  C'est-√†-dire  koef_forecast a montr√© √† l'avance que le point actuel sera calcul√© plus pr√©cis√©ment que le pr√©c√©dent.  L'essence de l'utilit√© de ce coefficient est que vous pouvez au moins en quelque sorte √©valuer le r√©sultat avant m√™me d'obtenir les donn√©es r√©elles, car  les donn√©es r√©elles n'y participent pas.  Plus il est haut, mieux c'est.  J'ai d√©j√† mentionn√© qu'un point absolument pr√©dit aura un coefficient de un. <br><br>  Vous pouvez voir vous-m√™me comment tous ces chiffres changent dans mon programme de d√©monstration sur Qt C ++, l√† vous pouvez choisir la date et la taille du pack: les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sources sur github</a> <br><br>  Les meilleures valeurs sont s√©lectionn√©es selon l'algorithme suivant: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OrdPack::add_value(<span class="hljs-keyword"><span class="hljs-keyword">double</span></span> koef, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i_pos) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::isfinite(koef)==<span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (koef &lt;= <span class="hljs-number"><span class="hljs-number">0.0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mmap_ord.size() &lt; ma_count_for_pack) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mmap_ord.size()==<span class="hljs-number"><span class="hljs-number">0</span></span>) mi_koef = koef; mi_koef = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::min(mi_koef, koef); mmap_ord.insert({-koef,i_pos}); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (koef &gt; mi_koef) { mmap_ord.insert({-koef,i_pos}); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (mmap_ord.size() &gt; ma_count_for_pack) mmap_ord.erase(--mmap_ord.end()); mi_koef = -(--mmap_ord.end())-&gt;first; } }</code> </pre> <br>  Il ne sert √† rien de publier toute la source ici, ce n'est pas compliqu√© l√†-bas, et avec des commentaires.  La base de la proc√©dure MainWindow :: to_do_test () dans le fichier <a href="">mainwindow.cpp</a> . <br><br>  Pour l'instant, je continuerai d'essayer de pr√©dire quelque chose dans la prochaine partie. <br><br>  PS.  Veuillez laisser vos commentaires pour savoir si tout est clair sur ce qui manque.  J'ai d√©j√† √©tabli un plan approximatif pour ce que j'√©crirai ensuite, mais avec vos commentaires, je le ferai mieux. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr435590/">https://habr.com/ru/post/fr435590/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr435580/index.html">Java, Spring, Kurento et Media Services</a></li>
<li><a href="../fr435582/index.html">Comment ajouter un index sur un syst√®me charg√© 24/7 sans interruption?</a></li>
<li><a href="../fr435584/index.html">Slush 2018. Premier jour, deuxi√®me jour</a></li>
<li><a href="../fr435586/index.html">L'art du chamanisme ou du firmware personnalis√© pour Olinuxino. Noyau et Ubuntu Partie 3</a></li>
<li><a href="../fr435588/index.html">Promotion d'une application mobile avec une r√©elle exp√©rience des chiffres</a></li>
<li><a href="../fr435592/index.html">A√ßores: derni√®re r√©serve de flore au milieu de l'oc√©an Atlantique</a></li>
<li><a href="../fr435594/index.html">Graphique d'itin√©raire pour Apache Camel</a></li>
<li><a href="../fr435600/index.html">Comment migrer vers un autre op√©rateur mobile et ne pas faire faillite (pour les propri√©taires d'iOS)</a></li>
<li><a href="../fr435602/index.html">Pr√©paration √† l'examen Azure</a></li>
<li><a href="../fr435604/index.html">BlaBlaCar est devenu ce √† quoi il n'√©tait pas destin√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>