<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏇 💇 🤶🏼 培训Cisco 200-125 CCNA v3.0。 第22天，第三个CCNA：继续学习RIP 💇🏽 👇🏿 📬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我已经说过，我将把我的视频教程更新为CCNA v3。 您在上一课中学到的所有内容都与新课程完全一致。 如有必要，我将在新课程中添加其他主题，因此您不必担心我们的课程与200-125 CCNA的相关性。 

 首先，我们将全面探讨第一次考试100-105 ICND1的主题。 我们还有几节课，之后您就可...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>培训Cisco 200-125 CCNA v3.0。 第22天，第三个CCNA：继续学习RIP</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/463575/">我已经说过，我将把我的视频教程更新为CCNA v3。 您在上一课中学到的所有内容都与新课程完全一致。 如有必要，我将在新课程中添加其他主题，因此您不必担心我们的课程与200-125 CCNA的相关性。 <br><br> 首先，我们将全面探讨第一次考试100-105 ICND1的主题。 我们还有几节课，之后您就可以通过考试了。 然后，我们将开始研究ICND2的课程。 我保证在本视频课程结束时，您将为通过200-125考试做好充分准备。 在上一课中，我说过我们将不再使用RIP协议，因为它不是CCNA课程的一部分。 但是由于RIP已包含在CCNA的第三版中，因此我们将继续对其进行研究。 <br><br> 本课的主题将是在使用RIP的过程中出现的三个问题：计数到无穷大或计数到无穷大，水平分割-水平分割规则和路线中毒或路线中毒。 <br><br><img src="https://habrastorage.org/webt/wz/kv/il/wzkvilryosxq4dlvxauv900-6f8.jpeg"><br><br> 为了理解无限数问题的实质，我们转向该方案。 假设我们有路由器R1，路由器R2和路由器R3。 第一个路由器连接到第二个网络192.168.2.0/24，第二个路由器连接到第三个网络192.168.3.0/24，网络192.168.1.0/24连接到第一个路由器，网络192.168.4.0/24连接到第三个路由器。 <a name="habracut"></a><br><br> 让我们看一下从第一个路由器到网络192.168.1.0/24的路由。 在他的表中，此路由将显示为192.168.1.0，希望数量等于0。 <br><br><img src="https://habrastorage.org/webt/1l/dn/wn/1ldnwn7-8ge5urzsivill18pmza.jpeg"><br><br> 对于第二个路由器，相同的路由将在表中显示为192.168.1.0，希望数等于1。同时，每30秒使用更新计时器更新一次路由器的路由表。  R1告诉R2 192.168.1.0可以通过它访问网络192.168.1.0，跳数为0。收到此消息后，R2将做出更新，以响应同一网络可以在一跳中访问它。 这就是普通RIP路由的工作方式。 <br><br> 想象一下一种情况，R1和网络192.168.1.0/24之间的连接被断开，此后路由器无法访问它。 同时，路由器R2向路由器R1发送更新，在该更新中路由器R2报告网络192.168.1.0/24在一个跃点中可用。  R1知道它已经失去了对该网络的访问权限，但是R2保证可以通过一个跃点访问该网络，因此第一个路由器认为它有义务通过将希望数从0更改为2来更新其路由表。 <br><br><img src="https://habrastorage.org/webt/0d/c6/dz/0dc6dz_wimohpn2ny2x9houhgfm.jpeg"><br><br> 之后，R1将更新发送到路由器R2。 他说：“好吧，在此之前，您给我发送了一个更新，该更新表明网络192.168.1.0的跳数为零，现在，您报告到此网络的路由可以建立为2跳。 因此，我必须将路由表从1更新为3。” 下次更新R1将希望数更改为4，将第二个路由器更改为5，然后更改为5和6，并且此过程将无限期继续。 <br><br><img src="https://habrastorage.org/webt/fh/vy/mr/fhvymroo-i1e-zuh9bpodgi3uhk.jpeg"><br><br> 这个问题被称为“路由环路”，在RIP协议中被称为“无穷计数”。 实际上，网络192.168.1.0/24不可用，但是R1，R2和网络中的所有其他路由器都认为可以访问该网络，因为路由一直在循环。 这个问题可以借助水平分割和毒化路线的机制来解决。 考虑我们今天将使用的网络拓扑。 <br><br><img src="https://habrastorage.org/webt/qn/3d/rj/qn3drjfuaofgwsftgg955yyqacq.jpeg"><br><br> 网络上有三台R1,2,3路由器和两台IP地址为192.168.1.10和192.168.4.10的计算机。 在计算机之间有4个网络：1.0、2.0、3.0和4.0。 路由器具有IP地址，其中最后一个八位位组表示路由器的编号，最后一个八位位组表示网络号。 您可以为这些网络设备分配任何地址，但是我更喜欢这些地址，因为它使我更容易解释。 <br><br> 要设置我们的网络，让我们继续进行Packet Tracer。 我使用Cisco 2911路由器，并使用此方案将IP地址分配给两个主机-PC0和PC1。 <br><br><img src="https://habrastorage.org/webt/si/4q/y4/si4qy4c1ftfys287id4zym_o3t4.jpeg"><br><br> 您可以忽略交换机，因为它们是“开箱即用”的，默认情况下使用VLAN1。  2911路由器有两个千兆端口。 为了使我们更轻松，我为每个路由器使用现成的配置文件。 您可以访问我们的网站，转到“资源”选项卡，并查看我们所有的视频教程。 <br><br><img src="https://habrastorage.org/webt/9b/la/re/9blarevjejy4diujxyyazh2hsok.jpeg"><br><br> 当前还没有所有更新，但是举个例子，您可以看一下第13天课程，其中包含“工作簿”链接或“工作簿”。 相同的链接将被附加到今天的视频教程中，并且通过它可以下载路由器配置文件。 <br><br> 为了配置我们的路由器，我只复制R1配置文本文件的内容，在Packet Tracer中打开其控制台，然后输入config t命令。 <br><br><img src="https://habrastorage.org/webt/-g/0a/t3/-g0at36dzvakt0nnxyiocbcam9e.jpeg"><br><br> 然后，我只粘贴复制的文本并退出设置。 <br><br><img src="https://habrastorage.org/webt/hd/ju/gh/hdjugh-s8bzjajysx_zoz3brcnk.jpeg"><br><br> 我以同样的方式处理第二和第三路由器的设置。 这是Cisco设置的优点之一-您只需将必要的参数复制并粘贴到网络设备的配置文件中即可。 就我而言，我还将在完成的配置文件的开头添加2个命令，以便它们不会在控制台中输入它们-它们是en（启用）和config t。 然后，我复制内容并将其全部粘贴到R3设置控制台中。 <br><br> 因此，我们配置了所有3个路由器。 如果要为路由器使用现成的配置文件，请确保模型与该图中所示的模型匹配-这里的路由器具有GigabitEthernet端口。 如果路由器具有这些端口，则可能需要在FastEthernet上的文件中修复此行。 <br><br> 您可以看到图中路由器的端口标记仍为红色。 怎么了 为了进行诊断，让我们转到路由器1的IOS命令行界面，然后键入命令show ip interface brief。 这个团队是解决各种网络问题的“瑞士刀”。 <br><br> 是的，我们有一个问题-您看到GigabitEthernet 0/0接口处于管理性关闭状态。 事实是，在复制的配置文件中，我忘记了使用no shutdown命令，现在我将手动输入它。 <br><br><img src="https://habrastorage.org/webt/gn/77/qf/gn77qflyf6qy-qvxlmdpfovbyvw.jpeg"><br><br> 现在，我必须手动将此行添加到所有路由器的设置中，之后端口标记将变为绿色。 现在，我将在公共屏幕上显示CLI路由器的所有三个窗口，以便更方便地观看我的操作。 <br><br> 当前，在所有3台设备上都配置了RIP，我将对其进行调试，为此我使用debug ip rip命令，之后所有设备将交换RIP更新。 之后，我对所有3个路由器使用undebug all命令。 <br><br><img src="https://habrastorage.org/webt/cm/q2/i0/cmq2i0gv_fqejbt9dsliwbut2fa.jpeg"><br><br> 您看到R3在查找DNS服务器时遇到问题。 将来，我们将讨论与DNS服务器有关的CCNA v3主题，并且我将向您展示如何禁用此服务器的搜索功能。 现在，让我们回到本课程的主题，并了解RIP更新的工作方式。 <br> 启用路由器后，有关直接连接到其端口的网络的记录将显示在其路由表中。 在表中，这些条目以字母C开头，直接连接中的跃点数为0。 <br><br><img src="https://habrastorage.org/webt/1f/lo/rc/1florcripvo2m9kttodnsstxjfe.jpeg"><br><br> 当R1向路由器R2发送更新时，它包含有关网络192.168.1.0和192.168.2.0的信息。 由于R2已经知道192.168.2.0网络，因此它仅在路由表中对192.168.1.0网络进行更新。 <br><br><img src="https://habrastorage.org/webt/fy/rb/ta/fyrbtahchezeineltsnn_lm-ds0.jpeg"><br><br> 该条目的标题为R，这意味着只能通过具有1跳计数的RIP才能通过路由器接口f0 / 0：192.168.2.2连接到网络192.168.1.0。 <br> 同样，当R2发送R3更新时，第三个路由器在其路由表中记录一条记录，即通过路由器192.168.3.3的接口通过RIP可以通过路由器192.168.3.3的接口访问网络192.168.1.0，这就是路由更新的工作方式。 <br><br> 为了防止路由环路或计数到无穷大，RIP协议具有“水平分割”机制。 此机制是一个规则：“不要发送有关网络的更新，也不要通过接收此更新的接口发送路由。” 在我们的例子中，它看起来像这样：如果R2通过f0 / 0：192.168.2.2接口从R1接收到有关网络192.168.1.0的更新，则它不应通过f0 / 0接口将有关该网络2.0的更新发送到第一台路由器。 它只能通过与第一个路由器关联的该接口发送与网络192.168.3.0和192.168.4.0相关的更新。 他也不应通过f0 / 0接口发送有关网络192.168.2.0的更新，因为该接口已经知道它，因为该网络直接连接到它。 因此，当第二个路由器将更新发送到第一个路由器时，它应该只包含有关网络3.0和4.0的记录，因此他从另一个接口f​​0 / 1了解了这些网络。 <br><br> 这是划分地平线的简单规则：切勿将有关任何路线的信息以与该信息相同的方向发送回去。 此规则可防止路由循环或计数到无穷大。 <br> 如果转到Packet Tracer，则可以看到R1通过GigabitEthernet0 / 1接口从192.168.2.2接收到更新，该更新仅涉及两个网络：3.0和4.0。 第二个路由器没有谈论网络1.0和2.0，因为它通过相同的接口了解了这些网络。 <br><br><img src="https://habrastorage.org/webt/vq/se/ls/vqselsv5kylc48cmgmrpzcunpi0.jpeg"><br><br> 第一台R1路由器向多播IP地址224.0.0.9发送更新-它不发送广播消息。 此地址类似于FM广播电台的特定频率，也就是说，只有那些为此多播地址配置的设备才能接收到消息。 同样，路由器将自身配置为接收地址224.0.0.9的流量。 因此，R1通过IP地址为192.168.1.1的GigabitEthernet0 / 0接口发送对此地址的更新。 该接口应该仅传输有关网络2.0、3.0和4.0的更新，因为网络1.0直接连接到该接口。 我们看到他只是这样做。 <br><br><img src="https://habrastorage.org/webt/hg/9i/jp/hg9ijpbvcrfbfpngckdkvmknvn8.jpeg"><br><br> 然后，他通过第二个接口f0 / 1发送更新，地址为192.168.2.1。 不用注意字母F，它表示FastEthernet-这只是一个例子，因为我们的路由器具有GigabitEthernet接口，应该用字母g表示。 他无法通过此接口发送有关网络2.0、3.0和4.0的更新，因为他通过f0 / 1接口了解了它们，因此他仅发送有关网络1.0的更新。 <br><br> 让我们看看如果由于某些原因失去与第一个网络的连接会发生什么。 在这种情况下，R1立即激活一种称为路由中毒的机制。 其原因在于，一旦与网络的连接消失，路由表中有关该网络的记录中的希望数便立即增加到16。众所周知，希望数等于16意味着该网络不可用。 <br><br><img src="https://habrastorage.org/webt/9f/ut/6i/9fut6i_co2iyxmos2vognphjcss.jpeg"><br><br> 在这种情况下，不使用“更新”计时器，它是一个触发更新，它立即通过网络路由到最近的路由器。 我将在图中将其标记为蓝色。 路由器R2收到一条更新，该更新说从现在开始，网络192.168.1.0可用，跳数为16，即它不可用。 这称为路线中毒。  R2收到此更新后，立即立即更改以知道记录行192.168.1.0中的跃点值到16，并将此更新发送到第三个路由器。 反过来，R3还将不可用网络的希望数量更改为16。因此，通过RIP协议连接的所有设备都将发现192.168.1.0网络不再可用。 <br><br><img src="https://habrastorage.org/webt/ou/tr/ds/outrds120bj30i-0esiv0jcnvaw.jpeg"><br><br> 这个过程称为收敛。 这意味着所有路由器会将其路由表更新为当前状态，但不包括从它们到网络192.168.1.0的路由。 <br><br> 因此，我们涵盖了本课的所有主题。 现在，我将向您展示用于诊断和解决网络问题的命令。 除了show ip interface brief命令之外，还有show ip protocol命令。 它显示了使用动态路由的设备的路由协议的参数和状态。 <br><br><img src="https://habrastorage.org/webt/au/i4/lk/aui4lkdodlwk7cimauig9niesbe.jpeg"><br><br> 使用此命令后，将显示有关此路由器使用的协议的信息。 它在此处说路由协议是RIP，每30秒发送一次更新，下一个更新将在8秒后发送出去，无效计时器在180秒之后启动，保持计时器在180秒之后启动，刷新计时器在240秒之后。 这些值可以更改，但是，我们CCNA课程的主题不能解决这些问题，因此我们将使用默认计时器值。 同样，我们的课程并未解决所有路由器接口的传出和传入过滤器列表更新问题。 <br><br> 协议的重新分配-RIP-在下文中指出，此参数在设备使用多种协议时使用，例如，它显示RIP如何与OSPF交互以及OSPF如何与RIP交互。 重新分发也不是CCNA课程的一部分。 <br><br> 进一步表明，该协议使用了路由的自动汇总，这在我们之前的视频中已经讨论过，管理距离为120，我们也对此进行了讨论。 <br> 让我们仔细看看show ip rout命令。 您会看到192.168.1.0/24和192.168.2.0/24网络直接连接到路由器，另外两个网络3.0和4.0使用RIP路由协议。 这两个网络都可以通过GigabitEthernet0 / 1接口和IP地址为192.168.2.2的设备访问。 方括号中的信息很重要-第一个数字表示行政距离，或第二行政距离，第二个数字是希望数。 跳数是RIP指标。 其他协议（例如OSPF）也有自己的指标，在​​探讨相关主题时将进行讨论。 <br><br> 正如我们已经讨论的，管理距离意味着信任度。 最大信任度具有管理距离为1的静态路由。因此，此值越低越好。 <br><br><img src="https://habrastorage.org/webt/de/2i/yl/de2iyltmwzivbfumippytkyruls.jpeg"><br><br> 假设通过使用RIP的g0 / 1接口和使用静态路由的g0 / 0接口都可以访问网络192.168.3.0/24。 在这种情况下，路由器将沿着f0 / 0引导静态路由中的所有流量，因为该路由值得更多信任。 从这个意义上说，具有管理距离120的RIP协议比具有距离1的静态路由协议差。 <br><br> 进行故障排除的另一个重要命令是show ip interface g0 / 1命令。 它显示有关特定路由器端口的参数和状态的所有信息。 <br><br><img src="https://habrastorage.org/webt/4v/f1/9x/4vf19xg2pw7cpaduod3e_aopkbq.jpeg"><br><br> 对我们来说，重要的一句话是它表示启用了水平分割：启用了水平分割，因为由于禁用了此模式，您可能会遇到问题。 因此，如果出现问题，则必须确保为此接口激活了水平分割模式。 我注意到默认情况下此模式是活动的。 <br> 我相信我们已经涵盖了足够的与RIP协议有关的问题，因此通过考试时，您应该在这个主题上没有任何困难。 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/e4eMXjCxg0A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 感谢您与我们在一起。 你喜欢我们的文章吗？ 想看更多有趣的资料吗？ 通过下订单或将其推荐给您的朋友来支持我们， <b>为我们为您发明的入门级服务器的独特模拟，为Habr用户</b>提供<b>30％的折扣：</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">关于VPS（KVM）E5-2650 v4（6核）的全部真相10GB DDR4 240GB SSD 1Gbps从$ 20还是如何划分服务器？</a>  （RAID1和RAID10提供选件，最多24个内核和最大40GB DDR4）。 <br><br>  <b>戴尔R730xd便宜2倍？</b> 仅<b>在荷兰，</b>我们有<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2台Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100电视</a> ！</b>  <b><b>戴尔R420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99起！</b></b> 阅读有关<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">如何构建基础架构大厦的信息。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用价格为9000欧元的Dell R730xd E5-2650 v4服务器的上等课程？</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN463575/">https://habr.com/ru/post/zh-CN463575/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN463563/index.html">培训Cisco 200-125 CCNA v3.0。 第19天。路由器入门</a></li>
<li><a href="../zh-CN463567/index.html">根据显示时间精确调整上下文出价[+模板]</a></li>
<li><a href="../zh-CN463569/index.html">培训Cisco 200-125 CCNA v3.0。 第20天。静态路由</a></li>
<li><a href="../zh-CN463571/index.html">培训Cisco 200-125 CCNA v3.0。 第21天。RIP远程矢量路由</a></li>
<li><a href="../zh-CN463573/index.html">首款基于Zen 2架构的数据中心芯片</a></li>
<li><a href="../zh-CN463577/index.html">可塑性和强度：金属间化合物的硬化而不强调位错</a></li>
<li><a href="../zh-CN463579/index.html">Windows：找出谁登录</a></li>
<li><a href="../zh-CN463581/index.html">培训Cisco 200-125 CCNA v3.0。 第23天。先进的路由技术</a></li>
<li><a href="../zh-CN463583/index.html">神奇的插件，卷。 1.理论</a></li>
<li><a href="../zh-CN463585/index.html">培训Cisco 200-125 CCNA v3.0。 第24天。IPv6</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>