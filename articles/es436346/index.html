<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úíÔ∏è üïì ‚óºÔ∏è ¬øSiempre necesitas Docker, microservicios y programaci√≥n reactiva? üï¥üèº üîÜ üéè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Publicado por Denis Tsyplakov , arquitecto de soluciones, DataArt 

 En DataArt, trabajo de dos maneras. En el primero, ayudo a las personas a reparar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øSiempre necesitas Docker, microservicios y programaci√≥n reactiva?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataart/blog/436346/"><img src="https://habrastorage.org/webt/1i/fo/8q/1ifo8qsvpiw12dn-kv78tby-gue.jpeg"><br><br>  <i>Publicado por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Denis Tsyplakov</a> , arquitecto de soluciones, DataArt</i> <br><br>  En DataArt, trabajo de dos maneras.  En el primero, ayudo a las personas a reparar sistemas que est√°n rotos de una forma u otra y por una variedad de razones.  En el segundo, ayudo a dise√±ar nuevos sistemas para que no se rompan en el futuro o, para ser m√°s realistas, romperlos fue m√°s dif√≠cil. <br><br>  Si no est√° haciendo algo fundamentalmente nuevo, por ejemplo, el primer motor de b√∫squeda en Internet del mundo o inteligencia artificial para controlar el lanzamiento de misiles nucleares, crear un buen dise√±o del sistema es bastante simple.  Es suficiente tener en cuenta todos los requisitos, observar el dise√±o de sistemas similares y hacer lo mismo, sin cometer errores graves.  Parece una simplificaci√≥n excesiva del problema, pero recordemos que en el patio est√° el a√±o 2019, y hay "recetas est√°ndar" para el dise√±o del sistema para casi todo.  Una empresa puede abordar tareas t√©cnicas complejas, por ejemplo, procesar un mill√≥n de archivos PDF heterog√©neos y extraer tablas de gastos, pero la arquitectura del sistema rara vez es muy original.  Lo principal aqu√≠ es no cometer un error al determinar qu√© sistema estamos construyendo, y no perder la elecci√≥n de las tecnolog√≠as. <br><br>  Los errores t√≠picos ocurren regularmente en el √∫ltimo p√°rrafo, algunos de los cuales discutir√© en un art√≠culo. <a name="habracut"></a><br><br>  ¬øCu√°l es la dificultad de elegir una pila t√©cnica?  Agregar cualquier tecnolog√≠a al proyecto lo hace m√°s dif√≠cil y trae alg√∫n tipo de limitaciones.  En consecuencia, agregar una nueva herramienta (marco, biblioteca) solo debe hacerse cuando esta herramienta es m√°s √∫til que perjudicial.  En las conversaciones con los miembros del equipo sobre la adici√≥n de bibliotecas y marcos, a menudo uso en broma el siguiente truco: ‚ÄúSi quieres agregar una nueva dependencia al proyecto, pones una caja de cerveza para el equipo.  Si crees que esta dependencia de una caja de cerveza no vale la pena, no la agregues ‚Äù. <br><br>  Supongamos que creamos una determinada aplicaci√≥n, por ejemplo, en Java y agregamos la biblioteca TimeMagus al proyecto para manipular fechas (un ejemplo es ficticio).  La biblioteca es excelente, nos proporciona muchas caracter√≠sticas que no est√°n disponibles en la biblioteca de clases est√°ndar.  ¬øC√≥mo puede ser da√±ina tal decisi√≥n?  Veamos los posibles escenarios: <br><br><ol><li>  No todos los desarrolladores conocen una biblioteca no est√°ndar, el umbral de entrada para los nuevos desarrolladores ser√° mayor.  Aumenta la posibilidad de que un nuevo desarrollador cometa un error al manipular una fecha usando una biblioteca desconocida. </li><li> El tama√±o de la distribuci√≥n est√° aumentando.  Cuando el tama√±o de la aplicaci√≥n promedio en Spring Boot puede crecer f√°cilmente a 100 MB, esto no es en absoluto un poco.  Vi casos en los que, por el bien de un m√©todo, una biblioteca de 30 MB se introdujo en el kit de distribuci√≥n.  Lo justificaron de esta manera: "Utilic√© esta biblioteca en un proyecto anterior y hay un m√©todo conveniente all√≠". </li><li>  Dependiendo de la biblioteca, el tiempo de inicio puede aumentar significativamente. </li><li>  El desarrollador de la biblioteca puede abandonar su creaci√≥n, luego la biblioteca comenzar√° a entrar en conflicto con la nueva versi√≥n de Java, o se detectar√° un error en ella (causado, por ejemplo, por el cambio de zonas horarias), y no se lanzar√° ning√∫n parche. </li><li>  La licencia de la biblioteca en alg√∫n momento entrar√° en conflicto con la licencia de su producto (¬øverifica las licencias de todos los productos que utiliza?). </li><li>  Jar hell: la biblioteca TimeMagus necesita la √∫ltima versi√≥n de la biblioteca SuperCollections, luego de unos meses necesita conectar la biblioteca para la integraci√≥n con una API de terceros, que no funciona con la √∫ltima versi√≥n de SuperCollections, y solo funciona con la versi√≥n 2.x.  No puede conectar una API. No hay otra biblioteca para trabajar con esta API. </li></ol><br>  Por otro lado, la biblioteca est√°ndar nos proporciona herramientas convenientes para manipular fechas, y si no necesita mantener, por ejemplo, un calendario ex√≥tico o calcular el n√∫mero de d√≠as desde hoy hasta "el segundo d√≠a de la tercera luna nueva en el a√±o anterior del √°guila alt√≠sima", puede valer la pena abstenerse de usar una biblioteca de terceros.  Incluso si es completamente maravilloso y en una escala de proyecto, le ahorrar√° hasta 50 l√≠neas de c√≥digo. <br><br>  El ejemplo considerado es bastante simple, y creo que es f√°cil tomar una decisi√≥n.  Pero hay una serie de tecnolog√≠as que est√°n muy extendidas, para los o√≠dos de todos, y su uso es obvio, lo que hace que la elecci√≥n sea m√°s dif√≠cil: realmente brindan serias ventajas para el desarrollador.  Pero esto no siempre tiene que ser una ocasi√≥n para arrastrarlos a su proyecto.  Veamos algunos de ellos. <br><br><h2>  Docker </h2><br>  Antes de la aparici√≥n de esta tecnolog√≠a realmente genial, al implementar sistemas, hab√≠a muchos problemas desagradables y complejos relacionados con el conflicto de versiones y las dependencias oscuras.  Docker le permite empaquetar una instant√°nea del estado del sistema, pasarlo a producci√≥n y ejecutarlo all√≠.  Esto permite evitar los conflictos mencionados, lo que, por supuesto, es genial. <br><br>  Anteriormente, esto se hac√≠a de una manera monstruosa, y algunas tareas no se resolvieron en absoluto.  Por ejemplo, tiene una aplicaci√≥n PHP que usa la biblioteca ImageMagick para trabajar con im√°genes, su aplicaci√≥n tambi√©n necesita configuraciones espec√≠ficas de php.ini y la aplicaci√≥n en s√≠ misma est√° alojada usando Apache httpd.  Pero hay un problema: algunas rutinas regulares se implementan al ejecutar scripts Python desde cron, y la biblioteca utilizada por estos scripts entra en conflicto con las versiones de las bibliotecas utilizadas en su aplicaci√≥n.  Docker le permite empaquetar toda su aplicaci√≥n, junto con la configuraci√≥n, las bibliotecas y un servidor HTTP, en un contenedor que atiende solicitudes en el puerto 80, y las rutinas en otro contenedor.  Todos juntos funcionar√°n perfectamente, y puedes olvidarte del conflicto de las bibliotecas. <br><br>  ¬øDebo usar Docker para empacar cada aplicaci√≥n?  Mi opini√≥n: no, no vale la pena.  La imagen muestra una composici√≥n t√≠pica de una aplicaci√≥n dockerizada implementada en AWS.  Los rect√°ngulos aqu√≠ indican las capas de aislamiento que tenemos. <br><br><img src="https://habrastorage.org/webt/wg/l9/0_/wgl90_ho4o9feo2r7o7ktzhiy4a.png"><br><br>  El rect√°ngulo m√°s grande es la m√°quina f√≠sica.  El siguiente es el sistema operativo de la m√°quina f√≠sica.  Luego, el virtualizador amaz√≥nico, luego el sistema operativo de la m√°quina virtual, luego el contenedor docker, seguido por el sistema operativo contenedor, JVM, luego el contenedor Servlet (si es una aplicaci√≥n web), y el c√≥digo de su aplicaci√≥n ya est√° dentro de √©l.  Es decir, ya vemos bastantes capas de aislamiento. <br><br>  La situaci√≥n se ver√° a√∫n peor si miramos el acr√≥nimo JVM.  JVM es, curiosamente, la m√°quina virtual Java, es decir, siempre tenemos al menos una m√°quina virtual en Java.  Agregar aqu√≠ un contenedor Docker adicional, en primer lugar, a menudo no brinda una ventaja tan notable, porque la JVM en s√≠ misma ya nos a√≠sla bastante bien del entorno externo y, en segundo lugar, no est√° exento de costos. <br><br>  Tom√© cifras de un estudio de IBM, si no se equivoc√≥, hace dos a√±os.  Brevemente, si estamos hablando de operaciones de disco, uso de procesador o acceso a memoria, Docker casi no agrega una sobrecarga (literalmente una fracci√≥n de porcentaje), pero si estamos hablando de latencia de red, los retrasos son bastante notables.  No son gigantes, pero dependiendo de la aplicaci√≥n que tenga, pueden sorprenderle desagradablemente. <br><br><img src="https://habrastorage.org/webt/pb/om/j-/pbomj-5curelulxpmomito3jy7a.png"><br><br>  Adem√°s, Docker consume espacio de disco adicional, ocupa parte de la memoria y agrega tiempo de inicio.  Los tres puntos no son cr√≠ticos para la mayor√≠a de los sistemas, generalmente hay mucho espacio en disco y memoria.  El tiempo de lanzamiento, por regla general, tampoco es un problema cr√≠tico, lo principal es que se inicia la aplicaci√≥n.  Pero todav√≠a hay situaciones en las que la memoria puede agotarse, y el tiempo de inicio total del sistema, que consta de veinte servicios dependientes, ya es bastante grande.  Adem√°s, esto afecta el costo del alojamiento.  Y si est√° involucrado en cualquier operaci√≥n de alta frecuencia, Docker categ√≥ricamente no le conviene.  En el caso general, es mejor no acoplar ninguna aplicaci√≥n que sea sensible a los retrasos de la red de hasta 250‚Äì500 ms. <br><br>  Adem√°s, con el acoplador, el an√°lisis de problemas en los protocolos de red es notablemente complicado, no solo aumentan los retrasos, sino que todos los tiempos se vuelven diferentes. <br><br><h3>  ¬øCu√°ndo se necesita realmente Docker? </h3><br>  Cuando tenemos diferentes versiones del JRE, y ser√≠a bueno arrastrar el JRE.  Hay momentos en los que necesita ejecutar una determinada versi√≥n de Java (no "el √∫ltimo Java 8", sino algo m√°s espec√≠fico).  En este caso, es bueno empacar el JRE con la aplicaci√≥n y ejecutarlo como un contenedor.  En principio, est√° claro que se pueden colocar diferentes versiones de Java en el sistema de destino debido a JAVA_HOME, etc. Pero Docker en este sentido es mucho m√°s conveniente, porque conoce la versi√≥n exacta del JRE, todo est√° empaquetado y con otro JRE la aplicaci√≥n ni siquiera comenzar√° por accidente . <br><br>  Docker tambi√©n es necesario si tiene dependencias en algunas bibliotecas binarias, por ejemplo, para el procesamiento de im√°genes.  En este caso, podr√≠a ser una buena idea empacar todas las bibliotecas necesarias con la aplicaci√≥n Java en s√≠. <br><br>  El siguiente caso se refiere a un sistema que es un compuesto complejo de varios servicios escritos en varios idiomas.  Tiene una pieza en Node.js, una parte en Java, una biblioteca en Go y, adem√°s, alg√∫n tipo de Machine Learning en Python.  Todo este zool√≥gico debe ser cuidadoso y cuidadosamente ajustado para ense√±ar a sus elementos a verse.  Dependencias, rutas, direcciones IP: todo esto debe pintarse y plantearse cuidadosamente en producci√≥n.  Por supuesto, en este caso, Docker te ayudar√° mucho.  Adem√°s, hacerlo sin su ayuda es simplemente doloroso. <br><br>  Docker puede proporcionar cierta conveniencia cuando necesita especificar muchos par√°metros diferentes en la l√≠nea de comando para iniciar la aplicaci√≥n.  Por otro lado, los scripts de bash lo hacen muy bien, a menudo desde una sola l√≠nea.  Decide cu√°l usar mejor. <br><br>  Lo √∫ltimo que viene a la mente de inmediato es la situaci√≥n en la que utiliza, por ejemplo, Kubernetes, y necesita realizar la orquestaci√≥n del sistema, es decir, generar una cierta cantidad de microservicios diferentes que se escalan autom√°ticamente de acuerdo con ciertas reglas. <br><br>  En todos los dem√°s casos, Spring Boot es suficiente para empaquetar todo en un solo archivo jar.  Y, en principio, el tarro springboot es una buena met√°fora para el contenedor Docker.  Esto, por supuesto, no es lo mismo, pero en t√©rminos de facilidad de implementaci√≥n, son realmente similares. <br><br><h2>  Kubernetes </h2><br>  ¬øQu√© pasa si usamos Kubernetes?  Para empezar, esta tecnolog√≠a le permite implementar una gran cantidad de microservicios en diferentes m√°quinas, administrarlos, realizar escalas autom√°ticas, etc. Sin embargo, hay muchas aplicaciones que le permiten controlar la orquestaci√≥n, por ejemplo, Puppet, motor CF, SaltStack y otras.  Kubernetes en s√≠ mismo es ciertamente bueno, pero puede agregar una sobrecarga significativa, que no todos los proyectos est√°n listos para vivir. <br><br>  Mi herramienta favorita es Ansible, combinada con Terraform donde la necesitas.  Ansible es una herramienta liviana declarativa bastante simple.  No requiere la instalaci√≥n de agentes especiales y tiene la sintaxis comprensible de los archivos de configuraci√≥n.  Si est√° familiarizado con Docker compose, ver√° inmediatamente secciones superpuestas.  Y si usa Ansible, no hay necesidad de pre-rezerez: puede implementar sistemas utilizando medios m√°s cl√°sicos. <br><br>  Est√° claro que de todos modos, estas son tecnolog√≠as diferentes, pero hay un conjunto de tareas en las que son intercambiables.  Y un enfoque concienzudo del dise√±o requiere un an√°lisis de qu√© tecnolog√≠a es m√°s adecuada para el sistema que se est√° desarrollando.  Y c√≥mo ser√° mejor igualarlo en unos a√±os. <br><br>  Si la cantidad de servicios diferentes en su sistema es peque√±a y su configuraci√≥n es relativamente simple, por ejemplo, solo tiene un archivo jar, y no ve un crecimiento repentino y explosivo en la complejidad, es posible que necesite sobrevivir con los mecanismos de implementaci√≥n cl√°sicos. <br><br>  Esto plantea la pregunta, "espera, ¬øc√≥mo es un archivo jar?".  ¬°El sistema debe constar de tantos microservicios at√≥micos como sea posible!  Veamos qui√©n y qu√© deber√≠a hacer el sistema con microservicios. <br><br><h2>  Microservicios </h2><br>  En primer lugar, los microservicios permiten lograr una mayor flexibilidad y escalabilidad, y permiten versiones flexibles de partes individuales del sistema.  Supongamos que tenemos alg√∫n tipo de aplicaci√≥n que ha estado en producci√≥n durante muchos a√±os.  La funcionalidad est√° creciendo, pero no podemos desarrollarla sin cesar de manera extensa.  Por ejemplo <br><br>  Tenemos una aplicaci√≥n en Spring Boot 1 y Java 8. Una combinaci√≥n maravillosa y estable.  Pero el a√±o es 2019, y nos guste o no, debemos avanzar hacia Spring Boot 2 y Java 12. Incluso la transici√≥n relativamente simple de un sistema grande a la nueva versi√≥n de Spring Boot puede ser muy laboriosa, pero se trata de saltar sobre el abismo de Java 8 a Java 12 No quiero hablar.  Es decir, en teor√≠a todo es simple: migramos, corregimos los problemas que han surgido, probamos todo y lo ejecutamos en producci√≥n.  En la pr√°ctica, esto puede significar varios meses de trabajo que no aportan nuevas funcionalidades al negocio.  Un peque√±o paso a Java 12, como saben, tampoco funciona.  Aqu√≠ la arquitectura de microservicios nos puede ayudar. <br><br>  Podemos asignar un grupo compacto de funciones de nuestra aplicaci√≥n a un servicio separado, migrar este grupo de funciones a una nueva pila t√©cnica y ponerlo en producci√≥n en un tiempo relativamente corto.  Repita el proceso pieza por pieza hasta que las viejas tecnolog√≠as se agoten por completo. <br><br>  Adem√°s, los microservicios pueden proporcionar aislamiento de fallas, cuando un componente ca√≠do no arruina todo el sistema. <br><br>  Los microservicios nos permiten tener una pila t√©cnica flexible, es decir, no escribir todo monol√≠ticamente en un idioma y una versi√≥n, y si es necesario, usar una pila t√©cnica diferente para componentes individuales.  Por supuesto, es mejor cuando usa una pila t√©cnica uniforme, pero esto no siempre es posible y, en este caso, los microservicios pueden ayudar. <br><br>  Los microservicios tambi√©n permiten una forma t√©cnica de resolver una serie de problemas de gesti√≥n.  Por ejemplo, cuando su equipo grande consiste en grupos separados que trabajan en diferentes compa√±√≠as (sentados en diferentes zonas horarias y hablando diferentes idiomas).  Los microservicios ayudan a aislar esta diversidad organizacional mediante componentes que se desarrollar√°n por separado.  Los problemas de una parte del equipo permanecer√°n dentro de un servicio y no se extender√°n por toda la aplicaci√≥n. <br><br>  Pero los microservicios no son la √∫nica forma de resolver estos problemas.  Por extra√±o que parezca, hace algunas d√©cadas, para la mitad de ellos, a la gente se le ocurrieron clases y, un poco m√°s tarde, componentes y el patr√≥n de Inversi√≥n de Control. <br><br>  Si observamos Spring, vemos que, de hecho, es una arquitectura de microservicios dentro de un proceso Java.  Podemos declarar un componente que, en esencia, es un servicio.  Tenemos la capacidad de realizar una b√∫squeda a trav√©s de @Autowired, hay herramientas para administrar el ciclo de vida de los componentes y la capacidad de configurar los componentes por separado de una docena de fuentes diferentes.  En principio, obtenemos casi todo lo que tenemos con microservicios, solo dentro de un proceso, lo que reduce significativamente los costos.  Una clase Java normal es el mismo contrato de API que tambi√©n le permite aislar los detalles de implementaci√≥n. <br><br>  Estrictamente hablando, en el mundo de Java, los microservicios son m√°s similares a OSGi: all√≠ tenemos una copia casi exacta de todo lo que est√° en microservicios, excepto, adem√°s de la posibilidad de usar diferentes lenguajes de programaci√≥n y ejecuci√≥n de c√≥digo en diferentes servidores.  Pero incluso estando dentro de las capacidades de las clases Java, tenemos una herramienta bastante poderosa para resolver una gran cantidad de problemas de aislamiento. <br><br>  Incluso en un escenario "gerencial" con aislamiento de equipo, podemos crear un repositorio separado que contenga un m√≥dulo Java separado con un contrato externo claro y un conjunto de pruebas.  Esto reducir√° significativamente la capacidad de un equipo para complicar inadvertidamente la vida de otro equipo. <br><br><img src="https://habrastorage.org/webt/fq/kn/v8/fqknv8g8bzypbpunprhjeeru_is.png"><br><br>  Repetidamente he escuchado que es imposible aislar los detalles de implementaci√≥n sin microservicios.  Pero puedo responder que toda la industria del software se trata solo de aislar la implementaci√≥n.  Para esto, la subrutina se invent√≥ por primera vez (en los a√±os 50 del siglo pasado), luego las funciones, los procedimientos, las clases y los microservicios posteriores.  Pero el hecho de que los microservicios en esta serie aparecieron por √∫ltima vez no los convierte en el punto m√°s alto de desarrollo y no nos obliga a recurrir siempre a su ayuda. <br><br>  Cuando se usan microservicios, tambi√©n se debe tener en cuenta que las llamadas entre ellos toman alg√∫n tiempo.  Esto a menudo no es importante, pero he visto un caso en el que el cliente necesitaba ajustar el tiempo de respuesta del sistema de 3 segundos.  Era una obligaci√≥n contractual conectarse a un sistema de terceros.  La cadena de llamadas pas√≥ a trav√©s de varias docenas de microservicios at√≥micos, y la sobrecarga de hacer llamadas HTTP no hizo posible que se redujera en 3 segundos.  En general, debe comprender que cualquier divisi√≥n del c√≥digo monol√≠tico en una serie de servicios afecta inevitablemente el rendimiento general del sistema.  Solo porque los datos no se pueden teletransportar entre procesos y servidores "de forma gratuita". <br><br><h3>  ¬øCu√°ndo se necesitan microservicios? </h3><br>  ¬øEn qu√© casos una aplicaci√≥n monol√≠tica realmente necesita dividirse en varios microservicios?  Primero, cuando hay un uso desequilibrado de recursos en √°reas funcionales. <br><br>  Por ejemplo, tenemos un grupo de llamadas API que realizan c√°lculos que requieren mucho tiempo de procesador.  Y hay un grupo de llamadas API que se ejecutan muy r√°pidamente, pero que requieren una estructura de datos engorrosa de 64 GB para almacenarse en la memoria.  Para el primer grupo, necesitamos un grupo de m√°quinas con un total de 32 procesadores, para la segunda m√°quina es suficiente (OK, que haya dos m√°quinas para tolerancia a fallas) con 64 GB de memoria.  Si tenemos una aplicaci√≥n monol√≠tica, necesitaremos 64 GB de memoria en cada m√°quina, lo que aumenta el costo de cada m√°quina.  Si estas funciones se dividen en dos servicios separados, podemos ahorrar recursos optimizando el servidor para una funci√≥n espec√≠fica.  La configuraci√≥n del servidor puede verse as√≠: <br><br><img src="https://habrastorage.org/webt/q3/2s/yo/q32syo6fpc3c3avb_wphdtwupp8.png"><br><br>  Se necesitan microservicios y si necesitamos escalar seriamente alguna √°rea funcional estrecha.  Por ejemplo, cien m√©todos API se llaman 10 veces por segundo y, por ejemplo, cuatro m√©todos API se llaman 10 mil veces por segundo.  A menudo no es necesario escalar todo el sistema, es decir, nosotros, por supuesto, podemos multiplicar los 100 m√©todos en muchos servidores, pero esto, por regla general, es notablemente m√°s costoso y m√°s complicado que escalar un grupo reducido de m√©todos.  Podemos separar estas cuatro llamadas en un servicio separado y escalarlo solo a una gran cantidad de servidores. <br><br>  Tambi√©n est√° claro que es posible que necesitemos un microservicio si hemos escrito un √°rea funcional separada, por ejemplo, en Python.  Debido a que alguna biblioteca (por ejemplo, para Machine Learning) result√≥ estar disponible solo en Python, y queremos separarla en un servicio separado.  Tambi√©n tiene sentido hacer un microservicio si alguna parte del sistema es propensa a fallas.  Es bueno, por supuesto, escribir c√≥digo para que no haya fallas en principio, pero las razones pueden ser externas.  Y nadie est√° a salvo de sus propios errores.  En este caso, el error puede aislarse dentro de un proceso separado. <br><br>  Si su aplicaci√≥n no tiene nada de lo anterior y no se espera en el futuro previsible, lo m√°s probable es que una aplicaci√≥n monol√≠tica se adapte mejor a usted.  Lo √∫nico: recomiendo escribirlo para que las √°reas funcionales que no est√©n relacionadas entre s√≠ no dependan entre s√≠ en el c√≥digo.  De modo que, si es necesario, las √°reas funcionales que no est√°n interconectadas se pueden separar entre s√≠.  Sin embargo, esta es siempre una buena recomendaci√≥n, ya que aumenta la consistencia interna y le ense√±a a formular cuidadosamente los contratos del m√≥dulo. <br><br><h2>  Arquitectura reactiva y programaci√≥n reactiva. </h2><br>  Un enfoque reactivo es algo relativamente nuevo.  El momento de su aparici√≥n puede considerarse el a√±o 2014, cuando se public√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">The Reactive Manifesto</a> .  Dos a√±os despu√©s de la publicaci√≥n del manifiesto, era conocido por todos.  Este es un enfoque verdaderamente revolucionario para el dise√±o de sistemas.       ,      ,   ,     ,              . <br><br><img src="https://habrastorage.org/webt/5x/dh/zb/5xdhzbusskuvnn13ygva5cwu2wk.png"><br><br>  ,         .  ,      ,    : ¬´  ,      !?¬ª     , ,  ,            ,         ¬´¬ª.     ,   100%   ,      ,     . <br><br>      ‚Äî   ,      ‚Äî     .          . <br><br>     ?  ,     . <br><br>   - ,  - .     -  -, , HTTP-.     ,      .   ,       .     ,   ,     ,  . <br><br>          ?   ,  HTTP-            ,   ( callback)        (  )  .     ,  -   ( ,      HTTP-)   . <br><br>    ‚Äî   .            . . .      3 Ghz      ,   ,      . .    .  ,   Java-,    HTTP- ‚Äî     5-10%.  ,   , , ,    100   50 $/  ‚Äî    $500    .  ,  ,      . <br><br> ,   ?    . <br><br>        ,       .  ,        ,   ,   ,        ,       ,    .     ,   ,             .      . <br><br>     -   . , JDBC      (     . ADA, R2DBC,         ).   90 %      ,         .      ‚Äî  HTTP-    ,         .      ,          . <br><br><img src="https://habrastorage.org/webt/t-/om/uv/t-omuvjblahs0nbrkpmeomfh970.png"><br><br><h3>     ? </h3><br>  ,     , ,      (    )              .    ‚Äî         -    ,    .      ,      , ,  HTTP. <br><br>             ,       , ,        ,     , ,  . <br><br>              . ,  ¬´          ,       ¬ª       , ,     ,                 . ,        ,    ,    10  11 , ,         ,    . <br><br><h2>  Conclusi√≥n </h2><br>    ,         .              ,  ,        ,        . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436346/">https://habr.com/ru/post/es436346/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436334/index.html">Aprendiendo conceptos a trav√©s de la interacci√≥n sensoriomotora</a></li>
<li><a href="../es436338/index.html">¬øC√≥mo funciona el aeropuerto de Vnukovo?</a></li>
<li><a href="../es436340/index.html">Nivel de registro separado para cada solicitud</a></li>
<li><a href="../es436342/index.html">Una introducci√≥n a la optimizaci√≥n robusta [... y una peque√±a lista de compras que olvid√© ...]</a></li>
<li><a href="../es436344/index.html">Fibaro Home Center 2 y termostato para calefacci√≥n por suelo radiante HeatIt. C√≥mo elevar la temperatura.</a></li>
<li><a href="../es436348/index.html">Desarrollar un equipo para solicitar datos de una base de datos - parte 2</a></li>
<li><a href="../es436350/index.html">Aprenda t√°cticas adversas, t√©cnicas y conocimientos comunes (ATT @ CK). T√°cticas empresariales. Parte 7</a></li>
<li><a href="../es436352/index.html">Resumen de noticias de PostgreSQL. Edici√≥n No14</a></li>
<li><a href="../es436354/index.html">El ej√©rcito de los Estados Unidos descuida los problemas de ciberseguridad</a></li>
<li><a href="../es436356/index.html">[Interesante desde detr√°s de la colina] ¬øC√≥mo detenemos la dependencia tecnol√≥gica?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>