<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèïÔ∏è üê° üòå Desarrollo inform√°tico aut√≥nomo completo üïç ‚òÅÔ∏è üöΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Traducci√≥n de la primera parte de la presentaci√≥n del Tesla Autonomy Investor Day sobre el desarrollo de la computadora de conducci√≥n aut√≥noma complet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desarrollo inform√°tico aut√≥nomo completo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450500/"> <em>Traducci√≥n de la primera parte de la presentaci√≥n del Tesla Autonomy Investor Day sobre el desarrollo de la computadora de conducci√≥n aut√≥noma completa para el piloto autom√°tico de Tesla.</em>  <em>Completamos el vac√≠o entre las revisiones de tesis para la presentaci√≥n y su contenido.</em> <br><a name="habracut"></a><br>  <em>El texto de la presentaci√≥n se traduce cerca del original.</em>  <em>Preguntas al orador, selectivamente con abreviaturas.</em> <br><br>  <strong>Anfitri√≥n:</strong> Hola a todos.  Perd√≥n por llegar tarde.  Bienvenido a nuestro primer d√≠a de conducci√≥n aut√≥noma.  Espero que podamos hacer esto m√°s regularmente para mantenerlo actualizado sobre nuestros desarrollos. <br><br>  Hace unos tres meses, nos est√°bamos preparando para el informe de ganancias del cuarto trimestre con Ilon y otros ejecutivos.  Luego dije que la mayor brecha en las conversaciones con los inversores, entre lo que veo dentro de la empresa y cu√°l es su percepci√≥n externa, es nuestro progreso en la conducci√≥n aut√≥noma.  Y esto es comprensible, durante los √∫ltimos a√±os hablamos sobre aumentar la producci√≥n del Modelo 3, alrededor del cual hubo mucho debate.  De hecho, mucho ha sucedido en el fondo. <br><br>  Trabajamos en un nuevo chip para piloto autom√°tico, redise√±amos por completo la red neuronal de visi√≥n artificial y finalmente comenzamos a lanzar la Computadora aut√≥noma completa (FSDC).  Pensamos que era una buena idea abrir el velo, invitar a todos y contar todo lo que hemos hecho en los √∫ltimos dos a√±os. <br><br>  Hace unos tres a√±os que quer√≠amos usar, quer√≠amos encontrar el mejor chip para la conducci√≥n aut√≥noma.  Descubrimos que no hay ning√∫n chip dise√±ado desde cero para redes neuronales.  Por lo tanto, invitamos a mi colega Pete Bannon, vicepresidente de dise√±o de circuitos integrados, a desarrollar un chip para nosotros.  Tiene unos 35 a√±os de experiencia en el desarrollo de chips.  Incluidos 12 a√±os en PASemi, que luego fue adquirida por Apple.  Trabaj√≥ en docenas de arquitecturas e implementaciones diferentes, y fue el dise√±ador jefe del Apple iPhone 5, poco antes de unirse a Tesla.  Tambi√©n se une a nosotros en Elon Musk.  Gracias <br><br>  <strong>Ilon:</strong> En realidad, iba a presentar a Pete, pero como ya lo han hecho, agregar√© que es simplemente el mejor arquitecto de sistemas y circuitos integrados del mundo que conozco.  Es un honor que usted y su equipo en Tesla.  Por favor, cu√©ntenos sobre el incre√≠ble trabajo que ha realizado. <br><br>  <strong>Pete:</strong> Gracias Ilon.  Me complace estar aqu√≠ esta ma√±ana y es realmente agradable contarles sobre todo el trabajo que mis colegas y yo hemos realizado aqu√≠ en Tesla durante los √∫ltimos tres a√±os.  Te contar√© un poco sobre c√≥mo comenz√≥ todo, y luego te presentar√© la computadora FSDC y te contar√© un poco c√≥mo funciona.  Profundizaremos en el chip y consideraremos algunos de los detalles.  Describir√© c√≥mo funciona el acelerador especializado de redes neuronales que dise√±amos y luego muestra algunos resultados, y espero que para ese momento todav√≠a no se quede dormido. <br><br>  Fui contratado en febrero de 2016.  Le pregunt√© a Ilon si estaba listo para gastar tanto como fuera necesario para crear este sistema especializado, √©l pregunt√≥: "¬øGanaremos?" .  Contratamos a un grupo de personas y comenzamos a pensar en c√≥mo ser√≠a un chip dise√±ado espec√≠ficamente para una conducci√≥n totalmente aut√≥noma.  Pasamos dieciocho meses desarrollando la primera versi√≥n, y en agosto de 2017 la lanzamos para producci√≥n.  Obtuvimos el chip en diciembre, funcion√≥, y en realidad funcion√≥ muy bien en el primer intento.  En abril de 2018, realizamos varios cambios y lanzamos la versi√≥n B zero Rev.  En julio de 2018, el chip fue certificado y comenzamos la producci√≥n a gran escala.  En diciembre de 2018, se lanz√≥ la pila de conducci√≥n aut√≥noma en un nuevo equipo, y pudimos proceder con la conversi√≥n de los autos de la compa√±√≠a y las pruebas en el mundo real.  En marzo de 2019  Comenzamos a instalar una nueva computadora en los modelos S y X, y en abril, en el Modelo 3. <br><br>  Por lo tanto, todo el programa, desde la contrataci√≥n de los primeros empleados hasta el lanzamiento completo en los tres modelos de nuestros autom√≥viles, tom√≥ un poco m√°s de tres a√±os.  Este es quiz√°s el programa de desarrollo de sistemas m√°s r√°pido en el que he participado.  Y realmente habla de los beneficios de la alta integraci√≥n vertical, lo que le permite hacer un dise√±o paralelo y acelerar la implementaci√≥n. <br><br>  En t√©rminos de objetivos, est√°bamos completamente centrados √∫nicamente en los requisitos de Tesla, y esto simplifica enormemente la vida.  Si tiene un solo cliente, no necesita preocuparse por los dem√°s.  Uno de los objetivos era mantener la potencia por debajo de los 100 vatios para poder convertir las m√°quinas existentes.  Tambi√©n quer√≠amos reducir los costos para proporcionar redundancia para una mayor seguridad. <br><br>  En el momento en que apuntamos al cielo, sostuve que conducir un autom√≥vil requerir√≠a un rendimiento de red neuronal de al menos 50 billones de operaciones por segundo.  Por lo tanto, quer√≠amos obtener al menos la misma cantidad, y mejor, m√°s.  Los tama√±os de lote determinan la cantidad de art√≠culos con los que trabaja al mismo tiempo.  Por ejemplo, los TPU de Google tienen un tama√±o de paquete de 256, y debe esperar hasta que tenga 256 elementos para procesar antes de comenzar.  No quer√≠amos esperar y desarrollamos nuestro motor con un tama√±o de paquete de uno.  Tan pronto como aparece la imagen, la procesamos de inmediato para minimizar el retraso y aumentar la seguridad. <br><br>  Necesit√°bamos un procesador de gr√°ficos para realizar un procesamiento posterior.  Al principio, ocup√≥ bastante, pero asumimos que con el tiempo se volver√≠a m√°s peque√±o, ya que las redes neuronales est√°n mejorando cada vez m√°s.  Y realmente sucedi√≥.  Nos arriesgamos poniendo un procesador de gr√°ficos bastante modesto en el dise√±o, y result√≥ ser una buena idea. <br><br>  La seguridad es muy importante, si no tiene un autom√≥vil protegido, no puede tener un autom√≥vil seguro.  Por lo tanto, se presta mucha atenci√≥n a la seguridad y, por supuesto, a la seguridad. <br><br>  En t√©rminos de arquitectura de chip, como Ilon mencion√≥ anteriormente, en 2016 no hubo un acelerador creado originalmente para redes neuronales.  Todos simplemente agregaron instrucciones a su CPU, GPU o DSP.  Nadie hizo desarrollo con 0. Por lo tanto, decidimos hacerlo nosotros mismos.  Para otros componentes, compramos CPU y GPU industriales IP est√°ndar, lo que nos permiti√≥ reducir el tiempo de desarrollo y los riesgos. <br><br>  Otra cosa que fue un poco inesperada para m√≠ fue la capacidad de usar comandos existentes en Tesla.  Tesla ten√≠a excelentes equipos de desarrolladores de fuentes de alimentaci√≥n, an√°lisis de integridad de se√±al, dise√±o de vivienda, firmware, software de sistema, desarrollo de placa de circuito y un programa de validaci√≥n de sistema realmente bueno.  Pudimos usar todo esto para acelerar el programa. <br><br><img src="https://habrastorage.org/webt/xe/mh/pf/xemhpf4cvjuh2ry86hx_kor7fru.png"><br><br>  As√≠ es como se ve.  A la derecha, ver√° los conectores para video que provienen de las c√°maras del autom√≥vil.  Dos computadoras de conducci√≥n aut√≥nomas en el centro de la placa, a la izquierda: la fuente de alimentaci√≥n y los conectores de control.  Me encanta cuando una soluci√≥n se reduce a sus elementos b√°sicos.  Tienes un video, una computadora y energ√≠a, simple y claro.  Aqu√≠ est√° la soluci√≥n anterior de Hardware 2.5, que inclu√≠a la computadora y que instalamos los √∫ltimos dos a√±os.  Aqu√≠ hay un nuevo dise√±o para una computadora FSD.  Son muy parecidos.  Esto, por supuesto, se debe a las limitaciones del programa de modernizaci√≥n de autom√≥viles.  Me gustar√≠a se√±alar que esta es en realidad una computadora bastante peque√±a.  Se coloca detr√°s de la guantera y no ocupa la mitad del tronco. <br><br>  Como dije antes, hay dos computadoras completamente independientes en el tablero.  Se destacan en azul y verde.  A los lados de cada SoC puede ver chips DRAM.  En la parte inferior izquierda, ver√° chips FLASH que representan el sistema de archivos.  Hay dos computadoras independientes que arrancan y se ejecutan bajo su propio sistema operativo. <br><br>  <strong>Ilon:</strong> El principio general es que si alguna parte falla, la m√°quina puede continuar movi√©ndose.  La c√°mara, el circuito de alimentaci√≥n, uno de los chips de computadora Tesla falla: la m√°quina contin√∫a movi√©ndose.  La probabilidad de falla de esta computadora es significativamente menor que la probabilidad de que el conductor pierda el conocimiento.  Este es un indicador clave, al menos un orden de magnitud. <br><br>  <strong>Pete:</strong> S√≠, entonces una de las cosas que hacemos para mantener la computadora en funcionamiento son las fuentes de alimentaci√≥n redundantes.  El primer chip se ejecuta en una fuente de alimentaci√≥n y el segundo en otra.  Lo mismo es para las c√°maras, la mitad de las c√°maras en la fuente de alimentaci√≥n est√°n marcadas en azul, la otra mitad en verde.  Ambos chips reciben todo el video y lo procesan de forma independiente. <br><br>  Desde el punto de vista de la conducci√≥n, la secuencia es recopilar mucha informaci√≥n del mundo que lo rodea, no solo tenemos c√°maras, sino tambi√©n radar, GPS, mapas, estabilizador girosc√≥pico (IMU), sensores ultras√≥nicos alrededor del autom√≥vil.  Tenemos un √°ngulo de direcci√≥n, sabemos c√≥mo deber√≠a ser la aceleraci√≥n de un autom√≥vil.  Todo esto se une para formar un plan.  Cuando el plan est√° listo, las dos computadoras intercambian sus versiones del plan para asegurarse de que coincidan. <br><br>  Asumiendo que el plan es el mismo, emitimos se√±ales de control y manejamos.  Ahora que te est√°s moviendo con los nuevos controles, ciertamente quieres probarlo.  Verificamos que las se√±ales de control transmitidas coinciden con lo que pretend√≠amos transmitir a los actuadores del autom√≥vil.  Los sensores se utilizan para verificar que el control realmente se est√° llevando a cabo.  Si le pide al autom√≥vil que acelere, que disminuya la velocidad o que gire a la derecha o izquierda, puede mirar los aceler√≥metros y asegurarse de que esto realmente est√© sucediendo.  Existe una importante redundancia y duplicaci√≥n tanto de nuestros datos como de nuestras capacidades de monitoreo de datos. <br><br>  Hablemos del chip.  Est√° empaquetado en un BGA de 37.5 mm con 1600 pines, la mayor√≠a de los cuales son de alimentaci√≥n y tierra.  Si quita la cubierta, puede ver el sustrato y el cristal en el centro.  Si separas el cristal y lo das vuelta, ver√°s 13,000 protuberancias C4 esparcidas por la superficie.  Debajo est√°n las doce capas de metal del circuito integrado.  Este es un proceso FinFET CMOS de 14 nan√≥metros que mide 260 mm.sq., un circuito peque√±o.  A modo de comparaci√≥n, un chip de tel√©fono celular convencional mide aproximadamente 100 mm2.  Un procesador de gr√°ficos de alto rendimiento tendr√° aproximadamente 600-800 mm.kv.  Entonces estamos en el medio.  Yo lo llamar√≠a el medio dorado, este es un tama√±o conveniente para el ensamblaje.  Hay 250 millones de elementos l√≥gicos y 6 mil millones de transistores que, aunque he estado trabajando en esto todo este tiempo, me sorprenden.  El chip se fabrica y prueba de acuerdo con el est√°ndar automotriz AEC Q100. <br><br>  Simplemente dar√≠a la vuelta al chip y explicar√≠a todas sus partes.  Ir√© en el mismo orden que el p√≠xel que viene de la c√°mara.  En la esquina superior izquierda puede ver la interfaz de la c√°mara.  Podemos tomar 2.500 millones de p√≠xeles por segundo, lo que es m√°s que suficiente para todos los sensores disponibles.  Una red que distribuye datos desde un sistema de memoria a controladores de memoria en los bordes derecho e izquierdo del chip.  Utilizamos LPDDR4 est√°ndar que funciona a una velocidad de 4266 gigabits por segundo.  Esto nos da un rendimiento m√°ximo de 68 gigabytes por segundo.  Este es un ancho de banda bastante bueno, pero no excesivo, estamos tratando de mantenernos en el punto medio.  El procesador de procesamiento de im√°genes tiene una tuber√≠a interna de 24 bits, lo que nos permite utilizar completamente los sensores HDR que se encuentran en el autom√≥vil.  Realiza un mapeo de tonos avanzado, que ayuda a resaltar mejor los detalles y las sombras, y tambi√©n realiza una reducci√≥n de ruido avanzada, que simplemente mejora la calidad general de las im√°genes que utilizamos en una red neuronal. <br><br><img src="https://habrastorage.org/webt/bv/tl/fb/bvtlfbnqm6y9qdogsqgzse9ap_4.png"><br><br>  El acelerador de la red neuronal en s√≠.  Hay dos en el chip.  Cada uno de ellos tiene 32 megabytes de SRAM para almacenar resultados temporales.  Esto minimiza la cantidad de datos que necesitamos transferir al chip y viceversa, lo que ayuda a reducir el consumo de energ√≠a.  Cada uno contiene una matriz de multiplicadores de 96x96 con acumulaci√≥n, lo que nos permite hacer casi 10,000 operaciones MUL / ADD por ciclo.  Hay un acelerador ReLU dedicado, un acelerador de agrupaci√≥n.  Cada uno de ellos proporciona 36 billones de operaciones por segundo que funcionan a una frecuencia de 2 GHz.  Dos aceleradores en un chip dan 72 trillones de operaciones por segundo, que es notablemente m√°s alto que el objetivo de 50 trillones. <br><br>  El codificador de video, el video que usamos en el autom√≥vil para muchas tareas, incluida la salida de im√°genes desde la c√°mara de visi√≥n trasera, la grabaci√≥n de video, as√≠ como para grabar datos en la nube, Stuart y Andrew hablar√°n sobre esto m√°s adelante.  Un procesador gr√°fico bastante modesto se encuentra en el chip.  Admite n√∫meros de coma flotante de 32 y 16 bits.  Tambi√©n 12 procesadores A72 de uso general de 64 bits.  Operan a una frecuencia de 2.2 GHz, que es aproximadamente 2.5 veces mayor que el rendimiento de la soluci√≥n anterior.  El sistema de seguridad contiene dos procesadores que funcionan en modo de bloqueo.  Este sistema toma la decisi√≥n final de si es seguro transmitir se√±ales de control a las unidades del veh√≠culo.  Aqu√≠ es donde los dos aviones se unen, y decidimos si es seguro avanzar.  Y, por √∫ltimo, un sistema de seguridad cuya tarea es garantizar que solo se use en este chip el software Tesla firmado criptogr√°ficamente. <br><br>  Les dije muchos indicadores de rendimiento diferentes, y creo que ser√≠a √∫til mirar hacia el futuro.  Consideraremos una red neuronal desde nuestra c√°mara (estrecha).  Se necesitan 35 mil millones de operaciones.  Si utilizamos las 12 CPU para procesar esta red, podemos hacer 1,5 cuadros por segundo, es muy lento.  Absolutamente no es suficiente para conducir un autom√≥vil.  Si us√°ramos GPU con 600 GFLOP para la misma red, obtendr√≠amos 17 cuadros por segundo, lo que a√∫n no es suficiente para conducir un autom√≥vil con 8 c√°maras.  Nuestro acelerador de red neuronal puede producir 2100 cuadros por segundo.  Puede ver que la cantidad de c√≥mputo en la CPU y la GPU es insignificante en comparaci√≥n con el acelerador de la red neuronal. <br><br>  Pasemos a hablar sobre un acelerador de red neuronal.  Solo beber√© un poco de agua.  A la izquierda aqu√≠ hay un dibujo de una red neuronal para darle una idea de lo que est√° sucediendo.  Los datos llegan a la parte superior y pasan a trav√©s de cada uno de los bloques.  Los datos se transmiten a lo largo de las flechas a varios bloques, que generalmente son convoluciones o convoluciones inversas con funciones de activaci√≥n (ReLU).  Los bloques verdes combinan capas.  Es importante que los datos recibidos por un bloque sean luego utilizados por el siguiente bloque, y ya no los necesite, puede tirarlos.  Por lo tanto, todos estos datos temporales se crean y destruyen al pasar por la red.  No es necesario almacenarlos fuera del chip en DRAM.  Por lo tanto, solo los almacenamos en SRAM, y en unos minutos explicar√© por qu√© esto es muy importante. <br><br><img src="https://habrastorage.org/webt/_u/yq/o0/_uyqo0ngomf_emvueuf3soglms0.png"><br><br>  Si observa el lado derecho, ver√° que en esta red de 35 mil millones de operaciones, casi todas son convoluciones, esencialmente productos escalares, el resto son deconvoluci√≥n (convoluciones inversas), tambi√©n basadas en el producto escalar, y luego ReLU y agrupaci√≥n son relativamente simples. operaciones  Por lo tanto, si est√° desarrollando un acelerador, se enfoca en implementar productos escalares basados ‚Äã‚Äãen la adici√≥n con acumulaci√≥n y optimizarlos.  Pero imagine que acelera esta operaci√≥n 10.000 veces y el 100% se convierte en 0.1%.  De repente, ReLU y las operaciones de agrupaci√≥n se vuelven muy significativas.  Por lo tanto, nuestra implementaci√≥n incluye aceleradores dedicados para el procesamiento y la agrupaci√≥n de ReLU. <br><br>  El chip opera en un presupuesto de calor limitado.  Necesit√°bamos tener mucho cuidado con la forma en que quemamos energ√≠a.  Queremos maximizar la cantidad de aritm√©tica que podemos hacer.  Por lo tanto, elegimos la suma de enteros de 32 bits, consume 9 veces menos energ√≠a que la suma de punto flotante.  Y elegimos la multiplicaci√≥n de enteros de 8 bits, que tambi√©n consume significativamente menos energ√≠a que otras operaciones de multiplicaci√≥n, y probablemente tiene suficiente precisi√≥n para obtener buenos resultados.  En cuanto a la memoria.  Acceder a la DRAM externa es aproximadamente cien veces m√°s costoso en t√©rminos de consumo de energ√≠a que usar la SRAM local.  Est√° claro que queremos aprovechar al m√°ximo la SRAM local. <br><br>  Desde el punto de vista de la administraci√≥n, aqu√≠ est√°n los datos publicados en un art√≠culo de Mark Horowitz, donde examin√≥ cr√≠ticamente cu√°nta energ√≠a se necesita para ejecutar una sola instrucci√≥n en un procesador entero normal.  Y ve que la operaci√≥n de adici√≥n consume solo el 0.15% de la potencia total.  Todo lo dem√°s est√° sobrecargado para la administraci√≥n y m√°s.  Por lo tanto, en nuestro dise√±o nos esforzamos por deshacernos de todo esto tanto como sea posible.  Lo que realmente nos interesa es la aritm√©tica. <br><br><img src="https://habrastorage.org/webt/oj/gm/ae/ojgmaegdd7ztkk58mziq_9tsq-8.png"><br><br>  As√≠ que aqu√≠ est√° el dise√±o que hemos terminado.  Puedes ver que en √©l el lugar principal est√° ocupado por 32 megabytes de SRAM, est√°n a la izquierda, a la derecha, en el centro y en la parte inferior.  Todos los c√°lculos se realizan en la parte central superior.  En cada ciclo, leemos 256 bytes de datos de activaci√≥n del conjunto SRAM, 128 bytes de pesos del conjunto SRAM y los combinamos en un conjunto 96x96, que realiza 9000 adiciones con acumulaci√≥n por ciclo a 2 GHz.  Esto es solo 36.8 billones.  operaciones  Ahora que hemos terminado con el producto escalar, cargamos los datos, los pasamos a trav√©s del ReLU dedicado, opcionalmente mediante extracci√≥n, y finalmente lo colocamos en el b√∫fer de escritura, donde se agregan todos los resultados.  Y luego escribimos 128 bytes por reloj de vuelta a SRAM.  Y todo esto sucede continuamente.  Trabajamos con productos escalares, mientras descargamos resultados anteriores, realizamos tiradas y escribimos los resultados en la memoria.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si lo apila todo a 2 GHz, necesitar√° 1 terabyte por segundo de ancho de banda SRAM para admitir la operaci√≥n. Y el hierro proporciona esto. Un terabyte por segundo de ancho de banda por acelerador, dos aceleradores por chip, dos terabytes por segundo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El acelerador tiene un conjunto relativamente peque√±o de comandos. Hay una operaci√≥n de lectura DMA para cargar datos desde la memoria, una operaci√≥n de escritura DMA para cargar los resultados de nuevo a la memoria. Tres instrucciones de convoluci√≥n (convoluci√≥n, deconvoluci√≥n, producto interno). Dos operaciones relativamente simples son la operaci√≥n shift y elementwise (eltwise). Y, por supuesto, la operaci√≥n de parada cuando finalizan los c√°lculos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tuvimos que desarrollar un compilador de redes neuronales. Tomamos una red neuronal capacitada por nuestro equipo de desarrollo, en la forma en que se usaba en el hardware antiguo. Cuando lo compila para usarlo en un nuevo acelerador, el compilador realiza la fusi√≥n de capas, lo que nos permite aumentar el n√∫mero de c√°lculos para cada llamada a SRAM. Tambi√©n realiza suavizado de accesos a memoria. Realizamos relleno de canales para reducir conflictos entre bancos de memoria. La asignaci√≥n de memoria tambi√©n tiene en cuenta los bancos SRAM. Este es el caso cuando el procesamiento de conflictos podr√≠a implementarse en hardware. Pero con la implementaci√≥n de software, ahorramos en hardware debido a cierta complejidad del software. Tambi√©n insertamos autom√°ticamente operaciones DMA para que los datos lleguen a tiempo para los c√°lculos, sin detener el procesamiento. Al final, generamos el c√≥digo,pondera los datos, comprime y agrega una suma de verificaci√≥n CRC para mayor confiabilidad. La red neuronal se carga en SRAM al inicio y est√° ah√≠ todo el tiempo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por lo tanto, para iniciar la red, debe especificar la direcci√≥n del b√∫fer de entrada, que contiene una nueva imagen que acaba de llegar de la c√°mara; establecer la direcci√≥n del b√∫fer de salida; establecer el puntero al peso de la red; vamos El acelerador "entra en s√≠ mismo" y pasar√° secuencialmente por toda la red neuronal, generalmente durante uno o dos millones de ciclos de reloj. Al finalizar, recibe una interrupci√≥n y puede procesar los resultados.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Volviendo a los resultados. Nuestro objetivo era alcanzar los 100 vatios. Las mediciones en autom√≥viles que conducen con una pila completa de piloto autom√°tico han demostrado que disipamos 72 vatios. Esto es ligeramente mayor que en el proyecto anterior, pero una mejora significativa en el rendimiento es una buena excusa. De estos 72 vatios, aproximadamente 15 vatios se consumen en redes neuronales. El costo de esta soluci√≥n es aproximadamente el 80% de lo que pagamos antes. En t√©rminos de rendimiento, tomamos la red neuronal (estrecha) de la c√°mara, que ya mencion√©, con 35 mil millones de operaciones, la lanzamos en equipos antiguos y recibimos 110 cuadros por segundo. Tomamos los mismos datos y la misma red, los compilamos para la nueva computadora FSD y, utilizando los cuatro aceleradores, podemos procesar 2300 cuadros por segundo. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creo que esta es quiz√°s </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diapositiva m√°s importante de </font><strong><font style="vertical-align: inherit;">Pete:</font></strong><font style="vertical-align: inherit;"> nunca he trabajado en un proyecto donde la mejora de la productividad hab√≠a terminado 3. Por lo tanto, fue bastante divertido. En comparaci√≥n con la soluci√≥n nvidia Drive Xavier, el chip proporciona 21 billones. operaciones, mientras que nuestro FSDC con dos chips - 144 billones. operaciones</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En conclusi√≥n, creo que hemos creado una soluci√≥n que ofrece un rendimiento sobresaliente de 144 billones. operaciones para procesar una red neuronal. Tiene excelentes caracter√≠sticas de potencia. Logramos exprimir toda esta productividad en el presupuesto de calefacci√≥n que ten√≠amos. Esto le permite implementar una soluci√≥n de duplicaci√≥n. La computadora tiene un costo moderado, y lo que es realmente importante, el FSDC proporcionar√° un nuevo nivel de seguridad y autonom√≠a en los autos Tesla, sin afectar su costo y millaje. Todos lo esperamos. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si tiene preguntas sobre el equipo, preg√∫nteles ahora mismo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La raz√≥n por la que le ped√≠ a Pete que hiciera un trabajo detallado, mucho m√°s detallado de lo que quiz√°s la mayor√≠a de las personas hubiera apreciado sumergirse en una computadora Tesla FSD es la siguiente. A primera vista, parece incre√≠ble c√≥mo podr√≠a suceder que Tesla, que nunca antes hab√≠a dise√±ado tales chips, creara el mejor chip del mundo. Pero esto es exactamente lo que sucedi√≥. Y no solo los mejores por un peque√±o margen, sino los mejores por un amplio margen. Todos los Tesla fabricados en este momento tienen esta computadora. Cambiamos de la soluci√≥n Nvidia para S y X hace aproximadamente un mes y cambiamos el Modelo 3 hace aproximadamente diez d√≠as. Todos los autom√≥viles producidos tienen todo el hardware necesario y todo lo necesario para una conducci√≥n totalmente aut√≥noma. Lo dir√© nuevamente: todos los autos Tesla producidos ahora,tiene todo lo que necesita para una conducci√≥n totalmente aut√≥noma. Todo lo que tienes que hacer es mejorar el software. M√°s tarde hoy, puede conducir autom√≥viles con una versi√≥n para desarrolladores de software de conducci√≥n aut√≥nomo mejorado. Lo ver√°s por ti mismo. Preguntas</font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬øtiene la capacidad de usar funciones de activaci√≥n que no sean ReLU? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√≠, tenemos un sigmoide, por ejemplo </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P: ¬ø</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> quiz√°s vali√≥ la pena cambiar a un proceso de </font><font style="vertical-align: inherit;">fabricaci√≥n </font><font style="vertical-align: inherit;">m√°s compacto, tal vez 10 nm o 7 nm? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el momento en que comenzamos a dise√±ar, no todas las IP que quer√≠amos estaban disponibles en 10 nm </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vale la pena se√±alar que completamos este dise√±o hace aproximadamente un a√±o y medio y comenzamos la pr√≥xima generaci√≥n. Hoy no estamos hablando de la pr√≥xima generaci√≥n, pero ya estamos a la mitad. Todo lo que es obvio para el chip de pr√≥xima generaci√≥n, lo hacemos. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P: La</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> computadora est√° dise√±ada para funcionar con c√°maras. ¬øPuedo usarlo con lidar? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lidar es una decisi√≥n desastrosa, y cualquiera que conf√≠e en Lidar est√° condenado. Condenados Caro Estimados sensores que no son necesarios. Es como tener un mont√≥n de costosas aplicaciones innecesarias. Una peque√±a no es nada, pero un mont√≥n ya es una pesadilla. Esto es est√∫pido, ya lo ver√°s. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬øPuede evaluar el impacto del consumo de energ√≠a en el kilometraje? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para el Modelo 3, el consumo objetivo es de 250 vatios por milla. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depende de la naturaleza de la conducci√≥n. En la ciudad, el efecto ser√° mucho mayor que en la carretera. Conduce en la ciudad durante una hora y tiene una soluci√≥n hipot√©tica que consume 1 kW. Perder√° 6 km en el Modelo 3. Si la velocidad promedio es de 25 km / h, perder√° un 25%. El consumo del sistema tiene un gran impacto en el kilometraje en una ciudad donde creemos que habr√° una gran parte del mercado de robotax, por lo que la potencia es extremadamente importante. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬øQu√© tan confiable es su tecnolog√≠a en t√©rminos de IP? ¬øNo va a dar IP gratis? </font></font><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hemos presentado una docena de patentes para esta tecnolog√≠a. Esto es esencialmente √°lgebra lineal, que no creo que pueda patentar. (Ilon se r√≠e) </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">su microcircuito puede hacer algo, tal vez encriptar todos los pesos para que su propiedad intelectual permanezca adentro, y nadie pueda robarlo. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Oh, me gustar√≠a conocer a alguien que pueda hacer esto. Lo contratar√≠a en un instante. Este es un problema muy dif√≠cil. Incluso si puede extraer los datos, necesitar√° una gran cantidad de recursos para usarlos de alguna manera.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La gran ventaja sostenible para nosotros es la flota. Nadie tiene una flota. Los pesos se actualizan y mejoran constantemente en funci√≥n de miles de millones de millas recorridas. Tesla tiene cien veces m√°s autos con el hardware necesario para el entrenamiento que todos los dem√°s combinados. Para fines de este trimestre, tendremos 500,000 veh√≠culos con 8 c√°maras y 12 sensores ultras√≥nicos. En un a√±o tendremos m√°s de un mill√≥n de autom√≥viles con FSDC. Esto es solo una gran ventaja de datos. Esto es similar a c√≥mo el motor de b√∫squeda de Google tiene una gran ventaja, porque las personas lo usan y realmente entrenan a Google con sus consultas. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anfitri√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una cosa para recordar acerca de nuestra computadora FSD es que puede funcionar con redes neuronales mucho m√°s complejas para un reconocimiento de imagen mucho m√°s preciso. Es hora de hablar sobre c√≥mo realmente obtenemos estas im√°genes y c√≥mo las analizamos. Aqu√≠ tenemos un director s√©nior de IA, Andrey Karpaty, quien le explicar√° todo esto. Andrei es doctor por la Universidad de Stanford, donde estudi√≥ ciencias de la computaci√≥n con √©nfasis en el reconocimiento y el aprendizaje profundo. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Andrey, por qu√© no empiezas, vamos. Muchos m√©dicos salieron de Stanford, no importa. Andrey est√° ense√±ando un curso de visi√≥n por computadora en Stanford, que es mucho m√°s importante. Cu√©ntanos sobre ti.</font></font><br><br><hr><br> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(La traducci√≥n result√≥ no ser una cuesti√≥n r√°pida, no s√© si tengo suficiente para la segunda parte sobre el sistema de entrenamiento de la red neuronal, aunque me parece el m√°s interesante).</font></font></em> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/450500/">https://habr.com/ru/post/450500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../450488/index.html">Aplicaci√≥n para Android Chock Norris Facts en Kotlin</a></li>
<li><a href="../450490/index.html">Acuerdo de $ 6.9 mil millones: ¬øpor qu√© un desarrollador de GPU compra un fabricante de equipos de red?</a></li>
<li><a href="../450492/index.html">Trabajo social y dise√±o abierto. Introduccion</a></li>
<li><a href="../450494/index.html">¬øC√≥mo depende la traducci√≥n del t√©rmino troncal del proveedor del conmutador?</a></li>
<li><a href="../450498/index.html">¬øC√≥mo exprimir el tiempo?</a></li>
<li><a href="../450504/index.html">C√≥mo hacer una aplicaci√≥n desde el sitio y ponerla en Google Play en unas pocas horas. Parte 1/2: Aplicaci√≥n web progresiva</a></li>
<li><a href="../450506/index.html">C√≥mo hacer una aplicaci√≥n desde el sitio y ponerla en Google Play en unas pocas horas. Parte 2/2: Actividad web confiable</a></li>
<li><a href="../450508/index.html">Joe Armstrong sobre Elixir, Erlang, FP y OOP</a></li>
<li><a href="../450510/index.html">Cinco problemas en los procesos de operaci√≥n y soporte de los sistemas Highload IT</a></li>
<li><a href="../450514/index.html">CVT vs estado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>