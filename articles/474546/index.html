<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÜüèº üë©üèª‚Äçüåæ üë®üèª‚Äçüé§ Se traslad√≥ de Terraform a CloudFormation, y se arrepinti√≥ ‚öìÔ∏è üò∞ üëèüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Presentar la infraestructura como c√≥digo en formato de texto repetible es una pr√°ctica recomendada simple para sistemas con los que no necesita llevar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Se traslad√≥ de Terraform a CloudFormation, y se arrepinti√≥</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/474546/"><p>  Presentar la infraestructura como c√≥digo en formato de texto repetible es una pr√°ctica recomendada simple para sistemas con los que no necesita llevar.  Esta pr√°ctica tiene un nombre: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Infraestructura como c√≥digo</a> , y hasta ahora hay dos herramientas populares para su implementaci√≥n, especialmente en AWS: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Terraform</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CloudFormation</a> . </p><br><p><img src="https://habrastorage.org/webt/ff/f_/rw/fff_rw-n0dk_n_l6qxrxkp_-h9i.png"><br>  <em>Compare la experiencia con Terraform y CloudFormation</em> </p><br><p>  Antes de unirme a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Twitch</a> (tambi√©n conocido como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Amazon Jr.</a> ), trabaj√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en una startup</a> y us√© Terraform durante tres a√±os.  En un nuevo lugar, tambi√©n utilic√© Terraform con might and main, y luego la compa√±√≠a impuls√≥ la transici√≥n a todo a la Amazon√≠a, incluida CloudFormation.  Trabaj√© duro para desarrollar las mejores pr√°cticas para ambos, y utilic√© ambas herramientas en flujos de trabajo muy complejos en toda la organizaci√≥n.  M√°s tarde, despu√©s de considerar cuidadosamente las consecuencias de cambiar de Terraform a CloudFormation, me convenc√≠ de que Terraform era probablemente la mejor opci√≥n para la organizaci√≥n. </p><a name="habracut"></a><br><h2 id="terraform-uzhasnyy">  Terraform Horrible </h2><br><h3 id="beta-versiya-po">  Software Beta </h3><br><p> Terraform ni siquiera ha lanzado la versi√≥n 1.0, y esta es una buena raz√≥n para no usarla.  Desde que lo prob√© por primera vez, ha cambiado mucho, pero luego la <code>terraform apply</code> menudo se rompi√≥ despu√©s de varias actualizaciones o solo despu√©s de un par de a√±os de operaci√≥n.  Yo dir√≠a que "ahora todo es diferente", pero ... ¬øentonces todos parecen decir que no?  Hay cambios que son incompatibles con versiones anteriores, aunque son apropiados, e incluso la sensaci√≥n es que la sintaxis y las abstracciones de almacenamiento de recursos son ahora lo que necesita.  La herramienta parec√≠a ser mejor, pero ...: -0 </p><br><p>  AWS, por otro lado, hizo un buen trabajo al mantener la compatibilidad con versiones anteriores.  Todo, probablemente, porque sus servicios a menudo est√°n bien probados dentro de la organizaci√≥n y solo entonces, renombrados, publicados.  As√≠ que "se esforz√≥ mucho" todav√≠a se dice d√©bilmente.  Mantener la compatibilidad con versiones anteriores de la API para un sistema tan complejo y multivariante como AWS es incre√≠blemente dif√≠cil.  Cualquiera que haya tenido que soportar API disponibles p√∫blicamente que se usan con la misma amplitud deber√≠a comprender lo dif√≠cil que ha sido durante tantos a√±os.  Pero el comportamiento de CloudFormation en mi memoria nunca ha cambiado con los a√±os. </p><br><h3 id="znakomsya-noga-eto-pulya">  Conoce la pierna ... es una bala </h3><br><p>  Hasta donde s√©, no es posible eliminar un recurso de pila de CloudFormation de terceros de mi pila de CF.  La situaci√≥n es similar con Terraform.  Le permite importar recursos existentes en su pila.  La funci√≥n, se podr√≠a decir, es impresionante, pero con un gran poder conlleva una gran responsabilidad.  Uno solo tiene que poner el recurso en la pila, y mientras trabaja con su pila, no puede eliminar o cambiar este recurso.  Una vez que se dio la vuelta.  De alguna manera, en un sitio de Twitch, alguien, sin planear nada malo, import√≥ accidentalmente un grupo de seguridad de AWS en su propia pila Terraform.  Ingres√© varios comandos y ... el grupo de seguridad (junto con el tr√°fico entrante) desapareci√≥. </p><br><h2 id="terraform-velikiy">  Terraform Great </h2><br><h3 id="vosstanovlenie-iz-nepolnyh-sostoyaniy">  Recuperaci√≥n parcial </h3><br><p>  A veces, CloudFormation no puede pasar completamente de un estado a otro.  Al mismo tiempo, intentar√° volver a la anterior.  Lo sentimos, esto no siempre es factible.  Luego, depurar lo que sucedi√≥ es aterrador: nunca se sabe si CloudFormation estar√° encantado de que est√© roto, incluso para su reparaci√≥n.  Pero, si tiene √©xito o no regresa al estado anterior, realmente no sabe c√≥mo determinarlo y, por defecto, se cuelga durante horas esperando un milagro. </p><br><p>  Terraform, por el contrario, tiende a recuperarse de las transiciones fallidas de manera mucho m√°s elegante y ofrece herramientas avanzadas de depuraci√≥n. </p><br><h3 id="bolee-yasnye-izmeneniya-v-sostoyaniya-dokumenta">  Cambios m√°s claros en el estado del documento. </h3><br><blockquote>  "Est√° bien, equilibrador de carga, est√°s cambiando. ¬øPero c√≥mo?" <br><br>  ‚ÄîUn ingeniero preocupado listo para presionar el bot√≥n aceptar. </blockquote><p>  A veces necesito hacer algunas manipulaciones con el equilibrador de carga en la pila de CloudFormation, por ejemplo, agregar un n√∫mero de puerto o cambiar un grupo de seguridad.  Los cambios de CloudFormation se muestran d√©bilmente.  Yo, como en las agujas, verifico dos veces el archivo yaml diez veces para asegurarme de que no borr√© todo lo que necesitaba y no agregu√© demasiado. </p><br><p>  Terraform es mucho m√°s transparente a este respecto.  A veces es incluso demasiado transparente (l√©ase: lo consigue).  Afortunadamente, la √∫ltima versi√≥n incluye una visualizaci√≥n mejorada de los cambios: ahora puede ver claramente lo que est√° cambiando. </p><br><h3 id="gibkost">  Flexibilidad </h3><br><blockquote>  Escribir software desde el opuesto. </blockquote><p>  Para decirlo sin rodeos, la caracter√≠stica distintiva m√°s importante del software de larga duraci√≥n es su capacidad de adaptarse al cambio.  Escribe cualquier software desde el lado opuesto.  A menudo me percat√© de que tom√© un servicio "simple", y luego comenc√© a insertar todo en una sola pila de CloudFormation o Terraform.  Y, por supuesto, meses despu√©s se revel√≥ que entend√≠ todo mal, ¬°y el servicio en realidad no es simple!  Y, por lo tanto, necesito dividir de alguna manera una pila grande en componentes peque√±os.  Cuando trabaja con CloudFormation, es posible hacer esto solo recreando primero la pila existente, pero no lo hago con mis bases de datos.  Terraform, por otro lado, hizo posible diseccionar la pila y dividirla en partes m√°s peque√±as m√°s comprensibles. </p><br><h3 id="moduli-v-git">  M√≥dulos en git </h3><br><p>  Compartir el c√≥digo de Terraform en varias pilas es mucho m√°s f√°cil que compartir el c√≥digo de CloudFormation.  Con Terraform, puede poner c√≥digo en un repositorio git y acceder a √©l mediante el control de versi√≥n sem√°ntico.  Cualquier persona con acceso a este repositorio puede reutilizar el c√≥digo compartido.  El equivalente de CloudFormation es S3, pero no tiene las mismas ventajas, y no hay una sola raz√≥n por la que debamos abandonar completamente git a favor de S3. </p><br><p>  La organizaci√≥n creci√≥ y la capacidad de compartir pilas compartidas alcanz√≥ un nivel cr√≠tico.  Con Terraform, todo esto es f√°cil y natural, mientras que CloudFormation te har√° saltar a trav√©s de los anillos antes de obtener algo similar. </p><br><h3 id="operations-as-code">  Operaciones como c√≥digo </h3><br><blockquote>  "Vamos a escribir y est√° bien". <br><br>  ‚ÄîUn ingeniero 3 a√±os antes de inventar la bicicleta Terraform. </blockquote><p>  Cuando se trata de desarrollo de software, Go o un programa Java no es solo c√≥digo. </p><br><p><img src="https://habrastorage.org/webt/qr/pf/ec/qrpfecwuy-rwjaj48w68nzl0asq.png"><br>  <em>C√≥digo como C√≥digo</em> </p><br><p>  Despu√©s de todo, todav√≠a existe la infraestructura en la que funciona. </p><br><p><img src="https://habrastorage.org/webt/nm/m8/9e/nmm89e9lu99otghnv73ta7bdqh8.png"><br>  <em>Infraestructura como c√≥digo</em> </p><br><p>  ¬øPero de d√≥nde es ella?  ¬øC√≥mo monitorearlo?  ¬øD√≥nde reside tu c√≥digo?  ¬øLos desarrolladores necesitan permiso para acceder? </p><br><p><img src="https://habrastorage.org/webt/hz/es/qs/hzesqsiuved-xhcccghgjoraxsi.png"><br>  <em>Operaciones como c√≥digo</em> </p><br><blockquote>  Ser un desarrollador de software no se trata solo de escribir c√≥digo. </blockquote><p>  No AWS One: debe estar utilizando otros proveedores.  SignalFx, PagerDuty o Github.  Quiz√°s tenga un servidor Jenkins interno para CI / CD o un panel de control interno de Grafana para el monitoreo.  Infra as Code se elige por varias razones, y cualquiera es igualmente importante para todo lo relacionado con el software. </p><br><p>  Cuando trabajaba en Twitch, aceleramos los servicios dentro de los sistemas integrados mixtos de Amazon y los sistemas AWS.  Estampamos y respaldamos muchos microservicios, aumentando los costos operativos.  Las discusiones se llevaron a cabo aproximadamente en la siguiente l√≠nea: </p><br><ul><li>  <strong>Yo</strong> : Maldici√≥n, muchos gestos para dispersar un microservicio.  Tendr√© que usar esta basura para crear una cuenta de AWS (fuimos a 2 cuentas para <strong>microservicio</strong> ), luego esta para configurar notificaciones, esta para el repositorio de c√≥digo y esta para la lista de direcciones de correo electr√≥nico, y esta ... . </li><li>  <strong>Plomo</strong> : Vamos a <strong>guiar</strong> y est√° bien. </li><li>  <strong>Yo</strong> : Se inquieta, pero el script en s√≠ cambiar√°.  Necesitar√° una forma de verificar que todos estos artilugios de Amazon incorporados est√©n actualizados. </li><li>  <strong>Plomo</strong> : Suena bien.  Y para esto escribiremos un gui√≥n. </li><li>  <strong>Yo</strong> : genial!  Y el script probablemente todav√≠a necesite establecer los par√°metros.  ¬øLos aceptar√°? </li><li>  <strong>Plomo</strong> : S√≠, lo har√°, ¬øa d√≥nde ir√°? </li><li>  <strong>Yo</strong> : El proceso puede cambiar, se perder√° la compatibilidad con versiones anteriores.  Tomar√° un control sem√°ntico de la versi√≥n. </li><li>  <strong>Plomo</strong> : ¬°Gran idea! </li><li>  <strong>Yo</strong> : las herramientas se pueden cambiar manualmente, dentro de la interfaz de usuario.  Necesitamos una forma de verificar y solucionar esto. </li></ul><br><p>  <em>... 3 a√±os despu√©s:</em> </p><br><ul><li>  <strong>Plomo</strong> : Y tenemos terraform. </li></ul><br><p>  La moraleja de la f√°bula es la siguiente: incluso si <strong>est√° loco por todo Amazon</strong> , todav√≠a usa algo que no es de AWS, y estos servicios tienen un estado que el lenguaje usa para la configuraci√≥n para sincronizar este estado. </p><br><h3 id="cloudformation-lambda-vs-git-moduli-terraform">  CloudFormation lambda vs m√≥dulos git terraform </h3><br><p>  lambda es la soluci√≥n de CloudFormation para problemas de l√≥gica personalizada.  Con lambda, puede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">crear macros</a> o un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">recurso personalizado</a> .  Este enfoque presenta dificultades adicionales que Terraform no tiene en el control de la versi√≥n sem√°ntica de los m√≥dulos git.  Para m√≠, el problema m√°s apremiante fue la administraci√≥n de permisos para todos estos lambda personalizados (que son docenas de cuentas de AWS).  Otro en importancia era un problema como "¬øqu√© sucedi√≥ antes: una gallina o un huevo?": Estaba asociado con el c√≥digo lambda.  Esta funci√≥n en s√≠ misma es infraestructura y c√≥digo, y en s√≠ misma necesita monitoreo y actualizaciones.  Lo √∫ltimo destacado en el ata√∫d fue la dificultad de actualizar sem√°nticamente los cambios en el c√≥digo lambda;  Tambi√©n era necesario asegurarse de que las acciones de la pila sin un comando directo no cambien entre los inicios. </p><br><p>  Recuerdo que de alguna manera quer√≠a crear una implementaci√≥n canaria para el entorno Elastic Beanstalk con un equilibrador de carga cl√°sico.  La forma m√°s f√°cil ser√≠a hacer una segunda implementaci√≥n para EB junto al entorno de producci√≥n, dando otro paso: combinando el grupo de implementaci√≥n canario escalable autom√°ticamente con el LB de implementaci√≥n en el entorno de producci√≥n.  Y dado que Terraform usa el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">beantalk ASG como salida</a> , requerir√° 4 l√≠neas de c√≥digo adicionales en Terraform.  Cuando pregunt√© si hab√≠a una soluci√≥n comparable en CloudFormation, me se√±alaron a un repositorio completo en git con una tuber√≠a de implementaci√≥n y m√°s: todo por el bien de lo que pod√≠an hacer las desafortunadas 4 l√≠neas de c√≥digo Terraform. </p><br><h3 id="on-luchshe-obnaruzhivaet-dreyf">  √âl detecta mejor la deriva </h3><br><blockquote>  Aseg√∫rese de que la realidad cumpla con las expectativas. </blockquote><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La detecci√≥n de deriva</a> es una operaci√≥n muy poderosa como c√≥digo, porque ayuda a garantizar que la realidad cumpla con las expectativas.  Est√° disponible con CloudFormation y Terraform.  Pero a medida que la pila de trabajo creci√≥, la b√∫squeda de deriva de CloudFormation arroj√≥ m√°s y m√°s falsos positivos. </p><br><p>  Con Terraform, tiene ganchos de ciclo de vida mucho m√°s avanzados para la detecci√≥n de deriva.  Por ejemplo, ingrese el comando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ignore_changes</a> directamente en la definici√≥n de una tarea ECS si desea ignorar los cambios en la definici√≥n de una tarea espec√≠fica sin ignorar los cambios en toda la implementaci√≥n de ECS. </p><br><h2 id="cdk-i-buduschee-cloudformation">  CDK y el futuro de CloudFormation </h2><br><p>  CloudFormation es dif√≠cil de administrar en una escala grande de infraestructura cruzada.  Se reconocen muchas de estas dificultades, y la herramienta necesita cosas como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aws-cdk</a> , un marco para definir una infraestructura de nube en c√≥digo y pasarla a trav√©s de AWS CloudFormation.  Tendr√° curiosidad por ver qu√© tendr√° aws-cdk en el futuro, pero le ser√° dif√≠cil competir con los otros beneficios de Terraform;  para ajustar CloudFormation, se requerir√°n cambios globales. </p><br><h3 id="chtoby-terraform-ne-razocharoval">  Entonces Terraform no decepciona </h3><br><blockquote>  Esto es "infraestructura como C√ìDIGO", no "como texto". </blockquote><p>  Mi primera impresi√≥n de Terraform fue bastante mala.  Creo que simplemente no entend√≠ el enfoque.  Casi todos los ingenieros al principio lo perciben involuntariamente como un formato de texto que debe convertirse en la infraestructura deseada.  No lo hagas. </p><br><h3 id="propisnye-istiny-horoshey-razrabotki-po-otnosyatsya-i-k-terraform">  Las verdades comunes del buen desarrollo de software se aplican a Terraform </h3><br><p>  He visto cu√°ntas pr√°cticas adoptadas para crear un buen c√≥digo se ignoran en Terraform.  Estudiaste durante a√±os para convertirte en un buen programador.  No renuncies a esta experiencia simplemente porque trabajas con Terraform.  Las verdades comunes del buen desarrollo de software tambi√©n se aplican a Terraform. </p><br><h3 id="kak-uzh-kod-i-ne-zadokumentirovat">  ¬øC√≥mo no se puede documentar el c√≥digo? </h3><br><p>  Encontr√© enormes montones de Terraform sin ninguna documentaci√≥n.  ¬øC√≥mo puedo escribir c√≥digo en p√°ginas, completamente sin documentaci√≥n?  Agregue documentaci√≥n que explique su <strong>c√≥digo</strong> Terraform (el √©nfasis aqu√≠ en la palabra "c√≥digo"), por qu√© esta secci√≥n es tan importante y qu√© hace. </p><br><h3 id="kak-mozhno-razvorachivat-servisy-kotorye-nekogda-byli-odnoy-bolshoy-funkciey-main">  ¬øC√≥mo puede implementar servicios que alguna vez fueron una gran funci√≥n main ()? </h3><br><p>  Conoc√≠ pilas de Terraform muy complejas, presentadas como un solo m√≥dulo.  ¬øPor qu√© no implementamos software como este?  ¬øPor qu√© dividir las funciones grandes en otras m√°s peque√±as?  Las mismas respuestas se aplican a Terraform.  Si su m√≥dulo es demasiado grande, debe dividirlo en m√≥dulos m√°s peque√±os. </p><br><h3 id="razve-vasha-kompaniya-ne-polzuetsya-bibliotekami">  ¬øSu empresa no utiliza bibliotecas? </h3><br><p>  Vi c√≥mo los ingenieros, haciendo girar un nuevo proyecto usando Terraform, copian y pegan est√∫pidamente grandes piezas de otros proyectos en su propio proyecto, y luego los recogen hasta que comienza a funcionar.  Entonces, ¬øtrabajar√≠as en tu empresa con el c√≥digo de "combate"?  No solo usamos bibliotecas.  S√≠, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">no todo deber√≠a ser una biblioteca,</a> pero ¬ød√≥nde estamos sin bibliotecas compartidas en principio? </p><br><h3 id="razve-vy-ne-polzuetes-pep8-ili-gofmt">  ¬øNo usas PEP8 o gofmt? </h3><br><p>  La mayor√≠a de los idiomas tienen un esquema de formato est√°ndar aceptado.  En Python, esto es PEP8.  En Go - gofmt.  Terraform tiene su propio: <code>terraform fmt</code> .  Uso para la salud! </p><br><h3 id="vy-stanete-polzovatsya-react-ne-znaya-javascript">  ¬øUsar√°s React sin saber JavaScript? </h3><br><p>  Los m√≥dulos Terraform pueden simplificar parte de la compleja infraestructura que est√° creando, pero esto no significa que pueda omitirla.  ¬øDesea usar Terraform correctamente sin comprender los recursos?  Est√°s condenado: el tiempo se ir√°, pero no dominar√°s Terraform. </p><br><h3 id="vy-kodite-singltonami-ili-vnedryaya-zavisimosti">  ¬øCodifica singletones o introduce dependencias? </h3><br><p>  La inyecci√≥n de dependencia es la mejor pr√°ctica reconocida para el desarrollo de software, que es preferida por singletones.  ¬øC√≥mo es esto √∫til en Terraform?  Conoc√≠ m√≥dulos de Terraform dependiendo de un estado remoto.  En lugar de escribir m√≥dulos que se extraen de un estado remoto, escriba un m√≥dulo que acepte par√°metros.  Y luego pasar estos par√°metros al m√≥dulo. </p><br><h3 id="vashi-biblioteki-delayut-desyat-veschey-horosho-ili-odnu---otlichno">  ¬øSus bibliotecas hacen bien diez cosas o una excelente? </h3><br><p>  Las bibliotecas que se centran en una sola tarea que funcionan bien funcionan mejor.  En lugar de escribir grandes m√≥dulos de Terraform que intenten hacer todo de una vez, haga partes de ellos que hagan una cosa bien.  Y luego comb√≠nalos como quieras. </p><br><h3 id="kak-vy-proizvodite-izmeneniya-v-bibliotekah-bez-obratnoy-sovmestimosti">  ¬øC√≥mo se realizan cambios en las bibliotecas sin compatibilidad con versiones anteriores? </h3><br><p>  El m√≥dulo general de Terraform, como una biblioteca normal, debe informar de alguna manera a los usuarios sobre los cambios sin compatibilidad con versiones anteriores.  Cuando tales cambios ocurren en las bibliotecas, es molesto, e igual de molesto cuando se realizan cambios sin compatibilidad con versiones anteriores en los m√≥dulos de Terraform.  Se recomienda usar etiquetas git y semver cuando se usan m√≥dulos Terraform. </p><br><h3 id="proizvodstvennyy-servis-zapuschen-u-vas-na-noutbuke-ili-v-datacentre">  ¬øSe inicia el servicio de producci√≥n en su computadora port√°til o en un centro de datos? </h3><br><p>  Hashicorp tiene herramientas como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">terraform cloud</a> para lanzar tu terraform.  Estos servicios centralizados facilitan la gesti√≥n, auditor√≠a y aprobaci√≥n de los cambios de terraforma. </p><br><h3 id="razve-vy-ne-pishete-testy">  ¬øNo escribes pruebas? </h3><br><p>  Los ingenieros admiten que el c√≥digo necesita ser probado, pero ellos mismos a menudo critican cuando trabajan con Terraform.  Para la infraestructura, esto est√° lleno de momentos insidiosos.  Le aconsejo que "pruebe" o "cree ejemplos" de pilas utilizando m√≥dulos que pueden implementarse adecuadamente para la verificaci√≥n durante CI / CD. </p><br><h3 id="terraform-i-mikroservisy">  Terraform y microservicios </h3><br><blockquote>  La vida y muerte de las empresas de microservicios depende de la velocidad, la actualizaci√≥n y la destrucci√≥n de nuevas pilas de trabajo de microservicios. </blockquote><p>  El punto negativo m√°s com√∫n relacionado con las arquitecturas de microservicios y que no se puede eliminar de ninguna manera est√° relacionado con el trabajo, y no con el c√≥digo.  Si toma Terraform, solo como una forma de automatizar solo el lado de la infraestructura de la arquitectura de microservicios, entonces se est√° privando de las verdaderas ventajas de este sistema.  Ahora <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">todo es como el c√≥digo</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/474546/">https://habr.com/ru/post/474546/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../474528/index.html">El libro "Computaci√≥n cu√°ntica para verdaderos profesionales de TI"</a></li>
<li><a href="../474532/index.html">Nizhny Novgorod radio laboratorio y radios con detectores de cristal</a></li>
<li><a href="../474534/index.html">Libro de Alan Turing y Mysterious Note - Science Detective</a></li>
<li><a href="../474536/index.html">La historia de un peque√±o proyecto de doce a√±os de duraci√≥n (sobre BIRMA.NET por primera vez y sinceramente de primera mano)</a></li>
<li><a href="../474544/index.html">Revisi√≥n de GeForce NOW en Rusia: Pros, contras y perspectivas</a></li>
<li><a href="../474548/index.html">Google BERT es un nuevo algoritmo de b√∫squeda. ¬øC√≥mo cambiar√° la clasificaci√≥n y qu√© hacer ahora?</a></li>
<li><a href="../474550/index.html">¬øC√≥mo devolver el indicador TLS verde en el nuevo Firefox 70?</a></li>
<li><a href="../474554/index.html">Intel Tremont - Nueva microarquitectura para la eficiencia energ√©tica</a></li>
<li><a href="../474556/index.html">C√≥mo hacer que PCRE2 sea compatible con Apache 2.4</a></li>
<li><a href="../474558/index.html">Programaci√≥n Orientada a Protocolo, Parte 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>