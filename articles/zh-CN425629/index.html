<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙅🏼 👲🏽 🤱🏿 我们如何通过遥控器制作棋盘游戏 👮 👨🏾‍🤝‍👨🏽 🌦️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="棋盘游戏是最古老的娱乐活动之一，它聚集了朋友，家人以及游戏中实时交流和情感爱好者。 

 今天，我想向您介绍我和我的朋友如何决定创建自己的棋盘游戏，但不是简单，而是“智能”的 。 



 第二部分可以在这里找到： 链接 

 注意！ 上有很多照片。 

 我们的游戏是MoBA棋盘游戏，每个玩家可以...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>我们如何通过遥控器制作棋盘游戏</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425629/">  <b>棋盘游戏</b>是最古老的娱乐活动之一，它聚集了朋友，家人以及游戏中实时交流和情感爱好者。 <br><br> 今天，我想向您介绍我和我的朋友如何决定创建自己的棋盘游戏，但不是简单，而是<b>“智能”的</b> 。 <br><br><img src="https://habrastorage.org/webt/hi/un/uj/hiunujcvlkae3fuwpevgcryeyac.jpeg" alt="图片"><br><br> 第二部分可以在这里找到： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">链接</a> <br><br>  <b><font color="#cc0000">注意！</font></b> 上有很多照片。 <br><br><a name="habracut"></a> 我们的游戏是<abbr title="多人在线战斗竞技场">MoBA</abbr>棋盘游戏，每个玩家可以控制自己的独特英雄，并拥有自己的特点和能力。 目前，我们拥有由Arduino和胶合板制成的原型的第一版。 <br><br> 我们游戏的主要特点是在游戏过程中无需触摸人物，游戏本身必须移动它们并显示所有应用的能力。 玩家只能通过手机观看和控制英雄。 <br><br><div class="spoiler">  <b class="spoiler_title">几个游戏的gif图像</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/2i/db/cf/2idbcfejndeup1axezazvaydgru.gif" alt="gif"><br><br><img src="https://habrastorage.org/webt/im/ty/cg/imtycg9_rhxv4qmycwgdudlbz2c.gif" alt="gif"><br><br><img src="https://habrastorage.org/webt/pa/tk/yb/patkybq5wrm2jsj2a5nqen9gdqq.gif" alt="gif"><br><br><img src="https://habrastorage.org/webt/mz/q6/lt/mzq6ltrawq3xrjgojs8w3yndpau.gif" alt="gif"><br></div></div><br><h3> 智能游戏应该能够做什么： </h3><br><ul><li> 自己在球场上移动人物。 </li><li> 用任何颜色突出显示比赛场地（整个区域或单独的区域）。 </li><li> 向玩家展示他可以/不能/应该做什么，从而使游戏规则透明化。 </li><li> 与每个播放器的智能手机交换数据。 </li></ul><br> 这是我们第一个可行的版本： <br><br><img src="https://habrastorage.org/webt/z8/9c/fw/z89cfwt73jven3ng835kbkzyd4g.jpeg" alt="图片"><br><br><h3> 这个主意是如何产生的 </h3><br> 我以某种方式为自己购买了Arkham Horror台式机。 逛完商店后，我立即去朋友那里玩。 但是，不幸的是，我们之前没有人玩过它，因此我们无法掌握26页的规则。 <br><br> 正是这一点使我认为，制作一个能够独立监控规则执行情况，计算必要值（无需立方体，标尺和书面纸）的棋盘游戏非常好。 <br><br> 我的一位朋友非常喜欢这个主意，他同意参加。 <br><br><h3> 实作 </h3><br> 我们没有开发硬件设备的经验（甚至没有人将Arduino掌握在手中），并且编程经验仅限于大学和Android小型应用程序的开发。 但是，这只会增加兴趣和欲望。 <br><br> 在讨论了所有细节之后，我们得出以下结论： <br><br><ul><li>  CoreXY的托架上有一个12V的螺线管，可将图形移动到整个视野。 </li><li> 运动由两个Nema 17 17HS4401步进电机和DRV8825驱动器负责。 </li><li> 像素地址为WS2812b的LED灯带用于突出显示该字段。 </li><li> 安装有我们开发的屏蔽的Arduino Mega 2560负责管理。 </li><li> 为了在游戏和玩家的智能手机之间传输数据，需要负责4个HM10 BLE模块。 </li><li> 所有这些均由12V电源，120W​​电源和5V DC-DC转换器供电。 </li><li> 智能手机的侧面是一个移动应用程序（当前在Android下），这实际上是整个游戏的核心。 从<abbr title="低功耗蓝牙">BLE</abbr>上可以找到运动，磁铁和LED <abbr title="低功耗蓝牙">亮</abbr> /灭的命令。 </li></ul><br><h3> 机械师 </h3><br> 我们没有立即来到CoreXY。 从一开始，在实现运动学时，我们就受到各种组装3D打印机的DIY指南的启发。 <br><br> 下面是我们第一次尝试的照片： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xu/wh/ei/xuwhei7l1e6kvp950-foq3zdqyk.png" alt="图片"></div><br> 为了创建组件，我们购买了一台便宜的二手3D打印机，上面已经打印了6200米的塑料，并且到目前为止，它一直运行良好。 <br><br> 但是，此选项有很多缺点： <br><br><ul><li> 组装很痛苦-轴的位置有一点点误差-马车停止了行驶。 </li><li> 至少一个轴承不好-滑架停止了行驶。 </li><li> 整个结构的高度过高。 </li><li> 我们不喜欢发动机应该位于运动部件上的想法。 </li></ul><br> 有一次，我们偶然发现了一篇描述CoreXY运动学的文章，并决定选择它。 她有两个优点： <br><br><ul><li> 组装很简单，因为 所有“自定义”零件都在CNC或3D打印机上创建。 </li><li> 低的结构高度，这受到步进电机高度的限制。 </li><li> 步进电机是静止的。 </li></ul><br> 所以缺点： <br><br><ul><li> 大尺寸。 带有3D模型的图片显示，总面积比工作表面的面积大得多。 </li><li> 您必须设法拉长的皮带。 </li><li> 一种具体的移动支架的方式，我将在下面讨论。 </li></ul><br> 为了最大程度地避免所有问题，我们在Tinkercad中创建了模型，然后开始订购和打印组件。 <br><br><img src="https://habrastorage.org/webt/b5/wy/op/b5wyopk0cg1zu7d-cfaosmh_04a.png" alt="图片"><br><br> 该游戏当前具有以下物理参数： <br>  <b>宽度：</b> 780毫米<b>长度：</b> 700毫米<b>高度：</b> 85毫米 <br>  <b>运动场：</b>边长462毫米<b>的</b>正方形。 <br>  <b>基础：</b> 12毫米厚的胶合板，在CNC上开有用于安装零件和发动机的孔。 <br><br><img src="https://habrastorage.org/webt/-f/qe/kc/-fqekc2uul8svmuhp_oy8ys0qoy.png" alt="图片"><br><br> 当模型准备就绪时，它看起来像是微型且轻巧的。但是，在现实生活中，它又很大又笨重。 现在我们了解到整个结构需要优化： <br><br><ul><li> 用更轻更薄的材料代替胶合板。 </li><li> 外轮廓的长度和宽度不应大大超过运动场的大小（您可能必须更改运动学）。 </li></ul><br> 下面，我将描述在组装过程中遇到的功能： <br><br><ul><li> 为了确保内部轮廓和滑架的运动平稳且没有多余的声音，重要的是，皮带必须与轴平行。 还建议对轴进行润滑。 我们用普通的缝纫机油。 </li><li> 最初，我们使用廖叔叔的LM8UU作为线性轴承，但是我们经常遇到有缺陷的试样，这些试样被松动，立即破碎并刮伤了轴。 因此，他们决定将它们换成石墨衬套。 </li><li> 使用CoreXY运动学的运动中有一些功能。 因此，如果仅启动1台步进电机，则滑架将沿对角线行驶。 对于水平运动，必须以相同的方向启动发动机。 对于垂直-方向相反。 </li></ul><br> 要计算沿X和Y的距离，必须使用以下公式： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yc/ke/dy/yckedyvid4iakldgt-qiynerppe.png" alt="图片"></div><br><h3> 比赛场地 </h3><br> 为了突出比赛环境，我们选择了像素地址为WS2812b的LED灯条，非常适合我们的目的。 <br><br>  WS2812b是采用SMD5050封装的RGB LED，具有4个引脚：VDD，VSS，DIN和DOUT。 <br><br> 该领域有哪些要求： <br><br><ul><li> 较小的厚度，因此电磁体可以将图形随同拖动。 </li><li> 光滑的表面可以毫无问题地进行滑动。 </li></ul><br> 结果，运动场有条件地由3部分组成：LED条连接到的基板，胶带本身以及图形在其上滑动的表面涂层。 <br><br> 我们面临的主要问题是如何制成基材？ <br> 目前，我们正在使用有机玻璃，其中胶带下的凹槽在CNC上以2毫米的深度（胶带和LED的高度）切出。 自然地，该片完全丧失了至少一些刚性并且沿着切割线大大弯曲。 因此，我们只是将基材粘在表面上。 也许在下一版本中，我们将用整体式聚碳酸酯代替有机玻璃。 <br><br><img src="https://habrastorage.org/webt/dt/wg/sl/dtwgslb4nrue7fzadqak0fny0pw.jpeg" alt="图片"><br><br> 作为表面，所有东西都被选为有机玻璃，修复后在阳台上铺在我身上，阳台厚4毫米，乳白色，分散率良好。 <br><br> 结果，在晚上坐上烙铁后，我们得到了以下信息： <br><br><img src="https://habrastorage.org/webt/q-/m7/_1/q-m7_1zqignjoubsexhsuv4_yro.jpeg" alt="图片"><br><br> 有些胶带的LED密度不同。 通常是：每米144、90、60、30。 我们停在每米30个LED的胶带上，因为 使用具有更高LED密度的胶带-很难移动人物而不会发生碰撞，并且食物所需的功率会增加。 <br><br> 值得注意的是LED串联连接。 因此，如果您的第一个LED烧坏了，那么其余的将无法工作。 <br><br> 我们的场大小为14 * 14像元，共196像素。 磁带在5V的电压下运行。 胶带中的一个像素由3个LED组成-R，G，B，每个LED在最大亮度下消耗20 mA电流。 可以很容易地计算出，如果我们想用白色点亮所有196个像素，那么我们需要将近12 A ... <br><br> 寻找一种紧凑的PSU或DC-DC转换器可以在5V时产生这样的电流是非常困难的。 因此，我们决定在游戏中填充的区域不应超过60％，并且我们不使用白色/灰色（所有3个LED都打开的颜色），即 每个像素最大40 mA。 结果，我们得出该表的功耗不应超过5A。 <br><br> 我经常看到一个建议，那就是必须从两侧为磁带供电，以免电压损失。 但是，一方面，我们每100个LED灯带连接到胶带上，但没有观察到可见的电压下降。 <br><br><h3> 电子产品 </h3><br> 使用Arduino Mega 2560可以管理游戏的所有部分。为其分配了以下功能： <br><br><ul><li> 进行校准，结果是我们找出步进电机必须克服多少步才能克服1个单元。 </li><li> 从移动应用程序接收命令和数据，并将执行状态发送回BLE。 </li><li> 根据从移动应用程序接收到的数据中的坐标，将笔架从A点移动到B点。 </li><li> 打开/关闭电磁体。 </li><li> 用特定颜色照亮桌子上的特定像素。 像素数和颜色由移动应用程序传输。 </li></ul><br> 第一个原型组装在面包板上，包括以下组件： <br><br><ul><li>  Arduino Mega 2560; </li><li>  2个驱动器步进电机DRV8825; </li><li>  4个限位开关； </li><li>  BLE模块HM-10; </li><li> 晶体管IRF530N-用于控制电磁体； </li><li>  PSU MeanWell 12V 10A; </li><li>  MeanWell DC-DC转换器从12V降压至5V，10A; </li></ul><br><img src="https://habrastorage.org/webt/jk/gn/od/jkgnodh2zjzrvfiaes_tkimqpl4.jpeg" alt="图片"><br><br> 在确保一切正常后，我们决定需要为Arduino Mega制作屏蔽罩，最后摆脱布线和一堆电线。 <br><br> 由于缺乏软件开发经验，我们决定将这项业务委托给专业人士。 结果，我们的一位朋友完全开发了电路板并安装了所有组件。 结果如下所示： <br><br><img src="https://habrastorage.org/webt/sk/fl/pe/skflperthnt8v-cjuurkqviluyy.jpeg" alt="图片"><br><br> 由于缺乏经验，我无法判断执行质量，但董事会工作正常。 您可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>此处</b></a>看到电路图。 <br><br><h3> 行动应用程式 </h3><br> 移动应用程序是我们游戏的大脑。 它是包含有关游戏状态，角色等所有信息的应用程序。  Anroid被选作开发平台，主要要求是BLE支持（因为将来计划添加适用于iOS的游戏版本）。 <br><br> 与电子产品不同，我们在开发移动应用程序方面经验不足，因此我们计划尽快完成此阶段。 但是，像往常一样，一切都没有按计划进行。 <br><br><img src="https://habrastorage.org/webt/av/c0/ow/avc0ow5y6otmc1xha2fgv6i04ci.jpeg" alt="图片"><br><br> 我们很快意识到，实际上我们必须编写一款功能全面的手机游戏，其中显示信息的方法不仅是手机的屏幕，而且还是棋盘游戏的表面。 <br><br> 当前应用程序的主要功能： <br><br><ul><li> 搜索BLE设备，确定适合连接的设备。 标识包括“握手”-手机必须确保所连接的设备确实是棋盘游戏的蓝牙模块，而不是电视。 </li><li> 从可用的英雄中选择玩家（至少2个），目前有4个。 </li><li> 向当前玩家提供所有必要的信息：有关可用技能，其<abbr title="能力恢复时间">冷却时间</abbr> ，对手的信息等。 </li><li> 做出动作-每个玩家都可以借助“操纵杆”来控制自己的动作，通过操纵杆可以选择用于应用能力，动作等的单元。 </li></ul><br> 我们没有熟悉的UX / UI设计师那样的美感，因此我们尽可能地自己进行设计。 将来，我们计划添加一个ENT，一个描述以及一个<abbr title="玩家与环境">PVE</abbr>模式，玩家可以在该模式中与竞技场的老板进行战斗。 <br><br><h3> 结果 </h3><br> 目前，我们拥有一个功能齐全的原型，您可以玩（尽管在1部智能手机上），并且可以在其上完善游戏的规则和机制。 我们花了大约一年的时间来创建它，并在有空闲时间的周末和罕见的晚上工作。 <br><br> 我们有一个雄心勃勃的计划：寻找志趣相投的人，敲定原型，完全“舔”游戏的平衡和规则，并尝试继续进行<b>Kickstarter竞赛</b> ， 这将是一次梦幻般的体验。 <br><br> 如果有趣的话，那么在下一篇文章中，我将向您详细介绍移动应用程序，游戏本身，我们如何制作缩影以及产生了哪些缩影。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN425629/">https://habr.com/ru/post/zh-CN425629/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN425619/index.html">多臂强盗问题-比较Epsilon-Greedy策略和Thompson抽样</a></li>
<li><a href="../zh-CN425621/index.html">一家利用大气二氧化碳的公司开始生产甲烷</a></li>
<li><a href="../zh-CN425623/index.html">联合摄影之旅“钥匙”</a></li>
<li><a href="../zh-CN425625/index.html">花费了，或者本地化者为什么会错误地翻译游戏</a></li>
<li><a href="../zh-CN425627/index.html">用于服务开发的IaaS：谁以及为什么切换到虚拟基础架构</a></li>
<li><a href="../zh-CN425631/index.html">社交网络“ Vkontakte”谈到了如何以及为何提供用户数据</a></li>
<li><a href="../zh-CN425633/index.html">大众+微软=舒适的互联网技术</a></li>
<li><a href="../zh-CN425635/index.html">上周第333期（2018年10月1日至7日）来自前端世界的新鲜材料摘要</a></li>
<li><a href="../zh-CN425637/index.html">SSH连接建立算法</a></li>
<li><a href="../zh-CN425641/index.html">加拿大城市居民已经开发了公交车而非汽车的“优步服务”</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>