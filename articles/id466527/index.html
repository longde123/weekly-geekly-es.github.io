<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🚒 ⛸️ 🚔 Menguji fungsionalitas pengguna situs web dengan objek halaman Capybara 🖕🏽 👦🏿 😐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Objek Halaman dapat digunakan sebagai metode abstraksi (isolasi) tes Anda yang kuat dari implementasi teknis. Penting untuk diingat bahwa mereka (Obye...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menguji fungsionalitas pengguna situs web dengan objek halaman Capybara</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466527/"> <b>Objek Halaman</b> dapat digunakan sebagai metode abstraksi (isolasi) tes Anda yang kuat dari implementasi teknis.  Penting untuk diingat bahwa mereka (Obyek Halaman) dapat digunakan untuk meningkatkan stabilitas tes dan mempertahankan prinsip <b>KERING</b> (jangan ulangi diri Anda sendiri) - dengan merangkum fungsionalitas (situs web) dalam metode sederhana. <br><a name="habracut"></a><br><h3>  Dengan kata lain </h3><br>  <b>Halaman Obyek</b> adalah turunan dari kelas yang abstrak (mengisolasi) antarmuka pengguna dari lingkungan pengujian, menyajikan metode untuk berinteraksi dengan antarmuka pengguna, dan mengekstrak informasi yang diperlukan. <br><br><h3>  Terminologi </h3><br>  Istilah <b>Halaman Obyek adalah</b> konsep yang terlalu umum.  Dalam pengalaman saya, <b>Obyek Halaman</b> mencakup 3 jenis berikut: <br><br><ul><li>  <b>Objek Komponen</b> mewakili komponen atau widget tertentu di antarmuka pengguna.  Misalnya: tabel, menu, artikel, dan blok lain yang berisi sekelompok komponen. </li><li>  <b>Objek Halaman</b> menggambarkan area atau antarmuka pengguna tertentu dalam aplikasi web.  Ini dapat terdiri dari beberapa <b>Objek Komponen</b> dan mungkin berisi metode yang mudah untuk berinteraksi dengan abstraksi yang terkandung dalam objek ini. </li><li>  <b>Pengalaman</b> digunakan untuk mengelompokkan fungsi yang kompleks, pengujian yang membutuhkan beberapa langkah, atau interaksi dengan beberapa halaman.  Dari pengalaman saya sendiri, saya menggunakan konsep ini untuk mengabstraksi perilaku kompleks pada suatu halaman (menguji halaman pendidikan, membuat pengguna baru, dll.) </li></ul><br><h3>  Contohnya </h3><br>  Pertimbangkan uji <b>RSpec Capybara yang</b> sederhana, yang membuat blog dan tidak menggunakan objek halaman: <br><br><pre><code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'feature_helper'</span></span> feature <span class="hljs-string"><span class="hljs-string">'Blog management'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">type:</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:feature</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> scenario <span class="hljs-string"><span class="hljs-string">'Successfully creating a new blog'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> visit <span class="hljs-string"><span class="hljs-string">'/'</span></span> click_on <span class="hljs-string"><span class="hljs-string">'Form Examples'</span></span> expect(page).to have_content(<span class="hljs-string"><span class="hljs-string">'Create Blog'</span></span>) fill_in <span class="hljs-string"><span class="hljs-string">'blog_title'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">with:</span></span> <span class="hljs-string"><span class="hljs-string">'My Blog Title'</span></span> fill_in <span class="hljs-string"><span class="hljs-string">'blog_text'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">with:</span></span> <span class="hljs-string"><span class="hljs-string">'My new blog text'</span></span> click_on <span class="hljs-string"><span class="hljs-string">'Save Blog'</span></span> expect(page).to have_selector(<span class="hljs-string"><span class="hljs-string">'.blog--show'</span></span>) expect(page).to have_content(<span class="hljs-string"><span class="hljs-string">'My Blog Title'</span></span>) expect(page).to have_content(<span class="hljs-string"><span class="hljs-string">'My new blog text'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> scenario <span class="hljs-string"><span class="hljs-string">'Entering no data'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> visit <span class="hljs-string"><span class="hljs-string">'/'</span></span> click_on <span class="hljs-string"><span class="hljs-string">'Form Examples'</span></span> expect(page).to have_content(<span class="hljs-string"><span class="hljs-string">'Create Blog'</span></span>) click_on <span class="hljs-string"><span class="hljs-string">'Save Blog'</span></span> expect(page).to have_content(<span class="hljs-string"><span class="hljs-string">'4 errors stopped this form being submitted'</span></span>) expect(page).to have_content(<span class="hljs-string"><span class="hljs-string">"Title can't be blank"</span></span>) expect(page).to have_content(<span class="hljs-string"><span class="hljs-string">"Text can't be blank"</span></span>) expect(page).to have_content(<span class="hljs-string"><span class="hljs-string">'Title is too short'</span></span>) expect(page).to have_content(<span class="hljs-string"><span class="hljs-string">'Text is too short'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br>  Mari kita lihat lebih dekat kode ini, ada beberapa masalah.  Ada tindakan berikut: beralih ke halaman yang sesuai, berinteraksi dengan halaman dan memeriksa konten.  Bagian dari kode digandakan, tetapi ini dapat diperbaiki dengan mengikuti prinsip <b>KERING</b> . <br><br>  Penting untuk dipahami bahwa kode ini sulit dipertahankan jika ada perubahan dalam aplikasi yang sedang diuji.  Misalnya, kelas elemen, nama, dan pengidentifikasi dapat berubah, yang memerlukan pembaruan berkala dari kode pengujian. <br><br>  Juga dalam kode ini tidak ada 'konteks semantik', sulit untuk memahami baris kode mana yang secara logis dikelompokkan. <br><br><h3>  Pengantar Objek Halaman </h3><br>  Seperti yang dibahas di bagian terminologi, <b>Objek Halaman</b> dapat digunakan untuk mewakili abstraksi tingkat presentasi. <br><br>  Mengambil contoh sebelumnya dan menggunakan <b>Obyek Halaman</b> untuk membuat blog baru dan melihat blog, kita dapat menghapus kode dari contoh sebelumnya. <br><br>  Setelah menyingkirkan informasi spesifik tentang implementasi teknis, hasil akhir (kode) harus dapat dibaca dan tidak boleh berisi informasi spesifik tentang antarmuka pengguna (id, kelas css, dll.). <br><br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'feature_helper'</span></span> require_relative <span class="hljs-string"><span class="hljs-string">'../pages/new_blog'</span></span> require_relative <span class="hljs-string"><span class="hljs-string">'../pages/view_blog'</span></span> feature <span class="hljs-string"><span class="hljs-string">'Blog management'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">type:</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:feature</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> let(<span class="hljs-symbol"><span class="hljs-symbol">:new_blog_page</span></span>) { <span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-symbol"><span class="hljs-symbol">:Pages</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-symbol"><span class="hljs-symbol">:NewBlog</span></span>.new } let(<span class="hljs-symbol"><span class="hljs-symbol">:view_blog_page</span></span>) { <span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-symbol"><span class="hljs-symbol">:Pages</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-symbol"><span class="hljs-symbol">:ViewBlog</span></span>.new } before <span class="hljs-symbol"><span class="hljs-symbol">:each</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> new_blog_page.visit_location <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> scenario <span class="hljs-string"><span class="hljs-string">'Successfully creating a new blog'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> new_blog_page.create <span class="hljs-symbol"><span class="hljs-symbol">title:</span></span> <span class="hljs-string"><span class="hljs-string">'My Blog Title'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">text:</span></span> <span class="hljs-string"><span class="hljs-string">'My new blog text'</span></span> expect(view_blog_page).to have_loaded expect(view_blog_page).to have_blog <span class="hljs-symbol"><span class="hljs-symbol">title:</span></span> <span class="hljs-string"><span class="hljs-string">'My Blog Title'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">text:</span></span> <span class="hljs-string"><span class="hljs-string">'My new blog text'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> scenario <span class="hljs-string"><span class="hljs-string">'Entering no data'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> new_blog_page.create <span class="hljs-symbol"><span class="hljs-symbol">title:</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">text:</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span> expect(view_blog_page).to_not have_loaded expect(new_blog_page).to have_errors <span class="hljs-string"><span class="hljs-string">"Title can't be blank"</span></span>, <span class="hljs-string"><span class="hljs-string">"Text can't be blank"</span></span>, <span class="hljs-string"><span class="hljs-string">"Title is too short"</span></span>, <span class="hljs-string"><span class="hljs-string">"Text is too short"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br>  <b>Membuat Objek Halaman</b> <br><br>  Langkah pertama dalam membuat <b>Objek Halaman</b> adalah membuat struktur <b>kelas halaman dasar</b> : <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Pages</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewBlog</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">include</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RSpec::Matchers</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">include</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Capybara::DSL</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment"># ... end end</span></span></span></span></code> </pre> <br>  Menghubungkan (mengaktifkan) <b>Capybara :: DSL untuk</b> memungkinkan instance <b>Objek Halaman</b> menggunakan metode yang tersedia di <b>Capybara</b> <br><br><pre> <code class="ruby hljs">has_css? <span class="hljs-string"><span class="hljs-string">'.foo'</span></span> has_content? <span class="hljs-string"><span class="hljs-string">'hello world'</span></span> find(<span class="hljs-string"><span class="hljs-string">'.foo'</span></span>).click</code> </pre> <br>  Selain itu, saya menggunakan <blockquote>  termasuk RSpec :: Matchers </blockquote>  dalam contoh di atas untuk menggunakan pustaka RSpec <b>harapan</b> . <br><br>  Jangan melanggar perjanjian, <b>Halaman Obyek</b> tidak harus termasuk <b>ekspektasi (harapan)</b> .  Namun, jika perlu, saya lebih suka pendekatan ini mengandalkan mekanisme <b>bawaan Capybara</b> untuk menangani kondisi. <br><br>  Misalnya, kode <b>Capybara</b> berikut ini akan <b>mengharapkan</b> keberadaan <b>'foo'</b> di dalam <b>Objek Halaman</b> (dalam hal ini, <b>sendiri</b> ): <br><br><pre> <code class="ruby hljs">expect(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>).to have_content <span class="hljs-string"><span class="hljs-string">'foo'</span></span></code> </pre> <br>  Namun, dalam kode berikut: <br><br><pre> <code class="ruby hljs">expect(page_object.content).to match <span class="hljs-string"><span class="hljs-string">'foo'</span></span></code> </pre> <br>  Kesalahan yang tidak terduga mungkin terjadi (tes mengambang mungkin terjadi), karena <b>page_object.content</b> segera diperiksa untuk kesesuaian dengan kondisi, dan mungkin belum dideklarasikan.  Untuk lebih banyak contoh, saya akan merekomendasikan membaca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tes integrasi asinkron dengan <b>thinkbot yang</b> dapat diandalkan dengan <b>Capybara</b></a> . <br><br><h3>  Metode Pembuatan </h3><br>  Kita dapat abstrak (menggambarkan) tempat (wilayah) dari mana kita ingin mendapatkan data, dalam kerangka satu metode: <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visit_location</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visit</span></span></span><span class="hljs-function"> '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">/</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">blogs</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">/</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">new</span></span></span><span class="hljs-function">' </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment"># It can be beneficial to assert something positive about the page # before progressing with your tests at this point # # This can be useful to ensures that the page has loaded successfully, and any # asynchronous JavaScript has been loaded and retrieved etc. # # This is required to avoid potential race conditions. expect(self).to have_loaded end def has_loaded? self.has_selector? 'h1', text: 'Create Blog' end</span></span></span></span></code> </pre> <br>  Penting untuk memilih nama yang <b>benar secara semantik</b> untuk metode untuk <b>Objek Halaman</b> Anda <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-symbol"><span class="hljs-function"><span class="hljs-params"><span class="hljs-symbol">title:</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-symbol"><span class="hljs-function"><span class="hljs-params"><span class="hljs-symbol">text:</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment"># ... end def has_errors?(*errors) # ... end def has_error?(error) # ... end</span></span></code> </pre> <br>  Secara umum, penting untuk mengikuti prinsip metode yang terintegrasi secara fungsional dan, jika mungkin, mematuhi prinsip tanggung jawab tunggal (Prinsip Tanggung Jawab Tunggal). <br><br><h3>  Objek komponen </h3><br>  Dalam contoh kami, kami menggunakan kelas NewBlog, tetapi tidak ada implementasi untuk dibuat. <br><br>  Karena kami berinteraksi dengan formulir, kami juga dapat memperkenalkan kelas untuk mewakili komponen ini: <br><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># ... def create(title:, text:) blog_form.new.create title: title, text: text end # ... private def blog_form ::Components::BlogForm end</span></span></code> </pre> <br>  Di mana metode implementasi untuk BlogForm dapat disembunyikan: <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Components</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlogForm</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">include</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RSpec::Matchers</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">include</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Capybara::DSL</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">create</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">title</span></span></span><span class="hljs-class">:, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">text</span></span></span><span class="hljs-class">:) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">within</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blog_form</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">do</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fill_in</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blog_title</span></span></span><span class="hljs-class">', </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">with</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">title</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fill_in</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blog_text</span></span></span><span class="hljs-class">', </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">with</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">text</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">click_on</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Save</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Blog</span></span></span><span class="hljs-class">' </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">private</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blog_form</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">find</span></span></span><span class="hljs-class">('.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blog</span></span></span><span class="hljs-class">--</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">') </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><h3>  Semuanya bersama </h3><br>  Menggunakan kelas-kelas di atas, Anda sekarang dapat meminta dan membuat instance <b>Obyek Halaman dari</b> halaman Anda sebagai bagian dari deskripsi objek. <br><br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'feature_helper'</span></span> require_relative <span class="hljs-string"><span class="hljs-string">'../pages/new_blog'</span></span> require_relative <span class="hljs-string"><span class="hljs-string">'../pages/view_blog'</span></span> feature <span class="hljs-string"><span class="hljs-string">'Blog management'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">type:</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:feature</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> let(<span class="hljs-symbol"><span class="hljs-symbol">:new_blog_page</span></span>) { <span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-symbol"><span class="hljs-symbol">:Pages</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-symbol"><span class="hljs-symbol">:NewBlog</span></span>.new } let(<span class="hljs-symbol"><span class="hljs-symbol">:view_blog_page</span></span>) { <span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-symbol"><span class="hljs-symbol">:Pages</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-symbol"><span class="hljs-symbol">:ViewBlog</span></span>.new } <span class="hljs-comment"><span class="hljs-comment"># ... end</span></span></code> </pre> <br>  Catatan: Saya sengaja membuat objek halaman secara manual di bagian atas file objek.  Dalam beberapa tes RSpec mungkin lebih mudah untuk secara otomatis mengunduh semua file dukungan dan memberikan akses kepada mereka dalam file objek, namun, ini dapat menyebabkan beban kerja yang berlebihan ketika menggunakan potongan kode yang besar.  Secara khusus, ini akan menyebabkan startup lambat dan potensi ketergantungan siklus yang tidak diinginkan. <br><br><h3>  Panggil Objek Halaman </h3><br>  Sekarang di setiap skenario, kita akan memiliki akses ke instance <b>new_blog_page</b> dan <b>view_blog_page</b> : <br><br><pre> <code class="ruby hljs">scenario <span class="hljs-string"><span class="hljs-string">'Successfully creating a new blog'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> new_blog_page.create <span class="hljs-symbol"><span class="hljs-symbol">title:</span></span> <span class="hljs-string"><span class="hljs-string">'My Blog Title'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">text:</span></span> <span class="hljs-string"><span class="hljs-string">'My new blog text'</span></span> expect(view_blog_page).to have_loaded expect(view_blog_page).to have_blog <span class="hljs-symbol"><span class="hljs-symbol">title:</span></span> <span class="hljs-string"><span class="hljs-string">'My Blog Title'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">text:</span></span> <span class="hljs-string"><span class="hljs-string">'My new blog text'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><h3>  Konvensi Penamaan / Metode Predikat </h3><br>  Seperti kebanyakan hal dalam Rails / Ruby, ada beberapa konvensi yang mungkin tampak sepele (tidak mengikat) sepenuhnya. <br><br>  Dalam pengujian kami, kami berinteraksi dengan objek halaman menggunakan <b>has_loaded</b> dan <b>have_blog</b> : <br><br><pre> <code class="ruby hljs">expect(view_blog_page).to have_loaded expect(view_blog_page).to have_blog <span class="hljs-symbol"><span class="hljs-symbol">title:</span></span> <span class="hljs-string"><span class="hljs-string">'My Blog Title'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">text:</span></span> <span class="hljs-string"><span class="hljs-string">'My new blog text'</span></span></code> </pre> <br>  Namun, nama metode objek halaman kami sebenarnya telah di- <b>load?</b>  dan <b>has_blog?</b>  : <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">has_loaded?</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment"># ... end def has_blog?(title:, text:) # ... end</span></span></span></span></code> </pre> <br>  Ini adalah perbedaan halus yang perlu diperhatikan.  Untuk informasi lebih lanjut tentang konvensi ini, saya akan merekomendasikan membaca tautan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pencocokan predikat</a> berikut. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Git, kode sumber yang digunakan dalam contoh</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Asli</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id466527/">https://habr.com/ru/post/id466527/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id466515/index.html">Wawancara Apa yang seharusnya seorang insinyur harapkan dari bekerja di startup Eropa, bagaimana wawancara dilakukan dan apakah sulit untuk beradaptasi</a></li>
<li><a href="../id466517/index.html">Pelatihan lokalisasi Universitas Washington</a></li>
<li><a href="../id466519/index.html">Analisis terperinci AWS Lambda</a></li>
<li><a href="../id466521/index.html">C for Metal - logam mulia untuk komputasi pada kartu grafis Intel</a></li>
<li><a href="../id466525/index.html">Apa itu tata letak iPhone PSD dan bagaimana menggunakannya?</a></li>
<li><a href="../id466529/index.html">Jenis Kompilasi di JVM: Mengekspos Sesi Sihir Hitam</a></li>
<li><a href="../id466533/index.html">Pastilda: hasil</a></li>
<li><a href="../id466535/index.html">Memikirkan kembali deepClone</a></li>
<li><a href="../id466537/index.html">Menggunakan modul JavaScript dalam produksi: keadaan saat ini. Bagian 1</a></li>
<li><a href="../id466539/index.html">Menggunakan modul JavaScript dalam produksi: keadaan saat ini. Bagian 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>