<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòì üî¨ üôÑ Como assistir SDDL e n√£o quebrar os olhos em ponto e v√≠rgula ‚è´ üëÉ üë©‚Äçüëß‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Meu caminho para a seguran√ßa da informa√ß√£o come√ßou com uma descoberta surpreendente: ‚Äúcriptografado com seguran√ßa‚Äù. Essa afirma√ß√£o agora parece simple...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como assistir SDDL e n√£o quebrar os olhos em ponto e v√≠rgula</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pm/blog/442662/"><img src="https://habrastorage.org/webt/an/hd/to/anhdtognmb0n09yu9hgh1cyducg.png"><br><br>  Meu caminho para a seguran√ßa da informa√ß√£o come√ßou com uma descoberta surpreendente: ‚Äúcriptografado com seguran√ßa‚Äù.  Essa afirma√ß√£o agora parece simples e √≥bvia e, no primeiro ano, a conscientiza√ß√£o desse fato produziu um efeito compar√°vel √† bomba at√¥mica mental.  A seguran√ßa da informa√ß√£o foi atacada pela expans√£o dos limites da √°rea de assunto: verificou-se que a criptografia √© apenas uma linha de defesa e tamb√©m existem legais, organizacionais e simplesmente f√≠sicas no final.  Um dos aspectos te√≥ricos foi "Todas as quest√µes de seguran√ßa da informa√ß√£o s√£o descritas pelo acesso dos sujeitos aos objetos".  Ele memorizou, desenhou os modelos de acesso credencial e discricion√°rio, contou, passou e esqueceu. <br><br>  Sou especialista em an√°lise de seguran√ßa de aplicativos Windows.  Muitas vezes, o estudo de direitos de acesso precisamente diferentes ocupa uma parte significativa do estudo.  Para automatizar o processo de busca por direitos de acesso estranhos ou incorretos, tive que entender o SDDL (Security Descriptor Definition Language).  Quem est√° interessado em aprender a ler direitos na forma de SDDL (por exemplo, algo como <b>O: SYG: SYD: (A; CCLCSWLOCRRC ;;; UI) (A ;; CCLCSWLOCRRC ;;; SU) (A ;; CCLCSWRPWPDTLOCRRC ;;; SY) (A; CCDCLCSWRPWPDTLOCRSDRCWDWO ;; BA)</b> ) e familiarize-me com meu utilit√°rio para trabalhar com descritores nesse formato, bem-vindo ao gato. <br><a name="habracut"></a><br><h2>  <font color="orange">Formato SDDL</font> </h2><br>  SDDL √© uma sequ√™ncia com descri√ß√µes de direitos de acesso em forma de texto.  Na maioria das vezes consiste em tr√™s partes: propriet√°rio, grupo e direitos de acesso DACL.  √Äs vezes, a parte SACL √© adicionada - a parte de auditoria (se as a√ß√µes com o objeto se ajustarem √†s regras da SACL, ser√° criado um evento do sistema que ser√° f√°cil de rastrear por v√°rios sistemas).  O descritor fica assim: <br><br>  O: &lt;propriet√°rio&gt; G: &lt;grupo&gt; D: &lt;regras de acesso DACL&gt; S: &lt;regras de auditoria SACL&gt; <br><br><img src="https://habrastorage.org/webt/wn/vg/oj/wnvgojdxtm7uz3qpq_tqwebbxuu.png"><br><br>  Assim, o exemplo acima pode ser decomposto da seguinte maneira: <br><ul><li>  O: SY </li><li>  G: SY </li><li>  D: (A ;; CCLCSWLOCRRC ;;; UI) (A ;; CCLCSWLOCRRC ;;; SU) (A; CCLCSWRPWPDTLOCRRC ;;; SY) (A ;; CCDCLCSWRPWPDTLOCRSDRCWDWO ;; BA) </li></ul><br>  O propriet√°rio e o grupo podem ser indicados como o SID do usu√°rio ou grupo do SO, ou como abrevia√ß√µes especiais.  Por exemplo, nesse caso, o propriet√°rio e o grupo SY √© a conta do sistema local (NT AUTHORITY \ SYSTEM).  A lista de abrevia√ß√µes (infelizmente, n√£o exaustiva) pode ser encontrada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  As regras de acesso consistem na enumera√ß√£o de sinalizadores DACL e seq√º√™ncias de caracteres ACE (Entradas de Controle de Acesso).  Uma an√°lise detalhada do ACE √© apresentada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> , consideraremos o mais importante.  Cada linha ACE √© colocada entre par√™nteses dentro dos quais os dados s√£o separados por ponto e v√≠rgula. <br>  De maior interesse s√£o o primeiro, o terceiro e o √∫ltimo grupos.  Este √© o tipo de acesso (permitido "A", proibido "D"), uma lista de a√ß√µes e o nome do sujeito do acesso.  A primeira regra DACL do exemplo acima: (A ;; CCLCSWLOCRRC ;;; UI), consideraremos em detalhes. <br><br><img src="https://habrastorage.org/webt/7d/__/o6/7d__o6fgbxas7azzzqmu24ou27k.png"><br><br><ul><li>  "A" - a regra permite a√ß√µes ao sujeito; </li><li>  "CC", "LC", "SW", "LO", "CR", "RC" - uma lista de a√ß√µes permitidas; </li><li>  "UI" - essa abrevia√ß√£o significa o grupo Usu√°rios conectados interativos. </li></ul><br>  Resta entender o que exatamente √© permitido.  O que significam esses misteriosos ‚ÄúCC‚Äù, ‚ÄúLC‚Äù, ‚ÄúSW‚Äù, ‚ÄúLO‚Äù, ‚ÄúCR‚Äù, ‚ÄúRC‚Äù? <br><br>  Aqui estamos aguardando outra armadilha - nem sempre √© poss√≠vel indicar com precis√£o a a√ß√£o por redu√ß√£o.  Eles s√£o, por assim dizer, espec√≠ficos ao contexto.  Por exemplo, se estivermos falando sobre os direitos de trabalhar com servi√ßos, WP significa "interromper o servi√ßo", se for sobre arquivos, depois "execu√ß√£o" e se for sobre pastas, e "atravessar" (acesso aos arquivos em uma pasta pelo nome, se n√£o for poss√≠vel conte√∫do da lista).  Algumas descri√ß√µes est√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> , outras <a href="">aqui</a> , com o mundo em um fio. <br><br><div class="spoiler">  <b class="spoiler_title">Ei, voc√™ perdeu muito dos sinalizadores DACL, sinalizadores ACE, heran√ßa</b> <div class="spoiler_text">  Sim, √© verdade, tudo isso √© muito importante e interessante, mas n√£o √© t√£o comum.  Eu me concentro na massa.  No caso de manifesta√ß√µes √∫nicas de sinalizadores incomuns, ser√° mais f√°cil entender no modo manual. <br></div></div><br><h2>  <font color="orange">Automa√ß√£o</font> </h2><br>  Os utilit√°rios da Sysinternals realmente me ajudam, a saber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">, Monitor de processo</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Verifica√ß√£o de acesso</a> (tamb√©m conhecidos como procmon e accesschk).  O primeiro permite examinar os acessos a arquivos e registros em tempo real, e o segundo permite coletar informa√ß√µes do sistema operacional nos descritores de seguran√ßa. <br><br>  A prop√≥sito, no pr√≥prio sistema operacional, a janela com os direitos fica assim se algu√©m n√£o tiver visto: <br><br><img src="https://habrastorage.org/webt/ft/9t/vz/ft9tvzevuox0vy0yia5vta812k8.png"><br><br>  Infelizmente, a sa√≠da do accesschk n√£o pode ser filtrada restringindo a solicita√ß√£o de direitos a a√ß√µes espec√≠ficas.  O Process Monitor mostra apenas as chamadas reais em um momento espec√≠fico e voc√™ obt√©m uma solicita√ß√£o muito precisa que n√£o √© diretamente afetada.  Al√©m disso, eu gostaria de ter um memorando sobre que tipo de grupo de usu√°rios √© <abbr title="Operadores de rede">NO</abbr> ou <abbr title="Conta de servi√ßo de rede">NS</abbr> e que tipo de a√ß√£o est√° oculto por tr√°s do CC e do RC. <br><br>  Assim, nasceu um utilit√°rio simples para visualizar e filtrar registros SDDL. <br><br><h2>  <font color="orange">Como usar</font> </h2><br>  Trabalhar com o utilit√°rio √© simples, apenas tr√™s etapas: <br><br><ol><li>  Obter registros SDDL. </li><li>  Defina filtros de regras. </li><li>  Ver relat√≥rio. </li></ol><br><img src="https://habrastorage.org/webt/ly/ul/kd/lyulkdqjevgwn8iqpejwekonkia.png"><br><br>  Leia mais sobre cada etapa. <br><br>  Obtendo SDDL.  Para obter registros SDDL, voc√™ pode usar as fun√ß√µes incorporadas ao utilit√°rio (bot√µes 1, 2, 3 ou 4) ou fazer o download da lista que voc√™ recebeu anteriormente (bot√£o 5).  Observe que a solicita√ß√£o de direitos de acesso √© feita em nome do usu√°rio que iniciou o SDDL Viewer; portanto, em algumas situa√ß√µes, vale a pena executar o programa n√£o apenas como um usu√°rio comum, mas tamb√©m como administrador.  Bem, em geral, o pr√≥prio campo com linhas SDDL √© edit√°vel - voc√™ pode pelo menos reescrev√™-lo manualmente. <br><br>  A filtragem ocorre de acordo com dois par√¢metros: grupos de usu√°rios e direitos de acesso.  A lista de grupos e usu√°rios √© baseada em todos os usu√°rios mencionados no SDDL.  Preste aten√ß√£o √† caixa de sele√ß√£o Traduzir SIDs (6) - se estiver instalado, o SID de usu√°rios e grupos ser√° convertido em nomes relativos ao computador atual, se poss√≠vel.  A lista de direitos √© organizada um pouco mais complicada - voc√™ precisa selecionar a categoria de direitos (se o SDDL for preenchido com o pr√≥prio utilit√°rio, a categoria necess√°ria ser√° selecionada automaticamente) Al√©m disso, os direitos presentes no SDDL ser√£o destacados mais claramente na lista de direitos. <br><br>  O relat√≥rio √© simplesmente o resultado da descriptografia da SDDL e da aplica√ß√£o de filtros.  Voc√™ pode encontrar informa√ß√µes mais detalhadas sobre cada linha, se voc√™ selecion√°-las na lista (sim, foi com essa fun√ß√£o que recebi uma morda√ßa, o que deu origem a uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pequena pesquisa sobre os componentes internos do .NET</a> ). <br><br><h2>  <font color="orange">Sum√°rio</font> </h2><br>  O c√≥digo fonte est√° dispon√≠vel no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github</a> .  Arquivos bin√°rios tamb√©m est√£o na se√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Vers√£o</a> . <br><br>  Meus planos de servi√ßos p√∫blicos: <br><br><ol><li>  Adicione uma pesquisa aos campos de entrada do SDDL - ainda assim, apenas a filtragem n√£o √© suficiente. </li><li>  Adicione par√¢metros de inicializa√ß√£o que permitiriam criar relat√≥rios sem uma parte visual. </li><li>  Talvez voc√™ deva adicionar preenchimento SDDL de processos, pastas compartilhadas e impressoras? </li></ol><br>  Ficarei feliz em ouvir sugest√µes nos coment√°rios. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt442662/">https://habr.com/ru/post/pt442662/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt442650/index.html">An√°lise e otimiza√ß√£o de aplicativos React</a></li>
<li><a href="../pt442652/index.html">Usando Fastify e Preact para prototipar aplicativos da Web rapidamente</a></li>
<li><a href="../pt442654/index.html">Mudando para Next.js e acelerando o carregamento da p√°gina inicial do manifold.co 7,5 vezes</a></li>
<li><a href="../pt442658/index.html">8 truques para trabalhar com CSS: paralaxe, rodap√© fixo e outros</a></li>
<li><a href="../pt442660/index.html">Matem√°tica reconciliando Newton com o mundo qu√¢ntico</a></li>
<li><a href="../pt442664/index.html">QIWI Kitchen 6 de fevereiro - como foi + apresenta√ß√µes dos palestrantes</a></li>
<li><a href="../pt442666/index.html">P√≥s-p√≥s, meta-meta. N√≥s aprendemos a escrever no Habr</a></li>
<li><a href="../pt442668/index.html">Placa Intel SGX. Cada servidor merece seu SGX</a></li>
<li><a href="../pt442670/index.html">Carsten Zero se apresentar√° no PHDays 9</a></li>
<li><a href="../pt442672/index.html">Como dar feedback: 9 regras</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>