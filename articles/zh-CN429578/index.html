<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤´ğŸ¾ ğŸ‘¨ğŸ»â€âš–ï¸ âœ³ï¸ Infer.NETä»£ç ä¸­éšè—äº†å“ªäº›é”™è¯¯ï¼Ÿ ğŸ™‹ğŸ¼ ğŸ‘³ #âƒ£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¾®è½¯å‘å¸ƒå…¶é¡¹ç›®çš„æºä»£ç æ˜¯éªŒè¯å®ƒä»¬çš„ä¸€ä¸ªå¾ˆå¥½çš„ç†ç”±ã€‚ è¿™æ¬¡ä¹Ÿä¸ä¾‹å¤–ï¼Œä»Šå¤©æˆ‘ä»¬çœ‹ä¸€ä¸‹åœ¨Infer.NETä»£ç ä¸­å‘ç°çš„å¯ç–‘ä½ç½®ã€‚ å‘ä¸‹æ³¨è§£-ç›´è¾¾é‡ç‚¹ï¼ 

 å…³äºé¡¹ç›®å’Œåˆ†æå™¨çš„ä¸€äº›çŸ¥è¯† 
 Infer.NETæ˜¯ç”±Microsoftçš„ä¸“å®¶å¼€å‘çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿã€‚ è¯¥é¡¹ç›®çš„æºä»£ç æœ€è¿‘å·²åœ¨GitHubä¸Šæä¾› ï¼Œè¿™å°±...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Infer.NETä»£ç ä¸­éšè—äº†å“ªäº›é”™è¯¯ï¼Ÿ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/429578/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d3f/18a/6a6/d3f18a6a6127aceeae10d53591e0ce65.png"></div><br> å¾®è½¯å‘å¸ƒå…¶é¡¹ç›®çš„æºä»£ç æ˜¯éªŒè¯å®ƒä»¬çš„ä¸€ä¸ªå¾ˆå¥½çš„ç†ç”±ã€‚ è¿™æ¬¡ä¹Ÿä¸ä¾‹å¤–ï¼Œä»Šå¤©æˆ‘ä»¬çœ‹ä¸€ä¸‹åœ¨Infer.NETä»£ç ä¸­å‘ç°çš„å¯ç–‘ä½ç½®ã€‚ å‘ä¸‹æ³¨è§£-ç›´è¾¾é‡ç‚¹ï¼ <br><a name="habracut"></a><br><h2> å…³äºé¡¹ç›®å’Œåˆ†æå™¨çš„ä¸€äº›çŸ¥è¯† </h2><br>  Infer.NETæ˜¯ç”±Microsoftçš„ä¸“å®¶å¼€å‘çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿã€‚ è¯¥é¡¹ç›®çš„æºä»£ç æœ€è¿‘å·²åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHubä¸Šæä¾›</a> ï¼Œè¿™å°±æ˜¯è¿›è¡ŒéªŒè¯çš„åŸå› ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨æ­¤å¤„</a>æ‰¾åˆ°æœ‰å…³è¯¥é¡¹ç›®çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚ <br><br> ä½¿ç”¨PVS-Studioç‰ˆæœ¬6.26é™æ€åˆ†æå™¨æ£€æŸ¥äº†è¯¥é¡¹ç›®ã€‚ è®©æˆ‘æé†’æ‚¨ï¼ŒPVS-Studioæ­£åœ¨Windowsï¼ŒLinuxï¼ŒmacOSä¸‹çš„C \ C ++ \ Cï¼ƒï¼ˆä»¥åŠJavaä¸­ï¼‰ä¸­å¯»æ‰¾ä»£ç é”™è¯¯ã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä»…åœ¨Windowsä¸‹åˆ†æCï¼ƒä»£ç ã€‚ å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸‹è½½</a>åˆ†æä»ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¹¶</a>åœ¨æ‚¨çš„é¡¹ç›®ä¸Š<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯•ç”¨</a> ã€‚ <br><br> æ£€æŸ¥æœ¬èº«éå¸¸ç®€å•ï¼Œæ²¡æœ‰é—®é¢˜ã€‚ ä»¥å‰ï¼Œæˆ‘ä»GitHubä¸Šå¸è½½äº†è¯¥é¡¹ç›®ï¼Œè¿˜åŸäº†æ‰€éœ€çš„è½¯ä»¶åŒ…ï¼ˆä¾èµ–é¡¹ï¼‰ï¼Œå¹¶ç¡®ä¿è¯¥é¡¹ç›®å·²æˆåŠŸæ„å»ºã€‚ è¿™æ˜¯å¿…éœ€çš„ï¼Œä»¥ä¾¿åˆ†æä»ªå¯ä»¥è®¿é—®æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ä»¥è¿›è¡Œå…¨é¢åˆ†æã€‚ å•å‡»å‡ ä¸‹åï¼Œæˆ‘é€šè¿‡ç”¨äºVisual Studioçš„PVS-Studioæ’ä»¶å¯åŠ¨äº†å¯¹è§£å†³æ–¹æ¡ˆçš„åˆ†æã€‚ <br><br> é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œè¿™ä¸æ˜¯Microsoftä½¿ç”¨PVS-Studioæµ‹è¯•çš„ç¬¬ä¸€ä¸ªé¡¹ç›®-è¿˜æœ‰å…¶ä»–é¡¹ç›®ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Roslyn</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MSBuild</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PowerShell</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CoreFX</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç­‰</a> ã€‚ <br><br>  <b>æ³¨æ„äº‹é¡¹</b> å¦‚æœæ‚¨æˆ–æ‚¨çš„ç†Ÿäººå¯¹åˆ†æJavaä»£ç æ„Ÿå…´è¶£ï¼Œå¯ä»¥é€šè¿‡é€‰æ‹©â€œæˆ‘æƒ³è¦Javaåˆ†æå™¨â€æ¥ç»™æˆ‘ä»¬å†™ä¿¡ä»¥è·å–<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ”¯æŒ</a> ã€‚ è¯¥åˆ†æå™¨æ²¡æœ‰å…¬å¼€çš„Betaç‰ˆæœ¬ï¼Œä½†åº”å°½å¿«æä¾›ã€‚ ä»–ä»¬åœ¨ç§˜å¯†å®éªŒå®¤çš„æŸä¸ªåœ°æ–¹ï¼ˆç©¿è¿‡å¢™å£ï¼‰æ­£åœ¨ç§¯æåœ°å·¥ä½œã€‚ <br><br> ä½†æ˜¯è¶³å¤Ÿå¤šçš„æŠ½è±¡è®¨è®º-è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä»£ç ä¸­çš„é—®é¢˜ã€‚ <br><br><h2> è¿™æ˜¯é”™è¯¯è¿˜æ˜¯åŠŸèƒ½ï¼Ÿ </h2><br> æˆ‘å»ºè®®æ‚¨è‡ªå·±å°è¯•æŸ¥æ‰¾é”™è¯¯-å®Œå…¨å¯ä»¥è§£å†³çš„ä»»åŠ¡ã€‚ è€å®è¯´ï¼Œæˆ‘ä¸ä¼šä»¥â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2017å¹´C ++é¡¹ç›®ä¸­çš„åå¤§é”™è¯¯</a> â€ä¸€æ–‡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸º</a>ç¬‘ã€‚ å› æ­¤ï¼Œè¯·å‹¿æ€¥äºé˜…è¯»ä»£ç æ®µåæä¾›çš„åˆ†æå™¨è­¦å‘Šã€‚ <br><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MergeParallelTransitions</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( transition1.DestinationStateIndex == transition2.DestinationStateIndex &amp;&amp; transition1.Group == transition2.Group) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (transition1.IsEpsilon &amp;&amp; transition2.IsEpsilon) { .... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!transition1.IsEpsilon &amp;&amp; !transition2.IsEpsilon) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>.IsInfinity(transition1.Weight.Value) &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span>.IsInfinity(transition1.Weight.Value)) { newElementDistribution.SetToSum( <span class="hljs-number"><span class="hljs-number">1.0</span></span>, transition1.ElementDistribution, <span class="hljs-number"><span class="hljs-number">1.0</span></span>, transition2.ElementDistribution); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { newElementDistribution.SetToSum( transition1.Weight.Value, transition1.ElementDistribution, transition2.Weight.Value, transition2.ElementDistribution); } .... }</code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3001</a>åœ¨'&amp;&amp;'è¿ç®—ç¬¦çš„å·¦ä¾§å’Œå³ä¾§æœ‰ç›¸åŒçš„å­è¡¨è¾¾å¼'double.IsInfinityï¼ˆtransition1.Weight.Valueï¼‰'ã€‚ è¿è¡Œæ—¶è‡ªåŠ¨æœº.Simplification.cs 479 <br><br> ä»ä»£ç ç‰‡æ®µä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¯¥æ–¹æ³•æ­£åœ¨ä½¿ç”¨ä¸€å¯¹å˜é‡<i>-transition1</i>å’Œ<i>transition2</i> ã€‚ æœ‰æ—¶ä½¿ç”¨ç›¸ä¼¼åç§°æ˜¯åˆç†çš„ï¼Œä½†æ˜¯å€¼å¾—è®°ä½çš„æ˜¯ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨è¯¥åç§°åœ¨æŸå¤„æ„å¤–çŠ¯é”™çš„å¯èƒ½æ€§ä¼šå¢åŠ ã€‚ <br><br> è¿™æ˜¯æ£€æŸ¥æ•°å­—çš„æ— ç©·å¤§ï¼ˆ <i>double.IsInfinity</i> ï¼‰æ—¶å‘ç”Ÿçš„æƒ…å†µã€‚ ç”±äºé”™è¯¯ï¼Œæˆ‘ä»¬ä¸¤æ¬¡æ£€æŸ¥äº†ç›¸åŒå˜é‡çš„å€¼<i>-transition1.Weight.Value</i> ã€‚ ç¬¬äºŒä¸ªå­è¡¨è¾¾å¼ä¸­çš„æ£€æŸ¥å€¼åº”ä¸ºå˜é‡<i>transition2.Weight.Value</i> ã€‚ <br><br> å¦ä¸€ä¸ªç±»ä¼¼çš„å¯ç–‘ä»£ç ã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> MethodBase </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToMethodInternal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IMethodReference imr</span></span></span><span class="hljs-function">)</span></span> { .... bf |= BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Public | BindingFlags.Instance; .... }</code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3001</a>åœ¨'|'çš„å·¦ä¾§å’Œå³ä¾§æœ‰ç›¸åŒçš„å­è¡¨è¾¾å¼'BindingFlags.Public' æ“ä½œå‘˜ã€‚ ç¼–è¯‘å™¨CodeBuilder.cs 194 <br><br> å½¢æˆ<i>bf</i>å˜é‡çš„å€¼æ—¶ï¼Œå°†<i>BindingFlags.Public</i>æšä¸¾å…ƒç´ ä½¿ç”¨ä¸¤æ¬¡ã€‚ è¦ä¹ˆæ­¤ä»£ç åŒ…å«é¢å¤–çš„æ ‡è®°æ“ä½œï¼Œè¦ä¹ˆä»£æ›¿ç¬¬äºŒæ¬¡ä½¿ç”¨<i>BindingFlags.Publicï¼Œ</i>åº”è¯¥ä½¿ç”¨ä¸åŒçš„æšä¸¾å€¼ã€‚ <br><br> é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œåœ¨æºä»£ç ä¸­ï¼Œæ­¤ä»£ç å†™åœ¨ä¸€è¡Œä¸Šã€‚ åœ¨æˆ‘çœ‹æ¥ï¼Œå¦‚æœå°†å…¶æ ¼å¼åŒ–ä¸ºè¡¨æ ¼æ ·å¼ï¼ˆå¦‚æ­¤å¤„æ‰€ç¤ºï¼‰ï¼Œåˆ™æ›´å®¹æ˜“å‘ç°é—®é¢˜ã€‚ <br><br> è®©æˆ‘ä»¬ç»§ç»­å‰è¿›ã€‚ æˆ‘ä»‹ç»äº†è¯¥æ–¹æ³•çš„å…¨éƒ¨å†…å®¹ï¼Œå¹¶å†æ¬¡å»ºè®®æ‚¨è‡ªå·±å‘ç°é”™è¯¯ï¼ˆæˆ–è€…å¯èƒ½æ˜¯é”™è¯¯ï¼‰ã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachPrefix</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IExpression expr, Action&lt;IExpression&gt; action</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// This method must be kept consistent with GetTargets. if (expr is IArrayIndexerExpression) ForEachPrefix(((IArrayIndexerExpression)expr).Target, action); else if (expr is IAddressOutExpression) ForEachPrefix(((IAddressOutExpression)expr).Expression, action); else if (expr is IPropertyReferenceExpression) ForEachPrefix(((IPropertyReferenceExpression)expr).Target, action); else if (expr is IFieldReferenceExpression) { IExpression target = ((IFieldReferenceExpression)expr).Target; if (!(target is IThisReferenceExpression)) ForEachPrefix(target, action); } else if (expr is ICastExpression) ForEachPrefix(((ICastExpression)expr).Expression, action); else if (expr is IPropertyIndexerExpression) ForEachPrefix(((IPropertyIndexerExpression)expr).Target, action); else if (expr is IEventReferenceExpression) ForEachPrefix(((IEventReferenceExpression)expr).Target, action); else if (expr is IUnaryExpression) ForEachPrefix(((IUnaryExpression)expr).Expression, action); else if (expr is IAddressReferenceExpression) ForEachPrefix(((IAddressReferenceExpression)expr).Expression, action); else if (expr is IMethodInvokeExpression) ForEachPrefix(((IMethodInvokeExpression)expr).Method, action); else if (expr is IMethodReferenceExpression) ForEachPrefix(((IMethodReferenceExpression)expr).Target, action); else if (expr is IUnaryExpression) ForEachPrefix(((IUnaryExpression)expr).Expression, action); else if (expr is IAddressReferenceExpression) ForEachPrefix(((IAddressReferenceExpression)expr).Expression, action); else if (expr is IDelegateInvokeExpression) ForEachPrefix(((IDelegateInvokeExpression)expr).Target, action); action(expr); }</span></span></code> </pre> <br> æ‰¾åˆ°äº†å— æˆ‘ä»¬æ­£åœ¨æ£€æŸ¥ï¼ <br><br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3003æ£€æµ‹åˆ°</a>ä½¿ç”¨'ifï¼ˆAï¼‰{...} else ifï¼ˆAï¼‰{...}'æ¨¡å¼ã€‚ å­˜åœ¨é€»è¾‘é”™è¯¯çš„å¯èƒ½æ€§ã€‚ æ£€æŸ¥è¡Œï¼š1719ã€1727ã€‚ç¼–è¯‘å™¨CodeRecognizer.cs 1719 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3003æ£€æµ‹åˆ°</a>ä½¿ç”¨'ifï¼ˆAï¼‰{...} else ifï¼ˆAï¼‰{...}'æ¨¡å¼ã€‚ å­˜åœ¨é€»è¾‘é”™è¯¯çš„å¯èƒ½æ€§ã€‚ æ£€æŸ¥è¡Œï¼š1721ï¼Œ1729ã€‚ç¼–è¯‘å™¨CodeRecognizer.cs 1721 </li></ul><br> ç¨å¾®ç®€åŒ–ä»£ç ä»¥ä½¿é—®é¢˜æ›´åŠ æ˜æ˜¾ã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachPrefix</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IExpression expr, Action&lt;IExpression&gt; action</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) .... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (expr <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> IUnaryExpression) ForEachPrefix(((IUnaryExpression)expr).Expression, action); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (expr <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> IAddressReferenceExpression) ForEachPrefix(((IAddressReferenceExpression)expr).Expression, action); .... <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (expr <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> IUnaryExpression) ForEachPrefix(((IUnaryExpression)expr).Expression, action); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (expr <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> IAddressReferenceExpression) ForEachPrefix(((IAddressReferenceExpression)expr).Expression, action) .... }</code> </pre> <br> æ¡ä»¶è¡¨è¾¾å¼ï¼Œ <i>ç„¶å</i>å¤åˆ¶å¤šä¸ª<i>ifè¯­å¥çš„</i>åˆ†æ”¯ã€‚ ä¹Ÿè®¸è¿™æ®µä»£ç æ˜¯ä½¿ç”¨copy-pasteæ–¹æ³•ç¼–å†™çš„ï¼Œè¿™å°±æ˜¯å‡ºç°é—®é¢˜çš„åŸå› ã€‚ ç°åœ¨äº‹å®è¯æ˜ï¼Œé‡å¤çš„<i>then</i>åˆ†æ”¯å°†æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºï¼š <br><br><ul><li> å¦‚æœæ¡ä»¶è¡¨è¾¾å¼ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œç›¸åº”å¯¹ä¸­çš„ç¬¬ä¸€ä¸ª<i>ifè¯­å¥</i>çš„ä¸»ä½“ï¼› </li><li> å¦‚æœæ¡ä»¶è¡¨è¾¾å¼åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ä¸ºfalseï¼Œåˆ™åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ä¸ºfalseã€‚ </li></ul><br> ç”±äºé‚£ä¹ˆåˆ†æ”¯åŒ…å«ç›¸åŒçš„åŠ¨ä½œï¼Œå› æ­¤ç°åœ¨çœ‹èµ·æ¥åƒæ˜¯ä»¤äººå›°æƒ‘çš„å†—ä½™ä»£ç ã€‚ è¿™å¯èƒ½æ˜¯å¦ä¸€ç§é—®é¢˜-åº”è¯¥æ‰§è¡Œå…¶ä»–æ£€æŸ¥ï¼Œè€Œä¸æ˜¯é‡å¤æ£€æŸ¥ã€‚ <br><br> æˆ‘ä»¬ç»§ç»­ã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Compare</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Pair&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; x, Pair&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; y</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x.First &lt; y.First) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x.Second &gt;= y.Second) { <span class="hljs-comment"><span class="hljs-comment">// y strictly contains x return 1; } else { // No containment - order by left bound return 1; } } else if (x.First &gt; y.First) { if (x.Second &lt;= y.Second) { // x strictly contains y return -1; } else { // No containment - order by left bound return -1; } } .... }</span></span></code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3004'then</a> 'è¯­å¥ç­‰æ•ˆäº'else'è¯­å¥ã€‚ è¿è¡Œæ—¶RegexpTreeBuilder.cs 1080 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3004'then</a> 'è¯­å¥ç­‰æ•ˆäº'else'è¯­å¥ã€‚ è¿è¡Œæ—¶RegexpTreeBuilder.cs 1093 </li></ul><br> è¯¥ä»£ç çœ‹èµ·æ¥éå¸¸å¯ç–‘ï¼Œå› ä¸ºå®ƒåŒ…å«ä¸¤ä¸ªæ¡ä»¶è¯­å¥ï¼Œå®ƒä»¬å…·æœ‰ç›¸åŒçš„<i>then</i>å’Œ<i>else</i>åˆ†æ”¯ä¸»ä½“ã€‚ åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå¯èƒ½å€¼å¾—è¿”å›ä¸åŒçš„å€¼ã€‚ æˆ–è€…ï¼Œå¦‚æœè¿™æ˜¯ä¸€ç§é¢„æœŸçš„è¡Œä¸ºï¼Œåˆ™åˆ é™¤å¤šä½™çš„æ¡ä»¶è¯­å¥å°†å¾ˆæœ‰ç”¨ã€‚ <br><br> æœ‰æœ‰è¶£çš„å‘¨æœŸã€‚ ä¸‹é¢çš„ä¾‹å­ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Set&lt;StochasticityPattern&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IntersectPatterns</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IEnumerable&lt;StochasticityPattern&gt; patterns</span></span></span><span class="hljs-function">)</span></span> { Set&lt;StochasticityPattern&gt; result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Set&lt;StochasticityPattern&gt;(); result.AddRange(patterns); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> changed; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = result.Count; AddIntersections(result); changed = (result.Count != count); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (changed); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3020</a>å¾ªç¯å†…æ— æ¡ä»¶çš„â€œä¸­æ–­â€ã€‚ ç¼–è¯‘å™¨DefaultFactorManager.cs 474 <br><br> ç”±äºæ— æ¡ä»¶çš„<i>break</i>è¯­å¥ï¼Œä»…æ‰§è¡Œäº†å¾ªç¯çš„ä¸€æ¬¡è¿­ä»£ï¼Œå¹¶ä¸”ç”šè‡³æ²¡æœ‰ä½¿ç”¨<i>æ›´æ”¹</i>çš„æ§åˆ¶å˜é‡ã€‚ é€šå¸¸ï¼Œè¯¥ä»£ç çœ‹èµ·æ¥å¾ˆå¥‡æ€ªå’Œå¯ç–‘ã€‚ <br><br> åœ¨å¦ä¸€ä¸ªç±»ä¸­å‘ç°äº†ç›¸åŒçš„æ–¹æ³•ï¼ˆå®Œå…¨ç›¸åŒçš„å‰¯æœ¬ï¼‰ã€‚ ç›¸åº”çš„åˆ†æä»ªè­¦å‘Šï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3020</a>å¾ªç¯å†…æ— æ¡ä»¶çš„â€œä¸­æ–­â€ã€‚  Visualizers.Windows FactorManagerView.cs 350 <br><br> é¡ºä¾¿è¯´ä¸€å¥ï¼Œä¸€ç§æ–¹æ³•åœ¨å¾ªç¯ä¸­é‡åˆ°äº†æ— æ¡ä»¶çš„<i>continue</i>è¯­å¥ï¼ˆåˆ†æå™¨ä½¿ç”¨ç›¸åŒçš„è¯Šæ–­ç¨‹åºå‘ç°äº†è¯¥æ–¹æ³•ï¼‰ï¼Œä½†æ˜¯ä¸Šé¢æœ‰ä¸€æ¡æ³¨é‡Šï¼Œç¡®è®¤è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// TEMPORARY continue;</span></span></code> </pre> <br> æˆ‘è®°å¾—åœ¨æ— æ¡ä»¶<i>ä¸­æ–­</i>å£°æ˜é™„è¿‘æ²¡æœ‰è¿™æ ·çš„è¯„è®ºã€‚ <br><br> è®©æˆ‘ä»¬ç»§ç»­å‰è¿›ã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> DependencyInformation </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetDependencyInfo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { .... IExpression resultIndex = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (resultIndex != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (parameter.IsDefined( <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(SkipIfMatchingIndexIsUniformAttribute), <span class="hljs-literal"><span class="hljs-literal">false</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (resultIndex == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InferCompilerException( parameter.Name + <span class="hljs-string"><span class="hljs-string">" has SkipIfMatchingIndexIsUniformAttribute but "</span></span> + StringUtil.MethodNameToString(method) + <span class="hljs-string"><span class="hljs-string">" has no resultIndex parameter"</span></span>); .... } .... } .... }</code> </pre> <br>  <b>PVS-Studio</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è­¦å‘Š</a> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3022</a>è¡¨è¾¾å¼'resultIndex == null'å§‹ç»ˆä¸ºfalseã€‚ ç¼–è¯‘å™¨FactorManager.cs 382 <br><br> ç«‹å³ï¼Œæˆ‘æ³¨æ„åˆ°åœ¨å£°æ˜å’Œä¸Šé¢çš„éªŒè¯ä¹‹é—´ï¼Œ <i>resultIndex</i>å˜é‡çš„å€¼å¯ä»¥æ›´æ”¹ã€‚ ä½†æ˜¯ï¼Œåœ¨<i>ä¸¤æ¬¡</i>æ£€æŸ¥ä¹‹é—´ï¼Œ <i>resultIndexï¼= Null</i>å’Œ<i>resultIndex == nullï¼Œè¯¥</i>å€¼æ— æ³•æ›´æ”¹ã€‚ å› æ­¤ï¼Œè¡¨è¾¾å¼<i>resultIndex == null</i>çš„ç»“æœå°†å§‹ç»ˆä¸º<i>false</i> ï¼Œè¿™æ„å‘³ç€æ°¸è¿œä¸ä¼šå¼•å‘å¼‚å¸¸ã€‚ <br><br> å¸Œæœ›æ‚¨æœ‰å…´è¶£è‡ªå·±å‘ç°é”™è¯¯ï¼Œæ²¡æœ‰æˆ‘çš„å»ºè®®ï¼Œæ‰¾åˆ°é—®é¢˜ï¼Œä½†æ˜¯ä¸ºäº†ä»¥é˜²ä¸‡ä¸€ï¼Œæˆ‘å»ºè®®æ‚¨å†åšä¸€æ¬¡ã€‚ æ–¹æ³•ä»£ç å¾ˆå°ï¼Œæˆ‘å°†å®Œæ•´ä»‹ç»å®ƒã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Tuple&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function">, </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ComputeMovieGenre</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> feature</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>[] genres = feature.Split(<span class="hljs-string"><span class="hljs-string">'|'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (genres.Length &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; genres.Length &gt; <span class="hljs-number"><span class="hljs-number">3</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format( <span class="hljs-string"><span class="hljs-string">"Movies should have between 1 and 3 genres; given {0}."</span></span>, genres.Length)); } <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-number"><span class="hljs-number">1.0</span></span> / genres.Length; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder( <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format( <span class="hljs-string"><span class="hljs-string">"{0}:{1}"</span></span>, offset + MovieGenreBuckets[genres[<span class="hljs-number"><span class="hljs-number">0</span></span>]], <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; genres.Length; ++i) { result.Append( <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format( <span class="hljs-string"><span class="hljs-string">"|{0}:{1}"</span></span>, offset + MovieGenreBuckets[genres[i].Trim()], <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Tuple&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(MovieGenreBucketCount, result.ToString()); }</code> </pre> <br> è®©æˆ‘ä»¬çœ‹çœ‹è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆã€‚ è¾“å…¥å­—ç¬¦ä¸²ç”±å­—ç¬¦â€œ |â€è§£æã€‚ å¦‚æœæ•°ç»„çš„é•¿åº¦ä¸ç¬¦åˆé¢„æœŸï¼Œåˆ™å¿…é¡»å¼•å‘å¼‚å¸¸ã€‚  <i>ç­‰å¾…ç¬¬äºŒä¸ªæµæ´¾</i> ... <i>Length &lt;1 &amp;&amp; genres.Length&gt; 3</i>å—ï¼Ÿ ç”±äºæ²¡æœ‰æ•°å­—ç«‹å³è½å…¥è¡¨è¾¾å¼<i>[[int.MinValue..1ï¼‰</i>å’Œ<i>ï¼ˆ3..int.MaxValue]</i>æ‰€éœ€çš„å€¼çš„èŒƒå›´å†…ï¼Œæ‰€ä»¥è¡¨è¾¾å¼çš„ç»“æœå°†å§‹ç»ˆä¸º<i>false</i> ã€‚ å› æ­¤ï¼Œæ­¤æ£€æŸ¥ä¸èƒ½é˜²æ­¢ä»»ä½•äº‹æƒ…ï¼Œå¹¶ä¸”ä¸ä¼šå¼•å‘é¢„æœŸçš„å¼‚å¸¸ã€‚ <br><br> è¿™æ­£æ˜¯åˆ†æä»ªæ‰€è­¦å‘Šçš„ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3022</a>è¡¨è¾¾å¼'genres.Length &lt;1 &amp;&amp; genres.Length&gt; 3'å§‹ç»ˆä¸ºå‡ã€‚ å¯èƒ½æ˜¯â€œ ||â€ è¿™é‡Œåº”è¯¥ä½¿ç”¨è¿ç®—ç¬¦ã€‚ è¯„ä¼°å™¨Features.cs 242 <br><br> é‡åˆ°å¯ç–‘è£‚å˜æœ¯ã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateTrueThetaAndPhi</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> expectedRepeatOfTopicInDoc = averageDocLength / numUniqueTopicsPerDoc; .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> cnt = Poisson.Sample(expectedRepeatOfTopicInDoc); .... }</code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3041</a>è¯¥è¡¨è¾¾å¼ä»'int'ç±»å‹éšå¼è½¬æ¢ä¸º'double'ç±»å‹ã€‚ è€ƒè™‘ä½¿ç”¨æ˜¾å¼ç±»å‹è½¬æ¢ä»¥é¿å…ä¸¢å¤±å°æ•°éƒ¨åˆ†ã€‚ ä¾‹å¦‚ï¼šdouble A =ï¼ˆdoubleï¼‰ï¼ˆXï¼‰/ Y;ã€‚  LDA Utilities.cs 74 <br><br> è¿™æ˜¯å¯ç–‘çš„ï¼šæ‰§è¡Œäº†æ•´æ•°é™¤æ³•ï¼ˆå˜é‡<i>averageDocLength</i>å’Œ<i>numUniqueTopicsPerDoc</i>çš„ç±»å‹ä¸º<i>int</i> ï¼‰ï¼Œå¹¶å°†ç»“æœå†™å…¥<i>double</i>ç±»å‹çš„å˜é‡ã€‚ é—®é¢˜æ˜¯ï¼šè¿™æ˜¯ä¸“é—¨å®Œæˆçš„ï¼Œè¿˜æ˜¯ä»ç„¶æš—ç¤ºç€å®æ•°é™¤æ³•ï¼Ÿ å¦‚æœ<i>ExpectedRepeatOfTopicInDoc</i>å˜é‡çš„ç±»å‹ä¸º<i>int</i> ï¼Œè¿™å°†æ¸…é™¤å¯èƒ½çš„é—®é¢˜ã€‚ <br><br> åœ¨å…¶ä»–åœ°æ–¹ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨<i>Poisson.Sample</i>æ–¹æ³•ï¼ˆå…¶å‚æ•°æ˜¯å¯ç–‘å˜é‡<i>ExpectedRepeatOfTopicInDocï¼‰</i> ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numUniqueWordsPerTopic = Poisson.Sample((<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>)averageWordsPerTopic);</code> </pre> <br>  <i>averageWordsPerTopic</i>çš„ç±»å‹ä¸º<i>int</i> ï¼Œå·²åœ¨ä½¿ç”¨ä½ç½®è½¬æ¢ä¸º<i>double</i> ã€‚ <br><br> è¿™æ˜¯å¦ä¸€ä¸ªä½¿ç”¨åœ°ç‚¹ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">double</span></span> expectedRepeatOfWordInTopic = ((<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>)numDocs) * averageDocLength / numUniqueWordsPerTopic; .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> cnt = Poisson.Sample(expectedRepeatOfWordInTopic);</code> </pre> <br> è¯·æ³¨æ„ï¼Œå˜é‡çš„åç§°ä¸åŸå§‹ç¤ºä¾‹ä¸­çš„åç§°ç›¸åŒï¼Œä»…ä½¿ç”¨å®æ•°é™¤æ³•æ¥åˆå§‹åŒ–<i>ExpectedRepeatOfWordInTopic</i> ï¼ˆç”±äº<i>numDocs</i>æ˜¾å¼è½¬æ¢ä¸º<i>double</i> ï¼‰ã€‚ <br><br> é€šå¸¸ï¼Œå€¼å¾—ä¸€æçš„æ˜¯åˆ†æä»ªå‘å‡ºè­¦å‘Šçš„èµ·å§‹ä½ç½®ã€‚ <br><br> ä½†æ˜¯ï¼Œå¯¹äºæ˜¯å¦å€¼å¾—ç¼–è¾‘ä»¥åŠå¦‚ä½•ç¼–è¾‘çš„æ€è€ƒï¼Œè®©ä»£ç çš„ä½œè€…ï¼ˆä»–ä»¬æ›´å¥½åœ°äº†è§£ï¼‰ï¼Œä½†æ˜¯è®©æˆ‘ä»¬èµ°å¾—æ›´è¿œã€‚ åˆ°ä¸‹ä¸€ä¸ªå¯ç–‘å¸ˆã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> NonconjugateGaussian </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BAverageLogarithm</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> v_opt = <span class="hljs-number"><span class="hljs-number">2</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> * (Math.Log(mx * mz / Ex2 / <span class="hljs-number"><span class="hljs-number">2</span></span>) - m); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v_opt != v) { .... } .... }</code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3041</a>è¯¥è¡¨è¾¾å¼ä»'int'ç±»å‹éšå¼è½¬æ¢ä¸º'double'ç±»å‹ã€‚ è€ƒè™‘ä½¿ç”¨æ˜¾å¼ç±»å‹è½¬æ¢ä»¥é¿å…ä¸¢å¤±å°æ•°éƒ¨åˆ†ã€‚ ä¾‹å¦‚ï¼šdouble A =ï¼ˆdoubleï¼‰ï¼ˆXï¼‰/ Y;ã€‚ è¿è¡Œæ—¶ProductExp.cs 137 <br><br> åˆ†æä»ªå†æ¬¡æ£€æµ‹åˆ°æ•´æ•°é™¤æ³•çš„å¯ç–‘è¿ç®—ï¼Œå¦‚ä¸‹  <i>2</i>å’Œ<i>3</i>æ˜¯æ•´æ•°æ•°å­—æ–‡å­—ï¼Œå¹¶ä¸”è¡¨è¾¾å¼2/3çš„ç»“æœå°†ä¸º<i>0</i> ã€‚ ç»“æœï¼Œæ•´ä¸ªè¡¨è¾¾å¼é‡‡ç”¨ä»¥ä¸‹å½¢å¼ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">double</span></span> v_opt = <span class="hljs-number"><span class="hljs-number">0</span></span> * expr;</code> </pre> <br> åŒæ„ï¼Œæœ‰ç‚¹å¥‡æ€ªã€‚ æˆ‘å‡ æ¬¡è¿”å›åˆ°æ­¤è­¦å‘Šï¼Œè¯•å›¾æ‰¾åˆ°æŸç§æ•è·ï¼Œè€Œä¸æ˜¯å°è¯•å°†å…¶æ·»åŠ åˆ°æ–‡ç« ä¸­ã€‚ è¯¥æ–¹æ³•å……æ»¡äº†æ•°å­¦å’Œå„ç§å…¬å¼ï¼ˆå¦ç‡åœ°è¯´ï¼Œæˆ‘å¹¶ä¸æƒ³åˆ†è§£ï¼‰ï¼Œä½†æ‚¨æ°¸è¿œä¸çŸ¥é“ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ æ­¤å¤–ï¼Œæˆ‘å°è¯•å¯¹æœ¬æ–‡ä¸­å†™å‡ºçš„è­¦å‘Šå°½å¯èƒ½åœ°è¡¨ç¤ºæ€€ç–‘ï¼Œå¹¶ä¸”åªæœ‰åœ¨å¯¹è­¦å‘Šè¿›è¡Œäº†æ›´å¥½çš„ç ”ç©¶ä¹‹åï¼Œæˆ‘æ‰å¯¹å®ƒä»¬è¿›è¡Œæè¿°ã€‚ <br><br> ä½†æ˜¯åæ¥æˆ‘æƒ³åˆ°äº†-ä¸ºä»€ä¹ˆæˆ‘éœ€è¦å› å­<i>0</i> ï¼Œå†™ä¸º<i>2/3</i> ï¼Ÿ æ‰€ä»¥è¿™ä¸ªåœ°æ–¹è¿˜æ˜¯å€¼å¾—ä¸€çœ‹çš„ã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WriteAttribute</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TextWriter writer, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> defaultValue, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Func&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; converter = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( defaultValue == <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> == <span class="hljs-literal"><span class="hljs-literal">null</span></span> || <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.Equals(defaultValue)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> stringValue = converter == <span class="hljs-literal"><span class="hljs-literal">null</span></span> ? <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.ToString() : converter(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>); writer.Write(<span class="hljs-string"><span class="hljs-string">$"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{name}</span></span></span><span class="hljs-string">=\"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{stringValue}</span></span></span><span class="hljs-string">\" "</span></span>); }</code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3080</a>å¯èƒ½å–æ¶ˆç©ºå¼•ç”¨ã€‚ è€ƒè™‘æ£€æŸ¥â€œä»·å€¼â€ã€‚ ç¼–è¯‘å™¨WriteHelpers.cs 78 <br><br> æ ¹æ®æ¡ä»¶å¯¹åˆ†æå™¨è¿›è¡Œç›¸å½“åˆç†çš„æ–­è¨€ã€‚ ç©ºå¼•ç”¨çš„è§£å¼•ç”¨å¯ä»¥åœ¨è¡¨è¾¾å¼<i>valueä¸­</i>å‘ç”Ÿã€‚å¦‚æœ<i>value == nullï¼Œ</i>åˆ™<i>ç­‰äº</i> <i>ï¼ˆdefaultValueï¼‰</i> ã€‚ ç”±äºæ­¤è¡¨è¾¾å¼æ˜¯||è¿ç®—ç¬¦çš„å³æ“ä½œæ•°ï¼Œå› æ­¤è¦è®¡ç®—å®ƒï¼Œå·¦æ“ä½œæ•°å¿…é¡»ä¸º<i>false</i> ï¼Œä¸ºæ­¤ï¼Œè‡³å°‘ä¸€ä¸ª<i>defaultValue</i> \ <i>value</i>å˜é‡ä¸ä¸º<i>null</i>å°±è¶³å¤Ÿäº†ã€‚ ç»“æœï¼Œå¦‚æœ<i>defaultValueï¼= Null</i> ï¼Œå¹¶ä¸”<i>value == null</i> ï¼š <br><br><ul><li>  <i>defaultValue == null-</i> &gt; <i>false</i> ; </li><li>  <i>defaultValue == null &amp;&amp; value == null-</i> &gt; <i>false</i> ;  ï¼ˆæœªè¿›è¡Œ<i>ä»·å€¼</i>æ£€æŸ¥ï¼‰ </li><li>  <i>value.Equalsï¼ˆdefaultValueï¼‰</i> -&gt; <i>NullReferenceException</i> ï¼Œå› ä¸º<i>value</i>ä¸º<i>null</i> ã€‚ </li></ul><br> è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç±»ä¼¼çš„æƒ…å†µï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FeatureParameterDistribution</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> GaussianMatrix traitFeatureWeightDistribution, GaussianArray biasFeatureWeightDistribution</span></span></span><span class="hljs-function">)</span></span> { Debug.Assert( (traitFeatureWeightDistribution == <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; biasFeatureWeightDistribution == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) || traitFeatureWeightDistribution.All( w =&gt; w != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; w.Count == biasFeatureWeightDistribution.Count), <span class="hljs-string"><span class="hljs-string">"The provided distributions should be valid and consistent in the number of features."</span></span>); .... }</code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3080</a>å¯èƒ½å–æ¶ˆç©ºå¼•ç”¨ã€‚ è€ƒè™‘æ£€æŸ¥â€œ traitFeatureWeightDistributionâ€ã€‚ æ¨èFeatureParameterDistribution.cs 65 <br><br> æˆ‘ä»¬æ’é™¤äº†å¤šä½™çš„éƒ¨åˆ†ï¼Œä»…ä¿ç•™äº†ç”¨äºè®¡ç®—å¸ƒå°”å€¼çš„é€»è¾‘ï¼Œå› æ­¤æ›´å®¹æ˜“æ‰¾å‡ºï¼š <br><br><pre> <code class="cs hljs">(traitFeatureWeightDistribution == <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; biasFeatureWeightDistribution == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) || traitFeatureWeightDistribution.All( w =&gt; w != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; w.Count == biasFeatureWeightDistribution.Count)</code> </pre> <br> åŒæ ·ï¼Œ||çš„å³æ“ä½œæ•° ä»…å½“å·¦è®¡ç®—çš„ç»“æœä¸º<i>false</i>æ—¶æ‰è¿›è¡Œè®¡ç®—ã€‚ å·¦æ“ä½œæ•°å¯ä»¥ä¸º<i>false</i> ï¼ŒåŒ…æ‹¬<i>traitFeatureWeightDistribution == null</i>å’Œ<i>biasFeatureWeightDistributionï¼= Nullæ—¶</i> ã€‚ ç„¶åï¼Œå°†è®¡ç®—||è¿ç®—ç¬¦çš„å³æ“ä½œæ•°ï¼Œå¹¶è°ƒç”¨<i>traitFeatureWeightDistribution.All</i>å°†<i>å¼•å‘</i> <i>ArgumentNullException</i> ã€‚ <br><br> å¦ä¸€æ®µæœ‰è¶£çš„ä»£ç ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetQuantile</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> probability, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] quantiles</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> n = quantiles.Length; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (quantiles == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(quantiles)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">"quantiles array is empty"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(quantiles)); .... }</code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3095</a>åœ¨éªŒè¯æ˜¯å¦ä¸ºnullä¹‹å‰ï¼Œå·²ä½¿ç”¨â€œåˆ†ä½æ•°â€å¯¹è±¡ã€‚ æ£€æŸ¥è¡Œï¼š91ã€92ã€‚Runtime OuterQuantiles.cs 91 <br><br> è¯·æ³¨æ„ï¼Œ <i>é¦–å…ˆè®¿é—®</i>äº†<i>quantiles.Length</i>å±æ€§ï¼Œç„¶åæ£€æŸ¥äº†<i>åˆ†ä½æ•°æ˜¯å¦</i>ä¸º<i>ç©º</i> ã€‚ ç»“æœï¼Œå¦‚æœ<i>åˆ†ä½æ•°== null</i> ï¼Œåˆ™è¯¥æ–¹æ³•å°†å¼•å‘å¼‚å¸¸ï¼Œåªæ˜¯æœ‰ä¸€ç‚¹ç‚¹é”™è¯¯ï¼Œè€Œåœ¨ä¸éœ€è¦å®ƒçš„åœ°æ–¹ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ æ˜¾ç„¶ï¼Œä»–ä»¬å¼„ä¹±äº†åœ°æ–¹çš„çº¿æ¡ã€‚ <br><br> å¦‚æœæ‚¨è‡ªå·±å·²ç»æˆåŠŸåœ°è§£å†³äº†æ—©æœŸé”™è¯¯çš„æ£€æµ‹é—®é¢˜ï¼Œå»ºè®®æ‚¨å†²æ³¡ä¸€æ¯å’–å•¡å¹¶å°è¯•é‡å¤è¿›è¡Œæ­¤æ“ä½œï¼Œä»¥ä¸‹é¢çš„æ–¹æ³•æŸ¥æ‰¾é”™è¯¯ã€‚ ä¸ºäº†ä½¿å®ƒæ›´æœ‰è¶£ï¼Œæˆ‘å¼•ç”¨äº†è¯¥æ–¹æ³•çš„å…¨éƒ¨ä»£ç ã€‚ <br><br>  ï¼ˆ <a href="">é“¾æ¥åˆ°å®Œæ•´å°ºå¯¸</a> ï¼‰ <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c2c/5ff/2d9/c2c5ff2d99aca64bbda4136acfa4b1d4.png" alt="å›¾ç‰‡2"></p><br><br> å¥½å§ï¼Œå¥½å§ï¼Œé‚£æ˜¯ä¸ªç©ç¬‘ï¼ˆæˆ–è€…ä½ æˆåŠŸäº†å—ï¼Ÿï¼ï¼‰ã€‚ è®©æˆ‘ä»¬ç®€åŒ–ä¸€ä¸‹ä»»åŠ¡ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sample.Precision &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { precisionIsBetween = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; lowerBound = <span class="hljs-number"><span class="hljs-number">-1.0</span></span> / v; upperBound = -mean.Precision; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sample.Precision &lt; -mean.Precision) { precisionIsBetween = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; lowerBound = <span class="hljs-number"><span class="hljs-number">0</span></span>; upperBound = -mean.Precision; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">// in this case, the precision should NOT be in this interval. precisionIsBetween = false; lowerBound = -mean.Precision; lowerBound = -1.0 / v; }</span></span></code> </pre> <br> å˜å¾—æ›´å¥½äº†å—ï¼Ÿ åˆ†æä»ªå¯¹æ­¤ä»£ç å‘å‡ºä»¥ä¸‹è­¦å‘Šï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3008</a> â€œ lowerBoundâ€å˜é‡å·²è¿ç»­ä¸¤æ¬¡åˆ†é…å€¼ã€‚ ä¹Ÿè®¸è¿™æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚ æ£€æŸ¥çº¿ï¼š324ï¼Œ323ã€‚è¿è¡Œæ—¶GaussianOp.cs 324 <br><br> å®é™…ä¸Šï¼Œåœ¨æœ€åä¸€ä¸ª<i>else</i>åˆ†æ”¯ä¸­ï¼Œ <i>lowerBound</i>å˜é‡çš„å€¼è¿ç»­ä¸¤æ¬¡è¢«åˆ†é…ã€‚ æ˜¾ç„¶ï¼ˆæ ¹æ®ä¸Šé¢çš„ä»£ç åˆ¤æ–­ï¼‰ï¼Œå˜é‡<i>upperBound</i>å¿…é¡»åŒ…å«åœ¨å…¶ä¸­ä¸€ä¸ªåˆ†é…ä¸­ã€‚ <br><br> æˆ‘ä»¬ä¼šè¿›ä¸€æ­¥ã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WriteAucMatrix</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> c = <span class="hljs-number"><span class="hljs-number">0</span></span>; c &lt; classLabelCount; c++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> labelWidth = labels[c].Length; columnWidths[c + <span class="hljs-number"><span class="hljs-number">1</span></span>] = labelWidth &gt; MaxLabelWidth ? MaxLabelWidth : labelWidth; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> r = <span class="hljs-number"><span class="hljs-number">0</span></span>; r &lt; classLabelCount; r++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> countWidth = MaxValueWidth; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (countWidth &gt; columnWidths[c + <span class="hljs-number"><span class="hljs-number">1</span></span>]) { columnWidths[c + <span class="hljs-number"><span class="hljs-number">1</span></span>] = countWidth; } } .... }</code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3081</a>åœ¨åµŒå¥—å¾ªç¯å†…æœªä½¿ç”¨â€œ râ€è®¡æ•°å™¨ã€‚ è€ƒè™‘æ£€æŸ¥â€œ câ€è®¡æ•°å™¨çš„ç”¨æ³•ã€‚ å‘½ä»¤è¡ŒClassifierEvaluationModule.cs 459 <br><br> è¯·æ³¨æ„ï¼Œåœ¨æ­¤å¾ªç¯çš„ä¸»ä½“ä¸­æœªä½¿ç”¨å†…éƒ¨å¾ªç¯çš„è®¡æ•°å™¨-r-ã€‚ å› æ­¤ï¼Œäº‹å®è¯æ˜ï¼Œåœ¨å†…å¾ªç¯çš„æ‰€æœ‰è¿­ä»£æœŸé—´ï¼Œå¯¹ç›¸åŒå…ƒç´ æ‰§è¡Œç›¸åŒçš„æ“ä½œ-å› ä¸ºç´¢å¼•è¿˜ä½¿ç”¨å¤–å¾ªç¯çš„è®¡æ•°å™¨ï¼ˆ <i>c</i> ï¼‰ï¼Œè€Œä¸ä½¿ç”¨å†…å¾ªç¯çš„è®¡æ•°å™¨ï¼ˆ <i>r</i> ï¼‰ã€‚ <br><br> è®©æˆ‘ä»¬çœ‹çœ‹è¿˜æœ‰ä»€ä¹ˆæœ‰è¶£çš„åœ°æ–¹ã€‚ <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RegexpFormattingSettings</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> putOptionalInSquareBrackets, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> showAnyElementAsQuestionMark, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ignoreElementDistributionDetails, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> truncationLength, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> escapeCharacters, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> useLazyQuantifier</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.PutOptionalInSquareBrackets = putOptionalInSquareBrackets; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ShowAnyElementAsQuestionMark = showAnyElementAsQuestionMark; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.IgnoreElementDistributionDetails = ignoreElementDistributionDetails; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TruncationLength = truncationLength; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.EscapeCharacters = escapeCharacters; }</code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3117</a>æœªä½¿ç”¨æ„é€ å‡½æ•°å‚æ•°'useLazyQuantifier'ã€‚ è¿è¡Œæ—¶RegexpFormattingSettings.cs 38 <br><br> æ„é€ å‡½æ•°ä¸ä½¿ç”¨ä¸€ä¸ªå‚æ•°<i>useLazyQuantifier</i> ã€‚ å¯¹äºåœ¨ç±»<i>UseLazyQuantifierä¸­</i>å®šä¹‰äº†å…·æœ‰ç›¸åº”åç§°å’Œç±»å‹çš„å±æ€§è¿™ä¸€äº‹å®çš„èƒŒæ™¯ä¸‹ï¼Œè¿™å°¤å…¶å¯ç–‘ã€‚ æ˜¾ç„¶ï¼Œä»–ä»¬å¿˜è®°äº†é€šè¿‡ç›¸åº”çš„å‚æ•°å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚ <br><br> é‡åˆ°äº†å‡ ä¸ªæ½œåœ¨çš„å±é™©äº‹ä»¶å¤„ç†ç¨‹åºã€‚ ä¸‹é¢æ˜¯å…¶ä¸­ä¹‹ä¸€çš„ç¤ºä¾‹ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RecommenderRun</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> EventHandler Started; .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Report that the run has been started if (this.Started != null) { this.Started(this, EventArgs.Empty); } .... } .... }</span></span></code> </pre> <br>  <b>PVS-Studioè­¦å‘Š</b> ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3083</a>å¯¹äº‹ä»¶'Started'çš„ä¸å®‰å…¨è°ƒç”¨ï¼Œå¯èƒ½ä¼šå‘ç”ŸNullReferenceExceptionã€‚ è¯·è€ƒè™‘åœ¨è°ƒç”¨äº‹ä»¶ä¹‹å‰å°†äº‹ä»¶åˆ†é…ç»™å±€éƒ¨å˜é‡ã€‚ è¯„ä¼°ç¨‹åºRecommenderRun.cs 115 <br><br> äº‹å®æ˜¯ï¼Œåœ¨æ£€æŸ¥<i>null</i>ä¸ç­‰å¼å’Œè°ƒç”¨å¤„ç†ç¨‹åºä¹‹é—´ï¼Œå¯ä»¥å–æ¶ˆé¢„è®¢äº‹ä»¶ï¼Œå¹¶ä¸”å¦‚æœåœ¨æ£€æŸ¥<i>null</i>å’Œå¤„ç†ç¨‹åºè°ƒç”¨ä¹‹é—´è¯¥äº‹ä»¶å°šæ— è®¢é˜…è€…ï¼Œåˆ™å°†<i>æŠ›å‡ºNullReferenceException</i> ã€‚ ä¾‹å¦‚ï¼Œè¦é¿å…æ­¤ç±»é—®é¢˜ï¼Œæ‚¨å¯ä»¥å°†æŒ‡å‘å§”æ‰˜é“¾çš„é“¾æ¥ä¿å­˜åœ¨å±€éƒ¨å˜é‡ä¸­ï¼Œæˆ–ä½¿ç”¨â€œï¼Ÿâ€è¿ç®—ç¬¦ã€‚ è°ƒç”¨å¤„ç†ç¨‹åºã€‚ <br><br> é™¤äº†ä¸Šé¢çš„ä»£ç ç‰‡æ®µå¤–ï¼Œè¿˜æœ‰35ä¸ªè¿™æ ·çš„åœ°æ–¹ã€‚ <br><br> é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œè¿˜æ»¡è¶³äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3024çš„</a> <b>785æ¡</b>è­¦å‘Šã€‚ å½“ä½¿ç”¨è¿ç®—ç¬¦'ï¼='æˆ–'=='æ¯”è¾ƒå®æ•°æ—¶ï¼Œä¼šå‘å‡ºè­¦å‘Š<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V3024</a> ã€‚ æˆ‘ä¸ä¼šåœ¨è¿™é‡Œè¯¦ç»†è¯´æ˜ä¸ºä»€ä¹ˆè¿™ç§æ¯”è¾ƒå¹¶ä¸æ€»æ˜¯æ­£ç¡®çš„-æœ‰å…³æ­¤é—®é¢˜çš„æ›´å¤šä¿¡æ¯å†™åœ¨æ–‡æ¡£ä¸­ï¼Œè¿˜æœ‰æŒ‡å‘<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">StackOverflow</a>çš„é“¾æ¥ï¼ˆå°±æ˜¯è¿™æ ·ï¼‰ã€‚ <br><br> è€ƒè™‘åˆ°ç»å¸¸æ»¡è¶³å…¬å¼å’Œè®¡ç®—çš„è¦æ±‚ï¼Œè¿™äº›è­¦å‘Šä¹Ÿå¾ˆé‡è¦ï¼Œå°½ç®¡å®ƒä»¬è¢«å¸¦åˆ°äº†ç¬¬3çº§ï¼ˆå› ä¸ºå®ƒä»¬åœ¨æ‰€æœ‰é¡¹ç›®ä¸­éƒ½ç›¸å»ç”šè¿œï¼‰ã€‚ <br><br> å¦‚æœæ‚¨ç¡®å®šè¿™äº›è­¦å‘Šæ— å…³ç´§è¦ï¼Œåˆ™åªéœ€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å•å‡»ä¸€ä¸‹</a>å³å¯å°†å…¶åˆ é™¤ï¼Œä»è€Œå‡å°‘äº†åˆ†æä»ªæ“ä½œçš„æ€»æ•°ã€‚ <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/47e/77b/72d/47e77b72dbb716dadbd1623513150819.png"></div><br><br><h2> ç»“è®º </h2><br> ä¸çŸ¥ä½•æ•…ï¼Œæˆ‘å¾ˆé•¿ä¸€æ®µæ—¶é—´éƒ½æ²¡æœ‰å†™å…³äºæ£€æŸ¥é¡¹ç›®çš„æ–‡ç« äº†ï¼Œå†æ¬¡è§¦æ‘¸è¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ˆæ„‰å¿«çš„ã€‚ å¸Œæœ›æ‚¨ä¹Ÿä»æœ¬æ–‡ä¸­å­¦åˆ°äº†ä¸€äº›æ–°çš„æˆ–æœ‰ç”¨çš„çŸ¥è¯†ï¼Œæˆ–è€…è‡³å°‘æœ‰å…´è¶£åœ°é˜…è¯»äº†ä¸€ä¸‹ã€‚ <br><br> æˆ‘å¸Œæœ›å¼€å‘äººå‘˜å°½æ—©çº æ­£é—®é¢˜åŒºåŸŸï¼Œå¹¶æé†’æ‚¨çŠ¯é”™è¯¯æ˜¯æ­£å¸¸ç°è±¡ï¼Œä½†æˆ‘ä»¬æ˜¯äººã€‚ ä¸ºæ­¤ï¼Œéœ€è¦ä½¿ç”¨è¯¸å¦‚é™æ€åˆ†æä»ªä¹‹ç±»çš„å…¶ä»–å·¥å…·æ¥æŸ¥æ‰¾æŸäººé”™è¿‡çš„ä¸œè¥¿ï¼Œå¯¹å—ï¼Ÿ æ— è®ºå¦‚ä½•-ç¥é¡¹ç›®è¿›å±•é¡ºåˆ©ï¼Œå¹¶æ„Ÿè°¢æ‚¨çš„å·¥ä½œï¼ <br><br> è¯·è®°ä½ï¼Œé™æ€åˆ†æä»ªçš„æœ€å¤§å¥½å¤„æ˜¯å¯ä»¥<i>æ­£å¸¸ä½¿ç”¨</i> ã€‚ <br><br> ç¥ä¸€åˆ‡é¡ºåˆ©ï¼ <br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br> å¦‚æœæ‚¨æƒ³ä¸è®²è‹±è¯­çš„è¯»è€…åˆ†äº«è¿™ç¯‡æ–‡ç« ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é“¾æ¥ï¼šSergey Vasilievã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Infer.NETä»£ç ä¸­å­˜åœ¨ä»€ä¹ˆé”™è¯¯ï¼Ÿ</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN429578/">https://habr.com/ru/post/zh-CN429578/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN429564/index.html">â€œæˆ‘åªæ˜¯ä¸€ä¸ªé¡¹ç›®çˆ±å¥½è€…å’ŒDartè¯­è¨€çš„ä½¿ç”¨è€…â€-è‘—ångä¹¦çš„ä½œè€…Ari Lernerè®¿è°ˆ</a></li>
<li><a href="../zh-CN429568/index.html">ä½¿ç”¨Zextras Backupå‡å°‘æœåŠ¡å™¨å´©æºƒæœŸé—´çš„Zimbraåœæœºæ—¶é—´</a></li>
<li><a href="../zh-CN429570/index.html">æ•™ç‰¹å·¥ç©å¸¦è¿‡æ»¤å™¨çš„é©¬é‡Œå¥¥èµ›è½¦</a></li>
<li><a href="../zh-CN429572/index.html">ä½¿ç”¨Devicelock DLPæ‹¦æˆªSkypeä¸­çš„ç§äººå¯¹è¯</a></li>
<li><a href="../zh-CN429574/index.html">CheckMatesçš„åˆå­¦è€…è¯¾ç¨‹å…è´¹æ£€æŸ¥ç«™</a></li>
<li><a href="../zh-CN429580/index.html">iOSä¸­çš„å¾®äº¤äº’ã€‚ Yandexè®²åº§</a></li>
<li><a href="../zh-CN429582/index.html">è®¡ç®—æœºè´Ÿè½½æ¨¡æ‹ŸæŒ‡ç¤ºå™¨</a></li>
<li><a href="../zh-CN429586/index.html">å¦‚ä½•ç¡®å®šåœ¨äº¤æ˜“æ‰€è¿›è¡Œäº¤æ˜“çš„æœ€ä½³æ—¶é—´</a></li>
<li><a href="../zh-CN429588/index.html">å…³äºRTOSçš„å…¨éƒ¨çœŸç›¸ã€‚ ç¬¬20æ¡ ä¿¡å·é‡ï¼šè¾…åŠ©æœåŠ¡å’Œæ•°æ®ç»“æ„</a></li>
<li><a href="../zh-CN429590/index.html">åŸºäºSOLRçš„å‘¼å«ä¸­å¿ƒçš„è¯­éŸ³åˆ†æ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>