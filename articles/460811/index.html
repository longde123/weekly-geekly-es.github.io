<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè£ üë∞üèº ‚ò∏Ô∏è Componentes comunes de diferentes equipos. Informe Yandex üìü ‚ñ´Ô∏è ü¶ã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Crear y mantener componentes comunes es un proceso en el que muchos equipos deben participar. El jefe del servicio de componentes comunes de Yandex, V...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Componentes comunes de diferentes equipos. Informe Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/460811/"> Crear y mantener componentes comunes es un proceso en el que muchos equipos deben participar.  El jefe del servicio de componentes comunes de Yandex, Vladimir Grinenko <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">tadatuta,</a> explic√≥ c√≥mo su desarrollo super√≥ al equipo dedicado de Lego, c√≥mo hicimos un mono-repositorio basado en GitHub usando Lerna, y configuramos lanzamientos de Canary con los servicios implementados directamente en CI, qu√© se necesitaba y qu√© a√∫n por ser. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/zv/o-/0b/zvo-0b7pajia8d3pnm4rbpm72hw.jpeg"></a> <br><br>  "Me alegro de darles la bienvenida a todos".  Mi nombre es Vladimir, hago cosas comunes en las interfaces de Yandex.  Quiero hablar sobre ellos  Probablemente, si no utiliza nuestros servicios muy profundamente, puede tener una pregunta: ¬øqu√© estamos escribiendo todos?  ¬øQu√© hay para componer? <br><br><a name="habracut"></a><img src="https://habrastorage.org/webt/o3/ip/sx/o3ipsxj2wxuhbnfeq23rfk0ucuc.jpeg"><br><br><img src="https://habrastorage.org/webt/wq/kx/y0/wqkxy0_ta9qyzi3vnbryhxqpwy4.jpeg"><br><br>  Hay una lista de respuestas en los resultados de b√∫squeda, a veces hay una columna a la derecha.  Cada uno de ustedes probablemente lo superar√° en un d√≠a.  Si recuerda que hay diferentes navegadores, etc., agregamos otro d√≠a para corregir errores, y luego todos lo solucionar√°n. <br><br><img src="https://habrastorage.org/webt/gc/f5/i8/gcf5i8mqymopdqairky09odo00k.jpeg"><br><br>  Alguien recordar√° que todav√≠a existe una interfaz de este tipo.  Teniendo en cuenta todas las peque√±as cosas que puede darle otra semana e ir a por ello.  Y Dima nos acaba de decir que somos tantos que necesitamos nuestra propia escuela.  Y toda esta gente inventa p√°ginas todo el tiempo.  Todos los d√≠as vienen a trabajar y escriben, ¬øte imaginas?  Claramente hay algo m√°s. <br><br><img src="https://habrastorage.org/webt/iv/3d/et/iv3detsvcvujieb_-ho8nqmvvuu.jpeg"><br><br>  De hecho, los servicios en Yandex, de hecho, son m√°s.  Y hay incluso un poco m√°s que en esta diapositiva.  Detr√°s de cada uno de estos enlaces hay un mont√≥n de interfaces diferentes con gran variabilidad.  Son para diferentes dispositivos, en diferentes idiomas.  A veces trabajan incluso en autom√≥viles y otras cosas extra√±as. <br><br><img src="https://habrastorage.org/webt/0w/mz/98/0wmz98pcjwflkkhflu4i_vwgtjo.jpeg"><br><br>  Yandex hoy no es solo la web, no solo diferentes productos con almacenes, entregas y todo eso.  Coches de paseo amarillo.  Y no solo lo que puedes comer, y no solo pedazos de hierro.  Y no solo todo tipo de inteligencias autom√°ticas.  Pero todo lo anterior est√° unido por el hecho de que para cada elemento se necesitan interfaces.  A menudo, muy rico.  Yandex es cientos de diferentes servicios enormes.  Estamos constantemente creando algo nuevo todos los d√≠as.  Tenemos miles de empleados, incluidos cientos de desarrolladores front-end y desarrolladores de interfaces.  Estas personas trabajan en diferentes oficinas, viven en diferentes zonas horarias, los nuevos tipos constantemente vienen a trabajar. <br><br>  Al mismo tiempo, nosotros, en la medida en que tengamos suficiente fuerza, intentamos que sea mon√≥tono y uniforme para los usuarios. <br><br><img src="https://habrastorage.org/webt/dz/vn/uz/dzvnuzxrodwkt2oi0tbemkn4lne.gif"><br><br>  Esta es la b√∫squeda de documentos en Internet.  Pero si cambiamos a la emisi√≥n de im√°genes, el encabezado coincide, a pesar del hecho de que este es un repositorio separado, que participa en un equipo completamente separado, posiblemente incluso en otras tecnolog√≠as.  Parece que hay algo complicado?  Bueno, hicieron un sombrero dos veces, como algo simple.  Cada bot√≥n en la tapa tambi√©n tiene su propio mundo interior rico y separado.  Algunas ventanas emergentes aparecen aqu√≠, algo tambi√©n puede ser empujado all√≠.  Todo esto est√° traducido a diferentes idiomas, funciona en diferentes plataformas.  Y aqu√≠ pasamos de las im√°genes, por ejemplo, al video, y este es nuevamente un nuevo servicio, otro equipo.  Otro repositorio de nuevo.  Pero sigue siendo el mismo sombrero, aunque hay diferencias.  Y todo esto debe dejarse uniforme. <br><br>  ¬øQu√© vale, cambiando as√≠ en las diapositivas, para asegurarse de que no haya pasado nada en el p√≠xel?  Tratamos de evitar que esto suceda. <br><br><img src="https://habrastorage.org/webt/_u/9b/2r/_u9b2ralx_p1qvev6q_k1jsr7ys.jpeg"><br><br>  Para mostrar un poco m√°s la escala, tom√© una captura de pantalla del repositorio, que almacena solo el c√≥digo front-end para los nuevos navegadores, solo la salida de documentos, sin im√°genes y videos.  Hay decenas de miles de confirmaciones y casi 400 contribuyentes.  Esto es solo en dise√±o, solo un proyecto.  Aqu√≠ hay una lista de enlaces azules que est√°s acostumbrado a ver. <br><br>  Sergey Berezhnoy, mi l√≠der, ama mucho esta historia, ya que como nos hemos reunido tanto en la compa√±√≠a, quiero que nuestra interacci√≥n funcione como si estuviera en JavaScript: uno m√°s uno es m√°s que dos. <br><br><img src="https://habrastorage.org/webt/qq/kn/-q/qqkn-qr0bqavfyeum_ocif9gycs.jpeg"><br><br>  Y estamos tratando de obtener todo lo que podamos de la interacci√≥n.  Lo primero que viene a la mente en tales condiciones es la reutilizaci√≥n.  Aqu√≠, por ejemplo, un fragmento de video en un servicio en los resultados de b√∫squeda de un video.  Esta es una especie de imagen con una firma y algunos otros elementos diferentes. <br><br><img src="https://habrastorage.org/webt/j5/rj/pr/j5rjprkjwcplnephmm-dxciv1l4.jpeg"><br><br>  Si busca m√°s, aqu√≠ est√° la emisi√≥n habitual de documentos.  Pero aqu√≠, tambi√©n, hay exactamente el mismo fragmento. <br><br><img src="https://habrastorage.org/webt/cr/3k/t4/cr3kt4p_iys_uplw7yi7ltsntn4.jpeg"><br><br>  O, digamos, hay un servicio Yandex.Air separado, que consiste en fragmentos poco menos que completamente. <br><br><img src="https://habrastorage.org/webt/qt/91/ii/qt91iipkwlqktjjqpnwhmfxapzs.jpeg"><br><br>  O, digamos, el fragmento de video en el notificador, que se encuentra en diferentes p√°ginas del portal. <br><br><img src="https://habrastorage.org/webt/az/w9/2i/azw92ih1mulgzijr1gdgbenx8k0.jpeg"><br><br>  O aqu√≠ hay un fragmento de video cuando lo agrega a sus Favoritos y luego lo mira en sus Colecciones. <br><br><img src="https://habrastorage.org/webt/ub/ge/yd/ubgeydeso0lwyy4t67ejiz7uh6w.jpeg"><br><br>  Suena como?  Obviamente, parece.  ¬øY qu√©?  Si realmente dejamos que los servicios integren f√°cilmente nuestros componentes terminados en otros servicios del portal, entonces, obviamente, este servicio, debido al hecho de que los usuarios pueden interactuar con sus datos en diferentes sitios, obtendr√° m√°s usuarios.  Esto es genial  Los usuarios tambi√©n se beneficiar√°n de esto.  Ver√°n las mismas cosas por igual.  Se comportar√°n como siempre.  Es decir, uno no tiene que adivinar una y otra vez lo que el dise√±ador ten√≠a en mente aqu√≠ y c√≥mo interactuar con √©l. <br><br>  Y finalmente, la compa√±√≠a obtendr√° ahorros obvios de esto.  Adem√°s, simplemente parece: qu√© hay para inventar una vista previa de video y alg√∫n tipo de firma / De hecho, para obtenerlo as√≠, debes realizar muchos experimentos diferentes, probar diferentes hip√≥tesis, elegir tama√±os, colores, sangr√≠as.  Agregue algunos elementos, tal vez, luego elimine, porque no volaron.  Y lo que sucedi√≥, lo que realmente funciona, es el resultado de un proceso muy largo.  Y si cada vez en cada lugar nuevo para hacerlo de nuevo, este es un gran esfuerzo. <br><br>  Ahora imagina.  Digamos que tenemos algo que funciona bien.  En todas partes, en todas partes lo implementaron, y luego realizaron un nuevo experimento y se dieron cuenta de lo que podr√≠a mejorarse.  Y nuevamente, tenemos que repetir toda esta cadena de implementaci√≥n.  Caro <br><br><img src="https://habrastorage.org/webt/ex/8c/1_/ex8c1_tlclflyej-krijb8m20fk.jpeg"><br><br>  Ok, parece obvio reutilizar bien.  Pero ahora tenemos que resolver una serie de problemas nuevos.  Debe comprender d√≥nde almacenar dicho c√≥digo nuevo.  Por un lado, parece ser l√≥gico.  Aqu√≠ tenemos un fragmento de video, est√° hecho por el equipo de video, tienen un repositorio con su proyecto.  Probablemente deber√≠a ponerse all√≠.  Pero, ¬øc√≥mo distribuirlo a otros repositorios de todos los dem√°s?  ¬øY si otros chicos quieren aportar algo propio a este fragmento?  De nuevo no est√° claro. <br><br>  Es necesario versionarlo de alguna manera.  No puedes cambiar nada, y as√≠, voila, todo se despliega de repente.  Algo necesita ser probado.  Adem√°s, por ejemplo, probamos esto en el servicio del video en s√≠.  Pero, ¬øqu√© pasa si, cuando se integra a otro servicio, algo se rompe?  De nuevo no est√° claro. <br><br>  Al final, es necesario garantizar de alguna manera la entrega lo suficientemente r√°pida a diferentes servicios, porque ser√° extra√±o si tenemos en alg√∫n lugar la versi√≥n anterior, en alg√∫n lugar nuevo.  El usuario parece hacer clic en lo mismo, y hay un comportamiento diferente.  Y tenemos que proporcionar de alguna manera la oportunidad para que los desarrolladores de diferentes equipos realicen cambios en dicho c√≥digo com√∫n.  Necesitamos ense√±arles de alguna manera c√≥mo usarlo todo.  Tenemos un largo camino para hacer que la reutilizaci√≥n de interfaces sea conveniente. <br><br><img src="https://habrastorage.org/webt/gu/a8/en/gua8ensfq4qkfjd9hwgrf3dpeko.jpeg"><br><br>  Comenzamos a tiempo inmemorial, de vuelta en SVN, y era como una l√°mpara y conveniente: un pap√° con HTML, al igual que en Bootstrap.  Te lo copias a ti mismo.  Al lado de pap√° con estilos, alg√∫n tipo de JS all√≠, que luego sab√≠a c√≥mo mostrar / ocultar algo simplemente.  Y eso es todo. <br><br><img src="https://habrastorage.org/webt/tg/xu/sx/tgxusxowszje9vwtdvxf4yy4_os.jpeg"><br><br>  De alguna manera, la lista de componentes se ve√≠a as√≠.  Aqu√≠ se resalta el b-domeg, responsable de la autorizaci√≥n.  Quiz√°s a√∫n recuerde, en Yandex, de hecho, hab√≠a un formulario para iniciar sesi√≥n y contrase√±a, con un techo.  Llamamos a la "casa", aunque insinu√≥ el sobre del correo, porque generalmente ingresaban el correo. <br><br>  Luego se nos ocurri√≥ una metodolog√≠a completa para poder soportar interfaces comunes. <br><br><img src="https://habrastorage.org/webt/tu/7h/08/tu7h08reemfp5mrp8rib5a3ib9q.jpeg"><br><br>  La propia biblioteca dentro de la empresa ha adquirido su propio sitio web con una b√∫squeda y cualquier taxonom√≠a. <br><br><img src="https://habrastorage.org/webt/fv/pa/jn/fvpajnegfm13z-q1fzb1edglvn0.jpeg"><br><br>  El repositorio ahora se ve as√≠.  Ya ves, tambi√©n casi 10 mil commits y m√°s de 100 contribuyentes. <br><br><img src="https://habrastorage.org/webt/h2/9r/ur/h29ruri7jkqnzacvu9dedijcjgu.jpeg"><br><br>  Pero esta es la carpeta de la casa b en la nueva reencarnaci√≥n.  Ahora ella se ve as√≠.  Ya hay m√°s carpetas propias dentro de media pantalla. <br><br><img src="https://habrastorage.org/webt/lu/u9/62/luu962u_j91qtinyg3gn-1-efwg.jpeg"><br><br>  Y as√≠ el sitio se ve hoy. <br><br><img src="https://habrastorage.org/webt/xj/ko/g-/xjkog-2xy19nuayhuliti4urgoy.jpeg"><br><br>  Como resultado, la biblioteca compartida se utiliza en m√°s de 360 ‚Äã‚Äãrepositorios dentro de Yandex.  Y hay diferentes implementaciones, un ciclo de lanzamiento depurado, etc. Parece que, aqu√≠, tenemos una biblioteca com√∫n, ahora la usamos en todas partes, y todo es genial.  El problema de introducir cosas comunes en cualquier lugar resuelto.  En realidad no <br><br><img src="https://habrastorage.org/webt/rj/e5/0_/rje50_8ba6axvribhiogqzzxer8.jpeg"><br><br>  Intentar resolver el problema de la reutilizaci√≥n en la etapa en la que ya tiene un c√≥digo listo es demasiado tarde.  Esto significa que desde el momento en que el dise√±ador dibuj√≥ el dise√±o de los servicios, los distribuy√≥ a los servicios y, en particular, al equipo que se ocupa de componentes comunes, ha pasado alg√∫n tiempo.  Lo m√°s probable es que en este momento resulte que en cada servicio por separado, o al menos en varios de ellos, este mismo elemento de interfaz tambi√©n est√© compuesto.  Se inventaron de alguna manera a su manera. <br><br>  E incluso si una soluci√≥n general apareci√≥ m√°s tarde en la biblioteca compartida, seguir√° siendo as√≠ que ahora tendr√° que volver a implementar todo lo que logr√≥ completar en cada servicio.  Y esto es nuevamente un problema.  Es muy dif√≠cil de justificar.  Aqu√≠ est√° el equipo.  Ella tiene sus propios objetivos, todo ya est√° funcionando bien.  Y decimos esas cosas: mira, finalmente tenemos una cosita com√∫n, t√≥mala.  Pero el equipo es as√≠: ya tenemos suficiente trabajo.  ¬øPor qu√© lo necesitamos?  Adem√°s, ¬øde repente algo no nos conviene all√≠?  No queremos <br><br>  El segundo gran problema es, de hecho, la difusi√≥n de informaci√≥n sobre cu√°les son estos nuevos componentes geniales.  Solo porque hay tantos desarrolladores, est√°n ocupados con sus tareas diarias.  Y tienen la oportunidad de sentarse y estudiar lo que est√° sucediendo all√≠ en el √°rea com√∫n, sin importar lo que signifique, de hecho, tampoco. <br><br>  Y el mayor problema es que es fundamentalmente imposible resolver los problemas comunes a todos los servicios con un solo equipo dedicado.  Es decir, cuando tenemos un equipo que se ocupa del video y crea su propio fragmento con video, est√° claro que estaremos de acuerdo con ellos y haremos este fragmento en alguna biblioteca centralizada.  Pero hay directamente miles de tales ejemplos en diferentes servicios.  Y aqu√≠ ciertamente no hay manos suficientes.  Por lo tanto, la √∫nica soluci√≥n es que todos deben tratar con componentes generales todo el tiempo. <br><br><img src="https://habrastorage.org/webt/y7/ay/9p/y7ay9pqgaxomogw-xz4x7hdlgb4.jpeg"><br><br>  Y debe comenzar, curiosamente, no con los desarrolladores de interfaces, sino con los dise√±adores.  Ellos tambi√©n entienden eso.  Tenemos varios intentos simult√°neos en el interior para que este proceso converja.  Los dise√±adores hacen sistemas de dise√±o.  Realmente espero que tarde o temprano sea posible reducirlos a un solo sistema com√∫n que tenga en cuenta todas las necesidades. <br><br><img src="https://habrastorage.org/webt/be/vd/yd/bevdyd-kpziztd5yxc6qp98xgqy.jpeg"><br><br>  Ahora hay varios de ellos.  Sorprendentemente, las tareas all√≠ son exactamente las mismas: acelerar el proceso de desarrollo, resolver el problema de consistencia, no reinventar la rueda y no duplicar el trabajo realizado. <br><br><img src="https://habrastorage.org/webt/0z/xd/ci/0zxdcimwdz-s1d8oaiu3dinhxce.jpeg"><br><br>  Y una forma de resolver el problema de la comunicaci√≥n de informaci√≥n es permitir que los desarrolladores conozcan a otros equipos, incluido uno que se ocupa de componentes de interfaz comunes.  Lo resolvemos de este lado por el hecho de que tenemos un bootcamp, que, cuando aparece un desarrollador en Yandex, primero le permite ir a diferentes equipos durante ocho semanas, ver c√≥mo funciona y luego elegir d√≥nde funcionar√°. .  Pero durante este tiempo sus horizontes se expandir√°n significativamente.  Ser√° guiado donde sea eso. <br><br>  Hablamos de cosas comunes.  Veamos ahora c√≥mo se ve todo m√°s cerca del proceso de desarrollo.  Digamos que tenemos una biblioteca com√∫n llamada Lego.  Y queremos implementar alguna caracter√≠stica nueva o hacer alg√∫n tipo de revisi√≥n.  Arreglamos el c√≥digo y lanzamos la versi√≥n. <br><br>  Necesitamos publicar esta versi√≥n en npm, y luego ir al repositorio de alg√∫n proyecto donde se usa la biblioteca e implementar esta versi√≥n.  Lo m√°s probable es que esto arregle alg√∫n n√∫mero en package.json, reinicie el ensamblaje.  Quiz√°s incluso regenere el bloqueo de paquete, cree una solicitud de extracci√≥n y vea c√≥mo pasan las pruebas.  ¬øY qu√© veremos? <br><br><img src="https://habrastorage.org/webt/ri/ft/dz/riftdzizz3nhvcxu4ivi1gtnzxy.jpeg"><br><br>  Lo m√°s probable es que veamos que se ha producido un error.  Porque es muy dif√≠cil predecir todas las formas de usar el componente en diferentes servicios.  Y si eso sucedi√≥, entonces, ¬øcu√°l es nuestra salida?  Entonces nos dimos cuenta de que no encajaba.  Seguimos rehaciendo.  Regresamos al repositorio con una biblioteca compartida, reparamos el error, lanzamos la nueva versi√≥n, la enviamos a npm, implementamos, ejecutamos las pruebas y ¬øqu√© es?  Lo m√°s probable es que vuelva a ocurrir un error. <br><br>  Y esto sigue siendo bueno cuando lo implementamos en un servicio, y all√≠ todo se rompi√≥ de inmediato.  Fue mucho m√°s triste cuando hicimos todo esto, lo implementamos en diez servicios diferentes.  Nada se rompi√≥ all√≠.  Ya hemos ido a preparar un batido, o lo que sea necesario.  En este momento, la versi√≥n se est√° introduciendo en el und√©cimo proyecto o en el 25.  Y hay un error.  Regresamos a lo largo de toda la cadena, hacemos un parche y lo implementamos en los 20 servicios anteriores.  Adem√°s, este parche puede explotar en uno de los anteriores.  Bueno y as√≠ sucesivamente.  Divi√©rtete <br><br>  Parece que la √∫nica salida es escribir mucho c√≥digo muy r√°pidamente.  Luego, tarde o temprano, si corremos muy, muy r√°pido, lo m√°s probable es que logremos tener tiempo para lanzar a la producci√≥n una versi√≥n en la que todav√≠a no haya errores.  Pero luego aparecer√° una nueva caracter√≠stica, y nada nos salvar√°. <br><br>  Esta bien  De hecho, el esquema puede ser algo como lo siguiente.  La automatizaci√≥n nos ayudar√°.  Se trata de esto, en general, de toda la historia, de hecho.  Se nos ocurri√≥ la idea de que se puede construir un repositorio con una biblioteca com√∫n de acuerdo con el esquema de mono-repositorio.  Probablemente te hayas encontrado, ahora hay muchos proyectos de este tipo, especialmente los de infraestructura.  Todo tipo de Babel, y cosas as√≠, viven como mono-repositorios cuando hay muchos paquetes npm diferentes dentro.  Pueden estar de alguna manera conectados entre s√≠.  Y se gestionan, por ejemplo, a trav√©s de Lerna, por lo que es conveniente publicar todo esto, dadas las dependencias. <br><br>  Exactamente de acuerdo con este esquema, es posible organizar un proyecto donde todo lo com√∫n se almacena para toda la empresa.  Puede haber una biblioteca, que se dedica a un equipo separado.  Y, incluso, puede haber paquetes que cada servicio individual desarrolla, pero que quiere compartir con otros. <br><br><img src="https://habrastorage.org/webt/qb/tx/ck/qbtxckwz4xeknxszl3zkfftpkjo.jpeg"><br><br>  Entonces el circuito se ve as√≠.  El comienzo no es diferente.  De una forma u otra, tenemos que hacer cambios en el c√≥digo com√∫n.  Y luego, con la ayuda de la automatizaci√≥n, de un solo golpe queremos ejecutar pruebas no solo al lado de este c√≥digo, sino de inmediato en todos los proyectos en los que este c√≥digo com√∫n est√° incrustado.  Y ver su resultado agregado. <br><br>  Luego, incluso si ocurri√≥ un error all√≠, a√∫n no hemos logrado lanzar ninguna versi√≥n, no la hemos publicado en ning√∫n minuto, no la hemos implementado espec√≠ficamente con nuestras manos, no hemos hecho todos estos esfuerzos adicionales.  Vimos un error, lo solucionamos de inmediato localmente, volvimos a ejecutar pruebas generales, y todo eso est√° en producci√≥n. <br><br><img src="https://habrastorage.org/webt/lo/8-/7d/lo8-7d5hg38lvxpsswq05l2vipm.jpeg"><br><br>  ¬øC√≥mo se ve en la pr√°ctica?  Aqu√≠ hay una solicitud de extracci√≥n con una soluci√≥n.  Aqu√≠ puede ver que la automatizaci√≥n solicit√≥ los revisores necesarios para verificar que todo est√© bien en el c√≥digo.  De hecho, los revisores vinieron y acordaron que todo estaba bien.  Y en este momento, el desarrollador simplemente escribe un comando especial / canario, directamente en la solicitud de extracci√≥n. <br><br>  Llega un robot y dice: est√° bien, cre√© una tarea para que ocurra el pr√≥ximo milagro.  El milagro es que ahora se ha lanzado una versi√≥n canaria con estos cambios y se ha implementado autom√°ticamente en todos los repositorios donde se usa este componente.  Las pruebas autom√°ticas se lanzaron all√≠, como en este repositorio.  Aqu√≠ puede ver que se han lanzado un mont√≥n de controles. <br><br>  Detr√°s de cada prueba puede haber otras cien pruebas diferentes.  Pero es importante que, adem√°s de las pruebas locales que podr√≠amos escribir en el componente por separado, tambi√©n lanzamos pruebas para cada proyecto donde se implement√≥.  Las pruebas de integraci√≥n ya se han lanzado all√≠: verificamos que este componente funcione normalmente en el entorno en el que est√° concebido en el servicio.  Esto ya nos garantiza que no hemos olvidado nada, no le hemos revelado nada a nadie.  Si todo est√° bien aqu√≠, entonces podemos lanzar una versi√≥n de forma segura.  Y si algo est√° mal aqu√≠, lo arreglaremos aqu√≠. <br><br>  Parece que esto deber√≠a ayudarnos.  Si su empresa tiene algo similar, ver√° que hay partes que podr√≠a reutilizar, pero por ahora debe reorganizarlas porque no hay automatizaci√≥n, le recomiendo que busque una soluci√≥n similar. <br><br><img src="https://habrastorage.org/webt/lu/vp/jp/luvpjp0a5tof1v56lwn7uq_nwiq.jpeg"><br><br>  Que conseguimos  El monorepository general en el que se reconstruyen las linters.  Es decir, todos escriben el c√≥digo de la misma manera, tiene todo tipo de pruebas.  Cualquier equipo puede venir, poner su componente y probarlo con las pruebas de la unidad JS, cubrirlo con capturas de pantalla, etc. Todo ya estar√° listo para usar.  La revisi√≥n inteligente del c√≥digo que mencion√©.  Gracias a las ricas herramientas internas, es realmente inteligente aqu√≠. <br><br>  ¬øEl desarrollador est√° de vacaciones ahora?  Llamarlo a una solicitud de extracci√≥n no tiene sentido; el sistema lo tendr√° en cuenta.  ¬øEst√° enfermo el desarrollador?  El sistema tambi√©n tendr√° esto en cuenta.  Si no se cumplen ambas condiciones y el desarrollador parece ser libre, recibir√° una notificaci√≥n en uno de sus mensajeros de su elecci√≥n.  Y √©l es as√≠: no, ahora estoy ocupado con algo urgente o en una reuni√≥n.  √âl puede venir all√≠ y simplemente escribir el comando / busy.  El sistema comprender√° autom√°ticamente que debe asignar el siguiente de la lista. <br><br>  El siguiente paso es publicar la misma versi√≥n canaria.  Es decir, con cualquier cambio de c√≥digo, necesitamos lanzar un paquete de servicios que podamos verificar en diferentes servicios.  A continuaci√≥n, debemos ejecutar pruebas al implementar en todos estos servicios.  Y cuando todo se uni√≥, lanza los lanzamientos. <br><br>  Si un cambio afecta a alguna est√°tica que debe cargarse desde la CDN, debe publicarla autom√°ticamente por separado.     .    , ,  ,  ,  .     ,     , ,  changelog     - . <br><br>  ,       ,     ,        ,   .       ,   ,      . <br><br>   ,        .       . , ,  :          ,       ?  .         ,            .      .     , . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/460811/">https://habr.com/ru/post/460811/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460799/index.html">Solicitud de pago de API de navegador est√°ndar</a></li>
<li><a href="../460801/index.html">27 incre√≠bles herramientas VS Code para desarrolladores modernos de JavaScript</a></li>
<li><a href="../460803/index.html">Lectura para el verano: libros para t√©cnicos</a></li>
<li><a href="../460805/index.html">C√≥mo transferir datos entre microcontroladores a 100 Mbps</a></li>
<li><a href="../460807/index.html">Mida siete veces, una vez que implemente la herramienta de BI</a></li>
<li><a href="../460813/index.html">C√≥mo usar diagramas de Voronoi para controlar la IA</a></li>
<li><a href="../460815/index.html">Inventar la biblioteca vusb</a></li>
<li><a href="../460819/index.html">WorldSkills: Revisi√≥n del participante de la Olimpiada.</a></li>
<li><a href="../460821/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 307 (15-21 de julio)</a></li>
<li><a href="../460823/index.html">Eventos digitales en Mosc√∫ del 22 al 28 de julio.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>