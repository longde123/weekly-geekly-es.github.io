<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>游닐 游낵 游녷 PhotoScan: c칩mo tomar fotos sin deslumbramiento 游꼠 游 游</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El 19 de abril de 2017, lanzamos una actualizaci칩n de PhotoScan , nuestra aplicaci칩n m칩vil para iOS y Android, que le permite digitalizar fotos en pap...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PhotoScan: c칩mo tomar fotos sin deslumbramiento</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/403389/">  El 19 de abril de 2017, lanzamos una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">actualizaci칩n de PhotoScan</a> , nuestra aplicaci칩n m칩vil para iOS y Android, que le permite digitalizar fotos en papel con solo un tel칠fono inteligente.  Una de las caracter칤sticas clave de PhotoScan es la capacidad de eliminar el resplandor de las fotos (a menudo se imprimen en papel brillante y altamente reflectante), as칤 como de p치ginas de 치lbumes de pl치stico o fotos debajo del vidrio.  Para hacer esto, hemos desarrollado una combinaci칩n 칰nica de visi칩n por computadora y tecnolog칤a de procesamiento de im치genes que puede combinar con precisi칩n y combinar varias im치genes ligeramente diferentes de la foto y separar el resaltado de la imagen en la foto. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/121/b1e/f1c/121b1ef1c5199b8c5022e1375717252a.png" alt="imagen"><br><a name="habracut"></a><br>  A partir de una imagen, es muy dif칤cil determinar autom치ticamente qu칠 partes de la imagen son la foto original y cu치les son las m치s destacadas.  Adem치s, el resplandor puede iluminar 치reas de la foto, por lo que ser치 imposible restaurar esa parte que est치 oculta debajo del resplandor.  Pero si toma varias fotos de la foto moviendo la c치mara, el destello de la lente cambia: se mueve a trav칠s de diferentes partes de la foto.  En la mayor칤a de los casos, cada p칤xel individual no ser치 acampanado al menos en una de las im치genes.  Aunque ninguna de las im치genes carecer치 de reflejos, podemos combinar varias im치genes de la fotograf칤a impresa tomada en diferentes 치ngulos y, por lo tanto, eliminar el reflejo.  La dificultad es que las im치genes deben estar alineadas con mucha precisi칩n para que se combinen correctamente, y este procesamiento debe realizarse en el tel칠fono inteligente lo suficientemente r치pido como para obtener el efecto de un resultado casi instant치neo. <br><br><div class="spoiler">  <b class="spoiler_title">Texto oculto</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/a34/502/009/a34502009b1dfac0607f1de8f5d2f35b.gif"></div></div><br><br>  Nuestra tecnolog칤a se inspir칩 en nuestro trabajo anterior publicado en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SIGGRAPH 2015</a> , al que llamamos " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">fotograf칤a libre de obstrucciones</a> ".  Utiliza principios similares para eliminar diversas interferencias del campo de visi칩n.  Pero el algoritmo original se bas칩 en un modelo generativo en el que se evaluaron el movimiento y la apariencia de la escena principal y la interferencia.  Las capacidades de este modelo son excelentes, y es capaz de eliminar una variedad de interferencias, pero es demasiado costoso desde el punto de vista computacional para usarse en tel칠fonos inteligentes.  Por lo tanto, hemos desarrollado un modelo simplificado que se refiere a la llamarada como un tipo de anomal칤a e intenta reconocer la imagen debajo de ella.  Aunque el modelo est치 simplificado, sigue siendo una tarea muy dif칤cil: el reconocimiento debe ser preciso y confiable. <br><br><h2>  Como funciona </h2><br>  Comenzamos con un conjunto de instant치neas de la fotograf칤a tomada por el usuario que movi칩 la c치mara.  La primera instant치nea - "marco de referencia" - determina el aspecto final deseado de la instant치nea.  Se recomienda al usuario que tome cuatro fotos adicionales.  En cada cuadro, determinamos los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">puntos clave</a> (calculamos las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">propiedades de ORB</a> en los 치ngulos determinados usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el algoritmo de Harris</a> ) y los usamos para determinar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">hom칩grafos</a> que mapean cada cuadro posterior al de referencia. <br><br><div class="spoiler">  <b class="spoiler_title">Texto oculto</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/03b/7be/25b/03b7be25b83e8ece727ce2e2eb4d27b7.gif"></div></div><br><br>  La tecnolog칤a parece sencilla, pero tiene un inconveniente: las hom칩grafos solo pueden comparar im치genes planas.  Pero las fotograf칤as en papel a menudo no son planas (como en el ejemplo anterior).  Utilizamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">flujo 칩ptico</a> , una representaci칩n fundamental del movimiento en la visi칩n por computadora, estableciendo una correspondencia p칤xel por p칤xel entre dos im치genes, corrigiendo las desviaciones del plano.  Comenzamos con marcos alineados usando homograf칤a y contamos los "campos de flujo" para enderezar las im치genes y ajustarlas a칰n m치s.  Tenga en cuenta que en el ejemplo a continuaci칩n, las esquinas de la foto izquierda se "mueven" un poco despu칠s de definir los marcos utilizando solo la homograf칤a.  A la derecha, puede ver c칩mo se alinea mejor la foto despu칠s de aplicar el flujo 칩ptico. <br><br><div class="spoiler">  <b class="spoiler_title">Texto oculto</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/827/b49/85e/827b4985e1fdd1a18f41bed01ff463ab.gif"></div></div><br><br>  La diferencia no es muy sorprendente, pero afecta significativamente el resultado final.  Preste atenci칩n a c칩mo las peque침as discrepancias se manifiestan en forma de fragmentos de imagen duplicados, y c칩mo estos defectos se eliminan mediante el refinamiento adicional mediante transmisiones. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/427/96a/5cb/42796a5cbf0548ca409434771022a16f.png"><br><br>  Y en este caso, la dificultad radicaba en hacer que el algoritmo de flujo 칩ptico que funciona inicialmente lentamente funcione m치s r치pido en un tel칠fono inteligente.  En lugar del c치lculo tradicional del flujo para cada p칤xel (el n칰mero de vectores es igual al n칰mero de p칤xeles), construimos el campo de flujo utilizando un n칰mero menor de puntos de control y registramos el movimiento de cada p칤xel en la imagen en funci칩n del movimiento de los puntos de control.  Es decir, dividimos cada imagen en celdas disjuntas que forman una red de grano grueso, y representamos la corriente de p칤xeles en una celda separada como una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">combinaci칩n bilineal de la</a> corriente y las cuatro esquinas de la celda que la contiene. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d4c/c27/97a/d4cc2797ae9627e9ee166be11e8b12d9.png"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/79d/9b7/f51/79d9b7f515784254e406361bba5ca10f.png"><br><br>  Luego queda resolver un problema m치s simple, ya que el n칰mero de vectores de flujo ahora es igual al n칰mero de puntos de la red, que generalmente son mucho m치s peque침os que los p칤xeles.  Este proceso es similar al <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">procesamiento de im치genes divididas</a> .  춰Con este algoritmo, pudimos reducir el tiempo de c치lculo del flujo 칩ptico en el tel칠fono Pixel unas 40 veces! <br><br><div class="spoiler">  <b class="spoiler_title">Texto oculto</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/f7c/ac0/316/f7cac0316cb25966db02f2dce50a2edf.gif"></div></div><br><br>  Finalmente, para crear la imagen final sin deslumbramiento, para cada parte del marco tomamos los valores de p칤xel y calculamos el "m칤nimo suave" para encontrar la m치s oscura de las opciones.  Espec칤ficamente, calculamos el brillo m칤nimo esperado de los fotogramas disponibles y asignamos pesos m치s peque침os a los p칤xeles que est치n m치s cerca de los bordes curvos de las im치genes.  Utilizamos este m칠todo en lugar de calcular directamente el m칤nimo debido al hecho de que los mismos p칤xeles en diferentes cuadros pueden tener un brillo diferente.  El m칤nimo p칤xel por p칤xel puede dar lugar a la aparici칩n de juntas visibles debido a cambios bruscos de intensidad en los l칤mites de las im치genes superpuestas. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/16a/95a/311/16a95a31193a215c9617c9f24e0d5a7a.png"><br><br>  El algoritmo puede funcionar en varias condiciones de escaneo: fotos mate y brillante, fotos en 치lbumes y sin ellas, portadas de revistas. <br><br><div class="spoiler">  <b class="spoiler_title">Texto oculto</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/5c3/032/dd9/5c3032dd96cc68aea7f240a4dbacb299.gif"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/437/4b3/be6/4374b3be6aac2e6a16f086f16c62ec6d.gif"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/4ba/124/d96/4ba124d9610ece18f12265b466d602fb.gif"><br></div></div><br><br>  Para calcular el resultado final, nuestro equipo ha desarrollado un m칠todo que determina autom치ticamente los l칤mites de la imagen y lo lleva a una vista rectangular.  Debido a la distorsi칩n de la perspectiva, una foto rectangular escaneada generalmente se convierte en un cuadril치tero no rectangular.  El m칠todo analiza las se침ales de imagen, el color y los bordes para averiguar d칩nde van los bordes exactos de la foto original, y luego aplica transformaciones geom칠tricas para enderezar la imagen.  El resultado es una versi칩n digital de alta calidad de fotograf칤a en papel sin reflejos. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7b9/5ee/532/7b95ee532f40a5dcbf73e12052c8606e.png"><br><br>  En general, est치n sucediendo muchas cosas debajo del cap칩, 춰y todo esto funciona casi instant치neamente en su tel칠fono!  Puede probar PhotoScan descargando la versi칩n de la aplicaci칩n para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Android</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">iOS</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es403389/">https://habr.com/ru/post/es403389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es403377/index.html">Revisi칩n del tel칠fono DECT IP Yealink W56P</a></li>
<li><a href="../es403379/index.html">El desarrollador de tarjetas de cr칠dito inteligentes de Plastc obtiene pedidos anticipados de $ 9 millones y se anuncia quiebra</a></li>
<li><a href="../es403381/index.html">M치s all치 del lugar de trabajo: 쯗e qu칠 otra forma puede ser 칰til un freelance de coworking?</a></li>
<li><a href="../es403383/index.html">Filosof칤a de la informaci칩n, Cap칤tulo 3. Razones</a></li>
<li><a href="../es403385/index.html">Electr칩nica para juegos de rol en 2016</a></li>
<li><a href="../es403393/index.html">Veh칤culos no tripulados ense침an trucos de manejo en Grand Theft Auto V</a></li>
<li><a href="../es403397/index.html">Por alguna raz칩n, beber refrescos se correlaciona con el volumen cerebral.</a></li>
<li><a href="../es403399/index.html">Los empleados de YouTube buscan odio en el video. AI observa y aprende</a></li>
<li><a href="../es403401/index.html">Gran Breta침a vivi칩 un d칤a sin carb칩n como fuente de electricidad por primera vez desde 1882</a></li>
<li><a href="../es403403/index.html">Cebolla deja de recolectar donaciones para el microordenador Omega 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>