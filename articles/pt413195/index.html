<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📱 👩🏼‍🎨 🔥 Pensamento funcional. Parte 6 👩🏻‍🤝‍👨🏽 👨🏽‍🏭 🧑🏻‍🤝‍🧑🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuamos nossa série de artigos sobre programação funcional em F #. Hoje falamos sobre associatividade e composição de funções, além de comparar a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pensamento funcional. Parte 6</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/413195/"><p>  Continuamos nossa série de artigos sobre programação funcional em F #.  Hoje falamos sobre associatividade e composição de funções, além de comparar a composição e o pipeline.  Olhe embaixo do gato! </p><br><p><img src="https://habrastorage.org/webt/7j/cd/7x/7jcd7xzdvnhpyxuebjvbzb1uiqs.jpeg"></p><br><ul><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Primeira parte</a></strong> </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Segunda parte</a></strong> </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Terceira parte</a></strong> </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Quarta parte</a></strong> </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Quinta parte</a></strong> <a name="habracut"></a></li></ul><br><h1>  Associatividade e composição de funções </h1><br><h4>  Associatividade da função </h4><br><p>  Suponha que exista uma cadeia de funções escritas em uma linha.  Em que ordem eles serão combinados? </p><br><p>  Por exemplo, o que essa função significa? </p><br><pre><code class="plaintext hljs">let F xyz = xyz</code> </pre> <br><p>  Isso significa que a função <code>y</code> deve ser aplicada ao argumento <code>z</code> e o resultado deve ser passado para <code>x</code> ?  Ou seja: </p><br><pre> <code class="plaintext hljs">let F xyz = x (yz)</code> </pre> <br><p>  Ou a função <code>x</code> aplicada ao argumento <code>y</code> , após o qual a função obtida como resultado será avaliada com o argumento <code>z</code> ?  Ou seja: </p><br><pre> <code class="plaintext hljs">let F xyz = (xy) z</code> </pre> <br><ol><li>  A segunda opção está correta. </li><li>  O uso de funções <em>deixou associatividade</em> . </li><li>  <code>xyz</code> significa o mesmo que <code>(xy) z</code> . </li><li>  E <code>wxyz</code> é igual a <code>((wx) y) z</code> . </li><li>  Isso não deve parecer incrível. </li><li>  Já vimos como o aplicativo parcial funciona. </li><li>  Se falarmos de <code>x</code> como uma função com dois parâmetros, <code>(xy) z</code> é o resultado de uma aplicação parcial do primeiro parâmetro, seguido pela passagem do argumento <code>z</code> para a função intermediária. </li></ol><br><p>  Se você precisar de associatividade correta, poderá usar parênteses ou tubo.  As três entradas a seguir são equivalentes: </p><br><pre> <code class="plaintext hljs">let F xyz = x (yz) let F xyz = yz |&gt; x //    let F xyz = x &lt;| yz //   </code> </pre> <br><p>  Como exercício, tente exibir as assinaturas dessas funções sem computação real. </p><br><h4>  Função Composição </h4><br><p>  Mencionamos a composição de funções várias vezes, mas o que esse termo realmente significa?  Parece assustador à primeira vista, mas, de fato, tudo é bastante simples. </p><br><p>  Digamos que temos uma função "f" que mapeia o tipo "T1" para o tipo "T2".  Também temos uma função "g" que converte o tipo "T2" em "T3".  Em seguida, podemos conectar a saída de "f" e a entrada de "g", criando uma nova função que converte o tipo "T1" no tipo "T3". </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/45c/9ff/278/45c9ff278d8f76d6cd63d668dd0ce3fc.png"></p><br><p>  Por exemplo: </p><br><pre> <code class="plaintext hljs">let f (x:int) = float x * 3.0 // f  -  int-&gt;float let g (x:float) = x &gt; 4.0 // g  -  float-&gt;bool</code> </pre> <br><p>  Podemos criar uma nova função "h" que pega a saída de "f" e a usa como entrada para "g". </p><br><pre> <code class="plaintext hljs">let h (x:int) = let y = f(x) g(y) //    g</code> </pre> <br><p>  Um pouco mais compacto: </p><br><pre> <code class="plaintext hljs">let h (x:int) = g ( f(x) ) // h    int-&gt;bool // h 1 h 2</code> </pre> <br><p>  <em>Até agora, tão simples.</em>  Isso é interessante, podemos definir uma nova função "compor", que pega as funções "f" e "g" e as combina sem nem mesmo saber suas assinaturas. </p><br><pre> <code class="plaintext hljs">let compose fgx = g ( f(x) )</code> </pre> <br><p>  Após a execução, você pode ver que o compilador decidiu corretamente que " <code>f</code> " é uma função do tipo genérico <code>'a</code> para o tipo genérico <code>'b</code> e ' <code>g</code> ' é limitado à entrada do tipo <code>'b</code> : </p><br><pre> <code class="plaintext hljs">val compose : ('a -&gt; 'b) -&gt; ('b -&gt; 'c) -&gt; 'a -&gt; 'c</code> </pre> <br><p>  (Observe que uma composição generalizada de operações é possível apenas porque cada função possui exatamente um parâmetro de entrada e uma saída. Essa abordagem não é possível em linguagens não funcionais.) </p><br><p>  Como podemos ver, essa definição é usada para o operador " <code>&gt;&gt;</code> ". </p><br><pre> <code class="plaintext hljs">let (&gt;&gt;) fgx = g ( f(x) )</code> </pre> <br><p>  Graças a esta definição, novas funções podem ser construídas com base nas funções existentes usando composição. </p><br><pre> <code class="plaintext hljs">let add1 x = x + 1 let times2 x = x * 2 let add1Times2 x = (&gt;&gt;) add1 times2 x // add1Times2 3</code> </pre> <br><p>  A gravação explícita é muito complicada.  Mas você pode facilitar o seu uso. </p><br><p>  Primeiramente, você pode se livrar do parâmetro <code>x</code> , e a composição retornará um aplicativo parcial. </p><br><pre> <code class="plaintext hljs">let add1Times2 = (&gt;&gt;) add1 times2</code> </pre> <br><p>  Em segundo lugar, porque  <code>&gt;&gt;</code> é um operador binário, você pode colocá-lo no centro. </p><br><pre> <code class="plaintext hljs">let add1Times2 = add1 &gt;&gt; times2</code> </pre> <br><p>  Usar composição torna o código mais limpo e claro. </p><br><pre> <code class="plaintext hljs">let add1 x = x + 1 let times2 x = x * 2 //   let add1Times2 x = times2(add1 x) //   let add1Times2 = add1 &gt;&gt; times2</code> </pre> <br><h4>  Usando o operador de composição na prática </h4><br><p>  O operador de composição (como todos os operadores infix) tem uma prioridade mais baixa que as funções regulares.  Isso significa que as funções usadas na composição podem ter argumentos sem usar parênteses. </p><br><p>  Por exemplo, se as funções "adicionar" e "horários" tiverem parâmetros, elas poderão ser transmitidas durante a composição. </p><br><pre> <code class="plaintext hljs">let add nx = x + n let times nx = x * n let add1Times2 = add 1 &gt;&gt; times 2 let add5Times3 = add 5 &gt;&gt; times 3 // add5Times3 1</code> </pre> <br><p>  Desde que as entradas e saídas correspondentes das funções correspondam, as funções podem usar qualquer valor.  Por exemplo, considere o seguinte código que executa uma função duas vezes: </p><br><pre> <code class="plaintext hljs">let twice f = f &gt;&gt; f // ('a -&gt; 'a) -&gt; ('a -&gt; 'a)</code> </pre> <br><p>  Observe que o compilador inferiu que " <code>f</code> " aceita e retorna valores do mesmo tipo. </p><br><p>  Agora considere a função " <code>+</code> ".  Como vimos anteriormente, a entrada é <code>int</code> , mas a saída é realmente <code>(int-&gt;int)</code> .  Assim, " <code>+</code> " pode ser usado em " <code>twice</code> ".  Portanto, você pode escrever: </p><br><pre> <code class="plaintext hljs">let add1 = (+) 1 //  (int -&gt; int) let add1Twice = twice add1 //    (int -&gt; int) // add1Twice 9</code> </pre> <br><p>  Por outro lado, você não pode escrever: </p><br><pre> <code class="plaintext hljs">let addThenMultiply = (+) &gt;&gt; (*)</code> </pre> <br><p>  Como a entrada "*" deve ser uma função <code>int</code> , não uma função <code>int-&gt;int</code> (que é a saída da adição). </p><br><p>  Mas se você corrigir a primeira função para que ela retorne apenas <code>int</code> , tudo funcionará: </p><br><pre> <code class="plaintext hljs">let add1ThenMultiply = (+) 1 &gt;&gt; (*) // (+) 1   (int -&gt; int)   'int' // add1ThenMultiply 2 7</code> </pre> <br><p>  A composição também pode ser executada na ordem inversa por meio de " <code>&lt;&lt;</code> ", se necessário: </p><br><pre> <code class="plaintext hljs">let times2Add1 = add 1 &lt;&lt; times 2 times2Add1 3</code> </pre> <br><p>  A composição reversa é usada principalmente para tornar o código mais parecido com o inglês ("semelhante ao inglês").  Por exemplo: </p><br><pre> <code class="plaintext hljs">let myList = [] myList |&gt; List.isEmpty |&gt; not //   myList |&gt; (not &lt;&lt; List.isEmpty) //   </code> </pre> <br><h4>  Composição vs.  transportador </h4><br><p>  Você pode ficar confuso com a pequena diferença entre a composição e o transportador, como  eles podem parecer muito semelhantes. </p><br><p>  Primeiro, observe a definição de um pipeline: </p><br><pre> <code class="plaintext hljs">let (|&gt;) xf = fx</code> </pre> <br><p>  Tudo isso permite que você coloque os argumentos das funções antes e não depois.  Isso é tudo.  Se a função tiver vários parâmetros, a entrada deverá ser o último parâmetro (no conjunto atual de parâmetros, e de maneira nenhuma).  Um exemplo visto anteriormente: </p><br><pre> <code class="plaintext hljs">let doSomething xyz = x+y+z doSomething 1 2 3 //      3 |&gt; doSomething 1 2 //     </code> </pre> <br><p>  A composição não é a mesma e não pode substituir um tubo.  No exemplo a seguir, mesmo o número 3 não é uma função, portanto, a "saída" não pode ser passada para <code>doSomething</code> : </p><br><pre> <code class="plaintext hljs">3 &gt;&gt; doSomething 1 2 //  // f &gt;&gt; g      g(f(x))     : doSomething 1 2 ( 3(x) ) //   3   ! // error FS0001: This expression was expected to have type 'a-&gt;'b // but here has type int</code> </pre> <br><p>  O compilador reclama que o valor "3" deve ser um tipo de função <code>'a-&gt;'b</code> . </p><br><p>  Compare isso com a definição de composição, que usa 3 argumentos, onde os dois primeiros devem ser funções. </p><br><pre> <code class="plaintext hljs">let (&gt;&gt;) fgx = g ( f(x) ) let add nx = x + n let times nx = x * n let add1Times2 = add 1 &gt;&gt; times 2</code> </pre> <br><p>  Tentativas de usar o pipeline em vez da composição resultarão em um erro de compilação.  No exemplo a seguir, " <code>add 1</code> " é a função (parcial) <code>int-&gt;int</code> , que não pode ser usada como o segundo parâmetro para " <code>times 2</code> ". </p><br><pre> <code class="plaintext hljs">let add1Times2 = add 1 |&gt; times 2 //  // x |&gt; f      f(x)     : let add1Times2 = times 2 (add 1) // add1   'int' // error FS0001: Type mismatch. 'int -&gt; int' does not match 'int'</code> </pre> <br><p>  O compilador reclama que " <code>times 2</code> " deve aceitar o parâmetro <code>int-&gt;int</code> , ou seja,  ser uma função <code>(int-&gt;int)-&gt;'a</code> . </p><br><h1>  Recursos Adicionais </h1><br><p>  Existem muitos tutoriais para F #, incluindo materiais para quem vem com experiência em C # ou Java.  Os links a seguir podem ser úteis à medida que você avança no F #: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia F #</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">F # para diversão e lucro</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">F # Wiki</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aprenda X em Y Minutos: F #</a> </li></ul><br><p>  Várias outras maneiras <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">de começar a aprender F #</a> também <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">são</a> descritas. </p><br><p>  Finalmente, a comunidade F # é muito amigável para iniciantes.  Há um bate-papo muito ativo no Slack, suportado pela F # Software Foundation, com salas para iniciantes nas quais você <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pode participar livremente</a> .  É altamente recomendável que você faça isso! </p><br><p>  Não se esqueça de visitar o site da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">comunidade de língua russa F #</a> !  Se você tiver alguma dúvida sobre o aprendizado de um idioma, teremos prazer em discuti-los nas salas de bate-papo: </p><br><ul><li>  room <code>#ru_general</code> no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">F # Software Foundation Slack Chat</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">chat em telegrama</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conversar em gitter</a> </li><li>  room #en_general no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">F # Software Foundation Slack Chat</a> </li></ul><br><h2>  Sobre autores de tradução </h2><br><p>  Traduzido por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em>@kleidemos</em></a> <br><img src="https://habrastorage.org/getpro/habr/post_images/f95/c6d/92c/f95c6d92c5b1126b093792a43955aa43.png" width="56" height="56">  As mudanças de tradução e editoriais foram feitas pelos esforços da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">comunidade de desenvolvedores de F # de língua russa</a> .  Agradecemos também a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em>@schvepsss</em></a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em>@shwars</em></a> pela preparação deste artigo para publicação. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt413195/">https://habr.com/ru/post/pt413195/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt413183/index.html">Memória persistente Optane DC - Optane no formato DIMM</a></li>
<li><a href="../pt413185/index.html">Jogo sujo, ou como os organizadores do sorteio nos enganam</a></li>
<li><a href="../pt413187/index.html">Entrevista com Ryan Dahl, criador do Node.js</a></li>
<li><a href="../pt413189/index.html">Coleção de sombras css Box-shadows.css</a></li>
<li><a href="../pt413193/index.html">Compra de ferro contra a nuvem: como contar</a></li>
<li><a href="../pt413199/index.html">Falhas de futurologistas. Ideias de filmes que não se materializaram</a></li>
<li><a href="../pt413203/index.html">OIC e segurança: análise do concurso de inteligência competitiva em dias positivos de hackers</a></li>
<li><a href="../pt413205/index.html">Cabeçalhos HTTP necessários</a></li>
<li><a href="../pt413207/index.html">PGCon 2018: fotos, slides, impressões</a></li>
<li><a href="../pt413211/index.html">Analisando o aplicativo Avito iOS: Ask Me Anything</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>