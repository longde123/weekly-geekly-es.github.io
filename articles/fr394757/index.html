<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçú ü§• üì≠ D√©veloppement d'appareils IoT √† l'aide de Bluetooth LE üèîÔ∏è üå≥ üöÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La technologie Bluetooth brise √©nergiquement sa place dans l'Internet des objets. Une partie de cette technologie, appel√©e Bluetooth LE  ( Bluetooth L...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©veloppement d'appareils IoT √† l'aide de Bluetooth LE</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/394757/"><a href=""><div style="text-align:center;"><img width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/054/28f/426/05428f4260bd302f20e5a277359c591e.png"></div></a> <br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
technologie </font><b><font style="vertical-align: inherit;">Bluetooth</font></b><font style="vertical-align: inherit;"> brise √©nergiquement sa place dans l'Internet des objets. Une partie de cette technologie, appel√©e </font></font><font color="#C00000"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth </font></font></b><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LE</font></font></font> </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Low Energy</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , alias </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Smart</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , alias </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) se positionne directement comme un choix id√©al pour l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internet des objets</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Difficile d'√™tre en d√©saccord. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sait d√©j√† comment acheminer le trafic Internet, d√©terminer les coordonn√©es dans les pi√®ces, connecter les contr√¥leurs logiques industriels programmables, prendre en charge les </font><font style="vertical-align: inherit;">serveurs </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WEB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , connecter les balances, les thermom√®tres, les moniteurs de fr√©quence cardiaque, les oxym√®tres, les tensiom√®tres et bien d'autres choses. C </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ble</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De nombreux probl√®mes inh√©rents aux solutions </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wi-Fi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont automatiquement r√©solus </font><font style="vertical-align: inherit;">. Peu de temps avant le moment o√π les appareils avec </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peuvent √™tre organis√©s dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©seau MESH</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , en utilisant une technologie similaire √† </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZigBee</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cela se refl√®te d√©j√† dans la sp√©cification </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth 5.0.</font></font></b><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par cons√©quent, lors du d√©veloppement de mon </font><font style="vertical-align: inherit;">module </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , j'ai pr√©f√©r√© inconditionnellement </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plut√¥t que d'utiliser le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wi-Fi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Je consid√©rerai la </font><font style="vertical-align: inherit;">partie p√©riph√©rique du r√©seau </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisant le</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> module de d√©bogage </font><b><font style="vertical-align: inherit;">K66BLEZ</font></b><font style="vertical-align: inherit;"> comme </font><b><font style="vertical-align: inherit;">exemple</font></b><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, je voudrais d√©crire mon itin√©raire de d√©veloppement, de l'ignorance presque compl√®te du </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† la production en s√©rie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La familiarit√© avec le module </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K66BLEZ1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a commenc√© dans ces articles:</font></font><br>
<blockquote><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">     .  </a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">     .  FatFs</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">     .  </a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le module </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K66BLEZ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilise la puce </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">MKW40Z160</font></a><font style="vertical-align: inherit;"> ( </font><b><i><font style="vertical-align: inherit;">48 MHz Cortex-M0 +, 160 Ko Flash, 20 Ko RAM</font></i></b><font style="vertical-align: inherit;"> ) produite par </font><b><font style="vertical-align: inherit;">NXP</font></b><font style="vertical-align: inherit;"> comme √©metteur-r√©cepteur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La puce est int√©ressante en ce que, avec BLE, elle peut √©galement fonctionner comme un √©metteur-r√©cepteur de signaux de la norme </font><b><font style="vertical-align: inherit;">802.15.4</font></b><font style="vertical-align: inherit;"> . Et le standard </font><b><font style="vertical-align: inherit;">802.15.4</font></b><font style="vertical-align: inherit;"> , comme vous le savez, est le support de la technologie </font><b><font style="vertical-align: inherit;">ZigBee</font></b><font style="vertical-align: inherit;"> . La pile </font><b><font style="vertical-align: inherit;">ZigBee</font></b><font style="vertical-align: inherit;"> elle-m√™me </font><font style="vertical-align: inherit;">pour le </font><b><font style="vertical-align: inherit;">MKW40Z n'a</font></b><font style="vertical-align: inherit;"> pas √©t√© publi√©e, mais un firmware est d√©j√† propos√© o√π </font><b><font style="vertical-align: inherit;">802.15.4</font></b><font style="vertical-align: inherit;"> fonctionne simultan√©ment avec </font><b><font style="vertical-align: inherit;">BLE</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
Un sch√©ma d'une partie d'un module avec une puce BLE est illustr√© ci-dessous.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<a href=""><img align="left" width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/b5d/0c0/158/b5d0c01586e8bc42182a764c0b7e8716.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquez pour agrandir)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A</font><font style="vertical-align: inherit;">place de la puce</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MKW40</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ont d√©j√† puce</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MKW41</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec un volume de 128 Ko</font><font style="vertical-align: inherit;">RAM, capacit√© 512 KB Flash et support pour tous</font><font style="vertical-align: inherit;">protocoles populaires:</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> BLE 4.2, BLE la maille, le ZigBee, Enfilez A, le 6LoBLE IPv6</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il n'y a pas encore de documentation ouverte sur la nouvelle puce, mais elle promet d'√™tre compatible avec le MKW40.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La puce MKW40 BLE du module se connecte au microcontr√¥leur principal MK66 avec des interfaces SPI et I2C. L'interface I2C connecte √©galement la puce √† la puce du chargeur. Le canal de communication principal est impl√©ment√© sur l'interface SPI avec un d√©bit binaire de 6 Mbit / s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le d√©bogage du programme dans la puce MKW40 peut √™tre effectu√© via l'interface SWD √† l'aide de l'adaptateur JTAG et via l'interface de d√©bogage UART0 √©galement sortie vers le connecteur de d√©bogueur X4.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NXP fournit plus de deux douzaines d'exemples de mise en ≈ìuvre de diverses applications sur la puce MKW40, notamment: pression, glucose, temp√©rature, capteurs de proximit√©, cardiofr√©quencem√®tres, etc. </font><font style="vertical-align: inherit;">Il existe des applications pour UART sans fil et chargeur de d√©marrage sans fil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai refactoris√© en profondeur le framework NXP pour ces puces et cr√©√© de nouveaux profils avec des programmes de d√©monstration sur PC Windows qui ne n√©cessitent pas d'adaptateur s√©par√© du c√¥t√© PC. </font><font style="vertical-align: inherit;">Mais plus √† ce sujet plus tard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bluetooth LE est difficile √† apprendre. </font><font style="vertical-align: inherit;">La raison en est la sp√©cification volumineuse et un grand nombre de ses br√®ves paraphrases dans la documentation des fabricants, commen√ßant imm√©diatement par une terminologie inhabituelle. </font><font style="vertical-align: inherit;">Commen√ßons donc avec.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©codage et traduction des termes et abr√©viations, argot.</font></font></h1><br>
<ul>
<li><b><font color="#C00000">Pairing</font> </b> ‚Äî  ().    BLE           .      ,     PIN .</li>
<li><b><font color="#C00000">Bonding</font> </b> ‚Äî ().             BLE .</li>
<li><b><font color="#C00000">Device </font><font color="#C00000">authentication</font> </b> ‚Äî ()   ,       .</li>
<li><b><font color="#C00000">Advertising</font> </b> ‚Äî    BLE   ().         ,   ,  ,    .</li>
<li><b><font color="#C00000">Scanning</font> </b> ‚Äî       BLE    .           ,    .</li>
<li><b><font color="#C00000">Profile</font> </b> ‚Äî .   , ,         .</li>
<li><b><font color="#C00000">UUID</font> </b> ‚Äî universally unique identifier. 128-    .</li>
<li><b><font color="#C00000">BLE </font><font color="#C00000">Host</font> </b> ‚Äî .     BLE    ,             .   GAP, GATT,   GATT, L2CA.</li>
<li><b><font color="#C00000">BLE </font><font color="#C00000">Controller</font> </b> ‚Äî .     BLE   - Bluetooth.</li>
<li><b><font color="#C00000">HCI</font> </b> ‚Äî Host Controller Interface.   API        BLE   BLE .</li>
<li><b><font color="#C00000">GAP</font> </b> ‚Äî Generic Access Profile,   .      layer ().       .       ,          BLE .</li>
<li><b><font color="#C00000">GATT</font> </b> ‚Äî Generic Attribute Profile,   .          .  ‚Äî      (, , ...)         , ,   ..   ,     UUID.</li>
<li><b><font color="#C00000">L2CA</font> </b> ‚Äî Logical Link Control and Adaptation Layer.             .   ,  ,  ,  ,      .   BLE .</li>
<li><b><font color="#C00000">SMP</font> </b> ‚Äî Security Manager Protocol.    .      L2CA.</li>
<li><b><font color="#C00000">LTK</font> </b> ‚Äî Long-Term Key.      BLE .</li>
<li><b><font color="#C00000">IRK</font> </b> ‚Äî Identity Resolving Key.         .</li>
<li><b><font color="#C00000">CSRK</font> </b> ‚Äî Connection Signature Resolving Key.    .</li>
<li><b><font color="#C00000">RAND</font> </b> ‚Äî 64-   ,    LTK</li>
<li><b><font color="#C00000">EDIV</font> </b> ‚Äî 16-   ,    LTK</li>
<li><b><font color="#C00000">MITM</font> </b> ‚Äî man-in-the-middle.                  .</li>
<li><b><font color="#C00000">Message </font><font color="#C00000">integrity </font></b> ‚Äî    .</li>
<li><b><font color="#C00000"></font> </b> ‚Äî         ,              .     BSP (board support package), HAL (hardware abstraction layer), OSA (OS abstraction layer),    (middleware)  :  ,  ,     .</li>
</ul><br>
<h1>  </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors du choix d'une puce pour BLE, j'ai effectu√© une petite analyse des offres des fabricants les plus connus. </font><font style="vertical-align: inherit;">Surtout, je m'int√©ressais √† la composition des logiciels, des frameworks et des outils de compilation-assemblage-d√©bogage propos√©s pour les projets sous le noyau ARM. </font><font style="vertical-align: inherit;">Un facteur important a √©t√© la continuit√© avec l'environnement IAR et le cadre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTOS MQX</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui sont utilis√©s lors du d√©veloppement de l'application sur le processeur principal du module.</font></font><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SEMI-CONDUCTEUR NORDIQUE</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fournit un SDK pour la puce </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF51822</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec le </font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">noyau </font></font></font></font><font color="#C00000"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cortex</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M0</font></font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Compil√© dans IAR, KEIL, GCC. La pile BLE est repr√©sent√©e par une biblioth√®que monolithique sans code source appel√©e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SoftDevice</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o√π toutes les API sont impl√©ment√©es: GAP, GATT, L2CA, HCI. Autour de cette biblioth√®que est construit un framework avec des pilotes. Le framework est livr√© avec deux RTOS: </font><font style="vertical-align: inherit;">le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RL-ARM RTX de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Keil et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeRTOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Le cadre utilise la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">technologie de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√©rialisation </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">protobuf</font></a><font style="vertical-align: inherit;"> et le d√©bogage </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Segger RTT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, le </font><b><font style="vertical-align: inherit;">SDK IoT nrf5 est</font></b><font style="vertical-align: inherit;"> propos√©.</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Il comprend les codes sources des protocoles MQTT, COAP, TLS (extraits du projet MBED), cJSON, lwip (pile de protocoles TCP / IPv4 / IPv6 gratuite), interface socket, adaptateur IPv6. </font><font style="vertical-align: inherit;">Il existe √©galement </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6LoWPAN</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais sans code source.</font></font><br>
<br>
<h2><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Texas Instruments</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur ARM ne fabrique que des puces BLE √† 2 c≈ìurs </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CC2640</font></font></a> </b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cortex-M3 et Cortex-M0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), mais les sp√©cifications correspondantes sont </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth 4.2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour le t√©l√©chargement, il fournit le SDK </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SimpleLink Bluetooth low energy Software Stack 2.2.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Il est √©galement compil√© par l'environnement de d√©veloppement de Code Composer Studio. dans l'environnement IAR. Il est livr√© avec son propre RTOS </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TI-RTOS 2.16</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et un cadre d√©velopp√© autour des biblioth√®ques de pile BLE. Le SDK comme l'un des sc√©narios implique l'utilisation d'un processeur d'application externe - Simple Application Processor (SAP). La puce </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CC2640 elle-m√™me est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> appel√©e processeur de r√©seau simple (SNP). Entre eux, la communication est √©tablie selon un protocole appel√© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interface de processeur de r√©seau unifi√©</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(NPI). </font><font style="vertical-align: inherit;">C√¥t√© CC2640, TI-RTOS est forc√©ment utilis√©, c√¥t√© processeur SAP, vous pouvez utiliser RTOS √† votre discr√©tion. </font><font style="vertical-align: inherit;">Le code source du protocole NPI est fourni avec le SDK pour le c√¥t√© SAP et le c√¥t√© SNP. </font><font style="vertical-align: inherit;">Il s'agit de la technologie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SimpleLink</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La pile BLE elle-m√™me est divis√©e en 3 biblioth√®ques pr√©compil√©es sans sources: h√¥te, contr√¥leur, HCI. </font><font style="vertical-align: inherit;">Les trois biblioth√®ques fonctionnent uniquement sur le processeur Cortex-M3, qui fait partie de la puce CC2640. </font><font style="vertical-align: inherit;">En plus d'√©tudier TI-RTOS, l'utilisateur devra √©tudier un m√©canisme ou un protocole logiciel sp√©cial pour interagir avec la pile BLE appel√©e iCall.</font></font><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microchip-atmel</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fabrique des </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puces</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bluetooth LE </font><b><font style="vertical-align: inherit;">ATBTLC1000</font></b><font style="vertical-align: inherit;"> sur le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noyau Cortex-M0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La pile de puces enti√®re est √©crite dans la ROM. </font><font style="vertical-align: inherit;">Aucun outil ouvert pour programmer ces puces n'a √©t√© trouv√© sur le site Web d'Atmel. </font><font style="vertical-align: inherit;">Au lieu de cela, Atmel sugg√®re d'utiliser un microcontr√¥leur externe pour interagir avec l'ATBTLC1000. </font><font style="vertical-align: inherit;">Les logiciels pour un microcontr√¥leur externe et des exemples se trouvent dans le cadre logiciel Atmel. </font><font style="vertical-align: inherit;">Compile dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atmel Studio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (shell pour GCC) ou dans IAR.</font></font><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cypress Semiconductor Corp.</font></font></a> </h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">produit une famille de puces BLE programmables bas√©es sur le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noyau Cortex-M0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSoC 4: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSoC 4XX8</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRoC CYBL1XX7X</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prenant en charge la sp√©cification </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth 4.2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Les projets de puces sont cr√©√©s dans un </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">cr√©ateur</font></a><font style="vertical-align: inherit;"> IDE </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">PSoC</font></a><font style="vertical-align: inherit;"> sp√©cial</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Les puces de Cypress diff√®rent en ce qu'il n'y a pas de configuration p√©riph√©rique pr√™te √† l'emploi (UART, SPI, I2S, PWM, etc.), elle doit √™tre cr√©√©e √† partir d'√©l√©ments de biblioth√®que dans un √©diteur de circuits avec l'ajout de biblioth√®ques de logiciels. </font><font style="vertical-align: inherit;">Ceci est con√ßu pour fournir une certaine flexibilit√©. </font><font style="vertical-align: inherit;">Bien que cela ajoute beaucoup de travail au d√©veloppeur. </font><font style="vertical-align: inherit;">Un projet configur√© peut √™tre compil√© par l'une des cha√Ænes d'outils: GCC, IAR, Keil. </font><font style="vertical-align: inherit;">BLE il y a une des biblioth√®ques. </font><font style="vertical-align: inherit;">La pile BLE est fournie sous la forme d'une biblioth√®que monolithique pr√©compil√©e sans codes source combinant l'h√¥te BLE, le contr√¥leur BLE et HCI. </font><font style="vertical-align: inherit;">Cependant, la soci√©t√© a publi√© le code source des applications Android et iOS fonctionnant avec BLE.</font></font><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laboratoires de silicium</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fabrique des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SoC intelligents Bluetooth Blue Gecko EFR32</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bas√©s sur le noyau ARM </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cortex-M4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prenant en charge la sp√©cification </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth 4.2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les puces de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> type </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">EFR32BG1P332F256GMxx</font></a><font style="vertical-align: inherit;"> peuvent </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">fournir une</font></a><font style="vertical-align: inherit;"> puissance jusqu'√† </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19,5 dBm</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et combiner un canal radio 868 MHz s√©par√© avec une puissance allant jusqu'√† 20 dBm et une sensibilit√© de -121,4 dBm. La puce Silicon Labs est une vaste s√©lection de fonctions de broches alternatives et un syst√®me appel√© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peripheral Reflex System</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(PRS). Bien que la p√©riph√©rie ne puisse pas √™tre cr√©√©e comme les puces Cypress, mais sa connexion aux broches est presque arbitraire, la pr√©sence de PRS permet d'interagir les uns avec les autres sans impliquer de processeur. Stack BLE de Silicon Labs capable d'accepter les r√©sultats de g√©n√©ration de profil par </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Developer Studio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui sera discut√© ci-dessous. </font><font style="vertical-align: inherit;">Silicon Labs propose deux piles Bluetooth. </font><font style="vertical-align: inherit;">L'un d'eux est con√ßu pour les modules Bluegiga et, en plus de BLE, prend √©galement en charge le Bluetooth standard. </font><font style="vertical-align: inherit;">La deuxi√®me pile est conforme √† la sp√©cification 4.2 et uniquement √† LE. </font><font style="vertical-align: inherit;">La pile BLE est livr√©e sous la forme d'une biblioth√®que monolithique pr√©compil√©e sans sources. </font><font style="vertical-align: inherit;">Pour l'option avec un microcontr√¥leur externe, un protocole s√©rie et une API dans les sources sont propos√©s. </font><font style="vertical-align: inherit;">GCC, IAR et Keil peuvent compiler. </font><font style="vertical-align: inherit;">Tout est fait dans un seul environnement de d√©veloppement </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simplicity Studio V4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le cadre de pile qui l'accompagne n'est pas pris en charge par RTOS. </font><font style="vertical-align: inherit;">Mais dans le code source de Simplicity Studio, vous pouvez trouver des perles telles que Speex √† 8 kbps adapt√©es √† la transmission de la voix via BLE et une puissante interface graphique de fen√™tre de Segger.</font></font><br>
 <br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STMicroelectronics</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fabrique des </font><font style="vertical-align: inherit;">puces de contr√¥leur de r√©seau </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlueNRG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bas√©s sur le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cortex-M0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contenant la </font><font style="vertical-align: inherit;">sp√©cification de pile BLE pour </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le Bluetooth 4.1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les puces elles-m√™mes ne sont pas programmables, mais ont une interface de commande d'application s√©rie (ACI) √† travers laquelle un microcontr√¥leur externe doit communiquer avec elles. </font><font style="vertical-align: inherit;">Un cadre a √©t√© d√©velopp√© pour ACI, et il peut √™tre inclus dans le cadre de l'environnement de d√©veloppement propri√©taire STM32Cube de ST.</font></font><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSR PLC</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne fabrique pas de puces BLE sur ARM Cortex, mais s'int√©resse √† sa mise en ≈ìuvre du </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©seau MESH sur des</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> modules </font><b><font style="vertical-align: inherit;">Bluetooth</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La vid√©o est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les codes sources de diverses applications BLE pour Android et iOS sont pr√©sent√©s. </font><font style="vertical-align: inherit;">Il existe un SDK.</font></font><br>
 <br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renesas</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fabrique des puces BLE sur son c≈ìur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RL78</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 16 bits </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">La pile BLE n'est d√©livr√©e qu'aux utilisateurs premium. </font><font style="vertical-align: inherit;">Tous leurs propres - compilateur, RTOS, microcontr√¥leur h√¥te. </font><font style="vertical-align: inherit;">Mais il existe un plug-in pour </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Developer Studio</font></font></a><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dialog Semiconductor</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offrent, comme ils le pr√©tendent, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les plus petites puces BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cependant, les puces avec m√©moire flash </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DA14583</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (les autres ne sont qu'avec ROM) ne peuvent pas √™tre appel√©es les plus petites - 5x5 mm. Le noyau de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la Cortex-M0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Puissance maximale </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 dBm</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Prise en charge de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sp√©cification </font><b><font style="vertical-align: inherit;">Bluetooth 4.1.</font></b><font style="vertical-align: inherit;"> Pour obtenir le SDK de l'entreprise, vous devez vous inscrire et passer le test. Mais avec de tels param√®tres de puce, je n'ai m√™me pas essay√© d'obtenir un SDK. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, les sources de MQTT, COAP, TLS, SPEEX, LwIP et ainsi de suite. ceux des diff√©rents SDK ne nous int√©ressent gu√®re, ils peuvent √™tre trouv√©s librement sur Github sans se lier √† des frameworks sp√©cifiques. La prise en charge de la sp√©cification Bluetooth 4.2 ne fait pas grand-chose, car il n'est pas encore possible de l'utiliser sur un PC.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des RTOS de niche comme TI-RTOS ou des planificateurs sp√©ciaux nous rendront difficile la ma√Ætrise, nous essayons d'√©viter de telles d√©cisions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'√©tais content d'avoir choisi la solution sur Kinetis.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce qui est int√©ressant √† propos de la pile NXP Bluetooth LE pour la famille Kinetis.</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La pile BLE pour Kinetis, comme d'autres, se pr√©sente sous la forme de biblioth√®ques pr√©compil√©es. Autour de ces biblioth√®ques, un framework multit√¢che est construit qui inclut des pilotes et une couche d'abstraction mat√©rielle dans le code source ind√©pendant du syst√®me d'exploitation. Le cadre peut √™tre configur√© pour fonctionner sans syst√®me d'exploitation, ou il peut √™tre utilis√©. Imm√©diatement √† la livraison, le framework est adapt√© pour FreeRTOS. Mais il interagit avec FreeRTOS via un ensemble de fonctions auxiliaires appel√© la couche d'abstraction du syst√®me d'exploitation (OS abstraction, OSA). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gr√¢ce √† OSA, au lieu de FreeRTOS, vous pouvez remplacer n'importe quel autre syst√®me d'exploitation qui prend en charge les files d'attente de messages, les pr√©emptions, les indicateurs et les minuteurs. Par exemple, RTOS MQX. Stack compile, curieusement, uniquement dans l'environnement IAR. Heureusement, dans mon cas, ce n'est pas un probl√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est plus int√©ressant de noter que la pile est divis√©e en deux biblioth√®ques - l'h√¥te BLE et le contr√¥leur BLE. </font><font style="vertical-align: inherit;">Et la biblioth√®que h√¥te BLE peut fonctionner sur une autre puce. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les biblioth√®ques interagissent dans ce cas via le protocole HCI. </font><font style="vertical-align: inherit;">C'est-√†-dire </font><font style="vertical-align: inherit;">o√π d'autres fabricants proposent un autre protocole de communication pour l'interaction de l'application sur le microcontr√¥leur externe avec la pile BLE (rappelez-vous SimpleLink), NXP propose une solution standard. </font><font style="vertical-align: inherit;">Et surtout, avec cette approche, en d√©pla√ßant l'h√¥te BLE vers un microcontr√¥leur externe plus puissant, nous augmentons consid√©rablement les capacit√©s de notre base de donn√©es et de nos services GATT.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En bref sur BLE</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une version 4.2 de la sp√©cification Bluetooth ouverte est disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La description du niveau inf√©rieur de BLE (niveau du </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contr√¥leur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) y est incluse en tant que </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Vol.6 Core System Package [Low Energy Controller volume]¬ª</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de la page 2544. Le niveau sup√©rieur (niveau de l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h√¥te</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) avec une description du protocole ATT et du profil GATT se trouve dans le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´vol.3 Package syst√®me central [volume h√¥te] ¬ªdu</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> document de la page 1693. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gamme de fr√©quences utilis√©e </font></font><br>
<a href=""><img align="left" width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/3fb/e8a/e0e/3fbe8ae0e3e35ab16e27593cef024fff.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquez pour agrandir)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trois fr√©quences (dans la figure ci-dessus sont indiqu√©es par les num√©ros de canal 37.38.39) sont allou√©es pour la diffusion de paquets sans adresse, et le reste pour la transmission de paquets lors de l'√©tablissement de canaux de communication logiques entre les p√©riph√©riques. Une caract√©ristique bien connue de Bluetooth est que lors de la transmission de paquets, chaque paquet suivant est transmis √† une fr√©quence diff√©rente, s√©lectionn√©e de mani√®re pseudo-al√©atoire dans la liste des autoris√©s. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes les donn√©es des paquets BLE peuvent √™tre chiffr√©es et authentifi√©es. La g√©n√©ration al√©atoire al√©atoire d'adresses d'appareil et leur identification √† l'aide du hachage sont √©galement utilis√©es, c'est-√†-dire Apr√®s avoir intercept√© l‚Äôadresse de l‚Äôappareil en ondes, nous ne pourrons pas l‚Äôutiliser pendant plus de 15 minutes, car l‚Äôadresse changera selon un algorithme qui nous est inconnu pendant cette p√©riode.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les modules BLE peuvent fonctionner comme des √©metteurs unidirectionnels, c'est-√†-dire sans √©tablir de connexion bidirectionnelle, diffusez simplement certaines donn√©es sous la forme de packages publicitaires, par exemple la temp√©rature. Le type de donn√©es dans les </font><font style="vertical-align: inherit;">packages </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publicitaires</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©sign√©s comme </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">donn√©es sp√©cifiques au fabricant</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peut √™tre utilis√© pour cela </font><font style="vertical-align: inherit;">. Un ordinateur ou une tablette peut recevoir des donn√©es de centaines de ces √©metteurs sans √©tapes pr√©liminaires inutiles pour rechercher, √©tablir une connexion, entrer un code PIN, etc. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre possibilit√© de transf√©rer des donn√©es sans installer de canal de communication est la transmission en mode requ√™te-r√©ponse (la requ√™te est le package </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScanRequest</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la r√©ponse du module est le package </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScanResponce</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Ce </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> significativement diff√©rent du </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wi-Fi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, o√π m√™me pour le thermom√®tre le plus simple, il est n√©cessaire d'√©tablir une connexion qui prend les ressources du routeur. </font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pile de protocoles BLE</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La figure ci-dessous montre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comme un programmeur de microcontr√¥leur le voit. La pile BLE se compose de deux parties logicielles: l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h√¥te</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contr√¥leur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> logiciel </font><b><font style="vertical-align: inherit;">h√¥te</font></b><font style="vertical-align: inherit;"> traite des fonctions de haut niveau d'organisation et de gestion des donn√©es, des connexions et le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contr√¥leur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> g√®re la p√©riph√©rie physique de l'√©metteur-r√©cepteur, fonctionne avec des cl√©s secr√®tes et traite d'autres fonctions de bas niveau. Les pi√®ces nomm√©es sont connect√©es par l' </font><b><font style="vertical-align: inherit;">interface</font></b><font style="vertical-align: inherit;"> logicielle </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HCI</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Host Controller Interface</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Dans une impl√©mentation PC, la partie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h√¥te</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s'ex√©cute sur un ordinateur et la partie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contr√¥leur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s'ex√©cute sur un √©metteur-r√©cepteur mat√©riel</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et le protocole </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HCI</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont le </font><font style="vertical-align: inherit;">plus souvent transmis via </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans l'impl√©mentation sur le microcontr√¥leur, les deux parties fonctionnent sur la m√™me puce, et l'interface </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HCI</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se transforme simplement en transfert direct de donn√©es de la t√¢che h√¥te (module logiciel) vers la t√¢che contr√¥leur (module logiciel) et vice versa. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, le programmeur voit plusieurs ensembles d'API fonctionnant au niveau de l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h√¥te</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : appel√©s </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GATT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GAP, L2CA, SMP, HCI</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . √Ä l'aide de l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API GAP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le mode de fonctionnement de l'appareil est d√©fini - </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Central, P√©riph√©rique, Observer, Broadcaster</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et la connexion est √©tablie si n√©cessaire. Et avec l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API GATT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La transmission et la r√©ception directes des donn√©es utiles et leur analyse sont effectu√©es. </font></font><br>
<a href=""><img align="left" width="691" src="https://habrastorage.org/getpro/geektimes/post_images/4df/ce8/06a/4dfce806ac92c29f99024ede56bba3d6.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquez pour agrandir)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
La plupart des appareils existants prennent actuellement en charge BLE 4.1, malgr√© l'existence de la version 4.2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes les diff√©rences de la version 4.2 par rapport √† la pr√©c√©dente concernent sp√©cifiquement les am√©liorations de la partie BLE: vitesse accrue, capacit√© √† transmettre le protocole IP et le trafic HTTP, protection cryptographique accrue et m√©connaissance pour les observateurs externes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une caract√©ristique importante du BLE par rapport au Wi-Fi est la sp√©cification non seulement du canal de communication, mais aussi des applications qui l'utilisent. C'est ce qu'on appelle des profils et des services. Les profils avec services d√©crivent les r√¥les des appareils, la finalit√© des donn√©es, la composition et le format des donn√©es, la protection des donn√©es, l'ordre, les types et les √©v√©nements de l'√©change, et pas seulement la mani√®re dont les donn√©es sont transmises. Cela vous permet de ne pas r√©inventer la roue des protocoles lors du d√©veloppement, par exemple, d'un capteur de temp√©rature corporelle ou d'un pulsom√®tre. Des sp√©cifications ont d√©j√† √©t√© donn√©es, il ne reste du c√¥t√© de l'appareil que pour remplir les champs n√©cessaires √† l'envoi des r√©sultats de mesure. Les clients de ces appareils sous forme de smartphones, tablettes, PC ou appareils de cuisine reconna√Ætront automatiquement ces donn√©es et les afficheront ou les utiliseront en cons√©quence. Merci √†que tous les fabricants respectent les m√™mes sp√©cifications BLE concernant la pr√©sentation des donn√©es de temp√©rature ou de fr√©quence cardiaque et la mani√®re de les utiliser. Mais il y a encore de la place pour l'imagination du d√©veloppeur, car les profils ont des m√©canismes pour √©tendre les fonctionnalit√©s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici une hi√©rarchie approximative d'attributs dans un p√©riph√©rique BLE. </font></font><br>
<a href=""><img align="left" width="609" src="https://habrastorage.org/getpro/geektimes/post_images/7df/ca0/0fe/7dfca00fe6427b57e47b1ba1e10c4767.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquez pour agrandir)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Voici un arbre d'attributs typique l√©g√®rement plus d√©taill√©. Ce n'est pas un arbre complet; la plupart sont omis car cela prendrait trop de place. Les couleurs mettent en √©vidence les niveaux des arbres, chaque attribut a un num√©ro unique - UUID. L'enregistrement des nombres standard est r√©duit √† 16 bits. Dans cette figure, tous les nombres sont standard. Les profils GAP et GATT sont √©galement pr√©sent√©s comme des services avec leurs fonctionnalit√©s standard. Chaque service peut avoir son propre mod√®le et autorisation de s√©curit√©. L'arbre entier de l'appareil est stock√© sous forme de base de donn√©es appel√©e base de donn√©es GATT, g√©n√©ralement sous la forme d'un simple tableau avec des r√©f√©rences crois√©es. </font></font><br>
<br>
<a href=""><img align="left" width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/3b1/d8c/5e7/3b1d8c5e7718f9e8e334af7de0a694b7.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquer pour agrandir)</font></font></em></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les caract√©ristiques de service ont de nombreuses caract√©ristiques, comme indiqu√© ci-dessous. </font><font style="vertical-align: inherit;">Ici, vous devez vous excuser pour la tautologie, mais dans BLE il y a vraiment une sorte de crise de terminologie. </font><font style="vertical-align: inherit;">En un mot, les caract√©ristiques du service lui appartenant peuvent pr√©ciser la lecture, l'√©criture, la n√©cessit√© de notifications, confirmations, signatures, etc. </font></font><br>
<br>
<a href=""><img align="left" width="752" src="https://habrastorage.org/getpro/geektimes/post_images/c7b/dd6/c8c/c7bdd6c8cc8b066c8390a00634a7927f.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquer pour agrandir) Le</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
BLE est une technologie s√©rieuse, tant a √©t√© fait pour assurer la s√©curit√© et la formalisation maximale, ce qui devrait √† son tour faciliter la r√©alisation de la compatibilit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©change de donn√©es entre les appareils BLE se fait en √©crivant et en lisant les valeurs des caract√©ristiques. </font><font style="vertical-align: inherit;">Les canaux de streaming tels que TCP ou UART ne sont pas ici. </font><font style="vertical-align: inherit;">Et si les appareils en ont, ils sont organis√©s par des extensions logicielles d'un niveau sup√©rieur.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outils de d√©veloppement</font></font></h1><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outils de d√©veloppement avec le site propos√© du Bluetooth Special Interest Group (Bluetooth SIG) </font></font></b> <font color="#BA5555"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.bluetooth.com/develop-with-bluetooth/developer-resources-tools</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Les </font><font style="vertical-align: inherit;">outils utiles suivants sont propos√©s </font><font style="vertical-align: inherit;">sur le site de la principale organisation de normalisation - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth SIG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Developer Studio</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Developer Studio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un outil qui vous permet de former et d'ins√©rer correctement des profils, des services, des caract√©ristiques et des descripteurs dans la mise en ≈ìuvre d'un </font><font style="vertical-align: inherit;">appareil </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , c'est-√†-dire cr√©er une base de donn√©es. Si vous achetez un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adaptateur Bluetooth mat√©riel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> suppl√©mentaire </font><font style="vertical-align: inherit;">pour 99 $, le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">programme vous permet d'intercepter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , de d√©chiffrer et d'afficher les paquets de protocole Bluetooth. Le programme a √©galement la capacit√© de d√©boguer et de tester les services cr√©√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parce que dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les profils approuv√©s sont d√©crits en d√©tail, m√™me des erreurs mineures concernant le format, la num√©rotation, l'accessibilit√©, etc. dans ces profils entra√Ænera des probl√®mes de compatibilit√©. Mais pour les profils non standard, il est tr√®s difficile de se passer d'un outil qui construit avec pr√©cision un arbre de services, de caract√©ristiques, de descripteurs en conformit√© avec toutes les sp√©cifications. Il est facile de se confondre dans les noms de services, les caract√©ristiques, les descripteurs et leurs num√©ros uniques √† plusieurs octets - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UUID</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©sultat de l'outil en particulier est les </font><font style="vertical-align: inherit;">fichiers </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XML</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> g√©n√©r√©s </font><font style="vertical-align: inherit;">d√©crivant des profils, des services, des caract√©ristiques et des descripteurs dans le projet de l'utilisateur. Ces fichiers XML sont directement utilis√©s par Silicon Labs Simplicity IDE pour s'int√©grer dans des projets int√©gr√©s pour leurs puces. </font></font><br>
<br>
<a href=""><img align="left" width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/a38/1de/850/a381de850e5724e57c5e607d78568eff.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquer pour agrandir)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre r√©sultat de l'outil peut √™tre le code source du p√©riph√©rique fonctionnant avec la base de donn√©es </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Mais pour cela, l'utilisateur doit √©crire son plugin en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le programme offre √©galement un </font><font style="vertical-align: inherit;">acc√®s plug-in utilisateur √† la base de </font><font style="vertical-align: inherit;">donn√©es via une sp√©ciale </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un certain nombre de plug-ins pr√™ts √† l'emploi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui g√©n√®rent divers fichiers texte source adapt√©s √† la compilation dans des environnements tiers et des cadres logiciels. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il </font><font style="vertical-align: inherit;">n'y a pas encore de plugins </font><font style="vertical-align: inherit;">pour les solutions bas√©es sur le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">framework NXP Kinetis KW40Z Connectivity Software</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acc√©l√©rateur d'applications</font></font></h2><br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acc√©l√©rateur d'applications 2.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - un ensemble de projets de d√©monstration avec des textes sources pour diff√©rents syst√®mes d'exploitation </font></font><font color="#C00000"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android </font></font></b><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blackberry</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iOS </font></font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tizen </font></font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 </font></font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows </font></font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 10, les</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> projets sont uniquement destin√©s √† l'environnement de d√©veloppement </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual Studio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour l' </font><font style="vertical-align: inherit;">architecture </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UWP (Universal Windows Platform).</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C'est-√†-dire ces projets ne peuvent pas √™tre compil√©s sous les </font><b><font style="vertical-align: inherit;">cadres </font></b></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Forms</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WPF</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> c </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Et des ponts pour traduire les applications Windows normales en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UWP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vient d'√™tre cr√©√©. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il convient de noter que </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UWP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permet de placer des applications dans le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Store</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais il ne cr√©e pas un simple </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ex√©cutable </font><b><font style="vertical-align: inherit;">.exe</font></b><font style="vertical-align: inherit;"> , que vous pouvez simplement copier et ex√©cuter. </font><font style="vertical-align: inherit;">Le premier lancement d'une application </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UWP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s'accompagne toujours d'une installation. </font><font style="vertical-align: inherit;">Tout cela cr√©e des difficult√©s pour le d√©veloppeur. </font><font style="vertical-align: inherit;">Et la fonctionnalit√© des projets de d√©monstration laisse beaucoup √† d√©sirer.</font></font><br>
<br>
<a href=""><div style="text-align:center;"><img width="376" src="https://habrastorage.org/getpro/geektimes/post_images/fd8/213/747/fd82137474453134c3bd6744473908a8.png"></div><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquez pour agrandir)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ci-dessus est une capture d'√©cran de la seule application de d√©monstration pour</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows - BLEServiceBrowser</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gateway Smart Satarter Kit</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gateway Smart Starter Kit </font></font></a> <font color="#BA5555"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></font><font color="#000F00"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le projet de </font></font></b><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la passerelle d' </font></font></font><font style="vertical-align: inherit;"><font color="#000F00"><font style="vertical-align: inherit;">appareil </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE </font></font></font><font style="vertical-align: inherit;"><font color="#000F00"><font style="vertical-align: inherit;">vers le </font></font><font color="#000F00"><font style="vertical-align: inherit;">serveur </font></font><font color="#000F00"><font style="vertical-align: inherit;">WEB </font></font><font color="#000F00"><font style="vertical-align: inherit;">et </font></font><font color="#000F00"><font style="vertical-align: inherit;">le </font></font><font color="#000F00"><font style="vertical-align: inherit;">serveur </font></font><font color="#000F00"><font style="vertical-align: inherit;">WEB </font></font><font color="#000F00"><font style="vertical-align: inherit;">lui-m√™me</font></font></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font> </font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> impl√©mentant l' </font></font></font><font style="vertical-align: inherit;"><font color="#000F00"><font style="vertical-align: inherit;">interface </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisateur</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour le r√©seau d' </font><font style="vertical-align: inherit;">appareils </font><b><font style="vertical-align: inherit;">BLE</font></b><font style="vertical-align: inherit;"> . Tout est impl√©ment√© dans Node.js. Il est propos√© de </font><b><font style="vertical-align: inherit;">d√©ployer</font></b><font style="vertical-align: inherit;"> sur un micro-ordinateur </font><b><font style="vertical-align: inherit;">Raspberry Pi 2 mod√®le B</font></b><font style="vertical-align: inherit;"> avec le syst√®me d'exploitation </font><b><font style="vertical-align: inherit;">Raspbian Jessie</font></b><font style="vertical-align: inherit;"> . La connexion directe du </font><b><font style="vertical-align: inherit;">Raspberry Pi</font></b><font style="vertical-align: inherit;"> aux appareils </font><b><font style="vertical-align: inherit;">BLE</font></b><font style="vertical-align: inherit;"> utilise l' </font><font style="vertical-align: inherit;">interface </font><b><font style="vertical-align: inherit;">Bluetooth HCI</font></b><font style="vertical-align: inherit;"> des prises au niveau </font><b><font style="vertical-align: inherit;">L2CAP</font></b><font style="vertical-align: inherit;"> et </font><b><font style="vertical-align: inherit;">USB HCI</font></b></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adaptateur. </font><font style="vertical-align: inherit;">Pour fonctionner sous </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous devez installer un substitut sp√©cial pour le pilote </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth HCI</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> standard </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">La solution fonctionne sur un nombre tr√®s limit√© de types d'adaptateurs mat√©riels en raison du pilote HCI limit√©.</font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/156/371/75e/15637175e9313970bef4ee048bc18b56.png"> <br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peryton</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parmi les outils commerciaux, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analyseur de trafic BLE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> int√©ressant </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">de Perytons est</font></a><font style="vertical-align: inherit;"> le programme d'analyseur qui fonctionne sur les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PC Windows √†</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> partir de la version 7. </font><font style="vertical-align: inherit;">C'est un point important, car les pilotes BLE natifs pour Windows ne fonctionnent qu'√† partir de la version 8. </font><font style="vertical-align: inherit;">L'analyseur fonctionne avec une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">liste</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> limit√©e </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">d'adaptateurs BLE mat√©riels</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous travaillez avec des adaptateurs, il existe √©galement des limitations dans l'analyse caus√©es par le chiffrement du trafic dans BLE. </font></font><br>
<br>
<a href=""><img align="left" width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/1e3/c09/488/1e3c094883e576474a719aff13a0b422.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquer pour agrandir)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, m√™me √† partir de la version d'essai du programme, vous pouvez obtenir de nombreux avantages. </font><font style="vertical-align: inherit;">Le programme est accompagn√© d'enregistrements de d√©monstration d'interceptions √©changeant de vrais appareils. </font><font style="vertical-align: inherit;">Ces enregistrements, apr√®s avoir √©t√© charg√©s dans le programme, donnent une image d√©taill√©e du fonctionnement de l'ensemble de la pile de protocoles BLE. </font><font style="vertical-align: inherit;">La visualisation d'une telle interception remplace l'exploration de la sp√©cification Bluetooth enti√®re.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chien de bus</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez juste besoin de surveiller l'activit√© entre l'ordinateur et le p√©riph√©rique BLE et que vous pouvez vous passer d'une analyse d√©taill√©e du protocole, alors l'intercepteur de trafic de pilotes Windows bien connu appel√© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bus Hound fera l'affaire</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la capture d'√©cran ci-dessous, vous pouvez voir le flux des packages publicitaires re√ßus. </font><font style="vertical-align: inherit;">L'in√©galit√© des intervalles de temps de r√©ception des paquets est clairement visible. </font><font style="vertical-align: inherit;">Cela indique une perte importante de paquets. </font><font style="vertical-align: inherit;">L'intervalle de temporisation pour le p√©riph√©rique BLE a √©t√© d√©fini sur 20 ms. </font></font><br>
<br>
<a href=""><img align="left" width="784" src="https://habrastorage.org/getpro/geektimes/post_images/302/242/408/30224240815c37125998cb7eabbb7184.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquez pour agrandir) La</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
capture d'√©cran ci-dessous montre la repr√©sentation du p√©riph√©rique BLE dans la fen√™tre Bus Hound apr√®s le couplage avec un PC. </font><font style="vertical-align: inherit;">Pour chaque service de p√©riph√©rique, apr√®s l'homologation, un canal de communication logique appara√Æt. </font><font style="vertical-align: inherit;">Ici, vous pouvez voir l'UUID de l'appareil et des services.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/0ac/28d/99d/0ac28d99d49e38dea38c2da5caa46658.png"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyseur de trafic BLE (renifleur) USB-KW40Z</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit d'un outil du kit de support de d√©veloppement Kinetis. Je vais donc m'y attarder plus en d√©tail. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Page de renifleur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> NXP. </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/ef1/108/1c9/ef11081c9b38097c1b2fdcd91cb01094.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le renifleur a √©t√© d√©velopp√© par NXP (ou plut√¥t l'ancien Freescale) et peut √™tre achet√© √† peu de frais dans les magasins de composants radio en ligne populaires: Mouser, Digi-Key, Farnell ... Il est propos√© par NXP comme un outil pour surveiller les paquets radio envoy√©s par les appareils BLE. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä l'aide de cet appareil, vous pouvez √©tudier la structure des paquets, les enregistrer dans un journal et analyser la densit√© du trafic. Le circuit renifleur est ouvert √† l'√©tude, mais le programme du microcontr√¥leur est fourni sous forme de fichier binaire. Sniffer vous permet de filtrer les paquets par valeur d'adresse.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez t√©l√©charger le logiciel PC pour le renifleur par la requ√™te de recherche suivante sur le site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.nxp.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kinetis_Protocol_Analyzer_Adapter.exe</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
√âtant donn√© que le renifleur, en plus de la fonction principale, peut √©galement √™tre une plate-forme de d√©bogage pour diff√©rentes applications, des fichiers binaires de micrologiciel de base y sont attach√©s, avec lesquels Vous pouvez restaurer la fonctionnalit√© de renifleur apr√®s avoir exp√©riment√©. Les fichiers sont fournis avec le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">package du logiciel de connectivit√© KW40Z</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est t√©l√©charg√© sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.nxp.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour la requ√™te de recherche KW40Z_Connectivity_Software. Les fichiers seront appel√©s </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sniffer_processing_core_usbkw40z_k22f.bin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (pour le microcontr√¥leur MK22FN512 sur la carte sniffer) et </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sniffer_radio_core_usbkw40z_kw40z.bin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(pour le microcontr√¥leur MKW40Z sur la carte sniffer). Les fichiers sont programm√©s √† l'aide des d√©bogueurs SWD: JLink, STLink, OpenSDA ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C√¥t√© PC, l'appareil est per√ßu comme un p√©riph√©rique USB composite avec un port COM et un port de d√©bogage selon la sp√©cification, OpenSDA avec firmware CMSIS-DAP. Ainsi, dans l'environnement IAR, vous pouvez librement programmer et d√©boguer la puce renifleur MKW40Z en utilisant son autre puce MK22FN512 comme support pour la fonctionnalit√© de l'adaptateur de d√©bogage. Mais les deux puces de la carte ont des connecteurs SWD standard pour un adaptateur de d√©bogage externe.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sniffer ne garantit pas la r√©ception de tous les paquets transmis en direct. Il est facile de l'inonder, apr√®s quoi il cesse d'accepter les paquets, il est donc recommand√© d'activer le filtrage par adresse afin de ne recevoir que les paquets du n≈ìud d'int√©r√™t avec un trafic assez rare. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fen√™tre suivante montre le programme d'analyseur de package. La fen√™tre comprend l'interception sur les trois canaux: </font></font><br>
<br>
<a href=""><img align="left" width="746" src="https://habrastorage.org/getpro/geektimes/post_images/900/756/ae8/900756ae87aa2a06256d83774460fbd5.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquez pour agrandir)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Lors de l'installation du logiciel d'analyseur sur un PC, il cr√©e un adaptateur Ethernet virtuel qui convertit les paquets captur√©s via le port COM virtuel du renifleur en paquets Ethernet. Dans mon cas, un tel adaptateur virtuel a automatiquement re√ßu un nom simple - Ethernet. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour voir les paquets, vous devez en outre installer le programme renifleur de paquets Ethernet Wireshark.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vue de la fen√™tre principale du programme Wireshark tout en surveillant le trafic. </font><font style="vertical-align: inherit;">Wireshark d√©crit en d√©tail tous les champs de bits du paquet de protocole de couche liaison (LE LL), cependant, apr√®s avoir √©tabli une connexion entre les p√©riph√©riques et d√©marr√© le protocole L2CAP, le contenu du paquet n'est pas reconnu car il est transmis crypt√©. </font></font><br>
<br>
<a href=""><img align="left" width="736" src="https://habrastorage.org/getpro/geektimes/post_images/762/d12/cde/762d12cdec62b23d94b1f5e254d19c4f.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Cliquer pour agrandir)</font></font></em></a><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue de la fen√™tre Wireshark avec d√©codage du package publicitaire</font></font></b><div class="spoiler_text"><a href=""><img align="left" width="745" src="https://habrastorage.org/getpro/geektimes/post_images/37a/bbd/8ba/37abbd8ba6306e22b6c2dbd50e92f3c2.png"><br clear="left">
<em>(  )</em></a><br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contenu du package de demande de scan</font></font></b><div class="spoiler_text"><a href=""><img align="left" width="740" src="https://habrastorage.org/getpro/geektimes/post_images/5d7/4fb/fd5/5d74fbfd589f42c9ebaed86c0bef7f3a.png"><br clear="left">
<em>(  )</em></a><br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scan Responce Package Contents</font></font></b><div class="spoiler_text"><a href=""><img align="left" width="741" src="https://habrastorage.org/getpro/geektimes/post_images/012/627/201/012627201de64dfc530926aa9241c20c.png"><br clear="left">
<em>(  )</em></a><br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le contenu du paquet de demande de connexion avec des param√®tres qui d√©terminent la vitesse du canal de communication</font></font></b><div class="spoiler_text"><a href=""><img align="left" width="755" src="https://habrastorage.org/getpro/geektimes/post_images/7a8/032/eeb/7a8032eeb21f6834f6f9bfc19d6bfd8e.png"><br clear="left">
<em>(  )</em></a><br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S√©quence de paquets de connexion</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/7e7/baf/5c9/7e7baf5c91ecdc461aa878c8148a6d48.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les commentaires, ajouts, corrections et objections aux informations contenues dans cet article sont les bienvenus.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr394757/">https://habr.com/ru/post/fr394757/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr394747/index.html">AlphaGo —Å—ã–≥—Ä–∞–µ—Ç –≤ –≥–æ —Å —á–µ–º–ø–∏–æ–Ω–æ–º –∏–∑ –ö–∏—Ç–∞—è –ö—ç –¶–∑–µ</a></li>
<li><a href="../fr394749/index.html">Un trou critique au c≈ìur des r√©seaux cellulaires</a></li>
<li><a href="../fr394751/index.html">Fabrication de bo√Ætiers de colonnes: aper√ßu des mat√©riaux</a></li>
<li><a href="../fr394753/index.html">Jeux pour programmeurs</a></li>
<li><a href="../fr394755/index.html">La connaissance de la physique aide √† battre les casinos de roulette</a></li>
<li><a href="../fr394759/index.html">Comment le d√©partement am√©ricain de la D√©fense prot√®ge les oreilles des soldats</a></li>
<li><a href="../fr394761/index.html">L'adaptateur sans fil ¬´Morecard¬ª de la taille d'une carte de cr√©dit permettra √† l'iPhone de rester dans les r√©seaux de deux op√©rateurs simultan√©ment</a></li>
<li><a href="../fr394767/index.html">Les messagers "d√©vorent" les op√©rateurs t√©l√©coms, ils pr√©parent une gr√®ve de repr√©sailles</a></li>
<li><a href="../fr394769/index.html">Le syst√®me artificiel a d√©pass√© la feuille naturelle dans l'efficacit√© de la photosynth√®se.</a></li>
<li><a href="../fr394771/index.html">Mod√®les ISS sur Terre</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>