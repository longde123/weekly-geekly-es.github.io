<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì∫ üë©üèæ‚Äç‚úàÔ∏è üå† C ++ al servicio de la ortodoncia: entrevista con Mikhail Matrosov, desarrollador de CAD en Align Technology üåö ‚õπüèª ‚ôäÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mikhail Matrosov ( mmatrosov ) es un ingeniero de desarrollo l√≠der en la oficina de I + D de Mosc√∫ de Align Technology. Su especializaci√≥n es muy inus...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C ++ al servicio de la ortodoncia: entrevista con Mikhail Matrosov, desarrollador de CAD en Align Technology</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/473628/"><p><img src="https://habrastorage.org/webt/np/h9/sl/nph9sl6bdoehtm2mog9vsbmejsk.png"></p><br><p>  Mikhail Matrosov ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">mmatrosov</a> ) es un ingeniero de desarrollo l√≠der en la oficina de I + D de Mosc√∫ de Align Technology.  Su especializaci√≥n es muy inusual: est√° desarrollando un sistema CAD especializado para el dise√±o de aparatos de ortodoncia. </p><br><p>  Mikhail ha estado participando en C ++ Rusia desde la primera conferencia.  Este a√±o, en C ++ Russia 2019 Piter, dar√° una presentaci√≥n sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Calificadores, calificadores y plantillas"</a> .  Tambi√©n puede conocerlo en los cursos de Yandex <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Fundamentos del desarrollo de C ++: Brown Belt"</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Fundamentos del desarrollo de C ++: Black Belt"</a> en Coursera, en la creaci√≥n de la cual Michael fue coautor. </p><br><p>  La conferencia ya est√° a la vuelta de la esquina, pero por ahora, tome una entrevista con Mikhail, donde discutimos su trabajo en Align Technology, la migraci√≥n del c√≥digo heredado, la preparaci√≥n de cursos e informes en l√≠nea, as√≠ como las caracter√≠sticas de C ++.  Pavel Filonov (comit√© del programa C ++ Rusia) y Oleg Chirukhin (periodista del Grupo JUG Ru) hicieron preguntas. </p><a name="habracut"></a><br><h2>  En la uni√≥n de tecnolog√≠a y medicina. </h2><br><p>  <b>Pavel:</b> Dime qu√© est√° haciendo tu empresa. </p><br><p>  <b>Michael:</b> Align Technology es pionero y l√≠der del mercado en ortodoncia limpia.  Esto es algo que se est√° haciendo en todo el mundo ahora en lugar de aparatos ortop√©dicos.  Si antes, se coloc√≥ un alambre de metal para enderezar los dientes, y corrieron con √©l, ahora en lugar de eso, se puso protectores bucales de pl√°stico transparentes (revestimientos), que se hacen individualmente para cada paciente.  Recientemente prob√© en m√≠ mismo los productos de nuestra empresa, ¬°una sensaci√≥n muy divertida! </p><br><p>  <b>Pavel:</b> ¬øEntonces tienes comida para perros, s√≠? </p><br><p>  <b>Michael:</b> S√≠, m√°s o menos.  De hecho, si no lo sabe, es muy dif√≠cil darse cuenta de que la persona est√° en el revestimiento.  A menos que al principio, por costumbre, aparezcan peque√±os defectos del habla, pero incluso ellos son dif√≠ciles de notar. </p><br><p>  <b>Pavel:</b> ¬øY qu√© tiene que ver C ++, de lo que hablaremos mucho hoy? </p><br><p>  <b>Michael:</b> Gran pregunta  Cuando la compa√±√≠a estaba reci√©n en pa√±ales, dos pakistan√≠es alegres tomaron un pl√°stico especial (no s√© de d√≥nde lo encontraron), que deber√≠a ser no t√≥xico e inerte con saliva y otras sustancias en la boca. </p><br><p>  Luego tomaron un modelo de la mand√≠bula del paciente, lo que pudieron hacer durante mucho tiempo.  Por ejemplo, para hacer coronas, a una persona se le dio una mordida de algo como una plastilina especial.  Hab√≠a un molde de dientes que estaba lleno de material.  Entonces obtuvieron una copia de la mand√≠bula, y tiraron de pl√°stico (de alguna manera la calentaron), y la boquilla est√° lista.  Es decir, todo este mercado literalmente hace 20 a√±os era completamente anal√≥gico. </p><br><p>  Ahora el volumen de producci√≥n en la regi√≥n de 300-400 mil revestimientos por d√≠a (eval√∫e la escala).  Estas son manufacturas gigantescas, por lo tanto, est√°n completamente automatizadas. </p><br><p> Para crear un revestimiento, imprimimos en un molde especial de impresora 3D.  Esto es, de hecho, una copia de la mand√≠bula del paciente durante el tratamiento.  Modelamos c√≥mo se ver√° la mand√≠bula en una semana, dos, mes, a√±o.  Luego comenzamos el proceso de termoformado: tomamos una cinta de pl√°stico, la calentamos y la colocamos en el molde.  Cortar y obtener un forro de pl√°stico. </p><br><p>  Por el momento, nadie ya est√° enviando pacientes, y utilizan esc√°neres intraorales tridimensionales.  Tenemos chicos haciendo esto en una oficina cercana.  Esta es probablemente la parte m√°s "guau" de nuestra producci√≥n.  All√≠, en tiempo real, una boquilla especial conduce a lo largo de la mand√≠bula y construye su forma.  La informaci√≥n se carga en los servidores de la empresa, se procesa y se env√≠a a nuestros especialistas (t√©cnicos).  Pueden editar el escaneo, eliminar el ruido. </p><br><p>  Luego, el tratamiento se planifica en un sistema CAD especializado.  Esto es algo muy complicado, porque nadie sabe cu√°l es la mordida correcta.  Cada m√©dico tiene su propia opini√≥n sobre este asunto.  Actualmente estamos trabajando para formalizar los enfoques de tratamiento, pero esto a√∫n no est√° en el producto. </p><br><p>  Pero volvamos a C ++.  Existe tal problema, por ejemplo.  Los moldes se imprimen en una impresora 3D especial con tecnolog√≠a de estereolitograf√≠a l√°ser.  Hay una gran tina con un l√≠quido fotopol√≠mero especial.  Brillan con un l√°ser y se endurece.  Primero, brillan en la parte inferior del modelo impreso, luego un poco m√°s alto, incluso m√°s alto, etc.  Y as√≠, dentro del fluido, aparece un modelo s√≥lido de abajo hacia arriba en capas. </p><br><p>  Imprimir un molde por uno no ser√≠a pr√°ctico.  El tanque es bastante grande y puedes ponerle alrededor de cien moldes.  Pero deben estar dispuestos de forma compacta.  La forma del molde es similar a la de una herradura, es decir, no convexa y bastante compleja.  Y todos son diferentes.  Resulta una tarea interesante de mosaico de un rect√°ngulo con figuras complejas. </p><br><p>  Aqu√≠, en este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">video de la marca de tiempo especificada,</a> puede ver c√≥mo se ve. </p><br><p>  Este es solo un ejemplo, hay muchas tareas. </p><br><p>  <b>Pavel:</b> Tus descripciones son como c√°lculos de alta tecnolog√≠a.  Idiomas como Fortran hist√≥ricamente han tenido un buen desempe√±o en ellos.  Al menos a√∫n puedes ver los ecos.  ¬øPor qu√© exactamente C ++? </p><br><p>  <b>Michael:</b> Bueno, no Fortran, ser√≠a muy poderoso.  Al comienzo del desarrollo, el producto principal era este sistema CAD muy especializado: una aplicaci√≥n de escritorio para Windows.  Por lo tanto, se necesitaba un lenguaje para una computaci√≥n eficiente y al mismo tiempo para desarrollar la aplicaci√≥n en s√≠.  No hab√≠a muchas opciones en ese momento, solo C ++. </p><br><p>  Ahora tenemos un zool√≥gico de idiomas: JavaScript y TypeScript para la web, Java para aplicaciones m√≥viles, Go para servidores, Python para automatizaci√≥n, y hay muchas cosas peque√±as.  B√°sicamente, una pila est√°ndar.  Y en aplicaciones cient√≠ficamente intensivas y computacionalmente complejas, C ++ permanece. </p><br><h2>  Cuanto m√°s alta es la posici√≥n, m√°s amplios son los horizontes. </h2><br><p>  <b>Pavel:</b> Mencionaste tu posici√≥n como ingeniero principal.  Y entonces not√© tal extra√±eza.  Si le preguntaran al desarrollador novato de C ++ de su empresa qu√© estaba haciendo, dir√≠a que estaba haciendo girar alg√∫n tipo de s√∫per marco basado en plantillas, que basado en booststage equilibra el servidor, y la tecnolog√≠a se caer√≠a inmediatamente. </p><br><p>  Cuando se le pregunta qu√© est√° haciendo su empresa, comienza una historia completa sobre el negocio: d√≥nde est√° el dinero, por qu√© es importante, etc.  ¬øEsto de alguna manera se correlaciona con tu posici√≥n?  ¬øCu√°l es esta visi√≥n de procesos, tecnolog√≠as, herramientas? </p><br><p>  <b>Michael:</b> S√≠, tal vez.  Pero adem√°s, si empiezo inmediatamente a contar c√≥mo cruzo √°rboles (aunque no lo hago yo mismo), no ser√° claro para todos.  Por ejemplo, los tipos de Yandex, Kaspersky Lab pueden comenzar con la tecnolog√≠a, porque todos conocen sus productos.  Estamos hablando de revestimientos, de los cuales un peque√±o n√∫mero de personas saben.  Por lo tanto, es necesario explicar qu√© es. </p><br><p>  En cuanto a c√≥mo esto se correlaciona con la publicaci√≥n.  En mi grado, al menos tengo que entender los elementos de nuestro flujo de trabajo de los sistemas actuales que trabajan juntos.  Despu√©s de todo, si algo cambia, esto puede afectar la producci√≥n, el sitio de los m√©dicos, la interfaz con la que interact√∫an t√©cnicos, m√©dicos y analistas de negocios.  Es decir, s√≠, hay una correlaci√≥n.  Con el crecimiento de la calificaci√≥n, necesita ver mejor lo que est√° sucediendo en la empresa. </p><br><p>  <b>Pavel:</b> ¬øPens√≥ c√≥mo la introducci√≥n de nuevas tecnolog√≠as, por ejemplo, las relacionadas con C ++, afectar√≠a el flujo de trabajo?  Pocas personas ven las nuevas caracter√≠sticas del lenguaje.  Y si no, cu√©ntenos c√≥mo implement√≥ recientemente las herramientas. </p><br><p>  <b>Michael:</b> No recuerdo acerca de C ++ de improviso.  Si tomamos las herramientas, lo √∫ltimo que arruinamos es un sistema de registro basado en la nube.  Utilizamos espec√≠ficamente Splunk para esto.  Inicialmente, la plataforma estaba bajo el escritorio, y la migraci√≥n a la nube ahora est√° en pleno apogeo.  Por lo tanto, fijamos, en particular, el registro basado en la nube.  Nuestro gerente aprendi√≥ r√°pidamente a hacer solicitudes y crear hermosos paneles, mostrar gr√°ficos en tiempo real.  Estaba muy contento  Se lo envi√© a todos y dije: vean c√≥mo variamos el tiempo de funcionamiento de un algoritmo tan complejo, ¬øcu√°l es la raz√≥n?  Comenzaron a comprender, nos dimos cuenta de que casi no tenemos subprocesos m√∫ltiples en agentes de prueba.  Algo se introduce constantemente. </p><br><h2>  C ++, Legacy, multiplataforma y todo, todo, todo </h2><br><p>  <b>Oleg:</b> ¬øEntiendo correctamente que tienes renderizado en el navegador? </p><br><p>  <b>Michael:</b> S√≠, lo hay. </p><br><p>  <b>Oleg: las</b> tecnolog√≠as del navegador cambian constantemente.  ¬øDe alguna manera afecta?  Por ejemplo, el nuevo JS, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Shading Language</a> , algo as√≠. </p><br><p>  <b>Michael:</b> Afecta, pero aqu√≠ es un poco aburrido.  En t√©rminos de renderizado, la escena es bastante simple.  No tenemos efectos especiales incre√≠bles. </p><br><p>  <b>Pavel:</b> bien.  Pero dijo que comenz√≥ con una aplicaci√≥n de escritorio, donde C ++ era la mejor soluci√≥n que combinaba todas las ventajas.  Cuando el negocio comenz√≥ a crecer con el producto, comenz√≥ a desarrollar otras plataformas.  Alg√∫n c√≥digo fue al navegador, otro al backend, otro a los tel√©fonos m√≥viles.  ¬øPermaneci√≥ el n√∫cleo "positivo" en todas las plataformas? </p><br><p>  <b>Michael: El</b> movimiento a otras plataformas comenz√≥ hace dos a√±os, y para nuestra escala esto es poco tiempo.  Por lo tanto, nuestra primera soluci√≥n en la nube fue un monolito de escritorio, desde el cual, en t√©rminos generales, se lanz√≥ la GUI.  Hace aproximadamente un a√±o y medio, aislamos el n√∫cleo condicional y el enlace a su alrededor, por lo que pudimos compilarlo y ejecutarlo ya en Linux.  Fue un gran avance.  Linux era importante para nosotros principalmente porque las m√°quinas Linux en la nube son mucho m√°s baratas. </p><br><p>  Ahora queremos separar el n√∫cleo inform√°tico en C ++, donde se realizar√°n todos los c√°lculos complejos, de la l√≥gica empresarial que describe qu√© hacer y en qu√© orden, de d√≥nde vino el caso, qu√© tipo de producto, qu√© tiene derecho el m√©dico a hacer y qu√© no, y Eso es todo. </p><br><p>  <b>Pavel:</b> Probablemente ya tenga una hoja de ruta de este proceso, ya que habla muy bien de ello. </p><br><p>  <b>Michael:</b> Intentamos muchas veces crear una hoja de ruta.  Entendemos a d√≥nde parece que podemos movernos, teniendo en cuenta los 20 a√±os de Legacy (no puedes llegar con medio d√≥lar, debes pensarlo). </p><br><p>  La interacci√≥n de proyectos positivos ahora se realiza de una manera simple.  De estos, son las interfaces C ++ las que sobresalen, por lo que solo se unen para asegurarse de que haya un compilador.  Un total de alrededor de 250 proyectos, cada uno yendo a su propia biblioteca din√°mica.  Y los combinamos de diferentes maneras para tareas espec√≠ficas. </p><br><p>  Unos 10 equipos trabajan en el sistema.  Cada equipo recluta un subconjunto de estos proyectos, generalmente 50-70.  Ahora nos estamos moviendo en la direcci√≥n en que se crear√° alg√∫n servicio en base a ellos.  Definimos una API estricta para el servicio (basada en protobuf u otra cosa), y hacemos un esquema est√°ndar de interacci√≥n entre servicios.  Es dif√≠cil llamar al proceso la separaci√≥n de la computaci√≥n y la l√≥gica, pero estos son los primeros intentos de componente. </p><br><p>  Mi equipo y varios otros ya han comenzado a hacer esto.  Inmediatamente sientes cu√°nto m√°s divertido cuando recolectas un monolito de no solo 250 proyectos, sino solo de 70. Y ya no hay una situaci√≥n en la que alguien haya cambiado otro m√≥dulo que interact√∫a con cosas aparentemente completamente no relacionadas, y algo se rompi√≥ .  Tiene un efecto psicol√≥gico genial.  Y mientras intentamos alejarnos de un monolito de escritorio saludable asignando condicionalmente 10 monolitos peque√±os a nuestros servicios. </p><br><p>  <b>Pavel: ¬ø</b> Y durante este proceso no consider√≥ si los m√≥dulos que est√°n a punto de ser cargados de alguna forma pueden ayudarlo en alguno de los niveles? </p><br><p>  <b>Michael: Fue</b> este proceso y el proceso de migraci√≥n de Linux con el que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conan</a> nos ayud√≥.  Tuvimos un grave problema con la gesti√≥n de terceros.  Habl√© sobre c√≥mo usamos Conan en C ++ Rusia 2019 en Mosc√∫. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/PGOvl0dH8lM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Los m√≥dulos "m√°s" ayudar√≠an a resolver algunos problemas con el tiempo de compilaci√≥n, donde, de hecho, todo comenz√≥, por qu√© todos quieren los m√≥dulos.  Reutilizar m√≥dulos positivos para interactuar con el servicio es una tonter√≠a, ya que se comunicar√°n en alg√∫n nivel de idioma independiente (protobuf), y con raz√≥n.  Tal vez podr√≠amos realizar componentes y no construir nuestros 250 proyectos desde la fuente cada vez, sino ponerlos en los paquetes de Conan.  Y si, por ejemplo, doblar dlls es inconveniente por ciertas razones, entonces montar en m√≥dulos es una opci√≥n. </p><br><p>  Pero no puedo decir que estamos esperando alguna caracter√≠stica que cambie nuestro enfoque del desarrollo. </p><br><p>  <b>Pavel:</b> Usted mencion√≥ que Conan lo ayuda a resolver problemas de administraci√≥n de paquetes.  En mi opini√≥n, hace aproximadamente 3 a√±os, la comunidad de C ++ solo habl√≥ de esto.  Aparecieron los primeros informes, los primeros requisitos previos.  Y ahora dices que ya funciona en producci√≥n. </p><br><p>  Cu√©ntanos tu experiencia en la evoluci√≥n del proyecto.  ¬øFue doloroso y vali√≥ la pena el proceso de transici√≥n? </p><br><p>  <b>Michael:</b> Definitivamente vale la pena.  Estamos satisfechos con Conan.  Hay algunos defectos all√≠, pero administrar dependencias en C ++ es una tarea muy dif√≠cil.  Por lo tanto, es obvio que no habr√° una herramienta simple para resolverlo. </p><br><p>  Con Conan y el proceso en √©l, hemos logrado un equilibrio entre la tarea y la complejidad de la soluci√≥n.  Inicialmente dijimos: "Est√° bien, queremos resaltar tales y muchos conjuntos de compiladores y configuraciones, luego construir bibliotecas din√°micas (en lugar de las est√°ticas) de forma predeterminada, establecer un peque√±o conjunto de restricciones", y comenzamos a construir un sistema dentro de este conjunto de restricciones.  Tenemos una p√°gina wiki "C√≥mo crear una receta de Conan para una biblioteca", que tiene en cuenta todos los detalles de nuestro sistema.  La p√°gina es bastante grande y no muy simple.  Pero, nuevamente, hemos alcanzado un equilibrio de complejidad, as√≠ que estoy satisfecho con la transici√≥n. </p><br><p>  <b>Pavel:</b> Y aqu√≠, por cierto, en el pr√≥ximo C ++ Russia 2019 Piter, Denis Panin de NVIDIA <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">hablar√°</a> sobre la alternativa representada por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">vcpkg</a> .  ¬øSer√≠a interesante para usted ir al informe y escuchar c√≥mo les est√° yendo en otras herramientas? </p><br><p>  <b>Michael:</b> S√≠, ser√≠a interesante.  Us√© vcpkg un poco, pero, en mi opini√≥n, hay muy poca flexibilidad en vcpkg.  Y no puedo imaginar c√≥mo podr√≠amos construir un sistema con nuestros requisitos basados ‚Äã‚Äãen vcpkg.  Pero si necesito tomar y probar r√°pidamente alg√∫n tipo de biblioteca, entonces no la descargar√© y leer√© las instrucciones de compilaci√≥n, que hay que especificar c√≥mo registrar las dependencias, esto es toda la basura.  Ver√© si est√° en los puertos vcpkg.  Si lo hay, p√≥ngalo r√°pidamente, experimentando con √©l.  Si todo est√° bien, voy a escribir una receta de Conan para ella. </p><br><p>  <b>Pavel:</b> Continuemos con la introducci√≥n de nuevas herramientas y enfoques.  ¬øTe has encontrado con el hecho de que los ingenieros vienen corriendo con ojos ardientes de la conferencia, donde se les inform√≥ sobre algo nuevo y genial, y quieren insertarlo en el proyecto?  ¬øC√≥mo suele reaccionar ante tales cosas?  ¬øO entonces recurres despu√©s de cada conferencia? </p><br><p>  <b>Michael:</b> Solo hay una gran historia.  Cuando reci√©n comenc√© a trabajar en la empresa, escribieron una funci√≥n y fue necesario configurarla.  Adem√°s, una caracter√≠stica puede tener varias versiones diferentes, y los valores de propiedades espec√≠ficas se pueden revolver entre diferentes versiones.  Y se me ocurri√≥ un esquema genial basado en YAML donde hab√≠a herencia y redefinici√≥n de propiedades.  Lo escribi√≥ durante aproximadamente una semana, lo cubri√≥ con pruebas.  Y al principio, el gerente se me acerc√≥ y me dijo: "Escucha, Michael, ¬øtal vez no necesites perder el tiempo ahora y hacer un esquema tan flexible?"  Pero no pudo convencerme.  Mis ojos estaban demasiado quemados. </p><br><p>  Despu√©s de un par de a√±os, miro este c√≥digo y no entiendo por qu√© fue tan dif√≠cil de hacer.  Esto sucede, pero, afortunadamente, desde entonces me he vuelto m√°s inteligente.  Adem√°s, por lo general, los desarrolladores son personas muy racionales, puedes hablar con ellos. </p><br><p>  Sol√≠a ‚Äã‚Äãser que alguien estaba tomando decisiones dudosas de terceros.  No est√° claro por qui√©n est√°n desarrollando, la √∫ltima actualizaci√≥n fue hace 5 a√±os, no se ha verificado si funciona con Linux, generan informes en un formato propietario que no se puede convertir a nada.  Y estamos sentados y no entendemos qu√© hacer a continuaci√≥n.  La mayor√≠a de estos terceros se agregaron hace muchos a√±os, pero sucede que algo similar sucede ahora. </p><br><p>  Por lo tanto, se nos ocurri√≥ algo bastante simple: una lista de verificaci√≥n de terceros.  Si desea arrastrar a un tercero, simplemente revise los elementos de la lista de verificaci√≥n: multiplataforma, nivel de soporte, licencia, qu√© an√°logos, nivel de soporte de desarrollo (cu√°ntos mantenedores admiten, qu√© comunidad).  Todos los puntos son obvios, pero hay muchos, y cuando escribes un tercero, no recordar√°s todo de inmediato.  La situaci√≥n ha mejorado y estamos viendo lo que se agrega. </p><br><p>  Tambi√©n es genial que antes fuera f√°cil arrastrar a un tercero y ensamblarlo, por ejemplo, solo en un lanzamiento en "Windows" y 32 bits.  Ahora, en principio, no existe tal posibilidad, ya que debes ponerlo en Conan.  Y si arrastra a un tercero, tendr√° que asegurarse o indicar expl√≠citamente que en alguna configuraci√≥n no lo har√°.  Gracias a esto, el tercero izquierdo comenz√≥ a agregarse mucho menos. </p><br><p>  <b>Oleg:</b> ¬øY qu√© hay del tercero, que vive muy poco?  Por ejemplo, algo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de pad izquierdo</a> de JavaScript.  √âl va a tu lista de verificaci√≥n.  A menudo es actualizado, mantenido, hecho por paquetes. </p><br><p>  <b>Michael:</b> No hay tal cosa.  En C ++, los terceros suelen ser algo complicado.  Y no se utilizan soluciones de terceros que realizan peque√±as funciones.  De hecho, en C ++ no es tan simple agregar un tercero.  Y esto no es JS, en el que cada uno tiene su propio m√≥dulo. </p><br><p>  Condicionalmente hemos retirado 80 terceros, la mitad de los cuales nunca he visto.  O alg√∫n tipo de geometr√≠a infernal que se escribi√≥ hace 15 a√±os en alguna universidad, y lo tenemos. </p><br><p>  <b>Oleg:</b> Con Conan, es f√°cil agregar un tercero. </p><br><p>  <b>Michael:</b> Conan es m√°s f√°cil, pero a√∫n est√° lejos del mismo Python donde escribes pip install y listo.  C ++ tiene un ecosistema muy complejo: diferentes sistemas operativos, compiladores, cadena de herramientas, bibliotecas, est√°ndares.  La mayor√≠a de las bibliotecas tienen muchas opciones. </p><br><p>  Les gusta preguntarnos: "¬øPor qu√© escribes las recetas de tu biblioteca, pero no las tomas del centro de Conan?"  Desde all√≠ busqu√© peri√≥dicamente recetas, pero no nos satisfacen.  Estamos mejor  Por ejemplo, nuestras recetas se encargan de los s√≠mbolos de d√©bito y agregan un enlace a las fuentes que contienen.  Entonces, cuando obtiene una biblioteca de terceros del depurador de Visual Studio, las fuentes se cargan autom√°ticamente. </p><br><p>  Entonces con Conan es mucho mejor, pero a√∫n lejos de la conveniencia de otros idiomas. </p><br><p>  <b>Oleg:</b> ¬øHay alguna falla en el propio Conan que me gustar√≠a corregir? </p><br><p>  <b>Michael:</b> S√≠, hay inconvenientes, pero t√©cnicos. </p><br><p>  Conan tiene m√©todos que condicionalmente son responsables de generar paquetes y de conectar los paquetes generados a su soluci√≥n.  Ideol√≥gicamente, estas son dos etapas diferentes, y puedo cambiar una sin cambiar la otra.  Cuando cambio la forma en que se conectan los paquetes, no quisiera regenerar paquetes binarios, porque ser√°n exactamente lo mismo.  No puedes hacer esto en Conan, porque la receta es una entidad.  Si cambiaste la receta, formalmente tienes que cambiar la versi√≥n y generar nuevos binarios, lo cual es inconveniente. </p><br><h2>  Caracter√≠sticas de la transici√≥n a nuevos est√°ndares. </h2><br><p>  <b>Pavel:</b> Hablemos de nuevos est√°ndares.  Adem√°s, su producto ya tiene algo de historia. </p><br><p>  Ahora llegamos a la conferencia, donde cada tres a√±os nos cuentan sobre nuevas caracter√≠sticas maravillosas.  Por ejemplo, en C ++ Russia 2019 Piter habr√° tres informes sobre los pr√≥ximos cambios en el idioma.  ¬øTiene alguna experiencia migrando la antigua base de c√≥digo, que correspond√≠a a los est√°ndares antiguos, a lo que se ofreci√≥ o se ofrecer√°? </p><br><p>  <b>Mikhail:</b> S√≠, tuve esa experiencia, habl√© un poco sobre ella en C ++ Rusia 2019. Tuvimos una migraci√≥n de Visual Studio 2013 a Visual Studio 2017 y gcc, es decir, agregamos simult√°neamente soporte de Linux y compiladores actualizados de Microsoft. </p><br><p>  Los problemas en el c√≥digo fueron mucho menores en comparaci√≥n con los problemas organizativos, t√©cnicos, de infraestructura, CI y el resto del ajuste.  Y nuestros problemas en el c√≥digo estaban principalmente relacionados con UB, que, despu√©s de actualizar el compilador, comenz√≥ a dispararse.  Aunque C ++ propaga la podredumbre durante a√±os de compatibilidad con versiones anteriores, pero ayuda.  Ahora compilamos todo en C ++ 17. </p><br><p>  Los vorings no se sincronizan cuando los desarrolladores recopilan en Windows, ingresan a CI y solo despu√©s de eso comienzan a ensamblarse en Linux.  Pero no hubo problemas significativos. </p><br><p>  En C ++ 17, se eliminaron algunas cosas obsoletas, pero pasamos solo unas pocas horas elimin√°ndolas.  Por ejemplo, la biblioteca log4cplus usaba std :: auto_ptr en los encabezados, pero en las nuevas versiones ya estaba reemplazada por std :: unique_ptr, por lo que era suficiente simplemente actualizar la biblioteca. </p><br><p>  Entonces, la migraci√≥n al nuevo est√°ndar fue relativamente indolora.  Y dado el tama√±o de nuestra base de c√≥digo, me sorprende la cantidad de problemas que hemos encontrado. </p><br><h2>  Sobre el cintur√≥n marr√≥n y negro en C ++ </h2><br><p>  <b>Pavel:</b> T√∫ y yo ya estamos hablando de los procesos existentes, donde los desarrolladores con experiencia ya trabajan.  Pensemos en los desarrolladores noveles que reci√©n est√°n aprendiendo.  ¬øCon qu√© est√°ndar de C ++ recomendar√≠as comenzar? </p><br><p>  <b>Michael:</b> Debemos tomar el √∫ltimo est√°ndar de inmediato.  No aprender√° STL en el mismo C ++ 98, ya que STL sin lambdas no tiene sentido.  Si nos fijamos en los cursos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Fundamentos del desarrollo de C ++: Cintur√≥n marr√≥n"</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Fundamentos del desarrollo de C ++: Cintur√≥n negro"</a> en Coursera, entonces ya estamos escribiendo C ++ 17 all√≠.  Por ejemplo, usamos enlaces estructurados. </p><br><p> <b>:</b> ,     .   ,      . ,            ? </p><br><p> <b>:</b>       ,      .    ,        C++.       ,     C++,    ,       .    ,     ,       .  ,       , , ,    .     ,     .       , ,      ,         Align Technology. </p><br><p> <b>:</b>  ,       ,  .  Por qu√© </p><br><p> <b>:</b> -,  ‚Äî  .  ,     .          ,     .       ,     ,      ,      . -,  ,      ,   .    . -,       -   ( ),  -,     .    .        .     .      .       . ,       ,  ,   ,    . ,       ,  tutorial     .      -,     ,    . </p><br><h2>    </h2><br><p> <b>:</b> ,    .     ,    .     ? </p><br><p> <b>:</b>    ,    . ,            . </p><br><p> <b>:</b>   ,       ¬´¬ª  .  ,   .     ¬´¬ª  ,      ? </p><br><p> <b>:</b>      ,   ,    .   .        ,  - .   ,   . </p><br><p>        C++  .     ,  .      ,    .  , ,    .       .  -   ,    . </p><br><p>   ,    .       ,  ,    ,   .    ,    .          ¬´  ?¬ª.      ,   . </p><br><p> .     C++ Russia      .      ? </p><br><p> <b>:</b>      .   , ,   .   , ,     .      ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   </a> . </p><br><p> <b>:</b>  ,     .     ,     ?     2015,    2019    2020 ? </p><br><p> <b>:</b>  , ,    ,  ,   .  -    .   ,        ,    ,     .    ,   ,     .   ,        . </p><br><p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  CppCon 2018   </a> .   ,    ,      .  C++ .   ,      ,   . </p><br><p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a>      .      ,    ‚Äî ,    . </p><br><p> <b>:</b>     ? </p><br><p> <b>:</b>       const, volatile, static, constexpr, inline, extern       .   ,  ,    .. </p><br><p> <b>:</b>      consteval  constinit? </p><br><p> <b>:</b>      .     ,     ,  . ,   3-4     ,  . </p><br><p> <b>:</b> ,  ,  Visual Studio     constexpr? </p><br><p> <b>:</b> Visual Studio   .   ,    . ,   constexpr-. </p><br><p> <b>:</b>     ,    :    ,   ,    . </p><br><p> <b>:</b>   Visual Studio ,    .   ,    2010 :     ,   .    Microsoft   . </p><br><p> <b>:</b>    .       : const, constexpr, constinit, consteval , , final.  final  , , constfinal? </p><br><p> <b>:</b> final,      ,   .     . ,     constfinal,   . </p><br><p> <b>:</b>  ,     ,    ,   ,   .        ? </p><br><p> <b>:</b> ,       ,    .     ,      ,    . </p><br><p> <b>:</b>         ? </p><br><p> <b>:</b> , JUG Ru Group   ,      (). </p><br><p> <b>:</b>      .        ? </p><br><p> <b>:</b> ,   ‚Äî       .           ,   ,  ,   .    . </p><br><p> <b>:</b>   .   ,       ? </p><br><p> <b>:</b> , .         ,     (). </p><br><blockquote>        C++ Russia 2019 Piter   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">¬´,   ¬ª</a> .    ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  </a> . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/473628/">https://habr.com/ru/post/473628/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../473608/index.html">Una gu√≠a para comprender el concepto de desarrollo moderno de aplicaciones web</a></li>
<li><a href="../473610/index.html">Analizando la nueva consola web Plesk Obsidian</a></li>
<li><a href="../473612/index.html">Tratado sobre el alfiler. Reflexiones sobre la configuraci√≥n y el trabajo con pines en C ++ para microcontroladores (utilizando CortexM como ejemplo)</a></li>
<li><a href="../473614/index.html">El libro "Cabeza primero. Kotlin ¬ª</a></li>
<li><a href="../473626/index.html">‚ÄúEl desarrollador quiere comprar un avi√≥n en tres a√±os. Mi tarea es ayudarlo "- Denis Pushkin sobre la motivaci√≥n de Skyeng</a></li>
<li><a href="../473630/index.html">Mejores pr√°cticas y herramientas para desarrollar aplicaciones iOS</a></li>
<li><a href="../473632/index.html">Vimos un art√≠culo sobre Habr</a></li>
<li><a href="../473634/index.html">Comcast lobbies proh√≠be el cifrado de DNS</a></li>
<li><a href="../473636/index.html">Descargue 16GB torrent a trav√©s de una tableta con 4GB de espacio libre</a></li>
<li><a href="../473638/index.html">Shader no es m√°gico. Escribiendo sombreadores en Unity. Introduccion</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>