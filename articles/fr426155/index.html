<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçüé§ üè¨ üßëüèø‚Äçü§ù‚ÄçüßëüèΩ Nous optimisons le web avec Vitaliy Fridman: vitesse de t√©l√©chargement, m√©moire, CPU üë¶üèæ üë®üèº‚Äç‚öïÔ∏è üôçüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ceci est le deuxi√®me article sur toutes sortes de trucs dans le d√©veloppement frontal. Cela a soulev√© la question de l'optimisation du site, de sa vit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous optimisons le web avec Vitaliy Fridman: vitesse de t√©l√©chargement, m√©moire, CPU</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/426155/"> Ceci est le deuxi√®me article sur toutes sortes de trucs dans le d√©veloppement frontal.  Cela a soulev√© la question de l'optimisation du site, de sa vitesse de chargement sur des appareils avec une RAM insuffisante et un CPU lent. <br><br>  Une discussion s√©par√©e concerne les outils qui permettront d'acc√©l√©rer et de contr√¥ler le travail du site et des applications tierces qui y sont connect√©es.  Plus une histoire sur les fonctionnalit√©s de la mise en page des newsletters par e-mail, qui vous surprendra beaucoup. <br><br><img src="https://habrastorage.org/webt/zf/1c/kt/zf1ckt8e4dlgbgxspmx4jstblkw.jpeg"><br><br>  Le mat√©riel est bas√© sur la transcription du rapport de Vitaly de la conf√©rence <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HolyJS 2018 Piter</a> . <br><a name="habracut"></a><br>  La premi√®re partie est ici: Nous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">optimisons le web avec Vitaliy Fridman, - compression, images, polices, fonctionnalit√©s HTTP / 2 et ressources Hints</a> . <br>  La deuxi√®me partie: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/wuTPzW6aK0Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h2>  Moutarde et appareils lents </h2><br>  Cette partie se concentrera sur les performances.  Comment l'augmenter?  Pendant un certain temps, nous avons utilis√© la technique Couper la moutarde.  Son essence est d'utiliser l'extrait de code pour savoir si nous avons affaire √† l'ancien ou au nouveau navigateur.  En fonction de cela, il a √©t√© d√©termin√© quel script et quels styles charger, afin de ne pas les charger avec des fonctionnalit√©s inutiles. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e57/1b7/0b6/e571b70b633bdbc49dc1e84b5b0e0dbc.png"></div><br>  Exemple d'extrait de code pour la d√©finition du navigateur <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7cc/3e7/2bc/7cc3e72bcb34b8a799ac7acd1147d305.png"></div><br>  Ensuite, il est devenu possible de remplacer la s√©quence de querySelector, localStorage et addEventListener par l'API d'√©tat de visibilit√© - et c'est essentiellement ce qu'ils ont fait dans les petits projets.  Mais il y avait un probl√®me avec cette technique - le m√™me qu'avec toutes les autres techniques, y compris celles que vous utilisez. <br><br>  Le probl√®me est que lorsque nous voulons donner de beaux styles √† un nouveau navigateur, nous ne savons pas dans quelle mesure il les rendra, car cela d√©pend de l'appareil sur lequel il s'ex√©cute.  Le fait est qu'il existe des appareils du segment bas de gamme (par exemple, Motorola Moto G4) qui ont peu de RAM et un processeur faible.  Cependant, ils ont un nouveau navigateur install√© qui prend en charge toutes (ou presque toutes) les technologies que nous avons. <br><br>  Il n'est donc plus possible d'utiliser cette technique aujourd'hui. <br><br><h2>  Suivez Google avec le Moto G4 dans votre poche </h2><br>  Pourquoi ne pas faire appara√Ætre la mise en page r√©active uniquement sur les appareils qui la "tirent" en termes de ressources mat√©rielles?  Pour ce faire, nous pouvons utiliser l'API Device Memory.  Si cette API n'est pas disponible, vous pouvez revenir √† ¬´couper la moutarde¬ª. <br><br>  Et voici le Moto G4 lui-m√™me: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/32d/502/02f/32d50202fef9d9581f141bfca67128e9.png"></div><br>  Dans la figure ci-dessous, vous pouvez voir o√π se situe le Moto G4 dans le classement des t√©l√©phones selon le crit√®re de temps pour lequel javascript est analys√©.  Il s'agit d'une moyenne - et il existe de nombreux t√©l√©phones de ce type.  Compar√© au leader du classement, ce t√©l√©phone a besoin de 16 fois plus de temps pour l'analyse. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c2/62f/704/7c262f704e90d6ae1288e08c65c96d90.png"><br><br>  Si vous regardez les donn√©es sur les sites sur les t√©l√©phones mobiles, vous pouvez voir que la plupart du temps est consacr√© √† l'analyse de JS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac4/44e/e09/ac444ee09e1932cdd2f38a79c5bc7231.png"><br>  <i>Le jaune indique le temps d'analyse de la page</i> <br><br>  En fait, c'est un tr√®s gros probl√®me.  Afin de garer 1 m√©gaoctet de scripts, le Moto G4 prend 35 secondes.  √âtant donn√© que la plupart des sites n'utilisent que 40% du script entier sur le site, vous pouvez essayer de trouver un moyen de sortir de cette situation afin de r√©duire le temps d'analyse.  Dans Gmail, par exemple, ils ont comment√© tout le code et l'ont envoy√© en tant que variable de texte, puis, lorsque ce code √©tait requis, cette variable √©tait eval. <br><br>  Google recommande qu'il existe un soi-disant temps pour le budget interactif, une p√©riode pendant laquelle la plupart des utilisateurs attendent l'opportunit√© d'interagir avec le site - et ce n'est que 5 secondes.  √âtant donn√© que 1,6 seconde est consacr√©e aux interactions r√©seau, il ne nous reste que 3,4 secondes - c'est-√†-dire que si nous prenons la vitesse de connexion moyenne de 400 kbps, pendant ce temps, nous pouvons envoyer un maximum de 170 Ko de donn√©es.  Ce n'est pas suffisant pour envoyer quoi que ce soit qui puisse √™tre utilis√© imm√©diatement.  √âtant donn√© que cela inclut les frameworks, les utilitaires, le chemin critique, js, css, html, cette quantit√© de donn√©es est tr√®s, tr√®s petite. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b81/b91/be2/b81b91be2d9a9b3e55ff61c382ac0db3.png"><br><br>  Comment int√©grer le c≈ìur de l'application dans 170 Ko?  Google recommande de nombreuses mesures diff√©rentes que vous pouvez utiliser, elles divisent la charge en √©tapes par le temps: d√©lai jusqu'au premier octet (la navigation commence) - avant la transmission du premier octet, premi√®re peinture - jusqu'au chargement de la premi√®re image, premi√®re peinture satisfaisante - jusqu'√† ce que la navigation apparaisse sur le site , premi√®re peinture significative - lorsque presque tout est pr√™t pour le contenu, visuellement pr√™t - avant de charger la page enti√®re, il est temps d'interagir - jusqu'√† ce qu'il soit possible d'interagir avec la page, enti√®rement charg√© - lorsque la page est compl√®tement pr√™te. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/97e/a67/cad/97ea67cad87294689a2ea1a7d518de15.png"><br><br>  En g√©n√©ral, une telle m√©trique sera sp√©ciale pour chaque site, nous devons donc √©galement composer la n√¥tre pour notre projet.  Alors, √† quoi ressemble la r√©f√©rence de performances optimales aujourd'hui? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/edf/054/b97/edf054b97e68a1f10f3bc9cf9825efe5.png"><br><br>  L'image montre quels aspects et objectifs vous devez prendre en compte lors du d√©veloppement de votre m√©trique. <br><br><h2>  Comment augmenter la vitesse de t√©l√©chargement? </h2><br>  Qu'est-ce qui est utile √† utiliser dans la lutte pour le temps de chargement?  Par exemple, l'outil de couverture de code - pour voir la couverture du code de page.  Il montre √©galement quel pourcentage du code n'est pas utilis√©. <br><img src="https://habrastorage.org/getpro/habr/post_images/a04/8a5/d89/a048a5d8949c6b6356aa513d254a2f94.png"><br><br>  Vous pouvez toujours utiliser l'audit de bundle JavaScript.  Si vous utilisez des troisi√®mes biblioth√®ques, vous pouvez les supprimer du runtime en utilisant, par exemple, webpack-libs-optimisations.  Et, bien s√ªr, vous devez abandonner le gif.  Il est possible de refuser la vid√©o, car l'analyse du conteneur vid√©o lui-m√™me prend √©galement beaucoup de temps.  Si vous ne pouvez pas refuser la vid√©o, utilisez le conteneur &lt; <code>img src</code> &gt; pour la placer. <br><br>  M√™me si vous avez des images r√©actives sur la page, vous pouvez utiliser le g√©n√©rateur de points d'arr√™t d'images r√©actifs.  Il aidera √† g√©n√©rer des images √† partir d'images r√©actives ou de groupes d'images pour une mise en page r√©active.  Vous pouvez sp√©cifier combien de kilo-octets vous avez besoin d'une image en utilisant les moteurs du g√©n√©rateur.  De plus, l'outil g√©n√®re le balisage lui-m√™me sur le site. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/23a/ac1/967/23aac1967ac1a7ca93eb5206710a4056.png"><br><br>  Si votre image a une partie importante, par exemple un visage ou un objet, elle fera le recadrage comme vous le souhaitez, ce qui est tr√®s pratique. <br><br>  Disons que vous avez beaucoup de photos.  Ensuite, vous pouvez recourir √† l'aide de LazySizes.  Il s'agit d'une biblioth√®que qui fait la m√™me chose que l'outil pr√©c√©dent, mais uniquement en utilisant JavaScript. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6d2/738/b83/6d2738b830fe5e0157a0deb4969a7cba.png"><br><br>  Vous pouvez voir o√π passe le temps lors de l'analyse. <br>  Un outil int√©ressant est les conseils de priorit√© - vous pouvez y demander ce qui est important √† t√©l√©charger plus t√¥t et ce qui est plus tard. <br><br>  Mais que faire des CSS critiques?  Ce n'est pas n√©cessaire si vous avez un bon serveur et CDN, les navigateurs essaient d'ouvrir une autre connexion si c'est HTTP / 1.  Et si c'est HTTP / 2, ils essaient de ¬´deviner¬ª quel CSS est n√©cessaire et lequel ne l'est pas.  Par cons√©quent, il vaut la peine de tester le fonctionnement de la version CSS critique et comment - si le CSS critique est enregistr√© en tant que fichier distinct √† la racine. <br><br><h2>  Guess.js </h2><br>  Oui, nous avons webpack, bundling, chunks.  Mais que se passe-t-il s'il existe un outil qui, √† l'aide d'algorithmes de pr√©diction et d'apprentissage automatique, aide √† pr√©dire quels morceaux seront n√©cessaires lors de la prochaine it√©ration de l'interaction utilisateur?  Guess.js √† l'aide d'une analyse pr√©dictive, bas√©e sur les donn√©es de Google Analytics, peut comprendre ce que la prochaine action sera effectu√©e par l'utilisateur et t√©l√©charger exactement le morceau de code n√©cessaire √† cette interaction. <br><br>  Il existe un plugin Guess pour webpack que vous pouvez essayer. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/951/4ac/243/9514ac2437d740216a49a79e03891eae.png"><br><br>  Tout cela se produit au niveau mondial: il existe de plus en plus de services bas√©s sur l'apprentissage automatique et l'intelligence artificielle qui peuvent am√©liorer la vie non seulement des utilisateurs, mais aussi des d√©veloppeurs.  Un tel outil est, par exemple, dans Airbnb: air / shots, un moteur de recherche que les concepteurs et les d√©veloppeurs de cette soci√©t√© peuvent utiliser.  Vous y trouverez des composants par balises, surveillez leurs connexions et s√©lectionnez les √©l√©ments n√©cessaires √† la mise en ≈ìuvre du projet. <br><br>  La fonction pour les concepteurs est tr√®s impressionnante: le concepteur dessine un croquis sur papier, l'apporte √† l'appareil photo, et l'interface n√©cessaire √† partir de composants pr√©con√ßus est automatiquement con√ßue pour lui.  Le travail est presque enti√®rement automatis√©. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/832/0ff/518/8320ff518026a7175efa499015b9da62.png"><br><br>  Un autre conseil: choisissez soigneusement un cadre de d√©veloppement.  Supposons que nous devons prendre en compte les √©l√©ments suivants: transfert r√©seau, analyse / compilation, co√ªt d'ex√©cution.  Bien s√ªr, il existe des outils pour cela, par exemple, vous pouvez tester le fonctionnement de votre application dans diff√©rents r√©seaux de donn√©es: 2G, 3G, Wi-Fi. <br><br>  Le probl√®me est que HTTP / 2 est, bien s√ªr, un bon nouveau standard, mais il est toujours plus rapide que HTTP / 1, et deuxi√®mement, il est beaucoup plus lent sur les connexions lentes, surtout s'il s'agit d'un appareil mobile.  Un autre probl√®me qu'il a est la pouss√©e du serveur: s'il y a une pouss√©e du serveur, ce serait un remplacement id√©al pour les CSS critiques.  Dans ce cas, l'utilisateur, demandant index.html, le recevrait dans l'appendice critical.css.  Mais d√®s que nous demandons une page au serveur, ce dernier ne sait pas toujours s'il est d√©j√† dans le cache. <br><br>  Par cons√©quent, un m√©canisme appel√© cache-digest est en cours de d√©veloppement: si nous allons √† la page pour la premi√®re fois, une pouss√©e du serveur se produit, si aucune pouss√©e - aucune r√©p√©tition.  Si ce n'est pas la premi√®re visite de la page, le serveur poussera quand m√™me.  Il s'agit d'un probl√®me que Google a d√©cid√© de r√©soudre √† l'aide de QUIC.  Il s'agit d'un module compl√©mentaire sur HTTP, ce qui rendra le m√©canisme plus r√©fl√©chi; il fonctionne √† la place de TCP sur le protocole UDP. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/279/171/3e4/2791713e4221c21963c1297ba0e3808b.png"><br><br>  QUIC a beaucoup de choses int√©ressantes: il est plus rapide sur les connexions rapides, sur 4G.  En m√™me temps, il est plus lent sur les connexions lentes.  De plus, comme il utilise UDP, il n√©cessite de grandes ressources CPU dans le cas de JavaScript.  Cela refl√®te l'image suivante: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ea5/90a/006/ea590a00612eadfcdf5fcec5290eeb76.png"><br><br><h2>  Travailleurs des services </h2><br>  Peut-√™tre qu'ils peuvent nous aider?  √Ä en juger par les statistiques, ils donnent une am√©lioration tangible des performances s'ils sont utilis√©s pour la mise en cache.  La premi√®re consiste √† optimiser les polices, la seconde √† personnaliser les employ√©s de service. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e74/2d2/238/e742d22382aba74e4c3cd3abca7b1702.png"><br><br>  Comment cr√©er un travailleur de service?  Vous pouvez utiliser PWA Builder, il g√©n√©rera m√™me une ic√¥ne et un manifeste pour vous afin de rendre votre application plus progressive. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6e7/66c/654/6e766c654d1b78af890bd9f9c6e9e895.png"><br><br>  Il existe un merveilleux site de statistiques PWA qui recueille diverses histoires et cas sur le travail avec PWA. <br><br><h2>  Scripts tiers - un pas vers le mal? </h2><br>  Y aura-t-il un sens √† am√©liorer les performances si vous avez install√© des scripts tiers sur le site, ont-ils charg√© plus de scripts sur le c√¥t√© et √©ventuellement surcharg√© l'appareil de l'utilisateur? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e2/1b8/6e5/1e21b86e52d130b8cf7e90b040dcf937.png"></div><br>  Nous ne savons m√™me pas quelles donn√©es ces scripts collectent.  Ils peuvent charger des ressources dynamiques qui peuvent changer entre les chargements de page.  Ainsi, ni les h√¥tes ni les ressources utilis√©s par les applications tierces ne nous sont inconnus.  Et si nous les chargeons dans une balise de script, ils ont m√™me acc√®s √† toutes les informations pr√©sentes sur le site. <br><br>  Afin de d√©couvrir ces informations, il existe un outil de cartographie des demandes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b36/807/99f/b3680799f1a8f56eba24afe86fde4f60.png"><br><br>  Il montre o√π vont les demandes, vous pouvez voir les ressources qui sont allou√©es pour ces demandes.  Vous serez particuli√®rement surpris s'il s'av√®re qu'un script tiers utilise le processeur de l'appareil pour extraire des bitcoins pour quelqu'un.  Surprise! <br><br>  Chrome essaie de bloquer la publicit√© d√©loyale avec son propre bloqueur de publicit√©s.  Bas√© sur la meilleure coalition publicitaire. <br><br>  Il existe √©galement le GDPR - un accord sur le traitement des donn√©es personnelles.  Il stipule que s'il y a des Europ√©ens parmi l'audience de votre site, vous devez alors respecter l'accord sur le traitement de leurs donn√©es personnelles, les supprimer sur demande, d√©crire chaque cookie que vous stockez.  Si un script tiers viole cet accord et que des probl√®mes surviennent, vous serez responsable. <br><br>  Alors, comment comprenez-vous ce que font les scripts tiers alors que vous ne les regardez pas?  Pour utiliser des outils pour les contr√¥ler, par exemple, en utilisant requestmap.webperf.tools, nous pouvons auditer le site et les scripts tiers.  Vous pouvez voir les statistiques plus tard par ID: requestmap.webperf.tools/render/[ID] <br><br>  Sur la page ci-dessous, il y a un lien pour t√©l√©charger le fichier CSV avec le rapport: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/888/1ca/d53/8881cad539e16a9ffafc17842c0a80a0.png"><br><br>  Ensuite, vous pouvez analyser les donn√©es via le terminal: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/110/e01/a91/110e01a9100bea271cee0103c9bafbed.png"><br><br>  Et obtenez le code qui doit √™tre ins√©r√© dans le bloc de test de page Web, puis mesurez la diff√©rence de performances entre l'application avec des scripts tiers et sans eux.  La diff√©rence sera √©vidente.  Cela ne signifie pas qu'ils doivent √™tre supprim√©s.  Il nous suffit de comprendre comment les optimiser. <br><br>  Comme d'habitude, il existe √©galement des outils pour cela.  Vous pouvez ins√©rer ce fichier CSV dans Excel et obtenir un aper√ßu assez d√©taill√© des applications tierces dont vous disposez, de leur ¬´poids¬ª et de leur chargement.  Et encore plus int√©ressant est d'essayer le serveur blackhole, son IP: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f0/3fd/170/2f03fd1701352b8ca60d1604b0549611.png"><br><br>  Pour savoir comment votre application se comportera si toutes les applications tierces tombent en timeout, ajoutez cette adresse IP au fichier hosts et voyez ce qui arrive √† votre application. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/65d/95d/3c2/65d95d3c263797ec8903a5bc322d2bed.png"><br><br>  Un autre conseil: ne jamais ajouter de scripts tiers via la balise de script.  Il est pr√©f√©rable de le faire via un iframe, car alors ils n'auront pas acc√®s au DOM sur votre page.  Soit dit en passant, dans l'iframe, il y a une propri√©t√© sandbox dans laquelle vous pouvez sp√©cifier exactement ce que le script sur la page peut faire et ce qui ne doit pas l'√™tre.  La sp√©cification Safe Frame a m√™me √©t√© cr√©√©e, ce qui indique que le script externe est isol√© des donn√©es de l'application et que son activit√© est surveill√©e.  Si vous √™tes int√©ress√© par ce sujet, des informations √† ce sujet peuvent √™tre trouv√©es sur github, le projet safeframe. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ce0/047/322/ce00473226f6cd407bcf914b553f8f60.png"><br><br>  Utilisez un technicien de service pour bloquer ou supprimer un script tiers s'il se bloque. <br><br>  √Ä l'aide de l'Observateur d'intersections, vous pouvez voir si une annonce a √©t√© affich√©e lorsqu'elle √©tait √† c√¥t√© de Viewport.  Cela vous permet de charger des blocs d'annonces lorsque l'utilisateur, lors de l'affichage d'une page, est proche du bloc d'annonces.  La distance par rapport au bloc d'annonces peut √™tre sp√©cifi√©e m√™me en pixels. <br><br>  Vous pouvez lire √† ce sujet dans les articles de Denis Mishunov "Now You See Mee: How To Afer, Lazy-Load And Act With Intersection Observer", Harry Roberts <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"It's My (Third) Party, and I'm Cry if I Want To"</a> , Yoav Weiss "Reprendre le contr√¥le du contenu tiers". <br><br><h2>  Courriel r√©actif </h2><br>  La pr√©sentation de la newsletter par e-mail a ses propres caract√©ristiques et r√®gles.  Les balises Img pour les clients sans afficher d'images en lettres doivent √™tre modifi√©es pour quelque chose, donc les attributs alt et autres magie noire sont utilis√©s. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3c8/6db/5e3/3c86db5e3c6b408e050b7a7df8b62c66.png"><br><br>  Pour la disposition normale des lettres, le groupe d'en-t√™te de table, le groupe de pied de table et d'autres attributs de table sont utilis√©s.  Mais que se passe-t-il si vous voulez quelque chose de nouveau, par exemple des requ√™tes multim√©dias: elles sont toujours prises en charge dans certains navigateurs, mais les choses sont pires avec les versions mobiles des clients de messagerie.  Et si utiliser: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/339/b9e/b32/339b9eb321f7141f436410ecf0b1c250.png"></div><br>  Voici <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un exemple d'une</a> telle magie: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9e0/790/14b/9e079014bb497151ba6384da415c5e23.png"></div><br>  Quelle est la valeur finale de la classe box?  Selon la situation, selon la sp√©cification, nous lisons ceci: si la valeur de largeur est sup√©rieure √† max-width, max-width est prioritaire. <br><br>  Mais si la largeur minimale est sup√©rieure √† la largeur ou √† la largeur maximale, la largeur minimale est alors appliqu√©e. <br><br>  Cela peut √™tre utilis√© lorsque les requ√™tes multim√©dias ne sont pas prises en charge.  Voici un exemple: comment cr√©er deux colonnes sur quatre sur un mobile?  La r√©ponse est: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/276/763/0a9/2767630a94f09befef77d85a694ebe96.png"><br><br>  En gros, la valeur de largeur d√©termine si la largeur max ou min gagne.  Ceci est un magnifique hack! <br><br>  Comment faire une lettre interactive?  Par exemple, ajoutez-y un flux Twitter en direct.  Oui c'est possible!  Il y a une image avec tous les tweets qui sont, est g√©n√©r√©e sur le serveur toutes les 2 secondes, nous l'animons juste et c'est tout.  Voici la solution. <br><br>  Comment cr√©er un email interactif dans lequel vous pouvez effectuer la totalit√© de la commande et la s√©lection des produits?  Regardez l'image et vous comprendrez: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/84a/037/791/84a0377915859524ab103447a661f61c.png"><br><br>  La logique li√©e √† l'√©tiquette, v√©rifi√©e et entr√©e'ah.  Il s'av√©rera une cha√Æne assez longue, mais, n√©anmoins, il est possible de le faire.  Voici un exemple avec des statistiques des √©l√©ments utilis√©s.  Veuillez noter que le prix est √©galement pris en compte par compteur et par incr√©ments: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/130/5ee/45d/1305ee45d8311e1a7a899e9422e44102.png"><br><br>  Cela semblerait fantastique, il s'av√®re que par e-mail, vous pouvez amener une personne √† acheter.  Mais tout n'est pas si simple, le courrier √©lectronique a une limite sur le nombre de caract√®res (12000), le support: v√©rifi√© et la taille du message est limit√©e √† 102kb. <br><br>  N√©anmoins, ce sont les principales tendances du marketing aujourd'hui, et cela peut √™tre vu dans les graphiques: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/025/da4/9aa/025da49aaba08ff0c09162f59d7c024d.png"><br><br>  C'est pourquoi Google a cr√©√© AMP.  Il est n√©cessaire de g√©n√©rer automatiquement le balisage n√©cessaire dans la lettre selon vos souhaits. <br><br><h2>  Polices variables </h2><br>  <i>Laurence Penney a fait une pr√©sentation utile √† ce sujet, assurez-vous d'y jeter un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">≈ìil</a> .</i> <br><br>  Voici un commentaire de Hakon Wium Lie, l'un de ceux qui ont √©crit la sp√©cification de police: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f4e/c01/cac/f4ec01cacebae0253506ae303b2b3b87.png"></div><br>  Cela ressemble √† ceci: ¬´L'une des raisons pour lesquelles nous avons choisi d'utiliser √† l'avenir des nombres √† trois chiffres (dans la sp√©cification de la valeur de poids de police) pour prendre en charge les valeurs interm√©diaires.  Et l'avenir est d√©j√† venu. ¬ª <br><br>  Un tr√®s gros probl√®me avec les polices en Asie: √©tant donn√© le grand nombre total de hi√©roglyphes et leurs diff√©rents styles.  Le chargement de polices diff√©rentes pour les hi√©roglyphes peut devenir un gros probl√®me de performances.  Heureusement, nous avons maintenant des polices it√©rables pour lesquelles vous pouvez sp√©cifier une seule des valeurs √† trois chiffres dont la personne qui a √©crit la sp√©cification a parl√©. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ace/c42/9b4/acec429b446c38c56aa68b7a0cb62d9a.png"><br><br>  Il suffit au concepteur de cr√©er deux styles de caract√®re - tr√®s √©pais pour la valeur 1000 et tr√®s fin pour la valeur 1. Tous les autres styles sont cr√©√©s automatiquement en cas de besoin.  Mais cela est vrai non seulement pour l'axe de largeur, mais aussi pour la hauteur. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/994/542/59d/99454259dbfa457f03c9ab608ecae9f7.png"><br><br>  Autre surprise: nous pouvons cr√©er les essieux nous-m√™mes sans trop de difficult√©s.  Pour ce faire, utilisez la propri√©t√© font-variation-settings en CSS.  Il d√©finit les valeurs des propri√©t√©s de haut niveau telles que font-weight, font-stretch et autres. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/356/ad6/1b7/356ad61b784430a3a4bb97afc4a2892e.png"><br><br>  Voici un exemple de concepteur de polices d√©finissant la police souhait√©e: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b78/dc7/7d7/b78dc77d7c9608589d0bc2a919168c9e.png"><br><br>  Mais que se passe-t-il s'il n'est pas pris en charge quelque part?  Vous devez utiliser un format de police, prendre en charge la restauration, pour les anciennes versions des navigateurs, et penser au comportement r√©actif - d√©finir correctement les valeurs pour diff√©rents √©crans.  Ainsi, nous utilisons le format WOFF2 pour les polices, il est plus progressif.  Pour les versions plus anciennes, le navigateur s√©lectionnera lui-m√™me la police souhait√©e, mais cela signifie un certain manque de contr√¥le sur le style. <br><br><h2>  R√©sumer </h2><br>  En r√©sum√©, nous pouvons dire que les sp√©cifications sont accept√©es beaucoup plus rapidement qu'auparavant.  Deux mois s'√©coulent et de nouvelles normes, approches, application apparaissent.  Mais c'est normal, comme il se doit, c'est l'occasion de se d√©velopper davantage. <br><br><blockquote>  Si vous avez aim√© le rapport, faites attention: du 24 au 25 novembre, un nouveau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HolyJS</a> se tiendra √† Moscou, et il y aura √©galement beaucoup de choses int√©ressantes.  Des informations d√©j√† connues sur le programme sont sur le site, et des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">billets</a> peuvent y √™tre achet√©s. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr426155/">https://habr.com/ru/post/fr426155/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr426141/index.html">Red Hat remplace Docker par Podman</a></li>
<li><a href="../fr426143/index.html">Animation 3D - vid√©o ou interactive?</a></li>
<li><a href="../fr426145/index.html">Atelier d'acceptation ind√©pendant, 23 octobre, Moscou</a></li>
<li><a href="../fr426149/index.html">Programme d'installation de Python √† faire soi-m√™me pour les versions Android de TeamCity</a></li>
<li><a href="../fr426151/index.html">Vendredi du programmeur, ou comme j'ai √©crit la biblioth√®que pour le code lexical et d'analyse</a></li>
<li><a href="../fr426157/index.html">PUE: savoir abaisser</a></li>
<li><a href="../fr426159/index.html">Est-il possible de refermer le code open source?</a></li>
<li><a href="../fr426161/index.html">La livraison de drones commerciaux est-elle justifi√©e? L'Islande va d√©couvrir</a></li>
<li><a href="../fr426163/index.html">Lockheed Martin r√©v√®le les d√©tails de conception du module lunaire</a></li>
<li><a href="../fr426165/index.html">Il n'y a peut-√™tre pas eu de fuite de donn√©es qui a tu√© Google+</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>