<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ë üïí üéæ Webinaire sur le d√©codage "SRE - battage m√©diatique ou l'avenir?" üåÆ üçÆ üíà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le webinaire a un mauvais son, nous l'avons donc d√©crypt√©. 


 Je m'appelle Edward Medvedev. Aujourd'hui, je vais parler de ce qu'est le SRE, de son a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Webinaire sur le d√©codage "SRE - battage m√©diatique ou l'avenir?"</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/480174/"><iframe width="560" height="315" src="https://www.youtube.com/embed/JUmR9YDkZdg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Le webinaire a un mauvais son, nous l'avons donc d√©crypt√©. </p><br><p>  Je m'appelle Edward Medvedev.  Aujourd'hui, je vais parler de ce qu'est le SRE, de son apparence, des crit√®res pour lesquels les ing√©nieurs SRE travaillent, un peu des crit√®res de fiabilit√©, un peu de sa surveillance.  Nous monterons √† l'√©tage, parce que vous ne direz pas grand-chose en une heure, mais je vous donnerai du mat√©riel pour des connaissances suppl√©mentaires, et nous vous attendons tous au <a href="https://slurm.io/sre%3Futm_source%3Dhabr%26utm_medium%3Dwebinarpub%26utm_campaign%3Dsre">Slerm SRE</a> .  √† Moscou fin janvier. </p><a name="habracut"></a><br><p>  Tout d'abord, parlons de ce qu'est SRE - Site Reliability Engineering.  Et comment il est apparu comme une position distincte, comme une direction distincte.  Tout a commenc√© avec le fait que dans les cercles de d√©veloppement traditionnels, Dev et Ops sont deux √©quipes compl√®tement diff√©rentes, g√©n√©ralement avec deux objectifs compl√®tement diff√©rents.  L'objectif de l'√©quipe de d√©veloppement est de d√©ployer de nouvelles fonctionnalit√©s et de r√©pondre aux besoins de l'entreprise.  L'objectif de l'√©quipe Ops est que tout fonctionne et que rien ne se casse.  De toute √©vidence, ces objectifs se contredisent directement: pour que tout fonctionne et que rien ne casse, d√©ployer de nouvelles fonctionnalit√©s est le moins possible.  Pour cette raison, il existe de nombreux conflits internes que la m√©thodologie, qui s'appelle d√©sormais DevOps, tente de r√©soudre. </p><br><p>  Le probl√®me est que nous n'avons pas de d√©finition claire de DevOps et une impl√©mentation claire de DevOps.  J'ai pris la parole lors d'une conf√©rence √† Ekaterinbourg il y a 2 ans, et jusqu'√† pr√©sent, la section DevOps a commenc√© avec une pr√©sentation de ¬´Qu'est-ce que DevOps¬ª.  En 2017, le devo a presque 10 ans, mais nous discutons toujours de ce que c'est.  Et c'est une situation tr√®s √©trange que Google a essay√© de r√©soudre il y a plusieurs ann√©es. </p><br><p>  En 2016, Google a publi√© un livre intitul√© Site Reliability Engineering.  Et en fait, c'est √† partir de ce livre que le mouvement SRE a commenc√©.  SRE est une option sp√©cifique pour impl√©menter le paradigme DevOps dans une entreprise particuli√®re.  Les ing√©nieurs SRE se sont fix√© pour objectif de garantir des performances syst√®me fiables.  Ils proviennent principalement de d√©veloppeurs, parfois d'administrateurs ayant une solide exp√©rience en d√©veloppement.  Et ils font ce que les administrateurs syst√®me faisaient auparavant, mais une solide exp√©rience dans le d√©veloppement et la connaissance du syst√®me en termes de code conduit au fait que ces personnes ne sont pas sujettes au travail administratif de routine, mais sujettes √† l'automatisation. </p><br><p>  Il s'av√®re que le paradigme DevOps dans les √©quipes SRE est mis en ≈ìuvre par le fait qu'il existe des ing√©nieurs SRE qui r√©solvent les probl√®mes structurels.  Le voici, le lien m√™me entre Dev et Ops dont on parle depuis 8 ans.  Le r√¥le du SRE est similaire au r√¥le d'un architecte dans le sens o√π les nouveaux arrivants ne le font pas.  Les personnes en d√©but de carri√®re n'ont pas encore d'exp√©rience, n'ont pas l'√©tendue des connaissances n√©cessaires.  Parce que SRE n√©cessite une connaissance tr√®s fine de ce qui peut exactement et quand mal tourner.  Par cons√©quent, une certaine exp√©rience est n√©cessaire ici, en r√®gle g√©n√©rale, √† l'int√©rieur et √† l'ext√©rieur de l'entreprise. </p><br><p> Ils demandent si la diff√©rence entre SRE et devops sera d√©crite.  Elle vient d'√™tre d√©crite.  On peut parler de la place du SRE dans l'organisation.  Contrairement √† cette approche DevOps classique, o√π Ops est toujours un d√©partement distinct, SRE fait partie de l'√©quipe de d√©veloppement.  Ils sont impliqu√©s dans le d√©veloppement de produits.  Il existe m√™me une approche o√π SRE est un r√¥le qui passe d'un d√©veloppeur √† un autre.  Ils participent aux revues de code de la m√™me mani√®re que, par exemple, les concepteurs UX, les d√©veloppeurs eux-m√™mes et parfois les chefs de produit.  SRE fonctionne au m√™me niveau.  Nous avons besoin de leur mise √† jour, nous avons besoin de leur examen, de sorte que pour chaque d√©ploiement SRE, il est dit: ¬´Eh bien, ce d√©ploiement, ce produit n'affectera pas n√©gativement la fiabilit√©.  Et si c'est le cas, dans une certaine mesure. ¬ª  Nous en parlerons √©galement. </p><br><p>  En cons√©quence, le SRE dispose d'un droit de veto sur la modification du code.  Et en g√©n√©ral, cela conduit √©galement √† une sorte de petit conflit si le SRE est impl√©ment√© de mani√®re incorrecte.  Dans le m√™me livre sur l'ing√©nierie de la fiabilit√© du site, de nombreuses parties, pas m√™me une seule, expliquent comment √©viter ces conflits. </p><br><p>  Ils demandent comment le SRE est li√© √† la s√©curit√© de l'information.  SRE n'est pas directement impliqu√© dans la s√©curit√© de l'information.  Fondamentalement, dans les grandes entreprises, les particuliers, les testeurs et les analystes le font.  Mais SRE interagit √©galement avec eux dans le sens o√π certaines op√©rations, certaines validations, certains d√©ploiements qui affectent la s√©curit√© peuvent √©galement affecter la disponibilit√© du produit.  Par cons√©quent, le SRE dans son ensemble a une interaction avec toutes les √©quipes, y compris les √©quipes de s√©curit√©, y compris les analystes.  Par cons√©quent, la plupart des SRE sont n√©cessaires lorsqu'ils essaient d'impl√©menter DevOps, mais en m√™me temps, la charge sur les d√©veloppeurs devient trop importante.  Autrement dit, l'√©quipe de d√©veloppement elle-m√™me ne peut plus faire face au fait qu'elle doit d√©sormais √©galement √™tre responsable des op√©rations.  Et un r√¥le distinct appara√Æt.  Ce r√¥le est pr√©vu dans le budget.  Parfois, ce r√¥le r√©side dans la taille de l'√©quipe, une personne distincte appara√Æt, parfois elle devient l'un des d√©veloppeurs.  Le premier SRE appara√Æt donc dans l'√©quipe. </p><br><p>  La complexit√© du syst√®me, qui est affect√©e par SRE, la complexit√© qui affecte la fiabilit√© du travail, est n√©cessaire et al√©atoire.  La complexit√© n√©cessaire est lorsque la complexit√© d'un produit augmente dans la mesure o√π de nouvelles fonctionnalit√©s du produit l'exigent.  La complexit√© al√©atoire se produit lorsque la complexit√© du syst√®me augmente, mais les caract√©ristiques du produit et les exigences commerciales n'affectent pas directement cela.  Il s'av√®re que le d√©veloppeur a fait une erreur quelque part, ou que l'algorithme n'est pas optimal, ou que certains int√©r√™ts suppl√©mentaires sont introduits qui augmentent la complexit√© du produit sans besoin particulier.  Un bon SRE devrait toujours mettre fin √† cette situation.  C'est-√†-dire que toute validation, tout d√©ploiement, toute demande d'extraction o√π la complexit√© augmente en raison d'ajouts al√©atoires doit √™tre bloqu√©e. </p><br><p>  La question est, pourquoi ne pas simplement embaucher un ing√©nieur, un administrateur syst√®me avec beaucoup de connaissances dans l'√©quipe.  Un d√©veloppeur dans le r√¥le d'un ing√©nieur, nous dit-on, n'est pas la meilleure solution de dotation.  Un d√©veloppeur dans le r√¥le d'un ing√©nieur n'est pas toujours la meilleure solution de dotation, mais le point ici est que le d√©veloppeur qui est impliqu√© dans les op√©rations a un peu plus de d√©sir d'automatisation, a un peu plus de connaissances et de comp√©tences pour mettre en ≈ìuvre cette automatisation.  Et en cons√©quence, nous r√©duisons non seulement le temps pour des op√©rations sp√©cifiques, non seulement la routine, mais aussi des param√®tres commerciaux importants tels que MTTR (Mean Time To Recovery, temps de r√©cup√©ration).  Ainsi, et ce sera √©galement un peu plus tard, nous √©conomisons de l'argent pour l'organisation. </p><br><p>  Parlons maintenant des crit√®res pour le travail de SRE.  Et tout d'abord sur la fiabilit√©.  Dans les petites entreprises, les startups, il arrive tr√®s souvent que les gens supposent que si le service est bien √©crit, si le produit est bien et correctement √©crit, cela fonctionnera, il ne cassera pas.  C'est tout, nous √©crivons du bon code, donc il n'y a rien √† casser.  Le code est tr√®s simple, il n'y a rien √† casser.  Ce sont les m√™mes personnes qui disent que nous n'avons pas besoin de tests, parce que, regardez, ce sont trois m√©thodes VPI, pourquoi le casser. </p><br><p>  C'est tout faux, bien s√ªr.  Et ces gens tr√®s souvent un tel code mord dans la pratique, parce que les choses se cassent.  Les choses se brisent parfois de la mani√®re la plus impr√©visible.  Parfois, les gens disent non, cela n'arrivera jamais.  Et tout se passe exactement.  Cela arrive assez souvent.  Et par cons√©quent, personne ne vise jamais une disponibilit√© √† 100%, car la disponibilit√© √† 100% ne se produit jamais.  C‚Äôest la norme.  Et donc, quand on parle de la disponibilit√© d'un service, on parle toujours de neuf.  2 neuf, 3 neuf, 4 neuf, 5 neuf.  Si vous traduisez cela en temps d'arr√™t, alors, par exemple, 5 neuf, cela repr√©sente un peu plus de 5 minutes de temps d'arr√™t par an, 2 neuf correspond √† 3,5 jours de temps d'arr√™t. </p><br><p>  Mais il est √©vident qu'√† un moment donn√© il y a une diminution du POI, retour sur investissement.  Passer de deux √† trois, cela signifie r√©duire les temps d'arr√™t de plus de 3 jours.  Passer de quatre √† cinq r√©duit le temps d'arr√™t de 47 minutes par an.  Et il s'av√®re que pour une entreprise, cela peut ne pas √™tre critique.  Et en g√©n√©ral, la fiabilit√© requise n'est pas un probl√®me technique, tout d'abord, c'est un probl√®me commercial, c'est un probl√®me de produit.  Quel niveau d'indisponibilit√© est acceptable pour les utilisateurs du produit, √† quoi s'attendent-ils, combien paient-ils, par exemple, combien d'argent ils perdent, combien d'argent le syst√®me perd. </p><br><p>  Une question importante dans ce cas est de savoir quelle est la fiabilit√© des composants restants.  Parce que la diff√©rence entre 4 et 5 neuf ne sera pas visible sur un smartphone avec 2 neuf de fiabilit√©.  En gros, si quelque chose tombe en panne sur un smartphone dans votre service 10 fois par an, il est tr√®s probable que l'√©chec se soit produit 8 fois pr√©cis√©ment du c√¥t√© du syst√®me d'exploitation.  L'utilisateur est habitu√© √† cela et n'y fera pas attention une fois par an.  Il est n√©cessaire de corr√©ler le prix de l'augmentation de la fiabilit√© et de l'augmentation du profit. <br>  Juste dans le livre sur le SRE, il y a un bon exemple d'augmentation √† 4 neuf contre 3 neuf.  Il s'av√®re que l'augmentation de la disponibilit√© est l√©g√®rement inf√©rieure √† 0,1%.  Et si les revenus de service sont de 1 million de dollars par an, alors l'augmentation des revenus est de 900 dollars.  Si l'augmentation de l'accessibilit√© de neuf nous co√ªte moins de 900 $ par ann√©e, cette augmentation est logique sur le plan financier.  Si cela co√ªte plus de 900 $ par an, cela n'a plus de sens, car la croissance des revenus ne compense tout simplement pas les co√ªts de main-d'≈ìuvre, les co√ªts des ressources.  Et 3 neuf nous suffiront. </p><br><p>  Il s'agit bien s√ªr d'un exemple simplifi√© o√π toutes les requ√™tes sont √©gales.  Et de 3 √† 4 neuf, il est assez facile de changer, mais en m√™me temps, par exemple, passer de 2 √† 3 repr√©sente d√©j√† une √©conomie de 9 000 dollars, cela peut avoir un sens financier.  Naturellement, en r√©alit√©, un √©chec d'une demande d'enregistrement est pire qu'un √©chec d'affichage d'une page; les demandes ont un poids diff√©rent.  Ils peuvent avoir des crit√®res tr√®s diff√©rents du point de vue des affaires, mais en r√®gle g√©n√©rale, si nous ne parlons pas de services sp√©cifiques, il s'agit d'une approximation assez fiable. <br>  Nous nous sommes demand√© si SRE √©tait l'un des coordinateurs lors du choix d'une solution architecturale pour un service.  Supposons en termes d'int√©gration dans l'infrastructure existante afin qu'il n'y ait pas de perte de stabilit√©.  Oui, les SRE ont le m√™me effet sur les demandes d'extraction, les validations, les versions, ils affectent l'architecture, l'introduction de nouveaux services, les microservices et l'introduction de nouvelles solutions.  Pourquoi ai-je dit avant que j'avais besoin d'exp√©rience, j'ai besoin de qualifications.  En fait, SRE est l'une des voix bloquantes de toute solution architecturale et logicielle.  En cons√©quence, SRE en tant qu'ing√©nieur doit, tout d'abord, non seulement comprendre, mais aussi comprendre comment des solutions sp√©cifiques affecteront la fiabilit√©, la stabilit√© et comprendre comment cela se rapporte aux besoins de l'entreprise, et de quel point de vue cela peut √™tre c'est permis, et avec quoi pas. </p><br><p>  Par cons√©quent, nous pouvons maintenant parler des crit√®res de fiabilit√©, qui dans SRE sont traditionnellement d√©finis comme SLA (Service Level Agreement).  Probablement un terme familier.  SLI (indicateur de niveau de service).  SLO (objectif de niveau de service).  L'accord de niveau de service est peut-√™tre un terme historique, surtout si vous avez travaill√© avec des r√©seaux, avec des fournisseurs, avec de l'h√©bergement.  Il s'agit d'un accord g√©n√©ral qui d√©crit les performances de l'ensemble de votre service, la p√©nalit√©, certaines p√©nalit√©s pour les erreurs, les m√©triques, les crit√®res.  Et SLI est la mesure de disponibilit√© elle-m√™me.  Autrement dit, ce qui peut √™tre SLI: temps de r√©ponse du service, le nombre d'erreurs en pourcentage.  Cela peut √™tre de la bande passante s'il s'agit d'une sorte d'h√©bergement de fichiers.  Si nous parlons d'algorithmes de reconnaissance, un indicateur peut √™tre, par exemple, m√™me l'exactitude de la r√©ponse.  SLO (Service Level Objective) est une combinaison de l'indicateur SLI, de sa valeur et de sa p√©riode, respectivement. </p><br><p>  Disons que le SLA peut √™tre comme √ßa.  Le service est disponible 99,95% du temps tout au long de l'ann√©e.  Ou 99 tickets de support critiques seront ferm√©s dans les 3 heures par trimestre.  Ou 85% des demandes recevront une r√©ponse dans les 1,5 secondes chaque mois.  Autrement dit, nous en venons progressivement √† comprendre que les erreurs et les √©checs sont tout √† fait normaux.  C'est une situation acceptable, nous la planifions, nous comptons m√™me sur elle dans une certaine mesure.  Autrement dit, SRE construit des syst√®mes qui peuvent faire des erreurs, qui devraient r√©pondre normalement aux erreurs qui devraient en tenir compte.  Et si possible, ils doivent g√©rer les erreurs de mani√®re √† ce que l'utilisateur ne les remarque pas ou les remarque, mais il existe une solution de contournement pour laquelle tout ne tombera pas compl√®tement. </p><br><p>  Par exemple, si vous t√©l√©chargez une vid√©o sur YouTube et que YouTube ne peut pas la convertir imm√©diatement, si la vid√©o est trop grande, si le format n'est pas optimal, alors la demande ne tombera naturellement pas hors du temps, YouTube ne donnera pas d'erreur 502, YouTube dira: "Nous avons tout cr√©√©, Votre vid√©o est en cours de traitement.  Il sera pr√™t dans environ 10 minutes. ¬ª  C'est le principe de la d√©gradation gracieuse, qui est familier, par exemple, dans le d√©veloppement du frontend, si vous l'avez d√©j√† fait. </p><br><p>  Les termes suivants dont nous parlerons qui sont tr√®s importants pour travailler avec fiabilit√©, avec des erreurs, avec des attentes sont MTBF et MTTR.  MTBF est le temps moyen entre les √©checs.  MTTR Temps moyen de r√©cup√©ration, temps moyen de r√©cup√©ration.  C'est-√†-dire combien de temps s'est √©coul√© depuis le moment o√π l'erreur a √©t√© d√©tect√©e, depuis le moment o√π l'erreur est apparue jusqu'au moment o√π le service est enti√®rement r√©tabli √† la normale.  MTBF est principalement corrig√© en travaillant sur la qualit√© du code.  Autrement dit, en ce que le SRE peut dire non.  Et vous avez besoin de la compr√©hension de toute l'√©quipe que lorsque le SRE dit ¬´non¬ª, il le dit non pas parce qu'il est nuisible, non pas parce qu'il est mauvais, mais parce que sinon tout le monde en souffrira. </p><br><p>  Encore une fois, il y a beaucoup d'articles, beaucoup de m√©thodes, beaucoup de fa√ßons, m√™me dans le livre m√™me auquel je me r√©f√®re si souvent, comment emp√™cher d'autres d√©veloppeurs de commencer √† d√©tester SRE.  MTTR, d'autre part, travaille sur votre SLO (Service Level Objective).  Et c'est surtout l'automatisation.  Parce que, par exemple, notre SLO est un temps de disponibilit√© de 4 neuf par trimestre.  Cela signifie qu'en 3 mois, nous pouvons accorder 13 minutes de temps d'arr√™t.  Et il s'av√®re que nous ne pouvons pas avoir MTTR pendant plus de 13 minutes.  Si nous r√©agissons pendant au moins 1 temps d'arr√™t pendant 13 minutes, cela signifie que nous avons d√©j√† √©puis√© la totalit√© du budget du trimestre.  Nous brisons SLO.  13 minutes pour une r√©action et r√©parer un √©chec, c'est beaucoup pour la voiture, mais tr√®s peu pour une personne.  Parce que tant qu'une alerte arrive √† une personne, pendant qu'elle r√©agit, jusqu'√† ce qu'elle comprenne l'erreur, c'est d√©j√† plusieurs minutes.  Jusqu'√† ce qu'une personne comprenne comment le r√©parer, quoi corriger exactement, quoi faire, alors c'est encore quelques minutes.  Et en fait, m√™me si vous avez juste besoin de red√©marrer le serveur, comme il se trouve, ou d'augmenter un nouveau n≈ìud, le MTTR manuel est d√©j√† d'environ 7 √† 8 minutes.  Lors de l'automatisation d'un processus, MTTR atteint tr√®s souvent une seconde, parfois une milliseconde.  Google parle g√©n√©ralement de millisecondes, mais en r√©alit√©, bien s√ªr, les choses ne sont pas si bonnes. </p><br><p>  Id√©alement, SRE devrait automatiser son travail presque compl√®tement, car il affecte directement MTTR, ses m√©triques, le SLO de l'ensemble du service, et donc le profit de l'entreprise.  Si le temps est d√©pass√©, demandez-nous si la faute en incombe au SRE.  Pour de bon, personne n'est √† bl√¢mer.  Et c'est une culture distincte appel√©e postmortem sans baume, dont nous ne parlerons pas aujourd'hui, mais que nous analyserons sur Slurme.  C'est un sujet tr√®s int√©ressant dont on peut beaucoup parler.  En gros, si le temps allou√© pour le trimestre est d√©pass√©, alors tout le monde est √† bl√¢mer un peu, ce qui signifie que bl√¢mer tout le monde n'est pas productif; au lieu de cela, peut-√™tre qu'au lieu de bl√¢mer qui que ce soit, nous corrigerons la situation et travaillerons avec ce que nous avons.  D'apr√®s mon exp√©rience, cette approche pour la plupart des √©quipes, en particulier en Russie, est un peu √©trang√®re, mais elle a du sens et fonctionne tr√®s bien.  Par cons√©quent, je recommanderai √† la fin de l'article et la litt√©rature qui peut √™tre lue sur ce sujet.  Ou venez √† Slurm SRE. </p><br><p>  Je vais vous expliquer.  Si le temps de SLO par trimestre est d√©pass√©, si le temps d'arr√™t n'est pas de 13 minutes, mais de 15, qui pourrait en √™tre responsable?  Bien s√ªr, SRE pourrait √™tre √† bl√¢mer, car il a √©videmment fait une sorte de mauvais commit ou d√©ploiement.  L'administrateur du centre de donn√©es peut √™tre √† bl√¢mer pour cela, car, peut-√™tre, une maintenance impr√©vue a √©t√© effectu√©e.  Si l'administrateur du centre de donn√©es est √† bl√¢mer, la personne Ops qui n'a pas calcul√© la maintenance lors de la coordination du SLO est √† bl√¢mer.  Le responsable, le directeur technique ou quelqu'un qui a sign√© le contrat du centre de donn√©es et n'a pas pr√™t√© attention au fait que le centre de donn√©es SLA n'est pas con√ßu pour le temps d'arr√™t requis est √† bl√¢mer.  En cons√©quence, peu √† peu tout le monde est √† bl√¢mer pour cette situation.  Et cela signifie que cela n'a aucun sens de bl√¢mer quiconque dans cette situation.  Mais bien s√ªr, vous devez le r√©parer.  Par cons√©quent, il existe des autopsies.  Et si vous lisez, par exemple, l'autopsie de Github, qui est toujours une histoire tr√®s int√©ressante, petite et inattendue dans chaque cas particulier, vous pouvez remplacer que personne ne dit jamais que cette personne en particulier √©tait √† bl√¢mer.  La culpabilit√© est toujours attribu√©e √† des processus imparfaits sp√©cifiques. </p><br><p>  Passons √† la question suivante.  Automatisation  Habituellement, lorsque je parle d'automatisation dans d'autres contextes, je me r√©f√®re tr√®s souvent √† un tableau qui indique combien de temps vous pouvez travailler sur l'automatisation d'une t√¢che afin de ne pas prendre plus de temps pour l'automatiser que vous n'en enregistrez g√©n√©ralement.  Il y a un hic.  Le hic, c'est que lorsque SRE automatise une t√¢che, il √©conomise non seulement du temps, mais aussi de l'argent, car l'automatisation affecte directement MTTR.  Ils sauvent, pour ainsi dire, le moral des employ√©s et des d√©veloppeurs, qui est √©galement une ressource √©puisable.  Ils r√©duisent la routine.  Et tout cela affecte positivement le travail et, par cons√©quent, l'entreprise, m√™me s'il semble que l'automatisation n'a pas de sens en termes de co√ªts de temps. </p><br><p>  En fait, il l'a presque toujours √©t√© et il y a tr√®s peu de cas o√π cela ne vaut pas la peine d'automatiser quelque chose dans le r√¥le de SRE.  Plus loin, nous parlerons de ce qu'on appelle le budget des erreurs, le budget des erreurs.  En fait, il s'av√®re que si tout est beaucoup mieux pour vous que le SLO que vous vous √™tes fix√©, ce n'est pas tr√®s bon non plus.  C'est plut√¥t mauvais, car SLO fonctionne non seulement comme une limite inf√©rieure, mais aussi comme une limite sup√©rieure approximative.  Lorsque vous vous d√©finissez SLO dans une accessibilit√© de 99%, et en fait, vous avez 99,99%, il s'av√®re que vous avez un espace d'exp√©rimentation qui ne nuira pas du tout √† l'entreprise, parce que vous avez vous-m√™me d√©termin√© cela ensemble, et vous √™tes l'espace ne pas utiliser.  Vous disposez d'un budget pour les erreurs qui ne sont pas d√©pens√©es dans votre cas. </p><br><p>  Que faisons-nous avec lui.  Nous l'utilisons litt√©ralement pour tout.  Pour les tests dans des conditions de production, pour le d√©ploiement de nouvelles fonctionnalit√©s susceptibles d'affecter les performances, les versions, la maintenance et les temps d'arr√™t planifi√©s.  La r√®gle inverse s'applique √©galement: si le budget est √©puis√©, nous ne pouvons pas d√©charger quoi que ce soit de nouveau, car sinon SLO sera d√©pass√©.  Le budget a d√©j√† √©t√© √©puis√©, nous n'avons pas publi√© quelque chose, s'il affectera n√©gativement la productivit√©, c'est-√†-dire que si ce n'est pas une sorte de correctif qui augmente directement SLO, alors nous allons au-del√† du budget, et c'est une mauvaise situation, cela n√©cessite une analyse , post-mortem, et √©ventuellement une sorte de correction de processus. </p><br><p>  Autrement dit, il s'av√®re que si le service lui-m√™me fonctionne mal et que SLO est d√©pens√© et que le budget n'est pas d√©pens√© pour des exp√©riences, pas pour certaines versions, mais par lui-m√™me, alors au lieu de correctifs int√©ressants pour les d√©veloppeurs, au lieu de fonctionnalit√©s int√©ressantes, au lieu d'int√©ressantes versions.  Au lieu d'une sorte de travail cr√©atif, vous devrez faire des corrections stupides pour remettre le budget √† l'ordre, ou modifier SLO, et c'est aussi un processus qui ne devrait pas se produire trop souvent. </p><br><p>  Par cons√©quent, il s'av√®re que dans une situation o√π nous avons plus de budget pour les erreurs, tout le monde est int√©ress√©: SRE et les d√©veloppeurs.  Pour les d√©veloppeurs, un budget important pour les erreurs signifie que vous pouvez g√©rer les versions, les tests et les exp√©riences.  Pour SRE, le budget pour les erreurs et l'entr√©e dans ce budget signifie qu'ils font effectivement bien leur travail directement.  Et cela affecte la motivation pour une sorte de collaboration.  Si vous √©coutez vos SRE en tant que d√©veloppeurs, vous aurez plus d'espace pour un bon travail et beaucoup moins de routine. </p><br><p>  Il s'av√®re que l'exp√©rimentation en production est une partie assez importante et presque int√©grale du SRE dans les grandes √©quipes.  Et cela s'appelle g√©n√©ralement l'ing√©nierie du chaos, qui vient de l'√©quipe Netflix qui a publi√© un utilitaire appel√© Chaos Monkey. <br>  Chaos Monkey se connecte au pipeline CI / CD et abandonne al√©atoirement le serveur en production.  Encore une fois, dans la structure SRE, nous parlons du fait qu'un serveur en panne n'est pas mauvais en soi, il est attendu.  Et si elle est incluse dans le budget, elle est acceptable et ne nuit pas √† l'entreprise. ,      ,  ,      ,        ,              . </p><br><p>    -      ,   , Chaos Gorilla,        .      , -,  ,    ,    ,    .  ,     ,     ,     .          ,       ,          , - ,    ,   ,  ,  , .        .   ,        ,       ,  , , CI/CD    .        ,    ,      , ,  ,  ,  ,  . ,  ,  ,    .  ,    . </p><br><p> :     ?   .   ,   .  ,    SRE          . ,  ,     .  ,     , SRE      ,        ,    ,  ,   ,   ,  ,  .  SRE               ,   -     .          ,   SRE,               - . </p><br><p>     ,  ,           .           ,   SRE    ,  ,  .            ,  ,  .      ,    , ,  ,     ,    , . </p><br><p>  ,           .     SRE           ,     .  ,      ,    SLA, SLI, SLO.     ,     SLA   SLO,    .      -       ,    ,     ,  -   ,    ,  .   4 ,      IT ,      .       ,      - . </p><br><p>          .       ,    - ,   ,   Objectives,        ,     3 . </p><br><p>    ,    ,  .       SLA, SLI, SLO,       ,     ,     Objectives,       SLA.     ,     :  - ,     ,        .      .     ,   -.    ,  ,       ,    ,  , -,     ,   :      - .  -,       ,           .         ,   SRE  ,      ,   . </p><br><p>     3  .  ,  ,  .  ‚Äì   ,      .  , ,  ,    .  ‚Äì  ,    . ,  - ,  -  ,   ,          .  ‚Äì   ,    ,       ,      .          ,  -  - ,     .    - .     ,     ,   . </p><br><p>      ,   ,       ,     ,  ,    .  ,  .    .   .     .      .  ,       . </p><br><p>      ,   Observability.          .    ,     .     ,  Observability    .  -   ,     ,     ,        .    :     ,     .   , ,  , .           ,      - Kubernetes,      ,    .   Observability     MTTR.   Observability ,    ,    ,    ,   MTTR. </p><br><p>      ,    ,   ,     ,         SRE.      .      , ,     ,   SRE    .     ,     - .      ,   ,  -,  SRE    .   ,   , ,  - .       ,      .     SRE     .    .     . </p><br><p> , , ,           .         -   , -       .   SRE,  -, ,     .      ,   ,     ,       . </p><br><p>   .  ,      ,   ,   ,  ,   ,   .          .   ,       .    canary,     ,      ,      ,   - , ,     ,        .  ,  ,     ,      ,   . </p><br><p>     SRE.  ,   - ,    SRE,      .     -  ,  - , , ,     canary A/B .     SRE  ,     .   SRE     .       ,  ,     .   SRE    ,   ,     ,         ,     50   50  ,  ,  SRE    .      .   ,        . </p><br><p>       . -     . ,   SRE      .   ,      ,   .    ,  ,   ,  ,   ,      ,   .           SRE. </p><br><p>  SRE ‚Äî    ,       ,    ,     ,   ,  ,      .    .       .       Booking.com     .        ,   .     - .     . <br> ,  .    SRE. <a href="https://landing.google.com/sre/books/"></a>    ,   2   SRE,  .   <a href="https://cloud.google.com/blog/products/gcp/sre-fundamentals-slis-slas-and-slos">   SLA, SLI, SLO</a> ,        .  3    SRE   .  ‚Äì <a href="https://www.youtube.com/watch%3Fv%3Dn4Wf14e2jxQ">Keys to SRE</a> ,       .  ‚Äî <a href="https://www.youtube.com/watch%3Fv%3DggizCjUCCqE">SRE  </a> .     <a href="https://www.youtube.com/watch%3Fv%3DP83XESU3oZ8">SRE  </a> .    <a href="https://www.youtube.com/watch%3Fv%3DkoGaH4ffXaU">SRE  </a> ,    5  SRE   190 .      ,    DevOps           ,   SRE     ,     . </p><br><p>  2    chaos ingeneering: <a href="https://principlesofchaos.org/">(1)</a> , <a href="https://github.com/Netflix/SimianArmy">(2)</a> .     3    Awesome Lists  <a href="https://github.com/dastergon/awesome-chaos-engineering">chaos ingeneering</a> ,  <a href="https://github.com/dastergon/awesome-sre">SRE</a>   <a href="https://github.com/squadcastHQ/awesome-sre-tools">SRE </a> .   SRE  ,     ,   200 .      capacity planning   blameless postmortem. </p><br><p>  : <a href="https://medium.com/%40bellmar/sre-as-a-lifestyle-choice-de9f5a82d73d">SRE as a life choice</a> </p><br><p> ,      . ,   - . ,      ,    .   .   . <br>    . </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS: pour ceux qui aiment lire, Edward a donn√© une liste de r√©f√©rences. </font><font style="vertical-align: inherit;">Ceux qui pr√©f√®rent comprendre dans la pratique sont les bienvenus √† </font></font><a href="https://slurm.io/sre%3Futm_source%3Dhabr%26utm_medium%3Dwebinarpub%26utm_campaign%3Dsre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sl√∂rme SRE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr480174/">https://habr.com/ru/post/fr480174/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr480158/index.html">Pouvons-nous cuisiner Java, Kotlin RestController?</a></li>
<li><a href="../fr480160/index.html">Comment √©tablir des relations sociales dans une √©quipe de travail √† distance</a></li>
<li><a href="../fr480162/index.html">Qu'est-ce que le Rambler Group frappant Nginx signifie vraiment et √† quoi l'industrie en ligne peut se pr√©parer</a></li>
<li><a href="../fr480166/index.html">Scanner veineux</a></li>
<li><a href="../fr480172/index.html">Le premier programmeur russe</a></li>
<li><a href="../fr480176/index.html">[Fran√ßais] Du piratage √† l'open source: mon histoire</a></li>
<li><a href="../fr480178/index.html"># manorOpenSource</a></li>
<li><a href="../fr480180/index.html">R√©sultats de la semaine: Rambler revendique les droits de Nginx, Microsoft cr√©e un nouveau PL et en Russie, ils cl√¥turent le projet Taigafon</a></li>
<li><a href="../fr480182/index.html">Guide pour les ind√©pendants: les questions les plus courantes sur le travail de SP</a></li>
<li><a href="../fr480184/index.html">Une s√©lection de faits statistiques divertissants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>