<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЧЮя╕П ЁЯМдя╕П ЁЯРн рдХреИрд╕реЗ SFINAE рдЪрд┐рдХрдирд╛ рдФрд░ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП ЁЯзЩЁЯП╛ ЁЯФо ЁЯЫАЁЯП╛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдлрд┐рд░ рд╕реЗ рдирдорд╕реНрдХрд╛рд░ред рд╣рдо рдЖрдкрдХреЗ рд╕рд╛рде рдПрдХ рджрд┐рд▓рдЪрд╕реНрдк рд▓реЗрдЦ рд╕рд╛рдЭрд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдПрдХ рдЕрдиреБрд╡рд╛рдж рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдкрд╛рдареНрдпрдХреНрд░рдо "C ++ рдбреЗрд╡рд▓рдкрд░" рдХреЗ рдЫрд╛рддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдХреИрд╕реЗ SFINAE рдЪрд┐рдХрдирд╛ рдФрд░ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/466915/">  <i>рдлрд┐рд░ рд╕реЗ рдирдорд╕реНрдХрд╛рд░ред</i>  <i>рд╣рдо рдЖрдкрдХреЗ рд╕рд╛рде рдПрдХ рджрд┐рд▓рдЪрд╕реНрдк рд▓реЗрдЦ рд╕рд╛рдЭрд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдПрдХ рдЕрдиреБрд╡рд╛рдж рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдкрд╛рдареНрдпрдХреНрд░рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">"C ++ рдбреЗрд╡рд▓рдкрд░" рдХреЗ</a> рдЫрд╛рддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред</i> <br><br><img src="https://habrastorage.org/webt/i1/cn/mm/i1cnmmt1eyhcbyi9exnawbo2vgq.png"><br><br><hr><br>  рдЖрдЬ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ Bal├бzs рджреНрд╡рд╛рд░рд╛ рдПрдХ рдЕрддрд┐рдерд┐ рдкреЛрд╕реНрдЯ рд╣реИред  рдПрдбрдо Verizon рд╕реНрдорд╛рд░реНрдЯ рдХрдореНрдпреБрдирд┐рдЯреАрдЬрд╝ рд╣рдВрдЧрд░реА рдореЗрдВ рдПрдХ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЗрдВрдЬреАрдирд┐рдпрд░ рд╣реИ рдФрд░ рдПрдореНрдмреЗрдбреЗрдб рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рд╡реАрдбрд┐рдпреЛ рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЙрдирдХрд╛ рдПрдХ рдЬреБрдиреВрди рд╕рдВрдХрд▓рди рд╕рдордп рдХрд╛ рдЕрдиреБрдХреВрд▓рди рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╡рд╣ рддреБрд░рдВрдд рдЗрд╕ рд╡рд┐рд╖рдп рдкрд░ рдПрдХ рдЕрддрд┐рдерд┐ рдкреЛрд╕реНрдЯ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣рдордд рд╣реБрдПред  рдЖрдк рдПрдбрдо рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд┐рдВрдХреНрдбрдЗрди</a> рдкрд░ рдСрдирд▓рд╛рдЗрди рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред <a name="habracut"></a><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">SFINAE рдХреЛ рд╕реБрд░реБрдЪрд┐рдкреВрд░реНрдг рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЗрдЦреЛрдВ рдХреА</a> рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ</a> , рд╣рдордиреЗ рджреЗрдЦрд╛ рдХрд┐ рдХреИрд╕реЗ рд╣рдорд╛рд░реЗ SFINAE рдЯреЗрдореНрдкрд▓реЗрдЯ рдХреЛ рдмрд╣реБрдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдФрд░ рдЕрднрд┐рд╡реНрдпрдВрдЬрдХ рдмрдирд╛рдпрд╛ рдЬрд╛рдП</a> ред <br><br>  рдмрд╕ рдЗрд╕рдХреЗ рдореВрд▓ рд░реВрдк рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyClass</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp; x)</span></span></span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T_ = T&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> f(T&amp;&amp; x, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::enable_if&lt;!<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_reference&lt;T_&gt;::value, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">nullptr_t</span></span>&gt;::type = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>){} };</code> </pre> <br><br>  рдФрд░ рдЗрд╕реЗ рдЗрд╕ рдЕрдзрд┐рдХ рдЕрднрд┐рд╡реНрдпрдВрдЬрдХ рд░реВрдк рд╕реЗ рддреБрд▓рдирд╛ рдХрд░реЗрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> IsNotReference = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">enable_if_t</span></span>&lt;!<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_reference_v&lt;T&gt;&gt;; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyClass</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp; x)</span></span></span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T_ = T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> = IsNotReference &lt;T_&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> f(T&amp;&amp; x){} };</code> </pre> <br>  рд╣рдо рдпрдереЛрдЪрд┐рдд рд░реВрдк рд╕реЗ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдФрд░ рдЖрд░рд╛рдо рдХрд░рдирд╛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕рдВрднрд╡ рд╣реИред  рд╣рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╣ рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди - рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВ - рд╣рдорд╛рд░рд╛ рдХреЛрдб рд╕реБрд░рдХреНрд╖рд┐рдд рдФрд░ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдХреНрдпрд╛ рдРрд╕рд╛ рд╣реИ?  рдЪрд▓реЛ рдЗрд╕реЗ рд╣реИрдХ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ! <br><br><h2>  рджреЛрд╖ # 1: SFINAE рдХреЛ рдмрд╛рдпрдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ </h2><br>  рдЖрдорддреМрд░ рдкрд░, рд╕реНрдерд┐рддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХреЛрдб рдХреЗ рднрд╛рдЧ рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП SFINAE рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдЕрдЧрд░ рд╣рдореЗрдВ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрд┐рд╕реА рдХрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рдкрд░рд┐рднрд╛рд╖рд┐рдд рдПрдмреНрд╕ рдлрд╝рдВрдХреНрд╢рди (рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЕрдВрдХрдЧрдгрд┐рддреАрдп рд╡рд░реНрдЧ, рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рди, рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП, рдЖрджрд┐): <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myAbs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( T val )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( ( val &lt;= <span class="hljs-number"><span class="hljs-number">-1</span></span> ) ? -val : val ); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::numeric_limits&lt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &gt;::max() }; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"a: "</span></span> &lt;&lt; a &lt;&lt; <span class="hljs-string"><span class="hljs-string">" myAbs( a ): "</span></span> &lt;&lt; myAbs( a ) &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; }</code> </pre> <br>  рдпрд╣ рдХрд╛рд░реНрдпрдХреНрд░рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдХрд╛рдлреА рд╕рд╛рдорд╛рдиреНрдп рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs">a: <span class="hljs-number"><span class="hljs-number">2147483647</span></span> myAbs( a ): <span class="hljs-number"><span class="hljs-number">2147483647</span></span></code> </pre> <br>  рд▓реЗрдХрд┐рди рд╣рдо рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рддрд░реНрдХреЛрдВ рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ <code>abs</code> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдкреНрд░рднрд╛рд╡ рд╡рд┐рдирд╛рд╢рдХрд╛рд░реА рд╣реЛрдЧрд╛: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">nt </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::numeric_limits&lt; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &gt;::max() }; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"a: "</span></span> &lt;&lt; a &lt;&lt; <span class="hljs-string"><span class="hljs-string">" myAbs( a ): "</span></span> &lt;&lt; myAbs( a ) &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; }</code> </pre> <br>  рджрд░рдЕрд╕рд▓, рдЕрдм рдХрд╛рд░реНрдпрдХреНрд░рдо рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ: <br><br> <code>a: 4294967295 myAbs( a ): 1</code> <br> <br>  рд╣рдорд╛рд░реЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рддрд░реНрдХреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ SFINAE рдХреЗ рд╕рд╛рде <code>T</code> рдХреЗ рд╕рдВрднрд╛рд╡рд┐рдд рд╕реЗрдЯ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> IsSigned = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">enable_if_t</span></span>&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_signed_v&lt; T &gt; &gt;; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> = IsSigned&lt; T &gt; &gt; T myAbs( T val ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( ( val &lt;= <span class="hljs-number"><span class="hljs-number">-1</span></span> ) ? -val : val ); }</code> </pre> <br>  рдХреЛрдб рдЕрдкреЗрдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: рдПрдХ рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рд╛рде myAbs рдкрд░ рдХреЙрд▓ рдХрд░рдиреЗ рд╕реЗ рд╕рдВрдХрд▓рди-рд╕рдордп рддреНрд░реБрдЯрд┐ рд╣реЛрддреА рд╣реИ: <br><br> <code><code>candidate template ignored: requirement 'std::is_signed_v&lt;</code> unsigned int&gt;' was not satisfied [with T = unsigned int]</code> <br> <br><h3>  рд╣реИрдХрд┐рдВрдЧ SFINAE рд░рд╛рдЬреНрдп </h3><br>  рдлрд┐рд░ рдЗрд╕ рд╕рдорд╛рд░реЛрд╣ рдореЗрдВ рдХреНрдпрд╛ рдЧрд▓рдд рд╣реИ?  рдЗрд╕ рдкреНрд░рд╢реНрди рдХрд╛ рдЙрддреНрддрд░ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ myAbs SFINAE рдХреЛ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> = IsSigned&lt;T&gt; &gt; T myAbs( T val );</code> </pre> <br>  <code>myAbs</code> рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдЯреЗрдореНрдкреНрд▓реЗрдЯ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рджреЛ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЗрдирдкреБрдЯ рдЯреЗрдореНрдкрд▓реЗрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИрдВред  рдкрд╣рд▓рд╛ рдлрд╝рдВрдХреНрд╢рди рддрд░реНрдХ рдХрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкреНрд░рдХрд╛рд░ рд╣реИ, рджреВрд╕рд░рд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ <code><code>IsSigned &lt;</code> T <code>&gt;</code></code> (рдЕрдиреНрдпрдерд╛ <code><code>std::enable_if_t &lt;</code> std::is_signed_v <code>&lt;</code> T <code>&gt;</code> &gt;</code> рд╡рд░рдирд╛ <code><code>std::enable_if &lt;</code> std::is_signed_v <code>&lt;</code> T&gt;, void&gt;::type</code> , рдЬреЛ <code>void</code> рдпрд╛ рд╡рд┐рдлрд▓ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рд╣реИ)ред <br><br>  рд╣рдо <code>myAbs</code> рдХреИрд╕реЗ рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ?  3 рддрд░реАрдХреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a{ myAbs( <span class="hljs-number"><span class="hljs-number">-5</span></span> ) }; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> b{ myAbs&lt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &gt;( <span class="hljs-number"><span class="hljs-number">-5</span></span> ) }; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> c{ myAbs&lt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> &gt;( <span class="hljs-number"><span class="hljs-number">-5</span></span> ) };</code> </pre> <br>  рдкрд╣рд▓реА рдФрд░ рджреВрд╕рд░реА рдХреЙрд▓ рд╕реАрдзреА рд╣реИ, рд▓реЗрдХрд┐рди рддреАрд╕рд░реА рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ: <code>void</code> рдЯреЗрдореНрдкрд▓реЗрдЯ рдХрд╛ рддрд░реНрдХ рдХреНрдпрд╛ рд╣реИ? <br><br>  рджреВрд╕рд░рд╛ рдЯреЗрдореНрдкрд▓реЗрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдЕрдирд╛рдо рд╣реИ, рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░рдХрд╛рд░ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЕрднреА рднреА рдПрдХ рдЯреЗрдореНрдкрд▓реЗрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдЗрд╕реЗ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдХреНрдпрд╛ рдпрд╣ рдПрдХ рд╕рдорд╕реНрдпрд╛ рд╣реИ?  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдПрдХ рдмрдбрд╝реА рд╕рдорд╕реНрдпрд╛ рд╣реИред  рд╣рдо рдЕрдкрдиреЗ SFINAE рдЪреЗрдХ рдХреЛ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рддреАрд╕рд░реЗ рдлреЙрд░реНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> d{ myAbs&lt; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> &gt;( <span class="hljs-number"><span class="hljs-number">5u</span></span> ) }; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> e{ myAbs&lt; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> &gt;( <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::numeric_limits&lt; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &gt;::max() ) };</code> </pre> <br>  рдпрд╣ рдХреЛрдб рдареАрдХ рд╕рдВрдХрд▓рд┐рдд рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╡рд┐рдирд╛рд╢рдХрд╛рд░реА рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдордиреЗ SFINAE рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛: <br><br><pre> <code class="cpp hljs">a: <span class="hljs-number"><span class="hljs-number">4294967295</span></span> myAbs( a ): <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  рд╣рдо рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░реЗрдВрдЧреЗ - рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ: рдХреНрдпрд╛ рдХреЛрдИ рдЕрдиреНрдп рдиреБрдХрд╕рд╛рди рд╣реИрдВ?  рдЦреИрд░ ... <br><br><h2>  рджреЛрд╖ # 2: рд╣рдо рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ </h2><br>  SFINAE рдХрд╛ рдПрдХ рдЕрдиреНрдп рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрдпреЛрдЧ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрдХрд▓рди-рд╕рдордп рдХреА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рд╣реИред  рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдпрджрд┐ рд╣рдо <code>myAbs</code> рдореВрд▓реНрдпреЛрдВ рдХреЗ рд╕рд╛рде <code>myAbs</code> рдХреА рдХреЙрд▓ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдФрд░ рдЗрди рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рддреБрдЪреНрдЫ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ?  рд╣рдо C ++ 17 рдореЗрдВ рдХреЙрдиреНрд╕реНрдЯреИрдХреНрд╕рдкреНрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рд╣рдо рдмрд╛рдж рдореЗрдВ рдЗрд╕ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗ), рдпрд╛ рд╣рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> IsSigned = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">enable_if_t</span></span>&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_signed_v&lt; T &gt; &gt;; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> IsUnsigned = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">enable_if_t</span></span>&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_unsigned_v&lt; T &gt; &gt;; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> = IsSigned&lt; T &gt; &gt; T myAbs( T val ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( ( val &lt;= <span class="hljs-number"><span class="hljs-number">-1</span></span> ) ? -val : val ); } <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> = IsUnsigned&lt; T &gt; &gt; T myAbs( T val ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val; }</code> </pre> <br>  рд▓реЗрдХрд┐рди рдпрд╣ рдХреНрдпрд╛ рд╣реИ? <br><br><pre> <code class="cpp hljs">error: <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> parameter redefines <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> argument <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> = IsUnsigned&lt; T &gt; &gt; note: previous <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> argument defined here <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> = IsSigned&lt; T &gt; &gt;</code> </pre> <br>  <i><b>рдУрд╣, C ++ рдорд╛рдирдХ (C ++ 17; .117.1.16) рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдмрддрд╛рддрд╛ рд╣реИ</b> :</i> <br><br><blockquote>  "рдПрдХ рд╣реА рджрд╛рдпрд░реЗ рдореЗрдВ рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдШреЛрд╖рдгрд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рдЯреЗрдореНрдкрд▓реЗрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рддрд░реНрдХ рдкреНрд░рджрд╛рди рдирд╣реАрдВ рдХрд┐рдП рдЬрд╛рдиреЗ рдЪрд╛рд╣рд┐рдПред" </blockquote><br>  рдУрд╣, рдпрд╣ рдареАрдХ рд╣реИ рдХрд┐ рд╣рдордиреЗ рдХреНрдпрд╛ рдХрд┐рдпрд╛ ... <br><br><h3>  рдЕрдЧрд░ рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдХрд░рддреЗ? </h3><br>  рд╣рдо рдЗрд╕рдХреЗ рдмрдЬрд╛рдп рд░рдирдЯрд╛рдЗрдо рдкрд░ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myAbs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( T val )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_signed_v&lt; T &gt; ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( ( val &lt;= <span class="hljs-number"><span class="hljs-number">-1</span></span> ) ? -val : val ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val; } }</code> </pre> <br>  рд╕рдВрдХрд▓рдХ рд╕реНрдерд┐рддрд┐ рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░реЗрдЧрд╛ рдХреНрдпреЛрдВрдХрд┐ <code><code>if (std::is_signed_v &lt;</code> T&gt;)</code> рдЯреЗрдореНрдкрд▓реЗрдЯ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рдж <code>if (true)</code> рдпрд╛ <code>if (false)</code> рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рд╛рдВ, <code>myAbs</code> рд╣рдорд╛рд░реЗ рд╡рд░реНрддрдорд╛рди рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ <code>myAbs</code> рдпрд╣ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред  рд▓реЗрдХрд┐рди рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░, рдпрд╣ рдПрдХ рдмрд╣реБрдд рдмрдбрд╝реА рд╕реАрдорд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ: <code>if</code> рдФрд░ <code>else</code> рдкреНрд░рддреНрдпреЗрдХ <code>T</code> рд▓рд┐рдП рдорд╛рдиреНрдп рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдП <code>T</code>  рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдпрджрд┐ рд╣рдо рдЕрдкрдиреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдереЛрдбрд╝рд╛ рдмрджрд▓рддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myAbs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( T val )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_signed_v&lt; T &gt; ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>( val ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a{ myAbs( <span class="hljs-number"><span class="hljs-number">5u</span></span> ) }; }</code> </pre> <br>  рд╣рдорд╛рд░рд╛ рдХреЛрдб рддреБрд░рдВрдд рджреБрд░реНрдШрдЯрдирд╛рдЧреНрд░рд╕реНрдд рд╣реЛ рдЬрд╛рдПрдЧрд╛: <br><br><pre> <code class="cpp hljs">error: call of overloaded <span class="hljs-string"><span class="hljs-string">'abs(unsigned int&amp;)'</span></span> is ambiguous</code> </pre> <br>  рдпрд╣ рдкреНрд░рддрд┐рдмрдВрдз рд╡рд╣ рд╣реИ рдЬреЛ SFINAE рд╕рдорд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ: рд╣рдо рд╡рд╣ рдХреЛрдб рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдХреЗрд╡рд▓ T рдХреЗ рд╕рдмрд╕реЗрдЯ рдХреЗ рд▓рд┐рдП рдорд╛рдиреНрдп рд╣реИ (myAbs рдореЗрдВ рдпрд╣ рдХреЗрд╡рд▓ рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдорд╛рдиреНрдп рд╣реИ рдпрд╛ рдХреЗрд╡рд▓ рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдорд╛рдиреНрдп рд╣реИ)ред <br><br><h3>  рд╕рдорд╛рдзрд╛рди: SFINAE рдХреЗ рд▓рд┐рдП рджреВрд╕рд░рд╛ рд░реВрдк </h3><br>  рдЗрди рдХрдорд┐рдпреЛрдВ рдХреЛ рджреВрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдо рдХреНрдпрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?  рдкрд╣рд▓реА рд╕рдорд╕реНрдпрд╛ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЕрдкрдиреЗ SFINAE рдЪреЗрдХ рдХреЛ рдмрд╛рдзреНрдп рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рднрд▓реЗ рд╣реА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣рдорд╛рд░реЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд░реЗрдВред  рд╡рд░реНрддрдорд╛рди рдореЗрдВ, рдХрдВрдкрд╛рдЗрд▓рд░ рдХреЛ рджреВрд╕рд░реЗ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░рдХрд╛рд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдиреЗ рдкрд░ рд╣рдорд╛рд░реЗ рдкрд░реАрдХреНрд╖рдг рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдпрджрд┐ рд╣рдо рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░рдХрд╛рд░ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп рдЯреЗрдореНрдкрд▓реЗрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдкреНрд░рдХрд╛рд░ рдШреЛрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░реЗ SFINAE рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдХреНрдпрд╛ рд╣реЛрдЧрд╛?  рдЖрдЗрдП рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> IsSigned = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">enable_if_t</span></span>&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_signed_v&lt; T &gt;, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> &gt;; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, IsSigned&lt; T &gt; = <span class="hljs-literal"><span class="hljs-literal">true</span></span> &gt; T myAbs( T val ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( ( val &lt;= <span class="hljs-number"><span class="hljs-number">-1</span></span> ) ? -val : val ); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//int a{ myAbs( 5u ) }; int b{ myAbs&lt; int &gt;( 5u ) }; //int c{ myAbs&lt; unsigned int, true &gt;( 5u ) }; }</span></span></code> </pre> <br>  рд╣рдореЗрдВ рд╡реИрдз рдорд╛рдорд▓реЛрдВ рдореЗрдВ рд╢реВрдиреНрдп рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдПрдХ рдкреНрд░рдХрд╛рд░ рд╣реЛрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рд╢реВрдиреНрдп рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдореВрд▓реНрдп рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдХреБрдЫ рдФрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП: рдмреВрд▓, рдЗрдВрдЯ, рдПрдирдо, рдирд▓реНрдЯрдкреНрд░__, рдЖрджрд┐ред рдЖрдорддреМрд░ рдкрд░ рдореИрдВ рдмреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ - рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рднрд╛рд╡ рд╕рд╛рд░реНрдердХ рджрд┐рдЦрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, IsSigned&lt; T &gt; = <span class="hljs-literal"><span class="hljs-literal">true</span></span> &gt;</code> </pre> <br>  рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ!  <code>myAbs (5u)</code> рдХрдВрдкрд╛рдЗрд▓рд░ рдкрд╣рд▓реЗ рдХреА рддрд░рд╣ рддреНрд░реБрдЯрд┐ рджреЗрддрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs">candidate <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> ignored: requirement <span class="hljs-string"><span class="hljs-string">'std::is_signed_v&lt;unsigned int&gt;'</span></span> was <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> satisfied [with T = <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span></code> </pre> <br>  рджреВрд╕рд░реА рдХреЙрд▓, <code><code>myAbs &lt;</code> int&gt; (5u)</code> рдЕрднреА рднреА рдорд╛рдиреНрдп рд╣реИ, рд╣рдо рд╕рдВрдХрд▓рдХ рдкреНрд░рдХрд╛рд░ <code>T</code> рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдмрддрд╛рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдпрд╣ <code>5u</code> рдХреЛ <code>int</code> рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред <br><br>  рдЕрдВрдд рдореЗрдВ, рд╣рдо рдЕрдм рдЙрдВрдЧрд▓реА рдХреЗ рдЖрд╕рдкрд╛рд╕ <code>myAbs</code> рдкрддрд╛ рдирд╣реАрдВ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ: <code><code>myAbs &lt;</code> unsigned int, true&gt; (5u)</code> рдПрдХ рддреНрд░реБрдЯрд┐ рдлреЗрдВрдХрддрд╛ рд╣реИред  рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рд╣рдо рдХреЙрд▓ рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ рдирд╣реАрдВ, SFINAE рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреЗ рднрд╛рдЧ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рд╡реИрд╕реЗ рднреА рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╕рдВрдХрд▓рдХ рдХреЛ рдПрдХ рдЕрдирд╛рдо рдЯреЗрдореНрдкрд▓реЗрдЯ рдорд╛рди рдХреЗ рддрд░реНрдХ рдкреНрд░рдХрд╛рд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред <br><br>  рд╣рдо рдЕрдЧрд▓реА рд╕рдорд╕реНрдпрд╛ рдкрд░ рдЖрдЧреЗ рдмрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ - рд▓реЗрдХрд┐рди рдПрдХ рдорд┐рдирдЯ рд░реБрдХрд┐рдП!  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЕрдм рд╣рдо рд╕рдорд╛рди рдЯреЗрдореНрдкрд▓реЗрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рддрд░реНрдХ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдб рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред рдореВрд▓ рд╕реНрдерд┐рддрд┐ рдХреНрдпрд╛ рдереА? <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> = IsUnsigned&lt; T &gt; &gt; T myAbs( T val ); <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> = IsSigned&lt; T &gt; &gt; T myAbs( T val );</code> </pre> <br>  рд▓реЗрдХрд┐рди рдЕрдм рд╡рд░реНрддрдорд╛рди рдХреЛрдб рдХреЗ рд╕рд╛рде: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, IsUnsigned&lt; T &gt; = <span class="hljs-literal"><span class="hljs-literal">true</span></span> &gt; T myAbs( T val ); <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, IsSigned&lt; T &gt; = <span class="hljs-literal"><span class="hljs-literal">true</span></span> &gt; T myAbs( T val );</code> </pre> <br>  рдпрд╣ рдкрд┐рдЫрд▓реЗ рдХреЛрдб рдХреЗ рд╕рдорд╛рди рджрд┐рдЦрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рд╕реЛрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдпрд╛ рддреЛ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛, рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕ рдХреЛрдб рдореЗрдВ рд╕рдорд╛рди рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реИред  <code><code>IsUnsigned &lt;</code> T&gt;</code> рдХреНрдпрд╛ рд╣реИ?  рдмреВрд▓ рдпрд╛ рдЕрд╕рдлрд▓ рд▓реБрдХред  рдФрд░ <code><code>IsSigned &lt;</code> T&gt;</code> рдХреНрдпрд╛ рд╣реИ?  рдПрдХ рд╣реА рдмрд╛рдд рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдмреВрд▓ рд╣реИ, рддреЛ рджреВрд╕рд░рд╛ рдПрдХ рдЕрд╕рдлрд▓ рд▓реБрдХрдЕрдк рд╣реИред <br><br>  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╣рдо рдбрд┐рдлрд╝реЙрд▓реНрдЯ рддрд░реНрдХреЛрдВ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдб рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЯреЗрдореНрдкрд▓реЗрдЯ рддрд░реНрдХ рдмреВрд▓ рдХреЗ рд╕рд╛рде рдХреЗрд╡рд▓ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рд╣реИ, рджреВрд╕рд░рд╛ рдПрдХ рдЕрд╕рдлрд▓ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИред <br><br><h3>  рд╕рд┐рдВрдереЗрдЯрд┐рдХ рдЪреАрдиреА </h3><br>  <i><b>рдпреБрдкреАрдбреАред</b></i>  <i>рдЗрд╕ рдЕрдиреБрдЪреНрдЫреЗрдж рдХреЛ рд▓реЗрдЦрдХ рджреНрд╡рд╛рд░рд╛ рдЗрд╕рдореЗрдВ рдорд┐рд▓реА рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рдХрд╛рд░рдг рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред</i> <br><br><h3>  C ++ рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдг </h3><br>  рдЙрдкрд░реЛрдХреНрдд рд╕рднреА C ++ 11 рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рдПрдХрдорд╛рддреНрд░ рдЕрдВрддрд░ рдорд╛рдирдХ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдмреАрдЪ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛рдУрдВ рдХреА рдХреНрд░рд┐рдпрд╛рд╢реАрд▓рддрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//C++11 template&lt; typename T &gt; using IsSigned = typename std::enable_if&lt; std::is_signed&lt; T &gt;::value, bool &gt;::type; //C++14 - std::enable_if_t template&lt; typename T &gt; using IsSigned = std::enable_if_t&lt; std::is_signed&lt; T &gt;::value, bool &gt;; //C++17 - std::is_signed_v template&lt; typename T &gt; using IsSigned = std::enable_if_t&lt; std::is_signed_v&lt; T &gt;, bool &gt;;</span></span></code> </pre> <br>  рд▓реЗрдХрд┐рди рдЯреЗрдореНрдкрд▓реЗрдЯ рд╡рд╣реА рд░рд╣рддрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, IsSigned&lt; T &gt; = <span class="hljs-literal"><span class="hljs-literal">true</span></span> &gt;</code> </pre> <br>  рдЕрдЪреНрдЫреЗ рдкреБрд░рд╛рдиреЗ C ++ 98 рдореЗрдВ, рдХреЛрдИ рдЯреЗрдореНрдкрд▓реЗрдЯ рдЙрдкрдирд╛рдо рдирд╣реАрдВ рд╣реИрдВ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдлрд╝рдВрдХреНрд╢рди рдЯреЗрдореНрдкрд▓реЗрдЯ рдореЗрдВ рдкреНрд░рдХрд╛рд░ рдпрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рдо рдЕрдкрдиреЗ SFINAE рдХреЛрдб рдХреЛ рдкрд░рд┐рдгрд╛рдо рдкреНрд░рдХрд╛рд░ рдпрд╛ рдХреЗрд╡рд▓ рдлрд╝рдВрдХреНрд╢рди рдорд╛рдкрджрдВрдбреЛрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рджреВрд╕рд░рд╛ рд╡рд┐рдХрд▓реНрдк рдЕрдиреБрд╢рдВрд╕рд┐рдд рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдирд┐рд░реНрдорд╛рдгрдХрд░реНрддрд╛рдУрдВ рдХреЗ рдкрд╛рд╕ рдкрд░рд┐рдгрд╛рдо рдкреНрд░рдХрд╛рд░ рдирд╣реАрдВ рд╣реИрдВред  рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣рдо рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myAbs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( T val, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">typename</span></span></span></span><span class="hljs-function"><span class="hljs-params"> my_enable_if&lt; my_is_signed&lt; T &gt;::value, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &gt;::type = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">true</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( ( val &lt;= <span class="hljs-number"><span class="hljs-number">-1</span></span> ) ? -val : val ); }</code> </pre> <br>  рддреБрд▓рдирд╛ рдХреЗ рд▓рд┐рдП рдмрд╕ - C ++ рдХрд╛ рдЖрдзреБрдирд┐рдХ рд╕рдВрд╕реНрдХрд░рдг: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, IsSigned&lt; T &gt; = <span class="hljs-literal"><span class="hljs-literal">true</span></span> &gt; T myAbs( T val ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( ( val &lt;= <span class="hljs-number"><span class="hljs-number">-1</span></span> ) ? -val : val ); }</code> </pre> <br>  рд╕реА ++ 98 рд╕рдВрд╕реНрдХрд░рдг рдмрджрд╕реВрд░рдд рд╣реИ, рдПрдХ рдЕрд░реНрдерд╣реАрди рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдкрд░рд┐рдЪрдп рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ - рдпрджрд┐ рдЖрдк рдмрд┐рд▓реНрдХреБрд▓ рдЖрд╡рд╢реНрдпрдХ рд╣реИрдВ рддреЛ рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдФрд░ рд╣рд╛рдВ: <code>my_enable_if</code> рдФрд░ <code>my_is_signed</code> рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП ( <code>std :: enable_if  std :: is_signed</code> C ++ 11 рдореЗрдВ рдирдП рдереЗ)ред <br><br><h3>  рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ </h3><br>  C ++ 17 рдХреА рд╢реБрд░реБрдЖрдд рд╣реБрдИ <code>if constexpr</code> , рд╕рдВрдХрд▓рд┐рдд рд╕рдордп рдкрд░ рд╢рд░реНрддреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХреЛрдб рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХреА рд╡рд┐рдзрд┐ред  рдЕрдЧрд░ рдФрд░ рджреЛрдиреЛрдВ рдмрдпрд╛рдиреЛрдВ рдХреЛ рд╡рд╛рдХреНрдпрд╡рд┐рдиреНрдпрд╛рд╕ рд░реВрдк рд╕реЗ рд╕рд╣реА рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рд╣рд╛рд▓рдд рдХрд╛ рд╕рдВрдХрд▓рди рд╕рдордп рдкрд░ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myAbs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( T val )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">if</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constexpr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::is_signed_v&lt; T &gt; )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( ( val &lt;= <span class="hljs-number"><span class="hljs-number">-1</span></span> ) ? -val : val ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constexpr</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_unsigned_v&lt; T &gt; ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val; } <span class="hljs-comment"><span class="hljs-comment">/*else { static_assert( false, "T must be signed or unsigned arithmetic type." ); }*/</span></span> } }</code> </pre> <br>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рдорд╛рд░рд╛ рдПрдмреНрд╕ рдлрд╝рдВрдХреНрд╢рди рдЕрдзрд┐рдХ рдХреЙрдореНрдкреИрдХреНрдЯ рдФрд░ рдкрдврд╝рдиреЗ рдореЗрдВ рдЖрд╕рд╛рди рд╣реЛ рдЧрдпрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЧреИрд░-рдЕрдиреБрд░реВрдк рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рдирд╛ рд╕реАрдзрд╛ рдирд╣реАрдВ рд╣реИред  <code>static_assert</code> рдмрд┐рдирд╛ рд╢рд░реНрдд <code>static_assert</code> рдЗрд╕ рдХрдерди рдХреЛ рдЦрд░рд╛рдм рд░реВрдк рд╕реЗ рд╕реБрд╕рдВрдЧрдд рдмрдирд╛рддрд╛ рд╣реИ, рдЬреЛ рдорд╛рдирдХ рджреНрд╡рд╛рд░рд╛ рдирд┐рд╖рд┐рджреНрдз рд╣реИ, рднрд▓реЗ рд╣реА рдЗрд╕реЗ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рдП рдпрд╛ рдирд╣реАрдВред <br><br>  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдПрдХ рдЦрд╛рдореА рд╣реИ: рдЯреЗрдореНрдкрд▓реЗрдЯ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдореЗрдВ, рдЧрд┐рд░рд╛рдП рдЧрдП рдСрдкрд░реЗрдЯрд░ рдирд╣реАрдВ рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ рдпрджрд┐ рд╕реНрдерд┐рддрд┐ рдореВрд▓реНрдп рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░ рд╣реИред  рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛! <br><br>  рддреЛ рд╣рдорд╛рд░реЗ рдХреЛрдб рдХреЗ рд╕рд╛рде рдПрдХрдорд╛рддреНрд░ рд╕рдорд╕реНрдпрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рдЯреЗрдореНрдкрд▓реЗрдЯ рдкрд░рд┐рднрд╛рд╖рд╛ рдХреЗ рджреМрд░рд╛рди рдХреНрд░реИрд╢ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рд╣рдо рдЦрд╛рдХрд╛ рдмрдирд╛рдиреЗ рдХреЗ рд╕рдордп рддрдХ <code>static_assert</code> рдХреЗ рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЛ рдЯрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рддреЛ рд╕рдорд╕реНрдпрд╛ рд╣рд▓ рд╣реЛ рдЬрд╛рдПрдЧреА: рдпрджрд┐ рд╣рдорд╛рд░реА рд╕рднреА рд╕реНрдерд┐рддрд┐рдпрд╛рдБ рдЭреВрдареА рд╣реИрдВ рдФрд░ рдХреЗрд╡рд▓ рддрднреА рдЗрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд▓реЗрдХрд┐рди рдЬрдм рддрдХ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рддрдм рддрдХ рд╣рдо <code>static_assert</code> рдХреЛ рдХреИрд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?  рдЗрд╕рдХреА рд╕реНрдерд┐рддрд┐ рдкреНрд░рдХрд╛рд░ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░реЗрдВ! <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> &gt; <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constexpr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> dependent_false_v{ <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myAbs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( T val )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">if</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constexpr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::is_signed_v&lt; T &gt; )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( ( val &lt;= <span class="hljs-number"><span class="hljs-number">-1</span></span> ) ? -val : val ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constexpr</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_unsigned_v&lt; T &gt; ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">static_assert</span></span>( dependent_false_v&lt; T &gt;, <span class="hljs-string"><span class="hljs-string">"Unsupported type"</span></span> ); } } }</code> </pre> <br><h3>  рднрд╡рд┐рд╖реНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ </h3><br>  рд╣рдо рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХрд░реАрдм рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рдереЛрдбрд╝реА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬрдм рддрдХ рдХрд┐ рд╕реА ++ 20 рдЕрдВрддрд┐рдо рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рд▓рд╛рддрд╛ рд╣реИ: рдЕрд╡рдзрд╛рд░рдгрд╛рдПрдВ!  рдпрд╣ рдЯреЗрдореНрдкрд▓реЗрдЯ (рдФрд░ SFINAE) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдмрджрд▓ рджреЗрдЧрд╛ред <br><br>  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ: рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрди рддрд░реНрдХреЛрдВ рдХреЗ рд╕реЗрдЯ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рдЯреЗрдореНрдкрд▓реЗрдЯ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд▓рд┐рдП рд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рд╣рдорд╛рд░реЗ рдПрдмреНрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЕрд╡рдзрд╛рд░рдгрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-function"><span class="hljs-function">concept </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Arithmetic</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_arithmetic_v&lt; T &gt;; }</code> </pre> <br>  рдФрд░ рд╣рдо рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?  рдЗрд╕рдХреЗ рддреАрди рддрд░реАрдХреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   template&lt; typename T &gt; requires Arithmetic&lt; T &gt;() T myAbs( T val ); //   template&lt; Arithmetic T &gt; T myAbs( T val ); //  Arithmetic myAbs( Arithmetic val );</span></span></code> </pre> <br>  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рддреАрд╕рд░рд╛ рд░реВрдк рдЕрднреА рднреА рдПрдХ рдЯреЗрдореНрдкрд▓реЗрдЯ рдлрд╝рдВрдХреНрд╢рди рдШреЛрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ!  рдпрд╣рд╛рдБ C ++ 20 рдореЗрдВ myAbs рдХрд╛ рдкреВрд░реНрдг рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╣реИ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T &gt; <span class="hljs-function"><span class="hljs-function">concept </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Arithmetic</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_arithmetic_v&lt; T &gt;; } <span class="hljs-function"><span class="hljs-function">Arithmetic </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myAbs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( Arithmetic val )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">if</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constexpr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::is_signed_v&lt; </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decltype</span></span></span></span><span class="hljs-function"><span class="hljs-params">( val ) &gt; )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( ( val &lt;= <span class="hljs-number"><span class="hljs-number">-1</span></span> ) ? -val : val ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a{ myAbs( <span class="hljs-number"><span class="hljs-number">5u</span></span> ) }; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> b{ myAbs&lt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &gt;( <span class="hljs-number"><span class="hljs-number">5u</span></span> ) }; <span class="hljs-comment"><span class="hljs-comment">//std::string c{ myAbs( "d" ) }; }</span></span></code> </pre> <br>  рдПрдХ рдЯрд┐рдкреНрдкрдгреА рдХреА рдЧрдИ рдХреЙрд▓ рдирд┐рдореНрди рддреНрд░реБрдЯрд┐ рджреЗрддреА рд╣реИ: <br><br><pre> <code class="cpp hljs">error: cannot call function <span class="hljs-string"><span class="hljs-string">'auto myAbs(auto:1) [with auto:1 = const char*]'</span></span> constraints <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> satisfied within <span class="hljs-string"><span class="hljs-string">'template&lt;class T&gt; concept bool Arithmetic() [with T = const char*]'</span></span> <span class="hljs-function"><span class="hljs-function">concept </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Arithmetic</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ ^~~~~~~~~~ <span class="hljs-string"><span class="hljs-string">'std::is_arithmetic_v'</span></span> evaluated to <span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre> <br>  рдореИрдВ рд╕рднреА рд╕реЗ рдЖрдЧреНрд░рд╣ рдХрд░рддрд╛ рд╣реВрдВ рдХрд┐ рдЙрддреНрдкрд╛рджрди рд╡рд┐рдзрд┐ рдореЗрдВ рдЗрди рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рд╕рд╛рд╣рд╕рдкреВрд░реНрд╡рдХ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ; рд╕рдВрдХрд▓рди рд╕рдордп рд░рдирдЯрд╛рдЗрдо рд╕реЗ рд╕рд╕реНрддрд╛ рд╣реИред  рд╣реИрдкреНрдкреА SFINAEing! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi466915/">https://habr.com/ru/post/hi466915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi466899/index.html">рдХреНрдпреЛрдВ рд╕рдм рдХреБрдЫ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдФрд░ рдЕрднреА рд╕реНрд╡рд┐рдлреНрдЯ рдФрд░ рдХреЛрдЯрд▓рд┐рди рд╕реАрдЦрдирд╛</a></li>
<li><a href="../hi466903/index.html">рд╣рдореЗрд╢рд╛ рдЕрдкрдирд╛ рдХрд╛рдо рдкреЗрд╢ рдХрд░реЛ</a></li>
<li><a href="../hi466905/index.html">рдпреВ-рдмреВрдЯ рдХреЗ рд╕рд╡рд╛рд▓ рдкрд░</a></li>
<li><a href="../hi466907/index.html">5 рдЬреА рдФрд░ рд╡рд╛рдИрдлрд╛рдИ 6: рдЬрдм рджреЛ рдиреЗрдЯрд╡рд░реНрдХ рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХрд┐рдпрд╛рдВ рдПрдХ рд╕реЗ рдмреЗрд╣рддрд░ рд╣реЛрддреА рд╣реИрдВ</a></li>
<li><a href="../hi466911/index.html">рдЕрдореЗрд░рд┐рдХреА рдЕрджрд╛рд▓рдд рдиреЗ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╡реИрдз рдХрд░ рджрд┐рдпрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рддрдХрдиреАрдХреА рд░реВрдк рд╕реЗ рдмрд╛рдзрд┐рдд рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХ рджрд┐рдпрд╛ рд╣реИ</a></li>
<li><a href="../hi466917/index.html">рдЬрдм HTTP рдорд╛рдирдХ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИред рдЕрдВрддрд░рд┐рдХреНрд╖ рдпрд╛рддреНрд░реА рдкреНрд░рддрд┐рдмрджреНрдз рд╣реИ</a></li>
<li><a href="../hi466921/index.html">рдХрд┐рд╕реА рднреА рд╕реЗрд╡рд╛ рдХрдВрдкрдиреА рдХреА 5 рд╕рдорд╕реНрдпрд╛рдПрдВ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рди рдордВрдЪ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдирдХрд╛ рд╕рдорд╛рдзрд╛рди</a></li>
<li><a href="../hi466923/index.html">рдлрдВрдб рдХреА рдЙрддреНрдкрддреНрддрд┐ рдХреЛ рд╕рд╛рдмрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдИрдЯреА рд╡рд┐рджреЗрд╢реА рдмреИрдВрдХ рдореЗрдВ рдХреИрд╕реЗ рдореБрдХрджрдорд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ</a></li>
<li><a href="../hi466925/index.html">Bitrix рдХреЗ рд▓рд┐рдП Hi-CPU VDS рдХреИрд╕реЗ рдЪрд▓рд╛рдПрдВ, рддреЛрддреЗ рдХреЛ рддрд┐рддрд░-рдмрд┐рддрд░ рдХрд░реЗрдВ рдФрд░ рдЯреВрдЯреЗ рдирд╣реАрдВ</a></li>
<li><a href="../hi466929/index.html">рдЯреЛрдХрди рдЬреЛрдбрд╝реЗрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>