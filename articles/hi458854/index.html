<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯФж тЬНЁЯП╜ ЁЯНЗ MotionLayout: рдПрдирд┐рдореЗрд╢рди рдмреЗрд╣рддрд░, рдХрдо рдХреЛрдб рд╣реИрдВ ЁЯУЮ ЁЯШм ЁЯФЖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Google рдирдП рдХрд╛рдо рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдФрд░ рдПрдкреАрдЖрдИ рдЬрд╛рд░реА рдХрд░рдХреЗ рд╣рдорд╛рд░реЗ рдЬреАрд╡рди рдореЗрдВ рд╕реБрдзрд╛рд░ рдЬрд╛рд░реА рд░рдЦрддрд╛ рд╣реИред рдЬрд┐рд╕рдХреЗ рдмреАрдЪ рдирдпрд╛ рдореЛрд╢рдирд▓реЗрдЖрдЙрдЯ рдерд╛ред рд╣рдорд╛рд░реЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рдПрдирд┐рдореЗрд╢рди рдХреА рдкреНрд░рдЪреБрд░рддрд╛ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MotionLayout: рдПрдирд┐рдореЗрд╢рди рдмреЗрд╣рддрд░, рдХрдо рдХреЛрдб рд╣реИрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/458854/"><img src="https://habrastorage.org/webt/wk/q7/cq/wkq7cqwqisgnz3lof9qfobt5bte.png"><br>  <i>Google рдирдП рдХрд╛рдо рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдФрд░ рдПрдкреАрдЖрдИ рдЬрд╛рд░реА рдХрд░рдХреЗ рд╣рдорд╛рд░реЗ рдЬреАрд╡рди рдореЗрдВ рд╕реБрдзрд╛рд░ рдЬрд╛рд░реА рд░рдЦрддрд╛ рд╣реИред</i>  <i>рдЬрд┐рд╕рдХреЗ рдмреАрдЪ рдирдпрд╛ рдореЛрд╢рдирд▓реЗрдЖрдЙрдЯ рдерд╛ред</i>  <i>рд╣рдорд╛рд░реЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рдПрдирд┐рдореЗрд╢рди рдХреА рдкреНрд░рдЪреБрд░рддрд╛ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рдореЗрд░реЗ рд╕рд╣рдпреЛрдЧреА рд╕реЗрдбреНрд░рд┐рдХ рд╣реЛрд▓реНрдЯреНрдЬрд╝ рдиреЗ рддреБрд░рдВрдд рд╣рдорд╛рд░реЗ рдЖрд╡реЗрджрди рдХреЗ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдПрдиреАрдореЗрд╢рди рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ - рдбреЗрдЯрд┐рдВрдЧ рдореЗрдВ рдорддрджрд╛рди - рдирдП рдПрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдХреЛрдб рдХреА рдПрдХ рдмрдбрд╝реА рд░рд╛рд╢рд┐ рдХреА рдмрдЪрдд рдХрд░рддреЗ рд╣реБрдПред</i>  <i>рдореИрдВ рдЙрдирдХреЗ рд▓реЗрдЦ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рд╕рд╛рдЭрд╛ рдХрд░рддрд╛ рд╣реВрдВред</i> <br><br>  Google I / O 2019 рд╕рдореНрдореЗрд▓рди рд╣рд╛рд▓ рд╣реА рдореЗрдВ рд╕рдорд╛рдкреНрдд рд╣реБрдЖ, рдЬрд┐рд╕ рдкрд░ рдЕрдкрдбреЗрдЯ рдФрд░ рд╣рдорд╛рд░реЗ рдкреНрдпрд╛рд░реЗ рдПрд╕рдбреАрдХреЗ рдореЗрдВ рдирд╡реАрдирддрдо рд╕реБрдзрд╛рд░реЛрдВ рдХреА рдШреЛрд╖рдгрд╛ рдХреА рдЧрдИред  рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ, рдореБрдЭреЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдХрд╛рдВрд╕реНрдЯреНрд░реЗрдирд▓ рд▓рдпрдЖрдЙрдЯ рдХреА рднрд╡рд┐рд╖реНрдп рдХреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд┐рдХреЛрд▓рд╕ рд░реЛрдб рдФрд░ рдЬреЙрди рд╣реЙрдлрд░реНрдб рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╕реНрддреБрддрд┐ рдореЗрдВ рд░реБрдЪрд┐ рдереАред  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдореЛрд╢рди рд▓рдпрдЖрдЙрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕рдХреЗ рд╡рд┐рд╕реНрддрд╛рд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВред <br><br>  рдмреАрдЯрд╛ рд░рд┐рд▓реАрдЬрд╝ рдХреЗ рдмрд╛рдж, рдореИрдВ рдЗрд╕ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рдбреЗрдЯрд┐рдВрдЧ рдПрдиреАрдореЗрд╢рди рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред <a name="habracut"></a><br><br>  рдкрд╣рд▓реЗ, рд╢рд░реНрддреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ: <br><br><blockquote>  "рдореЛрд╢рди рд▓реЕрдЯрдЖрдЙрдЯ рдПрдХ рдХрд╛рдВрд╕реНрдЯреАрдЯрдпрд╝реВрдирд▓рдЖрдЙрдЯ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд░рд╛рдЬреНрдпреЛрдВ рдХреЗ рдмреАрдЪ рд▓реЗрдЖрдЙрдЯ рдХреЛ рдПрдирд┐рдореЗрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред"  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░рд▓реЗрдЦрди</a> </blockquote><br><br>  рдпрджрд┐ рдЖрдкрдиреЗ рдирд┐рдХреЛрд▓рд╕ рд░реЛрдб <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЗ рд▓реЗрдЦреЛрдВ рдХреА</a> рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╢реНрд░реГрдВрдЦрд▓рд╛</a> рдирд╣реАрдВ рдкрдврд╝реА рд╣реИ, рдЬреЛ рдореЛрд╢рди рд▓рдпрдЖрдЙрдЯ рдХреЗ рдореБрдЦреНрдп рд╡рд┐рдЪрд╛рд░реЛрдВ рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдореИрдВ рдЗрд╕реЗ рдкрдврд╝рдиреЗ рдХреА рдЕрддреНрдпрдзрд┐рдХ рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВред <br><br>  рдЗрд╕рд▓рд┐рдП, рдХрд┐рдП рдЧрдП рдкрд░рд┐рдЪрдп рдХреЗ рд╕рд╛рде, рдЕрдм рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рд╣рдо рдХреНрдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/wm/kb/qm/wmkbqmy_ulwafy_jvkvpadfafyu.gif"><br><br><h2>  рдХрд╛рд░реНрдб рдХрд╛ рдвреЗрд░ </h2><br><h3>  рд╣рдо рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдирдХреНрд╢рд╛ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ </h3><br>  рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, MotionLayout рдХреЛ рд▓реЗрдЖрдЙрдЯ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ, рдЬрд┐рд╕рдореЗрдВ рдЕрдм рддрдХ рдХреЗрд╡рд▓ рдПрдХ рд╢реАрд░реНрд╖ рдХрд╛рд░реНрдб рд╣реИ: <br><br><pre><code class="kotlin hljs">&lt;androidx.constraintlayout.motion.widget.MotionLayout android:id=<span class="hljs-string"><span class="hljs-string">"@+id/motionLayout"</span></span>     xmlns:android=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span>     xmlns:app=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span>     android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span>     android:layout_height=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span>     app:layoutDescription=<span class="hljs-string"><span class="hljs-string">"@xml/scene_swipe"</span></span>     app:motionDebug=<span class="hljs-string"><span class="hljs-string">"SHOW_ALL"</span></span>&gt;     &lt;FrameLayout         android:id=<span class="hljs-string"><span class="hljs-string">"@+id/topCard"</span></span>         android:layout_width=<span class="hljs-string"><span class="hljs-string">"0dp"</span></span>         android:layout_height=<span class="hljs-string"><span class="hljs-string">"0dp"</span></span> /&gt; &lt;/androidx.constraintlayout.motion.widget.MotionLayout&gt;</code> </pre> <br>  рдЗрд╕ рд▓рд╛рдЗрди рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ: рдРрдк: рдореЛрд╢рдирдбреЗрдм = "SHOW_ALL"ред  рдпрд╣ рд╣рдореЗрдВ рдбрд┐рдмрдЧрд┐рдВрдЧ рдЬрд╛рдирдХрд╛рд░реА, рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдкреНрд░рдХреНрд╖реЗрдкрд╡рдХреНрд░, рдПрдиреАрдореЗрд╢рди рдХреА рд╢реБрд░реБрдЖрдд рдФрд░ рдЕрдВрдд рдХреЗ рд╕рд╛рде рд░рд╛рдЬреНрдпреЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рд╡рд░реНрддрдорд╛рди рдкреНрд░рдЧрддрд┐ рднреАред  рдбрд┐рдмрдЧрд┐рдВрдЧ рдХрд░рддреЗ рд╕рдордп рд▓рд╛рдЗрди рдмрд╣реБрдд рдорджрдж рдХрд░рддреА рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдареЗрд╕ рднреЗрдЬрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЗрд╕реЗ рд╣рдЯрд╛рдирд╛ рди рднреВрд▓реЗрдВ: рдЗрд╕рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдЕрдиреБрд╕реНрдорд╛рд░рдХ рдирд╣реАрдВ рд╣реИред <br><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рдордиреЗ рдпрд╣рд╛рдВ рдХреЗ рджреГрд╢реНрдп рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдкреНрд░рддрд┐рдмрдВрдз рдирд╣реАрдВ рд▓рдЧрд╛рдпрд╛ рд╣реИред  рдЙрдиреНрд╣реЗрдВ рдЙрд╕ рджреГрд╢реНрдп (рдореЛрд╢рдирд╕реЗрди) рд╕реЗ рд▓рд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕реЗ рдЕрдм рд╣рдо рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЖрдЗрдП рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрдерд┐рддрд┐ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдХреЗ рд╢реБрд░реВ рдХрд░реЗрдВ: рдПрдХ рдХрд╛рд░реНрдб рд╕реНрдХреНрд░реАрди рдХреЗ рдХреЗрдВрджреНрд░ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЪрд╛рд░реЛрдВ рдУрд░ рдЗрдВрдбреЗрдВрдЯ рд╣реЛрддреЗ рд╣реИрдВред <br><br><pre> <code class="kotlin hljs">&lt;MotionScene xmlns:android=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span>    xmlns:app=<span class="hljs-string"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span>&gt;    &lt;ConstraintSet android:id=<span class="hljs-string"><span class="hljs-string">"@+id/rest"</span></span>&gt;        &lt;Constraint            android:id=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span>            android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span>            android:layout_height=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span>            android:layout_marginBottom=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span>            android:layout_marginEnd=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span>            android:layout_marginStart=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span>            android:layout_marginTop=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span>            app:layout_constraintEnd_toEndOf=<span class="hljs-string"><span class="hljs-string">"parent"</span></span>            app:layout_constraintStart_toStartOf=<span class="hljs-string"><span class="hljs-string">"parent"</span></span>&gt;    &lt;/ConstraintSet&gt; &lt;/MotionScene&gt;</code> </pre> <br>  рдмрд╛рдзрд╛ рд╕реЗрдЯ (ConstraintSet) рдкрд╛рд╕ рдФрд░ рдкрд╕рдВрдж рдЬреЛрдбрд╝реЗрдВред  рд╡реЗ рд╢реАрд░реНрд╖ рдХрд╛рд░реНрдб рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рдд рдХрд░реЗрдВрдЧреЗ рдЬрдм рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдмрд╛рдПрдВ рдпрд╛ рджрд╛рдПрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдПрдХ рд╕реБрдВрджрд░ рдПрдиреАрдореЗрд╢рди рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдХреНрд░реАрди рд╕реЗ рдЧрд╛рдпрдм рд╣реЛрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдирдХреНрд╢рд╛ рдмрдВрдж рд╣реЛ рдЬрд╛рдП рдЬреЛ рд╣рдорд╛рд░реЗ рдлреИрд╕рд▓реЗ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИред <br><br><pre> <code class="kotlin hljs">&lt;ConstraintSet    android:id=<span class="hljs-string"><span class="hljs-string">"@+id/pass"</span></span>    app:deriveConstraintsFrom=<span class="hljs-string"><span class="hljs-string">"@+id/rest"</span></span>&gt;    &lt;Constraint        android:id=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span>        android:layout_width=<span class="hljs-string"><span class="hljs-string">"0dp"</span></span>        android:layout_height=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span>        android:layout_marginBottom=<span class="hljs-string"><span class="hljs-string">"80dp"</span></span>        android:layout_marginEnd=<span class="hljs-string"><span class="hljs-string">"200dp"</span></span>        android:layout_marginStart=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span>        android:layout_marginTop=<span class="hljs-string"><span class="hljs-string">"20dp"</span></span>        app:layout_constraintEnd_toEndOf=<span class="hljs-string"><span class="hljs-string">"parent"</span></span>        app:layout_constraintWidth_percent=<span class="hljs-string"><span class="hljs-string">"0.7"</span></span> /&gt; &lt;/ConstraintSet&gt; &lt;ConstraintSet    android:id=<span class="hljs-string"><span class="hljs-string">"@+id/like"</span></span>    app:deriveConstraintsFrom=<span class="hljs-string"><span class="hljs-string">"@id/rest"</span></span>&gt;    &lt;Constraint        android:id=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span>        android:layout_width=<span class="hljs-string"><span class="hljs-string">"0dp"</span></span>        android:layout_height=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span>        android:layout_marginBottom=<span class="hljs-string"><span class="hljs-string">"80dp"</span></span>        android:layout_marginEnd=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span>        android:layout_marginStart=<span class="hljs-string"><span class="hljs-string">"200dp"</span></span>        android:layout_marginTop=<span class="hljs-string"><span class="hljs-string">"20dp"</span></span>        app:layout_constraintStart_toStartOf=<span class="hljs-string"><span class="hljs-string">"parent"</span></span>        app:layout_constraintWidth_percent=<span class="hljs-string"><span class="hljs-string">"0.7"</span></span> /&gt; &lt;/ConstraintSet&gt;</code> </pre><br>  рдкрд┐рдЫрд▓реЗ рджреГрд╢реНрдп рдореЗрдВ рдмрд╛рдзрд╛рдУрдВ рдХреЗ рджреЛрдиреЛрдВ рд╕реЗрдЯреЛрдВ рдХреЛ рдЬреЛрдбрд╝реЗрдВред  рд╡реЗ рд▓рдЧрднрдЧ рд╕рдорд╛рди рд╣реИрдВ, рдХреЗрд╡рд▓ рд╕реНрдХреНрд░реАрди рдХреЗ рджреЛрдиреЛрдВ рдХрд┐рдирд╛рд░реЛрдВ рдкрд░ рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рддред <br><br>  рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреЗ рддреАрди рд╕реЗрдЯ рд╣реИрдВ - рд╢реБрд░реВ, рдкрд╕рдВрдж рдФрд░ рдкрд╛рд╕ред  рдЖрдЗрдП рдЗрди рд░рд╛рдЬреНрдпреЛрдВ рдХреЗ рдмреАрдЪ рдХреЗ рд╕рдВрдХреНрд░рдордг рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВред <br><br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕реНрд╡рд╛рдЗрдк рдХреЗ рд▓рд┐рдП рдмрд╛рдИрдВ рдУрд░ рдПрдХ рд╕рдВрдХреНрд░рдордг рдЬреЛрдбрд╝реЗрдВ, рд╕реНрд╡рд╛рдЗрдк рдХреЗ рд▓рд┐рдП рджреВрд╕рд░рд╛ рджрд╛рдИрдВ рдУрд░ред <br><br><pre> <code class="kotlin hljs">&lt;Transition    app:constraintSetEnd=<span class="hljs-string"><span class="hljs-string">"@+id/pass"</span></span>    app:constraintSetStart=<span class="hljs-string"><span class="hljs-string">"@+id/rest"</span></span>    app:duration=<span class="hljs-string"><span class="hljs-string">"300"</span></span>&gt;    &lt;OnSwipe        app:dragDirection=<span class="hljs-string"><span class="hljs-string">"dragLeft"</span></span>        app:onTouchUp=<span class="hljs-string"><span class="hljs-string">"autoComplete"</span></span>        app:touchAnchorId=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span>        app:touchAnchorSide=<span class="hljs-string"><span class="hljs-string">"left"</span></span>        app:touchRegionId=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span> /&gt; &lt;/Transition&gt; &lt;Transition    app:constraintSetEnd=<span class="hljs-string"><span class="hljs-string">"@+id/like"</span></span>    app:constraintSetStart=<span class="hljs-string"><span class="hljs-string">"@+id/rest"</span></span>    app:duration=<span class="hljs-string"><span class="hljs-string">"300"</span></span>&gt;    &lt;OnSwipe        app:dragDirection=<span class="hljs-string"><span class="hljs-string">"dragRight"</span></span>        app:onTouchUp=<span class="hljs-string"><span class="hljs-string">"autoComplete"</span></span>        app:touchAnchorId=<span class="hljs-string"><span class="hljs-string">"@+id/topCard"</span></span>        app:touchAnchorSide=<span class="hljs-string"><span class="hljs-string">"right"</span></span>        app:touchRegionId=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span> /&gt; &lt;/Transition&gt;</code> </pre><br>  рддреЛ, рд╢реАрд░реНрд╖ рдХрд╛рд░реНрдб рдХреЗ рд▓рд┐рдП, рд╣рдо рдмрд╛рдИрдВ рдУрд░ рд╕реНрд╡рд╛рдЗрдк рдПрдиреАрдореЗрд╢рди рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╡рд╣реА - рджрд╛рдИрдВ рдУрд░ рд╕реНрд╡рд╛рдЗрдк рдХреЗ рд▓рд┐рдП рджрд░реНрдкрдгред <br><br>  рдпреЗ рдЧреБрдг рд╣рдорд╛рд░реЗ рджреГрд╢реНрдп рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдВрдЧреЗ: <br><br><ul><li>  touchRegionId: рдЪреВрдБрдХрд┐ рд╣рдордиреЗ рдорд╛рдирдЪрд┐рддреНрд░ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдкреИрдбрд┐рдВрдЧ рдЬреЛрдбрд╝реА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рд╕реНрдкрд░реНрд╢ рдХреЗрд╡рд▓ рдорд╛рдирдЪрд┐рддреНрд░ рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╣реА рдкрд╣рдЪрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рди рдХрд┐ рдкреВрд░рд╛ рдореЛрд╢рди рд▓рдпрдЖрдЙрдЯред  рдпрд╣ touchRegionId рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br></li><li>  onTouchUp: рдХрд╛рд░реНрдб рдЬрд╛рд░реА рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдПрдиреАрдореЗрд╢рди рдХрд╛ рдХреНрдпрд╛ рд╣реЛрдЧрд╛?  рдЗрд╕реЗ рдпрд╛ рддреЛ рдЕрдкрдиреА рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЖрдЧреЗ рдмрдврд╝рдирд╛ рдЪрд╛рд╣рд┐рдП рдпрд╛ рд╡рд╛рдкрд╕ рд▓реМрдЯрдирд╛ рдЪрд╛рд╣рд┐рдП, рдЗрд╕рд▓рд┐рдП рд╕реНрд╡рдд: рдкреВрд░реНрдгрддрд╛ рд▓рд╛рдЧреВ рд╣реЛрддреА рд╣реИред <br></li></ul><br>  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХреНрдпрд╛ рд╣реБрдЖ: <br><br><img src="https://habrastorage.org/webt/zs/zq/ox/zszqoxe4dsdpphvu3fro0_3tjtk.gif"><br><br><h3>  рдорд╛рдирдЪрд┐рддреНрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрдХреНрд░реАрди рд╕реЗ рдмрд╛рд╣рд░ рдЪрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ </h3><br>  рдЕрдм рд╣рдо рдПрдиреАрдореЗрд╢рди рдкрд░ рдХрд╛рдо рдХрд░реЗрдВрдЧреЗ, рдЬреЛ рдХрд┐ рдорд╛рдирдЪрд┐рддреНрд░ рдХреЗ рд╕реНрдХреНрд░реАрди рд╕реЗ рдмрд╛рд╣рд░ рдЬрд╛рдиреЗ рдкрд░ рд╢реБрд░реВ рд╣реЛрдЧрд╛ред <br><br>  рд╣рдо рдЕрдкрдиреЗ рдПрдирд┐рдореЗрд╢рди рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЕрдВрддрд┐рдо рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рджреЛ рдФрд░ рдХреЙрдиреНрд╕реНрдЯреНрд░реЗрдиреНрд╕рд╕реЗрдЯ рд╕реЗрдЯ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ: рдореИрдк рд╕реНрдХреНрд░реАрди рдХреЛ рдмрд╛рдПрдБ рдФрд░ рджрд╛рдПрдБ рдЫреЛрдбрд╝рддрд╛ рд╣реИред <br><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ, рдореИрдВ рджрд┐рдЦрд╛рдКрдВрдЧрд╛ рдХрд┐ рдХрд┐рд╕ рддрд░рд╣ рд░рд╛рдЬреНрдп рдмрдирд╛рдирд╛ рд╣реИ, рдФрд░ рдкрд╛рд╕ рдХреА рд╕реНрдерд┐рддрд┐ рдЗрд╕реЗ рджреЛрд╣рд░рд╛рдПрдЧреАред  рдПрдХ рдХрд╛рдо рдХрд╛ рдЙрджрд╛рд╣рд░рдг рдкреВрд░реА рддрд░рд╣ рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА</a> рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред <br><br><pre> <code class="kotlin hljs">&lt;ConstraintSet android:id=<span class="hljs-string"><span class="hljs-string">"@+id/offScreenLike"</span></span>&gt;    &lt;Constraint        android:id=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span>        android:layout_width=<span class="hljs-string"><span class="hljs-string">"0dp"</span></span>        android:layout_height=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span>        android:layout_marginBottom=<span class="hljs-string"><span class="hljs-string">"80dp"</span></span>        android:layout_marginEnd=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span>        android:layout_marginTop=<span class="hljs-string"><span class="hljs-string">"20dp"</span></span>        app:layout_constraintStart_toEndOf=<span class="hljs-string"><span class="hljs-string">"parent"</span></span>        app:layout_constraintWidth_percent=<span class="hljs-string"><span class="hljs-string">"0.7"</span></span> /&gt;   &lt;/ConstraintSet&gt;</code> </pre> <br>  рдЕрдм, рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ, рдЖрдкрдХреЛ рд╕реНрд╡рд╛рдЗрдк рд╕реНрдЯреЗрдЯ рд╕реЗ рдЕрдВрддрд┐рдо рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЯреНрд░рд╛рдВрд╕реНрдлрд╝реЙрд░реНрдо рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╕реНрд╡рд╛рдЗрдк рдХреЗ рдПрдиреАрдореЗрд╢рди рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рд╕рдВрдХреНрд░рдордг рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣ рдСрдЯреЛрдЯреНрд░рд╛рдВрд╕рд┐рд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre> <code class="kotlin hljs">&lt;Transition app:autoTransition=<span class="hljs-string"><span class="hljs-string">"animateToEnd"</span></span> app:constraintSetEnd=<span class="hljs-string"><span class="hljs-string">"@+id/offScreenLike"</span></span> app:constraintSetStart=<span class="hljs-string"><span class="hljs-string">"@+id/like"</span></span> app:duration=<span class="hljs-string"><span class="hljs-string">"150"</span></span> /&gt;</code> </pre><br>  рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рд╕реНрд╡рд╛рдЗрдк рдХрд╛рд░реНрдб рд╣реИ рдЬрд┐рд╕реЗ рд╕реНрдХреНрд░реАрди рд╕реЗ рд╕реНрд╡рд╛рдЗрдк рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ! <br><br><img src="https://habrastorage.org/webt/vt/ip/i0/vtipi0xzpmomh5mlkqpoytwedze.gif"><br><br><h3>  рдирд┐рдЪрд▓рд╛ рдирдХреНрд╢рд╛ рдПрдиреАрдореЗрд╢рди </h3><br><br>  рдЕрдм рдбреЗрдХ рдХреЗ рдЕрдирдВрдд рдХрд╛ рднреНрд░рдо рдкреИрджрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдиреАрдЪреЗ рдХрд╛рд░реНрдб рдмрдирд╛рддреЗ рд╣реИрдВред <br><br>  рд▓реЗрдЖрдЙрдЯ рдореЗрдВ рдкрд╣рд▓реЗ рдХреЗ рд╕рдорд╛рди рдПрдХ рдФрд░ рдорд╛рдирдЪрд┐рддреНрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="kotlin hljs">&lt;FrameLayout    android:id=<span class="hljs-string"><span class="hljs-string">"@+id/bottomCard"</span></span>    android:layout_width=<span class="hljs-string"><span class="hljs-string">"0dp"</span></span>    android:layout_height=<span class="hljs-string"><span class="hljs-string">"0dp"</span></span>    android:background=<span class="hljs-string"><span class="hljs-string">"@color/colorAccent"</span></span> /&gt;</code> </pre> <br>  рдПрдиреАрдореЗрд╢рди рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЪрд░рдг рдореЗрдВ рдЗрд╕ рдорд╛рдирдЪрд┐рддреНрд░ рдкрд░ рд▓рд╛рдЧреВ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреЛ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП XML рдмрджрд▓реЗрдВ: <br><br><pre> <code class="kotlin hljs">&lt;ConstraintSet android:id=<span class="hljs-string"><span class="hljs-string">"@id/rest"</span></span>&gt;    &lt;!-- ... --&gt;    &lt;Constraint android:id=<span class="hljs-string"><span class="hljs-string">"@id/bottomCard"</span></span>&gt;        &lt;Layout            android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span>            android:layout_height=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span>            android:layout_marginBottom=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span>            android:layout_marginEnd=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span>            android:layout_marginStart=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span>            android:layout_marginTop=<span class="hljs-string"><span class="hljs-string">"50dp"</span></span> /&gt;        &lt;Transform            android:scaleX=<span class="hljs-string"><span class="hljs-string">"0.90"</span></span>            android:scaleY=<span class="hljs-string"><span class="hljs-string">"0.90"</span></span> /&gt;    &lt;/Constraint&gt; &lt;/ConstraintSet&gt; &lt;ConstraintSet    android:id=<span class="hljs-string"><span class="hljs-string">"@+id/offScreenLike"</span></span>    app:deriveConstraintsFrom=<span class="hljs-string"><span class="hljs-string">"@id/like"</span></span>&gt;    &lt;!-- ... --&gt;    &lt;Constraint android:id=<span class="hljs-string"><span class="hljs-string">"@id/bottomCard"</span></span>&gt;        &lt;Transform            android:scaleX=<span class="hljs-string"><span class="hljs-string">"1"</span></span>            android:scaleY=<span class="hljs-string"><span class="hljs-string">"1"</span></span> /&gt;    &lt;/Constraint&gt; &lt;/ConstraintSet&gt;</code> </pre> <br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ ConstraintSet рд╕рдВрдкрддреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдкреНрд░рддреНрдпреЗрдХ рдирдпрд╛ рд╕реЗрдЯ рдореВрд▓ MotionLayout рд╕реЗ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рд▓реЗрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди deriveConstraintsFrom рдзреНрд╡рдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рд╣рдорд╛рд░реЗ рд╕реЗрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдорд╛рддрд╛-рдкрд┐рддрд╛ рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдпрджрд┐ рд╣рдо рдмрд╛рдзрд╛ рдЯреИрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдмрд╛рдзрд╛рдУрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдореВрд▓ рдмрд╛рдзрд╛рдУрдВ рд╕реЗ рд╕рднреА рдмрд╛рдзрд╛рдУрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреИрдЧ</a> рдореЗрдВ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдХреЗрд╡рд▓ рдЙрдиреНрд╣реЗрдВ рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рдПред <br><br><img src="https://habrastorage.org/webt/vz/ff/zb/vzffzb5u7rlwpayywz7zfm6gnyk.png"><br><br>  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдкрд╛рд╕ рд╕реЗрдЯ рдореЗрдВ рд╣рдо рд▓реЗрдЖрдЙрдЯ рдЯреИрдЧ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдорд╛рддрд╛-рдкрд┐рддрд╛ рд╕реЗ рдХреЙрдкреА рдХрд░рддреЗ рд╣реИрдВред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣рдо рдЯреНрд░рд╛рдВрд╕рдлрд╝реЙрд░реНрдо рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдб рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП, рд╣рдо рдЯреНрд░рд╛рдВрд╕рдлреЙрд░реНрдо рдЯреИрдЧ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕рднреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдЕрдкрдиреЗ рд╕рд╛рде рдмрджрд▓ рджреЗрддреЗ рд╣реИрдВ, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдкреИрдорд╛рдиреЗ рдореЗрдВ рдмрджрд▓рд╛рд╡ред <br><br>  рдпрд╣ рдЖрд╕рд╛рди рд╣реИ рдХрд┐ рдХрд┐рд╕реА рдирдП рддрддреНрд╡ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП MotionLayout рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ рдФрд░ рдЗрд╕реЗ рд╣рдорд╛рд░реЗ рджреГрд╢реНрдп рдХреЗ рдПрдирд┐рдореЗрд╢рди рдХреЗ рд╕рд╛рде рдПрдХреАрдХреГрдд рдХрд░рдирд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/_-/73/jp/_-73jp-vstz02uondgcnyzwcxqe.gif"><br><br><h3>  рдПрдиреАрдореЗрд╢рди рдХреЛ рдЕрдВрддрд╣реАрди рдмрдирд╛рдирд╛ </h3><br><br>  рдПрдиреАрдореЗрд╢рди рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рд╢реАрд░реНрд╖ рдХрд╛рд░реНрдб рдХреЛ рд╕реНрд╡рд╛рдЗрдк рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЕрдм рдпрд╣ рдПрдХ рдирд┐рдЪрд▓рд╛ рдХрд╛рд░реНрдб рдмрди рдЧрдпрд╛ рд╣реИред  рдЕрдВрддрд╣реАрди рдПрдиреАрдореЗрд╢рди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХрд╛рд░реНрдб рд╕реНрд╡реИрдк рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдкрд╣рд▓реЗ рдореИрдВ рдПрдХ рдирдП рдмрджрд▓рд╛рд╡ рдХреЗ рд╕рд╛рде рдРрд╕рд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛: <br><br><pre> <code class="kotlin hljs">&lt;Transition    app:autoTransition=<span class="hljs-string"><span class="hljs-string">"jumpToEnd"</span></span>    app:constraintSetEnd=<span class="hljs-string"><span class="hljs-string">"@+id/rest"</span></span>    app:constraintSetStart=<span class="hljs-string"><span class="hljs-string">"@+id/offScreenLike"</span></span>    app:duration=<span class="hljs-string"><span class="hljs-string">"0"</span></span> /&gt;</code> </pre> <br><img src="https://habrastorage.org/webt/jb/6h/lz/jb6hlzynphpyptximrzq1wgfqfw.gif"><br><br>  рдкреВрд░рд╛ рдПрдирд┐рдореЗрд╢рди рд╡реИрд╕рд╛ рд╣реА рдЪрд▓рддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдЙрд╕реЗ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХрд╛рд░реНрдб рдХрд╛ рдПрдХ рдвреЗрд░ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдЕрдВрддрд╣реАрди рд░реВрдк рд╕реЗ рд╕реНрд╡рд╛рдЗрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ! <br><br>  рдереЛрдбрд╝рд╛ рд╕реНрд╡рд╛рдЗрдк рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рдХреБрдЫ рджреЗрдЦрд╛ред  рдХрд╛рд░реНрдб рдХреЛ рдЫреВрдиреЗ рдкрд░ рдбреЗрдХ рдПрдиреАрдореЗрд╢рди рдХреЗ рдЕрдВрдд рдореЗрдВ рд╕рдВрдХреНрд░рдордг рд░реБрдХ рдЬрд╛рддрд╛ рд╣реИред  рдПрдирд┐рдореЗрд╢рди рдХреА рдЕрд╡рдзрд┐ рд╢реВрдиреНрдп рд╣реЛрдиреЗ рдХреЗ рдмрд╛рд╡рдЬреВрдж, рдпрд╣ рдЕрднреА рднреА рд░реБрдХрддрд╛ рд╣реИ, рдЬреЛ рдЦрд░рд╛рдм рд╣реИред <br><br><img src="https://habrastorage.org/webt/yv/nq/mo/yvnqmowevaznpjimh5kbtiplwco.gif"><br><br>  рдореИрдВ рдХреЗрд╡рд▓ рдПрдХ рддрд░рд╣ рд╕реЗ рдЬреАрддрдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рд░рд╣рд╛ - рдкреНрд░реЛрдЧреНрд░рд╛рдореЗрдЯрд┐рдХ рд░реВрдк рд╕реЗ MotionLayout рдореЗрдВ рд╕рдХреНрд░рд┐рдп рд╕рдВрдХреНрд░рдордг рдХреЛ рдмрджрд▓рдХрд░ред <br><br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдПрдиреАрдореЗрд╢рди рдХреЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдкрд░ рдПрдХ рдХреЙрд▓рдмреИрдХ рд╕реЗрдЯ рдХрд░реЗрдВрдЧреЗред  рдЬреИрд╕реЗ рд╣реА рдСрдлрд╕реНрдХреНрд░реАрдирд▓рд╛рдЗрдХ рдФрд░ рдСрдлрд╕реНрдХреНрд░реАрдирд╕реНрдХреНрд░реАрди рдкреВрд░рд╛ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рд╣рдо рдмрд╕ рдлрд┐рд░ рд╕реЗ рдмрд╛рдХреА рд░рд╛рдЬреНрдп рдореЗрдВ рд╕рдВрдХреНрд░рдордг рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░ рджреЗрддреЗ рд╣реИрдВ рдФрд░ рдкреНрд░рдЧрддрд┐ рдХреЛ рд╢реВрдиреНрдп рдХрд░ рджреЗрддреЗ рд╣реИрдВред <br><br><pre> <code class="kotlin hljs">motionLayout.setTransitionListener(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> : TransitionAdapter() {    <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTransitionCompleted</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(motionLayout: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">MotionLayout</span></span></span></span><span class="hljs-function"><span class="hljs-params">, currentId: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> {        <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> (currentId) {            R.id.offScreenPass,            R.id.offScreenLike -&gt; {                motionLayout.progress = <span class="hljs-number"><span class="hljs-number">0f</span></span>                motionLayout.setTransition(R.id.rest, R.id.like)            }        }    }   })</code> </pre> <br>  рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рд╣рдо рдХрд┐рд╕ рд╕рдВрдХреНрд░рдордг рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ, рдЬрдм рд╣рдо рд╕реНрд╡рд╛рдЗрдк рдХрд░рддреЗ рд╣реИрдВ рддреЛ рд╣рдо рдЗрдЪреНрдЫрд┐рдд рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░рддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/li/9b/yo/li9byopqw8itzxzsgj2wgwbufxm.gif"><br><br>  рдпрд╣ рд╕рдорд╛рди рджрд┐рдЦрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдиреАрдореЗрд╢рди рдмрдВрдж рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ!  рдЪрд▓реЛ рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВ! <br><br><h3>  рдбреЗрдЯрд╛ рдмрд╛рдЗрдВрдбрд┐рдВрдЧ </h3><br>  рдирдХреНрд╢реЗ рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛ рдмрдирд╛рдПрдВред  рдЕрднреА рдХреЗ рд▓рд┐рдП, рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рд░реНрдб рдХреА рдкреГрд╖реНрдарднреВрдорд┐ рдХрд╛ рд░рдВрдЧ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЦреБрдж рдХреЛ рд╕реАрдорд┐рдд рдХрд░реЗрдВрдЧреЗред <br><br>  рд╣рдо рдПрдХ svMp-Method рдХреЗ рд╕рд╛рде рдПрдХ ViewModel рдмрдирд╛рддреЗ рд╣реИрдВ рдЬреЛ рдХреЗрд╡рд▓ рдирдП рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЗрд╕реЗ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдЧрддрд┐рд╡рд┐рдзрд┐ рдореЗрдВ рдмрд╛рдВрдзреЗрдВ: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> viewModel = ViewModelProviders .of(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) .<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(SwipeRightViewModel::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">viewModel</span></span></span><span class="hljs-class"> .</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">modelStream</span></span></span><span class="hljs-class"> .</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">observe</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, Observer { bindCard(it) }) motionLayout.setTransitionListener(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> : TransitionAdapter() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTransitionCompleted</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(motionLayout: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">MotionLayout</span></span></span></span><span class="hljs-function"><span class="hljs-params">, currentId: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> (currentId) { R.id.offScreenPass, R.id.offScreenLike -&gt; { motionLayout.progress = <span class="hljs-number"><span class="hljs-number">0f</span></span> motionLayout.setTransition(R.id.rest, R.id.like) viewModel.swipe() } } } })</code> </pre><br>  рдпрд╣ рд╕реНрд╡рд╛рдЗрдк рдПрдиреАрдореЗрд╢рди рдХреЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ ViewModel рдХреЛ рд╕реВрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд╣реБрдЖ рд╣реИ, рдФрд░ рдпрд╣ рдЙрд╕ рдбреЗрдЯрд╛ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдЧрд╛ рдЬреЛ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реИред <br><br><img src="https://habrastorage.org/webt/vl/j6/ar/vlj6arofcxa3lc7ny2z-ww1yxxg.gif"><br><br><h2>  рдкреЙрдкрдЕрдк рдЖрдЗрдХрди </h2><br>  рджреЛ рджреГрд╢реНрдп рдЬреЛрдбрд╝реЗрдВ, рдЬреЛ рдЬрдм рд╕реНрдХреНрд░реАрди рдХреЗ рдПрдХ рддрд░рдл рд╕реНрд╡рд╛рдЗрдк рджрд┐рдЦрд╛рдИ рджреЗрддреЗ рд╣реИрдВ (рдХреЗрд╡рд▓ рдПрдХ рдиреАрдЪреЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рджреВрд╕рд░рд╛ рдорд┐рд░рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ)ред <br><br><pre> <code class="kotlin hljs">&lt;ImageView android:id=<span class="hljs-string"><span class="hljs-string">"@+id/likeIndicator"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"0dp"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"0dp"</span></span> /&gt;</code> </pre><br>  рдЕрдм рдорд╛рдирдЪрд┐рддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЗрди рджреГрд╢реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдиреАрдореЗрд╢рди рд░рд╛рдЬреНрдпреЛрдВ рдХреЛ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><pre> <code class="kotlin hljs">&lt;ConstraintSet android:id=<span class="hljs-string"><span class="hljs-string">"@id/rest"</span></span>&gt;    &lt;!-- ... --&gt;    &lt;Constraint android:id=<span class="hljs-string"><span class="hljs-string">"@+id/like"</span></span>&gt;        &lt;Layout            android:layout_width=<span class="hljs-string"><span class="hljs-string">"40dp"</span></span>            android:layout_height=<span class="hljs-string"><span class="hljs-string">"40dp"</span></span>            app:layout_constraintBottom_toBottomOf=<span class="hljs-string"><span class="hljs-string">"parent"</span></span>            app:layout_constraintStart_toEndOf=<span class="hljs-string"><span class="hljs-string">"parent"</span></span>            app:layout_constraintTop_toTopOf=<span class="hljs-string"><span class="hljs-string">"parent"</span></span> /&gt;        &lt;Transform            android:scaleX=<span class="hljs-string"><span class="hljs-string">"0.5"</span></span>            android:scaleY=<span class="hljs-string"><span class="hljs-string">"0.5"</span></span> /&gt;        &lt;PropertySet android:alpha=<span class="hljs-string"><span class="hljs-string">"0"</span></span> /&gt;    &lt;/Constraint&gt;   &lt;/ConstraintSet&gt; &lt;ConstraintSet    android:id=<span class="hljs-string"><span class="hljs-string">"@+id/like"</span></span>    app:deriveConstraintsFrom=<span class="hljs-string"><span class="hljs-string">"@id/rest"</span></span>&gt;    &lt;!-- ... --&gt;    &lt;Constraint android:id=<span class="hljs-string"><span class="hljs-string">"@+id/like"</span></span>&gt;        &lt;Layout            android:layout_width=<span class="hljs-string"><span class="hljs-string">"100dp"</span></span>            android:layout_height=<span class="hljs-string"><span class="hljs-string">"100dp"</span></span>            app:layout_constraintBottom_toBottomOf=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span>            app:layout_constraintEnd_toEndOf=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span>            app:layout_constraintStart_toStartOf=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span>            app:layout_constraintTop_toTopOf=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span> /&gt;        &lt;Transform            android:scaleX=<span class="hljs-string"><span class="hljs-string">"1"</span></span>            android:scaleY=<span class="hljs-string"><span class="hljs-string">"1"</span></span> /&gt;        &lt;PropertySet android:alpha=<span class="hljs-string"><span class="hljs-string">"1"</span></span> /&gt;    &lt;/Constraint&gt; &lt;/ConstraintSet&gt;</code> </pre><br>  рд╕реНрдХреНрд░реАрди рд╕реЗ рдкрд░реЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдПрдирд┐рдореЗрд╢рди рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рд▓рдЧрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рдорд╛рддрд╛-рдкрд┐рддрд╛ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓реЗ рд╣реИрдВред  рдФрд░ рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рд╕реНрд╡рд╛рдЗрдк рдХреА рд╕реНрдерд┐рддрд┐ рд╣реИред <br><br>  рд╣рдореЗрдВ рдмрд╕ рдЗрддрдирд╛ рд╣реА рдХрд░рдирд╛ рд╣реИред  рдЕрдм рдЖрдк рдмрд╣реБрдд рдЖрд╕рд╛рдиреА рд╕реЗ рдПрдиреАрдореЗрд╢рди рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рдШрдЯрдХреЛрдВ рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/wg/4g/1g/wg4g1grirk3zwqrfzwyahfp8i3i.gif"><br><br><h2>  рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛ рдПрдирд┐рдореЗрд╢рди рд╕реЗ рдЪрд▓рд╛рдПрдВ </h2><br><br>  рд╣рдо рдХрд╛рд░реНрдб рдкрд░ рджреЛ рдмрдЯрди рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рди рдХреЗрд╡рд▓ рд╕реНрд╡рд╛рдЗрдк рдХрд░ рд╕рдХреЗ, рдмрд▓реНрдХрд┐ рдмрдЯрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд┐рдпрдВрддреНрд░рдг рдХрд░ рд╕рдХреЗред <br><br>  рдкреНрд░рддреНрдпреЗрдХ рдмрдЯрди рд╕реНрд╡рд╛рдЗрдк рдХреЗ рд╕рдорд╛рди рдПрдиреАрдореЗрд╢рди рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИред <br><br>  рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣, рдмрдЯрди рдХреНрд▓рд┐рдХ рдХреА рд╕рджрд╕реНрдпрддрд╛ рд▓реЗрдВ рдФрд░ рд╕реАрдзреЗ MotionLayout рдСрдмреНрдЬреЗрдХреНрдЯ рдкрд░ рдПрдиреАрдореЗрд╢рди рд╢реБрд░реВ рдХрд░реЗрдВ: <br><br><pre> <code class="kotlin hljs">likeButton.setOnClickListener {    motionLayout.transitionToState(R.id.like) } passButton.setOnClickListener {    motionLayout.transitionToState(R.id.pass) }</code> </pre><br>  рд╣рдореЗрдВ рдКрдкрд░ рдФрд░ рдиреАрдЪреЗ рджреЛрдиреЛрдВ рдХрд╛рд░реНрдб рдХреЗ рд▓рд┐рдП рдмрдЯрди рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдПрдиреАрдореЗрд╢рди рд▓рдЧрд╛рддрд╛рд░ рдЦреЗрд▓рддрд╛ рд░рд╣реЗред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдирд┐рдЪрд▓реЗ рдорд╛рдирдЪрд┐рддреНрд░ рдХреЗ рд▓рд┐рдП, рдХреНрд▓рд┐рдХ рд╕рджрд╕реНрдпрддрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдпрд╛ рддреЛ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ, рдпрд╛ рдКрдкрд░реА рдирдХреНрд╢рд╛ рдПрдирд┐рдореЗрдЯреЗрдб рд╣реИ, рдФрд░ рд╣рдо рдЗрд╕реЗ рдмрд╛рдзрд┐рдд рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/ic/zj/_v/iczj_vz8nrpdzlxtmjsaqc3bmiu.gif"><br><br>  MotionLayout рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд░рд╛рдЬреНрдп рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдХреИрд╕реЗ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИ, рдЗрд╕рдХрд╛ рдПрдХ рдФрд░ рд╢рд╛рдирджрд╛рд░ рдЙрджрд╛рд╣рд░рдгред  рдЖрдЗрдП рдПрдиреАрдореЗрд╢рди рдХреЛ рдереЛрдбрд╝рд╛ рдзреАрдорд╛ рдХрд░реЗрдВ: <br><br><img src="https://habrastorage.org/webt/d6/bk/ne/d6bkne2bvugopppwypug25l30m8.gif"><br><br>  рдореЛрд╢рди рд▓рд╛рдЗрдПрдЯ рдХреЗ рдмрджрд▓реЗ рд╣реБрдП рдмрджрд▓рд╛рд╡ рдХреЛ рджреЗрдЦреЗрдВред  рдЬрд╛рджреВ! <br><br><h1>  рдорд╛рдирдЪрд┐рддреНрд░ рдХреЛ рд╡рдХреНрд░ рдХреЗ рд╕рд╛рде рд╕реНрд╡рд╛рдЗрдк рдХрд░реЗрдВ </h1><br>  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рд╣рдо рдЗрд╕реЗ рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ рдпрджрд┐ рдорд╛рдирдЪрд┐рддреНрд░ рдПрдХ рд╕реАрдзреА рд░реЗрдЦрд╛ рдореЗрдВ рдирд╣реАрдВ рдЪрд▓рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рд╡рдХреНрд░ (рдИрдорд╛рдирджрд╛рд░ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдмрд╕ рдРрд╕рд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛)ред <br><br>  рдлрд┐рд░ рдЖрдкрдХреЛ рджреЛрдиреЛрдВ рджрд┐рд╢рд╛рдУрдВ рдореЗрдВ рдЖрдВрджреЛрд▓рди рдХреЗ рд▓рд┐рдП KeyPosition рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддрд╛рдХрд┐ рдЖрдВрджреЛрд▓рди рдХрд╛ рдорд╛рд░реНрдЧ рдПрдХ рдЪрд╛рдк рджреНрд╡рд╛рд░рд╛ рдШреБрдорд╛рд╡рджрд╛рд░ рд╣реЛред <br><br>  рдЗрд╕реЗ рдореЛрд╢рди рд╕реАрди рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="kotlin hljs">&lt;Transition    app:constraintSetEnd=<span class="hljs-string"><span class="hljs-string">"@+id/like"</span></span>    app:constraintSetStart=<span class="hljs-string"><span class="hljs-string">"@+id/rest"</span></span>    app:duration=<span class="hljs-string"><span class="hljs-string">"300"</span></span>&gt;    &lt;!-- ... --&gt;    &lt;KeyFrameSet&gt;        &lt;KeyPosition            app:drawPath=<span class="hljs-string"><span class="hljs-string">"path"</span></span>            app:framePosition=<span class="hljs-string"><span class="hljs-string">"50"</span></span>            app:keyPositionType=<span class="hljs-string"><span class="hljs-string">"pathRelative"</span></span>            app:motionTarget=<span class="hljs-string"><span class="hljs-string">"@id/topCard"</span></span>            app:percentX=<span class="hljs-string"><span class="hljs-string">"0.5"</span></span>            app:percentY=<span class="hljs-string"><span class="hljs-string">"-0.1"</span></span> /&gt;           &lt;/KeyFrameSet&gt; &lt;/Transition&gt;</code> </pre> <br><img src="https://habrastorage.org/webt/ij/z4/4m/ijz44micij7kdu81k4-tc-zggjc.gif"><br>  рдЕрдм рдирдХреНрд╢рд╛ рдПрдХ рдЧреИрд░-рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдШреБрдорд╛рд╡рджрд╛рд░ рд░рд╛рд╕реНрддреЗ рдкрд░ рдЪрд▓рддрд╛ рд╣реИред  рдЬрд╛рджреБрдИ! <br><br><h1>  рдирд┐рд╖реНрдХрд░реНрд╖ </h1><br>  рдЬрдм рдЖрдк рдЙрддреНрдкрд╛рджрди рдореЗрдВ рд╕рдорд╛рди рдПрдирд┐рдореЗрд╢рди рдХреЗ рд╣рдорд╛рд░реЗ рд╡рд░реНрддрдорд╛рди рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд╕рд╛рде рдЗрди рдПрдирд┐рдореЗрд╢рди рдХреЛ рдмрдирд╛рддреЗ рд╕рдордп рдореБрдЭреЗ рдорд┐рд▓реА рдХреЛрдб рдХреА рдорд╛рддреНрд░рд╛ рдХреА рддреБрд▓рдирд╛ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдкрд░рд┐рдгрд╛рдо рдЪреМрдВрдХрд╛ рджреЗрдиреЗ рд╡рд╛рд▓рд╛ рд╣реЛрддрд╛ рд╣реИред <br><br>  MotionLayout рдЕрдкреВрд░реНрдг рд░реВрдк рд╕реЗ рд╕рдВрдХреНрд░рдордг рдХреЛ рд░рджреНрдж рдХрд░рдиреЗ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм рдЫреБрдЖ рдЬрд╛рддрд╛ рд╣реИ) рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИ, рдПрдиреАрдореЗрд╢рди рд╢реНрд░реГрдВрдЦрд▓рд╛ рдмрдирд╛ рд░рд╣рд╛ рд╣реИ, рд╕рдВрдХреНрд░рдордг рдХреЗ рджреМрд░рд╛рди рдЧреБрдг рдмрджрд▓ рд░рд╣рд╛ рд╣реИ, рдФрд░ рдмрд╣реБрдд рдХреБрдЫред  рдпрд╣ рдЯреВрд▓ рдореВрд▓ рд░реВрдк рд╕реЗ рдпреВрдЖрдИ рд▓реЙрдЬрд┐рдХ рдХреЛ рд╕рд░рд▓ рдХрд░рддреЗ рд╣реБрдП, рд╕рдм рдХреБрдЫ рдмрджрд▓ рджреЗрддрд╛ рд╣реИред <br><br>  рдХрд╛рдо рдХрд░рдиреЗ рд▓рд╛рдпрдХ рдХреБрдЫ рдФрд░ рдЪреАрдЬреЗрдВ рд╣реИрдВ (рдЬреНрдпрд╛рджрд╛рддрд░ рд░рд┐рд╕рд╛рдЗрдХрд▓рд░ рд╡реНрдпреВ рдореЗрдВ рдПрдирд┐рдореЗрд╢рди рдФрд░ рдмрд┐рдбрд╛рдпрд░реЗрдмрд▓ рд╕реНрдХреНрд░реЙрд▓рд┐рдВрдЧ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдирд╛), рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдпрдХреАрди рд╣реИ рдХрд┐ рдпрд╣ рд╕реЙрд▓реНрд╡ рд╣реИред <br><br>  рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЕрднреА рднреА рдмреАрдЯрд╛ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдХрдИ рд░реЛрдорд╛рдВрдЪрдХ рдЕрд╡рд╕рд░ рдЦреЛрд▓рддреА рд╣реИред  рд╣рдо рдореЛрд╢рди рд▓рдпрдЖрдЙрдЯ рдХреА рд░рд┐рд▓реАрдЬрд╝ рдХрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЬреЛ рдореБрдЭреЗ рдпрдХреАрди рд╣реИ рдХрд┐ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рдХрд╛рдо рдЖрдПрдЧрд╛ред  рдЖрдк рдЗрд╕ рд▓реЗрдЦ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднрдВрдбрд╛рд░</a> рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рдЖрд╡реЗрджрди рдХреЛ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  <i>рдкреБрдирд╢реНрдЪ: рдФрд░ рдЪреВрдВрдХрд┐ рдЙрдиреНрд╣реЛрдВрдиреЗ рдореБрдЭреЗ рдПрдХ рдЕрдиреБрд╡рд╛рджрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдордВрдЬрд┐рд▓ рджреА рд╣реИ, рд╣рдорд╛рд░реА рдПрдВрдбреНрд░реЙрдЗрдб рдЯреАрдо рдореЗрдВ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдбреЗрд╡рд▓рдкрд░ рдХреЗ</a> рд▓рд┐рдП рдЬрдЧрд╣ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред</i>  <i>рдЖрдкрдХрд╛ рдзреНрдпрд╛рди рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рджред</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi458854/">https://habr.com/ru/post/hi458854/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi458842/index.html">рдзреИрд░реНрдп рдФрд░ рд╢реНрд░рдо рдкреВрд░реЗ рдкрд╛рда рдХреЛ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓ рджреЗрдЧрд╛</a></li>
<li><a href="../hi458844/index.html">рд╡реЗрд░рд┐рд╕реНрдо тДв рдЕрдиреБрдХреВрд▓рди рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд╛рдЗрд▓реЛ рд╡рд┐рдирд╛рд╢</a></li>
<li><a href="../hi458846/index.html">рдПрдХрддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдФрд░ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдорд░ рдХреИрд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред рдПрдХ рдФрд░ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓</a></li>
<li><a href="../hi458848/index.html">рдЬрдВрдЧ 1.36.0 рд░рд┐рд▓реАрдЬ: рднрд╡рд┐рд╖реНрдп рдХреЗ рд▓рдХреНрд╖рдг, рдЖрд╡рдВрдЯрди рд╕реНрдерд┐рд░реАрдХрд░рдг рдФрд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдпреВрдиреЗрдЯрд┐рдЯ <рдЯреА></a></li>
<li><a href="../hi458850/index.html">рд╕рд╕реНрддреЗ рдФрд░ рдХреБрд╢рд▓рддрд╛ рд╕реЗ рдЕрдВрдЧреНрд░реЗрдЬреА рд╕реАрдЦреЗрдВред рднрд╛рдЧ реи</a></li>
<li><a href="../hi458856/index.html">рд╕рд╕реНрддреА рдФрд░ рдорд╣рдВрдЧреА рдПрдПрдП рдмреИрдЯрд░реА</a></li>
<li><a href="../hi458860/index.html">PostgreSQL рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд┐рдирдХреНрд╕ рдХрд░реНрдиреЗрд▓ рдкреИрд░рд╛рдореАрдЯрд░ рдЯреНрдпреВрдирд┐рдВрдЧ</a></li>
<li><a href="../hi458864/index.html">рдмреЙрдЯ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдЯреИрдордЯрдо рдХреЗ рд▓рд┐рдП рдЪреБрдирд╛рд╡ рд▓рдбрд╝рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi458866/index.html">рдЯреИрдВрдХреНрд╕ рдмреНрд▓рд┐рдЯреНрдЬ рдХреА рдЯреАрдо рдмреИрд▓реЗрдиреНрд╕ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ</a></li>
<li><a href="../hi458868/index.html">рдмрдбрд╝реЗ рдЖрдВрдХрдбрд╝реЛрдВ рдореЗрдВ рд╢реЛрд░ред рдПрдиреНрдЯреНрд░рд╛рдкреА рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>