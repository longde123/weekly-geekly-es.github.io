<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>❓ 🙆🏾 👐🏽 在警惕的监督下：如何监视主机托管者的费率并保持VPS目录最新 🚄 📬 🥜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="早在2013年，我就写了VPS Search网站，到第一本书在哈布雷（Habré） 发行时，该目录已包含有关150个托管者和1200多个关税的信息。 添加这样的信息阵列并不需要花费很多时间，因为在该网站的第一个版本中，我仅显示了主要的收费参数（成本，磁盘容量，RAM大小，处理器频率，流量，位置所在的...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在警惕的监督下：如何监视主机托管者的费率并保持VPS目录最新</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/poiskvps/blog/422899/">早在2013年，我就写了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">VPS Search</a>网站，到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第一本书</a>在哈布雷（Habré） <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">发行</a>时，该目录已包含有关150个托管者和1200多个关税的信息。 添加这样的信息阵列并不需要花费很多时间，因为在该网站的第一个版本中，我仅显示了主要的收费参数（成本，磁盘容量，RAM大小，处理器频率，流量，位置所在的国家和虚拟化类型）。 所有这些信息都在托管人的站点上显示，因此，除了将这些数据例行复制到站点的管理面板外，无需执行任何操作。 <br><br><img src="https://habrastorage.org/webt/9d/e0/81/9de0810zxlwbzgppwxwsnsctqji.jpeg"><br><br> 在2014年1月底，我展示了VPS Search的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第二版，</a>每个关税的参数数量大大增加，增加了以下内容：磁盘类型，已安装的操作系统列表，付款方式，价格中包含的控制面板可用性，管理类型，IPv6支持。 所有这些信息在托管人的站点上都不可用，因此我不得不要求目录中的每个托管人更新其关税，这花费了很多时间。 <br><br> 但是，事实证明，填写目录并不是最困难的事情：托管者的关税不断变化，因此有必要迅速对这些变化做出反应并做出更改。 <br><a name="habracut"></a><br> 我认为，应该非常仔细地监视关税的变化，因为无关的数据会损害目录的声誉。 例如，一个用户去了该站点，发现了某种形式的100卢布的关税，然后去了托管人的站点，发现该关税的成本为150卢布。 用户可能认为目录中的信息已经过时并且不再使用。 要排除这种情况，您需要尽快且正确地更新信息。 <br><br> 在编写目录时，我假设使用以下模型来更新信息：托管人已经在其个人帐户中注册了，他们将能够独立监控其关税。 如果房东没有这样的机会，那么我将自己遵守关税。 但是，后来我决定拒绝向托管人提供个人帐户，我认为这是一个非常正确的决定。 如果您让托管服务商自己编辑费率，则会带来许多不便： <br><br><ul><li> 有必要缓和托管人所做的更改：偶然或有意为之，但托管人很可能会错误地表明关税价格（默认情况下，按价格进行排序），从而升至第一位； </li><li> 还不清楚是否应在审核之前隐藏关税：如果隐藏，则需要立即进行审核，以便访客可以访问主机的关税；如果使用后期审核，则存在向用户显示虚假信息的风险； </li><li> 托管服务商可能很讨厌忘记更改关税的说明，因为此类目录很多，而且托管服务商很难跟踪所有人。 如果负责更新信息的人员辞职/休假/生病且未将访问权限转移给新员工，也​​会发生这种情况。 </li></ul><br> 随着时间的推移，我得出的结论是，您需要自己监控费率更新，并定期检查您自己的主机上的所有费率。 尽管这需要大量时间和资源，但采用这种方法，关税应尽可能相关。 这种方法的资源消耗少了一些：对于大多数托管服务商而言，价格变化很少，但是您仍然需要对其进行检查，因此在大多数情况下，编辑人员查看关税并没有发现任何重大变化。 在更新关税方面的主要缺点是无法立即响应变化。 也就是说，如果我们每月检查一次，并且在某个托管服务商处第一天检查价格，在托管服务商第二天更新价格，那么将在近一个月的时间里显示不相关的数据。 但是，此问题已得到部分解决：某些托管服务商在更新其资费后会发送更改请求。 <br><br> 了解到当网站上收取不相关的关税一个月时，这会严重损害声誉，因此我开始寻找解决此问题的方法，并使检查自动化。 <br><br> 我尝试做的第一件事是检查托管站点的页面以进行更改，并从每个站点的主页开始。 想法如下：如果主持人网站上的内容发生了变化，则会向编辑发送信号，然后由他们手动检查其是否已更改，并在必要时更改价格。 这样，可以快速监视更改。 是的，在这种情况下，如果托管人不更改关税特征，就会有很多误报，但是，在我看来，还有一些其他事情，最好是检查并发现所有内容而不是跳过任何更改。 该脚本的编写速度非常快，其操作原理非常简单：下载html页面，使用md5并将其保存到数据库中。 一天后，重复该过程并与已保存的值进行比较-如果它们不匹配，则说明页面已更改，您需要手动查看更改的确切内容。 从方便的角度来看，此选项似乎很理想：无需编写任何html代码解析器-只需查找更改即可。 但是，在检查开始的第二天，编辑人员收到了有关大多数托管人已更改的通知。 有点奇怪，我决定检查一下，因此发生了。 原因被证明是平庸的，它完全拒绝了我检查html代码更改的想法：很多网络托管商拥有的页面会自动生成数据（例如，有关页面生成时间的信息等），因此这个想法陷入了现实，并且此验证方法无效。 <br><br> 我想到的第二个想法是通过计费API检查更改。 但是，这也有其缺点。 首先，只有BILLmanager计费具有API，这并不算差，因为大约40％的托管人使用此计费。 第二个问题是对计费费率特征的非标准化描述，这又导致出现以下情况：您只需要监视某些内容是否已更改，如果已更改，则手动查看确切内容以及是否需要进行更改。 另外，目前尚不清楚WHMCS计费如何处理，许多托管服务商，不太受欢迎的RootPanel和BPanel以及托管服务商自己编写的其他计费程序也使用WHMCS计费。 <br><br> 不幸的是，到目前为止，我还没有找到理想的解决方案，因此，我们的工作方式如下：价格由编辑不断检查，如果有任何更改，我们将更新支持服务中的信息并找出当前特性。 <br><br> 每年一次，我们进行一次“大检查”，并向所有托管服务商重新询问他们最初添加时提出的相同问题，并指定是否更改了任何参数。 <br><br> 我们有时会在托管人的网站上发现事实错误（例如，经常更改关税后，网站页面的某些部分仍然过时了），我们试图立即通知他们。 <br><br> 在测试模式下，脚本可以检查那些尚未在站点上自动生成信息的托管者的站点，因此对于某些托管者，我们可以非常快速地对更改做出响应。 同样在测试模式下，帐单检查程序也可以运行，对于可以执行此操作的托管者，我们还尝试自动监视更改。 <br><br> 这种方法使您可以对所发生的事情尽快做出响应，并保持目录中信息的高度可靠性。 例如，我们每月收到的关于描述错误的投诉不超过2-3次，并且大多数情况与用户在托管网站上找不到价格有关。 <br><br> 由于手动检查无法逃脱，因此还远远不够完美。 如果有人可以建议更多选项来自动化如此艰巨的任务，我将感到非常高兴。 <br><br><blockquote><div style="text-align:center;"><img src="https://habrastorage.org/webt/op/1d/zd/op1dzdczzwfxzcisazp6zysnoxg.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">看看VPS.today</a> ，这是一个查找虚拟服务器的站点。 来自130个托管商的1500关税，便捷的界面和大量用于寻找最佳虚拟服务器的条件。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dd/ky/d6/ddkyd6kuoqn62p8il6p3oc4zilq.png"></div></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN422899/">https://habr.com/ru/post/zh-CN422899/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN422887/index.html">谜之驯服者：玛维斯·贝蒂（杠杆），玛格丽特·洛克</a></li>
<li><a href="../zh-CN422891/index.html">游戏结束，男孩</a></li>
<li><a href="../zh-CN422893/index.html">Node.js指南，第1部分：常规信息和入门</a></li>
<li><a href="../zh-CN422895/index.html">Google想要杀死URL</a></li>
<li><a href="../zh-CN422897/index.html">不好，但是我的：如何编写非常糟糕的CSS</a></li>
<li><a href="../zh-CN422901/index.html">普京或Ritmer的心率监测器</a></li>
<li><a href="../zh-CN422903/index.html">我们如何以及为什么为1C编写了高负载的可伸缩服务：企业：Java，PostgreSQL，Hazelcast</a></li>
<li><a href="../zh-CN422905/index.html">但是你说塞夫...他好吗？</a></li>
<li><a href="../zh-CN422907/index.html">2018机器人吸尘器快速参考</a></li>
<li><a href="../zh-CN422909/index.html">10个最流行的404 Festival复古谈话视频</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>