<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™ğŸ¾ ğŸª ğŸ‘ğŸ¿ Ã€ propos des miroirs du rÃ©fÃ©rentiel Centos et choisir le meilleur â­ï¸ â˜ğŸ» ğŸ‘¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'annÃ©e derniÃ¨re, nous avons hÃ©bergÃ© des miroirs en ligne pour plusieurs distributions Linux. Ce n'est pas un processus compliquÃ© et pour les grands p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ã€ propos des miroirs du rÃ©fÃ©rentiel Centos et choisir le meilleur</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476262/">  L'annÃ©e derniÃ¨re, nous avons hÃ©bergÃ© des miroirs en ligne pour plusieurs distributions Linux.  Ce n'est pas un processus compliquÃ© et pour les grands projets comme Ubuntu, il est presque entiÃ¨rement automatisÃ©.  Dans d'autres cas, il est nÃ©cessaire d'une maniÃ¨re ou d'une autre de contacter le projet, par exemple, sur la liste de diffusion et d'exprimer clairement votre dÃ©sir. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i5/vh/_l/i5vh_lmncsc_yjc6woir34ypw8o.png" alt="miam repolist"></div><br>  Techniquement, c'est <code>rsync</code> , gÃ©nÃ©ralement selon un horaire.  Quelqu'un pour cela fournit un ensemble de scripts prÃªt Ã  l'emploi, comme Fedora, et quelqu'un dit simplement que vous devez synchroniser ici Ã  partir de ce serveur et l'ensemble de paramÃ¨tres recommandÃ©.  La ressource la plus chÃ¨re est l'endroit, on est rÃ©cemment arrivÃ© Ã  4 tÃ©raoctets et c'est cher dans notre cas car cela ne gÃ©nÃ¨re aucun profit.  En retour, nous avons reÃ§u une disponibilitÃ© locale des distributions que nous utilisons, ce qui a permis de simplifier la configuration initiale des serveurs en en supprimant l'accÃ¨s Internet obligatoire.  Et bien sÃ»r, nous sommes heureux d'avoir rejoint quelque chose de grand, mÃªme si notre participation Ã  ce projet n'est pas trÃ¨s perceptible. <br><br>  Notre miroir est public, tout le monde peut en recevoir des mises Ã  jour, ce qui se produit en fait s'il est jugÃ© par les statistiques des appels.  C'est principalement la Russie, mais pas seulement.  A propos de la faÃ§on dont cela se passe et comment le serveur gÃ©nÃ©ral est sÃ©lectionnÃ© pour les mises Ã  jour sur l'exemple de la septiÃ¨me version de Centos de ce message. <a name="habracut"></a><br><br>  Nous parlerons du gestionnaire de paquets <code>yum</code> avec le <code>fastestmirror</code> le plus <code>fastestmirror</code> installÃ© par dÃ©faut et nous ne serons intÃ©ressÃ©s que par le processus de sÃ©lection d'un miroir spÃ©cifique. <br><br><h2>  Liste des miroirs </h2><br>  Il est connu que la liste des rÃ©fÃ©rentiels est spÃ©cifiÃ©e dans les fichiers du rÃ©pertoire <code>/etc/yum.repos.d/</code> sauf indication contraire.  Voici Ã  quoi ressemblent les paramÃ¨tres du rÃ©fÃ©rentiel de <code>Base</code> dans le fichier <code>/etc/yum.repos.d/Centos-Base.repo</code> : <br><br><pre> <code class="bash hljs">[base] name=CentOS-<span class="hljs-variable"><span class="hljs-variable">$releasever</span></span> - Base mirrorlist=http://mirrorlist.centos.org/?release=<span class="hljs-variable"><span class="hljs-variable">$releasever</span></span>&amp;arch=<span class="hljs-variable"><span class="hljs-variable">$basearch</span></span>&amp;repo=os&amp;infra=<span class="hljs-variable"><span class="hljs-variable">$infra</span></span> <span class="hljs-comment"><span class="hljs-comment">#baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/ gpgcheck=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span></span></code> </pre> <br>  Ici, vous pouvez voir deux options qui spÃ©cifient l'endroit oÃ¹ vous pouvez obtenir des donnÃ©es.  Le premier <b>baseurl</b> pointe directement vers le miroir, aucun choix n'est nÃ©cessaire ici.  La deuxiÃ¨me liste de miroirs indique un lien par lequel une liste de 10 miroirs sera renvoyÃ©e Ã  partir de laquelle le choix sera fait, c'est cette option qui est active.  Nous voyons Ã©galement plusieurs variables Ã  l'intÃ©rieur du lien, toutes reflÃ©tant finalement une place spÃ©cifique dans l'arborescence de rÃ©pertoires du rÃ©fÃ©rentiel: <br><br><ul><li>  <b>version</b> - version: <code>6</code> , <code>7</code> , <code>8</code> , <code>8-stream</code> .  Les anciennes versions sont retirÃ©es de l'infrastructure existante, mais des instantanÃ©s de leurs rÃ©fÃ©rentiels peuvent Ãªtre trouvÃ©s sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://vault.centos.org/</a> </li><li>  <b>arch</b> est une architecture telle que <code>i386</code> ou <code>x86_64</code> .  Pour certaines versions, certaines architectures feront rÃ©fÃ©rence Ã  des rÃ©fÃ©rentiels alternatifs et Ã  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un autre systÃ¨me miroir</a> , mais en mÃªme temps, l'infrastructure de sÃ©lection de miroir reste courante.  Pour la version 7, le seul miroir de base pris en charge est <code>x86_64</code> , une alternative Ã  <code>i386</code> .  Pour le premier, une liste sera formÃ©e dans la structure de base des miroirs, pour le second de l'alternative </li><li>  <b>repo</b> - dans notre cas, <code>os</code> , mais il peut s'agir de <code>updates</code> Ã  <code>updates</code> ou autre, en fait le type de rÃ©fÃ©rentiel reflÃ¨te les donnÃ©es dont nous avons besoin.  Pour la version 8, l'Ã©quivalent de <code>os</code> sera <code>baseos</code> </li><li>  <b>infra</b> - Je peux soigneusement supposer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">qu'il n'est toujours pas utilisÃ©</a> , au moins je n'ai pas pu trouver son traitement lors de la formation d'une liste de miroirs.  Il est Ã©gal au <code>stock</code> , mais si vous omettez ce paramÃ¨tre, aucun changement visible ne suivra </li><li>  <b>cc</b> est le code du pays; pour les Ã‰tats-Unis et le Canada, c'est aussi le code de l'Ã‰tat.  Ce n'est pas dans l'exemple du fichier ci-dessus, puisque le pays est calculÃ© lorsqu'il est demandÃ© par l'adresse IP du demandÃ©.  Cette variable peut Ãªtre utilisÃ©e pour Ã©liminer les erreurs de gÃ©olocalisation.  Pour la Russie, <code>cc=ru</code> </li></ul><br>  Pour la 7e version de Centos, nous obtenons la ligne suivante: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://mirrorlist.centos.org/?release=7&amp;arch=x86_64&amp;repo=os&amp;infra=stock</a> , qui produira une liste de 10 miroirs du type suivant: <br><br><pre> <code class="bash hljs">http://&lt;   1&gt;/7.xxx/os/x86_64/ http://&lt;   2&gt;/7.xxx/os/x86_64/ ... http://&lt;   10&gt;/7.xxx/os/x86_64/</code> </pre> <br>  Notez que le chemin spÃ©cifique de chaque miroir correspond exactement aux variables de la requÃªte.  La version complÃ¨te est indiquÃ©e Ã  la place de l'ancienne, bien que vous puissiez Ã©galement l'utiliser: <code>http://&lt;  &gt;/7/os/x86_64/</code> existe Ã©galement, implÃ©mentÃ© Ã  l'aide d'un lien symbolique vers la derniÃ¨re version. <br><br><div class="spoiler">  <b class="spoiler_title">Et tout cela correspond Ã  la hiÃ©rarchie des rÃ©pertoires directement sur le serveur.</b> <div class="spoiler_text"><pre>  ./centos
 â”œâ”€â”€ 6
 â”‚ â”œâ”€â”€ centosplus
 â”‚ â”‚ â”œâ”€â”€ i386
 ... â”‚ â””â”€â”€ x86_64
     ...
 â”‚
 â”œâ”€â”€ 7
 â”‚ â”œâ”€â”€ atomique
 â”‚ â”‚ â””â”€â”€ x86_64
 â”‚ â”œâ”€â”€ centosplus
 â”‚ â”‚ â””â”€â”€ x86_64
 â”‚ â”œâ”€â”€ cr
 â”‚ â”‚ â””â”€â”€ x86_64
 â”‚ â”œâ”€â”€ dotnet
 â”‚ â”‚ â””â”€â”€ x86_64
 â”‚ â”œâ”€â”€ extras
 â”‚ â”‚ â””â”€â”€ x86_64
 â”‚ â”œâ”€â”€ opstools
 â”‚ â”‚ â””â”€â”€ x86_64
 â”‚ â”œâ”€â”€ os
 â”‚ â”‚ â””â”€â”€ x86_64
 â”‚ â”‚ â””â”€â”€ repodata
 â”‚ â”‚ â””â”€â”€ [repomd.xml]
 â”‚ â”œâ”€â”€ rt
 â”‚ â”‚ â””â”€â”€ x86_64
 â”‚ â”œâ”€â”€ mises Ã  jour
 â”‚ â”‚ â””â”€â”€ x86_64
 â”‚ ...
 â”‚
 â”œâ”€â”€ 7.0.1406
 â”œâ”€â”€ 7.1.1503
 â”œâ”€â”€ 7.2.1511
 â”œâ”€â”€ 7.3.1611
 â”œâ”€â”€ 7.4.1708
 â”œâ”€â”€ 7.5.1804
 â”œâ”€â”€ 7.6.1810
 â”œâ”€â”€ 7.7.1908
 â”œâ”€â”€ 8
 â”œâ”€â”€ 8 flux
 â”œâ”€â”€ 8.0.1905 
 ... </pre></div></div><br><h3>  ImplÃ©mentation </h3><br>  Maintenant pour l'implÃ©mentation, qui peut Ãªtre trouvÃ©e sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/CentOS/mirrorlists-code</a> , nous sommes intÃ©ressÃ©s par la faÃ§on dont la liste des miroirs est formÃ©e.  Le script perle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">makemirrorlists-combined.pl le fait</a> .  Sa tÃ¢che principale est de vÃ©rifier la vitalitÃ© du miroir en comparant le hachage du <code>repodata/repomd.xml</code> avec la rÃ©fÃ©rence de la version et de l'architecture donnÃ©es.  Par consÃ©quent, le fichier doit exister pour toutes les combinaisons disponibles de versions, types de rÃ©fÃ©rentiels et architecture. <br><br>  La vÃ©rification s'effectue selon la liste dans l'ordre suivant (je cite le code): <br><br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment"># phase 1 -- this US state or Canada province # phase 2 -- this country # phase 3 -- other nearby countries # phase 4 -- mirrors from the same continent # phase 5 -- a random mirror from each continent (for fallback only) # note: phase 5 will be executed once for each continent (with "redo") # phase 6 -- random mirrors from any continent (for fallback only) # phase 7 -- centos servers from the same continent # phase 8 -- centos servers from other continents (used also for fallback)</span></span></code> </pre><br>  Les articles 1 et 2 fonctionnent soit pour vÃ©rifier non seulement le code du pays, mais aussi le code de l'Ã‰tat.  En substance, une tentative est effectuÃ©e pour sÃ©lectionner les serveurs gÃ©ographiquement les plus proches.  Pour chaque Ã©tape, une requÃªte est faite Ã  partir de la base de donnÃ©es, par exemple: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">columns</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> mirrors <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-string"><span class="hljs-string">'Direct'</span></span>, <span class="hljs-string"><span class="hljs-string">'Indirect'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">status</span></span> = <span class="hljs-string"><span class="hljs-string">'Active'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> cc = <span class="hljs-string"><span class="hljs-string">'$cc'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> $commonqueryparams $skipregion $altarch_where <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">RAND</span></span>();</code> </pre><br>  Ensuite, il y a une vÃ©rification de la vitalitÃ© des miroirs sur cette liste en comparant les hachages, comme dÃ©crit ci-dessus.  Si 10 personnes sont recrutÃ©es, la tÃ¢che requise est terminÃ©e, le travail est terminÃ©.  Si vous ne tapez pas, passez Ã  l'Ã©tape suivante pour obtenir la liste gÃ©nÃ©rale Ã  10 ou jusqu'Ã  ce que nous ayons Ã©puisÃ© toutes les options.  Le rÃ©sultat est enregistrÃ© dans un fichier et transfÃ©rÃ© Ã  la partie frontale de la piÃ¨ce prÃ©sentÃ©e par Python avec le script <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ml.py</a> , dont la tÃ¢che est de sÃ©lectionner et de donner le fichier souhaitÃ©, aprÃ¨s avoir d'abord dÃ©couvert le pays de la source de la requÃªte par adresse IP.  Le type de protocole IPv4 ou IPv6, pour lequel diffÃ©rentes listes sont formÃ©es, est Ã©galement pris en compte. <br><br>  Retour Ã  la requÃªte qui utilise <code>ORDER BY RAND()</code> , cela signifie-t-il que la liste sera alÃ©atoire?  Oui, Ã  quel point l'implÃ©mentation est alÃ©atoire dans le SGBD, mais cela ne s'applique qu'Ã  l'ordre dans chaque Ã©tape.  Autrement dit, si pour un pays particulier plus de 10 miroirs du type de rÃ©fÃ©rentiel et d'architecture requis sont typÃ©s (pour la Russie, il n'y en a que 17), Ã  la fin, chaque fois, nous obtiendrons une liste mÃ©langÃ©e de 10 miroirs diffÃ©rents dans un pays.  S'il y en a moins, en haut de la liste, <b>il y</b> aura <b>toujours des</b> rÃ©fÃ©rentiels mÃ©langÃ©s d'un pays, d'autres rÃ©fÃ©rentiels mÃ©langÃ©s des pays les plus proches, et ainsi de suite par Ã©tapes.  En consÃ©quence, nous obtenons une liste non entiÃ¨rement alÃ©atoire composÃ©e de plusieurs parties alÃ©atoires.  Cela compte quand il n'y a pas autant de miroirs fonctionnels dans un pays, par exemple, les miroirs IPv6 en Russie ne sont que 7 et ils seront toujours en tÃªte de liste: <br><br><div class="spoiler">  <b class="spoiler_title">http://mirrorlist.centos.org/?release=7&amp;arch=x86_64&amp;repo=os&amp;infra=stock&amp;cc=en (la demande doit Ãªtre effectuÃ©e Ã  partir de l'adresse IPv6)</b> <div class="spoiler_text"> <code>http://mirror.corbina.net/pub/Linux/centos/7.7.1908/os/x86_64/ <br> http://mirror.yandex.ru/centos/7.7.1908/os/x86_64/ <br> http://mirrors.powernet.com.ru/centos/7.7.1908/os/x86_64/ <br> http://mirror.reconn.ru/centos/7.7.1908/os/x86_64/ <br> http://mirror.sale-dedic.com/centos/7.7.1908/os/x86_64/ <br> http://ftp.nsc.ru/pub/centos/7.7.1908/os/x86_64/ <br> http://dedic.sh/centos/7.7.1908/os/x86_64/ <br> <br> http://ftp.funet.fi/pub/mirrors/centos.org/7.7.1908/os/x86_64/ <br> http://centos.mirror.far.fi/7.7.1908/os/x86_64/ <br> http://mirrors.glesys.net/CentOS/7.7.1908/os/x86_64/ <br></code> </div></div><br>  Pire encore, l'architecture <code>i386</code> est une architecture alternative pour Centos 7 et un systÃ¨me de miroir sÃ©parÃ©.  En Russie, il n'y a qu'un seul serveur de ce type qui prend en charge des architectures alternatives; ce sera toujours en premier lieu: <br><br><div class="spoiler">  <b class="spoiler_title">http://mirrorlist.centos.org/?release=7&amp;arch=i386&amp;repo=os&amp;infra=stock&amp;cc=en</b> <div class="spoiler_text"> <code>http://mirrors.powernet.com.ru/centos-altarch/7.7.1908/os/i386/ <br> <br> http://mirror.vpsnet.com/centos-altarch/7.7.1908/os/i386/ <br> http://mirrors.huaweicloud.com/centos-altarch/7.7.1908/os/i386/ <br> http://linux.darkpenguin.net/distros/CentOS-AltArch/7.7.1908/os/i386/ <br> http://ftp.agdsn.de/pub/mirrors/centos-altarch/7.7.1908/os/i386/ <br> http://mirror1.hs-esslingen.de/pub/Mirrors/centos-altarch/7.7.1908/os/i386/ <br> http://mirror.infonline.de/centos-altarch/7.7.1908/os/i386/ <br> http://ftp.rz.uni-frankfurt.de/pub/mirrors/centos-altarch/7.7.1908/os/i386/ <br> http://ftp.yz.yamagata-u.ac.jp/pub/linux/centos-altarch/7.7.1908/os/i386/ <br> http://mirrors.daticum.com/centos-altarch/7.7.1908/os/i386/ <br></code> </div></div><br>  La liste n'est plus alÃ©atoire, si vous vous concentrez sur la premiÃ¨re ligne, le choix est prÃ©dÃ©terminÃ©.  La prise en charge des rÃ©fÃ©rentiels pour les architectures Centos alternatives est une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">question de</a> principe, mais pour beaucoup, l'altruisme pur est lÃ . <br><br>  Les rÃ©fÃ©rentiels sont analysÃ©s en continu et sans tenir compte des mÃ©canismes de mise en cache, le rÃ©sultat est mis Ã  jour toutes les 3 heures environ.  Citation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mirrorlist_crawler_deployment_notes.txt</a> : <br><blockquote> <code>- A full scan of all repos and all versions without any cached data is going to take close to 3 hours, but typically altarch is &lt;10min, C6 &lt;25min, C7 &lt;25min with all the repos enabled</code> </blockquote> <br>  En pratique, j'ai commencÃ© Ã  obtenir des options de liste miroir en Russie pour IPv4 et IPv6 une fois par minute pour le rÃ©fÃ©rentiel Base Centos 7 - <code>http://mirrorlist.centos.org/?release=7&amp;arch=x86_64&amp;repo=os&amp;infra=stock&amp;cc=ru</code> et cela s'est avÃ©rÃ© comme ceci pour quelques jours d'observation: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fx/qh/sn/fxqhsn08lhen5mke-jlprhlgjxa.png" alt="nombre de mises Ã  jour de la liste des miroirs"></div><br>  liste IPv4 bleue, IPv6 rouge.  Le changement ne se produit pas toutes les 25 minutes, mais pas une fois toutes les 3 heures - tout tient dans l'intervalle d'une demi-heure Ã  deux.  L'image avec l'architecture <code>i386</code> et les miroirs alternatifs est radicalement diffÃ©rente - <code>http://mirrorlist.centos.org/?release=7&amp;arch=i386&amp;repo=os&amp;infra=stock&amp;cc=ru</code> environ une semaine d'observation: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/os/xy/wb/osxywbdutbktiud6-scyrul_lok.png" alt="altmirrors liste des mises Ã  jour comptent"></div><br>  Nous pouvons nous attendre Ã  ce que toutes les 15 minutes, nous aurons une nouvelle liste, dans 30 minutes, des changements seront apportÃ©s.  Mais!  N'oubliez pas que moins les miroirs sont actifs, moins l'ordre est alÃ©atoire et, en premier lieu, maintenant en Russie, c'est toujours le mÃªme miroir. <br><br><h2>  Le plus rapide des miroirs </h2><br>  Au total, la liste des miroirs se forme au mieux par hasard, ce qui n'est sans doute pas mauvais pour l'Ã©quilibrage de charge.  Au pire, nous pouvons nous attendre Ã  ne choisir que le premier miroir de la liste, nous n'aurons pas le choix en tant que tel.  De plus, la division territoriale des pays dans le cas d'un grand pays comme le nÃ´tre peut jouer un tour en plaÃ§ant en tÃªte de liste un miroir de Petropavlovsk-Kamchatsky <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://mirror.vilkam.ru</a> pour le client de Sotchi.  Par consÃ©quent, il serait bon d'Ã©valuer la disponibilitÃ© des miroirs de cette liste.  Cela se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fait par le</a> plugin de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">miroir le plus rapide</a> .  Dont l'essence se rÃ©sume Ã  une simple action: <br><br><pre> <code class="python hljs">time_before = time.time() sock.connect((self.host, self.port)) result = time.time() - time_before</code> </pre><br>  Pas de <code>HTTP</code> ou <code>ICMP</code> , ouvrez le socket pour le nÅ“ud, considÃ©rez combien de temps cela a pris, appliquez <code>sort()</code> aux rÃ©sultats.  Tous les 10 miroirs obtenus Ã  l'Ã©tape prÃ©cÃ©dente sont envoyÃ©s en tant que paramÃ¨tres, sous la forme de l' <code>URL</code> complÃ¨te Ã  partir de laquelle seul le nom d'hÃ´te est utilisÃ©.  Le plugin est facile Ã  faire fonctionner sÃ©parÃ©ment de <code>yum</code> , il vous suffit de commenter les lignes 52 et 55: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># from yum.plugins import TYPE_CORE requires_api_version = '2.5' # plugin_type = (TYPE_CORE,)</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">et peut Ãªtre utilisÃ©.</b> <div class="spoiler_text"><pre> <code class="bash hljs">$ ./fastestmirror.py http://mirror.sale-dedic.com/centos/7.7.1908/os/x86_64/ http://mirror.corbina.net/pub/Linux/centos/7.7.1908/os/x86_64/ http://mirrors.powernet.com.ru/centos/7.7.1908/os/x86_64/ http://ftp.nsc.ru/pub/centos/7.7.1908/os/x86_64/ http://mirror.reconn.ru/centos/7.7.1908/os/x86_64/ http://mirror.yandex.ru/centos/7.7.1908/os/x86_64/ http://dedic.sh/centos/7.7.1908/os/x86_64/ http://mirror.tversu.ru/centos/7.7.1908/os/x86_64/ http://mirror.awanti.com/centos/7.7.1908/os/x86_64/ http://mirror.linux-ia64.org/centos/7.7.1908/os/x86_64/repodata/repodm.xml http://mirrors.datahouse.ru/centos/7.7.1908/os/x86_64/ http://mirror.docker.ru/centos/7.7.1908/os/x86_64/ http://mirror.logol.ru/centos/7.7.1908/os/x86_64/ http://centos-mirror.rbc.ru/centos/7.7.1908/os/x86_64/ http://mirror.truenetwork.ru/centos/7.7.1908/os/x86_64/ http://mirror.vilkam.ru/centos/7.7.1908/os/x86_64/ http://mirror.axelname.ru/centos/7.7.1908/os/x86_64/ * mirror.corbina.net : 0.085000 secs * mirrors.powernet.com.ru : 0.097000 secs * mirror.sale-dedic.com : 0.117000 secs * ftp.nsc.ru : 0.181000 secs * mirror.reconn.ru : 0.184000 secs * mirror.yandex.ru : 0.222000 secs * dedic.sh : 0.261000 secs * mirror.tversu.ru : 0.295000 secs * mirror.awanti.com : 0.345000 secs * mirror.linux-ia64.org : 0.386000 secs * mirrors.datahouse.ru : 0.403000 secs * mirror.docker.ru : 0.435000 secs * mirror.logol.ru : 0.474000 secs * centos-mirror.rbc.ru : 0.519000 secs * mirror.truenetwork.ru : 0.587000 secs * mirror.axelname.ru : 0.528000 secs * mirror.vilkam.ru : 0.709000 secs Result: [<span class="hljs-string"><span class="hljs-string">'http://mirror.corbina.net/pub/Linux/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirrors.powernet.com.ru/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.sale-dedic.com/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://ftp.nsc.ru/pub/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.reconn.ru/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.yandex.ru/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://dedic.sh/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.tversu.ru/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.awanti.com/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.linux-ia64.org/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirrors.datahouse.ru/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.docker.ru/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.logol.ru/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://centos-mirror.rbc.ru/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.axelname.ru/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.truenetwork.ru/centos/7.7.1908/os/x86_64/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://mirror.vilkam.ru/centos/7.7.1908/os/x86_64/'</span></span>]</code> </pre></div></div><br>  Le traitement se dÃ©roule en plusieurs threads, vous n'avez donc pas Ã  attendre longtemps, mÃªme pour les 17 miroirs rÃ©pertoriÃ©s en Russie.  Le rÃ©sultat d'un travail sous forme de deux listes, la premiÃ¨re dans laquelle le temps d'exÃ©cution est indiquÃ©, est le dÃ©bogage et il n'est pas triÃ©, mÃªme si cela peut sembler le cas.  La seconde aprÃ¨s le mot <code>Result</code> triÃ©e d'une rÃ©ponse plus petite Ã  une rÃ©ponse plus grande, c'est lui qui est utilisÃ© pour d'autres travaux dans l'ordre reÃ§u. <br><br>  <code>dnf</code> utilise Ã©galement le <code>dnf</code> plus <a href="">rapide</a> de l'ensemble des bibliothÃ¨ques RPM, mais lÃ , il est rÃ©solu via <code>libcurl</code> et en gÃ©nÃ©ral tout est plus compliquÃ©. <br><br>  En fin de compte, tout dÃ©pend de la rapiditÃ© avec laquelle la rÃ©ponse du miroir est reÃ§ue, tandis que la mise en cache doit Ãªtre prise en compte, c'est-Ã -dire que le calcul direct du retard n'est pas toujours effectuÃ©.  Les intervalles de temps sont grandement affectÃ©s par les performances internes de la machine locale et sa charge de travail.  Les nÅ“uds proches montrant des rÃ©sultats similaires changeront probablement frÃ©quemment de place.  Mais ici c'est fait, il me semble que l'objectif principal n'est pas d'envoyer un nÅ“ud de Sotchi pour renouvellement Ã  Petropavlovsk-Kamchatsky, se rendre Ã  Moscou ou Volgograd est tout Ã  fait acceptable.  Ã€ quoi d'autre faisons-nous attention, le choix est fait Ã  partir de la liste qui a Ã©tÃ© reÃ§ue Ã  la premiÃ¨re Ã©tape avant le <code>fastestmirror</code> , si ces donnÃ©es ne sont pas encore dans le cache, alors le miroir le plus proche au premier essai peut ne pas Ãªtre le meilleur, simplement parce qu'il ne sera mÃªme pas analysÃ© sans entrer dans le top dix. <br><br>  Dans la pratique, les rÃ©sultats suivants ont Ã©tÃ© obtenus lors d'une enquÃªte hebdomadaire toutes les 10 minutes.  Chiffres - le nombre de fois combien de nÅ“uds ont gagnÃ© au cours de la comparaison, pour un <code>fastestmirror</code> et un <code>fastestmirror</code> : <br><blockquote> <code>1422,1013 mirror.logol.ru <br> 534,986 mirror.docker.ru <br> 28,8 mirrors.datahouse.ru <br> 16 centos-mirror.rbc.ru <br> 6 mirror.sale-dedic.com <br> 5,7 mirror.reconn.ru <br> 2 dedic.sh <br> 1 mirror.corbina.net</code> </blockquote> <br>  Et version IPv6 de la liste: <br><blockquote> <code>1989,1980 mirror.reconn.ru <br> 18,34 mirror.sale-dedic.com <br> 7 dedic.sh <br></code> </blockquote><br>  On peut voir que le choix n'est pas directement sans ambiguÃ¯tÃ©, mais ici la proximitÃ© du point Ã  partir duquel j'ai effectuÃ© l'enquÃªte joue probablement un rÃ´le - jusqu'Ã  plusieurs miroirs, la diffÃ©rence est infÃ©rieure Ã  une milliseconde.  Le deuxiÃ¨me point, la liste IPv6 est diffÃ©rente et c'est pire - l'hÃ´te IPv6 le plus proche est plus loin que l'IPv4 le plus proche et le choix est moins.  Ã‰tant donnÃ© la prioritÃ© d'IPv6, ce n'est pas trÃ¨s bon.  Les rÃ©sultats de <code>fping</code> concis, moins de nÅ“uds gagnants, mais sont gÃ©nÃ©ralement les mÃªmes avec le <code>fastestmirror</code> . <br><br><h2>  Atlas mÃ»r </h2><br>  Avec un choix local, tout est plus ou moins clair, voyons maintenant comment les choses se passent dans tout le pays.  Pourquoi utilisons-nous les services <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://atlas.ripe.net/</a> - un ensemble de sondes (sondes) et d'outils pour travailler avec eux sous les auspices de RIPE NCC, je vous avertis immÃ©diatement, ce n'est pas le site le plus rapide et le plus agile.  Tout le monde peut obtenir une sonde et utiliser ce rÃ©seau.  Mais pour exÃ©cuter les tests, vous avez besoin d'une devise interne qui s'accumule Ã  partir des appareils enregistrÃ©s et actifs aprÃ¨s vous.  J'ai choisi tous les appareils en Russie qui prennent en charge IPv6 et IPv4 en mÃªme temps, 82 d'entre eux se sont rÃ©vÃ©lÃ©s. Selon les rÃ©sultats des mesures, une partie devait Ãªtre Ã©liminÃ©e, il en restait donc 67 sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus de 400</a> . <br><br>  Il existe plusieurs options de test que vous pouvez exÃ©cuter, bien sÃ»r, il n'y a pas ce qui est utilisÃ© dans le <code>fastestmirror</code> , mais il y a un <code>ping</code> rÃ©gulier.  Pour tous les miroirs, Ã  l'exception de <code>mirror.linux-ia64.org</code> pour lequel <code>ICMP</code> filtrÃ© et <code>mirror.axelname.ru</code> qui est apparu aprÃ¨s les tests, Ã  partir de tous les pÃ©riphÃ©riques sÃ©lectionnÃ©s, sÃ©parÃ©ment pour IPv6 et IPv4, toutes les 3 heures pendant une semaine 10 demandes chacune.  Le temps de rÃ©ponse moyen a Ã©tÃ© enregistrÃ©.  Sur l'ensemble des mesures, environ 50 pour chaque miroir, la mÃ©diane a Ã©tÃ© prise et comparÃ©e Ã  d'autres miroirs sur cette sonde.  Le miroir avec le temps de rÃ©ponse le plus court a gagnÃ©. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/ap/gf/cgapgfond47sh3phyalhc30s0na.jpeg" alt="carte des miroirs et sondes"></div><br>  Les sondes (marqueurs bleus) et les miroirs (marqueurs rouges) sont distribuÃ©s de maniÃ¨re trop inÃ©gale et gravitent vers les capitales, de sorte que les rÃ©sultats ne doivent pas Ãªtre considÃ©rÃ©s comme quelque chose de significatif.  Les donnÃ©es brutes sont disponibles Ã  partir du numÃ©ro de mesure <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">23159879</a> Ã  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">23159901</a> , si vous le souhaitez, elles peuvent Ãªtre analysÃ©es plus strictement.  Nombre total rÃ©sumÃ© de premiÃ¨res places pour IPv4: <br><blockquote> <code>22 mirror.docker.ru <br> 12 mirror.awanti.com <br> 10 centos-mirror.rbc.ru <br> 6 dedic.sh <br> 4 mirror.truenetwork.ru <br> 3 mirror.corbina.net <br> 3 mirrors.powernet.com.ru <br> 2 ftp.nsc.ru <br> 2 mirrors.datahouse.ru <br> 1 mirror.reconn.ru <br> 1 mirror.vilkam.ru <br> 1 mirror.yandex.ru <br></code> </blockquote><br>  et IPv6: <br><blockquote> <code>20 dedic.sh <br> 20 mirror.reconn.ru <br> 10 mirror.yandex.ru <br> 8 mirror.sale-dedic.com <br> 5 ftp.nsc.ru <br> 3 mirror.corbina.net <br> 1 mirrors.powernet.com.ru <br></code> </blockquote><br>  On peut dire que pour presque tous les miroirs, je leur rappelle 17, il y a des consommateurs.  Il est intÃ©ressant de <code>mirror.yandex.ru</code> que <code>mirror.yandex.ru</code> derniÃ¨re place avec <code>mirror.vilkam.ru</code> de Petropavlovsk-Kamchatsky.  En mÃªme temps, Yandex est disponible presque partout, il perd un peu plus de rÃ©activitÃ© Ã  chaque fois, mais <code>mirror.vilkam.ru</code> gagne une fois, mais plus <code>mirror.vilkam.ru</code> par rapport aux autres sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sonde 6606</a> de Khabarovsk (RTT en millisecondes): <br><blockquote> <code>centos-mirror.rbc.ru,105.4163369 <br> dedic.sh,109.2160474 <br> ftp.nsc.ru,106.4012836 <br> mirror.awanti.com,107.0802782 <br> mirror.corbina.net,98.5339837 <br> mirror.docker.ru,102.7883347 <br> mirror.logol.ru,105.9588192 <br> mirror.reconn.ru,106.5717624 <br> mirror.sale-dedic.com,106.1676841 <br> mirror.truenetwork.ru,110.9780753 <br> mirror.tversu.ru,107.9966083 <br> mirror.vilkam.ru,25.1486164 <br> mirror.yandex.ru,99.7320257 <br> mirrors.datahouse.ru,103.6546383 <br> mirrors.powernet.com.ru,116.4087614 <br></code> </blockquote><br>  Les meilleurs rÃ©sultats dans la rÃ©gion d'une ou plusieurs millisecondes, et le pire rÃ©sultat en rÃ©ponse Ã  Salekhard, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sonde 22767</a> : <br><blockquote> <code>centos-mirror.rbc.ru,59.9632155 <br> dedic.sh,63.765421 <br> ftp.nsc.ru,59.349309 <br> mirror.awanti.com,75.8998928571 <br> mirror.corbina.net,59.906047 <br> mirror.docker.ru,65.8720585 <br> mirror.logol.ru,63.2041255 <br> mirror.reconn.ru,63.7120505 <br> mirror.sale-dedic.com,63.052342 <br> mirror.truenetwork.ru,61.2567465 <br> mirror.tversu.ru,66.2593372222 <br> mirror.vilkam.ru,138.3730595 <br> mirror.yandex.ru,63.4150445 <br> mirrors.datahouse.ru,59.304435 <br> mirrors.powernet.com.ru,78.7411795 <br></code> </blockquote><br><h2>  Postface </h2><br>  Pour ceux qui sont arrivÃ©s Ã  cet endroit, je rÃ©pondrai Ã  la question qui sera posÃ©e - notre miroir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://mirrors.powernet.com.ru</a> et voici comment il est utilisÃ©: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nl/rm/nb/nlrmnbe9g8tnuvym2u6jlyurnzc.png" alt="trafic de donnÃ©es mirrors.powernet.com.ru"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tk/99/rn/tk99rnmoigycgl4ataoygkhs100.png" alt="trafic de la bande passante mirrors.powernet.com.ru"></div><br>  De plus, la part de ce trafic provenant de notre rÃ©seau est nÃ©gligeable. <br><br>  Voici comment se termine l'endroit: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ap/qk/zc/apqkzcw2htintu4idmjk5sixyfk.png" alt="disque mirrors.powernet.com.ru"></div><br>  Les Ã©tapes bien distinctes sont des moments oÃ¹ nous ajoutons une nouvelle distribution.  Au dÃ©but, VirtualBox fonctionnait sous Windows sur un ordinateur de bureau sur lequel Ã©taient stockÃ©es les archives vidÃ©o de notre service de publicitÃ©.  Ensuite, nous sommes passÃ©s au systÃ¨me de virtualisation de combat et c'est devenu un peu plus facile: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/po/nl/hq/ponlhqp1327wrr6hmvpczednm8q.png" alt="image"></div><br>  Ã€ titre de comparaison, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mirror.truenetwork.ru</a> renvoie un trafic de 3 Gb / s Ã  partir de deux serveurs.  Tout est beaucoup plus modeste avec nous et, en gÃ©nÃ©ral, il nous suffit largement d'apprÃ©cier le processus, ainsi que les rares critiques enthousiastes d'amis et d'abonnÃ©s lorsque quelqu'un remarque des lignes soudainement familiÃ¨res lors de la mise Ã  jour de leur systÃ¨me.  Et aussi, scintillant parfois en arriÃ¨re-plan dans divers articles et manuels, oÃ¹ les liens vers notre miroir sont visibles dans les journaux ou les captures d'Ã©cran. <br><br>  Vous pouvez voir l'Ã©tat de tous les miroirs connus dans Centos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , et lire comment rejoindre le projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , c'est Ã  la fois simple et responsable Ã  la fois, mais certainement pas inutile. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr476262/">https://habr.com/ru/post/fr476262/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr476252/index.html">Migration de messagerie: comment passer facilement d'un serveur Ã  un autre</a></li>
<li><a href="../fr476254/index.html">Des Ã©tudiants aux incidents ou comment entrer dans une entreprise informatique sans connaissances ni expÃ©rience</a></li>
<li><a href="../fr476256/index.html">Sur les traces du mouvement russe Scala. 3e partie</a></li>
<li><a href="../fr476258/index.html">Migration de la base de donnÃ©es GitLab vers PostgreSQL externe</a></li>
<li><a href="../fr476260/index.html">Nous collectons dans rpm WireMock - un utilitaire pour crÃ©er des talons sur les services Web dans Fedora COPR analogique de PPA dans Ubuntu</a></li>
<li><a href="../fr476264/index.html">Bot tÃ©lÃ©gramme pour l'apprentissage des langues Ã©trangÃ¨res: du bourrage de mots Ã  la parole</a></li>
<li><a href="../fr476266/index.html">Stage chez Mars Digital Technologies. Comment nous avons appliquÃ© le deep learning chez M&M's</a></li>
<li><a href="../fr476268/index.html">Solutions aux dÃ©fis de dÃ©tection de bugs proposÃ©s par l'Ã©quipe PVS-Studio lors de confÃ©rences en 2018-2019</a></li>
<li><a href="../fr476270/index.html">Notre victoire: TopCoder Open 2019</a></li>
<li><a href="../fr476272/index.html">RÃ©ponses aux tÃ¢ches du stand PVS-Studio lors des confÃ©rences 2018-2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>