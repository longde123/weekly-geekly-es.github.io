<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ¼ ğŸ’¤ â™ˆï¸ Node.jsæŒ‡å—ï¼Œç¬¬10éƒ¨åˆ†ï¼šæ ‡å‡†æ¨¡å—ï¼Œæµï¼Œæ•°æ®åº“ï¼ŒNODE_ENV ğŸŒ” ğŸ§‘ğŸ¾â€ğŸ¤â€ğŸ§‘ğŸ¼ ğŸš </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æœ¬ææ–™æ€»ç»“äº†Node.jsæ‰‹åŠ¨ç¿»è¯‘ç³»åˆ—ã€‚ ä»Šå¤©ï¼Œæˆ‘ä»¬å°†è®¨è®ºosï¼Œäº‹ä»¶å’Œhttpæ¨¡å—ï¼Œè®¨è®ºä½¿ç”¨æµå’Œæ•°æ®åº“ï¼Œå¹¶è®¨è®ºåœ¨åº”ç”¨ç¨‹åºå¼€å‘å’Œç”Ÿäº§ä¸­ä½¿ç”¨Node.jsã€‚ 

  

 [æˆ‘ä»¬å»ºè®®æ‚¨é˜…è¯»]å‘¨æœŸçš„å…¶ä»–éƒ¨åˆ†  ç¬¬1éƒ¨åˆ†ï¼š ä¸€èˆ¬ä¿¡æ¯å’Œå…¥é—¨ 
 ç¬¬2éƒ¨åˆ†ï¼š JavaScriptï¼ŒV8ï¼Œä¸€äº›å¼€å‘æŠ€å·§ 
 ç¬¬3éƒ¨...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Node.jsæŒ‡å—ï¼Œç¬¬10éƒ¨åˆ†ï¼šæ ‡å‡†æ¨¡å—ï¼Œæµï¼Œæ•°æ®åº“ï¼ŒNODE_ENV</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/425667/"> æœ¬ææ–™æ€»ç»“äº†Node.jsæ‰‹åŠ¨ç¿»è¯‘ç³»åˆ—ã€‚ ä»Šå¤©ï¼Œæˆ‘ä»¬å°†è®¨è®ºosï¼Œäº‹ä»¶å’Œhttpæ¨¡å—ï¼Œè®¨è®ºä½¿ç”¨æµå’Œæ•°æ®åº“ï¼Œå¹¶è®¨è®ºåœ¨åº”ç”¨ç¨‹åºå¼€å‘å’Œç”Ÿäº§ä¸­ä½¿ç”¨Node.jsã€‚ <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br><div class="spoiler">  <b class="spoiler_title">[æˆ‘ä»¬å»ºè®®æ‚¨é˜…è¯»]å‘¨æœŸçš„å…¶ä»–éƒ¨åˆ†</b> <div class="spoiler_text"> ç¬¬1éƒ¨åˆ†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸€èˆ¬ä¿¡æ¯å’Œå…¥é—¨</a> <br> ç¬¬2éƒ¨åˆ†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JavaScriptï¼ŒV8ï¼Œä¸€äº›å¼€å‘æŠ€å·§</a> <br> ç¬¬3éƒ¨åˆ†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‰˜ç®¡ï¼ŒREPLï¼Œä½¿ç”¨æ§åˆ¶å°ï¼Œæ¨¡å—</a> <br> ç¬¬4éƒ¨åˆ†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">npmï¼Œpackage.jsonå’Œpackage-lock.jsonæ–‡ä»¶</a> <br> ç¬¬5éƒ¨åˆ†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">npmå’Œnpx</a> <br> ç¬¬6éƒ¨åˆ†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">äº‹ä»¶å¾ªç¯ï¼Œè°ƒç”¨å †æ ˆï¼Œè®¡æ—¶å™¨</a> <br> ç¬¬7éƒ¨åˆ†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¼‚æ­¥ç¼–ç¨‹</a> <br> ç¬¬8éƒ¨åˆ†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">HTTPå’ŒWebSocketåè®®</a> <br> ç¬¬9éƒ¨åˆ†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿ</a> <br> ç¬¬10éƒ¨åˆ†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ ‡å‡†æ¨¡å—ï¼Œçº¿ç¨‹ï¼Œæ•°æ®åº“ï¼ŒNODE_ENV</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Node.jsæŒ‡å—çš„å®Œæ•´PDF</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Node.js OSæ¨¡å—</font> </h2><br>  <code>os</code>æ¨¡å—æä¾›å¯¹è®¸å¤šåŠŸèƒ½çš„è®¿é—®ï¼Œè¿™äº›åŠŸèƒ½å¯ç”¨äºè·å–æœ‰å…³è¿è¡ŒNode.jsçš„è®¡ç®—æœºçš„æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶çš„ä¿¡æ¯ã€‚ è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†æ¨¡å—ï¼Œæ‚¨ä¸éœ€è¦å®‰è£…å®ƒï¼Œå°±å¯ä»¥é€šè¿‡ä»£ç ä½¿ç”¨å®ƒï¼Œåªéœ€å°†å…¶è¿æ¥å³å¯ï¼š <br><br><pre> <code class="hljs lua">const <span class="hljs-built_in"><span class="hljs-built_in">os</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'os'</span></span>)</code> </pre> <br> è¿™é‡Œæœ‰å‡ ä¸ªæœ‰ç”¨çš„å±æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†æ–‡ä»¶æ—¶å¯èƒ½ä¼šæ´¾ä¸Šç”¨åœºã€‚ <br><br> å› æ­¤ï¼Œ <code>os.EOL</code>å±æ€§ä½¿<code>os.EOL</code>å¯ä»¥æ‰¾å‡ºç³»ç»Ÿä¸­ä½¿ç”¨çš„è¡Œåˆ†éš”ç¬¦ï¼ˆè¡Œ<code>os.EOL</code> ï¼‰ã€‚ åœ¨Linuxå’ŒmacOSä¸Šï¼Œè¿™æ˜¯<code>\n</code> ï¼Œåœ¨Windowsä¸Šæ˜¯<code>\r\n</code> ã€‚ <br><br> åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œå½“æˆ‘ä»¬åœ¨è¿™é‡Œæåˆ°â€œ Linuxå’ŒmacOSâ€æ—¶ï¼Œæˆ‘ä»¬æ‰€è°ˆè®ºçš„æ˜¯POSIXå…¼å®¹å¹³å°ã€‚ ä¸ºäº†ç®€æ´èµ·è§ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä¸ä¼šæåŠä¸å¤ªå—æ¬¢è¿çš„å¹³å°ã€‚ <br><br>  <code>os.constants.signals</code>å±æ€§æä¾›æœ‰å…³ç”¨äºå¤„ç†è¿‡ç¨‹ä¿¡å·ï¼ˆå¦‚<code>SIGHUP</code> ï¼Œ <code>SIGKILL</code>ç­‰ï¼‰çš„å¸¸é‡çš„ä¿¡æ¯ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨è¿™é‡Œ</a>æ‚¨å¯ä»¥æ‰¾åˆ°æœ‰å…³å®ƒä»¬çš„è¯¦ç»†ä¿¡æ¯ã€‚ <br><br>  <code>os.constants.errno</code>å±æ€§åŒ…å«ç”¨äºé”™è¯¯æ¶ˆæ¯çš„å¸¸é‡ï¼Œä¾‹å¦‚<code>EADDRINUSE</code> ï¼Œ <code>EOVERFLOW</code> ã€‚ <br><br> ç°åœ¨è€ƒè™‘<code>os</code>æ¨¡å—çš„ä¸»è¦æ–¹æ³•ã€‚ <br><br><h3>  <font color="#3AC1EF">â–os.archï¼ˆï¼‰</font> </h3><br> æ­¤æ–¹æ³•è¿”å›ä¸€ä¸ªæ ‡è¯†ç³»ç»Ÿä½“ç³»ç»“æ„çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚<code>arm</code> ï¼Œ <code>x64</code> ï¼Œ <code>arm64</code> ã€‚ <br><br><h3>  <font color="#3AC1EF">â–os.cpusï¼ˆï¼‰</font> </h3><br> è¿”å›æœ‰å…³ç³»ç»Ÿä¸­å¯ç”¨å¤„ç†å™¨çš„ä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼Œæ­¤ä¿¡æ¯å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="hljs powershell">[ { <span class="hljs-type"><span class="hljs-type">model</span></span>: <span class="hljs-string"><span class="hljs-string">'Intel(R) Core(TM)2 Duo CPU     P8600 @ 2.40GHz'</span></span>,   <span class="hljs-type"><span class="hljs-type">speed</span></span>: <span class="hljs-number"><span class="hljs-number">2400</span></span>,   <span class="hljs-type"><span class="hljs-type">times</span></span>:    { <span class="hljs-type"><span class="hljs-type">user</span></span>: <span class="hljs-number"><span class="hljs-number">281685380</span></span>,      <span class="hljs-type"><span class="hljs-type">nice</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,      <span class="hljs-type"><span class="hljs-type">sys</span></span>: <span class="hljs-number"><span class="hljs-number">187986530</span></span>,      <span class="hljs-type"><span class="hljs-type">idle</span></span>: <span class="hljs-number"><span class="hljs-number">685833750</span></span>,      <span class="hljs-type"><span class="hljs-type">irq</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } }, { <span class="hljs-type"><span class="hljs-type">model</span></span>: <span class="hljs-string"><span class="hljs-string">'Intel(R) Core(TM)2 Duo CPU     P8600 @ 2.40GHz'</span></span>,   <span class="hljs-type"><span class="hljs-type">speed</span></span>: <span class="hljs-number"><span class="hljs-number">2400</span></span>,   <span class="hljs-type"><span class="hljs-type">times</span></span>:    { <span class="hljs-type"><span class="hljs-type">user</span></span>: <span class="hljs-number"><span class="hljs-number">282348700</span></span>,      <span class="hljs-type"><span class="hljs-type">nice</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,      <span class="hljs-type"><span class="hljs-type">sys</span></span>: <span class="hljs-number"><span class="hljs-number">161800480</span></span>,      <span class="hljs-type"><span class="hljs-type">idle</span></span>: <span class="hljs-number"><span class="hljs-number">703509470</span></span>,      <span class="hljs-type"><span class="hljs-type">irq</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } } ]</code> </pre><br><h3>  <font color="#3AC1EF">â–os.endiannessï¼ˆï¼‰</font> </h3><br> æ ¹æ®ç”¨æ¥ç¼–è¯‘Node.jsäºŒè¿›åˆ¶æ–‡ä»¶çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å­—èŠ‚é¡ºåº</a> ï¼ˆBig Engianæˆ–Little Endianï¼‰è¿”å›<code>BE</code>æˆ–<code>LE</code> ã€‚ <br><br><h3>  <font color="#3AC1EF">â–os.freememï¼ˆï¼‰</font> </h3><br> è¿”å›å¯ç”¨ç³»ç»Ÿå†…å­˜é‡ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚ <br><br><h3>  <font color="#3AC1EF">â–os.homedirï¼ˆï¼‰</font> </h3><br> è¿”å›å½“å‰ç”¨æˆ·ä¸»ç›®å½•çš„è·¯å¾„ã€‚ ä¾‹å¦‚ï¼Œ <code>'/Users/flavio'</code> ã€‚ <br><br><h3>  <font color="#3AC1EF">â–os.hostnameï¼ˆï¼‰</font> </h3><br> è¿”å›ä¸»æœºåã€‚ <br><br><h3>  <font color="#3AC1EF">â–os.loadavgï¼ˆï¼‰</font> </h3><br> ä»¥æ•°ç»„å½¢å¼è¿”å›æ“ä½œç³»ç»Ÿè®¡ç®—çš„å¹³å‡è´Ÿè½½æ•°æ®ã€‚ æ­¤ä¿¡æ¯ä»…åœ¨Linuxå’ŒmacOSä¸Šæœ‰æ„ä¹‰ã€‚ å®ƒçœ‹èµ·æ¥å¯èƒ½åƒè¿™æ ·ï¼š <br><br><pre> <code class="hljs json">[ <span class="hljs-number"><span class="hljs-number">3.68798828125</span></span>, <span class="hljs-number"><span class="hljs-number">4.00244140625</span></span>, <span class="hljs-number"><span class="hljs-number">11.1181640625</span></span> ]</code> </pre> <br><h3>  <font color="#3AC1EF">â–os.networkInterfacesï¼ˆï¼‰</font> </h3><br> è¿”å›æœ‰å…³ç³»ç»Ÿä¸Šå¯ç”¨ç½‘ç»œæ¥å£çš„ä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼š <br><br><pre> <code class="hljs powershell">{ lo0:  [ { <span class="hljs-type"><span class="hljs-type">address</span></span>: <span class="hljs-string"><span class="hljs-string">'127.0.0.1'</span></span>,      <span class="hljs-type"><span class="hljs-type">netmask</span></span>: <span class="hljs-string"><span class="hljs-string">'255.0.0.0'</span></span>,      <span class="hljs-type"><span class="hljs-type">family</span></span>: <span class="hljs-string"><span class="hljs-string">'IPv4'</span></span>,      <span class="hljs-type"><span class="hljs-type">mac</span></span>: <span class="hljs-string"><span class="hljs-string">'fe:82:00:00:00:00'</span></span>,      <span class="hljs-built_in"><span class="hljs-built_in">int</span></span><span class="hljs-type"><span class="hljs-type">ernal</span></span>: <span class="hljs-type"><span class="hljs-type">true</span></span> },    { <span class="hljs-type"><span class="hljs-type">address</span></span>: <span class="hljs-string"><span class="hljs-string">'::1'</span></span>,      <span class="hljs-type"><span class="hljs-type">netmask</span></span>: <span class="hljs-string"><span class="hljs-string">'ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff'</span></span>,      <span class="hljs-type"><span class="hljs-type">family</span></span>: <span class="hljs-string"><span class="hljs-string">'IPv6'</span></span>,      <span class="hljs-type"><span class="hljs-type">mac</span></span>: <span class="hljs-string"><span class="hljs-string">'fe:82:00:00:00:00'</span></span>,      <span class="hljs-type"><span class="hljs-type">scopeid</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,      <span class="hljs-built_in"><span class="hljs-built_in">int</span></span><span class="hljs-type"><span class="hljs-type">ernal</span></span>: <span class="hljs-type"><span class="hljs-type">true</span></span> },    { <span class="hljs-type"><span class="hljs-type">address</span></span>: <span class="hljs-string"><span class="hljs-string">'fe80::1'</span></span>,      <span class="hljs-type"><span class="hljs-type">netmask</span></span>: <span class="hljs-string"><span class="hljs-string">'ffff:ffff:ffff:ffff::'</span></span>,      <span class="hljs-type"><span class="hljs-type">family</span></span>: <span class="hljs-string"><span class="hljs-string">'IPv6'</span></span>,      <span class="hljs-type"><span class="hljs-type">mac</span></span>: <span class="hljs-string"><span class="hljs-string">'fe:82:00:00:00:00'</span></span>,      <span class="hljs-type"><span class="hljs-type">scopeid</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,      <span class="hljs-built_in"><span class="hljs-built_in">int</span></span><span class="hljs-type"><span class="hljs-type">ernal</span></span>: <span class="hljs-type"><span class="hljs-type">true</span></span> } ], en1:  [ { <span class="hljs-type"><span class="hljs-type">address</span></span>: <span class="hljs-string"><span class="hljs-string">'fe82::9b:8282:d7e6:496e'</span></span>,      <span class="hljs-type"><span class="hljs-type">netmask</span></span>: <span class="hljs-string"><span class="hljs-string">'ffff:ffff:ffff:ffff::'</span></span>,      <span class="hljs-type"><span class="hljs-type">family</span></span>: <span class="hljs-string"><span class="hljs-string">'IPv6'</span></span>,      <span class="hljs-type"><span class="hljs-type">mac</span></span>: <span class="hljs-string"><span class="hljs-string">'06:00:00:02:0e:00'</span></span>,      <span class="hljs-type"><span class="hljs-type">scopeid</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>,      <span class="hljs-built_in"><span class="hljs-built_in">int</span></span><span class="hljs-type"><span class="hljs-type">ernal</span></span>: <span class="hljs-type"><span class="hljs-type">false</span></span> },    { <span class="hljs-type"><span class="hljs-type">address</span></span>: <span class="hljs-string"><span class="hljs-string">'192.168.1.38'</span></span>,      <span class="hljs-type"><span class="hljs-type">netmask</span></span>: <span class="hljs-string"><span class="hljs-string">'255.255.255.0'</span></span>,      <span class="hljs-type"><span class="hljs-type">family</span></span>: <span class="hljs-string"><span class="hljs-string">'IPv4'</span></span>,      <span class="hljs-type"><span class="hljs-type">mac</span></span>: <span class="hljs-string"><span class="hljs-string">'06:00:00:02:0e:00'</span></span>,      <span class="hljs-built_in"><span class="hljs-built_in">int</span></span><span class="hljs-type"><span class="hljs-type">ernal</span></span>: <span class="hljs-type"><span class="hljs-type">false</span></span> } ], utun0:  [ { <span class="hljs-type"><span class="hljs-type">address</span></span>: <span class="hljs-string"><span class="hljs-string">'fe80::2513:72bc:f405:61d0'</span></span>,      <span class="hljs-type"><span class="hljs-type">netmask</span></span>: <span class="hljs-string"><span class="hljs-string">'ffff:ffff:ffff:ffff::'</span></span>,      <span class="hljs-type"><span class="hljs-type">family</span></span>: <span class="hljs-string"><span class="hljs-string">'IPv6'</span></span>,      <span class="hljs-type"><span class="hljs-type">mac</span></span>: <span class="hljs-string"><span class="hljs-string">'fe:80:00:20:00:00'</span></span>,      <span class="hljs-type"><span class="hljs-type">scopeid</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>,      <span class="hljs-built_in"><span class="hljs-built_in">int</span></span><span class="hljs-type"><span class="hljs-type">ernal</span></span>: <span class="hljs-type"><span class="hljs-type">false</span></span> } ] }</code> </pre><br><h3>  <font color="#3AC1EF">â–os.platformï¼ˆï¼‰</font> </h3><br> è¿”å›æœ‰å…³Node.jsç¼–è¯‘å¹³å°çš„ä¿¡æ¯ã€‚ ä»¥ä¸‹æ˜¯ä¸€äº›å¯èƒ½çš„è¿”å›å€¼ï¼š <br><br><ul><li> è¾¾å°”æ–‡ </li><li>  freebsd </li><li>  linux </li><li> çš„openbsd </li><li>  win32çš„ </li></ul><br><h3>  <font color="#3AC1EF">â–os.releaseï¼ˆï¼‰</font> </h3><br> è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²æ ‡è¯†æ“ä½œç³»ç»Ÿçš„å‘è¡Œç‰ˆå·ã€‚ <br><br><h3>  <font color="#3AC1EF">â–os.tmpdirï¼ˆï¼‰</font> </h3><br> è¿”å›ç³»ç»Ÿä¸­æŒ‡å®šçš„ç”¨äºå­˜å‚¨ä¸´æ—¶æ–‡ä»¶çš„ç›®å½•çš„è·¯å¾„ã€‚ <br><br><h3>  <font color="#3AC1EF">â–os.totalmemï¼ˆï¼‰</font> </h3><br> è¿”å›ä»¥å­—èŠ‚ä¸ºå•ä½çš„ç³»ç»Ÿå†…å­˜æ€»é‡ã€‚ <br><br><h3>  <font color="#3AC1EF">â–os.typeï¼ˆï¼‰</font> </h3><br> è¿”å›æ ‡è¯†æ“ä½œç³»ç»Ÿçš„ä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼š <br><br><ul><li>  <code>Linux</code> -Linuxã€‚ </li><li>  <code>Darwin</code> -macOSã€‚ </li><li>  <code>Windows_NT</code> -Windowsã€‚ </li></ul><br><h3>  <font color="#3AC1EF">â–os.uptimeï¼ˆï¼‰</font> </h3><br> è¿”å›è‡ªä¸Šæ¬¡é‡æ–°å¯åŠ¨ä»¥æ¥çš„ç³»ç»Ÿæ­£å¸¸è¿è¡Œæ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚ <br><br><h2>  <font color="#3AC1EF">Node.jsäº‹ä»¶æ¨¡å—</font> </h2><br>  <code>events</code>æ¨¡å—ä¸ºæˆ‘ä»¬æä¾›äº†<code>EventEmitter</code>ç±»ï¼Œè¯¥ç±»æ—¨åœ¨ä¸Node.jså¹³å°ä¸Šçš„äº‹ä»¶ä¸€èµ·ä½¿ç”¨ã€‚ æˆ‘ä»¬å·²ç»åœ¨æœ¬ç³»åˆ—æ–‡ç« çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬ä¸ƒç¯‡</a>ä¸­è®¨è®ºäº†è¿™ä¸ªæ¨¡å—ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿™æ˜¯</a>å®ƒ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çš„</a>æ–‡æ¡£ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹è¯¥æ¨¡å—çš„APIã€‚ å›æƒ³ä¸€ä¸‹ï¼Œè¦åœ¨ä»£ç ä¸­ä½¿ç”¨å®ƒï¼Œæ‚¨éœ€è¦å°†å…¶è¿æ¥èµ·æ¥ï¼Œè¿™ä¸æ ‡å‡†æ¨¡å—é€šå¸¸æ˜¯ä¸€æ ·çš„ã€‚ ä¹‹åï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„<code>EventEmitter</code>å¯¹è±¡ã€‚ çœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> EventEmitter = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'events'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> door = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EventEmitter()</code> </pre> <br>  <code>EventEmitter</code>ç±»çš„å¯¹è±¡ä½¿ç”¨æ ‡å‡†æœºåˆ¶ï¼Œå°¤å…¶æ˜¯ä»¥ä¸‹äº‹ä»¶ï¼š <br><br><ul><li>  <code>newListener</code>æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºæ—¶å°†<code>newListener</code>æ­¤äº‹ä»¶ã€‚ </li><li>  <code>removeListener</code>åˆ é™¤å¤„ç†ç¨‹åºæ—¶è°ƒç”¨ã€‚ </li></ul><br> è€ƒè™‘ä¸€ä¸‹<code>EventEmitter</code>ç±»çš„å¯¹è±¡çš„æœ€æœ‰ç”¨çš„æ–¹æ³•ï¼ˆåœ¨æ–¹æ³•åç§°ä¸­ï¼Œç›¸ä¼¼çš„å¯¹è±¡è¡¨ç¤ºä¸º<code>EventEmitter</code> ï¼‰ã€‚ <br><br><h3>  <font color="#3AC1EF">itteremitter.addListenerï¼ˆï¼‰</font> </h3><br>  <code>emitter.on()</code>æ–¹æ³•çš„åˆ«åã€‚ <br><br><h3>  <font color="#3AC1EF">â–emitter.emitï¼ˆï¼‰</font> </h3><br> ç”Ÿæˆä¸€ä¸ªäº‹ä»¶ã€‚ ä»¥æ³¨å†Œå®ƒä»¬çš„é¡ºåºåŒæ­¥è°ƒç”¨æ‰€æœ‰äº‹ä»¶å¤„ç†ç¨‹åºã€‚ <br><br><h3>  <font color="#3AC1EF">â–emitter.eventNamesï¼ˆï¼‰</font> </h3><br> è¿”å›åŒ…å«å·²æ³¨å†Œäº‹ä»¶çš„æ•°ç»„ã€‚ <br><br><h3>  <font color="#3AC1EF">â–emitter.getMaxListenersï¼ˆï¼‰</font> </h3><br> è¿”å›å¯ä»¥æ·»åŠ åˆ°<code>EventEmitter</code>ç±»çš„å¯¹è±¡çš„æœ€å¤§å¤„ç†ç¨‹åºæ•°ã€‚ é»˜è®¤å€¼ä¸º10ã€‚å¦‚æœ‰å¿…è¦ï¼Œå¯ä»¥ä½¿ç”¨<code>setMaxListeners()</code>æ–¹æ³•å¢åŠ æˆ–å‡å°‘æ­¤å‚æ•°ã€‚ <br><br><h3>  <font color="#3AC1EF">â–emitter.listenerCountï¼ˆï¼‰</font> </h3><br> è¿”å›äº‹ä»¶å¤„ç†ç¨‹åºçš„æ•°é‡ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºçš„åç§°ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ­¤æ–¹æ³•ï¼š <br><br><pre> <code class="hljs swift">door.listenerCount('<span class="hljs-keyword"><span class="hljs-keyword">open</span></span>')</code> </pre> <br><h3>  <font color="#3AC1EF">â–emitter.listenersï¼ˆï¼‰</font> </h3><br> è¿”å›ç›¸åº”äº‹ä»¶çš„äº‹ä»¶å¤„ç†ç¨‹åºæ•°ç»„ï¼Œå…¶åç§°ä¼ é€’ç»™æ­¤æ–¹æ³•ï¼š <br><br><pre> <code class="hljs swift">door.listeners('<span class="hljs-keyword"><span class="hljs-keyword">open</span></span>')</code> </pre> <br><h3>  <font color="#3AC1EF">â–emitter.offï¼ˆï¼‰</font> </h3><br> èŠ‚ç‚¹10ä¸­å¼•å…¥çš„<code>emitter.removeListener()</code>æ–¹æ³•çš„åˆ«åã€‚ <br><br><h3>  <font color="#3AC1EF">â–emitter.onï¼ˆï¼‰</font> </h3><br> æ³¨å†Œåœ¨ç”Ÿæˆäº‹ä»¶æ—¶è°ƒç”¨çš„å›è°ƒã€‚ ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š <br><br><pre> <code class="hljs coffeescript">door.<span class="hljs-literal"><span class="hljs-literal">on</span></span>(<span class="hljs-string"><span class="hljs-string">'open'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Door was opened'</span></span>) })</code> </pre> <br><h3>  <font color="#3AC1EF">â–emitter.onceï¼ˆï¼‰</font> </h3><br> å®ƒæ³¨å†Œä»…è¢«è°ƒç”¨ä¸€æ¬¡çš„å›è°ƒ-åœ¨é¦–æ¬¡æ³¨å†Œè¯¥å›è°ƒçš„äº‹ä»¶å‘ç”Ÿæ—¶ã€‚ ä¾‹å¦‚ï¼š <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> EventEmitter = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'events'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ee = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EventEmitter() ee.once(<span class="hljs-string"><span class="hljs-string">'my-event'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">//         })</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">â–emitter.prependListenerï¼ˆï¼‰</font> </h3><br> ä½¿ç”¨<code>on()</code>æˆ–<code>addListener()</code>æ–¹æ³•æ³¨å†Œå¤„ç†ç¨‹åºæ—¶ï¼Œæ­¤å¤„ç†ç¨‹åºå°†æ·»åŠ åˆ°å¤„ç†ç¨‹åºé˜Ÿåˆ—çš„æœ«å°¾ï¼Œå¹¶åœ¨æœ€åä¸€æ¬¡è°ƒç”¨ä»¥å¤„ç†ç›¸åº”çš„äº‹ä»¶ã€‚ ä½¿ç”¨<code>prependListener()</code>æ–¹æ³•æ—¶ï¼Œå°†å¤„ç†ç¨‹åºæ·»åŠ åˆ°é˜Ÿåˆ—çš„æœ€å‰é¢ï¼Œè¿™å°†å¯¼è‡´é¦–å…ˆè°ƒç”¨è¯¥å¤„ç†ç¨‹åºä»¥å¤„ç†äº‹ä»¶ã€‚ <br><br><h3>  <font color="#3AC1EF">â–emitter.prependOnceListenerï¼ˆï¼‰</font> </h3><br> æ­¤æ–¹æ³•ç±»ä¼¼äºä¸Šä¸€ä¸ªæ–¹æ³•ã€‚ å³ï¼Œå½“ä½¿ç”¨<code>once()</code>æ–¹æ³•æ³¨å†Œäº†æ‰“ç®—ç”¨äºå•ä¸ªè°ƒç”¨çš„å¤„ç†ç¨‹åºæ—¶ï¼Œå®ƒå®é™…ä¸Šæ˜¯å¤„ç†ç¨‹åºé˜Ÿåˆ—ä¸­çš„æœ€åä¸€ä¸ªï¼Œä¹Ÿæ˜¯è¦è°ƒç”¨çš„æœ€åä¸€ä¸ªã€‚  <code>prependOnceListener()</code>æ–¹æ³•å…è®¸æ‚¨å°†è¿™æ ·çš„å¤„ç†ç¨‹åºæ·»åŠ åˆ°é˜Ÿåˆ—çš„å‰é¢ã€‚ <br><br><h3>  <font color="#3AC1EF">â–emitter.removeAllListenersï¼ˆï¼‰</font> </h3><br> æ­¤æ–¹æ³•åˆ é™¤åœ¨ç›¸åº”å¯¹è±¡ä¸­æ³¨å†Œçš„ç»™å®šäº‹ä»¶çš„æ‰€æœ‰å¤„ç†ç¨‹åºã€‚ ä»–ä»¬è¿™æ ·ä½¿ç”¨å®ƒï¼š <br><br><pre> <code class="hljs swift">door.removeAllListeners('<span class="hljs-keyword"><span class="hljs-keyword">open</span></span>')</code> </pre> <br><h3>  <font color="#3AC1EF">â–emitter.removeListenerï¼ˆï¼‰</font> </h3><br> åˆ é™¤è¦ä¼ é€’ç»™æ­¤æ–¹æ³•çš„æŒ‡å®šå¤„ç†ç¨‹åºã€‚ ä¸ºäº†ä¿å­˜å¤„ç†ç¨‹åºä»¥ä¾›åç»­åˆ é™¤ï¼Œå¯ä»¥å°†ç›¸åº”çš„å›è°ƒåˆ†é…ç»™å˜é‡ã€‚ çœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="hljs coffeescript">const doSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {} door.<span class="hljs-literal"><span class="hljs-literal">on</span></span>(<span class="hljs-string"><span class="hljs-string">'open'</span></span>, doSomething) door.removeListener(<span class="hljs-string"><span class="hljs-string">'open'</span></span>, doSomething)</code> </pre> <br><h3>  <font color="#3AC1EF">â–emitter.setMaxListenersï¼ˆï¼‰</font> </h3><br> æ­¤æ–¹æ³•å…è®¸æ‚¨æŒ‡å®šå¯ä»¥æ·»åŠ åˆ°<code>EventEmitter</code>ç±»çš„å®ä¾‹ä¸­çš„å•ä¸ªäº‹ä»¶çš„æœ€å¤§å¤„ç†ç¨‹åºæ•°ã€‚ å¦‚å‰æ‰€è¿°ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ‚¨æœ€å¤šå¯ä»¥ä¸ºç‰¹å®šäº‹ä»¶æ·»åŠ 10ä¸ªå¤„ç†ç¨‹åºã€‚ è¯¥å€¼å¯ä»¥æ›´æ”¹ã€‚ ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">door</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.setMaxListeners</span></span>(50)</code> </pre> <br><h2>  <font color="#3AC1EF">Node.js httpæ¨¡å—</font> </h2><br> åœ¨æœ¬ç³»åˆ—ææ–™çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬å…«</a>éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å·²ç»è®¨è®ºäº†æ ‡å‡†çš„Node.js <code>http</code>æ¨¡å—ã€‚ ä»–è´Ÿè´£è®¾è®¡ç”¨äºåˆ›å»ºHTTPæœåŠ¡å™¨çš„å¼€å‘äººå‘˜æœºåˆ¶ã€‚ å®ƒæ˜¯ç”¨äºè§£å†³Node.jsä¸­é€šè¿‡ç½‘ç»œè¿›è¡Œæ•°æ®äº¤æ¢çš„é—®é¢˜çš„ä¸»è¦æ¨¡å—ã€‚ æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç å°†å…¶è¿æ¥ï¼š <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>)</code> </pre> <br> å®ƒç”±å±æ€§ï¼Œæ–¹æ³•å’Œç±»ç»„æˆã€‚ è®©æˆ‘ä»¬è°ˆè°ˆä»–ä»¬ã€‚ <br><br><h3>  <font color="#3AC1EF">â–ç‰©ä¸š</font> </h3><br><h4>  http.METHODS </h4><br> æ­¤å±æ€§åˆ—å‡ºäº†æ‰€æœ‰å—æ”¯æŒçš„HTTPæ–¹æ³•ï¼š <br><br><pre> <code class="hljs perl">&gt; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>).METHODS [ <span class="hljs-string"><span class="hljs-string">'ACL'</span></span>, <span class="hljs-string"><span class="hljs-string">'BIND'</span></span>, <span class="hljs-string"><span class="hljs-string">'CHECKOUT'</span></span>, <span class="hljs-string"><span class="hljs-string">'CONNECT'</span></span>, <span class="hljs-string"><span class="hljs-string">'COPY'</span></span>, <span class="hljs-string"><span class="hljs-string">'DELETE'</span></span>, <span class="hljs-string"><span class="hljs-string">'GET'</span></span>, <span class="hljs-string"><span class="hljs-string">'HEAD'</span></span>, <span class="hljs-string"><span class="hljs-string">'LINK'</span></span>, <span class="hljs-string"><span class="hljs-string">'LOCK'</span></span>, <span class="hljs-string"><span class="hljs-string">'M-SEARCH'</span></span>, <span class="hljs-string"><span class="hljs-string">'MERGE'</span></span>, <span class="hljs-string"><span class="hljs-string">'MKACTIVITY'</span></span>, <span class="hljs-string"><span class="hljs-string">'MKCALENDAR'</span></span>, <span class="hljs-string"><span class="hljs-string">'MKCOL'</span></span>, <span class="hljs-string"><span class="hljs-string">'MOVE'</span></span>, <span class="hljs-string"><span class="hljs-string">'NOTIFY'</span></span>, <span class="hljs-string"><span class="hljs-string">'OPTIONS'</span></span>, <span class="hljs-string"><span class="hljs-string">'PATCH'</span></span>, <span class="hljs-string"><span class="hljs-string">'POST'</span></span>, <span class="hljs-string"><span class="hljs-string">'PROPFIND'</span></span>, <span class="hljs-string"><span class="hljs-string">'PROPPATCH'</span></span>, <span class="hljs-string"><span class="hljs-string">'PURGE'</span></span>, <span class="hljs-string"><span class="hljs-string">'PUT'</span></span>, <span class="hljs-string"><span class="hljs-string">'REBIND'</span></span>, <span class="hljs-string"><span class="hljs-string">'REPORT'</span></span>, <span class="hljs-string"><span class="hljs-string">'SEARCH'</span></span>, <span class="hljs-string"><span class="hljs-string">'SUBSCRIBE'</span></span>, <span class="hljs-string"><span class="hljs-string">'TRACE'</span></span>, <span class="hljs-string"><span class="hljs-string">'UNBIND'</span></span>, <span class="hljs-string"><span class="hljs-string">'UNLINK'</span></span>, <span class="hljs-string"><span class="hljs-string">'UNLOCK'</span></span>, <span class="hljs-string"><span class="hljs-string">'UNSUBSCRIBE'</span></span> ]</code> </pre> <br><h4>  http.STATUS_CODES </h4><br> å®ƒåŒ…å«HTTPçŠ¶æ€ä»£ç åŠå…¶æè¿°ï¼š <br><br><pre> <code class="hljs pgsql">&gt; require(<span class="hljs-string"><span class="hljs-string">'http'</span></span>).STATUS_CODES { <span class="hljs-string"><span class="hljs-string">'100'</span></span>: <span class="hljs-string"><span class="hljs-string">'Continue'</span></span>, <span class="hljs-string"><span class="hljs-string">'101'</span></span>: <span class="hljs-string"><span class="hljs-string">'Switching Protocols'</span></span>, <span class="hljs-string"><span class="hljs-string">'102'</span></span>: <span class="hljs-string"><span class="hljs-string">'Processing'</span></span>, <span class="hljs-string"><span class="hljs-string">'200'</span></span>: <span class="hljs-string"><span class="hljs-string">'OK'</span></span>, <span class="hljs-string"><span class="hljs-string">'201'</span></span>: <span class="hljs-string"><span class="hljs-string">'Created'</span></span>, <span class="hljs-string"><span class="hljs-string">'202'</span></span>: <span class="hljs-string"><span class="hljs-string">'Accepted'</span></span>, <span class="hljs-string"><span class="hljs-string">'203'</span></span>: <span class="hljs-string"><span class="hljs-string">'Non-Authoritative Information'</span></span>, <span class="hljs-string"><span class="hljs-string">'204'</span></span>: <span class="hljs-string"><span class="hljs-string">'No Content'</span></span>, <span class="hljs-string"><span class="hljs-string">'205'</span></span>: <span class="hljs-string"><span class="hljs-string">'Reset Content'</span></span>, <span class="hljs-string"><span class="hljs-string">'206'</span></span>: <span class="hljs-string"><span class="hljs-string">'Partial Content'</span></span>, <span class="hljs-string"><span class="hljs-string">'207'</span></span>: <span class="hljs-string"><span class="hljs-string">'Multi-Status'</span></span>, <span class="hljs-string"><span class="hljs-string">'208'</span></span>: <span class="hljs-string"><span class="hljs-string">'Already Reported'</span></span>, <span class="hljs-string"><span class="hljs-string">'226'</span></span>: <span class="hljs-string"><span class="hljs-string">'IM Used'</span></span>, <span class="hljs-string"><span class="hljs-string">'300'</span></span>: <span class="hljs-string"><span class="hljs-string">'Multiple Choices'</span></span>, <span class="hljs-string"><span class="hljs-string">'301'</span></span>: <span class="hljs-string"><span class="hljs-string">'Moved Permanently'</span></span>, <span class="hljs-string"><span class="hljs-string">'302'</span></span>: <span class="hljs-string"><span class="hljs-string">'Found'</span></span>, <span class="hljs-string"><span class="hljs-string">'303'</span></span>: <span class="hljs-string"><span class="hljs-string">'See Other'</span></span>, <span class="hljs-string"><span class="hljs-string">'304'</span></span>: <span class="hljs-string"><span class="hljs-string">'Not Modified'</span></span>, <span class="hljs-string"><span class="hljs-string">'305'</span></span>: <span class="hljs-string"><span class="hljs-string">'Use Proxy'</span></span>, <span class="hljs-string"><span class="hljs-string">'307'</span></span>: <span class="hljs-string"><span class="hljs-string">'Temporary Redirect'</span></span>, <span class="hljs-string"><span class="hljs-string">'308'</span></span>: <span class="hljs-string"><span class="hljs-string">'Permanent Redirect'</span></span>, <span class="hljs-string"><span class="hljs-string">'400'</span></span>: <span class="hljs-string"><span class="hljs-string">'Bad Request'</span></span>, <span class="hljs-string"><span class="hljs-string">'401'</span></span>: <span class="hljs-string"><span class="hljs-string">'Unauthorized'</span></span>, <span class="hljs-string"><span class="hljs-string">'402'</span></span>: <span class="hljs-string"><span class="hljs-string">'Payment Required'</span></span>, <span class="hljs-string"><span class="hljs-string">'403'</span></span>: <span class="hljs-string"><span class="hljs-string">'Forbidden'</span></span>, <span class="hljs-string"><span class="hljs-string">'404'</span></span>: <span class="hljs-string"><span class="hljs-string">'Not Found'</span></span>, <span class="hljs-string"><span class="hljs-string">'405'</span></span>: <span class="hljs-string"><span class="hljs-string">'Method Not Allowed'</span></span>, <span class="hljs-string"><span class="hljs-string">'406'</span></span>: <span class="hljs-string"><span class="hljs-string">'Not Acceptable'</span></span>, <span class="hljs-string"><span class="hljs-string">'407'</span></span>: <span class="hljs-string"><span class="hljs-string">'Proxy Authentication Required'</span></span>, <span class="hljs-string"><span class="hljs-string">'408'</span></span>: <span class="hljs-string"><span class="hljs-string">'Request Timeout'</span></span>, <span class="hljs-string"><span class="hljs-string">'409'</span></span>: <span class="hljs-string"><span class="hljs-string">'Conflict'</span></span>, <span class="hljs-string"><span class="hljs-string">'410'</span></span>: <span class="hljs-string"><span class="hljs-string">'Gone'</span></span>, <span class="hljs-string"><span class="hljs-string">'411'</span></span>: <span class="hljs-string"><span class="hljs-string">'Length Required'</span></span>, <span class="hljs-string"><span class="hljs-string">'412'</span></span>: <span class="hljs-string"><span class="hljs-string">'Precondition Failed'</span></span>, <span class="hljs-string"><span class="hljs-string">'413'</span></span>: <span class="hljs-string"><span class="hljs-string">'Payload Too Large'</span></span>, <span class="hljs-string"><span class="hljs-string">'414'</span></span>: <span class="hljs-string"><span class="hljs-string">'URI Too Long'</span></span>, <span class="hljs-string"><span class="hljs-string">'415'</span></span>: <span class="hljs-string"><span class="hljs-string">'Unsupported Media Type'</span></span>, <span class="hljs-string"><span class="hljs-string">'416'</span></span>: <span class="hljs-string"><span class="hljs-string">'Range Not Satisfiable'</span></span>, <span class="hljs-string"><span class="hljs-string">'417'</span></span>: <span class="hljs-string"><span class="hljs-string">'Expectation Failed'</span></span>, <span class="hljs-string"><span class="hljs-string">'418'</span></span>: <span class="hljs-string"><span class="hljs-string">'I\'</span></span>ma teapot<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">421</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Misdirected Request<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">422</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Unprocessable Entity<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">423</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Locked<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">424</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Failed Dependency<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">425</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Unordered Collection<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">426</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Upgrade Required<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">428</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Precondition Required<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">429</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Too Many Requests<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">431</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Request <span class="hljs-keyword"><span class="hljs-keyword">Header</span></span> Fields Too Larg<span class="hljs-string"><span class="hljs-string">e', '</span></span><span class="hljs-number"><span class="hljs-number">451</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Unavailable <span class="hljs-keyword"><span class="hljs-keyword">For</span></span> Legal Reasons<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">500</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-type"><span class="hljs-type">Internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Server</span></span> Error<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">501</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> Implemented<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">502</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Bad Gateway<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">503</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Service Unavailabl<span class="hljs-string"><span class="hljs-string">e', '</span></span><span class="hljs-number"><span class="hljs-number">504</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Gateway Timeout<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">505</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>HTTP <span class="hljs-keyword"><span class="hljs-keyword">Version</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> Supported<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">506</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Variant <span class="hljs-keyword"><span class="hljs-keyword">Also</span></span> Negotiates<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">507</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Insufficient Storag<span class="hljs-string"><span class="hljs-string">e', '</span></span><span class="hljs-number"><span class="hljs-number">508</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">Loop</span></span> Detected<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">509</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Bandwidth <span class="hljs-keyword"><span class="hljs-keyword">Limit</span></span> Exceeded<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">510</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> Extended<span class="hljs-string"><span class="hljs-string">', '</span></span><span class="hljs-number"><span class="hljs-number">511</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span>Network Authentication Required<span class="hljs-string"><span class="hljs-string">' }</span></span></code> </pre> <br><h4>  http.globalAgent </h4><br> æ­¤å±æ€§æŒ‡å‘<code>http.Agent</code>ç±»çš„å…¨å±€å®ä¾‹ã€‚ å®ƒç”¨äºç®¡ç†è¿æ¥ã€‚ å®ƒå¯ä»¥è¢«è§†ä¸ºNode.js HTTPå­ç³»ç»Ÿçš„å…³é”®ç»„ä»¶ã€‚ æˆ‘ä»¬å°†åœ¨ä¸‹é¢è®¨è®ºæœ‰å…³ç±»<code>http.Agent</code>æ›´å¤šä¿¡æ¯ã€‚ <br><br><h3>  <font color="#3AC1EF">â–æ–¹æ³•</font> </h3><br><h4>  http.createServerï¼ˆï¼‰ </h4><br> è¿”å›<code>http.Server</code>ç±»çš„æ–°å®ä¾‹ã€‚ ä½¿ç”¨æ­¤æ–¹æ³•åˆ›å»ºHTTPæœåŠ¡å™¨çš„æ–¹æ³•å¦‚ä¸‹ï¼š <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> server = http.createServer(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      })</span></span></code> </pre> <br><h4>  http.requestï¼ˆï¼‰ </h4><br> å…è®¸æ‚¨é€šè¿‡åˆ›å»º<code>http.ClientRequest</code>ç±»çš„å®ä¾‹å‘æœåŠ¡å™¨å‘å‡ºHTTPè¯·æ±‚ã€‚ <br><br><h4>  http.getï¼ˆï¼‰ </h4><br> æ­¤æ–¹æ³•ç±»ä¼¼äº<code>http.request()</code> ï¼Œä½†ä¼šè‡ªåŠ¨å°†HTTPæ–¹æ³•è®¾ç½®ä¸º<code>GET</code>å¹¶è‡ªåŠ¨è°ƒç”¨<code>req.end()</code>å½¢å¼çš„å‘½ä»¤ã€‚ <br><br><h3>  <font color="#3AC1EF">â–ç­çº§</font> </h3><br>  HTTPæ¨¡å—æä¾›5ä¸ªç±»<code>ClientRequest</code> ï¼Œ <code>ClientRequest</code> ï¼Œ <code>Server</code> ï¼Œ <code>ServerResponse</code>å’Œ<code>IncomingMessage</code> ã€‚ è€ƒè™‘ä»–ä»¬ã€‚ <br><br><h4>  http.Agent </h4><br>  Node.jsåˆ›å»ºçš„<code>http.Agent</code>ç±»çš„å…¨å±€å®ä¾‹ç”¨äºç®¡ç†è¿æ¥ã€‚ å®ƒç”¨ä½œæ‰€æœ‰HTTPè¯·æ±‚çš„é»˜è®¤å€¼ï¼Œå¹¶æä¾›å¥—æ¥å­—çš„æ’é˜Ÿå’Œé‡ç”¨ã€‚ æ­¤å¤–ï¼Œå®ƒè¿˜æ”¯æŒå¥—æ¥å­—æ± ï¼Œä»¥æé«˜Node.jsç½‘ç»œå­ç³»ç»Ÿçš„æ€§èƒ½ã€‚ å¦‚æœ‰å¿…è¦ï¼Œæ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„<code>http.Agent</code>å¯¹è±¡ã€‚ <br><br><h4>  http.ClientRequest </h4><br> å½“<code>http.request()</code>æˆ–<code>http.get()</code>æ–¹æ³•æ—¶ï¼Œå°†åˆ›å»º<code>http.ClientRequest</code>ç±»çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¯·æ±‚ã€‚ æ”¶åˆ°å¯¹è¯·æ±‚çš„å“åº”åï¼Œå°†å¼•å‘å“åº”äº‹ä»¶ï¼Œåœ¨è¯¥äº‹ä»¶ä¸­ä¼ è¾“å“åº”<code>http.IncomingMessage</code>çš„å®ä¾‹ã€‚ æŸ¥è¯¢å®Œæˆåè·å¾—çš„æ•°æ®å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å¤„ç†ï¼š <br><br><ul><li> æ‚¨å¯ä»¥è°ƒç”¨<code>response.read()</code>æ–¹æ³•ã€‚ </li><li> åœ¨<code>response</code>äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼Œæ‚¨å¯ä»¥ä¸º<code>data</code>äº‹ä»¶é…ç½®ä¸€ä¸ªä¾¦å¬å™¨ï¼Œä»è€Œå…è®¸æ‚¨ä½¿ç”¨æµæ•°æ®ã€‚ </li></ul><br><h4>  httpã€‚æœåŠ¡å™¨ </h4><br> æ­¤ç±»çš„å®ä¾‹ç”¨äºä½¿ç”¨<code>http.createServer()</code>å‘½ä»¤åˆ›å»ºæœåŠ¡å™¨ã€‚ åœ¨æ‹¥æœ‰æœåŠ¡å™¨å¯¹è±¡ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¶æ–¹æ³•ï¼š <br><br><ul><li>  <code>listen()</code>æ–¹æ³•ç”¨äºå¯åŠ¨æœåŠ¡å™¨ï¼Œå¹¶ç»„ç»‡å¯¹ä¼ å…¥è¯·æ±‚çš„ç­‰å¾…å’Œå¤„ç†ã€‚ </li><li>  <code>close()</code>æ–¹æ³•åœæ­¢æœåŠ¡å™¨ã€‚ </li></ul><br><h4>  http.ServerResponse </h4><br> è¯¥å¯¹è±¡ç”±<code>http.Server</code>ç±»åˆ›å»ºï¼Œå¹¶åœ¨å‘ç”Ÿæ—¶ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™<code>request</code>äº‹ä»¶ã€‚ é€šå¸¸ï¼Œåœ¨ä»£ç ä¸­ä¸ºæ­¤ç±»å¯¹è±¡åˆ†é…åç§°<code>res</code> ï¼š <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> server = http.createServer(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//res -   http.ServerResponse })</span></span></code> </pre> <br> åœ¨è¿™æ ·çš„å¤„ç†ç¨‹åºä¸­ï¼Œåœ¨æœåŠ¡å™¨å“åº”å‡†å¤‡å¥½å‘é€ç»™å®¢æˆ·ç«¯ä¹‹åï¼Œå°†è°ƒç”¨<code>end()</code>æ–¹æ³•ï¼Œä»è€Œå®Œæˆå“åº”ã€‚ æ¯ä¸ªå“åº”å®Œæˆåå¿…é¡»è°ƒç”¨æ­¤æ–¹æ³•ã€‚ <br><br> ä»¥ä¸‹æ˜¯ç”¨äºHTTPæ ‡å¤´çš„æ–¹æ³•ï¼š <br><br><ul><li>  <code>getHeaderNames()</code> -è¿”å›å·²å®‰è£…æ ‡é¢˜çš„åç§°åˆ—è¡¨ã€‚ </li><li>  <code>getHeaders()</code> -è¿”å›è®¾ç½®çš„HTTPæ ‡å¤´çš„å‰¯æœ¬ã€‚ </li><li>  <code>setHeader('headername', value)</code> -è®¾ç½®æŒ‡å®šæ ‡é¢˜çš„å€¼ã€‚ </li><li>  <code>getHeader('headername')</code> -è¿”å›è®¾ç½®çš„æ ‡é¢˜ã€‚ </li><li>  <code>removeHeader('headername')</code> -åˆ é™¤å®‰è£…çš„æ ‡é¢˜ã€‚ </li><li>  <code>hasHeader('headername')</code> -å¦‚æœå“åº”å·²ç»å…·æœ‰å°†å…¶åç§°ä¼ é€’ç»™æ­¤æ–¹æ³•çš„æ ‡å¤´ï¼Œåˆ™è¿”å›<code>true</code> ã€‚ </li><li>  <code>headersSent()</code> -å¦‚æœæ ‡å¤´å·²ç»å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œåˆ™è¿”å›<code>true</code> ã€‚ </li></ul><br> å¤„ç†å¤´ä¹‹åï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨<code>response.writeHead()</code>æ–¹æ³•å°†å®ƒä»¬å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œè¯¥æ–¹æ³•ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œé‡‡ç”¨çŠ¶æ€ç ã€‚ ä½œä¸ºç¬¬äºŒå’Œç¬¬ä¸‰å‚æ•°ï¼Œå¯ä»¥å°†ä¸çŠ¶æ€ä»£ç å’Œæ ‡å¤´ç›¸å¯¹åº”çš„æ¶ˆæ¯ä¼ é€’ç»™å®ƒã€‚ <br><br> è¦å°†æ•°æ®å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œåœ¨å“åº”ä¸»ä½“ä¸­ä½¿ç”¨<code>write()</code>æ–¹æ³•ã€‚ å®ƒå°†ç¼“å†²çš„æ•°æ®å‘é€åˆ°HTTPå“åº”æµã€‚ <br><br> å¦‚æœå°šæœªä½¿ç”¨<code>response.writeHead()</code>å‘½ä»¤è®¾ç½®å¤´ï¼Œåˆ™å°†é¦–å…ˆå‘é€å¸¦æœ‰çŠ¶æ€ä»£ç å’Œè¯·æ±‚ä¸­æŒ‡å®šçš„æ¶ˆæ¯çš„å¤´ã€‚ æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®<code>statusCode</code>å’Œ<code>statusMessage</code>å€¼æ¥è®¾ç½®å®ƒä»¬çš„å€¼ï¼š <br><br><pre> <code class="hljs vbscript"><span class="hljs-built_in"><span class="hljs-built_in">response</span></span>.statusCode = <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-built_in"><span class="hljs-built_in">response</span></span>.statusMessage = <span class="hljs-comment"><span class="hljs-comment">'Internal Server Error'</span></span></code> </pre> <br><h4>  http.IncomingMessage </h4><br> é€šè¿‡ä»¥ä¸‹æœºåˆ¶æ¥åˆ›å»º<code>http.IncomingMessage</code>ç±»çš„å¯¹è±¡ï¼š <br><br><ul><li>  <code>http.Server</code>å¤„ç†<code>request</code>äº‹ä»¶æ—¶ã€‚ </li><li>  <code>http.ClientRequest</code>å¤„ç†<code>response</code>äº‹ä»¶æ—¶ã€‚ </li></ul><br> å®ƒå¯ä»¥ç”¨äºå¤„ç†å“åº”æ•°æ®ã€‚ å³ï¼š <br><br><ul><li> ä¸ºäº†æ‰¾å‡ºå“åº”çŠ¶æ€ä»£ç å’Œç›¸åº”çš„æ¶ˆæ¯ï¼Œä½¿ç”¨äº†<code>statusCode</code>å’Œ<code>statusMessage</code>å±æ€§ã€‚ </li><li> æ‚¨å¯ä»¥<code>headers</code> <code>rawHearders</code> <code>headers</code>æˆ–<code>rawHearders</code> ï¼ˆæœ‰å…³åŸå§‹æ ‡å¤´çš„åˆ—è¡¨ï¼‰æ¥æŸ¥çœ‹å“åº”<code>headers</code>å¤´ã€‚ </li><li> æ‚¨å¯ä»¥ä½¿ç”¨<code>method</code>å±æ€§æ‰¾åˆ°è¯·æ±‚æ–¹æ³•ã€‚ </li><li> è‹¥è¦æŸ¥æ‰¾æ­£åœ¨ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„HTTPï¼Œè¯·ä½¿ç”¨<code>httpVersion</code>å±æ€§ã€‚ </li><li> è¦è·å–URLï¼Œéœ€è¦ä½¿ç”¨<code>url</code>å±æ€§ã€‚ </li><li>  <code>socket</code>å±æ€§å…è®¸æ‚¨è·å–ä¸è¿æ¥å…³è”çš„<code>net.Socket</code>å¯¹è±¡ã€‚ </li></ul><br> ç”±äº<code>http.IncomingMessage</code>å¯¹è±¡å®ç°äº†<code>Readable Stream</code>æ¥å£ï¼Œå› æ­¤å“åº”æ•°æ®ä»¥æµçš„<code>http.IncomingMessage</code>æ˜¾ç¤ºã€‚ <br><br><h2>  <font color="#3AC1EF">åœ¨Node.jsä¸­ä½¿ç”¨æµ</font> </h2><br> çº¿ç¨‹æ˜¯Node.jsåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„åŸºæœ¬æ¦‚å¿µä¹‹ä¸€ã€‚ æµæ˜¯å…è®¸æ‚¨è¯»å–å’Œå†™å…¥æ–‡ä»¶ï¼Œç»„ç»‡ç³»ç»Ÿä¹‹é—´çš„ç½‘ç»œäº¤äº’ä»¥åŠæ€»ä½“ä¸Šæœ‰æ•ˆå®æ–½æ•°æ®äº¤æ¢æ“ä½œçš„å·¥å…·ã€‚ <br><br> çº¿ç¨‹çš„æ¦‚å¿µå¹¶éNode.jsç‹¬æœ‰ã€‚ å®ƒä»¬å‡ºç°åœ¨å‡ åå¹´å‰çš„Unixç³»åˆ—æ“ä½œç³»ç»Ÿä¸Šã€‚ ç‰¹åˆ«æ˜¯ï¼Œç¨‹åºå¯ä»¥å½¼æ­¤äº¤äº’ï¼Œä½¿ç”¨ç®¡é“ï¼ˆä½¿ç”¨ç®¡é“å­—ç¬¦- <code>|</code> ï¼‰ä¼ è¾“æ•°æ®æµã€‚ <br><br> å¦‚æœæ‚¨æƒ³åƒä¸ä½¿ç”¨æµè¯»å–æ–‡ä»¶ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œç›¸åº”å‘½ä»¤æœŸé—´ï¼Œæ–‡ä»¶çš„å†…å®¹å°†è¢«å®Œå…¨è¯»å–åˆ°å†…å­˜ä¸­ï¼Œç„¶åæ‚¨å°±å¯ä»¥ä½¿ç”¨è¯¥å†…å®¹ã€‚ <br><br> ç”±äºä½¿ç”¨äº†æµæœºåˆ¶ï¼Œå› æ­¤å¯ä»¥åˆ†æ‰¹è¯»å–å’Œå¤„ç†æ–‡ä»¶ï¼Œä»è€Œæ— éœ€åœ¨å†…å­˜ä¸­å­˜å‚¨å¤§é‡æ•°æ®ã€‚ <br><br>  Node.js <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æµ</a>æ¨¡å—æ˜¯æ„å»ºæ‰€æœ‰æ”¯æŒæµçš„APIçš„åŸºç¡€ã€‚ <br><br><h3>  <font color="#3AC1EF">â–å…³äºä½¿ç”¨æµçš„ä¼˜åŠ¿</font> </h3><br> ä¸å…¶ä»–æ•°æ®å¤„ç†æ–¹æ³•ç›¸æ¯”ï¼Œæµå…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š <br><br><ul><li> æœ‰æ•ˆåˆ©ç”¨å†…å­˜ã€‚ ä½¿ç”¨æµå¹¶ä¸æ„å‘³ç€åœ¨å¯ä»¥å¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ä¹‹å‰ï¼Œå°†å¤§é‡æ•°æ®é¢„å…ˆå­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚ </li><li> èŠ‚çœæ—¶é—´ã€‚ ä»æµä¸­æ¥æ”¶åˆ°çš„æ•°æ®çš„å¤„ç†é€Ÿåº¦è¦æ¯”å¿…é¡»ç­‰å¾…å®ƒä»¬å®Œå…¨åŠ è½½æ‰èƒ½å¼€å§‹å¤„ç†å®ƒä»¬çš„å¤„ç†é€Ÿåº¦å¿«å¾—å¤šã€‚ </li></ul><br><h3>  <font color="#3AC1EF">streamsä½¿ç”¨æµçš„ç¤ºä¾‹</font> </h3><br> ä¸€ä¸ªä½¿ç”¨æµçš„ä¼ ç»Ÿç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä»ç£ç›˜è¯»å–æ–‡ä»¶ã€‚ <br><br> é¦–å…ˆï¼Œè€ƒè™‘ä¸ä½¿ç”¨çº¿ç¨‹çš„ä»£ç ã€‚ æ ‡å‡†çš„Node.js <code>fs</code>æ¨¡å—å…è®¸æ‚¨è¯»å–æ–‡ä»¶ï¼Œç„¶åå¯ä»¥å“åº”HTTPæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚è€Œé€šè¿‡HTTPä¼ è¾“æ–‡ä»¶ï¼š <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> http = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fs = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> server = http.createServer(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(req, res)</span></span></span><span class="hljs-function"> </span></span>{ fs.readFile(__dirname + <span class="hljs-string"><span class="hljs-string">'/data.txt'</span></span>, (err, data) =&gt; {   res.end(data) }) }) server.listen(<span class="hljs-number"><span class="hljs-number">3000</span></span>)</code> </pre> <br> æ­¤å¤„ä½¿ç”¨çš„<code>readFile()</code>æ–¹æ³•ä½¿æ‚¨å¯ä»¥è¯»å–æ•´ä¸ªæ–‡ä»¶ã€‚ è¯»å–å®Œæˆåï¼Œå®ƒå°†è°ƒç”¨ç›¸åº”çš„å›è°ƒã€‚ <br><br> åœ¨å›è°ƒä¸­è°ƒç”¨çš„<code>res.end(data)</code>æ–¹æ³•å°†æ–‡ä»¶çš„å†…å®¹å‘é€åˆ°å®¢æˆ·ç«¯ã€‚ <br><br> å¦‚æœæ–‡ä»¶å¾ˆå¤§ï¼Œåˆ™æ­¤æ“ä½œå°†èŠ±è´¹å¤§é‡æ—¶é—´ã€‚ è¿™æ˜¯ä½¿ç”¨æµé‡å†™çš„ç›¸åŒç¤ºä¾‹ï¼š <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> server = http.createServer(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> stream = fs.createReadStream(__dirname + <span class="hljs-string"><span class="hljs-string">'/data.txt'</span></span>) stream.pipe(res) }) server.listen(<span class="hljs-number"><span class="hljs-number">3000</span></span>)</code> </pre> <br> æˆ‘ä»¬æ— éœ€ç­‰å¾…å®Œå…¨è¯»å–æ–‡ä»¶çš„é‚£ä¸€åˆ»ï¼Œè€Œæ˜¯åœ¨å‡†å¤‡å¥½å‘é€æ•°æ®çš„ç¬¬ä¸€éƒ¨åˆ†åç«‹å³å¼€å§‹å°†å…¶æ•°æ®ä¼ è¾“åˆ°å®¢æˆ·ç«¯ã€‚ <br><br><h3>  <font color="#3AC1EF">â–ç®¡é“ï¼ˆï¼‰æ–¹æ³•</font> </h3><br> åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>stream.pipe(res)</code>å½¢å¼çš„æ„é€ ï¼Œå…¶ä¸­è°ƒç”¨äº†<code>pipe()</code>æ–‡ä»¶æµæ–¹æ³•ã€‚ æ­¤æ–¹æ³•ä»å…¶æºè·å–æ•°æ®å¹¶å°†å…¶å‘é€åˆ°ç›®çš„åœ°ã€‚ <br><br> éœ€è¦ä¸€ä¸ªä»£è¡¨æ•°æ®æºçš„æµã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™æ˜¯å‘é€åˆ°HTTPå“åº”çš„æ–‡ä»¶æµã€‚ <br><br>  <code>pipe()</code>æ–¹æ³•çš„è¿”å›å€¼æ˜¯ç›®æ ‡æµã€‚ è¿™éå¸¸æ–¹ä¾¿ï¼Œå› ä¸ºå®ƒå…è®¸æ‚¨å°†å‡ ä¸ªè°ƒç”¨é“¾æ¥åˆ°<code>pipe()</code>æ–¹æ³•ï¼š <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">src</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.pipe</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">dest1</span></span>)<span class="hljs-selector-class"><span class="hljs-selector-class">.pipe</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">dest2</span></span>)</code> </pre> <br> è¿™ç­‰æ•ˆäºè¿™æ ·çš„è®¾è®¡ï¼š <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">src</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.pipe</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">dest1</span></span>) <span class="hljs-selector-tag"><span class="hljs-selector-tag">dest1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.pipe</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">dest2</span></span>)</code> </pre> <br><h3>  <font color="#3AC1EF">â–ä½¿ç”¨æµçš„API Node.js</font> </h3><br> æµæ˜¯ä¸€ç§æœ‰ç”¨çš„æœºåˆ¶ï¼›å› æ­¤ï¼ŒNode.jså†…æ ¸çš„è®¸å¤šæ¨¡å—æä¾›äº†ä½¿ç”¨æµçš„æ ‡å‡†åŠŸèƒ½ã€‚ æˆ‘ä»¬åˆ—å‡ºå…¶ä¸­ä¸€äº›ï¼š <br><br><ul><li>  <code>process.stdin</code>è¿”å›è¿æ¥åˆ°<code>stdin</code>çš„çº¿ç¨‹ã€‚ </li><li>  <code>process.stdout</code>è¿”å›è¿æ¥åˆ°<code>stdout</code>çš„çº¿ç¨‹ã€‚ </li><li>  <code>process.stderr</code>è¿”å›è¿æ¥åˆ°<code>stderr</code>çš„çº¿ç¨‹ã€‚ </li><li>  <code>fs.createReadStream()</code> -åˆ›å»ºç”¨äºå¤„ç†æ–‡ä»¶çš„å¯è¯»æµã€‚ </li><li>  <code>fs.createWriteStream()</code> -åˆ›å»ºç”¨äºå¤„ç†æ–‡ä»¶çš„å¯å†™æµã€‚ </li><li>  <code>net.connect()</code> -å¯åŠ¨åŸºäºæµçš„è¿æ¥ã€‚ </li><li>  <code>http.request()</code> -è¿”å›æä¾›å¯¹æ­£åœ¨å†™å…¥çš„æµçš„è®¿é—®çš„<code>http.ClientRequest</code>ç±»çš„å®ä¾‹ã€‚ </li><li>  <code>zlib.createGzip()</code> -ä½¿ç”¨<code>gzip</code>ç®—æ³•å‹ç¼©æ•°æ®å¹¶å°†å…¶å‘é€åˆ°æµã€‚ </li><li>  <code>zlib.createGunzip()</code> -è§£å‹ç¼©<code>gzip</code>æµã€‚ </li><li>  <code>zlib.createDeflate()</code> -ä½¿ç”¨<code>deflate</code>ç®—æ³•å‹ç¼©æ•°æ®å¹¶å°†å…¶å‘é€åˆ°æµã€‚ </li><li>  <code>zlib.createInflate()</code> -è§£å‹ç¼©<code>deflate</code>æµã€‚ </li></ul><br><h3>  <font color="#3AC1EF">streamså„ç§æµ</font> </h3><br> æµæœ‰å››ç§ç±»å‹ï¼š <br><br><ul><li> å¯è¯»æµæ˜¯å¯ä»¥ä»ä¸­è¯»å–æ•°æ®çš„æµã€‚ æ‚¨æ— æ³•å°†æ•°æ®å†™å…¥æ­¤ç±»æµã€‚ å½“æ•°æ®åˆ°è¾¾è¿™æ ·çš„æµä¸­æ—¶ï¼Œå°†å¯¹å…¶è¿›è¡Œç¼“å†²ï¼Œç›´åˆ°æ•°æ®ä½¿ç”¨è€…å¼€å§‹è¯»å–å®ƒä¸ºæ­¢ã€‚ </li><li> å†™å…¥æµï¼ˆ <code>Writable</code> ï¼‰æ˜¯å¯ä»¥åœ¨å…¶ä¸­å‘é€æ•°æ®çš„æµã€‚ æ‚¨æ— æ³•ä»ä¸­è¯»å–æ•°æ®ã€‚ </li><li> åŒå·¥æµï¼ˆ <code>Duplex</code> ï¼‰-åœ¨æ­¤æµä¸­ï¼Œæ‚¨å¯ä»¥å‘é€æ•°æ®å¹¶ä»ä¸­è¯»å–æ•°æ®ã€‚ æœ¬è´¨ä¸Šï¼Œè¿™æ˜¯ç”¨äºè¯»å–çš„æµå’Œç”¨äºå†™å…¥çš„æµçš„ç»„åˆã€‚ </li><li> è½¬æ¢æµï¼ˆ <code>Transform</code> ï¼‰-è¿™æ ·çš„æµç±»ä¼¼äºåŒå·¥æµï¼Œä¸åŒä¹‹å¤„åœ¨äºè¿™äº›æµçš„è¾“å…¥å°†è½¬æ¢å¯ä»¥ä»ä¸­è¯»å–çš„å†…å®¹ã€‚ </li></ul><br><h3>  <font color="#3AC1EF">â–åˆ›å»ºè¯»å–æµ</font> </h3><br>       ,    <code>stream</code> : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Stream = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'stream'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> readableStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Stream.Readable()</code> </pre> <br>      ,       : <br><br><pre> <code class="hljs cs">readableStream.push(<span class="hljs-string"><span class="hljs-string">'hi!'</span></span>) readableStream.push(<span class="hljs-string"><span class="hljs-string">'ho!'</span></span>)</code> </pre> <br><h3> <font color="#3AC1EF">â–   </font> </h3><br>           <code>Writable</code>     <code>_write()</code> .      : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Stream = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'stream'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> writableStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Stream.Writable()</code> </pre> <br>     <code>_write()</code> : <br><br><pre> <code class="hljs coffeescript">writableStream._write = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(chunk, encoding, next)</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(chunk.toString())   next() }</code> </pre> <br>       ,   : <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">process</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.stdin</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.pipe</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">writableStream</span></span>)</code> </pre> <br><h3> <font color="#3AC1EF">â–     </font> </h3><br>       ,   ,    : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Stream = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'stream'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> readableStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Stream.Readable() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> writableStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Stream.Writable() writableStream._write = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">chunk, encoding, next</span></span></span><span class="hljs-function">) =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(chunk.toString())   next() } readableStream.pipe(writableStream) readableStream.push(<span class="hljs-string"><span class="hljs-string">'hi!'</span></span>) readableStream.push(<span class="hljs-string"><span class="hljs-string">'ho!'</span></span>) readableStream.push(<span class="hljs-literal"><span class="hljs-literal">null</span></span>)</code> </pre> <br>  <code>readableStream.push(null)</code>     . <br><br>        ,   <code>readable</code> : <br><br><pre> <code class="hljs coffeescript">readableStream.<span class="hljs-literal"><span class="hljs-literal">on</span></span>(<span class="hljs-string"><span class="hljs-string">'readable'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(readableStream.read()) })</code> </pre> <br><h3> <font color="#3AC1EF">â–     </font> </h3><br>          <code>write()</code> : <br><br><pre> <code class="hljs pgsql">writableStream.<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>(<span class="hljs-string"><span class="hljs-string">'hey!\n'</span></span>)</code> </pre> <br><h3> <font color="#3AC1EF">â–     ,    </font> </h3><br>         ,      ,     <code>end()</code> : <br><br><pre> <code class="hljs pgsql">writableStream.<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>()</code> </pre> <br>      .  ,      ,     . <br><br><h2> <font color="#3AC1EF">   MySQL  Node.js</font> </h2><br> MySQL        .   Node.js   ,     MySQL-,   â€”    ,        . <br><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">mysqljs/mysql</a> .  ,     ,   12000   GitHub.      ,   MySQL-. <br><br><h3> <font color="#3AC1EF">â– </font> </h3><br>       : <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> mysql</code> </pre> <br><h3> <font color="#3AC1EF">â–    </font> </h3><br>     : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mysql = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'mysql'</span></span>)</code> </pre> <br>    : <br><br><pre> <code class="hljs pgsql">const <span class="hljs-keyword"><span class="hljs-keyword">options</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>: <span class="hljs-string"><span class="hljs-string">'the_mysql_user_name'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>: <span class="hljs-string"><span class="hljs-string">'the_mysql_user_password'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">database</span></span>: <span class="hljs-string"><span class="hljs-string">'the_mysql_database_name'</span></span> } const <span class="hljs-keyword"><span class="hljs-keyword">connection</span></span> = mysql.createConnection(<span class="hljs-keyword"><span class="hljs-keyword">options</span></span>)</code> </pre> <br>      : <br><br><pre> <code class="hljs javascript">connection.connect(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(<span class="hljs-string"><span class="hljs-string">'An error occurred while connecting to the DB'</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> err } }</code> </pre> <br><h3> <font color="#3AC1EF">â– </font> </h3><br>     <code>options</code>    : <br><br><pre> <code class="hljs pgsql">const <span class="hljs-keyword"><span class="hljs-keyword">options</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>: <span class="hljs-string"><span class="hljs-string">'the_mysql_user_name'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>: <span class="hljs-string"><span class="hljs-string">'the_mysql_user_password'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">database</span></span>: <span class="hljs-string"><span class="hljs-string">'the_mysql_database_name'</span></span> }</code> </pre> <br>        .    â€” : <br><br><ul><li> <code>host</code> â€”  ,    MySQL-,   â€” <code>localhost</code> . </li><li> <code>port</code> â€”   ,   â€” <code>3306</code> . </li><li> <code>socketPath</code> â€”     Unix    . </li><li> <code>debug</code> â€”     ,     . </li><li> <code>trace</code> â€”         ,     . </li><li> <code>ssl</code> â€”    SSL-  . </li></ul><br><h3> <font color="#3AC1EF">â–  SELECT</font> </h3><br>      SQL-   .       <code>query</code> ,     .     â€”       ,   .         .          : <br><br><pre> <code class="hljs coffeescript">connection.query(<span class="hljs-string"><span class="hljs-string">'SELECT * FROM todos'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(error, todos, fields)</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error) {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(<span class="hljs-string"><span class="hljs-string">'An error occurred while executing the query'</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> error } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(todos) })</code> </pre> <br>      ,       : <br><br><pre> <code class="hljs coffeescript">const id = <span class="hljs-number"><span class="hljs-number">223</span></span> connection.query(<span class="hljs-string"><span class="hljs-string">'SELECT * FROM todos WHERE id = ?'</span></span>, [id], <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(error, todos, fields)</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error) {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(<span class="hljs-string"><span class="hljs-string">'An error occurred while executing the query'</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> error } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(todos) })</code> </pre> <br>       ,    ,  : <br><br><pre> <code class="hljs coffeescript">const id = <span class="hljs-number"><span class="hljs-number">223</span></span> const author = <span class="hljs-string"><span class="hljs-string">'Flavio'</span></span> connection.query(<span class="hljs-string"><span class="hljs-string">'SELECT * FROM todos WHERE id = ? AND author = ?'</span></span>, [id, author], <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(error, todos, fields)</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error) {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(<span class="hljs-string"><span class="hljs-string">'An error occurred while executing the query'</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> error } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(todos) })</code> </pre> <br><h3> <font color="#3AC1EF">â–  INSERT</font> </h3><br>  <code>INSERT</code>      . ,     : <br><br><pre> <code class="hljs coffeescript">const todo = { thing: <span class="hljs-string"><span class="hljs-string">'Buy the milk'</span></span> author: <span class="hljs-string"><span class="hljs-string">'Flavio'</span></span> } connection.query(<span class="hljs-string"><span class="hljs-string">'INSERT INTO todos SET ?'</span></span>, todo, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(error, results, fields)</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error) {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(<span class="hljs-string"><span class="hljs-string">'An error occurred while executing the query'</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> error } })</code> </pre> <br>   ,    ,      <code>auto_increment</code> ,       <code>results.insertId</code> : <br><br><pre> <code class="hljs coffeescript">const todo = { thing: <span class="hljs-string"><span class="hljs-string">'Buy the milk'</span></span> author: <span class="hljs-string"><span class="hljs-string">'Flavio'</span></span> } connection.query(<span class="hljs-string"><span class="hljs-string">'INSERT INTO todos SET ?'</span></span>, todo, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(error, results, fields)</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (error) {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(<span class="hljs-string"><span class="hljs-string">'An error occurred while executing the query'</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> error }} const id = results.resultId <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(id) )</code> </pre> <br><h3> <font color="#3AC1EF">â–    </font> </h3><br>              â€”    <code>end()</code> : <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">connection</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">end</span></span>()</code> </pre> <br>         . <br><br><h2> <font color="#3AC1EF">      -</font> </h2><br>     Node.js         -. <br><br>    Node.js    .       ,     -,     <code>NODE_ENV</code> : <br><br><pre> <code class="hljs">NODE_ENV=production</code> </pre> <br>      .  Linux, ,   : <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> NODE_ENV=production</code> </pre> <br> , ,        <code>.bash_profile</code> (  Bash),            . <br><br>     ,      : <br><br><pre> <code class="hljs">NODE_ENV=production node app.js</code> </pre> <br>          Node.js.  <code>NODE_ENV</code>   <code>production</code>   : <br><br><ul><li>    . </li><li>       . </li></ul><br> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Pug</a> â€”     ,  Express,         ,   <code>NODE_ENV</code>     <code>production</code> .  Express,   ,     .  -  .      . <br><br> Express      . ,    ,    <code>NODE_ENV</code> : <br><br><pre> <code class="hljs coffeescript">app.configure(<span class="hljs-string"><span class="hljs-string">'development'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>... }) app.configure(<span class="hljs-string"><span class="hljs-string">'production'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>... }) app.configure(<span class="hljs-string"><span class="hljs-string">'production'</span></span>, <span class="hljs-string"><span class="hljs-string">'staging'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>... })</code> </pre> <br> ,           : <br><br><pre> <code class="hljs coffeescript">app.configure(<span class="hljs-string"><span class="hljs-string">'development'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { app.use(express.errorHandler({ dumpExceptions: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, showStack: <span class="hljs-literal"><span class="hljs-literal">true</span></span> })); }) app.configure(<span class="hljs-string"><span class="hljs-string">'production'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { app.use(express.errorHandler()) })</code> </pre> <br><h3> <font color="#3AC1EF">â–</font> </h3><br> ,   ,     Node.js    ,      . ,  ,        ,     Node.js,    - ,          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>  Node.js. <br><br>  <b>äº²çˆ±çš„è¯»è€…ä»¬ï¼</b>      ,       Node.js,    ,      . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN425667/">https://habr.com/ru/post/zh-CN425667/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN425657/index.html">æƒ©ç½šçš„å¿…ç„¶æ€§ï¼Œçªå‡»æ£€æŸ¥çš„æœ‰æ•ˆæ€§</a></li>
<li><a href="../zh-CN425659/index.html">äº¤äº’å¼è®¾è®¡ä¸å¿…å¤ªå¤æ‚ã€‚</a></li>
<li><a href="../zh-CN425661/index.html">Angularå¼€å‘äººå‘˜çš„22ä¸ªæŠ€å·§ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN425663/index.html">Angularå¼€å‘äººå‘˜çš„22ä¸ªæŠ€å·§ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN425665/index.html">Gitï¼šä¿®å¤é”™è¯¯å’Œä¿®å¤æäº¤</a></li>
<li><a href="../zh-CN425669/index.html">éè®¾è®¡è€…ç½‘é¡µè®¾è®¡æŒ‡å—</a></li>
<li><a href="../zh-CN425671/index.html">MBLT DEV 2018ï¼šæœºå™¨äººæŠ¥å‘Š</a></li>
<li><a href="../zh-CN425673/index.html">[Peter]ä¸Venkat Subramaniamç¢°é¢JUG.ru-æ ¹æ®Lambdaè¡¨è¾¾å¼è®¾è®¡æ ·å¼</a></li>
<li><a href="../zh-CN425675/index.html">å›¾çµæ³•å¾‹ï¼šåŠ åˆ©ç¦å°¼äºšå·ç¦æ­¢èŠå¤©æœºå™¨äººå‡è£…æˆä¸ºäºº</a></li>
<li><a href="../zh-CN425677/index.html">60å¹´æ¥æœ€å–œæ¬¢çš„DARPAç©å…·</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>