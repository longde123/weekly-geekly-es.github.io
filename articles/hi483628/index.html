<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЪ╢ЁЯП╜ ЁЯСитАНЁЯОд ЁЯСиЁЯП┐тАНЁЯЪТ OpenAPI v3 (рдЙрд░реНрдл рд╕реНрд╡реИрдЧрд░ 3) рд╕реЗ рдХреЛрдб рдЬрдирд░реЗрд╢рди рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд▓рд┐рдП рдФрд░ рди рдХреЗрд╡рд▓ ЁЯС╢ЁЯП╜ ЁЯМИ ЁЯУЧ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рджреЛ рд╕рд╛рд▓ рдкрд╣рд▓реЗ, рдореИрдВрдиреЗ рд╡рд┐рдХрд╛рд╕ рд╢реБрд░реВ рдХрд┐рдпрд╛  рдПрдХ рдФрд░  рдУрдкрдирдПрдкреАрдЖрдИ рд╕реНрдкреЗрд╕рд┐рдлрд┐рдХреЗрд╢рди v3 рд╕реЗ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ (рдпрд╣ рдЬреАрдердм рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИ ) рд╕реЗ рдПрдХ рдореБрдлреНрдд рдХреЛрдб рдЬрдирд░реЗрдЯрд░ред рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдореИрдВ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>OpenAPI v3 (рдЙрд░реНрдл рд╕реНрд╡реИрдЧрд░ 3) рд╕реЗ рдХреЛрдб рдЬрдирд░реЗрд╢рди рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд▓рд┐рдП рдФрд░ рди рдХреЗрд╡рд▓</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483628/"><p>  рджреЛ рд╕рд╛рд▓ рдкрд╣рд▓реЗ, рдореИрдВрдиреЗ рд╡рд┐рдХрд╛рд╕ рд╢реБрд░реВ рдХрд┐рдпрд╛ <del>  рдПрдХ рдФрд░ </del>  <a href="https://swagger.io/docs/specification/about/">рдУрдкрдирдПрдкреАрдЖрдИ рд╕реНрдкреЗрд╕рд┐рдлрд┐рдХреЗрд╢рди</a> v3 рд╕реЗ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ (рдпрд╣ рдЬреАрдердм <a href="https://github.com/koshevy/codegena">рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИ</a> ) рд╕реЗ рдПрдХ рдореБрдлреНрдд рдХреЛрдб рдЬрдирд░реЗрдЯрд░ред  рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдореИрдВ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЖрджрд┐рдо рдФрд░ рдЬрдЯрд┐рд▓ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреА рдХреБрд╢рд▓ рдкреАрдврд╝реА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реВрдВ, рд╡рд┐рднрд┐рдиреНрди <a href="https://json-schema.org/">JSON рд╕реНрдХреАрдорд╛</a> рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ <a href="https://json-schema.org/understanding-json-schema/reference/combining.html">рд░рдЦрддреЗ рд╣реБрдП</a> , рдЬреИрд╕реЗ рдХрд┐ <a href="https://json-schema.org/understanding-json-schema/reference/combining.html">oneOf / anyOf / allOf</a> , рдЖрджрд┐ред  (рд╕реНрд╡реИрдЧрд░ рдХреЗ <a href="https://github.com/swagger-api/swagger-codegen">рдореВрд▓ рд╕рдорд╛рдзрд╛рди</a> рдореЗрдВ рдЗрд╕рдХреЗ рд╕рд╛рде рдХреБрдЫ рд╕рдорд╕реНрдпрд╛рдПрдВ рдереАрдВ)ред  рдПрдХ рдФрд░ рд╡рд┐рдЪрд╛рд░ рдерд╛ рдХрд┐ рд╕рд╛рдордиреЗ, рдкреАрдЫреЗ рдФрд░ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдЕрдиреНрдп рд╣рд┐рд╕реНрд╕реЛрдВ рдкрд░ рд╕рддреНрдпрд╛рдкрди рдХреЗ рд▓рд┐рдП рд╡рд┐рдирд┐рд░реНрджреЗрд╢реЛрдВ рд╕реЗ рд╕реНрдХреАрдорд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПред </p><br><p><img src="https://habrastorage.org/webt/hz/cd/u4/hzcdu47rcjbutgqbe6pdb2k46x8.png"></p><a name="habracut"></a><br><p>  рдЕрдм рдХреЛрдб рдЬрдирд░реЗрдЯрд░ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рддреИрдпрд╛рд░ рд╣реИ - рдпрд╣ <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B8%25D0%25BD%25D0%25B8%25D0%25BC%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE_%25D0%25B6%25D0%25B8%25D0%25B7%25D0%25BD%25D0%25B5%25D1%2581%25D0%25BF%25D0%25BE%25D1%2581%25D0%25BE%25D0%25B1%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BA%25D1%2582">рдПрдорд╡реАрдкреА</a> рдЪрд░рдг рдореЗрдВ рд╣реИред  рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдлреНрд░рдВрдЯ-рдПрдВрдб рд╕рд░реНрд╡рд┐рд╕реЗрдЬ (рдЕрдм рддрдХ рдХреЛрдгреАрдп) рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рдпреЛрдЧрд┐рдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕рдХреА рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдШрдЯрдирд╛рдХреНрд░рдо рджрд┐рдЦрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдФрд░ рдмрддрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдпрджрд┐ рдЖрдк рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рдУрдкрдирдПрдкреАрдЖрдИ v3 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рд╡реЗ рдХреИрд╕реЗ рдорджрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд░рд╛рд╕реНрддреЗ рдХреЗ рд╕рд╛рде, рдореИрдВ рдХреБрдЫ рд╡рд┐рдЪрд╛рд░ рдФрд░ рд╡рд┐рдЪрд╛рд░ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдЬреЛ рдореЗрд░реА рдХрд╛рд░реНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдЙрддреНрдкрдиреНрди рд╣реБрдП рд╣реИрдВред  рдареАрдХ рд╣реИ, рдЕрдЧрд░ рдЖрдк рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдмреИрдХрд╕реНрдЯреЛрд░реА рдХреЛ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ рд╕реНрдкреЙрдЗрд▓рд░ рдореЗрдВ рдЫрд┐рдкрд╛ рджрд┐рдпрд╛ рдерд╛ рддрд╛рдХрд┐ рддрдХрдиреАрдХреА рднрд╛рдЧ рдХреЛ рдкрдврд╝рдиреЗ рдореЗрдВ рдХрдард┐рдирд╛рдИ рди рд╣реЛред </p><br><h2 id="soderzhanie">  рд╕рд╛рдордЧреНрд░реА </h2><br><ol><li>  <a href="https://habr.com/ru/post/483628/">рдкреНрд░рд╛рдЧрд┐рддрд┐рд╣рд╛рд╕</a> </li><li>  <a href="https://habr.com/ru/post/483628/">рд╡рд┐рд╡рд░рдг</a> </li><li>  <a href="https://habr.com/ru/post/483628/">рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рдЙрдкрдпреЛрдЧ</a> </li><li>  <a href="https://habr.com/ru/post/483628/">рдХреЛрдб рдЬрдирд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ</a> </li><li>  <a href="https://habr.com/ru/post/483628/">рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рдЙрддреНрдкрдиреНрди рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a> </li><li>  <a href="https://habr.com/ru/post/483628/">OAS рд╡рд┐рдирд┐рд░реНрджреЗрд╢рди рдХреЗ рднреАрддрд░ рд╕рд░реНрдХрд┐рдЯ рдХрд╛ рдЕрдкрдШрдЯрди</a> </li><li>  <a href="https://habr.com/ru/post/483628/">рдиреЗрд╕реНрдЯреЗрдб рдЕрдкрдШрдЯрди</a> </li><li>  <a href="https://habr.com/ru/post/483628/">REST API рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рддрдГ-рдЬрдирд░реЗрдЯ рдХреА рдЧрдИ рд╕реЗрд╡рд╛рдПрдБ</a> <br><ol><li>  <a href="https://habr.com/ru/post/483628/">рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ?</a> </li><li>  <a href="https://habr.com/ru/post/483628/">рд╕реЗрд╡рд╛ рдкреАрдврд╝реА</a> </li><li>  <a href="https://habr.com/ru/post/483628/">рдЙрддреНрдкрдиреНрди рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a> </li></ol></li><li>  <a href="https://habr.com/ru/post/483628/">рдПрдХ рдЖрдлреНрдЯрд░рд╡рд░реНрдб рдХреЗ рдмрдЬрд╛рдп</a> </li></ol><br><a name="Foreword"></a><br><h2 id="predystoriya">  рдкреНрд░рд╛рдЧрд┐рддрд┐рд╣рд╛рд╕ </h2><br><div class="spoiler">  <b class="spoiler_title">рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╕реНрддреГрдд рдХрд░реЗрдВ (рдЫреЛрдбрд╝реЗрдВ)</b> <div class="spoiler_text"><p>  рдпрд╣ рд╕рдм рджреЛ рд╕рд╛рд▓ рдкрд╣рд▓реЗ рд╢реБрд░реВ рд╣реБрдЖ рдерд╛ - рддрдм рдореИрдВрдиреЗ рдПрдХ рдбреЗрдЯрд╛ рдорд╛рдЗрдирд┐рдВрдЧ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реА рдХрдВрдкрдиреА рдореЗрдВ рдХрд╛рдо рдХрд┐рдпрд╛ рдерд╛ рдФрд░ рдлрд╝реНрд░рдВрдЯреЗрдВрдб (рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ + рдПрдВрдЧреНрд▓реЛ) рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рдерд╛ред  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдорд╛рдкрджрдВрдбреЛрдВ (30 рдпрд╛ рдЕрдзрд┐рдХ) рдХреЗ рд╕рд╛рде рдЬрдЯрд┐рд▓ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдПрдВ рдереАрдВ рдФрд░ рдЙрдирдХреЗ рдмреАрдЪ рд╣рдореЗрд╢рд╛ рд╕реНрдкрд╖реНрдЯ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рд╕рдВрдмрдВрдз рдирд╣реАрдВ рдереЗред  рдХрдВрдкрдиреА рдмрдврд╝ рд░рд╣реА рдереА, рдФрд░ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рд╡рд╛рддрд╛рд╡рд░рдг рдХрд╛рдлреА рд▓рдЧрд╛рддрд╛рд░ рдмрджрд▓рд╛рд╡реЛрдВ рд╕реЗ рдЧреБрдЬрд░ рд░рд╣рд╛ рдерд╛ред  рд╕реАрдорд╛ рдХреЛ рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░ рд╣реЛрдирд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рдХреБрдЫ рдЧрдгрдирд╛ рд╕рд╛рдордиреЗ рдФрд░ рдкреАрдЫреЗ рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдореЗрдВ рджреЛрд╣рд░рд╛рдИ рдЧрдИ рдереАрдВред  рдпрд╣реА рд╣реИ, рдпрд╣ рдорд╛рдорд▓рд╛ рдерд╛ рдЬрдм OpenAPI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЙрдЪрд┐рдд рд╕реЗ рдЕрдзрд┐рдХ рд╣реИред  рдореБрдЭреЗ рдХрдВрдкрдиреА рдореЗрдВ рдПрдХ рдЕрд╡рдзрд┐ рдорд┐рд▓реА рдЬрдм рдХреБрдЫ рд╣реА рдорд╣реАрдиреЛрдВ рдореЗрдВ рд╡рд┐рдХрд╛рд╕ рдЯреАрдо рдиреЗ рдПрдХ рдПрдХрд▓ рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛, рдЬреЛ рдХрд┐ рдмреИрдХ, рдлреНрд░рдВрдЯ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдХреЛрд░ рд╡рд┐рднрд╛рдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдЬреНрдЮрд╛рди рдХрд╛ рдЖрдзрд╛рд░ рдмрди рдЧрдпрд╛, рдЬреЛ рд╡реЗрдм рдмреИрдХрдПрдВрдб рдХреЗ рд╡реНрдпрд╛рдкрдХ рдмреИрдХ рдХреЗ рдкреАрдЫреЗ рдЫрд┐рдкрд╛ рд╣реБрдЖ рдерд╛ред  OpenAPI рд╕рдВрд╕реНрдХрд░рдг рдХреЛ "рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП" рдЪреБрдирд╛ рдЧрдпрд╛ рдерд╛ - рдлрд┐рд░ рднреА рдХрд╛рдлреА рдпреБрд╡рд╛ v3.0 </p><br><p>  рдпрд╣ рдЕрдм рдПрдХ рдпрд╛ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рд╕реНрдерд┐рд░ YML / JSON рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдирд╣реАрдВ рдерд╛, рдФрд░ <a href="https://github.com/zircote/swagger-php">рдПрдиреЛрдЯреЗрдЯрд░реНрд╕</a> рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдирд╣реАрдВ рдерд╛, рд▓реЗрдХрд┐рди рдШрдЯрдХреЛрдВ, рд╡рд┐рдзрд┐рдпреЛрдВ, рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕ рдФрд░ рдЧреБрдгреЛрдВ рдХреА рдПрдХ рдкреВрд░реА рд▓рд╛рдЗрдмреНрд░реЗрд░реА, рдордВрдЪ рдХреА DDD рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЖрдпреЛрдЬрд┐рдд рдХреА рдЧрдИ рдереАред  рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдФрд░ рдлрд╛рдЗрд▓реЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рдПрдХ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд▓реЗрдХреНрдЯрд░ рдиреЗ рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рд╖рдп рдХреНрд╖реЗрддреНрд░ рдХреЗ рд▓рд┐рдП OAS рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХрд╛ рдЙрддреНрдкрд╛рджрди рдХрд┐рдпрд╛ред  рдПрдХ рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рддрд░реАрдХреЗ рд╕реЗ рдХрд╛рдо рдХрд╛ рдкреНрд░рд╡рд╛рд╣ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬрд┐рд╕реЗ рдбрд┐рдЬрд╛рдЗрди-рдкреНрд░рдердо рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><blockquote>  Yandex.Money рдХрдВрдкрдиреА рдХреЗ рдмреНрд▓реЙрдЧ рдореЗрдВ рдПрдХ <a href="https://habr.com/ru/company/yamoney/blog/347390/">рдЕрдЪреНрдЫрд╛ рд▓реЗрдЦ</a> рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдбрд┐рдЬрд╝рд╛рдЗрди рдлрд░реНрд╕реНрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХреА рдЧрдИ рд╣реИ </blockquote><p>  рдбрд┐рдЬрд╝рд╛рдЗрди рдлрд░реНрд╕реНрдЯ рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдиреЗ рдЬреНрдЮрд╛рди рдХреЛ рдХрдо рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХреА, рд▓реЗрдХрд┐рди рдПрдХ рдирдИ рд╕рдорд╕реНрдпрд╛ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдИ - рдХреЛрдб рдХреА рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХрддрд╛ рдмрдирд╛рдП рд░рдЦрдирд╛ред  рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдиреЗ рдХрдИ рджрд░реНрдЬрди рд╡рд┐рдзрд┐рдпреЛрдВ рдФрд░ рджрд░реНрдЬрдиреЛрдВ (рдФрд░ рдмрд╛рдж рдореЗрдВ рд╕реИрдХрдбрд╝реЛрдВ) рд╕рдВрд╕реНрдерд╛рдУрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ред  рд▓реЗрдХрд┐рди рдХреЛрдб рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд▓рд┐рдЦрд╛ рдЬрд╛рдирд╛ рдерд╛: рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░, рдЖрд░рдИрдПрд╕рдЯреА рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рд╕реЗрд╡рд╛рдПрдВ рдЖрджрд┐ред  рд╕рдорд╛рдирд╛рдВрддрд░ рдХрд╣рд╛рдирд┐рдпреЛрдВ рд╡рд╛рд▓реЗ рдПрдХ рдпрд╛ рджреЛ рд╕реНрдкреНрд░рд┐рдВрдЯ рдиреЗ рддрд╕реНрд╡реАрд░ рдХреЛ рдмрд╣реБрдд рдмрджрд▓ рджрд┐рдпрд╛;  рдХрдИ рдХрд╣рд╛рдирд┐рдпреЛрдВ рдФрд░ рдорд╛рдирд╡ рдХрд╛рд░рдХ рдХреЗ рд╡рд┐рд▓рдп рдореЗрдВ рдЬрдЯрд┐рд▓рддрд╛ рдЬреЛрдбрд╝реЗрдВред  рджрд┐рдирдЪрд░реНрдпрд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реЛрдиреЗ рдХреА рдзрдордХреА рджреА, рдФрд░ рд╕рдорд╛рдзрд╛рди рд╕реНрдкрд╖реНрдЯ рд▓рдЧ рд░рд╣рд╛ рдерд╛ - рдЖрдкрдХреЛ рдХреЛрдб рдкреАрдврд╝реА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЖрдЦрд┐рд░рдХрд╛рд░, OAS рд╡рд┐рд╢рд┐рд╖реНрдЯрддрд╛рдУрдВ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕рдм рдХреБрдЫ рдЖрд╡рд╢реНрдпрдХ рдерд╛ рддрд╛рдХрд┐ рдЗрд╕реЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╡рд╛рдкрд╕ рди рдХрд┐рдпрд╛ рдЬрд╛рдПред  рд▓реЗрдХрд┐рди рдпрд╣ рдЗрддрдирд╛ рд╕рд░рд▓ рдирд╣реАрдВ рдерд╛ред </p><br><p>  рд╕реАрдорд╛рдВрдд рдЙрддреНрдкрд╛рджрди рдЪрдХреНрд░ рдХреЗ рдмрд╣реБрдд рдЕрдВрдд рдореЗрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореБрдЭреЗ рдЕрдиреНрдп рд╡рд┐рднрд╛рдЧреЛрдВ рдХреЗ рд╕рд╣рдпреЛрдЧрд┐рдпреЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рджрд░реНрджрдирд╛рдХ рдкрд░рд┐рд╡рд░реНрддрди рдорд╣рд╕реВрд╕ рд╣реБрдПред  REST API рдХреЛ рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд░рддреЗ рд╕рдордп, рдмреИрдХрдПрдВрдб рд╡рд╛рддрд╛рд╡рд░рдг рддрдп рдХрд░ рд░рд╣рд╛ рдерд╛, рдФрд░ "рдбрд┐рдЬрд╝рд╛рдЗрди рдлрд╝рд░реНрд╕реНрдЯ" рдХреА рд╕реНрд╡реАрдХреГрддрд┐ рдХреЗ рдмрд╛рдж рднреА, рдЬрдбрд╝рддрд╛ рдмрдиреА рд░рд╣реА;  рд╕рд╛рдордиреЗ рдХреЗ рдЫреЛрд░ рдХреЗ рд▓рд┐рдП, рд╕рдм рдХреБрдЫ рдХрдо рд╕реНрдкрд╖реНрдЯ рд▓рдЧ рд░рд╣рд╛ рдерд╛ред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдореИрдВ рдЗрд╕реЗ рд╢реБрд░реВ рд╕реЗ рд╣реА рд╕рдордЭрддрд╛ рдерд╛, рдФрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдорд┐рдЯреНрдЯреА рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ рдерд╛ - рдЬрдм рдПрдХ "рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ" рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдХреА рдмрд╛рдд рд╕рд┐рд░реНрдл рд╢реБрд░реБрдЖрдд рдереАред  рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдХреЛрдб рдЬрдирд░реЗрдЯрд░ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрдИ рдмрд╛рдд рдирд╣реАрдВ рдереА;  рдореИрдВ рдмрд╕ рдХреБрдЫ рддреИрдпрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред </p><br><p>  рдореИрдВ рдирд┐рд░рд╛рд╢ рдерд╛ред  рджреЛ рд╕рдорд╕реНрдпрд╛рдПрдВ рдереАрдВ: OAS рд╕рдВрд╕реНрдХрд░рдг 3.0, рдЬрд┐рд╕рдХреЗ рд╕рд╣рд╛рд░реЗ, рдРрд╕рд╛ рд▓рдЧ рд░рд╣рд╛ рдерд╛, рдХреЛрдИ рднреА рдЬрд▓реНрджреА рдореЗрдВ рдирд╣реАрдВ рдерд╛, рдФрд░ рд╕реНрд╡рдпрдВ рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреА рдЧреБрдгрд╡рддреНрддрд╛ - рдЙрд╕ рд╕рдордп (рдореБрдЭреЗ рдпрд╛рдж рд╣реИ, рдпрд╣ рджреЛ рд╕рд╛рд▓ рдкрд╣рд▓реЗ рдерд╛), рдореИрдВ рджреЛ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рддреИрдпрд╛рд░ рд╕рдорд╛рдзрд╛рди рдЦреЛрдЬрдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рд░рд╣рд╛: <a href="https://github.com/swagger-api/swagger-codegen">рд╕реНрд╡реИрдЧрд░ рд╕реЗ</a> рдФрд░ Microsoft рд╕реЗ (рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ <a href="https://github.com/Azure/autorest">рдХрд┐</a> )ред  рдкрд╣рд▓реЗ рдореЗрдВ, OAS 3.0 рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдЧрд╣рд░реЗ рдмреАрдЯрд╛ рдореЗрдВ рдерд╛ред  рджреВрд╕рд░реЗ рдиреЗ рдХреЗрд╡рд▓ рд╕рдВрд╕реНрдХрд░рдг 2.x рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдХреЛрдИ рдЕрд╕реНрдкрд╖реНрдЯ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди рдирд╣реАрдВ рдерд╛ред  рд╡реИрд╕реЗ, рдореИрдВ рд╕реНрд╡реИрдЧрд░ 2.0 рдкреНрд░рд╛рд░реВрдк рдХреЗ рдкрд░реАрдХреНрд╖рдг рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдкрд░ рднреА Microsoft рдХреЛрдб рдЬрдирд░реЗрдЯрд░ рд╢реБрд░реВ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рдерд╛ред  рд╕реНрд╡реИрдЧрд░ рд╕реЗ рд╕рдорд╛рдзрд╛рди рдиреЗ рдХрд╛рдо рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди $ рд░реЗрдл рд▓рд┐рдВрдХ рд╡рд╛рд▓реА рдЕрдзрд┐рдХ рдпрд╛ рдХрдо рдЬрдЯрд┐рд▓ рдпреЛрдЬрдирд╛ рдПрдХ рд╕рдордЭ рд╕реЗ рдмрд╛рд╣рд░ рд╣реЛ рдЧрдИ! тАЭ, рдФрд░ рдкреБрдирд░рд╛рд╡рд░реНрддреА рдирд┐рд░реНрднрд░рддрд╛ рдиреЗ рдЗрд╕реЗ рдПрдХ рдЕрдВрддрд╣реАрди рд▓реВрдк рдореЗрдВ рднреЗрдЬ рджрд┐рдпрд╛ред  <a href="">рдЖрджрд┐рдо рдкреНрд░рдХрд╛рд░ рдХреА</a> рд╕рдорд╕реНрдпрд╛рдПрдВ рдереАрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореБрдЭреЗ рдпрд╣ рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрдпрд╛ рдХрд┐ рдСрдЯреЛ-рдЬреЗрдирд░реЗрдЯ рдХреА рдЧрдИ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рдХрд╛рдо рдХрд┐рдпрд╛ рдЬрд╛рдП - рд╡реЗ рджрд┐рдЦрд╛рд╡реЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдП рдЧрдП рдереЗ, рдФрд░ рдЙрдирдХреЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЙрдкрдпреЛрдЧ рд╕реЗ рдЙрдиреНрд╣реЛрдВрдиреЗ (рдореЗрд░реА рд░рд╛рдп рдореЗрдВ) рд╣рд▓ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рд╕рдорд╕реНрдпрд╛рдПрдВ рдкреИрджрд╛ рдХреАрдВред  рдФрд░ рдЕрдВрдд рдореЗрдВ, рдПрдирдкреАрдПрдо-рдЙрдиреНрдореБрдЦ рд╕реАрдЖрдИ / рд╕реАрдбреА рдореЗрдВ рдЬрд╛рд░ рдлрд╛рдЗрд▓ рдХрд╛ рдПрдХреАрдХрд░рдг рдЕрд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдерд╛: рдореБрдЭреЗ <a href="https://oss.sonatype.org/content/repositories/snapshots/io/swagger/codegen/v3/swagger-codegen-cli/3.0.15-SNAPSHOT/">рдЖрд╡рд╢реНрдпрдХ рд╕реНрдиреИрдкрд╢реЙрдЯ</a> рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдерд╛, рдЬреЛ 13 рдореЗрдЧрд╛рдмрд╛рдЗрдЯ рдХрд╛ рд╡рдЬрди рд▓рдЧрддрд╛ рдерд╛, рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рде рдХреБрдЫ рдХрд░рдирд╛ рдерд╛ред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдореИрдВрдиреЗ рдПрдХ рдмреНрд░реЗрдХ рд▓рд┐рдпрд╛ рдФрд░ рдпрд╣ рджреЗрдЦрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рдХрд┐ рдЖрдЧреЗ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИред </p><br><p>  рд▓рдЧрднрдЧ рдкрд╛рдБрдЪ рдорд╣реАрдиреЛрдВ рдХреЗ рдмрд╛рдж, рдХреЛрдб рдЬрдирд░реЗрд╢рди рдХрд╛ рдореБрджреНрджрд╛ рдлрд┐рд░ рд╕реЗ рдЙрдард╛ред  рдореБрдЭреЗ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрдирд╛ рдФрд░ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░рдирд╛ рдерд╛, рдФрд░ рд╕рд╛рде рд╣реА рдореИрдВ рдкреБрд░рд╛рдиреА рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд░реАрд╕реНрдЯ рдПрдкреАрдЖрдИ рдФрд░ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлрд┐рд░ рд╕реЗ рддреИрдпрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред  рд▓реЗрдХрд┐рди рдЬрдЯрд┐рд▓рддрд╛ рдХрд╛ рдЖрдХрд▓рди рдЖрд╢рд╛рд╡рд╛рджреА рдирд╣реАрдВ рдерд╛: рдПрдХ рдЖрджрдореА-рд╕рдкреНрддрд╛рд╣ рд╕реЗ рджреЛ рддрдХ - рдФрд░ рдпрд╣ рдХреЗрд╡рд▓ рдЖрд░рдИрдПрд╕ рд╕реЗрд╡рд╛рдУрдВ рдФрд░ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡рд┐рд╡рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рд╣реИред  рдореИрдВ рдпрд╣ рдирд╣реАрдВ рдХрд╣реВрдВрдЧрд╛ рдХрд┐ рдЗрд╕рдиреЗ рдореБрдЭреЗ рдмрд╣реБрдд рдЙрджрд╛рд╕ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреАред  рджреВрд╕рд░реА рдУрд░, рдореБрдЭреЗ рдХрднреА рднреА рдХреЛрдб рдЬрдирд░реЗрд╢рди рдХрд╛ рд╣рд▓ рдирд╣реАрдВ рдорд┐рд▓рд╛ рдФрд░ рдЗрдВрддрдЬрд╛рд░ рдирд╣реАрдВ рд╣реБрдЖ рдФрд░ рдЗрд╕рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рд╢рд╛рдпрдж рд╣реА рдХрдо рд╕рдордп рд▓рдЧрд╛ рд╣реЛрдЧрд╛ред  рдпрд╣реА рд╣реИ, рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреЛрдИ рд╕рд╡рд╛рд▓ рдирд╣реАрдВ рдерд╛: рд▓рд╛рдн рд╕рдВрджрд┐рдЧреНрдз рд╣реИ, рдЬреЛрдЦрд┐рдо рдорд╣рд╛рди рд╣реИрдВред  рдХреЛрдИ рднреА рдЗрд╕ рд╡рд┐рдЪрд╛рд░ рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░реЗрдЧрд╛, рдФрд░ рдореИрдВрдиреЗ рдкреНрд░рд╕реНрддрд╛рд╡ рдирд╣реАрдВ рдХрд┐рдпрд╛ред  рдЗрд╕ рдмреАрдЪ, рдордИ рдХреА рдЫреБрдЯреНрдЯрд┐рдпрд╛рдВ рдирдЬрд╝рджреАрдХ рдЖ рд░рд╣реА рдереАрдВ, рдФрд░ рдХрдВрдкрдиреА рдиреЗ рд╕рдкреНрддрд╛рд╣рд╛рдВрдд рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореБрдЭреЗ рдХрдИ рджрд┐рдиреЛрдВ рддрдХ "рдмрдХрд╛рдпрд╛" рджрд┐рдпрд╛ред  рджреЛ рд╕рдкреНрддрд╛рд╣ рдХреЗ рд▓рд┐рдП рдореИрдВ рдЬреЙрд░реНрдЬрд┐рдпрд╛ рдХреЗ рд╕рднреА рдХрд╛рдордХрд╛рдЬреА рдЕрдиреБрднрд╡реЛрдВ рд╕реЗ рджреВрд░ рднрд╛рдЧ рдЧрдпрд╛, рдЬрд╣рд╛рдВ рдореИрдВ рдПрдХ рдмрд╛рд░ рд▓рдЧрднрдЧ рдПрдХ рд╡рд░реНрд╖ рддрдХ рд░рд╣рддрд╛ рдерд╛ред </p><br><p>  рдкрд╛рд░реНрдЯрд┐рдпреЛрдВ рдФрд░ рджрд╛рд╡рддреЛрдВ рдХреЗ рдмреАрдЪ, рдореБрдЭреЗ рдХреБрдЫ рдХрд░рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рдереА, рдФрд░ рдореИрдВрдиреЗ рдЕрдкрдирд╛ рдлреИрд╕рд▓рд╛ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред  рд╡реЗрдХ рдкрд╛рд░реНрдХ рдХреЗ рдкрд╛рд╕ рдЧрд░реНрдорд┐рдпреЛрдВ рдХреЗ рдХреИрдлреЗ рдореЗрдВ рдХрд╛рдо рдХрд░рдирд╛ рдЖрд╢реНрдЪрд░реНрдпрдЬрдирдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрд╛рджрдХ рдерд╛, рдФрд░ рдореИрдВ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдХреЛрдб рдЬрдирд░реЗрдЯрд░ рдХреЗ рд╕рд╛рде рдкреАрдЯрд░ рдкрд░ рд▓реМрдЯ рдЖрдпрд╛ред  рдлрд┐рд░ рдПрдХ рдФрд░ рдорд╣реАрдиреЗ рдХреЗ рд▓рд┐рдП рдореИрдВрдиреЗ рд╕рдкреНрддрд╛рд╣рд╛рдВрдд рдкрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ "рдХрд╛рдо рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ" рд╕рдорд╛рдкреНрдд рдХрд░ рджрд┐рдпрд╛ред </p><br><p>  рд╢реБрд░реВ рд╕реЗ рд╣реА, рдореИрдВрдиреЗ рдЕрдкрдиреЗ рдЦреБрд▓реЗ рд╕рдордп рдореЗрдВ рдЗрд╕ рдкрд░ рдХрд╛рдо рдХрд░рддреЗ рд╣реБрдП, рдХреЛрдб рдЬрдирд░реЗрдЯрд░ рдХреЛ рдЦреЛрд▓ рджрд┐рдпрд╛ред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдЙрдиреНрд╣реЛрдВрдиреЗ рдПрдХ рдХрд╛рдо рдХреЗ рдорд╕реМрджреЗ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрд╛ред  рдореИрдВ рдпрд╣ рдирд╣реАрдВ рдХрд╣реВрдВрдЧрд╛ рдХрд┐ рд╕рдВрд╢реЛрдзрди / рд░рди-рдЗрди рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕рдорд╕реНрдпрд╛ рдХреЗ рдЪрд▓рд╛ рдЧрдпрд╛;  рдФрд░ рдореИрдВ рдпрд╣ рдирд╣реАрдВ рдХрд╣рддрд╛ рдХрд┐ рд╡реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдереЗред  рд▓реЗрдХрд┐рди рдХреБрдЫ рдмрд┐рдВрджреБ рдкрд░ рдореИрдВрдиреЗ рджреЗрдЦрд╛ рдХрд┐ рдореИрдВрдиреЗ Redoc / Swagger рдкреНрд░рд▓реЗрдЦрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдерд╛: рдХреЛрдб рдиреЗрд╡рд┐рдЧреЗрдЯ рдХрд░рдирд╛ рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдерд╛, рдмрд╢рд░реНрддреЗ рдХрд┐ рдХреЛрдб рд╣рдореЗрд╢рд╛ рдЕрджреНрдпрддрд┐рдд рд╣реЛ рдФрд░ рдЙрд╕ рдкрд░ рдЯрд┐рдкреНрдкрдгреА рдХреА рдЬрд╛рдПред  рдЬрд▓реНрдж рд╣реА, рдореИрдВрдиреЗ рдЕрдкрдиреА рдЙрдкрд▓рдмреНрдзрд┐рдпреЛрдВ рдХреЛ рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╡рд┐рдХрд╛рд╕ рдХреЗ, рдЬрдм рддрдХ рдХрд┐ рдПрдХ рд╕рд╣рдХрд░реНрдореА (рдЕрдм рдЫрд╣ рдорд╣реАрдиреЗ рдкрд╣рд▓реЗ рдПрдХ рдЕрдиреНрдп рдХрдВрдкрдиреА рдХреЗ рд▓рд┐рдП рдЫреЛрдбрд╝ рджрд┐рдпрд╛) рддрдХ рдореЗрд░реА рдЙрдкрд▓рдмреНрдзрд┐рдпреЛрдВ рдХреЛ "рд╕реНрдХреЛрд░" рдХрд┐рдпрд╛, рддреЛ рдореБрдЭреЗ рдЙрдиреНрд╣реЗрдВ рдФрд░ рдЕрдзрд┐рдХ рдЧрдВрднреАрд░рддрд╛ рд╕реЗ рд▓реЗрдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреА (рд╡рд╣ рднреА рдирд╛рдо рдХреЗ рд╕рд╛рде рдЖрдП)ред </p><br><blockquote>  рдореЗрд░реЗ рдкрд╛рд╕ рдкрд░реНрдпрд╛рдкреНрдд рдЦрд╛рд▓реА рд╕рдордп рдирд╣реАрдВ рдерд╛, рдФрд░ рдХрдИ рдорд╣реАрдиреЛрдВ рддрдХ рдореБрдЭреЗ рдкреГрд╖реНрдарднреВрдорд┐ рдореЗрдВ рдЕрдВрддрд┐рдо рд░реВрдк рджреЗрдиреЗ рдореЗрдВ рдорджрдж рдорд┐рд▓реА: <a href="https://stackblitz.com/edit/codegena-playground">рдЦреЗрд▓ рдХрд╛ рдореИрджрд╛рди</a> , рдкрд░реАрдХреНрд╖рдг рдЖрд╡реЗрджрди, рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХрд╛ рдкреБрдирд░реНрдЧрдардиред  рдЕрдм рдореИрдВ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реВрдВред </blockquote></div></div><br><a name="Description"></a><br><h2 id="opisanie">  рд╡рд┐рд╡рд░рдг </h2><br><p> рдлрд┐рд▓рд╣рд╛рд▓, рдХреЛрдб рдЬреЗрдирд░реЗрд╢рди рдХреЗ рд╕рдорд╛рдзрд╛рди рдореЗрдВ @ рдПрдирдкреАрдЬреА <code>@codegena</code> рдореЗрдВ рдПрдХреАрдХреГрдд рддреАрди рдПрдирдкреАрдПрдо рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдФрд░ рдПрдХ рдЖрдо <a href="https://github.com/koshevy/codegena">рдореЛрдиреЛ-рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА</a> рдореЗрдВ рд╕реНрдерд┐рдд <a href="https://github.com/koshevy/codegena">рд╣реИ</a> : </p><br><div class="scrollable-table"><table><thead><tr><th>  рдкреБрд╕реНрддрдХрд╛рд▓рдп </th><th>  рд╡рд┐рд╡рд░рдг </th></tr></thead><tbody><tr><td>  @ рдХреЛрдбреЗрдирд╛ / oapi3ts </td><td>  рдмреЗрд╕ рд▓рд╛рдЗрдмреНрд░реЗрд░реА OAS3 рд╕реЗ рдбреЗрдЯрд╛ рдЯрд╛рдЗрдк рд╡рд┐рд╡рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдирд╡рд░реНрдЯрд░ рд╣реИ (рдЕрдм рдХреЗрд╡рд▓ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ) </td></tr><tr><td>  @ рдХреЛрдбрдЧреИрдирд╛ / рдПрдирдЬреА-рдПрдкреА-рд╕реЗрд╡рд╛ </td><td>  рдХреЛрдгреАрдп рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╕реНрддрд╛рд░ </td></tr><tr><td>  @ рдХреЛрдбреЗрдирд╛ / рдУрдкреАрдЖрдИ 3 рдПрд╕рдЯреА-рдХреНрд▓реА </td><td>  рд╕реАрдПрд▓рдЖрдИ рд▓рд┐рдкрд┐рдпреЛрдВ рдореЗрдВ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рд╢реЗрд▓ </td></tr></tbody></table></div><br><a name="SetupAndUsing"></a><br><h3 id="ustanovka-i-ispolzovanie">  рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рдЙрдкрдпреЛрдЧ </h3><br><p>  CLI рд╕реЗ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ NodeJS рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд╡рд┐рдХрд▓реНрдк рд╣реИред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдирд┐рд░реНрднрд░рддрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">npm i @codegena/oapi3ts, @codegena/ng-api-service, @codegena/oapi3ts-cli</code> </pre> <br><p>  рдлрд┐рд░, рдХреЛрдб рдХреЗ рд╕рд╛рде рдПрдХ js рдлрд╝рд╛рдЗрд▓ (рдЙрджрд╛ред <code>update-typings.js</code> ред <code>update-typings.js</code> ) <code>update-typings.js</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">"use strict"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cliLib = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'@codegena/oapi3ts-cli'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cliApp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> cliLib.CliApplication; cliApp.createTypings(); <span class="hljs-comment"><span class="hljs-comment">// cliApp.createServices('angular'); // optional</span></span></code> </pre> <br><p>  рдФрд░ рддреАрди рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдкрд╛рд░рд┐рдд рдХрд░рдХреЗ рдЗрд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">node ./update-typings.js --srcPath ./specs/todo-app-spec.json --destPath ./src/lib --separatedFiles true</code> </pre> <br><p>  <code>destPath</code> рдЬрдирд░реЗрдЯ рдХреА рдЧрдИ рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣реЛрдВрдЧреА рдФрд░, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ <a href="https://github.com/koshevy/codegena/tree/master/libs/todo-app-scheme/src/lib">рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛</a> рдХреА рд╕рд╛рдордЧреНрд░реА рдЙрд╕реА рддрд░рд╣ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИред  <a href="">рдпрд╣рд╛рдБ рдЬреЗрдирд░реЗрдЯрд┐рдВрдЧ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╣реИ</a> , рдФрд░ <a href="">рдпрд╣ рдЗрд╕реА рддрд░рд╣</a> рд╕реЗ рдПрдирдкреАрдПрдо рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЪрд▓рддреА рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрджрд┐ рдЖрдк рдЪрд╛рд╣реЗрдВ, рддреЛ рдЖрдк рдЗрд╕реЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕рд╛ рдХрд┐ <a href="https://codegena-playground.stackblitz.io/">рдкреНрд▓реЗрдЧреНрд░рд╛рдЙрдВрдб</a> рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><a name="CodegenerationUsingPractice"></a><br><h2 id="praktika-ispolzovanie-kodogeneratora">  рдХреЛрдб рдЬрдирд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ </h2><br><p>  рдЖрдЧреЗ, рдореИрдВ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рд╣рдореЗрдВ рдЗрд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдХреНрдпрд╛ рдорд┐рд▓реЗрдЧрд╛: рдпрд╣ рд╡рд┐рдЪрд╛рд░ рд╣реИ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рд╣рдорд╛рд░реА рдорджрдж рдХрд░реЗрдЧрд╛ред  рдПрдХ рджреГрд╢реНрдп рд╕рд╣рд╛рдпрддрд╛ рдбреЗрдореЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдХреЛрдб рд╣реЛрдЧрд╛ред  рдЗрд╕рдореЗрдВ рджреЛ рднрд╛рдЧ рд╣реЛрддреЗ рд╣реИрдВ: рдПрдХ рдмреИрдХреЗрдВрдб ( <a href="https://nestjs.com/">рдиреЗрд╕реНрдЯрдЬреЗрдПрд╕</a> рдлреНрд░реЗрдорд╡рд░реНрдХ рдкрд░) рдФрд░ рдПрдХ <a href="https://nestjs.com/">рдлреНрд░рдВрдЯреЗрдВрдб</a> ( <a href="https://angular.io/">рдХреЛрдгреАрдп</a> рдкрд░)ред  рдЖрдк рдЪрд╛рд╣реЗрдВ рддреЛ <a href="https://github.com/koshevy/codegena/tree/5367749623826d270fb652e32fa394c023751877">рдЗрд╕реЗ рд╕реНрдерд╛рдиреАрдп рд╕реНрддрд░ рдкрд░</a> рднреА <a href="https://github.com/koshevy/codegena/tree/5367749623826d270fb652e32fa394c023751877">рдЪрд▓рд╛</a> рд╕рдХрддреЗ рд╣реИрдВред </p><br><blockquote>  рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдЖрдк рдХреЛрдгреАрдп рдФрд░ / рдпрд╛ NestJS рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдпрд╣ рд╕рдорд╕реНрдпрд╛ рдкреИрджрд╛ рдирд╣реАрдВ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП: рдХреЛрдб рдЙрджрд╛рд╣рд░рдг рдЬреЛ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗ, рдЙрдиреНрд╣реЗрдВ рд╕рдмрд╕реЗ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рд╕рдордЭрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </blockquote><p>  рдпрджреНрдпрдкрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЕрдзрд┐рдХрддрдо рд╕рд░рд▓реАрдХреГрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдмреИрдХрдПрдВрдб рдбреЗрдЯрд╛ рдХреЛ рдПрдХ рд╕рддреНрд░ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдирд╣реАрдВ), рдореИрдВрдиреЗ рдЗрд╕рдореЗрдВ рдбреЗрдЯрд╛ рдкреНрд░рд╡рд╛рд╣ рдФрд░ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдкрджрд╛рдиреБрдХреНрд░рдо рдХреЛ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА рдЬреЛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдореЗрдВ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рд╣реИрдВред  рдпрд╣ рд▓рдЧрднрдЧ 80-85% рддреИрдпрд╛рд░ рд╣реИ, рд▓реЗрдХрд┐рди "рдЦрддреНрдо" рд╣реЛрдиреЗ рдореЗрдВ рджреЗрд░реА рд╣реЛ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдЕрднреА рдХреЗ рд▓рд┐рдП рдпрд╣ рдмрд╛рдд рдХрд░рдирд╛ рдЕрдзрд┐рдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдкрд╣рд▓реЗ рд╕реЗ рдХреНрдпрд╛ рд╣реИред </p><br><a name="UsingGeneratedDataTypes"></a><br><h2 id="ispolzovanie-generiruemyh-tipov-dannyh-v-prilozheniyah">  рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рдЙрддреНрдкрдиреНрди рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ </h2><br><p>  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ OpenAPI рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <a href="">рдпрд╣ рдПрдХ</a> ) рдЬрд┐рд╕реЗ рд╣рдореЗрдВ рдХрд╛рдо рдХрд░рдирд╛ рд╣реИред  рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рд╣рдо рдЦрд░реЛрдВрдЪ рд╕реЗ рдХреБрдЫ рдмрдирд╛рддреЗ рд╣реИрдВ, рдпрд╛ рд╣рдо рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ, рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рд╣рдо - рдЯрд╛рдЗрдкрд┐рдВрдЧ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреА рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИред  рд╣рдо рдпрд╛ рддреЛ рдмреБрдирд┐рдпрд╛рджреА рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗрдВрдЧреЗ рдпрд╛ рдЙрдирдореЗрдВ рдмрджрд▓рд╛рд╡ рдХрд░реЗрдВрдЧреЗред  рдЕрдзрд┐рдХрд╛рдВрд╢ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдЕрдкрдиреЗ рднрд╡рд┐рд╖реНрдп рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдРрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рдкреНрд░рд▓реЗрдЦрди рдкрд░ рдзреНрдпрд╛рди рдирд╣реАрдВ рджреЗрдирд╛ рд╣реИ, рдкреИрд░рд╛рдореАрдЯрд░ рд▓рд┐рд╕реНрдЯрд┐рдВрдЧ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦреЗрдВ;  рдФрд░ рдЖрдк рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЖрдИрдбреАрдИ рдФрд░ / рдпрд╛ рдХрдВрдкрд╛рдЗрд▓рд░ рдПрдХ рдЯрд╛рдЗрдкреЛ рдХреЛ рдиреЛрдЯрд┐рд╕ рдХрд░реЗрдЧрд╛ред </p><br><p>  рд╣рдорд╛рд░реЗ рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдореЗрдВ <a href="">рдШрдЯрдХреЛрдВ рдХреЛ</a> рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдорд╛рдкрджрдВрдбреЛрдВ, рдЕрдиреБрд░реЛрдзреЛрдВ рдФрд░ рдЙрддреНрддрд░реЛрдВ рдХреЗ рд╕реЗрдЯ рдХрд╛ рд╡рд░реНрдгрди рдХрд░реЗрдЧрд╛ - рдФрд░ рд╣рдо рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: </p><br><pre> <code class="javascript hljs">@Controller(<span class="hljs-string"><span class="hljs-string">'group'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... @Put(':groupId') rewriteGroup( @Param(ParseQueryPipe) { groupId }: RewriteGroupParameters, @Body() body: RewriteGroupRequest, @Session() session ): RewriteGroupResponse&lt;HttpStatus.OK&gt; { return this.appService .setSession(session) .rewriteGroup(groupId, body); } // ... }</span></span></code> </pre> <br><p>  рдпрд╣ рдкреИрд░рд╛рдореАрдЯрд░ ( <code>RewriteGroupParameters</code> ), рдЕрдиреБрд░реЛрдз рдирд┐рдХрд╛рдп ( <code>RewriteGroupRequest</code> ) рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдирд┐рдХрд╛рдп ( <code>RewriteGroupResponse&lt;T&gt;</code> ) <code>RewriteGroupResponse&lt;T&gt;</code> рдиреЗрд╕реНрдЯрдЬреЗрдПрд╕ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдПрдХ <a href="">рдирд┐рдпрдВрддреНрд░рдХ</a> рдЯреБрдХрдбрд╝рд╛ рд╣реИред  рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЗрд╕ рдХреЛрдб рдХреЗ рдЯреБрдХрдбрд╝реЗ рдореЗрдВ рд╣рдо рдЯрд╛рдЗрдкрд┐рдВрдЧ рдХреЗ рд▓рд╛рдн рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><ul><li>  рдпрджрд┐ рд╣рдо рдирд╖реНрдЯ рдХрд┐рдП рдЧрдП рдкреИрд░рд╛рдореАрдЯрд░ <code>groupId</code> рдХреЗ рдирд╛рдо рдХреЛ рднреНрд░рдорд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ <code>groupId</code> рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп, рд╣рдореЗрдВ рддреБрд░рдВрдд рд╕рдВрдкрд╛рджрдХ рдореЗрдВ рдПрдХ рддреНрд░реБрдЯрд┐ рдорд┐рд▓рддреА рд╣реИред <br><img src="https://habrastorage.org/webt/1z/2q/0c/1z2q0cstw2lv3vncwmgi8gkxfa0.png"></li><li>  рдпрджрд┐ рдпрд╣ <a href="">.appService.rewriteGroup (groupId, body)</a> рд╡рд┐рдзрд┐ рдореЗрдВ рдкреИрд░рд╛рдореАрдЯрд░ рдЯрд╛рдЗрдк рдХрд┐рдП рдЧрдП рд╣реИрдВ, рддреЛ рд╣рдо рдкрд╛рд╕ рдХрд┐рдП рдЧрдП <code>body</code> рдкреИрд░рд╛рдореАрдЯрд░ рдХреА рд╢реБрджреНрдзрддрд╛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдФрд░ рдЕрдЧрд░ рдирд┐рдпрдВрддреНрд░рдХ рд╡рд┐рдзрд┐ рдпрд╛ рд╕реЗрд╡рд╛ рдкрджреНрдзрддрд┐ рдХрд╛ рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рдкреНрд░рд╛рд░реВрдк рдмрджрд▓рддрд╛ рд╣реИ, рддреЛ рд╣рдо рддреБрд░рдВрдд рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рди рдЬрд╛рдПрдВрдЧреЗред  рдЖрдЧреЗ рджреЗрдЦрддреЗ рд╣реБрдП, рдореИрдВ рдзреНрдпрд╛рди рджреЗрддрд╛ рд╣реВрдВ рдХрд┐ рд╕реЗрд╡рд╛ рдкрджреНрдзрддрд┐ рдХреА рдЗрдирдкреБрдЯ рд╡рд┐рдзрд┐ рдХрд╛ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ <code>RewriteGroupRequest</code> рд╕реЗ <code>RewriteGroupRequest</code> , рд▓реЗрдХрд┐рди рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╡реЗ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рдорд╛рди рд╣реЛрдВрдЧреЗред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЕрдЧрд░ рдЕрдЪрд╛рдирдХ рд╕реЗрд╡рд╛ рдкрджреНрдзрддрд┐ рдмрджрд▓ рджреА рдЬрд╛рддреА рд╣реИ, рдФрд░ <code>ToDoGroup</code> рдмрдЬрд╛рдп <code>ToDoGroup</code> рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ <code>ToDoGroupBlank</code> , рддреЛ IDE рдФрд░ рдХрдВрдкрд╛рдЗрд▓рд░ рддреБрд░рдВрдд рд╡рд┐рд╕рдВрдЧрддрд┐рдпреЛрдВ рдХреЗ рд╕реНрдерд╛рди рджрд┐рдЦрд╛рдПрдЧрд╛: <br><img src="https://habrastorage.org/webt/wo/cq/rr/wocqrrks2gtcthaq_wghrhlbbta.png"></li><li>  рдЙрд╕реА рддрд░рд╣, рд╣рдо рд▓реМрдЯреЗ рдкрд░рд┐рдгрд╛рдо рдХреЗ рдЕрдиреБрдкрд╛рд▓рди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрджрд┐ рдПрдХ рд╕рдлрд▓ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдЕрдЪрд╛рдирдХ рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдореЗрдВ рдмрджрд▓ рдЬрд╛рддреА рд╣реИ рдФрд░ <code>200</code> рдмрдЬрд╛рдп <code>202</code> рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ рд╣рдо рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдкрддрд╛ <code>RewriteGroupResponse</code> , рдХреНрдпреЛрдВрдХрд┐ <code>RewriteGroupResponse</code> <a href="">рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд╣реИ</a> : <br><img src="https://habrastorage.org/webt/pt/io/ss/ptiossjjfhihchrlwdlydrrkft4.png"></li></ul><br><p>  рдЕрдм рдЖрдЗрдП <a href="">рд╕рд╛рдордиреЗ рд╡рд╛рд▓реЗ рдЫреЛрд░ рд╕реЗ рдПрдХ рдЙрджрд╛рд╣рд░рдг</a> рджреЗрдЦреЗрдВ рдЬреЛ <a href="">рдПрдХ</a> <a href="">рдФрд░ рдПрдкреАрдЖрдИ рд╡рд┐рдзрд┐ рдХреЗ</a> рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initSelectedGroupData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(truth: ComponentTruth)</span></span></span><span class="hljs-function">: Observable&lt;ComponentTruth&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getGroupsService.request(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, { isComplete: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, withItems: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }).pipe( pickResponseBody&lt;GetGroupsResponse&lt;<span class="hljs-number"><span class="hljs-number">200</span></span>&gt;&gt;(<span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>), switchMap&lt;ToDoGroup[], Observable&lt;ComponentTruth&gt;&gt;( groups =&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.loadItemsOfSelectedGroups({ ...truth, groups }) ) ); }</code> </pre> <br><p>  рдЪрд▓реЛ рдЦреБрдж рд╕реЗ рдЖрдЧреЗ рдирд╣реАрдВ рдирд┐рдХрд▓рддреЗ рд╣реИрдВ рдФрд░ рдХрд╕реНрдЯрдо рдЖрд░рдПрдХреНрд╕рдЬреЗрдПрд╕ рдСрдкрд░реЗрдЯрд░ <code>pickResponseBody</code> рдкрд╛рд░реНрд╕ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдореЗрдВ <code>GetGroupsResponse</code> рдЯрд╛рдЗрдк рдХреЗ рд╢реЛрдзрди рдкрд░ рдзреНрдпрд╛рди рджреЗрдВред  рд╣рдо рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ RxJS рдСрдкрд░реЗрдЯрд░реЛрдВ рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдСрдкрд░реЗрдЯрд░ рдЗрд╕рдХреЗ рдмрд╛рдж <code>ToDoGroup[]</code> рдХрд╛ рдЗрдирдкреБрдЯ рдкрд░рд┐рд╢реЛрдзрди рдХрд░рддрд╛ рд╣реИред <code>ToDoGroup[]</code>  рдпрджрд┐ рдпрд╣ рдХреЛрдб рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рддреЛ рд╕рдВрдХреЗрддрд┐рдд рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реИрдВред  рдпрд╣рд╛рдВ рд╣рдо рдЯрд╛рдЗрдк рдорд┐рд▓рд╛рди рд╕реЗ рднреА рдирд┐рдпрдВрддреНрд░рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдпрджрд┐ рд╣рдорд╛рд░реЗ рдПрдкреАрдЖрдИ рдореЗрдВ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕реНрд╡рд░реВрдк рдЕрдЪрд╛рдирдХ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╣рдорд╛рд░реЗ рдзреНрдпрд╛рди рд╕реЗ рдирд╣реАрдВ рд╣рдЯреЗрдЧрд╛ </p><br><p><img src="https://habrastorage.org/webt/ci/hr/7c/cihr7csbo5kqn9fqkreoij7kuxk.png"></p><br><p>  рдФрд░ рд╣рд╛рдВ, рдЗрд╕ <code>this.getGroupsService.request</code> рдХреЗ рдХреЙрд▓ рдкреИрд░рд╛рдореАрдЯрд░ рднреА рдЯрд╛рдЗрдк рдХрд┐рдП рдЧрдП рд╣реИрдВред  рд▓реЗрдХрд┐рди рдпрд╣ рдЙрддреНрдкрдиреНрди рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рд╡рд┐рд╖рдп рд╣реИред </p><br><blockquote>  рдЙрдкрд░реЛрдХреНрдд рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ, рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдЕрдиреБрд░реЛрдзреЛрдВ, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ, рдФрд░ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдЯрд╛рдЗрдкрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╡рд┐рднрд┐рдиреНрди рднрд╛рдЧреЛрдВ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ - рдлреНрд░рдВрдЯреЗрдВрдб, рдмреИрдХрдПрдВрдб рдЗрддреНрдпрд╛рджрд┐ред  рдпрджрд┐ рдмреИрдХрдПрдВрдб рдФрд░ рдлреНрд░рдВрдЯреЗрдВрдб рдПрдХ рд╣реА рдореЛрдиреЛ-рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рд╣реИрдВ рдФрд░ рдПрдХ рд╕рдВрдЧрдд рдЗрдХреЛ-рдкрд░реНрдпрд╛рд╡рд░рдг рд╣реИ, рддреЛ рд╡реЗ рдЙрддреНрдкрдиреНрди рдХреЛрдб рдХреЗ рд╕рд╛рде рд╕рдорд╛рди <a href="https://github.com/koshevy/codegena/tree/5367749623826d270fb652e32fa394c023751877/libs/todo-app-scheme">рд╕рд╛рдЭрд╛ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛</a> рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рднрд▓реЗ рд╣реА рдмреИрдХрдПрдВрдб рдФрд░ рдлреНрд░рдВрдЯрдПрдВрдб рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЯреАрдореЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдорд░реНрдерд┐рдд рд╣реИрдВ, рдФрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдУрдПрдПрд╕ рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдХреБрдЫ рднреА рд╕рд╛рдорд╛рдиреНрдп рдирд╣реАрдВ рд╣реИ, рдлрд┐рд░ рднреА рдЙрдирдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рдХреЛрдб рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реЛрдЧрд╛ред </blockquote><br><a name="DecompositionInOAS"></a><br><h2 id="dekompoziciya-shem-vnutri-oas-specifikacii">  OAS рд╡рд┐рдирд┐рд░реНрджреЗрд╢рди рдХреЗ рднреАрддрд░ рд╕рд░реНрдХрд┐рдЯ рдХрд╛ рдЕрдкрдШрдЯрди </h2><br><p>  рд╕рдВрднрд╡рддрдГ, рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ, рдЖрдкрдиреЗ <code>ToDoGroupBlank</code> , <code>ToDoGroup</code> рдзреНрдпрд╛рди рджрд┐рдпрд╛, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде <code>RewriteGroupResponse</code> рдФрд░ <code>GetGroupsResponse</code> ред  рджрд░рдЕрд╕рд▓, <code>RewriteGroupResponse</code> рдХреЗрд╡рд▓ <code>ToDoGroup</code> , <code>HttpErrorBadRequest</code> , рдЖрджрд┐ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрдирд╛рдо рд╣реИред  рдпрд╣ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдирд╛ рдЖрд╕рд╛рди рд╣реИ рдХрд┐ <a href="">ToDoGroup</a> рдФрд░ <a href="">HttpErrorBadRequest</a> рджреЛрдиреЛрдВ <a href="">рдХрдВрдкреЛрдиреЗрдВрдЯреНрд╕</a> рдХреА рд╕реНрдХреАрдо рд╣реИрдВред <a href="">rehemiteGroup рдПрдВрдбрдкреЙрдЗрдВрдЯ</a> (рд╕реАрдзреЗ рдпрд╛ <a href="">рдмрд┐рдЪреМрд▓рд┐рдпреЛрдВ рдХреЗ</a> рдорд╛рдзреНрдпрдо рд╕реЗ) рджреНрд╡рд╛рд░рд╛ рд╕рдВрджрд░реНрднрд┐рдд <a href="">рд╕реНрдкреЗрд╕рд┐рдлрд┐рдХреЗрд╢рди редschems</a> рд╕реЗрдХреНрд╢рди рд╕реЗрдХреНрд╢рди: </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"responses"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"200"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Todo group saved"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"content"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"application/json"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"schema"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/ToDoGroup"</span></span> } } } }, <span class="hljs-attr"><span class="hljs-attr">"400"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/responses/errorBadRequest"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"404"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/responses/errorGroupNotFound"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"409"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/responses/errorConflict"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"500"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/responses/errorServer"</span></span> } }</code> </pre><br><p>  рдпрд╣ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХрд╛ рд╕рд╛рдорд╛рдиреНрдп рдЕрдкрдШрдЯрди рд╣реИ, рдФрд░ рдЗрд╕рдХрд╛ рд╕рд┐рджреНрдзрд╛рдВрдд рдЕрдиреНрдп рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛рдУрдВ рдХреА рддрд░рд╣ рд╣реА рд╣реИред  рдШрдЯрдХ, рдмрджрд▓реЗ рдореЗрдВ, рд╡рд┐рдШрдЯрд┐рдд рднреА рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ: рдЕрдиреНрдп рдШрдЯрдХреЛрдВ (рдкреБрдирд░рд╛рд╡рд░реНрддреА рд╕рд╣рд┐рдд), рд╕рдВрдпреЛрдЬрди рдФрд░ рдЕрдиреНрдп JSON рд╕реНрдХреАрдорд╛ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рд▓реЗрдХрд┐рди рдЬрдЯрд┐рд▓рддрд╛ рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛, рдЙрдиреНрд╣реЗрдВ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд╡рд┐рд╡рд░рдг рдореЗрдВ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдореИрдВ рджрд┐рдЦрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдЖрдк OpenAPI рдореЗрдВ рдЕрдкрдШрдЯрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЙрддреНрдкрдиреНрди рдХреЛрдб рдХреИрд╕реЗ рджрд┐рдЦреЗрдЧрд╛ред </p><br><blockquote>  рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдП рдЧрдП OAS рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдореЗрдВ рдШрдЯрдХ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ DDD рдореЙрдбрд▓ рдХреЗ рд╕рд╛рде рдУрд╡рд░рд▓реИрдк рдХрд░реЗрдВрдЧреЗред  рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдЕрдкреВрд░реНрдг рд╣реИ, рддреЛ рдЖрдк рдЗрд╕ рдкрд░ рднрд░реЛрд╕рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрдкрдиреЗ рдбреЗрдЯрд╛ рдореЙрдбрд▓ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдкрддреНрд░рд╛рдЪрд╛рд░ рдкрд░ рдПрдХреАрдХреГрдд рдЙрдкрддрдВрддреНрд░реЛрдВ рдХреЗ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдЕрдзрд┐рдХ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рджрд╛рди рдХрд░реЗрдЧрд╛ред </blockquote><p>  рдЪреВрдВрдХрд┐ рд╣рдорд╛рд░рд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛рд░реНрдпреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рд╣реИ, рдореБрдЦреНрдп рд╕рд╛рд░ рдЯрд╛рд╕реНрдХ рд╣реИред  рдЗрд╕реЗ рдкрд╣рд▓реА рдЬрдЧрд╣ рдореЗрдВ рдШрдЯрдХреЛрдВ рдореЗрдВ рд░рдЦрдирд╛ рддрд░реНрдХрд╕рдВрдЧрдд рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  рдЕрдиреНрдп рдирд┐рдХрд╛рдп рдФрд░ рд╕рдорд╛рдкрди рдмрд┐рдВрджреБ рдХрд┐рд╕реА рди рдХрд┐рд╕реА рддрд░рд╣ рд╕реЗ рдЗрд╕рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗ рд╣реЛрдВрдЧреЗред  рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рджреЛ рдмрд╛рддреЗрдВ рд╕рдордЭрдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ: </p><br><ul><li>  рд╣рдо рди рдХреЗрд╡рд▓ рдЕрдореВрд░реНрддрддрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реИрдВ, рдмрд▓реНрдХрд┐ рд╕рддреНрдпрд╛рдкрди рдХреЗ рдирд┐рдпрдо рднреА рд╣реИрдВ, рдФрд░ рд╡реЗ рдЬрд┐рддрдиреЗ рд╕рдЯреАрдХ рдФрд░ рдЕрд╕реНрдкрд╖реНрдЯ рд╣реИрдВ, рдЙрддрдирд╛ рдмреЗрд╣рддрд░ рд╣реИред </li><li>  рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рд╕реА рднреА рдЗрдХрд╛рдИ рдХреА рддрд░рд╣, рдПрдХ рдХрд╛рд░реНрдп рдореЗрдВ рджреЛ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЧреБрдг рд╣реЛрддреЗ рд╣реИрдВ: рд╕реЗрд╡рд╛ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рджрд░реНрдЬред </li></ul><br><p>  рдпрд╣ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐, рдЙрдкрдпреЛрдЧ рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЛ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдПрдВ рд╣реИрдВ: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЧрдП рдХрд╛рд░реНрдп рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд╛рд░реНрдпред  рджреВрд╕рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕рдореЗрдВ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдпреВрдЖрдИрдбреА, рдирд┐рд░реНрдорд╛рдг рдХреА рддрд╛рд░реАрдЦ, рдкрд░рд┐рд╡рд░реНрддрди рдЖрджрд┐ рд╣реИрдВ, рдФрд░ рдпрд╣ рдбреЗрдЯрд╛ рдмреИрдХрдПрдВрдб рдкрд░ рд╕реМрдВрдкрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдореИрдВрдиреЗ рджреЛ рд╕рдВрд╕реНрдерд╛рдУрдВ ( <code>ToDoTaskBlank</code> рдФрд░ <code>ToDoTask</code> ) рдХрд╛ рдЗрд╕ рддрд░рд╣ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рд╣реИ рдХрд┐ рдкрд╣рд▓рд╛ рджреВрд╕рд░реЗ рдХрд╛ рд╕рдмрд╕реЗрдЯ рд╣реИ: </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"components"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ToDoTaskBlank"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Base part of data of item in todo's group"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Data about group item needed for creation of it"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"groupUid"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"An unique id of group that item belongs to"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/Uid"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Short brief of task to be done"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"minLength"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"maxLength"</span></span>: <span class="hljs-number"><span class="hljs-number">64</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Detailed description and context of the task. Allowed using of Common Markdown."</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: [<span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"null"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"minLength"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">"maxLength"</span></span>: <span class="hljs-number"><span class="hljs-number">1024</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"isDone"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Status of task: is done or not"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"default"</span></span>: <span class="hljs-string"><span class="hljs-string">"false"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"position"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Position of a task in group. Allows to track changing of state of a concrete item, including changing od position."</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"number"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"min"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"max"</span></span>: <span class="hljs-number"><span class="hljs-number">4096</span></span>, <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"attachments"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"array"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Any material attached to the task: may be screenshots, photos, pdf- or doc- documents on something else"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"items"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/AttachmentMeta"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"maxItems"</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: [] } }, <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"isDone"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"isDone"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Book soccer field"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"The complainant agreed and recruited more members to play soccer."</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"ToDoTask"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Item in todo's group"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Describe data structure of an item in group of tasks"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"allOf"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/ToDoTaskBlank"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"uid"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"An unique id of task"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/Uid"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"readOnly"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"dateCreated"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Date/time (ISO) when task was created"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"format"</span></span>: <span class="hljs-string"><span class="hljs-string">"date-time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"readOnly"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: <span class="hljs-string"><span class="hljs-string">"2019-11-17T11:20:51.555Z"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"dateChanged"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Date/time (ISO) when task was changed last time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"format"</span></span>: <span class="hljs-string"><span class="hljs-string">"date-time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"readOnly"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: <span class="hljs-string"><span class="hljs-string">"2019-11-17T11:20:51.555Z"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"dateChanged"</span></span>, <span class="hljs-string"><span class="hljs-string">"dateCreated"</span></span>, <span class="hljs-string"><span class="hljs-string">"position"</span></span>, <span class="hljs-string"><span class="hljs-string">"uid"</span></span> ] } ] } }</code> </pre> <br><p>  рдЖрдЙрдЯрдкреБрдЯ рдкрд░, рд╣рдореЗрдВ рджреЛ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЗрдВрдЯрд░рдлреЗрд╕ рдорд┐рд▓рддреЗ рд╣реИрдВ, рдФрд░ <a href="">рдкрд╣рд▓реЗ</a> рдХреЛ <a href="">рджреВрд╕рд░реЗ</a> рджреНрд╡рд╛рд░рд╛ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓реЗрдЧрд╛: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * ## Base part of data of item in todo's group * Data about group item needed for creation of it */</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoTaskBlank</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... imagine there are ToDoTaskBlank properties } /** * ## Item in todo's group * Describe data structure of an item in group of tasks */ export interface ToDoTask extends ToDoTaskBlank { /** * ## UID of element * An unique id of task */ readonly uid: string; /** * Date/time (ISO) when task was created */ readonly dateCreated: string; /** * Date/time (ISO) when task was changed last time */ readonly dateChanged: string; // ... imagine there are ToDoTaskBlank properties }</span></span></code> </pre> <br><p>  рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЯрд╛рд╕реНрдХ рдЗрдХрд╛рдИ рдХрд╛ рдореВрд▓ рд╡рд┐рд╡рд░рдг рд╣реИ, рдФрд░ рд╣рдо рдЙрдиреНрд╣реЗрдВ <strong>рдЕрдкрдиреЗ рдЖрд╡реЗрджрди рдХреЗ рдХреЛрдб рдореЗрдВ</strong> рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдЬреИрд╕рд╛ рдХрд┐ <a href="">рдбреЗрдореЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди</a> рдореЗрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ToDoTask, ToDoTaskBlank, } from <span class="hljs-string"><span class="hljs-string">'@our-npm-scope/our-generated-lib'</span></span>; export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoTaskTeaser</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoTask</span></span></span><span class="hljs-class"> </span></span>{ isInvalid?: <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Means this task just created, has temporary uid * and not saved yet. */</span></span> isJustCreated?: <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Means this task is saving now. */</span></span> isPending?: <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Previous uid of task temporary assigned until * it gets saved and gets new UID from backend. */</span></span> prevTempUid?: string; }</code> </pre> <br><p>  рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рд╣рдордиреЗ рдПрдХ рдирдИ рдЗрдХрд╛рдИ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рд╣реИ, рдЬреЛ рдЙрди рдЧреБрдгреЛрдВ рдХреЛ <code>ToDoTask</code> рдЬрд┐рдирдХреЗ рд╕рд╛рдордиреЗ рдлреНрд░рдВрдЯ-рдПрдВрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рд╛рдЗрдб рдХреА рдХрдореА рд╣реИред  рдпрд╣реА рд╣реИ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╣рдордиреЗ рдкрд░рд┐рдгрд╛рдореА рдбреЗрдЯрд╛ рдореЙрдбрд▓ рдХреЛ рд╕реНрдерд╛рдиреАрдп рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд┐рдпрд╛ред  рдЗрд╕ рдореЙрдбрд▓ рдХреЗ рдЖрд╕рдкрд╛рд╕, <a href="">рд╕реНрдерд╛рдиреАрдп рдЙрдкрдХрд░рдгреЛрдВ</a> рдХрд╛ рдПрдХ рд╕реЗрдЯ рдФрд░ рдПрдХ рдЖрджрд┐рдо рдбреАрдЯреАрдУ рдХреА рддрд░рд╣ рдХреБрдЫ рдзреАрд░реЗ-рдзреАрд░реЗ рдмрдврд╝рддрд╛ рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">downgradeTeaserToTask</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> taskTeaser: ToDoTaskTeaser </span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToDoTask</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> task = { ...taskTeaser }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!task.description || !task.description.trim()) { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.description; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { task.description = task.description.trim(); } <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.isJustCreated; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.isPending; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.prevTempUid; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> task; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">downgradeTeaserToTaskBlank</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> taskTeaser: ToDoTaskTeaser </span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToDoTaskBlank</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> task = downgradeTeaserToTask(taskTeaser) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> any; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.dateChanged; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.dateCreated; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.uid; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> task; }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">рдХреЛрдИ рдбреЗрдЯрд╛ рдореЙрдбрд▓ рдХреЛ рдЕрдзрд┐рдХ рдЕрднрд┐рдиреНрди рдмрдирд╛рдиреЗ рдФрд░ рдХрдХреНрд╖рд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реИред</b> <div class="spoiler_text"><pre> <code class="java hljs">export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoTaskTeaser</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoTask</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// тАж imagine, definitions from ToDoTask are here constructor( task: ToDoTask, public isInvalid?: boolean, public isJustCreated?: boolean, public isPending?: boolean, public prevTempUid?: string ) { Object.assign(this, task); } downgradeTeaserToTask(): ToDoTask { const task = {...this}; if (!task.description || !task.description.trim()) { delete task.description; } else { task.description = task.description.trim(); } delete task.isJustCreated; delete task.isPending; delete task.prevTempUid; return task; } downgradeTeaserToTaskBlank(): ToDoTaskBlank { // тАж some code } }</span></span></code> </pre> </div></div><br><p>  рд▓реЗрдХрд┐рди рдпрд╣ рд╢реИрд▓реА, рдЙрдкрдпреБрдХреНрддрддрд╛ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдХреИрд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рд╣реЛрдЧрд╛, рдпрд╣ рдПрдХ рд╕рд╡рд╛рд▓ рд╣реИред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛, рд╣рдо рдПрдХ рдмреБрдирд┐рдпрд╛рджреА рдбреЗрдЯрд╛ рдореЙрдбрд▓ рдкрд░ рднрд░реЛрд╕рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЯрд╛рдЗрдкрд┐рдВрдЧ рдХреА рдЕрдиреБрд░реВрдкрддрд╛ рдкрд░ рдЕрдзрд┐рдХ рдирд┐рдпрдВрддреНрд░рдг рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ <code>ToDoTask</code> рдХрд╛ <code>uid</code> рдПрдХ рдирдВрдмрд░ рдмрди рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣рдореЗрдВ рдЙрд╕ рдХреЛрдб рдХреЗ рд╕рднреА рднрд╛рдЧреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрддрд╛ рдЪрд▓ рдЬрд╛рдПрдЧрд╛ рдЬрд┐рдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/cc/7g/yz/cc7gyzy0tc4oh5zpomvjy09endw.png"></p><br><a name="NestedDecomposition"></a><br><h2 id="vlozhennaya-dekompoziciya">  рдиреЗрд╕реНрдЯреЗрдб рдЕрдкрдШрдЯрди </h2><br><p>  рдЗрд╕рд▓рд┐рдП рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ <code>ToDoTask</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╣реИ рдФрд░ рд╣рдо рдЗрд╕реЗ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕реА рдкреНрд░рдХрд╛рд░, рд╣рдо <a href="">ToDoTaskGroup</a> рдФрд░ <a href="">ToDoTaskGroupBlank рдХрд╛</a> рд╡рд░реНрдгрди рдХрд░реЗрдВрдЧреЗ, рдФрд░ рдЙрдирдореЗрдВ рдХреНрд░рдорд╢рдГ <code>ToDoTask</code> рдФрд░ <code>ToDoTaskBlank</code> рдкреНрд░рдХрд╛рд░ рдХреЗ рдЧреБрдг рд╣реЛрдВрдЧреЗред  рд▓реЗрдХрд┐рди рдЕрдм рд╣рдо "рдЯрд╛рд╕реНрдХ рдЧреНрд░реБрдк" рдХреЛ рджреЛ, рддреАрди рдирд╣реАрдВ, рдШрдЯрдХреЛрдВ рдореЗрдВ <a href="">рддреЛрдбрд╝реЗрдВрдЧреЗ</a> : рд╕реНрдкрд╖реНрдЯрддрд╛ рдХреЗ рд▓рд┐рдП, рд╣рдо <a href="">ToDoGroupExtendedData</a> рдореЗрдВ рдбреЗрд▓реНрдЯрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░реЗрдВрдЧреЗред  рдЗрд╕рд▓рд┐рдП рдореИрдВ рдПрдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдШрдЯрдХ рдЕрдиреНрдп рджреЛ рд╕реЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">"ToDoGroup": { "allOf": [ { "$ref": "#/components/schemas/ToDoGroupBlank" }, { "$ref": "#/components/schemas/ToDoGroupExtendedData" } ] }</code> </pre> <br><p>  рдХреЛрдб рдкреАрдврд╝реА рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдирд┐рд░реНрдорд╛рдг рдорд┐рд▓рддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs">export type ToDoGroup = ToDoGroupBlank &amp; <span class="hljs-comment"><span class="hljs-comment">// Data needed for group creation ToDoGroupExtendedData; // Extended data has to be obtained after first save</span></span></code> </pre> <br><p>  рдЪреВрдВрдХрд┐ <code>ToDoGroup</code> рдЕрдкрдирд╛ "рдирд┐рдХрд╛рдп" рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХреЛрдб рдЬрдирд░реЗрдЯрд░ рдиреЗ рдЗрд╕реЗ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд╕рдВрдШ рдореЗрдВ рдмрджрд▓рдирд╛ рдкрд╕рдВрдж рдХрд┐рдпрд╛ред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рд╕реНрд╡рдпрдВ рдХреА (рдЕрдирд╛рдо) рдпреЛрдЬрдирд╛ рдХреЗ рд╕рд╛рде рддреАрд╕рд░рд╛ рднрд╛рдЧ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдкрд░рд┐рдгрд╛рдо рджреЛ рдкреВрд░реНрд╡рдЬреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╣реЛрдЧрд╛ (рд▓реЗрдХрд┐рди рдРрд╕рд╛ рдирд╣реАрдВ рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реИ)ред  рдФрд░ рдЖрдЗрдП рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ <code>ToDoGroupBlank</code> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреА <code>items</code> рдкреНрд░реЙрдкрд░реНрдЯреАрдЬрд╝ рдХреЛ <code>ToDoGroupBlank</code> рдПрдХ рд╕рд░рдгреА рдХреЗ рд░реВрдк <code>ToDoGroupBlank</code> рдЯрд╛рдЗрдк рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ <code>ToDoGroupBlank</code> рдореЗрдВ <code>ToDoGroupBlank</code> рдкрд░ рдирдП рд╕рд┐рд░реЗ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдХреЛрдб рдЬрдирд░реЗрдЯрд░ JSON рд╕реНрдХреАрдорд╛ рд╕реЗ TypeScipt рдореЗрдВ рдЕрдкрдШрдЯрди рдХреА рдмрд▓реНрдХрд┐ рдЬрдЯрд┐рд▓ рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИред </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* tslint:disable */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ToDoTaskBlank } from <span class="hljs-string"><span class="hljs-string">'./to-do-task-blank'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * ## Base part of data of group * Data needed for group creation */</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoGroupBlank</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... items?: Array&lt;ToDoTaskBlank&gt;; // ... }</span></span></code> </pre> <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* tslint:disable */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ToDoTask } from <span class="hljs-string"><span class="hljs-string">'./to-do-task'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * ## Extended data of group * Extended data has to be obtained after first save */</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoGroupExtendedData</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... items: Array&lt;ToDoTask&gt;; }</span></span></code> </pre><br><p>  рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ, <code>ToDoTask</code> / <code>ToDoTaskBlank</code> рд╣рдо рдЕрдкрдШрдЯрди рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЖрдкрдиреЗ рджреЗрдЦрд╛ рд╣реЛрдЧрд╛ рдХрд┐ <code>attachments</code> рдкреНрд░реЙрдкрд░реНрдЯреА рдХреЛ <a href="">AttachmentMeta</a> рдкреНрд░рдХрд╛рд░ рдХреЗ рддрддреНрд╡реЛрдВ рдХреА рдПрдХ рд╕рд░рдгреА рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдФрд░ рдЗрд╕ рдШрдЯрдХ рдХреЛ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-string"><span class="hljs-string">"AttachmentMeta"</span></span>: { <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Common meta data model of any type of attachment"</span></span>, <span class="hljs-string"><span class="hljs-string">"oneOf"</span></span>: [ {<span class="hljs-string"><span class="hljs-string">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/AttachmentMetaImage"</span></span>}, {<span class="hljs-string"><span class="hljs-string">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/AttachmentMetaDocument"</span></span>}, {<span class="hljs-string"><span class="hljs-string">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/ExternalResource"</span></span>} ] }</code> </pre> <br><p>  рдпрд╣реА рд╣реИ, рдпрд╣ рдШрдЯрдХ рдЕрдиреНрдп рдШрдЯрдХреЛрдВ рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЪреВрдВрдХрд┐ рдЗрд╕рдХреА рдЕрдкрдиреА рдпреЛрдЬрдирд╛ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХреЛрдб рдЬрдирд░реЗрдЯрд░ рдПрдХ рдЕрд▓рдЧ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рдореЗрдВ рдирд╣реАрдВ рдмрдирд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╕рдВрд╕реНрдерд╛рдУрдВ рдХреЛ рдЧреБрдгрд╛ рди рдХрд░реЗрдВ, рд▓реЗрдХрд┐рди рдПрдиреБрдорд░реЗрдЯреЗрдб рдкреНрд░рдХрд╛рд░ рдХрд╛ рдПрдХ рдЕрдирд╛рдо рд╡рд┐рд╡рд░рдг рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Any material attached to the task: may be screenshots, photos, pdf- or doc- * documents on something else */</span></span> attachments?: Array&lt; | AttachmentMetaImage <span class="hljs-comment"><span class="hljs-comment">// Meta data of image attached to task | AttachmentMetaDocument // Meta data of document attached to task | string // Link to any external resource &gt;;</span></span></code> </pre> <br><p>  рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ, <code>AttachmentMetaImage</code> рдФрд░ <code>AttachmentMetaDocument</code> рдШрдЯрдХреЛрдВ рдХреЗ рд▓рд┐рдП, рдЧреИрд░-рдЕрдирд╛рдо рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рдХрд┐ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлрд╛рдЗрд▓реЛрдВ рдореЗрдВ рдЖрдпрд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AttachmentMetaDocument } from <span class="hljs-string"><span class="hljs-string">'./attachment-meta-document'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AttachmentMetaImage } from <span class="hljs-string"><span class="hljs-string">'./attachment-meta-image'</span></span>;</code> </pre> <br><p>  рд▓реЗрдХрд┐рди <a href="">AttachmentMetaImage</a> рдореЗрдВ рднреА <a href="">,</a> рд╣рдо рдПрдХ рдФрд░ рдкреНрд░рджрд╛рди рдХреА рдЧрдИ <a href="">ImageOptions</a> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рд▓рд┐рдВрдХ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рджреЛ рдмрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдЕрдирд╛рдо рдЗрдВрдЯрд░рдлрд╝реЗрд╕ ( <a href="">рдЕрддрд┐рд░рд┐рдХреНрдд рд░реВрдк</a> рд╕реЗ рд░реВрдкрд╛рдВрддрд░рдг рд╕реЗ рдкрд░рд┐рдгрд╛рдо) рд╢рд╛рдорд┐рд▓ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* tslint:disable */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ImageOptions } from <span class="hljs-string"><span class="hljs-string">'./image-options'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Meta data of image attached to task */</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AttachmentMetaImage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... /** * Possible thumbnails of uploaded image */ thumbs?: { [key: string]: { /** * Link to any external resource */ url?: string; imageOptions?: ImageOptions; }; }; // ... imageOptions: ImageOptions; }</span></span></code> </pre> <br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, <code>ToDoTask</code> рдпрд╛ <code>ToDoGroup</code> рдЖрдзрд╛рд░ рдкрд░, рд╣рдо рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╣рдорд╛рд░реЗ рдХреЛрдб рдореЗрдВ рдХрдИ рд╕рдВрд╕реНрдерд╛рдУрдВ рдФрд░ рдЙрдирдХреЗ рд╡реНрдпрд╛рдкрд╛рд░ рдХрдиреЗрдХреНрд╢рди рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЛ рдПрдХреАрдХреГрдд рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рд╣рдореЗрдВ рд╣рдорд╛рд░реЗ рдХреЛрдб рд╕реЗ рдкрд░реЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдУрд╡рд░-рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдмрджрд▓рд╛рд╡ рдкрд░ рдЕрдзрд┐рдХ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рдмреЗрд╢рдХ, рдпрд╣ рд╕рднреА рдорд╛рдорд▓реЛрдВ рдореЗрдВ рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рдУрдкрдирдПрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЗ рдкрд╛рд╕ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдПрдХ рдФрд░ рдЫреЛрдЯрд╛ рдмреЛрдирд╕ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </p><br><a name="ServiceGeneration"></a><br><h2 id="avtogeneraciya-servisov-dlya-raboty-s-rest-api">  REST API рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рддрдГ-рдЬрдирд░реЗрдЯ рдХреА рдЧрдИ рд╕реЗрд╡рд╛рдПрдБ </h2><br><a name="WhyItNeccessary"></a><br><h3 id="zachem-eto-nuzhno">  рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ? </h3><br><p>  рдпрджрд┐ рд╣рдо рдПрдХ рдФрд╕рдд рд╕рд╛рдВрдЦреНрдпрд┐рдХреАрдп рдлреНрд░рдВрдЯ-рдПрдВрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЗрддреЗ рд╣реИрдВ рдЬреЛ рдЕрдзрд┐рдХ рдпрд╛ рдХрдо рдЬрдЯрд┐рд▓ REST API рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЗрд╕рдХреЗ рдХреЛрдб рдХрд╛ рдПрдХ рдмрдбрд╝рд╛ рд╣рд┐рд╕реНрд╕рд╛ API рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛рдПрдВ (рдпрд╛ рд╕рд┐рд░реНрдл рдлрд╝рдВрдХреНрд╢рди) рд╣реЛрдЧрд╛ред  рд╡реЗ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗ: </p><br><ul><li>  URL рдФрд░ рдкреИрд░рд╛рдореАрдЯрд░ рдореИрдкрд┐рдВрдЧ </li><li>  рдорд╛рдкрджрдВрдбреЛрдВ, рдЕрдиреБрд░реЛрдз рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХрд╛ рд╕рддреНрдпрд╛рдкрди </li><li>  рдбреЗрдЯрд╛ рдирд┐рд╖реНрдХрд░реНрд╖рдг рдФрд░ рдЖрдкрд╛рддрдХрд╛рд▓реАрди рд╣реИрдВрдбрд▓рд┐рдВрдЧ </li></ul><br><p>  рдпрд╣ рдЕрдкреНрд░рд┐рдп рд╣реИ рдХрд┐ рдХрдИ рдорд╛рдпрдиреЛрдВ рдореЗрдВ рдпрд╣ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╣реИ рдФрд░ рдЗрд╕рдореЗрдВ рдХреЛрдИ рдЕрджреНрд╡рд┐рддреАрдп рддрд░реНрдХ рдирд╣реАрдВ рд╣реИред  рдорд╛рди рд▓реЗрдВ рдХрд┐ рдХреБрдЫ рдЙрджрд╛рд╣рд░рдг рд╣реИрдВ - рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдкрд░реЗрдЦрд╛ рдХреЗ рд░реВрдк рдореЗрдВ, рдПрдкреАрдЖрдИ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><div class="spoiler">  <b class="spoiler_title">REST API рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╕рд░рд▓ рдпреЛрдЬрдирд╛рдмрджреНрдз рдЙрджрд╛рд╣рд░рдг</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Observable, fromFetch, throwError } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { switchMap } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/operators'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Definitions const URLS = { 'getTasksOfGroup': `${env.REST_API_BASE_URL}/tasks/\${groupId}`, // ... other urls ... }; const URL_TEMPLATES = _.mapValues(urls, url =&gt; _.template(url)); interface GetTaskConditions { isDone?: true | false; offset?: number; limit?: number; } interface ErrorReponse { error: boolean; message?: string; } // Helpers // I taken this snippet from StackOverflow only for example function encodeData(data) { return Object.keys(data).map(function(key) { return [key, data[key]].map(encodeURIComponent).join("="); }).join("&amp;"); } // REST API functions // our REST API working function example function getTasksFromServer(groupUid: string, conditions: GetTaskConditions = {}): Observable&lt;Response&gt; { if (!groupUid) { return throwError(new Error('You should specify "groupUid"!')); } if (!_.isString(groupUid)) { return throwError(new Error('`groupUid` should be string!')); } if (_.isBoolean(conditions.isDone)) { // ... applying of conditions.isDone } else if (conditions.isDone !== undefined) { return throwError(new Error('`isDone` should be "true", "false" or should\'t be set!'!)); } if (offset) { // ... check of `offset` and applying or error throwing } if (limit) { // ... check of `limit` and applying or error throwing } const url = [ URL_TEMPLATES['getTasksOfGroup']({groupUid}), ...(conditions ? [encodeData(conditions)] : []) ]; return fromFetch(url); } // Using of REST API working functions function getRemainedTasks(groupUid: number): Observable&lt;ToDoTask[] | ErrorReponse&gt; { return getTasksFromServer(groupUid, {isDone: false}).pipe( switchMap(response =&gt; { if (response.ok) { // OK return data return response.json(); } else { // Server is returning a status requiring the client to try something else. return of({ error: true, message: `Error ${response.status}` }); } }), catchError(err =&gt; { // Network or other error, handle appropriately console.error(err); return of({ error: true, message: err.message }) }) ); }</span></span></code> </pre> </div></div><br><p>  рдЖрдк REST рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдЪреНрдЪ-рд╕реНрддрд░реАрдп рдЕрдореВрд░реНрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ - рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рд╕реНрдЯреИрдХ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдпрд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ: <a href="https://github.com/axios/axios">Axios</a> , <a href="http">рдХреЛрдгреАрдп HttpClient</a> , рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕рдорд╛рди рд╕рдорд╛рдзрд╛рдиред  рд▓реЗрдХрд┐рди рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рдореВрд▓ рд░реВрдк рд╕реЗ рдЖрдкрдХрд╛ рдХреЛрдб рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рде рдореЗрд▓ рдЦрд╛рдПрдЧрд╛ред  рд▓рдЧрднрдЧ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдЗрд╕рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗ: </p><br><ul><li>  рд╡рд┐рд╢рд┐рд╖реНрдЯ рдПрдВрдбрдкреЙрдЗрдВрдЯ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛рдПрдБ рдпрд╛ рдлрд╝рдВрдХреНрд╢рдВрд╕ ( <code>getTasksFromServer</code> рдлрд╝рдВрдХреНрд╢рди рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ) </li><li>  рдХреЛрдб рдХреЗ рдЯреБрдХрдбрд╝реЗ рдЬреЛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВ ( <code>getRemainedTasks</code> рдлрд╝рдВрдХреНрд╢рди) </li></ul><br><p>  рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрдирд┐рдпрд╛ рд╕реЗ рдПрдХ рдЖрд╡реЗрджрди рдореЗрдВ, рдпрд╣ рдХреЛрдб рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реЛрдЧрд╛: рдбреЗрдореЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╡рд┐рдирд┐рд░реНрджреЗрд╢ <a href="">5-6 рдЙрддреНрддрд░ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ</a> ред  рдЕрдХреНрд╕рд░, REST API рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╕рд░реНрд╡рд░ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рддрджрдиреБрд╕рд╛рд░ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдФрд░ рдЕрдзрд┐рдХ рдХрдард┐рди рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ: рдЬрд┐рддрдирд╛ рдЕрдзрд┐рдХ рд╕рдордп рд╕рдорд░реНрдерди рдФрд░ рддреНрд░реБрдЯрд┐ рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдореЗрдВ рд▓рдЧрддрд╛ рд╣реИ, рдЙрддрдирд╛ рд╣реА рдЖрдк рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдбреЗрдЯрд╛ рдкрд░рд┐рд╕рдВрдЪрд░рдг рдореЗрдВ рдмрд╛рдзрд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред </p><br><blockquote>  рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рднрд╛рдЧреЛрдВ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдбреЙрдХрд┐рдВрдЧ рдиреЛрдб рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдЕрд╕рд╛рдордпрд┐рдХ рдкрд╣рдЪрд╛рди (рд╕рд╛рде рд╣реА рдореБрд╢реНрдХрд┐рд▓ рд╕реЗ рдирд┐рджрд╛рди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреА рдЦреЛрдЬ) рд╡реНрдпрд╡рд╕рд╛рдп рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдорд╣рдВрдЧреА рд╣реЛ рд╕рдХрддреА рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдЬрд╛рдВрдЪ рд╣реЛрдЧреАред  рдЬреИрд╕рд╛ рдХрд┐ рдХреЛрдб рдЖрдзрд╛рд░ рдмрдврд╝рддрд╛ рд╣реИ, рдФрд░ рдХрд╡рд░ рдХрд┐рдП рдЧрдП рдорд╛рдорд▓реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛, рдЗрд╕рд▓рд┐рдП рдкрд░рд┐рд╡рд░реНрддрди рдХрд░рдиреЗ рдХреА рдЬрдЯрд┐рд▓рддрд╛ рд╣реЛрддреА рд╣реИред  рд▓реЗрдХрд┐рди рд╡реНрдпрд╛рдкрд╛рд░ рдПрдХ рдирд┐рд░рдВрддрд░ рдкрд░рд┐рд╡рд░реНрддрди рд╣реИ, рдФрд░ рдЗрд╕рдХреЗ рдЖрд╕рдкрд╛рд╕ рдХреЛрдИ рднреА рдирд╣реАрдВ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рд╣рдореЗрдВ рдЗрд╕ рдмрд╛рдд рдХреА рдкрд░рд╡рд╛рд╣ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рдХреИрд╕реЗ рдмрджрд▓рд╛рд╡ рдХрд░реЗрдВрдЧреЗред </blockquote><p>  OpenAPI рд╡рд┐рд╖рдп рдкрд░ рд▓реМрдЯрддреЗ рд╣реБрдП, рд╣рдо рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ OAS рд╡рд┐рд╢рд┐рд╖реНрдЯрддрд╛рдУрдВ рдореЗрдВ рдкрд░реНрдпрд╛рдкреНрдд рдЬрд╛рдирдХрд╛рд░реА рд╣реЛ рд╕рдХрддреА рд╣реИ: </p><br><ul><li>    -      </li><li>       </li><li>   URL      </li><li>         </li></ul><br><p>         тАФ <strong></strong> .    ,     ,     /  тАФ 5, 10  200,            .  ,      ,   : , , , RxJS- <a href="">pickResponseBody</a> ,            ,     - ;  <a href="">tapResponse</a> ,    side-effect (tap)   HTTP-.     ,     -   .    ,       ,    . </p><br><blockquote> ,     тАФ   -,      .      ,       ,  ,   ""  /     API     "-"  "" .    -   ,        "" (    ),     . </blockquote><p>   ,          REST API   Angular.         ,      ,        /.      . ,      ,    .  ,      , ..      . </p><br><a name="HowToGenerateServices"></a><br><h3 id="generaciya-servisov">   </h3><br><p>   " <a href="https://habr.com/ru/post/483628/">  </a> "      .   Angular-,       <code>update-typings.js</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">"use strict"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cliLib = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'@codegena/oapi3ts-cli'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cliApp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> cliLib.CliApplication; cliApp.createTypings(); cliApp.createServices(<span class="hljs-string"><span class="hljs-string">'angular'</span></span>);</code> </pre> <br><p>             ,   Angular-    API   .    , -   - ,     <a href="https://github.com/koshevy/codegena/tree/master/libs/todo-app-scheme/src/lib/services"> </a> .     ,    <a href="">RewriteGroupService</a> .    <a href="">ApiService</a> ,        ,   ,   -: </p><br><div class="spoiler"> <b class="spoiler_title">-  </b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Typings for this API method import { RewriteGroupParameters, RewriteGroupResponse, RewriteGroupRequest } from '../typings'; // Schemas import { schema as domainSchema } from './schema.b4c655ec1635af1be28bd6'; /** * Service for angular based on ApiAgent solution. * Provides assured request to API method with implicit * validation and common errors handling scheme. */ @Injectable() export class RewriteGroupService extends ApiService&lt; RewriteGroupResponse, RewriteGroupRequest, RewriteGroupParameters &gt; { protected get method(): 'PUT' { return 'PUT'; } /** * Path template, example: `/some/path/{id}`. */ protected get pathTemplate(): string { return '/group/{groupId}'; } /** * Parameters in a query. */ protected get queryParams(): string[] { return ['forceSave']; } // ... }</span></span></code> </pre> </div></div><br><p> , <a href="">   JSON Schema</a>  ,   .    <a href=""> </a> ,        ,       : </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { schema as domainSchema } from <span class="hljs-string"><span class="hljs-string">'./schema.b4c655ec1635af1be28bd6'</span></span>;</code> </pre> <br><blockquote> ,     <code>schema.b4c655ec1635af1be28bd6.ts</code>       ,  <a href="">  </a>  ,  . </blockquote><br><a name="UsingOfGeneratedServices"></a><br><h3 id="ispolzovanie-generiruemyh-servisov">    </h3><br><p>       ,   Angular-. </p><br><div class="spoiler"> <b class="spoiler_title">    Angular-</b> <div class="spoiler_text"><p>      <code>ApiModule</code>       : </p><br><pre> <code class="plaintext hljs">import { ApiModule, API_ERROR_HANDLER } from '@codegena/ng-api-service'; import { CreateGroupItemService, GetGroupsService, GetGroupItemsService, UpdateFewItemsService } from '@codegena/todo-app-scheme'; @NgModule({ imports: [ ApiModule, // ... ], providers: [ RewriteGroupService, { provide: API_ERROR_HANDLER, useClass: ApiErrorHandlerService }, // ... ], // ... }) export class TodoAppModule { }</code> </pre> </div></div><br><p>    ,     [])( <a href="https://angular.io/guide/dependency-injection">https://angular.io/guide/dependency-injection</a> ): </p><br><pre> <code class="plaintext hljs">@Injectable() export class TodoTasksStore { constructor( protected createGroupItemService: CreateGroupItemService, protected getGroupsService: GetGroupsService, protected getGroupItemsService: GetGroupItemsService, protected updateFewItemsService: UpdateFewItemsService ) {} }</code> </pre> <br><p>         тАФ  ,       <a href="">request</a> ,        : </p><br><pre> <code class="plaintext hljs">return this.getGroupsService.request(null, { isComplete: null, withItems: false }).pipe( pickResponseBody&lt;GetGroupsResponse&lt;200&gt;&gt;(200, null, true), switchMap&lt;ToDoGroup[], Observable&lt;ComponentTruth&gt;&gt;( groups =&gt; this.loadItemsOfSelectedGroups({ ...truth, groups }) ) );</code> </pre> <br><p>  <code>request</code>   <code>Observable&lt;HttpResponse&lt;R&gt; | HttpEvent&lt;R&gt;&gt;</code> ,   ,        . ,     ,      . ,  ,      ,     .     RxJS- <code>pickResponseBody</code> . </p><br><p>  ,    ,    ,   .         API,    .        .   ,     : </p><br><p><img src="https://habrastorage.org/webt/3y/xe/dy/3yxedy51z7su99butzrk2dvunnq.png"></p><br><p>      .   JSON Schema     .       ,   ""      - .   ,      <a href="https://sentry.io/welcome/">Sentry</a>  <a href="https://www.elastic.co/products/kibana">Kibana</a> ,   .       .  ,      ,      . </p><br><blockquote>  ,             .  ,      :) </blockquote><br><a name="AfterWord"></a><br><h2 id="vmesto-poslesloviya">  рдПрдХ рдЖрдлреНрдЯрд░рд╡рд░реНрдб рдХреЗ рдмрдЬрд╛рдп </h2><br><p>   ,       .       -,   "    "    тАФ   .  ,  ,   ,   . </p><br><p>     тАФ    ,  - /    (   ).      ,  тАФ   . </p><br><p>   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi483628/">https://habr.com/ru/post/hi483628/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi483612/index.html">рдЯреЗрд╕реНрд▓рд╛ рдбреНрд░рд╛рдЗрд╡рд░ рдиреЗ рдСрдЯреЛрдкрд╛рдпрд▓рдЯ рдкрд░ рдбреНрд░рд╛рдЗрд╡рд┐рдВрдЧ рдХрд░рддреЗ рд╕рдордп рдЕрдкрдиреЗ рджрд╛рдБрдд рдмреНрд░рд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреБрд░реНрдорд╛рдирд╛ рд▓рдЧрд╛рдпрд╛</a></li>
<li><a href="../hi483614/index.html">рд░реЛрдмреЛрдЯрд┐рдХреНрд╕ рдХреНрд▓рдм рдореЗрдВ рдЪреЛрд░реА рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреЗ рддрд░реАрдХреЗ</a></li>
<li><a href="../hi483616/index.html">рд▓реИрдХрдорд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ: рдХреИрд╕реЗ рдХрдВрдкреНрдпреВрдЯрд░ рд╡рд┐рдЬрди рдЦреЛрдП рд╣реБрдП рд▓реЛрдЧреЛрдВ рдХреЛ рдмрдЪрд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi483624/index.html">Yandex.Taxi рд╕реЗ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛: рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдЪреИрдореНрдкрд┐рдпрдирд╢рд┐рдк рдХреЗ рдмреИрдХреЗрдВрдб рдЯреНрд░реИрдХ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../hi483626/index.html">Jsonnet рдкрд░ 100 рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ 100 gitlab рдиреМрдХрд░реА рдХрд╛ рд╡рд░реНрдгрди рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
<li><a href="../hi483630/index.html">рдПрдореНрдмрд░ рдЯрд╛рдЗрдореНрд╕ - рдЕрдВрдХ 130</a></li>
<li><a href="../hi483634/index.html">CSS рдореЗрдВ рдиреНрдпреВрдирддрдо рдФрд░ рдЕрдзрд┐рдХрддрдо рдЪреМрдбрд╝рд╛рдИ / рдКрдБрдЪрд╛рдИ рдЧреБрдг</a></li>
<li><a href="../hi483646/index.html">рд╣реИрдХ рдж рдмреЙрдХреНрд╕ - рдмрд┐рдЯрд▓реИрдм рд╡реЙрдХрдереНрд░реВред рдХрдордЬреЛрд░ рдЬреЗрдПрд╕ рдСрдмрдлрд┐рдХреЗрд╢рди, рдЬреАрдЖрдИрдЯреА рдФрд░ рд░рд┐рд╡рд░реНрд╕ рд╡рд┐рдВрдбреЛрдЬ рдПрдкреНрд▓рд┐рдХреЗрд╢рди</a></li>
<li><a href="../hi483648/index.html">рдЬреЙрд░реНрдЬрд┐рдпрд╛ рдореЗрдВ рдЖрдИрдЯреА-рд╡реНрдпрд╡рд╕рд╛рдп рдХреЗ рд▓рд┐рдП рдЕрдкрддрдЯреАрдп: рдЬреАрд╡рди рд╣реИрдХ рдФрд░ рдиреБрдХрд╕рд╛рди</a></li>
<li><a href="../hi483650/index.html">рднреВрдордзреНрдп рд░реЗрдЦрд╛ рдХреЗ рдХрд░реАрдм рдХреЙрд╕рдореЛрдбреНрд░реЛрдо - рд╡реЗрдирдЪрд╛рдВрдЧ рдЯреНрд░реЙрдкрд┐рдХрд▓ рдХреЙрд╕рдореЛрдбреНрд░реЛрдо</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>