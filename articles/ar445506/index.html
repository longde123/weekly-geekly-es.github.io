<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐พ ๐คณ๐พ ๐ฉ๐ฟโ๐ป OS1: ููุงุฉ ุจุฏุงุฆูุฉ ุนูู Rust ูู x86 ๐ท ๐ฉ๐ปโโ๏ธ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุฑุช ุฃู ุฃูุชุจ ููุงููุง ุ ูุฅุฐุง ุฃููู ุ ุซู ุณูุณูุฉ ูู ุงูููุงูุงุช ููุดุงุฑูุฉ ุชุฌุฑุจุชู ูู ุงูุจุญุซ ุงููุณุชูู ููู ูู ุฌูุงุฒ Bare Bone x86 ูุชูุธูู ุฃูุธูุฉ ุงูุชุดุบูู. ูู ุงูููุช ุงูุญุงูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>OS1: ููุงุฉ ุจุฏุงุฆูุฉ ุนูู Rust ูู x86</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445506/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุฑุฑุช ุฃู ุฃูุชุจ ููุงููุง ุ ูุฅุฐุง ุฃููู ุ ุซู ุณูุณูุฉ ูู ุงูููุงูุงุช ููุดุงุฑูุฉ ุชุฌุฑุจุชู ูู ุงูุจุญุซ ุงููุณุชูู ููู ูู ุฌูุงุฒ Bare Bone x86 ูุชูุธูู ุฃูุธูุฉ ุงูุชุดุบูู.  ูู ุงูููุช ุงูุญุงูู ุ ูุง ูููู ุญุชู ุงูุงุฎุชุฑุงู ูุณูู ูุธุงู ุงูุชุดุบูู - ุฅูู ููุงุฉ ุตุบูุฑุฉ ูููููุง ุงูุชูููุฏ ูู Multiboot (GRUB) ุ ูุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ุงูุญููููุฉ ูุงูุธุงูุฑูุฉ ุ ูุฃูุถูุง ุชูููุฐ ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุนุฏููุฉ ุงููุงุฆุฏุฉ ูู ูุถุน ุชุนุฏุฏ ุงูููุงู ุนูู ูุนุงูุฌ ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุฎูุงู ุนูููุฉ ุงูุชุทููุฑ ุ ูู ุฃุถุน ูููุณู ูุฏููุง ููุชุงุจุฉ ูุธุงู Linux ุฌุฏูุฏ (ุนูู ุงูุฑุบู ูู ุฃููู ุฃุนุชุฑู ุฃููู ุญููุช ุจู ููุฐ ุญูุงูู 5 ุณููุงุช) ุฃู ุฃุซุงุฑุช ุฅุนุฌุงุจ ุดุฎุต ูุง ุ ูุฐุง ุฃุทูุจ ููู ุฃูุง ุชุจุฏู ุฅุนุฌุงุจูุง ุจุนุฏ ุงูุขู.  ูุง ุฃุฑุฏุช ูุนูู ุญููุง ูู ูุนุฑูุฉ ููููุฉ ุนูู ุจููุฉ i386 ุนูู ุงููุณุชูู ุงูุฃุณุงุณู ุ ูููู ุชููู ุฃูุธูุฉ ุงูุชุดุบูู ุจุงูุชุญุฏูุฏ ุจุณุญุฑูุง ุ ูุญูุฑ ุงูุถุฌูุฌ Rust. </p><br><p style=";text-align:right;direction:rtl"> ูู ููุงุญุธุงุชู ุณุฃุญุงูู ูุดุงุฑูุฉ ููุณ ููุท ูุตูุต ุงููุตุฏุฑ (ูููู ุงูุนุซูุฑ ุนูููุง ุนูู GitLab) ููุธุฑูุฉ ุงูุนุงุฑูุฉ (ูููู ุงูุนุซูุฑ ุนูููุง ูู ุงูุนุฏูุฏ ูู ุงูููุงุฑุฏ) ุ ูููู ุฃูุถูุง ุงููุณุงุฑ ุงูุฐู ุฐูุจุช ุฅููู ููุนุซูุฑ ุนูู ุฅุฌุงุจุงุช ุบูุฑ ูุงุถุญุฉ.  ุนูู ูุฌู ุงูุชุญุฏูุฏ ุ ุณุฃุชุญุฏุซ ูู ูุฐุง ุงูููุงู ุนู <strong>ุฅูุดุงุก ููู kernel ูุชุญูููู ูุชููุฆุชู</strong> . </p><br><p style=";text-align:right;direction:rtl">  ุฃูุฏุงูู ูู ููููุฉ ุงููุนูููุงุช ูู ุฑุฃุณู ุ ููุฐูู ูุณุงุนุฏุฉ ุฃููุฆู ุงูุฐูู ูุชุจุนูู ูุณุงุฑูุง ูุดุงุจููุง.  ุฃุฏุฑู ุฃู ุงูููุงุฏ ูุงููุฏููุงุช ุงููุดุงุจูุฉ ููุฌูุฏุฉ ุจุงููุนู ุนูู ุงูุดุจูุฉ ุ ูููู ูู ุฃุฌู ุงููุตูู ุฅูู ูุถุนู ุงูุญุงูู ุ ูุงู ุนูู ุฌูุนูุง ูุนูุง ููุชุฑุฉ ุทูููุฉ.  ุฌููุน ุงููุตุงุฏุฑ (ุนูู ุฃู ุญุงู ุ ูุงูุชู ุฃุชุฐูุฑูุง) ุ ุณุฃุดุงุฑู ุงูุขู. </p><a name="habracut"></a><br><h1 id="literatura-i-istochniki" style=";text-align:right;direction:rtl">  ุงูุฃุฏุจ ูุงููุตุงุฏุฑ </h1><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ุญุตูุช ุนูู ูุนุธููุง ูู ููุฑุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">OSDev</a> ุงูููุชุงุฒ ุ ูู ุงููููู ููู ุงูููุชุฏู.  ุซุงููุงู ุ ุณุฃุณูู ููููุจ ุฃูุจุฑูุงู ุจูุฏููุชู - ุงููุซูุฑ ูู ุงููุนูููุงุช ุญูู ุญููุฉ ุงูุตุฏุฃ ูุงูุญุฏูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงูุชุฌุณุณ ุนูู ุจุนุถ ุงูููุงุท ูู Linux kernel ุ Minix ูุง ูุฎูู ูู ูุณุงุนุฏุฉ ุงูุฃุฏุจ ุงูุฎุงุต ุ ูุซู ูุชุงุจ Tanenbaum " <em>ุฃูุธูุฉ ุงูุชุดุบูู</em> " <em>.</em>  <em>ุงูุชุตููู ูุงูุชูููุฐ ุ</em> "ุฑูุจุฑุช ููู ูุชุงุจ" <em>ููุงุฉ ููููุณ.</em>  <em>ูุตู ุนูููุฉ ุงูุชุทููุฑ</em> . "  ุชู ุญู ุงูุฃุณุฆูุฉ ุงูุตุนุจุฉ ุญูู ุชูุธูู ุจููุฉ x86 ุจุงุณุชุฎุฏุงู ูุชูุจ "ุฏููู <em>ูุทูุฑ ุจุฑุงูุฌ ูุทูุฑ ุจุฑุงูุฌ Intel 64 ู IA-32 ุงููุฌูุฏ 3 (3A ุ 3B ุ 3C &amp; 3D): ุฏููู ุจุฑูุฌุฉ ุงููุธุงู</em> ".  ูู ููู ุชูุณูู ุงูุซูุงุฆูุงุช ุ ุชุนุฏ ุงูุชุตูููุงุช ุจูุซุงุจุฉ ุฃุฏูุฉ ูู ld ุ llvm ุ nm ุ nasm ุ make. <br>  UPD.  ุจูุถู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">CoreTeamTech ูุชุฐููุฑู</a> ุจูุธุงู Redox OS ุงูุฑุงุฆุน.  ูู ุฃุฎุฑุฌ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุฏุฑูุง</a> .  ูุณูุก ุงูุญุธ ุ ูุง ูุชููุฑ ูุธุงู GitLab ุงูุฑุณูู ูู ุนููุงู IP ุงูุฑูุณู ุ ูุฐูู ููููู ุฅููุงุก ูุธุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูู GitHub</a> . </p><br><h1 id="esche-odno-predislovie" style=";text-align:right;direction:rtl">  ููุฏูุฉ ุฃุฎุฑู </h1><br><p style=";text-align:right;direction:rtl">  ุฃุฏุฑู ุฃููู ูุณุช ูุจุฑูุฌูุง ุฌูุฏูุง ูู Rust ุ ุนูุงูุฉ ุนูู ุฐูู ุ ูุฐุง ูู ุฃูู ูุดุฑูุน ูู ุจูุฐู ุงููุบุฉ (ููุณ ุฃูุถู ุทุฑููุฉ ูุจุฏุก ุงูููุงุนุฏุฉ ุ ุฃููุณ ูุฐููุ).  ูุฐูู ุ ูุฏ ูุจุฏู ุงูุชุทุจูู ุบูุฑ ุตุญูุญ ุชูุงููุง ูู - ุฃูุฏ ูุณุจููุง ุฃู ุฃุทูุจ ุชุณุงููุงู ูู ุงูููุฏ ุงูุฎุงุต ุจู ูุณุฃููู ุณุนูุฏูุง ุจุงูุชุนููู ูุงูุงูุชุฑุงุญุงุช.  ุฅุฐุง ูุงู ุงููุงุฑุฆ ุงููุญุชุฑู ูุณุชุทูุน ุฃู ูุฎุจุฑูู ุฃูู ูููู ุฃูุงุตู ุฐูู ุ ุณุฃููู ููุชููุง ููุบุงูุฉ.  ูููู ูุณุฎ ุจุนุถ ุฃุฌุฒุงุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ุงูุจุฑุงูุฌ ุงูุชุนููููุฉ ููุง ูู ูุชุนุฏูููุง ููููุงู ุ ููููู ุณุฃุญุงูู ุชูุฏูู ุชูุถูุญุงุช ูุงุถุญุฉ ูุฏุฑ ุงูุฅููุงู ููุซู ูุฐู ุงูุฃูุณุงู ุญุชู ูุง ูููู ูุฏูู ููุณ ุงูุฃุณุฆูุฉ ุงูุชู ุทุฑุญุชูุง ุนูุฏ ุชุญููููุง.  ุฃูุง ุฃูุถูุง ูุง ุฃุฏุนู ุงุณุชุฎุฏุงู ุงูุฃุณุงููุจ ุงูุตุญูุญุฉ ูู ุงูุชุตููู ุ ูุฐุง ุฅุฐุง ูุงู ูุฏูุฑ ุฐุงูุฑุชู ูุฌุนูู ุชุฑุบุจ ูู ูุชุงุจุฉ ุชุนูููุงุช ุบุงุถุจุฉ ุ ุฃููู ุงูุณุจุจ. </p><br><h1 id="instrumentariy" style=";text-align:right;direction:rtl">  ุฃุฏูุงุช </h1><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุณุฃุจุฏุฃ ุจุงูุบุทุณ ูู ุฃุฏูุงุช ุงูุชุทููุฑ ุงูุชู ุงุณุชุฎุฏูุชูุง.  ูุจูุฆุฉ ุ ุงุฎุชุฑุช ูุญุฑุฑ VS Code ุฌูุฏูุง ููุฑูุญูุง ูุน ููููุงุช ุฅุถุงููุฉ ูู Rust ู ูุตุญุญ ุฃุฎุทุงุก GDB.  ูู ุจุนุถ ุงูุฃุญูุงู ุ ูุง ูููู VS Code ุฌูุฏูุง ูุน RLS ุ ุฎุงุตุฉู ุนูุฏ ุฅุนุงุฏุฉ ุชุนุฑููู ูู ุฏููู ูุญุฏุฏ ุ ูุฐูู ุจุนุฏ ูู ุชุญุฏูุซ ูููู Rust ุงุถุทุฑุฑุช ุฅูู ุฅุนุงุฏุฉ ุชุซุจูุช RLS. </p><br><p style=";text-align:right;direction:rtl">  ุชู ุงุฎุชูุงุฑ ุงูุตุฏุฃ ูุนุฏุฉ ุฃุณุจุงุจ.  ุฃููุงู ุ ุชุฒุงูุฏ ุดุนุจูุชูุง ูููุณูุชูุง ุงูููุชุนุฉ.  ุซุงููุงู ุ ูุฏุฑุชู ุนูู ุงูุนูู ุจูุณุชูู ููุฎูุถ ูููู ูุน ุงุญุชูุงู ุฃูู ุจู "ุฅุทูุงู ุงููุงุฑ ุนูู ูุฏูู".  ุซุงูุซูุง ุ ุจุงุนุชุจุงุฑู ุฃุญุฏ ูุญุจู Java ู Maven ุ ูุฅููู ูุฏูู ุฌุฏูุง ุนูู ุจูุงุก ุงูุฃูุธูุฉ ูุฅุฏุงุฑุฉ ุงูุชุจุนูุฉ ุ ููุฏ ุชู ุจุงููุนู ุชุถููู ุงูุดุญูุงุช ูู ูุบุฉ ุณูุณูุฉ ุงูุฃุฏูุงุช.  ุฑุงุจุนุง ุ ุฃุฑุฏุช ููุท ุดูุฆุง ุฌุฏูุฏุง ุ ูููุณ ูุซู C. </p><br><p style=";text-align:right;direction:rtl">  ูุฑูุฒ ุงููุณุชูู ุงูููุฎูุถ ุ ุฃุฎุฐุช NASM ุ ููุง  ุฃุดุนุฑ ุจุงูุซูุฉ ูู ุจูุงุก ุฌููุฉ Intel ุ ููุง ุฃููู ูุฑุชุงุญ ููุนูู ูุน ุชูุฌููุงุชู.  ููุฏ ุชุฎููุช ุนู ุนูุฏ ุนู ุฅุฏุฑุงุฌ ุงููุฌููุน ูู Rust ูู ุฃุฌู ูุตู ุงูุนูู ุจุดูู ูุงุถุญ ุจุงูุญุฏูุฏ ูุงูููุทู ุนุงูู ุงููุณุชูู. <br>  ุชู ุงุณุชุฎุฏุงู Make and the linker ูู LLVM LLD supply (as a linker better and better) as a public assembly and layout - ููุฐู ูุณุฃูุฉ ุฐูู.  ูุงู ูู ุงููููู ุงูููุงู ุจู ูุน ุจูุงุก ูุตูุต ููุจุถุงุฆุน. </p><br><p style=";text-align:right;direction:rtl">  ุชู ุงุณุชุฎุฏุงู Qemu ูุฅุทูุงู - ุฃุญุจ ุณุฑุนุชู ููุถุนู ุงูุชูุงุนูู ูุงููุฏุฑุฉ ุนูู ุฑุจุท GDB.  ููุชูููุฏ ูุงูุญุตูู ุนูู ุฌููุน ูุนูููุงุช ุงูุฃุฌูุฒุฉ ููุฑูุง - ุจุงูุทุจุน GRUB (Legacy ุฃุณูู ูุชูุธูู ุงูุฑุฃุณ ุ ูุฐูู ุฎุฐูุง). </p><br><h1 id="linkovka-i-komponovka" style=";text-align:right;direction:rtl">  ุฑุจุท ูุชุฎุทูุท </h1><br><p style=";text-align:right;direction:rtl">  ูู ุงูุบุฑูุจ ุ ุจุงููุณุจุฉ ูู ุ ุงุชุถุญ ุฃูู ุฃุญุฏ ุฃุตุนุจ ุงูููุงุถูุน.  ูุงู ูู ุงูุตุนุจ ููุบุงูุฉ ุฅุฏุฑุงู ุจุนุฏ ุชุฌุงุฑุจ ุทูููุฉ ูุน ุณุฌูุงุช ูุทุนุฉ x86 ุฃู ุงูููุงุทุน ูุงูุฃูุณุงู ููุณุช ูู ููุณูุง.  ูู ุงูุจุฑูุฌุฉ ุงูุฎุงุตุฉ ุจุงูุจูุฆุฉ ุงูุญุงููุฉ ุ ููุณุช ููุงู ุญุงุฌุฉ ููุชูููุฑ ูู ููููุฉ ูุถุน ุงูุจุฑูุงูุฌ ูู ุงูุฐุงูุฑุฉ - ููู ููุตุฉ ูุชูุณูู ูุฏูู ุฑุงุจุท ุจุงููุนู ูุตูุฉ ุฌุงูุฒุฉ ุ ูุฐูู ููุณุช ููุงู ุญุงุฌุฉ ููุชุงุจุฉ ุจุฑูุงูุฌ ูุตู ุฑุงุจุท. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุญุฏูุฏ ุงูุนุงุฑู ุ ุนูู ุงูุนูุณ ูู ุฐูู ุ ูู ุงูุถุฑูุฑู ุงูุฅุดุงุฑุฉ ุฅูู ููููุฉ ูุถุน ุฑูุฒ ุงูุจุฑูุงูุฌ ูุนููุงูู ูู ุงูุฐุงูุฑุฉ.  ุฃูุฏ ููุง ุงูุชุฃููุฏ ุนูู ุฃููุง ูุชุญุฏุซ ุนู ุนููุงู ุฎุทู (ุงูุชุฑุงุถู) ุจุงุณุชุฎุฏุงู ุขููุฉ ุงูุตูุญุฉ.  ูุณุชุฎุฏู ูุธุงู ุงูุชุดุบูู 1 ุขููุฉ ุตูุญุฉ ุ ููููู ุณุฃุชูุงูููุง ุจุดูู ูููุตู ูู ุงููุณู ุงูููุงุจู ูู ุงูููุงู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุทููุฉ ุ ุฎุทูุฉ ุ ุงูุชุฑุงุถูุฉ ุ ูุงุฏูุฉ ...</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงูุนูุงููู ุงูููุทููุฉ ูุงูุฎุทูุฉ ูุงูุธุงูุฑูุฉ ูุงููุงุฏูุฉ.  ููุฏ ูุณุฑุช ุฑุฃุณู ุจุดุฃู ูุฐุง ุงูุณุคุงู ุ ูุฐุง ููุญุตูู ุนูู ุงูุชูุงุตูู ุงูุชู ุฃุฑูุฏ ุฃู ุฃุชูุงูููุง ูู ูุฐุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงู ุงูููุชุงุฒ</a> </p></div></div><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูุฃูุธูุฉ ุงูุชุดุบูู ุงูุชู ุชุณุชุฎุฏู ุงูุชุฑุญูู ุ ูู ุจูุฆุฉ 32 ุจุช ุ ุชุญุชูู ูู ูููุฉ ุนูู 4 ุบูุบุงุจุงูุช ูู ูุณุงุญุฉ ุงูุฐุงูุฑุฉ ุงููุงุจูุฉ ููุนูููุฉ ุ ุญุชู ุฅุฐุง ูุงู ูุฏูู 128 ููุบุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุงููุซุจุชุฉ.  ูุญุฏุซ ูุฐุง ููุท ุจุณุจุจ ุชูุธูู ุงูุชุฑุญูู ููุฐุงูุฑุฉ ุ ูุชู ุงูุชุนุงูู ูุน ุนุฏู ูุฌูุฏ ุตูุญุงุช ูู ุงูุฐุงูุฑุฉ ุงูุฑุฆูุณูุฉ ููููุง ูุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูู ุงููุงูุน ุ ุชุชููุฑ ุนุงุฏุฉู ุชุทุจููุงุช ุฃูู ููููุงู ูู 4 ุบูุบุงุจุงูุช.  ูุฐูู ูุฃู ูุธุงู ุงูุชุดุบูู ูุฌุจ ุฃู ูุชุนุงูู ูุน ุงูููุงุทุนุงุช ุ ูููุงููุงุช ุงููุธุงู ุ ููุง ูุนูู ุฃู ูุนุงูุฌุงุชูู ุนูู ุงูุฃูู ูุฌุจ ุฃู ุชููู ูู ูุณุงุญุฉ ุงูุนููุงู ูุฐู.  ูุญู ููุงุฌู ุงูุณุคุงู ุงูุชุงูู: ุฃูู ูุฌุจ ูุถุน ุนูุงููู kernel ูู ูุฐู ุงูู 4 ุฌูุฌุงุจุงูุช ุจุงูุถุจุท ุจุญูุซ ุชุนูู ุงูุจุฑุงูุฌ ุจุดูู ุตุญูุญุ </p><br><p style=";text-align:right;direction:rtl">  ูู ุนุงูู ุงูุจุฑุงูุฌ ุงูุญุฏูุซุฉ ุ ูุชู ุงุณุชุฎุฏุงู ูุซู ูุฐุง ุงูููููู: ุชุนุชูุฏ ูู ูููุฉ ุฃููุง ุชุณูุฏ ุนูู ุงููุนุงูุฌ ููู ุงูุจุฑูุงูุฌ ุงููุญูุฏ ููุฏ ุงูุชุดุบูู ุนูู ุงูููุจููุชุฑ (ูู ูุฐู ุงููุฑุญูุฉ ูุง ูุชุญุฏุซ ุนู ุงูุชูุงุตู ุจูู ุงูุนูููุงุช).  ุฅุฐุง ูุธุฑุช ุจุงูุถุจุท ุฅูู ููููุฉ ููุงู ุงููุฌูุนูู ุจุฌูุน ุงูุจุฑุงูุฌ ูู ูุฑุญูุฉ ุงูุฑุจุท ุ ุงุชุถุญ ุฃููุง ุชุจุฏุฃ ุจุนููุงู ุฎุทู ูุณุงูู ุงูุตูุฑ ุฃู ุจุงููุฑุจ ูู ุงูุตูุฑ.  ูุฐุง ูุนูู ุฃูู ุฅุฐุง ูุงูุช ุตูุฑุฉ kernel ุชุดุบู ูุณุงุญุฉ ุฐุงูุฑุฉ ุจุงููุฑุจ ูู ุงูุตูุฑ ุ ููู ูููู ุชูููุฐ ุงูุจุฑุงูุฌ ุงูุชู ุชู ุชุฌููุนูุง ุจูุฐู ุงูุทุฑููุฉ ุ ูุฃู ุชุนูููุงุช jmp ูู ุงูุจุฑูุงูุฌ ุณุชุคุฏู ุฅูู ุงูุฏุฎูู ูู ุฐุงูุฑุฉ kernel ุงููุญููุฉ ูุฎุทุฃ ูู ุงูุญูุงูุฉ.  ูุฐูู ุ ุฅุฐุง ุฃุฑุฏูุง ุงุณุชุฎุฏุงู ููุณ ููุท ุงูุจุฑุงูุฌ ุงูููุชูุจุฉ ุฐุงุชูุง ูู ุงููุณุชูุจู ุ ููู ุงููุนููู ุฅุนุทุงุก ุงูุชุทุจูู ุฃูุจุฑ ูุฏุฑ ูููู ูู ุงูุฐุงูุฑุฉ ุจุงููุฑุจ ูู ุงูุตูุฑ ุ ููุถุน ุตูุฑุฉ ุงูููุงุฉ ุฃุนูู. </p><br><p style=";text-align:right;direction:rtl">  ููุทูู ุนูู ูุฐุง ุงูููููู "High-half kernel" (ุฃุญููู ููุง ุฅูู osdev.org ุ ุฅุฐุง ููุช ุชุฑูุฏ ูุนูููุงุช ุฐุงุช ุตูุฉ).  ุฃู ุฌุฒุก ูู ุงูุฐุงูุฑุฉ ูุงุฎุชูุงุฑ ูุนุชูุฏ ููุท ุนูู ุดููุชู.  512 ููุบุง ุจุงูุช ูุงููุฉ ูุดุฎุต ูุง ุ ููููู ูุฑุฑุช ุฃู ุฃูุณู ุจููุณู 1 ุบูุบุงุจุงูุช ุ ูุฐูู ููุฌุฏ ููุงุฉ ุจูุฏู ุนูู 3 ุบูุบุงุจุงูุช + 1 ููุบุง ุจุงูุช (+ 1 ููุบุงุจุงูุช ูุทููุจุฉ ููุงูุชุซุงู ูุญุฏูุฏ ุงูุฐุงูุฑุฉ ุงูููุฎูุถุฉ ุงูุฃุนูู ุ ูููู GRUB ุจุชุญููููุง ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ุจุนุฏ 1 ููุบุงุจุงูุช) . <br>  ูู ุงูููู ุฃูุถูุง ุจุงููุณุจุฉ ููุง ุชุญุฏูุฏ ููุทุฉ ุงูุฏุฎูู ูููููุง ุงููุงุจู ููุชูููุฐ.  ุจุงููุณุจุฉ ููุชูููุฐ ุงูุฎุงุต ุจู ุ ุณุชููู ูุฐู ูู ูุธููุฉ _loader ุงูููุชูุจุฉ ูู ุงููุฌูุน ุ ูุงูุชู ุณุฃุชุทุฑู ุฅูููุง ุจูุฒูุฏ ูู ุงูุชูุตูู ูู ุงููุณู ุงูุชุงูู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุญูู ููุทุฉ ุงูุฏุฎูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุชุนูู ุฃูู ูุฏ ูุฐุจุช ุทูุงู ุญูุงุชู ุญูู ุญูููุฉ ุฃู main () ูู ููุทุฉ ุงูุฏุฎูู ุฅูู ุงูุจุฑูุงูุฌุ  ูู ุงููุงูุน ุ main () ูู ุงุตุทูุงุญ ููุบุฉ C ูุงููุบุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ุจูุง.  ุฅุฐุง ููุช ุจุงูุชุฌูู ุ ูุณูุธูุฑ ุดูุก ูุซู ุงูุชุงูู. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ููู ูุธุงู ุฃุณุงุณู ููุงุตูุงุชู ูููุทุฉ ุงูุฏุฎูู ุงูุฎุงุตุฉ ุจู: ุจุงููุณุจุฉ ููุธุงู ุงูุชุดุบูู linux ุ ูุฅูู ุนุงุฏุฉู ูุง ูููู _start ุ ุฃูุง ูุธุงู ุงูุชุดุบูู Windows ููู mainCRTStartup.  ุซุงููุงู ุ ูููู ุฅุนุงุฏุฉ ุชุนุฑูู ูุฐู ุงูููุงุท ุ ููู ุจุนุฏ ุฐูู ูู ุชุนูู ุนูู ุงุณุชุฎุฏุงู ูุณุฑุงุช libc.  ุซุงูุซูุง ุ ูููุฑ ุงููุชุฑุฌู ููุงุท ุงูุฅุฏุฎุงู ูุฐู ุงูุชุฑุงุถููุง ููู ูู ุงููููุงุช crt0..crtN (CRT - C RunTime ุ N - ุนุฏุฏ ุงููุณุงุฆุท ุงูุฑุฆูุณูุฉ). </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูุง ุงูุฐู ูููู ุจู ุงููุชุฑุฌููู ูุซู gcc ุฃู vc do - ุญูุซ ูููููู ุจุชุญุฏูุฏ ูุต ุงุฑุชุจุงุท ุฎุงุต ุจุงููุธุงู ุงูุฃุณุงุณู ูุญุฏุฏ ููุทุฉ ุฅุฏุฎุงู ููุงุณูุฉ ุ ูุญุฏุฏ ููู ุงููุงุฆู ุงููุทููุจ ูุน ูุธููุฉ ุชููุฆุฉ ุชููุฆุฉ C ุงูุฌุงูุฒุฉ ูุงุณุชุฏุนุงุก ุงููุธููุฉ ุงูุฑุฆูุณูุฉ ูุงุฑุชุจุงุท ุงูุฅุฎุฑุงุฌ ูู ุดูู ููู ุจุงูุชูุณูู ุงููุทููุจ ูุน ููุทุฉ ุฅุฏุฎุงู ููุงุณูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูุฃุบุฑุงุถูุง ุ ูุฌุจ ุฅููุงู ุชุดุบูู ููุทุฉ ุงูุฏุฎูู ุงูููุงุณูุฉ ูุชููุฆุฉ CRT ุ ุญูุซ ูุง ููุฌุฏ ูุฏููุง ุฃู ุดูุก ุณูู ุงูุญุฏูุฏ ุงูุนุงุฑู. </p></div></div><br><p style=";text-align:right;direction:rtl">  ูุงุฐุง ุชุญุชุงุฌ ุฅูู ูุนุฑูุชู ููุฑุจุทุ  ููู ุณูุชู ุชุญุฏูุฏ ูููุน ุฃูุณุงู ุงูุจูุงูุงุช (.rodata ุ .data) ุ ูุงููุชุบูุฑุงุช ุบูุฑ ุงููููุฃุฉ (.bss ุ ุดุงุฆุนุฉ) ุ ูุชุฐูุฑ ุฃูุถูุง ุฃู GRUB ูุชุทูุจ ูููุน ุฑุคูุณ ุงูุชุดุบูู ุงููุชุนุฏุฏ ูู ุฃูู 8 ููููุจุงูุช ูู ุงูููู ุงูุซูุงุฆู. </p><br><p style=";text-align:right;direction:rtl">  ุญุชู ุงูุขู ูููููุง ูุชุงุจุฉ ุจุฑูุงูุฌ ูุตู ุฑุงุจุท! </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">ENTRY(_loader) OUTPUT_FORMAT(elf32-i386) SECTIONS { . = 0xC0100000; .text ALIGN(4K) : AT(ADDR(.text) - 0xC0000000) { *(.multiboot1) *(.multiboot2) *(.text) } .rodata ALIGN(4K) : AT(ADDR(.rodata) - 0xC0000000) { *(.rodata*) } .data ALIGN (4K) : AT(ADDR(.data) - 0xC0000000) { *(.data) } .bss : AT(ADDR(.bss) - 0xC0000000) { _sbss = .; *(COMMON) *(.bss) _ebss = .; } }</code> </pre> <br><h1 id="zagruzka-posle-grub" style=";text-align:right;direction:rtl">  ุงูุชุญููู ุจุนุฏ ุงููุฑูุฉ </h1><br><p style=";text-align:right;direction:rtl">  ููุง ุฐูุฑ ุฃุนูุงู ุ ุชุชุทูุจ ููุงุตูุงุช Multiboot ุฃู ูููู ุงูุฑุฃุณ ูู ุฃูู 8 ููููุจุงูุช ูู ุตูุฑุฉ ุงูุชูููุฏ.  ูููู ุฑุคูุฉ ุงูููุงุตูุงุช ุงููุงููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ุ ููููู ุณูู ุฃุชูุงูู ููุท ุชูุงุตูู ุงูุงูุชูุงู. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุงุญุชุฑุงู ูุญุงุฐุงุฉ 32 ุจุช (4 ุจุงูุช) </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูููู ููุงู ุฑูู ุณุญุฑู 0x1BADB002 </li><li style=";text-align:right;direction:rtl">  ูู ุงูุถุฑูุฑู ุฅุฎุจุงุฑ multibooter ุจุงููุนูููุงุช ุงูุชู ูุฑูุฏ ุชููููุง ูููููุฉ ูุถุน ุงููุญุฏุงุช (ูู ุญุงูุชู ุ ุฃุฑูุฏ ุฃู ุชููู ูุญุฏุฉ kernel ูุญุงุฐุงุฉ ุนูู ุตูุญุฉ ุจุญุฌู 4 ููููุจุงูุช ุ ููุฐูู ุงูุญุตูู ุนูู ุจุทุงูุฉ ุฐุงูุฑุฉ ูุชูููุฑ ุงูููุช ูุงูุฌูุฏ) </li><li style=";text-align:right;direction:rtl">  ุชูุฏูู ุงููุฌููุน ุงูุงุฎุชุจุงุฑู (ุงููุฌููุน ุงูุงุฎุชุจุงุฑู + ุงูุฑูู ุงูุณุญุฑู + ุงูุฃุนูุงู ูุฌุจ ุฃู ูุนุทู ุตูุฑูุง) </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">MB1_MODULEALIGN equ 1&lt;&lt;0 MB1_MEMINFO equ 1&lt;&lt;1 MB1_FLAGS equ MB1_MODULEALIGN | MB1_MEMINFO MB1_MAGIC equ 0x1BADB002 MB1_CHECKSUM equ -(MB1_MAGIC + MB1_FLAGS) section .multiboot1 align 4 dd MB1_MAGIC dd MB1_FLAGS dd MB1_CHECKSUM</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุชุดุบูู ุ ูุถูู Multiboot ุจุนุถ ุงูุดุฑูุท ุงูุชู ูุฌุจ ูุฑุงุนุงุชูุง. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุชูู ุณุฌู EAX ุนูู ุงูุฑูู ุงูุณุญุฑู 0x2BADB002 ุ ูุงูุฐู ูููู ุฅู ุงูุชูุฒูู ูุงู ูุงุฌุญูุง </li><li style=";text-align:right;direction:rtl">  ูุญุชูู ุณุฌู EBX ุนูู ุงูุนููุงู ุงููุนูู ูููููู ูุน ูุนูููุงุช ุญูู ูุชุงุฆุฌ ุงูุชุญููู (ุณูุชุญุฏุซ ุนูู ูุงุญููุง) </li><li style=";text-align:right;direction:rtl">  ุงููุนุงูุฌ ูู ูุถุน ูุญูู ุ ูุชู ุฅููุงู ุชุดุบูู ุฐุงูุฑุฉ ุงูุตูุญุฉ ุ ูุชุณุฌููุงุช ุงููุทุน ูุงูููุฏุณ ูู ุญุงูุฉ ุบูุฑ ูุญุฏุฏุฉ (ุจุงููุณุจุฉ ููุง) ุ ุงุณุชุฎุฏููุง GRUB ูุชูุจูุฉ ุงุญุชูุงุฌุงุชูุง ููุฌุจ ุฅุนุงุฏุฉ ุชุนุฑูููุง ูู ุฃูุฑุจ ููุช ูููู. </li></ul><br><p style=";text-align:right;direction:rtl">  ุฃูู ุดูุก ูุญุชุงุฌ ุฅูู ุงูููุงู ุจู ูู ุชูููู ุงูุชุฑุญูู ุ ูุถุจุท ุงูููุฏุณ ุ ูููู ุงูุชุญูู ูู ุงูููุงูุฉ ุฅูู ุฑูุฒ Rust ุนุงูู ุงููุณุชูู. <br>  ูู ุฃุชูุงูู ุจุงูุชูุตูู ุชูุธูู ุตูุญุฉ ุงูุฐุงูุฑุฉ ูุฏููู ุงูุตูุญุฉ ูุฌุฏูู ุงูุตูุญุฉ ุ ูุฃู ููุงูุงุช ููุชุงุฒุฉ ูุชุจุช ุนู ูุฐุง ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุญุฏูุง</a> ).  ุงูุดูุก ุงูุฑุฆูุณู ุงูุฐู ุฃูุฏ ูุดุงุฑูุชู ูู ุฃู ุงูุตูุญุงุช ููุณุช ุดุฑุงุฆุญ!  ูุฑุฌู ุนุฏู ุชูุฑุงุฑ ุฎุทุฃู ูุนุฏู ุชุญููู ุนููุงู ุฌุฏูู ุงูุตูุญุฉ ูู GDTR!  ูุฌุฏูู ุงูุตูุญุฉ ูู CR3!  ูููู ุฃู ูููู ููุตูุญุฉ ุญุฌู ูุฎุชูู ูู ุฃุจููุฉ ูุฎุชููุฉ ุ ูุจุณุงุทุฉ ุงูุนูู (ููุญุตูู ุนูู ุฌุฏูู ุตูุญุฉ ูุงุญุฏ ููุท) ุ ุงุฎุชุฑุช ุญุฌููุง ูุฏุฑู 4 ููุบุงุจุงูุช ูุธุฑูุง ูุชุถููู PSE. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูุฑูุฏ ุชูููู ุฐุงูุฑุฉ ุงูุตูุญุฉ ุงูุงูุชุฑุงุถูุฉ.  ููููุงู ุจุฐูู ุ ูุญุชุงุฌ ุฅูู ุฌุฏูู ุตูุญุฉ ุ ูุนููุงูู ุงููุนูู ุ ูุชู ุชุญูููููุง ูู CR3.  ูู ุงูููุช ููุณู ุ ุชู ุฑุจุท ููููุง ุงูุซูุงุฆู ุจุงูุนูู ูู ูุณุงุญุฉ ุนููุงู ุงูุชุฑุงุถูุฉ ูุน ุฅุฒุงุญุฉ 3 ุบูุบุงุจุงูุช.  ูุฐุง ูุนูู ุฃู ูู ุงูุนูุงููู ูุงูุนูุงูุงุช ุงููุชุบูุฑุฉ ููุง ุฅุฒุงุญุฉ ูุฏุฑูุง 3 ุบูุบุงุจุงูุช.  ุฌุฏูู ุงูุตูุญุฉ ูู ูุฌุฑุฏ ุตููู ูุญุชูู ููู ุนููุงู ุงูุตูุญุฉ ุนูู ุนููุงูู ุงูุญูููู ุ ูุญุงุฐููุง ูุญุฌู ุงูุตูุญุฉ ุ ููุฐูู ุฅุดุงุฑุงุช ุงููุตูู ูุงูุญุงูุฉ.  ููุฐ ุฃู ุงุณุชุฎุฏูุช ุตูุญุงุช ุจุญุฌู 4 ููุฌุงุจุงูุช ุ ุฃุญุชุงุฌ ููุท ุฅูู ุฌุฏูู ุตูุญุงุช PD ูุงุญุฏ ุจู 1024 ุฅุฏุฎุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">section .data align 0x1000 BootPageDirectory: dd 0x00000083 times (KERNEL_PAGE_NUMBER - 1) dd 0 dd 0x00000083 times (1024 - KERNEL_PAGE_NUMBER - 1) dd 0</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ูู ุงูุฌุฏููุ </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุคุฏู ุงูุตูุญุฉ ุงูุฃููู ุฅูู ุงููุณู ุงูุญุงูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ (0-4 ููุบุงุจุงูุช ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ) ุ ูุธุฑูุง ูุฃู ุฌููุน ุงูุนูุงููู ุงูููุฌูุฏุฉ ูู ุงููุนุงูุฌ ุญููููุฉ ูุฃู ุงูุชุฑุฌูุฉ ุฅูู ุงูุธุงูุฑูุฉ ูู ูุชู ุชูููุฐูุง ุจุนุฏ.  ุณูุคุฏู ุบูุงุจ ูุงุตู ูุฐู ุงูุตูุญุฉ ุฅูู ุชุนุทู ููุฑู ุ ุญูุซ ูู ูุชููู ุงููุนุงูุฌ ูู ุฃุฎุฐ ุงูุชุนูููุงุช ุงูุชุงููุฉ ุจุนุฏ ุชุดุบูู ุงูุตูุญุงุช.  ุนูุงูุงุช: ุจุช 0 - ุงูุฌุฏูู ููุฌูุฏ ุ ุจุช 1 - ุงูุตูุญุฉ ููุชูุจุฉ ุ ุจุช 7 - ุญุฌู ุงูุตูุญุฉ 4 ููุบุงุจุงูุช.  ุจุนุฏ ุชุดุบูู ุงูุตูุญุงุช ุ ุชุชู ุฅุนุงุฏุฉ ุชุนููู ุงูุณุฌู. </li><li style=";text-align:right;direction:rtl">  ุชุฎุทู ูุง ูุตู ุฅูู 3 ุฌูุฌุงุจุงูุช - ุชุถูู ุงูุฃุตูุงุฑ ุฃู ุงูุตูุญุฉ ููุณุช ูู ุงูุฐุงูุฑุฉ </li><li style=";text-align:right;direction:rtl">  ุนูุงูุฉ 3 ุบูุบุงุจุงูุช ูู ุฌููุฑูุง ูู ุงูุฐุงูุฑุฉ ุงูุงูุชุฑุงุถูุฉ ุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู 0 ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ.  ุจุนุฏ ุชุดุบูู ุงูุตูุญุงุช ุ ุณูุนูู ููุง.  ุชุดุจู ุงูุฃุนูุงู ุงูุณุฌู ุงูุฃูู. </li><li style=";text-align:right;direction:rtl">  ุชุฎุทู ูุง ูุตู ุฅูู 4 ุฌูุฌุงุจุงูุช. </li></ol><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุฃุนููุง ุงูุฌุฏูู ููุฑูุฏ ุงูุขู ุชุญููู ุนููุงูู ุงููุนูู ูู CR3.  ูุง ุชูุณู ุฅุฒุงุญุฉ ุงูุนููุงู ุงูุจุงูุบ 3 ุบูุบุงุจุงูุช ูู ูุฑุญูุฉ ุงูุฑุจุท.  ูุญุงููุฉ ุชุญููู ุงูุนููุงู ููุง ูู ุ ุณูู ูุฑุณููุง ุฅูู ุงูุนููุงู ุงูุญูููู ุงููุชูุซู ูู ุงูุฅุฒุงุญุฉ ุงููุชุบูุฑุฉ 3 ุฌูุฌุงุจุงูุช + ููุคุฏู ุฅูู ุชุนุทู ููุฑู.  ูุฐูู ุ ูุฃุฎุฐ ุนููุงู BootPageDirectory ููุทุฑุญ 3 ุบูุบุงุจุงูุช ููู ุ ุถุนู ูู CR3.  ูููู ุจุชุดุบูู PSE ูู ุณุฌู CR4 ุ ูุชุดุบูู ุงูุนูู ูุน ุงูุตูุญุงุช ุงูููุฌูุฏุฉ ูู ุณุฌู CR0: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> mov ecx, (BootPageDirectory - KERNEL_VIRTUAL_BASE) mov cr3, ecx mov ecx, cr4 or ecx, 0x00000010 mov cr4, ecx mov ecx, cr0 or ecx, 0x80000000 mov cr0, ecx</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุญุชู ุงูุขู ุ ูู ุดูุก ูุณูุฑ ุนูู ูุง ูุฑุงู ุ ูููู ุจูุฌุฑุฏ ุฅุนุงุฏุฉ ุชุนููู ุงูุตูุญุฉ ุงูุฃููู ููุงูุชูุงู ุฃุฎูุฑูุง ุฅูู ุงููุตู ุงูุนููู ูู 3 ุบูุบุงุจุงูุช ุ ุณูููุงุฑ ูู ุดูุก ุ ูุฃู ุณุฌู EIP ูุง ูุฒุงู ูุฏูู ุนููุงู ูุนูู ูู ููุทูุฉ ุฃูู ููุฌุงุจุงูุช.  ูุฅุตูุงุญ ุฐูู ุ ูููู ุจุฅุฌุฑุงุก ุชูุงุนุจ ุจุณูุท: ุถุน ุนูุงูุฉ ูู ุฃูุฑุจ ููุงู ุ ููู ุจุชุญููู ุนููุงูู (ููู ุจุงููุนู ูุน ุฅุฒุงุญุฉ 3 ุบูุบุงุจุงูุช ุ ุชุฐูุฑ ุฐูู) ููู ุจุฅุฌุฑุงุก ููุฒุฉ ุบูุฑ ูุดุฑูุทุฉ ูู ุฎูุงูู.  ุจุนุฏ ุฐูู ุ ูููู ุฅุนุงุฏุฉ ุชุนููู ุตูุญุฉ ุบูุฑ ุถุฑูุฑูุฉ ููุชุทุจููุงุช ุงููุณุชูุจููุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> lea ecx, [StartInHigherHalf] jmp ecx StartInHigherHalf: mov dword [BootPageDirectory], 0 invlpg [0]</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ูุชุนูู ุงูุฃูุฑ ุจุงูุดูุก ุงูุตุบูุฑ ููุบุงูุฉ: ุชููุฆุฉ ุงูุญุฒูุฉ ุ ูุงุฌุชูุงุฒ ุจููุฉ GRUB ูุงููุฌููุน ูููู! </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> mov esp, stack+STACKSIZE push eax push ebx lea ecx, [BootPageDirectory] push ecx call kmain hlt section .bss align 32 stack: resb STACKSIZE</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ุชุญุชุงุฌ ููุนุฑูุชู ุญูู ูุฐุง ุงูููุฏ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููููุง ููุงุชูุงููุฉ C ููููุงููุงุช (ุชูุทุจู ุฃูุถูุง ุนูู ุงูุตุฏุฃ) ุ ูุชู ููู ุงููุชุบูุฑุงุช ุฅูู ุงููุธููุฉ ูู ุฎูุงู ุงูููุฏุณ ุจุงูุชุฑุชูุจ ุงูุนูุณู.  ุชุชู ูุญุงุฐุงุฉ ุฌููุน ุงููุชุบูุฑุงุช ุจูุงุณุทุฉ 4 ุจุงูุช ูู x86. </li><li style=";text-align:right;direction:rtl">  ุชูุฏุณ ุงูููุฏุณ ูู ุงูููุงูุฉ ุ ูุฐูู ูุฌุจ ุฃู ูุคุฏู ุงููุคุดุฑ ุฅูู ุงูููุฏุณ ุฅูู ููุงูุฉ ุงูููุฏุณ (ุฅุถุงูุฉ STACKSIZE ุฅูู ุงูุนููุงู).  ูุงู ุญุฌู ุงูููุฏุณ ุงูุฐู ุฃุฎุฐุชู 16 ููููุจุงูุช ุ ููุฌุจ ุฃู ูููู ูุงูููุง. </li><li style=";text-align:right;direction:rtl">  ูุชู ููู ุงูุชุงูู ุฅูู kernel: ุงูุฑูู ุงูุณุญุฑู Multiboot ุ ุงูุนููุงู ุงููุนูู ููููู ุฃุฏุงุฉ ุชุญููู ุงูุชุดุบูู (ุชูุฌุฏ ุจุทุงูุฉ ุฐุงูุฑุฉ ูููุฉ ููุง) ุ ุงูุนููุงู ุงูุธุงูุฑู ูุฌุฏูู ุงูุตูุญุฉ (ูู ููุงู ูุง ูู ูุณุงุญุฉ 3 ุบูุบุงุจุงูุช) </li></ol><br><p style=";text-align:right;direction:rtl">  ุฃูุถูุง ุ ูุง ุชูุณู ุฃู ุชุนูู ุฃู kmain ุฎุงุฑุฌู ูุฃู ุฃุฏุงุฉ ุงูุชุญููู ุนุงูููุฉ. </p><br><h1 id="dalneyshie-shagi" style=";text-align:right;direction:rtl">  ุฎุทูุงุช ุฅุถุงููุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุงุญุธุงุช ุงูุชุงููุฉ ุ ุณุฃุชุญุฏุซ ุนู ุฅุนุฏุงุฏ ุณุฌูุงุช ููููุงุทุน ุ ูุงุณุชุนุฑุถ ุจุฅูุฌุงุฒ ุฅุฎุฑุงุฌ ุงููุนูููุงุช ูู ุฎูุงู ูุฎุฒู ูุคูุช VGA ุ ูุฃุฎุจุฑู ููู ูุธูุช ุงูุนูู ูุน ุงูููุงุทุนุงุช ุ ูุฅุฏุงุฑุฉ ุงูุตูุญุฉ ุ ูุฃุญุจ ุดูุก - ุชุนุฏุฏ ุงูููุงู - ุณุฃุชุฑู ููุญููู. </p><br><p style=";text-align:right;direction:rtl">  ุฑูุฒ ุงููุดุฑูุน ุงููุงูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุงุญ ุนูู GitLab</a> . </p><br><p style=";text-align:right;direction:rtl">  ุดูุฑุง ูุงูุชูุงููู! </p><br><p style=";text-align:right;direction:rtl">  UPD2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 2</a> <br>  UPD2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 3</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar445506/">https://habr.com/ru/post/ar445506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar445494/index.html">ููู ูุณุฑ ุฌุฒุก ุงูุชุฑููุฒ CSS ุงููุชุฑุฌู C ++</a></li>
<li><a href="../ar445496/index.html">ููู ูุณุฑ ุฌุฒุก ุงูุนูุงูุงุช CSS ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู C ++</a></li>
<li><a href="../ar445500/index.html">ุญูู ุชูุฒูุนุงุช ููุชูุญุฉ ุ ููุชูุญุฉ ุงููุตุฏุฑ ุ ููุฑูุฉ</a></li>
<li><a href="../ar445502/index.html">Vivaldi 2.4 - ุญุฑู ุงูุฃุฒุฑุงุฑ ุจูุฏูู</a></li>
<li><a href="../ar445504/index.html">ุฃุตุจุญุช ุฅุฏุงุฑุฉ ุฎุฏูุงุช ุชูููููุฌูุง ุงููุนูููุงุช (ITSM) ุฃูุซุฑ ููุงุกุฉ ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงูุชุนูู ุงูุขูู</a></li>
<li><a href="../ar445510/index.html">ุฅุฏุงุฑุฉ ุงูุชููุนุงุช ุฃู ููู ูุง</a></li>
<li><a href="../ar445512/index.html">ููู ุตูุนูุง PHP 7 ูุฑุชูู ุฃุณุฑุน ูู PHP 5. ุงูุฌุฒุก 2: ุชุญุณูู ุงูุฑูุฒ ุงููุฑุนู ูู PHP 7.1</a></li>
<li><a href="../ar445516/index.html">ุญุงูุงุช ุงููู ุงูุนุตุจูุฉ - ุชูุซูู ุฏุงูุฉ ููุฌูุฉ ุจูุงุณุทุฉ ุดุจูุฉ ุนุตุจูุฉ</a></li>
<li><a href="../ar445518/index.html">ุงูุญุฏูุฏ ุงููุฏูู: ุงูุฃุฏูุงุช ุงูุฅููุชุฑูููุฉ ุงูุชู ุชุถูุน ูู ุฃุนูุงู ุงูุชุงุฑูุฎ</a></li>
<li><a href="../ar445520/index.html">ููุญูุงุช ูู Visual Studio Code ุงูุชู ุชุณุงุนุฏู ุนูู ุงูุนูู ูุน Git</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>