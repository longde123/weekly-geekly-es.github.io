<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úãüèº üàµ üç∏ Treinamento Cisco 200-125 CCNA v3.0. Dia 31. CDP, Syslog e NTP üîì üßîüèΩ üë®‚Äçüåæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, examinaremos tr√™s conceitos: o protocolo Cisco CDP propriet√°rio, o log do sistema Syslog e o protocolo de hor√°rio da rede NTP. Tamb√©m continuare...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Treinamento Cisco 200-125 CCNA v3.0. Dia 31. CDP, Syslog e NTP</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/465977/"> Hoje, examinaremos tr√™s conceitos: o protocolo Cisco CDP propriet√°rio, o log do sistema Syslog e o protocolo de hor√°rio da rede NTP.  Tamb√©m continuaremos a discutir o t√≥pico dos problemas e examinar algumas ferramentas para diagnostic√°-los, depois analisar o Syslog e o NTP e, no final da li√ß√£o, discutir o CDP e o LLDP. <br><br>  Na li√ß√£o anterior, examinamos a metodologia de solu√ß√£o de problemas e agora falarei sobre v√°rias ferramentas integradas ao sistema operacional e aos dispositivos Cisco que podem ajud√°-lo a resolver problemas de rede. <br><br>  A primeira ferramenta √© o comando ipconfig e, como a maioria das pessoas usa o Windows 10, veremos esse comando usando este SO como exemplo.  Se voc√™ for ao terminal de linha de comando do seu computador e digitar o comando ipconfig, poder√° ver os par√¢metros de configura√ß√£o de todas as interfaces de rede dispon√≠veis no seu computador. <br><br><img src="https://habrastorage.org/webt/f6/-9/6l/f6-96lo5pw0zenpcqovymdfxcjw.jpeg"><br><br>  Voc√™ ver√° uma interface virtual de software Ethernet Adapter VPN e v√°rias outras interfaces de software, cujo n√∫mero depende dos drivers dispon√≠veis no sistema.  Aqui √© mostrado meu adaptador de LAN sem fio Wi-Fi, com o qual agora estou conectado √† Internet, os dados no adaptador virtual WMware Network WMnet1 est√£o localizados um pouco mais alto.  O adaptador de t√∫nel √© mostrado abaixo, ou seja, todos os adaptadores instalados pelo software VPN s√£o exibidos aqui. <a name="habracut"></a><br><br>  O t√≥pico do curso CCNA exige que voc√™ conhe√ßa dois adaptadores: um adaptador Wi-Fi sem fio e um adaptador Ethernet. <br><br><img src="https://habrastorage.org/webt/uq/tx/ek/uqtxekxqi20bmcytun7reeigss4.jpeg"><br><br>  Para uma rede de escrit√≥rio, o adaptador sem fio √© mais importante e, se algum usu√°rio entrar em contato com um problema, primeiro voc√™ precisar√° usar o comando ipconfig e verificar o endere√ßo IP do dispositivo.  Voc√™ deve verificar se esse endere√ßo est√° no intervalo de endere√ßos DHCP.  Talvez o usu√°rio tenha desativado a din√¢mica e o IP est√°tico, que n√£o faz parte do DHCP, ou o dispositivo esteja configurado para obter automaticamente um endere√ßo IP e, por algum motivo, n√£o possa entrar em contato com o servidor DHCP. <br><br>  Se voc√™ precisar de informa√ß√µes mais completas, use o comando ipconfig / all.  Voc√™ receber√° os mesmos dados, mas de forma mais detalhada, com a descri√ß√£o da marca do adaptador, par√¢metros DHCP, endere√ßo local do link, endere√ßo IP, per√≠odo de validade da concess√£o do servidor, endere√ßo de gateway padr√£o e assim por diante. <br><br><img src="https://habrastorage.org/webt/so/9f/h1/so9fh161ces0au1rr-7jbz00f5u.jpeg"><br><br>  Se, como resultado da verifica√ß√£o dessas informa√ß√µes, tudo estiver bem com o endere√ßo IP e as configura√ß√µes da interface n√£o forem a causa do problema, voc√™ dever√° usar outras ferramentas de diagn√≥stico, como o NSLookup.  Este √© um utilit√°rio que permite acessar o sistema DNS atrav√©s da linha de comando.  Se isso n√£o resolver o problema, use ping.  Eu uso o comando ping 8.8.8.8, ou seja, eu sigo o DNS p√∫blico do Google.  Se o ping passar, tudo estar√° em ordem com a conex√£o e o motivo deve ser procurado em outro lugar. <br><br>  Se o ping n√£o for aprovado, voc√™ precisar√° usar uma ferramenta chamada Trace Route, ou tracert.  Este √© um comando do Windows para rastrear a rota para um determinado host.  Se voc√™ digitar tracert 8.8.8.8 na linha de comandos, receber√° ping com o valor TTL = 1 com um rastreamento de rota de at√© 30 n√≥s.  Como voc√™ pode ver, o primeiro n√≥ √© o meu roteador, o sistema mostrou o firmware DD-WRT e o endere√ßo IP 192.168.1.1, o segundo √© o servidor do meu provedor com o endere√ßo IP 192.168.100.1, atrav√©s do qual vou para a Internet e depois pings em outros n√≥s e chega ao servidor do Google.  No nosso caso, resultaram 14 esperan√ßas, mas se, por exemplo, surgir um problema do lado do meu provedor, o rastreamento ser√° interrompido ap√≥s o terceiro n√≥ que caracteriza o servidor ISP. <br><br><img src="https://habrastorage.org/webt/7i/qy/zy/7iqyzy7odxlbo85k9dtbk__eqou.jpeg"><br><br>  Portanto, o Trace Route √© uma excelente ferramenta para identificar problemas ao longo da rota de tr√°fego. <br><br>  Vamos dar uma olhada no que √© o NSLookup.  Este √© um comando que fala sobre o seu servidor DNS.  Se voc√™ digitar nslookup, recebo duas linhas: o servidor padr√£o √© DD-WRT, ou seja, meu roteador e seu endere√ßo √© 192.168.1.1.  Se eu especificar um servidor DNS espec√≠fico com o comando 8.8.8.8 do servidor, o sistema fornecer√° sua descri√ß√£o e endere√ßo IP.  Dessa forma, voc√™ pode verificar qualquer servidor DNS.  Da mesma maneira, posso obter dados sobre um dom√≠nio espec√≠fico digitando, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.cisco.com</a> . <br><br><img src="https://habrastorage.org/webt/2c/hc/gc/2chcgcfg7mt1taavbtd_9qldsvs.jpeg"><br><br>  Como voc√™ pode ver, a Cisco usa duas vers√µes do endere√ßo IP e, se eu digitar google.com, veremos muitos endere√ßos IP usados ‚Äã‚Äãpor este servidor.  Este √© um servi√ßo enorme, que √© acessado por tantas pessoas que um endere√ßo IP pode n√£o ser suficiente. <br><br><img src="https://habrastorage.org/webt/v-/_v/bq/v-_vbqbx-0xm4xs_xb5pp_ph8qa.jpeg"><br><br>  H√° uma piada de que, quando as pessoas querem saber se a Internet est√° funcionando, elas simplesmente digitam google.com.  Al√©m dos usu√°rios de PC, os propriet√°rios de smartphones com Android est√£o constantemente acessando esse servi√ßo; portanto, h√° simplesmente um tr√°fego enorme passando pelos servidores desta empresa. <br><br>  Portanto, o comando nslookup permite descobrir o endere√ßo IP de um nome de dom√≠nio espec√≠fico.  Todas as ferramentas mencionadas acima n√£o corrigem os problemas, mas servem para diagnostic√°-los.  Quanto mais voc√™ pratica no setor de TI, mais efetivamente poder√° usar essas ferramentas, porque somente a pr√°tica e a experi√™ncia podem ensin√°-lo a diagnosticar e corrigir rapidamente os problemas de rede.  A pr√°tica lhe dar√° a oportunidade de entender qual √© o problema, de relance nas configura√ß√µes de rede do console do computador.  Portanto, depois de concluirmos o estudo do t√≥pico do ICND1, publicarei trabalhos de laborat√≥rio pr√°ticos no site para que voc√™ possa aplicar o conhecimento da teoria. <br><br>  Antes de falar sobre o syslog, quero falar sobre o comando Terminal Monitor do sistema operacional Cisco IOS.  Entrarei no programa Packet Tracer (se voc√™ ainda n√£o o instalou, poder√° se registrar na Network Academy e fazer o download deste programa), pegar dois roteadores e conect√°-los com um cabo. <br><br>  Depois, entrarei no modo de configura√ß√£o global e revezarei na configura√ß√£o desses roteadores, dando os nomes R0 e R1. <br><br><img src="https://habrastorage.org/webt/pc/b_/rg/pcb_rg5syep3srml9bngkixaaku.jpeg"><br><br>  Em seguida, nas configura√ß√µes R1, inserirei o comando enable password enable para definir a senha e configurar a interface g0 / 0 usando o ip add 10.1.1.2 255.255.255.0 e sem comandos shut.  Da mesma maneira, configurarei o roteador R0 atribuindo a ele o endere√ßo IP 10.1.1.1.  Em seguida, ativei o protocolo Telnet com o comando line vty 0 4 e defino a senha para inserir o Telnet com os comandos telnet de login e senha.  A seguir, irei √†s configura√ß√µes de R0 e usarei o comando telnet 10.1.1.2 para estabelecer uma conex√£o com o roteador R1.  Depois disso, o sistema solicitar√° uma senha para estabelecer uma conex√£o e inserirei a palavra telnet, que defini como a senha para R1.  Como voc√™ pode ver, depois disso, na linha de comando, o nome do roteador R0 mudou para R1 - isso significa que passei pelo roteador R0 para as configura√ß√µes do roteador R1. <br><br><img src="https://habrastorage.org/webt/se/nu/y4/senuy4fu7fbkzerhi1y7g8noz7c.jpeg"><br><br>  Agora vamos para a interface g0 / 1 e mostrarei algumas coisas.  Primeiro, eu uso o comando no shut para isso.  Voc√™ v√™ que a mensagem de log apareceu na janela CLI do segundo roteador, que o estado da interface g0 / 1 foi alterado para cima. <br><br><img src="https://habrastorage.org/webt/st/jo/fd/stjofdzlgbi1f6tc_c_dgm1noqa.jpeg"><br><br>  Desde que eu inseri as configura√ß√µes R1 do roteador R0, verificou-se que eu havia conectado um laptop comum ao segundo roteador com um cabo e o controlado remotamente.  No entanto, essa mensagem de log apareceu apenas na janela R1, porque eu estava conectado ao segundo roteador apenas pelo canal Telnet e n√£o foi duplicado na janela CLI do primeiro roteador.  O fato √© que, se voc√™ inseriu remotamente as configura√ß√µes de um dispositivo localizado, por exemplo, em outro pr√©dio, por padr√£o, as mensagens de log desse dispositivo n√£o ser√£o exibidas na tela. <br><br>  Para que essas mensagens de log sejam exibidas na tela do seu dispositivo, voc√™ deve usar o comando terminal monitor.  De fato, isso significa que, se alguma mensagem de log de eventos aparecer na tela de outro dispositivo, elas dever√£o ser enviadas na forma de pacotes, atrav√©s do protocolo Telnet, para o endere√ßo IP do seu dispositivo.  Por padr√£o, as mensagens de log n√£o s√£o enviadas para o endere√ßo IP, mas depois de inserir o comando do monitor de terminal, isso come√ßar√° a acontecer.  Se eu inserir o comando shutdown na janela de configura√ß√µes do roteador R1, uma mensagem de log sobre a altera√ß√£o do estado da interface aparecer√° simultaneamente nas duas telas. <br><br><img src="https://habrastorage.org/webt/n4/ex/sk/n4exskp970o-aj8-qp1b2c5l0jw.jpeg"><br><br>  Agora vou entrar no modo de configura√ß√µes globais R1 na primeira janela e come√ßar a digitar algum comando, por exemplo, int g0 / 0.  Suponha que eu consegui imprimir apenas int g0 / e, naquele momento, algum tipo de mensagem de log apareceu.  Minha equipe ser√° dividida em peda√ßos por esta mensagem; portanto, 0 estar√° na pr√≥xima linha e o dispositivo poder√° n√£o entender.  Isso √© especialmente inconveniente se eu digitar um comando longo ou se as mensagens de log consistirem em v√°rias linhas, porque n√£o sei onde parar de digitar para que minha equipe n√£o seja dividida em peda√ßos ou posso esquecer de onde parei. <br><br><img src="https://habrastorage.org/webt/ve/bi/qh/vebiqhnjmtg6uqdk0etrdsjfhcs.jpeg"><br><br>  Para evitar isso, a sincroniza√ß√£o de log √© usada.  Digite o comando line vty 0 4 na janela da direita para acessar as configura√ß√µes do Telnet, ap√≥s o que o cabe√ßalho da linha de comando muda de R1 (config-if) para R1 (config-line).  Em seguida, insiro o comando s√≠ncrono de log e volto para a janela esquerda. <br><br>  Agora repito a mesma situa√ß√£o - digite int g0 / e pausa, durante o qual a mensagem de log aparece novamente.  Ele tamb√©m aparece nas duas telas, mas agora o texto n√£o quebra meu comando e, por baixo, apenas repete o que comecei a digitar.  Agora, com calma, posso continuar digitando a equipe que comecei, sem medo de que seja dividida em peda√ßos pelos logs que aparecem.  Para mim, como usu√°rio, isso √© muito conveniente, porque voc√™ n√£o precisa pensar em como digitar um comando mais rapidamente, at√© que de repente uma mensagem de log de eventos seja exibida.  √â isso que o comando s√≠ncrono de log faz ou "sincroniza logs". <br><br><img src="https://habrastorage.org/webt/zk/r0/pv/zkr0pvyxzbst_gytdh3pth4mciy.jpeg"><br><br>  Cada uma das mensagens de log possui um certo n√≠vel de prioridade; no nosso exemplo, √© o n√≠vel 5. Quanto menor o valor do n√≠vel de log, mais importante √© a mensagem.  Existem 8 n√≠veis de prioridade dos logs da Cisco no total. <br><br><img src="https://habrastorage.org/webt/jl/7e/9g/jl7e9gtrfe9dtgdih32qqem42tq.jpeg"><br><br>  0 - emerg√™ncia, o sistema n√£o est√° totalmente operacional, <br>  1 - situa√ß√£o alarmante, √© necess√°ria interven√ß√£o urgente, <br>  2 - eventos cr√≠ticos, o sistema pode falhar, <br>  3 - mensagens de erro, <br>  4 - todos os tipos de avisos <br>  5 - v√°rias notifica√ß√µes importantes, <br>  6 - mensagens informativas, <br>  7 - mensagens de depura√ß√£o. <br><br>  Os tr√™s primeiros n√≠veis relatam condi√ß√µes perigosas do sistema, o n√≠vel 3 indica problemas no sistema, o quarto n√≠vel avisa que o estado do sistema pode se tornar inst√°vel, mas ainda est√° funcionando.  O n√≠vel 5 notifica sobre v√°rios eventos, por exemplo, sobre uma altera√ß√£o no estado do link, como no nosso exemplo.  Se voc√™ usar o modo de depura√ß√£o, a tela exibir√° mensagens de depura√ß√£o do 7¬∫ n√≠vel.  Se voc√™ √© uma pessoa ocupada e n√£o deseja ler todos os registros, pode escolher qual n√≠vel de mensagens de perigo ser√° exibido na tela. <br><br>  Por exemplo, quero ver apenas as mensagens de log at√© o terceiro n√≠vel de perigo.  Nesse caso, o sistema exibir√° apenas mensagens dos n√≠veis 0, 1, 2 e 3, ignorando as mensagens dos n√≠veis 4-7.  Por padr√£o, o n√≠vel 7 est√° definido, para que voc√™ veja os logs de todos os n√≠veis, de zero a s√©timo. <br><br>  Examinamos o que √© o monitor Terminal e agora vamos para o Syslog.  Se mensagens de log importantes aparecerem na tela, conv√©m salv√°-las de alguma forma no servidor Syslog, porque geralmente essas mensagens s√£o armazenadas apenas na mem√≥ria do roteador e voc√™ n√£o poder√° analis√°-las depois de algum tempo. <br><br>  Vamos voltar ao Packet Tracer e adicionar um servidor ao circuito que est√° diretamente conectado ao primeiro roteador.  Na pr√°tica, o switch deve estar localizado entre eles, mas usamos esse esquema para fins de treinamento, para que possamos passar sem o switch.  Entro nas configura√ß√µes de rede do servidor e atribuo a ele um endere√ßo IP est√°tico 10.1.2.10, uma m√°scara de sub-rede 255.255.255.0 e um endere√ßo de gateway padr√£o 10.1.2.1.  Este endere√ßo ainda n√£o existe, mas eu o configurarei quando continuar a configurar a interface do roteador R0. <br><br>  Em seguida, irei √†s configura√ß√µes de R0, use o comando g0 / 1 e atribuirei a ele o endere√ßo 10.1.2.1 com uma m√°scara de sub-rede 255.255.255.0.  Assim, o servidor e o roteador estar√£o na mesma rede.  Ent√£o eu preciso ir para as configura√ß√µes do segundo roteador R1 e configurar a conex√£o com o primeiro roteador.  Voc√™ pode configurar um RIP ou uma rota est√°tica, neste caso, eu escolho o √∫ltimo. <br><br>  Para fazer isso, insiro o comando ip route 0.0.0.0 0.0.0.0 10.1.1.1, ou seja, indico que todo o tr√°fego √© enviado para o endere√ßo 10.1.1.1.  Ent√£o eu entro no show ip route e vejo que o gateway da √∫ltima fila Gateway de √∫ltimo recurso tem o endere√ßo 10.1.1.1 para a rede 0.0.0.0. <br><br>  Agora vou verificar se √© poss√≠vel executar ping no dispositivo em 10.1.2.10.  Se voc√™ se lembra, o ping √© uma ferramenta de diagn√≥stico e, como voc√™ pode ver, o ping foi bem-sucedido.  Em seguida, ative o modo de depura√ß√£o com o comando debug ip icmp, isso significa que toda vez que o roteador tocar, uma mensagem correspondente ser√° exibida na janela do console. <br><br>  Se eu executar ping no R1 do roteador esquerdo R0 usando o comando ping 10.1.1.2, as mensagens de log aparecer√£o na janela CLI do roteador direito, por padr√£o, n√≠vel de prioridade 7.  Desejo que todas as mensagens de log exibidas durante o processo de configura√ß√£o sejam enviadas ao servidor Syslog.  Para fazer isso, vou para a guia Servi√ßos do painel de configura√ß√µes do servidor e vejo que o par√¢metro Syslog est√° ativado por padr√£o.  Bem, agora devo dizer ao R1: ‚Äúsempre que uma mensagem de log aparecer, envie-a para o servidor Syslog em 10.1.2.10!‚Äù.  Para fazer isso, insiro o comando log 10.1.2.10.  Agora todas as mensagens de log ser√£o enviadas para o servidor.  Vamos ver como isso acontece. <br><br>  Entro nas configura√ß√µes de R0 e novamente sigo o roteador R1.  Na janela CLI do servidor certo, aparece a mensagem de depura√ß√£o, que deve ser encaminhada ao servidor Syslog.  Vou para a guia Syslog do servidor e vejo que todas essas mensagens apareceram l√°. <br><br><img src="https://habrastorage.org/webt/rm/ar/ad/rmaradajb2w4sgipn5d5bhr44gc.jpeg"><br><br>  Portanto, se algum evento ocorreu durante o fim de semana, depois de ter chegado ao trabalho na segunda-feira, voc√™ poder√° visualizar todas as mensagens de log nas quais esses eventos s√£o registrados.  Se voc√™ tiver algum problema, poder√° analisar o que aconteceu e aplicar medidas para elimin√°-lo. <br><br>  No entanto, se voc√™ observar atentamente as mensagens do Syslog, ver√° um erro: todas elas t√™m um carimbo de data / hora em 1¬∫ de janeiro de zero hora.  Isso significa que n√£o consigo descobrir quando os eventos gravados realmente aconteceram.  Isso aconteceu porque o rel√≥gio do sistema do roteador R1 mostra a hora errada.  Se eu digitar o comando show clock nas configura√ß√µes deste roteador, vou ver a mensagem 0: 26: 9.539 UTC de segunda-feira, 1 de mar√ßo de 1993. Isso significa que 26 minutos e 9 segundos se passaram desde que o roteador foi ligado, e o rel√≥gio padr√£o come√ßa a contar a partir de 1¬∫ de mar√ßo de 1993 anos. <br>  Posso definir manualmente a hora correta e come√ßar a faz√™-lo com o roteador R0.  Entro no comando clock set e, em seguida, defino a hora correta no formato hh: mm: ss.  Depois de inserir 22:05:00, o sistema fornece uma solicita√ß√£o para inserir o dia do m√™s de 1 a 31 e o nome do m√™s.  Estou imprimindo em 14 de mar√ßo e agora devo inserir o ano no intervalo de 1993 a 2035. Como resultado, digito a linha 22:05:00 em 14 de mar√ßo de 2017, ap√≥s o qual pressione Enter.  Se voc√™ agora digitar show clock, o sistema exibir√° a hora correta. <br><br><img src="https://habrastorage.org/webt/ph/ss/bv/phssbvazbjjs3rdpmqjyvpt2vvg.jpeg"><br><br>  Voc√™ pode perguntar por que eu ajusto o hor√°rio no roteador R0, e n√£o no R1.  Isso ocorre porque quero mostrar a configura√ß√£o autom√°tica de hora do segundo roteador.  Em seguida, insiro os comandos debug ip icmp e log 10.1.2.10 nas configura√ß√µes R0 para que os logs sejam enviados ao servidor Syslog. <br><br>  Ent√£o desabilito a depura√ß√£o do roteador R1 com o comando un all e sigo o dispositivo 10.1.1.1.  O ping foi bem-sucedido e, se agora voc√™ observar os logs do servidor, poder√° ver que novas mensagens foram adicionadas aqui, mas por algum motivo novamente com a hora e a data zero.  Isso √© estranho, porque a hora correta tamb√©m √© mostrada nas configura√ß√µes do roteador R1.  Novamente sigo o roteador R0 do roteador R1, as mensagens de log aparecem na tela e no log do servidor, mas novamente com a data errada.  Provavelmente as informa√ß√µes ainda n√£o foram atualizadas e tentarei descobrir o porqu√™. <br>  Vou para as configura√ß√µes do roteador R0 e desligo as mensagens de depura√ß√£o com o comando un all, ap√≥s o qual vou para as configura√ß√µes do roteador R1 e insiro o comando service timestamps, que coloca um carimbo de data / hora nas mensagens de depura√ß√£o ou nas mensagens de log.  No nosso caso, eu uso timestamps de servi√ßo log datetime ms. <br><br>  Ent√£o volto para as configura√ß√µes de R0 e sigo R1.  Agora voc√™ v√™ que as mensagens apareceram no servidor com a data e hora: 1¬∫ de mar√ßo, 00:31:02 com milissegundos.  Mas esta √© a data errada, j√° que eu n√£o marquei 1 de mar√ßo, mas 14 de mar√ßo!  Pe√ßo desculpas por cometer erros neste tutorial em v√≠deo, agora vou corrigi-los. <br><br>  Vou tentar definir a hora correta de uma maneira diferente.  O fato √© que, at√© que eu ativei o servi√ßo de registro de data e hora, as mensagens chegaram com a data e hora padr√£o.  Ativei o servi√ßo de registro de data e hora, mas depois disso n√£o configurei a hora e a data corretas, e √© por isso que o registro de data e hora nas mensagens de log se mostrou incorreto. <br><br>  O problema com a defini√ß√£o manual da hora √© que, se voc√™ tiver centenas de dispositivos, precisar√° acessar as configura√ß√µes de cada dispositivo e definir a hora e a data.  Para evitar isso, existe um mecanismo NTP autom√°tico, ou protocolo de hor√°rio da rede, que sincroniza o hor√°rio de um computador com o hor√°rio dos dispositivos de rede.  Voc√™ pode selecionar um dispositivo de rede como um mestre NTP e definir o tempo desejado.  O estudo deste protocolo est√° al√©m do escopo do curso CCNA, e n√£o tenho certeza de que o comando ntp master seja suportado pelo Packet Tracer.  Mas ainda tento definir o hor√°rio correto, para o qual adicionarei outro servidor √† nossa rede e atribuirei a ele um servidor NTP. <br><br>  Para fazer isso, vou entrar em suas configura√ß√µes e verificar a guia NTP.  Como voc√™ pode ver, a data e a hora corretas s√£o definidas aqui e a fun√ß√£o NTP est√° ativada. <br><br><img src="https://habrastorage.org/webt/nm/7e/49/nm7e499hdsmljca8zx-zvpvo6ac.jpeg"><br><br>  Depois, vou para as configura√ß√µes de rede do Servidor1 e atribuo a ele um endere√ßo IP 10.1.3.10, uma m√°scara de sub-rede 255.255.255.0 e um gateway padr√£o 10.1.3.1.  Como mencionei anteriormente, esse gateway n√£o est√° configurado, ent√£o eu vou para as configura√ß√µes do roteador R1 e configuro a interface g0 / 1 para se comunicar com o servidor emitindo o ip add 10.1.3.1 255.255.255.0 e sem comandos de fechamento. <br><br>  Em seguida, nas configura√ß√µes do roteador, insiro o comando ntp server 10.1.3.10, ap√≥s o qual o roteador R1 poder√° receber a hora correta do servidor NTP.  Como voc√™ pode ver, agora temos mensagens de log de n√≠vel 5 com o registro de data e hora correto. <br><br><img src="https://habrastorage.org/webt/0v/qe/ek/0vqeekqk9j44hs8beajta_tukdo.jpeg"><br><br>    show clock, ,     .     ntp association,     ,      Packet Tracer,      ntp. <br><br><img src="https://habrastorage.org/webt/fq/y3/zi/fqy3zicegk9gizgj1i2cegdloz0.jpeg"><br><br>  ntp status    ,    .  ,    Stratum  2 ‚Äì  ,      NTP-,    R2    ,     1.       ,       R1,    stratum   3 (NTP- + R1 +  ),   R1     NTP-    2.  ,       . <br><br>      R0    R1   10.1.1.2,    ,      Server0     ,  . <br><br><img src="https://habrastorage.org/webt/ie/db/ep/iedbepi6kkhhb_rhw2bvhnt1bew.jpeg"><br><br>   ,   NTP  Syslog.        ‚Äì CDP,  Cisco Discovery Protocol.        . <br><br> ,      ,    ,      ,         .       Cisco,     ,   ,    IP-.  ,   LLDP,  Link Layer Discovery Protocol,      ,   CDP,            . <br><br>  CDP    Cisco  .      LLDP,        Cisco .          ,    LLDP,        Cisco,   CDP. <br><br>  ,    ,         Packet Tracer.   ,  ,  CDP     ,   Server0      R0. ,          ,    . <br><br>      CLI  R0    show cdp.  ,    cdp-  60 ,     180 ,     ‚Äì CDPv2. <br><br><img src="https://habrastorage.org/webt/fw/g-/xw/fwg-xwk2qngn5xvhyw4trnn5iai.jpeg"><br><br>  CDP    ,       , ,    .        60 .     show cdp neighbors,    ,   R0       CDP-. <br><br><img src="https://habrastorage.org/webt/wc/wq/oo/wcwqooo-dx6ng2e9j60kbeiyyf8.jpeg"><br><br>    ,   R0    ‚Äì  R1  .  R1   R    1900    R0   g0/0,    g0/0     R0. <br><br>  ,   show cdp neighbors    ,      , ,        .      ,            . <br><br>        R0 ‚Äì    2960,        g0/1.       , ,   ,   ,         ,    Capability,        : R ‚Äì , S ‚Äì , H-   ..      R0   FastEthernet 0/1. <br><br>    , CDP    .   ,   ,     ‚Äì  CDP   .   ,      ,     .     CDP?     config t         cdp run. ,     cdp    .   cdp    no cdp run.  ,    cdp,   show cdp ‚Äì  ,        CDP is not enable. <br><br>   ,     cdp    ,     .  ,   ,     cdp  cdp run,      , , int g0/1,     cdp enable,     ,  no cdp enable,       .    no cdp enable  cdp       ,      . ,   / cdp      run,     ‚Äì  enable. <br><br>      show cdp neighbors, ,         R0      ‚Äì  R1.     cdp   g0/1,   ¬´¬ª. <br><br>     LLDP      ,  CDP,  lldp run/no lldp run.  ,       Cisco  CDP ,  LLDP ‚Äì .    LLDP   , , g0/1,           lldp receive,      ,  lldp transmit,     LLDP -. <br><br>         ,    no lldp receive,     ‚Äì no lldp transmit.   CDP  LLDP   ,       ,    ‚Äì  ,        LLDP -. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YHa-dXBfUrE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?       , <b>30%        entry-level ,      :</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps  $20     ?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV a partir de US $ 199</a> na Holanda!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - a partir de US $ 99!</b></b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt465977/">https://habr.com/ru/post/pt465977/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt465961/index.html">Aprenda Internet Marketing por conta pr√≥pria: mais de 50 cursos gratuitos</a></li>
<li><a href="../pt465963/index.html">Biografia de sal√°rios na Alemanha 2019</a></li>
<li><a href="../pt465969/index.html">A corre√ß√£o pol√≠tica penetra na R√∫ssia atrav√©s de livros sobre como projetar chips no SystemVerilog para n√£o iniciantes</a></li>
<li><a href="../pt465973/index.html">10 reportagens em v√≠deo mais populares do 404fest 2018</a></li>
<li><a href="../pt465975/index.html">Guia SQL: Como escrever consultas melhor (parte 2)</a></li>
<li><a href="../pt465979/index.html">Lembre-se de que ^ W √© exatamente o que voc√™ precisa. Experi√™ncia usando Anki. Parte 1 (introdut√≥ria, pen√∫ltima)</a></li>
<li><a href="../pt465981/index.html">Minha experi√™ncia em administra√ß√£o do IBM DB2 Express-C quando usada com 1C: Enterprise</a></li>
<li><a href="../pt465983/index.html">Intel Comet Lake: um pouco de 14 nm na d√©cima gera√ß√£o</a></li>
<li><a href="../pt465985/index.html">Aceleramos o processamento distribu√≠do de grandes gr√°ficos usando estruturas probabil√≠sticas de dados e n√£o apenas</a></li>
<li><a href="../pt465987/index.html">O papagaio pousou. O an√∫ncio do livro "Aprendizagem profunda generativa"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>