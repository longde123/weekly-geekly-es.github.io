<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùÑÔ∏è üçÉ üí≠ KANN schn√ºffeln üèä ‚úÇÔ∏è ü§õüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der CAN-Bus selbst wird schon viel benutzt, wo ich mich f√ºr den Einsatz im Auto interessiere, obwohl dieser Bereich nicht eingeschr√§nkt werden kann. V...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>KANN schn√ºffeln</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479672/"><img src="https://habrastorage.org/webt/xr/pc/l1/xrpcl1nludukziojbjxlsuqxgaa.png" align="left">  Der CAN-Bus selbst wird schon viel benutzt, wo ich mich f√ºr den Einsatz im Auto interessiere, obwohl dieser Bereich nicht eingeschr√§nkt werden kann.  Vor allem vor ein paar Jahren hat sich diese Gelegenheit ergeben.  Ich habe mir die allgemeinen Spezifikationen angesehen - es scheint nichts besonders Kompliziertes zu geben.  Ich habe mir die Programme angesehen, die im Internet zu finden sind - und ich mochte keine, jedem fehlte etwas, das mir zu dieser Zeit notwendig erschien.  Ich werde mein Fahrrad neu erfinden.  Ich lasse meinen CAN-Sniffer unter dem Schnitt weiter schn√ºffeln. <br><a name="habracut"></a><br><h2>  CAN-Bus </h2><br>  Eine detaillierte Beschreibung der technischen Details des CAN-Busses ist Teil der Dokumentation.  In diesem Artikel ist es genug zu wissen, dass es: <br><br><ul><li>  hat eine zweiadrige physikalische Verbindung </li><li>  es gibt verschiedene datenraten </li><li>  Zum Anschluss stehen bereits vorgefertigte Chips und sogar vorgefertigte Platinen mit L√∂tteilen zur Verf√ºgung </li></ul><br>  Nachdem ich die Seiten eines ber√ºhmten Online-Shops aus dem Reich der Mitte durchgebl√§ttert hatte, bestellte ich verschiedene Optionen f√ºr Schutzschilde und studierte die Eigenschaften von elektrischen Signalen in einem Auto.  Das Versuchsauto war der LADA Kalina Cross mit dem 127. Motor und einem elektronischen Steuerger√§t ITELMA M74.5 CAN. <br><br>  Ich verbinde mich mit dem OBD-Diagnosestecker (Stifte 6 und 14) und schaue auf das Oszilloskop, das dort ist.  Nach dem Drehen des Z√ºndschl√ºssels beginnen Pakete mit einer Amplitude von bis zu 2,5 V. Ich mache eine Pause auf dem Oszilloskop und schaue mir das Paket an. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kh/zv/qy/khzvqyvzr478w0czmr_otgc9ars.jpeg"></div><br>  Start- und Stoppbits sind erkennbar, einige Daten im Paket.  Zu diesem Zeitpunkt wusste ich bereits, dass die Daten√ºbertragungsrate 500 kbit / s betragen sollte, was f√ºr den Motor-CAN-Bus am h√§ufigsten der Fall ist.  Die Paketdauer betr√§gt ca. 230 Œºs und vor dem Paket liegt eine recht gro√üe Pause in der Daten√ºbertragung vor.  Ich skaliere die Zeit und sehe drei Pakete und pausiere zwischen ihnen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ox/2z/js/ox2zjs6yvmfvfvtvw9zmklvidrw.jpeg"></div><br>  Wenn wir die Dauer der Daten√ºbertragung und die Pause zwischen Paketen addieren, stellt sich heraus, dass die √úbertragung eines Datenst√ºcks ungef√§hr 1 ms dauert. <br><br>  Warum ziehe ich das alles ab?  Und die Frage ist rein praktisch: Reicht die Geschwindigkeit der seriellen Schnittstelle aus, um alle Daten zu √ºbertragen?  Und basierend auf dem, was wir gesehen haben, k√∂nnen wir schlie√üen, dass sich die Geschwindigkeit von 500 kbit / s innerhalb des Pakets entwickelt, was ungef√§hr ein Viertel der √úbertragungszeit beansprucht.  Die durchschnittliche √úbertragungsrate wird also viermal niedriger sein.  Zu diesem Zeitpunkt hatte ich noch keine Geschwindigkeitstests f√ºr die serielle Schnittstelle von Arduino und mit Blick auf die Zukunft kann ich sagen, dass selbst mit dem gebr√§uchlichsten Seriell-zu-USB-CH340-Konverter eine Geschwindigkeit von 2 Mbit / s stabil funktioniert. <br><br><h2>  CAN-Scanner auf Arduino </h2><br>  Der erste angekommene Schild f√ºr den klassischen Arduino UNO.  Ja, es kostet deutlich mehr als seine kleineren Gegenst√ºcke, aber es hat alles an Bord, was Sie brauchen, und sogar zwei Kn√∂pfe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4x/cr/fd/4xcrfd8lgpvb32iclqrayod83nu.jpeg"></div><br>  Mit ihm habe ich alle Experimente begonnen.  Mit dieser Abschirmung und einem zweizeiligen Fl√ºssigkristallschirm wurde eine einfache Schaltung zusammengebaut.  Ziel war es, zumindest einige Daten auf dem Bildschirm anzuzeigen.  Ich habe verschiedene Bibliotheken f√ºr die Arbeit mit dem CAN-Bus auf Arduino sortiert (ich sage gleich, dass die richtige und funktionierende Bibliothek von Seeed Studio mit der Header-Datei mcp_can.h CAN-BUS Shield hei√üt), den Quarzresonator auf dem 16-MHz-Shield ge√§ndert (urspr√ºnglich waren es 8 MHz) - Es gab keine Daten. <br><br>  Auf dem Schild sind zwei Mikrokreise installiert: der CAN-Bus-Controller MCP2515 und der CAN-Bus-Treiber TJA1050.  Nachdem ich die Dokumentation und verschiedene Foren gelesen hatte, entschied ich mich, den TJA1050 auf einen kanonischeren Treiber MCP2551 umzustellen, und die Daten erschienen.  Vielleicht war der TJA1050 anfangs defekt, da es sehr schwierig war, einen Fehler beim Anschlie√üen mit zwei Dr√§hten zu machen. Au√üerdem verwendete ich OBD- und DB9-Steckverbinder f√ºr den Anschluss. <br><br>  Innerhalb weniger Stunden wurde ein einfacher CAN-Scanner geschrieben, der die Nummer des erfassten Pakets, seine ID und bis zu 8 Datenbytes f√ºr dieses Paket auf dem LCD anzeigt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eo/cm/e7/eocme7jad_kkhb1wpyqyurjirom.jpeg"></div><br>  Hier haben sich die Kn√∂pfe am Schild als n√ºtzlich erwiesen, mit denen ich zwischen der Nummer des angezeigten Pakets gewechselt habe. <br><br><div class="spoiler">  <b class="spoiler_title">√úber Schaltfl√§chen</b> <div class="spoiler_text">  Im Allgemeinen haben sich diese Tasten dann f√ºr viele Dinge als n√ºtzlich erwiesen.  Mit ihnen fing ich an, die Steuerung einiger Ger√§te des Autos zu testen. <br></div></div><br>  Der Anfang war gelegt, wir m√ºssen zu einer interessanteren Implementierung √ºbergehen. <br><br><h2>  KANN auf Arduino schn√ºffeln </h2><br>  Die Aufgabe war ganz einfach: <br><br><ul><li>  Paket vom CAN-Bus annehmen </li><li>  Die empfangenen Daten geben wir in unsere Struktur ein </li><li>  Struktur √ºber serielle Schnittstelle senden </li></ul><br>  Bei den ersten beiden Aufgaben habe ich keine Probleme gesehen.  Die Bibliothek bot eine Unterbrechung beim Empfang des n√§chsten Datenpakets und praktische Funktionen zum Empfangen von Daten.  Ich entschied mich jedoch, Daten √ºber die CyberLib-Bibliothek an den Computer zu senden, wodurch ein Teil des Overheads der gesamten Arduino-Plattform entf√§llt und Sie den Prozessor leicht entlasten k√∂nnen, um die Daten zu verarbeiten.  Sp√§ter musste diese Bibliothek aufgegeben werden. <br><br>  Damit die zu sendenden Daten auf der Computerseite korrekt verarbeitet werden, wird vor jedem n√§chsten Datenelement ein Pr√§fix von vier Bytes 0xAA55AA55 in den Stream eingef√ºgt (aus irgendeinem Grund wurden diese Bytes f√ºr die letzten zwei Bytes des DOS-Bootsektors gespeichert, nur in einer anderen Reihenfolge).  Die Logik ist folgende: <br><br><ul><li>  Der Computer liest den gesamten Stream von der seriellen Schnittstelle und findet die gew√ºnschte Pr√§fixsequenz 0xAA55AA55 darin </li><li>  Unmittelbar nach dem Pr√§fix befinden sich 4 Bytes der Paketkennung </li><li>  √úber die Datenl√§nge dieses Pakets wird die L√§nge des gesamten Pakets gesteuert </li><li>  Bis zu 8 Datenbytes </li></ul><br>  Damit war der damalige Software-Teil in Arduino abgeschlossen.  Sp√§ter wurde es erheblich √ºberarbeitet, aber das allgemeine Konzept hat sich nicht ge√§ndert. <br><br>  Ich habe auch einen einfachen Generator f√ºr Datenpakete zum Debuggen geschrieben, der zu Hause debuggt. Er sendet einfach Pakete mit zuf√§lligen Daten an die serielle Schnittstelle, sodass Sie die Anwendung auf Ihrem Computer unter komfortablen Bedingungen debuggen k√∂nnen. <br><br>  Etwa zur gleichen Zeit kamen die kleineren Komponenten des Arduino Nano- und Mini-CAN-Shields an. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kn/rj/2n/knrj2nbgse4ch__x9h-43vc7qeo.jpeg"></div><br>  Ich entwarf einen kleinen Koffer, druckte ihn aus und legte alle Komponenten hinein. <br><br><div style="text-align:center;"> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/bm/2p/rc/bm2prc7jdp1ofibuawzorlkuggy.jpeg"></a> </div><br>  Drau√üen befindet sich auf der einen Seite ein OBD-Anschluss und auf der anderen Seite ein Mini-USB-Anschluss.  Im Inneren befindet sich ein Schalter f√ºr einen Abschlusswiderstand. <br><br><h2>  CAN-Sniffer am PC mit wxWidgets </h2><br>  Ich skizzierte einen einfachen Entwurf eines Programms in C #, das die empfangenen Daten im Raster anzeigt.  Und er ging, um das Auto einzuchecken.  Ich bin einfach nicht mit meinem Laptop gefahren, da mir sein Akku lange Zeit das Leben gekostet hatte und als station√§rer Computer verwendet wurde, aber ich habe ein Netbook mit einem sehr schwachen Prozessor mitgenommen.  Was ich gesehen habe ... Ich habe nichts gesehen.  Beide Kerne sind zu 100% geladen, die Anwendungsschnittstelle reagiert nicht.  Aber auf meinem Computer, der immer noch viel schneller als ein Netbook ist, funktionierte die Anwendung mit dem Zufallspaketgenerator einwandfrei und zeigte Daten an.  Daraus folgerte ich, dass die .NET-Plattform auf schwachen Computern f√ºr mich nicht funktionieren w√ºrde, da ich zu diesem Zeitpunkt im Feld nur mit diesem Netbook debuggen konnte. <br><br>  Fr√ºher habe ich die wxWidgets-Bibliothek in mehreren Projekten verwendet und habe nur eine angenehme Erfahrung damit.  Es ist leichtgewichtig, es m√ºssen keine verschiedenen Bibliotheken und sogar plattform√ºbergreifend mitgef√ºhrt werden, was die Hoffnung weckt, dass der Schnittstellenteil des Codes ohne wesentliche √Ñnderungen auf andere Plattformen √ºbertragen werden kann.  Am Ende des Artikels finden Sie einen Link zum kompilierten Programm, falls Sie sich nicht darum k√ºmmern m√∂chten. <br><br><div class="spoiler">  <b class="spoiler_title">So installieren und kompilieren Sie wxWidgets f√ºr Visual Studio</b> <div class="spoiler_text">  <b>Installation und Kompilierung</b> <br>  1. Laden Sie Windows Installer <a href="https://www.wxwidgets.org/downloads/" rel="nofollow">wxWidgets</a> herunter und installieren Sie es beispielsweise im Ordner C: \ wxWidgets <br><br>  2. Erstellen Sie eine Umgebungsvariable: <br>  WXWIN = C: \ wxWidgets <br><br>  3. F√ºhren Sie die Visual Studio-Eingabeaufforderung aus und wechseln Sie in das Verzeichnis: <br>  % WXWIN% \ build \ msw <br><br>  4. Geben Sie zwei zu kompilierende Befehle ein: <br>  nmake / f makefile.vc BUILD = Debuggen von RUNTIME_LIBS = statisch <br>  nmake / f makefile.vc BUILD = RUNTIME_LIBS = static freigeben <br><br>  <b>Einrichten eines Projekts in Visual Studio</b> <br>  1. Erstellen Sie in Visual Studio ein Win32-Projekt mit dem Parameter Leeres Projekt. <br><br>  2. Geben Sie in den Projekteigenschaften f√ºr die Konfiguration Alle die Pfade im Abschnitt VC ++ - Verzeichnisse an: <br>  Verzeichnisse einschlie√üen: <br>  $ (WXWIN) \ include <br>  $ (WXWIN) \ include \ msvc <br><br>  Bibliotheksverzeichnisse: <br>  $ (WXWIN) \ lib \ vc_lib <br><br>  3. √Ñndern Sie im Abschnitt C / C ++ - Codegenerierung Folgendes: <br>  Laufzeitbibliothek f√ºr Debug: / MTd-Konfiguration <br>  Laufzeitbibliothek zur Konfiguration von Release: / MT <br><br>  4. √Ñndern Sie im Abschnitt Allgemein Folgendes: <br>  Zeichensatz: Verwenden Sie den Unicode-Zeichensatz <br><br>  5. Um einer exe-Datei ein Symbol hinzuzuf√ºgen, m√ºssen Sie eine Ressourcendatei mit folgendem Inhalt hinzuf√ºgen: <br>  #include "wx \ msw \ wx.rc" <br>  wxicon icon app_icon.ico <br><br>  6. Wenn Sie zus√§tzlich die Benutzerkontensteuerung verwenden m√ºssen, gehen Sie im Abschnitt Linker - Manifestdatei wie folgt vor: <br>  UAC-Ausf√ºhrungsebene: Administrator erforderlich <br></div></div><br>  Der erste in C ++ und wxWidgets implementierte Prototyp zeigte, dass sogar ein Netbook mit der Anzeige von Daten in einer Tabelle fertig wird, und ich begann, das zu entwickeln, was ich geplant hatte. <br><br>  Architektonisch besteht das Programm aus zwei Streams: Schnittstelle und Workflow mit einer seriellen Schnittstelle.  Es wurden keine unglaublich interessanten Algorithmen angewendet.  Der Code ist reichlich kommentiert und sollte ziemlich einfach sein.  Ein Link zur Quelle befindet sich am Ende des Artikels. <br><br>  Als Erstes wurden die Datenzellen in der Tabelle entsprechend der Beschr√§nkung zum Abrufen dieser Daten eingef√§rbt.  Schon im ersten Prototypen, der 17 Datenzeilen mit sich st√§ndig √§ndernden Werten betrachtete, wurde mir klar, dass es notwendig ist, zwischen frischen Daten und Daten zu unterscheiden, die sich nicht oder nur selten √§ndern.  Er machte eine F√§rbung in zwei Schritten: <br><br><ul><li>  Erstdaten werden im Hintergrund der gr√ºnen Zelle hervorgehoben </li><li>  Daten, die wiederholt und weiter ankommen, werden mit einem roten Hintergrund hervorgehoben, der allm√§hlich in Wei√ü √ºbergeht, wenn sich diese Daten nicht mehr √§ndern </li></ul><br>  Sofort wurde klar, welche Zellen √ºberhaupt nicht verwendet wurden, welche die Z√§hlersignale enthielten.  Die Suche nach Variablenwerten von Interesse wird stark vereinfacht.  Im Folgenden werden alle Bilder animiert.  Wenn die Animation im Artikel nicht funktioniert (in einigen mobilen Browsern) - klicken Sie auf das Bild, um die Vollversion der Animation zu √∂ffnen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ks/uy/tt/ksuytt2hifbv5ft8qr2kq27ybrc.gif"></div><br><br>  Dann wollte ich noch pr√ºfen, ob die serielle Schnittstelle mit dem Datenstrom zurechtkommt.  Zu diesem Zweck habe ich auf der Arduino-Seite Z√§hler f√ºr die Anzahl der empfangenen Pakete und einen Byte-Z√§hler im Paket hinzugef√ºgt.  Diese Z√§hler werden in einem Paket mit der Kennung 0x000 an den Computer gesendet.  Nach Erhalt dieser Daten zeigt das Programm diese nicht in einer Tabelle an, sondern in separaten Informationsfeldern oben.  Die Ergebnisse waren sogar recht angenehm.  Im Durchschnitt werden bis zu 750 Pakete / s mit einer Geschwindigkeit von bis zu 9,5 kBit / s empfangen, und dies ist in der Region mit bis zu 80 kBit / s der Fall, was f√ºr eine serielle Schnittstelle durchaus m√∂glich ist.  Trotzdem ist der Datenaustausch standardm√§√üig auf 500 kbit / s konfiguriert. <br><br>  Das Hinzuf√ºgen der F√§higkeit, Daten in das Protokoll zu schreiben, erschien, nachdem ich den ELM327-Diagnoseadapter parallel zur OBD-Schnittstelle angeschlossen und mit dem Telefon verbunden hatte, und versuchte, verschiedene Daten zu lesen.  Die Daten liefen so schnell, dass es unm√∂glich war, sie zu sehen.  Nachdem Sie dies alles in einem Tagebuch festgehalten haben, k√∂nnen Sie sich ruhig hinsetzen und die √ºbertragenen Daten sehen.  Dazu k√∂nnen sogar ASCII-Textdaten in das Protokoll geschrieben werden.  Sie k√∂nnen auch den Dateityp und das Begrenzungszeichen ausw√§hlen und den Paketfilter konfigurieren, indem Sie auf die angegebene Paketkennung in der Tabelle klicken und auf die Schaltfl√§che "ID zum Filter hinzuf√ºgen" klicken (standardm√§√üig werden alle Daten geschrieben), wenn alle Daten redundant geschrieben werden. <br><br>  Zu diesem Zeitpunkt stellte sich heraus, dass alle Telefonanwendungen, die √ºber das ELM327-Paket und das Telefon alle Arten von ‚ÄûDiagnosen‚Äú durchf√ºhren, nicht direkt mit dem CAN-Bus des Fahrzeugs kommunizieren.  Sie nutzen lediglich die OBD-Diagnosefunktionalit√§t √ºber den CAN-Bus, indem sie auf die CAN-ID 0x7E0 zugreifen.  In der Regel ist dies die Adresse des Motorcontrollers (ECU), die Antwort kommt in einem Paket mit der Kennung 0x7E8.  Alle anderen Datenpakete sind jedoch herstellerspezifisch und werden von keinem Hersteller einfach ge√∂ffnet (obwohl es ein Beispiel gibt: <a href="https://habr.com/ru/post/165929/">Ford hat ein SDK f√ºr seine Autos ver√∂ffentlicht</a> ). <br><br>  Als ich weiter untersuchte, was in diesen Paketen √ºbertragen wird, kam mir eine andere Idee: Wenn ich auf eine Zelle in der Tabelle rechts im Programmfenster klicke, zeige ich den Bin√§r- und Dezimalwert dieses Bytes an und nehme das n√§chste Byte und f√ºge es zum Wort hinzu.  Als n√§chstes multiplizieren Sie dieses Wort mit einem bestimmten Koeffizienten und erhalten ein Dezimalergebnis.  Es klingt nicht sehr klar, aber in Verbindung mit dem, was es getan hat: Die Motordrehzahl wird in CAN-ID 0x180-Paketen in den ersten beiden Bytes angegeben.  Diese zwei Bytes ergeben ein bestimmtes Wort, das proportional zu den Umdrehungen ist.  Wenn die Bedeutung dieses Wortes durch 8 geteilt wird, erh√§lt man den aktuellen Impuls.  Daher wird ein Faktor von 0,125 als Kehrwert von 8 angegeben. Anschlie√üend wird dieses Wort in einem Diagramm mit dynamischer Anpassung der Amplitude dargestellt.  Im Prinzip kann der Multiplikator in umgekehrter Reihenfolge durchsucht werden: Ich habe Zellen gefunden, die der Motordrehzahl sehr √§hnlich sind, oder etwas anderes gem√§√ü dem Zeitplan, wonach der Multiplikator angepasst wird, um reale Werte zu erhalten. <br><br><div style="text-align:center;"> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/6b/qi/zq/6bqizqt20bcvmk352hikydeeg1s.gif"></a> </div><br>  Nun, die bin√§re Darstellung erm√∂glicht es Ihnen, nach verschiedenen Bit-Indikatoren zu suchen.  Beispielsweise reduziert sich die Suche nach Fahrtrichtungsanzeigern darauf, diese einzuschalten und zu beobachten, welche Zelle sich zu √§ndern beginnt. Im folgenden Beispiel ist dies CAN ID 0x481 Byte 2. Danach zeigt ein Klick auf die Zelle ihren Bin√§rwert im entsprechenden Feld an, in dem die beiden umschaltenden unteren bereits sichtbar sind Bits (links, rechts und wenn zusammen - ein Alarm). <br><br><div style="text-align:center;"> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/g8/gk/hx/g8gkhx7xxaf5kevdhelzbqom6p0.gif"></a> </div><br>  Und schlie√ülich musste ich einige Steuerdaten auf den CAN-Bus senden und die Reaktion auf diese Befehle sehen.  Dem Arduino-Programm wurde ein Code hinzugef√ºgt, der Daten vom Computer empf√§ngt und auf den CAN-Bus √ºbertr√§gt.  Zu diesem Zeitpunkt musste CyberLib abgebrochen werden, da es keine Unterst√ºtzung f√ºr die Unterbrechung des Datenempfangs im Puffer der seriellen Schnittstelle gab.  Im Programm auf dem Computer habe ich mehrere Textfelder hinzugef√ºgt, in die Sie verschiedene Parameter und eine Tabelle eingeben k√∂nnen, um die Reaktion des Stellantriebs anzuzeigen.  Das folgende Beispiel zeigt die Steuerbefehle zum Aktivieren / Deaktivieren der ersten Drehzahl des K√ºhlgebl√§ses (0x0A) und zum Aktivieren / Deaktivieren der Kupplung der Klimaanlage (0x0B). <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/ha/ba/kv/habakvdaggg7tw0z0ak9kdz2wd4.gif"></a> <br><br><h2>  Zusammenfassung </h2><br>  Eine vollst√§ndige Entschl√ºsselung der Herstellerdaten, insbesondere der offiziellen, ist praktisch nirgendwo zu finden.  Im besten Fall handelt es sich um fremde Forschungsarbeiten im Rahmen der Implementierung einiger Zusatzfunktionen.  Mit dem CAN-Sniffer k√∂nnen Sie diese Daten leichter finden.  Ich konnte ungef√§hr 40 verschiedene Parameter des Autos finden und aus Versuchsgr√ºnden habe ich auf der Grundlage der erhaltenen Daten meine eigene Steuerung des K√ºhlgebl√§ses vorgenommen. <br><br><ul><li>  <a href="https://github.com/KruFFT/CAN-Sniffer" rel="nofollow">CAN-Bus-Sniffer (Arduino-Seite)</a> </li><li>  <a href="https://github.com/KruFFT/wxCAN-Sniffer" rel="nofollow">wxCAN Bus Sniffer (PC Seite)</a> </li><li>  <a href="https://cloud.mail.ru/public/Frr7/2ruf1DyDP" rel="nofollow">wxCAN Bus Sniffer (Windows ausf√ºhrbar)</a> </li></ul><br>  Ich hoffe, dass all dies nicht nur f√ºr mich von Nutzen ist. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de479672/">https://habr.com/ru/post/de479672/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de479660/index.html">3. Malware-Analyse mit Check Point Forensics. Sandstrahl-Handy</a></li>
<li><a href="../de479662/index.html">Wie Yandex k√ºnstliche Intelligenz lehrte, Fehler in den Nachrichten zu finden</a></li>
<li><a href="../de479664/index.html">So funktionieren verwaltete Kubernetes und verwaltetes OpenShift in der IBM Cloud. Teil 1 - Architektur und Sicherheit</a></li>
<li><a href="../de479666/index.html">Golang: Worauf verl√§sst sich ein Go-Spezialist in einem Meer von IT-Spezialit√§ten?</a></li>
<li><a href="../de479668/index.html">QA f√ºr Anf√§nger: Wie teste ich eine Rakete oder ein Flugzeug?</a></li>
<li><a href="../de479676/index.html">ExtJS 7 und Spring Boot 2. Wie erstelle ich ein SPA, das mit Ihrer API und externen ReactJS-Plugins interagiert?</a></li>
<li><a href="../de479678/index.html">Eine √úberpr√ºfung der Virenaktivit√§t f√ºr mobile Ger√§te im November 2019</a></li>
<li><a href="../de479680/index.html">Wie Krebszellen leichter Medikamente aufnehmen k√∂nnen</a></li>
<li><a href="../de479682/index.html">Sysdig Container Usage Report 2019: Neue Kubernetes und Sicherheitsdetails</a></li>
<li><a href="../de479684/index.html">Wie man Niederfrequenzschl√ºssel f√ºr SEO sammelt: 4 nicht-triviale Wege</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>