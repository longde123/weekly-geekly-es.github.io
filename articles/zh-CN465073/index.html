<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â™¾ ğŸ’’ ğŸ™‡ğŸ¼ ä¸è¦å¼¹å‡ºï¼ iOSä¸­çš„å¯ä¸­æ–­è¿‡æ¸¡ ğŸ§œ ğŸ—ï¸ ğŸ’</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ‚¨æ˜¯å¦ä¹Ÿå¯¹åº”ç”¨ç¨‹åºä¸­çš„å¼¹å‡ºçª—å£æ„Ÿåˆ°ç”Ÿæ°”ï¼Ÿ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•äº¤äº’åœ°éšè—å’Œæ˜¾ç¤ºå¼¹å‡ºçª—å£ï¼Œä½¿åŠ¨ç”»å¯ä¸­æ–­å¹¶ä¸”ä¸ä¼šæ¿€æ€’æˆ‘çš„å®¢æˆ·ã€‚ 





 åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ç ”ç©¶äº†å¦‚ä½•å¯¹æ–°æ§åˆ¶å™¨çš„æ˜¾ç¤ºè¿›è¡ŒåŠ¨ç”»å¤„ç†ã€‚ 


æˆ‘ä»¬è®¤ä¸ºviewControllerå¯ä»¥åŠ¨ç”»æ˜¾ç¤ºå’Œéšè—ï¼š 





 ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ•™ä»–åº”å¯¹éš...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä¸è¦å¼¹å‡ºï¼ iOSä¸­çš„å¯ä¸­æ–­è¿‡æ¸¡</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dodopizzadev/blog/465073/"><p> æ‚¨æ˜¯å¦ä¹Ÿå¯¹åº”ç”¨ç¨‹åºä¸­çš„å¼¹å‡ºçª—å£æ„Ÿåˆ°ç”Ÿæ°”ï¼Ÿ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•äº¤äº’åœ°éšè—å’Œæ˜¾ç¤ºå¼¹å‡ºçª—å£ï¼Œä½¿åŠ¨ç”»å¯ä¸­æ–­å¹¶ä¸”ä¸ä¼šæ¿€æ€’æˆ‘çš„å®¢æˆ·ã€‚ </p><br><p><img src="https://habrastorage.org/webt/dm/no/2f/dmno2fidzesnqjrc1wozmragwsc.png"></p><a name="habracut"></a><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œ</a>æˆ‘ç ”ç©¶äº†å¦‚ä½•å¯¹æ–°æ§åˆ¶å™¨çš„æ˜¾ç¤ºè¿›è¡ŒåŠ¨ç”»å¤„ç†ã€‚ </p><br><p>æˆ‘ä»¬è®¤ä¸º<code>viewController</code>å¯ä»¥åŠ¨ç”»æ˜¾ç¤ºå’Œéšè—ï¼š </p><br><p><img src="https://habrastorage.org/webt/im/ri/hb/imrihb1jvnv2hr0axyha7n1f_ea.gif"></p><br><p> ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ•™ä»–åº”å¯¹éšè—çš„æ‰‹åŠ¿ã€‚ </p><br><h2 id="interaktivnyy-tranzishen"> äº’åŠ¨è¿‡æ¸¡ </h2><br><h3 id="dobavlyaem-zhestzakrytiya"> æ·»åŠ è¿‘è·ç¦»æ‰‹åŠ¿ </h3><br><p> è¦æ•™æ§åˆ¶å™¨ä»¥äº¤äº’æ–¹å¼å…³é—­ï¼Œæ‚¨éœ€è¦æ·»åŠ ä¸€ä¸ªæ‰‹åŠ¿å¹¶å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚ æ‰€æœ‰å·¥ä½œå°†åœ¨<code>TransitionDriver</code>ç±»ä¸­è¿›è¡Œï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TransitionDriver</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIPercentDrivenInteractiveTransition</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">link</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(to controller: UIViewController)</span></span></span></span> { presentedController = controller panRecognizer = <span class="hljs-type"><span class="hljs-type">UIPanGestureRecognizer</span></span>(target: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, action: #selector(handle(recognizer:))) presentedController?.view.addGestureRecognizer(panRecognizer!) } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> presentedController: <span class="hljs-type"><span class="hljs-type">UIViewController?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> panRecognizer: <span class="hljs-type"><span class="hljs-type">UIPanGestureRecognizer?</span></span> }</code> </pre> <br><p> æ‚¨å¯ä»¥åœ¨PanelTransitionå†…éƒ¨çš„DimmPresentationControllerçš„ä½ç½®é™„åŠ ä¸€ä¸ªå¤„ç†ç¨‹åºï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> driver = <span class="hljs-type"><span class="hljs-type">TransitionDriver</span></span>() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">presentationController</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(forPresented presented: UIViewController, presenting: UIViewController?, source: UIViewController)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">UIPresentationController?</span></span> { driver.link(to: presented) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> presentationController = <span class="hljs-type"><span class="hljs-type">DimmPresentationController</span></span>(presentedViewController: presented, presenting: presenting) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> presentationController }</code> </pre> <br><p> åŒæ—¶ï¼Œæ‚¨éœ€è¦è¡¨æ˜éšè—å·²å˜å¾—å¯ç®¡ç†ï¼ˆæˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­å·²ç»åšåˆ°è¿™ä¸€ç‚¹ï¼‰ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">// PanelTransition.swift func interactionControllerForDismissal(using animator: UIViewControllerAnimatedTransitioning) -&gt; UIViewControllerInteractiveTransitioning? { return driver }</span></span></code> </pre> <br><h3 id="obrabatyvaem-zhest"> å¤„ç†æ‰‹åŠ¿ </h3><br><p> è®©æˆ‘ä»¬ä»é—­åˆæ‰‹åŠ¿å¼€å§‹ï¼šå¦‚æœå‘ä¸‹æ‹–åŠ¨é¢æ¿ï¼Œåˆ™é—­åˆåŠ¨ç”»å°†å¼€å§‹ï¼Œæ‰‹æŒ‡çš„ç§»åŠ¨ä¼šå½±å“é—­åˆç¨‹åº¦ã€‚ <br>  <code>UIPercentDrivenInteractiveTransition</code>å…è®¸<code>UIPercentDrivenInteractiveTransition</code>æ•è·è¿‡æ¸¡åŠ¨ç”»å¹¶å¯¹å…¶è¿›è¡Œæ‰‹åŠ¨æ§åˆ¶ã€‚ å®ƒå…·æœ‰<code>update</code> ï¼Œ <code>finish</code> ï¼Œ <code>cancel</code>æ–¹æ³•ã€‚ åœ¨å…¶å­ç±»ä¸­æ–¹ä¾¿è¿›è¡Œæ‰‹åŠ¿å¤„ç†ã€‚ </p><br><h4 id="obrabotka-zhesta"> æ‰‹åŠ¿å¤„ç† </h4><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleDismiss</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(recognizer r: UIPanGestureRecognizer)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> r.state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .began: pause() <span class="hljs-comment"><span class="hljs-comment">//   percentComplete   0 let isRunning = percentComplete != 0 if !isRunning { presentingController?.present(presentedController!, animated: true) } case .changed: update(percentComplete + r.incrementToBottom(maxTranslation: maxTranslation)) case .ended, .cancelled: if r.isProjectedToDownHalf(maxTranslation: maxTranslation) { finish() } else { cancel() } case .failed: cancel() default: break } }</span></span></code> </pre> <br><p> <code>.begin</code> <br> ä»¥æœ€å¸¸è§çš„æ–¹å¼å¼€å§‹è§£æ•£ã€‚ æˆ‘ä»¬åœ¨<code>link(to:)</code>æ–¹æ³•ä¸­å°†<code>link(to:)</code>ä¿å­˜åˆ°æ§åˆ¶å™¨ </p><br><p> <code>.changed</code> <br> è®¡ç®—å¢é‡å¹¶å°†å…¶ä¼ é€’ç»™<code>update</code>æ–¹æ³•ã€‚ å¯æ¥å—çš„å€¼å¯ä»¥åœ¨0åˆ°1ä¹‹é—´å˜åŒ–ï¼Œå› æ­¤æˆ‘ä»¬å°†é€šè¿‡<code>interactionControllerForDismissal(using:)</code>æ–¹æ³•æ§åˆ¶åŠ¨ç”»çš„å®Œæˆç¨‹åº¦ã€‚ è®¡ç®—æ˜¯åœ¨æ‰‹åŠ¿æ‰©å±•ä¸­è¿›è¡Œçš„ï¼Œå› æ­¤ä»£ç å˜å¾—æ›´åŠ æ¸…æ™°ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">æ‰‹åŠ¿è®¡ç®—</b> <div class="spoiler_text"><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIPanGestureRecognizer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">incrementToBottom</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(maxTranslation: CGFloat)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> translation = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.translation(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: view).y setTranslation(.zero, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> percentIncrement = translation / maxTranslation <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> percentIncrement } }</code> </pre> <br><p> è®¡ç®—åŸºäº<code>maxTranslation</code> ï¼Œæˆ‘ä»¬å°†å…¶è®¡ç®—ä¸ºæ˜¾ç¤ºçš„æ§åˆ¶å™¨çš„é«˜åº¦ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> maxTranslation: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> presentedController?.view.frame.height ?? <span class="hljs-number"><span class="hljs-number">0</span></span> }</code> </pre> </div></div><br><p> <code>.end</code> <br> æˆ‘ä»¬çœ‹ä¸€ä¸‹æ‰‹åŠ¿çš„å®Œæ•´æ€§ã€‚ å®Œæˆè§„åˆ™ï¼šå¦‚æœè¶…è¿‡ä¸€åŠå·²è½¬ç§»ï¼Œåˆ™å…³é—­ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸ä»…å¿…é¡»é€šè¿‡å½“å‰åæ ‡æ¥è€ƒè™‘åç§»é‡ï¼Œè¿˜å¿…é¡»é€šè¿‡<code>velocity</code>æ¥è€ƒè™‘åç§»é‡ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬äº†è§£äº†ç”¨æˆ·çš„æ„å›¾ï¼šä»–å¯èƒ½ä¸ä¼šèµ°åˆ°ä¸­é—´ï¼Œä½†ä¼šéå¸¸å‘ä¸‹æ»‘åŠ¨ã€‚ åä¹‹äº¦ç„¶ï¼šå–ä¸‹ï¼Œä½†å‘ä¸Šæ»‘åŠ¨å³å¯è¿”å›ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">ProjectedLocationè®¡ç®—</b> <div class="spoiler_text"><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIPanGestureRecognizer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isProjectedToDownHalf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(maxTranslation: CGFloat)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> endLocation = projectedLocation(decelerationRate: .fast) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> isPresentationCompleted = endLocation.y &gt; maxTranslation / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isPresentationCompleted } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">projectedLocation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(decelerationRate: UIScrollView.DecelerationRate)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">CGPoint</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> velocityOffset = velocity(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: view).projectedOffset(decelerationRate: .normal) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> projectedLocation = location(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: view!) + velocityOffset <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> projectedLocation } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CGPoint</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">projectedOffset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(decelerationRate: UIScrollView.DecelerationRate)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">CGPoint</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">CGPoint</span></span>(x: x.projectedOffset(decelerationRate: decelerationRate), y: y.projectedOffset(decelerationRate: decelerationRate)) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CGFloat</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Velocity value func projectedOffset(decelerationRate: UIScrollView.DecelerationRate) -&gt; CGFloat { // Magic formula from WWDC let multiplier = 1 / (1 - decelerationRate.rawValue) / 1000 return self * multiplier } } extension CGPoint { static func +(left: CGPoint, right: CGPoint) -&gt; CGPoint { return CGPoint(x: left.x + right.x, y: left.y + right.y) } }</span></span></code> </pre> </div></div><br><p>  <code>.cancelled</code>å¦‚æœæ‚¨é”å®šæ‰‹æœºå±å¹•æˆ–ä»–ä»¬æ‰“ç”µè¯æ—¶ä¼šå‘ç”Ÿã€‚ æ‚¨å¯ä»¥å°†å…¶ä½œä¸º<code>.ended</code>å—å¤„ç†æˆ–å–æ¶ˆæ“ä½œã€‚ <br>  <code>.failed</code>å¦‚æœè¯¥æ‰‹åŠ¿è¢«å¦ä¸€ä¸ªæ‰‹åŠ¿å–æ¶ˆï¼Œåˆ™ä¼šå‘ç”Ÿã€‚ å› æ­¤ï¼Œä¾‹å¦‚ï¼Œæ‹–åŠ¨æ‰‹åŠ¿å¯ä»¥å–æ¶ˆè½»å‡»æ‰‹åŠ¿ã€‚ <br>  <code>.possible</code>æ‰‹åŠ¿çš„åˆå§‹çŠ¶æ€ï¼Œé€šå¸¸ä¸éœ€è¦å¤ªå¤šå·¥ä½œã€‚ </p><br><p> ç°åœ¨ä¹Ÿå¯ä»¥é€šè¿‡æ»‘åŠ¨å…³é—­é¢æ¿ï¼Œä½†æ˜¯<code>dismiss</code>æŒ‰é’®å·²<code>dismiss</code> ã€‚ å‘ç”Ÿè¿™ç§æƒ…å†µæ˜¯å› ä¸º<code>TransitionDriver</code>æœ‰ä¸€ä¸ª<code>wantsInteractiveStart</code>å±æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º<code>true</code> ã€‚ è¿™å¯¹äºåˆ·å¡æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯ä¼šé˜»æ­¢é€šå¸¸çš„<code>dismiss</code> ã€‚ </p><br><p> è®©æˆ‘ä»¬æ ¹æ®æ‰‹åŠ¿çŠ¶æ€æ¥åˆ†è§£è¡Œä¸ºã€‚ å¦‚æœæ‰‹åŠ¿å¼€å§‹ï¼Œåˆ™è¿™æ˜¯ä¸€ä¸ªäº¤äº’å¼å…³é—­ï¼Œå¦‚æœæ‰‹åŠ¿æ²¡æœ‰å¼€å§‹ï¼Œåˆ™é€šå¸¸æ˜¯ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> wantsInteractiveStart: <span class="hljs-type"><span class="hljs-type">Bool</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> gestureIsActive = panRecognizer?.state == .began <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gestureIsActive } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { } }</code> </pre> <br><p> ç°åœ¨ï¼Œç”¨æˆ·å¯ä»¥æ§åˆ¶éšè—äº†ï¼š </p><br><p><img src="https://habrastorage.org/webt/p3/qr/go/p3qrgoadrowvn22livjfkr200h0.gif"></p><br><h3 id="preryvaem-tranzishen"> ä¸­æ–­è¿‡æ¸¡ </h3><br><p> å‡è®¾æˆ‘ä»¬å¼€å§‹å…³é—­ä¿¡ç”¨å¡ï¼Œä½†æ”¹å˜äº†ä¸»æ„å¹¶æƒ³è¿”å›ã€‚ å¾ˆç®€å•ï¼šåœ¨<code>.began</code>çŠ¶æ€ä¸‹ï¼Œ <code>.began</code>è°ƒç”¨<code>pause()</code>åœæ­¢ã€‚ </p><br><p> ä½†æ˜¯æ‚¨éœ€è¦åˆ†å¼€ä¸¤ç§æƒ…å†µï¼š </p><br><ul><li> å½“æˆ‘ä»¬å¼€å§‹éšè—æ‰‹åŠ¿æ—¶ï¼› </li><li> å½“æˆ‘ä»¬ä¸­æ–­å½“å‰çš„ã€‚ </li></ul><br><p> ä¸ºæ­¤ï¼Œåœ¨åœæ­¢ä¹‹åï¼Œæ£€æŸ¥<code>percentComplete:</code>å¦‚æœå®ƒä¸º0ï¼Œåˆ™æˆ‘ä»¬å¼€å§‹æ‰‹åŠ¨å…³é—­å¡ï¼Œå¦å¤–æˆ‘ä»¬éœ€è¦è°ƒç”¨<code>dismiss</code> ã€‚ å¦‚æœä¸ä¸º0ï¼Œåˆ™è¡¨æ˜éšè—å·²ç»å¼€å§‹ï¼Œä»…åœæ­¢åŠ¨ç”»å°±è¶³å¤Ÿäº†ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .began: pause() <span class="hljs-comment"><span class="hljs-comment">// Pause allows to detect percentComplete if percentComplete == 0 { presentedController?.dismiss(animated: true) }</span></span></code> </pre> <br><p> æˆ‘æŒ‰ä¸‹æŒ‰é’®å¹¶ç«‹å³å‘ä¸Šæ»‘åŠ¨ä»¥å–æ¶ˆéšè—ï¼š <br><img src="https://habrastorage.org/webt/sf/n2/zk/sfn2zkd2zfg8kp5dl-oyczlmh8c.gif"></p><br><h4 id="preryvaem-pokaz-kontrollera"> åœæ­¢æ˜¾ç¤ºæ§åˆ¶å™¨ </h4><br><p> ç›¸åçš„æƒ…å†µï¼šè¯¥å¡å¼€å§‹å‡ºç°ï¼Œä½†æˆ‘ä»¬ä¸éœ€è¦å®ƒã€‚ æˆ‘ä»¬å°†å…¶æ•è·å¹¶å‘ä¸‹æ»‘åŠ¨å³å¯å‘é€ã€‚ æ‚¨å¯ä»¥æŒ‰ç…§ç›¸åŒçš„æ­¥éª¤ä¸­æ–­æ§åˆ¶å™¨æ˜¾ç¤ºçš„åŠ¨ç”»ã€‚ </p><br><p> å°†é©±åŠ¨ç¨‹åºè¿”å›ä¸ºäº¤äº’å¼æ˜¾ç¤ºæ§åˆ¶å™¨ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">interactionControllerForPresentation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(using animator: UIViewControllerAnimatedTransitioning)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">UIViewControllerInteractiveTransitioning?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> driver }</code> </pre> <br><p> å¤„ç†æ‰‹åŠ¿ï¼Œä½†å…·æœ‰åå‘åå·®å’Œå®Œæ•´æ€§å€¼ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handlePresentation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(recognizer r: UIPanGestureRecognizer)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> r.state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .began: pause() <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .changed: <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> increment = -r.incrementToBottom(maxTranslation: maxTranslation) update(percentComplete + increment) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .ended, .cancelled: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> r.isProjectedToDownHalf(maxTranslation: maxTranslation) { cancel() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { finish() } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .failed: cancel() <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> } }</code> </pre> <br><p> ä¸ºäº†åˆ†å¼€æ˜¾ç¤ºå’Œéšè—ï¼Œæˆ‘è¾“å…¥äº†å½“å‰åŠ¨ç”»æ–¹å‘çš„æšä¸¾ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TransitionDirection</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> present, dismiss }</code> </pre> <br><p> è¯¥å±æ€§å­˜å‚¨åœ¨<code>TransitionDriver</code>å¹¶å½±å“å°†ä½¿ç”¨çš„æ‰‹åŠ¿å¤„ç†ç¨‹åºï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> direction: <span class="hljs-type"><span class="hljs-type">TransitionDirection</span></span> = .present <span class="hljs-meta"><span class="hljs-meta">@objc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(recognizer r: UIPanGestureRecognizer)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> direction { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .present: handlePresentation(recognizer: r) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .dismiss: handleDismiss(recognizer: r) } }</code> </pre> <br><p> å®ƒè¿˜ä¼šå½±å“<code>wantsInteractiveStart</code> ã€‚ æˆ‘ä»¬ä¸æ‰“ç®—å‘æ§åˆ¶å™¨æ˜¾ç¤ºæ‰‹åŠ¿ï¼Œå› æ­¤æˆ‘ä»¬ä¸º<code>.present</code>è¿”å›<code>false</code> ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> wantsInteractiveStart: <span class="hljs-type"><span class="hljs-type">Bool</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> direction { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .present: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .dismiss: <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> gestureIsActive = panRecognizer?.state == .began <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gestureIsActive } } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { } }</code> </pre> <br><p> å¥½äº†ï¼Œå®Œå…¨æ˜¾ç¤ºæ§åˆ¶å™¨åï¼Œä»ç„¶å¯ä»¥æ›´æ”¹æ‰‹åŠ¿çš„æ–¹å‘ã€‚ æœ€å¥½çš„åœ°æ–¹æ˜¯<code>PresentationController</code> ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">presentationTransitionDidEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> completed: Bool)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.presentationTransitionDidEnd(completed) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> completed { driver.direction = .dismiss } }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">æ²¡æœ‰æšä¸¾æœ‰å¯èƒ½å—ï¼Ÿ</b> <div class="spoiler_text"><p> çœ‹æ¥æˆ‘ä»¬å¯ä»¥ä¾èµ–äº<code>isBeingPresented</code>å’Œ<code>isBeingDismissed</code>æ§åˆ¶å™¨çš„å±æ€§ã€‚ ä½†æ˜¯å®ƒä»¬ä»…æ˜¾ç¤ºè¿‡ç¨‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯èƒ½çš„æ–¹å‘ï¼šåœ¨äº¤äº’å¼å…³é—­çš„å¼€å§‹ï¼Œä¸¤ä¸ªå€¼éƒ½å°†ä¸º<code>false</code> ï¼Œå¹¶ä¸”æˆ‘ä»¬å·²ç»éœ€è¦çŸ¥é“è¿™æ˜¯å…³é—­çš„æ–¹å‘ã€‚ è¿™å¯ä»¥é€šè¿‡æ£€æŸ¥æ§åˆ¶å™¨å±‚æ¬¡ç»“æ„çš„å…¶ä»–æ¡ä»¶æ¥è§£å†³ï¼Œä½†æ˜¯é€šè¿‡<code>enum</code>è¿›è¡Œæ˜¾å¼åˆ†é…ä¼¼ä¹æ˜¯ä¸€ä¸ªæ›´ç®€å•çš„è§£å†³æ–¹æ¡ˆã€‚ </p></div></div><br><p> ç°åœ¨æ‚¨å¯ä»¥ä¸­æ–­èŠ‚ç›®çš„åŠ¨ç”»ã€‚ æˆ‘æŒ‰ä¸‹æŒ‰é’®å¹¶ç«‹å³å‘ä¸‹æ»‘åŠ¨ï¼š </p><br><p><img src="https://habrastorage.org/webt/rk/fz/ry/rkfzryopydxyxmco22xuhy6jhtm.gif"></p><br><h2 id="pokazyvat-pozhestu"> æ‰‹åŠ¿æ˜¾ç¤º </h2><br><p> å¦‚æœè¦ä¸ºåº”ç”¨ç¨‹åºåˆ¶ä½œæ±‰å ¡èœå•ï¼Œåˆ™å¾ˆå¯èƒ½å¸Œæœ›é€šè¿‡æ‰‹åŠ¿æ˜¾ç¤ºå®ƒã€‚ è¿™å°±åƒäº¤äº’å¼éšè—ä¸€æ ·ï¼Œä½†ä»¥æ‰‹åŠ¿ï¼ˆè€Œä¸æ˜¯<code>dismiss</code>ç§°ä¹‹ä¸º<code>present</code> ã€‚ <br> è®©æˆ‘ä»¬ä»å¤´å¼€å§‹ã€‚ åœ¨<code>handlePresentation(recognizer:)</code>æ˜¾ç¤ºæ§åˆ¶å™¨ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .began: pause() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> isRunning = percentComplete != <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !isRunning { presentingController?.present(presentedController!, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>) }</code> </pre> <br><p> è®©æˆ‘ä»¬äº’åŠ¨å±•ç¤ºï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> wantsInteractiveStart: <span class="hljs-type"><span class="hljs-type">Bool</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> direction { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .present: <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> gestureIsActive = screenEdgePanRecognizer?.state == .began <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gestureIsActive <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .dismiss: â€¦ }</code> </pre> <br><p> ä¸ºäº†ä½¿ä»£ç æ­£å¸¸å·¥ä½œï¼Œæ²¡æœ‰è¶³å¤Ÿçš„é“¾æ¥åˆ°<code>presentingController</code>å’Œ<code>presentedController</code> ã€‚ åˆ›å»ºæ‰‹åŠ¿æ—¶ï¼Œæˆ‘ä»¬å°†ä¼ é€’å®ƒä»¬ï¼Œå¹¶æ·»åŠ <code>UIScreenEdgePanGestureRecognizer</code> ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">linkPresentationGesture</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(to presentedController: UIViewController, presentingController: UIViewController)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.presentedController = presentedController <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.presentingController = presentingController <span class="hljs-comment"><span class="hljs-comment">//    panRecognizer = UIPanGestureRecognizer(target: self, action: #selector(handle(recognizer:))) presentedController.view.addGestureRecognizer(panRecognizer!) //    screenEdgePanRecognizer = UIScreenEdgePanGestureRecognizer(target: self, action: #selector(handlePresentation(recognizer:))) screenEdgePanRecognizer!.edges = .bottom presentingController.view.addGestureRecognizer(screenEdgePanRecognizer!) }</span></span></code> </pre> <br><p> æ‚¨å¯ä»¥åœ¨åˆ›å»º<code>PanelTransition</code>æ—¶è½¬ç§»æ§åˆ¶å™¨ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PanelTransition</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSObject</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIViewControllerTransitioningDelegate</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(presented: <span class="hljs-type"><span class="hljs-type">UIViewController</span></span>, presenting: <span class="hljs-type"><span class="hljs-type">UIViewController</span></span>) { driver.linkPresentationGesture(to: presented, presentingController: presenting) } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> driver = <span class="hljs-type"><span class="hljs-type">TransitionDriver</span></span>() }</code> </pre> <br><p> ä»ç„¶å¯ä»¥<code>PanelTransition</code>åˆ›å»º<code>PanelTransition</code> ï¼š </p><br><ol><li> è®©æˆ‘ä»¬åœ¨<code>viewDidLoad</code>åˆ›å»ºä¸€ä¸ª<code>child</code>æ§åˆ¶å™¨ï¼Œå› ä¸ºæˆ‘ä»¬å¯èƒ½éšæ—¶éœ€è¦ä¸€ä¸ªæ§åˆ¶å™¨ã€‚ </li><li> åˆ›å»º<code>PanelTransition</code> ã€‚ åœ¨ä»–çš„æ„é€ å‡½æ•°ä¸­ï¼Œæ‰‹åŠ¿å·²ç»‘å®šåˆ°æ§åˆ¶å™¨ã€‚ </li><li> æ”¾ä¸‹å­æ§åˆ¶å™¨çš„transitioningDelegateã€‚ </li><li><p> ä¸ºäº†è¿›è¡ŒåŸ¹è®­ï¼Œæˆ‘ä»ä¸‹é¢æ»‘åŠ¨ï¼Œä½†è¿™ä¸åœ¨iPhone Xå’Œæ§åˆ¶ä¸­å¿ƒä¸Šå…³é—­åº”ç”¨ç¨‹åºå†²çªã€‚ ä½¿ç”¨<code>preferredScreenEdgesDeferringSystemGestures</code>ç¦ç”¨äº†ä»ä¸‹æ–¹æ»‘åŠ¨ç³»ç»Ÿçš„åŠŸèƒ½ã€‚ </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ParentViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIViewController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> child: <span class="hljs-type"><span class="hljs-type">ChildViewController!</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> transition: <span class="hljs-type"><span class="hljs-type">PanelTransition!</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.viewDidLoad() child = <span class="hljs-type"><span class="hljs-type">ChildViewController</span></span>() <span class="hljs-comment"><span class="hljs-comment">// 1 transition = PanelTransition(presented: child, presenting: self) // 2 // Setup the child child.modalPresentationStyle = .custom child.transitioningDelegate = transition // 3 } override var preferredScreenEdgesDeferringSystemGestures: UIRectEdge { return .bottom // 4 } }</span></span></code> </pre> <br><p> æ›´æ”¹ä¹‹åï¼Œäº‹å®è¯æ˜æ˜¯æœ‰é—®é¢˜çš„ï¼šç¬¬ä¸€æ¬¡å…³é—­é¢æ¿åï¼Œå®ƒæ°¸è¿œå¤„äº<code>TransitionDirection.dismiss</code>çš„çŠ¶æ€ã€‚ å°†æ§åˆ¶å™¨éšè—åœ¨<code>PresentationController</code>åï¼Œè®¾ç½®æ­£ç¡®çš„çŠ¶æ€ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dismissalTransitionDidEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> completed: Bool)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.dismissalTransitionDidEnd(completed) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> completed { driver.direction = .present } }</code> </pre> <br><p> äº¤äº’å¼æ˜¾ç¤ºä»£ç å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­</a>æŸ¥çœ‹ã€‚ çœ‹èµ·æ¥åƒè¿™æ ·ï¼š </p><br></li></ol><br><p><img src="https://habrastorage.org/webt/u_/1g/l-/u_1gl-slqy_kwqp9tlgh41qs8uu.gif"></p><br><h2 id="zaklyuchenie"> ç»“è®º </h2><br><p> ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥å‘æ§åˆ¶å™¨æ˜¾ç¤ºåŠ¨ç”»ä¸­æ–­ï¼Œå¹¶ä¸”ç”¨æˆ·å¯ä»¥æ§åˆ¶å±å¹•ä¸Šå‘ç”Ÿçš„äº‹æƒ…ã€‚ è¿™æ ·æ›´å¥½ï¼Œå› ä¸ºåŠ¨ç”»ä¸å†é˜»å¡æ¥å£ï¼Œå¯ä»¥å–æ¶ˆç”šè‡³åŠ é€ŸåŠ¨ç”»ã€‚ </p><br><p> å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨github</a>ä¸Šçœ‹åˆ°ä¸€ä¸ªä¾‹å­<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ã€‚</a> </p><br><p> è®¢é˜…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Dodo Pizza Mobileé¢‘é“ã€‚</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN465073/">https://habr.com/ru/post/zh-CN465073/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN465059/index.html">PoEè·ç¦»è¶…è¿‡200ç±³ã€‚ ç›‘æ§å’Œè‡ªåŠ¨é‡å¯PoEå®¢æˆ·ç«¯</a></li>
<li><a href="../zh-CN465061/index.html">ä¸ºä»€ä¹ˆæœ€å¥½æ¯å‘¨å·¥ä½œå…­å°æ—¶ï¼Œè€Œä¸æ˜¯æ¯å‘¨å·¥ä½œå››å¤©</a></li>
<li><a href="../zh-CN465063/index.html">ä½¿ç”¨Springå¹³å°æ—¶æœ€å¸¸è§çš„10ä¸ªé”™è¯¯ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN465069/index.html">Hadoopçš„æ–°åŠŸèƒ½ï¼šäº†è§£Hadoopä¸­çš„å„ç§æ–‡ä»¶æ ¼å¼</a></li>
<li><a href="../zh-CN465071/index.html">TechTrain 2019 ITèŠ‚ï¼šJUG.ruï¼ŒJUGNskå’ŒJUG.MSKå¦‚ä½•å‚åŠ </a></li>
<li><a href="../zh-CN465075/index.html">åœ¨ç«è½¦å¸æœºå®¤</a></li>
<li><a href="../zh-CN465077/index.html">Unsafe.AsSpanï¼šSpan <T>å¦‚ä½•æ›¿æ¢æŒ‡é’ˆï¼Ÿ</a></li>
<li><a href="../zh-CN465081/index.html">CLRiumï¼ƒ6ï¼šå¹¶å‘ä¸å¹¶è¡Œã€‚ å­¦ä¹ ä»»åŠ¡å¹¶è¡ŒåŒ–çš„é­”åŠ›</a></li>
<li><a href="../zh-CN465083/index.html">è­¦æƒ•é—¨ç›‘æ§</a></li>
<li><a href="../zh-CN465085/index.html">åç½‘ç»œé’“é±¼æ¸…å•</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>