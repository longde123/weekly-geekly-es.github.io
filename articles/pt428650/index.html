<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•Ñ üîû üôåüèæ Sistema de fidelidade ou como viver de gra√ßa üëÖ üôåüèª üë®‚Äçüë©‚Äçüëß‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bom dia, Habrovsk. Em conex√£o com o grande p√¢nico do √∫ltimo artigo, apresento a segunda vers√£o. Tudo √© simples, sem ranho. O sistema de fidelidade √© u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistema de fidelidade ou como viver de gra√ßa</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428650/"> Bom dia, Habrovsk.  Em conex√£o com o grande p√¢nico do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√∫ltimo artigo,</a> apresento a segunda vers√£o.  Tudo √© simples, sem ranho.  O sistema de fidelidade √© um grande buraco.  Ap√≥s algumas experi√™ncias, chegamos √† conclus√£o de que um grande n√∫mero de sites em que esse sistema √© usado √© completamente desprovido de l√≥gica ao tentar us√°-lo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ui/xn/hh/uixnhhmsliz0oh9fr970u0idhqo.jpeg" alt="imagem"></div><a name="habracut"></a><br>  Obviamente, algu√©m conseguiu implementar pelo menos uma prote√ß√£o simples, mas protetora, mas algu√©m imagina a Internet desta forma: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/43c/9b0/d71/43c9b0d712b4de1d0fb362e174efd55d.jpg" alt="imagem"><br><br>  Em geral, muitos ataques de hackers ocorrem quase desta forma.  √â somente nos filmes que eles mostram v√°rios dispositivos do futuro, cuja funcionalidade n√£o faz sentido no presente. <br><br>  Vamos ao que interessa.  Por exemplo, vou usar alguns sistemas em que pode haver um karzh em massa. <br><br>  Vamos come√ßar com o <b>OBI</b> . <br><br>  Eu direi imediatamente que para mim foi pouco estudado.  Suas regras vagas sobre o uso de b√¥nus me colocam em diferentes d√∫vidas.  Em primeiro lugar, eles t√™m v√°rios programas de b√¥nus.  Para um deles, voc√™ pode pagar apenas em tr√™s cidades da R√∫ssia, para o outro - no total.  Ao mesmo tempo, os b√¥nus n√£o se aplicam a todos, mas apenas at√© 50% do valor da mercadoria.  Mas construir uma casa pela metade do pre√ßo j√° √© bom. <br><br>  Em geral, o OBI tamb√©m possui um aplicativo no qual voc√™ pode fazer login no nosso cart√£o e pagar gerando um c√≥digo de barras. <br><br>  V√° para a p√°gina de registro com um leve toque de uma varinha m√°gica: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6a/a7/8l/6aa78lj04dkguptu46ht6ulvpwq.png" alt="imagem"></div><br>  Chegamos ao formul√°rio de registro que <s>n√£o √©</s> nosso cart√£o: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cd/u7/h1/cdu7h1rl__q_jq1uclgvhlhvc4u.png" alt="imagem"></div><br>  Bem, preencha.  A prop√≥sito, aqui o sistema de c√°lculo de cart√µes √© o mesmo que no "Crossroads".  A fim de esclarecer - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Algorithm Moon</a> .  Preenchi todos os dados, indiquei um n√∫mero de cart√£o aleat√≥rio.  No processo, peguei uma solicita√ß√£o de registro atrav√©s de um farejador. <br>  Repetiu v√°rias centenas de vezes em um ciclo.  N√£o houve erros.  O site tratou meus pedidos com bastante efici√™ncia e retornou uma resposta em json: <br><br> <code><b>"data":{"registration":null},"errors":[{"message":"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0444\u043e\u0440\u043c\u044b.","type":"validation","locations":{"path":"\/work\/obiclub.ru\/app\/GraphQL\/Mutation\/Frontend\/RegistrationMutation.php","line":109},"safe":true,"validation":{"cardnum":["\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445."]}}]}</b></code> <br> <br>  Na vari√°vel <b>cardnum</b> estava o texto a seguir, traduzido do <s>grego</s> Unicode - <br><blockquote>  ‚ÄúN√∫mero do cart√£o errado.  Verifique a corre√ß√£o dos dados inseridos ¬ª </blockquote><br>  √â interessante que, para todos os meus pedidos de um IP, n√£o houve bloqueio.  Al√©m disso, a sess√£o dura muito tempo.  Eu verifiquei depois de um dia - a resposta foi.  Poderia pelo menos redefinir os cookies, inserir o captcha e, em seguida, um s√≥lido "facepalm".  O software de escrita n√£o √© dif√≠cil, apenas cair√° em <br>  <b>UK.</b>  <b>RF</b>  <b>Artigo 273</b> , e isso j√° √© perigoso! <br><br>  Bem, n√≥s constru√≠mos uma casa.  Devemos reabastecer nosso carro e andar pela cidade.  Eu poderia dar um exemplo aqui com os postos de gasolina mais populares, mas em vista de algumas considera√ß√µes, n√£o farei isso.  Todo mundo tem um sistema, mas a abordagem √© diferente, ent√£o vou demonstr√°-lo no posto de gasolina mais simples e pouco conhecido. <br><br>  <b>AZS-ETALON.RU</b> .  Atraiu minha aten√ß√£o com o que est√° na minha cidade.  O princ√≠pio de opera√ß√£o √© semelhante - existe um cart√£o de fidelidade;  existe um site onde registramos um cart√£o;  Existe um aplicativo atrav√©s de autoriza√ß√£o no qual voc√™ pode pagar no checkout.  Bem, geralmente √© engra√ßado. <br><br>  V√° para o formul√°rio de registro do cart√£o - <u><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lk.azs-etalon.ru/registration.php</a></u> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vg/bb/8k/vgbb8kimxzermvyszygfiegun4o.png" alt="imagem"></div><br>  Preencha todos os dados, clique em <s>"Hack"</s> "Register".  N√≥s obtemos a resposta <blockquote>  "N√∫mero do cart√£o inv√°lido" </blockquote>  o que significa que inseriremos o pr√≥ximo n√∫mero na conta e assim por diante at√© encontrarmos combust√≠vel gr√°tis para nosso amigo de quatro rodas. <br><br>  <i>- Automatizar?</i> <i><br></i>  <i>F√°cil.</i> <i><br></i> <br>  N√≥s pegamos o pacote para registro.  Temos o seguinte <br><br>  <b>HEADERS HTTP:</b> <br><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text">  Anfitri√£o: lk.azs-etalon.ru <br>  Agente do Usu√°rio: Mozilla / 5.0 (Windows NT 6.3; WOW64; rv: 41.0) Gecko / 20100101 Firefox / 41.0 <br>  Aceitar: * / * <br>  Idioma de aceita√ß√£o: ru-RU, ru; q = 0,8, en-US; q = 0,5, en; q = 0,3 <br>  Accept-Encoding: gzip, deflate <br>  Tipo de conte√∫do: application / x-www-form-urlencoded;  charset = utf-8 <br>  Solicitado por X com: XMLHttpRequest <br>  Referer: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lk.azs-etalon.ru/registration.php</a> <br>  Comprimento do conte√∫do: 174 <br>  Cookie: _ym_uid = 10265171001178589;  _ym_d = 1214095619;  _ym_visorc191282814 = w;  _ym_isad = 2;  PHPSESSID = u0vp19oks8iman1hi8m8j1n105 <br>  Conex√£o: keep-alive <br>  Pragma: sem cache <br>  Controle de cache: sem cache <br>  If-Modified-Since: * <br></div></div><br>  <b>P√ìS-DADOS:</b> <br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text">  cart√£o = 1111-114-089-111 &amp; fio =% D0% 90% D0% 9E% D0% 92% D0% A0% D0% 90% D0% 9B% D0% 9E% D0% 92% D0% 90% D0% A0 % D0% BB% D0% BE% D1% 80 &amp; phone = 7 (912) 345-6789 &amp; date = 11.11.1990 &amp; sex = 1 &amp; pass = 123321q &amp; pass2 = 123321q <br></div></div><br>  Colocamos em uma forma conveniente, ajustamos em CURL, martelamos em um loop e colocamos em um fluxo.  O site emitir√°: <blockquote>  "R—ú¬µ–Ü¬µ–Ç–Ö‚Äπ ‚Ññ –Ö—ï—ò¬µ–Ç —î ¬∞ –Ç‚Äö ‚Äπ" </blockquote>  que traduziu do <s>alem√£o</s> CP1251 - <blockquote>  "N√∫mero do cart√£o inv√°lido" </blockquote>  Definimos a condi√ß√£o para o aparecimento de outra resposta e encontramos <u>"buzz"</u> .  O brutus mais simples est√° pronto. <br><br>  N√£o h√° captcha, bloqueio de IP para um grande n√∫mero de solicita√ß√µes - n√£o, nem existe uma verifica√ß√£o inicial para entrada de dados do cliente.  Ah, tudo bem.  E assim vai. <br><br>  Vamos passar por mais uma fera.  √â muito maior que outros, mas ainda vulner√°vel. <br><br>  <b>Tape</b> ... Just - <b>TAPE</b> <br><br>  Acesse getetepes lk.lenta.com/authentication/login/activate-card: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/en/ic/us/enicusare9pi6rphyjtuhhe6ts8.png" alt="imagem"></div><br>  <i>Assumimos que este era um cart√£o n√£o ativado anteriormente v√°lido.</i>  <i>Somos solicitados a inserir um n√∫mero de telefone</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e2a/9b8/7ea/e2a9b87ea13938442f7db4cd7ab99868.png" alt="imagem"><br><br>  Bem, digite seu celular e, em seguida, o restante dos dados, incluindo a senha.  √â tudo, estamos na conta pessoal. <br><br>  Aqui, por assim dizer, tudo √© semelhante aos sistemas anteriores.  √â importante capturar as solicita√ß√µes necess√°rias e repita-as na sequ√™ncia desejada. <br><br>  Mas empiricamente, foi encontrada alguma vulnerabilidade ruim.  Ao inserir o c√≥digo de verifica√ß√£o errado - o que aconteceu?  Nada, eles n√£o nos deixaram entrar na LC.  Isso √© l√≥gico, pessoal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ks/vc/l9/ksvcl9ysnyjeyyux69nc0q68f28.png" alt="imagem"></div><br>  Mas experimentalmente, o seguinte foi verificado!  Os pedidos de confirma√ß√£o do c√≥digo foram capturados, nos quais todos os par√¢metros estavam claros: <br><blockquote>  {"Code": "12345667890", "card": "800011999193", "phone": "91234567789"} </blockquote><br>  N√£o vou mastigar como exploramos essa vulnerabilidade, mas vou lhe dizer brevemente.  Com ele, voc√™ pode simplesmente omitir o <b>c√≥digo</b> e sempre entraremos na conta do usu√°rio sem confirmar o n√∫mero.  E isso significa que podemos indicar qualquer n√∫mero! <br><br>  ( <i>No momento, estou tentando entrar em contato com o suporte da TAPE</i> ) <br><br>  Por que tudo isso?  Vamos fazer um balan√ßo. <br><br>  Existem muitos servi√ßos com um sistema de fidelidade.  Voc√™ pode procurar infinitamente por eles e pontos "brutos".  Se eu lhe disser, o que √© poss√≠vel pilotar um avi√£o para esses pontos? <br><br>  <b>Aeroflot</b> e <b>S7</b> tamb√©m t√™m um sistema de b√¥nus.  Os pontos s√£o milhas.  Podemos obt√™-los de, por exemplo, parceiros.  A Aeroflot, a prop√≥sito, tem cerca de 2 mil deles.  Inclusive, quase todos os principais supermercados, incluindo o nosso infame X5 Retail Group.  Voc√™ pode resgatar pontos por milhas diretamente no LC da mesma encruzilhada.  Bem, e assim em quase todos os outros servi√ßos.  A prop√≥sito, esse fato de roubo de milhas por companhias a√©reas foi registrado oficialmente.  Caso de alto perfil, n√£o sem sacrif√≠cio. <br><br>  Como resultado, nem tudo √© t√£o simples quanto parece.  H√° pessoas que vivem desses pontos.  Bem, se essas bolas pertencem a voc√™ formalmente, algu√©m est√° sentado no seu pesco√ßo.  Os Kulkhackers podem comer, vestir, andar de carro, voar pelas cidades e muito mais gratuitamente. <br><br>  PS: Obrigado pelo fato de que v√°rios agentes de seguran√ßa do <u>X5</u> entraram em contato comigo ao mesmo tempo.  Houve mais discuss√µes com algu√©m sobre <i>‚Äúde quem s√£o os pontos - clientes ou encruzilhadas‚Äù do</i> que a quest√£o da seguran√ßa do sistema.  Mas acho que eles v√£o consertar tudo, j√° que todo o Conselho de Seguran√ßa j√° est√° ciente.  Prontamente, bem.  Eles devem prestar homenagem.  O principal √© melhorar. <br><br>  Bem, aqui voc√™ tem uma pesquisa. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt428650/">https://habr.com/ru/post/pt428650/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt428638/index.html">Hearts Flame Motor: Revis√£o do Monitor card√≠aco QardioCore</a></li>
<li><a href="../pt428640/index.html">Com o telefone no bolso: equipamento Snom DECT para redes telef√¥nicas sem fio</a></li>
<li><a href="../pt428644/index.html">Foda cerebral de baixo n√≠vel</a></li>
<li><a href="../pt428646/index.html">Os modelos do iPhone do ano passado tamb√©m diminuem com o desgaste da bateria</a></li>
<li><a href="../pt428648/index.html">Anton Arkhipov sobre um trabalho eficaz com o IntelliJ IDEA e o TeamCity em jug.msk.ru</a></li>
<li><a href="../pt428652/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 15: Software M√©dico, Parte 1</a></li>
<li><a href="../pt428654/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 15: Software M√©dico, Parte 2</a></li>
<li><a href="../pt428656/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 15: Software M√©dico, Parte 3</a></li>
<li><a href="../pt428658/index.html">Oficinas educacionais gratuitas no escrit√≥rio do Mail.Ru Group</a></li>
<li><a href="../pt428660/index.html">Habilitando pol√≠ticas extensivas de solicita√ß√£o de recebimento no VSTS para oferecer suporte ao processo de desenvolvimento</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>