<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶à üë©‚Äçüíª ‚§¥Ô∏è SamsPcbGuide Parte 8: Como obter a forma de onda correta üë©üèΩ‚Äçü§ù‚Äçüë®üèæ üêü üö¥üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Provavelmente todo mundo sabe como usar um oscilosc√≥pio. √â muito f√°cil - voc√™ conecta o "crocodilo" ao ch√£o, a ponta da sonda - no ponto de medi√ß√£o de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SamsPcbGuide Parte 8: Como obter a forma de onda correta</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433228/"> Provavelmente todo mundo sabe como usar um oscilosc√≥pio.  √â muito f√°cil - voc√™ conecta o "crocodilo" ao ch√£o, a ponta da sonda - no ponto de medi√ß√£o desejado, ajusta a escala ao longo dos eixos vertical e horizontal e faz uma varredura tempor√°ria de tens√£o nesse ponto.  Sim, isso pode ser feito, mas apenas se voc√™ levar em considera√ß√£o v√°rios fatores, os quais ser√£o discutidos neste artigo.  E se voc√™ n√£o levar em considera√ß√£o, existe a chance de a imagem recebida na tela do oscilosc√≥pio ser uma imagem in√∫til.  E quanto menor o custo, maior a probabilidade. <a name="habracut"></a><br><br>  Devo dizer imediatamente que o artigo n√£o discute a interface de controle e os recursos de um oscilosc√≥pio eletr√¥nico t√≠pico - isso √© relativamente simples e pode ser encontrado, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Escrevo apenas sobre o que n√£o √© t√£o f√°cil de encontrar, <s>mas f√°cil de perder</s> , especialmente em russo.  Ao ler, voc√™ precisar√° conhecer os princ√≠pios b√°sicos da teoria das linhas de sinal; por exemplo, voc√™ pode ler em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma</a> das minhas publica√ß√µes anteriores. <br><br>  Acho que o cen√°rio comum para o uso do oscilosc√≥pio no ciclo de desenvolvimento de uma placa de circuito impresso √© o seguinte: se a placa n√£o funcionar (curto-circuito, o microcircuito superaquece, o microcontrolador n√£o pisca, os comandos de controle n√£o passam, etc.), come√ßamos a procurar o problema pegando a sonda do oscilosc√≥pio e se funcionar, √© bom (fig. 1). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9q/u2/li/9qu2litvzrweaostreuo1zxywa4.png"></div><br>  Al√©m disso, se o desenvolvedor do produto n√£o √© um radioamador que executa todas essas fun√ß√µes, o n√∫mero de itera√ß√µes at√© o ‚Äúsucesso‚Äù condicional, que consiste no funcionamento do produto, pode aumentar.  Portanto, no caso de separa√ß√£o de fun√ß√µes, como no caso de desenvolvimento dentro da organiza√ß√£o, √© recomend√°vel que o desenvolvedor, se n√£o coletar e depurar as primeiras amostras de produtos, esteja presente na f√°brica, pelo menos, para analisar a efic√°cia tecnol√≥gica do desenvolvimento. <br><br>  Na minha experi√™ncia, para as primeiras amostras de produtos, a montagem do bloco, come√ßando pelo subsistema de energia, com o controle dos par√¢metros el√©tricos dos subsistemas √© muito mais eficiente (Fig. 2). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wp/gs/cw/wpgscwyymuosbftrsrhr6ytcueu.png"></div><br><br>  Com essa abordagem, o escopo da solu√ß√£o de problemas √© reduzido, pois pode ocorrer apenas em uma unidade montada recentemente ou quando essa unidade interage com as j√° verificadas.  O controle dos par√¢metros el√©tricos garante que o produto n√£o funcione apenas corretamente, mas que todos ou os principais sinais el√©tricos correspondam ao comportamento esperado.  Nesse caso, o ‚Äúsucesso‚Äù j√° √© mais completo e podemos prosseguir para o ciclo completo de testes com as influ√™ncias externas necess√°rias. <br><br>  Vamos voltar a usar os oscilosc√≥pios.  Ao descrever seu lugar no desenvolvimento de placas de circuito impresso, um importante princ√≠pio de medi√ß√µes (e medi√ß√µes com um oscilosc√≥pio em particular) foi implicitamente formulado, sobre o qual Eric Bogatin frequentemente fala em suas palestras. <br><br><blockquote>  At√© o momento da medi√ß√£o, √© necess√°rio ter uma id√©ia do resultado esperado.  Em caso de coincid√™ncia de expectativas e realidade, podemos falar sobre o modelo correto do processo, em caso de discrep√¢ncia significativa - a necessidade de verificar novamente os par√¢metros esperados (obtidos usando c√°lculos anal√≠ticos diretos, resultados de simula√ß√£o ou com base na experi√™ncia) ou medi√ß√£o incorreta ou funcionamento incorreto do produto . </blockquote><br>  No contexto do t√≥pico da publica√ß√£o, vale a pena prestar aten√ß√£o √† op√ß√£o de medi√ß√£o incorreta.  Nas medi√ß√µes usando um oscilosc√≥pio, como nunca antes, aplicamos o "efeito observador" da f√≠sica qu√¢ntica, quando a presen√ßa de um observador afeta o processo observado.  Na tela do oscilosc√≥pio, voc√™ pode observar de forma que ele n√£o tenha nada a ver com a realidade.  N√≥s descobrimos como evitar isso. <br><br>  Vamos come√ßar com a formula√ß√£o do resultado final ideal: observar na tela do oscilosc√≥pio uma varredura tempor√°ria da tens√£o em um ponto espec√≠fico da linha de sinal em um determinado momento no tempo, sem introduzir distor√ß√µes.  Permita que haja um oscilosc√≥pio de alta velocidade ideal com uma largura de banda infinita, proporcionando convers√£o de anal√≥gico para digital com o n√≠vel de resolu√ß√£o necess√°rio.  Ent√£o, para resolver o problema, um sinal deve ser transmitido de um ponto na placa de circuito impresso para a entrada coaxial do oscilosc√≥pio, que satisfa√ßa as seguintes condi√ß√µes: <br><br><ol><li>  Fornece contato mec√¢nico est√°vel com resist√™ncia de contato zero nos pontos de contato.  Existem dois deles, ambos equivalentes: um fornece um caminho para corrente cont√≠nua e o outro para corrente de retorno. </li><li>  A linha de sinal formada n√£o deve carregar o circuito de sinal medido, ou seja, deve ter imped√¢ncia infinita. </li><li>  A linha de sinal formada n√£o deve introduzir distor√ß√µes no sinal medido, ou seja, deve ter uma fun√ß√£o de transfer√™ncia plana em uma banda de frequ√™ncia infinita e uma caracter√≠stica de fase linear. </li><li>  A linha de sinal formada n√£o deve introduzir sua pr√≥pria interfer√™ncia no sinal medido e tamb√©m deve ser idealmente protegida contra interfer√™ncias externas. </li></ol><br>  Obviamente, em casos gerais, essas condi√ß√µes n√£o s√£o vi√°veis, no entanto, a formula√ß√£o do resultado final ideal √© √∫til na an√°lise do problema.  Em particular, ele fornece um entendimento de que um sistema de medi√ß√£o real tem limita√ß√µes que restringem o escopo de medi√ß√µes confi√°veis. <br><br>  Na fig.  A Figura 3 mostra o circuito equivalente do circuito de medi√ß√£o usando o tipo mais comum de sonda "1X / 10X", que na maioria dos casos est√° inclu√≠da no conjunto padr√£o do oscilosc√≥pio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ls/rb/3d/lsrb3dbsmygzvzxxprvs6jizz1i.png"></div><br>  A resist√™ncia CC da sonda na posi√ß√£o "10X" √© de cerca de 9 MŒ© - este √© um resistor conectado em s√©rie que forma um divisor de tens√£o de 1:10 com uma resist√™ncia de entrada de 1 MŒ© no oscilosc√≥pio.  Da√≠ o nome da sonda "10X", que neste modo <i>reduz o</i> sinal medido em 10 vezes (mas n√£o h√° captadores e ru√≠dos introduzidos pelo sistema).  Na posi√ß√£o do interruptor "1X", esse resistor est√° em curto e a resist√™ncia da sonda √© a resist√™ncia do cabo coaxial da sonda.  Eu recomendo medir essa resist√™ncia - da ponta da sonda ao pino central do conector BNC - e verifique se ela n√£o √© "zero", como um cabo coaxial comum de 50 ohms, mas tem v√°rias centenas de ohms.  Se voc√™ cortar o cabo (Fig. 4), poder√° ver um condutor nicr√¥mico fino cercado por um material isolante de espuma com uma constante diel√©trica baixa Œµr ~ 1. Essa √© uma linha com perdas, ou seja,  o cabo foi projetado para atenuar reflex√µes de alta frequ√™ncia devido a inconsist√™ncias na linha de sinal de medi√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/v9/fm/nk/v9fmnk3a4schdlbastbvuh6228i.png"></div><br>  O capacitor do trimmer C <sub>EQ1 foi</sub> projetado para compensar no modo ‚Äú10X‚Äù os p√≥los do filtro passa-baixo (Fig. 5) com uma frequ√™ncia de corte da ordem de apenas 1,5 kHz!  Agora deve ficar claro por que essa compensa√ß√£o √© necess√°ria.  √Äs vezes, o capacitor do trimmer n√£o est√° localizado na al√ßa da sonda, mas na extremidade oposta, no conector - ent√£o C <sub>EQ1 de um</sub> valor nominal fixo de ~ 15 pF, e o ajuste √© realizado pelo capacitor C <sub>EQ2</sub> .  Indut√¢ncia L <sub>P</sub> √© a indut√¢ncia do circuito da corrente de retorno. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zi/u7/gt/ziu7gtvpempqsqnybkshl2ekz8c.png"></div><br>  Com base no exposto, voc√™ pode obter um modelo de trabalho do circuito de medi√ß√£o do oscilosc√≥pio para as posi√ß√µes do comutador "10X" e "1X".  Os valores num√©ricos dos par√¢metros devem ser retirados da documenta√ß√£o para as sondas e oscilosc√≥pios correspondentes.  Nesse caso, provavelmente, os par√¢metros de v√°rios fabricantes n√£o devem diferir significativamente para uma determinada largura de banda.  Apresentado na fig.  Os modelos 6 e 7 do LTSpice usaram dados em um oscilosc√≥pio TDS2024B e uma sonda P2200. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0v/f4/jr/0vf4jrmbqx_kybj8ahfkihq0wm8.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tt/xj/tb/ttxjtbnsth3lvcd8djegczgb9sk.png"></div><br>  √â importante entender que esses modelos s√£o simplificados e n√£o levam em considera√ß√£o todos os par√¢metros esp√∫rios; portanto, eles n√£o fornecem valores exatos da largura de banda.  No entanto, eles d√£o uma id√©ia qualitativa da influ√™ncia de certos par√¢metros durante a medi√ß√£o.  Por exemplo, os primeiros resultados aos quais voc√™ deve prestar aten√ß√£o s√£o: <br><br>  1. A banda passante da sonda no modo 1X √© mais do que uma ordem de magnitude menor que no modo 10X e atinge cerca de 6 ... 8 MHz.  Isso corresponde √† dura√ß√£o m√≠nima mensur√°vel da borda do sinal tR = 0,35 / BW <sub>PROBE</sub> ~ 45 ... 55 ns.  A vantagem do modo ‚Äú1X‚Äù √© a rela√ß√£o sinal / ru√≠do aumentada em 20 dB, pois no mesmo n√≠vel de interfer√™ncia no sistema de medi√ß√£o, o sinal na entrada do oscilosc√≥pio √© 10 vezes maior. <br><br>  2. Aumentar a indut√¢ncia do loop de corrente de retorno reduz a banda passante.  √â por isso que, ao medir sinais de alta frequ√™ncia para garantir a corrente de retorno, recomenda-se n√£o usar um "crocodilo" com uma indut√¢ncia de ~ 200 nH, mas uma ponta de prova especial, que reduz a indut√¢ncia em uma ordem de magnitude (Fig. 8). <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k3/3t/1x/k33t1x_4tkyujv96vcg0ix4cpko.png"></div><br>  3. A influ√™ncia do capacitor de sintonia no modo ‚Äú10X‚Äù na fun√ß√£o de transfer√™ncia aumenta, come√ßando nas frequ√™ncias de 200 ... 300 Hz, at√© um m√°ximo nas frequ√™ncias de 2 ... 3 kHz.  √â por isso que, como sinal de calibra√ß√£o, os oscilosc√≥pios geralmente usam um sinal com uma frequ√™ncia de clock de 1 kHz, cujas frentes s√£o distorcidas durante o ajuste (Fig. 9).  Um bom h√°bito √© fazer ajustes ao trocar a sonda ou o canal do oscilosc√≥pio ou periodicamente antes de fazer medi√ß√µes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7j/zd/zf/7jzdzf5uutqg2rqbhmcbeq9b3qe.png"></div><br>  Al√©m das caracter√≠sticas el√©tricas da sonda e do circuito de entrada do oscilosc√≥pio no modelo da Fig.  3, os par√¢metros incluem as seguintes quantidades: a tens√£o da fonte de sinal - seu espectro, a resist√™ncia de sa√≠da da fonte R <sub>S</sub> , a imped√¢ncia da linha de sinal Z <sub>0</sub> , a imped√¢ncia de carga Z <sub>LOAD</sub> - √© a imped√¢ncia, levando em considera√ß√£o o componente capacitivo.  Estes e outros par√¢metros s√£o apresentados na tabela 1, eles determinam a confiabilidade dos resultados da medi√ß√£o.  O principal crit√©rio √© que a parte estudada da banda espectral do sinal seja inclu√≠da na banda passante do sistema sonda + oscilosc√≥pio, enquanto a amplitude do sinal n√£o deve exceder os valores aceit√°veis ‚Äã‚Äã(isso √© especialmente importante quando a imped√¢ncia de entrada do oscilosc√≥pio √© de 50 Ohms).  O resto: captura de sinal e medi√ß√£o de seus par√¢metros √© uma quest√£o t√©cnica. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sq/cr/sw/sqcrswdaiejx-7y9tewpnz0cdks.png"></div><br>  O √∫ltimo ponto em que quero me concentrar √© na largura de banda do sistema de sonda + oscilosc√≥pio.  Aqui, vale a pena evitar o equ√≠voco de que, se voc√™ usar um oscilosc√≥pio e uma sonda com largura de banda de 150 MHz, a largura de banda do sistema de medi√ß√£o ser√° de 150 MHz (isso s√≥ √© poss√≠vel com compensa√ß√£o de software).  Al√©m disso, o fato de 150 MHz estarem "gravados" na sonda nem sempre significa que s√£o 150 MHz reais.  Portanto, recomendo usar o gerador de sinal sinusoidal para investigar experimentalmente a banda passante.  A frequ√™ncia na qual a amplitude do sinal diminui para 0,707 a partir do valor em baixas frequ√™ncias, este ser√° o valor desejado.  Nesse caso, vale a pena prestar aten√ß√£o se h√° m√°ximos locais na fun√ß√£o de transfer√™ncia.  Fiz isso com a ajuda do gerador G4-107 em v√°rios sistemas de medi√ß√£o, enquanto utilizava a conex√£o com a "mola" (Fig. 10).  A compensa√ß√£o era realizada antes de cada medi√ß√£o e sempre era necess√°rio fazer ajustes, embora pequenos.  As medi√ß√µes tamb√©m foram realizadas sem uma sonda usando um cabo BNC coaxial curto de 50 ohms.  Os resultados s√£o apresentados na tabela 2. Sonda PP510 surpresa com a largura de banda reivindicada de 100 MHz. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ci/n2/c2/cin2c2l2h0qlggunenca7901rcq.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d8/fb/0q/d8fb0qwcqun3dqnchbzbscs0sze.png"></div><br>  Em geral, para resumir, quero dizer que voc√™ deve ter cuidado com as medi√ß√µes com um oscilosc√≥pio e usar a correla√ß√£o entre os resultados esperados e os obtidos como refer√™ncia.  Quanto √† faixa de frequ√™ncia mais alta, as sondas passivas do tipo ‚Äú1X / 10X‚Äù n√£o s√£o aplic√°veis ‚Äã‚Äãpara medir sinais cuja largura de banda exceda 500 MHz.  Para fazer isso, use uma conex√£o coaxial direta na entrada de 50 ohms do oscilosc√≥pio ou das sondas ativas, minimize ainda mais a indut√¢ncia da conex√£o (inclusive atrav√©s do uso de conex√µes soldadas, coloca√ß√£o de conectores coaxiais em miniatura na placa, etc.).  O t√≥pico √© muito amplo - existem oscilosc√≥pios isolados, sondas isoladas, sondas diferenciais e especializadas, mas tudo isso √© uma conversa separada, al√©m do escopo deste artigo. <br><br>  <i>Este material n√£o foi publicado em nenhum lugar antes, estou aguardando feedback.</i>  <i>Depois disso, o artigo, possivelmente de forma um pouco mais detalhada, juntamente com o material sobre isolamento de alta tens√£o, ser√° inclu√≠do como um ap√™ndice na vers√£o completa do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">livro</a> em uma vers√£o atualizada.</i>  <i>Medi√ß√µes precisas, pessoal!</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt433228/">https://habr.com/ru/post/pt433228/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt433218/index.html">Complicando o exemplo padr√£o</a></li>
<li><a href="../pt433220/index.html">Jornalistas conseguiram encontrar um passageiro da Waymo Robotaxi que falasse sobre o servi√ßo</a></li>
<li><a href="../pt433222/index.html">Aprendendo Lasers de Nitrog√™nio - Parte 2: Lasers de Descarga Longitudinal</a></li>
<li><a href="../pt433224/index.html">Not√≠cias do mundo do OpenStreetMap n¬∫ 437 (27/11/2018 - 03/03/2018)</a></li>
<li><a href="../pt433226/index.html">Metodologia para avaliar o conhecimento de um engenheiro. O caminho de um arquiteto e o caminho de um especialista</a></li>
<li><a href="../pt433232/index.html">Lyft revela sua vis√£o de um sistema de intera√ß√£o com pedestres</a></li>
<li><a href="../pt433234/index.html">Uma bab√° perfeita √© necess√°ria; certifique-se de passar por um exame de IA para avaliar o respeito e as boas maneiras</a></li>
<li><a href="../pt433236/index.html">O chefe do Google acredita que o medo da IA ‚Äã‚Äã√© "completamente justificado"</a></li>
<li><a href="../pt433242/index.html">M√°scara t√≥xica</a></li>
<li><a href="../pt433246/index.html">Framework: an√°lise de sistemas DLT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>