<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📕 ✍🏽 🌃 到了晚上，无事可做，或者没有键盘如何安装Gentoo 🚉 🍯 🙏🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="基于真实事件的幽默故事。 





 那是一个无聊的夜晚。 我的妻子不在家，酗酒结束，DotA没有连接。 在这种情况下该怎么办？ 当然，收集Gentoo！ 


 因此，让我们开始吧！ 


 给出：一个带有2Gb RAM 的旧服务器，AMD Athlon Dual，两个250Gb硬盘驱动器，其中...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>到了晚上，无事可做，或者没有键盘如何安装Gentoo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447330/"><p>  <i>基于真实事件的幽默故事。</i> </p><br><p><img src="https://habrastorage.org/webt/3w/qm/rs/3wqmrsuo0rbna6-uptn-ps4suqa.jpeg" alt="安装gentoo"></p><br><p> 那是一个无聊的夜晚。 我的妻子不在家，酗酒结束，DotA没有连接。 在这种情况下该怎么办？ 当然，收集Gentoo！ </p><br><p> 因此，让我们开始吧！ </p><a name="habracut"></a><br><p>  <b>给出：一个</b>带有2Gb RAM <b>的</b>旧服务器，AMD Athlon Dual，两个250Gb硬盘驱动器，其中一个具有系统和无法工作的BIOS电池。 还有带VGA输入和鼠标的Sony Bravia电视。 以及配备Manjaro Arch Linux和i3环境的Wi-Fi路由器和可正常使用的笔记本电脑。 </p><br><p>  <b>需要：</b>安装Gentoo。 </p><br><p>  <b>第一天</b> </p><br><p>  <b>21:00我</b>从壁橱里出来了一个旧的尘土飞扬的servachek。 从那里，我得到了一个装有电线和其他垃圾的盒子以及一个旧的电视（走廊上的衣柜很大，一切都正好装在那里）。 我在一个盒子里摸索，解开电线，拿到跳线，VGA电缆，鼠标，电源线和一套螺丝起子（我突然需要）。 </p><br><p>  <b>21:15</b>我开始研究所有这一切，并思考一个问题：“如何做到这一点？” 毕竟，安装Gentoo的主要属性-键盘，我没有它！ </p><br><p>  <b>21:20</b>我认为，“但是，如果您从服务器上卸下螺钉，将其插入USB端口并在上面部署系统，该怎么办？ 不是犹太洁食，必须将内核收集在同一硬件上……”。 当我在考虑这个选项时，我设法拉出了螺丝并将其放入托架，但是当我将最后一个螺栓拧入盒子时，我决定它不起作用！ </p><br><p>  <b>21:30</b>我松开了螺栓，将螺钉放在服务器中的适当位置。 我进一步思考：“只有一种选择-SSH访问。 也许已经有一个带有sshd的LiveUSB运行了？” </p><br><p>  <b>21:35我</b>去<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了Gentoo</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">官方网站</a> 。 我正在下载“最小安装CD”习惯。 我取消了 没有键盘，这是一个死亡数字！ 下面是指向混合ISO（LiveDVD）的链接。 是的，我想，一切都在那里！ 我下载并<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部署到USB闪存驱动器</a> 。 </p><br><p>  <b>21:50</b>我将服务器，电视，电线，鼠标从发生我的想法和准备工作的厨房带到一个遥远的角落房间。 该服务器像工业吸尘器一样嘈杂，因此警察一定会来参观！ 所有连接并启动了汽车。 </p><br><p>  <b>22:00</b>以前的操作系统正在加载！ 我关闭服务器，然后开始思考：“电池没电了，您不必进入BIOS（没有键盘），但是您需要不惜一切代价从闪存驱动器启动！” 我拆卸服务器，关闭一颗螺丝。 我正在启动。 以前的操作系统正在加载！ 重新拧紧螺丝，关闭另一个！ 有效！ </p><br><p>  <b>22:10</b>这是期待已久的屏幕，用于选择从LiveUSB引导的选项！ 直到自动选择第一个引导选项为止的剩余时间为“现在一切就绪，您只需稍等片刻”，我很高兴！ 珍惜的30秒过去了，屏幕变黑了，什么也没发生。  “好吧，我正在装载时，我会冒烟……”，决定休息一下，并从这种噪音中休息一下。 </p><br><p>  <b>22:15我要</b>回到“喧闹的房间”。 屏幕是黑色的，也没有任何反应！ 我以为“奇怪……”，“无论如何，它早就已经装好了！”。 顺便说一句，事实是我的电视并不能始终在屏幕上显示正在发生的事情，它无法感知某些模式并且拒绝播放正在发生的事情，这使事实更加恶化……我重启了服务器。 我坐在那里看着……再次，一个黑屏都一样。 好吧，我吓坏了，开始拨动鼠标按钮……而且，天哪，它打开了，下载就开始了。 后来，我发现只有单击此奇迹鼠标上的小按钮，下载才会继续！ 别做这个按钮，上帝知道今晚将如何结束！ 毕竟，目标已经设定，我们必须以任何方式实现它！ <br><br></p><div class="spoiler">  <b class="spoiler_title">鼠标照片</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/a_/7s/ip/a_7sip3elz7_mefafsfyviemfdo.jpeg" alt="鼠标"></div></div><br><p>  <b>22:20</b>它在我耳边响起，但我继续朝着自己的目标迈进！  Gentoo已启动！ 颜色令人赏心悦目！ 鼠标在屏幕上走动！ 下方显示“无需登录密码”，这很好，因为我没有键盘！ 屏幕上有两个字段：工作环境和密码的选择，以及登录按钮。  Gentoo的LiveDVD提供了相当广泛的环境选择，包括Fluxbox，Openbox，rat（xfce），plasma等。 在我看来，选择“鼠”的选择是一个不错的选择！ 我进入“老鼠”的工作环境。 太好了！ 有一个终端，但是为什么我需要它，我没有键盘！ <br><br></p><div class="spoiler">  <b class="spoiler_title">登录画面</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/37/f2/-z/37f2-ztfk37073tz0wjxidonmv8.jpeg" alt="登录画面"><img src="https://habrastorage.org/webt/n4/7b/tq/n47btq6mm-fwpqhzlxgfhlr7fus.jpeg" alt="选择环境"></div></div><br><p>  <b>22:25</b>我开始寻找某种屏幕键盘或其他东西。 仅找到“角色图”。  “嗯，太好了，这就是我的出路！”我想。 但是就在这里！ 您可以粘贴文本，复制和粘贴，但是如何按<b>Enter</b> ！？ 让我提醒您，任务是启动sshd，这归结为在终端中键入“ <i>sudo /etc/init.d/sshd start</i> ”，然后按<b>Enter</b>键，而我还没有！ 怎么办 但是有办法！ </p><br><p>  <b>22:30</b>从噪音中休息。 我去厨房，坐在笔记本电脑旁。 任何终端，如果您将复制的文本和换行符粘贴到其中，将执行命令，因为 将换行视为<b>Enter</b> 。 因此，找到了解决方案！ 您需要将带有命令和换行符的HTML页面上载到Internet。 它是HTML，因为一个简单的文本文件，浏览器将在一行中打开，“吞噬”所有过渡到新行。 所以我的页面看起来像这样： <br><br></p><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span>sudo /etc/init.d/sshd start<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> 需要“ 1”，以便您可以将转换复制到新行，否则仅复制一行，不设置多少“ br”。 我使用链接“ <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">mydomen.ru/1.htm</a></i> ”将文件上传到某个站点。 <br><p>  <b>22:40我要</b>回到“喧闹的房间”。 最主要的是要有时间在打开屏幕保护程序之前返回，这在退出屏幕保护程序时表明它不会用空密码让旧版本返回系统！ 带着浏览器和符号表的成功，我期待着打开！ 我输入的是“ <i>mydomain</i> ”。 寻找点... </p><br><p>  <b>22:50</b>找到一个要点！ 您必须选择查看模式“按Unicode块”。 我进一步拨打地址，“ /”的好处是找到了一个带点的数字！ 我复制文本，将其粘贴到地址栏中，然后单击“执行”。 由于BIOS的电量耗尽，因此系统中的时间设置为“ 01.01.2002”，在这种情况下SSL证书不起作用！ <br><br></p><div class="spoiler">  <b class="spoiler_title">人物表</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/rr/7v/53/rr7v53bmdkemyj5ysl2e9zi5zla.jpeg" alt="查看模式菜单"><img src="https://habrastorage.org/webt/tz/id/mn/tzidmnqlvvmxwv-zvl5xvkh5fzi.jpeg" alt="人物表"></div></div><br><p>  <b>23:00</b>我在厨房里，不受噪音干扰。 最主要的是不要长时间休息，否则屏幕保护程序将打开！ 我将NGINX配置为不使用HTTPS将文件上传到地址“ <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">mydomain.ru/2.htm</a></i> ”，因为 旧地址已由浏览器重定向和缓存。 </p><br><p>  <b>23:05</b>我从噪音中休息了一会儿，并期待成功，所以我重新键入该链接，因为无法模拟<b>Backspace</b>按钮！ 好吧，这是在笑，但实际上我只是按下符号表“ 2”，然后在地址栏中选择，复制和替换。 快走  “真的！”我想。 自豪的是，我从页面复制了两行并将其放入终端。  SSH服务器正在运行，是时候通过在Wi-Fi路由器上基于Web的管理界面中查看IP地址来尝试进行连接了！ 其实不，还为时过早！ 很可惜，我当时还不明白... </p><br><p>  <b>23:15我</b>返回到“鼠标”，在此添加一行 <br><br></p><pre> <code class="xml hljs">sudo passwd<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span>123<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">/&gt;</span></span>1</code> </pre> <br> 并更新服务器上的HTML文件。 幸运的是，仅此而已！ 我正在更新页面。 好吧，根据旧的方案，我将这些行复制到终端以运行“ <i>sudo passwd</i> ”，并分别两次输入并重复输入密码。 <br><p>  <b>23:17</b>已连接！ 现在我不怕屏幕保护程序和噪音！ </p><br><p>  <b>01:00</b>关于我从建立ssh连接到现在为止所经历的过程，到目前为止，在许多来源中都有详细的描述，最完整的描述在《 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Gentoo手册》中</a> 。 我编译了内核，安装了grub并将组装好的内核装入其中。 在新系统上设置网络和SSH。 完成， <i>重启</i> ！ </p><br><p>  <b>第2天-休息日</b> </p><br><p>  <b>10:00我</b>回到工作中。 打开服务器。 屏幕上什么都没有发生，网络上没有服务器！ 想到网络问题。 从LiveDVD引导后，我配置了网络，但是并没有帮助... </p><div class="spoiler">  <b class="spoiler_title">启动服务器时，在旧电视上</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/bv/m-/0i/bvm-0iobgk9n1q3tpvrmkhryaw0.jpeg" alt="图片"></div></div><br><p>  <b>10:30</b>决定学习下载日志会很不错。 没有日志！  “是的，那么就没必要加载系统！ 但是屏幕上写的是什么？”我想。 考虑了一下电视什么都不显示的原因后，提出了一个假设，即电视无法显示控制台输出所在的分辨率。 实际上，在屏幕上是这样写的... </p><br><p>  <b>11:00</b>我将GRUB的设置更改为640x480的输出。 它有帮助。 它说“正在加载Linux 4.19.27-gentoo-r1 ...”。 原来，他在组装内核时搞砸了。 </p><br><p>  <b>11:30</b>我放了genkernel，对内核进行了手动调整，稍后我将进行实验。 没有设置！ 原来是带有日期的门框。 最好在每次启动时进行更新，这在很大程度上取决于该日期。 我会将其放入BIOS中，但是为此，我需要一个键盘...我将日期更改为当前日期。 </p><br><p>  <b>14:00</b>哇！ 内核已经编译！ 将内核填充到引导加载程序中，然后重新启动。 终于成功了！ </p><br><p> 第一个目标得以实现！ </p><br><p> 再者，我也要装第二个CentOS硬盘驱动器，也没有键盘，但是已经是绅士了！ 但是我将在第二部分中对此进行介绍。 在第三部分中，我将使用这两个系统上的简单应用程序对Web服务器进行负载测试，并比较RPS。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN447330/">https://habr.com/ru/post/zh-CN447330/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN447318/index.html">跳蚤市场上的小工具：为什么要花10欧元买一台20年历史的Packard Bell笔记本电脑</a></li>
<li><a href="../zh-CN447322/index.html">建立REST JSON API的原理</a></li>
<li><a href="../zh-CN447324/index.html">Hayabusa-2内部的计算机工作原理，这向Ryuga投下炸弹。 以及开发人员的照片</a></li>
<li><a href="../zh-CN447326/index.html">分形的无理数。 第二部分</a></li>
<li><a href="../zh-CN447328/index.html">哈布罗自杀。 1C中计划的痛苦</a></li>
<li><a href="../zh-CN447334/index.html">促销在线武器零件商店的内容策略示例</a></li>
<li><a href="../zh-CN447336/index.html">监控Kubernetes集群资源</a></li>
<li><a href="../zh-CN447338/index.html">英特尔0x7E3暑期实习生正在等待学生</a></li>
<li><a href="../zh-CN447342/index.html">非火星金字塔：研究石墨烯层下的纳米晶体簇的形式。</a></li>
<li><a href="../zh-CN447344/index.html">网站管理员的新功能</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>