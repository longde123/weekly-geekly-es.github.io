<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏇🏼 🛁 🔣 Kenapa saya tidak menggunakan komponen web 🏆 🧑🏿 👩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya menulis ini terutama untuk diri saya sendiri di masa depan, sehingga saya memiliki tempat untuk merujuk ketika seseorang bertanya kepada saya men...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kenapa saya tidak menggunakan komponen web</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457010/"><p>  Saya menulis ini terutama untuk diri saya sendiri di masa depan, sehingga saya memiliki tempat untuk merujuk ketika seseorang bertanya kepada saya mengapa saya skeptis tentang komponen web dan mengapa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Svelte</a> tidak dikompilasi ke dalam komponen web secara default.  (Namun, dapat dikompilasi ke dalam komponen web, serta diintegrasikan dengan mereka, sebagaimana dibuktikan oleh peringkat yang sangat baik pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Elemen Kustom Di Mana Saja</a> ). </p><br><p>  Tak satu pun dari yang berikut ini harus ditafsirkan sebagai kritik atas kerja keras yang dilakukan pada komponen web.  Mungkin saya juga membuat kesalahan dalam publikasi ini, dalam hal ini saya akan senang untuk mengubah  Saya juga tidak menyatakan bahwa Anda tidak boleh menggunakan komponen web.  Mereka memiliki ruang lingkup sendiri.  Saya hanya menjelaskan mengapa mereka tidak cocok untuk saya. </p><a name="habracut"></a><br><h2 id="1-progressivnoe-uluchshenie">  1. Peningkatan progresif </h2><br><p> Ini mungkin kepercayaan kuno, tapi saya percaya bahwa situs web harus bekerja tanpa JavaScript sebanyak mungkin.  Komponen web tanpa JS tidak berfungsi.  Ini normal untuk hal-hal yang inheren interaktif, seperti elemen bentuk khusus (&lt;cool-datepicker&gt;), tetapi itu tidak normal untuk navigasi situs, misalnya.  Atau bayangkan komponen <code>&lt;twitter-share&gt;</code> yang merangkum logika membangun URL untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dikirim ke Twitter</a> .  Saya bisa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menerapkannya di Svelte</a> , yang merender HTML berikut kepada saya di server: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">target</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_blank"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">noreferrer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"..."</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"svelte-1jnfxx"</span></span></span><span class="hljs-tag">&gt;</span></span> Tweet this <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Dengan kata lain, <code>&lt;a&gt;</code> biasa dalam semua kemegahannya tersedia. </p><br><p>  Saat JavaScript diaktifkan, peningkatan progresif terjadi - alih-alih membuka tab baru, jendela sembulan kecil terbuka.  Tetapi bahkan tanpa JS, komponen masih berfungsi dengan baik. </p><br><p>  Dalam kasus komponen web HTML, akan terlihat seperti ini: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">twitter-share</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"..."</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"..."</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">via</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"..."</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br><p>  ... yang tidak berguna dan tidak cocok untuk digunakan jika JS diblokir, atau karena beberapa alasan telah rusak, atau pengguna memiliki browser lama. </p><br><p>  Selain itu, <code>class="svelte-1jnfxx"</code> memberi kita enkapsulasi gaya tanpa DOM Shadow.  Yang membawa kita ke poin berikutnya. </p><br><h2 id="2-css-v-eee-js">  2. CSS dalam, eh ... JS </h2><br><p>  Jika Anda ingin menggunakan Shadow DOM untuk merangkum gaya, maka Anda harus memasukkan CSS Anda di <code>&lt;style&gt;</code> .  Satu-satunya cara praktis untuk melakukan ini, jika Anda ingin menghindari memuat berkedip konten (FOUC), adalah dengan menanamkan CSS sebagai string dalam JavaScript yang mendefinisikan sisa logika komponen web Anda. </p><br><p>  Ini bertentangan dengan saran peningkatan kinerja yang berbunyi: "kurang JavaScript, tolong."  Komunitas CSS-in-JS, khususnya, telah banyak dikritik karena tidak menggunakan file CSS untuk CSS, dan di sini kita kembali dengan komponen web. </p><br><p>  Di masa depan, kita akan dapat menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Modul CSS</a> serta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lembar Gaya Konstruktif</a> untuk mengatasi masalah ini.  Kami juga akan memiliki kesempatan untuk merancang bagian internal Shadow DOM melalui <code>::theme</code> and <code>::part</code> .  Tapi di sini bukan tanpa masalah. </p><br><h2 id="3-ustalost-platformy">  3. Kelelahan platform </h2><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1141404066704232448"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><blockquote>  Ini adalah mahkota yang menyakitkan bagi saya - saya telah mengiklankan hal-hal ini sebagai "Masa Depan" selama beberapa tahun, tetapi untuk mengimbangi saat <em>ini,</em> kami harus mengisi platform dengan banyak fitur yang berbeda, memperburuk kesenjangan antara browser. </blockquote><p>  Pada saat penulisan, di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://crbug.com</a> , pelacak bug Chrome, 61.000 bug terbuka yang menunjukkan kompleksitas luar biasa dalam menulis peramban modern. </p><br><p>  Setiap kali kami menambahkan fitur baru ke platform, kami meningkatkan kompleksitas - menciptakan potensi bug baru dan memperkecil kemungkinan bahwa Chrome akan memiliki pesaing baru.  Ini juga menciptakan kesulitan bagi pengembang yang didorong untuk mempelajari fitur-fitur baru ini (beberapa di antaranya, seperti Impor HTML atau versi asli standar Elemen Kustom, belum berakar di luar Google dan sekarang sedang dalam proses penghapusan). </p><br><h2 id="4-polifily">  4. Polifilis </h2><br><p>  Fakta bahwa Anda perlu menggunakan polyfile untuk mendukung browser lama tidak berkontribusi pada perkembangan situasi.  Dan sama <em>sekali</em> tidak membantu artikel tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Constructable Stylesheets yang</a> ditulis di Google (hai Jason!) Jangan menyebutkan bahwa fitur ini hanya tersedia di Chrome.  (Ketiga penulis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spesifikasi</a> bekerja untuk Google. Webkit tampaknya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">memiliki keraguan</a> tentang beberapa aspek dari standar ini). </p><br><h2 id="5-kompoziciya">  5. Komposisi </h2><br><p>  Ini dapat berguna untuk mengontrol kapan isi slot perlu dirender.  Bayangkan Anda memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code> &lt;html-include&gt;</code></a> untuk memuat beberapa konten tambahan saat terlihat: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Toggle the section for more info:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toggled-section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html-include</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./more-info.html"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toggled-section</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Tiba-tiba!  Sekalipun kita belum membuka <code>toggled-section</code> , tetapi browser telah meminta <code>more-info.html</code> , beserta semua gambar dan sumber daya lain yang ada di sana. </p><br><p>  Ini karena isi slot diberikan di komponen web <em>terlebih dahulu</em> .  Pada kenyataannya, ternyata dalam kebanyakan kasus Anda ingin membuat konten slot dengan malas.  Svelte v2 mengadopsi model redning proaktif untuk memenuhi standar web, tetapi ini ternyata menjadi sumber utama ketidaknyamanan - kami tidak dapat membuat sesuatu yang mirip dengan React Router, misalnya.  Di Svelte v3, kami menjauh dari perilaku komponen web dan tidak pernah melihat ke belakang. </p><br><p>  Sayangnya, ini adalah salah satu karakteristik dasar DOM.  Yang membawa kita ke ... </p><br><h2 id="6-putanica-mezhdu-svoystvami-i-atributami">  6. Kebingungan antara properti dan atribut </h2><br><p>  Properti dan atribut pada dasarnya adalah hal yang sama, bukan? </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> button = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'button'</span></span>); button.hasAttribute(<span class="hljs-string"><span class="hljs-string">'disabled'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// false button.disabled = true; button.hasAttribute('disabled'); // true button.removeAttribute('disabled'); button.disabled; // false</span></span></code> </pre> <br><p>  Yah, hampir: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> button.disabled; <span class="hljs-comment"><span class="hljs-comment">// 'boolean' typeof button.getAttribute('disabled'); // 'object' button.disabled = true; typeof button.getAttribute('disabled'); // 'string'</span></span></code> </pre> <br><p>  Ada nama yang tidak cocok: </p><br><pre> <code class="javascript hljs">div = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'div'</span></span>); div.setAttribute(<span class="hljs-string"><span class="hljs-string">'class'</span></span>, <span class="hljs-string"><span class="hljs-string">'one'</span></span>); div.className; <span class="hljs-comment"><span class="hljs-comment">// 'one' div.className = 'two'; div.getAttribute('class'); // 'two'</span></span></code> </pre> <br><p>  ... dan ada yang tidak disetujui sama sekali: </p><br><pre> <code class="javascript hljs">input = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'input'</span></span>); input.getAttribute(<span class="hljs-string"><span class="hljs-string">'value'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// null input.value = 'one'; input.getAttribute('value'); // null input.setAttribute('value', 'two'); input.value; // 'one'</span></span></code> </pre> <br><p>  Tapi kita bisa berurusan dengan kebiasaan ini, interaksi format string (HTML) dan DOM.  Ada sejumlah fitur yang terbatas, mereka didokumentasikan, sehingga kita setidaknya bisa belajar tentang mereka, jika kita punya waktu dan kesabaran. </p><br><p>  Komponen web membuat perbedaan.  Tidak ada lagi jaminan tentang hubungan antara properti dan atribut, dan Anda, sebagai pengembang komponen web, diminta untuk mendukung keduanya.  Yang membawa kita ke hal seperti itu: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyThing</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HTMLElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> get observedAttributes() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'bar'</span></span>, <span class="hljs-string"><span class="hljs-string">'baz'</span></span>]; } get foo() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAttribute(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>); } set foo(value) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setAttribute(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, value); } get bar() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAttribute(<span class="hljs-string"><span class="hljs-string">'bar'</span></span>); } set bar(value) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setAttribute(<span class="hljs-string"><span class="hljs-string">'bar'</span></span>, value); } get baz() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.hasAttribute(<span class="hljs-string"><span class="hljs-string">'baz'</span></span>); } set baz(value) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setAttribute(<span class="hljs-string"><span class="hljs-string">'baz'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.removeAttribute(<span class="hljs-string"><span class="hljs-string">'baz'</span></span>); } } attributeChangedCallback(name, oldValue, newValue) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (name === <span class="hljs-string"><span class="hljs-string">'foo'</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// ... } if (name === 'bar') { // ... } if (name === 'baz') { // ... } } }</span></span></code> </pre> <br><p>  Anda dapat melakukan yang sebaliknya - <code>attributeChangedCallback</code> getter dan setters callback atributChangedCallback.  Bagaimanapun, kenyamanan bekerja dengan itu hanya menyedihkan.  Pada saat yang sama, ada cara sederhana dan tidak ambigu dalam kerangka kerja untuk mentransfer data ke suatu komponen. </p><br><h2 id="7-protekayuschiy-dizayn">  7. Desain bocor </h2><br><p>  Item ini agak kabur, tetapi bagiku aneh bahwa <code>attributeChangedCallback</code> hanyalah metode kelas.  Anda benar-benar dapat melakukan hal berikut: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> element = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'my-thing'</span></span>); element.attributeChangedCallback(<span class="hljs-string"><span class="hljs-string">'w'</span></span>, <span class="hljs-string"><span class="hljs-string">'t'</span></span>, <span class="hljs-string"><span class="hljs-string">'f'</span></span>);</code> </pre> <br><p>  Atribut belum berubah, tetapi kode berperilaku seolah-olah itu terjadi.  Tentu saja, selalu ada banyak cara untuk melakukan kerusakan pada JavaScript, tetapi ketika saya melihat detail implementasi mencuat dengan cara ini, menurut saya ada sesuatu yang salah dengan desainnya. </p><br><h2 id="8-plohoy-dom">  8. DOM buruk </h2><br><p>  Ok, kita sudah menetapkan bahwa DOM itu buruk.  Tetapi masih sulit untuk melebih-lebihkan betapa tidak nyamannya membuat aplikasi interaktif. </p><br><p>  Beberapa bulan yang lalu, saya menulis sebuah artikel, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Tulis kode lebih sedikit,"</a> untuk menggambarkan bagaimana Svelte dapat menulis komponen lebih efisien daripada kerangka kerja seperti React dan Vue.  Tidak ada perbandingan dengan DOM vanilla, tetapi harus.  Singkatnya, kami memiliki komponen sederhana <code>&lt;Adder a={1} b={2}/&gt;</code> : </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> a; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> b; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"number"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{a}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"number"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{b}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>{a} + {b} = {a + b}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Itu saja.  Sekarang tuliskan hal yang sama melalui komponen web: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Adder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HTMLElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.attachShadow({ <span class="hljs-attr"><span class="hljs-attr">mode</span></span>: <span class="hljs-string"><span class="hljs-string">'open'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.shadowRoot.innerHTML = <span class="hljs-string"><span class="hljs-string">` &lt;input type="number"&gt; &lt;input type="number"&gt; &lt;p&gt;&lt;/p&gt; `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.inputs = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.shadowRoot.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'input'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.p = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.shadowRoot.querySelector(<span class="hljs-string"><span class="hljs-string">'p'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.update(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.inputs[<span class="hljs-number"><span class="hljs-number">0</span></span>].addEventListener(<span class="hljs-string"><span class="hljs-string">'input'</span></span>, e =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a = +e.target.value; }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.inputs[<span class="hljs-number"><span class="hljs-number">1</span></span>].addEventListener(<span class="hljs-string"><span class="hljs-string">'input'</span></span>, e =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b = +e.target.value; }); } <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> get observedAttributes() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>]; } get a() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> +<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAttribute(<span class="hljs-string"><span class="hljs-string">'a'</span></span>); } set a(value) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setAttribute(<span class="hljs-string"><span class="hljs-string">'a'</span></span>, value); } get b() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> +<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAttribute(<span class="hljs-string"><span class="hljs-string">'b'</span></span>); } set b(value) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setAttribute(<span class="hljs-string"><span class="hljs-string">'b'</span></span>, value); } attributeChangedCallback() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.update(); } update() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.inputs[<span class="hljs-number"><span class="hljs-number">0</span></span>].value = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.inputs[<span class="hljs-number"><span class="hljs-number">1</span></span>].value = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.p.textContent = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.a}</span></span></span><span class="hljs-string"> + </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.b}</span></span></span><span class="hljs-string"> = </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.a + </span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.b}</span></span></span><span class="hljs-string">`</span></span>; } } customElements.define(<span class="hljs-string"><span class="hljs-string">'my-adder'</span></span>, Adder);</code> </pre> <br><p>  Ya </p><br><p>  Perhatikan bahwa jika kita secara bersamaan mengubah <code>a</code> dan <code>b</code> , maka kita akan memiliki dua pembaruan terpisah.  Sebagian besar kerangka kerja tidak menderita dari masalah ini. </p><br><h2 id="9-globalnye-imena">  9. Nama global </h2><br><p>  Saya tidak akan fokus pada hal ini untuk waktu yang sangat lama, cukuplah untuk mengatakan bahwa bahaya bekerja dalam ruang nama tunggal telah lama diketahui dan dibongkar. </p><br><h2 id="10-vse-eti-problemy-uzhe-resheny">  10. Semua masalah ini sudah diselesaikan. </h2><br><p>  Kesedihan terbesar adalah bahwa kita sudah memiliki model komponen yang baik.  Kami masih belajar, tetapi tugas dasar - menyinkronkan tampilan dengan keadaan tertentu melalui memperbarui DOM dalam gaya berorientasi komponen - telah diselesaikan beberapa tahun yang lalu.  Dan kami masih menambahkan fitur ke platform web hanya untuk mengejar apa yang sudah kami miliki di perpustakaan dan kerangka kerja. </p><br><p>  Karena sumber daya kita tidak terbatas, waktu yang dihabiskan untuk satu tugas berarti kurangnya perhatian pada tugas lain.  Energi signifikan dihabiskan untuk komponen web, meskipun ada ketidakpedulian umum dari para pengembang.  Apa yang bisa kita capai dengan menghabiskan energi ini untuk sesuatu yang lain? </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id457010/">https://habr.com/ru/post/id457010/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id456986/index.html">Durov tidak ada hubungannya dengan TON</a></li>
<li><a href="../id456988/index.html">Kisah seorang pengacara IT. Bisnis outsourcing kehidupan. Bagian 3</a></li>
<li><a href="../id456998/index.html">Kisah Lengkap Harold dan Bob Herbert Tree in Fallout</a></li>
<li><a href="../id457004/index.html">Metode Sederhana untuk Mengoptimalkan Program Go</a></li>
<li><a href="../id457008/index.html">Antiquities: Three Palm Stories</a></li>
<li><a href="../id457016/index.html">Metodologi BEM sebagai contoh stiker dalam OpenCart</a></li>
<li><a href="../id457018/index.html">Lebih dari kompleksitas</a></li>
<li><a href="../id457020/index.html">Pilihan sumber akademik dan sains-pop</a></li>
<li><a href="../id457022/index.html">Relokasi TI. Dari Bangkok ke Sydney</a></li>
<li><a href="../id457026/index.html">Bagaimana saya menjadi pembicara di Percona Live (dan beberapa detail menarik dari perbatasan Amerika)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>