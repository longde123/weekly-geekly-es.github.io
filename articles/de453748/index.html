<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¥üèº üíú üõ∞Ô∏è Prototyping eines Handyspiels, wo man anf√§ngt und wie man es macht. Teil 3 (endg√ºltig) üëäüèª üèÇüèø üß†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im ersten Teil habe ich dar√ºber gesprochen, warum Prototyping und allgemein wo ich anfangen soll 
 - Teil 1 

 Im zweiten Teil ein wenig durch die Sch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prototyping eines Handyspiels, wo man anf√§ngt und wie man es macht. Teil 3 (endg√ºltig)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453748/">  Im ersten Teil habe ich dar√ºber gesprochen, warum Prototyping und allgemein wo ich anfangen soll <br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> <br><br>  Im zweiten Teil ein wenig durch die Schl√ºsselklassen laufen <br>  und Architektur - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> <br><br>  Und der dritte Teil - es wird tats√§chlich eine kleine Diskussion geben, wir werden analysieren, wie Modifikatoren funktionieren, und auf das Spielfeld fallen (das ist nicht schwierig, aber es gibt Nuancen).  Und ein wenig √ºber Architektur werde ich ohne Langeweile versuchen. <br><br>  Screenshots √ºber die Rakete sind im Allgemeinen langweilig, daher schlage ich vor, ein Video eines anderen Prototyps anzusehen, der in zwei Wochen zusammen mit den Grafiken zusammengestellt wurde und aufgrund der Tatsache, dass es im Genre der Plattformer keinen Weg gibt, aufgegeben wurde.  Dies ist √ºbrigens eine der Schl√ºsselideen rund um den Prototyp - zusammenzubauen, um zu sehen, ob dies Schei√üe ist, ist es notwendig?  Und werfen Sie ehrlich in den Korb, wenn Ihnen die Antworten nicht √ºberzeugend erscheinen.  Aber!  Dies gilt nicht f√ºr kreative Projekte - manchmal geschieht Kreativit√§t aus Gr√ºnden der Kreativit√§t. <br><br>  Also vidosik, du musst dir die nach Level geordneten Texte ansehen und nicht das Gameplay): <br><iframe width="560" height="315" src="https://www.youtube.com/embed/lY8e1igkzI0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="habracut"></a><br><br><h3>  Kleiner Exkurs </h3><br>  Im letzten Artikel habe ich den √úberpr√ºfungscode erhalten und bin daf√ºr dankbar. Kritik hilft bei der Entwicklung, auch wenn Sie nicht damit einverstanden sind. <br><br>  <b>Aber ich m√∂chte f√ºr die Architektur und Syntax in Bezug auf Prototypen bereitstellen:</b> <br><ol><li>  Egal wie cool Sie sind, Sie k√∂nnen nicht einfach vorhersehen, dass es nicht verpf√§ndet wird, und es kann viel verpf√§ndet werden, was nicht ben√∂tigt wird.  Daher ist in jedem Fall ein Refactoring oder eine Erweiterung erforderlich.  Wenn Sie die spezifischen Vorteile des Codes / Ansatzes nicht beschreiben k√∂nnen, ist es besser, nicht viel Zeit mit diesem Code zu verbringen. </li><li>  Warum ist OOP / Event Model / Composition meiner Meinung nach f√ºr Prototypen einfacher als ECS, Unity COOP, DI FrameWorks, Reactive Frameworks usw.  Weniger kritzeln, alle Verbindungen sind im Code sichtbar, da die Hauptaufgabe des Prototyps darin besteht, die Hauptfrage zu beantworten - ist es m√∂glich, sie zu spielen, und eine Reihe von sekund√§ren - was f√ºr das Gameplay, dies oder das, besser ist.  Daher m√ºssen Sie die erforderlichen Funktionen so schnell wie m√∂glich implementieren.  Warum ein Framework f√ºr ein kleines Projekt einf√ºhren, den gesamten M√ºll vorschreiben, um drei Spieleinheiten zu implementieren?  Jede davon ist eine Klasse von 50-100 Zeilen.  Die Architektur sollte als Teil der Prototyp-Aufgaben und als Teil einer m√∂glichen Erweiterung auf Alpha betrachtet werden. Die zweite wird jedoch mehr im Kopf als im Code ben√∂tigt, damit Sie beim Hinzuf√ºgen von Code nicht brennen </li></ol><br><br><h3>  √úber Modifikatoren: </h3><br>  <b>Und schlie√ülich zum Modifikator selbst:</b> <br>  Hier und fr√ºher nenne ich die Modifikatoren die Kraftfelder, die die Rakete ber√ºhrt und die ihren Weg beeinflussen. Im Prototyp gibt es zwei Arten von ihnen - Beschleunigung und Ablenkung. <br><br><div class="spoiler">  <b class="spoiler_title">Modifikatorklasse</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PushSideModificator</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] TypeOfForce typeOfForce = TypeOfForce.Push; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> force; [SerializeField] DropPanelConfig dropPanelConfig; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> boundsOfCollider; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerEnter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Collider other)</span></span></span><span class="hljs-function"> </span></span>{ boundsOfCollider = other.bounds.extents.x; GlobalEventAggregator.EventAggregator.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SpaceForces { TypeOfForce = typeOfForce, Force = force, ColliderBound = boundsOfCollider, CenterOfObject = transform.position, IsAdded = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerExit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Collider other)</span></span></span><span class="hljs-function"> </span></span>{ GlobalEventAggregator.EventAggregator.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SpaceForces { CenterOfObject = transform.position, IsAdded = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }); } }</code> </pre> <br></div></div><br>  Dies ist eine sehr einfache Klasse, deren Aufgabe es ist, zwei Ereignisse zu bestehen: <br><ol><li>  Der Treffer des Spielers auf dem Feld (was eigentlich ein Ausl√∂ser f√ºr die physische Einheit ist) und der gesamte erforderliche Kontext - die Art des Modifikators, seine Position, die Gr√∂√üe des Kolliders, die St√§rke des Modifikators usw.  In diesem und dem Fall des Aggregators kann er Interessenten jeden Kontext vermitteln.  In diesem Sinne ist dies ein Raketenmodell, das den Modifikator verarbeitet. </li><li>  Das zweite Ereignis - der Spieler hat das Feld verlassen.  Um seinen Einfluss auf die Flugbahn des Spielers zu entfernen </li></ol><br>  <b>Wof√ºr ist das Ereignismodell?</b>  <b>Wer k√∂nnte diese Veranstaltung noch brauchen?</b> <b><br></b>  <b>Im aktuellen Projekt ist dies nicht implementiert, aber:</b> <br><ol><li>  Sprachausgabe (erhielt ein Ereignis, dass jemand das Feld betrat - wir spielen den entsprechenden Ton, jemand ging aus - √§hnlich) </li><li>  UI-Markierungen, sagen wir f√ºr jedes Feld, wir werden etwas Treibstoff aus der Rakete entfernen, Tooltips sollten erscheinen, dass wir das Feld betreten und Treibstoff verloren haben, na ja, oder Punkte f√ºr jeden Treffer auf dem Feld verdienen, es gibt viele Optionen, die die Benutzeroberfl√§che f√ºr den Spieler interessiert das Feld. </li><li>  Besonderes  Effekte - Wenn sie in einem anderen Feldtyp getroffen werden, k√∂nnen verschiedene Effekte √ºberlagert werden, sowohl auf die Rakete selbst als auch auf den Raum um die Rakete / das Feld.  Besonderes  Effekte k√∂nnen von einer separaten Entit√§t / Steuerung verarbeitet werden, die auch Ereignisse von Modifikatoren abonniert. </li><li>  Nun, dies ist ein Minimum an Code, Service Locators, Aggregation, Abh√§ngigkeiten usw. werden nicht ben√∂tigt. </li></ol><br><br><h3>  Gameplay Basis </h3><br>  In diesem Prototyp besteht die Essenz des Spiels darin, Modifikatoren auf dem Spielfeld zu platzieren, die Flugbahn der Rakete anzupassen, um Hindernisse herumzufliegen und den Zielpunkt / Planeten zu treffen.  Zu diesem Zweck haben wir rechts ein Feld, in dem sich die Modifikatorsymbole befinden. <br><br><img src="https://habrastorage.org/webt/lj/eb/ga/ljebgar88u47kcyxyhz_6kzxyke.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">Panel-Klasse</b> <div class="spoiler_text"><pre> <code class="java hljs"> [RequireComponent (typeof(CanvasGroup))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DragAndDropModifiersPanel</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DropModifiersIcon iconPrfb; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DropPanelConfig config; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CanvasGroup canvasGroup; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ GlobalEventAggregator.EventAggregator.AddListener&lt;ButtonStartPressed&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, RocketStarted); canvasGroup = GetComponent&lt;CanvasGroup&gt;(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RocketStarted</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ButtonStartPressed obj)</span></span></span><span class="hljs-function"> </span></span>{ canvasGroup.DOFade(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); (canvasGroup.transform as RectTransform).DOAnchorPosX(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x&lt; <span class="hljs-number"><span class="hljs-number">3</span></span>; x++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mod = config.GetModifierByType(TypeOfForce.Push); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> go = Instantiate(iconPrfb, transform); go.Init(mod); } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>; x++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mod = config.GetModifierByType(TypeOfForce.AddSpeed); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> go = Instantiate(iconPrfb, transform); go.Init(mod); } } }</code> </pre> <br></div></div><br><br>  Fragen antizipieren: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x&lt; <span class="hljs-number"><span class="hljs-number">3</span></span>; x++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>; x++)</code> </pre><br><br>  3 und 1 - die sogenannten magischen Zahlen, die einfach aus dem Kopf genommen und in den Code eingef√ºgt werden, sollten vermieden werden, aber warum sind sie hier?  Das Prinzip, nach dem das rechte Panel gebildet wird, ist noch nicht festgelegt, und es wurde einfach beschlossen, den Prototyp mit nur so vielen Modifikatoren am Prototyp zu testen. <br><br>  Wie mache ich es richtig?  - Geben Sie es zumindest in serialisierbare Felder ein und stellen Sie die erforderlichen Mengen durch den Inspektor ein.  Warum bin ich zu faul und solltest du es tun?  Hier m√ºssen wir vom Gesamtbild ausgehen, eine separate Entit√§t und Konfiguration werden weiterhin f√ºr die Bildung der erforderlichen Anzahl von Modifikatoren verantwortlich sein, daher war ich hier zu faul und habe in Zukunft viel Refactoring erwartet.  Aber besser nicht faul!  ) <br><br>  √úber Konfigurationen - Als die ersten Vorlesungen √ºber ScriptableObject erschienen, gefiel mir die Idee, Daten als Asset zu speichern.  Sie erhalten die erforderlichen Daten dort, wo Sie sie ben√∂tigen, ohne an eine Einzelkopie-Instanz gebunden zu sein.  Dann gab es einen Vortrag √ºber einen Ansatz zur Spieleentwicklung mit ScriptableObject, in dem Instanzeinstellungen gespeichert wurden.  Tats√§chlich sind die Voreinstellungen / Einstellungen von etwas, das im Asset gespeichert ist, die Konfiguration. <br><br>  <b>Betrachten Sie die Konfigurationsklasse:</b> <br><div class="spoiler">  <b class="spoiler_title">Konfigurationsklasse</b> <div class="spoiler_text"><pre> <code class="java hljs"> [CreateAssetMenu(fileName = <span class="hljs-string"><span class="hljs-string">"DropModifiersPanel"</span></span>, menuName = <span class="hljs-string"><span class="hljs-string">"Configs/DropModifier"</span></span>, order = <span class="hljs-number"><span class="hljs-number">2</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DropPanelConfig</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScriptableObject</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ModifierBluePrintSimple[] modifierBluePrintSimples; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DropModifier </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetModifierByType</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TypeOfForce typeOfModifiers)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> modifierBluePrintSimples.FirstOrDefault(x =&gt; x.GetValue.TypeOfModifier == typeOfModifiers).GetValue; } } [System.Serializable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DropModifier</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> TypeOfForce TypeOfModifier; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Sprite Icon; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject Modifier; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Material Material; }</code> </pre> <br></div></div><br><br>  Was ist das Wesentliche seiner Arbeit?  Es speichert eine angepasste Modifikator-Datenklasse. <br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DropModifier</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> TypeOfForce TypeOfModifier; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Sprite Icon; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject Modifier; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Material Material; }</code> </pre> <br><br>  Der Modifikatortyp wird zur Identifizierung ben√∂tigt, ein Symbol f√ºr die Benutzeroberfl√§che, der Spielmodus des Spielobjekts des Modifikators und das Material hier, damit es w√§hrend der Konfiguration ge√§ndert werden kann.  Modifikatoren befinden sich m√∂glicherweise bereits auf dem Spielfeld, und sagen wir, der Spieledesigner √§ndert seinen Typ. Jetzt gibt er die Beschleunigung an, der Modifikator wird aus der Konfiguration entfernt und aktualisiert alle Felder, einschlie√ülich des Materials, entsprechend dieser Art von Modifikator. <br><br>  Die Arbeit mit der Konfiguration ist sehr einfach - wir wenden uns an die Konfiguration f√ºr Daten f√ºr einen bestimmten Typ. Wir erhalten diese Daten, intime visuelle und m√∂gliche Einstellungen aus diesen Daten. <br><br>  <b>Wo ist der Gewinn?</b> <br>  Der Vorteil ist eine sehr gro√üe Flexibilit√§t, wenn Sie beispielsweise das Material und das Symbol im Beschleunigungsmodifikator √§ndern oder sagen m√∂chten, dass Sie das gesamte Spielprojekt ersetzen k√∂nnen.  Anstatt neu zu schreiben und an die Felder des Inspektors weiterzuleiten, √§ndern wir diese Daten einfach in einer Konfiguration und voila - alles wird mit uns auf allen Szenen / Ebenen / Panels aktualisiert. <br><br>  <b>Und wenn es mehrere Daten f√ºr den Beschleuniger-Modifikator in der Konfiguration gibt?</b> <br>  Im Prototyp k√∂nnen Sie ihn einfach manuell verfolgen, damit keine Daten dupliziert werden. In einem Arbeitsentwurf ben√∂tigen Sie Tests und Datenvalidierung. <br><br><h3>  Vom Symbol zum Spielfeld </h3><br><div class="spoiler">  <b class="spoiler_title">Modifikator-Symbolklasse</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DropModifiersIcon</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IDragHandler</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IBeginDragHandler</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IEndDragHandler</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Image icon; [Header(<span class="hljs-string"><span class="hljs-string">"       "</span></span>)] [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RectTransform canvas; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CanvasGroup canvasGroup; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DropModifier currentModifier; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector3 startPoint; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector3 outV3; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameObject currentDraggedObj; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ canvasGroup = GetComponent&lt;CanvasGroup&gt;(); startPoint = transform.position; canvas = GetComponentInParent&lt;Canvas&gt;().transform as RectTransform; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DropModifier dropModifier)</span></span></span><span class="hljs-function"> </span></span>{ icon.sprite = dropModifier.Icon; currentModifier = dropModifier; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnBeginDrag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PointerEventData eventData)</span></span></span><span class="hljs-function"> </span></span>{ BlockRaycast(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); currentDraggedObj = Instantiate(currentModifier.Modifier, WorldSpaceCoord(), Quaternion.identity); GlobalEventAggregator.EventAggregator.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ImOnDragEvent { IsDragging = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BlockRaycast</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool state)</span></span></span><span class="hljs-function"> </span></span>{ canvasGroup.blocksRaycasts = state; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDrag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PointerEventData eventData)</span></span></span><span class="hljs-function"> </span></span>{ Vector2 outV2; RectTransformUtility.ScreenPointToLocalPointInRectangle(canvas, Input.mousePosition, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, out outV2); transform.position = canvas.transform.TransformPoint(outV2); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentDraggedObj != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) currentDraggedObj.transform.position = WorldSpaceCoord(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Vector3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WorldSpaceCoord</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ RectTransformUtility.ScreenPointToWorldPointInRectangle(canvas, Input.mousePosition, Camera.main, out outV3); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> outV3; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEndDrag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PointerEventData eventData)</span></span></span><span class="hljs-function"> </span></span>{ GlobalEventAggregator.EventAggregator.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ImOnDragEvent { IsDragging = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (eventData.pointerCurrentRaycast.gameObject != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; eventData.pointerCurrentRaycast.gameObject.layer == <span class="hljs-number"><span class="hljs-number">5</span></span>) { Destroy(currentDraggedObj); transform.SetAsLastSibling(); canvasGroup.blocksRaycasts = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Destroy(gameObject); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> struct ImOnDragEvent { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool IsDragging; }</code> </pre><br></div></div><br><br>  <b>Was ist hier los?</b> <br>  Wir nehmen das Symbol aus dem Panel und erstellen darunter ein Spielblog des Modifikators.  Und tats√§chlich setzen wir die Koordinate von der Klick- / Schubkarre zum Spielbereich, also verschieben wir den Modifikator im Spielbereich zusammen mit dem Symbol in der Benutzeroberfl√§che. Ich rate Ihnen, √ºber RectTransformUtility zu lesen. Dies ist eine gro√üartige Hilfsklasse, in der es viele Funktionen f√ºr die Benutzeroberfl√§che gibt. <br><br>  Nehmen wir an, wir √§ndern unsere Meinung √ºber das Einf√ºgen eines Modifikators und geben ihn an das Panel zur√ºck. <br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (eventData.pointerCurrentRaycast.gameObject != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; eventData.pointerCurrentRaycast.gameObject.layer == <span class="hljs-number"><span class="hljs-number">5</span></span>)</code> </pre> <br>  Mit diesem Code k√∂nnen wir verstehen, was sich unter dem Klick befindet.  Warum wird hier auch die Ebenenpr√ºfung angezeigt?  Und warum ist wieder die magische Nummer 5?  Wie wir uns aus dem zweiten Teil erinnern, verwenden wir das Rakester-Diagramm nicht nur f√ºr die Benutzeroberfl√§che, sondern auch f√ºr die Schaltfl√§che in der Szene. Wenn wir die Funktion hinzuf√ºgen, bereits platzierte Modifikatoren auf dem Feld zu l√∂schen oder zu verschieben, fallen sie daher auch unter das Rake-Diagramm Es gibt auch eine zus√§tzliche Pr√ºfung f√ºr die Zugeh√∂rigkeit zur UI-Ebene.  Dies ist die Standardebene, und ihre Reihenfolge √§ndert sich nicht. Daher ist die Zahl 5 hier im Allgemeinen keine magische Zahl. <br><br>  Infolgedessen stellt sich heraus, dass das Symbol gel√∂scht wird, wenn wir das Symbol √ºber dem Bedienfeld loslassen und zum Bedienfeld zur√ºckkehren. Wenn der Modifikator √ºber dem Spielfeld auf dem Spielfeld verbleibt, wird das Symbol gel√∂scht. <br><br>  1 Arbeitstag wurde f√ºr den Prototypcode aufgewendet.  Plus ein bisschen Aufhebens um Datei und Grafik.  Im Allgemeinen wurde das Gameplay trotz der vielen Fragen zu Kunst- und Spieldesign-Chips als geeignet befunden.  Mission abgeschlossen. <br><br><h3>  Schlussfolgerungen und Empfehlungen </h3><br><ol><li>  Legen Sie minimale Architektur, aber dennoch Architektur </li><li>  Befolgen Sie die Grundprinzipien, aber ohne Fanatismus. </li><li>  W√§hlen Sie einfache L√∂sungen </li><li>  Zwischen Vielseitigkeit und Geschwindigkeit - es ist besser, eine Geschwindigkeit f√ºr den Prototyp zu w√§hlen </li><li>  Bei gro√üen / mittleren Projekten ist es besser, das Projekt von Grund auf neu zu schreiben.  Zum Beispiel ist der Trend in Unity jetzt DOTS, Sie m√ºssen viele Komponenten und Systeme schreiben, es ist schlecht f√ºr kurze Auflagen, Sie verlieren Zeit, f√ºr lange Auflagen - wenn alle Komponenten und Systeme registriert sind, beginnt der Zeitgewinn.  Ich finde es nicht cool, viel Zeit mit dem Trend der Architektur zu verbringen und herauszufinden, was der Prototyp ist </li></ol><br>  Erfolgreiche Prototypen an alle. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de453748/">https://habr.com/ru/post/de453748/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de453730/index.html">Moderne Zahnmedizin: gleichzeitige Zahnimplantation und Streckung des Kieferknochens durch die Augen des technischen Direktors</a></li>
<li><a href="../de453732/index.html">Ich komme aus Moreinis. Schr√§ge Ansichten oder Respekt?</a></li>
<li><a href="../de453734/index.html">Einf√ºhrung in Helm 3</a></li>
<li><a href="../de453742/index.html">Memcached Plugin: NoSQL in MySQL</a></li>
<li><a href="../de453744/index.html">Wir untersuchen das Prinzip der Pseudoklasse: not () am Beispiel der Aufgabe ‚ÄûHervorheben der aktiven Zeile einer Tabelle in reinem CSS‚Äú.</a></li>
<li><a href="../de453750/index.html">√úber den j√ºngsten Cyberangriff in Baltimore</a></li>
<li><a href="../de453756/index.html">Probleme der aktuellen Methodik zur Ermittlung aktueller Bedrohungen durch die FSTEC</a></li>
<li><a href="../de453760/index.html">Zirkeltrainingslager f√ºr Panzer und Prozessoren</a></li>
<li><a href="../de453764/index.html">Freiwillige Amnesie: Manipulationen des Hippocampus, um schmerzhafte Erinnerungen zu beseitigen</a></li>
<li><a href="../de453766/index.html">Software Defined Radio - wie funktioniert es? Teil 6</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>