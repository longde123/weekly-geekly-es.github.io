<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìñ üö£üèæ ü•ó Dos scripts √† nossa pr√≥pria plataforma: como automatizamos o desenvolvimento no Cyan Institute üóûÔ∏è üëàüèΩ üå≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Na RIT 2019, nosso colega Alexander Korotkov fez um relat√≥rio sobre a automa√ß√£o do desenvolvimento no CIAN: para simplificar a vida e o trabalho, usam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dos scripts √† nossa pr√≥pria plataforma: como automatizamos o desenvolvimento no Cyan Institute</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cian/blog/486056/"><img src="https://habrastorage.org/webt/di/vp/_w/divp_woyk4ubltspau3m_ogodkg.png"><br><br>  Na RIT 2019, nosso colega Alexander Korotkov fez um <a href="https://www.youtube.com/watch%3Fv%3D0wvUyjexoIg">relat√≥rio</a> sobre a automa√ß√£o do desenvolvimento no CIAN: para simplificar a vida e o trabalho, usamos nossa pr√≥pria plataforma Integro.  Ele rastreia o ciclo de vida das tarefas, remove opera√ß√µes de rotina dos desenvolvedores e reduz significativamente o n√∫mero de bugs na produ√ß√£o.  Nesta postagem, suplementaremos o relat√≥rio de Alexander e mostraremos como passamos de scripts simples para combinar produtos de c√≥digo aberto por meio de nossa pr√≥pria plataforma e o que uma equipe de automa√ß√£o separada faz. <br><a name="habracut"></a><br><h2>  N√≠vel zero </h2><br>  <i><b>"N√£o existe um n√≠vel zero, eu n√£o sei disso"</b></i> <i><br></i>  <i>Mestre Shifu do filme "Kung Fu Panda"</i> <br><br>  A automa√ß√£o no CIAN come√ßou 14 anos ap√≥s a funda√ß√£o da empresa.  Depois, havia 35 pessoas na equipe de desenvolvimento.  Dif√≠cil de acreditar, certo?  Obviamente, a automa√ß√£o existia de alguma forma, mas uma √°rea separada de integra√ß√£o cont√≠nua e entrega de c√≥digo come√ßou a tomar forma em 2015. <br><br>  Naquela √©poca, t√≠nhamos um enorme mon√≥lito de Python, C # e PHP implantado em servidores Linux / Windows.  Para a implanta√ß√£o desse monstro, tivemos um conjunto de scripts que executamos manualmente.  Havia tamb√©m uma montagem monol√≠tica, causando sofrimento e sofrimento devido a conflitos ao mesclar ramifica√ß√µes, editar defeitos e reconstruir "com um conjunto diferente de tarefas na compila√ß√£o".  O processo simplificado ficou assim: <br><br><img src="https://habrastorage.org/webt/bz/tn/ll/bztnllnatyoaiauwlw0xvvaatde.jpeg"><br><br>  Isso n√£o nos convinha, e quer√≠amos criar um processo repetitivo, automatizado e controlado de cria√ß√£o e implanta√ß√£o.  Para fazer isso, precis√°vamos de um sistema de CI / CD e escolhemos entre a vers√£o gratuita do Teamcity e o Jenkins gr√°tis, pois trabalhamos com eles e ambos nos convieram para um conjunto de fun√ß√µes.  Escolhemos o Teamcity como um produto mais recente.  Ent√£o, n√£o usamos a arquitetura de microsservi√ßo e n√£o contamos com um grande n√∫mero de tarefas e projetos. <br><br><h2>  Chegamos √† ideia do nosso pr√≥prio sistema </h2><br>  A implementa√ß√£o do Teamcity removeu apenas uma parte do trabalho manual: ainda havia a cria√ß√£o de solicita√ß√£o de recebimento, promo√ß√£o de tarefas por status em Jira, sele√ß√£o de tarefas para libera√ß√£o.  O Teamcity n√£o conseguiu mais lidar com isso.  Foi necess√°rio escolher o caminho da automa√ß√£o adicional.  Consideramos op√ß√µes para trabalhar com scripts no Teamcity ou mudar para sistemas de automa√ß√£o de terceiros.  Mas, no final, decidimos que precis√°vamos da flexibilidade m√°xima que apenas nossa pr√≥pria solu√ß√£o oferece.  Ent√£o apareceu a primeira vers√£o do sistema de automa√ß√£o interno chamado Integro. <br><br>  O Teamcity est√° envolvido na automa√ß√£o no n√≠vel de inicializa√ß√£o dos processos de montagem e implanta√ß√£o, e a Integro se concentrou na automa√ß√£o de n√≠vel superior dos processos de desenvolvimento.  Era necess√°rio combinar trabalho com tarefas no Jira com o processamento do c√≥digo fonte associado no Bitbucket.  Nesse est√°gio, o Integro come√ßou a ter seus pr√≥prios fluxos de trabalho para trabalhar com tarefas de v√°rios tipos. <br><br>  Devido ao aumento da automa√ß√£o nos processos de neg√≥cios, o n√∫mero de projetos e execu√ß√µes no Teamcity aumentou.  Ent√£o surgiu um novo problema: faltava uma inst√¢ncia gratuita do Teamcity (3 agentes e 100 projetos), adicionamos outra inst√¢ncia (mais 3 agentes e 100 projetos) e depois outra.  Como resultado, obtivemos um sistema de v√°rios clusters, que era dif√≠cil de gerenciar: <br><br><img src="https://habrastorage.org/webt/hb/gv/rp/hbgvrp2ms-wfixyw-v0wycqjphy.png"><br><br>  Quando surgiu a pergunta sobre a 4 inst√¢ncia, percebemos que n√£o podemos mais viver assim, j√° que os custos totais do suporte a 4 inst√¢ncias n√£o se encaixam mais em nenhuma estrutura.  Surgiu a quest√£o de comprar um Teamcity pago ou optar por um Jenkins gr√°tis.  Realizamos c√°lculos sobre inst√¢ncias e planos de automa√ß√£o e decidimos que viver√≠amos com Jenkins.  Depois de algumas semanas, mudamos para Jenkins e nos livramos da parte da dor de cabe√ßa associada ao suporte a v√°rias inst√¢ncias do Teamcity.  Portanto, pudemos nos concentrar no desenvolvimento do Integro e na conclus√£o do Jenkins por n√≥s mesmos. <br><br>  Com o crescimento da automa√ß√£o b√°sica (na forma de cria√ß√£o autom√°tica de solicita√ß√µes de recebimento, coleta e publica√ß√£o da cobertura do c√≥digo e outras verifica√ß√µes), houve um forte desejo de recusar o m√°ximo poss√≠vel de lan√ßamentos manuais e de dar esse trabalho aos rob√¥s.  Al√©m disso, a empresa come√ßou a migrar para microsservi√ßos, que exigiam lan√ßamentos frequentes e separadamente um do outro.  Ent√£o, gradualmente chegamos √†s libera√ß√µes autom√°ticas de nossos microsservi√ßos (por enquanto, estamos lan√ßando o mon√≥lito manualmente devido √† complexidade do processo).  Mas, como geralmente acontece, uma nova complexidade surgiu. <br><br><h2>  Automatizar testes </h2><br><img src="https://habrastorage.org/webt/kk/rc/v8/kkrcv8melsazessicjkebzle2s4.jpeg"><br><br>  Devido √† automa√ß√£o de lan√ßamentos, os processos de desenvolvimento se aceleraram, em parte devido a pular algumas etapas dos testes.  E isso levou a uma perda tempor√°ria de qualidade.  Parece brega, mas, juntamente com a acelera√ß√£o dos lan√ßamentos, foi necess√°rio alterar a metodologia de desenvolvimento do produto.  Era necess√°rio pensar em testar a automa√ß√£o, inculcar responsabilidade pessoal (aqui estamos falando sobre "aceitar uma ideia na cabe√ßa" em vez de multas monet√°rias) do desenvolvedor pelo c√≥digo liberado e bugs nele, bem como na decis√£o de emitir / n√£o emitir a tarefa por meio de uma implanta√ß√£o autom√°tica. <br><br>  Eliminando problemas de qualidade, tomamos duas decis√µes importantes: come√ßamos a realizar testes em can√°rias e implementamos o monitoramento autom√°tico do hist√≥rico de erros com resposta autom√°tica ao excesso.  A primeira solu√ß√£o tornou poss√≠vel encontrar erros √≥bvios antes do c√≥digo entrar totalmente em produ√ß√£o; a segunda reduziu o tempo de resposta a problemas na produ√ß√£o.  √â claro que ocorrem erros, mas gastamos a maior parte do tempo e energia n√£o em corre√ß√£o, mas em minimiza√ß√£o. <br><br><h2>  Equipe de automa√ß√£o </h2><br>  Agora, temos uma equipe de 130 desenvolvedores e continuamos <a href="https://habr.com/ru/article/469965/">a crescer</a> .  A equipe de integra√ß√£o cont√≠nua e entrega de c√≥digo (doravante denominada equipe de Implanta√ß√£o e Integra√ß√£o ou DI) √© composta por 7 pessoas e trabalha em duas dire√ß√µes: desenvolvimento da plataforma de automa√ß√£o Integro e DevOps. <br><br>  O DevOps √© respons√°vel pelo ambiente Dev / Beta do site CIAN, o ambiente Integro, ajuda os desenvolvedores a resolver problemas e desenvolve novas abordagens para os ambientes de dimensionamento.  A linha de neg√≥cios da Integro lida com o pr√≥prio Integro e com servi√ßos relacionados, por exemplo, plug-ins para Jenkins, Jira, Confluence e tamb√©m desenvolve utilit√°rios e aplicativos auxiliares para equipes de desenvolvimento. <br><br>  A equipe de DI trabalha em conjunto com a equipe de Plataforma, que desenvolve arquiteturas, bibliotecas e abordagens de desenvolvimento dentro da empresa.  Ao mesmo tempo, qualquer desenvolvedor dentro do CIAN pode contribuir para a automa√ß√£o, por exemplo, fazer microautoma√ß√£o para as necessidades da equipe ou compartilhar uma boa id√©ia de como tornar a automa√ß√£o ainda melhor. <br><br><h2>  Automa√ß√£o de torta de sopro em ciano </h2><br><img src="https://habrastorage.org/webt/v8/xt/rz/v8xtrzfhj8bp-kzio9qduuixgf4.png"><br><br>  Todos os sistemas envolvidos na automa√ß√£o podem ser divididos em v√°rias camadas: <br><br><ol><li>  Sistemas externos (Jira, Bitbucket, etc.).  As equipes de desenvolvimento trabalham com eles. <br></li><li>  Plataforma Integro.  Na maioria das vezes, os desenvolvedores n√£o trabalham diretamente com ele, mas √© ela quem ap√≥ia o trabalho de toda a automa√ß√£o. <br></li><li>  Servi√ßos de entrega, orquestra√ß√£o e descoberta (por exemplo, Jeknins, Consul, Nomad).  Com a ajuda deles, implantamos o c√≥digo nos servidores e fornecemos os servi√ßos entre si. <br></li><li>  Camada f√≠sica (servidor, SO, software relacionado).  Nesse n√≠vel, nosso c√≥digo funciona.  Pode ser um servidor f√≠sico ou virtual (LXC, KVM, Docker). <br></li></ol><br>  Com base nesse conceito, dividimos as √°reas de responsabilidade dentro da equipe de DI.  Os dois primeiros n√≠veis est√£o na √°rea de responsabilidade da √°rea de desenvolvimento da Integro e os dois √∫ltimos j√° est√£o na √°rea de responsabilidade do DevOps.  Essa separa√ß√£o permite que voc√™ se concentre nas tarefas e n√£o interfere na intera√ß√£o, porque estamos pr√≥ximos um do outro e trocamos constantemente conhecimento e experi√™ncia. <br><br><h2>  Integro </h2><br>  Vamos nos concentrar no Integro e come√ßar com a pilha de tecnologia: <br><br><ul><li>  CentOs 7 <br></li><li>  Docker + N√¥made + Consul + Cofre <br></li><li>  Java 11 (o antigo mon√≥lito Integro permanecer√° no Java 8) <br></li><li>  Spring Boot 2.X + Configura√ß√£o da nuvem da primavera <br></li><li>  PostgreSql 11 <br></li><li>  Rabbitmq <br></li><li>  Apache inflamar <br></li><li>  Camunda (incorporado) <br></li><li>  Grafana + Grafite + Prometeu + Jaeger + ELK <br></li><li>  Interface do usu√°rio da Web: React (CSR) + MobX <br></li><li>  SSO: Keycloak <br></li></ul><br>  Aderimos ao princ√≠pio do desenvolvimento de microsservi√ßos, embora tenhamos legado na forma de um mon√≥lito da vers√£o anterior do Integro.  Cada microsservi√ßo est√° girando em seu cont√™iner de docker, os servi√ßos se comunicam entre si por meio de solicita√ß√µes HTTP e mensagens RabbitMQ.  Os microsservi√ßos se encontram pelo Consul e executam uma solicita√ß√£o, passando a autoriza√ß√£o pelo SSO (Keycloak, OAuth 2 / OpenID Connect). <br><br><img src="https://habrastorage.org/webt/ib/mn/ne/ibmnnec5ijrxrai9mpx_tdiipri.png"><br><br>  Como um exemplo real, considere a intera√ß√£o com Jenkins, que consiste nas seguintes etapas: <br><br><ol><li>  O microsservi√ßo de gerenciamento de fluxo de trabalho (a seguir denominado microsservi√ßo de fluxo) deseja executar o assembly no Jenkins.  Para fazer isso, ele encontra atrav√©s da integra√ß√£o do microsservi√ßo IP IP: PORT ao Jenkins (a seguir, microsservi√ßo Jenkins) e envia a ele uma solicita√ß√£o ass√≠ncrona para iniciar a montagem no Jenkins. <br></li><li>  O microsservi√ßo Jenkins, ap√≥s o recebimento da solicita√ß√£o, gera e devolve o ID do trabalho, pelo qual ser√° poss√≠vel identificar o resultado do trabalho.  Junto com isso, ele inicia a constru√ß√£o no Jenkins atrav√©s de uma chamada para a API REST. <br></li><li>  O Jenkins cria e, quando conclu√≠do, envia um webhook com os resultados ao microsservi√ßo Jenkins. <br></li><li>  Um microsservi√ßo Jenkins, ap√≥s receber um webhook, gera uma mensagem sobre a conclus√£o do processamento da solicita√ß√£o e anexa os resultados da execu√ß√£o a ele.  A mensagem gerada √© enviada para a fila RabbitMQ. <br></li><li>  Por meio do RabbitMQ, a mensagem publicada chega ao microsservi√ßo Flow, que aprende sobre o resultado do processamento de sua tarefa, correspondendo ao ID da tarefa da solicita√ß√£o e da mensagem recebida. <br></li></ol><br>  Agora, temos cerca de 30 microsservi√ßos que podem ser divididos em v√°rios grupos: <br><br><ol><li>  Gerenciamento de configura√ß√£o. <br></li><li>  Informar e interagir com os usu√°rios (mensageiros instant√¢neos, correio). <br></li><li>  Trabalhe com c√≥digo fonte. <br></li><li>  Integra√ß√£o com ferramentas de implanta√ß√£o (jenkins, n√¥made, consul, etc.). <br></li><li>  Monitoramento (lan√ßamentos, bugs, etc.). <br></li><li>  Utilit√°rios da Web (interface do usu√°rio para gerenciar ambientes de teste, coletar estat√≠sticas etc.). <br></li><li>  Integra√ß√£o com rastreadores de tarefas e sistemas similares. <br></li><li>  Gerenciar fluxo de trabalho para diferentes tarefas. <br></li></ol><br><h2>  Tarefas de fluxo de trabalho </h2><br>  O Integro automatiza atividades relacionadas ao ciclo de vida da tarefa.  Simplificado pelo ciclo de vida da tarefa, entendemos o fluxo de trabalho de uma tarefa no Jira.  Nos nossos processos de desenvolvimento, existem v√°rias varia√ß√µes do fluxo de trabalho, dependendo do projeto, tipo de tarefa e op√ß√µes selecionadas em uma tarefa espec√≠fica. <br><br>  Considere o fluxo de trabalho que usamos com mais frequ√™ncia: <br><br><img src="https://habrastorage.org/webt/yu/va/8x/yuva8xxb7edyldadgxorqwixdtm.jpeg"><br><br>  No diagrama, a engrenagem indica que a transi√ß√£o √© chamada automaticamente pela Integro, enquanto a figura humana significa que a transi√ß√£o √© chamada manualmente pela pessoa.  Vejamos algumas maneiras pelas quais uma tarefa pode passar por esse fluxo de trabalho. <br><br>  Teste totalmente manual para DEV + BETA sem testes em can√°rios (geralmente liberamos um mon√≥lito): <br><br><img src="https://habrastorage.org/webt/nu/ab/be/nuabbeencu3tzfmryb2wpcya-cy.png"><br><br>  Pode haver outras combina√ß√µes de transi√ß√£o.  √Äs vezes, o caminho que a tarefa seguir√° pode ser selecionado por meio de op√ß√µes no Jira. <br><br><h2>  Movimento de tarefas </h2><br>  Considere as etapas b√°sicas que s√£o executadas ao mover a tarefa no fluxo de trabalho "Testando para testes can√°rios DEV +": <br><br>  1. O desenvolvedor ou o PM cria a tarefa. <br><br>  2. O desenvolvedor assume a tarefa de trabalhar.  Ap√≥s a conclus√£o, o transfere para o status IN REVIEW. <br><br>  3. O Jira envia o Webhook ao microsservi√ßo Jira (√© respons√°vel pela integra√ß√£o com o Jira). <br><br>  4. O microsservi√ßo Jira envia uma solicita√ß√£o ao servi√ßo Flow (√© respons√°vel pelos fluxos de trabalho internos nos quais o trabalho √© executado) para iniciar o fluxo de trabalho. <br><br>  5. Dentro do servi√ßo Flow: <br><br><ul><li>  Os revisores da tarefa s√£o atribu√≠dos (Usu√°rios-microservice que sabem tudo sobre usu√°rios + Jira-microservice). </li><li>  Por meio do microsservi√ßo de origem (ele conhece reposit√≥rios e ramifica√ß√µes, mas n√£o funciona com o pr√≥prio c√≥digo), procura reposit√≥rios nos quais h√° uma ramifica√ß√£o de nossa tarefa (para simplificar a pesquisa, o nome da ramifica√ß√£o corresponde ao n√∫mero da tarefa em Jira).  Na maioria das vezes, a tarefa tem apenas uma ramifica√ß√£o em um reposit√≥rio, isso simplifica o gerenciamento da fila na implanta√ß√£o e reduz a conectividade entre os reposit√≥rios. </li><li>  Para cada ramifica√ß√£o encontrada, a seguinte sequ√™ncia de a√ß√µes √© executada: <br><br>  i) Abastecendo a ramifica√ß√£o principal (microsservi√ßo Git para trabalhar com c√≥digo). <br>  ii) A ramifica√ß√£o est√° impedida de altera√ß√µes pelo desenvolvedor (microsservi√ßo Bitbucket). <br>  iii) Uma solicita√ß√£o pull √© criada nesta ramifica√ß√£o (microsservi√ßo Bitbucket). <br>  iv) Uma mensagem sobre a nova solicita√ß√£o de recebimento √© enviada aos bate-papos do desenvolvedor (notifique o microsservi√ßo por trabalhar com notifica√ß√µes). <br>  v) Compilar, testar e implantar tarefas no DEV (microsservi√ßo Jenkins para trabalhar com o Jenkins). <br>  vi) Se todos os par√°grafos anteriores tiverem sido conclu√≠dos com sucesso, a Integro colocar√° sua aprova√ß√£o no pedido de solicita√ß√£o (microsservi√ßo Bitbucket). </li><li>  A Integro espera uma aprova√ß√£o por solicita√ß√£o dos revisores designados. </li><li>  Assim que todas as aprova√ß√µes necess√°rias forem recebidas (incluindo a aprova√ß√£o dos testes automatizados), o Integro transfere a tarefa para o status Test on Dev (Jira microservice). </li></ul><br>  6. Os testadores testam a tarefa.  Se n√£o houver problemas, eles transferir√£o a tarefa para o status Ready For Build. <br><br>  7. A Integro ‚Äúv√™‚Äù que a tarefa est√° pronta para lan√ßamento e inicia sua implanta√ß√£o no modo can√°rio (microsservi√ßo Jenkins).  A disponibilidade para libera√ß√£o √© determinada por um conjunto de regras.  Por exemplo, uma tarefa no status correto, n√£o h√° bloqueios em outras tarefas, agora n√£o h√° c√°lculos ativos desse microsservi√ßo, etc. <br><br>  8. A tarefa √© transferida para o status de Can√°rias (Jira-microservice). <br><br>  9. Jenkins inicia no Nomad uma implanta√ß√£o de tarefas no modo can√°rio (geralmente de 1 a 3 inst√¢ncias) e notifica o servi√ßo de monitoramento de libera√ß√£o (microsservi√ßo DeployWatch) do c√°lculo. <br><br>  10. O DeployWatch-microservice coleta erros de segundo plano e responde a ele, se necess√°rio.  Se o erro de segundo plano for excedido (a taxa de segundo plano √© calculada automaticamente), os desenvolvedores s√£o notificados por meio do microsservi√ßo Notify.  Se ap√≥s 5 minutos o desenvolvedor n√£o responder (clicar em Reverter ou Permanecer), a revers√£o autom√°tica das inst√¢ncias do canary ser√° iniciada.  Se o fundo n√£o for excedido, o desenvolvedor dever√° iniciar manualmente a implanta√ß√£o da tarefa na Produ√ß√£o (pressionando o bot√£o na interface do usu√°rio).  Se dentro de 60 minutos o desenvolvedor n√£o iniciar uma implanta√ß√£o na Produ√ß√£o, as inst√¢ncias can√°rias tamb√©m ser√£o implementadas por motivos de seguran√ßa. <br><br>  11. Ap√≥s iniciar a implanta√ß√£o no Production: <br><br><ul><li>  A tarefa √© transferida para o status Produ√ß√£o (microsservi√ßo Jira). </li><li>  O microsservi√ßo Jenkins inicia o processo de implanta√ß√£o e notifica a implanta√ß√£o do microsservi√ßo DeployWatch. </li><li>  O DeployWatch-microservice verifica se todos os cont√™ineres foram atualizados na Produ√ß√£o (houve casos em que nem todos foram atualizados). </li><li>  Uma notifica√ß√£o sobre os resultados da implanta√ß√£o no Production √© enviada pelo microsservi√ßo Notify. </li></ul><br>  12. Os desenvolvedores ter√£o 30 minutos para iniciar a revers√£o da tarefa com Produ√ß√£o em caso de detec√ß√£o de comportamento incorreto do microsservi√ßo.  Ap√≥s esse per√≠odo, a tarefa ser√° automaticamente despejada no mestre (Git-microservice). <br><br>  13. Ap√≥s uma mesclagem bem-sucedida no mestre, o status da tarefa ser√° alterado para Fechado (Jira microservice). <br><br>  O esquema n√£o pretende ser totalmente detalhado (na realidade, existem ainda mais etapas), mas permite avaliar o grau de integra√ß√£o nos processos.  N√£o consideramos esse esquema ideal e melhoramos os processos de rastreamento autom√°tico de lan√ßamentos e implanta√ß√µes. <br><br><h2>  O que vem a seguir </h2><br>  Temos grandes planos para o desenvolvimento da automa√ß√£o, por exemplo, a rejei√ß√£o de opera√ß√µes manuais durante lan√ßamentos de mon√≥litos, melhoria do monitoramento durante a implanta√ß√£o autom√°tica, melhoria da intera√ß√£o com os desenvolvedores. <br><br>  Mas, por enquanto, vamos parar neste lugar.  Cobrimos superficialmente muitos t√≥picos na revis√£o de automa√ß√£o, alguns nem sequer os tocaram; portanto, teremos o maior prazer em responder a perguntas.  Estamos aguardando sugest√µes sobre o que abordar em detalhes, escreva nos coment√°rios. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt486056/">https://habr.com/ru/post/pt486056/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt486042/index.html">Mensageiros e legisla√ß√£o de telecomunica√ß√µes</a></li>
<li><a href="../pt486046/index.html">O kernel do Linux inclui a VPN WireGuard</a></li>
<li><a href="../pt486048/index.html">O que √© "isso" e o que ele come</a></li>
<li><a href="../pt486050/index.html">Biblioteca Webix JavaScript atrav√©s dos olhos de um iniciante. Parte 3. M√≥dulos, diagramas, tabelas em √°rvore</a></li>
<li><a href="../pt486052/index.html">Scorched Earth √© a m√£e de todos os jogos. Entrevista com o criador</a></li>
<li><a href="../pt486060/index.html">Encontre ordem no caos da TI: organizando seu pr√≥prio desenvolvimento</a></li>
<li><a href="../pt486062/index.html">Renderiza√ß√£o simples de c√≥pia zero de v√≠deo acelerado por hardware em QML</a></li>
<li><a href="../pt486064/index.html">Crie uma apresenta√ß√£o de slides animada em CSS puro.</a></li>
<li><a href="../pt486066/index.html">Na √°rea de acesso. Encontre a dist√¢ncia de um ponto a uma √°rea e reduza as solicita√ß√µes de geocodifica√ß√£o reversa</a></li>
<li><a href="../pt486070/index.html">A ACL muda em detalhes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>