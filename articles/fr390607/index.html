<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💱 🤲🏿 👨🏽‍🔧 Récit de la façon dont le MT8060 c Arduino s'est fait des amis 🥜 👰🏼 🏴‍☠️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article se concentre sur le moniteur de qualité de l'air MT8060 avec un capteur de dioxyde de carbone et la capacité de lire ses lectures sur un P...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Récit de la façon dont le MT8060 c Arduino s'est fait des amis</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/390607/"><img src="https://habrastorage.org/files/073/36f/893/07336f89382c4fb1b44b640d220079ee.png" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cet article se concentre sur le moniteur de qualité de l'air MT8060 avec un capteur de dioxyde de carbone et la capacité de lire ses lectures sur un PC et Arduino. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De cet article, vous apprendrez:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment j'ai démonté cet appareil.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment connecter un capteur de CO2 à un Arduino sans le démonter.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment lire les données et comment les convertir sous la forme dans laquelle elles sont affichées à l'écran (et même dans une plus grande plage de valeurs). </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Croquis et acheminement des câbles inclus.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attention au trafic!</font></font></b><br>
<a name="habracut"></a> <br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'essence du problème</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois que je suis allé à Geektimes, j'ai trouvé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plusieurs </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">articles</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur le capteur de dioxyde de carbone </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MT8060</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de DAJET. </font><font style="vertical-align: inherit;">Dans les commentaires, il y a eu une discussion active sur la possibilité de connecter cet appareil à un ordinateur pour recevoir des données. </font><font style="vertical-align: inherit;">Dans les commentaires, je n'ai pas pu partager mon expérience sur ce sujet (il n'y avait pas encore de mode R&amp;C), j'ai donc décidé d'écrire un article, en ouvrant en même temps la question plus en détail et avec des «images».</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, cette modification de l'appareil n'a pas la capacité de transférer des données via USB. </font><font style="vertical-align: inherit;">Mais il y a un port de diagnostic sur lequel vous pouvez lire toutes les données, ainsi que calibrer l'appareil (probablement). </font><font style="vertical-align: inherit;">La section suivante décrit comment accéder à ce port et comment s'y connecter. </font><font style="vertical-align: inherit;">Il n'est pas nécessaire de répéter cela - à la fin de la section suivante, toutes les données sont montrées pour se connecter au port sans démonter l'appareil.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Démontage et exploration de la connectivité</font></font></h4><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les photos ont été prises sur l’appareil photo du téléphone, parfois de très mauvaise qualité, je n’ai pas fait de gros efforts car Je ne pensais pas que j'écrirais un article, mais je l'ai fait au cas où.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Donc, à l'arrière, il y a trois bouchons en caoutchouc, derrière lesquels se trouvent trois boulons. Les bouchons peuvent être retirés avec une pince à épiler ou ramassés avec une aiguille. </font></font><br>
<br>
<img src="https://habrastorage.org/files/4ec/6e3/635/4ec6e36352964f3eaa39bd161bc5875e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus des boulons, les deux moitiés du corps tiennent également sur les verrous, qui sont situés autour de tout le périmètre du corps. Pour séparer les moitiés, il suffit de tenir un cure-dent autour du périmètre du boîtier, un espace d'un demi-millimètre suffit pour que les loquets s'ouvrent. Ensuite, ouvrez doucement le boîtier et voyez que du microcircuit à la coque arrière, il y a un tuyau en caoutchouc, et vous pouvez endommager les supports et microcircuits auxquels il est attaché lors de mouvements brusques.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a70/018/42f/a7001842fbd1466e9b5fba57e26b8065.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez maintenant voir l'arrière du PCB, des fils de diagnostic et du connecteur RJ45 de l'appareil. </font><font style="vertical-align: inherit;">Après avoir parcouru la notation tracée sur le circuit, je suis allé à l'article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CO2MeterHacking</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui a examiné un appareil similaire. </font><font style="vertical-align: inherit;">En me connectant, comme décrit dans l'article, et en exécutant l'esquisse qui y est proposée, j'ai reçu les données précieuses, qui coïncidaient partiellement avec les données affichées à l'écran - l'objectif principal a été atteint. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, le brochage de ces broches sur le connecteur RJ45 était perceptible. </font><font style="vertical-align: inherit;">Après avoir regardé le câblage et téléphoné, juste au cas où les contacts, j'ai dessiné un schéma de connexion. </font></font><br>
<br>
<img src="https://habrastorage.org/files/714/4a8/2d7/7144a82d74574cc89b25b48829c2dbb7.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La désignation et le but des contacts sont les suivants:</font></font><br>
<br>
<ul>
<li><font color="#0dcc0b"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Horloge) - un signal d'horloge.</font></font></li>
<li><font color="#ff00ff"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (données) - signal de données.</font></font></li>
<li><font color="#7b0126"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (masse) - masse.</font></font></li>
<li><font color="#0153a7"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (V</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DD</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - alimentation + 3V.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le brochage convenait à un connecteur à quatre cœurs standard et à des fins de test, un tel connecteur compatible arduino a été assemblé. </font></font><br>
<br>
<img src="https://habrastorage.org/files/88c/950/6fc/88c9506fca2441d3ba876c4e1909d0a4.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'appareil peut être assemblé, mais j'ai précédemment retiré le dongle, bloquant l'accès extérieur au port RJ45. </font><font style="vertical-align: inherit;">Il est fixé sur quatre loquets, que je plie doucement de l'intérieur, mais je pense que vous pouvez l'obtenir en le soulevant simplement de l'extérieur, sans avoir à démonter l'appareil. </font><font style="vertical-align: inherit;">La photo ci-dessous montre comment elle tient et à quoi ressemblent les loquets.</font></font><br>
<br>
<img src="https://habrastorage.org/files/b8d/02a/dde/b8d02adde284460e91ec775c517390d6.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lecture et décodage des paramètres</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des recherches supplémentaires ont été effectuées sur le dispositif assemblé, avec un port "ouvert", et ils étaient purement logiciels. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous connectons le fil orange (broche </font></font><font color="#ff00ff"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) à la broche D3 de l'arduino, le blanc-vert (broche </font></font><font color="#0dcc0b"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) à la broche D2 de la carte compatible arduino. </font></font><br>
<br>
<img src="https://habrastorage.org/files/78f/3f3/b10/78f3f3b106594960a0b552330c7bb35d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les données sont transmises à l'aide du protocole SPI. Pour la lecture et le décodage des données, une méthode et une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simple esquisse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ont été écrites </font><font style="vertical-align: inherit;">qui transmettent l'humidité, la température et la concentration de dioxyde de carbone au port série. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après le démarrage de l'esquisse, des données identiques aux lectures sur l'écran de l'appareil commencent à circuler vers le moniteur du port série une fois par seconde environ. </font></font><br>
<br>
<img src="https://habrastorage.org/files/112/0cc/b4d/1120ccb4d13b4a678f513c7f0300b81e.jpg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien que le niveau d'humidité sur l'appareil s'affiche comme </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, lors de la lecture des lectures via le port, elles sont assez visibles pour elles-mêmes en tant que valeurs inférieures à 20. On ne sait pas pourquoi cela a été fait, probablement afin de ne pas faire un autre "feu de circulation" en termes d'humidité, mais de sortir </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si l'humidité est déjà extrêmement basse. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est tout, en fait: les</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> données arrivent toutes les secondes, vous pouvez tracer en haute résolution ou écrire toute autre logique. Par exemple, j'ai fait une notification via Telegram sur les indicateurs allant au-delà de la norme, ce qui élimine la nécessité de surveiller constamment les indicateurs. J'ai également réglé Mi Band sur les notifications appropriées - il est pratique si les lectures dépassent la limite la nuit et que vous devez éteindre l'humidificateur ou ventiler. Vous pouvez aller plus loin et intégrer ces indicateurs au </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">système de ventilation automatique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou à une prise intelligente dans laquelle le même humidificateur est connecté - d'autres restrictions ne sont que pour l'imagination.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réflexions à voix haute sur les données sans fil</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un article sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revspace</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> suggère d'utiliser le transfert de données sans fil, mais vous pouvez également trouver un exemple d'esquisse pour envoyer des données à l'aide de l'émetteur NRF24L01 +. </font><font style="vertical-align: inherit;">De plus, à l'intérieur du boîtier, il y a suffisamment d'espace libre, comme il me semble, ce qui est suffisant pour un petit contrôleur et un module sans fil. </font><font style="vertical-align: inherit;">De plus, il y a une alimentation 3V à l'intérieur (contacts </font></font><font color="#7b0126"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><font color="#0153a7"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), ce qui élimine le besoin d'utiliser des alimentations tierces, eh bien, 5V du port USB peut être utilisé si 3V ne suffit pas. </font><font style="vertical-align: inherit;">Si je décide de mettre en œuvre une sorte de méthode de transfert de données sans fil, j'écrirai un autre article à ce sujet. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est tout pour l'instant, merci d'avoir regardé!</font></font></b><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Références et sources</font></font></h4><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Piratage du compteur de CO2</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation du capteur ZG01</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">     </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  </a></li>
</ul><br>
<u>          ,    !</u></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr390607/">https://habr.com/ru/post/fr390607/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr390593/index.html">ESP8266 et Arduino, connexion, brochage</a></li>
<li><a href="../fr390597/index.html">Compote de fruits de café cuit. Rencontrez Cascara - le meilleur ami du cycliste</a></li>
<li><a href="../fr390599/index.html">Первые советские АВМ</a></li>
<li><a href="../fr390601/index.html">On clique correctement sur le relais: commutation de charges puissantes</a></li>
<li><a href="../fr390605/index.html">Le patient a subi avec succès une intervention chirurgicale au cerveau, plongeant dans le monde de la RV</a></li>
<li><a href="../fr390609/index.html">Développement d'une alimentation de secours basse consommation à sortie sinusoïdale. Partie 3. Travail sur les bugs</a></li>
<li><a href="../fr390611/index.html">Le plugin Torrents Time, qui vous permet de regarder des films directement sur Thepiratebay et d'autres trackers, n'est pas sécurisé</a></li>
<li><a href="../fr390615/index.html">Marché mondial du commerce électronique: croissance garantie</a></li>
<li><a href="../fr390617/index.html">Caterpillar a présenté un smartphone avec un imageur thermique</a></li>
<li><a href="../fr390619/index.html">Pourquoi l'impression 3D? L'architecture</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>