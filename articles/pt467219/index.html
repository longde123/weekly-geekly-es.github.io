<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëî üçã ‚åõÔ∏è Nuvem Smart Home. Parte 1: Controlador e sensores üëéüèΩ üò£ üì†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, gra√ßas ao r√°pido desenvolvimento de microeletr√¥nica, canais de comunica√ß√£o, tecnologias da Internet e Intelig√™ncia Artificial, o t√≥pico de casas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nuvem Smart Home. Parte 1: Controlador e sensores</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467219/"><img src="https://habrastorage.org/webt/q6/ni/9k/q6ni9k05gsedjwzqbsyfr_zc7sc.png"><br><br>  Hoje, gra√ßas ao r√°pido desenvolvimento de microeletr√¥nica, canais de comunica√ß√£o, tecnologias da Internet e Intelig√™ncia Artificial, o t√≥pico de casas inteligentes est√° se tornando cada vez mais relevante.  A habita√ß√£o humana sofreu mudan√ßas significativas desde a Idade da Pedra e na era da Revolu√ß√£o Industrial 4.0 e a Internet das Coisas se tornou conveniente, funcional e segura.  Est√£o chegando ao mercado solu√ß√µes que transformam um apartamento ou uma casa de campo em sofisticados sistemas de informa√ß√£o, gerenciados de qualquer lugar do mundo usando um smartphone.  Al√©m disso, o conhecimento de linguagens de programa√ß√£o n√£o √© mais necess√°rio para a intera√ß√£o homem-m√°quina - gra√ßas aos algoritmos de reconhecimento e s√≠ntese de fala, uma pessoa fala sua l√≠ngua nativa com uma casa inteligente. <br><br>  Alguns sistemas dom√©sticos inteligentes atualmente no mercado s√£o um desenvolvimento l√≥gico de sistemas de vigil√¢ncia por v√≠deo baseados na nuvem, cujos desenvolvedores perceberam a necessidade de uma solu√ß√£o abrangente, n√£o apenas para o monitoramento, mas tamb√©m para o gerenciamento de objetos remotos. <br><br>  Oferecemos a voc√™ uma s√©rie de tr√™s artigos, que informar√£o sobre todos os principais componentes do sistema de casa inteligente em nuvem, desenvolvido pessoalmente pelo autor e colocado em opera√ß√£o.  O primeiro artigo √© dedicado ao equipamento cliente terminal instalado dentro de uma casa inteligente, o segundo √† arquitetura de um sistema de armazenamento em nuvem e processamento de dados e, finalmente, o terceiro a um aplicativo cliente para gerenciar o sistema em dispositivos m√≥veis e estacion√°rios. <br><a name="habracut"></a><br><h1>  Equipamento Dom√©stico Inteligente </h1><br>  Primeiro, vamos falar sobre como fazer uma casa inteligente fora de um apartamento, chal√© ou chal√© comuns.  Para isso, geralmente √© necess√°rio colocar o seguinte equipamento em casa: <br><br><ol><li>  sensores que medem v√°rios par√¢metros ambientais; </li><li>  atuadores atuando em objetos externos; </li><li>  um controlador que executa c√°lculos de acordo com as medi√ß√µes do sensor e a l√≥gica incorporada e emite comandos para os atuadores. </li></ol><br>  A figura a seguir mostra o diagrama de uma casa inteligente, na qual existem sensores para vazamento de √°gua (1) no banheiro, temperatura (2) e ilumina√ß√£o (3) no quarto, uma tomada inteligente (4) na cozinha e uma c√¢mera de vigil√¢ncia por v√≠deo (5) no corredor. <br><br><img src="https://habrastorage.org/webt/nq/en/f-/nqenf-epwiuqhsimy3ft2wbyvpo.png"><br><br>  Atualmente, os sensores sem fio que operam sob os protocolos RF433, Z-Wave, ZigBee, Bluetooth e WiFi s√£o amplamente utilizados.  Suas principais vantagens s√£o a facilidade de instala√ß√£o e uso, al√©m de baixo custo e confiabilidade, porque  Os fabricantes procuram trazer seus dispositivos para o mercado de massa e disponibiliz√°-los para o usu√°rio m√©dio. <br><br>  Normalmente, sensores e atuadores s√£o conectados por meio de uma interface sem fio ao controlador dom√©stico inteligente (6) - um microcomputador especializado que integra todos esses dispositivos em uma √∫nica rede e os controla. <br><br>  No entanto, algumas solu√ß√µes podem combinar um sensor, um atuador e um controlador ao mesmo tempo.  Por exemplo, um soquete inteligente pode ser programado para ligar ou desligar uma programa√ß√£o e uma c√¢mera de vigil√¢ncia por v√≠deo baseada na nuvem pode gravar v√≠deo com base em um sinal de um detector de movimento.  Nos casos mais simples, voc√™ pode ficar sem um controlador separado, mas para criar um sistema flex√≠vel com muitos cen√°rios, √© necess√°rio. <br><br>  Para conectar o controlador dom√©stico inteligente √† rede global, pode ser usado um roteador de Internet convencional (7), que h√° muito tempo √© um eletrodom√©stico familiar em qualquer resid√™ncia.  H√° mais um argumento a favor do controlador de casa inteligente - se a conex√£o com a Internet for perdida, a casa inteligente continuar√° funcionando normalmente devido ao bloco l√≥gico armazenado dentro do controlador e n√£o no servi√ßo em nuvem. <br><br><h1>  Controlador de casa inteligente </h1><br>  O controlador para o sistema de casa inteligente em nuvem discutido neste artigo foi desenvolvido com base no microcomputador de placa √∫nica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Raspberry Pi 3 modelo B +</a> , lan√ßado em mar√ßo de 2018 e com recursos e desempenho suficientes para tarefas dom√©sticas inteligentes.  Ele consiste em um processador Cortex-A53 de quatro n√∫cleos com arquitetura ARMv8-A de 64 bits, com clock de 1,4 GHz, al√©m de 1 GB de RAM, Wi-Fi 802.11ac, Bluetooth 4.2 e um adaptador Ethernet de gigabit que funciona via barramento USB 2.0. <br><br><img src="https://habrastorage.org/webt/ki/di/-_/kidi-_hdoclhmawxeqcgxvjxnwm.jpeg"><br><br>  A montagem do controlador √© muito simples - o microcomputador (1) √© instalado em uma caixa de pl√°stico (2) e, em seguida, um cart√£o microSD de 8 GB com software (3) e um controlador de rede USB Z-Wave (4) s√£o inseridos nos slots correspondentes.  O controlador dom√©stico inteligente √© conectado √† rede el√©trica por meio de um adaptador de energia de 5V, 2.1A (5) e um cabo USB-micro-USB (6).  Cada controlador possui um n√∫mero de identifica√ß√£o exclusivo, que √© registrado no arquivo de configura√ß√£o na primeira inicializa√ß√£o e √© necess√°rio para a intera√ß√£o com os servi√ßos dom√©sticos inteligentes em nuvem. <br><br>  O software Smart Home Controller foi desenvolvido pelo autor deste artigo, com base no sistema operacional <b>Linux Raspbian Stretch</b> .  Consiste nos seguintes subsistemas principais: <br><br><ul><li>  processo do servidor para interagir com o equipamento dom√©stico inteligente e a nuvem; </li><li>  interface gr√°fica do usu√°rio para configurar o controlador e os par√¢metros operacionais; </li><li>  Bancos de dados para armazenar a configura√ß√£o do controlador. </li></ul><br><img src="https://habrastorage.org/webt/s6/lx/k-/s6lxk-xr0gnx8cy5wohn6u8pgqo.png"><br><br>  <b>O banco de dados do</b> controlador dom√©stico inteligente √© baseado no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SQLite</a> DBMS incorporado e √© um arquivo no cart√£o SD com o software do sistema.  Ele serve como um reposit√≥rio da configura√ß√£o do controlador - informa√ß√µes sobre o equipamento conectado e seu estado atual, um bloco de regras de produ√ß√£o l√≥gica, al√©m de informa√ß√µes que requerem indexa√ß√£o (por exemplo, nomes de arquivos do arquivo de v√≠deo local).  Quando o controlador √© reinicializado, essas informa√ß√µes s√£o salvas, o que torna poss√≠vel restaurar o controlador em caso de falta de energia. <br><br>  <b>A interface gr√°fica do</b> controlador dom√©stico inteligente √© desenvolvida no PHP 7 usando o microframework <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Slim</a> .  O servidor da Web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.lig">lighttpd</a> , que geralmente √© usado em dispositivos incorporados devido ao seu bom desempenho e aos baixos requisitos de recursos, √© respons√°vel pela opera√ß√£o do aplicativo. <br><br> <a href=""><img src="https://habrastorage.org/webt/p6/jh/w0/p6jhw0khe-pnljdtzf54qjrtgna.png"></a> <br>  <font color="grey">(clique na imagem para abrir em resolu√ß√£o maior)</font> <br><br>  A principal fun√ß√£o da interface gr√°fica √© conectar equipamentos dom√©sticos inteligentes (c√¢meras IP e sensores) ao controlador.  O aplicativo da Web l√™ a configura√ß√£o e o status atual do controlador e dos dispositivos conectados a ele no banco de dados SQLite.  Para alterar a configura√ß√£o do controlador, ele envia comandos de controle no formato JSON por meio da API RESTful do processo do servidor. <br><br><h1>  Processo do servidor </h1><br>  <b>O processo do servidor</b> √© um componente-chave que realiza todo o trabalho b√°sico de automa√ß√£o dos processos de informa√ß√£o que comp√µem a base de uma casa inteligente: recebimento e processamento de dados sensoriais, emiss√£o de a√ß√µes de controle, dependendo da l√≥gica subjacente.  O objetivo do processo do servidor √© interagir com o equipamento dom√©stico inteligente, seguir as regras da l√≥gica de produ√ß√£o, receber e processar comandos da interface gr√°fica e da nuvem.  O processo do servidor neste controlador dom√©stico inteligente √© implementado como um aplicativo multiencadeado desenvolvido em C ++ e lan√ßado como um servi√ßo <b>systemd</b> separado do <b>sistema</b> operacional <b>Linux Raspbian</b> . <br><br>  Os principais blocos do processo do servidor s√£o: <br><br><ol><li>  Gerenciador de Mensagens </li><li>  Servidor de c√¢mera IP; </li><li>  Servidor de dispositivo Z-Wave; </li><li>  Regras de l√≥gica de produ√ß√£o do servidor; </li><li>  Banco de dados de configura√ß√£o do controlador e o bloco de regras l√≥gicas; </li><li>  Servidor de API RESTful para interagir com a interface gr√°fica; </li><li>  Cliente MQTT para interagir com a nuvem. </li></ol><br>  Os blocos do processo do servidor s√£o implementados como fluxos separados, cujas informa√ß√µes s√£o transmitidas na forma de mensagens no formato JSON (ou estruturas de dados que representam esse formato na mem√≥ria do processo). <br><br><img src="https://habrastorage.org/webt/vl/vm/md/vlvmmduxt7nsh-bjkpshrywrcqa.png"><br><br>  O principal componente do processo do servidor √© o <b>gerenciador de mensagens</b> , que roteia mensagens no formato JSON para todos os blocos do processo do servidor.  Os tipos de campos de informa√ß√µes da mensagem JSON e os valores que eles podem aceitar est√£o listados na tabela: <br><br><div class="scrollable-table"><table><tbody><tr><th>  deviceType </th><th>  protocolo </th><th>  messageType </th><th>  deviceState </th><th>  comando </th></tr><tr><td>  camera </td><td>  onvif </td><td>  sensorData </td><td>  em </td><td>  streaming (On / Off) </td></tr><tr><td>  sensor </td><td>  zwave </td><td>  comando </td><td>  fora </td><td>  grava√ß√£o (On ‚Äã‚Äã/ Off) </td></tr><tr><td>  efetor </td><td>  mqtt </td><td>  businessLogicRule </td><td>  streaming (On / Off) </td><td>  evice (Adicionar / Remover) </td></tr><tr><td></td><td>  businesslogic </td><td>  configurationData </td><td>  grava√ß√£o (On ‚Äã‚Äã/ Off) </td><td></td></tr><tr><td></td><td>  bluetooth </td><td>  deviceState </td><td>  erro </td><td></td></tr><tr><td></td><td>  wifi </td><td></td><td></td><td></td></tr><tr><td></td><td>  rf </td><td></td><td></td><td></td></tr></tbody></table></div><br><br>  Por exemplo, uma mensagem de um detector de movimento da c√¢mera √© assim: <br><br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"vendor"</span></span>: <span class="hljs-string"><span class="hljs-string">"*****"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"3.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"timestampMs"</span></span>: <span class="hljs-string"><span class="hljs-string">"1566293475475"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"clientType"</span></span>: <span class="hljs-string"><span class="hljs-string">"gateway"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"deviceId"</span></span>: <span class="hljs-string"><span class="hljs-string">"1616453d-30cd-44b7-9bf0-************"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"deviceType"</span></span>: <span class="hljs-string"><span class="hljs-string">"camera"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"protocol"</span></span>: <span class="hljs-string"><span class="hljs-string">"onvif"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"messageType"</span></span>: <span class="hljs-string"><span class="hljs-string">"sensorData"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sensorType"</span></span>: <span class="hljs-string"><span class="hljs-string">"camera"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"label"</span></span>: <span class="hljs-string"><span class="hljs-string">"motionDetector"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sensorData"</span></span>: <span class="hljs-string"><span class="hljs-string">"on"</span></span> }</code> </pre> <br><h1>  L√≥gica de produ√ß√£o </h1><br>  Para receber ou enviar uma mensagem do expedidor, o bloco de processos do servidor assina mensagens de um determinado tipo.  A assinatura √© uma regra l√≥gica de produ√ß√£o do tipo <i>"If ... then ..."</i> , apresentada no formato JSON e um link para o manipulador de mensagens dentro do bloco de processo do servidor.  Por exemplo, para que o servidor da c√¢mera IP possa receber comandos da GUI e da nuvem, √© necess√°rio adicionar a seguinte regra: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"if"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"and"</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">"equal"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"deviceId"</span></span>: <span class="hljs-string"><span class="hljs-string">"1616453d-30cd-44b7-9bf0-************"</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"equal"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"messageType"</span></span>: <span class="hljs-string"><span class="hljs-string">"command"</span></span> } } ] }, <span class="hljs-attr"><span class="hljs-attr">"then"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"result"</span></span>: <span class="hljs-string"><span class="hljs-string">"true"</span></span> } }</code> </pre><br>  Se as condi√ß√µes especificadas no <b>antecedente</b> (lado esquerdo) da regra forem verdadeiras, a <b>regra</b> (lado direito) da regra ser√° executada e o manipulador obter√° acesso ao corpo da mensagem JSON.  O antecedente suporta operadores l√≥gicos que executam compara√ß√£o de pares de valores-chave JSON: <br><br><ol><li>  igual a "igual"; </li><li>  diferente de "not_equal"; </li><li>  menos "menos"; </li><li>  mais "maior"; </li><li>  menor ou igual a "less_or_equal"; </li><li>  maior que ou igual a maior_ou_equal. </li></ol><br>  Os resultados da compara√ß√£o podem ser vinculados usando os operadores de √°lgebra booleana: <br><br><ol><li>  E "e"; </li><li>  OR "ou"; </li><li>  N√ÉO "n√£o". </li></ol><br>  Assim, escrevendo operadores e operandos na nota√ß√£o polonesa, √© poss√≠vel formar condi√ß√µes bastante complexas com um grande n√∫mero de par√¢metros. <br><br>  Exatamente o mesmo mecanismo, baseado em mensagens JSON e regras de produ√ß√£o no formato JSON, √© usado no bloco do servidor l√≥gico de produ√ß√£o para representar conhecimento e fazer infer√™ncia l√≥gica usando dados sensoriais de sensores residenciais inteligentes. <br><br>  Usando um aplicativo m√≥vel, o usu√°rio cria scripts de acordo com os quais uma casa inteligente deve funcionar.  Por exemplo: <i>"Se o sensor para abrir a porta da frente tiver funcionado, acenda a luz no corredor"</i> .  O aplicativo l√™ os identificadores de sensores (sensor de abertura) e atuadores (soquete inteligente ou l√¢mpada inteligente) do banco de dados e gera uma regra l√≥gica no formato JSON, que √© enviada ao controlador dom√©stico inteligente.  Esse mecanismo ser√° discutido em mais detalhes no terceiro artigo de nossa s√©rie, onde falaremos sobre um aplicativo cliente para gerenciar uma casa inteligente. <br><br>  O mecanismo de l√≥gica de produ√ß√£o discutido acima √© implementado usando a biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RapidJSON</a> , um analisador SAX do formato JSON em C ++.  A leitura e a an√°lise consistentes de uma matriz de regras de produ√ß√£o facilitam a implementa√ß√£o da fun√ß√£o de correspond√™ncia de dados nos antecedentes: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CRuleEngine::Process(PProperties pFact) { m_pActions-&gt;clear(); rapidjson::Reader reader; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(TStringMap::value_type&amp; rRule : m_Rules) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> sRuleId = rRule.first; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> sRuleBody = rRule.second; <span class="hljs-function"><span class="hljs-function">CRuleHandler </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ruleHandler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pFact)</span></span></span></span>; rapidjson::<span class="hljs-function"><span class="hljs-function">StringStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ruleStream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sRuleBody.c_str())</span></span></span></span>; rapidjson::ParseResult parseResult = reader.Parse(ruleStream, ruleHandler); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!parseResult) { m_Logger.LogMessage( NLogger2::ePriorityLevelError, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>(<span class="hljs-string"><span class="hljs-string">"JSON parse error"</span></span>), <span class="hljs-string"><span class="hljs-string">"CRuleEngine::Process()"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>(<span class="hljs-string"><span class="hljs-string">"RuleId: "</span></span>) + sRuleId); } PProperties pAction = ruleHandler.GetAction(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(pAction) { pAction-&gt;Set(<span class="hljs-string"><span class="hljs-string">"ruleId"</span></span>, sRuleId); m_pActions-&gt;push_back(pAction); } } }</code> </pre><br>  Aqui o <b>pFact</b> √© uma estrutura que cont√©m pares de valores-chave de uma mensagem JSON, <b>m_Rules</b> √© uma matriz de sequ√™ncia de regras de produ√ß√£o.  A compara√ß√£o da mensagem recebida e da regra de produ√ß√£o √© executada na fun√ß√£o <b>reader.Parse (ruleStream, ruleHandler)</b> , em que <b>ruleHandler</b> √© um objeto que cont√©m a l√≥gica dos operadores booleanos e de compara√ß√£o.  <b>sRuleId</b> √© um identificador de regra exclusivo, gra√ßas ao qual √© poss√≠vel armazenar e editar regras dentro do banco de dados de um controlador dom√©stico inteligente.  <b>m_pActions</b> - uma matriz com os resultados da infer√™ncia l√≥gica: mensagens JSON contendo consistentes da base de regras e encaminhadas ao gerenciador de mensagens para que os fluxos de assinantes possam process√°-las. <br><br>  O desempenho do RapidJSON √© compar√°vel √† fun√ß√£o <b>strlen ()</b> e os requisitos m√≠nimos de recursos do sistema permitem que essa biblioteca seja usada em dispositivos incorporados.  O uso de mensagens e regras l√≥gicas no formato JSON permite implementar um sistema flex√≠vel de troca de informa√ß√µes entre todos os componentes do controlador dom√©stico inteligente. <br><br><h2>  Sensores e atuadores Z-Wave </h2><br>  A principal vantagem de uma casa inteligente √© que ela pode medir independentemente v√°rios par√¢metros ambientais e executar fun√ß√µes √∫teis, dependendo da situa√ß√£o.  Para isso, sensores e atuadores s√£o conectados ao controlador dom√©stico inteligente.  Na vers√£o atual, esses s√£o dispositivos sem fio operando de acordo com o protocolo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Z-Wave</a> a uma frequ√™ncia alocada de <b>869 MHz</b> para a R√∫ssia.  Por seu trabalho, eles s√£o combinados em uma rede mesh, na qual est√£o presentes repetidores de sinal para aumentar a √°rea de cobertura.  Os dispositivos tamb√©m possuem um modo especial de economia de energia - eles passam a maior parte do tempo no modo de suspens√£o e enviam informa√ß√µes apenas quando seu estado muda, o que pode prolongar significativamente a vida √∫til da bateria embutida. <br><br><img src="https://habrastorage.org/webt/d8/ur/dp/d8urdpbsw6yxxxxqov8uj-hphzs.jpeg"><br><br>  No mercado, agora voc√™ pode encontrar um n√∫mero bastante grande de diferentes dispositivos Z-Wave.  Como exemplo, considere alguns: <br><br><ol><li>  O soquete inteligente Zipato PAN16 pode medir os seguintes par√¢metros: consumo de energia (kW / h), pot√™ncia (W), tens√£o (V) e corrente (A) na rede el√©trica.  Ele tamb√©m possui um interruptor interno com o qual voc√™ pode controlar o aparelho el√©trico conectado; </li><li>  O sensor de vazamento Neo Coolcam detecta a presen√ßa de l√≠quido derramado fechando os contatos da sonda remota; </li><li>  O detector de fuma√ßa Zipato PH-PSG01 √© acionado quando part√≠culas de fuma√ßa entram na c√¢mara do analisador de g√°s; </li><li>  O sensor de movimento Neo Coolcam analisa a radia√ß√£o infravermelha do corpo humano.  Al√©m disso, h√° um sensor de luz (Lx); </li><li>  O multisensor Philio PST02-A mede temperatura (¬∞ C), exposi√ß√£o √† luz (%), abertura de porta, presen√ßa de uma pessoa na sala; </li><li>  Controlador de rede Z-Wave USB Stick ZME E UZB1, ao qual os sensores est√£o conectados. </li></ol><br>  √â muito importante que os dispositivos e o controlador trabalhem na mesma frequ√™ncia; caso contr√°rio, eles simplesmente n√£o se ver√£o no momento da conex√£o.  At√© 232 dispositivos podem ser conectados a um controlador de rede Z-Wave, o suficiente para um apartamento ou uma casa de campo.  Para expandir a √°rea de cobertura da rede em ambientes fechados, um soquete inteligente pode ser usado como repetidor de sinal. <br><br><img src="https://habrastorage.org/webt/o_/q2/oa/o_q2oa4n9w7hpqzr2vihyois9he.png"><br><br>  No processo do servidor do controlador dom√©stico inteligente, discutido no par√°grafo anterior, o servidor Z-Wave √© respons√°vel por interagir com os dispositivos Z-Wave.  Para obter informa√ß√µes dos sensores, ele usa a biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">OpenZWave</a> em C ++, que fornece uma interface para intera√ß√£o com um controlador USB da rede Z-Wave e trabalha com muitos sensores e atuadores.  O valor do par√¢metro ambiental medido pelo sensor √© registrado pelo servidor Z-Wave na forma de uma mensagem JSON: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"vendor"</span></span>: <span class="hljs-string"><span class="hljs-string">"*****"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"3.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"timestampMs"</span></span>: <span class="hljs-string"><span class="hljs-string">"1566479791290"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"clientType"</span></span>: <span class="hljs-string"><span class="hljs-string">"gateway"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"deviceId"</span></span>: <span class="hljs-string"><span class="hljs-string">"20873eb0-dd5e-4213-a175-************"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"deviceType"</span></span>: <span class="hljs-string"><span class="hljs-string">"sensor"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"protocol"</span></span>: <span class="hljs-string"><span class="hljs-string">"zwave"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"messageType"</span></span>: <span class="hljs-string"><span class="hljs-string">"sensorData"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"homeId"</span></span>: <span class="hljs-string"><span class="hljs-string">"0xefa0cfa7"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nodeId"</span></span>: <span class="hljs-string"><span class="hljs-string">"20"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sensorType"</span></span>: <span class="hljs-string"><span class="hljs-string">"METER"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"label"</span></span>: <span class="hljs-string"><span class="hljs-string">"Voltage"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sensorData"</span></span>: <span class="hljs-string"><span class="hljs-string">"229.3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"units"</span></span>: <span class="hljs-string"><span class="hljs-string">"V"</span></span> }</code> </pre><br>  Em seguida, ele √© encaminhado ao gerenciador de mensagens do processo do servidor para que os threads do assinante possam receb√™-lo.  O assinante principal √© o servidor l√≥gico de produ√ß√£o, que compara os valores dos campos da mensagem nos antecedentes das regras l√≥gicas.  Os resultados da sa√≠da l√≥gica que cont√™m comandos de controle s√£o enviados de volta ao gerenciador de mensagens e de l√° eles v√£o para o servidor Z-Wave, que os decodifica e os envia para o controlador USB da rede Z-Wave.  Ent√£o eles caem no dispositivo executivo, que muda o estado do ambiente, e a casa inteligente, portanto, faz um trabalho √∫til. <br><br> <a href=""><img src="https://habrastorage.org/webt/_s/1m/wk/_s1mwk6ysdi5l9ynhtawcbaolfg.png"></a> <br>  <font color="grey">(clique na imagem para abrir em resolu√ß√£o maior)</font> <br><br>  Os dispositivos Z-Wave s√£o conectados na interface gr√°fica do controlador dom√©stico inteligente.  Para fazer isso, v√° para a p√°gina com a lista de dispositivos e clique no bot√£o "Adicionar".  O comando add atrav√©s da API RESTful entra no processo do servidor e, em seguida, √© enviado pelo gerenciador de mensagens ao servidor Z-Wave, que coloca o controlador Z-Wave USB no modo de adi√ß√£o de dispositivo especial.  Em seguida, no dispositivo Z-Wave, √© necess√°rio fazer uma s√©rie de pressionamentos r√°pidos (3 pressionamentos em 1,5 segundos) do bot√£o de servi√ßo.  Um controlador USB conecta o dispositivo √† rede e envia informa√ß√µes sobre ele ao servidor Z-Wave.  Isso, por sua vez, cria um novo registro no banco de dados SQLite com os par√¢metros do novo dispositivo.  Ap√≥s um intervalo de tempo predeterminado, a interface gr√°fica retorna √† p√°gina da lista de dispositivos Z-Wave, l√™ as informa√ß√µes do banco de dados e exibe o novo dispositivo na lista.  Ao mesmo tempo, cada dispositivo recebe seu pr√≥prio identificador exclusivo, usado nas regras de infer√™ncia de produ√ß√£o e ao trabalhar na nuvem.  A opera√ß√£o deste algoritmo √© mostrada no diagrama UML: <br><br> <a href=""><img src="https://habrastorage.org/webt/np/01/lc/np01lc-tc4xbqzxccv18tfuxuz4.png"></a> <br>  <font color="grey">(clique na imagem para abrir em resolu√ß√£o maior)</font> <br><br><h2>  Conex√£o de c√¢mera IP </h2><br>  O sistema dom√©stico inteligente em nuvem discutido neste artigo √© uma moderniza√ß√£o do sistema de vigil√¢ncia por v√≠deo em nuvem, tamb√©m desenvolvido pelo autor, que est√° no mercado h√° v√°rios anos e possui muitas instala√ß√µes na R√∫ssia. <br><br>  Para sistemas de vigil√¢ncia por v√≠deo em nuvem, um dos problemas agudos √© a escolha limitada de equipamentos com os quais a integra√ß√£o pode ser feita.  O software respons√°vel pela conex√£o com a nuvem √© instalado dentro da c√¢mera de v√≠deo, o que imediatamente exige muito do seu hardware - o processador e a quantidade de mem√≥ria livre.  Isso explica principalmente o pre√ßo mais alto das c√¢meras de vigil√¢ncia por v√≠deo baseadas na nuvem em compara√ß√£o √†s c√¢meras IP convencionais.  Al√©m disso, √© necess√°ria uma longa fase de negocia√ß√µes com os fabricantes de c√¢meras de CFTV para obter acesso ao sistema de arquivos da c√¢mera e a todas as ferramentas de desenvolvimento necess√°rias. <br><br><img src="https://habrastorage.org/webt/zx/c-/sq/zxc-sqnecsbismwgwmztyclcg9k.jpeg"><br><br>  Por outro lado, todas as c√¢meras IP modernas possuem protocolos padr√£o para interagir com outros equipamentos (em particular, DVRs).  Portanto, o uso de um controlador separado que se conecta usando o protocolo padr√£o e transmite fluxos de v√≠deo de c√¢meras IP para a nuvem fornece vantagens competitivas significativas para os sistemas de vigil√¢ncia por v√≠deo na nuvem.  Al√©m disso, se o cliente j√° instalou um sistema de vigil√¢ncia por v√≠deo baseado em c√¢meras IP simples, torna-se poss√≠vel expandi-lo e transform√°-lo em uma casa inteligente nublada e completa. <br><br>  O protocolo mais popular para sistemas de vigil√¢ncia por v√≠deo IP, que agora √© suportado por todos os fabricantes de c√¢meras IP sem exce√ß√£o, √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ONVIF Profile S</a> , cujas especifica√ß√µes existem na linguagem de descri√ß√£o de servi√ßos web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WSDL</a> .  Usando utilit√°rios do kit de ferramentas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gSOAP</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√©</a> poss√≠vel gerar o c√≥digo fonte dos servi√ßos que trabalham com c√¢meras IP: <br><br><pre> <code class="bash hljs">$ wsdl2h -o onvif.h \ https://www.onvif.org/ver10/device/wsdl/devicemgmt.wsdl \ https://www.onvif.org/ver10/events/wsdl/event.wsdl \ https://www.onvif.org/ver10/media/wsdl/media.wsdl \ https://www.onvif.org/ver20/ptz/wsdl/ptz.wsdl $ soapcpp2 -Cwvbj -c++11 -d cpp_files/onvif -i onvif.h</code> </pre><br>  Como resultado, obtemos um conjunto de arquivos de cabe√ßalho "* .h" e de origem "* .cpp" em C ++, que podem ser colocados diretamente em um aplicativo ou em uma biblioteca separada e compilados usando o compilador GCC.  Devido √†s muitas fun√ß√µes, o c√≥digo √© grande e requer otimiza√ß√£o adicional.  O microcomputador Raspberry Pi 3 modelo B + tem desempenho suficiente para executar esse c√≥digo, mas se houver necessidade de portar o c√≥digo para outra plataforma, √© necess√°rio escolher a arquitetura do processador e os recursos do sistema corretamente. <br><br>  As c√¢meras IP compat√≠veis com o padr√£o ONVIF, quando operam em uma rede local, s√£o conectadas a um grupo multicast especial com o endere√ßo <b>239.255.255.250</b> .  Existe um protocolo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WS-Discovery</a> , que permite automatizar a pesquisa de dispositivos na rede local. <br><br>  A interface inteligente do controlador dom√©stico inteligente implementa a fun√ß√£o de busca de c√¢meras IP na linguagem PHP, o que √© muito conveniente ao interagir com servi√ßos da Web por meio de mensagens XML.  Quando voc√™ seleciona os itens de menu <i>Dispositivos&gt; C√¢meras IP&gt; Digitalizar</i> , o algoritmo de pesquisa de c√¢meras IP √© iniciado, exibindo o resultado em uma tabela: <br><br> <a href=""><img src="https://habrastorage.org/webt/ew/xk/m6/ewxkm6g2tl7-2nqvjeyzfed8ees.png"></a> <br>  <font color="grey">(clique na imagem para abrir em resolu√ß√£o maior)</font> <br><br>  Ao adicionar uma c√¢mera ao controlador, voc√™ pode especificar as configura√ß√µes segundo as quais ela ir√° interagir com a nuvem.  Tamb√©m nesta fase, √© atribu√≠do automaticamente um identificador de dispositivo exclusivo, pelo qual ele pode ser facilmente identificado no futuro na nuvem. <br><br><img src="https://habrastorage.org/webt/jp/uq/al/jpuqalxe9cryxzzg2dpynptjjmy.png"><br><br>  Em seguida, uma mensagem √© gerada no formato JSON contendo todos os par√¢metros da c√¢mera adicionada e enviada ao processo do servidor do controlador dom√©stico inteligente por meio do comando API RESTful, em que os par√¢metros da c√¢mera s√£o decodificados e armazenados no banco de dados SQLite interno e tamb√©m s√£o usados ‚Äã‚Äãpara iniciar os seguintes threads de processamento: <br><br><ol><li>  estabelecer uma conex√£o RTSP para receber fluxos de v√≠deo e √°udio; </li><li>  transcodifica√ß√£o de √°udio dos formatos G.711 mu-Law, G.711 A-Law, G.723, etc.  para o formato AAC; </li><li>  transcodificar fluxos de v√≠deo H.264 e √°udio AAC para o cont√™iner FLV e transmiti-lo para a nuvem usando RTMP; </li><li>  estabelecer uma conex√£o com o ponto final do detector de movimento da c√¢mera IP via protocolo ONVIF e sua pesquisa peri√≥dica; </li><li>  gerar periodicamente uma imagem de visualiza√ß√£o em miniatura e envi√°-la para a nuvem usando o protocolo MQTT; </li><li>  grava√ß√£o local de fluxos de v√≠deo e √°udio na forma de arquivos separados no formato MP4 em um cart√£o SD ou Flash de um controlador dom√©stico inteligente. </li></ol><br><img src="https://habrastorage.org/webt/4m/yc/yb/4mycybe00ye3dxglny-fcgsohua.png"><br><br>  Para estabelecer uma conex√£o com as c√¢meras, transcodificando, processando e gravando fluxos de v√≠deo no processo do servidor, s√£o utilizadas fun√ß√µes da biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FFmpeg</a> 4.1.0. <br><br>  No experimento de teste de desempenho, tr√™s c√¢meras foram conectadas ao controlador: <br><br><ol><li>  HiWatch DS-I114W (resolu√ß√£o - 720p, formato de compress√£o - H.264, taxa de bits - 1 Mb / s, som G.711 mu-Law); </li><li>  MDC-M6290FTD-1 microdigital (resolu√ß√£o - 1080p, formato de compress√£o - H.264, taxa de bits - 1 Mb / s, sem som); </li><li>  Dahua DH-IPC-HDW4231EMP-AS-0360B (resolu√ß√£o - 1080p, formato de compacta√ß√£o - H.264, taxa de bits - 1,5 Mb / s, som AAC). </li></ol><br><img src="https://habrastorage.org/webt/h2/dv/mk/h2dvmkujuqu4sdp6daccgdimnre.png"><br><br>  Todos os tr√™s fluxos foram enviados simultaneamente para a nuvem, a transcodifica√ß√£o do som foi realizada apenas em uma c√¢mera e a grava√ß√£o do arquivo local foi desativada.  A utiliza√ß√£o da CPU foi de aproximadamente 5%, o uso da RAM foi de 32 MB (por processo) e 56 MB (total com SO). <br><br>  Assim, aproximadamente 20 a 30 c√¢meras (dependendo da resolu√ß√£o e taxa de bits) podem ser conectadas ao controlador dom√©stico inteligente, o que √© suficiente para um sistema de vigil√¢ncia por v√≠deo de uma casa de tr√™s andares ou um pequeno armaz√©m.  Nas tarefas em que √© necess√°rio alto desempenho, voc√™ pode usar um nettop com um processador multin√∫cleo Intel e o Linux Debian Sarge OS.  Atualmente, o controlador est√° em opera√ß√£o de teste e os dados sobre seu desempenho ser√£o atualizados. <br><br><h2>  Intera√ß√£o na nuvem </h2><br>  O Cloud Smart Home armazena dados do usu√°rio (medi√ß√µes de v√≠deo e sensor) na nuvem.  A arquitetura de armazenamento em nuvem ser√° discutida em mais detalhes no pr√≥ximo artigo de nossa s√©rie.  Agora vamos falar sobre a interface para transmitir mensagens informativas do controlador dom√©stico inteligente para a nuvem. <br><br>  Os estados dos dispositivos conectados e as medi√ß√µes dos sensores s√£o transmitidos usando o protocolo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MQTT</a> , que √© frequentemente usado em projetos de IoT devido √† sua simplicidade e efici√™ncia energ√©tica.  O MQTT usa um modelo cliente-servidor quando os clientes assinam determinados t√≥picos no broker e publicam suas mensagens.  O broker envia mensagens para todos os assinantes de acordo com as regras determinadas pelo n√≠vel de QoS (Qualidade de Servi√ßo): <br><br><ul><li>  QoS 0 - no m√°ximo uma vez (sem garantia de entrega); </li><li>  QoS 1 - pelo menos uma vez (com confirma√ß√£o de entrega); </li><li>  QoS 2 - exatamente uma vez (com confirma√ß√£o de entrega adicional). </li></ul><br>  No nosso caso, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Eclipse Mosquitto √©</a> usado como um broker MQTT.  O nome do t√≥pico √© o identificador exclusivo do controlador dom√©stico inteligente.  O cliente MQTT dentro do processo do servidor se inscreve neste t√≥pico e converte nele mensagens JSON provenientes do gerenciador de mensagens.  Por outro lado, as mensagens do broker MQTT s√£o enviadas a eles no gerenciador de mensagens, que as multiplexa para seus assinantes no processo do servidor: <br><br><img src="https://habrastorage.org/webt/zx/ao/ea/zxaoeaqetsr7odlbfsx2xtn35fy.png"><br><br>  Para transmitir mensagens sobre o estado do controlador dom√©stico inteligente, √© usado o mecanismo de mensagens salvas e as mensagens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">retidas do</a> protocolo MQTT.  Isso permite que voc√™ monitore corretamente os momentos de reconex√µes durante falhas de energia. <br><br>  O cliente MQTT foi desenvolvido com base na implementa√ß√£o da biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Eclipse Paho</a> em C ++. <br><br>  Os fluxos de m√≠dia H.264 + AAC s√£o enviados para a nuvem usando o protocolo RTMP, onde um cluster de servidores de m√≠dia √© respons√°vel por seu processamento e armazenamento.  Para distribuir de maneira ideal a carga no cluster e selecionar o servidor de m√≠dia menos carregado, o controlador de casa inteligente faz uma solicita√ß√£o preliminar ao balanceador de carga em nuvem e s√≥ envia o fluxo de m√≠dia. <br><br><h1>  Conclus√£o </h1><br>  O artigo examinou uma implementa√ß√£o espec√≠fica de um controlador dom√©stico inteligente baseado no microcomputador Raspberry Pi 3 B +, que pode receber, processar informa√ß√µes e gerenciar equipamentos usando o protocolo Z-Wave, interagir com c√¢meras IP usando o protocolo ONVIF e tamb√©m trocar dados e comandos com a nuvem Servi√ßo de protocolo MQTT e RTMP.  Um mecanismo de l√≥gica de produ√ß√£o foi desenvolvido com base em uma compara√ß√£o de regras e fatos l√≥gicos apresentados no formato JSON. <br><br>  Agora, o controlador dom√©stico inteligente est√° passando por uma opera√ß√£o experimental em v√°rias instala√ß√µes em Moscou e na regi√£o de Moscou. <br><br>  Na pr√≥xima vers√£o do controlador, est√° planejado conectar dispositivos de outros tipos (RF, Bluetooth, WiFi, com fio).  Para conveni√™ncia dos usu√°rios, o procedimento para conectar sensores e c√¢meras IP ser√° transferido para o aplicativo m√≥vel.  Tamb√©m existem id√©ias para otimizar o c√≥digo de processo do servidor e portar o software para o sistema operacional <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">OpenWrt</a> .  Isso economizar√° em um controlador separado e transferir√° a funcionalidade de uma casa inteligente para um roteador dom√©stico comum. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt467219/">https://habr.com/ru/post/pt467219/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt467203/index.html">Apenas divis√£o, ou como criar uma teoria matem√°tica e ganhar US $ 400 mil com ela. S√©rie dois, pen√∫ltimo</a></li>
<li><a href="../pt467205/index.html">Desenvolvemos um aplicativo que envia dados para outros aplicativos (aplicativo do ecossistema)</a></li>
<li><a href="../pt467207/index.html">Cinco linguagens de programa√ß√£o promissoras com um futuro brilhante (3 anos depois)</a></li>
<li><a href="../pt467209/index.html">"Agentes Aut√¥nomos" ou execute o c√≥digo na plataforma aberta de criptografia Obyte</a></li>
<li><a href="../pt467215/index.html">22 Museus da computa√ß√£o: um guia para engenheiros que viajam pela Europa</a></li>
<li><a href="../pt467223/index.html">Bem-vindo ao JavaScript Meetup SuperJob 10 de outubro</a></li>
<li><a href="../pt467227/index.html">Como abrir um pacote npm com uma implanta√ß√£o normal, IC e demonstra√ß√£o (sem perda de alegria na vida)</a></li>
<li><a href="../pt467231/index.html">Apresentando o Login com a Apple no seu aplicativo iOS</a></li>
<li><a href="../pt467237/index.html">Aumente o servidor DNS sobre HTTPS</a></li>
<li><a href="../pt467239/index.html">A diferen√ßa entre o cientista de dados e um adolescente em um carro esportivo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>