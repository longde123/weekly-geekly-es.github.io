<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👗 🖕🏿 👨🏽‍🚒 再次关于Web组件... 💿 📯 🏙️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="每次在任何文章或评论中提到一组Web组件标准时，都会发生几乎相同的事情：通常对所涉风险不甚了解的人们开始分享“专家”意见。 每次，讨论都滑入一个相同的场景，其名称与“ rook”一词押韵。 我非常希望积极，建设性地过渡到实际应用问题。 在本文中，我将尝试立即回答绝大多数典型问题，并驳斥最多的常见误解...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>再次关于Web组件...</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422499/"><img src="https://habrastorage.org/webt/-o/mo/1i/-omo1imce71dgtpvmxin4ekbfwy.png"><br><br> 每次在任何文章或评论中提到一组Web组件标准时，都会发生几乎相同的事情：通常对所涉风险不甚了解的人们开始分享“专家”意见。 每次，讨论都滑入一个相同的场景，其名称与“ rook”一词押韵。 我非常希望积极，建设性地过渡到实际应用问题。 在本文中，我将尝试立即回答绝大多数典型问题，并驳斥最多的常见误解。 随后，在困难的情况下，将有可能以一个链接开始。 所以走吧 <br><a name="habracut"></a><br><h2> 基础知识 </h2><br>  Web组件是由以下基本元素组成的一组现代规范： <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">自定义元素</a></b> -创建具有指定行为，外观和您自己的内部标记的HTML标记的本机功能。 <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">影子DOM-</a></b>组件内部结构的分离，封装了内部样式和文档的其余部分。 <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">模板</a></b> -一个特殊的标签，允许您存储标记片段，应用它们并在必要时重复使用。 <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">HTML导入</a></b> -导入其他HTML文件中存储的HTML块的功能 <br><br> 以上所有内容均可通过本机CSS变量，本机ES模块和HTTP / 2服务器推送进行调味。 还有插槽，自定义属性，自定义事件和其他详细信息。 稍后，当我们继续练习时，介绍一下他们。 <br><br><h2> 是的，您的这些Web组件几乎在任何地方都不受支持。 </h2><br> 空号是工程师最好的朋友。 让我们从这个角度看“几乎无处”： <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">自定义元素</a> -78.71％ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">暗影DOM</a> -79.12％ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">模板</a> -89.61％ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">HTML导入</a> -69.16％ <br><br> 如我们所见，以上技术适用于绝大多数用户的浏览器。  HTML导入会稍微破坏图片，但我们没有义务使用全套工具（我更喜欢使用本机ES模块将所有内容分解为方便的块），即使是单独使用，您也可以在此列表中找到很多“美味”的东西。 <br><br> 我强烈建议不要盲目相信我，而要遵循提供的链接。 例如，在此处，您可以看到这些规范的当前状态，以及自<b>版本63开始</b> ，自定义元素和Shadow DOM <b>已在Firefox中获得完全支持</b>的事实。 当大多数狐狸用户升级到此版本时，这一刻指日可待，整体人数将变得更加诱人。 此外，您可能已经注意到Safari中“自定义元素”和“影子DOM”的“不完全支持”。 苹果浏览器不允许您从内置本机浏览器元素（例如按钮，选择等）继承组件。 使用Shadow DOM时，Safari在CSS选择器中也有一些细微差别。 在实践中，很可能忍受它而不会感到悲伤。 显然，按照传统，Microsoft Edge在现代浏览器中是局外人。 开发人员声称正在实施支持。 我们在等 <br><br><h2> 那么，其余20％的用户该怎么做？ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">多文件</a>可以用来支持这些人。 是的，它对多聚体的工作会稍微慢一些，但是肉眼看不到。 但对于其他所有人-将会更快。 <br><br><h2> 我们五年前曾尝试做一个关于Polymer的项目。 一切都非常缓慢。 </h2><br> 在那些“遥远”的时代，标准（v0）的草稿日趋猖,，仅在Chrome中实现了对它的支持。 从那时起，情况发生了很大的变化：采用了该标准的新版本v1，在各种浏览器中实现了本机支持，重写了多义字，并且良好的实践一直持续到解决。  Polymer本身已经从技术预览演变为一个可以正常使用的解决方案，这很不错。 <br><br><h2> 一些聚合物……这是怎么回事？ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Polymer</a>是用于创建Web组件的库。 它支持我们在使用流行的前端框架时所惯用的所有“糖”：动态数据绑定，用于数组的转发器等。目前，第三个稳定版本已经发布。这个图书馆。 在Chrome开发人员的积极参与下进行开发。 生态系统由Google维护。  <s>开发商的胡须总长度为...</s> <br><br><h2> 何时使用网络组件？ </h2><br>  <b>如果需要UI组件的通用共享库。</b> 生活中的一个案例：一个项目，其中主应用程序是用React编写的，后台是用Angular编写的。 我想要代码库的相同性和各种重用。  Web组件<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b>在不同的生态系统中</b></a>感觉很好。 <br><br>  <b>如果您接近浏览器中的设计方法</b> 。 您可以创建而无需不断地重建应用程序，而无需不必要的依赖关系。 这使原型设计成为一种非常令人愉悦的体验，并使您的应用程序可以从原型状态平稳地发展到生产版本状态。 我喜欢那个 <br><br>  <b>如果您喜欢旧的OOP</b> ，请执行以下操作：通过从HTML元素继承来创建类，在其中实现所需的功能和包子，然后从中继承专用组件的类。 现在您有了自己的微框架。 美女！ <br><br>  <b>如果您讨厌BEM</b> ：Shadow DOM会隔离组件样式。 无需多层怪异的命名，也无需导航到通用CSS堆中的声明。 一切都紧凑地封装在一个组件中：样式，布局，逻辑。 <br><br>  <b>如果您正在开发基于Electron的应用程序。</b> 当前版本的Electron中的Chromium已经支持您所需的一切。 尽管版本普遍滞后。 <br><br>  <b>如果要编写框架/库。</b>  Web组件是此类实验的极佳组成基础。 <br><br>  <b>如果您需要一种混合方法：您</b>可以使用<b>SPA元素实现经典的网页</b> ：自定义标记可以与任何服务器模板引擎一起使用，它们可以只是常规标记的一部分，并在适当的时候确定您的目的。 您可以在服务器上呈现的内容与客户端上可以显示的内容之间保持微妙的平衡。 <br><br>  <b>如果您的用户使用现代浏览器。</b> 本身。 <br><br>  <b>如果您正在开发PWA</b> ：主要的移动平台支持开箱即用的所有功能。 为了快速<a href="">入门</a> ，有一个<a href="">pwa-starter-kit</a> 。 <br><br>  <b>如果您对提高应用程序安全性感兴趣，那么详细的依赖项审核将对您不利。</b> 这里的一切都很简单：更少的依赖关系-更少的不受控制的漏洞。 <br><br>  <b>如果您是狂热的优化人员并且喜欢使用DOM API</b> ：Web组件是DOM API的一部分，具有普通DOM元素的所有标准功能。 <br><br>  <b>如果您热衷于破坏库版本的向后兼容性</b> ：当所有内容都基于硬核标准时，它以某种方式更加可靠。 <br><br><h2> 什么时候不应该使用Web组件 </h2><br>  <b>当您的项目有需求时，就需要支持旧版本的浏览器。</b> 在这种情况下，您通常不会被羡慕。 吊con <br><br>  <b>当您开发具有较短生命周期的简单产品时，无需开发单个代码库。</b> <br><br>  <b>当您主要处理遗留代码时。</b> <br><br>  <b>当您和您的同事只使用一些时髦的东西而又不想了解其他任何东西时。</b> <br><br><h2> 为什么我需要所有这些？ 我有React / Vue / Angular /等，对我来说足够了... </h2><br> 然后，JavaScript在流行的库和框架中所做的大部分工作都可以转移到较低级别的浏览器实现中。 为了速度起见，减少了过多的依赖关系，减少了对依赖关系的依赖。 为了好。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN422499/">https://habr.com/ru/post/zh-CN422499/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN422487/index.html">CSS变量快速入门指南（用例，语法和示例）</a></li>
<li><a href="../zh-CN422491/index.html">钱决定。 “我们有三个开发人员，但我们不知道如何工作”</a></li>
<li><a href="../zh-CN422493/index.html">Kubernetes（k8s）+ Helm + GitLab CI / CD。 正确部署</a></li>
<li><a href="../zh-CN422495/index.html">旧图标的故事。 18种颜色之谜。 透明和反色</a></li>
<li><a href="../zh-CN422497/index.html">互联网名称与数字地址分配机构（ICANN）已发布有关在根区域升级KSK的预期内容的详细指南。</a></li>
<li><a href="../zh-CN422501/index.html">用于生产微芯片的新技术工艺正越来越被推迟-为什么？</a></li>
<li><a href="../zh-CN422507/index.html">PHP 7.3。 最新消息</a></li>
<li><a href="../zh-CN422509/index.html">《从不单独吃饭》一书的摘要</a></li>
<li><a href="../zh-CN422511/index.html">将数据加载到Splunk：通用转发器与重型转发器。 有什么区别？</a></li>
<li><a href="../zh-CN422513/index.html">关于如何在假期不激怒测试人员同事的7个技巧</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>