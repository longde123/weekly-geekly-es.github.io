<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¦‹ ğŸš ğŸ‘¨ğŸ¾â€ğŸ”§ Bagaimana menafsirkan prediksi model dalam SHAP ğŸ‘¨ğŸ»â€ğŸš’ ğŸ‘©â€ğŸ³ ğŸ’»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salah satu tugas paling penting dalam bidang ilmu data bukan hanya pembangunan model yang mampu membuat prediksi berkualitas tinggi, tetapi juga kemam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana menafsirkan prediksi model dalam SHAP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428213/">  Salah satu tugas paling penting dalam bidang ilmu data bukan hanya pembangunan model yang mampu membuat prediksi berkualitas tinggi, tetapi juga kemampuan untuk menafsirkan prediksi tersebut. <br><br>  Jika kita tidak hanya tahu bahwa klien cenderung membeli suatu produk, tetapi juga memahami apa yang mempengaruhi pembeliannya, kita akan dapat membangun strategi perusahaan di masa depan yang bertujuan untuk meningkatkan efisiensi penjualan. <br><a name="habracut"></a><br>  Atau model meramalkan bahwa pasien akan segera jatuh sakit.  Keakuratan prediksi semacam itu tidak terlalu tinggi, karena  Ada banyak faktor yang tersembunyi dari model, tetapi penjelasan alasan mengapa model membuat prediksi seperti itu dapat membantu dokter memperhatikan gejala baru.  Dengan demikian, dimungkinkan untuk memperluas batas penerapan model jika akurasinya sendiri tidak terlalu tinggi. <br><br>  Dalam posting ini saya ingin berbicara tentang teknik <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SHAP</a> , yang memungkinkan Anda untuk melihat di bawah kap berbagai model. <br><br>  Jika dengan model linier menjadi semakin tidak jelas, semakin besar nilai absolut koefisien di bawah prediktor, semakin penting prediktor ini, maka menjelaskan pentingnya fitur peningkatan gradien yang sama terasa lebih sulit. <br><br><h2>  Mengapa ada kebutuhan untuk perpustakaan seperti itu </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/959/75c/7c1/95975c7c11b6c26f5f48cb388118b87d.png" alt="gambar"><br><br>  Di tumpukan sklearn, dalam paket xgboost, lightGBM, ada metode bawaan untuk menilai pentingnya fitur (fitur penting) untuk "model kayu": <br><br><ol><li>  <b>Keuntungan</b> <br>  Ukuran ini menunjukkan kontribusi relatif dari setiap fitur ke model.  untuk perhitungan, kita pergi melalui setiap pohon, melihat setiap simpul pohon yang fitur mengarah ke partisi simpul dan berapa banyak ketidakpastian model menurun sesuai dengan metrik (Gini pengotor, perolehan informasi). <br>  Untuk setiap fitur, kontribusinya terhadap semua pohon dirangkum. <br></li><li>  <b>Penutup</b> <br>  Memperlihatkan jumlah pengamatan untuk setiap fitur.  Misalnya, Anda memiliki 4 fitur, 3 pohon.  Misalkan fitur 1 pada simpul pohon masing-masing berisi 10, 5, dan 2 pengamatan di pohon 1, 2, dan 3. Kemudian, untuk fitur ini, kepentingannya adalah 17 (10 + 5 + 2). <br></li><li>  <b>Frekuensi</b> <br>  Memperlihatkan seberapa sering fitur ini muncul di simpul pohon, yaitu jumlah total pohon yang terbagi menjadi simpul untuk setiap fitur di setiap pohon dipertimbangkan. <br></li></ol><br>  Masalah utama dalam semua pendekatan ini adalah tidak jelas bagaimana tepatnya fitur ini mempengaruhi prediksi model.  Sebagai contoh, kami belajar bahwa tingkat pendapatan penting untuk menilai solvabilitas klien bank untuk membayar pinjaman.  Tapi bagaimana tepatnya?  Berapa prediksi model penerimaan bias lebih tinggi? <br><br>  Tentu saja, kita dapat membuat beberapa prediksi dengan mengubah tingkat pendapatan.  Tetapi apa yang harus dilakukan dengan fitur lain?  Bagaimanapun, kita menemukan diri kita dalam situasi yang kita butuhkan untuk mendapatkan pemahaman tentang pengaruh pendapatan <b>secara independen</b> dari fitur-fitur lain, dengan nilai rata-rata mereka. <br><br>  Ada semacam rata-rata nasabah bank "dalam ruang hampa."  Bagaimana model prediksi berubah dengan perubahan pendapatan? <br><br>  Di sini perpustakaan <b>SHAP</b> datang untuk menyelamatkan. <br><br><h2>  Kami menghitung pentingnya fitur menggunakan SHAP </h2><br>  Di perpustakaan <b>SHAP</b> , untuk menilai pentingnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">fitur, nilai-nilai Shapley dihitung</a> (dengan nama seorang ahli matematika Amerika dan namanya perpustakaan). <br><br>  Untuk menilai pentingnya fitur, prediksi model dievaluasi <b>dengan</b> dan <b>tanpa</b> fitur ini. <br><br><h4>  Sedikit prasejarah </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/b6f/410/244/b6f410244b45bae7fcd61de04c764502.jpg" alt="gambar"><br><br>  Makna Shapley berasal dari teori permainan. <br><br>  Pertimbangkan skenario: sekelompok orang bermain kartu.  Bagaimana cara mendistribusikan dana hadiah di antara mereka sesuai dengan kontribusi mereka? <br><br>  Sejumlah asumsi dibuat: <br><br><ul><li>  Jumlah hadiah untuk setiap pemain sama dengan jumlah total hadiah </li><li>  Jika dua pemain memberikan kontribusi yang sama untuk permainan, mereka menerima hadiah yang sama. </li><li>  Jika seorang pemain belum memberikan kontribusi, dia tidak akan menerima hadiah. </li><li>  Jika seorang pemain telah menghabiskan dua pertandingan, maka total hadiahnya terdiri dari jumlah hadiah untuk setiap pertandingan </li></ul><br>  Kami menyajikan fitur model sebagai pemain, dan kumpulan hadiah sebagai prediksi akhir model. <br><br><h4>  Mari kita lihat sebuah contoh. </h4><br>  Rumus untuk menghitung nilai Shapley untuk fitur ke-i: <br><br><p><math> </math> $$ menampilkan $$ \ mulai {persamaan *} \ phi_ {i} (p) = \ sum_ {S \ subseteq N / \ {i \}} \ frac {| S |! (n - | S | -1) !} {n!} (p (S \ cup \ {i \}) - p (S)) \ end {persamaan *} $$ menampilkan $$ </p><br><br>  Di sini: <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><merror><mtext>p&amp;#xA0;(S&amp;#xA0;\&amp;#xA0;cup&amp;#xA0;\&amp;#xA0;{i&amp;#xA0;\})</mtext></merror></math>" role="presentation"><span class="noError" aria-hidden="true" style="display: inline-block;">p&nbsp;(S&nbsp;\&nbsp;cup&nbsp;\&nbsp;{i&nbsp;\})</span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><merror><mtext>p&nbsp;(S&nbsp;\&nbsp;cup&nbsp;\&nbsp;{i&nbsp;\})</mtext></merror></math></span></span><script type="math/tex" id="MathJax-Element-2"> p (S \ cup \ {i \}) </script>  Merupakan prediksi model dengan fitur i-th, <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>S</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.567ex" height="2.66ex" viewBox="-38.5 -832 1966.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-28" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMATHI-53" x="893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-29" x="1538" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-3"> p (S) </script>  - ini adalah prediksi model tanpa fitur i-th, <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMATHI-6E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> n </script>  - jumlah fitur, <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>S</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.499ex" height="2.057ex" viewBox="0 -780.1 645.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMATHI-53" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> S </script>  - seperangkat fitur yang sewenang-wenang tanpa fitur ke-i <br><br>  Nilai Shapley untuk fitur ke-i dihitung untuk setiap sampel data (misalnya, untuk setiap klien dalam sampel) pada semua kemungkinan kombinasi fitur (termasuk tidak adanya semua fitur), maka nilai yang diperoleh dijumlahkan modulo dan kepentingan akhir dari fitur ke-i diperoleh. <br><br>  Perhitungan ini sangat mahal, oleh karena itu, di bawah tenda, berbagai algoritma untuk mengoptimalkan perhitungan digunakan, untuk lebih jelasnya, lihat tautan di atas pada github. <br><br>  Ambil contoh vanilla dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi xgboost</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4de/6d0/b89/4de6d0b89b0f73bba9b68e5dbd446348.png" alt="gambar"><br><br>  Kami ingin mengevaluasi pentingnya fitur untuk memprediksi apakah seseorang menyukai game komputer. <br><br>  Dalam contoh ini, untuk kesederhanaan, kami memiliki dua fitur: usia (usia) dan jenis kelamin (jenis kelamin).  Gender (gender) mengambil nilai 0 dan 1. <br><br>  Ambil Bobby (bocah laki-laki di simpul paling kiri dari pohon) dan hitung nilai Shapley untuk umur fitur (umur). <br><br>  Kami memiliki dua set fitur S: <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><merror><mtext>\&amp;#xA0;{\}</mtext></merror></math>" role="presentation"><span class="noError" aria-hidden="true" style="display: inline-block;">\&nbsp;{\}</span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><merror><mtext>\&nbsp;{\}</mtext></merror></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ {\} </script>  - tidak ada fitur <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><merror><mtext>\&amp;#xA0;{gender&amp;#xA0;\}</mtext></merror></math>" role="presentation"><span class="noError" aria-hidden="true" style="display: inline-block;">\&nbsp;{gender&nbsp;\}</span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><merror><mtext>\&nbsp;{gender&nbsp;\}</mtext></merror></math></span></span><script type="math/tex" id="MathJax-Element-7"> \ {gender \} </script>  - hanya ada fitur gender. <br><br><h4>  Situasi ketika tidak ada nilai fitur </h4><br>  Model yang berbeda bekerja secara berbeda dengan situasi di mana tidak ada fitur untuk sampel data, yaitu, untuk semua fitur nilainya NULL. <br><br>  Dalam hal ini, akan dipertimbangkan bahwa model rata-rata prediksi atas cabang-cabang pohon, yaitu, prediksi tanpa fitur akan <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>025</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.517ex" height="2.66ex" viewBox="0 -832 13569.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-28" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-32" x="668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2B" x="1390" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-30" x="2391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2C" x="2891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-31" x="3337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-29" x="3837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2F" x="4227" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-32" x="4727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2B" x="5450" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-28" x="6451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2212" x="6840" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-31" x="7619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-29" x="8119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-5D" x="8509" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2F" x="8787" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-32" x="9288" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-3D" x="10066" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-30" x="11122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2C" x="11623" y="0"></use><g transform="translate(12068,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-35" x="1001" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn><mo>+</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>025</mn></math></span></span><script type="math/tex" id="MathJax-Element-8"> [(2 + 0,1) / 2 + (-1)] / 2 = 0,025 </script>  . <br><br>  Jika kita menambah pengetahuan usia, maka prediksi modelnya adalah <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>1</mn><mo>,</mo><mn>05</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.116ex" height="2.66ex" viewBox="0 -832 8230.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-32" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2B" x="1112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-30" x="2112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2C" x="2613" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-31" x="3058" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-29" x="3559" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2F" x="3948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-32" x="4449" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-3D" x="5227" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-31" x="6283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2C" x="6784" y="0"></use><g transform="translate(7229,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-35" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>1</mn><mo>,</mo><mn>05</mn></math></span></span><script type="math/tex" id="MathJax-Element-9"> (2 + 0,1) / 2 = 1,05 </script>  . <br><br>  Akibatnya, nilai Shapley untuk kasus tidak adanya fitur: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><merror><mtext>\&amp;#xA0;frac&amp;#xA0;{|&amp;#xA0;S&amp;#xA0;|!&amp;#xA0;(n&amp;#xA0;-&amp;#xA0;|&amp;#xA0;S&amp;#xA0;|&amp;#xA0;-1)!}&amp;#xA0;{n!}&amp;#xA0;(p&amp;#xA0;(S&amp;#xA0;\&amp;#xA0;cup&amp;#xA0;\&amp;#xA0;{i&amp;#xA0;\})&amp;#xA0;-&amp;#xA0;p&amp;#xA0;(S))&amp;#xA0;=&amp;#xA0;\&amp;#xA0;frac&amp;#xA0;{1&amp;#xA0;(2-0&amp;#xA0;-1)!}&amp;#xA0;{2!}&amp;#xA0;(1,025)&amp;#xA0;=&amp;#xA0;0,5125</mtext></merror></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><span class="noError" aria-hidden="true" style="display: inline-block;">\&nbsp;frac&nbsp;{|&nbsp;S&nbsp;|!&nbsp;(n&nbsp;-&nbsp;|&nbsp;S&nbsp;|&nbsp;-1)!}&nbsp;{n!}&nbsp;(p&nbsp;(S&nbsp;\&nbsp;cup&nbsp;\&nbsp;{i&nbsp;\})&nbsp;-&nbsp;p&nbsp;(S))&nbsp;=&nbsp;\&nbsp;frac&nbsp;{1&nbsp;(2-0&nbsp;-1)!}&nbsp;{2!}&nbsp;(1,025)&nbsp;=&nbsp;0,5125</span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><merror><mtext>\&nbsp;frac&nbsp;{|&nbsp;S&nbsp;|!&nbsp;(n&nbsp;-&nbsp;|&nbsp;S&nbsp;|&nbsp;-1)!}&nbsp;{n!}&nbsp;(p&nbsp;(S&nbsp;\&nbsp;cup&nbsp;\&nbsp;{i&nbsp;\})&nbsp;-&nbsp;p&nbsp;(S))&nbsp;=&nbsp;\&nbsp;frac&nbsp;{1&nbsp;(2-0&nbsp;-1)!}&nbsp;{2!}&nbsp;(1,025)&nbsp;=&nbsp;0,5125</mtext></merror></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> \ frac {| S |! (n - | S | -1)!} {n!} (p (S \ cup \ {i \}) - p (S)) = \ frac {1 (2-0 -1)!} {2!} (1,025) = 0,5125 </script></p><br><br><h4>  Situasi saat kita mengenal gender </h4><br>  Untuk bobby untuk <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>g</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.942ex" height="2.419ex" viewBox="0 -780.1 2989 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMATHI-67" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMATHI-65" x="480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMATHI-6E" x="947" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMATHI-64" x="1547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMATHI-65" x="2071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMATHI-72" x="2537" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi>g</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-11"> {gender} </script>  prediksi tanpa fitur fitur, hanya dengan fitur jenis kelamin yang sama <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>025</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.517ex" height="2.66ex" viewBox="0 -832 13569.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-28" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-32" x="668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2B" x="1390" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-30" x="2391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2C" x="2891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-31" x="3337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-29" x="3837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2F" x="4227" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-32" x="4727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2B" x="5450" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-28" x="6451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2212" x="6840" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-31" x="7619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-29" x="8119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-5D" x="8509" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2F" x="8787" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-32" x="9288" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-3D" x="10066" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-30" x="11122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-2C" x="11623" y="0"></use><g transform="translate(12068,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhjev0FgjWU5jdMiNOAdzRcMAXuPsg#MJMAIN-35" x="1001" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn><mo>+</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>025</mn></math></span></span><script type="math/tex" id="MathJax-Element-12"> [(2 + 0,1) / 2 + (-1)] / 2 = 0,025 </script>  .  Jika kita tahu umur, maka prediksi adalah pohon paling kiri, yaitu 2. <br><br>  Akibatnya, nilai Shapley untuk kasus ini: <br><br><p><math> </math> $$ menampilkan $$ \ mulai {persamaan *} \ frac {| S |! (n - | S | -1)!} {n!} (p (S \ cup \ {i \}) - p (S) ) = \ frac {1 (2-1-1)!} {2!} (1.975) = 0.9875 \ end {persamaan *} $$ menampilkan $$ </p><br><br><h4>  Ringkaslah </h4><br><br>  Nilai total Shapley untuk usia fitur (usia): <br><p><math> </math> $$ tampilan $$ \ mulai {persamaan *} \ phi_ {Usia Bobby} = 0,9875 + 0,5125 = 1,5 \ akhir {persamaan *} $$ menampilkan $$ </p><br><h2>  Contoh bisnis nyata </h2><br>  Perpustakaan SHAP memiliki fungsi visualisasi yang kaya yang membantu dengan mudah dan mudah menjelaskan model untuk bisnis dan analis itu sendiri, untuk mengevaluasi kecukupan model. <br><br>  Di salah satu proyek, saya menganalisis arus keluar karyawan dari perusahaan.  Sebagai model, xgboost digunakan. <br><br>  Kode dalam python: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> shap shap_test = shap.TreeExplainer(best_model).shap_values(df) shap.summary_plot(shap_test, df, max_display=<span class="hljs-number"><span class="hljs-number">25</span></span>, auto_size_plot=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> <br>  Grafik yang dihasilkan dari pentingnya fitur: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3f8/5d0/8d0/3f85d08d0c377285d8d6751bd04bb758.png" alt="gambar"><br><br>  Cara membacanya: <br><br><ul><li>  nilai di sebelah kiri dari garis vertikal tengah adalah kelas negatif (0), ke kanan - positif (1) </li><li>  semakin tebal garis pada grafik, semakin banyak titik pengamatan tersebut </li><li>  semakin merah poin pada grafik, semakin tinggi nilai fitur di dalamnya </li></ul><br>  Dari grafik, Anda dapat menarik kesimpulan menarik dan memeriksa kecukupannya: <br><br><ul><li>  semakin rendah kenaikan gaji karyawan, semakin tinggi kemungkinan keberangkatannya </li><li>  ada daerah kantor di mana arus keluar lebih tinggi </li><li>  semakin muda karyawan, semakin tinggi kemungkinan keberangkatannya </li><li>  ... </li></ul><br>  Anda dapat langsung membentuk potret karyawan yang keluar: dia tidak menerima kenaikan gaji, dia cukup muda, lajang, untuk waktu yang lama di posisi yang sama, tidak ada kenaikan nilai, tidak ada peringkat tahunan yang tinggi, dia mulai berkomunikasi sedikit dengan kolega. <br><br>  Sederhana dan nyaman! <br><br>  Anda dapat menjelaskan prediksi untuk karyawan tertentu: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/388/aab/c93/388aabc9318855e327e570de00359744.png" alt="gambar"><br><br>  Atau lihat ketergantungan prediksi pada fitur tertentu dalam bentuk grafik 2D: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf8/863/c5b/cf8863c5b4e8fb3c3775725507bc9be9.png" alt="gambar"><br><br>  Anda bahkan dapat memvisualisasikan prediksi jaringan saraf dalam gambar: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ac/ab2/146/3acab21469b2afd94b135923ec5e6d4c.png" alt="gambar"><br><br><h2>  Kesimpulan </h2><br>  Saya sendiri belajar tentang nilai-nilai SHAP sekitar enam bulan yang lalu dan ini sepenuhnya menggantikan metode lain untuk menilai pentingnya fitur. <br><br>  Keuntungan utama: <br><br><ul><li>  visualisasi dan interpretasi yang nyaman </li><li>  perhitungan jujur â€‹â€‹tentang pentingnya fitur </li><li>  kemampuan untuk mengevaluasi fitur-fitur untuk subsampel data tertentu (misalnya, bagaimana pelanggan kami berbeda dari pelanggan lain dalam sampel) dilakukan dengan filter sederhana dari dataset dalam panda dan analisisnya dalam bentuk, secara harfiah beberapa baris kode </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id428213/">https://habr.com/ru/post/id428213/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id428201/index.html">Lubang mol dalam JavaScript</a></li>
<li><a href="../id428203/index.html">Kami melihat grafik: perkiraan dan perkiraan untuk pasar cloud computing, data pada tahun 2018</a></li>
<li><a href="../id428205/index.html">Lifehacks NaviHaka</a></li>
<li><a href="../id428209/index.html">Buku masak pengembang: Resep Desain Berbasis Domain (Bagian 2, struktur dan interaksi)</a></li>
<li><a href="../id428211/index.html">Buku â€œArsitektur evolusi. Dukungan untuk perubahan terus menerus "</a></li>
<li><a href="../id428217/index.html">Juta panggilan video per hari atau "Hubungi ibu!"</a></li>
<li><a href="../id428219/index.html">Dari mana praktik relokasi massal personel yang memenuhi syarat berasal?</a></li>
<li><a href="../id428221/index.html">Generasi AI dari wajah realistis</a></li>
<li><a href="../id428223/index.html">Kota dan Big Data mereka</a></li>
<li><a href="../id428225/index.html">Cara melakukan analisis web untuk SaaS melalui Google Analytics: memperkenalkan dan melacak corong</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>