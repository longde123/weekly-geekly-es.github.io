<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฒ ๐ฉโ๐ซ ๐ ุชุทุจูู ููุท ุชุตููู ุงูููุงุฏุฉ ูู ุงููุญุฏุฉ ๐ค๐พ ๐ ๐ง</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุชุณุงุกูุช ููููุง ุนู ููููุฉ ุชูููุฐ ูุธููุฉ ุฅุนุงุฏุฉ ุงูุชุดุบูู ูู ุฃูุนุงุจ ูุซู Super Meat Boy ุ ุชุชูุซู ุฅุญุฏู ุทุฑู ุชูููุฐูุง ูู ุชูููุฐ ุงูุฅุฏุฎุงู ุจููุณ ุงูุทุฑููุฉ ุงูุชู ุงุชุจุนูุง ุงููุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุทุจูู ููุท ุชุตููู ุงูููุงุฏุฉ ูู ุงููุญุฏุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463953/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/fef/cfb/edf/fefcfbedf0b2e0711f2e831b0d069ebf.gif" alt="ุตูุฑุฉ"></div><br>  ูู ุชุณุงุกูุช ููููุง ุนู ููููุฉ ุชูููุฐ ูุธููุฉ ุฅุนุงุฏุฉ ุงูุชุดุบูู ูู ุฃูุนุงุจ ูุซู <i>Super Meat Boy</i> ุ  ุชุชูุซู ุฅุญุฏู ุทุฑู ุชูููุฐูุง ูู ุชูููุฐ ุงูุฅุฏุฎุงู ุจููุณ ุงูุทุฑููุฉ ุงูุชู ุงุชุจุนูุง ุงููุงุนุจ ุ ููุฐุง ุจุฏูุฑู ูุนูู ุฃู ุงูุฅุฏุฎุงู ูุฌุจ ุฃู ูุชู ุชุฎุฒููู ุจุทุฑููุฉ ูุง.  ููููู ุงุณุชุฎุฏุงู <em>ููุท ุงูุฃูุงูุฑ</em> ููุฐุง ูุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ. <br><br>  ูุนุฏ ูุงูุจ ุงูุฃูุงูุฑ ูููุฏูุง ุฃูุถูุง ูู ุฅูุดุงุก ูุธุงุฆู "ุชุฑุงุฌุน" ู "ุฅุนุงุฏุฉ" ูู ูุนุจุฉ ุงุณุชุฑุงุชูุฌูุฉ. <br><br>  ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุ ูููุฐ ูุงูุจ ุงูุฃูุงูุฑ ูู C # ููุณุชุฎุฏูู ูุชูุฌูู ุดุฎุตูุฉ ุงูุฑูุจูุช ุฎูุงู ูุชุงูุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ.  ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุณูู ุชุชุนูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃุณุงุณูุงุช ููุท ุงูููุงุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุชูููุฐ ููุท ุงูููุงุฏุฉ </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุฅูุดุงุก ูุงุฆูุฉ ุงูุชุธุงุฑ ูู ุฃูุงูุฑ ุงูุฅุฏุฎุงู ูุชุฃุฎูุฑ ุชูููุฐูุง. </li></ul><a name="habracut"></a><br><blockquote style=";text-align:right;direction:rtl">  <em>ููุงุญุธุฉ</em> : ูู ุงูููุชุฑุถ ุฃูู ุนูู ุฏุฑุงูุฉ ุจุงููุญุฏุฉ ููุฏูู ูุนุฑูุฉ ูุชูุณุทุฉ ุจู C #.  ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุ ุณูุนูู ูุน <em>Unity 2019.1</em> ู <em>C # 7</em> . </blockquote><br><h2 style=";text-align:right;direction:rtl">  ุงูุญุตูู ุนูู ุงูุนูู </h2><br>  ููุจุฏุก ุ ูู ุจุชูุฒูู <a href="">ููุงุฏ ุงููุดุฑูุน</a> .  ูู ุจูู ุถุบุท ุงูููู ูุงูุชุญ ูุดุฑูุน <em>Starter</em> ูู ุงููุญุฏุฉ. <br><br>  ุงูุชูู ุฅูู <em>RW / Scenes</em> ูุงูุชุญ ุงููุดูุฏ <em>ุงูุฑุฆูุณู</em> .  ูุชููู ุงููุดูุฏ ูู ุฑูุจูุช ููุชุงูุฉ ุ ููุฐูู ูุงุฌูุฉ ูุณุชุฎุฏู ุทุฑููุฉ ุชุนุฑุถ ุงูุชุนูููุงุช.  ูุชู ุชุตููู ุงููุณุชูู ูู ุดูู ุดุจูุฉ ุ ููู ุฃูุฑ ูููุฏ ุนูุฏูุง ูููู ุงูุฑูุจูุช ุจุตุฑูุง ุนุจุฑ ุงููุชุงูุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/53b/ab9/660/53bab9660bdd0a5017b570d43a57b2d9.png"></div><br>  ุฅุฐุง ููุช ุจุงูููุฑ ููู " <em>ุชุดุบูู"</em> ุ ูุณูุฑู ุฃู ุงูุชุนูููุงุช ูุง ุชุนูู.  ูุฐุง ุฃูุฑ ุทุจูุนู ูุฃููุง ุณูุถูู ูุฐู ุงููุธููุฉ ุฅูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู. <br><br>  ุงูุฌุฒุก ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ุงููุดูุฏ ูู GameObject <em>Bot</em> .  ุญุฏุฏู ูู ูุงูุฐุฉ ุงูุชุณูุณู ุงููุฑูู ูู ุฎูุงู ุงูููุฑ ุนููู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/187/35e/acf/18735eacfd1f8df8920749ea80a12b8f.png"></div><br>  ูู ุงูููุชุด ุ ููููู ุฃู ุชุฑู ุฃูู ูุญุชูู ุนูู ุนูุตุฑ <em>ุจูุช</em> .  ุณูุณุชุฎุฏู ูุฐุง ุงููููู ูู ุฎูุงู ุฅุตุฏุงุฑ ุฃูุงูุฑ ุงูุฅุฏุฎุงู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/2a5/2e3/2bc/2a52e32bc7feb6baafae6af958cc4910.png"></div><br><h2 style=";text-align:right;direction:rtl">  ููุญู ูููู ููุทู ุงูุฑูุจูุช </h2><br>  ุงูุชูู ุฅูู <em>RW / Scripts</em> ูุงูุชุญ ุงูุจุฑูุงูุฌ ุงููุตู <em>Bot</em> ูู ูุญุฑุฑ ุงูููุฏ.  ูุง ุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ูุง ูุญุฏุซ ูู ุงูุจุฑูุงูุฌ ุงููุตู <em>ุจูุช</em> .  ููู ุฃููู ูุธุฑุฉ ุนูู ุทุฑููุชูู: <code>Move</code> and <code>Shoot</code> .  ูุฑุฉ ุฃุฎุฑู ุ ูุง ูุชุนูู ุนููู ูุนุฑูุฉ ูุง ูุฌุฑู ุฏุงุฎู ูุฐู ุงูุทุฑู ุ ูููู ุนููู ุฃู ุชููู ููููุฉ ุงุณุชุฎุฏุงููุง. <br><br>  ูุงุญุธ ุฃู ุงูุฃุณููุจ <code>Move</code> ูุชููู ูุนููุฉ ุฅุฏุฎุงู <code>CardinalDirection</code> .  <code>CardinalDirection</code> ูู ุชุนุฏุงุฏ.  ูููู ุฃู ูููู ุนูุตุฑ ุงูุชุนุฏุงุฏ ูู ุงูููุน <code>CardinalDirection</code> <code>Up</code> ุฃู <code>Down</code> ุฃู <code>Left</code> ุฃู <code>Left</code> .  ุงุนุชูุงุฏูุง ุนูู <code>CardinalDirection</code> ุงููุญุฏุฏ <code>CardinalDirection</code> ูุชุญุฑู ุงูุฑูุจูุช ูุฑุจุนูุง ูุงุญุฏูุง ุนูู ุทูู ุงูุดุจูุฉ ูู ุงูุงุชุฌุงู ุงูููุงุจู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/02c/72e/8ca/02c72e8ca19f987e6e36774558242058.png"></div><br>  ุทุฑููุฉ <code>Shoot</code> ุชุฌุจุฑ ุงูุฑูุจูุช ุนูู ุฅุทูุงู ูุฐุงุฆู ุชุฏูุฑ <em>ุงูุฌุฏุฑุงู ุงูุตูุฑุงุก</em> ุ ูููููุง ุบูุฑ ูุฌุฏูุฉ ุถุฏ ุงูุฌุฏุฑุงู ุงูุฃุฎุฑู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b34/f18/2bb/b34f182bb9c0bb682606d0c5a1beb0fd.gif"></div><br>  ุฃุฎูุฑูุง ุ ุฃููู ูุธุฑุฉ ุนูู ุทุฑููุฉ <code>ResetToLastCheckpoint</code> ุ  ูููู ูุง ููุนูู ุ ุงูุธุฑ ุฅูู ุงููุชุงูุฉ.  ููุงู ููุงุท ูู ุงููุชุงูุฉ ุชุณูู <em>ููุทุฉ ุงูุชูุชูุด</em> .  ูุชูุฑูุฑ ุงููุชุงูุฉ ุ ูุญุชุงุฌ ุงูุฑูุจูุช ุฅูู ุงููุตูู ุฅูู ููุทุฉ ุงูุชุญูู <em>ุงูุฎุถุฑุงุก</em> . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e4c/d3b/fc9/e4cd3bfc9d59944e28d9a22206141888.png"></div><br>  ุนูุฏูุง ูุฎุทู ุงูุฑูุจูุช ูู ููุทุฉ ุชุญูู ุฌุฏูุฏุฉ ุ ูุตุจุญ <em>ุงูุฃุฎูุฑ</em> ุจุงููุณุจุฉ ูู.  <code>ResetToLastCheckpoint</code> ูุนูุฏ ุชุนููู <code>ResetToLastCheckpoint</code> ุ ููููู ุฅูู ููุทุฉ ุงูุชุญูู ุงูุฃุฎูุฑุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/829/617/95a/82961795afe53c9b45f1f8037896783c.gif"></div><br>  ุนูู ุงูุฑุบู ูู ุฃููุง ูุง ูุณุชุทูุน ุงุณุชุฎุฏุงู ูุฐู ุงูุทุฑู ุ ุฅูุง ุฃููุง ุณูุตูุญูุง ูุฑูุจูุง.  ููุจุฏุก ุ ุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ููุท ุชุตููู <em>ุงูุฃูุงูุฑ</em> . <br><br><h2 style=";text-align:right;direction:rtl">  ูุง ูู ููุท ุชุตููู ุงูููุงุฏุฉุ </h2><br>  ููุท ุงูููุงุฏุฉ ูู ูุงุญุฏ ูู 23 ููุทูุง ูู ุฃุดูุงู ุงูุชุตููู ุงูููุถุญุฉ ูู ูุชุงุจ " <i>ุฃููุงุท ุงูุชุตููู: ุนูุงุตุฑ ูู ุงูุจุฑูุฌูุงุช ุงูููุฌูุฉ ูููุงุฆูุงุช ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู" ุ ูุงูุชู</i> ูุชุจูุง ุนุตุงุจุฉ ุงูุฃุฑุจุนุฉ ูู ุฅุฑูู ุฌุงูุง ูุฑูุชุดุงุฑุฏ ูููู ูุฑุงูู ุฌููุณูู ูุฌูู ูููุณูุฏูุณ (GoF ุ ุนุตุงุจุฉ ุงูุฃุฑุจุนุฉ). <br><br>  ูุฐูุฑ ุงููุคูููู ุฃู "ููุท ุงูุฃูุงูุฑ ูุญุชูู ุนูู ุงูุทูุจ ููุงุฆู ุ ููุง ูุณูุญ ููุง ุจูุนููุฉ ูุงุฆูุงุช ุฃุฎุฑู ุจุทูุจุงุช ูุฎุชููุฉ ุ ูุทูุจุงุช ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุฃู ุณุฌู ุ ูุฏุนู ุนูููุงุช ุนูุณูุฉ." <br><br>  ูุฌุงุญ ุจุงูุฑ!  ููู ูุฐุงุ <br><br>  ุฃููู ุฃู ูุฐุง ุงูุชุนุฑูู ููุณ ุจุณูุทูุง ุฌุฏูุง ุ ูุฐูู ุฏุนููุง ูุญููู. <br><br>  <em>ุงูุชุบููู</em> ูุนูู ุฃูู ูููู ุชุบููู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ ููุงุฆู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/07d/5c3/214/07d5c32142de4fd36bd2cd73c543856a.png" width="50%" height="50%"></div><br>  ูููู ุฃู ุชุคุซุฑ ุงูุทุฑููุฉ ุงูููุบููุฉ ุนูู ุงูุนุฏูุฏ ูู ุงููุงุฆูุงุช ููููุง ููุนููุฉ ุงูุฅุฏุฎุงู.  ููุฐุง ูุง ูุณูู <em>ุชูุญูุฏ</em> ุงููุงุฆูุงุช ุงูุฃุฎุฑู. <br><br>  ูููู ุญูุธ "ุงูุฃูุฑ" ุงููุงุชุฌ ูุน ุงููุฑู ุงูุฃุฎุฑู ุญุชู ูุชู ุชูููุฐูุง.  ูุฐู ูู <em>ูุงุฆูุฉ ุงูุชุธุงุฑ</em> ุงูุทูุจ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/035/637/264/0356372640076e0829d2a427cf3552f1.png" width="50%" height="50%"></div><br>  <i>ูุงุฆูุฉ ุงูุชุธุงุฑ ุงููุฑูู</i> <br><br>  ุฃุฎูุฑูุง ุ ุชุนูู ุฅููุงููุฉ <em>ุงูุฑุฌูุน</em> ุฃู ุงูุนูููุงุช ูููู ุงูุชุฑุงุฌุน ุนููุง ุจุงุณุชุฎุฏุงู ูุธููุฉ ุงูุชุฑุงุฌุน. <br><br>  ุญุณููุง ุ ููู ููู ููุนูุณ ูุฐุง ูู ุงูููุฏุ <br><br>  ุณูููู ููุฆุฉ <em>ุงูุฃูุฑ</em> ุทุฑููุฉ <em>ุชูููุฐ</em> ุ ูุงูุชู ุชุณุชูุจู ููุนููุฉ ุฅุฏุฎุงู ุงููุงุฆู (ุงูุฐู ูุชู ุชูููุฐ ุงูุฃูุฑ ุจู) ูุณูู <em>ุงููุชููู</em> .  ููุฐุง ูู ุ ูู ุงููุงูุน ุ ูุชู <em>ุชุบููู</em> ุฃุณููุจ ุงูุชูููุฐ ุจูุงุณุทุฉ ูุฆุฉ ุงูุฃูุงูุฑ. <br><br>  ูููู ุชูุฑูุฑ ุงูุนุฏูุฏ ูู ูุซููุงุช ูุฆุฉ ุงูุฃูุงูุฑ ููุงุฆูุงุช ุนุงุฏูุฉ ุ ุฃู ุ ูููู ุชุฎุฒูููุง ูู ููุงูู ุงูุจูุงูุงุช ูุซู ูุงุฆูุฉ ุงูุชุธุงุฑ ุฃู ููุฏุณ ุ ุฅูุฎ. <br><br>  ูุชูููุฐ ุฃูุฑ ุ ูุฌุจ ุนููู ุงุณุชุฏุนุงุก ุฃุณููุจ ุงูุชูููุฐ.  ุชุณูู ุงููุฆุฉ ุงูุชู ุชุจุฏุฃ ุงูุชูููุฐ <em>Invoker</em> . <br><br>  ูุญุชูู ุงููุดุฑูุน ุญุงูููุง ุนูู ูุตู ูุงุฑุบ ูุณูู <code>BotCommand</code> .  ูู ุงููุณู ุงูุชุงูู ุ ุณูููุฐ ุชูููุฐ ูุง ูุฑุฏ ุฃุนูุงู ููุณูุงุญ ููุฑูุจูุช ุจุชูููุฐ ุฅุฌุฑุงุกุงุช ุจุงุณุชุฎุฏุงู ูุงูุจ ุงูุฃูุงูุฑ. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุญุฑูู ุงูุฑูุจูุช </h2><br><h3 style=";text-align:right;direction:rtl">  ุชูููุฐ ููุท ุงูููุงุฏุฉ </h3><br>  ูู ูุฐุง ุงููุณู ุ ูููุฐ ููุท ุงูููุงุฏุฉ.  ููุงู ุงูุนุฏูุฏ ูู ุงูุทุฑู ูุชูููุฐู.  ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุณูู ูุบุทู ูุงุญุฏ ูููู. <br><br>  ููุจุฏุก ุ ุงูุชูู ุฅูู <em>RW / Scripts</em> ูุงูุชุญ ุงูุจุฑูุงูุฌ ุงููุตู <em>BotCommand</em> ูู ุงููุญุฑุฑ.  ูุฆุฉ <code>BotCommand</code> ูุง ุชุฒุงู ูุงุฑุบุฉ ุ ูููู ููุณ ููุชุฑุฉ ุทูููุฉ. <br><br>  ุฃุฏุฎู ุงูููุฏ ุงูุชุงูู ูู ุงููุตู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-comment"><span class="hljs-comment">//1 private readonly string commandName; //2 public BotCommand(ExecuteCallback executeMethod, string name) { Execute = executeMethod; commandName = name; } //3 public delegate void ExecuteCallback(Bot bot); //4 public ExecuteCallback Execute { get; private set; } //5 public override string ToString() { return commandName; }</span></span></code> </pre> <br>  ูุง ุงูุฐู ูุญุฏุซ ููุงุ <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>commandName</code> ุงุณุชุฎุฏุงู ูุชุบูุฑ <code>commandName</code> ุจุจุณุงุทุฉ ูุชุฎุฒูู ุงุณู ุงูุฃูุฑ <code>commandName</code> ูููุฑุงุกุฉ ูู ูุจู ุงูุฅูุณุงู.  ููุณ ูู ุงูุถุฑูุฑู ุงุณุชุฎุฏุงูู ูู ุงููุงูุจ ุ ููููุง ุณูุญุชุงุฌู ูุงุญููุง ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู. </li><li style=";text-align:right;direction:rtl">  ูุชููู <code>BotCommand</code> ูุธููุฉ ูุณูุณูุฉ.  ุณูุณุงุนุฏูุง ุฐูู ูู ุฅุนุฏุงุฏ ุทุฑููุฉ <code>Execute</code> ููุงุฆู ุงูุฃูุงูุฑ <code>name</code> . </li><li style=";text-align:right;direction:rtl">  ูุนุฑูู ุงููููุถ <code>ExecuteCallback</code> ููุน ุงูุฃุณููุจ ุงููุบูู.  ุณุชูุฑุฌุน ุงูุทุฑููุฉ ุงูููุบููุฉ ูุฑุงุบูุง ูุชูุจู ููุนููุฉ ุฅุฏุฎุงู ูุงุฆููุง ูู ุงูููุน <code>Bot</code> (ุงููููู <em>Bot</em> ). </li><li style=";text-align:right;direction:rtl">  ุชุดูุฑ ุฎุงุตูุฉ <code>Execute</code> ุฅูู ุงูุทุฑููุฉ ุงููุบููุฉ.  ุณูู ูุณุชุฎุฏููุง ูุงุณุชุฏุนุงุก ุงูุทุฑููุฉ ุงููุบููุฉ. </li><li style=";text-align:right;direction:rtl">  ุชู ุชุฌุงูุฒ ุฃุณููุจ <code>ToString</code> ูุฅุฑุฌุงุน <code>commandName</code> ุงูุณูุณูุฉ.  ูุฐุง ููุงุณุจ ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุงุณุชุฎุฏุงู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู. </li></ol><br>  ุญูุธ ุงูุชุบููุฑุงุช ููุฐุง ูู ุดูุก!  ููุฏ ููุฐูุง ุจูุฌุงุญ ููุท ุงูููุงุฏุฉ. <br><br>  ูุจูู ูุงุณุชุฎุฏุงูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุจูุงุก ุงููุฑูู </h3><br>  ุงูุชุญ <em>BotInputHandler</em> ูู ุงููุฌูุฏ <em>RW / Scripts</em> . <br><br>  ููุง ุณูููู ุจุฅูุดุงุก ุฎูุณ ุญุงูุงุช ูู <code>BotCommand</code> .  ุณุชููู ูุฐู ุงูุญุงูุงุช ุจุชุบููู ุทุฑู ูุชุญุฑูู GameObject Bot ูุฃุนูู ููุฃุณูู ููููุณุงุฑ ููููููู ุ ููุฐูู ููุชุตููุฑ. <br><br>  ูุชูููุฐ ุฐูู ุ ุฃุฏุฎู ูุง ููู ูู ูุฐู ุงููุฆุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-comment"><span class="hljs-comment">//1 private static readonly BotCommand MoveUp = new BotCommand(delegate (Bot bot) { bot.Move(CardinalDirection.Up); }, "moveUp"); //2 private static readonly BotCommand MoveDown = new BotCommand(delegate (Bot bot) { bot.Move(CardinalDirection.Down); }, "moveDown"); //3 private static readonly BotCommand MoveLeft = new BotCommand(delegate (Bot bot) { bot.Move(CardinalDirection.Left); }, "moveLeft"); //4 private static readonly BotCommand MoveRight = new BotCommand(delegate (Bot bot) { bot.Move(CardinalDirection.Right); }, "moveRight"); //5 private static readonly BotCommand Shoot = new BotCommand(delegate (Bot bot) { bot.Shoot(); }, "shoot");</span></span></code> </pre> <br>  ูู ูู ุญุงูุฉ ูู ูุฐู ุงูุญุงูุงุช ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener">ูุชู</a> ุชูุฑูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener">ุทุฑููุฉ ูุฌูููุฉ ุงููุตุฏุฑ</a> ุฅูู ุงููููุดุฆ.  ุณูุชู ุชุบููู ูุฐู ุงูุทุฑููุฉ ุงููุฌูููุฉ ุฏุงุฎู ูุงุฆู ุงูุฃูุฑ ุงูููุงุจู.  ููุง ุชุฑูู ุ ููู ุชูููุน ูู ูู ุงูุฃุณุงููุจ ุงููุฌูููุฉ ุจุงููุชุทูุจุงุช ุงููุญุฏุฏุฉ ูู ูุจู ุงููููุถ <code>ExecuteCallback</code> . <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุงููุนููุฉ ุงูุซุงููุฉ ุฅูู ุงููููุดุฆ ุนุจุงุฑุฉ ุนู ุณูุณูุฉ ุชุดูุฑ ุฅูู ุงุณู ุงูุฃูุฑ.  ุณูุชู ุฅุฑุฌุงุน ูุฐุง ุงูุงุณู ุจูุงุณุทุฉ ุฃุณููุจ <code>ToString</code> ููุซูู ุงูุฃูุฑ.  ูู ููุช ูุงุญู ุณูู ูุทุจููุง ุนูู ูุงุฌูุฉ ุงููุณุชุฎุฏู. <br><br>  ูู ุงูุญุงูุงุช ุงูุฃุฑุจุน ุงูุฃููู ุ ุชุณุชุฏุนู ุงูุฃุณุงููุจ ุงููุฌูููุฉ ุงูุฃุณููุจ <code>Move</code> ุนูู ูุงุฆู <code>bot</code> .  ููุน ุฐูู ุ ูุนููุงุช ุงูุฅุฏุฎุงู ุงูุฎุงุตุฉ ุจูู ูุฎุชููุฉ. <br><br>  ุชูุฑ <code>MoveRight</code> ู <code>MoveLeft</code> ู <code>MoveLeft</code> ู <code>MoveRight</code> <code>Move</code> ุงููุนููุงุช <code>CardinalDirection.Up</code> ู <code>CardinalDirection.Down</code> ู <code>CardinalDirection.Left</code> ู <code>CardinalDirection.Right</code> .  ููุง ูู ูุฐููุฑ ูู ูุณู <i>What is Pattern Design Pattern</i> ุ ูุฅููู ูุดูุฑูู ุฅูู ุงุชุฌุงูุงุช ูุฎุชููุฉ ูุชุญุฑู GameObject Bot. <br><br>  ูู ุงููุซูู ุงูุฎุงูุณ ุ ูุณุชุฏุนู ุงูุฃุณููุจ ุงููุฌููู ุฃุณููุจ <code>Shoot</code> ูููุงุฆู <code>bot</code> .  ุจูุถู ูุฐุง ุ ุณูููู ุงูุฑูุจูุช ุจุฅุทูุงู ูุฐููุฉ ุฃุซูุงุก ุชูููุฐ ุงูุฃูุฑ. <br><br>  ุงูุขู ููุฏ ุฃูุดุฃูุง ุงูุฃูุงูุฑ ุ ูุญุชุงุฌ ุฅูู ุงููุตูู ุฅูููุง ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุนูุฏูุง ูููู ุงููุณุชุฎุฏู ุจุฅุฏุฎุงู ูุฏุฎูุงุช. <br><br>  ููููุงู ุจุฐูู ุ <code>BotInputHandler</code> ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ูู <code>BotInputHandler</code> ุ ูุจุงุดุฑุฉ ุจุนุฏ ูุซููุงุช ุงูุฃูุงูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> BotCommand </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleInput</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKeyDown(KeyCode.W)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MoveUp; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKeyDown(KeyCode.S)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MoveDown; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKeyDown(KeyCode.D)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MoveRight; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKeyDown(KeyCode.A)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MoveLeft; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKeyDown(KeyCode.F)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Shoot; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }</code> </pre> <br>  ุฅุฑุฌุงุน ุงูุฃุณููุจ <code>HandleInput</code> ูุซูู ูุงุญุฏ ูู ุงูุฃูุฑ ุงุนุชูุงุฏุงู ุนูู ุงูููุชุงุญ ุถุบุท ูู ูุจู ุงููุณุชุฎุฏู.  ุงุญูุธ ุงูุชุบููุฑุงุช ูุจู ุงูุงูุชูุงู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุทุจูู ุงูุฃูุงูุฑ </h3><br>  ุฑุงุฆุน ุ ุงูุขู ุญุงู ุงูููุช ูุงุณุชุฎุฏุงู ุงููุฑู ุงูุชู ุฃูุดุฃูุงูุง.  ุงูุชูู ุฅูู <em>RW / Scripts</em> ูุฑุฉ ุฃุฎุฑู ูุงูุชุญ ุงูุจุฑูุงูุฌ ุงููุตู <em>SceneManager</em> ูู ุงููุญุฑุฑ.  ูู ูุฐู ุงููุฆุฉ ุ ุณุชูุงุญุธ ูุฌูุฏ ุงุฑุชุจุงุท ููุชุบูุฑ <code>uiManager</code> ูู ุงูููุน <code>UIManager</code> . <br><br>  ุชููุฑ ูุฆุฉ <code>UIManager</code> ุทุฑู ูุณุงุนุฏุฉ ูููุฏุฉ <em>ููุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุทุฑููุฉ</em> ุงูุชู ูุณุชุฎุฏููุง ูู ูุฐุง ุงููุดูุฏ.  ุฅุฐุง ุชู ุงุณุชุฎุฏุงู ุงูุทุฑููุฉ ูู <code>UIManager</code> ุ ูุณูู ููุถุญ ุงูุจุฑูุงูุฌ ุงูุชุนูููู ูุง ุงูุฐู ุชูุนูู ุ ูููู ุจุดูู ุนุงู ูุฃุบุฑุงุถูุง ุ ููุณ ูู ุงูุถุฑูุฑู ูุนุฑูุฉ ุจููุชู ุงูุฏุงุฎููุฉ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุดูุฑ ูุชุบูุฑ <code>bot</code> ุฅูู ูููู bot ุงููุฑูู ุจู GameObject <em>Bot</em> . <br><br>  ุฃุถู ุงูุขู ุงูููุฏ ุงูุชุงูู ุฅูู ูุฆุฉ <code>SceneManager</code> ุ ูุงุณุชุจุฏูู ุจุงูุชุนููู <code>//1</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-comment"><span class="hljs-comment">//1 private List&lt;BotCommand&gt; botCommands = new List&lt;BotCommand&gt;(); private Coroutine executeRoutine; //2 private void Update() { if (Input.GetKeyDown(KeyCode.Return)) { ExecuteCommands(); } else { CheckForBotCommands(); } } //3 private void CheckForBotCommands() { var botCommand = BotInputHandler.HandleInput(); if (botCommand != null &amp;&amp; executeRoutine == null) { AddToCommands(botCommand); } } //4 private void AddToCommands(BotCommand botCommand) { botCommands.Add(botCommand); //5 uiManager.InsertNewText(botCommand.ToString()); } //6 private void ExecuteCommands() { if (executeRoutine != null) { return; } executeRoutine = StartCoroutine(ExecuteCommandsRoutine()); } private IEnumerator ExecuteCommandsRoutine() { Debug.Log("Executing..."); //7 uiManager.ResetScrollToTop(); //8 for (int i = 0, count = botCommands.Count; i &lt; count; i++) { var command = botCommands[i]; command.Execute(bot); //9 uiManager.RemoveFirstTextLine(); yield return new WaitForSeconds(CommandPauseTime); } //10 botCommands.Clear(); bot.ResetToLastCheckpoint(); executeRoutine = null; }</span></span></code> </pre> <br>  ูุงู ุ ูู ุฑูุฒ!  ููู ูุง ุชููู ุ  ูุญู ุฌุงูุฒูู ุฃุฎูุฑูุง ููุฅุทูุงู ุงูุญูููู ุงูุฃูู ูููุดุฑูุน ูู ูุงูุฐุฉ ุงููุนุจุฉ. <br><br>  ุณุงูุถุญ ุงูุดููุฑุฉ ูุงุญูุง.  ุชุฐูุฑ ุฃู ุชุญูุธ ุงูุชุบููุฑุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุดุบูู ุงููุนุจุฉ ูุงุฎุชุจุงุฑ ูุงูุจ ุงูุฃูุงูุฑ </h3><br>  ุงูุขู ุญุงู ุงูููุช ููุจูุงุก.  ุงููุฑ ููู <em>ุชุดุบูู</em> ูู ูุญุฑุฑ ุงููุญุฏุฉ. <br><br>  ูุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุฅุฏุฎุงู ุฃูุงูุฑ ุงูููู ุจุงุณุชุฎุฏุงู <em>ููุงุชูุญ WASD</em> .  ูุฅุฏุฎุงู ุฃูุฑ ุฅุทูุงู ุงููุงุฑ ุ ุงุถุบุท ุนูู ุงูููุชุงุญ <em>F.</em>  ูุชูููุฐ ุงูุฃูุงูุฑ ุ ุงุถุบุท ุนูู <em>Enter</em> . <br><br><blockquote style=";text-align:right;direction:rtl">  <em>ููุงุญุธุฉ</em> : ุฅูู ุฃู ุชูุชูู ุนูููุฉ ุงูุชูููุฐ ุ ูุง ูููู ุฅุฏุฎุงู ุฃูุงูุฑ ุฌุฏูุฏุฉ. </blockquote><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/20b/ef8/483/20bef8483dd70829836bd9234178f5dd.gif"></div><br>  ูุงุญุธ ุฃูู ูุชู ุฅุถุงูุฉ ุฎุทูุท ุฅูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุทุฑููุฉ.  ูุดุงุฑ ุฅูู ุงููุฑู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุฃุณูุงุฆูุง.  ุชู ุฅุฌุฑุงุก ุฐูู ุจูุถู ูุชุบูุฑ <code>commandName</code> . <br><br>  ูุงุญุธ ุฃูุถูุง ููู ูุชู ุชูุฑูุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุฃุนูู ูุจู ุงูุชูููุฐ ูููู ูุชู ุญุฐู ุงูุฎุทูุท ุฃุซูุงุก ุงูุชูููุฐ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุญู ูุฏุฑุณ ุงููุฑู ุนู ูุซุจ </h3><br>  ุญุงู ุงูููุช ูุชุนูู ุงูููุฏ ุงูุฐู ุฃุถููุงู ูู ูุณู "ุชุทุจูู ุงูุฃูุงูุฑ": <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชููู ูุงุฆูุฉ <code>botCommands</code> ุจุชุฎุฒูู ุงูุฑูุงุจุท ุฅูู ูุซููุงุช <code>BotCommand</code> .  ุชุฐูุฑ ุฃูู ูุญูุธ ุงูุฐุงูุฑุฉ ุ ูููููุง ููุท ุฅูุดุงุก ุฎูุณ ุญุงูุงุช ูู ุงูุฃูุงูุฑ ุ ูููู ูุฏ ุชููู ููุงู ุนุฏุฉ ุฅุดุงุฑุงุช ุฅูู ุฃูุฑ ูุงุญุฏ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุดูุฑ ูุชุบูุฑ <code>executeCoroutine</code> ุฅูู <code>ExecuteCommandsRoutine</code> ุ ูุงูุฐู ูุชุญูู ูู ุชูููุฐ ุงูุฃูุฑ. </li><li style=";text-align:right;direction:rtl">  <code>Update</code> ูุชุญูู ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุฏ ุถุบุท ุนูู ููุชุงุญ Enter ุ  ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ูุฅูู ูุณุชุฏุนู <code>ExecuteCommands</code> ุ ูุฅูุง <code>CheckForBotCommands</code> . </li><li style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู <code>HandleInput</code> ุฃุณููุจ <code>HandleInput</code> ุงูุซุงุจุช ูู <code>BotInputHandler</code> ููุชุญูู ููุง ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุฏ ุฃููู ุงูุฅุฏุฎุงู ุ ูุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ <code>BotInputHandler</code> <em>ุฅุฑุฌุงุน</em> ุงูุฃูุฑ.  ูุชู ุชูุฑูุฑ ุงูุฃูุฑ ุงูุฐู ุชู <code>AddToCommands</code> ุฅูู <code>AddToCommands</code> .  ููุน ุฐูู ุ ุฅุฐุง ุชู ุชูููุฐ ุงูุฃูุงูุฑ ุ ุฃู  ุฅุฐุง ูู ููู <code>executeRoutine</code> ุฎุงูููุง ุ ูุณูู ูุนูุฏ ุจุฏูู ุชูุฑูุฑ ุฃู ุดูุก ุฅูู <code>AddToCommands</code> .  ููุฐุง ูู ุ ูุญุชุงุฌ ุงููุณุชุฎุฏู ุฅูู ุงูุงูุชุธุงุฑ ุญุชู ุงูุงูุชูุงุก. </li><li style=";text-align:right;direction:rtl">  ูุถูู <code>AddToCommands</code> ุงุฑุชุจุงุทูุง ุฌุฏูุฏูุง ุฅูู ุงููุซูู ุงูุฐู ุชู <em>ุฅุฑุฌุงุนู</em> ูู ุงูุฃูุฑ ูู <code>botCommands</code> . </li><li style=";text-align:right;direction:rtl">  <code>InsertNewText</code> ุงูุฃุณููุจ <code>InsertNewText</code> ูููุฆุฉ <code>InsertNewText</code> ุฌุฏูุฏูุง ูู ุงููุต ุฅูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุทุฑููุฉ.  ุงูุณูุณูุฉ ุงููุตูุฉ ุนุจุงุฑุฉ ุนู ุณูุณูุฉ ูุชู ุชูุฑูุฑูุง ููุนููุฉ ุฅุฏุฎุงู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุจุชูุฑูุฑ commandName <code>commandName</code> . </li><li style=";text-align:right;direction:rtl">  ุชููู ุทุฑููุฉ <code>ExecuteCommandsRoutine</code> ุจุชุดุบูู <code>ExecuteCommandsRoutine</code> . </li><li style=";text-align:right;direction:rtl">  <code>ResetScrollToTop</code> ูู <code>ResetScrollToTop</code> ูููู <code>UIManager</code> ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุฃุนูู.  ูุชู ุฐูู ูุจู ุจุฏุก ุงูุชูููุฐ ูุจุงุดุฑุฉ. </li><li style=";text-align:right;direction:rtl">  ูุญุชูู <code>ExecuteCommandsRoutine</code> ุนูู ุญููุฉ ููุชูุฑุงุฑ ุนุจุฑ ุงูุฃูุงูุฑ ุงูููุฌูุฏุฉ ูู ูุงุฆูุฉ <code>botCommands</code> ูุชูููุฐูุง ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู ุ ูุชูุฑูุฑ ูุงุฆู <code>bot</code> ุฅูู ุงูุทุฑููุฉ ุงูุชู ูุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ ุฎุงุตูุฉ <code>Execute</code> .  ุจุนุฏ ูู ุชูููุฐ ุ ุชุชู ุฅุถุงูุฉ ุชููู ูุคูุช ูู ุซูุงู <code>CommandPauseTime</code> . </li><li style=";text-align:right;direction:rtl">  ุญุฐู ุฃุณููุจ <code>RemoveFirstTextLine</code> ูู <code>UIManager</code> ุงูุณุทุฑ ุงูุฃูู ูู ุงููุต ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุทุฑููุฉ ุ ุฅุฐุง ูุงู ููุฌูุฏูุง.  ููุฐุง ูู ุ ุนูุฏ ุชูููุฐ ุฃูุฑ ุ ุชุชู ุฅุฒุงูุฉ ุงุณูู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู. </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุงูุชูุงุก ูู ุฌููุน ุงูุฃูุงูุฑ <code>botCommands</code> ูุชู ูุณุญ <code>botCommands</code> ูุฅุนุงุฏุฉ ุถุจุท bot ุฅูู ุขุฎุฑ ููุทุฉ ุชููู ุจุงุณุชุฎุฏุงู <code>ResetToLastCheckpoint</code> .  ูู ุงูููุงูุฉ ุ <code>executeRoutine</code> <code>null</code> ููููู ูููุณุชุฎุฏู ูุชุงุจุนุฉ ุฅุฏุฎุงู ุงูุฃูุงูุฑ. </li></ol><br><h2 style=";text-align:right;direction:rtl">  ุชุทุจูู ููุฒุงุช ุงูุชุฑุงุฌุน ูุงูุฅุนุงุฏุฉ </h2><br>  ูู ุจุชุดุบูู ุงููุดูุฏ ูุฑุฉ ุฃุฎุฑู ูุญุงูู ุงููุตูู ุฅูู ููุทุฉ ุงูุชุญูู ุงูุฎุถุฑุงุก. <br><br>  ุณุชูุงุญุธ ุฃูู ุจูููุง ูุง ูููููุง ุฅูุบุงุก ุงูุฃูุฑ ุงูุฐู ุชู ุฅุฏุฎุงูู.  ูุฐุง ูุนูู ุฃูู ุฅุฐุง ุงุฑุชูุจุช ุฎุทุฃ ุ ููู ุชุชููู ูู ุงูุนูุฏุฉ ุญุชู ุชููู ุฌููุน ุงูุฃูุงูุฑ ุงูุชู ุชุฏุฎููุง.  ููููู ุฅุตูุงุญ ุฐูู ุนู ุทุฑูู ุฅุถุงูุฉ ููุฒุงุช <em>ุงูุชุฑุงุฌุน</em> <em>ูุงูุฅุนุงุฏุฉ</em> . <br><br>  ุงุฑุฌุน ุฅูู <em>SceneManager.cs</em> ูุฃุถู ุฅุนูุงู ุงููุชุบูุฑ ุงูุชุงูู ูุจุงุดุฑุฉ ุจุนุฏ ุฅุนูุงู <i>List</i> for <code>botCommands</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Stack&lt;BotCommand&gt; undoStack = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Stack&lt;BotCommand&gt;();</code> </pre> <br>  ูุชุบูุฑ <code>undoStack</code> ุนุจุงุฑุฉ ุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener">ููุฏุณ</a> (ูู ุนุงุฆูุฉ ุงููุฌููุนุงุช) ูููู ุจุชุฎุฒูู ุฌููุน ุงููุฑุงุฌุน ููุฃูุงูุฑ ุงูุชู ูููู ุงูุชุฑุงุฌุน ุนููุง. <br><br>  ุงูุขู ูุถูู ุทุฑููุชูู <code>UndoCommandEntry</code> ู <code>RedoCommandEntry</code> ุงูุชู ุณุชููุฐ ุงูุชุฑุงุฌุน <code>RedoCommandEntry</code> .  ูู ูุฆุฉ <code>SceneManager</code> ุ <code>SceneManager</code> ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ุจุนุฏ <code>ExecuteCommandsRoutine</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UndoCommandEntry</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//1 if (executeRoutine != null || botCommands.Count == 0) { return; } undoStack.Push(botCommands[botCommands.Count - 1]); botCommands.RemoveAt(botCommands.Count - 1); //2 uiManager.RemoveLastTextLine(); } private void RedoCommandEntry() { //3 if (undoStack.Count == 0) { return; } var botCommand = undoStack.Pop(); AddToCommands(botCommand); }</span></span></code> </pre> <br>  ุฏุนูุง ูุญูู ุงูููุฏ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุชูููุฐ ุงูุฃูุงูุฑ ุฃู ูุงูุช ูุงุฆูุฉ <code>botCommands</code> ูุงุฑุบุฉ ุ ูุฅู ุทุฑููุฉ <code>UndoCommandEntry</code> ุดูุฆูุง.  ูุฅูุง ุ ูุฅูู ููุชุจ ุงุฑุชุจุงุทูุง ููุฃูุฑ ุงูุฃุฎูุฑ ุงูุฐู ุชู ุฅุฏุฎุงูู ุนูู ููุฏุณ <code>undoStack</code> .  ูุคุฏู ุฐูู ุฃูุถูุง ุฅูู ุฅุฒุงูุฉ ุงูุฑุงุจุท ููุฃูุฑ ูู ูุงุฆูุฉ <code>botCommands</code> . </li><li style=";text-align:right;direction:rtl">  ุชููู ุทุฑููุฉ <code>RemoveLastTextLine</code> ูู <code>UIManager</code> ุจุฅุฒุงูุฉ ุงูุณุทุฑ ุงูุฃุฎูุฑ ูู ุงููุต ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุทุฑููุฉ ุจุญูุซ ุชุทุงุจู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุญุชููุงุช <code>botCommands</code> . </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ููุฏุณ <code>undoStack</code> ูุงุฑุบุฉ ุ ูุฅู <code>RedoCommandEntry</code> ูุง ุชูุนู ุดูุฆูุง.  ุฎูุงู ุฐูู ุ ูุฅูู ูุณุชุฎุฑุฌ ุงูุฃูุฑ ุงูุฃุฎูุฑ ูู ุงูุฌุฒุก ุงูุนููู ูู <code>undoStack</code> ูุฑุฉ ุฃุฎุฑู ุฅูู ูุงุฆูุฉ <code>AddToCommands</code> ุจุงุณุชุฎุฏุงู <code>AddToCommands</code> . </li></ol><br>  ุณูุถูู ุงูุขู ุฅุฏุฎุงู ููุญุฉ ุงูููุงุชูุญ ูุงุณุชุฎุฏุงู ูุฐู ุงููุธุงุฆู.  ุฏุงุฎู ูุฆุฉ <code>SceneManager</code> ูุต ุฃุณููุจ <code>Update</code> ุจุงูููุฏ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKeyDown(KeyCode.Return)) { ExecuteCommands(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKeyDown(KeyCode.U)) <span class="hljs-comment"><span class="hljs-comment">//1 { UndoCommandEntry(); } else if (Input.GetKeyDown(KeyCode.R)) //2 { RedoCommandEntry(); } else { CheckForBotCommands(); }</span></span></code> </pre> <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุถุบุท ุงูููุชุงุญ <em>U</em> ุ ูุชู <code>UndoCommandEntry</code> ุงูุฃุณููุจ <code>UndoCommandEntry</code> . </li><li style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุถุบุท ุงูููุชุงุญ <em>R</em> ุ ูุชู <code>RedoCommandEntry</code> ุงูุฃุณููุจ <code>RedoCommandEntry</code> . </li></ol><br><h3 style=";text-align:right;direction:rtl">  ุญุงูุฉ ุงูุชุนุงูู ูุน ุงููุถูุฉ </h3><br>  ุนุธูู ุ ููุฏ ุงูุชูููุง ุชูุฑูุจุง!  ููู ุฃููุงู ุ ูุญุชุงุฌ ุฅูู ุงูููุงู ุจูุง ููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนูุฏ ุฅุฏุฎุงู ุฃูุฑ ุฌุฏูุฏ ุ ูุฌุจ ูุญู ููุฏุณ <code>undoStack</code> . </li><li style=";text-align:right;direction:rtl">  ูุจู ุชูููุฐ ุงูุฃูุงูุฑ ุ ูุฌุจ ูุญู ููุฏุณ <code>undoStack</code> . </li></ol><br>  ูุชูููุฐ ุฐูู ุ ูุญุชุงุฌ ุฃููุงู ุฅูู ุฅุถุงูุฉ ุทุฑููุฉ ุฌุฏูุฏุฉ ุฅูู <code>SceneManager</code> .  ุฃุฏุฎู ุงูุทุฑููุฉ ุงูุชุงููุฉ ุจุนุฏ <code>CheckForBotCommands</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddNewCommand</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BotCommand botCommand</span></span></span><span class="hljs-function">)</span></span> { undoStack.Clear(); AddToCommands(botCommand); }</code> </pre> <br>  ูุฐุง ุงูุฃุณููุจ ูุณุญ <code>undoStack</code> ุซู ุซู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>AddToCommands</code> . <br><br>  <code>AddToCommands</code> ุงูุขู ุงูููุงููุฉ ุฅูู <code>AddToCommands</code> ุฏุงุฎู <code>CheckForBotCommands</code> ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> AddNewCommand(botCommand);</code> </pre> <br>  ุซู ุฃุฏุฎู ุงูุณุทุฑ ุงูุชุงูู ุจุนุฏ <code>if</code> ุฏุงุฎู ุทุฑููุฉ <code>ExecuteCommands</code> ููุณุญูุง ูุจู ุชูููุฐ ุฃูุงูุฑ <code>undoStack</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> undoStack.Clear();</code> </pre> <br>  ูุงูุชูููุง ูู ุงูููุงูุฉ! <br><br>  ุงุญูุธ ุนููู  ูู ุจุจูุงุก ุงููุดุฑูุน ูุงููุฑ ููู ูุญุฑุฑ <em>Play</em> .  ุฃุฏุฎู ุงูุฃูุงูุฑ ููุง ูุงู ูู ูุจู.  ุงุถุบุท <em>U</em> ูุฅูุบุงุก ุงูุฃูุงูุฑ.  ุงุถุบุท <em>R</em> ูุชูุฑุงุฑ ุงูุฃูุงูุฑ ุงูููุบุงุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/fef/cfb/edf/fefcfbedf0b2e0711f2e831b0d069ebf.gif" width="1024" height="576"></div><br>  ุญุงูู ุงููุตูู ุฅูู ููุทุฉ ุงูุชูุชูุด ุงูุฎุถุฑุงุก. <br><br><h2 style=";text-align:right;direction:rtl">  ุฅูู ุฃูู ุชุฐูุจ ุจุนุฏ ุฐููุ </h2><br>  ููุนุฑูุฉ ุงููุฒูุฏ ุญูู ุฃููุงุท ุงูุชุตููู ุงููุณุชุฎุฏูุฉ ูู ุจุฑูุฌุฉ ุงูุฃูุนุงุจ ุ ุฃูุตู ุจุฃู ุชุฏุฑุณ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener">ุฃููุงุท ุจุฑูุฌุฉ ุฃูุนุงุจ</a> Robert Nystrom. <br><br>  ููุนุฑูุฉ ุงููุฒูุฏ ุญูู ุชูููุงุช C # ุงููุชูุฏูุฉ ุ ุฎุฐ ุฏูุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener">C # Collections ู Lambdas ู LINQ</a> . <br><br><h3 style=";text-align:right;direction:rtl">  ูููุฉ </h3><br>  ููููุฉ ุ ุญุงูู ุงููุตูู ุฅูู ููุทุฉ ุงูุชุญูู ุงูุฎุถุฑุงุก ูู ููุงูุฉ ุงููุชุงูุฉ.  ุงุฎุชุจุฃุช ูุงุญุฏุฉ ูู ุงูุญููู ุชุญุช ุงูููุณุฏ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุฑุงุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  moveUp ร 2 </li><li style=";text-align:right;direction:rtl">  moveRight ร 3 </li><li style=";text-align:right;direction:rtl">  moveUp ร 2 </li><li style=";text-align:right;direction:rtl">  moveLeft </li><li style=";text-align:right;direction:rtl">  ุชุจุงุฏู ูุงุทูุงู ุงููุงุฑ </li><li style=";text-align:right;direction:rtl">  moveLeft ร 2 </li><li style=";text-align:right;direction:rtl">  moveUp ร 2 </li><li style=";text-align:right;direction:rtl">  moveLeft ร 2 </li><li style=";text-align:right;direction:rtl">  moveDown ร 5 </li><li style=";text-align:right;direction:rtl">  moveLeft </li><li style=";text-align:right;direction:rtl">  ุชุจุงุฏู ูุงุทูุงู ุงููุงุฑ </li><li style=";text-align:right;direction:rtl">  moveLeft </li><li style=";text-align:right;direction:rtl">  moveUp ร 3 </li><li style=";text-align:right;direction:rtl">  ุชุจุงุฏู ูุงุทูุงู ุงููุงุฑ ร 2 </li><li style=";text-align:right;direction:rtl">  moveUp ร 5 </li><li style=";text-align:right;direction:rtl">  moveRight ร 3 </li></ul><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/dab/f9e/05f/dabf9e05f3cb79ab20a6a663108295fe.png"></div></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar463953/">https://habr.com/ru/post/ar463953/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar463933/index.html">ูุต ุจูุซูู ูููู ูู 20 ุณุทุฑูุง ูุชููู ุงูุฃูู ุตุจุงุญ ุงูุฎูุฑ ูู ููู ูู ุฎูุงู WhatsApp</a></li>
<li><a href="../ar463937/index.html">ููุณ ูุฏู ูุง ุฃุฎููู</a></li>
<li><a href="../ar463939/index.html">ุฃุตุฏุฑุช SimbirSoft ุญูุงู ูููุงุชู ุงููุญููู ูุดุฑูุงุช ุงูุชุฃููู</a></li>
<li><a href="../ar463943/index.html">ูุบุงูุฑุงุช ููููููุฑู ุงูุณูุฏุงุก</a></li>
<li><a href="../ar463951/index.html">c.tech: ูุงุณุงูุฏุฑุง ููุชูุจ # 2</a></li>
<li><a href="../ar463955/index.html">ููููุฉ ุชุทููุฑ ููููู ูุชุบููุฑ ููุตุฉ IPุ ุชุนูููุงุช ููุงุณุชุฎุฏุงู</a></li>
<li><a href="../ar463957/index.html">ููููุฉ ูุดุฑ ูุงุฆูุฉ ููุงุจูุฉ ูุฑุชุจุทุฉ ูููุฑุฏุฉ</a></li>
<li><a href="../ar463961/index.html">ูุฎุทุท ูุนูู ุฃู ุงููููู ุนู ExpressionTrees</a></li>
<li><a href="../ar463963/index.html">ุงูุชุนุฑู ุนูู ุงููุฌูู ูู ูููุน ุงูุจูุงุก</a></li>
<li><a href="../ar463965/index.html">ุชุทุจูู Typeset ูู LaTeX</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>