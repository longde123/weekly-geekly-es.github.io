<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧠 🈹 👈🏿 LLTR Parte 0: Detecção automática de topologia de rede e comutadores não gerenciados. Missão impossível? 🤳🏾 👨🏽‍🏭 🚗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como criar uma topologia de rede na camada de enlace de dados, se apenas switches não gerenciados forem usados ​​na sub-rede desejada? No artigo, tent...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>LLTR Parte 0: Detecção automática de topologia de rede e comutadores não gerenciados. Missão impossível?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414799/"><a name="LLTR_a0_habr-pic"></a><div style="text-align:center;"><img alt="KDPV: LLTR Part 0 - transporte pneumático de Futurama" height="360" src="https://habrastorage.org/webt/sg/ps/xg/sgpsxgveddr8r_mn1e7ppnkstmy.jpeg#futurama2.jpg"></div><p><br>  Como criar uma topologia de rede na camada de enlace de dados, se apenas switches não gerenciados forem usados ​​na sub-rede desejada?  No artigo, tentarei responder a essa pergunta. </p><p><br>  Começarei com a causa do <strong>LLTR</strong> ( <em>Link Layer Topology Reveal</em> ). </p><p><br>  Eu tinha uma “bicicleta” - um grande sincronizador de arquivos “na velocidade máxima da rede”, capaz de carregar completamente um arquivo de <nobr>120 GiB</nobr> pela Fast Ethernet ( <nobr>100 Mbps</nobr> ; 100BASE - TX; duplex) para 1, 10, 30 ou <nobr>3 horas</nobr> <nobr>&gt; 200 unid</nobr> .  Era uma "bicicleta" muito útil porque  a velocidade da sincronização de arquivos era quase independente do número de computadores nos quais o arquivo era carregado.  Tudo ficaria bem, mas requer <strong>conhecimento da topologia de rede</strong> para seu trabalho. </p><br><div class="spoiler">  <b class="spoiler_title">Mais no artigo sobre ele:</b> <div class="spoiler_text"><hr><p>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RingSync: sincronizando na velocidade máxima da rede</a> ." <br>  (consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PPPS</a> ) </p><hr></div></div><br><div class="spoiler">  <b class="spoiler_title">Ok, por que você precisava “dirigir” um arquivo de 120 GiB pela rede para uma quantidade tão grande de PC?</b> <div class="spoiler_text"><hr><p>  Este arquivo era <abbr title="Disco rígido virtual">VHD</abbr> com o sistema operacional, programas etc.  O arquivo foi criado no sistema mestre e distribuído para todos os outros PCs.  <abbr title="Disco rígido virtual">O VHD</abbr> não era apenas uma maneira de entregar o sistema aos PCs de destino, mas também possibilitava restaurar o estado inicial do sistema quando o PC era reiniciado.  Mais detalhes no artigo: “ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Congelamento do sistema: o histórico da transição do <abbr title="Filtro de gravação aprimorado">EWF</abbr> para o <abbr title="Disco rígido virtual diferencial">dVHD</abbr></a> ”. </p><hr></div></div><p><br>  Você pode continuar a cadeia ainda mais, mas com isso vou quebrar. </p><p><br>  Os protocolos existentes de descoberta de topologia da camada de enlace de dados ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Protocolo de descoberta de camada de link">LLDP</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Descoberta da topologia da camada de link">LLTD</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Protocolo de descoberta Cisco">CDP</a> , ...) requerem suporte adequado de todos os nós da rede intermediária para sua operação.  Ou seja, eles exigem pelo menos comutadores gerenciados que suportem o protocolo apropriado.  Já havia um artigo sobre Habré como usar esses protocolos para " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">determinar a topologia de rede nos níveis 2/3 do <abbr title="Interconexão de sistemas abertos">modelo OSI</abbr></a> ". </p><p><br>  Mas e se os nós intermediários forem simples switches não gerenciados? </p><p><br>  Se você estiver interessado em como isso pode ser feito, seja bem-vindo ao gato.  Prometo a disponibilidade de muitas ilustrações e exemplos. </p><p><br>  {tamanho da imagem: 924 KiB;  Texto: 69 KiB;  Emoticons: 9 unid.  } </p><a name="habracut"></a><br><a name="user-css"></a><div class="spoiler">  <b class="spoiler_title">Um pouco de UserCSS antes de ler</b> <div class="spoiler_text"><hr><p>  <b>Nota</b> : este spoiler foi originalmente colocado antes do kat. </p><p><br>  Certamente todos que queriam personalizar os estilos para si já o fizeram.  No entanto, aqui faz <strong>parte do</strong> meu UserCSS.  Principais mudanças: </p><br><ul><li>  o final do spoiler aberto é visível (útil quando o spoiler é grande e você não percebe imediatamente a diferença no recuo entre o texto principal e o texto no spoiler), mais precisamente, retornou o quadro e o plano de fundo anteriores do spoiler; </li><li>  o bloco de citações retornou à sua forma anterior (mostrei a várias pessoas que não entendiam o idioma russo e não leram as novas “citações amarelas” do Habré e disseram que eram inserções publicitárias contextuais ...); </li><li>  a fonte principal, seu tamanho e espaçamento entre linhas também retornaram (IMHO, com eles texto longo é mais fácil de ler); </li><li>  A classificação da publicação e o número de visualizações foram removidos, mas o número de marcadores foi adicionado. </li></ul><p><br>  Em geral, retornei (com pequenas modificações) a aparência familiar dos principais elementos do artigo.  Com esse design, um grande número de bons artigos já foi lido (lembranças agradáveis ​​aparecem). </p><br><pre><code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">charset</span></span> <span class="hljs-string"><span class="hljs-string">"utf-8"</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: Verdana,sans-serif <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.nav-links__item-link</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: Helvetica,Arial,sans-serif <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.comment__message</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.comment-form__preview</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>:Arial <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">13px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>:<span class="hljs-number"><span class="hljs-number">1.60</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__title-text</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__title_link</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: Tahoma,sans-serif <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>:<span class="hljs-number"><span class="hljs-number">118%</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__title-text</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">30px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__title_link</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">26px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/* .post__text-html p &gt; br:first-child, .post__text p+br { display:none !important; } .post__text p { margin-bottom: 0.9em; margin-top: 0.9em; } /* for test: https://habr.com/post/315186 :（ */</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">br</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>:normal <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/* or 1 ; https://habr.com/company/pt/blog/337450 */</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">img</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">-o-object-fit</span></span>:contain; <span class="hljs-attribute"><span class="hljs-attribute">object-fit</span></span>:scale-down; } <span class="hljs-comment"><span class="hljs-comment">/* https://stackoverflow.com/questions/787839/resize-image-proportionally-with-css and don't use "height:auto; width:auto;" (example: &lt;img src="img32x32_2x.png" width="16" height="16"&gt;)*/</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h1</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h2</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h3</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: Helvetica,Arial,sans-serif <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h2</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">1.5em</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h3</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">1.375em</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h4</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h5</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h6</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: Verdana,sans-serif <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">1.125em</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-weight</span></span>:bold <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h5</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#3D3D3D</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h6</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#5C5C5C</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">li</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>:inherit <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-left</span></span>:<span class="hljs-number"><span class="hljs-number">35px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ul</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ol</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-bottom</span></span>:<span class="hljs-number"><span class="hljs-number">9px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.spoiler</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.spoiler_title</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#6DA3BD</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:inherit <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-weight</span></span>:<span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.spoiler</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>:<span class="hljs-number"><span class="hljs-number">2px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.spoiler</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.spoiler_text</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#666</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-number"><span class="hljs-number">#F9F9F9</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">1px</span></span> solid <span class="hljs-number"><span class="hljs-number">#EEE</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.spoiler</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.spoiler_text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">hr</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:first-child</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.spoiler</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.spoiler_text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">hr</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:last-child</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>:none <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">code</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">13px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*background-color:#F8F8F8 !important;*/</span></span> <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">1px</span></span> solid <span class="hljs-number"><span class="hljs-number">#F2F2F2</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>:<span class="hljs-number"><span class="hljs-number">3px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.25em</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">white-space</span></span>:pre-wrap <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">strong</span></span> &gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">code</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-weight</span></span>: normal <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#F8F8F8</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">pre</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">code</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>:<span class="hljs-number"><span class="hljs-number">1.5</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>:<span class="hljs-number"><span class="hljs-number">#F8F8F8</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-color</span></span>:<span class="hljs-number"><span class="hljs-number">#DDD</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>:<span class="hljs-number"><span class="hljs-number">0.5em</span></span> <span class="hljs-number"><span class="hljs-number">1em</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">white-space</span></span>:pre <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">overflow-x</span></span>:auto <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-comment</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-quote</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#808080</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-style</span></span>:inherit <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-doctag</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-keyword</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-formula</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-section</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-name</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-selector-tag</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-deletion</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-subst</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#4d7386</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-literal</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#7296a3</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-string</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-regexp</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-addition</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-meta-string</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#390</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-built_in</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-class</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-title</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#968e5b</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-attr</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-attribute</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-variable</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-template-variable</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-type</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-selector-class</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-selector-attr</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-selector-pseudo</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-number</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#2f98ff</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-symbol</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-bullet</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-link</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-meta</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-selector-id</span></span>,<span class="hljs-selector-class"><span class="hljs-selector-class">.hljs-title</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#968e5b</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">kbd</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>:inline-block <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>:<span class="hljs-number"><span class="hljs-number">0.2em</span></span> <span class="hljs-number"><span class="hljs-number">0.5em</span></span> <span class="hljs-number"><span class="hljs-number">0.3em</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">vertical-align</span></span>:middle <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>:<span class="hljs-number"><span class="hljs-number">#FCFCFB</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">1px</span></span> solid <span class="hljs-number"><span class="hljs-number">#D9D9D9</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>:<span class="hljs-number"><span class="hljs-number">3px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-bottom-color</span></span>:<span class="hljs-number"><span class="hljs-number">#C6CBD1</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>:inset <span class="hljs-number"><span class="hljs-number">0px</span></span> -<span class="hljs-number"><span class="hljs-number">1px</span></span> <span class="hljs-number"><span class="hljs-number">0px</span></span> <span class="hljs-number"><span class="hljs-number">#C6CBD1</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font</span></span>:<span class="hljs-number"><span class="hljs-number">11px</span></span>/<span class="hljs-number"><span class="hljs-number">10px</span></span> Tahoma, sans-serif <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#575757</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-shadow</span></span>:<span class="hljs-number"><span class="hljs-number">0px</span></span> <span class="hljs-number"><span class="hljs-number">1px</span></span> <span class="hljs-number"><span class="hljs-number">0px</span></span> <span class="hljs-number"><span class="hljs-number">#FFF</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">blockquote</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.comment__message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">blockquote</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.comment-form__preview</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">blockquote</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:inherit <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-left</span></span>:<span class="hljs-number"><span class="hljs-number">0.25em</span></span> solid <span class="hljs-number"><span class="hljs-number">#DFE2E5</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#70767D</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1em</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.user_link</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>:inline-block <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding-left</span></span>:<span class="hljs-number"><span class="hljs-number">14px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#666</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font</span></span>:<span class="hljs-number"><span class="hljs-number">92.4%</span></span>/<span class="hljs-number"><span class="hljs-number">1.5em</span></span> Arial <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(<span class="hljs-string"><span class="hljs-string">"https://hsto.org/storage/habrastock/i/bg-user2.gif"</span></span>) <span class="hljs-number"><span class="hljs-number">0px</span></span> <span class="hljs-number"><span class="hljs-number">60%</span></span> no-repeat <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.post__text</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.user_link</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>:<span class="hljs-string"><span class="hljs-string">'@'</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:transparent <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>:absolute <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; }<span class="hljs-comment"><span class="hljs-comment">/*for copy-paste (for Opera Presto)*/</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.voting-wjt_post</span></span>&gt;<span class="hljs-selector-class"><span class="hljs-selector-class">.voting-wjt__counter</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.post-stats__item_views</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>:none <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; }</code> </pre> <p><br>  <b>UPDATE</b> : UserJS - Anti-aspas-inferno e <code>&lt;code&gt;</code> (veja detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">neste comentário</a> ): </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ==UserScript== // @version    1.0.0 // @namespace  https://habr.com/users/ZiroKyl/ // @homepageURL https://habr.com/post/414799/ // @name       Anti-quotes-hell for Habr // @include    https://habr.com/post/* // @include    https://habr.com/company/*/blog/* // ==/UserScript== // Enable opera:config#UserPrefs|UserJavaScriptonHTTPS if(self == top){   window.opera.addEventListener("BeforeEvent.DOMContentLoaded", function(){ "use strict";       var code = document.querySelectorAll(".post__text :not(pre) &gt; code");       var unQuote = function(el){           var aN = null, a = "",              bN = null, b = "";           if((aN = el.previousSibling) &amp;&amp; (bN = el.nextSibling) &amp;&amp;              aN.nodeType == 3        &amp;&amp; bN.nodeType == 3    ){               a = aN.data; a = a.charCodeAt(a.length-1);               b = bN.data; b = b.charCodeAt(0);               // a != " " &amp;&amp; ( a+1 == b &amp;&amp; (a == "“" || a == "'" ) || (a == "«" &amp;&amp; b == "»") || a == b &amp;&amp; (a == "'" || a == "`" || a == '"') )               if(a != 32 &amp;&amp; ( a+1 == b &amp;&amp; (a == 8220 || a == 8216) || (a == 171 &amp;&amp; b == 187) || a == b &amp;&amp; (a == 39 || a == 96 || a == 34 ) )){                   aN.data = aN.data.slice(0,-1);                   bN.data = bN.data.slice(1);                   return true;               }           }           return false;       };       var aN = null, bN = null, pElTagName = "";       for(var i=code.length;i--;){           // “&lt;code&gt;...&lt;/code&gt;” -&gt; &lt;code&gt;...&lt;/code&gt;           if(!unQuote(code[i])                                                                 &amp;&amp;               ( code[i].previousElementSibling == null &amp;&amp; code[i].nextElementSibling == null &amp;&amp;                (pElTagName = code[i].parentElement.tagName)                                &amp;&amp;                (pElTagName == "A" || pElTagName == "STRONG")                                ) &amp;&amp;               ( (!(aN = code[i].previousSibling) || aN.data.trim().length == 0) &amp;&amp;                (!(bN = code[i].nextSibling)    || bN.data.trim().length == 0) )             ){               // “&lt;a&gt;&lt;code&gt;...&lt;/code&gt;&lt;/a&gt;”    -&gt; &lt;a&gt;&lt;code&gt;...&lt;/code&gt;&lt;/a&gt;               // “&lt;a&gt; &lt;code&gt;...&lt;/code&gt; &lt;/a&gt;”  -&gt; &lt;a&gt; &lt;code&gt;...&lt;/code&gt; &lt;/a&gt;               // “&lt;a&gt;&lt;code&gt;...&lt;/code&gt;...&lt;/a&gt;” -X               unQuote(code[i].parentElement);           }       }   }, false); }</span></span></code> </pre> <p><br>  Os principais estilos foram retirados das versões anteriores da <s>Matriz</s> Habr: </p><br><ul><li>  2012-06 (UserCSS) - a fonte principal Verdana 13px, espaçamento de linha 160% </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20120601043112/">2012-06</a> - a primeira aparição de um spoiler + bloco com um código </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20120414063626/">2012-04</a> - tabela + cabeçalhos </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20120519223242/">2012-05</a> - mais manchetes </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20120511021704/">2012-05</a> - apenas um bom artigo </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20110506203616/">2011-05</a> - espaçamento entre linhas 1.54em (em uma coluna estreita, com espaço vazio à esquerda e à direita, o texto é lido pior que com um intervalo de 160%), os blocos com o código mudaram a cor do plano de fundo e perderam o traço (o que mais: o “cabeçalho” do hub mudou [um artigo pode estar em muitos hubs] tornou-se blogs [um artigo pode estar em apenas um blog]) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20110111174044/">2011-01</a> - o conteúdo é estendido para toda a largura da tela (neste formato, o texto com espaçamento reduzido parece ótimo, IMHO), IMHO: a ampla coluna da direita (com uma largura de tela de 1600px) cria uma sensação de conforto e também é melhor aqui do que em outras versões aparência do comentário (bons tamanhos de recuo selecionados) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20100818045720/">2010-08</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20091213082512/">2009-12</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20090521015826/">2009-05</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20090321120639/">2009-03</a> - alterações no exemplo do mesmo artigo </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20100213211711/">2010-02</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20090616083230/">2009-06</a> - artigos com texto mais denso (parágrafos mais longos) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20100213195954/">2010-03</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20100213195954/">2010-02</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20090618091029/">2009-06</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20081218173804/">2008-12</a> - lembranças positivas sobre o Opera </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20071229110456/">2007-12</a> - Compensação: e a nuvem de tags na coluna da direita </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20070422130629/">2007-04</a> - O espaçamento entre linhas é ainda menor </li></ul><hr></div></div><p><br>  Sobre o LLTR, vou escrever uma série de artigos com o tema geral "como criar um protocolo".  Este artigo é zero. </p><br><h2><a name="analogiya-iz-fizicheskogo-mira--pnevmotransport"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Link para a seção"><font color="gray">#</font></a> Uma analogia do mundo físico - transporte pneumático </h2><hr><p>  Imagine que temos 2 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tubos de ar</a> ... </p><br><a name="fig_tube1-3"></a><div style="text-align:center;"><img alt="Foto de uma sala com um terminal de tubulação pneumática e contêineres vazios" height="410" src="https://habrastorage.org/webt/q2/75/x-/q275x-u0zvrp_v5nli70z2pscem.jpeg#tube1-3.jpg"></div><p><br>  Um tubo para encomendas recebidas (contêineres vermelhos) e outro para encomendas enviadas (contêineres azuis). </p><p><br>  Temos vários amigos que estão conectados ao mesmo sistema de transporte pneumático.  Podemos enviar contêineres, e eles podem enviar contêineres para nós.  O endereço de entrega do contêiner está marcado no próprio contêiner (por exemplo, em <abbr title="Identificação por radiofrequência">RFID</abbr> ou código de barras). </p><p><br>  Em algum momento, todos queriam descobrir a rota pela qual seus pacotes passam todos os dias e descobrir a quais comutadores (centros de comutação) seus tubos pneumáticos estão conectados, ou seja,  Descubra a topologia da rede pneumática. </p><br><a name="fig_tube1-M4"></a><div style="text-align:center;"> <a href=""><img alt="O caminho do terminal ao centro de comunicação" height="224" src="https://habrastorage.org/webt/ax/jx/eh/axjxehi6r_p7wmpbb6sa7iutvnk.jpeg#tube1-M4.jpg"></a> </div><p><br>  Tudo o que nós e nossos amigos podemos fazer é enviar e receber contêineres com determinado conteúdo. </p><p><br>  Proponho pensar em como, nesse caso, você pode construir a topologia dessa rede.  Várias opções estão sob o spoiler: </p><br><div class="spoiler">  <b class="spoiler_title">spoiler</b> <div class="spoiler_text"><hr><p>  1. Se os tubos forem transparentes, como no transporte pneumático em Futurama ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Atenção Imagem">KDPV</a> ), você poderá simplesmente enviar uma câmera de vídeo que capturará todo o caminho de movimento do contêiner. </p><p><br>  2. Você pode colocar os sensores (giroscópio, bússola, acelerômetro, ...) no contêiner e criar um mapa de deslocamento com base nos dados coletados. </p><p><br>  3. Você pode ficar sem sensores, enviando recipientes cheios de ar de uma maneira especial.  Esta opção é considerada abaixo, pois  É aplicável a redes Ethernet com fio regulares. </p><hr></div></div><br><h2><a name="lltr-basic"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Link para a seção"><font color="gray">#</font></a> LLTR Básico </h2><hr><p>  Voltando às redes Ethernet com fio, deixe-me lembrá-lo do problema devido ao qual o LLTR foi criado.  O problema é descrito em detalhes na seção <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">“PCs conectados a diferentes comutadores” do artigo RingSync</a> - esse é um problema de redução de velocidade se a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cadeia de pares</a> não for construída corretamente em uma rede com vários comutadores.  Para criar corretamente uma cadeia de pares, você precisa de informações sobre a topologia de rede. </p><p><br>  Um pequeno exemplo (sem problemas): </p><br><a name="fig_RingSync_no_problem"></a><div style="text-align:center;"><img alt="Gráfico: RingSync não há problema. Nota: é bastante difícil descrever de maneira compacta o que é desenhado no diagrama, portanto, no alt das imagens, indicarei o tipo de imagem e a tradução do nome do arquivo de imagem." height="94" src="https://habrastorage.org/webt/vh/v8/_i/vhv8_ixspw6409nbuiiuc3ilt5w.png#RingSync_no_problem.svg.png"></div><p><br>  Temos <nobr>2 comutadores</nobr> (conectados por um "fio"), <nobr>4 hosts (pares)</nobr> , todas as conexões são duplex e a velocidade de todas as conexões é a mesma.  As setas mostram o caminho dos dados.  Nesse caso, não há problema - os dados são transmitidos na velocidade máxima da rede. </p><p><br>  Outro exemplo (há um problema): </p><br><a name="fig_RingSync_problem_exist"></a><div style="text-align:center;"><img alt="Gráfico: O problema do RingSync é" height="113" src="https://habrastorage.org/webt/bv/hw/zy/bvhwzylksm_5bykq8ocep3s7atm.png#RingSync_problem_exist.svg.png"></div><p><br>  Neste exemplo, a cadeia de pares foi construída com menos sucesso (porque não conhecemos a topologia da rede), o que levou à formação de um "gargalo" (dois fluxos de dados unidirecionais em uma conexão) e a uma redução na taxa geral de transferência de dados. </p><p><br>  Nesse caso, a solução para o problema (determinando a topologia da rede) está na razão da necessidade de resolvê-lo - na formação de um "gargalo".  Toda a cadeia de problemas é a seguinte: você precisa se livrar dos “gargalos” → você precisa criar a cadeia “correta” → você precisa determinar a topologia da rede.  A propósito, não passaremos por todas as combinações possíveis da cadeia, em busca de uma cadeia sem “gargalos” - é muito longo, em vez disso, seremos mais inteligentes / mais complicados: </p><br><a name="fig_LLTR_Basic_broadcast"></a><div style="text-align:center;"><img alt="Gráfico: Transmissão básica LLTR" height="179" src="https://habrastorage.org/webt/cw/ak/ek/cwakekd05nrx_cuyvsda-taeeiu.png#LLTR_Basic_broadcast.svg.png"></div><p><br>  Encha a rede com tráfego - selecione um dos hosts como a fonte do tráfego de transmissão.  Em todos os outros hosts, começaremos a coletar estatísticas sobre o tráfego de transmissão recebido.  Em seguida, selecione dois hosts de não difusão e comece a enviar tráfego unicast do primeiro host para o segundo host.  De acordo com as estatísticas do tráfego de broadcast coletadas nos hosts neste momento, veremos que em alguns hosts a velocidade de recebimento do tráfego de broadcast caiu - esses hosts, nesse caso, estavam conectados ao switch certo.  E em todos os hosts conectados ao comutador esquerdo, a velocidade de recebimento do tráfego de transmissão não mudou. </p><p><br>  A conexão entre os dois comutadores tornou-se um "gargalo" e permitiu selecionar todos os hosts conectados ao comutador correto em um cluster separado. </p><p><br>  <b>Nota</b> : Em casos comuns, é habitual combater a transmissão com todas as nossas forças, especialmente uma que “utilize toda a largura de banda”, mas estamos lidando com uma rede de comutadores não gerenciada que pode ter sofrido mais de uma vez com uma tempestade / inundação de transmissão e pelo menos uma vez a vida quer que essa transmissão se beneficie.  A propósito, é bem possível substituir a transmissão pelo unicast, apenas essa verificação levará mais tempo.  <em>Para o transporte pneumático, você também precisará usar o unicast até liberar a instalação que clona o problema e instalá-lo em cada central de comutação</em> : ganhou. </p><p><br>  Para criar a topologia de rede correta, resta repetir o mesmo para todas as combinações possíveis de pares orientados de hosts sem difusão.  O que significa “pares orientados”? Primeiro, você precisa enviar o tráfego unicast do primeiro host para o segundo, coletar estatísticas e depois mudar de direção (tráfego do segundo para o primeiro) e coletar estatísticas separadas para esta opção. </p><p><br>  O número de combinações que precisam ser verificadas pode ser calculado usando a fórmula <nobr>n × (n - 1)</nobr> {cada (n) precisa “dizer olá” a todos os outros <nobr>(n - 1)</nobr> , mesmo que já o tenham recebido}, onde n é o número todos os hosts menos um (host de transmissão). </p><p><br>  Como resultado, todas as estatísticas coletadas são alimentadas com a entrada de um algoritmo especial (mais sobre isso em um dos seguintes artigos), que cria a topologia de rede (mais precisamente, faz mais - cria imediatamente a cadeia de pares correta para o RingSync). </p><p><br>  A propósito, a configuração mínima de rede que deve ser varrida consiste em dois comutadores, cada um com dois hosts conectados.  Quanto à velocidade de transmissão e unicast, o tráfego de transmissão pode ser mantido na faixa de <nobr>75% a 100%</nobr> da " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">taxa de dados líquida</a> " (taxa de bits líquida; pesquisa em "Ethernet 100Base-TX") e unicast na faixa de <nobr>80% a 100%</nobr> . </p><br><div class="spoiler">  <b class="spoiler_title">E o que acontece se você remover um dos hosts?</b> <div class="spoiler_text"><hr><p>  Isso resultará em uma rede na qual um switch ao qual <nobr>3 hosts estão</nobr> conectados e outro switch está conectado no contexto entre um dos hosts e o switch.  Ou seja, existe apenas um comutador na rede (inserido na seção que se transformou em um "jumper" - não contamos), e esse é o caso ideal para o "gargalo" do RingSync de onde não há nenhum lugar.  <em>Como não há problema, não há nada para corrigir</em> : Cong </p><hr></div></div><br><h2><a name="lltr-advanced"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Link para a seção"><font color="gray">#</font></a> LLTR avançado </h2><hr><a name="fig_sticker"></a><div style="text-align:center;"> <a href=""><img alt="   IQ" title="Imagem de teste de QI" height="428" src="https://habrastorage.org/webt/wu/rd/tr/wurdtrgr9lpx_apdnzvb_xusiya.png#sticker.png"></a> </div><p>  <font color="#FFF"><sup>OVNI</sup> <sub>voou</sub> e <sup>deixou</sup> <sub>essa</sub> <sup>lacuna</sup> <sub>aqui</sub> ?</font>  <em>Lembra uma das fotos do teste de QI</em> </p><p><br>  Como foi escrito acima, ao usar o LLTR Basic, precisamos varrer a rede <nobr>n × (n - 1)</nobr> vezes, o que nos leva a <nobr>O (n</nobr> <sup>2</sup> ).  Para um pequeno número de hosts, isso não é um problema: </p><br><ul><li>  4 hosts, n = 3 ⇒ 6 varreduras; </li><li>  30 hosts, n = 29 ⇒ 812 varreduras. </li></ul><p><br>  Mas se tivermos 200 hosts, n = 199 ⇒ <nobr>39.402</nobr> varreduras.  Ainda pior ... </p><p><br>  Vamos ver como podemos melhorar a situação.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Groknom</a> duas opções simples para a topologia da árvore: </p><br><ul><li>  uma estrela dos interruptores; </li><li>  conexão serial de switches. </li></ul><br><h3><a name="topologiya-zvezda-iz-svitchey"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Link para a seção"><font color="gray">#</font></a> Topologia: "estrela dos comutadores" </h3><br><a name="fig_LLTR_Advanced_star_0"></a><div style="text-align:center;"><img alt="Gráfico: LLTR Advanced Star 0" height="285" src="https://habrastorage.org/webt/kq/du/pw/kqdupwwbdcakifkimzzaayhhnbq.png#LLTR_Advanced_star_0.svg.png"></div><p><br>  Abaixo, a ação representada nesta figura é explicada passo a passo. </p><p><br>  Temos 5 switches e 12 hosts.  Os hosts são indicados por círculos [●] dentro do comutador ao qual estão conectados.  Uma opção completamente preta é a opção "raiz". </p><p><br>  Selecionamos um dos hosts para o papel da fonte de tráfego de broadcast (mostrado no diagrama como um círculo [○]). </p><p><br>  Se você usa o LLTR Basic, para 12 hosts, n = 11 ⇒ você precisa de 110 varreduras (iterações). </p><p><br>  <strong>Iteração 1</strong> .  Escolha um dos hosts (indicado por azul <img alt="círculo para cima seta" width="10" height="18" src="https://habrastorage.org/webt/zs/df/e5/zsdfe5fldtzhoqalclmcvp8tjhu.png#LLTR_Advanced_unicast_src.png">  ) como a origem (src) do tráfego unicast e um host (indicado por <font color="#4285F4">●</font> azul) como destinatário do tráfego unicast (dst).  Vamos começar, em um determinado período, a varredura e a coleta de estatísticas. </p><p><br>  As estatísticas coletadas mostraram uma diminuição na velocidade do tráfego de transmissão em 9 hosts.  Para maior clareza, a queda na velocidade em todos os hosts conectados ao switch é indicada como <img alt="retângulo de seta para baixo" width="20" height="15" src="https://habrastorage.org/webt/q8/qa/6j/q8qa6juznz0hripzx6lh5k08-2e.png#LLTR_Advanced_broadcast_speed_down_on_all_hosts.png">  . </p><p><br>  Com base na queda detectada na velocidade, você pode distribuir hosts em dois clusters: </p><br><ul><li>  <strong><font color="#FDD569">amarelo</font></strong> (inicial) - hosts nos quais a velocidade de transmissão permaneceu próxima do máximo; </li><li>  <strong><font color="#4CD46B">verde</font></strong> - hosts nos quais foi registrada uma queda significativa na velocidade de transmissão. </li></ul><p><br>  <strong>Iteração 2</strong> .  Selecionaremos outros hosts unicast src e dst e começaremos novamente a varredura e coleta de estatísticas. </p><p><br>  A queda de velocidade é fixada em 3 hosts.  Agora eles estão no cluster <strong><font color="#4CD46B">verde</font></strong> , porque  na iteração anterior, uma queda na velocidade também foi registrada nesses hosts.  Mova esses 3 hosts do cluster <strong><font color="#4CD46B">verde</font></strong> para o novo cluster <strong><font color="#ED5547">vermelho</font></strong> . </p><p><br>  <strong>Iteração 3</strong> .  Novamente, selecione os outros hosts unicast src e dst e inicie novamente a varredura e a coleta de estatísticas. </p><p><br>  A queda de velocidade é registrada nos outros 3 hosts.  Agora eles estão no cluster <strong><font color="#4CD46B">verde</font></strong> .  Mova esses 3 hosts do cluster <strong><font color="#4CD46B">verde</font></strong> para o novo cluster <strong><font color="#9C8FD7">roxo</font></strong> . </p><p><br> <strong><a name="LLTR_Advanced_star_0-conclusion"></a></strong>  <strong>Conclusão</strong> : após <strong>três</strong> iterações em 110, todos os hosts foram divididos em clusters correspondentes aos seus comutadores.  Nas 107 iterações restantes, nenhum novo cluster será formado. </p><p><br>  Era um caso ideal - ou conhecíamos a topologia de rede ou tivemos muita sorte. </p><br><h4><a name="interesno-kakie-mogut-byt-varianty-pervoy-iteracii"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Link para a seção"><font color="gray">#</font></a> Gostaria de saber quais poderiam ser as opções para a primeira iteração? </h4><p><br>  <strong>Opção 1: "unicast na transmissão sw"</strong> .  O unicast src está localizado no mesmo switch que o broadcast src (assim como no exemplo acima na figura na iteração 1).  O Unicast dst está localizado em qualquer outro comutador (não broadcast src). </p><br><a name="fig_LLTR_unicast_on_broadcast_sw"></a><div style="text-align:center;"><img alt="Animação: unicast LLTR localizado no comutador de transmissão" height="159" src="https://habrastorage.org/webt/g5/30/la/g530la--nnuiayvlemfbdhz6ona.gif#LLTR_unicast_on_broadcast_sw.gif"></div><p><br>  Em todos os casos, a resposta da rede à verificação é a mesma - uma queda na velocidade de todos os switches src que não são transmitidos.  Isso é compreensível - o unicast src se funde no mesmo começo do canal que o broadcast src - daí a queda na velocidade de todos os outros comutadores, e não importa em qual deles o unicast dst está. </p><p><br>  <strong>Opção 2: "unicast geral"</strong> .  O unicast src está localizado em qualquer opção "non broadcast src".  O Unicast dst está localizado em qualquer outro comutador (“not broadcast src” e “not unicast src”). </p><br><a name="fig_LLTR_unicast_general"></a><div style="text-align:center;"><img alt="Animação: LLTR caso geral de unicast" height="159" src="https://habrastorage.org/webt/pp/rz/z2/pprzz20e3jcilksjz-x977hvmd0.gif#LLTR_unicast_general.gif"></div><p><br>  Em todos os casos, ocorre uma queda na velocidade dos comutadores nos quais o unicast dst estava localizado.  O mesmo comportamento de rede estava na iteração 2 e 3 (veja a figura) do exemplo no início da seção. </p><p><br>  <strong>Opção 3: "unicast para transmitir sw"</strong> .  O Unicast src está localizado em qualquer switch "non broadcast src" (assim como na opção 2).  O dst Unicast está localizado no mesmo switch que o broadcast src. </p><br><a name="fig_LLTR_unicast_to_broadcast_sw"></a><div style="text-align:center;"><img alt="Animação: LLTR unicast no comutador de transmissão" height="141" src="https://habrastorage.org/webt/g0/xd/so/g0xdsoosr-xhrmb2sl3dy-g51eo.gif#LLTR_unicast_to_broadcast_sw.gif"></div><p><br>  Nesses casos, não há resposta de rede para a verificação.  Se nas versões anteriores (1 e 2) um novo cluster foi criado, nessa variante, novos clusters não são criados.  Isso é parcialmente ruim - não obtemos novas informações sobre a topologia de rede (de fato, em alguns casos, e se essa iteração não for a primeira, você poderá obter algumas informações sobre a localização do unicast dst). </p><p><br>  <strong>Opção 4: "unicast em sw"</strong> .  Unicast src e dst estão localizados no mesmo comutador. </p><br><a name="fig_LLTR_unicast_in_sw"></a><div style="text-align:center;"><img alt="Animação: unicast dentro do switch" height="141" src="https://habrastorage.org/webt/1o/-k/7d/1o-k7dsd2tjkk2kquvu4kiev8ru.gif#LLTR_unicast_in_sw.gif"></div><p><br>  Também aqui a rede não responde à varredura e, portanto, não há novos clusters. </p><p><br>  <strong>O resultado</strong> .  As opções 1 e 2 são boas, a rede responde a elas e fornece novas informações sobre sua topologia.  E com base nessas informações, novos clusters são criados. </p><p><br>  As opções 3 e 4 podem apenas dizer que o unicast dst está no mesmo comutador com broadcast src ou no mesmo comutador com unicast src.  Além disso, eles não podem fornecer informações completas em uma iteração sobre a localização exata do unicast dst - sempre estarão ao lado de broadcast src ou unicast src.  A localização exata só pode ser obtida combinando as informações recebidas com as de outras iterações. </p><br><h4><a name="a-byl-li-vybor-unicast-src-i-dst-v-primere-sluchaynym"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Link para a seção"><font color="gray"># A</font></a> escolha do unicast src e dst no exemplo foi aleatória? </h4><p><br>  <em><font color="gray">Talvez a escolha não tenha sido aleatória, e há um padrão oculto nela?</font></em> </p><p><br>  Ok, vimos como a rede responde a várias opções de digitalização.  Lembre-se do exemplo do início da seção, talvez seja a hora de analisá-lo de um "novo ângulo" e responder à pergunta: acidentalmente escolhi o unicast src e o dst, ou trapacei? </p><br><a name="fig_LLTR_Advanced_star_0-probability"></a><div style="text-align:center;"><img alt="Gráfico: LLTR Advanced Star 0 - Probabilidades" height="501" src="https://habrastorage.org/webt/hd/jb/qf/hdjbqfsi4opivk0qbbznjsafnou.png#LLTR_Advanced_star_0.probability.svg.png"></div><p><br>  Esta imagem é semelhante à imagem do início da seção, a diferença é que opções alternativas de unicast src foram adicionadas a cada iteração e algo à direita ... </p><p><br>  Esse "algo" é o cálculo da probabilidade de formação de um novo cluster (o número de opções em que um novo cluster será criado dividido pelo número de opções em que um novo cluster será criado + o número de opções que não levam à criação de um novo cluster).  As opções foram calculadas em relação ao unicast fixo src e ao unicast livre dst.  Unicast dst “free” - significa que todas as opções possíveis para sua localização foram consideradas. </p><p><br>  Ou seja, no exemplo, eu escolhi especificamente as opções que tinham maior probabilidade de formar um novo cluster.  Infelizmente, na realidade, não podemos usar essa estimativa (de probabilidades).  Não é de admirar que no final eu escrevi: </p><blockquote>  Era um caso ideal - ou conhecíamos a topologia de rede ou tivemos muita sorte. </blockquote><p>  No entanto, a capacidade de avaliar a probabilidade de formação de um novo cluster é útil para nós abaixo. </p><br><h4><a name="skanirovat-vnutri-klastera-ili-ispolzovat-mezhklasternoe-skanirovanie--vot-v-chem-vopros"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Link para a seção"><font color="gray"># Faça a</font></a> varredura dentro do cluster ou use a varredura entre cluster - eis a questão ... </h4><p><br>  No exemplo acima, na última (terceira) iteração, a varredura entre os clusters foi usada.  É tão bom, porque no início eles usaram a digitalização dentro do cluster? </p><p><br>  <b>Nota</b> : Se o unicast src e o dst estiverem no mesmo cluster, será uma <strong>varredura dentro do cluster</strong> .  Se o unicast src estiver em um cluster e o unicast dst em outro - essa é a <strong>varredura</strong> entre clusters. </p><p><br>  Se você observar as probabilidades da 3ª iteração, a varredura entre clusters terá 0,60 versus 0,30 para a varredura dentro do cluster.  A probabilidade parece nos dizer: “use a varredura entre clusters, mano”. Mas vale a pena seguir cegamente o conselho dela? </p><p><br>  <b>Nota</b> : O uso de apenas um tipo de varredura (dentro de um cluster ou intercluster) reduzirá significativamente o número de iterações. </p><p><br>  Se no exemplo acima, a partir da 4ª iteração, começarmos a varrer apenas <strong>dentro do cluster</strong> , serão necessárias 20 iterações <nobr>(3 × 2 +</nobr> <nobr>3 × 2 +</nobr> <nobr>2 × 1 +</nobr> <nobr>3 × 2)</nobr> , no total, <strong>23 iterações</strong> serão obtidas em vez de 110 (como foi calculado no início da seção).  Se, iniciando na mesma 4ª iteração, apenas a <strong>varredura entre clusters for iniciada</strong> , serão necessárias 87 iterações <nobr>(3 × (3 + 2 + 3) +</nobr> <nobr>3 × (3 + 2 + 3) +</nobr> <nobr>2 × (3 + 3 + 3) +</nobr> <nobr>3 × (3 + 3 + 2) -</nobr> <nobr>3)</nobr> , no total, <strong>90 iterações</strong> serão exibidas. </p><p><br>  A varredura de interclusters perde visivelmente, além disso, não pode ser usada na 1ª iteração (neste momento, há apenas 1 cluster).  Se prestarmos atenção à segunda iteração do exemplo acima, podemos ver que a última opção de varredura alternativa tem uma probabilidade de formar um novo cluster de 0,00.  Acredito que a resposta para a pergunta: “Que tipo de digitalização essa alternativa teve?” Já está clara. </p><br><h4><a name="prelesti-parallelnogo-skanirovaniya"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Link para a seção"><font color="gray"># As</font></a> delícias da digitalização paralela </h4><p><br>  Se, usando a <strong>varredura dentro de um cluster</strong> , for possível executar uma varredura simultaneamente em todos os clusters de uma só vez, as 20 iterações adicionais <nobr>(3 × 2 +</nobr> <nobr>3 × 2 +</nobr> <nobr>2 × 1 +</nobr> <nobr>3 × 2)</nobr> serão reduzidas para 6 iterações (3 × 2).  <strong>A varredura entre clusters</strong> também pode se beneficiar da varredura paralela. </p><p><br>  A questão é se uma verificação afetará os resultados de outra verificação, sendo executada em paralelo. </p><p><br> <b>Note</b> :         (   ),      –        ,       ? </p><br><a name="fig_LLTR_Advanced_star_parallel_0"></a><div style="text-align:center;"><img alt=": LLTR Advanced    0" height="285" src="https://habrastorage.org/webt/ci/bw/8-/cibw8-l6h6mgpvppidpaxe9dnqi.png#LLTR_Advanced_star_parallel_0.svg.png"></div><p><br>  :  –    <strong> </strong> ; ,   2‑  —  <strong></strong>  . </p><p><br>   <strong> </strong>    –  6‑       .      ,     unicast src  dst  ,       2 .      ,      2‑ : “     0.00”. </p><p><br> <strong> </strong>  “  ”,          <strong> </strong> . ,    ‑ … </p><br><a name="fig_LLTR_Advanced_star_parallel_1"></a><div style="text-align:center;"><img alt=": LLTR Advanced    1" height="223" src="https://habrastorage.org/webt/ya/v3/pp/yav3pp37lxearuhyv0z18cc0p7q.png#LLTR_Advanced_star_parallel_1.svg.png"></div><p><br>  ,        , .  2‑    (“ <strong>unicast on broadcast sw</strong> ”: unicast src     ,   broadcast src)      (“unicast in sw”: unicast src  dst       ). </p><p><br>  “ <strong>unicast on broadcast sw</strong> ”      <strong><font color="#4CD46B"></font></strong> ,      “unicast in sw”,         .     ,    “unicast in sw” ,  unicast src    <strong><font color="#4CD46B"></font></strong>  (   –  ),  2   <strong><font color="#4CD46B"></font></strong>     <strong><font color="#9C8FD7"></font></strong> . </p><p><br>        .         ,    (   ,       ),        .   “”  ,    broadcast src.  ,    ,  broadcast src    <strong><font color="#FDD569"></font></strong> ,   <strong><font color="#4CD46B"></font></strong> !     . </p><p><br> <b>Note</b> :  ,        unicast src   ,    ,     (    ),    . </p><p><br> <strong></strong> :       . </p><p><br>    IQ … </p><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><hr><p>    ,        (     …) </p><hr></div></div><br><h3><a name="topologiya-posledovatelnoe-soedinenie-svitchey"></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="  "><font color="gray">#</font></a> : “  ” </h3><br><a name="fig_LLTR_Advanced_serial_0"></a><div style="text-align:center;"><img alt=": LLTR Advanced   0" height="381" src="https://habrastorage.org/webt/3f/lk/31/3flk31x3t32zjfnlfpwarpgdh8g.png#LLTR_Advanced_serial_0.svg.png"></div><p><br>      . </p><p><br>      unicast ( )  broadcast ( ) ,     broadcast  (   ).  5‑   ,     “”     ,    – .     ,  ,   ,       (↼),  (  ) –      (⇁), .. (⇋). </p><p><br>         . </p><p><br>    5   <strong>15</strong> .   LLTR Basic,   15 , n=14 ⇒  182 . </p><p><br>      .  1‑   ,  ,  unicast <strong>src</strong>     ,   broadcast src,  unicast <strong>dst</strong>      broadcast src . Unicast     ( <em></em> )   broadcast   broadcast src .         (   ).  2‑     ,  ,  unicast <strong>dst</strong>   broadcast src . </p><p><br>        .     ( ). </p><p><br>  <strong>3</strong> .  broadcast  unicast  <strong> </strong> –   <strong></strong> . </p><p><br>  <strong>4</strong> .  broadcast  unicast  <strong></strong> –  <strong></strong> . </p><p><br>  <strong>5</strong> . Unicast src  dst  <strong>  </strong>  broadcast src  –   <strong></strong> ,   <strong>unicast dst</strong>  <em></em> ( <strong> </strong> ). ,   2‑ ,     ,  “     ”. </p><p><br> ,   ,    <strong> </strong> (2   ): </p><br><a name="fig_LLTR_Advanced_serial_1"></a><div style="text-align:center;"><img alt="Gráfico: Conexão serial avançada LLTR 1" height="286" src="https://habrastorage.org/webt/6w/b2/is/6wb2isfs-tuwfjgvlucksrx1p9o.png#LLTR_Advanced_serial_1.svg.png"></div><p><br>    ,   .     4‑     (  ,    ,     ),   1‑    . </p><p><br>        30  <nobr>((4) +</nobr> <nobr>(3×2 +</nobr> <nobr>3×2 +</nobr> <nobr>3×2 +</nobr> <nobr>2×1 +</nobr> <nobr>3×2))</nobr> ,  182    LLTR Basic. </p><p><br>       ? </p><br><a name="fig_LLTR_Advanced_serial_parallel_0"></a><div style="text-align:center;"><img alt="Gráfico: Varredura paralela da conexão serial avançada LLTR 0" height="224" src="https://habrastorage.org/webt/cz/by/fk/czbyfkdaszzqkpf76za8nvhay8g.png#LLTR_Advanced_serial_parallel_0.svg.png"></div><p><br>     ,      ‑   .  3‑ , unicast   <strong><font color="#FDD569"></font></strong>        (↼),    broadcast ,    <em></em>    unicast src  <strong><font color="#FDD569"></font></strong> .   ,   unicast src  <strong><font color="#FDD569"></font></strong>      ( <strong><font color="#ED5547"></font></strong> ),   <em></em> ,     .   unicast src <strong><font color="#ED5547"></font></strong>    <strong><font color="#ED5547"></font></strong> ,     <strong><font color="#ED5547"></font></strong>    <strong><font color="#ED8F48"></font></strong> .  ,     ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   “  ”</a> . </p><p><br> ,   ,         ,         ?    “  ”    … </p><p><br>        ( ),     : </p><br><a name="fig_LLTR_Advanced_serial_parallel_0_0"></a><div style="text-align:center;"><img alt="Gráfico: Varredura paralela da conexão serial avançada LLTR 0 0" height="79" src="https://habrastorage.org/webt/mh/zy/r3/mhzyr37_5vq3rzgyavqfbitutmm.png#LLTR_Advanced_serial_parallel_0_0.svg.png"></div><p><br>      (2 ),    (   ). </p><p><br>   ,        – <strong><font color="#9C8FD7"></font></strong>      ,     1 .        –          /   <strong><font color="#ED8F48"></font></strong> . </p><p><br>      ,      1 ,   (  ,   ),    ,       1 ,    ?      ? </p><p><br>  :       (  ),        ()      . ,          ,   4  (1 <strong></strong> + 3   ): </p><br><a name="fig_LLTR_Advanced_serial_parallel_0_1"></a><div style="text-align:center;"><img alt="Gráfico: Varredura paralela da conexão serial avançada LLTR 0 1" height="47" src="https://habrastorage.org/webt/rj/5h/qm/rj5hqm91_yafnjau4-d2ocg3co8.png#LLTR_Advanced_serial_parallel_0_1.svg.png"></div><p><br>      : </p><br><a name="fig_LLTR_Advanced_serial_parallel_0_2"></a><div style="text-align:center;"><img alt="Gráfico: Varredura paralela da conexão serial avançada LLTR 0 2" height="109" src="https://habrastorage.org/webt/mf/xb/9b/mfxb9bmmbir0ykn9_ndw7phvjns.png#LLTR_Advanced_serial_parallel_0_2.svg.png"></div><p><br>       : “       ,      <strong></strong>    ?” – ,    . </p><br><a name="fig_sticker2"></a><div style="text-align:center;"> <a href=""><img alt="Há claramente algo na parte de trás do adesivo" height="428" src="https://habrastorage.org/webt/-a/2v/rb/-a2vrbwsempbjeg8kzgtwzqbmrc.png#sticker2.png"></a> </div><p> <font color="#FFF"><sup></sup> <sub></sub>  <sup></sup> <sub></sub> <sup></sup> <sub></sub> ?</font> <em>  .     …</em> ；） </p><br><h2><a name="tldr"></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Link para a seção"><font color="gray">#</font></a> TL;DR </h2><hr><p>       ,   … </p><p><br> ,  ,    : </p><br><ul><li>       2  / ,        –      ; </li><li>   / ,     ,       ( ‑    ). </li></ul><p><br>            xkcd,       ,      （： </p><br><a name="fig_Real_Programmers"></a><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img alt="Sonda borboleta" title="Programadores reais usam Rowhammer para gravar na memória e Meltdown para ler a partir dele." height="467" src="https://habrastorage.org/webt/l1/ov/mb/l1ovmbzmahaxxz8i23jo4takztm.png#Real_Programmers.png"></a> </div><br><h2><a name="to-be-continued"></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Link para a seção"><font color="gray">#</font></a>    / To be continued… </h2><hr><ol><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Tutorial do OMNeT ++ em russo">   <abbr title="Rede de Objetivos de Rede Modular em C ++">OMNeT++</abbr>  INET</a> [ <strong>tutorial</strong> ] </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">      </a> </li><li> <abbr title="Rede de Objetivos de Rede Modular em C ++">OMNeT++</abbr>  </li><li>  </li><li> <abbr title="Rede de Objetivos de Rede Modular em C ++">OMNeT++</abbr>  2 </li><li>  </li><li>  <font color="gray">(‑: “ <a title="o filme" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font color="gray">   </font></a> ”)</font> </li></ol><p><br>  :  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub Pages</a> ; <br><a name="doi"></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="ID do artigo"><img alt="DOI: 10.5281 / zenodo.1406970" width="186" height="20" src="https://habrastorage.org/getpro/habr/post_images/833/72e/efe/83372eefe11b7360b92d710e278ac481.svg"></a> </p><hr><div class="spoiler"> <b class="spoiler_title">    …</b> <div class="spoiler_text"><hr><p>     ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="   ">/</a> . </p><p><br>         ,           ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="   ">/</a> . </p><p><br>            ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="   ">/</a> . </p><p><br> PS      : </p><p><br> ( “ ”    “” (~~),     ‑    (   ),             ( : “   ”)) </p><hr></div></div><a name="ps-section"></a><p><br> <b>PS</b>    <img alt="un 7-Zip me" width="52" height="16" src="https://habrastorage.org/webt/jb/dr/dp/jbdrdpf0zozugszofy1owgrpweu.png#un7zipMe.png">   <font color="gray">（； <em>     <abbr title="Identificador Uniforme de Recursos">URI</abbr>  )</em></font> </p><p><br> <b>PPS</b>      ,     ；） </p><p><br> <b>PPPS</b>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>     ,       ,      –       .    ( ) ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Como enviar uma mensagem privada">/</a> ,     –    ：） </p><p><br> <b>PPPPS</b>   <strong></strong>       ,     . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt414799/">https://habr.com/ru/post/pt414799/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt414787/index.html">Novo Android RAT usa protocolo Telegram</a></li>
<li><a href="../pt414789/index.html">O Tesla Model S está novamente ligado e a sabotagem intencional [de acordo com Elon Mask] é revelada na oficina de montagem do Modelo 3</a></li>
<li><a href="../pt414791/index.html">Seminário "Infraestrutura virtual para desenvolvedores: oportunidades, aplicativos e serviços", 28 de junho, São Petersburgo</a></li>
<li><a href="../pt414793/index.html">Como os canais de pagamento e a rede de raios funcionam no Bitcoin?</a></li>
<li><a href="../pt414797/index.html">Como criamos linhas abertas na Bitrix24</a></li>
<li><a href="../pt414801/index.html">Moscow Vue.js Meetup # 2 no grupo Mail.Ru</a></li>
<li><a href="../pt414803/index.html">Como vimos os pagamentos da IoT em um hackathon em Hong Kong</a></li>
<li><a href="../pt414805/index.html">Seminário on-line aberto "Métodos alternativos de recrutamento"</a></li>
<li><a href="../pt414809/index.html">Swift 4.1: por que a Apple renomeou flatMap para compactMap</a></li>
<li><a href="../pt414811/index.html">Integrar Telegram e Avaya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>