<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¥üèæ üöª üßòüèæ Como criamos um produto tecnol√≥gico e ca√≠mos no fundo üëµüèø üßü üî§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quero compartilhar com voc√™ a hist√≥ria de uma vida boa e a morte longa, lenta e dolorosa de um portal imobili√°rio outrora grande. O qual n√£o estava pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como criamos um produto tecnol√≥gico e ca√≠mos no fundo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423955/"><img src="https://habrastorage.org/webt/bk/iw/po/bkiwpoaq6oppr11ti4aw-lt0ff4.jpeg" width="100%"><br><br>  Quero compartilhar com voc√™ a hist√≥ria de uma vida boa e a morte longa, lenta e dolorosa de um portal imobili√°rio outrora grande.  O qual n√£o estava pronto para mudar e fazer movimentos bruscos para se adaptar a um mercado em mudan√ßa.  Um produto que em 10 anos passou do TOP 10 para o fundo.  Esta √© uma hist√≥ria sobre a import√¢ncia do encadeamento que conecta os desenvolvedores, com sua compreens√£o e boa mente, e os gerentes / diretores / gerentes com sua abordagem ao gerenciamento de projetos. <br><a name="habracut"></a><br><h3>  Iniciar </h3><br>  Eu vim para este trabalho em 2014, um simples .net junior.  O PN (doravante denominado portal imobili√°rio) era um agregador de im√≥veis, no qual, al√©m do banco de dados de an√∫ncios, havia uma se√ß√£o de not√≠cias tem√°ticas de qualidade.  Not√≠cias, artigos, leis e muitos materiais diferentes no setor imobili√°rio.  Um grande departamento de jornalistas legais escreveu artigos muito legais, cujo interesse era muito alto entre os usu√°rios. <br><br>  O site em si era livre para colocar an√∫ncios, o que atra√≠a usu√°rios (vendedores particulares, ag√™ncias imobili√°rias).  Toda a renda foi gerada devido ao habitual nesta √°rea de coloca√ß√£o de blocos de texto e gr√°fico (TGB) de desenvolvedores que promovem seus novos edif√≠cios e edif√≠cios residenciais. <br><br>  No auge (2008 - 2012), o site tinha tr√°fego de mais de 1.000.000 de visitantes √∫nicos por m√™s.  E ele deu uma boa convers√£o para os anunciantes.  Esses foram excelentes indicadores, j√° que o PN funcionou apenas para Moscou e S√£o Petersburgo.  A equipe consistia em 2 programadores e muitos jornalistas e editores.  De fato, toda a manuten√ß√£o, suporte e refinamento do PN foi realizada por apenas 2 funcion√°rios (quantas pessoas originalmente projetaram e desenvolveram a hist√≥ria do PN s√£o silenciosas). <br><br>  <i><u>√â aqui que a parte positiva da hist√≥ria termina.</u></i> <br><br><h3>  Outono </h3><br>  Ap√≥s a primeira onda da crise, o site come√ßou a ter problemas de tr√°fego e problemas muito s√©rios.  Ele apenas come√ßou a cair.  O mercado come√ßou a mudar rapidamente.  Os concorrentes come√ßaram a esmagar, porque  enquanto nosso PN descansava sobre os louros e n√£o se desenvolvia em lugar algum, outros tornaram seus produtos mais modernos e atendem √†s expectativas dos usu√°rios. <br><br>  Al√©m disso, os mecanismos de pesquisa come√ßaram a ficar cada vez menos parecidos com o nosso site, que por sinal praticamente n√£o possu√≠a nenhum tipo de CEO.  Sim, havia alguns modelos de h1, t√≠tulo, descri√ß√£o, um pouco mais de recoloca√ß√£o e, em geral, isso √© tudo (ap√≥s o in√≠cio do outono e at√© o fim, o chefe do mosteiro iniciou uma batalha de CEO, o que est√°vamos fazendo h√° quase 5 anos). <br><br>  Com a segunda onda da crise em 2014, o desempenho caiu abaixo de 300.000 visitantes √∫nicos por m√™s.  Nessa √©poca, consegui um emprego. <br><br>  <i><u>√â aqui que minha parte t√©cnica da hist√≥ria come√ßa</u></i> . <br><br><h3>  Imers√£o </h3><br>  Nos primeiros 2 anos, trabalhei como desenvolvedor j√∫nior.  Ele fez tudo o que eles me deram.  Eu tive que aprender muito do zero.  No entanto, tive sorte com meu gerente de desenvolvimento.  Ele tinha pouco mais de 40 anos, um programador da velha escola, que sabia muito e sabia como.  Provavelmente, seu principal credo era - funciona e √© bom (sou muito grato a ele, porque adotei muito conhecimento e v√°rias abordagens de desenvolvimento). <br><br>  Nossa pilha de tecnologia era a seguinte: <b>MS SQL Server 2012 + ASP.NET MVC 3</b> .  A base mantinha tudo em si.  At√© fotos em formato bin√°rio, para 3 tamanhos definidos (grande, grande, pequeno). <br><br>  O back-end inclu√≠a v√°rios m√≥dulos: <br><br><ul><li>  Seg site </li><li>  √Årea de administra√ß√£o geral </li><li>  Administrador de SEO </li><li>  Analisador de rob√¥ KLADR </li><li>  Rob√¥ de importa√ß√£o de feed XML </li></ul><br>  Todo esse tempo eu estava apenas realizando tarefas para que o c√≥digo funcionasse e n√£o houvesse erros.  Especialmente sem se aprofundar ou pensar em novos desenvolvimentos.  Mas chegou a hora e tornou-se necess√°ria. <br><br>  No segundo ano de trabalho, meu gerente deixou o projeto.  E fiquei cara a cara com esse colosso antigo, no qual era 3% do meu c√≥digo √† for√ßa. <br><br>  <i>Foi um estresse selvagem</i> .  O CEO me perguntou tudo e, √†s vezes, eu n√£o fazia ideia do que e como funcionava.  Naturalmente, a vida me fez e, gradualmente, mergulhei em todos os processos e percebi que essa abordagem ‚Äúfunciona - bom‚Äù n√£o √© para mim.  Neste momento, eu li muitos materiais de design, fui educado no campo de tecnologias e estruturas populares.  Eu estava voltando do trabalho para casa e pensando sobre o que e como faria amanh√£.  E quando eu estava dirigindo para o trabalho, pensei se o que decidi ontem estava certo.  Eu queria entender como fazer tudo de forma correta e conveniente.  Para n√£o precisar fazer muletas, duplique o c√≥digo, teste tudo ao vivo, implante tudo manualmente e recuse boas id√©ias devido a alguns erros de design no passado. <br><br>  Nessa √©poca, t√≠nhamos feito muito em SEO, abandonando tarefas destinadas a melhorar a interface do usu√°rio.  No entanto, o tr√°fego caiu cada vez mais baixo.  E em algum momento o projeto foi congelado.  Comecei a lidar apenas com o suporte e a corre√ß√£o de bugs ... Ent√£o parecia oficial. <br><br>  De fato, comecei a reescrever completamente o sistema a partir de quase 0. Eu tinha que fazer isso secretamente no manual.  Afinal, eles nunca nos deram tempo.  Eles sempre disseram que precisamos mais r√°pido, mais r√°pido.  Que estamos por tr√°s de tudo isso.  E voc√™ precisa criar um produto competitivo em 4 m√£os e melhor que o resto.  Portanto, se eu dissesse que planejava refazer tudo, ent√£o voc√™ mesmo entende qual resposta eu ouviria. <br><br><h3>  Ascens√£o imagin√°ria </h3><br>  Ent√£o, arrega√ßando as mangas, comecei a conceber.  Eu escolhi a arquitetura cl√°ssica de tr√™s camadas.  <b>O back-end .Net Core + SQL + Mongo, o front-end √© Bootstrap + JQuery + KnockoutJS</b> . <br><br>  Organizou uma camada de dados.  Interfaces, abstra√ß√µes, reposit√≥rios est√£o bem.  A camada funcionou nos procedimentos armazenados (felizmente, comecei a entender SQL muito bem).  Para o mapeamento, escolhi o Dapper.  √â simples e direto.  Recusou o InMemoryCache em favor do Redis para trazer o cache para um servidor separado.  Em seguida foi o n√≠vel da l√≥gica de neg√≥cios.  Todas as mesmas interfaces, servi√ßos, DI.  Portanto, a funda√ß√£o apareceu na forma de Camada de dados (procedimentos armazenados + Dapper + Redis) e Camada l√≥gica.  Demorou cerca de 3 meses. <br><br>  E aqui, depois de quase um ano de trabalho, consegui um assistente para mim sozinho, insistindo que havia muitas tarefas (e havia muitas).  Juntos, tudo correu muito mais r√°pido e melhor, e mais importante ainda, mais racionalmente. <br><br><ol><li>  Primeiro, desenvolvemos uma <u>API para fotografias</u> .  Era um WebApi simples, que na solicita√ß√£o Get fornecia a imagem da qualidade e tamanho desejados do disco.  Mudamos para o SSD e esquecemos o banco de dados de imagens como um pesadelo.  √â dif√≠cil descrever com que rapidez a p√°gina m√©dia do site come√ßou a carregar ap√≥s a aloca√ß√£o de um pool separado para isso. </li><li>  Abandonamos a KLADRA em favor do <u>FIAS</u> .  Eles criaram um servi√ßo de alta qualidade para analisar dados do FIAS em nosso banco de dados, levando em considera√ß√£o nossos recursos.  Eles lhe deram um servi√ßo de geocodifica√ß√£o de casas.  Tudo funcionou quase como um rel√≥gio.  Ocasionalmente, havia bugs associados a locais ou ruas duplicados no banco de dados FIASA. <br></li><li>  Eles escreveram uma nova <u>conta pessoal por um</u> longo tempo, compartilhando-a no site.  Ele foi projetado e planejado por um longo per√≠odo de tempo, para facilitar o uso.  Bem como r√°pido e funcional.  Eles estragaram o pagamento e, em seguida, fiscalizaram os cheques (sim, n√£o pod√≠amos dar ao luxo de usar solu√ß√µes integradas prontas).  No geral, fez um bom servi√ßo ao usu√°rio.  E eles ficaram satisfeitos com ele. <br></li><li>  Finalmente, chegamos ao <u>rob√¥ para importar feeds XML</u> .  Criou um validador conveniente e um bom registro para os clientes.  O novo servi√ßo mostrou-se t√£o otimizado que, se o antigo (usando EF) funcionou por cerca de 6 a 8 horas, o novo processou a mesma quantidade de dados em 2 a 3 horas. <br></li><li>  Afinal, eles criaram um <u>dom√≠nio com documenta√ß√£o</u> para tudo o que √©.  Eles expuseram todos os pontos para usu√°rios e clientes do portal e tamb√©m descreveram uma parte da documenta√ß√£o que ser√° √∫til para os desenvolvedores.  E isso √© realmente importante! <br></li><li>  O √∫ltimo passo foi <u>otimizar a base</u> .  N√≥s o reformulamos completamente.  Limpamos tudo desnecess√°rio.  Eles alcan√ßaram uma <b>acelera√ß√£o da velocidade de pesquisa de 4-5 segundos a ~ 300 ms</b> .  Eles criaram √≠ndices, escreveram consultas complexas, usaram dicas e at√© fizeram parti√ß√µes de tabelas estat√≠sticas. <br></li></ol><br>  Infelizmente, as m√£os n√£o conseguiram chegar ao pr√≥prio site.  Porque  quase todas as tarefas do site foram relacionadas ao SEO, o que levou um tempo decente.  Novas p√°ginas, novas cole√ß√µes, novas regras.  Mais, mais, mais p√°ginas.  Eu tive que editar constantemente algo no mecanismo do site, o que n√£o me permitiu transferi-lo simultaneamente para a base criada. <br><br><h3>  Aqui a hist√≥ria t√©cnica termina e o triste ep√≠logo come√ßa. </h3><br>  Vale a pena come√ßar pelo fato de o CEO do site n√£o estar conectado √† esfera de TI.  Portanto, muitas decis√µes foram tomadas por eles incorretamente e individualmente.  Muitas vezes, as discuss√µes pararam, pois  nossas novas id√©ias n√£o foram aceitas, porque <blockquote>  <i>"Isso n√£o √© necess√°rio, estou lhe dizendo como especialista em im√≥veis"</i> </blockquote>  ou <blockquote>  <i>"Ent√£o, ningu√©m est√° olhando, esta √© uma consulta de baixa frequ√™ncia, tenho certeza"</i> </blockquote>  E depois de algum tempo, quando ele mesmo chegou a isso, nossas id√©ias foram oferecidas a eles com uma alega√ß√£o, por que n√£o t√≠nhamos dito antes ou com sincera surpresa <blockquote>  <i>"Eu n√£o poderia dizer isso, isso √© um absurdo"</i> </blockquote>  N√£o conseguimos chegar a um consenso, como resultado, n√≥s (desenvolvedores) √©ramos simplesmente inferiores.  E eles fizeram conforme solicitado.  A dor do programador - tornar in√∫teis "recursos" para ningu√©m. <br><br><img src="https://habrastorage.org/webt/wv/qc/f6/wvqcf6yyflgstas0brmtzz0nmqq.jpeg" width="100%"><br><br>  Gostaria de mencionar que o financiamento sempre teve problemas.  <u>N√£o houve investimentos, exceto em SEO</u> .  Mesmo mantendo 2 programadores era caro.  Obviamente, era imposs√≠vel competir com os novos portais do TOP-10 com esse n√≠vel de financiamento e gest√£o. <br><br>  Como resultado, temos uma plataforma para um portal agregador de im√≥veis.  Escal√°vel, expans√≠vel, r√°pido e tecnicamente pronto para qualquer desastre.  Com grande potencial.  Bom c√≥digo, muletas m√≠nimas e poucos gargalos. <br><br>  No entanto, isso n√£o deu um resultado positivo.  Na √©poca do meu √∫ltimo dia √∫til, apesar da presen√ßa de 4 milh√µes de p√°ginas exclusivas nos mecanismos de pesquisa, o tr√°fego do portal flutuava em torno de 1.400 p√°ginas √∫nicas por dia.  E isso, me parece, afirma a morte. <br><br>  <i>PS:</i> De toda a hist√≥ria que pude pessoalmente, fiz uma conclus√£o principal.  Voc√™ pode fazer um bom produto do ponto de vista do desenvolvedor, mas ele n√£o estar√° absolutamente em demanda, porque  n√£o possui gerenciamento adequado.  Se a linha entre os funcion√°rios que mant√©m os neg√≥cios √† tona for rasgada, seu produto certamente ir√° para o fundo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt423955/">https://habr.com/ru/post/pt423955/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt423943/index.html">Otimiza√ß√£o de pre√ßo de varejo offline</a></li>
<li><a href="../pt423945/index.html">A Suprema Corte especificou o procedimento para considerar casos com republica√ß√µes e curtidas</a></li>
<li><a href="../pt423947/index.html">Nossos dados pessoais n√£o custam nada</a></li>
<li><a href="../pt423949/index.html">Um universo consistente com nossas cren√ßas atuais pode n√£o ser poss√≠vel.</a></li>
<li><a href="../pt423953/index.html">Fun√ß√£o humana ou parar de contratar tecnologia</a></li>
<li><a href="../pt423957/index.html">Gera√ß√£o de tr√°fego no espa√ßo do usu√°rio</a></li>
<li><a href="../pt423959/index.html">Caixas Subaqu√°ticas - Para Rob√¥s</a></li>
<li><a href="../pt423961/index.html">N√£o se perca: um novo m√©todo para diagnosticar dem√™ncia</a></li>
<li><a href="../pt423963/index.html">Kelvin Point Prologue</a></li>
<li><a href="../pt423965/index.html">Voc√™ comprou o SIEM e tem certeza de que o SOC est√° no seu bolso, certo?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>