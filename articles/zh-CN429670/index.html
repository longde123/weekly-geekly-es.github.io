<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ” ğŸŠ ğŸ§•ğŸ½ Java Scriptï¼= JavaScriptã€‚ ä¸€å ‚è¯¾æœ‰äº”ä¸ªJavaã€‚ æˆ‘ä»¬ç¼–å†™è„šæœ¬ä»¥ä¾¿æˆ‘ä»¬æ°¸è¿œè®°ä½ ğŸ˜  ğŸ¢ ğŸ‘©ğŸ¼â€ğŸ¤â€ğŸ‘¨ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="JUG.rué›†å›¢å¯èƒ½ä¼šåœ¨æœ¬å‘¨å‘å¸ƒå…¬å‘Šã€‚ ç›´åˆ°æˆ‘è¯´ä»€ä¹ˆã€‚ å‚ä¸ç§˜å¯†é¡¹ç›®å¯ä»¥æ¿€å‘åˆ›é€ åŠ›ï¼Œå› æ­¤è¿™æ˜¯å¦ä¸€ä¸ªæœ‰å…³Javaçš„å¤œé—´è§†é¢‘ã€‚ 

 ä»¤äººéš¾ä»¥ç½®ä¿¡çš„æ¶ˆæ¯ï¼šç°åœ¨å·²ç»ä¸æ˜¯ä¸€ä¸ªåŠå°æ—¶ï¼Œè€Œæ˜¯å¤§çº¦20åˆ†é’Ÿï¼Œç”šè‡³è¿˜æœ‰ä¸€äº›å€¼å¾—å…³æ³¨çš„åœ°æ–¹ã€‚ å®ƒç”±ä¸€ä¸ªæˆªå±è§†é¢‘ç»„æˆï¼Œç•¥å°‘äºå…¨éƒ¨ã€‚ é‚£äº›æ— æ³•å¿å—æ­¤è§†é¢‘åƒåœ¾å¹¶å–œæ¬¢ä½¿ç”¨æ–‡æœ¬è§£å¯†çš„...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Java Scriptï¼= JavaScriptã€‚ ä¸€å ‚è¯¾æœ‰äº”ä¸ªJavaã€‚ æˆ‘ä»¬ç¼–å†™è„šæœ¬ä»¥ä¾¿æˆ‘ä»¬æ°¸è¿œè®°ä½</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/429670/"><iframe width="560" height="315" src="https://www.youtube.com/embed/7SCwk02RPA0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  JUG.rué›†å›¢å¯èƒ½ä¼šåœ¨æœ¬å‘¨å‘å¸ƒå…¬å‘Šã€‚ ç›´åˆ°æˆ‘è¯´ä»€ä¹ˆã€‚ å‚ä¸ç§˜å¯†é¡¹ç›®å¯ä»¥æ¿€å‘åˆ›é€ åŠ›ï¼Œå› æ­¤è¿™æ˜¯å¦ä¸€ä¸ªæœ‰å…³Javaçš„å¤œé—´è§†é¢‘ã€‚ <br><br> ä»¤äººéš¾ä»¥ç½®ä¿¡çš„æ¶ˆæ¯ï¼šç°åœ¨å·²ç»ä¸æ˜¯ä¸€ä¸ªåŠå°æ—¶ï¼Œè€Œæ˜¯å¤§çº¦20åˆ†é’Ÿï¼Œç”šè‡³è¿˜æœ‰ä¸€äº›å€¼å¾—å…³æ³¨çš„åœ°æ–¹ã€‚ å®ƒç”±ä¸€ä¸ªæˆªå±è§†é¢‘ç»„æˆï¼Œç•¥å°‘äºå…¨éƒ¨ã€‚ é‚£äº›æ— æ³•å¿å—æ­¤è§†é¢‘åƒåœ¾å¹¶å–œæ¬¢ä½¿ç”¨æ–‡æœ¬è§£å¯†çš„äººï¼Œåœ¨å‰ªåˆ‡åä¸å¾—ä¸å‰ªåˆ‡å¾ˆå¤šæ–‡æœ¬ã€‚  Welkamï¼Œä¹Ÿè®¸Javaä¸æ‚¨åŒåœ¨ã€‚ <br><a name="habracut"></a><br> å³å°†å‘å¸ƒ12ç§Javaï¼Œè®¸å¤šäººä»ç„¶ååœ¨Semerochkaä¸Šï¼Œä»–ä»¬ç›¸ä¿¡åœ¨å‡çº§çš„æƒ…å†µä¸‹ï¼Œä»–ä»¬ä¸ä¼šçœ‹åˆ°ä»»ä½•ç‰¹åˆ«æ–°é¢–æˆ–æœ‰è¶£çš„ä¸œè¥¿ã€‚ åœ¨æœ¬æœŸè¶…çŸ­ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åœ¨è„šæœ¬åŒ–Javaçš„å¸®åŠ©ä¸‹å°†åŒäº‹çš„ç”Ÿæ´»å˜æˆåœ°ç‹±ï¼Œå¹¶ä¸”åœ¨å‡ ä¸ªåœ°æ–¹ï¼Œæˆ‘å°†ä»‹ç»ä¸€äº›æ–°å·¥å…·ã€‚ å¥½å§ï¼Œè’™æ˜§ä¸»ä¹‰è€…å½“ç„¶ä¸ä¼šä»è¿›æ­¥ä¸­å¹¸å…ã€‚ <br><br> å‘Šè¯‰æˆ‘ï¼Œæ‚¨ä¸ºä»€ä¹ˆè¦æ›´æ–°æ‚¨çš„æƒ³æ³•ï¼Ÿ æ–°åŠŸèƒ½ä¸æ–­å‡ºç°ï¼Œä¸€äº›æ–°çš„å¿«æ·æ–¹å¼ï¼Œä½¿å¼€å‘äººå‘˜çš„å·¥ä½œæ•ˆç‡æé«˜äº†åå€ã€‚ ä½†æ˜¯ä½ ä¸çŸ¥é“ä»–ä»¬ã€‚ ä½ çœŸçš„åœ¨è¯»è¿™ä¸ªæ–°é—»å—ï¼Ÿ å¦‚æœæ‚¨æ˜¯æ™®é€šç”¨æˆ·ï¼Œåˆ™å¯èƒ½ä¸æ˜¯ã€‚ åŸåˆ™ä¸Šï¼Œæ‚¨åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ä¸ä¼šå¯¹æ‚¨é€ æˆä¼¤å®³ã€‚ æ‚¨ä¹‹æ‰€ä»¥æ›´æ–°æƒ³æ³•ï¼Œä»…ä»…æ˜¯å› ä¸ºâ€¦â€¦å¯ä»¥ã€‚ å› ä¸ºçš®è‚¤å¾ˆæ¼‚äº®ï¼Œæ‰€ä»¥æ˜¯æ·±è‰²ä¸»é¢˜ï¼Œæ˜¯MacBookä¸Šçš„è§¦æ‘¸æ ã€‚ ä½†æ˜¯ï¼Œè¿™ç§è§£é‡Šåœ¨å½“å±€é¢å‰å¹¶æ²¡æœ‰ä½œä¸ºâ€œä¸ºä»€ä¹ˆè¦ä¹°è¿™ä¸ªä¸»æ„â€çš„ç­”æ¡ˆã€‚ <br><br> å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œå¯ä»¥è¯´æ˜¯10æœˆ29æ—¥ï¼Œå³æœ€è¿‘ï¼ŒJetBrainsåœ¨Betaç‰ˆçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Ideaä¸­</a>å›ºå®šäº†å¯¹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åŸå§‹è¡Œçš„</a>æ”¯æŒã€‚ è¿™ä¸ªæƒ³æ³•æ˜¯åœ¨betaä¸­ï¼Œè¡Œåœ¨é¢„è§ˆä¸­ï¼Œä½†è¿™å¯¹ä»»ä½•äººéƒ½ä¸å†é‡è¦ã€‚ å¦‚æœæ‚¨å¦‚æ­¤å›ºæ‰§ï¼Œä»¥è‡³äºåªæ”¾äº†12ä¸ªJavaï¼Œé‚£ä¹ˆæ‚¨å°†é‡åˆ°æ›´ä¸¥é‡çš„é—®é¢˜ã€‚ æˆ‘è‡ªå·±çŸ¥é“ã€‚ <br><br> è®©æˆ‘ä»¬çœ‹çœ‹å®ƒåœ¨å®é™…ä¸­çš„å¤–è§‚ã€‚ ä¸ºæ­¤ï¼Œè¯·å°è¯•è§£å†³æŸç§ç¤ºèŒƒé—®é¢˜ã€‚ ç»å¸¸æœ‰è„šæœ¬ç¼–å†™é—®é¢˜ã€‚ ä¾‹å¦‚ï¼Œåœ¨è®¡ç®—æœºæ¸¸æˆä¸­ï¼Œè¿™äº›æ˜¯ä»»åŠ¡ï¼Œåœ¨è©¹é‡‘æ–¯ä¸­ï¼Œè¿™äº›æ˜¯æ„å»ºè„šæœ¬ï¼Œä¾æ­¤ç±»æ¨ã€‚ é€šå¸¸ï¼Œä¸ºæ­¤ä½¿ç”¨Pythonæˆ–Grooveï¼Œè®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨è£¸Javaï¼ ä¸ºä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆï¼Ÿ å› ä¸ºæˆ‘ä»¬å¯ä»¥åšåˆ°ä¸‰è¡Œï¼Œç”šè‡³æ²¡æœ‰é»‘å®¢ã€‚ å¬èµ·æ¥æ˜¯ä¸ªå¥½ä¸»æ„:-) <br><br><h1> åœ¨å“ªé‡Œçœ‹ </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸€åˆ‡éƒ½åœ¨githubä¸Š</a> ã€‚ <br><br><h1> é€‚ç”¨èŒƒå›´ </h1><br> å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè¿™æ ·çš„æ–‡ä»¶ï¼š <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> io.javawatch; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloHabrPrototype</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello Habr!"</span></span>; } };</code> </pre> <br> æˆ‘ä»¬å¸Œæœ›å®ƒä¸æ˜¯åœ¨ç¼–è¯‘æ•´ä¸ªåº”ç”¨ç¨‹åºæ—¶æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨å¯åŠ¨åä½œä¸ºå­—ç¬¦ä¸²æ‰§è¡Œã€‚ å°±åƒè„šæœ¬ä¸€æ ·ã€‚ <br><br><h1> æ‰‹åŠ¨åœ° </h1><br> é¦–å…ˆï¼Œæ‚¨éœ€è¦å°†æ‰€æœ‰å†…å®¹éƒ½æ”¾å…¥å­—ç¬¦ä¸²ä¸­ã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String SOURCE = <span class="hljs-string"><span class="hljs-string">"\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" package io.javawatch;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" public class HelloHabr {\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" public String get() {\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" return \"Hello Habr!\";\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" }\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" };"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String CNAME = <span class="hljs-string"><span class="hljs-string">"io.javawatch.HelloHabr"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String CODE_CACHE_DIR = <span class="hljs-string"><span class="hljs-string">"C:/temp/codeCache"</span></span>;</code> </pre><br> æ‰€æœ‰è¿™äº›â€œ \ nâ€åŠ å·å’Œç¼©è¿›çœ‹èµ·æ¥éå¸¸æƒ¨ã€‚ <br><br> ä»¥å‰ï¼Œæˆ‘ä»¬æ‰€èƒ½åšçš„å°±æ˜¯å°†ä»£ç æ”¾åœ¨æ–‡ä»¶ä¸­å¹¶è¯»å–ã€‚ è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä½†å¹¶ä¸æ€»æ˜¯é€‚ç”¨ã€‚ ä¾‹å¦‚ï¼Œæ‚¨æ˜¯ä¼šè®®çš„å‘è¨€äººï¼Œå¹¶æ¼”ç¤ºå¹»ç¯ç‰‡ä¸­çš„ä»£ç ã€‚ å³ä½¿æ˜¯ä¸Šé¢çš„æ„é€ ï¼Œä¹Ÿæ¯”ä»…æ˜¯æœªç»è¯å®çš„å‚è€ƒè¦å¥½å¾—å¤šï¼Œå› ä¸ºæ‚¨çš„ä»£ç åœ¨æŸå¤„å¯ä»¥æ‰§è¡ŒæŸäº›æ“ä½œã€‚ åˆ‡æ¢å¹»ç¯ç‰‡ä¼šæµªè´¹æ—¶é—´å’Œè§‚ä¼—çš„æ³¨æ„åŠ›ã€‚ ç­‰ç­‰ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œå½“æ‚¨éœ€è¦å®Œå…¨å†…è”çš„ä»£ç æ—¶ï¼Œå°±å¯ä»¥æå‡ºã€‚ <br><br> ç°åœ¨æˆ‘ä»¬æœ‰æœºä¼šä½¿ç”¨åŸå§‹å­—ç¬¦ä¸²æ‘†è„±åƒåœ¾ã€‚ æˆ‘ä»¬å°†å…‰æ ‡æ”¾åœ¨ä»£ç ä¸Šï¼Œç„¶åæŒ‰Alt + Enterï¼ˆæˆ–åœ¨Ideaä¸­çš„OS Quck Fixä¸Šè¿è¡Œçš„ä»»ä½•å‘½ä»¤ï¼‰ã€‚ é€‰æ‹©â€œè½¬æ¢ä¸ºåŸå§‹å­—ç¬¦ä¸²æ–‡å­—â€å¹¶è·å¾—ä»¥ä¸‹nyashkaï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String SOURCE = ` <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> io.javawatch; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloHabr</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello Habr!"</span></span>; } };`; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String CNAME = <span class="hljs-string"><span class="hljs-string">"io.javawatch.HelloHabr"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String CODE_CACHE_DIR = <span class="hljs-string"><span class="hljs-string">"C:/temp/codeCache"</span></span>;</code> </pre><br> æˆ‘è®¤ä¸ºï¼Œå°±æ­¤åŠŸèƒ½è€Œè¨€ï¼Œå·²ç»å€¼å¾—è¿è¡ŒJDK 12ã€‚ <br><br> é¡ºä¾¿è¯´ä¸€å¥ï¼Œä¸ºäº†ä½¿è¯¥åŠŸèƒ½æ­£å¸¸è¿è¡Œï¼Œæ‚¨éœ€è¦åšå‡ ä»¶äº‹ï¼š <br><br><ul><li> ä¸‹è½½JDK 12å¹¶æ³¨å†Œé¡¹ç›®è®¾ç½® </li><li> åœ¨å…¨å±€javacè®¾ç½®ä¸­ï¼Œè®¾ç½®<code>--release</code>æ ‡å¿—ï¼Œå­—èŠ‚ç ç‰ˆæœ¬12ï¼Œå…¶ä»–æ ‡å¿—<code>--enable-preview</code> <code>-Xlint:preview</code> </li><li> ç°åœ¨ï¼Œåœ¨ä»»ä½•è¿è¡Œ/è°ƒè¯•é…ç½®ä¸­ï¼Œæ‚¨éœ€è¦æ·»åŠ VMæ ‡å¿—<code>--enable-preview</code> </li></ul><br> å¦‚æœæ‚¨ä¸æ˜ç™½å®ƒçš„å®Œæˆæ–¹å¼ï¼Œè¯·ä»å¸–å­æ ‡é¢˜ä¸­æŸ¥çœ‹æˆ‘çš„æˆªå±è§†é¢‘ï¼Œé‚£é‡Œçš„ä¸€åˆ‡éƒ½éå¸¸æ¸…æ¥šã€‚ <br><br> ç°åœ¨ï¼Œå¼€å§‹ï¼Œæ‚¨éœ€è¦æ‰§è¡Œä¸‰ä¸ªç®€å•çš„æ­¥éª¤ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæºçš„ä¾¿æ·å†…éƒ¨è¡¨ç¤ºå½¢å¼ï¼Œå¯¹å…¶è¿›è¡Œç¼–è¯‘å¹¶è¿è¡Œï¼š <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* 1 */</span></span> RuntimeSource file = RuntimeSource.create(); <span class="hljs-comment"><span class="hljs-comment">//SimpleJavaFileObject /* 2 */ compile(Collections.singletonList(file)); /* 3 */ String result = run(); /* 4 */ /* ??? */ /* 5 */ /* PROFIT! */ System.out.println(result); }</span></span></code> </pre><br> æœ‰ä¸€ä¸ªç”¨äºâ€œä¾¿æ·è¡¨ç¤ºâ€çš„<code>SimpleJavaFileObject</code>ç±»ï¼Œä½†æ˜¯å®ƒå…·æœ‰ä¸€ä¸ªæœ‰è¶£çš„åŠŸèƒ½ã€‚ å®ƒæ˜¯éå¸¸æŠ½è±¡çš„ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶å·²ç¼–è¯‘æºåº”è¿”å›çš„é”®æ–¹æ³•å§‹ç»ˆå¼•å‘æ‰§è¡Œï¼Œä»¥å¸Œæœ›æˆ‘ä»¬å°†å…¶å­ç±»åŒ–ï¼š <br><br><pre> <code class="java hljs"> <span class="hljs-comment"><span class="hljs-comment">/** * This implementation always throws {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@linkplain</span></span></span><span class="hljs-comment"> * UnsupportedOperationException}. Subclasses can change this * behavior as long as the contract of {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> FileObject} is * obeyed. */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> CharSequence </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCharContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ignoreEncodingErrors)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UnsupportedOperationException(); }</code> </pre><br> å› æ­¤ï¼Œæ‚¨å¿…é¡»å†™ä¸€äº›ç»§æ‰¿äººã€‚ è¯·æ³¨æ„ï¼ŒåŸå§‹çš„<code>SimpleJavaFileObject</code>æ„é€ å‡½æ•°éœ€è¦å·²ç¼–è¯‘ç±»çš„URIï¼Œä½†æ˜¯æˆ‘ä»¬ä»å“ªé‡Œå¾—åˆ°å‘¢ï¼Ÿ å› æ­¤ï¼Œæˆ‘å»ºè®®ä»¥æœ€æ˜æ˜¾çš„æ–¹å¼ç²˜è´´å®ƒï¼Œä¾‹å¦‚<code>buildURI</code>å‡½æ•°ä¸­çš„<code>buildURI</code> ï¼š <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RuntimeSource</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleJavaFileObject</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String contents = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> CharSequence </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCharContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ignoreEncodingErrors)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> contents; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> RuntimeSource </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RuntimeSource(CNAME, SOURCE); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RuntimeSource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String className, String contents)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(buildURI(className), Kind.SOURCE); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.contents = contents; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> URI </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildURI</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String className)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// io.javawatch.HelloHabr -&gt; // string:///io/javawatch/HelloHabr.java URI uri = URI.create("string:///" + className.replace('.', '/') + Kind.SOURCE.extension); System.out.println(uri); return uri; }</span></span></code> </pre><br> ç°åœ¨è®©æˆ‘ä»¬ç»§ç»­ç¼–è¯‘ï¼š <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;RuntimeSource&gt; files)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ File ccDir = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> File(CODE_CACHE_DIR); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ccDir.exists()) { FileUtils.deleteDirectory(ccDir); FileUtils.forceMkdir(ccDir); } JavaCompiler compiler = ToolProvider.getSystemJavaCompiler(); Logger c = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Logger(); StandardJavaFileManager fileManager = compiler.getStandardFileManager(c, Locale.ENGLISH, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); Iterable options = Arrays.asList(<span class="hljs-string"><span class="hljs-string">"-d"</span></span>, CODE_CACHE_DIR, <span class="hljs-string"><span class="hljs-string">"--release=12"</span></span>, <span class="hljs-string"><span class="hljs-string">"--enable-preview"</span></span>, <span class="hljs-string"><span class="hljs-string">"-Xlint:preview"</span></span>); JavaCompiler.CompilationTask task = compiler.getTask(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, fileManager, c, options, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, files); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (task.call()) { System.out.println(<span class="hljs-string"><span class="hljs-string">"compilation ok"</span></span>); } }</code> </pre><br> è¯·æ³¨æ„ï¼šæˆ‘ä»¬ä¼ é€’äº†å››ä¸ªç»„è£…æ ‡å¿—ï¼Œå…¶ä¸­ä¸‰ä¸ªæ ‡å¿—è´Ÿè´£åœ¨Ideaçš„javacè®¾ç½®ä¸­æŒ‡å®šä¸ä½¿ç”¨é¼ æ ‡æ‰€åšçš„å®Œå…¨ç›¸åŒçš„é€‰é¡¹ã€‚ <br><br> æœ€åï¼Œè¿è¡Œæˆ‘ä»¬çš„ä¸´æ—¶è¯¾ç¨‹ï¼š <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> ClassNotFoundException, IllegalAccessException, InstantiationException, NoSuchMethodException, InvocationTargetException, MalformedURLException </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   File ccDir = new File(CODE_CACHE_DIR); ClassLoader loader = new URLClassLoader(new URL[]{ccDir.toURL()}); var clss = loader.loadClass("io.javawatch.HelloHabr"); // Java 10 //    Object instance = clss.getConstructor().newInstance(); // Java 9 // Object instance = clss.newInstance(); Method thisMethod = clss.getDeclaredMethod("get"); Object result = thisMethod.invoke(instance); return (String) result; }</span></span></code> </pre><br> è¯·æ³¨æ„ï¼Œ <code>var clss = loader.loadClass</code>æ¯”<code>Class&lt;?&gt; clss = loader.loadClass</code> <code>var clss = loader.loadClass</code>ç¼–å†™ï¼Œå¹¶ä¸”ä¸ä¼šå¼•å…¥ä»»ä½•æ–°çš„å˜åŒ–ã€‚  <code>var</code>å…³é”®å­—å‡ºç°åœ¨å‰ååä¸­ã€‚ <br><br> å¦è¯·æ³¨æ„ï¼Œå»ºè®®ä»9å¼€å§‹å‰Šå‡<code>clss.newInstance()</code> ã€‚ ä»–åä¸‹å¼‚å¸¸ï¼Œè¿™å¾ˆç³Ÿç³•ã€‚ ä¹äººå»ºè®®é¦–å…ˆè°ƒç”¨<code>getConstructor</code> ï¼Œè¯¥æ–¹æ³•å·²å‚æ•°åŒ–å¹¶æŠ›å‡ºæ­£ç¡®çš„å¼‚å¸¸ã€‚ <br><br> è¿˜è¯·æ³¨æ„ï¼Œæˆ‘å°†å˜é‡ç§°ä¸º<code>class</code> ï¼Œä½†æ˜¯Javaå´æ²¡æœ‰èª“è¨€ã€‚ ä½œä¸šï¼šæ‚¨å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼æ¥å®Œæˆä½œä¸šï¼Œæ‚¨éœ€è¦äº†è§£å“ªç§æ–¹å¼æœ€æœ‰è¶£ä»¥åŠä¸ºä»€ä¹ˆã€‚ <br><br> å¥½å§ï¼Œæ€»çš„æ¥è¯´ï¼Œä»…æ­¤è€Œå·²ã€‚ å¯ä»¥ç”¨ <br><br><h1> è‡ªåŠ¨åŒ–æŠ€æœ¯ </h1><br> è¯„è®ºå®¶ä¼šåœ¨è¿™é‡ŒæƒŠå¹ï¼Œè¿™é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯é»‘è‰²çš„ï¼Œå› ä¸ºJavaä¸–ç•Œä¸­æœ‰ä¸€äº›åº“å¯ä»¥ä¸€ç«™å¼ä¸ºæ‚¨ç¼–è¯‘æ‰€æœ‰å†…å®¹ã€‚ <br><br> å¥½ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ã€‚ è¿™æ˜¯ä½äºGoogleé¡¶éƒ¨çš„JOORåº“ä¸­çš„ä»£ç ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> io.javawatch; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.joor.Reflect; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.function.Supplier; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Automatic</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ Supplier&lt;String&gt; supplier = Reflect.compile( <span class="hljs-string"><span class="hljs-string">"io.javawatch.HelloHabr"</span></span>, ` <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> io.javawatch; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloHabr</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">util</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">function</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Supplier</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello Habr!"</span></span>; } };` ).create().get(); System.out.println(supplier.get()); } }</code> </pre><br> å¥½åƒä¸€åˆ‡éƒ½å¾ˆå¥½ã€‚ çš„ç¡®ï¼Œé™¤äº†æˆ‘ä¸å¾—ä¸æ‹–åŠ¨saplayerä¹‹å¤–ï¼Œä¸€è¡Œéƒ½å¯ä»¥ã€‚ <br><br> ä½†æ˜¯æœ‰ç»†å¾®å·®åˆ«ã€‚ å°è¯•è¿”å›â€œ Hello Habrï¼â€ åƒåŸå§‹å­—ç¬¦ä¸²æ–‡å­—ä¸€æ ·ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ``Hello Habr!``; }</code> </pre><br> ä¸€åˆ‡éƒ½ä¼šç«‹å³å´©æºƒï¼Œå¹¶æ˜¾ç¤ºé”™è¯¯â€œï¼ˆä½¿ç”¨--able-previewå¯ç”¨åŸå§‹å­—ç¬¦ä¸²æ–‡å­—ï¼‰â€ã€‚ ä½†æ˜¯æˆ‘ä»¬å·²ç»æ‰“å¼€äº†å—ï¼Ÿ æ˜¯çš„ï¼Œä¸¤ä¸ªåœ°ç‹±ã€‚ æˆ‘ä»¬å°†å…¶åŒ…å«åœ¨Ideaä¸­ï¼Œç„¶åJOORä½¿ç”¨ç³»ç»Ÿç¼–è¯‘å™¨è¿›è¡Œæ„å»ºï¼ è®©æˆ‘ä»¬çœ‹çœ‹é‡Œé¢æ˜¯ä»€ä¹ˆï¼š <br><br><pre> <code class="java hljs">JavaCompiler compiler = ToolProvider.getSystemJavaCompiler(); ompiler.getTask(out, fileManager, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, files).call();</code> </pre><br> å½“æˆ‘ä»¬è‡ªå·±è°ƒç”¨ç›¸åŒçš„JavaCompileræ—¶ï¼Œæˆ‘ä»¬å‘¢ï¼Ÿ <br><br><pre> <code class="java hljs"> Iterable options = Arrays.asList(<span class="hljs-string"><span class="hljs-string">"-d"</span></span>, CODE_CACHE_DIR, <span class="hljs-string"><span class="hljs-string">"--release=12"</span></span>, <span class="hljs-string"><span class="hljs-string">"--enable-preview"</span></span>, <span class="hljs-string"><span class="hljs-string">"-Xlint:preview"</span></span>); JavaCompiler.CompilationTask task = compiler.getTask(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, fileManager, c, options, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, files);</code> </pre><br> è€Œåœ¨JOORä¸­ï¼Œä»…æœ‰ä¸€ä¸ªç©ºnullè€Œä¸æ˜¯é€‰é¡¹ã€‚ ä»–ä»¬ç”šè‡³æ— æ³•é€šè¿‡é‡Œé¢ï¼ <br><br> åœ¨JOORä¸­å‘Githubå‘é€è¿™æ ·çš„æ‹‰å–è¯·æ±‚å¯èƒ½æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚ å¦‚æœæˆ‘è‡ªå·±ä¸æƒ³åšï¼Œé‚£å°±å»å§ï¼Ÿ <br><br> è€Œä¸”é“å¾·å¾ˆç®€å•ï¼Œä¸è¦æ€•å¼€æºç¤¼ç‰©ã€‚ æœ‰æ—¶å€™ï¼Œå†™ä¸‹ä¸€å°æ®µæ–‡å­—ä¼šæ¯”è¾ƒå®¹æ˜“ï¼Œä½†æ˜¯å¯ä»¥æ§åˆ¶å®ƒã€‚ <br><br><h1> æœ€ç®€å•çš„æ–¹æ³• </h1><br> æœ‰ä¸€ç§æ–¹æ³•ä¸å†™æ–‡å­—å¢™ï¼Œä¹Ÿä¸ä½¿ç”¨å¯ç–‘åº“ã€‚ ä»Java 9å¼€å§‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªäº¤äº’å¼å¤–å£³ç¨‹åºï¼ˆç±»ä¼¼äºPythonï¼ŒRubyå’Œå…¶ä»–è„šæœ¬è¯­è¨€çš„å¤–å£³ç¨‹åºï¼‰ï¼Œå¯ä»¥æ‰§è¡ŒJavaå‘½ä»¤ã€‚ å½“ç„¶ï¼Œå®ƒæ˜¯ç”¨Javaæœ¬èº«ç¼–å†™çš„ï¼Œå¹¶ä¸”å¯ä»¥ä½œä¸ºJavaç±»ä½¿ç”¨ã€‚ æ‚¨å¯ä»¥åˆ›å»ºå®ƒçš„å®ä¾‹ï¼Œç„¶åç›´æ¥ç›´æ¥æ‰§è¡Œå¿…è¦çš„åˆ†é…ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shell</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> jShell = JShell.create(); <span class="hljs-comment"><span class="hljs-comment">//Java 9 jShell.eval("String result;"); jShell.eval(`result = "Hello Habr!";`); //Java 12 var result = jShell.variables() //Streams: Java 8, var: Java 10 .filter((@Nullable var v) -&gt; v.name().equals("result")) //var+lambda: Java 11 .findAny() .get(); System.out.println(jShell.varValue(result)); } }</span></span></code> </pre><br>  Streamså‡ºç°åœ¨Java 8ä¸­ï¼Œç°åœ¨å·²åœ¨å„å¤„ä½¿ç”¨ï¼Œæ‚¨ç”šè‡³ä¸éœ€è¦è‡ªå·±è°ƒç”¨<code>stream()</code> ï¼Œå…¶ä»–äººä¼šä¸ºæ‚¨è°ƒç”¨å®ƒã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè°ƒç”¨<code>variables()</code>å®Œå…¨è¿”å›æµï¼Œè€Œä¸æ˜¯ArrayListï¼Œå°±åƒä¸€ä¸ªå›°éš¾çš„ä¸ƒä¸ªç«¥å¹´æ—¶æœŸçš„äººä¼šåšçš„é‚£æ ·ã€‚ æµçš„ç»“æœå¯ä»¥ç«‹å³å€’å…¥<code>var</code> ã€‚ <br><br> è¯·æ³¨æ„ï¼Œç°åœ¨æ‚¨ä¹Ÿå¯ä»¥åœ¨lambdaå‚æ•°ä¸­ç¼–å†™<code>var</code> ã€‚ è‡ªJava 11èµ·ï¼Œæ­¤åŠŸèƒ½å°±ä¸€ç›´å­˜åœ¨ã€‚ <br><br> é€šå¸¸ï¼Œè¿™æ˜¯éå¸¸é‡è¦çš„ä¸€ç±»ã€‚ å®ƒä½¿ç”¨äº†æ¥è‡ªä¸åŒJavaä¸–ä»£çš„è®¸å¤šåŠŸèƒ½ï¼Œæ‰€æœ‰è¿™äº›çœ‹èµ·æ¥éƒ½æ˜¯æ•´ä½“å’Œè°çš„ã€‚ æˆ‘ç¡®ä¿¡è¿™æ ·çš„äº‹æƒ…å°†è¢«æ‰€æœ‰äººå’Œä¸–ç•Œå„åœ°æ‰€ä½¿ç”¨ï¼Œå› æ­¤Java 12ä¸­çš„ä»£ç åœ¨è§†è§‰ä¸Šå°†ç›´æ¥ä¸åŒäºJava 7ä¸­çš„ä»£ç ã€‚ <br><br><h1> æ€»ç»“ä¸€ä¸‹ </h1><br> æˆ‘ä»¬ç ”ç©¶äº†ä¸€äº›åŠŸèƒ½ï¼š <br><br><ul><li>  8ï¼šæºªæµï¼ˆç”¨äºå¦å…‹ä¸­çš„äººï¼‰ </li><li>  9ï¼šJShellå’Œæ–°çš„ä¸æ¨èä½¿ç”¨çš„æ–¹æ³• </li><li>  10ï¼švarå…³é”®å­— </li><li>  11ï¼šlambdaå‚æ•°çš„Varå¼€å‘ </li><li>  12ï¼šåŸå§‹å­—ç¬¦ä¸²æ–‡å­—åŠå…¶åœ¨IntelliJ IDEAä¸­çš„æ”¯æŒ </li></ul><br> å¯¹åˆå­¦è€…çš„ä¸€ç‚¹è­¦å‘Šã€‚ å¦‚æœæ‚¨åœ¨æ²¡æœ‰ä»»ä½•ç‰¹æ®Šå«ä¹‰çš„å®é™…åº”ç”¨ç¨‹åºä¸­ä¸æ–­è¿›è¡Œæ­¤æ“ä½œï¼Œé‚£ä¹ˆæ‚¨çš„åŒäº‹ä¼šé¦–å…ˆå‘ç–¯ï¼Œè¯•å›¾ç†è§£æ‚¨çš„å†…å®¹ï¼Œç„¶åä»–ä»¬å¯èƒ½ä¼šéå¸¸ç—›è‹¦åœ°å‡»è´¥æ‚¨ã€‚ è€Œä¸”ï¼Œæˆ‘ç°åœ¨ä¸æ˜¯åœ¨è°ˆè®ºæ–°çš„JavaåŠŸèƒ½ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œç¼–è¯‘ã€‚ <br><br> å¦‚æœæ‚¨æƒ³äº†è§£æœ‰å…³Javaä½œä¸ºä¸€ç§è¯­è¨€çš„æ›´å¤šä¿¡æ¯ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥ä¾‹å¦‚æŸ¥çœ‹Tagir Valeevçš„æŠ¥å‘Šã€‚ æ‚¨çŸ¥é“ä»–æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">å“ˆå°¼</a> ï¼ˆHabrÃ©ï¼‰Javaé›†çº¿å™¨é¡¶ç«¯çš„å®¶ä¼™ã€‚ åœ¨Jokerï¼Œä»–è°ˆè®ºäº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Amber</a> ï¼Œåœ¨JPointï¼Œè°ˆè®ºäº†ä»–è‘—åçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">éš¾é¢˜</a> ï¼Œç­‰ç­‰ã€‚ é‚£é‡Œï¼Œä»¥åŠæœ‰å…³Javaè¯­è¨€å’ŒIntelliJ IDEAçš„æ‰€æœ‰ä¿¡æ¯ã€‚ æ‰€æœ‰è¿™äº›éƒ½å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨YouTubeä¸Šæ‰¾åˆ°</a> ã€‚ å®é™…ä¸Šï¼Œå‡ºäºå¯¹Tagirçš„å«‰å¦’ï¼Œä»–å¯ä»¥è¯´ä¸€äº›å…³äºè¯­è¨€æœ¬èº«çš„ä¿¡æ¯ï¼Œä½†æˆ‘æ²¡æœ‰ï¼Œè¿™ç¯‡æ–‡ç« å·²ç»è¯æ˜äº†ã€‚ ä¹Ÿå°†æœ‰æ–°çš„ç©ç¬‘è€…å’ŒJPointï¼Œä½†æˆ‘ä»¬ç¨åä¼šè®¨è®ºã€‚ <br><br> æˆ‘å±¥è¡Œäº†æˆ‘çš„é“å¾·ä¹‰åŠ¡ï¼Œè¿™æ˜¯Javaçš„ä¹‰åŠ¡ã€‚ ä»æˆ‘è¿™è¾¹ï¼Œå­å¼¹é£äº†å‡ºæ¥ã€‚ åœ¨é‚£ä¸ƒä¸ªæ²¡æœ‰ç¬¬åäºŒä¸ªJavaçš„äººé‚£é‡Œï¼Œæ‚¨ä¸€ç›´éƒ½å¾ˆå¥½ï¼Œå¿ƒæƒ…å¾ˆå¥½ï¼Œèº«ä½“å¥åº·ã€‚ è°¢è°¢å•¦ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN429670/">https://habr.com/ru/post/zh-CN429670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN429654/index.html">æ”¹å–„é¡¹ç›®ç®¡ç†</a></li>
<li><a href="../zh-CN429656/index.html">äººå·¥æ™ºèƒ½ä¹Ÿæ˜¯é”™è¯¯çš„ã€‚ éšç€Amazon Goåœ¨ç¾å›½ä¸ºæˆ‘ä»¬æä¾›æ·å¾„-å°†æ¥æ²¡æœ‰æ”¶é“¶å‘˜å’Œå–å®¶çš„å•†åº—</a></li>
<li><a href="../zh-CN429658/index.html">SpaceX Starlinkå«æ˜Ÿäº’è”ç½‘-â€œå°åˆ·è´§å¸è®¸å¯è¯â€</a></li>
<li><a href="../zh-CN429662/index.html">æˆ‘ä»¬çªç ´äº†æœºå™¨äººçš„ä¿æŠ¤</a></li>
<li><a href="../zh-CN429668/index.html">Google PageSpeed Insightså·²è¿›è¡Œäº†å½»åº•çš„æ›´æ–°ï¼Œå®ƒå°†å‘ç”Ÿä»€ä¹ˆå˜åŒ–ï¼Ÿ</a></li>
<li><a href="../zh-CN429676/index.html">å¤‡ä»½åˆ°ç£å¸¦</a></li>
<li><a href="../zh-CN429678/index.html">æˆ‘ä»¬å¦‚ä½•å°†1000ä¸‡è¡ŒC ++ä»£ç è½¬æ¢ä¸ºC ++ 14æ ‡å‡†ï¼ˆç„¶åè½¬æ¢ä¸ºC ++ 17ï¼‰</a></li>
<li><a href="../zh-CN429680/index.html">éº»çœç†å·¥å­¦é™¢çš„è¯¾ç¨‹â€œè®¡ç®—æœºç³»ç»Ÿå®‰å…¨â€ã€‚ è®²åº§17ï¼šç”¨æˆ·è®¤è¯ï¼Œç¬¬1éƒ¨åˆ†</a></li>
<li><a href="../zh-CN429682/index.html">éº»çœç†å·¥å­¦é™¢çš„è¯¾ç¨‹â€œè®¡ç®—æœºç³»ç»Ÿå®‰å…¨â€ã€‚ è®²åº§17ï¼šç”¨æˆ·è®¤è¯ï¼Œç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN429684/index.html">Firebase Summit 2018ï¼šç®€è¦ä»‹ç»ä¸»è¦å†…å®¹</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>