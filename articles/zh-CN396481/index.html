<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ– ğŸ’” ğŸ¤½ğŸ½ æˆ‘ä»¬å°†VoIP GSMç½‘å…³Yeastar TG100æ³µé€åˆ°PBX â›ï¸ ğŸ˜œ ğŸ‘™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ç»å¤§å¤šæ•°ç°æˆçš„IP-PBXéƒ½æ˜¯ä¸ºå‘˜å·¥äººæ•°ä¸º10äººæˆ–ä»¥ä¸Šçš„å…¬å¸è®¾è®¡çš„ã€‚å®é™…ä¸Šï¼Œåœ¨ä¿„ç½—æ–¯ï¼Œæœ‰å¾ˆå¤šå…¬å¸æ‹¥æœ‰2è‡³5åå‘˜å·¥ï¼Œå¹¶ä¸”ä»–ä»¬è¿˜éœ€è¦ç»„ç»‡ç”µè¯é€šè®¯ã€‚ç°æˆçš„IP-PBXçš„åŠŸèƒ½å¯¹å…¶æ¥è¯´æ˜¯å¤šä½™çš„ï¼Œå¹¶ä¸”æˆæœ¬å¤ªé«˜ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å¸¸è§„è®¡ç®—æœºå’ŒAsteriskå»ºç«‹è‡ªå·±çš„ç”µè¯äº¤æ¢æœºã€‚æ‚¨å¯ä»¥è¿æ¥åˆ°VoIPæœåŠ¡æä¾›å•†å¹¶ä½¿ç”¨æœåŠ¡â€œ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æˆ‘ä»¬å°†VoIP GSMç½‘å…³Yeastar TG100æ³µé€åˆ°PBX</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/arttel/blog/396481/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»å¤§å¤šæ•°ç°æˆçš„IP-PBXéƒ½æ˜¯ä¸ºå‘˜å·¥äººæ•°ä¸º10äººæˆ–ä»¥ä¸Šçš„å…¬å¸è®¾è®¡çš„ã€‚å®é™…ä¸Šï¼Œåœ¨ä¿„ç½—æ–¯ï¼Œæœ‰å¾ˆå¤šå…¬å¸æ‹¥æœ‰2è‡³5åå‘˜å·¥ï¼Œå¹¶ä¸”ä»–ä»¬è¿˜éœ€è¦ç»„ç»‡ç”µè¯é€šè®¯ã€‚ç°æˆçš„IP-PBXçš„åŠŸèƒ½å¯¹å…¶æ¥è¯´æ˜¯å¤šä½™çš„ï¼Œå¹¶ä¸”æˆæœ¬å¤ªé«˜ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å¸¸è§„è®¡ç®—æœºå’ŒAsteriskå»ºç«‹è‡ªå·±çš„ç”µè¯äº¤æ¢æœºã€‚æ‚¨å¯ä»¥è¿æ¥åˆ°VoIPæœåŠ¡æä¾›å•†å¹¶ä½¿ç”¨æœåŠ¡â€œ cloud PBXâ€ã€‚æ‚¨å¯ä»¥é‡‡ç”¨å¦ä¸€ç§æ–¹æ³•-æ‹¿ä¸€å°å·²ç»é¢„è£…äº†Asteriskçš„å»‰ä»·è®¾å¤‡ï¼Œä¾‹å¦‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yeastar TG100</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œç„¶åç¨å¾®å¢åŠ ä¸€ä¸‹å…¶åŠŸèƒ½ã€‚å¯¹äºé‚£äº›ä¸å–œæ¬¢ç®€å•æ–¹æ³•çš„äººï¼Œæ¬¢è¿å…‰ä¸´ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/files/aed/b8a/870/aedb8a87057b45d9830ed77b91cfce41.jpg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yeastar TG100æ˜¯ç”¨äºä¸€å¼ SIMå¡çš„VoIP GSMç½‘å…³ï¼Œé€šå¸¸ç”¨äºä½¿ç”¨SIPåè®®å°†èœ‚çªçº¿è·¯è¿æ¥åˆ°IP-PBXã€‚æˆ‘ä»¬å°†å°è¯•ä¸å°†Yeastar TG100ä¸IP-PBXä¸€èµ·ä½¿ç”¨ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©GSMç½‘å…³ä½œä¸ºæµ‹è¯•å¯¹è±¡ï¼Ÿè®¸å¤šå…¬å¸åœ¨æ´»åŠ¨å¼€å§‹æ—¶å°±ä½¿ç”¨å›ºå®šçš„æ‰‹æœºå·ç ä¸ä¸–ç•Œè¿›è¡Œé€šä¿¡å·²ä¸æ˜¯ä»€ä¹ˆç§˜å¯†ã€‚åœ¨å¢é•¿çš„è¿‡ç¨‹ä¸­ï¼Œé€šä¿¡éœ€æ±‚å¢åŠ äº†ï¼Œä½†æˆ‘ä¹Ÿæƒ³ä¿ç•™æ—§çš„æ•°å­—-ä»è¿™ä¸ªæ„ä¹‰ä¸Šè®²ï¼Œåœ¨è®¡ç®—æœºæˆ–è™šæ‹ŸIP-PBXä¸Šï¼Œä½¿ç”¨VoIP GSMç½‘å…³çš„é€‰é¡¹çœ‹èµ·æ¥æ¯”Asteriskå¥½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºä»€ä¹ˆæ˜¯Yeastarï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬è®¤ä¸ºï¼Œè¿™äº›æ˜¯æˆ‘ä»¬å¸‚åœºä¸Šè´¨é‡æœ€é«˜çš„VoIP GSMç½‘å…³ã€‚å…¶æ¬¡ï¼Œè¿™äº›ç½‘å…³æä¾›äº†è®¿é—®å®‰è£…åœ¨å…¶ä¸Šçš„Asteriskå¹¶ä¿®æ”¹é…ç½®æ–‡ä»¶çš„èƒ½åŠ›ï¼ˆå¯¹æ­¤å·¥ç¨‹å¸ˆåº”è¡¨ç¤ºç‰¹åˆ«çš„æ„Ÿè°¢ï¼‰ã€‚ç¬¬ä¸‰ï¼Œåˆ¶é€ å•†è‡ªå·±å£°ç§°Yeastar VoIP GSMç½‘å…³æ”¯æŒâ€œç”¨äºæ³¨å†ŒIPç”µè¯çš„SIPæœåŠ¡å™¨â€ï¼Œè¿™å¸¸å¸¸ä¼šè¯¯å¯¼æœ€ç»ˆç”¨æˆ·ï¼Œä»–ä»¬è®¤ä¸ºä»–ä»¬å¯ä»¥å°†ç½‘å…³ç”¨ä½œå®Œæ•´çš„IP-PBXã€‚æ­¤ç±»ç”¨æˆ·å¯èƒ½åªå¯¹æœ¬æ–‡æ„Ÿå…´è¶£ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©æœ€å¹´è½»çš„Yeastar TG100ï¼Ÿ</font><font style="vertical-align: inherit;">è¿™é‡Œçš„ä¸€åˆ‡éƒ½å¾ˆç®€å•-å› ä¸ºæˆ‘ä»¬åœ¨è°ˆè®ºæœ€å°çš„è‡ªåŠ¨ç”µè¯äº¤æ¢ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©äº†æœ€ä¾¿å®œçš„ç½‘å…³ã€‚</font><font style="vertical-align: inherit;">å¦‚æœéœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨TG200ï¼ˆç”¨äºä¸¤å¼ SIMå¡ï¼‰ï¼ŒTG400ï¼ˆç”¨äºå››å¼ ï¼‰ç”šè‡³TG800ï¼ˆç”¨äºå…«å¼ ï¼‰ä»£æ›¿TG100ï¼Œå®ƒä»¬çš„è®¾ç½®ä¸ä¼šå‘ç”Ÿæ ¹æœ¬å˜åŒ–ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬æƒ³å¾—åˆ°ä»€ä¹ˆï¼Ÿ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œæˆ‘ä»¬å°†ç¡®å®šæœªæ¥çš„IP-PBXåº”è¯¥å…·æœ‰çš„æœ€å°åŠŸèƒ½é›†ã€‚</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¹è®²æœº </font><font style="vertical-align: inherit;">åœ¨ç½‘å…³ä¸Šæ³¨å†Œçš„ç”¨æˆ·çš„IPç”µè¯æˆ–è½¯ç”µè¯åº”èƒ½å¤Ÿæ‹¨æ‰“ç”µè¯å’Œè½¬æ¥ç”µè¯</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¥ç”µã€‚</font><font style="vertical-align: inherit;">æ¥ç”µåº”è½¬åˆ°äº¤äº’å¼è¯­éŸ³èœå•ï¼Œè¯¥èœå•å°†ä¸ºå‘¼å«è€…æä¾›å‡ ä¸ªä¸å…¬å¸å‘˜å·¥è”ç³»çš„é€‰é¡¹</font></font></li>
<li>SIP-.  GSM- â€“  ,          ,    ,     VoIP- </li>
<li> .           â€“ SIP  GSM,     ,         .      â€“         GSM-,   â€“  SIP</li>
</ol><br>
<h3>     ?</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†å°è¯•é€šè¿‡ä½¿ç”¨æ ‡å‡†é…ç½®å·¥å…·ï¼ˆå³Webç•Œé¢ï¼‰çš„é…ç½®æ–‡ä»¶æ¥æœ€å¤§é™åº¦åœ°å‡å°‘ç½‘å…³çš„é…ç½®ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå°†ç”¨æˆ·è¿æ¥åˆ°IPç”µè¯ç½‘å…³æ‰€éœ€çš„SIPå¸æˆ·æ•°é‡ã€‚è½¬åˆ°â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç½‘å…³-VoIPçº¿è·¯â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éƒ¨åˆ†</font><font style="vertical-align: inherit;">ï¼Œç„¶åå•å‡»â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ VoIPçº¿è·¯â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/files/72e/37b/b67/72e37bb6774243699862301ba5506049.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çº¿è·¯ç±»å‹ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> VoIPå¸æˆ·</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SIP </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»»ä½•åç§°</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¸æˆ·ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å†…éƒ¨ç”µè¯å·ç </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯†ç ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤æ‚å¯†ç </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬ä¼šæ ¹æ®éœ€è¦å¤šæ¬¡é‡å¤æ‰§è¡Œæ­¤æ“ä½œï¼Œä»¥è·å–ç”µè¯ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå³ä½¿åˆ›å»ºäº†æ‰€æœ‰SIPå¸æˆ·ï¼Œå†…éƒ¨é€šä¿¡ä¹Ÿå°†æ— æ³•æ­£å¸¸å·¥ä½œï¼Œè¦å¯ç”¨è¯¥åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†éœ€è¦ä½¿ç”¨é…ç½®æ–‡ä»¶ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†Yeastar TG100è¿æ¥åˆ°VoIPæœåŠ¡æä¾›å•†ï¼Œå› ä¸ºç½‘ç»œç•Œé¢å¯æä¾›æ‰€æœ‰å¯èƒ½ã€‚åœ¨åŒä¸€éƒ¨åˆ†çš„â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç½‘å…³-VoIPçº¿è·¯â€ä¸­</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå†æ¬¡å•å‡»â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ </font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">VoIPçº¿è·¯â€</font></b><font style="vertical-align: inherit;">ï¼Œç„¶å</font><font style="vertical-align: inherit;">åœ¨â€œçº¿è·¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­—æ®µä¸­</font><font style="vertical-align: inherit;">é€‰æ‹©â€œ VoIPçº¿è·¯â€ã€‚æ¯ä¸ªç”µä¿¡è¿è¥å•†éƒ½æœ‰è‡ªå·±çš„æ³¨å†Œè¦æ±‚ï¼Œä½†æ˜¯ï¼Œå¯ç”¨å­—æ®µè¶³ä»¥æˆåŠŸè¿æ¥å…¶ä¸­çš„å¤§å¤šæ•°ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/files/f04/70c/0a0/f0470c0a036e4b3a8fbcdc38118cb89f.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çº¿è·¯ç±»å‹ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> VoIPçº¿è·¯çš„</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šç±»å‹</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„SIP </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»»æ„åç§°</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸»æœº/ IPï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIPæœåŠ¡å™¨çš„IPåœ°å€æˆ–åŸŸååŠå…¶ç«¯å£ã€‚</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸŸï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SIPæœåŠ¡å™¨çš„IPåœ°å€æˆ–åŸŸå</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æˆ·</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šæ“ä½œå‘˜å‘å‡ºçš„SIP ID </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ‡è¯†åï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ“ä½œå‘˜å‘å‡ºçš„</font><font style="vertical-align: inherit;">SIP ID </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯†ç ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ“ä½œå‘˜</font><font style="vertical-align: inherit;">æä¾›çš„å¯†ç </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»ï¼ˆä»â€œé«˜çº§â€é€‰é¡¹å¡ï¼‰ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ“ä½œå‘˜å‘å‡ºçš„SIP ID </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šè¿‡Web-åˆ›å»ºäº¤äº’å¼è¯­éŸ³èœå•è¯¥ç•Œé¢å½“ç„¶å°†ä¸èµ·ä½œç”¨ã€‚ä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œå¯¹äºä»–æ¥è¯´ï¼Œæ‚¨éƒ½éœ€è¦è¯­éŸ³é—®å€™ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Webç•Œé¢è¿›è¡Œä¸‹è½½ã€‚åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç³»ç»Ÿ-éŸ³é¢‘</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶â€ </font><font style="vertical-align: inherit;">éƒ¨åˆ†ä¸­</font><b><font style="vertical-align: inherit;">ï¼Œ</font></b><font style="vertical-align: inherit;">å•å‡»â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸‹è½½æ–‡ä»¶â€ã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¯¥æ–‡ä»¶å¿…é¡»ä¸ºwavæ ¼å¼ï¼Œå¹¶ä¸”å¤§å°ä¸å¾—è¶…è¿‡1.8 Mbã€‚</font><font style="vertical-align: inherit;">å…è®¸ä»¥ä¸‹ç¼–ç ï¼š</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gsm 6.10 8kHzï¼Œå•å£°é“ï¼Œ1Kb / s </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¾‹/å¾‹æ³•8kHzï¼Œå•å£°é“ï¼Œ1Kb / s </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pcm 8kHzï¼Œå•å£°é“ï¼Œ16Kb / s </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯Webç•Œé¢ç»ˆæ­¢çš„åœ°æ–¹ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†è‡ªè¡Œé…ç½®å†…éƒ¨ï¼Œä¼ å‡ºå’Œä¼ å…¥è·¯ç”±ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿æ¥åˆ°Yeastar TG100</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦è¿›è¡Œè¿æ¥ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨SSHåè®®ï¼Œè¯¥åè®®å¿…é¡»é¦–å…ˆåœ¨ç½‘å…³ä¸Šæ¿€æ´»ã€‚åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç³»ç»Ÿâ€â€œç½‘ç»œè®¾ç½®â€â€œå±€åŸŸç½‘è®¾ç½®â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éƒ¨åˆ†ä¸­ï¼Œ</font><font style="vertical-align: inherit;">å¯ç”¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯ç”¨Sâ€‹â€‹SHâ€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‰é¡¹</font><font style="vertical-align: inherit;">ï¼Œä¿å­˜å¹¶åº”ç”¨æ›´æ”¹ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/files/5eb/13a/27a/5eb13a27a8aa4e758bc0b9e78e645199.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨æ‚¨å–œæ¬¢çš„SSHå®¢æˆ·ç«¯è¿æ¥åˆ°ç½‘å…³ã€‚ç¼ºçœæƒ…å†µä¸‹ï¼Œè¿æ¥ç«¯å£ä¸º8022ï¼Œç™»å½•åä¸ºrootï¼Œå¯†ç ä¸ºys123456ã€‚é€šè¿‡è¿æ¥ï¼Œæ‚¨å°†è¿›å…¥Linux OSçš„ç¯å¢ƒã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ˜Ÿå·é…ç½®æ–‡ä»¶ä½äºé€šå¸¸çš„ä½ç½®-/ etc /æ˜Ÿå·ï¼Œä½†æ˜¯ï¼Œæ‚¨ä¸èƒ½ç›´æ¥åœ¨å…¶ä¸­è¿›è¡Œä»»ä½•æ›´æ”¹ï¼Œå¦åˆ™åœ¨Webç•Œé¢ä¸­å¯¹è®¾ç½®è¿›è¡Œä»»ä½•åº”ç”¨åï¼Œé…ç½®æ–‡ä»¶ä¸­çš„æ‰€æœ‰è®¾ç½®éƒ½å°†ä¸¢å¤±ã€‚è¦æ·»åŠ æˆ–æ›´æ”¹Asteriské…ç½®æ–‡ä»¶çš„è®¾ç½®ï¼Œæä¾›äº†ä¸€ä¸ªç‰¹æ®Šç›®å½•-/ persistent / custom-cfgã€‚å®ƒåŒ…å«gncustom.confæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰æ˜Ÿå·é…ç½®æ–‡ä»¶çš„åç§°ï¼Œæ‚¨å¯ä»¥å¯¹å…¶è¿›è¡Œä¿®æ”¹æˆ–å‘å…¶ä¸­æ·»åŠ æ–°çš„å†…å®¹ã€‚</font></font><br>
<br>
<pre><code class="lisp hljs">cat /persistent/custom-cfg/gncustom.conf :<font></font>
[modifyfile]<font></font>
/etc/asterisk/extensions.conf<font></font>
/etc/asterisk/sip.conf<font></font>
/etc/asterisk/users.conf<font></font>
/etc/asterisk/iax.conf<font></font>
/etc/asterisk/queues.conf<font></font>
/etc/asterisk/features.conf<font></font>
/etc/asterisk/voicemail.conf<font></font>
/etc/asterisk/meetme.conf<font></font>
/etc/asterisk/rc_org.conf<font></font>
/etc/asterisk/rtp.conf<font></font>
/etc/asterisk/http.conf<font></font>
/etc/asterisk/musiconhold.conf<font></font>
/etc/asterisk/followme.conf<font></font>
/etc/asterisk/logger.conf<font></font>
/etc/asterisk/manager.conf<font></font>
/etc/asterisk/chan_dahdi.conf<font></font>
/etc/asterisk/digital-channel.conf<font></font>
[replacefile]<font></font>
/etc/asterisk/dahdi-channels.conf<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œ[modifyfile]éƒ¨åˆ†ä¸­çš„æ–‡ä»¶æ˜¯å…è®¸å¯¹ç°æœ‰è®¾ç½®è¿›è¡Œæ›´æ”¹æˆ–æ·»åŠ çš„æ–‡ä»¶ã€‚</font><font style="vertical-align: inherit;">[replacefile]éƒ¨åˆ†ä¸­çš„æ–‡ä»¶-å®Œå…¨ç”±æ‚¨çš„è®¾ç½®æ›¿æ¢çš„æ–‡ä»¶ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†æ›´æ”¹æ˜Ÿå·é…ç½®æ–‡ä»¶ä¸­çš„ä»»ä½•è®¾ç½®ï¼Œæ‚¨éœ€è¦çŸ¥é“ä¸‰ä¸ªå‚æ•°ï¼š</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½äº/ etc / asteriskæ–‡ä»¶å¤¹ä¸­çš„Asteriské…ç½®æ–‡ä»¶çš„åç§°</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ‹¬å·[section]ä¸­æŒ‡ç¤ºçš„èŠ‚åç§°ï¼Œå°†åœ¨å…¶ä¸­æ›´æ”¹ç›¸åº”çš„é€‰é¡¹</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœŸæƒæœ¬èº«çš„åç§°</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œåœ¨/ persistent / custom-cfgç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º&lt;name&gt; _custom.confæ ¼å¼çš„æ–‡ä»¶ã€‚å…¶ä¸­ï¼Œ&lt;name&gt;æ˜¯/ etc / asteriskç›®å½•ä¸­é…ç½®æ–‡ä»¶çš„åç§°ï¼Œä¸ä»¥â€œ .confâ€ç»“å°¾ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦æ›´æ”¹/etc/asterisk/users.confæ–‡ä»¶ï¼Œåˆ™å…·æœ‰æ›´æ”¹çš„æ–‡ä»¶å°†ç§°ä¸ºusers_custom.confã€‚å¸¦æœ‰æ›´æ”¹å†…å®¹çš„æ–‡ä»¶ä»¥åŠæ‚¨è¦æ›´æ”¹çš„åŸå§‹æ–‡ä»¶ä¸­å‡å¸¦æœ‰æ–¹æ‹¬å·çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”ä¸‹é¢çš„è¡Œç”¨ç­‰å·åçš„æ–°å€¼æ›´æ”¹äº†é€‰é¡¹ã€‚ä¸€ä¸ªä¾‹å­ï¼š</font></font><br>
<pre><code class="lisp hljs">[new-context]<font></font>
parameter1=value1<font></font>
parameter2=value2<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœåœ¨è®¾ç½®æ›´æ”¹æ–‡ä»¶ä¸­æŒ‡å®šçš„éƒ¨åˆ†ä¸åœ¨åŸå§‹é…ç½®æ–‡ä»¶ä¸­ï¼Œåˆ™å°†ä»…æ·»åŠ è¯¥éƒ¨åˆ†ã€‚å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œæ›´æ”¹åï¼Œå¿…é¡»åº”ç”¨å®ƒä»¬ã€‚</font><font style="vertical-align: inherit;">æœ€ç®€å•çš„æ–¹æ³•æ˜¯åœ¨Webç•Œé¢ä¸­-åœ¨â€œä»»ä½•è®¾ç½®â€éƒ¨åˆ†ä¸­ï¼Œå•å‡»â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¿å­˜â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œç„¶å</font><font style="vertical-align: inherit;">å•å‡»â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åº”ç”¨â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å†…éƒ¨é€šè¯</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¨æ—©äº›æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨Webç•Œé¢åˆ›å»ºäº†SIPå¸æˆ·ï¼Œåˆ†åˆ«æ˜¯401ã€402å’Œ403ã€‚è¿™äº›SIPè®¾å¤‡çš„é…ç½®ä½äºæ–‡ä»¶/etc/asterisk/users.confä¸­ã€‚</font><font style="vertical-align: inherit;">æ¯ä¸ªè®¾å¤‡ä½¿ç”¨å…¶è‡ªå·±çš„æ‹¨å·è®¡åˆ’ä¸Šä¸‹æ–‡-ä¸Šä¸‹æ–‡å‚æ•°ã€‚</font><font style="vertical-align: inherit;">å¯¹äº401ï¼Œå®ƒæ˜¯Voip-Account-401ï¼›å¯¹äº402ï¼Œå®ƒæ˜¯Voip-Account-402ï¼›å¯¹äº403ï¼Œå®ƒæ˜¯Voip-Account-403ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è®¾ç½®è®¡åˆ’æ–‡ä»¶/etc/asterisk/extensions.confä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»¥ä¸‹æ¡ç›®ï¼š</font></font><br>
<pre><code class="lisp hljs">[Voip-Account-401] <font></font>
[Voip-Account-402] <font></font>
[Voip-Account-403] <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»æœ¬è´¨ä¸Šè®²ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸ªè®¾å¤‡éƒ½åœ¨å…¶è‡ªå·±ä¸”å®Œå…¨ä¸ºç©ºçš„æ‹¨å·è®¡åˆ’ä¸Šä¸‹æ–‡ä¸­ã€‚</font><font style="vertical-align: inherit;">è¿™è§£é‡Šäº†ä»¥ä¸‹äº‹å®ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œç½‘å…³ä¸­çš„å†…éƒ¨å‘¼å«ä¸èµ·ä½œç”¨ï¼Œå¿…é¡»å¯¹æ­¤è¿›è¡Œä¿®å¤ã€‚</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®©æˆ‘ä»¬ä¸ºæ‹¨å·è®¡åˆ’åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„ä¸Šä¸‹æ–‡ï¼Œåœ¨è¯¥ä¸Šä¸‹æ–‡ä¸­æˆ‘ä»¬å°†å¤„ç†æ¥è‡ªSIPç”µè¯çš„æ‹¨å‡ºç”µè¯ã€‚</font><font style="vertical-align: inherit;">åŸå§‹çš„æ‹¨å·è®¡åˆ’æ–‡ä»¶ç§°ä¸ºextensions.conf-å› æ­¤ï¼Œåœ¨ç›®å½•/ persistent / custom-cfgä¸­åˆ›å»ºä¸€ä¸ªåä¸ºextensions_custom.confçš„æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</font></font><br>
<pre><code class="lisp hljs">[from-internal]
<span class="hljs-comment"><span class="hljs-comment">;internal routes</span></span>
exten =&gt; _4XX,<span class="hljs-number"><span class="hljs-number">1</span></span>,NoOp(<span class="hljs-name"><span class="hljs-name">Internal</span></span> Call)<font></font>
exten =&gt; _4XX,n,Dial(${trunk-${EXTEN}},<span class="hljs-number"><span class="hljs-number">30</span></span>,Ttr)<font></font>
exten =&gt; _4XX,n,Hangup()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥æ¡ç›®çš„æœ¬è´¨æ˜¯ï¼Œä»»ä½•ä»¥æ•°å­—4å¼€å¤´çš„ä¸‰ä½æ•°çš„å‘¼å«éƒ½å°†ä½¿ç”¨ç½‘å…³çš„Webç•Œé¢ä¸­å…ˆå‰åˆ›å»ºçš„ç›¸åº”å·ç å‘¼å«è®¾å¤‡ã€‚</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬è¿˜éœ€è¦å…è®¸æˆ‘ä»¬çš„ç”µè¯åœ¨æ‹¨æ‰“ç”µè¯æ—¶ä½¿ç”¨æ­¤æ‹¨å·è®¡åˆ’ä¸Šä¸‹æ–‡ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œè¯·åœ¨ä»¥ä¸‹ç›¸åŒçš„extensions_custom.confæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹è¡Œï¼š</font></font><br>
<pre><code class="lisp hljs">[Voip-Account-401]	<font></font>
include =&gt; from-internal<font></font>
<font></font>
[Voip-Account-402]<font></font>
include =&gt; from-internal<font></font>
<font></font>
[Voip-Account-403]<font></font>
include =&gt; from-internal<font></font>
</code></pre><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨ç½‘ç»œç•Œé¢åº”ç”¨æ›´æ”¹</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬æŸ¥çœ‹æ–‡ä»¶/etc/asterisk/extensions.confï¼Œå¹¶ç¡®ä¿æˆ‘ä»¬æ‰€åšçš„æ›´æ”¹å·²å‡ºç°</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬ä¼šè¿›è¡Œå®é™…æ£€æŸ¥-æˆ‘ä»¬å°è¯•ä»ä¸€éƒ¨å†…éƒ¨ç”µè¯æ‹¨æ‰“å¦ä¸€éƒ¨å†…éƒ¨ç”µè¯</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¥ç”µ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‰€æœ‰é€šè¿‡GSMçº¿è·¯å’ŒSIPä¸­ç»§çº¿ä¼ å…¥çš„å‘¼å«ï¼Œæˆ‘ä»¬éƒ½å°†å‘é€åˆ°å…·æœ‰ä»¥ä¸‹ç»“æ„çš„äº¤äº’å¼è¯­éŸ³èœå•ï¼š</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ’­æ”¾å…ˆå‰ä¸‹è½½çš„å¸¦æœ‰è¯­éŸ³é—®å€™çš„å£°éŸ³æ–‡ä»¶ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä¸Šä¼ çš„æ–‡ä»¶ä½äº/ var / lib / asterisk / sounds / recordæ–‡ä»¶å¤¹ä¸­</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬æ­£åœ¨ç­‰å¾…è®¢æˆ·æ‹¨æ‰“è¯¥å·ç ã€‚</font><font style="vertical-align: inherit;">è¾“å…¥æ•°å­—â€œ 1â€æ—¶ï¼Œå‘¼å«å·ç ä¸º401çš„ç”¨æˆ·ï¼›è¾“å…¥æ•°å­—â€œ 2â€æ—¶ï¼Œå‘¼å«è¢«å‘é€åˆ°æ‹¨å·ç»„ï¼Œç”µè¯401ã€402ã€403ä¾æ¬¡æŒ¯é“ƒ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœç”¨æˆ·æ²¡æœ‰æ‹¨æ‰“ä»»ä½•ç”µè¯ï¼Œåˆ™å‘¼å«ä¹Ÿä¼šè½¬åˆ°åŒä¸€ä¸ªæ‹¨å·ç»„ï¼Œä½†å…¶ä¸­çš„ç”µè¯ä¸ä¼šä¾æ¬¡å“é“ƒï¼Œè€Œæ˜¯åŒæ—¶å“é“ƒ</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦å®ç°æ­¤åŠŸèƒ½ï¼Œè¯·å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°extensions_custom.confæ–‡ä»¶ï¼š</font></font><br>
<br>
<pre><code class="lisp hljs">[arttel-ivr]                                                             <font></font>
exten =&gt; _.,<span class="hljs-number"><span class="hljs-number">1</span></span>,NoOp(<span class="hljs-name"><span class="hljs-name">Custom</span></span> IVR by ArtTel)                                 <font></font>
exten =&gt; _.,n,Set(<span class="hljs-name"><span class="hljs-name">CDR</span></span>(<span class="hljs-name"><span class="hljs-name">userfield</span></span>)=SIP_TRUNK-&gt;IP)                          <font></font>
exten =&gt; _.,n,Answer()                                                   <font></font>
exten =&gt; _.,n,Set(<span class="hljs-name"><span class="hljs-name">TIMEOUT</span></span>(<span class="hljs-name"><span class="hljs-name">digit</span></span>)=2)                                                 <font></font>
exten =&gt; _.,n,Background(<span class="hljs-name"><span class="hljs-name">record/arttel_ivr_alaw</span></span>) <span class="hljs-comment"><span class="hljs-comment">;                                   </span></span>
exten =&gt; _.,n,WaitExten(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-comment"><span class="hljs-comment">; 3                                                             </span></span><font></font>
                                                                                    <font></font>
exten =&gt; <span class="hljs-literal"><span class="hljs-literal">t</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,NoOp(<span class="hljs-name"><span class="hljs-name">Goto</span></span> by Timeout) <span class="hljs-comment"><span class="hljs-comment">;   ,                                                   </span></span>
exten =&gt; <span class="hljs-literal"><span class="hljs-literal">t</span></span>,n,Macro(<span class="hljs-name"><span class="hljs-name">arttel-ringgroup</span></span>,ringall,<span class="hljs-number"><span class="hljs-number">402</span></span><span class="hljs-number"><span class="hljs-number">-403</span></span><span class="hljs-number"><span class="hljs-number">-401</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-comment"><span class="hljs-comment">;                              </span></span>
exten =&gt; <span class="hljs-literal"><span class="hljs-literal">t</span></span>,n,Hangup()                                                               <font></font>
                                                                                    <font></font>
exten =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,NoOp(<span class="hljs-name"><span class="hljs-name">Goto</span></span> by pressed <span class="hljs-number"><span class="hljs-number">1</span></span>)                                                <font></font>
exten =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>,n,Dial(${trunk-401},<span class="hljs-number"><span class="hljs-number">30</span></span>,T) <span class="hljs-comment"><span class="hljs-comment">;  Â«1Â»,   401                                                </span></span>
exten =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>,n,Hangup()                                                               <font></font>
                                                                                    <font></font>
exten =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,NoOp(<span class="hljs-name"><span class="hljs-name">Goto</span></span> by pressed <span class="hljs-number"><span class="hljs-number">2</span></span>)                                                <font></font>
exten =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>,n,Macro(<span class="hljs-name"><span class="hljs-name">arttel-ringgroup</span></span>,linear,<span class="hljs-number"><span class="hljs-number">402</span></span><span class="hljs-number"><span class="hljs-number">-403</span></span><span class="hljs-number"><span class="hljs-number">-401</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-comment"><span class="hljs-comment">;  Â«2Â»,  402, 403  404                               </span></span>
exten =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>,n,Hangup()<font></font>
<font></font>
[macro-arttel-ringgroup]                                                            <font></font>
<span class="hljs-comment"><span class="hljs-comment">;ARG1 - Type: linear, ringall                                                                                </span></span>
<span class="hljs-comment"><span class="hljs-comment">;ARG2 - Numbers separated dash: 401-402-403                                         </span></span>
<span class="hljs-comment"><span class="hljs-comment">;ARG3 - Time Dial for Dial app                                                      </span></span>
<span class="hljs-comment"><span class="hljs-comment">;ARG4 - Repeat Count for linear                                                     </span></span><font></font>
                                                                                    <font></font>
exten =&gt; s,<span class="hljs-number"><span class="hljs-number">1</span></span>,Set(<span class="hljs-name"><span class="hljs-name">RG_Type=</span></span>${ARG1})                                                            <font></font>
exten =&gt; s,n,Set(<span class="hljs-name"><span class="hljs-name">RG_Nums=</span></span>${ARG2})                                                   <font></font>
exten =&gt; s,n,NoOp(<span class="hljs-name"><span class="hljs-name">Macro</span></span> RingGroup type: ${RG_Type} for numbers: $RG_Nums)           <font></font>
exten =&gt; s,n,GotoIf($[ <span class="hljs-string"><span class="hljs-string">"${RG_Type}"</span></span> = <span class="hljs-string"><span class="hljs-string">"linear"</span></span> ]?linear,<span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">:ringall</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)               <font></font>
exten =&gt; s,n,Hangup()                                                               <font></font>
                                                                                    <font></font>
exten =&gt; ringall,<span class="hljs-number"><span class="hljs-number">1</span></span>,Set(<span class="hljs-name"><span class="hljs-name">COUNT=1</span></span>)                                                     <font></font>
exten =&gt; ringall,n,Set(<span class="hljs-name"><span class="hljs-name">REPEAT_COUNT=1</span></span>)                                               <font></font>
exten =&gt; ringall,n,Set(<span class="hljs-name"><span class="hljs-name">Repeat=</span></span>${ARG4})                                               <font></font>
exten =&gt; ringall,n,Set(<span class="hljs-name"><span class="hljs-name">TimeDial=</span></span>${ARG3})                                             <font></font>
exten =&gt; ringall,n(<span class="hljs-name"><span class="hljs-name">loop</span></span>),Set(<span class="hljs-name"><span class="hljs-name">RG_Dial=</span></span>${RG_Dial}&amp;${trunk-${CUT(<span class="hljs-name"><span class="hljs-name">RG_Nums</span></span>,-,${COUNT})}})<font></font>
exten =&gt; ringall,n,NoOp(<span class="hljs-name"><span class="hljs-name">RG_Dial=</span></span>${RG_Dial})                                         <font></font>
exten =&gt; ringall,n,Set(<span class="hljs-name"><span class="hljs-name">COUNT=</span></span>$[${COUNT} + <span class="hljs-number"><span class="hljs-number">1</span></span>])                                       <font></font>
exten =&gt; ringall,n,GotoIf(${CUT(<span class="hljs-name"><span class="hljs-name">RG_Nums</span></span>,-,${COUNT})}?loop)                          <font></font>
exten =&gt; ringall,n(<span class="hljs-name"><span class="hljs-name">repeat</span></span>),Dial(${RG_Dial:<span class="hljs-number"><span class="hljs-number">1</span></span>},${TimeDial},T)                                <font></font>
exten =&gt; ringall,n,Set(<span class="hljs-name"><span class="hljs-name">REPEAT_COUNT=</span></span>$[${REPEAT_COUNT} + <span class="hljs-number"><span class="hljs-number">1</span></span>])                          <font></font>
exten =&gt; ringall,n,GotoIf($[ ${REPEAT_COUNT} &lt;= ${Repeat} ]?repeat)                    <font></font>
exten =&gt; ringall,n,Hangup()                                                         <font></font>
                                                                                    <font></font>
exten =&gt; linear,<span class="hljs-number"><span class="hljs-number">1</span></span>,Set(<span class="hljs-name"><span class="hljs-name">COUNT=1</span></span>)                                                      <font></font>
exten =&gt; linear,n,Set(<span class="hljs-name"><span class="hljs-name">REPEAT_COUNT=1</span></span>)                                               <font></font>
exten =&gt; linear,n,Set(<span class="hljs-name"><span class="hljs-name">Repeat=</span></span>${ARG4})                                               <font></font>
exten =&gt; linear,n,Set(<span class="hljs-name"><span class="hljs-name">TimeDial=</span></span>${ARG3})                                             <font></font>
exten =&gt; linear,n(<span class="hljs-name"><span class="hljs-name">loop</span></span>),Dial(${trunk-${CUT(<span class="hljs-name"><span class="hljs-name">RG_Nums</span></span>,-,${COUNT})}},${TimeDial},T)    <font></font>
exten =&gt; linear,n,Set(<span class="hljs-name"><span class="hljs-name">COUNT=</span></span>$[${COUNT} + <span class="hljs-number"><span class="hljs-number">1</span></span>])                                        <font></font>
exten =&gt; linear,n,GotoIf(${CUT(<span class="hljs-name"><span class="hljs-name">RG_Nums</span></span>,-,${COUNT})}?loop)                           <font></font>
exten =&gt; linear,n,Set(<span class="hljs-name"><span class="hljs-name">COUNT=1</span></span>)                                                      <font></font>
exten =&gt; linear,n,Set(<span class="hljs-name"><span class="hljs-name">REPEAT_COUNT=</span></span>$[${REPEAT_COUNT} + <span class="hljs-number"><span class="hljs-number">1</span></span>])                          <font></font>
exten =&gt; linear,n,GotoIf($[ ${REPEAT_COUNT} &lt;= ${Repeat} ]?loop)                    <font></font>
exten =&gt; linear,n,Hangup()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬çš„è¯­éŸ³é—®å€™è¯­ä¸Šä¸‹æ–‡å·²ç»åˆ›å»ºï¼Œç°åœ¨æœ‰å¿…è¦ä»GSMé€šé“å’ŒSIPä¸­ç»§å‘é€æ‰€æœ‰æ¥ç”µã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œè¯·åœ¨/ persistent / custom-cfgæ–‡ä»¶å¤¹ä¸­ä½¿ç”¨ä»¥ä¸‹å†…å®¹åˆ›å»ºusers_custom.confæ–‡ä»¶ï¼š</font></font><br>
<br>
<pre><code class="lisp hljs">[gsm_1]<font></font>
context=arttel-ivr<font></font>
<font></font>
[trunk-arttel_telecom]<font></font>
context=arttel-ivr<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬ä¿å­˜å¹¶æ¥å—é€šè¿‡Webç•Œé¢è¿›è¡Œçš„æ›´æ”¹ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‹¨å‡ºç”µè¯</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬è¦åšçš„æœ€åä¸€ä»¶äº‹æ˜¯é…ç½®æ‹¨å‡ºå‘¼å«çš„é€»è¾‘ã€‚</font><font style="vertical-align: inherit;">å¥¹å°†æ˜¯ä¸‹ä¸€ä¸ªï¼š</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘¼å«ä»89 ...å¼€å§‹çš„æ‰€æœ‰æ‰‹æœºå·ç å°†é€šè¿‡GSMé¢‘é“å‘å‡º</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¿„ç½—æ–¯çš„ç”µè¯ï¼Œå…¶å·ç ç”±10ä¸ªå­—ç¬¦ç»„æˆï¼Œä»¥83 ...ï¼Œ84 ...æˆ–88 ...å¼€å¤´ï¼Œæˆ‘ä»¬å°†é€šè¿‡SIPæä¾›å•†å‘å‡º</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»810å¼€å§‹æ‹¨æ‰“å›½é™…ç”µè¯...æˆ‘ä»¬è¿˜å°†é€šè¿‡GSMé¢‘é“å‘å¸ƒç”µè¯</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºæ­¤ï¼Œå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æˆ‘ä»¬å·²ç»åˆ›å»ºçš„extensions_custom.confæ–‡ä»¶çš„[from-internal]éƒ¨åˆ†ä¸­ï¼š</font></font><br>
<br>
<pre><code class="lisp hljs"><span class="hljs-comment"><span class="hljs-comment">;outbound routes</span></span>
<span class="hljs-comment"><span class="hljs-comment">;STRATEGY: 0 - default(first free), 1 - linear(linear with memories), 2- balance</span></span>
exten =&gt; _89XX.,<span class="hljs-number"><span class="hljs-number">1</span></span>,NoOp(<span class="hljs-name"><span class="hljs-name">Outbound</span></span> dial to Mobile)<font></font>
exten =&gt; _89XX.,n,Set(<span class="hljs-name"><span class="hljs-name">CDR</span></span>(<span class="hljs-name"><span class="hljs-name">userfield</span></span>)=IP-&gt;MOBILE)<font></font>
exten =&gt; _89XX.,n,Set(<span class="hljs-name"><span class="hljs-name">STRATEGY=0</span></span>)                                                                                                  <font></font>
exten =&gt; _89XX.,n,Macro(<span class="hljs-name"><span class="hljs-name">trunkdial-failover-0</span></span>.<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,,${EXTEN:<span class="hljs-number"><span class="hljs-number">0</span></span>},trunk-GSM1,)<font></font>
exten =&gt; _89XX.,n,Hangup()<font></font>
                                                                                             <font></font>
exten =&gt; _8[<span class="hljs-number"><span class="hljs-number">348</span></span>]XXXXXXXXX,<span class="hljs-number"><span class="hljs-number">1</span></span>,NoOp(<span class="hljs-name"><span class="hljs-name">Outbound</span></span> dial to Russia)<font></font>
exten =&gt; _8[<span class="hljs-number"><span class="hljs-number">348</span></span>]XXXXXXXXX,n,Set(<span class="hljs-name"><span class="hljs-name">CDR</span></span>(<span class="hljs-name"><span class="hljs-name">userfield</span></span>)=IP-&gt;SIP_TRUNK)<font></font>
exten =&gt; _8[<span class="hljs-number"><span class="hljs-number">348</span></span>]XXXXXXXXX,n,Set(<span class="hljs-name"><span class="hljs-name">STRATEGY=0</span></span>)<font></font>
exten =&gt; _8[<span class="hljs-number"><span class="hljs-number">348</span></span>]XXXXXXXXX,n,Macro(<span class="hljs-name"><span class="hljs-name">trunkdial-failover-0</span></span>.<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,,${EXTEN:<span class="hljs-number"><span class="hljs-number">0</span></span>},trunk-arttel_telecom,)<font></font>
exten =&gt; _8[<span class="hljs-number"><span class="hljs-number">348</span></span>]XXXXXXXXX,n,Hangup()<font></font>
                                                                                    <font></font>
exten =&gt; _810XX.,<span class="hljs-number"><span class="hljs-number">1</span></span>,NoOp(<span class="hljs-name"><span class="hljs-name">Outbound</span></span> dial to International)<font></font>
exten =&gt; _810XX.,n,Set(<span class="hljs-name"><span class="hljs-name">CDR</span></span>(<span class="hljs-name"><span class="hljs-name">userfield</span></span>)=IP-&gt;MOBILE)<font></font>
exten =&gt; _810XX.,n,Set(<span class="hljs-name"><span class="hljs-name">STRATEGY=0</span></span>)<font></font>
exten =&gt; _810XX.,n,Macro(<span class="hljs-name"><span class="hljs-name">trunkdial-failover-0</span></span>.<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,,${EXTEN:<span class="hljs-number"><span class="hljs-number">0</span></span>},trunk-GSM1,) <span class="hljs-comment"><span class="hljs-comment">; 1 trunk</span></span><font></font>
exten =&gt; _810XX.,n,Hangup()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šè¿‡åˆ†æœºå·ç æ¨¡å¼ä¸éš¾ç†è§£å“ªäº›è§„åˆ™è´Ÿè´£å“ªä¸ªæ–¹å‘ï¼š_89XXã€‚</font><font style="vertical-align: inherit;">-æ‰‹æœºå·ç ï¼Œ_8 [348] XXXXXXXXX-ä¿„ç½—æ–¯å¢ƒå†…çš„ç”µè¯ï¼Œ_810XXã€‚</font><font style="vertical-align: inherit;">-æ‹¨æ‰“å›½é™…ç”µè¯ã€‚</font><font style="vertical-align: inherit;">trunkdial-failover-0.4å®è´Ÿè´£é€šè¿‡ç‰¹å®šçš„ä¸­ç»§å‘é€å‘¼å«ã€‚</font><font style="vertical-align: inherit;">ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡ç¤ºç”¨äºæ‹¨å‡ºå‘¼å«çš„çº¿è·¯æ•°ã€‚</font><font style="vertical-align: inherit;">æœ€åä¸€ä¸ªå‚æ•°åˆ—å‡ºå¯ä»¥é€šè¿‡å…¶å‘å‡ºå‘¼å«çš„ä¸­ç»§ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å››ç«¯å£ç½‘å…³</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yeastar TG400</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è€Œä¸æ˜¯å•ç«¯å£Yeastar TG100ï¼Œåˆ™è¯¥è¡Œï¼š</font></font><br>
<pre><code class="lisp hljs">exten =&gt; _89XX.,n,Macro(<span class="hljs-name"><span class="hljs-name">trunkdial-failover-0</span></span>.<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,,${EXTEN:<span class="hljs-number"><span class="hljs-number">0</span></span>},trunk-GSM1,)  
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åº”æ›¿æ¢ä¸ºï¼š</font></font><br>
<pre><code class="lisp hljs">exten =&gt; _89XX.,n,Macro(<span class="hljs-name"><span class="hljs-name">trunkdial-failover-0</span></span>.<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,,${EXTEN:<span class="hljs-number"><span class="hljs-number">0</span></span>},trunk-GSM1,trunk-GSM2,trunk-GSM3,trunk-GSM4,)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬ä¿å­˜å¹¶åº”ç”¨æ‰€åšçš„æ›´æ”¹ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»“è®º</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç”±äºè¿›è¡Œäº†è¿™äº›æ›´æ”¹ï¼Œæˆ‘ä»¬è·å¾—äº†åŠŸèƒ½å…¨é¢çš„è§£å†³æ–¹æ¡ˆï¼Œå‡†å¤‡å®Œå…¨å¹³é™åœ°ä¸º2è‡³10äººçš„åŠå…¬å®¤æä¾›æœåŠ¡ã€‚</font><font style="vertical-align: inherit;">æ˜¯çš„ï¼Œå®ƒä¸æ”¯æŒè¯¸å¦‚å½•åˆ¶å’Œæ”¶å¬å¯¹è¯ï¼Œå‘¼å«å¯„å­˜ï¼Œç”µè¯ä¼šè®®ï¼Œè¯­éŸ³ä¿¡ç®±ç­‰åŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œå®é™…ä¸Šï¼Œå¯¹äºæœ€å°çš„å…¬å¸ï¼Œå¹¶ä¸éœ€è¦æ‰€æœ‰è¿™äº›åŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯è¯¥è§£å†³æ–¹æ¡ˆç´§å‡‘ï¼ŒåŠŸè€—ä½å¹¶ä¸”æ”¯æŒGSMçº¿è·¯ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨æœ‰æ—¶é—´ï¼Œæ¸´æœ›å’Œæƒ³è±¡åŠ›ï¼Œ</font><font style="vertical-align: inherit;">å¯ä»¥ä½¿ç”¨æ›´å¤šæœ‰è¶£çš„åŠŸèƒ½æ¥è¡¥å……</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yeastar TG100</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> VoIP GSMç½‘å…³</font><font style="vertical-align: inherit;">ã€‚</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN396481/">https://habr.com/ru/post/zh-CN396481/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN396467/index.html">æš—ç‰©è´¨æœ‰å®é™…ç”¨é€”å—ï¼Ÿ</a></li>
<li><a href="../zh-CN396471/index.html">å®‰å¾·çƒˆÂ·ä»€å…‹é‡Œäºšç½—å¤«ï¼ˆAndrey Shklyarovï¼‰ï¼šâ€œåœ¨å°åº¦ï¼Œä»–ä»¬ä¼šæ¯«ä¸çŠ¹è±«åœ°ç”»å‡ºä¸ºä»€ä¹ˆæ˜¯â€œæ˜¯â€ï¼Œåœ¨ä¸œæ¬§-ä¸ºä»€ä¹ˆæ˜¯â€œå¦â€ã€‚</a></li>
<li><a href="../zh-CN396473/index.html">ä»€ä¹ˆæ˜¯æš—èƒ½é‡ï¼Ÿ</a></li>
<li><a href="../zh-CN396477/index.html">å‘ä¼Šæ¡‘80å·æé—®ï¼šç©ºé—´æ‰©å±•çš„é€Ÿåº¦æ˜¯å¦å¿«äºå…‰é€Ÿï¼Ÿ</a></li>
<li><a href="../zh-CN396479/index.html">ç§‘å­¦ï¼šä¸ºä»€ä¹ˆè†ç›–å—ä¼¤ç»å¸¸æ— æ³•heæ„ˆï¼Ÿ</a></li>
<li><a href="../zh-CN396485/index.html">è‹±æ ¼å…°ä¸€å®¶é…’å§çš„æ‰€æœ‰è€…åœ¨ä¸€ä¸ªæœºæ„ä¸­å®‰è£…äº†æ³•æ‹‰ç¬¬ç¬¼ï¼Œä»¥é˜»æ­¢æ‰‹æœºé€šè®¯</a></li>
<li><a href="../zh-CN396487/index.html">æŠ½å¥–æ´»åŠ¨ï¼šä»¤äººå°è±¡æ·±åˆ»çš„ä¸‹æ³¨å·¥ç¨‹è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="../zh-CN396491/index.html">æ¬§æ´²ç”µå­å•†åŠ¡-2016</a></li>
<li><a href="../zh-CN396493/index.html">Â«ĞÑ‚Ğ°ĞºĞ° Ğ½Ğ° Ğ¡ĞĞ ĞœÂ»: Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²ÑŒÑ Ñ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¼ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°</a></li>
<li><a href="../zh-CN396495/index.html">çº½çº¦å·ç«‹çº³ç±³æŠ€æœ¯ï¼šçº½çº¦å·ç«‹å¤§å­¦åŠå…¶å…¬å¸å¦‚ä½•å°†å›½å®¶è½¬å˜ä¸º21ä¸–çºªçš„ç¡…è°·</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>