<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>  け C贸mo modificamos el producto para un cliente espec铆fico   </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entonces, vendimos al cliente un producto de software B2B. 

 En la presentaci贸n, le gust贸 todo, pero durante la implementaci贸n result贸 que algo todav...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C贸mo modificamos el producto para un cliente espec铆fico</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lsfusion/blog/461983/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/f8/ep/ee/f8epee4petxvrq60bqvyzpy8exu.jpeg" alt="imagen"></div><br>  Entonces, vendimos al cliente un producto de software B2B. <br><br>  En la presentaci贸n, le gust贸 todo, pero durante la implementaci贸n result贸 que algo todav铆a no encajaba.  Por supuesto, puede decir que necesita seguir las "mejores pr谩cticas" y transformarse en un producto, y no al rev茅s.  Esto puede funcionar si tiene una marca fuerte (por ejemplo, tres letras grandes y puede enviar las tres letras peque帽as).  De lo contrario, le explicar谩n r谩pidamente que el cliente logr贸 todo gracias a sus procesos comerciales 煤nicos, y mejor cambiemos su producto o no funcionar谩.  Hay una opci贸n para rechazar y referirse al hecho de que las licencias ya se han comprado, y no hay ning煤n lugar para ir desde el submarino.  Pero en mercados relativamente estrechos, tal estrategia no funcionar谩 por mucho tiempo. <br><br>  Tenemos que modificarlo. <br><a name="habracut"></a><br><h2>  Los enfoques </h2><br>  Existen varios enfoques b谩sicos para la adaptaci贸n del producto. <br><br><h4>  Monolito </h4><br>  Cualquier cambio se realiza directamente en el c贸digo fuente del producto, pero se incluye en ciertas opciones.  En tales productos, como regla, hay formas monstruosas con configuraciones, a las cuales, para no confundirse, se les asignan sus n煤meros o c贸digos.  La desventaja de este enfoque es que el c贸digo fuente se convierte en un gran espagueti, en el que hay tantos casos de uso diferentes que se vuelve muy largo y costoso de mantener.  Cada opci贸n posterior requiere m谩s y m谩s recursos.  El rendimiento de dicho producto tambi茅n deja mucho que desear.  Y si el lenguaje en el que est谩 escrito el producto no es compatible con pr谩cticas modernas como la herencia y el polimorfismo, entonces todo se vuelve muy triste. <br><br><h4>  Copia </h4><br>  El cliente recibe el c贸digo fuente completo del producto con una licencia para modificarlo.  A menudo, dichos proveedores le dicen al cliente que no adaptar谩n el producto ellos mismos, ya que ser谩 demasiado costoso (es mucho m谩s rentable para un vendedor vender licencias que contactar a los servicios).  Pero tienen subcontratistas familiares que contratan empleados relativamente baratos y de alta calidad en alg煤n pa铆s de terceros pa铆ses que est谩n listos para ayudarlos.  Tambi茅n hay situaciones en las que las mejoras ser谩n realizadas directamente por los especialistas del cliente (si tienen unidades de personal).  En tales casos, el c贸digo fuente se toma como punto de partida, y el c贸digo modificado no tendr谩 ninguna conexi贸n con lo que era originalmente y vivir谩 su propia vida.  En este caso, puede eliminar con seguridad al menos la mitad del producto original y reemplazarlo con su propia l贸gica. <br><br><h4>  Fusi贸n </h4><br>  Esta es una mezcla de los dos primeros enfoques.  Pero en 茅l, el desarrollador que corrige el c贸digo siempre debe recordar: "viene la fusi贸n".  Cuando se lanza una nueva versi贸n del producto fuente, en la mayor铆a de los casos deber谩 fusionar manualmente los cambios en el c贸digo fuente y modificado.  El problema es que en cualquier conflicto ser谩 necesario recordar por qu茅 se hicieron ciertos cambios, y esto podr铆a ser hace mucho tiempo.  Y si la refactorizaci贸n de c贸digo se realiz贸 en el producto original (por ejemplo, los bloques de c贸digo simplemente se reorganizaron), la fusi贸n requerir谩 mucho tiempo. <br><br><h4>  Modularidad </h4><br>  L贸gicamente, el enfoque m谩s correcto.  El c贸digo fuente del producto en este caso no sufre cambios, y se agregan m贸dulos adicionales que ampl铆an la funcionalidad.  Sin embargo, para implementar dicho esquema, el producto debe tener una arquitectura que le permita expandirse de esta manera. <br><br><h2>  Descripci贸n </h2><br>  M谩s adelante, con ejemplos, mostrar茅 c贸mo expandimos los productos desarrollados sobre la base de la plataforma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lsFusion</a> abierta y gratuita. <br><br>  Un elemento clave del sistema es el m贸dulo.  Un m贸dulo es un archivo de texto con la extensi贸n <i>lsf</i> , que contiene el <b>c贸digo lsFusion</b> .  En cada m贸dulo, se declaran tanto la l贸gica de dominio (funciones, clases, acciones) como la l贸gica de presentaci贸n (formularios, navegador).  Los m贸dulos, por regla general, se encuentran en directorios, divididos por un principio l贸gico.  Un producto es una colecci贸n de m贸dulos que implementan su funcionalidad y se almacenan en un repositorio separado. <br><br>  Los m贸dulos son interdependientes.  Un m贸dulo depende de otro si usa su l贸gica (por ejemplo, se refiere a propiedades o formas). <br><br>  Cuando aparece un nuevo cliente, se inicia un repositorio separado (Git o Subversion), en el que se crear谩n los m贸dulos con las modificaciones necesarias.  Este repositorio define el llamado m贸dulo superior.  Cuando se inicia el servidor, solo se conectar谩n esos m贸dulos, de los cuales depende directa o transitivamente a trav茅s de otros m贸dulos.  Esto le permite al cliente usar no toda la funcionalidad del producto, sino solo la parte que necesita. <br>  Jenkins crea una tarea que combina los m贸dulos de producto y cliente en un 煤nico archivo jar, que luego se instala en un servidor de producci贸n o prueba. <br><br>  Considere varios casos principales de mejoras que surgen en la pr谩ctica: <br><br>  Supongamos que tenemos un m贸dulo de <i>pedido</i> en el producto, que describe la l贸gica de pedido est谩ndar: <br><br><div class="spoiler">  <b class="spoiler_title">M贸dulo de pedido</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td><code><font color="#a626a4">MODULE</font> Order; <br> <br> <font color="#a626a4">CLASS</font> Book <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">100</font> ] (Book) <font color="#a626a4">IN</font> id; <br> <br> <font color="#a626a4">CLASS</font> Order <font color="#50a14f">''</font> ; <br> date <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (Order) <font color="#a626a4">IN</font> id; <br> number <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">STRING</font> [ <font color="#986801">10</font> ] (Order) <font color="#a626a4">IN</font> id; <br> <br> <font color="#a626a4">CLASS</font> OrderDetail <font color="#50a14f">' '</font> ; <br> order <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Order (OrderDetail) <font color="#a626a4">NONULL</font> <font color="#a626a4">DELETE</font> ; <br> <br> book <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Book (OrderDetail) <font color="#a626a4">NONULL</font> ; <br> nameBook <font color="#50a14f">''</font> (OrderDetail d) = name(book(d)); <br> <br> quantity <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (OrderDetail); <br> price <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">2</font> ] (OrderDetail); <br> sum <font color="#50a14f">''</font> (OrderDetail d) = quantity(d) * price(d); <br> <br> <font color="#a626a4">FORM</font> order <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) date, number <br> <br> <font color="#a626a4">OBJECTS</font> d = OrderDetail <br> <font color="#a626a4">PROPERTIES</font> (d) nameBook, quantity, price, <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">FILTERS</font> order(d) = o <br> <br> <font color="#a626a4">EDIT</font> Order <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">FORM</font> orders <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> date, number <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> orders; <br> } <br></code> </td></tr></tbody></table></div></div></div><br>  El cliente <i>X</i> desea agregar un porcentaje de descuento y un precio de descuento para la l铆nea de pedido. <br>  Primero, se crea un nuevo m贸dulo <i>OrderX</i> en el repositorio del cliente.  En su encabezado, se coloca una dependencia en el m贸dulo de <i>pedido</i> original: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">REQUIRE</font> Order;</code> </td> </tr></tbody></table></div><br>  En este m贸dulo, declaramos nuevas propiedades bajo las cuales se crear谩n campos adicionales en las tablas, y las agregamos al formulario: <br><div class="scrollable-table"><table><tbody><tr><td> <code>discount <font color="#50a14f">', %'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">5</font> , <font color="#986801">2</font> ] (OrderDetail); <br> discountPrice <font color="#50a14f">'  '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">2</font> ] (OrderDetail); <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">PROPERTIES</font> (d) <font color="#a626a4">AFTER</font> price(d) discount, discountPrice <font color="#a626a4">READONLY</font> <br> ; <br></code> </td></tr></tbody></table></div><br>  Hacemos que el precio con descuento no est茅 disponible para la grabaci贸n.  Se calcular谩 como un evento separado cuando cambie el precio inicial o el porcentaje de descuento: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">WHEN</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">CHANGED</font> (price(OrderDetail d)) <font color="#a626a4">OR</font> <font color="#a626a4">CHANGED</font> (discount(d)) <font color="#a626a4">DO</font> <br> discountPrice(d) &lt;- price(d) * ( <font color="#986801">100</font> (-) discount(d)) / <font color="#986801">100</font> ; <br></code> </td></tr></tbody></table></div><br>  Ahora debe cambiar el c谩lculo del importe en la l铆nea de pedido (debe tener en cuenta nuestro precio de descuento reci茅n creado).  Para hacer esto, generalmente creamos ciertos "puntos de entrada" donde otros m贸dulos pueden insertar su comportamiento.  En lugar de la declaraci贸n inicial de la propiedad de suma en el m贸dulo Orden, utilizamos lo siguiente: <br><div class="scrollable-table"><table><tbody><tr><td> <code>sum <font color="#50a14f">''</font> = <font color="#a626a4">ABSTRACT</font> <font color="#a626a4">CASE</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">16</font> , <font color="#986801">2</font> ] (OrderDetail); <br> sum (OrderDetail d) += <font color="#a626a4">WHEN</font> price(d) <font color="#a626a4">THEN</font> quantity(d) * price(d); <br></code> </td></tr></tbody></table></div><br>  En este caso, el valor de la propiedad de <i>suma</i> se recopilar谩 en un CASO, donde CUANDO se puede dispersar en diferentes m贸dulos.  Se garantiza que si el m贸dulo A depende del m贸dulo B, todo CUANDO del m贸dulo B funcionar谩 m谩s tarde que CUANDO del m贸dulo A. Para calcular correctamente la <i>cantidad</i> descontada, se agrega la siguiente declaraci贸n al m贸dulo <i>OrderX</i> : <br><div class="scrollable-table"><table><tbody><tr><td> <code>sum(OrderDetail d) += <font color="#a626a4">WHEN</font> discount(d) <font color="#a626a4">THEN</font> quantity(d) * discountPrice(d); <br></code> </td></tr></tbody></table></div><br>  Como resultado, si se establece un descuento, la cantidad estar谩 sujeta a 茅l, de lo contrario, la expresi贸n original. <br><br>  Supongamos que un cliente desea agregar una restricci贸n de que el monto del pedido no debe exceder un cierto monto especificado.  En el mismo m贸dulo <i>OrderX</i> , declaramos una propiedad en la que se almacenar谩 el valor de restricci贸n, y lo agregamos al formulario de <i>opciones</i> est谩ndar (puede crear un formulario separado con la configuraci贸n si lo desea): <br><div class="scrollable-table"><table><tbody><tr><td> <code>orderLimit <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">16</font> , <font color="#986801">2</font> ] (); <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> options <br> <font color="#a626a4">PROPERTIES</font> () orderLimit <br> ; <br></code> </td></tr></tbody></table></div><br>  Luego, en el mismo m贸dulo, declaramos el monto del pedido, lo mostramos en el formulario y agregamos un l铆mite a su exceso: <br><div class="scrollable-table"><table><tbody><tr><td> <code>sum <font color="#50a14f">''</font> (Order o) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> sum(OrderDetail d) <font color="#a626a4">IF</font> order(d) = o; <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">PROPERTIES</font> (o) sum <br> ; <br> <font color="#a626a4">CONSTRAINT</font> sum(Order o) &gt; orderLimit() <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'  '</font> ; <br></code> </td></tr></tbody></table></div><br>  Y finalmente, el cliente solicit贸 cambiar ligeramente el dise帽o del formulario de edici贸n del pedido: hacer el encabezado del pedido a la izquierda de las l铆neas con un separador, as铆 como mostrar siempre los precios con una precisi贸n de dos caracteres.  Para hacer esto, se agrega el siguiente c贸digo a su m贸dulo, que cambia el dise帽o est谩ndar generado del formulario de pedido: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">DESIGN</font> order { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <br> fill = <font color="#986801">1</font> ; <br> type = <font color="#a626a4">SPLITH</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (o); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (d) { <br> <font color="#a626a4">PROPERTY</font> (price(d)) { pattern = <font color="#50a14f">'#,##0.00'</font> ; } <br> <font color="#a626a4">PROPERTY</font> (discountPrice(d)) { pattern = <font color="#50a14f">'#,##0.00'</font> ; } <br> } <br> } <br> } <br> } <br></code> </td></tr></tbody></table></div>  Como resultado, obtenemos dos m贸dulos de <i>pedido</i> (en el producto), en los que se implementa la l贸gica b谩sica del pedido, y <i>OrderX</i> (en el cliente), en el que se implementa la l贸gica de descuento necesaria: <br><br><div class="spoiler">  <b class="spoiler_title">Orden</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">MODULE</font> Order; <br> <br> <font color="#a626a4">CLASS</font> Book <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">100</font> ] (Book) <font color="#a626a4">IN</font> id; <br> <br> <font color="#a626a4">CLASS</font> Order <font color="#50a14f">''</font> ; <br> date <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (Order) <font color="#a626a4">IN</font> id; <br> number <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">STRING</font> [ <font color="#986801">10</font> ] (Order) <font color="#a626a4">IN</font> id; <br> <br> <font color="#a626a4">CLASS</font> OrderDetail <font color="#50a14f">' '</font> ; <br> order <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Order (OrderDetail) <font color="#a626a4">NONULL</font> <font color="#a626a4">DELETE</font> ; <br> <br> book <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Book (OrderDetail) <font color="#a626a4">NONULL</font> ; <br> nameBook <font color="#50a14f">''</font> (OrderDetail d) = name(book(d)); <br> <br> quantity <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (OrderDetail); <br> price <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">2</font> ] (OrderDetail); <br> sum <font color="#50a14f">''</font> = <font color="#a626a4">ABSTRACT</font> <font color="#a626a4">CASE</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">16</font> , <font color="#986801">2</font> ] (OrderDetail); <br> sum (OrderDetail d) += <font color="#a626a4">WHEN</font> price(d) <font color="#a626a4">THEN</font> quantity(d) * price(d); <br> <br> <font color="#a626a4">FORM</font> order <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) date, number <br> <br> <font color="#a626a4">OBJECTS</font> d = OrderDetail <br> <font color="#a626a4">PROPERTIES</font> (d) nameBook, quantity, price, <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">FILTERS</font> order(d) = o <br> <br> <font color="#a626a4">EDIT</font> Order <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">FORM</font> orders <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> date, number <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> orders; <br> } <br></code> </td></tr></tbody></table></div></div></div><br><div class="spoiler">  <b class="spoiler_title">Orderx</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">MODULE</font> OrderX; <br> <br> <font color="#a626a4">REQUIRE</font> Order; <br> <br> discount <font color="#50a14f">', %'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">5</font> , <font color="#986801">2</font> ] (OrderDetail); <br> discountPrice <font color="#50a14f">'  '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">2</font> ] (OrderDetail); <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">PROPERTIES</font> (d) <font color="#a626a4">AFTER</font> price(d) discount, discountPrice <font color="#a626a4">READONLY</font> <br> ; <br> <br> <font color="#a626a4">WHEN</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">CHANGED</font> (price(OrderDetail d)) <font color="#a626a4">OR</font> <font color="#a626a4">CHANGED</font> (discount(d)) <font color="#a626a4">DO</font> <br> discountPrice(d) &lt;- price(d) * ( <font color="#986801">100</font> (-) discount(d)) / <font color="#986801">100</font> ; <br> <br> sum(OrderDetail d) += <font color="#a626a4">WHEN</font> discount(d) <font color="#a626a4">THEN</font> quantity(d) * discountPrice(d); <br> <br> orderLimit <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">16</font> , <font color="#986801">2</font> ] (); <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> options <br> <font color="#a626a4">PROPERTIES</font> () orderLimit <br> ; <br> <br> sum <font color="#50a14f">''</font> (Order o) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> sum(OrderDetail d) <font color="#a626a4">IF</font> order(d) = o; <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">PROPERTIES</font> (o) sum <br> ; <br> <font color="#a626a4">CONSTRAINT</font> sum(Order o) &gt; orderLimit() <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'  '</font> ; <br> <br> <font color="#a626a4">DESIGN</font> order { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <br> fill = <font color="#986801">1</font> ; <br> type = <font color="#a626a4">SPLITH</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (o); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (d) { <br> <font color="#a626a4">PROPERTY</font> (price(d)) { pattern = <font color="#50a14f">'#,##0.00'</font> ; } <br> <font color="#a626a4">PROPERTY</font> (discountPrice(d)) { pattern = <font color="#50a14f">'#,##0.00'</font> ; } <br> } <br> } <br> } <br> } <br></code> </td></tr></tbody></table></div></div></div><br>  Cabe se帽alar que el m贸dulo <i>OrderX</i> puede llamarse <i>OrderDiscount</i> y transferirse directamente al producto.  Luego, si es necesario, ser谩 posible que cada cliente conecte f谩cilmente la funcionalidad con descuentos. <br><br>  Esto est谩 lejos de todas las posibilidades que ofrece la plataforma para expandir la funcionalidad en m贸dulos individuales.  Por ejemplo, usando la herencia, puede implementar modularmente la l贸gica de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">registro</a> . <br><br>  Si hay alg煤n cambio en el c贸digo fuente del producto que contradiga el c贸digo en el m贸dulo dependiente, se generar谩 un error cuando se inicie el servidor.  Por ejemplo, si el formulario de <i>pedido</i> se <i>elimina</i> en el m贸dulo <i>Pedido</i> , al inicio habr谩 un error de que el formulario de <i>pedido</i> no se encontr贸 en el m贸dulo <i>OrderX</i> .  Adem谩s, el error se resaltar谩 en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IDE</a> .  Adem谩s, el IDE tiene una funci贸n para buscar todos los errores en el proyecto, lo que le permite identificar todos los problemas que se han producido debido a la actualizaci贸n de la versi贸n del producto. <br><br>  En la pr谩ctica, tenemos todos los repositorios (del producto y todos los clientes) conectados al mismo proyecto, por lo que refactorizamos con calma el producto, mientras cambiamos la l贸gica en los m贸dulos del cliente donde se usa. <br><br><h2>  Conclusi贸n </h2><br>  Dicha arquitectura micromodular proporciona los siguientes beneficios: <br><br><ul><li>  <b>Cada cliente est谩 conectado solo con la funcionalidad que necesita</b> .  La estructura de su base de datos contiene solo aquellos campos que usa.  La interfaz de la soluci贸n final no contiene elementos innecesarios.  El servidor y el cliente no realizan eventos y comprobaciones innecesarios. </li><li>  <b>Flexibilidad en los cambios a la funcionalidad b谩sica</b> .  Directamente en el proyecto del cliente, puede realizar cambios en cualquier forma del producto, agregar eventos, nuevos objetos y propiedades, acciones, cambiar el dise帽o y mucho m谩s. </li><li>  <b>La entrega de nuevas mejoras requeridas por el cliente se acelera significativamente</b> .  Con cada solicitud de cambio, no necesita pensar c贸mo afectar谩 a otros clientes.  Debido a esto, se pueden hacer muchas mejoras y ponerlas en funcionamiento lo antes posible (a menudo en unas pocas horas). </li><li>  <b>Un esquema m谩s conveniente para expandir la funcionalidad del producto</b> .  Primero, se puede incluir cualquier funcionalidad para un cliente espec铆fico que est茅 listo para probarlo, y luego, en caso de una implementaci贸n exitosa, los m贸dulos se transfieren completamente al repositorio del producto. </li><li>  <b>C贸digo base de independencia</b> .  Dado que se proporcionan muchas mejoras bajo los contratos de servicio al cliente, formalmente, todo el c贸digo desarrollado bajo estos contratos pertenece al cliente.  Con este esquema, se garantiza una separaci贸n completa del c贸digo del producto que pertenece al proveedor del c贸digo propiedad del cliente.  Previa solicitud, transferimos el repositorio al servidor del cliente, donde puede modificar la funcionalidad que necesita con sus propios desarrolladores.  Adem谩s, si el proveedor otorga licencias para m贸dulos de productos individuales, el cliente no tiene el c贸digo fuente de los m贸dulos para los cuales no hay licencia.  Por lo tanto, no tiene la capacidad t茅cnica para conectarlos de forma independiente en violaci贸n de las condiciones de licencia. <br></li></ul><br>  El esquema de modularidad descrito anteriormente con la ayuda de extensiones en la programaci贸n a menudo se llama <i>mezclar</i> .  Por ejemplo, Microsoft Dynamics introdujo recientemente el concepto de extensi贸n, que tambi茅n le permite expandir los m贸dulos base.  Sin embargo, all铆 se requiere mucha programaci贸n de nivel inferior, lo que a su vez requiere calificaciones m谩s altas de los desarrolladores.  Adem谩s, a diferencia de lsFusion, la expansi贸n de eventos y restricciones requiere los "puntos de entrada" iniciales al producto para aprovechar esto. <br><br>  En este momento, de acuerdo con el esquema descrito anteriormente, apoyamos e implementamos un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sistema ERP</a> para la venta minorista con m谩s de 30 clientes relativamente grandes, que consta de m谩s de 1000 m贸dulos.  Entre los clientes hay redes de bienes de consumo, as铆 como farmacias, tiendas de ropa, cadenas de tiendas de lencer铆a, mayoristas y otros.  En el producto, respectivamente, hay categor铆as separadas de m贸dulos que est谩n conectados dependiendo de la industria y los procesos comerciales utilizados. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/461983/">https://habr.com/ru/post/461983/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../461965/index.html">Aplicaci贸n web MVC sin frameworks y servlets</a></li>
<li><a href="../461967/index.html">Antig眉edades: grabadora funcional</a></li>
<li><a href="../461971/index.html">El poder de Oracle SQL</a></li>
<li><a href="../461973/index.html">Prueba de manejo Audi e-tron</a></li>
<li><a href="../461975/index.html">Nuestro servicio es peligroso y dif铆cil, o Zyxel ATP500</a></li>
<li><a href="../461985/index.html">Tecnolog铆as postales: c贸mo digitalizamos el correo ruso</a></li>
<li><a href="../461989/index.html">Desarrollo de una interfaz de juego para varias proporciones de pantallas.</a></li>
<li><a href="../461993/index.html">C贸mo convertirse en un supermercado de un "dise帽ador habitual"</a></li>
<li><a href="../461995/index.html">C贸mo usar proxies residentes para marketing y promoci贸n de sitios web</a></li>
<li><a href="../461997/index.html">Ajuste del rendimiento de la consulta en PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>