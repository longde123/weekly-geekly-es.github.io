<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📟 💇🏿 🕛 22 conseils pour un développeur Angular. 2e partie 🙅 ♣️ 🙏🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, nous publions la deuxième partie de la traduction de l'article, qui contient un ensemble de recommandations pour les développeurs Angular...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>22 conseils pour un développeur Angular. 2e partie</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/425663/">  Aujourd'hui, nous publions la deuxième partie de la traduction de l'article, qui contient un ensemble de recommandations pour les développeurs Angular.  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie précédente,</a> 11 conseils ont été présentés, nous considérerons le même montant. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7bb/9dc/3bc/7bb9dc3bca3b7f924e2835f11f666917.jpg"></div><br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">1. Petits composants pouvant être réutilisés</font> </h2><br>  Recherchez des fragments dans les composants qui peuvent être réutilisés et créez de nouveaux composants en fonction d'eux.  Rendez les composants aussi stupides que possible, car cela leur permettra d'être utilisés dans plus de scénarios.  Un composant "stupide" est un composant qui ne contient aucune logique spécifique, dont le fonctionnement dépend uniquement des données d'entrée qui lui sont fournies. <br><br>  Lorsque vous travaillez avec des composants, la règle générale suivante doit être respectée: le composant imbriqué le plus profond dans l'arborescence des composants doit également être le plus «stupide». <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  La réutilisation des composants réduit la duplication de code, ce qui simplifie la prise en charge et les modifications du projet. <br><br>  Les composants stupides sont plus simples que d'autres, il est donc moins probable que des erreurs y apparaissent.  L'utilisation de tels composants permet au développeur de mieux réfléchir à l'API ouverte du composant et aide à résoudre les problèmes. <br><br><h2>  <font color="#3AC1EF">2. À propos des tâches résolues par les composants</font> </h2><br>  Dans la mesure du possible, évitez la présence dans les composants d'une logique autre que celle utilisée pour visualiser les données. <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  Les composants sont conçus comme des outils pour présenter des informations et contrôler le fonctionnement des interfaces.  Toute logique métier doit être supprimée des composants et placée, si possible, dans des méthodes ou services distincts, séparant ainsi la logique métier de la logique de présentation des informations. <br><br>  La logique métier, lorsqu'elle est présentée comme des services séparés, est généralement plus facile à tester unitaire.  Avec cette approche, il peut être réutilisé par différents composants qui ont besoin des mêmes capacités. <br><br><h2>  <font color="#3AC1EF">3. À propos des bonnes méthodes</font> </h2><br>  Si le code de la méthode s'avère très long, cela indique généralement qu'un tel module résout trop de problèmes.  Une telle méthode en tant qu'entité indépendante, peut-être, ne résout qu'un seul problème, mais à l'intérieur, il peut y avoir du code qui effectue plusieurs opérations différentes.  Un tel code peut être émis sous la forme de méthodes distinctes, chacune devant à nouveau résoudre un problème unique, après quoi vous devez utiliser ces méthodes au lieu des fragments de code correspondants dans la méthode d'origine. <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  Les méthodes de code longues sont difficiles à lire, à comprendre et à maintenir.  De plus, ces méthodes sont sujettes à des erreurs, car le changement de l'une d'entre elles peut affecter de nombreux autres mécanismes de la méthode.  Un code long signifie une refactorisation plus compliquée, et cette opération est très importante dans toute application. <br><br>  À cet égard, nous pouvons mentionner un indicateur tel que la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">complexité cyclomatique du programme</a> .  Il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">existe des règles</a> TSLint pour identifier la complexité cyclomatique qui peuvent être utilisées dans un projet pour éviter les erreurs qui pourraient apparaître dans un code trop complexe.  Avec leur aide, vous pouvez évaluer la qualité du code et éviter d'éventuels problèmes avec son support. <br><br><h2>  <font color="#3AC1EF">4. Principe SEC</font> </h2><br>  DRY (Ne pas répéter soi-même, ne pas répéter) est un principe qui doit être suivi pour garantir qu'il n'y a pas de copie des mêmes fragments de code à différents endroits du projet.  De tels fragments de code devraient être établis sous la forme d'entités, de méthodes indépendantes, par exemple, et utiliser leurs appels là où du code répété a été utilisé auparavant. <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  Si le même code est utilisé à différents endroits de l'application, cela conduit au fait que si vous devez apporter des modifications à ce code, vous devrez le faire à de nombreux endroits.  En conséquence, le programme sera plus difficile à maintenir, il sera sujet à des erreurs liées, par exemple, au fait que tous les fragments du même code n'ont pas été correctement modifiés.  De plus, cela augmente le temps nécessaire pour apporter des modifications au code et le tester. <br><br>  Si vous rencontrez quelque chose de similaire - formatez le code répétitif comme une entité indépendante et utilisez-le au lieu de répéter des fragments.  Cela entraînera le fait que pour apporter des modifications, vous devez apporter des modifications à un seul endroit, et pendant les tests, vous devrez tester un seul morceau de code, et non plusieurs.  De plus, moins le code est dupliqué dans l'application, plus il sera téléchargé rapidement par les utilisateurs. <br><br><h2>  <font color="#3AC1EF">5. Mécanismes de mise en cache</font> </h2><br>  Lorsque vous passez des appels à diverses API, vous remarquerez que les réponses de certaines d'entre elles ne changent presque jamais.  Dans de tels cas, vous pouvez ajouter des outils de mise en cache des données au programme et stocker dans le cache ce que les API similaires renvoient.  Lors de l'exécution de la prochaine demande, vous pouvez vous tourner vers le cache, et s'il a déjà ce dont il a besoin, vous pouvez utiliser ces données, et s'il n'en a pas besoin, exécuter la vraie demande et y mettre une réponse dans le cache. <br><br>  Si les données reçues de certaines API changent à certains intervalles, vous pouvez les mettre en cache pendant un certain temps.  Par conséquent, en faisant une demande à de telles API, il sera possible de décider d'où obtenir les données nécessaires. <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  Le fait d'avoir un mécanisme de mise en cache vous permet d'éviter de faire des demandes d'API inutiles.  Si les appels de l'application à l'API ne sont effectués qu'en cas d'absolue nécessité et que les données que l'application a déjà reçues ne sont plus demandées, les performances de la solution s'améliorent, notamment parce qu'elle n'a pas à attendre en permanence les réponses de certains services réseau.  Cette approche permet, en outre, d'économiser du trafic, car les mêmes données ne sont pas téléchargées encore et encore. <br><br><h2>  <font color="#3AC1EF">6. Logique dans les modèles</font> </h2><br>  Si vos modèles ont au moins une certaine logique, même une simple expression <code>&amp;&amp;</code> , cette logique doit être extraite et placée dans le composant approprié. <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  Si le modèle a une logique, cela signifie qu'un tel modèle ne peut pas être soumis à des tests unitaires, et donc, la probabilité d'erreurs lors du changement de code du modèle augmente. <br><br><h3>  <font color="#3AC1EF">OPour</font> </h3><br><pre> <code class="hljs pgsql">//  &lt;p *ngIf="role==='developer'"&gt; Status: Developer &lt;/p&gt; //  <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> ngOnInit (): <span class="hljs-type"><span class="hljs-type">void</span></span> {   this.<span class="hljs-keyword"><span class="hljs-keyword">role</span></span> = <span class="hljs-string"><span class="hljs-string">'developer'</span></span>; }</code> </pre> <br><h3>  <font color="#3AC1EF">▍Après</font> </h3><br>  // modèle <br>  &lt;p * ngIf = "showDeveloperStatus"&gt; Statut: développeur <br><pre> <code class="hljs pgsql">//  <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> ngOnInit (): <span class="hljs-type"><span class="hljs-type">void</span></span> {   this.<span class="hljs-keyword"><span class="hljs-keyword">role</span></span> = <span class="hljs-string"><span class="hljs-string">'developer'</span></span>;   this.showDeveloperStatus = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }</code> </pre> <br><h2>  <font color="#3AC1EF">7. Travailler avec des lignes</font> </h2><br>  Si vous avez une variable de type chaîne, qui peut avoir des valeurs d'un ensemble limité, alors, au lieu de la déclarer comme une chaîne régulière, spécifiez une liste de valeurs possibles lors de sa déclaration. <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  Une description bien pensée du type de variable facilite la détection et l'élimination des erreurs, car avec cette approche, elles sont détectées au stade de la compilation du programme et non au moment de l'exécution. <br><br><h3>  <font color="#3AC1EF">OPour</font> </h3><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">private</span></span> myStringValue: string; <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (itShouldHaveFirstValue) {  <span class="hljs-attribute"><span class="hljs-attribute">myStringValue</span></span> = <span class="hljs-string"><span class="hljs-string">'First'</span></span>; } <span class="hljs-section"><span class="hljs-section">else</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">myStringValue</span></span> = <span class="hljs-string"><span class="hljs-string">'Second'</span></span> }</code> </pre> <br><h3>  <font color="#3AC1EF">▍Après</font> </h3><br><pre> <code class="hljs pgsql">private myStringValue: <span class="hljs-string"><span class="hljs-string">'First'</span></span> | <span class="hljs-string"><span class="hljs-string">'Second'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (itShouldHaveFirstValue) {  myStringValue = <span class="hljs-string"><span class="hljs-string">'First'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {  myStringValue = <span class="hljs-string"><span class="hljs-string">'Other'</span></span> } //     <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> <span class="hljs-string"><span class="hljs-string">'"Other"'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> assignable <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-string"><span class="hljs-string">'"First" | "Second"'</span></span> (property) AppComponent.myValue: "First" | "Second"</code> </pre> <br><h2>  <font color="#3AC1EF">8. À propos de la gestion de l'état des applications</font> </h2><br>  Pensez à utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@ ngrx / store</a> pour contrôler l'état de votre application et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@ ngrx / effects</a> pour implémenter les effets secondaires.  Les changements d'état sont décrits par des actions et effectués par des fonctions pures appelées réducteurs. <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  @ ngrx / store isole la logique liée à l'état de l'application en un seul endroit et la rend uniforme sur l'ensemble du projet.  Ici, en outre, il existe un mécanisme de mémorisation qui fonctionne lorsque vous travaillez avec le stockage, ce qui améliore les performances des applications.  Le mécanisme @ ngrx / store, combiné à la stratégie de détection des changements d'Angular, conduit à des applications plus rapides. <br><br><h2>  <font color="#3AC1EF">9. À propos de l'immuabilité de l'état de l'application</font> </h2><br>  Lorsque vous utilisez @ ngrx / store, envisagez d'utiliser la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bibliothèque ngrx-store-freeze</a> pour rendre l'état de l'application immuable.  Cette bibliothèque empêche les mutations d'état en lançant des exceptions.  Cela évite les changements accidentels de l'état de l'application qui entraînent des conséquences imprévisibles. <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  La modification de l'état de l'application dans les composants entraîne le fait que le comportement de l'application change en fonction de l'ordre dans lequel les composants sont chargés.  Cela viole le modèle mental du modèle redux.  Par conséquent, les modifications peuvent être redéfinies si l'état du référentiel change et que le travail ultérieur avec celui-ci utilise déjà le nouvel état.  Ici, nous appliquons le principe de la séparation des responsabilités, selon lequel les composants sont au niveau de la présentation et ils ne doivent pas savoir comment changer l'état de l'application. <br><br><h2>  <font color="#3AC1EF">10. Outils de test des applications</font> </h2><br>  Utilisez des outils spécialisés pour tester les applications.  Parmi eux, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jest</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Karma</a> . <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  Jest est un cadre d'application de test unitaire développé par Facebook.  Il prend en charge les mécanismes d'exécution de tests parallèles, ce qui accélère le travail.  En raison du fait qu'il est capable de prendre en compte les changements dans la base de code, lors de la prochaine session de test, seuls les tests liés au code modifié sont effectués.  Cela améliore la capacité d'analyser les résultats des tests.  En outre, Jest fournit des mesures de couverture de test et est pris en charge par l'éditeur de code VS et l'IDE WebStorm. <br><br>  Le test runner de Karma a été développé par l'équipe AngularJS.  Pour exécuter les tests, il a besoin d'un vrai navigateur et d'un DOM.  Karma vous permet d'exécuter des tests dans différents navigateurs.  Jest, à son tour, n'a pas besoin, par exemple, d'un navigateur Chrome sans interface utilisateur ou phantom.js, car seule la plateforme Node.js est nécessaire pour que ce cadre fonctionne. <br><br><h2>  <font color="#3AC1EF">11. Rendu du serveur</font> </h2><br>  Si vous n'avez pas encore utilisé <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la</a> technologie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Angular Universal</a> , c'est le moment de l'essayer.  Il vous permet d'organiser le rendu côté serveur des applications angulaires.  En conséquence, des pages HTML statiques pré-rendues sont envoyées à l'utilisateur.  Cela rend les applications incroyablement rapides, car leur contenu apparaît presque instantanément dans les navigateurs, car le navigateur n'a pas à télécharger et à analyser les bundles JS et à perdre du temps à garantir le fonctionnement des mécanismes angulaires. <br><br>  De plus, les applications angulaires restituées sur le serveur présentent des avantages par rapport aux applications classiques en termes de PDG.  Angular Universal crée des pages statiques, ce qui facilite l'indexation de ces pages par les moteurs de recherche, car ils n'ont pas à exécuter de code JavaScript pour former des pages. <br><br><h3>  <font color="#3AC1EF">▍ Explications</font> </h3><br>  L'utilisation d'Angular Universal peut considérablement améliorer les performances des applications.  Récemment, nous avons mis à jour notre application, en y ajoutant des fonctionnalités de rendu de serveur.  Cela a conduit à une réduction du temps de chargement du site de quelques secondes à des dizaines de millisecondes. <br><br>  De plus, grâce à cette approche, les pages s'affichent correctement dans les zones d'aperçu de contenu utilisées sur les réseaux sociaux.  Le temps pour la première page significative (Première peinture significative) est très court, ce qui évite aux utilisateurs une attente inutile. <br><br><h2>  <font color="#3AC1EF">Résumé</font> </h2><br>  Le développement d'applications est le chemin par lequel le programmeur trouve constamment des opportunités pour améliorer ce qu'il crée.  Vous, en suivant ce chemin, pourriez bien profiter des conseils donnés ici pour optimiser les applications angulaires.  Nous sommes sûrs que leur application cohérente bénéficiera à toute équipe de développement et que le résultat résultant plaira aux utilisateurs, car, de leur point de vue, cela conduira au fait qu'ils travailleront avec des applications plus stables et productives. <br><br>  <b>Chers lecteurs!</b>  Si vous pouvez partager des conseils utiles pour améliorer les applications avec la communauté des développeurs Angular, faites-le. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr425663/">https://habr.com/ru/post/fr425663/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr425649/index.html">BDSM, Gore et la poursuite du développeur Drupal</a></li>
<li><a href="../fr425653/index.html">Construire une architecture de microservices sur Golang et gRPC, partie 1</a></li>
<li><a href="../fr425657/index.html">L'inévitabilité de la punition, l'efficacité des contrôles brusques</a></li>
<li><a href="../fr425659/index.html">La conception interactive ne doit pas être compliquée.</a></li>
<li><a href="../fr425661/index.html">22 conseils pour un développeur Angular. Partie 1</a></li>
<li><a href="../fr425665/index.html">Git: correction de bugs et correction de commits</a></li>
<li><a href="../fr425667/index.html">Guide Node.js, partie 10: modules standard, flux, bases de données, NODE_ENV</a></li>
<li><a href="../fr425669/index.html">Guide de conception Web pour les non-concepteurs</a></li>
<li><a href="../fr425671/index.html">MBLT DEV 2018: Rapport Robot</a></li>
<li><a href="../fr425673/index.html">[Peter] Rencontre JUG.ru avec Venkat Subramaniam - Design Patterns à la lumière des expressions Lambda</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>