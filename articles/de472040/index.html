<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤘🏽 👩🏼‍🤝‍👨🏽 ✡️ Balancing Red-Black Trees - Drei Fälle 🤹🏼 👏🏾 👶🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Binäre Suchbäume sind eine Datenstruktur zum Speichern von Elementen mit Schnellsuchfunktionen. Die Idee ist einfach und genial: "Weniger ist übrig, m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Balancing Red-Black Trees - Drei Fälle</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/472040/">  Binäre Suchbäume sind eine Datenstruktur zum Speichern von Elementen mit Schnellsuchfunktionen.  Die Idee ist einfach und genial: "Weniger ist übrig, mehr ist richtig."  Hier endet die Einfachheit und komplexe Fragen des Balancierens eines Baumes beginnen, damit er nicht zu einem langen Ast wird. <br><br><img src="https://habrastorage.org/webt/61/zo/qi/61zoqi8kmblgptv9h1gtvqho1qs.png"><br><hr><br>  <i>In diesem Artikel geben wir eine Definition, listen die Regeln für das Platzieren von Elementen in einem rot-schwarzen Baum auf, betrachten einen Ausgleichsalgorithmus und konsolidieren das, was in einem Beispiel gesagt wurde.</i>  <i>Wir werden dieses Thema sowie andere Arten von binären Suchbäumen im Kurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">„Algorithmen für Entwickler“</a> genauer untersuchen.</i> <br><br><img src="https://habrastorage.org/webt/1c/by/b6/1cbyb6vaxxnp3xud5zw2cf39s-8.png"><br><a name="habracut"></a><br>  <b>Der rot-schwarze Baum</b> ist ein selbstausgleichender binärer Suchbaum, der eine logarithmische Erhöhung der Höhe des Baums aus der Anzahl der Knoten und die schnelle Ausführung der grundlegenden Operationen des Suchbaums garantiert: Hinzufügen, Löschen und Suchen eines Knotens. <br><br>  Der rot-schwarze Baum ist nicht vollständig ausbalanciert, an einigen Stellen kann seine Höhe fast doppelt variieren.  Eine solche Annahme wirkt sich nicht asymptotisch auf die Geschwindigkeit der Suche nach Elementen aus, sondern beschleunigt die Platzierung neuer Elemente erheblich, da Sie den Baum nicht jedes Mal "schütteln" müssen, wenn Sie Elemente hinzufügen. Manchmal reicht es aus, ein rotes Element hinzuzufügen, ohne die anderen zu berühren und ohne die "schwarze Höhe" zu ändern. . <br><br><img src="https://habrastorage.org/webt/nb/5a/oq/nb5aoqggbxx2cxwt5a3sskxes-m.png"><br><br><h3>  Regeln zum Platzieren von Elementen in einem rot-schwarzen Baum </h3><br><ol><li>  Jeder Knoten ist entweder rot oder schwarz, NIL-Blätter sind immer schwarz. </li><li>  Die Wurzel des Baumes ist immer schwarz </li><li>  Beide Nachkommen jedes roten Knotens sind schwarz </li><li>  Der Pfad von einem Knoten zu einem Nachkommenblatt enthält die gleiche Anzahl schwarzer Knoten. </li></ol><br>  Wenn Sie ein neues Element einfügen, wird ihm eine rote Farbe zugewiesen.  Um die ersten beiden Regeln zu erfüllen, malen Sie einfach die neuen Scheitelpunkte in der gewünschten Farbe neu. <br><br>  Beachten Sie die Ausgleichsregeln für die Umsetzung von 3 und 4 Punkten. <br>  In jeder Abbildung wird davon ausgegangen, dass wir bereits ein Element X hinzugefügt haben, das gegen die 3-Regel verstößt. Wir müssen die Struktur des Baums ändern, damit die 3-Regel ausgeführt wird und 4 nicht gebrochen wird. <br><br>  Legende der Eckpunkte: <br><br><ul><li>  X - ein hinzugefügtes Element, das gegen 3 Absätze der Regeln verstößt. </li><li>  P - Papa Gegenstand X. </li><li>  G - der Großvater des Elements X, der Vater des Elements P. </li><li>  U ist der Onkel des Elements X, der Bruder des Elements P, der zweite Sohn des Elements G. </li></ul><br><h3>  Fall Eins - Roter Onkel </h3><br><img src="https://habrastorage.org/webt/jw/rf/lo/jwrflolsicccjkbm91q46uzha-8.jpeg"><br><br>  Wenn sowohl der Vater als auch der Onkel rot sind, können wir die schwarze Farbe von der Ebene des Großvaters auf die Ebene des Vaters „senken“ und die Knoten neu streichen, wie in der Abbildung gezeigt.  In diesem Fall bleibt die "schwarze Höhe" gleich, jedoch ist ein Verstoß gegen Regel 3 für Element G möglich, weshalb für diesen Knoten rekursiv ein weiterer Ausgleich aufgerufen werden muss. <br><br><h3>  Fall zwei - ein schwarzer Onkel - Vater und Großvater in verschiedene Richtungen. </h3><br><img src="https://habrastorage.org/webt/ep/ug/qv/epugqvp7vkekq6yenwzcmxxelya.jpeg"><br><br>  Diese Struktur muss zum dritten Fall gebracht werden, wenn Vater und Großvater in die gleiche Richtung gehen.  Dazu müssen Sie eine kleine Runde von Sohn X zu seinem Vater machen (die Rundenregeln werden in diesem Artikel nicht berücksichtigt) und 3 Fälle für Element R aufrufen. <br><br><h3>  Fall drei - Schwarzer Onkel - Vater und Großvater auf derselben Seite </h3><br><img src="https://habrastorage.org/webt/j3/wz/2q/j3wz2q1zxwwkd4nuphv3h1dhh_0.jpeg"><br><br>  In diesem Fall können wir bereits eine große Wendung vom Vater über den Großvater zum schwarzen Onkel machen und P in Schwarz und G in Rot neu streichen.  Infolge dieser Rotation wird die 3-Regel erfüllt. <br><br>  Stellen Sie sicher, dass auch die 4. Regel erfüllt ist.  Angenommen, vor der großen Kurve betrug die schwarze Höhe des Elements G N + 2.  Dann ist die Höhe der "hängenden" Elemente wie folgt: <br><br>  A = N + 1, <br>  B = N + 1, <br>  C = N + 1, <br>  D = N. <br>  E = N. <br><br>  Überzeugen Sie sich selbst, dass nach dem Drehen die 4-Regel für alle Elemente gilt. <br><br><h2>  Konkretes Beispiel </h2><br>  Nun betrachten wir den Prozess der Bildung eines rot-schwarzen Baums mit sequentieller Einfügung der Elemente 1, 2, 3, 4, 5 und 6. <br><br><img src="https://habrastorage.org/webt/ux/at/u6/uxatu6_v2gx665gmex1ljxmamro.jpeg"><br><br>  Da Element 1 die Wurzel ist, streichen wir es einfach neu, um Regel 1 zu erfüllen. <br><br><img src="https://habrastorage.org/webt/mf/vj/hr/mfvjhrz8bguaujij_9nahkkpw_c.jpeg"><br><br>  Nach dem Hinzufügen von Element 2 werden alle Regeln ausgeführt. <br><br><img src="https://habrastorage.org/webt/he/ca/u-/hecau-qzgpt6nciczgjxzspnroe.jpeg"><br><br>  Beim Hinzufügen von Element 3 haben wir Regel 3 verletzt.  Da wir einen schwarzen Onkel und einerseits Großvater und Vater haben, verwenden wir den dritten Fall - wir drehen uns um und streichen neu. <br><br><img src="https://habrastorage.org/webt/sg/lf/ct/sglfctsnqx_w0bphh5qkhw7ew6m.jpeg"><br><br>  Beim Hinzufügen von Element 4 haben wir erneut gegen Regel 3 verstoßen.  Diesmal ist unser Onkel rot, daher wenden wir den ersten Fall mit Neulackierung an - die schwarze Höhe des Baumes erhöht sich um 1. Bitte beachten Sie.  dass der Ausgleichsalgorithmus zusätzlich für das Großvaterelement 2 gestartet wird, das wie die Wurzel einfach in schwarz neu gestrichen wird. <br><br><img src="https://habrastorage.org/webt/px/0c/i5/px0ci5vyjnz8xxpqwfp5aikrj6y.jpeg"><br><br>  Beim Einfügen von Element 5 wenden wir erneut den Fall 3 an - wir machen eine große Kurve und streichen die Eckpunkte neu.  Beachten Sie, dass sich die schwarze Höhe nicht geändert hat. <br><br><img src="https://habrastorage.org/webt/dy/rs/5d/dyrs5dhlwbvtbs5knh6rlgpvjly.jpeg"><br><br>  Beim Hinzufügen von Element 6 haben wir erneut gegen Regel 3 verstoßen.  Da unser Onkel rot ist, wenden wir den ersten Fall mit Neulackierung an, die schwarze Höhe hat sich nicht geändert.  Der Ausgleichsaufruf für 4 Elemente hat nichts im Baum geändert, da dieses Element nicht gegen die Regeln verstößt. <br><br>  Daher haben wir uns mit den Problemen des Ausgleichs von Rot-Schwarz-Bäumen vertraut gemacht, detaillierter und mit Beispielen für Algorithmen in diesem Thema sowie mit verschiedenen anderen binären Suchbäumen, die wir im Kurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Algorithmen für Entwickler" betrachten</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de472040/">https://habr.com/ru/post/de472040/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de472024/index.html">Version 3.0: besser machen</a></li>
<li><a href="../de472026/index.html">Nevanger: Straße wird geändert</a></li>
<li><a href="../de472028/index.html">LoRaWAN und NB-IoT: Rivalen oder Mitarbeiter?</a></li>
<li><a href="../de472032/index.html">oktech Data Sense # 3: Referenten-Mini-Interview</a></li>
<li><a href="../de472036/index.html">Formel zur Berechnung von Primzahlen und zur Optimierung von Brute-Force-Teilern</a></li>
<li><a href="../de472042/index.html">Volle Mandantenfähigkeit in Zimbra OSE mit Zextras Admin</a></li>
<li><a href="../de472044/index.html">Übersicht über ISPmanager - Hosting- und Site-Control-Panels</a></li>
<li><a href="../de472046/index.html">Konferenzen: der Anfang des Weges</a></li>
<li><a href="../de472052/index.html">Datenorientiertes Design (oder warum Sie sich mit OOP wahrscheinlich in den Fuß schießen)</a></li>
<li><a href="../de472054/index.html">Organisatoren und Lehrassistenten zu CS Center Online-Programmen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>