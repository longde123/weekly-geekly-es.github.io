<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤦🏻 🦍 🌉 Wie schreibe ich Go-Pakete 📫 👩🏻‍🚒 ✋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ein Go-Paket besteht aus Go-Dateien, die sich im selben Verzeichnis befinden und an deren Anfang sich derselbe package . Mit Paketen, die eine Verbind...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie schreibe ich Go-Pakete</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/464289/"> Ein Go-Paket besteht aus Go-Dateien, die sich im selben Verzeichnis befinden und an deren Anfang sich derselbe <code>package</code> .  Mit Paketen, die eine Verbindung zu Programmen herstellen, können Sie deren Funktionen erweitern.  Einige Pakete sind Teil der Standard-Go-Bibliothek.  Wenn Sie Go verwenden, sind diese bereits installiert.  Andere Pakete werden mit dem Befehl <code>go get</code> installiert.  Sie können auch Ihre eigenen Go-Pakete schreiben, Dateien in speziellen Verzeichnissen erstellen und die Regeln des Paketdesigns einhalten. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/ht/dv/4c/htdv4cfnn8nmki3yphorht5eiki.jpeg"></a> <br><br>  Das Material, dessen Übersetzung wir heute veröffentlichen, ist ein Leitfaden für die Entwicklung von Go-Paketen, die mit anderen Dateien verbunden werden können. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Voraussetzungen</font> </h2><br><ul><li>  Richten Sie Ihre Go-Softwareumgebung ein (erfahren Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> , wie das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">geht</a> ).  Erstellen Sie einen Go-Arbeitsbereich (der fünfte Punkt des obigen Materials ist diesem Thema gewidmet).  Im nächsten Abschnitt dieses Materials finden Sie Beispiele, deren Reproduktion zu Hause empfohlen wird.  So können Sie besser mit ihnen umgehen. </li><li>  Um Ihr Wissen über <code>GOPATH</code> zu vertiefen, <code>GOPATH</code> Sie einen Blick auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses</a> Material. </li></ul><br><h2>  <font color="#3AC1EF">Pakete schreiben und importieren</font> </h2><br>  Das Schreiben von Paketcode entspricht dem Schreiben von normalem Go-Code.  Pakete können Deklarationen von Funktionen, Typen und Variablen enthalten, die dann in anderen Go-Programmen verwendet werden können. <br><br>  Bevor wir mit dem Erstellen eines neuen Pakets beginnen können, müssen wir zum Go-Arbeitsbereich gehen.  Es befindet sich auf dem von der <code>GOPATH</code> Variablen angegebenen <code>GOPATH</code> .  Lassen Sie unsere Organisation zum Beispiel <code>gopherguides</code> heißen.  Gleichzeitig verwenden wir als Repository <code>GitHub</code> .  Dies führt dazu, dass wir entlang des von <code>GOPATH</code> angegebenen <code>GOPATH</code> die folgende Ordnerstruktur haben: <br><br><pre> <code class="go hljs">└── $GOPATH    └── src        └── github.com            └── gopherguides</code> </pre> <br>  Wir werden das Paket nennen, das wir in diesem Handbuch entwickeln werden, <code>greet</code> .  Erstellen Sie dazu das <code>greet</code> Verzeichnis <code>gopherguides</code> .  Infolgedessen hat die vorhandene Ordnerstruktur die folgende Form: <br><br><pre> <code class="go hljs">└── $GOPATH    └── src        └── github.com            └── gopherguides                └── greet</code> </pre> <br>  Jetzt können wir die erste Datei zum <code>greet</code> hinzufügen.  In der Regel wird eine Datei, die der Einstiegspunkt eines Pakets ist, als Paketverzeichnis bezeichnet.  In diesem Fall bedeutet dies, dass wir im Verzeichnis <code>greet.go</code> Datei <code>greet.go</code> erstellen: <br><br><pre> <code class="go hljs">└── $GOPATH    └── src        └── github.com            └── gopherguides                └── greet                    └── greet.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  In diese Datei können wir Code schreiben, den wir in unseren Projekten wiederverwenden möchten.  In diesem Fall erstellen wir die <code>Hello</code> Funktion, die den Text <code>Hello, World!</code>  . <br><br>  Öffnen Sie die Datei <code>greet.go</code> in einem Texteditor und fügen Sie den folgenden Code hinzu: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Lassen Sie uns den Inhalt dieser Datei analysieren.  Die erste Zeile jeder Datei sollte den Namen des Pakets enthalten, in dem wir arbeiten.  Da wir uns im <code>greet</code> <code>package</code> , wird hier das Schlüsselwort <code>package</code> verwendet, gefolgt vom Paketnamen: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet</code> </pre> <br>  Dies weist den Compiler an, alles in der Datei als Teil des <code>greet</code> zu akzeptieren. <br><br>  Als nächstes werden die erforderlichen Pakete mithilfe der <code>import</code> Anweisung <code>import</code> .  In diesem Fall benötigen wir nur ein Paket - <code>fmt</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span></code> </pre> <br>  Und schließlich erstellen wir die <code>Hello</code> Funktion.  Sie wird die Funktionen des <code>fmt</code> Pakets verwenden, um die Zeichenfolge <code>Hello, World!</code>  :: <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Nachdem das <code>greet</code> erstellt wurde, können Sie es in jedem anderen Paket verwenden.  Erstellen wir ein neues Paket, in dem wir das <code>greet</code> Paket verwenden. <br><br>  Wir werden nämlich ein <code>example</code> erstellen.  Dazu gehen wir von denselben Annahmen aus, von denen wir ausgegangen sind, und erstellen das <code>greet</code> .  Erstellen Sie zunächst den <code>example</code> Ordner <code>gopherguides</code> : <br><br><pre> <code class="go hljs">└── $GOPATH    └── src        └── github.com            └── gopherguides                    └── example</code> </pre> <br>  Erstellen Sie nun eine Datei, die der Paketeinstiegspunkt ist.  Wir betrachten dieses Paket als ausführbares Programm und nicht als Paket, dessen Code in anderen Paketen verwendet werden soll.  Dateien, die die Eingabepunkte von Programmen sind, werden normalerweise als <code>main.go</code> : <br><br><pre> <code class="go hljs">└── $GOPATH    └── src        └── github.com            └── gopherguides                └── example                    └── main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Öffnen Sie die Datei <code>main.go</code> im Editor und <code>main.go</code> folgenden Code ein, mit dem Sie die Funktionen des <code>greet</code> Pakets nutzen können: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello() }</code> </pre> <br>  Wir haben das <code>greet</code> Paket in die Datei <code>main.go</code> importiert. <code>main.go</code> bedeutet, dass wir zum Aufrufen der in diesem Paket deklarierten Funktion die Punktnotation verwenden müssen.  Eine Punktnotation ist eine Konstruktion, bei der ein Punkt zwischen dem Paketnamen und dem Ressourcennamen dieses zu verwendenden Pakets eingefügt wird.  Im <code>greet</code> Paket spielt beispielsweise die <code>Hello</code> Funktion die Rolle einer Ressource.  Wenn Sie diese Funktion aufrufen müssen, wird die Punktnotation verwendet <code>: greet.Hello()</code> . <br><br>  Jetzt können Sie das Terminal öffnen und das Programm ausführen: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Danach zeigt das Terminal Folgendes an: <br><br><pre> <code class="go hljs">Hello, World!</code> </pre> <br>  Lassen Sie uns nun darüber sprechen, wie in Paketen deklarierte Variablen verwendet werden.  <code>greet.go</code> Sie dazu die Variablendeklaration zur Datei <code>greet.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Öffnen Sie die Datei <code>main.go</code> und fügen Sie eine Zeile hinzu, in der <code>fmt.Println()</code> Funktion <code>fmt.Println()</code> der Wert der im Paket <code>greet.go</code> deklarierten <code>Shark</code> Variablen <code>greet.go</code> .  Bringen Sie <code>main.go</code> in das folgende Formular: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark) }</code> </pre> <br>  Führen Sie das Programm erneut aus: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Jetzt wird sie Folgendes ausgeben: <br><br><pre> <code class="go hljs">Hello, World! Sammy</code> </pre> <br>  Lassen Sie uns nun darüber sprechen, wie Typen in Paketen deklariert werden.  Erstellen Sie einen <code>Octopus</code> Typ mit den Feldern <code>Name</code> und <code>Color</code> und erstellen Sie eine Typmethode.  Diese Methode gibt beim Aufruf den speziell verarbeiteten Inhalt von <code>Octopus</code> Feldern zurück.  <code>greet.go</code> in die folgende Form: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Octopus <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {    Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>    Color <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"The octopus's name is %q and is the color %s."</span></span>, o.Name, o.Color) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Öffnen <code>main.go</code> nun <code>main.go</code> , erstellen Sie eine Instanz der Struktur des neuen Typs und verweisen Sie auf die <code>String()</code> -Methode: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark)    oct := greet.Octopus{        Name: <span class="hljs-string"><span class="hljs-string">"Jesse"</span></span>,        Color: <span class="hljs-string"><span class="hljs-string">"orange"</span></span>,    }    fmt.Println(oct.String()) }</code> </pre> <br>  Nachdem Sie eine Instanz von <code>Octopus</code> mit einem Konstrukt erstellt haben, das wie <code>oct := greet.Octopus</code> , können Sie über den <code>main.go</code> Datei <code>main.go</code> auf die Methoden und Eigenschaften des Typs <code>main.go</code> .  Auf diese Weise können Sie insbesondere den Befehl <code>oct.String()</code> am Ende der Datei <code>main.go</code> verwenden, ohne auf <code>greet</code> zurückgreifen zu müssen.  Darüber hinaus können wir beispielsweise mit der <code>oct.Color</code> Konstruktion auf das Feld der <code>oct.Color</code> .  Gleichzeitig greifen wir, wie beim Aufrufen der Methode, nicht auf die <code>greet</code> . <br><br>  Die <code>String</code> Methode vom Typ <code>Octopus</code> verwendet die Funktion <code>fmt.Sprintf</code> , um den Satz zu bilden, und gibt mit <code>return</code> das Ergebnis, den String, an den Methodenaufruf zurück (in diesem Fall befindet sich diese Stelle in <code>main.go</code> ). <br><br>  Führen Sie das Programm erneut aus: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Folgendes wird an die Konsole ausgegeben: <br><br><pre> <code class="go hljs">Hello, World! Sammy The octopus<span class="hljs-string"><span class="hljs-string">'s name is "Jesse" and is the color orange.</span></span></code> </pre> <br>  Nachdem wir Octopus mit der <code>String</code> Methode ausgestattet haben, verfügen wir über einen Mechanismus zur Ausgabe von Typinformationen, der für die Wiederverwendung geeignet ist.  Wenn Sie in Zukunft das Verhalten dieser Methode ändern müssen, die in vielen Projekten verwendet werden kann, reicht es aus, den Code in <code>greet.go</code> zu bearbeiten. <br><br><h2>  <font color="#3AC1EF">Entitätsexport</font> </h2><br>  Möglicherweise haben Sie bemerkt, dass alles, mit dem wir beim Zugriff auf das <code>greet</code> haben, Namen hat, die mit einem Großbuchstaben beginnen.  Go verfügt nicht über Zugriffsmodifikatoren wie <code>public</code> , <code>private</code> oder <code>protected</code> , die in anderen Sprachen verfügbar sind.  Die Sichtbarkeit von Entitäten für externe Mechanismen wird durch die Tatsache gesteuert, mit welchem ​​Buchstaben, mit einem kleinen oder großen, ihre Namen beginnen.  Daher sind Typen, Variablen und Funktionen, deren Namen mit einem Großbuchstaben beginnen, außerhalb des aktuellen Pakets verfügbar.  Code, der außerhalb des Pakets sichtbar ist, wird als exportiert bezeichnet. <br><br>  Wenn Sie den <code>Octopus</code> Typ mit einer neuen Methode namens <code>reset</code> ausstatten, kann diese Methode aus dem <code>greet</code> Paket aufgerufen werden, nicht jedoch aus der <code>main.go</code> Datei, die sich außerhalb des <code>greet</code> Pakets befindet.  Hier ist eine aktualisierte Version von <code>greet.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Octopus <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {    Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>    Color <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"The octopus's name is %q and is the color %s."</span></span>, o.Name, o.Color) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    o.Name = <span class="hljs-string"><span class="hljs-string">""</span></span>    o.Color = <span class="hljs-string"><span class="hljs-string">""</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Versuchen wir, <code>reset</code> aus der Datei <code>main.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark)    oct := greet.Octopus{        Name: <span class="hljs-string"><span class="hljs-string">"Jesse"</span></span>,        Color: <span class="hljs-string"><span class="hljs-string">"orange"</span></span>,    }    fmt.Println(oct.String())    oct.reset() }</code> </pre> <br>  Dies führt zu folgendem Kompilierungsfehler: <br><br><pre> <code class="go hljs">oct.reset undefined (cannot refer to unexported field or method greet.Octopus.reset)</code> </pre> <br>  Um die <code>reset</code> vom Typ <code>Octopus</code> zu exportieren, müssen Sie sie umbenennen und den ersten Buchstaben in Kleinbuchstaben <code>r</code> durch Großbuchstaben <code>R</code> ersetzen <code>R</code>  Wir tun dies, indem wir <code>greet.go</code> bearbeiten: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Octopus <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {    Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>    Color <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"The octopus's name is %q and is the color %s."</span></span>, o.Name, o.Color) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Reset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    o.Name = <span class="hljs-string"><span class="hljs-string">""</span></span>    o.Color = <span class="hljs-string"><span class="hljs-string">""</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Dies führt dazu, dass wir <code>Reset</code> von anderen Paketen aus aufrufen können, ohne dass Fehlermeldungen auftreten: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark)    oct := greet.Octopus{        Name: <span class="hljs-string"><span class="hljs-string">"Jesse"</span></span>,        Color: <span class="hljs-string"><span class="hljs-string">"orange"</span></span>,    }    fmt.Println(oct.String())    oct.Reset()    fmt.Println(oct.String()) }</code> </pre> <br>  Führen Sie das Programm aus: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Folgendes gelangt zur Konsole: <br><br><pre> <code class="go hljs">Hello, World! Sammy The octopus<span class="hljs-string"><span class="hljs-string">'s name is "Jesse" and is the color orange The octopus'</span></span>s name is <span class="hljs-string"><span class="hljs-string">""</span></span> and is the color .</code> </pre> <br>  Durch Aufrufen der <code>Reset</code> Methode haben wir die Felder <code>Name</code> und <code>Color</code> unserer <code>Octopus</code> Instanz gelöscht.  Wenn Sie <code>String</code> aufrufen, bei dem zuvor der Inhalt der Felder <code>Name</code> und <code>Color</code> angezeigt wurde, wird jetzt nichts mehr angezeigt. <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  Das Schreiben von Go-Paketen unterscheidet sich nicht vom Schreiben von normalem Go-Code.  Wenn Sie den Paketcode jedoch in eigenen Verzeichnissen ablegen, können Sie den Code isolieren, der in allen anderen Go-Projekten verwendet werden kann.  Hier haben wir darüber gesprochen, wie Funktionen, Variablen und Typen in Paketen deklariert werden, wie diese Entitäten außerhalb von Paketen verwendet werden und wo Pakete gespeichert werden, die für ihre wiederholte Verwendung ausgelegt sind. <br><br>  <b>Liebe Leser!</b>  Welche Programme schreiben Sie normalerweise auf Go?  Verwenden Sie darin proprietäre Pakete? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/it/t5/3p/itt53pns2iucwylb3bwn1fmmtnu.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de464289/">https://habr.com/ru/post/de464289/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de464277/index.html">Zufällige Flächen verbergen die komplizierte Reihenfolge</a></li>
<li><a href="../de464279/index.html">Selbst gemachter Kupferchlorid-Dampflaser</a></li>
<li><a href="../de464283/index.html">Anwendungen für E-Books auf dem Android-Betriebssystem. Teil 3. Wörterbücher und Notizen</a></li>
<li><a href="../de464285/index.html">Vkontakte-Profilfoto automatisch aktualisieren</a></li>
<li><a href="../de464287/index.html">Der Durchgang der Labormaschine zum Pentest "Hackthebox - Friendzone"</a></li>
<li><a href="../de464291/index.html">Die 10 einflussreichsten Programmiersprachen der letzten 50 Jahre und ihre Schöpfer</a></li>
<li><a href="../de464293/index.html">Ersetzen Haken in React Redux?</a></li>
<li><a href="../de464295/index.html">Beispiele für die Verwendung einiger neuer JavaScript-Funktionen</a></li>
<li><a href="../de464299/index.html">0, 0, 1, 0, 2, 0, 2, 2, 1, 6, 0, 5, 0, 2, 6, 5, 4, 0, 5, 3, 0, 3, 2, 9, 0, 4, 9, 3, 6, 14, 0, 6, 3, 5, 15, 0, 5, 3, 5 ...</a></li>
<li><a href="../de464303/index.html">Zeitreihendaten in einem relationalen DBMS. Erweiterungen TimescaleDB und PipelineDB für PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>