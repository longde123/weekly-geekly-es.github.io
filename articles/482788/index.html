<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>„äóÔ∏è üëµüèæ üíâ ¬øQu√© hay dentro del TPU Google Coral Edge ?: pruebas de velocidad y an√°lisis del dispositivo ‚ö†Ô∏è ü§ô üßëüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En 2019, Google finalmente lanz√≥ un equipo de TPU con la marca Coral que se puede comprar. Sin embargo, no hay redes en la nube tan potentes para la c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øQu√© hay dentro del TPU Google Coral Edge ?: pruebas de velocidad y an√°lisis del dispositivo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482788/"><img src="https://habrastorage.org/getpro/habr/post_images/23e/fe4/724/23efe4724c03bd307c4d7756899c065c.webp"><br><br>  En 2019, Google finalmente lanz√≥ un equipo de TPU con la marca Coral que se puede comprar.  Sin embargo, no hay redes en la nube tan potentes para la capacitaci√≥n como BigGAN con sus 100 petaflops / s, y ni siquiera como las 180 TPU v2 TFlop / s m√°s baratas, que se pueden alquilar por $ 4.5 por hora.  Estos dispositivos de TPU deber√≠an funcionar "al l√≠mite", es decir, proporcionar la posibilidad de implementar soluciones de aprendizaje profundo para dispositivos peque√±os sin acceso a Internet.  ¬øQu√© tan buenos son esos TPU que podemos comprar? <br><a name="habracut"></a><br>  En la especificaci√≥n de <a href="https://coral.ai/products">los productos actuales,</a> su velocidad se indica como 4 TOP (teraoperaciones por segundo).  Estos no son dispositivos est√°ndar que admitan operaciones de punto flotante de 32 bits, ya que el <a href="https://www.tensorflow.org/lite">tensorflow-lite que se</a> ejecuta en estos dispositivos utiliza aritm√©tica de punto fijo de 8 bits.  Adem√°s, no encontrar√° en ellos un ancho de banda para la memoria, como en una nube TPU o GPU.  Las TPU Edge est√°n conectadas a dispositivos a trav√©s de USB 3.0 o mediante el bus mPCIe de segunda generaci√≥n, por lo que la velocidad se limitar√° a 500-640 MB / s.  Por supuesto, dado que solo hay <a href="https://coral.ai/docs/edgetpu/compiler/">8 MB de SRAM</a> en dicho dispositivo, no tomar√° m√°s de 16 ms transferir datos hacia o desde el dispositivo, y el modelo que probamos para escribir este art√≠culo solo tom√≥ 10 ms.  No sufrir√° una falta de memoria, porque estos dispositivos no est√°n dise√±ados para aprender desde cero.  Sin embargo, en este dispositivo puede entrenar la √∫ltima capa del modelo.  El punto principal del uso de TPU de borde es construir conclusiones l√≥gicas, y as√≠ es como comprobar√© la velocidad de este dispositivo. <br><br>  El dispositivo m√°s cerrado, como <a href="https://coral.ai/products/accelerator/">Coral Edge TPU, se</a> lanz√≥ en marzo de 2019, y fue con √©l que pude jugar.  Este es uno de los prototipos de Coral, aunque seg√∫n los documentos tiene exactamente el mismo rendimiento que las placas base lanzadas con mPCIe.  No hay problemas con USB 3.0, pero si no tiene ganas de jugar con un dispositivo de seguridad externo, puede colocar las tarjetas M.2 Accelerator A + E en la ranura en lugar de la tarjeta WiFi: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/12d/a2c/901/12da2c901f962b3dd5fb19811f1aa410.jpg"><br>  <i>Izquierda: mi tarjeta wifi en una computadora port√°til.</i>  <i>Derecha: acelerador M.2 A + E que se conecta a la misma ranura.</i> <br><br>  ¬øY qu√© hay dentro del borde del acelerador de TPU que mide 30 mm x 65 mm y cuesta $ 75?  ¬øPodr√≠a haber un acelerador mPCIe de 30 mm x 22 mm por $ 35 con un adaptador USB y un disipador t√©rmico?  ¬øPodemos abrir suavemente una caja de pl√°stico y metal? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/76c/8a5/24c/76c8a524c0590f5369164e8fc3b7fa04.jpg"><br>  <i>Borde delantero y trasero TPU</i> <br><br>  La carcasa de pl√°stico se puede abrir sin problemas gracias a un radiador muy r√≠gido.  El radiador se puede quitar desenroscando 4 tornillos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f7/0b3/b7d/2f70b3b7db6251c583918c6e3df9221b.jpg"><br>  <i>La parte posterior del dispositivo con la cubierta de pl√°stico retirada, con y sin radiador, y el radiador mismo</i> <br><br>  La respuesta a la pregunta anterior: no, no literalmente, pero las tablas son muy similares: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2cd/e5f/cef/2cde5fcef05a8a454e9dca330b429a94.jpg"><br>  <i>El lado de trabajo de Coral Edge TPU.</i>  <i>A la derecha est√° el acelerador M2 A + E y un chip de TPU separado en una moneda de un centavo</i> <br><br>  Los chips del radiador son probablemente TPU (m√°s grande) y memoria.  Una vez que recuper√© el Edge TPU, realic√© mis propias pruebas de velocidad, aunque las <a href="https://coral.ai/docs/edgetpu/benchmarks/">pruebas de Google</a> hablan de un rendimiento 10 o incluso 20 veces m√°s r√°pido en comparaci√≥n con la CPU. <br><br>  <a href="https://github.com/google-coral/tflite/tree/master/python/examples/detection">Un ejemplo del sitio Coral</a> para el reconocimiento de objetos se puede ejecutar tanto en la CPU como en la TPU.  Conecto este dispositivo a mi Acer Chromebook 11 con <a href="https://galliumos.org/">Galium OS 2.1</a> , que es lo suficientemente similar a Debian para poder instalar tf-lite y un programa para trabajar con TPU sin ning√∫n problema.  Los modelos MobileNetV2 SSDLite para reconocimiento de objetos ocupan menos de 7 MB y funcionan con im√°genes de 300x300.  En el TPU, una imagen se procesa en 20 ms (+10 ms para la copia de una sola vez).  En mi computadora port√°til con una CPU Intel Celeron 2.16GHz en 2014, la imagen se procesa en 1500 ms.  En otra PC, con un procesador Intel Xeon CPU de 2.5 GHz (que es 15 veces m√°s r√°pido que el m√≠o seg√∫n cpubenchmark.net), la imagen se procesa en 130 ms (¬°con un consumo de 210 W!).  Seg√∫n cpubenchmark.net, la CPU m√°s r√°pida disponible ser√° 3 veces m√°s r√°pida que esta: ¬°y seguir√° siendo m√°s lenta que la TPU de borde, que, adem√°s, es mucho m√°s barata y consume mucho menos! <br><br>  Un proyecto m√°s interesante es el reconocimiento de objetos en la transmisi√≥n de video desde la c√°mara de mi computadora port√°til.  En el procesador Celeron, el <a href="https://github.com/ilyakava/tflite/tree/master/python/examples/detection">ejemplo seleccionado</a> logra procesar menos de un cuadro por segundo.  En TPU, procesa 20 cuadros por segundo, es decir, funciona en tiempo real.  Y solo una cuarta parte del tiempo se pasa comunic√°ndose con el TPU, el resto es cambiar el tama√±o de las im√°genes y mostrar los datos finales con los que se ocupa la CPU.  Aunque instal√© el programa para que TPU funcione a la frecuencia m√°xima, no me acerqu√© a sus l√≠mites, por lo que el disipador t√©rmico de TPU no se calent√≥ a ninguna temperatura inc√≥moda. <br><br>  Los ejemplos dados fueron lo suficientemente f√°ciles de cambiar y ajustar.  Para comenzar a trabajar con el dispositivo, solo necesita instalar el entorno de trabajo de TPU a <a href="https://coral.ai/docs/accelerator/get-started/">trav√©s de apt-get</a> , luego instalar tf-lite a trav√©s de pip, y ya est√° listo para trabajar con ejemplos.  Los modelos en estos ejemplos ya est√°n precompilados.  Para una prueba de velocidad m√°s plausible, necesitar√° entrenar el modelo desde cero, ejecutarlo en la GPU y la CPU, convertirlo a tf-lite y ejecutarlo en la CPU y TPU. <br><br>  En general, estuve satisfecho con este dispositivo.  Me parece sorprendente que una red que reconoce objetos en im√°genes de 300x300 funcione en una netbook 2014 en tiempo real, con una actualizaci√≥n que cuesta solo $ 75 (o incluso $ 35 si toma la placa M.2).  Por supuesto, el TPU regional no reemplazar√° a la GPU para capacitaci√≥n e incluso para evaluar modelos.  Sin embargo, veo un gran potencial en el <a href="https://coral.ai/products/m2-accelerator-ae/">tablero</a> , en el cual un TOP cuesta $ 10 y consume 0.5 vatios.  ¬°Es al menos 10 veces m√°s barato que trabajar con una GPU!  Y mucho menos energ√≠a intensiva.  Esta es una gran opci√≥n para demostrar el trabajo en alg√∫n lugar de los campos.  Si la tarea que le interesa est√° indicada en la <a href="https://coral.ai/docs/edgetpu/models-intro/">etiqueta</a> del sitio web del producto, entonces este chip ser√° √∫til si su bajo consumo de energ√≠a y un tama√±o de sistema peque√±o son su prioridad. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/482788/">https://habr.com/ru/post/482788/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../482774/index.html">Seoshniki negro y los mejores m√©todos de promoci√≥n. Adulto, farmacia, ensayos, citas. Shestakov | Personas PRO # 75</a></li>
<li><a href="../482778/index.html">Ventilaci√≥n con recuperaci√≥n en el apartamento. Sin ductos y SMS</a></li>
<li><a href="../482780/index.html">Experimentos con redes neuronales basadas en datos s√≠smicos.</a></li>
<li><a href="../482784/index.html">La vida secreta de un servidor Linux o un ataque de fuerza bruta de un ventilador en el subsistema SSH</a></li>
<li><a href="../482786/index.html">Acertijo sin resolver</a></li>
<li><a href="../482790/index.html">Olv√≠date del cifrado homom√≥rfico: ahora tenemos el cifrado funcional</a></li>
<li><a href="../482792/index.html">Proyecto ITER en 2019</a></li>
<li><a href="../482794/index.html">Redes neuronales ¬øA d√≥nde va todo?</a></li>
<li><a href="../482798/index.html">Ver el bosque detr√°s de los √°rboles</a></li>
<li><a href="../482800/index.html">Mis b√∫squedas del panel de control f√≠sico de una casa inteligente</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>