<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé® üë∞üèº üé† Einfachste Implementierung des Entity Component-Systems ü§úüèª üí∑ üòß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! 

 Der vierte Stream ‚ÄûC ++ Developer‚Äú startet hier, einer der aktivsten Kurse in unserem Land, gemessen an den tats√§chlichen Treffen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Einfachste Implementierung des Entity Component-Systems</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/422981/">  Hallo allerseits! <br><br>  Der vierte Stream <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûC ++ Developer‚Äú</a> startet hier, einer der aktivsten Kurse in unserem Land, gemessen an den tats√§chlichen Treffen, bei denen nicht nur ‚ÄûKreuzfahrer‚Äú mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dima Shebordaev</a> ins Gespr√§ch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kommen</a> :) Im Allgemeinen ist der Kurs bereits gewachsen Als eine der gr√∂√üten in unserem Land ist es unver√§ndert geblieben, dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dima</a> offene Lektionen durchf√ºhrt und wir vor Beginn des Kurses interessante Materialien ausw√§hlen. <br><br>  Lass uns gehen! <br><br><h3>  Eintrag </h3><br>  Das Entity-Component-System (ECS, ‚ÄûEntity-Component-System‚Äú) ist als architektonische Alternative, die das Prinzip der Komposition gegen√ºber der Vererbung betont, auf dem H√∂hepunkt der Popularit√§t.  In diesem Artikel werde ich nicht auf die Details des Konzepts eingehen, da zu diesem Thema bereits gen√ºgend Ressourcen vorhanden sind.  Es gibt viele M√∂glichkeiten, ECS zu implementieren, und ich w√§hle meistens recht komplexe, die Anf√§nger verwirren und viel Zeit in Anspruch nehmen k√∂nnen. <br><br>  In diesem Beitrag werde ich einen sehr einfachen Weg beschreiben, um ECS zu implementieren, dessen funktionale Version fast keinen Code erfordert, aber vollst√§ndig dem Konzept folgt. <br><br><img src="https://habrastorage.org/webt/6s/g8/jk/6sg8jksoaekqfccdwlnma-rbz0w.png"><a name="habracut"></a><br><br><h3>  ECS </h3><br>  Apropos ECS: Menschen meinen oft verschiedene Dinge.  Wenn ich √ºber ECS spreche, meine ich ein System, mit dem Sie Entit√§ten definieren k√∂nnen, die keine oder mehr reine Datenkomponenten enthalten.  Diese Komponenten werden von reinen Logiksystemen selektiv verarbeitet.  Beispielsweise sind Position, Geschwindigkeit, Trefferfeld und Zustand einer Komponente an die Entit√§t E gebunden.  Sie speichern einfach Daten in sich.  Beispielsweise kann eine Gesundheitskomponente zwei Ganzzahlen speichern: eine f√ºr den aktuellen Zustand und eine f√ºr das Maximum.  Ein System kann ein System zur Wiederherstellung der Gesundheit sein, das alle Instanzen einer Gesundheitskomponente findet und alle 120 Frames um 1 erh√∂ht. <br><br><h3>  Typische C ++ - Implementierung </h3><br>  Es gibt viele Bibliotheken, die ECS-Implementierungen anbieten.  Normalerweise enthalten sie ein oder mehrere Elemente aus der Liste: <br><br><ul><li> Vererbung der Basiskomponente / des <code>GravitySystem : public ecs::System</code> der <code>GravitySystem : public ecs::System</code> Klasse <code>GravitySystem : public ecs::System</code> ; </li><li>  Aktive Nutzung von Vorlagen; </li><li>  Sowohl das als auch ein anderes in einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CRTP-</a> Look; </li><li>  Die <code>EntityManager</code> Klasse, die die Erstellung / Speicherung von Entit√§ten implizit steuert. </li></ul><br>  Einige schnelle Google-Beispiele: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">alecthomas 'entityx</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">redxdevs ECS</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">googles corgi</a> (also habe ich herausgefunden, dass google eine ECS-Implementierung hat). </li></ul><br>  Alle diese Methoden haben das Recht auf Leben, aber sie haben einige Nachteile.  Die Art und Weise, wie sie die Daten auf undurchsichtige Weise verarbeiten, bedeutet, dass es schwierig sein wird zu verstehen, was im Inneren vor sich geht und ob die Leistung nachgelassen hat.  Dies bedeutet auch, dass Sie die gesamte Abstraktionsebene studieren und sicherstellen m√ºssen, dass sie gut zu vorhandenem Code passt.  Vergessen Sie nicht versteckte Fehler, die wahrscheinlich viel in der Menge an Code versteckt sind, die Sie debuggen m√ºssen. <br><br>  Ein vorlagenbasierter Ansatz kann die Kompilierungszeit und die H√§ufigkeit, mit der Sie den Build neu erstellen m√ºssen, erheblich beeinflussen.  W√§hrend vererbungsbasierte Konzepte die Leistung beeintr√§chtigen k√∂nnen. <br><br>  Der Hauptgrund, warum ich diese Ans√§tze f√ºr √ºbertrieben halte, ist, dass das Problem, das sie l√∂sen, zu einfach ist.  Letztendlich sind dies nur zus√§tzliche Datenkomponenten, die der Entit√§t und ihrer selektiven Verarbeitung zugeordnet sind.  Im Folgenden werde ich einen sehr einfachen Weg zeigen, wie dies implementiert werden kann. <br><br><h3>  Mein einfacher Ansatz </h3><br>  <i>Essenz</i> <br><br>  In einigen Ans√§tzen ist die Entit√§tsklasse definiert, in anderen arbeiten sie mit Entit√§ten als ID / Handle.  Bei einem Komponentenansatz ist eine Entit√§t nichts anderes als die ihr zugeordneten Komponenten, und daf√ºr wird keine Klasse ben√∂tigt.  Eine Entit√§t wird explizit basierend auf ihren zugeh√∂rigen Komponenten existieren.  Definieren Sie dazu: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> EntityID = <span class="hljs-keyword"><span class="hljs-keyword">int64_t</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    , int64_t -  </span></span></code> </pre> <br>  <i>Entit√§tskomponenten</i> <br><br>  Komponenten sind verschiedene Arten von Daten, die vorhandenen Entit√§ten zugeordnet sind.  Wir k√∂nnen sagen, dass f√ºr jede Entit√§t e null und leichter zug√§ngliche Komponententypen vorhanden sind.  Im Wesentlichen handelt es sich hierbei um eine explodierte Schl√ºssel-Wert-Beziehung, f√ºr die es gl√ºcklicherweise Standardbibliothekstools in Form von Karten gibt. <br><br>  Also definiere ich die Komponenten wie folgt: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Position</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y; }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Velocity</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y; }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Health</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> max; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> current; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Type&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ComponentMap = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">unordered_map</span></span>&lt;EntityID, Type&gt;; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Positions = ComponentMap&lt;Position&gt;; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Velocities = ComponentMap&lt;Velocity&gt;; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Healths = ComponentMap&lt;Health&gt;; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Components</span></span></span><span class="hljs-class"> {</span></span> Positions positions; Velocities velocities; Healths healths; };</code> </pre> <br>  Dies reicht aus, um Entit√§ten durch Komponenten anzuzeigen, wie von ECS erwartet.  Um beispielsweise eine Entit√§t mit einer Position und Gesundheit, jedoch ohne Geschwindigkeit, zu erstellen, ben√∂tigen Sie: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//given a Components instance c EntityID newID = /*obtain new entity ID*/; c.positions[newID] = Position{0.0f, 0.0f}; c.healths[newID] = Health{100, 100};</span></span></code> </pre><br>  Um eine Entit√§t mit einer bestimmten ID zu zerst√∂ren, <code>.erase()</code> wir sie einfach von jeder Karte. <br><br>  <i>Systeme</i> <br><br>  Die letzte Komponente, die wir brauchen, sind Systeme.  Dies ist die Logik, die mit Komponenten arbeitet, um ein bestimmtes Verhalten zu erreichen.  Da ich Dinge gerne vereinfache, benutze ich normale Funktionen.  Das oben erw√§hnte Gesundheitsregenerationssystem kann einfach die n√§chste Funktion sein. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateHealthRegeneration</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int64_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> currentFrame, Healths&amp; healths)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(currentFrame % <span class="hljs-number"><span class="hljs-number">120</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>&amp; [id, health] : healths) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(health.current &lt; health.max) ++health.current; } } }</code> </pre><br>  Wir k√∂nnen den Aufruf dieser Funktion an einer geeigneten Stelle in der Hauptschleife platzieren und ihn in den Speicher der Integrit√§tskomponente √ºbertragen.  Da das Integrit√§tsrepository nur Datens√§tze f√ºr Entit√§ten mit Integrit√§tsdaten enth√§lt, kann es diese isoliert verarbeiten.  Dies bedeutet auch, dass die Funktion nur die erforderlichen Daten aufnimmt und die irrelevanten nicht ber√ºhrt. <br><br>  Was aber, wenn das System mit mehr als einer Komponente arbeitet?  Sagen wir ein physisches System, das seine Position basierend auf der Geschwindigkeit √§ndert.  Dazu m√ºssen wir alle Schl√ºssel aller beteiligten Komponententypen schneiden und √ºber ihre Werte iterieren.  Zu diesem Zeitpunkt reicht die Standardbibliothek nicht mehr aus, aber das Schreiben von Helfern ist nicht so schwierig.  Zum Beispiel: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updatePhysics</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Positions&amp; positions, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Velocities&amp; velocities)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   ,   N   //   ID,    . std::unordered_set&lt;EntityID&gt; targets = mapIntersection(positions, velocities); // target'     ,   //  ,       . for(EntityID id : targets) { Position&amp; pos = positions.at(id); const Velocity&amp; vel = velocities.at(id); pos.x += vel.x; pos.y += vel.y; } }</span></span></code> </pre> <br>  Oder Sie k√∂nnen einen kompakteren Helfer schreiben, der einen effizienteren Zugriff √ºber Iteration anstelle der Suche erm√∂glicht. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updatePhysics</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Positions&amp; positions, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Velocities&amp; velocities)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   ,    //  .        //    . intersectionInvoke&lt;Position, Velocity&gt;(positions, velocities, [] (EntityID id, Position&amp; pos, const Velocity&amp; vel) { pos.x += vel.x; pos.y += vel.y; } ); }</span></span></code> </pre> <br>  So haben wir uns mit der Grundfunktionalit√§t eines regul√§ren ECS vertraut gemacht. <br><br><h3>  Die Vorteile </h3><br>  Dieser Ansatz ist sehr effektiv, da er von Grund auf neu erstellt wird, ohne die Abstraktion einzuschr√§nken.  Sie m√ºssen keine externen Bibliotheken integrieren oder die Codebasis an die vordefinierten Vorstellungen von Entit√§ten / Komponenten / Systemen anpassen. <br>  Und da dieser Ansatz vollst√§ndig transparent ist, k√∂nnen Sie auf seiner Grundlage alle Dienstprogramme und Helfer erstellen.  Diese Implementierung w√§chst mit den Anforderungen Ihres Projekts.  F√ºr einfache Prototypen oder Spiele f√ºr Game Jam'ov verf√ºgen Sie h√∂chstwahrscheinlich √ºber gen√ºgend Funktionen, die oben beschrieben wurden. <br><br>  Wenn Sie mit diesem gesamten ECS-Bereich noch nicht vertraut sind, hilft ein derart einfacher Ansatz, die Hauptideen zu verstehen. <br><br><h3>  Einschr√§nkungen </h3><br>  Wie bei jeder anderen Methode gibt es jedoch einige Einschr√§nkungen.  Nach meiner Erfahrung ist es genau eine solche Implementierung mit <code>unordered_map</code> in einem nicht trivialen Spiel, die zu Leistungsproblemen f√ºhrt. <br><br>  Das Iterieren von Schl√ºsselschnittpunkten auf mehreren Instanzen von <code>unordered_map</code> mit mehreren Entit√§ten l√§sst sich nicht gut skalieren, da Sie tats√§chlich <code>N*M</code> Lookups durchf√ºhren, wobei N die Anzahl √ºberlappender Komponenten, M die Anzahl √ºbereinstimmender Entit√§ten und <code>unordered_map</code> Caching nicht sehr gut ist.  Dieses Problem kann behoben werden, indem anstelle von <code>unordered_map</code> ein Schl√ºsselwertspeicher verwendet wird, der besser f√ºr die Iteration geeignet ist. <br><br>  Eine weitere Einschr√§nkung ist das Boilerplating.  Je nachdem, was Sie tun, kann das Identifizieren neuer Komponenten m√ºhsam werden.  M√∂glicherweise m√ºssen Sie eine Ank√ºndigung nicht nur in der Komponentenstruktur, sondern auch in der Spawn-Funktion, der Serialisierung, dem Debugging-Dienstprogramm usw. hinzuf√ºgen.  Ich bin selbst darauf gesto√üen und habe das Problem durch Generieren von Code gel√∂st. Ich habe Komponenten in externen JSON-Dateien definiert und dann in der Erstellungsphase C ++ - Komponenten und Hilfsfunktionen generiert.  Ich bin sicher, dass Sie andere Methoden finden k√∂nnen, die auf Vorlagen basieren, um alle Probleme mit Boilerplates zu beheben, auf die Sie sto√üen. <br><br>  DAS ENDE <br><br>  Wenn Sie Fragen und Kommentare haben, k√∂nnen Sie diese hier lassen oder zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einer offenen Lektion</a> mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dima gehen</a> , ihm zuh√∂ren und bereits herumfragen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de422981/">https://habr.com/ru/post/de422981/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de422969/index.html">Frango-Anomalie, Anfang</a></li>
<li><a href="../de422971/index.html">Expertensystem auf Schienen</a></li>
<li><a href="../de422973/index.html">Anatomie eines Vorfalls oder Vorgehensweise zur Reduzierung von Ausfallzeiten</a></li>
<li><a href="../de422977/index.html">Mikhail Bessmeltsev und sein Kollege entwickelten neue Algorithmen zur Vektorisierung von Grafiken</a></li>
<li><a href="../de422979/index.html">Amerikanisches Analogon der DSGVO: Was Sie √ºber die CCPA wissen m√ºssen</a></li>
<li><a href="../de422985/index.html">Schnellstart eines Webprojekts (BE - Java Spring, FE - React Redux, Interaktion - Rest, WebSocket)</a></li>
<li><a href="../de422987/index.html">Und wieder der 256. Tag des Jahres</a></li>
<li><a href="../de422989/index.html">Eine Datenbank ist nicht nur ein Data Warehouse</a></li>
<li><a href="../de422993/index.html">Brennen von OLED-Fernsehern in echten Tests</a></li>
<li><a href="../de422995/index.html">QA-Mitap in Redmadrobot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>