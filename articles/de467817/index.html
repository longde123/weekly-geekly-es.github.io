<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👆🏾 🤳🏻 ⤵️ Ein wenig über generative Designmuster 🍝 🍗 ♍️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das Thema Designmuster ist sehr beliebt. Es wurden viele Videos gedreht und Artikel geschrieben. Kombiniert all diese Materialien mit einem "Anti-Must...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ein wenig über generative Designmuster</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467817/"><p>  Das Thema Designmuster ist sehr beliebt.  Es wurden viele Videos gedreht und Artikel geschrieben.  Kombiniert all diese Materialien mit einem "Anti-Muster". Versehentliche Komplexität.  Infolgedessen sind die Beispiele abstrus, die Beschreibung ist verwirrend, die Anwendung ist nicht klar.  Und die Hauptaufgabe von Entwurfsmustern - Vereinfachung (von Code und Arbeit im Allgemeinen) wird nicht erreicht.  Schließlich erfordert die Verwendung der Vorlage zusätzlichen Aufwand.  Ungefähr das Gleiche wie Unit-Tests. </p><br><p>  Ich werde versuchen, die Entwurfsmuster dahingehend zu erklären, wie sie wo und warum angewendet werden. </p><a name="habracut"></a><br><p>  Sechs Generatoren können zugeordnet werden: </p><br><ul><li>  Prototyp </li><li>  Abstrakte Fabrik, </li><li>  Fabrikmethode </li><li>  Baumeister </li><li>  Singleton </li><li>  Faule Initialisierung. </li></ul><br><p>  Alle anderen Muster, die sich auf Generatoren beziehen, sind ein Sonderfall der Anwendung, und es macht keinen Sinn, auf sie einzugehen. </p><br><p>  Das Generieren von Mustern kann in drei Gruppen unterteilt werden, auf deren Frage sie antworten.  Also drei Fragen: </p><br><ul><li>  Wo? </li><li>  Wie? </li><li>  Wann? </li></ul><br><h2>  Wo? </h2><br><p>  Drei Muster beantworten diese Frage: Prototyp, abstrakte Fabrik und Fabrikmethode. </p><br><div class="spoiler">  <b class="spoiler_title">Ein bisschen über die Begriffe</b> <div class="spoiler_text"><p>  Im Rahmen des OOP-Konzepts gibt es nur drei Stellen, an denen theoretisch eine neue Instanz generiert werden kann. </p><br><ul><li>  Produkt ist die Klasse, die instanziiert wird. </li><li>  Client ist die Klasse, die die instanziierte Instanz verwendet. </li><li>  Partner - jede dritte Klasse im Bereich der Sichtbarkeit des Kunden. </li></ul><br></div></div><br><p>  Tatsächlich bestimmen diese Muster den Ort der Erzeugung.  Darüber hinaus sind sie hierarchisch miteinander verbunden und haben einen anderen Umfang.  Die Verbindung ist in der Abbildung dargestellt, die Pfeile bestimmen die Richtung der Anrufe. </p><br><img src="https://github.com/mtemp123/Design-Patterns/raw/master/img/Creational_patterns1.png" alt="Die Hierarchie generativer Muster"><br><p>  Bei der Implementierung kann die „Factory-Methode“ die Generierung einer Instanz entweder an die vorhandene „Factory“ oder an den „Prototype“ delegieren.  Der „Prototyp“ sollte jedoch von niemandem abhängig sein und alles selbst machen.  Jetzt genauer. </p><br><h3>  "Prototyp" </h3><br><p>  Diese Vorlage entspricht dem Ort "Produkt", der tatsächlich der Konstruktor der Klasse ist.  Dementsprechend wird immer eine Instanz einer bestimmten (zuvor bekannten) Klasse generiert. <br>  Im Rahmen dieser Vorlage kennt der Designer nur die direkt an ihn übergebenen Parameter (die Anzahl der Parameter richtet sich nach der Anzahl der Klassenfelder).  Natürlich gibt es vollen Zugriff auf alle Felder und Eigenschaften der erstellten Klasse. </p><br><p>  Richtig implementierte Methoden des "Prototyps" ermöglichen es Ihnen, zusätzliche Initialisierungsmethoden in der Öffentlichkeit loszuwerden.  Die externe Schnittstelle der Klasse wird wiederum einfacher und weniger verlockend, die Klasse für andere Zwecke zu verwenden. </p><br><p>  Was diese Vorlage uns gibt: </p><br><ul><li>  Geringe Konnektivität - Die Klasse kennt sich nur selbst und ist nicht von externen Daten abhängig. </li><li>  Erweiterbarkeit - Konstruktoren können neu definiert oder Nachkommen hinzugefügt werden. </li></ul><br><p>  Von den Minuspunkten: </p><br><ul><li>  Bei komplexen Klassen müssen Sie möglicherweise viele Parameter für die Initialisierung übergeben.  Obwohl es eine triviale Lösung gibt. </li><li>  Die direkte Verwendung im Client kann die Lesbarkeit beeinträchtigen und praktisch die Möglichkeit blockieren, den Typ der Instanz zu überschreiben, die im Nachkommen des Clients generiert wird. </li></ul><br><p>  Die beliebteste Vorlage.  Jeder benutzt es, aber nur wenige wissen, was es benutzt.  Es ist gut, bis das erste Arbeitsmodell erhalten ist, bis Klassen und ihre Beziehungen vollständig definiert sind.  Danach sind die Verarbeitung und die Erhöhung der Abstraktion obligatorisch. </p><br><h3>  "Abstrakte Fabrik" </h3><br><p>  Einige Klassenpartner.  Es kann spezialisiert oder "kombiniert" werden.  Kann statisch sein (keine Instanz).  Ein Beispiel für das „Kombinieren“ kann eine Konfigurationsklasse sein.  Es kann auch hinter der Fassade versteckt sein. </p><br><p>  "Factory" sieht normalerweise alle globalen Einstellungen der Anwendung (oder eines separaten Subsystems).  Die sofortige Generierung kann an den Prototyp delegiert werden.  Gleichzeitig ist die Anzahl der Eingabeparameter in der Factory-Methode geringer als in einem ähnlichen Prototype-Konstruktor.  Die Fabrik entscheidet nicht anhand der eingehenden Parameter, wer erstellt werden soll. </p><br><p>  Diese Vorlage ist sehr praktisch und einfach zu implementieren, erfordert jedoch ein vorläufiges Design.  Wenn Sie für alles Fabriken erstellen, wird der Code dadurch komplizierter.  Tatsächlich erhalten wir ein Analogon des Prototyps, sind jedoch in eine Klasse von Drittanbietern umgezogen. </p><br><p>  Von den Profis: </p><br><ul><li>  Gute Neudefinition bei Nachkommen </li><li>  Vereinfachter Anruf </li><li>  Auf Basis der Factory ist es einfach, eine Substitution zu implementieren (State Template) </li></ul><br><p>  Es gibt aber auch Nachteile: </p><br><br><ul><li>  Es erfordert Design, insbesondere für universelle Fabriken (die in vielen Projekten verwendet werden).  Mit anderen Worten, es ist nicht einfach, sofort eine gute Fabrik zu bekommen. </li><li>  Es ist sehr einfach, den Code durcheinander zu bringen. Es gibt zwei Hauptbereiche: <br><ul><li>  Rutschen in Richtung Prototyp, aber in einer externen Klasse.  Methoden sind mit Parametern überladen, es gibt viele Methoden selbst.  Infolgedessen ist die Vererbung sowohl in der Factory selbst als auch im Client schwierig. </li><li>  Fabrik mit universeller Methode.  Diese Methode gibt abhängig von den übergebenen Parametern eine beliebige Instanz zurück.  Das Ergebnis wie im ersten Fall. </li></ul><br></li></ul><br><p>  Sehr beliebt.  Diese Vorlage wird von denjenigen verwendet, die am GoF-Kurs teilgenommen haben.  In der Regel wird der Code noch schlechter als "vor dem Anwenden der Vorlagen". </p><br><p>  Es ist sinnvoll, wenn Fabriken während der ersten Code-Überarbeitung angezeigt werden.  Zu diesem Zeitpunkt sind bereits Kombinationen von Parametern für die erstellten Instanzen bekannt, und es wird nicht schwierig sein, verallgemeinerte Factory-Methoden zu schreiben.  Dadurch werden Anrufe im Client vereinfacht. </p><br><p>  In einigen Fällen ist es zweckmäßig, Fabriken hinter der Fassade zu verstecken.  Beispielsweise verfügt die Anwendung über ein Dutzend Fabriken und ein Dutzend Bibliotheken.  Für sie kann man eine Fassade bauen.  Dadurch können Bibliotheken nicht mit jedem Modul verknüpft werden, und es ist auch einfach, eine Fabrik durch eine andere zu ersetzen. </p><br><h3>  Fabrikmethode </h3><br><p>  Die Spitze der Abstraktion in generativen Mustern.  Herkunftsort Kunde.  Die Klasse, in die jedes Produkt in die Fabrikmethode eingestuft wird, hat jede Chance auf ein langes Leben.  Ohne Fanatismus muss die angenommene Entwicklungsachse unbedingt auf dieser Vorlage basieren. </p><br><p>  Die Factory-Methode sieht nicht über ihre Klasse hinaus.  Die Anzahl der direkt übertragenen Parameter sollte minimal sein (im Grenzbereich von Null).  Die Methode selbst muss unter Berücksichtigung der Möglichkeit einer Überlappung im Nachkommen erstellt werden. </p><br><p>  Ein häufiger Fehler ist die komplizierte Initialisierung in einer Methode.  Wenn Sie beispielsweise eine komplexe Instanz (die Builder-Vorlage) erstellen, werden alle Teile des zukünftigen Objekts in einer Methode erstellt.  Infolgedessen ist es schwierig, ein solches Verfahren im Nachkommen zu überlappen. </p><br><p>  Von den Profis: </p><br><ul><li>  Es ist einfach, die Vorlagenvorlagenmethode anzupassen </li><li>  Wir erhalten prägnanten Code, in dem die Logik klar sichtbar ist (sie muss nicht unter einem Haufen von Methoden und Parametern betrachtet werden). </li></ul><br><p>  Es gibt im Wesentlichen keine Nachteile. </p><br><p>  Diese Vorlage wird fast nie verwendet.  In der Regel ist dies nur in Projekten mit tiefgreifender Vorarbeit zu sehen.  Ideal, wenn die Factory-Methode die Generierung an "Factory" oder "Prototype" delegiert. </p><br><h3>  Kleines Beispiel </h3><br><p>  Wir haben eine Klasse zum Protokollieren in einer Datei auf der Festplatte.  So könnten generische Methoden in den "Wo?" - Mustern aussehen: </p><br><h4>  Prototyp: </h4><br><pre><code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(aFilename: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">; aLogLevel: TLogLevel)</span></span></span><span class="hljs-function">;</span></span></code> </pre> <br><p>  Alles, was der Designer wissen sollte, wird ihm in Form von Parametern übergeben. </p><br><h4>  Fabrik: </h4><br><pre> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetLogger</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(aLogLevel: TLogLevel)</span></span></span><span class="hljs-function">:</span></span> ILogger;</code> </pre> <br><p>  Die Fabrik weiß, in welche Datei geschrieben werden soll, wie in den Anwendungseinstellungen angegeben. </p><br><h4>  Fabrikmethode: </h4><br><pre> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NewLogger</span></span></span><span class="hljs-function">:</span></span> ILogger;</code> </pre> <br><p>  In der Client-Klasse ist bekannt, mit welchen Details protokolliert werden soll. </p><br><p>  In diesem Entwurf reicht es aus, NewLogger im Nachkommen des Clients neu zu definieren, um die Protokollierungsklasse durch einen Stub zu ersetzen.  Dies ist nützlich, wenn Unit-Tests durchgeführt werden. </p><br><p>  Um sich bei der Datenbank anzumelden, reicht es aus, die GetLogger-Methode im Nachkommen der Factory zu überschreiben. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de467817/">https://habr.com/ru/post/de467817/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de467803/index.html">Elementare Simulation der benutzerdefinierten physischen Interaktion in Python + Matplotlib</a></li>
<li><a href="../de467807/index.html">Kauf und Verkauf von Kryptowährungen in Russland: Methoden, Legalisierung, Risiken</a></li>
<li><a href="../de467811/index.html">Architektur und Programmierung Fairchild Channel F.</a></li>
<li><a href="../de467813/index.html">Überprüfung der Änderungen in der 17. Ordnung der FSTEC</a></li>
<li><a href="../de467815/index.html">Die Medien lösten eine Panik aus, dass "IP-Adressen in Russland ausgehen". Wie wirklich?</a></li>
<li><a href="../de467821/index.html">Vereinfachen und ausschneiden Sie das Notwendige: Interview mit John Romero, dem Schöpfer von Doom</a></li>
<li><a href="../de467823/index.html">Analyse: OOM auf Kubernetes</a></li>
<li><a href="../de467825/index.html">Must-Have-Algorithmen für maschinelles Lernen</a></li>
<li><a href="../de467827/index.html">Wie wir unsere kleine Einheit von Grund auf neu gemacht haben</a></li>
<li><a href="../de467831/index.html">Der dornige Weg zur Programmierung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>