<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ã€½ï¸ ğŸ™‡ğŸ½ ğŸ§™ğŸ¼ ä½¿ç”¨PVS-Studioè¿›è¡ŒCUBAå¹³å°ä»£ç åˆ†æ âœğŸ» ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ ğŸ˜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¯¹äºJavaç¨‹åºå‘˜ï¼Œæœ‰ä¸€äº›æœ‰ç”¨çš„å·¥å…·å¯ä»¥å¸®åŠ©æ‚¨ç¼–å†™é«˜è´¨é‡çš„ä»£ç ï¼Œä¾‹å¦‚å¼ºå¤§çš„IntelliJ IDEAå¼€å‘ç¯å¢ƒï¼Œå…è´¹çš„SpotBugsï¼ŒPMDåˆ†æå™¨ç­‰ã€‚ æ‰€æœ‰è¿™äº›éƒ½å·²åœ¨CUBA Platformé¡¹ç›®çš„å¼€å‘ä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”åœ¨å¯¹å‘ç°çš„ä»£ç ç¼ºé™·çš„å›é¡¾ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰æ‚¨å¦‚ä½•ä½¿ç”¨PVS-Studioé™æ€ä»£ç åˆ†æå™¨æ¥æ”¹å–„...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨PVS-Studioè¿›è¡ŒCUBAå¹³å°ä»£ç åˆ†æ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/449022/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89f/a3b/650/89fa3b6506fd8962c8996579f4dcc460.png" alt="å›¾ç‰‡2"></div><br> å¯¹äºJavaç¨‹åºå‘˜ï¼Œæœ‰ä¸€äº›æœ‰ç”¨çš„å·¥å…·å¯ä»¥å¸®åŠ©æ‚¨ç¼–å†™é«˜è´¨é‡çš„ä»£ç ï¼Œä¾‹å¦‚å¼ºå¤§çš„IntelliJ IDEAå¼€å‘ç¯å¢ƒï¼Œå…è´¹çš„SpotBugsï¼ŒPMDåˆ†æå™¨ç­‰ã€‚ æ‰€æœ‰è¿™äº›éƒ½å·²åœ¨CUBA Platformé¡¹ç›®çš„å¼€å‘ä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”åœ¨å¯¹å‘ç°çš„ä»£ç ç¼ºé™·çš„å›é¡¾ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰æ‚¨å¦‚ä½•ä½¿ç”¨PVS-Studioé™æ€ä»£ç åˆ†æå™¨æ¥æ”¹å–„é¡¹ç›®çš„è´¨é‡ã€‚ <br><a name="habracut"></a><br><h2> å…³äºé¡¹ç›®å’Œåˆ†æä»ª </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CUBAå¹³å°</a>æ˜¯ä¸€ä¸ªé«˜çº§Javaæ¡†æ¶ï¼Œç”¨äºé€šè¿‡å®Œæ•´çš„Webç•Œé¢å¿«é€Ÿåˆ›å»ºä¼ä¸šåº”ç”¨ç¨‹åºã€‚ è¯¥å¹³å°ä½¿å¼€å‘äººå‘˜ä»å¼‚æ„æŠ€æœ¯ä¸­æŠ½è±¡å‡ºæ¥ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥åŒæ—¶ä¸“æ³¨äºè§£å†³ä¸šåŠ¡é—®é¢˜ï¼Œè€Œåˆä¸å¯èƒ½ç›´æ¥ä¸ä»–ä»¬åˆä½œã€‚ æºä»£ç æ¥è‡ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHubä¸Š</a>çš„å­˜å‚¨åº“ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PVS-Studio</a>æ˜¯ç”¨äºæ£€æµ‹ç”¨Cï¼ŒC ++ï¼ŒCï¼ƒå’ŒJavaç¼–å†™çš„ç¨‹åºçš„æºä»£ç ä¸­çš„é”™è¯¯å’Œæ½œåœ¨æ¼æ´çš„å·¥å…·ã€‚ å®ƒé€‚ç”¨äºWindowsï¼ŒLinuxå’ŒmacOSä¸Šçš„64ä½ç³»ç»Ÿã€‚ ä¸ºäº†æ–¹ä¾¿Javaç¨‹åºå‘˜ï¼Œæˆ‘ä»¬ä¸ºMavenï¼ŒGradleå’ŒIntelliJ IDEAå¼€å‘äº†æ’ä»¶ã€‚ ä½¿ç”¨Gradleæ’ä»¶å¯ä»¥è½»æ¾åœ°éªŒè¯CUBA Platformé¡¹ç›®ã€‚ <br><br><h2> æ¡ä»¶é”™è¯¯ </h2><br>  <b>è­¦å‘Š1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6007</a>è¡¨è¾¾å¼'StringUtils.isNotEmptyï¼ˆâ€œ handleTabKeyâ€ï¼‰'å§‹ç»ˆä¸ºtrueã€‚  SourceCodeEditorLoader.javaï¼ˆ60ï¼‰ <br><br><pre><code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadComponent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ .... String handleTabKey = element.attributeValue(<span class="hljs-string"><span class="hljs-string">"handleTabKey"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StringUtils.isNotEmpty(<span class="hljs-string"><span class="hljs-string">"handleTabKey"</span></span>)) { resultComponent.setHandleTabKey(Boolean.parseBoolean(handleTabKey)); } .... }</code> </pre> <br> ä»å…ƒç´ ä¸­æ£€ç´¢å±æ€§å€¼åï¼Œä¸å¯¹è¯¥å€¼è¿›è¡ŒéªŒè¯ã€‚ ç›¸åï¼Œå°†å¸¸é‡å­—ç¬¦ä¸²ä¼ é€’ç»™<i>isNotEmpty</i>å‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬å¿…é¡»ä¼ é€’å˜é‡<i>handleTabKey</i> ã€‚ <br><br>  AbstractTableLoader.javaæ–‡ä»¶ä¸­è¿˜æœ‰å¦ä¸€ä¸ªç±»ä¼¼çš„é”™è¯¯ï¼š <br><br><ul><li>  V6007è¡¨è¾¾å¼'StringUtils.isNotEmptyï¼ˆâ€œ editableâ€ï¼‰'å§‹ç»ˆä¸ºtrueã€‚  AbstractTableLoader.javaï¼ˆ596ï¼‰ </li></ul><br>  <b>è­¦å‘Š2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6007</a>è¡¨è¾¾å¼'previousMenuItemFlatIndex&gt; = 0'å§‹ç»ˆä¸ºtrueã€‚  CubaSideMenuWidget.javaï¼ˆ328ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> MenuItemWidget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findNextMenuItem</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MenuItemWidget currentItem)</span></span></span><span class="hljs-function"> </span></span>{ List&lt;MenuTreeNode&gt; menuTree = buildVisibleTree(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); List&lt;MenuItemWidget&gt; menuItemWidgets = menuTreeToList(menuTree); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> menuItemFlatIndex = menuItemWidgets.indexOf(currentItem); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> previousMenuItemFlatIndex = menuItemFlatIndex + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (previousMenuItemFlatIndex &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> menuItemWidgets.get(previousMenuItemFlatIndex); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; }</code> </pre> <br> å¦‚æœåœ¨åˆ—è¡¨ä¸­æ‰¾ä¸åˆ°è¯¥é¡¹ç›®ï¼Œåˆ™<i>indexOf</i>å‡½æ•°å¯ä»¥è¿”å›<i>-1</i> ã€‚ ç„¶åå°†ä¸€ä¸ªæ·»åŠ åˆ°ç´¢å¼•ï¼Œä»è€Œåœ¨ç¼ºå°‘æ‰€éœ€å…ƒç´ æ—¶éšè—æƒ…å†µã€‚ å¦ä¸€ä¸ªæ½œåœ¨çš„é—®é¢˜å¯èƒ½æ˜¯è¿™æ ·çš„äº‹å®ï¼Œå³å˜é‡<i>previousMenuItemFlatIndex</i>å°†å§‹ç»ˆå¤§äºæˆ–ç­‰äºé›¶ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœ<i>menuItemWidgets</i>åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™æœ‰å¯èƒ½è¶…å‡ºæ•°ç»„çš„è¾¹ç•Œã€‚ <br><br>  <b>è­¦å‘Š3</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6009</a> â€œåˆ é™¤â€åŠŸèƒ½å¯ä»¥æ¥æ”¶â€œ -1â€å€¼ï¼Œè€Œé¢„æœŸä¸ºéè´Ÿå€¼ã€‚ æ£€æŸ¥å‚æ•°ï¼š1. AbstractCollectionDatasource.javaï¼ˆ556ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> DataLoadContextQuery </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createDataQuery</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... StringBuilder orderBy = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (orderBy.length() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { orderBy.delete(orderBy.length() - <span class="hljs-number"><span class="hljs-number">2</span></span>, orderBy.length()); orderBy.insert(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">" order by "</span></span>); } .... }</code> </pre> <br> åœ¨å­—ç¬¦ç¼“å†²åŒº<i>orderByä¸­ï¼Œ</i>å¦‚æœå2ä¸ªå­—ç¬¦çš„æ€»æ•°å¤§äºé›¶ï¼ˆå³å¤§äº2ï¼‰ï¼Œåˆ™å°†å…¶åˆ é™¤ã€‚ å­—ç¬¦ä¸²åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚ ä½†æ˜¯åˆ é™¤å­—ç¬¦çš„èµ·å§‹ä½ç½®è®¾ç½®ä¸ºåç§»2ä¸ªå­—ç¬¦ã€‚ å› æ­¤ï¼Œå¦‚æœ<i>orderBy</i>çªç„¶ç”±1ä¸ªå­—ç¬¦ç»„æˆï¼Œåˆ™å°è¯•åˆ é™¤å°†æŠ›å‡º<i>StringIndexOutOfBoundsException</i> ã€‚ <br><br>  <b>è­¦å‘Š4</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6013</a>é€šè¿‡å¼•ç”¨æ¯”è¾ƒäº†å¯¹è±¡â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">masterCollection</a> â€å’Œâ€œå®ä½“â€ã€‚ å¯èƒ½å¸Œæœ›è¿›è¡Œå¹³ç­‰æ¯”è¾ƒã€‚  CollectionPropertyContainerImpl.javaï¼ˆ81ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setItems</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Nullable Collection&lt;E&gt; entities)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.setItems(entities); Entity masterItem = master.getItemOrNull(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (masterItem != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { MetaProperty masterProperty = getMasterProperty(); Collection masterCollection = masterItem.getValue(masterProperty.getName()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (masterCollection != entities) { updateMasterCollection(masterProperty, masterCollection, entities); } } }</code> </pre> <br> åœ¨<i>updateMasterCollection</i>å‡½æ•°ä¸­<i>ï¼Œ</i>æ¥è‡ª<i>å®ä½“çš„</i>å€¼<i>å°†</i>å¤åˆ¶åˆ°<i>masterCollectionä¸­</i> ã€‚ åœ¨æ­¤ä¹‹å‰ï¼Œå¯¹æ”¶è—è¿›è¡Œäº†æ¯”è¾ƒä»¥ä¾›å‚è€ƒï¼Œä½†ä¹Ÿè®¸è®¡åˆ’å°†å®ƒä»¬æŒ‰ä»·å€¼è¿›è¡Œæ¯”è¾ƒã€‚ <br><br>  <b>è­¦å‘Š5</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6013</a>é€šè¿‡å¼•ç”¨æ¯”è¾ƒå¯¹è±¡â€œå€¼â€å’Œâ€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ—§</a>å€¼â€ã€‚ å¯èƒ½å¸Œæœ›è¿›è¡Œå¹³ç­‰æ¯”è¾ƒã€‚  WebOptionsList.javaï¼ˆ278ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isCollectionValuesChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Collection&lt;I&gt; value, Collection&lt;I&gt; oldValue)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value != oldValue; }</code> </pre> <br> æ­¤ç¤ºä¾‹ä¸ä¸Šä¸€ä¸ªç¤ºä¾‹ç›¸ä¼¼ã€‚ è¿™é‡Œ<i>isCollectionValuesChanged</i>ç”¨äºæ¯”è¾ƒé›†åˆã€‚ ä¹Ÿè®¸é€šè¿‡å¼•ç”¨è¿›è¡Œæ¯”è¾ƒä¹Ÿä¸æ˜¯é¢„æœŸçš„æ–¹å¼ã€‚ <br><br><h2> è¶…å‡ºæ¡ä»¶ </h2><br>  <b>è­¦å‘Š1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6007</a>è¡¨è¾¾å¼'mask.charAtï¼ˆi + offsetï¼‰ï¼= PlaceHolder'å§‹ç»ˆä¸ºtrueã€‚  DatePickerDocument.javaï¼ˆ238ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculateFormattedString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, String text)</span></span></span><span class="hljs-function"> .... </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((mask.charAt(i + offset) == placeHolder)) { <span class="hljs-comment"><span class="hljs-comment">// &lt;= .... } else if ((mask.charAt(i + offset) != placeHolder) &amp;&amp; // &lt;= (Character.isDigit(text.charAt(i)))) { .... } .... }</span></span></code> </pre> <br> åœ¨ç¬¬äºŒä¸ªæ¯”è¾ƒä¸­ï¼Œæ£€æŸ¥ä¸ç¬¬ä¸€ä¸ªç›¸åçš„è¡¨è¾¾å¼ã€‚ å¯ä»¥åˆ é™¤ç¬¬äºŒä¸ªæ£€æŸ¥ä»¥ç®€åŒ–ä»£ç ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6007</a>è¡¨è¾¾å¼'connector == null'å§‹ç»ˆä¸ºfalseã€‚  HTML5Support.javaï¼ˆ169ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(NativeEvent event)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (connector == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { widget = widget.getParent(); connector = Util.findConnectorFor(widget); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.connector == connector) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (connector == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// &lt;= return false; } else if (connector.getWidget() instanceof VDDHasDropHandler) { return false; } return true; }</span></span></code> </pre> <br> åœ¨<i>whileå¾ªç¯</i>å®Œæˆä¹‹åï¼Œ <i>è¿æ¥å™¨</i>å˜é‡çš„å€¼å°†ä¸ä¼šä¸º<i>null</i> ï¼Œå› æ­¤å¯ä»¥åˆ é™¤å†—ä½™æ£€æŸ¥ã€‚ <br><br> å¼€å‘äººå‘˜åº”æ³¨æ„çš„å¦ä¸€ä¸ªå¯ç–‘ä½ç½®ï¼š <br><br><ul><li>  V6007è¡¨è¾¾å¼'StringUtils.isBlankï¼ˆstrValueï¼‰'å§‹ç»ˆä¸ºtrueã€‚  Param.javaï¼ˆ818ï¼‰ </li></ul><br><h2> æµ‹è¯•ä¸­æ— æ³•è®¿é—®çš„ä»£ç  </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6019</a>æ£€æµ‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸åˆ°</a>ä»£ç ã€‚ å¯èƒ½å­˜åœ¨é”™è¯¯ã€‚  TransactionTest.javaï¼ˆ283ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">throwException</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RuntimeException(TEST_EXCEPTION_MSG); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testSuspendRollback</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Transaction tx = cont.persistence().createTransaction(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { .... Transaction tx1 = cont.persistence().createTransaction(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { EntityManager em1 = cont.persistence().getEntityManager(); assertTrue(em != em1); Server server1 = em1.find(Server.class, server.getId()); assertNull(server1); throwException(); <span class="hljs-comment"><span class="hljs-comment">// &lt;= tx1.commit(); // &lt;= } catch (Exception e) { // } finally { tx1.end(); } tx.commit(); } finally { tx.end(); } }</span></span></code> </pre> <br>  <i>throwException</i>å‡½æ•°å¼•å‘ä¸€ä¸ªå¼‚å¸¸ï¼Œè¯¥å¼‚å¸¸<i>é˜»æ­¢äº†</i>å¯¹<i>tx1.commit</i>å‡½æ•°<i>çš„</i>è°ƒç”¨<i>ã€‚</i> ä¹Ÿè®¸è¿™äº›çº¿åº”è¯¥äº’æ¢ã€‚ <br><br> å…¶ä»–æµ‹è¯•ä¸­è¿˜æœ‰æ›´å¤šç±»ä¼¼çš„åœ°æ–¹ï¼š <br><br><ul><li>  V6019æ£€æµ‹ä¸åˆ°ä»£ç ã€‚ å¯èƒ½å­˜åœ¨é”™è¯¯ã€‚  TransactionTest.javaï¼ˆ218ï¼‰ </li><li>  V6019æ£€æµ‹ä¸åˆ°ä»£ç ã€‚ å¯èƒ½å­˜åœ¨é”™è¯¯ã€‚  TransactionTest.javaï¼ˆ163ï¼‰ </li><li>  V6019æ£€æµ‹ä¸åˆ°ä»£ç ã€‚ å¯èƒ½å­˜åœ¨é”™è¯¯ã€‚  TransactionTest.javaï¼ˆ203ï¼‰ </li><li>  V6019æ£€æµ‹ä¸åˆ°ä»£ç ã€‚ å¯èƒ½å­˜åœ¨é”™è¯¯ã€‚  TransactionTest.javaï¼ˆ137ï¼‰ </li><li>  V6019æ£€æµ‹ä¸åˆ°ä»£ç ã€‚ å¯èƒ½å­˜åœ¨é”™è¯¯ã€‚  UpdateDetachedTest.javaï¼ˆ153ï¼‰ </li><li>  V6019æ£€æµ‹ä¸åˆ°ä»£ç ã€‚ å¯èƒ½å­˜åœ¨é”™è¯¯ã€‚  EclipseLinkDetachedTest.javaï¼ˆ132ï¼‰ </li><li>  V6019æ£€æµ‹ä¸åˆ°ä»£ç ã€‚ å¯èƒ½å­˜åœ¨é”™è¯¯ã€‚  PersistenceTest.javaï¼ˆ223ï¼‰ </li></ul><br><h2> å¯ç–‘å‡½æ•°å‚æ•° </h2><br>  <b>è­¦å‘Š1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6023</a>å‚æ•°â€œ saltâ€åœ¨ä½¿ç”¨å‰æ€»æ˜¯åœ¨æ–¹æ³•ä½“å†…è¢«é‡å†™ã€‚  BCryptEncryptionModule.javaï¼ˆ47ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHash</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String content, String salt)</span></span></span><span class="hljs-function"> </span></span>{ salt = BCrypt.gensalt(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> BCrypt.hashpw(content, salt); }</code> </pre> <br> åœ¨å¯†ç æœ¯ä¸­ï¼Œ <i>salt</i>æ˜¯ä¸€ä¸²æ•°æ®ï¼Œä¸å¯†ç ä¸€èµ·ä¼ é€’ç»™å“ˆå¸Œå‡½æ•°ã€‚ å®ƒä¸»è¦ç”¨äºé˜²æ­¢ä½¿ç”¨å½©è™¹è¡¨çš„å­—å…¸æœç´¢å’Œæ”»å‡»ï¼Œä»¥åŠéšè—ç›¸åŒçš„å¯†ç ã€‚ é˜…è¯»æ›´å¤šï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Saltï¼ˆå¯†ç å­¦ï¼‰</a> ã€‚ <br><br> åœ¨æ­¤åŠŸèƒ½ä¸­ï¼Œè¿›å…¥è¯¥åŠŸèƒ½åä¼šç«‹å³æ‘©æ“¦çº¿ã€‚ ä¹Ÿè®¸å¿½ç•¥ä¼ é€’çš„å€¼æ˜¯ä¸€ä¸ªæ½œåœ¨çš„æ¼æ´ã€‚ <br><br>  <b>è­¦å‘Š2</b> <br><br> å¯¹äºè€ƒè™‘çš„åŠŸèƒ½ï¼Œåˆ†æä»ªä¼šåŒæ—¶å‘å‡ºä¸¤ä¸ªè­¦å‘Šï¼š <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6023</a>å‚æ•°'offsetWidth'å§‹ç»ˆåœ¨ä½¿ç”¨å‰åœ¨æ–¹æ³•ä¸»ä½“ä¸­é‡å†™ã€‚  CubaSuggestionFieldWidget.javaï¼ˆ433ï¼‰ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6023</a>å‚æ•°'offsetHeight'æ€»æ˜¯åœ¨ä½¿ç”¨å‰åœ¨æ–¹æ³•ä¸»ä½“ä¸­é‡å†™ã€‚  CubaSuggestionFieldWidget.javaï¼ˆ433ï¼‰ </li></ul><br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPosition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offsetWidth, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offsetHeight)</span></span></span><span class="hljs-function"> </span></span>{ offsetHeight = getOffsetHeight(); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (offsetHeight + getPopupTop() &gt; ....)) { .... } .... offsetWidth = containerFirstChild.getOffsetWidth(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (offsetWidth + getPopupLeft() &gt; ....)) { .... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { left = getPopupLeft(); } setPopupPosition(left, top); }</code> </pre> <br> æœ‰è¶£çš„ä»£ç ã€‚ è¯¥å‡½æ•°ä»…åŒ…å«ä¸¤ä¸ªå˜é‡ï¼š <i>offsetWidth</i>å’Œ<i>offsetHeight</i> ï¼Œåœ¨ä½¿ç”¨å‰å‡è¢«è¦†ç›–ã€‚ <br><br>  <b>è­¦å‘Š3</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6022</a>æ„é€ å‡½æ•°ä½“å†…æœªä½¿ç”¨å‚æ•°â€œå¿«æ·æ–¹å¼â€ã€‚  DeclarativeTrackingAction.javaï¼ˆ47ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeclarativeTrackingAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id, String caption, String description, String icon, String enable, String visible, String methodName, @Nullable String shortcut, ActionsHolder holder)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(id); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.caption = caption; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.description = description; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.icon = icon; setEnabled(enable == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || Boolean.parseBoolean(enable)); setVisible(visible == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || Boolean.parseBoolean(visible)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.methodName = methodName; checkActionsHolder(holder); }</code> </pre> <br> å‡½æ•°ä¸­æœªä½¿ç”¨<i>å¿«æ·æ–¹å¼</i>å‚æ•°çš„å€¼ã€‚ åŠŸèƒ½ç•Œé¢å¯èƒ½å·²è¿‡æœŸï¼Œæˆ–è€…æ­¤è­¦å‘Šä¸æ˜¯é”™è¯¯ã€‚ <br><br> è¿˜æœ‰æ›´å¤šç±»ä¼¼çš„åœ°æ–¹ï¼š <br><br><ul><li>  V6022æ„é€ å‡½æ•°ä½“å†…æœªä½¿ç”¨å‚æ•°'type'ã€‚  QueryNode.javaï¼ˆ36ï¼‰ </li><li>  V6022æ„é€ å‡½æ•°ä½“å†…æœªä½¿ç”¨å‚æ•°'text2'ã€‚  MarkerAddition.javaï¼ˆ22ï¼‰ </li><li>  V6022æ„é€ å‡½æ•°ä½“å†…æœªä½¿ç”¨å‚æ•°â€œé€‰æ‹©â€ã€‚  AceEditor.javaï¼ˆ114ï¼‰ </li><li>  V6022å‚æ•°'options'ä¸åœ¨æ„é€ å‡½æ•°ä½“å†…ä½¿ç”¨ã€‚  EntitySerialization.javaï¼ˆ379ï¼‰ </li></ul><br><h2> å…·æœ‰ç›¸åŒä»£ç çš„ä¸åŒåŠŸèƒ½ </h2><br>  <b>è­¦å‘Š1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6032</a>æ–¹æ³•'firstItemId'çš„ä¸»ä½“å®Œå…¨ç­‰æ•ˆäºå¦ä¸€ä¸ªæ–¹æ³•'lastItemId'çš„ä¸»ä½“ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  ContainerTableItems.javaï¼ˆ213ï¼‰ï¼ŒContainerTableItems.javaï¼ˆ219ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">firstItemId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ List&lt;E&gt; items = container.getItems(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> items.isEmpty() ? <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : items.get(<span class="hljs-number"><span class="hljs-number">0</span></span>).getId(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lastItemId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ List&lt;E&gt; items = container.getItems(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> items.isEmpty() ? <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : items.get(<span class="hljs-number"><span class="hljs-number">0</span></span>).getId(); }</code> </pre> <br> å‡½æ•°<i>firstItemId</i>å’Œ<i>lastItemId</i>å…·æœ‰ç›¸åŒçš„å®ç°ã€‚ æœ€æœ‰å¯èƒ½çš„æ˜¯ï¼Œåœ¨åè€…ä¸­ï¼Œæœ‰å¿…è¦è·å–ä¸å…·æœ‰ç´¢å¼•<i>0</i>çš„å…ƒç´ ï¼Œè€Œè¦è®¡ç®—æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚ <br><br>  <b>è­¦å‘Š2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6032</a>æ–¹æ³•çš„ä¸»ä½“å®Œå…¨ç­‰åŒäºå¦ä¸€ç§æ–¹æ³•çš„ä¸»ä½“ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  SearchComboBoxPainter.javaï¼ˆ495ï¼‰ï¼ŒSearchComboBoxPainter.javaï¼ˆ501ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">paintBackgroundDisabledAndEditable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Graphics2D g)</span></span></span><span class="hljs-function"> </span></span>{ rect = decodeRect1(); g.setPaint(color53); g.fill(rect); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">paintBackgroundEnabledAndEditable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Graphics2D g)</span></span></span><span class="hljs-function"> </span></span>{ rect = decodeRect1(); g.setPaint(color53); g.fill(rect); }</code> </pre> <br> ä¸¤ä¸ªå…·æœ‰å¯ç–‘ç›¸åŒå®ç°çš„åŠŸèƒ½ã€‚ æˆ‘<i>æ•¢</i>å»ºè®®åœ¨å…¶ä¸­ä¹‹ä¸€ä¸­ä½¿ç”¨ä¸<i>color53</i>ä¸åŒçš„é¢œè‰²æ˜¯å¿…è¦çš„ã€‚ <br><br><h2> ç©ºå‚è€ƒ </h2><br>  <b>è­¦å‘Š1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6060å·²</a>ä½¿ç”¨'descriptionPopup'å‚è€ƒï¼Œç„¶åå°†å…¶å¯¹ç…§nullè¿›è¡ŒéªŒè¯ã€‚  SuggestPopup.javaï¼ˆ252ï¼‰ï¼ŒSuggestPopup.javaï¼ˆ251ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateDescriptionPopupPosition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = getAbsoluteLeft() + WIDTH; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = getAbsoluteTop(); descriptionPopup.setPopupPosition(x, y); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (descriptionPopup!=<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { descriptionPopup.setPopupPosition(x, y); } }</code> </pre> <br> åœ¨ä»…ä¸¤è¡Œä¸­ï¼Œä½œè€…è®¾æ³•ç¼–å†™äº†ä¸€ä¸ªéå¸¸å¯ç–‘çš„ä»£ç ã€‚ é¦–å…ˆï¼Œå¯¹<i>descriptionPopup</i>å¯¹è±¡è°ƒç”¨<i>setPopupPosition</i>æ–¹æ³•ï¼Œç„¶åå°†è¯¥å¯¹è±¡ä¸<i>null</i>è¿›è¡Œæ¯”è¾ƒã€‚ æœ€æœ‰å¯èƒ½çš„æ˜¯ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨<i>setPopupPosition</i>å‡½æ•°æ˜¯å¤šä½™ä¸”å±é™©çš„ã€‚ çœ‹èµ·æ¥åƒé‡æ„å¤±è´¥çš„åæœã€‚ <br><br>  <b>è­¦å‘Š2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6060</a>åœ¨å¯¹nullè¿›è¡ŒéªŒè¯ä¹‹å‰ï¼Œå·²ä½¿ç”¨'tableModel'å¼•ç”¨ã€‚  DesktopAbstractTable.javaï¼ˆ1580ï¼‰ï¼ŒDesktopAbstractTable.javaï¼ˆ1564ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> Column </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addRuntimeGeneratedColumn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String columnId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// store old cell editors / renderers TableCellEditor[] cellEditors = new TableCellEditor[tableModel.getColumnCount() + 1]; // &lt;= TableCellRenderer[] cellRenderers = new TableCellRenderer[tableModel.getColumnCount() + 1]; // &lt;= for (int i = 0; i &lt; tableModel.getColumnCount(); i++) { // &lt;= Column tableModelColumn = tableModel.getColumn(i); if (tableModel.isGeneratedColumn(tableModelColumn)) { // &lt;= TableColumn tableColumn = getColumn(tableModelColumn); cellEditors[i] = tableColumn.getCellEditor(); cellRenderers[i] = tableColumn.getCellRenderer(); } } Column col = new Column(columnId, columnId); col.setEditable(false); columns.put(col.getId(), col); if (tableModel != null) { // &lt;= tableModel.addColumn(col); } .... }</span></span></code> </pre> <br> æ­¤åŠŸèƒ½ä¸­ä¹Ÿå­˜åœ¨ç±»ä¼¼æƒ…å†µã€‚ åœ¨å¤šæ¬¡è°ƒç”¨<i>tableModel</i>å¯¹è±¡ä¹‹åï¼Œå°†æ£€æŸ¥å®ƒæ˜¯å¦ä¸º<i>null</i> ã€‚ <br><br> å¦ä¸€ä¸ªä¾‹å­ï¼š <br><br><ul><li>  V6060åœ¨å¯¹nullè¿›è¡ŒéªŒè¯ä¹‹å‰ï¼Œå·²ä½¿ç”¨'tableModel'å¼•ç”¨ã€‚  DesktopAbstractTable.javaï¼ˆ596ï¼‰ï¼ŒDesktopAbstractTable.javaï¼ˆ579ï¼‰ </li></ul><br><h2> ä¹Ÿè®¸æ˜¯ä¸€ä¸ªé€»è¾‘é”™è¯¯ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6026</a>è¯¥å€¼å·²ç»åˆ†é…ç»™'sortAscending'å˜é‡ã€‚  CubaScrollTableWidget.javaï¼ˆ488ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sortColumn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortAscending) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortClickCounter &lt; <span class="hljs-number"><span class="hljs-number">2</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// special case for initial revert sorting instead of reset sort order if (sortClickCounter == 0) { client.updateVariable(paintableId, "sortascending", false, false); } else { reloadDataFromServer = false; sortClickCounter = 0; sortColumn = null; sortAscending = true; // &lt;= client.updateVariable(paintableId, "resetsortorder", "", true); } } else { client.updateVariable(paintableId, "sortascending", false, false); } } else { if (sortClickCounter &lt; 2) { // special case for initial revert sorting instead of reset sort order if (sortClickCounter == 0) { client.updateVariable(paintableId, "sortascending", true, false); } else { reloadDataFromServer = false; sortClickCounter = 0; sortColumn = null; sortAscending = true; client.updateVariable(paintableId, "resetsortorder", "", true); } } else { reloadDataFromServer = false; sortClickCounter = 0; sortColumn = null; sortAscending = true; client.updateVariable(paintableId, "resetsortorder", "", true); } } .... }</span></span></code> </pre> <br> åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œ <i>sortAscending</i>å˜é‡<i>å·²ç»ä¸º</i> <i>true</i> ï¼Œä½†ä»è¢«åˆ†é…ç›¸åŒçš„å€¼ã€‚ ä¹Ÿè®¸è¿™æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œæƒ³è¦åˆ†é…ä¸º<i>false</i> ã€‚ <br><br> æ¥è‡ªå¦ä¸€ä¸ªæ–‡ä»¶çš„ç±»ä¼¼ç¤ºä¾‹ï¼š <br><br><ul><li>  V6026è¯¥å€¼å·²ç»åˆ†é…ç»™'sortAscending'å˜é‡ã€‚  CubaTreeTableWidget.javaï¼ˆ444ï¼‰ </li></ul><br><h2> å¥‡æ€ªçš„å‡½æ•°è¿”å›å€¼ </h2><br>  <b>è­¦å‘Š1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6037</a>å¾ªç¯å†…æ— æ¡ä»¶çš„â€œè¿”å›â€ã€‚  QueryCacheManager.javaï¼ˆ128ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> &lt;T&gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSingleResultFromCache</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(QueryKey queryKey, List&lt;View&gt; views)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Object id : queryResult.getResult()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (T) em.find(metaClass.getJavaClass(), id, views.toArray(....)); } .... }</code> </pre> <br> åˆ†æå™¨åœ¨<i>for</i>å¾ªç¯çš„ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­æ£€æµ‹åˆ°å¯¹<i>returnè¯­å¥</i>çš„æ— æ¡ä»¶è°ƒç”¨ã€‚ ä¹Ÿè®¸è¿™æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œæˆ–è€…æ‚¨éœ€è¦é‡å†™ä»£ç ä»¥ä½¿ç”¨<i>ifè¯­å¥</i> ã€‚ <br><br>  <b>è­¦å‘Š2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6014</a>è¿™ç§æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªç›¸åŒçš„å€¼ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  DefaultExceptionHandler.javaï¼ˆ40ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ErrorEvent event, App app)</span></span></span><span class="hljs-function"> </span></span>{ Throwable t = event.getThrowable(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> SocketException || ExceptionUtils.getRootCause(t) <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> SocketException) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ExceptionUtils.getThrowableList(t).stream() .anyMatch(o -&gt; o.getClass().getName().equals(<span class="hljs-string"><span class="hljs-string">"...."</span></span>))) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StringUtils.contains(ExceptionUtils.getMessage(t), <span class="hljs-string"><span class="hljs-string">"...."</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } AppUI ui = AppUI.getCurrent(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ui == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (app.getConnection().getSession() != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { showDialog(app, t); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { showNotification(app, t); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }</code> </pre> <br> åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼Œæ­¤å‡½æ•°å‡è¿”å›<i>true</i> ã€‚ ä½†æ˜¯åœ¨æœ€åä¸€è¡Œï¼Œè¿™é‡Œè¯·æ±‚è¿”å›<i>false</i> ã€‚ ä¹Ÿè®¸æœ‰ä¸€ä¸ªé”™è¯¯ã€‚ <br><br> å¸¦æœ‰ç±»ä¼¼ä»£ç çš„å¯ç–‘å‡½æ•°çš„å®Œæ•´åˆ—è¡¨ï¼š <br><br><ul><li>  V6014è¿™ç§æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªç›¸åŒçš„å€¼ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  ErrorNodesFinder.javaï¼ˆ31ï¼‰ </li><li>  V6014è¿™ç§æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªç›¸åŒçš„å€¼ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  FileDownloadController.javaï¼ˆ69ï¼‰ </li><li>  V6014è¿™ç§æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªç›¸åŒçš„å€¼ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  IdVarSelector.javaï¼ˆ73ï¼‰ </li><li>  V6014è¿™ç§æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªç›¸åŒçš„å€¼ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  IdVarSelector.javaï¼ˆ48ï¼‰ </li><li>  V6014è¿™ç§æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªç›¸åŒçš„å€¼ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  IdVarSelector.javaï¼ˆ67ï¼‰ </li><li>  V6014è¿™ç§æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªç›¸åŒçš„å€¼ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  IdVarSelector.javaï¼ˆ46ï¼‰ </li><li>  V6014è¿™ç§æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªç›¸åŒçš„å€¼ï¼Œè¿™å¾ˆå¥‡æ€ªã€‚  JoinVariableNode.javaï¼ˆ57ï¼‰ </li></ul><br>  <b>è­¦å‘Š3</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6007</a>è¡¨è¾¾å¼â€œ needReloadâ€å§‹ç»ˆä¸ºfalseã€‚  WebAbstractTable.javaï¼ˆ2702ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleSpecificVariables</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Map&lt;String, Object&gt; variables)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> needReload = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isUsePresentations() &amp;&amp; presentations != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { Presentations p = getPresentations(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p.getCurrent() != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; p.isAutoSave(p.getCurrent()) &amp;&amp; needUpdatePresentation(variables)) { Element e = p.getSettings(p.getCurrent()); saveSettings(e); p.setSettings(p.getCurrent(), e); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> needReload; }</code> </pre> <br> è¯¥å‡½æ•°è¿”å›<i>needReload</i>å˜é‡ï¼Œå…¶å€¼å§‹ç»ˆä¸º<i>false</i> ã€‚ åœ¨ä¸€ç§æƒ…å†µä¸‹ï¼Œä»–ä»¬å¾ˆå¯èƒ½å¿˜è®°æ·»åŠ ç”¨äºæ›´æ”¹å˜é‡å€¼çš„ä»£ç ã€‚ <br><br>  <b>è­¦å‘Š4</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6062</a> â€œ isFocusedâ€æ–¹æ³•å†…å¯èƒ½è¿›è¡Œæ— é™é€’å½’ã€‚  GwtAceEditor.javaï¼ˆ189ï¼‰ï¼ŒGwtAceEditor.javaï¼ˆ190ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">native</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">focus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">/*-{ this.focus(); }-*/</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isFocused</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isFocused(); }</code> </pre> <br> åˆ†æå™¨æ£€æµ‹åˆ°ä¸€ä¸ªæ²¡æœ‰é€’å½’åœæ­¢æ¡ä»¶çš„é€’å½’è°ƒç”¨å‡½æ•°ã€‚ è¯¥æ–‡ä»¶å…·æœ‰è®¸å¤šåŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½ç”¨<i>native</i>å…³é”®å­—æ ‡è®°å¹¶åŒ…å«æ³¨é‡Šçš„ä»£ç ã€‚ è¯¥æ–‡ä»¶å¾ˆå¯èƒ½ç›®å‰æ­£åœ¨è¢«è¦†ç›–ï¼Œå¼€å‘äººå‘˜å¾ˆå¿«å°±ä¼šå…³æ³¨<i>isFocused</i>å‡½æ•°ã€‚ <br><br><h2> æ‚é¡¹è­¦å‘Š </h2><br>  <b>è­¦å‘Š1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6002</a> switchè¯­å¥æœªæ¶µç›–â€œ Operationâ€æšä¸¾çš„æ‰€æœ‰å€¼ï¼šADDã€‚  DesktopAbstractTable.javaï¼ˆ665ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Operation which caused the datasource change. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Operation { REFRESH, CLEAR, ADD, REMOVE, UPDATE } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDatasource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> CollectionDatasource datasource)</span></span></span><span class="hljs-function"> </span></span>{ .... collectionChangeListener = e -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (e.getOperation()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> CLEAR: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> REFRESH: fieldDatasources.clear(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> UPDATE: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> REMOVE: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Object entity : e.getItems()) { fieldDatasources.remove(entity); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }; .... }</code> </pre> <br>  <i>switchè¯­å¥</i> <i>æœªå¤„ç†ADD</i>çš„å€¼ã€‚ å®ƒæ˜¯å”¯ä¸€æœªç»å®¡æŸ¥çš„ï¼Œå› æ­¤å€¼å¾—æ£€æŸ¥æ˜¯å¦é”™è¯¯ã€‚ <br><br>  <b>è­¦å‘Š2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6021</a>ä¸ä½¿ç”¨å˜é‡â€œæºâ€ã€‚  DefaultHorizoâ€‹â€‹ntalLayoutDropHandler.javaï¼ˆ177ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleHTML5Drop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DragAndDropEvent event)</span></span></span><span class="hljs-function"> </span></span>{ LayoutBoundTransferable transferable = (LayoutBoundTransferable) event .getTransferable(); HorizontalLayoutTargetDetails details = (HorizontalLayoutTargetDetails) event .getTargetDetails(); AbstractOrderedLayout layout = (AbstractOrderedLayout) details .getTarget(); Component source = event.getTransferable().getSourceComponent(); <span class="hljs-comment"><span class="hljs-comment">// &lt;= int idx = (details).getOverIndex(); HorizontalDropLocation loc = (details).getDropLocation(); if (loc == HorizontalDropLocation.CENTER || loc == HorizontalDropLocation.RIGHT) { idx++; } Component comp = resolveComponentFromHTML5Drop(event); if (idx &gt;= 0) { layout.addComponent(comp, idx); } else { layout.addComponent(comp); } if (dropAlignment != null) { layout.setComponentAlignment(comp, dropAlignment); } }</span></span></code> </pre> <br> æºå˜é‡å·²å£°æ˜ä¸”æœªåœ¨ä»£ç ä¸­ä½¿ç”¨ã€‚ ä¹Ÿè®¸ï¼Œå°±åƒå¦ä¸€ä¸ªç›¸åŒç±»å‹çš„<i>comp</i>å˜é‡ä¸€æ ·ï¼Œä»–ä»¬å¿˜è®°äº†å°†<i>æºä»£ç </i>æ·»åŠ åˆ°<i>layout</i> ã€‚ <br><br> å…·æœ‰æœªä½¿ç”¨å˜é‡çš„æ›´å¤šå‡½æ•°ï¼š <br><br><ul><li>  V6021ä¸ä½¿ç”¨å˜é‡â€œæºâ€ã€‚  DefaultHorizoâ€‹â€‹ntalLayoutDropHandler.javaï¼ˆ175ï¼‰ </li><li>  V6021è¯¥å€¼å·²åˆ†é…ç»™'r'å˜é‡ï¼Œä½†æœªä½¿ç”¨ã€‚  ExcelExporter.javaï¼ˆ262ï¼‰ </li><li>  V6021ä¸ä½¿ç”¨å˜é‡â€œ overâ€ã€‚  DefaultCssLayoutDropHandler.javaï¼ˆ49ï¼‰ </li><li>  V6021ä¸ä½¿ç”¨å˜é‡â€œå¯è½¬ç§»â€ã€‚  DefaultHorizoâ€‹â€‹ntalLayoutDropHandler.javaï¼ˆ171ï¼‰ </li><li>  V6021ä¸ä½¿ç”¨å˜é‡â€œå¯è½¬ç§»â€ã€‚  DefaultHorizoâ€‹â€‹ntalLayoutDropHandler.javaï¼ˆ169ï¼‰ </li><li>  V6021æœªä½¿ç”¨å˜é‡'beanLocator'ã€‚  ScreenEventMixin.javaï¼ˆ28ï¼‰ </li></ul><br>  <b>è­¦å‘Š3</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V6054</a>ä¸åº”æŒ‰åç§°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¯¹</a>ç±»è¿›è¡Œæ¯”è¾ƒã€‚  MessageTools.javaï¼ˆ283ï¼‰ <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hasPropertyCaption</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MetaProperty property)</span></span></span><span class="hljs-function"> </span></span>{ Class&lt;?&gt; declaringClass = property.getDeclaringClass(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (declaringClass == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; String caption = getPropertyCaption(property); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = caption.indexOf(<span class="hljs-string"><span class="hljs-string">'.'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; declaringClass.getSimpleName().equals(caption.substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, i))) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }</code> </pre> <br> åˆ†æå™¨æŒ‰åç§°æ¯”è¾ƒç±»æ—¶æ£€æµ‹åˆ°æƒ…å†µã€‚ è¿™ç§æ¯”è¾ƒæ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºæ ¹æ®è§„èŒƒï¼ŒJVMç±»ä»…åœ¨åŒ…å†…éƒ¨å…·æœ‰å”¯ä¸€çš„åç§°ã€‚ è¿™å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯çš„æ¯”è¾ƒå’Œæ‰§è¡Œè®¡åˆ’ä¸­çš„é”™è¯¯ä»£ç ã€‚ <br><br><h2>  CUBAå¹³å°å¼€å‘äººå‘˜åé¦ˆ </h2><br>  <i>å½“ç„¶ï¼Œåœ¨ä»»ä½•å¤§å‹é¡¹ç›®ä¸­éƒ½å­˜åœ¨é”™è¯¯ã€‚</i>  <i>å› æ­¤ï¼Œæˆ‘ä»¬å¾ˆé«˜å…´åœ°åŒæ„PVS-Studioå›¢é˜Ÿçš„å»ºè®®æ¥æ£€æŸ¥æˆ‘ä»¬çš„é¡¹ç›®ã€‚</i>  <i>CUBAå­˜å‚¨åº“åŒ…å«Apache 2è®¸å¯ä¸‹çš„ä¸€äº›ç¬¬ä¸‰æ–¹OSSåº“çš„æ´¾ç”Ÿï¼Œä¼¼ä¹æˆ‘ä»¬éœ€è¦æ›´å¤šåœ°å…³æ³¨æ­¤ä»£ç ï¼Œåˆ†æå™¨åœ¨è¿™äº›æ¥æºä¸­å‘ç°äº†å¾ˆå¤šé—®é¢˜ã€‚</i>  <i>ç°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨SpotBugsä½œä¸ºä¸»è¦åˆ†æå™¨ï¼Œå®ƒæ²¡æœ‰å‘ç°PVS-Studioå‘ç°çš„ä¸€äº›é‡å¤§é—®é¢˜ã€‚</i>  <i>ç°åœ¨è¯¥è‡ªå·±åŠ¨æ‰‹å†™å…¶ä»–æ”¯ç¥¨äº†ã€‚</i>  <i>éå¸¸æ„Ÿè°¢PVS-Studioå›¢é˜Ÿæ‰€åšçš„å·¥ä½œã€‚</i> <br><br> å¼€å‘äººå‘˜è¿˜æ³¨æ„åˆ°è­¦å‘ŠV6013å’ŒV6054æ˜¯é”™è¯¯çš„ã€‚ ä»£ç æ˜¯æ•…æ„å†™çš„ã€‚ é™æ€åˆ†æå™¨æ—¨åœ¨æ£€æµ‹å¯ç–‘ä»£ç ç‰‡æ®µï¼Œå¹¶ä¸”å¯¹äºæ‰€æœ‰æ£€æŸ¥è€Œè¨€ï¼Œå‘ç°é”™è¯¯çš„å¯èƒ½æ€§å‡ä¸åŒã€‚ ä½†æ˜¯ï¼Œä½¿ç”¨è¿™ç§æ–¹ä¾¿çš„æœºåˆ¶å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨æ­¤ç±»è­¦å‘Šæ¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¯¹åˆ†æå™¨è­¦å‘Š</a>è¿›è¡Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‰¹é‡æŠ‘åˆ¶ï¼Œ</a>è€Œæ— éœ€ä¿®æ”¹æºä»£ç æ–‡ä»¶ã€‚ <br><br> å¦ä¸€ä¸ªPVS-Studioå›¢é˜Ÿä¸èƒ½å¿½ç•¥â€œç°åœ¨è¯¥å»è‡ªå·±å†™å…¶ä»–æ”¯ç¥¨äº†â€è¿™ä¸ªçŸ­è¯­äº†ï¼Œä¸è¦ç¦»å¼€è¿™å¼ å›¾ç‰‡:) <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e2e/319/50d/e2e31950d545befb04ba1f2546583b8c.png" alt="å›¾ç‰‡1"></div><br><h2> ç»“è®º </h2><br>  PVS-Studioå°†æ˜¯æ‚¨ç°æœ‰é¡¹ç›®çš„é‡è¦è¡¥å……ï¼Œä»¥æ”¹è¿›ä»£ç è´¨é‡å·¥å…·ã€‚ å°¤å…¶æ˜¯å¦‚æœæœ‰æ•°åï¼Œæ•°åä¸‡å’Œæ•°åƒåå‘˜å·¥ã€‚  PVS-Studioä¸ä»…å¯ä»¥å‘ç°é”™è¯¯ï¼Œè¿˜å¯ä»¥å¯¹å…¶è¿›è¡Œä¿®å¤ã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨è°ˆè®ºè‡ªåŠ¨ä»£ç ç¼–è¾‘ï¼Œè€Œæ˜¯åœ¨è°ˆè®ºå¯é çš„ä»£ç è´¨é‡æ§åˆ¶ã€‚ åœ¨å¤§å‹å…¬å¸ä¸­ï¼Œæ— æ³•æƒ³è±¡ä¼šæœ‰ç»å¯¹çš„æ‰€æœ‰å¼€å‘äººå‘˜éƒ½å°†ä½¿ç”¨å„ç§å·¥å…·ç‹¬ç«‹æ£€æŸ¥å…¶ä»£ç çš„æƒ…å†µï¼Œå› æ­¤PVS-Studioä¹‹ç±»çš„å·¥å…·æ›´é€‚åˆæ­¤ç±»å…¬å¸ï¼Œå› ä¸ºè¿™äº›å…¬å¸åœ¨å¼€å‘çš„å„ä¸ªé˜¶æ®µéƒ½å¯¹ä»£ç è¿›è¡Œè´¨é‡æ§åˆ¶ï¼Œè€Œä¸ä»…ä»…æ˜¯æ™®é€šç¨‹åºå‘˜ã€‚ <br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/c78/30f/70c/c7830f70c5577c3d6704f254d7cad6a3.png" align="left"></a> </p><br><br> å¦‚æœæ‚¨æƒ³ä¸è¯´è‹±è¯­çš„è¯»è€…åˆ†äº«è¿™ç¯‡æ–‡ç« ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é“¾æ¥ï¼šSvyatoslav Razmyslovã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨PVS-Studioåˆ†æCUBAå¹³å°çš„ä»£ç </a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN449022/">https://habr.com/ru/post/zh-CN449022/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN449008/index.html">ä½¿ç”¨çº¿è½´åœ¨Spring Bootä¸­è®°å½•HTTPè¯·æ±‚</a></li>
<li><a href="../zh-CN449012/index.html">ä¸–ç•Œï¼ è¾›è‹¦ï¼ iOSï¼ ä¼˜æƒ é•¿å¯¿1å¤©</a></li>
<li><a href="../zh-CN449014/index.html">å…ˆè¿›çš„ä»¥å¤ªåŠDAPP</a></li>
<li><a href="../zh-CN449016/index.html">å…‰ç›˜æ–‡ä»¶ç³»ç»Ÿä¸­çš„éšå†™æœ¯</a></li>
<li><a href="../zh-CN449020/index.html">ä½¿ç”¨PVS-Studioåˆ†æCUBAå¹³å°çš„ä»£ç </a></li>
<li><a href="../zh-CN449026/index.html">æ“ä½œç³»ç»Ÿï¼šä¸‰ä¸ªç®€å•çš„éƒ¨åˆ†ã€‚ ç¬¬4éƒ¨åˆ†ï¼šè®¡åˆ’ç¨‹åºç®€ä»‹ï¼ˆç¿»è¯‘ï¼‰</a></li>
<li><a href="../zh-CN449028/index.html">ä½¿ç”¨InfluxDBæ—¶çš„æ„¤æ€’ï¼Œè®¨ä»·è¿˜ä»·å’Œæ²®ä¸§</a></li>
<li><a href="../zh-CN449032/index.html">æˆ‘ä»¬è®¾è®¡äº†ä¸€ç§å–·æ°´ç­ç«ç³»ç»Ÿ</a></li>
<li><a href="../zh-CN449036/index.html">å†ç©¿ä¸Šç¾Šçš®çš„ç‹¼</a></li>
<li><a href="../zh-CN449038/index.html">åœ¨Goä¸­ç®¡ç†Dockerå®¹å™¨</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>