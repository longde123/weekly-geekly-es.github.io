<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüé§ üôâ üë®‚Äçüîß Wie man nicht routinem√§√üig ertrinkt oder unsere Erfahrung beim Vergleich von AWR-Dumps w√§hrend Stresstests ‚ùáÔ∏è üè¥‚Äç‚ò†Ô∏è üë©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! Mein Name ist Lyudmila, ich besch√§ftige mich mit Lasttests. Ich m√∂chte mit einem unserer Kunden teilen, wie wir die Automatisierung ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie man nicht routinem√§√üig ertrinkt oder unsere Erfahrung beim Vergleich von AWR-Dumps w√§hrend Stresstests</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/470726/">  Hallo allerseits!  Mein Name ist Lyudmila, ich besch√§ftige mich mit Lasttests. Ich m√∂chte mit einem unserer Kunden teilen, wie wir die Automatisierung der vergleichenden Analyse des Regressionsprofils des Lasttestsystems aus der Datenbank f√ºr das Oracle DBMS durchgef√ºhrt haben. <br><br>  Der Zweck des Artikels besteht nicht darin, einen ‚Äûneuen‚Äú Ansatz zum Vergleichen der Datenbankleistung zu finden, sondern unsere Erfahrungen zu beschreiben und zu versuchen, den Vergleich der erhaltenen Ergebnisse und zu automatisieren <br>  Reduzieren Sie die Anzahl der Anrufe bei DBA Oracle. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i0/t5/1o/i0t51o5kmfxsmkjshwdhn0j9cx0.jpeg" width="400"></div><br><a name="habracut"></a><br>  Bei der Durchf√ºhrung von Lasttests f√ºr jede Datenbank sind wir haupts√§chlich interessiert an: <br><br><ul><li>  Ist nach der Installation einer neuen Baugruppe etwas kaputt gegangen? <br></li><li>  Die Dynamik der Datenbank w√§hrend des Tests. <br></li></ul><br>  Der Vergleich von AWR-Berichten allein reicht nicht aus, um Ihre Ziele zu erreichen. <br>  Die zentrale Lagerung von AWR-Deponien ist ebenfalls eine gute Praxis.  AWR-Dumps behalten alle historischen Ansichten bei (dba_hist). <br><br>  Diese Praxis wurde bereits von unserem Kunden angewendet. <br><br>  Nach der n√§chsten Sitzung des Lasttests vergleichen wir die Ergebnisse: <br><br><ul><li>  aktuelle Testkippe mit Industriedeponie; <br></li><li>  der aktuelle Testspeicherauszug mit dem vorherigen Testspeicherauszug. <br></li></ul><br>  Warum wird das ben√∂tigt? <br><br>  Die Ziele sind unterschiedlich: <br><br><ul><li> Manchmal unterscheidet sich das Bef√ºllen der Basis selbst in einer Testumgebung von der betrieblichen, was bedeutet, dass es Unterschiede gibt, die die Analyse st√∂ren ("Interferenz" zur Beantwortung der Hauptfrage "Haben Sie etwas kaputt?").  Ich m√∂chte diese Unterschiede identifizieren. <br></li><li>  Der Vergleich des aktuellen Tests mit der Arbeit der Industriebasis hilft zu verstehen, wie korrekt die aktuellen Stresstests sind (irgendwo laden wir zu viel, aber wir haben √ºberhaupt etwas vergessen); <br></li><li>  Der Vergleich des aktuellen Tests mit dem vorherigen Test hilft zu verstehen, ob das aktuelle Systemverhalten normal ist.  Hat sich im Verhalten des Systems im Vergleich zum vorherigen Test etwas ge√§ndert? <br></li></ul><br>  Um all diese Ziele zu erreichen, l√∂sen wir h√§ufig das Problem, verschiedene Dumps miteinander zu vergleichen.  Die Daten sind normalerweise sehr eng, als sie gestern vorgestellt werden sollten!  Die Zeit, um jeden Regressionstest vollst√§ndig zu √ºberpr√ºfen, fehlt dringend.  Und wenn Sie den Zuverl√§ssigkeitstest einen Tag lang durchf√ºhren, k√∂nnen Sie viel Zeit damit verbringen, das Ergebnis zu analysieren ... <br><br>  Nat√ºrlich k√∂nnen Sie w√§hrend des Tests alles online in Enterprise Manager (oder mit der Bitte um gv $ views) ansehen: Gehen Sie nicht rauchen, essen und schlafen ... <br><br><img src="https://habrastorage.org/webt/hb/gc/pl/hbgcpluqm8hfqpzc9obf7tyrmd4.jpeg"><br><br>  Vielleicht haben Sie auch ein eigenes Werkzeug, das Sie selbst angefertigt haben?  Sie k√∂nnen in den Kommentaren teilen.  Und wir werden teilen, was wir f√ºr unsere Aufgaben verwenden. <br><br>  AWR-Berichte enthalten viele n√ºtzliche Informationen: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/119/0b7/140/1190b7140b549b502c9d62fd93d532f4.png"><br><br>  Hier finden Sie n√ºtzliche Informationen, zum Beispiel: Wie viel die Abfrage ausf√ºhrt, sql_id, Modul und abgek√ºrzter Text.  Obwohl der Text vorhanden ist, wird er abgeschnitten und die Vollversion kann dem Absatz "Vollst√§ndige Liste des SQL-Textes" entnommen werden. <br><br>  Was die Minuspunkte betrifft: Im AWR-Bericht ist nicht klar, wann diese Anfragen aufgetreten sind, zu welchem ‚Äã‚ÄãZeitpunkt mehr und zu welchem ‚Äã‚ÄãZeitpunkt weniger ... Schlie√ülich ist es wichtig, die Testergebnisse zu analysieren, zu verstehen, was passiert ist und zu welchem ‚Äã‚Äãungef√§hren Zeitpunkt: gleichm√§√üig f√ºr das Ganze Test oder Peak / Surge wie nach einem Zeitplan.  Wir werden hier auch nur ein begrenztes Top sehen.  Dies kann durch Abfragen historischer Tabellen einfacher angezeigt werden. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5e6/7e6/a55/5e67e6a55a3707ee0d2acede2c724d7f.png"><br><br>  Hier k√∂nnen Sie sehen, welche Ereignisse w√§hrend des Tests aufgetreten sind.  Die Daten in diesem Abschnitt sind nach DB-Zeit geordnet. <br><br>  In diesem Abschnitt fehlen mir folgende Informationen: <br><br><ol><li>  Wait_class (ja, Sie erinnern sich mit Erfahrung daran, zu welchen Erwartungen dieses Ereignis geh√∂rt). <br></li><li>  Verteilungen nach Modulen (wenn ich zum Beispiel sehe, dass auf enq: TX gewartet wird - Zeilensperrkonflikt: Informationen werden ben√∂tigt, unter welchem ‚Äã‚ÄãModul dies passiert ist). <br><br>  Es gibt Jobs, bei denen es Zahlen gibt, die keinen semantischen Teil enthalten. Das hei√üt, Sie m√ºssen dieselben Module gruppieren und eine Antwort f√ºr die Gruppe erhalten, z. B. Modul_A_1, Modul_A_2, Modul_A_3 und Modul_B_1, Modul_B_2, Modul_B_3.  Das hei√üt, es gab zwei semantische Module, die jedoch alle unterschiedliche Namen haben. <br></li><li>  Das Objekt, auf das wir uns beziehen (CURRENT_OBJ # - Wenn beispielsweise der Ereignis enq: TX - Indexkonflikt auftritt, w√§re es sch√∂n zu wissen, welcher Index schuld ist). <br></li><li>  Sql_id - welche Anforderung der Text dieser Anforderung versucht auszuf√ºhren. <br></li><li>  Informationen zur Mengenverteilung pro Schnappschuss (wie oben beschrieben ...). <br></li></ol><br>  Um die beiden Tests zu vergleichen, k√∂nnen Sie den Vergleich von AWR-Berichten verwenden: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c6b/ba3/02b/c6bba302b88b1c58bc75161771542a12.png"><br><br>  Hurra, hier haben wir wait_class angezeigt, ansonsten sind die Minuspunkte die gleichen wie oben beschrieben. <br><br>  Manchmal gibt es keinen Enterprise Manager f√ºr Projekte, und Sie k√∂nnen beispielsweise Enterprise Manager Express oder ASH Viewer verwenden.  In Enterprise Manager verwenden viele Top Activity f√ºr Verlaufsdaten, aber f√ºr mich sind viele Dinge mit den Abfragen selbst einfacher zu betrachten.  Alle oben genannten Punkte sollten mit anderen Tests / Arbeitslasten verglichen werden.  Wir hatten bereits einen benutzerdefinierten Vergleich in Bezug auf die Laufzeit, aber keinen benutzerdefinierten Vergleich. Wir haben manuell nach Abfragen in historischen Tabellen gesucht. <br><br>  Nach jedem Regressionstest war es notwendig, die Ergebnisse in historischen Tabellen mit Abfragen an die Datenbank zu vergleichen, AWR-Berichte anzuzeigen, die problematische Erwartung zu lokalisieren (auf welchem ‚Äã‚ÄãModul es auftritt, zu welchen Zeiten, an welchem ‚Äã‚ÄãObjekt es hing), damit ein Fehler f√ºr das richtige Entwicklungsteam generiert werden konnte. <br><br>  Die Kundendatenbank hat 190 TB erreicht, eine gro√üe Anzahl von Anforderungen wird im System verarbeitet: Die Anzahl der parallelen Module betr√§gt 16237. <br><br>  Und dann hatte ich eine Idee, wie ich den Vergleich von AWR-Dumps vereinfachen kann.  Mit dieser Idee ging ich zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fred</a> .  Gemeinsam haben wir ein praktisches Portal erstellt. <br><br>  Die Aussage des Problems von mir sah zun√§chst so aus: <br><br><img src="https://habrastorage.org/webt/rp/dr/cr/rpdrcrh1dfztq8amwvo7jepbaay.jpeg"><br><br>  Dann entschied ich mich dennoch, zun√§chst zu systematisieren, welche Abfragen zu historischen Tabellen ich am h√§ufigsten verwende ... Fred fing an, diese am Portal zu befestigen, und dann fing es an ... <br><br>  Zun√§chst war ich an einem Vergleich von Ereignissen interessiert, da bereits ein Vergleich der Geschwindigkeit der Abfrageausf√ºhrung in irgendeiner Form existierte.  Im n√§chsten Schritt ben√∂tigte ich detaillierte Informationen zu jedem Ereignis: Wenn es sich bei dem Ereignis beispielsweise um einen Indexkonflikt handelt, m√ºssen Sie verstehen, an welchem ‚Äã‚ÄãIndex wir tats√§chlich h√§ngen. <br><br>  Au√üerdem war ich interessiert, zu welchen Zeitpunkten diese Ereignisse am meisten waren, da in der Implementierung viele Aufgaben (Jobs) geplant waren und es notwendig war zu verstehen, zu welchem ‚Äã‚ÄãZeitpunkt alles aus allen N√§hten brach. <br><br>  Im Allgemeinen wollte ich Folgendes bekommen: <br><br><ol><li>  quantitativer Vergleich von Ereignissen zwischen verschiedenen Tests (ohne zus√§tzliche Kniebeugen); <br></li><li>  alle zugeh√∂rigen Informationen, die ich f√ºr die Analyse ben√∂tige: sql_id, Abfragetext, Verteilung w√§hrend des Tests, welche Objekte die Sitzungen betreffen, Modul; <br></li><li>  bequeme Filter f√ºr Sie selbst, um zu sehen, was sich ge√§ndert hat; <br></li><li>  GUI GUI, alles ist so bunt, dass es sofort sichtbar ist (Sie k√∂nnen Interessenten von der Entwicklungsseite aus √ºberpr√ºfen) <br></li><li>  Gruppierung von Modulen: wie zuvor beschrieben, 16237 Module, aber aus Sicht der ausgef√ºhrten Funktionen um ein Vielfaches weniger. <br></li></ol><br>  Fred und ich haben ein Portal f√ºr den Vergleich von AWR-Dumps von Lasttests erstellt, auf das ich weiter unten n√§her eingehen werde. <br><br><h1>  √úber das Portal </h1><br>  So werden im System AWR-Dumps erstellt, die in die Datenbank eingegossen und auf dem Portal verglichen werden. <br><br>  Wir haben den folgenden Stapel verwendet: <br><br><ol><li>  Oracle DB - zum Speichern von AWR-Dumps </li><li>  Python 2+ </li></ol><br><img src="https://habrastorage.org/getpro/habr/post_images/dd0/4d9/ba8/dd04d9ba845f216186a90400d6d8c223.png"><br><br>  Die Portaloberfl√§che sieht folgenderma√üen aus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bcd/255/bf6/bcd255bf653d818a9ea504d7ca4a1eea.png"><br><br>  Auf dem Portal k√∂nnen Sie die Arten der verglichenen Dumps, Testtests oder Testabschl√ºsse ausw√§hlen. <br><br>  Jeder Speicherauszug hat eine eigene eindeutige Kennung - DBID. <br><br>  Sie k√∂nnen auch nach folgenden Parametern filtern: <br><br><ol><li>  Instanz (Instanz) - Wir hatten eine Cluster-Datenbank. </li><li>  Anfrage (Sql_id); </li><li>  Art der Wartezeit (Wait_Class); </li><li>  Ereignis </li></ol><br>  Oben links w√§hlen Sie Speicherausz√ºge aus, und rechts k√∂nnen Sie die erforderlichen Filter einstellen, um das gew√ºnschte Modul sofort auszuw√§hlen. Auf diese Weise k√∂nnen Sie Probleme in der Funktionalit√§t lokalisieren, die in der vorherigen Version ge√§ndert / verbessert wurden, sodass keine Probleme mit der Verschlechterung auftreten. <br><br>  Die Tabelle in der Mitte ist das Ergebnis des Vergleichs der Dumps.  Die Spalten√ºberschriften zeigen sofort, welche Daten ausgegeben werden.  Die beiden rechten Spalten zeigen die Unterschiede zwischen den beiden Dumps: <br><br><ul><li>  Rot hervorgehobene Ereignisse sind mehr als im Vergleich zu einem vergleichenden Speicherauszug f√ºr Schnappsch√ºsse. <br></li><li>  gelb - neue Ereignisse; <br></li><li>  gr√ºn - Ereignisse, die sich bereits im urspr√ºnglichen Speicherauszug befanden. <br></li></ul><br>  Es ist sofort klar, wie gut wir getestet haben.  Wenn das Ereignis sehr oft aufgetreten ist, dann h√∂chstwahrscheinlich: <br><br><ol><li>  das System √ºberlastet; </li><li>  oder die Bedingungen f√ºr die Ausf√ºhrung von Hintergrundjobs √§nderten sich und das Ereignis begann h√§ufiger zu spielen.  Einmal auf diese Weise wurde ein Fehler im Code gefunden: Das Ereignis trat st√§ndig auf und nicht im gew√ºnschten Bedingungszweig. </li></ol><br>  Wenn wir ein neues Ereignis haben - gelb -, deutet dies auf eine √Ñnderung des Systems hin, und wir m√ºssen dessen Folgen analysieren.  Hier k√∂nnen Sie die Verteilung von Ereignissen anhand von Schnappsch√ºssen anzeigen und detaillierte Informationen zum Warten anzeigen. <br><br>  Es gab einmal einen Fall: Es wurde ein neues Ereignis entdeckt, das ziemlich selten war und nicht in den Top-Ereignissen enthalten war, aber aufgrund dessen gab es Verlangsamungen in der Funktion, die kritische SLAs hatten.  Die Analyse nur der wichtigsten Abfragen im AWR-Bericht konnte dies nicht ergeben. <br><br>  F√ºr jede Anfrage erhalten Sie detailliertere Informationen: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/407/0c0/9be/4070c09be97d7cbd98052682eb5ebfc5.png"><br><br>  F√ºr jeden Eintrag sehen Sie auch die folgenden Informationen: <br><br><ol><li>  SQL-Text abfragen; <br></li><li>  die Verteilung von Ereignissen auf einem Schnappschuss in einem quantitativen Verh√§ltnis, d.h.  zu welchem ‚Äã‚ÄãZeitpunkt gab es mehr / weniger Ereignisse; <br></li><li>  Auf welche Module und Objekte warten die "H√§ngenden". <br></li></ol><br>  Die Systemansichten von Oracle werden verwendet, um die Ergebnisse zu vergleichen: <br><br>  DBA_HIST_ACTIVE_SESS_HISTORY, DBA_HIST_SEG_STAT, DBA_HIST_SNAPSHOT, DBA_HIST_SQLTEXT <br><br>  + <br><br>  V_DUMPS_LOADED - eine eigene Servicetabelle (wurde bereits vom Kunden implementiert), die Informationen zu geladenen Dumps enth√§lt. <br><br>  Ein paar Fragen: <br><br>  Verteilung von Ereignissen auf Bildern: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> S.SNAP_ID, <span class="hljs-keyword"><span class="hljs-keyword">COUNT</span></span>(*) RCOUNT <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> DBA_HIST_ACTIVE_SESS_HISTORY S, V_DUMPS_LOADED V. <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> V.ID = :<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> S.DBID = V.DBID <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> S.INSTANCE_NUMBER = :<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> S.SQL_ID = :<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> S.EVENT_ID = :<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> S.SNAP_ID <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> S.SNAP_ID <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span></code> </pre> <br>  Gruppierung nach Modulen (Module, die eine einzelne logische Gruppe bilden, werden darin kombiniert), wobei das Objekt blockiert wird: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MODULE</span></span>, OBJECT_NAME, <span class="hljs-keyword"><span class="hljs-keyword">COUNT</span></span>(*) RCOUNT (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INSTR</span></span>(S.MODULE, <span class="hljs-string"><span class="hljs-string">'   1'</span></span>)&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-string"><span class="hljs-string">'  1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INSTR</span></span>(S.MODULE, <span class="hljs-string"><span class="hljs-string">'   2'</span></span>)&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-string"><span class="hljs-string">'  2'</span></span> ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> S.MODULE <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">MODULE</span></span>, O.OBJECT_NAME <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> DBA_HIST_ACTIVE_SESS_HISTORY S, V_DUMPS_LOADED V, DBA_HIST_SEG_STAT O <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> V.ID = :<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> S.DBID = V.DBID <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> S.INSTANCE_NUMBER = :<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> S.SQL_ID = :<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> S.EVENT_ID = :<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> S.CURRENT_OBJ<span class="hljs-comment"><span class="hljs-comment"># = O. OBJ# (+) AND V. DBID = O.DBID ) GROUP BY MODULE, OBJECT_NAME ORDER BY RCOUNT DESC</span></span></code> </pre><br><h1>  Was hast du am Ende bekommen? </h1><br>  Dank des Portals konnten wir beim Vergleich von AWR-Dumps Zeit sparen.  Der manuelle Vergleich dauerte 4-6 Stunden, und jetzt verbringen wir 2-3 Stunden.  Wir haben immer die M√∂glichkeit, die Ergebnisse verschiedener Tests sowohl untereinander als auch mit einem Industriedump schnell zu vergleichen und die Filter einzustellen, die wir jetzt ben√∂tigen.  Das hei√üt, wir k√∂nnen bequem historische Daten untereinander vergleichen und nicht nur das aktuelle Ergebnis online ansehen. <br><br>  Zuvor war es nach jeder Regression erforderlich, die Ergebnisse in historischen Tabellen mit Abfragen an die Datenbank zu vergleichen, AWR-Berichte anzuzeigen, die problematische Erwartung zu lokalisieren (auf welchem ‚Äã‚ÄãModul es auftritt, zu welchen Zeiten es passiert ist, an welchem ‚Äã‚ÄãObjekt es h√§ngt), damit es am Ende zu einem Defekt im richtigen Entwicklungsteam f√ºhren kann.  Und jetzt w√§hlen Sie einfach die Dumps zum Vergleich aus, stellen die Filter ein - und die Ergebnisse des Vergleichs sind sofort fertig.  Sie k√∂nnen Entwicklern auch einen Link zum Portal senden, der die DBID des Testdumps angibt, und sie selbst werden nach ihrem Modul gefiltert. <br><br>  Die Erstellung des Portals dauerte nur zwei Wochen, da ein Teil davon bereits fertig war: das Laden von Dumps in die Datenbank.  Nat√ºrlich wird eine solche Portall√∂sung f√ºr kein Projekt mit einer Oracle-Basis ben√∂tigt.  Es ist n√ºtzlich f√ºr Produkte, die in zahlreiche Module mit unterschiedlichen Namen unterteilt sind.  Bei einfachen Systemen oder bei Systemen, bei denen dem Ausf√ºllen des Moduls keine Bedeutung beigemessen wurde, ist das Portal redundant. <br><br>  Da das Portal Bilder analysiert, die in einem bestimmten Zeitraum einmal aufgenommen wurden, ist das Portal nicht vollst√§ndig von der Online-√úberwachung der Datenbank ausgenommen, da einige Ereignisse m√∂glicherweise nicht in das Bild gelangen k√∂nnen. <br><br>  Dies ist ein praktisches Tool zum Analysieren historischer Daten aus den Testergebnissen. Es kann jedoch auch in anderen Situationen hilfreich sein, wenn viele Bilder erstellt werden und gro√üe Datenmengen √ºberpr√ºft werden m√ºssen.  Dank der Kombination von Filtern und Diagrammen k√∂nnen Sie sofort Ereignisausbr√ºche sehen, die in normalen AWR-Berichten (nicht zu verwechseln mit Speicherausz√ºgen) in den gruppierten Informationen ausgeblendet werden.  Es reicht aus, Dumps zum Vergleich auszuw√§hlen, Filter zu setzen - und die Vergleichsergebnisse sind sofort fertig, oder Sie k√∂nnen einen Link an die Entwickler auf dem Portal mit der DBID des Testdumps senden, sie selbst werden von ihrem Modul gefiltert. <br><br>  Wenn Sie ein √§hnliches Portal f√ºr Ihr Projekt entwickeln m√∂chten, w√§hlen Sie die f√ºr Sie geeigneten Filter aus.  Wenn Sie jedes Mal nach unterschiedlichen Bedingungen filtern, ist es viel einfacher, einen geeigneten Filter daf√ºr zu erstellen. <br><br>  Die resultierende L√∂sung kann noch finalisiert werden, zum Beispiel: <br><br><ol><li>  Vergleichen der Dauer der Anfrage; <br></li><li>  Abfragepl√§ne vergleichen; <br></li><li>  Vergleichen von Anfragen mit demselben Plan, jedoch mit unterschiedlichem Text; <br></li><li>  Entladen in Testberichte (Ausf√ºhrung als Word / Exel-Dokument). <br></li></ol><br>  Oder weisen Sie das Portal im Allgemeinen an, eine Verbindung zur getesteten Datenbank herzustellen, damit √§hnliche Online-Bilder mit In-Memory-Ansichten und nicht nur mit historischen Daten erstellt werden.  Und speichern Sie sie in Ihrer Datenbank. <br><br>  Wir nutzen das Portal seit mehr als einem Jahr.  Fred, vielen Dank! <br><br>  Gepostet von Lyudmila Matskus, <br>  Jet Infosystems </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de470726/">https://habr.com/ru/post/de470726/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de470710/index.html">Maschinelles Lernen f√ºr Ihre Wohnungssuche. Teil 2</a></li>
<li><a href="../de470714/index.html">Wie ich zum Digital Breakthrough Finale kam</a></li>
<li><a href="../de470718/index.html">"Algebraische Effekte" in der menschlichen Sprache</a></li>
<li><a href="../de470720/index.html">Wie schreibe ich einen intelligenten Vertrag mit Python √ºber Ontologie? Teil 2: Speicher-API</a></li>
<li><a href="../de470722/index.html">Wie schreibe ich einen intelligenten Vertrag mit Python √ºber Ontologie? Teil 3: Laufzeit-API</a></li>
<li><a href="../de470728/index.html">Azure PowerShell: Meist harmlos</a></li>
<li><a href="../de470730/index.html">Azure PowerShell: "Meist harmlos"</a></li>
<li><a href="../de470732/index.html">Herbstauswahl: Was halten Sie von intelligenten Regenschirmen?</a></li>
<li><a href="../de470734/index.html">Geschichten aus der Krypta (aus 40 Jahren Arbeit des Programmierers)</a></li>
<li><a href="../de470736/index.html">WWDC 2019: Benutzerdefinierte Instrumente und SF-Symbole sowie neue Ans√§tze f√ºr die Entwicklung von iOS-Anwendungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>