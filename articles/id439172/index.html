<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⬆️ 😦 👖 Menegaskan () ekstensi makro untuk menerapkan penanganan kesalahan minimal 🏄 👍🏻 🌱</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Tuan, saya datang dengan pertahanan naga." Dia tidak lagi takut pada kita! Ini dipicu oleh mengepakkan sayap naga dan menyalakan sirene keras sehingg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menegaskan () ekstensi makro untuk menerapkan penanganan kesalahan minimal</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439172/"> "Tuan, saya datang dengan pertahanan naga."  Dia tidak lagi takut pada kita!  Ini dipicu oleh mengepakkan sayap naga dan menyalakan sirene keras sehingga semua orang bisa mendengar naga mendekat. <br>  "Apakah pertahanan ini melakukan hal lain?" <br>  "Tidak, mengapa?"  Kami akan diperingatkan! <br>  "Ya ... Dimakan oleh sirene yang melolong ... Namun ... mengingatkan kita ketika kita telah merencanakan pemadaman? ... <br><br><h3>  Deskripsi masalah </h3><br>  Metode ini tidak berpura-pura dengan konsep penanganan kesalahan dalam proyek yang kompleks dan kompleks.  Sebaliknya, ini adalah contoh dari apa yang dapat dilakukan dengan cara minimal. <br><a name="habracut"></a><br>  Norma yang baik adalah mengasumsikan bahwa no assert () harus dipicu selama eksekusi program.  Dan jika setidaknya satu pernyataan () berfungsi saat menguji aplikasi, maka Anda harus mengirim kesalahan ini ke pengembang.  Tetapi, bagaimana jika aplikasi tersebut tidak sepenuhnya diuji?  Dan menegaskan () akan bekerja untuk klien?  Kirim kesalahan ke pengembang?  Batalkan program?  Pada kenyataannya, ini akan menjadi versi rilis aplikasi dan pernyataan standar () hanya akan dinonaktifkan.  Pertanyaannya juga muncul dengan kontradiksi internal sistem: harus ada banyak penegasan () untuk membuatnya lebih mudah untuk mendeteksi kesalahan, tetapi harus ada lebih sedikit penegasan () untuk kurang mengganggu pengguna dan pekerjaannya dengan aplikasi.  Saya terutama tidak ingin "jatuh" jika berapa banyak orang menggunakan aplikasi tergantung pada stabilitas pekerjaan dan jika menegaskan () pada dasarnya tidak signifikan (memerlukan koreksi, tetapi memungkinkan, misalnya, untuk terus berhasil bekerja). <br><br>  Pertimbangan seperti itu mengarah pada kebutuhan untuk memperbaiki assert () c / c ++.  Dan tentukan makro Anda sendiri yang memperluas fungsionalitas standar assert () - tetapi dengan menambahkan penanganan kesalahan minimal.  Biarkan makro seperti itu. <br><br>  <b>VERIFY_EXIT (Ketentuan);</b> <b><br></b>  <b>VERIFY_RETURN (Ketentuan, Nilai Pengembalian);</b> <b><br></b>  <b>VERIFY_THROW (Ketentuan, Pengecualian);</b> <b><br></b>  <b>VERIFY_DO (Kondisi) {/ * blok gagal * /};</b> <br><br>  (Makro ini juga dapat dipanggil secara berbeda. Misalnya, VERIFY_OR_EXIT (), VERIFY_OR_RETURN (), VERIFY_OR_THROW (), VERIFY_OR_DO (). Atau sebaliknya dalam versi yang lebih pendek.) <br><br>  Makro ini, pertama, memiliki implementasi untuk versi debug kompilasi dan versi rilis.  Itu memungkinkan mereka untuk memiliki perilaku dalam versi rilis program.  Yaitu  melakukan tindakan tidak hanya selama pengujian, tetapi juga dengan pengguna. <br><br><h3>  Deskripsi Makro </h3><br>  (Deskripsi makro adalah perkiraan, desain mereka yang lain juga dimungkinkan.) <br><br>  1) <b>VERIFY_EXIT (Ketentuan);</b> <br><br>  Ini memeriksa kondisi <b>Kondisi</b> dan jika itu salah, ia memanggil pernyataan standar () (versi debug), dan juga keluar dari fungsi saat ini (versi debug dan rilis). <br><br>  2) <b>VERIFY_RETURN (Ketentuan, Nilai Pengembalian);</b> <br><br>  Ini memeriksa kondisi <b>Kondisi</b> dan jika itu salah, ia memanggil pernyataan standar () (versi debug), dan juga keluar dari fungsi saat ini dengan mengembalikan <b>ReturnValue</b> (versi debug dan rilis). <br><br>  3) <b>VERIFY_THROW (Ketentuan, Pengecualian);</b> <br><br>  Memeriksa kondisi <b>Kondisi</b> dan jika itu salah, maka ia memanggil pernyataan standar () (versi debug), dan juga melempar <b>Pengecualian</b> (versi debug dan rilis). <br><br>  4) <b>VERIFY_DO (Kondisi) {/ * blok gagal * /};</b> <br><br>  Memeriksa kondisi <b>Kondisi</b> dan jika itu salah, ia memanggil pernyataan standar () (versi debug), dan juga melakukan <b>blok gagal</b> atau operasi segera setelah makro (versi debug dan rilis). <br><br>  Untuk semua makro, penting: <br><br><ul><li>  Dalam semua kasus, <b>Ketentuan</b> harus benar untuk "melewati" makro dan false untuk mengaktifkan jalur penanganan kesalahan minimal. </li><li>  Setiap makro mengimplementasikan beberapa metode minimal penanganan kesalahan.  Ini diperlukan untuk menerapkan perilaku jika terjadi kesalahan yang tidak terdeteksi selama pengujian, tetapi terjadi pada pengguna.  Bergantung pada implementasinya, Anda dapat memberi tahu pengembang tentang kesalahan yang terjadi pada klien, tetapi juga setiap implementasi menyediakan cara minimal untuk pulih dari kesalahan. </li></ul><br><h3>  Pola Penggunaan Makro </h3><br>  Tentu saja, hal yang paling menarik adalah bahwa supermen entropi (pahlawan mengurangi kesalahan dalam program) adalah penggunaan makro ini. <br><br>  1) Kondisi sebelum dan sesudah. <br><br>  Kasus penggunaan pertama adalah kondisi sebelum dan sesudah.  Biarkan saya mengingatkan Anda bahwa pra kondisi memeriksa keadaan program (masukan argumen, keadaan objek, variabel yang digunakan) untuk kepatuhan dengan persyaratan yang diperlukan dari fragmen kode yang dieksekusi.  Kondisi pos (mereka kurang umum dalam program) dimaksudkan untuk memverifikasi bahwa kami telah mencapai hasil yang diinginkan dan bahwa keadaan objek tetap valid untuk fragmen kode saat ini. <br><br>  Penggunaan makro yang diusulkan sangat mudah - kami menetapkan setiap pemeriksaan dalam makro yang terpisah.  Kami memilih makro berdasarkan penanganan kesalahan apa yang kami butuhkan.  (VERIFY_EXIT () - pemrosesan kesalahan dengan keluar dari fungsi ini, VERIFY_RETURN () - pemrosesan kesalahan dengan pengembalian nilai, VERRIFY_THROW () - pemrosesan kesalahan dengan pengecualian, dll.) <br><br>  Anda juga dapat menambahkan atau menggunakan makro VERIFY (), yang tidak akan melakukan penanganan kesalahan.  Ini dapat bermanfaat, misalnya dalam kondisi posting di akhir fungsi. <br><br>  Makro ini sepenuhnya mandiri jika Anda menggunakan prinsip-prinsip kode murni dan mengalokasikan cukup fungsi untuk mengimplementasikan aksi atom.  Setiap fungsi dapat memeriksa keadaan suatu objek, memasukkan argumen, dll.  untuk melakukan aksi atomnya. <br><br>  2) Semantik dari suatu transaksi. <br><br>  Juga, makro ini dapat digunakan untuk mengimplementasikan kode dengan semantik transaksi.  Semantik tersebut dipahami sebagai: 1) persiapan bertahap untuk operasi dengan verifikasi hasil masing-masing tahap persiapan;  2) pelaksanaan tindakan hanya jika semua tahap persiapan berhasil;  3) penolakan untuk dipenuhi, jika beberapa kondisi tidak terpenuhi pada tahap persiapan (dengan kemungkinan rollback dari implementasi). <br><br>  3) Merancang kode, dengan mempertimbangkan kemungkinan ekstensi. <br><br>  Ini terutama berlaku untuk perpustakaan dan kode umum, yang awalnya dapat dikembangkan dalam konteks kondisi eksekusi tunggal, dan kemudian dapat mulai digunakan dengan kondisi lain (mulai digunakan secara berbeda).  Dalam hal ini, makro ini dapat menggambarkan "batas" dari fungsionalitas kode.  Tentukan apa yang awalnya dilihat sebagai kesalahan dan apa yang berhasil.  (Pendekatan ini dekat dengan kondisi pra posting klasik.) Tentu saja, saya menulis "batas" dalam tanda kutip, karena  batas-batas ini dapat direvisi, tetapi penting untuk menentukan (atau lebih tepatnya meneruskan ke pengembang masa depan) pengetahuan tentang batas-batas desain kode yang dapat diterima. <br><br><h3>  Implementasi makro </h3><br>  Saya berasumsi bahwa sebagian besar pengembang tingkat menengah tidak akan memiliki masalah menerapkan makro ini.  Tetapi jika Anda membutuhkan informasi, maka saya akan mencurahkan beberapa poin penting. <br><br>  Makro harus dapat direpresentasikan sebagai satu pernyataan.  Apa yang dapat dilakukan dengan do {} while (false) constructs atau serupa.  Misalnya, seperti ini: <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> VERFY_EXIT(cond) \ do{bool _= (bool)(cond); assert(_); </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta">(!_) {return;}} while(false) \ </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/*end macro VERIFY_EXIT()*/</span></span></span></span></code> </pre> <br>  Kemudian Anda dapat menulis kode berikut: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(a &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) VERIFY_EXIT(a%<span class="hljs-number"><span class="hljs-number">2</span></span>==<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br>  Tentu saja, ini hanya salah satu kemungkinan implementasi.  Anda dapat mengimplementasikan makro dengan cara lain. <br><br>  PS Pertempuran sukses dengan entropi, supermen! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id439172/">https://habr.com/ru/post/id439172/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id439160/index.html">Keadaan algoritme: apa yang terjadi pada pengembang indie di Steam?</a></li>
<li><a href="../id439162/index.html">Cara men-debug frontend dan backend: petunjuk langkah demi langkah</a></li>
<li><a href="../id439166/index.html">mmWave dalam perjalanan menuju komersialisasi dalam faktor bentuk ponsel cerdas</a></li>
<li><a href="../id439168/index.html">Sistem analisis klien</a></li>
<li><a href="../id439170/index.html">Operator seluler akan membantu bank memverifikasi keakuratan data pelanggan</a></li>
<li><a href="../id439174/index.html">Safe Internet Day: ancaman apa yang harus dicari di 2019</a></li>
<li><a href="../id439176/index.html">Kirim email dengan lampiran oleh JavaMailSender dari SpringFramework</a></li>
<li><a href="../id439180/index.html">Tantangan Rekko</a></li>
<li><a href="../id439182/index.html">Bagaimana kami mendistribusikan pesanan antar driver di Yandex.Taxi</a></li>
<li><a href="../id439184/index.html">Ubah kata sandi Anda: menguji kebijakan kata sandi layanan web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>