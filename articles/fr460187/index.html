<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♀️ 👩🏼‍🌾 👨🏿‍🎤 Imaginez vos données avant de les collecter. 👩🏻‍💼 🆘 ❌</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La traduction a été préparée pour les étudiants du cours «Applied Analytics on R» . 



 En tant que scientifique des données, nous recevons souvent u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Imaginez vos données avant de les collecter.</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/460187/"><p><img src="https://habrastorage.org/webt/ve/ib/q2/veibq2btwfqy86yjeth-6xppems.png"></p><br><p>  <em>La traduction a été préparée pour les étudiants du cours <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«Applied Analytics on R»</a> .</em> </p><br><hr><br><p>  En tant que scientifique des données, nous recevons souvent un ensemble de données et nous sommes invités à l'utiliser pour obtenir des informations.  Nous utilisons R pour le traitement, la visualisation, la modélisation, la préparation de tableaux et de graphiques pour partager les résultats ou les publier.  Si nous regardons les données de cette façon, peu importe d'où elles proviennent.  La taille de l'échantillon, l'ensemble des fonctionnalités et leurs échelles sont fixes.  Cependant, les procédures utilisées pour collecter ou générer des données sont extrêmement importantes pour une analyse future, ainsi que pour la qualité des informations que nous pouvons finalement obtenir.  Le processus de collecte de données influence la façon dont les données doivent être analysées.  Pour les études qui mesurent la causalité, il est important de savoir quelles données doivent être prises en compte et lesquelles ne le sont pas. <a name="habracut"></a></p><br><p>  Étant donné que ces processus sont très importants, nous voulions créer un outil qui aiderait les scientifiques et autres chercheurs à <strong>présenter (émuler)</strong> leurs données <strong>avant</strong> qu'elles ne soient collectées, afin que tout changement dans la phase de collecte de données puisse être effectué avant qu'il ne soit trop tard. </p><br><p>  Si les données sont déjà collectées, l'outil vous permet d'imaginer vos données avant de les analyser.  Lorsque nous prenons des décisions sur le traitement et la modélisation des données en fonction des résultats que nous obtenons de chaque opération, ou que nous utilisons des modèles statistiques, nous sommes inconsciemment vulnérables à des biais tels que le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«jardin de chemins divergents» ou le piratage informatique</a> , qui peuvent nous amener à choisir la procédure d'analyse qui donnera le meilleur résultat.  Nous utilisons des données réelles parce que nous n'avons pas de bonne alternative: il n'y a pas de données avec la même structure et les mêmes caractéristiques que nous avons collectées. </p><br><p>  Cet article présente le package <em>fabricatr</em> (de la suite de packages <em>DeclareDesign</em> ), dont le rôle est de modéliser la structure et les fonctionnalités des données.  Voir une revue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DeclareDesign sur RViews</a> décrivant sa philosophie.  <em>Fabricatr</em> vous aide à réfléchir à vos données avant de commencer l'analyse ou même la collecte.  Quel genre de données?  Comment sont-ils structurés?  Quelles mesures allez-vous prendre?  Quelles sont leurs gammes et comment sont-elles corrélées?  <em>fabricatr</em> peut vous aider à simuler des données factices avant de collecter des données réelles et à tester diverses stratégies d'évaluation sans vous soucier de modifier vos hypothèses. </p><br><h1 id="predstavte-sebe-vashu-strukturu-dannyh">  Imaginez votre structure de données </h1><br><p>  Dans le cas le plus simple, <em>fabricatr</em> créera une structure de données à un niveau avec une quantité donnée. </p><br><pre><code class="plaintext hljs">library(fabricatr) fabricate(N = 100, temp_fahrenheit = rnorm(N, mean = 80, sd = 20)) ## Warning: `is_lang()` is deprecated as of rlang 0.2.0. ## Please use `is_call()` instead. ## This warning is displayed once per session. ## Warning: `lang_name()` is deprecated as of rlang 0.2.0. ## Please use `call_name()` instead. ## This warning is displayed once per session.</code> </pre> <br><div class="scrollable-table"><table><thead><tr><th>  Identifiant </th><th>  TEMP_FAHRENHEIT </th></tr></thead><tbody><tr><td>  001 </td><td>  56,6 </td></tr><tr><td>  002 </td><td>  46,3 </td></tr><tr><td>  003 </td><td>  90,5 </td></tr><tr><td>  004 </td><td>  75,1 </td></tr><tr><td>  005 </td><td>  85,1 </td></tr><tr><td>  006 </td><td>  102,8 </td></tr></tbody></table></div><br><p>  Les données sociologiques sont souvent <strong>hiérarchisées</strong> .  Par exemple, dans les écoles, il y a des classes, dans les classes, il y a des élèves.  En utilisant la commande <strong>add_level,</strong> <em>fabricatr</em> résoudra également ce problème.  Par défaut, les nouveaux niveaux sont imbriqués dans des niveaux supérieurs. </p><br><pre> <code class="plaintext hljs">library(fabricatr) fabricate( # five schools school = add_level(N = 5, n_classrooms = sample(10:15, N, replace = TRUE)), # 10 to 15 classrooms per school classroom = add_level(N = n_classrooms), # 15 students per classroom student = add_level(N = 15) ) ## Warning: `lang_modify()` is deprecated as of rlang 0.2.0. ## Please use `call_modify()` instead. ## This warning is displayed once per session.</code> </pre> <br><div class="scrollable-table"><table><thead><tr><th>  ÉCOLE </th><th>  N_CLASSROOMS </th><th>  SALLE DE CLASSE </th><th>  ÉTUDIANT </th></tr></thead><tbody><tr><td>  1 </td><td>  12 </td><td>  01 </td><td>  001 </td></tr><tr><td>  1 </td><td>  12 </td><td>  01 </td><td>  002 </td></tr><tr><td>  1 </td><td>  12 </td><td>  01 </td><td>  003 </td></tr><tr><td>  1 </td><td>  12 </td><td>  01 </td><td>  004 </td></tr><tr><td>  1 </td><td>  12 </td><td>  01 </td><td>  005 </td></tr><tr><td>  1 </td><td>  12 </td><td>  01 </td><td>  006 </td></tr></tbody></table></div><br><p>  Dans le monde réel, des hiérarchies erratiques et se chevauchant apparaissent souvent.  Par exemple, les données sur les élèves peuvent être obtenues à la fois au lycée et au lycée.  Dans ce cas, les élèves seront dans deux écoles différentes et ces écoles ne seront pas connectées entre elles.  Vous trouverez ci-dessous un exemple de création de données "croisées".  Le paramètre <strong>rho</strong> détermine le degré de <strong>corrélation entre primary_rank</strong> et <strong>second_rank</strong> . </p><br><pre> <code class="plaintext hljs">dat &lt;- fabricate( primary_schools = add_level(N = 5, primary_rank = 1:N), secondary_schools = add_level(N = 6, secondary_rank = 1:N, nest = FALSE), students = link_levels(N = 15, by = join(primary_rank, secondary_rank, rho = 0.9)) ) ## `link_levels()` calls are faster if the `mvnfast` package is installed. ggplot(dat, aes(primary_rank, secondary_rank)) + geom_point(position = position_jitter(width = 0.1, height = 0.1), alpha = 0.5) + theme_bw()</code> </pre> <br><p><img src="https://habrastorage.org/webt/la/8r/9w/la8r9wsmjaezp0piyzt_itlmt8c.png"></p><br><p>  De même, vous pouvez générer des données longitudinales via <strong>cross_levels</strong> : </p><br><pre> <code class="plaintext hljs">fabricate( students = add_level(N = 2), years = add_level(N = 20, year = 1981:2000, nest = FALSE), student_year = cross_levels(by = join(students, years)) )</code> </pre> <br><div class="scrollable-table"><table><thead><tr><th>  ÉTUDIANTS </th><th>  ANS </th><th>  Année </th><th>  STUDENT_YEAR </th></tr></thead><tbody><tr><td>  1 </td><td>  01 </td><td>  1981 </td><td>  01 </td></tr><tr><td>  2 </td><td>  01 </td><td>  1981 </td><td>  02 </td></tr><tr><td>  1 </td><td>  02 </td><td>  1982 </td><td>  03 </td></tr><tr><td>  2 </td><td>  02 </td><td>  1982 </td><td>  04 </td></tr><tr><td>  1 </td><td>  03 </td><td>  1983 </td><td>  05 </td></tr><tr><td>  2 </td><td>  03 </td><td>  1983 </td><td>  06 </td></tr></tbody></table></div><br><h1 id="predstavte-sebe-vashi-priznaki">  Imaginez vos signes </h1><br><p>  R possède de nombreux excellents outils de modélisation des fonctionnalités.  Cependant, dans certains cas, les types habituels de variables sont étonnamment difficiles à modéliser.  <em>Fabricatr</em> possède un petit nombre de fonctions avec une syntaxe simple pour créer des attributs avec des types couramment utilisés.  Nous décrivons ici deux exemples, le reste est dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> . </p><br><h3 id="priznaki-s-vnutriklassovoy-korrelyaciey">  Attributs avec corrélation intraclasse </h3><br><p>  À l'aide des outils décrits ci-dessus, vous pouvez créer des données présentant des variations intra-bloc et inter-bloc, par exemple des variations dans les salles de classe et des variations entre les salles de classe.  Dans de nombreux cas, il est nécessaire d'établir plus précisément le niveau de corrélation intra-classe (ICC).  Ici, <strong>draw_normal_icc</strong> et <strong>draw_binary_icc vous</strong> aideront. </p><br><pre> <code class="plaintext hljs">dat &lt;- fabricate( N = 1000, clusters = sample(LETTERS, N, replace = TRUE), Y1 = draw_normal_icc(clusters = clusters, ICC = .2), Y2 = draw_binary_icc(clusters = clusters, ICC = .2) ) ICC::ICCbare(clusters, Y1, dat) ## [1] 0.09726701 ICC::ICCbare(clusters, Y2, dat) ## [1] 0.176036</code> </pre> <br><h3 id="uporyadochennye-rezultaty">  Résultats ordonnés </h3><br><p>  Nous avons également des outils pour les variables aléatoires discrètes (y compris les résultats ordonnés).  Nous prenons une variable latente (par exemple <strong>test_ability</strong> ) et la convertissons en un attribut ordonné ( <strong>test_score</strong> ). </p><br><pre> <code class="plaintext hljs">dat &lt;- fabricate( N = 100, test_ability = rnorm(N), test_score = draw_ordered(test_ability, breaks = c(-.5, 0, .5)) ) ggplot(dat, aes(test_ability, test_score)) + geom_point() + theme_bw()</code> </pre> <br><p><img src="https://habrastorage.org/webt/aw/ca/6c/awca6c9axgxbeoc0cgd7x902aoi.png"></p><br><p>  <em>fabricatr est</em> compatible avec presque toutes les fonctions de création de variables R.  Dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article,</a> nous avons décrit quelques packages R impressionnants qui aident à imiter les attributs liés à la sociologie. </p><br><h1 id="kuda-idti-dalshe">  Où aller ensuite </h1><br><p>  Cet article est un aperçu de haut niveau des fonctionnalités de <em>fabricatr</em> .  Pour un examen plus approfondi, consultez l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Premiers pas avec fabricatr</a> . </p><br><p>  Vous pouvez installer <em>fabricatr</em> via CRAN: </p><br><pre> <code class="plaintext hljs">install.packages("fabricatr") library(fabricatr)</code> </pre> <br><hr><br><p>  Vous avez une question?  Écrivez dans les commentaires! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr460187/">https://habr.com/ru/post/fr460187/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr460175/index.html">Sémiotique en marketing: qu'est-ce que cela signifie pour votre marque</a></li>
<li><a href="../fr460177/index.html">Capteur de fuite d'eau sans fil sur nRF52832, projet de bricolage</a></li>
<li><a href="../fr460179/index.html">LEAN + AGILE = AGILEAN ou nous collectons le tout en plusieurs parties</a></li>
<li><a href="../fr460181/index.html">Améliorez vos connaissances JavaScript en analysant le code source</a></li>
<li><a href="../fr460185/index.html">Service en ligne "Analyse de vitesse des accidents par vidéo"</a></li>
<li><a href="../fr460189/index.html">14 meilleurs outils de tableau Kanban en 2019</a></li>
<li><a href="../fr460191/index.html">Arrêtez la ligne ou pompez votre pipeline, yo</a></li>
<li><a href="../fr460193/index.html">Surveillance de l'expiration des certificats sous Windows sur NetXMS</a></li>
<li><a href="../fr460195/index.html">Petit, oui, supprimé: un accélérateur de particules linéaire miniature, établissant un nouveau record</a></li>
<li><a href="../fr460197/index.html">Club technique moderne pour enfants VS COSTUMES soviétiques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>