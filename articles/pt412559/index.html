<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî™ üéø üëï Contrato inteligente como uma amea√ßa de seguran√ßa para inicializa√ß√£o de blockchain üõçÔ∏è üë®üèº‚Äçüíª üç¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Segundo o site oficial , os contratos inteligentes da Ethereum s√£o executados ‚Äúexatamente conforme programado, sem possibilidade de inatividade, censu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Contrato inteligente como uma amea√ßa de seguran√ßa para inicializa√ß√£o de blockchain</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/412559/"><p>  Segundo o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">site oficial</a> , os contratos inteligentes da Ethereum s√£o executados ‚Äúexatamente conforme programado, sem possibilidade de inatividade, censura, fraude ou interfer√™ncia de terceiros‚Äù.  Hoje, tentarei descobrir se tudo √© t√£o otimista, tendo examinado alguns dos problemas que os usu√°rios inteligentes de contratos enfrentam na pr√°tica. </p><br><p>  No final do artigo, resumi meus pensamentos com um breve guia para escrever contratos inteligentes e seguros. </p><br><p><img src="https://habrastorage.org/webt/tm/km/3c/tmkm3czjvvcrgcylejipvz9f4oa.png" alt="imagem"></p><a name="habracut"></a><br><h2 id="remarki">  Observa√ß√µes </h2><br><ol><li>  Este artigo focar√° apenas nos contratos inteligentes da Ethereum.  A comunidade identificou tacitamente os contratos inteligentes com os contratos inteligentes da Ethereum.  Enquanto isso, o primeiro √© mais um conceito, e o segundo √© a implementa√ß√£o, e a quest√£o de como essa implementa√ß√£o atende ao conceito pode ser discutida (bem como, em princ√≠pio, o pr√≥prio conceito de contratos inteligentes e outras implementa√ß√µes poss√≠veis).  Este t√≥pico √© complexo, subestimado e interessante, mas este n√£o √© o t√≥pico deste artigo, por isso vou referir os interessados ‚Äã‚Äãnos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">trabalhos de Nick Szabo</a> .  Assim, em todo o lado, onde digo "contratos inteligentes", na verdade quero dizer "contratos inteligentes Ethereum". </li><li>  O artigo focar√° apenas a linguagem dos contratos inteligentes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Solidity</a> como o mais popular e, para o usu√°rio do Ethereum, de fato, o √∫nico no momento. </li></ol><br><h2 id="problemy-bezopasnosti-smart-kontraktov">  Problemas de seguran√ßa de contrato inteligente </h2><br><p>  Ser√° sobre os problemas que os desenvolvedores de contratos inteligentes enfrentam no final, e n√£o sobre a seguran√ßa da pr√≥pria plataforma (embora um pouco sobre isso).  Convencionalmente, dividimos esses problemas nos seguintes tipos: </p><br><ol><li>  problemas no c√≥digo do contrato inteligente; </li><li>  problemas no processo de desenvolvimento; </li><li>  problemas na linguagem; </li><li>  problemas no conceito. </li></ol><br><h3 id="1-problemy-v-kode-smart-kontrakta">  1. Problemas no c√≥digo do contrato inteligente </h3><br><p>  Por problemas no c√≥digo de um contrato inteligente aqui, quero dizer problemas resolvidos com a edi√ß√£o do arquivo .sol.  Isto √© em particular: </p><br><ul><li>  Constru√ß√µes vulner√°veis ‚Äã‚Äãconhecidas (por exemplo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">, reentrada</a> ). <br>  <u>Exemplo de vida</u> : reentrada ou, mais amplamente, viola√ß√£o do padr√£o Cheques-Efeitos-Intera√ß√µes - at√© mesmo vulnerabilidades amplamente conhecidas (e previamente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">exploradas</a> ) continuam sendo encontradas em novos contratos. </li><li> Constru√ß√µes vulner√°veis ‚Äã‚Äãdo autor (em particular, erros na l√≥gica do c√≥digo). <br>  <u>Exemplo de vida</u> : uma carteira MultiSig que na verdade n√£o √© uma MultiSig.  Para assinar uma transa√ß√£o e transferir fundos, voc√™ precisa do n√∫mero de assinaturas dos propriet√°rios da carteira igual ao <code>required</code> .  Ao mesmo tempo, para alterar o <code>required</code> (por exemplo, por um, para assinar mais transa√ß√µes por si mesmo), basta a assinatura de um dos propriet√°rios: </li></ul><br><p><img src="https://habrastorage.org/webt/aq/_l/1o/aq_l1oidjbyqkeo4km8uciij6ag.png" alt="imagem"><br><img src="https://habrastorage.org/webt/v7/lw/bo/v7lwbog3xrhkuzfq-vcgsp6jp88.png" alt="imagem"></p><br><ul><li>  Arquitetura ruim. <br>  <u>Exemplo de vida</u> : uma tentativa de implementar um token, uma carteira e um armazenamento de chaves em um √∫nico contrato.  O contrato acaba por ser excessivamente complicado, o c√≥digo √© dif√≠cil de manter, auditar, modificar.  Como resultado, a seguran√ßa tamb√©m sofre. </li><li>  C√≥digo de baixa qualidade. <br>  <u>Exemplo de vida</u> : contratos com recuos diferentes, quebras de linha arbitr√°rias e espa√ßos.  O c√≥digo √© dif√≠cil de ler, o que significa que a seguran√ßa sofre novamente.  Apesar do fato de j√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">existirem</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">linters</a> para Solidity ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Solium</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Solhit</a> ). </li></ul><br><p><img src="https://habrastorage.org/webt/px/7t/p_/px7tp_clvkugmymx3sfbiglshcw.png" alt="imagem"><br><img src="https://habrastorage.org/webt/jh/kc/fx/jhkcfxrd23sw_bfiyfvgb4od3h8.png" alt="imagem"></p><br><p>  Problemas no c√≥digo levam diretamente a ataques e perda de fundos.  A boa not√≠cia √© que os problemas de c√≥digo podem ser identificados durante o processo de auditoria e resolvidos.  √â importante entender de onde eles v√™m para evit√°-los no futuro.  Portanto, passamos ao pr√≥ximo par√°grafo. </p><br><h3 id="2-problemy-v-processe-razrabotki">  2. Problemas no processo de desenvolvimento </h3><br><p>  Os problemas no c√≥digo s√£o causados ‚Äã‚Äãprincipalmente por um processo de desenvolvimento criado incorretamente.  Parece que o desenvolvimento de software √© um neg√≥cio estudado h√° muito tempo com as melhores pr√°ticas estabelecidas.  No entanto, os jovens da √°rea de contratos inteligentes, dinheiro desproporcionalmente grande e hype levam ao fato de que as pessoas, por um motivo ou outro, negligenciam os procedimentos padr√£o, o que geralmente leva a problemas s√©rios.  Das mais t√≠picas, vale ressaltar: </p><br><ul><li>  TK: A maioria dos contratos inteligentes da Ethereum s√£o escritos sem uma tarefa t√©cnica.  Para o que isso pode levar, para explicar desnecessariamente. </li><li>  Tempo: em m√©dia, muito pouco tempo √© alocado para o desenvolvimento, cerca de um m√™s.  Um exemplo extremo da minha pr√°tica: o cliente pediu ao desenvolvedor que escrevesse um contrato inteligente tr√™s dias antes da OIC. </li><li>  N√≠vel de desenvolvedor: muitas pessoas entram em campo, inclusive sem um hist√≥rico de programa√ß√£o. </li><li>  Entendendo o ecossistema: e mesmo que com um hist√≥rico, geralmente os desenvolvedores n√£o est√£o profundamente imersos no t√≥pico e n√£o entendem as especificidades dos contratos inteligentes. </li><li>  Custo de desenvolvimento: e, no entanto, aqueles que escrevem contratos inteligentes s√£o poucos;  menos ainda quem os escreve bem.  Da√≠ o custo irracionalmente alto do desenvolvimento. </li></ul><br><h3 id="3-problemy-v-yazyke">  3. Problemas no idioma </h3><br><p>  Adiciona alcatr√£o √† linguagem do Solidity.  Inicialmente, ele foi criado mais para que pudesse ser rapidamente dominado por um grande n√∫mero de pessoas, do que para tornar conveniente a cria√ß√£o de contratos inteligentes e seguros.  Aqui est√£o apenas alguns dos recursos que interferem na seguran√ßa: </p><br><ul><li>  Heran√ßa m√∫ltipla, <code>using for</code> , <code>call</code> / <code>delegate call</code> - tudo isso inicia o c√≥digo, n√£o da fonte atual, o que significa que reduz a legibilidade e, como resultado, a seguran√ßa do c√≥digo. </li><li>  Padr√£o Cheques-Efeitos-Intera√ß√µes - se constru√ß√µes que violam a CEI n√£o s√£o seguras, por que n√£o proibi-las (e muitas outras) simplesmente no n√≠vel do idioma? </li><li>  Ao chamar outro contrato, voc√™ pode repentinamente cair na fun√ß√£o de fallback com consequ√™ncias inesperadas. </li></ul><br><p>  √â claro que o projeto Ethereum est√° em desenvolvimento e √© imposs√≠vel levar tudo em conta com anteced√™ncia.  Mas, no final, os desenvolvedores s√£o for√ßados a se lembrar de muitos recursos e a usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">muletas</a> para garantir seu contrato inteligente. </p><br><h3 id="4-problemy-v-koncepcii">  4. Problemas no conceito </h3><br><p>  No entanto, o problema mais s√©rio √© ainda mais profundo - que muitos n√£o entendem bem o porqu√™ de contratos inteligentes serem necess√°rios, o que podem, o que n√£o podem e como funcionam.  Na pior das hip√≥teses, isso leva ao fato de que o contrato inteligente: </p><br><ol><li><p>  N√£o √© inteligente: </p><br><ul><li>  Mal escrito - faz o que est√° escrito, mas n√£o o que se destina. </li><li>  Est√° fortemente vinculado ao back-end e / ou front-end - e esse c√≥digo n√£o √© mais um contrato inteligente, √© executado da maneira usual e sua implementa√ß√£o √© completamente controlada pelo administrador do servidor. </li></ul><br></li><li><p>  N√£o √© um contrato: </p><br><ul><li>  Ele n√£o registra as obriga√ß√µes das partes - por exemplo, a OIC vende seus tokens pela ETH, mas os tokens s√£o essencialmente embalagens de doces, porque  n√£o imponha a quem os libertou quaisquer restri√ß√µes ou obriga√ß√µes. </li><li>  Permite altera√ß√µes unilaterais - e uma das partes pode alterar o contrato ap√≥s sua assinatura. <br><br>  <u>Exemplo de vida</u> : o propriet√°rio do contrato pode alterar arbitrariamente a capitaliza√ß√£o, taxa e dura√ß√£o da venda do token: <br><br><img src="https://habrastorage.org/webt/ed/yg/me/edygmenuif3ox1rks29xna0w_ai.png" alt="imagem"></li></ul><br></li><li><p>  N√£o √© necess√°rio: </p><br><ul><li>  O contrato inteligente foi adicionado n√£o porque era tecnicamente necess√°rio, mas na tentativa de descobrir o que fazer nos contratos inteligentes e gerar uma onda de hype; </li><li>  Tentamos descobrir como vincular contratos inteligentes a um produto existente. <br><br><img src="https://habrastorage.org/webt/vz/sp/dk/vzspdktp77hjgk7ntmbbpau5qzm.png" alt="imagem"></li></ul><br></li></ol><br><h2 id="smart-kontrakt-kak-ugroza-bezopasnosti-blokcheyn-startapa">  Contrato inteligente como uma amea√ßa de seguran√ßa para inicializa√ß√£o de blockchain </h2><br><p>  Qual √© o resultado?  Eles queriam que fosse moda, segura, blockchain, mas temos um c√≥digo caro e n√£o suportado, que amea√ßa a seguran√ßa e n√£o √© necess√°rio.  Quer√≠amos que nossos contratos inteligentes fossem executados ‚Äúexatamente como programado, sem possibilidade de tempo de inatividade, censura, fraude ou interven√ß√£o de terceiros‚Äù e, no final, eles realmente s√£o executados conforme s√£o escritos - eles s√£o apenas escritos com vulnerabilidade.  E tudo o que resta para n√≥s √© agitar uma caneta √† nossa maneira.  Bem, ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fazer um trabalho duro</a> (com isso desacreditando a id√©ia original) se os criadores do Ethereum perderem dinheiro devido √† vulnerabilidade. </p><br><p><img src="https://habrastorage.org/webt/sn/x5/zv/snx5zvymhlnhuavsagciubxbrfc.png" alt="imagem"></p><br><h2 id="kak-pisat-bezopasnye-smart-kontrakty">  Como escrever contratos inteligentes seguros </h2><br><p>  De fato, √© claro, nem tudo √© t√£o ruim.  Eu apenas exagerei na tentativa de chamar a aten√ß√£o para alguns pontos importantes, na minha opini√£o,.  Em geral, a √°rea est√° se desenvolvendo, as pessoas est√£o aprendendo, incluindo a seguran√ßa. </p><br><p>  Se o leitor decidir escrever um contrato inteligente, aconselho: </p><br><ul><li>  entender por que um contrato inteligente √© necess√°rio (e se √© necess√°rio); </li><li>  receber do cliente ou escrever TK; </li><li>  calcular tempo; </li><li>  use ferramentas de desenvolvimento e teste ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Trufa</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Remix</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SmartCheck</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Solhint</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Solium</a> ); </li><li>  escrever testes; </li><li>  realizar v√°rias auditorias independentes e recompensas por bugs; </li><li>  monitorar a seguran√ßa dos demais componentes do projeto (site, Twitter, etc.). </li></ul><br><p>  Seguindo essas recomenda√ß√µes simples, voc√™ pode evitar a maioria dos problemas descritos acima (de um garfo r√≠gido, no entanto, isso ainda n√£o ser√° salvo). </p><br><p>  O artigo foi criado em conjunto com Eugene Marchenko ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">eMarchenko</a> ). </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt412559/">https://habr.com/ru/post/pt412559/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt412549/index.html">O mesmo tipo de m√©todos? Pare de escrever</a></li>
<li><a href="../pt412551/index.html">Copie o texto da √°rea de transfer√™ncia para dispositivos Android via ADB</a></li>
<li><a href="../pt412553/index.html">O resumo de eventos para profissionais de RH na √°rea de TI em junho de 2018</a></li>
<li><a href="../pt412555/index.html">Engrenagem magn√©tica para motor sem escova</a></li>
<li><a href="../pt412557/index.html">Como criar seu pr√≥prio bot sem habilidades de programa√ß√£o e conect√°-lo ao Yandex.</a></li>
<li><a href="../pt412561/index.html">Engenharia reversa do firmware do dispositivo usando o exemplo de um "rinoceronte" intermitente. Parte 2</a></li>
<li><a href="../pt412565/index.html">Quadrinhos sobre administradores de sistemas: toda a vida brilhou diante dos meus olhos</a></li>
<li><a href="../pt412571/index.html">Kubernetes hist√≥rias de sucesso em produ√ß√£o. Parte 9: Clusters CERN e 210 K8s</a></li>
<li><a href="../pt412573/index.html">O que h√° de errado com o Geektimes retornar a Habr</a></li>
<li><a href="../pt412575/index.html">Todos os anos, a m√∫sica pop se torna cada vez mais mon√≥tona, porque as mesmas pessoas a comp√µem</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>