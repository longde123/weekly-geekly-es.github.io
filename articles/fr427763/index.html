<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤶🏽 👨🏼‍🏫 ☂️ Cours MIT "Sécurité des systèmes informatiques". Conférence 13: Protocoles réseau, partie 1 🔑 🚸 🗼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "Sécurité des systèmes informatiques." Nikolai Zeldovich, James Mickens. 2014 année...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "Sécurité des systèmes informatiques". Conférence 13: Protocoles réseau, partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427763/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "Sécurité des systèmes informatiques."  Nikolai Zeldovich, James Mickens.  2014 année </h3><br>  Computer Systems Security est un cours sur le développement et la mise en œuvre de systèmes informatiques sécurisés.  Les conférences couvrent les modèles de menace, les attaques qui compromettent la sécurité et les techniques de sécurité basées sur des travaux scientifiques récents.  Les sujets incluent la sécurité du système d'exploitation (OS), les fonctionnalités, la gestion du flux d'informations, la sécurité des langues, les protocoles réseau, la sécurité matérielle et la sécurité des applications Web. <br><br>  Cours 1: «Introduction: modèles de menace» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 2: «Contrôle des attaques de pirates» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 3: «Débordements de tampon: exploits et protection» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 4: «Séparation des privilèges» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 5: «D'où viennent les systèmes de sécurité?» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  Conférence 6: «Opportunités» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 7: «Native Client Sandbox» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 8: «Modèle de sécurité réseau» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 9: «Sécurité des applications Web», <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <br>  Conférence 10: «Exécution symbolique» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 11: «Ur / Web Programming Language» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 12: Sécurité du réseau, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <br>  Conférence 13: «Protocoles réseau», <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <a name="habracut"></a><br><br>  Donc, aujourd'hui, nous allons parler de Kerberos, un protocole cryptographiquement sécurisé conçu pour l'authentification mutuelle des ordinateurs et des applications sur le réseau.  Il s'agit d'un protocole permettant d'authentifier le client et le serveur avant d'établir une connexion entre eux. <br><br>  Alors maintenant, enfin, nous allons utiliser la cryptographie, contrairement à la dernière conférence, où nous avons examiné la sécurisation en utilisant uniquement les numéros de séquence TCP SYN. <br><br><img src="https://habrastorage.org/webt/aa/sx/c6/aasxc6pngmsryrxcw221kdinbtu.jpeg"><br><br>  Parlons donc de Kerberos.  Qu'est-ce qui essaie de supporter ce protocole?  Il a été créé dans notre institut il y a 25 ou 30 ans dans le cadre du projet Athena pour assurer l'interaction de plusieurs ordinateurs serveurs et de plusieurs ordinateurs clients. <br><br>  Imaginez que vous ayez un serveur de fichiers quelque part.  Il s'agit peut-être d'un serveur de messagerie connecté au réseau ou d'autres services réseau, tels que des imprimantes.  Et tout cela est simplement connecté à un réseau et non à des processus sur un ordinateur. <br><br><img src="https://habrastorage.org/webt/iv/w_/pv/ivw_pvxrpvrfedxl-95hkfhy5sm.jpeg"><br><br>  La condition préalable à la création d'Athena et Kerberos était que vous disposiez d'une machine pour le partage simultané, où tout était un processus distinct, et tout le monde pouvait simplement se connecter au même système et y stocker leurs fichiers.  Par conséquent, les développeurs voulaient créer un système distribué plus pratique. <br><br><img src="https://habrastorage.org/webt/ls/8f/2o/ls8f2og9jdzweljujcwlz5zwtos.jpeg"><br><br>  Ainsi, cela signifiait que vous auriez ces serveurs d'un côté et un tas de postes de travail de l'autre côté que les utilisateurs utiliseraient eux-mêmes et sur lesquels les applications s'exécuteraient.  Ces postes de travail se connectent à ces serveurs et stockent les fichiers utilisateur, reçoivent leur courrier, etc. <br><br>  Le problème qu'ils voulaient résoudre était de savoir comment authentifier les utilisateurs qui utilisent ces postes de travail pour tous ces différents ordinateurs côté serveur, sans avoir à faire confiance au réseau et à vérifier son exactitude.  C'était à tous égards une exigence de conception raisonnable.  Je dois mentionner qu'à cette époque, l'alternative à Kerberos était l'équipe de connexion R, discutée dans la dernière conférence, ce qui semblait être un mauvais plan, car ils utilisent simplement leurs adresses IP pour authentifier les utilisateurs. <br><br>  Kerberos a connu un certain succès, il est en fait toujours utilisé sur le réseau MIT et est l'épine dorsale du serveur Active Directory de Microsoft.  Presque tous les produits basés sur Microsoft Windows Server utilisent Kerberos sous une forme ou une autre. <br><br>  Mais ce protocole a été développé il y a 25 ou 30 ans, et depuis lors, des changements ont été nécessaires, car les gens comprennent aujourd'hui beaucoup plus la sécurité.  Ainsi, la version actuelle de Kerberos est sensiblement différente à bien des égards de la version décrite dans les documents de cette conférence.  Nous examinerons quelles hypothèses particulières ne sont pas assez bonnes aujourd'hui et ce qui n'allait pas dans la première version.  Cela est inévitable pour le premier protocole qui a vraiment utilisé la cryptographie pour authentifier les participants du réseau dans un système complet. <br><br>  Dans tous les cas, le schéma représenté sur la carte est une sorte d'installation pour créer Kerberos.  Il est intéressant de savoir quel est le modèle de confiance.  Par conséquent, une structure supplémentaire est introduite dans notre schéma - le serveur Kerberos, situé ici sur le côté. <br><br><img src="https://habrastorage.org/webt/no/e5/qc/noe5qcc_mqihmsjrhd4u22btfyq.jpeg"><br><br>  Ainsi, notre troisième modèle est en quelque sorte basé sur le fait que le réseau n'est pas fiable, comme nous l'avons mentionné dans la dernière conférence.  À qui devons-nous faire confiance dans ce programme Kerberos?  Bien sûr, tous les participants au réseau doivent faire confiance au serveur Kerberos.  Ainsi, les créateurs du système ont suggéré à un moment donné que le serveur Kerberos serait responsable de toutes les vérifications de l'authentification réseau sous une forme ou une autre.  Que pouvons-nous faire d'autre sur ce réseau en qui vous pouvez avoir confiance? <br><br>  <b>Étudiant: les</b> utilisateurs peuvent faire confiance à leurs propres machines. <br><br>  <b>Professeur:</b> oui, c'est un bon argument.  Il y a des utilisateurs ici que je n'ai pas dessinés.  Mais ces gars-là utilisent une sorte de poste de travail, et en fait, dans Kerberos, il est très important que l'utilisateur fasse confiance à son poste de travail.  Que se passe-t-il si vous ne faites pas confiance à votre poste de travail?  Parce que si l'utilisateur ne fait pas confiance au poste de travail, vous pouvez simplement "flairer" votre mot de passe et agir en votre nom. <br><br><img src="https://habrastorage.org/webt/id/ca/m4/idcam4ic2nhjlimp1e7mseuhkug.jpeg"><br><br>  <b>Étudiant:</b> un attaquant peut faire bien plus, par exemple, en apprenant votre ticket sur le serveur Kerberos. <br><br>  <b>Professeur:</b> oui, exactement.  Lorsque vous vous connectez, vous entrez votre mot de passe, ce qui est encore pire qu'un ticket.  Donc en réalité, il y a un petit problème avec Kerberos si vous ne faites pas confiance au poste de travail.  Si vous utilisez votre propre ordinateur portable, ce n'est pas si effrayant, mais la sécurité d'un ordinateur public est mise en doute.  Nous examinerons ce qui peut mal tourner dans ce cas. <br><br>  <b>Étudiant:</b> vous devez faire confiance aux administrateurs de serveur et être sûr qu'ils peuvent avoir un accès privilégié aux serveurs les uns des autres. <br><br>  <b>Professeur:</b> Je pense que les machines elles-mêmes n'ont pas à se faire mutuellement confiance, par exemple, le serveur de messagerie n'a pas à faire confiance au serveur d'impression ou au serveur de fichiers. <br><br>  <b>Étudiant:</b> ne faites pas confiance, mais avez la possibilité d'accéder à un serveur auquel l'accès via un autre serveur n'est pas pris en charge. <br><br>  <b>Professeur:</b> oui, c'est vrai.  Si vous établissez une relation de confiance entre le serveur de messagerie et le serveur d'impression, mais donnez simplement au serveur de messagerie l'accès à vos fichiers sur le serveur de fichiers pour plus de commodité, cela peut être abusé.  Vous devez donc être prudent lorsque vous introduisez ici des niveaux de confiance supplémentaires ou des approbations redondantes. <br><br>  Quoi d'autre importe ici?  Les serveurs devraient-ils en quelque sorte faire confiance aux utilisateurs ou aux postes de travail?  Je suppose que non.  L'objectif global de Kerberos était que le serveur a priori ne devrait pas connaître tous ces utilisateurs ou postes de travail, ni savoir comment les authentifier, jusqu'à ce que ces utilisateurs puissent prouver de manière cryptographique qu'ils sont des utilisateurs légitimes et doivent avoir accès à leurs données ou quelque chose plus que le serveur ne gère. <br><br>  Voyons comment Kerberos fonctionne et quelle est son architecture générale.  Dessinons un serveur Kerberos à plus grande échelle.  De nos jours, il s'appelle KDC - Key Distribution Center, ou Key Providing Center.  Quelque part, il existe des utilisateurs et des services auxquels vous pouvez vous connecter.  Le plan est que le serveur Kerberos sera responsable du stockage de la clé partagée pour la communication entre le serveur Kerberos et chaque entité informatique dans le monde qui l'entoure.  Ainsi, si l'utilisateur possède une sorte de clé client Kc, le serveur Kerberos se souvient de cette clé et la stocke quelque part à l'intérieur de lui-même.  De la même manière, la clé Ks d'un service ne sera connue que de ce service lui-même, du serveur Kerberos et de personne d'autre.  Ainsi, vous pouvez le considérer comme une utilisation courante des mots de passe lorsque vous connaissez le mot de passe et que Kerberos le connaît, mais que personne d'autre ne le connaît. <br><br><img src="https://habrastorage.org/webt/zz/r5/te/zzr5tegw3kqrc5gnkfbjovkfido.jpeg"><br><br>  Voilà comment vous allez vous prouver que "je suis le même gars".  Bien sûr, le serveur Kerberos devra garder une trace de qui possède cette clé, il devrait donc avoir une table dans laquelle les noms d'utilisateur et les noms de service, par exemple, serv afs (il s'agit d'un serveur de fichiers), et les clés qui leur correspondent seront stockées. <br><br>  Dans le même temps, KDC est responsable du stockage d'une table géante, pas très grande en termes de nombre d'octets, mais très volumineuse en nombre d'enregistrements, car elle prend en compte toute entité informatique vivant dans le réseau MIT que le serveur Kerberos devrait connaître.  Ainsi, nous avons deux types d'interface. <br><br><img src="https://habrastorage.org/webt/o-/wu/rk/o-wurk1iestxze5fe8kj3pojzog.jpeg"><br><br>  Le matériel de cours n'en parle pas assez clairement, c'est-à-dire que l'existence de ces 2 interfaces est simplement implicite.  En fait, il y a vraiment deux interfaces pour une machine.  L'un d'eux s'appelle Kerberos et le second est TGS, Ticket Granting Service ou Ticket Service. <br><br>  En fait, en fin de compte, ce ne sont que deux façons de parler de la même chose, et le protocole n'est que légèrement différent pour ces deux choses.  Par conséquent, initialement, lorsqu'un utilisateur se connecte, il «parle» avec l'interface supérieure, Kerberos, et lui envoie son nom de client C, cela peut être votre nom d'utilisateur sur le réseau universitaire Athena. <br><br>  Le serveur répond à cette demande avec un ticket tgs ou des informations de ticket, nous discuterons un peu plus tard des détails de ces informations.  Ensuite, lorsque vous voulez discuter avec un service, vous devez d'abord aller sur l'interface TGS et lui dire: "Je me suis déjà connecté via l'interface Kerberos et maintenant je veux parler au serveur S, qui me fournira un certain service." <br><br>  Vous parlez donc à TGS du serveur auquel vous souhaitez parler, après quoi il vous reviendra quelque chose comme un ticket pour parler au serveur S. Ensuite, vous pourrez enfin parler au serveur dont vous avez besoin en utilisant le ticket reçu pour le serveur S. <br><br>  Il s'agit d'une sorte de plan de haut niveau.  Alors pourquoi 2 interfaces sont-elles utilisées ici?  Beaucoup de questions peuvent être posées à ce sujet.  Dans le cas du serveur Ks, ce service sera probablement stocké sur disque.  Et qu'advient-il de ce Kc côté utilisateur?  D'où vient ce Kc à Kerberos? <br><br><img src="https://habrastorage.org/webt/cs/7t/jk/cs7tjkqvcitmqxvwynwcq9-tbz8.jpeg"><br><br>  <b>Étudiant:</b> ce Kc doit être dans la base de données, dans la table du serveur KDC. <br><br>  <b>Professeur:</b> oui, eh bien, la clé C est ici dans le tableau, dans cette gigantesque base de données.  Mais il doit également être connu de l'utilisateur, car l'utilisateur doit prouver qu'il est un utilisateur. <br><br>  <b>Etudiant:</b> est-ce une fonction unidirectionnelle qui nécessite alors un mot de passe? <br><br>  <b>Professeur:</b> oui, ils ont en fait un plan si intelligent, où Kc est obtenu en hachant le mot de passe de l'utilisateur ou une sorte de fonction de génération de clés, il existe plusieurs méthodes différentes pour cela.  Mais en gros, nous prenons le mot de passe, le convertissons d'une manière ou d'une autre et obtenons cette clé Kc.  Cela semble donc être un bon moyen. <br><br>  Mais pourquoi avons-nous besoin de deux protocoles?  Après tout, vous pouvez imaginer que vous demandez simplement un ticket directement à partir de la première interface Kerberos, en lui disant: "hé, je veux un ticket pour ce nom particulier!", Il vous renverra le ticket, et vous pouvez le décrypter en utilisant Kc. <br><br>  <b>Étudiant:</b> peut-être ne veut-il pas que l'utilisateur ressaisisse son mot de passe à chaque fois qu'il souhaite accéder à un autre service? <br><br>  <b>Professeur:</b> vrai, la raison de la différence entre les deux interfaces est que depuis la première interface toutes les réponses sont retournées cryptées avec votre clé Kc, et les créateurs de Kerberos s'inquiétaient de la possibilité de conserver ce Kc pendant une longue période.  Parce que soit vous devez demander à l'utilisateur de saisir le mot de passe à chaque fois, ce qui est juste ennuyeux, soit il «reste» constamment dans la mémoire.  Fondamentalement, cela équivaut à un simple mot de passe utilisateur, car une personne disposant d'un accès Kc peut conserver l'accès aux fichiers de l'utilisateur jusqu'à ce que l'utilisateur modifie son mot de passe, voire plus.  Plus tard, nous examinerons cette question plus en détail. <br><br>  La fuite de cette clé Kc est donc une chose très dangereuse.  Ainsi, l'intérêt d'utiliser la première puis la deuxième interface pour toutes les requêtes suivantes est que vous pouvez réellement oublier Kc dès que vous déchiffrez la réponse de l'interface TGS du serveur Kerberos.  Désormais, même en cas de fuite de clé, la fonctionnalité dépendra du ticket reçu.  Donc, dans le pire des cas, quelqu'un aura accès à votre compte pendant quelques heures, et non pour une durée illimitée.  C'est la raison d'un tel schéma avec deux chemins d'accès aux mêmes ressources. <br><br>  Donc, avant de nous plonger dans la mécanique de l'apparence réelle de ces protocoles sur le réseau, parlons un peu de l'aspect des noms Kerberos.  Dans un sens, Kerberos peut être considéré comme un registre de noms.  Il est responsable de l'affichage de ces clés cryptographiques sous forme de noms en minuscules.  C'est le type d'opération fondamental que Kerberos effectue.  Vous verrez dans la prochaine conférence pourquoi nous avons besoin d'une fonction similaire.  Il peut être implémenté différemment de Kerberos, mais il est fondamentalement très important d'avoir une chose similaire dans presque tous les systèmes de sécurité distribués.  Voyons donc comment Kerberos gère les noms. <br><br>  Kerberos a quelque chose comme des appels système pour chaque entité informatique dans la base de données des membres du réseau, et la forme principale de ces données est juste une chaîne.  Vous pouvez donc avoir des noms de base sous une forme comme nickolai, par exemple.  Il s'agit de la chaîne de nom. <br><br><img src="https://habrastorage.org/webt/n4/wu/ym/n4wuymwkej2bg3mwkvlgm7tb60q.jpeg"><br><br>  C'est le paramètre principal dans une zone de Kerberos, en fait c'est la chose qui se trouve dans la colonne de gauche de la table KDC.  Et il existe également des paramètres supplémentaires pris en charge par le protocole.  Je pourrais, par exemple, entrer un autre nom comme nickolai.extra sec, qui serait utilisé en plus du nom nickolai pour accéder aux ressources qui ont besoin d'une sécurité supplémentaire.  Alors peut-être que j'aurai un mot de passe pour des choses vraiment sûres et un autre mot de passe pour mon compte régulier. <br><br>  Kerberos a mentionné cet aspect.  Par conséquent, on peut se demander - d'où vient l'impact?  Le service Kerberos mappe des noms pour vous à certaines clés, mais comment savoir quel nom demander ou quel nom attendre en réponse lorsque vous parlez à un ordinateur?  Autrement dit, je demande quels noms apparaissent en dehors du serveur Kerberos, ou où exactement ces noms d'utilisateurs apparaissent-ils?  Avez-vous des idées? <br><br>  <b>Étudiant:</b> vous pouvez probablement demander des noms d'utilisateur au serveur MIT. <br><br>  <b>Professeur:</b> oui, bien sûr.  Voici comment vous pouvez lister ces choses.  De plus, les utilisateurs les saisissent simplement lorsqu'ils se connectent, d'où ils viennent.  Les noms d'utilisateur apparaissent-ils ailleurs?  Doivent-ils apparaître ailleurs? <br><br>  <b>Etudiant:</b> il est possible que l'accès utilisateur soit indiqué dans les listes des différents services. <br><br>  <b>Professeur:</b> oui, c'est un point vraiment important, non?  Le but de Kerberos est de simplement mapper les clés aux noms.  Mais cela ne vous dit pas à quoi ce nom devrait avoir accès. <br><br>  En fait, la façon dont les applications utilisent généralement Kerberos est que l'un de ces serveurs utilise Kerberos pour déterminer le nom en minuscule auquel il parle.  Lorsque le serveur de messagerie reçoit une connexion d'un poste de travail, il reçoit un ticket Kerberos, ce qui prouve que cet utilisateur est Nikolai.  Après cela, le serveur de messagerie recherche en interne à quoi cet utilisateur a accès.  Le serveur de fichiers fait de même. <br><br>  Ainsi, à l'intérieur de tous ces serveurs, il y a des listes de contrôle d'accès, éventuellement des listes de groupes ou d'autres choses qui effectuent une autorisation.  Kerberos fournit donc une authentification qui vous montre à qui vous parlez.  Le service lui-même est responsable de la mise en œuvre de cette partie de l'autorisation, qui décide du niveau d'accès que vous devriez avoir en fonction de votre nom d'utilisateur.  Nous avons donc compris où les noms d'utilisateur apparaissent.  Il existe d'autres noms de base pris en charge par Kerberos pour interagir avec les services. <br><br>  Selon les documents de cours, les services ressemblent à ceci: rcmd.hostname.  La raison pour laquelle vous avez besoin d'un nom pour l'un de ces services est que vous souhaitez, par exemple, lors de la connexion à un serveur de fichiers, effectuer une authentification mutuelle.  Cela signifie que dans cette procédure, non seulement le serveur de destination découvre qui je suis, mais moi, l'utilisateur ou le poste de travail, je m'assure que je parle au bon serveur de fichiers, et non à un faux serveur de fichiers qui a truqué le mien fichiers.  Parce que, peut-être, je veux regarder le fichier avec mes notes et l'envoyer au registraire.  Par conséquent, il serait dommage qu'un autre serveur de fichiers puisse agir comme le bon serveur et me fournir le mauvais fichier d'évaluation. <br><br>  Par conséquent, les services ont également besoin de leur propre nom et les postes de travail doivent savoir quel nom je m'attends à voir lorsque je me connecte au service. <br><br><img src="https://habrastorage.org/webt/rv/fp/ke/rvfpkej9wugk_ucu5pt3ssxgfe4.jpeg"><br><br>  En règle générale, à un certain niveau, cela vient de l'utilisateur.  Ainsi, par exemple, si je tape ssh.foo, cela signifie que je dois m'attendre à ce qu'un nom principal Kerberos comme rcmd.foo apparaisse à l'autre extrémité de cette connexion.  Et si quelqu'un d'autre est là, le client SSH doit se déconnecter et ne pas me permettre de me connecter, car alors je serai induit en erreur et commencerai à parler à une autre machine. <br><br>  Cela soulève une question intéressante.  Quand peut-on réutiliser des noms dans Kerberos?  Par exemple, vous avez tous des comptes dans le système de l'institut Athena.  Lorsque vous serez diplômé, le MIT peut-il détruire votre entrée de base de données et permettre à quelqu'un d'autre d'enregistrer le même nom d'utilisateur?  Serait-ce une bonne idée? <br><br>  <b>Etudiant:</b> mais pas seulement la base de données Kerberos, mais aussi les services ont une liste de noms d'utilisateurs? <br><br>  <b>Professeur:</b> oui, car ces noms sont en fait juste représentés par des entrées de chaîne quelque part dans l'ACL sur un serveur de fichiers ou de messagerie.  Si nous supprimons votre entrée dans la base de données du serveur Kerberos, cela ne signifie pas que votre entrée a complètement disparu.  Ces entrées sont indépendantes de la version. <br><br>  Par exemple, un enregistrement indique qu'Alice a accès à un casier Athena.    ,    ,     -  ,        Kerberos.      ,     ,            . <br><br>  ,  Kerberos       ,     Kerberos          .       ,       ,  ,       . <br><br>         .         ,      , , ,      ,      .  ,  ,  , -              .          ,       . ,     ,                . <br><br>    ,    .     ,       ,   ,    TGS. <br><br><img src="https://habrastorage.org/webt/lg/d8/_o/lgd8_ocxwlsxvtydhzfeawwtgco.jpeg"><br><br> ,    ,   Kerberos,    «».          :        s  , IP –   addr,   time stump,   life, ,       ,   Kc,s,       .     . <br><br><img src="https://habrastorage.org/webt/9_/hn/sw/9_hnswj4t5tsgewetdx7q9p03tk.jpeg"><br><br>      . <br><br>        ,  Kerberos  «».   Ac           , IP-    , ,     .  ,    .    K,s,       ,    Kerberos     Ks.  ,         . <br><br><img src="https://habrastorage.org/webt/yi/cd/vo/yicdvogy_ssgbsmoz8-holttrsw.jpeg"><br><br>  ,    ,        Kerberos     TGS.    ,    ,         Kerberos,   ,     .       :     C,      ,     S,       TGS.       . <br><br>        Tc,s,   Ks,     ,     Ks, ,       Kc.     . <br><br><img src="https://habrastorage.org/webt/ja/wh/-k/jawh-k-gpxf2bec3_whvha2vm-a.jpeg"><br><br>      .  ,   Kerberos    ?   ,     ? <br><br> <b>:</b>   ,     ,   ,     Kc. <br><br> <b>:</b>  ,  ,   Kerberos     ,      .     : «,     ,     .      ,    ,      ,    Kc».     ,           . <br><br>  ,   ,     ,          Kerberos,       Kerberos   ,       . ,  ,   -     Kerberos,       ,        . <br> :           … <br><br> <b>:</b> ,   ,      Kerberos, ?  ,    ?   ,  ,     ,       ,     ,     ,   ,      ,     ,    . <br><br><img src="https://habrastorage.org/webt/hn/l-/ga/hnl-gavysqh5frbpm17abmclcqc.jpeg"><br><br>    «»,   ,    , ,       ,   .  ,           ,     .        .          Kerberos,       ,   .          ,    ,   . <br><br> <b>:</b>        ?     ,   … <br><br> <b>:</b> ,        .    ,   Kerberos      ,         .       ,   ,         -         ,     ,   ,             .  30      ,         . <br><br>    Kerberos 5  :  ,   —             .         ,  ,     ,     ,   . <br><br>   Kerberos 4      ,         , , .     ,         .      ,              ,       . <br><br> ,    ,   ,     .       ,   .     —    K,s  -     ?        K,s       T,s.         K,s? <br><br> 27:10  <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> MIT «  ».  13: « »,  2</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/QOtA76ga_fY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . <br><br>  Merci de rester avec nous.    ?  Vous voulez voir des matériaux plus intéressants?  Soutenez-nous en passant une commande ou en le recommandant à vos amis, une <b>réduction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vérité sur VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbps à partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'à 24 cœurs et jusqu'à 40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en décembre gratuitement</b> en payant pour une période de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br> <b>Dell R730xd  2  ?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV à partir de 249 $</a> aux Pays-Bas et aux États-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">création d'un bâtiment d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coûtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427763/">https://habr.com/ru/post/fr427763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427751/index.html">CudaText Sublime Ideas</a></li>
<li><a href="../fr427755/index.html">Nouvelle version de GitLab 11.4 avec examen par les pairs des demandes de fusion et des indicateurs de fonctionnalité</a></li>
<li><a href="../fr427757/index.html">Portes arrière de microcode assemblées par processeur X86</a></li>
<li><a href="../fr427759/index.html">A propos de la solvabilité des problèmes de ceinture de circulation en temps polynomial</a></li>
<li><a href="../fr427761/index.html">Implémentation de l'algorithme k-means (k-means) en utilisant l'exemple du travail avec les pixels</a></li>
<li><a href="../fr427767/index.html">Situation: au Canada, ils ont proposé d'introduire une taxe sur le streaming - nous discutons du problème</a></li>
<li><a href="../fr427771/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 13: Network Protocols, Part 2</a></li>
<li><a href="../fr427773/index.html">J'ai écrit une extension multi-navigateur pour les onglets, mais vous ne le faites pas</a></li>
<li><a href="../fr427775/index.html">Un bot déguisé en programmeur corrige les erreurs de code</a></li>
<li><a href="../fr427779/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 13: Network Protocols, Part 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>