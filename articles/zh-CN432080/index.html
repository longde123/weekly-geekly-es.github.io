<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☝🏿 👯 🎛️ 玩家在评估风险时的误解。 开发中对随机数发生器的控制 ⛩️ ❣️ 🍠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="从本质上讲，人脑在给定的数值等级的基础上评估随机事件发生的可能性非常差。 根据质量评级还算不错。 所有这一切都是因为一个人在心理上将数值概率转换为定性估计，并且非常主观地做到了： 



- 游戏中80％的命中率-几乎可以保证命中率； 
- 您的同志至少有一天偿还债务的事实的80％是“不行不行”，这...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>玩家在评估风险时的误解。 开发中对随机数发生器的控制</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432080/"> 从本质上讲，人脑在给定的数值等级的基础上评估随机事件发生的可能性非常差。 根据质量评级还算不错。 所有这一切都是因为一个人在心理上将数值概率转换为定性估计，并且非常主观地做到了： <br><br><ul><li>游戏中80％的命中率-几乎可以保证命中率； </li><li> 您的同志至少有一天偿还债务的事实的80％是“不行不行”，这是行不通的，这风险太大； </li><li>  5％受到了致命伤害，他是敌人的NPC-不太可能忽略风险； </li><li> 如果您在房顶下滴下米高的冰柱，则有1％的冰柱掉落的危险-除此之外，最好在人行道的另一侧走动； </li><li> 在大型RPG中赢得迷你游戏的机会为51％-您可以指望这样的事实，即20个赌注之后，我将赢得一点或至少留在自己的赌注中……20个赌注后，这种情况怎么发生，我输了一半我的钱黄金？ 在这里，随机数生成器显然已损坏！ </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/of/ps/0e/ofps0e3dlmslic-1m5fkyc2mvbw.png"></div><br> 本文将考虑以下问题： <br><br><ul><li> 概率估计中的错误假设； </li><li> 玩家误解和“罕见”事件的实际概率的具体示例； </li><li> 随机数生成器（通常为伪随机数）； </li><li> 早期的简单伪随机数生成器，以《最终幻想I》为例； </li><li> 具有可重复性和没有可重复性的随机事件的实现方法； </li><li> 在Fire Emblem中成功实现不同方法和操作的示例。 </li></ul><a name="habracut"></a><br><h3>  I.概率估计中的错误假设 </h3><br> 在进化过程中，人脑通过对事件的定性评估和对其经历的印象学习到了很好的操作。 一个人相对较近地想出了数字和“随机”事件概率的抽象数值估计[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">1</a> ]。 尽管如此，人们在他们的估计中仍会将这些数字转换为定性表示：一点点，一点点，很多点，危险，安全，足够。  <b>这些评估始终取决于上下文和</b>对此上下文的<b>主观态度</b> 。 这恰恰是错误的数值假设的主要原因。 <br><br> 例如，将考虑基于回合的游戏弟子2 [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2</a> ]。 本文的这一部分将不专门考虑此游戏中随机数生成的质量。 本文的第二部分将提供有关其生成的足够数据。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wc/88/rt/wc88rttna60gh-d7sjkyesmwkkc.jpeg"></div>  <i>弟子2-典型小姐[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2</a> ]</i> <br><br> 标准的近战攻击有80％的命中率。 通常，玩家会将此机会视为“ <i>几乎总是</i> ”，而错过<i>机会</i>的风险则是“ <i>偶尔/偶尔</i> ”。 两次连击两次的机率是4％。 玩家将这种风险视为“ <i>几乎不会/这种情况极少发生</i> ”。 当这种情况发生时，玩家会对“曲线随机”感到愤怒：[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">3</a> ];  [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">4</a> ]。 <br><br> 但是在连续两次未命中且风险评估为4％的情况下，玩家进行的快速评估有几个错误的假设： <br><br>  1. <b>4％并非“ <i>几乎不会”</i></b> 。 平均每25个独立实验都会发生一次。 <br><br>  2. <b>评估是在错误的时间间隔进行的</b> 。 最小测量间隔为80％，而不是2次攻击，而是在“疲倦”的玩家记忆中进行的所有相同级别的攻击（约80％）。 通常，在这段时间里，您可以进行长时间的游戏或整个游戏，这全都取决于游戏的类型，玩家的记忆力和玩家的偏好。 <br><br> 由于我没有关于该游戏使用情况的真实统计信息，因此我将基于以下假设：在《门徒2》中进行长时间的游戏会持续3个小时，在此期间，进行了大约250次攻击，准确率约为80％。 值得注意的是，应该忽略敌人的失误，因为 他们错过比赛的球员并不生气，他很少记得他们。 <br><br> 因此，应该评估这种情况：“对于所有250次攻击，将永远不会发生2次未击中。” <br> 为了计算此事件的真实性概率，使用了重复公式：P1（n）= 0.8 * P1（n-1）+ 0.16 * P1（n-2）。 在推导此公式时，我利用了社区的帮助，下面提供了计算，详细信息和结果的引用。 <br><blockquote> 您可以尝试使用归纳法。 我们介绍一些符号。 在第n次郊游后保持爪子的概率由P（n）表示。 我们将此概率表示为两个概率之和 <br>  P（n）= P1（n）+ P2（n），其中P1（n）是第n个极端郊游成功的概率，而P2（n）-不成功。 <br><br> 似乎P1和P2与0.8和0.2成正比，但事实并非如此。 由于我们不考虑任何可能的结果，而只考虑那些保存了pa子的事实。 <br> 现在让我们尝试得出一个递归公式 <br>  P1（n）= 0.8 *（P1（n-1）+ P2（n-1）） <br>  P2（n）= 0.2 * P1（n-1） <br> 将P2代入P1的公式即可得到 <br>  P1（n）= 0.8 * P1（n-1）+ 0.16 * P1（n-2） <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">递归关系的</a>进一步<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">解决方案[5]</a> </blockquote>  <i>来自用户Serbbit的引用[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">6</a> ]</i> <br><br> 为了解决该问题，而不是了解解决递归关系的方法，而是为浏览器控制台编写了一个小的javascript代码，并计算了结果。 <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> P1 = []; P1[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">1</span></span>; P1[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n=<span class="hljs-number"><span class="hljs-number">2</span></span>; n&lt;=<span class="hljs-number"><span class="hljs-number">250</span></span>; n++) { P1[n] = <span class="hljs-number"><span class="hljs-number">0.8</span></span> * P1[n<span class="hljs-number"><span class="hljs-number">-1</span></span>] + <span class="hljs-number"><span class="hljs-number">0.16</span></span> * P1[n<span class="hljs-number"><span class="hljs-number">-2</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(n + <span class="hljs-string"><span class="hljs-string">') '</span></span> + P1[n]); } <span class="hljs-comment"><span class="hljs-comment">// : 250) 0.0001666846271670716</span></span></code> </pre> <br> 答案是：0.0001666846271670716 <br> 或<b>0.0167％</b> <br><br> 该答案与另一位作者Kojiec9的答案相符：0.000166684627177505 [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">6</a> ]，该作者将他开发的方法与五进制十进制结合使用，并使用帕斯卡尔的公式计算结果。 答案的微小差异显然是通过四舍五入浮点数来解释的。 <br><br> 因此，在打徒弟3个小时的3个小时中，玩家有机会以<b>0.0167％的</b>准确率避免两次错失。 现在，这真的不太可能。  （并且<b>至少有两次未命中</b>的概率分别是<b>99.9833％</b> ）。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d8/xl/sb/d8xlsb5fyujx6heyhwdmg6kcg8i.png"></div>  <i>随着实验数量的增加，至少两次未命中的可能性增加</i> <br><br> 顺便说一下，关于人类记忆的不完美和扭曲，总的来说，存在着完整的研究和书籍：“大脑的错觉。 由于信息过多造成的认知扭曲” [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">7</a> ]；  “不相信自己的大脑” [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">8</a> ]，如果您对此主题感兴趣，我建议您开始熟悉这些文章。 <br><br>  3.第三个错误的假设是<b>在相互独立的实验中对依赖性</b>的<b>期望</b> 。 <br><br> 也就是说，在第一次错过之后，玩家认为： <br><br>  “因此，角色错过了80％的准确率。 现在，他肯定会成功，因为再次错过比赛的风险只有4％。” <br><br> 但是没有 第一次错过之后，再次错过的风险也将为20％。 毕竟，过去的攻击已经发生，并且不会影响以后的射击。 而且，如果在第一次进攻前两次未命中的概率是4％，那么在第一次未命中之后两次未命中的概率已经变成20％，也就是说，相对于玩家的期望，风险只会增加。 <br><br> 人脑的这一特征对于赌博中赌场（等）的操纵尤其有吸引力（更多有关制造商的老虎机设备的信息[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">9</a> ]）。 <br> 关于Jan Schreiber的平衡的文章，“第5级：概率和随机性完全错误”（ <i>第5级，概率和随机性兜售</i> ）[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">10</a> ]，可以找到关于人脑错觉的更有趣的例子。 <br><br><h3> 二。 随机数发生器 </h3><br> 游戏中使用的术语“随机数生成器”（RNG /随机数生成器）实际上几乎总是表示“伪随机数生成器” [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">11</a> ]。 该发生器的主要特点是可重复性。 可再现性意味着，在知道初始生成元素（或种子）的情况下，将始终获得相同的随机数（ <i>伪随机</i>数）序列。 在某些游戏中，这种效果表现为以下事实：重新启动游戏后，命中和未命中的顺序保持不变。 但是在其他游戏中却不一样。 <br><br> 关键是如何使用该伪随机数生成器以及开发人员追求的设计目标。 <br><br> 为了更好地理解伪随机数生成器的工作原理，我们可以考虑在第一批经典游戏中实现它的方式，当时计算机（和游戏机）的资源受到特别严重的限制。  （有关<i>示例及其功能的深入描述，请参见文章“经典游戏如何巧妙地利用随机数生成” [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">12</a> ]。</i> ） <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/f5/qx/kx/f5qxkxozyaq_kmihrt1khplsays.jpeg"></div>  <i>经典游戏如何巧妙地利用随机数生成[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">12</a> ]</i> <br><br>  <b>最终幻想我</b>使用了几个带有预定义固定数字的表，每个表中有256个值： <br><br><ul><li> 为了计算游戏地图中每个步骤的随机战斗，算法在桌子周围移动，一次将索引更改为1，从而逐步滚动浏览所有可能的值-碰撞的事实和可能的对手群都取决于此； </li><li> 为了计算战斗结果，还使用了一个类似的表，其中包含256个固定值，但随着每次使用伪随机数，它的移动不仅发生，而且每2帧发生一次。 也就是说，算法每隔2帧就使表空闲地滚动编号，从而降低了预测相同序列的风险。 熵的来源是玩家在选择下一支球队之前会思考多长时间的不确定性。 </li></ul><br> 最终幻想I使用表中固定值的序列号（索引）作为谷物（母体）。 即，知道进一步从中选择随机数的位置，就可以准确地预测经过1000次检查后将发出哪个随机数。 在更复杂的伪随机数生成算法中，grain不太容易使用，但是基本原理和效果仍然存在。 <br><br> 现在，为了生成伪随机数，主要使用所用编程语言的标准库。 当前系统时间最常被用作熵的来源。 对于游戏行业的需求，标准库的特性通常就足够了。 生成器和熵源的缺点由于其计算和操作的复杂性而很少被玩家使用。 通常，这里仍然有很多speedraner程序员（ <i>例如，破解Pokemon Colosseum [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">13</a> ]的逻辑</i> ），这意味着开发人员更明智地忽略这些细微之处。 <br><br><h3> 三， 使用生成器的不同方法 </h3><br>  <b>1.任务或游戏战役开始时谷物固定。</b> <br><br>  <b>给玩家的后果</b> ：重新加载游戏不会改变角色的遗漏事实（即使他命中的机率是99％，也可以称其为<i>坚果Fidel</i> ）。 但是，在尝试击打之前，玩家可能会执行其他一些使用随机数的动作，例如，它类似于另一个角色- <i>光头Mick</i> 。 结果，光头米克将使用不幸的随机数，而疯狂的菲德尔将使用序列中的下一个随机数-然后他可能会得到它。 <br><br>  <b>玩家如何滥用它</b> ：如果射门命中率达到50％，则可能会错过机会，您可以重新启动并尝试以更高的准确性（55％）进行攻击，直到击中为止。 命中后，保存并重复其他掷球。 <br><br>  <b>对开发人员的积极影响</b> ： <br><br>  1）如果只存储初始状态，动作顺序和顺序，则可以逐步复制游戏。 因此，可以显示重复，甚至可以非常紧凑地存储保存文件。 该方法可以节省磁盘/内存上的大量空间。 <br><br>  2）保护内部赌博，以便保存/加载不允许玩家破产所有遇到的NPC对手。 <br><br>  <b>一个例子</b> ： <br><br> 游戏roguelike Brogue [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">14</a> ]使用这种方法，从游戏世界的产生开始，到对所有玩家动作的错误计算结束。 结果，仅起始粒度和游戏命令序列存储在保存文件中。 这种效果的另一个好处是，在生成的Brogue世界[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">15</a> ]的表中选择了最有趣的世界之后，可以使用选定的粒数开始游戏。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tv/qw/uj/tvqwuje7vhfllspi9hl_9dlmuoa.png"></div>  <i>Brogue roguelike-官方网站[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">14</a> ]</i> <br><br>  <b>2.重启后每次都不会固定或更新颗粒。</b> <br>  <b>对播放器的影响</b> ：任何重新启动都会改变所有计算的机会。 <br><br>  <b>玩家如何滥用它</b> ：非常简单-多次重新启动以及最不可能发生的打击情况都可以成为现实。 <br><br>  <b>对开发人员的积极影响</b> ： <br><br>  1）仅仅因为缺乏内部机制的知识，玩家才认为这种游戏更真实，更随机。 <br><br>  2）玩家会收到非正式的简易模式，如果需要的话，可以极大地方便复杂区域。 <br><br>  3）开发人员可以使用不同的方法来掩盖免费赠品：每个游戏一个自动保存（即覆盖保存和永久死亡）或在执行任务期间禁止保存（以不同的形式）。 尽管从技术上讲要困难得多，但是最敏感的区域（赌博迷你游戏）可以基于单个恒定粒数进行计算。 <br><br>  <b>一个例子</b> ： <br><br> 韦诺之战[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">16</a> ]使用的是不固定的纹理，本质上是诚实的随机性。 诚实的事实是，有时可能出现完全不可能的失败序列，并且游戏引擎无法纠正它们。 其结果是恼人的玩家对游戏开发者的周期性愤怒帖子。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a62/d55/daa/a62d55daa42c72d27a97cffd9539d376.gif"></div>  <i>Reddit是韦斯诺斯的超级灵巧美人鱼[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">17</a> ]</i> <br><br> 同样，在进攻之前，游戏会提供进攻每种可能结果的概率的详细计算：造成的损害，所受到的损害以及一名对手死亡的可能性。 这些概率的结论只会增加“未成功相似”概率的愤怒，因为 确保有很好的攻击机会，因此很难获得千分之一的分数。 <br><br>  <b>3.谷物不是固定的，结果本身还要进行其他处理。</b> <br><br> 通过操纵，我指的是这样的动态调整，其结果是，由于所得到的数字中实际伪随机性的损失，正确（ <i>公平</i> ）随机性的感觉增加了。 <br><br>  <b>玩家的后果</b> ：类似于具有不固定颗粒的游戏-重新加载可让您重新计算结果。 <br><br>  <b>玩家如何滥用它</b> ：在节省欺诈手段的帮助下，您可以选择有利的攻击组合，但这在很大程度上取决于实现方法和开发人员方面保护机制的可用性。 <br><br>  <b>对开发人员的积极影响</b> ：开发人员可以控制不良结果的稀有性，使外观“ <i>诚实随机</i> ”，增加和降低游戏的复杂性。 如果开发人员在计算击球机会时，分别存储并考虑了每个团队的触发，那么他可以大大减少滥用诈骗的可能性，从而确保玩家仍能获得算术平均伤害。 <br><br>  <b>例子</b> ： <br><br> 开发人员Carsten Germer使用受控随机性功能来处理罕见事件和不仅事件[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">18</a> ]。 例如，为保证定期损失特别稀有的奖金（每10,000次机会中有1次机会），则在每次“未命中”之后按顺序增加机会：9,900分之一；  1至9800；  1到9700 ...依此类推，直到记录事件为止。 为了保证没有频繁的稀有性，他引入了一个附加变量，该变量在上次操作后的下10次检查期间将操作阻塞100％。 <br><br> 在我的《怪兽百吉饼》 [Gree]中，我还使用了随机操作。 通常，追逐受害者时，玩家的角色应该躲在他们身后，等待他们退后一步，落入自己的爪子。 通常，此机会在露天场所等于1/6（走廊为1/2，死胡同为1/1），但是为了减少特别不幸的情况的烦人影响，在15％的情况下，在对受害者的运动过程进行每次检查之前，都必须保证她会向格罗。 <br><br> 最有趣的情况是：在游戏《火焰纹章：绑定之刃》 [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">20</a> ]中，实施了确定攻击过程中命中率的隐藏机制[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">21</a> ]。 传统上，在系列赛中，游戏中击中的几率显示为从0到100％的百分比。 在该系列的较早游戏中，命中的事实由一个从1到100的随机数确定：如果辍学数（例如61）小于或等于命中的概率（例如75），则对命中进行计数（如果更多，则计为未命中）。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/j5/j8/1w/j5j81wla66ub0naov3u4lujcd34.png"></div>  <i>火焰纹章：绑定刀片[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">20</a> ]</i> <br><br> 在这一部分中，引入了备用系统：代替两个随机数的平均值，而取两个随机数的平均值，并将该平均值与精度值进行比较。 也就是说，随机数趋于更大程度地达到50的值，这导致了打击随机性的线性效应的扭曲：打击大于50％的战斗机的打击频率高于50％的情况，而打击小于50％的情况的频率更低。 而且由于在游戏中绝大多数玩家的角色更加准确，而大多数敌人较少，因此玩家获得了非常严重的隐藏优势[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">21</a> ]。 下图是这种效果的图表，其中蓝线表示旧系统中的命中频率，新线中红色的命中频率取决于攻击者准确性的百分比。 例如，显示的概率达到90％，实际概率将是98.1％，其中80％-92.2％，而10％-仅1.9％！ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bn/iy/th/bniythqkdxhfk-yqddnqnvpmlpo.png"></div>  <i>击球机会变形。</i>  <i>在y轴上，在x轴上的实际概率-显示给玩家</i> <br><br> 当然，这些并不是随机数和平衡操作的唯一示例，但是很难找到它们。 因此，这里的社区帮助将特别有价值。 <br><br> 我想指出的是，我并不将程序生成归因于可操纵的随机性。 示例：百吉饼产生了一个随机等级，其中包含一组随机的敌人，陷阱，墙壁和死胡同。 如果同时创建了一个无法通过的水平，那么将给出一个开发曲线示例，未充分考虑的设计或不良的测试。 开发人员必须在程序上检查至少随机生成的基本问题： <br><br><ul><li> 到出口的通道必须始终至少为单数。 任何路径查找算法都可以帮助您； </li><li> 一系列陷阱应该能够绕过，如果一个地方存在太多陷阱，则算法必须计算其密度并去除不必要的陷阱； </li><li> 太强大的敌人必须提供至少一种“通过”他们的可用方法：蛮力； 卷轴和药水； 特殊文物或逃避它们的能力。 </li></ul><br> 这种对随机结果的干预不是操纵，而仅仅是发展的最低能力方法的规则。 这些检查用于生成伪随机数的所有方法。 <br><br>  <b>4.通常从游戏机制中删除随机性元素。</b> <br><br> 也就是说，每次攻击的结果始终具有100％的命中率和固定伤害几率，以及用于触发附加效果的恒定规则。 取而代之的是，您可以使用随机计算来达到装饰目的：定期“咀嚼”等待轮到的角色； 飞走造成的损害数量； 碰撞和爆炸的影响。 如何生成随机数以及如何均匀分布没有区别。 <br><br> 尽管在这种情况下，您可以在人工智能计算中使用前三种方法，但是当敌方角色在某种程度上可以随机选择攻击目标或以随机顺序进入团队时。 但这对于玩家而言将不那么明显，烦人的情况也将少得多。 <br><br>  <b>播放器的后果</b> ：重新启动不会以任何方式影响结果，或者会稍有影响。 <br><br>  <b>玩家如何滥用它</b> ：玩家可以在网络上计算或找到稳定的主导策略并仅使用它。 值得注意的是，对于某些类型的玩家，这是游戏的主要兴趣所在。 <br><br>  <b>对开发人员的积极影响</b> ： <b>开发人员</b>更容易平衡这种游戏。 不利的一面是，在这种情况下，新兴的主导策略变得稳定，这意味着即使玩家的运气不好也无法击败他，但却会导致意外，无聊和淘汰的游戏消失。 高水平的玩家几乎总是会赢得低层的玩家，对于各种类型的游戏，这既可能是优势，也可能是劣势。 <br><br>  <b>一个例子</b> ： <br><br> 任何具有经典规则的国际象棋。 <br><br> 逻辑无赖也适用于此。 例如，该方法在Desktop Dungeons Alpha [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">22</a> ]中已很好地实现。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wi/sq/z0/wisqz0a5b2yz7heog20wq00zkqc.png"></div>  <i>桌面地下城阿尔法[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">22</a> ]</i> <br><br> 在这里，攻击序列的结果始终是相同的，并且是预先计算的。 但是，由于游戏地牢的随机生成（过程生成）和战争迷雾的存在，游戏获得了最佳百吉饼的独特重播性。 <br><br><h3> 结论 </h3><br> 因此，本文考虑了游戏中随机性的两个子主题： <br><br><ul><li>  <b>概率估计中的错误假设</b> 。 它描述了玩家做出的直觉假设，并且由于其主观性而常常被证明是错误的。 主要结论：真正的随机性不仅不能保证用户会满意，甚至会导致相反的效果。 </li><li>  <b>伪随机数生成</b> 。 描述了使用随机性的不同方法。 成功的实施示例表明，无论选择哪种方法，游戏都可能产生有趣，出乎意料的效果，并具有良好的可重复性。 <br><br> 明智地，一致地使用所选方法可以使开发人员强调自己的积极方面，并尽量减少消极方面。 </li></ul><br><br><div class="spoiler">  <b class="spoiler_title">资料来源</b> <div class="spoiler_text">  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">数学史，概率论-维基百科</a> 。 <br>  2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">门徒2-GOG金牌</a> 。 <br>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">门徒2-评论曲线随机数1</a> 。 <br>  4. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">门徒2-评论曲线随机数2</a> 。 <br>  5. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">递归关系的解决</a> 。 <br>  6. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">引用用户Serbbit的问题解决方案</a> 。 <br>  7. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">大脑的错觉。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">信息过度导致的认知偏差</a> 。 <br>  8. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">不要相信你的大脑</a> 。 <br>  9. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">内外游戏机。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">从制造商那里进行审查</a> 。 <br>  10. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">级别5：概率和随机性完全错误</a> 。 <br>  11. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">伪随机数生成器-Wikipedia</a> 。 <br>  12. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">经典游戏如何巧妙地利用随机数生成</a> 。 <br>  13. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">控制电子游戏中的运气-Pokemon Colosseum和XD</a> 。 <br>  14. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Brogue roguelike-官方网站</a> 。 <br>  15. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Brogue Seed Scummer</a> 。 <br>  16. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">韦诺之战</a> 。 <br>  17. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">韦斯诺斯的超级灵巧美人鱼</a> 。 <br>  18. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">游戏设计和编程中的“不是随机的”</a> 。 <br>  19. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使怪物变态</a> 。 <br>  20. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">火焰纹章：绑定刀片</a> 。 <br>  21. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">火焰标志中的随机数生成器</a> 。 <br>  22. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">桌面地下城Alpha roguelike</a> 。 <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN432080/">https://habr.com/ru/post/zh-CN432080/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN432070/index.html">简要介绍redux-saga频道</a></li>
<li><a href="../zh-CN432072/index.html">三种类型的内存泄漏</a></li>
<li><a href="../zh-CN432074/index.html">玩家如何用shot弹枪撕开Spelunky现实布</a></li>
<li><a href="../zh-CN432076/index.html">无法识别的功能使程序速度降低5倍</a></li>
<li><a href="../zh-CN432078/index.html">隧道末端的流量或渗透测试中的DNS</a></li>
<li><a href="../zh-CN432084/index.html">我们如何安排生产工人之间的轮班竞争（例如在苏联）</a></li>
<li><a href="../zh-CN432086/index.html">在国际学校以罗蒙诺索夫（M.V. Lomonosov）命名的3D打印</a></li>
<li><a href="../zh-CN432088/index.html">GitHub上的MySQL高可用性</a></li>
<li><a href="../zh-CN432090/index.html">Magento Meetup Kharkiv No. 4-视频报道</a></li>
<li><a href="../zh-CN432092/index.html">编写单元测试时出现令人不快的错误</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>