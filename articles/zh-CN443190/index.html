<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>âª ğŸ•› ğŸ‘‡ğŸ» å®‰å…¨ä¸“ä¸šäººå‘˜çš„Kubernetesç½‘ç»œç­–ç•¥ç®€ä»‹ ğŸ‘ƒğŸ¼ ğŸ‘¨ğŸ½â€ğŸ”¬ ğŸ‘´ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ³¨æ„äº‹é¡¹ ä½©é›·å¤« ï¼šæœ¬æ–‡çš„ä½œè€…-Reuven Harrison-åœ¨è½¯ä»¶å¼€å‘æ–¹é¢æ‹¥æœ‰20å¤šå¹´çš„ç»éªŒï¼Œå¦‚ä»Šæ˜¯Tufinï¼ˆä¸€å®¶åˆ›å»ºå®‰å…¨ç­–ç•¥ç®¡ç†è§£å†³æ–¹æ¡ˆçš„å…¬å¸ï¼‰çš„æŠ€æœ¯æ€»ç›‘å’Œå…±åŒåˆ›å§‹äººã€‚ è€ƒè™‘åˆ°Kubernetesç½‘ç»œç­–ç•¥æ˜¯åœ¨é›†ç¾¤ä¸­è¿›è¡Œç½‘ç»œåˆ†æ®µçš„è¶³å¤Ÿå¼ºå¤§çš„å·¥å…·ï¼Œä»–è®¤ä¸ºåœ¨å®è·µä¸­åº”ç”¨å®ƒä»¬å¹¶ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚ è¯¥ææ–™ï¼ˆ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å®‰å…¨ä¸“ä¸šäººå‘˜çš„Kubernetesç½‘ç»œç­–ç•¥ç®€ä»‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/443190/"><img src="https://habrastorage.org/webt/dt/ya/kp/dtyakpb8umg8hkfvtfcrll8kc9y.png"><br><br>  <i><b>æ³¨æ„äº‹é¡¹</b></i>  <i><b>ä½©é›·å¤«</b></i>  <i>ï¼šæœ¬æ–‡çš„ä½œè€…-Reuven Harrison-åœ¨è½¯ä»¶å¼€å‘æ–¹é¢æ‹¥æœ‰20å¤šå¹´çš„ç»éªŒï¼Œå¦‚ä»Šæ˜¯Tufinï¼ˆä¸€å®¶åˆ›å»ºå®‰å…¨ç­–ç•¥ç®¡ç†è§£å†³æ–¹æ¡ˆçš„å…¬å¸ï¼‰çš„æŠ€æœ¯æ€»ç›‘å’Œå…±åŒåˆ›å§‹äººã€‚</i>  <i>è€ƒè™‘åˆ°Kubernetesç½‘ç»œç­–ç•¥æ˜¯åœ¨é›†ç¾¤ä¸­è¿›è¡Œç½‘ç»œåˆ†æ®µçš„è¶³å¤Ÿå¼ºå¤§çš„å·¥å…·ï¼Œä»–è®¤ä¸ºåœ¨å®è·µä¸­åº”ç”¨å®ƒä»¬å¹¶ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚</i>  <i>è¯¥ææ–™ï¼ˆç›¸å½“å¤§é‡ï¼‰æ—¨åœ¨æé«˜ä¸“å®¶å¯¹æ­¤äº‹çš„çŸ¥è¯†ï¼Œå¹¶å¸®åŠ©ä»–ä»¬åˆ›å»ºå¿…è¦çš„é…ç½®ã€‚</i> <a name="habracut"></a><br><br> å¦‚ä»Šï¼Œè®¸å¤šå…¬å¸è¶Šæ¥è¶Šé€‰æ‹©Kubernetesæ¥è¿è¡Œå…¶åº”ç”¨ç¨‹åºã€‚ äººä»¬å¯¹è¯¥è½¯ä»¶çš„å…´è¶£å¦‚æ­¤ä¹‹é«˜ï¼Œä»¥è‡³äºæœ‰äººç§°Kubernetesä¸ºâ€œæ–°æ•°æ®ä¸­å¿ƒæ“ä½œç³»ç»Ÿâ€ã€‚ é€æ¸åœ°ï¼ŒKubernetesï¼ˆæˆ–k8sï¼‰å¼€å§‹è¢«è§†ä¸ºä¸šåŠ¡çš„å…³é”®éƒ¨åˆ†ï¼Œè¿™éœ€è¦ç»„ç»‡æˆç†Ÿçš„ä¸šåŠ¡æµç¨‹ï¼ŒåŒ…æ‹¬ç½‘ç»œå®‰å…¨æ€§ã€‚ <br><br> å¯¹äºé‚£äº›å¯¹ä½¿ç”¨Kubernetesæ„Ÿåˆ°å›°æƒ‘çš„å®‰å…¨ä¸“ä¸šäººå‘˜æ¥è¯´ï¼Œè¯¥å¹³å°çš„é»˜è®¤ç­–ç•¥å¯èƒ½æ˜¯ä¸€ä¸ªçœŸæ­£çš„å‘ç°ï¼šå…è®¸æ‰€æœ‰è¿™äº›ã€‚ <br><br> æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨äº†è§£ç½‘ç»œç­–ç•¥çš„å†…éƒ¨ç»“æ„ã€‚ äº†è§£å®ƒä»¬ä¸æ™®é€šé˜²ç«å¢™çš„è§„åˆ™æœ‰ä½•ä¸åŒã€‚ è¿˜å°†æè¿°ä¸€äº›é™·é˜±ï¼Œå¹¶æå‡ºä¸€äº›å»ºè®®ï¼Œä»¥å¸®åŠ©ä¿æŠ¤Kubernetesä¸­çš„åº”ç”¨ç¨‹åºã€‚ <br><br><h2>  Kubernetesç½‘ç»œç­–ç•¥ </h2><br>  Kubernetesç½‘ç»œç­–ç•¥æœºåˆ¶å…è®¸æ‚¨åœ¨ç½‘ç»œçº§åˆ«ï¼ˆOSIæ¨¡å‹ä¸­çš„ç¬¬ä¸‰ä¸ªï¼‰æ§åˆ¶éƒ¨ç½²åœ¨å¹³å°ä¸Šçš„åº”ç”¨ç¨‹åºçš„äº¤äº’ã€‚ ç½‘ç»œç­–ç•¥ç¼ºå°‘ç°ä»£é˜²ç«å¢™çš„æŸäº›é«˜çº§åŠŸèƒ½ï¼Œä¾‹å¦‚OSI 7çº§ç›‘è§†å’Œå¨èƒæ£€æµ‹ï¼Œä½†æ˜¯å®ƒä»¬æä¾›äº†åŸºæœ¬çš„ç½‘ç»œå®‰å…¨çº§åˆ«ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚ <br><br><h2> ç½‘ç»œç­–ç•¥æ§åˆ¶Podä¹‹é—´çš„é€šä¿¡ </h2><br>  Kuberneteså·¥ä½œè´Ÿè½½åˆ†å¸ƒåœ¨ç”±ä¸€ä¸ªæˆ–å¤šä¸ªéƒ¨ç½²åœ¨ä¸€èµ·çš„å®¹å™¨ç»„æˆçš„Podä¸­ã€‚  Kubernetesä¸ºæ¯ä¸ªPodåˆ†é…ä¸€ä¸ªå¯ä»å…¶ä»–Podè®¿é—®çš„IPåœ°å€ã€‚  Kubernetesç½‘ç»œç­–ç•¥ä¸ºpodç»„è®¾ç½®æƒé™çš„æ–¹å¼ä¸ä½¿ç”¨äº‘ä¸­çš„å®‰å…¨ç»„æ§åˆ¶å¯¹è™šæ‹Ÿæœºå®ä¾‹çš„è®¿é—®çš„æ–¹å¼ç›¸åŒã€‚ <br><br><h2> å®šä¹‰ç½‘ç»œç­–ç•¥ </h2><br> ä¸å…¶ä»–Kubernetesèµ„æºä¸€æ ·ï¼Œç½‘ç»œç­–ç•¥ä¹Ÿæ˜¯åœ¨YAMLä¸­è®¾ç½®çš„ã€‚ åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œ <code>balance</code>è¢«æˆäºˆè®¿é—®<code>postgres</code>æƒé™ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.postgres namespace: default spec: podSelector: matchLabels: app: postgres ingress: - from: - podSelector: matchLabels: app: balance policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/ee/d3/wf/eed3wfhzcdtuhobly7r3wdhyvhk.png"><br><br>  <i>ï¼ˆ <b>æ³¨æ„</b> ï¼šæ­¤å±å¹•å¿«ç…§ä¸æ‰€æœ‰åç»­ç±»ä¼¼å±å¹•å¿«ç…§ä¸€æ ·ï¼Œä¸æ˜¯ä½¿ç”¨KubernetesåŸç”Ÿå·¥å…·åˆ›å»ºçš„ï¼Œè€Œæ˜¯ä½¿ç”¨Tufin Orcaå·¥å…·åˆ›å»ºçš„ï¼Œè¯¥å·¥å…·ç”±åŸå§‹æ–‡ç« çš„ä½œè€…å¼€å‘ï¼Œå¹¶åœ¨æœ¬æ–‡çš„ç»“å°¾æåˆ°ã€‚ï¼‰</i> <br><br> å®šä¹‰è‡ªå·±çš„ç½‘ç»œç­–ç•¥å°†éœ€è¦åŸºæœ¬çš„YAMLçŸ¥è¯†ã€‚ è¯¥è¯­è¨€åŸºäºç¼©è¿›ï¼ˆç”±ç©ºæ ¼è€Œä¸æ˜¯åˆ¶è¡¨ç¬¦æŒ‡å®šï¼‰ã€‚ ç¼©è¿›å…ƒç´ å±äºå…¶ä¸Šæ–¹æœ€è¿‘çš„ç¼©è¿›å…ƒç´ ã€‚ æ–°åˆ—è¡¨é¡¹ä»¥è¿å­—ç¬¦å¼€å¤´ï¼Œæ‰€æœ‰å…¶ä»–é¡¹å‡ä¸º<i>é”®å€¼</i> ã€‚ <br><br> åœ¨YAMLä¸­æè¿°äº†è¯¥ç­–ç•¥ä¹‹åï¼Œè¯·ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">kubectl</a>åœ¨é›†ç¾¤ä¸­åˆ›å»ºå®ƒï¼š <br><br><pre> <code class="bash hljs">kubectl create -f policy.yaml</code> </pre> <br><h2> ç½‘ç»œç­–ç•¥è§„èŒƒ </h2><br>  Kubernetesç½‘ç»œç­–ç•¥è§„èŒƒåŒ…æ‹¬å››ä¸ªè¦ç´ ï¼š <br><br><ol><li>  <code>podSelector</code> ï¼šå®šä¹‰å—æ­¤æ”¿ç­–å½±å“çš„Podï¼ˆç›®æ ‡ï¼‰-å¼ºåˆ¶ï¼› </li><li>  <code>policyTypes</code> ï¼šæŒ‡ç¤ºå…¶ä¸­åŒ…æ‹¬å“ªäº›ç±»å‹çš„ç­–ç•¥ï¼šå…¥å£å’Œ/æˆ–å‡ºå£-å¯é€‰ï¼Œä½†æ˜¯ï¼Œæˆ‘å»ºè®®æ‚¨åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½æ˜ç¡®æ³¨å†Œå®ƒï¼› </li><li>  <code>ingress</code> ï¼šå®šä¹‰å…è®¸çš„åˆ°ç›®æ ‡å®¹å™¨çš„<b>ä¼ å…¥</b>æµé‡-å¯é€‰ï¼› </li><li>  <code>egress</code> ï¼šå®šä¹‰å…è®¸ä»ç›®æ ‡åŠèˆ±<b>æµå‡ºçš„</b>æµé‡-å¯é€‰ã€‚ </li></ol><br> ä»Kubernetesç½‘ç«™å€Ÿç”¨çš„ç¤ºä¾‹ï¼ˆæˆ‘ç”¨<code>app</code>æ›¿æ¢äº†<code>role</code> ï¼‰æ˜¾ç¤ºäº†å¦‚ä½•ä½¿ç”¨æ‰€æœ‰å››ä¸ªå…ƒç´ ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: test-network-policy namespace: default spec: podSelector: # &lt;&lt;&lt; matchLabels: app: db policyTypes: # &lt;&lt;&lt; - Ingress - Egress ingress: # &lt;&lt;&lt; - from: - ipBlock: cidr: 172.17.0.0/16 except: - 172.17.1.0/24 - namespaceSelector: matchLabels: project: myproject - podSelector: matchLabels: role: frontend ports: - protocol: TCP port: 6379 egress: # &lt;&lt;&lt; - to: - ipBlock: cidr: 10.0.0.0/24 ports: - protocol: TCP port: 5978</code> </pre> <br><img src="https://habrastorage.org/webt/ln/sa/ni/lnsanisggaar5tf3lbda8njxaau.png"><br><img src="https://habrastorage.org/webt/bo/re/in/borein4ll_4hoovj6vdhlo_zfee.png"><br><br> è¯·æ³¨æ„ï¼Œæ‰€æœ‰å››ä¸ªå…ƒç´ éƒ½æ˜¯å¯é€‰çš„ã€‚ åª<code>podSelector</code> ï¼Œå¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨å…¶ä»–å‚æ•°ã€‚ <br><br> å¦‚æœçœç•¥<code>policyTypes</code> ï¼Œåˆ™è¯¥ç­–ç•¥å°†è§£é‡Šå¦‚ä¸‹ï¼š <br><br><ul><li> é»˜è®¤æƒ…å†µä¸‹ï¼Œå‡å®šå®ƒå®šä¹‰äº†å…¥å£ä¾§ã€‚ å¦‚æœè¯¥ç­–ç•¥æœªæ˜ç¡®æŒ‡å‡ºï¼Œåˆ™ç³»ç»Ÿå°†è®¤ä¸ºæ‰€æœ‰æµé‡éƒ½è¢«ç¦æ­¢ã€‚ </li><li> å‡ºå£ä¾§çš„è¡Œä¸ºå°†å–å†³äºæ˜¯å¦å­˜åœ¨ç›¸åº”çš„å‡ºå£å‚æ•°ã€‚ </li></ul><br> ä¸ºé¿å…é”™è¯¯ï¼Œå»ºè®®<b>å§‹ç»ˆæ˜ç¡®æŒ‡å®š<code>policyTypes</code></b> ã€‚ <br><br> æ ¹æ®ä¸Šè¿°é€»è¾‘ï¼Œå¦‚æœçœç•¥äº†<code>ingress</code>å’Œ/æˆ–<code>egress</code> ï¼Œåˆ™è¯¥ç­–ç•¥å°†ç¦æ­¢æ‰€æœ‰æµé‡ï¼ˆè¯·å‚é˜…ä¸‹é¢çš„â€œå‰¥ç¦»è§„åˆ™â€ï¼‰ã€‚ <br><br><h2> é»˜è®¤ç­–ç•¥æ˜¯å…è®¸ </h2><br> å¦‚æœæœªå®šä¹‰ä»»ä½•ç­–ç•¥ï¼ŒKubernetesé»˜è®¤ä¼šå…è®¸æ‰€æœ‰æµé‡ã€‚ æ‰€æœ‰Podå‡å¯è‡ªç”±äº¤æ¢ä¿¡æ¯ã€‚ ä»å®‰å…¨è§’åº¦æ¥çœ‹ï¼Œè¿™ä¼¼ä¹è¿åç›´è§‰ï¼Œä½†è¯·è®°ä½ï¼ŒKubernetesæœ€åˆæ˜¯ç”±å¼€å‘äººå‘˜åˆ›å»ºçš„ï¼Œç›®çš„æ˜¯ç¡®ä¿åº”ç”¨ç¨‹åºäº¤äº’ã€‚ ç½‘ç»œç­–ç•¥æ˜¯åœ¨ä»¥åæ·»åŠ çš„ã€‚ <br><br><h2> å‘½åç©ºé—´ </h2><br> å‘½åç©ºé—´æ˜¯Kubernetesçš„ä¸€ç§åä½œæœºåˆ¶ã€‚ å®ƒä»¬æ—¨åœ¨éš”ç¦»é€»è¾‘ç¯å¢ƒï¼Œè€Œé»˜è®¤æƒ…å†µä¸‹å…è®¸ç©ºé—´ä¹‹é—´çš„æ•°æ®äº¤æ¢ã€‚ <br><br> ä¸å¤§å¤šæ•°Kubernetesç»„ä»¶ä¸€æ ·ï¼Œç½‘ç»œç­–ç•¥ä½äºç‰¹å®šçš„åç§°ç©ºé—´ä¸­ã€‚ åœ¨<code>metadata</code>å—ä¸­ï¼Œæ‚¨å¯ä»¥æŒ‡å®šç­–ç•¥æ‰€å±çš„ç©ºé—´ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: test-network-policy namespace: my-namespace # &lt;&lt;&lt; spec: ...</code> </pre> <br> å¦‚æœæœªåœ¨å…ƒæ•°æ®ä¸­æ˜¾å¼ç¼–å†™åç§°ç©ºé—´ï¼Œåˆ™ç³»ç»Ÿå°†ä½¿ç”¨kubectlä¸­æŒ‡å®šçš„åç§°ç©ºé—´ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œ <code>namespace=default</code> ï¼‰ï¼š <br><br><pre> <code class="bash hljs">kubectl apply -n my-namespace -f namespace.yaml</code> </pre> <br> æˆ‘å»ºè®®<b>æ˜¾å¼æŒ‡å®šä¸€ä¸ªåç§°ç©ºé—´ï¼Œ</b>é™¤éæ‚¨è¦ä¸€æ¬¡ç¼–å†™ç”¨äºå¤šä¸ªåç§°ç©ºé—´çš„ç­–ç•¥ã€‚ <br><br>  <b>ç­–ç•¥ä¸­çš„ä¸»è¦</b> <code>podSelector</code>å…ƒç´ å°†ä»ç­–ç•¥æ‰€å±çš„åç§°ç©ºé—´ä¸­é€‰æ‹©Podï¼ˆæ‹’ç»ä»å¦ä¸€ä¸ªåç§°ç©ºé—´è®¿é—®Podï¼‰ã€‚ <br><br> åŒæ ·ï¼Œ <b>å…¥å£å’Œå‡ºå£å—ä¸­çš„</b> podSelectoråªèƒ½ä»å…¶åç§°ç©ºé—´ä¸­é€‰æ‹©Podï¼Œé™¤éæ‚¨å°†å®ƒä»¬ä¸<code>namespaceSelector</code>ç»“åˆä½¿ç”¨ï¼ˆè¿™å°†åœ¨â€œæŒ‰åç§°ç©ºé—´å’ŒPodè¿‡æ»¤â€ä¸€èŠ‚ä¸­è¿›è¡Œè®¨è®ºï¼‰ ã€‚ <br><br><h2> ç­–ç•¥å‘½åè§„åˆ™ </h2><br> ç­–ç•¥åç§°åœ¨å•ä¸ªåç§°ç©ºé—´ä¸­æ˜¯å”¯ä¸€çš„ã€‚ åœ¨ä¸€ä¸ªç©ºé—´ä¸­ä¸èƒ½æœ‰ä¸¤ä¸ªå…·æœ‰ç›¸åŒåç§°çš„ç­–ç•¥ï¼Œä½†æ˜¯åœ¨ä¸åŒçš„ç©ºé—´ä¸­å¯èƒ½ä¼šå…·æœ‰ç›¸åŒåç§°çš„ç­–ç•¥ã€‚ å½“æ‚¨è¦åœ¨å¤šä¸ªç©ºé—´ä¸­é‡æ–°åº”ç”¨åŒä¸€ç­–ç•¥æ—¶ï¼Œæ­¤åŠŸèƒ½å¾ˆæœ‰ç”¨ã€‚ <br><br> æˆ‘ç‰¹åˆ«å–œæ¬¢ä¸€ç§å‘½åæ–¹å¼ã€‚ å®ƒåŒ…æ‹¬å°†åç§°ç©ºé—´åç§°ä¸ç›®æ ‡Podç»„åˆåœ¨ä¸€èµ·ã€‚ ä¾‹å¦‚ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.postgres # &lt;&lt;&lt; namespace: default spec: podSelector: matchLabels: app: postgres ingress: - from: - podSelector: matchLabels: app: admin policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/pp/rf/6a/pprf6aa0w2bysbuw6_-lbt926mi.png"><br><br><h2> æ ‡ç­¾ </h2><br> å¯ä»¥å°†è‡ªå®šä¹‰æ ‡ç­¾é™„åŠ åˆ°Kuberneteså¯¹è±¡ä¸Šï¼Œä¾‹å¦‚åŠèˆ±å’Œåç§°ç©ºé—´ã€‚ æ ‡ç­¾ç›¸å½“äºäº‘ä¸­çš„æ ‡ç­¾ã€‚  Kubernetesç½‘ç»œç­–ç•¥ä½¿ç”¨æ ‡ç­¾æ¥é€‰æ‹©è¦åº”ç”¨çš„<b>Pod</b> ï¼š <br><br><pre> <code class="plaintext hljs">podSelector: matchLabels: role: db</code> </pre> <br>  ...æˆ–å®ƒä»¬é€‚ç”¨<b>çš„åç§°ç©ºé—´</b> ã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå°†é€‰æ‹©åç§°ç©ºé—´ä¸­å¸¦æœ‰ç›¸åº”æ ‡ç­¾çš„æ‰€æœ‰çª—æ ¼ï¼š <br><br><pre> <code class="plaintext hljs">namespaceSelector: matchLabels: project: myproject</code> </pre> <br> ä¸€ä¸ªè­¦å‘Šï¼šä½¿ç”¨<code>namespaceSelector</code> <b>ç¡®ä¿æ‰€é€‰çš„</b> <code>namespaceSelector</code> <b>åŒ…å«æ‰€éœ€çš„æ ‡ç­¾</b> ã€‚ è¯·è®°ä½ï¼Œ <code>default</code> ï¼Œå†…ç½®åç§°ç©ºé—´ï¼ˆä¾‹å¦‚<code>default</code>å’Œ<code>kube-system</code>ä¸åŒ…å«æ ‡ç­¾ã€‚ <br><br> æ‚¨å¯ä»¥å¦‚ä¸‹æ‰€ç¤ºå‘è¯¥ç©ºé—´æ·»åŠ æ ‡ç­¾ï¼š <br><br><pre> <code class="bash hljs">kubectl label namespace default namespace=default</code> </pre> <br> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ <code>metadata</code>éƒ¨åˆ†ä¸­çš„åç§°ç©ºé—´åº”å¼•ç”¨ç©ºé—´çš„å®é™…åç§°ï¼Œè€Œä¸æ˜¯æ ‡ç­¾ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: test-network-policy namespace: default # &lt;&lt;&lt; spec: ...</code> </pre> <br><h2> æ¥æºå’Œç›®çš„åœ° </h2><br> é˜²ç«å¢™ç­–ç•¥ç”±å¸¦æœ‰æºå’Œç›®æ ‡çš„è§„åˆ™ç»„æˆã€‚ ä¸ºæ­¤å®šä¹‰äº†Kubernetesç½‘ç»œç­–ç•¥-å¯¹å…¶åº”ç”¨äº†ä¸€ç»„Podï¼Œç„¶åä¸ºä¼ å…¥ï¼ˆå…¥å£ï¼‰å’Œ/æˆ–ä¼ å‡ºï¼ˆå‡ºå£ï¼‰æµé‡å»ºç«‹è§„åˆ™ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œç­–ç•¥ç›®æ ‡å°†æ˜¯<code>default</code>åç§°ç©ºé—´ä¸­çš„æ‰€æœ‰Podï¼Œå¹¶å¸¦æœ‰å¸¦æœ‰<code>app</code>å¯†é’¥å’Œ<code>db</code>å€¼çš„æ ‡ç­¾ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: test-network-policy namespace: default spec: podSelector: matchLabels: app: db # &lt;&lt;&lt; policyTypes: - Ingress - Egress ingress: - from: - ipBlock: cidr: 172.17.0.0/16 except: - 172.17.1.0/24 - namespaceSelector: matchLabels: project: myproject - podSelector: matchLabels: role: frontend ports: - protocol: TCP port: 6379 egress: - to: - ipBlock: cidr: 10.0.0.0/24 ports: - protocol: TCP port: 5978</code> </pre> <br><img src="https://habrastorage.org/webt/zd/un/wi/zdunwi6xxqfdkvd7tj0qqpmjxly.png"><br><img src="https://habrastorage.org/webt/se/dj/wp/sedjwp5-arw7sxn7hm4dblgqhku.png"><br><br> æ­¤ç­–ç•¥ä¸­çš„â€œ <code>ingress</code>å°èŠ‚å°†è¿›å…¥çš„æµé‡æ‰“å¼€åˆ°ç›®æ ‡å®¹å™¨ã€‚ æ¢å¥è¯è¯´ï¼Œå…¥å£æ˜¯æºï¼Œç›®æ ‡æ˜¯é€‚å½“çš„ç›®çš„åœ°ã€‚ åŒæ ·ï¼Œå‡ºå£æ˜¯ç›®æ ‡ï¼Œç›®æ ‡æ˜¯å…¶æ¥æºã€‚ <br><br><img src="https://habrastorage.org/webt/rs/nf/u9/rsnfu97eapuetrrhbwejb-awnas.png"><br><br>  <i>è¿™ç­‰æ•ˆäºé˜²ç«å¢™çš„ä¸¤ä¸ªè§„åˆ™ï¼šå…¥å£â†’ç›®æ ‡ï¼›</i>  <i>ç›®æ ‡â†’å‡ºå£ã€‚</i> <br><br><h2> å‡ºå£å’ŒDNSï¼ˆé‡è¦ï¼ï¼‰ </h2><br> åœ¨é™åˆ¶å‡ºç«™æµé‡æ—¶ï¼Œè¯·<b>ç‰¹åˆ«æ³¨æ„DNS</b> -Kubernetesä½¿ç”¨æ­¤æœåŠ¡å°†æœåŠ¡æ˜ å°„åˆ°IPåœ°å€ã€‚ ä¾‹å¦‚ï¼Œä»¥ä¸‹ç­–ç•¥å°†ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºæ‚¨ä¸å…è®¸<code>balance</code>åº”ç”¨ç¨‹åºè®¿é—®DNSï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.balance namespace: default spec: podSelector: matchLabels: app: balance egress: - to: - podSelector: matchLabels: app: postgres policyTypes: - Egress</code> </pre> <br><img src="https://habrastorage.org/webt/6w/dy/jf/6wdyjftwhfiynlxrx22vivumtli.png"><br><br> æ‚¨å¯ä»¥é€šè¿‡æ‰“å¼€å¯¹DNSæœåŠ¡çš„è®¿é—®æ¥ä¿®å¤å®ƒï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.balance namespace: default spec: podSelector: matchLabels: app: balance egress: - to: - podSelector: matchLabels: app: postgres - to: # &lt;&lt;&lt; ports: # &lt;&lt;&lt; - protocol: UDP # &lt;&lt;&lt; port: 53 # &lt;&lt;&lt; policyTypes: - Egress</code> </pre> <br><img src="https://habrastorage.org/webt/z4/np/5m/z4np5m-afkmcbkqlgoxufjgc4fm.png"><br><br>  last toå…ƒç´ ä¸ºç©ºï¼Œå› æ­¤å®ƒé—´æ¥é€‰æ‹©<b>æ‰€æœ‰åç§°ç©ºé—´ä¸­çš„æ‰€æœ‰Pod</b> ï¼Œä»è€Œä½¿<code>balance</code>å°†DNSæŸ¥è¯¢å‘é€åˆ°ç›¸åº”çš„KubernetesæœåŠ¡ï¼ˆå®ƒé€šå¸¸åœ¨<code>kube-system</code>ç©ºé—´ä¸­å·¥ä½œï¼‰ã€‚ <br><br> è¿™ç§æ–¹æ³•æœ‰æ•ˆï¼Œä½†æ˜¯<b>è¿‡äºå®½æ¾å’Œä¸å®‰å…¨</b> ï¼Œå› ä¸ºå®ƒå…è®¸æ‚¨å°†DNSæŸ¥è¯¢å®šå‘åˆ°ç¾¤é›†ä¹‹å¤–ã€‚ <br><br> æ‚¨å¯ä»¥é€šè¿‡ä¸‰ä¸ªè¿ç»­çš„æ­¥éª¤å¯¹å…¶è¿›è¡Œæ”¹è¿›ã€‚ <br><br>  1.é€šè¿‡æ·»åŠ <code>namespaceSelector</code>ä»…å…è®¸é›†ç¾¤ä¸­çš„DNSæŸ¥è¯¢ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.balance namespace: default spec: podSelector: matchLabels: app: balance egress: - to: - podSelector: matchLabels: app: postgres - to: - namespaceSelector: {} # &lt;&lt;&lt; ports: - protocol: UDP port: 53 policyTypes: - Egress</code> </pre> <br><img src="https://habrastorage.org/webt/a1/hk/8v/a1hk8vmrton9izmj1jwhxtz-q1e.png"><br><br>  2.ä»…åœ¨<code>kube-system</code>åç§°ç©ºé—´ä¸­å…è®¸DNSæŸ¥è¯¢ã€‚ <br><br> ä¸ºæ­¤ï¼Œå°†æ ‡ç­¾æ·»åŠ åˆ°<code>kube-system</code> <code>kubectl label namespace kube-system namespace=kube-system</code> ï¼š <code>kubectl label namespace kube-system namespace=kube-system</code>å¹¶ä½¿ç”¨<code>namespaceSelector</code>åœ¨ç­–ç•¥ä¸­æ³¨å†Œå®ƒï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.balance namespace: default spec: podSelector: matchLabels: app: balance egress: - to: - podSelector: matchLabels: app: postgres - to: - namespaceSelector: # &lt;&lt;&lt; matchLabels: # &lt;&lt;&lt; namespace: kube-system # &lt;&lt;&lt; ports: - protocol: UDP port: 53 policyTypes: - Egress</code> </pre> <br><img src="https://habrastorage.org/webt/q6/e2/ed/q6e2edqwfz63nbamlvk2v5zpjhy.png"><br><br>  3.åæ‰§ç‹‚ç”šè‡³å¯ä»¥èµ°å¾—æ›´è¿œï¼Œå¹¶å°†DNSæŸ¥è¯¢é™åˆ¶ä¸º<code>kube-system</code>çš„ç‰¹å®šDNSæœåŠ¡ã€‚ åœ¨â€œæŒ‰åç§°ç©ºé—´å’Œå®¹å™¨è¿‡æ»¤â€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†è¯´æ˜å¦‚ä½•å®ç°æ­¤ç›®çš„ã€‚ <br><br> å¦ä¸€ä¸ªé€‰æ‹©æ˜¯åœ¨åç§°ç©ºé—´çº§åˆ«è§£æDNSã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ— éœ€ä¸ºæ¯ä¸ªæœåŠ¡æ‰“å¼€å®ƒï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.dns namespace: default spec: podSelector: {} # &lt;&lt;&lt; egress: - to: - namespaceSelector: {} ports: - protocol: UDP port: 53 policyTypes: - Egress</code> </pre> <br> ç©ºçš„<code>podSelector</code>é€‰æ‹©åç§°ç©ºé—´ä¸­çš„æ‰€æœ‰podã€‚ <br><br><img src="https://habrastorage.org/webt/ua/hn/7t/uahn7tgfus08_yt1u-rsilqoi90.png"><br><br><h2> é¦–æ¬¡æ¯”èµ›å’Œè§„åˆ™é¡ºåº </h2><br> åœ¨æ™®é€šé˜²ç«å¢™ä¸­ï¼Œæ•°æ®åŒ…çš„æ“ä½œï¼ˆâ€œå…è®¸â€æˆ–â€œæ‹’ç»â€ï¼‰ç”±å®ƒæ»¡è¶³çš„ç¬¬ä¸€æ¡è§„åˆ™ç¡®å®šã€‚  <b>åœ¨Kubernetesä¸­ï¼Œç­–ç•¥çš„é¡ºåºæ— å…³ç´§è¦ã€‚</b> <br><br> é»˜è®¤æƒ…å†µä¸‹ï¼Œæœªè®¾ç½®ç­–ç•¥æ—¶ï¼Œå°†å…è®¸Podä¹‹é—´çš„é€šä¿¡ï¼Œå¹¶ä¸”å®ƒä»¬å¯ä»¥è‡ªç”±äº¤æ¢ä¿¡æ¯ã€‚ ä¸€æ—¦æ‚¨å¼€å§‹åˆ¶å®šç­–ç•¥ï¼Œå—å…¶ä¸­è‡³å°‘ä¸€ä¸ªå½±å“çš„Podå°±ä¼šæ ¹æ®å·²é€‰æ‹©ç­–ç•¥çš„æ‰€æœ‰ç­–ç•¥çš„åˆ†ç¦»ï¼ˆé€»è¾‘æˆ–ï¼‰è€Œè¢«éš”ç¦»ã€‚ ä¸å—ä»»ä½•æ”¿ç­–å½±å“çš„è±†èšä¿æŒå¼€æ”¾çŠ¶æ€ã€‚ <br><br> æ‚¨å¯ä»¥ä½¿ç”¨å‰¥ç¦»è§„åˆ™æ›´æ”¹æ­¤è¡Œä¸ºã€‚ <br><br><h2> å‰¥ç¦»è§„åˆ™ï¼ˆæ‹’ç»ï¼‰ </h2><br> é˜²ç«å¢™ç­–ç•¥é€šå¸¸ç¦æ­¢ä»»ä½•æ˜ç¡®æœªç»æˆæƒçš„æµé‡ã€‚ <br><br>  <b>Kubernetesæ²¡æœ‰æ‹’ç»åŠ¨ä½œ</b> ï¼Œä½†æ˜¯ï¼Œé€šè¿‡é€‰æ‹©ç©ºçš„ä¸€ç»„æºPodï¼ˆå…¥å£ï¼‰ï¼Œä½¿ç”¨å¸¸è§„ï¼ˆå…è®¸ï¼‰ç­–ç•¥å¯ä»¥å®ç°ç±»ä¼¼çš„æ•ˆæœï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: deny-all namespace: default spec: podSelector: {} policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/65/-s/au/65-sauxptvceaqgedw9xvsadlso.png"><br><br> æ­¤ç­–ç•¥é€‰æ‹©åç§°ç©ºé—´ä¸­çš„æ‰€æœ‰Podï¼Œå¹¶ä½¿å…¥å£ä¿æŒæœªå®šä¹‰çŠ¶æ€ï¼Œä»è€Œé˜»æ­¢æ‰€æœ‰ä¼ å…¥æµé‡ã€‚ <br><br> åŒæ ·ï¼Œæ‚¨å¯ä»¥é™åˆ¶åç§°ç©ºé—´ä¸­çš„æ‰€æœ‰ä¼ å‡ºæµé‡ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: deny-all-egress namespace: default spec: podSelector: {} policyTypes: - Egress</code> </pre> <br><img src="https://habrastorage.org/webt/bn/fg/vq/bnfgvqcfwsgaj-jyompezzmhz6q.png"><br><br> è¯·æ³¨æ„ï¼Œ <b>ä»»ä½•å…è®¸æµå‘åç§°ç©ºé—´ä¸­çš„Podçš„å…¶ä»–ç­–ç•¥éƒ½å°†ä¼˜å…ˆäºæ­¤è§„åˆ™</b> ï¼ˆç±»ä¼¼äºåœ¨é˜²ç«å¢™é…ç½®ä¸­æ·»åŠ å…è®¸è§„åˆ™è€Œä¸æ˜¯æ‹’ç»è§„åˆ™ï¼‰ã€‚ <br><br><h2> å…è®¸æ‰€æœ‰ï¼ˆä»»ä½•å…è®¸ä»»ä½•å…è®¸ï¼‰ </h2><br> è¦åˆ›å»ºâ€œå…è®¸æ‰€æœ‰â€ç­–ç•¥ï¼Œæ‚¨å¿…é¡»æ·»åŠ ä¸Šè¿°ç¦æ­¢ç­–ç•¥å¹¶æ·»åŠ ä¸€ä¸ªç©ºçš„<code>ingress</code>å…ƒç´ ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: allow-all namespace: default spec: podSelector: {} ingress: # &lt;&lt;&lt; - {} # &lt;&lt;&lt; policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/bl/x6/ed/blx6edy0ez8h-yrkil5vb0yeb5g.png"><br><br> å®ƒå…è®¸ä»<b>æ‰€æœ‰åç§°ç©ºé—´ï¼ˆå’Œæ‰€æœ‰IPï¼‰ä¸­çš„æ‰€æœ‰å®¹å™¨è®¿é—®<code>default</code>åç§°ç©ºé—´ä¸­çš„ä»»ä½•å®¹å™¨</b> ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤è¡Œä¸ºæ˜¯å¯ç”¨çš„ï¼Œå› æ­¤é€šå¸¸ä¸éœ€è¦è¿›ä¸€æ­¥å®šä¹‰ã€‚ ä½†æ˜¯ï¼Œæœ‰æ—¶å¯èƒ½éœ€è¦æš‚æ—¶ç¦ç”¨æŸäº›ç‰¹å®šæƒé™æ‰èƒ½è¯Šæ–­é—®é¢˜ã€‚ <br><br> å¯ä»¥ç¼©å°è§„åˆ™ï¼Œå¹¶ä»…å…è®¸è®¿é—®<code>default</code>åç§°ç©ºé—´ä¸­çš„ä¸€ç»„<b>ç‰¹å®šPod</b> ï¼ˆ <code>app:balance</code> ï¼‰ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: allow-all-to-balance namespace: default spec: podSelector: matchLabels: app: balance ingress: - {} policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/ji/jn/ki/jijnkiy1fzkligxx9b2okk8arm8.png"><br><br> ä»¥ä¸‹ç­–ç•¥å…è®¸æ‰€æœ‰å…¥å£å’Œå‡ºå£æµé‡ï¼ŒåŒ…æ‹¬è®¿é—®ç¾¤é›†å¤–éƒ¨çš„ä»»ä½•IPï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: allow-all spec: podSelector: {} ingress: - {} egress: - {} policyTypes: - Ingress - Egress</code> </pre> <br><img src="https://habrastorage.org/webt/yx/eq/c4/yxeqc4hamtqwvirrodsrym7y4iy.png"><br><img src="https://habrastorage.org/webt/bi/nu/ob/binuob-mafzfz6w_r-2fmdseu2c.png"><br><br><h2> ç»“åˆå¤šç§æ”¿ç­– </h2><br> ä½¿ç”¨é€»è¾‘æˆ–åœ¨ä¸‰ä¸ªçº§åˆ«ä¸Šç»„åˆç­–ç•¥ï¼› æ¯ä¸ªPodçš„æƒé™æ˜¯æ ¹æ®å½±å“å®ƒçš„æ‰€æœ‰ç­–ç•¥çš„ç›¸å¼‚æ€§è®¾ç½®çš„ï¼š <br><br>  1.åœ¨<code>from</code>å’Œ<code>to</code>å­—æ®µä¸­ï¼Œå¯ä»¥å®šä¹‰ä¸‰ç§ç±»å‹çš„å…ƒç´ ï¼ˆæ‰€æœ‰å…ƒç´ éƒ½ä½¿ç”¨ORç»„åˆï¼‰ï¼š <br><br><ul><li>  <code>namespaceSelector</code>é€‰æ‹©æ•´ä¸ªå‘½åç©ºé—´ï¼› </li><li>  <code>podSelector</code>é€‰æ‹©åŠèˆ±ï¼› </li><li>  <code>ipBlock</code>é€‰æ‹©ä¸€ä¸ªå­ç½‘ã€‚ </li></ul><br> æ­¤å¤–ï¼Œ <code>from</code> / <code>to</code>å°èŠ‚ä¸­çš„å…ƒç´ æ•°é‡ï¼ˆå³ä½¿ç›¸åŒï¼‰ä¹Ÿä¸å—é™åˆ¶ã€‚ æ‰€æœ‰è¿™äº›å°†é€šè¿‡é€»è¾‘æˆ–ç»„åˆã€‚ <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.postgres namespace: default spec: ingress: - from: - podSelector: matchLabels: app: indexer - podSelector: matchLabels: app: admin podSelector: matchLabels: app: postgres policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/_y/pu/xy/_ypuxynlq6wslkjk65yyj5_zwsi.png"><br><br>  2.åœ¨ç­–ç•¥å†…éƒ¨ï¼Œ <code>ingress</code>éƒ¨åˆ†å¯ä»¥å…·æœ‰è®¸å¤š<code>from</code>å…ƒç´ ï¼ˆé€šè¿‡é€»è¾‘ORç»„åˆï¼‰ã€‚ åŒæ ·ï¼Œ <code>egress</code>éƒ¨åˆ†å¯ä»¥åŒ…å«è®¸å¤štoå…ƒç´ ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡å­å¥è¿æ¥ï¼‰ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.postgres namespace: default spec: ingress: - from: - podSelector: matchLabels: app: indexer - from: - podSelector: matchLabels: app: admin podSelector: matchLabels: app: postgres policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/4t/-l/f9/4t-lf9a8fm1f4whkitifyhgyfee.png"><br><br>  3.å„ç§ç­–ç•¥ä¹Ÿé€šè¿‡é€»è¾‘æˆ–ç»„åˆ <br><br> ä½†æ˜¯ï¼Œåœ¨ç»„åˆå®ƒä»¬æ—¶ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…‹é‡Œæ–¯Â·åº“å°¼</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æŒ‡å‡ºäº†</a>ä¸€ä¸ªé™åˆ¶ï¼šKubernetesåªèƒ½ç»„åˆå…·æœ‰ä¸åŒ<code>policyTypes</code> ï¼ˆ <code>Ingress</code>æˆ–<code>Egress</code> ï¼‰çš„ç­–ç•¥ã€‚ å®šä¹‰å…¥å£ï¼ˆæˆ–å‡ºå£ï¼‰çš„ç­–ç•¥å°†ç›¸äº’è¦†ç›–ã€‚ <br><br><h2> å‘½åç©ºé—´ä¹‹é—´çš„å…³ç³» </h2><br> é»˜è®¤æƒ…å†µä¸‹ï¼Œåç§°ç©ºé—´ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢æ˜¯å…è®¸çš„ã€‚ å¯ä»¥ä½¿ç”¨é™åˆ¶åˆ°å‘½åç©ºé—´çš„ä¼ å‡ºå’Œ/æˆ–ä¼ å…¥æµé‡çš„ç¦æ­¢ç­–ç•¥æ¥æ›´æ”¹æ­¤è®¾ç½®ï¼ˆè¯·å‚è§ä¸Šé¢çš„â€œå‰¥ç¦»è§„åˆ™â€ï¼‰ã€‚ <br><br> é€šè¿‡é˜»æ­¢å¯¹åç§°ç©ºé—´çš„è®¿é—®ï¼ˆè¯·å‚è§ä¸Šé¢çš„â€œå‰¥ç¦»è§„åˆ™â€ï¼‰ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨<code>namespaceSelector</code>å…è®¸æ¥è‡ªç‰¹å®šåç§°<code>namespaceSelector</code>è¿æ¥æ¥é™åˆ¶ç­–ç•¥çš„ä¾‹å¤–ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: database.postgres namespace: database spec: podSelector: matchLabels: app: postgres ingress: - from: - namespaceSelector: # &lt;&lt;&lt; matchLabels: namespace: default policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/gh/-0/ed/gh-0edsyfhl5st5_8nngwadmoai.png"><br><br> ç»“æœï¼Œ <code>default</code>åç§°ç©ºé—´ä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å°†æœ‰æƒè®¿é—®<code>database</code>åç§°ç©ºé—´ä¸­çš„<code>postgres</code>å®¹å™¨ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æƒ³ä»…å¯¹<code>default</code>åç§°ç©ºé—´ä¸­çš„ç‰¹å®šå®¹å™¨å¼€æ”¾å¯¹<code>postgres</code>è®¿é—®æƒé™ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ <br><br><h2> æŒ‰åç§°ç©ºé—´å’ŒPodè¿‡æ»¤ </h2><br>  Kubernetes 1.11å’Œæ›´é«˜ç‰ˆæœ¬å…è®¸æ‚¨ä½¿ç”¨é€»è¾‘Iç»„åˆ<code>namespaceSelector</code>å’Œ<code>podSelector</code>è¿ç®—ç¬¦ã€‚å®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: database.postgres namespace: database spec: podSelector: matchLabels: app: postgres ingress: - from: - namespaceSelector: matchLabels: namespace: default podSelector: # &lt;&lt;&lt; matchLabels: app: admin policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/47/_b/op/47_bopr6mjii5-qkujgiwgs2bku.png"><br><br> ä¸ºä»€ä¹ˆå°†å…¶è§£é‡Šä¸ºANDè€Œä¸æ˜¯é€šå¸¸çš„ORï¼Ÿ <br><br> è¯·æ³¨æ„ï¼Œ <code>podSelector</code>ä¸èƒ½ä»¥è¿å­—ç¬¦å¼€å¤´ã€‚ åœ¨YAMLä¸­ï¼Œè¿™æ„å‘³ç€<code>podSelector</code>å’Œä½äºå…¶å‰é¢çš„<code>namespaceSelector</code>å¼•ç”¨ç›¸åŒçš„åˆ—è¡¨é¡¹ã€‚ å› æ­¤ï¼Œå®ƒä»¬ç”±é€»è¾‘Iç»„åˆã€‚ <br><br> åœ¨<code>podSelector</code>å‰é¢æ·»åŠ è¿å­—ç¬¦å°†äº§ç”Ÿä¸€ä¸ªæ–°åˆ—è¡¨é¡¹ï¼Œè¯¥åˆ—è¡¨é¡¹å°†ä½¿ç”¨é€»è¾‘ORä¸å…ˆå‰çš„<code>namespaceSelector</code>ç»„åˆã€‚ <br><br> è¦<b>åœ¨æ‰€æœ‰åç§°ç©ºé—´ä¸­</b>é€‰æ‹©å¸¦æœ‰ç‰¹å®šæ ‡ç­¾çš„Podï¼Œè¯·è¾“å…¥ä¸€ä¸ªç©ºçš„<code>namespaceSelector</code> ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: database.postgres namespace: database spec: podSelector: matchLabels: app: postgres ingress: - from: - namespaceSelector: {} podSelector: matchLabels: app: admin policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/t9/lc/vn/t9lcvnyl17u39krw9vn1nc-5xmk.png"><br><br><h2> å¤šä¸ªæ ‡ç­¾ä¸ANDç»“åˆ </h2><br> ä½¿ç”¨é€»è¾‘æˆ–å°†å…·æœ‰è®¸å¤šå¯¹è±¡ï¼ˆä¸»æœºï¼Œç½‘ç»œï¼Œç»„ï¼‰çš„é˜²ç«å¢™çš„è§„åˆ™ç»„åˆåœ¨ä¸€èµ·ã€‚ å¦‚æœæ•°æ®åŒ…çš„æ¥æºä¸<code>Host_1</code>æˆ–<code>Host_2</code>åŒ¹é…ï¼Œåˆ™ä»¥ä¸‹è§„åˆ™å°†èµ·ä½œç”¨ï¼š <br><br><pre> <code class="plaintext hljs">| Source | Destination | Service | Action | | ----------------------------------------| | Host_1 | Subnet_A | HTTPS | Allow | | Host_2 | | | | | ----------------------------------------|</code> </pre> <br> ç›¸åï¼Œåœ¨Kubernetesä¸­ï¼Œ <code>podSelector</code>æˆ–<code>namespaceSelector</code>ä¸­çš„å„ç§æ ‡ç­¾ç”±é€»è¾‘Iç»„åˆã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹è§„åˆ™å°†é€‰æ‹©åŒæ—¶å…·æœ‰ä¸¤ä¸ªæ ‡ç­¾çš„Podï¼Œ <code>role=db</code> AND <code>version=v2</code> ï¼š <br><br><pre> <code class="plaintext hljs">podSelector: matchLabels: role: db version: v2</code> </pre> <br> ç›¸åŒçš„é€»è¾‘é€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„è¿ç®—ç¬¦ï¼šç­–ç•¥ç›®æ ‡é€‰æ‹©å™¨ï¼Œçª—æ ¼é€‰æ‹©å™¨å’Œåç§°ç©ºé—´é€‰æ‹©å™¨ã€‚ <br><br><h2> å­ç½‘å’ŒIPåœ°å€ï¼ˆIPå—ï¼‰ </h2><br> é˜²ç«å¢™ä½¿ç”¨VLANï¼ŒIPåœ°å€å’Œå­ç½‘æ¥åˆ’åˆ†ç½‘ç»œã€‚ <br><br> åœ¨Kubernetesä¸­ï¼ŒIPåœ°å€æ˜¯è‡ªåŠ¨åˆ†é…ç»™Podçš„ï¼Œå¹¶ä¸”å¯ä»¥ç»å¸¸æ›´æ”¹ï¼Œå› æ­¤æ ‡ç­¾ç”¨äºåœ¨ç½‘ç»œç­–ç•¥ä¸­é€‰æ‹©Podå’Œåç§°ç©ºé—´ã€‚ <br><br>  <code>ipBlocks</code> ï¼ˆ <code>ipBlocks</code> ï¼‰ç”¨äºæ§åˆ¶å…¥ç«™ï¼ˆå…¥ç«™ï¼‰æˆ–å‡ºç«™ï¼ˆå‡ºç«™ï¼‰å¤–éƒ¨ï¼ˆå—åŒ—ï¼‰è¿æ¥ã€‚ ä¾‹å¦‚ï¼Œæ­¤ç­–ç•¥ä½¿æ‰€æœ‰ä»<code>default</code>åç§°ç©ºé—´è®¿é—®çš„Podéƒ½å¯ä»¥è®¿é—®Google DNSæœåŠ¡ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: egress-dns namespace: default spec: podSelector: {} policyTypes: - Egress egress: - to: - ipBlock: cidr: 8.8.8.8/32 ports: - protocol: UDP port: 53</code> </pre> <br><img src="https://habrastorage.org/webt/fm/uc/oa/fmucoaptwhse0i5yx-hsize1d0e.png"><br><br> æ­¤ç¤ºä¾‹ä¸­çš„ç©ºå®¹å™¨é€‰æ‹©å™¨è¡¨ç¤ºâ€œé€‰æ‹©åç§°ç©ºé—´ä¸­çš„æ‰€æœ‰å®¹å™¨â€ã€‚ <br><br> è¯¥ç­–ç•¥ä»…æä¾›å¯¹8.8.8.8çš„è®¿é—®ï¼› æ‹’ç»è®¿é—®ä»»ä½•å…¶ä»–IPã€‚ å› æ­¤ï¼Œä»æœ¬è´¨ä¸Šè®²ï¼Œæ‚¨é˜»æ­¢äº†å¯¹Kuberneteså†…éƒ¨DNSæœåŠ¡çš„è®¿é—®ã€‚ å¦‚æœä»ç„¶è¦æ‰“å¼€å®ƒï¼Œè¯·æ˜ç¡®æŒ‡å®šå®ƒã€‚ <br><br> é€šå¸¸ï¼Œç”±äº<code>ipBlocks</code>ä¸­æœªä½¿ç”¨<code>ipBlocks</code>çš„å†…éƒ¨IPåœ°å€ï¼Œå› æ­¤<code>ipBlocks</code>å’Œ<code>podSelectors</code>æ˜¯äº’æ–¥çš„ã€‚  <b>é€šè¿‡</b>æŒ‡å®š<b>å†…éƒ¨IPå®¹å™¨</b> ï¼Œæ‚¨å®é™…ä¸Šå°†å…è®¸ä½¿ç”¨è¿™äº›åœ°å€ä¸å®¹å™¨è¿›è¡Œè¿æ¥ã€‚ å®é™…ä¸Šï¼Œæ‚¨å°†ä¸çŸ¥é“è¦ä½¿ç”¨å“ªä¸ªIPåœ°å€ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸åº”å°†å…¶ç”¨äºé€‰æ‹©Podçš„åŸå› ã€‚ <br><br> ä½œä¸ºåä¾‹ï¼Œä»¥ä¸‹ç­–ç•¥åŒ…æ‹¬æ‰€æœ‰IPï¼Œå› æ­¤å…è®¸è®¿é—®æ‰€æœ‰å…¶ä»–Podï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: egress-any namespace: default spec: podSelector: {} policyTypes: - Egress egress: - to: - ipBlock: cidr: 0.0.0.0/0</code> </pre> <br><img src="https://habrastorage.org/webt/yt/dt/ow/ytdtowaueimdgmppg5x9mp7y2ec.png"><br><br> æ‚¨å¯ä»¥é€šè¿‡æ’é™¤å®¹å™¨çš„å†…éƒ¨IPåœ°å€æ¥ä»…æ‰“å¼€å¯¹å¤–éƒ¨IPçš„è®¿é—®ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„Podçš„å­ç½‘æ˜¯10.16.0.0/14ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: egress-any namespace: default spec: podSelector: {} policyTypes: - Egress egress: - to: - ipBlock: cidr: 0.0.0.0/0 except: - 10.16.0.0/14</code> </pre> <br><img src="https://habrastorage.org/webt/9a/iz/c4/9aizc4r0bjzljsl0smkwaagpgfm.png"><br><br><h2> ç«¯å£å’Œåè®® </h2><br> é€šå¸¸ï¼Œpodåœ¨ä¸€ä¸ªç«¯å£ä¸Šä¾¦å¬ã€‚ è¿™æ„å‘³ç€æ‚¨å¯ä»¥ç®€å•åœ°çœç•¥ç­–ç•¥ä¸­çš„ç«¯å£å·ï¼Œå¹¶å°†æ‰€æœ‰å†…å®¹ä¿ç•™ä¸ºé»˜è®¤å€¼ã€‚ ä½†æ˜¯ï¼Œå»ºè®®å¯¹ç­–ç•¥è¿›è¡Œä¸¥æ ¼é™åˆ¶ï¼Œå› æ­¤åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨ä»ç„¶å¯ä»¥æŒ‡å®šç«¯å£ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.postgres namespace: default spec: ingress: - from: - podSelector: matchLabels: app: indexer - podSelector: matchLabels: app: admin ports: # &lt;&lt;&lt; - port: 443 # &lt;&lt;&lt; protocol: TCP # &lt;&lt;&lt; - port: 80 # &lt;&lt;&lt; protocol: TCP # &lt;&lt;&lt; podSelector: matchLabels: app: postgres policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/ie/yo/og/ieyoogygmsewwwxtg0ncvsapxmw.png"><br><br> æ³¨æ„ï¼Œ <code>ports</code>é€‰æ‹©å™¨åº”ç”¨äºå®ƒåŒ…å«çš„<code>to</code>æˆ–<code>from</code>å—ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ è¦ä¸ºä¸åŒçš„å…ƒç´ é›†æŒ‡å®šä¸åŒçš„ç«¯å£ï¼Œè¯·ä½¿ç”¨<code>to</code>æˆ–<code>from</code>è¾“å…¥æˆ–<code>egress</code>åˆ†æˆå‡ ä¸ªå°èŠ‚ï¼Œå¹¶åœ¨æ¯ä¸ªå°èŠ‚ä¸­åˆ—å‡ºæ‚¨çš„ç«¯å£ï¼š <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default.postgres namespace: default spec: ingress: - from: - podSelector: matchLabels: app: indexer ports: # &lt;&lt;&lt; - port: 443 # &lt;&lt;&lt; protocol: TCP # &lt;&lt;&lt; - from: - podSelector: matchLabels: app: admin ports: # &lt;&lt;&lt; - port: 80 # &lt;&lt;&lt; protocol: TCP # &lt;&lt;&lt; podSelector: matchLabels: app: postgres policyTypes: - Ingress</code> </pre> <br><img src="https://habrastorage.org/webt/bw/_a/8p/bw_a8p4luekpljv4c9zh6p4hw_y.png"><br><br> é»˜è®¤ç«¯å£èµ·ä½œç”¨ï¼š <br><br><ul><li> å¦‚æœæ‚¨å®Œå…¨çœç•¥ç«¯å£çš„å®šä¹‰ï¼Œåˆ™è¡¨ç¤ºæ‰€æœ‰åè®®å’Œæ‰€æœ‰ç«¯å£ã€‚ </li><li> å¦‚æœçœç•¥åè®®å®šä¹‰ï¼Œåˆ™è¡¨ç¤ºTCPã€‚ </li><li> å¦‚æœçœç•¥ç«¯å£çš„å®šä¹‰ï¼Œåˆ™è¡¨ç¤ºæ‰€æœ‰ç«¯å£ã€‚ </li></ul><br> æœ€ä½³å®è·µï¼šä¸è¦ä¾èµ–é»˜è®¤å€¼ï¼Œæ˜ç¡®æŒ‡å®šæ‰€éœ€çš„å†…å®¹ã€‚ <br><br> è¯·æ³¨æ„ï¼Œæœ‰å¿…è¦ä½¿ç”¨Podç«¯å£ï¼Œè€Œä¸æ˜¯æœåŠ¡ï¼ˆä¸‹ä¸€æ®µä¸­å°†å¯¹æ­¤è¿›è¡Œæ›´å¤šè¯´æ˜ï¼‰ã€‚ <br><br><h2> æ˜¯å¦ä¸ºPodæˆ–æœåŠ¡å®šä¹‰äº†ç­–ç•¥ï¼Ÿ </h2><br> é€šå¸¸ï¼ŒKubernetesä¸­çš„Podé€šè¿‡æœåŠ¡ç›¸äº’è”ç³»-è™šæ‹Ÿè´Ÿè½½å¹³è¡¡å™¨å°†æµé‡é‡å®šå‘åˆ°å®ç°è¯¥æœåŠ¡çš„Podã€‚ æ‚¨å¯èƒ½ä¼šè®¤ä¸ºç½‘ç»œç­–ç•¥æ§åˆ¶å¯¹æœåŠ¡çš„è®¿é—®ï¼Œä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚  <b>Kubernetesç½‘ç»œç­–ç•¥é€‚ç”¨äºPodç«¯å£ï¼Œè€Œä¸é€‚ç”¨äºæœåŠ¡ã€‚</b> <br><br> ,    80- ,      8080  pod',       8080. <br><br>     :      (   pod')    . <br><br>      Service Mesh <i>(, .  Istio  â€” . .)</i>     . <br><br><h2>     Ingress,   Egress? </h2><br>   â€” ,  pod     pod' ,       (    egress-),  pod        ( , ,  ingress-). <br><br>         ,       . <br><br>   pod- <b></b>      <b>egress</b> -,        .         pod'- <b></b> .  pod   - ,   (egress)    . <br><br>    pod'- <b></b> ,     <b>ingress</b> -,    .           pod'-.  pod   - ,   (ingress)      . <br><br> .  Â«Stateful  StatelessÂ» . <br><br><h2>  </h2><br>   Kubernetes    .    ,     ,       . <br><br><h2>       </h2><br>   Kubernetes       (DNS)   egress.             ,   IP- (  aws.com). <br><br><h2>   </h2><br>         . Kubernetes    .      kubectl Kubernetes  ,   ,    .    Kubernetes       .      : <br><br><pre> <code class="plaintext hljs">kubernetes get networkpolicy &lt;policy-name&gt; -o yaml</code> </pre> <br>   ,    Kubernetes        . <br><br><h2>  </h2><br> Kubernetes      ,    API-,        ,  Container Networking Interface (CNI).     Kubernetes    CNI             .        CNI ,    Kubernetes,    <i>(     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> â€” . .)</i> ,   ,   CNI  . <br><br>  ,  Kubernetes   ,         CNI. <br><br><h3> Stateful  Stateless? </h3><br>  CNI Kubernetes,     ,   (, Calico  Linux conntrack).   pod'      TCP-     .       Kubernetes,      (statefulness). <br><br><h2>     </h2><br>          Kubernetes: <br><br><ol><li>   Service Mesh  sidecar-           .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Istio</a> . </li><li>    CNI   ,        Kubernetes. </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Tufin Orca</a>       Kubernetes. </li></ol><br>  Tufin Orca    Kubernetes (   ,  ). <br><br><h2>   </h2><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  ,  Ahmet Alp Balkan'  GKE</a> ; </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">    Kubernetes</a> ; </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">    Kubernetes</a> ; </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">    </a> . </li></ul><br><h2> ç»“è®º </h2><br>   Kubernetes       ,        .  ,  -        .             . <br><br> ,          ,     . <br><br><h2> è¯‘è€…çš„PS </h2><br> å¦è¯·å‚é˜…æˆ‘ä»¬çš„åšå®¢ï¼š <br><br><ul><li> Â«     IstioÂ»: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> 1 (   )</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> 2 (,  )</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> 3 ()</a> ; </li><li> Â«      KubernetesÂ»: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> 1  2 ( ,  )</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> 3 (   )</a> ; </li><li> Â« <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Docker  Kubernetes     </a> Â»; </li><li> Â« <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">9       Kubernetes</a> Â»; </li><li> Â« <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">11  ()     Kubernetes</a> Â». </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN443190/">https://habr.com/ru/post/zh-CN443190/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN443180/index.html">èˆ¹å‘˜é¾™é™è½å’Œå°è¡Œæ˜Ÿè§†é¢‘æ‹æ‘„</a></li>
<li><a href="../zh-CN443182/index.html">ä»Commodore 64æ‹‰YPbPr</a></li>
<li><a href="../zh-CN443184/index.html">ä»çˆ±åˆ°æŒæ§ä¸€æ­¥</a></li>
<li><a href="../zh-CN443186/index.html">3CXæŠ€æœ¯æ”¯æŒå“åº”-5 IP PBXå®‰å…¨è§„åˆ™</a></li>
<li><a href="../zh-CN443188/index.html">ä¸‰åªçœ¼ç›å‚åœ¨æŸ±å­ä¸Šï¼Œæˆ–è€…ä¼ è¯´ATtiny13çš„äº”æ¡è…¿å°±è¶³å¤Ÿäº†</a></li>
<li><a href="../zh-CN443192/index.html">Pythonä¸­æ²¡æœ‰ä¸‹åˆ’çº¿å’Œæ¥å£çš„ç§æœ‰æ–¹æ³•</a></li>
<li><a href="../zh-CN443194/index.html">WFIRMå·¥ç¨‹å¸ˆå‘æ˜äº†ä¸€ç§ç”Ÿç‰©æ‰“å°æœºï¼Œå¯ä»¥ç›´æ¥åœ¨ä¼¤å£ä¸Šæ‰“å°çš®è‚¤</a></li>
<li><a href="../zh-CN443196/index.html">ç¦»çº¿ä¸€åˆ†é’Ÿ-é€‰æ‹©å·¥ä¸šLTEè·¯ç”±å™¨</a></li>
<li><a href="../zh-CN443198/index.html">é©¬å…‹Â·æ‰å…‹ä¼¯æ ¼ï¼ˆMark Zuckerbergï¼‰è¯´ï¼ŒFacebookæ­£åœ¨ç ”ç©¶ä¸€ç§ç”¨äºé˜…è¯»æ€æƒ³çš„ç¥ç»æ¥å£</a></li>
<li><a href="../zh-CN443200/index.html">ä¼Šæœ—é»‘å®¢ä»Citrixçªƒå–äº†TBçš„æ•°æ®</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>