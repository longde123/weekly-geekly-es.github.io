<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèΩ üåæ üòÜ A hist√≥ria emocional dos processadores para os primeiros computadores dos anos 70 ao in√≠cio dos anos 90 üëç ü§±üèæ ü•†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Passei a programar em montadores de diferentes processadores. O √∫ltimo da lista √© o Xilinx MicroBlaze. Decidi postar algumas das minhas observa√ß√µes so...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A hist√≥ria emocional dos processadores para os primeiros computadores dos anos 70 ao in√≠cio dos anos 90</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/410591/">  Passei a programar em montadores de diferentes processadores.  O √∫ltimo da lista √© o Xilinx MicroBlaze.  Decidi postar algumas das minhas observa√ß√µes sobre as caracter√≠sticas desses peda√ßos quase m√°gicos de ferro, que, como a chave m√°gica de Pin√≥quio, nos abriram portas na terra m√°gica da realidade virtual e da criatividade em massa.  Sobre os recursos dos sistemas modernos x86, x86-64, ARM, ARM-64, etc.  N√£o vou escrever, talvez outra vez - o t√≥pico √© muito amplo e complexo.  Portanto, pretendo terminar com o Intel 80486 e o ‚Äã‚ÄãMotorola 68040. Tamb√©m queria incluir o IBM / 370 com o qual estava lidando.  Esses sistemas estavam muito longe das massas de usu√°rios, mas ao mesmo tempo tiveram um enorme impacto na tecnologia de computadores.  Eles simplesmente n√£o tinham tempo suficiente alocado no t√≥pico, n√£o usavam chips de processador e, por algum motivo, pareciam ter desaparecido completamente.  Eu realmente espero que meus materiais atraiam a aten√ß√£o de conhecedores que possam acrescentar algo que eles n√£o pensaram ou n√£o sabiam. <br><br>  Como material ilustrativo, estou anexando minha pequena <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">pedra da Rosetta</a> - programas para calcular o n√∫mero œÄ em diferentes processadores e sistemas usando um algoritmo de obturador, afirmando ser a mais r√°pida de suas implementa√ß√µes. <br><br><a name="habracut"></a><br><h2>  Intel 8080 e 8085 </h2><br>  O primeiro processador real de um chip, fabricado na primeira metade de 1974, ainda est√° sendo fabricado e est√° sendo utilizado.  Clonada muitas vezes em todo o mundo, na URSS tinha a designa√ß√£o KR580VM80A.  Os modernos processadores Intel para PCs ainda revelam com facilidade sua afinidade por esse produto de rel√≠quia.  Eu mesmo n√£o escrevi c√≥digos para esse processador, mas, estando familiarizado com a arquitetura do z80, arriscaria trazer alguns dos meus coment√°rios. <br><br>  O sistema de instru√ß√µes 8080, como outros processadores Intel para PCs, dificilmente pode ser chamado de ideal, mas √© universal, bastante flex√≠vel e possui v√°rios recursos muito atraentes.  De seus concorrentes, o Motorola 6800 e o MOS Technology 6502, 8080 diferiam favoravelmente em um grande n√∫mero de registros, embora um tanto desajeitados, fornecendo ao usu√°rio uma bateria A de 8 bits, um semi-acumulador de 16 bits e um registro de √≠ndice HL r√°pido em tempo parcial, indicador de pilha SP de 16 bits , bem como mais dois registradores de 16 bits, Sun e DE.  Os registros BC, DE e HL podem ser usados ‚Äã‚Äãcomo registros de 6 bytes.  Al√©m disso, o 8080 tinha suporte para um conjunto quase completo de sinalizadores de status: carry, sign, zero, e at√© paridade e semi-transfer√™ncia.  Algumas das instru√ß√µes do conjunto de instru√ß√µes 8080 s√£o campe√£s de velocidade.  Por exemplo, o comando XCHG troca o conte√∫do dos registros DE e HL de 16 bits em apenas 4 ciclos de clock - foi excepcionalmente r√°pido!  V√°rias outras equipes, embora n√£o tenham estabelecido recordes t√£o v√≠vidos, tamb√©m estiveram entre as melhores por um longo tempo: <br><br><ul><li>  XTHL - trocando o conte√∫do do registro HL e os dados no topo da pilha, 18 ciclos de rel√≥gio - parece muito, mesmo em um 8086 de 16 bits real, esse comando leva 22 ciclos de rel√≥gio, e para um 6800 ou 6502 √© at√© dif√≠cil imaginar esse comando; </li><li>  DAD - adicione ao semi-acumulador HL o valor de outro registrador de 16 bits (BC, DE ou mesmo SP), 10 ciclos de clock.  Esta √© uma adi√ß√£o real de 16 bits com a configura√ß√£o do sinalizador de transporte.  Se voc√™ adicionar HL consigo, obter√° um deslocamento √† esquerda r√°pido de 16 bits ou multiplica√ß√£o 2 vezes, uma opera√ß√£o chave para multiplica√ß√£o e divis√£o completas; </li><li>  PUSH e POP - coloque na pilha e remova do valor de 16 bits da pilha, respectivamente, do registro ou no registro.  Realizado em 11 e 10 ciclos.  Essas s√£o as opera√ß√µes mais r√°pidas do 8080 para trabalhar com mem√≥ria e, no desempenho delas, h√° um incremento ou decr√©scimo autom√°tico de SP.  PUSH pode ser usado, por exemplo, para preencher rapidamente uma mem√≥ria com um padr√£o com valores de 3 registros (BC, DE, HL).  N√£o h√° comandos para trabalhar com quantidades de 8 bits com uma pilha; </li><li>  LXI - carregando uma constante de 16 bits no registrador (HL, DE, BC, SP) por 10 ciclos de rel√≥gio; </li><li>  RNZ, RZ, RNC, RC, RPO, RPE, RP, RM - retornos condicionais da sub-rotina, permitidos para tornar o c√≥digo mais limpo, eliminando a necessidade de escrever ramifica√ß√µes condicionais extras.  Essas equipes foram abandonadas na arquitetura x86; √© poss√≠vel que, em v√£o, o c√≥digo com ele seja mais agrad√°vel. </li></ul><br>  Esse processador foi usado no primeiro computador pessoal Altair 8800, que se tornou muito popular ap√≥s a publica√ß√£o da revista no in√≠cio de 1975. A prop√≥sito, uma publica√ß√£o semelhante na URSS s√≥ aconteceu em 1980 e sua relev√¢ncia correspondente apenas em 1986. <br><br><img src="https://img.newatlas.com/altair-8800-clone-0.jpg?auto=format%2Ccompress&amp;fit=max&amp;h=670&amp;q=60&amp;w=1000&amp;s=a0b62f09568803467c43a40736f5f4df" align="left"><br>  <i>Primeiro quase pc</i> <i><br></i> <br>  O Intel 8080 se tornou a base para o desenvolvimento do sistema operacional CP / M profissional em massa, que dominou os microcomputadores para trabalho profissional at√© meados da d√©cada de 1980. <br><br>  Agora sobre as defici√™ncias.  O 8080 requer tr√™s fontes de tens√£o de -5, 5 e 12 volts.  Trabalhar com interrup√ß√µes √© complicado e lento.  E, em geral, o 8080 √© bastante r√°pido, se o compararmos com os concorrentes que logo apareceram.  O 6502 pode ser at√© tr√™s vezes mais r√°pido ao operar na mesma frequ√™ncia que o 8080. <br><br>  Mas na arquitetura do 8080, acabou sendo uma vis√£o correta do futuro, a saber, fato desconhecido nos anos 70 de que os processadores ser√£o mais r√°pidos que a mem√≥ria.  Os registros 8080 DE e BC s√£o mais um prot√≥tipo de caches modernos operados √† m√£o do que os registros de uso geral.  O 8080 come√ßou com uma frequ√™ncia de 2 MHz e concorrentes com apenas 1, o que suavizou a diferen√ßa de desempenho. <br><br>  √â dif√≠cil chamar o 8080 de processador de 8 bits a 100%.  Obviamente, ele tem uma ALU de 8 bits, mas existem muitas instru√ß√µes de 16 bits mais r√°pidas do que usar apenas an√°logos de 8 bits.  E para algumas equipes, n√£o existem an√°logos de 8 bits.  A equipe do XCHG em ess√™ncia e hor√°rios √© 100% de 16 bits.  Existem registros reais de 16 bits.  Portanto, ouso chamar 8080 parcialmente de 16 bits.  Seria interessante calcular o √≠ndice de capacidade do processador a partir da totalidade dos sinais, mas at√© onde o autor sabe, ningu√©m fez esse trabalho. <br><br>  O autor n√£o sabe o motivo pelo qual a Intel recusou o suporte direto ao desenvolvimento de PCs de 8 bits com seus processadores.  A Intel sempre se distinguiu pela complexidade e ambiguidade da pol√≠tica.  Sua conex√£o com a pol√≠tica, em particular, √© ilustrada pelo fato de que, durante muito tempo, a Intel operava f√°bricas em Israel e at√© o final dos anos 90 era secreta.  A Intel praticamente n√£o tentou melhorar o 8080, a frequ√™ncia do rel√≥gio foi aumentada para apenas 3 com um pequeno MHz.  De fato, o mercado de 8 bits foi transferido para a Zilog com um processador 8080 z80 relacionado, capaz de confrontar com sucesso o principal concorrente, o "terminador" 6502. <br><br>  Na URSS e na R√∫ssia, o clone dom√©stico 8080 tornou-se a base de muitos computadores de massa que permaneceram populares at√© o in√≠cio dos anos 90.  √â claro que este √© o Radio-86RK, Mikrosh, Orion-128 multicolorido, Vector e Corvette.  No entanto, os clones baratos e aprimorados do zX Spectrum z80 derrotaram as Guerras Cl√¥nicas. <br><br><img src="https://www.old-games.ru/forum/attachments/d64acd00877a00143c992eeffc16e35d-jpg.75531/"><br>  <i>Este √© um PC real.</i> <br><br>  No in√≠cio de 1976, a Intel lan√ßou o processador 8085, compat√≠vel com o 8080, mas muito superior ao seu antecessor.  J√° tornou desnecess√°ria a fonte de alimenta√ß√£o de -5 e 12 volts e o diagrama de conex√£o foi simplificado, o trabalho com interrup√ß√µes foi aprimorado, a frequ√™ncia do rel√≥gio foi usada de 3 a 6 MHz muito s√≥lidos, o sistema de comando foi expandido com v√°rias instru√ß√µes √∫teis: subtra√ß√£o de 16 bits, mudan√ßa de 16 bits para a direita em apenas 7 ciclos (isso √© muito r√°pido), rota√ß√£o de 16 bits para a esquerda atrav√©s do sinalizador de transfer√™ncia, carregamento de um registro de 16 bits com um deslocamento de 8 bits (este comando tamb√©m pode ser usado com o ponteiro da pilha SP), escreva o registro HL no endere√ßo DE semelhante a h  HL flui atrav√©s do DE.  Todas as instru√ß√µes acima, com exce√ß√£o da mudan√ßa para a direita, s√£o executadas em 10 ciclos - √†s vezes √© significativamente mais r√°pido que seus equivalentes ou emula√ß√£o no z80.  Mais algumas instru√ß√µes foram adicionadas e at√© dois novos sinalizadores de bandeira.  Entre os novos sinalizadores, vale a pena notar o sinalizador de estouro, embora o trabalho com ele praticamente n√£o tenha suporte.  Al√©m disso, muitas instru√ß√µes para trabalhar com dados de bytes foram aceleradas.  Isso foi muito significativo, pois em muitos sistemas com 8080 ou z80 foram introduzidos ticks de atraso, que, devido √† presen√ßa de ticks extras no 8080, podiam prolongar o tempo de execu√ß√£o quase duas vezes.  Por exemplo, em um computador dom√©stico, as instru√ß√µes de vetor do tipo registrador de registro foram executadas por 8 ciclos de clock e, se houvesse 8085 ou z80, essas mesmas instru√ß√µes seriam executadas em apenas 4 ciclos de clock.  A instru√ß√£o XTHL √© ainda dois passos mais r√°pida.  Com as novas instru√ß√µes, voc√™ pode escrever um c√≥digo para copiar o bloco de mem√≥ria, mais r√°pido que os comandos LDI / LDD do processador Z80!  No entanto, algumas instru√ß√µes, por exemplo, incremento e decremento de 16 bits, PUSH e retornos condicionais se tornaram mais lentos por rel√≥gio. <br><br>  O 8085 possui suporte interno para trabalhar com interrup√ß√µes, o que, em muitos casos, permite que voc√™ fa√ßa isso sem um controlador de interrup√ß√£o separado no sistema e uma porta de entrada / sa√≠da serial.  Como j√° observado, em 8085 eles n√£o adicionaram suporte completo ao sinalizador de estouro, portanto a aritm√©tica dos n√∫meros com um sinal permaneceu um pouco incompleta. <br><br>  No entanto, posso repetir novamente a f√≥rmula "por raz√µes desconhecidas do autor". A Intel se recusou a promover o 8085 como processador principal.  Somente nos anos 80 surgiram v√°rios sistemas baseados em 8085. O primeiro em 1981 foi o antecessor e quase rival do IBM PC - IBM System / 23 Datamaster.  Ent√£o, em 1982, foi lan√ßado um computador muito r√°pido, com excelentes gr√°ficos, o Zenith Z-100, no qual 8085 trabalhava a 5 MHz.  Em 1983, a empresa japonesa Kyotronic criou uma joelheira KC-85 de muito sucesso, cujas variantes tamb√©m foram produzidas por outras empresas: a Tandy produziu o TRS-80 modelo 100, NEC - PC-8201a, Olivetti - M-10.  No total, foram liberadas mais de 10 milh√µes de c√≥pias desses computadores!  Na URSS / RF no in√≠cio dos anos 90, com base no clone dom√©stico IM1821VM85A, houve tentativas de melhorar alguns sistemas, por exemplo, o computador Vector.  Surpreendentemente, o processador principal do rover Sojourner, que atingiu a superf√≠cie de Marte em 1997, era 8085 com uma frequ√™ncia de 2 MHz! <br><br>  De fato, a Intel deu ao z80 uma cor verde.  Alguns anos depois, na batalha pelo mercado de 16 bits, a Intel se comportou de maneira completamente diferente, iniciando um processo para proibir as vendas dos processadores v20 e v30 nos Estados Unidos.  Curiosamente, os processadores mencionados da empresa japonesa NEC poderiam mudar para o modo de compatibilidade bin√°ria total com o 8080, o que os tornou os processadores mais r√°pidos da arquitetura 8080. <br><br>  Outro segredo da Intel √© a recusa em publicar um sistema de comando estendido, incluindo suporte para novos sinalizadores.  No entanto, um dos fabricantes oficiais desses processadores publicou todo o sistema de equipes.  Quais s√£o as raz√µes para uma rejei√ß√£o t√£o estranha?  S√≥ se pode adivinhar.  Talvez o Zilog tenha desempenhado um papel semelhante ao que a AMD possivelmente representou, e tenha criado a apar√™ncia de competi√ß√£o, e o 8085 possa derrubar o Zilog?  Talvez o ponto esteja no desejo de manter o sistema de comando mais pr√≥ximo do 8086 ent√£o projetado?  O √∫ltimo parece duvidoso.  O Intel 8086 foi lan√ßado mais de 2 anos ap√≥s o lan√ßamento do 8085 e √© dif√≠cil acreditar que em 1975 seu sistema de comando j√° era conhecido.  E, em qualquer caso, a compatibilidade com o 8080 e o 8085 a 8086 √© poss√≠vel apenas com o uso de um processador macro, √†s vezes substituindo um comando do 8080/8085 por v√°rios.  Al√©m disso, as duas novas instru√ß√µes publicadas 8085 em 8086 n√£o s√£o vi√°veis.  √â especialmente dif√≠cil explicar por que a Intel n√£o publicou informa√ß√µes sobre novas equipes ap√≥s o lan√ßamento do 8086. S√≥ podemos supor que era mais uma quest√£o de marketing.  Piorando artificialmente as especifica√ß√µes do 8085, obtivemos um 8086 mais espetacular nesse cen√°rio. <br><br><h2>  Motorola 6800 e parentes pr√≥ximos </h2><br>  Os processadores Motorola sempre se distinguiram pela presen√ßa de v√°rios "destaques" muito atraentes, enquanto ao mesmo tempo a presen√ßa de algumas solu√ß√µes arquitet√¥nicas que s√£o absurdas em abstra√ß√£o e baixa praticidade.  O principal "destaque" de todos os processadores em quest√£o √© a segunda bateria de registro cheia e muito r√°pida. <br><br>  O 6800 foi o primeiro processador do mundo que precisava de apenas uma fonte de energia (5 volts) - foi uma inova√ß√£o muito √∫til.  Devido √† exclusividade do registro de √≠ndice de 16 bits, que √© complicado para uma arquitetura de 8 bits, o Ho 6800 acabou sendo inconveniente para a programa√ß√£o e o uso pelo produto.  Foi lan√ßado em 1974, n√£o muito depois de 8080, mas nunca se tornou a base de nenhum sistema de computador conhecido.  Curiosamente, os desenvolvedores do 6502, Chuck Peddle e Bill Mensch, consideraram o 6800 errado, "grande demais".  No entanto, ele e suas variantes foram amplamente utilizados como microcontroladores.  Talvez valha a pena notar que a Intel fabrica processadores desde 1971, que colocam a Motorola na posi√ß√£o de vantagem, para a qual o 6800 foi o primeiro processador.  E se voc√™ comparar o 6800 n√£o com o 8080, mas com o seu antecessor 8008, o 6800 ser√° muito mais prefer√≠vel.  A Motorola quase alcan√ßou a Intel com 68000/20/30/40.  Voc√™ tamb√©m pode notar que, nos anos 70, a Motorola era uma empresa muito maior que a Intel. <br><br>  Tamb√©m foram produzidas 6800 variantes: 6801, 6802, 6803, 6805, ... A maioria delas s√£o microcontroladores com mem√≥ria interna e portas de entrada / sa√≠da.  O 6803 √© um 6801 simplificado e foi usado muito tarde (1983) para seu computador de classe Tandy TRS-80 MC-10 e seu clone franc√™s Matra Alice, que eram compar√°veis ‚Äã‚Äãao Commodore VIC-20 (1980) ou Sinclair ZX81 (1981).  O sistema de instru√ß√µes 6801/6803 foi significativamente aprimorado, foram adicionadas instru√ß√µes de 16 bits, multiplica√ß√£o ... Uma instru√ß√£o incomum de ramifica√ß√£o incondicional (BRN - ramifica√ß√£o nunca) apareceu, que nunca √© executada!  Algumas instru√ß√µes tornaram-se um pouco mais r√°pidas. <br><br>  O 680x suporta totalmente o trabalho com n√∫meros inteiros assinados, o z80 e o 6502 o suportam pior, enquanto o 8080 e o 8085 quase n√£o t√™m esse suporte.  No entanto, no software de 8 bits, esse suporte raramente era necess√°rio. <br><br>  O 6809 foi lan√ßado em 1978, quando a era de 16 bits j√° havia come√ßado com o 8086 e possui um sistema de comando muito desenvolvido, incluindo a multiplica√ß√£o de baterias de dois bytes para obter um resultado de 16 bits em 11 ciclos (para compara√ß√£o, o 8086 requer 70 ciclos para uma opera√ß√£o semelhante) .  Duas baterias podem, em v√°rios casos, ser agrupadas em uma de 16 bits, o que fornece instru√ß√µes r√°pidas de 16 bits.  O 6809 possui dois registradores de √≠ndice e um n√∫mero recorde de m√©todos de endere√ßamento entre processadores de 8 bits - 12. Entre os m√©todos de endere√ßamento, existem apenas chips de 8 bits, como √≠ndice com auto-incremento ou decremento, em rela√ß√£o ao contador de instru√ß√µes, √≠ndice com deslocamento.  O 6809 tem uma oportunidade interessante de usar dois tipos de interrup√ß√µes: voc√™ pode usar interrup√ß√µes r√°pidas com economia parcial parcial de registros e interrup√ß√µes com economia total de registros - o 6809 possui tr√™s entradas para sinais de interrup√ß√£o FIRQ (m√°scara r√°pida), IRQ (m√°scara), NMI (m√°scara).  √Äs vezes, tamb√©m √© conveniente usar instru√ß√µes r√°pidas para ler e definir todos os sinalizadores de uma s√≥ vez. <br><br>  No entanto, as opera√ß√µes de mem√≥ria exigem mais de 6502 ciclos de rel√≥gio.Os registros de √≠ndice permaneceram dinossauros desajeitados de 16 bits em um mundo de 8 bits, algumas opera√ß√µes s√£o simplesmente chocantes devido √† sua lentid√£o, por exemplo, transferir uma bateria de byte para outra leva 6 ciclos e a troca seu conte√∫do √© 8 ciclos (compare com o 8080, onde ocorre uma troca de 16 bits em 4 ciclos)!  Por alguma raz√£o, dois ponteiros de pilha s√£o oferecidos imediatamente, talvez tenha sido a influ√™ncia da arquitetura de impasse VAX-11 - em uma arquitetura de 8 bits com 64 KB de mem√≥ria, parece muito estranho.  E mesmo a presen√ßa de uma instru√ß√£o com o nome interessante SEX n√£o pode resolver todos os problemas do 6809.  Em geral, o 6809 ainda √© um pouco mais r√°pido que o 6502 na mesma frequ√™ncia, mas requer a mesma velocidade de mem√≥ria.  Consegui fazer a divis√£o para o 6809 com um dividendo de 32 bits e um divisor de 16 bits (32/16 = 32,16) por pouco mais de 520 ciclos, para 6502 n√£o consegui atingir menos de 650 ciclos.  A segunda bateria √© uma grande vantagem, mas outros recursos do 6502, em particular a transfer√™ncia invertida, reduzem essa vantagem apenas para os 25% indicados.  Mas a multiplica√ß√£o por uma constante de 16 bits acabou sendo mais lenta que a tabela 6502 com uma tabela 768 bytes.  O 6809 permite escrever c√≥digos bastante compactos e r√°pidos usando o endere√ßamento da p√°gina instalada (p√°gina direta), mas esse endere√ßamento torna os c√≥digos bastante confusos.  A ess√™ncia desse endere√ßamento √© definir o byte alto do endere√ßo de dados em um registro especial e especificar apenas o byte baixo do endere√ßo nos comandos.  O mesmo sistema com apenas um valor de byte alto fixo √© usado no 6502, onde √© chamado de endere√ßamento de p√°gina zero.  O endere√ßamento da p√°gina instalada √© um an√°logo direto do uso do registro de segmento DS em x86, n√£o apenas para segmentos de 64 KB, mas para segmentos de apenas 256 bytes.  Outra arquitetura rebuscada do 6800 √© o uso da ordem de bytes de alto a baixo (Big Endian), que diminui as opera√ß√µes de 16 bits de adi√ß√£o e subtra√ß√£o.  O 6809 n√£o √© totalmente compat√≠vel com os c√≥digos de instru√ß√£o 6800. 6809 foi o √∫ltimo processador de 8 bits da Motorola; em desenvolvimentos posteriores, decidiu-se usar o 68008. <br><br>  Pode-se supor que a Motorola gastou muito dinheiro para promover o 6809. Isso ainda √© verdade com a men√ß√£o deste processador.  Cerca de 6809 existem muitas an√°lises favor√°veis, diferindo em algumas nebulosas, generaliza√ß√µes e imprecis√µes.  6809 foi posicionado como um superprocessador baseado em microprocessador de 8 bits.  Quase os sistemas operacionais Unix, OS-9 e UniFlex foram feitos para ele.        Apple Macintosh ,       ,          68000. , 6809 ‚Äì   ,            6502 (   )  z80 ( ).   ,   ,   Motorola          6809    6502. <br><br> 6809       .     ‚Äì    Tandy Color  Tandy Coco,         Dragon-32/64.   80-     Tandy Coco      ,           .   6809 -      80-  Thomson,       -   . 6809            :   Commodore SuperPET 9000          TUBE-  BBC Micro.          ,  , .         .      , Vectrex,     ‚Äì  . <br><br><img src="https://i.imgur.com/DOVW3CM.jpg"><br> <i>  3</i> <br><br> 680x        ¬´  ¬ª (Halt and Catch Fire ‚Äì HCF),       , , .      ,        (reset).       .  6800 , ,      , ..          ! <br><br>   8080, 8085  z80 6809     8-.  6309     8-,     Toshiba (        ,    ,   1982)  ,    6809. ,        ,        6809      .       ,     1988   Usenet.     ,      ,    .      .   ,           32-   16-  (32/16=16,16)  34 ,     .   16-   32-   28 .               6 + 3n,  n ‚Äì    ,     ,     .            .      .     , -  .             0.  - , 6309 ‚Äì      8-         64 . <br><br> 6309      6809,        Tandy  .     , e   6309. <br><br><h2> MOS Technology 6502  WDC 65816 </h2><br>      .           .            .    : <br><br><ul><li>  - Motorola,   -    Intel; </li><li>   MOS Technology; </li><li>   6502       . </li></ul><br>  Tudo come√ßou com o fato de a Motorola, por raz√µes completamente desconhecidas, recusar-se a apoiar a iniciativa, jovens engenheiros que se propunham a melhorar o geralmente med√≠ocre processador 6800. Eles tiveram que deixar a empresa e continuar seu trabalho na pequena mas promissora empresa MOS Technology, onde logo prepararam dois processadores 6501 e 6502 fabricados usando a tecnologia NMOS.  O primeiro era compat√≠vel com o 6800, mas por outro lado eram id√™nticos.  A equipe 6501/6502 conseguiu introduzir com sucesso a nova tecnologia de fabrica√ß√£o de chips, o que reduziu radicalmente o custo de novos processadores.  Em 1975, a MOS Technology poderia oferecer US $ 6502 por US $ 25, enquanto o pre√ßo inicial do Intel 8080 e Motorola 6800 era em 1974 US $ 360.  Em 1975, Motorola e Intel reduziram os pre√ßos, mas ainda estavam perto de US $ 100.  Os especialistas em tecnologia MOS alegaram que seu processador √© at√© 4 vezes mais r√°pido que o 6800. Isso me parece duvidoso: o 6502 pode trabalhar com mem√≥ria muito mais rapidamente, mas a segunda bateria do 6800 acelerou muito muitos c√°lculos.  Eu posso estimar que o 6502 foi, em m√©dia, mais r√°pido do que 2 vezes.  A Motorola iniciou uma a√ß√£o contra seus ex-funcion√°rios - eles alegadamente usaram muitos dos segredos tecnol√≥gicos da empresa.  Durante o processo, foi poss√≠vel estabelecer que um dos engenheiros que deixaram a Motorola emitiu alguns documentos confidenciais no 6800, agindo de forma contr√°ria √†s configura√ß√µes de seus colegas.  Ainda n√£o se sabe se foi sua pr√≥pria a√ß√£o ou se houve algumas for√ßas orientadoras atr√°s dele.  Por esse e outros motivos n√£o totalmente claros, a Motorola obrigou a MOS Technology, cujas capacidades financeiras eram muito pequenas, a pagar uma quantia significativa de US $ 200.000 e a abandonar a produ√ß√£o de 6501. A Intel em uma situa√ß√£o semelhante ao Zilog agiu de maneira bastante diferente.  Embora deva-se admitir que a MOS Technology √†s vezes era muito arriscada ao tentar usar o grande dinheiro gasto pela Motorola para promover o 6800 para seus pr√≥prios fins. <br><br>  Mais adiante, aparecem a lend√°ria empresa Commodore e seu igualmente lend√°rio fundador, Jack Tramiel, √† sombra da figura do principal financiador da empresa que determina sua pol√≠tica - um homem chamado Irving Gould.  Jack recebeu um empr√©stimo de Irving e, com esse dinheiro, usando v√°rios, para dizer o m√≠nimo, t√°ticas inescrupulosas, for√ßou a MOS Tecchnology a se tornar parte do Commodore.  Depois disso, talvez contrariamente aos desejos de Tramel, que cedeu a Hood, o desenvolvimento do 6502 praticamente parou, embora em 1976 tenha sido poss√≠vel produzir prot√≥tipos 6502 com frequ√™ncias de opera√ß√£o de at√© 10 MHz, embora uma mensagem sobre isso tenha aparecido apenas depois de muitos anos de uma pessoa chamado Bill Mensch (ele fazia parte da equipe que deixou a Motorola), que repetidamente fez declara√ß√µes barulhentas, mas em grande parte vazias, e teve um papel bastante amb√≠guo no destino de 6502.  O desenvolvedor principal do 6502, Chuck Peddle, foi removido para sempre do desenvolvimento de processadores.  O 6502 continuou a ser produzido n√£o apenas no Commodore, mas tamb√©m na empresa criada por Bill Mensch, Western Design Center (WDC).  √â curioso que nenhuma equipe anterior do 6502 tenha trabalhado com ele no futuro. <br><br>  O drama por volta de 6502 n√£o terminou a√≠.  Em 1980, apareceu um pequeno artigo an√¥nimo na revista AIM65 Interactive da Rockwell, afirmando que todos os 6502 carregam um bug perigoso chamado JMP (xxFF).  O tom do artigo sugere algo completamente fora do comum.  Posteriormente, essa atitude mudou para a posi√ß√£o da Apple sobre esse assunto e se tornou uma esp√©cie de mainstream.  Embora, estritamente falando, n√£o houvesse "bug".  Obviamente, um dos recursos, bastante apropriado e at√© √∫til entre os microprocessadores, pode parecer um bug irritante para um especialista que se acostumou aos confort√°veis ‚Äã‚Äãprocessadores de grandes sistemas daqueles anos.  Mas, de fato, esse comportamento, que magoa os sentimentos de algu√©m, foi descrito na documenta√ß√£o oficial de 1976 e nos livros did√°ticos de programa√ß√£o que apareceram antes do aparecimento do artigo mencionado.  O "bug" foi eliminado por Bill Mensch, que produziu 6502 (CMOS 6502) presumivelmente em 1983, ou seja, ap√≥s o lan√ßamento do 65816. Enquanto a Intel, a Motorola e outros fabricantes de processadores de 16 bits das novas gera√ß√µes, o 6502 foi aprimorado apenas microscopicamente e tornado artificialmente parcialmente incompat√≠vel consigo mesmo.  Al√©m de eliminar o "bug", v√°rias altera√ß√µes foram feitas, o que, em particular, levou a uma altera√ß√£o durante a execu√ß√£o de v√°rias instru√ß√µes, que se tornaram mais lentas a cada batida, mas, ao mesmo tempo, em um sentido acad√™mico absurdo, tornaram-se mais corretas.  Mas devo admitir que v√°rias novas instru√ß√µes foram esperadas e √∫teis.  Por outro lado, a grande maioria das novas instru√ß√µes ocupava apenas o espa√ßo do c√≥digo, adicionando quase nada aos recursos do 6502, o que deixava menos novos c√≥digos para poss√≠veis atualiza√ß√µes adicionais.  O Commodore e a Ricoh japonesa (fabricante dos consoles de jogos NES mais populares) n√£o aceitaram essas altera√ß√µes.  O pr√≥prio autor deste material encontrou v√°rias vezes o problema desse "bug".  Sem saber nada sobre ele, ele escreveu programas para o Commodore.  Em seguida, ele transferiu um deles para sistemas em que um conjunto de comandos 6502 foi usado.  Incompatibilidade surgiu, tive que mudar os c√≥digos, fazer uma compila√ß√£o condicional.  O c√≥digo para 6502 acabou sendo mais volumoso e lento.  Em seguida, ele levantou essa quest√£o no f√≥rum 6502.org, onde a maioria dos participantes √© do mundo Apple.  Perguntei se algu√©m poderia dar um exemplo quando o "bug" indicado travou o programa.  Recebi apenas coment√°rios emocionais e gerais; nenhum exemplo concreto foi proposto. <br><br><img src="https://habrastorage.org/webt/f-/8q/mv/f-8qmv2x4io6ga8qxomqg0dxqnw.png">  Bug !!! <br><br>  O 65C02 foi licenciado para muitas empresas, em particular NCR, GTE, Rockwell, Synertek e Sanyo.  Usado no Apple II, come√ßando com os modelos IIe, embora muitos IIe usassem o NMOS 6502. A variante 65C02 6512 tamb√©m foi usada nos modelos posteriores da BBC Micro.  A Atari usou o NMOS 6502. Al√©m do CMOS 6502, a Synertek e a Rockwell tamb√©m produziram o NMOS 6502. A prop√≥sito, o NMOS 6502 possui seu pr√≥prio conjunto de instru√ß√µes n√£o documentadas, cuja natureza √© completamente diferente dos comandos ‚Äúsecretos‚Äù 8085. Em 6502, essas instru√ß√µes apareceram como um efeito colateral da tecnologia usada, portanto a maioria deles √© bastante in√∫til, mas v√°rios, por exemplo, carregam ou descarregam dois registradores com um comando ao mesmo tempo e outros podem tornar o c√≥digo mais r√°pido e mais compacto. <br><br>  Houve outras tentativas de atualizar o 6502. No mesmo ano de 1979, apareceu um artigo que os computadores da Atari estavam se preparando para produzir o processador 6509 (que n√£o deve ser confundido com o processador com o mesmo nome da empresa Commodore que apareceu mais tarde), que deveria acelerar a execu√ß√£o de comandos em 25% e muitos novos. instru√ß√µes.  Mas, por raz√µes desconhecidas na precis√£o, a produ√ß√£o deste processador n√£o ocorreu.  O Commodore realizou apenas atualiza√ß√µes microsc√≥picas.  L√°, em particular, eles mudaram para a tecnologia HMOS e a produ√ß√£o de n√∫cleos est√°ticos, o que tornou poss√≠vel a desacelera√ß√£o dos processadores.  Do ponto de vista da programa√ß√£o, o mais interessante √© o processador 6509, que, embora de forma muito primitiva, com a ajuda de apenas duas instru√ß√µes especialmente alocadas para esse fim, permite endere√ßar at√© 1 MB de mem√≥ria.  No super popular Commodore 64 e 128, havia 6510/8510 processadores e nas menos bem sucedidas 264 s√©ries - 7501/8501.  Esses processadores tinham apenas 6 e 7 portas de E / S incorporadas, respectivamente, enquanto o 7501/8501 n√£o suportava interrup√ß√µes desmascar√°veis.  A Rockwell produziu a variante 65C02 com seu conjunto de instru√ß√µes de opera√ß√µes estendidas de 32 bits (semelhante √†s instru√ß√µes do z80 bits), no entanto, tanto quanto eu sei, esses processadores n√£o foram usados ‚Äã‚Äãem computadores e essas instru√ß√µes de bits eram mais propensas a serem usadas apenas em sistemas embarcados.  Esta extens√£o, a prop√≥sito, foi produzida por Bill Mensch. <br><br>  A √∫ltima cena do drama com a participa√ß√£o do 6502 foi indicada na preven√ß√£o de computadores baseados no 6502 com frequ√™ncia de 2 MHz para o mercado norte-americano na primeira metade dos anos 80.  Isso afetou a estrangeira-inglesa BBC Micro, sua empresa de produ√ß√£o Acorn fabricou um grande lote de computadores para os Estados Unidos, mas, como se viu, em v√£o.  Algum tipo de bloqueio funcionou e os computadores tiveram que ser urgentemente refeitos para os padr√µes europeus.  Os computadores semi-americanos, mas formalmente canadenses, Commodore CBM II (1982), apesar de alguns problemas (em particular, de acordo com os padr√µes para equipamentos el√©tricos), ainda eram permitidos.  Talvez devido ao fato de eles n√£o possu√≠rem modos gr√°ficos e nem texto colorido - nem mesmo o elegante design da Porsche poderia compensar isso.  O √∫ltimo na lista de perdedores foi o 100% americano Apple III (1980) - sabe-se que Steve Jobs, como o gerente da Apple em geral, fez muito para impedir que esse computador acontecesse.  Os empregos exigiam especifica√ß√µes claramente imposs√≠veis e gerenciamento - prazos irrealistas.  Ser√° que algum dia descobriremos seus motivos?  O Apple III Plus, lan√ßado em 1983, conseguiu eliminar as falhas do Apple III, mas o gerenciamento da Apple fechou o projeto em 1984, devido √† falta de vontade de competir com o computador Macintosh.  Somente em 1985, quando a era da tecnologia de 8 bits come√ßou a sair, o Commodore 128 apareceu, que podia usar 6502 em um de seus modos com uma velocidade de clock de 2 MHz.  Mas aqui tamb√©m ficou mais uma piada, j√° que esse modo praticamente n√£o era suportado e praticamente n√£o havia programas para isso.  Somente na segunda metade da d√©cada de 80, nos Estados Unidos, come√ßaram a produzir aceleradores de consoles para o Apple II e, desde 1988, o modelo Apple IIc + com um processador de 4 MHz.  Por que isso aconteceu?  Talvez porque 6502 a 2 ou 3 MHz (e esses j√° foram produzidos no in√≠cio dos anos 80) em v√°rias tarefas e, em particular, com jogos, pudesse competir com sucesso com sistemas baseados em Intel 8088 ou Motorola 68000. Em 1991, a Commodore Corporation fechou Um projeto C65 interessante, embora tardio, baseado em um processador 4510 com uma frequ√™ncia de 3,54 MHz.  4510 - este √© o 6502 mais r√°pido, fabricado apenas em 1988, foi realizado finalmente mencionado otimiza√ß√£o anterior dos ciclos, o que deu um aumento de 25% na velocidade.  Assim, o processador em C65 √© pr√≥ximo em velocidade aos sistemas com 6502 a 4,5 MHz.  Surpreendentemente, este 6502 mais r√°pido, com um conjunto expandido de instru√ß√µes (em alguns detalhes, essa extens√£o se mostrou mais bem-sucedida do que em 65816) nunca foi usado em nenhum lugar desde ent√£o. <br><br>  O C128 e o Apple III Plus tinham uma unidade de gerenciamento de mem√≥ria (MMU), que permitia usar v√°rias pilhas e zero p√°ginas, endere√ßando mais de 64 KB de mem√≥ria etc. No C128, o MMU foi artificialmente aparado para funcionar com apenas 128 KB de mem√≥ria.  Para a BBC Micro, foram produzidos consoles com 6502 a 3 MHz (1984) e 4 MHz (1986). <br><br><img src="http://www.starringthecomputer.com/snapshots/jewel_of_the_nile_cbm_ii.jpg"><br>  <i>Anti-publicidade - v√°rios PETs da Porsche no apartamento do vil√£o da P√©rola do Nilo (1985) - a era apenas da Apple em Hollywood ainda n√£o chegou</i> <br><br>  Agora, algumas palavras sobre o sistema de instru√ß√µes 6502. A principal caracter√≠stica desse processador √© que ele foi fabricado o mais r√°pido poss√≠vel, praticamente sem ciclos de clock extras, especialmente numerosos nos processadores 8080/8085 / z80 / 8088/68000.  De fato, foi a ideologia dos processadores de arquitetura 6502 RISC que apareceu mais tarde e sob a influ√™ncia direta.  A mesma ideologia domina, come√ßando com 80486, e entre os processadores Intel.  Al√©m disso, o 6502 reagiu o mais r√°pido poss√≠vel √†s interrup√ß√µes, o que o tornou muito √∫til em alguns sistemas embarcados.  O 6502 possui uma bateria e dois registradores de √≠ndice; al√©m disso, os primeiros 256 bytes de mem√≥ria podem ser usados ‚Äã‚Äãem comandos especiais como mem√≥ria mais r√°pida ou como um conjunto de registradores de 16 bits (cuja funcionalidade √© quase id√™ntica aos registradores BC e DE em 8080 / z80) para m√©todos de endere√ßamento bastante poderosos.  Algumas instru√ß√µes aritm√©ticas (turnos, rota√ß√£o, incremento e decremento) podem ser usadas diretamente com a mem√≥ria, sem o uso de registradores.  N√£o h√° instru√ß√µes de 16 bits - √© um processador 100% de 8 bits.  Todos os principais sinalizadores s√£o suportados, exceto a arquitetura caracter√≠stica do sinalizador de paridade Intel.  H√° mais algumas bandeiras incomuns do 10¬∫ modo in√∫til.  Os processadores Intel e Motorola usam instru√ß√µes corretivas especiais para trabalhar com n√∫meros decimais, e o 6502 pode alternar para o modo 10, o que torna sua vantagem de velocidade com 10 n√∫meros ainda mais significativa do que com os bin√°rios.  √â impressionante que, para a multiplica√ß√£o da tabela 6502 de operandos de 8 bits, obtenha um resultado de 16 bits em menos de 30 ciclos de clock, com o tamanho da tabela auxiliar em 2048 bytes.  Lentamente, o 6502 produz opera√ß√µes de c√≥pia em massa da mem√≥ria - a partir de 14 ciclos de clock por byte. <br><br>  O 6502 pode funcionar em paralelo com outro dispositivo, por exemplo, outro 6502. At√© onde eu sei, esses sistemas de processador duplo nunca foram produzidos.  Em vez do segundo processador, geralmente era usado um controlador de v√≠deo, que compartilhava mem√≥ria com o 6502. <br><br>  O 65816 foi lan√ßado pela WDC em 1983. Curiosamente, Bill Mensch recebeu especifica√ß√µes da Apple.  Obviamente, este foi um grande passo em frente, mas obviamente atrasado e com grandes falhas arquitet√¥nicas.  O 65816 n√£o foi considerado por ningu√©m como concorrente dos principais processadores Intel ou Motorola - j√° era um outsider secund√°rio, que j√° havia sido programado para estabelecer uma perda adicional de posi√ß√£o.  O 65816 teve duas vantagens importantes - era relativamente barato e quase compat√≠vel com o ainda muito popular 6502. Nos anos subsequentes, Bill Mensch nem sequer tentou melhorar de alguma forma sua ideia, fazer otimiza√ß√£o de loop, substituir o endere√ßo da p√°gina zero pelo extenso usando o registro Z ( isso foi feito em 4510), para adicionar pelo menos multiplica√ß√£o ... O WDC apenas aumentou as frequ√™ncias m√°ximas de clock, atingindo os meados dos anos 90 para 14 MHz (este processador foi usado no popular acelerador da C64 SuperCPU a uma frequ√™ncia de 20 MHz).  No entanto, mesmo agora (2019!), O WDC oferece 65816, por algum motivo, apenas nos mesmos 14 MHz.  O 65816 pode usar at√© 16 MB de mem√≥ria, mas os m√©todos de endere√ßamento usados ‚Äã‚Äãpara isso parecem longe do ideal.  Por exemplo, os registros de √≠ndice podem ter apenas 8 ou 16 bits, a pilha pode ser colocada apenas nos primeiros 64 KB de mem√≥ria; somente a√≠ voc√™ pode usar o conveniente endere√ßo curto da p√°gina instalada (p√°gina direta - generaliza√ß√£o da p√°gina zero), trabalhar com mem√≥ria acima de 64 KB comparativamente desajeitado, ... 65816 possui uma ALU de 16 bits, mas um barramento de dados de 8 bits; portanto, nas opera√ß√µes aritm√©ticas, √© apenas 50% mais r√°pido que o 6502. No entanto, o 65816 foi lan√ßado em mais de um bilh√£o.  Obviamente, v√°rias instru√ß√µes 65816 complementam claramente as falhas na arquitetura 6502, por exemplo, instru√ß√µes para copiar em massa a mem√≥ria por 7 ciclos de clock por byte.  Voc√™ tamb√©m pode adicionar que o 65816 usa quase todos os c√≥digos de instru√ß√£o (255 de 256).  O √∫ltimo c√≥digo n√£o utilizado √© para instru√ß√µes longas e futuras que nunca apareceram. <br><br>  O Apple IIx, no desenvolvimento do qual Steve Wozniak participou ativamente, deveria usar o 65816, mas foi poss√≠vel estabelecer a produ√ß√£o desse processador apenas em 1984 e os primeiros lotes do 65816 estavam com defeito, o que causou atrasos excessivos e, como resultado, encerrou o projeto inteiro. <br><br>  H√° tamb√©m uma op√ß√£o 65816 65802, que usa um barramento de endere√ßo de 16 bits e √© compat√≠vel com os conectores 6502. Houve atualiza√ß√µes para o Apple II com base neste processador, mas voc√™ pode obter uma pequena acelera√ß√£o com essa atualiza√ß√£o apenas em programas especialmente escritos para ele. <br><br>  O 6502 foi usado em um grande n√∫mero de sistemas de computadores, sendo os mais populares o Commodore de 8 bits, Atari, Apple, NES.  Curiosamente, o 6502 foi usado como controlador de teclado no computador Commodore Amiga, e dois 6502 a 10 MHz foram usados ‚Äã‚Äãno Apple Macintosh IIfx de alto desempenho.  Aqui n√£o se pode deixar de mencionar os consoles de jogos Atari, fabricados de 1977 a 1996, - eles foram vendidos aproximadamente 35 milh√µes!  O 65816 foi usado no popular computador Apple IIgs, no console de jogos Super NES e tamb√©m no raro computador ingl√™s Acorn Communicator. <br><br>  Em 1984, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um artigo</a> sobre uma c√≥pia ruim do computador da Apple] [feita na URSS] apareceu na revista Byte no contexto de fotos com faixas vermelhas, Lenin e soldados em marcha.  Este artigo citou um pre√ßo curioso para este computador - US $ 17.000 (este √© um n√∫mero absurdo, o pre√ßo real era de cerca de 4.000 rublos) e, ironicamente, apontou que os fabricantes sovi√©ticos teriam que baixar drasticamente o pre√ßo se quisessem vender seu produto no Ocidente.  A √°gata foi usada principalmente na educa√ß√£o escolar.  Os modelos mais antigos do Agate eram quase 100% compat√≠veis com a Apple] [e tinham algumas extens√µes bastante √∫teis. <br><br>  Voc√™ s√≥ pode tentar fantasiar sobre o que aconteceria se o 6502 pudesse se desenvolver no mesmo ritmo que seus concorrentes.  Parece-me que a transfer√™ncia gradual da mem√≥ria de p√°gina zero para os registros e a expans√£o gradual do sistema de instru√ß√µes com a otimiza√ß√£o simult√¢nea dos ciclos permitiriam ao 6502 "terminador" permanecer na lideran√ßa em termos de velocidade at√© o in√≠cio dos anos 90.  A introdu√ß√£o do modo 16 e 32 bits permitiria o uso de grandes quantidades de mem√≥ria e comandos mais r√°pidos.  Seus concorrentes poderiam ter algo a que se opor? <br><br>  Gostaria de terminar com algumas considera√ß√µes filos√≥ficas gerais.  Por que o 6502 foi freado e desprovido de um futuro muito mais brilhante?  Talvez devido ao fato de ele realmente conseguir espremer grandes empresas e criar uma realidade completamente nova.  Mas a equipe 6502 foi criada para isso?  Em vez disso, eles s√≥ queriam fazer um processador melhor. <br><br>  J√° muito mais tarde, no in√≠cio do s√©culo XXI, com a ajuda de processos impostos por motivos absurdos, a empresa Lexra, que produziu v√°rios processadores inovadores por 5 anos, foi derrotada.  Essa triste hist√≥ria lembra um pouco o que aconteceu com a MOS Technology. <br><br><h2>  Zilog z80 </h2><br>  Esse processador, juntamente com o 6502, tornou-se o principal processador dos primeiros computadores pessoais.  N√£o h√° eventos dram√°ticos na hist√≥ria de sua apar√™ncia e uso.  H√° apenas alguma intriga na falha do Zilog em tornar a pr√≥xima gera√ß√£o de processadores.  O Z80 come√ßou a produzir em 1976 e suas variantes ainda est√£o sendo produzidas. -           z80. <br><br>   .      6502,   Z80,   (Federico Faggin),    ,  Intel.    z80          Z8000    80-     ,        .       ,   ,    .  , ,  z80,  Zilog            Z8. <br><br> Z80 ‚Äì         ,  8080.             .  ,      8080     ,         . ,   Zilog      8080,      ,       z80.      Intel x86     GNU,   -           .  Z80    , Intel       8086. ,    z80    ,  ,   8086,     .  z80,    6502,       , ..       ,     ¬´ ¬ª, ¬´  ¬ª,     ‚Äì       ,  8086, 6800  PDP-11  . <br><br>    z80        21   ,        .     EXX,    48   ,  BC, DE, HL   ,     4 !  32- ARM        6 .      ,     .  : <br><br><ul><li> 16-  c   16-     15 ; </li><li>      8 ; </li><li>        ,   BC, DE, SP, IX,IY,    HL; </li><li> ,   -   8- ; </li><li>  ,       ; </li><li>    (JR); </li><li>  . </li></ul><br><br>     ,              .       16-  IX  IY,       . ,    IX  IY   Z80     6800    Z80!     ,     Z80    -       ,   . <br><br>   8080  z80         .    16-   ADD    ,        ,   -. <br><br>          8080.  z80     ,     (     8080)    .      2,         . <br><br> Z80     ,          CMOS,            .   ,       16-  I  IY.    Z80     , ,      . <br><br> , z80    ,  8080     16-.     z80  - ,    ,    z80    4-!    z80  8080 ‚Äì   . <br><br>       z80  6502,           .       ,       .       z80     ,   .  z80  4      ,   6502  6809  1.3 .     ,     ,    6502     2.4  2.6  ,  z80.      .   ,   ,    z80 ‚Äì   ,     ,        .   ,         z80  6502   2.2 .       ,        4- .     z80     .     z80,   PUSH,      6502,     .     z80   1.5  .  ,    32-   16- z80    1.7 . ,      .  , ,  ZX Spectrum c z80  3.5 MHz      64  6502  1 .   ,        z80  6502       , , -     Amstrad CPC/PCW    3.2 ,    4.    6502         .       ,   ,  ,  z80  25-40% ,  6502.     ,      2  z80      6 ,  6502   2 . <br><br> Z80       .      Tandy TRS-80,   ‚Äî ZX Spectrum,   Amstrad CPC  PCW. ,   Amstrad PCW     90-           90-.             MSX.   C128    z80,        ‚Äì   , 1985  , 8-  z80,   2 ,     1.6 .   ,     8080  70-.       CP/M        . <br><br><img src="http://www.old-computers.com/museum/photos/Amstrad_9512_Running_s1.jpg"><br> <i>       90-,   z80  ,   ZX Spectrum</i> <br><br>         z80 ‚Äì  BBC Micro c TUBE-  z80B  6 ,   1984.        ,  , ¬´ ¬ª.      Apple ][  1979.       Z80H  8    . ,  Microsoft  1980         .    Amstrad PCW16,   1994,   CMOS Z80   16 . <br><br>     MSX TurboR (1990)   R800,   z80.  R800    16-   32- .     16- ,      768     .  ,  R800 ‚Äî    Z800,       ,   ,    7.16 M.  ,   R800   28.64 ! <br><br>   Zilog     Z80     .  Z80     2.5 ,    Z80A      4  ‚Äì        ,  Z80 . Z80B   1980,    , ,     BBC Micro    (1989)  Sam Coup√©. Z80H    80-       8  ‚Äì     . ,   Zilog       ,      , ,  Z80  9   ,   ,   ,      . <br><br>    z80    Zilog  ,   16-  Intel.  1978,   8086   Z8000,    z80.          Intel , , Motorola ‚Äì 68000      Z8000,  Z8000       ,  ,     Unix. ,  IBM    Z8000     IBM PC,  Zilog   Exxon,     IBM.  -  Z8000 Zilog   1980  Exxon.      32- .  1986  Z80000,   Z8000,   <b></b>    .  ,  ,     Zilog   ,  ,   Zilog   -      ,   Exxon. <br><br>   ,  Zilog    ,     Z80,         Intel,           .       ,  , AMD, Cyrix, VIA. <br><br>      Z80    1985,    Z800. ,    Zilog    Z80000  Z800    .  1986,   z80000   Z280,    Z800, ,  ,         ,    ‚Äì      Intel 486DX2  486DX4  . Z280     ,       . ,     ‚Äì Z280,     ,       ,    <b></b>   . ,  Z280     Intel 80286,   ,   50%      80286  . ,   Z280  5  ,       . <br><br>          Hitachi,   1985   -Z80, HD64180,     Intel 80186,    512  ,    ,         Z80  . HD64180     . Zilog    HD64180       Z64180. Zilog     ,  ,     1        1986 .      Z180        ,     33 .       MSX2,    . ,  Z280  Z180    ,      80286  80186    .  1994   Z180   32- Z380,    z80      Intel 80386  Motorola 68020 ‚Äì Zilog       10 .  21     Z180    - eZ80      6502.     ,  ,   , DVD-, ,‚Ä¶ <br><br><h2> Texas Instruments TMS9900 </h2><br>          .          16- .    1976 .           (Big Endian).        Motorola  6800  68000     IBM/370.          (Little Endian). <br><br>  TMS9900    16- :  ,      .        32   16  .    -       6502.   , TMS9900     .   Z80,     .    ,     ,  (), , ,          .       RISC- .    ,       .                   .  ,        . TMS9900    ,         16. <br><br><img src="https://habrastorage.org/webt/bs/ir/lv/bsirlvxf7fobwzwpdcvxkcnousc.jpeg"><br> <i> 16-   ‚Äì      </i> <br><br>     .     .   X             .    ,       8 ,   ‚Äì  14,   (16*16=32)  52     (32/16=16,16)  124        70-. <br><br> TMS9900     -5, 5  12       ‚Äì      .  1979       IBM,          IBM PC.   TMS9900 (  64  ,    ,  )            Intel 8088.      Texas Instruments    TMS9900  8- , TMS-9980,    33% . <br><br> TMS9900        TI99/4  TI99/4A,   ¬´¬ª     Commodore VIC-20  1983. ,      Texas Instruments           1983 $49 ( 1979   $1150!)        .        Commodore+4,      1986,        $49   1989 . T99/4A    1984, ,  -      .       16-.      256  (!)         16- .     -    8- .        16-   -0010. ,  TI99/4  TI99/4A     3  ‚Äì       -0010. <br><br>  TI-99/4  TI99/4A        TMS9918,           MSX,        .    Yamaha        ,  ,    TI-99/4  TI99/4A! <br><br>  TI99/4 ‚Äì    ,          . <br><br><h2>  DEC PDP-11 </h2><br>   70-    10-    DEC.  DEC   ,   IBM          ,    IBM  .         .   PDP-11   .   PDP-11    70-   90-.             .       , -60/81/85, -1/2/3, -0010/0011 (0010 ‚Äì   ,      ). <br><br> , DEC         VAX-11,      .     70- DEC      PDP-11,  ,       16-   .   PDP-11       70-. <br><br> PDP-11  ,      , , LSI-11, F-11, J-11.   70- DEC      T-11. ,    ,         ,           ,        .         Atari. T-11         ,        z80.     18011, 18012, 18013,‚Ä¶   DEC,      DEC.         . <br><br>     PDP-11    ,  ,      ,      .    PDP-11          Motorola 68000. <br><br>   PDP-11  16-.  8    (      ‚Äì    R7) ‚Äì 16 ,   (  ) 16- ,    1-  3- 16- .       (  , ,  XOR)   ‚Äì    .   ‚Äì    .   80-   ,     Intel x86    -.    PDP-11,         . , ,           90-  .       ,   ,   -  .    PDP-11         , , <br><br><pre><code class="plaintext">MOV @(R0)+,@-(R1)</code> </pre> <br>  significa o mesmo que o operador de linguagem C / C ++ <br><br><pre> <code class="plaintext">**‚Äìr1 = **r1++;</code> </pre> <br>  , em que r0 e r1 s√£o declarados como <br><br><pre> <code class="plaintext">signed short **r0, **r1;</code> </pre> <br>  Outro exemplo, um comando <br><br><pre> <code class="plaintext">MOVB @11(R2),@-20(R3)</code> </pre> <br>  corresponde a <br><br><pre> <code class="plaintext">**(r3-20) = **(r2+11);</code> </pre> <br>  onde r2 e r3 s√£o declarados como <br><br><pre> <code class="plaintext">char **r2, **r3;</code> </pre> <br>  Nas arquiteturas populares de hoje, uma equipe n√£o pode prescindir dessa equipe; pelo menos 10 equipes provavelmente ser√£o necess√°rias.  Voc√™ tamb√©m pode obter o endere√ßo relativo ao valor atual do contador de comandos.  Vou dar outro exemplo com o endere√ßamento mais simples.  A equipe <br><br><pre> <code class="plaintext">ADD #16,11(R4)</code> </pre> <br>  na arquitetura Intel x86 pode ser mapeado <br><br><pre> <code class="plaintext">ADD [BX+11],16</code> </pre> <br>  Nos montadores de DEC, √© habitual escrever operandos da esquerda para a direita, ao contr√°rio da Intel, onde eles escrevem da direita para a esquerda.  H√° motivos para acreditar que o montador GNU para x86 foi feito sob a influ√™ncia do montador PDP-11. <br><br>  Os comandos de multiplica√ß√£o e divis√£o s√£o apenas simb√≥licos e n√£o est√£o dispon√≠veis em todos os processadores.  A aritm√©tica de n√∫mero decimal tamb√©m √© opcional - esta √© a aritm√©tica comercial da terminologia DEC.  Como curiosidade de completa ortogonalidade, darei um exemplo de comando <br><br><pre> <code class="plaintext">MOV #11,#22</code> </pre> <br>  que ap√≥s a execu√ß√£o se transforma <br><br><pre> <code class="plaintext">MOV #11,#11</code> </pre> <br>  - Este √© um exemplo de uso de uma constante imediata como um operando.  Outra equipe curiosa √© o comando MARK exclusivo, cujo c√≥digo deve ser inserido na pilha e nunca pode ser usado explicitamente.  Rotinas de chamada na arquitetura PDP-11 tamb√©m s√£o um tanto peculiares.  O comando correspondente primeiro salva o registro alocado (pode ser qualquer) na pilha, depois salva o contador de instru√ß√µes nesse registro e s√≥ depois grava o novo valor no contador de instru√ß√µes.  O comando de retorno do subprograma deve fazer o oposto e saber qual registrador foi usado ao chamar o subprograma.  Efeitos muito estranhos e imprevis√≠veis podem ser obtidos usando o contador de comandos como um registro normal. <br><br>  √â interessante que, entre os programadores do PDP-11, tenha sido desenvolvida uma cultura de trabalho direto com c√≥digos de m√°quina.  Os programadores poderiam, por exemplo, trabalhar sem um desmontador ao depurar.  Ou mesmo escreva pequenos programas diretamente na mem√≥ria sem montar! <br><br>  Obviamente, o tempo da equipe n√£o difere em caracter√≠sticas de alta velocidade.  Foi surpreendente uma vez descobrir que no computador dom√©stico do BK o comando de transfer√™ncia de registro para registro leva at√© 12 ciclos (10 ciclos ao usar o c√≥digo da ROM), e comandos com dois operandos com endere√ßamento indireto duplo s√£o executados por mais de 100 ciclos.  O Z80 faz a transfer√™ncia de registrador de 16 bits para 8. No entanto, a lentid√£o do BC √© causada n√£o tanto pelo processador, mas pela baixa qualidade da mem√≥ria dom√©stica, sob cujas caracter√≠sticas o BC teve que ser adaptado.  Se uma mem√≥ria suficientemente r√°pida for usada, o BC tamb√©m enviar√° 16 bits de registro por 8 ciclos de clock.  Uma vez houve muita controv√©rsia, o que √© mais r√°pido que o BC ou o Spectrum?  √â preciso dizer imediatamente que o Spectrum √© um dos computadores pessoais de 8 bits em massa mais r√°pidos ao usar os 32 KB superiores de mem√≥ria.  Portanto, n√£o √© surpreendente que o Spectrum seja mais r√°pido que o BC, mas n√£o muito.  E se o BC trabalhasse com mem√≥ria sem freios, provavelmente seria um pouco mais r√°pido. <br><br>  A densidade do c√≥digo tamb√©m √© um ponto fraco da arquitetura do PDP-11.  Os c√≥digos de instru√ß√£o devem ser m√∫ltiplos do comprimento da palavra-m√°quina - 2 bytes, o que √© especialmente desagrad√°vel ao trabalhar com argumentos de bytes ou comandos simples, como definir ou redefinir um sinalizador. <br><br>  As tentativas de criar um computador pessoal baseado na arquitetura do PDP-11 s√£o interessantes.  Um dos primeiros PCs do mundo que apareceram apenas um pouco depois da Apple] [e Commodore PET, e um pouco mais cedo que o Tandy TRS-80, foi o Terak 8510 / a, que tinha gr√°ficos em preto e branco e a capacidade de baixar uma vers√£o incompleta do Unix.  Esse PC era muito caro e, at√© onde eu sei, era usado apenas no sistema de ensino superior dos EUA.  Desde 1978, o computador foi produzido na forma de um kit para montagem do Heathkit H11.  O pr√≥prio DEC tamb√©m tentou criar seu pr√≥prio PC, mas de maneira muito inconsistente.  A DEC, por exemplo, lan√ßou um PC baseado no z80 e no 8088, obviamente jogando contra seus principais desenvolvimentos.  O pessoal baseado na arquitetura PDP-11 DEC PRO-325/350/380 apresentava algumas incompatibilidades bastante artificiais com a arquitetura subjacente, o que dificultava o uso de parte do software.  A melhor personaliza√ß√£o das tecnologias de minicomputadores foi na URSS, onde foram feitos BK, DVK, CC NTs ... Ali√°s, o Electronics-85 √© um clone bastante preciso do DEC PRO-350.  Al√©m disso, o processador CP1600, semelhante √† arquitetura PDP-11, foi usado nos consoles de jogos Intellivision, populares no in√≠cio dos anos 80. <br><br><img src="https://hsto.org/storage2/054/de2/ed6/054de2ed61ad81127c1d7db0f7171100.jpg"><br>  <i>Computador dom√©stico dom√©stico de 16 bits (1985) - quase compat√≠vel com PDP-11</i> <br><br>  O K1802BM2, usado no DVK, √© cerca de duas vezes mais r√°pido que o K1801BM1, o K1801BM3 √© ainda mais r√°pido e com velocidade pr√≥xima √† Intel 8086. <br><br>  Nos modelos PDP-11 mais antigos e nos computadores dom√©sticos pr√≥ximos a eles, o processador pode endere√ßar at√© 4 MB de mem√≥ria, mas n√£o mais que 64 KB podem ser alocados a um programa.  Em termos de velocidade, esses processadores tamb√©m est√£o pr√≥ximos de 8086 em termos de n√∫mero de opera√ß√µes por megahertz, embora ainda seja mais lento que isso. <br><br><h2>  CPU para DEC VAX-11 </h2><br>  Os sistemas VAX-11 eram bastante populares nos anos 80, especialmente no ensino superior.  Agora √© dif√≠cil entender alguns dos conceitos descritos nos livros daqueles anos sem conhecer a arquitetura desses sistemas.  Os VAX-11s eram mais caros que os PDP-11s, mas eram mais orientados para a programa√ß√£o universal e ainda significativamente mais baratos que os sistemas IBM / 370.  Para a arquitetura VAX, um processador V-11 foi fabricado em meados dos anos 80 e, at√© aquele momento, os conjuntos de processadores eram usados. <br><br>  A arquitetura VAX-11 √© de 32 bits, utiliza 16 registradores, dentre os quais, como no PDP-11, h√° um contador de comandos.  Duas pilhas devem ser usadas, uma das quais √© usada para armazenar quadros de subquadro.  Al√©m disso, um dos registradores √© designado para trabalhar com argumentos de fun√ß√µes chamadas.  Assim, 3 de 16 registros s√£o alocados para pilhas.  O sistema de comando VAX-11 n√£o pode deixar de surpreender com sua enormidade e a presen√ßa de comandos muito raros e frequentemente √∫nicos, por exemplo, para trabalhar com campos de bits ou v√°rios tipos de filas, para calcular CRC, multiplicar 10 linhas ... Muitos comandos est√£o em vers√µes de tr√™s endere√ßos (ARM) e em dois endere√ßos (como x86), mas h√° comandos de quatro endere√ßos, por exemplo, a divis√£o estendida do EDIV.  Claro que h√° suporte para trabalhar com n√∫meros reais. <br><br>  Mas o VAX-11 √© um sistema muito lento para sua classe e pre√ßo.  At√© o 6502 super simples de 4 MHz pode superar os mais lentos da fam√≠lia VAX-11/730 e os sistemas VAX-11 mais r√°pidos - gabinetes enormes e ‚Äúconjuntos de m√≥veis inteiros‚Äù - est√£o no n√≠vel de desempenho dos primeiros ATs para PC.  Quando o 80286 apareceu, ficou claro que os dias do VAX-11 estavam contados e mesmo a frenagem com a introdu√ß√£o de sistemas baseados no 80286 n√£o podia mais mudar nada fundamentalmente.  Os brit√¢nicos mais diretos da Acorn, tendo fabricado a ARM em 1985 sem ocultar nada, disseram que a ARM √© muito mais barata e visivelmente mais r√°pida.  O VAX-11, no entanto, permaneceu relevante at√© o in√≠cio dos anos 90, ainda tendo algumas vantagens sobre um PC, em particular, sistemas mais r√°pidos para trabalhar com discos. <br><br>  O VAX-11 √© provavelmente o √∫ltimo sistema de massa em que a conveni√™ncia de trabalhar na montadora foi considerada mais importante que a velocidade.  Em certo sentido, essa abordagem mudou para as linguagens de script modernas e populares. <br><br><img src="https://gordonbell.azurewebsites.net/Digital/timeline/photos/vax11-785.jpg" align="left">  <i>A foto mostra o VAX-11/785 - este tamb√©m √© um computador (1984) - o mais r√°pido entre os VAX-11s, em termos de velocidade do processador √© compar√°vel ao IBM PC AT ou ARM Evaluation System</i> <br><br>  Surpreendentemente, h√° muito pouca literatura dispon√≠vel nos sistemas VAX-11.  Como se algum tipo de lei estranha sobre o esquecimento estivesse em vigor.  V√°rios epis√≥dios pr√≥ximos √† pol√≠tica e correlacionados com a hist√≥ria da URSS est√£o relacionados √† hist√≥ria dessa arquitetura.  √â poss√≠vel que a rejei√ß√£o real do desenvolvimento da arquitetura do PDP-11 tenha sido causada por seu baixo pre√ßo e pelo sucesso de sua clonagem na Uni√£o Sovi√©tica.  E a clonagem do VAX-11 custou uma ordem de magnitude de grandes recursos e levou a um beco sem sa√≠da.  O interesse no VAX-11 foi criado usando, por exemplo, sorteios como o famoso Kremlin Vax em 1¬∫ de abril de 1984, no qual o ent√£o l√≠der da URSS Konstantin Chernenko se ofereceu para beber vodka na ocasi√£o de se conectar √† rede Usenet.  Outra piada foi que alguns chips VAX-11 foram impressos com uma mensagem em russo quebrado sobre o qu√£o bom o VAX-11 √©.  :) <br><br>  Alguns modelos VAX-11 foram clonados na URSS no final dos anos 80, mas muito poucos desses clones foram produzidos e quase nunca foram usados. <br><br>  V√°rios sistemas VAX-11 est√£o dispon√≠veis para uso na rede.  E isso os compara favoravelmente com os sistemas IBM / 370 com os quais eles competem. <br><br><h2>  Intel: 8086 a 80486 </h2><br>  Certamente, um dos melhores processadores fabricados nos anos 70 √© o 8086, al√©m do 8088 quase anal√≥gico mais barato. A arquitetura desses processadores √© agradavelmente distinguida pela aus√™ncia de empr√©stimos mec√¢nicos e ades√£o a teorias abstratas, considera√ß√£o e arquitetura equilibrada, equil√≠brio e foco em maior desenvolvimento.  Entre as defici√™ncias da arquitetura x86, ela pode ser chamada de algumas dificuldades e uma tend√™ncia a um crescimento extensivo no n√∫mero de instru√ß√µes. <br><br>  Uma das solu√ß√µes engenhosas de projeto do 8086 foi a inven√ß√£o de registradores de segmentos.  Isso, por assim dizer, alcan√ßou simultaneamente dois objetivos: portabilidade "gratuita" de programas de at√© 64 KB de tamanho (era uma quantidade bastante decente de mem√≥ria de computador para um programa at√© meados dos anos 80) e capacidade de endere√ßamento de at√© 1 MB de espa√ßo de endere√ßo.  Voc√™ tamb√©m pode observar que o 8086, como o 8080 ou o z80, tamb√©m possui um espa√ßo de endere√ßo especial para portas de E / S de tamanho de 64 KB (y 8080 e 8085, esse volume √© de 256 bytes).  Existem apenas quatro registradores de segmento: para c√≥digo, para pilha e dois para dados.  Portanto, 64 * 4 = 256 KB de mem√≥ria est√£o dispon√≠veis para uso r√°pido, mas isso ocorreu muito em meados dos anos 80.  De fato, n√£o h√° problema com o tamanho do c√≥digo, pois voc√™ pode usar as chamadas chamadas longas de subprogramas carregando e salvando o endere√ßo completo de dois registros.  H√° apenas um limite de 64 KB no tamanho de um subprograma - isso √© suficiente para muitos aplicativos modernos.  A impossibilidade de endere√ßar rapidamente matrizes de dados maiores que 64 KB cria um certo problema - ao usar essas matrizes, voc√™ precisa carregar o registro de segmento e o pr√≥prio endere√ßo sempre que acessado, o que reduz a velocidade de trabalho com matrizes t√£o grandes por v√°rias vezes. <br><br>  Os registros de segmento s√£o implementados de tal maneira que sua presen√ßa √© quase impercept√≠vel nos c√≥digos de m√°quina, o que facilitou sua recusa quando chegou a hora. <br><br>  A arquitetura 8086 manteve sua proximidade com a arquitetura 8080, o que permitiu comparativamente pouco esfor√ßo para transferir programas de 8080 (ou mesmo z80) para 8086, principalmente se o c√≥digo fonte dos programas estivesse dispon√≠vel. <br><br>  As equipes 8086 n√£o diferem na alta velocidade de execu√ß√£o, mas s√£o bastante compar√°veis ‚Äã‚Äãcom os concorrentes, por exemplo, o Motorola 68000, que apareceu um ano depois.  Um dos novos produtos, que acelera levemente o 8086 geralmente sem pressa, foi a vez das equipes. <br><br>  O 8086 usa oito registradores de 16 bits, alguns dos quais podem ser usados ‚Äã‚Äãcomo registradores de dois bytes e outros como indexadores.  Assim, os registros 8086 s√£o um tanto heterog√™neos, mas s√£o bem balanceados e os registros s√£o muito convenientes de usar.  Essa heterogeneidade, a prop√≥sito, permite que voc√™ tenha c√≥digos mais densos.  O 8086 usa os mesmos sinalizadores que o 8080, al√©m de alguns novos.  Por exemplo, apareceu um sinalizador t√≠pico da arquitetura do PDP-11 - execu√ß√£o passo a passo. <br><br>  O 8086 permite que voc√™ use modos de endere√ßamento muito interessantes, por exemplo, um endere√ßo pode ser composto da soma de dois registradores e uma mistura constante de 16 bits, na qual o valor de um dos registradores de segmento √© sobreposto.  Apenas dois ou mesmo um termo pode ser deixado de fora da soma do endere√ßo.  Isso no PDP-11 com um comando n√£o funcionar√°.  A maioria das instru√ß√µes do 8086 n√£o permite os dois operandos do tipo mem√≥ria; um dos operandos deve ser um registrador.  Mas existem comandos de string que apenas sabem como trabalhar com mem√≥ria usando dois endere√ßos.  Os comandos de string permitem fazer c√≥pias r√°pidas em bloco (17 medidas por byte ou palavra), pesquisar, preencher, carregar e comparar.  Al√©m disso, comandos de cadeia podem ser usados ‚Äã‚Äãao trabalhar com portas de E / S.  A id√©ia do 8086 de usar prefixos de comando √© muito interessante, permitindo a utiliza√ß√£o de funcionalidades adicionais frequentemente muito √∫teis sem complica√ß√£o significativa dos esquemas de codifica√ß√£o de comando. <br><br>  O 8086 possui um dos melhores entre todos os sistemas de organiza√ß√£o de trabalho com a pilha.  Usando apenas dois registradores (BP e SP), o 8086 permite resolver todos os problemas ao organizar chamadas para rotinas com par√¢metros. <br><br>  Entre as equipes, h√° multiplica√ß√£o e divis√£o simb√≥lica e sem sinal.  Existem at√© comandos de ajuste decimal exclusivos para comandos de multiplica√ß√£o e divis√£o.  √â dif√≠cil dizer que h√° claramente algo que falta no sistema de comando 8086.  Pelo contr√°rio, o oposto.  Dividir um dividendo de 32 bits em um divisor de 16 bits para obter um restante de 32 bits privado e 16 bits pode exigir at√© 300 ciclos de clock - n√£o particularmente r√°pido, mas v√°rias vezes mais r√°pido que essa divis√£o em qualquer processador de 8 bits (exceto 6309) e compar√°vel em velocidade a 68000. A divis√£o por x86 tem um recurso inesperado - muda as bandeiras de sinais imprevisivelmente ... <br><br>  Vale acrescentar que na arquitetura x86, a equipe XCHG herdada do 8080 permaneceu, o que foi aprimorado.  Al√©m disso, os processadores posteriores come√ßaram a usar as instru√ß√µes XADD, CMPXCHG e CMPXCHG8B, que tamb√©m podem executar trocas at√¥micas de argumentos.  Essas instru√ß√µes s√£o um dos recursos do x86; √© dif√≠cil encontr√°-las em processadores de outras arquiteturas. <br><br>  Podemos resumir que o 8086 √© um processador muito bem-sucedido, combinando a conveni√™ncia da programa√ß√£o e o anexo √†s limita√ß√µes de mem√≥ria, caracter√≠sticas de seu tempo.  O 8086 foi usado relativamente raramente, dando lugar ao 8088 mais barato, o lugar de honra para ser o primeiro processador para a principal arquitetura de PCs de nossos dias, a arquitetura IBM PC.  O 8088 usava um barramento de dados de 8 bits, o que o tornava um pouco mais lento, mas tornou poss√≠vel construir sistemas mais acess√≠veis aos clientes com base nele. <br><br>  Curiosamente, a Intel se recusou fundamentalmente a fazer melhorias em seus processadores, preferindo desenvolver suas pr√≥ximas gera√ß√µes.  Um dos maiores segundos subcontratados da Intel (NEC), a corpora√ß√£o japonesa NEC, que no in√≠cio dos anos 80 era muito maior que a Intel, decidiu melhorar os 8088 e 8086, liberando os processadores V20 e V30, compat√≠veis com eles no soquete e at√© 30% mais r√°pido.  A NEC at√© ofereceu a Intel para se tornar sua subcontratada!  A Intel lan√ßou um processo contra a NEC, que, no entanto, n√£o conseguiu vencer.  Por alguma raz√£o, esse grande confronto entre Intel e NEC foi completamente ignorado pela Wikipedia. <br><br>  80186 e 80286 apareceram em 1982. Portanto, pode-se supor que a Intel tinha duas equipes de desenvolvimento quase independentes.  O 80186 √© um 8086 aprimorado por v√°rios comandos e tempos mais curtos, al√©m de v√°rios circuitos integrados t√≠picos da arquitetura x86: gerador de rel√≥gio, temporizadores, DMA / DAP, controlador de interrup√ß√£o, gerador de atraso, etc. Esse processador parece simplificar bastante a produ√ß√£o computadores baseados nele, mas como o controlador de interrup√ß√£o interno se mostrou incompat√≠vel com o IBM PC por algum motivo, ele quase nunca foi usado em um PC.  O autor conhece apenas o sistema BBC Master 512 baseado no computador BBC Micro, que n√£o usava os circuitos internos, nem mesmo o timer, mas havia v√°rios outros sistemas usando o 80186. A mem√≥ria endere√ß√°vel do 80186 permaneceu da mesma maneira que em 8086 com um tamanho de 1 MB.  A empresa japonesa NEC produziu an√°logos 80186, que eram compat√≠veis com o IBM PC. <br><br>  80286 teve tempos ainda melhores do que 80.186, entre os quais apenas a divis√£o fant√°stica (32/16 = 16,16) para 22 compassos √© especialmente not√°vel - desde ent√£o, a divis√£o n√£o aprendeu a fazer mais r√°pido!  O 80286 suporta o trabalho com todas as novas equipes 80186, al√©m de muitas equipes para trabalhar em um novo modo protegido.  O 80286 foi o primeiro processador com suporte interno para o modo protegido, o que permitiu organizar a prote√ß√£o da mem√≥ria, o uso correto de instru√ß√µes privilegiadas e o acesso √† mem√≥ria virtual.  Embora o trabalho no novo modo tenha criado muitos problemas problem√°ticos (o modo protegido foi feito sem √™xito) e tenha sido relativamente raramente usado, foi um grande avan√ßo.  Nesse novo modo, os registradores de segmentos adquiriram uma nova qualidade, permitindo o uso de at√© 16 MB de mem√≥ria endere√ß√°vel e at√© 1 GB de mem√≥ria virtual por tarefa.  O grande problema do 80286 foi a incapacidade de alternar do modo protegido para o modo real, no qual a maioria dos programas funcionava na √©poca.  Usando a instru√ß√£o LOADALL ‚Äúsecreta‚Äù n√£o documentada, foi poss√≠vel usar 16 MB na mem√≥ria e no modo real. <br><br>  Em 80286, o c√°lculo de endere√ßos em operandos de instru√ß√µes come√ßou a ser realizado por esquemas separados e deixou de retardar a execu√ß√£o de comandos.  Isso acrescentou recursos interessantes, por exemplo, com a equipe <br><br><pre> <code class="plaintext">LEA AX,[BX+SI+4000]</code> </pre> <br>  em apenas 3 ciclos, foi poss√≠vel realizar duas adi√ß√µes e transferir o resultado para o registro AX! <br><br>  Registros segmentados no modo protegido tornaram-se parte de um sistema completo de gerenciamento de mem√≥ria (MMU).  No modo real, esses registros forneceram apenas parcialmente a funcionalidade MMU. <br><br>  O n√∫mero de fabricantes e sistemas espec√≠ficos que usam 80286 √© enorme, mas, √© claro, os primeiros foram computadores IBM PC AT com indicadores de desempenho quase fant√°sticos entre os computadores pessoais.  A partir desses computadores, a mem√≥ria come√ßou a ficar para tr√°s na velocidade do processador, havia estados de atraso, mas parecia algo tempor√°rio. <br><br>  80286,    8086/8088,        100% ,           . ,  POPF  80286      ,        (     REP ES:MOVSB)  8086/8088       .   POPF      80286. <br><br>   80286   ,         64          . 80386,   1985,       ,    4        .  ,       8086     8086.            . 80386         ,   80286.   80386       32-      .  ,  .      (barrel shifter),        . ,     -      .    ,   80286.    , ,  ,       ,     80286.         ,      16-  80286     - ,  80386     . <br><br>  80386    ,           ,        . ,   : <br><br><ul><li>  ,      ,   ,     z80; </li><li>   BSF  BSR; </li><li>       , MOVSX  MOVZX; </li><li>         SETxx; </li><li>    SHLD, SHRD. </li></ul><br>  x86   80386    ,       ‚Äì     .  80386       (    32- ) ,    ,        ( )  ,          ,  . <br><br>       4-   ,  ,         ,   . <br><br>        ,   80286,       .   ,   flat-     4 ,        .             flat-,         . <br><br>  80386  Intel    ,        IBM PC,     Motorola,      .    80386      90-,           25  40 . C 80386 IBM      IBM PC  .  ,  ,  ,      80386   1986   Compaq. <br><br><p>       ,     80386   .    ,  80386     ,       1970,     1980. <br><br></p><p>      80386.   .     ,               .       80386 ,    .     IBTS  XBTS.   80386DX/SX,   AMD,   Intel (     ),      ,       EAX,            POPAD  PUSHAD  ,     BX.       .      ,        .    . <br><br>  ARM      .   ,  ARM   .  Intel  80486.             Intel           ‚Äì   . <br><br>  80486                ARM  .     -   .  ,           ,   8088!      ,  8 ,  -.    , , CMPXCHG ‚Äì       IBTS  XBTS (,             80386).     ‚Äì  ,             32-  BSWAP.           ‚Äì     .      . <br><br>     80486   .  ,      80486,  VX FT,    Apricot ‚Äì    1989   18  40  ,     ‚Äì  60 !           Intel       ARM  Acorn. IBM      80486  1990,    PS/2 90  $17000. <br><br>     Intel  ,   .      ,     8086. ,        ,        AAD  AAM      ,   (      Pentium  15 !).      AND/OR/XOR    , , AND BX,7      (83 E3 07).  ,    ,       ,        80386. ,      8086  80286     ,       .      ADD/ADC/SBB/SUB,      . ,  ,   ,    (?)      .           ‚Äì       .  , ,   SAL/SHL ( D0 E0, D0 F0  D1 E0, D1 F0)   . ,    ,     . ,     .   ,  Intel     ,     ?  SALC      1995  20 !    ICEBP    10   1985  1995.       LOADALL  LOADALLD ‚Äì      ,                80286  80386 .        UD1 (0F B9),      .    . <br><br>        8088  8086,    80286    . <br><br></p><h2> Motorola:  68000  68040 </h2><br> Motorola ‚Äì   ,  -      Intel       . <br><br> 68000    1979        8086.   16 32-  (  17),      .   16   ,     , ,   . ,    68000 ,     ,  .       1  ‚Äì         .    68000 ,   8086 ‚Äì          68000  .     ,    68k    2   ,   86 ‚Äì 1.      ,    ,      68000    ,   8086.  16  ‚Äì 8 ,  -        x86.     16-,    32-  ,   .     - ‚Äì 4 ,   8086 ‚Äì  2.    68000   80-    ,    Intel 8088,  68000               ,          . <br><br>  ,    Motorola,  68000      . ,       (  ,    ).       . -  ,   MOVE,      .  ,       ,     68000,     ,   68010.     , ,      CLR     0    MOVE         .     , ,   ,     .             8086,    . ,      4     8086       .   68000       PDP-11,    60-. <br><br>   Motorola  -        86  ARM.   , 68000    8086,      20-30%.  680x0, ,   -     ,  ,   x86.  ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">eab.abime.net</a> ,    68k  ,   x86. <br><br>  , 68000 ‚Äì   ,    .        :    Apple Macintosh,     90-,     Commodore Amiga,       Atari ST. 68000      ,    Unix,  ,    Tandy 16B. ,  IBM    PC    System 9000   68000,         PC. <br><br> 68010   ,   1982,   Intel  80286,      -. 68010     68000,     - ,   68000  68010     .       68000         . 68010  ,     10%  68000. ,  68010   80286          80186.   80186, 68010          . <br><br> 68008     1982      8088.  68000,   8-  ,        .  68008,   68000,    ,      50% ,  68000.  , 68008     ,  8088,  -       20% ,  8086. <br><br>     Clive Sinclair  Spectrum QL ‚Äì   ,  -        Atari ST   .              ,  QL (Quantum leap ‚Äì  )    ,       ,          (    Amstrad,    QL). <br><br>        68000, ,   ,   16,      24. <br><br>   1984, 68020   Motorola   .           .       ,       ! 32-                68020EC  24- .  32-           .        , 256 , ,     ,          .        (64/32=32,32)   (32*32=64),   80   45  .       , ,  (32/16=16,16)     45  ( 140   68000).        ,    !     ,  ,   ‚Äì  x86         80386.         ,     , ‚Äì PDP-11    . <br><br>    , ,                 10- ,      ,  -  .         ,         .    80286, 68020      ,    .   68020         -  80286.      .  68020      (MMU)            . <br><br> 68020      Apple Macintosh II, Macintosh LC  Commodore Amiga 1200.           Unix. <br><br>  80386       MMU  32-   ,   Motorola    2. 68030,   1987,   ,    Motorola . 68030           ,        ‚Äì     .  , 68030        ,         . ,    , 68030    80386   . , 68030      50 ,  80386   40 ,       68030  . <br><br> 68030     Apple Macintosh II, Commodore Amiga 3000, Atari TT, Atari Falcon   . <br><br>  68040 Motorola     Intel.       80486,            .  Motorola,     ,         -    .  68040                 ,  80486.    lowendmac.com/benchmarks 68040    2.1   68030,  ,  68040   80486    . 68040       .          ‚Äì 68LC040,    . ,        ,       ! <br><br>      Motorola  . Motorola,     ,        68000/68010,     Intel     8087 c 1980.   68020/68030     68881    -  68882.         68882       68881. <br><br>   ,   Intel x86        ‚Äì    , ,      ,    4 .       ,     . <br><br><h2> National Semiconductor 32016 </h2><br>    32- ,        1982.      VAX-11  ,  -     DEC  National Semiconductor (NS)          VAX-11. <br><br>         ‚Äì    .        ,   .         . <br><br>   NS32016       VAX-11,  ,      .   24-,     16  .  32016     .     (        ), , ,  ( )    L (less),   ‚Äì     .      ,     Motorola 680x0.   -  F.    ,    (!)    .      , ,  (L)  ,     . <br><br>    32-   .  ,    ,   ,    ,    ( - ),    ( -  ),     ,     .   NS32016    68000. <br><br> 32016         BBC Micro   .         1984 .       6, 8  10 .           .    32016   ,    Acorn, -   Unix   Panos    Acorn . BBC Micro    MMU ‚Äì     ,      .       . <br><br> ,         ,   . <br><br><h2> Acorn ARM </h2><br>  6502,    ,   ,         Acorn,  ARM-1,   1985,  ,      Intel,  80386. ARM                     . ,  ARM    MMU      ,    ,    80386   .   ARM   ,        .    100   . <br><br>  ARM  1983   ,    Acorn     32016,  ,     6502          ,  ,    .     80286,     ,   Intel,       Acorn,      .    80286     80386     ,            . ,   Intel    ,   Acorn    ,      ARM. <br><br> ARM    ,    ,   BBC Micro.        ,      .     .  1986     BBC Micro c  ARM Evaluation system,    4   (     ),        (    4000  , ..  6000 ). ,            ,          .        .    ,       Unix    ‚Äì      Unix,    MMU,   Unix  PDP-11, 68000, 80186   8088. ,   90-  Acorn Archimedes   Linux.      Unix  ARM    Acorn   ARM  . <br><br><img src="http://www.computinghistory.org.uk/userdata/images/large/70/88/product-77088.jpg"><br> <i>    ARM</i> <br><br>     Acorn    1985     . Acorn  ARM        ,  ,  , -      32016.        Acorn Communicator.   ,    IBM PC   Master 512,   .  ,            ,            Acorn     Olivetti    ,   Intel 8086  80286, . ,   Acorn,  Olivetti        . <br><br>    Olivetti Acorn    ARM2    ,            Archimedes,       1987. ,   Olivetti      IBM PC            Acorn. <br><br> ARM    16 32-  (  ,      ).   , R15,   PDP-11   .      1 .   ,  ,  ,     .  ,      ARM       .  ,  ,    .      ,          .  ,      ,     .   ARM ‚Äì    ,  26-, . .    64 ,   .         ,           ,       ,         4- .       4- ,  16-      .       ARM 3-.    RISC     -      . ARM      (Barrel Shifter),               . ,    R0  65 c     R1       <br><br><pre> <code class="plaintext">ADD R1, R0, R0 shl 6</code> </pre> <br> ,    63 ‚Äì  <br><br><pre> <code class="plaintext">RSB R1, R0, R0 shl 6</code> </pre> <br>      ,  ,  ,            . ARM     :    .  16  ( ),     .  ,   ,         .        ,  ,    .   ARM        .    ,           .  ARM   6809    ,    .  ,          ,         . <br><br>   ARM     ,     x86.     ARM    .       ARM     80386, , RSB ( ), BIC (AND  ,     PDP-11), 4- MLA (  ), LDM  STM (      ,    MOVEM   68k).    ARM 3-,     80386    2 .   ARM   ‚Äì   ,      R14  R15.   ARM   3-4  80386   ,    80386   2-3  ARM. ,   IBM PC XT    Acorn Archimedes    8    ,    PC XT.   Commodore Amiga   68000  7       ,   10-15%  PC XT.   ,    NeXT  25  68030         8  ARM. Apple    M√∂bius  - Apple ][,   ,           Apple ][,     68k  ,  ! <br><br>   ARM       .    8    ,        .    32-     4 . , ,      ,        ,       12-.   ARM     ,     ,       . ,           .     ARM       (MMU) ‚Äì  , ,  Apple   90-.         ARM      .  ARM       ,     x86.          ARM:       .  ,    <pre> <code class="plaintext">R1 shl 7</code> </pre> ‚Äì    R1  7   ‚Äì   <pre> <code class="plaintext">R1, shl 7</code> </pre>  . <br><br>  1989   ARM3   .  1990   ARM   Acorn     Apple  VLSI  ARM Holding.          ARM    Acorn-Olivetti.  Acorn    ,  ARM Holding    .  Acorn  ARM Holding     Apple   ARM    Newton       . <br><br> ARM     ,  80486      10-20%! Intel                Pentium. DEC StrongARM       1996,       Intel,         ARM-.  ,      . <br><br>    ARM   ,     .   ,      ARM Holding Apple  90-   . <br><br><h2>  ,    </h2><br>    ,  8-          70-  80-     .   8- 6502   . Intel  Motorola       ,     . <br><br>  ,  Amiga  Atari ST       4    20-  24- ,   6502,   68000.    ,     6502  10 . <br><br>     Amstrad PCW,       Commodore CBM II,    z80   ,   ,        10  . <br><br>    ,   ARM   1982,    ? <br><br>     ,        ,    ? <p></p><p></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt410591/">https://habr.com/ru/post/pt410591/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt410581/index.html">O abuso de √°lcool √© o caminho mais r√°pido para a dem√™ncia</a></li>
<li><a href="../pt410583/index.html">Samsung Gear VR: impress√µes ap√≥s um m√™s de uso</a></li>
<li><a href="../pt410585/index.html">Como se tornar um m√°gico (parte 1)</a></li>
<li><a href="../pt410587/index.html">Apple pretende comprar cobalto exclusivamente de empresas de minera√ß√£o</a></li>
<li><a href="../pt410589/index.html">Ecossistemas marinhos capazes de se adaptar ao aquecimento global</a></li>
<li><a href="../pt410593/index.html">Telegram realiza outra rodada da OIC</a></li>
<li><a href="../pt410597/index.html">Outro dispositivo dom√©stico inteligente</a></li>
<li><a href="../pt410599/index.html">Uma onda de roubos de equipamentos de fazendas de minera√ß√£o varreu a Isl√¢ndia</a></li>
<li><a href="../pt410601/index.html">O que √© rob√≥tica educacional hoje</a></li>
<li><a href="../pt410603/index.html">Manifesto de propriedade</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>