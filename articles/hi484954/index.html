<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЫйя╕П ЁЯСиЁЯП╗тАНтЬИя╕П ЁЯОа рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рджреГрд╢реНрдп рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдЧрд╛рдЗрдб ЁЯСитАНтЬИя╕П ЁЯСйЁЯП╛тАНЁЯдЭтАНЁЯСиЁЯП╗ ЁЯСйЁЯП┐тАНтЬИя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд▓рдЧрднрдЧред рдЯреНрд░рд╛рдВрд╕ред : рдпрд╣ рд▓реЗрдЦ learnk8s рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╕рд╛рдордЧреНрд░рд┐рдпреЛрдВ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдХреБрдмреЗрд░рдиреЗрдЯ рдХрдВрдкрдирд┐рдпреЛрдВ рдФрд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкреНрд░рд╢рд╛рд╕рдХреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рджреГрд╢реНрдп рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдЧрд╛рдЗрдб</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/484954/">  <i><b>рд▓рдЧрднрдЧред</b></i>  <i><b>рдЯреНрд░рд╛рдВрд╕ред</b></i>  <i>: рдпрд╣ рд▓реЗрдЦ <a href="https://learnk8s.io/">learnk8s</a> рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╕рд╛рдордЧреНрд░рд┐рдпреЛрдВ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдХреБрдмреЗрд░рдиреЗрдЯ рдХрдВрдкрдирд┐рдпреЛрдВ рдФрд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкреНрд░рд╢рд╛рд╕рдХреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ рд╕рд┐рдЦрд╛рддрд╛ рд╣реИред</i>  <i>рдЗрд╕рдореЗрдВ, рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореИрдиреЗрдЬрд░, рдбреЗрдирд┐рдпрд▓ рдкреЙрд▓реЗрдВрд╕рд┐рдХ, K8s рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдЪрд▓ рд░рд╣реЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдХреНрдпрд╛ рдХрджрдо рдЙрдард╛рддреЗ рд╣реИрдВ, рдЗрд╕ рдкрд░ рдПрдХ рд╕реНрдкрд╖реНрдЯ рдирд┐рд░реНрджреЗрд╢ рд╕рд╛рдЭрд╛ рдХрд░рддрд╛ рд╣реИред</i> <br><br><img src="https://habrastorage.org/webt/ch/5u/xa/ch5uxanj-3ivwqu88swqyoi6bsu.png"><br><br>  TL; DR: рдпрд╣рд╛рдБ рдПрдХ рдЪрд┐рддреНрд░ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ рддреИрдирд╛рддреА рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛: <a name="habracut"></a><br><br> <a href=""><img src="https://habrastorage.org/webt/4r/qp/si/4rqpsie8dnplkqxahaqntpi2ssw.png"></a> <br><br>  <i>рдХрд┐рд╕реА рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рдЦреЛрдЬрдиреЗ рдФрд░ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлрд╝реНрд▓реЛрдЪрд╛рд░реНрдЯред</i>  <i>рдореВрд▓ (рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ) рдпрд╣ <a href="https://learnk8s.io/a/troubleshooting-kubernetes.pdf">рдкреАрдбреАрдПрдл рдореЗрдВ</a> рдФрд░ <a href="">рдПрдХ рдЫрд╡рд┐ рдХреЗ рд░реВрдк</a> рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИред</i> <br><br>  рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рддреИрдирд╛рдд рдХрд░рддреЗ рд╕рдордп, рдЖрдкрдХреЛ рдЖрдорддреМрд░ рдкрд░ рддреАрди рдШрдЯрдХреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ: <br><br><ul><li>  <b>рдкрд░рд┐рдирд┐рдпреЛрдЬрди</b> рдлрд▓реА рдирд╛рдордХ рдПрдХ рдкреНрд░рддрд┐ рдХреА рдкреНрд░рддрд┐рдпрд╛рдВ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдиреБрд╕реНрдЦрд╛ рд╣реИ; </li><li>  <b>рд╕реЗрд╡рд╛</b> - рдПрдХ рдЖрдВрддрд░рд┐рдХ рднрд╛рд░ рдмреИрд▓реЗрдВрд╕рд░ рдЬреЛ рдлрд▓реА рдХреЗ рдмреАрдЪ рдпрд╛рддрд╛рдпрд╛рдд рд╡рд┐рддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ; </li><li>  <b>рдЗрдирдЧреНрд░реЗрдб</b> - рдмрд╛рд╣рд░реА рджреБрдирд┐рдпрд╛ рд╕реЗ рд╕реЗрд╡рд╛ рдореЗрдВ рдХреИрд╕реЗ рдЯреНрд░реИрдлрд╝рд┐рдХ рдЖрдПрдЧрд╛, рдЗрд╕рдХрд╛ рд╡рд░реНрдгрди рд╣реИред </li></ul><br>  рдпрд╣рд╛рдБ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдЪрд┐рддреНрд░рдордп рд╕рд╛рд░рд╛рдВрд╢ рд╣реИ: <br><br>  1) рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ, рд▓реЛрдб рдмреЗрд▓реЗрдВрд╕рд░реЛрдВ рдХреА рджреЛ рдкрд░рддреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрд╛рд╣рд░реА рджреБрдирд┐рдпрд╛ рд╕реЗ рдЖрд╡реЗрджрди рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреЗ рд╣реИрдВ: рдЖрдВрддрд░рд┐рдХ рдФрд░ рдмрд╛рд╣рд░реАред <br><br><img src="https://habrastorage.org/webt/3v/cy/z9/3vcyz9a-2ciiqbh9he7idgvo7uy.png"><br><br>  2) рдЖрдВрддрд░рд┐рдХ рдмреИрд▓реЗрдВрд╕рд░ рдХреЛ рд╕реЗрд╡рд╛, рдмрд╛рд╣рд░реА - рдкреНрд░рд╡реЗрд╢ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/23/mn/zc/23mnzcfo_b3niccdivn4bc4vzei.png"><br><br>  3) рддреИрдирд╛рддреА рдлрд▓реА рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ рдЙрди рдкрд░ рдирдЬрд╝рд░ рд░рдЦрддрд╛ рд╣реИ (рд╡реЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдирд╣реАрдВ рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ)ред <br><br><img src="https://habrastorage.org/webt/4j/c2/h9/4jc2h9pgzbxmkon4ewkbeuf0vhc.png"><br><br>  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рдЖрдк рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд▓рд╛ <i>рд╣реИрд▓реЛ рд╡рд░реНрд▓реНрдб</i> рддреИрдирд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рд▓рд┐рдП YAML рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛: <br><br><pre><code class="plaintext hljs">apiVersion: apps/v1 kind: Deployment # &lt;&lt;&lt; metadata: name: my-deployment labels: track: canary spec: selector: matchLabels: any-name: my-app template: metadata: labels: any-name: my-app spec: containers: - name: cont1 image: learnk8s/app:1.0.0 ports: - containerPort: 8080 --- apiVersion: v1 kind: Service # &lt;&lt;&lt; metadata: name: my-service spec: ports: - port: 80 targetPort: 8080 selector: name: app --- apiVersion: networking.k8s.io/v1beta1 kind: Ingress # &lt;&lt;&lt; metadata: name: my-ingress spec: rules: - http: paths: - backend: serviceName: app servicePort: 80 path: /</code> </pre> <br>  рдкрд░рд┐рднрд╛рд╖рд╛ рдХрд╛рдлреА рд▓рдВрдмреА рд╣реИ, рдФрд░ рдпрд╣ рднреНрд░рдорд┐рдд рд╣реЛрдирд╛ рдЖрд╕рд╛рди рд╣реИ рдХрд┐ рдШрдЯрдХ рдПрдХ рджреВрд╕рд░реЗ рд╕реЗ рдХреИрд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВред <br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: <br><br><ul><li>  рдЖрдкрдХреЛ рдкреЛрд░реНрдЯ 80 рдФрд░ рдХрдм - 8080 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП? </li><li>  рдХреНрдпрд╛ рдореБрдЭреЗ рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдкреЛрд░реНрдЯ рдмрдирд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рд╡реЗ рд╕рдВрдШрд░реНрд╖ рди рдХрд░реЗрдВ? </li><li>  рд▓реЗрдмрд▓ рдирд╛рдо рдорд╛рдпрдиреЗ рд░рдЦрддреЗ рд╣реИрдВ?  рдХреНрдпрд╛ рдЙрдиреНрд╣реЗрдВ рд╣рд░ рдЬрдЧрд╣ рдПрдХ рдЬреИрд╕рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП? </li></ul><br>  рдбрд┐рдмрдЧрд┐рдВрдЧ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдЗрдП рдпрд╛рдж рдХрд░реЗрдВ рдХрд┐ рддреАрди рдШрдЯрдХ рдПрдХ рджреВрд╕рд░реЗ рд╕реЗ рдХреИрд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВред  рдЪрд▓реЛ рддреИрдирд╛рддреА рдФрд░ рд╕реЗрд╡рд╛ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред <br><br><h2>  рдХрдиреЗрдХреНрд╢рди рддреИрдирд╛рддреА рдФрд░ рд╕реЗрд╡рд╛ </h2><br>  рдЖрдк рдЖрд╢реНрдЪрд░реНрдпрдЪрдХрд┐рдд рд╣реЛрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд┐рд╕ рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реБрдП рдирд╣реАрдВ рд╣реИрдВред  рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рд╕реЗрд╡рд╛ рд╕реАрдзреЗ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░ рдкреЙрдбреНрд╕ рдХреА рдУрд░ рдЗрд╢рд╛рд░рд╛ рдХрд░рддреА рд╣реИред <br><br>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдо рдЗрд╕ рдмрд╛рдд рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдХрд┐ рдкреЙрдбреНрд╕ рдФрд░ рд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдПрдХ-рджреВрд╕рд░реЗ рд╕реЗ рдХреИрд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВред  рддреАрди рдмрд╛рддреЗрдВ рдпрд╛рдж рд░рдЦреЗрдВ: <br><br><ol><li>  рдПрдХ рд╕реЗрд╡рд╛ <code>selector</code> рдХреЛ рдХрдо рд╕реЗ рдХрдо рдПрдХ рдкреЙрдб рд▓реЗрдмрд▓ рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  <code>targetPort</code> рдкреЙрдб рдХреЗ рдЕрдВрджрд░ <code>containerPort</code> рдореЗрд▓ <code>targetPort</code> рдЪрд╛рд╣рд┐рдПред </li><li>  <code>port</code> рд╕рд░реНрд╡рд┐рд╕ рдХреБрдЫ рднреА рд╣реЛ рд╕рдХрддреА рд╣реИред  рд╡рд┐рднрд┐рдиреНрди рд╕реЗрд╡рд╛рдПрдВ рдПрдХ рд╣реА рдкреЛрд░реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреА рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдЙрдирдХреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЖрдИрдкреА рдкрддреЗ рд╣реИрдВред </li></ol><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░ рдЪрд┐рддреНрд░рдордп рд░реВрдк рдореЗрдВ рдЙрдкрд░реЛрдХреНрдд рд╕рднреА рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИ: <br><br>  1) рдХрд▓реНрдкрдирд╛ рдХреАрдЬрд┐рдП рдХрд┐ рд╕реЗрд╡рд╛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдлрд▓реА рдХреЗ рд▓рд┐рдП рдпрд╛рддрд╛рдпрд╛рдд рдХреЛ рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░рддреА рд╣реИ: <br><br><img src="https://habrastorage.org/webt/2a/e5/8f/2ae58fcgoi7aifmcr5rl_0bseym.png"><br><br>  2) рдкреЙрдб рдмрдирд╛рддреЗ рд╕рдордп, рдЖрдкрдХреЛ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдХрдВрдЯреЗрдирд░ рдХреЗ рд▓рд┐рдП рдкреЙрдбрдкреЙрдЯ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛: <br><br><img src="https://habrastorage.org/webt/xc/fa/ow/xcfaowomhbtqhebhodgzhzrkupc.png"><br><br>  3) рд╕реЗрд╡рд╛ рдмрдирд╛рддреЗ рд╕рдордп, рдЖрдкрдХреЛ <code>port</code> рдФрд░ <code>targetPort</code> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  <i>рд▓реЗрдХрд┐рди рдХрдВрдЯреЗрдирд░ рдХрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬреБрдбрд╝ рд░рд╣рд╛ рд╣реИ?</i> <br><br><img src="https://habrastorage.org/webt/vg/wj/nd/vgwjnde0xyzdblwamomfxjaxb40.png"><br><br>  4) рд╡рд╛рдпрд╛ <code>targetPort</code> ред  рдпрд╣ рдХрдВрдЯреЗрдирд░рдкреЙрд░реНрдЯ рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><img src="https://habrastorage.org/webt/q4/yx/qn/q4yxqnkxxilupalikahmqqp09x8.png"><br><br>  5) рдорд╛рди рд▓реЗрдВ рдХрд┐ рдкреЛрд░реНрдЯ 3000 рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдЦреБрд▓рд╛ рд╣реИред рдлрд┐рд░ <code>targetPort</code> рд╡реИрд▓реНрдпреВ рд╕рдорд╛рди рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред <br><br><img src="https://habrastorage.org/webt/cq/tj/-s/cqtj-srznih70qh7bxs3w_l7bis.png"><br><br>  <code>targetPort</code> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ, рд▓реЗрдмрд▓ рдФрд░ <code>ports</code> / <code>targetPort</code> рдХрд╛ рдорд┐рд▓рд╛рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><pre> <code class="plaintext hljs">apiVersion: apps/v1 kind: Deployment metadata: name: my-deployment labels: track: canary spec: selector: matchLabels: any-name: my-app template: metadata: labels: # &lt;&lt;&lt; any-name: my-app # &lt;&lt;&lt; spec: containers: - name: cont1 image: learnk8s/app:1.0.0 ports: - containerPort: 8080 # &lt;&lt;&lt; --- apiVersion: v1 kind: Service metadata: name: my-service spec: ports: - port: 80 targetPort: 8080 # &lt;&lt;&lt; selector: # &lt;&lt;&lt; any-name: my-app # &lt;&lt;&lt;</code> </pre> <br>  <i><code>track: canary</code> рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛ <code>track: canary</code> рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдЕрдиреБрднрд╛рдЧ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ <code>track: canary</code> ?</i>  <i>рдХреНрдпрд╛ рдпрд╣ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП?</i> <br><br>  рдпрд╣ рд▓реЗрдмрд▓ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реЗрд╡рд╛ рджреНрд╡рд╛рд░рд╛ рдпрд╛рддрд╛рдпрд╛рдд рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдЗрд╕реЗ рд╣рдЯрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдПрдХ рдЕрд▓рдЧ рдорд╛рди рдЕрд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  <i><code>matchLabels</code> рдЪрдпрдирдХрд░реНрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛?</i> <br><br>  <b>рдЗрд╕реЗ рд╣рдореЗрд╢рд╛ рдлрд▓реА рдХреЗ рд▓реЗрдмрд▓ рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП</b> , рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдлрд▓реА рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рдирд┐рдпреЛрдЬрди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  <i>рдорд╛рди рд▓реАрдЬрд┐рдП рдЖрдкрдиреЗ рд╕рд╣реА рд╕рдВрдкрд╛рджрди рдХрд┐рдпрд╛ рд╣реИред</i>  <i>рдЙрдирдХреА рдЬрд╛рдВрдЪ рдХреИрд╕реЗ рдХрд░реЗрдВ?</i> <br><br>  рдЖрдк рдирд┐рдореНрди рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдкреЙрдб рд▓реЗрдмрд▓ рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">kubectl get pods --show-labels</code> </pre> <br>  рдпрд╛, рдпрджрд┐ рдлрд▓реА рдХрдИ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВ: <br><br><pre> <code class="bash hljs">kubectl get pods --selector any-name=my-app --show-labels</code> </pre> <br>  рдЬрд╣рд╛рдБ <code>any-name=my-app</code> <code>any-name: my-app</code> рд▓реЗрдмрд▓ <br><br>  <i>рдХреНрдпрд╛ рдХреЛрдИ рдореБрд╢реНрдХрд┐рд▓реЗрдВ рд╣реИрдВ?</i> <br><br>  рдЖрдк рдлрд▓реА рд╕реЗ рдЬреБрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ!  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, kubectl рдореЗрдВ <code>port-forward</code> рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рдпрд╣ рдЖрдкрдХреЛ рд╕реЗрд╡рд╛ рд╕реЗ рдЬреБрдбрд╝рдиреЗ рдФрд░ рдХрдиреЗрдХреНрд╢рди рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br><pre> <code class="bash hljs">kubectl port-forward service/&lt;service name&gt; 3000:80</code> </pre> <br>  рдпрд╣рд╛рдВ: <br><br><ul><li>  <code>service/&lt;service name&gt;</code> - рд╕реЗрд╡рд╛ рдХрд╛ рдирд╛рдо;  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ <code>my-service</code> ; </li><li>  3000 - рд╡рд╣ рдкреЛрд░реНрдЯ рдЬрд┐рд╕реЗ рдЖрдк рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдЦреЛрд▓рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ; </li><li>  80 - рд╕реЗрд╡рд╛ рдХреЗ <code>port</code> рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ <code>port</code> ред </li></ul><br>  рдпрджрд┐ рдЖрдк рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдереЗ, рддреЛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕рд╣реА рд╣реИрдВред <br><br>  рдпрджрд┐ рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрд╛, рддреЛ рд╕рдорд╕реНрдпрд╛ рд▓реЗрдмрд▓ рдХреЗ рд╕рд╛рде рд╣реИ рдпрд╛ рдкреЛрд░реНрдЯ рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛рддреЗ рд╣реИрдВред <br><br><h2>  рд╕реЗрд╡рд╛ рдФрд░ рдкреНрд░рдЧрддрд┐ рдХрд╛ рдХрдиреЗрдХреНрд╢рди </h2><br>  рдПрдкреНрд▓рд┐рдХреЗрд╢рди рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХрд╛ рдЕрдЧрд▓рд╛ рдЪрд░рдг рдЗрдирдЧреНрд░реЗрдб рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред  рдкреНрд░рдЧрддрд┐ рдХреЛ рдкрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╕реЗрд╡рд╛ рдХреЛ рдХреИрд╕реЗ рдЦреЛрдЬрдирд╛ рд╣реИ, рдлрд┐рд░ рдЙрдиреНрд╣реЗрдВ рдлрд▓реА рдФрд░ рдкреНрд░рддреНрдпрдХреНрд╖ рдЯреНрд░реИрдлрд╝рд┐рдХ рдвреВрдВрдвреЗрдВред  рдЗрдВрдЧреНрд░рд┐рдб рдирд╛рдо рдФрд░ рдЦреБрд▓реЗ рдмрдВрджрд░рдЧрд╛рд╣ рджреНрд╡рд╛рд░рд╛ рд╡рд╛рдВрдЫрд┐рдд рд╕реЗрд╡рд╛ рдкрд╛рддрд╛ рд╣реИред <br><br>  рдкреНрд░рдЧрддрд┐ рдФрд░ рд╕реЗрд╡рд╛ рдХреЗ рд╡рд┐рд╡рд░рдг рдореЗрдВ, рджреЛ рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рдорд┐рд▓рд╛рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><ol><li>  <code>servicePort</code> рдореЗрдВ рд╕реЗрд╡рд╛ рдореЗрдВ <code>port</code> рдкреИрд░рд╛рдореАрдЯрд░ рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП; </li><li>  <code>serviceName</code> рдореЗрдВ <code>name</code> рдХрд╛ <code>name</code> рд╕реЗрд╡рд╛ рдореЗрдВ <code>name</code> рдлрд╝реАрд▓реНрдб рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li></ol><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░ рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдХреЗ рдХрдиреЗрдХреНрд╢рди рдХреЛ рд╕рд╛рд░рд╛рдВрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ: <br><br>  1) рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЬрд╛рдирддреЗ рд╣реИрдВ, рд╕реЗрд╡рд╛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд <code>port</code> рдкрд░ рд╕реБрдирддреА рд╣реИ: <br><br><img src="https://habrastorage.org/webt/9q/t0/fz/9qt0fzsyme9mnrd4ki07ezamnkg.png"><br><br>  2) рдЗрдирдЧреНрд░реЗрдб рдореЗрдВ рдПрдХ рдкреИрд░рд╛рдореАрдЯрд░ рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ <code>servicePort</code> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/rn/du/yw/rnduyw4xvfmpjmhup8fy9ao2d1a.png"><br><br>  3) рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ ( <code>servicePort</code> ) рдХреЛ рд╣рдореЗрд╢рд╛ рд╕реЗрд╡рд╛ рдкрд░рд┐рднрд╛рд╖рд╛ рдореЗрдВ <code>port</code> рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/webt/1d/ap/ty/1daptyulxphnbb2dt6uben-lnzk.png"><br><br>  4) рдпрджрд┐ рдкреЛрд░реНрдЯ 80 рд╕реЗрд╡рд╛ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реИ, рддреЛ <code>servicePort</code> 80 рднреА рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/webt/nc/mi/dl/ncmidlxiegmtmhtozaxxqhznaya.png"><br><br>  рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ, рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрдВрдХреНрддрд┐рдпреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <br><br><pre> <code class="plaintext hljs">apiVersion: v1 kind: Service metadata: name: my-service # &lt;&lt;&lt; spec: ports: - port: 80 # &lt;&lt;&lt; targetPort: 8080 selector: any-name: my-app --- apiVersion: networking.k8s.io/v1beta1 kind: Ingress metadata: name: my-ingress spec: rules: - http: paths: - backend: serviceName: my-service # &lt;&lt;&lt; servicePort: 80 # &lt;&lt;&lt; path: /</code> </pre> <br>  <i>рдХреИрд╕реЗ рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдХрд┐ рдХреНрдпрд╛ Ingress рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ?</i> <br><br>  рдЖрдк <code>kubectl port-forward</code> рд╕рд╛рде рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ <code>kubectl port-forward</code> , рд▓реЗрдХрд┐рди рд╕реЗрд╡рд╛ рдХреЗ рдмрдЬрд╛рдп рдЖрдкрдХреЛ <code>kubectl port-forward</code> рдирд┐рдпрдВрддреНрд░рдХ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдЗрдирдЧреНрд░реЗрдб рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рд╕рд╛рде рдкреЙрдб рдХрд╛ рдирд╛рдо рдкрддрд╛ рдХрд░рдирд╛ рд╣реЛрдЧрд╛: <br><br><pre> <code class="bash hljs">kubectl get pods --all-namespaces NAMESPACE NAME READY STATUS kube-system coredns-5644d7b6d9-jn7cq 1/1 Running kube-system etcd-minikube 1/1 Running kube-system kube-apiserver-minikube 1/1 Running kube-system kube-controller-manager-minikube 1/1 Running kube-system kube-proxy-zvf2h 1/1 Running kube-system kube-scheduler-minikube 1/1 Running kube-system nginx-ingress-controller-6fc5bcc 1/1 Running</code> </pre> <br>  рдЗрдирдЧреНрд░реЗрдб рдкреЙрдб рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдБ (рдпрд╣ рдПрдХ рдЕрд▓рдЧ рдирд╛рдорд╕реНрдерд╛рди рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ) рдФрд░ рдкреЛрд░реНрдЯ рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП <code>describe</code> рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ: <br><br><pre> <code class="bash hljs">kubectl describe pod nginx-ingress-controller-6fc5bcc \ --namespace kube-system \ | grep Ports Ports: 80/TCP, 443/TCP, 18080/TCP</code> </pre> <br>  рдЕрдВрдд рдореЗрдВ, рдлрд▓реА рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs">kubectl port-forward nginx-ingress-controller-6fc5bcc 3000:80 --namespace kube-system</code> </pre> <br>  рдЕрдм рд╣рд░ рдмрд╛рд░ рдЬрдм рдЖрдк рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ 3000 рдкреЛрд░реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рднреЗрдЬрддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕реЗ рдЗрдирдЧреНрд░реЗрдб рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рд╕рд╛рде рдкреЙрдб рдХреЗ рдкреЛрд░реНрдЯ 80 рдкрд░ рд░реАрдбрд╛рдпрд░реЗрдХреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  <a href="http://localhost:3000/">Http: // localhost: 3000 рдкрд░</a> рдЬрд╛рдХрд░, рдЖрдкрдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдкреЗрдЬ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><h2>  рдкреЛрд░реНрдЯ рд╕рд╛рд░рд╛рдВрд╢ </h2><br>  рдЖрдЗрдП рдлрд┐рд░ рд╕реЗ рдпрд╛рдж рдХрд░реЗрдВ рдХрд┐ рдХрд┐рди рдкреЛрд░реНрдЯреНрд╕ рдФрд░ рд▓реЗрдмрд▓реНрд╕ рдХрд╛ рдорд┐рд▓рд╛рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><ol><li>  рд╕реЗрд╡рд╛ рдкрд░рд┐рднрд╛рд╖рд╛ рдореЗрдВ рдЪрдпрдирдХрд░реНрддрд╛ рдХреЛ рдкреЙрдб рд▓реЗрдмрд▓ рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП; </li><li>  рд╕реЗрд╡рд╛ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдореЗрдВ <code>targetPort</code> рдХреЛ рдкреЙрдб рдХреЗ рдЕрдВрджрд░ <code>containerPort</code> рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП; </li><li>  рд╕реЗрд╡рд╛ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдореЗрдВ <code>port</code> рдХреБрдЫ рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рд╡рд┐рднрд┐рдиреНрди рд╕реЗрд╡рд╛рдПрдВ рдПрдХ рд╣реА рдкреЛрд░реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреА рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдЙрдирдХреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЖрдИрдкреА рдкрддреЗ рд╣реИрдВ; </li><li>  <code>servicePort</code> Ingress рдХреЛ рд╕реЗрд╡рд╛ рдкрд░рд┐рднрд╛рд╖рд╛ рдореЗрдВ <code>port</code> рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП; </li><li>  рд╕реЗрд╡рд╛ рдХрд╛ рдирд╛рдо Ingress рдореЗрдВ <code>serviceName</code> рдХреНрд╖реЗрддреНрд░ рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li></ol><br>  рдХрд╛рд╢, рдпрд╣ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ YAML рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдареАрдХ рд╕реЗ рдХреИрд╕реЗ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рдПред <br><br>  <i>рдЬрдм рдХреБрдЫ рдЧрд▓рдд рд╣реЛрддрд╛ рд╣реИ рддреЛ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ?</i> <br><br>  рд╢рд╛рдпрдж рдлрд▓реА рд╢реБрд░реВ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ рдпрд╛ рдпрд╣ рджреБрд░реНрдШрдЯрдирд╛рдЧреНрд░рд╕реНрдд рд╣реЛ рдЬрд╛рддреА рд╣реИред <br><br><h2>  рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХрд╛ рдирд┐рд╡рд╛рд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП 3 рдЪрд░рдг </h2><br>  рдПрдХ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХреЛ рдбреАрдмрдЧ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдпрд╣ рд╕рдордЭрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХреБрдмреЗрд░рдиреЗрдЯ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br>  рдЪреВрдВрдХрд┐ K8s рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдП рдЧрдП рд╣рд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рддреАрди рдШрдЯрдХ рд╣реЛрддреЗ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдХреНрд░рдо рдореЗрдВ рдбреАрдмрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬреЛ рдмрд╣реБрдд рдиреАрдЪреЗ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред <br><br><ol><li>  рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдлрд▓реА рдХрд╛рдо рдХрд░ рд░рд╣реА рд╣реИ, рдлрд┐рд░ ... </li><li>  рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ рд╕реЗрд╡рд╛ рдкреЙрдбреНрд╕ рдореЗрдВ рдЯреНрд░реИрдлрд╝рд┐рдХ рд╡рд┐рддрд░рд┐рдд рдХрд░рддреА рд╣реИ, рдФрд░ рдлрд┐рд░ ... </li><li>  рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ Ingress рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </li></ol><br>  рджреГрд╢реНрдп рдкреНрд░рд╕реНрддреБрддрд┐: <br><br>  1) рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ рдХреА рд╢реБрд░реБрдЖрдд рдиреАрдЪреЗ рд╕реЗ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред  рдкрд╣рд▓реЗ рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдкреЙрдбреНрд╕ рдореЗрдВ <code>Ready</code> рдФрд░ <code>Running</code> рд╕реНрдЯреЗрдЯрд╕ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/f-/lc/iz/f-lcizmfav5sb1sc7hvu8samwes.png"><br><br>  2) рдпрджрд┐ рдлрд▓реА <code>Ready</code> , рддреЛ рдЖрдкрдХреЛ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдХреНрдпрд╛ рд╕реЗрд╡рд╛ рдлрд▓реА рдХреЗ рдмреАрдЪ рдпрд╛рддрд╛рдпрд╛рдд рдХреЛ рд╡рд┐рддрд░рд┐рдд рдХрд░рддреА рд╣реИ: <br><br><img src="https://habrastorage.org/webt/yg/we/bu/ygwebumu8ga9lmd7krineuw38mq.png"><br><br>  3) рдЕрдВрдд рдореЗрдВ, рдЖрдкрдХреЛ рд╕реЗрд╡рд╛ рдФрд░ рдЗрдирдЧреНрд░реЗрдб рдХреЗ рдмреАрдЪ рдХрдиреЗрдХреНрд╢рди рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/y7/ze/uz/y7zeuzkhzgsdzcjmng2ei4fjrxg.png"><br><br><h2>  1. рдлрд▓реА рдХрд╛ рдирд┐рджрд╛рди </h2><br>  рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рд╕рдорд╕реНрдпрд╛ рдлрд▓реА рдХреЗ рд╕рд╛рде рд╣реИред  рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдлрд▓реА <code>Ready</code> рдФрд░ <code>Running</code> ред  рдЖрдк рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">kubectl get pods NAME READY STATUS RESTARTS AGE app1 0/1 ImagePullBackOff 0 47h app2 0/1 Error 0 47h app3-76f9fcd46b-xbv4k 1/1 Running 1 47h</code> </pre> <br>  рдКрдкрд░ рджрд┐рдП рдЧрдП рдХрдорд╛рдВрдб рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ, рдЕрдВрддрд┐рдо рдкреЙрдб рдХреЛ <code>Running</code> рдФрд░ <code>Ready</code> рд░реВрдк рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдиреНрдп рджреЛ рдХреЗ рд▓рд┐рдП рдпрд╣ рдирд╣реАрдВ рд╣реИред <br><br>  <i>рдХреИрд╕реЗ рд╕рдордЭреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдЧрд▓рдд рд╣реБрдЖ?</i> <br><br>  рдлрд▓реА рдХреЗ рдирд┐рджрд╛рди рдХреЗ рд▓рд┐рдП рдЪрд╛рд░ рдЙрдкрдпреЛрдЧреА рдЖрджреЗрд╢ рд╣реИрдВ: <br><br><ol><li>  <code>kubectl logs &lt; pod'&gt;</code> рдЖрдкрдХреЛ рдкреЙрдб рдореЗрдВ рдХрдВрдЯреЗрдирд░реЛрдВ рд╕реЗ рд▓реЙрдЧ рдирд┐рдХрд╛рд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ; </li><li>  <code>kubectl describe pod &lt; pod'&gt;</code> рдЖрдкрдХреЛ рдкреЙрдб рд╕реЗ рдЬреБрдбрд╝реА рдШрдЯрдирд╛рдУрдВ рдХреА рдПрдХ рд╕реВрдЪреА рджреЗрдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ; </li><li>  <code>kubectl get pod &lt; pod'&gt;</code> рдЖрдкрдХреЛ Kubernetes рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд <code>kubectl get pod &lt; pod'&gt;</code> рдХрд╛ YAML рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ; </li><li>  <code>kubectl exec -ti &lt; pod'&gt; bash</code> рдЖрдкрдХреЛ рдкреЙрдб рдХрдВрдЯреЗрдирд░реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдореЗрдВ рдПрдХ рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдХрдорд╛рдВрдб рд╢реЗрд▓ рдЪрд▓рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ </li></ol><br>  <i>рдХреМрди рд╕рд╛ рдЪреБрдирдирд╛ рд╣реИ?</i> <br><br>  рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рдХреЛрдИ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдЯреАрдо рдирд╣реАрдВ рд╣реИред  рдЗрдирдХрд╛ рдПрдХ рд╕рдВрдпреЛрдЬрди рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><h3>  рдЖрдо рдлрд▓реА рдХреА рд╕рдорд╕реНрдпрд╛ </h3><br>  рдкреЙрдб рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рджреЛ рдореБрдЦреНрдп рдкреНрд░рдХрд╛рд░ рд╣реИрдВ: рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдФрд░ рд░рдирдЯрд╛рдЗрдо рддреНрд░реБрдЯрд┐рдпрд╛рдВред <br><br>  рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рддреНрд░реБрдЯрд┐рдпрд╛рдВ: <br><br><ul><li> <code>ImagePullBackoff</code> </li> <li> <code>ImageInspectError</code> </li> <li> <code>ErrImagePull</code> </li> <li> <code>ErrImageNeverPull</code> </li> <li> <code>RegistryUnavailable</code> </li> <li> <code>InvalidImageName</code> </li> </ul><br>  рд░рдирдЯрд╛рдЗрдо рддреНрд░реБрдЯрд┐рдпрд╛рдБ: <br><br><ul><li> <code>CrashLoopBackOff</code> </li> <li> <code>RunContainerError</code> </li> <li> <code>KillContainerError</code> </li> <li> <code>VerifyNonRootError</code> </li> <li> <code>RunInitContainerError</code> </li> <li> <code>CreatePodSandboxError</code> </li> <li> <code>ConfigPodSandboxError</code> </li> <li> <code>KillPodSandboxError</code> </li> <li> <code>SetupNetworkError</code> </li> <li> <code>TeardownNetworkError</code> </li> </ul><br>  рдХреБрдЫ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рджреВрд╕рд░реЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рд╕рд╛рдорд╛рдиреНрдп рд╣реИрдВред  рдпрд╣рд╛рдВ рдХреБрдЫ рд╕рд╛рдорд╛рдиреНрдп рддреНрд░реБрдЯрд┐рдпрд╛рдВ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рдареАрдХ рдХрд┐рдпрд╛ рдЬрд╛рдПред <br><br><h4>  ImagePullBackOff </h4><br>  рдпрд╣ рддреНрд░реБрдЯрд┐ рддрдм рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИ рдЬрдм рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдкреЙрдб рдХрдВрдЯреЗрдирд░реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рдЫрд╡рд┐ рдирд╣реАрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рддреАрди рд╕рдмрд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рд░рдг рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИрдВ: <br><br><ol><li>  рдЫрд╡рд┐ рдХрд╛ рдирд╛рдо рдЧрд▓рдд рд░реВрдк рд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реИ - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдиреЗ рдЗрд╕рдореЗрдВ рдЧрд▓рддреА рдХреА рд╣реИ, рдпрд╛ рдЫрд╡рд┐ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ; </li><li>  рдЫрд╡рд┐ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рднреА рдирд╣реАрдВ рдЯреИрдЧ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ; </li><li>  рдЫрд╡рд┐ рдХреЛ рдПрдХ рдирд┐рдЬреА рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдХреЗ рдкрд╛рд╕ рдЗрд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХрд╛ рдЕрдзрд┐рдХрд╛рд░ рдирд╣реАрдВ рд╣реИред </li></ol><br>  рдкрд╣рд▓реЗ рджреЛ рдХрд╛рд░рдгреЛрдВ рдХреЛ рдЦрддреНрдо рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ - рдмрд╕ рдЫрд╡рд┐ рдирд╛рдо рдФрд░ рдЯреИрдЧ рдХреЛ рдареАрдХ рдХрд░реЗрдВред  рдЙрддреНрддрд░рд╛рд░реНрджреНрдз рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдкрдХреЛ рдЧреБрдкреНрдд рдореЗрдВ рдирд┐рдЬреА рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдХреЗ рд▓рд┐рдП рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рджрд░реНрдЬ рдХрд░рдиреЗ рдФрд░ рдлрд▓реА рдореЗрдВ рдЗрд╕рдХреЗ рд▓рд┐рдВрдХ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдкреНрд░рд▓реЗрдЦрди <a href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/">рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг</a> рд╣реИ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br><h4>  CrashLoopBackOff </h4><br>  рдпрджрд┐ рдХрдВрдЯреЗрдирд░ рдкреНрд░рд╛рд░рдВрдн рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рддреЛ Kubenetes CrashLoopBackOff рддреНрд░реБрдЯрд┐ рдлреЗрдВрдХ рджреЗрдЧрд╛ред  рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рддрдм рд╣реЛрддрд╛ рд╣реИ рдЬрдм: <br><br><ol><li>  рдЖрд╡реЗрджрди рдореЗрдВ рдПрдХ рддреНрд░реБрдЯрд┐ рд╣реИ рдЬреЛ рдЗрд╕реЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рд╕реЗ рд░реЛрдХрддреА рд╣реИ; </li><li>  рдХрдВрдЯреЗрдирд░ <a href="https://stackoverflow.com/questions/41604499/my-kubernetes-pods-keep-crashing-with-crashloopbackoff-but-i-cant-find-any-lo">рдЧрд▓рдд рддрд░реАрдХреЗ</a> рд╕реЗ <a href="https://stackoverflow.com/questions/41604499/my-kubernetes-pods-keep-crashing-with-crashloopbackoff-but-i-cant-find-any-lo">рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ</a> ; </li><li>  рдХрдИ рдмрд╛рд░ рд▓рд╛рдИрдиреЗрд╕ рдЯреЗрд╕реНрдЯ рднреА рдлреЗрд▓ рд╣реБрдЖред </li></ol><br>  рдЗрд╕рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдХрд╛рд░рдг рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдХрдВрдЯреЗрдирд░ рд╕реЗ рд▓реЙрдЧ рдореЗрдВ рдЬрд╛рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдпрджрд┐ рд▓реЙрдЧ рддрдХ рдкрд╣реБрдВрдЪрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдХрдВрдЯреЗрдирд░ рдмрд╣реБрдд рдЬрд▓реНрджреА рд╕реЗ рдкреБрдирд░рд╛рд░рдВрдн рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЖрдк рдирд┐рдореНрди рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">kubectl logs &lt;pod-name&gt; --previous</code> </pre> <br>  рдпрд╣ рдкрд┐рдЫрд▓реЗ рдХрдВрдЯреЗрдирд░ рдкреБрдирд░реНрдЬрдиреНрдо рд╕реЗ рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред <br><br><h4>  RunContainerError </h4><br>  рдпрд╣ рддреНрд░реБрдЯрд┐ рддрдм рд╣реЛрддреА рд╣реИ рдЬрдм рдХрдВрдЯреЗрдирд░ рдкреНрд░рд╛рд░рдВрдн рдХрд░рдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓ рд░рд╣рддрд╛ рд╣реИред  рдпрд╣ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓реЙрдиреНрдЪ рд╕реЗ рдкрд╣рд▓реЗ рдХреЗ рдХреНрд╖рдг рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИред  рдЖрдорддреМрд░ рдкрд░ рдЗрд╕рдХрд╛ рдХрд╛рд░рдг рдЧрд▓рдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: <br><br><ul><li>  рдПрдХ рдЧреИрд░-рдореМрдЬреВрдж рд╡реЙрд▓реНрдпреВрдо, рдЬреИрд╕реЗ рдХрд┐ рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рдпрд╛ рд░рд╣рд╕реНрдп рдХреЛ рдорд╛рдЙрдВрдЯ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рдирд╛; </li><li>  рдкрдврд╝рдиреЗ-рд▓рд┐рдЦрдиреЗ рдХреЗ рд░реВрдк рдореЗрдВ рдХреЗрд╡рд▓-рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реЙрд▓реНрдпреВрдо рдХреЛ рдорд╛рдЙрдВрдЯ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ред </li></ul><br>  <code>kubectl describe pod &lt;pod-name&gt;</code> рдХрдорд╛рдВрдб рдРрд╕реА рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдЕрдиреБрдХреВрд▓ рд╣реИред <br><br><h3>  рдкреЙрдбреНрд╕ рд▓рдВрдмрд┐рдд </h3><br>  рдирд┐рд░реНрдорд╛рдг рдХреЗ рдмрд╛рдж, рдлрд▓реА рд▓рдВрдмрд╡рдд рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд░рд╣рддреА рд╣реИред <br><br>  <i>рдРрд╕рд╛ рдХреНрдпреЛрдВ рд╣реЛ рд░рд╣рд╛ рд╣реИ?</i> <br><br>  рдпрд╣рд╛рдБ рд╕рдВрднрд╛рд╡рд┐рдд рдХрд╛рд░рдг рд╣реИрдВ (рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЕрдиреБрд╕реВрдЪрдХ рдареАрдХ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ): <br><br><ol><li>  рдлрд▓реА рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╕рдВрд╕рд╛рдзрди рдФрд░ рдореЗрдореЛрд░реА рдЬреИрд╕реЗ рдкрд░реНрдпрд╛рдкреНрдд рд╕рдВрд╕рд╛рдзрди рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред </li><li>  <code>ResourceQuota</code> рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд╕рдВрдмрдВрдзрд┐рдд рдиреЗрдорд╕реНрдкреЗрд╕ рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдПрдХ рдкреЙрдб рдмрдирд╛рдиреЗ рд╕реЗ рдиреЗрдорд╕реНрдкреЗрд╕ рдХреЛрдЯрд╛ рд╕реЗ рдкрд░реЗ рдЪрд▓рд╛ рдЬрд╛рдПрдЧрд╛ред </li><li>  рдкреЛрдб рд▓рдВрдмрд┐рдд <code>PersistentVolumeClaim</code> рд╕реЗ рдмрдВрдзрд╛ рд╣реБрдЖ рд╣реИред </li></ol><br>  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, <code>kubectl describe</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрдорд╛рдВрдб рдХрд╛ <code>kubectl describe</code> рдФрд░ <code>Events</code> рдЕрдиреБрднрд╛рдЧ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="bash hljs">kubectl describe pod &lt;pod name&gt;</code> </pre> <br>  рд░рд┐рд╕реЛрд░реНрд╕рдХреНрд╡рд╛рдЯреНрд╕ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рд▓реЙрдЧ рджреЗрдЦрдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ <br><br><pre> <code class="bash hljs">kubectl get events --sort-by=.metadata.creationTimestamp</code> </pre> <br><h3>  рдлрд▓реА рддреИрдпрд╛рд░ рдирд╣реАрдВ </h3><br>  рдпрджрд┐ рдлрд▓реА рдХреЛ <code>Running</code> рд░реВрдк рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди <code>Ready</code> рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рддреЛ рддрддреНрдкрд░рддрд╛ рдХреА <i>рдЬрд╛рдВрдЪ</i> рдЕрд╕рдлрд▓ рд╣реИред <br><br>  рдЬрдм рдРрд╕рд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдлрд▓реА рд╕реЗрд╡рд╛ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдФрд░ рдЯреНрд░реИрдлрд╝рд┐рдХ рдЗрд╕рдореЗрдВ рдкреНрд░рд╡рд╛рд╣рд┐рдд рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред  рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рдХрд╛рд░рдг рддрддреНрдкрд░рддрд╛ рдкрд░реАрдХреНрд╖рдг рд╡рд┐рдлрд▓ рд╣реЛ рдЧрдпрд╛ред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рддреНрд░реБрдЯрд┐ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <code>kubectl describe</code> рдХрдорд╛рдВрдб рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ <code>Events</code> рдЕрдиреБрднрд╛рдЧ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><h2>  2. рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдирд┐рджрд╛рди </h2><br>  рдпрджрд┐ рдкреЙрдбреНрд╕ рдХреЛ <code>Running</code> рдФрд░ <code>Ready</code> рд░реВрдк рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ рдЕрднреА рднреА рдХреЛрдИ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рд╕реЗрд╡рд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред <br><br>  рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдЙрдирдХреЗ рд▓реЗрдмрд▓ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдкреЙрдбреНрд╕ рдкрд░ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╛рддрд╛рдпрд╛рдд рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдкрд╣рд▓реА рдмрд╛рдд рдпрд╣ рдЬрд╛рдВрдЪрдирд╛ рд╣реИ рдХрд┐ рд╕реЗрд╡рд╛ рдХреЗ рд╕рд╛рде рдХрд┐рддрдиреЗ рдкреЙрдб рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рд╕реЗрд╡рд╛ рдореЗрдВ рд╕рдорд╛рдкрди рдмрд┐рдВрджреБрдУрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">kubectl describe service &lt;service-name&gt; | grep Endpoints</code> </pre> <br>  рд╕рдорд╛рдкрди рдмрд┐рдВрджреБ рдлреЙрд░реНрдо рдХреЗ рдорд╛рдиреЛрдВ рдХреА рдПрдХ рдЬреЛрдбрд╝реА рд╣реИ <code>&lt;IP-:&gt;</code> , рдФрд░ рдХрдо рд╕реЗ рдХрдо рдПрдХ рдРрд╕реА рдЬреЛрдбрд╝реА рдХреЛ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рдореМрдЬреВрдж рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП (рдЕрд░реНрдерд╛рдд, рд╕реЗрд╡рд╛ рдХреЗ рд╕рд╛рде рдХрдо рд╕реЗ рдХрдо рдПрдХ рдкреЙрдб рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ)ред <br><br>  рдпрджрд┐ <code>Endpoins</code> рдЕрдиреБрднрд╛рдЧ рдЦрд╛рд▓реА рд╣реИ, рддреЛ рджреЛ рд╡рд┐рдХрд▓реНрдк рд╕рдВрднрд╡ рд╣реИрдВ: <br><br><ol><li>  рд╕рд╣реА рд▓реЗрдмрд▓ рдХреЗ рд╕рд╛рде рдХреЛрдИ рдкреЙрдбреНрд╕ рдирд╣реАрдВ рд╣реИрдВ (рд╕рдВрдХреЗрдд: рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдХрд┐ рдХреНрдпрд╛ рдирд╛рдо рд╕реНрдерд╛рди рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдЪреБрдирд╛ рдЧрдпрд╛ рд╣реИ); </li><li>  рдЪрдпрдирдХрд░реНрддрд╛ рдореЗрдВ рд╕реЗрд╡рд╛ рд▓реЗрдмрд▓ рдореЗрдВ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рд╣реИред </li></ol><br>  рдпрджрд┐ рдЖрдк рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреА рд╕реВрдЪреА рджреЗрдЦрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рддрдХ рдирд╣реАрдВ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ, рддреЛ рд╕рдВрднрд╛рд╡рд┐рдд рдЕрдкрд░рд╛рдзреА рд╕реЗрд╡рд╛ рд╡рд┐рд╡рд░рдг рдореЗрдВ <code>targetPort</code> рдореЗрдВ рддреНрд░реБрдЯрд┐ рд╣реИред <br><br>  <i>рд╕реЗрд╡рд╛ рдкреНрд░рджрд░реНрд╢рди рдХреА рдЬрд╛рдВрдЪ рдХреИрд╕реЗ рдХрд░реЗрдВ?</i> <br><br>  рд╕реЗрд╡рд╛ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЗ рдмрд╛рд╡рдЬреВрдж, рдЖрдк рдЗрд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>kubectl port-forward</code> рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">kubectl port-forward service/&lt;service-name&gt; 3000:80</code> </pre> <br>  рдпрд╣рд╛рдВ: <br><br><ul><li>  <code>&lt;service-name&gt;</code> - рд╕реЗрд╡рд╛ рдХрд╛ рдирд╛рдо; </li><li>  3000 - рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдЦреБрд▓рдиреЗ рд╡рд╛рд▓рд╛ рдкреЛрд░реНрдЯ; </li><li>  80 - рд╕реЗрд╡рд╛ рдкрдХреНрд╖ рдкрд░ рдкреЛрд░реНрдЯред </li></ul><br><h2>  3. рдЗрдирдЧреНрд░реЗрд╕ рдбрд╛рдпрдЧреНрдиреЛрд╕реНрдЯрд┐рдХреНрд╕ </h2><br>  рдпрджрд┐ рдЖрдк рдЗрд╕ рдЬрдЧрд╣ рддрдХ рдкрдврд╝рддреЗ рд╣реИрдВ, рддреЛ: <br><br><ul><li>  рдкреЙрдбреНрд╕ рдХреЛ <code>Running</code> рдФрд░ <code>Ready</code> рд░реВрдк рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ; </li><li>  рд╕реЗрд╡рд╛ рдкреЙрдбреНрд╕ рдХреЗ рдмреАрдЪ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╡рд┐рддрд░рд┐рдд рдХрд░рддреА рд╣реИред </li></ul><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЖрдк рдЕрднреА рднреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рддрдХ "рдирд╣реАрдВ рдкрд╣реБрдВрдЪ" рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐, рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рдЗрдирдЧреНрд░реЗрдб рдХрдВрдЯреНрд░реЛрд▓рд░ рдЧрд▓рдд рддрд░реАрдХреЗ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЪреВрдВрдХрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдЗрдирдЧреНрд░реЗрдб рдХрдВрдЯреНрд░реЛрд▓рд░ рдПрдХ рдерд░реНрдб рдкрд╛рд░реНрдЯреА рдХрдВрдкреЛрдиреЗрдВрдЯ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВред <br><br>  рд▓реЗрдХрд┐рди рдЗрдирдЧреНрд░реЗрдб рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд╕рд╛рдзрдиреЛрдВ рдХрд╛ рд╕рд╣рд╛рд░рд╛ рд▓реЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдк рдмрд╣реБрдд рд╕рд░рд▓ рдХреБрдЫ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  <code>serviceName</code> рд╕реЗ рдЬреБрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП <code>serviceName</code> рдФрд░ <code>servicePort</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИред  рдЖрдкрдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╡реЗ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рд╣реИрдВред  рдЖрдк рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдРрд╕рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">kubectl describe ingress &lt;ingress-name&gt;</code> </pre> <br>  рдпрджрд┐ <code>Backend</code> рдХреЙрд▓рдо рдЦрд╛рд▓реА рд╣реИ, рддреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рддреНрд░реБрдЯрд┐ рдХреА рдПрдХ рдЙрдЪреНрдЪ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИред  рдпрджрд┐ рдмреИрдХрдПрдВрдб рдХреА рдЬрдЧрд╣ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрднреА рднреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реИ, рддреЛ рд╕рдорд╕реНрдпрд╛ рдирд┐рдореНрди рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реЛ рд╕рдХрддреА рд╣реИ: <br><br><ul><li>  рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рдкреНрд░рд╡реЗрд╢ рдкрд╣реБрдВрдЪ рд╕реЗрдЯрд┐рдВрдЧреНрд╕; </li><li>  рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рдХреНрд▓рд╕реНрдЯрд░ рдПрдХреНрд╕реЗрд╕рд┐рдмрд┐рд▓рд┐рдЯреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ред </li></ul><br>  рдЖрдк рд╕реАрдзреЗ Ingress рдкреЙрдб рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдХреЗ рдмреБрдирд┐рдпрд╛рджреА рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкрд╣рд▓реЗ рдЗрдирдЧреНрд░реЗрдб рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреА рдкреЙрдб рдвреВрдВрдвреЗрдВ (рдпрд╣ рдПрдХ рдЕрд▓рдЧ рдирд╛рдорд╕реНрдерд╛рди рдореЗрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ): <br><br><pre> <code class="bash hljs">kubectl get pods --all-namespaces NAMESPACE NAME READY STATUS kube-system coredns-5644d7b6d9-jn7cq 1/1 Running kube-system etcd-minikube 1/1 Running kube-system kube-apiserver-minikube 1/1 Running kube-system kube-controller-manager-minikube 1/1 Running kube-system kube-proxy-zvf2h 1/1 Running kube-system kube-scheduler-minikube 1/1 Running kube-system nginx-ingress-controller-6fc5bcc 1/1 Running</code> </pre> <br>  рдкреЛрд░реНрдЯ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>describe</code> рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs">kubectl describe pod nginx-ingress-controller-6fc5bcc --namespace kube-system \ | grep Ports</code> </pre> <br>  рдЕрдВрдд рдореЗрдВ, рдлрд▓реА рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs">kubectl port-forward nginx-ingress-controller-6fc5bcc 3000:80 --namespace kube-system</code> </pre> <br>  рдЕрдм рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдкреЛрд░реНрдЯ 3000 рдХреЗ рд▓рд┐рдП рд╕рднреА рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ 80 рдкреЙрдб рдкреЛрд░реНрдЯ рдХреЗ рд▓рд┐рдП рдкреБрдирд░реНрдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  <i>рдХреНрдпрд╛ рдЕрдм рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ?</i> <br><br><ul><li>  рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ рд╕рдорд╕реНрдпрд╛ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЗ рд╕рд╛рде рд╣реИред  рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреИрд╕реЗ рд░реВрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li><li>  рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рд╕рдорд╕реНрдпрд╛ рдЗрдирдЧреНрд░реЗрдб рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рд╕рд╛рде рд╣реИред </li></ul><br>  рдпрджрд┐ рдЖрдкрдХреЛ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдирдЧреНрд░реЗрдб рдХрдВрдЯреНрд░реЛрд▓рд░ рдирд╣реАрдВ рдорд┐рд▓ рд░рд╣рд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдЗрд╕реЗ рдбреАрдмрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><br>  рдЗрдирдЧреНрд░реЗрдб рдХрдВрдЯреНрд░реЛрд▓рд░реНрд╕ рдХреА рдХрдИ рдХрд┐рд╕реНрдореЗрдВ рд╣реИрдВред  рд╕рдмрд╕реЗ рд▓реЛрдХрдкреНрд░рд┐рдп рд╣реИрдВ рдиреЗрдЧреНрдиреЗрдХреНрд╕, рд╣реИрдкреНрд░реЛрд╕реА, рдЯреНрд░реИрдлрд┐рдХ, рдЖрджрд┐ <i>(рдореМрдЬреВрджрд╛ рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, <a href="https://habr.com/ru/company/flant/blog/447180/">рд╣рдорд╛рд░реЗ</a> - рд▓рдЧрднрдЧ - рдЕрдиреБрд╡рд╛рдж рджреЗрдЦреЗрдВред) рдЖрдкрдХреЛ</i> рд╕рдВрдмрдВрдзрд┐рдд рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдЧрд╛рдЗрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЪреВрдВрдХрд┐ <a href="https://github.com/kubernetes/ingress-nginx">Ingress Nginx</a> рд╕рдмрд╕реЗ рд▓реЛрдХрдкреНрд░рд┐рдп Ingress рдирд┐рдпрдВрддреНрд░рдХ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдордиреЗ рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдореБрджреНрджреЛрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рдХреБрдЫ рд╕реБрдЭрд╛рд╡реЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рд╣реИред <br><br><h3>  рдбрд┐рдмрдЧрд┐рдВрдЧ рдПрдХ Ingin Nginx рдирд┐рдпрдВрддреНрд░рдХ </h3><br><br>  Ingress-nginx рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ <a href="https://kubernetes.github.io/ingress-nginx/kubectl-plugin/">kubectl рдХреЗ рд▓рд┐рдП</a> рдПрдХ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ <a href="https://kubernetes.github.io/ingress-nginx/kubectl-plugin/">рдкреНрд▓рдЧрдЗрди рд╣реИ</a> ред  <code>kubectl ingress-nginx</code> рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдЗрд╕рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><ul><li>  рд▓реЙрдЧ, рдмреИрдХрдПрдВрдб, рдкреНрд░рдорд╛рдг рдкрддреНрд░, рдЖрджрд┐ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг; </li><li>  рдХрд╛рдВрдЧреНрд░реЗрд╕ рд╕реЗ рд╕рдВрдмрдВрдз; </li><li>  рд╡рд░реНрддрдорд╛рди рд╡рд┐рдиреНрдпрд╛рд╕ рдХрд╛ рдЕрдзреНрдпрдпрдиред </li></ul><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддреАрди рдЯреАрдореЗрдВ рдЗрд╕рдореЗрдВ рдЖрдкрдХреА рдорджрдж рдХрд░реЗрдВрдЧреА: <br><br><ul><li>  <code>kubectl ingress-nginx lint</code> <code>nginx.conf</code> - рдЪреЗрдХ <code>nginx.conf</code> ; </li><li>  <code>kubectl ingress-nginx backend</code> - <code>kubectl ingress-nginx backend</code> рдЦреЛрдЬ рдХрд░рддрд╛ рд╣реИ ( <code>kubectl describe ingress &lt;ingress-name&gt;</code> рд╕рдорд╛рди рд╣реИ <code>kubectl describe ingress &lt;ingress-name&gt;</code> ); </li><li>  <code>kubectl ingress-nginx logs</code> - рдЪреЗрдХ рд▓реЙрдЧред </li></ul><br>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ <code>--namespace &lt;name&gt;</code> flag рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <code>--namespace &lt;name&gt;</code> рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рд▓рд┐рдП рд╕рд╣реА рдиреЗрдорд╕реНрдкреЗрд╕ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br><h2>  рд╕рд╛рд░рд╛рдВрд╢ </h2><br>  рдпрджрд┐ рдЖрдкрдХреЛ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдХрд╣рд╛рдВ рд╢реБрд░реВ рдХрд░рдирд╛ рд╣реИ, рддреЛ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдХрд╛ рдирд┐рджрд╛рди рдХрд░рдирд╛ рдПрдХ рдХрдард┐рди рдХрд╛рдо рд╣реИред  рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рдореЗрд╢рд╛ рдиреАрдЪреЗ рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рдВрдкрд░реНрдХ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: рдкреЙрдбреНрд╕ рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ, рдФрд░ рдлрд┐рд░ рд╕реЗрд╡рд╛ рдФрд░ рдЗрдирдЧреНрд░реЗрдб рдкрд░ рдЬрд╛рдПрдВред  рдЖрд▓реЗрдЦ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдбреАрдмрдЧрд┐рдВрдЧ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдЕрдиреНрдп рдСрдмреНрдЬреЗрдХреНрдЯ рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреИрд╕реЗ: <br><br><ul><li>  рдирд┐рд╖реНрдХреНрд░рд┐рдп рдиреМрдХрд░рд┐рдпрд╛рдВ рдФрд░ рдХреНрд░реЛрдирдЬреЙрдмреНрд╕; </li><li>  рд╕реНрдЯреЗрдЯрдлреБрд▓рд╕реЗрдЯреНрд╕ рдФрд░ рдбреЗрдордирд╕реЗрдЯреНрд╕ред </li></ul><br>  рдмрд╣реБрдореВрд▓реНрдп рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдФрд░ рдкрд░рд┐рд╡рд░реНрдзрди рдХреЗ рд▓рд┐рдП <a href="https://www.linkedin.com/in/charles-christyraj-0bab8a36/">рдЧреЗрд░реНрдЧрд▓реА</a> <a href="https://github.com/errge">рд░рд┐рд╕реНрдХреЛ</a> , <a href="https://medium.com/%40weibeld">рдбреИрдирд┐рдпрд▓</a> <a href="https://github.com/errge">рд╡реАрдмреЗрд▓</a> рдФрд░ <a href="https://www.linkedin.com/in/charles-christyraj-0bab8a36/">рдЪрд╛рд░реНрд▓реНрд╕ рдХреНрд░рд┐рд╕реНрдЯрд┐рдпрд░рд╛рдЬ рдХрд╛</a> рдзрдиреНрдпрд╡рд╛рджред <br><br><h2>  рдЕрдиреБрд╡рд╛рджрдХ рд╕реЗ рдкреА.рдПрд╕. </h2><br>  рд╣рдорд╛рд░реЗ рдмреНрд▓реЙрдЧ рдореЗрдВ рднреА рдкрдврд╝реЗрдВ: <br><br><ul><li>  " <a href="https://habr.com/ru/company/flant/blog/436112/">рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдкреЙрдбреНрд╕ рдореЗрдВ рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХреБрдмреЗрдЯреЗрд▓-рдбрд┐рдмрдЧ рдкреНрд▓рдЧрдЗрди</a> "; </li><li>  " <a href="https://habr.com/ru/company/flant/blog/443458/">рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ [рдФрд░ рдЙрдирдХреЗ рд╕рдорд╛рдзрд╛рди] рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдореЗрдВ 6 рдордиреЛрд░рдВрдЬрдХ рдкреНрд░рдгрд╛рд▓реА рдХреАрдбрд╝реЗ</a> "; </li><li>  " <a href="https://habr.com/ru/company/flant/blog/462707/">Kubernetes рдкрд░ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдг</a> "; </li><li>  " <a href="https://habr.com/ru/company/flant/blog/471892/">рд╣рдорд╛рд░реЗ рдПрд╕рдЖрд░рдИ-рд░реЛрдЬрдорд░реНрд░рд╛ рдХреА рдЬрд┐рдВрджрдЧреА рд╕реЗ 6 рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдХрд╣рд╛рдирд┐рдпрд╛рдВ</a> ред" </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi484954/">https://habr.com/ru/post/hi484954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi484936/index.html">рдЯреАрдо рдореЗрдВ рдЬреНрдЮрд╛рди рдФрд░ рджрдХреНрд╖рддрд╛: рдЦреЛрдЬ, рджреЗрдЦреЗрдВ, рдкрдВрдк рдХрд░реЗрдВ</a></li>
<li><a href="../hi484944/index.html">рдореИрдВ ACID рдореЗрдВ рдХреНрдпрд╛ рд╣реВрдВ рдпрд╛ рд╣рдореЗрдВ рд╢реЛрднрд╛ рдирд╣реАрдВ рджреЗрддрд╛</a></li>
<li><a href="../hi484946/index.html">рдЬреАрдкреАрдЖрд░ рдореЙрдбрд▓рд┐рдВрдЧ</a></li>
<li><a href="../hi484948/index.html">NEC рдиреЗ рдПрдХ рд╕рдмрдорд░реАрди рдХреЗрдмрд▓ рдХреЛ рдСрдкреНрдЯрд┐рдХрд▓ рдлрд╛рдЗрдмрд░ рдХреЗ рд░рд┐рдХреЙрд░реНрдб 20 рдЬреЛрдбрд╝реЗ рдХреЗ рд╕рд╛рде рдЬрд╛рд░реА рдХрд┐рдпрд╛</a></li>
<li><a href="../hi484952/index.html">рдСрдмреНрдЬрд╝рд░реНрд╡рдмрд▓реНрд╕ рдФрд░ рд░рд┐рдПрдХреНрдЯ рд╣реБрдХ рдХреЗ рд╕рд╛рде Redux рдХреА рдЬрдЧрд╣</a></li>
<li><a href="../hi484964/index.html">InfoWatch рдЯреНрд░реИрдлрд┐рдХ рдореЙрдирд┐рдЯрд░ рдкрд░ рд▓реЛрдб рд╕рдВрддреБрд▓рди рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛</a></li>
<li><a href="../hi484966/index.html">рд╕реНрдкреНрд░рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдЯреЗрдореНрдкрд▓реЗрдЯ</a></li>
<li><a href="../hi484968/index.html">WPF DataGridред рдЯреЗрдореНрдкрд▓реЗрдЯ рдХреЗ рд▓рд┐рдП рд▓рдбрд╝реЛ</a></li>
<li><a href="../hi484972/index.html">рд╢рд░рд╛рдм 5.0 рдЬрд╛рд░реА рдХрд┐рдпрд╛</a></li>
<li><a href="../hi484974/index.html">рдЯреНрдпреВрд░рд┐рдВрдЧ рдорд╢реАрди рд╕рд┐рдореБрд▓реЗрд╢рди рдХреЗ рд▓рд┐рдП рд╡рд╛рдВрдЧ рдЯрд╛рдЗрд▓реЗрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>