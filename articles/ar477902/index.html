<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฆ๐ฝ ๐ ๐ฝ DSL ุงูุนุงููู. ูู ูุฐุง ููููุ ๐ค๐ฟ ๐ฉ๐พโ๐พ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุบุฉ ุงูููุถูุน. ุบูุฑ ูุซููุฉ ูุน ุจููุงุช ูุบุฉ ููุฃุบุฑุงุถ ุงูุนุงูุฉ. ูู ุงูููุช ููุณู ุ ูุณูุญ ูู ุจุชูููุฐ ููุทู ูุนูุฏ ููุบุงูุฉ ูุน ุจุถุนุฉ ุฃุณุทุฑ. ูู ูุฐุง ูู DSL. 

 ููุน ุฐูู ุ ูุฅู ุฅูุดุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DSL ุงูุนุงููู. ูู ูุฐุง ููููุ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/477902/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gb/rq/r6/gbrqr6yefzzlp8sboskriuwrne0.png"></div><br>  ูุบุฉ ุงูููุถูุน.  ุบูุฑ ูุซููุฉ ูุน ุจููุงุช ูุบุฉ ููุฃุบุฑุงุถ ุงูุนุงูุฉ.  ูู ุงูููุช ููุณู ุ ูุณูุญ ูู ุจุชูููุฐ ููุทู ูุนูุฏ ููุบุงูุฉ ูุน ุจุถุนุฉ ุฃุณุทุฑ.  ูู ูุฐุง ูู DSL. <br><br>  ููุน ุฐูู ุ ูุฅู ุฅูุดุงุก DSL ูุชุทูุจ ุฃู ูููู ุงููุทูุฑ ูุคููุงู.  ูุชุญูู ุงูุงุณุชุฎุฏุงู ุงูููุชุธู ููุฐุง ุงูููุฌ ุฅูู ุฑูุชูู ูุชุทููุฑ ูุบุฉ ุฃุฎุฑู.  ูุฏ ูููู ุงูุญู ูู ุฅูุดุงุก ุฃุฏุงุฉ ุนุงูููุฉ - ูุญุฑู ุณูููู ูุงุจูุงู ููุชุทุจูู ุนูู ููุงู ูุฎุชููุฉ ุชูุงููุง ูุณููุฉ ุงูุชุนุฏูู.  ูู ูุฐู ุงูููุงูุฉ ุ ุณูุทูุฑ ูู C # ุฃุจุณุท ูู ูุฌูุฉ ูุธุฑ ุงูุชูููุฐ ุ ูููู ูู ููุณ ุงูููุช ูุญุฑู ูุบูู ููู ููุบุงูุฉ ุ ุญูุซ ููููู ุญู ูุฌููุนุฉ ูุงุณุนุฉ ูู ุงููุดุงูู ุฅูู ุญุฏ ูุง. <a name="habracut"></a><br><br><h3 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h3><br><blockquote style=";text-align:right;direction:rtl">  ููุงู ุทุฑููุชุงู ูุชุทููุฑ ูุดุฑูุน ุชุทุจููู: ูุฌุนู ุงูุฃูุฑ ุจูุฐู ุงูุจุณุงุทุฉ ุจุญูุซ ูููู ูู ุงููุงุถุญ ุฃูู ูุง ููุฌุฏ ุจู ุนููุจ ุฃู ุฌุนูู ูุนูุฏูุง ูุฏุฑุฌุฉ ุฃูู ูุง ููุฌุฏ ุจู ุนููุจ ูุงุถุญุฉ.  ุณู ุงุฑ ุฑูุฑ (ูุงุฑ ููุฑ) </blockquote>  ูู ูุฐู ุงูููุงูุฉ ุ ุฃูุฏ ุฃู ุฃุดุงุฑู ุฅุญุฏู ุชูููุงุช ุงูุชุทููุฑ ุงูุชู ุชุณุงุนุฏูู ููุฑููู ุ ูู ูุงุญูุฉ ุ ุนูู ุงูุชุนุงูู ูุน ุชุนููุฏ ุงููุดุงุฑูุน.  ููู ูุงุญูุฉ ุฃุฎุฑู - ูุณูุญ ูู ุจุชุทููุฑ ุชุทุจููุงุช ุงููููุฐุฌ ุงูุฃููู ุจุณุฑุนุฉ.  ูููููุฉ ุงูุฃููู ุ ูุจุฏู ุชุทููุฑ ูุบุฉ ุจุฑูุฌุฉ ูุนูุฏุฉ ููุบุงูุฉ.  ูุฐูู ุ ุฅุฐุง ููุง ูุชุญุฏุซ ุนู ุฃุฏุงุฉ ุนุงูููุฉ.  ุฅุฐุง ูุงู ุงููุฏู ูู ุชุบุทูุฉ ูุฌุงู ููุถูุนู ุถูู ุ ูุฅู ุชุทููุฑ ูุบุฉ ูุนููุฉ ุบุงูุจุงู ูุง ูุจุฑุฑ ููุณู. <br><br>  ุฐุงุช ูุฑุฉ ูุงุฌูุชูู ูููุฉ ุชุทููุฑ ุชุทุจูู ูุบุฉ ุตูุงุนูุฉ (IEC 61131-3) ููุชุถููู ูู ุจุฑูุงูุฌ ุงูุนููู.  ุฎูุงู ูุฐุง ุงูุนูู ุ ุฃุตุจุญุช ููุชูุฉ ุจููุถูุน ุจููุฉ ุงููุชุฑุฌู ุงูุดููู ูููุฐ ุฐูู ุงูุญูู ุ ูุชุจุช ูุชุฑุฌููู ููุฑููู ููุบุฉ ุงูุจุงุทููุฉ ูููุณ ูุบุงุช ุจุนูููุง ูููุงูุฉ.  ูู ุงููุณุชูุจู ุ ุฌุงุก ููู ูููููุฉ ุงุณุชุฎุฏุงู ุงููุชุฑุฌููู ุงูููุฑููู ุงูููุชุชุจูู ุฐุงุชููุง ูุชุจุณูุท ุงูุญูุงุฉ ุงูููููุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/yh/j3/wl/yhj3wlkgasabptstq5toj3vasxc.jpeg"></div><br>  ุงููุฏู ุงูุฑุฆูุณู ูู ูุบุงุช ุงูุจุฑูุฌุฉ ุนุงูู ูู ุชุจุณูุท ุนูููุฉ ุงูุจุฑูุฌุฉ ููุฑุงุกุฉ ุงูุจุฑูุงูุฌ.  ุงููุชุงุจุฉ ูู asm ุฃุณูู ูู ุฑููุฒ ุงูุขูุฉ ุ ุงููุชุงุจุฉ ูู C ุฃุณูู ูู ูู asm ุ ูู C # ุฃุจุณุท ูููุฐุง. <br><br>  ูุชู ุชุญููู ุฐูู ุจุดูู ุฑุฆูุณู ุจุณุจุจ ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุดููุนูุง ูู ุงูุงุฎุชุฒุงู - ุชูุณูู ูููุฉ ูุนูุฏุฉ ุฅูู ููููุงุช ุจุณูุทุฉ ูููู ุงูุชุนุฑู ุนูููุง - ุชูุญูุฏ ุชูุงุนููุง ูุจูุงุก ุฌููุฉ ูุนูู. <br><br>  ุชุชููู ูุบุฉ ุงูุจุฑูุฌุฉ ูู ูุฌููุนุฉ ูู ุงูุนูุงูู ุ ูุงูุชู ูู ูู ุฌููุฑูุง ุฃุณุงุณ ุงููุบุฉ ุ ููุจูุงุช ุงูุจูุงุก ุงูุฃูููุฉ ุ ูุจูุงุก ุงูุฌููุฉ ุงูุชู ุชุญุฏุฏ ุทุฑููุฉ ูุชุงุจุฉ ูุฌููุนุงุช ูู ุงูุนูุงูู ุ ููุฐูู ุงูููุชุจุฉ ุงูููุงุณูุฉ.  ูุชู ุชุฌููุน ุชุณูุณู ุงูุฅุฌุฑุงุกุงุช ุงูุฃูููุฉ ููููุง ููููุงุนุฏ ุงููุญููุฉ ูู ูุธุงุฆู ุ ููุชู ุชุฌููุน ุงููุธุงุฆู ูู ูุฆุงุช (ุฅุฐุง ูุงู ููุงู OOP) ุ ููุชู ุฏูุฌ ุงููุฆุงุช ูู ููุชุจุงุช ุ ูุชูู ุจุฏูุฑูุง ูู ุญุฒู.  ูุฐุง ูู ูุง ุชุจุฏู ุนููู ุงููุบุฉ ุงูุณุงุฆุฏุฉ ุงูุชูููุฏูุฉ.  ูู ุญูุซ ุงููุจุฏุฃ ุ ูุฐู ุงูุชูููุงุช ูุงููุฉ ูุญู ูุนุธู ุงูููุงู ุงูููููุฉ.  ููุน ุฐูู ุ ููุณ ูุฐุง ูู ุงูุญุฏ ุงูุฃูุตู ุ ูุฃูู ููููู ุงุชุฎุงุฐ ุฎุทูุฉ ุฅูู ุงูุฃูุงู - ุฅูู ูุณุชูู ุฃุนูู ูู ุงูุชุฌุฑูุฏ ุ ูุณูู ุชุถุทุฑ ุฅูู ุชุฌุงูุฒ ุญุฏูุฏ ุงููุบุฉ ุงููุณุชุฎุฏูุฉ ุฅุฐุง ูุงูุช ูุง ุชุฏุนู metaprogramming ูู ุดูู ูุญุฏุงุช ูุงูุฑู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/sk/r4/ky/skr4kym02scw_o_neotnxrtmamy.jpeg"></div><br>  ูู ุงูููุช ุงูุญุงุถุฑ ุ ูุฅู ูุนุธู ุงููุดุงุฑูุน ุชุชูุฎุต ูู ูุฒูุฌ ูู ุงูููููุงุช ุงูุฌุงูุฒุฉ ูุฌุฒุก ุถุฆูู ูู ุงููุณุชูู ุงูููุชูุจ ุฐุงุชููุง.  ุนุงุฏุฉ ูุง ูุชู ุงูุฌูุน ุจูู ุงูููููุงุช ุนู ุทุฑูู ูุบุฉ ุจุฑูุฌุฉ ุนุงูููุฉ - C # ู Java ู Python ูุบูุฑูุง.  ุนูู ุงูุฑุบู ูู ุฃู ูุฐู ุงููุบุงุช ุนุงููุฉ ุงููุณุชูู ุ ููู ุฃูุถูุง ุนุงูููุฉ ุ ูุจุงูุชุงูู ุชุญุชูู ุจุงูุถุฑูุฑุฉ ุนูู ุฅูุดุงุกุงุช ูุญููุฉ ููุนูููุงุช ููุฎูุถุฉ ุงููุณุชูู ุ ูุฅูุดุงุก ูุธุงุฆู ุ ููุฆุงุช ุ ููุตู ุงูุฃููุงุน ุงููุนููุฉ ุ ูุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุ ูุบูุฑ ุฐูู ุงููุซูุฑ.  ูุจุณุจุจ ูุฐุง ุ ูุฅู ุงููููุฉ "ุงูุนููุง ูุฑุฉ ูุงุญุฏุฉ ุ ุงูุนู ุงุซููู ุ ุฃูุนู ุซูุงุซุฉ" ุชูุจุฑ ูุน ูุชูุฉ ูู ุงูุชุฑููุจุงุช ุงููุญููุฉ ููููู ุฃู ุชุตู ุฅูู ูุฆุงุช ุฃุณุทุฑ ุงูููุฏ ูุฃูุซุฑ. <br><br>  ููููู ุชุจุณูุท ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูููููุงุช ุฅุฐุง ูุฑุฑุช ุชูููุฉ ุงูุงุฎุชุฒุงู ุ ูููู ุจุงููุนู ุนูู ูุฐู ุงูููููุงุช ุฐุงุชูุง.  ูุชู ุชุญููู ุฐูู ูู ุฎูุงู ุชุทููุฑ ูุบุฉ ูุชุฎุตุตุฉ ููุง ุจูุงุก ุฌููุฉ ูุจุณูุท ูุชุฎุฏู ููุท ููุตู ุชูุงุนู ูุฐู ุงูููููุงุช.  ูุณูู ูุฐุง ุงูููุฌ YaOP (ุงูุจุฑูุฌุฉ ุงูููุฌูุฉ ููุบุงุช) ุ ูุชุณูู ุงููุบุงุช DSL (ูุบุฉ ุฎุงุตุฉ ุจุงููุฌุงู - ูุบุฉ ุฎุงุตุฉ ุจุงููุฌุงู). <br><br>  ูุธุฑูุง ูุนุฏู ูุฌูุฏ ุฅูุดุงุกุงุช ุฒุงุฆุฏุฉ ุนู ุงูุญุงุฌุฉ ุ ูููู ููุท ูุนุฏุฏ ูููู ูู ุงูุฃุณุทุฑ ุงูููุฌูุฏุฉ ุนูู ุฎุท ุงููุดุชุฑู ุงูุฑููู (DSL) ุชูููุฐ ูุธุงุฆู ูุนูุฏุฉ ููุบุงูุฉ ุ ุงูุฃูุฑ ุงูุฐู ูุคุฏู ุฅูู ุนูุงูุจ ุฅูุฌุงุจูุฉ: ุฒูุงุฏุฉ ุณุฑุนุฉ ุงูุชุทููุฑ ูุชูุงูุต ุนุฏุฏ ุงูุฃุฎุทุงุก ูุชุจุณูุท ุงุฎุชุจุงุฑ ุงููุธุงู. <br><br>  ุฅุฐุง ุชู ุชุทุจููู ุจูุฌุงุญ ุ ูููู ููุฐุง ุงูููุฌ ุฃู ูุฒูุฏ ุจุดูู ูุจูุฑ ูู ูุฑููุฉ ุงูููุชุฌ ุงูุฌุงุฑู ุชุทููุฑู ูุธุฑูุง ูุฅููุงููุฉ ูุชุงุจุฉ ูุตูุต ูุถุบูุทุฉ ุชุญุฏุฏ ูุชูุณูุน ุณููู ุงููุธุงู.  ูููู ุฃู ูููู ููุงู ุงูุนุฏูุฏ ูู ุงูุชุทุจููุงุช ููุฐุง ุงูููุฌ ุ ููุง ูุชุถุญ ูู ุงูุชุดุงุฑ ูุฐุง ุงูููุฌ ุ ูุฃู DSL ููุฌูุฏ ูู ูู ููุงู.  HTML ุงูุดุงุฆุนุฉ ูู ูุบุฉ ูุตู ูููุณุชูุฏ ุ SQL ูู ูุบุฉ ุงุณุชุนูุงู ููุธูุฉ ุ JSON ูู ูุบุฉ ูุตู ุจูุงูุงุช ููุธูุฉ ุ XAML ุ ุจูุณุชุณูุฑูุจุช ุ Emacs Lisp ุ nnCron ูุบูุฑูุง ุงููุซูุฑ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/fw/zo/ew/fwzoewmnmucf6kyeycclx_uibxa.jpeg"></div><br>  ูุน ูู ุงููุฒุงูุง ุ ูุฏู DSL ุนูุจูุง ูุจูุฑูุง - ูุชุทูุจุงุช ุนุงููุฉ ููุทูุฑ ุงููุธุงู. <br><br>  ููุณ ูู ูุทูุฑ ูุฏูู ุงููุนุฑูุฉ ูุงูุฎุจุฑุฉ ูู ุชุทููุฑ ุญุชู ูุบุฉ ุจุฏุงุฆูุฉ.  ูููู ูุนุฏุฏ ุฃูู ูู ุงููุชุฎุตุตูู ุชุทููุฑ ูุบุฉ ูุฑูุฉ ูููุชุฌุฉ ุจูุง ููู ุงูููุงูุฉ.  ููุงู ูุดุงูู ุฃุฎุฑู.  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ููุทุฉ ูุนููุฉ ูู ุชุทููุฑ ุงููุธููุฉ ุงููุญุฏุฏุฉ ุฃุตูุงู ุ ูุฏ ูุง ูููู ุฐูู ูุงููุงู ูุณูููู ูู ุงูุถุฑูุฑู ุฅูุดุงุก ูุธุงุฆู ุฃู OOP.  ูุญูุซูุง ุชูุฌุฏ ูุธุงุฆู ุ ูุฏ ุชููู ููุงู ุญุงุฌุฉ ุฅูู ุชุญุณูู ุฐูู ุงูุนูุฏูุฉ ููุงุณุชุบูุงุก ุนู ุงูุญููุงุช ุ ููุง ุฅูู ุฐูู.  ูู ุงูููุช ููุณู ุ ูุฌุจ ูุฑุงุนุงุฉ ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ุญุชู ุชุณุชูุฑ ุงููุตูุต ุงูููุชูุจุฉ ูุณุจููุง ูู ุงูุนูู ูุน ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ. <br><br>  ูุดููุฉ ุฃุฎุฑู ูู ุฃู ุงููุบุฉ ุงููุตููุฉ ูุญู ูุดููุฉ ูุงุญุฏุฉ ุบูุฑ ููุงุณุจุฉ ุชูุงููุง ููุขุฎุฑูู.  ูุฐูู ุ ูุฌุจ ุนููู ุชุทููุฑ DSL ุฌุฏูุฏ ูู ุงูุจุฏุงูุฉ ุ ุจุญูุซ ูุตุจุญ ุชุทููุฑ ูุบุงุช ุฌุฏูุฏุฉ ุฃูุฑูุง ูุนุชุงุฏูุง.  ูุคุฏู ูุฐุง ูุฑุฉ ุฃุฎุฑู ุฅูู ุชุนููุฏ ุนูููุฉ ุงูุตูุงูุฉ ูุชูููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ูุตุนุจ ูุดุงุฑูุชูุง ุจูู ุชุทุจููุงุช DSL ุงููุฎุชููุฉ ูุงููุดุงุฑูุน ุงูุชู ุชุณุชุฎุฏููุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/rz/0z/cs/rz0zcsehkdtthonxqqhrci4yezu.jpeg"></div><br>  ุงููุฎุฑุฌ ูู ุฅูุดุงุก DSL ูุฅูุดุงุก DSL.  ุฃูุง ููุง ูุง ุฃูุตุฏ RBNF ุ ุจู ุงููุบุฉ ุงูุชู ูููู ุชุบููุฑูุง ุนู ุทุฑูู ูุณุงุฆู ูุฏูุฌุฉ ุฅูู ูุบุฉ ููุถูุน ุงูููุถูุน.  ุงูุนุงุฆู ุงูุฑุฆูุณู ูู ุฅูุดุงุก ูุบุฉ ูุฑูุฉ ููุงุจูุฉ ููุชุญููู ูู ูุฌูุฏ ุจูุงุก ุฌููุฉ ููุธุงู ุงููุชุงุจุฉ ูุญุฏุฏุฉ ุจุฏูุฉ.  ุนูู ูุฏุงุฑ ูุชุฑุฉ ุงูุชุทููุฑ ุงููุงููุฉ ูุตูุงุนุฉ ุงูููุจููุชุฑ ุ ุชู ุงูุชุฑุงุญ ุงูุนุฏูุฏ ูู ุงููุบุงุช ุงููุฑูุฉ ุจุฏูู ุจูุงุก ุงูุฌููุฉ ุ ููููุง ุธูุช ุจุงููุฉ ุญุชู ููููุง ูุฐุง ููุง ุฒุงูุช ูุบุชุง Forth ู Lisp ุชุชุทูุฑุงู ุจูุดุงุท.  ุงูุณูุฉ ุงูุฑุฆูุณูุฉ ููุฐู ุงููุบุงุช ูู ุฃูู ุ ุจุณุจุจ ุจููุชูุง ููุจุฏุนูุง ุงููุชูุงุซู ุ ูููู ุ ุจุณุจุจ ุงูุฃุฏูุงุช ุงููุฏูุฌุฉ ุ ุชุบููุฑ ุณููู ุงููุชุฑุฌู ุงูุดููู ุ ูุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ุชุญููู ุงูุฅูุดุงุกุงุช ุงููุญููุฉ ุงูุชู ูู ูุชู ูุถุนูุง ูู ุงูุฃุตู. <br><br>  ููุงู ุญููู ูู Forth ูุชูุณูุน ุจูุงุก ุงูุฌููุฉ ุงูุฎุงุต ุจู ุฅูู C ุฃู ุฅูู ุงููุฎุทุท.  ุบุงูุจูุง ูุง ูุชู ุงูุชูุงุฏ "ุงูุญุตู" ุจุณุจุจ ุงูุชุณูุณู ุบูุฑ ุงูุนุงุฏู ููุจูุณุชููุฌ ูููุณุงุฆุท ูุงูุนูููุงุช ุ ูุงูุฐู ุชูููู ุงุณุชุฎุฏุงู ุงูููุฏุณ ูุชูุฑูุฑ ุงููุณุงุฆุท.  ููุน ุฐูู ุ ูุฅู "Fort" ูุฏูู ุญู ุงููุตูู ุฅูู ูุชุฑุฌู ูุต ุ ููุฐุง ูุณูุญ ูู ุจุฅุฎูุงุก ุงูุณุฌู ุงูุนูุณู ูู ุงููุณุชุฎุฏู ุฅุฐุง ูุฒู ุงูุฃูุฑ.  ูุฃุฎูุฑุง ุ ูุฐู ูุณุฃูุฉ ุนุงุฏุฉ ุ ููุชู ุชุทููุฑูุง ุจุณุฑุนุฉ ูุจูุฑุฉ. <br><br>  ุชุนุชูุฏ ุนุงุฆูุฉ ูุบุงุช Lisp ุนูู ูุญุฏุงุช ูุงูุฑู ุชุณูุญ ูู ุจุฅุฏุฎุงู DSL ุฅุฐุง ูุฒู ุงูุฃูุฑ.  ููุณุงูู ุงููุตูู ุฅูู ุงููุชุฑุฌู ูุงููุงุฑุฆ ูู ุชูููุฐ ุงููุชุฑุฌููู ุงูุดููููู ุจููุฒุงุช ุงูุชูุณูุฑ ุงููุญุฏุฏุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุชู ูุถุน ุชุทุจูู Scheme lisp Racket ูุจูุฆุฉ ูุชุทููุฑ ุงููุบุงุช ููุฏูู ูุบุงุช ุบูุฑ ูุฎุตุตุฉ ูุฅูุดุงุก ุฎูุงุฏู ุงูููุจ ูุฅูุดุงุก ูุงุฌูุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ ููุบุฉ ุงูุงุณุชุฏูุงู ูุบูุฑูุง. <br><br>  ูุฐู ุงููุฑููุฉ ุชุฌุนู ูุฐู ุงููุบุงุช ูุฑุดุญุฉ ุฌูุฏุฉ ูุฏูุฑ ูุญุฑู DSL ุงูุนุงููู. <br><br>  ูุชุทูุฑ ูู ูู "Fort" ู Lisp ุจุดูู ุฃุณุงุณู ููุบุงุช ููุฃุบุฑุงุถ ุงูุนุงูุฉ ุ ูุฅู ูุงูุช ูุบููุฉ ุฎุงุตุฉ ุ ููุชูุฌุฉ ูุฐูู - ููู ุชุนุชูุฏ ุนูู ูุธุงุฆู ูููู ุฃู ุชููู ุฒุงุฆุฏุฉ ุนู ุงูุญุงุฌุฉ ุฅูู ูุบุฉ DSL.  ูููู ูู ุงูููุช ููุณู ุ ููู ุจุณูุทุฉ ุจูุง ูููู ููุชูููุฐ ุ ููุง ูุนูู ุฃูู ููููู ุชุทููุฑ ุฅุตุฏุงุฑ ูุญุฏูุฏ ูุน ุฅููุงููุฉ ุชูุณูุนู.  ุณูุชูุญ ูู ุฐูู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุฌููุฑ ูุฐู ุงููุบุฉ ูุน ุชุนุฏููุงุช ุตุบูุฑุฉ (ูู ุงููุงุญูุฉ ุงููุซุงููุฉ - ุจุฏูู) ููููุฉ ูุญุฏุฏุฉ. <br><br>  ุฃุฑูุฏ ุฃูุถูุง ุฃู ุฃุดูุฑ ุฅูู ุฃู ูุฐู ุงููุบุงุช ุฑุงุฆุนุฉ ููุณ ููุท ููุชุงุจุฉ ุงููุตูุต ุ ูููู ุฃูุถูุง ููุชูุงุนู ุงูุชูุงุนูู ูุน ุงููุธุงู ุนุจุฑ REPL.  ุงูุชู ุ ูู ูุงุญูุฉ ุ ูููู ุฃู ุชููู ููุงุณุจุฉ ููุชุตุญูุญ ุ ููู ูุงุญูุฉ ุฃุฎุฑู ุ ุชุนูู ููุงุฌูุฉ ูููู ุงููุตูู ุฅูููุง ูู ูุจู ุงููุณุชุฎุฏู ูุน ุงููุธุงู.  ูู ุงููุนุชูุฏ ุฃู ูุงุฌูุฉ ุงููุต ูุน ุงููุธุงู ูู ุจุนุถ ุงูุญุงูุงุช ูููู ุฃู ุชููู ุฃูุซุฑ ูุนุงููุฉ ูู ุงููุงุฌูุฉ ุงูุฑุณูููุฉ ุ ุญูุซ ุฃูู ูู ุงูุฃุณูู ุจูุซูุฑ ุชูููุฐูุง ูุฃูุซุฑ ูุฑููุฉ ุ ูุชูุญ ูููุณุชุฎุฏู ุชุนููู ุงูุนูููุงุช ุงููููุฐุฌูุฉ ูู ูุธุงุฆู ุ ูููู ุฌุฑุง.  ูุซุงู ุตุงุฑุฎ ุนูู ูุงุฌูุฉ ุงููุต ูุฏ ูููู Bash.  ูุฅุฐุง ูุงูุช ุงููุบุฉ ูุชุฌุงูุณุฉ ุ ููููู ุฃู ูููู ุจูุงุกูุง ุณููุงู ูุณุจููุง ูุชุญูููู ูุจุฃุฏูู ุฌูุฏ ูููู ุ ูุชู ุชูููุฐ ูุบุฉ ุฑุณูููุฉ ุฃุนูู ุงููุชุฑุฌู ุงูุดููู - ูุฏ ูููู ุฐูู ูููุฏูุง ุนูุฏูุง ูููู ุงููุณุชุฎุฏู ุงููุณุชูุฏู ุจุนูุฏูุง ุนู ุงูุจุฑูุฌุฉ. <br><br>  ูู ุงูููุช ุงูุญุงุถุฑ ุ ุชุณุชุฎุฏู ูุบุงุช ูุตู ุจูุงูุงุช XML ู JSON ุนูู ูุทุงู ูุงุณุน ูู DSL ููุชููุฆุฉ.  ุจุงูุทุจุน ุ ูุฐู ููุงุฑุณุฉ ุฑุงุฆุนุฉ ุ ููู ูู ุจุนุถ ุงูุญุงูุงุช ูุง ุชููู ุงูุจูุงูุงุช ูุญุฏูุง ูุงููุฉ ูุชุญุชุงุฌ ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุตู ุงูุนูููุงุช ุนูููุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hq/_5/xm/hq_5xmmftlr1yj6xnsmn5-qzoo8.jpeg"></div><br>  ูู ูุฐุง ุงูููุดูุฑ ุ ุฃูุชุฑุญ ุฅูุดุงุก ูุชุฑุฌู ุจุณูุท ููุบุฉ Fort ูุฅุธูุงุฑ ููููุฉ ุชูููููุง ูุญู ูุดุงูู ูุญุฏุฏุฉ. <br><br>  ุชู ุงุฎุชูุงุฑ ูุบุฉ Fort ุจุงุนุชุจุงุฑูุง ุงูุฃุณูู ูู ุงูุชูููุฐ ูุงูุงุณุชุฎุฏุงู ุ ูู ุญูู ุฃููุง ูููุฉ ุจูุง ูููู ูุงุณุชุฎุฏุงููุง ูุฑูู DSL ูุนุฏุฏ ูู ุงูููุงู.  ูู ุงููุงูุน ุ ูุฅู ุฌููุฑ ุงููุบุฉ ูู ูุชุฑุฌู ุงูุนููุงู ุ ูุงูุฐู ุญุชู ูู ุงููุฌููุน ูุง ูุฃุฎุฐ ุณูู ุจุถุนุฉ ุฃุณุทุฑ ุ ูููุน ุงูุฌุฒุก ุงูุฃูุจุฑ ูู ุงูุชูููุฐ ุนูู ุงูุนูุงุตุฑ ุงูุจุฏุงุฆูุฉ ุ ูุงูุชู ูู ุฃูุซุฑ ุ ูููุง ูุงู ุงูุชูููุฐ ุฃูุซุฑ ุนุงูููุฉ ูุณุฑูุนุฉ ููุฑูุฉ.  ุฌุฒุก ููู ุขุฎุฑ ูู ุงููุบุฉ ูู ูุชุฑุฌู ุงููุต ุ ูุงูุฐู ูุณูุญ ูู ุจุงูุชูุงุนู ูุน ูุชุฑุฌู ุงูุนููุงู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/uh/93/4s/uh934sq0-dwfzsmyjn2h5n0auvy.jpeg"></div><br><h3 style=";text-align:right;direction:rtl">  ุนููุงู ุงููุชุฑุฌู </h3><br>  ุงูุนูุตุฑ ุงูุฃุณุงุณู ููุบุฉ Fort ูู ูููุฉ ููุตููุฉ ุนู ุงููููุงุช ูุงูุฐุฑุงุช ุงูุฃุฎุฑู (ุงูุฃุฑูุงู) ุจูุณุงูุงุช ุ ูููุงูุงุช ุงูุฃุณุทุฑ ูุนูุงูุงุช ุงูุชุจููุจ. <br><br>  ูููุฉ ููุง ููุณ ุงููุนูู ูุงูุฎุตุงุฆุต ูุฏุงูุฉ ูู ูุบุงุช ุฃุฎุฑู ุ ุนูู ุณุจูู ุงููุซุงู C. ุงููููุงุช ุงูุณูููุฉ ูู ุงูุชูููุฐ ุ ูุงูุชู ูุชู ุชูููุฐูุง ุจููุณ ุงููุณุงุฆู ูุซู ุงููุชุฑุฌู ุงูุดููู ุ ุชุดุจู ุงูุนูุงูู ูู ุงููุบุงุช ุงูุฃุฎุฑู.  ูู ุงููุงูุน ุ ูุฅู ุงูุจุฑูุงูุฌ ุจุฃู ูุบุฉ ุจุฑูุฌุฉ ููุณ ุฃูุซุฑ ูู ูุฒูุฌ ูู ูุดุบูู ุงููุบุฉ ูุงูุจูุงูุงุช.  ูุฐูู ุ ูููู ุงุนุชุจุงุฑ ุฅูุดุงุก ูุบุฉ ุจุฑูุฌุฉ ุจูุซุงุจุฉ ุชุนุฑูู ูููุดุบููู ูููููุฉ ุฏูุฌูุง.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ูุบุงุช ูุซู C ุชุญุฏุฏ ุทุฑููุฉ ูุฎุชููุฉ ููุชุงุจุฉ ุนูุงูู ุงูุชุดุบูู ุ ูุงูุชู ุชุญุฏุฏ ุจูุงุก ุฌููุฉ ุงููุบุฉ.  ูู ูุนุธู ุงููุบุงุช ุ ุนุงุฏุฉ ูุง ูููู ุชุนุฏูู ุงูุนุจุงุฑุงุช ุบูุฑ ูููู - ุนูู ุณุจูู ุงููุซุงู ุ ูุง ููููู ุชุบููุฑ ุจูุงุก ุงูุฌููุฉ ุฃู ุณููู ุนุจุงุฑุฉ if. <br><br>  ูู ูุบุฉ Fort ุ ุฌููุน ุงููุดุบููู ููุฌููุนุงุชูู (ูููุงุช ุงููุณุชุฎุฏู) ูุฏููู ููุณ ุทุฑููุฉ ุงููุชุงุจุฉ.  ุชููุณู ูููุงุช ุงูุญุตู ุฅูู ุจุฏุงุฆูุฉ ูุนุฑููุฉ.  ููููู ุชุญุฏูุฏ ูููุฉ ูู ุดุฃููุง ุฃู ุชูุฑุท ูู ุงูุจุฏุงุฆูุฉ ุ ูุจุงูุชุงูู ุชุบููุฑ ุณููู ุงูุจุฏุงุฆููู.  ุนูู ุงูุฑุบู ูู ุฃูู ูู ุงููุงูุน ุณูุชู ุชูููุฐ ุงููููุฉ ุงููุนุงุฏ ุชุนุฑูููุง ูู ุฎูุงู ุงูุฃูููุงุช ุงููุญุฏุฏุฉ ูู ุงูุจุฏุงูุฉ.  ูู ุชูููุฐูุง ุ ุณุชููู ุงููุธููุฉ ูู C # ูู ุงูุจุฏุงุฆูุฉ.  ุชุชููู ุงููููุฉ ุงููุนุฑูุฉ ูู ูุจู ุงููุณุชุฎุฏู ูู ูุงุฆูุฉ ุนูุงููู ุงููููุงุช ุงูุชู ุณูุชู ุชูููุฐูุง.  ูุธุฑูุง ููุฌูุฏ ููุนูู ูู ุงููููุงุช ุ ูุฌุจ ุนูู ุงููุชุฑุฌู ุงูุชูููุฒ ุจููููุง.  ูุชู ุชูููุฐ ุงููุตู ุจูู ุงูุจุฏุงุฆูุฉ ููููุงุช ุงููุณุชุฎุฏู ูู ุฎูุงู ููุณ ุงูุจุฏุงุฆูุฉ ุ ูู ูููุฉ ูุณุชุฎุฏู ุชุจุฏุฃ ุจุนูููุฉ DoList ูุชูุชูู ุจุนูููุฉ ุฎุฑูุฌ. <br><br>  ูู ุงููููู ูุตู ููููุฉ ุญุฏูุซ ูุซู ูุฐุง ุงููุตู ููุชุฑุฉ ุทูููุฉ ุ ูููู ูู ุงูุฃุณูู ููู ุฐูู ูู ุฎูุงู ุฏุฑุงุณุฉ ุชุฑุชูุจ ุชูููุฐ ุจุฑูุงูุฌ ุงููุชุฑุฌู ุงูููุฑู.  ููููุงู ุจุฐูู ุ ูููู ุจุชูููุฐ ูุชุฑุฌู ุดููู ุจุณูุท ุ ููุญุฏุฏ ุจุฑูุงูุฌูุง ุจุณูุทูุง ููุฑู ููู ุณูุชู ุชูููุฐู ุฎุทูุฉ ุจุฎุทูุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/4l/uq/jw/4luqjwgysqj6iuchqkxdihjof8c.jpeg"></div><br>  ุขูุฉ ุงูุญุตู ุงูุฎุงุตุฉ ุจูุง ุชุชููู ูู ุฐุงูุฑุฉ ุฎุทูุฉ ุ ูููุฉ ุจูุงูุงุช ุ ูููุฉ ุนูุฏุฉ ุ ูุคุดุฑ ุชุนูููุงุช ุ ูุคุดุฑ ูููุฉ.  ุณูููู ูุฏููุง ุฃูุถุง ููุงู ูููุตู ูุชุฎุฒูู ุงูุจุฏุงุฆูุฉ. <br><br><pre style=";text-align:right;direction:rtl"><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] Mem; <span class="hljs-comment"><span class="hljs-comment">//   public Stack&lt;int&gt; RS; //   public Stack&lt;object&gt; DS; //   public int IP; //   public int WP; //   public delegate void CoreCall(); public List&lt;CoreCall&gt; Core; //  </span></span></code> </pre> <br>  ุฌููุฑ ุงูุชูุณูุฑ ูู ุงูุงูุชูุงู ุฅูู ุงูุนููุงู ูู ุงูุฐุงูุฑุฉ ูุชูููุฐ ุงูุชุนูููุงุช ุงููุดุงุฑ ุฅูููุง ููุงู.  ุณูุชู ุชุนุฑูู ูุชุฑุฌู ุงูุนููุงู ุจุงููุงูู - ููุจ ุงููุบุฉ - ูู ุญุงูุชูุง ูู ูุธููุฉ ูุงุญุฏุฉ ุงูุชุงูู (). <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Next</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (IP == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; WP = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)Mem[IP++]; Core[(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)Mem[WP]](); } }</code> </pre><br>  ุชุจุฏุฃ ูู ูููุฉ ูุณุชุฎุฏู ุจุฃูุฑ DoList ุ ุชุชูุซู ูููุชู ูู ุญูุธ ุนููุงู ุงูุชูุณูุฑ ุงูุญุงูู ุนูู ุงูููุฏุณ ูุชุนููู ุนููุงู ุงูุชูุณูุฑ ูููููุฉ ุงูุชุงููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoList</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { RS.Push(IP); IP = WP + <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre><br>  ููุฎุฑูุฌ ูู ุงููููุฉ ุ ุงุณุชุฎุฏู ุงูุฃูุฑ "ุฅููุงุก" ุ ุงูุฐู ูุณุชุนูุฏ ุงูุนููุงู ูู ููุฏุณ ุงูุฅุฑุฌุงุน. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Exit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { IP = RS.Pop(); }</code> </pre><br>  ููุญุตูู ุนูู ุนุฑุถ ูุฑุฆู ููุจุฏุฃ ุงููุชุฑุฌู ุงูุดููู ุ ููุฏู ูู ุฃูุฑูุง ุ ุณูุญุงูู ุงูุนูู ุงููููุฏ.  ุฏุนูุง ูุณูููุง ูุฑุญุจุง (). <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Hello"</span></span>); }</code> </pre><br>  ุชุญุชุงุฌ ุฃููุงู ุฅูู ุชููุฆุฉ ุงูุฌูุงุฒ ูุชุญุฏูุฏ ุงูุจุฏุงุฆู ููู ูุนูู ุงููุชุฑุฌู ุจุดูู ุตุญูุญ.  ูุฌุจ ุนููู ุฃูุถุง ุชุญุฏูุฏ ุนูุงููู ุงูุจุฏุงุฆูุฉ ูู ุฐุงูุฑุฉ ุงูุจุฑูุงูุฌ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">Mem = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object[<span class="hljs-number"><span class="hljs-number">1024</span></span>]; RS = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Stack&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(); DS = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Stack&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt;(); Core = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;CoreCall&gt;(); Core.Add(Next); Core.Add(DoList); Core.Add(Exit); Core.Add(Hello); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> opNext = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> opDoList = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> opExit = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> opHello = <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-comment"><span class="hljs-comment">// core pointers Mem[opNext] = opNext; Mem[opDoList] = opDoList; Mem[opExit] = opExit; Mem[opHello] = opHello;</span></span></code> </pre><br>  ุงูุขู ูููููุง ุฅุนุฏุงุฏ ุจุฑูุงูุฌ ุจุณูุท ุ ูู ุญุงูุชูุง ุ ุณูุจุฏุฃ ุฑูุฒ ุงููุณุชุฎุฏู ูู ุงูุนููุงู 4 ููุชููู ูู ุจุฑูุงูุฌูู ูุฑุนููู.  ูุจุฏุฃ ุงูุฑูุชูู ุงูุฃูู ูู ุงูุนููุงู 7 ููุณุชุฏุนู ุงูุซุงูู ุ ูุงูุฐู ูุจุฏุฃ ูู ุงูุนููุงู 4 ููุนุฑุถ ูููุฉ ูุฑุญุจูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// program Mem[4] = opDoList; // 3)    IP = 9   ,   IP = WP + 1 = 5 Mem[5] = opHello; // 4)     Mem[6] = opExit; // 5)   ,  IP = 9    Mem[7] = opDoList; // 1)     Mem[8] = 4; // 2)     4,  WP = 4 Mem[9] = opExit; // 6)   ,  IP = 0   </span></span></code> </pre><br>  ูุชูููุฐ ุงูุจุฑูุงูุฌ ุ ูุฌุจ ุนููู ุฃููุงู ุญูุธ ุงููููุฉ 0 ูู ููุฏุณ ุงูุฅุฑุฌุงุน ุ ุญูุซ ูููู ูุชุฑุฌู ุงูุนููุงู ุจููุงุทุนุฉ ุฏูุฑุฉ ุงูุชูุณูุฑ ุ ูุชุนููู ููุทุฉ ุงูุฅุฏุฎุงู ุ ุซู ุจุฏุก ุชุดุบูู ุงููุชุฑุฌู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> entryPoint = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    IP = 0; //  IP = 0,        WP = entryPoint; //  WP = 7      DoList(); //     ,  IP = 0    Next(); //   </span></span></code> </pre><br>  ููุง ูู ููุถุญ ุ ุณูุชู ุชุฎุฒูู ุจุฏุงุฆู ุงููุชุฑุฌู ุงูุดููู ูู ุฐุงูุฑุฉ ูููุตูุฉ.  ุจุงูุทุจุน ุ ูุงู ูููู ุชูููุฐู ุจุดูู ูุฎุชูู: ุนูู ุณุจูู ุงููุซุงู ุ ูู ุฐุงูุฑุฉ ุงูุจุฑูุงูุฌ ุ ุชู ุชุฎุฒูู ููุฏูุจ ุฅูู ูุธููุฉ ุงููุดุบู.  ููู ูุงุญูุฉ ุ ูู ููู ูุซู ูุฐุง ุงููุชุฑุฌู ุงูุดููู ุฃุณูู ุ ูููู ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูุงู ุณูููู ุฃุจุทุฃ ุจุดูู ูุงุถุญ ุ ูุฃู ูู ุฎุทูุฉ ูู ุงูุชูุณูุฑ ุณุชุชุทูุจ ูุญุต ุงูููุน ุ ูุงูุตุจ ุ ูุงูุชูููุฐ ุ ูุงูุญุตูู ุนูู ูุฒูุฏ ูู ุงูุนูููุงุช. <br><br>  ุชุจุฏุฃ ูู ูููุฉ ูุณุชุฎุฏู ููุชุฑุฌููุง ุจุฏุงุฆูุฉ DoList ุ ูุชุชูุซู ูููุชูุง ูู ุญูุธ ุงูุนููุงู ุงูุญุงูู ููุชูุณูุฑ ูุงูุงูุชูุงู ุฅูู ุงูุนููุงู ุงูุชุงูู.  ูุชู ุชูููุฐ ุงูุฎุฑูุฌ ูู ุงูุฑูุชูู ุงููุฑุนู ุจูุงุณุทุฉ ุนูููุฉ ุงูุฎุฑูุฌ ุ ุงูุชู ุชุณุชุนูุฏ ุงูุนููุงู ูู ุฑุตุฉ ุงูุนูุฏุฉ ููุฒูุฏ ูู ุงูุชูุณูุฑ.  ูู ุงููุงูุน ุ ููุฏ ูุตููุง ูุชุฑุฌู ุงูุนููุงู ุจุงููุงูู.  ูุชูููุฐ ุงูุจุฑุงูุฌ ุงูุชุนุณููุฉ ุ ูููู ูุชูุณูุนูุง ูุน ุงูุจุฏุงุฆูุฉ.  ููู ุนููู ุฃููุงู ุงูุชุนุงูู ูุน ูุชุฑุฌู ูุต ุ ูุงูุฐู ูููุฑ ูุงุฌูุฉ ููุชุฑุฌู ุงูุนููุงู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qp/fw/gt/qpfwgtzzyissc6ujdvq_eq3wdby.jpeg"></div><br><h3 style=";text-align:right;direction:rtl">  ูุชุฑุฌู ุงููุต </h3><br>  ูุง ุชุญุชูู ูุบุฉ Fort ุนูู ุจูุงุก ุฌููุฉ ุ ุงูุจุฑุงูุฌ ุงูููุชูุจุฉ ูููุง ุนุจุงุฑุฉ ุนู ูููุงุช ููุตููุฉ ุจูุณุงูุงุช ุฃู ุนูุงูุงุช ุชุจููุจ ุฃู ููุงูุงุช ุฃุณุทุฑ.  ูุฐูู ุ ุชุชูุซู ูููุฉ ูุชุฑุฌู ุงููุต ูู ุชูุณูู ุฏูู ุงูุฅุฏุฎุงู ุฅูู ูููุงุช (ุฑููุฒ) ุ ุฃู ุงูุนุซูุฑ ุนูู ููุทุฉ ุฅุฏุฎุงู ููุง ุฃู ุชูููุฐูุง ุฃู ุงููุชุงุจุฉ ุฅูู ุงูุฐุงูุฑุฉ.  ูููู ููุณุช ูู ุงูุฑููุฒ ูุงุจูุฉ ููุชูููุฐ.  ุฅุฐุง ูู ูุฌุฏ ุงููุชุฑุฌู ุงููููุฉ ุ ูุณูุญุงูู ุชูุณูุฑูุง ุนูู ุฃููุง ุซุงุจุช ุฑููู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุญุชูู ูุชุฑุฌู ุงููุต ุนูู ูุถุนูู: ูุถุน ุงูุชุฑุฌูุฉ ุงูุดูููุฉ ููุถุน ุงูุจุฑูุฌุฉ.  ูู ูุถุน ุงูุจุฑูุฌุฉ ุ ูุง ูุชู ุชูููุฐ ุนูุงููู ุงููููุงุช ุ ูููู ูุชู ูุชุงุจุชูุง ูู ุงูุฐุงูุฑุฉ ุ ูุจุงูุชุงูู ูุชู ุชุญุฏูุฏ ูููุงุช ุฌุฏูุฏุฉ. <br><br>  ุนุงุฏุฉู ูุง ุชุฌูุน ุงูุชุทุจููุงุช ุงูููุณู ูู "Fort" ุจูู ุงููุงููุณ (ุฅุฏุฎุงู ุงููุงููุณ) ูุฐุงูุฑุฉ ุงูุจุฑูุงูุฌ ุ ููุง ูุญุฏุฏ ููู ุดูุฑุฉ ูุงุญุฏ ูู ุดูู ูุงุฆูุฉ ูุชุตูุฉ ุจุจุณุงุทุฉ.  ูู ุชุทุจูููุง ุ ุณูุชู ูุถุน ุฑูุฒ ูุงุจู ููุชูููุฐ ููุท ูู ุงูุฐุงูุฑุฉ ุ ูุณูุชู ุชุฎุฒูู ููุงุท ุฅุฏุฎุงู ุงููููุงุช ูู ุจููุฉ ูููุตูุฉ - ูุงููุณ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, List&lt;WordHeader&gt;&gt; Entries;</code> </pre> <br>  ูู ูุฐุง ุงููุงููุณ ุ ูุชู ุชุนููู ุงููููุฉ ุฅูู ุนุฏุฉ ุนูุงููู ุ ุจุญูุซ ููููู ุชุญุฏูุฏ ุนุฏุฏ ุชุนุณูู ูู ุงูุจุฑุงูุฌ ุงููุฑุนูุฉ ุจููุณ ุงูุงุณู ุ ุซู ุญุฐู ูุฐุง ุงูุชุนุฑูู ูุงูุจุฏุก ูู ุงุณุชุฎุฏุงู ุงููุฏูู.  ููุง ูุชูุญ ูู ุงูุนููุงู ุงููุฏูู ุงููุญููุธ ุงูุนุซูุฑ ุนูู ุงุณู ูููุฉ ูู ุงููุงููุณ ุ ุญุชู ูู ุชู ุฅุนุงุฏุฉ ุชุนุฑูููุง ุ ููู ุฃูุฑ ูููุฏ ุจุดูู ุฎุงุต ูุฅูุดุงุก ุชุชุจุน ููุฏุณ ุฃู ูุชุตุญูุญ ุงูุฃุฎุทุงุก ูุฏุฑุงุณุฉ ุงูุฐุงูุฑุฉ.  WordHeader ูู ูุฆุฉ ุชุฎุฒู ุนููุงู ุฅุฏุฎุงู ุฑูุชูู ูุฑุนู ูุนูู ุชูุณูุฑ ููุฑู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">WordHeader</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Address; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> Immediate; }</code> </pre><br>  ูุฑุดุฏ ุงูุนูู ุงูุญุงูู ุงููุชุฑุฌู ุงูููุฑู ุฅูู ุถุฑูุฑุฉ ุชูููุฐ ูุฐู ุงููููุฉ ูู ูุถุน ุงูุจุฑูุฌุฉ ุ ูููุณ ูุชุงุจุชูุง ุฅูู ุงูุฐุงูุฑุฉ.  ูู ุงููุงุญูุฉ ุงูุชุฎุทูุทูุฉ ุ ูููู ุชูุซูู ููุทู ุงููุชุฑุฌู ุงูุดููู ุนูู ุงููุญู ุงูุชุงูู: ุงููุฏ ุงููููู ูู ูุนู ุ ุงููุณุงุฑ ูู ูุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/vh/5t/pz/vh5tpzf-atkgovuyyqrqoeitfmo.jpeg"></div><br>  ุณูู ูุณุชุฎุฏู TextReader ููุฑุงุกุฉ ุฏูู ุงูุฅุฏุฎุงู ู TextWriter ูุฅุฎุฑุงุฌูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> TextReader Input; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> TextWriter Output;</code> </pre><br>  ุณูุชู ุชูููุฐ ุงููุชุฑุฌู ุงูููุฑู ููููุง ูููุฎุทุท ุฃุนูุงู ูู ูุธููุฉ ูุงุญุฏุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Interpreter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> word = ReadWord(Input); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrWhiteSpace(word)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-comment"><span class="hljs-comment">// EOF var lookup = LookUp(word); if (IsEvalMode) { if (lookup != null) { Execute(lookup.Address); } else if (IsConstant(word)) { DS.Push(ParseNumber(word)); } else { DS.Clear(); Output.WriteLine($"The word {word} is undefined"); } } else { // program mode if (lookup != null) { if (lookup.Immediate) { Execute(lookup.Address); } else { AddOp(lookup.Address); } } else if (IsConstant(word)) { AddOp(LookUp("doLit").Address); AddOp(ParseNumber(word)); } else { IsEvalMode = true; DS.Clear(); Output.WriteLine($"The word {word} is undefined"); } } } }</span></span></code> </pre><br>  ูุชู ุฅุฌุฑุงุก ุงูุชูุณูุฑ ูู ุญููุฉ ุ ูุชู ุชูููุฐ ุฅุฎุฑุงุฌูุง ุนูุฏ ุงููุตูู ุฅูู ููุงูุฉ ุฏูู ุงูุฅุฏุฎุงู (ุนูู ุณุจูู ุงููุซุงู ุ ููุงูุฉ ุงูููู) ุ ุจูููุง ุชุฑุฌุน ุงูุฏุงูุฉ ReadWord ุณูุณูุฉ ูุงุฑุบุฉ.  ูููุฉ ReadWord ูู ุฅุฑุฌุงุน ุงููููุฉ ุงูุชุงููุฉ ูุน ูู ููุงููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadWord</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TextReader sr</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> code = sr.Read(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (IsWhite((<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>)code) &amp;&amp; code &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { code = sr.Read(); } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!IsWhite((<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>)code) &amp;&amp; code &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { sb.Append((<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>)code); code = sr.Read(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sb.ToString(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsWhite</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> c</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">" \n\r\t"</span></span>.Any(ch =&gt; ch == c); }</code> </pre><br>  ุจุนุฏ ูุฑุงุกุฉ ุงููููุฉ ุ ูุชู ุฅุฌุฑุงุก ูุญุงููุฉ ููุนุซูุฑ ุนูููุง ูู ุงููุงููุณ.  ุฅุฐุง ูุฌุญุช ุ ูุชู ุฅุฑุฌุงุน ุนููุงู ุงููููุฉ ุ ูุฅูุง ุ ุชููู ุฎุงููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> WordHeader </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LookUp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> word</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Entries.ContainsKey(word)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Entries[word].Last(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }</code> </pre><br>  ููููู ุงูุชุญูู ููุง ุฅุฐุง ูุงูุช ุงููููุฉ ุงูุชู ุชู ุฅุฏุฎุงููุง ูู ุฑูู ูู ุฃูู ุญุฑููู.  ุฅุฐุง ูุงู ุงูุญุฑู ุงูุฃูู ูู ุฑูู ุ ูุฅููุง ููุชุฑุถ ุฃูู ุฑูู.  ุฅุฐุง ูุงู ุงูุญุฑู ุงูุฃูู ุนูุงูุฉ "+" ุฃู "-" ุ ูุงูุซุงูู ุนุจุงุฑุฉ ุนู ุฑูู ุ ูุนูู ุงูุฃุฑุฌุญ ูููู ูุฐุง ุฃูุถูุง ุฑูููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsConstant</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> word</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> IsDigit(word[<span class="hljs-number"><span class="hljs-number">0</span></span>]) || (word.Length &gt;= <span class="hljs-number"><span class="hljs-number">2</span></span> &amp;&amp; (word[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'+'</span></span> || word[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'-'</span></span>) &amp;&amp; IsDigit(word[<span class="hljs-number"><span class="hljs-number">1</span></span>])); }</code> </pre><br>  ูุชุญููู ุณูุณูุฉ ุฅูู ุฑูู ุ ููููู ุงุณุชุฎุฏุงู ุงูุทุฑู ุงูููุงุณูุฉ Int32.TryParse ู Double.TryParse.  ููููุง ูุง ุชุฎุชูู ูู ุงูุณุฑุนุฉ ูุนุฏุฏ ูู ุงูุฃุณุจุงุจ ุ ูุฐูู ุฃูุง ุงุณุชุฎุฏู ุญู ูุฎุตุต. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">object</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParseNumber</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> str</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> factor = <span class="hljs-number"><span class="hljs-number">1.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sign = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (str[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'-'</span></span>) { sign = <span class="hljs-number"><span class="hljs-number">-1</span></span>; str = str.Remove(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (str[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'+'</span></span>) { str = str.Remove(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = str.Length - <span class="hljs-number"><span class="hljs-number">1</span></span>; i &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; i--) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (str[i] == <span class="hljs-string"><span class="hljs-string">'.'</span></span>) { str = str.Remove(i, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> IntParseFast(str) * factor * sign; } factor *= <span class="hljs-number"><span class="hljs-number">0.1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> IntParseFast(str) * sign; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IntParseFast</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// An optimized int parse method. var result = 0; foreach (var c in value) { if (!(c &gt;= '0' &amp;&amp; c &lt;= '9')) return result; // error result = 10 * result + (c - 48); } return result; }</span></span></code> </pre><br>  ูููู ูุทุฑููุฉ ParseNumber ุชุญููู ูู ูู ุงูููู ุงูุตุญูุญุฉ ูุฃุฑูุงู ุงููุงุตูุฉ ุงูุนุงุฆูุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ "1.618". <br><br>  ูุญุฏุซ ุชูููุฐ ุงููููุฉ ุจููุณ ุงูุทุฑููุฉ ุงูุชู ุงุณุชุฎุฏููุงูุง ูู ุชุดุบูู ูุชุฑุฌู ุงูุนููุงู.  ูู ุญุงูุฉ ุญุฏูุซ ุงุณุชุซูุงุก ุ ุณูุชู ุทุจุงุนุฉ ุชุชุจุน ููุฏุณ ููุชุฑุฌู ุงูุนููุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> address</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (address &lt; Core.Count) { <span class="hljs-comment"><span class="hljs-comment">// eval core Core[address](); // invoke core function } else { // eval word IP = 0; // set return address WP = address; // set eval address DoList(); // fake doList Next(); // run evaluator } } catch (Exception e) { Output.WriteLine(e.Message); var wpEntry = Entries.FirstOrDefault(d =&gt; d.Value.Any(en =&gt; en.Address == WP)); var ipEntry = Entries.FirstOrDefault(d =&gt; d.Value.Any(en =&gt; en.Address == SearchKnowAddress(IP))); Output.WriteLine($"WP = {WP:00000} - '{wpEntry.Key}', IP = {IP:00000} - '{ipEntry.Key}'"); if (RS.Any()) { Output.WriteLine("Stack trace..."); foreach (var a in RS) { var ka = SearchKnowAddress(a); var sEntry = Entries.FirstOrDefault(d =&gt; d.Value.Any(en =&gt; en.Address == ka)); Output.WriteLine($"...{a:00000} -- {sEntry.Key}"); } RS.Clear(); DS.Clear(); } else if (address &lt; Core.Count) { var entry = Entries.FirstOrDefault(d =&gt; d.Value.Any(en =&gt; en.Address == address)); Output.WriteLine($"Core word is {entry.Key}"); } IP = WP = 0; } }</span></span></code> </pre><br>  ุนูุฏูุง ูููู ุงููุชุฑุฌู ูู ูุถุน ุงูุชุฑุฌูุฉ ููู ูุชู ูุถุน ุนูุงูุฉ ุนูู ุงููููุฉ ููุชูููุฐ ุงูููุฑู ุ ูุฌุจ ูุชุงุจุฉ ุนููุงููุง ุนูู ุงูุฐุงูุฑุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddOp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> op</span></span></span><span class="hljs-function">)</span></span> { Mem[Here++] = op; }</code> </pre><br>  ุงููุชุบูุฑ ููุง ูุฎุฒู ุนููุงู ุงูุฎููุฉ ุงูุญุฑุฉ ุงูุชุงููุฉ.  ูุธุฑูุง ูุฃูู ูุฌุจ ุงููุตูู ุฅูู ูุฐุง ุงููุชุบูุฑ ูู ุจูุฆุฉ ููุช ุงูุชุดุบูู ููุชุบูุฑ ููุบุฉ Fort ุ ูุชู ุชุฎุฒูู ุงููููุฉ ููุง ูู ุฐุงูุฑุฉ ุงูุจุฑูุงูุฌ ุนูุฏ ุฅุฒุงุญุฉ ูุนููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _hereShift; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Here { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)Mem[_hereShift]; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> =&gt; Mem[_hereShift] = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; }</code> </pre><br>  ููุชูููุฒ ุจูู ุงูุซุงุจุช ุงูุนุฏุฏู ูุนููุงู ุงููููุฉ ุฃุซูุงุก ุงูุชูุณูุฑ ุ ูุชู ุชุฌููุน ุชุฌููุน ูููููุฉ doLit ูุจู ูู ุซุงุจุช ุ ูุงูุฐู ููุฑุฃ ุงููููุฉ ุงูุชุงููุฉ ูู ุงูุฐุงูุฑุฉ ููุถุนูุง ูู ุญุฒูุฉ ุงูุจูุงูุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoLit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { DS.Push(Mem[IP++]); }</code> </pre><br>  ููุฏ ูุตููุง ูุชุฑุฌูู ุงููุตูุต ูุงูุนูุงููู ุ ููุชุถูู ุงููุฒูุฏ ูู ุงูุชุทููุฑ ููุก ุงูููุงุฉ ุจุงูุฐุฑุงุช.  ุชุญุชูู ุงูุฅุตุฏุงุฑุงุช ุงููุฎุชููุฉ ูู "Fort" ุนูู ูุฌููุนุฉ ูุฎุชููุฉ ูู ุงููููุงุช ุงูุฃุณุงุณูุฉ ุ ูุณูููู ุงูุชูููุฐ ุงูุฃูุซุฑ ุฏูุฉ ูู ุ ุฑุจูุง ุ ุงูุฐู ูุญุชูู ุนูู 31 ุจุฏุงุฆูุฉ ููุท.  ูุธุฑูุง ูุฃู ุงูุจุฏุงุฆูุฉ ุชุนูู ุจุดูู ุฃุณุฑุน ูู ูููุงุช ุงููุณุชุฎุฏู ุงููุฑูุจุฉ ุ ูุฅู ุชุทุจููุงุช Fort ุงูุฏููุง ุชููู ุนุงุฏุฉู ุฃุจุทุฃ ูู ุชุทุจููุงุช verbose.  ูููู ุงูุนุซูุฑ <a href="http://forthworks.com/forth/papers/compare.pdf">ููุง ุนูู</a> ููุงุฑูุฉ ููุฌููุนุฉ ูููุงุช ุงูุนุฏูุฏ ูู ุฅุตุฏุงุฑุงุช ุงููุชุฑุฌููู ุงูููุฑููู. <br><br>  ูู ุงููุชุฑุฌู ุงูููุตูู ููุง ุ ุญุงููุช ุฃูุถูุง ุนุฏู ุชุถุฎูู ูุงููุณ ุงููููุงุช ุงูุฃุณุงุณูุฉ ุจุดูู ุบูุฑ ุถุฑูุฑู.  ูููู ูุณูููุฉ ุงูุชูุงูู ูุน ููุตุฉ .net ุ ูุฑุฑุช ุชุทุจูู ุงูุฑูุงุถูุงุช ุ ูุงูุนูููุงุช ุงูููุทููุฉ ุ ูุจุงูุทุจุน ุงูุชูููุฑ ูู ุฎูุงู ูุฌููุนุฉ ูู ุงูุฃูููุงุช.  ูู ุงูููุช ููุณู ุ ููุงู ุจุนุถ ุงููููุงุช ุงูุชู ุบุงูุจูุง ูุง ุชููู ุจุฏุงุฆูุฉ ูู ุชุทุจููุงุช Fort ููููุฏุฉ ููุง ุ ููุง ูุนูู ุงูุชูููุฐ ุจูุงุณุทุฉ ุงููุชุฑุฌู ุงูููุฑู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูู ููุช ูุชุงุจุฉ ูุฐุง ุงูุชูุฑูุฑ ุ ูุงูุช ุงููุฌููุนุฉ ุงูุฃุณุงุณูุฉ ูู 68 ูููุฉ.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// Core SetCoreWord("nop", Nop); SetCoreWord("next", Next); SetCoreWord("doList", DoList); SetCoreWord("exit", Exit); SetCoreWord("execute", Execute); SetCoreWord("doLit", DoLit); SetCoreWord(":", BeginDefWord); SetCoreWord(";", EndDefWord, true); SetCoreWord("branch", Branch); SetCoreWord("0branch", ZBranch); SetCoreWord("here", GetHereAddr); SetCoreWord("quit", Quit); SetCoreWord("dump", Dump); SetCoreWord("words", Words); SetCoreWord("'", Tick); SetCoreWord(",", Comma); SetCoreWord("[", Lbrac, true); SetCoreWord("]", Rbrac); SetCoreWord("immediate", Immediate, true); // Mem SetCoreWord("!", WriteMem); SetCoreWord("@", ReadMem); SetCoreWord("variable", Variable); SetCoreWord("constant", Constant); // RW SetCoreWord(".", Dot); SetCoreWord(".s", DotS); SetCoreWord("cr", Cr); SetCoreWord("bl", Bl); SetCoreWord("word", ReadWord, true); SetCoreWord("s\"", ReadString, true); SetCoreWord("key", Key); // Comment SetCoreWord("(", Comment, true); SetCoreWord("\\", CommentLine, true); // .net mem SetCoreWord("null", Null); SetCoreWord("new", New); SetCoreWord("type", GetType); SetCoreWord("m!", SetMember); SetCoreWord("m@", GetMember); SetCoreWord("ms@", GetStaticMember); SetCoreWord("ms!", SetStaticMember); SetCoreWord("load-assembly", LoadAssembly); SetCoreWord("invk", invk); // Boolean SetCoreWord("true", True); SetCoreWord("false", False); SetCoreWord("and", And); SetCoreWord("or", Or); SetCoreWord("xor", Xor); SetCoreWord("not", Not); SetCoreWord("invert", Invert); SetCoreWord("=", Eql); SetCoreWord("&lt;&gt;", NotEql); SetCoreWord("&lt;", Less); SetCoreWord("&gt;", Greater); SetCoreWord("&lt;=", LessEql); SetCoreWord("&gt;=", GreaterEql); // Math SetCoreWord("-", Minus); SetCoreWord("+", Plus); SetCoreWord("*", Multiply); SetCoreWord("/", Devide); SetCoreWord("mod", Mod); SetCoreWord("1+", Inc); SetCoreWord("1-", Dec); // Stack SetCoreWord("drop", Drop); SetCoreWord("swap", Swap); SetCoreWord("dup", Dup); SetCoreWord("over", Over); SetCoreWord("rot", Rot); SetCoreWord("nrot", Nrot);</span></span></code> </pre><br></div></div><br>  ูุชุนุฑูู ูููุงุช ูุณุชุฎุฏู ุฌุฏูุฏุฉ ุ ูุชู ุงุณุชุฎุฏุงู ูููุชูู kernel: ":" ู "ุ".  ุชูุฑุฃ ุงููููุฉ ":" ุงุณู ูููุฉ ุฌุฏูุฏุฉ ูู ุฏูู ุงูุฅุฏุฎุงู ุ ูุชููู ุจุฅูุดุงุก ุฑุฃุณ ุจูุฐุง ุงูููุชุงุญ ุ ููุถุงู ุนููุงู ุงููููุฉ ุงูุฃุณุงุณูุฉ doList ุฅูู ุฐุงูุฑุฉ ุงูุจุฑูุงูุฌ ุ ููุชู ูุถุน ุงููุชุฑุฌู ุงูุดููู ูู ูุถุน ุงูุชุฑุฌูุฉ.  ุณูุชู ุชุฌููุน ุฌููุน ุงููููุงุช ุงููุงุญูุฉ ุ ุจุงุณุชุซูุงุก ุงููููุงุช ุงูุชู ุชู ุชุนููููุง ุนูู ุฃููุง ููุฑูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BeginDefWord</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { AddHeader(ReadWord(Input)); AddOp(LookUp(<span class="hljs-string"><span class="hljs-string">"doList"</span></span>).Address); IsEvalMode = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre><br>  ููุชูู ุงูุชุฌููุน ุจูููุฉ "ุ" ุ ุงูุชู ุชูุชุจ ุนููุงู ูููุฉ "ุฎุฑูุฌ" ูู ุฐุงูุฑุฉ ุงูุจุฑูุงูุฌ ูุชุถุนูุง ูู ูุถุน ุงูุชูุณูุฑ.  ููููู ุงูุขู ุชุญุฏูุฏ ุงููููุงุช ุงููุฎุตุตุฉ - ุนูู ุณุจูู ุงููุซุงู ุ ุงูุญููุงุช ุ ูุจูุงู ุดุฑุทู ุ ูุบูุฑูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">Eval(<span class="hljs-string"><span class="hljs-string">": ? @ . ;"</span></span>); Eval(<span class="hljs-string"><span class="hljs-string">": allot here @ + here ! ;"</span></span>); Eval(<span class="hljs-string"><span class="hljs-string">": if immediate doLit [ ' 0branch , ] , here @ 0 , ;"</span></span>); Eval(<span class="hljs-string"><span class="hljs-string">": then immediate dup here @ swap - swap ! ;"</span></span>); Eval(<span class="hljs-string"><span class="hljs-string">": else immediate [ ' branch , ] , here @ 0 , swap dup here @ swap - swap ! ;"</span></span>); Eval(<span class="hljs-string"><span class="hljs-string">": begin immediate here @ ;"</span></span>); Eval(<span class="hljs-string"><span class="hljs-string">": until immediate doLit [ ' 0branch , ] , here @ - , ;"</span></span>); Eval(<span class="hljs-string"><span class="hljs-string">": again immediate doLit [ ' branch , ] , here @ - , ;"</span></span>); Eval(<span class="hljs-string"><span class="hljs-string">": while immediate doLit [ ' 0branch , ] , here @ 0 , ;"</span></span>); Eval(<span class="hljs-string"><span class="hljs-string">": repeat immediate doLit [ ' branch , ] , swap here @ - , dup here @ swap - swap ! ;"</span></span>); Eval(<span class="hljs-string"><span class="hljs-string">": // immediate [ ' \\ , ] ;"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// C like comment</span></span></code> </pre><br>  ูู ุฃุตู ุจููุฉ ุงููููุงุช ุงูููุงุณูุฉ ููุง - ูููุงู ูุนูููุงุช ูุงููุฉ ุนููุง ุนูู ุงูุดุจูุฉ ุญูู ุงูููุงุฑุฏ ุงูููุงุถูุนูุฉ ุงูููุงุจูุฉ.  ููุชูุงุนู ูุน ุงูููุตุฉ ุ ุญุฏุฏุช 9 ูููุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  "ุฎุงููุฉ" - ูุฏูุน ูุงุฑุบุฉ ุนูู ุงูููุฏุณ. </li><li style=";text-align:right;direction:rtl">  "ุงูููุน" - ูุฏูุน ููุน ุงููุตู ุฅูู ูููุฉ "word TrueForth.MyClass type" ุ </li><li style=";text-align:right;direction:rtl">  "ุฌุฏูุฏ" - ูุฃุฎุฐ ุงูููุน ูู ุงูููุฏุณ ุ ููููู ุจุฅูุดุงุก ูุซูู ูููุฆุฉ ููุถุนู ุนูู ุงูููุฏุณ ุ ููุฌุจ ุฃู ุชููู ูุณูุทุงุช ุงููููุดุฆ ุ ุฅู ูุฌุฏุช ุ ููุฌูุฏุฉ ุฃูุถูุง ูู ุงููุฌููุนุฉ "word TrueForth.MyClass type new" ุ </li><li style=";text-align:right;direction:rtl">  "M!" - ูุฃุฎุฐ ูุซูู ูุงุฆู ุ ุงุณู ุงูุญูู ุ ุงููููุฉ ูู ุงูููุฏุณ ููุนูู ูููุฉ ุฅูู ุงูุญูู ุงููุญุฏุฏ ุ </li><li style=";text-align:right;direction:rtl">  "M @" - ููุชูุท ูุซูู ูุงุฆู ูู ุงูููุฏุณ ุ ูุงุณู ุงูุญูู ููุนูุฏ ูููุฉ ุงูุญูู ุฅูู ุงูููุฏุณ ุ </li><li style=";text-align:right;direction:rtl">  "Ms!" ู "ms @" - ุนูู ุบุฑุงุฑ ุงูุญููู ุงูุณุงุจูุฉ ุ ูููู ุจุงููุณุจุฉ ููุญููู ุงูุซุงุจุชุฉ ุ ุจุฏูุงู ูู ูุซูู ุ ูุฌุจ ุฃู ูููู ููุงู ููุน ูู ุงูุญุฒูุฉ. </li><li style=";text-align:right;direction:rtl">  "ุชุญููู ุงูุชุฌููุน" - ูุฃุฎุฐ ูู ุงูููุฏุณ ุ ูุงูุณูุงุญ ููุง ุจุงูุชุฌูุน ูุชุญูููู ูู ุงูุฐุงูุฑุฉ ุ </li><li style=";text-align:right;direction:rtl">  "Invk" - ูุฃุฎุฐ ุงููููุถ ุ ูุณูุทุงุช ูู ุงูููุฏุณ ููุทูู ุนููู "1133 ูููุฉ SomeMethod word TrueForth.MyClass type new m @ invk". </li></ul><br>  ูุตูุช ุงูููุงุท ุงูุฑุฆูุณูุฉ ูุชุทุจูู ูุบุฉ Fort ุ ูุฐุง ุงูุชุทุจูู ูุง ูุณุนู ูุฏุนู ูุนุงููุฑ ANSI ููุบุฉ ุ ุญูุซ ุฃู ูููุชู ูู ุชูููุฐ ูุญุฑู ูุจูุงุก DSL ุ ูููุณ ูุชูููุฐ ูุบุฉ ููุฃุบุฑุงุถ ุงูุนุงูุฉ.  ูู ูุนุธู ุงูุญุงูุงุช ุ ูููู ุงููุชุฑุฌู ุงูููุฑู ุงููุชุทูุฑ ูุงููุงู ูุจูุงุก ูุบุฉ ุจุณูุทุฉ ููููุถูุน. <br><br>  ููุงู ุนุฏุฉ ุทุฑู ูุงุณุชุฎุฏุงู ุงููุชุฑุฌู ุฃุนูุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุฅูุดุงุก ูุซูู ูููุชุฑุฌู ุงูุดููู ุ ุซู ุฅุฑุณุงู ุจุฑูุงูุฌ ูุตู ููุชููุฆุฉ ุฅูู ุงูุฅุฏุฎุงู ุ ูุชู ููู ุชุญุฏูุฏ ุงููููุงุช ุงูุถุฑูุฑูุฉ.  ูุฐุง ุงูุฃุฎูุฑ ูู ุฎูุงู ุงูุชูููุฑ ุชุชูุงุนู ูุน ุงููุธุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Init4Th</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Interpreter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OForth(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (File.Exists(InitFile)) { Interpreter.Eval(File.ReadAllText(InitFile)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">$"  </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{InitFile}</span></span></span><span class="hljs-string">  !"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } }</code> </pre><br>  ุชูุฑูุฑ ุชูููู ูุธุงู ุชูุฒูุน ูุซุงู <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">( *****   ***** ) word GetFReporter word ReportProvider.FlexReports.FReporterEntry type new m@ invk constant fr //       :  word ReportProvider.FlexReports.FDailyReport type new ; //       :  word AddReport fr m@ invk ; //          :  [ ' word , ] ; //   :  [ ' word , ] ; //   :  [ ' s" , ] ; //  ,      " :  ; //  :  dup [ ' word , ] swap word MailSql swap m! ; :  dup [ ' word , ] swap word XlsSql swap m! ; ( *****    ***** ) cr s"   " . cr cr    "  08:00  mail@tinkoff.ru   seizure.sql    ,    "  08:00  mail@tinkoff.ru   fixed-errors-top.sql   fixed-errors.sql         WO"  08:00  mail@tinkoff.ru   wo-wait-complect-dates.sql       "  07:30  mail@tinkoff.ru   top-previous-input-errors.sql   previous-input-errors.sql        "  10:00  mail@tinkoff.ru   collection-report.sql       BPM   "  08:00  mail@tinkoff.ru   bpm-inbox-report.sql       ScanDoc3   7 "  07:50  mail@tinkoff.ru   new-sd3-complects-prevew.sql   new-sd3-complects.sql  ( ******************************** ) cr s"  " . cr</code> </pre><br>  ููููู ุงูููุงู ุจุฎูุงู ุฐูู: ุชูุฑูุฑ ุงููุงุฆูุงุช ุงูุฌุงูุฒุฉ ุฅูู ุฅุฏุฎุงู ุงููุชุฑุฌู ุงูุดููู ูู ุฎูุงู ููุฏุณ ุงูุจูุงูุงุช ุซู ุงูุชูุงุนู ูุนูู ูู ุฎูุงู ุงููุชุฑุฌู ุงูููุฑู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุนูุช ูุงุณุชุนุงุฏุฉ ุฅุนุฏุงุฏุงุช ุงูุฌูุงุฒ ูุชููู ุจูุณุญ ุงููุณุชูุฏุงุช ุฃู ุงููุงุณุญ ุงูุถูุฆู ุฃู ูุงููุฑุง ููุจ ุฃู ุฌูุงุฒ ุงูุชุฑุงุถู (ููุชุตุญูุญ ุฃู ุงูุชุฏุฑูุจ).  ูู ูุฐู ุงูุญุงูุฉ ุ ุชููู ูุฌููุนุฉ ุงููุนููุงุช ูุงูุฅุนุฏุงุฏุงุช ูุชุฑุชูุจ ุงูุชููุฆุฉ ููุฃุฌูุฒุฉ ุงููุฎุชููุฉ ูุฎุชููุฉ ุชูุงููุง ููุชู ุญููุง ุจุณูููุฉ ูู ุฎูุงู ุงููุชุฑุฌู ุงูุญุตู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> interpreter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OForth(); interpreter.DS.Push(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Push current instance on DataStack interpreter.Eval("constant arctium"); // Define constant with the instance if (File.Exists(ConfigName)) { interpreter.Eval(File.ReadAllText(ConfigName)); }</span></span></code> </pre><br>  ูุชู ุฅูุดุงุก ุงูุชูููู ุจุฑูุฌููุง ุ ููุธูุฑ ุดูุก ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">s" @device:pnp:\\?\usb#vid_2b16&amp;pid_6689&amp;mi_00#6&amp;1ef84f63&amp;0&amp;0000#{65e8773d-8f56-11d0-a3b9-00a0c9223196}\global" s" Doccamera" word Scanning.Devices.PhotoScanner.PhotoScannerDevice type new dup s" 3264x2448, FPS:20, BIT:24" swap word SetSnapshotMode swap m@ invk dup s" 1280x720, FPS:30, BIT:24" swap word SetPreviewMode swap m@ invk word SetActiveDevice arctium m@ invk</code> </pre><br>  ุจุงูููุงุณุจุฉ ุ ูุชู ุฅูุดุงุก ุงูุจุฑุงูุฌ ุงููุตูุฉ * .ps ู * .pdf ุจุทุฑููุฉ ููุงุซูุฉ ุ ูุฃู ููุง ูู PostScript ู Pdf ููุซูุงู ูู ุงูุฃุณุงุณ ูุฌููุนุฉ ูุฑุนูุฉ ูู "Fort" ุ ูููููุง ูุณุชุฎุฏูุงู ุญุตุฑููุง ูุชูุฏูู ุงููุณุชูุฏุงุช ุนูู ุงูุดุงุดุฉ ุฃู ุงูุทุงุจุนุฉ. <br><br>  ูู ุงูุณูู ุชูููุฐ ุงููุถุน ุงูุชูุงุนูู ููุญุฏุฉ ุงูุชุญูู ูููุณ ููุชุทุจููุงุช ููุท.  ููููุงู ุจุฐูู ุ ูุฌุจ ุฃููุงู ุชููุฆุฉ ุงููุธุงู ูู ุฎูุงู ุงูุจุฑูุงูุฌ ุงููุตู ุงููุนุฏ ุ ุซู ุงูุจุฏุก ูู ุงูุชูุณูุฑ ุนู ุทุฑูู ุชุนููู ุงููุชุฑุฌู ุงูุดููู ุนูู ุงููุฏุฎูุงุช ุงูููุงุณูุฉ STDIN. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> interpreter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OForth(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> InitFile = <span class="hljs-string"><span class="hljs-string">"Init.4th"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (File.Exists(InitFile)) { interpreter.Eval(File.ReadAllText(InitFile)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">$"  </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{InitFile}</span></span></span><span class="hljs-string">  !"</span></span>); } interpreter.Eval(Console.In); <span class="hljs-comment"><span class="hljs-comment">// Start interactive console</span></span></code> </pre><br>  ูููู ุฃู ูููู ูุต ุงูุชููุฆุฉ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">( *****   ***** ) word ComplectBuilder.Program type constant main //     : mode! [ ' word , ] word Mode main ms! ; //    : init word Init main ms@ invk ; //  : load [ ' word , ] word LoadFile main ms@ invk ; //   : start word StartProcess main ms@ invk ; //   : count word Count main ms@ invk ; //   : all count ; //  ( *****  ***** ) init cr cr s"    ,     help" . cr cr ( *****  ***** ) : help s"         :" . cr s" load scandoc_test.csv 0 all start" . cr bl bl s" load scandoc_test.csv --    " . cr bl bl s" 0 all start --  ,  0      all " . cr cr s"     DEV TEST PROD:" . cr s" mode! DEV init" . cr s"     :" . cr s" word Mode main ms@ . cr" . cr ;</code> </pre><br>  ููุฏุฎูุงุช ุ ูุง ูููู ุฃู ูููู ููุงู ูุญุฏุฉ ุชุญูู ุฃู ูุต ููุท ูู ุชุทุจูู TextBox ูุน ูุงุฌูุฉ ูุณุชุฎุฏู ุ ูููู ุฃูุถูุง ุดุจูุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ููููู ุชุทุจูู ุชุญูู ุชูุงุนูู ุจุณูุท ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฎุฏูุฉ ูุชุตุญูุญ ุงูุฃุฎุทุงุก ูุจุฏุก ุงูููููุงุช ูุฅููุงููุง.  ูุชูุชุตุฑ ุฅููุงููุงุช ูุฐุง ุงูุงุณุชุฎุฏุงู ูู ุฎูุงู ุงููุทูุฑ ูุงููููุฉ ูู ูุชูุงูู ุงููุฏ.    ,     UI    -     . <br><br>         .      ,         ,       . <br><br>   ,   : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Callback</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> word, MulticastDelegate action</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrWhiteSpace(word) || word.Any(c =&gt; <span class="hljs-string"><span class="hljs-string">" \n\r\t"</span></span>.Any(cw =&gt; cw == c))) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Exception(<span class="hljs-string"><span class="hljs-string">"invalid format of word"</span></span>); } DS.Push(action); Eval(<span class="hljs-string"><span class="hljs-string">$": </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{word}</span></span></span><span class="hljs-string"> [ ' doLit , , ] invk ;"</span></span>); }</code> </pre><br>        DS.Push(action),       . ,  ,     [ ],  ,   .  ' Tick         ,      doLit,    ,           .  Comma ยซ,ยป  doLit,     . <br><br>     ,      .     ,      : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">WoConfItem</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> ComplectType; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Route; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Deal; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> IsStampQuery; }</code> </pre><br>     โ   ,   : <br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"> </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">WoConfig</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> OForth VM; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;WoConfItem&gt; _conf; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WoConfig</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> confFile</span></span></span><span class="hljs-function">)</span></span> { _conf = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;WoConfItem&gt;(); VM = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OForth(); <span class="hljs-comment"><span class="hljs-comment">//      VM.Callback("new-conf", new Action(ClearConf)); VM.Callback("{", new Func&lt;WoConfItem&gt;(NewConf)); VM.Callback("}", new Action&lt;WoConfItem&gt;(AddConf)); VM.Callback("complect-type", new Func&lt;WoConfItem,string,WoConfItem&gt;(ConfComplectType)); VM.Callback("route", new Func&lt;WoConfItem,string,WoConfItem&gt;(ConfRoute)); VM.Callback("deal", new Func&lt;WoConfItem,string,WoConfItem&gt;(ConfDeal)); VM.Callback("is-stamp-query", new Func&lt;WoConfItem,bool,WoConfItem&gt;(ConfIsStampQuery)); //  ,   ,       var initScript = new StringBuilder(); initScript.AppendLine(": complect-type [ ' word , ] swap complect-type ;"); initScript.AppendLine(": route [ ' word , ] swap route ;"); initScript.AppendLine(": deal [ ' word , ] swap deal ;"); initScript.AppendLine(": is-stamp-query ' execute swap is-stamp-query ;"); VM.Eval(initScript.ToString()); //   WatchConfig(confFile); } private void ReadConfig(string path) { using (var reader = new StreamReader(File.OpenRead(path), Encoding.Default)) { VM.Eval(reader); } } readonly Func&lt;string, bool&gt; _any = s =&gt; s == "*"; public WoConfItem GetConf(string complectType, string routeId) { return _conf?.FirstOrDefault(cr =&gt; (cr.ComplectType == complectType || _any(cr.ComplectType)) &amp;&amp; (cr.Route == routeId || _any(cr.Route)) ); } public bool IsAllow(string complectType, string routeId) { return GetConf(complectType, routeId) != null; } void WatchConfig(string path) { var directory = Path.GetDirectoryName(path); var fileName = Path.GetFileName(path); //   ,     if (!File.Exists(path)) { if (!Directory.Exists(directory)) { Directory.CreateDirectory(directory); } var sb = new StringBuilder(); sb.AppendLine("\\ WO passport configuration"); sb.AppendLine("new-conf"); sb.AppendLine(""); sb.AppendLine("\\ Config rules"); sb.AppendLine("\\ { -- begin config item, } -- end config item, * -- match any values"); sb.AppendLine("\\ Example:"); sb.AppendLine("\\ { complect-type * route offer deal 100500 is-stamp-query true }"); sb.AppendLine(""); File.WriteAllText(path, sb.ToString(), Encoding.Default); } //   ReadConfig(path); //     var fsWatcher = new FileSystemWatcher(directory, fileName); fsWatcher.Changed += (sender, args) =&gt; { try { fsWatcher.EnableRaisingEvents = false; //        , //     ,   //     Thread.Sleep(1000); ReadConfig(path); } catch (Exception e) { Console.WriteLine(e); } finally { fsWatcher.EnableRaisingEvents = true; } }; fsWatcher.EnableRaisingEvents = true; } //  ,    void ClearConf() { _conf.Clear(); } void AddConf(WoConfItem conf) { _conf.Add(conf); } static WoConfItem NewConf() { return new WoConfItem(); } static WoConfItem ConfComplectType(WoConfItem conf, string complectType) { conf.ComplectType = complectType; return conf; } static WoConfItem ConfRoute(WoConfItem conf, string route) { conf.Route = route; return conf; } static WoConfItem ConfDeal(WoConfItem conf, string deal) { conf.Deal = deal; return conf; } static WoConfItem ConfIsStampQuery(WoConfItem conf, bool isStampQuery) { conf.IsStampQuery = isStampQuery; return conf; } }</span></span></code> </pre><br></div></div><br>  : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">\ WO passport configuration new-conf \ Config rules \ { -- begin config item, } -- end config item, * -- match any values \ Example: \ { complect-type * route offer deal 100500 is-stamp-query true } \ ***** offer ***** { complect-type offer route offer is-stamp-query false deal 5c18e87bfeed2b0b883fd4df } { complect-type KVK route offer is-stamp-query true deal 5d03a8a1edf8af0001876df0 } { complect-type offer-cred route offer is-stamp-query true deal 5d03a8a1edf8af0001876df0 } { complect-type offer-dep route offer is-stamp-query true deal 5d03a8a1edf8af0001876df0 } { complect-type quick-meeting route offer is-stamp-query true deal 5d03a8a1edf8af0001876df0 } { complect-type exica route offer is-stamp-query true deal 5d03a894e2f5850001435492 } { complect-type reissue route offer is-stamp-query true deal 5d03a894e2f5850001435492 } \ ***** offer-flow ***** { complect-type KVK route offer-flow is-stamp-query true deal 5d03a8a1edf8af0001876df0 } { complect-type offer-cred route offer-flow is-stamp-query true deal 5d03a8a1edf8af0001876df0 } { complect-type offer-dep route offer-flow is-stamp-query true deal 5d03a8a1edf8af0001876df0 } { complect-type reissue route offer-flow is-stamp-query true deal 5d03a894e2f5850001435492 }</code> </pre><br> ,     ,       DSL   โ    . <br><br> ,          ยซยป.          DSL. <br><br> ,     ,   โ ,   , ,    ,    โ      .        ,           . <br><br>   โ         ,             .  โ  ,       โ  ! <br><br>       <a href="">,  </a> . <br><br>   <a href="http://rigidus.ru/lrn/forth/jonesforth-1.html">    -</a> . <br><br>  ุญุธุง ุณุนูุฏุง </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar477902/">https://habr.com/ru/post/ar477902/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar477886/index.html">ุงูููุงูุฌ ุงููุฏุฑุณูุฉ ูุฎูู ุงููุงูุน ุงูุงูุชุฑุงุถู ูุฒูุงุฏุฉ</a></li>
<li><a href="../ar477892/index.html">DevOps: 2019 ุงููุชุงุฆุฌ ูุงูุชูุจุค ุงูุชุงูู ูู ูุฌุชูุน DevOps</a></li>
<li><a href="../ar477896/index.html">ุงุฎุชุฑ ุดุฑูุญุฉ ููุฒุงููุฉ ุณูุงุนุงุช ุงูุฑุฃุณ ุงูุณูููุฉ ูู ุงูุฃุฐู</a></li>
<li><a href="../ar477898/index.html">ููุฏูุฉ ูู ุงูุจุฑูุฌุฉ ุงูููุฌูุฉ ููุณูุงู ูู Kotlin</a></li>
<li><a href="../ar477900/index.html">ุงูุฃุนุฏุงุฏ ุงูุฃูููุฉ - ูุง ูุฏู ุนุฌุฒูุงุ</a></li>
<li><a href="../ar477906/index.html">Slurm: ุฎุตู 50 ูช ุนูู ุฏูุฑุงุช ุงูุฌูุนุฉ ุงูุณูุฏุงุก ุนูู ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar477910/index.html">ุงูุฌูุนุฉ ุงูุณูุฏุงุก 2019 - VDS ูู ููุณูู ูุฃูุณุชุฑุฏุงู ุ ุฎูุงุฏู ูุน GPU</a></li>
<li><a href="../ar477912/index.html">ุงูุงูุทุจุงุนุงุช ุงูุฃููู ููุงุฑุฆ PocketBook X ุจุญุฌู 10.3 ุจูุตุฉ ูุน ุดุงุดุฉ E Ink Carta Mobius</a></li>
<li><a href="../ar477914/index.html">ุงูุฅุณูุงุท ุนูู ุงูุณูู: ุงูุงูุทุจุงุนุงุช ุจุนุฏ ุฃุณุจูุน ูู ุงุณุชุฎุฏุงู ุฌูุงุฒ ุงูุนุฑุถ ุ ุถุน "ูู ุงูููุงูุฉ"</a></li>
<li><a href="../ar477916/index.html">ููู ูุญุงูู ููุดุฆู ุงูุจุฑุงูุฌ ุงูุถุงุฑุฉ ุชุฌูุจ ุงูุชุดุงูู: ูููู ุจุชุญููู Spy.GmFUToMitm ููุซุงู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>