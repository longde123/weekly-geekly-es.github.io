<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👊🏿 👩🏽‍✈️ 🙎🏽 PVS-Studio for Visual Studio ♏️ 📄 🤡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们的许多文章都专注于任何内容，但PVS-Studio工具本身并不关注。 尽管我们做了很多工作，以使开发人员可以方便地使用它。 但是，我们的努力常常被隐藏在幕后。 我决定纠正这种情况，并向您介绍有关Visual Studio的PVS-Studio插件。 如果您使用Visual Studio，则本文适...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PVS-Studio for Visual Studio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/458068/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b55/042/8ad/b550428adfba0288bfdfce8d5f15e6fa.png"></div><br> 我们的许多文章都专注于任何内容，但PVS-Studio工具本身并不关注。 尽管我们做了很多工作，以使开发人员可以方便地使用它。 但是，我们的努力常常被隐藏在幕后。 我决定纠正这种情况，并向您介绍有关Visual Studio的PVS-Studio插件。 如果您使用Visual Studio，则本文适合您。 <br><a name="habracut"></a><br><h2> 什么是静态代码分析以及我们为什么需要它 </h2><br> 静态代码分析是检测程序源代码中的错误和缺陷的过程。 静态分析可以被视为自动化代码审查的过程。 联合<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">代码审查</a>是一种很棒的方法。 然而，它具有明显的缺点-高成本。 修改后，有必要召集几个程序员来审查新编写或重写的代码。 <br><br> 一方面，我们希望定期检查代码。 另一方面，它太昂贵了。 折衷解决方案是静态分析工具。 他们认真分析程序的源代码，并向程序员推荐有关检查某些代码片段的建议。 当然，一个程序不会替代由一组开发人员完成的全面的代码审查。 但是，价格/收益比率使静态分析成为一种非常有用的实践，已被许多公司采用。 如果读者对精确数字感兴趣，建议您阅读文章“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PVS-Studio ROI</a> ”。 <br><br> 有许多商业和免费的静态代码分析器。  Wikipedia上提供了大量静态分析器： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">静态代码分析工具列表</a> 。 具有静态代码分析器的语言列表非常多（C，C ++，C＃，Java，Ada，Fortran，Perl，Ruby等）。 不用说，我们将向您介绍PVS-Studio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">分析仪</a> 。 <br><br> 静态代码分析的主要优点是可以大大降低消除程序缺陷的成本。 越早发现错误，纠正错误的成本就越低。 因此，根据麦康奈尔（McConnell）撰写的“代码完成”（Code Complete）一书，在代码测试阶段进行错误检测的成本是在代码设计（编码）阶段进行错误检测的十倍： <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/834/bdd/a8f/834bdda8fd783e91db60015010476cd6.png" alt="图1.纠正缺陷的平均成本取决于缺陷的出现时间和在代码中的检测时间（表中数据摘自S. McConnell的“ Code Complete”一书）"></div><br>  <font color="#999999"><i>图1.纠正缺陷的平均成本取决于缺陷的出现时间和在代码中的检测时间（表中数据摘自S. McConnell的“ Code Complete”一书）</i></font> <br><br> 静态分析工具允许检测大量错误，这通常是代码设计阶段所要解决的，这大大降低了整个项目开发的成本。 例如，PVS-Studio静态代码分析器可以在编译后立即在后台模式下运行，如果发现潜在错误，则会通知程序员。 有关此模式的更多信息，请参见下文。 <br><br><h2>  PVS-Studio静态代码分析器 </h2><br>  PVS-Studio是一种静态分析器，可检测Windows，Linux和macOS平台上C，C ++（其他受支持的扩展名： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">C ++ / CLI</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">C ++ / CX</a> ），C＃和Java中应用程序的源代码中的错误和潜在漏洞。 该分析仪已完美集成到Visual Studio 2010-2019和IntelliJ IDEA IDE中。 在本文中，我们将仔细研究PVS-Studio，以C，C ++和C＃语言检查代码。 您可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a>阅读有关如何使用PVS-Studio在IntelliJ IDEA中检查Java代码的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">信息</a> 。 <br><br> 在安装PVS-Studio并将其集成到Visual Studio中之后，用户会在主菜单和用于处理错误消息的窗口中获得一个附加项“ PVS-Studio”： <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/943/589/d81/943589d818ec8e95fe078ed08585fe5c.png" alt="图2.集成到Visual Studio中时，PVS-Studio分析器添加的主要项目。"></div><br>  <font color="#999999"><i>图2.集成到Visual Studio中时，PVS-Studio分析器添加的主要项目。</i></font> <br><br><h3> 初始设定 </h3><br> 分析仪在安装后即可开始工作。 在大多数情况下，您无需为首次运行配置任何内容。 一开始您可能需要的唯一设置是排除第三方库。 您无需修复原始文件（例如jpeg库）中的任何内容，因此无需检查它。 此外，排除不必要的文件夹将加快项目分析的速度。 在此设置目录的例外：PVS-Studio&gt;选项...&gt;不检查文件&gt; PathMasks（请参见图3）。 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee5/c57/d08/ee5c57d087ce5294b2de1cc455fbd662.png" alt="图3.编辑分析器不会检查的目录列表。"></div><br>  <font color="#999999"><i>图3.编辑分析器不会检查的目录列表。</i></font> <br><br> 如果完整文件名中包含指定的名称之一，则不会对此文件执行分析。 默认情况下，某些目录的名称已包含在列表中。 但是，在您的项目中，具有ZLib库的目录不能称为“ zlib”，而可以称为“ zip_lib”。 因此，应编辑此列表。 要开始编辑，您需要单击三个点的按钮。 <br><br>  PathMasks列表可接受的掩码的示例： <br><br><ul><li>  c：\ Libs \-将排除此目录及其子目录中的所有文件。 </li><li>  \ Libs \或* \ Libs \ *-目录中的所有文件，包含子目录“ Libs”的路径将被排除。 如果未指定符号“ *”，则无论如何它们都会自动添加，因此两个选项相等。 </li><li>  Libs或* Libs *-所有文件，其路径包含子目录，该子目录的名称等于或包含'Libs'。 同样在这种情况下，将排除所有名称中包含Lib的文件，例如c：\ project \ mylibs.cpp。 为避免混淆，我们建议始终使用斜杠。 </li></ul><br> 除了排除整个目录外，您还可以设置掩码以排除单个文件。 为此，设置FileNameMasks。 在文档中找到有关如何使用异常列表的更多信息： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">设置：不检查文件</a> 。 <br><br><h3> 项目检查 </h3><br> 完成初始设置后，即可开始检查项目。 用于Visual Studio的PVS-Studio支持检查C ++（.vcxproj）和C＃（.csproj）项目。 您也可以立即尝试检查包含这些类型的项目的整个解决方案。 为此，选择扩展菜单项扩展&gt; PVS-Studio&gt;检查&gt;解决方案（请参见图4）。 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/716/ee3/2d8/716ee32d88dcc6bac832be8356dfaca6.png" alt="图4.使用PVS-Studio分析仪检查解决方案。"></div><br>  <font color="#999999"><i>图4.使用PVS-Studio分析仪检查解决方案。</i></font> <br><br> 如果检查有困难，我们建议参考我们网站上的“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PVS-Studio：故障排除</a> ”部分。 这些不是“检查插头是否已插入插座”的愚蠢建议。 本节描述了用户请求的典型情况并提出了建议。 <br><br><h3> 使用诊断消息列表 </h3><br> 检查后，所有诊断消息将显示在特殊窗口中。 该窗口具有许多控制组件。 它们全部用于准确显示用户感兴趣的诊断消息。 但是，乍一看，窗口可能看起来很复杂。 让我们看一下所有控件组件（参见图5）。 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b28/700/7c4/b287007c4520a416cd531e31962c01ca.png" alt="图5.带有诊断消息的窗口。"></div><br>  <font color="#999999"><i>图5.带有诊断消息的窗口。</i></font> <br><br><ol><li> 好吧，这是PVS-Studio窗口。 </li><li> 附加菜单。 允许您访问选项，例如将警告标记为false，隐藏消息，将文件添加到异常（请参阅以下内容）。 </li><li> 该按钮启用消息“出了点问题”。 例如，其中一个文件无法进行预处理。 </li><li> 转到上一条/下一条消息。 这将打开相关文件，并将光标放在有潜在错误的行上。 此外，您始终可以双击从列表中选择诊断。 您可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">设置</a>用于切换到上一条/下一条消息的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">热键</a> 。 默认情况下，它是Alt +'['和Alt +']'。 </li><li> 包含不同级别警告的按钮。 现在启用前两个诊断级别。 同时，该窗口显示第一级的90条警告，第二级的6700条警告。 消息级别在窗口左侧显示为条带，与匹配级别按钮上的条带颜色相对应。 为什么会有这么多触发因素？ 为什么会有6700个警告？ 为了演示该接口的功能，启用了一组<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MISRA</a>规则，这不适用于常规应用程序：)。 </li><li> 活动的诊断规则集。 常规-常规诊断，优化-微观优化，64位-64位诊断，MISRA-MISRA C和MISRA C ++标准诊断。 现在，所有警告都会显示在窗口中。 </li><li> 指示器显示警告的数量，标记为“错误”（“错误警报”）。 您可以在设置中启用/禁用标记消息的显示-PVS-Studio&gt;选项...&gt;特定分析仪设置&gt;显示错误警报。 </li><li> 快速筛选。 例如，您可以将列表缩短为仅包含V501代码的消息以及XYZ项目中的消息。 </li><li> 一些诊断建议不要将注意力放在某一行上，而应注意几行。 在这种情况下，行号旁边会出现点。 单击它，您可以看到行列表并选择其中之一。 </li></ol><br> 带有诊断消息的表分为以下几列： <br><br><ul><li>  <b>等级</b> 确定性级别，表明发现了错误而不是代码气味。  1级（红色）显示最可疑的地方。 级别3（黄色）可能是代码中不必要的错误。 </li><li>  <b>星号</b> 它没有特定的目的。 用户可以根据需要对其进行解释。 例如，用户可以标记最有趣的警告，以进行进一步的仔细分析。 类比是诸如Thunderbird或Outlook之类的邮件客户端中电子邮件的星级标记。 </li><li>  <b>编号</b> 唯一的消息号。 在处理大量列表时可能很有用。 例如，您可以转到带有特定号码的消息（请参阅<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上下文菜单</a>中的“导航到ID ...”）。 </li><li>  <b>代号</b> 消息代码。 如果单击它，将打开描述警告的页面。 </li><li>  <b>CWE。</b> 允许您通过CWE（通用弱点枚举）代码<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">识别</a>警告。 单击链接时，您可以在网络中看到此CWE的描述。 </li><li>  <b>米斯拉</b> 与上述相同，但适用于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MISRA标准</a> 。 </li><li>  <b>留言内容</b> 诊断消息的文本。 </li><li>  <b>专案</b> 项目名称（您可以使用上下文菜单禁用此列）。 </li><li>  <b>档案文件</b> 文件名 </li><li>  <b>线</b> 行号。  <b>重要！</b> 请注意，某些行以点结尾。 例如：“ 123（...）”。 通过单击此数字，您将获得与此消息相关的所有代码行的列表。 同时，您可以转到列表中的每一行。 </li></ul><br> 是的，阅读所有内容都很累。 但是，我向您保证，在开始使用它之后，您将很快习惯该工具。 而且，您很少会单击某些内容进行设置。 <br><br><h3> 上下文菜单 </h3><br> 因此，通过双击消息，您可以转到相关的代码段。 通过单击鼠标右键，上下文菜单打开。 <br><br> 菜单非常简单，我不会在每个项目的描述中弄乱文章。 如果不清楚，可以查看文档。 <br><br> 不过，我想谈谈一项非常有用的功能。 您还记得在设置中可以添加要排除的文件夹/文件吗？ 事实是，添加内容要比看起来简单得多！ <br><br> 请注意菜单选项“不要检查文件，并隐藏所有来自...的邮件”。 当您单击它时，您将获得可以添加到异常的路径的列表（请参见图6）。 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce3/581/300/ce35813002196bdbd53fcb666a33f58b.png" alt="图6.从检查中排除文件。"></div><br>  <font color="#999999"><i>图6.从检查中排除文件。</i></font> <br><br> 您可以选择一个单独的文件或目录之一。 图片显示已选择文件夹“ SDL2-2.0.9 \ src \触觉\窗口”。 这意味着该文件夹中的所有文件以及所有子文件夹都将从分析中排除。 此外，与这些文件相关的所有消息将立即从列表中消失。 很方便 您无需重新启动分析即可删除与测试有关的所有消息。 <br><br><h2> 增量分析模式 </h2><br> 如果我们隐藏最重要的功能之一- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">增量代码分析</a> ，那么PVS-Studio的介绍将是不完整的。 <br><br> 越早发现错误，消除错误的成本就越低。 最好的选择是立即突出显示已编辑程序文本中的错误。 然而，这在技术上是困难的并且是资源密集的。 这就是为什么在成功编译固定代码后，PVS-Studio在后台模式下运行的原因。 这样，您可以在刚刚更改的代码中查找错误。 系统通知区域中的图标表示分析正在运行。 <br><br> 发现错误时，将显示一个弹出窗口，警告危险（请参见图7）。 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61b/394/8bd/61b3948bd26a9ed4c410446e46b5eb3b.png" alt="图7.弹出消息，报告已在可编辑文件中找到可疑位置。"></div><br>  <font color="#999999"><i>图7.弹出消息，报告已在可编辑文件中找到可疑位置。</i></font> <br><br> 如果单击该图标，则将打开IDE，并带有项目检查的结果（请参见图2），然后可以挖掘可疑的代码片段。 <br><br> 实际上，尝试以这种方式工作比描述它要容易。 您像以前一样编写代码。 需要时，分析仪会打扰您。 试一试！ <br><br> 我们一直在使用此模式。 是的，有时我们还会出现编码错误。 立即修复它们的能力大大减少了检测缺陷和试图了解程序为什么不按预期运行的时间。 花15到20分钟进行调试以最终在索引中找到一个错字是非常令人沮丧的。 这是在代码中出现PVS-Studio之后立即在PVS-Studio中发现错误的情况之一： <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (in[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'\\'</span></span> &amp;&amp; in[<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-string"><span class="hljs-string">'.'</span></span> &amp;&amp; in[<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-string"><span class="hljs-string">'\\'</span></span>) { in += <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br> 好吧，最有趣的还没到。  PVS-Studio分析仪有时可能比这有用得多。 这是有关分析仪的评论之一：“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">用户使用</a>分析仪<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的体验</a> ”。 文字使我感到奇怪。 <br><br> 让我总结一下。 绝对应该尝试增量分析。 在新的代码中发现一些错误之后，您就会爱上它。 <br><br><h2>  PVS-Studio功能 </h2><br> 简而言之。 简明扼要地描述PVS-Studio中可用的所有诊断程序是不可能的。 诊断的完整列表及其详细描述可在文档中找到： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">检测到的错误的描述</a> 。 我们来看一下按类型对诊断进行分组的表。 一些诊断程序不止一组。 事实是分类是相当正式的。 例如，输入错误可能会导致使用未初始化的内存。 相反，某些错误可能不适合任何组，因为它们太具体了。 但是，此表提供了有关静态代码分析器功能的见解。 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee5/a44/f24/ee5a44f24dff71c09d5491dc9294b4f2.png" alt="图8. PVS-Studio功能。"></div><br>  <font color="#999999"><i>图8. PVS-Studio功能。</i></font> <br><br> 如您所见，分析器在寻找复制粘贴错误等领域特别有用。 它非常适合检测与代码安全性相关的问题。 <br><br> 要查看运行中的这些诊断，请查看<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">错误基准</a> 。 我们收集发现的所有错误，并使用PVS-Studio检查各种开源项目。 <br><br><h2>  SAST </h2><br>  PVS-Studio是静态应用程序安全性测试工具。 分析器可以检测项目代码中的潜在漏洞，并在特定分类中显示适当的错误标识符。 <br><br>  PVS-Studio支持以下错误分类： <br><br><ol><li>  CWE </li><li>  SEI证书 </li><li> 米斯拉 </li></ol><br> 您可以通过分析器窗口中的上下文菜单，通过路径“显示列”&gt;“ CWE”来启用CWE代码显示 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/919/85b/e34/91985be349bf7385fa7f3878ef57dcde.png" alt="图9. Context菜单和CWE输出示例。"></div><br>  <font color="#999999"><i>图9. Context菜单和CWE输出示例。</i></font> <br><br> 或在主菜单中（扩展&gt; PVS-Studio&gt;在“输出”窗口中显示CWE代码） <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0b6/582/d8c/0b6582d8c2626066567dfd111439cbc6.png" alt="图10.扩展菜单。"></p><br>  <font color="#999999"><i>图10.扩展菜单。</i></font> <br><br>  MISRA诊断在设置中分别启用： <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b89/898/709/b89898709db7045f949fb564c6c80059.png" alt="图11.检测到的错误列表。"></p><br>  <font color="#999999"><i>图11.检测到的错误列表。</i></font> <br><br> 您可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在此处</a>阅读有关这些分类的更多信息。 <br><br><h2> 从命令行检查项目 </h2><br>  PVS-Studio_Cmd.exe-用于从命令行检查C ++ / C＃Visual Studio项目（.vcxproj / .csproj）和.sln解决方案的实用程序。 自动化分析可能很有用。 该程序位于进行安装的目录中-默认情况下为“ C：\ Program Files（x86）\ PVS-Studio”。 <br><br> 该程序有很多<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">参数</a> ，但是首先我们只需要其中三个： <br><br><ul><li>  --target：需要检查的项目或解决方案文件。 </li><li>  --output：需要在其中写入报告的plog文件。 </li><li>  --progress：显示检查进度。 </li></ul><br> 运行结果如下所示： <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/3ce/ee2/aa1/3ceee2aa11c0bf9f887ad8959d7cdd65.png" alt="图12. PVS-Studio_Cmd.exe程序的输出。"></p><br>  <font color="#999999"><i>图12. PVS-Studio_Cmd.exe程序的输出。</i></font> <br><br> 运行之后，我们将获得一个带有报告的plog文件，该报告是我们在运行选项中指定的路径。 您可以使用PlogConverter.exe实用程序将该报告转换为其他格式。 要在IDE中查看报告，请在查找器中双击一个plog文件。 <br><br> 您也可以通过扩展&gt; PVS-Studio&gt;打开/保存&gt;打开分析报告...的路径在扩展菜单中打开报告文件。 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/490/7ac/cc5/4907accc516b05ccfedf52acc9c85d9f.png" alt="图片4"></div><br><br> 有关实用程序及其参数的详细信息，请参见<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文档</a> 。 <br><br><h2> 误报抑制 </h2><br> 分析仪发出的某些消息不可避免地会是错误的。 我们对此无能为力。 静态分析器只是一个没有人工智能的程序，无法查明它是否是真正的错误。 <br><br> 为了对抗误报，分析仪提供了一组不同的机制。 在文档的以下各节中将对它们进行详细说明： <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">微调</a> 。 </li><li> 一种<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">粗略的</a>方法，仅允许您使用与新代码或已修改代码有关的警告。 </li></ul><br><h2> 结论 </h2><br> 当然，我们并没有告诉您有关该工具的所有信息。 如果我告诉您所有内容，那么本文将变成文档。 目的是说明在Visual Studio环境中使用该工具有多么容易。 您可以在我们<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">网站</a>上的文档和其他文章中了解其他环境和工作方式。 顺便说一下，程序员有很多有趣的事情。 过来闲逛。 <br><br> 值得注意的是，PVS-Studio不仅可以在Microsoft环境中运行。 我们还支持Java语言，我们可以在Linux和macOS上工作，可以集成到CMake中等等。 您可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文档中</a>找到更多<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">信息</a> 。 <br><br> 祝您没有错误的错误代码，并希望您喜欢PVS-Studio。 如有任何疑问，我们将始终提供帮助并提供建议。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">写信给我们</a> 。 <br><br><h2> 附加链接： </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">代码审查</a> 。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">静态代码分析</a> 。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">静态代码分析工具</a> 。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SAST</a> 。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PVS-Studio分析仪中使用的技术</a> 。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">下载</a>并尝试使用PVS-Studio。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Visual Studio 2019支持</a> </li><li> 为您的团队讨论PVS-Studio分析仪的价格以及如何购买： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">购买PVS-Studio</a> 。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用静态分析仪的示例</a> 。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">回答</a>会议上经常提出的问题。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">如何运行PVS-Studio Java</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">如何在Linux和macOS上运行PVS-Studio</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN458068/">https://habr.com/ru/post/zh-CN458068/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN458052/index.html">AMA与Habr.10。 最后*问题</a></li>
<li><a href="../zh-CN458056/index.html">Martin Kleppmann的大型访谈：“弄清楚分布式数据系统的未来”</a></li>
<li><a href="../zh-CN458060/index.html">在Unity引擎中创建草着色器</a></li>
<li><a href="../zh-CN458062/index.html">UserGate平台概述</a></li>
<li><a href="../zh-CN458064/index.html">云中的PVS-Studio-在Travis CI上运行分析</a></li>
<li><a href="../zh-CN458070/index.html">PVS-Studio for Visual Studio</a></li>
<li><a href="../zh-CN458072/index.html">PVS-Studio走向云端-在Travis CI上启动分析</a></li>
<li><a href="../zh-CN458074/index.html">语言：ORM选择</a></li>
<li><a href="../zh-CN458076/index.html">通过ML决策进行营销</a></li>
<li><a href="../zh-CN458080/index.html">7月25日，莫斯科-QIWI iOS聚会</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>