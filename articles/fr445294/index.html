<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥜 🦅 🧝🏿 Et encore une fois sur le deuxième moniteur de la tablette ... 💊 👩🏻‍💻 🤦🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Étant propriétaire d'une telle tablette moyenne avec un capteur inopérant (le plus vieux fils a essayé), j'ai longtemps pensé où l'adapter. Google, go...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Et encore une fois sur le deuxième moniteur de la tablette ...</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445294/">  Étant propriétaire d'une telle tablette moyenne avec un capteur inopérant (le plus vieux fils a essayé), j'ai longtemps pensé où l'adapter.  Google, google et google ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">deux</a> , Hacker n ° 227), ainsi que de nombreuses autres recettes impliquant <b>spacedesk</b> , <b>iDispla</b> et quelques autres.  C'est juste de la malchance - j'ai Linux.  Googler encore, j'ai trouvé plusieurs recettes et grâce au chamanisme simple, j'ai obtenu un résultat acceptable. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wp/lm/rl/wplmrlr97bpakhee9i-6ikikzos.jpeg" width="640"></div><a name="habracut"></a><br>  Mon chemin est sous la coupe. <br><br>  Vous aurez besoin de: <br><br>  Linux avec installé: <br><br><ul><li>  <b>x11vnc</b> (toutes sortes de tigervnc et d'autres que je n'aime pas franchement) </li><li>  <b>adb</b> bundle android-tools </li></ul><br>  Tablette / smart avec débogage activé et installé: <br><br><ul><li>  <b>AndroidNVC</b> (je l'ai, car il n'y a pas de publicité) </li><li>  Quel type de bloqueur de suppression d'écran (sans publicité je n'ai pas trouvé) </li><li>  Tout chargeur automatique (exécutez VNC et bloqueur) est facultatif (plus d'informations ci-dessous). </li></ul><br>  alors commençons. <br><br>  1. Obtenez Modeline pour xorg.conf <br><br><pre><code class="bash hljs">$ cvt 1024 768 25 <span class="hljs-comment"><span class="hljs-comment">#   gtf,       modeline.</span></span></code> </pre> <br>  2. Édition <br><br><div class="spoiler">  <b class="spoiler_title">xorg.conf</b> <div class="spoiler_text"><pre> <code class="bash hljs">Section <span class="hljs-string"><span class="hljs-string">"ServerLayout"</span></span> Identifier <span class="hljs-string"><span class="hljs-string">"Xorg Configured"</span></span> Screen 0 <span class="hljs-string"><span class="hljs-string">"Monitor"</span></span> 0 0 Screen 2 <span class="hljs-string"><span class="hljs-string">"Screen2"</span></span> rightof <span class="hljs-string"><span class="hljs-string">"Screen0"</span></span> <span class="hljs-comment"><span class="hljs-comment"># "  VNC" Option "Xinerama" "1" EndSection #&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; #    ,    #&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; #Dummy  Section "Device" Identifier "Device2" Driver "dummy" VideoRam 8000 EndSection #Dummy  Section "Monitor" Identifier "Monitor2" Modeline "1024x768@25" 23.77 1024 1056 1144 1176 768 785 789 807 # . . 1 EndSection #Dummy  Section "Screen" Identifier "Screen2" Device "Device2" Monitor "Monitor2" DefaultDepth 24 SubSection "Display" #  Modes "1024x768" Virtual 1024 748 EndSubSection EndSection</span></span></code> </pre> <br></div></div><br>  Redémarrez Xs et vérifiez via arandr.  Configurez l'emplacement et l'orientation. Cela devrait ressembler à ceci: <br><br><img src="https://habrastorage.org/webt/85/ay/pc/85aypckcjirfrk_j8jvky5yo0t0.png" width="640"><br><br>  Nous sauvegardons dans un fichier - il nous sera utile. <br><br>  3. Créez un fichier pour le démarrage dans WM / DE (j'ai planshet.sh) <br><br><pre> <code class="bash hljs">x11vnc -rfbport 5900 -display :0 -dontdisconnect -noxfixes -xdamage -shared -forever -clip 1024x768+1600+0 -scale 1024x768 -<span class="hljs-built_in"><span class="hljs-built_in">bg</span></span> -cursor X -o /home/<span class="hljs-variable"><span class="hljs-variable">$USER</span></span>/x11vnc.log -repeat xrandr --addmode VIRTUAL1 1024x768 <span class="hljs-comment"><span class="hljs-comment">#  xrandr --output VIRTUAL1 --mode 1024x768 #  xrandr --output VIRTUAL2 --off --output HDMI1 --off --output VIRTUAL1 --mode 1024x768 --pos 1602x0 --rotate normal --output DP1 --off --output VGA1 --mode 1600x900 --pos 0x0 --rotate normal #       arandr</span></span></code> </pre> <br>  Vérifier: <br><br><pre> <code class="bash hljs">$ xrandr |grep VIRTUAL1 VIRTUAL1 connected 1024x768+1600+0 (normal left inverted right x axis y axis) 0mm x 0mm</code> </pre> <br>  Puisqu'il n'y a pas de répertoire de démarrage automatique dans IceWM, mais qu'il y a un fichier ~ / .icewm / startup (qui doit être exécutable), ajoutez-y ce qui suit: <br><br><pre> <code class="bash hljs">sh -c /path/to/planshet.sh</code> </pre> <br>  4. Désactivez les moniteurs de suppression: <br><br><pre> <code class="bash hljs"> xset s off xset s noblank xset -dpms</code> </pre> <br>  Et maintenant la partie amusante!  Comment obtenir les coordonnées des «bandes» de l'appareil sans la «méthode d'essai et d'erreur» torturant le clavier dans la console?! <br><br>  Pour le bien d'une telle chose, je l'ai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">programmé</a> .  Si vous l'exécutez à partir de la console, nous obtenons les coordonnées de sortie des bandes souhaitées. <br><br><img src="https://habrastorage.org/webt/c5/hl/vp/c5hlvpezj3wmnmhqvlfysryjk7a.png" width="640"><br><br>  6. Ajoutons tout cela à planshet.sh <br><br><div class="spoiler">  <b class="spoiler_title">Version complète</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash x11vnc -rfbport 5900 -display :0 -dontdisconnect -noxfixes -xdamage -shared -forever -clip 1024x768+1600+0 -scale 1024x768 -bg -cursor X -o /home/$USER/x11vnc.log -repeat xrandr --addmode VIRTUAL1 1024x768 #  xrandr --output VIRTUAL1 --mode 1024x768 #  xrandr --output VIRTUAL2 --off --output HDMI1 --off --output VIRTUAL1 --mode 1024x768 --pos 1602x0 --rotate normal --output DP1 --off --output VGA1 --mode 1600x900 --pos 0x0 --rotate normal #       arandr xset s off xset s noblank xset -dpms adb tcpip 5555 adb connect 192.168.0.14:5555 sudo adb devices adb shell input tap 1000 20 #   ""     ( ,  ) -  3 adb shell input tap 392 138 #   AndroidVNC adb shell input tap 20 65 #  VNC     </span></span></code> </pre> <br></div></div><br>  Et nous ferons <br><br><pre> <code class="bash hljs">chmod +x /path/to/planshet.sh</code> </pre> <br>  En fait, c'est tout.  Nous redémarrons le serveur X et obtenons un multi-écran. <br><br>  J'ai conky tourner sur le "petit". <br><br>  Écran double écran attaché. <br><br><img src="https://habrastorage.org/webt/3r/li/ig/3rliig3vappn6kakyampigs6me4.png" width="640"><br><br>  Et je jette aussi une fiche technique dessus quand je modélise quelque chose. <br><br>  <b>UPD:</b> <br>  Il s'est avéré une fonctionnalité intéressante (uniquement vérifié dans <b>gentoo</b> ).  Si vous démarrez SANS /etc/X11/xorg.conf, alors xrandr fonctionne assez correctement.  Et si vous créez au moins un petit «mauvais» xorg.conf (enfin, par exemple, mon Intel «integrash» est méchant avec le paramètre «AccelMethod» «sna»), alors nous obtenons un refus de déplacer l'écran factice et une erreur xrandr.  Dans le même temps, le deuxième moniteur connecté via DVI fonctionne «comme une horloge». <br>  Vous pouvez donc générer en toute sécurité les autorisations nécessaires à l'aide de xrandr sans vous soucier de l'absence de la configuration Xorg. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr445294/">https://habr.com/ru/post/fr445294/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr445284/index.html">ClickHouse Product Analytics VKontakte</a></li>
<li><a href="../fr445286/index.html">Repose-pieds pour le cerveau: Hedera Hashgraph Distributed Registry Platform</a></li>
<li><a href="../fr445288/index.html">Tous vos prêts à la consommation et vos données personnelles «en un seul endroit» ...</a></li>
<li><a href="../fr445290/index.html">Comment mettre en œuvre des processus unifiés prenant en compte toutes les fonctionnalités de l'entreprise?</a></li>
<li><a href="../fr445292/index.html">Ce qu'on ne m'a jamais dit sur CSS</a></li>
<li><a href="../fr445298/index.html">Semaine de la sécurité 13: ouvrir les mots de passe sur Facebook</a></li>
<li><a href="../fr445300/index.html">Nouvelles de l'industrie du jeu (11-25 mars 2019)</a></li>
<li><a href="../fr445302/index.html">"Game of Thrones, continue." Ce qu'Apple a montré aujourd'hui lors de son événement Show Time</a></li>
<li><a href="../fr445304/index.html">Programmation de LibreOffice Base. 2e partie</a></li>
<li><a href="../fr445308/index.html">Caractéristiques des tests d'hypothèses pour les applications mobiles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>