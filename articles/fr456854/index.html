<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíå üêû üõÄüèª Du kit d'interface utilisateur au syst√®me de conception üóÑÔ∏è üë©üèø‚Äçü§ù‚Äçüë®üèæ üë®üèΩ‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Exp√©rience de cin√©ma en ligne Ivy 

 Quand au d√©but de 2017, nous avons d'abord pens√© √† cr√©er notre propre syst√®me de conception de code, beaucoup en ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Du kit d'interface utilisateur au syst√®me de conception</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ivi/blog/456854/">  <i><font color="#999999">Exp√©rience de cin√©ma en ligne Ivy</font></i> <br><br>  Quand au d√©but de 2017, nous avons d'abord pens√© √† cr√©er notre propre syst√®me de conception de code, beaucoup en ont parl√© et quelqu'un l'a m√™me fait.  Cependant, on sait peu de choses sur l'exp√©rience de la construction de syst√®mes de conception multiplateforme √† ce jour, et il n'y a pas de recettes claires et √©prouv√©es qui d√©crivent les technologies et les m√©thodes pour une telle transformation du processus de mise en ≈ìuvre de la conception en un produit d√©j√† fonctionnel.  Et ¬´composants dans le code¬ª signifie souvent des choses tr√®s diff√©rentes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vb/wj/nk/vbwjnkrs2vmsiuxuru0t1fxlml8.jpeg"></div><br>  Parall√®lement, l'entreprise a doubl√© ses effectifs d'ann√©e en ann√©e - il a fallu faire √©voluer le d√©partement de conception et optimiser les processus de cr√©ation et de transfert des dispositions vers le d√©veloppement.  Nous multiplions tout cela par un ¬´zoo¬ª de plates-formes qui doivent √™tre soutenues, et nous obtenons un semblant de foule Babel, qui n'est tout simplement pas en mesure de ¬´faire normalement¬ª et de g√©n√©rer des revenus.  Le d√©veloppement des plates-formes se d√©roulait souvent en parall√®le et les m√™mes fonctionnalit√©s pouvaient sortir sur diff√©rentes plates-formes avec un d√©calage de plusieurs mois. <br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w8/jj/x4/w8jjx4_ia9mrzzrg8zqinsiaoeo.png"></div><br>  <i><font color="#999999">Ensembles de mise en page s√©par√©s pour chaque plate-forme</font></i> <br><br>  Traditionnellement, nous avons commenc√© avec des probl√®mes que le syst√®me de conception aiderait √† r√©soudre et formul√© des exigences pour sa conception.  En plus de cr√©er un langage visuel unique, d'augmenter la vitesse de prototypage et de d√©veloppement, d'am√©liorer la qualit√© du produit dans son ensemble, il √©tait vital d'unifier le design autant que possible.  Cela est n√©cessaire pour que le d√©veloppement de fonctionnalit√©s devienne possible imm√©diatement sur toutes nos plateformes simultan√©ment: Web, iOS, Android, Smart TV, tvOS, Android TV, Windows 10, xBox One, PS4, Roku - sans travailler sur chacune d'elles individuellement .  Et nous l'avons fait! <br><br><h2>  <font color="#fd004c">Conception ‚Üí Donn√©es</font> </h2><br>  Lorsque les principaux accords des d√©partements produit et d√©veloppement ont √©t√© conclus, nous nous sommes assis pour s√©lectionner la pile technologique et √©tudier les d√©tails de l'ensemble du processus - de la mise en page √† la sortie.  Pour automatiser enti√®rement le processus de transfert de la conception au d√©veloppement, nous avons √©tudi√© l'option avec un analyseur de param√®tres de composants directement √† partir de fichiers Sketch avec des dispositions.  Il s'est av√©r√© que trouver les morceaux de code dont nous avions besoin et extraire les param√®tres dont nous avions besoin √©tait une entreprise compliqu√©e et dangereuse.  Premi√®rement, les concepteurs devront √™tre extr√™mement prudents en nommant toutes les couches du code source, deuxi√®mement, cela ne fonctionne que pour les composants les plus simples, et troisi√®mement, la d√©pendance √† la technologie d'autres personnes et √† la structure du code de la disposition Sketch originale met en p√©ril l'avenir de l'ensemble du projet.  Nous avons d√©cid√© d'abandonner l'automatisation dans ce domaine.  Ainsi, la premi√®re personne est apparue dans l'√©quipe du syst√®me de conception, √† l'entr√©e de laquelle les dispositions de conception sont aliment√©es et √† la sortie - des donn√©es d√©crivant tous les param√®tres des composants et hi√©rarchiquement ordonn√©es selon la m√©thodologie de conception atomique. <br><br>  Le probl√®me est rest√© limit√©: o√π et comment stocker les donn√©es, comment les transf√©rer vers le d√©veloppement et comment les interpr√©ter en d√©veloppement sur toutes les plateformes prises en charge par nous.  La soir√©e a cess√© d'√™tre languissante ... Le r√©sultat des r√©unions r√©guli√®res du groupe de travail, compos√© de designers et de chefs d'√©quipe de chaque plateforme, a √©t√© l'accord sur les points suivants. <br><br>  Nous analysons manuellement le visuel en √©l√©ments atomiques: polices, couleurs, transparence, retraits, cong√©s, ic√¥nes, images et dur√©es des animations.  Et nous collectons √† partir de ce bouton, des entr√©es, des cases √† cocher, des widgets de cartes bancaires, etc. Nous attribuons des noms non s√©mantiques √† des styles de n'importe quel niveau, √† l'exception des ic√¥nes, par exemple, les noms de villes, les noms de nymphes, Pok√©mon, les marques de voitures ... Il n'y a qu'une seule condition - la liste ne doit pas √™tre √©puis√©e plus t√¥t , avec quels styles se terminera-t-il?  Vous ne devriez pas vous laisser emporter par la s√©mantique afin de ne pas avoir √† ajouter un bouton du milieu entre "petit" et "moyen", par exemple. <br><br><h2>  <font color="#fd004c">Langage visuel</font> </h2><br>  Les d√©veloppeurs sont partis pour r√©fl√©chir √† la fa√ßon de stocker et de transf√©rer des donn√©es afin qu'elles s'adaptent √† toutes les plates-formes, et la conception a d√ª concevoir des √©l√©ments d'interface qui pourraient √™tre aussi bons et fonctionner efficacement sur l'ensemble du parc d'appareils pris en charge. <br><br>  Plus t√¥t, nous avons r√©ussi √† ¬´parcourir¬ª la plupart des √©l√©ments de conception d'une application pour Windows 10, qui √† l'√©poque √©tait une nouvelle plate-forme pour nous, c'est-√†-dire que le rendu et le d√©veloppement √† partir de z√©ro √©taient n√©cessaires.  En le dessinant, nous avons pu pr√©parer et tester la plupart des composants et comprendre lesquels devaient √™tre inclus dans le futur syst√®me de conception Ivy.  Sans un tel bac √† sable, une telle exp√©rience ne pourrait √™tre acquise que par un grand nombre d'it√©rations sur des plates-formes d√©j√† op√©rationnelles, et cela aurait pris plus d'un an. <br><br>  La r√©utilisation des m√™mes composants sur diff√©rentes plates-formes r√©duit parfois le nombre de dispositions et la matrice de donn√©es du syst√®me de conception, de sorte que la conception devait r√©soudre un autre probl√®me qui n'√©tait pas d√©crit pr√©c√©demment dans la pratique de la conception et du d√©veloppement de produits - comment, par exemple, r√©utiliser le bouton pour les t√©l√©phones et les tablettes sur les t√©l√©viseurs?  Et qu'en principe devrait-il y avoir avec les tailles des polices et des √©l√©ments sur ces plates-formes diff√©rentes? <br><br>  De toute √©vidence, il √©tait n√©cessaire de concevoir une grille modulaire multiplateforme qui d√©finirait la taille du texte et des √©l√©ments dont nous avions besoin pour chaque plate-forme particuli√®re.  Pour le point de r√©f√©rence de la grille, nous avons s√©lectionn√© la taille et le nombre d'affiches de films que nous voulons voir sur un √©cran particulier et, sur cette base, nous avons formul√© une r√®gle pour construire des colonnes de grille, √† condition que la largeur d'une colonne soit √©gale √† la largeur de l'affiche. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ei/5i/ka/ei5ikag2hv8buxma47yw_keeutk.png"></div><br>  Vous devez maintenant amener tous les grands √©crans √† la m√™me taille de la mise en page et les adapter √† la grille g√©n√©rale.  Apple TV et Roku sont en cours de d√©veloppement dans la taille de 1920x1080, Android TV - 960x540, Smart TV, selon le fournisseur, ils sont les m√™mes, et il y a 1280x720.  Lorsque l'application est rendue et affich√©e sur des √©crans Full HD, 960 est multipli√© par 2, 1280 par 1,33 et 1920 s'affiche tel quel. <br><br>  En omettant des d√©tails ennuyeux, nous sommes arriv√©s √† la conclusion qu'en g√©n√©ral, tous les √©crans, y compris les √©crans de t√©l√©vision en termes d'√©l√©ments et de leurs tailles, sont couverts par une conception unique, et tous les √©crans de t√©l√©vision sont un cas particulier d'une grille multiplateforme commune et se composent de cinq ou six colonnes, comme une tablette moyenne ou bureau.  Peu importe les d√©tails, allez aux commentaires. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ns/iv/bj/nsivbjcvwummuddabcatfjeeyec.png"></div><br>  <i><font color="#999999">Interface utilisateur unifi√©e pour toutes les plateformes</font></i> <br><br>  Maintenant, pour dessiner une nouvelle fonctionnalit√©, nous n'avons pas besoin de dessiner des dispositions pour chaque plate-forme, ainsi que des options d'adaptabilit√© pour chacune d'entre elles.  Il suffit de montrer une disposition et son adaptabilit√© pour toutes les plates-formes et appareils de toute largeur: t√©l√©phones - 320‚Äì599, tout le reste - 600‚Äì1280. <br><br><h2>  <font color="#fd004c">Donn√©es ‚Üí D√©veloppement</font> </h2><br>  Bien s√ªr, peu importe la fa√ßon dont nous aimerions parvenir √† une conception compl√®tement unifi√©e, chaque plate-forme a ses propres caract√©ristiques uniques.  Malgr√© le fait que le Web et Smart TV utilisent la pile ReactJS + TypeScript, l'application Smart TV s'ex√©cute sur les clients WebKit et Presto h√©rit√©s, et ne peut donc pas utiliser de styles communs avec le Web.  Et les newsletters par e-mail sont compl√®tement oblig√©es de travailler avec la disposition des tableaux.  Dans le m√™me temps, aucune des plates-formes non html n'utilise ou ne pr√©voit d'utiliser React Native ou l'un de ses analogues, par crainte d'une d√©gradation des performances, car nous avons trop de mises en page personnalis√©es, de collections avec une logique de mise √† jour complexe, d'images et de vid√©os.  Par cons√©quent, un sch√©ma commun ne nous convient pas - pour fournir des styles CSS pr√™ts √† l'emploi ou des composants React.  Par cons√©quent, nous avons d√©cid√© de transf√©rer les donn√©es au format JSON, d√©crivant les valeurs sous une forme d√©clarative abstraite. <br><blockquote> Ainsi, la propri√©t√© d' <code>rounding: 8</code> , l'application Windows 10 se convertit en <code>CornerRadius="8"</code> , le Web - <code>border-radius: 8px</code> , Android - <code>android:radius="8dp"</code> , iOS - <code>self.layer.cornerRadius = 8.0</code> . <br>  <code>offsetTop: 12</code> OffsetTop <code>offsetTop: 12</code> le m√™me client Web peut √™tre interpr√©t√© dans diff√©rents cas comme <code>top</code> , <code>margin-top</code> , <code>padding-top</code> ou <code>transform</code> </blockquote><br>  La nature d√©clarative de la description sugg√®re √©galement que si la plate-forme est techniquement incapable d'utiliser une propri√©t√© ou sa valeur, elle peut l'ignorer.  En termes de terminologie, nous avons fait une sorte de langage esp√©ranto: nous avons pris quelque chose d'Android, certains de SVG, certains de CSS. <br><br>  S'il est n√©cessaire d'afficher des √©l√©ments d'une mani√®re diff√©rente sur une plate-forme particuli√®re, nous avons impl√©ment√© la possibilit√© de transf√©rer la g√©n√©ration de donn√©es correspondante dans un fichier JSON distinct.  Par exemple, l'√©tat est ¬´au point¬ª pour Smart TV, il dicte un changement de position du texte sous l'affiche, donc pour cette plate-forme, ce composant dans la valeur de la propri√©t√© ¬´indent¬ª contiendra les 8 points de retrait dont il a besoin.  Bien que cela complique l'infrastructure du syst√®me de conception, cela donne un degr√© de libert√© suppl√©mentaire, nous laissant l'opportunit√© de g√©rer nous-m√™mes la ¬´dissemblance¬ª visuelle des plates-formes, et de ne pas √™tre les otages de l'architecture que nous avons cr√©√©e. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sp/kv/lq/spkvlqlhtbncrtsof8ymcj8ejeq.png"></div><br><h2>  <font color="#fd004c">Pictogrammes</font> </h2><br>  L'iconographie dans un produit num√©rique est toujours un sous-projet volumineux et pas le plus facile, ayant souvent un concepteur distinct.  Il y a toujours de nombreux glyphes, chacun d'eux a plusieurs tailles et couleurs, de plus, les plates-formes en ont besoin, en r√®gle g√©n√©rale dans diff√©rents formats.  En g√©n√©ral, il n'y avait aucune raison de ne pas int√©grer tout cela dans le syst√®me de conception. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yi/jy/ho/yijyho-f2jr1eyv3brxuw9qve38.png"></div><br>  Les glyphes sont charg√©s au format SVG vectoriel et les valeurs de couleur sont automatiquement remplac√©es par des variables.  Les applications clientes peuvent les pr√©parer √† l'emploi - dans n'importe quel format et couleur. <br><br><h2>  <font color="#fd004c">Aper√ßu</font> </h2><br>  En plus de JSON avec les donn√©es, nous avons √©crit un outil pour pr√©visualiser les composants - une application JS qui transmet les donn√©es JSON via ses g√©n√©rateurs de balisage et de style √† la vol√©e et affiche diverses variations de chaque composant dans le navigateur.  En fait, l'aper√ßu est exactement le m√™me client que les applications de la plate-forme et fonctionne avec les m√™mes donn√©es. <br><br>  Il est plus facile de comprendre le fonctionnement d'un composant particulier en interagissant avec lui.  Par cons√©quent, nous n'avons pas utilis√© d'outils comme le Storybook, mais avons fait un aper√ßu interactif - vous pouvez toucher, survoler, cliquer ... Lorsque vous ajoutez un nouveau composant au syst√®me de conception, il appara√Æt dans l'aper√ßu afin que les plateformes aient quelque chose √† se concentrer lors de son introduction. <br><br><h2>  <font color="#fd004c">La documentation</font> </h2><br>  Sur la base des donn√©es fournies sous forme de JSON aux plates-formes, la documentation des composants est g√©n√©r√©e automatiquement.  La liste des propri√©t√©s et les types de valeurs possibles dans chacun d'eux sont d√©crits.  Apr√®s la g√©n√©ration automatique, les informations peuvent √™tre clarifi√©es manuellement, ajoutez une description textuelle.  L'aper√ßu et la documentation sont fournis avec des r√©f√©rences crois√©es au niveau de chaque composant, et toutes les informations contenues dans la documentation sont disponibles pour les d√©veloppeurs sous la forme de fichiers JSON suppl√©mentaires. <br><br><h2>  <font color="#fd004c">Deprecator</font> </h2><br>  Un autre besoin √©tait la possibilit√© de remplacer et de mettre √† niveau les composants existants au fil du temps.  Le syst√®me de conception a appris √† dire aux d√©veloppeurs quelles propri√©t√©s ou m√™me des composants entiers ne peuvent pas √™tre utilis√©s et √† les supprimer d√®s qu'ils ne sont plus utilis√©s sur toutes les plateformes.  Il y a encore beaucoup de travail ¬´manuel¬ª dans ce processus, mais nous ne nous arr√™tons pas. <br><br><h2>  <font color="#fd004c">D√©veloppement client</font> </h2><br>  Sans aucun doute, l'interpr√©tation des donn√©es du syst√®me de conception dans le code de toutes les plates-formes prises en charge par nous est devenue l'√©tape de complexit√© la plus √©tendue.  Si, par exemple, les grilles modulaires sur le Web ne sont pas nouvelles, les d√©veloppeurs d'applications mobiles natives pour iOS et Android ont transpir√© assez fort avant de comprendre comment vivre avec. <br><br>  Pour la disposition des √©crans d'application iOS, nous utilisons deux m√©canismes de base fournis par iviUIKit: la disposition gratuite des √©l√©ments et la disposition des collections d'√©l√©ments.  Nous utilisons VIPER, et toutes les interactions avec iviUIKit sont concentr√©es dans View, et la majorit√© des interactions avec Apple UIKit sont concentr√©es dans iviUIKit.  Les tailles et la disposition des √©l√©ments sont sp√©cifi√©es en termes de colonnes et de constructions syntaxiques fonctionnant au-dessus des constantes natives du SDK iOS, les rendant plus appliqu√©es.  Cela nous a particuli√®rement simplifi√© la vie lorsque nous travaillons avec UICollectionView.  Nous avons √©crit quelques mises en page personnalisables pour les mises en page, y compris celles assez complexes.  Le code client s'est av√©r√© minimum et il est devenu d√©claratif. <br><br>  Pour g√©n√©rer des styles dans le projet Android, nous utilisons Gradle, transformant les donn√©es du syst√®me de conception en styles au format XML.  Dans le m√™me temps, nous avons plusieurs g√©n√©rateurs de diff√©rents niveaux: <br><br><ul><li>  <b>Basique</b> .  Analyse des donn√©es des primitives pour les g√©n√©rateurs de niveau sup√©rieur. </li><li>  <b>Ressource</b> .  T√©l√©chargez des photos, des ic√¥nes et d'autres graphiques. </li><li>  <b>Composant</b>  Ils sont √©crits pour chaque composant, qui d√©crit quelles propri√©t√©s et comment les traduire en styles. </li></ul><br><h2>  <font color="#fd004c">Versions d'application</font> </h2><br>  Une fois que les concepteurs ont dessin√© un nouveau composant ou retravaill√© un composant existant, ces modifications entrent dans le syst√®me de conception.  Les d√©veloppeurs de chaque plate-forme finalisent la g√©n√©ration de leur code, prenant en charge les modifications.  Apr√®s cela, il peut √™tre utilis√© dans la mise en ≈ìuvre de nouvelles fonctionnalit√©s, lorsque ce composant est n√©cessaire.  Ainsi, l'interaction avec le syst√®me de conception ne se produit pas en temps r√©el, mais uniquement au moment de l'assemblage des nouvelles versions.  Cette approche vous permet √©galement de mieux contr√¥ler le processus de transfert de donn√©es et garantit la performance du code dans les projets de d√©veloppement client. <br><br><h2>  <font color="#fd004c">R√©sum√©</font> </h2><br>  Bient√¥t, en tant que syst√®me de conception, une ann√©e est devenue une partie de l'infrastructure servant au d√©veloppement du cin√©ma en ligne Ivy, et certaines conclusions peuvent d√©j√† √™tre tir√©es: <br><br><ul><li>  Il s'agit d'un projet vaste et difficile √† mettre en ≈ìuvre, n√©cessitant des ressources allou√©es constantes. </li><li>  Cela nous a permis de cr√©er notre propre langage visuel multiplateforme unique qui r√©pond aux objectifs du service vid√©o en ligne. </li><li>  Nous n'avons plus de plates-formes visuellement et fonctionnellement en retard. </li></ul><br>  Aper√ßu des composants du syst√®me de conception Ivy - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">design.ivi.ru</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr456854/">https://habr.com/ru/post/fr456854/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr456844/index.html">Strat√©gie de d√©guisement: analyse du jeu sur les informations classifi√©es</a></li>
<li><a href="../fr456846/index.html">S√©minaire ¬´Gestion de la vuln√©rabilit√©: normes, r√©alit√©, outils¬ª, 4 juillet, Moscou</a></li>
<li><a href="../fr456848/index.html">Quel type de musique √©tait ¬´c√¢bl√©¬ª dans le syst√®me d'exploitation populaire</a></li>
<li><a href="../fr456850/index.html">¬´Yeux de chiot¬ª: 30 000 ans de co-√©volution chien et humain</a></li>
<li><a href="../fr456852/index.html">Simplifiez le dessin des drapeaux Enum dans Unity</a></li>
<li><a href="../fr456856/index.html">Comment choisir le meilleur endroit pour ouvrir une succursale et visualiser les r√©sultats sur les cartes</a></li>
<li><a href="../fr456858/index.html">Ansible: mises √† jour des solutions cl√©s pour automatiser votre monde</a></li>
<li><a href="../fr456860/index.html">Commutateurs Insight Extreme Networks Ou pourquoi sur les commutateurs une machine virtuelle</a></li>
<li><a href="../fr456862/index.html">Ce que j'ai appris de mon am√®re exp√©rience (plus de 30 ans dans le d√©veloppement de logiciels)</a></li>
<li><a href="../fr456866/index.html">Quand ils fabriqueront des ¬´cheburnet¬ª √† partir d'Internet: aper√ßu du projet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>