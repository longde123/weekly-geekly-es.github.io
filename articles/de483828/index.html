<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë≥üèø üçü üë≤ Glanz und Armut Atomtausch ‚òùüèæ üë®üèæ‚Äç‚öïÔ∏è üìµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Warum Atomswaps schlecht sind und wie die Kan√§le ihnen helfen, was in der harten Gabel von Konstantinopel passiert ist und was zu tun ist, wenn f√ºr Be...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Glanz und Armut Atomtausch</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483828/">  Warum Atomswaps schlecht sind und wie die Kan√§le ihnen helfen, was in der harten Gabel von Konstantinopel passiert ist und was zu tun ist, wenn f√ºr Benzin nichts zu bezahlen ist. <br><br>  Die Hauptmotivation eines Sicherheitsexperten ist der Wunsch, Verantwortung zu vermeiden. <br><br>  Die Vorsehung war gn√§dig, ich verlie√ü das ICO und wartete nicht auf die erste irreversible Transaktion, sondern befand mich bald hinter der Entwicklung eines Kryptow√§hrungsaustauschs. <br><a name="habracut"></a><br>  Ich bin definitiv kein Malchish Kibalchish, und ein strenger Blick gen√ºgt mir, um alle Schl√ºssel und Passw√∂rter zu √ºbergeben.  Mein Hauptziel als Architekt war es daher, den gl√ºhenden Stich der Kryptoanalyse so weit wie m√∂glich von den f√ºr mich wichtigen Infrastrukturelementen zu entfernen. <br><br><h2>  Nicht deine Schl√ºssel, nicht deine Probleme </h2><br>  Wir bauen ein System f√ºr den Austausch von Verm√∂genswerten auf und m√∂chten die Zwischenlagerung dieser Verm√∂genswerte zu Hause ausschlie√üen, m√ºssen jedoch die Sicherheit der Transaktion gew√§hrleisten. <br><br>  Sie k√∂nnen in einer kontroversen Situation als Richter auftreten und Transaktionen mit Brieftaschen durchf√ºhren, f√ºr die zwei der drei Unterschriften erforderlich sind: K√§ufer, Verk√§ufer und Treuh√§nder. <br><br>  Wenn ein Teilnehmer jedoch eine √úbertragungsurkunde erfolgreich angreift, erh√§lt er die erforderlichen zwei Signaturen. <br><br>  Atomic Swap ist ein Tauschprogramm, bei dem ein intelligenter Vertrag als Garant fungiert und nur ehrliches Verhalten zul√§sst. <br><br>  Wie in einem R√§tsel um Wolfsziege und Kohl kann man nur nach dem einzig richtigen Szenario handeln und Verluste erleiden, wenn man davon zur√ºcktritt. <br><br>  Nur anstelle von gefr√§√üigen Tieren bietet die Reihenfolge eine Hash-Funktion, bei der es so schwierig ist, eine Kollision zu finden, dass es sich nicht lohnt, damit zu beginnen. <br><br><h4>  Erster Schritt: Das R√§tsel </h4><br>  Angenommen, Alice m√∂chte Bob an einem sch√∂nen Morgen Bitcoin f√ºr eine Handvoll ‚ÄûKrypto-Yuan‚Äú geben. <br><br><ul><li>  Sie macht ein gro√ües Geheimnis </li><li>  Erh√§lt einen Hash davon </li><li>  Er √ºbertr√§gt Bitcoins in einen intelligenten Vertrag, von dem Bob Geld durch Vorlage eines Geheimnisses abheben kann (der Hash muss dem im Vertrag angegebenen entsprechen). </li><li>  F√ºr den Fall, dass Bob abends nicht bei seinen Bitcoins ist, kann Alice sie wieder f√ºr sich selbst ausw√§hlen. </li></ul><br><h4>  Zweiter Schritt: K√∂der </h4><br>  Bob betritt das Spiel und √ºbertr√§gt "cryptoeuro" auf seinen Vertrag, der so geschrieben ist, dass: <br><br><ul><li>  Alice kann Kryptom√ºnzen mit einer Geheimzahl aufheben </li><li>  Sp√§testens zum Mittagessen kann Bob die Kaution zur√ºckerstatten, falls Alice nicht erscheint <br></li></ul><br><h4>  Schritt drei: Die L√∂sung im K√∂der </h4><br>  Alice kommt f√ºr ihr Geld und nimmt das Geld von Bobs Vertrag, w√§hrend sie ihr Geheimnis preisgibt. <br><br><h4>  Der letzte Schritt: Das R√§tsel ist gel√∂st </h4><br>  Bob sieht die Transaktion und isoliert mit seinem Blick das Geheimnis, das Alice dem Vertrag verraten hat.  Mit diesem Geheimnis sammelt er seine Bitcoins. <br><br><h3>  Wenn etwas schief geht </h3><br>  Wenn sich Alice pl√∂tzlich als sterblich herausstellt, nimmt Bob seinen Yuan zum Mittagessen. <br><br>  Am Abend gibt Alice ihrerseits Bitcoin zur√ºck, wenn der verr√§terische Bob beschlie√üt, das Geld bis zu besseren Zeiten aufzubewahren. <br><br>  Wenn Sie einem Text ein Bild vorziehen, gibt es auf Habr√© eine detailliertere und klarere <a href="https://habr.com/en/post/458646/">Erkl√§rung f√ºr die Arbeit von Atomtauschern</a> . <br><br>  Die Differenz zwischen Timeouts soll uns vor der b√∂swilligen Alice sch√ºtzen, die im allerletzten Moment Bobs Geld nimmt, und die Timeout-Zeit l√§uft ab, w√§hrend er mit zitternden Fingern das Hex in die Transaktion treibt. <br><br>  Teilnehmer k√∂nnen ihr Geld nicht verlieren, der H√∂chstbetrag muss auf eine R√ºckerstattung warten. <br><br><div class="spoiler">  <b class="spoiler_title">Blockchain-Unterst√ºtzung</b> <div class="spoiler_text">  Dies ist ein einfaches Schema wie Filzstiefel, das nichts von den interagierenden Blockchains erfordert: <br><br><ul><li>  Unterst√ºtzung f√ºr intelligente Vertr√§ge mit mindestens einer Niederlassung </li><li>  Beide Blockchains m√ºssen die gleichen Hashing-Algorithmen unterst√ºtzen (nicht vergessen, die L√§nge des Geheimnisses zu √ºberpr√ºfen) </li><li>  Zeitschl√∂sser. </li></ul><br></div></div><br>  Auf den ersten Blick kann man zum Austausch schon sagen, "Auf Wiedersehen, unser Treffen war ein Fehler", aber es war nicht da. <br><br>  Atomic-Swap-L√∂sungen sind trotz aller Vorz√ºge nicht liquidit√§tswirksam.  Vor allem, weil im beliebtesten Paar von BTC-USD der Fiat-Teil nicht vollst√§ndig gekennzeichnet war. <br>  Der Erfolg von USDT hat zu einer Welle stabiler M√ºnzen im ERC20-Format f√ºr jeden Geschmack gef√ºhrt, vom USDC f√ºr die Verwahrung bis zum algorithmischsten DAI. <br><br>  Der Einfachheit halber argumentieren wir weiterhin, dass Alice Bobcoins f√ºr einige ERC20-Token an Bob verkauft, und wir hoffen auf den Erfolg der Stabilisatoren, da wir viel mehr technische Probleme haben. <br><br><h3>  Geschwindigkeit </h3><br>  Bitcoin und Ethereum alleine sind nicht zu schnell, aber hier m√ºssen wir erst auf eine Einzahlung mit allen Best√§tigungen warten, dann auf die zweite. <br><br>  Dies ist alles, weil der Teilnehmer, der das Geheimnis zuerst kennt, das Geld verdient und der Gegner auf das Finale wartet und erst dann seinen Teil √ºbertr√§gt. <br><br>  Dar√ºber hinaus haben wir es mit einem sehr volatilen Verm√∂genswert zu tun, sodass sich der Kurs in dieser Zeit erheblich √§ndern kann und es nicht einfach ist, die Bedingungen zu √§ndern. <br><br><h3>  Vertraulichkeit </h3><br>  Jeder Austausch hinterl√§sst Artefakte auf beiden Blockketten.  Ein aufmerksamer Beobachter kann die gleichen Hashes in intelligenten Vertr√§gen feststellen und daraus logisch schlie√üen, dass hier ein Gesch√§ft abgeschlossen wurde, aus dem viele Schlussfolgerungen vom Wechselkurs zur Steuer gezogen werden k√∂nnen. <br><br>  Wenn der Austausch √ºber Ihre Angelegenheiten Bescheid wei√ü - das ist √§u√üerst unangenehm, wenn jeder davon wei√ü - ist es doppelt unangenehm. <br><br><h3>  Benutzerfreundlichkeit </h3><br>  Das Blockchain-Pferd im Allgemeinen und der √Ñther im Besonderen.  Mal sehen, welche K√∂rperbewegungen der Verk√§ufer und der K√§ufer machen m√ºssen. <br><br>  Aus Sicht des Verk√§ufers ist alles relativ einfach: Sie m√ºssen nur Bitcoin an eine p2sh-Adresse √ºbertragen.  Mit √Ñther ist alles viel schwieriger. <br><br><div class="spoiler">  <b class="spoiler_title">Der Vertrag</b> <div class="spoiler_text">  Betrachten Sie einen durchschnittlichen Gigab-Swap-Kontrakt: <br><br><pre><code class="plaintext hljs">contract iERC20 { function totalSupply() public view returns (uint256); function transfer(address receiver, uint numTokens) public returns (bool); function balanceOf(address tokenOwner) public view returns (uint); function approve(address delegate, uint numTokens) public returns (bool); function allowance(address owner, address delegate) public view returns (uint); function transferFrom(address owner, address buyer, uint numTokens) public returns (bool); } contract Swapper { struct Swap { iERC20 token; bytes32 hash; uint amount; uint refundTime; bytes32 secret; } mapping (address =&gt; mapping(address =&gt; Swap)) swaps; function create(iERC20 token, bytes32 hash, address receiver, uint amount, uint refundTime) public { require(swaps[msg.sender][receiver].amount == 0); // check is swap with given hash already exists require(token.transferFrom(msg.sender, address(this), amount)); // transfer locked tokens to swap contract swaps[msg.sender][receiver] = Swap(token, hash, amount, refundTime, 0x00); //create swap } function hashOf(bytes32 secret) public pure returns(bytes32) { return sha256(abi.encodePacked(secret)); } function withdraw(address owner, bytes32 secret) public { Swap memory swap = swaps[owner][msg.sender]; require(swap.secret == bytes32(0)); require(swap.hash == sha256(abi.encodePacked(secret))); // swap exists swaps[owner][msg.sender].secret = secret; swap.token.transfer(msg.sender, swap.amount); } function refund(address receiver) public { Swap memory swap = swaps[msg.sender][receiver]; require(now &gt; swap.refundTime); delete swaps[msg.sender][receiver]; swap.token.transfer(msg.sender, swap.amount); } }</code> </pre> <br>  <b>Achtung!</b>  Verwenden Sie diesen und andere Vertr√§ge aus einem Produktionsartikel nicht, sie werden ausschlie√ülich zu Demonstrationszwecken geschrieben.  <b>Besonders dieser</b> . <br></div></div><br><ul><li>  Bob muss die <code>approve</code> f√ºr den Token-Vertrag aufrufen und dem Swap-Vertrag Zugriff auf seine Token gew√§hren <br></li><li>  Bob erstellt einen Swap und ein Vertrag mit der <code>transferFrom</code> Methode nimmt Absendertoken an seine Adresse <br></li><li>  Alice im <code>withdraw</code> deckt ein Geheimnis auf und der Vertrag ruft die <code>transfer</code> <br></li></ul><br>  Die meisten Brieftaschen und <code>approve</code> unterst√ºtzen aus gutem Grund keine <code>approve</code> Token. <br><br>  Benutzer selbst irren sich oft und √ºbertragen Token einfach in den Vertrag. Danach gehen die Token einfach verloren.  Kommentare zu Etherscan sind voll von klagenden Elenden. <br><br>  Und um einen Vertrag zu k√ºndigen, muss an der ETH eine Provision gezahlt werden. Beide Teilnehmer m√ºssen sich also vor Beginn der Transaktion mit ihnen eindecken, und das wollen nur wenige. <br><br><h3>  Gasbeh√§lter </h3><br>  Zun√§chst lohnt es sich, den Scheck des Absenders zu entfernen, wo immer dies m√∂glich ist, und vorauszusetzen, dass jemand unter √ºbersch√ºssigem Benzin leidet und Vertr√§ge f√ºr alle zustande bringt. <br><br><div class="spoiler">  <b class="spoiler_title">Verbesserter Vertrag</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">contract Swapper { struct Swap { iERC20 token; address receiver; uint amount; address refundAddress; uint refundTime; } mapping (bytes32 =&gt; Swap) swaps; function create(iERC20 token, bytes32 hash, address receiver, uint amount, address refundAddress, uint refundTime) public { require(swaps[hash].amount == 0); // use hash once require(token.transferFrom(msg.sender, address(this), amount)); swaps[hash] = Swap(token, receiver, amount, refundAddress, refundTime); } function withdraw(bytes memory secret) public { bytes32 hash = sha256(secret); Swap memory swap = swaps[hash]; require(swap.amount &gt; 0); delete swaps[hash]; swap.token.transfer(swap.receiver, swap.amount); } function refund(bytes32 hash) public { Swap memory swap = swaps[hash]; require(now &gt; swap.refundTime); delete swaps[hash]; swap.token.transfer(swap.refundAddress, swap.amount); } }</code> </pre><br></div></div><br><h3>  Contract-Key Dualism und EIP 712 </h3><br>  Wie wir wissen, kann die Adresse in der Luft ein Vertrag sein, oder es kann ein Thema sein, mit anderen Worten, ein Schl√ºssel. <br>  Die Hauptbesch√§ftigung des Schl√ºssels ist das Signieren von Nachrichten. <br><br>  Wir k√∂nnen den Bob-Vertrag als Absender verwenden, der alle erforderlichen Ausweise vornimmt, bevor die Signatur des Bob-Schl√ºssels √ºberpr√ºft wird. <br><br>  Jetzt kann jeder die Provision eines Mitglieds sponsern, aber nur derjenige, der den Schl√ºssel kennt, trifft die Entscheidung. <br><br><div class="spoiler">  <b class="spoiler_title">Bob Vertrag</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">library EIP712ProxyLibrary { function hashCommand(address sender, iERC20 token, Swapper swapper, bytes32 hash, address receiver, uint amount, address refundAddress, uint refundTime) public view returns(bytes32); } contract ProxyBob { address owner; constructor(address _owner) public { owner = _owner; } function createSwap(Swapper swapper, iERC20 token, bytes32 hash, address receiver, uint amount, address refundAddress, uint refundTime, uint8 v, bytes32 r, bytes32 s) public { require(owner == ecrecover(EIP712ProxyLibrary.hashCommand(address(this), token, swapper, hash, receiver, amount, refundAddress, refundTime), v, r, s)); token.approve(address(swapper), amount); swapper.create(token, hash, receiver, amount, refundAddress, refundTime); } }</code> </pre><br></div></div><br>  Ethereum verf√ºgt √ºber einen <a href="" rel="nofollow">EIP 712-</a> Standard f√ºr die Arbeit mit Signaturen komplexer Datenstrukturen. Weitere <a href="https://medium.com/metamask/eip712-is-coming-what-to-expect-and-how-to-use-it-bb92fd1a7a26" rel="nofollow">Informationen finden</a> Sie im <a href="https://medium.com/metamask/eip712-is-coming-what-to-expect-and-how-to-use-it-bb92fd1a7a26" rel="nofollow">Metamask-Wallet-Blog.</a> <br><br><h3>  Teilen und erobern </h3><br>  H√§ufig sieht das Szenario, einen Ethereum-Vertrag zu hacken, so aus: <br><br><ul><li>  Der Teilnehmer zahlt Geld auf den Vertrag </li><li>  Dann nimmt das Geld </li><li>  Irgendwas l√§uft schief </li><li>  Ein Angreifer nimmt immer wieder Geld </li></ul><br>  Wenn wir zu unserem ersten Beispiel zur√ºckkehren, geht etwas schief, wenn das R√§tsel eine leere Byte-Menge ist. <br><br><div class="spoiler">  <b class="spoiler_title">Wie man eine Million stiehlt</b> <div class="spoiler_text">  Erstellen Sie einen Swap mit einem Hash <code>0x66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925</code> <br>  Dies ist sha256 von <code>0x0000000000000000000000000000000000000000000000000000000000000000</code> <br>  Wir geben das Geheimnis weiter und sammeln unsere Token <br>  Wir passieren es noch einmal und nehmen die Fremden, alle weil 0 = 0 <br></div></div><br>  Durch das Erstellen eines separaten Vertrags f√ºr jede Transaktion k√∂nnen wir Vertr√§ge auf EVM-Ebene isolieren. <br><br>  Das ist aber noch nicht alles: Jetzt hat jede Transaktion ihre eigene Adresse, an die Sie Token von jedem Geldbeutel oder Geldwechsel senden k√∂nnen. <br><br><h2>  Verlassene Vertr√§ge und create2 </h2><br>  Aber jetzt m√ºssen wir f√ºr jede Transaktion einen Vertrag abschlie√üen und warten, bis der K√§ufer die Arbeit ‚Äûcryptofening‚Äú dorthin transferiert.  Im Schema ‚ÄûMorgenvertr√§ge, Abendgeld‚Äú besteht immer die Gefahr, dass der K√§ufer abf√§llt und der √Ñther bereits f√ºr die Vertragserstellung aufgewendet wurde. <br><br>  Kann man morgens Geld und abends Bytes verdienen? <br><br>  In der Hard Fork von Konstantinopel haben die <a href="https://eips.ethereum.org/EIPS/eip-1014" rel="nofollow">EIP 1014-</a> Entwickler eine Anweisung create2 hinzugef√ºgt, mit der ein neuer Vertrag an einer deterministischen Adresse erstellt wird <br><br><pre> <code class="plaintext hljs">keccak256( 0xff ++ address ++ salt ++ keccak256(init_code))[12:]</code> </pre><br>  Wo <br><br><ul><li>  Adresse - Fabrikvertragsadresse </li><li>  Salz - eine Zahl, deren Bedeutung wir in der n√§chsten Reihe erfahren werden </li><li>  init_code - Vertragsbytecode und Konstruktorparameter. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Die Fabrik</b> <div class="spoiler_text">  Die Anleitung funktioniert nur durch Montage, daher sieht die Fabrik ein bisschen einsch√ºchternd aus: <br><br><pre> <code class="plaintext hljs">contract Factory { event Deployed(address addr, uint256 salt); function create2(bytes memory code, uint256 salt) public { address addr; assembly { addr := create2(0, add(code, 0x20), mload(code), salt) } emit Deployed(addr, salt); } }</code> </pre><br>  Ihren Vertragscode erhalten Sie √ºber web3: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MyContract = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> web3.eth.Contract(ABI, {}) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ode = MyContract.deploy({ <span class="hljs-attr"><span class="hljs-attr">data</span></span>: BYTECODE, <span class="hljs-attr"><span class="hljs-attr">arguments</span></span>: contructorArgs }).encodeABI(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> factory = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> web3.eth.Contract(FACTORY_ABI, factoryAddress); tx = factory.methods.create2(ode, salt);</code> </pre><br>  Aufgrund der eingeschr√§nkten Solidit√§t kann es sein, dass das Gas f√ºr den Vertrag aufgrund einiger Feinheiten des √Ñthers nicht korrekt berechnet wird. <br><br>  Besonders sch√∂n ist, dass im Falle eines Gasmangels der Vertrag mit einem internen Fehler abf√§llt, ohne darauf hinzuweisen, dass erwartungsgem√§√ü nicht genug Gas vorhanden ist. <br></div></div><br>  Jetzt k√∂nnen wir Tokens auf Vertr√§ge √ºbertragen, ohne sie im Voraus zu erstellen, und bis wir sie im Netzwerk ver√∂ffentlichen, ahnt niemand, was genau der Vertrag bewirkt. <br><br><h3>  Der Rabe pickt die Kr√§he nicht aus </h3><br>  Es ist klar, dass die Tricks eines solchen Kindes einen echten Analytiker nicht aufhalten werden, insbesondere einen, der gute Investitionen in die Bek√§mpfung der <s>Feinde des</s> Geldw√§scheregimes erhalten hat, und nach Abschluss des Vertrags wird er immer noch einen Haschisch sehen. <br><br>  Wie kann man sicherstellen, dass der Hash nicht aufleuchtet? <br><br>  Wir √ºbertragen den Swap selbst an die Kette: Die Teilnehmer tauschen ihre Unterschriften aus, um sie auf einen Swap-Vertrag zu √ºbertragen, und dann wird das Geheimnis privat gel√ºftet. <br><br><div class="spoiler">  <b class="spoiler_title">Schritt f√ºr Schritt</b> <div class="spoiler_text">  Es werden zwei "Multisig" erstellt, von denen Sie Geld abheben k√∂nnen, wenn Sie die Unterschriften von Alice und Bob haben. <br><br>  Damit einer der Teilnehmer nicht zur Trag√∂die wurde, f√ºgen wir die gute alte Auszeit hinzu. <br><br>  Alice und Bob t√§tigen parallel Einzahlungen <br><br><ul><li>  Alice macht ein Geheimnis und gibt Bob den Hash des Geheimnisses und die Signatur der Transaktion, die die Bitcoins an die Swap-Adresse √ºbertr√§gt </li><li>  Bob gibt Alice eine Unterschrift √ºber die Entnahme von Token f√ºr einen Swap-Vertrag mit einem versteckten Hash. </li><li>  Alice erz√§hlt Bob das Geheimnis. </li></ul><br></div></div><br>  In diesem Moment entsteht Harmonie: Sowohl Alice als auch Bob k√∂nnen den Deal jederzeit abschlie√üen.  In einer so freundlichen Umgebung k√∂nnen sie Unterschriften austauschen, um Geld an ihre endg√ºltige Adresse abzuheben. <br><br>  F√ºr einen externen Beobachter sieht es so aus, als ob das Geld einen Vertrag mit einer Mehrfachunterschrift 2 von 2 durchlaufen hat. <br><br>  Und auch ein solches Schema erm√∂glicht es beiden Parteien, gleichzeitig eine Einzahlung zu t√§tigen, da das Geheimnis nach allen Best√§tigungen bereits erfunden ist. <br><br><h2>  Stufe 2 </h2><br>  Da wir Geld an eine Adresse abheben k√∂nnen und keine Zwischentransaktion ver√∂ffentlichen, hindert uns nichts daran, Geld an mehrere Adressen abzuheben und eine unbegrenzte Anzahl von Zwischentransaktionen durchzuf√ºhren.  Nicht, dass dies ein notwendiges Set f√ºr einen Tausch gewesen w√§re, aber wenn Sie mit dem Sammeln eines Swaps begonnen haben, ist es schwer aufzuh√∂ren. <br><br>  Jetzt k√∂nnen sich Alice und Bob mit aller Kraft umdrehen.  Berechnen Sie zum Beispiel automatisch den Durchschnittspreis, indem Sie Satoshi pro Sekunde tauschen, oder verbinden Sie einfach den Market Maker und den Liquidit√§tsempf√§nger direkt. <br><br><div class="spoiler">  <b class="spoiler_title">Schritt f√ºr Schritt</b> <div class="spoiler_text"><ul><li>  Der Verk√§ufer macht ein Geheimnis und gibt dem K√§ufer einen Hash der Geheim- und Transaktionsunterschrift, wobei ein Teil des Geldes an die p2sh-Swap-Adresse √ºberwiesen wird und der Rest an die Adresse des Verk√§ufers zur√ºckgeschickt wird <br></li><li>  Der K√§ufer √ºbermittelt eine Unterschrift, mit der er die Token f√ºr den Tausch und die Lieferung an die Adresse des Empf√§ngers abheben kann. <br></li><li>  Der Verk√§ufer verr√§t ein Geheimnis </li><li>  Die Geschichte wird mit einem neuen Geheimnis wiederholt, w√§hrend dem Tausch und der √úbergabe die Ausgabe hinzugef√ºgt wird, die zuvor an die Adresse des K√§ufers gekauft und bereits an die Adresse des Verk√§ufers bezahlt wurde </li></ul><br></div></div><br>  Jetzt haben wir Zugang zum Hochgeschwindigkeits-P2P-Handel. Die Hauptsache ist, die Zeit zu √ºberwachen und den Deal vor dem Timeout abzuschlie√üen. <br><br>  Wenn wir jedoch unsere Vertr√§ge leicht angepasst haben, k√∂nnen wir unseren Kan√§len Unsterblichkeit verleihen, was die Schaffung eines Netzwerks f√ºr uns erheblich vereinfacht. <br><br>  Aber dar√ºber werden wir in der n√§chsten Serie sprechen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de483828/">https://habr.com/ru/post/de483828/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de483818/index.html">Engine, Skriptsprache und visueller Roman - in 45 Stunden</a></li>
<li><a href="../de483820/index.html">Was beeinflusst die Kreditvergabe? Home Credit Default Risk Wettbewerbs√ºbersicht</a></li>
<li><a href="../de483822/index.html">5 JavaScript-Funktionen, ohne die ich keinen Code schreiben k√∂nnte</a></li>
<li><a href="../de483824/index.html">Wie Sie die Arbeit Ihrer Tr√§ume erreichen, positiv denken und vorankommen, nachdem Sie meine f√ºnf Regeln studiert haben ...</a></li>
<li><a href="../de483826/index.html">Anschlie√üen eines CO2-Sensors Modell MH-Z19B √ºber den analogen Vo-Ausgang</a></li>
<li><a href="../de483830/index.html">Routing f√ºr iOS: Universelle Navigation ohne Umschreiben der Anwendung</a></li>
<li><a href="../de483832/index.html">RxJava nach Coroutines: End-to-End-Feature-Migration</a></li>
<li><a href="../de483834/index.html">Debian: einfach i386 in amd64 verwandeln</a></li>
<li><a href="../de483842/index.html">Die Entstehungsgeschichte einer Home Cloud. Teil 5. Aktualisierung 2019 - PHP 7.2, MariaDB 10.4 und Nextcloud 17</a></li>
<li><a href="../de483844/index.html">Analyse von Regulierungsdokumenten zum Informationsschutz im russischen Kredit- und Finanzsektor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>