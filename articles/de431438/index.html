<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖐🏿 👆🏼 ✊ Julia. Strings und Metaprogrammierung ❤️ 🙆🏾 🕢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir lernen weiterhin die junge und vielversprechende Allzwecksprache Julia . Dieses Mal werden wir den Linien mehr Aufmerksamkeit schenken, schüchtern...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Julia. Strings und Metaprogrammierung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431438/"><p><img src="https://habrastorage.org/webt/6l/xj/yu/6lxjyun5cnvtfoa8m0tq1sdktf4.png"></p><br><p>  Wir lernen weiterhin die junge und vielversprechende Allzwecksprache <strong>Julia</strong> .  Dieses Mal werden wir den Linien mehr Aufmerksamkeit schenken, schüchterne Schritte in die Welt der Metaprogrammierung beginnen und dem Interpreten beibringen, symbolische Operationen durchzuführen (es gibt nur zwei Bilder unter dem Schnitt, aber viel syntaktischen Zucker). </p><a name="habracut"></a><br><h3 id="stroki">  Linien </h3><br><p> Zeichenfolgenvariablen werden erstellt, indem Zeichen in doppelte Anführungszeichen gesetzt werden. Einfache Zeichen werden auf einfache Zeichen vom Typ <em>char gesetzt</em> .  Die Verkettung von Zeichenfolgen erfolgt mit der Multiplikation "*": </p><br><pre><code class="cpp hljs">cats = <span class="hljs-number"><span class="hljs-number">4</span></span> s1 = <span class="hljs-string"><span class="hljs-string">"How many cats "</span></span>; s2 = <span class="hljs-string"><span class="hljs-string">"is too many cats?"</span></span>; s3 = s1*s2 Out[]: <span class="hljs-string"><span class="hljs-string">"How many cats is too many cats?"</span></span></code> </pre> <br><p>  Das heißt, Potenzierung wirkt wie folgt: </p><br><pre> <code class="cpp hljs">s1^<span class="hljs-number"><span class="hljs-number">3</span></span> Out[]: <span class="hljs-string"><span class="hljs-string">"How many cats How many cats How many cats "</span></span></code> </pre> <br><p>  Auf der anderen Seite werden Zeilen indiziert: </p><br><pre> <code class="cpp hljs">s1[<span class="hljs-number"><span class="hljs-number">3</span></span>] Out[]: <span class="hljs-string"><span class="hljs-string">'w'</span></span>: ASCII/Unicode U+<span class="hljs-number"><span class="hljs-number">0077</span></span> (category Ll: Letter, lowercase) s1[<span class="hljs-number"><span class="hljs-number">5</span></span>:<span class="hljs-number"><span class="hljs-number">13</span></span>] Out[]: <span class="hljs-string"><span class="hljs-string">"many cats"</span></span> s1[<span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">-1</span></span>:<span class="hljs-number"><span class="hljs-number">5</span></span>] Out[]: <span class="hljs-string"><span class="hljs-string">"stac ynam"</span></span> s2[end] Out[]: <span class="hljs-string"><span class="hljs-string">'?'</span></span>: ASCII/Unicode U+<span class="hljs-number"><span class="hljs-number">003f</span></span> (category Po: Punctuation, other)</code> </pre> <br><p>  Zeichenfolgen können aus Zeichenfolgen und anderen Typen erstellt werden: </p><br><pre> <code class="cpp hljs">s4 = <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>(s3, <span class="hljs-string"><span class="hljs-string">" - I don't know, but "</span></span>, cats, <span class="hljs-string"><span class="hljs-string">" is too few."</span></span>) #   s4 = <span class="hljs-string"><span class="hljs-string">"$s3 - I don't know, but $cats is too few."</span></span> Out[]: <span class="hljs-string"><span class="hljs-string">"How many cats is too many cats? - I don't know, but 4 is too few."</span></span></code> </pre> <br><p>  Es gibt viele <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nützliche Funktionen</a> im Arsenal, zum Beispiel die Suche nach einem Element: </p><br><pre> <code class="cpp hljs">findfirst( isequal(<span class="hljs-string"><span class="hljs-string">'o'</span></span>), s4 ) Out[]: <span class="hljs-number"><span class="hljs-number">4</span></span> findlast( isequal(<span class="hljs-string"><span class="hljs-string">'o'</span></span>), s4 ) Out[]: <span class="hljs-number"><span class="hljs-number">26</span></span> findnext( isequal(<span class="hljs-string"><span class="hljs-string">'o'</span></span>), s4, <span class="hljs-number"><span class="hljs-number">7</span></span> ) #      Out[]: <span class="hljs-number"><span class="hljs-number">11</span></span></code> </pre> <br><p>  Und so können Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Caesars Chiffre</a> einfach implementieren </p><br><pre> <code class="cpp hljs">caesar(X, n) = prod( [x += n <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x in X] ) str3 = <span class="hljs-string"><span class="hljs-string">"    "</span></span>; caesar(str3, <span class="hljs-number"><span class="hljs-number">3</span></span>) Out[]: <span class="hljs-string"><span class="hljs-string">"####"</span></span> str4 = caesar(str3, <span class="hljs-number"><span class="hljs-number">-32</span></span>) Out[]: <span class="hljs-string"><span class="hljs-string">"\0\0\0\0"</span></span> <span class="hljs-string"><span class="hljs-string">"Latin letters go before Cyrillic"</span></span> &lt; str4 &lt; str3 Out[]: <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br><p>  Hier wird ein Lauf über alle Zeichen der Zeichenfolge ausgeführt, wobei dem Code jedes Zeichens <em>n</em> hinzugefügt wird.  Es stellt sich ein Array von <em>Zeichenzeichen heraus</em> , die durch die Funktion <em>prod () zusammengeklebt</em> werden, wodurch die Multiplikation aller Elemente des empfangenen Arrays implementiert wird. </p><br><h3 id="simvolnye-vychisleniya">  Zeichenberechnung </h3><br><p>  <em>Julia hat</em> bereits Pakete mit unterschiedlicher Bereitschaft für symbolische Berechnungen, zum Beispiel: </p><br><ul><li>  <a href="">Sympy</a> </li><li>  <a href="">Symata</a> </li><li>  <a href="">Symengine</a> </li><li>  <a href="">Lineare Ausdrücke</a> </li></ul><br><p>  aber wir haben irgendwie gelernt, Strings zu kleben, warum nicht symbolische Aktionen mit Matrizen implementieren.  Angenommen, wir wollten zwei unterschiedliche Arrays hinzufügen: </p><br><pre> <code class="cpp hljs">m1 = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-string"><span class="hljs-string">"a"</span></span>; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] Out[]: <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> Array{Any,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> m3 = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-string"><span class="hljs-string">"ln(3)"</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>] Out[]: <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> Array{Any,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-string"><span class="hljs-string">"ln(3)"</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> m1+m3 Out[]: MethodError: no method matching +(::String, ::String) ...</code> </pre> <br><p>  Führen Sie zunächst Ihre verspielten Stifte in den grundlegenden Operatoren aus: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Base: *, -, +</code> </pre> <br><p>  Wenn in <em>C ++ eine</em> solche Verstümmelung als Operatorüberladung bezeichnet wurde, fügen wir hier einfach eine Methode für eine vorhandene Funktion hinzu. </p><br><pre> <code class="cpp hljs">+(a::String, b::String) = a * <span class="hljs-string"><span class="hljs-string">"+"</span></span> * b Out[]: + (generic function with <span class="hljs-number"><span class="hljs-number">164</span></span> methods)</code> </pre> <br><p>  Mehr als eineinhalbhundert Methoden, und hier ist eine andere, die bis zum Ende der Sitzung gültig sein wird. </p><br><pre> <code class="cpp hljs">m1+m3 Out[]: <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> Array{Any,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-string"><span class="hljs-string">"a+ln(3)"</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><p>  Subportieren Sie nun die Multiplikation, dh wir bestimmen den Fall des Multiplizierens eines Strings mit einer Zahl: </p><br><pre> <code class="cpp hljs">function *(a::String, b::Number) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> b == <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> b == <span class="hljs-number"><span class="hljs-number">1</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"$b"</span></span> * <span class="hljs-string"><span class="hljs-string">"*("</span></span> * a * <span class="hljs-string"><span class="hljs-string">")"</span></span> end end end Out[]: * (generic function with <span class="hljs-number"><span class="hljs-number">344</span></span> methods)</code> </pre> <br><p>  Das heißt, wenn die Zeichenfolge mit Null multipliziert wurde, erhalten wir Null, wenn mit Eins, erhalten wir dieselbe Zeichenfolge, und in anderen Fällen blenden wir die Zahl mit dem Zeichen "*" und der Zeichenfolge aus (wir haben Klammern hinzugefügt, damit keine Unsicherheiten mit den Zeichen bestehen).  Persönlich mag ich die einzeilige Ansicht der Funktion, die für den ternären Operator nützlich ist: </p><br><pre> <code class="cpp hljs">*(a::String, b::Number) = (b==<span class="hljs-number"><span class="hljs-number">0</span></span>) ? <span class="hljs-number"><span class="hljs-number">0</span></span> : (b==<span class="hljs-number"><span class="hljs-number">1</span></span>) ? a : <span class="hljs-string"><span class="hljs-string">"$b"</span></span> * <span class="hljs-string"><span class="hljs-string">"*("</span></span> * a * <span class="hljs-string"><span class="hljs-string">")"</span></span> Out[]:</code> </pre> <br><p>  Wir werden die verbleibenden Fälle ähnlichen Hinrichtungen aussetzen und so etwas wie Folgendes erhalten: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Base: *, -, + +(a::String, b::String) = a * <span class="hljs-string"><span class="hljs-string">"+"</span></span> * b *(a::String, b::String) = a * <span class="hljs-string"><span class="hljs-string">"*("</span></span> * b * <span class="hljs-string"><span class="hljs-string">")"</span></span> *(a::String, b::Number) = (b==<span class="hljs-number"><span class="hljs-number">0</span></span>) ? <span class="hljs-number"><span class="hljs-number">0</span></span> : (b==<span class="hljs-number"><span class="hljs-number">1</span></span>) ? a : <span class="hljs-string"><span class="hljs-string">"$b"</span></span> * <span class="hljs-string"><span class="hljs-string">"*("</span></span> * a * <span class="hljs-string"><span class="hljs-string">")"</span></span> *(b::Number, a::String) = (b==<span class="hljs-number"><span class="hljs-number">0</span></span>) ? <span class="hljs-number"><span class="hljs-number">0</span></span> : (b==<span class="hljs-number"><span class="hljs-number">1</span></span>) ? a : <span class="hljs-string"><span class="hljs-string">"$b"</span></span> * <span class="hljs-string"><span class="hljs-string">"*("</span></span> * a * <span class="hljs-string"><span class="hljs-string">")"</span></span> +(a::String, b::Number) = (b==<span class="hljs-number"><span class="hljs-number">0</span></span>) ? a : a * <span class="hljs-string"><span class="hljs-string">"+"</span></span> * <span class="hljs-string"><span class="hljs-string">"$b"</span></span> +(b::Number, a::String) = (b==<span class="hljs-number"><span class="hljs-number">0</span></span>) ? a : a * <span class="hljs-string"><span class="hljs-string">"+"</span></span> * <span class="hljs-string"><span class="hljs-string">"$b"</span></span> -(b::Number, a::String) = (b==<span class="hljs-number"><span class="hljs-number">0</span></span>) ? <span class="hljs-string"><span class="hljs-string">"-"</span></span> * a : <span class="hljs-string"><span class="hljs-string">"$b"</span></span> * <span class="hljs-string"><span class="hljs-string">"-"</span></span> * a -(a::String, b::Number) = (b==<span class="hljs-number"><span class="hljs-number">0</span></span>) ? a : a * <span class="hljs-string"><span class="hljs-string">"-"</span></span> * <span class="hljs-string"><span class="hljs-string">"$b"</span></span> # m1 = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-string"><span class="hljs-string">"a"</span></span>; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] m2 = [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-string"><span class="hljs-string">"b"</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>] m1*m2 Out[]: <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> Array{Any,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-string"><span class="hljs-string">"2*(a)+4"</span></span> <span class="hljs-string"><span class="hljs-string">"b+2*(a)"</span></span> <span class="hljs-string"><span class="hljs-string">"2*(a)+4"</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br><p>  Und berechnen wir die Determinante!  Da die eingebaute Funktion jedoch kompliziert ist, reichen unsere Methoden nicht aus, um eine Matrix mit Zeilen einzugeben - wir erhalten einen Fehler.  Es bedeutet, dass wir unsere eigenen mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Levi-Civita-Symbol aufschlagen</a> </p><br><pre> <code class="cpp hljs">ε = zeros(Int, <span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>) ε[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>] = ε[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>] = ε[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-number"><span class="hljs-number">1</span></span> ε[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>] = ε[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>] = ε[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>] = <span class="hljs-number"><span class="hljs-number">-1</span></span> ε Out[]: <span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> Array{Int64,<span class="hljs-number"><span class="hljs-number">3</span></span>}: [:, :, <span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> [:, :, <span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> [:, :, <span class="hljs-number"><span class="hljs-number">3</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><p>  Gemischte Produktformel </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mo stretchy=&quot;false&quot;>[</mo><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi></mrow><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>b</mi></mrow><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi></mrow><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy=&quot;false&quot;>]</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>,</mo><mi>j</mi><mo>,</mo><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn></mrow></msubsup><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><msub><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub><msup><mi>a</mi><mi>i</mi></msup><msup><mi>b</mi><mi>j</mi></msup><msup><mi>c</mi><mi>k</mi></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="59.328ex" height="3.624ex" viewBox="0 -987.6 25544 1560.2" role="img" focusable="false" style="vertical-align: -1.33ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-65" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-66" x="1015" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-74" x="1565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-5B" x="1927" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-76" x="2455" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-65" x="2941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-63" x="3407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-61" x="3841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-76" x="4620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-65" x="5106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-63" x="5572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-62" x="6006" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-76" x="6685" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-65" x="7171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-63" x="7637" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-63" x="8071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-72" x="8754" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-69" x="9206" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-67" x="9551" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-68" x="10032" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-74" x="10608" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-5D" x="10970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-3D" x="11526" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-73" x="12832" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-75" x="13302" y="0"></use><g transform="translate(13874,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-33" x="1242" y="510"></use><g transform="translate(878,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-2C" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6A" x="624" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-2C" x="1036" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6B" x="1315" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-3D" x="1836" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-31" x="2615" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-76" x="17306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-61" x="17791" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-72" x="18321" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-65" x="18772" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-70" x="19239" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-73" x="19742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-69" x="20212" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6C" x="20557" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6F" x="20856" y="0"></use><g transform="translate(21341,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6E" x="0" y="0"></use><g transform="translate(600,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6A" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6B" x="758" y="0"></use></g></g><g transform="translate(22946,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-69" x="748" y="583"></use></g><g transform="translate(23820,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6A" x="607" y="583"></use></g><g transform="translate(24641,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-63" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6B" x="613" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>l</mi><mi>e</mi><mi>f</mi><mi>t</mi><mo stretchy="false">[</mo><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>a</mi></mrow><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>b</mi></mrow><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi></mrow><mtext>&nbsp;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo stretchy="false">]</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>,</mo><mi>j</mi><mo>,</mo><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>3</mn></mrow></msubsup><mtext>&nbsp;</mtext><mi>v</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>p</mi><mi>s</mi><mi>i</mi><mi>l</mi><mi>o</mi><msub><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub><msup><mi>a</mi><mi>i</mi></msup><msup><mi>b</mi><mi>j</mi></msup><msup><mi>c</mi><mi>k</mi></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> \ left [\ vec {a} \ vec {b} \ vec {c} \ right] = \ sum_ {i, j, k = 1} ^ {3} \ varepsilon_ {ijk} a ^ ib ^ jc ^ k </script></p><br><p>  kann verwendet werden, um die Determinante einer 3x3-Matrix zu finden, wobei <em>a</em> , <em>b</em> , <em>c</em> als erste, zweite bzw. dritte Zeile (Spalte) verstanden werden </p><br><pre> <code class="cpp hljs">detrmnt(arr) = sum( ε[i,j,k]*arr[<span class="hljs-number"><span class="hljs-number">1</span></span>,i]*arr[<span class="hljs-number"><span class="hljs-number">2</span></span>,j]*arr[<span class="hljs-number"><span class="hljs-number">3</span></span>,k] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i in <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>, j in <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>, k in <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span> ) detrmnt([<span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-string"><span class="hljs-string">"b"</span></span>; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-string"><span class="hljs-string">"c"</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-string"><span class="hljs-string">"d"</span></span>]) Out[]: <span class="hljs-string"><span class="hljs-string">"2*(c)+2*(b)+2*(-1*(a))+-2*(d)"</span></span></code> </pre> <br><p>  Es ist leicht zu erraten, dass für Matrizen alles komplizierter aussieht und alles sehr trivial aussieht - viele Klammern und Multiplikationen von Zahlen. Es wäre also schön, ein paar Funktionen zu erstellen, die eine Defaktorisierung durchführen.  Dies wird Ihre Hausaufgabe sein. <br>  Darüber hinaus ist die Multiplikation von Arrays komplizierter: </p><br><pre> <code class="cpp hljs">Rx = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"cos(ϕ)"</span></span> <span class="hljs-string"><span class="hljs-string">"sin(ϕ)"</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-sin(ϕ)"</span></span> <span class="hljs-string"><span class="hljs-string">"cos(ϕ)"</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>]; Rz = [<span class="hljs-string"><span class="hljs-string">"cos(ϕ)"</span></span> <span class="hljs-string"><span class="hljs-string">"sin(ϕ)"</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-string"><span class="hljs-string">"-sin(ϕ)"</span></span> <span class="hljs-string"><span class="hljs-string">"cos(ϕ)"</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>]; T = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-string"><span class="hljs-string">"x0"</span></span> <span class="hljs-string"><span class="hljs-string">"y0"</span></span> <span class="hljs-string"><span class="hljs-string">"z0"</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>]; Rx*Rz Out[]: MethodError: <span class="hljs-function"><span class="hljs-function">no method matching </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zero</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(::String)</span></span></span><span class="hljs-function"> ...</span></span></code> </pre> <br><p>  wird einen Fehler geben.  Klares Geschäft, für Matrizen mit einer Dimension von mehr als drei werden fortschrittlichere und komplexere Methoden verwendet, deren Aufrufe wir nicht „überladen“ haben.  Nun, wir werden die bereits vorhandenen Methoden mit unserem eigenen Multiplikator abdecken (dies wird natürlich nicht empfohlen, insbesondere in mehr oder weniger komplexen Programmen, in denen höchstwahrscheinlich interne Konflikte auftreten werden). </p><br><pre> <code class="cpp hljs">function *( a::Array{Any,<span class="hljs-number"><span class="hljs-number">2</span></span>}, b::Array{Any,<span class="hljs-number"><span class="hljs-number">2</span></span>} ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">if</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a)</span></span></span><span class="hljs-function">[2] </span></span>== size(b)[<span class="hljs-number"><span class="hljs-number">1</span></span>] res = Array{Any}(undef, size(a)[<span class="hljs-number"><span class="hljs-number">1</span></span>], size(b)[<span class="hljs-number"><span class="hljs-number">2</span></span>] ) fill!(res, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>:size(a)[<span class="hljs-number"><span class="hljs-number">1</span></span>], j = <span class="hljs-number"><span class="hljs-number">1</span></span>:size(b)[<span class="hljs-number"><span class="hljs-number">2</span></span>], k = <span class="hljs-number"><span class="hljs-number">1</span></span>:size(a)[<span class="hljs-number"><span class="hljs-number">2</span></span>] res[i,j] = res[i,j] + a[i,k]*b[k,j] end res <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> error(<span class="hljs-string"><span class="hljs-string">"Matrices must have same size mult"</span></span>) end end Out[]: * (generic function with <span class="hljs-number"><span class="hljs-number">379</span></span> methods)</code> </pre> <br><p>  Jetzt können Sie sicher multiplizieren: </p><br><pre> <code class="cpp hljs">X = Rx*Rz*T Out[]: <span class="hljs-number"><span class="hljs-number">4</span></span>?<span class="hljs-number"><span class="hljs-number">4</span></span> Array{Any,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-string"><span class="hljs-string">"cos(ϕ)"</span></span> <span class="hljs-string"><span class="hljs-string">"sin(ϕ)"</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"cos(ϕ)*(-sin(ϕ))"</span></span> <span class="hljs-string"><span class="hljs-string">"cos(ϕ)*(cos(ϕ))"</span></span> <span class="hljs-string"><span class="hljs-string">"sin(ϕ)"</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-sin(ϕ)*(-sin(ϕ))"</span></span> <span class="hljs-string"><span class="hljs-string">"-sin(ϕ)*(cos(ϕ))"</span></span> <span class="hljs-string"><span class="hljs-string">"cos(ϕ)"</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"x0"</span></span> <span class="hljs-string"><span class="hljs-string">"y0"</span></span> <span class="hljs-string"><span class="hljs-string">"z0"</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><p>  Denken wir an diese Matrix, aber jetzt beginnen wir mit den ersten Schritten </p><br><h2 id="metaprogrammirovanie">  Metaprogrammierung </h2><br><h3 id="kotirovki">  Zitate </h3><br><p>  Julia unterstützt die Metaprogrammierung.  Dies ähnelt der symbolischen Programmierung, bei der Ausdrücke (z. B. 6 * 7) im Gegensatz zu Werten (z. B. 42) behandelt werden.  Wenn wir Operationen in den Interpreter ziehen, erhalten wir sofort das Ergebnis, das, wie wir gesehen haben, mit Hilfe der Zeilen umgangen werden kann: </p><br><pre> <code class="cpp hljs">x = <span class="hljs-string"><span class="hljs-string">"6*7"</span></span> Out[]: <span class="hljs-string"><span class="hljs-string">"6*7"</span></span></code> </pre> <br><p>  Strings können mit <em>parse ()</em> in Ausdrücke umgewandelt und dann mit <em>eval ()</em> ausgewertet werden: </p><br><pre> <code class="cpp hljs">eval(Meta.parse(ans)) Out[]: <span class="hljs-number"><span class="hljs-number">42</span></span></code> </pre> <br><p>  Warum all diese Schwierigkeiten?  Der Trick ist, dass wir einen <em>Ausdruck</em> auf verschiedene interessante Arten modifizieren können: </p><br><pre> <code class="cpp hljs">x = replace(x, <span class="hljs-string"><span class="hljs-string">"*"</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"+"</span></span>) eval(Meta.parse(x)) Out[]: <span class="hljs-number"><span class="hljs-number">13</span></span></code> </pre> <br><p>  Um das Fummeln mit Linien zu vermeiden, wird ein stirnrunzelnder Gesichtsoperator bereitgestellt <code>:()</code> </p><br><pre> <code class="cpp hljs">y = :(<span class="hljs-number"><span class="hljs-number">2</span></span>^<span class="hljs-number"><span class="hljs-number">8</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>) Out[]: :(<span class="hljs-number"><span class="hljs-number">2</span></span>^<span class="hljs-number"><span class="hljs-number">8</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>) eval(y) Out[]: <span class="hljs-number"><span class="hljs-number">255</span></span></code> </pre><br><p>  Sie können einen Ausdruck, eine Funktion, einen Codeblock "zitieren" ... </p><br><pre> <code class="cpp hljs">quote x = <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> hypot(x, <span class="hljs-number"><span class="hljs-number">5</span></span>) end Out[]: quote #= In[<span class="hljs-number"><span class="hljs-number">13</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span> =# x = <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> #= In[<span class="hljs-number"><span class="hljs-number">13</span></span>]:<span class="hljs-number"><span class="hljs-number">3</span></span> =# hypot(x, <span class="hljs-number"><span class="hljs-number">5</span></span>) end :(function mysum(xs) sum = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x in xs sum += x end end) Out[]: :(function mysum(xs) #= In[<span class="hljs-number"><span class="hljs-number">14</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span> =# sum = <span class="hljs-number"><span class="hljs-number">0</span></span> #= In[<span class="hljs-number"><span class="hljs-number">14</span></span>]:<span class="hljs-number"><span class="hljs-number">3</span></span> =# <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x = xs #= In[<span class="hljs-number"><span class="hljs-number">14</span></span>]:<span class="hljs-number"><span class="hljs-number">4</span></span> =# sum += x end end)</code> </pre> <br><p>  Und jetzt analysieren wir die zuvor berechnete Matrix (es ist besser, eine neue Sitzung nach dem vorherigen Abschnitt zu starten, da meine hässlichen Überladungen leicht zu Konflikten mit Plug-In-Paketen führen können): </p><br><pre> <code class="cpp hljs">X = [ <span class="hljs-string"><span class="hljs-string">"cos(ϕ)"</span></span> <span class="hljs-string"><span class="hljs-string">"sin(ϕ)"</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-string"><span class="hljs-string">"cos(ϕ)*(-sin(ϕ))"</span></span> <span class="hljs-string"><span class="hljs-string">"cos(ϕ)*(cos(ϕ))"</span></span> <span class="hljs-string"><span class="hljs-string">"sin(ϕ)"</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-string"><span class="hljs-string">"-sin(ϕ)*(-sin(ϕ))"</span></span> <span class="hljs-string"><span class="hljs-string">"-sin(ϕ)*(cos(ϕ))"</span></span> <span class="hljs-string"><span class="hljs-string">"cos(ϕ)"</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-string"><span class="hljs-string">"x0"</span></span> <span class="hljs-string"><span class="hljs-string">"y0"</span></span> <span class="hljs-string"><span class="hljs-string">"z0"</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; ] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>:size(X,<span class="hljs-number"><span class="hljs-number">1</span></span>), j = <span class="hljs-number"><span class="hljs-number">1</span></span>:size(X,<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> typeof(X[i,j]) == String X[i,j] = Meta.parse(X[i,j]) end end X Out[]: <span class="hljs-number"><span class="hljs-number">4</span></span>×<span class="hljs-number"><span class="hljs-number">4</span></span> Array{Any,<span class="hljs-number"><span class="hljs-number">2</span></span>}: :(<span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(ϕ)) :(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(ϕ)) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> :(<span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(ϕ) * -(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(ϕ))) :(<span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(ϕ) * <span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(ϕ)) :(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(ϕ)) <span class="hljs-number"><span class="hljs-number">0</span></span> :(-(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(ϕ)) * -(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(ϕ))) :(-(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(ϕ)) * <span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(ϕ)) :(<span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(ϕ)) <span class="hljs-number"><span class="hljs-number">0</span></span> :x0 :y0 :z0 <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><p>  Wie einige vermutet haben, handelt es sich um eine Matrix von Transformationen, die wir bereits jetzt für dreidimensionale Koordinaten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aussortiert</a> haben.  Wir berechnen für bestimmte Werte: </p><br><pre> <code class="cpp hljs">ϕ = <span class="hljs-number"><span class="hljs-number">20</span></span>*pi/<span class="hljs-number"><span class="hljs-number">180</span></span> x0 = <span class="hljs-number"><span class="hljs-number">4</span></span> y0 = <span class="hljs-number"><span class="hljs-number">-0.5</span></span> z0 = <span class="hljs-number"><span class="hljs-number">1.3</span></span> Xtr = [ eval(x) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x in X] Out[]: <span class="hljs-number"><span class="hljs-number">4</span></span>×<span class="hljs-number"><span class="hljs-number">4</span></span> Array{Real,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">0.939693</span></span> <span class="hljs-number"><span class="hljs-number">0.34202</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">-0.321394</span></span> <span class="hljs-number"><span class="hljs-number">0.883022</span></span> <span class="hljs-number"><span class="hljs-number">0.34202</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.116978</span></span> <span class="hljs-number"><span class="hljs-number">-0.321394</span></span> <span class="hljs-number"><span class="hljs-number">0.939693</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">-0.5</span></span> <span class="hljs-number"><span class="hljs-number">1.3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><p>  Diese Matrix dreht sich um die <strong>X-</strong> und <strong>Z-</strong> Achse um <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>20</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>i</mi><mi>r</mi><mi>c</mi></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.871ex" height="2.419ex" viewBox="0 -935.7 2527.6 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-30" x="500" y="0"></use><g transform="translate(1001,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-63" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-69" x="787" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-72" x="1132" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-63" x="1584" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>20</mn><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>c</mi><mi>i</mi><mi>r</mi><mi>c</mi></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-2"> 20 ^ {\ circ} </script>  und übertragen auf <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><merror><mtext>\&amp;#xA0;vec&amp;#xA0;{R}&amp;#xA0;=&amp;#xA0;\&amp;#xA0;{x0,&amp;#xA0;y0,&amp;#xA0;z0&amp;#xA0;\}</mtext></merror></math>" role="presentation"><span class="noError" aria-hidden="true" style="display: inline-block;">\&nbsp;vec&nbsp;{R}&nbsp;=&nbsp;\&nbsp;{x0,&nbsp;y0,&nbsp;z0&nbsp;\}</span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><merror><mtext>\&nbsp;vec&nbsp;{R}&nbsp;=&nbsp;\&nbsp;{x0,&nbsp;y0,&nbsp;z0&nbsp;\}</mtext></merror></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ vec {R} = \ {x0, y0, z0 \} </script></p><br><pre> <code class="cpp hljs">x = [<span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>]; y = [<span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>]; z = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>] R = [ x' y' z' ones( length(x) ) ] plot(x', y', z', w = <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br><p><img src="https://habrastorage.org/webt/c9/9j/av/c99java0rhnfpg9xmjub5l_azca.png"></p><br><pre> <code class="cpp hljs">R2 = R*Xtr plot!( R2[:,<span class="hljs-number"><span class="hljs-number">1</span></span>], R2[:,<span class="hljs-number"><span class="hljs-number">2</span></span>], R2[:,<span class="hljs-number"><span class="hljs-number">3</span></span>], w = <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br><p><img src="https://habrastorage.org/webt/fi/ze/2i/fize2is4325hcoh6trzdgelyf9a.png"></p><br><h3 id="fruit-of-the-expression-tree">  Frucht des Ausdrucksbaums </h3><br><p>  Wie wir bereits gesehen haben, unterstützen Strings die „Interpolation“, mit der wir auf einfache Weise große Strings aus kleineren Komponenten erstellen können. </p><br><pre> <code class="cpp hljs">x = <span class="hljs-string"><span class="hljs-string">""</span></span> print(<span class="hljs-string"><span class="hljs-string">"$x $x $x  ..."</span></span>) Out[]:     ...</code> </pre> <br><p>  Mit Zitaten - die gleiche Geschichte: </p><br><pre> <code class="cpp hljs">x = :(<span class="hljs-number"><span class="hljs-number">6</span></span>*<span class="hljs-number"><span class="hljs-number">7</span></span>) y = :($x + $x) Out[]: :(<span class="hljs-number"><span class="hljs-number">6</span></span> * <span class="hljs-number"><span class="hljs-number">7</span></span> + <span class="hljs-number"><span class="hljs-number">6</span></span> * <span class="hljs-number"><span class="hljs-number">7</span></span>) eval(y) Out[]: <span class="hljs-number"><span class="hljs-number">84</span></span></code> </pre> <br><h3 id="the-root-of-all-eval">  Die Wurzel allen Eval </h3><br><p>  <code>eval()</code> nicht nur den Wert eines Ausdrucks zurück.  Versuchen wir, die Funktionsdeklaration zu zitieren: </p><br><pre> <code class="cpp hljs">ex = :( cats() = println(<span class="hljs-string"><span class="hljs-string">"Meow!"</span></span>) ) cats() Out[]: UndefVarError: cats <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> defined</code> </pre> <br><p>  Jetzt belebe sie wieder: </p><br><pre> <code class="cpp hljs">eval(ex) Out[]: cats (generic function with <span class="hljs-number"><span class="hljs-number">1</span></span> method) cats() Out[]: Meow!</code> </pre> <br><p>  Mithilfe der Interpolation können wir die Definition einer Funktion im laufenden Betrieb erstellen.  Tatsächlich können wir sofort eine Reihe von Funktionen ausführen. </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name in [:dog, :bird, :mushroom] println(:($name() = println($(<span class="hljs-string"><span class="hljs-string">"I'm $(name)!"</span></span>)))) end Out[]: dog() = begin #= In[<span class="hljs-number"><span class="hljs-number">27</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span> =# println(<span class="hljs-string"><span class="hljs-string">"I'm dog!"</span></span>) end bird() = begin #= In[<span class="hljs-number"><span class="hljs-number">27</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span> =# println(<span class="hljs-string"><span class="hljs-string">"I'm bird!"</span></span>) end mushroom() = begin #= In[<span class="hljs-number"><span class="hljs-number">27</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span> =# println(<span class="hljs-string"><span class="hljs-string">"I'm mushroom!"</span></span>) end <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name in [:dog, :bird, :mushroom] eval(:($name() = println($(<span class="hljs-string"><span class="hljs-string">"I'm $(name)!"</span></span>)))) end dog() Out[]: I'm dog! mushroom() Out[]: I'm mushroom!</code> </pre> <br><p>  Dies kann beim Umschließen einer API (z. B. aus einer C-Bibliothek oder über HTTP) äußerst nützlich sein.  APIs definieren häufig eine Liste der verfügbaren Funktionen, sodass Sie sie erfassen und gleichzeitig eine gesamte Shell erstellen können!  Siehe Beispiele für Clang.jl, TensorFlow.jl oder Basic Linear Algebra. </p><br><h3 id="original-sin">  Erbsünde </h3><br><p>  Hier ist ein praktischeres Beispiel.  Betrachten Sie die folgende Definition der <code>sin()</code> -Funktion basierend auf Taylor-Reihen: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>f</mi><mi>t</mi><mi>y</mi></mrow></msubsup><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;#x2212;</mo><mn>1</mn><msup><mo stretchy=&quot;false&quot;>)</mo><mi>k</mi></msup></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>+</mo><mn>2</mn><mi>k</mi><mo stretchy=&quot;false&quot;>)</mo><mo>!</mo></mrow><msup><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>+</mo><mn>2</mn><mi>k</mi></mrow></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="44.434ex" height="3.503ex" viewBox="0 -1091.4 19131.4 1508.3" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-69" x="469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6E" x="815" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-28" x="1415" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-78" x="1805" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-29" x="2377" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-3D" x="3044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-73" x="4351" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-75" x="4820" y="0"></use><g transform="translate(5393,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,490)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-69" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6E" x="699" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-66" x="1299" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-74" x="1850" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-79" x="2211" y="0"></use></g><g transform="translate(878,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-3D" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-31" x="1300" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-66" x="8537" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-72" x="9087" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-61" x="9539" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-63" x="10068" y="0"></use><g transform="translate(10502,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-2212" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-31" x="1168" y="0"></use><g transform="translate(1668,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6B" x="550" y="583"></use></g></g><g transform="translate(13028,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-2B" x="1112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-32" x="2112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6B" x="2613" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-29" x="3134" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-21" x="3524" y="0"></use></g><g transform="translate(16831,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-2B" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMAIN-32" x="1279" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/431438/&amp;usg=ALkJrhhDEV0q9sA6yC2oLRfbk1cJZZd-1Q#MJMATHI-6B" x="1779" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>f</mi><mi>t</mi><mi>y</mi></mrow></msubsup><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>k</mi></msup></mrow><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>2</mn><mi>k</mi><mo stretchy="false">)</mo><mo>!</mo></mrow><msup><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>+</mo><mn>2</mn><mi>k</mi></mrow></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> sin (x) = \ sum_ {k = 1} ^ {\ infty} \ frac {(- 1) ^ k} {(1 + 2k)!} x ^ {1 + 2k} </script></p><br><pre> <code class="cpp hljs">mysin(x) = sum((<span class="hljs-number"><span class="hljs-number">-1</span></span>)^k/factorial(<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>*k) * x^(<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>k) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k = <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">5</span></span>) mysin(<span class="hljs-number"><span class="hljs-number">0.5</span></span>), <span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(<span class="hljs-number"><span class="hljs-number">0.5</span></span>) Out[]: (<span class="hljs-number"><span class="hljs-number">0.4794255386041834</span></span>, <span class="hljs-number"><span class="hljs-number">0.479425538604203</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> BenchmarkTools @benchmark mysin(<span class="hljs-number"><span class="hljs-number">0.5</span></span>) Out[]: BenchmarkTools.Trial: memory estimate: <span class="hljs-number"><span class="hljs-number">112</span></span> bytes allocs estimate: <span class="hljs-number"><span class="hljs-number">6</span></span> -------------- minimum time: <span class="hljs-number"><span class="hljs-number">1.105</span></span> μs (<span class="hljs-number"><span class="hljs-number">0.00</span></span>% GC) median time: <span class="hljs-number"><span class="hljs-number">1.224</span></span> μs (<span class="hljs-number"><span class="hljs-number">0.00</span></span>% GC) mean time: <span class="hljs-number"><span class="hljs-number">1.302</span></span> μs (<span class="hljs-number"><span class="hljs-number">0.00</span></span>% GC) maximum time: <span class="hljs-number"><span class="hljs-number">9.473</span></span> μs (<span class="hljs-number"><span class="hljs-number">0.00</span></span>% GC) -------------- samples: <span class="hljs-number"><span class="hljs-number">10000</span></span> evals/sample: <span class="hljs-number"><span class="hljs-number">10</span></span></code> </pre> <br><p>  Jetzt ist es viel langsamer als es sein könnte.  Der Grund ist, dass wir über k iterieren, was relativ teuer ist.  Explizites Schreiben ist viel schneller: </p><br><pre> <code class="cpp hljs">mysin(x) = x - x^<span class="hljs-number"><span class="hljs-number">3</span></span>/<span class="hljs-number"><span class="hljs-number">6</span></span> + x^<span class="hljs-number"><span class="hljs-number">5</span></span>/<span class="hljs-number"><span class="hljs-number">120</span></span> # + ...</code> </pre> <br><p>  Das Schreiben ist jedoch mühsam und sieht nicht mehr wie die ursprüngliche Taylor-Serie aus.  Darüber hinaus besteht ein hohes Risiko für Setzlinge.  Gibt es eine Möglichkeit, einen Hasen mit zwei Schüssen zu töten?  Wie wäre es, wenn Julia uns diesen Code schreibt?  Betrachten Sie zunächst die symbolische Version der + -Funktion. </p><br><pre> <code class="cpp hljs">plus(a, b) = :($a + $b) plus(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) Out[]: :(<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br><p>  Mit <code>plus()</code> wir viele interessante Dinge tun, zum Beispiel eine symbolische Summe: </p><br><pre> <code class="cpp hljs">reduce(+, <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>) Out[]: <span class="hljs-number"><span class="hljs-number">55</span></span> reduce(plus, <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>) Out[]: :(((((((((<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-number"><span class="hljs-number">3</span></span>) + <span class="hljs-number"><span class="hljs-number">4</span></span>) + <span class="hljs-number"><span class="hljs-number">5</span></span>) + <span class="hljs-number"><span class="hljs-number">6</span></span>) + <span class="hljs-number"><span class="hljs-number">7</span></span>) + <span class="hljs-number"><span class="hljs-number">8</span></span>) + <span class="hljs-number"><span class="hljs-number">9</span></span>) + <span class="hljs-number"><span class="hljs-number">10</span></span>) eval(ans) Out[]: <span class="hljs-number"><span class="hljs-number">55</span></span> reduce(plus, [:(x^<span class="hljs-number"><span class="hljs-number">2</span></span>), :x, <span class="hljs-number"><span class="hljs-number">1</span></span>]) Out[]: :((x ^ <span class="hljs-number"><span class="hljs-number">2</span></span> + x) + <span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br><p>  Dies gibt uns einen wichtigen Teil des Puzzles, aber wir müssen auch herausfinden, was wir zusammenfassen.  Erstellen wir eine symbolische Version der obigen Taylor-Reihe, die den Wert von k interpoliert. </p><br><pre> <code class="cpp hljs">k = <span class="hljs-number"><span class="hljs-number">2</span></span> :($((<span class="hljs-number"><span class="hljs-number">-1</span></span>)^k) * x^$(<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>k) / $(factorial(<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>k))) Out[]: :((<span class="hljs-number"><span class="hljs-number">1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">5</span></span>) / <span class="hljs-number"><span class="hljs-number">120</span></span>)</code> </pre> <br><p>  Jetzt können Sie die Elemente der Reihe wie auf einem Förderband nieten: </p><br><pre> <code class="cpp hljs">terms = [:($((<span class="hljs-number"><span class="hljs-number">-1</span></span>)^k) * x^$(<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>k) / $(factorial(<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>k))) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k = <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">5</span></span>] Out[]: <span class="hljs-number"><span class="hljs-number">6</span></span>-element Array{Expr,<span class="hljs-number"><span class="hljs-number">1</span></span>}: :((<span class="hljs-number"><span class="hljs-number">1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">1</span></span>) / <span class="hljs-number"><span class="hljs-number">1</span></span>) :((<span class="hljs-number"><span class="hljs-number">-1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">3</span></span>) / <span class="hljs-number"><span class="hljs-number">6</span></span>) :((<span class="hljs-number"><span class="hljs-number">1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">5</span></span>) / <span class="hljs-number"><span class="hljs-number">120</span></span>) :((<span class="hljs-number"><span class="hljs-number">-1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">7</span></span>) / <span class="hljs-number"><span class="hljs-number">5040</span></span>) :((<span class="hljs-number"><span class="hljs-number">1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">9</span></span>) / <span class="hljs-number"><span class="hljs-number">362880</span></span>) :((<span class="hljs-number"><span class="hljs-number">-1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">11</span></span>) / <span class="hljs-number"><span class="hljs-number">39916800</span></span>)</code> </pre> <br><p>  Und fasse sie zusammen: </p><br><pre> <code class="cpp hljs">reduce(plus, ans) Out[]: :((((((<span class="hljs-number"><span class="hljs-number">1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">1</span></span>) / <span class="hljs-number"><span class="hljs-number">1</span></span> + (<span class="hljs-number"><span class="hljs-number">-1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">3</span></span>) / <span class="hljs-number"><span class="hljs-number">6</span></span>) + (<span class="hljs-number"><span class="hljs-number">1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">5</span></span>) / <span class="hljs-number"><span class="hljs-number">120</span></span>) + (<span class="hljs-number"><span class="hljs-number">-1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">7</span></span>) / <span class="hljs-number"><span class="hljs-number">5040</span></span>) + (<span class="hljs-number"><span class="hljs-number">1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">9</span></span>) / <span class="hljs-number"><span class="hljs-number">362880</span></span>) + (<span class="hljs-number"><span class="hljs-number">-1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">11</span></span>) / <span class="hljs-number"><span class="hljs-number">39916800</span></span>) :(mysin(x) = $ans) Out[]: :(mysin(x) = begin #= In[<span class="hljs-number"><span class="hljs-number">52</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span> =# (((((<span class="hljs-number"><span class="hljs-number">1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">1</span></span>) / <span class="hljs-number"><span class="hljs-number">1</span></span> + (<span class="hljs-number"><span class="hljs-number">-1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">3</span></span>) / <span class="hljs-number"><span class="hljs-number">6</span></span>) + (<span class="hljs-number"><span class="hljs-number">1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">5</span></span>) / <span class="hljs-number"><span class="hljs-number">120</span></span>) + (<span class="hljs-number"><span class="hljs-number">-1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">7</span></span>) / <span class="hljs-number"><span class="hljs-number">5040</span></span>) + (<span class="hljs-number"><span class="hljs-number">1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">9</span></span>) / <span class="hljs-number"><span class="hljs-number">362880</span></span>) + (<span class="hljs-number"><span class="hljs-number">-1</span></span> * x ^ <span class="hljs-number"><span class="hljs-number">11</span></span>) / <span class="hljs-number"><span class="hljs-number">39916800</span></span> end) eval(ans) mysin(<span class="hljs-number"><span class="hljs-number">0.5</span></span>), <span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(<span class="hljs-number"><span class="hljs-number">0.5</span></span>) Out[]: (<span class="hljs-number"><span class="hljs-number">0.4794255386041834</span></span>, <span class="hljs-number"><span class="hljs-number">0.479425538604203</span></span>) @<span class="hljs-function"><span class="hljs-function">benchmark </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mysin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.5</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> Out[]: BenchmarkTools.Trial: memory estimate: 0 bytes allocs estimate: 0 -------------- minimum time: 414.363 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.00</span></span></span></span><span class="hljs-function"><span class="hljs-params">% GC)</span></span></span><span class="hljs-function"> median time: 416.328 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.00</span></span></span></span><span class="hljs-function"><span class="hljs-params">% GC)</span></span></span><span class="hljs-function"> mean time: 431.885 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.00</span></span></span></span><span class="hljs-function"><span class="hljs-params">% GC)</span></span></span><span class="hljs-function"> maximum time: 3.352 μ</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">s</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.00</span></span></span></span><span class="hljs-function"><span class="hljs-params">% GC)</span></span></span><span class="hljs-function"> -------------- samples: 10000 evals/sample: 201</span></span></code> </pre> <br><p>  Nicht schlecht für naive Umsetzung!  Das Photon hat keine Zeit, eineinhalb hundert Meter zu laufen, und der Sinus wurde bereits berechnet! <br>  Dies ist die Zeit zu beenden.  Für diejenigen, die dieses Thema weiter vertiefen möchten, empfehle ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ein in Jupyter ausgeführtes interaktives Tutorial</a> , dessen Übersetzung hier hauptsächlich verwendet wurde, einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Videokurs</a> von der offiziellen Website und den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">entsprechenden Abschnitt der</a> Dokumentation.  Für Neuankömmlinge empfehle ich Ihnen, um den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hub herumzulaufen</a> , da bereits eine akzeptable Menge an Material vorhanden ist. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de431438/">https://habr.com/ru/post/de431438/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de431428/index.html">Komplette CMake-Anleitung. Erster Teil: Syntax</a></li>
<li><a href="../de431430/index.html">Die Teilnahme an Open Source-Projekten kann für Unternehmen von Vorteil sein - warum und was sie bieten</a></li>
<li><a href="../de431432/index.html">So generieren Sie aussagekräftige Commits. Wenden Sie den Standard für konventionelle Commits an</a></li>
<li><a href="../de431434/index.html">Drei Modernisierungsgeschichten im Rechenzentrum</a></li>
<li><a href="../de431436/index.html">Warum SRE-Dokumentation wichtig ist. Teil 2</a></li>
<li><a href="../de431440/index.html">Timofey Bokarev, ein interessanter russischer Spieledesigner</a></li>
<li><a href="../de431442/index.html">Aktualisiertes WD Black NVMe: Was kann 3D NAND wirklich?</a></li>
<li><a href="../de431444/index.html">So planen Sie einen zweiwöchigen Sprint</a></li>
<li><a href="../de431446/index.html">Licht? Die Kamera? OSMO! DJI stellte die kleinste OSMO Pocket Steadicam vor</a></li>
<li><a href="../de431448/index.html">Samsung Buds 2019: Geheimnisvolles Update für Gear IconX oder potenzielle Killer von Apple AirPods</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>