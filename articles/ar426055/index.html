<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐๐ฝ ๐ง๐ฝ TensorFlow.js ู clmtrackr.js: ุชุชุจุน ุงุชุฌุงู ูุธุฑุฉ ุงููุณุชุฎุฏู ูู ุงููุชุตูุญ ๐ ๐ ๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุนุฑุถ ูุงุชุจ ุงูููุงู ุ ุงูุฐู ููุดุฑ ุชุฑุฌูุชู ุ ุงูุญุฏูุซ ุนู ุญู ุงููุดุงูู ูู ูุฌุงู ุฑุคูุฉ ุงูููุจููุชุฑ ุญุตุฑููุง ุจุงุณุชุฎุฏุงู ูุชุตูุญ ุงูููุจ. ุญู ูุฐู ุงููุดููุฉ ููุณ ุตุนุจูุง ููุบุงูุฉ ุจูุถู ูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>TensorFlow.js ู clmtrackr.js: ุชุชุจุน ุงุชุฌุงู ูุธุฑุฉ ุงููุณุชุฎุฏู ูู ุงููุชุตูุญ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/426055/" style=";text-align:right;direction:rtl">  ูุนุฑุถ ูุงุชุจ ุงูููุงู ุ ุงูุฐู ููุดุฑ ุชุฑุฌูุชู ุ ุงูุญุฏูุซ ุนู ุญู ุงููุดุงูู ูู ูุฌุงู ุฑุคูุฉ ุงูููุจููุชุฑ ุญุตุฑููุง ุจุงุณุชุฎุฏุงู ูุชุตูุญ ุงูููุจ.  ุญู ูุฐู ุงููุดููุฉ ููุณ ุตุนุจูุง ููุบุงูุฉ ุจูุถู ููุชุจุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TensorFlow</a> JavaScript.  ุจุฏูุงู ูู ุชุฏุฑูุจ ุงููููุฐุฌ ุงูุฎุงุต ุจูุง ูุชูุฏููู ูููุณุชุฎุฏููู ูุฌุฒุก ูู ุงูููุชุฌ ุงูููุงุฆู ุ ุณูููุญูู ุงููุฑุตุฉ ูุฌูุน ุงูุจูุงูุงุช ุจุดูู ูุณุชูู ูุชุฏุฑูุจ ุงููููุฐุฌ ูุจุงุดุฑุฉ ูู ูุชุตูุญ ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจูุง.  ุจุงุณุชุฎุฏุงู ูุฐุง ุงูุฃุณููุจ ุ ุชููู ูุนุงูุฌุฉ ุงูุจูุงูุงุช ูู ุฌุงูุจ ุงูุฎุงุฏู ุบูุฑ ุถุฑูุฑูุฉ ุนูู ุงูุฅุทูุงู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/1n/6k/57/1n6k57nn-wdkux5hhohvjnyadve.jpeg"></div><br>  ููููู ุชุฌุฑุจุฉ ูุง ุชู ุชุฎุตูุต ูุฐู ุงูููุงุฏ ูุฅูุดุงุฆู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> .  ุณุชุญุชุงุฌ ุฅูู ูุชุตูุญ ุญุฏูุซ ููุงููุฑุง ููุจ ููุงูุณ ููุฐุง ุงูุบุฑุถ.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง ูู</a> ููุฏ ุงููุตุฏุฑ ูููุดุฑูุน.  ูู ูุชู ุชุตูููู ููุนูู ุนูู ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ ุ ูููู ูุคูู ุงููุงุฏุฉ ุฃูู ูู ููู ูุฏูู ุงูููุช ููุชุญุณููุงุช ุงูููุงุณุจุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุดูุฑ ุฅูู ุฃู ุงููููุฉ ุงูุชู ุชู ุงููุธุฑ ูููุง ููุง ุณุชุตุจุญ ุฃูุซุฑ ุชุนููุฏูุง ุฅุฐุง ูุงู ุนููู ูุนุงูุฌุฉ ุฏูู ุงูููุฏูู ูู ูุงููุฑุง ูุชุญุฑูุฉ. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ููุฑุฉ</font> </h2><br>  ุฏุนูุง ูุณุชุฎุฏู ุชูููุฉ ุชุนูููู ุงูุขูุฉ ููุนุฑูุฉ ุงูููุงู ุงูุฐู ูุจุญุซ ุนูู ุงููุณุชุฎุฏู ุจุงูุถุจุท ุนูุฏูุง ููุธุฑ ุฅูู ุตูุญุฉ ููุจ.  ูููู ุจุฐูู ูู ุฎูุงู ูุดุงูุฏุฉ ุนูููู ุจุงุณุชุฎุฏุงู ูุงููุฑุง ููุจ. <br><br>  ูู ุงูุณูู ุฌุฏูุง ุงููุตูู ุฅูู ูุงููุฑุง ุงูููุจ ูู ุงููุชุตูุญ.  ุฅุฐุง ุงูุชุฑุถูุง ุฃูู ุณูุชู ุงุณุชุฎุฏุงู ุงูุตูุฑุฉ ุงููุงููุฉ ูู ุงููุงููุฑุง ููุฏุฎูุงุช ููุดุจูุฉ ุงูุนุตุจูุฉ ุ ููููููุง ุงูููู ุฃููุง ูุจูุฑุฉ ุฌุฏูุง ููุฐู ุงูุฃุบุฑุงุถ.  ุณูุชุนูู ุนูู ุงููุธุงู ุงูููุงู ุจุงููุซูุฑ ูู ุงูุนูู ููุท ูุชุญุฏูุฏ ุงูููุงู ุงูุฐู ุชูุฌุฏ ููู ุงูุตูุฑุฉ ูู ุงูุตูุฑุฉ.  ูููู ุฃู ูุธูุฑ ูุฐุง ุงูููุฌ ููุณู ุฌูุฏูุง ุฅุฐุง ููุง ูุชุญุฏุซ ุนู ูููุฐุฌ ูููู ุงููุทูุฑ ุจุชุฏุฑูุจู ุจููุณู ููุดุฑู ุนูู ุงูุฎุงุฏู ุ ูููู ุฅุฐุง ููุง ูุชุญุฏุซ ุนู ุงูุชุฏุฑูุจ ูุงุณุชุฎุฏุงู ุงููููุฐุฌ ูู ูุชุตูุญ ุ ููุฐุง ูุซูุฑ ุฌุฏูุง. <br><br>  ูู ุฃุฌู ุชุณููู ูููุฉ ุงูุดุจูุฉ ุ ูููููุง ุชุฒููุฏูุง ุจุฌุฒุก ููุท ูู ุงูุตูุฑุฉ - ุงูุฌุฒุก ุงูุฐู ูุญุชูู ุนูู ุนููู ุงููุณุชุฎุฏู ูููุทูุฉ ุตุบูุฑุฉ ุญูููู.  ูููู ุชุญุฏูุฏ ูุฐู ุงูููุทูุฉ ุ ููู ูุณุชุทูู ูุญูุท ุจุงูุนูููู ุ ุจุงุณุชุฎุฏุงู ููุชุจุฉ ุทุฑู ุซุงูุซ.  ูุฐูู ุ ูุจุฏู ุงูุฌุฒุก ุงูุฃูู ูู ุนูููุง ููุง ููู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pg/fc/fp/pgfcfppfo3_6wddvm58zikfoqlw.png"></div><br>  <i><font color="#999999">ุฅุฏุฎุงู ูุงููุฑุง ุงูููุจ ุ ุงูุชุนุฑู ุนูู ุงููุฌูู ุ ูุดู ุงูุนูู ุ ุงูุตูุฑุฉ ุงูููุทูุนุฉ</font></i> <br><br>  ูููุดู ุนู ุงููุฌู ูู ุงูุตูุฑุฉ ุ ุงุณุชุฎุฏูุช ููุชุจุฉ ุชุณูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">clmtrackr</a> .  ุฅูู ููุณ ูุซุงูููุง ุ ููููู ูุฎุชูู ูู ุงูุญุฌู ุงูุตุบูุฑ ูุงูุฃุฏุงุก ุงูุฌูุฏ ุ ูุจุดูู ุนุงู ุ ูุชูุงุกู ูุน ูููุชู ุจูุฑุงูุฉ. <br><br>  ุฅุฐุง ุชู ุงุณุชุฎุฏุงู ุตูุฑุฉ ุตุบูุฑุฉ ูููู ุชู ุงุฎุชูุงุฑูุง ุจุฐูุงุก ููุฏุฎูุงุช ูุดุจูุฉ ุนุตุจูุฉ ุชูุงููููุฉ ุจุณูุทุฉ ุ ูููู ููุดุจูุฉ ุงูุชุนูู ุฏูู ุฃู ูุดุงูู.  ุฅููู ูุง ุชุจุฏู ุนููู ูุฐู ุงูุนูููุฉ: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/yh/k_/th/yhk_thr05faoc09immbn8fz1vou.png"></div><br>  <i><font color="#999999">ุตูุฑุฉ ุงููุฏุฎูุงุช ุ ุงููููุฐุฌ ุนุจุงุฑุฉ ุนู ุดุจูุฉ ุนุตุจูุฉ ุชูุงููููุฉ ุ ุฅุญุฏุงุซูุงุช ุ ุงูููุงู ุงูุฐู ุชูุจุฃุช ุจู ุงูุดุจูุฉ ุนูู ุงูุตูุญุฉ ุงูุชู ูุจุญุซ ุนููุง ุงููุณุชุฎุฏู.</font></i> <br><br>  ุณูุชู ูุตู ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุชูููุฐ ุงููุงูู ููุฃููุงุฑ ุงูุชู ุชูุช ููุงูุดุชูุง ูู ูุฐุง ุงููุณู ููุง.  ูุญุชูู ุงููุดุฑูุน ุ ุงูุฐู ููุฌุฏ ุฑูุฒู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง</a> ุงููุณุชูุฏุน ุ ุนูู ุงูุนุฏูุฏ ูู ุงูููุฒุงุช ุงูุฅุถุงููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุชุญุถูุฑ</font> </h2><br>  ููุจุฏุก ุ ูู <code>clmtrackr.js</code> ูู <a href="">ุงููุณุชูุฏุน</a> ุงูููุงุณุจ.  ุณูุจุฏุฃ ุงูุนูู ุจููู HTML ูุงุฑุบ ุ ูุงูุฐู ูุณุชูุฑุฏ jQuery ู TensorFlow.js ู <code>main.js</code> ูููู <code>main.js</code> ูุน <code>main.js</code> ุ ูุงูุฐู ุณูุนูู ุนููู ุจุนุฏ ูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!doctype html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://code.jquery.com/jquery-3.3.1.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.12.0"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"clmtrackr.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"main.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุชููู ุฏูู ููุฏูู ูู ูุงููุฑุง ููุจ</font> </h2><br>  ูุชูุดูุท ูุงููุฑุง ุงูููุจ ูุนุฑุถ ุฏูู ุงูููุฏูู ุนูู ุงูุตูุญุฉ ุ ูุญุชุงุฌ ุฅูู ุงูุญุตูู ุนูู ุฅุฐู ุงููุณุชุฎุฏู.  ูุง ุฃูุฏู ููุง ููุฏูุง ูุญู ูุดุงูู ุงูุชูุงูู ูููุดุฑูุน ูุน ูุชุตูุญุงุช ูุฎุชููุฉ.  ุณููุทูู ูู ุงูุชุฑุงุถ ุฃู ูุณุชุฎุฏูููุง ูุนูููู ุนูู ุงูุฅูุชุฑูุช ุจุงุณุชุฎุฏุงู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู Google Chrome. <br><br>  ุฃุถู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ุฅูู ููู HTML.  ูุฌุจ ุฃู ูููู ููุฌูุฏูุง ุฏุงุฎู ุนูุงูุฉ <code>&lt;body&gt;</code> ุ ูููู ููู <code>&lt;body&gt;</code> <code>&lt;script&gt;</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">video</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"webcam"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"400"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"300"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">autoplay</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">video</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ุงูุขู ุฏุนูุง ูุนูู ูุน ููู <code>main.js</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript">$(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> video = $(<span class="hljs-string"><span class="hljs-string">'#webcam'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onStreaming</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">stream</span></span></span><span class="hljs-function">) </span></span>{   video.srcObject = stream; } navigator.mediaDevices.getUserMedia({ <span class="hljs-attr"><span class="hljs-attr">video</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }).then(onStreaming); });</code> </pre> <br>  ุฌุฑุจ ูุฐุง ุงูุฑูุฒ ุจููุณู.  ุนูุฏูุง ุชูุชุญ ุงูุตูุญุฉ ุ ูุฌุจ ุฃู ูุทูุจ ุงููุชุตูุญ ุงูุฅุฐู ุ ุซู ุชุธูุฑ ุตูุฑุฉ ูู ูุงููุฑุง ุงูููุจ ุนูู ุงูุดุงุดุฉ. <br><br>  ุณูููู ูุงุญููุง ุจุชูุณูุน ููุฏ ูุธููุฉ <code>onStreaming()</code> . <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุงูุจุญุซ ุนู ุงููุฌู</font> </h2><br>  ุงูุขู ุฏุนูุง ูุณุชุฎุฏู ููุชุจุฉ clmtrackr.js ููุจุญุซ ุนู ูุฌูู ูู ุงูููุฏูู.  ุฃููุงู ุ ูู ุจุชููุฆุฉ ูุธุงู ุชุชุจุน ุงููุฌู ุนู ุทุฑูู ุฅุถุงูุฉ ุงูููุฏ ุงูุชุงูู ุจุนุฏ <code>const video = ...</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ctrack = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> clm.tracker(); ctrack.init();</code> </pre> <br>  ุงูุขู ุ ูู ูุธููุฉ <code>onStreaming()</code> ุ ูููู ุจุชูุตูู ูุธุงู ุงูุจุญุซ ุนู ุงููุฌู ุจุฅุถุงูุฉ ุงูุฃูุฑ ุงูุชุงูู ููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">ctrack.<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(video);</code> </pre> <br>  ูุฐุง ูู ูุง ูุญุชุงุฌู.  ุงูุขู ุณูุชููู ุงููุธุงู ูู ุงูุชุนุฑู ุนูู ุงููุฌู ูู ุฏูู ุงูููุฏูู. <br><br>  ูุง ุชุตุฏูุ  ุฏุนูุง ูุฑุณู "ููุงุน" ุญูู ูุฌูู ููุชุฃูุฏ ูู ุตุญุฉ ุฐูู. <br>  ููููุงู ุจุฐูู ุ ูุญุชุงุฌ ุฅูู ุนุฑุถ ุงูุตูุฑุฉ ุฃุนูู ุงูุนูุตุฑ ุงููุณุคูู ุนู ุนุฑุถ ุงูููุฏูู.  ููููู ุฑุณู ุดูุก ูุง ุนูู ุตูุญุงุช HTML ุจุงุณุชุฎุฏุงู ุนูุงูุฉ <code>&lt;canvas&gt;</code> .  ูุฐูู ุ ุณูููู ุจุฅูุดุงุก ูุซู ูุฐุง ุงูุนูุตุฑ ูู ุฎูุงู ุชุฑููุจู ุนูู ุงูุนูุตุฑ ุงูุฐู ูุนุฑุถ ุงูููุฏูู.  ุณูุณุงุนุฏูุง ุงูููุฏ ุงูุชุงูู ูู ุฐูู ุ ูุงูุฐู ุชุญุชุงุฌ ุฅูู ุฅุถุงูุชู ุฅูู ููู HTML ุชุญุช ุงูุนูุตุฑ <code>&lt;video&gt;</code> ุจุงููุนู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"overlay"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"400"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"300"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css">   </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#webcam</span></span></span><span class="css">, </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#overlay</span></span></span><span class="css"> {       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">position</span></span></span><span class="css">: absolute;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">top</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">left</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">;   } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ุฅุฐุง ุฃุฑุฏุช ุ ููููู ููู ุงูููุท ุงููุถูู ุฅูู ููู CSS ูููุตู. <br><br>  ุฃุถููุง ููุง ุนูุตุฑ <code>&lt;canvas&gt;</code> ููุณ ุงูุญุฌู ุฅูู ุงูุตูุญุฉ ูุนูุตุฑ <code>&lt;video&gt;</code> .  ุญูููุฉ ุฃู ุงูุนูุงุตุฑ ุณุชูุถุน ูู ููุณ ุงูููุถุน ูุถูููุฉ ูู ุฎูุงู ุงูุฃููุงุท ุงููุณุชุฎุฏูุฉ ููุง. <br><br>  ุงูุขู ุ ูู ูู ูุฑุฉ ูุนุฑุถ ุงููุณุชุนุฑุถ ุงูุฅุทุงุฑ ุงูุชุงูู ููููุฏูู ุ ุณูููู ุจุฑุณู ุดูุก ุนูู <code>&lt;canvas&gt;</code> .  ูุชู ุชูููุฐ ุฃู ุฑูุฒ ุฃุซูุงุก ุฅุฎุฑุงุฌ ูู ุฅุทุงุฑ ุจุงุณุชุฎุฏุงู ุขููุฉ <code>requestAnimationLoop()</code> .  ูุจู ุฅุฎุฑุงุฌ ุฃู ุดูุก ุฅูู <code>&lt;canvas&gt;</code> ุ ูุญุชุงุฌ ุฅูู ุฅุฒุงูุฉ ูุง ูุงู ุนููู ูู ูุจู ุ ููุณุญู.  ูููููุง ุจุนุฏ ุฐูู ุงูุชุฑุงุญ <code>clmtrackr</code> ูุฅุฎุฑุงุฌ ุงูุฑุณู ูุจุงุดุฑุฉ ุฅูู <code>&lt;canvas&gt;</code> . <br><br>  ุฅููู ุงูุดูุฑุฉ ุงูุชู ุชููุฐ ูุง ุชุญุฏุซูุง ุนูู ููุชู.  <code>ctrack.init()</code> ุฃุณูู ุงูุฃูุฑ <code>ctrack.init()</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs matlab">const overlay = $(<span class="hljs-string"><span class="hljs-string">'#overlay'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]; const overlayCC = overlay.getContext(<span class="hljs-string"><span class="hljs-string">'2d'</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trackingLoop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { // ,     , //     -   . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">requestAnimationFrame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(trackingLoop)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">let</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">currentPosition</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ctrack</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCurrentPosition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">overlayCC</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clearRect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(0, 0, 400, 300)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(currentPosition)</span></span></span><span class="hljs-function"> {   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ctrack</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(overlay)</span></span></span><span class="hljs-function">; } }</span></span></code> </pre> <br>  ุงูุขู ุงุณุชุฏุนุงุก ุฏุงูุฉ <code>trackingLoop()</code> ูู ุงูุฏุงูุฉ <code>onStreaming()</code> ูุจุงุดุฑุฉ ุจุนุฏ <code>ctrack.start()</code> .  ุณุชุฎุทุท ูุฐู ุงููุธููุฉ ููุณูุง ูุฅุนุงุฏุฉ ุชุดุบูููุง ูู ูู ุฅุทุงุฑ. <br><br>  ูู ุจุชุญุฏูุซ ุงูุตูุญุฉ ูุงูุธุฑ ุฅูู ูุงููุฑุง ุงูููุจ.  ูุฌุจ ุฃู ุชุฑู "ููุงุน" ุฃุฎุถุฑ ุญูู ูุฌูู ูู ูุงูุฐุฉ ุงูููุฏูู.  ูู ุจุนุถ ุงูุฃุญูุงู ุ ููู ูุชุนุฑู ุงููุธุงู ุนูู ุงููุฌู ุจุดูู ุตุญูุญ ุ ุชุญุชุงุฌ ุฅูู ุชุญุฑูู ุฑุฃุณู ููููุงู ูู ุงูุฅุทุงุฑ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/394/ab1/98a/394ab198a25c82f7a6c03eefdbe7c73c.png"></div><br>  <i><font color="#999999">ูุชุงุฆุฌ ุงูุชุนุฑู ุนูู ุงููุฌู</font></i> <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุญุฏุฏ ููุทูุฉ ุงูุตูุฑุฉ ุงูุชู ุชุญุชูู ุนูู ุงูุนูููู</font> </h2><br>  ุงูุขู ูุญู ุจุญุงุฌุฉ ุฅูู ุงูุนุซูุฑ ุนูู ุงูููุทูุฉ ุงููุณุชุทููุฉ ูู ุงูุตูุฑุฉ ุงูุชู ุชูุฌุฏ ูููุง ุงูุนููู ููุถุนูุง ุนูู ุนูุตุฑ <code>&lt;canvas&gt;</code> ูููุตู. <br><br>  ูุญุณู ุงูุญุธ ุ ูุง ุชุนุทููุง cmltracker ูุนูููุงุช ููุท ุญูู ูููุน ุงููุฌู ุ ูููู ุฃูุถูุง 70 ููุทุฉ ุชุญูู.  ุฅุฐุง ูุธุฑุช ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงุฆู</a> cmltracker ุ ููููู ุชุญุฏูุฏ ููุงุท ุงูุชุญูู ุงูุชู ูุญุชุงุฌูุง ุจุงูุถุจุท. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6e7/334/c6f/6e7334c6fa51c5c55ebd66b45d0d8dd8.png"></div><br>  <i><font color="#999999">ููุงุท ุงูุชุญูู</font></i> <br><br>  ููุฑุฑ ุฃู ุงูุนููู ูู ุงูุฌุฒุก ุงููุณุชุทูู ูู ุงูุตูุฑุฉ ุ ุงูุชู ุชูุงูุณ ุญุฏูุฏูุง ุงูููุงุท 23 ู 28 ู 24 ู 26 ุ ููุณุนุฉ ุจููุฏุงุฑ 5 ุจูุณู ูู ูู ุงุชุฌุงู.  ูุฌุจ ุฃู ูุชุถูู ูุฐุง ุงููุณุชุทูู ูู ูุง ูู ููู ุจุงููุณุจุฉ ููุง ุ ูุง ูู ูููู ุงููุณุชุฎุฏู ุฑุฃุณู ุฃูุซุฑ ูู ุงููุงุฒู. <br><br>  ุงูุขู ุ ูุจู ุฃู ูุชููู ูู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฌุฒุก ูู ุงูุตูุฑุฉ ุ ูุญุชุงุฌ ุฅูู ุนูุตุฑ <code>&lt;canvas&gt;</code> ูุงุญุฏ <code>&lt;canvas&gt;</code> .  ุงุจุนุงุฏูุง ุณุชููู 50x25 ุจูุณู.  ุณูู ูุชูุงุณุจ ูุฐุง ุงูุนูุตุฑ ูุน ูุณุชุทูู ูุน ุงูุนููู.  ุชุดูู ุงูุตูุฑุฉ ุทููู ููุณุช ูุดููุฉ. <br><br>  ุฃุถู ูุฐุง ุงูุฑูุฒ ุฅูู ููู HTML ุงูุฐู ูุตู <code>&lt;canvas&gt;</code> ุ ูุงูุฐู ุณูุชุถูู ุฌุฒุก ุงูุตูุฑุฉ ุงูุฐู ูุญุชูู ุนูู ุนููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"eyes"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"25"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css">   </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#eyes</span></span></span><span class="css"> {       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">position</span></span></span><span class="css">: absolute;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">top</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">right</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">;   } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ุณุชููู ุงููุธููุฉ ุงูุชุงููุฉ ุจุฅุฑุฌุงุน ุฅุญุฏุงุซูุงุช <code>y</code> ูุต ุ ุจุงูุฅุถุงูุฉ ุฅูู ุนุฑุถ ูุงุฑุชูุงุน ุงููุณุชุทูู ุงููุญูุท ุจุงูุนูููู.  ููุฏุฎู ุ ูุฃุฎุฐ ูุฌููุนุฉ ูู <code>positions</code> ุงููุณุชููุฉ ูู clmtrackr.  ูุงุญุธ ุฃู ูู ุฅุญุฏุงุซู ูุณุชูู ูู clmtrackr ูุญุชูู ุนูู ูููููู <code>x</code> ู <code>y</code> .  ูุฌุจ ุฅุถุงูุฉ ูุฐู ุงููุธููุฉ ุฅูู <code>main.js</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs markdown">function getEyesRectangle(positions) { const minX = positions[<span class="hljs-string"><span class="hljs-string">23</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>] - 5; const maxX = positions[<span class="hljs-string"><span class="hljs-string">28</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>] + 5; const minY = positions[<span class="hljs-string"><span class="hljs-string">24</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">1</span></span>] - 5; const maxY = positions[<span class="hljs-string"><span class="hljs-string">26</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">1</span></span>] + 5; const width = maxX - minX; const height = maxY - minY; return [minX, minY, width, height]; }</code> </pre> <br>  ุงูุขู ุ ูู ูู ุฅุทุงุฑ ุ ุณูููู ุจุงุณุชุฎุฑุงุฌ ูุณุชุทูู ุจุนููู ูู ุฏูู ุงูููุฏูู ุ ูุถุน ุฏุงุฆุฑุฉ ุญููู ุจุฎุท ุฃุญูุฑ ุนูู <code>&lt;canvas&gt;</code> ุ ูุงูุฐู ุชู ูุฑุถู ุนูู ุนูุตุฑ <code>&lt;video&gt;</code> ุ ุซู ูุณุฎู ุฅูู <code>&lt;canvas&gt;</code> ุงูุฌุฏูุฏ.  ูุฑุฌู ููุงุญุธุฉ ุฃูู ูู ุฃุฌู ุชุญุฏูุฏ ุงูููุทูุฉ ุงูุชู ูุญุชุงุฌูุง ุจุดูู ุตุญูุญ ุ ุณูููู ุจุญุณุงุจ ุงููุคุดุฑุงุช <code>resizeFactorX</code> ู <code>resizeFactorY</code> . <br><br>  ุงุณุชุจุฏู ูุชูุฉ <code>if</code> ูู ูุธููุฉ <code>trackingLoop()</code> ุจุงูููุฏ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentPosition) { //  ,     //   &lt;canvas&gt;,    &lt;video&gt; ctrack.draw(overlay); //  ,  ,    //   const eyesRect = getEyesRectangle(currentPosition); overlayCC.strokeStyle = <span class="hljs-string"><span class="hljs-string">'red'</span></span>; overlayCC.strokeRect(eyesRect[<span class="hljs-number"><span class="hljs-number">0</span></span>], eyesRect[<span class="hljs-number"><span class="hljs-number">1</span></span>], eyesRect[<span class="hljs-number"><span class="hljs-number">2</span></span>], eyesRect[<span class="hljs-number"><span class="hljs-number">3</span></span>]); //      , //        //      const resizeFactorX = video.videoWidth / video.width; const resizeFactorY = video.videoHeight / video.height; //          //    &lt;canvas&gt; const eyesCanvas = <span class="hljs-variable"><span class="hljs-variable">$</span></span>(<span class="hljs-string"><span class="hljs-string">'#eyes'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]; const eyesCC = eyesCanvas.getContext(<span class="hljs-string"><span class="hljs-string">'2d'</span></span>); eyesCC.drawImage(   video,   eyesRect[<span class="hljs-number"><span class="hljs-number">0</span></span>] * resizeFactorX, eyesRect[<span class="hljs-number"><span class="hljs-number">1</span></span>] * resizeFactorY,   eyesRect[<span class="hljs-number"><span class="hljs-number">2</span></span>] * resizeFactorX, eyesRect[<span class="hljs-number"><span class="hljs-number">3</span></span>] * resizeFactorY,   <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, eyesCanvas.width, eyesCanvas.height ); }</code> </pre> <br>  ุจุนุฏ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ุงูุขู ุ ูู ุงูููุชุฑุถ ุฃู ุชุฑู ูุณุชุทูููุง ุฃุญูุฑ ุญูู ุงูุนูููู ุ ููุง ูุญุชููู ูุฐุง ุงููุณุชุทูู ููุฌูุฏ ูู <code>&lt;canvas&gt;</code> ุงูููุงุจู.  ุฅุฐุง ูุงูุช ุนููุงู ุฃูุจุฑ ูู ุนููุงู ุ <code>getEyeRectangle</code> ูุธููุฉ <code>getEyeRectangle</code> . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6c8/29e/5a3/6c829e5a354575ed9c269bebf20c5a5a.png"></div><br>  <i><font color="#999999">ุนูุตุฑ &lt;canvas&gt; ูุฑุณู ูุณุชุทููุงู ูุญุชูู ุนูู ุตูุฑุฉ ุนููู ุงููุณุชุฎุฏู</font></i> <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุฌูุน ุงูุจูุงูุงุช</font> </h2><br>  ููุงู ุทุฑู ุนุฏูุฏุฉ ูุฌูุน ุงูุจูุงูุงุช.  ูุฑุฑุช ุงุณุชุฎุฏุงู ุงููุนูููุงุช ุงูุชู ูููู ุงูุญุตูู ุนูููุง ูู ุงููุงูุณ ูููุญุฉ ุงูููุงุชูุญ.  ูู ูุดุฑูุนูุง ุ ูุจุฏู ุฌูุน ุงูุจูุงูุงุช ููุฐุง. <br><br>  ูููู ุงููุณุชุฎุฏู ุจุชุญุฑูู ุงููุคุดุฑ ุญูู ุงูุตูุญุฉ ููุฑุงูุจู ุจุนูููู ุ ุจุงูุถุบุท ุนูู <code></code> ุนูู ููุญุฉ ุงูููุงุชูุญ ูู ูู ูุฑุฉ ูุญุชุงุฌ ูููุง ุงูุจุฑูุงูุฌ ุฅูู ุชุณุฌูู ุนููุฉ ุฃุฎุฑู.  ูุน ูุฐุง ุงูููุฌ ุ ูู ุงูุณูู ุฌูุน ูุฌููุนุฉ ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุจุณุฑุนุฉ ูุชุฏุฑูุจ ุงููููุฐุฌ. <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ouseุชุชุจุน ุงููุงูุณ</font> </h3><br>  ูู ุฃุฌู ูุนุฑูุฉ ููุงู ูุคุดุฑ ุงููุงูุณ ุจุงูุถุจุท ุนูู ุตูุญุฉ ุงูููุจ ุ ูุญุชุงุฌ ุฅูู ูุนุงูุฌ ุฃุญุฏุงุซ <code>document.onmousemove</code> .  ูุธููุชูุง ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุทุจูุน ุงูุฅุญุฏุงุซูุงุช ุจุญูุซ ุชุชูุงุณุจ ูุน ุงููุทุงู [-1 ุ 1]: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">//   : const mouse = { x: <span class="hljs-number"><span class="hljs-number">0</span></span>, y: <span class="hljs-number"><span class="hljs-number">0</span></span>, handleMouseMove: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(event) {   //      ,    [<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]   mouse.x = (event.clientX / $(<span class="hljs-keyword"><span class="hljs-keyword">window</span></span>).width()) * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>;   mouse.y = (event.clientY / $(<span class="hljs-keyword"><span class="hljs-keyword">window</span></span>).height()) * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>; }, } document.onmousemove = mouse.handleMouseMove;</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">Cap ุงูุชูุงุท ุงูุตูุฑ</font> </h3><br>  ูุงูุชูุงุท ุงูุตูุฑุฉ ุงูุชู ูุนุฑุถูุง <code>&lt;canvas&gt;</code> ูุญูุธูุง ูููุชุฑ ุ ูููุฑ <code>tf.fromPixels()</code> ูุธููุฉ ุงููุณุงุนุฏ <code>tf.fromPixels()</code> .  ูุณุชุฎุฏููุง ูุญูุธ ุงูุตูุฑุฉ ุซู ุชุทุจูุนูุง ูู <code>&lt;canvas&gt;</code> ุงูุฐู ูุนุฑุถ ูุณุชุทููุงู ูุญุชูู ุนูู ุนููู ุงููุณุชุฎุฏู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getImage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { //       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tf.tidy(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {   const image = tf.fromPixels($(<span class="hljs-string"><span class="hljs-string">'#eyes'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]);   //  &lt;i&gt;&lt;font color=<span class="hljs-string"><span class="hljs-string">"#999999"</span></span>&gt;&lt;/font&gt;&lt;/i&gt;:   const batchedImage = image.expandDims(<span class="hljs-number"><span class="hljs-number">0</span></span>);   //    :   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> batchedImage.toFloat().div(tf.scalar(<span class="hljs-number"><span class="hljs-number">127</span></span>)).<span class="hljs-built_in"><span class="hljs-built_in">sub</span></span>(tf.scalar(<span class="hljs-number"><span class="hljs-number">1</span></span>)); }); }</code> </pre> <br>  ูุงุญุธ ุฃูู ูุชู ุงุณุชุฎุฏุงู ูุธููุฉ <code>tf.tidy()</code> ููุชูุธูู ุจุนุฏ ุงูุงูุชูุงุก. <br><br>  ูููููุง ููุท ุญูุธ ุฌููุน ุงูุนููุงุช ูู ูุฌููุนุฉ ุชุฏุฑูุจ ูุจูุฑุฉ ูุงุญุฏุฉ ุ ูููู ูู ุงูุชุนูู ุงูุขูู ุ ูู ุงูููู ุงูุชุญูู ูู ุฌูุฏุฉ ุชุฏุฑูุจ ุงููููุฐุฌ.  ูุฐุง ูู ุงูุณุจุจ ูู ุฃููุง ุจุญุงุฌุฉ ุฅูู ุญูุธ ุจุนุถ ุงูุนููุงุช ูู ุนููุฉ ุชุญูู ูููุตูุฉ.  ุจุนุฏ ุฐูู ุ ูููููุง ุงูุชุญูู ูู ุณููู ุงููููุฐุฌ ุนูู ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ูุฐูู ููุนุฑูุฉ ูุง ุฅุฐุง ูุงู ุงููููุฐุฌ ูุฏ ุชู ุชุฏุฑูุจู ุจุดูู ููุฑุท.  ููุฐุง ุงูุบุฑุถ ุ ูุชู ุชุถููู 20ูช ูู ุฅุฌูุงูู ุนุฏุฏ ุงูุนููุงุช ูู ุนููุฉ ุงูุชุญูู. <br><br>  ูููุง ููู ุงูููุฏ ุงููุณุชุฎุฏู ูุฌูุน ุงูุจูุงูุงุช ูุงูุนููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">const dataset = { train: {   n: <span class="hljs-number"><span class="hljs-number">0</span></span>,   x: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>,   y: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, }, val: {   n: <span class="hljs-number"><span class="hljs-number">0</span></span>,   x: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>,   y: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, }, } <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> captureExample() { //            tf.tidy(<span class="hljs-keyword"><span class="hljs-keyword">function</span></span>() {   const image = getImage();   const mousePos = tf.tensor1d([mouse.x, mouse.y]).expandDims(<span class="hljs-number"><span class="hljs-number">0</span></span>);   // ,    (  )     const subset = dataset[Math.random() &gt; <span class="hljs-number"><span class="hljs-number">0.2</span></span> ? <span class="hljs-string"><span class="hljs-string">'train'</span></span> : <span class="hljs-string"><span class="hljs-string">'val'</span></span>];   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (subset.x == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) {     //        subset.x = tf.keep(image);     subset.y = tf.keep(mousePos);   } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {     //          const oldX = subset.x;     const oldY = subset.y;     subset.x = tf.keep(oldX.concat(image, <span class="hljs-number"><span class="hljs-number">0</span></span>));     subset.y = tf.keep(oldY.concat(mousePos, <span class="hljs-number"><span class="hljs-number">0</span></span>));   }   //     subset.n += <span class="hljs-number"><span class="hljs-number">1</span></span>; }); }</code> </pre> <br>  ูุฃุฎูุฑูุง ุ ูุญุชุงุฌ ุฅูู ุฑุจุท ูุฐู ุงููุธููุฉ <code></code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs matlab">$(<span class="hljs-string"><span class="hljs-string">'body'</span></span>).keyup(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(event)</span></span></span><span class="hljs-function"> { //         </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(event.keyCode == 32)</span></span></span><span class="hljs-function"> {   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">captureExample</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">event</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">preventDefault</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">false</span></span></span><span class="hljs-function">; } });</span></span></code> </pre> <br>  ุงูุขู ูู ูู ูุฑุฉ ุชุถุบุท ูููุง ุนูู <code></code> ุ ุชุชู ุฅุถุงูุฉ ุตูุฑุฉ ุงูุนูู ูุฅุญุฏุงุซูุงุช ูุคุดุฑ ุงููุงูุณ ุฅูู ุฅุญุฏู ูุฌููุนุงุช ุงูุจูุงูุงุช. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุชุฏุฑูุจ ูููุฐุฌู</font> </h2><br>  ุฅูุดุงุก ุดุจูุฉ ุนุตุจูุฉ ุชูุงููููุฉ ุจุณูุทุฉ.  ูููุฑ TensorFlow.js ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุชุฐูุฑูุง ุจู Keras ููุฐุง ุงูุบุฑุถ.  ูุฌุจ ุฃู ุชุญุชูู ุงูุดุจูุฉ ุนูู ุทุจูุฉ <code>conv2d</code> ุ ูุทุจูุฉ <code>maxPooling2d</code> ุ ูุฃุฎูุฑูุง ุทุจูุฉ <code>dense</code> <code>maxPooling2d</code> ุฅุฎุฑุงุฌ (ุชูุซู ุฅุญุฏุงุซูุงุช ุงูุดุงุดุฉ).  ุนูู ุทูู ุงูุทุฑูู ุ ุฃุถูุช ุทุจูุฉ <code>dropout</code> ูุทุจูุฉ <code>flatten</code> ุฅูู ุงูุดุจูุฉ ุ ูููุธู ุ ูู ุฃุฌู ุชุญููู ุงูุจูุงูุงุช ุซูุงุฆูุฉ ุงูุฃุจุนุงุฏ ุฅูู ุฃุญุงุฏูุฉ ุงูุจุนุฏ.  ูุชู ุงูุชุฏุฑูุจ ุนูู ุงูุดุจูุฉ ุจุงุณุชุฎุฏุงู ูุญุณู ุขุฏู. <br><br>  ูุฑุฌู ููุงุญุธุฉ ุฃููู ุงุณุชูุฑุช ุนูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ ุงููุณุชุฎุฏูุฉ ููุง ุจุนุฏ ุชุฌุฑุจุฉ ุฌูุงุฒ MacBook Air ุงูุฎุงุต ุจู.  ููููู ุงุฎุชูุงุฑ ุงูุชูููู ุงูุฎุงุต ุจู ูููููุฐุฌ. <br><br>  ููุง ูู ุฑูุฒ ุงููููุฐุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">let currentModel; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createModel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { const model = tf.sequential(); model.add(tf.layers.conv2d({   kernelSize: <span class="hljs-number"><span class="hljs-number">5</span></span>,   filters: <span class="hljs-number"><span class="hljs-number">20</span></span>,   strides: <span class="hljs-number"><span class="hljs-number">1</span></span>,   activation: <span class="hljs-string"><span class="hljs-string">'relu'</span></span>,   inputShape: [<span class="hljs-variable"><span class="hljs-variable">$</span></span>(<span class="hljs-string"><span class="hljs-string">'#eyes'</span></span>)<span class="hljs-type"><span class="hljs-type">.height</span></span>(), <span class="hljs-variable"><span class="hljs-variable">$</span></span>(<span class="hljs-string"><span class="hljs-string">'#eyes'</span></span>)<span class="hljs-type"><span class="hljs-type">.width</span></span>(), <span class="hljs-number"><span class="hljs-number">3</span></span>], })); model.add(tf.layers.maxPooling2d({   poolSize: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>],   strides: [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], })); model.add(tf.layers.flatten()); model.add(tf.layers.dropout(<span class="hljs-number"><span class="hljs-number">0.2</span></span>)); //    x  y model.add(tf.layers.dense({   units: <span class="hljs-number"><span class="hljs-number">2</span></span>,   activation: <span class="hljs-string"><span class="hljs-string">'tanh'</span></span>, })); //   Adam     <span class="hljs-number"><span class="hljs-number">0.0005</span></span>     MSE model.compile({   optimizer: tf.train.adam(<span class="hljs-number"><span class="hljs-number">0.0005</span></span>),   loss: <span class="hljs-string"><span class="hljs-string">'meanSquaredError'</span></span>, }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> model; }</code> </pre> <br>  ูุจู ุงูุจุฏุก ูู ุชุฏุฑูุจ ุงูุดุจูุฉ ุ ูููุง ุจุชุนููู ุนุฏุฏ ุซุงุจุช ูู ุงูุนุตูุฑ ูุญุฌู ุญุฒูุฉ ูุชุบูุฑ (ุญูุซ ูู ุงููุญุชูู ุฃู ูุนูู ูุน ูุฌููุนุงุช ุจูุงูุงุช ุตุบูุฑุฉ ุฌุฏูุง). <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fitModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> batchSize = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(dataset.train.n * <span class="hljs-number"><span class="hljs-number">0.1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (batchSize &lt; <span class="hljs-number"><span class="hljs-number">4</span></span>) {   batchSize = <span class="hljs-number"><span class="hljs-number">4</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (batchSize &gt; <span class="hljs-number"><span class="hljs-number">64</span></span>) {   batchSize = <span class="hljs-number"><span class="hljs-number">64</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentModel == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) {   currentModel = createModel(); } currentModel.fit(dataset.train.x, dataset.train.y, {   <span class="hljs-attr"><span class="hljs-attr">batchSize</span></span>: batchSize,   <span class="hljs-attr"><span class="hljs-attr">epochs</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>,   <span class="hljs-attr"><span class="hljs-attr">shuffle</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>,   <span class="hljs-attr"><span class="hljs-attr">validationData</span></span>: [dataset.val.x, dataset.val.y], }); }</code> </pre> <br>  ุงูุขู ูู ุจุฅุถุงูุฉ ุฒุฑ ุฅูู ุงูุตูุญุฉ ูุจุฏุก ุงูุชุนูู.  ููุชูู ูุฐุง ุงูุฑูุฒ ุฅูู ููู HTML: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"train"</span></span></span><span class="hljs-tag">&gt;</span></span>Train!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css">   </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#train</span></span></span><span class="css"> {       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">position</span></span></span><span class="css">: absolute;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">top</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">50%</span></span></span><span class="css">;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">left</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">50%</span></span></span><span class="css">;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform</span></span></span><span class="css">: </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">translate</span></span></span><span class="css">(-50%, -50%);       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">24pt</span></span></span><span class="css">;   } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ูุฌุจ ุฅุถุงูุฉ ูุฐุง ุงูุฑูุฒ ุฅูู ููู JS: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs matlab">$(<span class="hljs-string"><span class="hljs-string">'#train'</span></span>).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fitModel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; });</span></span></code> </pre> <br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุฃูู ููุธุฑ ุงููุณุชุฎุฏูุ</font> </h2><br>  ุงูุขู ุจุนุฏ ุฃู ูุชููู ูู ุฌูุน ุงูุจูุงูุงุช ูุฅุนุฏุงุฏ ุงููููุฐุฌ ุ ูููููุง ุงูุจุฏุก ูู ุชููุน ุงูููุงู ุนูู ุงูุตูุญุฉ ุงูุชู ูุจุญุซ ุนููุง ุงููุณุชุฎุฏู.  ูุดูุฑ ุฅูู ูุฐุง ุงูููุงู ุจูุณุงุนุฏุฉ ุฏุงุฆุฑุฉ ุฎุถุฑุงุก ุชุชุญุฑู ุญูู ุงูุดุงุดุฉ. <br><br>  ุฃููุงู ุ ุฃุถู ุฏุงุฆุฑุฉ ุฅูู ุงูุตูุญุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"target"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css">   </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#target</span></span></span><span class="css"> {       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background-color</span></span></span><span class="css">: lightgreen;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">position</span></span></span><span class="css">: absolute;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border-radius</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">50%</span></span></span><span class="css">;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">height</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">40px</span></span></span><span class="css">;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">40px</span></span></span><span class="css">;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transition</span></span></span><span class="css">: all </span><span class="hljs-number"><span class="css"><span class="hljs-number">0.1s</span></span></span><span class="css"> ease;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">box-shadow</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">20px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">10px</span></span></span><span class="css"> white;       </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">4px</span></span></span><span class="css"> solid </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">rgba</span></span></span><span class="css">(0,0,0,0.5);   } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  ูู ุฃุฌู ุชุญุฑูููุง ุญูู ุงูุตูุญุฉ ุ ูููู ุจุดูู ุฏูุฑู ุงูุตูุฑุฉ ุงูุญุงููุฉ ูุนููู ุงูุดุจูุฉ ุงูุนุตุจูุฉ ููุทุฑุญ ุนูููุง ุณุคุงููุง ุนู ุงูููุงู ุงูุฐู ูุจุญุซ ููู ุงููุณุชุฎุฏู.  ููุชุฌ ุนู ุงููููุฐุฌ ุงุณุชุฌุงุจุฉ ุฅุญุฏุงุซูุชูู ูุฌุจ ุชุญุฑูู ุงูุฏุงุฆุฑุฉ ุนูู ุทููููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">moveTarget</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(currentModel == null)</span></span></span><span class="hljs-function"> {   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function">; } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tf</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tidy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(function()</span></span></span><span class="hljs-function"> {   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">image</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getImage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prediction</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">currentModel</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">predict</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(image)</span></span></span><span class="hljs-function">;   //          </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">targetWidth</span></span></span><span class="hljs-function"> = $</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">('#target')</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">outerWidth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">targetHeight</span></span></span><span class="hljs-function"> = $</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">('#target')</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">outerHeight</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">;   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(prediction.get(0, 0)</span></span></span><span class="hljs-function"> + 1) / 2 * </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($(window)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">width</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> - </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">targetWidth</span></span></span><span class="hljs-function">);   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">y</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(prediction.get(0, 1)</span></span></span><span class="hljs-function"> + 1) / 2 * </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($(window)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">height</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> - </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">targetHeight</span></span></span><span class="hljs-function">);   //     :   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">const</span></span></span><span class="hljs-function"> $</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">target</span></span></span><span class="hljs-function"> = $</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">('#target')</span></span></span><span class="hljs-function">;   $</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">target</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">css</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">('left', x + 'px')</span></span></span><span class="hljs-function">;   $</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">target</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">css</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">('top', y + 'px')</span></span></span><span class="hljs-function">; }); } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setInterval</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(moveTarget, 100)</span></span></span><span class="hljs-function">;</span></span></code> </pre> <br>  ููุช ุจุชุนููู ุงููุงุตู ุงูุฒููู ุฅูู 100 ูููู ุซุงููุฉ.  ุฅุฐุง ูู ููู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ููููุง ูุซู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ุ ููุฏ ุชูุฑุฑ ุชูุจูุฑู. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุงูููุฎุต</font> </h2><br>  ุงูุขู ูุฏููุง ูู ูุง ูุญุชุงุฌู ูุชูููุฐ ุงูููุฑุฉ ุงูููุฏูุฉ ูู ุจุฏุงูุฉ ูุฐู ุงูููุงุฏ.  ุชุฌุฑุจุฉ ูุง ูููุง ุจู.  ุญุฑู ูุคุดุฑ ุงููุงูุณ ุ ูุงุชุจุน ุนูููู ุ ูุงุถุบุท ุนูู ููุชุงุญ ุงููุณุงูุฉ.  ุซู ุงููุฑ ููู ุฒุฑ ุจุฏุก ุงูุชุฏุฑูุจ. <br><br>  ุฌูุน ุงููุฒูุฏ ูู ุงูุจูุงูุงุช ุ ุงููุฑ ููู ุงูุฒุฑ ูุฑุฉ ุฃุฎุฑู.  ุจุนุฏ ูุชุฑุฉ ุ ุณุชุจุฏุฃ ุงูุฏุงุฆุฑุฉ ุงูุฎุถุฑุงุก ูู ุงูุชุญุฑู ุญูู ุงูุดุงุดุฉ ุจุนุฏ ูุธุฑุงุชู.  ูู ุงูุจุฏุงูุฉ ุ ูู ูููู ูู ุงูุฌูุฏ ุจุดูู ุฎุงุต ุงููุตูู ุฅูู ุงูููุงู ุงูุฐู ุชุจุญุซ ููู ุ ูููู ุจุฏุกูุง ูู ุญูุงูู 50 ุนููุฉ ุชู ุฌูุนูุง ุ ุจุนุฏ ุนุฏุฉ ูุฑุงุญู ูู ุงูุชุฏุฑูุจ ุ ูุฅุฐุง ููุช ูุญุธูุธูุง ุ ูุณูู ุชูุชูู ุจุฏูุฉ ุฅูู ุงูููุทุฉ ุงูุชู ุชุจุญุซ ุนููุง ูู ุงูุตูุญุฉ .  ูููู ุงูุนุซูุฑ ุนูู ุงูุฑูุฒ ุงููุงูู ูููุซุงู ุงูุฐู ุชู ุชุญูููู ูู ูุฐู ุงููุงุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><br>  ุนูู ุงูุฑุบู ูู ุฃู ูุง ูุนููุงู ูุจุฏู ูุซูุฑูุง ููุงูุชูุงู ุจุงููุนู ุ ูุง ูุฒุงู ููุงู ุงูุนุฏูุฏ ูู ุงูุชุญุณููุงุช ุงูุชู ูููู ุฅุฌุฑุงุคูุง.  ูุงุฐุง ูู ุญุฑู ุงููุณุชุฎุฏู ุฑุฃุณู ุฃู ุบููุฑ ููุงูู ุฃูุงู ุงููุงููุฑุงุ  ูู ูุถุฑ ูุดุฑูุนูุง ุจุงูุฅููุงููุงุช ุงููุชุนููุฉ ุจุงุฎุชูุงุฑ ุญุฌู ุงููุณุชุทูู ูููุถุนู ูุฒุงููุชู ุงูุชู ุชุญูุท ุจููุทูุฉ ุงูุตูุฑุฉ ุงูุชู ุชูุฌุฏ ูููุง ุงูุนููู.  ูู ุงููุงูุน ุ ูุชู ุชูููุฐ ุนุฏุฏ ุบูุฑ ูููู ูู ุงูููุฒุงุช ุงูุฅุถุงููุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุณุฎุฉ ุงููุงููุฉ ูู</a> ุงููุซุงู ุงูุฐู ูููุด ููุง.  ููุง ุจุนุถ ูููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฎูุงุฑุงุช ุชุฎุตูุต ุงููุณุชุทูู ุงููุญูุท ุจุงูุนูู ุงูููุตูู ุฃุนูุงู. </li><li style=";text-align:right;direction:rtl">  ุชุญููู ุตูุฑุฉ ุฅูู ุฏุฑุฌุงุช ุฑูุงุฏูุฉ. </li><li style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุฏุงุฑุฉ ุงูุฅุญุฏุงุซูุงุช</a> . </li><li style=";text-align:right;direction:rtl">  ุฎุฑูุทุฉ ุญุฑุงุฑูุฉ ููุชุญูู ูู ุฃุฏุงุก ุงููููุฐุฌ ุจุดูู ุฌูุฏ ูุฃูู ูู ููุฌุญ. </li><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุญูุธ ูุชุญููู ูุฌููุนุงุช ุงูุจูุงูุงุช. </li><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุญูุธ ูุชุญููู ุงูููุงุฐุฌ. </li><li style=";text-align:right;direction:rtl">  ุงูุญูุงุธ ุนูู ุงูุฃูุฒุงู ุงูุชู ุฃุธูุฑุช ุงูุญุฏ ุงูุฃุฏูู ูู ููุฏุงู ุงูุชุฏุฑูุจ ุจุนุฏ ุงูุชุฏุฑูุจ. </li><li style=";text-align:right;direction:rtl">  ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณูุฉ ูุน ุชุนูููุงุช ููุฌุฒุฉ ููุนูู ูุน ุงููุธุงู. </li></ul><br>  <b>ุฃุนุฒุงุฆู ุงููุฑุงุก!</b>  ูู ุชุณุชุฎุฏู TensorFlowุ <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar426055/">https://habr.com/ru/post/ar426055/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar426041/index.html">ุญู ุฑูุฒู ูููุนุงุฏูุงุช ุงูุชูุงุถููุฉ ุงูุฎุทูุฉ ูุงููุธู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ุชุญููู ูุงุจูุงุณ ุจุงุณุชุฎุฏุงู SymPy</a></li>
<li><a href="../ar426045/index.html">ุงุณุชุซูุงุกุงุช ุฎุงุตุฉ ูู .NET ูููููุฉ ุฅุนุฏุงุฏูุง</a></li>
<li><a href="../ar426047/index.html">10 ูุชุจ ุฑุงุฆุนุฉ ูููุจุชุฏุฆูู ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ</a></li>
<li><a href="../ar426051/index.html">ุชุญุณูู ููุงุฑุงุช ุชุตุญูุญ ุงูุจุฑุงูุฌ - ุจุนุถ ุงููุตุงุฆุญ</a></li>
<li><a href="../ar426053/index.html">ุงูุชุฎุฒูู ุงููุคูุช ููุนุงูุฌ ุงูุฃุญุฏุงุซ ูุชุญุณูู ุฃุฏุงุก ุงูุชุทุจูู ุงููุชูุงุนู</a></li>
<li><a href="../ar426059/index.html">ููุงุก ุชูุชู PHP # 2: ููุฏูู ุงูุฎุทุจ</a></li>
<li><a href="../ar426061/index.html">ุชูุถู Microsoft ุฅูู ุดุจูุฉ ุงูุงุฎุชุฑุงุน ุงูููุชูุญ ูุชููุญ 60ุ000 ุชุฑุฎูุต</a></li>
<li><a href="../ar426063/index.html">ุงุจุชูุงุฑุงุช ุงููุตูููุฉ ุงููุจุชุฏุฆุฉ HPE MSA: ูุตูููุฉ ููุงุด ุฃูุซุฑ ุจุฃุณุนุงุฑ ูุนูููุฉ ูุชูุงูู ุงูุญููู ุงูุบููุฉ</a></li>
<li><a href="../ar426065/index.html">Smart TV ุ ุงูุฐู ูุญุฏุฏ ุงูููุงุฉ ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ุ ุฃู ุญู Sudoku ุบูุฑ ุนุงุฏู ููุญุชูู ุงูููุฏูู</a></li>
<li><a href="../ar426067/index.html">ุชุชุญุฑู ูุงููุงุฑุชููุ ูุฑุฉ ุฃุฎุฑู ุญูู ููู ุงูููุธููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>