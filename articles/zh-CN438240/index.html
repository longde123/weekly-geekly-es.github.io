<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😃 🐟 👩🏽‍🎨 对云托管服务器的CPU和SSD进行负载测试：比较Selectel，服务器，MCS和I. Cloud ✊🏾 🚫 🗜️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们一直与在线商店和服务合作，并且客户有时会想知道他们可以在哪里托管他们的项目。 这些问题比普通的问题更多：要选择哪种主机，在哪个区域，如何决定配置。 近年来，越来越多的人偏爱云托管。 我们提到的针对新项目的细分市场中，租用成熟机架的比例越来越少，并且现有公司已逐渐将其产品转移到云平台。 原因很简单...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>对云托管服务器的CPU和SSD进行负载测试：比较Selectel，服务器，MCS和I. Cloud</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/438240/"><img src="https://habrastorage.org/webt/9e/b-/oi/9eb-oiotleh9frvzdkhehewswua.png"><br><br> 我们一直与在线商店和服务合作，并且客户有时会想知道他们可以在哪里托管他们的项目。 这些问题比普通的问题更多：要选择哪种主机，在哪个区域，如何决定配置。 近年来，越来越多的人偏爱云托管。 我们提到的针对新项目的细分市场中，租用成熟机架的比例越来越少，并且现有公司已逐渐将其产品转移到云平台。 原因很简单-除了计算能力外，业务不再仅仅是管理“经济”的命令行。 基础设施管理的便利性，更重要的是，还需要自动化的可能性。 对于全球和俄罗斯市场来说，这都是普遍现象。 如果您喜欢，趋势。 <br><br> 在过去的两年中，云托管市场出现了两个新的主要参与者：Yandex。Cloud和Mail Cloud Solutions。 我们对所介绍的每个公司的硬件功能以及所提供的资源配置如何真正有效产生了兴趣。 我们决定进行查找，然后将数据与宣布的报价进行比较。 <br><br> 由于我们不出售自己托管的产品，因此我们仅定期为客户提供建议并为其选择最佳的价格质量解决方案，因此在这种情况下，我们可以相对客观一些。 <br><a name="habracut"></a><br><h3> 测验 </h3><br> 为了进行分析，选择了三个主要特征：计算资源的性能，磁盘子系统的性能以及存储/数据传输的成本。 我们没有经历所有可能的数十种云托管选项，而是立即选择了四个最明显和最受欢迎的国内解决方案。 这些是Selectel，MCS，Ya。Oblaka和Servers.ru的云服务。 <br><br> 让我们首先考虑每月存储和传输1 GB数据的成本： <br><br>  <b>Selectel</b> ：一切都很简单明了，没有其他条件。 <br><table><caption> 光盘/月 </caption><tbody><tr><td> 基盘 </td><td>  7.45₽/ GB </td></tr><tr><td> 快速驾驶 </td><td>  ₽44.68 / GB </td></tr><tr><td> 通用驱动器 </td><td>  ₽29.79 / GB </td></tr><tr><td> 本地磁盘 </td><td>  ₽15.05/ GB </td></tr></tbody></table><table><caption> 每月流量 </caption><tbody><tr><td> 最高10 Tb </td><td>  2 1.02 / GB </td></tr><tr><td> 高达90 Tb </td><td> 每GB $ 0.92 </td></tr><tr><td> 高达900 Tb </td><td>  ₽0.82 / GB </td></tr><tr><td> 超过1000 Tb </td><td>  ₽0.71 / GB </td></tr></tbody></table> 不幸的是， <b>服务器</b>并没有显示磁盘的确切价格，而只是显示了组装完成后的总价格。 <br><br>  <b>邮件</b>不会花费流量，而只会占用所使用磁盘类型的占用空间。 并提供特定价格的交钥匙解决方案。 <br><table><tbody><tr><td> 硬碟 </td><td>  7₽/ GB </td></tr><tr><td> 固态硬盘 </td><td>  19₽/ GB </td></tr></tbody></table>  <b>Yandex</b>也很简单： <br><table><caption> 光盘/月 </caption><tbody><tr><td> 硬碟 </td><td>  2.0847 RUB / GB </td></tr><tr><td> 固态硬盘 </td><td>  ₽7,4441/ GB </td></tr></tbody></table><table><caption> 传出流量 </caption><tbody><tr><td> 最高10 Tb </td><td>  5 1,5254 / GB </td></tr><tr><td> 高达50 Tb </td><td>  1,272 </td></tr><tr><td> 高达150 Tb </td><td>  8 1.08 / GB </td></tr><tr><td>  150 Tb以上 </td><td>  ₽0.9/ GB </td></tr></tbody></table> 为了客观地评估所建议的软件，比较性能以及评估价格/质量比，决定对IOPS指标（例如CPU和SSD性能）进行压力测试。 <br><br> 在Y. Oblak的情况下，使用SSD NVMe的价格来计算成本，因此总体价格标签会有所不同。 除了Ya。Oblaka，Selectel规范还提供了NVMe规范，但是在我们的案例中，组装时使用的是普通SSD的价格。 <br><br> 具有以下特征的部件被选为测试平台： <br><table><tbody><tr><td> 中央处理器 </td><td>  2芯 </td></tr><tr><td> 内存 </td><td>  4 GB </td></tr><tr><td> 固态硬盘 </td><td>  80 GB </td></tr></tbody></table> 查看汇总表，其中包含正在考虑的所有数据中心的组装成本： <br><table><tbody><tr><td>  Selectel </td><td> 伺服器 </td><td> 麦克斯 </td><td>  I.云（SSD NVMe） </td></tr><tr><td>  ₽5,521.78 <br>  （3 GB的免费流量） </td><td>  ₽2440,68 <br>  （包括4 TB的流量，最高10 Gb / s） </td><td>  3300₽（包括高达1 Gbit / s的无限信道） </td><td>  ₽855,0224 </td></tr></tbody></table>  <b>测试是使用Stress-ng和sysbench工具进行的</b> 。 对于CPU，负载分为1、2和4个线程。 <br><br><table><caption> 使用Stress-ng实用程序进行CPU测试（条件操作/秒，bogo ops /秒）： </caption><tbody><tr><td></td><td>  1个线程 </td><td>  2线程 </td><td>  4个线程 </td></tr><tr><td>  Selectel </td><td>  11476 </td><td>  22888 </td><td>  22019 </td></tr><tr><td> 伺服器 </td><td>  9174 </td><td>  18233 </td><td>  18093 </td></tr><tr><td>  I.云 </td><td>  8280 </td><td>  17586 </td><td>  17620 </td></tr><tr><td> 麦克斯 </td><td>  7911 </td><td>  15926 </td><td>  14107 </td></tr></tbody></table><br><br><img src="https://habrastorage.org/webt/l0/en/wn/l0enwnno6ih5frocbx2tl3ffgpg.jpeg"><br><br><table><caption> 使用sysbench实用程序进行CPU测试： </caption><tbody><tr><td></td><td>  1个线程 </td><td>  2线程 </td><td>  4个线程 </td></tr><tr><td>  Selectel </td><td>  731.45 </td><td>  1471 </td><td>  1457.71 </td></tr><tr><td> 伺服器 </td><td>  707.9 </td><td>  1406.32 </td><td>  1406.31 </td></tr><tr><td>  I.云 </td><td>  707.81 </td><td>  1381.74 </td><td>  1379.83 </td></tr><tr><td> 麦克斯 </td><td>  683.04 </td><td>  1344.15 </td><td>  1344.54 </td></tr></tbody></table><br><br><img src="https://habrastorage.org/webt/gg/89/bx/gg89bxhrexdfo4elqvcohh8n6ww.png"><br><br><img src="https://habrastorage.org/webt/o9/gr/gw/o9grgwj8q4hf3avxj7a1s_f911o.png"><br><br><img src="https://habrastorage.org/webt/uq/4x/yn/uq4xynilyi_5blkarmgyt1-qzto.jpeg"><br><br> 根据以上数据，我们可以得出结论：该组件完全使用2个处理器内核，输入/输出操作数量的指标随着使用的内核数量的增加而翻倍。  Selectel处理器显示出最高的速率，因此具有更高的性能。 <br><br> 与其他数据中心不同，Selectel提供了三种处理器选项供您选择： <br><br><ul><li> 英特尔至强E5-2670 v3 2.3 GHz; </li><li> 英特尔至强E5-2680 v4 2.4 GHz; </li><li> 英特尔至强可扩展6140 2.3 GHz。 </li></ul><br> 邮件处理器（Intel Xeon E5-2660 v4 2 GHz）表现出最低的性能。 服务器和Ya.Cloud处理器在负载下显示出大致可比的结果，但是服务器处理器稍好一点，使用了两个内核-分别为18233和17586。 <br><br> 对于SSD，通过随机读取限制为4GB的512字节数据包和读取/写入（数据库仿真）具有75％读取限制和25％写入限制为16GB限制的4kb数据包来检查IOPS的数量。 <br><br><table><caption>  SSD测试结果： </caption><tbody><tr><td></td><td> 读书 </td><td> 读/写 </td></tr><tr><td>  Selectel </td><td>  12800 </td><td>  12300/4122 </td></tr><tr><td> 伺服器 </td><td>  106000 </td><td>  8367/2799 </td></tr><tr><td>  I.云 </td><td>  6228 </td><td>  2841/947 </td></tr><tr><td> 麦克斯 </td><td>  23200 </td><td>  6152/2061 </td></tr></tbody></table><br><br><img src="https://habrastorage.org/webt/dv/zb/hf/dvzbhfn0n3v7imqadvrbj3ihiam.jpeg"><br><br> 从测试结果中，我们可以得出结论，服务器可提供最佳读取的SSD-达到106,000 IOPS。 <br><br>  MCS提供的SSD显示了一个良好的磁盘读取指示器，指示器为23,200 IOPS。 其次是Selectel SSD，其值为12800。Ya。提供的SSD的最不令人满意的指标是Cloud：IOPS值为6228完全没有用处：-（在Ya。Cloud SSD测试中，这同样可以说不仅是从磁盘读取，该指示器非常小-2841/947。使用SSD Mail时情况会更好，但是结果也不是特别令人鼓舞-6152/2061 IOPS。 <br><br>  Selectel和Servers使用的硬盘驱动器在该测试中处于领先地位。 它们的读/写性能分别为12300/4122和8367/2799。 <br><br> 从测试中可以明显看出，要从磁盘读取数据，最好使用服务器数据中心提供的SSD，并根据公司的需求和价格的可用性考虑其他选择。 <br><br><h3> 对象存储 </h3><br> 对于那些也喜欢在活动中使用兼容S3的对象存储的用户，我们还比较了它们的价格标签。 <br><br>  <b>Selectel</b> <br><table><caption> 资料储存 </caption><tbody><tr><td> 高达1 TB </td><td>  1.43₽/ GB </td></tr><tr><td>  1至10 TB </td><td>  1.33₽/ GB </td></tr><tr><td>  10至100 TB </td><td>  1.23₽/ GB </td></tr><tr><td> 超过100 TB </td><td>  1.01₽/ GB </td></tr></tbody></table><table><caption> 传出流量 </caption><tbody><tr><td> 高达10 TB </td><td>  2 1.02 / GB </td></tr><tr><td> 高达90 TB </td><td> 每GB $ 0.92 </td></tr><tr><td> 高达900 TB </td><td>  ₽0.82 / GB </td></tr><tr><td> 超过1000 TB </td><td>  ₽0.71 / GB </td></tr></tbody></table>  <b>服务器</b>根据位置的不同，价格从2.27 to / GB到4.53₽/ GB不等。 下表显示了莫斯科1GB的存储价格： <br><table><caption> 资料储存 </caption><tbody><tr><td> 前1 TB </td><td>  ₽2.54 / GB </td></tr><tr><td> 接下来的50 TB </td><td>  ₽2.34 / GB </td></tr><tr><td> 接下来的100 TB </td><td> 每GB $ 2.14 </td></tr><tr><td> 超过151 TB </td><td>  ₽1.93 / GB </td></tr></tbody></table>  <i>您也可以从阿姆斯特丹以2.27英镑的价格在他们的仓库中获得存储，但是您需要了解，因为存储成本与欧元汇率挂钩，此外，与卢森堡，达拉斯或新加坡的任何其他国外服务器站点一样，未考虑20％的增值税。</i>  <i>因此，有条件地，莫斯科的报价仍然是最赚钱的，因为这里的价格已经用增值税表示了。</i> <br><table><caption> 传出流量 </caption><tbody><tr><td> 高达3 TB </td><td>  ₽0.81 / GB </td></tr><tr><td> 高达20 TB </td><td>  ₽0.76 / GB </td></tr><tr><td> 高达100 TB </td><td>  ₽0.71 / GB </td></tr><tr><td> 超过100 TB </td><td>  ₽0.66 / GB </td></tr></tbody></table>  <b>Mail Cloud Solutions</b>并不按数据量，仅按存储类型来对存储成本进行排名，它们还不按传出流量的数量而是按输入/输出操作的数量来计算成本： <br><table><caption> 资料储存 </caption><tbody><tr><td> 热储存 </td><td>  2.5₽/ GB </td></tr><tr><td> 冷库 </td><td>  2.3₽/ GB </td></tr></tbody></table><table><caption>  I / O操作数 </caption><tbody><tr><td> 热储存 <br>  1,000 IOPS输入，元，列表 <br></td><td>  ₽0.295 / GB </td></tr><tr><td> 热储存 <br>  10,000 IOPS GET等。 <br></td><td>  ₽0.295 / GB </td></tr><tr><td> 冷库 <br>  1,000 IOPS输入，元，列表 <br></td><td>  ₽0.295 / GB </td></tr><tr><td> 冷库 <br>  10,000 IOPS GET等。 <br></td><td>  ₽0.59 / GB </td></tr></tbody></table>  <b>Yandex</b>也很简单：成本不取决于使用的空间量，而是取决于存储类型： <br><table><caption> 资料储存 </caption><tbody><tr><td> 标准存储 </td><td>  ₽1.261 / GB </td></tr><tr><td> 冷库 </td><td>  ₽6,712/ GB </td></tr></tbody></table><table><caption> 传出流量 </caption><tbody><tr><td> 高达10 TB </td><td>  5 1,5254 / GB </td></tr><tr><td> 高达50 TB </td><td>  272 1,272 / GB </td></tr><tr><td> 高达150 TB </td><td>  8 1.08 / GB </td></tr><tr><td> 超过150 TB </td><td>  ₽0.9/ GB </td></tr></tbody></table><h3>  API </h3><br> 至于基础架构管理过程的自动化，上面列出的所有操作员都具有可用的API机制。 <br><br> 其中三个具有与OpenStack兼容的API，例如 实际上，它以一种或另一种形式使用。  Yandex已走得更远，并且正在替代OpenStack。 结果，他们的API失去了与除文件存储之外的所有功能的兼容性。 显然，由于该格式的广泛流行和盛行，他们决定放弃S3兼容，这是根据亚马逊的戒律。 <br><br> 链接到相关文档： <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Selectel VPC</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Servers.ru</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MailCloud解决方案</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Cloud.Yandex</a> <br><br><h3> 结论 </h3><br> 由于不同的服务以不同的方式对服务进行排名，因此很难将所有上述数据汇总在一起。 因此，我们决定将列出的价格标签与我们支持的一家中级在线商店的配置相关联。 结果，我们大约收到了以下有关不同站点每月服务器租赁成本的数据： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aa3/757/6a4/aa37576a4b5fc9b30561ad631675843b.png"><br><br> 这适用于此事在财务和实际方面。 至于性能，在这里，我们认为，您自己可以理解一切。 在处理器性能方面，Selectel领先优势。 虽然MCS尚未使用所提供的计算资源。 相反，通过磁盘子系统的性能，Servers.ru和Mail Cloud Solutions显然领先于他们的同志。 <br><br> 了解这些优势和劣势，再加上价格摘要信息，我们希望能够帮助您选择适合您特定需求的云服务提供商。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN438240/">https://habr.com/ru/post/zh-CN438240/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN438228/index.html">您是否订购了带有HDMI和USB-C的透明视频眼镜？ 见面：Epson Moverio BT-35E</a></li>
<li><a href="../zh-CN438230/index.html">翻译“为64位需求准备您的应用程序”</a></li>
<li><a href="../zh-CN438234/index.html">2月IT活动摘要</a></li>
<li><a href="../zh-CN438236/index.html">融合公共知识库：更改设计并设置语言分离</a></li>
<li><a href="../zh-CN438238/index.html">作为设计师，我拒绝称人们为“用户”</a></li>
<li><a href="../zh-CN438242/index.html">以最佳方式压缩IP地址列表</a></li>
<li><a href="../zh-CN438244/index.html">我们以逮捕毒ord为例处理俄罗斯的密码法规</a></li>
<li><a href="../zh-CN438248/index.html">GitHub行动生活</a></li>
<li><a href="../zh-CN438250/index.html">对信息安全原则的无知并不免除</a></li>
<li><a href="../zh-CN438252/index.html">为什么不起飞房地产门户网站。 第一部分</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>