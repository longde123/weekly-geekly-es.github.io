<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉüèª üó≥Ô∏è üïò Desenvolvimento completo de computadores aut√¥nomos üèª ‚è¨ üë®üèº‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tradu√ß√£o da primeira parte da apresenta√ß√£o do Tesla Autonomy Investor Day sobre o desenvolvimento do computador completo para o piloto autom√°tico da T...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desenvolvimento completo de computadores aut√¥nomos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450500/"> <em>Tradu√ß√£o da primeira parte da apresenta√ß√£o do Tesla Autonomy Investor Day sobre o desenvolvimento do computador completo para o piloto autom√°tico da Tesla.</em>  <em>Preenchemos a lacuna entre as revis√µes da tese da apresenta√ß√£o e seu conte√∫do.</em> <br><a name="habracut"></a><br>  <em>O texto da apresenta√ß√£o √© traduzido pr√≥ximo ao original.</em>  <em>Perguntas ao orador - seletivamente com abrevia√ß√µes.</em> <br><br>  <strong>Anfitri√£o:</strong> Ol√° pessoal.  Desculpe pelo atraso.  Bem-vindo ao nosso primeiro dia de dire√ß√£o aut√¥noma.  Espero que possamos fazer isso com mais regularidade para mant√™-lo atualizado sobre nossos desenvolvimentos. <br><br>  H√° cerca de tr√™s meses, est√°vamos nos preparando para o relat√≥rio de ganhos do quarto trimestre com Ilon e outros executivos.  Eu disse ent√£o que a maior lacuna nas conversas com investidores, entre o que vejo dentro da empresa e qual √© sua percep√ß√£o externa, √© o nosso progresso na dire√ß√£o aut√¥noma.  E isso √© compreens√≠vel, nos √∫ltimos dois anos falamos sobre o aumento da produ√ß√£o do Modelo 3, em torno do qual houve muita controv√©rsia.  De fato, muita coisa aconteceu em segundo plano. <br><br>  Trabalhamos em um novo chip para piloto autom√°tico, redesenhamos completamente a rede neural de vis√£o de m√°quina e finalmente come√ßamos a lan√ßar o FSDC (Full Self-Driving Computer).  Pensamos que era uma boa id√©ia abrir o v√©u, convidar a todos e contar tudo o que fizemos nos √∫ltimos dois anos. <br><br>  Cerca de tr√™s anos atr√°s, quer√≠amos usar, quer√≠amos encontrar o melhor chip para a condu√ß√£o aut√¥noma.  Descobrimos que n√£o h√° chip que foi projetado desde o in√≠cio para redes neurais.  Portanto, convidamos meu colega Pete Bannon, vice-presidente de design de circuitos integrados, a desenvolver esse chip para n√≥s.  Ele tem cerca de 35 anos de experi√™ncia em desenvolvimento de chips.  Incluindo 12 anos no PASemi, que mais tarde foi adquirido pela Apple.  Ele trabalhou em dezenas de diferentes arquiteturas e implementa√ß√µes e foi o designer-chefe do Apple iPhone 5, pouco antes de ingressar na Tesla.  Tamb√©m se junta a n√≥s em Elon Musk.  Obrigada <br><br>  <strong>Ilon:</strong> Na verdade, eu iria apresentar Pete, mas como eles j√° fizeram isso, acrescentarei que ele √© simplesmente o melhor arquiteto de sistemas e circuitos integrados do mundo que conhe√ßo.  √â uma honra que voc√™ e sua equipe na Tesla.  Por favor, conte-nos sobre o trabalho incr√≠vel que voc√™ fez. <br><br>  <strong>Pete:</strong> Obrigado Ilon.  Tenho o prazer de estar aqui esta manh√£ e √© muito bom contar sobre todo o trabalho que meus colegas e eu fizemos aqui em Tesla nos √∫ltimos tr√™s anos.  Vou falar um pouco sobre como tudo come√ßou, e depois apresentarei o computador FSDC e um pouco sobre como ele funciona.  Vamos nos aprofundar no pr√≥prio chip e considerar alguns detalhes.  Descreverei como funciona o acelerador especializado de rede neural que projetamos e, em seguida, mostra alguns resultados, e espero que a essa altura voc√™ ainda n√£o adorme√ßa. <br><br>  Fui contratado em fevereiro de 2016.  Perguntei ao Ilon se ele estava pronto para gastar o necess√°rio para criar esse sistema especializado, ele perguntou: "Vamos vencer?", Respondi: "Bem, sim, √© claro", ent√£o ele disse "Estou no neg√≥cio" e tudo come√ßou .  Contratamos v√°rias pessoas e come√ßamos a pensar em como seria um chip projetado especificamente para uma condu√ß√£o totalmente aut√¥noma.  Passamos dezoito meses desenvolvendo a primeira vers√£o e, em agosto de 2017, a lan√ßamos para produ√ß√£o.  Conseguimos o chip em dezembro, funcionou e realmente funcionou muito bem na primeira tentativa.  Em abril de 2018, fizemos v√°rias altera√ß√µes e lan√ßamos a vers√£o B zero Rev.  Em julho de 2018, o chip foi certificado e iniciamos a produ√ß√£o em larga escala.  Em dezembro de 2018, a pilha de dire√ß√£o aut√¥noma foi lan√ßada em novos equipamentos e pudemos prosseguir com a convers√£o de carros da empresa e testes no mundo real.  Mar√ßo 2019  come√ßamos a instalar um novo computador nos modelos S e X e, em abril - no modelo 3. <br><br>  Portanto, todo o programa, desde a contrata√ß√£o dos primeiros funcion√°rios at√© o lan√ßamento completo nos tr√™s modelos de nossos carros, levou pouco mais de tr√™s anos.  Este talvez seja o programa de desenvolvimento de sistemas mais r√°pido em que j√° participei.  E realmente fala dos benef√≠cios da alta integra√ß√£o vertical, permitindo que voc√™ fa√ßa design paralelo e acelere a implanta√ß√£o. <br><br>  Em termos de objetivos, est√°vamos completamente focados apenas nos requisitos da Tesla, e isso simplifica muito a vida.  Se voc√™ tem um √∫nico cliente, n√£o precisa se preocupar com os outros.  Um dos objetivos era manter a pot√™ncia abaixo de 100 watts para podermos converter as m√°quinas existentes.  Tamb√©m quer√≠amos reduzir custos para fornecer redund√¢ncia para maior seguran√ßa. <br><br>  No momento em que cutucamos o c√©u, argumentei que dirigir um carro exigiria um desempenho de rede neural de pelo menos 50 trilh√µes de opera√ß√µes por segundo.  Portanto, quer√≠amos obter pelo menos o m√°ximo e melhor.  Os tamanhos de lote determinam o n√∫mero de itens com os quais voc√™ trabalha ao mesmo tempo.  Por exemplo, as TPUs do Google t√™m um tamanho de pacote de 256 e voc√™ precisa aguardar at√© que voc√™ tenha 256 itens para processar antes de come√ßar.  N√£o quer√≠amos esperar e desenvolvemos nosso mecanismo com o tamanho de um pacote.  Assim que a imagem aparece, n√≥s a processamos imediatamente para minimizar o atraso e aumentar a seguran√ßa. <br><br>  Precis√°vamos de um processador gr√°fico para fazer algum p√≥s-processamento.  No in√≠cio, ele ocupava bastante, mas assumimos que, com o tempo, se tornaria menor, pois as redes neurais est√£o ficando cada vez melhores.  E isso realmente aconteceu.  Assumimos riscos ao colocar um processador gr√°fico bastante modesto no design, e isso acabou sendo uma boa ideia. <br><br>  A seguran√ßa √© muito importante, se voc√™ n√£o possui um carro protegido, n√£o pode ter um carro seguro.  Portanto, muita aten√ß√£o √© dada √† seguran√ßa e, √© claro, √† seguran√ßa. <br><br>  Em termos de arquitetura de chips, como Ilon mencionou anteriormente, em 2016 n√£o havia acelerador criado originalmente para redes neurais.  Todos simplesmente adicionaram instru√ß√µes √† CPU, GPU ou DSP.  Ningu√©m fez desenvolvimento com 0. Portanto, decidimos fazer n√≥s mesmos.  Para outros componentes, adquirimos CPUs e GPUs industriais IP padr√£o, o que nos permitiu reduzir o tempo e os riscos de desenvolvimento. <br><br>  Outra coisa que foi um pouco inesperada para mim foi a capacidade de usar comandos existentes no Tesla.  A Tesla tinha excelentes equipes de desenvolvedores de fontes de alimenta√ß√£o, an√°lise de integridade de sinal, design de caixa, firmware, software de sistema, desenvolvimento de placas de circuito e um programa de valida√ß√£o de sistema realmente bom.  Conseguimos usar tudo isso para acelerar o programa. <br><br><img src="https://habrastorage.org/webt/xe/mh/pf/xemhpf4cvjuh2ry86hx_kor7fru.png"><br><br>  √â assim que parece.  √Ä direita, voc√™ v√™ os conectores de v√≠deo provenientes das c√¢meras do carro.  Dois computadores aut√¥nomos no centro da placa, √† esquerda - os conectores da fonte de alimenta√ß√£o e controle.  Adoro quando uma solu√ß√£o se resume aos seus elementos b√°sicos.  Voc√™ tem um v√≠deo, um computador e energia, simples e claro.  Aqui est√° a solu√ß√£o anterior do Hardware 2.5, que inclu√≠a o computador e que instalamos nos √∫ltimos dois anos.  Aqui est√° um novo design para um computador FSD.  Eles s√£o muito parecidos.  Obviamente, isso se deve √†s limita√ß√µes do programa de moderniza√ß√£o de carros.  Gostaria de salientar que este √© realmente um computador pequeno.  √â colocado atr√°s do porta-luvas e n√£o ocupa metade do tronco. <br><br>  Como eu disse anteriormente, existem dois computadores completamente independentes na placa.  Eles s√£o destacados em azul e verde.  Nas laterais de cada SoC, voc√™ pode ver os chips DRAM.  No canto inferior esquerdo, voc√™ v√™ os chips FLASH que representam o sistema de arquivos.  Existem dois computadores independentes que inicializam e executam sob seu pr√≥prio sistema operacional. <br><br>  <strong>Ilon:</strong> O princ√≠pio geral √© que, se alguma pe√ßa falhar, a m√°quina poder√° continuar se movendo.  A c√¢mera, o circuito de energia, um dos chips de computador da Tesla falha - a m√°quina continua em movimento.  A probabilidade de falha deste computador √© significativamente menor que a probabilidade de o motorista perder a consci√™ncia.  Este √© um indicador chave, pelo menos uma ordem de magnitude. <br><br>  <strong>Pete:</strong> Sim, uma das coisas que fazemos para manter o computador funcionando s√£o fontes de alimenta√ß√£o redundantes.  O primeiro chip funciona em uma fonte de energia e o segundo em outra.  O mesmo vale para as c√¢meras, metade das c√¢meras na fonte de alimenta√ß√£o est√£o marcadas em azul e a outra metade em verde.  Ambos os chips recebem todo o v√≠deo e o processam de forma independente. <br><br>  Do ponto de vista da dire√ß√£o, a sequ√™ncia √© coletar muitas informa√ß√µes do mundo ao seu redor, temos n√£o apenas c√¢meras, mas tamb√©m radares, GPS, mapas, estabilizador de girosc√≥pio (IMU), sensores ultrass√¥nicos ao redor do carro.  Temos um √¢ngulo de dire√ß√£o, sabemos como deve ser a acelera√ß√£o de um carro.  Tudo isso se re√∫ne para formar um plano.  Quando o plano estiver pronto, os dois computadores trocam suas vers√µes do plano para garantir que eles correspondam. <br><br>  Supondo que o plano seja o mesmo, emitimos sinais de controle e acionamos.  Agora que voc√™ est√° se movendo com os novos controles, certamente deseja test√°-lo.  Verificamos que os sinais de controle transmitidos coincidem com o que pretendemos transmitir aos atuadores no carro.  Sensores s√£o usados ‚Äã‚Äãpara verificar se o controle est√° realmente ocorrendo.  Se voc√™ pedir que o carro acelere, diminua a velocidade ou vire √† direita ou √† esquerda, voc√™ pode olhar para os aceler√¥metros e garantir que isso esteja realmente acontecendo.  H√° redund√¢ncia e duplica√ß√£o significativas de nossos dados e de nossos recursos de monitoramento de dados. <br><br>  Vamos falar sobre o chip.  √â empacotado em um BGA de 37,5 mm com 1600 pinos, a maioria dos quais s√£o de pot√™ncia e terra.  Se voc√™ remover a tampa, poder√° ver o substrato e o cristal no centro.  Se voc√™ separar o cristal e vir√°-lo, ver√° 13.000 sali√™ncias C4 espalhadas pela superf√≠cie.  Abaixo est√£o as doze camadas de metal do circuito integrado.  Este √© um processo FinFET CMOS de 14 nan√¥metros, medindo 260 mm.sq., um pequeno circuito.  Para compara√ß√£o, um chip de telefone celular convencional √© de cerca de 100 mm2.  Um processador gr√°fico de alto desempenho ter√° cerca de 600-800 mm.kv.  Ent√£o, n√≥s estamos no meio.  Eu chamaria isso de m√©dia dourada, esse √© um tamanho conveniente para montagem.  Existem 250 milh√µes de elementos l√≥gicos e 6 bilh√µes de transistores que, apesar de eu estar trabalhando nisso o tempo todo, me surpreendem.  O chip √© fabricado e testado de acordo com o padr√£o automotivo AEC Q100. <br><br>  Eu iria ao redor do chip e explicaria todas as suas partes.  Vou na mesma ordem que o pixel que sai da c√¢mera.  No canto superior esquerdo, voc√™ pode ver a interface da c√¢mera.  Podemos pegar 2,5 bilh√µes de pixels por segundo, o que √© mais do que suficiente para todos os sensores dispon√≠veis.  Uma rede que distribui dados de um sistema de mem√≥ria para controladores de mem√≥ria nas bordas direita e esquerda do chip.  Usamos LPDDR4 padr√£o operando a uma velocidade de 4266 gigabits por segundo.  Isso nos fornece uma taxa de transfer√™ncia m√°xima de 68 gigabytes por segundo.  Essa √© uma largura de banda muito boa, mas n√£o excessiva, estamos tentando permanecer no meio termo.  O processador de processamento de imagem possui um pipeline interno de 24 bits, o que nos permite usar totalmente os sensores HDR que est√£o no carro.  Ele realiza o mapeamento avan√ßado de tons, o que ajuda a real√ßar melhor os detalhes e as sombras, e tamb√©m realiza a redu√ß√£o avan√ßada de ru√≠do, o que simplesmente melhora a qualidade geral das imagens que usamos em uma rede neural. <br><br><img src="https://habrastorage.org/webt/bv/tl/fb/bvtlfbnqm6y9qdogsqgzse9ap_4.png"><br><br>  O pr√≥prio acelerador de rede neural.  Existem dois no chip.  Cada um deles possui 32 megabytes de SRAM para armazenar resultados tempor√°rios.  Isso minimiza a quantidade de dados que precisamos transferir para o chip e vice-versa, o que ajuda a reduzir o consumo de energia.  Cada um cont√©m uma matriz de multiplicadores 96x96 com acumula√ß√£o, o que nos permite realizar quase 10.000 opera√ß√µes MUL / ADD por ciclo.  Existe um acelerador ReLU dedicado, um acelerador de pool.  Cada um deles fornece 36 trilh√µes de opera√ß√µes por segundo, operando a uma frequ√™ncia de 2 GHz.  Dois aceleradores em um chip fornecem 72 trilh√µes de opera√ß√µes por segundo, o que √© notavelmente mais alto que o objetivo de 50 trilh√µes. <br><br>  O codificador de v√≠deo, o v√≠deo do qual usamos no carro para muitas tarefas, incluindo a sa√≠da de imagens da c√¢mera de vis√£o traseira, a grava√ß√£o de v√≠deo e a grava√ß√£o de dados na nuvem, Stuart e Andrew falar√£o sobre isso mais tarde.  Um processador gr√°fico bastante modesto est√° localizado no chip.  Ele suporta n√∫meros de ponto flutuante de 32 e 16 bits.  Tamb√©m 12 processadores A72 de uso geral de 64 bits.  Eles operam com uma frequ√™ncia de 2,2 GHz, aproximadamente 2,5 vezes maior que o desempenho da solu√ß√£o anterior.  O sistema de seguran√ßa cont√©m dois processadores que operam no modo de passo de bloqueio.  Este sistema toma a decis√£o final se √© seguro transmitir sinais de controle para os acionamentos do ve√≠culo.  √â aqui que os dois avi√µes se re√∫nem e decidimos se √© seguro avan√ßar.  E, finalmente, um sistema de seguran√ßa cuja tarefa √© garantir que apenas o software Tesla assinado com criptografia seja usado neste chip. <br><br>  Eu disse a voc√™ muitos indicadores de desempenho diferentes e acho que seria √∫til olhar para o futuro.  Consideraremos uma rede neural de nossa c√¢mera (estreita).  S√£o necess√°rios 35 bilh√µes de opera√ß√µes.  Se usarmos todas as 12 CPUs para processar esta rede, podemos fazer 1,5 quadros por segundo, √© muito lento.  Absolutamente n√£o o suficiente para dirigir um carro.  Se us√°ssemos GPUs com 600 GFLOPs para a mesma rede, obter√≠amos 17 quadros por segundo, o que ainda n√£o √© suficiente para dirigir um carro com 8 c√¢meras.  Nosso acelerador de rede neural pode produzir 2100 quadros por segundo.  Voc√™ pode ver que a quantidade de computa√ß√£o na CPU e na GPU √© insignificante em compara√ß√£o com o acelerador de rede neural. <br><br>  Vamos falar sobre um acelerador de rede neural.  Vou beber apenas √°gua.  √Ä esquerda, aqui est√° um desenho de uma rede neural para lhe dar uma id√©ia do que est√° acontecendo.  Os dados chegam ao topo e passam por cada um dos blocos.  Os dados s√£o transmitidos ao longo das setas para v√°rios blocos, que geralmente s√£o convolu√ß√µes ou inversas com fun√ß√µes de ativa√ß√£o (ReLUs).  Blocos verdes combinam camadas.  √â importante que os dados recebidos por um bloco sejam usados ‚Äã‚Äãpelo pr√≥ximo bloco e voc√™ n√£o precise mais deles - voc√™ pode jog√°-los fora.  Portanto, todos esses dados tempor√°rios s√£o criados e destru√≠dos ao passar pela rede.  N√£o h√° necessidade de armazen√°-los fora do chip na DRAM.  Portanto, n√≥s os armazenamos apenas na SRAM, e em alguns minutos explicarei por que isso √© muito importante. <br><br><img src="https://habrastorage.org/webt/_u/yq/o0/_uyqo0ngomf_emvueuf3soglms0.png"><br><br>  Se voc√™ olhar para o lado direito, ver√° que nesta rede de 35 bilh√µes de opera√ß√µes, quase todas s√£o convolu√ß√µes, essencialmente produtos escalares, o restante √© deconvolu√ß√£o (convolu√ß√µes reversas), tamb√©m baseada no produto escalar, e ent√£o ReLU e pooling s√£o relativamente simples opera√ß√µes.  Portanto, se voc√™ estiver desenvolvendo um acelerador, concentre-se na implementa√ß√£o de produtos escalares com base na adi√ß√£o com acumula√ß√£o e os otimize.  Mas imagine que voc√™ acelere essa opera√ß√£o em 10.000 vezes e 100% se transforme em 0,1%.  De repente, a ReLU e as opera√ß√µes de pooling se tornam muito significativas.  Portanto, nossa implementa√ß√£o inclui aceleradores dedicados para processamento e pool de ReLU. <br><br>  O chip opera com um or√ßamento de calor limitado.  Precis√°vamos ter muito cuidado com a forma como queimamos energia.  Queremos maximizar a quantidade de aritm√©tica que podemos fazer.  Portanto, escolhemos adi√ß√£o inteira de 32 bits, que consome 9 vezes menos energia que a adi√ß√£o de ponto flutuante.  E escolhemos a multiplica√ß√£o inteira de 8 bits, que tamb√©m consome significativamente menos energia que outras opera√ß√µes de multiplica√ß√£o e provavelmente possui precis√£o suficiente para obter bons resultados.  Quanto √† mem√≥ria.  O acesso √† DRAM externa √© cerca de cem vezes mais caro em termos de consumo de energia do que o uso da SRAM local.  √â claro que queremos aproveitar ao m√°ximo a SRAM local. <br><br>  Do ponto de vista do gerenciamento, eis os dados publicados em um artigo de Mark Horowitz, onde ele examinou criticamente quanta energia √© necess√°ria para executar uma √∫nica instru√ß√£o em um processador inteiro comum.  E voc√™ v√™ que a opera√ß√£o de adi√ß√£o consome apenas 0,15% da energia total.  Todo o resto est√° sobrecarregado para gerenciamento e muito mais.  Portanto, em nosso projeto, nos esfor√ßamos para nos livrar de tudo isso o m√°ximo poss√≠vel.  O que realmente nos interessa √© aritm√©tica. <br><br><img src="https://habrastorage.org/webt/oj/gm/ae/ojgmaegdd7ztkk58mziq_9tsq-8.png"><br><br>  Ent√£o, aqui est√° o design que terminamos.  Voc√™ pode ver que nele o local principal √© ocupado por 32 megabytes de SRAM, eles s√£o deixados, √† direita, no centro e na parte inferior.  Todos os c√°lculos s√£o realizados na parte central superior.  A cada ciclo, lemos 256 bytes de dados de ativa√ß√£o da matriz SRAM, 128 bytes de pesos da matriz SRAM e os combinamos em uma matriz 96x96, que executa 9000 adi√ß√µes com acumula√ß√£o por ciclo a 2 GHz.  Isso √© apenas 36,8 trilh√µes.  opera√ß√µes.  Agora que terminamos o produto escalar, carregamos os dados, os transmitimos pela ReLU dedicada, opcionalmente por meio de pull, e finalmente os colocamos no buffer de grava√ß√£o, onde todos os resultados s√£o agregados.  E ent√£o escrevemos 128 bytes por rel√≥gio de volta √† SRAM.  E tudo isso acontece continuamente.  Trabalhamos com produtos escalares, enquanto descarregamos resultados anteriores, executamos puxamentos e escrevemos os resultados de volta √† mem√≥ria.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ empilhar tudo em 2 GHz, precisar√° de 1 terabyte por segundo de largura de banda SRAM para dar suporte √† opera√ß√£o. E o ferro fornece isso. Um terabyte por segundo de largura de banda por acelerador, dois aceleradores por chip - dois terabytes por segundo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O acelerador tem um conjunto relativamente pequeno de comandos. H√° uma opera√ß√£o de leitura de DMA para carregar dados da mem√≥ria, uma opera√ß√£o de grava√ß√£o de DMA para fazer upload de resultados de volta √† mem√≥ria. Tr√™s instru√ß√µes de convolu√ß√£o (convolu√ß√£o, deconvolu√ß√£o, produto interno). Duas opera√ß√µes relativamente simples s√£o a opera√ß√£o por turnos e por elementos (eltwise). E, claro, a opera√ß√£o de parada quando os c√°lculos terminarem.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tivemos que desenvolver um compilador de rede neural. Adotamos uma rede neural treinada por nossa equipe de desenvolvimento, na forma em que era usada no hardware antigo. Quando voc√™ o compila para uso em um novo acelerador, o compilador realiza a fus√£o de camadas, o que nos permite aumentar o n√∫mero de c√°lculos para cada chamada √† SRAM. Tamb√©m realiza a suaviza√ß√£o dos acessos √† mem√≥ria. Realizamos preenchimento de canal para reduzir conflitos entre bancos de mem√≥ria. A aloca√ß√£o de mem√≥ria tamb√©m leva em considera√ß√£o os bancos SRAM. √â o caso em que o processamento de conflitos pode ser implementado no hardware. Por√©m, com a implementa√ß√£o de software, economizamos em hardware devido a alguma complexidade de software. Tamb√©m inserimos automaticamente opera√ß√µes de DMA para que os dados cheguem para os c√°lculos no prazo, sem interromper o processamento. No final, geramos o c√≥digo,pesa dados, compacta e adiciona uma soma de verifica√ß√£o CRC para confiabilidade. A rede neural √© carregada na SRAM na inicializa√ß√£o e existe o tempo todo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assim, para iniciar a rede, voc√™ especifica o endere√ßo do buffer de entrada, que cont√©m uma nova imagem que acabou de chegar da c√¢mera; defina o endere√ßo do buffer de sa√≠da; defina o ponteiro para o peso da rede; vamos l√° O acelerador "entra em si" e passa sequencialmente por toda a rede neural, geralmente por um ou dois milh√µes de ciclos de clock. Ap√≥s a conclus√£o, voc√™ recebe uma interrup√ß√£o e pode p√≥s-processar os resultados.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voltando aos resultados. Nosso objetivo era atingir 100 watts. Medi√ß√µes em carros que dirigem com uma pilha cheia de piloto autom√°tico mostraram que dissipamos 72 watts. Isso √© um pouco maior do que no projeto anterior, mas uma melhoria significativa no desempenho √© uma boa desculpa. Desses 72 watts, cerca de 15 watts s√£o consumidos em redes neurais. O custo desta solu√ß√£o √© de cerca de 80% do que pagamos anteriormente. Em termos de desempenho, pegamos a rede neural (estreita) da c√¢mera, que eu j√° mencionei, com 35 bilh√µes de opera√ß√µes, a lan√ßamos em equipamentos antigos e recebemos 110 quadros por segundo. Pegamos os mesmos dados e a mesma rede, compilamos para o novo computador FSD e, usando todos os quatro aceleradores, podemos processar 2300 quadros por segundo. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acho que esse talvez seja </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> slide mais significativo de </font><strong><font style="vertical-align: inherit;">Pete:</font></strong><font style="vertical-align: inherit;"> nunca trabalhei em um projeto em que a melhoria da produtividade fosse superior a 3. Foi divertido. Comparado com a solu√ß√£o nvidia Drive Xavier, o chip fornece 21 trilh√µes. opera√ß√µes, enquanto o nosso FSDC com dois chips - 144 trilh√µes. opera√ß√µes.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Concluindo, acho que criamos uma solu√ß√£o que oferece um desempenho extraordin√°rio de 144 trilh√µes. opera√ß√µes para processar uma rede neural. Possui excelentes caracter√≠sticas de pot√™ncia. Conseguimos espremer toda essa produtividade no or√ßamento de calor que t√≠nhamos. Isso permite implementar uma solu√ß√£o de duplica√ß√£o. O computador tem um custo moderado e, o que √© realmente importante, o FSDC fornecer√° um novo n√≠vel de seguran√ßa e autonomia nos carros da Tesla, sem afetar seu custo e quilometragem. Estamos todos ansiosos por isso. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se voc√™ tiver d√∫vidas sobre equipamentos, fa√ßa-as agora.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A raz√£o pela qual pedi a Pete que fizesse uma pesquisa detalhada, muito mais detalhada do que talvez a maioria das pessoas teria apreciado mergulhar em um computador Tesla FSD √© a seguinte. √Ä primeira vista, parece incr√≠vel como poderia acontecer que a Tesla, que nunca havia projetado esses chips antes, criou o melhor chip do mundo. Mas foi exatamente isso que aconteceu. E n√£o apenas o melhor por uma pequena margem, mas o melhor por uma margem enorme. Todos os Tesla fabricados agora t√™m este computador. Mudamos da solu√ß√£o Nvidia para S e X h√° cerca de um m√™s e o Modelo 3 h√° cerca de dez dias. Todos os carros produzidos possuem todo o hardware necess√°rio e tudo o que √© necess√°rio para uma dire√ß√£o totalmente aut√¥noma. Vou dizer novamente: todos os carros Tesla produzidos agora,tenha tudo o que voc√™ precisa para uma dire√ß√£o totalmente aut√¥noma. Tudo que voc√™ precisa fazer √© melhorar o software. Ainda hoje, voc√™ pode dirigir carros com uma vers√£o para desenvolvedores de software de dire√ß√£o aut√¥noma aprimorado. Voc√™ ver√° por si mesmo. Perguntas.</font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> voc√™ tem a capacidade de usar outras fun√ß√µes de ativa√ß√£o al√©m da ReLU? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sim, temos um sigm√≥ide, por exemplo. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> talvez valha a pena mudar para um processo de </font><font style="vertical-align: inherit;">fabrica√ß√£o </font><font style="vertical-align: inherit;">mais compacto, talvez 10 nm ou 7 nm? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no momento em que come√ßamos a projetar, nem todos os IPs que quer√≠amos obter estavam dispon√≠veis em 10 nm </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vale a pena notar que conclu√≠mos esse design h√° cerca de um ano e meio e iniciamos a pr√≥xima gera√ß√£o. Hoje n√£o estamos falando da pr√≥xima gera√ß√£o, mas j√° estamos no meio do caminho. Tudo isso √© √≥bvio para o chip da pr√≥xima gera√ß√£o, n√≥s fazemos. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P: O</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> computador foi projetado para funcionar com c√¢meras. Posso us√°-lo com o lidar? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lidar √© uma decis√£o desastrosa e qualquer pessoa que confie no lidar est√° condenada. Condenado. Caro Caros sensores que n√£o s√£o necess√°rios. √â como ter um monte de aplicativos desnecess√°rios caros. Um pequeno n√£o √© nada, mas um monte j√° √© um pesadelo. Isso √© est√∫pido, voc√™ ver√°. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Voc√™ pode avaliar o impacto do consumo de energia na quilometragem? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para o Modelo 3, o consumo-alvo √© de 250 watts por milha. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depende da natureza da dire√ß√£o. Na cidade, o efeito ser√° muito maior do que na rodovia. Voc√™ dirige na cidade por uma hora e tem uma solu√ß√£o hipot√©tica que consome 1 kW. Voc√™ perder√° 6 km no modelo 3. Se a velocidade m√©dia for de 25 km / h, voc√™ perder√° 25%. O consumo do sistema tem um enorme impacto na quilometragem em uma cidade onde achamos que haver√° uma grande parte do mercado de robotax, portanto a energia √© extremamente importante. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qual √© a confiabilidade da sua tecnologia em termos de IP, voc√™ n√£o fornecer√° IP de gra√ßa? </font></font><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Registramos uma d√∫zia de patentes para essa tecnologia. Isso √© √°lgebra essencialmente linear, que eu acho que voc√™ n√£o pode patentear. (Ilon ri) </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seu microcircuito pode fazer alguma coisa, talvez criptografar todos os pesos para que sua propriedade intelectual permane√ßa l√° dentro e ningu√©m possa roub√°-la </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ah, eu gostaria de conhecer algu√©m que possa fazer isso. Eu o contrataria em um instante. Este √© um problema muito dif√≠cil. Mesmo se voc√™ puder extrair os dados, precisar√° de uma quantidade enorme de recursos para us√°-los de alguma forma.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A grande vantagem sustent√°vel para n√≥s √© a frota. Ningu√©m tem uma frota. Os pesos s√£o atualizados e aprimorados constantemente com base em bilh√µes de milhas percorridas. A Tesla tem cem vezes mais carros com o hardware necess√°rio para o treinamento do que todos os outros combinados. At√© o final deste trimestre, teremos 500.000 ve√≠culos com 8 c√¢meras e 12 sensores ultrass√¥nicos. Em um ano, teremos mais de um milh√£o de carros com o FSDC. Esta √© apenas uma enorme vantagem de dados. Isso √© semelhante ao modo como o mecanismo de pesquisa do Google tem uma enorme vantagem, porque as pessoas o usam e treinam o Google com suas consultas. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anfitri√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma coisa a lembrar sobre o nosso FSD √© que ele pode trabalhar com redes neurais muito mais complexas para um reconhecimento de imagem muito mais preciso. √â hora de falar sobre como realmente obtemos essas imagens e como as analisamos. Aqui temos um diretor s√™nior da AI - Andrey Karpaty, que explicar√° tudo isso para voc√™. Andrei √© PhD pela Universidade de Stanford, onde estudou ci√™ncia da computa√ß√£o com √™nfase em reconhecimento e aprendizado profundo. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Andrey, por que voc√™ n√£o come√ßa, vamos l√°. Muitos m√©dicos vieram de Stanford, isso n√£o importa. Andrey est√° dando um curso de vis√£o computacional em Stanford, que √© muito mais importante. Por favor, fale sobre voc√™.</font></font><br><br><hr><br> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(A tradu√ß√£o acabou n√£o sendo uma quest√£o r√°pida, n√£o sei se tenho o suficiente para a segunda parte sobre o sistema de treinamento em redes neurais, embora me pare√ßa o mais interessante.)</font></font></em> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt450500/">https://habr.com/ru/post/pt450500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt450488/index.html">Chock Norris Facts Android App no ‚Äã‚ÄãKotlin</a></li>
<li><a href="../pt450490/index.html">Acordo de US $ 6,9 bilh√µes: por que um desenvolvedor de GPU compra um fabricante de equipamentos de rede</a></li>
<li><a href="../pt450492/index.html">Servi√ßo social e design aberto. 1. Introdu√ß√£o</a></li>
<li><a href="../pt450494/index.html">Como a tradu√ß√£o do termo tronco depende do fornecedor do switch?</a></li>
<li><a href="../pt450498/index.html">Como espremer o tempo?</a></li>
<li><a href="../pt450504/index.html">Como criar um aplicativo a partir do site e coloc√°-lo no Google Play em algumas horas. Parte 1/2: Aplicativo Web Progressivo</a></li>
<li><a href="../pt450506/index.html">Como criar um aplicativo a partir do site e coloc√°-lo no Google Play em algumas horas. Parte 2/2: Atividade confi√°vel na Web</a></li>
<li><a href="../pt450508/index.html">Joe Armstrong sobre Elixir, Erlang, FP e OOP</a></li>
<li><a href="../pt450510/index.html">Cinco problemas nos processos de opera√ß√£o e suporte dos sistemas de TI Highload</a></li>
<li><a href="../pt450514/index.html">CVT vs state</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>