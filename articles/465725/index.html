<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø ‚èèÔ∏è üéÄ Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 28. Estudio en profundidad de ACL üêª üßëüèæ‚Äçü§ù‚Äçüßëüèª ‚ñ™Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy continuaremos con el tema del video tutorial el d√≠a 27 y haremos un estudio en profundidad de las ACL: hablaremos un poco sobre la m√°scara inversa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 28. Estudio en profundidad de ACL</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/465725/"> Hoy continuaremos con el tema del video tutorial el d√≠a 27 y haremos un estudio en profundidad de las ACL: hablaremos un poco sobre la m√°scara inversa Wildcard Mask, la lista extendida de ACL, la configuraci√≥n de la lista extendida de ACL y los comandos que ayudan a diagnosticar problemas de dise√±o de red. <br>  En la lecci√≥n anterior, presentamos un nuevo concepto de m√°scara inversa para nosotros, y ahora hablar√© sobre Wildcard Mask con m√°s detalle.  Si recuerda, la m√°scara de subred nos ayuda a dividir visualmente la red en la parte de direcci√≥n de la red y la parte de direcci√≥n del host. <br><br><img src="https://habrastorage.org/webt/m5/wk/bk/m5wkbkrukhvkbdo63ozgwgexmp4.jpeg"><br><br>  Si va al nivel de bits, puede ver que la m√°scara de subred consiste en una serie de unidades que denotan la parte de la red y una serie de ceros que indican parte del host.  La m√°scara inversa es muy similar a la m√°scara de subred, solo en la forma "invertida", donde hay unidades en la m√°scara de subred, los ceros est√°n en la m√°scara inversa y viceversa.  Esta no es una regla obligatoria: en algunos casos, la m√°scara inversa se forma de acuerdo con un principio diferente; en el aprendizaje de CCNA, esta regla siempre se aplica. <a name="habracut"></a><br><br>  La mejor manera de calcular la m√°scara inversa es restar los octetos de la m√°scara de subred de la m√°scara global, que siempre se ve como 255.255.255.255. <br>  Entonces, para calcular la m√°scara inversa para la m√°scara de subred 255.255.255.0, simplemente la restamos de la m√°scara global y obtenemos 0.0.0.255. <br><br><img src="https://habrastorage.org/webt/ey/ax/lm/eyaxlm4ogzres7rzcbjei01qztq.jpeg"><br><br>  En este ejemplo, miramos la red 192.168.100.255/24, y ahora veamos la red / 26.  Si tiene / 26, entonces el √∫ltimo octeto de la m√°scara de subred ser√° 192. <br><br><img src="https://habrastorage.org/webt/nk/y6/3t/nky63tumrtn6s9nebzyomv17vx8.jpeg"><br><br>  Si observa la forma de bits de estas direcciones IP, ver√° que la m√°scara de subred contiene 26 bits simples y 6 bits cero. <br><br><img src="https://habrastorage.org/webt/6q/-f/nm/6q-fnmpouw_-2_h3gpwjmkcctw4.jpeg"><br><br>  En este caso, la m√°scara inversa debe constar de 26 ceros y 6 unidades.  Como ya dijimos, los lugares donde se encuentran 0 muestran los par√°metros de direcci√≥n coincidentes, y los lugares donde se encuentran las unidades, puede ignorar. <br><br><img src="https://habrastorage.org/webt/do/uf/i_/doufi_9ublvappivmz-b_esvlz8.jpeg"><br><br>  Para hacerlo m√°s claro, escribir√© la direcci√≥n IP en forma decimal en la parte superior.  El √∫ltimo octeto de la m√°scara inversa corresponde al n√∫mero 63, y puedo mostrarlo como 0.0.0.63.  En pocas palabras, / 26 significa que los 26 ceros, o los primeros 3 octetos de la direcci√≥n IP son iguales, y los √∫ltimos 6 bits pueden ser cualquier cosa: ceros o unos. <br><br><img src="https://habrastorage.org/webt/_v/hs/hq/_vhshqkthswmlyzxq_t748itbuo.jpeg"><br><br>  Vea: si reemplazamos estos √∫ltimos 6 bits de la direcci√≥n IP con ceros, obtenemos el n√∫mero 192, y si a los que obtenemos el n√∫mero 255. Por lo tanto, la m√°scara inversa muestra que la subred con direcciones IP cuyo √∫ltimo octeto est√° en el rango de 192 a 255 , es decir, parte de la red 192.168.100.225/26, est√° sujeta a la condici√≥n de ACL especificada. <br><br>  Puede preguntar por qu√© se necesitan dos m√°scaras: una m√°scara de subred y una m√°scara comod√≠n.  Yo mismo hice esta pregunta cuando era estudiante, y todav√≠a muchas personas, incluso trabajando en Cisco, hacen esta pregunta.  Tratar√© de responderlo.  En general, la m√°scara de subred y la m√°scara inversa muestran lo mismo cuando se trata de la subred, es decir, parte de la direcci√≥n IP que denota la red.  Cuando identificamos toda la red, la m√°scara inversa es simplemente una versi√≥n "invertida" de la m√°scara directa. <br><br>  Sin embargo, la identificaci√≥n del host es diferente.  Si desea identificar toda la subred con todas las direcciones incluidas, puede usar la m√°scara de subred.  Pero si solo necesita identificar algunos hosts de esta red para aplicarles selectivamente las reglas de ACL, necesita una m√°scara inversa. <br><br>  Nunca ver√° una m√°scara de subred que consista en alternar unos y ceros; siempre tiene unidades primero y ceros al final.  Por lo tanto, el comod√≠n se llama "comod√≠n" porque puede consistir en cualquier secuencia de unos y ceros.  Para aclararlo, solucionemos el problema: "identifique hosts en una red determinada que tengan n√∫meros pares en el cuarto octeto". <br><br><img src="https://habrastorage.org/webt/gv/_-/4t/gv_-4tr9a7figizqkv4poigrxze.jpeg"><br><br>  Esto es necesario para crear una regla ACL de este tipo: permitir 192.168.100.0 &lt;m√°scara inversa&gt;, es decir, se permitir√° el tr√°fico para las direcciones IP de esta subred con solo el cuarto octeto.  ¬øSe puede hacer esto usando una m√°scara de subred?  No lo creo, porque el cuarto octeto de una m√°scara de subred normal puede contener solo un n√∫mero espec√≠fico.  Veamos una m√°scara inversa de 4 octetos. <br><br><img src="https://habrastorage.org/webt/fo/k_/mr/fok_mrujs7lq66x80sm4co4utlq.jpeg"><br><br>  En el √∫ltimo octeto de la m√°scara inversa, puede colocar los siguientes bits: 11111110. Explicar√© de qu√© se trata.  Si el 4to octeto contiene n√∫meros pares, entonces el √∫ltimo bit del octeto es necesariamente 0, y si el √∫ltimo bit es 1, entonces el n√∫mero es impar.  Si estamos hablando de la subred / 24, solo el √∫ltimo octeto puede contener un n√∫mero par. <br><br>  En el caso de la m√°scara inversa, los primeros tres octetos son 0, y los primeros siete bits del cuarto octeto no nos molestan, lo principal es que el octavo bit del octeto es cero, porque debe coincidir con el √∫ltimo octeto de la direcci√≥n IP de la red, que es 0. <br><br>  Si el √∫ltimo bit de la direcci√≥n IP es 1, esta direcci√≥n ser√° denegada, ahora agregar√© la condici√≥n a nuestra ACL - Denegar cualquiera.  Por lo tanto, solo si el √∫ltimo octeto de cualquier direcci√≥n IP de nuestra subred termina con 0, es decir, ser√° par, cumpliremos la condici√≥n para hacer coincidir la m√°scara hacia atr√°s, que tambi√©n termina con 0, y la condici√≥n ACL "permite todas las direcciones con un cuarto octeto" Estar√° satisfecho.  De lo contrario, es decir, para todas las direcciones IP impares, se aplicar√° la denegaci√≥n de cualquier condici√≥n. <br><br>  Por lo tanto, no nos importa qu√© valor exacto tendr√° un octeto par: 2,4,6, 8, etc., lo principal es que tendr√° un bit cero al final.  Si us√°ramos una m√°scara de subred regular, necesitar√≠amos crear una entrada separada para cada direcci√≥n IP que tenga un cuarto octeto.  El uso de la m√°scara inversa le permite reemplazar todas estas entradas con una. <br>  Exactamente el mismo principio se aplica a los n√∫meros impares del 4to octeto, solo el √∫ltimo bit de la m√°scara inversa en este caso deber√≠a ser 1. En este caso, se establecer√° una regla general, permitir o denegar, para todas las direcciones IP de la subred que tengan un 4 impar el octeto  Vea c√≥mo se ve este ejemplo decimal. <br><br><img src="https://habrastorage.org/webt/-d/63/2r/-d632rvriaexxcp5bypajippplq.jpeg"><br><br>  Si uso la m√°scara inversa 0.0.0.254, nuestro problema se resolver√°: todos los hosts con incluso un cuarto octeto est√°n permitidos, y todos los dem√°s hosts est√°n prohibidos.  La ventaja de una m√°scara inversa es que cuando crea una ACL, puede configurarla para satisfacer sus necesidades.  No tiene que preocuparse mucho por las m√°scaras inversas espec√≠ficas, porque CCNA no requiere esto.  Es suficiente recordar la regla: la m√°scara inversa se obtiene cuando la m√°scara de subred se elimina de la m√°scara global 255.255.255.255.  Tenga en cuenta que el curso CCNA se centra m√°s en las subredes que en los hosts. <br><br>  Volvamos a la diapositiva anterior, y hablar√© sobre otra forma de calcular la m√°scara Wildcard. <br><br><img src="https://habrastorage.org/webt/yi/0j/np/yi0jnpzrjwsfflhnobgt5bve4ba.jpeg"><br><br>  Si recuerda de nuestra tabla "m√°gica", / 26 significa que el tama√±o del bloque de bits es igual a 64. Si este bloque es 64, el √∫ltimo octeto de la m√°scara inversa tendr√° el valor (64-1) = 63.  Si tenemos / 25, el tama√±o del bloque ser√° 128, lo que significa que el √∫ltimo octeto de la m√°scara inversa ser√° (128-1) = 127.  Esta es otra pista para facilitar el c√°lculo del valor de la m√°scara inversa.  Pero si no desea usarlo, use el m√©todo habitual, restando la m√°scara de subred de la m√°scara global. <br><br>  Ahora pasemos a la sintaxis de los comandos ACL extendidos.  Al igual que con la ACL est√°ndar, hay dos tipos de grabaci√≥n de comandos: cl√°sica y moderna. <br><br><img src="https://habrastorage.org/webt/um/0p/lh/um0plhlq7ds-bcarxsh5lumbzxi.jpeg"><br><br>  El comando cl√°sico es la entrada access-list &lt;n√∫mero ACL&gt; &lt;deshabilitar / permitir&gt; &lt;protocolo&gt;.  Por lo tanto, el primer comando ACL extendido difiere del comando ACL est√°ndar al especificar un protocolo, no un criterio.  Esto significa que aqu√≠ el tr√°fico no se filtra por la direcci√≥n IP del origen o destino, sino por el protocolo utilizado. <br>  En todos los casos, utilizamos el protocolo IP, que es de tres tipos: ICMP, o el ping que conocemos, TCP, que depende del puerto espec√≠fico 21,23, etc., y UDP.  Perm√≠tame recordarle que Wikipedia tiene un art√≠culo con una lista de todos los protocolos y sus n√∫meros de puerto correspondientes. <br>  La siguiente es la l√≠nea de comando &lt;IP de origen&gt; &lt;m√°scara inversa&gt; [informaci√≥n del protocolo].  La informaci√≥n del protocolo significa especificar un n√∫mero de puerto.  Es decir, en el comando anterior como &lt;protocol&gt; usted especifica ICMP, TCP o UDP, y en el segundo comando como par√°metro [informaci√≥n de protocolo] especifique el n√∫mero de puerto 21.23, etc. <br><br>  La tercera l√≠nea del comando es &lt;IP de destino&gt; &lt;m√°scara inversa&gt; [informaci√≥n de protocolo], es decir, los par√°metros relacionados con el destino. <br><br>  Si recuerda de lecciones anteriores, el n√∫mero de puerto de origen es un n√∫mero aleatorio, porque el dispositivo que env√≠a el tr√°fico crea un puerto de n√∫mero aleatorio para esto.  En este sentido, en la primera l√≠nea con respecto a la fuente de tr√°fico, usted indica [informaci√≥n de protocolo] del destino, por ejemplo, FTP, es decir, el protocolo del dispositivo cuyo tr√°fico desea bloquear. <br><br>  Perm√≠tame recordarle que para realizar cambios en la lista de ACL extendidas del tipo cl√°sico, deber√° volver a formar la lista completa manualmente, como en el caso de las ACL est√°ndar del tipo cl√°sico. <br><br>  Un equipo de aspecto moderno comienza con la expresi√≥n ip, que no tiene nada que ver con el protocolo IP, es solo una palabra clave.  Entonces, la primera l√≠nea contiene la palabra clave ip, el par√°metro "lista de acceso extendida" y el n√∫mero o nombre de la ACL.  Despu√©s de ejecutar el primer comando, cambia al modo de subcomando config-ext-nacl e ingresa &lt;deshabilitar / permitir&gt; &lt;protocolo&gt;, como discutimos anteriormente. <br><br>  Los siguientes son los dos comandos &lt;origen IP&gt; &lt;m√°scara inversa&gt; [informaci√≥n de protocolo] y &lt;IP de destino&gt; &lt;m√°scara inversa&gt; [informaci√≥n de protocolo], el primero generalmente ignora el par√°metro [informaci√≥n de protocolo de origen] y, en su lugar, el par√°metro [informaci√≥n de protocolo] destino].  A veces puede ser necesario especificar el puerto de origen, pero en CCNA, en la mayor√≠a de los casos, este par√°metro puede ignorarse. <br><br>  Usar una ACL extendida es similar a usar una ACL est√°ndar.  Aqu√≠ tambi√©n debe especificar la interfaz del dispositivo al que se aplica la lista, luego usar el par√°metro ip access-group, el n√∫mero o nombre de la lista ACL y la direcci√≥n del flujo de tr√°fico: entrante o saliente.  En el video anterior, ya discutimos c√≥mo se determina la direcci√≥n del tr√°fico para un puerto espec√≠fico. <br><br>  Pasemos al esquema y configuremos la ACL avanzada utilizando la topolog√≠a de red de la lecci√≥n anterior.  El problema n√∫mero 1 es: "Las computadoras en la red del departamento de administraci√≥n y la red del departamento financiero pueden acceder a trav√©s de los protocolos HTTP (80) y FTP (21) solo al servidor Server0 ubicado en la red del servidor". <br><br><img src="https://habrastorage.org/webt/ki/fg/_o/kifg_onbczdnlpgc67dbge--5hc.jpeg"><br><br>  Al mismo tiempo, no se permite todo el tr√°fico, sino solo el que proviene de los puertos 80 y 21, es decir, por ejemplo, el tr√°fico a trav√©s del protocolo SSH debe bloquearse.  Si recuerda, la ACL extendida debe aplicarse m√°s cerca de la fuente, por lo que para el departamento de administraci√≥n debe aplicarse al puerto G0 / 0 del enrutador R1, y para la contabilidad, al puerto G0 / 0 del enrutador R2.  En relaci√≥n con el enrutador, bloqueamos el tr√°fico entrante, por lo que utilizamos el par√°metro IN en los comandos de la lista.  Asigne la ACL a la lista n√∫mero 101 y haga una lista de l√≠neas que deber√≠a contener usando el enfoque cl√°sico. <br><br><img src="https://habrastorage.org/webt/wi/uq/hi/wiuqhiidr1bfzxd6_sdpxthr4b0.jpeg"><br><br>  La primera l√≠nea permite TCP, porque el puerto HTTP 80 significa TCP, luego indicamos la red del departamento de administraci√≥n, 192.168.1.224/28.  En este ejemplo, omito la m√°scara inversa, la usamos en Packet Tracer, hasta ahora el principio de formaci√≥n de listas es importante para nosotros.  La red de administraci√≥n es la fuente del tr√°fico, despu√©s de que se indica la direcci√≥n IP de destino 192.168.1.194/32, donde 194 es el √∫ltimo octeto de la direcci√≥n del Servidor0, y / 32 significa que la condici√≥n se aplica solo a este dispositivo en particular ubicado en la subred 192.168.1.192/27.  Al final de la l√≠nea, indicamos el puerto de destino permitido 80, destinado al tr√°fico HTTP. <br><br>  Del mismo modo, se crea una entrada para el puerto 21 utilizado para transmitir tr√°fico FTP.  No estoy escribiendo una tercera l√≠nea, que por defecto se parece a Denegar y proh√≠be el tr√°fico saliente de dispositivos que no pertenecen a esta subred.  A continuaci√≥n, debe especificar que la lista se aplica al puerto G0 / 0 de R1 en la direcci√≥n IN, es decir, para el tr√°fico entrante. <br><br>  Hacemos lo mismo al compilar entradas ACL Allow_Acc para el departamento de finanzas, permitiendo el tr√°fico TCP desde los puertos 80 y 21 y aplicando esta lista a la interfaz de entrada G0 / 0 del enrutador R2. <br><br><img src="https://habrastorage.org/webt/2f/z8/xj/2fz8xjhmwenmvjxeozpld2dsjmm.jpeg"><br><br>  El problema n√∫mero 2 es: "Las computadoras en la red del departamento de ventas pueden usar todos los protocolos excepto PING (ICMP) solo en el Servidor1, ubicado en la red del servidor".  Esto significa que para la comunicaci√≥n con el servidor, las computadoras del departamento de ventas pueden usar los protocolos HTTP, SSH, FTP, cualquier protocolo que no sea ICMP.  En este caso, la lista de condiciones de ACL se ver√° as√≠. <br><br><img src="https://habrastorage.org/webt/5l/ps/in/5lpsinofhqzxn32u7ql8uuf9nw8.jpeg"><br><br>  En la primera l√≠nea, prohibimos todo el tr√°fico a trav√©s de ICMP, colocando una condici√≥n espec√≠fica en la parte superior de la lista, y general al final de la lista.  Este registro muestra el identificador de subred del departamento de ventas 192.168.1.0/25, la direcci√≥n IP de un servidor espec√≠fico del servidor 1 es 192.168.1.195/32.  El par√°metro echo significa tr√°fico en forma de ping, es decir, se debe denegar un paquete que se env√≠a al servidor para volver a la computadora. <br><br>  La segunda l√≠nea permite el resto del tr√°fico procedente de la subred 192.168.1.0/25 a la direcci√≥n del servidor 192.168.1.195/32.  Como de costumbre, al final de la lista, la l√≠nea predeterminada es Denegar cualquiera, lo que significa que si las computadoras del departamento de ventas intentan comunicarse con el departamento de finanzas, dicho tr√°fico se descartar√°.  A continuaci√≥n, indicamos a qu√© interfaz de enrutador se debe aplicar la ACL, y se resuelve el segundo problema. <br><br>  La Tarea 3 es: "Ventas2 laptop Laptop2 y departamento de finanzas PC0 pueden acceder a management0 laptop Laptop0".  Suponga que estos dispositivos son administrados por los jefes de los departamentos de ventas y contabilidad que pueden comunicarse con el CFO del CFO ubicado en el departamento de administraci√≥n.  Sin embargo, no hay restricciones en los protocolos utilizados, incluido ICMP. <br><br>  Ya tenemos tres ACL aplicadas a las interfaces que rode√© en rojo en el diagrama.  Laptop2 no puede contactar Laptop0 en este momento, porque esto contradice las condiciones del problema 3. <br><br><img src="https://habrastorage.org/webt/hp/nq/y2/hpnqy2-n_4wels92e7cih94i7q0.jpeg"><br><br>  Para comunicarse entre estos dos dispositivos, debe agregar condiciones adicionales a la ACL Allow_Sa. <br><br><img src="https://habrastorage.org/webt/t5/cu/j-/t5cuj-hkbez_nf-qxuyoq6c3k_4.jpeg"><br><br>  Del mismo modo, debe agregar condiciones a la ACL Allow_Acc para que PC0 pueda comunicarse libremente con Laptop0. <br><br><img src="https://habrastorage.org/webt/rb/ya/vc/rbyavcokvtgs9_dz9rwj0yuy34c.jpeg"><br><br>  En ambas listas, agregamos l√≠neas con el par√°metro Permitir IP, lo que significa permitir el tr√°fico sobre cualquier protocolo IP. <br><br>  Como sabe, ICMP utiliza tr√°fico bidireccional: env√≠a ping y echo lo devuelve.  En nuestra situaci√≥n, si Laptop2 aborda el ping de Laptop0, el tr√°fico fluir√° libremente a la red del departamento de administraci√≥n.  Sin embargo, cuando el paquete se devuelva a la computadora port√°til del departamento de ventas, ir√° a la interfaz G0 / 0 del enrutador R1, donde est√° activo el ACL 101. Dado que el tr√°fico de retorno no cumple con ninguna de las condiciones de esta lista, se bloquear√°.  Por lo tanto, debemos complementar la lista ACL101 con condiciones de resoluci√≥n para hacer ping desde Sales2 Laptop2 del departamento de ventas y hacer ping desde la PC0 del departamento de finanzas. <br><br><img src="https://habrastorage.org/webt/rw/y_/zi/rwy_zihar-nzak7n9syenz0prk0.jpeg"><br><br>  Hemos resuelto la Tarea N¬∫ 3 y ahora pasamos a resolver el Problema N¬∫ 4: "El port√°til Sales3 Laptop3 solo puede acceder a su propia red de VENTAS y solo al Servicio Web a trav√©s del puerto 80 en el Servidor 1". <br><br>  La primera parte de la tarea significa que tan pronto como Laptop3 intente abandonar la red de VENTAS, el enrutador R2 bloquear√° su tr√°fico.  Sin embargo, de acuerdo con la segunda parte de la tarea, esta computadora debe tener acceso a un servicio web ubicado fuera de la red de VENTAS.  Esto significa que todo el tr√°fico, excepto el tr√°fico dirigido al servidor, est√° bloqueado. <br><br>  De las tareas anteriores, sabemos que el tr√°fico proveniente del departamento de ventas est√° regulado por la ACL Allow_Sa, que aplicamos a la interfaz de entrada G0 / 1 del enrutador R2.  Por lo tanto, debemos cambiar esta lista, primero agregando la l√≠nea ‚Äúpermitir TCP al servidor 1 a trav√©s del puerto 80‚Äù del siguiente tipo: Permiso TCP 192.168.1.3/32 192.168.1.195/32 80 <br><br><img src="https://habrastorage.org/webt/g1/ii/e8/g1iie8wrn_ys4_d5pxzgzsxlrxi.jpeg"><br><br>  La primera l√≠nea significa que cualquier tr√°fico HTTP llega al servidor, y la segunda Denegar IP 192.168.1.3/32 significa que el resto del tr√°fico, por ejemplo, FTP proveniente de Laptop3, se eliminar√°.  Adem√°s, dejamos sin cambios las tres l√≠neas siguientes de la ACL anterior, resolviendo as√≠ el problema 4. <br><br>  Ya dije que le aconsejo que escriba las soluciones a estos problemas en papel o las escriba manualmente en una computadora, porque cambian, y en papel o en una computadora siempre puede agregar, tachar o eliminar l√≠neas.  Le llamo la atenci√≥n sobre el hecho de que si simplemente agrega la soluci√≥n al cuarto problema al final de la ACL, agregando dos l√≠neas, el sistema las ignorar√°, porque las condiciones ubicadas arriba absorben estas reglas.  Dado que la segunda l√≠nea de la lista anterior permite todo el tr√°fico, la condici√≥n de denegaci√≥n de IP 192.168.1.3/32, ubicada al final de la lista, simplemente no se cumplir√°. <br><br>  Por lo tanto, la secuencia correcta de entradas de ACL es de suma importancia.  Primero, debe desarrollar una cadena l√≥gica de operaciones y organizar las l√≠neas para que no se contradigan entre s√≠.  Ahora pasemos a Packet Tracer y completemos todos los ajustes de acuerdo con las soluciones. <br><br><img src="https://habrastorage.org/webt/d6/k8/so/d6k8soi4ha94psryok6hfmdbqcg.jpeg"><br><br>  Comencemos la configuraci√≥n desde el primer enrutador, Router1.  Uso el comando show access-list para mostrar que falta la ACL actualmente.  Luego, usando el comando show ip route, muestro que el RIP entre los dos enrutadores ya est√° configurado y funcionando. <br><br>  Vayamos a Laptop0 y hagamos ping al Servidor1 en 192.168.1.195.  Como puede ver, el ping es exitoso, ya que no tenemos ninguna ACL que proh√≠ba o filtre el tr√°fico.  Tambi√©n soy libre de hacer ping a Server0. <br><br>  Ahora iremos al enrutador Router1, ingresaremos al modo de configuraci√≥n global y crearemos la lista ACL 101. Para hacer esto, escribo el comando access-list 101 permit tcp.  Tenga en cuenta que el sistema da una pista de qu√© valor de par√°metro, adem√°s de tcp, se puede utilizar en este comando. <br><br><img src="https://habrastorage.org/webt/39/ah/7e/39ah7eyonfof74wpxuislhwm4pq.jpeg"><br><br>    esp, icmp, osfp   .    CCNA      ip, ismp, tcp  udp. <br><br>      ,     access-list 101 permit tcp 192.168.1.224.  /28    16 ,     0.0.0.15. <br><br>  28  4  ,   1 ,    128,  2  ‚Äì 64,   ‚Äì 32, 4     16, ,      (16-1) =15.     ,         .      ,       host   IP-,      : access-list 101 permit tcp 192.168.1.224 0.0.0.15 host 192.168.1.194. <br><br>      ,     ,   ,   . <br><br><img src="https://habrastorage.org/webt/bv/ky/av/bvkyav2z_cfkdsqbdgysd6edisy.jpeg"><br><br>    dscp,        ,  eq,          , gt ‚Äì      ,  , lt ‚Äì       ..         ,       eq.          . <br><br><img src="https://habrastorage.org/webt/rd/qx/ss/rdqxss4ca-_8cp5m0e6nfw7romw.jpeg"><br><br>        0  65535,    ,    .  FTP   21,  SMTP ‚Äì  25,    www ‚Äì    HTTP-   80.         80. <br>     do show run    , ,      80   www.     ,    ,  80     21: access-list 101 permit tcp 192.168.1.224 0.0.0.15 host 192.168.1.194 eq 21. <br><br>       ICMP-,   .     access-list 101 permit icmp.     host,    ,       IP- 192.168.1.226    0.0.0.0,      ,  .      host  IP- Laptop2 ‚Äì 192.168.1.2.           ‚Äì   ,     . <br><br><img src="https://habrastorage.org/webt/qc/ju/fh/qcjufhyq6nqg31_gp1nuflwvgkw.jpeg"><br><br>       ,       echo-replay.  ,      .       : access-list 101 permit icmp192.168.1.226 0.0.0.0 host 192.168.1.2 echo-replay.     : access-list 101 permit icmp 192.168.1.226 0.0.0.0 host 192.168.1.130 echo-replay. <br><br>     ,       int g0/0  ip access-group,    101     ,      IN.    Laptop0     192.168.1.194,    ACL   .  ,   ,     .    IP-  192.168.1.195,       . <br><br>  ,       Server0   Laptop0  .     HTTP  FTP-    80  21,    ICMP-,   .     . <br>    -,           192.168.1.194,      - Server0. <br><br><img src="https://habrastorage.org/webt/qe/so/d_/qesod_x7ju9zigyjiro7133vrko.jpeg"><br><br>         192.168.1.195,   ,    ACL    . <br><br>     ‚Ññ1      R2    ACL    ‚Äì Allow_Ac.  ,   ACL     ,          .      ip access-list extended Allow_Ac     . <br><br>    permit tcp 192.168.1.128.     /26,     ,   ,     ‚Äì    128,   ‚Äì   64, ,    0.0.0.63.          ,     255.255.255.192    255.255.255.255.      permit tcp 192.168.1.128 0.0.0.63 host 192.168.1.194 eq 80.      : permit tcp 192.168.1.128 0.0.0.63 host 192.168.1.194 eq 21. <br><br>      ‚Ññ1 ‚Äì      PC0        Laptop0  .      permit ip host 192.168.1.130 host 192.168.1.226    ,         . <br><br>     ACL   g0/0,     ip access-group Allow_Ac IN.   , PC0      Server 0,     -  .     PC0  192.168.1.194,    Packet Tracer,      ,   R2   . <br><br>     ACL    ,     ip access-list extended Allow_Sa  permit tcp host 192.168.1.3 host 192.168.1.195 eq 80.  ,    HTTP-     ,       ,  deny ip host 192.168.1.3 any. <br><br><img src="https://habrastorage.org/webt/4y/x7/le/4yx7leb24li9ft21i3sf6--y4f8.jpeg"><br><br>    ,   ,  .      deny icmp 192.168.1.0.     /25,  1  ,    128 , ,      0.0.0.127.              192.168.1.195,    Server2.    ACL   : deny icmp 192.168.1.0 0.0.0.127 host 192.168.1.195 echo. <br><br>        4-  ,        ,    : permit ip 192.168.1.0 0.0.0.127 host 192.168.1.195. <br><br>    ,   Laptop2   Laptop0.     permit host 192.168.1.2 host 192.168.1.226,       g0/1  ip access-group Allow_Sa IN. <br><br><img src="https://habrastorage.org/webt/bw/ve/w0/bwvew0hl60slwzsqkrdsxouia1y.jpeg"><br><br> ,    ACL    Laptop3,   ,     - .     192.168.1.195  ,     PC   192.168.1.130        192.168.1.226. ,     ‚Äì   -  Server1. <br><br><img src="https://habrastorage.org/webt/1a/y3/lt/1ay3ltyzggjbjjbss5dh92hjxnk.jpeg"><br><br> Laptop2         Laptop0,  .  ,   ,        192.168.1.226.        Laptop1  ,     ACL   ,   Laptop0.   Laptop2      Server1   192.168.1.195,    -  .  ,     4- ,      ACL. <br><br>   ,          ,        .      ACL        ‚Äì      ,      .       ,    ,        ,   . <br><br>  CCNA       ,           .   ,                .  ,               . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6Rtxun6dl-0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV desde $ 199</a> en los Pa√≠ses Bajos!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - ¬°desde $ 99!</b></b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/465725/">https://habr.com/ru/post/465725/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../465713/index.html">Qu√© leer al gerente del proyecto: libros sobre gesti√≥n de personal, habilidades sociales y DevOps</a></li>
<li><a href="../465715/index.html">Balanceo de carga de OpenStack (Parte 2)</a></li>
<li><a href="../465719/index.html">Por qu√© las notificaciones PUSH no se reciben en 3CX VoIP Client para Android</a></li>
<li><a href="../465721/index.html">Sistema aeroespacial totalmente reutilizable a partir de tecnolog√≠as existentes.</a></li>
<li><a href="../465723/index.html">Posit-aritm√©tica: derrotando un punto flotante en su propio campo. Parte 1</a></li>
<li><a href="../465727/index.html">Convi√©rtete en Zuckerberg o programador de infancia</a></li>
<li><a href="../465729/index.html">Eventos digitales en Mosc√∫ del 2 al 8 de septiembre.</a></li>
<li><a href="../465731/index.html">Una gran cantidad de canales de YouTube para aprender ingl√©s para programadores</a></li>
<li><a href="../465733/index.html">¬øQu√© hacer si los certificados est√°n podridos y el racimo se convierte en una calabaza?</a></li>
<li><a href="../465735/index.html">C√≥mo es el sistema de enfriamiento pasivo en computadoras MIC-7900</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>