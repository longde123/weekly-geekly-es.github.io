<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๐ผ ๐๐ฝ โ๐ผ ุชุญููู ุงูุฅูุชุฒุงูุงุช ูุณุญุจ ุงูุทูุจุงุช ูู Travis CI ู Buddy ู AppVeyor ุจุงุณุชุฎุฏุงู PVS-Studio ๐คณ๐ผ ๐ค๐ฝ ๐ฉ๐พโ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 7.04 ุ ูููุฑ ูุญูู PVS-Studio ููุบุงุช C ู C ++ ุนูู Linux ู macOS ููุฒุฉ ุงุฎุชุจุงุฑ ููุชุญูู ูู ูุงุฆูุฉ ุงููููุงุช ุงููุญุฏุฏุฉ. ุจุงุณุชุฎุฏุงู ุงููุถุน ุงูุฌุฏูุฏ ุ ููู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุญููู ุงูุฅูุชุฒุงูุงุช ูุณุญุจ ุงูุทูุจุงุช ูู Travis CI ู Buddy ู AppVeyor ุจุงุณุชุฎุฏุงู PVS-Studio</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/470982/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ac4/d08/0e7/ac4d080e7661626569ef514abe190662.png" alt="ุตูุฑุฉ 11"></div><br>  ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 7.04 ุ ูููุฑ ูุญูู PVS-Studio ููุบุงุช C ู C ++ ุนูู Linux ู macOS ููุฒุฉ ุงุฎุชุจุงุฑ ููุชุญูู ูู ูุงุฆูุฉ ุงููููุงุช ุงููุญุฏุฏุฉ.  ุจุงุณุชุฎุฏุงู ุงููุถุน ุงูุฌุฏูุฏ ุ ููููู ุชูููู ุงููุญูู ููุชุญูู ูู ุงูุทูุจุงุช ูุณุญุจ ุงูุทูุจุงุช.  ุชุชูุงูู ูุฐู ุงูููุงูุฉ ุฅุนุฏุงุฏ ูุญุต ุจุนุถ ุงููููุงุช ุงููุนุฏูุฉ ูู ูุดุฑูุน GitHub ูู ุฃูุธูุฉ CI (ุงูุชูุงูู ุงููุณุชูุฑ) ุงูุดุงุฆุนุฉ ูุซู Travis CI ู Buddy ู AppVeyor. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุทุฑููุฉ ุงูุชุญูู ูู ูุงุฆูุฉ ุงููููุงุช </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PVS-Studio</a> ูู ุฃุฏุงุฉ ูุตููุฉ ูููุดู ุนู ุงูุฃุฎุทุงุก ูููุงุท ุงูุถุนู ุงููุญุชููุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ููุจุฑุงูุฌ ุ ููุชูุจุฉ ุจูุบุงุช C ู C ++ ู C # ู Java.  ูุนูู ูู ุฃูุธูุฉ 64 ุจุช ุนูู Windows ู Linux ู macOS. <br><br>  ูู ุฅุตุฏุงุฑ PVS-Studio 7.04 ููุธุงูู ุงูุชุดุบูู Linux ู macOS ุ ููุฌุฏ ุงูุขู ูุถุน ุงูุชุญูู ูู ูุงุฆูุฉ ุงููููุงุช.  ุฅูู ูุนูู ูููุดุงุฑูุน ุงูุชู ูุณูุญ ูุธุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅูุดุงุก ุงูุฎุงุตุฉ</a> ุจูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุฅูุดุงุก</a> ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">compile_commands.json</a> .  ููุงู ุญุงุฌุฉ ุญุชู ูุชููู ุงููุญูู ูู ุงูุญุตูู ุนูู ูุนูููุงุช ุญูู ุชุฌููุน ูููุงุช ูุนููุฉ.  ุฅุฐุง ูุงู ูุธุงู ุงูุฅูุดุงุก ุงูุฎุงุต ุจู ูุง ูุฏุนู ุฅูุดุงุก ููู compile_commands.json ุ ููููู ูุญุงููุฉ ุฅูุดุงุก ูุซู ูุฐุง ุงูููู ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Bear</a> . <br><br>  ูููู ุฃูุถูุง ุงุณุชุฎุฏุงู ูุถุน ุงูุชุญูู ูู ูุงุฆูุฉ ุงููููุงุช ูุฐุง ูุน ุณุฌู ุชุชุจุน ุชุดุบูู ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ุงูุฐู ุชู ุฅูุดุงุคู ุจูุงุณุทุฉ strace (ุชุชุจุน pvs-studio-analyser).  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฃููุงู ุฅูู ุฅููุงู ุฅูุดุงุก ูุดุฑูุน ูุงูู ูุชุชุจุนู ุจุญูุซ ูููู ุงููุญูู ุจุฌูุน ูุนูููุงุช ูุงููุฉ ุญูู ูุนููุงุช ุงูุชุฑุฌูุฉ ูุฌููุน ุงููููุงุช ุงููุญุฏุฏุฉ. <br><br>  ููุน ุฐูู ุ ูุญุชูู ูุฐุง ุงูุฎูุงุฑ ุนูู ุนูุจ ูุจูุฑ - ุณูููู ุนููู ุฅูุง ุฅุฌุฑุงุก ุชุชุจุน ุจูุงุก ูุงูู ูููุดุฑูุน ุจุฃูููู ูุน ูู ุชุดุบูู ุ ููู ูุง ูุชุนุงุฑุถ ูุน ููุฑุฉ ุงูุชุญูู ูู ุงูุงูุชุฒุงู ุงูุณุฑูุน.  ุฃู ุฅุฐุง ููุช ุจุชุฎุฒูู ูุชูุฌุฉ ุงูุชุชุจุน ููุณูุง ูุคูุชูุง ุ ููุฏ ูููู ุชุดุบูู ุงููุญูู ุงููุงุญู ุบูุฑ ููุชูู ูู ุญุงูุฉ ุญุฏูุซ ุชุบููุฑุงุช ูู ุชุจุนูุงุช ุงููููุงุช ุงููุตุฏุฑ ุจุนุฏ ุชุชุจุนูุง (ุนูู ุณุจูู ุงููุซุงู ุ ุชุชู ุฅุถุงูุฉ # ุชุถููู ุฌุฏูุฏ ูู ุฃุญุฏ ุงููููุงุช ุงููุตุฏุฑ). <br><br>  ูุฐูู ุ ูุง ููุตู ุจุงุณุชุฎุฏุงู ูุถุน ุงูุชุญูู ูู ูุงุฆูุฉ ุงููููุงุช ุจุงุณุชุฎุฏุงู ุณุฌู ุงูุชุชุจุน ููุชุญูู ูู ุงูุทูุจุงุช ุฃู ุณุญุจ ุงูุทูุจุงุช.  ุฅุฐุง ููุช ุชุณุชุทูุน ุฅุฌุฑุงุก ุฅูุดุงุก ุชุฒุงูุฏู ุนูุฏ ุงูุชุญูู ูู ุงูุงูุชุฒุงู ุ ูููุฑ ูู ุงุณุชุฎุฏุงู ูุถุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุญููู ุงูุชุฒุงูุฏู</a> . <br><br>  ูุชู ุญูุธ ูุงุฆูุฉ ุงููููุงุช ุงููุตุฏุฑ ููุชุญููู ูู ุงูููู ุงููุตู ูุชูุฑูุฑูุง ุฅูู ุงููุญูู ุจุงุณุชุฎุฏุงู ุงููุนููุฉ <i>-S</i> : <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">pvs-studio-analyzer analyze ... -f build/compile_commands.json -S check-list.txt</code> </pre> <br>  ูุญุชูู ูุฐุง ุงูููู ุนูู ูุณุงุฑุงุช ูุณุจูุฉ ููุทููุฉ ูููููุงุช ุญูุซ ูุฃุชู ูู ููู ุฌุฏูุฏ ูู ุณุทุฑ ุฌุฏูุฏ.  ููููู ุชุญุฏูุฏ ูู ูู ุฃุณูุงุก ุงููููุงุช ููุชุญููู ููุต ูุฎุชูู.  ุจุงููุณุจุฉ ูููุต ุ ุณูู ููุงุญุธ ุงููุญูู ุฃูู ููุณ ุงุณู ููู ูุฃูู ุณูุชุฌุงูู ุงูุณุทุฑ.  ูุฏ ูููู ูููุฏูุง ููุชุนููู ุฅุฐุง ุชู ุชุญุฏูุฏ ุงููููุงุช ูุฏูููุง.  ููุน ุฐูู ุ ุบุงูุจูุง ูุง ูุชู ุฅูุดุงุก ูุงุฆูุฉ ุงููููุงุช ุฃุซูุงุก ุชุญููู CI ุ ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุฃู ุชููู ูููุงุช ูู ุงูุชุฒุงู ุฃู ุทูุจ ุณุญุจ. <br><br>  ุงูุขู ุจุงุณุชุฎุฏุงู ูุฐุง ุงููุถุน ุ ููููู ุงูุชุญูู ุจุณุฑุนุฉ ูู ุงูููุฏ ุงูุฌุฏูุฏ ูุจู ุฏุฎููู ุฅูู ูุฑุน ุงูุชุทููุฑ ุงูุฑุฆูุณู.  ุชูุช ุฅุถุงูุฉ ุนูุงูุฉ <i>--indicate-warnings ูู</i> ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <i>plog-Converter</i> ุจุญูุซ ุงุณุชุฌุงุจ ูุธุงู ุงููุญุต ููุฌูุฏ ุชุญุฐูุฑุงุช ุงููุญูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">plog-converter ... --indicate-warnings ... -o /path/to/report.tasks ...</code> </pre> <br>  ุจุงุณุชุฎุฏุงู ูุฐู ุงูุนูุงูุฉ ุ ุณูููู ุงููุญูู ุจุฅุฑุฌุงุน ุฑูุฒ ุบูุฑ ุตูุฑู ุฅุฐุง ูุงูุช ููุงู ุชุญุฐูุฑุงุช ูู ุชูุฑูุฑ ุงููุญูู.  ููููู ุญุธุฑ ุฑุจุท ุงูุงูุชุฒุงู ุงูุณุงุจู ุฃู ุงูุงูุชุฒุงู ุฃู ุงูุณุญุจ ูุนุฑุถ ุชูุฑูุฑ ุงููุญูู ุงูุฐู ุชู ุฅูุดุงุคู ุฃู ูุดุงุฑูุชู ุฃู ุฅุฑุณุงูู ุนุจุฑ ุงูุจุฑูุฏ. <br><br>  <i>ุงููุฐูุฑุฉ.</i>  <i>ุฃุซูุงุก ุงูุชุญููู ุงูุฃูู ููุงุฆูุฉ ุงููููุงุช ุ ุณูุชู ูุญุต ุงููุดุฑูุน ุจุฃูููู ุ ุญูุซ ูุชุนูู ุนูู ุงููุญูู ุฅูุดุงุก ุงูููู ุจุงุณุชุฎุฏุงู ุชุจุนูุงุช ูููุงุช ูุตุฏุฑ ุงููุดุฑูุน ูู ูููุงุช ุงูุฑุฃุณ.</i>  <i>ูุฐุง ูู ุฎุตูุตูุฉ ุชุญููู ูููุงุช C ู C ++.</i>  <i>ูู ุงููุณุชูุจู ุ ูููู ุชุฎุฒูู ููู ุงูุชุจุนูุฉ ูุฐุง ูุคูุชูุง ูุณูุชู ุชุญุฏูุซู ุชููุงุฆููุง ุจูุงุณุทุฉ ุงููุญูู.</i>  <i>ุชุชูุซู ููุฒุฉ ุงูุชุญูู ูู ุงูุฅูุชุฒุงู ุจุงุณุชุฎุฏุงู ูุถุน ุงูุชุญูู ูู ูุงุฆูุฉ ุงููููุงุช ุนุจุฑ ูุถุน ุงูุชุญููู ุงูุชุฒุงูุฏู ูู ุญูููุฉ ุฃูู ูุฌุจ ุนููู ุชุฎุฒูู ูุฐุง ุงูููู ูุคูุชูุง ููุท ุ ูููุณ ูููุงุช ุงููุงุฆู.</i> <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุจุงุฏุฆ ุงูุนุงูุฉ ูุชุญููู ุทูุจ ุงูุณุญุจ </h2><br>  ูุณุชุบุฑู ุชุญููู ุงููุดุฑูุน ุจุฃูููู ุงููุซูุฑ ูู ุงูููุช ุ ูุฐูู ูู ุงูููุทูู ุงูุชุญูู ูู ุฌุฒุก ููู ููุท.  ุงููุดููุฉ ูู ุฃูู ุชุญุชุงุฌ ุฅูู ูุตู ูููุงุช ุฌุฏูุฏุฉ ุนู ุจููุฉ ูููุงุช ุงููุดุฑูุน. <br><br>  ููููู ูุธุฑุฉ ุนูู ูุซุงู ุดุฌุฑุฉ ุงูุงูุชุฒุงู ุซูุงุฆูุฉ ุงููุฑูุน: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/722/646/68c/72264668c4a90b96ccb63f363a46c683.png" alt="ุงูุตูุฑุฉ 5"></div><br><br>  ุชุฎูู ุฃู ุงูุงูุชุฒุงู <i>A1</i> ูุญุชูู ุนูู ูููุฉ ูุจูุฑุฉ ุฌุฏูุง ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุชู ุงูุชุญูู ูููุง ุจุงููุนู.  ูู ุงูุณุงุจู ุ ูููุง ุจุฅูุดุงุก ูุฑุน ูู <i>A1</i> ุงูุชุฒุงููุง ูุชุบููุฑ ุจุนุถ ุงููููุงุช. <br><br>  ุจุงูุทุจุน ุ ููุฏ ูุงุญุธุช ุฃูู ุจุนุฏ <i>A1</i> ุงุฑุชูุจุช ุขุฎุฑุงู ุ ูุฏูุฌ ูุฑุนูู ุขุฎุฑูู ุ ูุฃููุง ูุง ููุชุฒู ุจุดูู <i>ุฑุฆูุณู</i> .  ููุง ุชุฃุชู ุงููุญุธุฉ ุงูุชู ูููู ูููุง <i>ุงูุฅุตูุงุญ</i> ุฌุงูุฒูุง.  ููุฐุง ุงูุณุจุจ ุญุตููุง ุนูู ุทูุจ ุณุญุจ ูุฏูุฌ <i>B3</i> ู <i>A3</i> . <br><br>  ูููู ุฃู ูุชุญูู ูู ูุชูุฌุฉ ุนูููุฉ ุงูุฏูุฌ ุงูุฎุงุตุฉ ุจูู ุ ูููููุง ุณุชููู ุทูููุฉ ุฌุฏูุง ูุบูุฑ ูุนูููุฉ ุ ุญูุซ ุชู ุชุนุฏูู ุจุนุถ ุงููููุงุช ููุท.  ูุฐูู ุ ูู ุงูุฃูุซุฑ ูุนุงููุฉ ุชุญููู ุงูุนูุงุตุฑ ุงูุชู ุชู ุชุบููุฑูุง ููุท. <br><br>  ููููุงู ุจุฐูู ุ ุณูู ูุชุนุฑู ุนูู ุงููุฑู ุจูู ุงููุฑูุน ุ ูู ุฑุฃุณ ุงููุฑุน ุ ุงูุฐู ูุฑูุฏ ุฏูุฌู ูู ุงูุฑุฆูุณู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">git diff --name-only HEAD origin/<span class="hljs-variable"><span class="hljs-variable">$MERGE_BASE</span></span> &gt; .pvs-pr.list</code> </pre> <br>  ุณูุถุน ูู ุงูุงุนุชุจุงุฑ <i>$ MERGE_BASE</i> ุจุงูุชูุตูู ูุงุญููุง.  ุงูุญูููุฉ ูู ุฃู ุฎุฏูุฉ CI ูุง ุชููุฑ ูู ุงููุนูููุงุช ุงููุทููุจุฉ ุนูู ูุงุนุฏุฉ ุงูุฏูุฌ ุ ูุฐูู ูู ูู ูุฑุฉ ูุชุนูู ุนูููุง ุงูุชูููุฑ ูู ุทุฑู ุฌุฏูุฏุฉ ููุญุตูู ุนูู ูุฐู ุงูุจูุงูุงุช.  ุณูุชู ุงููุธุฑ ูู ุงูุชูุงุตูู ุฃุฏูุงู ููู ูู ุฎุฏูุงุช ุงูููุจ ุงูููุถุญุฉ. <br><br>  ูุฐูู ุญุตููุง ุนูู ุงููุฑู ุจูู ุงููุฑูุน ุ ููู ูุงุฆูุฉ ุฃุณูุงุก ุงููููุงุช ุงููุนุฏูุฉ.  ูุญู ุงูุขู ุจุญุงุฌุฉ ุฅูู ุชุบุฐูุฉ ููู <i>.pvs-pr.list</i> ูุฐุง ูููุญูู.  ููุฏ ุฃุนุฏูุง ุชูุฌูู ุงูุฅุฎุฑุงุฌ ุฅููู ุณุงุจููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ -S .pvs-pr.list</code> </pre> <br>  ุจุนุฏ ุงูุชุญููู ุ ูุญุชุงุฌ ุฅูู ุชุญููู ููู ุงูุณุฌู (PVS-Studio.log) ุฅูู ุชูุณูู ุณูู ุงูุงุณุชุฎุฏุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">plog-converter -t errorfile PVS-Studio.log --cerr -w</code> </pre> <br>  ุณูููู ูุฐุง ุงูุฃูุฑ ุจุฅุฎุฑุงุฌ ูุงุฆูุฉ ุงูุฃุฎุทุงุก ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">stderr</a> (ุฏูู ุงูุฃุฎุทุงุก ุงูููุงุณู). <br><br>  ุงูููู ูู ุฃููุง ูุง ูุญุชุงุฌ ููุท ุฅูู ุฅุฎุฑุงุฌ ุงูุฃุฎุทุงุก ุ ูููู ุฃูุถูุง ููุฅุจูุงุบ ุนู ุฎุฏูุงุช ุงูุฅูุดุงุก ูุงูุงุฎุชุจุงุฑ ุงูุฎุงุตุฉ ุจูุง ุญูู ุงููุดููุงุช.  ููููุงู ุจุฐูู ุ ุชูุช ุฅุถุงูุฉ ุนูุงูุฉ <i>-W</i> ( <i>ุชุญุฐูุฑ - ุชุญุฐูุฑุงุช</i> ) ูู ุงููุญูู.  ุฅุฐุง ูุงู ููุงู ุชุญุฐูุฑ ูุญูู ูุงุญุฏ ุนูู ุงูุฃูู ุ ูุณูู ูุชุบูุฑ ุฑูุฒ ุงูุฅุฑุฌุงุน ุงูุฎุงุต <i>ุจุฃุฏุงุฉ ูุญูู plog</i> ุฅูู 2 ุ ููุฐุง ุจุฏูุฑู ุณูุจูุบ ุฎุฏูุฉ CI ุนู ุงูุฃุฎุทุงุก ุงููุญุชููุฉ ูู ูููุงุช ุทูุจ ุงูุณุญุจ. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุฑุงููุณ ุณู </h2><br>  ูุชู ุงูุชูููู ูู ุดูู ููู <i>.travis.yml</i> .  ููุฑุงุญุฉ ุ ุฃูุตุญู ุจุนุฒู ุฌููุน ุงูุฃูุงูุฑ ุงููุชุนููุฉ ุจู PVS-Studio ูู ุจุฑูุงูุฌ ูุตู bash ูููุตู ูุน ุงููุธุงุฆู ุงูุชู ุณูุชู ุงุณุชุฏุนุงุคูุง ูู ุงูููู <i>.travis.yml</i> ( <i>bash script_name.sh function_name</i> ). <br><br>  ูู ุฎูุงู ุชูุณูุน ุงูุจุฑูุงูุฌ ุงููุตู ุ ุณุชุญุตู ุนูู ุงููุฒูุฏ ูู ุงููุธุงุฆู.  ูู ูุณู <i>ุงูุชุซุจูุช ุ</i> ุงูุชุจ ูุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">install: - bash .travis.sh travis_install</code> </pre> <br>  ุฅุฐุง ูุงู ูุฏูู ุจุนุถ ุงูุฅุฑุดุงุฏุงุช ุ ููููู ููููุง ูู ุงูุจุฑูุงูุฌ ุงููุตู ุ ุจุนุฏ ุฅุฒุงูุฉ ุงููุงุตูุงุช. <br><br>  ุงูุชุญ ุงูููู <i>.travis.sh</i> ูุฃุถู ุชุซุจูุช ุงููุญูู ูู ูุธููุฉ <i>travis_install ()</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">travis_install</span></span></span></span>() { wget -q -O - https://files.viva64.com/etc/pubkey.txt \ | sudo apt-key add - sudo wget -O /etc/apt/sources.list.d/viva64.list \ https://files.viva64.com/etc/viva64.list sudo apt-get update -qq sudo apt-get install -qq pvs-studio }</code> </pre> <br>  ุงูุขู ูููู ุจุฅุถุงูุฉ ูุญูู ุงูุชุดุบูู ูู ูุณู <i>ุงูุจุฑูุงูุฌ ุงููุตู</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">script: - bash .travis.sh travis_script</code> </pre> <br>  ููู ุงูุจุฑูุงูุฌ ุงููุตู bash: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">travis_script</span></span></span></span>() { pvs-studio-analyzer credentials <span class="hljs-variable"><span class="hljs-variable">$PVS_USERNAME</span></span> <span class="hljs-variable"><span class="hljs-variable">$PVS_KEY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$TRAVIS_PULL_REQUEST</span></span></span><span class="hljs-string">"</span></span> != <span class="hljs-string"><span class="hljs-string">"false"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> git diff --name-only origin/HEAD &gt; .pvs-pr.list pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ -S .pvs-pr.list \ --disableLicenseExpirationCheck <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ --disableLicenseExpirationCheck <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> plog-converter -t errorfile PVS-Studio.log --cerr -w }</code> </pre> <br>  ูุฌุจ ุชุดุบูู ูุฐุง ุงูุฑูุฒ ุจุนุฏ ุจูุงุก ุงููุดุฑูุน ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ูุฏูู ุจูุงุก ุนูู CMake: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">travis_script</span></span></span></span>() { CMAKE_ARGS=<span class="hljs-string"><span class="hljs-string">"-DCMAKE_EXPORT_COMPILE_COMMANDS=On </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${CMAKE_ARGS}</span></span></span><span class="hljs-string">"</span></span> cmake <span class="hljs-variable"><span class="hljs-variable">$CMAKE_ARGS</span></span> CMakeLists.txt make -j8 }</code> </pre> <br>  ุณุชุญุตู ุนูู ูุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">travis_script</span></span></span></span>() { CMAKE_ARGS=<span class="hljs-string"><span class="hljs-string">"-DCMAKE_EXPORT_COMPILE_COMMANDS=On </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${CMAKE_ARGS}</span></span></span><span class="hljs-string">"</span></span> cmake <span class="hljs-variable"><span class="hljs-variable">$CMAKE_ARGS</span></span> CMakeLists.txt make -j8 pvs-studio-analyzer credentials <span class="hljs-variable"><span class="hljs-variable">$PVS_USERNAME</span></span> <span class="hljs-variable"><span class="hljs-variable">$PVS_KEY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$TRAVIS_PULL_REQUEST</span></span></span><span class="hljs-string">"</span></span> != <span class="hljs-string"><span class="hljs-string">"false"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> git diff --name-only origin/HEAD &gt; .pvs-pr.list pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ -S .pvs-pr.list \ --disableLicenseExpirationCheck <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ --disableLicenseExpirationCheck <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> plog-converter -t errorfile PVS-Studio.log --cerr -w }</code> </pre> <br>  ุนูู ุงูุฃุฑุฌุญ ุ ููุฏ ูุงุญุธุช ุจุงููุนู ูุชุบูุฑุงุช ุงูุจูุฆุฉ <i>$ TRAVIS_PULL_REQUEST</i> ู <i>$ TRAVIS_BRANCH</i> .  ูุนูู Travis CI ุนู ููุณู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <i>$ TRAVIS_PULL_REQUEST</i> ูุฎุฒู ุฑูู ุทูุจ ุงูุณุญุจ ุฃู <i>ุฎุทุฃ</i> ุฅุฐุง ูุงู ูุฑุนูุง ุนุงุฏููุง ุ </li><li style=";text-align:right;direction:rtl">  ูุฎุฒู <i>TRAVIS_REPO_SLUG $</i> ุงุณู ูุณุชูุฏุน ุงููุดุฑูุน. </li></ul><br>  ุฅููู ุงูุฎูุงุฑุฒููุฉ ุงูุชุดุบูููุฉ ููุฐู ุงููุธููุฉ: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ebe/643/58b/ebe64358b6f4cc73db5d4b0094919faa.png" alt="ุตูุฑุฉ 13"></div><br>  ูุณุชุฌูุจ Travis CI ูุฑููุฒ ุงูุฅุฑุฌุงุน ุ ูุจุงูุชุงูู ูุฅู ูุฌูุฏ ุชุญุฐูุฑุงุช ุณูุจูุบ ุนู ุงูุฎุฏูุฉ ููุถุน ุนูุงูุฉ ุนูู ุงูุงูุชุฒุงู ุจุฃูู ูุญุชูู ุนูู ุฃุฎุทุงุก. <br><br>  ุงูุขู ุฏุนููุง ูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ูุฐุง ุงูููุฏ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ: <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">git diff --name-only origin/HEAD &gt; .pvs-pr.list</code> </pre> <br>  ุงูุญูููุฉ ูู ุฃู Travis CI ูุฏูุฌ ุงููุฑูุน ุชููุงุฆููุง ุนูุฏ ุชุญููู ุทูุจ ุงูุณุญุจ: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/443/986/1f4/4439861f46637d41119e83f83e2e440b.png" alt="ุงูุตูุฑุฉ 8"></div><br>  ููุฐุง ุงูุณุจุจ ูููู ุจุชุญููู <i>A4</i> ุ ูููุณ <i>B3-&gt; A3</i> .  ูุธุฑูุง ููุฐู ุงูุฎุตูุตูุฉ ุ ูุญุชุงุฌ ุฅูู ุชูููู ุงููุฑู ูุน <i>A3</i> ุ ููู ุฑุฃุณ ุงููุฑุน ูู <i>ุงูุฃุตู</i> . <br><br>  ูุจูู ุฃุญุฏ ุงูุชูุงุตูู ุงููููุฉ - ุงูุชุฎุฒูู ุงููุคูุช ุชุจุนูุงุช ูููุงุช ุงูุฑุฃุณ ูู ูุญุฏุงุช ุงูุชุฑุฌูุฉ ุงููุชุฑุฌูุฉ (* .c ุ * .cc ุ * .cpp ูุบูุฑูุง).  ูููู ุงููุญูู ุจุชูููู ูุฐู ุงูุชุจุนูุงุช ุฃุซูุงุก ุงูุชุดุบูู ุงูุฃูู ูู ูุถุน ุงูุชุญูู ูู ูุงุฆูุฉ ุงููููุงุช ุซู ูุฎุฒููุง ูู ุฏููู .PVS-Studio.  ูุณูุญ Travis CI ุจูุณุชูุฏุนุงุช ุงูุชุฎุฒูู ุงููุคูุช ุ ูุฐูู ุณูููู ุจุญูุธ ุงูุจูุงูุงุช ูู <i>.PVS-Studio /</i> directory: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">cache: directories: - .PVS-Studio/</code> </pre> <br>  ูุฌุจ ุฅุถุงูุฉ ูุฐุง ุงูุฑูุฒ ูู ููู <i>.travis.yml</i> : ูุฎุฒู ูุฐุง ุงูุฏููู ุจูุงูุงุช ูุชููุนุฉ ุ ูุชู ุฌูุนูุง ุจุนุฏ ุงูุชุญููู.  ุชุณุฑุน ูุฐู ุงูุจูุงูุงุช ุจุดูู ููุญูุธ ุนูููุงุช ุงููุงุญูุฉ ูุชุญููู ูุงุฆูุฉ ุงููููุงุช ุฃู ุงูุชุญููู ุงูุชุฒุงูุฏู.  ุฅุฐุง ูู ุชูู ุจุฐูู ุ ูุณูููู ุงููุญูู ุจุชุญููู ุฌููุน ุงููููุงุช ูู ูู ูุฑุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุฑููู </h2><br>  ุชูุงููุง ูุซู Travis CI ุ ูููููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Buddy</a> ูู ุฅูุดุงุก ูุงุฎุชุจุงุฑ ุงููุดุฑูุนุงุช ุชููุงุฆููุง ูู GitHub.  ุนูู ุนูุณ Travis CI ุ ูุชู ุชููููู ูู ูุงุฌูุฉ ุงูููุจ (ูุชููุฑ ุฏุนู bash) ุ ูุฐูู ููุณุช ููุงู ุญุงุฌุฉ ูุชุฎุฒูู ูููุงุช ุงูุชูููู ูู ุงููุดุฑูุน. <br><br>  ุฃููุงู ุ ูุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุฎุทูุฉ ุฌุฏูุฏุฉ ุฅูู ุฎุท ุงูุฃูุงุจูุจ: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/75e/2fd/36e/75e2fd36e9a4420ff74256429ff73e0c.gif" alt="ุงูุตูุฑุฉ 1"></div><br>  ุฏุนููุง ูุญุฏุฏ ุงููุชุฑุฌู ุงููุณุชุฎุฏู ูุจูุงุก ุงููุดุฑูุน.  ุงูุชุจู ูุญุงููุฉ ุงูุฑุตูู ุ ุงููุซุจุชุฉ ุฎูุงู ูุฐู ุงูุฎุทูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ููุงู ุญุงููุฉ ุฎุงุตุฉ ูุฏูู ูุฌูุณ ุงูุชุนุงูู ุงูุฎููุฌู: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/95b/837/7ad/95b8377adbac7e50e55d97c5b318f56c.png" alt="ุตูุฑุฉ 6"></div><br>  ุงูุขู ูููู ุจุชุซุจูุช PVS-Studio ูุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ุงูุถุฑูุฑูุฉ: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/88e/fba/02b/88efba02b5a4c34f55c4344744812cc7.gif" alt="ุงูุตูุฑุฉ 2"></div><br>  ุฃุถู ุงูุฃุณุทุฑ ุงูุชุงููุฉ ุฅูู ุงููุญุฑุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">apt-get update &amp;&amp; apt-get -y install wget gnupg jq wget -q -O - https://files.viva64.com/etc/pubkey.txt | apt-key add - wget -O /etc/apt/sources.list.d/viva64.list \ https://files.viva64.com/etc/viva64.list apt-get update &amp;&amp; apt-get -y install pvs-studio</code> </pre> <br>  ุฏุนูุง ููุชูู ุฅูู ุนูุงูุฉ ุงูุชุจููุจ "ุชุดุบูู" (ุงูุฑูุฒ ุงูุฃูู) ูุฅุถุงูุฉ ุงูููุฏ ุงูุชุงูู ุฅูู ุญูู ุงููุญุฑุฑ ุงูููุงุณุจ: <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pvs-studio-analyzer credentials <span class="hljs-variable"><span class="hljs-variable">$PVS_USERNAME</span></span> <span class="hljs-variable"><span class="hljs-variable">$PVS_KEY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$BUDDY_EXECUTION_PULL_REQUEST_NO</span></span></span><span class="hljs-string">"</span></span> != <span class="hljs-string"><span class="hljs-string">''</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> PULL_REQUEST_ID=<span class="hljs-string"><span class="hljs-string">"pulls/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$BUDDY_EXECUTION_PULL_REQUEST_NO</span></span></span><span class="hljs-string">"</span></span> MERGE_BASE=`wget -qO - \ https://api.github.com/repos/<span class="hljs-variable"><span class="hljs-variable">${BUDDY_REPO_SLUG}</span></span>/<span class="hljs-variable"><span class="hljs-variable">${PULL_REQUEST_ID}</span></span> \ | jq -r <span class="hljs-string"><span class="hljs-string">".base.ref"</span></span>` git diff --name-only HEAD origin/<span class="hljs-variable"><span class="hljs-variable">$MERGE_BASE</span></span> &gt; .pvs-pr.list pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ --disableLicenseExpirationCheck \ -S .pvs-pr.list <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ --disableLicenseExpirationCheck <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> plog-converter -t errorfile PVS-Studio.log --cerr -w</code> </pre> <br>  ุฅุฐุง ูุฑุฃุช ุงููุณู ุงูุฎุงุต ุจู Travs-CI ุ ููุฐุง ุงูุฑูุฒ ูุฃููู ุจุงููุณุจุฉ ูู.  ูููู ููุง ููุงู ุฎุทูุฉ ุฌุฏูุฏุฉ: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a7a/c65/3e3/a7ac653e3e89c4fc2a2b425b1ccefec8.png" alt="ุตูุฑุฉ 14"></div><br>  ุงูุญูููุฉ ูู ุฃููุง ูุญูู ุงูุขู ููุณ ูุชูุฌุฉ ุงูุฏูุฌ ุ ูููู ุฑุฃุณ ุงููุฑุน ูุน ุทูุจ ุงูุณุญุจ ุงููุญุฏุฏ: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/722/646/68c/72264668c4a90b96ccb63f363a46c683.png" alt="ุงูุตูุฑุฉ 10"></div><br>  ูุฐูู ูุญู ูู ุงูุชุฒุงู <i>B3</i> ููุญุชุงุฌ ุฅูู ุงูุญุตูู ุนูู ุงููุฑู ูุน <i>A3</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">PULL_REQUEST_ID=<span class="hljs-string"><span class="hljs-string">"pulls/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$BUDDY_EXECUTION_PULL_REQUEST_NO</span></span></span><span class="hljs-string">"</span></span> MERGE_BASE=`wget -qO - \ https://api.github.com/repos/<span class="hljs-variable"><span class="hljs-variable">${BUDDY_REPO_SLUG}</span></span>/<span class="hljs-variable"><span class="hljs-variable">${PULL_REQUEST_ID}</span></span> \ | jq -r <span class="hljs-string"><span class="hljs-string">".base.ref"</span></span>` git diff --name-only HEAD origin/<span class="hljs-variable"><span class="hljs-variable">$MERGE_BASE</span></span> &gt; .pvs-pr.list</code> </pre> <br>  ูุชุนุฑูู <i>A3 ุ</i> ุฏุนููุง ูุณุชุฎุฏู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช GitHub: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">https://api.github.com/repos/<span class="hljs-variable"><span class="hljs-variable">${USERNAME}</span></span>/<span class="hljs-variable"><span class="hljs-variable">${REPO}</span></span>/pulls/<span class="hljs-variable"><span class="hljs-variable">${PULL_REQUEST_ID}</span></span></code> </pre> <br>  ุงุณุชุฎุฏููุง ุงููุชุบูุฑุงุช ุงูุชุงููุฉ ุงูุชู ูููุฑูุง ููุง Buddy: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <i>BUDDY_EXECUTION_PULL_REQEUST_NO $</i> - ุฑูู ุทูุจ ุงูุณุญุจ ุ </li><li style=";text-align:right;direction:rtl">  <i>BUDDY_REPO_SLUG $</i> - ูุฌููุนุฉ ูู ุงุณู ุงููุณุชุฎุฏู ููุณุชูุฏุน (ุนูู ุณุจูู ุงููุซุงู ุ max / test). </li></ul><br>  ุงูุขู ุฏุนููุง ูุญูุธ ุงูุชุบููุฑุงุช ุ ุจุงุณุชุฎุฏุงู ุงูุฒุฑ ุฃุฏูุงู ูุชูููู ุชุญููู ุทูุจ ุงูุณุญุจ: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/74c/5d6/876/74c5d6876c07c0b2e0c10cdabb8b0f78.gif" alt="ุงูุตูุฑุฉ 3"></div><br>  ุนูู ุนูุณ Travis CI ุ ูุง ูุชุนูู <i>ุนูููุง</i> ุชุญุฏูุฏ <i>.pvs-studio</i> ููุชุฎุฒูู ุงููุคูุช ุ ุญูุซ ูููู Buddy ุชููุงุฆููุง ุจุชุฎุฒูู ุฌููุน ุงููููุงุช <i>ููุชุดุบููุงุช</i> ุงููุงุญูุฉ.  ูุฐุง ูุฅู ุขุฎุฑ ูุง ุชุจูู ูู ุญูุธ ุชุณุฌูู ุงูุฏุฎูู ููููุฉ ุงููุฑูุฑ ูู PVS-Studio ูู Buddy.  ุจุนุฏ ุญูุธ ุงูุชุบููุฑุงุช ุ ุณูุนูุฏ ุฅูู ุฎุท ุงูุฃูุงุจูุจ.  ูุญุชุงุฌ ุฅูู ุงูุงูุชูุงู ูุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ูุฅุฏุฎุงู ุชุณุฌูู ุงูุฏุฎูู ูุงูููุชุงุญ ูู PVS-Studio: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/eb1/816/e3e/eb1816e3e4aff72ad55b187ec1ebf0a2.gif" alt="ุตูุฑุฉ 4"></div><br>  ุจุนุฏ ุฐูู ุ ุณูุจุฏุฃ ุงูุชุญูู ุจูู ุทูุจ ุณุญุจ ุฌุฏูุฏ ุฃู ุงูุชุฒุงู.  ุฅุฐุง ูุงู ุงูุงูุชุฒุงู ูุญุชูู ุนูู ุฃุฎุทุงุก ุ ูุณูุดูุฑ Buddy ุฅูู ุตูุญุฉ ุทูุจ ุงูุณุญุจ. <br><br><h2 style=";text-align:right;direction:rtl">  AppVeyor </h2><br>  ูุดุจู ุฅุนุฏุงุฏ AppVeyor Buddy ุ ุญูุซ ูุญุฏุซ ูู ุฐูู ูู ูุงุฌูุฉ ุงูููุจ ููุง ุชูุฌุฏ ุญุงุฌุฉ ูุฅุถุงูุฉ ููู * .yml ูู ูุณุชูุฏุน ุงููุดุฑูุน. <br><br>  ุฏุนูุง ูุฐูุจ ุฅูู ุนูุงูุฉ ุงูุชุจููุจ "ุงูุฅุนุฏุงุฏุงุช" ูู ูุฑุงุฌุนุฉ ุงููุดุฑูุน: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/f11/2fc/576/f112fc576fc1f8bf7552625578093292.png" alt="ุตูุฑุฉ 12"></div><br>  ูู ุจุงูุชูุฑูุฑ ูู ูุฐู ุงูุตูุญุฉ ูุฃุณูู ูุชูููู ุญูุธ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุฅูุดุงุก ุทูุจ ุงูุณุญุจ: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/be8/8f3/f34/be88f3f34708075a49bdd13c65f5bc26.png" alt="ุตูุฑุฉ 18"></div><br><br>  ุงูุขู ุ ุฏุนูุง ููุชูู ุฅูู ุนูุงูุฉ ุงูุชุจููุจ "ุงูุจูุฆุฉ" ุ ุญูุซ ุณูููู ุจุชุญุฏูุฏ ุงูุตูุฑุฉ ููุชุบูุฑุงุช ุงูุจูุฆุฉ ูุงูุจูุงุก ุงููุงุฒูุฉ: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/453/26a/80c/45326a80c62211c6b29bd16fad1ef0d1.png" alt="ุตูุฑุฉ 19"></div><br>  ุฅุฐุง ููุช ูุฏ ูุฑุฃุช ุงูุฃูุณุงู ุงูุณุงุจูุฉ ุ ูุฃูุช ุนูู ุฏุฑุงูุฉ ุจูุฐูู ุงููุชุบูุฑูู - <i>PVS_KEY</i> ู <i>PVS_USERNAME</i> .  ุฅุฐุง ูู ููู ุงูุฃูุฑ ูุฐูู ุ ุงุณูุญ ูู ุจุชุฐููุฑู ุจุฃููุง ุถุฑูุฑูุฉ ููุชุญูู ูู ุชุฑุฎูุต ูุญูู PVS-Studio.  ูู ุงููุณุชูุจู ุ ุณููุชูู ุจูู ูุฑุฉ ุฃุฎุฑู ูู ุงูุจุฑุงูุฌ ุงููุตูุฉ Bash. <br><br>  ูู ููุณ ุงูุตูุญุฉ ูู ุงูุฃุณูู ุ ุฏุนููุง ูุญุฏุฏ ูุฌูุฏ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/4e2/967/dbf/4e2967dbfb796e2d0104d5b6539be65a.png" alt="ุตูุฑุฉ 15"></div><br>  ุฅุฐุง ูู ููุนู ุฐูู ุ ูุณูููู ุจุชุญููู ุงููุดุฑูุน ุจุฃูููู ุจุฏูุงู ูู ุงุซููู ูู ุงููููุงุช ุ ููููุง ุณูุชููู ุงูุฅุฎุฑุงุฌ ูููููุงุช ุงููุญุฏุฏุฉ.  ูุฐูู ูู ุงูููู ุฅุฏุฎุงู ุงูุงุณู ุงูุตุญูุญ ูููุณุชูุฏุน. <br><br>  ุงูุขู ุญุงู ุงูููุช ููุญุต ุงูุจุฑูุงูุฌ ุงููุตู.  ุงูุชุญ ุนูุงูุฉ ุงูุชุจููุจ ุงูุงุฎุชุจุงุฑุงุช ูุงุฎุชุฑ Script: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b5f/dbd/0d6/b5fdbd0d6d448174bc05222fe1965c1c.png" alt="ุตูุฑุฉ 20"></div><br>  ูุฌุจ ุฅุฏุฎุงู ุงูููุฏ ุงูุชุงูู ูู ูุฐุง ุงููููุฐุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">sudo apt-get update &amp;&amp; sudo apt-get -y install jq wget -q -O - https://files.viva64.com/etc/pubkey.txt \ | sudo apt-key add - sudo wget -O /etc/apt/sources.list.d/viva64.list \ https://files.viva64.com/etc/viva64.list sudo apt-get update &amp;&amp; sudo apt-get -y install pvs-studio pvs-studio-analyzer credentials <span class="hljs-variable"><span class="hljs-variable">$PVS_USERNAME</span></span> <span class="hljs-variable"><span class="hljs-variable">$PVS_KEY</span></span> PWD=$(<span class="hljs-built_in"><span class="hljs-built_in">pwd</span></span> -L) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$APPVEYOR_PULL_REQUEST_NUMBER</span></span></span><span class="hljs-string">"</span></span> != <span class="hljs-string"><span class="hljs-string">''</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> PULL_REQUEST_ID=<span class="hljs-string"><span class="hljs-string">"pulls/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$APPVEYOR_PULL_REQUEST_NUMBER</span></span></span><span class="hljs-string">"</span></span> MERGE_BASE=`wget -qO - \ https://api.github.com/repos/<span class="hljs-variable"><span class="hljs-variable">${APPVEYOR_REPO_NAME}</span></span>/<span class="hljs-variable"><span class="hljs-variable">${PULL_REQUEST_ID}</span></span> \ | jq -r <span class="hljs-string"><span class="hljs-string">".base.ref"</span></span>` git diff --name-only HEAD origin/<span class="hljs-variable"><span class="hljs-variable">$MERGE_BASE</span></span> &gt; .pvs-pr.list pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ --disableLicenseExpirationCheck \ --dump-files --dump-log pvs-dump.log \ -S .pvs-pr.list <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ --disableLicenseExpirationCheck <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> plog-converter -t errorfile PVS-Studio.log --cerr -w</code> </pre> <br>  ูููุงุญุธ ุงูุฌุฒุก ุงูุชุงูู ูู ุงูููุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">PWD=$(<span class="hljs-built_in"><span class="hljs-built_in">pwd</span></span> -L) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$APPVEYOR_PULL_REQUEST_NUMBER</span></span></span><span class="hljs-string">"</span></span> != <span class="hljs-string"><span class="hljs-string">''</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> PULL_REQUEST_ID=<span class="hljs-string"><span class="hljs-string">"pulls/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$APPVEYOR_PULL_REQUEST_NUMBER</span></span></span><span class="hljs-string">"</span></span> MERGE_BASE=`wget -qO - \ https://api.github.com/repos/<span class="hljs-variable"><span class="hljs-variable">${APPVEYOR_REPO_NAME}</span></span>/<span class="hljs-variable"><span class="hljs-variable">${PULL_REQUEST_ID}</span></span> \ | jq -r <span class="hljs-string"><span class="hljs-string">".base.ref"</span></span>` git diff --name-only HEAD origin/<span class="hljs-variable"><span class="hljs-variable">$MERGE_BASE</span></span> &gt; .pvs-pr.list pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ --disableLicenseExpirationCheck \ --dump-files --dump-log pvs-dump.log \ -S .pvs-pr.list <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> pvs-studio-analyzer analyze -j8 \ -o PVS-Studio.log \ --disableLicenseExpirationCheck <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br>  ุฅููุง ูููุฉ ูุญุฏุฏุฉ ุชูุงููุง ููููุฉ ุฅุฎุฑุงุฌ ุฃูุฑ pwd ูููุชุบูุฑ ุ ุงูุฐู ูุฌุจ ุนููู ุชุฎุฒูู ูุฐู ุงููููุฉ ุงูุชุฑุงุถููุง.  ูู ุงูุจุฏุงูุฉ ูุจุฏู ุบุฑูุจุงู ุ ููู ุงุณูุญูุง ูู ุฃู ุฃุดุฑุญ ูู ุดูุก. <br><br>  ุฃุซูุงุก ุฅุนุฏุงุฏ ุงููุญูู ูู AppVeyor ุ ุชุนุซุฑุช ูู ุณููู ูุญูู ุบุฑูุจ ููุบุงูุฉ.  ูู ูุงุญูุฉ ุ ูุงู ูู ุดูุก ูุนูู ุจุดูู ุตุญูุญ ุ ููู ุงูุชุญููู ูู ูุจุฏุฃ.  ุงุณุชุบุฑู ุงูุฃูุฑ ุงููุซูุฑ ูู ุงูููุช ูุฅุดุนุงุฑ ุฃููุง ููุง ูู / home / appveyor / projects / testcalc / directory ุ ุจูููุง ูุงู ุงููุญูู ูุชุฃูุฏูุง ูู ุฃููุง ููุง ูู / opt / appveyor / build-agent /.  ูู ุชูู ุงููุญุธุฉ ุฃุฏุฑูุช ุฃู ุงููุชุบูุฑ PWD $ ูุฎุงุฏุน.  ููุฐุง ุงูุณุจุจ ุ ููุช ุจุชุฌุฏูุฏ ูููุชูุง ูุฏูููุง ูุจู ุชุดุบูู ุงูุชุญููู. <br><br>  ุงูุชุฑุชูุจ ุงูุฅุถุงูู ููุฅุฌุฑุงุกุงุช ูุงู ููุง ูุงู ูู ุงูุณุงุจู: <br><br><p style=";text-align:right;direction:rtl"></p><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a99/1be/5b1/a991be5b13dd4e17ccb9cb47e4f48cf2.png" alt="ุงูุตูุฑุฉ 16"></div><br>  ุงูุขู ูููู ูุธุฑุฉ ุนูู ูุฐู ุงูุดุธูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">PULL_REQUEST_ID=<span class="hljs-string"><span class="hljs-string">"pulls/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$APPVEYOR_PULL_REQUEST_NUMBER</span></span></span><span class="hljs-string">"</span></span> MERGE_BASE=`wget -qO - \ https://api.github.com/repos/<span class="hljs-variable"><span class="hljs-variable">${APPVEYOR_REPO_NAME}</span></span>/<span class="hljs-variable"><span class="hljs-variable">${PULL_REQUEST_ID}</span></span> \ | jq -r <span class="hljs-string"><span class="hljs-string">".base.ref"</span></span>`</code> </pre> <br>  ููู ูุญุตู ุนูู ุงููุฑู ุจูู ุงููุฑูุน ุ ุงููุชุนููุฉ ุจุทูุจ ุงูุณุญุจ ุงููุญุฏุฏ.  ููููุงู ุจุฐูู ุ ูุญุชุงุฌ ุฅูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  APPVEYOR_PULL_REQUEST_NUMBER $ - ุฑูู ุทูุจ ุงูุณุญุจ ุ </li><li style=";text-align:right;direction:rtl">  APPVEYOR_REPO_NAME $ - ุงุณู ุงููุณุชุฎุฏู ููุณุชูุฏุน ุงููุดุฑูุน. </li></ul><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br>  ุญุณููุง ุ ูู ูููุฑ ูู ุฌููุน ุฎุฏูุงุช ุงูุชูุงูู ุงููุณุชูุฑ ุงูููููุฉ ุ ููุน ุฐูู ุ ููููุง ููุง ุฎุตุงุฆุต ุชุดุบูููุฉ ููุงุซูุฉ.  ูููู ุจุงููุณุจุฉ ููุชุฎุฒูู ุงููุคูุช ุ ูุฅู ูู ุฎุฏูุฉ ุชุนูุฏ ุงุฎุชุฑุงุน ุงูุนุฌูุฉ ุงูุฎุงุตุฉ ุจูุง ุ ูุฐูู ููู ุฏุงุฆูุง ูุฎุชููุฉ. <br><br>  ูู ุจุนุถ ุงูุญุงูุงุช (ููุง ูู ุงูุญุงู ูู Travis-CI) ุ ูุณุชุบุฑู ุงูุฃูุฑ ุจุถุน ุณุทูุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ - ููุนูู ุงูุชุฎุฒูู ุงููุคูุช ุจุฏูู ุนููุจ.  ูู ุญุงูุงุช ุฃุฎุฑู (ููุง ูู AppVeyor) ุ ุนููู ููุท ุชุญุฏูุฏ ุงูุฏููู ูู ุงูุฅุนุฏุงุฏุงุช.  ูููู ููุงู ุจุนุถ ุงูุฎุฏูุงุช ุ ุญูุซ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ููุงุชูุญ ุฎุงุตุฉ ููุญุงููุฉ ุฅููุงุน ุงููุธุงู ูููุญู ุงููุฑุตุฉ ูุฅุนุงุฏุฉ ูุชุงุจุฉ ุฌุฒุก ูุฎุจุฃ ูุคูุชูุง.  ูุฐูู ุ ุฅุฐุง ููุช ุชุฑุบุจ ูู ุชูููู ุชุญููู ุทูุจ ุงูุณุญุจ ุนูู ุฎุฏูุฉ ุชูุงูู ูุณุชูุฑุฉ ุ ูุงูุชู ูู ูุชู ุฐูุฑูุง ุฃุนูุงู ุ ุฃููุงู ุ ุชุฃูุฏ ูู ุฃูู ูู ุชูุงุฌู ูุดููุงุช ูู ุงูุชุฎุฒูู ุงููุคูุช. <br><br>  ุดูุฑุง ูุงูุชูุงููู  ุฅุฐุง ูู ููุฌุญ ุดูุก ูุง ุ ููููู ุงููุชุงุจุฉ ุจุฃูุงู ุฅูู ุฏุนููุง.  ุณููุฏู ูู ุชูููุญูุง ููุณุงุนุฏุฉ. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar470982/">https://habr.com/ru/post/ar470982/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar470966/index.html">ููู ุทููุณูู ูููููุณ ูููุฉ ุงููุฑูุฑ</a></li>
<li><a href="../ar470974/index.html">DNS ุงูุณูุจู ูู ูุฏ ุงููุญูู</a></li>
<li><a href="../ar470976/index.html">ุฃุบููุฉ ุงูุซูุฌ (ุงููุคุณุณุฉ ุงูุฏุงููุฉ) ูุงูููุจ (DevOps ู IaC)</a></li>
<li><a href="../ar470978/index.html">ูุญูู ุฃุจุญุงุซ ุงูุณูู: ูู ุฃูู ูุฏุฑุณูู ุ ููุง ูู ุงูุฃุฏูุงุช ุงูุชู ูุณุชุฎุฏููููุง ููู ููุณุจูู</a></li>
<li><a href="../ar470980/index.html">ุงูููุงู ุงูุชู ุชุญููุง ุฑูุจูุชุงุช ุงูุจุฑูุฌูุงุช (RPAs) ูู ุงููุทุงุน ุงููุตุฑูู</a></li>
<li><a href="../ar470984/index.html">ุชุญููู ุงูุฅูุชุฒุงูุงุช ูุณุญุจ ุงูุทูุจุงุช ูู Travis CI ู Buddy ู AppVeyor ุจุงุณุชุฎุฏุงู PVS-Studio</a></li>
<li><a href="../ar470988/index.html">ุงูุชุณุฌูู ููุชูุญ ูู Slerm DevOps ูู ููุณูู</a></li>
<li><a href="../ar470990/index.html">ูุฌููุนุฉ ุฃุฏูุงุช ุงูุชุณููู ุนุจุฑ ุงูุฅูุชุฑูุช: 3 ุชุทุจููุงุช ูุชุนุฒูุฒ ุงูุชูุงุตู ุงููุฑุฆู</a></li>
<li><a href="../ar470994/index.html">ุฌุงูุง ุณูุฑูุจุช ุงููุฑุงุซุฉ ูู ูุฌูุฉ ูุธุฑ ุงูุทุงูุจ ุงูุฐู ูุฐุงูุฑ ูุซูุฑุง ุจุงูููู: ูุตูุน ุงูุจูุงุฆูู</a></li>
<li><a href="../ar470996/index.html">ููู ูููู ุฃู ุชุตุจุญ ุงูุนูุงูุฉ <img> ุงูุจุณูุทุฉ ุฎุทุฑุงู ูุจูุฑุงู ุนูู ุงููุดุงุท ุงูุชุฌุงุฑูุ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>