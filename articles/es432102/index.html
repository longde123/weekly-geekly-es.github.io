<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßîüèΩ üßúüèª üé∞ Funciones expl√≠citas de JavaScript ‚ùå ü§õüèº ü§®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cuando leo otro art√≠culo sobre caracter√≠sticas poco conocidas del lenguaje JavaScript y orino en silencio algunas soluciones locas en la consola del n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Funciones expl√≠citas de JavaScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432102/"><p><img src="https://habrastorage.org/webt/f_/vy/_s/f_vy_sw3-w-pyxs4zrpqejzpkq4.jpeg" alt="Imagen"></p><br><p>  Cuando leo otro art√≠culo sobre caracter√≠sticas poco conocidas del lenguaje <strong>JavaScript</strong> y orino en silencio algunas soluciones locas en la consola del navegador, a menudo digo en mi cabeza que, bueno, ¬°ciertamente no es as√≠ en la producci√≥n!  Despu√©s de todo, el lenguaje ha adquirido durante mucho tiempo una gran comunidad y tiene una cobertura sorprendentemente amplia de desarrollo industrial.  Si es as√≠, ¬øpor qu√© a menudo nos olvidamos de su capacidad de ser entendido por todos y literalmente propagandizamos todas estas construcciones espec√≠ficas y "memorables"?  <em>¬°Solo hazlo obvio!</em> </p><a name="habracut"></a><br><h2 id="rassuzhdeniya-na-temu">  Razonamiento sobre el tema </h2><br><p>  <em>Puedes saltarte esta grafoman√≠a.</em> </p><br><p> Si hablamos de desarrollo industrial, en la gran mayor√≠a de los casos, el requisito de que se admita un c√≥digo es a√∫n m√°s importante que resolver una tarea planteada por una empresa.  Para muchos, esto es obvio, para algunos, en parte (por supuesto, tambi√©n se encuentran D'Artagnans raros).  Cuanto m√°s claro sea nuestro c√≥digo, menor ser√° el riesgo de llegar al estante polvoriento y que nosotros y nuestros sucesores ganemos problemas con el sistema nervioso. </p><br><p>  No es ning√∫n secreto que JavaScript es sorprendente en su flexibilidad, que es tanto su mayor virtud como una maldici√≥n molesta.  El camino del desarrollador de JavaScript es largo y extremadamente interesante: absorbemos libro por libro, art√≠culo por art√≠culo y adquirimos una experiencia √∫nica, pero a veces es realmente espec√≠fico del idioma.  La distribuci√≥n m√°s amplia de la lengua y, al mismo tiempo, una gran cantidad de no-evidencias acumuladas y alimentadas contribuyen a la formaci√≥n de dos frentes: los que casi idolatran este idioma y los que lo ven como un pato de derechos torpe e influyente. </p><br><p>  Y todo estar√≠a bien, pero a menudo representantes de ambos frentes est√°n trabajando en el mismo proyecto.  Y lo habitual, toda pr√°ctica aceptada es malentendido (falta de voluntad para comprender e incluso ignorar) el c√≥digo del otro.  Y de hecho, <em>"¬°Tengo un desarrollador de Java, y no es tuyo!"</em>  .  Los propios seguidores de Javascript agregan combustible al fuego, diciendo <em>"¬°nadie realmente sabe JavaScript!"</em>  s√≠ <em>"¬°Puedo escribirlo en una l√≠nea en js!"</em>  .  Confieso que yo mismo estoy abusando de la programaci√≥n anormal en mi tiempo libre ... </p><br><p>  Empiezas a sentir este problema cuando tomas el lugar de un marginal y ganas algo de experiencia trabajando con personas y su c√≥digo en ambos lados de las barricadas.  La planificaci√≥n y otras reuniones son m√°s productivas cuando todos los desarrolladores se entienden entre s√≠, no solo a nivel de l√≠neas de negocio, sino al menos un poco a nivel de su implementaci√≥n.  El notorio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">factor de bajo tiene un</a> impacto menor en el proyecto, cuando en el caso de una sola enfermedad de front-ender, el resto del equipo no duda en corregir alguna l√≠nea del archivo <em>.js</em> .  El proceso de compartir conocimiento dentro del equipo y m√°s all√° se vuelve m√°s transparente para todos cuando todos tienen una imagen m√°s detallada.  Bueno y todo en la misma l√≠nea. </p><br><p>  No insto a nadie a "vaso lleno" o "forma de T" (¬øc√≥mo decirlo en este momento?), Pero ¬øpor qu√© no levantamos un poco esta cortina incluso de la comunidad JavaScript?  Para hacer esto, es suficiente traer un poco de claridad a nuestro c√≥digo, usando la flexibilidad del lenguaje no para presumir, sino para entendernos. </p><br><h2 id="vzroslenie-i-prinyatie-otvetstvennosti">  Crecer y tomar responsabilidad </h2><br><p>  Por su parte, JavaScript se ha dado cuenta de su papel durante mucho tiempo, no como un lenguaje para la interactividad de las p√°ginas de Internet y para "pegar" sus recursos, sino como una herramienta poderosa y suficiente para crear aplicaciones multiplataforma completas y, a menudo, muy escalables. </p><br><p>  Originalmente dise√±ado para dise√±adores web, este "lenguaje de programaci√≥n m√°s incomprendido" ha estado pisando agua durante mucho tiempo, a pesar de la creciente popularidad y relevancia.  Durante 13-14 a√±os anteriores a la edici√≥n de ECMAScript 5.1, es dif√≠cil recordar cambios importantes en el est√°ndar o comprender el vector de su desarrollo.  En ese momento, su comunidad hizo una gran contribuci√≥n a la formaci√≥n del ecosistema del lenguaje: Prototype, jQuery, MooTools, etc.  Despu√©s de recibir esta retroalimentaci√≥n de los desarrolladores, JavaScript hizo un trabajo significativo en los errores: el fuerte lanzamiento de 6 a√±os de ES6 en 2015 y ahora los lanzamientos anuales de ECMAScript, gracias al proceso de redise√±o del comit√© TC39 para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">introducir nuevas caracter√≠sticas</a> a la especificaci√≥n. </p><br><p>  Bueno, cuando nuestras aplicaciones se volvieron lo suficientemente grandes, el modelo prototipo de OOP para describir los tipos de usuarios ya no estaba justificado debido a un enfoque inusual.  Bueno en serio, ¬øqu√© es? </p><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Animal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* Call me via new and I will be the constructor ;) */</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Rabbit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{} Rabbit.prototype = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(Animal.prototype); Rabbit.prototype.constructor = Rabbit;</code> </pre> <br><p>  Las clases no aparec√≠an en el idioma, pero s√≠ su sintaxis.  Y el c√≥digo est√° disponible para los seguidores del paradigma tradicional orientado a clases: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-comment"><span class="hljs-comment">/* Obviously, the constructor is here! */</span></span> } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rabbit</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span></span>{}</code> </pre> <br><p>  Ahora en la etapa del candidato para la liberaci√≥n se encuentran <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">los campos privados de la</a> clase.  Es dif√≠cil creer que tarde o temprano dejaremos de re√≠rnos mutuamente con un acuerdo para nombrar propiedades privadas a trav√©s de guiones bajos. </p><br><p>  Al mismo tiempo, en un lenguaje donde una funci√≥n es un objeto de primer orden y tiene lugar un evento constante, es bastante com√∫n: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> that = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ that.n += <span class="hljs-number"><span class="hljs-number">1</span></span>; }, <span class="hljs-number"><span class="hljs-number">1000</span></span>);</code> </pre> <br><p>  Y luego comienzan las explicaciones sobre <em>estos</em> contextos y el cierre en JavaScript, que asusta a cada segundo desarrollador externo.  Pero en muchos casos, el lenguaje evita sorpresas innecesarias al usar expl√≠citamente <em>Function.prototype.bind</em> o incluso as√≠: </p><br><pre> <code class="javascript hljs">setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.n += <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>);</code> </pre> <br><p>  Tambi√©n tenemos funciones de flecha, y estas son realmente funciones, no interfaces funcionales (¬øs√≠, Java?).  Junto con un conjunto ampliado de m√©todos para trabajar con una matriz, tambi√©n ayudan a escribir la l√≠nea de pago declarativa habitual de los c√°lculos: </p><br><pre> <code class="javascript hljs">[<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">-3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.pow(<span class="hljs-number"><span class="hljs-number">2</span></span>, x)) .reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s, x</span></span></span><span class="hljs-function">) =&gt;</span></span> s + x, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br><p>  El lenguaje se considera acertadamente multi-paradigm√°tico.  Pero aqu√≠ hay un ejemplo simple sobre la firma de alguna funci√≥n: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ping</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">host, count</span></span></span><span class="hljs-function">) </span></span>{ count = count || <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* send ping to host count times */</span></span> }</code> </pre> <br><p>  Primero, una persona que pase har√° una pregunta diciendo que probablemente una funci√≥n puede tomar solo el primer argumento, y luego dir√° qu√© demonios en este caso, ¬°el <em>conteo se</em> convierte en booleano!  De hecho, la funci√≥n tiene dos usos: con <em>conteo</em> y sin √©l.  Pero esto es completamente obvio: hay que mirar la implementaci√≥n y comprender.  Usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JSDoc</a> puede ayudar, pero esta no es una pr√°ctica com√∫n.  Y aqu√≠ JavaScript avanz√≥, agregando soporte no para la sobrecarga, sino al menos para los par√°metros predeterminados: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ping</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">host, count = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }</code> </pre> <br><p>  Resumiendo, JavaScript obtuvo una gran cantidad de cosas familiares: generadores, iteradores, <em>conjuntos de</em> colecciones y diccionarios de <em>mapas</em> , matrices escritas e incluso expresiones regulares comenzaron a deleitar el soporte <em>detr√°s</em> .  El lenguaje hace todo lo posible para ser adecuado para muchas cosas y para ser amigable con todos. </p><br><h2 id="blagopriyatnyy-put-k-ochevidnomu">  Camino favorable a lo obvio </h2><br><p>  ¬°El lenguaje en s√≠ est√° ciertamente bien hecho, y es dif√≠cil discutir con eso!  ¬øPero qu√© nos pasa?  ¬øPor qu√© recordamos constantemente al mundo entero que JavaScript es de alguna manera diferente?  Veamos ejemplos de algunas t√©cnicas ampliamente utilizadas y preguntemos por su idoneidad. </p><br><h3 id="privedenie-tipov">  Tipo de fundici√≥n </h3><br><p>  S√≠, JavaScript tiene un sistema de tipo din√°mico y d√©bil y le permite realizar operaciones en cualquier cosa, realizando transformaciones impl√≠citamente para nosotros.  Pero a menudo, todav√≠a es necesario un casting expl√≠cito, y se puede observar lo siguiente: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bool = !!(expr); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> numb = +(expr); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> str = <span class="hljs-string"><span class="hljs-string">''</span></span>+(expr);</code> </pre> <br><p>  Estos trucos son conocidos por todos los desarrolladores de JavaScript y est√°n motivados por el hecho de que dicen que puedes "convertir r√°pidamente" algo en algo: por velocidad aqu√≠ se entiende un registro corto.  ¬øPuede tambi√©n escribir <em>falso</em> inmediatamente como <em>! 1</em> ?  Si el desarrollador est√° tan preocupado por los caracteres imprimibles, en su IDE favorito puede configurar f√°cilmente la <em>plantilla en vivo</em> necesaria o completar autom√°ticamente.  Y si, por el tama√±o del c√≥digo publicado, siempre lo ejecutamos a trav√©s del ofuscador, que sabe mejor que el nuestro c√≥mo deshumanizar todo esto.  Por qu√© no </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bool = <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>(expr); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> numb = <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>(expr); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> str = <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(expr);</code> </pre> <br><p>  El resultado es el mismo, solo claro para todos. </p><br><p>  Para las conversiones de cadenas, tenemos <em>toString</em> , pero para las num√©ricas hay un valor interesante de, que tambi√©n se puede anular.  Un ejemplo cl√°sico que introduce a los "no iniciados" en un estupor: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> timestamp = +<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>;</code> </pre> <br><p>  Pero <em>Date</em> tiene un m√©todo <em>getTime</em> conocido, <em>us√©moslo</em> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> timestamp = (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>()).getTime();</code> </pre> <br><p>  o funci√≥n confeccionada: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> timestamp = <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now();</code> </pre> <br><p>  No hay absolutamente ninguna necesidad de explotar la conversi√≥n de tipo impl√≠cita. </p><br><h3 id="logicheskie-operatory">  Operadores l√≥gicos </h3><br><p>  Se presta especial atenci√≥n a los operadores l√≥gicos AND (&amp;&amp;) y OR (||), que no son del todo l√≥gicos en JavaScript: aceptan y devuelven valores de cualquier tipo.  No entraremos en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">detalles sobre el funcionamiento de la calculadora de</a> expresi√≥n l√≥gica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">;</a> consideraremos ejemplos.  La opci√≥n presentada anteriormente con la funci√≥n: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ping</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">host, count</span></span></span><span class="hljs-function">) </span></span>{ count = count || <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }</code> </pre> <br><p>  Bien podr√≠a verse as√≠: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ping</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">host, count</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// OR arguments.length? if (typeof count == 'undefined') { count = 5; } /* ... */ }</span></span></code> </pre> <br><p>  Dicha verificaci√≥n es m√°s familiar y, en algunos casos, puede ayudar a evitar errores. </p><br><p>  M√°s bien, parece un salvajismo para el desarrollador que inicialmente eligi√≥ la ruta de JavaScript.  Pero para la mayor√≠a de los dem√°s, este c√≥digo es realmente salvaje: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> root = (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> self == <span class="hljs-string"><span class="hljs-string">'object'</span></span> &amp;&amp; self.self === self &amp;&amp; self) || (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> global == <span class="hljs-string"><span class="hljs-string">'object'</span></span> &amp;&amp; global.global === global &amp;&amp; global);</code> </pre> <br><p>  S√≠, es compacto, y s√≠, las bibliotecas populares pueden permit√≠rselo.  Pero, por favor, no abusemos de √©l, porque nuestro c√≥digo no ser√° le√≠do por los contribuyentes en JavaScript, sino por los desarrolladores que resuelven los problemas comerciales en el marco de tiempo. </p><br><p>  Tal patr√≥n puede ocurrir en absoluto: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> count = <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> opts == <span class="hljs-string"><span class="hljs-string">'object'</span></span> &amp;&amp; opts.count || <span class="hljs-number"><span class="hljs-number">5</span></span>;</code> </pre> <br><p>  Esto es definitivamente m√°s corto que el operador ternario habitual, pero al leer dicho c√≥digo, lo primero que recuerda son las prioridades de las operaciones utilizadas. </p><br><p>  Si escribimos una funci√≥n de predicado, que pasamos al mismo <em>Array.prototype.filter</em> , entonces envolver el valor de retorno en <em>booleano</em> es un buen tono.  El prop√≥sito de esta funci√≥n se hace evidente de inmediato y no hay disonancia entre los desarrolladores cuyos lenguajes tienen los operadores l√≥gicos "correctos". </p><br><h3 id="pobitovye-operacii">  Operaciones bit a bit </h3><br><p>  Un ejemplo com√∫n de verificar la presencia de un elemento en una matriz o subcadena en una cadena usando NOT (NOT) bit a bit, que se ofrece incluso en algunos tutoriales: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (~[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>].indexOf(<span class="hljs-number"><span class="hljs-number">1</span></span>)) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'yes'</span></span>); }</code> </pre> <br><p>  ¬øQu√© problema resuelve esto?  no tenemos que verificar <em>! == -1</em> , ya que <em>indexOf</em> obtendr√° el √≠ndice del elemento o -1, y la tilde agregar√° 1 y cambiar√° el signo.  Por lo tanto, la expresi√≥n se convertir√° en un "falso" en el caso del √≠ndice -1. </p><br><p>  Pero la duplicaci√≥n de c√≥digo se puede evitar de otra manera: poniendo un cheque en una funci√≥n separada de algunos objetos de utilidad, como todos, que usar operaciones bit a bit para otros fines.  Hay una funci√≥n de inclusi√≥n en lodash para esto, y no funciona a trav√©s de <del>  enculada </del>  tilde  Puede alegrarse, porque en ECMAScript 2016, el m√©todo <em>Array.prototype.includes</em> se ha <em>solucionado</em> (las l√≠neas tambi√©n tienen uno). </p><br><p>  Pero ah√≠ estaba!  Otra tilde (junto con XOR) se usa para redondear n√∫meros, descartando la parte decimal: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(~~<span class="hljs-number"><span class="hljs-number">3.14</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 3 console.log(2.72^0); // 2</span></span></code> </pre> <br><p>  Pero hay <em>parseInt</em> o <em>Math.floor</em> para estos fines.  Las operaciones bit a bit aqu√≠ son convenientes para escribir c√≥digo r√°pidamente en la consola, ya que tambi√©n tienen una prioridad baja sobre el resto de la aritm√©tica.  Pero en una revisi√≥n de c√≥digo, es mejor no perderse. </p><br><h3 id="sintaksis-i-konstrukcii-yazyka">  Construcciones de sintaxis y lenguaje </h3><br><p>  Algunas pr√°cticas extra√±as son dif√≠ciles de atribuir a cualquier secci√≥n en particular.  Por ejemplo, dicen que los corchetes son opcionales cuando se llama al constructor, y las siguientes dos expresiones son id√©nticas: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rabbit = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rabbit(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rabbit = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rabbit;</code> </pre> <br><p>  ¬°Y realmente lo es!  pero ¬øpor qu√© crear una pregunta desde cero?  No todos los idiomas pueden presumir de tal "caracter√≠stica".  Y si a√∫n as√≠ lo desea, deje que sea un acuerdo sobre todo el proyecto.  De lo contrario, existe la falsa sensaci√≥n de que hay alguna diferencia. </p><br><p>  Una situaci√≥n similar con la declaraci√≥n de un conjunto de variables.  La sintaxis de las directivas <em>var</em> y <em>let le</em> permite declarar (y definir) varias variables a la vez, separadas por comas: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> count = <span class="hljs-number"><span class="hljs-number">5</span></span>, host, retry = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> <br><p>  Alguien usa saltos de l√≠nea para facilitar la lectura, pero en cualquier caso, esta sintaxis no es com√∫n en los idiomas populares.  Nadie te echar√° una mano y te preguntar√° si escribes as√≠: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> count = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> retry = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> host;</code> </pre> <br><p>  Nuevamente, si hay un acuerdo sobre buen estilo a nivel de proyecto / empresa, entonces no hay preguntas.  Es solo que no tienes que combinar demasiada sintaxis para tu estado de √°nimo. </p><br><p>  Hay construcciones espec√≠ficas en el lenguaje, como IIFE, que le permite llamar a una funci√≥n inmediatamente en el lugar de su definici√≥n.  El truco es que el analizador reconozca una expresi√≥n funcional, no una declaraci√≥n de funci√≥n.  Y esto se puede hacer de muchas maneras diferentes: envolviendo cl√°sicamente entre par√©ntesis, a trav√©s de <em>vac√≠o</em> o cualquier otro operador unario.  ¬°Y no hay nada maravilloso al respecto!  Es necesario elegir la √∫nica opci√≥n y no dejarla sin la necesidad: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }());</code> </pre> <br><p>  No es necesario utilizar operadores para hackear el analizador.  Cuando un reci√©n llegado llega al proyecto, quiero sumergirlo en la l√≥gica empresarial de la aplicaci√≥n, y no alimentarlo con explicaciones desde donde se esp√≠an todos estos signos de exclamaci√≥n y vac√≠os.  Tambi√©n hay una segunda entrada entre corchetes cl√°sica y un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">comentario</a> interesante <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de Crockford</a> sobre este tema. </p><br><p>  La aparici√≥n de la sintaxis de clase en ES6 no estuvo acompa√±ada de los modificadores de acceso habituales.  Y a veces el desarrollador quiere orinar en las clases y observar la privacidad.  Lo que lleva a este c√≥digo de Frankenstein: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(name) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> _name = name; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getName = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _name; } } toString() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`Hello, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.getName()}</span></span></span><span class="hljs-string">`</span></span>; } }</code> </pre> <br><p>  Es decir, los accesos se crean para la instancia en el constructor, y la privacidad se logra mediante su acceso a las variables de propiedad local a trav√©s del cierre.  Este ejemplo se ve bastante parejo a Lacconcino, pero este es un enfoque completamente escalable, a menos que cree una soluci√≥n marco documentada a su alrededor.  Se√±ores, usemos las clases disponibles (y esperemos la estandarizaci√≥n de los campos privados) o el popular m√≥dulo de patrones.  Crear una especie de soluci√≥n de mezcla intermedia aqu√≠ es algo para usted, ya que las clases dejan de ser clases y el c√≥digo es inteligible. </p><br><p>  En resumen, compartir√° su sentido com√∫n con la gu√≠a de estilo adoptada en el proyecto, la configuraci√≥n para el linter, o simplemente fragmentos de c√≥digo con colegas que contribuyen con su componente no JavaScript al proyecto.  El lenguaje ofrece varias opciones para literalmente cada tarea t√≠pica, por lo que no es dif√≠cil (o casi) mejorar la comprensi√≥n de los dem√°s y caer dentro de un denominador com√∫n. </p><br><h2 id="zloklyuchenie">  Desventura </h2><br><p>  Este tema es ciertamente hol√≠stico y hay muchos m√°s ejemplos, pero el mensaje principal del art√≠culo es que no debe abusar de la falta de evidencia en JavaScript, donde se puede evitar.  La naturaleza del lenguaje es √∫nica: le permite escribir soluciones elegantes y expresivas (moderadamente "puntiagudas"), as√≠ como comprensibles y accesibles para todos.  Estoy totalmente en desacuerdo con la creencia convencional de que JavaScript "se castig√≥ a s√≠ mismo" o "se enterr√≥ bajo un mont√≥n de buenas intenciones y errores".  Porque ahora la mayor parte de la extra√±eza se demuestra no por el lenguaje, sino por la cultura de los desarrolladores y (no) indiferente formados a su alrededor. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es432102/">https://habr.com/ru/post/es432102/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es432092/index.html">Errores desagradables al escribir pruebas unitarias</a></li>
<li><a href="../es432094/index.html">Hackathon en l√≠nea conjunto de OpenGift y Credits Blockchain Platform</a></li>
<li><a href="../es432096/index.html">Gu√≠a completa de CMake. Segunda parte: sistema de compilaci√≥n</a></li>
<li><a href="../es432098/index.html">Pilotos autom√°ticos en el transporte por carretera, c√≥mo interactuar con especiales. en transporte?</a></li>
<li><a href="../es432100/index.html">C√≥mo mejoramos la conversi√≥n de facturaci√≥n</a></li>
<li><a href="../es432104/index.html">Resumen de eventos de TI de diciembre (primera parte)</a></li>
<li><a href="../es432106/index.html">Food Design Digest, noviembre de 2018</a></li>
<li><a href="../es432108/index.html">El registro intensivo est√° abierto para Kubernetes del 1 al 3 de febrero en San Petersburgo</a></li>
<li><a href="../es432110/index.html">Tecnolog√≠as web para dise√±adores - Pagar deudas</a></li>
<li><a href="../es432112/index.html">Intel XMM 8160: un m√≥dem universal multimodo 5G</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>