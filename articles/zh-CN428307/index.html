<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🎓 👨🏾‍🔬 🤹 Java Challengers＃1：JVM中的方法重载 🌕 👌🏻 🧒🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Java Challengers＃1：JVM中的方法重载 


 祝大家有美好的一天。 


 我们已经启动了“ Java开发人员”课程的下一个线程，但是我们仍然希望与您分享一些材料。 


 欢迎阅读Java Challengers文章系列！ 本系列文章重点介绍Java编程功能。 他们的发展是您成...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Java Challengers＃1：JVM中的方法重载</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/428307/"><h1 id="java-challengers-1-peregruzka-metodov-v-jvm">  Java Challengers＃1：JVM中的方法重载 </h1><br><p>  <em>祝大家有美好的一天。</em> </p><br><p>  <em>我们已经启动了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“ Java开发人员”</a>课程的下一个线程，但是我们仍然希望与您分享一些材料。</em> </p><br><p> 欢迎阅读<strong>Java Challengers</strong>文章系列！ 本系列文章重点介绍Java编程功能。 他们的发展是您成为高素质Java程序员的途径。 </p><br><p> 掌握本系列文章中讨论的技术需要花费一些精力，但是它们在您作为Java开发人员的日常经验中会大有帮助。 当您知道如何正确地应用基本Java编程技术时，避免错误会更容易；而当您确切了解Java代码中发生了什么时，则更容易跟踪错误。 </p><br><p> 您准备好开始掌握Java编程的基本概念了吗？ 然后，让我们从第一个难题开始！ </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d05/921/30f/d0592130f3fa2d0bc7652db206c4ffef.png" alt="加宽装箱变量"></p><a name="habracut"></a><br><blockquote>  <strong>术语“方法重载”</strong> <br><br> 关于<em>过载，</em>开发人员倾向于认为我们正在谈论重新启动系统，但事实并非如此。 在编程中， <em>方法重载</em>意味着使用相同的方法名称和不同的参数。 </blockquote><br><h2 id="chto-takoe-peregruzka-metodov"> 什么是方法重载？ </h2><br><p>  <em>方法重载</em>是一种编程技术，它允许同一类中的开发人员对具有不同参数的方法使用相同的名称。 在这种情况下，我们说该方法是重载的。 </p><br><p>清单1显示了具有不同参数的方法，这些参数的数量，类型和顺序各不相同。 </p><br><p> 清单1.重载方法的三个选项。 </p><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//   public class Calculator { void calculate(int number1, int number2) { } void calculate(int number1, int number2, int number3) { } } //   public class Calculator { void calculate(int number1, int number2) { } void calculate(double number1, double number2) { } } //   public class Calculator { void calculate(double number1, int number2) { } void calculate(int number1, double number2) { } }</span></span></code> </pre> <br><h2 id="peregruzka-metodov-i-primitivnye-tipy"> 方法重载和原始类型 </h2><br><p> 在清单1中，您看到了原始类型<code>int</code>和<code>double</code> 。 让我们讨论一下，回顾一下Java中的原始类型。 </p><br><p> 表1. Java中的原始类型 </p><br><table><thead><tr><th> 型式 </th><th> 射程 </th><th> 预设值 </th><th> 尺码 </th><th> 文字实例 </th></tr></thead><tbody><tr><td> 布尔值 </td><td> 对还是错 </td><td> 错误的 </td><td>  1位 </td><td> 真假 </td></tr><tr><td> 字节 </td><td>  -128 ... 127 </td><td>  0 </td><td>  8位 </td><td>  1，-90，-128 </td></tr><tr><td> 烧焦 </td><td>  Unicode字符或0到65536 </td><td>  \ u0000 </td><td>  16位 </td><td>  'a'，'\ u0031'，'\ 201'，'\ n'，4 </td></tr><tr><td> 短的 </td><td>  -32,768 ... 32,767 </td><td>  0 </td><td>  16位 </td><td>  1，3，720，22,000 </td></tr><tr><td> 整型 </td><td>  -2 147 483 648 ... 2 147 483 647 </td><td>  0 </td><td>  32位 </td><td>  -2，-1、0、1、9 </td></tr><tr><td> 长 </td><td>  -9,223,372,036,854,775,808至9,223,372,036,854,775,807 </td><td>  0 </td><td>  64位 </td><td>  -4000L，-900L，10L，700L </td></tr><tr><td> 飘浮 </td><td>  3.40282347 x 1038，1.40239846 x 10-45 </td><td>  0.0 </td><td>  32位 </td><td>  1.67e200f，-1.57e-207f，.9f，10.4F </td></tr><tr><td> 双倍 </td><td>  1.7976931348623157 x 10308，4.9406564584124654 x 10-324 </td><td>  0.0 </td><td>  64位 </td><td>  1.e700d，-123457e，37e1d </td></tr></tbody></table><br><h2 id="zachem-mne-ispolzovat-peregruzku-metodov"> 为什么要使用方法重载？ </h2><br><p> 使用重载使您的代码更整洁，更易于阅读，还有助于避免程序错误。 </p><br><p> 与清单1相反，请想象一个程序，其中将有许多名称类似于<code>calculate1</code> ， <code>calculate2</code> ， <code>calculate3</code> ...的<code>calculate()</code>方法，对吗？ 重载<code>calculate()</code>方法使您可以使用相同的名称，并且仅更改所需的参数。 查找重载的方法也很容易，因为它们在代码中分组。 </p><br><h3 id="chem-peregruzka-ne-yavlyaetsya"> 什么过载都不是 </h3><br><p> 请记住，更改变量名称并非重载。 以下代码无法编译： </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstNumber, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> secondNumber)</span></span></span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> secondNumber, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> thirdNumber)</span></span></span></span>{} }</code> </pre> <br><p> 您也不能通过更改方法签名中的返回值来重载该方法。 此代码也不会编译： </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span>;} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;} }</code> </pre> <br><h3 id="peregruzka-konstruktora"> 构造函数重载 </h3><br><p> 您可以采用与方法相同的方式重载构造函数： </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> number1; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> number2; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Calculator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number1 = number1; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Calculator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number1 = number1; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number2 = number2; } }</code> </pre> <br><h2 id="reshite-zadachku-po-peregruzke-metodov"> 解决方法重载的问题 </h2><br><p> 您准备好进行第一次测试了吗？ 让我们找出答案！ </p><br><p> 首先仔细检查以下代码。 </p><br><p> 清单2.方法重载的挑战 </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AdvancedOverloadingChallenge3</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String x = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... doYourBest)</span></span></span><span class="hljs-function"> </span></span>{ executeAction(<span class="hljs-number"><span class="hljs-number">1</span></span>); executeAction(<span class="hljs-number"><span class="hljs-number">1.0</span></span>); executeAction(Double.valueOf(<span class="hljs-string"><span class="hljs-string">"5"</span></span>)); executeAction(<span class="hljs-number"><span class="hljs-number">1L</span></span>); System.out.println(x); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ... </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"a"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"b"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"c"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">short</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"d"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"e"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"f"</span></span>; } }</code> </pre> <br><p> 好啊 您已经研究了代码。 结论是什么？ </p><br><ol><li> 贝菲 </li><li>  bfce </li><li>  efce </li><li> 交流电 </li></ol><br><p> 文章结尾给出了正确的答案。 </p><br><h2 id="chto-seychas-proizoshlo-kak-jvm-kompiliruet-peregruzhennye-metody"> 现在发生了什么？  JVM如何编译重载方法 </h2><br><p> 为了了解清单2中发生的情况，您需要了解有关JVM如何编译重载方法的一些知识。 </p><br><p> 首先，JVM是相当懒惰的：它总是会尽最小的努力来执行一个方法。 因此，当您考虑JVM如何处理重载时，请记住编译器的三个重要功能： </p><br><ol><li> 加宽 </li><li> 包装（自动装箱和拆箱） </li><li> 可变长度参数（varargs） </li></ol><br><p> 如果您从未遇到过这些技术，那么一些示例应该可以帮助您理解它们。 请注意，JVM按列出的顺序运行它们。 </p><br><p> 这是一个示例扩展： </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> primitiveDoubleNumber = primitiveIntNumber ;</code> </pre> <br><p> 这是基本类型的扩展顺序： </p><br><p><img src="https://habrastorage.org/webt/ya/f3/fw/yaf3fw8adorzs9iz1ywad4oriri.jpeg" alt="基本类型的扩展顺序"></p><br><p>  （ <em>译者的注意-在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JLS中，</a>原语<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>扩展描述有很大的变化，例如long可以扩展为float或double。</em> ） </p><br><p> 自动包装示例： </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; Integer wrapperIntegerNumber = primitiveIntNumber;</code> </pre> <br><p> 注意编译代码时幕后发生的事情： </p><br><pre> <code class="java hljs">Integer wrapperIntegerNumber = Integer.valueOf(primitiveIntNumber);</code> </pre> <br><p> 这是一个拆箱示例： </p><br><pre> <code class="java hljs">Integer wrapperIntegerNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber= wrapperIntegerNumber;</code> </pre> <br><p> 这是编译此代码时幕后发生的事情： </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = wrapperIntegerNumber.intValue();</code> </pre> <br><p> 这是带有可变长度参数的方法的示例。 请注意，可变长度方法始终是最后执行的方法。 </p><br><pre> <code class="java hljs">execute(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>... numbers){}</code> </pre> <br><h3 id="chto-takoe-argumenty-peremennoy-dliny"> 什么是变长参数？ </h3><br><p> 可变长度参数只是由三个点（...）给出的值的数组。 我们可以将尽可能多的<code>int</code>数传递给此方法。 </p><br><p> 例如： </p><br><pre> <code class="java hljs">execute(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">88</span></span>...); <span class="hljs-comment"><span class="hljs-comment">//  ...</span></span></code> </pre> <br><p> 可变长度参数（varargs）非常方便，因为可以将值直接传递给方法。 如果使用数组，则必须使用值创建一个数组实例。 </p><br><h3 id="rasshirenie-prakticheskiy-primer"> 扩展：案例研究 </h3><br><p> 当我们将数字1直接传递给<code>executeAction()</code>方法时，JVM会自动将其解释为<code>int</code> 。 这就是为什么此数字不会传递给<code>executeAction(short var)</code>方法的原因。 </p><br><p> 同样，如果传递数字<code>1.0</code> JVM将自动识别为双精度。 </p><br><p> 当然，数字<code>1.0</code>也可以是<code>float</code> ，但是此类文字的类型是预定义的。 因此，在清单2中，执行<code>executeAction(double var)</code>方法。 </p><br><p> 当我们使用<code>Double</code>包装器时，有两个选择：可以将数字解包为原始类型，也可以将其扩展为<code>Object</code> 。  （请记住，Java中的每个类都扩展了<code>Object</code>类。）在这种情况下，JVM选择<code>Object</code>中类型<code>Double</code>的扩展，因为与解压缩相比，它需要的工作更少。 </p><br><p> 我们传递的最后一个是<code>1L</code>由于我们指定了类型，所以它是<code>long</code> 。 </p><br><h2 id="rasprostranennye-oshibki-s-peregruzkoy"> 常见的过载错误 </h2><br><p> 到现在为止，您可能已经知道，方法重载可能会使您感到困惑，因此让我们看一下您可能会遇到的一些问题。 </p><br><h3 id="avtoupakovka-s-obyortkami-autoboxing-with-wrappers"> 使用包装器自动装箱 </h3><br><p>  Java是一种强类型的编程语言，当我们将自动包装与包装一起使用时，需要考虑一些事项。 首先，以下代码无法编译： </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; Double wrapperNumber = primitiveIntNumber;</code> </pre> <br><p> 自动打包仅适用于<code>double</code>类型，因为在编译代码时，它等同于以下形式： </p><br><pre> <code class="java hljs">Double number = Double.valueOf(primitiveIntNumber);</code> </pre> <br><p> 此代码将编译。 第一个<code>int</code>将被扩展为<code>double</code> ，然后打包为<code>Double</code> 。 但是使用自动包装时，没有类型扩展，并且<code>Double.valueof</code>构造函数期望<code>double</code>而不是<code>int</code> 。 在这种情况下，如果进行显式类型转换，则自动打包将起作用，例如： </p><br><pre> <code class="java hljs">Double wrapperNumber = (<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>) primitiveIntNumber;</code> </pre> <br><p> 请记住， <code>Integer</code>不能为<code>Long</code>和<code>Float</code> ，也不能为<code>Double</code> 。 没有继承。 这些类型（ <code>Integer</code> ， <code>Long</code> <code>Integer</code> ， <code>Float</code>和<code>Double</code> ）中的每一个都是<code>Number</code>和<code>Object</code> 。 </p><br><p> 如有疑问，请记住包装号可以扩展为<code>Number</code>或<code>Object</code> 。  （关于包装器，还有很多可以说的，但让我们留给另一篇文章。） </p><br><h3 id="literaly-chisel-v-kode"> 代码文字 </h3><br><p> 当我们不指定文字数字的类型时，JVM将为我们计算类型。 如果我们直接在代码中使用数字<code>1</code> ，则JVM会将其创建为<code>int</code> 。 如果我们尝试直接将<code>1</code>传递给接受<code>short</code>的方法，则它将无法编译。 </p><br><p> 例如： </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      // ,   char, short, byte,  JVM    int calculate(1); } void calculate(short number) {} }</span></span></code> </pre> <br><p> 当使用数字<code>1.0</code>时，将应用相同的规则。 尽管它可能是<code>float</code> ，但JVM会将其视为<code>double</code> 。 </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      // ,   float,  JVM    double calculate(1.0); } void calculate(float number) {} }</span></span></code> </pre> <br><p> 另一个常见的错误是假设<code>Double</code>或任何其他包装对于获得<code>double</code>的方法更好。 </p><br><p> 事实是，JVM花费了更少的精力将<code>Double</code>包装器扩展为一个<code>Object</code>而不是将其解压缩为原始的<code>double</code>类型。 </p><br><p> 总而言之，当直接在Java代码中使用时， <code>1</code>将为<code>int</code>而<code>1.0</code>将为<code>double</code> 。 扩展是最简单的执行方法，然后进行打包或解压缩，最后一个操作将始终是可变长度的方法。 </p><br><p> 像一个奇怪的事实。 您知道<code>char</code>类型接受数字吗？ </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> anyChar = <span class="hljs-number"><span class="hljs-number">127</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ,  ,   </span></span></code> </pre> <br><h2 id="chto-neobhodimo-pomnit-o-peregruzke"> 您需要记住的过载 </h2><br><p> 对于需要相同方法名称和不同参数的情况，重载是一项非常强大的技术。 这是一种有用的技术，因为使用正确的名称可使代码更易于阅读。 您可以简单地重载它，而不必复制方法名称并为代码添加混乱。 </p><br><p> 这样可以使代码保持整洁和易于阅读，还减少了重复方法破坏系统一部分的风险。 </p><br><p> 注意事项：重载该方法时，JVM将尽力而为。 </p><br><p> 这是最懒惰的执行路径的顺序： </p><br><ul><li> 首先是扩大。 </li><li> 第二个是拳击 </li><li> 三，变长参数（varargs） </li></ul><br><p> 要考虑的事情：直接声明数字时会遇到困难： <code>1</code>将是<code>int</code>而<code>1.0</code>将是<code>double</code> 。 </p><br><p> 还要记住，您可以使用语法<code>1F</code>或<code>1f</code>来明确声明这些类型，对于<code>float</code>和<code>1D</code>或<code>1d</code>来针对<code>double</code> 。 </p><br><p> 这总结了JVM在方法重载中的作用。 重要的是要了解JVM本质上是惰性的，并且将始终遵循最懒惰的路径。 </p><br><h3 id="otvet"> 答案 </h3><br><p> 清单2的答案是选项3。efce。 </p><br><h3 id="podrobnee-o-peregruzke-metodov-v-java"> 了解有关Java中方法重载的更多信息 </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Java 101：Java中的类和对象</a> </li></ul><br><p> 绝对初学者的类和对象的介绍，包括有关方法和方法重载的小部分。 </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Java 101：基本Java语言功能</a> </li></ul><br><p> 了解有关Java是强类型语言的重要性的更多信息，并了解Java基本类型。 </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Java方法中的参数太多，第4部分</a> </li></ul><br><p> 了解方法重载的局限性和劣势，以及如何使用自定义类型和参数对象解决它们。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN428307/">https://habr.com/ru/post/zh-CN428307/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN428295/index.html">如何用自己的双手制作太阳能手电筒（第1部分）</a></li>
<li><a href="../zh-CN428299/index.html">信使vs社交网络vs ...-续</a></li>
<li><a href="../zh-CN428301/index.html">卡巴斯基启动俄罗斯：未来项目的竞争</a></li>
<li><a href="../zh-CN428303/index.html">系统工程师生命中的一天</a></li>
<li><a href="../zh-CN428305/index.html">你学英语吗？ 救援漫画</a></li>
<li><a href="../zh-CN428311/index.html">TrustZone：受信任的操作系统及其应用程序</a></li>
<li><a href="../zh-CN428313/index.html">MacOS上的电报[大概]也以可访问的形式在本地存储通信</a></li>
<li><a href="../zh-CN428315/index.html">我们克服了对开发人员的5种恐惧</a></li>
<li><a href="../zh-CN428317/index.html">反应钩子-赢还是输？</a></li>
<li><a href="../zh-CN428321/index.html">预测性数据分析-建模和验证</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>