<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚èèÔ∏è üëß ‚ôìÔ∏è Lo que puedes aprender al desarrollar un reproductor de audio para diferentes navegadores üñêÔ∏è üë©üèΩ‚Äçü§ù‚Äçüë©üèº üï°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Esta historia comenz√≥ hace aproximadamente 1,5 a√±os. Se asocia con la reproducci√≥n de m√∫sica en varios navegadores y plataformas en las que se ejecuta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lo que puedes aprender al desarrollar un reproductor de audio para diferentes navegadores</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438952/">  Esta historia comenz√≥ hace aproximadamente 1,5 a√±os.  Se asocia con la reproducci√≥n de m√∫sica en varios navegadores y plataformas en las que se ejecutan.  Un camino lleno de <s>"dolor y sufrimiento" al</s> darse cuenta de que una tarea f√°cil a primera vista puede no ser tan f√°cil, y detalles "insignificantes" a los que no le da importancia al principio, pueden afectar todo. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Detalles menores para los m√°s curiosos :)</b> <div class="spoiler_text"> 1. Descargando datos sobre cada pr√≥xima pista de la red. <br>  2. Para cada elemento de audio: nuevo Audio () o &lt;audio&gt; necesita permiso del usuario, una acci√≥n del usuario en la p√°gina. <br></div></div><br><h3>  Antecedentes </h3><br>  Probablemente, todos los que alguna vez han escrito un reproductor de audio para navegadores al menos una vez en su vida han encontrado el problema de la compatibilidad entre navegadores y plataformas cruzadas. <br><br>  Entonces, mientras trabajaba en el nuevo MVP, me encontr√© con varias caracter√≠sticas relacionadas con la reproducci√≥n de audio en los navegadores. <br><br>  Y todo comenz√≥ con el hecho de que era necesario hacer un fundido cruzado suave de dos pistas durante la reproducci√≥n: esta es la primera caracter√≠stica.  Nuestro equipo quer√≠a hacer un cambio de pistas como en la radio.  Y la segunda caracter√≠stica: cada pista posterior se solicita de la red. <br><br><img src="https://habrastorage.org/webt/7h/o6/4h/7ho64hihtgz3atuttk1vm0mucpq.png"><br><br><h3>  Investigaciones </h3><br>  Luego, casi todos nuestros proyectos utilizaron la biblioteca Sound Manager 2. <br><br>  ¬°Casi inmediatamente, te das cuenta de que reproducir dos archivos de audio simult√°neamente en dispositivos m√≥viles no funciona igual en todas partes! <br><br>  En Chrome (~ 62 versi√≥n) para PC, las pistas se reproduc√≠an como deber√≠an.  En dispositivos m√≥viles (tambi√©n en Chrome), la reproducci√≥n de pistas funcion√≥, pero solo con la pantalla activa.  Cuando la pantalla estaba bloqueada, no se reproduc√≠a la siguiente pista despu√©s del reproductor actual.  En cuanto a iOS / macOS, la reproducci√≥n funcion√≥ de manera similar.  Se puede obtener m√°s informaci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> - secci√≥n "Flujo de audio √∫nico". <br><br>  Entonces comenz√≥ a <s>caminar por tres mares</s> buscando informaci√≥n poco a poco sobre las caracter√≠sticas de los navegadores con audio. <br><br>  Ok, estoy probando una soluci√≥n con Web Audio sin usar ninguna biblioteca.  S√≠, esta tecnolog√≠a est√° destinada a otros fines: s√≠ntesis, procesamiento de sonido, para juegos, etc., en lugar de simplemente reproducir pistas.  Pero por el bien del experimento, fue necesario intentarlo, ya que le permite componer sonidos de diferentes fuentes en una sola <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">salida de audio</a> : altavoces / auriculares / altavoz del tel√©fono / etc.  Hay personas que est√°n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">investigando a</a> prop√≥sito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">las</a> posibilidades de reproducir sonido en dispositivos m√≥viles utilizando la API de audio web. <br><br>  Despu√©s de la implementaci√≥n, ciertos matices quedaron claros. <br><br>  En primer lugar, debe esperar hasta que toda la pista est√© completamente cargada.  Con una conexi√≥n lenta a Internet, las pausas ser√°n notables debido al hecho de que la segunda pista puede no tener tiempo para cargarse cuando finaliza la primera pista.  Se pueden evitar las descargas completas si usa un mont√≥n de etiquetas de audio HTML5 que actuar√°n como fuentes de sonido para Web Audio, pero en este caso nuevamente es imposible reproducir dos sonidos simult√°neamente. <br><br>  En segundo lugar, si descarga una pista a trav√©s de la red en fragmentos y la decodifica mediante programaci√≥n, esto aumenta la carga en la CPU.  Era aceptable para una PC, pero cr√≠tico para dispositivos m√≥viles. <br><br>  En tercer lugar, hubo problemas con la decodificaci√≥n.  Si los fragmentos de archivos mp3 / ogg / wav llegaron al cliente, estas piezas se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">decodificaron</a> y se reprodujeron en silencio.  Pero si los fragmentos del archivo mp4, que actuaban como contenedor para HE-AAC, llegaban al navegador, entonces no pod√≠an decodificarse.  Esto tambi√©n se aplica en cierta medida al navegador Opera, en el que la reproducci√≥n de archivos MP3 es inestable de una versi√≥n a otra; a veces se reproduce y da un error de que este formato no es compatible. <br><br>  En cuarto lugar, el nombre de la pista no se mostr√≥ / no cambi√≥ en la pantalla bloqueada en una placa con un reproductor de audio nativo (en iPad), incl.  al cambiar de pista.  Quiz√°s debido al hecho de que las pruebas utilizaron el iPad con la versi√≥n 9 de iOS, no hab√≠a otra en ese momento. <br><br>  Como resultado, en esta etapa, Web Audio tuvo que ser abandonado.  A√∫n as√≠, el fundido cruzado no es para navegadores, las composiciones musicales est√°ndar de buena calidad pesan bastante. <br><br>  Como nos negamos al fundido cruzado, implementamos un fundido de entrada y salida simple al principio y al final de la pista de m√∫sica, respectivamente. <br><br>  El c√≥digo del a√±o anterior fue ligeramente modificado y probado.  Como resultado de las pruebas, surgieron varios matices (que se muestran en la tabla).  Todo esto utilizando la biblioteca Sound Manager 2. <br><br><img src="https://habrastorage.org/webt/b5/bj/wg/b5bjwgh2mds3pn1x8ghbp3nuyue.png"><br><br>  Agregamos el registro de todos los eventos para determinar el momento de transici√≥n entre las pistas y para entender en qu√© punto dejan de reproducirse. <br><br><img src="https://habrastorage.org/webt/z_/nr/0g/z_nr0g8j0zxskeevs2e3loddlok.png"><br><br><div class="spoiler">  <b class="spoiler_title">Activaci√≥n de pesta√±a</b> <div class="spoiler_text">  En Safari 9+, el sonido no siempre aparece cuando se activa la pesta√±a. <br></div></div><br>  A partir de esto, se puede suponer que la ejecuci√≥n de JS en segundo plano est√° acelerada o que el hilo de ejecuci√≥n se detiene por completo (eventos y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">temporizadores</a> ).  Sin embargo, quedar√° claro m√°s tarde que esta fue en parte una conclusi√≥n correcta.  A continuaci√≥n, consideraremos otros 1 matices asociados con la reproducci√≥n de pistas y la comprensi√≥n de por qu√© no aparece el sonido. <br><br><div class="spoiler">  <b class="spoiler_title">Observaci√≥n</b> <div class="spoiler_text">  Para trabajar con el progreso (barra de progreso), por ejemplo, renderiz√°ndolo para una pista, es bueno usar requestAnimationFrame en lugar de setInterval / setTimeout.  Puede evitar el efecto acumulativo al desactivar (pesta√±a de fondo) y luego activar la pesta√±a y congelarla temporalmente, asociada con todos los c√°lculos y volver a dibujar el estado de progreso. <br></div></div><br>  En el mismo momento, surgi√≥ la pregunta: ¬øqu√© pasa con la reproducci√≥n autom√°tica de pistas en una PC y en dispositivos m√≥viles? <br><blockquote>  La reproducci√≥n autom√°tica se refiere al inicio autom√°tico de la reproducci√≥n de una pista sin ninguna acci√≥n del usuario al cargar una p√°gina. <br></blockquote>  En cuanto a Safari con respecto a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la reproducci√≥n autom√°tica</a> cuando se carga la p√°gina, esto no es posible, necesita <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la interacci√≥n del usuario</a> con la p√°gina, como en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">los dispositivos m√≥viles</a> .  Esto se aplica tanto al <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">contenido de video</a> como al de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">audio</a> . <br><br>  Y as√≠, en ese momento hab√≠a lo siguiente: <br><br><ol><li>  es imposible (no deseable) reproducir dos o m√°s sonidos al mismo tiempo; </li><li>  para la pseudo "reproducci√≥n autom√°tica" de la pista, se requiere permiso del usuario: la primera interacci√≥n, luego se llam√≥ "Vender dedo al dispositivo"; </li><li>  en segundo plano (pesta√±a de fondo / pantalla de bloqueo) JS (todo depende del navegador): <br>  cualquiera se congela por completo; <br>  ya sea estrangulamiento; <br>  o funciona igual que con la pesta√±a activa; <br></li><li>  Puede iniciar autom√°ticamente la reproducci√≥n sin sonido, pero no est√° claro por qu√© (para contenido de audio). </li><li>  En alg√∫n lugar lejano, el pensamiento comienza a surgir, pero ¬øc√≥mo hacer que JS contin√∫e ejecut√°ndose en segundo plano? </li></ol><br>  Otras bibliotecas que implementaron las funciones del reproductor asumieron que tal vez hay una soluci√≥n para este problema.  A pesar del hecho de que se vieron muchos problemas en GitHub con una descripci√≥n de los problemas al reproducir pistas en varios navegadores, todav√≠a hab√≠a esperanza de que estuvieras a punto de llegar al fondo: por qu√© no funciona y c√≥mo hacerlo funcionar.  Al final result√≥ que, no ... <br><br>  Algunos ejemplos de c√≥digo con video de demostraci√≥n del trabajo de las bibliotecas: <br><br><ol><li>  Sound Manager 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°ginas de github</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio de github</a> , video: <a href="">macOS Safari 12</a> ;  <a href="">iOS Safari 10</a> con pantalla desbloqueada </li><li>  Aullador <br>  Howler v2.0.9 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°ginas de github</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio de github</a> , video: <a href="">macOS Safari 12</a> , <a href="">iOS Safari 10</a> <br>  Howler v2.0.15 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°ginas de github</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio de github</a> , video: <a href="">macOS Safari 12</a> <br>  Howler v2.1.1 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°ginas de github</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio de github</a> , video: <a href="">macOS Safari 12</a> , <a href="">iOS Safari 10</a> <br></li></ol><br><blockquote>  Para macOS, la grabaci√≥n de video se realiz√≥ sin sonido, por lo que debe mirar el indicador de volumen: la imagen del altavoz en la pesta√±a. <br><br>  M√°s videos de ejemplo est√°n disponibles en el repositorio. <br><br>  En el ejemplo interactivo para Howler v2.1.1: a veces puede escuchar varios sonidos al mismo tiempo, esto se debe a la adici√≥n de un conjunto de elementos de audio desbloqueados por el usuario (esto deber√≠a solucionarse en futuras versiones de la biblioteca). <br></blockquote>  ¬øCu√°l es la raz√≥n de la inoperancia de estas bibliotecas? <br><br>  Escrib√≠ arriba: <i>"En el fondo (pesta√±a de fondo), JS se congela por completo o sufre una aceleraci√≥n"</i> .  Entonces, aqu√≠ aparece otro punto: las bibliotecas en el c√≥digo usan la creaci√≥n de nuevos objetos de audio a trav√©s del nuevo Audio ().  Si se crean din√°micamente, es decir  Si no se usa un objeto de audio existente y el usuario no interact√∫a con el sitio de ninguna manera, la pesta√±a est√° inactiva o la pantalla est√° bloqueada, algunos navegadores pueden considerar que el sonido de este elemento de audio no debe reproducirse hasta que la pesta√±a est√© activa nuevamente o el usuario no cualquier acci√≥n <br><br>  Un ejemplo de prueba en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°ginas de github</a> y en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio en github</a> usando el nuevo Audio ().  Video: <a href="">macOS Safari 12</a> ;  <a href="">iOS Safari 10</a> con pantalla desbloqueada. <br><br>  <b>Parece que no existe alg√∫n tipo de herramienta universal y es necesario buscar alguna otra soluci√≥n de compromiso.</b> <br><br>  Luego nos sentamos con los chicos del equipo para discutir, y ¬øqu√© es realmente importante en el trabajo del reproductor de audio?  Porque ser√≠a posible continuar los experimentos hasta el infinito, pero necesitamos avanzar. <br><br>  Primero, se identificaron puntos importantes que impidieron el logro del resultado deseado: <br><br><ol><li>  Safari en macOS no reproduce pistas cuando la pesta√±a est√° inactiva; </li><li>  no hay posibilidad de escuchar m√∫sica en segundo plano (cuando la pantalla est√° bloqueada) en tel√©fonos inteligentes con iOS y Android, me gustar√≠a evitar la redirecci√≥n agresiva de los usuarios a una aplicaci√≥n m√≥vil (en el futuro), ya que la experiencia previa muestra que una gran parte de los usuarios no quieren instalar una aplicaci√≥n m√≥vil ; </li><li>  el reproductor no funciona correctamente con una lista de reproducci√≥n din√°mica, es decir  cuando no se sabe de antemano cu√°l ser√° la siguiente pista. </li></ol><br>  Adem√°s, permiti√≥ formular los objetivos necesarios para lograr: <br><br><ol><li>  proporcionar el reproductor en segundo plano, en varios navegadores y en varias plataformas; </li><li>  permitir al usuario elegir qu√© usar: escuchar m√∫sica en el sitio o en la aplicaci√≥n m√≥vil; </li><li>  proporcionar la capacidad de usar el jugador (o enfoque) en varios proyectos futuros. </li></ol><br>  Ha comenzado una nueva etapa en la b√∫squeda de una soluci√≥n al problema.  En esta etapa, ya no se usaban varias bibliotecas; todos los estudios se realizaron con HTML5 Audio.  El resultado fue que se encontr√≥ una opci√≥n utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">trabajadores dedicados</a> .  iOS no permiti√≥ que esta decisi√≥n volviera a ganar: la reproducci√≥n en segundo plano no funciona, pero result√≥ funcionar en Android (Chrome, Opera, Safari). <br><br>  Ejemplo de prueba HTML5 Audio + Trabajadores dedicados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en p√°ginas de github</a> y en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el repositorio de github</a> . <br><br>  Cuando se inicializa el trabajador, se solicitan datos sobre la pista actual.  El trabajador tambi√©n env√≠a una se√±al para obtener el estado de progreso (cu√°nto tiempo se reproduce la pista) desde la transmisi√≥n principal y decide cu√°ndo solicitar datos sobre la pr√≥xima pista de la red en funci√≥n de estos datos. <br><br><img src="https://habrastorage.org/webt/ln/t0/sh/lnt0shcslejecuvcenkh-rlv28y.png"><br><br>  Tambi√©n en ese momento, se prob√≥ el siguiente ejemplo ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°ginas github</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github</a> ), cuando la etiqueta de audio HTML5 est√° incrustada en el DOM (video: <a href="">macOS Safari 12</a> , <a href="">iOS Safari 10</a> ) y simplemente sustituye SRC cuando se cambia de pista.  Hasta la fecha, en macOS en 12 Safari, este ejemplo funciona.  Desafortunadamente, ahora no hay forma de probar la funcionalidad de este ejemplo en macOS en Safari 10 y 11, pero en ese momento este ejemplo no funcion√≥ durante las pruebas ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pol√≠ticas de</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">reproducci√≥n autom√°tica</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">restricciones de reproducci√≥n autom√°tica</a> ). <br><br>  Para resumir, para iOS y macOS, el navegador Safari no considera que el usuario active una nueva instancia del elemento de audio si se cre√≥ en segundo plano dentro de un evento, por ejemplo, ajax, setTimeout, onended. <br><br>  Adem√°s, con respecto a la reproducci√≥n de pistas en iOS Safari y iOS Chrome, se descubri√≥ que era posible reproducir pistas en segundo plano (cuando la pantalla est√° bloqueada) solo usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HLS</a> .  Para las plataformas iOS y macOS, este formato es est√°ndar y el sistema operativo admite la transmisi√≥n.  Para Android Chrome y Edge, tambi√©n est√° disponible una implementaci√≥n nativa.  Y para PC en Chrome, puede usar controladores de software, por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">hls.js</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bitmovin Player</a> , etc. <br><br>  Un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace al repositorio de github</a> proporciona un ejemplo de c√≥digo que cubre el caso de uso m√°s simple: simplemente reproducir la secuencia generada en el servidor sin la capacidad de rebobinar, cambiar a la siguiente pista, etc.  Los ejemplos se presentan usando: la etiqueta de audio, la etiqueta de video, la biblioteca hls.js y el reproductor de Bitmovin.  Este contenido requiere Node.js. <br><br><h3>  Conclusiones </h3><br>  El primer punto, desafortunadamente, debido a la variedad de navegadores, no existe una soluci√≥n universal que permita escuchar m√∫sica en navegadores igualmente bien en todas partes.  En todas partes hay limitaciones y, como muestra la pr√°ctica, puedes vivir tranquilamente con ellas. <br><br>  El segundo punto, a veces vale la pena verificar los casos l√≠mite lo m√°s r√°pido posible, por ejemplo, una implementaci√≥n nativa.  Encuentre alg√∫n tipo de conjunto de requisitos m√≠nimamente aceptable y compruebe r√°pidamente su rendimiento en lugar de tomar cualquier biblioteca como base.  Esto le dar√° una mejor comprensi√≥n de c√≥mo se organizan estas bibliotecas internamente y por qu√© ciertas funciones funcionan o no.  De lo contrario, puede correr bastante lejos en el proyecto y despu√©s de darse cuenta de que algo va mal.  Y puede resultar que abandonar la biblioteca sea bastante costoso.  Ser√° necesario reescribir una parte importante del c√≥digo. <br><br>  El tercer punto, aseg√∫rese de prestar atenci√≥n a la audiencia de su servicio: de qu√© navegadores y sistemas operativos provienen sus usuarios.  Esto es bastante f√°cil de rastrear usando varias m√©tricas y sistemas de monitoreo de errores.  Tal enfoque ayudar√° a comprender qu√© plataformas y navegadores es importante admitir, y cu√°les se pueden usar sin ning√∫n esfuerzo. <br><br><h4>  Y finalmente </h4><br>  Estoy anunciando un peque√±o concurso relacionado con la reproducci√≥n de m√∫sica en iOS usando la tecnolog√≠a HLS. <br><br>  La descripci√≥n se puede ver en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace en github</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/438952/">https://habr.com/ru/post/438952/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../438940/index.html">Curso abierto "Aprendizaje profundo en los dedos"</a></li>
<li><a href="../438942/index.html">Sombras 2D en campos de distancia firmados</a></li>
<li><a href="../438946/index.html">DateTimeOffset (Strict)</a></li>
<li><a href="../438948/index.html">¬øPor qu√© necesitamos una optimizaci√≥n de bajo nivel en Elbrus o c√≥mo acelerar el sistema de reconocimiento una vez y media</a></li>
<li><a href="../438950/index.html">El Banco Central lanz√≥ un robot para buscar esquemas de ingresos en Internet</a></li>
<li><a href="../438954/index.html">Combinando campos de distancia firmados en 2D</a></li>
<li><a href="../438956/index.html">Magnetitis en los dientes: secuenciaci√≥n de transcriptomos del tejido de la c√°scara de molusco radula</a></li>
<li><a href="../438958/index.html">ILV confirm√≥ la existencia de su "estaci√≥n espacial"</a></li>
<li><a href="../438960/index.html">C√≥mo renunci√© a Ruby a favor de Python mientras trabajaba en un backend</a></li>
<li><a href="../438962/index.html">En su mayor parte, una perspectiva positiva para el futuro de los chips.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>