<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïå üïé üë¥üèº Fonctionnement du format JPEG üë®üèΩ‚Äçü§ù‚Äçüë®üèª üôçüèª üîÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les images JPEG se trouvent partout dans notre vie num√©rique, mais derri√®re cette couverture de sensibilisation se trouvent des algorithmes qui √©limin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fonctionnement du format JPEG</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454944/"><h4>  Les images JPEG se trouvent partout dans notre vie num√©rique, mais derri√®re cette couverture de sensibilisation se trouvent des algorithmes qui √©liminent les d√©tails qui ne sont pas per√ßus par l'≈ìil humain.  Le r√©sultat est la plus haute qualit√© visuelle avec la plus petite taille de fichier - mais comment tout cela fonctionne-t-il exactement?  Voyons ce que nos yeux ne voient pas exactement! </h4><br><img src="https://habrastorage.org/webt/xh/7m/8n/xh7m8nokzhgfqixb00fnwcmkthm.jpeg"><br><br>  Il est facile de prendre pour acquis la possibilit√© d'envoyer une photo √† un ami, sans se soucier de l'appareil, du navigateur ou du syst√®me d'exploitation qu'il utilise, mais cela n'a pas toujours √©t√© le cas.  Au d√©but des ann√©es 80, les ordinateurs savaient comment stocker et afficher des images num√©riques, mais il y avait de nombreuses id√©es concurrentes sur la meilleure fa√ßon de proc√©der.  Il √©tait impossible d'envoyer simplement une image d'un ordinateur √† un autre et d'esp√©rer que tout fonctionne. <br><a name="habracut"></a><br>  Pour r√©soudre ce probl√®me, en 1986, un comit√© d'experts du monde entier a √©t√© constitu√© sous le nom de ¬´Joint Photographic Experts Group (JPEG)¬ª, sur la base de la collaboration de l'Organisation internationale de normalisation (ISO) et de la Commission √©lectrotechnique internationale (CEI) ) - deux organisations internationales de normalisation, dont le si√®ge est situ√© √† Gen√®ve (Suisse). <br><br>  Un groupe de personnes appel√© JPEG a cr√©√© la norme de compression d'image num√©rique JPEG en 1992.  Toute personne utilisant Internet √©tait susceptible de rencontrer des images encod√©es JPEG.  Il s'agit de la m√©thode la plus courante pour encoder, envoyer et stocker des images.  Des pages Web aux e-mails et aux r√©seaux sociaux, JPEG est utilis√© des milliards de fois par jour - presque chaque fois que nous regardons une image en ligne ou l'envoyons.  Sans JPEG, le Web serait moins dynamique, plus lent et il y aurait probablement moins de photos de chats! <br><br>  Cet article explique comment d√©coder une image JPEG.  En d'autres termes, sur ce qui est n√©cessaire pour convertir les donn√©es compress√©es stock√©es sur un ordinateur en une image qui appara√Æt √† l'√©cran.  Cela vaut la peine de le savoir, non seulement parce qu'il est important pour comprendre la technologie que nous utilisons quotidiennement, mais aussi parce que lors de la divulgation des niveaux de compression, nous comprenons mieux la perception et la vision, ainsi que les d√©tails auxquels nos yeux sont les plus sensibles. <br><br>  De plus, jouer avec des images de cette mani√®re est tr√®s int√©ressant. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f8/312/709/4f831270939c4f685405283f4286e867.gif"><br><br><h2>  Regarder √† l'int√©rieur d'un jpeg </h2><br>  Sur un ordinateur, tout est stock√© sous la forme d'une s√©quence de nombres binaires.  En r√®gle g√©n√©rale, ces bits, z√©ros et uns sont regroup√©s en huit, constituant des octets.  Lorsque vous ouvrez une image JPEG sur un ordinateur, quelque chose (navigateur, syst√®me d'exploitation, autre chose) devrait d√©coder les octets, restaurant l'image originale sous la forme d'une liste de couleurs pouvant √™tre affich√©es. <br><br>  Si vous t√©l√©chargez cette jolie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">photo de chat</a> et l'ouvrez dans un √©diteur de texte, vous verrez un tas de personnages incoh√©rents. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1e4/8a0/017/1e48a0017ada1830f50eefc5079410ea.png"><br>  <i>Ici, j'utilise Notepad ++ pour examiner le contenu d'un fichier, car les √©diteurs de texte normaux tels que le Bloc-notes de Windows corrompent le binaire apr√®s l'enregistrement et ne satisfont plus le format JPEG.</i> <br><br>  Lorsque vous ouvrez une image dans un √©diteur de texte, vous confondez l'ordinateur, tout comme vous confondez votre cerveau lorsque vous vous frottez les yeux et commencez √† voir des taches color√©es! <br><br>  Ces taches que vous voyez sont appel√©es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">phosph√®nes</a> et ne sont pas le r√©sultat d'une exposition √† un stimulus lumineux ou √† des hallucinations g√©n√©r√©es par l'esprit.  Ils se produisent parce que votre cerveau croit que tout signal √©lectrique dans les nerfs optiques transmet des informations sur la lumi√®re.  Le cerveau a besoin de faire de telles hypoth√®ses, car il est impossible de savoir si le signal est sonore, visuel ou autre.  Tous les nerfs du corps transmettent exactement les m√™mes impulsions √©lectriques.  En appuyant sur les yeux, vous envoyez des signaux qui ne sont pas visuels, mais activez les r√©cepteurs de l'≈ìil que votre cerveau interpr√®te - dans ce cas, de mani√®re incorrecte - comme quelque chose de visuel.  Vous pouvez litt√©ralement voir la pression! <br><br>  C'est dr√¥le de penser √† combien les ordinateurs ressemblent √† un cerveau, mais c'est aussi une analogie utile qui illustre √† quel point la signification des donn√©es - transmises √† travers le corps par les nerfs, ou stock√©es sur un ordinateur - d√©pend de leur interpr√©tation.  Toutes les donn√©es binaires se composent de z√©ros et de uns, composants de base qui peuvent transmettre des informations de toute nature.  Votre ordinateur devine souvent comment les interpr√©ter √† l'aide d'indications, telles que des extensions de fichier.  Et maintenant, nous le for√ßons √† les interpr√©ter comme du texte, car c'est ce que l'√©diteur de texte attend. <br><br>  Pour comprendre comment d√©coder le JPEG, nous devons voir les signaux originaux eux-m√™mes - les donn√©es binaires.  Cela peut √™tre fait en utilisant l'√©diteur hexad√©cimal ou directement sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page Web de l'article original</a> !  Il y a une image, √† c√¥t√© de laquelle dans la zone de texte sont tous ses octets (sauf l'en-t√™te), pr√©sent√©s sous forme d√©cimale.  Vous pouvez les modifier et le script se recodera et produira une nouvelle image √† la vol√©e. <br><br><img src="https://habrastorage.org/webt/0e/tu/az/0etuazw_ujtrjmepdjpaacmg_jo.png"><br><br>  Vous pouvez apprendre beaucoup en jouant avec cet √©diteur.  Par exemple, pouvez-vous dire dans quel ordre les pixels sont stock√©s? <br><br>  Dans cet exemple, il est √©trange que la modification de certains nombres n'affecte pas du tout l'image, mais, par exemple, si vous remplacez le nombre 17 par 0 dans la premi√®re ligne, la photo ira compl√®tement mal! <br><br><img src="https://habrastorage.org/webt/ql/47/xz/ql47xznmt7fq29yoynour0fscls.png"><br><br>  D'autres changements, par exemple, le remplacement de 7 sur la ligne 1988 par le nombre 254 change la couleur, mais seulement des pixels suivants. <br><br><img src="https://habrastorage.org/webt/tj/tu/0o/tjtu0o9qppmq2pgv5mpfh02hpzw.png"><br><br>  Le plus √©trange est peut-√™tre que certains nombres changent non seulement la couleur, mais aussi la forme de l'image.  Changez 70 sur la ligne 12 en 2 et regardez la rang√©e du haut de l'image pour voir ce que je veux dire. <br><br><img src="https://habrastorage.org/webt/wr/ui/w3/wruiw3ds_yihzasjgytn8vul1de.png"><br><br>  Et peu importe l'image JPEG que vous utilisez, vous trouverez toujours ces s√©quences d'√©checs cryptiques lors de l'√©dition d'octets. <br><br>  Lorsque vous jouez avec l'√©diteur, il est difficile de comprendre comment la photo est recr√©√©e √† partir de ces octets, car la compression JPEG se compose de trois technologies diff√©rentes qui sont appliqu√©es s√©quentiellement √† travers les niveaux.  Nous √©tudierons chacun d'eux s√©par√©ment pour r√©v√©ler le comportement myst√©rieux que nous observons. <br><br>  <b>Trois niveaux de compression JPEG:</b> <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sous-√©chantillonnage des couleurs</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Transformation cosinus discr√®te et discr√©tisation</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Longueurs des s√©ries d'encodage</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Delta</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Huffman</a> </li></ol><br>  Pour que vous puissiez imaginer l'√©chelle de compression, veuillez noter que l'image ci-dessus repr√©sente 79 819 nombres, soit environ 79 Ko.  Si nous le stockions sans compression, pour chaque pixel, trois nombres seraient n√©cessaires - pour les composantes rouge, verte et bleue.  Ce serait 917 700 num√©ros, soit environ.  917 Kb.  En raison de la compression JPEG, le fichier r√©sultant a diminu√© de plus de 10 fois! <br><br>  En fait, cette image peut √™tre compress√©e beaucoup plus fortement.  Ci-dessous, deux images c√¥te √† c√¥te - la photo de droite a √©t√© r√©duite √† 16 Ko, soit 57 fois plus petite que la version non compress√©e! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ec8/a0f/b53/ec8a0fb53e28470aafb8fb6b04713de3.png"><br><br>  Si vous regardez attentivement, vous verrez que ces images ne sont pas identiques.  Les deux sont des images avec compression JPEG, mais celle de droite est beaucoup plus petite en volume.  Cela semble √©galement un peu pire (regardez les carr√©s des couleurs de fond).  Par cons√©quent, JPEG est √©galement appel√© compression avec perte;  lors de la compression, l'image change et perd certains d√©tails. <br><br><h2>  1. Sous-√©chantillonnage des couleurs </h2><br>  Voici une image utilisant uniquement le premier niveau de compression. <br><br><img src="https://habrastorage.org/webt/bn/jq/j3/bnjqj3gjgcxd3xazrfnepcfwo-s.png"><br>  <i>(Version interactive - dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">original</a> ).</i>  <i>La suppression d'un num√©ro d√©truit toutes les couleurs.</i>  <i>Cependant, si vous supprimez exactement six nombres, cela n'affecte pratiquement pas l'image.</i> <br><br>  D√©sormais, les chiffres sont un peu plus faciles √† d√©chiffrer.  Il s'agit d'une liste de couleurs presque simple, dans laquelle chaque octet change exactement d'un pixel, mais en m√™me temps, il fait d√©j√† la moiti√© de la taille d'une image non compress√©e (qui occuperait environ 300 Ko dans une taille si r√©duite).  Devinez pourquoi? <br><br>  Vous pouvez voir que ces nombres ne d√©signent pas les composants standard rouge, vert et bleu, car si nous rempla√ßons tous les nombres par des z√©ros, nous obtenons une image verte (et non blanche). <br><br><img src="https://habrastorage.org/webt/ij/ar/qj/ijarqjsfiuanba52sxsn-ovh6q0.png"><br><br>  En effet, ces octets indiquent Y (luminosit√©), <br><br><img src="https://habrastorage.org/webt/ab/sl/bt/abslbtgj10nk62g7ksdlx0lusck.png"><br><br>  Cb (bleuissement relatif), <br><br><img src="https://habrastorage.org/webt/_s/ao/1c/_sao1c1div5bv1dltl6gahkp86a.png"><br><br>  et Cr (rougeur relative). <br><br><img src="https://habrastorage.org/webt/mp/fz/jt/mpfzjtlicxlsmw3wmbrnqhywinu.png"><br><br>  Pourquoi ne pas utiliser RVB?  En effet, c'est ainsi que fonctionnent la plupart des √©crans modernes.  Votre moniteur peut afficher n'importe quelle couleur, y compris le rouge, le vert et le bleu avec des intensit√©s diff√©rentes pour chaque pixel.  Le blanc est obtenu en activant les trois √† pleine luminosit√©, et le noir - en les d√©sactivant. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c27/504/f77/c27504f7737bca3efab3468f2a09aacc.png"><br><br>  Il est √©galement tr√®s similaire au travail de l'≈ìil humain.  Les r√©cepteurs de couleur de nos yeux sont appel√©s ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">c√¥nes</a> ¬ª et sont divis√©s en trois types, chacun √©tant plus sensible au rouge, au vert ou au bleu [les c√¥nes de type S sont sensibles en bleu-violet (S de l'anglais Short - shortwave spectre), de type M - en vert-jaune (M de l'anglais. Onde moyenne √† moyenne) et de type L - dans les parties jaune-rouge (L de l'anglais. Onde longue - longue) du spectre.  La pr√©sence de ces trois types de c√¥nes (et de b√¢tonnets sensibles dans la partie vert √©meraude du spectre) donne une vision des couleurs √† une personne.  / env.  trad.].  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les b√¢tonnets</a> , un autre type de photor√©cepteur √† nos yeux, ne peuvent capturer que les changements de luminosit√©, mais ils sont beaucoup plus sensibles.  √Ä nos yeux, il y a environ 120 millions de b√¢tonnets et seulement 6 millions de c√¥nes. <br><br>  Par cons√©quent, nos yeux remarquent bien mieux les changements de luminosit√© que les changements de couleur.  Si vous s√©parez la couleur de la luminosit√©, vous pouvez supprimer un peu de couleur et personne ne remarquera rien.  Le sous-√©chantillonnage des couleurs est le processus de repr√©sentation des composantes de couleur d'une image √† une r√©solution inf√©rieure √† celle des composantes de luminosit√©.  Dans l'exemple ci-dessus, chaque pixel a exactement un composant Y, et chaque groupe individuel de quatre pixels a exactement un composant Cb et un Cr.  Par cons√©quent, l'image contient quatre fois moins d'informations sur les couleurs que l'original. <br><br>  L'espace colorim√©trique YCbCr est utilis√© non seulement en JPEG.  Il a √©t√© initialement invent√© en 1938 pour les √©missions de t√©l√©vision.  Tout le monde n'a pas de t√©l√©viseur couleur, donc la s√©paration de la couleur et de la luminosit√© a permis √† tout le monde de recevoir le m√™me signal, et les t√©l√©viseurs sans couleur n'utilisaient que le composant de luminosit√©. <br><br>  Par cons√©quent, la suppression d'un num√©ro de l'√©diteur d√©truit compl√®tement toutes les couleurs.  Les composants sont stock√©s sous la forme YYYY Cb Cr (en fait, pas n√©cessairement dans cet ordre - l'ordre de stockage est sp√©cifi√© dans l'en-t√™te du fichier).  La suppression du premier nombre entra√Ænera le fait que la premi√®re valeur Cb sera per√ßue comme Y, Cr comme Cb, et dans l'ensemble un effet domino se produira, changeant toutes les couleurs de l'image. <br><br>  La sp√©cification JPEG ne vous oblige pas √† utiliser YCbCr.  Mais dans la plupart des fichiers, il est utilis√© car il donne des images de meilleure qualit√© apr√®s sous-√©chantillonnage par rapport au RVB.  Mais vous n'avez pas √† me croire sur parole.  Voyez par vous-m√™me dans le tableau ci-dessous √† quoi ressemblera le sous-√©chantillonnage de chaque composant individuel en RVB et en YCbCr. <br><br><img src="https://habrastorage.org/webt/9b/fl/ei/9bfleirkdnq8sdwiudks05bdz1o.png"><br>  (Version interactive - dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">original</a> ). <br><br>  La suppression du bleu n'est pas aussi visible que le rouge ou le vert.  C'est √† cause des six millions de c√¥nes dans vos yeux, environ 64% sont sensibles au rouge, 32% au vert et 2% au bleu. <br><br>  Le sous-√©chantillonnage de la composante Y (en bas √† gauche) est mieux vu.  On remarque m√™me un l√©ger changement. <br><br>  La conversion d'une image de RVB en YCbCr ne r√©duit pas la taille du fichier, mais facilite la recherche de d√©tails moins visibles qui peuvent √™tre supprim√©s.  La compression avec perte se produit dans la deuxi√®me √©tape.  Il est bas√© sur l'id√©e de repr√©senter les donn√©es sous une forme plus compressible. <br><br><h2>  2. Transformation cosinus discr√®te et discr√©tisation </h2><br>  Ce niveau de compression d√©termine pour l'essentiel l'essence du JPEG.  Apr√®s avoir converti les couleurs en YCbCr, les composants sont compress√©s s√©par√©ment, nous pouvons donc nous concentrer uniquement sur le composant Y. Et voici √† quoi ressemblent les octets du composant Y apr√®s l'application de ce niveau. <br><br><img src="https://habrastorage.org/webt/sr/c2/en/src2enhysp480z4qoycrgptdn5m.png"><br>  <i>(Version interactive - dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">original</a> ).</i>  Dans la version interactive, cliquer sur un pixel fait d√©filer l'√©diteur jusqu'√† la ligne qui l'indique.  Essayez de supprimer des num√©ros de la fin ou d'ajouter quelques z√©ros √† un num√©ro sp√©cifique. <br><br>  √Ä premi√®re vue, cela ressemble √† une tr√®s mauvaise compression.  Il y a 100 000 pixels dans l'image et 102 400 nombres sont n√©cessaires pour indiquer leur luminosit√© (composantes Y) - c'est pire que de ne rien compresser du tout! <br><br>  Cependant, notez que la plupart de ces nombres sont nuls.  De plus, tous ces z√©ros √† la fin des lignes peuvent √™tre supprim√©s sans changer l'image.  Il reste environ 26 000 num√©ros, et c'est presque 4 fois moins! <br><br>  √Ä ce niveau est le secret des mod√®les d'√©checs.  Contrairement √† d'autres effets que nous avons vus, l'apparition de ces motifs n'est pas un probl√®me.  Ce sont les √©l√©ments constitutifs de toute l'image.  Chaque ligne de l'√©diteur contient exactement 64 nombres, des coefficients de transformation discr√®te en cosinus (DCT) correspondant √† des intensit√©s de 64 motifs uniques. <br><br>  Ces motifs sont form√©s sur la base du graphique cosinus.  En voici quelques uns: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2cc/8da/dd7/2cc8dadd7ca3d6565753fdd8f14a4fcd.png"><br>  <i>8 sur 64 cotes</i> <br><br>  Ci-dessous, une image montrant les 64 mod√®les. <br><br><img src="https://habrastorage.org/webt/z3/8n/ri/z38nrihqi2zbdt2cznzqy3p1bh0.png"><br>  <i>(Version interactive - dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">original</a> ).</i> <br><br>  Ces motifs sont d'une importance particuli√®re car ils constituent la base d'images 8x8.  Si vous n'√™tes pas familier avec l'alg√®bre lin√©aire, cela signifie que n'importe quelle image 8x8 peut √™tre obtenue √† partir de ces 64 motifs.  Le DCT est le processus de division des images en blocs 8x8 et de conversion de chaque bloc en une combinaison de ces 64 coefficients. <br><br>  Le fait que n'importe quelle image puisse √™tre compos√©e de 64 motifs sp√©cifiques semble magique.  Cependant, cela revient √† dire que n'importe quel endroit sur Terre peut √™tre d√©crit par deux nombres - latitude et longitude [indiquant les h√©misph√®res / env.  trad.].  Nous consid√©rons souvent la surface de la Terre en deux dimensions, nous n'avons donc besoin que de deux nombres.  Une image 8x8 a 64 dimensions, nous avons donc besoin de 64 nombres. <br><br>  On ne sait pas encore en quoi cela nous aide dans le sens de la compression.  Si nous avons besoin de 64 nombres pour repr√©senter une image 8x8, pourquoi serait-ce mieux que de simplement stocker 64 composants de luminance?  Nous le faisons pour la m√™me raison que nous avons transform√© trois nombres RVB en trois nombres YCbCr: cela nous permet de supprimer les d√©tails invisibles. <br><br>  Il est difficile de voir exactement quels d√©tails sont supprim√©s √† ce stade, car JPEG applique le DCT aux blocs 8x8.  Cependant, personne ne nous interdit de l'appliquer √† l'ensemble du tableau.  Voici √† quoi ressemble DCT dans le composant Y lorsqu'il est appliqu√© √† l'image enti√®re: <br><br><img src="https://habrastorage.org/webt/ab/sl/bt/abslbtgj10nk62g7ksdlx0lusck.png"><br><br>  De la fin, vous pouvez supprimer plus de 60 000 num√©ros sans pratiquement aucun changement notable dans la photo. <br><br><img src="https://habrastorage.org/webt/we/mq/ma/wemqmatswqyazpgyxm12k-g7l-s.png"><br><br>  Cependant, notez que si nous r√©initialisons les cinq premiers chiffres, la diff√©rence sera √©vidente. <br><br><img src="https://habrastorage.org/webt/m0/fj/tj/m0fjtjcfr_-6b50duzk3-zvl7gi.png"><br><br>  Les chiffres au d√©but indiquent des changements de basse fr√©quence dans l'image, et nos yeux les captent mieux.  Les nombres proches de la fin indiquent des changements dans les hautes fr√©quences qui sont plus difficiles √† remarquer.  Pour ¬´voir ce qui n'est pas visible √† l'≈ìil¬ª, nous pouvons isoler ces parties haute fr√©quence en remettant √† z√©ro les 5000 premiers nombres. <br><br><img src="https://habrastorage.org/webt/si/gj/w2/sigjw20pylfjmu0rzqjocl6oqv4.png"><br><br>  Nous voyons toutes les zones de l'image dans lesquelles le plus grand changement se produit d'un pixel √† l'autre.  Les yeux du chat, sa moustache, sa couverture √©ponge et ses ombres dans le coin inf√©rieur gauche ressortent.  Vous pouvez aller plus loin en effa√ßant les 10 000 premiers num√©ros: <br><br><img src="https://habrastorage.org/webt/eg/vi/9a/egvi9a_wkwv48xktp7jiyajnhuc.png"><br><br>  20 000: <br><br><img src="https://habrastorage.org/webt/y9/fr/ri/y9frrialb_94gnwdd-plq_hcyqc.png"><br><br>  40 000: <br><br><img src="https://habrastorage.org/webt/0d/ce/kr/0dcekrobg9_ir-hqnggr9fjlw4u.png"><br><br>  60 000: <br><br><img src="https://habrastorage.org/webt/uo/8f/qx/uo8fqxadj-snukbdf1dcjgvoux0.png"><br><br>  Ces parties haute fr√©quence sont en jpeg et suppriment pendant la phase de compression.  La conversion des couleurs en coefficients DCT est sans perte.  Les pertes sont g√©n√©r√©es √† l'√©tape de discr√©tisation, o√π les valeurs haute fr√©quence ou proches de z√©ro sont supprim√©es.  Lorsque vous diminuez la qualit√© de l'enregistrement JPEG, le programme augmente le seuil du nombre de valeurs supprim√©es, ce qui r√©duit la taille du fichier, mais rend l'image plus pix√©lis√©e.  Par cons√©quent, l'image de la premi√®re section, qui √©tait 57 fois plus petite, ressemblait √† ceci.  Chaque bloc 8x8 semblait avoir un nombre beaucoup plus faible de coefficients DCT par rapport √† une meilleure version. <br><br>  Vous pouvez cr√©er un effet sympa comme la diffusion progressive d'images.  Vous pouvez afficher une image floue, qui devient plus d√©taill√©e √† mesure que de plus en plus de coefficients sont t√©l√©charg√©s. <br><br>  Ici, juste pour le plaisir, ce qui se passe lorsque vous utilisez seulement 24 000 num√©ros: <br><br><img src="https://habrastorage.org/webt/vn/sf/xr/vnsfxrqyogsnc4qx9pzsok--rno.png"><br><br>  Ou juste 5000: <br><br><img src="https://habrastorage.org/webt/oi/y3/u6/oiy3u6saz6kliguv_pm8iucdbqa.png"><br><br>  Tr√®s flou, mais comme reconnaissable! <br><br><h2>  3. Codage des longueurs de s√©rie, delta et Huffman </h2><br>  Jusqu'√† pr√©sent, toutes les √©tapes de compression se sont accompagn√©es de pertes.  La derni√®re √©tape, au contraire, se d√©roule sans perte.  Il ne supprime pas les informations, mais r√©duit consid√©rablement la taille du fichier. <br><br>  Comment pouvez-vous compresser quelque chose sans jeter d'informations?  Imaginez comment nous d√©cririons un simple rectangle noir 700 x 437. <br><br>  JPEG utilise 5000 num√©ros pour cela, mais un bien meilleur r√©sultat peut √™tre obtenu.  Pouvez-vous imaginer un sch√©ma de codage d√©crivant une telle image avec le moins d'octets possible? <br><br>  Le sch√©ma minimal que je pourrais utiliser utilise quatre: trois pour indiquer la couleur, et le quatri√®me - combien de pixels ont cette couleur.  L'id√©e de repr√©senter des valeurs r√©p√©t√©es d'une telle mani√®re compress√©e est appel√©e codage de longueur en s√©rie.  Il n'a aucune perte, car nous pouvons restaurer les donn√©es encod√©es dans leur forme d'origine. <br><br>  La taille d'un fichier JPEG avec un rectangle noir est beaucoup plus grande que 4 octets - n'oubliez pas qu'au niveau DCT, la compression est appliqu√©e √† des blocs de 8x8 pixels.  Par cons√©quent, au moins nous avons besoin d'un coefficient DCT pour chaque 64 pixels.  Nous en avons besoin car au lieu de stocker un seul coefficient DCT suivi de 63 z√©ros, le codage des longueurs de la s√©rie nous permet de stocker un nombre et d'indiquer que ¬´tous les autres sont des z√©ros¬ª. <br><br>  Le codage delta est une technique dans laquelle chaque octet contient une diff√©rence par rapport √† une certaine valeur, plut√¥t qu'une valeur absolue.  Par cons√©quent, la modification de certains octets modifie la couleur de tous les autres pixels.  Par exemple, au lieu de stocker <br><br>  12 13 14 14 14 13 13 14 <br><br>      12,    ,     ,    .     -  : <br><br> 12 1 1 0 0 -1 0 1 <br><br>      ,     .  -       ,      . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le codage delta est l'une des rares techniques utilis√©es en dehors des blocs 8x8. Sur les 64 coefficients DCT, l'un est simplement une fonction d'onde constante (couleur unie). Il repr√©sente la luminosit√© moyenne de chaque bloc pour les composants de luminance, ou le bleuissement moyen pour les composants Cb, etc. La premi√®re valeur de chaque bloc DCT est appel√©e valeur DC, et chaque valeur DC subit un codage delta par rapport aux pr√©c√©dentes. Par cons√©quent, une modification de la luminosit√© du premier bloc affectera tous les blocs. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le dernier myst√®re demeure: comment le changement singulier g√¢che-t-il compl√®tement le tableau? Jusqu'√† pr√©sent, les niveaux de compression n'avaient pas de telles propri√©t√©s. La r√©ponse r√©side dans l'en-t√™te JPEG. Les 500 premiers octets contiennent des m√©tadonn√©es sur l'image - largeur, hauteur, etc., et jusqu'√† pr√©sent, nous n'avons pas travaill√© avec eux.</font></font><br><br>     (,   )  JPEG.    ,      ,      ,    .  , ,  ,         ,    ,         . <br><br>  ,      .   JPEG   ,    .     .    ¬´ ¬ª,   ‚Äì  .       ‚Äì 255   196.        . <br><br>       .   ‚Äì   15-  1  12. <br><br><img src="https://habrastorage.org/webt/mz/-c/xd/mz-cxdyzf2haxuj1_tojoatbl7s.png"><br><br>   ,    ,     .           .       ,       1  ,    ,  00000001,         ,       . <br><br>     ,       .   ‚Äì  ,     ,        .  ,      : <br><br> 234 115 <br><br> ,     ,     .   ,        : <br><br> 11101010 01110011 <br><br>    ,  ,   .  ,      , (111010),  58   ,      (10011),  19,      (0011),  3. <br><br>          .    ,  .           ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . <br><br>    ,   ,   ‚Äì    JPEG    .  , ,      . Facebook  ,     . <br><br>     ‚Äì     .     ,   .         . <br><br>  :       JPEG? : <br><br><ol><li>   ()      . </li><li>               88,        . </li><li>     ,        88. </li><li>   ,    (    ). </li><li>    YCbCr     RGB. </li><li>    ! </li></ol><br>        ! ,      ‚Äì ,   JPEG .      ,     ,   .  , ,   JPEG,  ,        .  , -        ,      ,       ( , ). <br><br> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">,   </a> , ,         .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr454944/">https://habr.com/ru/post/fr454944/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr454928/index.html">Fa√ßon de contourner l'√©cran de verrouillage de Windows sur les sessions RDP</a></li>
<li><a href="../fr454932/index.html">Investissements et logiciels: 5 terminaux de trading pour n√©gocier en bourse</a></li>
<li><a href="../fr454936/index.html">Vivaldi: le blocage des publicit√©s devrait √™tre le choix de l'utilisateur</a></li>
<li><a href="../fr454938/index.html">D√©veloppement de son propre noyau pour l'int√©gration dans un syst√®me de processeur bas√© sur FPGA</a></li>
<li><a href="../fr454940/index.html">Assurance sant√© voyage: instructions d√©taill√©es</a></li>
<li><a href="../fr454946/index.html">√âtats mondiaux: pourquoi et comment les √©viter</a></li>
<li><a href="../fr454958/index.html">Un regard int√©rieur: √©cole doctorale √† l'EPFL. Partie 4.1: vie quotidienne</a></li>
<li><a href="../fr454960/index.html">Microbiota. Comment les m√©dicaments affectent les bact√©ries intestinales</a></li>
<li><a href="../fr454962/index.html">Comment les entreprises informatiques dans le monde se prot√®gent-elles des concurrents face aux anciens employ√©s?</a></li>
<li><a href="../fr454964/index.html">L'utilisation de la vision par ordinateur dans la recherche marine ou 12 personnes sur la poitrine d'un homme mort</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>