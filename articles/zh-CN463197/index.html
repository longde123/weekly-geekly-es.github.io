<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš· ğŸ‘‹ â„¢ï¸ Blazor + MVVM = Silverlightåå‡»ï¼Œå› ä¸ºè¿œå¤é‚ªæ¶æ— æ•Œ ğŸ¤¶ğŸ» ğŸ§“ğŸ¿ ğŸš€</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å“ˆHaï¼ 

 å› æ­¤ï¼Œæ˜¯çš„ï¼Œnet core 3.0å³å°†æ¨å‡ºï¼Œå¹¶ä¸”å°†æœ‰ä¸€ä¸ªé¡¹ç›®æ¨¡æ¿ï¼Œå…¶ä¸­Blazoræ˜¯é»˜è®¤æ¨¡æ¿ä¹‹ä¸€ã€‚ åœ¨æˆ‘çœ‹æ¥ï¼Œè¯¥æ¡†æ¶çš„åç§°ç±»ä¼¼äºæŸäº›Pokemonçš„åç§°ã€‚ å¼€æ‹“è€…å¼€å§‹æˆ˜æ–—ï¼ æˆ‘å†³å®šçœ‹ä¸€ä¸‹å®ƒæ˜¯å“ªç§åŠ¨ç‰©ï¼Œä»¥åŠå®ƒè¢«åƒä»€ä¹ˆï¼Œæ‰€ä»¥æˆ‘åœ¨ä¸Šé¢åˆ¶ä½œäº†ä¸€ä¸ªå¾…åŠäº‹é¡¹è¡¨ã€‚ å¥½å§ï¼Œä¹Ÿå¯ä»¥åœ¨Vue.jsä¸Šä¸...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Blazor + MVVM = Silverlightåå‡»ï¼Œå› ä¸ºè¿œå¤é‚ªæ¶æ— æ•Œ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463197/"> å“ˆHaï¼ <br><br> å› æ­¤ï¼Œæ˜¯çš„ï¼Œnet core 3.0å³å°†æ¨å‡ºï¼Œå¹¶ä¸”å°†æœ‰ä¸€ä¸ªé¡¹ç›®æ¨¡æ¿ï¼Œå…¶ä¸­Blazoræ˜¯é»˜è®¤æ¨¡æ¿ä¹‹ä¸€ã€‚ åœ¨æˆ‘çœ‹æ¥ï¼Œè¯¥æ¡†æ¶çš„åç§°ç±»ä¼¼äºæŸäº›Pokemonçš„åç§°ã€‚ å¼€æ‹“è€…å¼€å§‹æˆ˜æ–—ï¼ æˆ‘å†³å®šçœ‹ä¸€ä¸‹å®ƒæ˜¯å“ªç§åŠ¨ç‰©ï¼Œä»¥åŠå®ƒè¢«åƒä»€ä¹ˆï¼Œæ‰€ä»¥æˆ‘åœ¨ä¸Šé¢åˆ¶ä½œäº†ä¸€ä¸ªå¾…åŠäº‹é¡¹è¡¨ã€‚ å¥½å§ï¼Œä¹Ÿå¯ä»¥åœ¨Vue.jsä¸Šä¸ä¸»é¢˜è¿›è¡Œæ¯”è¾ƒï¼Œå› ä¸ºåœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒä»¬åœ¨ç»„ä»¶å’Œååº”æ€§æ–¹é¢éƒ½ç±»ä¼¼äºç»„ä»¶ç³»ç»Ÿï¼Œä»…æ­¤è€Œå·²ã€‚ æ›´å¤šå¥³ç¥ç¥çµï¼ å®é™…ä¸Šï¼Œè¿™æ˜¯ä¸€ä¸ªæŒ‡å—ï¼Œé¢å‘é‚£äº›æ‡’äºå­¦ä¹ TypeScriptæˆ–JavaScriptå¹¶ä¸”æƒ³è¦åœ¨ç½‘ç«™ä¸Šè¿›è¡ŒæŒ‰é’®å’Œè¾“å…¥çš„æ‡’æƒ°çš„å¹´è½»äººã€‚ å°±åƒé‚£ä¸ªæ¨¡å› ä¸€æ ·-â€œè¿™ä½æŠ€æœ¯äººå‘˜æƒ³å†™ä¸€æœ¬ä¹¦ï¼Œä½†æŒ‡ç¤ºå´å‡ºæ¥äº†ã€‚â€ è°å¯¹æˆ‘åœ¨å‰ç«¯çš„å†’é™©æ„Ÿå…´è¶£ï¼Œæˆ–è€…å‘ç°æ¬¢è¿æ‚¨ä½¿ç”¨å“ªç§Blazorã€‚ <a name="habracut"></a><br><br><h2> å¼•è¨€ </h2><br> å¾®è½¯æ›¾ç»æœ‰è¿‡åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨Cï¼ƒçš„æƒ³æ³•ï¼Œå¹¶å°†å…¶ç§°ä¸ºSilverlightã€‚ å®ƒæ²¡æœ‰èµ·é£ã€‚ ç„¶åï¼Œæ‚¨çš„è¿™äº›tyrnetä¸å®é™…çš„æµè§ˆå™¨æœ‰æ‰€ä¸åŒã€‚ æˆ‘ä¸ºä»€ä¹ˆè®¤ä¸ºå®ƒç°åœ¨æ­£åœ¨èµ·é£ï¼Ÿ å› ä¸ºç°åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒWebç¨‹åºé›†åœ¨æ‰€æœ‰ç°ä»£æµè§ˆå™¨ä¸­éƒ½å¯ç”¨ã€‚ æ— éœ€å®‰è£…å•ç‹¬çš„æ‰©å±•ã€‚ å¦ä¸€ä¸ªé—®é¢˜æ˜¯åº”ç”¨ç¨‹åºå¤§å°ã€‚ å¦‚æœVue.js SPAçš„é‡é‡ä¸º1.7å…†å­—èŠ‚ï¼Œé‚£ä¹ˆBlazorçš„21å…†å­—èŠ‚å®Œå…¨ç›¸åŒã€‚ ç°åœ¨ï¼ŒInternetå˜å¾—æ¯”Silverlightæ—¶ä»£æ›´å¿«ï¼Œæ›´å¯é ï¼Œæ‚¨éœ€è¦ä¸‹è½½ä¸€æ¬¡åº”ç”¨ç¨‹åºï¼Œç„¶åå°±å¯ä»¥æ‹¥æœ‰ç¼“å­˜å’Œæ‰€æœ‰å†…å®¹ã€‚ é€šå¸¸ï¼ŒBlazorçœ‹èµ·æ¥ä¸Vue.jséå¸¸ç›¸ä¼¼ã€‚ å› æ­¤ï¼Œä¸ºäº†å‘Silverligthtï¼ŒWPFå’ŒUWPè‡´æ•¬ï¼Œå¹¶ä¸”å› ä¸ºåœ¨Sharperä¸­å¦‚æ­¤æ™®éï¼Œæˆ‘å†³å®šåœ¨é¡¹ç›®ä¸­ä½¿ç”¨MVVMæ¨¡å¼ã€‚ å› æ­¤ï¼Œä»…ä¾›å‚è€ƒ-æˆ‘é€šå¸¸æ˜¯åç«¯ï¼Œæˆ‘å–œæ¬¢Blazorã€‚ æˆ‘è­¦å‘Šæˆ‘-ä¾‹å­ä¸­çš„è®¾è®¡å’Œå¸ƒå±€éå¸¸ç³Ÿç³•ï¼Œåœ¨ä½¿ç”¨Vue.jsçš„é¡¹ç›®ä¸­ï¼Œç»éªŒä¸°å¯Œçš„å‰ç«¯ä½œå®¶å¯ä»¥çœ‹åˆ°å¾ˆå¤šgovnokodã€‚ å¥½å§ï¼Œæœ‰äº†æ‹¼å†™å’Œæ ‡ç‚¹ç¬¦å·ï¼Œäº‹æƒ…ä¹Ÿå°±è¿™æ ·ã€‚ <br><br><h2> å‚è€ƒæ–‡çŒ® </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Vue + Vuexä¸Šçš„Todoç¤ºä¾‹</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Blazorä¸Šçš„Todoç¤ºä¾‹</a> <br><br><h2> å±•ç¤ºä½ç½®æ¨¡å‹ </h2><br><ol><li> åœ¨å®¢æˆ·ç«¯ã€‚ å¯ä»¥ä»¥å¤šç§æ–¹å¼åˆ†å‘çš„æ ‡å‡†SPAã€‚ åœ¨æˆ‘çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä½¿ç”¨äº†ä¸€ä¸ªæ¨¡æ¿ï¼Œåœ¨å…¶ä¸­å°†åº”ç”¨ç¨‹åºæ–‡ä»¶å‘é€åˆ°asp.netæ ¸å¿ƒä¸Šçš„æµè§ˆå™¨æœåŠ¡å™¨ã€‚ è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯éœ€è¦ä¸‹è½½åˆ°æµè§ˆå™¨çš„é‚£21å…†å­—èŠ‚ã€‚ </li><li> åœ¨æœåŠ¡å™¨ç«¯ã€‚ ä¸€åˆ‡éƒ½åœ¨æœåŠ¡å™¨ä¸Šå‘ç”Ÿï¼Œå®Œæˆçš„DOMé€šè¿‡å¥—æ¥å­—ä¼ é€’ç»™å®¢æˆ·ç«¯ã€‚ æµè§ˆå™¨ä¸€å¼€å§‹æ ¹æœ¬ä¸éœ€è¦ä¸‹è½½ä»»ä½•ä¸œè¥¿ï¼Œè€Œæ˜¯ä¸æ–­åœ°åˆ†æ®µä¸‹è½½æ›´æ–°çš„DOMã€‚ å¥½å§ï¼Œå®¢æˆ·ç«¯ä»£ç çš„å…¨éƒ¨è´Ÿè½½çªç„¶è½åˆ°äº†æœåŠ¡å™¨ä¸Šã€‚ </li></ol><br> æˆ‘ä¸ªäººæ›´å–œæ¬¢ç¬¬ä¸€ç§é€‰æ‹©ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸éœ€è¦æ‹…å¿ƒç”¨æˆ·è½¬æ¢çš„æ‰€æœ‰æƒ…å†µä¸‹ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼Œè¿™æ˜¯å…¬å¸çš„æŸç§å†…éƒ¨ä¿¡æ¯ç³»ç»Ÿæˆ–ä¸“ç”¨çš„B2Bè§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºBlazoré¦–æ¬¡ä¸‹è½½å·²å¾ˆé•¿æ—¶é—´ã€‚ å¦‚æœæ‚¨çš„ç”¨æˆ·ä¸æ–­ç™»å½•åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆä»–ä»¬å°†ä¸ä¼šæ³¨æ„åˆ°ä¸JSç‰ˆæœ¬çš„ä»»ä½•åŒºåˆ«ã€‚ å¦‚æœç”¨æˆ·å•å‡»å¹¿å‘Šé“¾æ¥ï¼Œåˆ™åªéœ€æŸ¥çœ‹é‚£é‡Œçš„ç½‘ç«™ç±»å‹ï¼Œå¾ˆå¯èƒ½ä»–ä¸ä¼šç­‰å¾…å¾ˆé•¿æ—¶é—´å°±å¯ä»¥åŠ è½½å¹¶ç¦»å¼€ç½‘ç«™ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½ä½¿ç”¨ç¬¬äºŒä¸ªæ”¾ç½®é€‰é¡¹ï¼Œå³ æœåŠ¡å™¨ç«¯è¥¿è£…å¤–å¥— <br><br><h2> é¡¹ç›®åˆ›å»º </h2><br> ä¸‹è½½Net Core 3.0 <a href="">dotnet.microsoft.com/download/dotnet-core/3.0</a> <br> åœ¨ç»ˆç«¯ä¸­è¿è¡Œå‘½ä»¤ï¼Œè¯¥å‘½ä»¤å°†ä¸ºæ‚¨åŠ è½½å¿…è¦çš„æ¨¡æ¿ã€‚ <br><br><pre><code class="bash hljs">dotnet new -i Microsoft.AspNetCore.Blazor.Templates</code> </pre> <br> åˆ›å»ºæœåŠ¡å™¨ç«¯ <br><br><pre> <code class="bash hljs">dotnet new blazorserverside -o MyWebApp</code> </pre><br> å¯¹äºå®¢æˆ·ç«¯ï¼Œå…¶æ–‡ä»¶å°†ç”±asp.netæ ¸å¿ƒæœåŠ¡å™¨åˆ†å‘ <br><br><pre> <code class="bash hljs">dotnet new blazorhosted -o MyWebApp</code> </pre><br> å¦‚æœæ‚¨æƒ³äº†è§£å¼‚å›½æƒ…è°ƒå¹¶çªç„¶å†³å®šä¸å°†asp.net coreç”¨ä½œæœåŠ¡å™¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å…¶ä»–å‘½ä»¤ï¼ˆæ˜¯å¦å®Œå…¨éœ€è¦å®ƒï¼Ÿï¼‰ï¼Œä½¿ç”¨æ­¤å‘½ä»¤åªèƒ½åˆ›å»ºä¸€ä¸ªæ²¡æœ‰æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ã€‚ <br><br><pre> <code class="bash hljs">dotnet new blazor -o MyWebApp</code> </pre><br><h2> ç»‘å®š </h2><br> æ”¯æŒå•å‘å’ŒåŒå‘ç»‘å®šã€‚ å› æ­¤ï¼Œæ˜¯çš„ï¼Œæ‚¨ä¸éœ€è¦åƒWPFä¸­çš„ä»»ä½•OnPropertichangedã€‚ æ›´æ”¹è§†å›¾æ¨¡å‹æ—¶ï¼Œå¸ƒå±€ä¼šè‡ªåŠ¨æ›´æ”¹ã€‚ <br><br><pre> <code class="cs hljs">&lt;label&gt;One way binding:&lt;/label&gt; &lt;br /&gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"text"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>=@Text /&gt; &lt;br /&gt; &lt;label&gt;Two way binding:&lt;/label&gt; &lt;br /&gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"text"</span></span> @bind=@Text /&gt; &lt;br /&gt; &lt;label&gt;Two way binding         Text   oninput:&lt;/label&gt; &lt;br /&gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"text"</span></span> @bind=@Text @bind:<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>=<span class="hljs-string"><span class="hljs-string">"oninput"</span></span> /&gt; <span class="hljs-comment"><span class="hljs-comment">//ViewModel @code{ string Text; async Task InpuValueChanged() { Console.WriteLine("Input value changed"); } }</span></span></code> </pre><br> å› æ­¤ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå…·æœ‰Textå­—æ®µçš„ViewModelï¼ˆåŒ¿åï¼‰ã€‚ <br><br> åœ¨ç¬¬ä¸€ä¸ªè¾“å…¥ä¸­ï¼Œé€šè¿‡â€œ value = @ Textâ€ï¼Œæˆ‘ä»¬è¿›è¡Œäº†å•å‘ç»‘å®šã€‚ ç°åœ¨ï¼Œå½“æˆ‘ä»¬åœ¨ä»£ç ä¸­æ›´æ”¹æ–‡æœ¬æ—¶ï¼Œè¾“å…¥ä¸­çš„æ–‡æœ¬å°†ç«‹å³æ›´æ”¹ã€‚ åªæœ‰è¿™æ ·æˆ‘ä»¬æ‰èƒ½åœ¨è¾“å…¥ä¸­ä¸è¿›è¡Œæ‰“å°ï¼Œè¿™æ‰ä»¥ä»»ä½•æ–¹å¼å½±å“æˆ‘ä»¬çš„VMã€‚ åœ¨ç¬¬äºŒä¸ªè¾“å…¥ä¸­ï¼Œé€šè¿‡â€œ @ bind = @ Textâ€ï¼Œæˆ‘ä»¬è¿›è¡Œäº†åŒå‘ç»‘å®šã€‚ ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¾“å…¥ä¸­ç¼–å†™æ–°å†…å®¹ï¼Œæˆ‘ä»¬çš„VMå°†ç«‹å³æ›´æ”¹ï¼Œåä¹‹äº¦ç„¶ï¼Œå³ å¦‚æœæˆ‘ä»¬æ›´æ”¹ä»£ç ä¸­çš„â€œæ–‡æœ¬â€å­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„è¾“å…¥å°†ç«‹å³æ˜¾ç¤ºæ–°å€¼ã€‚ æœ‰ä¸€ä¸ªBUT-é»˜è®¤æƒ…å†µä¸‹ï¼Œæ›´æ”¹ä¸è¾“å…¥çš„onchangeäº‹ä»¶ç›¸å…³ï¼Œå› æ­¤VMä»…åœ¨å®Œæˆè¾“å…¥åæ‰ä¼šæ›´æ”¹ã€‚ åœ¨ç¬¬ä¸‰ä¸ªè¾“å…¥â€œ @bindï¼ševent =â€ oninputâ€œâ€ä¸­ï¼Œæˆ‘ä»¬ç°åœ¨æ¯æ¬¡å°†æŸäº›å­—ç¬¦æ‰“å°åˆ°æ–°å€¼æ—¶ï¼Œéƒ½ä¼šå°†ç”¨äºå°†VMæ•°æ®ä¼ è¾“åˆ°oninputçš„äº‹ä»¶æ›´æ”¹ä¸ºoninputã€‚ ä¾‹å¦‚ï¼Œæ‚¨è¿˜å¯ä»¥æŒ‡å®šDateTimeçš„æ ¼å¼ã€‚ <br><br><pre> <code class="cs hljs">&lt;input @bind=@Today @bind:format=<span class="hljs-string"><span class="hljs-string">"yyyy-MM-dd"</span></span> /&gt;</code> </pre> <br><h2> æŸ¥çœ‹æ¨¡å‹ </h2><br> æ‚¨å¯ä»¥å°†å…¶è®¾ä¸ºåŒ¿åï¼Œç„¶åéœ€è¦åœ¨â€œ @code {}â€å—ä¸­å°†å…¶åœæ­¢ <br><br><pre> <code class="cs hljs">@page <span class="hljs-string"><span class="hljs-string">"/todo"</span></span> &lt;p&gt;  @UserName &lt;/p&gt; @code{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> UserName{<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>;} }</code> </pre><br> æˆ–è€…æ‚¨å¯ä»¥å°†å…¶æ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚ ç„¶åå¿…é¡»ä»ComponentBaseç»§æ‰¿å®ƒï¼Œå¹¶åœ¨é¡µé¢é¡¶éƒ¨ä½¿ç”¨â€œ @inheritsâ€æŒ‡å®šæŒ‡å‘æˆ‘ä»¬çš„VMçš„é“¾æ¥ <br><br> ä¸¾ä¸ªä¾‹å­ <br><br>  TodoViewModel.csï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TodoViewModel</span></span>: <span class="hljs-title"><span class="hljs-title">ComponentBase</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> UserName{<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>;} }</code> </pre><br>  Todo.razorï¼š <br><br><pre> <code class="cs hljs">@page <span class="hljs-string"><span class="hljs-string">"/todo"</span></span> @inherits MyWebApp.ViewModels.TodoViewModel &lt;p&gt;  @UserName &lt;/p&gt;</code> </pre><br><h2> è·¯ç”±é€‰æ‹© </h2><br> åœ¨é¡µé¢çš„å¼€å¤´ä½¿ç”¨â€œ @pageâ€æŒ‡ç¤ºé¡µé¢å°†å“åº”çš„è·¯ç”±ã€‚ è€Œä¸”ï¼Œå¯èƒ½æœ‰å‡ ä¸ªã€‚ å°†æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºé€‰æ‹©å®Œå…¨åŒ¹é…çš„ç¬¬ä¸€ä¸ªã€‚ ä¾‹å¦‚ï¼š <br><br><pre> <code class="cs hljs">@page <span class="hljs-string"><span class="hljs-string">"/todo"</span></span> @page <span class="hljs-string"><span class="hljs-string">"/todo/delete"</span></span> &lt;h1&gt; Hello!&lt;/h1&gt;</code> </pre><br> æ­¤é¡µé¢å°†ä»¥â€œ / todoâ€æˆ–â€œ todo / deleteâ€æ‰“å¼€ <br><br><h2> ç‰ˆé¢ </h2><br> é€šå¸¸ï¼Œé€šå¸¸åœ¨å‡ é¡µä¸Šæ”¾ç½®ç›¸åŒçš„å†…å®¹ã€‚ åƒä¾§è¾¹æ ï¼Œç­‰ç­‰ã€‚ <br><br> ä¸ºäº†é¦–å…ˆä½¿ç”¨å¸ƒå±€ï¼Œæ‚¨éœ€è¦åˆ›å»ºå®ƒã€‚ å¿…é¡»ä½¿ç”¨â€œ @inheritsâ€ä»LayotComponentBaseç»§æ‰¿ã€‚ ä¸¾ä¸ªä¾‹å­ <br><br><pre> <code class="cs hljs">@inherits LayoutComponentBase &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"sidebar"</span></span>&gt; &lt;NavMenu /&gt; &lt;/div&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"main"</span></span>&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"top-row px-4"</span></span>&gt; &lt;a href=<span class="hljs-string"><span class="hljs-string">"http://blazor.net"</span></span> target=<span class="hljs-string"><span class="hljs-string">"_blank"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"ml-md-auto"</span></span>&gt;About&lt;/a&gt; &lt;/div&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"content px-4"</span></span>&gt; @Body &lt;/div&gt; &lt;/div&gt;</code> </pre><br> å…¶æ¬¡ï¼Œå®ƒéœ€è¦å¯¼å…¥ã€‚ ä¸ºæ­¤ï¼Œåœ¨åŒ…å«ä½¿ç”¨å®ƒçš„é¡µé¢çš„ç›®å½•ä¸­ï¼Œæ‚¨éœ€è¦åˆ›å»º_imports.razoræ–‡ä»¶ï¼Œç„¶ååœ¨è¯¥æ–‡ä»¶ä¸­æ·»åŠ â€œ @layoutâ€è¡Œ <br><br><pre> <code class="cs hljs">@layout MainLayout @<span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System</code> </pre><br> ç¬¬ä¸‰ï¼Œæ‚¨å¯ä»¥åœ¨é¡µé¢ä¸ŠæŒ‡ç¤ºå…¶ç›´æ¥ä½¿ç”¨å“ªç§å¸ƒå±€ <br><br><pre> <code class="cs hljs">@layout MainLayout @page <span class="hljs-string"><span class="hljs-string">"/todo"</span></span> @inherits BlazorApp.Client.Presentation.TodoViewModel &lt;h3&gt;Todo&lt;/h3&gt;</code> </pre><br> é€šå¸¸ï¼Œ_imports.razoråŠå…¶åœ¨å…¶ä¸­ä½¿ç”¨ä¼šä½œç”¨äºä¸å®ƒä½äºåŒä¸€æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰é¡µé¢ã€‚ <br><br><h2> è·¯çº¿é€‰é¡¹ </h2><br> é¦–å…ˆï¼Œåœ¨æˆ‘ä»¬çš„è·¯çº¿ä¸­ï¼Œä½¿ç”¨å¤§æ‹¬å·è¡¨ç¤ºå‚æ•°åŠå…¶ç±»å‹ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ã€‚ æ”¯æŒæ ‡å‡†ç±»å‹ã€‚ æ‰€ä»¥æ˜¯çš„ï¼Œæ²¡æœ‰å¯é€‰å‚æ•°ï¼Œå³ å€¼å¿…é¡»å§‹ç»ˆä¼ é€’ã€‚ <br><br> å¯ä»¥é€šè¿‡åœ¨ViewModelä¸­åˆ›å»ºä¸€ä¸ªä¸å‚æ•°åŒåçš„å±æ€§å¹¶ä½¿ç”¨[Parameter] BTBå±æ€§æ¥è·å–å€¼æœ¬èº«-ä¹‹å‰å·²ç»é‡åˆ°è¿‡-çˆ¶ç»„ä»¶ä¸­çš„æ•°æ®å’Œäº‹ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨[Parameter]å±æ€§ä»¥åŠçº§è”å‚æ•°ä»çˆ¶ç»„ä»¶ä¸­ä¼ è¾“ã€‚ å®ƒä»¬ä»çˆ¶ç»„ä»¶ä¼ é€’åˆ°å…¶æ‰€æœ‰å­ç»„ä»¶åŠå…¶å­ç»„ä»¶ã€‚ å®ƒä»¬ä¸»è¦ç”¨äºæ ·å¼ï¼Œä½†æ˜¯æœ€å¥½åªä½¿ç”¨CSSæ ·å¼ï¼Œæ‰€ä»¥ä¸ºä»€ä¹ˆä¸åœ¨ä¹ã€‚ <br><br><pre> <code class="cs hljs">@page <span class="hljs-string"><span class="hljs-string">"/todo/delete/{id:guid}"</span></span> &lt;h1&gt; Hello!&lt;/h1&gt; @code{ [Parameter] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Guid Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre><br><h2>  DI </h2><br> ä¸å¸¸è§„asp.netæ ¸å¿ƒåº”ç”¨ç¨‹åºä¸€æ ·ï¼Œæ‰€æœ‰å†…å®¹éƒ½åœ¨Startup.csä¸­æ³¨å†Œã€‚ è¿™é‡Œæ²¡æœ‰æ–°å†…å®¹ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„VMä¾èµ–å…³ç³»çš„å®ç°ä»ç„¶é€šè¿‡å…¬å…±å±æ€§è€Œä¸æ˜¯é€šè¿‡æ„é€ å‡½æ•°è¿›è¡Œã€‚ è¯¥å±æ€§åªéœ€ç”¨[Inject]å±æ€§è£…é¥° <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DeleteTodoViewModel</span></span> : <span class="hljs-title"><span class="hljs-title">ComponentBase</span></span> { [Parameter] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Guid Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Inject] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ICommandDispatcher CommandDispatcher { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }</code> </pre><br> é»˜è®¤æƒ…å†µä¸‹ï¼Œå·²ç»è¿æ¥äº†3ä¸ªæœåŠ¡ã€‚  HttpClient-å¥½å§ï¼Œä½ çŸ¥é“ä¸ºä»€ä¹ˆã€‚  IJSRuntime-ä»Cï¼ƒè°ƒç”¨JSä»£ç ã€‚  IUriHelper-ä½¿ç”¨å®ƒæ— æ³•é‡å®šå‘åˆ°å…¶ä»–é¡µé¢ã€‚ <br><br><h2> åº”ç”¨å®ä¾‹ </h2><br><h3>  Todoç”µå­è¡¨æ ¼ </h3><br>  TodoTableComponent.razorï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//1) &lt;table class="table table-hover"&gt; &lt;thead&gt; &lt;th&gt; &lt;/th&gt; &lt;th&gt;&lt;/th&gt; &lt;th&gt; &lt;/th&gt; &lt;th&gt;&lt;/th&gt; &lt;/thead&gt; &lt;tbody&gt; //2) @foreach (var item in Items) { //3) &lt;tr @onclick=@(()=&gt;ClickRow(item.Id)) class="@(item.Id == Current?"table-primary":null)"&gt; &lt;td&gt;&lt;input type="checkbox" checked="@item.IsComplite" disabled="disabled" /&gt;&lt;/td&gt; &lt;td&gt;@item.Name&lt;/td&gt; &lt;td&gt;@item.Created.ToString("dd.MM.yyyy HH:mm:ss")&lt;/td&gt; &lt;td&gt;&lt;a href="/todo/delete/@item.Id" class="btn btn-danger"&gt;&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; } &lt;/tbody&gt; &lt;/table&gt; @code { //4) [Parameter] private List&lt;BlazorApp.Client.Presentation.TodoDto&gt; Items { get; set; } [Parameter] private EventCallback&lt;UIMouseEventArgs&gt; OnClick { get; set; } [Parameter] private Guid Current { get; set; } private async Task ClickRow(Guid id) { //5 await OnClick.InvokeAsync(CreateArgs(id)); } private ClickTodoEventArgs CreateArgs(Guid id) { return new ClickTodoEventArgs { Id = id }; } //6) public class ClickTodoEventArgs : UIMouseEventArgs { public Guid Id { get; set; } } }</span></span></code> </pre><br><ol><li> ç”±äºæ­¤ç»„ä»¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦â€œ @pageâ€å’Œâ€œ @layoutâ€ï¼Œå› ä¸ºå®ƒä¸ä¼šå‚ä¸è·¯ç”±ï¼Œå¹¶ä¸”ä¼šä½¿ç”¨çˆ¶ç»„ä»¶çš„å¸ƒå±€ </li><li>  Cï¼ƒä»£ç ä»¥@ç¬¦å·å¼€å¤´ã€‚ å…¶å®å’Œå‰ƒåˆ€ä¸€æ · </li><li><pre> <code class="cs hljs">@onclick=@(()=&gt;ClickRow(item.Id))</code> </pre> å°†è¡Œå•å‡»äº‹ä»¶ç»‘å®šåˆ°æˆ‘ä»¬çš„ViewModelçš„ClickRowæ–¹æ³• </li><li> ä½¿ç”¨[Parameter]å±æ€§æŒ‡å®šå“ªäº›å‚æ•°å°†ä»çˆ¶ç»„ä»¶æˆ–é¡µé¢è½¬ç§»åˆ°æˆ‘ä»¬çš„ç»„ä»¶æˆ–é¡µé¢ </li><li> æˆ‘ä»¬è°ƒç”¨ä»çˆ¶ç»„ä»¶æ”¶åˆ°çš„å›è°ƒå‡½æ•°ã€‚ å› æ­¤ï¼Œçˆ¶ç»„ä»¶å¾—çŸ¥å­©å­ä¸­å‘ç”Ÿäº†ä¸€äº›äº‹ä»¶ã€‚ å‡½æ•°åªèƒ½åŒ…è£…åœ¨EventCallback &lt;&gt;å‚æ•°åŒ–çš„EventArgsä¸­ä¼ é€’ã€‚ å¯åœ¨æ­¤å¤„æ‰¾åˆ°EventArgsçš„å¯èƒ½åˆ—è¡¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-docs.microsoft.com/ru-ru/aspnet/core/blazor/components?view=aspnetcore-3.0#event-handling</a> </li><li> ç”±äºEventArgså¯èƒ½ç±»å‹çš„åˆ—è¡¨æ˜¯æœ‰é™çš„ï¼Œå¹¶ä¸”æˆ‘ä»¬éœ€è¦å°†é™„åŠ çš„Idå±æ€§ä¼ é€’ç»™çˆ¶ç»„ä»¶ä¸€ä¾§çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå› æ­¤æˆ‘ä»¬åˆ›å»ºäº†ä»åŸºç±»ç»§æ‰¿çš„è‡ªå·±çš„å‚æ•°ç±»ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™äº‹ä»¶ã€‚ æ˜¯çš„ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œå¸¸è§„UIMouseEventArgså°†è¿›å…¥äº‹ä»¶å¤„ç†ç¨‹åºçš„å‡½æ•°ï¼Œå¹¶ä¸”éœ€è¦å°†å…¶è½¬æ¢ä¸ºæˆ‘ä»¬çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨asè¿ç®—ç¬¦ </li></ol><br> ç”¨æ³•ç¤ºä¾‹ï¼š <br><br><pre> <code class="cs hljs">&lt;TodoTableComponent Items=@Items OnClick=@Select Current=@(Selected?.Id??Guid.Empty)&gt;&lt;/TodoTableComponent&gt;</code> </pre> <br><h3> å¾…åŠäº‹é¡¹åˆ é™¤é¡µé¢ </h3><br> æˆ‘ä»¬çš„ViewModel aka VMæ˜¯DeleteTodoViewModel.csï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DeleteTodoViewModel</span></span> : <span class="hljs-title"><span class="hljs-title">ComponentBase</span></span> { <span class="hljs-comment"><span class="hljs-comment">//1) [Parameter] private Guid Id { get; set; } //2) [Inject] public ICommandDispatcher CommandDispatcher { get; set; } [Inject] public IQueryDispatcher QueryDispatcher { get; set; } [Inject] public IUriHelper UriHelper { get; set; } //3) public TodoDto Todo { get; set; } protected override async Task OnInitAsync() { var todo = await QueryDispatcher.Execute&lt;GetById,TodoItem&gt;(new GetById(Id)); if (todo != null) Todo = new TodoDto { Id = todo.Id, IsComplite = todo.IsComplite, Name = todo.Name, Created = todo.Created }; await base.OnInitAsync(); } //4) public async Task Delete() { if (Todo != null) await CommandDispatcher.Execute(new Remove(Todo.Id)); Todo = null; //5) UriHelper.NavigateTo("/todo"); } }</span></span></code> </pre><br><ol><li> è·¯ç”±å‚æ•°â€œ / todo / delete / {idï¼šguid}â€åœ¨æ­¤å¤„ä¼ é€’ç»™Guidï¼Œä¾‹å¦‚ï¼Œå¦‚æœä¼ é€’åˆ°localhost / todo / delete / ae434aae44 ... </li><li> å°†æœåŠ¡ä»DIå®¹å™¨æ³¨å…¥åˆ°æˆ‘ä»¬çš„VMä¸­ã€‚ </li><li> åªæ˜¯æˆ‘ä»¬VMçš„ä¸€ä¸ªå±æ€§ã€‚ æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦è‡ªè¡Œè®¾ç½®å…¶å€¼ã€‚ </li><li> åˆå§‹åŒ–é¡µé¢åï¼Œå°†è‡ªåŠ¨è°ƒç”¨æ­¤æ–¹æ³•ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ºVMçš„å±æ€§è®¾ç½®å¿…è¦çš„å€¼ </li><li> æˆ‘ä»¬çš„VMçš„æ–¹æ³•ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç»‘å®šåˆ°å•å‡»è§†å›¾çš„ä»»ä½•æŒ‰é’®çš„äº‹ä»¶ä¸Š </li><li> è½¬åˆ°ä½äºâ€œ / todoâ€åœ°å€çš„å¦ä¸€é¡µï¼Œå³ å¥¹åœ¨è¡Œé¦–æœ‰â€œ @pageâ€ /â€œ todoâ€ <br> æˆ‘ä»¬çš„è§†å›¾æ˜¯DeleteTodo.razorï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//1) @page "/todo/delete/{id:guid}" @using BlazorApp.Client.TodoModule.Presentation @using BlazorApp.Client.Shared; //2) @layout MainLayout //3) @inherits DeleteTodoViewModel &lt;h3&gt; Todo &lt;/h3&gt; @if (Todo != null) { &lt;div class="row"&gt; &lt;div class="col"&gt; &lt;input type="checkbox" checked=@Todo.IsComplite disabled="disabled" /&gt; &lt;br /&gt; &lt;label&gt;@Todo.Name&lt;/label&gt; &lt;br /&gt; //4) &lt;button class="btn btn-danger" onclick=@Delete&gt;&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; } else { &lt;p&gt;&lt;em&gt; Todo  &lt;/em&gt;&lt;/p&gt; }</span></span></code> </pre><br><ol><li> æˆ‘ä»¬æŒ‡ç¤ºè¯¥å›½å®¶/åœ°åŒºçš„åœ°å€ä¸º{æˆ‘ä»¬ç½‘ç«™çš„æ ¹åœ°å€} +â€œ / todo / delete /â€ + {æŸç§Guid}ã€‚ ä¾‹å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">localhost / todo / delete / ae434aae44</a> ... </li><li> æŒ‡å®šæˆ‘ä»¬çš„é¡µé¢å°†åœ¨MainLayout.razorä¸­å‘ˆç° </li><li> æŒ‡å®šæˆ‘ä»¬çš„é¡µé¢å°†ä½¿ç”¨DeleteTodoViewModelç±»çš„å±æ€§å’Œæ–¹æ³• </li><li> æˆ‘ä»¬ç¼©å°èŒƒå›´ï¼Œå½“æ‚¨å•å‡»æ­¤æŒ‰é’®æ—¶ï¼Œå°†è°ƒç”¨æˆ‘ä»¬è™šæ‹Ÿæœºçš„Deleteï¼ˆï¼‰æ–¹æ³• </li></ol><br><h3> å¾…åŠäº‹é¡¹é¦–é¡µ </h3><br>  TodoViewModel.csï¼š <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TodoViewModel</span></span> : <span class="hljs-title"><span class="hljs-title">ComponentBase</span></span> { [Inject] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ICommandDispatcher CommandDispatcher { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Inject] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IQueryDispatcher QueryDispatcher { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//1) [Required(ErrorMessage = "  Todo")] public string NewTodo { get; set; } public List&lt;TodoDto&gt; Items { get; set; } public TodoDto Selected { get; set; } protected override async Task OnInitAsync() { await LoadTodos(); await base.OnInitAsync(); } public async Task Create() { await CommandDispatcher.Execute(new Add(NewTodo)); await LoadTodos(); NewTodo = string.Empty; } //2) public async Task Select(UIMouseEventArgs args) { //3) var e = args as TodoTableComponent.ClickTodoEventArgs; if (e == null) return; var todo = await QueryDispatcher.Execute&lt;GetById, TodoItem&gt;(new GetById(e.Id)); if (todo == null) { Selected = null; return; } Selected = new TodoDto { Id = todo.Id, IsComplite = todo.IsComplite, Name = todo.Name, Created = todo.Created }; } public void CanselEdit() { Selected = null; } public async Task Update() { await CommandDispatcher.Execute(new Update(Selected.Id, Selected.Name, Selected.IsComplite)); Selected = null; await LoadTodos(); } private async Task LoadTodos() { var todos = await QueryDispatcher.Execute&lt;GetAll, List&lt;TodoItem&gt;&gt;(new GetAll()); Items = todos.Select(t =&gt; new TodoDto { Id = t.Id, IsComplite = t.IsComplite, Name = t.Name, Created = t.Created }) .ToList(); } }</span></span></code> </pre><br><ol><li> æ”¯æŒSystem.ComponentModel.DataAnnotationsä¸­çš„æ ‡å‡†éªŒè¯å±æ€§ã€‚ å…·ä½“æ¥è¯´ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬æŒ‡ç¤ºæ­¤å­—æ®µæ˜¯å¿…å¡«å­—æ®µï¼Œå¹¶ä¸”å¦‚æœç”¨æˆ·æœªåœ¨è¾“å…¥ä¸­æŒ‡å®šä¸è¯¥å­—æ®µå…³è”çš„å€¼ï¼Œåˆ™å°†æ˜¾ç¤ºè¯¥æ–‡æœ¬ã€‚ </li><li> ä½¿ç”¨å‚æ•°å¤„ç†äº‹ä»¶çš„æ–¹æ³•ã€‚ æ­¤æ–¹æ³•å°†å¤„ç†å­ç»„ä»¶ä¸­çš„äº‹ä»¶ã€‚ </li><li> æˆ‘ä»¬å°†å‚æ•°è½¬æ¢ä¸ºæˆ‘ä»¬åœ¨å­ç»„ä»¶ä¸­åˆ›å»ºçš„ç±»å‹ </li></ol><br>  Todo.razorï¼š <br><br><pre> <code class="cs hljs">@layout MainLayout @page <span class="hljs-string"><span class="hljs-string">"/todo"</span></span> @inherits BlazorApp.Client.Presentation.TodoViewModel &lt;h3&gt;Todo&lt;/h3&gt; &lt;h4&gt;&lt;/h4&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"row"</span></span>&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"col"</span></span>&gt; @<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Items == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { &lt;p&gt;&lt;em&gt;...&lt;/em&gt;&lt;/p&gt; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Items.Count == <span class="hljs-number"><span class="hljs-number">0</span></span>) { &lt;p&gt;&lt;em&gt;   .    .&lt;/em&gt;&lt;/p&gt; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">//1) &lt;TodoTableComponent Items=@Items OnClick=@Select Current=@(Selected?.Id??Guid.Empty)&gt;&lt;/TodoTableComponent&gt; } &lt;/div&gt; &lt;/div&gt; &lt;br /&gt; &lt;h4&gt; Todo&lt;/h4&gt; &lt;div class="row"&gt; &lt;div class="col"&gt; @if (Items != null) { //2) &lt;EditForm name="addForm" Model=@this OnValidSubmit=@Create&gt; //3) &lt;DataAnnotationsValidator /&gt; //4) &lt;ValidationSummary /&gt; &lt;div class="form-group"&gt; //5) &lt;InputText @bind-Value=@NewTodo /&gt; //6) &lt;ValidationMessage For="@(() =&gt; this. NewTodo)" /&gt; //7) &lt;button type="submit" class="btn btn-primary"&gt;&lt;/button&gt; &lt;/div&gt; &lt;/EditForm&gt; } &lt;/div&gt; &lt;/div&gt; &lt;br /&gt; &lt;h4&gt; Todo&lt;/h4&gt; &lt;div class="row"&gt; &lt;div class="col"&gt; @if (Items != null) { @if (Selected != null) { &lt;EditForm name="editForm" Model=@Selected OnValidSubmit=@Update&gt; &lt;DataAnnotationsValidator /&gt; &lt;ValidationSummary /&gt; &lt;div class="form-group"&gt; &lt;InputCheckbox @bind-Value=@Selected.IsComplite /&gt; &lt;InputText @bind-Value=@Selected.Name /&gt; &lt;button type="submit" class="btn btn-primary"&gt;&lt;/button&gt; &lt;button type="reset" class="btn btn-warning" @onclick=@CanselEdit&gt;&lt;/button&gt; &lt;/div&gt; &lt;/EditForm&gt; } else { &lt;p&gt;&lt;em&gt;     &lt;/em&gt;&lt;/p&gt; } } &lt;/div&gt; &lt;/div&gt;</span></span></code> </pre><br><ol><li> æˆ‘ä»¬è°ƒç”¨å­ç»„ä»¶å¹¶å°†å…¶VMçš„å±æ€§å’Œæ–¹æ³•ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒã€‚ </li><li> å¸¦æœ‰æ•°æ®éªŒè¯åŠŸèƒ½çš„å†…ç½®è¡¨å•ç»„ä»¶ã€‚ æˆ‘ä»¬åœ¨å…¶ä¸­æŒ‡å‡ºï¼Œä½œä¸ºæ¨¡å‹ï¼Œä»–å°†ä½¿ç”¨æˆ‘ä»¬çš„VMï¼Œå¹¶åœ¨å‘é€æœ‰æ•ˆæ•°æ®æ—¶å°†è°ƒç”¨å…¶Createï¼ˆï¼‰æ–¹æ³• </li><li> å°†ä½¿ç”¨[Requared]ç­‰æ¨¡å‹å±æ€§æ‰§è¡ŒéªŒè¯ã€‚ </li><li> åœ¨è¿™é‡Œï¼Œæˆ‘å°†æ˜¾ç¤ºéªŒè¯çš„ä¸€èˆ¬é”™è¯¯ </li><li> å°†åˆ›å»ºå¸¦æœ‰éªŒè¯çš„è¾“å…¥ã€‚ å¯èƒ½çš„æ ‡ç­¾åˆ—è¡¨ä¸ºInputTextï¼ŒInputTextAreaï¼ŒInputSelectï¼ŒInputNumberï¼ŒInputCheckboxï¼ŒInputDate </li><li> å…¬å…±å­—ç¬¦ä¸²å±æ€§NewTodo {get; set;}çš„éªŒè¯é”™è¯¯å°†åœ¨æ­¤å¤„æ˜¾ç¤º </li><li> å½“æ‚¨å•å‡»æ­¤æŒ‰é’®æ—¶ï¼Œå°†å¼•å‘æˆ‘ä»¬è¡¨å•çš„OnValidSubmitäº‹ä»¶ </li></ol><br><h3>  Startup.csæ–‡ä»¶ </h3><br> åœ¨è¿™é‡Œæˆ‘ä»¬æ³¨å†Œæˆ‘ä»¬çš„æœåŠ¡ <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Startup</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConfigureServices</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IServiceCollection services</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// LocalStorage  SessionStorage       //    //     Nuget  Blazor.Extensions.Storage services.AddStorage(); services.AddSingleton&lt;ITodoRepository, TodoRepository&gt;(); services.AddSingleton&lt;ICommandDispatcher, CommandDispatcher&gt;(); services.AddSingleton&lt;IQueryDispatcher, QueryDispatcher&gt;(); services.AddSingleton&lt;IQueryHandler&lt;GetAll, List&lt;TodoItem&gt;&gt;, GetAllHandler&gt;(); services.AddSingleton&lt;IQueryHandler&lt;GetById, TodoItem&gt;, GetByIdHandler&gt;(); services.AddSingleton&lt;ICommandHandler&lt;Add&gt;, AddHandler&gt;(); services.AddSingleton&lt;ICommandHandler&lt;Remove&gt;, RemoveHandler&gt;(); services.AddSingleton&lt;ICommandHandler&lt;Update&gt;, UpdateHandler&gt;(); } public void Configure(IComponentsApplicationBuilder app) { //       App.razor //        &lt;app&gt;&lt;/app&gt; app.AddComponent&lt;App&gt;("app"); } }</span></span></code> </pre><br><h2> ç»“è¯­ </h2><br> å†™è¿™ç¯‡æ–‡ç« æ˜¯ä¸ºäº†èƒƒå£ï¼Œå¹¶é¼“åŠ±è¿›ä¸€æ­¥ç ”ç©¶Blazorã€‚ æˆ‘å¸Œæœ›æˆ‘å®ç°äº†æˆ‘çš„ç›®æ ‡ã€‚ å¥½å§ï¼Œä¸ºäº†æ›´å¥½åœ°ç ”ç©¶å®ƒï¼Œæˆ‘å»ºè®®é˜…è¯»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Microsoft</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®˜æ–¹æ‰‹å†Œ</a> ã€‚ <br><br><h2> è‡´è°¢ </h2><br> æ„Ÿè°¢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">AndreyNikolin</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">win32nipuh</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">SemenPV</a>åœ¨æ–‡æœ¬ä¸­å‘ç°çš„æ‹¼å†™å’Œè¯­æ³•é”™è¯¯ã€‚ </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN463197/">https://habr.com/ru/post/zh-CN463197/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN463183/index.html">åŸ¹è®­Cisco 200-125 CCNA v3.0ã€‚ ç¬¬13å¤©ã€‚é…ç½®VLAN</a></li>
<li><a href="../zh-CN463185/index.html">ç»åˆ©ç»´äºšåœ°éœ‡å¦‚ä½•åœ¨åœ°ä¸‹660å…¬é‡Œçš„æ·±åº¦å‘ç°å±±è„‰</a></li>
<li><a href="../zh-CN463189/index.html">å…³äºäº’è”ç½‘ä¸Šçš„åŒ¿åæ€§ï¼Œç”Ÿæ´»åŠå…¶ç›¸å¯¹æ€§</a></li>
<li><a href="../zh-CN463193/index.html">ä½¿ç”¨éè´ŸçŸ©é˜µåˆ†è§£å°†é»‘ç™½å›¾åƒè½¬æ¢ä¸ºASCIIå›¾å½¢</a></li>
<li><a href="../zh-CN463195/index.html">Tele2 Internetå‘ç”Ÿäº†ä»€ä¹ˆ</a></li>
<li><a href="../zh-CN463203/index.html">æ—¶é—´çš„æ²‰é‡è´Ÿæ‹…ã€‚ YandexæŠ¥å‘Šäº†ä¸å·¥ä½œæœ‰å…³çš„å¸¸è§é”™è¯¯</a></li>
<li><a href="../zh-CN463205/index.html">æœ€åˆæ— æ³•æ“ä½œï¼šå¦‚ä½•åœ¨Windows 10ä¸Šçš„ç¬”è®°æœ¬ç”µè„‘å’Œ32 GBçš„é©±åŠ¨å™¨ä¸­ç”Ÿå­˜</a></li>
<li><a href="../zh-CN463207/index.html">èŠå¤©æœºå™¨äººå¼€å‘ï¼ˆç”µæŠ¥+ YouTubeï¼‰</a></li>
<li><a href="../zh-CN463213/index.html">å¯¹Cï¼ƒæ–°æ‰‹å¼€å‘äººå‘˜çš„è¯¯è§£ã€‚ è¯•å›¾å›ç­”æ ‡å‡†é—®é¢˜</a></li>
<li><a href="../zh-CN463225/index.html">WiFiä¼ä¸šã€‚ FreeRadius + FreeIPA + Ubiquiti</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>