<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòê ‚è∏Ô∏è üîì Amor para odiar gamedev'a indie üõåüèø ü§òüèø üåâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A hist√≥ria √© sobre como eu decidi come√ßar a desenvolver o jogo sem conhecimento e experi√™ncia nesta √°rea, sem um mecanismo e investimentos. Por que eu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Amor para odiar gamedev'a indie</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485288/"><p>  A hist√≥ria √© sobre como eu decidi come√ßar a desenvolver o jogo sem conhecimento e experi√™ncia nesta √°rea, sem um mecanismo e investimentos.  Por que eu preciso disso?  Por que mais algu√©m?  Sobre fracassos e sucessos, sobre o in√≠cio do cargo de desenvolvimento independente. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bz/ws/bj/bzwsbjf6bk4drammvj83jrnwqbk.png"></div><a name="habracut"></a><br><p>  Ol√° pessoal!  Meu nome √© Roma e, por v√°rios anos, venho desenvolvendo para C / C ++, perdoe-me.  Programar para mim √© um pouco mais do que trabalho.  Da√≠ o desejo de ter qualquer projeto que cres√ßa e, com ele, o meu profissionalismo.  Eu acredito nisso, de qualquer maneira.  Muitas linguagens e tecnologias foram experimentadas, muitas id√©ias e tantas falhas.  Eu acho que algu√©m se reconheceu.  Este post falar√° sobre como iniciar o desenvolvimento de um jogo de computador em C ++ usando o OpenGl.  A seguir, abordaremos o seguinte: </p><br><ol><li>  Dificuldades que surgem na minha frente e abordagens para sua solu√ß√£o. </li><li>  Vis√£o geral de tecnologias usadas e ferramentas de desenvolvimento. </li><li>  Links para recursos usados ‚Äã‚Äãna rede. </li></ol><br><p>  O que n√£o vai mais acontecer: </p><br><ol><li>  Sobre os meandros do desenvolvimento de C ++.  A linguagem ser√° mencionada com esse grau de abstra√ß√£o para que possa ser facilmente substitu√≠da por outra OOP de suporte nativo. </li><li>  Sobre motores prontos e seu uso.  N√£o tenho nada contra, sou at√© a favor.  Mas um post sobre outra coisa. </li><li>  Sobre a imagem magn√≠fica usando os shaders de √∫ltima gera√ß√£o.  At√© agora at√© agora. </li></ol><br><p>  Ent√£o, um post sobre aventureiro e arte.  A abordagem de desenvolvimento descrita no final do post me parece pelo menos n√£o can√¥nica.  No entanto, acho que ele tem o direito de existir.  Se voc√™ leu esse lugar e gosta de desenhar com paus e <del>  vai </del>  improvisado significa, ent√£o voc√™ n√£o ficar√° desapontado. </p><br><h2 id="start-i-proval">  In√≠cio e falha </h2><br><p>  Uma breve revis√£o das ferramentas para o desenvolvimento de um jogo 2D sem nenhum mecanismo mostrou que voc√™ precisa escolher imediatamente uma estrutura para o processamento do mouse, teclado, al√©m de suporte para √°udio e exibi√ß√£o de primitivas gr√°ficas.  A biblioteca SFML foi selecionada.  Demorou cerca de uma semana para se conhecer, algo foi esbo√ßado: tanques dirigiram ao longo de um campo retangular e mataram uns aos outros, foi poss√≠vel construir suas f√°bricas e similares no esp√≠rito do RTS do in√≠cio dos anos 2000.  Parecia mon√≥tono e queria 3D.  Eu sabia menos sobre 3D do que javascript sobre seguran√ßa de tipos.  O Google foi o primeiro a lan√ßar o OpenGl, que est√° fora de moda.  E tamb√©m sobre recomenda√ß√µes para usar o chamado Core Profile deste OpenGl.  Quem sou eu para escrever por m√©todos desatualizados?  Das tentativas de cruzar o Perfil principal com o SFML, verificou-se que o SFML n√£o suporta esse perfil ao mesmo tempo usando seu m√≥dulo gr√°fico.  Foi um forte golpe moral, pois os recursos foram gastos no aprendizado da SFML.  Al√©m disso, nem toda a base de c√≥digo foi abstra√≠da da biblioteca de gr√°ficos. </p><br><h2 id="glfw-i-novaya-nadezhda">  GLFW e a nova esperan√ßa </h2><br><p>  Como o nome da se√ß√£o sugere, o Core Profile OpenGl e o GLFW se d√£o bem.  <a href="https://learnopengl.com/">O principal</a> recurso que eu uso no OpenGl.  Sim, sim, sem uma VPN, provavelmente ela n√£o ser√° aberta, gra√ßas aos defensores do Runet.  <a href="http://ogldev.atspace.co.uk/">Ajudante</a> .  Em uma semana ou duas, elementos geom√©tricos simples com texturas flutuam pela tela.  Mudar para GLFW com SFML ensinar√° algu√©m a valorizar o princ√≠pio de invers√£o de depend√™ncia (D no SOLID).  Como resultado, nasceu </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kq/g8/yg/kqg8ygc7zv5tgxujqf_q8gphqi4.png" width="80%"></div><br><p>  Eu n√£o tinha ilus√µes sobre o lado est√©tico da quest√£o, mas o prot√≥tipo estava vivo.  Sim, ele era feio, mas todo mundo conhece um famoso conto de fadas.  O clima ficou melhor.  Naquela √©poca, a tarefa mais dif√≠cil para mim hoje foi resolvida: criar um modelo com anima√ß√£o.  A tarefa foi dividida em subtarefas: </p><br><ol><li>  Criando anima√ß√µes em um editor, por exemplo, no Blender. </li><li>  Exporte para um formato de suporte a anima√ß√£o, como Collada. </li><li>  Importe em C ++, por exemplo, com a biblioteca Assimp. </li><li>  Projetando classes e sua implementa√ß√£o usando OpenGl. </li></ol><br><p>  Assim, os tanques receberam uma torre rotativa. </p><br><h2 id="kogda-gord-rabotoy-no-stydno-eyo-pokazat">  Se orgulha do trabalho, mas tem vergonha de mostrar </h2><br><p>  Sim, hoje nem todos podem apreciar as abstra√ß√µes lindamente projetadas, <del>  especialmente quando n√£o est√£o </del>  .  Algo era necess√°rio para agradar aos olhos.  Isso era uma esp√©cie de cen√°rio processual.  O gerador √© conhecido por todos, <del>  mas n√£o para mim </del>  <a href="https://en.wikipedia.org/wiki/Perlin_noise">barulho de Perlin</a> .  Verificou-se que existem par√¢metros que requerem sele√ß√£o emp√≠rica.  A recompila√ß√£o √© um golpe para a psique, por isso houve a necessidade de uma GUI para prototipagem.  A pesquisa resultou em uma brilhante biblioteca <a href="https://github.com/ocornut/imgui">ImGui</a> .  Com ele, os par√¢metros num√©ricos, cores, modos de exibi√ß√£o, personaliza√ß√£o s√£o um prazer.  O resultado do gerador resultante </p><br><p><img src="https://habrastorage.org/webt/hm/m7/ba/hmm7ba9w8xzdrsgj8jyaymk9ozm.png" alt="img"></p><br><h2 id="nemnogo-tumana">  Um pouco de nevoeiro </h2><br><p>  O nevoeiro √© exibido em uma determinada altura com uma dada satura√ß√£o em um sombreador de fragmentos usando uma fun√ß√£o empiricamente selecionada.  Se necess√°rio, voc√™ pode adicionar v√°rias camadas de n√©voa com seus pr√≥prios par√¢metros, incluindo cores.  Um exemplo de uma paisagem antes e depois de aplicar uma simula√ß√£o de nevoeiro: </p><br><p><img src="https://habrastorage.org/webt/hm/m7/ba/hmm7ba9w8xzdrsgj8jyaymk9ozm.png" width="49%"><img src="https://habrastorage.org/webt/_h/ya/bo/_hyabod1xa90fq5iwavigkpgpqe.png" width="49%"></p><br><h2 id="tot-moment-kogda-ponadobilis-algoritmy">  O momento em que algoritmos eram necess√°rios </h2><br><p>  Sim, sim.  A segunda vez em 5 anos.  Trata-se de encontrar um caminho entre dois pontos na presen√ßa de obst√°culos, porque as unidades terrestres n√£o podem se mover pelas montanhas!  O algoritmo <a href="https://en.wikipedia.org/wiki/A*_search_algorithm">A *</a> vem em socorro.  O pseudoc√≥digo foi <a href="http://theory.stanford.edu/~amitp/GameProgramming/ImplementationNotes.html">retirado daqui</a> .  A implementa√ß√£o requer cria√ß√£o de perfil e otimiza√ß√£o, assim como muitos outros locais; no entanto, na vers√£o atual, as unidades enfrentam obst√°culos, se o caminho existe.  Em algum lugar naquele momento, a id√©ia do jogo tomou forma. </p><br><h2 id="kosmos-kotoryy-my">  O espa√ßo que somos ... </h2><br><p>  A ideia de trabalho que evoluir√° √© a explora√ß√£o do planeta pelos pioneiros.  Cria√ß√£o de uma bio-, atmosfera- e, finalmente, ecosfera.  Eu darei um exemplo  Inicialmente, a vida s√≥ ser√° poss√≠vel dentro de uma c√∫pula criada artificialmente, dentro da qual ser√° poss√≠vel cultivar seres vivos: plantas, animais.  Eles, por sua vez, afetar√£o a paisagem.  A seguir, √© apresentado um exemplo de uma c√∫pula e a paisagem abaixo dela atrav√©s das itera√ß√µes N e M, N &lt;M. </p><br><p><img src="https://habrastorage.org/webt/mr/ev/q2/mrevq2f8bmwxchm3otwidmga7ng.png" width="32%"><img src="https://habrastorage.org/webt/4k/ht/0c/4kht0ckgrvxcmtfqgmbmiif2yvo.png" width="32%"><img src="https://habrastorage.org/webt/i4/si/p3/i4sip3vflozmew4av1yuq3pzbaq.png" width="32%"></p><br><h2 id="o-merkatore-zemle-i-politike">  Sobre Mercator, Terra e Pol√≠tica </h2><br><p>  Uma paisagem plana j√° √© algo, mas apenas uma das vistas do planeta.  Do meu ponto de vista, √© muito mais atraente olhar para um corpo c√≥smico mais real.  Hora da cartografia! </p><br><p>  Se era imposs√≠vel puxar um ret√¢ngulo sobre uma esfera sem distor√ß√£o, suspeitei, ent√£o o n√∫mero de m√©todos de exibi√ß√£o se tornou uma revela√ß√£o.  A proje√ß√£o mais comum de Mercator tem problemas com a exibi√ß√£o nos p√≥los e distorce bastante as propor√ß√µes ao se afastar do equador.  Tanto √© assim que parece que a Federa√ß√£o Russa √© maior que a √Åfrica e os Estados Unidos - Austr√°lia. </p><br><p>  Como se viu, uma medida de distor√ß√£o tamb√©m pode ser calculada analiticamente.  Grosso modo, um c√≠rculo em um plano se torna uma elipse em uma esfera e vice-versa.  A tarefa foi a seguinte: adicione uma vis√£o de um corpo esf√©rico a uma vis√£o plana.  Da√≠ o problema - que tipo escolher para o principal e qual exibir com distor√ß√£o.  Decidiu-se exibir uma vista plana sem distor√ß√£o como uma vista que permite mais opera√ß√µes, incluindo a sele√ß√£o e movimenta√ß√£o de unidades.  A vis√£o do corpo esf√©rico foi deixada para opera√ß√µes com aeronaves, por exemplo, sat√©lites artificiais.  Como exibi√ß√£o, a <a href="https://en.wikipedia.org/wiki/Gall_stereographic_projection">proje√ß√£o estereogr√°fica de Gall √© usada</a> como um dos compromissos.  As distor√ß√µes foram calculadas usando elipses de distor√ß√£o, elas tamb√©m s√£o a indicatriz de Tisso.  Como resultado, voc√™ pode ver o seguinte: a captura de tela mostra uma vis√£o do planeta como um corpo esf√©rico com duas c√∫pulas, uma das quais alimenta duas fontes de energia, a outra - uma fonte. </p><br><p><img src="https://habrastorage.org/webt/su/dy/q6/sudyq6zoz3cgk6cxxbymdxklqxa.png" alt="img"></p><br><p>  <strong>M√≥dulos de software e ciclo de desenvolvimento</strong> </p><br><p>  A tarefa m√≠nima no est√°gio ‚ÄúDevo come√ßar?‚Äù Foi a seguinte: evoluir de simples para complexa e bonita ao longo do ano.  √â extremamente f√°cil sentir nojo em algumas semanas pelo amor ao projeto.  Eu tenho cinco raz√µes para isso: </p><br><ol><li>  A primeira raz√£o √© o c√≥digo.  Sem suporte para arquitetura e refatora√ß√£o s√£s, na maioria das vezes haver√° uma corre√ß√£o de bug, mas qual √© a alegria? </li><li>  Concentra√ß√£o inadequada em um.  Estar envolvido em um algoritmo de uma hora, uma hora - um modelo no Blender, n√£o consigo atingir o objetivo. </li><li>  Concentra√ß√£o excessiva.  Tendo participado do mecanismo e dos algoritmos por um longo tempo, a imagem n√£o muda e parece que n√£o h√° progresso. </li><li>  Dificuldade em dominar a ferramenta.  A riqueza da interface do Blender ou da API OpenGl inspira respeito, se n√£o medo.  Pode levar v√°rios dias desde o in√≠cio at√© a primeira prova de conceito, que √© um golpe muito moral. </li><li>  Altas expectativas e despreparo para o fracasso.  √Äs vezes, √© dif√≠cil abandonar a abordagem "Projetar, implementar e n√£o retornar" em favor do "Prot√≥tipo / implementa√ß√£o / refinamento de interfaces" </li></ol><br><p>  Sendo um campe√£o do TDD, devo dizer que n√£o vejo a possibilidade de aplic√°-lo com uma porcentagem de P&amp;D.  Ficarei feliz se voc√™, caro leitor, me der motivos para duvidar. </p><br><p>  No momento, destacam-se as seguintes √°reas de desenvolvimento: </p><br><ol><li>  Criando modelos no Blender. </li><li>  Implementa√ß√£o de algoritmos e matem√°tica, por exemplo, A * ou Perlin Noise. </li><li>  Desenvolvimento da parte "engine".  Entende-se, por exemplo, como um gerador de terreno ou a importa√ß√£o de um modelo do Blender. </li><li>  Desenvolvimento de um m√≥dulo respons√°vel pela renderiza√ß√£o. </li><li>  Desenvolvimento da l√≥gica do jogo.  Requer que ela use o mecanismo e o m√≥dulo de renderiza√ß√£o. </li><li>  Refatora√ß√£o </li></ol><br><p>  Os planos incluem a separa√ß√£o dos m√≥dulos 2-5 no n√≠vel da biblioteca, com uma fachada em cada um.  Um dos poss√≠veis motivos: adicionar a funcionalidade de controle da c√¢mera requer a recompila√ß√£o em cascata de uma grande quantidade de c√≥digo-fonte. </p><br><p>  A pr√°tica mostra que ela funciona produtivamente se voc√™ se concentrar em uma √°rea por 5 a 10 horas.  Menos - o foco √© perdido, mais - o olho est√° desfocado. </p><br><p>  Periodicamente, para atingir a meta, vejo que √© poss√≠vel violar algumas regras do desenvolvimento normal, desde que o local da viola√ß√£o seja marcado e o tempo seja alocado para a refatora√ß√£o.  O √∫ltimo acontece a cada 7-10 dias.  Exemplo: criando temporariamente vari√°veis ‚Äã‚Äãglobais.  Eu me livrarei deles passando-os para construtores / m√©todos durante a refatora√ß√£o, o que ajudar√° a distinguir classes com baixa conectividade e alta velocidade.  O que implicar√° uma nova rodada de refatora√ß√£o.  As vantagens desta abordagem: </p><br><ol><li>  Disposi√ß√£o para implementar novas id√©ias.  Rejei√ß√£o do velho. </li><li>  A capacidade de evoluir interfaces. </li></ol><br><p>  Contras: </p><br><ol><li>  A refatora√ß√£o pode estar atrasada. </li><li>  Vejo suporte irreal para testes unit√°rios / simulados. </li><li>  Alguns superam dificuldades no Vim.  Por que o Vim se adiciona contras?  Ent√£o, quais s√£o as vantagens para mim mais. </li></ol><br><h2 id="to-be-continued">  Para ser continuado </h2><br><p>  Obrigado por sua aten√ß√£o ao meu humilde post!  Todo o c√≥digo est√° <a href="https://github.com/ardazishvili/colony">aqui</a> .  Al√©m das tarefas descritas acima, demorou muito tempo para se familiarizar com o Blender, a personaliza√ß√£o do vim e a refatora√ß√£o nele.  Se foi pelo menos um pouco interessante, escreva.  Eu posso cobrir algo com mais detalhes em uma das seguintes postagens.  Um v√≠deo com mais detalhes de implementa√ß√£o est√° <a href="https://www.youtube.com/channel/UCOiOGWCMSnEZTnkkepQVdyA">aqui</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485288/">https://habr.com/ru/post/pt485288/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485274/index.html">Moscow JS Meetup em Raiffeisenbank: continue transmitindo</a></li>
<li><a href="../pt485278/index.html">A m√£o de Deus. Ajuda do cupom</a></li>
<li><a href="../pt485280/index.html">Go Fakedb Emula√ß√£o de banco de dados em testes</a></li>
<li><a href="../pt485284/index.html">Recursos do SPIKE ‚Ñ¢ Prime LEGO¬Æ Education</a></li>
<li><a href="../pt485286/index.html">Como pesamos mercadorias ou um pequeno ode de automa√ß√£o</a></li>
<li><a href="../pt485290/index.html">Guia simples de destila√ß√£o BERT</a></li>
<li><a href="../pt485294/index.html">Curso moderno sobre Node.js em 2020</a></li>
<li><a href="../pt485298/index.html">O misterioso programa LyX. Parte 4</a></li>
<li><a href="../pt485300/index.html">Novo surto de worms H2Miner que explora Redis RCE foi descoberto</a></li>
<li><a href="../pt485304/index.html">Alguns truques do elemento iframe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>