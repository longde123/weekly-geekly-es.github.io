<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☎️ 💳 🙂 Opsi jam tangan DIY saya dengan klien NTP 💚 👘 🖖🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Karena dalam publikasi sebelumnya tidak pernah sampai ke produk jadi, saya mengusulkan versi saya sendiri. Besi bukan spesialisasi saya, jadi tolong j...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Opsi jam tangan DIY saya dengan klien NTP</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/384127/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Karena dalam publikasi sebelumnya tidak pernah sampai ke produk jadi, saya mengusulkan versi saya sendiri. </font><font style="vertical-align: inherit;">Besi bukan spesialisasi saya, jadi tolong jangan menilai dengan ketat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, dalam urutan. Ketika kecintaan saya pada jam tangan dan waktu yang tepat mencapai tahap akhir, diputuskan untuk membuat mimpi itu menjadi kenyataan. Pencarian dimulai untuk papan pengembangan yang terjangkau dengan Ethernet on board. Rapsberry dengan Linux seperti “gun on sparrows”, jadi saya mengajukan pertanyaan di forum Netduino, karena sekarang saya duduk dengan C # dan menarik untuk menjalankan bytecode pada mikrokontroler. Namun sayang, satu-satunya moderator forum, tampaknya, pergi berlibur, dan butuh beberapa minggu untuk menyetujui dan menerbitkan pesan pertama saya. Tidak bagus, tidak bagus ... Papan Arch Pro dan body kit lainnya yang hilang dipesan di aliexpress. Maka itu adalah solusi yang paling terjangkau. Di papan tulis itu sendiri, ada mikrokontroler NXP LPC1768 (inti Cortex-M3), ditambah mikrokontroler LPC11U35 (Cortex-M0) untuk memfasilitasi komunikasi dengan perangkat lunak mereka. Pabrikan itu sendiri menyediakan IDE online,kompilasi juga ada di server mereka, firmware diunduh dan diunduh ke papan sebagai file pada USB flash drive, tidak ada debugger, jadi saya mulai mengembangkan proyek di Keil uVision, versi percobaan, tentu saja. Hanya kabel micro-USB yang diperlukan untuk firmware dan debugging mikrokontroler.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai jam waktu nyata, DS3231 dipilih, yang datang kepada saya dalam bentuk modul siap pakai yang berkomunikasi melalui I2C:</font></font><br>
<br>
<img src="https://habrastorage.org/files/338/b5f/65d/338b5f65d74d494896befe8ed66c1301.jpg" alt="Rtc"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk beberapa alasan, modul misterius hanya bekerja ketika penganalisa logika terhubung dan dihidupkan (saya menggunakan Logic-U ISL dari orang-orang dari Kharkov): </font></font><br>
<br>
<img src="https://habrastorage.org/files/62e/5f4/261/62e5f42614aa43c8bcdd7ac5851d517c.jpg" alt="pengalaman"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seharusnya ada 10K resistor antara garis sinyal dan V +, modul yang dipanggil megaom. </font><font style="vertical-align: inherit;">Apa jenis boneka bukannya rakitan resistor dan LED yang tidak pernah menyala, saya tidak mengerti. </font><font style="vertical-align: inherit;">Resistor yang disolder modul dihidupkan kembali, tetapi ambang pertanian kolektif melewati garis tertentu, sehingga papan dikembangkan sesuai dengan jenis "perisai" Arduino: </font></font><br>
<br>
<img src="https://habrastorage.org/files/5c0/1d7/537/5c01d7537dbf40dda09dcc5ebfb0f5a8.jpg" alt="melindungi"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skema:</font></font><br>
<br>
<img src="https://habrastorage.org/files/431/fe6/8e8/431fe68e8a164561922eb9d8a550162b.PNG" alt="skema"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampilan segmen diambil sebagai indikator - ukuran ini (tinggi 0,8)) hanya dengan LED putih, dari semua dokumentasi di atasnya, Cina hanya menyediakan jip dengan pinout, beberapa karakter yang tidak dapat dibaca harus ditebak dengan metode pengecualian. Pengontrol untuk itu diambil oleh MAX7219 yang terkenal, berkomunikasi dengan SPI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kasus ... Pada liburan Tahun Baru, tentu saja, tidak ada printer 3D atau pemotongan laser. Saya sendiri melihat sebuah kaca plexiglass berukuran 8 mm. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Momen keputusasaan di tahap akhir: </font></font><br>
<br>
<img src="https://habrastorage.org/files/35e/3ff/15e/35e3ff15eec94c61af426f9b67b4a552.jpg" alt="oops"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pandangan produk akhir:</font></font><br>
<br>
<img src="https://habrastorage.org/files/874/01d/b99/87401db995ee4975b06b0cfb6cedc4f1.jpg" alt="akhir"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jam menerima alamat IP melalui DHCP (router mendistribusikannya ke saya). </font><font style="vertical-align: inherit;">Server NTP dipilih secara acak. </font><font style="vertical-align: inherit;">Waktu diminta setiap 25 jam (penyedia saya terputus dari Internet pada waktu yang sama di malam hari, jadi saya tidak ingin masuk ke periode waktu ini). </font><font style="vertical-align: inherit;">Karena undang-undang yang terus berubah dengan zona waktu, saya memutuskan untuk tidak menerapkan transisi ke musim panas dan musim dingin, dua tombol hanya mengurangi atau menambah offset dari UTC satu jam. </font><font style="vertical-align: inherit;">Offset direkam dalam EEPROM mikrokontroler. </font><font style="vertical-align: inherit;">Jam ini juga didukung oleh baterai lithium 3V, sehingga pemadaman listrik dan internet tidak menjadi masalah. </font><font style="vertical-align: inherit;">Empat warna LED di papan digunakan untuk menunjukkan masalah dengan Internet, perangkat keras atau kesalahan dalam runtime. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode sumber untuk firmware di github: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/sapozhnikov/eclock</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id384127/">https://habr.com/ru/post/id384127/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id384115/index.html">Bohlam LED Kuat 12W Gauss</a></li>
<li><a href="../id384117/index.html">Sarung Tangan Bersepeda Zackees Meningkatkan Keamanan Jalan</a></li>
<li><a href="../id384119/index.html">Radiasi rumah tangga lemah</a></li>
<li><a href="../id384121/index.html">Anak-anak tidak boleh diberikan smartphone di bawah 16 tahun, kata psikolog sekolah</a></li>
<li><a href="../id384125/index.html">Penggunaan teknologi aditif dalam produksi produk non-standar yang kompleks</a></li>
<li><a href="../id384129/index.html">Aplikasi yang berguna untuk siswa sekolah menengah dan menengah</a></li>
<li><a href="../id384131/index.html">Helm Rusia VRD realitas virtual</a></li>
<li><a href="../id384133/index.html">Situs web petisi elektronik kepada Presiden Ukraina</a></li>
<li><a href="../id384135/index.html">Pilihan buku dalam genre fantasi klasik dan alternatif</a></li>
<li><a href="../id384137/index.html">Bagaimana otomatisasi membantu meningkatkan efisiensi karyawan dari berbagai kualifikasi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>