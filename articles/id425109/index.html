<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõ¢Ô∏è ‚õëÔ∏è üé∞ Buku ‚ÄúJava in the cloud. Spring Boot, Spring Cloud, Cloud Foundry ¬ª üåØ ü•ñ ‚óΩÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! Buku ini terutama ditujukan untuk pengembang mesin Java dan JVM yang mencari cara untuk membuat perangkat lunak yang lebih baik dalam w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Buku ‚ÄúJava in the cloud. Spring Boot, Spring Cloud, Cloud Foundry ¬ª</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/425109/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/g5/vp/gz/g5vpgzgoyh2hlalmrajcysuwvwo.jpeg" align="left" alt="gambar"></a>  Halo semuanya!  Buku ini terutama ditujukan untuk pengembang mesin Java dan JVM yang mencari cara untuk membuat perangkat lunak yang lebih baik dalam waktu singkat menggunakan Spring Boot, Spring Cloud dan Cloud Foundry.  Itu untuk mereka yang sudah mendengar suara naik sekitar layanan microser.  Anda mungkin sudah menyadari ketinggian apa yang telah diambil Spring Boot, dan Anda terkejut bahwa perusahaan dewasa ini menggunakan platform Cloud Foundry.  Jika demikian, maka buku ini untuk Anda. <br><br><h3>  Kutipan.  3. Gaya konfigurasi aplikasi dua belas faktor </h3><br>  Bab ini akan membahas cara menerapkan konfigurasi aplikasi. <br><a name="habracut"></a><br>  Tentukan sejumlah istilah kosa kata.  Ketika datang ke konfigurasi di Spring, yang sering saya maksud adalah memperkenalkan berbagai implementasi konteks aplikasi, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ApplicationContext</a> , ke lingkungan Spring, yang membantu wadah memahami bagaimana menghubungkan komponen bean.  Konfigurasi ini dapat direpresentasikan sebagai file XML yang harus disajikan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ClassPathXmlApplicationContext</a> , atau kelas Java yang dijelaskan dengan cara yang dapat disediakan untuk objek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AnnotationConfigApplicationContext</a> .  Dan tentu saja, ketika mempelajari opsi terakhir, kita akan merujuk ke <i>konfigurasi Java.</i> <br><br>  Tetapi dalam bab ini, kita akan melihat konfigurasi dalam bentuk yang didefinisikan dalam manifes aplikasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">12-faktor</a> .  Dalam hal ini, ini menyangkut nilai literal yang dapat berubah dari satu lingkungan ke lingkungan lain: kita berbicara tentang kata sandi, port dan nama host, atau tentang flag properti.  Konfigurasi mengabaikan konstanta ajaib yang dibangun ke dalam kode.  Manifes mencakup kriteria yang sangat baik untuk konfigurasi yang benar: dapatkah basis kode aplikasi menjadi sumber terbuka kapan saja tanpa mengungkapkan dan membahayakan kredensial penting?  Konfigurasi semacam ini merujuk secara eksklusif pada nilai-nilai yang bervariasi dari satu lingkungan ke yang lain, dan tidak berlaku, misalnya, untuk menghubungkan kacang Spring atau mengkonfigurasi rute Ruby. <br><br><h3>  Dukungan dalam kerangka Spring </h3><br>  Di Musim Semi, gaya konfigurasi 12-faktor telah didukung sejak munculnya kelas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PropertyPlaceholderConfigurer</a> .  Setelah turunannya didefinisikan, ia menggantikan literal dalam konfigurasi XML dengan nilai yang diekstrak dari file dengan ekstensi .properties.  Di lingkungan Spring, kelas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PropertyPlaceholderConfigurer</a> telah ditawarkan sejak 2003.  Spring 2.5 memperkenalkan dukungan untuk namespace XML, dan pada saat yang sama mendukung substitusi properti di ruang ini.  Ini memungkinkan substitusi dalam konfigurasi XML nilai literal untuk definisi komponen bean dengan nilai yang ditetapkan untuk kunci dalam file properti eksternal (dalam hal ini, dalam file properti simple.properties, yang dapat muncul di jalur kelas atau menjadi eksternal untuk aplikasi). <br><br>  Konfigurasi dalam gaya 12 faktor ditujukan untuk menghilangkan ketidakpercayaan string sihir yang ada, yaitu nilai-nilai seperti alamat database dan akun untuk menghubungkannya, port, dll., Yang dikodekan keras dalam aplikasi yang dikompilasi.  Jika konfigurasi dipindahkan di luar aplikasi, maka dapat diganti tanpa beralih ke rakitan kode baru. <br><br><h3>  Kelas PropertyPlaceholderConfigurer </h3><br>  Mari kita lihat contoh penggunaan kelas PropertyPlaceholderConfigurer, definisi XML komponen Spring bean, dan file dengan ekstensi .properties yang diambil dari batas aplikasi.  Kami hanya perlu mencetak nilai yang tersedia di file properti ini.  Ini akan membantu untuk melakukan kode yang ditunjukkan pada Contoh 3.1. <br><br>  Contoh 3.1  File Properti: some.properties <br><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">configuration</span></span>.projectName=Spring Framework</code> </pre> <br>  Ini adalah class Spring ClassPathXmlApplicationContext, jadi kami menggunakan XML namespace dari konteks Spring dan arahkan ke file some.properties kami.  Kemudian kita menggunakan literal dalam bentuk $ {configuration.projectName} dalam definisi komponen bean, dan Spring akan menggantinya dengan nilai-nilai dari file properti kami selama eksekusi (contoh 3.2). <br><br>  Contoh 3.2.  File pegas konfigurasi XML <br><br><pre> <code class="hljs pgsql">&lt;context:property-placeholder <span class="hljs-keyword"><span class="hljs-keyword">location</span></span>="classpath:some.properties"/&gt; (<span class="hljs-number"><span class="hljs-number">1</span></span>) &lt;bean <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>="classic.Application"&gt; &lt;property <span class="hljs-type"><span class="hljs-type">name</span></span>="configurationProjectName" <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>="${configuration.projectName}"/&gt; &lt;/bean&gt;</code> </pre> <br>  (1) classpath: lokasi yang merujuk ke file di blok kode yang dikompilasi saat ini (.jar, .war, dll.).  Spring mendukung banyak alternatif, termasuk file: dan url :, yang memungkinkan file ada selain dari blok kode. <br><br>  Akhirnya, mari kita lihat bagaimana tampilan kelas Java, berkat yang memungkinkan untuk menyatukan semua ini (Contoh 3.3). <br><br>  Contoh 3.3  Kelas Java yang harus dikonfigurasi dengan nilai properti <br>  paket klasik; <br><br><pre> <code class="hljs actionscript"><span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span></span></span><span class="hljs-meta"> org.apache.commons.logging.LogFactory;</span></span> <span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span></span></span><span class="hljs-meta"> org.springframework.context.support.ClassPathXmlApplicationContext;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> main(String[] args) { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ClassPathXmlApplicationContext(<span class="hljs-string"><span class="hljs-string">"classic.xml"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> setConfigurationProjectName(String pn) { LogFactory.getLog(getClass()).info(<span class="hljs-string"><span class="hljs-string">"the configuration project name is "</span></span> + pn); } }</code> </pre> <br>  Contoh pertama menggunakan format XML konfigurasi Spring bean.  Di Spring 3.0 dan 3.1, situasi untuk pengembang yang menggunakan konfigurasi Java telah meningkat secara signifikan.  Anotasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Nilai</a> dan abstraksi Lingkungan diperkenalkan dalam rilis ini. <br><br><h3>  Lingkungan dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Nilai</a> Abstrak </h3><br>  Abstraksi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lingkungan</a> mewakili, selama pelaksanaan kode, hubungan tidak langsungnya dengan lingkungan di mana ia berjalan, dan memungkinkan aplikasi untuk mengajukan pertanyaan ("Apa garis pemisah adalah garis. Pembatas pada platform ini?") Tentang sifat-sifat lingkungan.  Abstraksi bertindak sebagai pemetaan dari kunci dan nilai.  Dengan mengkonfigurasi PropertySource di Lingkungan, Anda dapat mengonfigurasi dari mana nilai-nilai ini akan dibaca.  Secara default, Spring memuat kunci sistem dan nilai lingkungan, seperti line.separator.  Anda dapat menginstruksikan Spring untuk memuat kunci konfigurasi dari file dalam urutan yang sama yang dapat digunakan dalam rilis sebelumnya dari solusi substitusi properti Spring menggunakan anotasi @PropertySource. <br><br>  Anotasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Nilai</a> menyediakan cara untuk menanamkan nilai lingkungan dalam konstruktor, setter, bidang, dll. Nilai-nilai ini dapat dihitung menggunakan Spring Expression Language atau sintaks substitusi properti asalkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PropertySourcesPlaceholderConfigurer</a> terdaftar, seperti dalam Contoh 3.4. <br><br>  Contoh 3.4.  Daftarkan PropertySourcesPlaceholderConfigurer <br>  paket env; <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.Log; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.LogFactory; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.InitializingBean; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.Autowired; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.Value; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.AnnotationConfigApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.Bean; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.Configuration; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.PropertySource; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.support.PropertySourcesPlaceholderConfigurer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.core.env.Environment; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.PostConstruct; (<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-meta"><span class="hljs-meta">@PropertySource(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"some.properties"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Log log = LogFactory.getLog(getClass()); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> static void main(String[] args) throws Throwable { new AnnotationConfigApplicationContext(Application.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>); } (<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> static PropertySourcesPlaceholderConfigurer pspc() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> new PropertySourcesPlaceholderConfigurer(); } (<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Value(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"</span></span><span class="hljs-subst"><span class="hljs-meta"><span class="hljs-meta-string"><span class="hljs-subst">${configuration.projectName}</span></span></span></span><span class="hljs-meta"><span class="hljs-meta-string">"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String fieldValue; (<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> Application(<span class="hljs-meta"><span class="hljs-meta">@Value(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"</span></span><span class="hljs-subst"><span class="hljs-meta"><span class="hljs-meta-string"><span class="hljs-subst">${configuration.projectName}</span></span></span></span><span class="hljs-meta"><span class="hljs-meta-string">"</span></span></span><span class="hljs-meta">)</span></span> String pn) { log.info(<span class="hljs-string"><span class="hljs-string">"Application constructor: "</span></span> + pn); } (<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Value(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"</span></span><span class="hljs-subst"><span class="hljs-meta"><span class="hljs-meta-string"><span class="hljs-subst">${configuration.projectName}</span></span></span></span><span class="hljs-meta"><span class="hljs-meta-string">"</span></span></span><span class="hljs-meta">)</span></span> void setProjectName(String projectName) { log.info(<span class="hljs-string"><span class="hljs-string">"setProjectName: "</span></span> + projectName); } (<span class="hljs-number"><span class="hljs-number">6</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> void setEnvironment(Environment env) { log.info(<span class="hljs-string"><span class="hljs-string">"setEnvironment: "</span></span> + env.getProperty(<span class="hljs-string"><span class="hljs-string">"configuration.projectName"</span></span>)); } (<span class="hljs-number"><span class="hljs-number">7</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> InitializingBean both(Environment env, <span class="hljs-meta"><span class="hljs-meta">@Value(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"</span></span><span class="hljs-subst"><span class="hljs-meta"><span class="hljs-meta-string"><span class="hljs-subst">${configuration.projectName}</span></span></span></span><span class="hljs-meta"><span class="hljs-meta-string">"</span></span></span><span class="hljs-meta">)</span></span> String projectName) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> () -&gt; { log.info(<span class="hljs-string"><span class="hljs-string">"@Bean with both dependencies (projectName): "</span></span> + projectName); log.info(<span class="hljs-string"><span class="hljs-string">"@Bean with both dependencies (env): "</span></span> + env.getProperty(<span class="hljs-string"><span class="hljs-string">"configuration.projectName"</span></span>)); }; } <span class="hljs-meta"><span class="hljs-meta">@PostConstruct</span></span> void afterPropertiesSet() throws Throwable { log.info(<span class="hljs-string"><span class="hljs-string">"fieldValue: "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fieldValue); } }</code> </pre> <br>  (1) Anotasi @PropertySource adalah singkatan yang mirip dengan placeholder-properti, yang mengatur PropertySource dari file dengan ekstensi .properties. <br><br>  (2) PropertySourcesPlaceholderConfigurer perlu didaftarkan sebagai kacang statis, karena ini merupakan implementasi dari BeanFactoryPostProcessor dan harus dipanggil pada tahap awal dalam siklus hidup inisialisasi pada kacang Spring.  Saat menggunakan komponen kacang dalam konfigurasi Spring XML, nuansa ini tidak terlihat. <br><br>  (3) Anda dapat menghias bidang dengan anotasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Nilai</a> (tapi jangan lakukan ini, jika tidak, kode tidak akan lulus ujian!) ... <br><br>  (4) ... atau anotasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Nilai</a> dapat menghiasi parameter konstruktor ... <br><br>  (5) ... atau gunakan metode instalasi ... <br><br>  (6) ... atau embed objek Lingkungan Pegas dan lakukan resolusi tombol secara manual. <br><br>  (7) Parameter dengan anotasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Nilai</a> juga dapat digunakan dalam penyedia argumen metode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Bean</a> dalam konfigurasi Spring Java. <br><br>  Dalam contoh ini, nilai-nilai dimuat dari file simple.properties, dan kemudian memiliki nilai configuration.projectName, yang disediakan dengan berbagai cara. <br><br><h3>  Profil </h3><br>  Antara lain, abstraksi Lingkungan memperkenalkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">profil</a> .  Ini memungkinkan Anda untuk menetapkan label (profil) untuk mengelompokkan komponen bean.  Profil harus digunakan untuk menggambarkan komponen kacang dan grafik kacang yang bervariasi dari lingkungan ke lingkungan.  Beberapa profil dapat diaktifkan secara bersamaan.  Kacang yang tidak memiliki profil yang ditetapkan padanya selalu diaktifkan.  Kacang yang memiliki profil default diaktifkan hanya jika mereka tidak memiliki profil aktif lainnya.  Atribut profil dapat ditentukan dalam definisi komponen kacang dalam XML atau dalam kelas tag, kelas konfigurasi, komponen kacang individu, atau dalam metode penyedia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Bean</a> menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Profil</a> . <br><br>  Profil memungkinkan Anda untuk menguraikan set komponen kacang yang harus dibuat di satu lingkungan yang agak berbeda dari yang lain.  Dalam profil pengembang pengembangan lokal, misalnya, Anda dapat menggunakan sumber data H2 built-in javax.sql.DataSource, dan kemudian, ketika profil prod aktif, beralih ke sumber data javax.sql.DataSource diperoleh menggunakan pencarian JNDI atau dengan membaca properti dari variabel lingkungan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cloud Foundry</a> .  Dalam kedua kasus, kode Anda akan berfungsi: Anda mendapatkan javax.sql.DataSource, tetapi keputusan tentang contoh khusus mana yang akan digunakan dibuat dengan mengaktifkan satu profil atau beberapa (contoh 3.5). <br><br>  Contoh 3.5  Menunjukkan bahwa kelas-kelas @Configuration dapat memuat berbagai file konfigurasi dan menyediakan kacang yang berbeda berdasarkan <br>  profil aktif <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> profiles; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.Log; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.LogFactory; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.InitializingBean; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.Value; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.support.PropertySourcesPlaceholderConfigurer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.core.env.Environment; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.util.StringUtils; <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Log log = LogFactory.getLog(getClass()); <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> static PropertySourcesPlaceholderConfigurer pspc() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> new PropertySourcesPlaceholderConfigurer(); } (<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-meta"><span class="hljs-meta">@Profile(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"prod"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-meta"><span class="hljs-meta">@PropertySource(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"some-prod.properties"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> static <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProdConfiguration</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> InitializingBean <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> () -&gt; LogFactory.getLog(getClass()).info(<span class="hljs-string"><span class="hljs-string">"prod InitializingBean"</span></span>); } } <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-meta"><span class="hljs-meta">@Profile({ </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"default"</span></span></span><span class="hljs-meta">, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"dev"</span></span></span><span class="hljs-meta"> })</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-meta"><span class="hljs-meta">@PropertySource(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"some.properties"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> static <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DefaultConfiguration</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> InitializingBean <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> () -&gt; LogFactory.getLog(getClass()).info(<span class="hljs-string"><span class="hljs-string">"default InitializingBean"</span></span>); } } (<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> InitializingBean which(Environment e, <span class="hljs-meta"><span class="hljs-meta">@Value(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"</span></span><span class="hljs-subst"><span class="hljs-meta"><span class="hljs-meta-string"><span class="hljs-subst">${configuration.projectName}</span></span></span></span><span class="hljs-meta"><span class="hljs-meta-string">"</span></span></span><span class="hljs-meta">)</span></span> String projectName) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> () -&gt; { log.info(<span class="hljs-string"><span class="hljs-string">"activeProfiles: '"</span></span> + StringUtils.arrayToCommaDelimitedString(e.getActiveProfiles()) + <span class="hljs-string"><span class="hljs-string">"'"</span></span>); log.info(<span class="hljs-string"><span class="hljs-string">"configuration.projectName: "</span></span> + projectName); }; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> static void main(String[] args) { AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(); ac.getEnvironment().setActiveProfiles(<span class="hljs-string"><span class="hljs-string">"dev"</span></span>); (<span class="hljs-number"><span class="hljs-number">4</span></span>) ac.register(Application.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>); ac.refresh(); } }</code> </pre> <br>  (1) Kelas konfigurasi ini dan semua definisi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Bean yang</a> terkandung di dalamnya akan dihitung hanya jika profil prod aktif. <br><br>  (2) Kelas konfigurasi ini dan semua definisi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Bean yang</a> terkandung di dalamnya akan dihitung hanya jika profil dev aktif atau tidak ada profil yang aktif, termasuk dev. <br><br>  (3) Komponen InitializingBean ini hanya merekam profil yang sedang aktif dan memasukkan nilai yang akhirnya dimasukkan ke file properti. <br><br>  (4) Mengaktifkan profil (atau profil) secara pemrograman cukup sederhana. <br><br>  Spring merespons beberapa metode aktivasi profil lainnya menggunakan token spring_profiles_active atau spring.profiles.active.  Profil dapat diatur menggunakan variabel lingkungan (misalnya, SPRING_PROFILES_ACTIVE), properti JVM (‚ÄëDspring.profiles.active = ...), parameter inisialisasi aplikasi servlet, atau secara programatis. <br><br><h3>  Konfigurasi yang bagus </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Spring Boot</a> secara signifikan meningkatkan situasi.  Lingkungan awalnya akan memuat properti secara otomatis dari hierarki lokasi yang telah ditentukan.  Argumen baris perintah menimpa nilai properti yang berasal dari JNDI, yang menggantikan properti yang diperoleh dari System.getProperties (), dll. <br><br>  - Argumen baris perintah. <br>  - Atribut JNDI dari java: comp / env. <br>  - Properti System.getProperties (). <br>  - Variabel lingkungan sistem operasi. <br>  - File properti eksternal dalam sistem file: (config /)? Application. (Yml.properties). <br>  - File properti internal dalam arsip (config /)? Aplikasi. (Yml.properties). <br>  - Anotasi @PropertySource di kelas konfigurasi. <br>  - Sumber properti dari SpringApplication.getDefaultProperties (). <br><br>  Jika <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">profil aktif,</a> data dari file konfigurasi berdasarkan nama profil akan secara otomatis dibaca, misalnya, dari file seperti src / main / resources / application-foo.properties, di mana foo adalah profil saat ini. <br><br>  Jika pustaka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SnakeYAML</a> disebutkan di classpaths, file YAML juga akan secara otomatis dimuat, mengikuti konvensi yang pada dasarnya sama. <br><br><blockquote>  Halaman spesifikasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">YAML</a> menyatakan bahwa "YAML adalah standar yang dapat dibaca manusia untuk membuat serialisasi data untuk semua bahasa pemrograman."  YAML adalah representasi nilai secara hierarkis.  Dalam file biasa dengan ekstensi .properties, hierarki ditunjukkan oleh titik ("."), Dan dalam file YAML, baris baru dan tingkat indentasi tambahan digunakan.  Akan lebih baik untuk menggunakan file-file ini untuk menghindari kebutuhan untuk menentukan akar umum di hadapan pohon konfigurasi yang sangat bercabang. </blockquote><br>  Isi file dengan ekstensi .yml ditunjukkan pada Contoh 3.6. <br><br>  Contoh 3.6  File properti Application.yml.  Data disajikan dalam urutan hierarkis. <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">configuration</span></span>: projectName : Spring Boot management: <span class="hljs-keyword"><span class="hljs-keyword">security</span></span>: enabled: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span></code> </pre> <br>  Selain itu, lingkungan Spring Boot membuatnya lebih mudah untuk mendapatkan hasil yang tepat dalam kasus-kasus umum.  Mengubah argumen -D menjadi variabel lingkungan proses dan java yang tersedia sebagai properti.  Itu bahkan melakukan normalisasi mereka, di mana variabel lingkungan $ CONFIGURATION_PROJECTNAME (PROJECT_NAME CONFIGURATION) atau argumen -D dalam bentuk -Dconfiguration.projectName (configuration.project_name) dibuat tersedia menggunakan konfigurasi.projectName key (konfigurasi.project_name) sama seperti sebelumnya token spring_profiles_active tersedia. <br><br>  Nilai-nilai konfigurasi adalah string, dan jika cukup, mereka dapat menjadi tidak dapat dibaca ketika mencoba memastikan bahwa kunci-kunci semacam itu sendiri tidak menjadi string ajaib dalam kode.  Spring Boot memperkenalkan tipe komponen @ConfigurationProperties.  Saat memberi anotasi pada POJO - Obyek Java Kuno - menggunakan @ConfigurationProperties dan menetapkan awalan, Spring akan berusaha memetakan semua properti yang dimulai dengan awalan ini ke properti POJO.  Dalam contoh di bawah ini, nilai untuk configuration.projectName akan dipetakan ke instance POJO, yang kemudian dapat disuntikkan semua kode dan dereferensi untuk membaca nilai tipe-aman.  Akibatnya, Anda hanya akan memiliki pemetaan dari kunci (String) di satu tempat (Contoh 3.7). <br><br>  Contoh 3.7.  Secara otomatis menyelesaikan properti dari src / main / resources / application.yml <br>  paket boot; <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.Log; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.commons.logging.LogFactory; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.annotation.Autowired; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.SpringApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.autoconfigure.SpringBootApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.context.properties.ConfigurationProperties; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.context.properties.EnableConfigurationProperties; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.stereotype.Component; (<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-meta"><span class="hljs-meta">@EnableConfigurationProperties</span></span> <span class="hljs-meta"><span class="hljs-meta">@SpringBootApplication</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Log log = LogFactory.getLog(getClass()); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ SpringApplication.run(Application.class); } <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Application</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ConfigurationProjectProperties cp)</span></span></span><span class="hljs-function"> </span></span>{ log.info(<span class="hljs-string"><span class="hljs-string">"configurationProjectProperties.projectName = "</span></span> + cp.getProjectName()); } } (<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-meta"><span class="hljs-meta">@ConfigurationProperties</span></span>(<span class="hljs-string"><span class="hljs-string">"configuration"</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConfigurationProjectProperties</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String projectName; (<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getProjectName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> projectName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setProjectName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String projectName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.projectName = projectName; } }</code> </pre> <br>  (1) Anotasi @EnableConfigurationProperties memberitahu Spring untuk memetakan properti ke POJO yang dijelaskan dengan @ConfigurationProperties. <br><br>  (2) Anotasi @ConfigurationProperties menunjukkan Spring bahwa kacang ini harus digunakan sebagai root untuk semua properti yang dimulai dengan konfigurasi., Diikuti oleh token yang memetakan ke properti objek. <br><br>  (3) Bidang projectName pada akhirnya akan memiliki nilai yang ditetapkan untuk kunci properti configuration.projectName. <br><br>  Spring Boot secara aktif menggunakan mekanisme @ConfigurationProperties untuk memberi pengguna kemampuan untuk mengganti komponen dasar sistem.  Anda mungkin memperhatikan bahwa kunci properti memungkinkan Anda untuk membuat perubahan, misalnya, dengan menambahkan org.springframework.boot: ketergantungan spring-boot-starter-actuator ke aplikasi web Spring Boot, dan kemudian mengunjungi halaman <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">127.0.0.1</a> : 8080 / configprops. <br><br><blockquote>  Titik akhir aktuator akan dibahas secara lebih rinci di Bab 13. Mereka dikunci dan memerlukan nama pengguna dan kata sandi standar.  Langkah-langkah keamanan dapat dinonaktifkan (tetapi hanya untuk melihat titik-titik ini) dengan menentukan management.security.enabled = false di file application.properties (atau di application.yml). </blockquote><br>  Anda akan mendapatkan daftar properti konfigurasi yang didukung berdasarkan tipe yang disajikan dalam classpath saat runtime.  Saat jumlah jenis Boot Musim Semi bertambah, properti tambahan akan ditampilkan.  Titik akhir ini juga akan menampilkan properti yang diekspor oleh POJO Anda yang memiliki anotasi @ConfigurationProperties. <br><br><h3>  Konfigurasi Terdaftar Terpusat Menggunakan Server Konfigurasi Cloud Spring </h3><br>  Sejauh ini, semuanya baik-baik saja, tetapi segala sesuatunya harus lebih sukses lagi.  Kami masih belum menjawab pertanyaan tentang kasus penggunaan umum: <br><br><ul><li>  setelah perubahan dibuat pada konfigurasi aplikasi, diperlukan restart; </li><li>  tidak ada keterlacakan: bagaimana cara menentukan perubahan yang dimasukkan ke dalam operasi, dan jika perlu, gulung kembali? </li><li>  konfigurasi didesentralisasi;  tidak segera jelas di mana perubahan harus dilakukan untuk mengubah satu atau aspek lainnya; </li><li>  tidak ada dukungan instalasi untuk pengodean dan pengodean untuk tujuan keamanan. </li></ul><br><h3>  Server Konfigurasi Awan Pegas </h3><br>  Masalah memusatkan konfigurasi dapat diselesaikan dengan menyimpan konfigurasi dalam satu direktori dan mengarahkan semua aplikasi ke dalamnya.  Anda juga dapat menginstal kontrol versi direktori ini menggunakan Git atau Subversion.  Kemudian dukungan yang diperlukan untuk verifikasi dan pendaftaran akan diterima.  Namun dua persyaratan terakhir masih belum terpenuhi, sehingga dibutuhkan sesuatu yang lebih canggih.  Beralih ke server konfigurasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Spring Cloud</a> .  Platform Spring Cloud menawarkan server konfigurasi dan klien untuk server ini. <br><br>  Server Spring Cloud Config adalah REST API yang akan disambungkan klien kami untuk mengambil konfigurasi mereka.  Server juga mengelola repositori konfigurasi kontrol versi.  Dia adalah perantara antara pelanggan kami dan repositori konfigurasi, dan dengan demikian berada dalam posisi yang menguntungkan untuk mengimplementasikan alat keamanan untuk menghubungkan koneksi dari klien ke layanan dan koneksi dari layanan ke repositori konfigurasi dengan kontrol versi.  Klien Spring Cloud Config menyediakan aplikasi klien dengan ruang lingkup baru, penyegaran, yang memungkinkan Anda untuk mengkonfigurasi komponen Spring lagi tanpa harus me-restart aplikasi. <br><br><blockquote>  Teknologi seperti server Spring Cloud Config memainkan peran penting, tetapi memerlukan biaya tambahan.  Idealnya, tanggung jawab ini harus ditransfer ke platform dan diotomatisasi.  Saat menggunakan Cloud Foundry, Anda dapat menemukan layanan Config Server di katalog layanan, yang tindakannya didasarkan pada penggunaan server Spring Cloud Config. </blockquote><br>  Pertimbangkan contoh sederhana.  Pertama, konfigurasikan server Spring Cloud Config.  Salah satu layanan tersebut dapat diakses oleh beberapa aplikasi Spring Boot sekaligus.  Anda harus membuatnya bekerja di suatu tempat dan entah bagaimana.  Maka tetap hanya untuk memberi tahu semua layanan kami tentang di mana menemukan layanan konfigurasi.  Ia bekerja sebagai semacam perantara untuk kunci dan nilai konfigurasi yang dibaca dari penyimpanan Git melalui jaringan atau dari disk.  Tambahkan string org.springframework.cloud: spring-cloud-config-server ke rakitan aplikasi Spring Boot Anda untuk masuk ke server Spring Cloud Config (contoh 3.8). <br><br>  Contoh 3.8.  Untuk menanamkan server konfigurasi dalam perakitan, gunakan anotasi @EnableConfigServer <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> demo; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.SpringApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.autoconfigure.SpringBootApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.cloud.config.server.EnableConfigServer; (<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-meta"><span class="hljs-meta">@SpringBootApplication</span></span> <span class="hljs-meta"><span class="hljs-meta">@EnableConfigServer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ SpringApplication.run(Application.class, args); } }</code> </pre> <br>  (1) Menggunakan anotasi @EnableConfigServer menyebabkan server Spring Cloud Config diinstal. <br><br>  Contoh 3.9 menunjukkan konfigurasi untuk layanan konfigurasi. <br><br>  Contoh 3.9.  Konfigurasi server konfigurasi Src / main / resources / application.yml <br><br>  server.port = 8888 <br>  spring.cloud.config.server.git.uri = \ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/cloud-native-java/config-server-configuration-repository</a> (1) <br><br>  (1) Indikasi repositori Git yang berfungsi yang bersifat lokal atau dapat diakses melalui jaringan (misalnya, di GitHub (https://github.com/)) dan digunakan oleh server Spring Cloud Config. <br><br>  Di sini, layanan konfigurasi Spring Cloud diinstruksikan untuk mencari file konfigurasi untuk masing-masing klien di repositori Git di GitHub.  Kami menunjuk ke repositori ini, tetapi tautan ke GIT URI yang valid akan melakukannya.  Tentu saja, ia bahkan tidak harus mendaftar ke sistem Git, Anda dapat menggunakan Subversion atau bahkan direktori yang tidak dikelola (walaupun kami sangat menyarankan untuk tidak melakukan ini).  Dalam hal ini, URI penyimpanan hardcoded, tetapi tidak ada yang mencegahnya dari argumen -D, dari argumen, atau dari variabel lingkungan. <br><br>  ¬ªInformasi lebih lanjut tentang buku ini dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">situs web penerbit</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Isi</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kutipan</a> <br><br>  20% diskon kupon untuk <b>Java</b> Fermentor - <b>Jawa</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id425109/">https://habr.com/ru/post/id425109/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id425099/index.html">Apa yang saya pahami dan masalah apa yang saya temui saat membuat klon Peretas Berita</a></li>
<li><a href="../id425101/index.html">Docker + Laravel = ‚ù§</a></li>
<li><a href="../id425103/index.html">Hentikan Google Predators Mengejar Anak-Anak Anda</a></li>
<li><a href="../id425105/index.html">Intel ME Manufacturing Mode - ancaman tersembunyi, atau apa yang ada di balik kerentanan CVE-2018-4251 di MacBook</a></li>
<li><a href="../id425107/index.html">Fintech digest: masalah biometrik pada ponsel, penyewaan ponsel Samsung, sekuritas pada blockchain</a></li>
<li><a href="../id425111/index.html">Trik beriklan yang dapat membuat Anda kehilangan uang dan reputasi</a></li>
<li><a href="../id425113/index.html">"Digital tipografi" atau pengalaman saya dalam digitalisasi buku</a></li>
<li><a href="../id425115/index.html">Full-blown DevOps: Tragedi Yunani dalam tiga babak</a></li>
<li><a href="../id425117/index.html">Dua bit per transistor: ROM densitas tinggi dalam chip Intel 8087 floating-point</a></li>
<li><a href="../id425123/index.html">Jantung misterius mesin drum Roland TR-808</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>