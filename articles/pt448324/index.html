<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöø üóØÔ∏è üë∏üèª Criar globos planet√°rios procedimentais üë©üèΩ‚Äçü§ù‚Äçüë©üèº üòæ üéÖüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Distor√ß√£o, ru√≠do cont√≠nuo e como trabalhar com eles. 


 N√≥s geramos um planeta 
 Uma das maneiras mais simples de gerar um planeta √© usar ru√≠do. Se d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Criar globos planet√°rios procedimentais</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448324/">  <em>Distor√ß√£o, ru√≠do cont√≠nuo e como trabalhar com eles.</em> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/400/20a/dde/40020adde06482d85b634f28a2d6e74a.png" alt="imagem"></div><br><h3>  N√≥s geramos um planeta </h3><br>  Uma das maneiras mais simples de gerar um planeta √© usar ru√≠do.  Se decidirmos escolher, ent√£o temos algumas op√ß√µes poss√≠veis.  Vamos olhar para cada um e determinar o melhor: <br><br><ul><li>  <strong>O Perlin Noise</strong> √© a op√ß√£o mais f√°cil.  O ru√≠do Perlin foi desenvolvido por Ken Perlin em 1983, possui algumas desvantagens - artefatos visuais e velocidade na gera√ß√£o de imagens grandes bastante baixas em compara√ß√£o com outras op√ß√µes. </li><li>  <strong>Simplex Noise (Simplex Noise)</strong> - foi desenvolvido por Ken Perlin em 2001 como uma tentativa de eliminar os defeitos do ru√≠do Perlin;  esta √© uma solu√ß√£o muito digna e r√°pida, mas tem uma s√©ria desvantagem: o uso de ru√≠do simplex tridimensional √© protegido por uma patente, o que o torna bastante caro. </li><li>  <strong>Ru√≠do Simplex Aberto</strong> - O <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">KDotJPG</a> foi desenvolvido com um objetivo simples: criar uma vers√£o moderna e gratuita de ru√≠do simplex, relativamente r√°pida e sem distor√ß√£o. </li></ul><br>  Desses tr√™s, eu pessoalmente prefiro o Open Simplex Noise, que uso em meus projetos pessoais.  Vale ressaltar que, na atual implementa√ß√£o do OpenSimplexNoise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">,</a> ser√£o necess√°rios trabalhos adicionais para obter f√°cil acesso a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">balan√ßas, oitavas e geradores</a> .  H√° muita informa√ß√£o na Internet sobre o que cada um desses elementos faz, e eu recomendo que voc√™ o estude.  No entanto, no meu artigo, n√£o vou falar sobre isso. <br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fa6/85f/5bb/fa685f5bb817c45cd368af2aa7c206a0.png"></div><br>  <i>Aqui est√° a apar√™ncia do Open Simplex Noise com 16 oitavas.</i> <br><br><h3>  Ru√≠do cont√≠nuo </h3><br>  O ru√≠do √© intermin√°vel, o que significa que, se apenas criarmos uma tela com uma propor√ß√£o de 2: 1 para obter uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">proje√ß√£o igualmente espa√ßada</a> , ela n√£o ser√° repetida quando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sobreposta na esfera</a> (exprimo gratid√£o a este site incr√≠vel), mas na costura horizontal e nos p√≥los enormes diferen√ßas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/69b/aa7/cce/69baa7ccea9425dfd0f641b2272905f0.png" alt="imagem"></div><br>  <i>Ru√≠do criado sem costuras.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/497/873/4b0/4978734b0a9386c37eecbc9563bf7f96.png" alt="imagem"></div><br>  <i>Observe as enormes costuras que apareceram quando o ru√≠do foi aplicado √† esfera.</i> <br><br>  Existem muitas maneiras de corrigir isso;  Por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">neste excelente post da</a> Red Blob Games <i>[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tradu√ß√£o</a> em Habr√©]</i> , bastava gerar uma ilha usando uma fun√ß√£o que recebe a dist√¢ncia do centro como uma vari√°vel e define a altura 0 nas bordas para minimizar as costuras. <br><br>  No entanto, n√£o √© disso que precisamos.  Queremos gerar um planeta com a possibilidade da exist√™ncia dos p√≥los norte e sul, e para isso precisaremos de c√°lculos matem√°ticos mais complexos. <br><br><h4>  Sobreposi√ß√£o esf√©rica </h4><br>  Um m√©todo que pode gerar planetas esf√©ricos √© converter as coordenadas cartesianas de nossa tela em coordenadas esf√©ricas, gerar ru√≠do com base nessas coordenadas e depois converter o ru√≠do de volta em coordenadas cartesianas e aplic√°-lo √† tela. <br><br>  No entanto, essa implementa√ß√£o tem suas limita√ß√µes, cujas causas s√£o mostradas em um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">post incr√≠vel de Ron Valstar</a> .  Mais importante ainda, as formas dos continentes nesse caso parecem extremamente estranhas e distorcidas e, portanto, n√£o usaremos essa op√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e18/349/329/e18349329ff3a646eba44e82bbde1bb7.png" alt="imagem"></div><br>  <i>Sobreposi√ß√£o de ru√≠do esf√©rico.</i>  <i>Formas e distor√ß√µes estranhas tornam os continentes muito feios.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8df/652/984/8df6529849ed4df493b4243db9ce04a0.png" alt="imagem"></div><br>  <i>Mas pelo menos n√£o h√° mais costuras.</i> <br><br><h4>  Sobreposi√ß√£o c√∫bica </h4><br>  Como resultado, usei o segundo m√©todo, retirado de um post de Ron Valstar e de uma s√©rie de artigos da acko <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Making Worlds</a> .  Eles descrevem a gera√ß√£o de um globo atrav√©s da gera√ß√£o de um cubo e sua "infla√ß√£o", como se fosse um bal√£o, at√© ser um exemplo da forma de uma esfera. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e3/4ce/d5e/0e34ced5eea890cc14d43df596796c08.png"></div><br>  <i>Imagem tirada de acko.net.</i>  <i>Explica o conceito de um mapa c√∫bico de uma maneira simples e visualizada.</i> <br><br>  Agora s√≥ precisamos gerar seis faces, o que √© bastante simples, existem muitas maneiras de fazer isso. <br><br>  No final, decidi criar uma matriz e preench√™-la com dados.  Eu converti as coordenadas 2D da tela nas coordenadas 3D do cubo e, em seguida, geramos ru√≠do para cada uma dessas coordenadas 3D, para que eu as salvasse no valor correspondente das coordenadas 2D. <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//Z STATIC for(int y = 0; y &lt; cubeFaceSize; y++) { for(int x = 0; x &lt; cubeFaceSize * 2; x++) { //Generates FRONT if(x &lt; cubeFaceSize) { cubeMap[cubeFaceSize+x][cubeFaceSize+y] = noise.noise3D(x, y, 0); } //Generates BACK else { cubeMap[cubeFaceSize*3+(x-cubeFaceSize)][cubeFaceSize+y] = noise.noise3D(cubeFaceSize-(x-cubeFaceSize), y, cubeFaceSize); } } } //X STATIC for(int y = 0; y &lt; cubeFaceSize; y++) { for(int x = 0; x &lt; cubeFaceSize * 2; x++) { //Generates LEFT if(x &lt; cubeFaceSize) { cubeMap[x][cubeFaceSize+y] = noise.noise3D(0, y, cubeFaceSize-x); } //Generates RIGHT else { cubeMap[cubeFaceSize*2+(x-cubeFaceSize)][cubeFaceSize+y] = noise.noise3D(cubeFaceSize, y, x-cubeFaceSize); } } } //Y STATIC for(int y = 0; y &lt; cubeFaceSize * 2; y++) { for(int x = 0; x &lt; cubeFaceSize; x++) { //Generates TOP if(y &lt; cubeFaceSize) { cubeMap[cubeFaceSize+x][y] = noise.noise3D(x, 0, cubeFaceSize-y); } //Generates BOTTOM else { cubeMap[cubeFaceSize+x][cubeFaceSize*2+(y-cubeFaceSize)] = noise.noise3D(x, cubeFaceSize, y-cubeFaceSize); } } }</span></span></code> </pre> <br>  Dessa forma, podemos criar um mapa c√∫bico que pode ser facilmente convertido em uma proje√ß√£o igualmente espa√ßada, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">usando o maravilhoso c√≥digo escrito por Bartosz</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/79d/0b4/68a/79d0b468aeb2369d2d1dd7bb36e1b4c9.png" alt="imagem"></div><br>  <i>Algoritmo gerado mapa c√∫bico.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/400/20a/dde/40020adde06482d85b634f28a2d6e74a.png" alt="imagem"></div><br>  <i>Transforma√ß√£o equidistante de um mapa c√∫bico.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c84/c0c/c95/c84c0cc95f5dd011a9db111d1677252b.png" alt="imagem"></div><br>  <i>Um globo c√∫bico do mapa rendido em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">maptoglobe.com</a> .</i> <br><br>  Como voc√™ pode ver, um mapa equidistante tem formas muito mais bonitas e, quando sobreposto a uma esfera, cria resultados semelhantes √† superposi√ß√£o esf√©rica, sem todas as suas desvantagens.  A prop√≥sito, a proje√ß√£o equidistante pode ser facilmente convertida por diferentes programas, por exemplo, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NASA G.Projector</a> , em quase qualquer tipo de cart√£o. <br><br><h2>  Em conclus√£o </h2><br>  Gerar um planeta inteiro pode parecer uma tarefa assustadora, e embora o ru√≠do, quando usado corretamente, seja uma ferramenta bastante poderosa, ele tem seus pr√≥prios problemas que as pessoas enfrentam h√° muitos s√©culos, como sobrepor um globo em uma tela 2D com distor√ß√£o m√≠nima. <br><br>  A solu√ß√£o que propus cria planetas muito gerados que n√£o levam em considera√ß√£o placas tect√¥nicas, rios, cadeias de ilhas e at√© montanhas e, portanto, podem ser usados ‚Äã‚Äãapenas como demonstra√ß√£o ou como base para simula√ß√µes mais complexas. <br><br>  De fato, ele apenas cria uma matriz de valores em um determinado intervalo de valores.  Para imagens em escala de cinza, √© de 0 a 255.  Os valores s√£o ent√£o convertidos em um pixel que cria uma imagem semelhante √† primeira imagem em escala de cinza ou em uma imagem no intervalo de -11000 a 8000 para simular uma diferen√ßa de altura no mundo real, ap√≥s o qual os pixels s√£o coloridos de acordo com os intervalos de altura <em>(por exemplo, valores de 0 5 s√£o coloridas na cor da areia para simular a costa)</em> . <br><br><blockquote>  Na constru√ß√£o do universo, Deus usou a matem√°tica de n√≠vel superior. <br><br>  <i>- Paul Dirac</i> </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt448324/">https://habr.com/ru/post/pt448324/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt448308/index.html">Data Science Digest (abril de 2019)</a></li>
<li><a href="../pt448310/index.html">Escrevendo um bot de telegrama em python usando a parte 1 da biblioteca de telebot</a></li>
<li><a href="../pt448316/index.html">Determinando a ra√ßa de um c√£o: um ciclo completo de desenvolvimento, de uma rede neural em Python a um aplicativo no Google Play</a></li>
<li><a href="../pt448320/index.html">Por que sil√≠cio e por que CMOS?</a></li>
<li><a href="../pt448322/index.html">C ++ R√∫ssia 2019: transmiss√£o gratuita do primeiro sal√£o e um pouco sobre o que ser√° na confer√™ncia</a></li>
<li><a href="../pt448326/index.html">Ver atrav√©s. Como estudar assuntos sem quebr√°-los?</a></li>
<li><a href="../pt448328/index.html">Em Moscou, mostrar√° uma impressora que imprime √≥rg√£os e tecidos</a></li>
<li><a href="../pt448330/index.html">N√∫meros aleat√≥rios e redes descentralizadas: uma aplica√ß√£o pr√°tica</a></li>
<li><a href="../pt448332/index.html">Iniciando adeptos de TI: mostre sua for√ßa em um recife</a></li>
<li><a href="../pt448334/index.html">Quando a produtividade de algu√©m desperta interesse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>