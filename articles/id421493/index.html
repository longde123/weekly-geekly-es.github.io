<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍💻 👐 ✔️ Analisis lalu lintas jaringan aplikasi seluler di iOS. Bagian 1 - proksi 🧝🏼 👩🏿‍🚒 📰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ada situasi ketika, ketika mengembangkan atau menguji aplikasi seluler, menjadi perlu untuk melihat lalu lintas jaringan aplikasi. Masih melihat lalu ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Analisis lalu lintas jaringan aplikasi seluler di iOS. Bagian 1 - proksi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421493/"><p><img src="https://habrastorage.org/webt/o6/nl/fw/o6nlfwhw_nzwxjhjdcbp6htqkf8.jpeg"></p><br><p>  Ada situasi ketika, ketika mengembangkan atau menguji aplikasi seluler, menjadi perlu untuk melihat lalu lintas jaringan aplikasi.  Masih melihat lalu lintas aplikasi seluler dengan menampilkannya di konsol IDE Anda?  Ada alat yang lebih efektif untuk tugas ini, misalnya, proksi.  Pada artikel ini, kami akan menganalisis proksi HTTP (S) yang paling populer, mempelajari cara menggunakannya dalam pengembangan iOS, dan membandingkannya sesuai dengan berbagai kriteria. </p><br><p>  Lebih lanjut kita akan berbicara tentang penggunaan proksi dalam pengembangan iOS, tetapi banyak hal juga berlaku dalam pengembangan Android. </p><br><p>  Perhatian, di bawah banyak gambar yang dipotong. </p><a name="habracut"></a><br><p>  Alat untuk menganalisis lalu lintas jaringan aplikasi seluler dapat dibagi menjadi: </p><br><ol><li>  Tidak memerlukan integrasi ke dalam kode sumber aplikasi yang sedang diuji - proxy: <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mitmproxy</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Charles</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Suite bersendawa</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Owasp zap</a> </li></ul></li><li>  Memerlukan integrasi ke dalam kode sumber aplikasi yang sedang diuji.  Ini termasuk kerangka kerja debugging: <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Wormholy</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Netfox</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dotzu</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lentur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Debugger kuda</a> </li></ul></li></ol><br><p>  Ini adalah bagian pertama dari artikel di mana kami akan mempertimbangkan penggunaan proksi dan membandingkannya sesuai dengan berbagai kriteria.  Di bagian kedua artikel, kita akan membahas kerangka kerja untuk debugging. </p><br><h2 id="mitmproxy">  Mitmproxy </h2><br><p><img src="https://habrastorage.org/webt/6s/x4/yx/6sx4yxmpa89qi5k_dizxgwkwda8.png"></p><br><p>  Mitmproxy adalah sumber bebas dan open source (~ 12.000 bintang di github) HTTP (S) -proxy, yang terdiri dari Mitmproxy sendiri, utilitas konsol untuk proxy lalu lintas, mitmdump, utilitas konsol tambahan yang menyajikan fungsionalitas yang mirip dengan tcpdump, tetapi untuk HTTP (S) lalu lintas, serta mitmweb, antarmuka web untuk Mitmproxy. </p><br><p>  Anda dapat menginstal Mitmproxy menggunakan Homebrew: </p><br><p><code>brew install mitmproxy</code> </p> <br><p>  Atau unduh versi yang diinginkan dari halaman rilis dari situs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">web</a> resmi. </p><br><p>  Setelah instalasi berhasil, untuk menganalisis lalu lintas HTTP dari simulator atau perangkat, Anda perlu menentukan proxy di pengaturan jaringan. </p><br><p>  Untuk simulator, Anda perlu mengaktifkan proksi HTTP dan HTTPS di pengaturan jaringan Mac OS (Preferensi sistem -&gt; Jaringan -&gt; Lanjutan -&gt; Proxy): </p><br><p><img src="https://habrastorage.org/webt/z5/1r/qb/z51rqb8cffwbfj6md_rq_0dvzbo.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Skrip bash</a> kecil untuk aktivasi / penonaktifan cepat proxy dalam pengaturan jaringan untuk Wi-Fi di Mac.  (Setelah kami mendaftarkan IP dan port proxy di pengaturan dan kemudian menggunakan <code>proxy on</code> atau <code>proxy off</code> perintah <code>proxy off</code> dari konsol). </p><br><p>  Untuk mencegat lalu lintas dari perangkat nyata, Anda perlu menentukan proxy di pengaturan jaringan iOS, sedangkan alamat IP komputer yang menjalankan Mitmproxy diatur sebagai alamat IP proxy, dan port 8080. (Alamat IP komputer dapat dilihat di Pengaturan&gt; Jaringan) </p><br><p><img src="https://habrastorage.org/webt/hp/pq/7m/hppq7mqcuffu47f67lqkqmhl04w.png"></p><br><p>  Pada tahap ini, kita sudah dapat mencegat lalu lintas HTTP, tetapi untuk mencegat lalu lintas HTTPS, Anda harus menginstal sertifikat Mitmproxy pada simulator / perangkat. <br>  Untuk melakukan ini, pada simulator, lakukan hal berikut (untuk perangkat nyata, langkah-langkahnya serupa): </p><br><ul><li>  Pastikan Mitmproxy berjalan dan proxy diaktifkan dan terdaftar dalam pengaturan jaringan (untuk simulator - pengaturan macOS, untuk perangkat - pengaturan iOS), seperti dijelaskan di atas.  Sekarang pergi ke browser di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mitm.it</a> dan klik ikon Apple untuk mengunduh sertifikat Mitmproxy.  Lansiran akan muncul dengan pesan bahwa situs web ini mencoba membuka pengaturan iOS: klik Izinkan. </li></ul><br><p><img src="https://habrastorage.org/webt/np/uc/xq/npucxqnvc-k-wporeihhr7gvwvu.png"></p><br><ul><li>  Kemudian instal sertifikat Mitmproxy. </li></ul><br><p><img src="https://habrastorage.org/webt/ll/m5/x9/llm5x9dipaezxkmadswh-d-fz1m.png"></p><br><ul><li>  Dan sentuhan terakhir - untuk iOS versi 10.3 dan lebih tinggi, Anda harus mengaktifkan akses penuh ke sertifikat root Mitmproxy.  Untuk melakukan ini, buka Pengaturan&gt; Umum&gt; Tentang&gt; Pengaturan Kepercayaan Sertifikat dan aktifkan akses penuh untuk sertifikat Mitmproxy. </li></ul><br><p><img src="https://habrastorage.org/webt/t4/bx/pw/t4bxpwt1b4uqhplj8nlaygmv4hi.png"></p><br><p>  Sekarang kita dapat menganalisis lalu lintas HTTPS dari simulator.  Tetap menambahkan klarifikasi kecil: sertifikat dipasang untuk simulator tertentu, yaitu, jika kita melakukannya hanya untuk simulator iPhone X, maka pada simulator iPhone 8 kita perlu melakukan hal yang sama sehingga proxy memotong lalu lintas HTTPS.  Untuk mencegat lalu lintas HTTPS dari perangkat nyata, semua langkahnya serupa, yang utama adalah bahwa itu terhubung ke jaringan lokal yang sama dengan komputer dengan Mitmproxy. </p><br><p>  Setelah itu, Anda dapat menjalankan mitmproxy dari konsol <del>  dan merasa seperti seorang hacker </del>  atau klien web mitmweb. </p><br><p>  Klien konsol bertemu kami dengan antarmuka tabung (untuk pecinta GUI bahkan ada dukungan mouse), di mana semua permintaan dicegat ditampilkan. </p><br><p><img src="https://habrastorage.org/webt/ev/9w/al/ev9walbksj5rs9-xyfgro7c-irw.png"></p><br><p>  Anda dapat melihat informasi terperinci untuk setiap permintaan (parameter permintaan, tajuk, respons, dll.) </p><br><p><img src="https://habrastorage.org/webt/4g/xe/nd/4gxendtfo1pmlrbyesmjwkkck5a.png"></p><br><p>  Mitmproxy memiliki sistem penyaringan query yang kuat dengan dukungan untuk ekspresi reguler.  Anda dapat memfilter permintaan berdasarkan kode, badan permintaan / respons, tajuk, domain, dll.  Panggil bantuan pada pintasan yang tersedia dan filter ekspresi dengan mengklik <code>?</code>  .  Misalnya, untuk menghapus daftar kueri untuk sesi saat ini, Anda cukup menekan <code>z</code> , dan untuk memfilter daftar kueri dengan URL di mana ada kata "apel" yang Anda perlu tekan <code>f</code> dan tulis ekspresi filter dengan URL <code>~u apple</code> , yang mengambil ekspresi reguler. </p><br><p><img src="https://habrastorage.org/webt/rx/ta/xl/rxtaxlzj7_0g8ulpleurl9jdgma.png"></p><br><p>  Penggemar Vim juga akan senang dengan dukungan hjkl.  Kami hampir lupa tentang <code>q</code> cara pintas yang sangat penting - ini berfungsi seperti tombol "kembali" ketika bergerak di antara layar, dan di layar utama dengan daftar pertanyaan ketika Anda mengklik pintasan ini, Mitmproxy akan menawarkan untuk keluar dari program. <br>  Meskipun antarmuka konsol, menggunakan Mitmproxy adalah kesenangan berkat cara pintas yang nyaman dan kontrol intuitif yang sederhana.  Di bawah ini adalah meja kecil dengan pintasan utama. </p><br><table><thead><tr><th>  Jalan pintas </th><th>  Deskripsi </th></tr></thead><tbody><tr><td>  ? </td><td>  Bantuan </td></tr><tr><td>  z </td><td>  Hapus daftar sesi saat ini </td></tr><tr><td>  f </td><td>  Penyaringan Sesi </td></tr><tr><td>  q </td><td>  Kembali (keluar di layar utama) </td></tr><tr><td>  d </td><td>  Hapus permintaan dari daftar sesi </td></tr><tr><td>  r </td><td>  Ulangi permintaan </td></tr><tr><td>  e </td><td>  Simpan permintaan ke file </td></tr><tr><td>  g </td><td>  Daftar Sesi Teratas </td></tr><tr><td>  G </td><td>  Di akhir daftar sesi </td></tr></tbody></table><br><p>  Jika Anda masih merupakan lawan yang gigih dari konsol dan hanya mengenali aplikasi GUI, maka mitmweb sedang terburu-buru untuk membantu kami, kami akan meluncurkannya untuk sementara waktu juga dari konsol, kemudian kita dapat membuat jalan pintas ke desktop. </p><br><p><img src="https://habrastorage.org/webt/ez/wd/s1/ezwds15jyp-by5b3ic_d-hbo_3g.png"></p><br><p>  Klien web masih dalam pengujian beta dan hanya berisi fungsionalitas mitmproxy dasar (cukup untuk 95% tugas), yang secara bertahap dilengkapi dengan fitur-fitur baru pada setiap rilis baru, tetapi meskipun demikian, sekarang dapat digunakan dan sangat nyaman.  Beberapa pintasan dari versi konsol juga berfungsi di sini, misalnya, untuk menghapus daftar permintaan untuk sesi saat ini, cukup tekan <code>z</code> .  Anda juga dapat memfilter permintaan yang dicegat melalui bidang "Cari", seperti yang kami lakukan di aplikasi konsol saat kami menerapkan filter <code>~u apple</code> . </p><br><p><img src="https://habrastorage.org/webt/sr/4z/nt/sr4zntpy7kccnhr_-thxh4-t_uy.png"></p><br><p>  Mitmproxy mengklaim dukungan untuk standar Websocket, tetapi sayangnya tampilan frame Websocket di UI belum diimplementasikan dan, menurut pengembang, fungsionalitas Websocket hanya tersedia untuk utilitas mitmdump. </p><br><h2 id="charles">  Charles </h2><br><p><img src="https://habrastorage.org/webt/w0/hu/hq/w0huhqhik2xqsosv682wnqzdski.png"></p><br><p>  Charles mungkin merupakan proxy HTTP (S) paling populer untuk MacOS, satu-satunya kekurangannya adalah bahwa ia dibayar, pada saat penulisan, lisensi harganya $ 50.  Namun, ada versi uji coba - ini berfungsi selama 30 menit, maka aplikasi harus di-restart, dan seluruh riwayat kueri hilang.  Ada juga penundaan startup lima detik. </p><br><p>  Setelah instalasi dan mulai pertama, Charles akan meminta Anda untuk memberikan akses untuk secara otomatis mengkonfigurasi proxy sistem, pilih "Berikan privelegies", atau ubah pengaturan proxy sistem setiap kali secara manual.  Dengan demikian, Charles akan mengubah dan mengaktifkan sendiri pengaturan proxy sistem ketika sedang berjalan - ini nyaman ketika debugging pada simulator, tetapi pada perangkat nyata Anda harus secara manual mengatur pengaturan server proxy untuk jaringan, karena server proxy menentukan alamat IP dari komputer yang menjalankan Charles, sebagai port - 8888. </p><br><p>  Pada tahap ini, kita hanya dapat melihat lalu lintas HTTP, untuk menganalisis lalu lintas HTTPS dari simulator atau perangkat nyata, kita perlu menginstal sertifikat Charles di atasnya, prosedurnya mirip dengan memasang sertifikat Mitmproxy.  Pastikan proxy berjalan dan diaktifkan di pengaturan jaringan iOS (untuk perangkat nyata) atau dalam pengaturan jaringan macOS (untuk simulator).  Kemudian kita akan pergi ke simulator / perangkat di browser di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">chls.pro/ssl</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">peringatan</a> akan muncul dengan pesan bahwa situs web ini mencoba membuka pengaturan iOS: pilih Allow.  Selanjutnya, pilih Instal untuk menginstal sertifikat.  Setelah menginstal sertifikat untuk iOS versi 10.3 dan lebih tinggi, Anda harus mengaktifkan akses penuh ke sertifikat root Charles.  Untuk melakukan ini, buka Pengaturan&gt; Umum&gt; Tentang&gt; Pengaturan Kepercayaan Sertifikat dan aktifkan akses penuh untuk sertifikat Charles. </p><br><p><img src="https://habrastorage.org/webt/ue/vs/kw/uevskwgkqccit0f8xylhu5c9di8.png"></p><br><p>  Terakhir, Anda perlu mengkonfigurasi proxy proxy di Charles, secara default tidak mendekripsi lalu lintas HTTPS, bahkan jika Anda telah menginstal semua sertifikat yang diperlukan.  Untuk mengaktifkan proxy SSL, buka Proxy&gt; SSL Proxying Setings dan aktifkan SSL Proxying, jika dinonaktifkan, maka kami memiliki dua opsi - mengaktifkan proxy proxy untuk semua domain atau hanya untuk yang spesifik.  Untuk mengaktifkan proxy SSL untuk semua domain, Anda perlu menambahkan lokasi wildcard: klik tombol Tambah dan tentukan <code>*</code> di semua bidang, sehingga pengaturan SSL akan terlihat seperti ini. </p><br><p><img src="https://habrastorage.org/webt/oz/pm/0-/ozpm0-3wqfnzy7pdrntt0_zud7g.png"></p><br><p>  Untuk mengaktifkan proksi SSl hanya untuk domain tertentu, Anda perlu menambahkannya ke daftar dan memastikan bahwa lokasi wildcard dinonaktifkan.  Dalam hal ini, Charles masih akan mencegat semua lalu lintas, tetapi permintaan HTTPS untuk domain yang tidak ada dalam daftar tidak akan didekripsi. </p><br><p>  Saat menggunakan Charles, akan lebih mudah untuk menggunakan filter intersepsi lalu lintas, yang dapat dikonfigurasikan di menu Proxy&gt; Recording Settings: Anda dapat menentukan protokol, URL, port. </p><br><p><img src="https://habrastorage.org/webt/tn/0g/u1/tn0gu1oxzekxkhhiu1dvjryfsb0.png"></p><br><p>  Sekarang kami memiliki kemampuan untuk melihat lalu lintas HTTPS. </p><br><p><img src="https://habrastorage.org/webt/id/4e/7m/id4e7mvkrp3jhioecejc4fpeb0w.png"></p><br><p>  Charles juga mendukung protokol Websocket dan menampilkan pesan dengan gaya iMessage, itu terlihat nyaman. </p><br><p><img src="https://habrastorage.org/webt/na/zj/2d/nazj2depjv-5syvqdksal4o-w70.png"></p><br><p>  Proksi jenis pertama dari Charles untuk iOS pantas disebutkan secara khusus - versi mobile dari Charles, label harga di App Store pada saat penulisan adalah $ 9.  Aplikasi ini berisi fungsionalitas dasar dari versi desktop: proxy lalu lintas HTTP (S), melihat konten permintaan / tanggapan dan pengaturan otomatis nyaman pengaturan proxy untuk jaringan Wi-Fi. </p><br><p><img src="https://habrastorage.org/webt/f5/fj/pf/f5fjpfgfyd7egnkrxaft3q1bfbg.png"></p><br><h2 id="burp-suite-community-edition">  Burp Suite (Edisi Komunitas) </h2><br><p><img src="https://habrastorage.org/webt/oc/5v/ee/oc5veeejxf4avf8cqxx76rduzxc.jpeg"></p><br><p>  Burp Suite adalah pisau pentester dan peretas Swiss, berisi sejumlah alat dan fungsi yang tidak senonoh.  Salah satu modul di Burp Suite adalah proxy, yang akan kita gunakan untuk menganalisis lalu lintas HTTP (S).  Ada dua versi aplikasi: Edisi Profesional dan Komunitas.  Versi komunitas gratis, tidak memiliki pemindai kerentanan dan ada batasan jumlah permintaan per unit waktu, tetapi meskipun demikian, versi gratis aplikasi adalah alat pengujian yang lengkap. </p><br><p>  Setelah memulai aplikasi, Anda perlu menambah dan mengaktifkan proxy dengan masuk ke Proxy&gt; Opsi. </p><br><p><img src="https://habrastorage.org/webt/4b/du/pa/4bdupa1_viddbv4whpishs0tbdy.png"></p><br><p>  Kemudian Anda perlu memastikan bahwa interseptor permintaan Intercept dimatikan, jika tidak maka akan mencegat permintaan dan menahan mereka sampai Anda mengatakan kepadanya apa yang harus dilakukan dengan permintaan ini - batalkan atau teruskan ke server.  Karena itu, matikan, sekarang kita tidak membutuhkannya. </p><br><p><img src="https://habrastorage.org/webt/p9/5w/i5/p95wi5sujsos-mmqxniwkliohsq.png"></p><br><p>  Selanjutnya, Anda perlu menginstal sertifikat Burp Suite pada simulator / perangkat, prosedur ini seharusnya sudah akrab bagi kita setelah menginstal sertifikat Mitmproxy dan Charles.  Kami meluncurkan Burp Suite, dan jangan lupa untuk mengaktifkan proksi di pengaturan jaringan MacOS untuk simulator atau di iOS untuk perangkat asli (lihat bagian Mitmproxy bagaimana melakukannya), tentukan alamat IP komputer yang menjalankan Burp Suite sebagai server proxy, sebagai port - 8080. Kemudian kita pergi ke browser pada simulator dan masukkan alamat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">http: // sendawa</a> .  Selanjutnya, klik tombol di situs "CA Certificate" dan unduh sertifikat. </p><br><p><img src="https://habrastorage.org/webt/ks/28/fc/ks28fcpuxf8iig_uaqfzg0ojboe.png"></p><br><p>  Kemudian instal sertifikat.  Setelah menginstal sertifikat untuk iOS versi 10.3 dan lebih tinggi, Anda harus mengaktifkan akses penuh ke sertifikat root Burp Suite.  Untuk melakukan ini, buka Pengaturan&gt; Umum&gt; Tentang&gt; Pengaturan Kepercayaan Sertifikat dan aktifkan akses penuh untuk sertifikat Burp Suite. </p><br><p><img src="https://habrastorage.org/webt/v6/on/pc/v6onpcizqsfe13g508btt_dofhm.png"></p><br><p>  Dengan membuka Proxy -&gt; tab HTTP history, Anda dapat melihat lalu lintas HTTP (S) dari aplikasi seluler.  Perlu dicatat bahwa downside di sini adalah kurangnya format JSON di tubuh permintaan / respons. </p><br><p><img src="https://habrastorage.org/webt/-s/dw/qa/-sdwqaag2hg3vl18quhyj5t_rks.png"></p><br><p>  Masalah dengan pemformatan JSON dapat diselesaikan dengan menginstal plugin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">JSON Beautifier</a> .  Untuk menginstal, buka tab Extender&gt; BApp Store, temukan JSON Beautifier dalam daftar plugins dan klik install. </p><br><p><img src="https://habrastorage.org/webt/yy/qy/j9/yyqyj9k2xw5lw_iicucpmkl5mkq.png"></p><br><p>  Sekarang ada tab JSON Beautifier tambahan dengan JSON yang indah. </p><br><p><img src="https://habrastorage.org/webt/ov/ef/-d/ovef-dcb03s1alol8ftnuxk8gio.png"></p><br><p>  Burp Suite mendukung protokol Websocket.  Pesan websocket dapat ditemukan di tab khusus Proxy&gt; WebSockets history. </p><br><p><img src="https://habrastorage.org/webt/f3/dd/f6/f3ddf6qoeyyrvhl4africgba3dq.png"></p><br><h2 id="owasp-zap">  OWASP ZAP </h2><br><p><img src="https://habrastorage.org/webt/qk/er/of/qkerofsyh6pdb3tvzo7i5kvnz0m.jpeg"></p><br><p>  Owasp ZAP adalah gagasan dari komunitas keamanan siber dunia yang terkenal di dunia, di samping itu, proksi adalah open source.  Owasp ZAP sering dibandingkan dengan Burp Suite, tetapi yang terakhir lebih rendah popularitasnya.  Owasp ZAP sepenuhnya gratis, tidak ada versi PRO dibandingkan dengan Burp Suite. </p><br><p>  Setelah memulai aplikasi, Anda perlu memeriksa pengaturan proxy Preferensi&gt; Proxy Lokal, pengaturan default akan terlihat seperti ini. </p><br><p><img src="https://habrastorage.org/webt/zf/fw/2m/zffw2mzk8ut9ewbx97lowp4rzky.png"></p><br><p>  Lalu pergi ke Preferensi&gt; Sertifikat SSL Dinamis untuk mengekspor sertifikat SSL.  Klik tombol Simpan dan simpan sertifikat, misalnya, ke desktop. </p><br><p><img src="https://habrastorage.org/webt/fu/jx/xj/fujxxj5oamjqkvitcmsykkxy8oy.png"></p><br><p>  Selanjutnya, cukup seret file sertifikat ke dalam simulator dan sebuah jendela membuka penawaran untuk menginstal sertifikat, kami setuju dan menginstal.  Setelah menginstal sertifikat untuk iOS versi 10.3 dan lebih tinggi, Anda harus mengaktifkan akses penuh ke sertifikat root OWASP ZAP.  Untuk melakukan ini, buka Pengaturan&gt; Umum&gt; Tentang&gt; Pengaturan Kepercayaan Sertifikat dan aktifkan akses penuh untuk sertifikat ZAP OWASP. </p><br><p><img src="https://habrastorage.org/webt/4v/zv/eh/4vzveheku3uhmvagodbkewduifg.png"></p><br><p>  Sekarang kami memiliki kemampuan untuk melihat lalu lintas HTTPS.  JSON, sayangnya, tidak memiliki pemformatan yang indah di sini dan sejauh ini kami belum dapat memperbaiki situasi ini, dalam kasus yang ekstrem, Anda dapat menggunakan pemformat JSON pihak ketiga, misalnya yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ini</a> . </p><br><p><img src="https://habrastorage.org/webt/4g/ux/jd/4guxjdtpkb3xuo-tibk7u6hr5-8.png"></p><br><p>  OWASP ZAP mendukung protokol Websocket.  Pesan websocket dapat ditemukan di tab WebSockets khusus, juga nyaman untuk memilih "saluran" untuk memfilter menurut domain. </p><br><p><img src="https://habrastorage.org/webt/tu/uq/9n/tuuq9ntpdwaoykwrktzfjelij08.png"></p><br><h2 id="ssl-pinning">  Pinning SSL </h2><br><p>  Jika Pinning SSL diterapkan di aplikasi Anda, maka Anda tidak akan melihat lalu lintas aplikasi yang diproksi, karena proksi menggunakan sertifikatnya sendiri untuk SSL, dalam hal ini ada 4 opsi: </p><br><ol><li>  Nonaktifkan Pinning SSL sementara saat debugging permintaan jaringan menggunakan proxy. </li><li>  Tambahkan sertifikat proxy / kunci publik ke sertifikat / kunci yang di-debug untuk build debug. </li><li>  Gunakan sertifikat server Anda untuk proksi alih-alih sertifikatnya sendiri yang dihasilkan olehnya. </li><li>  Alih-alih menggunakan proxy eksternal, gunakan kerangka kerja debugging (daftar kerangka kerja ditunjukkan di bagian paling awal artikel), yang akan mencegat dan menampilkan permintaan dan jawaban langsung dalam aplikasi itu sendiri, tetapi ini membutuhkan integrasi ke dalam kode sumber aplikasi yang ada, lebih lanjut tentang alat-alat ini di artikel berikutnya. </li></ol><br><h2 id="itogi">  Ringkasan </h2><br><p>  Mari kita mulai dengan Charles.  Mungkin proksi terbaik bagi mereka yang ingin semuanya berjalan baik dan seramah mungkin, walaupun Charles mungkin mengejutkan pengguna di beberapa titik, fungsi proxy sangat luas, ia juga memiliki antarmuka asli dan paling asli untuk macOS dari semua yang dijelaskan dalam artikel proksi.  Jika Anda tidak keberatan mengeluarkan $ 50 untuk instrumen seperti itu, maka ini adalah pilihan Anda. </p><br><p>  Mari kita beralih ke Burp Suite.  Alat yang paling kuat, sesuai dengan fungsi tertentu dan bahkan kemudahan penggunaan, dalam beberapa kasus dengan mudah memberikan peluang Charles, di samping itu ada sistem untuk memperluas fungsionalitas dalam bentuk plug-in.  Burp Suite telah lama memantapkan dirinya sebagai alat yang sangat andal dan akurat di tangan kanan.  Jika Anda tidak memiliki fungsionalitas proxy Anda saat ini, maka saya menyarankan Anda untuk memperhatikan contoh ini. </p><br><p>  Sekarang giliran Mitmproxy - proxy muda dan menjanjikan, yang secara aktif mendapatkan popularitas, yang sedang dikembangkan oleh komunitas Open Source.  Proksi yang paling kontroversial yang kami lihat, tetapi pada saat yang sama tidak kalah menarik.  Mitmproxy menonjol dari para pesaingnya dengan UI konsol yang sangat nyaman, sederhana dan fungsional.  Dimungkinkan juga untuk menggunakan antarmuka web Mitmweb, tetapi sekarang dalam pengujian beta, itulah sebabnya jarang terjadi, tetapi bug muncul, tidak ada bagian dari fungsionalitas Mitmproxy canggih (sedang diselesaikan secara bertahap), dan juga sedikit lebih rendah dalam kenyamanan dibandingkan dengan lebih banyak pesaing asli.  Dukungan untuk protokol Websocket juga mengecewakan, tetapi tidak ada tampilan di UI atau kami hanya tidak belajar bagaimana mempersiapkannya, karena kami tidak dapat meminta Mitmproxy untuk menampilkan pesan Websocket, meskipun kami tidak memiliki masalah dengan proxy lainnya. </p><br><p>  Dan yang terakhir dalam daftar, tapi yang tidak kalah menarik adalah Owasp ZAP.  Selain itu, ada sistem plug-in yang dapat diperluas (secara subyektif, jumlahnya kurang dari untuk Burp Suite), tetapi sayangnya kami tidak dapat mengonfigurasi tampilan JSON yang indah di badan permintaan / respons, yang merupakan kriteria yang agak kritis ketika memilih proxy untuk pengembangan seluler.  Namun, Owasp ZAP memiliki sistem canggih untuk menguji lalu lintas Websocket, serta nama besar pengembang komunitas Owasp di belakang saya, jadi saya tidak akan mengabaikannya dan mengingat kasus-kasus yang jarang dan kompleks. </p><br><p>  Di bawah ini adalah tabel ringkasan subyektif dari proksi yang kami analisis. </p><br><table><thead><tr><th>  kriteria / proxy </th><th>  Mitmproxy </th><th>  Charles </th><th>  Burpsuite (CE) </th><th>  Owasp zap </th></tr></thead><tbody><tr><td>  Pemformatan JSON </td><td>  + </td><td>  + </td><td>  + </td><td>  - </td></tr><tr><td>  Mengedit dan Mengulangi Pertanyaan </td><td>  + </td><td>  + </td><td>  + </td><td>  + </td></tr><tr><td>  Dukungan Websocket </td><td>  - </td><td>  + </td><td>  + </td><td>  + </td></tr><tr><td>  Perangkat lunak bebas </td><td>  + </td><td>  - </td><td>  + </td><td>  + </td></tr></tbody></table><br><p>  Kami akan mengakhiri di sini, kami berharap artikel ini akan bermanfaat, kami juga akan dengan senang hati berkomentar dan jika Anda berbagi pengalaman Anda di bidang pengujian dan pemantauan lalu lintas aplikasi seluler. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id421493/">https://habr.com/ru/post/id421493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id421481/index.html">Mikrofon, tangkapan layar, dan video lokal: bagaimana Voximplant Web SDK mengontrol media di browser</a></li>
<li><a href="../id421485/index.html">Pemberitahuan penting untuk pengguna Halaman Gitlab</a></li>
<li><a href="../id421487/index.html">Cara Memperkuat Dukungan Teknis - 6 Cara Rahasia</a></li>
<li><a href="../id421489/index.html">Menggerutu tapi memberi</a></li>
<li><a href="../id421491/index.html">Cara menulis game untuk komputer yang tidak memiliki perangkat input dan output</a></li>
<li><a href="../id421495/index.html">Selamat datang di era nihilisme privasi</a></li>
<li><a href="../id421497/index.html">Ketika Anda tidak perlu menggunakan algoritma dari STL</a></li>
<li><a href="../id421499/index.html">Studi tentang probabilitas statistik dari nilai bit dalam bitcoin nonco</a></li>
<li><a href="../id421501/index.html">Hacker telah menemukan cara untuk melacak pengunjung ke situs pesaing</a></li>
<li><a href="../id421503/index.html">Cara menulis instruksi agar dipahami</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>