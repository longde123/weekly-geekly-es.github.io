<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•å üë®üèø‚Äç‚öñÔ∏è üë©üèæ‚Äçüç≥ Mi vida con Boost Graph Library üèùÔ∏è üó°Ô∏è üö∂üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El art√≠culo, cuya primera parte se presenta aqu√≠, contiene varias consideraciones del autor, acumuladas durante el largo desarrollo de un sistema espe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mi vida con Boost Graph Library</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471652/">  El art√≠culo, cuya primera parte se presenta aqu√≠, contiene varias consideraciones del autor, acumuladas durante el largo desarrollo de un sistema especializado para buscar conexiones sociales, basado en la Boost Graph Library (BGL).  Esta secci√≥n (t√©cnica) resume las impresiones del autor de trabajar con esta biblioteca, plantea problemas de instrumentaci√≥n al crear aplicaciones de gr√°ficos y toca algunos problemas pr√°cticos de metaprogramaci√≥n en C ++. <br><a name="habracut"></a><br><h3>  BGL y con qu√© se come </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La biblioteca de plantillas BGL</a> probablemente sea conocida por cualquier desarrollador que haya encontrado tareas gr√°ficas.  Apareciendo en Boost 1.18.1 en 2000, de inmediato obtuvo cr√≠ticas de aprobaci√≥n de cl√°sicos del g√©nero como Alexander Stepanov.  La gu√≠a de la biblioteca, compilada por Jeremy Sik, Lai-Kwan Lee y Andrew Lamsdane, fue publicada en ruso en 2006 por Peter (original - Jeremy G. Siek, Lie-Quan Lee y Andrew Lumsdaine, "The Boost Graph Library", 2001 , Addison-Wesley).  La biblioteca se actualiz√≥ intensamente y se desarroll√≥ casi hasta finales de 2013 (Boost 1.55.0).  En particular, en 2005, apareci√≥ el anuncio de su versi√≥n distribuida (PBGL), que se incluy√≥ en Boost desde la versi√≥n 1.40 en 2009 y hasta el d√≠a de hoy sigue siendo una especie de est√°ndar de facto para la computaci√≥n gr√°fica en cl√∫steres de alto rendimiento, en cualquier caso, en el mundo acad√©mico  Hasta donde se puede juzgar la historia de los commits, hasta 2005, el desarrollador principal de la biblioteca fue Jeremy Sik, despu√©s de 2005 - Douglas Gregor, y en general en varias ocasiones una cantidad considerable de personas diversas trabaj√≥ en la biblioteca.  Las publicaciones dedicadas a √©l han aparecido repetidamente en habr.com: en primer lugar, debe tenerse en cuenta una serie de art√≠culos de Vadim Androsov: [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3</a> ].  Por lo tanto, en principio, se dedica una buena y diversa literatura a la biblioteca, pero su propia documentaci√≥n, tambi√©n, en general, bastante extensa, sufre algo debido al hecho de que: <br><br><ol><li>  Su tabla de contenido y secciones ra√≠z, que afirman proporcionar una lista exhaustiva de entidades clave, no han cambiado desde 2001.  Por ejemplo, el autor de estas l√≠neas, que ingenuamente cre√≠a que: <blockquote>  El BGL actualmente proporciona dos clases de gr√°ficos y un adaptador de lista de bordes: <br><br>  lista de adyacencia <br>  adjacency_matrix <br>  edge_list </blockquote>  , despu√©s de un tiempo me sorprendi√≥ encontrar la representaci√≥n compressed_sparse_row_graph (matriz dispersa) implementada en 2005.  Una historia similar tuvo lugar con el algoritmo Bron-Kerbosch.  No crea en la tabla de contenido, use una b√∫squeda directa en los archivos de encabezado; <br></li><li>  No hay una sola lista comentada de las categor√≠as internas de la biblioteca (categor√≠a_contenedor, paralelas_ediciones_transitivas, estabilidad_ iterador, etc., etc.) necesarias para implementar sus propias vistas.  Aparentemente, los problemas con la comprensi√≥n de lo que est√° sucediendo superan a todos los usuarios de la biblioteca que desean profundizar, lo que lleva a la aparici√≥n de un "tipo de c√≥digo de trabajo", que requiere mucho tiempo y esfuerzo para llevarlo a un estado completo: ver, por ejemplo, una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">discusi√≥n t√≠pica</a> . </li></ol><br>  El n√∫mero de categor√≠as y varios selectores, incluidos los que son confusamente similares, es tan grande que los propios autores a veces se confunden en ellos.  Por ejemplo, en los constructores de compressed_sparse_row_graph ya mencionados anteriormente, en la versi√≥n actual hay un error sistem√°tico que provoca bloqueos al intentar copiar una lista de adyacencia no dirigida: <br><br><img src="https://habrastorage.org/webt/5r/1e/se/5r1esesty1oui-pwco4b2pkfxei.jpeg"><br><br>  Cabe se√±alar aqu√≠ en ocasiones que la prueba completa de un mecanismo tan flexible es un problema separado, ya que se acompa√±a de una explosi√≥n combinatoria del n√∫mero de posibles sustituciones. <br><br>  Cabe se√±alar con pesar que en la actualidad los principales desarrolladores aparentemente han perdido inter√©s en seguir trabajando en la biblioteca y durante los √∫ltimos seis a√±os, sin haber agotado su potencial de desarrollo y ni siquiera liber√°ndose por completo de las inconsistencias internas y los errores directos, est√° en vuelo libre.  Los planes expresados ‚Äã‚Äãen la regi√≥n de 2011 para expandir significativamente el conjunto de m√©todos y cubrir nuevas √°reas de la teor√≠a de gr√°ficos (incluso mediante la adici√≥n de soporte interno de partici√≥n de gr√°ficos a la capacidad de leer el formato METIS) no se cumplieron.  Tambi√©n parece que la biblioteca podr√≠a beneficiarse mucho (al menos en t√©rminos de legibilidad) del uso generalizado de nuevos productos que se convirtieron en est√°ndar despu√©s de 2011. <br><br>  Por lo tanto, los problemas de elegir una biblioteca de referencia para aplicaciones de gr√°ficos cuando se mira desde 2019 no parecen tan claros como nos gustar√≠a, y en los √∫ltimos 5 a√±os, la incertidumbre ha aumentado en lugar de disminuir. <br><br>  Esta situaci√≥n causa cierta tristeza, porque la creaci√≥n de un mecanismo universal similar a BGL, en s√≠ mismo, es una especie de haza√±a intelectual, tanto en t√©rminos del poder del enfoque como de la riqueza del arsenal de m√©todos universales implementados (un buen y medio centenar de un solo subproceso y un par de docenas distribuidos) la biblioteca, hasta donde se conoce al autor de estas l√≠neas, todav√≠a no tiene igual. <br><br>  Por el momento, solo esta biblioteca permite, en principio, sin p√©rdida de rendimiento, imponer acuerdos estrictos sobre la presentaci√≥n de datos y la p√©rdida de control sobre los mecanismos internos de la biblioteca, para separar por completo los algoritmos gr√°ficos y las representaciones gr√°ficas, lo que hace que esta √∫ltima sea completamente independiente de la presentaci√≥n de metadatos asociados con bordes y v√©rtices ( que, en principio, es obviamente la forma m√°s correcta de hacer las cosas). <br><br>  La palabra "fundamentalmente" se usa aqu√≠ por una raz√≥n.  Teniendo en cuenta una situaci√≥n espec√≠fica utilizando el ejemplo de la sufrida clase compressed_sparse_row_graph ya mencionada anteriormente, podemos observar, por ejemplo, las siguientes desviaciones de los altos est√°ndares: <br><br><ol><li>  El operador [] para la lista de adyacencia y la matriz dispersa manejan las propiedades internas y externas de los bordes de manera diferente (Propiedades internas y agrupadas): el primero devuelve solo propiedades externas (internas son accesibles solo con property_map), el segundo devuelve una propiedad de estructura de trama que contiene una lista com√∫n de propiedades. </li><li>  La funci√≥n get para obtener el √≠ndice de borde usando boost :: property_map &lt;compressed_sparse_row_graph, boost :: edge_index_t&gt; :: type cay√≥ en boost :: detail, y no en boost, como en todos los dem√°s casos. </li></ol><br>  Finalmente, en la plantilla compressed_sparse_row_graph, la especializaci√≥n para el gr√°fico no dirigido (boost :: undirectedS) no se cumpli√≥. <br><br>  En este sentido, cuando se usa la propiedad edge_index (n√∫mero de serie de borde), surgen dificultades adicionales debido al hecho de que para la lista de adyacencia esta propiedad debe establecerse expl√≠citamente como interna y, como tal, puede cambiarse arbitrariamente, pero para un gr√°fico no dirigido su valor no depende de la direcci√≥n donde pasa la costilla  Para una matriz dispersa (siempre direccional), es un mapa_propiedad constante incorporado de una forma especial (calculada como un √≠ndice en una matriz de bordes).  En consecuencia, los valores para las aristas que se aproximan (que representan un gr√°fico no dirigido) no pueden cambiar y siempre ser√°n diferentes. <br><br>  Todas estas discrepancias conducen a la imposibilidad de "simplemente reemplazar la representaci√≥n gr√°fica con una equivalente" al llamar a funciones algor√≠tmicas, lo que socava significativamente la ventaja principal de la biblioteca.  En la pr√°ctica, en tales casos, se requiere una especializaci√≥n de c√≥digo excesiva, o su procesamiento para excluir elementos con diferentes comportamientos, o dicho ajuste de plantillas de gr√°ficos para que "se comporten de manera id√©ntica" con diferentes definiciones de atributos, o, finalmente, la eliminaci√≥n de archivos individuales de la biblioteca y la creaci√≥n "Versi√≥n de impulso personal". <br><br>  Adem√°s, se pueden observar los siguientes inconvenientes, no tan importantes: <br><br><ul><li>  Las dimensiones de los descriptores internos de las representaciones gr√°ficas tienen un impacto significativo en el consumo de memoria necesario para almacenar el gr√°fico y, a veces, afectan el rendimiento de los algoritmos. <br><br>  Algunas vistas (el mismo compressed_sparse_row_graph) le permiten controlar estas dimensiones.  Otros (adjacency_list) no tienen tales par√°metros y siempre usan enteros de 64 bits (generalmente redundantes), que no se pueden reemplazar sin modificar el c√≥digo; <br></li><li>  A pesar de que los autores de la biblioteca proporcionaron mucho, mucho, algunas primitivas obviamente necesarias no se incluyeron en la biblioteca.  Por ejemplo, no existe una funci√≥n como reverse_edge que realice la inversi√≥n de bordes. <br><br>  La implementaci√≥n de tales funciones, por supuesto, depende de la representaci√≥n gr√°fica: en este caso, puede implementarse mediante un intercambio trivial de elementos de un par, una b√∫squeda m√°s o menos eficiente por contenedor, o nada en absoluto.  Es dif√≠cil para el usuario final comprender toda esta variedad de opciones, especialmente porque, de acuerdo con la ideolog√≠a de la biblioteca, los miembros internos de los descriptores no deber√≠an ser de su inter√©s. <br></li><li>  Del mismo modo, algunos guiones lejos de ser in√∫tiles cayeron de la biblioteca.  Por ejemplo, puede definir predicados de borde que usen filter_graph para convertir un gr√°fico no dirigido en un gr√°fico dirigido, pero no hay forma de llamar la atenci√≥n de la biblioteca sobre esta transformaci√≥n.  En consecuencia, los algoritmos regulares para gr√°ficos dirigidos no se compilar√°n con dicho objeto, y los algoritmos para gr√°ficos no dirigidos no funcionar√°n correctamente con √©l. <br><br>  En alg√∫n lugar del vecindario existe el tema de soporte para gr√°ficos t√©cnicamente no direccionales que tienen un marcador de direcci√≥n de servicio en los bordes.  Sin embargo, una mayor atenci√≥n a este punto de vista puede deberse a la naturaleza particular de las tareas que resuelve el autor, y el inter√©s generalizado en apoyar tales objetos no es obvio. <br></li><li>  En cuanto a la funci√≥n reverse_edge, tomada como un ejemplo anterior, no hay una opci√≥n incre√≠ble de que la funci√≥n deseada est√© presente en alg√∫n lugar de las entra√±as de la biblioteca, pero por alguna raz√≥n recibi√≥ un nombre no obvio.  Esto lleva al siguiente problema, que a primera vista no es serio, pero ralentiza significativamente el trabajo con bibliotecas de plantillas complejas (no solo BGL, aunque est√° claramente entre los l√≠deres seg√∫n este criterio): trabajar con sistemas extensivos de funciones relacionadas impl√≠citamente sin tipado expl√≠cito de par√°metros y con La sem√°ntica de uso no obvia (a menudo la menos transparente que la m√°s bien pensada) es f√≠sicamente dif√≠cil, y los entornos de desarrollo existentes no proporcionan ning√∫n soporte para esto en el desarrollador: <br><br> <abbr title="Gracias, ayudaste mucho."><img src="https://habrastorage.org/webt/bn/ad/fq/bnadfqng3f4ryjrc8qkwaxtf78e.png"></abbr> <br><br>  De hecho, los asistentes autom√°ticos: <br><br><ol><li>  Dise√±ado principalmente para el soporte de OOP, cuando un conjunto de funciones est√° vinculado al objeto de la derecha seg√∫n su tipo.  Con funciones globales que pueden estar a la izquierda de un tipo (mucho menos un conjunto de tipos), ayudan mucho peor incluso si se conocen todos los tipos. </li><li>  Son rid√≠culamente incapaces de trabajar con plantillas simples.  La versi√≥n del asistente visual utilizada por el autor, que tiene frente a √©l la definici√≥n de una clase de plantilla con par√°metros predeterminados, ofrece especificar una "sustituci√≥n de prueba" para poder generar una pista para la clase.  Si la conoces, no pasa absolutamente nada. </li><li>  Adem√°s, son menos capaces de comprender los calificadores de metaprogramas, incluso los m√°s simples, como enable_if. </li><li>  Acerca de un escenario t√≠pico: "estamos dentro de una funci√≥n de plantilla que se llama desde un n√∫mero indefinido de longitud indefinida de cadenas de otras funciones, incluidas las plantillas", es imposible hablar sin l√°grimas.  En este caso, vim sigue siendo el mejor amigo del programador. </li></ol><br>  Otro aspecto de la misma situaci√≥n puede ilustrarse utilizando la primera l√≠nea del fragmento de c√≥digo que se muestra en la figura anterior.  Se invita al lector a completar las consultas de "impulso de tiempo actual" frente a "tiempo actual de CRT" y comparar los resultados.  S√≠, boost :: date_time (ahora parcialmente movido a std) hace posible hacer muchas cosas complejas correctamente, mientras que la CRT le permite hacer varias operaciones triviales de forma incorrecta, pero en situaciones cotidianas comunes en el hogar, la CRT es m√°s conveniente desde todos los puntos de vista y polinomiales. Las construcciones de la forma posix_time :: second_clock :: local_time (un ejemplo suave) tienden a convertirse en jerogl√≠ficos que deambulan por el programa.  Priva al desarrollador del acceso a la biblioteca personal de dichos jerogl√≠ficos y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la velocidad de desarrollo ser√° cero</a> . <br><br>  Boost :: string_algo hace posible hacer cualquier cosa con cadenas, pero, sinceramente, cada operaci√≥n no del todo trivial se acompa√±a de una sesi√≥n de relectura de documentaci√≥n para actualizar la l√≥gica general de la biblioteca, los nombres de predicados, as√≠ como un ejercicio separado para descubrir la compatibilidad de los par√°metros.  Una situaci√≥n similar ocurre con las operaciones de tokenizaci√≥n en boost :: regexp, con una l√≥gica interna impecable de este √∫ltimo. <br><br>  Si tal situaci√≥n ocurre con las bibliotecas m√°s utilizadas, no es sorprendente que BGL, como una biblioteca m√°s especializada, en la que, por ejemplo, hay funciones make_property_map_function y make_function_property_map que no est√°n relacionadas entre s√≠, as√≠ como una funci√≥n sacramental get que se recarga en cualquier El n√∫mero de argumentos de cualquier tipo da lugar a los mismos problemas, pero en forma hipertrofiada.  S√≠, cualquier tarea puede ser resuelta por la cadena get call, pero, lamentablemente, no todas las cadenas get resuelven este problema. <br><br>  Leer un c√≥digo de este tipo puede ser f√°cil y agradable, incluso puede parecer una sinopsis de un algoritmo escrito formalmente en un lenguaje natural, pero al escribirlo, la imposibilidad de reemplazar palabras con sin√≥nimos, etc., manifestaciones de rigidez no es caracter√≠stica de uno real. <br></li><li>  En orden general, uno no puede dejar de repetir lo banal, pero no se vuelve menos cierto, la observaci√≥n de que la metaprogramaci√≥n en C ++ todav√≠a se basa literalmente en los efectos secundarios de las herramientas del lenguaje, cuyo prop√≥sito original era diferente, e incluso las ideas m√°s simples sobre la base de Como resultado, el metalenguaje es dif√≠cil de expresar y leer, y vincular el c√≥digo de la plantilla al sistema arcaico de archivos incluidos no facilita la vida del desarrollador y no reduce la cantidad de c√≥digo procesado por el compilador. <br><br>  (Por otro lado, las actualizaciones peri√≥dicas de boost y std traen muchas construcciones no triviales y, a menudo, extremadamente √∫tiles y soluciones inesperadas, que realmente permiten escribir c√≥digo m√°s claro y compacto a un costo menor. Sin embargo, el flujo de nuevos productos es tan amplio, desigual y mal estructurado que lo m√°s importante adiciones a la biblioteca est√°ndar, incluso las obvias como options / apply_visitor o cualquiera de las mencionadas a continuaci√≥n, si las ventajas conceptuales de su aplicaci√≥n en el contexto de un proyecto espec√≠fico no son relevantes  De manera evidente, sin la ayuda de un evento feliz, pueden desenfocarse durante mucho tiempo, si no pasa una parte significativa del tiempo de trabajo directamente rastreando cuidadosamente nuevos productos, estudiando ejemplos no triviales de su uso e intentos mentales para aplicarlos a un c√≥digo existente. para hacer frente a este problema, mantener por cada cinco programadores en pr√°ctica de C ++ un C ++, un te√≥rico que solo se ocupa de cuestiones de prioridad de nuevos productos, su implementaci√≥n  ciones en el proyecto y los profesionales de la educaci√≥n selectivos.  Conclusi√≥n: <s>no inicie C ++ - proyectos con menos desarrolladores</s> ). <br></li><li>  Finalmente, objetivamente, el problema m√°s serio que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ocurre cuando se trabaja con c√≥digo repetitivo BGL</a> .  Supongamos que estamos utilizando alg√∫n algoritmo de plantilla que hace un pasaje a trav√©s de un gr√°fico y toma una representaci√≥n del gr√°fico G como argumento.  En un caso t√≠pico, esta representaci√≥n depende de los filtros impuestos en los v√©rtices y bordes <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mi>v</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.524ex" height="2.419ex" viewBox="0 -780.1 1086.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/471652/&amp;usg=ALkJrhhEyQwLSH91tflBgiLEEYl6ILzkdA#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/471652/&amp;usg=ALkJrhhEyQwLSH91tflBgiLEEYl6ILzkdA#MJMATHI-76" x="910" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mi>v</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-1"> F_v </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mi>e</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.493ex" height="2.419ex" viewBox="0 -780.1 1073.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/471652/&amp;usg=ALkJrhhEyQwLSH91tflBgiLEEYl6ILzkdA#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/471652/&amp;usg=ALkJrhhEyQwLSH91tflBgiLEEYl6ILzkdA#MJMATHI-65" x="910" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mi>e</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> F_e </script>  y esquema de peso <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/471652/&amp;usg=ALkJrhhEyQwLSH91tflBgiLEEYl6ILzkdA#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> W </script>  .  Para trabajar con gr√°ficos filtrados, BGL ofrece la clase de plantilla filter_graph mencionada anteriormente, la forma de adjuntar el esquema de peso es a discreci√≥n del usuario.  Functores que representan <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mi>v</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.524ex" height="2.419ex" viewBox="0 -780.1 1086.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/471652/&amp;usg=ALkJrhhEyQwLSH91tflBgiLEEYl6ILzkdA#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/471652/&amp;usg=ALkJrhhEyQwLSH91tflBgiLEEYl6ILzkdA#MJMATHI-76" x="910" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mi>v</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-4"> F_v </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mi>e</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.493ex" height="2.419ex" viewBox="0 -780.1 1073.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/471652/&amp;usg=ALkJrhhEyQwLSH91tflBgiLEEYl6ILzkdA#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/471652/&amp;usg=ALkJrhhEyQwLSH91tflBgiLEEYl6ILzkdA#MJMATHI-65" x="910" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mi>e</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-5"> F_e </script>  y <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/471652/&amp;usg=ALkJrhhEyQwLSH91tflBgiLEEYl6ILzkdA#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> W </script>  puede incluir al menos las siguientes vistas: <br><br><ul><li>  Directamente un contenedor para una funci√≥n que representa un esquema de ponderaci√≥n y predicados que representan filtros (lentamente, sin p√©rdida de inicializaci√≥n); </li><li>  Cach√©s sobre estos envoltorios, asignando descriptores de borde / nodo a √≠ndices de borde / nodo, abordando el mapa de bits y la matriz de valores (sin p√©rdidas de inicializaci√≥n, con un aumento gradual de la velocidad como se usa); </li><li>  Asignaci√≥n directa de descriptores de nodo / borde a matrices de valores rellenos (requiere inicializaci√≥n, pero se puede construir sobre la base de la representaci√≥n previa; la velocidad alcanza su m√°ximo). </li></ul><br>  Por lo tanto, si este algoritmo se escribiera en un estilo tradicional, tres selectores con al menos tres ramas en cada uno aparecer√≠an en su cuerpo (y la necesidad de ajustar el cuerpo cuando aparezcan nuevas representaciones).  Dado que cada ramificaci√≥n en el cuerpo del algoritmo, que se ejecuta una gran cantidad de veces al pasar por el gr√°fico, da como resultado una notable p√©rdida de tiempo, el deseo de evitar estas p√©rdidas mientras se mantiene el c√≥digo del mismo estilo tradicional puede conducir a m√°s de 27 implementaciones del algoritmo para varias combinaciones de representaciones. <br><br>  El estilo de metaprograma deber√≠a salvarlo de estos problemas, permiti√©ndole admitir una metafunci√≥n que describe el algoritmo que genera impl√≠citamente todas las implementaciones necesarias (y tambi√©n, posiblemente, una cantidad considerable y posiblemente innecesaria si las estructuras de c√≥digo de tiempo de ejecuci√≥n no generan de facto algunas combinaciones de tipos, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">que       </a> ),        . <br><br>   ,  ,          inline-    ,           ‚ÄìO2.           -      (              1:3  1:5,           ‚Äì <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  ,  ,  </a> ). <br><br>           ,    .               . ,    ( )     ,      ¬´¬ª  ¬´¬ª  .   ,       .       :    ¬´¬ª      ¬´¬ª  ,                 ¬´¬ª ,                 ¬´¬ª . <br><br>    ,         :    ,   100%         ,       ,   ¬´¬ª  . ( ,    ,     - ,   ,    , ,      ,  ). <br></li><li>         ,   ,     ,     .     C++   , -,  ,          . <br><br>   ,   ,    : <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">type_selector_fun</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(type_a a, type_b b, ...)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (condition_1(a, b, ...)) { <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> arg = get_type_1_obj(a, b, ...); run_calc(arg, a, b, ...); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (condition_1(a, b, ...)) { <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> arg = get_type_2_obj(a, b, ...); run_calc(arg, a, b, ...); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> ... }</code> </pre> <br>  Se puede reescribir de manera algo m√°s compacta usando la variante &lt;...&gt; en aproximadamente la siguiente forma: <br><br><pre> <code class="cpp hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">type_selector_fun</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(type_a a, type_b b, ...)</span></span></span><span class="hljs-function"> </span></span>{ variant&lt;type_1, type_2, ...&gt; arg; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (condition_1(a, b, ...)) { arg = get_type_1_obj(a, b, ...); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ... ... apply_visitor([&amp;](<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> arg_){run_calc(arg_, a, b, ...); }, arg); }</code> </pre><br>  La desventaja de esta forma de escritura es la necesidad de una enumeraci√≥n expl√≠cita de los tipos type_1, type_2, ... en la declaraci√≥n de variantes.  Estos tipos pueden ser engorrosos, la grabaci√≥n usando declval / result_of_t no puede ser menos engorrosa. <br><br>  Al usar any, no hay necesidad de enumerar tipos, pero no hay forma de obtener un apply_visitor anal√≥gico. <br><br>  Se sugiere el uso de alguna funci√≥n de plantilla make_variant, que le permite escribir c√≥digo del siguiente tipo: <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> arg = make_variant ( bind(condition_1, a, b, ...), bind(get_type_1_obj, a, b, ...), bind(condition_2, a, b, ...), bind(get_type_2_obj, a, b, ...), ... );</code> </pre><br>  pero la cura no se ve mejor que la enfermedad. <br><br>  En general, existe una situaci√≥n t√≠pica para la metaprogramaci√≥n en C ++, cuando para expresar una idea muy simple debe usar todo un arsenal de herramientas auxiliares que no son muy satisfactorias en t√©rminos de legibilidad y facilidad de grabaci√≥n.  Esencialmente, me gustar√≠a poder escribir algo como lo siguiente: <br><br><pre> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">//   variant&lt;...&gt;      //  ,   : type_1, type_2 etc. variant&lt;auto...&gt; get_type_obj(typa_a a, type_b b, ...) { if (condition_1(a, b, ...)) { return get_type_1_obj(a, b, ...); } else if (condition_2(a, b, ...)) { return get_type_2_obj(a, b, ...); } else ... }</span></span></code> </pre><br>  o incluso: <br><br><pre> <code class="cpp hljs"> select_value_type(arg) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (condition_1(a, b, ...)) { arg = get_type_1_obj(a, b, ...); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> ... ... } run_calc(arg, a, b, ‚Ä¶);</code> </pre><br>  La √∫ltima opci√≥n, aunque est√° completamente eliminada del estilo C ++, parece la m√°s pr√°ctica, ya que puede haber m√°s de una variable arg para la cual se selecciona el tipo, y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">no hay raz√≥n para anticipar la l√≥gica de su construcci√≥n</a> . <br></li><li>  La otra cara de la misma situaci√≥n es el uso de estructuras auxiliares (por ejemplo, almacenamiento en cach√©) que implementan un script que merece el nombre de una "variable de plantilla", pero que difiere de la extensi√≥n est√°ndar C ++ 14 del mismo nombre. <br><br>  El c√≥digo correspondiente puede verse as√≠: <br><br><pre> <code class="cpp hljs"> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CacheHolder</span></span></span><span class="hljs-class"> {</span></span> boost::variant&lt; container&lt;T1&gt;, container&lt;T2&gt;, <span class="hljs-comment"><span class="hljs-comment">// ... container&lt;TN&gt;&gt; ct; template&lt;typename T&gt; struct result_type_selector { typedef typename if_c&lt;is_compatible&lt;T, T1&gt;::value, T1, if_c&lt;is_compatible&lt;T, T2&gt;::value, T2, // ... if_c&lt;is_compatible&lt;T, TN&gt;::value, TN, std::decay_t&lt;T&gt;&gt;&gt;&gt;::type type; }; template&lt;typename T&gt; auto get() const -&gt; const container&lt;typename result_type_selector&lt;T&gt;::type&gt;&amp; { return boost::get&lt;container&lt;typename result_type_selector&lt;T&gt;::type&gt;&gt;(ct); } };</span></span></code> </pre><br>  Aqu√≠, como anteriormente, las construcciones largas expresan la idea simple de acceder a una variable que representa el cach√© por un nombre espec√≠fico, independientemente de la dimensi√≥n del valor almacenado en cach√© (que pasa de forma transparente a trav√©s del c√≥digo de llamada). <br><br>  Por brevedad, el c√≥digo se proporciona para el caso en que solo un tipo puede estar activo, pero en la pr√°ctica la situaci√≥n es m√°s com√∫n cuando pueden existir varios contenedores simult√°neamente (se puede implementar f√°cilmente en el mismo estilo usando tupla y opcional). <br><br>  La implementaci√≥n de la funci√≥n get &lt;...&gt; supone que el c√≥digo de llamada tiene alguna idea de qu√© tipo de valor en cach√© quiere acceder (por ejemplo, entero o punto flotante). <br><br>  No menos com√∫n es la situaci√≥n en la que el valor de tipo exacto no es importante para la persona que llama.  En este caso, se reproduce el script select_value_type / apply_visitor del p√°rrafo anterior (ajustado por la posible multiplicidad de valores, lo que implica ver los tipos en orden descendente de prioridad). <br></li><li>  Hasta ahora, pr√°cticamente no se ha mencionado PBGL en este texto.  Esto se explica por la peque√±a y desaparecida experiencia del autor de trabajar con esta parte de la biblioteca (en relaci√≥n con la cual el propio autor, con cierto escepticismo, se refiere a todo lo que se escribe a continuaci√≥n en este p√°rrafo, y llama a otros a lo mismo).  De hecho, tal experimento se reduce a varios experimentos, en el mismo tipo de problemas de b√∫squeda que se demostraron en datos pr√°cticos que perdieron una versi√≥n distribuida a una soluci√≥n local 3-5 veces en la memoria y 15-20 veces en el rendimiento general (el origen de esta cifra aterradora se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">explica aqu√≠</a> y se comenta adicionalmente en los siguientes p√°rrafos) .  Dada la mayor complejidad de trabajar con estructuras distribuidas, la elecci√≥n a favor de la versi√≥n local era evidente en tal situaci√≥n. <br><br>  Expliquemos la mec√°nica de la operaci√≥n PBGL utilizando un ejemplo t√≠pico del algoritmo de delta-walking.  En esta versi√≥n paralela del algoritmo de Dijkstra, la cola de prioridad se reemplaza con una serie de "cubos".  Los elementos que caen en un "cubo" se procesan en paralelo.  En su forma original, el ritmo delta es un algoritmo t√≠pico para sistemas de memoria compartida. <br><br>  En la versi√≥n distribuida, sucede lo siguiente: en PBGL, cuando se carga, el gr√°fico se dispersa entre los procesos, y cada proceso tiene un rango continuo de n√∫meros de v√©rtices.  Por lo tanto, por el n√∫mero de v√©rtice global, es f√°cil saber a qu√© proceso pertenece.  En consecuencia, cada proceso en cada vuelta del algoritmo almacena una parte del "cubo" que contiene los v√©rtices que pertenecen a este proceso.  Todos los procesos seleccionan y procesan simult√°neamente los v√©rtices de sus partes de los "cubos" uno a la vez, mientras env√≠an mensajes sobre la necesidad de actualizar los siguientes "cubos" a los procesos que poseen v√©rtices vecinos.  Es f√°cil ver que, ceteris paribus, un aumento en el n√∫mero de procesos conduce a un aumento en el n√∫mero de mensajes que env√≠an.  Como resultado, el tiempo de ejecuci√≥n del algoritmo no solo no puede disminuir, sino incluso aumentar.  En particular, el lanzamiento de varios procesos MPI para resolver este problema en una m√°quina f√≠sica con una cierta probabilidad solo conducir√° a un aumento en la carga total del procesador sin ganancia de tiempo. <br><br>  Cabe se√±alar que el ritmo delta es el algoritmo de b√∫squeda distribuido m√°s r√°pido (de los tres admitidos por la biblioteca). <br><br>  Por lo tanto, si el gr√°fico no est√° preparado previamente, debe dividirse en bloques de tama√±o m√°ximo, un bloque por m√°quina f√≠sica.  Por preparaci√≥n preliminar, nos referimos aqu√≠ a renumerar los v√©rtices de la gr√°fica para que los rangos continuos de n√∫meros utilizados por PBGL, si es posible, correspondan a subgraf√≠as conectadas libremente.  Para estos fines se utilizan paquetes como METIS, paraMETIS y Zoltan.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Trabajar con gr√°ficos din√°micos en este modo es dif√≠cil.</a> <br><br>  En general, de acuerdo con los resultados de los experimentos descritos, el autor tuvo la impresi√≥n de que el funcionamiento normal del cl√∫ster PBGL solo es posible con un equipo de comunicaci√≥n especial, y tiene sentido usar m√°quinas con un n√∫mero m√≠nimo de n√∫cleos y una productividad m√°xima de hilo como nodos de dicho cl√∫ster.  Los autores de <a href="">Trinity</a> en su art√≠culo argumentan que su almacenamiento distribuido funciona de manera mucho m√°s eficiente: al autor le resulta dif√≠cil comentar sobre esta declaraci√≥n, pero, dadas las circunstancias anteriores, lo encuentra bastante posible: la arquitectura PBGL lleva un sello distintivo del tiempo en que las m√°quinas de m√∫ltiples n√∫cleos a√∫n no han recibido una distribuci√≥n amplia. <br><br>  PBGL tambi√©n comparte los problemas de la versi√≥n de subproceso √∫nico: algunos c√≥digos de sincronizaci√≥n, documentaci√≥n y ejemplos, agravados por la mayor complejidad del sistema y menos usuarios dispuestos a compartir experiencias √∫tiles. <br></li></ul><br><h3>  BGL y otros animales </h3><br>  Teniendo en cuenta una lista bastante larga de quejas espec√≠ficas, no ser√° inapropiado preguntar: ¬øpuede el autor recomendar BGL para nuevos proyectos en 2019?  La respuesta es esta: el autor cree que las bibliotecas de este estilo y las aplicaciones basadas en ellas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">deben tener un futuro</a> .  En cuanto a la elecci√≥n de una biblioteca de referencia para un proyecto en particular, debemos considerar seriamente la instrumentaci√≥n, sin perder de vista los problemas enumerados anteriormente.  La respuesta, obviamente, depende de muchas circunstancias, incluidas, entre otras, las enumeradas en los siguientes p√°rrafos: <br><br><ul><li>  Si trabajar con gr√°ficos en un proyecto es la base de la funcionalidad o una tarea opcional; </li><li>  ¬øPuede un proyecto obtener una ventaja mediante el uso de m√∫ltiples representaciones o es trabajar con algoritmos de tipo duro bastante suficiente para ello? </li><li>  El tipo de concurrencia m√°s beneficioso para el proyecto; </li><li>  Matices organizacionales: el deseo de metaprogramaci√≥n en C ++ entre los empleados (especialmente los programadores de matem√°ticas), etc. </li></ul><br>  Probablemente, ceteris paribus, el uso de BGL puede justificarse en el caso de un uso muy peque√±o de una sola vez (para extruir o copiar un c√≥digo de trabajo y olvidarlo), o para un sistema grande por el cual una mayor flexibilidad pagar√° la entrada pesada y otros costos a lo largo del tiempo.  En otros casos, tiene sentido estudiar cuidadosamente otras opciones. <br><br>  En cuanto a las posibles alternativas, su lista incluye al menos los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">siguientes elementos</a> : <br><div class="scrollable-table"><table><tbody><tr><td>  Titulo </td><td>  Lim√≥n </td></tr><tr><td>  Tipo de biblioteca </td><td>  Encabezado de plantilla de C ++ </td></tr><tr><td>  URL </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lemon.cs.elte.hu</a> </td></tr><tr><td>  Distribuido </td><td>  no </td></tr><tr><td>  Multiproceso </td><td>  no </td></tr><tr><td>  OS </td><td>  cualquier </td></tr><tr><td>  √öltima versi√≥n </td><td>  2014 <br>  Distribuido por el archivo </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Stackoverflow menciona</a> </td><td>  ~ 100 (36 en la secci√≥n [biblioteca de gr√°ficos de lim√≥n]) </td></tr><tr><td>  Comentario </td><td>  Seg√∫n algunos informes, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en modo de subproceso √∫nico supera significativamente BGL en velocidad</a> . <br>  La actitud de los autores hacia el subprocesamiento m√∫ltiple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">es evidente en el siguiente di√°logo</a> .  En vista de lo anterior en la secci√≥n sobre PBGL, esta posici√≥n es dudosa. </td></tr></tbody></table></div><div class="scrollable-table"><table><tbody><tr><td>  Titulo </td><td>  SNAP </td></tr><tr><td>  Tipo de biblioteca </td><td>  C ++ </td></tr><tr><td>  URL </td><td>  <a href="">github.com/snap-stanford/snap.git</a> </td></tr><tr><td>  Distribuido </td><td>  no </td></tr><tr><td>  Multiproceso </td><td>  s√≠ (parte de los m√©todos) </td></tr><tr><td>  OS </td><td>  Linux, Mac, Cygwin </td></tr><tr><td>  √öltima versi√≥n </td><td>  2018 <br>  El repositorio se est√° actualizando activamente. </td></tr><tr><td>  Stackoverflow menciona </td><td>  &lt;50 </td></tr><tr><td>  Comentario </td><td>  Una de las bibliotecas de an√°lisis de red m√°s grandes (m√°s de 10 Mb de c√≥digo) (Network Ananlysis), que se ha desarrollado activamente durante muchos a√±os.  De una manera extra√±a, es relativamente ignorado por la atenci√≥n p√∫blica. <br>  Ver la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descripci√≥n de la ideolog√≠a del sistema</a> .  La actitud hacia la implementaci√≥n de m√©todos paralelos expresada en la p√°gina 12 es cercana al autor de este art√≠culo.  En las condiciones de funcionamiento de un parque de m√°quinas moderno t√≠pico, es el m√°s natural.  El cambio de paradigma tuvo lugar en 2011 condicional, a lo que se refiere la declaraci√≥n LEMON anterior. </td></tr></tbody></table></div><div class="scrollable-table"><table><tbody><tr><td>  Titulo </td><td>  MTGL </td></tr><tr><td>  Tipo de biblioteca </td><td>  Encabezado de plantilla de C ++ </td></tr><tr><td>  URL </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">software.sandia.gov/svn/public/mtgl/trunk</a> </td></tr><tr><td>  Distribuido </td><td>  ? </td></tr><tr><td>  Multiproceso </td><td>  si </td></tr><tr><td>  OS </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cualquier</a> </td></tr><tr><td>  √öltima versi√≥n </td><td>  ? </td></tr><tr><td>  Stackoverflow menciona </td><td>  3 </td></tr><tr><td>  Comentario </td><td>  Miembro misterioso de la reuni√≥n.  La biblioteca se desarroll√≥ activamente entre 2005 y 2012.  Las fuentes se cargaron en 2017.  Estado incierto, menci√≥n del proyecto del sitio web de Sandia eliminada.  Ideol√≥gicamente inspirado por el mismo BGL, pero el c√≥digo es completamente independiente.  La cantidad total de c√≥digo fuente (incluidas numerosas pruebas y ejemplos) alcanza los 17 MB.  El c√≥digo se ve bien dise√±ado.  Ver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descripci√≥n</a> . </td></tr></tbody></table></div><div class="scrollable-table"><table><tbody><tr><td>  Titulo </td><td>  igraph </td></tr><tr><td>  Tipo de biblioteca </td><td>  C </td></tr><tr><td>  URL </td><td>  <a href="">github.com/igraph/igraph.git</a> </td></tr><tr><td>  Distribuido </td><td>  no </td></tr><tr><td>  Multiproceso </td><td>  no </td></tr><tr><td>  OS </td><td>  alguno? </td></tr><tr><td>  √öltima versi√≥n </td><td>  2014 <br>  El repositorio se est√° actualizando activamente. <br></td></tr><tr><td>  Stackoverflow menciona </td><td>  Aproximadamente 100 en las secciones [igraph] [c ++] e [igraph] [c], y m√°s de 500 en total (para todos los idiomas) <br></td></tr><tr><td>  Comentario </td><td>  Al parecer, otra biblioteca de an√°lisis de redes es muy popular (principalmente entre los pitonistas, etc.).  Descripci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </td></tr></tbody></table></div><div class="scrollable-table"><table><tbody><tr><td>  Titulo </td><td>  herramienta gr√°fica </td></tr><tr><td>  Tipo de biblioteca </td><td>  C ++ python lib </td></tr><tr><td>  URL </td><td>  <a href="">git.skewed.de/count0/graph-tool.git</a> </td></tr><tr><td>  Distribuido </td><td>  no </td></tr><tr><td>  Multiproceso </td><td>  si </td></tr><tr><td>  OS </td><td>  A juzgar por el uso de autoconf - * nix solamente, pero es probable una simple adaptaci√≥n a otros sistemas </td></tr><tr><td>  √öltima versi√≥n </td><td>  2019 </td></tr><tr><td>  Stackoverflow menciona </td><td>  &lt;20 </td></tr><tr><td>  Comentario </td><td>  Otra biblioteca de an√°lisis de red en desarrollo activo con una larga historia de confirmaciones que usa directamente BGL (en la versi√≥n local parcheada). <br>  Ver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tabla de comparaci√≥n de rendimiento.</a> </td></tr></tbody></table></div><div class="scrollable-table"><table><tbody><tr><td>  Titulo </td><td>  LEDA </td></tr><tr><td>  Tipo de biblioteca </td><td>  C ++ </td></tr><tr><td>  URL </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.algorithmic-solutions.com/index.php/products/leda-for-c</a> </td></tr><tr><td>  Distribuido </td><td>  no </td></tr><tr><td>  Multiproceso </td><td>  ? </td></tr><tr><td>  OS </td><td>  cualquier </td></tr><tr><td>  √öltima versi√≥n </td><td>  ? </td></tr><tr><td>  Stackoverflow menciona </td><td>  ~ 10 </td></tr><tr><td>  Comentario </td><td>  Licencia comercial  Una biblioteca grande (y, podr√≠a decirse, antigua) para computaci√≥n cient√≠fica y tecnol√≥gica, que incluye una secci√≥n de gr√°ficos.  Aparentemente, se basa en su propia infraestructura, y no en stl / boost, y en este sentido es arcaico. </td></tr></tbody></table></div><br>  De particular inter√©s general es la cuesti√≥n de la clasificaci√≥n de varios productos de software orientados a trabajar con gr√°ficos.  Su diversidad, sin mencionar el n√∫mero, es muy grande.  Sin pretender completar (e incluso formalmente corregir) la clasificaci√≥n, podemos intentar, sin embargo, resaltar las siguientes √°reas importantes en el desarrollo de aplicaciones gr√°ficas: <br><ol><li>  Gr√°fico DBMS (neo4j, etc.). <br><br>  Los sistemas de este tipo se centran en realizar operaciones transaccionales en gr√°ficos grandes (disco distribuido).  Aunque la API de un sistema de este tipo puede estar altamente desarrollada, la velocidad de ejecuci√≥n de los algoritmos gr√°ficos en s√≠ mismos, por lo que se puede juzgar, no es la primera prioridad.  Es posible que el sistema ni siquiera intente cargar todo el gr√°fico en la memoria.  Para la modificaci√≥n y el recorrido de gr√°ficos, se admiten lenguajes declarativos (SPARQL, Cypher, Gremlin).  Se concede gran importancia a garantizar la continuidad con los sistemas SQL tradicionales. </li><li>  Extensiones de gr√°ficos de sistemas de procesamiento de big data que trabajan en el paradigma de mapa / reducci√≥n (GraphX ‚Äã‚Äãen Spark, Pegasus y Giraph para Hadoop) y sistemas de cl√∫ster independientes ( <a href="">MS Trinity / MS Graph Engine</a> , GraphLab).  Los primeros en realizar operaciones en el gr√°fico implementan el modelo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Google Pregel</a> (pero no solo √©l) y pueden configurarse para su uso, incluidos nodos inform√°ticos paralelos masivos.  Tanto esos como otros pueden usarse, entre otras cosas, como base para proyectos de software corporativo. <br><br>  Aunque la API de dichos sistemas puede estar bastante desarrollada (entre otras cosas, GraphX ‚Äã‚Äãadmite SPARQL y Cypher), el enfoque principal cuando se trabaja con ellos es resolver problemas de infraestructura.  GraphX ‚Äã‚Äãse caracteriza por la inmutabilidad de los datos y un sesgo en la canalizaci√≥n de todas las operaciones.  MS Trinity actualmente no incluye m√©todos de alto nivel y proporciona solo un conjunto de primitivas para trabajar con nodos y bordes.  Los sistemas que se ejecutan sobre Hadoop son, en principio, de poca utilidad para resolver problemas de gr√°ficos arbitrarios. <br></li><li>  Bibliotecas de herramientas realmente universales que implementan conjuntos de m√©todos m√°s o menos amplios (BGL / PBGL, LEMON, etc.), incluidos los masivamente paralelos (nvGraph, Gunrock). <br><br>  En base a ellos, se pueden crear sistemas de aplicaci√≥n que adapten algoritmos gr√°ficos a √°reas tem√°ticas espec√≠ficas. </li><li>  Sistemas y bibliotecas especializadas en problemas complejos particulares de importancia universal (METIS, paraMETIS, Zoltran: partici√≥n de gr√°ficos, GraphViz, Gephi: visualizaci√≥n, GraphBLAS: algoritmos algebraicos para trabajar con gr√°ficos, etc.). <br><br>  Muchas aplicaciones de gr√°ficos independientes se pueden asignar condicionalmente a esta categor√≠a, cuyo an√°lisis detallado requerir√≠a demasiado tiempo.  Este √∫ltimo contiene aplicaciones de todas las variedades imaginables: acad√©micas y comerciales, de usuario √∫nico y multiusuario, recientemente aparecidas y existentes por m√°s de una d√©cada, etc. </li></ol><br>  Una parte oscura pero significativa de las aplicaciones de gr√°ficos se centra en las tareas de An√°lisis de redes y, ya, An√°lisis de redes sociales (Detecci√≥n de la comunidad).  Curiosamente, los sistemas de an√°lisis de enlaces (utilizados, por regla general, por varios "luchadores contra el crimen") son mucho menos comunes, y tienen cierta similitud con el sistema que estamos desarrollando.  En todos los casos, sin una verificaci√≥n especial, es dif√≠cil determinar la naturaleza de los modelos de datos utilizados por varios sistemas y las limitaciones de rendimiento asociadas, vol√∫menes admitidos, conjuntos de operaciones, etc. <br><br><h3>  Notas </h3><br><ol><li><a name="P1"></a>  BGL no es una biblioteca puramente de encabezado, pero en este momento la √∫nica funcionalidad que necesita vinculaci√≥n es (m√°s bien opcional) trabajar con archivos GraphViz DOT.  Por lo tanto, en la gran mayor√≠a de los casos, no es necesario vincular y vincular autom√°ticamente con la versi√≥n adecuada de libbost-graph para incluir encabezados BGL en la configuraci√≥n de Boost.  Por lo tanto, para mantener la coherencia con la biblioteca libboost-regex utilizada por las funciones BGL sin encabezado, es conveniente simplemente conectar el encabezado boost \ regex.hpp del c√≥digo del proyecto, incluso si este √∫ltimo no utiliza expresiones regulares. </li><li><a name="P2"></a>  El caos adicional se introduce por la presencia de entidades cuya aparente equivalencia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">alienta la caza de gatos negros (posiblemente ausentes) en habitaciones oscuras</a> . </li><li><a name="P3"></a>  Antes de continuar con su descripci√≥n (usando un ejemplo espec√≠fico, donde se manifest√≥ especialmente fuerte y desagradable), notamos que el autor se encuentra entre las relativamente pocas personas afortunadas que trabajan con un proyecto cargado en un poderoso sistema operativo Windows y la l√≠nea de compiladores MSVC guardados por Dios.  Es posible que los problemas descritos a continuaci√≥n sean artefactos de esta l√≠nea de compiladores: una variedad de circunstancias particulares hacen que sea dif√≠cil realizar un experimento comparativo con gcc / clang en el entorno * nix.  Si es as√≠, solo puede felicitar a los usuarios de otros compiladores. </li><li><a name="P4"></a>  Para suavizar lo que en algunos casos, el constexpr recientemente apareci√≥ si probablemente ayudar√°. </li><li><a name="P5"></a>  En nuestro caso, esto llev√≥ a una atenci√≥n especial a la funci√≥n de ahorro de estado, que permite la depuraci√≥n con comodidad, primero llevando el sistema al estado inicial deseado en un ensamblaje optimizado. </li><li><a name="P6"></a>  En mi pr√°ctica, por varias razones, era necesario convertir los par√°metros de tiempo de ejecuci√≥n en argumentos de plantilla, y muy a menudo ten√≠a que recurrir a formas muy elaboradas y muy precisas (inspiradas en las implementaciones ahora desactualizadas de boost typeof y boost lambda para C ++ 98, que golpe√≥ directamente el tratar la t√©cnica de programaci√≥n en C ++ como una soluci√≥n al acertijo), entre los cuales la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">estrella destaca la selecci√≥n del argumento dividiendo a la mitad</a> , pero, en general, los principales problemas con tales operaciones siempre estuvieron asociados con la incapacidad de exportar  tipo seleccionado fuera del alcance, lo que dio lugar a patrones ex√≥ticos. </li><li><a name="P6X1"></a>       (   ‚Äî  80   4      50    200  ,     )     (  )       -   . ,                .    ,  6-8      ‚Äî   ,        . </li><li><a name="P7"></a>        ,        . (  ,       -  ,      .  ,     ,  ,     ,  ,       , ,        ). </li><li><a name="P8"></a>   ,    ,    ‚Äì   ,     ,   ¬´¬ª     (--  ..)     .  (  ,   ),    ,   ¬´¬ª    ,     ‚Äî     (              ).  ,  ,      , -   .  ,    ,   : ¬´¬ª  (   )  ,     ¬´¬ª (   ),         ,     .           .         ,   - ,      ¬´      ¬ª,      .        ,   ¬´  ¬ª     ? ,        ,         ,   :  ‚Äì    , ,       ,    ,          . </li><li><a name="P9"></a>    .         ,     ,             . </li><li><a name="P10"></a>    ¬´LIBNAME C++ graph¬ª  ,           stackoverflow.  ,  BGL   500    [boost-graph]. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/471652/">https://habr.com/ru/post/471652/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../471636/index.html">Veh√≠culo no tripulado: algoritmos de animaci√≥n. Informe Yandex</a></li>
<li><a href="../471640/index.html">Una descripci√≥n general de las t√©cnicas de an√°lisis de blockchain an√≥nimas</a></li>
<li><a href="../471642/index.html">Time Killer desde la infancia</a></li>
<li><a href="../471644/index.html">De nuevo sobre phpQuery</a></li>
<li><a href="../471650/index.html">Pizza AI: c√≥mo usamos dos redes neuronales recurrentes</a></li>
<li><a href="../471654/index.html">C√≥mo desarrollamos un dispositivo de internet de las cosas resistente a las heladas</a></li>
<li><a href="../471658/index.html">Estafadores telef√≥nicos. La primera acci√≥n en la que me dicen amablemente sobre otros estafadores</a></li>
<li><a href="../471660/index.html">Conferencia de psicolog√≠a del jugador</a></li>
<li><a href="../471662/index.html">Web: autenticaci√≥n de JavaScript, ofuscaci√≥n y c√≥digo nativo. Resoluci√≥n de problemas con r0ot-mi Web - Cliente. Parte 1</a></li>
<li><a href="../471664/index.html">Pasant√≠a en ABBYY: una empresa con la que puede ser "usted"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>