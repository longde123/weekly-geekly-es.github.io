<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ป ๐ง ๐ญ ุงุฎุชุจุงุฑ ุฑูุฒ ูุชุนุฏุฏ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูุบูุฑ ูุชุฒุงูู ๐ข ๐ข๏ธ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุญูุฉ! ูุงูุช ุงููููุฉ ูุฐุง ุงูุฃุณุจูุน ูู ูุชุงุจุฉ ุงุฎุชุจุงุฑ ุชูุงูู ูุชุทุจูู Spring Boot ุจุงุณุชุฎุฏุงู ุชูุงุนู ุบูุฑ ูุชุฒุงูู ูุน ุงูุฃูุธูุฉ ุงูุฎุงุฑุฌูุฉ. ุชุญุฏูุซ ุงููุซูุฑ ูู ุงูููุงุฏ ุญูู ุชุตุญูุญ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงุฎุชุจุงุฑ ุฑูุฒ ูุชุนุฏุฏ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูุบูุฑ ูุชุฒุงูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472152/" style=";text-align:right;direction:rtl"> ุชุญูุฉ!  ูุงูุช ุงููููุฉ ูุฐุง ุงูุฃุณุจูุน ูู ูุชุงุจุฉ ุงุฎุชุจุงุฑ ุชูุงูู ูุชุทุจูู Spring Boot ุจุงุณุชุฎุฏุงู ุชูุงุนู ุบูุฑ ูุชุฒุงูู ูุน ุงูุฃูุธูุฉ ุงูุฎุงุฑุฌูุฉ.  ุชุญุฏูุซ ุงููุซูุฑ ูู ุงูููุงุฏ ุญูู ุชุตุญูุญ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฐุงุช ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงููุชุนุฏุฏุฉ.  ุฅู ููุงู "ุงุฎุชุจุงุฑ ุงูุดูุฑุฉ ุงููุชุนุฏุฏุฉ ุงูุฎููุท ูุบูุฑ ุงููุชุฒุงููุฉ" ูููุฎุฑุฌ ุฌููุงุซุงู ูุงูุชุฑูุงู ุ ูุชุฑุฌูุชู ูู ุฃุฏูุงู ุ ุฌุฐุจุช ุงูุงูุชุจุงู. <br><a name="habracut"></a><br>  ุจูุถู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">shalomman</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดุฑูุฏุฑ</a> ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">FTOH</a> ุนูู ุชุนูููุงุช ููุฏ ุงูุฃูุซุฑ ุฃูููุฉ ูู ุงูููุงู ุงูุฃุตูู. <br><br>  ุฅุฐุง ููุช ุจูุชุงุจุฉ ุงูููุฏ ููุชุฑุฉ ูุงููุฉ ุฃู ูุง ุ ููู ุงููุญุชูู ุฃู ุชุตุงุฏู ูุตูุง ุชุญุชุงุฌ ููู ุฅูู ุงุฎุชุจุงุฑ ุงูููุฏ ูุชุนุฏุฏ ุงูุฎููุท.  ููุนุชูุฏ ุนูููุง ุฃู ุงูููุงุถูุน ูุงูุงุฎุชุจุงุฑุงุช ูุง ููุจุบู ุฃู ุชููู ูุฎุชูุทุฉ.  ูุญุฏุซ ูุฐุง ุนุงุฏุฉ ุจุณุจุจ  ูุง ูุชู ุงุฎุชุจุงุฑู ูุชู ุชุดุบููู ููุท ุฏุงุฎู ูุธุงู ูุชุนุฏุฏ ุงูุฎููุท ููููู ุงุฎุชุจุงุฑู ุจุดูู ูุฑุฏู ุฏูู ุงุณุชุฎุฏุงู ูุคุดุฑุงุช ุงูุชุฑุงุจุท.  ูููู ูุงุฐุง ูู ูู ุชุชููู ูู ุงููุตู ุจูููุง ุ ุฃู ุฃูุซุฑ ุ ุฅุฐุง ูุงู ุชุนุฏุฏ ุงูุนูููุงุช ูู ุฐูู ุงูุฌุงูุจ ูู ุงูููุฏ ุงูุฐู ุชุฎุชุจุฑูุ <br><br>  ุฃูุง ููุง ูุฃุฎุจุฑู ุฃูู ุนูู ุงูุฑุบู ูู ุฃู ุงูููุงุถูุน ูู ุงูุงุฎุชุจุงุฑุงุช ููุณุช ุดุงุฆุนุฉ ุฌุฏูุง ุ ุฅูุง ุฃููุง ุชุณุชุฎุฏู ุชูุงููุง.  ูู ุชููู ุงูุดุฑุทุฉ ุจุงููุจุถ ุนููู ูุจุฏุก ุฎูุท ูู ุงุฎุชุจุงุฑ ูุญุฏุฉ ุ ุนูู ุงูุฑุบู ูู ุฃู ููููุฉ ุงุฎุชุจุงุฑ ุงูููุฏ ูุชุนุฏุฏ ุงูุฎููุท ูู ุงููุงูุน ูุณุฃูุฉ ุฃุฎุฑู.  ุชููุฑ ุจุนุถ ุงูุชูููุงุช ุบูุฑ ุงููุชุฒุงููุฉ ุงูููุชุงุฒุฉ ุ ูุซู Akka ู Vert.x ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุฌูุญุฉ ุงุฎุชุจุงุฑ</a> ูุชุฎููู ูุฐุง ุงูุนุจุก.  ูููู ุจุนุฏ ุฐูู ุ ูุชุทูุจ ุงุฎุชุจุงุฑ ุงูููุฏ ูุชุนุฏุฏ ุงูุฎููุท ุนุงุฏุฉู ููุงุฑุจุฉ ูุฎุชููุฉ ุนู ุงุฎุชุจุงุฑ ุงููุญุฏุฉ ุงููุชุฒุงููุฉ ุงููููุฐุฌู. <br><br><h2 style=";text-align:right;direction:rtl">  ูุฐูุจ ุจุงูุชูุงุฒู </h2><br>  ุงูุฎุทูุฉ ุงูุฃููู ูู ุชุดุบูู ุฃู ุฅุฌุฑุงุก ูุชุนุฏุฏ ูุคุดุฑุงุช ุชุฑุงุจุท ุชุฑูุฏ ุงูุชุญูู ูู ุงููุชูุฌุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฏุนูุง ูุณุชุฎุฏู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุชุฑุงุถูุฉ ูุชุณุฌูู ูุนุงูุฌ ุงูุฑุณุงุฆู ูู ุญุงููุฉ ุงูุฑุณุงุฆู ููุดุฑ ุฑุณุงูุฉ ุนูู ุงููุงูู ุ ูุงูุชู ุณูุชู ุชุณููููุง ุฅูู ูุนุงูุฌูุง ุจุดูู ุบูุฑ ูุชุฒุงูู ูู ุณูุณูุฉ ุฑุณุงุฆู ูููุตูุฉ: <br><br><pre style=";text-align:right;direction:rtl"><code class="java hljs">messageBus.registerHandler(message - &gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Received "</span></span> + message); }); messageBus.publish(<span class="hljs-string"><span class="hljs-string">"test"</span></span>);</code> </pre> <br>  ุงููุง ุชุจุฏู ุฌูุฏุฉ.  ุนูุฏ ุจุฏุก ุงูุงุฎุชุจุงุฑ ุ ูุฌุจ ุนูู ุงูุญุงููุฉ ุชุณููู ุฑุณุงูุชูุง ุฅูู ุงููุนุงูุฌ ูู ุณูุณูุฉ ุฑุณุงุฆู ุฃุฎุฑู ุ ูููู ูุฐุง ููุณ ูููุฏูุง ููุบุงูุฉ ุ ูุธุฑูุง ูุฃููุง ูุง ูุชุญูู ูู ุฃู ุดูุก.  ุฏุนูุง ูุญุฏูุซ ุงุฎุชุจุงุฑูุง ูุชุฃููุฏ ุฃู ูุงูู ุงูุฑุณุงุฆู ูุณูู ุฑุณุงูุชูุง ููุง ูู ูุชููุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">String msg = <span class="hljs-string"><span class="hljs-string">"test"</span></span>; messageBus.registerHandler(message -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Received "</span></span> + message); assertEquals(message, msg); }; messageBus.publish(msg);</code> </pre> <br>  ูุจุฏู ุฃูุถู.  ูุฌุฑู ุงุฎุชุจุงุฑูุง ููู ุฃุฎุถุฑ.  ุจุงุฑุฏุฉ!  ููู ุงูุฑุณุงูุฉ ุงููุณุชููุฉ ูู ุชุทุจุน ูู ุฃู ููุงู ุ ูุงู ููุงู ุฎุทุฃ ูุง ูู ููุงู ูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุธุฑ ุซุงููุฉ </h2><br>  ูู ุงูุงุฎุชุจุงุฑ ุฃุนูุงู ุ ุนูุฏ ูุดุฑ ุฑุณุงูุฉ ุนูู ูุงูู ุงูุฑุณุงุฆู ุ ูุชู ุชุณููููุง ุจูุงุณุทุฉ ุงููุงูู ุฅูู ุงููุนุงูุฌ ูู ุณูุณูุฉ ุฑุณุงุฆู ุฃุฎุฑู.  ูููู ุนูุฏูุง ุชููู ุฃุฏุงุฉ ุงุฎุชุจุงุฑ ูุญุฏุฉ ูุซู JUnit ุจุฅุฌุฑุงุก ุงุฎุชุจุงุฑ ุ ูุฅููุง ูุง ุชุนุฑู ุดูุฆูุง ุนู ุชุฏููุงุช ูุงูู ุงูุฑุณุงุฆู.  JUnit ูุนุฑู ููุท ุนู ุงูููุถูุน ุงูุฑุฆูุณู ุงูุฐู ูุฏูุฑ ุงูุงุฎุชุจุงุฑ.  ูุจุงูุชุงูู ุ ูู ุญูู ุฃู ุญุงููุฉ ุงูุฑุณุงุฆู ูุดุบููุฉ ูู ูุญุงููุฉ ุชูุตูู ุงูุฑุณุงูุฉ ุ ูููู ุงูุงุฎุชุจุงุฑ ุงูุชูููุฐ ูู ุณูุณูุฉ ุฑุณุงุฆู ุงูุงุฎุชุจุงุฑ ุงูุฑุฆูุณูุฉ ูุชูุงุฑูุฑ JUnit ุชูุฌุญ.  ููููุฉ ุญู ูุฐุงุ  ูุญุชุงุฌ ุฅูู ูุคุดุฑ ุชุฑุงุจุท ุงูุงุฎุชุจุงุฑ ุงูุฑุฆูุณู ูุงูุชุธุงุฑ ูุงูู ุงูุฑุณุงูุฉ ูุชุณููู ุฑุณุงูุชูุง.  ูุฐูู ุฏุนููุง ูุถูู ุจูุงู ุงูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">String msg = <span class="hljs-string"><span class="hljs-string">"test"</span></span>; messageBus.registerHandler(message -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Received "</span></span> + message); assertEquals(message, msg); }; messageBus.publish(msg); Thread.sleep(<span class="hljs-number"><span class="hljs-number">1000</span></span>);</code> </pre> <br>  ุงุฎุชุจุงุฑูุง ุฃุฎุถุฑ ูุงูุชุนุจูุฑ ุงููุณุชูู ูุทุจูุน ููุง ูู ูุชููุน.  ุจุงุฑุฏุฉ!  ููู ุซุงููุฉ ูุงุญุฏุฉ ูู ุงูููู ุชุนูู ุฃู ุงุฎุชุจุงุฑูุง ูุชู ููุฏุฉ ุซุงููุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ุ ููุง ููุฌุฏ ุดูุก ุฌูุฏ ููู.  ูููููุง ุชูููู ููุช ุงูููู ุ ูููู ุจุนุฏ ุฐูู ููุงุฌู ุฎุทุฑ ุฅุชูุงู ุงูุงุฎุชุจุงุฑ ูุจู ุชููู ุฑุณุงูุฉ.  ูุญุชุงุฌ ุฅูู ุทุฑููุฉ ููุชูุณูู ุจูู ุณูุณูุฉ ุฑุณุงุฆู ุงูุงุฎุชุจุงุฑ ุงูุฑุฆูุณูุฉ ููุคุดุฑ ุฑุณุงูุฉ ุงููุนุงูุฌ.  ุจุงููุธุฑ ุฅูู ุงูุญุฒูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">java.util.concurrent</a> ุ ูู ุงููุคูุฏ ุฃููุง ุณูุฌุฏ ูุง ูููููุง ุงุณุชุฎุฏุงูู.  ูุงุฐุง ุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CountDownLatch</a> ุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">String msg = <span class="hljs-string"><span class="hljs-string">"test"</span></span>; CountDownLatch latch = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CountDownLatch(<span class="hljs-number"><span class="hljs-number">1</span></span>); messageBus.registerHandler(message -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Received "</span></span> + message); assertEquals(message, msg); latch.countDown(); }; messageBus.publish(msg); latch.await();</code> </pre> <br>  ูู ูุฐุง ุงูููุฌ ุ ูุดุงุฑู CountDownLatch ุจูู ูุคุดุฑ ุชุฑุงุจุท ุงูุงุฎุชุจุงุฑ ุงูุฑุฆูุณู ููุคุดุฑ ุชุฑุงุจุท ูุนุงูุฌ ุงูุฑุณุงูุฉ.  ูุชู ูุฑุถ ุงูุฎูุท ุงูุฑุฆูุณู ุนูู ุงูุงูุชุธุงุฑ ุนูู ูุงูุน.  ูุคุดุฑ ุงูุชุฑุงุจุท ุงุฎุชุจุงุฑ ุฅุตุฏุงุฑุงุช ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุฑุฆูุณู ุงููุนููุฉ ุนู ุทุฑูู ุงุณุชุฏุนุงุก countDown () ุนูู ูุงูุน ุจุนุฏ ุชููู ุงูุฑุณุงูุฉ.  ูู ูุนุฏ ุจุญุงุฌุฉ ุฅูู ุงูููู ูุซุงููุฉ ูุงุญุฏุฉ.  ูุณุชุบุฑู ุงุฎุชุจุงุฑูุง ููุณ ุงูููุช ุงูุฐู ุชุญุชุงุฌู ุจุงูุถุจุท. <br><br><h2 style=";text-align:right;direction:rtl">  ุณุนูุฏ ุฌุฏุงุ </h2><br>  ูู ุฎูุงู ุณุญุฑูุง ุงูุฌุฏูุฏ ุ CountDownLatch ุ ูุจุฏุฃ ูู ูุชุงุจุฉ ุงุฎุชุจุงุฑุงุช ูุชุนุฏุฏุฉ ุงูุฎููุท ุ ูุซู ุฃุญุฏุซ ุตูุญุงุช ุงูููุถุฉ.  ููู ุจุณุฑุนุฉ ูุจูุฑุฉ ุ ููุงุญุธ ุฃู ุฅุญุฏู ุญุงูุงุช ุงูุงุฎุชุจุงุฑ ูุฏููุง ูุญุธูุฑุฉ ุฅูู ุงูุฃุจุฏ ููุง ุชูุชูู.  ูุง ุงูุฐู ูุญุฏุซุ  ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ุณููุงุฑูู ูุงูู ุงูุฑุณุงูุฉ: ูุฌุนูู ูุงูุน ุงูุงูุชุธุงุฑ ุ ูููู ูุง ูุชู ุฅุตุฏุงุฑู ุฅูุง ุจุนุฏ ุชููู ุงูุฑุณุงูุฉ.  ุฅุฐุง ูู ุชุนูู ุงูุญุงููุฉ ููู ูุชู ุชุณููู ุงูุฑุณุงูุฉ ุฃุจุฏูุง ุ ููู ููุชูู ุงูุงุฎุชุจุงุฑ ุฃุจุฏูุง.  ูุฐูู ุฏุนููุง ูุถูู ูููุฉ ุฅูู ูุงูุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">latch.await(<span class="hljs-number"><span class="hljs-number">1</span></span>, TimeUnit.SECONDS);</code> </pre> <br>  ูุดู ุงุฎุชุจุงุฑ ูุญุธูุฑ ุจุนุฏ ุซุงููุฉ ูุงุญุฏุฉ ูุน ุงุณุชุซูุงุก TimeoutException.  ูู ุงูููุงูุฉ ุ ุณูุฌุฏ ุงููุดููุฉ ููุตูุญ ุงูุงุฎุชุจุงุฑ ุ ูููููุง ููุฑุฑ ุชุฑู ุงููููุงุช ูู ููุงููุง.  ุฅุฐุง ุญุฏุซ ูุฐุง ูุฑุฉ ุฃุฎุฑู ุ ููุญู ููุถู ุฃู ูููู ุงุฎุชุจุงุฑูุง ูุบูููุง ููุฏุฉ ุซุงููุฉ ูุชุนุทู ุ ุจุฏูุงู ูู ุงูุญุธุฑ ุฅูู ุงูุฃุจุฏ ูุนุฏู ุงูุงูุชูุงู ุนูู ุงูุฅุทูุงู. <br>  ููุงู ูุดููุฉ ุฃุฎุฑู ููุงุญุธูุง ุนูุฏ ูุชุงุจุฉ ุงูุงุฎุชุจุงุฑุงุช ููู ุฃููุง ุฌููุนูุง ุชุจุฏู ููุฃููุง ุชูุฑ ุญุชู ุนูุฏูุง ูุง ููุจุบู ููุง ุฐูู.  ููู ูุฐุง ููููุ  ุงููุธุฑ ูู ุงุฎุชุจุงุฑ ูุนุงูุฌุฉ ุงูุฑุณุงูุฉ ูุฑุฉ ุฃุฎุฑู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">messageBus.registerHandler(message -&gt; { assertEquals(message, msg); latch.countDown(); };</code> </pre> <br>  ูุงู ููุจุบู ููุง ุงุณุชุฎุฏุงู CountDownLatch ูุชูุณูู ุฅุชูุงู ุงุฎุชุจุงุฑูุง ูุน ูุคุดุฑ ุชุฑุงุจุท ุงูุงุฎุชุจุงุฑ ุงูุฑุฆูุณู ุ ูููู ูุงุฐุง ุนู ุงูุชุฃููุฏุงุชุ  ุฅุฐุง ูุดู ุงูุชุญูู ูู ุงูุตุญุฉ ุ ููู ุชุนุฑู JUnit ุญูู ูุฐุง ุงูููุถูุนุ  ุงุชุถุญ ุฃูู ูุธุฑูุง ูุฃููุง ูุง ูููู ุจุฅุฌุฑุงุก ุงูุชุญูู ูู ุงูุตุญุฉ ูู ุณูุณูุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุฑุฆูุณูุฉ ุ ูุฅู ุฃู ุนูููุงุช ูุญุต ูุนูุจุฉ ุชุธู ุฏูู ุฃู ุชูุงุญุธูุง JUnit ุชูุงููุง.  ุฏุนููุง ูุญุงูู ูุชุงุจุฉ ูุต ุตุบูุฑ ูุงุฎุชุจุงุฑ ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">CountDownLatch latch = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CountDownLatch(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(() -&gt; { assertTrue(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); latch.countDown(); }).start(); latch.await();</code> </pre> <br>  ุงูุงุฎุชุจุงุฑ ุฃุฎุถุฑ!  ุฅุฐู ูุงุฐุง ููุนู ุงูุขูุ  ูุญุชุงุฌ ุฅูู ุทุฑููุฉ ูุฅุฑุณุงู ุฃู ุฃุฎุทุงุก ุงุฎุชุจุงุฑ ูู ุฏูู ูุนุงูุฌ ุงูุฑุณุงูุฉ ูุฑุฉ ุฃุฎุฑู ุฅูู ุฏูู ุงูุงุฎุชุจุงุฑ ุงูุฑุฆูุณู.  ูู ุญุงูุฉ ุญุฏูุซ ูุดู ูู ูุคุดุฑ ุชุฑุงุจุท ูุนุงูุฌ ุงูุฑุณุงุฆู ุ ูุญุชุงุฌ ุฅูู ุงูุธููุฑ ูุฑุฉ ุฃุฎุฑู ูู ุณูุณูุฉ ุงูุฑุณุงุฆู ุงูุฑุฆูุณูุฉ ุญุชู ููููุจ ุงูุงุฎุชุจุงุฑ ุ ููุง ูู ูุชููุน.  ุฏุนูุง ูุญุงูู ุงูููุงู ุจุฐูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">CountDownLatch latch = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CountDownLatch(<span class="hljs-number"><span class="hljs-number">1</span></span>); AtomicReference&lt;AssertionError&gt; failure = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AtomicReference&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(() -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { assertTrue(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (AssertionError e) { failure.set(e); } latch.countDown(); }).start(); latch.await(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (failure.get() != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> failure.get();</code> </pre> <br>  ุจุฏุงูุฉ ุณุฑูุนุฉ ููุนู ุ ูุดู ุงูุงุฎุชุจุงุฑ ุ ููุง ููุจุบู!  ุงูุขู ูููููุง ุงูุนูุฏุฉ ูุฅุถุงูุฉ CountDownLatches ุ ุญุงูู / catch ู AtomicReference ูุชู ูุฌููุน ุญุงูุงุช ุงูุงุฎุชุจุงุฑ ูุฏููุง.  ุจุงุฑุฏุฉ!  ูู ุงููุงูุน ุ ููุณุช ุจุงุฑุฏุฉ ุ ูุจุฏู ูุซู ุงูุบูุงูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุทุน ุงูููุงูุฉ </h2><br>  ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ูุญุชุงุฌ ุฅูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุชุณูุญ ููุง ุจุชูุณูู ุงูุงูุชุธุงุฑ ุ ูุงูุชุญูู ุ ูุงุณุชุฆูุงู ุงูุชูููุฐ ุจูู ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุ ุจุญูุซ ูููู ุฃู ุชูุฑ ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ุฃู ุชูุดู ููุง ูู ูุชููุน ุ ุจุบุถ ุงููุธุฑ ุนู ููุงู ูุดู ุงูุชุญูู ูู ุงูุตุญุฉ.  ูุญุณู ุงูุญุธ ุ ูููุฑ ConcurrentUnit ุฅุทุงุฑ ุนูู ุฎููู ุงููุฒู ูููู ููุท ุจูุง ููู: Waiter.  ุฏุนููุง ุชูููู ุงุฎุชุจุงุฑ ูุนุงูุฌุฉ ุงูุฑุณุงุฆู ุฃุนูุงู ูููุฑุฉ ุงูุฃุฎูุฑุฉ ููุฑู ูุง ูููู ุฃู ููุนูู Waiter ูู ConcurrentUnit ุจุงููุณุจุฉ ููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">String msg = <span class="hljs-string"><span class="hljs-string">"test"</span></span>; Waiter waiter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Waiter(); messageBus.registerHandler(message -&gt; { waiter.assertEquals(message, msg); waiter.resume(); }; messageBus.publish(msg); waiter.await(<span class="hljs-number"><span class="hljs-number">1</span></span>, TimeUnit.SECONDS);</code> </pre> <br>  ูู ูุฐุง ุงูุงุฎุชุจุงุฑ ุ ูุฑู ุฃู Waiter ูุฏ ุญู ูุญู CountDownLatch ู AtomicReference ุงูุฎุงุต ุจูุง.  ูุน Waiter ุ ูููู ุจุญุธุฑ ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุฑุฆูุณู ููุงุฎุชุจุงุฑ ุ ููุฌุฑู ุงูุงุฎุชุจุงุฑ ุ ุซู ูุณุชุฃูู ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุฑุฆูุณู ููุงุฎุชุจุงุฑ ุญุชู ูููู ุฅููุงู ุงูุงุฎุชุจุงุฑ.  ุฅุฐุง ูุดูุช ุนูููุฉ ุงููุญุต ุ ูุญููุฆุฐู ุณุชููู ุงูุฏุนูุฉ ุฅูู waiter.await ุจุฅุทูุงู ุงูููู ุชููุงุฆููุง ูุฑูู ุฃู ุนุทู ุ ููุง ูุคุฏู ุฅูู ุงุฌุชูุงุฒ ุงูุงุฎุชุจุงุฑ ุฃู ุฅุฎูุงูู ุ ููุง ููุจุบู ุ ุญุชู ูู ุชู ุฅุฌุฑุงุก ุงููุญุต ูู ุฎูุท ุขุฎุฑ. <br><br><h2 style=";text-align:right;direction:rtl">  ุญุชู ุฃูุซุฑ ุชูุงุฒูุง </h2><br>  ุงูุขู ููุฏ ุฃุตุจุญูุง ุงุฎุชุจุงุฑ ูุนุชูุฏ ูุชุนุฏุฏ ุงูุฎููุท ุ ููุฏ ููุฏ ุฃู ูุคูุฏ ุญุฏูุซ ุงูุนุฏูุฏ ูู ุงูุฅุฌุฑุงุกุงุช ุบูุฑ ุงููุชุฒุงููุฉ.  ุงููุงุฏู ุงููุชุฒุงููุฉ ูุฌุนู ูุฐุง ุจุณูุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Waiter waiter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Waiter(); messageBus.registerHandler(message -&gt; { waiter.resume(); }; messageBus.publish(<span class="hljs-string"><span class="hljs-string">"one"</span></span>); messageBus.publish(<span class="hljs-string"><span class="hljs-string">"two"</span></span>); waiter.await(<span class="hljs-number"><span class="hljs-number">1</span></span>, TimeUnit.SECONDS, <span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  ููุดุฑ ููุง ุฑุณุงูุชูู ุนูู ุงูุญุงููุฉ ููุชุญูู ูู ุชุณููู ููุชุง ุงูุฑุณุงูุชูู ุ ููุง ูุฌุนู Waiter ููุชุธุฑ ุงุณุชุฆูุงู ุงูุณูุฑุฉ () ูุฑุชูู.  ุฅุฐุง ูู ูุชู ุชุณููู ุงูุฑุณุงุฆู ููู ูุชู ุงุณุชุฏุนุงุก ุงูุงุณุชุฆูุงู ูุฑุชูู ุฎูุงู ุซุงููุฉ ูุงุญุฏุฉ ุ ูุณููุดู ุงูุงุฎุชุจุงุฑ ุจุณุจุจ ุฎุทุฃ TimeoutException. <br>  ูุตูุญุฉ ูุงุญุฏุฉ ุนุงูุฉ ูุน ูุฐุง ุงูููุฌ ูู ุงูุชุฃูุฏ ูู ุฃู ูููุงุชู ุทูููุฉ ุจูุง ูููู ูุฅููุงู ุฃู ุฅุฌุฑุงุกุงุช ูุชุฒุงููุฉ.  ูู ุธู ุงูุธุฑูู ุงูุนุงุฏูุฉ ุ ุนูุฏูุง ูุนูู ุงููุธุงู ููุฏ ุงูุงุฎุชุจุงุฑ ููุง ูู ูุชููุน ุ ูุฅู ูููุฉ ูุง ููู ููุง ูุณุฑู ุฅูุง ูู ุญุงูุฉ ูุดู ุงููุธุงู ูุฃู ุณุจุจ ูู ุงูุฃุณุจุงุจ. <br><br><h2 style=";text-align:right;direction:rtl">  ููุฎุต </h2><br>  ูู ูุฐุง ุงูููุงู ุ ุนูููุง ุฃู ุงุฎุชุจุงุฑ ุงููุญุฏุฉ ูุชุนุฏุฏุฉ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ููุณ ุดุฑูุง ููู ุงูุณูู ุฌุฏูุง ุงูููุงู ุจู.  ููุฏ ุชุนูููุง ุนู ุงูููุฌ ุงูุนุงู ุนูุฏูุง ูููุน ูุคุดุฑ ุชุฑุงุจุท ุงูุงุฎุชุจุงุฑ ุงูุฑุฆูุณู ุ ููุฌุฑู ุงุฎุชุจุงุฑุงุช ูู ุจุนุถ ุณูุงุณู ุงูุฑุณุงุฆู ุงูุฃุฎุฑู ุ ุซู ูุณุชุฃูู ุณูุณูุฉ ุงูุฑุณุงุฆู ุงูุฑุฆูุณูุฉ.  ูุชุนูููุง ุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ConcurrentUnit</a> ุ ูุงูุชู ูููู ุฃู ุชุณูู ูุฐู ุงููููุฉ. <br>  ุงุฎุชุจุงุฑ ุณุนูุฏ! <br><br>  <b>ุชุฑุฌู ุจูุงุณุทุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">middle_java</a></b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar472152/">https://habr.com/ru/post/ar472152/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar472128/index.html">ููุงุฐุง ูุนุฌุจูู PHPุ</a></li>
<li><a href="../ar472130/index.html">ููููุฉ ููุน ููุงุฌ ุงูุดุฑูุฉุ</a></li>
<li><a href="../ar472138/index.html">ุฑูููุฉ ุงูุชุนููู</a></li>
<li><a href="../ar472144/index.html">ุตุงูุฑุฉ ุงูุฌููุน ุนูู ููููุณ ูุงูุฑุนุฏ ูุงูุจุฑู</a></li>
<li><a href="../ar472148/index.html">Retrogaming: PAL vs NTSC. ุฃู ููุงุฐุง ููุณุช ููุงู ุญุงุฌุฉ PAL</a></li>
<li><a href="../ar472154/index.html">ููู ูุง ุชููุช ููุฒุงููุฉ ุงูุฅูุชุงุฌ ุงูุชุณูุณูู ูููุจุงูู -2: ุฃุณุนุงุฑ ุตุจ ุงูุจูุงุณุชูู ุนูู ูุทุงู ุตุบูุฑ</a></li>
<li><a href="../ar472156/index.html">ุชุทุจูู ููุท ูุงุฆู ุงูุตูุญุฉ ูู Python + pytest</a></li>
<li><a href="../ar472158/index.html">"ุงูุนูููุฉ ุงูุชุนููููุฉ ูู ุชูููููุฌูุง ุงููุนูููุงุช ูููุณ ููุท": ูุณุงุจูุงุช ุงูุชูููููุฌูุง ูุฃุญุฏุงุซ ุฌุงูุนุฉ ITMO</a></li>
<li><a href="../ar472160/index.html">ูุธุงู ุงูุชุดุบูู ุงูููููุฉ: ูุงูุฐุฉ ุงููุธุงู ุงููุฑุนู - ูู ุงูุถูุงุจุท</a></li>
<li><a href="../ar472162/index.html">ุงูุงุณุชุนุงูุฉ ุจูุตุงุฏุฑ ุฎุงุฑุฌูุฉ ุงูุชุณููู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: ููููุฉ ุจูุงุก ููุง ูููู ุชููุนู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>