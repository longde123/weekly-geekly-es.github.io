<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☢️ 🐮 👂🏾 Catatan Pentester: Pelindung Kasus 🈯️ 🎽 🤔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- Kalian keren! Jadi belum ada yang mengecewakan kita! 
 - Kami sudah mencoba. 

 Ya, kehidupan pemburu kerentanan penuh dengan pujian khusus dari pel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Catatan Pentester: Pelindung Kasus</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/463971/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/re/l-/nd/rel-ndtljsrzvl8wwp1enh1uvsw.jpeg" alt="gambar"></div><br>  <i>- Kalian keren!</i>  <i>Jadi belum ada yang mengecewakan kita!</i> <i><br></i>  <i>- Kami sudah mencoba.</i> <br><br>  Ya, kehidupan pemburu kerentanan penuh dengan pujian khusus dari pelanggan dan situasi yang tidak kalah spesifik.  Selama setahun terakhir, kami telah menyelesaikan lebih dari lima puluh tes penetrasi di berbagai perusahaan dan, harus dikatakan, telah melihat segalanya.  Satu kata sandi untuk semua akun dan sistem, penyimpanan kata sandi yang terbuka dalam database, sisa-sisa fungsi debugging di lingkungan pertempuran ... Oleh karena itu, ketika kolega kami dari JSOC CERT <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menceritakan</a> beberapa kisah tentang investigasi insiden cyber, kami di departemen Pentest memutuskan untuk mengikuti dan menunjukkan sisi lain dari "barikade" »: Infrastruktur pelanggan melalui mata seorang peretas.  Hari ini kami akan memberi tahu Anda tentang pentest eksternal paling menarik dalam beberapa waktu terakhir, ketika kami harus menembus batas internal pelanggan, hanya memiliki daftar alamat IP eksternal dan nama domainnya. <br><a name="habracut"></a><br><h3>  Odyn </h3><br>  Senin: <br>  - Guys, mulai lebih cepat dengan pentest - Anda hanya punya 3 minggu untuk meretas kami.  Tetapi perlu diingat bahwa peluang Anda minimal: mereka memeriksa kami setiap tahun dan tidak menemukan petunjuk. <br><br>  Setelah 4 jam: <br>  "Kita sudah di dalam." <br>  - Ayo?  Tidak mungkin seperti itu!  Sekarang mari kita periksa log ... <br><br>  Jumat: <br>  - Sial, sungguh.  Bagaimana bisa ?!  Tetapi karena waktu tidak berhasil, mungkin Anda akan mencari sesuatu yang lain? <br>  - Ya, tidak ada pertanyaan. <br><br>  Dan kami mulai mencari.  Memindai perimeter organisasi, kami menemukan sebuah host di mana 4 aplikasi web berputar, server FTP, dan panel admin phpMyAdmin digantung.  Analisis aplikasi web tidak mengungkapkan kerentanan kritis (misalnya, injeksi SQL, XXE, RCE, dll.) Yang memungkinkan kami mengakses server.  Di beberapa titik mereka beralih ke FTP - dan di sini sudah lebih menarik: akses anonim dibuka di server, tetapi hanya untuk membaca. <br><br><img src="https://habrastorage.org/webt/lt/qr/e_/ltqre_p9rtpvg9bjptbm3rdkoas.jpeg" alt="gambar"><br><br>  Selama beberapa hari, kami memeriksa konten server dan menemukan beberapa baris aneh di log - beberapa kata sandi dimasukkan dengan salah untuk admin aplikasi web. <br><br><img src="https://habrastorage.org/webt/ct/b4/sg/ctb4sgs3uzd7vbrio_ocne28kle.jpeg" alt="gambar"><br><br>  Berdasarkan opsi yang salah, kami membuat asumsi tentang seperti apa kata sandi itu, dan muncul.  Kami memutuskan untuk mencobanya untuk phpMyAdmin, dan - oh, keajaiban - juga muncul.  Selanjutnya, itu masalah kecil - unggah shell, akses jaringan internal, dapatkan pijakan di sana dan kembangkan di dalamnya. <br><br><img src="https://habrastorage.org/webt/jo/_y/_q/jo_y_qwwskq7z10la6ijhcv7hpi.jpeg" alt="gambar"><br><br>  Inilah kemalasan yang biasa (dan bagaimana cara lain untuk menjelaskan keengganan untuk memasukkan kata sandi yang berbeda untuk setiap panel admin?) Membuka jalan bagi peretas ke jaringan internal organisasi. <br><br><h3>  Mengapa men-debug di lingkungan pertempuran? </h3><br>  Sebagian besar terobosan kami terjadi melalui aplikasi web, dan sering kali kami menemukan "sisa" pengembangan dan pengujian yang aneh.  Seringkali kita menemukan log, beberapa mode debug, tetapi tidak selalu dengan bantuannya kita berhasil melakukan RCE (eksekusi kode jarak jauh). <br><br>  Selama salah satu klien kami, kami menemukan sistem CRM, yang kami putuskan untuk menghabiskan lebih banyak waktu (dan, harus saya katakan, itu kemudian terbayar).  Melakukan analisis aplikasi, kami menemukan sisa-sisa tes, yang, tampaknya, digunakan pada tahap pengembangan.  Otentikasi terjadi pada mereka dengan cara yang sangat ajaib: hanya nama pengguna dan fakta melewati parameter yang mengandung beberapa kata sandi yang diperiksa.  Lima menit mencari dan membaca dokumentasi standar - dan kami memiliki di tangan kami nama akun pengguna super bawaan.  Mengisi shell sudah menjadi masalah teknologi. <br><br><img src="https://habrastorage.org/webt/1v/x7/eu/1vx7euqw9abtywzmfoxknwfakwe.jpeg" alt="gambar"><br><br>  Contoh lain.  Pada awal proyek, kami meluncurkan bruteforce rekursif dari subdomain dan meninggalkannya.  Setelah beberapa waktu, yang mengejutkan kami, subdomain tingkat kelima yang disebut test.debug.application.client.ru muncul, di mana kami menemukan aplikasi web dengan Adminer diinstal di sana.  Ini adalah aplikasi administrasi basis data yang ringan, di versi yang lama, dengan pengaturan yang salah, Anda dapat berinteraksi dengan basis data SQLite tanpa kata sandi. <br><br>  Fakta bahwa tidak ada data dalam database ini tidak penting - lagipula, dalam SQLite Anda dapat membuat database pada jalur arbitrer dengan shell web sederhana di dalamnya, sehingga mendapatkan kemampuan untuk mengelola server dengan mudah dan menjalankan perintah di atasnya dari halaman web. <br><br>  Yang tersisa hanyalah mencari tahu alamat lengkap aplikasi web di server.  Di sini kami dibantu oleh semua CMS 1C-Bitrix "tercinta", yang, dalam pesan kesalahan, dengan senang hati berbagi dengan kami di mana ia berada.  Kemudian tinggal mengisi shell dan menyelesaikan proyek. <br><br><img src="https://habrastorage.org/webt/ca/sq/xa/casqxa5eywlhhzzy-c2etsjvkvk.jpeg" alt="gambar"><br><br>  Bekerja dengan DB SQLite dapat dilihat di <a href="">sini</a> . <br><br><h3>  Ditemukan log?  Kata sandi sebagai hadiah! </h3><br>  Seorang pelanggan meminta kami melakukan pentest aplikasi web.  Selama tiga tahun sebelumnya, ia mengadakan pentest dengan tim lain dan mungkin berhasil menambal beberapa lubang di perimeter, jadi kami tidak mengharapkan kesuksesan cepat. <br><br>  Selama fuzzing aplikasi web, kami menemukan halaman di mana otorisasi pengguna dicatat.  Waktu dan login pengguna yang masuk ke aplikasi ditampilkan di log.  Kami menulis sebuah skrip yang beberapa menit sekali menyurvei halaman ini, mem-parsing respons dan menuliskan login yang ditemukan dalam file.  Setelah beberapa hari, kami berhasil mengumpulkan sekitar seratus login.  Kami memutuskan untuk memulai pemilihan kata sandi - untuk 5 login mereka ditemukan dalam daftar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kata sandi terburuk TOP-500</a> . <br><br>  Setelah mendapatkan akses ke aplikasi, kami terus menganalisisnya dan menemukan file lain yang menarik - semua permintaan basis data waktu nyata ditampilkan di dalamnya.  Dengan alat debugging yang nyaman seperti itu, mencari kerentanan dan mengeksploitasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">injeksi SQL Boolean-Timebased yang</a> ditemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">telah</a> menjadi tugas yang sepele. <br><br>  Terlepas dari kenyataan bahwa ini sudah 2019, orang masih percaya bahwa menyimpan kata sandi dalam database dalam bentuk terbuka adalah ide yang bagus.  Kami menggunakan ini dan menemukan injeksi SQL dan mendapatkan akun administrator untuk mengisi shell web dan membuka akses ke jaringan internal organisasi itu bukan masalah besar. <br><br><h4>  Tanda pangkas </h4><br>  Pertama, lakukan pengujian penetrasi berkala - mereka akan membantu Anda menemukan titik-titik tipis yang mungkin Anda lewatkan pada tahap pengembangan atau ketika beralih dari lingkungan pengujian ke yang memerangi. <br><br>  Kedua, selalu pertimbangkan faktor manusia: orang terlalu malas untuk mengubah kata sandi, dan mereka bahkan dapat menggunakan satu kata sandi di beberapa situs.  Ya, admin juga melakukan dosa ini. <br><br>  Ketiga, hapus mode debugging di lingkungan pertempuran. <br><br><h3>  PS </h3><br>  Secara umum, kehidupan sehari-hari departemen Pentest penuh dengan semua jenis "hiburan" dan, tentu saja, tes eksternal bukan satu-satunya.  Pelanggan mungkin ingin memeriksa kerentanan perimeter internal (pentest internal), atau menganalisis keamanan aplikasi web dan seluler, serta jaringan WiFi, atau mengatur agar karyawan memeriksa menggunakan metode rekayasa sosial. <br><br>  Di waktu luang kami dari proyek, kami <s>memahami Zen,</s> mencari kerentanan baru, meningkatkan alat dan teknik kami.  Dan kami terlibat dalam bugbounty (di mana tanpanya). <br><br>  Anda akan belajar tentang keragaman "petualangan" kami di posting berikut. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id463971/">https://habr.com/ru/post/id463971/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id463957/index.html">Bagaimana cara menyebarkan daftar wawancara yang terhubung sendiri</a></li>
<li><a href="../id463961/index.html">Mapper sendiri atau sedikit tentang ExpressionTrees</a></li>
<li><a href="../id463963/index.html">Pengenalan wajah di lokasi konstruksi</a></li>
<li><a href="../id463965/index.html">Aplikasi typeset di LaTeX</a></li>
<li><a href="../id463969/index.html">Anggaran Keluarga Telegram</a></li>
<li><a href="../id463975/index.html">Lingkungan Modern untuk Bereaksi Aplikasi Asli</a></li>
<li><a href="../id463981/index.html">Putra ibu cemburu padanya: bagaimana memenangkan Alice Award dua kali</a></li>
<li><a href="../id463983/index.html">Dari 0% hingga 70% pasar: Bagaimana Google Chrome menyerap Internet?</a></li>
<li><a href="../id463985/index.html">Aki Phoenix</a></li>
<li><a href="../id463987/index.html">Aplikasi untuk e-book di sistem operasi Android. Bagian 2. Aplikasi toko buku dan pembaca buku</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>