<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüé® üë©üèΩ‚Äçü§ù‚Äçüë®üèª üë®‚Äçüè≠ Drones mostram: como coordenamos um enxame de helic√≥pteros dan√ßantes üë®‚Äçüé® üë®üèº‚Äçüåæ üêì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hot√©is e parques de divers√µes precisam de shows de drones. Artistas e fogos de artif√≠cio s√£o bons, mas n√£o o suficiente. Voc√™ precisa criar algo brilh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Drones mostram: como coordenamos um enxame de helic√≥pteros dan√ßantes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/croc/blog/427353/"><img src="https://habrastorage.org/webt/hb/ki/xb/hbkixbhtdlt1swl7mzg6qwvzi0w.jpeg"><br><br>  Hot√©is e parques de divers√µes precisam de shows de drones.  Artistas e fogos de artif√≠cio s√£o bons, mas n√£o o suficiente.  Voc√™ precisa criar algo brilhante para os convidados.  Um show de drones √© exatamente isso.  Participamos do projeto de organiza√ß√£o regular de shows de drones para um parque de divers√µes estrangeiro. <br><br>  E agora sabemos como fazer os mesmos shows na R√∫ssia. <br><br>  Quando se trata de um enxame de 300 ou 1.000 ve√≠culos na frota, a precis√£o do posicionamento (ou seja, a localiza√ß√£o de cada drone individual em rela√ß√£o ao solo e entre si) n√£o desempenha um papel especial.  Esta √© uma massa acelerada, onde as part√≠culas est√£o a uma dist√¢ncia de v√°rios metros uma da outra.  Massa muito cara.  Mais ou menos, o medidor n√£o importa aqui: eles aceitam porque est√£o longe do espectador e porque realmente existem muitos drones.  Mesmo que algumas pe√ßas caiam - tudo bem.  Mas aqui hot√©is e parques, organizadores de eventos n√£o de grande escala, por exemplo, precisam de drones na quantidade de 20 a 90 pe√ßas, e aqui o posicionamento √© cr√≠tico. <br><br>  Nesse caso, voc√™ pode ter apenas precis√£o e sincronismo.  Resolvemos esse problema. <br><a name="habracut"></a><br><h3>  Por que e como foi tudo </h3><br>  A CROC possui uma divis√£o de rob√≥tica.  Ele surgiu em 2012 e est√° envolvido em v√°rias coisas interessantes, mas sua principal dire√ß√£o √© o controle de UAV.  Estamos cortando nossos pr√≥prios softinks para controlar drones e resolver tarefas fora do padr√£o.  Os participantes da competi√ß√£o de 2013 podem estar cientes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">desse c√≥digo do</a> github que desenvolvemos e usamos para controlar o drone na competi√ß√£o de drones voadores.  Naquela √©poca, est√°vamos resolvendo uma nova tarefa para o mercado - congelar o drone no lugar certo, evitando cuidadosamente cantos e obst√°culos.  Hoje isso parece rid√≠culo. <br><br>  Al√©m disso, estamos realizando projetos de gerenciamento de UAV com base no software do fornecedor, incluindo o software de engenharia SPH.  Eles possuem uma esta√ß√£o terrestre de software UgCS e um centro de comando completo para grandes √°reas de dronagem.  O UgCS pode controlar um grande grupo de ve√≠culos n√£o tripulados, o que o distingue das esta√ß√µes convencionais de controle de solo.  Por administra√ß√£o, entendemos planejar uma rota de v√¥o, por exemplo, para opera√ß√µes de resgate ou voar em torno de um per√≠metro de seguran√ßa, enviando comandos remotos e monitorando o status dos ve√≠culos.  De fato, para shows de drones, aproximadamente as mesmas fun√ß√µes s√£o necess√°rias no centro de comando.  E agora, com base na plataforma UgCS, o software Drone Dance Controller altamente especializado apareceu, mas isso n√£o aconteceu imediatamente. <br><br><h3>  E como foi </h3><br>  <b>Suave</b>  A primeira vers√£o, que meu parceiro e eu testamos em pouco tempo, usava a funcionalidade padr√£o da maioria dos drones civis, ou seja, voando ao longo de uma determinada rota.  Uma rota √© um conjunto de coordenadas entre as quais um drone se move em uma linha reta a uma determinada velocidade, fazendo algo √∫til ao longo da estrada.  Para a maioria das tarefas resolvidas pelos drones, esse planejamento de voo √© mais que suficiente.  Mas pelo menos n√£o h√° sincroniza√ß√£o de tempo, ou seja, √© dif√≠cil for√ßar o drone a estar em um determinado ponto no momento certo, o que √© essencial para um voo em grupo.  No entanto, a primeira vers√£o √© a primeira, para constru√≠-lo rapidamente e come√ßar a voar.  Tra√ßamos rotas da maneira padr√£o (no UgCS, √© claro), carregamos nos drones - e avan√ßamos. <br><br><img src="https://habrastorage.org/webt/ml/nt/d4/mlntd4ahitavl7gjqo3tom6zv2o.jpeg"><br><br>  A sincroniza√ß√£o do v√¥o foi feita, como esperado, na testa.  Nas rotas dos drones, foram identificados pontos onde o drone parou e esperou um comando do solo para continuar o voo.  N√≥s os chamamos de pontos de sincroniza√ß√£o.  O operador em terra tinha que garantir que todos os drones chegassem aos pontos de sincroniza√ß√£o e enviar a eles o comando "Continuar" para continuar o voo. <br><br>  <b>Ferro</b>  A primeira vers√£o utilizava apenas rotas do tipo padr√£o e, como resultado, permitia o uso de drones de diferentes fabricantes.  Mas decidimos imediatamente consertar a plataforma de destino e realizar todos os testes nela. <br><br>  N√£o havia drones prontos para o show naquele momento.  Eles n√£o est√£o no momento da reda√ß√£o, mas h√° esperan√ßa de que eles apare√ßam em breve.  Enquanto isso, voc√™ deve coletar voc√™ mesmo.  N√≥s os montamos com base em uma estrutura de 450 mm e escolhemos o Pixhawk de c√≥digo aberto como piloto autom√°tico, por um lado, para desatar as m√£os, tanto em hardware quanto em firmware.  Por outro lado, para que os usu√°rios possam comprar facilmente todos os componentes necess√°rios e montar o produto certo por conta pr√≥pria.  Mas, em geral, apenas o piloto autom√°tico √© estritamente corrigido.  Outros elementos estruturais s√£o opcionais. <br><br>  E um ponto importante - imediatamente come√ßamos a nos concentrar na tecnologia GPS RTK.  Ele permite alcan√ßar precis√£o de cent√≠metro do posicionamento em rela√ß√£o √† esta√ß√£o base terrestre (precis√£o GPS convencional de 3 ou mais metros). <br><br>  Sim, o GPS RTK complica tudo, porque requer a disponibilidade de receptores com suporte a GPS RTK a bordo de cada dispositivo, para o qual voc√™ precisa enviar dados constantemente a partir de uma esta√ß√£o terrestre.  Mas n√£o havia nada a ser feito: entendemos que n√≥s e nossos clientes n√£o alcan√ßar√≠amos imediatamente grandes frotas.  Com centenas e milhares de drones no ar, voc√™ pode desenhar figuras volum√©tricas em grande escala, nas quais a posi√ß√£o de cada drone n√£o √© muito cr√≠tica para os olhos.  E o que pode ser desenhado com dezenas de drones?  Provavelmente, ser√£o algumas pequenas figuras geom√©tricas simples e suas transforma√ß√µes, para as quais a precis√£o do v√¥o √© absolutamente cr√≠tica.  Grosso modo, os drones devem ser capazes de alinhar em linha reta, agrad√°vel aos olhos e sem falhas. <br><br>  Al√©m disso, os drones em Atlanta carregam LEDs RGB.  O trabalho deles pode ser incorporado √† miss√£o ou pode ser controlado a partir do solo, mas, ao mesmo tempo, a carga adicional no canal de r√°dio deve ser levada em considera√ß√£o.  No entanto, em vez de LEDs, o drone pode transportar pe√ßas pirot√©cnicas, embora, √© claro, voc√™ tenha muito cuidado com elas. <br><br>  Aqui est√° um exemplo de um dos primeiros v√¥os na primeira vers√£o de hardware e software (e apenas com pirotecnia).  As linhas normais tamb√©m s√£o claramente vis√≠veis (bem, ok, ok. Ainda havia algo para trabalhar.) E sincroniza√ß√£o manual.  Ou seja, cerca de 40 a 50 vezes durante o show, o operador clicou em "Vamos mais longe" e, em seguida, a pr√≥xima equipe foi enviada aos drones para todos. <br><br>  Mas algo aconteceu j√° voando. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/G5Ra4vBVyL8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Assim, o cliente voou fora da temporada de shows di√°rios. <br><br><h3>  Como isso funciona agora </h3><br>  Na pr√°tica, a primeira vers√£o n√£o era a solu√ß√£o mais bem-sucedida.  Em primeiro lugar, a presen√ßa de sincroniza√ß√£o manual constante √© ruim.  O comando Continuar pode n√£o alcan√ßar o drone devido a, por exemplo, m√°s comunica√ß√µes de r√°dio.  Nesse caso, todos voar√£o para longe e ele, o pobre, permanecer√°.  Em segundo lugar, √© imposs√≠vel criar rotas complexas, o que impede a cria√ß√£o de pinturas animadas, apenas cenas est√°ticas s√£o poss√≠veis. <br><br>  Agora tudo ficou mais f√°cil: cerca de meio ano atr√°s, o fornecedor lan√ßou uma vers√£o especial do software - Drone Dance Controller, por exemplo.  Aqui, ele conjurou um pouco o piloto autom√°tico e o ensinou a voar autonomamente ao longo de trajet√≥rias arbitr√°rias, com uma clara refer√™ncia ao tempo do GPS.  Trajet√≥rias podem ser preparadas em um editor 3D ou usando scripts.  O operador agora precisa clicar no bot√£o "Iniciar" e parar de fumar.  A sa√≠da pode ser algo como isto: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/LlzcwvD3VtQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ou isto: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SUL4SGHtkQw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Mas, antes de estragar os pulm√µes, a equipe precisa concluir a etapa crucial da prepara√ß√£o para o show. <br>  Portanto, antes de tudo, √© necess√°rio preparar a frota: verifique se todos os drones est√£o em um estado letal, corretamente configurados e que nada caiu deles durante o transporte. <br><br>  Paralelamente, o show em si deve ser preparado.  Come√ßamos com a anima√ß√£o que pode ser feita em um editor 3D, por exemplo, no Blender: <br><br><img src="https://habrastorage.org/webt/h-/4a/ea/h-4aeaoaolo7sq_irnxscgqr8ru.png"><br><br>  Em seguida, convertemos as trajet√≥rias da anima√ß√£o em um formato compreens√≠vel para o piloto autom√°tico.  E, antes de sair para voar para o campo, verificamos cuidadosamente os simuladores com uma avalia√ß√£o do resultado.  A simula√ß√£o nos d√° a oportunidade de colocar drones virtuais nas coordenadas necess√°rias e trabalhar com eles em nosso software e em dispositivos reais.  Voc√™ pode avaliar o voo deles em tempo real, bem como p√≥s-processar seus movimentos e visualizar o resultado em algum tipo de cena 3D. <br><br>  Em v√≠deo - um exemplo de visualiza√ß√£o de diferentes pontos de vista. <br><br>  Ponto de vista: Visualizador <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SmjWVEa7rew" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ponto de vista: plataforma de lan√ßamento <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/swGcBAO5Duw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ponto de vista 1 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/QyGKieB9H8k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ponto de vista 2 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/R5CIPX7GIR8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Depois disso, vamos ao campo para testes.  Implementamos a infraestrutura (esta√ß√£o terrestre, comunica√ß√µes), organizamos drones.  Verificamos que eles transportaram bem e que todos os drones se conectam √† nossa esta√ß√£o.  Al√©m disso, o software determina automaticamente qual aeronave em que rota deve voar.  Definimos a hora de in√≠cio - e o encaminhamos. <br><br>  E ent√£o - e o pr√≥prio show. <br><br>  Claro, sobre "parar de fumar" - era uma piada.  Como diretamente durante o voo, o operador e os observadores devem monitorar o estado atual da frota e, se necess√°rio, tomar uma decis√£o sobre o pouso de emerg√™ncia de drones com falha (em todos os sentidos). <br><br>  Obviamente, h√° v√°rias limita√ß√µes. <br><br>  Clima: n√£o voamos sob chuva e neve (por enquanto) e n√£o gostamos de ventos acima de 5 m / s.  √â claro que o drone voar√° a 10 m / s, mas a precis√£o de manter a posi√ß√£o pode n√£o ser muito boa. <br><br>  O ar deve estar relativamente livre nas frequ√™ncias usadas para se comunicar com os drones. <br><br>  Seguran√ßa: os espectadores devem ser movidos a uma certa dist√¢ncia do local do show, porque os drones, em geral, podem cair. <br><br>  Tudo isso deve ser levado em considera√ß√£o no planejamento. <br><br><h3>  Total </h3><br>  Voc√™ pode coletar um monte de drones, comprar o software UgCS, obter recomenda√ß√µes de n√≥s e come√ßar a voar.  Se voc√™ j√° possui uma certa compet√™ncia na cria√ß√£o de drones, tudo nem ser√° muito dif√≠cil.  Conhe√ßo os caras que fizeram o teste durante 20 drones 24 horas depois de adquirir uma licen√ßa e recomenda√ß√µes para a implementa√ß√£o de software (apesar de j√° terem uma frota).  Se n√£o houver compet√™ncia, mas voc√™ deseja fazer esses shows, nossos engenheiros podem implementar um projeto, treinar seus especialistas em tudo e continuar a apoi√°-lo.  Se voc√™ precisar apenas fazer um show √∫nico - tamb√©m escreva, discutiremos. <br><br><h3>  Refer√™ncias </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Software UgCS.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sobre a competi√ß√£o por drones (resultados)</a> </li><li>  Meu e-mail √© ALevandovskiy@croc.ru </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt427353/">https://habr.com/ru/post/pt427353/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt427343/index.html">VK Mobile Challenge 2018</a></li>
<li><a href="../pt427345/index.html">Problemas da escrita moderna de textos matem√°ticos</a></li>
<li><a href="../pt427347/index.html">Migrando para o Google Cloud Platform (Google Cloud Platform - GCP)</a></li>
<li><a href="../pt427349/index.html">Programador para a nova fam√≠lia tinyAVR baseada no conversor chin√™s CH340 barato</a></li>
<li><a href="../pt427351/index.html">Semana 40 de seguran√ßa: Vulnerabilidades no CMS Drupal e mais</a></li>
<li><a href="../pt427355/index.html">Compila√ß√£o CJM, principais habilidades do diretor de arte e compreens√£o do usu√°rio</a></li>
<li><a href="../pt427357/index.html">Escrevendo shaders no Unity. GrabPass, PerRendererData</a></li>
<li><a href="../pt427359/index.html">Como ECS, C # Job System e SRP alteram a arquitetura</a></li>
<li><a href="../pt427361/index.html">Recursos de filtragem de janelas no FPGA</a></li>
<li><a href="../pt427363/index.html">Implementa√ß√£o do LoRaWAN em uma empresa agr√≠cola. Tudo sobre constru√ß√£o, lan√ßamento e solu√ß√µes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>