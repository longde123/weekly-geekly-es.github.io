<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‰ ğŸ‘©ğŸ»â€ğŸ³ ğŸ¼ æ— éœ€ç¼–ç¨‹å’Œç„Šæ¥å³å¯åœ¨æ–°çš„ä¸€å¹´ä½¿ç”¨å½©è‰²åœ°å€LED ğŸ‘©ğŸ¾â€ğŸ¨ ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ¿ ğŸ•´ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ–°å¹´å¿«åˆ°äº†ï¼Œä½†æ˜¯ç”±äºç§ç§åŸå› ï¼Œå¿ƒæƒ…æœ‰æ—¶å¹¶ä¸æ˜¯æ–°å¹´çš„å¿ƒæƒ…ï¼Œå› æ­¤è¿™é‡Œçš„æ–°å¹´ç…§äº®äº†ã€‚ æˆ‘æƒ³è°ˆè°ˆæˆ‘å¯¹å¯å¯»å€LEDèŠ±ç¯å’Œè‰²å¸¦çš„ä½“éªŒã€‚ æˆ‘ä¸å¤ªå¯èƒ½å‘ç°ç¾å›½ï¼Œä½†äº‹å®è¯æ˜å®ƒç²¾ç¾è€Œå»‰ä»·ã€‚ 



 æˆ‘å°†è€ƒè™‘ä¸¤ä¸ªé€‰é¡¹-åˆ†åˆ«ä¸ä½¿ç”¨ç°æœ‰çš„å®¶åº­è‡ªåŠ¨åŒ–åŠŸèƒ½ï¼Œå¹¶ä¸â€œæ™ºèƒ½å®¶å±…â€ç»“åˆä½¿ç”¨ã€‚ 


 å¯å¯»å€çš„LEDç£å¸¦ä¸Šå‡ºç°äº†å¾ˆå¤šç»“æ„...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æ— éœ€ç¼–ç¨‹å’Œç„Šæ¥å³å¯åœ¨æ–°çš„ä¸€å¹´ä½¿ç”¨å½©è‰²åœ°å€LED</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481566/"><p> æ–°å¹´å¿«åˆ°äº†ï¼Œä½†æ˜¯ç”±äºç§ç§åŸå› ï¼Œå¿ƒæƒ…æœ‰æ—¶å¹¶ä¸æ˜¯æ–°å¹´çš„å¿ƒæƒ…ï¼Œå› æ­¤è¿™é‡Œçš„æ–°å¹´ç…§äº®äº†ã€‚ æˆ‘æƒ³è°ˆè°ˆæˆ‘å¯¹å¯å¯»å€LEDèŠ±ç¯å’Œè‰²å¸¦çš„ä½“éªŒã€‚ æˆ‘ä¸å¤ªå¯èƒ½å‘ç°ç¾å›½ï¼Œä½†äº‹å®è¯æ˜å®ƒç²¾ç¾è€Œå»‰ä»·ã€‚ </p><br><p><img src="https://habrastorage.org/webt/eu/ks/bo/euksbogl1rav5lvy75cz1xuzkrc.gif"><br> æˆ‘å°†è€ƒè™‘ä¸¤ä¸ªé€‰é¡¹-åˆ†åˆ«ä¸ä½¿ç”¨ç°æœ‰çš„å®¶åº­è‡ªåŠ¨åŒ–åŠŸèƒ½ï¼Œå¹¶ä¸â€œæ™ºèƒ½å®¶å±…â€ç»“åˆä½¿ç”¨ã€‚ </p><a name="habracut"></a><br><p> å¯å¯»å€çš„LEDç£å¸¦ä¸Šå‡ºç°äº†å¾ˆå¤šç»“æ„åŒ–ä¿¡æ¯ï¼Œå› æ­¤æ‚¨å¯ä»¥è½»æ¾åœ°åšå‡ºæ˜æ™ºçš„é€‰æ‹©ã€‚ ä¾‹å¦‚ï¼Œåœ¨è´­ä¹°ä¹‹å‰ï¼Œæˆ‘ä»”ç»†è§‚çœ‹äº†<a href="https://youtu.be/tXvtxwK3jRk%3Ft%3D438">DrZzsï¼ˆè‹±è¯­ï¼‰</a>å’Œ<a href="https://youtu.be/QnvircC22hU%3Ft%3D213">The Hook Upï¼ˆè‹±è¯­ï¼‰</a>é¢‘é“ä¸­çš„ç›¸åº”è§†é¢‘ï¼Œå¹¶å¯¹å¿…è¦çš„ç£å¸¦æˆæœ¬åšå‡ºäº†ç»“è®º-å› ä¸ºåœ¨æˆ‘çš„æ¡ˆä¾‹ä¸­ç£å¸¦çš„å·¥ä½œç»“æœæ˜¯-å½©è‰²çªå‡ºæ˜¾ç¤ºã€‚ </p><br><p> ä»–é€‰æ‹©äº†ä¸­å›½çš„ä¸¤ç§å»‰ä»·é€‰æ‹©ï¼š </p><br><ol><li>  <a href="https://www.aliexpress.com/item/32682015405.html">WS2812Bèƒ¶å¸¦-300ä¸ªLED</a> -5ç±³ã€‚ </li><li>  <a href="https://www.aliexpress.com/item/32444382333.html">WS2811èŠ±ç¯-50ä¸ªLED</a> x 3ä¸ª-å¤§çº¦10ç±³ï¼ˆ3 x 3.3 mï¼‰ </li></ol><br><p><img src="https://habrastorage.org/webt/0x/gh/8o/0xgh8oibngraaijuiyih_bw-8ni.jpeg"><br>  <em>è§£å†³åŠå…¬å®¤å†…éƒ¨çš„åƒç´ </em> </p><br><p> åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œéƒ½éœ€è¦5ä¼æ‰èƒ½ä¸ºæˆ‘çš„ç£å¸¦ä¾›ç”µã€‚ æˆ‘æ²¡æœ‰ä¾é ç”µæºï¼Œè€Œæ˜¯å®‰è£…äº†ç°æœ‰ä¸”ä»·æ ¼åˆç†çš„<a href="https://meanwellpower.ru/istochnik-pitaniya-ac-dc-mean-well-rs-150-5">Mean Well RS-150-5</a>ç”µæºè®¾å¤‡ã€‚ </p><br><p><img src="https://habrastorage.org/webt/hj/eg/v5/hjegv5csxbptdn1x0_4z4t9gxmy.jpeg"><br>  <em>ç”µæºè£…ç½®Mean Well RS-150-5</em> </p><br><p> ç®¡ç†æ–°å¹´è®¡åˆ’çš„æœ€é‡è¦éƒ¨åˆ†æ˜¯æ§åˆ¶å™¨ã€‚ æˆ‘é€‰æ‹©äº†ä¸­å›½åˆ¶é€ å•†Espressif Systemsçš„ESP8266å¾®æ§åˆ¶å™¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æˆ‘çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä½¿ç”¨äº†ä¾¿å®œçš„<a href="https://www.aliexpress.com/item/32529101036.html">LOLINï¼ˆWEMOSï¼‰D1è¿·ä½ </a>æ¿ã€‚ </p><br><p><img src="https://habrastorage.org/webt/7u/4m/6t/7u4m6thz8kgpqlriu89ezskz-he.jpeg"><br>  <em>LOLINï¼ˆWEMOSï¼‰D1è¿·ä½ æ”¶ç¼©è¿æ¥åˆ°åœ£è¯æ ‘ä¸Šçš„ç¼å¸¦</em> </p><br><h2 id="hardware"> ç¡¬ä½“ </h2><br><p> å¯¹äºè‰²å¸¦å’ŒèŠ±ç¯ï¼Œæœ‰ä¸€ä¸ªéå¸¸å¹¿æ³›çš„é€‰æ‹©-æœ‰å¤§é‡ä¸åŒçš„èŠ¯ç‰‡ç»„ï¼Œæ‚¨éœ€è¦æŸ¥çœ‹ä¸€ä¸‹ï¼Œä»¥ä¾¿æ§åˆ¶å™¨æ”¯æŒæ‚¨è¦è´­ä¹°çš„è‰²å¸¦ã€‚ <br> æˆ‘çš„ä»»åŠ¡æ˜¯ä½¿ç”¨åœ°å€åƒç´ ç£å¸¦ä½œä¸ºåŸºäºå¼€æºå¹³å°<a href="https://www.home-assistant.io/">Home Assistant</a>çš„è‡ªåŠ¨åŒ–çš„ä¸€éƒ¨åˆ†ã€‚ ä¸ºæ­¤ï¼Œæœ€å®æƒ çš„é€‰æ‹©æ˜¯ä½¿ç”¨ESP8266ã€‚ ç”±Tasmotaå›ºä»¶çš„ä½œè€…æ±‡ç¼–çš„ï¼Œ <a href="https://blakadder.github.io/templates/light.html">å…·æœ‰å…¼å®¹å·¥å‚æ§åˆ¶å™¨</a>çš„<a href="https://blakadder.github.io/templates/light.html">å¤§å‹æ•°æ®åº“</a> ï¼ˆLEDæ§åˆ¶å™¨éƒ¨åˆ†ï¼‰ã€‚ <br> åœ¨æˆ‘çœ‹æ¥ï¼ŒTasmotaæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å›ºä»¶ï¼Œä½†æ˜¯å¯¹äºå—æ§åƒç´ å’Œ<a href="https://habr.com/ru/post/480690/">æ­¥è¿›ç”µæœº</a>æ¥è¯´ï¼Œå®ƒä¸æ˜¯å¾ˆåˆé€‚ã€‚ </p><br><p><img src="https://habrastorage.org/webt/xv/ah/o-/xvaho-hbz991uoxukkboyrdj_a0.jpeg"><br>  <em>LOLINï¼ˆWEMOSï¼‰D1 miniè¿æ¥åˆ°èŠ±ç¯</em> </p><br><h2 id="software"> è½¯ä½“ç±» </h2><br><h3 id="variant-bez-domashney-avtomatizacii"> æ²¡æœ‰å®¶åº­è‡ªåŠ¨åŒ–çš„é€‰ä»¶ </h3><br><p> å¦‚æœæ‚¨æƒ³å¿«é€Ÿå…¥é—¨è€Œæ— éœ€æ³¨å†Œå’ŒSMSï¼Œåˆ™æœ€åˆç†çš„è§£å†³æ–¹æ¡ˆæ˜¯WLEDé¡¹ç›®çš„ESP8266å›ºä»¶<a href="https://github.com/Aircoookie/WLED">ï¼ˆWiFiç…§æ˜æ•ˆæœé©±åŠ¨ç¨‹åºï¼‰</a> ã€‚ è¯¥å›ºä»¶å…·æœ‰è‡ªå·±çš„åº”ç”¨ç¨‹åºï¼Œå¯è®©æ‚¨è½»æ¾æ§åˆ¶LEDä»¥åŠåœ°å€å¸¦å’ŒèŠ±ç¯çš„å¤§é‡é¢„å®šä¹‰æ•ˆæœã€‚ å¦‚æœéœ€è¦ï¼ŒWLEDè¿˜æ”¯æŒè®¸å¤šç®¡ç†åè®®ï¼ŒåŒ…æ‹¬<abbr title="æ¶ˆæ¯é˜Ÿåˆ—é¥æµ‹ä¼ è¾“">MQTT</abbr> ã€‚ <br> ä¸éœ€è¦ç„Šæ¥å°†ç£å¸¦è¿æ¥åˆ°WEMOSã€‚ </p><br><p><img src="https://habrastorage.org/webt/y0/u4/1c/y0u41c5hp2qj17vjcwm3adynbc8.png"><br>  <em>WLEDæ¥å£ï¼ˆWiFiç¯å…‰æ•ˆæœé©±åŠ¨ç¨‹åºï¼‰</em> </p><br><h3 id="adresnaya-illyuminaciya-v-sostave-umnogo-doma-na-baze-home-assistant"> ç›®æ ‡ç…§æ˜æ˜¯åŸºäºHome Assistantçš„æ™ºèƒ½å®¶å±…çš„ä¸€éƒ¨åˆ† </h3><br><p> åº”å½“æŒ‡å‡ºçš„æ˜¯ï¼ŒWLEDæœ€è¿‘ï¼ˆäº2019å¹´12æœˆï¼‰ä¼¼ä¹<a href="https://www.home-assistant.io/integrations/wled/">å®Œå…¨é›†æˆäº†Home Assistant</a> ã€‚ <br> ä½†æ˜¯ï¼Œç”±äºæˆ‘11æœˆä»äº‹èŠ±ç¯çš„å·¥ä½œï¼Œå› æ­¤åœ¨å‡ºç°è¿™ç§é›†æˆä¹‹å‰ï¼ŒHome Assistant &lt;-&gt; WLED MQTTè¿æ¥å¯¹æˆ‘æ¥è¯´ä¼¼ä¹å¾ˆéº»çƒ¦ã€‚ </p><br><p><img src="https://habrastorage.org/webt/84/zs/iz/84zsiziqm9ymyidmesj2rqorn4q.png"><br>  <em>ESPHomeæ§åˆ¶é¢æ¿</em> </p><br><p> å¯¹äºHome Assistantï¼Œæœ‰ä¸€ä¸ªæœ¬æœº<a href="https://esphome.io/index.html">ESPHome</a>å›ºä»¶å¯ä¸ä¸å¸¦MQTTçš„Home Assistantä¸€èµ·ä½¿ç”¨ï¼Œå¹¶ä¸”è¿˜<a href="https://esphome.io/components/light/fastled.html">æ”¯æŒåœ°å€LED</a> ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">è¿™æ˜¯å—æ”¯æŒçš„èŠ¯ç‰‡ç»„çš„åˆ—è¡¨ã€‚</b> <div class="spoiler_text"><p> æ— æ—¶é’Ÿï¼š <br>  NEOPIXEL <br>  WS2811 <br>  WS2811_400ï¼ˆæ—¶é’Ÿé¢‘ç‡ä¸º400kHzçš„WS2811ï¼‰ <br>  WS2812B <br>  WS2812 <br>  WS2813 <br>  WS2852 <br>  APA104 <br>  APA106 <br>  Gw6205 <br>  GW6205_400ï¼ˆæ—¶é’Ÿé¢‘ç‡ä¸º400kHzçš„GW6205ï¼‰ <br>  LPD1886 <br>  LPD1886_8BITï¼ˆå…·æœ‰8ä½é¢œè‰²é€šé“å€¼çš„LPD1886ï¼‰ <br>  PL9823 <br>  SK6812 <br>  SK6822 <br>  TM1803 <br>  TM1804 <br>  TM1809 <br>  TM1829 <br>  UCS1903B <br>  UCS1903 <br>  UCS1904 <br>  UCS2903 </p><br><p>  SPIï¼š <br>  APA102 <br> ç‚¹æ˜Ÿ <br>  LPD8806 <br>  P9813 <br>  SK9822 <br>  SM16716 <br>  WS2801 <br>  WS2803 </p></div></div><br><p> ç”±äºæˆ‘ä½¿ç”¨<a href="https://www.home-assistant.io/hassio/">Hass.io</a>æ˜ åƒï¼Œå› æ­¤æˆ‘ä½¿ç”¨äº†æœ€ç®€å•çš„é€‰é¡¹æ¥ç¼–è¯‘å›ºä»¶<a href="https://github.com/esphome/hassio">-ESPHome Hass.ioé™„åŠ ç»„ä»¶</a> ã€‚ </p><br><p><img src="https://habrastorage.org/webt/vq/1_/or/vq1_orjpjkcqkmcs-f71-e0k34a.png"><br>  <em>ESPHomeå›ºä»¶ç¼–è¾‘å™¨çª—å£</em> </p><br><p> äº§ç”Ÿçš„å›ºä»¶èŠ±ç¯å’Œè‰²å¸¦ï¼š </p><br><div class="spoiler">  <b class="spoiler_title">ws2811_string.yaml</b> <div class="spoiler_text"><pre><code class="plaintext hljs">substitutions: devicename: ws2811_string upper_devicename: WS2811 string esphome: name: $devicename platform: ESP8266 board: d1_mini wifi: ssid: "XXX" password: "XXX" # Enable fallback hotspot (captive portal) in case wifi connection fails ap: ssid: "WS2811 string Fallback Hotspot" password: "XXX" captive_portal: web_server: port: 80 css_url: http://192.168.15.10:8123/local/webserver-v1.min.css #   -        https://github.com/esphome/issues/issues/648 js_url: http://192.168.15.10:8123/local/webserver-v1.min.js # Enable Home Assistant API api: # Enable OTA Access ota: # Enable verbose logging over serial logger: light: - platform: fastled_clockless chipset: WS2811 pin: D4 num_leds: 150 name: " WS2811" effects: - addressable_rainbow: name: Rainbow Effect With Custom Values speed: 30 width: 150 - addressable_color_wipe: name: Color Wipe Effect With Custom Values colors: - red: 10% green: 10% blue: 100% num_leds: 1 - red: 0% green: 0% blue: 0% num_leds: 1 add_led_interval: 100ms reverse: False - random: name: "My Fast Random Effect" transition_length: 4s update_interval: 5s - strobe: name: Strobe Effect With Custom Values colors: - state: True brightness: 100% red: 100% green: 90% blue: 0% duration: 500ms - state: False duration: 250ms - state: True brightness: 100% red: 0% green: 100% blue: 0% duration: 500ms - addressable_scan: name: Scan Effect With Custom Values move_interval: 60ms - addressable_fireworks: name: Fireworks Effect With Custom Values update_interval: 32ms spark_probability: 10% use_random_color: false fade_out_rate: 120 #     sensor: - platform: uptime id: uptime_sec - platform: wifi_signal name: ${upper_devicename} WiFi Signal id: wifis_signal update_interval: 900s text_sensor: - platform: template name: ${upper_devicename} Uptime lambda: |- int seconds = (id(uptime_sec).state); int days = seconds / (24 * 3600); seconds = seconds % (24 * 3600); int hours = seconds / 3600; seconds = seconds % 3600; int minutes = seconds / 60; seconds = seconds % 60; return { (String(days) +"d " + String(hours) +"h " + String(minutes) +"m "+ String(seconds) +"s").c_str() }; icon: mdi:clock-start update_interval: 113s - platform: template name: ${upper_devicename} Wifi Strength icon: "mdi:wifi" lambda: |- if (id(wifis_signal).state &gt; -50 ) { return {"Excellent"}; } else if (id(wifis_signal).state &gt; -60) { return {"Good"}; } else if (id(wifis_signal).state &gt; -70) { return {"Fair"}; } else if (id(wifis_signal).state &lt; -70) { return {"Weak"}; } else { return {"None"}; } update_interval: 900s - platform: version name: ${upper_devicename} Version - platform: template name: ${upper_devicename} MAC Address lambda: 'return {WiFi.macAddress().c_str()};' icon: mdi:fingerprint update_interval: 1d switch: - platform: restart name: ${upper_devicename} Restart</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">ws2811_strip.yaml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">substitutions: devicename: ws2811_strip upper_devicename: WS2811 strip esphome: name: $devicename platform: ESP8266 board: d1_mini_lite wifi: ssid: "XXX" password: "XXX" # Enable fallback hotspot (captive portal) in case wifi connection fails ap: ssid: "WS2811 strip Fallback Hotspot" password: "XXX" captive_portal: web_server: port: 80 css_url: http://192.168.15.10:8123/local/webserver-v1.min.css #   -        https://github.com/esphome/issues/issues/648 js_url: http://192.168.15.10:8123/local/webserver-v1.min.js # Enable Home Assistant API api: # Enable OTA Access ota: # Enable verbose logging over serial logger: light: - platform: fastled_clockless chipset: WS2811 pin: D4 num_leds: 300 rgb_order: GRB name: " WS2811" effects: - addressable_rainbow: name: Rainbow Effect With Custom Values speed: 30 width: 300 - addressable_color_wipe: name: Color Wipe Effect With Custom Values colors: - red: 10% green: 10% blue: 100% num_leds: 1 - red: 0% green: 0% blue: 0% num_leds: 1 add_led_interval: 100ms reverse: False - random: name: "My Fast Random Effect" transition_length: 4s update_interval: 5s - strobe: name: Strobe Effect With Custom Values colors: - state: True brightness: 100% red: 100% green: 90% blue: 0% duration: 500ms - state: False duration: 250ms - state: True brightness: 100% red: 0% green: 100% blue: 0% duration: 500ms - addressable_scan: name: Scan Effect With Custom Values move_interval: 60ms - addressable_fireworks: name: Fireworks Effect With Custom Values update_interval: 32ms spark_probability: 10% use_random_color: false fade_out_rate: 120 #     sensor: - platform: uptime id: uptime_sec - platform: wifi_signal name: ${upper_devicename} WiFi Signal id: wifis_signal update_interval: 900s text_sensor: - platform: template name: ${upper_devicename} Uptime lambda: |- int seconds = (id(uptime_sec).state); int days = seconds / (24 * 3600); seconds = seconds % (24 * 3600); int hours = seconds / 3600; seconds = seconds % 3600; int minutes = seconds / 60; seconds = seconds % 60; return { (String(days) +"d " + String(hours) +"h " + String(minutes) +"m "+ String(seconds) +"s").c_str() }; icon: mdi:clock-start update_interval: 113s - platform: template name: ${upper_devicename} Wifi Strength icon: "mdi:wifi" lambda: |- if (id(wifis_signal).state &gt; -50 ) { return {"Excellent"}; } else if (id(wifis_signal).state &gt; -60) { return {"Good"}; } else if (id(wifis_signal).state &gt; -70) { return {"Fair"}; } else if (id(wifis_signal).state &lt; -70) { return {"Weak"}; } else { return {"None"}; } update_interval: 900s - platform: version name: ${upper_devicename} Version - platform: template name: ${upper_devicename} MAC Address lambda: 'return {WiFi.macAddress().c_str()};' icon: mdi:fingerprint update_interval: 1d switch: - platform: restart name: ${upper_devicename} Restart</code> </pre> </div></div><br><p> å°†ç”Ÿæˆçš„è®¾å¤‡æ·»åŠ åˆ°ç•Œé¢ä¸­çš„Home Assistantä¹‹åï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å¹¶è®¾ç½®æ•ˆæœé€‰é¡¹ã€‚ </p><br><p><img src="https://habrastorage.org/webt/on/56/ah/on56ah882ioqsx4950ppkg-mlec.png"><br>  <em>å®¶åº­åŠ©ç†ç•Œé¢</em> </p><br><p> æ­¤å¤–ï¼Œæ•ˆæœå¯ä»¥ç”¨äºè‡ªåŠ¨åŒ–ã€‚ ä¾‹å¦‚ï¼Œå½“æ‚¨æ‰“å¼€é—¨30ç§’é’Ÿæ—¶ï¼Œä¸€ç§æ•ˆæœï¼Œ10ç§’ï¼Œå¦ä¸€ç§æ•ˆæœï¼Œç„¶åå…³é—­ä»¥å…åˆ†æ•£æ³¨æ„åŠ›ã€‚ ä½†æ˜¯æœ‰ä¸€ä¸ªæ¡ä»¶ï¼šåªæœ‰åœ¨è¡—é“å·²ç»å¾ˆæš—çš„æ—¶å€™æ‰åŒ…å«ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">automations.yaml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">################################################### # # # WS2811 :    # # # ################################################### - alias: WS2811 string trigger: - platform: state entity_id: binary_sensor.dver from: 'off' to: 'on' condition: - condition: numeric_state entity_id: 'sensor.osveshchennost_u_okna' below: 1500 # action: - service: homeassistant.turn_on data: entity_id: group.new_year #light.girlianda_ws2811 brightness: 255 effect: Rainbow Effect With Custom Values - delay: '00:00:25' - service: homeassistant.turn_on data: entity_id: group.new_year brightness: 255 effect: Color Wipe Effect With Custom Values - delay: '00:00:13' - service: homeassistant.turn_off entity_id: group.new_year - alias: Table lamp ON trigger: - platform: state entity_id: binary_sensor.dver from: 'off' to: 'on' condition: - condition: numeric_state entity_id: 'sensor.osveshchennost_u_okna' below: 90 # action: - service: homeassistant.turn_on entity_id: switch.potolochnaia_lampa - alias: Table lamp OFF trigger: - platform: state entity_id: binary_sensor.dver from: 'on' to: 'off' condition: [] action: - service: homeassistant.turn_off entity_id: switch.potolochnaia_lampa</code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/gy/ci/o9/gycio9hm7fhzga6hjjxbn3yb2eg.jpeg"><br>  <em>å¸¦æœ‰åœ°å€LEDç¯æ¡çš„åœ£è¯æ ‘</em> </p><br><h2 id="itog"> æ€»ç»“ </h2><br><p> å¦‚æ‚¨æ‰€è§ï¼Œæ‚¨å¯ä»¥ä»¥æŸç§æŠ€å·§çµæ´»åœ°ç»„ç»‡æ–°å¹´ç¯ï¼Œå¹¶å°†å…¶å®‰è£…åˆ°ç°æœ‰çš„â€œæ™ºèƒ½å®¶å±…â€ç³»ç»Ÿä¸­ï¼Œæˆ–è€…åœ¨æ™ºèƒ½æ‰‹æœºä¸Šä½¿ç”¨å•ç‹¬çš„åº”ç”¨ç¨‹åºè€Œæ— éœ€å®¶åº­è‡ªåŠ¨åŒ–åœ°å•ç‹¬ä½¿ç”¨å®ƒã€‚ </p><br><p> å¯ä»¥åœ¨<a href="https://github.com/empenoso/diy-holiday-lighting">GitHubä¸Š</a>æ‰¾åˆ°æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚ </p><br><p> å‘è¡¨è€…ï¼š <a href="https://www.facebook.com/mikhail.shardin">Mikhail Shardin</a> ï¼Œ <br>  2019å¹´12æœˆ23æ—¥ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN481566/">https://habr.com/ru/post/zh-CN481566/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN481554/index.html">å¦‚ä½•é€šè¿‡è®¡ç®—æœºç§‘å­¦åœ¨çº¿ç†å­¦ç¡•å£«è¯¾ç¨‹ï¼Œè¿™å¯èƒ½ä¸é€‚åˆè°</a></li>
<li><a href="../zh-CN481556/index.html">PostgreSQLä»»åŠ¡é˜Ÿåˆ—</a></li>
<li><a href="../zh-CN481560/index.html">ä¸Šå‘¨ç¬¬394æœŸï¼ˆ2019å¹´12æœˆ15æ—¥è‡³22æ—¥ï¼‰çš„å‰ç«¯ä¸–ç•Œæ‘˜è¦</a></li>
<li><a href="../zh-CN481562/index.html">Raspberry Pi 4è€çƒ­æµ‹è¯•</a></li>
<li><a href="../zh-CN481564/index.html">PHPæ–‡æ‘˜ç¬¬170å·ï¼ˆ2019å¹´12æœˆ9æ—¥è‡³23æ—¥ï¼‰</a></li>
<li><a href="../zh-CN481568/index.html">12æœˆ23æ—¥è‡³29æ—¥åœ¨è«æ–¯ç§‘ä¸¾è¡Œçš„æ•°å­—æ´»åŠ¨</a></li>
<li><a href="../zh-CN481570/index.html">ä»Šå¤©çš„17:00ï¼Œå°†ä¸¾è¡Œç½‘ç»œç ”è®¨ä¼šDevOpsï¼šå·¥å…·å’Œç¼–å·</a></li>
<li><a href="../zh-CN481572/index.html">æˆ‘çš„2020å¹´æ–°çš„WebæŠ€æœ¯å †æ ˆ</a></li>
<li><a href="../zh-CN481574/index.html">è‡ªæ‰˜ç®¡ç¬¬ä¸‰æ–¹èµ„æºï¼šå¥½ï¼Œåï¼Œæ¶</a></li>
<li><a href="../zh-CN481576/index.html">å‰ç«¯2019ï¼šå¹´åº¦ç»“æœ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>