<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จโโ๏ธ ๐ ๐ ุดุจูุงุช Kubernetes: ุฏุฎูู ๐จโ๐ฉโ๐ฆ ๐ ๐ฌ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุดุฑ ุงูููู ุชุฑุฌูุฉ ููุฌุฒุก ุงูุซุงูุซ ูู ุฏููู ุดุจูุงุช Kubernetes. ูุงู ุงูุฌุฒุก ุงูุฃูู ูุชุนูู ุจุงููุฑูู ุ ูุงูุซุงูู ุนู ุงูุฎุฏูุงุช ุ ูุงูููู ุณูุชุญุฏุซ ุนู ููุงุฒูุฉ ุงูุชุญููู ูููุงุฑุฏ Ku...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุดุจูุงุช Kubernetes: ุฏุฎูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/442646/" style=";text-align:right;direction:rtl">  ููุดุฑ ุงูููู ุชุฑุฌูุฉ ููุฌุฒุก ุงูุซุงูุซ ูู ุฏููู ุดุจูุงุช Kubernetes.  ูุงู ุงูุฌุฒุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃูู</a> ูุชุนูู ุจุงููุฑูู ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงูุซุงูู</a> ุนู ุงูุฎุฏูุงุช ุ ูุงูููู ุณูุชุญุฏุซ ุนู ููุงุฒูุฉ ุงูุชุญููู ูููุงุฑุฏ Kubernetes ูู ุงูููุน Ingress. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/te/wp/ce/tewpcee5cggzqu97irog_mj_qgo.png"></div><a name="habracut"></a><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุงูุชูุฌูู ููุณ ููุงุฒูุฉ ุงูุชุญููู</font> </h2><br>  ูู ุงูููุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุณุงุจูุฉ</a> ูู ูุฐู ุงูุณูุณูุฉ ุ ูุธุฑูุง ูู ุชูููู ูุชููู ูู ุฒูุฌ ูู ุงููููุฏ ูุฎุฏูุฉ ุชู ุชุนููู ุนููุงู IP ููุง ุจุงุณู "ูุธุงู ุงููุฌููุนุฉ IP".  ุชู ุฅุฑุณุงู ุงูุงุณุชุนูุงูุงุช ุงูููุฌูุฉ ุฅูู ุงููููุฏ ุฅูู ูุฐุง ุงูุนููุงู.  ุณูุณุชูุฑ ููุง ูู ุงูุนูู ุนูู ูุธุงููุง ุงูุชุฏุฑูุจู ุ ุจุฏุกูุง ูู ุญูุซ ุชุฎุฑุฌูุง ูู ุงููุฑุฉ ุงูุฃุฎูุฑุฉ.  ุชุฐูุฑ ุฃู ุนููุงู IP ุงูุฎุงุต <code>10.3.241.152</code> ููุฎุฏูุฉ ุ <code>10.3.241.152</code> ุ ููุชูู ุฅูู ูุฌููุนุฉ ูู ุนูุงููู IP ุงูุชู ุชุฎุชูู ุนู ุชูู ุงููุณุชุฎุฏูุฉ ูู ุดุจูุฉ ุงููููุฏ ูุชูู ุงููุณุชุฎุฏูุฉ ูู ุงูุดุจูุฉ ุงูุชู ุชูุฌุฏ ุจูุง ุงูุนูุฏ.  ุงุชุตูุช ุจุงูุดุจูุฉ ุงููุนุฑููุฉ ูู ููุจู ูุณุงุญุฉ ุงูุนููุงู ูุฐู ุจุงุณู "ุดุจูุฉ ุงูุฎุฏูุฉ" ุ ุนูู ุงูุฑุบู ูู ุฃููุง ุจุงููุงุฏ ุชุณุชุญู ุงุณููุง ุฎุงุตูุง ุ ุญูุซ ูุง ุชูุฌุฏ ุฃุฌูุฒุฉ ูุชุตูุฉ ุจูุฐู ุงูุดุจูุฉ ุ ููุณุงุญุฉ ุงูุนููุงู ุงูุฎุงุตุฉ ุจูุง ุ ูู ุงููุงูุน ุ ุชุชููู ุจุงููุงูู ูู ููุงุนุฏ ุงูุชูุฌูู.  ุชู ุชูุถูุญ ุณุงุจููุง ููู ูุชู ุชูููุฐ ูุฐู ุงูุดุจูุฉ ุนูู ุฃุณุงุณ ูููู Kubernetes ุ ูุงูุฐู ูุทูู ุนููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">kube-proxy ุ</a> ููุชูุงุนู ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">netfilter</a> ุงููุญุฏุฉ ุงูููุทูุฉ kernel Linux ูุงุนุชุฑุงุถ ูุฅุนุงุฏุฉ ุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ุงููุฑุณูุฉ ุฅูู ูุชูุฉ IP ููุนูู ุชุญุช. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/615/35f/1ec/61535f1ec0169dbd13732aba4c9a5621.png"></div><br>  <i><font color="#999999">ูุฎุทุท ุงูุดุจูุฉ</font></i> <br><br>  ุญุชู ุงูุขู ุ ุชุญุฏุซูุง ุนู "ุงูุงุชุตุงูุงุช" ู "ุงูุทูุจุงุช" ูุญุชู ุงุณุชุฎุฏููุง ููููู "ุงููุฑูุฑ" ุงูุฐู ูุตุนุจ ุชูุณูุฑู ุ ูููู ูู ุฃุฌู ููู ููุฒุงุช ุขููุฉ Kubernetes Ingress ุ ูุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู ูุตุทูุญุงุช ุฃูุซุฑ ุฏูุฉ.  ูุฐูู ุ ุชุนูู ุงูุงุชุตุงูุงุช ูุงูุทูุจุงุช ุนูู ุงููุณุชูู ุงูุฑุงุจุน ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฐุฌ OSI</a> (tcp) ุฃู ุนูู ุงููุณุชูู ุงูุณุงุจุน (http ุ rpc ุ ููุง ุฅูู ุฐูู).  ููุงุนุฏ Netfilter ูู ููุงุนุฏ ุชูุฌูู ุ ููู ุชุนูู ูุน ุญุฒู IP ูู ุงููุณุชูู ุงูุซุงูุซ.  ุชุชุฎุฐ ุฌููุน ุฃุฌูุฒุฉ ุงูุชูุฌูู ุ ุจูุง ูู ุฐูู netfilter ุ ูุฑุงุฑุงุช ุฃูุซุฑ ุฃู ุฃูู ุงุณุชูุงุฏูุง ุฅูู ุงููุนูููุงุช ุงูููุฌูุฏุฉ ูู ุงูุญุฒูุฉ ููุท.  ุจุดูู ุนุงู ุ ููุชููู ุจุฃูู ุชุฃุชู ุงูุญุฒูุฉ ููู ุฃูู ุชุฐูุจ.  ูุฐูู ุ ูู ุฃุฌู ูุตู ูุฐุง ุงูุณููู ูู ุญูุซ ุงููุณุชูู ุงูุซุงูุซ ูู ูููุฐุฌ OSI ุ ูุฌุจ ุงูููู ุฃู ูู ุญุฒูุฉ ูุฎุตุตุฉ ููุฎุฏูุฉ ุงูููุฌูุฏุฉ ูู <code>10.3.241.152:80</code> ุ ูุงูุชู ุชุตู ุฅูู ูุงุฌูุฉ ุงูุนูุฏุฉ <code>eth0</code> ุ ุชุชู ูุนุงูุฌุชูุง ุจูุงุณุทุฉ netfilter ุ ููููุง ูู ุชุชู ุฅุนุงุฏุฉ ุชูุฌูู ุงูููุงุนุฏ ุงููุญุฏุฏุฉ ูุฎุฏูุชูุง ุฅูู ุนููุงู IP ุงูุฎุงุต ุจุงููููุฏ ุงูุนููู. <br><br>  ูุจุฏู ูุงุถุญูุง ุชูุงููุง ุฃู ุฃู ุขููุฉ ูุณุชุฎุฏููุง ููุณูุงุญ ููุนููุงุก ุงูุฎุงุฑุฌููู ุจุงููุตูู ุฅูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงููุญูููุฉ ูุฌุจ ุฃู ุชุณุชุฎุฏู ููุณ ุจููุฉ ุงูุชูุฌูู ุงูุฃุณุงุณูุฉ.  ูุชูุฌุฉู ูุฐูู ุ ุณูู ูุตู ูุคูุงุก ุงูุนููุงุก ุงูุฎุงุฑุฌููู ุฅูู ุนููุงู IP ููููุฐ ุงููุชูุฉ ุ ูุฃููู "ููุทุฉ ุงููุตูู" ูุฌููุน ุงูุขููุงุช ุงูุชู ุชุญุฏุซูุง ุนููุง ุญุชู ุงูุขู.  ุฅููุง ุชุณูุญ ููุง ุจุนุฏู ุงูููู ุจุดุฃู ุงูููุงู ุงูุฐู ูุชู ุชูููุฐู ููู ุจุงูุถุจุท ูู ููุช ูุนูู.  ููุน ุฐูู ุ ูููุณ ูู ุงููุงุถุญ ุนูู ุงูุฅุทูุงู ููู ูุฌุนู ุงูุฃูุฑ ููู ูุนูู. <br><br>  ูููู ุงููุตูู ุฅูู ุฎุฏูุฉ IP ุงููุชูุฉ ููุท ูุน ูุงุฌูุฉ Ethernet ููุนูุฏุฉ.  ูุง ุดูุก ุฎุงุฑุฌ ุงููุฌููุนุฉ ูุนุฑู ูุง ูุฌุจ ูุนูู ุจุงูุนูุงููู ูู ุงููุทุงู ุงูุฐู ููุชูู ุฅููู ูุฐุง ุงูุนููุงู.  ููู ูููููู ุฅุนุงุฏุฉ ุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ูู ุนููุงู IP ุนุงู ุฅูู ุนููุงู ูุง ูููู ุงููุตูู ุฅููู ุฅูุง ุฅุฐุง ูุตูุช ุงูุญุฒูุฉ ุจุงููุนู ุฅูู ุงููุถููุ <br><br>  ุฅุฐุง ุญุงูููุง ุฅูุฌุงุฏ ุญู ููุฐู ุงููุดููุฉ ุ ูุณูุชู ุฏุฑุงุณุฉ ููุงุนุฏ netfilter ุจุงุณุชุฎุฏุงู ุฃุฏุงุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">iptables</a> ุฃุญุฏ ุงูุฃุดูุงุก ุงูุชู ูููู ุงูููุงู ุจูุง ูู ุนูููุฉ ุงูุนุซูุฑ ุนูู ุญู.  ุฅุฐุง ููุช ุจุฐูู ุ ููููู ุงูุชุดุงู ุดูุก ูุฏ ูุจุฏู ุ ูููููุฉ ุงูุฃููู ุ ุบูุฑ ุนุงุฏู: ููุงุนุฏ ุงูุฎุฏูุฉ ูุง ุชูุชุตุฑ ุนูู ุดุจูุฉ ูุตุฏุฑ ูุญุฏุฏุฉ.  ูุฐุง ูุนูู ุฃูู ุณูุชู ุงูุชุนุฑู ุนูู ุฃู ุฑุฒู ุชู ุฅูุดุงุคูุง ูู ุฃู ููุงู ุชุตู ุฅูู ูุงุฌูุฉ Ethernet ููุนูุฏุฉ ููุฏููุง ุนููุงู ูุฌูุฉ <code>10.3.241.152:80</code> ุนูู ุฃููุง ูุทุงุจูุฉ ูููุงุนุฏุฉ ูุณูุชู ุฅุนุงุฏุฉ ุชูุฌูููุง ุฅูู ุงูุจุงุทู.  ูู ูููู ุฃู ูุนุทู ุงูุนููุงุก ูุฌููุนุฉ IP ููุท ุ ุฑุจูุง ุนู ุทุฑูู ุฑุจุทูุง ุจุงุณู ูุฌุงู ููุงุณุจ ุ ุซู ุฅุนุฏุงุฏ ูุณุงุฑ ูุณูุญ ููุง ุจุชูุธูู ุชุณููู ูุฐู ุงูุญุฒู ุฅูู ุฅุญุฏู ุงูุนูุฏุ <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/5f3/6ba/ea7/5f36baea7589e3559632de385f3f2bf6.png"></div><br>  <i><font color="#999999">ุงูุนููู ุงูุฎุงุฑุฌู ูุงููุชูุฉ</font></i> <br><br>  ุฅุฐุง ุชู ุฅุนุฏุงุฏ ูู ุดูุก ุจูุฐู ุงูุทุฑููุฉ ุ ูุณูู ูุชุญูู ูุฐุง ุงูุชุตููู ุฅูู ุงูุนูู.  ุนููุงุก ุงููุตูู ุฅูู ูุชูุฉ IP ุ ุชุชุจุน ุงูุญุฒู ุงูุทุฑูู ุงููุคุฏู ุฅูู ุงููุถูู ุ ููู ุซู ูุชู ุฅุนุงุฏุฉ ุชูุฌูููู ุฅูู ุฃุณูู.  ูู ูุฐู ุงููุญุธุฉ ุ ูุฏ ูุจุฏู ูู ุฃู ูุซู ูุฐุง ุงูุญู ูููู ุฃู ูููู ูุญุฏูุฏูุง ุ ูููู ูุนุงูู ูู ุจุนุถ ุงููุดููุงุช ุงูุฎุทูุฑุฉ.  ุงูุฃูู ูู ุฃู ุงูุนูุฏ ุ ูู ุงููุงูุน ุ ููููู ุณุฑูุน ุงูุฒูุงู ุ ููู ูุง ุชุฎุชูู ุจุดูู ุฎุงุต ูู ูุฐุง ุงูุตุฏุฏ ุนู ุงููููุฏ.  ุฅููุง ุ ุจุงูุทุจุน ุ ุฃูุฑุจ ุฅูู ุงูุนุงูู ุงููุงุฏู ูู ุงููุฑูู ุ ููููุง ูููู ุฃู ุชูุชูู ุฅูู ุฃุฌูุฒุฉ ุงูุชุฑุงุถูุฉ ุฌุฏูุฏุฉ ุ ููููู ูููุฌููุนุงุช ุฃู ุชุชูุณุน ุฃู ุชูุฎูุถ ุ ูููุฐุง.  ุชุนูู ุฃุฌูุฒุฉ ุงูุชูุฌูู ุนูู ุงููุณุชูู ุงูุซุงูุซ ูู ุทุฑุงุฒ OSI ููุง ูููู ููุชูููุฒ ุจูู ุงูุญุฒู ุงูุนุงููุฉ ุนุงุฏุฉ ูุจูู ุงูุฎุฏูุงุช ุงูุชู ูุง ุชุนูู ุจุดูู ุตุญูุญ.  ุฅููู ูุชููุนูู ุฃู ูููู ุงูุงูุชูุงู ุงูุชุงูู ูู ุงููุณุงุฑ ูุชุงุญูุง ููุณุชูุฑูุง.  ุฅุฐุง ูุงูุช ุงูุนูุฏุฉ ุบูุฑ ูุงุจูุฉ ูููุตูู ุ ูุณูุตุจุญ ุงููุณุงุฑ ุบูุฑ ุตุงูุญ ูุณูุธู ูุฐูู ุ ูู ูุนุธู ุงูุญุงูุงุช ุ ูุซูุฑ ูู ุงูููุช.  ุญุชู ูู ูุงู ุงููุณุงุฑ ููุงูููุง ููุฅุฎูุงูุงุช ุ ูุฅู ูุซู ูุฐุง ุงููุฎุทุท ุณูุคุฏู ุฅูู ุญูููุฉ ุฃู ูู ุญุฑูุฉ ุงููุฑูุฑ ุงูุฎุงุฑุฌูุฉ ุชูุฑ ุนุจุฑ ุนูุฏุฉ ูุงุญุฏุฉ ุ ูุงูุชู ุฑุจูุง ูุง ุชููู ูุซุงููุฉ. <br><br>  ุจุบุถ ุงููุธุฑ ุนู ุงูุทุฑููุฉ ุงูุชู ูุฌูุจ ุจูุง ุญุฑูุฉ ูุฑูุฑ ุงูุนููู ุฅูู ุงููุธุงู ุ ูุญุชุงุฌ ุฅูู ุงูููุงู ุจุฐูู ุญุชู ูุง ูุนุชูุฏ ุนูู ุญุงูุฉ ุฃู ุนูุฏุฉ ูุชูุฉ ูุงุญุฏุฉ.  ููู ุงููุงูุน ุ ูุง ุชูุฌุฏ ุทุฑููุฉ ููุซููุฉ ููููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู ุงูุชูุฌูู ููุท ุ ุฏูู ูุฌูุฏ ุจุนุถ ุงููุณุงุฆู ูุฅุฏุงุฑุฉ ุงูููุฌู ุจูุนุงููุฉ.  ูู ุงููุงูุน ุ ุฅูู ุจุงูุถุจุท ูุฐุง ุงูุฏูุฑ ุ ุฏูุฑ ูุธุงู ุงูุชุญูู ุ ุงูุฐู ููุนุจู kube-proxy ูููุง ูุชุนูู ุจู netfilter.  ุฑุจูุง ูู ููู ุชูุณูุน ูุทุงู ูุณุคูููุฉ Kubernetes ูุฅุฏุงุฑุฉ ุงูููุฌู ุงูุฎุงุฑุฌู ุฃูุฑูุง ูุจูุฑูุง ููููุฏุณู ุงููุธุงู ุ ุฎุงุตุฉ ูุฃู ูุฏููุง ุจุงููุนู ุฃุฏูุงุช ูุซุจุชุฉ ูุชูุฒูุน ุฒูุงุฑุงุช ุงูุนููุงุก ุนุจุฑ ุฎูุงุฏู ูุชุนุฏุฏุฉ.  ูุทูู ุนูููู ููุงุฒู ุงูุชุญููู ุ ูููุณ ูู ุงููุณุชุบุฑุจ ุฃู ูููููุง ุงูุญู ุงูููุซูู ุจู ุญููุง ูู Kubernetes Ingress.  ูู ุฃุฌู ููู ููููุฉ ุญุฏูุซ ุฐูู ุจุงูุถุจุท ุ ูุญุชุงุฌ ุฅูู ุงููููุถ ูู ุงููุณุชูู ุงูุซุงูุซ ูู OSI ูุงูุชุญุฏุซ ุนู ุงูุงุชุตุงูุงุช ูุฑุฉ ุฃุฎุฑู. <br><br>  ูู ุฃุฌู ุงุณุชุฎุฏุงู ููุงุฒู ุงูุชุญููู ูุชูุฒูุน ุญุฑูุฉ ูุฑูุฑ ุงูุนููู ุจูู ุนูุฏ ูุธุงู ุงููุฌููุนุฉ ุ ูุญุชุงุฌ ุฅูู ุนููุงู IP ุนุงู ูููู ููุนููุงุก ุงูุงุชุตุงู ุจู ุ ููุญุชุงุฌ ุฃูุถูุง ุฅูู ุนูุงููู ุงูุนูุฏ ุจุฃููุณูู ุงูุชู ูููู ูููุงุฒู ุงูุชุญููู ุฅุนุงุฏุฉ ุชูุฌูู ุงูุทูุจุงุช ุฅูููุง.  ููุฃุณุจุงุจ ุงููุฐููุฑุฉ ุฃุนูุงู ุ ูุง ูููููุง ุจุจุณุงุทุฉ ุฅูุดุงุก ูุณุงุฑ ุซุงุจุช ุซุงุจุช ุจูู ุฌูุงุฒ ุชูุฌูู ุงูุจูุงุจุฉ ูุงูุนูุฏ ุจุงุณุชุฎุฏุงู ุดุจูุฉ ุชุนุชูุฏ ุนูู ุงูุฎุฏูุฉ (ูุธุงู IP). <br><br>  ูู ุจูู ุงูุนูุงููู ุงูุฃุฎุฑู ุงูุชู ููููู ุงูุนูู ุจูุง ุ ูููู ููุท ููุงุญุธุฉ ุนูุงููู ุงูุดุจูุฉ ุงูุชู ุชุชุตู ุจูุง ูุงุฌูุงุช Ethernet ูู ุงูุนูุฏ ุ ุฃู ูู ูุฐุง ุงููุซุงู ุ <code>10.100.0.0/24</code> .  ูุนุฑู ุฌูุงุฒ ุงูุชูุฌูู ุจุงููุนู ููููุฉ ุฅุนุงุฏุฉ ุชูุฌูู ุงูุญุฒู ุฅูู ูุฐู ุงููุงุฌูุงุช ุ ูุณุชุฐูุจ ุงูุงุชุตุงูุงุช ุงููุฑุณูุฉ ูู ููุงุฒู ุงูุชุญููู ุฅูู ุฌูุงุฒ ุงูุชูุฌูู ุฅูู ุญูุซ ูุฌุจ ุฃู ุชุฐูุจ.  ูููู ุฅุฐุง ุฃุฑุงุฏ ุงูุนููู ุงูุงุชุตุงู ุจุฎุฏูุชูุง ุนูู ุงููููุฐ 80 ุ ููุง ูููููุง ููุท ุฅุฑุณุงู ุงูุญุฒู ุฅูู ูุฐุง ุงููููุฐ ุนูู ูุงุฌูุงุช ุดุจูุฉ ุงูุนูุฏ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/4cd/c77/40b/4cdc7740be5ecfc3069a8b3fb157c605.png"></div><br>  <i><font color="#999999">ุชุญููู ููุงุฒู ุ ูุญุงููุฉ ูุงุดูุฉ ูููุตูู ุฅูู ุงููููุฐ 80 ูู ูุงุฌูุฉ ุงูุดุจูุฉ ุงููุถููุฉ</font></i> <br><br>  ุณุจุจ ุนุฏู ุงูููุงู ุจุฐูู ูุงุถุญ ุชูุงููุง.  ููู ูุชุญุฏุซ ุนู ุญูููุฉ ุฃูู ูุง ุชูุฌุฏ ุนูููุฉ ูู ุงูุชุธุงุฑ ุงูุงุชุตุงูุงุช ูู <code>10.100.0.3:80</code> (ูุฅุฐุง ูุงู ููุงู ุ ููุฐุง ุจุงูุชุฃููุฏ ููุณ ูู ููุณ ุงูุนูููุฉ) ุ ูููุงุนุฏ netfilter ุ ูุงูุชู ุ ููุง ููุง ูุฃูู ุ ุณูู ุชุนุชุฑุถ ุงูุทูุจ ู ุณูู ูุฑุณูููู ุฅููู ุ ููู ูุนูููุง ูู ุนููุงู ุงููุฌูุฉ ูุฐุง.  ุฃููุง ุชุณุชุฌูุจ ููุท ูุดุจูุฉ IP ุงููุชูุฉ ุจูุงุกู ุนูู ุงูุฎุฏูุงุช ุ ุฃู ุนูู ุงูุนููุงู <code>10.3.241.152:80</code> .  ููุชูุฌุฉ ูุฐูู ุ ูุง ูููู ุชุณููู ูุฐู ุงูุญุฒู ุ ุนูุฏ ูุตูููุง ุ ุฅูู ุนููุงู ุงููุฌูุฉ ุ ูุณุชุตุฏุฑ ุงูููุงุฉ ุงุณุชุฌุงุจุฉ <code>ECONNREFUSED</code> .  ูุฐุง ูุถุนูุง ูู ูููู ูุฑุจู: ููุณ ูู ุงูุณูู ุงูุนูู ูุน ุงูุดุจูุฉ ูุฅุนุงุฏุฉ ุชูุฌูู ุงูุญุฒูุฉ ุงูุชู ุชู ุชูููู netfilter ุนูุฏ ุฅุนุงุฏุฉ ุชูุฌูู ุงูุจูุงูุงุช ูู ุงูุจูุงุจุฉ ุฅูู ุงูุนูุฏ ุ ูุงูุดุจูุฉ ุงูุชู ูุณูู ุงูุชูุฌูู ุชูุฌูููุง ููุณุช ูู ุงูุดุจูุฉ ุงูุชู ูุนูุฏ netfilter ุชูุฌูู ุงูุญุฒู ุฅูููุง.  ูุญู ูุฐู ุงููุดููุฉ ุ ููููู ุฅูุดุงุก ุฌุณุฑ ุจูู ูุฐู ุงูุดุจูุงุช.  ูุฐุง ูู ุจุงูุถุจุท ูุง ููุนูู Kubernetes ุจุงุณุชุฎุฏุงู ุฎุฏูุฉ ูุซู NodePort. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุฎุฏูุงุช ูุซู NodePort</font> </h2><br>  ุงูุฎุฏูุฉ ุงูุชู ุฃูุดุฃูุงูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงูููุงูุฉ ุงูุณุงุจูุฉ ุ ูู ูุชู ุชุนููู ููุน ููุง ุ ูุฐูู ุงุนุชูุฏุช ุงูููุน ุงูุงูุชุฑุงุถู - <code>ClusterIP</code> .  ููุงู ููุนุงู ุขุฎุฑุงู ูู ุงูุฎุฏูุงุช ุงูุชู ุชุฎุชูู ูู ุงูููุฒุงุช ุงูุฅุถุงููุฉ ุ ูุงูุขุฎุฑ ุงูุฐู ููุชู ุจู ุงูุขู ูู <code>NodePort</code> .  ูููุง ููู ูุซุงู ุนูู ูุตู ูุฎุฏูุฉ ูู ูุฐุง ุงูููุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">kind: Service apiVersion: v1 metadata: name: service-test spec: type: NodePort selector:   app: service_test_pod ports: - port: 80   targetPort: http</code> </pre> <br>  ุฎุฏูุงุช ุงูููุน <code>NodePort</code> ูู ุฎุฏูุงุช ูู ุงูููุน <code>ClusterIP</code> ููุง ูุฑุตุฉ ุฅุถุงููุฉ: ูููู ุงูุญุตูู ุนูู ุงููุตูู ุฅูููุง ูู ุฎูุงู ุนููุงู IP ุงููุนูู ูููุถูู ูุงูุนููุงู ุงููุนูู ุฅูู ุงููุชูุฉ ูู ุดุจูุฉ ุงูุฎุฏูุฉ.  ูุชู ุชุญููู ุฐูู ุจุทุฑููุฉ ุจุณูุทุฉ ุฅูู ุญุฏ ูุง: ุนูุฏูุง ุชูุดุฆ Kubernetes ุฎุฏูุฉ NodePort ุ ูุฎุตุต kube-proxy ูููุฐูุง ูู ุญุฏูุฏ 30000-32767 ูููุชุญ ูุฐุง ุงููููุฐ ุนูู ูุงุฌูุฉ <code>eth0</code> ููู ุนูุฏุฉ (ููู ุซู ุงุณู ููุน ุงูุฎุฏูุฉ - <code>NodePort</code> ).  ุชุชู ุฅุนุงุฏุฉ ุชูุฌูู ุงูุงุชุตุงูุงุช ุงูุชู ุชู ุฅุฌุฑุงุคูุง ุนูู ูุฐุง ุงููููุฐ (ุณูู ูุฏุนู ูุฐู ุงูููุงูุฐ <code>NodePort</code> ) ุฅูู IP ุงููุชูุฉ ููุฎุฏูุฉ.  ุฅุฐุง ุฃูุดุฃูุง ุงูุฎุฏูุฉ ุงููุฐููุฑุฉ ุฃุนูุงู <code>kubectl get svc service-test</code> ุจุชุดุบูู ุงูุฃูุฑ <code>kubectl get svc service-test</code> ุ ูููููุง ุฃู ูุฑู ุงููููุฐ ุงููุฎุตุต ููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ kubectl get svc service-test NAME           CLUSTER-IP EXTERNAL-IP   PORT(S) AGE service-test   10.3.241.152 &lt;none&gt;        80:32213/TCP 1m</code> </pre> <br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุชุนููู ุงูุฎุฏูุฉ NodePort <code>32213</code> .  ูุฐุง ูุนูู ุฃูู ูููููุง ุงูุขู ุงูุงุชุตุงู ุจุงูุฎุฏูุฉ ูู ุฎูุงู ุฃู ุนูุฏุฉ ูู ุงููุฌููุนุฉ ุงูุชุฌุฑูุจูุฉ ูุฏููุง ูู <code>10.100.0.2:32213</code> ุฃู ูู <code>10.100.0.3:32213</code> .  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูุชู ุฅุนุงุฏุฉ ุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ุฅูู ุงูุฎุฏูุฉ. <br><br>  ุจุนุฏ ุฃู ุฃุฎุฐ ูุฐุง ุงูุฌุฒุก ูู ุงููุธุงู ููุงูู ุ ุฃุตุจุญ ูุฏููุง ุฌููุน ุฃุฌุฒุงุก ุฎุท ุงูุฃูุงุจูุจ ูููุงุฒูุฉ ุงูุญูู ุงูุฐู ุชู ุฅูุดุงุคู ุจูุงุณุทุฉ ุทูุจุงุช ุงูุนููู ุฅูู ุฌููุน ุนูุฏ ุงููุฌููุนุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/da5/78e/735/da578e735e468dce8077f8a1d27d8490.png"></div><br>  <i><font color="#999999">ุฎุฏูุฉ NodePort</font></i> <br><br>  ูู ุงูุดูู ุงูุณุงุจู ุ ูุชุตู ุงูุนููู <code>10.100.0.3:32213</code> ุงูุชุญููู ูู ุฎูุงู ุนููุงู IP ุนุงู ุ ููุญุฏุฏ ููุงุฒู ุงูุชุญููู ุงูุนูุฏุฉ ููุชุตู ุจูุง ูู <code>10.100.0.3:32213</code> ุ ููุจู kube-proxy ูุฐุง ุงูุงุชุตุงู ููุนูุฏ ุชูุฌููู ุฅูู ุงูุฎุฏูุฉ ุงูุชู ูููู ุงููุตูู ุฅูููุง ุนุจุฑ ูุธุงู ุงููุฌููุนุฉ IP <code>10.3.241.152:80</code> .  ููุง ุ ุชุชู ูุนุงูุฌุฉ ุงูุทูุจ ุจูุฌุงุญ ููููุง ููููุงุนุฏ ุงูุชู ุญุฏุฏูุง netfilter ุ ููุชู ุฅุนุงุฏุฉ ุชูุฌูููุง ุฅูู ุฌุฑุงุจ ุงูุฎุงุฏู ุนูู ุงูุนููุงู <code>10.0.2.2:8080</code> .  ุฑุจูุง ูุจุฏู ูู ูุฐุง ูุนูุฏูุง ุฅูู ุญุฏ ูุง ุ ูุฅูู ุญุฏ ูุง ุ ูููู ููุณ ูู ุงูุณูู ุงูุชูุตู ุฅูู ุญู ุฃุจุณุท ูุฏุนู ุฌููุน ุงูููุฒุงุช ุงูุฑุงุฆุนุฉ ุงูุชู ุชููุฑ ููุง ูุฑูููุง ูุดุจูุงุช ุชุนุชูุฏ ุนูู ุงูุฎุฏูุงุช. <br><br>  ูุฐู ุงูุขููุฉ ุ ููุน ุฐูู ุ ูุง ุชุฎูู ูู ูุดุงูููุง ุงูุฎุงุตุฉ.  ุจุงุณุชุฎุฏุงู ุฎุฏูุงุช ูุซู <code>NodePort</code> ูุชูุญ ููุนููุงุก ุงููุตูู ุฅูู ุงูุฎุฏูุงุช ุจุงุณุชุฎุฏุงู ูููุฐ ุบูุฑ ููุงุณู.  ุบุงูุจูุง ูุง ูุง ุชูุซู ูุฐู ูุดููุฉ ุ ุญูุซ ูููู <code>NodePort</code> ุงูุชุญููู ุชุฒููุฏูู ุจูููุฐ ุนุงุฏู ูุฅุฎูุงุก <code>NodePort</code> ุนู ุงููุณุชุฎุฏููู ุงูููุงุฆููู.  ููู ูู ุจุนุถ ุงูุณููุงุฑูููุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุงุณุชุฎุฏุงู ููุงุฒู ุชุญููู ููุตุฉ Google Cloud ุฎุงุฑุฌู ุ ูุฏ ูููู ูู ุงูุถุฑูุฑู ูุดุฑ <code>NodePort</code> ููุนููุงุก.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ูุฐู ุงูููุงูุฐ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชูุซู ููุงุฑุฏ ูุญุฏูุฏุฉ ุ ุนูู ุงูุฑุบู ูู ุฃู 2768 ูููุฐูุง ุฑุจูุง ุชููู ูุงููุฉ ุญุชู ูุฃูุจุฑ ุงููุฌููุนุงุช.  ูู ูุนุธู ุงูุญุงูุงุช ุ ููููู ุงูุณูุงุญ ูู Kubernetes ุจุชุญุฏูุฏ ุฃุฑูุงู ุงูููุงูุฐ ุจุดูู ุนุดูุงุฆู ุ ูููู ููููู ุชุนููููุง ุจููุณู ุฅุฐุง ูุฒู ุงูุฃูุฑ.  ูุดููุฉ ุฃุฎุฑู ูู ุจุนุถ ุงููููุฏ ุงููุชุนููุฉ ุจุชุฎุฒูู ุนูุงููู IP ุงููุตุฏุฑ ูู ุงูุทูุจุงุช.  ููุนุฑูุฉ ููููุฉ ุญู ูุฐู ุงููุดููุงุช ุ ููููู ุงูุฑุฌูุน ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐู</a> ุงููุงุฏุฉ ูู ูุซุงุฆู Kubernetes. <br><br>  Ports <code>NodePorts</code> ูู ุงูุขููุฉ ุงูุฃุณุงุณูุฉ ุงูุชู ุจูุงุณุทุชูุง ุชุฏุฎู ูู ุญุฑูุฉ ุงููุฑูุฑ ุงูุฎุงุฑุฌูุฉ ูู ูุฌููุนุฉ Kubernetes.  ููุน ุฐูู ุ ูุฅููู ุฃููุณูู ูุง ููุฏููู ููุง ุญูุงู ุฌุงูุฒูุง.  ููุฃุณุจุงุจ ุงููุฐููุฑุฉ ุฃุนูุงู ุ ูุจู ุงููุชูุฉ ุ ุณูุงุก ูุงู ุงูุนููุงุก ููุงูุงุช ุฏุงุฎููุฉ ุฃู ุฎุงุฑุฌูุฉ ููุฌูุฏุฉ ูู ุดุจูุฉ ุนุงูุฉ ุ ููู ุงููุทููุจ ุฏุงุฆููุง ุงูุญุตูู ุนูู ููุน ูู ููุงุฒู ุงูุชุญููู. <br><br>  ุญูู ูููุฏุณู ุงูููุตุฉ ุ ุชุญููููุง ูุฐูู ุ ุทุฑููุชูู ูุชูููู ููุงุฒู ุงูุชุญููู ูู ุงููุธุงู ุงูุฃุณุงุณู Kubernetes ููุณู.  ูููุงูุด ูุฐุง. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุฎุฏูุงุช ูุซู LoadBalancer ูุงูููุงุฑุฏ ูู ููุน ุงูุฏุฎูู</font> </h2><br>  ุชุนุชุจุฑ ุงูุฎุฏูุงุช ูุซู <code>LoadBalancer</code> ูุงูููุงุฑุฏ ูู ููุน <code>Ingress</code> ูู ุฃูุซุฑ ุขููุงุช Kubernetes ุชุนููุฏูุง.  ููุน ุฐูู ุ ูู ููุถู ููุชูุง ูุจูุฑูุง ุนูููุง ุ ูุฃู ุงุณุชุฎุฏุงููุง ูุง ูุคุฏู ุฅูู ุชุบููุฑุงุช ุฌููุฑูุฉ ูู ูู ูุง ุชุญุฏุซูุง ุนูู ุญุชู ุงูุขู.  ูู ุญุฑูุฉ ุงููุฑูุฑ ุงูุฎุงุฑุฌูุฉ ุ ููุง ูุงู ูู ูุจู ุ ุชุฏุฎู ุงููุชูุฉ ูู ุฎูุงู <code>NodePort</code> . <br><br>  ูููู ูููููุฏุณูู ุงููุนูุงุฑููู ุฃู ูุชููููุง ููุง ุ ููุง ูุณูุญ ูุฃููุฆู ุงูุฐูู ููุดุฆูู ูุฌููุนุงุช ุจุงูุชุฑููุฒ ููุท ุนูู ุนูุงููู IP ุงูุนุงูุฉ ูููุงุฒูุงุช ุงูุชุญููู.  ูู ุงููุงูุน ุ ูู ุจุนุถ ุงูููุงูู ุ ูุซู ุจุฏุก ุชุดุบูู ูุธุงู ุงููุฌููุนุฉ ุนูู ุฎูุงุฏู ุนุงุฏูุฉ ุฃู ูู ุงูููุฒู ุ ููุฐุง ุจุงูุถุจุท ูุง ููุนูููู.  ูููู ูู ุงูุจูุฆุงุช ุงูุชู ุชุฏุนู ุชููููุงุช ููุงุฑุฏ ุงูุดุจูุฉ ุงูุชู ูุชุญูู ูููุง API ุ ูุณูุญ ูู Kubernetes ุจุชูููู ูู ูุง ุชุญุชุงุฌู ูู ููุงู ูุงุญุฏ. <br><br>  ุงูุทุฑููุฉ ุงูุฃููู ูุญู ูุฐู ุงููุดููุฉ ุ ุฃุจุณุทูุง ุ ูู ุงุณุชุฎุฏุงู ุฎุฏูุงุช Kubernetes ูุซู <code>LoadBalancer</code> .  ุชุชูุชุน ูุฐู ุงูุฎุฏูุงุช ุจุฌููุน ุฅููุงูุงุช ุงูุฎุฏูุงุช ูุซู <code>NodePort</code> ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฏููุง ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก ูุณุงุฑุงุช ูุงููุฉ ูุญุฑูุฉ ุงููุฑูุฑ ุงููุงุฑุฏุฉ ุ ุจูุงุกู ุนูู ุงูุชุฑุงุถ ุฃู ุงููุชูุฉ ุชุนูู ูู ุจูุฆุงุช ูุซู GCP ุฃู AWS ุงูุชู ุชุฏุนู ุชูููู ููุงุฑุฏ ุงูุดุจูุฉ ุนุจุฑ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">kind: Service apiVersion: v1 metadata: name: service-test spec: type: LoadBalancer selector:   app: service_test_pod ports: - port: 80   targetPort: http</code> </pre> <br>  ุฅุฐุง ูููุง ุจุญุฐู ูุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุฎุฏูุฉ ูู ูุซุงููุง ูู Google Kubernetes Engine ุ ูุจุนุฏ ุฐูู ุจูุชุฑุฉ ูุฌูุฒุฉ ุ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <code>kubectl get svc service-test</code> ุ ูููููุง ุงูุชุญูู ูู ุชุนููู ุนููุงู IP ุงูุฎุงุฑุฌู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ kubectl get svc service-test NAME      CLUSTER-IP      EXTERNAL-IP PORT(S)          AGE openvpn   10.3.241.52     35.184.97.156 80:32213/TCP     5m</code> </pre> <br>  ููุงู ุฃุนูุงู ุฃููุง ุณูููู ูุงุฏุฑูู ุนูู ุงูุชุญูู ูู ุญูููุฉ ุชุนููู ุนููุงู IP ุฎุงุฑุฌู "ูุฑูุจูุง" ุ ุนูู ุงูุฑุบู ูู ุฃู ุชุนููู ุนููุงู IP ุฎุงุฑุฌู ูุฏ ูุณุชุบุฑู ุนุฏุฉ ุฏูุงุฆู ุ ููู ุฃูุฑ ุบูุฑ ููุงุฌุฆ ูุธุฑูุง ูุญุฌู ุงูููุงุฑุฏ ุงูุชู ุชุญุชุงุฌ ุฅูู ุฌูุจูุง ุฅูู ุญุงูุฉ ุตุญูุฉ.  ุนูู ุงููุธุงู ุงูุฃุณุงุณู ูู GCP ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุชุทูุจ ุฐูู ูู ุงููุธุงู ุฅูุดุงุก ุนููุงู IP ุฎุงุฑุฌู ูููุงุนุฏ ุฅุนุงุฏุฉ ุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ูุฎุงุฏู ูููู ูุณุชูุฏู ูุฎุฏูุฉ ุฎูููุฉ ูุฑุจูุง ูุณุฎุฉ ูู ูุฌููุนุฉ.  ุจุนุฏ ุชุฎุตูุต ุนููุงู IP ุฎุงุฑุฌู ุ ููููู ุงูุงุชุตุงู ุจุงูุฎุฏูุฉ ูู ุฎูุงู ูุฐุง ุงูุนููุงู ุ ูุชุนููู ุงุณู ูุฌุงู ูุฅุจูุงุบ ุงูุนููุงุก.  ุฅูู ุฃู ูุชู ุชุฏููุฑ ุงูุฎุฏูุฉ ูุฅุนุงุฏุฉ ุฅูุดุงุฆูุง (ูู ุฃุฌู ุงูููุงู ุจุฐูู ุ ูุงุฏุฑุงู ูุง ูููู ููุงู ุณุจุจ ูุฌูู) ุ ูู ูุชุบูุฑ ุนููุงู IP. <br><br>  ุฎุฏูุงุช ูุซู <code>LoadBalancer</code> ููุง ุจุนุถ ุงููููุฏ.  ูุง ูููู ุชูููู ูุซู ูุฐู ุงูุฎุฏูุฉ ููู ุชุดููุฑ ุญุฑูุฉ ูุฑูุฑ HTTPS.  ูุง ููููู ุฅูุดุงุก ูุถููุงุช ุธุงูุฑูุฉ ุฃู ุชูููู ุชูุฌูู ูุงุฆู ุนูู ุงููุณุงุฑ ุ ูุฐูู ูุง ููููู ุ ุจุงุณุชุฎุฏุงู ุชููููุงุช ุนูููุฉ ุ ุงุณุชุฎุฏุงู ููุงุฒู ุชุญููู ูุงุญุฏ ูุน ุงูุนุฏูุฏ ูู ุงูุฎุฏูุงุช.  ุฃุฏุช ูุฐู ุงููููุฏ ุฅูู ุฅุฏุฎุงู Kubernetes 1.1.  ููุฑุฏ ุฎุงุต ูุชูููู ููุงุฒูุงุช ุงูุชุญููู.  ูุฐุง ูู ููุฑุฏ ูู ููุน ุงูุฏุฎูู.  ุชูุฏู ุงูุฎุฏูุงุช ูุซู <code>LoadBalancer</code> ุฅูู ุชูุณูุน ูุฏุฑุงุช ุฎุฏูุฉ ูุงุญุฏุฉ ูุฏุนู ุงูุนููุงุก ุงูุฎุงุฑุฌููู.  ูู ุงูููุงุจู ุ ุชุนุฏ ููุงุฑุฏ <code>Ingress</code> ููุงุฑุฏ ุฎุงุตุฉ ุชุชูุญ ูู ุชูููู ููุงุฒูุงุช ุงูุชุญููู ุจูุฑููุฉ.  ุชุฏุนู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Ingress ูู ุชุดููุฑ ุญุฑูุฉ ูุฑูุฑ TLS ูุงููุถููุงุช ุงูุงูุชุฑุงุถูุฉ ูุงูุชูุฌูู ุงููุงุฆู ุนูู ุงููุณุงุฑ.  ุจุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฐู ุ ูููู ุจุณูููุฉ ุชูููู ููุงุฒู ุงูุชุญููู ููุนูู ูุน ุฎุฏูุงุช ุงููุงุฌูุฉ ุงูุฎูููุฉ ุงููุชุนุฏุฏุฉ. <br><br>  ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูููุฑุฏ ูู ููุน <code>Ingress</code> ุฃูุจุฑ ูู ุฃู ุชูุงูุด ููุฒุงุชูุง ููุง ุ ุนูุงูุฉ ุนูู ุฐูู ุ ูุง ุชุคุซุฑ ุจุดูู ุฎุงุต ุนูู ููููุฉ ุนูู ููุงุฑุฏ Ingress ุนูู ูุณุชูู ุงูุดุจูุฉ.  ูุชุจุน ุชุทุจูู ูุฐุง ุงูููุฑุฏ ููุท Kubernetes ุงููุนุชุงุฏ: ููุฌุฏ ููุน ููุฑุฏ ููุญุฏุฉ ุชุญูู ููุชุญูู ูู ูุฐุง ุงูููุน.  ุงูููุฑุฏ ูู ูุฐู ุงูุญุงูุฉ ูู ููุฑุฏ ุงูุฏุฎูู ุ ุงูุฐู ูุตู ุทูุจุงุช ููุงุฑุฏ ุงูุดุจูุฉ.  ุฅููู ูุง ูููู ุฃู ูุจุฏู ุนููู ูุตู ููุฑุฏ ุงูุฏุฎูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: extensions/v1beta1 kind: Ingress metadata: name: test-ingress annotations:   kubernetes.io/ingress.class: "gce" spec: tls:   - secretName: my-ssl-secret rules: - host: testhost.com   http:     paths:     - path: /*       backend:         serviceName: service-test         servicePort: 80</code> </pre> <br>  ูุญุฏุฉ ุงูุชุญูู ูู ุงูุฏุฎูู ูุณุคููุฉ ุนู ุชูููุฐ ูุฐู ุงูุทูุจุงุช ุนู ุทุฑูู ุฅุญุถุงุฑ ููุงุฑุฏ ุฃุฎุฑู ุฅูู ุงูุญุงูุฉ ุงููุทููุจุฉ.  ุนูุฏ ุงุณุชุฎุฏุงู Ingress ุ ูุชู ุฅูุดุงุก ุฎุฏูุงุช ูุซู <code>NodePort</code> ุ ูุจุนุฏ ุฐูู ููุณูุญ <code>NodePort</code> ุงูุชุญูู ูู ุงูุฏุฎูู ุจุงุชุฎุงุฐ ูุฑุงุฑุงุช ุจุดุฃู ููููุฉ ุชูุฌูู ุญุฑูุฉ ุงููุฑูุฑ ุฅูู ุงูุนูุฏ.  ููุงู ุชุทุจูู ููุญุฏุฉ ุงูุชุญูู ูู Ingress ูููุงุฒูุงุช ุชุญููู GCE ุ ูููุงุฒูุงุช AWS ุ ููุฎูุงุฏู ุงูููููุฉ ุงูุดุงุฆุนุฉ ูุซู nginx ู haproxy.  ูุงุญุธ ุฃู ุฎูุท ููุงุฑุฏ ูุฎุฏูุงุช Ingress ูุซู <code>LoadBalancer</code> ูููู ุฃู ูุณุจุจ ูุดุงูู ุจุณูุทุฉ ูู ุจุนุถ ุงูุจูุฆุงุช.  ูู ุงูุณูู ุงูุชุนุงูู ูุนูุง ุ ูููู ุจุดูู ุนุงู ุ ูู ุงูุฃูุถู ุงุณุชุฎุฏุงู Ingress ุญุชู ููุฎุฏูุงุช ุงูุจุณูุทุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">HostPort ู HostNetwork</font> </h2><br>  ูุง ูุชุญุฏุซ ุนูู ุงูุขู ุ ุฃู <code>HostPort</code> ู <code>HostNetwork</code> ุ ูููู ุฃู ูุนุฒู ุฅูู ูุฆุฉ <code>HostNetwork</code> ุงููุซูุฑุฉ ููุงูุชูุงู ุ ูููุณ ุฅูู ุงูุฃุฏูุงุช ุงููููุฏุฉ.  ูู ุงููุงูุน ุ ุฃุชุนูุฏ ุจุฃู ุฃุคูุฏ ุฃูู ูู 99.99ูช ูู ุงูุญุงูุงุช ุ ูููู ุงุนุชุจุงุฑ ุงุณุชุฎุฏุงููุง ูุถุงุฏูุง ููููุท ุ ููุฌุจ ุฃู ูุฎุถุน ุฃู ูุธุงู ูุชู ุงุณุชุฎุฏุงูู ููุญุต ุฅูุฒุงูู ูููููู. <br><br>  ุงุนุชูุฏุช ุฃูู ูุง ูุณุชุญู ุงูุญุฏูุซ ุนููุง ุนูู ุงูุฅุทูุงู ุ ููููุง ุชุดุจู ุงูุฃุฏูุงุช ุงูุชู ุชุณุชุฎุฏููุง ููุงุฑุฏ Ingress ููุนุงูุฌุฉ ุญุฑูุฉ ุงููุฑูุฑ ุงููุงุฑุฏุฉ ุ ูุฐูู ูุฑุฑุช ุฃูู ูุฌุฏุฑ ุฐูุฑูุง ุ ุนูู ุงูุฃูู ููุชุฑุฉ ูุฌูุฒุฉ. <br><br>  ุฃููุงู ุ <code>HostPort</code> ูุชุญุฏุซ ุนู <code>HostPort</code> .  ูุฐู ุฎุงุตูุฉ ุญุงููุฉ (ุชู ุงูุฅุนูุงู ุนููุง ูู ุจููุฉ <code>ContainerPort</code> ).  ุนูุฏ ูุชุงุจุฉ ุฑูู ูููุฐ ูุนูู ููู ุ ูุคุฏู ุฐูู ุฅูู ูุชุญ ูุฐุง ุงููููุฐ ุนูู ุงูุนูุฏุฉ ูุฅูู ุฅุนุงุฏุฉ ุชูุฌููู ูุจุงุดุฑุฉ ุฅูู ุงูุญุงููุฉ.  ูุง ุชูุฌุฏ ุขููุงุช ุจุฑููุณู ุ ููุชู ูุชุญ ุงููููุฐ ููุท ุนูู ุงูุนูุฏ ุงูุชู ุชุนูู ุนูููุง ุงูุญุงููุฉ.  ูู ุงูุฃูุงู ุงูุฃููู ูููุธุงู ุงูุฃุณุงุณู ุ ูุจู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุธููุฑ</a> ุขููุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">DaemonSet</a> ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">StatefulSet</a> ููู ุ ูุงู <code>HostPort</code> ุฎุฏุนุฉ ุณูุญุช ููุท ุจุชุดุบูู ุญุงููุฉ ูุงุญุฏุฉ ูู ููุน ูุนูู ุนูู ุฃู ุนูุฏุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุงุณุชุฎุฏูุช ูุฐุง ูุฑุฉ ูุงุญุฏุฉ ูุฅูุดุงุก ูุชูุฉ <code>HostPort</code> ุนู ุทุฑูู ุชุนููู <code>HostPort</code> ุฅูู <code>9200</code> ูุชุญุฏูุฏ ุงูุนุฏูุฏ ูู ุงููุณุฎ ุงููุชูุงุซูุฉ ููุง ูุงู ููุงู ุงูุนูุฏ.       ,          Kubernetes,    -     <code>HostPort</code> . <br><br>   <code>NostNetwork</code> , ,   Kubernetes    ,  <code>HostPort</code> .       <code>true</code> ,       - <code>network=host</code>  <code>docker run</code> .    ,           .            <code>eth0</code>    .  ,             .      ,  ,  ,    Kubernetes,     - . <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุงููุชุงุฆุฌ</font> </h2><br>        Kubernetes,   ,          Ingress. ,  ,    ,       Kubernetes. <br><br>  <b>ุฃุนุฒุงุฆู ุงููุฑุงุก!</b>     Ingress? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar442646/">https://habr.com/ru/post/ar442646/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar442636/index.html">ูู ุชุฌูุจ ุงูุฃุฎุจุงุฑ ุงูุณูุฆุฉ ููุฅุฏุงุฑุฉุ</a></li>
<li><a href="../ar442638/index.html">ุชูุณูุน ูุทุงู ุชุทุจูู Kubernetes ุนูู ุฃุณุงุณ ููุงููุณ ูู ุจุฑูููุซููุณ</a></li>
<li><a href="../ar442640/index.html">ุนูุฉ ุงูููุงู: ุงุณุชุฎุฏุงู ููุน ุงูุงุฑุชุจุงู ูู ููุงุด. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar442642/index.html">ูุง ูุฌุจ ูุฑุงุกุชู ูู ูุงุฑุณ: 22 ูุชุงุจูุง ุฌุฏูุฏูุง ูููุณูููู ูุงููุฏูุฑูู ูุงููุทูุฑูู ูุงููุตูููู</a></li>
<li><a href="../ar442644/index.html">ูุนุธู ุงูููุงุฑุงุช ุบูุฑ ุงูุจุฑูุฌุฉ ุชุฒูุฏ ูู ูููุฉ ุงููุทูุฑ</a></li>
<li><a href="../ar442648/index.html">ุงุฐูุจ ุขููุงุช ุงูุชุฎุตูุต</a></li>
<li><a href="../ar442650/index.html">ุชุญููู ูุชุญุณูู ุชุทุจููุงุช React</a></li>
<li><a href="../ar442652/index.html">ุงุณุชุฎุฏุงู Fastify ู Preact ูุชุทุจููุงุช ุงูููุจ ุงูุณุฑูุนุฉ</a></li>
<li><a href="../ar442654/index.html">ุงูุชุจุฏูู ุฅูู Next.js ูุงูุฅุณุฑุงุน ูู ุชุญููู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูู manifold.co 7.5 ูุฑุฉ</a></li>
<li><a href="../ar442658/index.html">8 ุงูุญูู ููุนูู ูุน CSS: ุงูููุธุฑ ุ ุชุฐููู ูุฒุฌุฉ ูุบูุฑูุง</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>