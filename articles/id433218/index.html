<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍💻 👩🏽‍💼 🔹 Membuat contoh standar yang rumit ♓️ 🔞 👺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pustaka standar C ++ tidak hanya menawarkan serangkaian kelas, tetapi juga menentukan bagaimana program ditulis. Artikel ini membahas persyaratan umum...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Membuat contoh standar yang rumit</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433218/">  Pustaka standar C ++ tidak hanya menawarkan serangkaian kelas, tetapi juga menentukan bagaimana program ditulis.  Artikel ini membahas persyaratan umum untuk mengimplementasikan program menggunakan STL. <br><br>  Pertimbangkan tugas berikut: <br><blockquote>  Baca array bilangan bulat yang dipisahkan oleh whitespace dari file input.txt.  Sortir dan tulis ke output.txt </blockquote><br><a name="habracut"></a>  Anda dapat menulis solusi berikut: <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;vector&gt; #include &lt;algorithm&gt; #include &lt;fstream&gt; int main(){ //  input.txt   std::ifstream fin("input.txt"); //  output.txt   std::ofstream fout("output.txt"); //       std::vector&lt;int&gt; v; //  ,           std::copy(std::istream_iterator&lt;int&gt;(fin), std::istream_iterator&lt;int&gt;(), std::inserter(v, v.end())); //   std::sort(v.begin(), v.end()); //  ,          std::copy(v.begin(), v.end(), std::ostream_iterator&lt;int&gt;(fout, " ")); return 0; }</span></span></span></span></code> </pre> <br>  Beberapa kata tentang "sihir" dalam kode: <br><br><ul><li>  Salah satu fondasi perpustakaan adalah iterator, serta setengah interval yang mereka tentukan.  Dengan semantik (baca - oleh perilaku) mereka bertepatan dengan pointer.  Yaitu, operator dereferencing * akan mengembalikan kepada Anda elemen yang dirujuk oleh iterator, ++ akan menerjemahkan iterator ke elemen berikutnya.  Secara khusus, setiap wadah diwakili oleh iterator ujungnya [mulai, akhir), di mana mulai menunjuk ke elemen pertama, ujung - <b>untuk yang terakhir</b> ; </li><li>  Algoritma yang bekerja dengan wadah, karena parameter mengambil awal dan akhir wadah (atau bagiannya); </li><li>  Algoritma salin menyalin hanya menulis ulang elemen dari satu setengah interval ke yang lain.  Jika tidak ada memori yang dialokasikan dalam wadah target, perilaku tidak dapat diprediksi [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">salinan</a> ]; </li><li>  Fungsi inserter memasukkan nilai ke dalam wadah sebelum iterator yang ditentukan [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">inserter</a> ] </li><li>  istream_iterator dan ostream_iterator menyediakan akses gaya wadah ke stream [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">istream_iterator</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ostream_iterator</a> ] </li></ul><br>  Contoh ini sebenarnya cukup sederhana.  Namun, ia dapat membantu kami dalam memecahkan masalah berikut: <br><blockquote>  File input.txt berisi daftar yang berisi informasi tentang orang-orang: nama belakang, nama depan, usia (setiap baris adalah catatan, data dipisahkan oleh spasi).  Baca data ini ke dalam array, urutkan berdasarkan usia dan tulis ke file output.txt.  Tampilkan informasi tentang seseorang yang usianya lebih dari 20 tetapi kurang dari 25 tahun. </blockquote>  Pada prinsipnya, solusinya akan hampir sama.  Namun, untuk menyelamatkan keputusan tersebut, perlu dilakukan pekerjaan persiapan, yaitu: <br><br><ol><li>  <i>Deklarasikan struktur data.</i>  - Anda dapat mendefinisikan sesuatu yang bermanfaat, tetapi dalam kasus tertentu, struct cukup: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">man</span></span></span><span class="hljs-class">{</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> firstname, secondname; <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> age; };</code> </pre><br>  <b>Saya sangat menyarankan agar Anda mempertimbangkan implementasi copy constructor, dengan parameter default dan operator fotokopi.</b>  Dengan pengembangan lebih lanjut dari proyek ini, Anda pasti akan membutuhkannya. </li><li>  <i>Operator I / O yang</i> berlebihan - operator ini dimanipulasi oleh iterator melalui utas.  Bagaimanapun, itu lebih umum untuk menggunakannya. <br><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::ostream&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> &lt;&lt; (<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::ostream&amp; out, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> man&amp; p){ out &lt;&lt; p.firstname &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; p.secondname &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; p.age; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> out; } <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::istream&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> &gt;&gt; (<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::istream&amp; in, man&amp; p){ in &gt;&gt; p.firstname &gt;&gt; p.secondname &gt;&gt; p.age; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> in; }</code> </pre> </li><li>  <i>Tetapkan aturan untuk memesan objek</i> - Ini sudah merupakan perluasan besar: Anda dapat mengganti operator &lt;, Anda dapat menggambarkan fungsi, functor atau ekspresi lambda.  Dalam hal ini, gunakan fungsinya. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">comparator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> man&amp; p1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> man&amp; p2)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> p1.age &lt; p2.age; }</code> </pre></li><li>  <i>Tetapkan aturan untuk memilih objek</i> - Sekali lagi, pilihan implementasi yang cukup besar.  Kali ini, biarkan ada functor (objek kelas di mana operator <i>kurung</i> [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">functor</a> ] didefinisikan) di mana Anda dapat melewati rentang usia: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">predicate</span></span></span><span class="hljs-class">{</span></span> <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> begin, end; predicate(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p1, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> p2): begin(p1), end(p2) {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operator</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> man&amp; p)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (p.age &gt; begin) &amp;&amp; (p.age &lt; end); } };</code> </pre> <br>  Perhatikan konstruktor functor - dengan cara ini kita dapat menyesuaikan perilakunya. </li></ol><br>  Sebenarnya, titik masuk ke program: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-function"><span class="hljs-function">ifstream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"input.txt"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-function"><span class="hljs-function">ofstream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"output.txt"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;man&gt; v; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::copy(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::istream_iterator&lt;man&gt;(fin), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::istream_iterator&lt;man&gt;(), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::inserter(v, v.end())); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::sort(v.begin(), v.end(), comparator); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::copy_if(v.begin(), v.end(), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::ostream_iterator&lt;man&gt;(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span>, <span class="hljs-string"><span class="hljs-string">"\n"</span></span>), predicate(<span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>)); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::copy(v.begin(), v.end(), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::ostream_iterator&lt;man&gt;(fout, <span class="hljs-string"><span class="hljs-string">"\n"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>  Seperti yang Anda lihat, perubahan pada fungsi utama minimal, hanya memengaruhi jenis elemen vektor.  Plus menambahkan panggilan ke algoritma copy_if.  Algoritma yang bermanfaat ini muncul dengan standar C ++ 11, yang menyalin elemen dari satu wadah ke hanya elemen yang memenuhi syarat. <br><br>  <b>Kesimpulan apa yang bisa ditarik dari ini?</b> <br><br><ol><li>  Mengetahui dan secara aktif menggunakan algoritma perpustakaan standar secara signifikan mempercepat pengembangan (lebih tepatnya, itu mengarah pada automatisme). </li><li>  Mendeklarasikan berbagai konstruktor dan menyalin operator untuk struktur data berguna.  Mereka digunakan dalam berbagai situasi, khususnya saat memasukkan elemen ke dalam wadah. </li><li>  Untuk kenyamanan, Anda dapat membebani operator input dan output, serta operator perbandingan dan operator pemesanan. </li><li>  Functors - alat yang ampuh yang memungkinkan Anda untuk mengimplementasikan fungsi dengan "memori" atau perilaku tambahan </li><li>  ... mungkin lebih ... </li></ol><br>  Terima kasih telah bertahan! <br><br>  <b>Semua kode program:</b> <br><br><div class="spoiler">  <b class="spoiler_title">an_example.cpp</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;string&gt; #include &lt;vector&gt; #include &lt;fstream&gt; #include &lt;algorithm&gt; #include &lt;iostream&gt; #include &lt;iterator&gt; struct man{ std::string firstname, secondname; size_t age; }; std::ostream&amp; operator &lt;&lt; (std::ostream&amp; out, const man&amp; p){ out &lt;&lt; p.firstname &lt;&lt; " " &lt;&lt; p.secondname &lt;&lt; " " &lt;&lt; p.age; return out; } std::istream&amp; operator &gt;&gt; (std::istream&amp; in, man&amp; p){ in &gt;&gt; p.firstname &gt;&gt; p.secondname &gt;&gt; p.age; return in; } bool comparator(const man&amp; p1, const man&amp; p2){ return p1.age &lt; p2.age; } struct predicate{ size_t begin, end; predicate(int p1, int p2): begin(p1), end(p2) {} bool operator ()(const man&amp; p){ return (p.age &gt; begin) &amp;&amp; (p.age &lt; end); } }; int main(){ std::ifstream fin("input.txt"); std::ofstream fout("output.txt"); std::vector&lt;man&gt; v; std::vector&lt;man&gt;::iterator i; std::copy(std::istream_iterator&lt;man&gt;(fin), std::istream_iterator&lt;man&gt;(), std::inserter(v, v.end())); std::sort(v.begin(), v.end(), comparator); std::copy_if(v.begin(), v.end(), std::ostream_iterator&lt;man&gt;(std::cout, "\n"), predicate(20, 25)); std::copy(v.begin(), v.end(), std::ostream_iterator&lt;man&gt;(fout, "\n")); return 0; }</span></span></span></span></code> </pre> </div></div><br>  <b>Daftar Pustaka:</b> <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Stepanov Al.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lee Meng, Perpustakaan Template Standar, 1995</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Referensi CPP, salin</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Referensi CPP, inserter</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Referensi CPP, istream_iterator</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Referensi CPP, ostream_iterator</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Wiki functor</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id433218/">https://habr.com/ru/post/id433218/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id433204/index.html">Bagaimana cara mempelajari pengembangan Java? Pengalaman siswa GeekUniversity Nikita Chernetsov</a></li>
<li><a href="../id433206/index.html">Kami mengundang Anda pada tanggal 22 Desember ke Data Christmas Tree</a></li>
<li><a href="../id433208/index.html">Lunar Odyssey LEGO Education: Kami mengimplementasikan program luar angkasa Rusia</a></li>
<li><a href="../id433210/index.html">Kabur foto satelit yang tersebar luas mengungkapkan lokasi pangkalan rahasia</a></li>
<li><a href="../id433212/index.html">Bagaimana penulis TV-B-Gone membuat synthesizer musik ArduTouch</a></li>
<li><a href="../id433222/index.html">Mempelajari Laser Nitrogen - Bagian 2: Laser Pelepasan Longitudinal</a></li>
<li><a href="../id433224/index.html">Berita dari dunia OpenStreetMap No. 437 (11/27/2018 - 12/03/2018)</a></li>
<li><a href="../id433226/index.html">Metodologi untuk menilai pengetahuan seorang insinyur. Jalur seorang arsitek dan jalur seorang ahli</a></li>
<li><a href="../id433228/index.html">SamsPcbGuide Bagian 8: Cara Mendapatkan Gelombang yang Tepat</a></li>
<li><a href="../id433232/index.html">Lyft mengungkapkan visinya tentang sistem interaksi pejalan kaki</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>