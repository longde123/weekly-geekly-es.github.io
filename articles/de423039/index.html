<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💖 🈴 🆖 Wir führen die Webauthentifizierung über Blockchain durch 🤳🏾 🏂 ☝🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich habe kürzlich am Ethereum-Hackathon teilgenommen und möchte heute über das EtherAuth-Projekt sprechen, mit dem das MixBytes-Team den dritten Platz...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir führen die Webauthentifizierung über Blockchain durch</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423039/"><p><img src="https://habrastorage.org/webt/0f/l6/qv/0fl6qv7pesmgkex2kvefrj6cw0s.jpeg"></p><br><p>  Ich habe kürzlich am Ethereum-Hackathon teilgenommen und möchte heute über das EtherAuth-Projekt sprechen, mit dem das MixBytes-Team den dritten Platz belegte.  EtherAuth ist ein Versuch, eine dezentrale Version einer Site-Anmeldung mit einem externen Konto zu erstellen.  Melden Sie sich als Schaltfläche über Facebook an, nur ohne Facebook. </p><a name="habracut"></a><br><h1 id="problema-i-puti-resheniya">  Problem und Lösungen </h1><br><p>  Wenn Sie einen geschlossenen Bereich für Benutzer auf Ihrer Website einrichten möchten, müssen Sie Folgendes auswählen: Entwickeln Sie ein eigenes System zur Identifizierung, Authentifizierung und Autorisierung von Benutzern oder verwenden Sie eine vorgefertigte Lösung.  Eine schlüsselfertige Lösung bedeutet, dass Ihr Benutzer bereits ein Konto in einem System hat (Facebook, Google, Yahoo, Outlook oder auch nur E-Mail).  Und Sie verwenden den entsprechenden Mechanismus (meistens das OAuth 2.0-Protokoll), um sicherzustellen, dass jemand, der versucht, sich mit einer externen Benutzer-ID bei Ihrer Site anzumelden, dieser Benutzer ist. </p><br><p>  Die letztere Option ist einfacher zu implementieren, es besteht jedoch ein Risiko für den Benutzer: Wenn etwas mit seinem Hauptkonto passiert (z. B. blockiert Facebook das Konto ohne Angabe von Gründen), verliert er auch den Zugriff auf seine Informationen auf Ihrer Website. <br>  Wenn ich mich als Benutzer bei einer Site anmelden möchte, der ich noch nicht vertraue, muss ich dieser Site außerdem Zugriff auf meine persönlichen Informationen wie E-Mail oder Alter gewähren.  Wenn die Site nur die Anmeldung mit einem externen Konto unterstützt, muss ich buchstäblich eine Entscheidung treffen: die Nutzung der Site verweigern oder meine Anonymität opfern. </p><br><p>  Die meisten Benutzer opfern die Anonymität mit den Worten "Was für ein schreckliches Ereignis kann, ich habe nichts zu verbergen."  Leider beginnen die meisten Angriffe auf einen unvorbereiteten Benutzer, die zu Geldverlusten führen, mit ähnlichen Worten.  "Was für ein Schreckliches kann passieren, wenn ich einen Code per SMS an einen Bankangestellten sende?"  "Was für eine schreckliche Sache kann passieren, wenn ich einem Mitarbeiter des technischen Supports die Anforderungsheader sende?"  Die Antwort auf diese Frage wird meistens herausgefunden, wenn nichts getan werden kann. </p><br><p>  Wie kann Ethereum hier helfen?  Wir haben bereits erkannt, dass es drei Hauptprobleme gibt: </p><br><ol><li>  Der Benutzer ist nicht verpflichtet, der von ihm besuchten Website zu vertrauen, und möchte das Auslaufen persönlicher Informationen vermeiden. </li><li>  Die Site möchte ein externes Authentifizierungssystem verwenden, um das Speichern von Benutzerdaten und die damit verbundenen Sicherheitskosten zu vermeiden. </li><li>  Bestehende externe Systeme, die Websites die Möglichkeit bieten, Benutzer zu authentifizieren, bergen die Gefahr der Zensur.  Jedes Konto kann jederzeit ohne Erklärung und manchmal ohne die Möglichkeit einer Wiederherstellung gesperrt werden. </li></ol><br><p>  Wir können das Ethereum-Netzwerk anstelle eines externen Systems verwenden und nur den erforderlichen Datensatz darin speichern.  Wir müssen darauf achten, keine geheimen Informationen im öffentlichen Bereich zu speichern. Da es sich bei jeder Brieftasche im Ethereum-Netzwerk jedoch tatsächlich um ein Paar kryptografisch starker Schlüssel handelt, bei denen der öffentliche Schlüssel die Brieftaschenadresse bestimmt und der private Schlüssel niemals über das Netzwerk übertragen wird und nur dem Eigentümer bekannt ist, sind wir Wir können asymmetrische Verschlüsselung verwenden, um Benutzer zu authentifizieren. </p><br><p>  Im einfachsten Fall können Sie die Ethereum-Brieftaschenadresse als Benutzer-ID verwenden.  Hier tritt jedoch ein Problem auf: Im Falle eines Schlüssellecks verliert der Benutzer für immer den Zugriff auf das System.  Genauer gesagt, ab dem Moment, an dem der geheime Schlüssel des Benutzers dem Angreifer bekannt wurde oder einfach versehentlich in den öffentlichen Zugriff geriet, können wir einen solchen Schlüssel nicht zur Authentifizierung verwenden. </p><br><h1 id="realizaciya">  Implementierung </h1><br><p>  In unserer Lösung habe ich einen einfachen EtherAuth-Smart-Vertrag zum Speichern von Benutzer-IDs und zugehörigen Brieftaschenadressen geschrieben.  Die Benutzer-ID ist nur eine UTF-8-Zeichenfolge mit einer Größe zwischen 2 und 32 Byte.  Es wurde einmal vom Benutzer selbst erfunden und später verwendet, um sich bei einer Site anzumelden, die EtherAuth unterstützt.  Heute würde ich die möglichen Zeichen in der Zeichenfolge einschränken und die Möglichkeit lassen, lateinische Zeichen und arabische Ziffern (Teilmengen der 7-Bit-ASCII-Codierung) zu verwenden, um die Möglichkeit zu beschränken, extern ähnliche Anmeldungen zu erstellen. </p><br><p>  Beim Erstellen eines Kontos in EtherAuth wird ein Schlüsselpaar festgelegt: ein Autorisierungsschlüssel (authAddr) und ein Schlüssel zum Wiederherstellen des Zugriffs (recoveryKey).  Der Name recoveryKey ist nicht ganz erfolgreich, da diese Adresse nicht nur zur Wiederherstellung, sondern auch zur Verwaltung des Kontos verwendet wird.  Beim Erstellen entsprechen beide Adressen der Brieftaschenadresse, für die die Transaktion gesendet wurde.  Ein Benutzer, der sich um seine Sicherheit kümmert, sollte jedoch einen separaten Steuerschlüssel erstellen und an einem Ort speichern, auf den über das Netzwerk nicht zugegriffen werden kann.  Ich würde es sogar in Form von 12 mnemonischen Wörtern in einem Safe auf Papier aufbewahren, damit ich bei Bedarf ein paar Schlüssel neu erstellen kann. </p><br><p>  Es ist auch ratsam, eine separate Brieftaschenadresse für die Authentifizierung zu verwenden, die von der Brieftaschenadresse getrennt ist, in der Ihr gesamter Ether gespeichert ist.  Die Beziehung von authKey zur Adresse der Brieftasche, die das Konto erstellt hat, kann weiterhin durch Analyse der Transaktionssequenz des Smart-Vertrags verfolgt werden.  Jetzt können Sie beim Erstellen eines Kontos keinen separaten AuthKey und RecoveryKey festlegen.  Wenn Sie jedoch den Smart-Vertrag in diese Richtung verfeinern, wird die Adresse, die das Konto erstellt hat, nicht unbedingt dem Kontoinhaber zugeordnet, sodass jeder seine Anonymität schützen kann. </p><br><p>  Für die Benutzerinteraktion mit dem Smart-Vertrag haben wir eine separate Webseite erstellt.  Sie können ein Konto darauf erstellen, seine Schlüssel ändern oder es löschen.  Um zu arbeiten, muss der Benutzer das MetaMask-Browser-Plugin installieren.  Wenn Sie das Ethereum-Netzwerk bereits aktiv nutzen, haben Sie dieses Plugin höchstwahrscheinlich bereits installiert. Das heißt, die Mehrheit der Benutzer, die die Site über Ethereum betreten möchten, stößt auf ihrem Weg nicht auf ein zusätzliches Hindernis. </p><br><p>  Der allgemeine Benutzerauthentifizierungsprozess mit EtherAuth sieht folgendermaßen aus: </p><br><ul><li>  Die Site (Backend) wird zu einem intelligenten Vertrag und erhält die Ethereum-Adresse des Benutzers. </li><li>  Die Site (Backend) generiert und merkt sich eine Nachricht und fordert den Benutzer auf, diese Nachricht mit der authKey-Adresse zu signieren. </li><li>  Der Benutzer, der sich auf der Site (Frontend) befindet, signiert die Nachricht mit dem MetaMask-Plugin und sendet sie an das Backend. </li><li>  Die Site (Backend) überprüft die Signatur und aktiviert die Benutzersitzung gemäß der von ihr gewählten Logik, wenn alles in Ordnung ist. </li></ul><br><p>  In unserer Lösung für den Hackathon haben wir der Einfachheit halber die Teile Backend und Frontend kombiniert und ein großes Frontend erhalten.  Im wirklichen Leben ist es wichtig, dass die Authentifizierungsüberprüfung in einer nicht benutzergesteuerten Umgebung stattfindet, dh nicht im Browser, sondern auf dem Server. </p><br><p>  Von den Problemen, auf die wir gestoßen sind, können wir die Überprüfung der Signatur im Frontend-Teil feststellen.  Es gab keine Unterstützung für elliptische Kurven im Browser, daher musste ich dem Smart-Vertrag eine Funktion hinzufügen, die das ecrecover-Ergebnis aus der Nachricht zurückgibt, und lernen, wie Parameter korrekt an sie übergeben werden (erhalten Sie sie aus einer von MetaMask signierten Nachricht). </p><br><p>  Als Ergebnis erhielten wir innerhalb von zwei Tagen einen Proof-of-Concept der dezentralen Authentifizierung mithilfe des Ethereum-Netzwerks und des MetaMask-Plugins.  Wir verstehen, wie dieses System verfeinert werden kann, um dem Benutzer Anonymität zu verleihen.  Der Benutzer kann den Zugriff im Falle eines Lecks seines Primärschlüssels wiederherstellen (jedoch nicht im Falle eines Lecks des Wiederherstellungsschlüssels).  Ein dezentrales System unterliegt nicht der Zensur großer Strukturen wie Google oder Facebook.  Wenn eine Zensur erforderlich ist, sollte die Site diese selbst ausführen. Dies kann jedoch nur innerhalb ihres eigenen Systems erfolgen, ohne den Benutzerzugriff auf andere Systeme zu beeinträchtigen.  Das Ethereum-Netzwerk führt Transaktionen nicht sehr schnell durch (beim Erstellen eines Kontos muss der Benutzer möglicherweise einige Minuten warten), es ist jedoch möglich, Daten abzurufen und die Benutzerauthentifizierung sehr schnell zu überprüfen.  Diese Lösung lässt sich gut skalieren, da es viele Knoten mit Daten gibt und jeder jederzeit einen weiteren hinzufügen kann.  Die Komplexität der Implementierung einer solchen Lösung für Websitebesitzer ist nicht höher als die Komplexität der Implementierung der Unterstützung für OAuth 2.0. </p><br><h1 id="zaklyuchenie">  Fazit </h1><br><p>  Natürlich sind Benutzer, die das Ethereum-Netzwerk nutzen, heute im Vergleich zur Anzahl der Facebook-Benutzer vernachlässigbar.  Die Popularität von Blockchain-Technologien nimmt jedoch zu, und ich glaube, dass es in absehbarer Zukunft immer mehr solcher Benutzer geben wird, was bedeutet, dass es möglich sein wird, die dezentrale Authentifizierung in industriellen Systemen zu verwenden. </p><br><h1 id="ssylki">  Referenzen </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quellcode</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de423039/">https://habr.com/ru/post/de423039/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de423025/index.html">Wie kann ein Cash-Programm Analytics sparen?</a></li>
<li><a href="../de423027/index.html">Optischer FTDI-POF-Transceiver</a></li>
<li><a href="../de423029/index.html">Club Club Report 2018, Kapitel 3.2: „Entwicklungsalternativen“</a></li>
<li><a href="../de423033/index.html">Sie reden zu viel über CRM: Umgang mit Klatsch</a></li>
<li><a href="../de423035/index.html">Das Feld zum Hochladen von Dateien, das wir verdienen</a></li>
<li><a href="../de423041/index.html">Bizarre Geschichte Super NES CD-ROM</a></li>
<li><a href="../de423043/index.html">Aufgrund einer Sicherheitslücke im Tesla-Schutzsystem für Elektrofahrzeuge kann ein Auto in wenigen Sekunden gestohlen werden</a></li>
<li><a href="../de423045/index.html">Welchen 3D-Drucker wählen? 3Dtool Video Review</a></li>
<li><a href="../de423047/index.html">Wir reservieren IT-Systeme für angemessenes Geld</a></li>
<li><a href="../de423049/index.html">Lernprozesse unter Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>