<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👼 🤴🏿 🚁 Warum ich Eloquent ORM hasse 😠 👩🏻‍💻 🧔🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo an alle. Ich möchte Ihnen gestehen und Ihnen ein wenig darüber erzählen, wie ich mich fühle, wenn ich mich auf Laravel entwickle. Nein, denken S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Warum ich Eloquent ORM hasse</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434984/"><p><img src="https://habrastorage.org/webt/aw/le/nh/awlenhgll_4ltklubkiqe1wvk8c.jpeg" alt="Bild"></p><br><p>  Hallo an alle.  Ich möchte Ihnen gestehen und Ihnen ein wenig darüber erzählen, wie ich mich fühle, wenn ich mich auf Laravel entwickle.  Nein, denken Sie nicht darüber nach, ich liebe dieses Framework und bin dem Team, das es erstellt und unterstützt hat, unglaublich dankbar. Sie machen einen extrem coolen Job und meiner Meinung nach ist Laravel die beste Fortsetzung von Symfony, nicht weniger geliebt von mir. </p><br><p>  Ich liebe dummen Code.  Dumm in dem Sinne, dass Sie dies auch nach 10 Jahren tun können, wenn der Kunde Sie auffordert, Änderungen daran vorzunehmen, ohne sich mit der Logik zu befassen, selbst nach einer Firmenfeier am Freitag, ohne irgendetwas im alten Code zu brechen.  Und dumm in dem Sinne, dass Sie keine kognitiven Anstrengungen unternehmen müssen, um es zu verstehen.  Aber es gibt eine architektonische Lösung in Laravel Eloquent ORM, die mich zum Weinen bringt.  Interessant?  Komm unter die Katze. </p><a name="habracut"></a><br><p> Kluge Köpfe haben sich vor langer Zeit alles für uns ausgedacht: OOP, Design Patterns, SOLID, DDD und andere beängstigende Wörter, die Sie am Anfang so sehr erschrecken, und wenden sie dann ahnungslos an. </p><br><p>  Diese mag ich Laravel und Symfony.  Mit ihnen können Sie den dümmsten und sichersten Code sofort schreiben.  Ja  Jeder von ihnen hat seine Nachteile ... Aber in Laravel gibt es einen, der mich am meisten nervt.  Hierbei wird das Active Record Pattern (AR) für die Arbeit mit Modellen verwendet. </p><br><p>  Für den Anfang ein wenig über dieses Muster.  Worum geht es hier?  Zum Verständnis sollten Sie zum übergeordneten Element dieses Anwendungsdesigns gehen - dem Repository-Muster.  Dieses Muster ist eine Sammlung.  Eine Sammlung von Entitäten (Entity), die sie abrufen, ändern, speichern, löschen und im Allgemeinen an einem abstrakten Speicherort verwalten können.  In 90 von 100 Prozent der Fälle handelt es sich bei diesem Speicherort um eine Vielzahl von Datenbanken.  Möglicherweise gibt es jedoch ein Dateisystem, eine Art Cache und sogar eine externe API. </p><br><p>  Dieser Ansatz steht in vollem Einklang mit dem Prinzip der geteilten Verantwortung und dem DDD-Ansatz.  Dank dieses Ansatzes wird außerdem eine schwache Konnektivität implementiert. Es ist uns egal, wie genau die Anwendung gespeichert ist. Wir arbeiten mit Entity, wenn wir direkt mit der Objektdarstellung von Daten arbeiten möchten, und arbeiten mit Repository, wenn wir mit dem Repository interagieren müssen. </p><br><p>  Laravel entschied sich jedoch für AR, das zweifellos cool und unglaublich praktisch ist, wenn Sie einen schnellen Prototyp erstellen müssen. Es wird jedoch zu einem unglaublichen Problem, wenn Sie mit mehreren Datenquellen interagieren und mit ihnen im System arbeiten müssen. </p><br><p>  AR ist ein Muster, das Entität und Repository in einem Modell abbildet.  Das heißt, ein Objekt wird zu einer Darstellung eines bestimmten Datensatzes in der Datenbank.  Na und?  Was führt das und warum ist es so nervig? </p><br><p>  Erstens verletzen wir das gleiche Prinzip der geteilten Verantwortung - die Logik der Arbeit mit dem Repository an einem Ort und die Logik der Arbeit mit einer Entität an einem anderen Ort.  Dies ist wichtig, da ich im Rahmen meines Systems keine Zeile aus der Datenbank in der Objektdarstellung über die Aufrufkette übertragen möchte.  Ich möchte das Modell weitergeben.  Ich sollte mich nicht darum kümmern, wie es ausgeht, sich ändert und anhält.  Ich brauche diese Methoden, mit denen Sie nur mit dem Modell und nicht mit den Zeilen in der Datenbank interagieren können. </p><br><p>  Zweitens können wir den Speicherort des Modells nicht einfach ändern (da die persistente Schicht - die Speicherschicht - mit der Entitätsschicht verbunden ist).  Ja, wir können dies in der Konfiguration tun und es sofort für alle innerhalb der unterstützten Datenbanken ändern.  Oder ändern Sie nur für ein bestimmtes Modell (mit all dem entfernen wir keine Methoden zum Erstellen von Abfragen, da Sie die Methoden der Basisklasse nicht entfernen können) und stoßen auf eine Menge wahrscheinlicher Fehler im Code oder, Gott bewahre, wenn jemand anderes wird unterstützen (und das passiert die ganze Zeit). </p><br><p>  Drittens.  Ich möchte meine Entitäten testen.  Ich möchte es verdammt noch mal tun, um sicherzugehen, dass die Änderungen, die ich vornehme, meine Geschäftslogik nicht brechen.  Und wie die Praxis zeigt, können Sie dies bei AR nicht tun, da das teuflische Prinzip der Einzelverantwortung verletzt wurde!  Obwohl ich hier etwas unaufrichtig bin.  Das Testen von Modellen ist möglich, nur ... Ein bisschen kompliziert. </p><br><p>  Über die Vorteile dieses Musters kann man jedoch nichts sagen.  Obwohl sein ganzes Plus ist, dass es "schnell, einfach, ohne zu zögern" ist.  Durch das Zusammenführen von zwei Mustern, die logisch nahe an ihren Aktionen liegen und ständig zusammen verwendet werden, haben wir ein praktisches Werkzeug erhalten, das die Codemenge geringfügig reduziert (erinnern wir uns in Richtung Komplexität an den "dummen Code"?).  Es ermöglicht Ihnen auch, unnötige Probleme in der Phase der MVP-Bildung zu beseitigen, was obligatorisch ist (die Praxis zeigt, dass dies selten vorkommt, aber immer noch). Es ist geplant, es neu zu schreiben.  Auf diese Weise können Sie Ihre Gedanken von der Frage „Wie machen wir das?“ Zur Frage „Was machen wir?“ Verschieben, dh unnötige Fragen zu Technologien loswerden und zur Geschäftslogik übergehen. </p><br><p>  Zu welchem ​​Schluss bin ich im Laufe der Jahre mit dem Laravel Eloquent ORM gekommen?  Active Böse im Fleisch aufzeichnen?  Nein, dies ist in einigen Situationen das coolste Tool, insbesondere in der Phase, in der Sie eine einfache Anwendung oder einen Prototyp einer solchen Anwendung schreiben.  Dies ist jedoch unmöglich, wenn Ihre Anwendung erwachsen wird und Sie mit einer großen Anzahl von Datenquellen arbeiten, Code mit 100% Testabdeckung schreiben müssen und große Probleme auftreten. </p><br><p>  Ja, neue Chips werden erfunden ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Trucker</a> ?), Aber lasst uns Tricks machen.  Trotzdem möchte ich ein bisschen mehr Freiheit vom Framework, zumal es für so viele so gut ist! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434984/">https://habr.com/ru/post/de434984/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434972/index.html">Wie schreibe ich Unit-Tests, wenn Sie überhaupt keine Lust dazu haben?</a></li>
<li><a href="../de434974/index.html">Arbeiten Sie mit einem Konfigurationsformat 1C: Enterprise</a></li>
<li><a href="../de434976/index.html">ITMO University Fablab: DIY-Coworking für kreative Menschen - zeigen Sie, was drin ist</a></li>
<li><a href="../de434978/index.html">Einführung in HealthKit</a></li>
<li><a href="../de434982/index.html">Perspektive: MultiClet S1</a></li>
<li><a href="../de434986/index.html">Grundlegende Konzepte der Standard-C ++ - Bibliothek</a></li>
<li><a href="../de434992/index.html">IDA Pro aktualisieren. Debugger für Sega Mega Drive (Teil 1)</a></li>
<li><a href="../de434994/index.html">Android: Erstellen dynamischer Produktaromen und Signieren von Konfigurationen</a></li>
<li><a href="../de434996/index.html">Wie ich den Standort über die VK-API freigegeben habe</a></li>
<li><a href="../de434998/index.html">Ein weiterer Artikel zur Auswahl eines Smartphones</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>