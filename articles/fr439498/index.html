<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëØ üåò ü•° Sur quel mat√©riel analyser un √©norme puits d'informations? üö¥üèΩ üë©üèø‚Äçü§ù‚Äçüë©üèæ ü¶à</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous sommes Big Data chez MTS et c'est notre premier article. Aujourd'hui, nous allons parler des technologies qui nous permettent de stocker et de tr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sur quel mat√©riel analyser un √©norme puits d'informations?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/439498/">  Nous sommes Big Data chez MTS et c'est notre premier article.  Aujourd'hui, nous allons parler des technologies qui nous permettent de stocker et de traiter les m√©gadonn√©es afin qu'il y ait toujours suffisamment de ressources pour l'analyse, et que le co√ªt d'achat du fer n'atteigne pas des distances tr√®s √©lev√©es. <br><br>  Ils ont pens√© √† cr√©er le centre Big Data chez MTS en 2014: il √©tait n√©cessaire de faire √©voluer le stockage analytique classique et le reporting BI.  √Ä cette √©poque, le moteur de traitement des donn√©es et de BI √©tait SAS - cela s'est produit historiquement.  Et bien que les besoins de stockage de l'entreprise aient √©t√© ferm√©s, au fil du temps, les fonctionnalit√©s de BI et d'analytique ad hoc au-dessus du stockage analytique ont tellement augment√© qu'il √©tait n√©cessaire de r√©soudre le probl√®me de l'augmentation de la productivit√©, √©tant donn√© qu'au fil des ans, le nombre d'utilisateurs a d√©cupl√© et a continu√© de cro√Ætre. <br><br>  √Ä la suite du concours, le syst√®me Teradata MPP est apparu dans MTS, couvrant les besoins des t√©l√©communications √† l'√©poque.  Ce fut l'impulsion pour essayer quelque chose de plus populaire et open source. <br><br><img src="https://habrastorage.org/webt/3w/vb/oq/3wvboq27onvunkfizv0cfquemou.jpeg" alt="image"><br><br>  <i>Sur la photo - l'√©quipe Big Data MTS dans le nouveau bureau Descartes √† Moscou</i> <a name="habracut"></a><br><br>  Le premier cluster √©tait de 7 n≈ìuds.  Cela a suffi pour tester plusieurs hypoth√®ses commerciales et bourrer les premi√®res bosses.  Les efforts n'ont pas √©t√© vains: le Big Data existe dans MTS depuis trois ans et maintenant l'analyse des donn√©es est impliqu√©e dans presque tous les domaines fonctionnels.  L'√©quipe est pass√©e de trois √† deux cents. <br><br>  Nous voulions avoir des processus de d√©veloppement simples, tester rapidement des hypoth√®ses.  Pour ce faire, vous avez besoin de trois choses: une √©quipe avec une pens√©e de d√©marrage, des processus de d√©veloppement l√©gers et une infrastructure d√©velopp√©e.  Il y a beaucoup d'endroits o√π vous pouvez lire et √©couter le premier et le deuxi√®me, mais cela vaut la peine de parler de l'infrastructure d√©velopp√©e s√©par√©ment, car les sources h√©rit√©es et de donn√©es qui se trouvent dans les t√©l√©communications sont importantes ici.  Une infrastructure de donn√©es d√©velopp√©e ne construit pas seulement un lac de donn√©es, une couche de donn√©es d√©taill√©es et une couche vitrine.  Il comprend √©galement des outils et des interfaces d'acc√®s aux donn√©es, l'isolement des ressources informatiques pour les produits et les commandes, des m√©canismes pour fournir des donn√©es aux consommateurs - en temps r√©el et en mode batch.  Et bien plus encore. <br><br>  Tous ces travaux se sont d√©marqu√©s dans un domaine distinct, engag√© dans le d√©veloppement d'utilitaires et d'outils de donn√©es.  Ce domaine est appel√© la plate-forme informatique Big Data. <br><br><h3>  D'o√π vient le Big Data dans MTS </h3><br>  MTS poss√®de de nombreuses sources de donn√©es.  L'une des principales est les stations de base; nous desservons la base d'abonn√©s de plus de 78 millions d'abonn√©s en Russie.  Nous avons √©galement de nombreux services qui ne sont pas li√©s aux t√©l√©communications et vous permettent de recevoir des donn√©es plus polyvalentes (commerce √©lectronique, int√©gration de syst√®mes, Internet des objets, services cloud, etc. - l'ensemble des ¬´non-t√©l√©communications¬ª rapporte d√©j√† environ 20% de tous les revenus). <br><br>  En bref, notre architecture peut √™tre repr√©sent√©e comme un graphique: <br><br><img src="https://habrastorage.org/webt/ya/cf/mf/yacfmf3ruitbrvmrjlib6kqlywy.png" alt="image"><br><br>  Comme vous pouvez le voir sur le graphique, les sources de donn√©es peuvent fournir des informations en temps r√©el.  Nous utilisons la couche de flux - nous pouvons traiter des informations en temps r√©el, en extraire certains √©v√©nements qui nous int√©ressent et construire des analyses √† ce sujet.  Afin de fournir un tel traitement d'√©v√©nements, nous avons d√©velopp√© une impl√©mentation assez standard (du point de vue de l'architecture) utilisant Apache Kafka, Apache Spark et du code en langage Scala.  Les informations obtenues √† la suite d'une telle analyse peuvent √™tre consomm√©es aussi bien √† l'int√©rieur de MTS qu'√† l'avenir: les entreprises sont souvent int√©ress√©es par le fait m√™me de certaines actions des abonn√©s. <br><br>  Il existe √©galement un mode de chargement des donn√©es par lots - couche batch.  Habituellement, le t√©l√©chargement a lieu une fois par heure selon un calendrier, nous utilisons Apache Airflow comme planificateur et les processus de t√©l√©chargement par lots eux-m√™mes sont impl√©ment√©s en python.  Dans ce cas, une quantit√© beaucoup plus importante de donn√©es est charg√©e dans Data Lake, ce qui est n√©cessaire pour remplir les Big Data avec des donn√©es historiques, sur lesquelles nos mod√®les Data Science doivent √™tre form√©s.  En cons√©quence, un profil d'abonn√© est form√© dans le contexte historique sur la base de donn√©es sur son activit√© r√©seau.  Cela nous permet d'obtenir des statistiques pr√©dictives et de construire des mod√®les de comportement humain, voire de cr√©er un portrait psychologique de lui - nous avons un produit distinct.  Ces informations sont tr√®s utiles, par exemple, pour les soci√©t√©s de marketing. <br><br>  Nous avons √©galement une grande quantit√© de donn√©es qui composent le r√©f√©rentiel classique.  Autrement dit, nous regroupons les informations sur divers √©v√©nements - √† la fois utilisateur et r√©seau.  Toutes ces donn√©es anonymis√©es aident √©galement √† pr√©dire avec plus de pr√©cision les int√©r√™ts et les √©v√©nements des utilisateurs qui sont importants pour l'entreprise - par exemple, pour pr√©dire les pannes d'√©quipement possibles et d√©panner √† temps. <br><br><h3>  Hadoop </h3><br>  Si vous regardez le pass√© et vous rappelez comment les m√©gadonn√©es sont apparues en g√©n√©ral, il convient de noter que, fondamentalement, l'accumulation de donn√©es a √©t√© effectu√©e √† des fins de marketing.  Il n'y a pas de d√©finition aussi claire de ce qu'est le big data - ce sont des gigaoctets, des t√©raoctets, des p√©taoctets.  Impossible de tracer une ligne.  Pour certains, les m√©gadonn√©es repr√©sentent des dizaines de gigaoctets, pour d'autres, des p√©taoctets. <br><br>  Il se trouve qu'au fil du temps, beaucoup de donn√©es se sont accumul√©es dans le monde.  Et pour mener une sorte d'analyse plus ou moins significative de ces donn√©es, les r√©f√©rentiels habituels qui se d√©veloppent depuis les ann√©es 70 du si√®cle dernier ne suffisent plus.  Lorsque le puits d'information a commenc√© dans les ann√©es 2000, 10 et lorsqu'il y avait beaucoup d'appareils qui avaient acc√®s √† Internet, lorsque l'Internet des objets est apparu, ces r√©f√©rentiels ne pouvaient tout simplement pas faire face conceptuellement.  La base de ces r√©f√©rentiels √©tait la th√©orie relationnelle.  Autrement dit, il y avait des relations de formes diff√©rentes qui interagissaient les unes avec les autres.  Il y avait un syst√®me pour d√©crire comment construire et concevoir des r√©f√©rentiels. <br><br>  Lorsque les anciennes technologies √©chouent, de nouvelles apparaissent.  Dans le monde moderne, le probl√®me de l'analyse des m√©gadonn√©es est r√©solu de deux mani√®res: <br><br>  Cr√©er votre propre framework qui vous permet de traiter de grandes quantit√©s d'informations.  Il s'agit g√©n√©ralement d'une application distribu√©e de plusieurs centaines de milliers de serveurs - comme Google, Yandex, qui ont cr√©√© leurs propres bases de donn√©es distribu√©es qui vous permettent de travailler avec un tel volume d'informations. <br><br>  Le d√©veloppement de la technologie Hadoop est un cadre informatique distribu√©, un syst√®me de fichiers distribu√© qui peut stocker et traiter une tr√®s grande quantit√© d'informations.  Les outils de Data Science sont principalement compatibles avec Hadoop et cette compatibilit√© ouvre de nombreuses possibilit√©s pour une analyse avanc√©e des donn√©es.  De nombreuses entreprises, dont nous, √©voluent vers l'√©cosyst√®me open source Hadoop. <br><br>  Le cluster central Hadoop est situ√© √† Nizhny Novgorod.  Il accumule des informations de presque toutes les r√©gions du pays.  En termes de volume, environ 8,5 p√©taoctets de donn√©es peuvent d√©sormais y √™tre t√©l√©charg√©s.  Toujours √† Moscou, nous avons des grappes RND distinctes o√π nous menons des exp√©riences. <br><br>  √âtant donn√© que nous avons environ un millier de serveurs dans diff√©rentes r√©gions, o√π nous effectuons des analyses, ainsi qu'une expansion est pr√©vue, la question se pose du bon choix d'√©quipement pour les syst√®mes analytiques distribu√©s.  Vous pouvez acheter un √©quipement suffisant pour le stockage de donn√©es, mais qui s'av√®re inappropri√© pour l'analyse - tout simplement parce qu'il n'y aura pas suffisamment de ressources, le nombre de c≈ìurs de processeur et de RAM libre sur les n≈ìuds.  Il est important de trouver un √©quilibre afin d'obtenir de bonnes opportunit√©s d'analyse et des co√ªts d'√©quipement peu √©lev√©s. <br><br>  Intel nous a propos√© diff√©rentes options sur la fa√ßon d'optimiser le travail avec un syst√®me distribu√© afin que l'analyse de notre volume de donn√©es puisse √™tre obtenue pour un prix raisonnable.  Intel fait progresser la technologie des disques SSD NAND SSD  Il est des centaines de fois plus rapide qu'un disque dur ordinaire.  C'est bon pour nous: le SSD, en particulier avec l'interface NVMe, fournit un acc√®s assez rapide aux donn√©es. <br><br>  De plus, Intel a publi√© des SSD pour serveurs Intel Optane SSD bas√©s sur le nouveau type de m√©moire non volatile Intel 3D XPoint.  Ils supportent des charges mixtes intensives sur le syst√®me de stockage et ont une ressource plus longue que les SSD NAND ordinaires.  Pourquoi est-ce bon pour nous: le SSD Intel Optane vous permet de travailler de mani√®re stable sous de lourdes charges avec une faible latence.  Nous avons initialement consid√©r√© le SSD NAND comme un remplacement pour les disques durs traditionnels, car nous avons une tr√®s grande quantit√© de donn√©es se d√©pla√ßant entre le disque dur et la RAM - et nous devions optimiser ces processus. <br><br><h3>  Premier test </h3><br>  Le premier test que nous avons effectu√© en 2016.  Nous avons juste pris et essay√© de remplacer le disque dur par un SSD NAND rapide.  Pour ce faire, nous avons command√© des √©chantillons du nouveau disque Intel - √† l'√©poque c'√©tait le DC P3700.  Et ils ont ex√©cut√© le test standard de Hadoop - un √©cosyst√®me qui vous permet d'√©valuer l'√©volution des performances dans diff√©rentes conditions.  Ce sont des tests standardis√©s TeraGen, TeraSort, TeraValidate. <br><br><img src="https://habrastorage.org/webt/4t/rv/jg/4trvjgykt92_nv93z6nidrblw8g.png" alt="image"><br><br>  TeraGen vous permet de "g√©n√©rer" des donn√©es artificielles d'un certain volume.  Par exemple, nous avons pris 1 Go et 1 To.  Avec TeraSort, nous avons tri√© cette quantit√© de donn√©es dans Hadoop.  Il s'agit d'une op√©ration assez gourmande en ressources.  Et le dernier test - TeraValidate - vous permet de vous assurer que les donn√©es sont tri√©es dans le bon ordre.  Autrement dit, nous les parcourons une deuxi√®me fois. <br><br><img src="https://habrastorage.org/webt/dh/26/a8/dh26a8jyr-tzpravvfdpliwvz3m.png" alt="image"><br><br>  √Ä titre exp√©rimental, nous avons pris des voitures uniquement avec des SSD - c'est-√†-dire que Hadoop n'√©tait install√© que sur des SSD sans utiliser de disques durs.  Dans la deuxi√®me version, nous avons utilis√© SSD pour stocker des fichiers temporaires, HDD - pour stocker des donn√©es de base.  Et dans la troisi√®me version, des disques durs √©taient utilis√©s pour les deux. <br><br>  Les r√©sultats de ces exp√©riences ne nous ont pas beaucoup plu, car la diff√©rence dans les indicateurs de performance n'a pas d√©pass√© 10-20%.  Autrement dit, nous avons r√©alis√© que Hadoop n'est pas tr√®s convivial avec les SSD en termes de stockage, car au d√©part, le syst√®me a √©t√© cr√©√© pour stocker de grandes donn√©es sur le disque dur, et personne ne l'a optimis√© en particulier pour les SSD rapides et co√ªteux.  Et comme le co√ªt du SSD √† cette √©poque √©tait assez √©lev√©, nous avons d√©cid√© jusqu'√† pr√©sent de ne pas entrer dans cette histoire et de nous en sortir avec les disques durs. <br><br><h3>  Deuxi√®me test </h3><br>  Ensuite, Intel a introduit de nouveaux SSD Intel Optane c√¥t√© serveur bas√©s sur la m√©moire 3D XPoint.  Ils ont √©t√© publi√©s fin 2017, mais les √©chantillons √©taient disponibles plus t√¥t.  Les fonctionnalit√©s de la m√©moire 3D XPoint permettent d'utiliser le SSD Intel Optane comme une extension de RAM dans les serveurs.  Comme nous avons d√©j√† r√©alis√© qu'il ne serait pas facile de r√©soudre le probl√®me de performances IO Hadoop au niveau des p√©riph√©riques de stockage en bloc, nous avons d√©cid√© d'essayer une nouvelle option - √©tendre la RAM en utilisant la technologie Intel Memory Drive Technology (IMDT).  Et au d√©but de cette ann√©e, nous avons √©t√© parmi les premiers au monde √† le tester. <br><br>  C'est bon pour nous: c'est moins cher que la RAM, ce qui vous permet de collecter des serveurs qui ont des t√©raoctets de RAM.  Et comme la RAM est assez rapide, vous pouvez y charger de grands ensembles de donn√©es et les analyser.  Permettez-moi de vous rappeler que la particularit√© de notre processus analytique est que nous acc√©dons aux donn√©es plusieurs fois.  Afin de faire une sorte d'analyse, nous devons charger autant de donn√©es en m√©moire que possible et ¬´faire d√©filer¬ª une sorte d'analyse de ces donn√©es plusieurs fois. <br>  Le laboratoire anglais d'Intel √† Swindon nous a attribu√© un cluster de trois serveurs, qui lors des tests nous avons compar√© avec notre cluster de test situ√© √† MTS. <br><br><img src="https://habrastorage.org/webt/ph/uc/1h/phuc1hd5_okqgdwgtzbskvvmngm.png" alt="image"><br><br>  Comme le montre le graphique, selon les r√©sultats des tests, nous avons obtenu de tr√®s bons r√©sultats. <br><br><img src="https://habrastorage.org/webt/nx/02/rz/nx02rzz8cratazithcmus9utpy8.png" alt="image"><br><br>  Le m√™me TeraGen a montr√© une augmentation de productivit√© presque double, TeraValidate - de 75%.  C'est tr√®s bien pour nous, car, comme je l'ai dit, nous acc√©dons plusieurs fois aux donn√©es que nous avons en m√©moire.  Par cons√©quent, si nous obtenons un tel gain de performances, cela nous aidera particuli√®rement dans l'analyse des donn√©es, en particulier en temps r√©el. <br><br>  Nous avons effectu√© trois tests dans diff√©rentes conditions.  100 Go, 250 Go et 500 Go.  Et plus nous utilisions de m√©moire, plus le SSD Intel Optane avec la technologie Intel Memory Drive √©tait performant.  Autrement dit, plus nous analysons de donn√©es, plus nous obtenons d'efficacit√©.  Les analyses qui ont eu lieu sur plus de n≈ìuds peuvent avoir lieu sur moins d'entre eux.  Et nous obtenons √©galement une assez grande quantit√© de m√©moire sur nos machines, ce qui est tr√®s bon pour les t√¢ches de Data Science.  Sur la base des r√©sultats des tests, nous avons d√©cid√© d'acheter ces disques pour travailler chez MTS. <br><br>  Si vous deviez √©galement choisir et tester du mat√©riel pour stocker et traiter une grande quantit√© de donn√©es, nous serons int√©ress√©s de lire quelles difficult√©s vous avez rencontr√©es et quels r√©sultats vous avez obtenus: √©crivez dans les commentaires. <br><br>  <i>Auteurs:</i> <i><br></i>  <i>Grigory Koval, chef du centre de comp√©tences en architecture appliqu√©e du d√©partement Big Data de MTS, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">grigory_koval</a></i> <i><br></i>  <i>Chef de la tribu de gestion des donn√©es du d√©partement Big Data MTS Dmitry Shostko <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">zloi_diman</a></i> <cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr439498/">https://habr.com/ru/post/fr439498/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr439486/index.html">Types de r√©f√©rence .NET vs types de valeur. Partie 1</a></li>
<li><a href="../fr439488/index.html">Enregistrement vid√©o Meetup QA</a></li>
<li><a href="../fr439490/index.html">Types de r√©f√©rence .NET vs types de valeur. 2e partie</a></li>
<li><a href="../fr439492/index.html">10 conseils pour √™tre un bon leader technologique</a></li>
<li><a href="../fr439496/index.html">Comment la facturation se fait-elle: lorsque le client et le d√©veloppeur parlent des langues diff√©rentes</a></li>
<li><a href="../fr439500/index.html">Pourquoi les captchas sont-ils devenus si compliqu√©s</a></li>
<li><a href="../fr439502/index.html">Comportement ind√©fini et v√©rit√© non d√©finie</a></li>
<li><a href="../fr439504/index.html">Votre √©quipe a-t-elle besoin d'un Data Engineer?</a></li>
<li><a href="../fr439506/index.html">9 alternatives √† une mauvaise √©quipe (mod√®le de conception)</a></li>
<li><a href="../fr439508/index.html">Mitap sur le d√©veloppement Open Source √† Moscou</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>