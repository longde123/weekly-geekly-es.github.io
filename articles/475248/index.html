<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßîüèΩ üë©‚Äçüë©‚Äçüë¶‚Äçüë¶ üç¶ El uso de polyfills al escribir aplicaciones de navegador cruzado ü§ûüèª ü•ù üëâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente, me pas√≥ una historia divertida. Hice un proyecto web y ampli√© las capacidades de una aplicaci√≥n existente, que mi personal usa en mi or...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El uso de polyfills al escribir aplicaciones de navegador cruzado</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/475248/">  Recientemente, me pas√≥ una historia divertida.  Hice un proyecto web y ampli√© las capacidades de una aplicaci√≥n existente, que mi personal usa en mi organizaci√≥n.  Todo parec√≠a estar bien, me alegr√© de que se lanzara el proyecto, esperando cartas de agradecimiento. <br><br>  Pocos d√≠as despu√©s del primer lanzamiento, realmente comenc√© a recibir cartas.  Pero gracias no se observaron en ellos.  Los gerentes, los trabajadores de recursos humanos y todos los que intentaron usar mi programa me escribieron.  Todos dijeron que su aplicaci√≥n no funciona correctamente. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/uh/ra/et/uhraetarp4ufpt8tvdceqkkoi3i.jpeg"></a> <br><br>  Cual es el problema  Pero el hecho es que cuando cre√© el proyecto, lo prob√© en Chrome.  Pero los usuarios de este proyecto usan constantemente Firefox e IE.  Trabajar con mi aplicaci√≥n no fue la excepci√≥n.  Al final, estaba completamente descontento de que el proyecto, lanzado hace un par de d√≠as, tuviera que finalizarse. <br><br>  De hecho, aqu√≠ los polyfills vinieron en mi ayuda. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Polyfills</font> </h2><br>  Un polyfill (polyfill o polyfiller) es una pieza de c√≥digo (o un cierto complemento) que implementa lo que el desarrollador espera entre las capacidades est√°ndar del navegador.  Polyfills permiten, por as√≠ decirlo, "suavizar" las irregularidades de las API del navegador. <br><br>  En un entorno web, los polyfills generalmente est√°n representados por c√≥digo JavaScript.  Este c√≥digo se utiliza para equipar los navegadores heredados con caracter√≠sticas modernas que estos navegadores no admiten. <br><br>  Por ejemplo, usando polyfill, puede simular la funcionalidad del elemento HTML Canvas en Microsoft Internet Explorer 7. Para esto, se utiliza el complemento Silverlight.  Polyfill se puede usar para admitir unidades de medida <code>rem</code> en CSS, o el atributo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sombra de texto</a> , o cualquier otra cosa.  Las razones por las que los desarrolladores no usan exclusivamente polyfills, sin prestar atenci√≥n a las capacidades integradas de los navegadores, son que las capacidades est√°ndar de los navegadores proporcionan una mejor funcionalidad y un mayor rendimiento.  Las implementaciones propias del navegador de varias API tienen m√°s funciones que los polyfills, y funcionan m√°s r√°pido. <br><br>  A veces, los polyfills se usan para resolver problemas asociados con el hecho de que diferentes navegadores implementan las mismas caracter√≠sticas de diferentes maneras.  Dicho polyfill interact√∫a con algunos navegadores, usando sus caracter√≠sticas no est√°ndar, y le da acceso a otros programas JavaScript a ciertos mecanismos que cumplen con los est√°ndares.  Cabe se√±alar que tales razones para usar polyfills hoy ya no son tan relevantes como antes.  Los Polyfills fueron especialmente frecuentes en los d√≠as de IE6, Netscape y NNav, cuando cada navegador implementaba las capacidades de JavaScript de manera diferente a los dem√°s. <br><br><h2>  <font color="#3AC1EF">Ejemplo</font> </h2><br>  Recientemente publiqu√© una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gu√≠a de</a> desarrollo para una aplicaci√≥n que convierte archivos CSV y Excel a JSON usando JavaScript.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> puedes ver la aplicaci√≥n terminada. <br><br>  Para tratar con lo que hablaremos a continuaci√≥n, puede hacer todo lo que se discute en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">manual</a> o clonar mi repositorio con el siguiente comando: <br><br><pre> <code class="javascript hljs">git clone https:<span class="hljs-comment"><span class="hljs-comment">//github.com/YannMjl/jsdemo-read-cvs-xls-json cd jsdemo-read-cvs-xls-json</span></span></code> </pre> <br>  Recomiendo usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VS Code</a> en el proceso.  Puede iniciar la aplicaci√≥n web localmente utilizando la extensi√≥n para VS Code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Live Server</a> . <br><br>  Modifiquemos esta aplicaci√≥n web y observemos los problemas que surgen cuando se trabaja con diferentes navegadores. <br><br>  Cree una rama de <code>polyfill</code> en el repositorio y c√°mbiela: <br><br><pre> <code class="javascript hljs">git checkout -b polyfill</code> </pre> <br>  Voy a investigar la situaci√≥n en la que obtenemos datos de dos o m√°s archivos CSV y, despu√©s de procesar los resultados de las solicitudes a las API correspondientes, enviamos estos datos a una tabla HTML. <br><br><h3>  <font color="#3AC1EF">‚ñç Finalizaci√≥n del proyecto.</font> </h3><br>  Cree un nuevo archivo CSV ( <code>team2.csv</code> ) en el directorio ra√≠z del proyecto, como resultado de lo cual deber√≠a haber dos archivos.  <a href="">Aqu√≠ est√° el</a> archivo que agregu√© al proyecto. <br><br>  <code>script.js</code> archivo <code>script.js</code> para que lea datos de 2 archivos y muestre todos los datos en una tabla HTML.  Aqu√≠ est√° mi <code>script.js</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ******************************************************************** //                         * //   ,      * // ******************************************************************** var csv_file_API_1 = "./UsersSample.csv"; var csv_file_API_2 = "./team2.csv"; var APIs_array = [csv_file_API_1, csv_file_API_2]; //       $(document).ready(function () {    $("#headerTitle").hide(300).show(1500);    makeAPICalls(); }); // end: document.ready() function makeAPICalls() {    // ,      API    var calls = [];    //  API  CSV-     APIs_array.forEach(function (csv_file_API) {        //             calls.push(new Promise(function (resolve, reject) {            //   API   AJAX            $.ajax({                type: "GET",                url: csv_file_API,                dataType: "text",                cache: false,                error: function (e) {                    alert("An error occurred while processing API calls");                    console.log("API call Failed: ", e);                    reject(e);                },                success: function (data) {                    var jsonData = $.csv.toObjects(data);                    console.log(jsonData);                    resolve(jsonData);                } // end:       API            }); // end: AJAX-        })); // end:         }); // end:   API    //      API    Promise.all(calls).then(function (data) {        //           var flatData = data.map(function (item) {            return item;        }).flat();        console.log(flatData);        dislayData(flatData);    }); } function dislayData(data) {       $.each(data, function (index, value) {        $('#showCSV').append(            '&lt;li class="list-group-item d-flex justify-content-between align-items-center"&gt;' +                '&lt;span style="width: 15%; font-size: 1rem; font-weight: bold; color: #37474F"&gt;' +                    value['FIRST NAME'] +                '&lt;/span&gt;' +                '&lt;span style="width: 15%; font-size: 1rem; color: #37474F"&gt;' +                    value['LAST NAME'] +                '&lt;/span&gt;' +                '&lt;span class="badge warning-color-dark badge-pill"&gt;' +                    value['PHONE NUMBER'] +                '&lt;/span&gt;' +                '&lt;span class="badge success-color-dark badge-pill"&gt;' +                    value['EMAIL ADDRESS'] +                '&lt;/span&gt;' +                '&lt;span class="badge badge-primary badge-pill"&gt;' +                    value.CITY +                '&lt;/span&gt;' +                '&lt;span class="badge badge-primary badge-pill"&gt;' +                    value.STATE +                '&lt;/span&gt;' +            '&lt;/li&gt;'        );    }); }</span></span></code> </pre> <br>  Ahora, despu√©s de copiar la direcci√≥n de la p√°gina, abra el proyecto en todos los navegadores que tenga.  En mi caso, estos fueron Internet Explorer, Firefox Mozilla, Microsoft Edge y Google Chrome.  Result√≥ que la aplicaci√≥n dej√≥ de funcionar normalmente en Internet Explorer y Microsoft Edge.  Solo se mostraban los encabezados all√≠. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c91/92b/4a7/c9192b4a7c3904c2cfd54926b0847e4c.png"><br>  <i><font color="#999999">P√°gina del proyecto de Chrome</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb1/b14/5d0/bb1b145d0b398cf22779245b3a27719d.png"><br>  <i><font color="#999999">P√°gina del proyecto Microsoft Edge</font></i> <br><br>  Algunos navegadores no muestran datos en la p√°gina por dos razones: <br><br><ol><li>  Us√© promesas y devoluciones de llamada que no todos los navegadores admiten.  Por ejemplo, entre estos navegadores est√°n IE y Edge. </li><li>  Utilic√© el m√©todo de matriz <code>flat()</code> para crear una nueva matriz "plana" a partir de una matriz existente.  Este m√©todo no es compatible con algunos navegadores.  Entre ellos, como en el caso anterior, IE y Edge. </li></ol><br><h3>  <font color="#3AC1EF">‚ñç Aplicaci√≥n de polyfills</font> </h3><br>  Solucionamos el problema de las promesas y devoluciones de llamada utilizando la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bluebird</a> .  Esta es una implementaci√≥n JS completa de mecanismos relacionados con promesas.  La caracter√≠stica m√°s interesante de la biblioteca Bluebird es que le permite "sobreclasificar" otros m√≥dulos de Nodo, proces√°ndolos para que pueda trabajar con ellos de forma asincr√≥nica.  Este tipo de procesamiento se puede aplicar al c√≥digo que utiliza devoluciones de llamada. <br><br>  Descargue la biblioteca Bluebird a la p√°gina utilizando el recurso CDN apropiado.  Para hacer esto, coloque lo siguiente en el encabezado del archivo <code>index.html</code> (en el elemento <code>head</code> ): <br><br><pre> <code class="javascript hljs">&lt;script src=<span class="hljs-string"><span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.7.0/bluebird.min.js"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  Para solucionar el problema relacionado con el m√©todo de matriz <code>flat()</code> , agregue el siguiente c√≥digo en la parte superior del archivo <code>script.js</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(<span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.prototype, <span class="hljs-string"><span class="hljs-string">'flat'</span></span>,    {        <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">depth</span></span></span><span class="hljs-function">) </span></span>{            depth = <span class="hljs-number"><span class="hljs-number">1</span></span>;            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.reduce(                <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">flat, toFlatten</span></span></span><span class="hljs-function">) </span></span>{                    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> flat.concat((<span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.isArray(toFlatten) &amp;&amp; (depth &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>)) ? toFlatten.flat(depth - <span class="hljs-number"><span class="hljs-number">1</span></span>) : toFlatten);                }, []            );        },        <span class="hljs-attr"><span class="hljs-attr">configurable</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> });</code> </pre> <br>  Ahora la aplicaci√≥n deber√≠a funcionar en todos los navegadores como se esperaba.  Aqu√≠, por ejemplo, as√≠ es como se ve ahora en Microsoft Edge. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c7f/2ae/6f8/c7f2ae6f88ec375a2a005fd6998f8387.png"><br>  <i><font color="#999999">P√°gina de proyecto refinada en Microsoft Edge</font></i> <br><br>  He desplegado este proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Puedes experimentarlo. <br><br>  Si no logr√≥ que el proyecto funcionara, consulte mi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio</a> . <br><br>  Y aqu√≠, por ejemplo, un par m√°s de polyfills. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   String.prototype.startsWith() if (!String.prototype.startsWith) {    Object.defineProperty(String.prototype, 'startsWith', {        value: function (search, rawPos) {            pos = rawPos &gt; 0 ? rawPos | 0 : 0;            return this.substring(pos, pos + search.length) === search;        }    }); } //   String.prototype.includes() if (!String.prototype.includes) {    String.prototype.includes = function (search, start) {        'use strict';        if (typeof start !== 'number') {            start = 0;        }        if (start + search.length &gt; this.length) {            return false;        } else {            return this.indexOf(search, start) !== -1;        }    }; }</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  Los Polyfills fueron especialmente relevantes antes, pero incluso hoy pueden ayudar en el desarrollo de proyectos web entre navegadores.  Esperamos que el ejemplo dado aqu√≠ permita a aquellos que no sab√≠an sobre polyfill echar un vistazo nuevo al problema de crear sitios dise√±ados para diferentes navegadores. <br><br>  <b>Estimados lectores!</b>  ¬øUsas polyfill? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/-o/2e/tu/-o2etuqogwhmdnmysb9_vivc9v4.png"></a> </div><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/475248/">https://habr.com/ru/post/475248/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../475238/index.html">Cronolog√≠a de Blade Runner: noviembre de 2019. ¬øEl pron√≥stico se hizo realidad?</a></li>
<li><a href="../475240/index.html">Uso de m√≥dulos estrictos en proyectos de Python a gran escala: experiencia de Instagram. Parte 1</a></li>
<li><a href="../475242/index.html">Uso de m√≥dulos estrictos en proyectos de Python a gran escala: experiencia de Instagram. Parte 2</a></li>
<li><a href="../475244/index.html">Nuevas caracter√≠sticas de JavaScript esperadas que debe conocer</a></li>
<li><a href="../475246/index.html">Programaci√≥n asincr√≥nica de Python: una breve descripci√≥n</a></li>
<li><a href="../475250/index.html">Como Redash not√≥ y solucion√≥ un problema que caus√≥ la degradaci√≥n del rendimiento del c√≥digo Python</a></li>
<li><a href="../475252/index.html">C√≥mo criticar a Microsoft</a></li>
<li><a href="../475254/index.html">Arquitectura o caracter√≠sticas de AERODISK vAIR del edificio de cl√∫ster nacional</a></li>
<li><a href="../475258/index.html">Una representaci√≥n visual de las elecciones en San Petersburgo: la magia del ajuste de voz</a></li>
<li><a href="../475260/index.html">La diferencia entre una funci√≥n asincr√≥nica y una funci√≥n que devuelve una promesa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>