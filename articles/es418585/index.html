<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚û∞ üßìüèø üöâ Construyendo un mapa local de campo a trav√©s del robot üçç ‚ûø üßîüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! 

 En esta publicaci√≥n, me gustar√≠a hablar sobre c√≥mo constru√≠ un mapa local de campo a trav√©s para el robot. Esta tarea fue necesaria tant...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Construyendo un mapa local de campo a trav√©s del robot</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418585/"> Hola Habr! <br><br>  En esta publicaci√≥n, me gustar√≠a hablar sobre c√≥mo constru√≠ un mapa local de campo a trav√©s para el robot.  Esta tarea fue necesaria tanto para aumentar las habilidades en la programaci√≥n y el dominio de los sensores, como para la posterior implementaci√≥n de nuestros propios algoritmos en la operaci√≥n de robots reales en pruebas rob√≥ticas como Robocross y Robofest. <br><a name="habracut"></a><br>  Este art√≠culo est√° dirigido a aquellos que reci√©n ingresan al mundo de la rob√≥tica o intentan descubrir c√≥mo construir un mapa de campo a trav√©s.  Trat√© de explicar todo en el lenguaje m√°s simple y m√°s comprensible que es comprensible para la mayor√≠a de las personas. <br><br><h3>  ¬øQu√© es un mapa local de campo a trav√©s? </h3><br>  Entonces, un <i>mapa local de campo a trav√©s</i> es lo que el robot ve en un momento dado en el tiempo. <br>  Esta es la informaci√≥n que proviene de los "ojos" del robot y posteriormente se procesa y se muestra de una forma conveniente para nosotros. <br><br>  Si el robot se detiene, su mapa local en condiciones ambientales constantes permanece constante. <br><br>  Si el robot se mueve, entonces, en cada momento, su entorno es diferente, respectivamente, el mapa local tambi√©n cambia. <br><br>  El mapa local generalmente tiene tama√±os constantes.  El tama√±o se calcula en funci√≥n de la longitud m√°xima de los rayos emitidos por el tel√©metro.  En mi caso, esta longitud es de 6 metros. <br><br>  Para simplificar la tarea, se decidi√≥ hacer el mapa cuadrado. Tambi√©n se decidi√≥ que condicionalmente el buscador de rango estar√≠a exactamente en el centro del mapa (este lugar ser√° el punto donde x = y = 0).  El centro se eligi√≥ de esta manera porque el tel√©metro que utilizo emite rayos en el plano m√°s de 180 ¬∞ (emite rayos a 240 ¬∞, pero m√°s sobre eso m√°s adelante), es decir, algunos rayos ciertamente ir√°n detr√°s del esc√°ner y Si elige el centro equivocado, puede perderlos.  Con una elecci√≥n adecuada del centro, todos los rayos se mostrar√°n correctamente.  En base a esto, hice el tama√±o del mapa 2 veces m√°s grande que la longitud m√°xima de los rayos emitidos. <br>  El tama√±o de mi tarjeta es de 12 * 12 metros. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/635/1f0/86a/6351f086a9603d43504dedf13cf7bcd7.jpg" alt="imagen"><br><br><h3>  El sensor que us√© </h3><br>  De hecho, para resolver este tipo de problema, puede usar cualquier buscador de rango. <br>  <i>El tel√©metro</i> es un dispositivo para determinar la distancia a algo (en mi caso, a un obst√°culo potencial). <br><br>  En rob√≥tica, se utilizan principalmente 2 tipos de tel√©metros: ultras√≥nico y l√°ser. <br>  <i>Los</i> tel√©metros <i>ultras√≥nicos</i> son mucho m√°s baratos, pero los rayos ultras√≥nicos son lo suficientemente anchos y no son adecuados para mediciones precisas. <br><br>  <i>Los</i> tel√©metros <i>l√°ser</i> son m√°s caros, pero m√°s precisamente, ya que sus rayos est√°n enfocados de manera m√°s estrecha. <br><br>  Para resolver mi problema, utilic√© un esc√°ner l√°ser Hokuyo URG-04LX-UG01.  Este sensor es capaz de emitir rayos a 240 ¬∞ y proporciona informaci√≥n bastante precisa sobre los obst√°culos que se han interpuesto en el camino de los rayos.  Su alcance m√°ximo es de 5-6 metros.  Vale la pena se√±alar que este tel√©metro emite rayos solo en el plano 2D.  Este hecho le obliga a colocar el sensor en el robot en un lugar determinado, generalmente frente a la parte inferior del robot, para obtener una imagen m√°s precisa.  Una vez m√°s, puede usar esc√°neres 3D, que proporcionan informaci√≥n mucho m√°s precisa y completa sobre el entorno, pero tambi√©n cuestan mucho m√°s. <br><br>  Creo que este esc√°ner en particular es perfecto para entrenar en la relaci√≥n calidad-precio. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/376/7c9/d3d/3767c9d3df64dcd9322c6ef25bfec28d.jpg" alt="imagen"><br>  <i>Hokuyo URG-04LX-UG01</i> <br><br>  <b><i>Brevemente sobre el principio del esc√°ner l√°ser:</i></b> <br>  El tel√©metro emite rayos a lo largo del plano.  Un rayo que ha encontrado un obst√°culo en su camino se refleja y regresa.  Por la diferencia de fase entre las se√±ales enviadas y recibidas, uno puede juzgar qu√© tan lejos se encuentra el obst√°culo. <br><br>  En consecuencia, si el rayo emitido no regres√≥, entonces a 5 - 6 metros a lo largo de la l√≠nea recta de emisi√≥n no hay obst√°culos o el rayo no puede reflejarse correctamente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7f3/5c2/d32/7f35c2d32d35e2357c53b8a87c12b88a.jpg" alt="imagen"><br><br>  <i>Los siguientes datos se pueden obtener de un esc√°ner l√°ser:</i> <br><br>  Por cada rayo emitido: <br><br><ul><li>  Distancia a un obst√°culo </li><li>  √Ångulo de emisi√≥n </li></ul><br>  <i>* Cada uno de los par√°metros se almacena en una matriz separada y corresponde a los datos de uno de los rayos.</i> <br><br><h4>  Sobre la construcci√≥n de mapas </h4><br>  Para construir el mapa y dibujarlo, utilic√© las herramientas ROS (Robot Operating System), a saber: el programa Rviz y el tipo de datos nav_msgs :: OccupancyGrid.  Cre√© un editor del mapa local con el tipo de mensaje nav_msgs :: OccupancyGrid bajo el tema correspondiente local_map.  En Rviz, suscribi√©ndose a este tema, recibi√≥ datos sobre el mapa y los mostr√≥ en forma de tipo Mapa. <br><br>  De acuerdo con dicho algoritmo, era necesario configurar mediante programaci√≥n el procesamiento de datos desde un esc√°ner l√°ser y registrarlos en el formato requerido para la transmisi√≥n.  En OccupancyGrid, un mapa se almacena y se transmite en una matriz unidimensional. <br><br><div class="spoiler">  <b class="spoiler_title">¬øQu√© est√° pasando aqu√≠?</b> <div class="spoiler_text">  Para aquellos que se enfrentan a este tipo de datos ROS por primera vez: esto es inusual, ya que el mapa se representa convencionalmente como una matriz bidimensional con un cierto n√∫mero de columnas y filas. <br><br>  As√≠ fue conmigo.  Almaceno el mapa en funci√≥n de los datos del esc√°ner en una matriz bidimensional, y cuando redacto un mensaje para enviarlo a Rviz, convertir√© la matriz bidimensional en la unidimensional necesaria para OccupancyGrid. <br><br>  De hecho, un mapa en OccupancyGrid solo se almacena y transmite en una matriz unidimensional.  Al descifrar sus datos, se convertir√° autom√°ticamente en un mapa bidimensional cuadrado. <br>  Pero para que esto suceda correctamente, debe escribir esta matriz unidimensional de cierta manera. <br><br>  <i>A saber:</i> l√≠nea por l√≠nea desde el almacenamiento bidimensional para escribir en una l√≠nea. <br><br>  <b>Voila!</b>  <b>Este es todo el secreto.</b> <br></div></div><br>  Una apelaci√≥n a cualquier elemento de dicha matriz unidimensional se produce de la siguiente manera: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>l</mi><mi>o</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>M</mi><mi>a</mi><mi>p</mi><mo stretchy=&quot;false&quot;>[</mo><mi>m</mi><mi>a</mi><mi>p</mi><mi>S</mi><mi>i</mi><mi>z</mi><mi>e</mi><mo>&amp;#x2217;</mo><mi>j</mi><mo>+</mo><mi>i</mi><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.595ex" height="2.66ex" viewBox="0 -832 11450.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-6C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-6F" x="298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-63" x="784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-61" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-6C" x="1747" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-4D" x="2045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-61" x="3097" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-70" x="3626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMAIN-5B" x="4130" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-6D" x="4408" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-61" x="5287" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-70" x="5816" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-53" x="6320" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-69" x="6965" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-7A" x="7311" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-65" x="7779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMAIN-2217" x="8468" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-6A" x="9190" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMAIN-2B" x="9825" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMATHI-69" x="10826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418585/&amp;usg=ALkJrhiUlxaGy5agi9hs1uOipXEmLAYLkg#MJMAIN-5D" x="11171" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>l</mi><mi>o</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>M</mi><mi>a</mi><mi>p</mi><mo stretchy="false">[</mo><mi>m</mi><mi>a</mi><mi>p</mi><mi>S</mi><mi>i</mi><mi>z</mi><mi>e</mi><mo>‚àó</mo><mi>j</mi><mo>+</mo><mi>i</mi><mo stretchy="false">]</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> localMap [mapSize * j + i] </script></p><br>  <i>mapSize - tama√±o del mapa local</i> <i><br></i>  <i>j es el n√∫mero de columna</i> <i><br></i>  <i>i - n√∫mero de l√≠nea</i> <br><br>  Las celdas del mapa (de nuevo seg√∫n el tipo de datos de OccupancyGrid) deben tener valores de 0 a 100. Cuanto menor sea el valor, mayor ser√° la probabilidad de que la celda sea transitable y viceversa. <br><br>  Para simplificar la tarea, he seleccionado <i>3 colores primarios para colorear celdas.</i> <br><br><ul><li>  Blanco - √Årea transitable = 0 </li><li>  Negro: √°rea infranqueable = 100 </li><li>  Gris: zona desconocida = 50 </li></ul><br>  <b>Un punto importante!</b> <br><br>  Antes de que lleguen los datos del esc√°ner, el mapa es completamente desconocido (valores de todas las celdas = 50) y cada vez que se dibuja se actualiza nuevamente a un estado desconocido.  Esto se hace para que la tarjeta no se superponga a valores anteriores superfluos.  Despu√©s de todo, un mapa local refleja el estado del medio ambiente solo en un momento dado en el tiempo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8cf/4d8/e9f/8cf4d8e9fcd8b2ce7f46f9a6f1117520.jpg" alt="imagen"><br>  <i>Tarjeta desconocida</i> <br><br>  Los rayos se construyen usando una transformaci√≥n del sistema de coordenadas polares (UCS) <br>  al sistema de coordenadas cartesianas (DSC). <br><p><math> </math> $$ display $$ \ left \ {\ begin {collect} x = r * cos œÜ \\ y = r * sin œÜ \ end {collect} \ right. $$ display $$ </p><br>  <i>x, y - nuevas coordenadas en DSC</i> <i><br></i>  <i>r es la distancia al obst√°culo</i> <i><br></i>  <i>œÜ es el √°ngulo en el que se dej√≥ caer el haz</i> <i><br></i>  <i>r, œÜ - coordenadas antiguas en UCS</i> <i><br></i> <br><h3>  Algoritmo de procesamiento de datos del sensor: </h3><br>  Atravesamos completamente los conjuntos de distancias r y √°ngulos œÜ de los rayos (datos UCS).  Para cada art√≠culo, haga lo siguiente: <br><br><ol><li>  Transformamos las coordenadas de UCS a DSC para r y ite finitos.  Pinte la celda resultante de negro.  Este es un obst√°culo. </li><li>  Pasamos en l√≠nea recta desde la ubicaci√≥n del esc√°ner a la celda con un obst√°culo con cierto paso, en el caso m√°s simple igual al tama√±o de la celda. </li><li>  Una vez m√°s, convertimos los datos del UCS al DSC y pintamos la nueva celda en blanco.  Esta es un √°rea transitable. </li></ol><br><img src="https://habrastorage.org/getpro/habr/post_images/19d/0b0/958/19d0b0958c7c0b9b243a4863e60c7ed0.jpg" alt="imagen"><br>  <i>El ejemplo m√°s simple de c√≥mo construir un camino transitable hacia un obst√°culo.</i> <br><br><div class="spoiler">  <b class="spoiler_title">Pero, ¬øqu√© pasa si el haz emitido no regresa?</b> <div class="spoiler_text">  Si esto sucediera, podr√≠a significar lo siguiente: <br><br><ul><li>  El rayo est√° "perdido", es decir, no est√° completamente reflejado o reflejado en la otra direcci√≥n </li><li>  No hab√≠a obst√°culos en el camino de la viga y debido a esto, simplemente no ten√≠a nada para reflexionar </li></ul><br>  <i>* Un rayo puede "perderse" generalmente porque no se reflej√≥ en un √°ngulo de 180 ¬∞ (es decir, debajo de cualquiera que no llegue hacia atr√°s), ya que el obst√°culo podr√≠a estar perpendicular al rayo.</i>  <i>Y como saben por la f√≠sica: el √°ngulo de incidencia es igual al √°ngulo de reflexi√≥n.</i> <i><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b53/356/1e4/b533561e47b3b99c198f5fe2a0196ceb.png" alt="imagen"><br><br></i>  <i>O porque el obst√°culo era demasiado negro y absorb√≠a la mayor parte de la energ√≠a del rayo y el rayo no ten√≠a suficiente energ√≠a para regresar.</i> <i><br></i> <br>  Por lo tanto, es imposible estar completamente seguro de lo que sucedi√≥ si el rayo no regres√≥. <br><br>  <b>¬øQu√© hacer en tales situaciones?</b> <br><br>  Hacemos lo siguiente: <br><br><ol><li>  Consideramos la distancia al obst√°culo de tal haz como sea posible para el esc√°ner (en nuestro caso es de 6 metros) </li><li>  Consideramos todas las celdas en l√≠nea recta al obst√°culo como semi-transitables y les asignamos un n√∫mero intermedio de 25. Estas son celdas transitables, pero no estamos completamente seguros de ellas. </li></ol><br>  No perdemos nada si los rayos realmente no se encontraron con los obst√°culos, y si alg√∫n obst√°culo escap√≥ de los "ojos" del robot, entonces se detectar√° muy r√°pidamente. <br></div></div><br><h3>  Resoluci√≥n de la tarjeta </h3><br>  Finalmente, los toques finales! <br><br>  Cada tarjeta tiene permiso.  En pocas palabras, este es el n√∫mero de celdas que pueden caber en 1 celda. <br><br>  <i>Por ejemplo</i> <br>  <i>Si hay 1 celda en 1 celda (el caso m√°s simple), entonces la resoluci√≥n 1.</i> <i><br></i>  <i>Si hay 5 celdas en 1 celda, entonces la resoluci√≥n es 0.2.</i> <i><br></i> <br>  La resoluci√≥n de mi tarjeta es 0.04.  Es decir, en cada celda hay 25 celdas.  Por lo tanto, mi paso m√≠nimo es de 4 cm. Y 1 celda es de 1 m. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/219/7d1/8ba/2197d18ba5635075a0ab1adc5a63e1a7.jpg" alt="imagen"><br>  <i>Celda y diferencia celular en mi mapa</i> <br><br><h3>  Cual es el resultado? </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/1f7/6be/9f0/1f76be9f0fbb8891273bec4c7d1cea99.jpg" alt="imagen"><br>  <i>Un ejemplo de construcci√≥n de un mapa local de campo a trav√©s</i> <i><br></i>  <i>* El color amarillo indica los colores de las celdas.</i> <br><br>  Creo que, en general, el trabajo que he realizado fue exitoso, pero entiendo que el algoritmo es imperfecto y requiere refinamiento y refinamiento. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418585/">https://habr.com/ru/post/es418585/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418573/index.html">Waterius: transfiera las lecturas de agua a un tel√©fono a trav√©s de Wi-Fi (4 a√±os con bater√≠a)</a></li>
<li><a href="../es418575/index.html">"No despegar": 6 aparatos de audio inusuales</a></li>
<li><a href="../es418577/index.html">Administre sus marcadores con etiquetas, para el deleite de usted y sus colegas.</a></li>
<li><a href="../es418579/index.html">C√≥mo funcionan las bibliotecas de entorno virtual</a></li>
<li><a href="../es418581/index.html">React Basics (libro de texto, 2a edici√≥n)</a></li>
<li><a href="../es418587/index.html">Nuevos clientes 3CX para Android e iOS con c√≥dec OPUS y PUSH para m√∫ltiples dispositivos</a></li>
<li><a href="../es418589/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 324 (23-29 de julio de 2018)</a></li>
<li><a href="../es418591/index.html">Bug Bounty Kyivstar: recompensa por acceso de administrador a Jira, AWS, Apple, Google Developer, servicios de Bitbucket - $ 50</a></li>
<li><a href="../es418593/index.html">No todos los auriculares inal√°mbricos son igualmente √∫tiles o algunas palabras sobre el problema del c√≥dec</a></li>
<li><a href="../es418597/index.html">Funciones para documentar bases de datos PostgreSQL. Parte tres</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>