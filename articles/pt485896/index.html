<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö™Ô∏è üë®‚Äç‚úàÔ∏è üë®üèø‚Äçüíª Banco de dados massivamente paralelo Greenplum - um pequeno programa educacional ‚ô•Ô∏è üëáüèº ü§≤üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Para o Hadoop e o Greenplum, h√° uma oportunidade de preparar o SaaS. E se o Khadup √© uma coisa bem conhecida, o Greenplum (√© a base do produto Arenada...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Banco de dados massivamente paralelo Greenplum - um pequeno programa educacional</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/croccloudteam/blog/485896/"><img src="https://habrastorage.org/webt/6y/1t/2r/6y1t2rieirgvdx5bxpbaxj-1roi.png"><br><br>  Para o Hadoop e o Greenplum, h√° uma oportunidade de preparar o SaaS.  E se o Khadup √© uma coisa bem conhecida, o Greenplum (√© a base do produto ArenadataDB, que ser√° discutido mais adiante) √© interessante, mas j√° menos "de ouvido". <br><br>  <a href="https://arenadata.tech/products/db/">O Arenadata DB</a> √© um DBMS distribu√≠do baseado no Greenplum de c√≥digo aberto.  Como outras solu√ß√µes MPP (processamento de dados paralelos), para sistemas massivamente paralelos, a arquitetura da nuvem est√° longe de ser √≥tima.  Isso pode reduzir o desempenho em at√© 30% (geralmente menos).  Mas, no entanto, esse problema pode ser nivelado (que ser√° discutido abaixo).  Al√©m disso, vale a pena comprar esse servi√ßo da nuvem, geralmente √© conveniente e lucrativo em compara√ß√£o com a implanta√ß√£o do seu pr√≥prio cluster. <br><br>  No local √© claramente indicado nos guias, mas agora muitas pessoas percebem a escala da conveni√™ncia da nuvem.  Todo mundo entende que haver√° algum tipo de degrada√ß√£o do desempenho, mas ainda √© t√£o superconveniente e r√°pido que j√° existem projetos em que isso √© sacrificado em alguns est√°gios, como testar hip√≥teses. <br><br>  Se voc√™ possui um data warehouse com mais de 1 TB e sistemas transacionais - n√£o o seu perfil de carregamento, a seguir, uma hist√≥ria sobre o que pode ser feito como uma op√ß√£o.  Por que 1 TB?  A partir deste volume, o uso do MPP √© mais eficiente em termos de rela√ß√£o desempenho / custo quando comparado aos DBMSs cl√°ssicos. <a name="habracut"></a><br><br><h3>  Quando usar? </h3><br>  <b>Quando o DBMS cl√°ssico de n√≥ √∫nico por arquitetura n√£o √© adequado para seus volumes.</b>  Um caso comum √© um novo data warehouse com capacidade superior a 1 TB.  O MPP DBMS est√° agora em tend√™ncia, e o Greenplum √© um dos melhores do mercado para tarefas modernas.  Especialmente considerando a sua abertura.  H√° tamb√©m v√°rios sistemas propriet√°rios com muitos recursos prontos para uso: Terradata, Sap Khan, Exadata, Vertika.  Portanto, se voc√™ n√£o puder pagar abacaxi e perdiz, pegue a ameixa. <br><br>  <b>O segundo caso</b> √© quando voc√™ possui um data warehouse existente em algo universal, como Oracle ou P√≥s-Congresso, mas os usu√°rios reclamam regularmente de relat√≥rios lentos.  E quando h√° novas tarefas como o Big Data - quando os usu√°rios desejam todos os dados imediatamente, eles n√£o podem prever o que far√£o com eles.  Existem muitas situa√ß√µes em que uma empresa operacional precisa de relat√≥rios relevantes apenas um dia e n√£o tem tempo para pagar em um dia.  Ou seja, basicamente n√£o h√° dados necess√°rios.  Nesse caso, tamb√©m √© conveniente usar os bancos de dados MPP e experimentar o SaaS na nuvem. <br><br>  <b>O terceiro caso</b> √© quando algu√©m segue o estilo Khadup e resolve as tarefas padr√£o do processamento de dados estruturados em lote, mas o cluster n√£o est√° bem montado.  Muitas vezes vemos que a tecnologia √© aplicada um pouco e nem sequer como deveria.  Por exemplo, voc√™ n√£o precisa criar um banco de dados relacional no Khadup.  No entanto, se o seu Hadoup de repente n√£o tiver processamento em tempo real ou deveria, mas o administrador e o desenvolvedor fugiram horrorizados, voc√™ tamb√©m pode olhar para o Greenplum na nuvem: o suporte ser√° muito simples, mantendo a capacidade de processar grandes quantidades de dados. <br><br><h3>  Por que poucas pessoas est√£o tentando? </h3><br>  Qualquer MPP DBMS requer muita capacidade.  Isso √© muito ferro.  De fato, as pessoas t√™m medo de tentar o n√≠vel de prova de conceito simplesmente por causa do pre√ßo de entrada.  Eles n√£o podem fazer isso fisicamente.  Uma das principais id√©ias do nosso SaaS √© oferecer a oportunidade de brincar com tudo isso sem comprar um cluster de ferro. <br><br>  E encontramos regularmente clientes que dizem que n√£o gostar√≠amos de acompanhar, operar e assim por diante de forma independente.  E eu gostaria de terceirizar.  Este √© um sistema anal√≠tico e, na maioria das vezes, √© cr√≠tico para os neg√≥cios, mas n√£o √© essencial para a miss√£o.  Muitos ocidentais est√£o terceirizando; tamb√©m come√ßamos recentemente. <br><br><h3>  Qual √© a melhor coisa a fazer no MPP? </h3><br>  Armaz√©m de dados corporativo cl√°ssico: para todas as fontes de dados, voc√™ obt√©m dados incrementais e as janelas s√£o criadas para os usu√°rios.  Os usu√°rios acima dessas fachadas de lojas criam seus relat√≥rios.  "Todo dia eu quero ver como est√£o as coisas nos neg√≥cios" - √© isso. <br><br><h3>  Mais algumas palavras sobre a solu√ß√£o em nuvem </h3><br>  Antigamente, infra-estruturas desse tipo eram mal projetadas para nuvens.  Mas, na realidade, mais e mais clientes est√£o entrando nas nuvens.  O trabalho requer alto desempenho, pois gira em torno de muitas consultas anal√≠ticas grandes que consomem muitas CPUs, exigem muita mem√≥ria e t√™m altas demandas em discos e infraestrutura de rede.  Como resultado, quando os clientes implantam DBMSs distribu√≠dos na nuvem, eles podem encontrar v√°rios problemas. <br><br>  O primeiro √© o fraco desempenho da rede.  Como tudo isso est√° acontecendo na nuvem em um ambiente virtual, pode haver muitas m√°quinas em um hypervisor.  M√°quinas virtuais podem ser espalhadas por diferentes hipervisores.  Al√©m disso, em alguns momentos eles podem estar espalhados por diferentes data centers, os supervisores podem girar sobre eles virtualmente.  E por isso, a rede sofre muito.  Ao processar um bilh√£o de registros em uma tabela, digamos 10 servidores, e ele direciona esses dados entre todos os servidores.  Uma subesp√©cie trabalha dentro, e mesmo dentro de um servidor, muitas dessas subesp√©cies funcionam.  Pode haver de 10 a 20 e agora todos eles come√ßam a direcionar dados pela rede durante a execu√ß√£o da solicita√ß√£o.  A rede est√° caindo como culturas de inverno.  Que conclus√£o pode ser tirada disso?  Use nuvens de alta largura de banda, como a CROC Cloud, que fornece 56 GB no Infiniband. <br><br>  O segundo problema √© que os firewalls e as prote√ß√µes DDoS parecem muito distorcidos.  Lascado, decidido.  Antes de usar, recomendamos que voc√™ agende uma hora extra para verificar novamente todas as configura√ß√µes. <br><br>  Migra√ß√£o ao vivo ainda impercept√≠vel e atualiza√ß√£o.  Para arrastar uma m√°quina para outro hypervisor e depois voltar, voc√™ n√£o precisa perder pacotes.  √â necess√°rio shamanize com as configura√ß√µes no final.  Por exemplo, subimos quase imediatamente para aumentar a √°rea de transfer√™ncia.  MTU aumentado para 9.000 jumboframe. <br><br>  Claro, unidades que possuem HDD.  Eles realmente n√£o gostam desse registro, especialmente quando esses s√£o setores muito, muito aleat√≥rios na fila com o restante das solicita√ß√µes.  Decidimos dividir o armazenamento em segmentos: um √© apenas para o Greenplum, o outro √© compartilhado.  Isso √© necess√°rio para situa√ß√µes em que uma d√∫zia de clientes est√° implantando instala√ß√µes Greenplum em paralelo.  O MPP utiliza o subsistema de disco na m√°xima extens√£o poss√≠vel, os servi√ßos em nuvem se interconectam ao armazenamento e o desempenho √© quase o mesmo que o do canal.  Se todos os clientes da nuvem n√£o calcularem o MPP, voc√™ poder√° obter um ganho muito significativo.  A distribui√ß√£o eficiente de energia em tais cargas funciona muito bem. <br><br>  E por causa de sua pr√≥pria arquitetura, o Greenplum na nuvem tem melhor desempenho do que Redshift, BigQuery e Snowflake. <br><br>  Como √© a implanta√ß√£o: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/w43qwCt2Ee4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Assim: <br><br><img src="https://habrastorage.org/webt/3e/vl/cg/3evlcgl5u7l71scc__qxqipmy2u.png"><br><br><img src="https://habrastorage.org/webt/pp/ik/hd/ppikhd-5kzpabmtubr0vydk21dg.png"><br><br>  A arquitetura √© "respir√°vel", ou seja, voc√™ pode implantar rapidamente um fator simples na configura√ß√£o.  Como exemplo, √† tarde, temos cinco CPUs e √† noite, temos 1.000 manipuladores em ascens√£o e dez CPUs funcionando.  Nesse caso, voc√™ n√£o precisa equilibrar os dados, porque eles est√£o dentro do mesmo armazenamento.  Uma extens√£o est√° dispon√≠vel imediatamente, a compacta√ß√£o r√°pida ainda precisa ser conclu√≠da um pouco. <br><br><img src="https://habrastorage.org/webt/ud/7s/39/ud7s39bcqq4pfmocwnws59fi_jc.png"><br><br>  Agora, para o cliente, existe um √∫nico ponto de gerenciamento.  Ele chega a um local, envia uma solicita√ß√£o como: ‚ÄúImplante um plano de cluster para mim em tais m√°quinas‚Äù, e nosso suporte implementa as m√°quinas na nuvem (conosco ou com o cliente), coloca o Greenplum l√°, inicia, configura e faz todas as configura√ß√µes.  O mesmo vale para monitoramento, gerenciamento, atualiza√ß√£o.  √Ä medida que a automa√ß√£o prossegue, isso deixar√° o suporte nos bot√µes da sua conta. <br><br>  Primeiro entendemos a conveni√™ncia dessa abordagem em projetos internos e, em seguida, come√ßamos a fornecer SaaS aos clientes.  Temos uma profunda integra√ß√£o com o S3 - isso permite que voc√™ use o Greenplum como um sistema com camadas separadas para computa√ß√£o e armazenamento, ou use o S3 para backups e o Greenplum como um n√∫cleo no QCD na nuvem.  H√° uma implanta√ß√£o flex√≠vel de ambientes para empresas usando a API CROC e a API ADCM. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485896/">https://habr.com/ru/post/pt485896/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485876/index.html">Aceleramos o OpenVPN no roteador Openwrt. Vers√£o alternativa sem ferro de solda e extremismo r√≠gido</a></li>
<li><a href="../pt485884/index.html">Como configurar o Levitron chin√™s</a></li>
<li><a href="../pt485886/index.html">Como (e por que) analisar as chaves e os an√∫ncios dos concorrentes do Yandex.Direct e Google Ads gratuitamente</a></li>
<li><a href="../pt485888/index.html">Falsifica√ß√£o de solicita√ß√£o do servidor, opera√ß√£o de SSRF cego</a></li>
<li><a href="../pt485892/index.html">O fim da era Trident</a></li>
<li><a href="../pt485898/index.html">Exporte o Google Forms + fa√ßa o download do Google Script via API REST (Python)</a></li>
<li><a href="../pt485904/index.html">Meetup sobre Load Testing em Raiffeisenbank</a></li>
<li><a href="../pt485908/index.html">Gra√ßas √† incr√≠vel falha em Ocarina of Time, foi poss√≠vel adicionar modelos da Star Fox 64</a></li>
<li><a href="../pt485910/index.html">Implantando APIs com o AWS Elastic Beanstalk</a></li>
<li><a href="../pt485912/index.html">Por que traduzir em nomea√ß√£o √© ruim e outras caracter√≠sticas interessantes de nossa percep√ß√£o do c√≥digo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>