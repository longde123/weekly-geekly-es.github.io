<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тЩжя╕П ЁЯзСЁЯП╜тАНЁЯдЭтАНЁЯзСЁЯП╝ тП│ рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдФрд░ AppCDS рдкрд░ рдПрдХ рдХрдЪреНрдЪрд╛ рд▓реЛрд╣рд╛ рд╡реЙрдХрд░ рдмрдирд╛рдПрдБ ЁЯСитАНЁЯСитАНЁЯСзтАНЁЯСз ЁЯТй ЁЯМП</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреНрд▓рд╛рд╕ рдбреЗрдЯрд╛ рд╢реЗрдпрд░рд┐рдВрдЧ (рдРрдкрд╕реАрдбреАрдПрд╕) - рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдХреЛ рдЧрддрд┐ рджреЗрдиреЗ рдФрд░ рдореЗрдореЛрд░реА рдХреЛ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЗрд╡реАрдПрдо рд╕реБрд╡рд┐рдзрд╛ред JDK 1.5 (2004) рдореЗрдВ рд╣реЙрдЯрд╕реНрдкреЙрдЯ рдореЗрдВ рдЕрдкрдиреА рдкреНрд░рд╛рд░рдВрднрд┐...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдФрд░ AppCDS рдкрд░ рдПрдХ рдХрдЪреНрдЪрд╛ рд▓реЛрд╣рд╛ рд╡реЙрдХрд░ рдмрдирд╛рдПрдБ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472638/"><p><img src="https://habrastorage.org/webt/se/py/8z/sepy8zdhkojsr-xiqs-lwdtyegy.jpeg"></p><br><p> <strong>рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреНрд▓рд╛рд╕ рдбреЗрдЯрд╛ рд╢реЗрдпрд░рд┐рдВрдЧ (рдРрдкрд╕реАрдбреАрдПрд╕)</strong> - рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдХреЛ рдЧрддрд┐ рджреЗрдиреЗ рдФрд░ рдореЗрдореЛрд░реА рдХреЛ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЗрд╡реАрдПрдо рд╕реБрд╡рд┐рдзрд╛ред  JDK 1.5 (2004) рдореЗрдВ рд╣реЙрдЯрд╕реНрдкреЙрдЯ рдореЗрдВ рдЕрдкрдиреА рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЕрд╡рд╕реНрдерд╛ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рдХреЗ рдмрд╛рдж</a> , рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдпрд╣ рдмрд╣реБрдд рд╕реАрдорд┐рдд рд░рд╣рд╛, рдФрд░ рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рднреА рд░рд╣рд╛ред  рдХреЗрд╡рд▓ OpenJDK 10 (2018) рдХреЗ рд╕рд╛рде рдЗрд╕реЗ рдорд╛рддреНрд░ рдирд╢реНрд╡рд░ рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд░рд╛рдпрд╛</a> рдЧрдпрд╛ рдерд╛, рд╕рд╛рде рд╣реА рд╕рд╛рде рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рднреА рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдФрд░ рд╣рд╛рд▓ рд╣реА рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╛рд░реА</a> рдЬрд╛рд╡рд╛ 13 рдиреЗ рдЗрд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреАред </p><br><p>  AppCDS рдХрд╛ рд╡рд┐рдЪрд╛рд░ рдПрдХ рд╣реА рдореЗрдЬрдмрд╛рди рдкрд░ рдПрдХ рд╣реА JVM рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рдмреАрдЪ рднрд░реА рд╣реБрдИ рдХрдХреНрд╖рд╛рдУрдВ рдХреЛ рдПрдХ рдмрд╛рд░ "рд╕рд╛рдЭрд╛" рдХрд░рдирд╛ рд╣реИред  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╣рдЬрд╛рд░реЛрдВ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХрдХреНрд╖рд╛рдУрдВ рдХреЗ рд╕рд╛рде рдорд╛рдЗрдХреНрд░реЛрд╕рд╛рдлреНрдЯрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдкрд░ "рдмреНрд░реЙрдпрд▓рд░" рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдХреНрдпреЛрдВрдХрд┐ рдЕрдм рдЗрди рдХрдХреНрд╖рд╛рдУрдВ рдХреЛ рдкреНрд░рддреНрдпреЗрдХ рдЬреЗрд╡реАрдПрдо рдЙрджрд╛рд╣рд░рдг рдХреА рдкреНрд░рддреНрдпреЗрдХ рд╢реБрд░реБрдЖрдд рдореЗрдВ рд▓реЛрдб (рдкрд╛рд░реНрд╕ рдФрд░ рд╕рддреНрдпрд╛рдкрд┐рдд) рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧреА, рдФрд░ рдЙрдиреНрд╣реЗрдВ рдореЗрдореЛрд░реА рдореЗрдВ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд▓реЙрдиреНрдЪ рддреЗрдЬреА рд╕реЗ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рдореЗрдореЛрд░реА рдХреА рдЦрдкрдд рдХрдо рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред  рдХрдорд╛рд▓ рд╣реИ, рд╣реИ рдирд╛? </p><br><p>  рд╕рдм рдХреБрдЫ рдРрд╕рд╛ рд╣реИ, рд╕рдм рдХреБрдЫ рдРрд╕рд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк, рдУрдбрдиреЛрдХреИрдмреНрд░рд╛рдпрдиреИрди, рдмреБрд▓реЗрд╡рд╛рд░реНрдб рд╕рдВрдХреЗрддреЛрдВ рдореЗрдВ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХрд░рддреЗ рдереЗ, рддреЛ рдХреИрдЯ рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ - рдЖрдЗрдП рдЬрд╛рдирдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ рдХрд┐ рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреИрд╕рд╛ рд╣реИ ... </p><a name="habracut"></a><br><h2 id="vmesto-disclaimera">  рдбрд┐рд╕реНрдХреНрд▓реЗрдорд░ рдХреЗ рдмрдЬрд╛рдп </h2><br><p>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк AppCDS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЧрд╛рдЗрдб рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рдЫреЛрдЯреЗ рд╕реЗ рдЕрдзреНрдпрдпрди рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХрд╛ рд╕рд╛рд░рд╛рдВрд╢ рд╣реИред  рдореБрдЭреЗ рдпрд╣ рд╕рдордЭрдиреЗ рдореЗрдВ рджрд┐рд▓рдЪрд╕реНрдкреА рдереА рдХрд┐ рдпрд╣ JVM рдлрд╝рдВрдХреНрд╢рди рдореЗрд░реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдореИрдВрдиреЗ рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдкрд░рд┐рдгрд╛рдо рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХрд░рддреЗ рд╣реБрдП, рдПрдХ рдЙрджреНрдпрдо рдбреЗрд╡рд▓рдкрд░ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдЗрд╕рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреАред  рдЗрд╕рдореЗрдВ рдореЙрдбреНрдпреВрд▓-рдкрде рдкрд░ AppCDS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ, рдЕрдиреНрдп рдЖрднрд╛рд╕реА рдорд╢реАрдиреЛрдВ (рдирд╣реАрдВ HotSpot) рдкрд░ AppCDS рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдФрд░ рдХрдВрдЯреЗрдирд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЬрдЯрд┐рд▓рддрд╛рдУрдВ рдЬреИрд╕реЗ рд╡рд┐рд╖рдп рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдереЗред  рд▓реЗрдХрд┐рди рд╡рд┐рд╖рдп рдХреА рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реИрджреНрдзрд╛рдВрддрд┐рдХ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ, рд╕рд╛рде рд╣реА рдПрдХ рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рднрд╛рдЧ рднреА рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рд╕реНрд╡рдпрдВ рдЕрдиреБрднрд╡ рдХреЛ рджреЛрд╣рд░рд╛ рд╕рдХреЗрдВред  рдХреЛрдИ рднреА рдкрд░рд┐рдгрд╛рдо рдЕрднреА рддрдХ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реБрдЖ рд╣реИ, рд▓реЗрдХрд┐рди рдХреМрди рдЬрд╛рдирддрд╛ рд╣реИ рдХрд┐ рдХрд▓ рдХреНрдпрд╛ рд╣реЛрдЧрд╛ ... </p><br><h2 id="teoriya">  рд╕рд┐рджреНрдзрд╛рдВрдд </h2><br><h3 id="kratkoe-vvedenie-v-appcds">  AppCDS рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдкрд░рд┐рдЪрдп </h3><br><p>  рдЗрд╕ рд╡рд┐рд╖рдп рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдирд╛ рдЖрдкрдХреЗ рд▓рд┐рдП рдХрдИ рд╕реНрд░реЛрддреЛрдВ рдореЗрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><ul><li>  рдирд┐рдХреЛрд▓рд╛рдИ рддреЛрд▓реЛрдЧ рдХреЗ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ рдореЗрдВ</a> (рдЬрд╛рд╡рд╛ 13 рдмрдиреНрд╕ рд╕рд╣рд┐рдд, рд▓реЗрдХрд┐рди рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдХреЗ рдмрд┐рдирд╛) </li><li>  рд╡реЛрд▓реНрдХрд░ рд╕рд┐рдордирд┐рд╕ (рдЬрд╛рд╡рд╛ 13 рдХреЗ рдмрд┐рдирд╛, рд▓реЗрдХрд┐рди рд╡рд┐рд╡рд░рдг рдХреЗ рд╕рд╛рде) рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░рд┐рдкреЛрд░реНрдЯ</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ рдореЗрдВ</a> </li><li>  рдЗрди рдкрдВрдХреНрддрд┐рдпреЛрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЗ</a> рд▓реЗрдЦрдХ рдХреА рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░рд┐рдкреЛрд░реНрдЯ рдореЗрдВ</a> (рдЬрд╛рд╡рд╛ 13 рдХреЗ рдмрд┐рдирд╛, рд▓реЗрдХрд┐рди рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдкрд░ рдЬреЛрд░ рджреЗрдиреЗ рдХреЗ рд╕рд╛рде) </li></ul><br><p>  рд░рд┐рдЯреЗрд▓рд┐рдВрдЧ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдХреЗрд╡рд▓ рдХреБрдЫ рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░реВрдВрдЧрд╛ рдЬреЛ рдЗрд╕ рд▓реЗрдЦ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИрдВред </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, AppCDS рд╕реАрдбреАрдПрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХрд╛ рдПрдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╣реИ рдЬреЛ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд╣реЙрдЯрд╕реНрдкреЙрдЯ рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рд╕рд╛рд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/gi/kg/ro/gikgrobp0s_hbnr5ox8z6d1ziqc.png"></p><br><p>  рджреЛрдиреЛрдВ рд╡рд┐рдЪрд╛рд░реЛрдВ рдХреЛ рдЬреАрд╡рди рдореЗрдВ рд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд (рд╕рд╛рдорд╛рдиреНрдп рд╢рдмреНрджреЛрдВ рдореЗрдВ) рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><ol><li>  рдЙрди рдХрдХреНрд╖рд╛рдУрдВ рдХреА рд╕реВрдЪреА рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЗ рдмреАрдЪ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ </li><li>  рдореЗрдореЛрд░реА рдореИрдкрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рдЗрди рд╡рд░реНрдЧреЛрдВ рдХреЛ рдорд┐рд▓рд╛рдПрдВ </li><li>  рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдкрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рд╕рдВрдЧреНрд░рд╣ рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ </li></ol><br><p>  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рд╕рд┐рд░реНрдл 3 рдЪрд░рдг рд╣реИ - рдЗрд╕реЗ рд▓реЗрдВ рдФрд░ рдЗрд╕реЗ рдХрд░реЗрдВред  рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рдЦрдмрд░ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ, рд╕рднреА рддрд░рд╣ рдХреА рдЪреАрдЬреЛрдВ рдХреАред </p><br><p>  рдмреБрд░реА рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рд╕рдмрд╕реЗ рдЦрд░рд╛рдм рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдЗрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдЖрдЗрдЯрдо рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рд╕рд╛рде рдХрдо рд╕реЗ рдХрдо рдПрдХ рдЬреЗрд╡реАрдПрдо рд▓реЙрдиреНрдЪ рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рд╕рдВрдкреВрд░реНрдг рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдПрдХ рд╣реА рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдФрд░ рдлрд╛рдЗрд▓реЛрдВ рдХреА рд╕реВрдХреНрд╖реНрдо рдмрд╛рдЬреАрдЧрд░реА рд╣реИред  рдпрд╣ рдмрд╣реБрдд рдЖрд╢рд╛рдЬрдирдХ рдзреНрд╡рдирд┐ рдирд╣реАрдВ рд╣реИ, рд╣реИ рдирд╛? </p><br><p>  рд▓реЗрдХрд┐рди рдЕрдЪреНрдЫреА рдЦрдмрд░ рд╣реИ: рдЗрд╕ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореЗрдВ</a> рд╕реБрдзрд╛рд░ рдкрд░ рдХрд╛рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╛рд░реА рд╣реИ</a> , рдФрд░ рдЬрд╛рд╡рд╛ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд░рд┐рд▓реАрдЬ рдХреЗ рд╕рд╛рде, рдЗрд╕рдХрд╛ рдЖрд╡реЗрджрди рдЖрд╕рд╛рди рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><ul><li> OpenJDK <strong>10 рдФрд░ 11 рдореЗрдВ,</strong> рдЖрдк рдЪрд░рдг <strong>1</strong> рдХреЛ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдпрджрд┐ рдЖрдк рдХреЗрд╡рд▓ рдореБрдЦреНрдп JDK рдХрдХреНрд╖рд╛рдПрдВ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдП рдЧрдП рд╣реИрдВ рдФрд░ <code>$JAVA_HOME\lib\classlist</code> (тЙИ1200 рдкреАрд╕реА) рдореЗрдВ рдбрд╛рд▓ рджрд┐рдП рдЧрдП рд╣реИрдВред </li><li>  OpenJDK <strong>12 рдореЗрдВ,</strong> рдЖрдк <strong>рдЪрд░рдг 2</strong> рдХреЛ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдХрдХреНрд╖рд╛рдУрдВ рдХреА рд╕реВрдЪреА рдХреЗ рд╕рд╛рде, рд╡рд┐рддрд░рдг рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рдЙрдирдХреЗ рд╕рд╛рде рдПрдХ рддреИрдпрд╛рд░ рд╕рдВрдЧреНрд░рд╣ рднреА рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдПрдХ рд╕реНрдкрд╖реНрдЯ рдХрдиреЗрдХреНрд╢рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред </li><li>  рдорд╛рдорд▓реЗ рдореЗрдВ рдЖрдк рдФрд░ рд╕рдм рдХреБрдЫ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ (рдФрд░ рдЖрдорддреМрд░ рдкрд░ рдмрд╕ рдЪрд╛рд╣рддреЗ рд╣реИрдВ) <br>  OpenJDK <strong>13</strong> рдбрд╛рдпрдирд╛рдорд┐рдХ рд╕реАрдбреАрдПрд╕ рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ</a> - рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ рдЬреЛ рдХрд┐ рдЖрд╡реЗрджрди рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рджреМрд░рд╛рди рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рд╕реЗрд╡рд┐рдд рд╣реЛрдиреЗ рдкрд░ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдЖрдкрдХреЛ <strong>рдЕрдВрдХ 1 рдФрд░ 2</strong> рдХреЛ рдПрдХ рдирд╣реАрдВ рдмрд╣реБрдд рдЕрдзрд┐рдХ рднреНрд░рдорд┐рдд рдмрд┐рдВрджреБ рдореЗрдВ рдмрджрд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ (рд╣рд╛рд▓рд╛рдВрдХрд┐ рдмрд╛рдж рдореЗрдВ рд╕рдм рдХреБрдЫ рдЗрддрдирд╛ рд╕рд░рд▓ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдзрд┐рдХ рд╣реИ)ред </li></ul><br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ AppCDS рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреНрдпрд╛ рд╣реИ, рдКрдкрд░ рд╕реВрдЪреАрдмрджреНрдз 3 рдЪрд░рдг рд╣рдореЗрд╢рд╛ рдЗрд╕рдХреЗ рдкреАрдЫреЗ рд╣реЛрддреЗ рд╣реИрдВ, рдмрд╕ рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рд╡реЗ рдШреВрдВрдШрдЯ рд╣реЛрддреЗ рд╣реИрдВред </p><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдкрдиреЗ рд╢рд╛рдпрдж рджреЗрдЦрд╛, AppCDS рдХреЗ рдЖрдЧрдорди рдХреЗ рд╕рд╛рде, рдХрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреНрд▓рд╛рд╕реЗрд╕ рдПрдХ рджреЛрд╣рд░реА рдЬрд┐рдВрджрдЧреА рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ: рд╡реЗ рдПрдХ рд╕рд╛рде рдЕрдкрдиреЗ рдкреВрд░реНрд╡ рд╕реНрдерд╛рдиреЛрдВ рдореЗрдВ рд░рд╣рддреЗ рд╣реИрдВ (рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ JAR рдлрд╛рдЗрд▓реЗрдВ) рдФрд░ рдПрдХ рдирдП рд╕рд╛рдЭрд╛ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВред  рдЙрд╕реА рд╕рдордп, рдбреЗрд╡рд▓рдкрд░ рдЙрдиреНрд╣реЗрдВ рдЙрд╕реА рд╕реНрдерд╛рди рдкрд░ рдмрджрд▓ / рд╣рдЯрд╛ / рдкреВрд░рдХ рдХрд░рддрд╛ рд░рд╣рддрд╛ рд╣реИ, рдФрд░ JVM рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдЙрдиреНрд╣реЗрдВ рдирдП рд╕реЗ рд▓реЗрддрд╛ рд╣реИред  рдРрд╕реА рд╕реНрдерд┐рддрд┐ рдХреЗ рдЦрддрд░реЗ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рдХреЛ рдПрдХ рджрд┐рд╡реНрдпрд╛рдВрдЧ рд╣реЛрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ: рдпрджрд┐ рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЬрд▓реНрджреА рдпрд╛ рдмрд╛рдж рдореЗрдВ рдХрдХреНрд╖рд╛рдУрдВ рдХреА рдкреНрд░рддрд┐рдпрд╛рдВ рдкреНрд░рд╕реНрдлреБрдЯрд┐рдд рд╣реЛрдВрдЧреА, рдФрд░ рд╣рдореЗрдВ рд╡рд┐рд╢рд┐рд╖реНрдЯ "рдЬрд╛рд░ рдирд░рдХ" рдХреЗ рдХрдИ рдЖрдХрд░реНрд╖рдг рдорд┐рд▓реЗрдВрдЧреЗред  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдЬреЗрд╡реАрдПрдо рд╡рд░реНрдЧ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд░реЛрдХ рдирд╣реАрдВ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╕рдордп рдореЗрдВ рдПрдХ рд╡рд┐рд╕рдВрдЧрддрд┐ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпреБрдЧреНрдореЛрдВ рдХреА рддреБрд▓рдирд╛ рд╡рд░реНрдЧреЛрдВ рджреНрд╡рд╛рд░рд╛ рдХрд░рдирд╛, рдЪреЗрдХрд╕рдо рджреНрд╡рд╛рд░рд╛ рднреА, рдПрдХ рд╡рд┐рдЪрд╛рд░ рд╣реИ;  рдпрд╣ рдмрд╛рдХреА рдЙрддреНрдкрд╛рджрдХрддрд╛ рд▓рд╛рдн рдХреЛ рдирдХрд╛рд░ рд╕рдХрддрд╛ рд╣реИред  рд╕рдВрднрд╡рдд: рдЗрд╕реАрд▓рд┐рдП рдЬреЗрд╡реАрдПрдо рдХреЗ рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ рдиреЗ рддреБрд▓рдирд╛рддреНрдордХ рд╡рд╕реНрддреБ рдХреЗ рд░реВрдк рдореЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╡рд░реНрдЧреЛрдВ рдХрд╛ рдЪрдпрди рдирд╣реАрдВ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдкреВрд░реЗ рдХреНрд▓рд╛рд╕рдкрд╛рде, рдФрд░ рдРрдкрд╕реАрдбреАрдПрд╕ рджрд╕реНрддрд╛рд╡реЗрдЬ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╣рд╛</a> рдЧрдпрд╛ рдерд╛: "рдПрдХ рд╕рд╛рдЭрд╛ рд╕рдВрдЧреНрд░рд╣ рдмрдирд╛рддреЗ рд╕рдордп рдХреНрд▓рд╛рд╕рдкреИрде рдПрдХ рд╣реА рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП (рдпрд╛ рдХрдо рд╕реЗ рдХрдо рдПрдХ рдЙрдкрд╕рд░реНрдЧ рдЬреИрд╕рд╛ рдХрд┐ рдЖрд╡реЗрджрди рдХреЗ рдмрд╛рдж рдХреЗ рд▓реЙрдиреНрдЪ рдХреЗ рд╕рд╛рде рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред" </p><br><blockquote>  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЖрд░реНрдХрд╛рдЗрд╡ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд╕рдордп рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдХреНрд▓рд╛рд╕рдкрд╛рде рд░рди рдЯрд╛рдЗрдо рдореЗрдВ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХреНрд▓рд╛рд╕рдкрд╛рде рдХреЗ рд╕рдорд╛рди (рдпрд╛ рдЙрдкрд╕рд░реНрдЧ) рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </blockquote><p>  рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХ рдЕрд╕рдВрджрд┐рдЧреНрдз рдХрдерди рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐, рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ, рдПрдХ рдХреНрд▓рд╛рд╕рдкреИрде рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЛрдВ рд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреИрд╕реЗ: </p><br><ul><li>  рд╕рдВрдХрд▓рд┐рдд рдкреИрдХреЗрдЬ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рд╕реЗ рдирдВрдЧреЗ <code>.class</code> рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдкрдврд╝рдирд╛, <br>  рдЙрджрд╛ред <code>java com.example.Main</code> </li><li>  рд╡рд╛рдЗрд▓реНрдбрдХрд╛рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп JAR рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде рд╕реНрдХреИрдирд┐рдВрдЧ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдВ, <br>  рдЬреИрд╕реЗ <code>java -cp mydir/* com.example.Main</code> </li><li>  JAR рдФрд░ / рдпрд╛ рдЬрд╝рд┐рдк рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рд╕реНрдкрд╖реНрдЯ рд╕реВрдЪреА, <br>  рдЬреИрд╕реЗ <code>java -cp lib1.jar;lib2.jar com.example.Main</code> </li></ul><br><p>  (рдпрд╣ рдЗрд╕ рддрдереНрдп рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдирд╣реАрдВ рд╣реИ рдХрд┐ <code>-cp/-classpath/--class-path</code> рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реАрдХреЗ рд╕реЗ рднреА рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬреЗрд╡реАрдПрдо рд╡рд┐рдХрд▓реНрдк <code>-cp/-classpath/--class-path</code> , <code>CLASSPATH</code> рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдпрд╛ рд▓реЙрдиреНрдЪ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ <code>Class-Path</code> JAR рдлрд╝рд╛рдЗрд▓ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛) </p><br><p>  рдЗрди рд╡рд┐рдзрд┐рдпреЛрдВ рдореЗрдВ рд╕реЗ, AppCDS рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рдХрд╛ рд╕рдорд░реНрдерди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - JAR рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рд╕реНрдкрд╖реНрдЯ рдЧрдгрдирд╛ред  рдЬрд╛рд╣рд┐рд░рд╛ рддреМрд░ рдкрд░, рд╣реЙрдЯрд╕реНрдкреЙрдЯ JVM рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ рдиреЗ рдорд╣рд╕реВрд╕ рдХрд┐рдпрд╛ рдХрд┐ AppCDS рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рдХреНрд▓рд╛рд╕рдкреИрде рдХреА рддреБрд▓рдирд╛ рдХрд░рдирд╛ рдФрд░ рд▓реЙрдиреНрдЪ рдХрд┐рдП рдЧрдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдкрд░реНрдпрд╛рдкреНрдд рддреЗрдЬрд╝ рдФрд░ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╣реЛрдЧрд╛, рдпрджрд┐ рд╡реЗ рд╕реНрдкрд╖реНрдЯ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░реВрдк рд╕реЗ рдпрдерд╛рд╕рдВрднрд╡</a> рд╕реНрдкрд╖реНрдЯ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░реВрдк</a> рд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдП рдЧрдП рд╣реЛрдВ - рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд╕рдВрдкреВрд░реНрдг рд╕реВрдЪреА рдХреЗ рд╕рд╛рдеред </p><br><blockquote>  CDS / AppCDS рдХреЗрд╡рд▓ JAR рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рд╕рдВрдЧреНрд░рд╣ рдХрдХреНрд╖рд╛рдУрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред </blockquote><p>  рдпрд╣рд╛рдВ рдпрд╣ рдиреЛрдЯ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдпрд╣ рдХрдерди рдкреБрдирд░рд╛рд╡рд░реНрддреА рдирд╣реАрдВ рд╣реИ, рдЕрд░реНрдерд╛рддреНред  JAR рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдЕрдВрджрд░ JAR рдлрд╝рд╛рдЗрд▓реЛрдВ рдкрд░ рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ (рдЬрдм рддрдХ рдХрд┐ рдпрд╣ рдбрд╛рдпрдиреЗрдорд┐рдХ рд╕реАрдбреАрдПрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рдиреАрдЪреЗ рджреЗрдЦреЗрдВ)ред  рдЗрд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рджреНрд╡рд╛рд░рд╛ рдЬрд╛рд░реА рдХреА рдЧрдИ рд╕рд╛рдорд╛рдиреНрдп JAR-рдбреЙрд▓реНрд╕ рд╕рд┐рд░реНрдл рдЙрд╕реА рддрд░рд╣ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдВрдЧреА рдЬреИрд╕реЗ рдХрд┐ рдирд┐рдпрдорд┐рдд AppCDS рдХреЗ рд╕рд╛рде, рдЖрдкрдХреЛ рдмреИрдардирд╛ рд╣реЛрдЧрд╛ред </p><br><p>  рд╕реАрдбреАрдПрд╕ рдХреЗ рдХрд╛рдо рдореЗрдВ рдПрдХ рдФрд░ рдкрдХрдбрд╝ рдпрд╣ рд╣реИ рдХрд┐ рд╕рд╛рдЭрд╛ рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ рдХреЛ рдирд┐рд╢реНрдЪрд┐рдд рдкрддреЗ рдХреЗ рд╕рд╛рде рдореЗрдореЛрд░реА рдкрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдЖрдорддреМрд░ рдкрд░ <code>0x800000000</code> рдкрд░ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ)ред  рдпрд╣ рдЕрдкрдиреЗ рдЖрдк рдореЗрдВ рдЦрд░рд╛рдм рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЪреВрдВрдХрд┐ рдПрдбреНрд░реЗрд╕ рд╕реНрдкреЗрд╕ рд▓реЗрдЖрдЙрдЯ рд░реИрдВрдбрдорд╛рдЗрдЬреЗрд╢рди (рдПрдПрд╕рдПрд▓рдЖрд░) рдЕрдзрд┐рдХрд╛рдВрд╢ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕рдХреНрд╖рдо рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдореЗрдореЛрд░реА рд░реЗрдВрдЬ рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рдХрдмреНрдЬрд╛ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред  рд╣реЙрдЯрд╕реНрдкреЙрдЯ JVM рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИ рд╡рд┐рд╢реЗрд╖ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд┐рдХрд▓реНрдк рд╣реИ</a> <code>-Xshare</code> рдЬреЛ рддреАрди рдореВрд▓реНрдпреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ: </p><br><ul><li>  <code>-Xshare:on</code> - рдмрд▓ CDS / AppCDS;  рдпрджрд┐ рд╕реАрдорд╛ рд╡реНрдпрд╕реНрдд рд╣реИ, рддреЛ JVM рдПрдХ рддреНрд░реБрдЯрд┐ рдХреЗ рд╕рд╛рде рдмрд╛рд╣рд░ рдирд┐рдХрд▓рддрд╛ рд╣реИред  <strong>рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП</strong> рдЗрд╕ рдореЛрдб рдХреА <strong>рдЕрдиреБрд╢рдВрд╕рд╛ рдирд╣реАрдВ рдХреА рдЬрд╛рддреА рд╣реИ</strong> , рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЙрдиреНрдЪ рдХрд░рддреЗ рд╕рдордп рдЫрд┐рдЯрдкреБрдЯ рджреБрд░реНрдШрдЯрдирд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред </li><li>  <code>-Xshare:off</code> - (рдЖрдк) рд╕реНрд╡рд┐рдЪ рд╕реАрдбреАрдПрд╕ / AppCDS;  рд╕рд╛рдЭрд╛ рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИ (рдПрдореНрдмреЗрдбреЗрдб рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ рд╕рд╣рд┐рдд) </li><li>  <code>-Xshare:auto</code> - рдЬрдм рдЖрд╡рд╢реНрдпрдХ рдореЗрдореЛрд░реА рд░реЗрдВрдЬ рдЖрд╡рдВрдЯрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд╕рдВрднрд╡рддрд╛ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, JVM рдХрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╡реНрдпрд╡рд╣рд╛рд░, рдЪреБрдкрдЪрд╛рдк рдЖрддреНрдорд╕рдорд░реНрдкрдг рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣ рдХрдХреНрд╖рд╛рдУрдВ рдХреЛ рд▓реЛрдб рдХрд░рддрд╛ рд╣реИ </li></ul><br><p>  рдЗрд╕ рд▓реЗрдЦ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреЗ рд╕рдордп, рдУрд░реЗрдХрд▓ рдЗрд╕ рддрд░рд╣ рдХреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рджреВрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд░рдиреЗ рдХреЗ</a> рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╛рдо рдХрд░ рд░рд╣рд╛</a> рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рд░рд┐рд▓реАрдЬрд╝ рдирдВрдмрд░ рдЕрднреА рддрдХ рдЕрд╕рд╛рдЗрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдпреЗ рд╡рд┐рдХрд▓реНрдк рдмрд╛рдж рдореЗрдВ рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрдм рд╣рдо рдЗрд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ ... </p><br><h3 id="varianty-primeneniya-appcds">  AppCDS рдЕрдиреБрдкреНрд░рдпреЛрдЧ </h3><br><p>  AppCDS рдХреЗ рд╕рд╛рде рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВред <del>  рдЕрдкрдирд╛ рдЬреАрд╡рди рдмрд░реНрдмрд╛рдж рдХрд░ рд▓реЛ </del>  рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдХреЗ рдХрд╛рдо рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░реЗрдВред  рд╡реЗ рдЬрдЯрд┐рд▓рддрд╛ рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рд▓рд╛рдн рдореЗрдВ рдмрд╣реБрдд рднрд┐рдиреНрди рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рддреБрд░рдВрдд рдпрд╣ рддрдп рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдХрд┐рд╕ рдкрд░ рдмрд╛рдж рдореЗрдВ рдЪрд░реНрдЪрд╛ рдХреА рдЬрд╛рдПрдЧреАред </p><br><p>  рд╕рдмрд╕реЗ рд╕рд░рд▓ рднреА AppCDS рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд┐рд░реНрдл рд╕реАрдбреАрдПрд╕ - рдпрд╣ рддрдм рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдХреЗрд╡рд▓ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рд╡рд░реНрдЧ рд╕рд╛рдЭрд╛ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рдЖрддреЗ рд╣реИрдВ (рджреЗрдЦреЗрдВ "рдП рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдкрд░рд┐рдЪрдп AppCDS рдХреЗ рд▓рд┐рдП")ред  рд╣рдо рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХреЛ рддреБрд░рдВрдд рд╣рдЯрд╛ рджреЗрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдкрд░ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрдиреЗ рдкрд░ рдпрд╣ рдмрд╣реБрдд рдХрдо рд▓рд╛рдн рджреЗрддрд╛ рд╣реИред  рдпрд╣ рдЙрдирдХреЗ рд╡рд┐рддрд░рдг рдореЗрдВ рд╕рд╛рдЭрд╛ рд╡рд░реНрдЧреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдЕрдиреБрдкрд╛рдд рд╕реЗ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдорд╛рдЗрдХреНрд░реЛрд╕реИрд╕ рд╕рд░реНрд╡рд┐рд╕ (рдЧреНрд░реАрди рд╕реЗрдЧрдореЗрдВрдЯ рджреЗрдЦреЗрдВ) рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/lz/7x/9l/lz7x9lodfzwv4ihwjjifjyxsf_a.png"></p><br><p>  рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓, рд▓реЗрдХрд┐рди рд╣реЛрдирд╣рд╛рд░ рдкреВрд░реНрдг-рдкреВрд░реНрдг AppCDS рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реИ, рдЕрд░реНрдерд╛рддреН, рдПрдХ рд╣реА рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдФрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХрдХреНрд╖рд╛рдУрдВ рджреЛрдиреЛрдВ рдХрд╛ рд╕рдорд╛рд╡реЗрд╢ред  рдпрд╣ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХрд╛ рдПрдХ рдкреВрд░рд╛ рдкрд░рд┐рд╡рд╛рд░ рд╣реИ рдЬреЛ рднрд╛рдЧ рд▓реЗрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рдВрдпреЛрдЬрди рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  AppCDS рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд╛рдн рдФрд░ рдХрдард┐рдирд╛рдЗрдпреЛрдВ рдХреЗ рд╡реНрдпрдХреНрддрд┐рдкрд░рдХ рд▓реЗрдЦрдХ рдХреЗ рдЖрдХрд▓рди рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╣реИрдВред </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╕рдВрдЦреНрдпрд╛ </th><th>  рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ </th><th>  рдЙрджрд╛рд╣рд░рдгреЛрдВ </th><th>  рд╕реАрдкреАрдпреВ рд▓рд╛рдн </th><th>  рд░рд╛рдо рд▓рд╛рдн </th><th>  рдЬрдЯрд┐рд▓рддрд╛ </th></tr></thead><tbody><tr><td>  1 </td><td>  рдПрдХ </td><td>  рдПрдХ </td><td>  + </td><td>  ┬▒ </td><td>  рдХрдо </td></tr><tr><td>  <strong>2</strong> </td><td>  <strong>рдПрдХ</strong> </td><td>  <strong>рдХреБрдЫ рд╣реА</strong> </td><td>  <strong>++</strong> </td><td>  <strong>++</strong> </td><td>  <strong>рдХрдо</strong> </td></tr><tr><td>  3 </td><td>  рдХреБрдЫ рд╣реА </td><td>  рдПрдХ рд╕рдордп рдореЗрдВ рдПрдХ </td><td>  ++ </td><td>  ++ </td><td>  рдЙрдЪреНрдЪ </td></tr><tr><td>  4 </td><td>  рдХреБрдЫ рд╣реА </td><td>  рдХреБрдЫ рд╣реА </td><td>  +++ </td><td>  +++ </td><td>  рдЙрдЪреНрдЪ </td></tr></tbody></table></div><br><p>  рдзреНрдпрд╛рди рджреЗрдВ: </p><br><ul><li>  рдПрдХ рдЙрджрд╛рд╣рд░рдг (рдирдВрдмрд░ 1) рдореЗрдВ рдПрдХ рдЖрд╡реЗрджрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕реНрдореГрддрд┐ рд▓рд╛рдн рд╢реВрдиреНрдп рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдирдХрд╛рд░рд╛рддреНрдордХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ (рд╡рд┐рд╢реЗрд╖рдХрд░ рдЬрдм рдЖрдкрдХреЗ рдЦрд╛рддреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореЗрдВ</a> ) </li><li>  рд╕рд╣реА рд╕рд╛рдЭрд╛ рдХрд┐рдП рдЧрдП рд╕рдВрдЧреНрд░рд╣ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрд░рд╡рд╛рдЗрдпреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдЬрдЯрд┐рд▓рддрд╛ рдЗрд╕ рдмрд╛рдд рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рдХрд░рддреА рд╣реИ рдХрд┐ рдЖрд╡реЗрджрди рдХрд┐рддрдиреА рдкреНрд░рддрд┐рдпреЛрдВ рдореЗрдВ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ (рддреБрд▓рдирд╛ рдирдВ 1-2 рдФрд░ рдирдВрдмрд░ 3-4 рдХреА рдЬреЛрдбрд╝реА) </li><li>  рдЗрд╕реА рд╕рдордп, рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╕реЗ рдХрдИ рдореЗрдВ рд╕рдВрдХреНрд░рдордг, рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ, рджреЛрдиреЛрдВ рд╕рдВрдХреЗрддрдХреЛрдВ рдХреЗ рд▓рд┐рдП рд▓рд╛рдн рдореЗрдВ рд╡реГрджреНрдзрд┐ рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рддреИрдпрд╛рд░реА рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред </li></ul><br><p>  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рд╣рдо <strong>рдХреЗрд╡рд▓ рд╡рд┐рдХрд▓реНрдк рдирдВрдмрд░ 2</strong> (рдирдВрдмрд░ 1 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ) <strong>рддрдХ рдкрд╣реБрдВрдЪреЗрдВрдЧреЗ</strong> , рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдРрдкрд╕реАрдбреАрдПрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рдХрд░реАрдмреА рдкрд░рд┐рдЪрд┐рдд рдХреЗ рд▓рд┐рдП рдХрд╛рдлреА рд╕рд░рд▓ рд╣реИ рдФрд░ рдХреЗрд╡рд▓ рдЕрддрд┐рд░рд┐рдХреНрдд рдЪрд╛рд▓ рдХреЗ рдмрд┐рдирд╛ рд╣рдо рд╣рд╛рд▓ рд╣реА рдореЗрдВ рдЬрд╛рд░реА рдХрд┐рдП рдЧрдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреЗрдИрдкреА -350</a> рдбрд╛рдпрдиреЗрдорд┐рдХ рд╕реАрдбреАрдПрд╕ рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдореЗрдВ рдорд╣рд╕реВрд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред </p><br><h3 id="dynamic-cds-archives">  рдЧрддрд┐рд╢реАрд▓ рд╕реАрдбреАрдПрд╕ рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">JEP-350</a> рдбрд╛рдпрдирд╛рдорд┐рдХ рд╕реАрдбреАрдПрд╕ рдЖрд░реНрдХрд╛рдЗрд╡реНрд╕, рдЬреЛ рдЬрд╛рд╡рд╛ 13 рдХреЗ рдкреНрд░рдореБрдЦ рдирд╡рд╛рдЪрд╛рд░реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ, рдХреЛ AppCDS рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рд╕рд░рд▓реАрдХрд░рдг рдорд╣рд╕реВрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рдЬрдЯрд┐рд▓рддрд╛ рдХреЛ рд╕рдордЭрдирд╛ рд╣реЛрдЧрд╛ред  рдЖрдкрдХреЛ рдпрд╛рдж рджрд┐рд▓рд╛ рджреВрдВ рдХрд┐ AppCDS рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╛рд╕рд┐рдХ, "рдХреНрд▓реАрди" рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдореЗрдВ 3 рдЪрд░рдг рд╣реЛрддреЗ рд╣реИрдВ: (1) рд╕рд╛рдЭрд╛ рд╡рд░реНрдЧреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ, (2) рдЙрдирд╕реЗ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдмрдирд╛рдПрдВ, рдФрд░ (3) рдЬреБрдбрд╝реЗ рд╣реБрдП рд╕рдВрдЧреНрд░рд╣ рдХреЗ рд╕рд╛рде рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЪрд▓рд╛рдПрдВред  рдЗрди рдЪрд░рдгреЛрдВ рдореЗрдВ рд╕реЗ, рдХреЗрд╡рд▓ 3 рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрдкрдпреЛрдЧреА рд╣реИ, рдмрд╛рдХреА рдХреЗрд╡рд▓ рдЗрд╕рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░реА рд╣реИред  рдФрд░ рдпрджреНрдпрдкрд┐ рд╡рд░реНрдЧреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ (рдЪрд░рдг # 1) рдмрд╣реБрдд рд╕рд░рд▓ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ (рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рднреА рдирд╣реАрдВ рд╣реИ), рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЬрдм рдЧреИрд░-рддреБрдЪреНрдЫ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рд╕рдмрд╕реЗ рдХрдард┐рди рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдЦрд╛рд╕рдХрд░ рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВред  рддреЛ рдЗрд╕ рдХрджрдо рдХреЛ рдЦрддреНрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╛ рдЗрд╕реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, JEP-350 рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрд╣ рд╡рд┐рдЪрд╛рд░ рдпрд╣ рд╣реИ рдХрд┐ JVM рд╕реНрд╡рдпрдВ рдЙрди рд╡рд░реНрдЧреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рддреИрдпрд╛рд░ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрд╡реЗрджрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рд╕реНрд╡рдпрдВ рдЙрдирд╕реЗ рддрдерд╛рдХрдерд┐рдд "рдЧрддрд┐рд╢реАрд▓" рд╕рдВрдЧреНрд░рд╣ рдмрдирд╛рддрд╛ рд╣реИред  рд╕рд╣рдордд рд╣реВрдВ, рдпрд╣ рдЕрдЪреНрдЫрд╛ рд▓рдЧрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдкрдХрдбрд╝ рдпрд╣ рд╣реИ рдХрд┐ рдЕрдм рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╕рдВрдЪрд┐рдд рд╡рд░реНрдЧреЛрдВ рдХреЛ рд░реЛрдХрдирд╛ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рдирд╛ рд╣реИред  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ, рдХреНрд▓рд╛рд╕рд┐рдХ AppCDS рдореЗрдВ, рд╣рдордиреЗ рдЗрд╕ рдХреНрд╖рдг рдХреЛ рдЦреБрдж рдЪреБрдирд╛ рдерд╛ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдмреАрдЪ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рдмрджрд▓рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдХрдХреНрд╖рд╛рдУрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ рдХреБрдЫ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рд╢рдкрде рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред  рдЕрдм рдпрд╣ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдФрд░ рдХреЗрд╡рд▓ рдПрдХ рдкрд▓ рдореЗрдВ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдЬреЗрд╡реАрдПрдо рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ рдиреЗ рдЪреБрдирд╛ рд╣реИ, рд╢рд╛рдпрдж, рдПрдХрдорд╛рддреНрд░ рд╕рдордЭреМрддрд╛ рд╡рд┐рдХрд▓реНрдк - рдЬреЗрд╡реАрдПрдо рдХрд╛ рдирд┐рдпрдорд┐рдд рдмрдВрджред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рд╕рдВрдЧреНрд░рд╣ рддрдм рддрдХ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдЬрдм рддрдХ рдХрд┐ рдЖрд╡реЗрджрди рдмрдВрдж рди рд╣реЛ рдЬрд╛рдПред  рдЗрд╕ рд╕рдорд╛рдзрд╛рди рдХреЗ рдХреБрдЫ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкрд░рд┐рдгрд╛рдо рд╣реИрдВ: </p><br><ul><li>  JVM рдХреНрд░реИрд╢ рд╣реЛрдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдЖрд░реНрдХрд╛рдЗрд╡ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рддрдм рддрдХ рд╕рдВрдЪрд┐рдд рдХрдХреНрд╖рд╛рдУрдВ рдХреА рд╕реВрдЪреА рдХрд┐рддрдиреА рдЕрджреНрднреБрдд рд╣реЛрдЧреА (рдЖрдк рдмрд╛рдж рдореЗрдВ рдирд┐рдпрдорд┐рдд рд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕реЗ рдирд╣реАрдВ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ)ред </li><li>  рд╕рдВрдЧреНрд░рд╣ рдХреЗрд╡рд▓ рдЙрди рд╡рд░реНрдЧреЛрдВ рд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдЬреЛ рдЖрд╡реЗрджрди рд╕рддреНрд░ рдХреЗ рджреМрд░рд╛рди рд▓реЛрдб рдХрд░рдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рд░рд╣реЗред  рд╡реЗрдм рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП, рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╢реБрд░реВ рдХрд░рдиреЗ рдФрд░ рд╡рд╣реАрдВ рд░реЛрдХрдХрд░ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдмрдирд╛рдирд╛ рд╕рд╣реА рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рддрдм рд╕реЗ рдХрдИ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХрдХреНрд╖рд╛рдПрдВ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рдирд╣реАрдВ рдЖрдПрдВрдЧреАред  рдЖрд╡реЗрджрди рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо рдПрдХ HTTP рдЕрдиреБрд░реЛрдз рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ (рдФрд░ рдЗрд╕реЗ рд╕рднреА рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдореЗрдВ рдареАрдХ рд╕реЗ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдмреЗрд╣рддрд░ рд╣реИ) рддрд╛рдХрд┐ рд╕рднреА рд╡рд░реНрдЧ рдЬреЛ рдЗрд╕реЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЛрдб рд╣реЛ рдЬрд╛рдПред </li></ul><br><p>  рдЧрддрд┐рд╢реАрд▓ рдФрд░ рд╕реНрдерд┐рд░ рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ рдХреЗ рдмреАрдЪ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЕрдВрддрд░ рдпрд╣ рд╣реИ рдХрд┐ рд╡реЗ рд╣рдореЗрд╢рд╛ рдмреБрдирд┐рдпрд╛рджреА рд╕реНрдереИрддрд┐рдХ рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ рдкрд░ рдПрдХ "рдРрдб-рдСрди" рдХрд╛ рдЧрдарди рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдпрд╛ рддреЛ рдЬрд╛рд╡рд╛ рд╡рд┐рддрд░рдг рдХрд┐рдЯ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирд┐рд░реНрдорд┐рдд</a> рдпрд╛ рдХреНрд▓рд╛рд╕рд┐рдХ 3-рдЪрд░рдг рддрд░реАрдХреЗ рд╕реЗ рдЕрд▓рдЧ рд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ, рдЧрддрд┐рд╢реАрд▓ рд╕реАрдбреАрдПрд╕ рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рджреЛ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рд╕рд╛рде рджреЛ рдЬреЗрд╡реАрдПрдо рд▓реЙрдиреНрдЪ рдХреЗ рд▓рд┐рдП рдиреАрдЪреЗ рдЖрддрд╛ рд╣реИ: </p><br><ol><li>  <code>-XX:ArchiveClassesAtExit=archive.jsa</code> рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдЯреНрд░рд╛рдпрд▓ рд░рди <code>-XX:ArchiveClassesAtExit=archive.jsa</code> , рдЬрд┐рд╕рдХреЗ рдЕрдВрдд рдореЗрдВ рдПрдХ рдбрд╛рдпрдирд╛рдорд┐рдХ рдЖрд░реНрдХрд╛рдЗрд╡ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ (рдЖрдк рдХрд┐рд╕реА рднреА рдкрде рдФрд░ рдирд╛рдо рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ) </li><li>  <code>-XX:SharedArchiveFile=archive.jsa</code> рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧреА рд▓реЙрдиреНрдЪ <code>-XX:SharedArchiveFile=archive.jsa</code> , рдЬреЛ рдкрд╣рд▓реЗ рдмрдирд╛рдП рдЧрдП рд╕рдВрдЧреНрд░рд╣ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ </li></ol><br><p>  рджреВрд╕рд░рд╛ рд╡рд┐рдХрд▓реНрдк рдирд┐рдпрдорд┐рдд рд╕реНрдерд┐рд░ рд╕рдВрдЧреНрд░рд╣ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рдЕрд▓рдЧ рдирд╣реАрдВ рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЕрдЪрд╛рдирдХ рдореВрд▓ рд╕реНрдереИрддрд┐рдХ рд╕рдВрдЧреНрд░рд╣ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдерд╛рди (рдЬреЗрдбреАрдХреЗ рдХреЗ рдЕрдВрджрд░) рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдореЗрдВ рдЗрд╕рдХреЗ рд▓рд┐рдП рдкрде рдХрд╛ рд╕рдВрдХреЗрдд рднреА рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><pre> <code class="bash hljs">-XX:SharedArchiveFile=base.jsa:dynamic.jsa</code> </pre> <br><p>  <em>(Windows рдХреЗ рддрд╣рдд, рдкрде рд╡рд┐рднрд╛рдЬрдХ "?" рд╡рд░реНрдг рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП)</em> </p><br><p>  рдЕрдм рдЖрдк AppCDS рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрд░реНрдпрд╛рдкреНрдд рдЬрд╛рдирддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЖрдк рдЗрд╕реЗ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдореЗрдВ рджреЗрдЦ рд╕рдХреЗрдВред </p><br><h2 id="praktika">  рдЕрднреНрдпрд╛рд╕ </h2><br><h3 id="podopytnyy-krolik">  рдкреНрд░рд╛рдпреЛрдЧрд┐рдХ рдЦрд░рдЧреЛрд╢ </h3><br><p>  рдЗрд╕рд▓рд┐рдП рдХрд┐ рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ AppCDS рдХрд╛ рд╣рдорд╛рд░рд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ HelloWorld рддрдХ рд╕реАрдорд┐рдд рдирд╣реАрдВ рд╣реИ, рд╣рдо рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдкрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рдЖрдзрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЗрдВрдЧреЗред  рдореЗрд░реЗ рд╕рд╣рдпреЛрдЧрд┐рдпреЛрдВ рдФрд░ рдореБрдЭреЗ рдЕрдХреНрд╕рд░ рджреВрд░рд╕реНрде рдкрд░реАрдХреНрд╖рдг рд╕рд░реНрд╡рд░ рдкрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЙрдЧ рджреЗрдЦрдирд╛ рдкрдбрд╝рддрд╛ рд╣реИ, рдФрд░ "рд▓рд╛рдЗрд╡" рджреЗрдЦрдирд╛ рд╣реЛрддрд╛ рд╣реИ, рдЬреИрд╕реЗ рд╡реЗ рд▓рд┐рдЦреЗ рдЬрд╛рддреЗ рд╣реИрдВред  рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреВрд░реНрдг рд▓реЙрдЧ рд▓реЙрдЧ рдПрдЧреНрд░реАрдЧреЗрдЯрд░ (рдИрдПрд▓рдХреЗ рдХреА рддрд░рд╣) рдЕрдХреНрд╕рд░ рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ;  рд▓реЙрдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдЕрдВрддрд╣реАрди рд░реВрдк рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ - рдПрдХ рд▓рдВрдмреЗ рд╕рдордп рдХреЗ рд▓рд┐рдП, рдФрд░ <code>tail</code> рдХреЗ рдЧреНрд░реЗ рдХрдВрд╕реЛрд▓ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рджреЗрдЦрдирд╛ рдирд┐рд░рд╛рд╢рд╛рдЬрдирдХ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдореИрдВрдиреЗ рдПрдХ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдпрд╛ рдЬреЛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдХрд┐рд╕реА рднреА рд▓реЙрдЧ рдХреЛ рд╕реАрдзреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдЖрдЙрдЯрдкреБрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдорд╣рддреНрд╡ рд╕реНрддрд░ (рдПрдХ рд╣реА рд╕рдордп XML рдХреЛ рд╕реНрд╡рд░реВрдкрд┐рдд рдХрд░рдХреЗ) рд▓рд╛рдЗрдиреЛрдВ рдХреЛ рд░рдВрдЧреАрди рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдХрдИ рд▓реЙрдЧ рдХреЛ рдПрдХ рдореЗрдВ рдПрдХрддреНрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдЕрдиреНрдп рдЯреНрд░рд┐рдХреНрд╕ рднреАред  рдЗрд╕реЗ <strong>ANALOG</strong> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ (рдЬреИрд╕реЗ "рд▓реЙрдЧ рд╡рд┐рд╢реНрд▓реЗрд╖рдХ", рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рд╕рдЪ рдирд╣реАрдВ рд╣реИ) рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">GitHub рдкрд░</a> рд╕реНрдерд┐рдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред  рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/q3/lo/m_/q3lom_x6c9wghlerm1g9oa9-yfw.png"></a> </p><br><p>  рддрдХрдиреАрдХреА рд░реВрдк рд╕реЗ, рдпрд╣ рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ + рд╕реНрдкреНрд░рд┐рдВрдЧ рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди рдкрд░ рдПрдХ рдПрдкреНрд▓реАрдХреЗрд╢рди рд╣реИ, рдЬрд┐рд╕рдХреЗ рд╣реБрдб рдХреЗ рдиреАрдЪреЗ, <code>tail</code> , <code>kubectl</code> рдФрд░ <code>kubectl</code> (рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рд▓реЙрдЧ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдбреЙрдХ рдХрдВрдЯреЗрдирд░ рдФрд░ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рд╕рдВрд╕рд╛рдзрди, рдХреНрд░рдорд╢рдГ)ред  рдпрд╣ рдХреНрд▓рд╛рд╕рд┐рдХ "рдореЛрдЯреА" рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдЬрд╛рд░ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдЖрддрд╛ рд╣реИред  рд░рдирдЯрд╛рдЗрдо рдореЗрдВ, рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдореЗрдореЛрд░реА рдореЗрдВ <strong>K10K рдХрдХреНрд╖рд╛рдПрдВ рд▓рдЯрдХреА</strong> рд╣реБрдИ <strong>рд╣реИрдВ</strong> , рдЬрд┐рдирдореЗрдВ рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕реНрдкреНрд░рд┐рдВрдЧ рдФрд░ <strong>рдЬреЗрдбреАрдХреЗ рдХрдХреНрд╖рд╛рдПрдВ рд╣реИрдВ</strong> ред  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдпреЗ рдХрдХреНрд╖рд╛рдПрдВ рдмрд╣реБрдд рдХрдо рд╣реА рдмрджрд▓рддреА рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдПрдХ рд╕рд╛рдЭрд╛ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рд░рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЖрд╡реЗрджрди рдХреЗ рд╕рднреА рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╕реНрдореГрддрд┐ рдФрд░ рд╕реАрдкреАрдпреВ рдХреА рдмрдЪрддред </p><br><h3 id="odinochnyy-eksperiment">  рдПрдХрд▓ рдкреНрд░рдпреЛрдЧ </h3><br><p>  рдЪрд▓рд┐рдП рдЕрдм рдбрд╛рдпрдирд╛рдорд┐рдХ AppCDS рдХреЗ рдореМрдЬреВрджрд╛ рдЬреНрдЮрд╛рди рдХреЛ рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рдЦрд░рдЧреЛрд╢ рдкрд░ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВред  рдЪреВрдВрдХрд┐ рд╕рдм рдХреБрдЫ рддреБрд▓рдирд╛ рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╣рдореЗрдВ рдХреБрдЫ рд╕рдВрджрд░реНрдн рдмрд┐рдВрджреБ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА - рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреА рд╕реНрдерд┐рддрд┐ рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рд╣рдо рдкреНрд░рдпреЛрдЧ рдХреЗ рджреМрд░рд╛рди рдкреНрд░рд╛рдкреНрдд рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВрдЧреЗред </p><br><h4 id="vvodnye-zamechaniya">  рдкрд░рд┐рдЪрдпрд╛рддреНрдордХ рдЯрд┐рдкреНрдкрдгреА </h4><br><ul><li>  рдЖрдЧреЗ рд╕рднреА рдХрдорд╛рдВрдб рд▓рд┐рдирдХреНрд╕ рдХреЗ рд▓рд┐рдП рд╣реИрдВред  рд╡рд┐рдВрдбреЛрдЬ рдФрд░ рдореИрдХрдУрдПрд╕ рдХреЗ рд▓рд┐рдП рдЕрдВрддрд░ рдореМрд▓рд┐рдХ рдирд╣реАрдВ рд╣реИрдВред </li><li>  рдЬреЗрдЖрдИрдЯреА рд╕рдВрдХрд▓рди рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░, рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдкреНрд░рдпреЛрдЧ рдХреА рд╢реБрджреНрдзрддрд╛ рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ ( <code>-Xint</code> рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде, рдЬреИрд╕рд╛ рдХрд┐ рдЙрд▓реНрд▓реЗрдЦ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ</a> рдореЗрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛), рд▓реЗрдХрд┐рди рдЕрдзрд┐рдХрддрдо plauses рдХреЗ рд▓рд┐рдП рдпрд╣ рдирд╣реАрдВ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </li><li>  рд╢реБрд░реБрдЖрддреА рд╕рдордп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдВрдЦреНрдпрд╛рдПрдВ рдПрдХ рддреЗрдЬ рдкрд░реАрдХреНрд╖рдг рд╕рд░реНрд╡рд░ рдкрд░ рдкреНрд░рд╛рдкреНрдд рдХреА рдЧрдИ рдереАрдВред  рдХрд╛рдордХрд╛рдЬреА рдорд╢реАрдиреЛрдВ рдкрд░, рд╕рдорд╛рди рд╕рдВрдЦреНрдпрд╛, рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рдЕрдзрд┐рдХ рд╡рд┐рдирдореНрд░ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЪреВрдВрдХрд┐ рд╣рдо рдкреВрд░реНрдг рдореВрд▓реНрдпреЛрдВ рдореЗрдВ рд░реБрдЪрд┐ рдирд╣реАрдВ рд░рдЦрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдкреНрд░рддрд┐рд╢рдд рд╡реГрджреНрдзрд┐ рдореЗрдВ, рд╣рдо рдЗрд╕ рдЕрдВрддрд░ рдХреЛ рдорд╣рддреНрд╡рд╣реАрди рдорд╛рдирддреЗ рд╣реИрдВред </li><li>  рд╕рдордп рд╕реЗ рдкрд╣рд▓реЗ рд╕рд╛рдЭрд╛ рдХреА рдЧрдИ рд╕реНрдореГрддрд┐ рдХреЛ рдорд╛рдкрдиреЗ рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЕрдм рд╣рдо рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рд╕рдЯреАрдХ рд░реАрдбрд┐рдВрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЫреЛрдбрд╝ рджреЗрдВрдЧреЗред  рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рд╣рдо " <strong>рд╕реАрдбреАрдПрд╕ рдХреНрд╖рдорддрд╛</strong> " рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЛ рдкреЗрд╢ рдХрд░рддреЗ рд╣реИрдВ <strong>,</strong> рд╕рд╛рдЭрд╛ рдХрдХреНрд╖рд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдкреНрд░рддрд┐рд╢рдд рд▓реЛрдб рдХреА рдЧрдИ рдХрдХреНрд╖рд╛рдУрдВ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рд╡реНрдпрдХреНрдд рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдПрдХ рдЕрдореВрд░реНрдд рдорд╛рддреНрд░рд╛ рд╣реИ, рд▓реЗрдХрд┐рди рджреВрд╕рд░реА рдУрд░, рдпрд╣ рд╕реАрдзреЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдореЗрдореЛрд░реА рдЦрдкрдд рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИ;  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдУрдПрд╕ рдкрд░ рдмрд┐рд▓реНрдХреБрд▓ рднреА рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рдХрд░рддреА рд╣реИ, рдФрд░ рдЗрд╕рдХреА рдЧрдгрдирд╛ рдХреЗ рд▓рд┐рдП, рдХреЗрд╡рд▓ рд▓реЙрдЧ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИрдВред </li></ul><br><h4 id="referentnaya-tochka">  рд╕рдВрджрд░реНрдн рдмрд┐рдВрджреБ </h4><br><p>  рдЗрд╕ рдмрд┐рдВрджреБ рдХреЛ рдирдП рд╕рд┐рд░реЗ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдП рдЧрдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд╕реНрдерд┐рддрд┐ рд╣реЛрдиреЗ рджреЗрдВ, рдЕрд░реНрдерд╛рдд  рдХрд┐рд╕реА рднреА AppCDS'ov рдФрд░ рдЕрдиреНрдп рдХреЗ рд╕реНрдкрд╖реНрдЯ рдЙрдкрдпреЛрдЧ рдХреЗ рдмрд┐рдирд╛ред  рдЗрд╕рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЪрд╛рд╣рд┐рдП: </p><br><ol><li><p>  OpenJDK 13 рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдШрд░реЗрд▓реВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд╛рдЗрдмреЗрд░рд┐рдХрд╛</a> рд╡рд┐рддрд░рдг, рд▓реЗрдХрд┐рди рд▓рд╛рдЗрдЯ рд╕рдВрд╕реНрдХрд░рдг рдирд╣реАрдВ)ред <br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ PATH рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдпрд╛ <code>JAVA_HOME</code> рднреА рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_HOME=~/tools/jdk-13</code> </pre> <br></li><li><p>  <a href="">рдбрд╛рдЙрдирд▓реЛрдб</a> ANALOG (рд▓реЗрдЦрди рдХреЗ рд╕рдордп, рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг v0.12.1 рдерд╛)ред </p><br><p>  рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рдЖрдк <code>config/application.yaml</code> рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <code>config/application.yaml</code> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ <code>server.address</code> рдкреИрд░рд╛рдореАрдЯрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЛ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рд╣рд░реА рд╣реЛрд╕реНрдЯ рдирд╛рдо (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, <code>server.address</code> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ)ред </p><br></li><li><p>  JVM рд╡рд░реНрдЧ рд▓реЛрдб рд▓реЙрдЧрд┐рдВрдЧ рд╕рдХреНрд╖рдо рдХрд░реЗрдВред <br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдЗрд╕ рдорд╛рди рдХреЗ рд╕рд╛рде <code>JAVA_OPTS</code> рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдХреЛ рдХреЙрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=-Xlog:class+load=info:file=<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/class-load.log</code> </pre> <br><p>  рдпрд╣ рд╡рд┐рдХрд▓реНрдк JVM рдХреЛ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдЗрд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдЧ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЗ</a> рд╕реНрд░реЛрдд рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧрд┐рд░рд╡реА рд░рдЦрдиреЗ рдХреЗ</a> рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╣реЗрдЧрд╛</a> ред </p><br></li><li><p>  рдПрдХ рдкрд░реАрдХреНрд╖рдг рдЪрд▓рд╛рдПрдВ: </p><br><ol><li>  <code>bin/analog</code> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рд╛рде рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЪрд▓рд╛рдПрдВ </li><li>  Open <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http: // localhost: 8083</a> рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ, рдкреЛрдХ рдмрдЯрди рдФрд░ рдбреМрд╕ </li><li>  <code>bin/analog</code> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрдВрд╕реЛрд▓ рдореЗрдВ <code>Ctrl+C</code> рджрдмрд╛рдХрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд░реЛрдХреЗрдВ </li></ol><br></li><li><p>  рдкрд░рд┐рдгрд╛рдо ( <code>log/</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ) рд▓реЗрдВ </p><br><ul><li><p>  рднрд░реА рд╣реБрдИ рдХрдХреНрд╖рд╛рдУрдВ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ ( <code>class-load.log</code> ): </p><br><pre> <code class="bash hljs">cat class-load.log | wc -l 10463</code> </pre> <br></li><li><p>  рдЙрдирдореЗрдВ рд╕реЗ рдХрд┐рддрдиреЗ рд╕рд╛рдЭрд╛ рд╕рдВрдЧреНрд░рд╣ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдП рдЧрдП рд╣реИрдВ (рдЗрд╕рдХреЗ рдЕрдиреБрд╕рд╛рд░): </p><br><pre> <code class="bash hljs">grep -o <span class="hljs-string"><span class="hljs-string">'source: shared'</span></span> - class-load.log 1146</code> </pre> <br></li><li><p>  рдФрд╕рдд рдкреНрд░рд╛рд░рдВрдн рд╕рдордп (рд╢реБрд░реБрдЖрдд рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рдмрд╛рдж; <code>analog.log</code> рджреНрд╡рд╛рд░рд╛): </p><br><pre> <code class="bash hljs">grep -oE <span class="hljs-string"><span class="hljs-string">'\(JVM running for .+\)'</span></span> analog.log | grep -oE <span class="hljs-string"><span class="hljs-string">'[0-9]\.[0-9]+'</span></span> | awk <span class="hljs-string"><span class="hljs-string">'{ total += $1; count++ } END { print total/count }'</span></span> 4.5225</code> </pre> <br></li></ul><br></li></ol><br><p>  рддреЛ, рдЗрд╕ рдХрджрдо рдкрд░, рд╕реАрдбреАрдПрд╕ рдХреА рдХреНрд╖рдорддрд╛ <code>1146/10463=0,1095</code> <strong>0.1095 %11% рдереА</strong> ред  рдпрджрд┐ рдЖрдк рдЖрд╢реНрдЪрд░реНрдпрдЪрдХрд┐рдд рд╣реИрдВ рдХрд┐ рд╕рд╛рдЭрд╛ рдХрдХреНрд╖рд╛рдПрдВ рдХрд╣рд╛рдВ рд╕реЗ рдЖрдИ рд╣реИрдВ (рдЖрдЦрд┐рд░рдХрд╛рд░, рд╣рдордиреЗ рдЕрднреА рддрдХ рдХрд┐рд╕реА рднреА AppCDS рдХреЛ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ), рддреЛ рдореИрдВ рдЖрдкрдХреЛ рдпрд╛рдж рджрд┐рд▓рд╛рддрд╛ рд╣реВрдВ рдХрд┐ 12 рд╡реЗрдВ рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ, JDK <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореЗрдВ</a> рд╕рдорд╛рдкреНрдд CDS рд╕рдВрдЧреНрд░рд╣ <code>$JAVA_HOME/lib/server/classes.jsa</code> , рдмрд┐рд▓реНрдЯ рдХрдХреНрд╖рд╛рдУрдВ рдХреА рддреИрдпрд╛рд░ рд╕реВрдЪреА рд╕реЗ рдХрдо рдирд╣реАрдВ: </p><br><pre> <code class="bash hljs">cat <span class="hljs-variable"><span class="hljs-variable">$JAVA_HOME</span></span>/lib/classlist | wc -l 1170</code> </pre> <br><p>  рдЕрдм, рдЖрд╡реЗрджрди рдХреА рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрдерд┐рддрд┐ рдХрд╛ рдЖрдХрд▓рди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдЗрд╕рдХреЗ рд▓рд┐рдП AppCDS рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рддреБрд▓рдирд╛ рдХрд░рдХреЗ, рдпрд╣ рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдХреНрдпрд╛ рджреЗрддрд╛ рд╣реИред </p><br><h4 id="osnovnoy-opyt">  рдХреЛрд░ рдЕрдиреБрднрд╡ </h4><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдбрд╛рдпрдиреЗрдорд┐рдХ AppCDS рдЖрд░реНрдХрд╛рдЗрд╡ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░рд▓реЗрдЦрди рдХреЗ</a> рд▓рд┐рдП рд╣рдореЗрдВ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЖрдкрдХреЛ <code>-XX:ArchiveClassesAtExit</code> рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдХреЗрд╡рд▓ рдПрдХ рдЯреНрд░рд╛рдпрд▓ рд░рди рдХреЛ рдХрд░рдиреЗ рдХреА <code>-XX:ArchiveClassesAtExit</code> рд╣реИ <code>-XX:ArchiveClassesAtExit</code> ред  рдЕрдЧрд▓реЗ рд▓реЙрдиреНрдЪ рд╕реЗ, рд╕рдВрдЧреНрд░рд╣ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рд▓рд╛рдн рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕реЗ рдЙрд╕реА рдкреНрд░рд╛рдпреЛрдЧрд┐рдХ рдЦрд░рдЧреЛрд╢ (AnaLog) рдкрд░ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЪрд╛рд╣рд┐рдП: </p><br><ol><li><p>  рд░рди рдХрдорд╛рдВрдб рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╡рд┐рдХрд▓реНрдк рдЬреЛрдбрд╝реЗрдВ: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$JAVA_OPTS</span></span></span><span class="hljs-string"> -XX:ArchiveClassesAtExit=work/classes.jsa"</span></span></code> </pre> <br></li><li><p>  рд▓реЙрдЧрд┐рдВрдЧ рдмрдврд╝рд╛рдПрдБ: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$JAVA_OPTS</span></span></span><span class="hljs-string"> -Xlog:cds=debug:file=log/cds.log"</span></span></code> </pre><br><p>  рдпрд╣ рд╡рд┐рдХрд▓реНрдк рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдмрдВрдж рд╣реЛрдиреЗ рдкрд░ рд╕реАрдбреАрдПрд╕ рд╕рдВрдЧреНрд░рд╣ рдмрдирд╛рдиреЗ рдХреА рд▓реЙрдЧрд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдмрд╛рдзреНрдп рдХрд░реЗрдЧрд╛ред </p><br></li><li><p>  рд╕рдВрджрд░реНрдн рдмрд┐рдВрджреБ рдХреЗ рд╕рд╛рде рд╕рдорд╛рди рдкрд░реАрдХреНрд╖рдг рдЪрд▓рд╛рдПрдВ: </p><br><ol><li>  <code>bin/analog</code> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рд╛рде рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЪрд▓рд╛рдПрдВ </li><li>  Open <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http: // localhost: 8083</a> рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ, рдкреЛрдХ рдмрдЯрди рдФрд░ рдбреМрд╕ </li><li>  <code>bin/analog</code> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрдВрд╕реЛрд▓ рдореЗрдВ <code>Ctrl+C</code> рджрдмрд╛рдХрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд░реЛрдХреЗрдВ <br>  рдЙрд╕рдХреЗ рдмрд╛рдж, рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреА рдЪреЗрддрд╛рд╡рдиреА рдХреЗ рд╕рд╛рде рдПрдХ рдЬрдмрд░рджрд╕реНрдд рдлреБрдЯрдХреНрд▓реЙрде рдХрдВрд╕реЛрд▓ рдореЗрдВ рдЧрд┐рд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ <code>log/cds.log</code> рдХреЛ рд╡рд┐рд╡рд░рдг рд╕реЗ рднрд░рдирд╛ рдЪрд╛рд╣рд┐рдП;  рд╡реЗ рд╣рдореЗрдВ рдЕрднреА рддрдХ рдмреНрдпрд╛рдЬ рдирд╣реАрдВ рджреЗрддреЗ рд╣реИрдВ </li></ol><br></li><li><p>  рдкрд░реАрдХреНрд╖рдг рдореЛрдб рдХреЛ рдЙрдкрдпреЛрдЧреА рд╕реЗ рд▓реЙрдиреНрдЪ рдореЛрдб рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ: </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=<span class="hljs-string"><span class="hljs-string">"-XX:SharedArchiveFile=work/classes.jsa -Xlog:class+load=info:file=log/class-load.log -Xlog:class+path=debug:file=log/class-path.log"</span></span></code> </pre><br><p>  рдпрд╣рд╛рдВ рд╣рдо <code>JAVA_OPTS</code> рдЪрд░ рдХреЛ рдкреВрд░рдХ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдирдП рдореВрд▓реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдорд┐рдЯрд╛ рджреЗрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ (1) рдПрдХ рд╕рд╛рдЭрд╛ рд╕рдВрдЧреНрд░рд╣ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ, (2) рд▓реЙрдЧрд┐рдВрдЧ рдХреНрд▓рд╛рд╕ рд╕реНрд░реЛрдд рдФрд░ (3) рд▓реЙрдЧрд┐рдВрдЧ рдХреНрд▓рд╛рд╕-рдкрд╛рде рдЪреЗрдХред </p><br></li><li><p>  рдЕрдиреБрдЪреНрдЫреЗрдж 3 рд╕реЗ рдпреЛрдЬрдирд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЖрд╡реЗрджрди рдХрд╛ рдПрдХ рдЙрдкрдпреЛрдЧреА рд▓реЙрдиреНрдЪ рдХрд░реЗрдВред </p><br></li><li><p>  рдкрд░рд┐рдгрд╛рдо ( <code>log/</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ) рд▓реЗрдВ </p><br><ul><li><p>  рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдирд╛ рдХрд┐ AppCDS рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд▓рд╛рдЧреВ ( <code>class-path.log</code> ): </p><br><pre> <code class="plaintext hljs">[0.011s][info][class,path] type=BOOT [0.011s][info][class,path] Expecting BOOT path=/home/upc/tools/jdk-13/lib/modules [0.011s][info][class,path] ok [0.011s][info][class,path] type=APP [0.011s][info][class,path] Expecting -Djava.class.path=/home/upc/tmp/analog/lib/analog.jar [0.011s][info][class,path] ok</code> </pre><br><p>  рд▓рд╛рдЗрдиреЛрдВ рдХреЗ рдмрд╛рдж рдХреЗ <code>ok</code> <code>type=BOOT</code> рдФрд░ <code>type=APP</code> рдХреНрд░рдорд╢рдГ рдирд┐рд░реНрдорд┐рдд рдФрд░ рд▓рд╛рдЧреВ рд╕реАрдбреАрдПрд╕ рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ рдХреЗ рд╕рдлрд▓ рдЙрджреНрдШрд╛рдЯрди, рд╕рддреНрдпрд╛рдкрди рдФрд░ рд▓реЛрдбрд┐рдВрдЧ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИред </p><br></li><li><p>  рднрд░реА рд╣реБрдИ рдХрдХреНрд╖рд╛рдУрдВ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ ( <code>class-load.log</code> ): </p><br><pre> <code class="bash hljs">cat class-load.log | wc -l 10403</code> </pre><br></li><li><p>  рдЙрдирдореЗрдВ рд╕реЗ рдХрд┐рддрдиреЗ рд╕рд╛рдЭрд╛ рд╕рдВрдЧреНрд░рд╣ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдП рдЧрдП рд╣реИрдВ (рдЗрд╕рдХреЗ рдЕрдиреБрд╕рд╛рд░): </p><br><pre> <code class="bash hljs">grep -o <span class="hljs-string"><span class="hljs-string">'source: shared'</span></span> -c class-load.log 6910</code> </pre><br></li><li><p>  рдФрд╕рдд рдкреНрд░рд╛рд░рдВрдн рд╕рдордп (рдкреНрд░рд╛рд░рдВрдн рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рдмрд╛рдж? <code>analog.log</code> рдлрд╝рд╛рдЗрд▓ рджреНрд╡рд╛рд░рд╛): </p><br><pre> <code class="bash hljs">grep -oE <span class="hljs-string"><span class="hljs-string">'\(JVM running for .+\)'</span></span> analog.log | grep -oE <span class="hljs-string"><span class="hljs-string">'[0-9]\.[0-9]+'</span></span> | awk <span class="hljs-string"><span class="hljs-string">'{ total += $1; count++ } END { print total/count }'</span></span> 4.04167</code> </pre><br></li></ul><br></li></ol><br><p>  рд▓реЗрдХрд┐рди рдЗрд╕ рдХрджрдо рдкрд░, рд╕реАрдбреАрдПрд╕ рдХреА рдХреНрд╖рдорддрд╛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА <code>6910/10403тЙИ0,66</code> <strong>= 66% рдереА</strong> , рдЕрд░реНрдерд╛рдд, рдпрд╣ рд╕рдВрджрд░реНрдн рдмрд┐рдВрджреБ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ <strong>55%</strong> рдХреА рд╡реГрджреНрдзрд┐ рд╣реБрдИред  рдЙрд╕реА рд╕рдордп, рдФрд╕рдд рд▓реЙрдиреНрдЪ рд╕рдордп <code>(4,5225-4,04167)=0,48</code> рд╕реЗрдХрдВрдб, рдЕрд░реНрдерд╛рдд  рдЖрд░рдВрднрд┐рдХ рдореВрд▓реНрдп рдХреЗ <strong>%10.6%</strong> рд╕реЗ рддреЗрдЬ рд╣реИред </p><br><h4 id="analiz-rezultatov">  рдкрд░рд┐рдгрд╛рдо рд╡рд┐рд╢реНрд▓реЗрд╖рдг </h4><br><p>  <em>рдЖрдЗрдЯрдо рдХрд╛ рдХрд╛рд░реНрдп рд╢реАрд░реНрд╖рдХ рд╣реИ: "рдЗрддрдирд╛ рдХрдо рдХреНрдпреЛрдВ?"</em> </p><br><p>  рд╣рдордиреЗ, рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рдм рдХреБрдЫ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рд╕рднреА рдХрдХреНрд╖рд╛рдПрдВ рдирд╣реАрдВ рдереАрдВред  рдЙрдирдХреА рд╕рдВрдЦреНрдпрд╛ рдкреНрд░рдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдорд╢реАрди рдХреА рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рд╢рдХреНрддрд┐ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рд▓реЙрдиреНрдЪ рдХреЗ рд╕рдордп рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЗрд╕ рд╕рдВрдЦреНрдпрд╛ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реЗрдВрдЧреЗред </p><br><p>  рдпрджрд┐ рдЖрдкрдХреЛ рдпрд╛рдж рд╣реИ, рддреЛ рд╣рдордиреЗ рдкрд░реАрдХреНрд╖рдг рд░рди рдХреЗ рдмрд╛рдж рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдмрдВрдж рд╣реЛрдиреЗ рдХреЗ рджреМрд░рд╛рди рдмрдирд╛рдИ рдЧрдИ <code>log/cds.log</code> рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░ рджрд┐рдпрд╛ред  рдЗрд╕ рд╣реЙрдЯрд╕реНрдкреЙрдЯ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ, JVM рдиреЗ рдХреГрдкрдпрд╛ рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдЧ рдХреЗ рд▓рд┐рдП рдЪреЗрддрд╛рд╡рдиреА рд╡рд░реНрдЧ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЬреЛ CDS рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рдирд╣реАрдВ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ред  рдпрд╣рд╛рдВ рдРрд╕реЗ рдЕрдВрдХреЛрдВ рдХреА рдХреБрд▓ рд╕рдВрдЦреНрдпрд╛ рджреА рдЧрдИ рд╣реИ: </p><br><pre> <code class="bash hljs">grep -o <span class="hljs-string"><span class="hljs-string">'[warning]'</span></span> cds.log -c 3591</code> </pre><br><p>  рдпрд╣ рджреЗрдЦрддреЗ рд╣реБрдП рдХрд┐ <code>class-load.log</code> рд▓реЙрдЧ рд▓реЙрдЧ рдореЗрдВ рдХреЗрд╡рд▓ 10K + рд╡рд░реНрдЧреЛрдВ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ 66% рд╕рдВрдЧреНрд░рд╣ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдП рдЧрдП рд╣реИрдВ, рдпрд╣ рд╕рдордЭрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд╣реИ рдХрд┐ <code>cds.log</code> рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз 3600 рд╡рд░реНрдЧ рд╕реАрдбреАрдПрд╕ рдХреНрд╖рдорддрд╛ рдХреЗ "рд▓рд╛рдкрддрд╛" 44% рд╣реИрдВред  рдЕрдм рдЖрдкрдХреЛ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдХреНрдпреЛрдВ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </p><br><p>  рдпрджрд┐ рдЖрдк cds.log рд▓реЙрдЧ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рд╡рд░реНрдЧреЛрдВ рдХреЛ рдЫреЛрдбрд╝ рджреЗрдиреЗ рдХреЗ рдХреЗрд╡рд▓ 4 рдЕрджреНрд╡рд┐рддреАрдп рдХрд╛рд░рдг рд╣реИрдВред  рдпрд╣рд╛рдБ рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рдЙрджрд╛рд╣рд░рдг рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">Skipping org/springframework/web/client/HttpClientErrorException: Not linked Pre JDK 6 class not supported by CDS: 49.0 org/jrobin/core/RrdUpdater Skipping java/util/stream/Collectors$$Lambda$554: Unsafe anonymous class Skipping ch/qos/logback/classic/LoggerContext: interface org/slf4j/ILoggerFactory is excluded</code> </pre><br><p>  рд╕рднреА 3591 рдЫреВрдЯреА рд╣реБрдИ рдХрдХреНрд╖рд╛рдУрдВ рдореЗрдВ, рдпреЗ рдХрд╛рд░рдг рдРрд╕реА рдЖрд╡реГрддреНрддрд┐ рдХреЗ рд╕рд╛рде рдпрд╣рд╛рдВ рдкрд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/sp/f6/6k/spf66kzmkajvdxki1xdiwjyx9lg.png"></p><br><p>  рдЙрди рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ: </p><br><ul><li><p> <code>Unsafe anonymous class</code> <br>   JVM   тАЬтАЭ   ,       -,         . </p><br></li><li><p> <code>Not linked</code> <br>      , тАЬтАЭ     ,  ,   .      ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">StackOverflow </a>    . , ,       тАЬтАЭ () JAR-  ,   AppCDS.       ,     (  ). </p><br></li><li><p> <code>Pre JDK 6 class</code> <br>  ,   CDS    Java 5.        class-   ,   CDS    .    ,    ,  6,  Java,       .       -   ,      runtime- (, slf4j). </p><br></li><li><p> <code>Skipping ... : super class/interface ... is excluded</code> <br>   ,  тАЬтАЭ     .          CDS',    .  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><pre> <code class="plaintext hljs">[warning][cds] Pre JDK 6 class not supported by CDS: 49.0 org/slf4j/spi/MDCAdapter [warning][cds] Skipping ch/qos/logback/classic/util/LogbackMDCAdapter: interface org/slf4j/spi/MDCAdapter is excluded</code> </pre><br></li></ul><br><p>  <strong>рдирд┐рд╖реНрдХрд░реНрд╖</strong> </p><br><blockquote>  CDS       100%. </blockquote><p> ,     ,  ,         ,  ,     .      . </p><br><h3 id="mnozhestvennyy-eksperiment">   </h3><br><p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">JEP-310</a> , AppCDS                         JDK.   .       ,     .    CDS (, ,     )       . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рдЦрд░рдЧреЛрд╢ рдХреЛ рдХреНрд▓реЛрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП (рдХрдИ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ AnaLog рдЪрд▓рд╛рдПрдВ), рд╣рдореЗрдВ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдХреБрдЫ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ; </font><font style="vertical-align: inherit;">рдпрд╣ рдЙрдард╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ "рдХреЛрд╣рдиреА" рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдЖрдк рдЗрд╕реЗ рдХрд┐рд╕реА рднреА рдлрд╛рдЗрд▓ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдпрд╛ рдХреЙрдкреА рдХрд┐рдП рдмрд┐рдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ; </font><font style="vertical-align: inherit;">JVM рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рджреНрд╡рд╛рд░рд╛ рдХрд┐рд╕реА рднреА рд╕реЗрдЯрд┐рдВрдЧ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рд╕реЗ рдЗрди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЛ рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд░рдирд╛ </font></font><code>ANALOG_OPTS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рд▓реЙрдиреНрдЪ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдЧреНрд░реЗрдбрд▓ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред</font></font></p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ANALOG_OPTS=<span class="hljs-string"><span class="hljs-string">"-Djavamelody.enabled=false -Dlogging.config=classpath:logging/logback-console.xml"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ANALOG_OPTS=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$ANALOG_OPTS</span></span></span><span class="hljs-string"> -Dnodes.this.agentPort=7801 -Dserver.port=8091"</span></span></code> </pre><br><p>      JavaMelody,             ,        ,       .     TCP-    ;       . </p><br><p>  ,    ,   JVM      AppCDS    .         <code>JAVA_OPTS</code>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">JVM Unified Logging Framework</a> : </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=<span class="hljs-string"><span class="hljs-string">"-Xlog:class+load=info:file=log/class-load-%p.log -Xlog:class+path=debug:file=log/class-path-%p.log"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> JAVA_OPTS=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$JAVA_OPTS</span></span></span><span class="hljs-string"> -XX:SharedArchiveFile=work/classes.jsa"</span></span></code> </pre><br><p>        <code>%p</code> ,    JVM      (PID).   AppCDS  ,     (         ). </p></div></div><br><h4 id="osnovnoy-opyt-1">   </h4><br><p>  ,          .                  .     : </p><br><ol><li><p>      <code>server.port</code>  <code>nodes.this.agentPort</code> ,      : </p><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ANALOG_OPTS=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$ANALOG_OPTS</span></span></span><span class="hljs-string"> -Dnodes.this.agentPort=7801 -Dserver.port=8091"</span></span></code> </pre><br><p> ,       (    ). </p><br></li><li><p>    <code>bin/analog</code> </p><br><p> <em>()</em>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://localhost:8091</a>  ,     </p><br></li><li><p>  PID  (  ), : </p><br><pre> <code class="bash hljs">pgrep -f analog 13792</code> </pre><br></li><li><p>      <code>pmap</code> (    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="> </a> ): </p><br><pre> <code class="bash hljs">pmap -XX 13792 | sed -n -e <span class="hljs-string"><span class="hljs-string">'2p;$p'</span></span> Address Perm Offset Device Inode Size KernelPageSize MMUPageSize Rss Pss Shared_Clean Shared_Dirty Private_Clean Private_Dirty Referenced Anonymous LazyFree AnonHugePages ShmemPmdMapped Shared_Hugetlb Private_Hugetlb Swap SwapPss Locked ProtectionKey VmFlagsMapping 3186952 1548 1548 328132 325183 3256 0 10848 314028 212620 314024 0 0 0 0 0 0 0 325183 0 KB</code> </pre><br><p>           ;   . </p><br></li><li><p>   1-4     (,  ). </p><br></li></ol><br><h4 id="analiz-rezultatov-1">   </h4><br><p>    <code>pmap</code>             .        CDS'    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">   </a> .    ,  ,        PSS: </p><br><blockquote> The "proportional set size" (PSS) of a process is the count of pages it has in memory, where each page is divided by the number of processes sharing it. So if a process has 1000 pages all to itself, and 1000 shared with one other process, its PSS will be 1500. </blockquote><p>  ,   ,  тАЬ тАЭ .        ,      . </p><br><p>    PSS       ,    : </p><br><div class="scrollable-table"><table><thead><tr><th> Iteration: </th><th>  1 </th><th>  2 </th><th>  3 </th><th>  4 </th><th>  5 </th></tr></thead><tbody><tr><td> PSS of inst#1: </td><td> 339 088 </td><td> 313 778 </td><td> 305 517 </td><td> 301 153 </td><td> 298 604 </td></tr><tr><td> PSS of inst#2: </td><td></td><td> 314 904 </td><td> 306 567 </td><td> 302 555 </td><td> 299 919 </td></tr><tr><td> PSS of inst#3: </td><td></td><td></td><td> 314 914 </td><td> 311 008 </td><td> 308 691 </td></tr><tr><td> PSS of inst#4: </td><td></td><td></td><td></td><td> 306 563 </td><td> 304 495 </td></tr><tr><td> PSS of inst#5: </td><td></td><td></td><td></td><td></td><td> 294 686 </td></tr><tr><td> <em>Average:</em> </td><td> 339 088 </td><td> 314 341 </td><td> 308 999 </td><td> 305 320 </td><td> 301 279 </td></tr></tbody></table></div><br><p>         ,      - : </p><br><ul><li>        тАЬтАЭ  </li><li>     , PSS   </li><li>  тАЬтАЭ ,     PSS      </li></ul><br><p>    ,      .         AppCDS.        ,       <code>-XX:SharedArchiveFile=work/classes.jsa</code>   <code>-Xshare:off</code> ,    CDS .              ,    . </p><br><p><img src="https://habrastorage.org/webt/vq/4s/n6/vq4sn66zppmcyl5aovqj6xpkwyq.png"></p><br><p>       : </p><br><ul><li><p>  PSS  AppCDS      CDS. <br>          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="></a> .  ,  ,    HelloWorld- JVM   CDS   2   ,   CDS.      PSS            CDS,     .        : </p><br></li><li><p>    PSS   AppCDS    2-  ; 3-      . <br>        ,      ,    ,     .  ,        AppCDS,   ,   ,      3-    . <br>  :    ,    CDS?      : </p><br></li><li><p>    CDS/AppCDS  JVM      ,  PSS       .  ,    ,      <code>pmap</code> ,   тАЬтАЭ   <code>sed</code> '.              : </p><br><pre> <code class="bash hljs">pmap -X `pgrep -f analog` 14981: <span class="hljs-comment"><span class="hljs-comment"># ... Address Perm Offset Device Inode Size Rss Pss ... Mapping # ... ... 7faf5e31a000 r-xp 00000000 08:03 269427 17944 14200 14200 ... libjvm.so # ... ... 7faf5f7f9000 r-xp 00000000 08:03 1447189 1948 1756 25 ... libc-2.27.so</span></span></code> </pre><br><p>       ( <code>Mapping</code> )  , тАЬтАЭ      .       JVM  ( <code>libjvm.so</code>   ),     ( <code>libc-2.27.so</code>  ).    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="></a>        : </p><br><blockquote> For the Java VM, the read-only parts of the loaded shared libraries (ie <code>libjvm.so</code> ) can be shared between all the VM instances running at the same time. This explains why, taking together, the two VM's consume less memory (ie have a smaller memory footprint) than the simple sum of their single resident set sizes when running alone. </blockquote><br></li></ul><br><p>           .     ,  , .  ,          ,         JVM     ,    Java-    .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">  </a>  GeekOut: </p><br><p><img src="https://habrastorage.org/webt/wp/ia/qo/wpiaqom-2teiw_iegjacskkt3sm.png"></p><br><p> , , ,      AppCDS    , ..     Java-.   ,             JVM,  , -      . </p><br><p>       VisualVM      Metaspace    AppCDS  ,      : </p><br><p> <strong> AppCDS</strong> </p><br><p><img src="https://habrastorage.org/webt/pt/wv/6r/ptwv6rmyk8j7f7yzgxrjkqrsvww.png"></p><br><p> <strong> AppCDS</strong> </p><br><p><img src="https://habrastorage.org/webt/dt/jn/0m/dtjn0mdpcgykbfynjbwdma2vmqm.png"></p><br><p>   ,         128     Metaspace   AppCDS    <code>64.2 MiB / 8.96 MiB</code> <strong>тЙИ7,2  </strong> ,   CDS .            (.  )       <code>66.4 MiB / 13.9 MiB</code> <strong>тЙИ4,8 </strong> .      ,    AppCDS      ,       Metaspace.            Metaspace,    ,    CDS . </p><br><h2 id="vmesto-zaklyucheniya">  рдПрдХ рдирд┐рд╖реНрдХрд░реНрд╖ рдХреЗ рдмрдЬрд╛рдп </h2><br><p>            Spring Boot  AppCDS тАУ  JVM,        . </p><br><ul><li>            JEP-350 Dynamic CDS Archives тАУ    JDK 13. </li><li>    Spring Boot  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">├│</a>          CDS (  ). ,           100%   -   <strong>66%</strong> .      ,      <strong>тЙИ11%</strong> (    15%,      ). </li><li>     ,       5-     PSS (      ).  ,  AppCDS     ,   <strong>  </strong>           , <strong> 8%</strong> (PSS).       ,    CDS,     ,     .        AppCDS  <strong> </strong> . </li><li>          Metaspace,  ,         AppCDS  <strong> 5  </strong> ,   CDS. </li></ul><br><p> ,    , AppCDS,  ,    тАЬkiller featureтАЭ.           Spring Boot.   ,   ,    AppCDS      .  , ,        AppCDS   <em></em>   Spring Boot.              ,      тАж </p><br><p> <em>  by <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Nick Fewings</a> on <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Unsplash</a></em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi472638/">https://habr.com/ru/post/hi472638/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi472620/index.html">рд╕рдВрдЧреНрд░рд╣рд╛рд▓рдп рдбреЗрдЯрд╛рдЖрд░реНрдЯред Mera CM 7209 рд╡реАрдбрд┐рдпреЛ рдЯрд░реНрдорд┐рдирд▓ рдХрд╛ рдирд┐рд░реАрдХреНрд╖рдг</a></li>
<li><a href="../hi472622/index.html">рдкреЗрд╢реЗ рдХреЗ рд▓рд┐рдП рд▓реЗрд╡рд▓рд┐рдВрдЧ рдкреНрд▓рд╛рди рдбрд╛рдЯрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░</a></li>
<li><a href="../hi472626/index.html">ASRock Z390 рдлреИрдВрдЯрдо рдЧреЗрдорд┐рдВрдЧ 7 рдорджрд░рдмреЛрд░реНрдб рдХреА рд╕рдореАрдХреНрд╖рд╛: 9900KS рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░реА</a></li>
<li><a href="../hi472628/index.html">рдкреАрдЖрдИрдПрд▓ рдЕрдЬрдЧрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдПрдирдХреЛрдбрд┐рдВрдЧ, рд╢рд┐рдлреНрдЯ рд╕рд┐рдлрд░, рдмреНрд░реВрдЯ рд╣реИрд╢ рдФрд░ рдЪрд┐рддреНрд░ рдирд┐рд░реНрдорд╛рдгред рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд╕рд╛рде r0ot-mi рдХреНрд░рд╛рдпреЛред рднрд╛рдЧ 1</a></li>
<li><a href="../hi472636/index.html">DotNext 2019 рдорд╛рд╕реНрдХреЛ рдХрд╛рд░реНрдпрдХреНрд░рдо рдЕрд╡рд▓реЛрдХрди: рдЖрдкрдХреЛ рдХреМрди рдмрддрд╛рдПрдЧрд╛?</a></li>
<li><a href="../hi472640/index.html">рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдХреЛ рдмрдврд╝рдиреЗ рдореЗрдВ 6 рд╕рд╛рд▓ рдореЗрдВ рдореИрдВрдиреЗ рдХреНрдпрд╛ рд╕реАрдЦрд╛</a></li>
<li><a href="../hi472642/index.html">рдлреНрд░реАрд▓рд╛рдВрд╕ рд╡реЗрдмрджреЗрд╡ - рдЖрдкрдХреЛ рдХрд┐рд╕рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП</a></li>
<li><a href="../hi472644/index.html">рдЕрдВрддрд░рд░рд╛рд╖реНрдЯреНрд░реАрдп рдХрдВрдкрдирд┐рдпреЛрдВ рдореЗрдВ рдЗрдВрдЯрд░реНрдирд╢рд┐рдк: рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░ рдХреЛ рднрд░рдиреЗ рдФрд░ рдкреНрд░рддрд┐рд╖реНрдард┐рдд рдкреНрд░рд╕реНрддрд╛рд╡ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреИрд╕реЗ рдирд╣реАрдВ</a></li>
<li><a href="../hi472650/index.html">рдбрд░, рджрд░реНрдж рдФрд░ рддрдХрдиреАрдХреА рд╕рд╣рд╛рдпрддрд╛ рд╕реЗ рдШреГрдгрд╛</a></li>
<li><a href="../hi472658/index.html">рднрд╡рд┐рд╖реНрдп рдХреЗ рдкрд╡рд┐рддреНрд░ 2019 рдорд╛рд╕реНрдХреЛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд▓рдЧрднрдЧ рд╕рдм рдХреБрдЫ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>