<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค๐พ ๐๐พ ๐๐ป 6 ุทุฑู ูุฅูุบุงุก ุงูุงุดุชุฑุงู ูู ุงูููุงุญุธุงุช ูู ุงูุฒุงูู ๐ ๐ง ๐ง๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูุฌุงูุจ ุงูุนูุณู ููุงุดุชุฑุงู ุงูููุญูุธ 


 ูุฏู Observables ุทุฑููุฉ ุงุดุชุฑุงู ุชุณูู ูุน ูุธููุฉ ุฑุฏ ุงุชุตุงู ููุญุตูู ุนูู ุงูููู ุงููุฑุณูุฉ ( ุชูุจุนุซ ูููุง ) ุฅูู ุงูููุงุญุธุฉ. ูู ุงูุฒุงูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>6 ุทุฑู ูุฅูุบุงุก ุงูุงุดุชุฑุงู ูู ุงูููุงุญุธุงุช ูู ุงูุฒุงูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484762/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/il/si/if/ilsiifu2g6vegmekipqeks6j-n8.png"></p><br><h3 id="obratnaya-storona-podpiski-na-observable" style=";text-align:right;direction:rtl">  ุงูุฌุงูุจ ุงูุนูุณู ููุงุดุชุฑุงู ุงูููุญูุธ </h3><br><p style=";text-align:right;direction:rtl">  ูุฏู Observables ุทุฑููุฉ <em>ุงุดุชุฑุงู</em> ุชุณูู ูุน ูุธููุฉ ุฑุฏ ุงุชุตุงู ููุญุตูู ุนูู ุงูููู ุงููุฑุณูุฉ ( <strong>ุชูุจุนุซ ูููุง</strong> ) ุฅูู ุงูููุงุญุธุฉ.  ูู ุงูุฒุงูู ุ ูุชู ุงุณุชุฎุฏุงูู ูู ุงูููููุงุช / ุงูุชูุฌููุงุช ุ ูุฎุงุตุฉ ูู ูุญุฏุฉ ุงูุชูุฌูู ุ NgRx ู HTTP. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุงุดุชุฑููุง ูู ุฏูู ุ ูุณูุธู ููุชูุญูุง ูุณูุชู ุงูุงุชุตุงู ุจู ุนูุฏูุง ูุชู ููู ุงูููู ูู ุฃู ุฌุฒุก ูู ุงูุชุทุจูู ุฅูููุง ุ ุญุชู ูุชู ุฅุบูุงูู ุนู ุทุฑูู ุงูุงุชุตุงู <em>ุจุฅูุบุงุก ุงูุงุดุชุฑุงู</em> . </p><br><pre style=";text-align:right;direction:rtl"><code class="javascript hljs">@Component({...}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ subscription: Subscription ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription = observable.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } }</code> </pre> <a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงูุชุทุจูู ุ ูุณุชุฎุฏู ุงููุงุตู ุงูุฒููู ูุฅุฑุณุงู ุงูููู ูู ุซุงููุฉ.  ูุญู ูุดุชุฑู ููู ููุญุตูู ุนูู ุงููููุฉ ุงููุฑุณูุฉ ุ ูุชููู ูุธููุฉ ุฑุฏ ุงูุงุชุตุงู ุงูุฎุงุตุฉ ุจูุง ุจูุชุงุจุฉ ุงููุชูุฌุฉ ุนูู ูุญุฏุฉ ุชุญูู ุงููุชุตูุญ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุ ุฅุฐุง ุชู ุฅุชูุงู AppComponent ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุนุฏ ุงูุฎุฑูุฌ ูู ุงููููู ุฃู ุงุณุชุฎุฏุงู ุทุฑููุฉ <em>ุงูุฏูุงุฑ ()</em> ุ ุณูุธู ูุฑู ุณุฌู ูุญุฏุฉ ุงูุชุญูู ูู ุงููุณุชุนุฑุถ.  ูุฐุง ูุฃูู ุนูู ุงูุฑุบู ูู ุชุฏููุฑ AppComponent ุ ูู ูุชู ุฅูุบุงุก ุงูุงุดุชุฑุงู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ูุชู ุฅุบูุงู ุงูุงุดุชุฑุงู ุ ูุณูุชู ุงุณุชุฏุนุงุก ูุธููุฉ ุฑุฏ ุงูุงุชุตุงู ุจุดูู ูุณุชูุฑ ุ ููุง ุณูุคุฏู ุฅูู ุญุฏูุซ ูุดููุงุช ุฎุทูุฑุฉ ูู ุชุณุฑุจ ุงูุฐุงูุฑุฉ ูุงูุฃุฏุงุก.  ูุชุฌูุจ ุงูุชุณุฑูุจุงุช ุ ูู ุงูุถุฑูุฑู "ุฅูุบุงุก ุงูุงุดุชุฑุงู" ูู ุงูููุงุญุธุฉ ูู ูู ูุฑุฉ. </p><br><h3 id="1-ispolzovanie-metoda-unsubscribe" style=";text-align:right;direction:rtl">  1. ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ุฅูุบุงุก ุงูุงุดุชุฑุงู </h3><br><p style=";text-align:right;direction:rtl">  ุฃู ุงุดุชุฑุงู ูุฏูู ูุธููุฉ <em>ุฅูุบุงุก ุงูุงุดุชุฑุงู ()</em> ูุชุญุฑูุฑ ุงูููุงุฑุฏ ูุฅูุบุงุก ุชูููุฐ ุงูููุงุญุธุฉ.  ูููุน ุญุฏูุซ ุชุณุฑุจ ููุฐุงูุฑุฉ ุ ูุฌุจ ุฅูุบุงุก ุงูุงุดุชุฑุงู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <em>ุฅูุบุงุก ุงูุงุดุชุฑุงู</em> ูู ุงูููุงุญุธุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฒุงูู ุ ุชุญุชุงุฌ ุฅูู ุฅูุบุงุก ุงูุงุดุชุฑุงู ูู Observable ุนูุฏ ุฅุชูุงู ุฃุญุฏ ุงูููููุงุช.  ูุญุณู ุงูุญุธ ุ ุชุญุชูู Angular ุนูู ุฎุทุงู <em>ngOnDestroy</em> ูุณูู ูุจู ุฅุชูุงู ุงููููู ุ ูุงูุฐู ูุณูุญ ูููุทููุฑูู ุจุถูุงู ุชูุธูู ุงูุฐุงูุฑุฉ ุ ูุชุฌูุจ ุชุฌููุฏ ุงูุงุดุชุฑุงูุงุช ุ ูุงูููุงูุฐ ุงูููุชูุญุฉ ุ ู "ุงูููุทุงุช ุงูููุฌูุฏุฉ ูู ุงููุฏู". </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({โฆ}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnDestroy</span></span></span><span class="hljs-class"> </span></span>{ subscription: Subscription ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription = observable.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } ngOnDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription.unsubscribe() } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุถููุง <em>ngOnDestroy</em> ุฅูู <em>AppComponent</em> ุงูุฎุงุต ุจูุง ูุฏุนุงูุง ุฅูู ุทุฑููุฉ <em>ุฅูุบุงุก ุงูุงุดุชุฑุงู</em> ูู <em>Observable this.subscription</em> .  ุนูุฏูุง ูุชู ุฅุชูุงู AppComponent (ูู ุฎูุงู ุงูููุฑ ููู ุงูุงุฑุชุจุงุท ูุทุฑููุฉ <em>ุงูุชุฏููุฑ ()</em> ุ ุฅูุฎ) ุ ูู ูุชู ุชุฌููุฏ ุงูุงุดุชุฑุงู ุ ูุณูุชู ุฅููุงู ุงููุงุตู ุ ููู ูููู ููุงู ุงููุฒูุฏ ูู ุณุฌูุงุช ูุญุฏุฉ ุงูุชุญูู ูู ุงููุณุชุนุฑุถ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ูุงุฐุง ูู ูุงู ูุฏููุง ุนุฏุฉ ุงุดุชุฑุงูุงุชุ </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({โฆ}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnDestroy</span></span></span><span class="hljs-class"> </span></span>{ subscription1$: Subscription; subscription2$: Subscription; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable1$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable2$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">400</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription1$ = observable.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"From interval 1000"</span></span> x)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription2$ = observable.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"From interval 400"</span></span> x)); } ngOnDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription1$.unsubscribe(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription2$.unsubscribe(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงู ููุนุงู ูู ุงูุงุดุชุฑุงูุงุช ูู AppComponent ูููุงููุง ุบูุฑ ูุดุชุฑู ูู ุฑุจุท <em>ngOnDestroy</em> ุ ููุง ูููุน ุญุฏูุซ ุชุณุฑุจ ููุฐุงูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููููู ุฃูุถูุง ุฌูุน ุฌููุน ุงูุงุดุชุฑุงูุงุช ูู ุตููู ูุฅูุบุงุก ุงูุงุดุชุฑุงู ูููุง ูู ุญููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({โฆ}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnDestroy</span></span></span><span class="hljs-class"> </span></span>{ subscription1$: Subscription; subscription2$: Subscription; subscriptions: Subscription[] = []; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable1$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable2$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">400</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription1$ = observable.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"From interval 1000"</span></span> x)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription2$ = observable.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"From interval 400"</span></span> x)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscriptions.push(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription1$); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscriptions.push(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription2$); } ngOnDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscriptions.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">subscription</span></span></span><span class="hljs-function">) =&gt;</span></span> subscription.unsubscribe()); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุทุฑููุฉ ุงูุงุดุชุฑุงู ุจุฅุฑุฌุงุน ูุงุฆู RxJS ูู ููุน ุงุดุชุฑุงู.  ุฅูู ููุฑุฏ ููุฑุฉ ูุงุญุฏุฉ.  ูููู ุชุฌููุน ุงูุงุดุชุฑุงูุงุช ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <em>ุงูุฅุถุงูุฉ</em> ุ ูุงูุชู ุณุชูุญู ุงูุงุดุชุฑุงู ุงูุชุงุจุน ุจุงูุฃุฎุฑู ุงูุญุงููุฉ.  ุนูุฏ ุฅูุบุงุก ุงูุงุดุชุฑุงู ุ ูุชู ุฅูุบุงุก ุงุดุชุฑุงู ุฌููุน ุฃุทูุงูู ุฃูุถูุง.  ุฏุนูุง ูุญุงูู ุฅุนุงุฏุฉ ูุชุงุจุฉ AppComponent ูุฏููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({โฆ}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnDestroy</span></span></span><span class="hljs-class"> </span></span>{ subscription: Subscription; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable1$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable2$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">400</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscription1$ = observable.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"From interval 1000"</span></span> x)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscription2$ = observable.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"From interval 400"</span></span> x)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription.add(subscription1$); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription.add(subscription2$); } ngOnDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription.unsubscribe() } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐูู ุณูู ููุชุจ <em>this.subscripton1 $</em> ู <em>this.subscripton2 $</em> ูู ููุช ุชุฏููุฑ ุงููููู. </p><br><h3 id="2-ispolzovanie-async--pipe" style=";text-align:right;direction:rtl">  2. ุงุณุชุฎุฏุงู ุงููุชุฒุงูู |  ุฃูุจูุจ </h3><br><p style=";text-align:right;direction:rtl">  ุงุดุชุฑุงู <em>ูุฒุงููุฉ</em> ุชูุฌูู ุงูุฅุฎุฑุงุฌ ุฅูู ุงูููุงุญุธุฉ ุฃู ุงููุนุฏ ูุฅุฑุฌุงุน ุงููููุฉ ุงูุฃุฎูุฑุฉ ุงูุชู ุชู ุชูุฑูุฑูุง.  ุนูุฏูุง ูุชู ุชูุฏูู ูููุฉ ุฌุฏูุฏุฉ ุ ูุชุญูู <em>ุงูุชุฒุงูู ุบูุฑ ุงููุจุงุดุฑ</em> ูููููู ูู ุชุชุจุน ุงูุชุบููุฑ.  ูู ุญุงูุฉ ุฅุชูุงู ุงููููู ุ <em>ูุชู</em> ุฅูุบุงุก ุงุดุชุฑุงู <em>ูุฒุงููุฉ</em> ุงูุฃูุงุจูุจ ุชููุงุฆููุง. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({ ..., <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-string"><span class="hljs-string">` &lt;div&gt; Interval: {{observable$ | async}} &lt;/div&gt; `</span></span> }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ observable$; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observable$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุชููุฆุฉ ุ ุณูููู AppComponent ุจุฅูุดุงุก "ููุงุญุธุฉ" ูู ุทุฑููุฉ ุงููุงุตู.  ูู ููุท <em>$ ูููู ููุงุญุธุชู</em> ุ ูุชู ุชูุฑูุฑ <em>ุงููุชุฒุงูู</em> .  ูุดุชุฑู ูู <em>ุงูููุงุญุธุฉ $</em> ููุนุฑุถ ูููุชู ูู DOM.  ุณูููู ุฃูุถูุง ุจุฅูุบุงุก ุงูุงุดุชุฑุงู ุนูุฏ ุฅุชูุงู AppComponent.  ูุญุชูู ุชูุฌูู ุงูุฅุฎุฑุงุฌ ุบูุฑ <em>ุงููุชุฒุงูู</em> ูู ูุฆุชู ุนูู ุฑุจุท <em>ngOnDestroy</em> ุ ูุฐูู ุณูุชู ุงุณุชุฏุนุงุคู ุนูุฏ ุฅุชูุงู ุทุฑููุฉ ุงูุนุฑุถ ุงูุฎุงุตุฉ ุจู. <br>  <em>ูุนุชุจุฑ</em> ุงุณุชุฎุฏุงู ุงูุฃูุงุจูุจ <em>ุบูุฑ ุงููุชุฒุงูู</em> ููุงุณุจูุง ููุบุงูุฉ ุ ูุฃูู ุณูุดุชุฑู ูู ููุณู ูู ุฅูุบุงุก ุงูุงุดุชุฑุงู ูุฅูุบุงุก ุงูุงุดุชุฑุงู ููู.  ูุงูุขู ูุง ูููููุง ุงูููู ุฅุฐุง ูุณููุง ุฅูุบุงุก ุงูุงุดุชุฑุงู ูู <em>ngOnDestroy</em> . </p><br><h3 id="3-ispolzovanie-operatorov-rxjs-take" style=";text-align:right;direction:rtl">  3. ุจุงุณุชุฎุฏุงู RxJS ุชุฃุฎุฐ * ุงูุจูุงูุงุช </h3><br><p style=";text-align:right;direction:rtl">  ูุญุชูู RxJS ุนูู ุนูุงูู ุชุดุบูู ูููุฏุฉ ููููู ุงุณุชุฎุฏุงููุง ุจุทุฑููุฉ ุชุนุฑูููุฉ ูุฅูุบุงุก ุงูุงุดุชุฑุงู ูู ูุดุฑูุนูุง Angular.  ูุงุญุฏ ูููู ูู ูุดุบูู ุนุงุฆูุฉ * take **: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ุฎุฐ (ู)</strong> </li><li style=";text-align:right;direction:rtl">  <strong>takeUntil (ุงููุฎุทุฑ)</strong> </li><li style=";text-align:right;direction:rtl">  <strong>takeWhile (ุงููุณูุฏ)</strong> </li></ul><br><p style=";text-align:right;direction:rtl">  <strong>ุฎุฐ (ู)</strong> <br>  ูุฐุง ุงููุดุบู ููุจุนุซ ููู ุงูุงุดุชุฑุงู ุงูุฃุตูู ุงููุญุฏุฏ ุนุฏุฏ ุงููุฑุงุช ูููุชูู.  ูู ุฃุบูุจ ุงูุฃุญูุงู ุ ูุชู ุชูุฑูุฑ ูุงุญุฏ (1) ููุงุดุชุฑุงู ูุงูุฎุฑูุฌ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ูุฐุง ุงููุดุบู ูููุฏูุง ุฅุฐุง ุฃุฑุฏูุง ุฃู ูููู Observable ุจุชูุฑูุฑ ูููุฉ ูุฑุฉ ูุงุญุฏุฉ ุ ุซู ุฅูุบุงุก ุงูุงุดุชุฑุงู ูู ุงูุฏูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({...}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ subscription$; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription$ = observable$.pipe(take(<span class="hljs-number"><span class="hljs-number">1</span></span>)). subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูู <em>ุงูุงุดุชุฑุงู $</em> ุฅูุบุงุก ุงูุงุดุชุฑุงู ุนูุฏูุง ููุฑ ุงููุงุตู ุงูุฒููู ุงููููุฉ ุงูุฃููู. </p><br><p style=";text-align:right;direction:rtl">  <u>ูุฑุฌู ููุงุญุธุฉ</u> : ุญุชู ุฅุฐุง ุชู ุฅุชูุงู AppComponent ุ ูุฅู <em>ุงูุงุดุชุฑุงู ุจุงูุฏููุงุฑ</em> ูู ููุบู ุงูุงุดุชุฑุงู ุญุชู ูุชุฌุงูุฒ ุงููุงุตู ุงูุฒููู ุงููููุฉ.  ูุฐูู ุ ูู ุงูุฃูุถู ุงูุชุฃูุฏ ูู ุฅูุบุงุก ุงุดุชุฑุงู ูู ุดูุก ูู ุงูุฎุทุงู <em>ngOnDestroy</em> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({โฆ}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnDestroy</span></span></span><span class="hljs-class"> </span></span>{ subscription$; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> observable$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription$ = observable$.pipe(take(<span class="hljs-number"><span class="hljs-number">1</span></span>)).subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } ngOnDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription$.unsubscribe(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  <strong>takeUntil (ุงููุฎุทุฑ)</strong> <br>  ูุฐุง ุงูุจูุงู ููุจุนุซ ุงูููู ูู ุงูููุงุญุธุฉ ุงูุฃุตููุฉ ุญุชู ูููู <em>ุงููุฎุทุฑ</em> ุจุฅุฑุณุงู ุฑุณุงูุฉ ุฅุชูุงู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({โฆ}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnDestroy</span></span></span><span class="hljs-class"> </span></span>{ notifier = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Subject(); ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); observable$.pipe(takeUntil(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notifier)).subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } ngOnDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notifier.next(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.notifier.complete(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฏููุง ููุถูุน ุฅุถุงูู ููุฅุดุนุงุฑุงุช ุ ูุงูุฐู ุณูุฑุณู ุฃูุฑูุง ูุฅูุบุงุก ุงูุงุดุชุฑุงู ูู <em>ูุฐุง</em> . ุงูุงุดุชุฑุงู.  ูุญู ุงูุฃูุงุจูุจ ูููู ููุงุญุธุชูุง ูู takeUntil ุญุชู ูุชู ุชูููุนูุง.  ุณูู TakeUntil ุชูุจุนุซ ูููุง ุฑุณุงุฆู ุงููุงุตู ุญุชู ูุฎุทุฑ <em>ุงููุฎุทุฑ</em> ุงูุงุดุชุฑุงู <em>ููุญูุธ $</em> .  ูู ุงูุฃูุถู ูุถุน <em>ุงููุฎุทุฑ</em> ูู ุฎุทุงู <em>ngOnDestroy</em> . </p><br><p style=";text-align:right;direction:rtl">  <strong>takeWhile (ุงููุณูุฏ)</strong> <br>  ูุฐุง ุงูุจูุงู ุณูู ููุจุนุซ ูููุง ููู ูููู ููุงุญุธุชูุง ุทุงููุง ุฃููุง ุชุทุงุจู ุงูุดุฑุท ุงููุณูุฏ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({...}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> observable$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); observable$.pipe(takeWhile(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function"> =&gt;</span></span> value &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>)).subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญู ููุงุญุธ ุฃู <em>$ ูููู ููุงุญุธุชู</em> ูุน ูุดุบู takeWhile ุ ูุงูุฐู ุณูุฑุณู ููููุง ุทุงููุง ูุงูุช ุฃูู ูู 10. ุฅุฐุง ุฌุงุกุช ูููุฉ ุฃูุจุฑ ูู ุฃู ุชุณุงูู 10 ุ ูุณูู ูููู ุงููุดุบู ุจุฅูุบุงุก ุงูุงุดุชุฑุงู. <br>  ูู ุงูููู ุฃู ูููู ุฃู ุงูุงุดุชุฑุงู ุงูุฐู <em>ูููู ููุงุญุธุชู ุจุงูุฏููุงุฑ</em> ุณูููู ููุชูุญูุง ุญุชู ูุชู <em>ุฅุนุทุงุก</em> ุงููุงุตู ุงูุฒููู 10. ูุฐูู ุ ูู ุฃุฌู ุงูุฃูุงู ุ ูุถูู <em>ุฑุงุจุท ngOnDestroy</em> ูุฅูุบุงุก ุงูุงุดุชุฑุงู ูู <em>$ ูููู ููุงุญุธุชู</em> ุนูุฏ ุฅุชูุงู ุงููููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({โฆ}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnDestroy</span></span></span><span class="hljs-class"> </span></span>{ subscription$; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> observable$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription$ = observable$.pipe(takeWhile(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function"> =&gt;</span></span> value &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>)).subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } ngOnDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscription$.unsubscribe(); } }</code> </pre> <br><h3 id="4-ispolzovanie-operatora-rxjs-first" style=";text-align:right;direction:rtl">  4. ุงุณุชุฎุฏุงู ุนุงูู ุงูุชุดุบูู RxJS ุงูุฃูู </h3><br><p style=";text-align:right;direction:rtl">  ุชุดุจู ูุฐู ุงูุนุจุงุฑุฉ ุงูุฌูุน (1) ู takeWhile. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุงุณุชุฏุนุงุคูุง ุจุฏูู ูุนููุฉ ุ ูุณุชููู ุงููููุฉ ุงูุฃููู ุงูุชู ูุชู ุฅุฑุณุงููุง "ููุงุญุธุฉ" ูุชูุชูู.  ุฅุฐุง ุชู ุงุณุชุฏุนุงุคูุง ุจูุธููุฉ ุฏุงูุฉ ุงูุชูููู ุ ูุญููุฆุฐู ุ ุชูุจุนุซ ูููุง ุงููููุฉ ุงูุฃููู ููููุงุญุธุฉ ุงูุฃุตููุฉ ุ ูุงูุชู ุชุชูุงูู ูุน ุญุงูุฉ ุงููุธููุฉ ุงูุฃุตููุฉ ุ ูุชูุชูู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({...}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ observable$; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observable = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observable$.pipe(first()).subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณููุชูู <em>$ ููุงุญุธ</em> ุฅุฐุง ุชุฌุงูุฒ ุงููุงุตู ุงูุฒููู ูููุชู ุงูุฃููู.  ูุฐุง ูุนูู ุฃูู ูู ูุญุฏุฉ ุงูุชุญูู ุณูุฑู ุฑุณุงูุฉ ุณุฌู ูุงุญุฏุฉ ููุท. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({...}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ observable$; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observable$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observable$.pipe(first(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">val</span></span></span><span class="hljs-function"> =&gt;</span></span> val === <span class="hljs-number"><span class="hljs-number">10</span></span>)).subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุฃููุงู ูู ููุจุนุซ ูููุง ุงูููู ุญุชู ููุฑ ุงููุงุตู ุงูุฒููู 10 ุ ุซู ูููู <em>ุงูููุงุญุธุฉ $</em> .  ูู ูุญุฏุฉ ุงูุชุญูู ุ ุณูุฑู ุฑุณุงูุฉ ูุงุญุฏุฉ ููุท. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุซุงู ุงูุฃูู ุ ุฅุฐุง ุชู ุฅุชูุงู AppComponent ูุจู ุฃู ุชุญุตู ุงูุฃููู ุนูู ุงููููุฉ ูู <em>$ ููุงุญุธ</em> ุ ูุณูุธู ุงูุงุดุชุฑุงู ููุชูุญูุง ุญุชู ูุชู ุชููู ุงูุฑุณุงูุฉ ุงูุฃููู. <br>  ุฃูุถูุง ุ ูู ุงููุซุงู ุงูุซุงูู ุ ุฅุฐุง ุชู ุชุฏููุฑ AppComponent ูุจู ุฅุฑุฌุงุน ุงููุงุตู ุงูุฒููู ูููุฉ ูุทุงุจูุฉ ูุญุงูุฉ ุงููุดุบู ุ ูุณูุธู ุงูุงุดุชุฑุงู ููุชูุญูุง ุญุชู ูุนูุฏ ุงููุงุตู ุงูุฒููู 10. ููู ุฃุฌู ุถูุงู ุงูุฃูุงู ุ ูุฌุจ ุนูููุง ุฅูุบุงุก ุงูุงุดุชุฑุงูุงุช ูู ุฑุจุท <em>ngOnDestroy</em> . </p><br><h3 id="5-ispolzovanie-dekoratora-dlya-avtomatizacii-otpiski" style=";text-align:right;direction:rtl">  5. ุจุงุณุชุฎุฏุงู Decorator ูุฃุชูุชุฉ ุฅูุบุงุก ุงูุงุดุชุฑุงู </h3><br><p style=";text-align:right;direction:rtl">  ูููุง ุจุดุฑ ุ ูููู ุฅูู ุงููุณูุงู.  ุชุนุชูุฏ ูุนุธู ุงูุทุฑู ุงูุณุงุจูุฉ ุนูู ุฑุจุท <em>ngOnDestroy</em> ููุชุฃูุฏ ูู <em>ูุณุญ</em> ุงูุงุดุชุฑุงู ูุจู ุฅุชูุงู ุงููููู.  ูููู ูููููุง ุฃู ููุณู ุชุณุฌูููู ูู <em>ngOnDestroy</em> - ุฑุจูุง ุจุณุจุจ ุงูููุนุฏ ุงูููุงุฆู ุ ุฃู ุงูุนููู ุงูุนุตุจู ุงูุฐู ูุนุฑู ููุงู <em>ุฅูุงูุชู</em> ... </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ูููููุง ุงุณุชุฎุฏุงู Decorators ูู ูุดุงุฑูุนูุง Angular ูุฅูุบุงุก ุงูุงุดุชุฑุงู ุชููุงุฆููุง ูู ุฌููุน ุงูุงุดุชุฑุงูุงุช ูู ุงููููู. </p><br><p style=";text-align:right;direction:rtl">  ูููุง ููู ูุซุงู ุนูู ูุฐุง ุงูุชุทุจูู ุงููููุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AutoUnsub</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">constructor</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> orig = <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>.prototype.ngOnDestroy; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>.prototype.ngOnDestroy = function() { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> prop <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> property = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[prop]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> property.subscribe === <span class="hljs-string"><span class="hljs-string">"function"</span></span>) { property.unsubscribe(); } } orig.apply(); } } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง <em>AutoUnsub</em> ูู ุงูุฏูููุฑ ุงูุฐู ูููู ุชุทุจููู ุนูู ุงูุทุจูุงุช ูู ูุดุฑูุนูุง ุงูุฒุงูู.  ููุง ุชุฑูู ุ ูุฅูู ูุญูุธ ุงูุฎุทุงู ุงูุฃุตูู <em>ngOnDestroy</em> ุ ุซู ููุดุฆ <em>ุฑุงุจุทูุง</em> ุฌุฏูุฏูุง ููุฑุจุทู ุจุงููุฆุฉ ุงูุชู ูุชู ุชุทุจููู ุนูููุง.  ุจูุฐู ุงูุทุฑููุฉ ุ ุนูุฏูุง ูุชู ุฅุชูุงู ุงููุตู ุ ูุชู ุงุณุชุฏุนุงุก ุฑุจุท ุฌุฏูุฏ.  ุชุจุญุซ ูุธููุชูุง ูู ุฎูุงู ุฎุตุงุฆุต ุงููุฆุฉ ุ ูุฅุฐุง ุนุซุฑุช ุนูู ุงูููุงุญุธุฉ ุ ููู ุจุฅูุบุงุก ุงูุงุดุชุฑุงู ูููุง.  ุซู ูุณุชุฏุนู ุฑุจุท <em>ngOnDestroy</em> ุงูุฃุตูู ูู ุงููุตู ุ ุฅู ูุฌุฏ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({...}) @AutoUnsub <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ observable$; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observable$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observable$.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)) } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุญู ูุทุจูู ุนูู AppComponent ุงูุฎุงุต ุจูุง ููู ูุนุฏ ููููู ุจุดุฃู ูุณูุงู ุฅูุบุงุก ุงูุงุดุชุฑุงู ูู <em>$</em> <em>ngOnDestroy ุงููููู ููุงุญุธุชู</em> - ุณูููู ุงูุฏูููุฑ ุจุนูู ุฐูู ูู ุฃุฌููุง. </p><br><p style=";text-align:right;direction:rtl">  ููู ูุฐู ุงูุทุฑููุฉ ููุง ุฌุงูุจ ุณูุจู ุฃูุถูุง - ุณุชุญุฏุซ ุงูุฃุฎุทุงุก ุฅุฐุง ูุงู ุงููููู ุงูุฎุงุต ุจูุง ูุญุชูู ุนูู ููุงุญุธุฉ ุจุฏูู ุงุดุชุฑุงู. </p><br><h3 id="6-ispolzovanie-tslint" style=";text-align:right;direction:rtl">  6. ุจุงุณุชุฎุฏุงู tslint </h3><br><p style=";text-align:right;direction:rtl">  ูู ุจุนุถ ุงูุฃุญูุงู ุ ูุฏ ุชููู ุฑุณุงูุฉ ูู tslint ูููุฏุฉ ูุฅุฎุจุงุฑ ูุญุฏุฉ ุงูุชุญูู ุฃู <em>ููููุงุชูุง ุฃู ุชูุฌููุงุชูุง</em> ูู ุชุนูู ุนู ุทุฑููุฉ <em>ngOnDestroy</em> .  ููููู ุฅุถุงูุฉ ูุงุนุฏุฉ ูุฎุตุตุฉ ุฅูู tslint ูุชุญุฐูุฑ ูุญุฏุฉ ุงูุชุญูู ุนูุฏ ุชุดุบูู ุงููุจุฑ ุฃู <em>ุงูุฅูุดุงุก ุจุญูุซ</em> ูุง ุชุญุชูู <em>ููููุงุชูุง ุนูู</em> ุงูุฎุทุงู <em>ngOnDestroy</em> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ngOnDestroyRule.tsimport * as Lint from "tslint" import * as ts from "typescript"; import * as tsutils from "tsutils"; export class Rule extends Lint.Rules.AbstractRule { public static metadata: Lint.IRuleMetadata = { ruleName: "ng-on-destroy", description: "Enforces ngOnDestory hook on component/directive/pipe classes", optionsDescription: "Not configurable.", options: null, type: "style", typescriptOnly: false } public static FAILURE_STRING = "Class name must have the ngOnDestroy hook"; public apply(sourceFile: ts.SourceFile): Lint.RuleFailure[] { return this.applyWithWalker(new NgOnDestroyWalker(sourceFile, Rule.metadata.ruleName, void this.getOptions())) } } class NgOnDestroyWalker extends Lint.AbstractWalker { visitClassDeclaration(node: ts.ClassDeclaration) { this.validateMethods(node); } validateMethods(node: ts.ClassDeclaration) { const methodNames = node.members.filter(ts.isMethodDeclaration).map(m =&gt; m.name!.getText()); const ngOnDestroyArr = methodNames.filter( methodName =&gt; methodName === "ngOnDestroy"); if( ngOnDestroyArr.length === 0) this.addFailureAtNode(node.name, Rule.FAILURE_STRING); } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ูุฏููุง ูุซู ูุฐุง ุงููููู ุฏูู <em>ngOnDestroy</em> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Component({...}) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnInit</span></span></span><span class="hljs-class"> </span></span>{ observable$; ngOnInit () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observable$ = Rx.Observable.interval(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observable$.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x)); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูู ูุญุฐุฑูุง AppComponent ุงููุจุฑ - ููู ูู ุฑุจุท <em>ngOnDestroy</em> ุงูููููุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ ng lint Error at app.component.ts 12: Class name must have the ngOnDestroy hook</code> </pre> <br><h3 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h3><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ูุคุฏู ุงูุชุนูู ุฃู ุงูุงุดุชุฑุงู ุงูููุชูุญ ุฅูู ุญุฏูุซ ุชุณุฑุจ ููุฐุงูุฑุฉ ุฃู ุฃุฎุทุงุก ุฃู ุณููู ุบูุฑ ูุฑุบูุจ ููู ุฃู ุถุนู ุฃุฏุงุก ุงูุชุทุจูู.  ูุชุฌูุจ ูุฐุง ุงูุฃูุฑ ุ ูุธุฑูุง ูู ุทุฑู ูุฎุชููุฉ ูุฅูุบุงุก ุงูุงุดุชุฑุงู ูู ูุดุงุฑูุน ุงูููุงุญุธุฉ ูู ุงูุฒุงูู.  ูุฃู ูุงุญุฏ ูุงุณุชุฎุฏุงูู ูู ูููู ูุนูู ูุนูุฏ ุฅููู. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar484762/">https://habr.com/ru/post/ar484762/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar484752/index.html">ูุชุงุจุฉ ุจุฑูุงูุฌ ููุจููุชุฑ ูุญููู ูููุชุนุฉ ูุงูุฑุจุญ ุ ุฃู ููููุฉ ุงูุงูุชุฒุงู ุจุงูููุงุฉ ุญุชู ูู ูู ุชูู ุฐูููุง</a></li>
<li><a href="../ar484754/index.html">ูุง ุชุณุชุทูุน Intel ุชุญุฏูุฏ ูู ูู ุฃุณุฑุน: Comet Lake ุฃู Ice Lake</a></li>
<li><a href="../ar484756/index.html">ูุธุฑูุฉ ุงููุนูููุงุช ุงููุฑุฆูุฉ (ุงูุฌุฒุก ุงูุซุงูู)</a></li>
<li><a href="../ar484758/index.html">ูุง ูู ุงูุดุงุฆุน ุจูู ุงูุจุฑูุฌุฉ ูุจุฏุก ุงูุฃุนูุงู ุงูุชุฌุงุฑูุฉ</a></li>
<li><a href="../ar484760/index.html">ุงูุฃุญุฏุงุซ ุงูุฑูููุฉ ูู ููุณูู ูู ุงููุชุฑุฉ ูู 21 ุฅูู 26 ููุงูุฑ</a></li>
<li><a href="../ar484772/index.html">ุงูุณุจุงุช: ููู ุชุทุจุฎ</a></li>
<li><a href="../ar484774/index.html">ุญุงูุฉ ุงููุฌุงู ุงููุฌุงู ูู ุจูููุฏุง .pl ูุนุงู 2019</a></li>
<li><a href="../ar484776/index.html">ุงูุฃุญุฏุงุซ ุงูุฑูููุฉ ูู ุณุงู ุจุทุฑุณุจุฑุฌ ูู 21 ุฅูู 26 ููุงูุฑ</a></li>
<li><a href="../ar484778/index.html">Intel Parallel Studio XE 2020: ูู ุงูุชูููู ูููุทูุฑูู</a></li>
<li><a href="../ar484782/index.html">Blazor Client Side Store ุนูู ุงูุฅูุชุฑูุช: ุงูุฌุฒุก 2 - CI / CD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>