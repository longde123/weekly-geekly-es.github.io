<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ซ ๐ ๐๐ป ุชุทุจูู ูุงูุจ ุงูุญุงูุฉ ูู ุงููุญุฏุฉ โ๏ธ ๐ ๐ฅช</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุนูููุฉ ุจุฑูุฌุฉ ุงูููุงูุงุช ุฏุงุฎู ุงููุนุจุฉ ุ ุชูุดุฃ ุงูููุงูู ุนูุฏูุง ูุชุนูู ุนูููู ุงูุชุตุฑู ูู ุธุฑูู ูุฎุชููุฉ ุจุทุฑู ูุฎุชููุฉ ุ ููุง ูุดูุฑ ุฅูู ุงุณุชุฎุฏุงู ุงูุญุงูุงุช . 

 ูููู ุฅุฐุง ูุฑ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุทุจูู ูุงูุจ ุงูุญุงูุฉ ูู ุงููุญุฏุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484176/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/4fa/bf6/c19/4fabf6c19761d028d621903401a84746.png" alt="ุตูุฑุฉ"></div><br>  ูู ุนูููุฉ ุจุฑูุฌุฉ ุงูููุงูุงุช ุฏุงุฎู ุงููุนุจุฉ ุ ุชูุดุฃ ุงูููุงูู ุนูุฏูุง ูุชุนูู ุนูููู ุงูุชุตุฑู ูู ุธุฑูู ูุฎุชููุฉ ุจุทุฑู ูุฎุชููุฉ ุ ููุง ูุดูุฑ ุฅูู ุงุณุชุฎุฏุงู <i>ุงูุญุงูุงุช</i> . <br><br>  ูููู ุฅุฐุง ูุฑุฑุช ุงุณุชุฎุฏุงู ุงูููุฉ ุงูุบุงุดูุฉ ุ ูุณูู ุชุชุญูู ุงูุดูุฑุฉ ุจุณุฑุนุฉ ุฅูู ููุถู ูุชุดุงุจูุฉ ูุน ุงูุนุฏูุฏ ูู ุงูุนุจุงุฑุงุช ุงููุชุฏุงุฎูุฉ. <br><br>  ููุญุตูู ุนูู ุญู ุฑุดูู ููุฐู ุงููุดููุฉ ุ ููููู ุงุณุชุฎุฏุงู ููุท ุชุตููู ุงูุญุงูุฉ.  ุณููุฑุณ ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ูู! <br><br>  ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู ูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุนูู ุฃุณุงุณูุงุช ูุงูุจ ุงูููุงูุฉ ูู ุงููุญุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ุณูู ุชุชุนูู ูุง ูู ุขูุฉ ุงูุฏููุฉ ููุชู ุชุณุชุฎุฏููุง. </li><li style=";text-align:right;direction:rtl">  ุชุนุฑู ุนูู ููููุฉ ุงุณุชุฎุฏุงู ูุฐู ุงูููุงููู ููุชุญูู ูู ุญุฑูุฉ ุดุฎุตูุชู. </li></ul><br><blockquote style=";text-align:right;direction:rtl">  <em>ููุงุญุธุฉ</em> : ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ูุฎุตุต ูููุณุชุฎุฏููู ุงููุชูุฏููู ุ  ูู ุงูููุชุฑุถ ุฃูู ุชุนุฑู ุจุงููุนู ููููุฉ ุงูุนูู ูู ุงููุญุฏุฉ ููุฏูู ูุณุชูู ูุชูุณุท โโูู ุงููุนุฑูุฉ ุจู C #.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุณุชุฎุฏู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู Unity 2019.2 ู C # 7. </blockquote><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุงูุญุตูู ุนูู ุงูุนูู </h2><br>  ุชุญููู <a href="">ููุงุฏ ุงููุดุฑูุน</a> .  ูู ุจูู ุถุบุท <em>ุงูููู ุงููุถุบูุท</em> ููุชุญ ูุดุฑูุน <em>ุจุฏุก ุงูุชุดุบูู</em> ูู ุงููุญุฏุฉ. <br><br>  ููุงู ุนุฏุฉ ูุฌูุฏุงุช ูู ุงููุดุฑูุน ุณุชุณุงุนุฏู ุนูู ุงูุจุฏุก.  ูุญุชูู ุงููุฌูุฏ <em>Assets / RW</em> ุนูู ูุฌูุฏุงุช <em>Animations</em> ู <em>Materials</em> ู <em>Models</em> ู <em>Prefabs</em> ู <em>Resources</em> ู <em>Scenes</em> ู <em>Scripts</em> ู <em>Sounds</em> ุ ุงููุณูุงุฉ ููููุง ููููุงุฑุฏ ุงูุชู ุชุญุชูู ุนูููุง. <br><br>  ูุฅููุงู ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุ ุณูุนูู ููุท ูุน <em>ุงููุดุงูุฏ</em> ูุงูุจุฑุงูุฌ <em>ุงููุตูุฉ</em> . <br><br>  ุงูุชูู ุฅูู <em>RW / Scenes</em> ูุงูุชุญ <em>Main</em> .  ูู ูุถุน ุงููุนุจุฉ ุ ุณุชุฑู ุดุฎุตูุฉ ูู ุบุทุงุก ูุญุฑู ุงูุณูุงุฑุฉ ุฏุงุฎู ููุนุฉ ูู ุงููุฑูู ุงููุณุทู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/478/f1b/4e1/478f1b4e1ec3a2e8702e365e4082a605.png"></div><br>  ุงููุฑ ููู " <em>ุชุดุบูู"</em> ููุงุญุธ ููููุฉ ุชุญุฑู <em>ุงููุงููุฑุง</em> ูุชูุงุณุจ ุฅุทุงุฑ <em>ุงูุญุฑู</em> .  ูู ุงูููุช ุงูุญุงูู ุ ูู ูุนุจุชูุง ุงูุตุบูุฑุฉ ูุง ุชูุฌุฏ ุชูุงุนูุงุช ุ ุณูุนูู ุนูููุง ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ba3/62c/536/ba362c53682371294f90576b5fd5adc6.gif"></div><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุดู ุงูุดุฎุตูุฉ </h2><br>  ูู <em>ุงูุชุณูุณู ุงููุฑูู ุ</em> ุญุฏุฏ <em>ุงูุญุฑู</em> .  ุชุญูู ูู <em>ุงูููุชุด</em> .  ุณุชุฑู <em>ูููููุง</em> ุจููุณ ุงูุงุณู ูุญุชูู ุนูู ููุทู ุงูุชุญูู ูู <em>ุงูุฃุญุฑู</em> . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/957/ffd/2ba/957ffd2ba0299d4b509b75bedb094581.png"></div><br>  ุงูุชุญ <em>Character.cs</em> ุงูููุฌูุฏ ูู <em>RW / Scripts</em> . <br><br>  ูููุฐ ุงูุจุฑูุงูุฌ ุงูุนุฏูุฏ ูู ุงูุฅุฌุฑุงุกุงุช ุ ููู ูุนุธููุง ููุณ ููููุง ุจุงููุณุจุฉ ููุง.  ุงูุขู ุ ุฏุนูุง ููุชุจู ุฅูู ุงูุทุฑู ุงูุชุงููุฉ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>Move</code> : ูุชุญุฑู ุงูุญุฑู ุ ูุณุชูุจูุงู ููู ููุน ุชุนููู <code>speed</code> ูุซู ุณุฑุนุฉ ุงูุญุฑูุฉ ู <code>rotationSpeed</code> ุจุณุฑุนุฉ ุงูุณุฑุนุฉ ุงูุฒุงููุฉ. </li><li style=";text-align:right;direction:rtl">  <code>ResetMoveParams</code> : <code>ResetMoveParams</code> ูุฐู ุงูุทุฑููุฉ ุชุนููู ุงููุนููุงุช ุงููุณุชุฎุฏูุฉ <i>ูุชุญุฑูู ุงูุญุฑูุฉ</i> ูุงูุณุฑุนุฉ ุงูุฒุงููุฉ ููุญุฑู.  ูุชู ุงุณุชุฎุฏุงูู ููุท ููุชูุธูู. </li><li style=";text-align:right;direction:rtl">  <code>SetAnimationBool</code> : ูููู ุจุชุนููู <code>param</code> ุงูุญุฑูุฉ ุงูุฃุณุงุณูุฉ ูู ุงูููุน Bool ุฅูู ุงููููุฉ. </li><li style=";text-align:right;direction:rtl">  <code>CheckCollisionOverlap</code> : ูุณุชูุจู <code></code> ุงูููุน <code>Vector3</code> ูุฅุฑุฌุงุน <code>bool</code> ูุญุฏุฏ ูุง ุฅุฐุง ูุงู ููุงู ุฃู ูุตุงุฏูุงุช ุฏุงุฎู ูุตู ุงููุทุฑ ุงููุญุฏุฏ ูู <code></code> . </li><li style=";text-align:right;direction:rtl">  <code>TriggerAnimation</code> : <code>TriggerAnimation</code> <code>param</code> ุงูุฑุณูู ุงููุชุญุฑูุฉ <code>TriggerAnimation</code> . </li><li style=";text-align:right;direction:rtl">  <code>ApplyImpulse</code> : <code>ApplyImpulse</code> ูุจุถุฉ ุนูู ุงูุญุฑู ุชุณุงูู <code>force</code> ูุนููุฉ ุงูุฅุฏุฎุงู <code>force</code> ุงูููุน <code>Vector3</code> . </li></ul><br>  ุฃุฏูุงู ุณุชุฑู ูุฐู ุงูุฃุณุงููุจ.  ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู ูุฏููุง ุ ูุญุชููุงุชูุง ูุงูุนูู ุงูุฏุงุฎูู ููุณุช ูููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุง ูู ุขูุงุช ุงูุฏููุฉ </h2><br>  ุฌูุงุฒ ุงูุญุงูุฉ ูู ููููู ุชููู ููู ุงูุญุงููุฉ ุจุชุฎุฒูู ุญุงูุฉ ุดูุก ูุง ูู ูุญุธุฉ ุฒูููุฉ ูุนููุฉ.  ุงุณุชูุงุฏูุง ุฅูู ุจูุงูุงุช ุงููุฏุฎูุงุช ุ ูููู ุฃู ูููุฑ ุงุณุชูุชุงุฌูุง ุงุนุชูุงุฏูุง ุนูู ุงูุญุงูุฉ ุงูุญุงููุฉ ุ ูููุฑุฑ ูุฐู ุงูุนูููุฉ ุฅูู ุญุงูุฉ ุฌุฏูุฏุฉ.  ุขูุงุช ุงูุฏููุฉ ูููู ุฃู ุชูุซู ุนูู ุดูู <a href="https://www.geeksforgeeks.org/unified-modeling-language-uml-state-diagrams/" rel="noopener">ูุฎุทุท ุงูุฏููุฉ</a> .  ูุชูุญ ูู ุฅุนุฏุงุฏ ูุฎุทุท ุงูุญุงูุฉ ุงูุชูููุฑ ูู ุฌููุน ุงูุญุงูุงุช ุงููุญุชููุฉ ูููุธุงู ูุงูุชุญููุงุช ุจููููุง. <br><br><h3 style=";text-align:right;direction:rtl">  ุขูุงุช ุงูุฏููุฉ </h3><br>  <em>ุขูุงุช ุงูุญุงูุฉ ุงููุญุฏูุฏุฉ</em> ุฃู <em>FSM (ุขูุฉ ุงูุญุงูุฉ ุงููุญุฏูุฏุฉ)</em> ูู ูุงุญุฏุฉ ูู ุฃุฑุจุน ูุฌููุนุงุช ุฑุฆูุณูุฉ ูู <em>ุงูุขูุงุช</em> .  Automata ูู ููุงุฐุฌ ูุฌุฑุฏุฉ ูู ุงูุขูุงุช ุงูุจุณูุทุฉ.  ูุชู ุฏุฑุงุณุชูุง ูู ุฅุทุงุฑ <a href="https://cs.stanford.edu/people/eroberts/courses/soco/projects/2004-05/automata-theory/basics.html" rel="noopener"><em>ูุธุฑูุฉ ุงูุฃุชูุชุฉ</em></a> - ุงููุฑุน ุงููุธุฑู ูุนููู ุงูููุจููุชุฑ. <br><br>  ุจุงุฎุชุตุงุฑ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชููู FSM ูู ูููุฉ ูุญุฏูุฏุฉ ูู <em>ุงูุดุฑุท</em> .  ูู ุฃู ููุช ูุนูู <em>ุ</em> ูุงุญุฏุฉ ููุท ูู ูุฐู ุงูุญุงูุงุช <em>ูุดุทุฉ</em> . </li><li style=";text-align:right;direction:rtl">  ุชุญุฏุฏ ูู ููุงูุฉ ุงูุญุงูุฉ ุงูุชู ุณุชุฏุฎู ูููุง <em>ูุฅุฎุฑุงุฌ</em> ุงุณุชูุงุฏูุง ุฅูู ุชุณูุณู <em>ุงููุนูููุงุช ุงููุงุฑุฏุฉ ุงููุงุฑุฏุฉ</em> . </li><li style=";text-align:right;direction:rtl">  ุชุตุจุญ ุญุงูุฉ ุงูุฅุฎุฑุงุฌ ุงูุญุงูุฉ ุงููุดุทุฉ ุงูุฌุฏูุฏุฉ.  ุจูุนูู ุขุฎุฑ ุ ููุงู <em>ุงูุชูุงู ุจูู ุงูุฏูู</em> . </li></ul><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c43/111/f04/c43111f045f3727ab5f3b02c05c6ecc2.png"></div><br>  ูููู ุฐูู ุจุดูู ุฃูุถู ุ ุถุน ูู ุงุนุชุจุงุฑู ุทุงุจุน ูุนุจุฉ ุงููุธุงู ุงูุฃุณุงุณู ุงูููุฌูุฏุฉ ุนูู ุฃุฑุถ ุงููุงูุน.  ุงูุดุฎุตูุฉ ูู ุงูุญุงูุฉ <i>ุงูุฏุงุฆูุฉ</i> .  ุณุชููู ูุฐู ุญุงูุชู <em>ุงููุดุทุฉ</em> ุญุชู ูุถุบุท ุงููุงุนุจ ุนูู ุงูุฒุฑ ุญุชู ุชููุฒ ุงูุดุฎุตูุฉ. <br><br>  ุชุนุฑูู ุงูุญุงูุฉ <i>ุงูุฏุงุฆูุฉ</i> ุงูุถุบุท ุนูู ุฒุฑ <em>ููุฏุฎู</em> ูุงู ุ <em>ูููุฎุฑุฌ</em> ุ ุชูุชูู ุฅูู ุญุงูุฉ <i>ุงูููุฒ</i> . <br><br>  ุงูุชุฑุถ ุฃู ููุงู ุนุฏุฏูุง ูุนูููุง ูู ุญุงูุงุช ุงูุญุฑูุฉ ูุฐู ูุฃู ุงูุดุฎุตูุฉ ูุง ูููู ุฃู ุชููู ุฅูุง ูู ุฅุญุฏู ุงูููุงูุงุช ูู ููุช ูุงุญุฏ.  ูุฐุง ูุซุงู ุนูู FSM. <br><br><h3 style=";text-align:right;direction:rtl">  ุขูุงุช ุงูุฏููุฉ ุงููุฑููุฉ </h3><br>  ุงููุธุฑ ูู ูููุงุฌ ุจุงุณุชุฎุฏุงู FSM ุ ุญูุซ ุชุดุชุฑู ุนุฏุฉ ููุงูุงุช ูู ููุทู ุงูููุฒูุงุก ุงููุดุชุฑู.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุงูุชููู ูุงูููุฒ ูู <em>ูุถุนู Crouching</em> and <em>Standing</em> .  ูู ูุฐู ุงูุญุงูุฉ ุ ุชุคุฏู ุนุฏุฉ ูุชุบูุฑุงุช ูุงุฑุฏุฉ ุฅูู ููุณ ุงูุณููู ูุฅุฎุฑุงุฌ ุงููุนูููุงุช ูุญุงูุชูู ูุฎุชููุชูู. <br><br>  ูู ูุซู ูุฐู ุงูุญุงูุฉ ุ ุณูููู ูู ุงูููุทูู ุชูููุถ ุงูุณููู ุงูุนุงู ุฅูู ุฏููุฉ ุฃุฎุฑู.  ูุญุณู ุงูุญุธ ุ ูููู ุชุญููู ุฐูู ุจุงุณุชุฎุฏุงู ุขูุงุช ุงูุญุงูุฉ <em>ุงููุฑููุฉ</em> . <br><br>  ูู FSM ุงููุฑูู ุ ููุงู <em>ุจุฏุงุฆู</em> ุชูููุถ ุงููุนูููุงุช ุงููุงุฑุฏุฉ <i>ุงูุฎุงู</i> ุฅูู <em>ุจุฏุงุฆููู</em> .  ููุฐุง ุจุฏูุฑู ูุชูุญ ูู ุชูููู ุญุฌู ูุชุนููุฏ FSM ุจุฃูุงู ุ ูุน ุงูุญูุงุธ ุนูู ููุทููุง. <br><br><h2 style=";text-align:right;direction:rtl">  ูุงูุจ ุงูุญุงูุฉ </h2><br>  ูู ูุชุงุจูู " <i>ุฃููุงุท ุงูุชุตููู: ุนูุงุตุฑ ูู ุงูุจุฑุงูุฌ ุงูููุฌูุฉ ูููุงุฆูุงุช ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู" ุ</i> ุญุฏุฏ ุฅุฑูู ุฌุงูุง ูุฑูุชุดุงุฑุฏ ูููู ูุฑุงูู ุฌููุณูู ูุฌูู ูููุณูุฏูุณ ( <em>ุนุตุงุจุฉ ุงูุฃุฑุจุนุฉ</em> ) <i>ูููุฉ</i> ูุงูุจ ุงูุญุงูุฉ ุนูู ุงููุญู ุงูุชุงูู: <br><br>  ูุฌุจ ุฃู ูุณูุญ ูููุงุฆู ุจุชุบููุฑ ุณูููู ุนูุฏูุง ุชุชุบูุฑ ุญุงูุชู ุงูุฏุงุฎููุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุจุฏู ุฃู ุงููุงุฆู ูุฏ ุบูุฑ ูุฆุชู ". <br><br>  ูููู ูุฐุง ุจุดูู ุฃูุถู ุ ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ุงููุซุงู ุงูุชุงูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุฅุฑูุงู ุงูุจุฑูุงูุฌ ุงููุตู ุงูุฐู ูุชููู ุงููุนูููุงุช ุงููุงุฑุฏุฉ ุนู ููุทู ุงูุญุฑูุฉ ุจููุงู ูู ุงููุนุจุฉ. </li><li style=";text-align:right;direction:rtl">  ูุฎุฒู ูุฐุง ุงููุตู ูุชุบูุฑ <i>ุงูุญุงูุฉ ุงูุญุงูู</i> ุงูุฐู ูุดูุฑ ุจุจุณุงุทุฉ ุฅูู ูุซูู ููุฆุฉ <i>ุงูุญุงูุฉ</i> . </li><li style=";text-align:right;direction:rtl">  ูุชู ุชูููุถ ุงููุนูููุงุช ุงููุงุฑุฏุฉ ุฅูู ูุฐู ุงูุญุงูุฉ ุงูุญุงููุฉ ุ ูุงูุชู ุชุนุงูุฌูุง ูุชุฎูู ุณููููุง ูุญุฏุฏูุง ูู ุญุฏ ุฐุงุชู.  ููุง ุฃูู ูุชุนุงูู ูุน ุงูุชุญููุงุช ุงูุฏููุฉ ุงููุทููุจุฉ. </li></ul><br>  ูุฐูู ุ ูุธุฑูุง ูุญูููุฉ ุฃูู ูู ุฃููุงุช ูุฎุชููุฉ ูุดูุฑ ูุชุบูุฑ <i>ุงูุญุงูุฉ ุงูุญุงูู</i> ุฅูู ุญุงูุงุช ูุฎุชููุฉ ุ ูุจุฏู ุฃู ูุฆุฉ ุงูุจุฑูุงูุฌ ุงููุตู ููุณูุง ุชุชุตุฑู ุจุดูู ูุฎุชูู.  ูุฐุง ูู ุฌููุฑ ูุงูุจ "ุงูุญุงูุฉ". <br><br>  ูู ูุดุฑูุนูุง ุ ุณูู ุชุชุตุฑู ูุฆุฉ <em>ุงูุฃุญุฑู</em> ุงููุฐููุฑุฉ ุฃุนูุงู ุจุดูู ูุฎุชูู ุงุนุชูุงุฏูุง ุนูู ุญุงูุงุช ูุฎุชููุฉ.  ููููุง ูุญุชุงุฌู ุฃู ูุชุตุฑู ุจููุณู! <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/3d8/d20/f59/3d8d20f5921bf342b2ac84b5677e9a3b.png"></div><br>  ูู ุงูุญุงูุฉ ุงูุนุงูุฉ ุ ููุงู ุซูุงุซ ููุงุท ุฃุณุงุณูุฉ ููู ูุฆุฉ ููุงูุฉ ุชุณูุญ ุจุณููู ุงูุฏููุฉ ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <em>ุงูุฅุฏุฎุงู</em> : ูุฐู ูู ุงููุญุธุฉ ุงูุชู ูุฏุฎู ูููุง ุงูููุงู ุฅูู ุญุงูุฉ ููููู ุจุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ุงูุชู ูุฌุจ ุงูููุงู ุจูุง ูุฑุฉ ูุงุญุฏุฉ ููุท ุนูุฏ ุฏุฎูู ุงูุฏููุฉ. </li><li style=";text-align:right;direction:rtl">  <em>ุฎุฑูุฌ</em> : ุนูู ุบุฑุงุฑ ุงููุฏุฎูุงุช - ูุชู ุชูููุฐ ุฌููุน ุนูููุงุช ุฅุนุงุฏุฉ ุงูุถุจุท ููุง ุ ูุงูุชู ูุฌุจ ุชูููุฐูุง ููุท ูุจู ุฃู ุชุชุบูุฑ ุงูุญุงูุฉ. </li><li style=";text-align:right;direction:rtl">  <em>ุญููุฉ ุงูุชุญุฏูุซ</em> : ูููุง ููู <i>ููุทู ุงูุชุญุฏูุซ</i> ุงูุฃุณุงุณู ุงูุฐู ูุนูู ูู ูู ุฅุทุงุฑ.  ูููู ุชูุณูููุง ุฅูู ุนุฏุฉ ุฃุฌุฒุงุก ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฏูุฑุฉ ูุชุญุฏูุซ ุงูููุฒูุงุก ูุฏูุฑุฉ ููุนุงูุฌุฉ ุฅุฏุฎุงู ุงููุงุนุจ. </li></ul><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a26/847/8e6/a268478e6da2566cc58d1083fefed27f.png"></div><br><h3 style=";text-align:right;direction:rtl">  ุชุญุฏูุฏ ุขูุฉ ุงูุฏููุฉ ูุงูุฏููุฉ </h3><br>  ุงูุชูู ุฅูู <em>RW / ุงูุจุฑุงูุฌ ุงููุตูุฉ</em> ููุชุญ <em>StateMachine.cs</em> . <br><br>  <em>ุขูุฉ ุงูุญุงูุฉ</em> ุ ููุง ูุฏ ุชุชุฎูู ุ ุชููุฑ ุชุฌุฑูุฏูุง ูุขูุฉ ุงูุญุงูุฉ.  ูุงุญุธ ุฃู <code>CurrentState</code> ุจุดูู ุตุญูุญ ุฏุงุฎู ูุฐู ุงููุฆุฉ.  ุณูุชู ุชุฎุฒูู ุงุฑุชุจุงุท ุฅูู ุญุงูุฉ ุงูุฌูุงุฒ ุงูุญุงูุฉ ุงููุดุทุฉ ุงูุญุงููุฉ. <br><br>  ุงูุขู ุ ูุชุญุฏูุฏ ููููู <i>ุงูุญุงูุฉ</i> ุ ุฏุนูุง ูุฐูุจ ุฅูู <em>RW / Scripts</em> ููุชุญ ุงูุจุฑูุงูุฌ ุงููุตู <em>State.cs</em> ูู IDE. <br><br>  <em>ุงูุญุงูุฉ</em> ุนุจุงุฑุฉ ุนู ูุฆุฉ ุชุฌุฑูุฏูุฉ ุณูุณุชุฎุฏููุง <i>ููููุฐุฌ</i> ุชุณุชูุฏ ููู ุฌููุน <i>ูุฆุงุช ุญุงูุงุช</i> ุงููุดุฑูุน.  ุฌุฒุก ูู ุงูููุฏ ุงูููุฌูุฏ ูู ููุงุฏ ุงููุดุฑูุน ุฌุงูุฒ ุจุงููุนู. <br><br>  ูุนุฑุถ <code>DisplayOnUI</code> ููุท ุงุณู ุงูุญุงูุฉ ุงูุญุงููุฉ ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุนูู ุงูุดุงุดุฉ.  ูุง ุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุฃุฌูุฒุชูุง ุงูุฏุงุฎููุฉ ุ ููุท ุฃุฏุฑู ุฃููุง ุชุณุชูุจู <code>UIManager.Alignment</code> ููุน <code>UIManager.Alignment</code> ููุนููุฉ ุฅุฏุฎุงู ุ ูุงูุชู ูููู ุฃู ุชููู ุนูู <code>Left</code> ุฃู <code>Right</code> .  ูุนุชูุฏ ุนุฑุถ ุงุณู ุงูุญุงูุฉ ูู ุฃุณูู ุฃู ูุณุงุฑ ุงูุดุงุดุฉ ุนูู ุฐูู. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุงู ููุนุงู ูู ุงููุชุบูุฑุงุช ุงููุญููุฉ ุ <code>character</code> ู <code>stateMachine</code> .  ูุดูุฑ ูุชุบูุฑ <code>character</code> ุฅูู ูุซูู ููุฆุฉ <em>Character</em> ุ ููุดูุฑ <code>stateMachine</code> ุฅูู ูุซูู <em>ูุฌูุงุฒ ุงูุญุงูุฉ</em> ุงููุฑุชุจุท ุจุงูุญุงูุฉ. <br><br>  ุนูุฏ ุฅูุดุงุก ูุซูู ุญุงูุฉ ุ ูุฅู ุงููููุดุฆ ูุฑุจุท ุจูู <code>character</code> ู <code>stateMachine</code> . <br><br>  ูููู ุฃู ูููู ููู ุญุงูุฉ ูู ุญุงูุงุช <code>Character</code> ูู ุงููุดูุฏ ูุฌููุนุฉ ุฎุงุตุฉ ุจูุง ูู ุงูุญุงูุงุช ูุฃุฌูุฒุฉ ุงูุญุงูุฉ. <br><br>  ุงูุขู ุฃุถู ุงูุทุฑู ุงูุชุงููุฉ ุฅูู <em>State.cs</em> ูุงุญูุธ ุงูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Enter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { DisplayOnUI(UIManager.Alignment.Left); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleInput</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LogicUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PhysicsUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Exit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { }</code> </pre> <br>  ุชุญุฏุฏ ูุฐู ุงูุทุฑู ุงูุงูุชุฑุงุถูุฉ ููุงุท ุงูุญุงูุฉ ุงูุฑุฆูุณูุฉ ุงูููุถุญุฉ ุฃุนูุงู.  ุนูุฏูุง <em>ุชููู ุขูุฉ ุงูุญุงูุฉ</em> ุจุงูุงูุชูุงู ุจูู ุงูุญุงูุงุช ุ ูุฅููุง ูุฏุนู <code>Exit</code> ููุญุงูุฉ ุงูุณุงุจูุฉ <code>Enter</code> <i>ุงูุญุงูุฉ ุงููุดุทุฉ</i> ุงูุฌุฏูุฏุฉ. <br><br>  <code>HandleInput</code> ู <code>LogicUpdate</code> ู <code>LogicUpdate</code> ูุนูุง <i>ุญููุฉ ุชุญุฏูุซ</i> .  <code>HandleInput</code> ูุนุงูุฌ ุฅุฏุฎุงู ุงููุงุนุจ.  <code>LogicUpdate</code> ูุนุงูุฌ ุงูููุทู ุงูุฃุณุงุณู ุ ุจูููุง <code>PhyiscsUpdate</code> ูุนุงูุฌ <code>PhyiscsUpdate</code> ุงูููุทู ูุงูููุฒูุงุก. <br><br>  ุงูุขู ุงูุชุญ <em>StateMachine.cs</em> ูุฑุฉ ุฃุฎุฑู ุ ุฃุถู ุงูุทุฑู ุงูุชุงููุฉ ูุญูุธ ุงูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">State startingState</span></span></span><span class="hljs-function">)</span></span> { CurrentState = startingState; startingState.Enter(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ChangeState</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">State newState</span></span></span><span class="hljs-function">)</span></span> { CurrentState.Exit(); CurrentState = newState; newState.Enter(); }</code> </pre> <br>  <code>Initialize</code> ุชูููู ุฌูุงุฒ ุงูุญุงูุฉ ุนู ุทุฑูู ุชุนููู <code>CurrentState</code> <code>startingState</code> State ูุงุณุชุฏุนุงุก <code>Enter</code> ูุฐูู.  ูุฐุง ุชููุฆุฉ ุฌูุงุฒ ุงูุญุงูุฉ ุ ูุฃูู ูุฑุฉ ุชุนููู ุงูุญุงูุฉ ุงููุดุทุฉ. <br><br>  <code>ChangeState</code> ูุนุงูุฌ ุงูุชุญููุงุช <em>ุงูุฏููุฉ</em> .  ููู ูุณุชุฏุนู <code>Exit</code> ูู <code>CurrentState</code> ุงููุฏูู ูุจู ุงุณุชุจุฏุงู <code>newState</code> ุจู <code>newState</code> .  ูู ุงูููุงูุฉ ุ ูุฅูู ูุณุชุฏุนู <code>Enter</code> for <code>newState</code> . <br><br>  ูุจุงูุชุงูู ุ ูุถุนูุง <em>ุขูุฉ ุงูุฏููุฉ ูุงูุฏููุฉ</em> . <br><br><h3 style=";text-align:right;direction:rtl">  ุฎูู ุงูุฏูู ุงูุญุฑูุฉ </h3><br>  ุฃููู ูุธุฑุฉ ุนูู ูุฎุทุท ุงูุญุงูุฉ ุงูุชุงูู ุ ูุงูุฐู ููุถุญ <i>ุญุงูุงุช ุงูุญุฑูุฉ</i> ุงููุฎุชููุฉ ูุฌููุฑ ุงููุงุนุจ ุฏุงุฎู ุงููุนุจุฉ.  ูู ูุฐุง ุงููุณู ุ ูุทุจู ูุงูุจ "ุงูุญุงูุฉ" <i>ููุญุฑูุฉ</i> ุงูููุถุญุฉ ูู ุดูู <i>FSM</i> : <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/4fa/bf6/c19/4fabf6c19761d028d621903401a84746.png"></div><br>  ุงูุชุจู ุฅูู ุญุงูุงุช ุงูุญุฑูุฉ ุ ููู <em>ุงูุฏุงุฆูุฉ</em> <em>ูุงูุงูุชูุงู</em> <em>ูุงูููุฒ</em> ุ ููุฐูู ููู ุชุณุจุจ ุงูุจูุงูุงุช ุงููุงุฑุฏุฉ ุงูุชูุงูุงุช ุจูู ุงูููุงูุงุช.  ูุฐุง ูู ูุฑูู FSM ููู <em>Grounded</em> ูู ุญุงูุฉ ูุฑุนูุฉ ูู <em>Ducking</em> ู <em>Stand- ุงูููุงูุงุช ุงููุฑุนูุฉ</em> . <br><br>  ุงูุนูุฏุฉ ุฅูู ุงููุญุฏุฉ <em>ูุงูุชูู</em> ุฅูู <em>RW / ุงูุจุฑุงูุฌ ุงููุตูุฉ / ุงูููุงูุงุช</em> .  ููุงู ุณุชุฌุฏ ุงูุนุฏูุฏ ูู ูููุงุช C # ูุน ุฃุณูุงุก ุชูุชูู ูู <i>ุงูุญุงูุฉ</i> . <br><br>  ูุนุฑูู ูู ูู ูุฐู ุงููููุงุช ูุฆุฉ ูุงุญุฏุฉ ุ ูู ูููุง ููุฑูุซ ูู <code>State</code> .  ูุฐูู ุ ุชุญุฏุฏ ูุฐู ุงููุฆุงุช ุงูุญุงูุงุช ุงูุชู ุณูุณุชุฎุฏููุง ูู ุงููุดุฑูุน. <br><br>  ุงูุขู ุงูุชุญ <em>Character.cs</em> ูู ุงููุฌูุฏ <em>RW / Scripts</em> . <br><br>  ูู ุจุงูุชูุฑูุฑ ุฃุนูู ููู <code>#region Variables</code> ูุฃุถู ุงูููุฏ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> StateMachine movementSM; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> StandingState standing; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DuckingState ducking; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> JumpingState jumping;</code> </pre> <br>  ุชุดูุฑ ูุฐู <code>movementSM</code> ุฅูู ุขูุฉ ุงูุญุงูุฉ ุงูุชู ุชุนุงูุฌ ููุทู ุงูุญุฑูุฉ ููุซูู <code>Character</code> .  ุฃุถููุง ุฃูุถูุง ุฑูุงุจุท ุฅูู ุซูุงุซ ููุงูุงุช ูุทุจููุง ููู ููุน ูู ุฃููุงุน ุงูุญุฑูุฉ. <br><br>  ุงูุชูู ุฅูู <code>#region MonoBehaviour Callbacks</code> ูู ููุณ ุงูููู.  ุฃุถู ุทุฑู <a href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.html" rel="noopener">MonoBehaviour</a> ุงูุชุงููุฉ ุซู ุงุญูุธูุง <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { movementSM = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StateMachine(); standing = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StandingState(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, movementSM); ducking = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DuckingState(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, movementSM); jumping = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JumpingState(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, movementSM); movementSM.Initialize(standing); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { movementSM.CurrentState.HandleInput(); movementSM.CurrentState.LogicUpdate(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FixedUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { movementSM.CurrentState.PhysicsUpdate(); }</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู <code>Start</code> ูููู ุงูููุฏ ุจุฅูุดุงุก ูุซูู ูู <em>State Machine</em> ููุนููู ุฅูู <code>movementSM</code> ุ ููุง ุฃูู ููุดุฆ ุญุงูุงุช ุญุฑูุฉ ูุฎุชููุฉ.  ุนูุฏ ุฅูุดุงุก ูู ุญุงูุฉ ูู ุญุงูุงุช ุงูุญุฑูุฉ ุ ูููู ุจุชูุฑูุฑ ุงูุฅุดุงุฑุงุช ุฅูู ูุซูู <code>Character</code> ุจุงุณุชุฎุฏุงู <code>this</code> ุ ููุฐูู ูุซูู motionSM.  ูู ุงูููุงูุฉ ุ ูุญู ูุฏุนู <code>Initialize</code> <code>movementSM</code> SM ูุชูุฑูุฑ <code>Standing</code> ูุญุงูุฉ ุฃูููุฉ. </li><li style=";text-align:right;direction:rtl">  ูู ุทุฑููุฉ <code>Update</code> ุ ูุฏุนู <code>HandleInput</code> ู <code>LogicUpdate</code> ุฅูู <code>CurrentState</code> ูุฌูุงุฒ <code>LogicUpdate</code> .  ูุจุงููุซู ุ ูู <code>FixedUpdate</code> ูุฏุนู <code>FixedUpdate</code> ููุขูุฉ <code>movementSM</code> .  ูู ุฌููุฑูุง ุ ูุฐุง ุชูููุถ ุงูููุงู ุฅูู ุญุงูุฉ ูุดุทุฉ.  ูุฐุง ูู ูุนูู ูุงูุจ "ุงูุญุงูุฉ". </li></ul><br>  ุงูุขู ูุญู ุจุญุงุฌุฉ ุฅูู ุถุจุท ุงูุณููู ุฏุงุฎู ูู ุญุงูุฉ ูู ุญุงูุงุช ุงูุญุฑูุฉ.  ุชุณุชุนุฏ ูููุณู ุ ุณูููู ููุงู ุงููุซูุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ! <br><br><h3 style=";text-align:right;direction:rtl">  ุดุฑูุฉ ุฏุงุฆูุฉ </h3><br>  ุงูุนูุฏุฉ ุฅูู <em>RW / ุงูุจุฑุงูุฌ ุงููุตูุฉ / ุงูุฏูู</em> ูู ูุงูุฐุฉ ุงููุดุฑูุน. <br><br>  ุงูุชุญ <em>Grounded.cs ููุงุญุธ</em> ุฃู ูุฐู ุงููุฆุฉ ุจูุง ูููุดุฆ ูุทุงุจู ูููุดุฆ <code>State</code> .  ูุฐุง ููุทูู ูุฃู ูุฐู ุงููุฆุฉ ุชุฑุซ ููู.  ุณุชุฑู ููุณ ุงูุดูุก ูู ุฌููุน ูุฆุงุช <i>ุงูุฏููุฉ</i> ุงูุฃุฎุฑู. <br><br>  ุฃุถู ุงูููุฏ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Enter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.Enter(); horizontalInput = verticalInput = <span class="hljs-number"><span class="hljs-number">0.0f</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Exit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.Exit(); character.ResetMoveParams(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleInput</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.HandleInput(); verticalInput = Input.GetAxis(<span class="hljs-string"><span class="hljs-string">"Vertical"</span></span>); horizontalInput = Input.GetAxis(<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PhysicsUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.PhysicsUpdate(); character.Move(verticalInput * speed, horizontalInput * rotationSpeed); }</code> </pre> <br>  ุฅููู ูุง ูุญุฏุซ ููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุนูุฏ ุชุนุฑูู ุฃุญุฏ ุงูุฃุณุงููุจ ุงูุงูุชุฑุงุถูุฉ ุงููุญุฏุฏุฉ ูู ุงููุฆุฉ ุงูุฃุตู.  ููุญูุงุธ ุนูู ุฌููุน ุงููุธุงุฆู ุงูุชู ูุฏ ุชููู ููุฌูุฏุฉ ูู ุงูุฃุตู ุ ูุฏุนู ุงูุทุฑููุฉ <code>base</code> ุจููุณ ุงูุงุณู ูู ูู ุทุฑููุฉ ุชุฌุงูุฒ.  ูุฐุง ูุงูุจ ููู ุณูุณุชูุฑ ูู ุงุณุชุฎุฏุงูู. </li><li style=";text-align:right;direction:rtl">  ุงูุณุทุฑ ุงูุชุงูู ุ <code>Enter</code> ูุนูู <code>horizontalInput</code> ู <code>verticalInput</code> ููููู ุงูุงูุชุฑุงุถูุฉ. </li><li style=";text-align:right;direction:rtl">  ุฏุงุฎู <code>Exit</code> ููุง ุฐูุฑูุง ุฃุนูุงู ุ ูุฏุนู ุทุฑููุฉ <code>ResetMoveParams</code> ุฅูู ุฅุนุงุฏุฉ <code>ResetMoveParams</code> ุนูุฏ ุงูุชุบููุฑ ุฅูู ุญุงูุฉ ุฃุฎุฑู. </li><li style=";text-align:right;direction:rtl">  ูู ุฃุณููุจ <code>HandleInput</code> ุ ุชููู ูุชุบูุฑุงุช <code>horizontalInput</code> ู <code>verticalInput</code> <code>HandleInput</code> ููู ูุญุงูุฑ ุงูุฅุฏุฎุงู ุงูุฃูููุฉ ูุงูุนููุฏูุฉ.  ุจูุถู ูุฐุง ุ ูููู ููุงุนุจ ุงูุชุญูู ูู ุงูุดุฎุตูุฉ ุจุงุณุชุฎุฏุงู ุงูููุงุชูุญ <em>W</em> ู <em>A</em> ู <em>S</em> ู <em>D.</em> </li><li style=";text-align:right;direction:rtl">  ูู <code>PhysicsUpdate</code> ูุฌุฑู ููุงููุฉ <code>Move</code> ุ ูุชูุฑูุฑ ูุชุบูุฑุงุช ุงููุฏุฎูุงุช <code>horizontalInput</code> <code>verticalInput</code> ูุถุฑูุจุฉ ุจุงูุณุฑุนุงุช ุงูููุงุจูุฉ.  ูู <code>speed</code> ุงููุชุบูุฑุฉ <code>speed</code> ูุชู ุชุฎุฒูู ุณุฑุนุฉ ุงูุญุฑูุฉ ุ ููู <code>rotationSpeed</code> ุ ุงูุณุฑุนุฉ ุงูุฒุงููุฉ. </li></ul><br>  ุงูุชุญ ุงูุขู <em>Standing.cs</em> ูุงูุชุจู ุฅูู ุญูููุฉ ุฃูู ูุฑุซ ูู <code>Grounded</code> .  ุญุฏุซ ุฐูู ูุฃูู ุ ููุง ูููุง ุฃุนูุงู ุ ูุฅู <em>Standing</em> ูู ุจุฏูู ูู <em>Grounded</em> .  ููุงู ุทุฑู ูุฎุชููุฉ ูุชูููุฐ ูุฐู ุงูุนูุงูุฉ ุ ููู ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ูุณุชุฎุฏู ุงููุฑุงุซุฉ. <br><br>  ุฃุถู ุทุฑู <code>override</code> ุงูุชุงููุฉ ูุงุญูุธ ุงูุจุฑูุงูุฌ ุงููุตู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Enter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.Enter(); speed = character.MovementSpeed; rotationSpeed = character.RotationSpeed; crouch = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; jump = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleInput</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.HandleInput(); crouch = Input.GetButtonDown(<span class="hljs-string"><span class="hljs-string">"Fire3"</span></span>); jump = Input.GetButtonDown(<span class="hljs-string"><span class="hljs-string">"Jump"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LogicUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.LogicUpdate(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (crouch) { stateMachine.ChangeState(character.ducking); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (jump) { stateMachine.ChangeState(character.jumping); } }</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู <code>Enter</code> ูููู ุจุชูููู ุงููุชุบูุฑุงุช ุงูููุฑูุซุฉ ูู <code>Grounded</code> .  ูู ุจุชุทุจูู <code>MovementSpeed</code> ู <code>RotationSpeed</code> <code>speed</code> ู <code>rotationSpeed</code> .  ุซู ูุฑุชุจุทูู ุ ุนูู ุงูุชูุงูู ุ ุจุงูุณุฑุนุฉ <i>ุงูุทุจูุนูุฉ</i> ููุญุฑูุฉ ูุงูุณุฑุนุฉ ุงูุฒุงููุฉ ุงููุฎุตุตุฉ ูุฌููุฑ ุงูุดุฎุตูุฉ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุชู ุฅุนุงุฏุฉ ุชุนููู ุงููุชุบูุฑุงุช ูุชุฎุฒูู <code>crouch</code> ูุฅุฏุฎุงู <code>jump</code> ุฅูู ุฎุทุฃ. </li><li style=";text-align:right;direction:rtl">  ุฏุงุฎู <code>HandleInput</code> ุ ุชุฎุฒู ูุชุบูุฑุงุช <code>crouch</code> <code>jump</code> ุฅุฏุฎุงู ุงููุงุนุจ <code>HandleInput</code> ูุงูููุฒุงุช.  ุฅุฐุง ุถุบุท ุงููุดุบู ูู ุงููุดูุฏ ุงูุฑุฆูุณู ุนูู <em>ููุชุงุญ Shift ุ</em> ูุณูุชู ุถุจุท ุงููุฑูุตุงุก ุนูู true.  ูุจุงููุซู ุ ูููู ููุงุนุจ ุงุณุชุฎุฏุงู ููุชุงุญ <em>Space</em> <code>jump</code> . </li><li style=";text-align:right;direction:rtl">  ูู <code>LogicUpdate</code> ูุชุญูู ูู ูุชุบูุฑุงุช <code>jump</code> ูููุน <code>bool</code> .  ุฅุฐุง ูุงู <code>crouch</code> ุตุญูุญูุง ุ <code>crouch</code> ุฅูู <code>character.ducking</code> .  ุฅุฐุง ูุงูุช <code>jump</code> ุตุญูุญุฉ ุ ูุณุชุชุบูุฑ ุงูุญุงูุฉ ุฅูู <code>character.jumping</code> . </li></ul><br>  ุงุญูุธ ุงููุดุฑูุน ููู ุจุชุฌููุนู ุ ุซู ุงููุฑ ููู " <em>ุชุดุบูู"</em> .  ููููู ุงูุชููู ูู ููุงู ุงูุญุงุฏุซ ุจุงุณุชุฎุฏุงู ุงูููุงุชูุญ <em>W</em> ู <em>A</em> ู <em>S</em> ู <em>D.</em>  ุฅุฐุง ุญุงููุช ุงูุถุบุท ุนูู <em>Shift</em> ุฃู <em>Space</em> ุ ูุณูุญุฏุซ ุณููู ุบูุฑ ูุชููุน ุ ูุฃู ุงูุญุงูุงุช ุงูููุงุจูุฉ ูู ูุชู ุชูููุฐูุง ุจุนุฏ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/450/89a/564/45089a5640a8d492b20ac5948e0fdf69.gif"></div><br>  ุญุงูู ุงูุชุญุฑู ุชุญุช ูุงุฆูุงุช ุงูุฌุฏูู.  ุณุชุฑู ุฃูู ุจุณุจุจ ุงุฑุชูุงุน ูุตุงุฏู ุงูุดุฎุตูุฉ ูุฐุง ุบูุฑ ูููู.  ููู ุชููู ุงูุดุฎุตูุฉ ุจูุฐุง ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุณููู ุงููุฑูุตุงุก. <br><br><h3 style=";text-align:right;direction:rtl">  ูุญู ูุชุณูู ุชุญุช ุงูุทุงููุฉ </h3><br>  ุงูุชุญ ุงูุจุฑูุงูุฌ ุงููุตู <em>Ducking.cs</em> .  ูุงุญุธ ุฃู <code>Ducking</code> ูุฑุซ ุฃูุถูุง ูู ูุฆุฉ <code>Grounded</code> ูููุณ ุงูุฃุณุจุงุจ ุงูุชู <code>Standing</code> .  ุฃุถู ุทุฑู <code>override</code> ุงูุชุงููุฉ ูุงุญูุธ ุงูุจุฑูุงูุฌ ุงููุตู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Enter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.Enter(); character.SetAnimationBool(character.crouchParam, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); speed = character.CrouchSpeed; rotationSpeed = character.CrouchRotationSpeed; character.ColliderSize = character.CrouchColliderHeight; belowCeiling = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Exit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.Exit(); character.SetAnimationBool(character.crouchParam, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); character.ColliderSize = character.NormalColliderHeight; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleInput</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.HandleInput(); crouchHeld = Input.GetButton(<span class="hljs-string"><span class="hljs-string">"Fire3"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LogicUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.LogicUpdate(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(crouchHeld || belowCeiling)) { stateMachine.ChangeState(character.standing); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PhysicsUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.PhysicsUpdate(); belowCeiling = character.CheckCollisionOverlap(character.transform.position + Vector3.up * character.NormalColliderHeight); }</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฏุงุฎู <code>Enter</code> ุงููุนููุฉ ุงูุชู ุชุณุจุจ ุชุจุฏูู ุญุฑูุงุช ุงููุฑูุตุงุก ุนูู ูุฑุงูุชุด ุ ูุงูุชู ุชููู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงููุฑูุตุงุก.  <code>character.CrouchRotationSpeed</code> ุชุฎุตูุต ุฎุตุงุฆุต <code>character.CrouchSpeed</code> ู <code>character.CrouchRotationSpeed</code> ูููู <code>speed</code> <code>rotation</code> ุ ูุงูุชู ุชูุฑุฌุน ุงูุญุฑูุฉ ูุงูุณุฑุนุฉ ุงูุฒุงููุฉ ููุญุฑู ุนูุฏ <i>ุชุญุฑูู ุงููุฑูุตุงุก</i> . <br><br>  <code>character.CrouchColliderHeight</code> ุงูุชุงูู. ูุนููู CrouchColliderHeight ุญุฌู ูุตุงุฏู ุงูุญุฑู ุ ูุงูุฐู ููุฑุฌุน ุงุฑุชูุงุน ูุตุงุฏู ุงูุงุฑุชูุงุน ุงููุฑุบูุจ ููู ุนูุฏ ุงููุฑูุตุงุก.  ูู ุงูููุงูุฉ ุ <code>belowCeiling</code> ุฅุนุงุฏุฉ ุชุนููู <code>belowCeiling</code> ุฅูู "ุฎุทุฃ". </li><li style=";text-align:right;direction:rtl">  ุฏุงุฎู <code>Exit</code> ูุชู ุชุนููู ุงููุนููุฉ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงููุฑูุตุงุก ุนูู ุฎุทุฃ.  ูุฐุง ุชุนุทูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงููุฑูุตุงุก.  ุซู ูุชู ุชุนููู ุงุฑุชูุงุน ุงูุงุตุทุฏุงู ุงูุนุงุฏู ุ ูุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ <code>character.NormalColliderHeight</code> . </li><li style=";text-align:right;direction:rtl">  ุจุฏุงุฎู <code>HandleInput</code> ูุนูู <code>crouchHeld</code> ุงููุชุบูุฑุฉ ูููุฉ ุฅุฏุฎุงู ุงููุดุบู.  ูู ุงููุดูุฏ <em>ุงูุฑุฆูุณู</em> ุ ูุคุฏู ุนูุฏ <em>Shift</em> ุฅูู <code>crouchHeld</code> ุฅูู ุญูููุฉ. </li><li style=";text-align:right;direction:rtl">  ุฏุงุฎู <code>belowCeiling</code> ุชุนููู ูููุฉ ุงููุชุบูุฑ <code>belowCeiling</code> ุนู ุทุฑูู ุชูุฑูุฑ ููุทุฉ ุจุชูุณูู <code>Vector3</code> ุจุฑุฃุณ ูุงุฆู ูุนุจุฉ ุงูุญุฑู ุฅูู ุฃุณููุจ <code>CheckCollisionOverlap</code> .  ุฅุฐุง ูุงู ููุงู ุชุตุงุฏู ุจุงููุฑุจ ูู ูุฐู ุงูููุทุฉ ุ ููุฐุง ูุนูู ุฃู ุงูุดุฎุตูุฉ ุชุญุช ุณูู ูุง. </li><li style=";text-align:right;direction:rtl">  ุฏุงุฎูููุง ุ ูุชุญูู <code>crouchHeld</code> ุฃู <code>belowCeiling</code> .  ุฅุฐุง ูู ููู ุฃู ูููุง ุตุญูุญูุง ุ ูุนูุฏุฆุฐู ูุชุบูุฑ moveSM.CurrentState ุฅูู <code>character.standing</code> . </li></ul><br>  ุจูุงุก ุงููุดุฑูุน ูุงููุฑ ุนูู <em>ุงููุนุจ</em> .  ุงูุขู ููููู ุงูุชุญุฑู ูู ุฌููุน ุฃูุญุงุก ููุงู ุงูุญุงุฏุซ.  ุฅุฐุง ููุช ุจุงูุถุบุท ุนูู <em>Shift</em> ุ ูุณูู ุชุฌูุณ ุงูุดุฎุตูุฉ ูููููู ุงูุชุญุฑู ูู ุงููุฑูุตุงุก. <br><br>  ููููู ุฃูุถุง ุงูุตุนูุฏ ุชุญุช ุงูููุตุฉ.  ุฅุฐุง ููุช ุจุฅุทูุงู <em>Shift</em> ุฃุซูุงุก ูุฌูุฏ ุงูููุตุงุช ุ ูุณุชุธู ุงูุดุฎุตูุฉ ูู ูุถุน ุงููุฑูุตุงุก ุญุชู ูุบุงุฏุฑ ููุฌุฃู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ee4/dce/657/ee4dce657ae6be49244106652a168a3a.gif"></div><br><h3 style=";text-align:right;direction:rtl">  ุชุฑุชูุน! </h3><br>  ุงูุชุญ <em>Jumping.cs</em> .  ุณุชุฑู ุทุฑููุฉ ุชุณูู <code>Jump</code> .  ูุง ุชููู ุจุดุฃู ููููุฉ ุนูููุง ุ  ูููู ุฃู ูููู ุฃูู ูุชู ุงุณุชุฎุฏุงูู ุจุญูุซ ูููู ููุดุฎุตูุฉ ุงูููุฒ ูุน ูุฑุงุนุงุฉ ุงูููุฒูุงุก ูุงูุฑุณูู ุงููุชุญุฑูุฉ. <br><br>  ุงูุขู ุฅุถุงูุฉ ุฃุณุงููุจ <code>override</code> ุงููุนุชุงุฏ ูุญูุธ ุงูุจุฑูุงูุฌ ุงููุตู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Enter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.Enter(); SoundManager.Instance.PlaySound(SoundManager.Instance.jumpSounds); grounded = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; Jump(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LogicUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.LogicUpdate(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (grounded) { character.TriggerAnimation(landParam); SoundManager.Instance.PlaySound(SoundManager.Instance.landing); stateMachine.ChangeState(character.standing); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PhysicsUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.PhysicsUpdate(); grounded = character.CheckCollisionOverlap(character.transform.position); }</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุงูุฏุงุฎู <code>Enter</code> <code>SoundManager</code> ุจุชุดุบูู ุตูุช ุงูููุฒุฉ.  ุซู <code>grounded</code> ุฅุนุงุฏุฉ ุชุนููู <code>grounded</code> ุฅูู ูููุชูุง ุงูุงูุชุฑุงุถูุฉ.  ูู ุงูููุงูุฉ ุ ูุณูู <code>Jump</code> . </li><li style=";text-align:right;direction:rtl">  ุฏุงุฎู <code>PhysicsUpdate</code> ููุทุฉ <code>PhysicsUpdate</code> ุจุฌุงูุจ ุฃุฑุฌู ุงูุดุฎุตูุฉ ุฅูู <code>CheckCollisionOverlap</code> ุ ููุง ูุนูู ุฃูู ุนูุฏูุง ุชููู ุงูุดุฎุตูุฉ ุนูู ุงูุฃุฑุถ ุ ุณูุชู ุถุจุท <code>grounded</code> ุนูู ุตูุงุจ. </li><li style=";text-align:right;direction:rtl">  ูู <code>LogicUpdate</code> ุ ุฅุฐุง ูุงูุช <code>LogicUpdate</code> ุตุญูุญุฉ ุ ูุฅููุง ูุฏุนู <code>TriggerAnimation</code> ูุชูููู ุงูุฑุณูู ุงููุชุญุฑูุฉ ูููุจูุท ุ ููุชู ุชุดุบูู ุตูุช ุงููุจูุท ุ <code>TriggerAnimation</code> ุฅูู <code>character.standing</code> . </li></ul><br>  ูุฐูู ุ ุฃููููุง ุงูุชูููุฐ ุงููุงูู ููุฒูุญ FSM ุจุงุณุชุฎุฏุงู <em>ูุงูุจ "ุงูุญุงูุฉ"</em> .  ุจูุงุก ุงููุดุฑูุน ูุชุดุบููู.  ุงุถุบุท ุนูู <em>ุงููุถุงุก</em> ูุฌุนู ุดุฎุตูุฉ ุงูููุฒ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ebd/e16/05d/ebde1605dc739588529c51509e19c0a8.gif"></div><br><h2 style=";text-align:right;direction:rtl">  ุฅูู ุฃูู ุชุฐูุจ ุจุนุฏ ุฐููุ </h2><br>  <a href="">ููุงุฏ ุงููุดุฑูุน</a> ูุฏููุง ูุดุฑูุน ุงููุดุฑูุน ูุงููุดุฑูุน ุงูููุงุฆู. <br><br>  ุนูู ุงูุฑุบู ูู ูุงุฆุฏุชูุง ุ ุฅูุง ุฃู ุขูุงุช ุงูุญุงูุฉ ููุง ูููุฏ.  ูููู ูุขูุงุช ุงูุญุงูุฉ ุงููุชุฒุงููุฉ ูุขูุงุช Pushdown ุงูุชููุงุฆูุฉ ูุนุงูุฌุฉ ุจุนุถ ูุฐู ุงููููุฏ.  ููููู ุฃู ุชูุฑุฃ ุนููุง ูู ูุชุงุจ ุฑูุจุฑุชุณ ููุณุชุฑูู <a href="https://gameprogrammingpatterns.com/state.html" rel="noopener"><em>ูุนุจุฉ ุฃููุงุท ุงูุจุฑูุฌุฉ</em></a> . <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ุงุณุชูุดุงู ุงูููุถูุน ุจุดูู ุฃุนูู ุนู ุทุฑูู ูุญุต <a href="https://en.wikipedia.org/wiki/Behavior_tree_(artificial_intelligence,_robotics_and_control)" rel="noopener"><em>ุฃุดุฌุงุฑ ุงูุณููู</em></a> ุงููุณุชุฎุฏูุฉ ูุฅูุดุงุก ููุงูุงุช ุฃูุซุฑ ุชุนููุฏูุง ุฏุงุฎู ุงููุนุจุฉ. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar484176/">https://habr.com/ru/post/ar484176/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar484166/index.html">VVVVVV ุุ VVVVVV !!! :)</a></li>
<li><a href="../ar484168/index.html">ููุชุจ ุงุณุชุฑุงุชูุฌูุชูุง ููุชูุฑูุฑ ุงูุธุงูุฑู ูู Angular CDK</a></li>
<li><a href="../ar484170/index.html">ุชุญุฏูุซ ููุทุฉ ุงูุชุญูู ูู R77.30 ุฅูู 80.20</a></li>
<li><a href="../ar484172/index.html">ุงูุชูุงูู ุงููุณุชูุฑ ูู ุงููุญุฏุฉ: ููููุฉ ุชูููู ููุช ุงูุชุฌููุน ูุชูููุฑ ุงูููุงุฑุฏ + payline ููุฏูุฉ</a></li>
<li><a href="../ar484174/index.html">ุชุดุฑุจ ุงูููุนุฉ ูู ุธุฑูู "ูุงุณูุฉ" ุฃู ููู ุดุงุฑููุง ูู ุนุฑุถ "DOZOR"</a></li>
<li><a href="../ar484178/index.html">ุฐูู ุงูุชุจุฏูู ุฅูุซุฑูุช ููููุจ ุงูุฃุฑุถ</a></li>
<li><a href="../ar484180/index.html">Rostelecom ุงูุธุงูุฑู PBX: ูุงุฐุง ูููู ูููู ุงูููุงู ุจู ูู ุฎูุงู API</a></li>
<li><a href="../ar484182/index.html">Xenobots: ุงููุงุฆูุงุช ุงููุงูููุฉ ุงูุญูุฉ ูู ุฎูุงูุง ุงูุถูุงุฏุน</a></li>
<li><a href="../ar484186/index.html">LDAP - "ุงููุตุงุฏูุฉ" ูู ุฃุฏุงุฉ ูุถุงุฏุฉ</a></li>
<li><a href="../ar484188/index.html">ูุนุงููุฑ ุชุตููู ููุงุนุฏ ุงูุจูุงูุงุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>