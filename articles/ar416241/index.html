<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐ฟโ๐คโ๐จ๐ผ ๐ ๐ ุงุณุชุฑุฌุงุน ุงููุณุชููุงุช ูู Super Mario Bros ุจุงุณุชุฎุฏุงู Python ๐ง ๐ถ๐ป ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏูุฉ 
 ุจุงููุณุจุฉ ููุดุฑูุน ุฌุฏูุฏ ุ ููุช ุจุญุงุฌุฉ ุฅูู ุงุณุชุฎุฑุงุฌ ุจูุงูุงุช ุงููุณุชูู ูู ูุนุจุฉ ุงูููุฏูู ุงูููุงุณูููุฉ 1985 Super Mario Bros (SMB) . ุจุดูู ุฃูุซุฑ ุชุญุฏูุฏูุง ุ ููุช ุฃุฑ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงุณุชุฑุฌุงุน ุงููุณุชููุงุช ูู Super Mario Bros ุจุงุณุชุฎุฏุงู Python</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416241/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/707/a7a/80a/707a7a80afb88c419beb17be9e108272.png"></div><br><h2 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h2><br>  ุจุงููุณุจุฉ ููุดุฑูุน ุฌุฏูุฏ ุ ููุช ุจุญุงุฌุฉ ุฅูู ุงุณุชุฎุฑุงุฌ ุจูุงูุงุช ุงููุณุชูู ูู ูุนุจุฉ ุงูููุฏูู ุงูููุงุณูููุฉ 1985 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Super Mario Bros (SMB)</a> .  ุจุดูู ุฃูุซุฑ ุชุญุฏูุฏูุง ุ ููุช ุฃุฑุบุจ ูู ุงุณุชุฎุฑุงุฌ ุฑุณููุงุช ุงูุฎูููุฉ ููู ูุณุชูู ูู ูุณุชููุงุช ุงููุนุจุฉ ุจุฏูู ูุงุฌูุฉ ุ ูุชุญุฑูู ุงููููุด ุงููุชุญุฑูุฉ ุ ููุง ุฅูู ุฐูู. <br><br>  ุจุงูุทุจุน ุ ูููููู ููุท ูุตู ุงูุตูุฑ ูู ุงููุนุจุฉ ุ ูุฑุจูุง ุฃุชูุชุฉ ุงูุนูููุฉ ุจุงุณุชุฎุฏุงู ุชูููุงุช ุฑุคูุฉ ุงููุงูููุฉ.  ูููู ุจุฏุง ูู ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ุงูุทุฑููุฉ ุงูููุถุญุฉ ุฃุฏูุงู ุ ูุงูุชู ุชุณูุญ ูู ุจุงุณุชูุดุงู ุนูุงุตุฑ ุงููุณุชูู ุชูู ุงูุชู ูุง ูููู ุงูุญุตูู ุนูููุง ุจุงุณุชุฎุฏุงู ููุทุงุช ุงูุดุงุดุฉ. <br><br>  ูู ุงููุฑุญูุฉ ุงูุฃููู ูู ุงููุดุฑูุน ุ ุณูู ูุชุนูู ูุบุฉ ุงูุชุฌููุน 6502 ููุญุงูู ููุชูุจ ุจูุบุฉ Python.  ููุฏ ุงููุตุฏุฑ ุงููุงูู ูุชุงุญ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุชุญููู ุดูุฑุฉ ุงููุตุฏุฑ </h2><br>  ุชููู ุงูููุฏุณุฉ ุงูุนูุณูุฉ ูุฃู ุจุฑูุงูุฌ ุฃุจุณุท ุจูุซูุฑ ุฅุฐุง ูุงู ูุฏูู ุดูุฑุฉ ุงููุตุฏุฑ ุงูุฎุงุตุฉ ุจูุง ุ ููุฏููุง ูุตุงุฏุฑ SMB ูู ุดูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">17 ุฃูู ุณุทุฑ ูู ููุฏ ุงูุชุฌููุน 6502 (ูุนุงูุฌ NES) ุชู</a> ูุดุฑู ุจูุงุณุทุฉ doppelganger.  ูุธุฑูุง ูุฃู Nintendo ูู ุชุตุฏุฑ ูุทูููุง ุฅุตุฏุงุฑูุง ุฑุณูููุง ูููุตุฏุฑ ุ ููุฏ ุชู ุฅูุดุงุก ุงูุฑูุฒ ุนู ุทุฑูู ุชูููู ุฑูุฒ ุฌูุงุฒ SMB ุ ููู ุดูุฑุฉ ูุนุงูู ูู ุฌุฒุก ุจุดูู ูุคูู ุ ูุฅุถุงูุฉ ุชุนูููุงุช ูุฃุณูุงุก ุฑูุฒูุฉ ุฐุงุช ูุนูู. <br><br>  ุจุนุฏ ุฅุฌุฑุงุก ุจุญุซ ุณุฑูุน ุนูู ุงูููู ุ ูุฌุฏุช ุดูุฆูุง ูุดุงุจููุง ูุจูุงูุงุช ุงููุณุชูู ุงูุชู ูุญุชุงุฌูุง: <br><br> <code>;level 1-1 <br> L_GroundArea6: <br> .db $50, $21 <br> .db $07, $81, $47, $24, $57, $00, $63, $01, $77, $01 <br> .db $c9, $71, $68, $f2, $e7, $73, $97, $fb, $06, $83 <br> .db $5c, $01, $d7, $22, $e7, $00, $03, $a7, $6c, $02 <br> .db $b3, $22, $e3, $01, $e7, $07, $47, $a0, $57, $06 <br> .db $a7, $01, $d3, $00, $d7, $01, $07, $81, $67, $20 <br> .db $93, $22, $03, $a3, $1c, $61, $17, $21, $6f, $33 <br> .db $c7, $63, $d8, $62, $e9, $61, $fa, $60, $4f, $b3 <br> .db $87, $63, $9c, $01, $b7, $63, $c8, $62, $d9, $61 <br> .db $ea, $60, $39, $f1, $87, $21, $a7, $01, $b7, $20 <br> .db $39, $f1, $5f, $38, $6d, $c1, $af, $26 <br> .db $fd</code> <br> <br>  ุฅุฐุง ูู ุชูู ูุนุชุงุฏูุง ุนูู ุฃุฏุงุฉ ุงูุชุฌููุน ุ ูุณูู ุฃุดุฑุญ: ูู ูุฐุง ูุนูู ุจุจุณุงุทุฉ "ุฅุฏุฑุงุฌ ูุซู ูุฐู ุงููุฌููุนุฉ ูู ูุญุฏุงุช ุงูุจุงูุช ูู ุงูุจุฑูุงูุฌ <code>L_GroundArea6</code> ุ ุซู ุงูุณูุงุญ ูุฃุฌุฒุงุก ุฃุฎุฑู ูู ุงูุจุฑูุงูุฌ ุจุงูุฅุดุงุฑุฉ ุฅูููุง ุจุงุณุชุฎุฏุงู ุฑูุฒ <code>L_GroundArea6</code> ".  ููููู ุฃู ุชุฃุฎุฐ ูุฐุง ุงูุฌุฒุก ููุตูููุฉ ูููู ูููุง ูู ุนูุตุฑ ุจุงูุช. <br><br>  ุฃูู ุดูุก ููููู ููุงุญุธุชู ูู ุฃู ุญุฌู ุงูุจูุงูุงุช ุตุบูุฑ ุฌุฏูุง (ุญูุงูู 100 ุจุงูุช).  ูุฐูู ุ ูุณุชุจุนุฏ ุฌููุน ุฃููุงุน ุงูุชุฑููุฒ ุ ููุง ูุณูุญ ูู ุจูุถุน ุงููุชู ุจุดูู ุชุนุณูู ุนูู ุงููุณุชูู.  ุจุนุฏ ุงูุจุญุซ ููููุงู ุ ูุฌุฏุช ุฃู ูุฐู ุงูุจูุงูุงุช ุชุชู ูุฑุงุกุชูุง (ุจุนุฏ ุนุฏุฉ ุนูููุงุช ุนูููุฉ ุบูุฑ ูุจุงุดุฑุฉ) ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">AreaParserCore</a> .  ุชุณุชุฏุนู ูุฐู ุงูุนูููุฉ ุงููุฑุนูุฉ ุจุฏูุฑูุง ุงูุนุฏูุฏ ูู ุงูุฅุฌุฑุงุกุงุช ุงููุฑุนูุฉ ุงูุฃุฎุฑู ุ ูุชุณุชุฏุนู ูู ุงูููุงูุฉ ุฅุฌุฑุงุกุงุช ูุฑุนูุฉ ูุญุฏุฏุฉ ููู ููุน ูู ุงููุงุฆูุงุช ุงููุณููุญ ุจูุง ูู ุงููุดูุฏ (ุนูู ุณุจูู ุงููุซุงู ุ <code>StaircaseObject</code> ู <code>VerticalPipe</code> ู <code>RowOfBricks</code> ): <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/4e5/385/954/4e538595409be651da11d5166c97b130.png"></div><br>  <i>ุงูุฑุณู ุงูุจูุงูู ุงูููุงููุฉ <code>AreaParserCore</code> ู <code>AreaParserCore</code></i> <br><br>  ููุชุจ ุงูุฅุฌุฑุงุก ุฅูู <code>MetatileBuffer</code> : ูุณู ุฐุงูุฑุฉ 13 ุจุงูุช ุ ููู ุนููุฏ ูุงุญุฏ ูู ุงููุชู ูู ูุณุชูู ุ ููุซู ูู ุจุงูุช ูููุง ูุชูุฉ ูููุตูุฉ.  Metatile ุนุจุงุฑุฉ ุนู ูุชูุฉ 16x16 ุชุชููู ูููุง ุฎูููุงุช ูุนุจุฉ SMB: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c27/d0b/bd9/c27d0bbd9fdce9bf86b56ce181b2747d.png"></div><br>  <i>ูุณุชูู ูุน ูุณุชุทููุงุช ูุญุงุทุฉ ุจุฏูุงุฑ ุญูู metatiles</i> <br><br>  ูุทูู ุนูููุง ุงููููุงุช ุงูููููุฉ ุ ูุฃู ูู ูููุง ูุชููู ูู ุฃุฑุจุนุฉ ูุฑุจุนุงุช 8 ร 8 ุจูุณู ุ ูููู ุฃูุซุฑ ูู ุฐูู ุฃุฏูุงู. <br><br>  ุชุดุฑุญ ุญูููุฉ ุฃู ูููู ุงูุชุดููุฑ ูุนูู ูุน ูุงุฆูุงุช ูุญุฏุฏุฉ ูุณุจููุง ุงูุญุฌู ุงูุตุบูุฑ ูููุณุชูู: ูุฌุจ ุฃู ุชุดูุฑ ุจูุงูุงุช ุงููุณุชูู ููุท ุฅูู ุฃููุงุน ุงููุงุฆูุงุช ููููุนูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ "ุถุน ุงูุฃูุจูุจ ุนูุฏ ุงูููุทุฉ (20 ุ 16) ุ ุนุฏุฏ ูู ุงููุชู ุนูุฏ ุงูููุทุฉ (10 ุ 5) ุ ... ".  ููุน ุฐูู ุ ูุฐุง ูุนูู ุฃู ุงูุฃูุฑ ูุชุทูุจ ุงููุซูุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุชุญููู ุจูุงูุงุช ุงููุณุชูู ุงูุฎุงู ุฅูู ูููุงุช ุชุนุฑูู. <br><br>  ุณูุณุชุบุฑู ููู ูุฐุง ุงูููุฏุงุฑ ูู ุงูููุฏ ูุฅูุดุงุก ุฃุฏุงุฉ ูุชุญ ุงูุญุฒู ุงูุฎุงุตุฉ ุจู ุงููุซูุฑ ูู ุงูููุช ุ ูุฐูู ุฏุนููุง ูุฌุฑุจ ููุฌูุง ูุฎุชูููุง. <br><br><h2 style=";text-align:right;direction:rtl">  py65emu </h2><br>  ุฅุฐุง ูุงูุช ูุฏููุง ูุงุฌูุฉ ุจูู Python ููุบุฉ ุงูุชุฌููุน 6502 ุ ููููููุง ุงุณุชุฏุนุงุก <code>AreaParserCore</code> ููู ุนููุฏ ูุณุชูู ุ ุซู ุงุณุชุฎุฏุงู Python ุฃูุซุฑ ูุงุจููุฉ ููููู ูุชุญููู ูุนูููุงุช ุงููุชูุฉ ุฅูู ุงูุตูุฑุฉ ุงููุทููุจุฉ. <br><br>  ุซู ูุธูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">py65emu</a> ุนูู ุงููุดูุฏ - ูุญุงูู 6502 ููุฌุฒ ุจูุงุฌูุฉ Python.  ุฅููู ููููุฉ ุชูููู ููุณ ุงูุฐุงูุฑุฉ ูู py65emu ููุง ูู ุงูุญุงู ูู NES: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> py65emu.cpu <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> CPU <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> py65emu.mmu <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MMU <span class="hljs-comment"><span class="hljs-comment">#  ROM  (..  ) with open("program.bin", "rb") as f: prg_rom = f.read() #   . mmu = MMU([ #  2K ,    0x0. (0x0, 2048, False, []), #  ROM   0x8000. (0x8000, len(prg_rom), True, list(prg_rom)) ]) #     ,       0x8000 cpu = CPU(mmu, 0x8000)</span></span></code> </pre> <br>  ุจุนุฏ ุฐูู ุ ูููููุง ุชูููุฐ ุชุนูููุงุช ูุฑุฏูุฉ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <code>cpu.step()</code> ุ ููุญุต ุงูุฐุงูุฑุฉ ุจุงุณุชุฎุฏุงู <code>mmu.read()</code> ุ ูุฏุฑุงุณุฉ ุชุณุฌููุงุช ุงูุฌูุงุฒ ุจุงุณุชุฎุฏุงู <code>cpu.ra</code> ุ <code>cpu.r.pc</code> ุ ุฅูุฎ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููููุง ุงููุชุงุจุฉ ุฅูู ุงูุฐุงูุฑุฉ ุจุงุณุชุฎุฏุงู <code>mmu.write()</code> . <br><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ูุฐุง ูุฌุฑุฏ ูุญุงูู ูุนุงูุฌ NES: ููู ูุง ูุญุงูู ุฃุฌูุฒุฉ ุฃุฎุฑู ุ ูุซู PPU (ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุตูุฑ) ุ ูุฐูู ูุง ูููู ุงุณุชุฎุฏุงูู ููุญุงูุงุฉ ุงููุนุจุฉ ุจุฃููููุง.  ููุน ุฐูู ุ ูุฌุจ ุฃู ูููู ูุงูููุง ุงุณุชุฏุนุงุก ุงูุฅุฌุฑุงุก ุงููุฑุนู ููุชุญููู ุ ูุฃูู ูุง ูุณุชุฎุฏู ุฃู ุฃุฌูุฒุฉ ุฃุฎุฑู ุจุงุณุชุซูุงุก ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุงูุฐุงูุฑุฉ. <br><br>  ุชุชูุซู ุงูุฎุทุฉ ูู ุชูููู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ููุง ูู ููุถุญ ุฃุนูุงู ุ ุซู ููู ุฃูุณุงู ุงููุณุชูู ุ ูู ุจุชููุฆุฉ ุฃูุณุงู ุงูุฐุงูุฑุฉ ุจููู ุงูุฅุฏุฎุงู ุงููุทููุจุฉ ูู <code>AreaParserCore</code> ุ ูุงุณุชุฏุนุงุก <code>AreaParserCore</code> ุ ุซู ูู ุจูุฑุงุกุฉ ุจูุงูุงุช ุงูุนููุฏ ูุฑุฉ ุฃุฎุฑู.  ุจุนุฏ ุงูุงูุชูุงุก ูู ูุฐู ุงูุนูููุงุช ุ ูุณุชุฎุฏู Python ูุชุฌููุน ุงููุชูุฌุฉ ูู ุตูุฑุฉ ููุงุฆูุฉ. <br><br>  ูููู ูุจู ุฐูู ุ ูุญุชุงุฌ ุฅูู ุชุฌููุน ุงููุงุฆูุฉ ุจูุบุฉ ุงูุชุฌููุน ูู ุฑูุฒ ุงูุขูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ร 816 </h2><br>  ููุง ูู ููุถุญ ูู ููุฏ ุงููุตุฏุฑ ุ ูุชู ุชุฌููุน ุงููุฌูุน ุจุงุณุชุฎุฏุงู x816.  x816 ูู ูุฌููุน MS-DOS 6502 ูุณุชุฎุฏูู ูุฌุชูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจูุฑุฉ</a> ุงููุญููุฉ ููุฑุงุตูุฉ NES ู ROM.  ูุนูู ุจุดูู ุฑุงุฆุน ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">DOSBox</a> . <br><br>  ุฌูุจุง ุฅูู ุฌูุจ ูุน ROM ูู ุงูุจุฑูุงูุฌ ุ ููู ุฃูุฑ ุถุฑูุฑู ู py65emu ุ ูููู ูุฌููุน x816 ุจุฅูุดุงุก ููู ุญุฑู ูุนููู ุงูุฃุญุฑู ุฅูู ูููุนูุง ูู ุงูุฐุงูุฑุฉ ูู ูุณุงุญุฉ ุนููุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ.  ููุง ููุชุทู ูู ุงูููู: <br><br> <code>AREAPARSERCORE = $0093FC ; &lt;&gt; 37884, statement #3154 <br> AREAPARSERTASKCONTROL = $0086E6 ; &lt;&gt; 34534, statement #1570 <br> AREAPARSERTASKHANDLER = $0092B0 ; &lt;&gt; 37552, statement #3035 <br> AREAPARSERTASKNUM = $00071F ; &lt;&gt; 1823, statement #141 <br> AREAPARSERTASKS = $0092C8 ; &lt;&gt; 37576, statement #3048</code> <br> <br>  ููุง ูุฑู ุฃูู ูููู ุงููุตูู ุฅูู ุงูุฏุงูุฉ <code>AreaParserCore</code> ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ุนูู <code>0x93fc</code> . <br><br>  ูู ุฃุฌู ุงูุฑุงุญุฉ ุ ูุชุจุช ูุญูู ููู ุฑูุฒ ูุทุงุจู ุฃุณูุงุก ุงูุฑููุฒ ูุงูุนูุงููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">sym_file = SymbolFile(<span class="hljs-string"><span class="hljs-string">'SMBDIS.SYM'</span></span>) print(<span class="hljs-string"><span class="hljs-string">"0x{:x}"</span></span>.format(sym_file[<span class="hljs-string"><span class="hljs-string">'AREAPARSERCORE'</span></span>])) <span class="hljs-comment"><span class="hljs-comment">#  0x93fc print(sym_file.lookup_address(0x93fc)) #  "AREAPARSERCORE"</span></span></code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ุงูุฅุฌุฑุงุกุงุช ุงููุฑุนูุฉ </h2><br>  ููุง ูู ููุถุญ ูู ุงูุฎุทุฉ ุฃุนูุงู ุ ูุฑูุฏ ุฃู ูุชุนูู ููููุฉ ุงุณุชุฏุนุงุก <code>AreaParserCore</code> ูู Python. <br><br>  ูููู ุขููุงุช ุงูุฅุฌุฑุงุก ุงููุฑุนู ุ ุฏุนูุง ููุญุต ุงูุฅุฌุฑุงุก ุงููุฑุนู ุงููุตูุฑ ูุงูุชุญุฏู ุงูููุงุจู ูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">WritePPUReg1: sta PPU_CTRL_REG1 ;  A   <span class="hljs-number"><span class="hljs-number">1</span></span> PPU sta Mirror_PPU_CTRL_REG1 ;    rts ... jsr WritePPUReg1</code> </pre> <br>  <code>jsr</code> (ุงูุงูุชูุงู ุฅูู ุฑูุชูู ูุฑุนู ุ "ุงูููุฒ ุฅูู ุฑูุชูู") ุชุณุฌูู ุฌูุงุฒ ุงูููุจููุชุฑ ุนูู ุงูููุฏุณ ููุนููู ูููุฉ ุงูุนููุงู ุงูุชู ูุดูุฑ ุฅูููุง <code>WritePPUReg1</code> .  ูุฎุจุฑ ุณุฌู ุงูููุจููุชุฑ ุงููุนุงูุฌ ุงููุนุงูุฌ ุนู ุงูุชุนูููุงุช ุงูุชุงููุฉ ููุชู ุชุญููููุง ุ ุจุญูุซ ุชููู ุงูุชุนูููุงุช ุงูุชุงููุฉ ุงูุชู ูุชู ุชูููุฐูุง ุจุนุฏ ุชุนูููุงุช <code>WritePPUReg1</code> ูู ุงูุณุทุฑ ุงูุฃูู ูู <code>WritePPUReg1</code> . <br><br>  ูู ููุงูุฉ ุงูุฑูุชูู ุ ูุชู ุชูููุฐ ุจูุงู <code>rts</code> (ุงูุนูุฏุฉ ูู ุงูุฑูุชูู ุ "ุงูุนูุฏุฉ ูู ุงูุฑูุชูู").  ูุฒูู ูุฐุง ุงูุฃูุฑ ุงููููุฉ ุงููุฎุฒูุฉ ูู ุงูููุฏุณ ููุฎุฒููุง ูู ุณุฌู ุงูููุจููุชุฑ ุ ููุง ูุฌุจุฑ ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุนูู ุชูููุฐ ุงูุชุนูููุงุช ุงูุชุงููุฉ ูุงุณุชุฏุนุงุก <code>jsr</code> . <br><br>  ููุฒุฉ ุฑุงุฆุนุฉ ูู ุงูุฅุฌุฑุงุกุงุช ุงููุฑุนูุฉ ูู ุฃูู ููููู ุฅูุดุงุก ููุงููุงุช ูุถููุฉ ุ ุฃู ููุงููุงุช ุงูุฅุฌุฑุงุกุงุช ุงููุฑุนูุฉ ุถูู ุงูุฅุฌุฑุงุกุงุช ุงููุฑุนูุฉ.  ุณูุชู ุฏูุน ุนูุงููู ุงูุฅุฑุฌุงุน ุฅูู ุงูููุฏุณ ูุฅุจุฑุงุฒูุง ุจุงูุชุฑุชูุจ ุงูุตุญูุญ ุ ุชูุงููุง ููุง ูู ุงูุญุงู ูุน ููุงููุงุช ุงููุธุงุฆู ุจูุบุงุช ุนุงููุฉ ุงููุณุชูู. <br><br>  ููุง ูู ุฑูุฒ ุชูููุฐ ุฑูุชูู ูุฑุนู ูู Python: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">execute_subroutine</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cpu, addr)</span></span></span><span class="hljs-function">:</span></span> s_before = cpu.rs cpu.JSR(addr) <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> cpu.rs != s_before: cpu.step() execute_subroutine(cpu, sym_file[<span class="hljs-string"><span class="hljs-string">'AREAPARSERCORE'</span></span>])</code> </pre> <br>  ูุญูุธ ุงูููุฏ ุงููููุฉ ุงูุญุงููุฉ ูุณุฌู (ุณุฌูุงุช) ูุคุดุฑ ุงูููุฏุณ ุ ููุญุงูู ุงุณุชุฏุนุงุก <code>jsr</code> ุ ุซู ูููุฐ ุงูุชุนูููุงุช ุญุชู ูุนูุฏ ุงูููุฏุณ ุฅูู ุงุฑุชูุงุนู ุงูุฃุตูู ุ ูุงูุฐู ูุญุฏุซ ููุท ุจุนุฏ ุนูุฏุฉ ุงูุฅุฌุฑุงุก ุงููุฑุนู ุงูุฃูู.  ุณูููู ูุฐุง ูููุฏูุง ุ ูุฃู ูุฏููุง ุงูุขู ุทุฑููุฉ ููุงุชุตุงู ุจุฑูู 6502 ุฑูุชูููุง ูุฑุนููุง ูู Python. <br><br>  ููุน ุฐูู ุ ูุณููุง ุดูุฆูุง ูุง: ููููุฉ ุชูุฑูุฑ ููู ุงูุฅุฏุฎุงู ููุฐุง ุงูุฅุฌุฑุงุก ุงููุฑุนูุ  ูุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุงูุฅุฌุฑุงุก ุงูุฐู ูุฑูุฏ ุชูุฏููู ูุงูุนููุฏ ุงูุฐู ูุญุชุงุฌ ุฅูู ุชุญูููู. <br><br>  ุนูู ุนูุณ ุงููุธุงุฆู ูู ุงููุบุงุช ุนุงููุฉ ุงููุณุชูู ุ ูุง ูููู ุฃู ุชุชููู ุงูุฑูุงุจุท ุงููุฑุนูุฉ ููุบุฉ ุงูุชุฌููุน 6502 ุจูุงูุงุช ุฅุฏุฎุงู ูุญุฏุฏุฉ ุตุฑุงุญุฉ.  ุจุฏูุงู ูู ุฐูู ุ ูุชู ุฅุฑุณุงู ุงูุฅุฏุฎุงู ุนู ุทุฑูู ุชุญุฏูุฏ ููุงูุน ุงูุฐุงูุฑุฉ ูู ููุงู ูุง ูุจู ุงูููุงููุฉ ุ ูุงูุชู ุชุชู ูุฑุงุกุชูุง ุจุนุฏ ุฐูู ุฏุงุฎู ุงุณุชุฏุนุงุก ุงูุฅุฌุฑุงุก ุงููุฑุนู.  ุจุงููุธุฑ ุฅูู ุญุฌู <code>AreaParserCore</code> ุ ูุฅู ุงูููุฏุณุฉ ุงูุนูุณูุฉ ูููุฏุฎูุงุช ุงููุทููุจุฉ ุจูุฌุฑุฏ ุงููุธุฑ ุฅูู ุดูุฑุฉ ุงููุตุฏุฑ ุณุชููู ูุนูุฏุฉ ููุบุงูุฉ ูุนุฑุถุฉ ููุฎุทุฃ. <br><br><h2 style=";text-align:right;direction:rtl">  Valgrind ู NESุ </h2><br>  ููุนุซูุฑ ุนูู ุทุฑููุฉ ูุชุญุฏูุฏ ููู ุฅุฏุฎุงู <code>AreaParserCore</code> ุ ุงุณุชุฎุฏูุช ุฃุฏุงุฉ memcheck ูู Valgrind ููุซุงู.  ูุชุนุฑู Memcheck ุนูู ุนูููุงุช ุงููุตูู ุฅูู ุฐุงูุฑุฉ ุบูุฑ ูููุฃุฉ ุนู ุทุฑูู ุชุฎุฒูู ุฐุงูุฑุฉ ุงูุธู ุจุงูุชูุงุฒู ูุน ูู ุฌุฒุก ูู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ุงููุนููุฉ.  ุชุณุฌู ุฐุงูุฑุฉ ุงูุธู ูุง ุฅุฐุง ุชู ุงูุชุณุฌูู ุนูู ุงูุฐุงูุฑุฉ ุงูุญููููุฉ ุงูููุงุจูุฉ.  ุฅุฐุง ูุฑุฃ ุงูุจุฑูุงูุฌ ุนูู ุงูุนููุงู ุงูุฐู ูู ููุชุจ ุนููู ูุทูููุง ุ ูุณูุชู ุฅุฎุฑุงุฌ ุฎุทุฃ ุฐุงูุฑุฉ ุบูุฑ ูููุฃ.  ูููููุง ุชุดุบูู <code>AreaParserCore</code> ุจุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุชุฎุจุฑูุง ุนู ุงููุฏุฎูุงุช ุงูุชู ูุฌุจ ุชุนููููุง ูุจู ุงุณุชุฏุนุงุก <code>AreaParserCore</code> . <br><br>  ูู ุงููุงูุน ุ ูุชุงุจุฉ ูุณุฎุฉ ุจุณูุทุฉ ูู memcheck ูู py65emu ุฃูุฑ ุณูู ููุบุงูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">format_addr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(addr)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: symbol_name = sym_file.lookup_address(addr) s = <span class="hljs-string"><span class="hljs-string">"0x{:04x} ({}):"</span></span>.format(addr, symbol_name) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> KeyError: s = <span class="hljs-string"><span class="hljs-string">"0x{:04x}:"</span></span>.format(addr) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MemCheckMMU</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(MMU)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *args, **kwargs)</span></span></span><span class="hljs-function">:</span></span> super().__init__(*args, **kwargs) self._uninitialized = array.array(<span class="hljs-string"><span class="hljs-string">'B'</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>] * <span class="hljs-number"><span class="hljs-number">2048</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, addr)</span></span></span><span class="hljs-function">:</span></span> val = super().read(addr) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> addr &lt; <span class="hljs-number"><span class="hljs-number">2048</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self._uninitialized[addr]: print(<span class="hljs-string"><span class="hljs-string">"Uninitialized read! {}"</span></span>.format(format_addr(addr))) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">write</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, addr, val)</span></span></span><span class="hljs-function">:</span></span> super().write(addr, val) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> addr &lt; <span class="hljs-number"><span class="hljs-number">2048</span></span>: self._uninitialized[addr] = <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  ููุง ูููุง ุจูู ูุญุฏุฉ ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ (MMU) ูู py65emu.  ุชุญุชูู ูุฐู ุงููุฆุฉ ุนูู ูุฌููุนุฉ <code>_uninitialized</code> ุ ูุงูุชู ุชุฎุจุฑูุง ุนูุงุตุฑูุง ูุง ุฅุฐุง ูุงู ูุฏ ุชู ูุชุงุจุชูุง ุฅูู ุงูุจุงูุช ุงูููุงุจู ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุงูุชู ุชูุช ูุถุงูุงุชูุง.  ูู ุญุงูุฉ ูุฌูุฏ ูุฑุงุกุฉ ุบูุฑ ูููุฃุฉ ุ ูุชู ุนุฑุถ ุนููุงู ุนูููุฉ ุงููุฑุงุกุฉ ุบูุฑ ุงูุตุงูุญุฉ ูุงุณู ุงูุญุฑู ุงูููุงุจู. <br><br>  ูููุง ููู ูุชุงุฆุฌ MMU <code>execute_subroutine(sym_file['AREAPARSERCORE'])</code> ุนูุฏ ุงุณุชุฏุนุงุก <code>execute_subroutine(sym_file['AREAPARSERCORE'])</code> : <br><br> <code>Uninitialized read! 0x0728 (BACKLOADINGFLAG): <br> Uninitialized read! 0x0742 (BACKGROUNDSCENERY): <br> Uninitialized read! 0x0741 (FOREGROUNDSCENERY): <br> Uninitialized read! 0x074e (AREATYPE): <br> Uninitialized read! 0x075f (WORLDNUMBER): <br> Uninitialized read! 0x0743 (CLOUDTYPEOVERRIDE): <br> Uninitialized read! 0x0727 (TERRAINCONTROL): <br> Uninitialized read! 0x0743 (CLOUDTYPEOVERRIDE): <br> Uninitialized read! 0x074e (AREATYPE): <br> ...</code> <br> <br>  ุจุงููุธุฑ ุฅูู ุงูุดูุฑุฉ ุ ููููู ุฃู ุชุฑู ุฃู ุงูุนุฏูุฏ ูู ูุฐู ุงูููู ูุชู ุชุนููููุง ูู ุฎูุงู ุงูุฅุฌุฑุงุกุงุช ุงููุฑุนูุฉ <code>InitializeArea</code> ุ ูุฐุง ููููู ุจุชุดุบูู ุงูุจุฑูุงูุฌ ุงููุตู ูุฑุฉ ุฃุฎุฑู ุ ูุน ุงุณุชุฏุนุงุก ูุฐู ุงููุธููุฉ ุฃููุงู.  ุจุชูุฑุงุฑ ูุฐู ุงูุนูููุฉ ุ ูุฃุชู ุฅูู ุงูุชุณูุณู ุงูุชุงูู ูู ุงูููุงููุงุช ุ ุงูุฃูุฑ ุงูุฐู ูุชุทูุจ ููุท ุงูุฑูู ุงูุนุงููู ูุฑูู ุงูููุทูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">mmu.write(sym_file[<span class="hljs-string"><span class="hljs-string">'WORLDNUMBER'</span></span>], <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-comment"><span class="hljs-comment">#    1 mmu.write(sym_file['AREANUMBER'], 0) #    1 execute_subroutine(sym_file['LOADAREAPOINTER']) execute_subroutine(sym_file['INITIALIZEAREA']) metatile_data = [] for column_pos in range(48): execute_subroutine(sym_file['AREAPARSERCORE']) metatile_data.append([mmu.read_no_debug(sym_file['METATILEBUFFER'] + i) for i in range(13)]) execute_subroutine(sym_file['INCREMENTCOLUMNPOS'])</span></span></code> </pre> <br>  ููุชุจ ุงูุฑูุฒ ุงูุฃุนูุฏุฉ ุงูู 48 ุงูุฃููู ูู ุงููุณุชูู ุงูุนุงููู 1-1 ุฅูู <code>metatile_data</code> ุ ุจุงุณุชุฎุฏุงู <code>metatile_data</code> <code>IncrementColumnPos</code> ูุฒูุงุฏุฉ ุงููุชุบูุฑุงุช ุงูุฏุงุฎููุฉ ุงููุงุฒูุฉ ูุชุชุจุน ุงูุนููุฏ ุงูุญุงูู. <br><br>  ูุฅููู ูุญุชููุงุช <code>metatile_data</code> ูุชุฑุงูุจุฉ ุนูู ููุทุงุช ุงูุดุงุดุฉ ูู ุงููุนุจุฉ (ูุง ูุชู ุนุฑุถ ูุญุฏุงุช ุงูุจุงูุช ุจูููุฉ 0): <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/707/a7a/80a/707a7a80afb88c419beb17be9e108272.png"></div><br>  ูู ุงููุงุถุญ ุฃู ุงูุจูุงูุงุช <code>metatile_data</code> ุชุชุทุงุจู ุจูุถูุญ ูุน ูุนูููุงุช ุงูุฎูููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ููุชุง ุฌุฑุงูููุณ </h2><br>  (ููุดุงูุฏุฉ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ ุ ููููู ุงููุชุงุจุนุฉ ููุฑูุง ุฅูู ูุณู "ุชูุตูู ูู ุดูุก ูุนูุง".) <br><br>  ุงูุขู ุฏุนููุง ููุชุดู ููููุฉ ุชุญููู ุนุฏุฏ ุงููููุงุช ุงูููููุฉ ุงููุณุชููุฉ ุฅูู ุตูุฑ ุญููููุฉ.  ุชู ุงุฎุชุฑุงุน ุงูุฎุทูุงุช ุงูููุถุญุฉ ุฃุฏูุงู ุนู ุทุฑูู ุชุญููู ุงููุตุงุฏุฑ ููุฑุงุกุฉ ุงููุซุงุฆู ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Nesdev Wiki ุงููุฐูู</a> . <br><br>  ูููู ููููุฉ ุนุฑุถ ูู ููู ุชุนุฑูู ุ ูุญุชุงุฌ ุฃููุงู ุฅูู ุงูุชุญุฏุซ ุนู ููุญุงุช ุฃููุงู NES.  ูููู ููุญุฏุฉ PPU ููุญุฏุฉ ุงูุชุญูู ูู NES ุจุดูู ุนุงู ุชูุฏูู 64 ููููุง ูุฎุชูููุง ุ ูููู ูุชู ุชูุฑุงุฑ ุงูุฃุณูุฏ ุนุฏุฉ ูุฑุงุช (ุงูุธุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Nesdev</a> ููุญุตูู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชูุงุตูู</a> ): <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/cdf/997/328/cdf9973289e05f09899c36ca04cb6a4d.png"></div><br>  ูููู ููู ูุณุชูู ูุงุฑูู ุงุณุชุฎุฏุงู 10 ููุท ูู ูุฐู ุงูุฃููุงู ุงูู 64 ููุฎูููุฉ ุ ููุณูุฉ ุฅูู 4 ููุญุงุช ุจุฃุฑุจุนุฉ ุฃููุงู ุ  ุงูููู ุงูุฃูู ูู ููุณู ุฏุงุฆููุง.  ูููุง ููู ุฃุฑุจุน ููุญุงุช ููุนุงูู 1-1: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/699/15d/821/69915d821a10f3e7c668abe2894bc7a3.png"></div><br>  ุฏุนูุง ุงูุขู ูููู ูุธุฑุฉ ุนูู ูุซุงู ุซูุงุฆู ูุฑูู ุชุนุฑูู.  ููุง ูู ุงูุฑูู ุงููุนุฏูู ูุจูุงุท ุงูุญุฌุฑ ุงููุชุตุฏุน ุ ููู ุงูุฃุฑุถ ุฐุงุช ุงููุณุชูู 1-1: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/85f/1a1/9ae/85f1a19aea1e39a511dc2bfe31e72d05.png"></div><br>  ูุฎุจุฑูุง ููุฑุณ ุงูููุญ ุนู ุงูููุญ ุงูุฐู ูุฌุจ ุงุณุชุฎุฏุงูู ุนูุฏ ุนุฑุถ ุงูููุณุงุช (ูู ุญุงูุชูุง ุ ุงูููุญ 1).  ููุฑุณ ููุญ ุงูุฃููุงู ูู ุฃูุถูุง ููุฑุณ ุงูุตููููู ุงูุชุงูููู: <br><br> <code>MetatileGraphics_Low: <br> .db &lt;Palette0_MTiles, &lt;Palette1_MTiles, &lt;Palette2_MTiles, &lt;Palette3_MTiles <br> <br> MetatileGraphics_High: <br> .db &gt;Palette0_MTiles, &gt;Palette1_MTiles, &gt;Palette2_MTiles, &gt;Palette3_MTiles</code> <br> <br>  ูููุญูุง ุงูุฌูุน ุจูู ูุงุชูู ุงููุตูููุชูู ุนููุงู 16 ุจุช ุ ูุงูุฐู ูุดูุฑ ูู <code>Palette1_Mtiles</code> ุฅูู <code>Palette1_Mtiles</code> : <br><br> <code>Palette1_MTiles: <br> .db $a2, $a2, $a3, $a3 ;vertical rope <br> .db $99, $24, $99, $24 ;horizontal rope <br> .db $24, $a2, $3e, $3f ;left pulley <br> .db $5b, $5c, $24, $a3 ;right pulley <br> .db $24, $24, $24, $24 ;blank used for balance rope <br> .db $9d, $47, $9e, $47 ;castle top <br> .db $47, $47, $27, $27 ;castle window left <br> .db $47, $47, $47, $47 ;castle brick wall <br> .db $27, $27, $47, $47 ;castle window right <br> .db $a9, $47, $aa, $47 ;castle top w/ brick <br> .db $9b, $27, $9c, $27 ;entrance top <br> .db $27, $27, $27, $27 ;entrance bottom <br> .db $52, $52, $52, $52 ;green ledge stump <br> .db $80, $a0, $81, $a1 ;fence <br> .db $be, $be, $bf, $bf ;tree trunk <br> .db $75, $ba, $76, $bb ;mushroom stump top <br> .db $ba, $ba, $bb, $bb ;mushroom stump bottom <br> .db $45, $47, $45, $47 ;breakable brick w/ line <br> .db $47, $47, $47, $47 ;breakable brick <br> .db $45, $47, $45, $47 ;breakable brick (not used) <br> .db $b4, $b6, $b5, $b7 ;cracked rock terrain &lt;--- This is the 20th line <br> .db $45, $47, $45, $47 ;brick with line (power-up) <br> .db $45, $47, $45, $47 ;brick with line (vine) <br> .db $45, $47, $45, $47 ;brick with line (star) <br> .db $45, $47, $45, $47 ;brick with line (coins) <br> ...</code> <br> <br>  ุนูุฏูุง ุชุถุฑุจ ูุคุดุฑ metatile ูู 4 ุ ูุตุจุญ ููุฑุณ ูุฐุง ุงูุตููู.  ูุชู ุชูุณูู ุงูุจูุงูุงุช ูู 4 ุณุฌูุงุช ููู ุณุทุฑ ุ ูุฐูู ูุดูุฑ ูุซุงููุง ุงููุชุบูุฑ ุฅูู ุงูุฎุท ุงูุนุดุฑูู ุ ูุงูุฐู ุชู ูุถุน ุนูุงูุฉ ุนููู ุจุชุนููู <code>cracked rock terrain</code> . <br><br>  ุงูุฅุฏุฎุงูุงุช ุงูุฃุฑุจุนุฉ ููุฐุง ุงูุฎุท ูู ูู ุงููุงูุน ูุนุฑูุงุช ุงูุจูุงุท: ูู ููู ุชุนุฑูู ูุชููู ูู ุฃุฑุจุนุฉ ูุฑุจุนุงุช 8 ร 8 ุจูุณู ูุฑุชุจุฉ ุจุงูุชุฑุชูุจ ุงูุชุงูู - ุฃุนูู ุงููุณุงุฑ ุ ูุฃุณูู ุงููุณุงุฑ ุ ูุฃุนูู ุงููููู ูุฃุณูู ุงููููู.  ูุชู ุชูุฑูุฑ ูุฐู ุงููุนุฑูุงุช ูุจุงุดุฑุฉ ุฅูู ูุญุฏุฉ ุชุญูู NES PPU.  ูุดูุฑ ุงููุนุฑู ุฅูู 16 ุจุงูุช ูู ุงูุจูุงูุงุช ูู ูุญุฏุฉ ุชุญูู CHR-ROM ุ ููุจุฏุฃ ูู ุณุฌู ุจุงูุนููุงู <code>0x1000 + 16 * &lt; &gt;</code> : <br><br> <code>0x1000 + 16 * 0xb4: 0b01111111 0x1000 + 16 * 0xb5: 0b11011110 <br> 0x1001 + 16 * 0xb4: 0b10000000 0x1001 + 16 * 0xb5: 0b01100001 <br> 0x1002 + 16 * 0xb4: 0b10000000 0x1002 + 16 * 0xb5: 0b01100001 <br> 0x1003 + 16 * 0xb4: 0b10000000 0x1003 + 16 * 0xb5: 0b01100001 <br> 0x1004 + 16 * 0xb4: 0b10000000 0x1004 + 16 * 0xb5: 0b01110001 <br> 0x1005 + 16 * 0xb4: 0b10000000 0x1005 + 16 * 0xb5: 0b01011110 <br> 0x1006 + 16 * 0xb4: 0b10000000 0x1006 + 16 * 0xb5: 0b01111111 <br> 0x1007 + 16 * 0xb4: 0b10000000 0x1007 + 16 * 0xb5: 0b01100001 <br> 0x1008 + 16 * 0xb4: 0b10000000 0x1008 + 16 * 0xb5: 0b01100001 <br> 0x1009 + 16 * 0xb4: 0b01111111 0x1009 + 16 * 0xb5: 0b11011111 <br> 0x100a + 16 * 0xb4: 0b01111111 0x100a + 16 * 0xb5: 0b11011111 <br> 0x100b + 16 * 0xb4: 0b01111111 0x100b + 16 * 0xb5: 0b11011111 <br> 0x100c + 16 * 0xb4: 0b01111111 0x100c + 16 * 0xb5: 0b11011111 <br> 0x100d + 16 * 0xb4: 0b01111111 0x100d + 16 * 0xb5: 0b11111111 <br> 0x100e + 16 * 0xb4: 0b01111111 0x100e + 16 * 0xb5: 0b11000001 <br> 0x100f + 16 * 0xb4: 0b01111111 0x100f + 16 * 0xb5: 0b11011111 <br> <br> 0x1000 + 16 * 0xb6: 0b10000000 0x1000 + 16 * 0xb7: 0b01100001 <br> 0x1001 + 16 * 0xb6: 0b10000000 0x1001 + 16 * 0xb7: 0b01100001 <br> 0x1002 + 16 * 0xb6: 0b11000000 0x1002 + 16 * 0xb7: 0b11000001 <br> 0x1003 + 16 * 0xb6: 0b11110000 0x1003 + 16 * 0xb7: 0b11000001 <br> 0x1004 + 16 * 0xb6: 0b10111111 0x1004 + 16 * 0xb7: 0b10000001 <br> 0x1005 + 16 * 0xb6: 0b10001111 0x1005 + 16 * 0xb7: 0b10000001 <br> 0x1006 + 16 * 0xb6: 0b10000001 0x1006 + 16 * 0xb7: 0b10000011 <br> 0x1007 + 16 * 0xb6: 0b01111110 0x1007 + 16 * 0xb7: 0b11111110 <br> 0x1008 + 16 * 0xb6: 0b01111111 0x1008 + 16 * 0xb7: 0b11011111 <br> 0x1009 + 16 * 0xb6: 0b01111111 0x1009 + 16 * 0xb7: 0b11011111 <br> 0x100a + 16 * 0xb6: 0b11111111 0x100a + 16 * 0xb7: 0b10111111 <br> 0x100b + 16 * 0xb6: 0b00111111 0x100b + 16 * 0xb7: 0b10111111 <br> 0x100c + 16 * 0xb6: 0b01001111 0x100c + 16 * 0xb7: 0b01111111 <br> 0x100d + 16 * 0xb6: 0b01110001 0x100d + 16 * 0xb7: 0b01111111 <br> 0x100e + 16 * 0xb6: 0b01111111 0x100e + 16 * 0xb7: 0b01111111 <br> 0x100f + 16 * 0xb6: 0b11111111 0x100f + 16 * 0xb7: 0b01111111</code> <br> <br>  CHR-ROM ูู ุฌุฒุก ูู ุงูุฐุงูุฑุฉ ูููุฑุงุกุฉ ููุท ูููู ููุท ูู PPU ุงููุตูู ุฅููู.  ูุชู ูุตูู ุนู PRG-ROM ุ ุงูุฐู ูุฎุฒู ุฑูุฒ ุงูุจุฑูุงูุฌ.  ูุฐูู ุ ุงูุจูุงูุงุช ุงููุฐููุฑุฉ ุฃุนูุงู ุบูุฑ ูุชููุฑุฉ ูู ุดูุฑุฉ ุงููุตุฏุฑ ููุฌุจ ุงูุญุตูู ุนูููุง ูู ุชูุฑูุบ ROM ูู ุงููุนุจุฉ. <br><br>  ุชุดูู 16 ุจุงูุช ููู ุชุฌุงูุจ ุชุฌุงูุจ 8 ร 8 ุจุช: ุงูุจุช ุงูุฃูู ูู 8 ุจุงูุช ุงูุฃูู ุ ูุงูุซุงูู ูู 8 ุจุงูุช ุงูุซุงูู: <br><br> <code>21111111 13211112 <br> 12222222 23122223 <br> 12222222 23122223 <br> 12222222 23122223 <br> 12222222 23132223 <br> 12222222 23233332 <br> 12222222 23111113 <br> 12222222 23122223 <br> <br> 12222222 23122223 <br> 12222222 23122223 <br> 33222222 31222223 <br> 11332222 31222223 <br> 12113333 12222223 <br> 12221113 12222223 <br> 12222223 12222233 <br> 23333332 13333332</code> <br> <br>  ุงุฑุจุท ูุฐู ุงูุจูุงูุงุช ุจุงูููุญุฉ 1: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/02e/32a/ad5/02e32aad5717393bd296dd35983e294b.png"></div><br>  ... ูุฌูุน ุงููุทุน: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/950/86a/103/95086a103b16d361c72c0250781ebfd5.png"></div><br>  ุฃุฎูุฑุง ุญุตููุง ุนูู ุจูุงุทุฉ ููุฏูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุถุน ูู ุฐูู ูุนูุง </h2><br>  ุจุชูุฑุงุฑ ูุฐุง ุงูุฅุฌุฑุงุก ููู ููู ุชุนุฑูู ุ ูุญุตู ุนูู ูุณุชูู ูุนุฑูุถ ุจุงููุงูู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/322/45d/a3b/32245da3b8b4707764cef5231e040474.png"></div><br>  ูุจูุถู ูุฐุง ุ ุชูููุง ูู ุงุณุชุฎุฑุงุฌ ุฑุณููุงุช ูุณุชูู SMB ุจุงุณุชุฎุฏุงู Python! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar416241/">https://habr.com/ru/post/ar416241/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar416229/index.html">10 ูุชุจ ุนู ุงูุชุณููู ูุงูููุถูุนุงุช ุฐุงุช ุงูุตูุฉ ูุฌุจ ุฃู ููุฑุฃูุง ุงููุตูู</a></li>
<li><a href="../ar416231/index.html">ูุฑุงูุจุฉ ุบุฑู Zadarma Zabbix</a></li>
<li><a href="../ar416235/index.html">ุฅูุดุงุก ููููุงุช ูุฎุตุตุฉ ูู Bootstrap 4</a></li>
<li><a href="../ar416237/index.html">ุฃู ุชุตุจุญ ูุตูููุง: ูู ุงูุนูู ุงููุณุชูู ูู ูุฒู ุฅูู ุงูุนูู ูุน ุฃูุถู ุงูุดุฑูุงุช ูุฅุทูุงู ููุชุฌู</a></li>
<li><a href="../ar416239/index.html">ุฏูุฑ ููุธุงุฆู PMO ูู ุดุฑูุงุช ุงูุชุตููู</a></li>
<li><a href="../ar416243/index.html">ุจุฏุงุฆู ููููุจุงูุช ุ ูุฐุง ุงููุงุณ ุงูุฏููู ูู ุงูุจุทุงุฑูุงุช</a></li>
<li><a href="../ar416245/index.html">ูููู ุจุฅูุดุงุก ุจูุช ุนูู Aimylogic ูุฃุชูุชุฉ ุงููุชุฌุฑ ุนุจุฑ ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar416247/index.html">ููู ุชุณุชุนุฏ ูุฑุญูุฉ ุนููุ ูุตุงุฆุญ ูู ISPsystem bizdedev</a></li>
<li><a href="../ar416251/index.html">ุงูุทุจุงุนุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุนูู ุงูููุตุงู</a></li>
<li><a href="../ar416253/index.html">Sketchfab ู Unity ู Blend4Web ู PlayCanvas ูุงูุขู Verge3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>