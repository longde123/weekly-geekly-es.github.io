<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äç‚öñÔ∏è üéµ üï° Kotlin: duas colheres de alcatr√£o em um barril de mel ‚ûï üßóüèª üë∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A apar√™ncia do Kotlin √© um b√¥nus importante para os desenvolvedores. Uma linguagem de alto n√≠vel que se integra perfeitamente ao Java expande bastante...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kotlin: duas colheres de alcatr√£o em um barril de mel</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/acronis/blog/418377/">  A apar√™ncia do Kotlin √© um b√¥nus importante para os desenvolvedores.  Uma linguagem de alto n√≠vel que se integra perfeitamente ao Java expande bastante os recursos dos programadores.  No entanto, em qualquer idioma, encontramos constantemente alguns problemas, que, pelo contr√°rio, criam restri√ß√µes, e Kotlin, √© claro, n√£o foi exce√ß√£o.  Hoje falaremos sobre eles. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/_q/pf/p8/_qpfp83zobmgxndjyyeafmloojy.png"></a> <br><a name="habracut"></a><br>  Kotlin estava entusiasmado com a comunidade, pois a nova linguagem de programa√ß√£o simplifica bastante a escrita de c√≥digo, substituindo o Java.  Isso √© especialmente percept√≠vel no Android, onde novas vers√µes do Java aparecem, para dizer o m√≠nimo, "com um rangido".  Muitos dispositivos s√£o atualizados com longos atrasos, ainda mais - eles n√£o recebem atualiza√ß√µes de firmware.  Na melhor das hip√≥teses, o suporte para o dispositivo termina cerca de 2 anos ap√≥s seu lan√ßamento, o que promete uma, no m√°ximo duas atualiza√ß√µes do sistema.  No entanto, as pessoas continuam usando dispositivos, o que significa que os desenvolvedores precisam confiar no Android 8 (at√© agora) mais recente e no Android 5, ou mesmo vers√µes anteriores, onde certamente n√£o h√° apenas a mais recente, mas tamb√©m a implementa√ß√£o atual do Java.  Para refer√™ncia, agora o compartilhamento total do Android 7 e 8 - aquelas vers√µes em que o Java 8 √© suportado pelas bibliotecas do sistema - √© de 42,9%, o restante √© o Java 7. <br><br>  Alguns podem dizer que o Java est√° obsoleto.  Mas h√° tamb√©m uma opini√£o de que Java √© uma linguagem que √© boa "como est√°" e n√£o deve ser tocada.  √â como um MDC (o maior fator comum) em matem√°tica.  Ele cont√©m um conjunto de fun√ß√µes de cavalheiros e, para aqueles que precisam de recursos adicionais hoje em dia, est√£o dispon√≠veis idiomas especiais que j√° funcionam sobre a JVM.  Muitas dessas linguagens j√° foram criadas: Scala, Clojure, JRuby, Jython, Groovy e outras, menos conhecidas.  No entanto, Kotlin tem uma s√©rie de vantagens.  Essa linguagem deixa ao programador mais liberdade: permite usar fragmentos prontos em Java ao mesmo tempo, combinando c√≥digo antigo e novo. <br><br>  Mas com todas as vantagens da nova linguagem, que de nenhuma maneira contestamos, durante o processo de desenvolvimento, algumas desvantagens foram encontradas nela.  E hoje seria interessante ouvir a opini√£o dos colegas sobre se eles interferem no trabalho da mesma maneira que n√≥s. <br><br><h2>  N√£o √© poss√≠vel ocultar o programa? </h2><br>  Pacotes, como sempre, s√£o uma maneira bastante comum de organizar classes por namespace.  Mas a vantagem deles n√£o √© apenas isso, em Java eles tamb√©m atuam como um meio de limitar a visibilidade das classes e de seus membros. <br><br>  Deixe-me lembr√°-lo que em Java existem 4 categorias diferentes que permitem distinguir entre visibilidade.  Existem apenas dois deles para classes - eles s√£o vis√≠veis no pacote (pacote privado) ou completamente aberto (p√∫blico).  Mas o m√©todo ou campo j√° pode ser tornado privado (n√£o estar√° acess√≠vel fora da classe), vis√≠vel apenas para o pacote (pacote privado), pode ser feito para que o m√©todo seja vis√≠vel adicionalmente aos herdeiros, tanto no pacote como fora do pacote (protegido), e Voc√™ tamb√©m pode torn√°-lo vis√≠vel para todos (p√∫blico). <br><br>  O Java 9 introduziu a capacidade de dividir o c√≥digo em m√≥dulos, e agora √© poss√≠vel tornar parte do c√≥digo vis√≠vel em qualquer lugar dentro do m√≥dulo, mas n√£o de fora.  E acaba sendo muito √∫til para criar uma API sensata. <br><br>  Em uma palavra, as op√ß√µes em Java s√£o mais que suficientes.  Mas em Kotlin, por algum motivo, eles se limitaram a introduzir visibilidade p√∫blica e privada, bem como visibilidade para os herdeiros.  Al√©m disso, eles introduziram uma distin√ß√£o por m√≥dulos, mas tornou-se imposs√≠vel diferenciar o acesso a m√©todos e classes por pacotes.  Um m√≥dulo n√£o √© mais uma constru√ß√£o da pr√≥pria linguagem, e muitas vezes as pessoas entendem coisas bastante diferentes por esse termo.  Kotlin define oficialmente o m√≥dulo como "um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conjunto de arquivos Kotlin compilados juntos</a> ". <br><br>  O problema √© que o m√≥dulo, via de regra, leva a custos adicionais de recursos.  Ao mesmo tempo, se voc√™ criar um pacote separado e colocar classes nele com fun√ß√µes vis√≠veis apenas neste pacote, n√£o haver√° problemas, porque todos os pacotes ser√£o compilados juntos e nenhum recurso adicional ser√° necess√°rio. <br><br>  Isso √© especialmente pronunciado se, por exemplo, voc√™ coleta projetos em Gradle, como de costume, os aplicativos Android s√£o montados.  Os m√≥dulos s√£o geralmente feitos relativamente grandes, de modo que eles s√£o uma unidade funcional completa.  Dentro de um m√≥dulo, um m√©todo n√£o pode ser tornado vis√≠vel para um e nem para outras classes.  E se queremos tornar a apar√™ncia dos m√©todos mais granular, surge um problema. <br><br>  Aqui, eu quero imediatamente lembrar os pacotes, porque no Kotlin essa ess√™ncia n√£o desapareceu, mas, infelizmente, n√£o afeta a visibilidade.  Obviamente, voc√™ sempre pode criar mais m√≥dulos, mas, considerando os recursos do Gradle, isso √© simplesmente irracional: a velocidade de constru√ß√£o diminuir√°.  Sim, √© poss√≠vel colocar classes em um arquivo, mas no caso de um projeto grande, o arquivo se tornar√° realmente "pesado".  Portanto, gostaria de obter outra maneira de ocultar m√©todos, por exemplo, modelados em Java. <br><br><h2>  N√£o processe ... mesmo que fosse necess√°rio </h2><br>  O segundo √© bastante controverso (porque alguns consideram seu uso uma m√° not√≠cia), mas, no entanto, o menos √© a aus√™ncia de exce√ß√µes verificadas.  Essas ferramentas est√£o em Java, mas a Kotlin decidiu n√£o implement√°-las.  A <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o oficial</a> tem um exemplo sobre a interface Appendable.  Voc√™ pode anexar cadeias de caracteres ao Appendable e, como as cadeias de caracteres podem se conectar a objetos relacionados √† E / S, por exemplo, ao gravar em um arquivo ou na rede, √© poss√≠vel obter uma IOException ao chamar m√©todos de interface.  E esses casos tornam inconveniente o uso de exce√ß√µes verificadas. <br><br>  Os criadores da linguagem explicam seu argumento da seguinte maneira: se usarmos o StringBuilder, acessando-o atrav√©s do Appendable, acontece que precisamos manipular uma IOException, mesmo se voc√™ tiver certeza de que basicamente isso n√£o pode acontecer: <br><br><pre><code class="hljs cpp">Appendable <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {    <span class="hljs-built_in"><span class="hljs-built_in">log</span></span>.append(message); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) {    <span class="hljs-comment"><span class="hljs-comment">// Must be safe }</span></span></code> </pre> <br>  Sa√≠da da situa√ß√£o: a exce√ß√£o √© "capturada", mas eles n√£o fazem nada com ela, o que, √© claro, n√£o √© bom.  No entanto, surge a pergunta: se obviamente trabalhamos com o StringBuilder por meio da interface Appendable - por que n√£o interagimos diretamente com o StringBuilder?  H√° uma diferen√ßa importante: ao trabalhar com o Appendable, se n√£o soubermos qual implementa√ß√£o espec√≠fica existe, uma exce√ß√£o √† E / S se tornar√° realmente poss√≠vel, mas o StringBuilder n√£o fornecer√° exatamente, e os m√©todos correspondentes ser√£o declarados nela, embora eles implementar a interface.  Ent√£o, o exemplo √© bem apertado ... <br><br>  √â particularmente interessante que os autores da documenta√ß√£o se refiram ao Cap√≠tulo 77 em Java Efetivo, que afirma que as exce√ß√µes n√£o podem ser capturadas e ignoradas.  Mas somente nos pr√≥ximos cap√≠tulos est√° escrito que as exce√ß√µes verificadas podem e devem ser usadas se forem feitas com sabedoria.  Se assim for citado seletivamente, qualquer ponto de vista pode ser justificado. <br><br>  Como resultado, os desenvolvedores do Kotlin fizeram com que, em ess√™ncia, todos os m√©todos pudessem gerar algum tipo de exce√ß√£o.  Mas ent√£o, onde est√£o as ferramentas para lidar com erros no novo idioma?  Como agora entender onde uma exce√ß√£o pode aparecer?  No n√≠vel do idioma, infelizmente, n√£o encontramos ajuda nessas quest√µes e, mesmo com o c√≥digo-fonte (que est√° longe de estar sempre dispon√≠vel sem levar em conta v√°rios truques), √© dif√≠cil entender o que fazer em cada situa√ß√£o espec√≠fica. <br><br>  Se voc√™ fizer uma pergunta aos desenvolvedores, eles simplesmente d√£o de ombros e dizem que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em outros idiomas n√£o h√° exce√ß√µes verificadas e nada</a> , eles tamb√©m criam programas grandes e confi√°veis.  Mas eles tamb√©m s√£o escritos com sucesso em idiomas francamente malsucedidos, isso n√£o √© um argumento.  No StackOverflow, eles dizem para uma pergunta semelhante que ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">voc√™ precisa ler a documenta√ß√£o</a> ‚Äù - uma boa resposta, muito conveniente em tais situa√ß√µes.  Somente a documenta√ß√£o pode n√£o existir, pode estar incompleta ou desatualizada - o compilador n√£o a verifica.  Finalmente, voc√™ pode n√£o encontrar a resposta. <br><br>  Sim, √© verdade que ter verificado exce√ß√µes pode levar a APIs inconvenientes.  Quando a verifica√ß√£o de exce√ß√µes √© obviamente redundante, para que o compilador seja "satisfeito", voc√™ deve escrever try ... catch e, na verdade, apenas criar c√≥digo indesejado, porque nada √© feito ao processar essas exce√ß√µes.  E o fato de ser inconveniente us√°-los no c√≥digo funcional tamb√©m √© verdadeiro.  Mas as exce√ß√µes verificadas s√£o apenas uma ferramenta que pode ser usada com a mesma compet√™ncia, quando necess√°rio. <br><br>  N√£o est√° claro por que a linguagem aproveitou essa oportunidade, se a filosofia de Kotlin √© confiar mais ferramentas ao programador (pelo menos nos pareceu) e se o autor do c√≥digo pode descrever corretamente onde haver√° exce√ß√µes, por que n√£o acreditar nele?  Pegue os mesmos operadores sobrecarregados que foram removidos do Java, porque eles podem levar ao surgimento de APIs com a√ß√µes n√£o √≥bvias - isso era para proteger os programadores de si mesmos.  Kotlin, por outro lado, tem a capacidade de sobrecarregar os operadores e fazer muitas outras coisas - ent√£o por que n√£o h√° exce√ß√µes verificadas?  Os criadores poderiam ter feito isso porque simplesmente n√£o era como em Java? <br><br><h2>  Estamos aguardando mudan√ßas ... </h2><br>  O m√°ximo com o qual podemos contar no Android √© Java 7 ou Java 8 (mas com algumas limita√ß√µes e ressalvas), enquanto o Java 11. j√° est√° se aproximando.Com o Kotlin, programar no Android √© muito mais f√°cil, o n√∫mero de linhas de texto √© reduzido . <br><br>  S√≥ podemos esperar que os desenvolvedores complementem essa linguagem muito √∫til com os recursos que n√£o est√£o dispon√≠veis hoje por raz√µes √≥bvias.  Talvez em vers√µes futuras haja novas ferramentas para analisar exce√ß√µes no IDE, bem como novas categorias de privacidade.  Mas, aparentemente, esse √© o caso no melhor caso de um futuro distante, uma vez que os desenvolvedores de idiomas nem sequer fizeram promessas. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt418377/">https://habr.com/ru/post/pt418377/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt418363/index.html">Tr√™s sinais seguros de que √© hora de cortar sua estrutura</a></li>
<li><a href="../pt418365/index.html">Lento, mas verdadeiro: oceanos e oceanos amea√ßam a infraestrutura global da Internet</a></li>
<li><a href="../pt418369/index.html">angular-ngrx-data - gerenciamento de estado e CRUD em cinco minutos</a></li>
<li><a href="../pt418371/index.html">Microtask para programadores e um m√©todo de pagamento alternativo para criptomoedas</a></li>
<li><a href="../pt418375/index.html">Vis√£o geral da impressora fotogr√°fica Uniz Slash + 3D</a></li>
<li><a href="../pt418379/index.html">Pr√≥tese bioel√©trica infantil. Parte 2</a></li>
<li><a href="../pt418381/index.html">Novidades do DevTools no Chrome vers√£o 68</a></li>
<li><a href="../pt418383/index.html">Anima√ß√µes para Android baseadas em Kotlin e RxJava</a></li>
<li><a href="../pt418385/index.html">Como montei um computador para jogos antigos</a></li>
<li><a href="../pt418387/index.html">F√≠sicos dialogam sobre a alma</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>