<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìù üë®üèΩ‚Äç‚öïÔ∏è üèúÔ∏è Matte mit einem Pferd und einem Elefanten. Entscheidungsgrundlage ü§üüèº ü§µüèΩ ‚úãüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Willst du einen Anf√§nger Schachspieler r√§tseln? 
 Bitten Sie ihn, mit einem Pferd und einem Elefanten Schachmatt zu setzen. 
 
 M√∂chten Sie einen Prog...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Matte mit einem Pferd und einem Elefanten. Entscheidungsgrundlage</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/396453/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Willst du einen Anf√§nger Schachspieler r√§tseln? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitten Sie ihn, mit einem Pferd und einem Elefanten Schachmatt zu setzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√∂chten Sie einen Programmieranf√§nger r√§tseln? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitten Sie ihn, die Matte mit einem Pferd und einem Elefanten zu berechnen. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/552/4b2/6d8/5524b26d81625b9ae809054ed010ee1d.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schachprobleme regen die Fantasie des Programmierers an, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
weshalb </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ich </font><font style="vertical-align: inherit;">f√ºr die praktische Demonstration der Kombinatorik </font><font style="vertical-align: inherit;">das schwierigste Schachproblem aus dem Zyklus ‚ÄûSchachmatt zum einsamen K√∂nig‚Äú ausgew√§hlt habe.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zielsetzung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ziel des Projekts ist es, eine L√∂sungsbasis zu schaffen, dh eine Liste der richtigen Bewegungen f√ºr alle m√∂glichen Positionen des wei√üen K√∂nigs, des Elefanten, des Pferdes und des schwarzen K√∂nigs auf dem Schachbrett. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dieser Ver√∂ffentlichung werde ich Ihnen erz√§hlen, wie ich dieses Problem gel√∂st habe, mit welchen Schwierigkeiten ich konfrontiert war und was am Ende passiert ist. Verwendete Technologien: C #, JavaScript, PHP, HTML, CSS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als sehr mittelm√§√üiger Schachspieler habe ich nie gelernt, wie man schnell mit einem Pferd und einem Elefanten schachmatt setzt. Deshalb habe ich mich entschlossen, diesen Mangel mit meinen Programmierkenntnissen auszugleichen, alle m√∂glichen Positionen zu sortieren und f√ºr jede den richtigen Zug zu finden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bevor ich mindestens eine Codezeile schrieb, schl√ºpfte ich in einen ‚Äûnapoleonischen‚Äú Plan, wie ich es mehrere Wochen lang machen w√ºrde. </font><font style="vertical-align: inherit;">Ich wollte dieses Problem unbedingt von Anfang an l√∂sen, indem ich alle matten Kombinationen sortierte. </font><font style="vertical-align: inherit;">Und dann einen Schritt zur√ºck, bis alle m√∂glichen Optionen ausgesch√∂pft sind.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie viele M√∂glichkeiten gibt es?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf einem Schachbrett befinden sich 64 Zellen. </font><font style="vertical-align: inherit;">Wir haben vier Figuren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Anzahl der m√∂glichen Kombinationen betr√§gt 64 * 64 * 64 * 64 = 16.777.216. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen nur einen wei√übr√ºstigen Elefanten zur√ºcklassen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Anzahl der Optionen wird halbiert: 64 * 32 * 64 * 64 = 8.388.608. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So viele Positionen werden in unserer Datenbank mit L√∂sungen enthalten sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tats√§chlich gibt es noch weniger Kombinationen: Zwei Teile k√∂nnen nicht auf einem Feld stehen, K√∂nige k√∂nnen nicht auf benachbarten Feldern stehen, der schwarze K√∂nig kann nicht unter dem Scheck stehen und so weiter. </font><font style="vertical-align: inherit;">Mit Blick auf die Zukunft werde ich sagen, dass die Datenbank der L√∂sungen 5.609.790 Kombinationen umfasst. Das Array wird zu 67% gef√ºllt sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um den Algorithmus zu vereinfachen und den Zugriff auf die Datenbankdaten zu beschleunigen, habe ich beschlossen, keine Zeit damit zu verschwenden und ein vierdimensionales Array f√ºr alle Kombinationen zu erstellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die folgende Struktur ist zum Speichern jeder Kombination definiert:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Combo<font></font>
    {<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord whiteKing;
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord whiteBishop;
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord whiteKnight;
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord blackKing;<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Inneren wird eine andere Koordinatenstruktur verwendet, um die Koordinaten der Figur aufzuzeichnen, wobei der Index von 0 bis 63 berechnet werden kann, sowie mit einem √ºberladenen Vergleichsoperator.</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Coord<font></font>
    {<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> x; <span class="hljs-comment"><span class="hljs-comment">//    0  7 ( a  h)</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> y; <span class="hljs-comment"><span class="hljs-comment">//    0  7</span></span><font></font>
        <font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index<font></font>
        {<font></font>
            <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x + y * <span class="hljs-number"><span class="hljs-number">8</span></span>; }
            <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { x = (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> % <span class="hljs-number"><span class="hljs-number">8</span></span>); <font></font>
                  y = (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> / <span class="hljs-number"><span class="hljs-number">8</span></span>); }<font></font>
        }<font></font>
        <font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> == (Coord a, Coord b)<font></font>
        {<font></font>
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a.x == b.x &amp;&amp; a.y == b.y;<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Struktur erwies sich als sehr praktisch, um als Argument an verschiedene Hilfsfunktionen √ºbergeben zu werden, zum Beispiel:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isCheck</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Combo combo</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isCheckmate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Combo combo</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isCheckByBishop</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Combo combo</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     </span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um das Ergebnis der Entscheidungsgrundlage dieser Struktur aufzuzeichnen, reicht es jedoch nicht aus, ... </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wei√üe Box</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ziel unseres Programms wird es sein, eine ‚Äûwei√üe Box‚Äú zu erstellen, in der alle Positionen, in denen der ‚ÄûZug wei√ü ist‚Äú und f√ºr die bekannt ist, welcher Zug ausgef√ºhrt werden soll und durch wie viele Z√ºge er garantiert schachmatt gesetzt wird, addiert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein wesentlicher Bestandteil der ‚ÄûWhite Box‚Äú ist die folgende Struktur:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> WhitesMove<font></font>
    {<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Combo combo;
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> moves;     <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord moveFrom; <span class="hljs-comment"><span class="hljs-comment">//   - </span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord moveTo;   <span class="hljs-comment"><span class="hljs-comment">// </span></span><font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einfachste Weg, eine ‚Äûwei√üe Box‚Äú zu organisieren, besteht darin, eine vierdimensionale Matrix zu √∂ffnen. </font><font style="vertical-align: inherit;">Jede Dimension dieser Matrix entspricht der m√∂glichen Position jeder Figur:</font></font><br>
<br>
<pre><code class="cs hljs">    WhitesMove [ , , , ] box = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WhitesMove [<span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>];
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste Dimension ist die Koordinate des wei√üen K√∂nigs. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zweite Dimension ist die Koordinate des wei√üen Elefanten / 2. Die </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dritte Dimension ist die Koordinate des wei√üen Pferdes. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die vierte Dimension ist die Koordinate des schwarzen K√∂nigs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hauptsache ist, ihre Reihenfolge nicht zu verwechseln :) Das Array wird zu 33% entladen sein, aber f√ºr die Verarbeitung sehr praktisch. </font><font style="vertical-align: inherit;">In diesem Array werden 8.388.608 Eintr√§ge gespeichert, um Kombinationen zu l√∂sen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úbrigens, bevor ich anfing, alle Suchalgorithmen zu schreiben, habe ich ein leeres Projekt erstellt und diese vierdimensionale Matrix initialisiert, um sicherzustellen, dass gen√ºgend Speicher vorhanden ist und es nicht erforderlich ist, etwas Zus√§tzliches zu erfinden. </font><font style="vertical-align: inherit;">Anscheinend wirkte sich die Erfahrung mit der Teilnahme an Informatik-Olympiaden des letzten Jahrtausends, bei denen die Gr√∂√üe der Struktur 64 Kilobyte nicht √ºberschreiten konnte, auf Turbo Pascal 7.0 aus.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idee des Algorithmus</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beschreiben Sie kurz die Hauptidee zur L√∂sung dieses Problems. </font><font style="vertical-align: inherit;">Es basiert auf einem Breitensuchalgorithmus, der etwas ge√§ndert werden musste, da zwei Personen Schach spielen und nacheinander Z√ºge ausgef√ºhrt werden. </font><font style="vertical-align: inherit;">Daher ben√∂tigen wir anstelle einer Zeile zwei - "schwarz" und "wei√ü".</font></font><br>
<br>
<pre><code class="cs hljs">    Queue&lt;BlacksMove&gt; blackQueue = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Queue&lt;BlacksMove&gt;();<font></font>
    Queue&lt;WhitesMove&gt; whiteQueue = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Queue&lt;WhitesMove&gt;();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit der Struktur von WhitesMove haben wir uns bereits getroffen. </font><font style="vertical-align: inherit;">Die Struktur von BlacksMove ist etwas einfacher, da der letzte Zug von Black nicht darin gespeichert werden muss.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> BlacksMove<font></font>
    {<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Combo combo;
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> moves; <font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst platzieren wir in der ‚Äûschwarzen Linie‚Äú alle matten Positionen, an denen die Bewegung schwarz ist. </font><font style="vertical-align: inherit;">Dann machen wir von jeder solchen Position aus einen umgekehrten Zug f√ºr Wei√ü und bilden eine ‚Äûwei√üe Linie‚Äú - eine Liste von Positionen, an denen sich Wei√ü bewegt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Schritte m√ºssen wiederholt werden, bis alle m√∂glichen Kombinationen ersch√∂pft sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Hauptalgorithmus in Form von Pseudocode:</font></font><br>
<br>
<pre><code class="cs hljs">       <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
         <font></font>
         <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
<font></font>
      <font></font>
      {<font></font>
           <span class="hljs-string"><span class="hljs-string">" "</span></span>  <font></font>
                 <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
                    <font></font>
                      <font></font>
                           <span class="hljs-string"><span class="hljs-string">" "</span></span>
                             <span class="hljs-string"><span class="hljs-string">" "</span></span>
                             <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
<font></font>
           <span class="hljs-string"><span class="hljs-string">" "</span></span>  <font></font>
                 <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
                      <font></font>
                        <font></font>
                      <span class="hljs-string"><span class="hljs-string">" "</span></span>
                         <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
<font></font>
      }  <span class="hljs-string"><span class="hljs-string">" "</span></span>  <font></font>
<font></font>
       <span class="hljs-string"><span class="hljs-string">" "</span></span>   
</code></pre><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matte Position</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Erstellen der Basis f√ºr die richtigen Z√ºge beginnt mit der Suche nach allen Mattkombinationen. </font><font style="vertical-align: inherit;">Die Verwendung von Enumeratoren erm√∂glichte es, diesen Prozess recht effektiv zu beschreiben.</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">Combo combo </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllCheckmates</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>))</span></span><font></font>
    {<font></font>
        BlacksMove checkmate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BlacksMove { combo = combo, moves = <span class="hljs-number"><span class="hljs-number">0</span></span> };<font></font>
        blackQueue.Enqueue(checkmate);<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Insgesamt 232 matte Positionen gefunden. </font><font style="vertical-align: inherit;">Ich m√∂chte Sie daran erinnern, dass wir uns nur auf einen Wei√üfeldelefanten beschr√§nkt haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einige von ihnen sind ziemlich exotisch, nicht existent und ‚Äûkooperativ‚Äú. In diesem Moment kletterte der schwarze K√∂nig selbst unter die Matte. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/cb8/72f/c4e/cb872fc4e552449343b0bb9ad2e80303.png" alt="Mat.  Was war der Schritt von Wei√ü?"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schachspieler sind sich bewusst, dass eine Matte mit einem Pferd und einem Elefanten auf einem wei√üen Feld in einer wei√üen Ecke platziert werden muss. </font><font style="vertical-align: inherit;">In der schwarzen Ecke ist Schachmatt nur m√∂glich, wenn Schwarz mitspielt. </font><font style="vertical-align: inherit;">Ich habe am Anfang des Artikels speziell ein Foto mit einem solchen Pseudo-Automaten gepostet, um die Aufmerksamkeit echter Schachspieler zu erregen :)</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matte in einem Zug</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der n√§chste Schritt ist das Umkehren von Wei√ü. </font><font style="vertical-align: inherit;">Das hei√üt, f√ºr jede gefundene matte Position m√ºssen </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alle m√∂glichen wei√üen Bewegungen zur√ºckgehen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie mache ich einen R√ºckw√§rtsgang? </font><font style="vertical-align: inherit;">Da in unseren Positionen keine Erfassung vorgesehen ist, ist der Algorithmus recht einfach - machen Sie eine Bewegung von Wei√ü, wonach der schwarze K√∂nig nicht mehr √ºberpr√ºft wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle auf diese Weise gefundenen Positionen k√∂nnen bereits in das ‚Äûwei√üe K√§stchen‚Äú eingef√ºgt werden. Dies zeigt an, dass sich eine Bewegung vor der Matte befindet und welche Art von Bewegung dies tun soll. </font><font style="vertical-align: inherit;">Unterwegs setzen wir die Kombinationen in die ‚Äûschwarze Linie‚Äú. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So sieht dieser Teil des Algorithmus aus:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-comment"><span class="hljs-comment">//  " "  </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (blackQueue.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
    {<font></font>
        <span class="hljs-comment"><span class="hljs-comment">//    " "</span></span><font></font>
        BlacksMove black = blackQueue.Dequeue();<font></font>
        <span class="hljs-comment"><span class="hljs-comment">//       </span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">WhitesMove white </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllWhiteBackMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">black</span></span></span><span class="hljs-function">))
            </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">//     </span></span></span><span class="hljs-function">
            </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!isCheck(white.combo</span></span></span><span class="hljs-function">))
                </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">//      " "</span></span></span><span class="hljs-function">
                </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!whiteBox.Exists(white.combo</span></span></span><span class="hljs-function">))</span></span><font></font>
                {<font></font>
                    <span class="hljs-comment"><span class="hljs-comment">//    " "</span></span><font></font>
                    whiteBox.Put (white);<font></font>
                    <span class="hljs-comment"><span class="hljs-comment">//    " "</span></span><font></font>
                    whiteQueue.Enqueue(white);<font></font>
                }<font></font>
    }<font></font>
</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbrigens √ºber den Ertrag</font></font></b><div class="spoiler_text">   yield-      , ,         :<br>
<br>
<pre><code class="cs hljs">        <span class="hljs-function"><span class="hljs-function">IEnumerable&lt;WhitesMove&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllWhiteBackMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlacksMove black</span></span></span><span class="hljs-function">)</span></span><font></font>
        {<font></font>
            <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">WhitesMove white </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllWhiteKingMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">black</span></span></span><span class="hljs-function">))
                </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return white</span></span>;
            <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">WhitesMove white </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllWhiteBishopMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">black</span></span></span><span class="hljs-function">))
                </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return white</span></span>;
            <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">WhitesMove white </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllWhiteKnightMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">black</span></span></span><span class="hljs-function">))
                </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return white</span></span>;<font></font>
        }<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Insgesamt wurden 920 solcher Positionen gefunden, hier sind die interessantesten: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pferdebewegung </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/a3c/5e9/e2a/a3c5e9e2a6de27f57d40720cf3caa044.png" alt="Ritter 1"> <img src="https://habrastorage.org/getpro/geektimes/post_images/b30/477/955/b3047795519e369386b6d4c98582310f.png" alt="Ritterzug 2"> <img src="https://habrastorage.org/getpro/geektimes/post_images/8aa/d2b/728/8aad2b72884640ec4fe9469efa89088d.png" alt="Ritter 3"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
: Elefantenbewegung </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/af8/447/b26/af8447b26f2c45bd93595887f84f4a65.png" alt="Elefantenbewegung 1"> <img src="https://habrastorage.org/getpro/geektimes/post_images/cdf/b7b/735/cdfb7b7359a3e69f93aa8b8b67651206.png" alt="Elefantenzug 2"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
: K√∂nigsbewegung:</font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/689/946/f2e/689946f2eb8e8d5eac9d0cc8d2a3834b.png" alt="K√∂nig bewegen"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matte in anderthalb Z√ºgen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der n√§chste Schritt ist das Umkehren von Schwarz. Mit diesem Algorithmus habe ich die l√§ngste Zeit verbracht, viele Fehler wurden gemacht, bevor alles richtig funktionierte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf den ersten Blick ist alles √§hnlich wie in der vorherigen Version: F√ºr jede Position von der ‚Äûwei√üen Linie‚Äú m√ºssen alle m√∂glichen Bewegungen des schwarzen K√∂nigs aussortiert werden. Und f√ºgen Sie alle gefundenen Kombinationen zur ‚Äûschwarzen Linie‚Äú hinzu - schlie√ülich handelt es sich um einen Schachmatt in anderthalb Z√ºgen, von dem aus Sie dann wieder einen umgekehrten Zug f√ºr Wei√ü ausf√ºhren k√∂nnen - es gibt einen Schachmatt in zwei Z√ºgen - und fahren Sie fort, bis alle Optionen √ºberpr√ºft wurden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das war der Fehler. Mit jedem m√∂glichen Zug bekommt Schwarz in anderthalb Z√ºgen einen ‚Äûkooperativen‚Äú Schachmatt, aber in Wirklichkeit wird der K√∂nig nicht unbedingt unter den Schachmatt gehen. Dmitry Grin hat mich auf diesen Fehler hingewiesen, der an allen meinen Webinaren zur Erstellung dieses Programms teilgenommen hat, f√ºr die ich ihm separat danke. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der richtige Algorithmus lautet wie folgt: F√ºr jede Position N nach der R√ºckw√§rtsbewegung des schwarzen K√∂nigs m√ºssen Sie alle m√∂glichen direkten Bewegungen durchlaufen, um sicherzustellen, dass alle zu vertrauten Positionen aus der ‚Äûwei√üen Box‚Äú f√ºhren, dh zur Matte. Und erst nach dieser Position kann N zur ‚Äûschwarzen Linie‚Äú hinzugef√ºgt werden. Und wenn der schwarze K√∂nig von Position N ‚Äûabrutschen‚Äú kann, √ºberspringen wir diese Option. Sie wird sich bei nachfolgenden Iterationen treffen, wenn es bekanntere Positionen geben wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So sieht dieser Teil des Algorithmus aus:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-comment"><span class="hljs-comment">//  " "  </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (whiteQueue.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
    {<font></font>
        <span class="hljs-comment"><span class="hljs-comment">//   N  " "</span></span><font></font>
        WhitesMove white = whiteQueue.Dequeue();<font></font>
        Combo whiteFigures = white.combo;<font></font>
        <span class="hljs-comment"><span class="hljs-comment">//   N      </span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">BlacksMove black </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllBlackBackMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">white</span></span></span><span class="hljs-function">))</span></span><font></font>
        {<font></font>
            <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> solved = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;
            <span class="hljs-comment"><span class="hljs-comment">//      </span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">Coord blackKing </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllKingMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">black.combo.blackKing</span></span></span><span class="hljs-function">))</span></span><font></font>
            {<font></font>
                whiteFigures.blackKing = blackKing; <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
                <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isCheck(whiteFigures)) <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
                    <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>;
                <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (box.Exists(whiteFigures)) <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
                    <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>;<font></font>
                solved = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    ""</span></span>
                <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
            }<font></font>
            <span class="hljs-comment"><span class="hljs-comment">//       </span></span>
            <span class="hljs-comment"><span class="hljs-comment">//     " "</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (solved)
                <span class="hljs-comment"><span class="hljs-comment">//    " "</span></span><font></font>
                blackQueue.Enqueue(black);<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Insgesamt wurden 156 Kombinationen von ‚ÄûMatteinhalb Z√ºgen‚Äú gefunden.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auf halbem Weg iterativ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die beschriebenen Algorithmen zum Erstellen eines Halbpasses m√ºssen geloopt werden. </font><font style="vertical-align: inherit;">Aus der ‚Äûschwarzen Linie‚Äú bilden wir die ‚Äûwei√üe Linie‚Äú und dann umgekehrt - aus der ‚Äûwei√üen‚Äú Linie bilden wir die ‚Äûschwarze Linie‚Äú. </font><font style="vertical-align: inherit;">Und so weiter, bis alle neuen Positionen ersch√∂pft sind. </font><font style="vertical-align: inherit;">Das ‚Äûwei√üe K√§stchen‚Äú wird in der Phase der Bildung der ‚Äûwei√üen Linie‚Äú ausgef√ºllt, da es die Positionen platziert, an denen sich Wei√ü bewegt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der vorgefertigte Algorithmus zum Auflisten aller Optionen funktionierte irgendwo in 12 Minuten und blieb bei Schritt 33 stehen. </font><font style="vertical-align: inherit;">So viele maximale Bewegungen sind erforderlich, um den schwarzen K√∂nig aus jeder Position mit einem Pferd und einem Elefanten zu paaren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úbrigens gab es nicht so viele solcher ‚Äûschwierigsten‚Äú Positionen, nur 156, hier ist eine davon:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/af4/481/e7c/af4481e7cfe9f5d9e5787d4f287238f6.png" alt="Matte in 33 Z√ºgen"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mata wird nicht sein!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt viele Positionen, in denen der schwarze K√∂nig auch nach dem Zug von Wei√ü einen Ritter oder Bischof essen und ein Unentschieden erzielen kann. </font><font style="vertical-align: inherit;">Es gibt auch Pattoptionen. </font><font style="vertical-align: inherit;">Hier sind einige der interessantesten Artikel.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/b87/90d/11f/b8790d11ff993e53cb6620167448e7fb.png" alt="Kein Kumpel"> <img src="https://habrastorage.org/getpro/geektimes/post_images/885/786/cad/885786cad2d99e49c3d176a83217bda4.png" alt="Kein Kumpel"><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/09c/f2c/cf2/09cf2ccf2d1855e834a1e2e38e0205e2.png" alt="Kein Kumpel"> <img src="https://habrastorage.org/getpro/geektimes/post_images/6ef/659/f74/6ef659f744134d6e4c993c56dd71a213.png" alt="Kein Kumpel"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So speichern Sie eine L√∂sungsdatenbank</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie speichere ich die gefundene L√∂sungsbasis? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einfachste und falscheste Weg ist die Verwendung der Serialisierung. Das serialisierte vierdimensionale Array der Struktur ben√∂tigte 1,7 Gigabyte (!) Speicherplatz. Der Serialisierungsprozess dauerte ungef√§hr sechs Minuten, die Deserialisierung dauerte ungef√§hr das gleiche. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Option ist nat√ºrlich nicht geeignet. Dar√ºber hinaus ist es in der Praxis nicht erforderlich, das gesamte vierdimensionale Array zu verwenden. F√ºr eine bestimmte Werbebuchung wird nur ein Eintrag ben√∂tigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eureka! Um Platz zu sparen, k√∂nnen Sie die Speicherkoordinaten der Figuren f√ºr jede Kombination nicht mehr speichern. Wenn wir ein vierdimensionales Array haben, wird die Position jeder Figur auf der Tafel eindeutig durch ihren Index im Array bestimmt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde beschlossen, die gesamte Datenbank der L√∂sungen in einer Datei zu speichern - als linearer Scan eines vierdimensionalen Arrays. F√ºr jede m√∂gliche Position wird die Adresse berechnet, an der die richtige Antwort aufgezeichnet wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie kann man die Antwort, die wir brauchen, so kompakt wie m√∂glich aufzeichnen? Die Position der Figuren muss nicht gespeichert werden, daher bleiben nur drei Zahlen √ºbrig - wie viele Z√ºge auf die Matte, was und wohin. Auf diese Weise wird der richtige Schritt f√ºr Wei√ü eindeutig festgelegt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6 Bit Wie viele Z√ºge auf die Matte gehen, ist eine ganze Zahl von 0 bis 33,2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bit. Welche Figur geht - drei m√∂gliche Optionen, ein K√∂nig, ein Elefant oder ein Pferd. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6 Bit Wohin das St√ºck geht - der Feldindex auf der Tafel liegt zwischen 0 und 63. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr jeden Entscheidungsdatensatz reichen also zwei Bytes aus: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 Byte - wie viele Bewegungen auf die Matte oder 0, wenn die Position unbekannt ist. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 Bytes - FFNNNNNN</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FF - Nummer der zu gehenden Figur (1 - K√∂nig, 2 - Elefant, 3 - Pferd) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NNNNNN - Zellkoordinate - wohin (von 0 bis 63). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die L√∂sungsdatenbankdatei ben√∂tigt also 64 * 32 * 64 * 64 W√∂rter = genau 16 Megabyte. </font><font style="vertical-align: inherit;">Die Position der Figuren wird durch die Koordinaten jedes Wortes im ersten Byte festgelegt - die Anzahl der Bewegungen auf der Matte (oder 0, wenn es keine L√∂sung gibt), die zweite Bewegung speichert die richtige Bewegung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es w√§re m√∂glich, die Dateigr√∂√üe um die H√§lfte zu reduzieren, wenn Sie die Anzahl der Z√ºge nicht auf der Matte gespeichert h√§tten, aber es w√§re nicht interessant, so zu spielen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koordinaten des schwarzquadratischen wei√üen Elefanten</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist Zeit, f√ºr die Optimierung zu bezahlen. </font><font style="vertical-align: inherit;">F√ºr Kombinationen mit einem ‚ÄûSchwarz-Wei√ü‚Äú -Elefanten muss ein Algorithmus zur Neuberechnung der Koordinaten implementiert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies wurde wie folgt durchgef√ºhrt. </font><font style="vertical-align: inherit;">Wenn die Koordinate des Elefanten auf ein schwarzes Feld f√§llt, m√ºssen die Koordinaten aller Figuren auf dem Brett "umgedreht" werden. </font><font style="vertical-align: inherit;">In diesem Fall bleibt die Y-Koordinate unver√§ndert und X √§ndert sich zu 7-X. </font><font style="vertical-align: inherit;">Eine visuelle Demonstration eines Koordinatenwechsels, siehe Abbildung. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/1cb/019/1f7/1cb0191f7642a5b963437278ed9ca783.png" alt="Koordinaten-Flip"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Elefant auf einem wei√üen K√§fig steht, m√ºssen Sie zuerst die Koordinaten aller Figuren "umdrehen". </font><font style="vertical-align: inherit;">Suchen Sie dann nach einer Position in der Datenbank der L√∂sungen. </font><font style="vertical-align: inherit;">Und noch einmal "drehen" Sie die Koordinate der korrekten Bewegung, die von dort gelesen wird.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualisierung der L√∂sungsbasis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit ist das Problem gel√∂st! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Datenbank der L√∂sungen wurde erstellt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber wie kann man das demonstrieren? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der naheliegendste Weg ist die Verwendung von Webtechnologien, sodass Sie nur einen Link zu einem funktionierenden Beispiel geben k√∂nnen. Nach meiner "Programmierformel </font><font style="vertical-align: inherit;">" </font><font style="vertical-align: inherit;">wurde bereits der Fotokurs " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nano-Schach</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font><font style="vertical-align: inherit;">erstellt </font><font style="vertical-align: inherit;">, bei dem unter Verwendung der Technologien HTML, CSS, JavaScript und PHP ein interaktives Schachbrett zum Spielen ohne Regeln f√ºr zwei Personen erstellt wurde. Dieses Skript wurde als Grundlage genommen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich lie√ü nur vier Teile √ºbrig, entfernte die M√∂glichkeit der Erfassung, f√ºgte PHP-Funktionen hinzu, um die richtigen Bewegungen von der L√∂sungsbasis zu lesen, und ‚Äûhauchte Leben‚Äú durch JavaScript. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der Seite </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.videosharp.info/chess k√∂nnen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sie mit der Datenbank der L√∂sungen experimentieren.</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/getpro/geektimes/post_images/9fb/3ce/7bc/9fb3ce7bc6645d2c96536c2a19c663a2.png" alt="Interaktive Matte mit Pferd und Elefant"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr jede Position werden Bewegungen sowohl f√ºr Wei√ü als auch f√ºr Schwarz berechnet. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr Wei√ü - der beste Zug, der zum Schachmatt f√ºhrt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr Schwarz - wie viele Z√ºge auf die Matte f√ºr einen m√∂glichen Zug. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen jede Bewegung der Figuren mit der Maus ausf√ºhren, nicht unbedingt nach den Regeln. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Skript berechnet die Option f√ºr jede Position oder schreibt, dass es keine Optionen gibt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist interessant zu spielen, die vorgeschlagenen Z√ºge auszuf√ºhren oder die St√ºcke nach eigenem Ermessen zu bewegen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine gro√üartige, interessante Arbeit wurde geleistet, um das Schachproblem zu l√∂sen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie dies auf diese Weise wiederholen m√∂chten, k√∂nnen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Videos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zum Erstellen dieses Programms von Grund auf bis zum Ergebnis mit detaillierten Erkl√§rungen und unabh√§ngigen Aufgaben </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">ansehen</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viel Erfolg!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de396453/">https://habr.com/ru/post/de396453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de396441/index.html">Italien kann seine Olivenb√§ume aufgrund des Misstrauens gegen√ºber Wissenschaftlern verlieren</a></li>
<li><a href="../de396443/index.html">"Zion Wise Men" wurde ein weiterer Grund, Wikipedia zu blockieren</a></li>
<li><a href="../de396445/index.html">–ö–ª–æ–Ω—ã –æ–≤–µ—á–∫–∏ –î–æ–ª–ª–∏ –ø–æ–º–æ–≥–∞—é—Ç –¥–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å SCNT-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</a></li>
<li><a href="../de396447/index.html">Preise f√ºr die popul√§re Elektronik der Vergangenheit im heutigen Geld: 1970er Jahre</a></li>
<li><a href="../de396451/index.html">Verbrechen und Bestrafungen des letzten Monats</a></li>
<li><a href="../de396455/index.html">Computerausr√ºstung der CMEA-L√§nder. Zweiter Teil: Tschechoslowakei</a></li>
<li><a href="../de396457/index.html">APEIGAMING in Zahlen. Einen Monat nach dem Start (Video)</a></li>
<li><a href="../de396459/index.html">√úberpr√ºfung der Gaming-Systemeinheit ASUS ROG GT51CA</a></li>
<li><a href="../de396461/index.html">Blockchain-Sicherheitstechnologien</a></li>
<li><a href="../de396467/index.html">–ï—Å—Ç—å –ª–∏ —É —Ç—ë–º–Ω–æ–π –º–∞—Ç–µ—Ä–∏–∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>