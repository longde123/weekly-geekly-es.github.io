<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â¤´ï¸ ğŸ¤›ğŸ» ğŸš‘ Familiaridade com testes em Python. Parte 1 ğŸ§“ğŸ½ ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿ ğŸ‘©ğŸ½â€ğŸ¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bom dia a todos! 

 Da nossa mesa para a sua ... Ou seja, do nosso curso "Desenvolvedor Python", apesar da rÃ¡pida aproximaÃ§Ã£o do Ano Novo, preparamos ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Familiaridade com testes em Python. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/433358/"> Bom dia a todos! <br><br>  <s>Da nossa mesa para a sua ...</s> Ou seja, do nosso curso "Desenvolvedor Python", apesar da rÃ¡pida aproximaÃ§Ã£o do Ano Novo, preparamos uma traduÃ§Ã£o interessante para vocÃª sobre vÃ¡rios mÃ©todos de teste em Python. <br><br>  Este guia Ã© para aqueles que jÃ¡ escreveram um aplicativo Python legal, mas ainda nÃ£o o escreveram para <br>  eles testes. <br><br>  Testar em Python Ã© um tÃ³pico extenso com vÃ¡rias sutilezas, mas nÃ£o Ã© necessÃ¡rio complicar as coisas.  Em algumas etapas simples, vocÃª pode criar testes simples para o aplicativo, aumentando gradualmente a complexidade com base neles. <br><br>  Neste guia, vocÃª aprenderÃ¡ como criar um teste bÃ¡sico, executÃ¡-lo e encontrar todos os erros antes que os usuÃ¡rios o faÃ§am!  VocÃª aprenderÃ¡ sobre as ferramentas disponÃ­veis para escrever e executar testes, verificar o desempenho do aplicativo e atÃ© mesmo examinar problemas de seguranÃ§a. <br><br><img src="https://habrastorage.org/webt/kh/va/x5/khvax5ew8tluy6c9muhw-oei7cm.png"><br><a name="habracut"></a><br>  <b>Teste de cÃ³digo</b> <br><br>  VocÃª pode testar o cÃ³digo de vÃ¡rias maneiras.  Neste guia, vocÃª aprenderÃ¡ sobre os mÃ©todos, do mais simples ao mais avanÃ§ado. <br><br>  <i><b>Automatizado vs.</b></i>  <i><b>Teste manual</b></i> <i><br></i> <br>  Boas notÃ­cias!  Provavelmente vocÃª jÃ¡ fez o teste, mas ainda nÃ£o o realizou.  Lembra como vocÃª iniciou o aplicativo e o usou?  VocÃª jÃ¡ testou as funÃ§Ãµes e fez experiÃªncias com elas?  Esse processo Ã© chamado de teste exploratÃ³rio e Ã© uma forma de teste manual. <br><br>  Teste de pesquisa - teste feito sem um plano.  Durante o teste de pesquisa, vocÃª pesquisa o aplicativo. <br><br>  Para criar uma lista completa de testes manuais, basta fazer uma lista de todas as funÃ§Ãµes do aplicativo, os vÃ¡rios tipos de entrada que ele aceita e os resultados esperados.  Agora, toda vez que vocÃª altera algo no cÃ³digo, Ã© necessÃ¡rio verificar novamente cada um dos elementos nesta lista. <br><br>  Parece sombrio, certo? <br><br>  Portanto, sÃ£o necessÃ¡rios testes automÃ¡ticos.  Teste automÃ¡tico - a execuÃ§Ã£o do plano de teste (partes do aplicativo que exigem teste, a ordem dos testes e os resultados esperados) usando um script, e nÃ£o por mÃ£os humanas.  O Python jÃ¡ possui um conjunto de ferramentas e bibliotecas para ajudÃ¡-lo a criar testes automatizados para o seu aplicativo.  Vejamos essas ferramentas e bibliotecas em nosso tutorial. <br><br>  <i><b>Testes de Unidade VS.</b></i>  <i><b>Testes de integraÃ§Ã£o</b></i> <br><br>  O mundo dos testes Ã© cheio de termos e, agora, conhecendo a diferenÃ§a entre testes manuais e automatizados, desceremos um nÃ­vel mais profundo. <br><br>  Pense em como vocÃª pode testar os farÃ³is de um carro?  VocÃª acende os farÃ³is (vamos chamÃ¡-lo de etapa de teste), saia do carro ou peÃ§a a um amigo para verificar se os farÃ³is estÃ£o acesos (e isso Ã© uma proposta de teste).  Testar vÃ¡rios componentes Ã© chamado teste de integraÃ§Ã£o. <br><br>  Pense em todas as coisas que devem funcionar corretamente para que uma tarefa simples produza o resultado correto.  Esses componentes sÃ£o semelhantes Ã s partes do seu aplicativo: todas essas classes, funÃ§Ãµes, mÃ³dulos que vocÃª escreveu. <br><br>  A principal dificuldade do teste de integraÃ§Ã£o surge quando o teste de integraÃ§Ã£o nÃ£o fornece o resultado correto.  Ã‰ difÃ­cil avaliar o problema, nÃ£o sendo possÃ­vel isolar a parte quebrada do sistema.  Se os farÃ³is nÃ£o estiverem acesos, as lÃ¢mpadas podem estar quebradas.  Ou talvez a bateria esteja fraca?  Ou talvez o problema esteja no gerador?  Ou atÃ© mesmo uma falha no computador da mÃ¡quina? <br><br>  Os prÃ³prios carros modernos notificarÃ£o vocÃª sobre uma lÃ¢mpada quebrada.  Isso Ã© determinado usando um teste de unidade. <br><br>  O teste de unidade (teste de unidade) Ã© um pequeno teste que verifica a operaÃ§Ã£o correta de um componente individual.  O teste de unidade ajuda a isolar a avaria e corrigi-la mais rapidamente. <br><br>  NÃ³s conversamos sobre dois tipos de testes: <br><br><ol><li>  Um teste de integraÃ§Ã£o que verifica os componentes do sistema e sua interaÃ§Ã£o entre si; </li><li>  Um teste de unidade que testa um Ãºnico componente de um aplicativo. </li><li>  VocÃª pode criar os dois testes em Python.  Para escrever um teste para a funÃ§Ã£o sum () interna, vocÃª precisa comparar a saÃ­da de sum () com valores conhecidos. </li></ol><br>  Por exemplo, dessa maneira, vocÃª pode verificar se a soma dos nÃºmeros (1, 2, 3) Ã© 6: <br><br><pre><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> sum([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) == <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span></code> </pre> <br>  Os valores estÃ£o corretos, portanto, nada serÃ¡ emitido para o REPL.  Se o resultado de <code>sum()</code> incorreto, um <code>AssertionError</code> serÃ¡ <code>AssertionError</code> com a mensagem "Deve ser 6".  Verifique a instruÃ§Ã£o novamente, mas agora com valores invÃ¡lidos para obter um <code>AssertionError</code> : <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> sum([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]) == <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span> Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"&lt;stdin&gt;"</span></span>, line <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; AssertionError: Should be <span class="hljs-number"><span class="hljs-number">6</span></span></code> </pre> <br>  No REPL, vocÃª verÃ¡ <code>AssertionError</code> pois o <code>sum()</code> nÃ£o Ã© 6. <br><br>  Em vez de REPL, coloque isso em um novo arquivo Python chamado <code>test_sum.py</code> e execute-o novamente: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> sum([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) == <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: test_sum() print(<span class="hljs-string"><span class="hljs-string">"Everything passed"</span></span>)</code> </pre> <br>  Agora vocÃª tem um caso de teste escrito (caso de teste), instruÃ§Ã£o e ponto de entrada (linha de comando).  Agora isso pode ser feito na linha de comando: <br><br><pre> <code class="python hljs">$ python test_sum.py Everything passed</code> </pre> <br>  VocÃª vÃª o resultado bem-sucedido, "Tudo passou". <br><br>  <code>sum()</code> em Python aceita qualquer iterÃ¡vel como o primeiro argumento.  VocÃª verificou a lista.  Vamos tentar testar a tupla.  Crie um novo arquivo chamado <code>test_sum_2.py</code> com o seguinte cÃ³digo: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> sum([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) == <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_sum_tuple</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> sum((<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) == <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: test_sum() test_sum_tuple() print(<span class="hljs-string"><span class="hljs-string">"Everything passed"</span></span>)</code> </pre><br>  <code>test_sum_2.py</code> , o script gerarÃ¡ <code>test_sum_2.py</code> erro, pois s <code>um() (1, 2, 2)</code> deve ser 5, e nÃ£o 6. Como resultado, o script fornece uma mensagem de erro, uma linha de cÃ³digo e um retorno: <br><br><pre> <code class="python hljs">$ python test_sum_2.py Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"test_sum_2.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; test_sum_tuple() File <span class="hljs-string"><span class="hljs-string">"test_sum_2.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> test_sum_tuple <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> sum((<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) == <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span> AssertionError: Should be <span class="hljs-number"><span class="hljs-number">6</span></span></code> </pre> <br>  VocÃª pode ver como um erro no cÃ³digo causa um erro no console com informaÃ§Ãµes sobre onde ocorreu e qual foi o resultado esperado. <br><br>  Esses testes sÃ£o adequados para verificaÃ§Ã£o simples, mas e se houver mais erros do que em um?  Os corredores de teste vÃªm ao resgate.  O Test Executor Ã© um aplicativo especial projetado para realizar testes, verificar dados de saÃ­da e fornecer ferramentas para depuraÃ§Ã£o e diagnÃ³stico de testes e aplicativos. <br><br>  <i><b>Escolhendo um executor de teste</b></i> <br><br>  Existem muitos corredores de teste disponÃ­veis para Python.  Por exemplo, o unittest Ã© incorporado Ã  biblioteca padrÃ£o do Python.  Neste guia, usaremos casos de teste e executores de teste mais unittest.  Os princÃ­pios operacionais mais unittest sÃ£o facilmente adaptÃ¡veis â€‹â€‹a outras estruturas.  Listamos os executores de teste mais populares: <br><br><ul><li>  mais unittest; </li><li>  nariz ou nariz2; </li><li>  pytest. </li></ul><br>  Ã‰ importante escolher um contratado de teste que atenda aos seus requisitos e experiÃªncia. <br><br>  <b>mais unittest</b> <br><br>  O unittest foi integrado Ã  biblioteca padrÃ£o do Python desde a versÃ£o 2.1.  VocÃª provavelmente o encontrarÃ¡ em aplicativos comerciais Python e em projetos de cÃ³digo aberto. <br>  O Unittest possui uma estrutura de teste e um executor de teste.  Ao escrever e executar testes, vocÃª precisa seguir alguns requisitos importantes. <br><br>  unittest requer: <br><br><ul><li>  Coloque testes em classes como mÃ©todos; </li><li>  Use mÃ©todos especiais de aprovaÃ§Ã£o.  A classe TestCase, em vez da expressÃ£o de declaraÃ§Ã£o interna usual. </li></ul><br><br>  Para transformar um exemplo escrito anteriormente em um caso de teste mais unÃ­voco, vocÃª deve: <br><br><ol><li>  Importar unittest da biblioteca padrÃ£o; </li><li>  Crie uma classe chamada <code>TestSum</code> que herdarÃ¡ a classe <code>TestCase</code> ; </li><li>  Converta funÃ§Ãµes de teste em mÃ©todos adicionando <code>self</code> como o primeiro argumento; </li><li>  Modifique as instruÃ§Ãµes adicionando o uso do mÃ©todo <code>self.assertEqual()</code> na classe <code>TestCase</code> ; </li><li>  Altere o ponto de entrada na linha de comando para chamar <code>unittest.main()</code> . </li></ol><br>  Seguindo estas etapas, crie um novo arquivo test_sum_unittest.py com este cÃ³digo: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> unittest <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestSum</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(unittest.TestCase)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.assertEqual(sum([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]), <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_sum_tuple</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.assertEqual(sum((<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: unittest.main()</code> </pre> <br>  Ao fazer isso na linha de comando, vocÃª obterÃ¡ uma conclusÃ£o bem-sucedida (indicada por.) E outra sem Ãªxito (indicada por F): <br><br><pre> <code class="python hljs">$ python test_sum_unittest.py .F ====================================================================== FAIL: test_sum_tuple (__main__.TestSum) ---------------------------------------------------------------------- Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"test_sum_unittest.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> test_sum_tuple self.assertEqual(sum((<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span>) AssertionError: Should be <span class="hljs-number"><span class="hljs-number">6</span></span> ---------------------------------------------------------------------- Ran <span class="hljs-number"><span class="hljs-number">2</span></span> tests <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span>s FAILED (failures=<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre><br>  Assim, vocÃª executou dois testes usando o corredor de teste mais unittest. <br><br>  <i>Nota: Se vocÃª estiver escrevendo casos de teste para Python 2 e 3, tenha cuidado.</i>  <i>Nas versÃµes do Python 2.7 e abaixo, o unittest Ã© chamado unittest 2. Quando vocÃª importa do unittest, vocÃª obtÃ©m versÃµes diferentes com funÃ§Ãµes diferentes no Python 2 e Python 3.</i> <br><br>  Para saber mais sobre o unittest, leia a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documentaÃ§Ã£o unittest</a> . <br><br>  <b>nariz</b> <br><br>  Com o tempo, depois de escrever centenas ou mesmo milhares de testes para um aplicativo, torna-se cada vez mais difÃ­cil entender e usar dados de saÃ­da mais unidos. <br><br>  O nariz Ã© compatÃ­vel com todos os testes escritos com uma estrutura mais unida e pode substituir seu executor de teste.  O desenvolvimento do nariz, como um aplicativo de cÃ³digo aberto, comeÃ§ou a desacelerar e o nariz2 foi criado.  Se vocÃª estiver comeÃ§ando do zero, Ã© recomendÃ¡vel usar o nariz2. <br><br>  Para comeÃ§ar com o nose2, vocÃª precisa instalÃ¡-lo no PyPl e executÃ¡-lo na linha de comando.  O nose2 tentarÃ¡ encontrar todos os scripts de teste com <code>test*.py</code> no nome e todos os casos de teste herdados do unittest.TestCase no seu diretÃ³rio atual: <br><br><pre> <code class="python hljs">$ pip install nose2 $ python -m nose2 .F ====================================================================== FAIL: test_sum_tuple (__main__.TestSum) ---------------------------------------------------------------------- Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"test_sum_unittest.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> test_sum_tuple self.assertEqual(sum((<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)), <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span>) AssertionError: Should be <span class="hljs-number"><span class="hljs-number">6</span></span> ---------------------------------------------------------------------- Ran <span class="hljs-number"><span class="hljs-number">2</span></span> tests <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span>s FAILED (failures=<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  Ã‰ assim que o teste criado em <code>test_sum_unittest.py</code> partir do executor de testes do nose2.  O nose2 fornece muitos sinalizadores de linha de comando para filtrar testes executÃ¡veis.  Para mais informaÃ§Ãµes, consulte a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documentaÃ§Ã£o</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Nose 2</a> . <br><br>  <b>pytest</b> <br><br>  pytest suporta casos de teste mais unittest.  Mas a vantagem real do pytest Ã© seus casos de teste.  Os casos de teste pytest sÃ£o uma sÃ©rie de funÃ§Ãµes em um arquivo Python com test_ no inÃ­cio do nome. <br><br>  Existem outros recursos Ãºteis: <br><br><ul><li>  Suporte para expressÃµes de declaraÃ§Ã£o internas em vez de usar mÃ©todos self.assert * () especiais; </li><li>  Suporte para filtragem de casos de teste; </li><li>  A capacidade de reiniciar a partir do Ãºltimo teste com falha; </li><li>  Um ecossistema de centenas de plugins que ampliam a funcionalidade. </li></ul><br>  Um exemplo de caso de teste TestSum para pytest terÃ¡ a seguinte aparÃªncia: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> sum([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) == <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_sum_tuple</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> sum((<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)) == <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">"Should be 6"</span></span></code> </pre> <br>  VocÃª se livrou do TestCase, usando classes e pontos de entrada da linha de comando. <br>  Mais informaÃ§Ãµes podem ser encontradas no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">site de documentaÃ§Ã£o</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pytest</a> . <br><br>  <b>Escrevendo o primeiro teste</b> <br><br>  Combine tudo o que jÃ¡ aprendemos e, em vez da funÃ§Ã£o interna <code>sum()</code> , testamos uma implementaÃ§Ã£o simples com os mesmos requisitos. <br><br>  Crie uma nova pasta para o projeto, dentro da qual crie uma nova pasta chamada my_sum.  Dentro de my_sum, crie um arquivo vazio chamado <code>_init_.py</code> .  A presenÃ§a desse arquivo significa que a pasta my_sum pode ser importada como um mÃ³dulo do diretÃ³rio pai. <br><br>  A estrutura da pasta ficarÃ¡ assim: <br><br> <code>project/ <br> â”‚ <br> â””â”€â”€ my_sum/ <br> â””â”€â”€ __init__.py</code> <br> <br>  Abra <code>my_sum/__init__.py</code> e crie uma nova funÃ§Ã£o chamada <code>sum()</code> , que recebe entradas <code>my_sum/__init__.py</code> (lista, tupla, conjunto) e adiciona os valores. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(arg)</span></span></span><span class="hljs-function">:</span></span> total = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> val <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> arg: total += val <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> total</code> </pre> <br>  Este exemplo cria uma variÃ¡vel chamada <code>total</code> , itera sobre todos os valores em <code>arg</code> e adiciona ao <code>total</code> .  Em seguida, apÃ³s a conclusÃ£o da iteraÃ§Ã£o, o resultado Ã© retornado. <br><br>  <b>Onde escrever um teste</b> <br><br>  VocÃª pode comeÃ§ar a escrever um teste criando um arquivo <code>test.py</code> que conterÃ¡ seu primeiro caso de teste.  Para testar, o arquivo deve poder importar seu aplicativo, entÃ£o coloque <code>test.py</code> na pasta acima do pacote.  A Ã¡rvore de diretÃ³rios ficarÃ¡ assim: <br><br> <code>project/ <br> â”‚ <br> â”œâ”€â”€ my_sum/ <br> â”‚ â””â”€â”€ __init__.py <br> | <br> â””â”€â”€ test.py</code> <br> <br>  VocÃª notarÃ¡ que, Ã  medida que adiciona novos testes, seu arquivo se torna mais pesado e difÃ­cil de manter; portanto, recomendamos criar a pasta <code>tests/</code> e dividir os testes em vÃ¡rios arquivos.  Verifique se os nomes de todos os arquivos comeÃ§am com <code>test_</code> , para que os <code>test_</code> compreendam que os arquivos Python contÃªm testes que precisam ser executados.  Em projetos grandes, os testes sÃ£o divididos em vÃ¡rios diretÃ³rios, dependendo de sua finalidade ou uso. <br><br>  <i>Nota: E qual Ã© o seu aplicativo Ã© um Ãºnico script?</i> <i><br></i>  <i>VocÃª pode importar qualquer atributo de script: classes, funÃ§Ãµes ou variÃ¡veis, usando a funÃ§Ã£o <code>__import__()</code> .</i>  <i>Em vez da <code>from my_sum import sum</code> escreva o seguinte:</i> <br><br><pre> <code class="python hljs">target = __import__(<span class="hljs-string"><span class="hljs-string">"my_sum.py"</span></span>) sum = target.sum</code> </pre> <br>  <i>Ao usar <code>__import__()</code> vocÃª nÃ£o precisa transformar a pasta do projeto em um pacote e pode especificar o nome do arquivo.</i>  <i>Isso Ã© Ãºtil se o nome do arquivo entrar em conflito com os nomes das bibliotecas de pacotes padrÃ£o.</i>  <i>Por exemplo, se <code>math.py</code> entrar em conflito com o mÃ³dulo de matemÃ¡tica.</i> <br><br>  <b>Como estruturar um teste simples</b> <br><br>  Antes de escrever testes, vocÃª precisa resolver algumas perguntas: <br><br><ol><li>  O que vocÃª quer testar? </li><li>  VocÃª estÃ¡ escrevendo um teste de unidade ou de integraÃ§Ã£o? </li></ol><br>  VocÃª estÃ¡ testando <code>sum()</code> .  VocÃª pode testar diferentes comportamentos, por exemplo: <br><br><ul><li>  Ã‰ possÃ­vel resumir uma lista de nÃºmeros inteiros? </li><li>  Ã‰ possÃ­vel resumir uma tupla ou um conjunto? </li><li>  Posso resumir uma lista de nÃºmeros de ponto flutuante? </li><li>  O que acontece se vocÃª atribuir um valor ruim Ã  entrada: um Ãºnico nÃºmero inteiro ou uma string? </li><li>  O que acontece se um dos valores for negativo? </li></ul><br>  A maneira mais fÃ¡cil de testar Ã© uma lista de nÃºmeros inteiros.  Crie um arquivo <code>test.py</code> com o seguinte cÃ³digo: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> my_sum <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sum <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestSum</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(unittest.TestCase)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_list_int</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" Test that it can sum a list of integers """</span></span> data = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] result = sum(data) self.assertEqual(result, <span class="hljs-number"><span class="hljs-number">6</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: unittest.main()</code> </pre> <br>  O cÃ³digo neste exemplo: <br><br><ul><li>  Importa <code>sum()</code> do pacote <code>my_sum()</code> que vocÃª criou; </li><li>  Define uma nova classe de caso de teste chamada TestSum que herda <code>unittest.TestCase</code> ; </li><li>  Define um mÃ©todo test <code>.test_list_int()</code> para testar uma lista inteira.  O mÃ©todo <code>.test_list_int()</code> farÃ¡ o seguinte </li></ul>  : <br><ol><li>  Declara uma variÃ¡vel de <code>data</code> com uma lista de valores <code>(1, 2, 3)</code> ; </li><li>  <code>my_sum.sum(data)</code> valor <code>my_sum.sum(data)</code> <code>result</code> <code>my_sum.sum(data)</code> variÃ¡vel; </li><li>  Determina que o valor do resultado seja 6 usando o mÃ©todo <code>.assertEqual()</code> na classe <code>unittest.TestCase</code> . </li></ol><br><ul><li>  Define um ponto de entrada da linha de comando que inicia o executor de teste <code>.main()</code> . </li></ul><br>  Se vocÃª nÃ£o souber o que Ã©, ou como <code>.assertEqual()</code> Ã© definido, poderÃ¡ atualizar seu conhecimento de programaÃ§Ã£o orientada a objetos com a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ProgramaÃ§Ã£o Orientada a Objetos do Python 3</a> . <br><br>  <b>Como escrever instruÃ§Ãµes</b> <br><br>  A etapa final ao escrever um teste Ã© verificar se a saÃ­da corresponde aos valores conhecidos.  Isso Ã© chamado de afirmaÃ§Ã£o.  Existem vÃ¡rias diretrizes gerais para escrever declaraÃ§Ãµes: <br><br><ul><li>  Verifique se os testes sÃ£o repetÃ­veis e execute-os vÃ¡rias vezes para garantir que eles apresentem os mesmos resultados a cada vez; </li><li>  Verifique e confirme os resultados que se aplicam Ã  sua entrada - verifique se o resultado Ã© realmente a soma dos valores no exemplo <code>sum()</code> . </li></ul><br>  O Unittest possui muitos mÃ©todos para confirmar os valores, tipos e existÃªncia de variÃ¡veis.  Aqui estÃ£o alguns dos mÃ©todos mais usados: <br><br><table><tbody><tr><th>  MÃ©todo </th><th>  Equivalente </th></tr><tr><td>  .assertEqual (a, b) </td><td>  a == b </td></tr><tr><td>  .assertTrue (x) </td><td>  bool (x) Ã© True </td></tr><tr><td>  .assertFalse (x) </td><td>  bool (x) Ã© False </td></tr><tr><td>  .assertIs (a, b) </td><td>  a Ã© b </td></tr><tr><td>  .assertIsNone (x) </td><td>  x Ã© nenhum </td></tr><tr><td>  .assertIn (a, b) </td><td>  a em b </td></tr><tr><td>  .assertIsInstance (a, b) </td><td>  instÃ¢ncia (a, b) </td></tr></tbody></table><br><br>  <code>.assertIs()</code> , <code>.assertIsNone()</code> , <code>.assertIn()</code> e <code>.assertIsInstance()</code> tÃªm mÃ©todos opostos chamados <code>.assertIsNot()</code> e assim por diante. <br><br>  <b>Efeitos colaterais</b> <br><br>  Escrever testes Ã© mais difÃ­cil do que apenas observar o valor de retorno de uma funÃ§Ã£o.  Frequentemente, a execuÃ§Ã£o do cÃ³digo altera outras partes do ambiente: atributos de classe, arquivos do sistema de arquivos, valores no banco de dados.  Essa Ã© uma parte importante do teste, chamada de efeitos colaterais.  Decida se vocÃª estÃ¡ testando um efeito colateral antes de incluÃ­-lo em sua lista de reivindicaÃ§Ãµes. <br><br>  Se vocÃª achar que existem muitos efeitos colaterais no bloco de cÃ³digo que deseja testar, estarÃ¡ violando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PrincÃ­pio da responsabilidade exclusiva</a> .  Violar o princÃ­pio da Ãºnica responsabilidade significa que um pedaÃ§o de cÃ³digo faz muitas coisas e requer refatoraÃ§Ã£o.  Seguir o princÃ­pio da responsabilidade exclusiva Ã© uma Ã³tima maneira de projetar cÃ³digo para o qual nÃ£o serÃ¡ difÃ­cil escrever testes de unidade simples e repetÃ­veis e, finalmente, criar aplicativos confiÃ¡veis. <br><br>  <b>LanÃ§amento do primeiro teste</b> <br><br>  VocÃª criou o primeiro teste e agora precisa tentar executÃ¡-lo.  Ã‰ claro que serÃ¡ aprovado, mas antes de criar testes mais complexos, vocÃª precisa garantir que mesmo esses testes sejam bem-sucedidos. <br><br>  <b>Executando Executores de Teste</b> <br><br>  Executor de teste - um aplicativo Python que executa o cÃ³digo de teste, valida asserÃ§Ãµes e exibe os resultados do teste no console.  No final do test.py, adicione este pequeno pedaÃ§o de cÃ³digo: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: unittest.main()</code> </pre> <br>  Este Ã© o ponto de entrada da linha de comandos.  Se vocÃª executar esse script executando python <code>test.py</code> na linha de comando, ele chamarÃ¡ <code>unittest.main()</code> .  Isso inicia o <code>unittest.TestCase</code> teste detectando todas as classes neste arquivo <code>unittest.TestCase</code> do <code>unittest.TestCase</code> . <br><br>  Essa Ã© uma das muitas maneiras de executar o corredor de teste mais unittest.  Se vocÃª tiver um Ãºnico arquivo de teste chamado <code>test.py</code> , chamar python test.py Ã© uma Ã³tima maneira de comeÃ§ar. <br><br>  Outra maneira Ã© usar a linha de comando mais unittest.  Vamos tentar: <br><br><pre> <code class="python hljs">$ python -m unittest test</code> </pre> <br>  Isso executarÃ¡ o mesmo mÃ³dulo de teste (chamado <code>test</code> ) atravÃ©s da linha de comando.  VocÃª pode adicionar parÃ¢metros adicionais para alterar a saÃ­da.  Um deles Ã© -v para detalhado.  Vamos tentar o seguinte: <br><br><pre> <code class="bash hljs">$ python -m unittest -v <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> test_list_int (test.TestSum) ... ok ---------------------------------------------------------------------- Ran 1 tests <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 0.000s</code> </pre><br>  Executamos um teste no test.py e exibimos os resultados no console.  O modo detalhado listou os nomes dos testes realizados e os resultados de cada um deles. <br><br>  Em vez de fornecer o nome do mÃ³dulo que contÃ©m os testes, vocÃª pode solicitar a descoberta automÃ¡tica usando o seguinte: <br><br><pre> <code class="python hljs">$ python -m unittest discover</code> </pre> <br>  Este comando procurarÃ¡ no diretÃ³rio atual arquivos com <code>test*.py</code> no nome para testÃ¡-los. <br><br>  Se vocÃª tiver vÃ¡rios arquivos de teste e seguir o padrÃ£o de nomeaÃ§Ã£o <code>test*.py</code> , poderÃ¡ passar o nome do diretÃ³rio usando o sinalizador -s e o nome da pasta. <br><br><pre> <code class="python hljs">$ python -m unittest discover -s tests</code> </pre> <br>  O unittest executarÃ¡ todos os testes em um Ãºnico plano de teste e produzirÃ¡ os resultados. <br>  Por fim, se o cÃ³digo-fonte nÃ£o estiver no diretÃ³rio raiz, mas em um subdiretÃ³rio, por exemplo, em uma pasta chamada src /, vocÃª poderÃ¡ dizer a unittest onde executar os testes usando o sinalizador -t para importar corretamente os mÃ³dulos: <br><br><pre> <code class="python hljs">$ python -m unittest discover -s tests -t src</code> </pre> <br>  O unittest encontrarÃ¡ todos <code>test*.py</code> arquivos <code>test*.py</code> no diretÃ³rio <code>src/</code> dentro dos <code>tests</code> e os executa. <br><br>  <b>Compreendendo os resultados do teste</b> <b><br></b> <br>  Este foi um exemplo muito simples, onde tudo correu bem, entÃ£o vamos tentar entender a saÃ­da de um teste que falhou. <br><br>  <code>sum()</code> deve aceitar outras listas de um tipo numÃ©rico, por exemplo, fraÃ§Ãµes. <br><br>  No inÃ­cio do cÃ³digo em <code>test.py</code> adicione uma expressÃ£o para importar o tipo de <code>fractions</code> mÃ³dulo de <code>fractions</code> da biblioteca padrÃ£o. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> fractions <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Fraction</code> </pre> <br>  Agora adicione um teste com uma instruÃ§Ã£o, esperando um valor incorreto.  No nosso caso, esperamos que a soma de Â¼, Â¼ e â…– seja igual a 1: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> my_sum <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sum <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestSum</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(unittest.TestCase)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_list_int</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" Test that it can sum a list of integers """</span></span> data = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] result = sum(data) self.assertEqual(result, <span class="hljs-number"><span class="hljs-number">6</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_list_fraction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" Test that it can sum a list of fractions """</span></span> data = [Fraction(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), Fraction(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), Fraction(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>)] result = sum(data) self.assertEqual(result, <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: unittest.main()</code> </pre><br>  Se vocÃª executar os testes novamente com o teste unittest python -m, faÃ§a o seguinte: <br><br><pre> <code class="python hljs">$ python -m unittest test F. ====================================================================== FAIL: test_list_fraction (test.TestSum) ---------------------------------------------------------------------- Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"test.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">21</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> test_list_fraction self.assertEqual(result, <span class="hljs-number"><span class="hljs-number">1</span></span>) AssertionError: Fraction(<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>) != <span class="hljs-number"><span class="hljs-number">1</span></span> ---------------------------------------------------------------------- Ran <span class="hljs-number"><span class="hljs-number">2</span></span> tests <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span>s FAILED (failures=<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  Nesta saÃ­da, vocÃª vÃª o seguinte: <br><br><ul><li>  A primeira linha mostra os resultados de todos os testes: um falhou (F), um passou (.); </li><li>  FAIL mostra alguns detalhes do teste que falhou: </li></ul><br><ol><li>  O nome do mÃ©todo de teste ( <code>test_list_fraction</code> ); </li><li>  MÃ³dulo de <code>test</code> ( <code>test</code> ) e caso de teste ( <code>TestSum</code> ); </li><li>  Traceback strings com um erro; </li><li>  Detalhes da declaraÃ§Ã£o com o resultado esperado (1) e o resultado real (FraÃ§Ã£o (9, 10)) </li></ol><br>  Lembre-se de que vocÃª pode adicionar informaÃ§Ãµes adicionais Ã  saÃ­da de teste usando o sinalizador -v no <code>python -m unittest</code> . <br><br>  <b>Executando testes do PyCharm</b> <br><br>  Se vocÃª estiver usando o PyCharm IDE, poderÃ¡ executar o unittest ou o pytest seguindo estas etapas: <br><br><ol><li>  Na janela da ferramenta Projeto, selecione o diretÃ³rio de testes. </li><li>  No menu de contexto, selecione o comando de execuÃ§Ã£o mais unittest.  Por exemplo, 'Unittests in my Tests ...'. </li></ol><br>  Isso serÃ¡ executado unittest na janela de teste e retornarÃ¡ os resultados no PyCharm: <br><br><img src="https://habrastorage.org/webt/i0/5e/xv/i05exvqd-ph8-jisw2a1ejgop_c.png"><br><br>  Mais informaÃ§Ãµes estÃ£o disponÃ­veis no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">site do PyCharm</a> . <br><br>  <b>Executando testes do cÃ³digo do Visual Studio</b> <br><br>  Se vocÃª usa o IDE do Microsoft Visual Studio Code, o suporte para unittest, nose e pytest jÃ¡ estÃ¡ incorporado no plug-in Python. <br><br>  Se vocÃª o tiver instalado, poderÃ¡ configurar a configuraÃ§Ã£o de teste abrindo a Paleta de Comandos com Ctrl + Shift + P e escrevendo "Teste Python".  VocÃª verÃ¡ uma lista de opÃ§Ãµes: <br><br><img src="https://habrastorage.org/webt/b1/zs/10/b1zs10n-ydybrqz62ywpknjp89q.png"><br><br>  Selecione Depurar todos os testes de unidade, apÃ³s o qual o VSCode enviarÃ¡ uma solicitaÃ§Ã£o para configurar a estrutura de teste.  Clique na engrenagem para selecionar o corredor de teste (mais unittest) e o diretÃ³rio inicial (.). <br><br>  ApÃ³s a conclusÃ£o da instalaÃ§Ã£o, vocÃª verÃ¡ o status dos testes na parte inferior da tela e poderÃ¡ acessar rapidamente os logs de teste e reiniciar os testes clicando nos Ã­cones: <br><br><img src="https://habrastorage.org/webt/rk/k6/cm/rkk6cmqzjwmtc-4upzozzurcjh4.png"><br><br>  Vimos que os testes estÃ£o sendo realizados, mas alguns deles falharam. <br><br>  O FIM <br><br>  Na prÃ³xima parte do artigo, examinaremos testes para estruturas como Django e Flask. <br><br>  Estamos aguardando suas perguntas e comentÃ¡rios aqui e, como sempre, vocÃª pode ir a Stanislav em um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dia aberto</a> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Segunda parte</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt433358/">https://habr.com/ru/post/pt433358/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt433348/index.html">DSL digitado no TypeScript de JSX</a></li>
<li><a href="../pt433350/index.html">Eventos digitais em Moscou, de 17 a 23 de dezembro</a></li>
<li><a href="../pt433352/index.html">O resumo de materiais frescos do mundo do front-end da Ãºltima semana n Â° 343 (10 a 16 de dezembro de 2018)</a></li>
<li><a href="../pt433354/index.html">NotÃ­cias do mundo do OpenStreetMap nÂº 438 (04/04/2018 - 10/12/2018)</a></li>
<li><a href="../pt433356/index.html">Os invasores aprenderam a ignorar a autenticaÃ§Ã£o de dois fatores Yahoo Mail e Gmail</a></li>
<li><a href="../pt433360/index.html">Cientistas tentaram prever quando aviÃµes elÃ©tricos se tornarÃ£o realidade</a></li>
<li><a href="../pt433362/index.html">9 princÃ­pios de beleza, simplicidade e cuidado no UX</a></li>
<li><a href="../pt433364/index.html">LDraw + Unity. Como eu gerei Lego</a></li>
<li><a href="../pt433366/index.html">Trabalhando com recursos externos no Unity3D</a></li>
<li><a href="../pt433368/index.html">Como aplicar o pensamento do supermercado ao mundo: um exemplo de moletom</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>