<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí± üë©üèø‚Äçü§ù‚Äçüë®üèº ü§±üèº Espruino: JavaScript en el microcontrolador üì° üÜí ‚ùì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚Äú¬øPor qu√©?‚Äù, ‚Äú¬øQu√© tonter√≠as?‚Äù, ‚Äú¬°Perversi√≥n!‚Äù, ‚ÄúFu-Fu-Fu‚Äù: estas son algunas de las muchas declaraciones que escuchamos cuando lanzamos el tablero de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Espruino: JavaScript en el microcontrolador</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/amperka/blog/392399/"><img src="https://habrastorage.org/files/d7a/aae/106/d7aaae106a9549d299c70a245bd412f4.png" alt="imagen" align="right"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Äú¬øPor qu√©?‚Äù, ‚Äú¬øQu√© tonter√≠as?‚Äù, ‚Äú¬°Perversi√≥n!‚Äù, ‚ÄúFu-Fu-Fu‚Äù: estas son algunas de las muchas declaraciones que escuchamos cuando lanzamos el tablero de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iskra JS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el n√∫cleo de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espruino</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Porque</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando el ingeniero electr√≥nico adecuado se entera de que se ha hecho algo en el Arduino, la temperatura de su cuerpo aumenta aproximadamente medio grado: "tomaron un microcontrolador adecuado y, en lugar de figak figak y registros, exprimieron todos los jugos, vulgarizaron todo ... no hay palabras, una odio ". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero puedes ir a√∫n m√°s lejos. Tome el microcontrolador Cortex M4, que es diez veces m√°s rico que lo que est√° en el mismo Arduino Uno, ¬°empuje el int√©rprete de JavaScript all√≠ y haga los proyectos de JavaScript! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Creo que en este momento aquellos que no est√°n listos para tal abuso de los microcircuitos sagrados ya han estallado. Continuar√© por el resto.</font></font><br>
<br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el hobby de la electr√≥nica para la gran mayor√≠a de los proyectos, el Arduino Uno es suficiente para la vista. Y ni siquiera importa si funciona a la frecuencia est√°ndar de 16 MHz o 4 MHz: no importa si las luces de la cama se encienden o la bomba en la caba√±a en 1 ms o 10 ms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo que importa es que C ++ es complejo y de madera. S√≠, est√° cerca del hierro, pero es por eso que requiere una comprensi√≥n profunda de este hierro y la inform√°tica. Agregue a esto la sintaxis con un mont√≥n de matices, que es la suma de los errores del desarrollo de 30 a√±os del lenguaje. Luego privamos lo que resultaron ser matrices, cadenas, diccionarios e incluso mejores; en general, privamos la memoria din√°mica. Aqu√≠, finalmente, tenemos el Arduino.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al ver preguntas en nuestro foro, veo que las personas pasan tiempo follando con el idioma, y ‚Äã‚Äãno con la esencia de sus proyectos. </font><font style="vertical-align: inherit;">Entonces, ¬øpor qu√© no reducir la brecha entre el hierro y las personas? </font><font style="vertical-align: inherit;">El hierro es barato y est√° en constante evoluci√≥n, el tiempo de las personas es costoso y no proviene de ning√∫n lado.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observ√© un proceso similar durante muchos a√±os mientras trabajaba en el desarrollo de juegos. </font><font style="vertical-align: inherit;">En 2003, era imposible imaginar que el juego se pueda escribir en otra cosa que no sea C / C ++. </font><font style="vertical-align: inherit;">Entonces el script incorporado de la m√°quina apareci√≥ en los motores. </font><font style="vertical-align: inherit;">Y luego la creaci√≥n de un producto completo se hizo posible sin una sola l√≠nea en C. </font><font style="vertical-align: inherit;">Solo Java, C #, Ruby, Python, JavaScript. </font><font style="vertical-align: inherit;">Esto es l√≥gico, porque el hierro comenz√≥ a extraer "lenguajes lentos", y debido al desarrollo m√°s r√°pido y a la mayor cantidad de programadores disponibles, fue posible gastar m√°s recursos en la diversi√≥n del juego y no en encontrar p√©rdidas de memoria.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥mo se ve la programaci√≥n de microcontroladores de JavaScript</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La programaci√≥n es como ... JavaScript. </font><font style="vertical-align: inherit;">Para desarrollo para navegador o Node.js. </font><font style="vertical-align: inherit;">Aqu√≠ hay un ejemplo:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// SMS</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sim = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'@amperka/Sim900r'</span></span>).connect();<font></font>
sim.powerOn();<font></font>
sim.on(<span class="hljs-string"><span class="hljs-string">'sms'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sms</span></span></span><span class="hljs-function">) </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rgb = sms.text.split(<span class="hljs-string"><span class="hljs-string">' '</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = +rgb[<span class="hljs-number"><span class="hljs-number">0</span></span>];
    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> g = +rgb[<span class="hljs-number"><span class="hljs-number">1</span></span>];
    <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = +rgb[<span class="hljs-number"><span class="hljs-number">2</span></span>];
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">isNaN</span></span>(r + g + b)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;<font></font>
    fadeTo(r, g, b);<font></font>
});<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">// </span></span>
SPI2.setup({<span class="hljs-attr"><span class="hljs-attr">baud</span></span>:<span class="hljs-number"><span class="hljs-number">3200000</span></span>, <span class="hljs-attr"><span class="hljs-attr">mosi</span></span>:B15});
<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> LED_COUNT = <span class="hljs-number"><span class="hljs-number">150</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> colors = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Uint8ClampedArray</span></span>(LED_COUNT * <span class="hljs-number"><span class="hljs-number">3</span></span>);<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fadeTo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">r, g, b</span></span></span><span class="hljs-function">) </span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = <span class="hljs-number"><span class="hljs-number">0</span></span>;
  <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ivalID = setInterval(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<font></font>
    colors[n*<span class="hljs-number"><span class="hljs-number">3</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span>] = b;<font></font>
    colors[n*<span class="hljs-number"><span class="hljs-number">3</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>] = r;<font></font>
    colors[n*<span class="hljs-number"><span class="hljs-number">3</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>] = g;<font></font>
    SPI2.send4bit(colors, <span class="hljs-number"><span class="hljs-number">0b0001</span></span>, <span class="hljs-number"><span class="hljs-number">0b0011</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n++ &gt;= LED_COUNT) {<font></font>
      clearInterval(ivalID);<font></font>
    }<font></font>
  }, <span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este programa se compromete a recibir SMS'ki y, dependiendo de su texto, con una luz de marcha cambia el color de la cinta RGB conectada. </font><font style="vertical-align: inherit;">Hicimos un proyecto para nuestro √°rbol de A√±o Nuevo, pero en el cl√°sico Arduino. </font><font style="vertical-align: inherit;">El c√≥digo fue 4 veces m√°s.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kernel Espruino</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, la computadora tiene motores V8 y SpiderMonkey para JavaScript. </font><font style="vertical-align: inherit;">Y los microcontroladores tienen un motor Espruino. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En t√©rminos generales, el motor Espruino es firmware (boceto, boceto) para microcontroladores, que a su vez puede ejecutar el c√≥digo JavaScript que transfiere a la placa a trav√©s de una conexi√≥n en serie, por ejemplo, a trav√©s de USB. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espruino es un proyecto de c√≥digo abierto patrocinado por Gordon Williams. </font><font style="vertical-align: inherit;">La persona que por s√≠ sola implement√≥ la mayor parte del ecosistema completo y la acompa√±√≥ con √©xito en KickStarter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este ecosistema consta de varias partes principales:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espruino Web IDE: un entorno de programaci√≥n; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espruino Firmware: m√°quina JavaScript que se ejecuta en un microcontrolador; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hierro: las tablas que son compatibles con Espruino; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Biblioteca est√°ndar y bibliotecas externas; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentaci√≥n </font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo primero es lo primero.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entorno de programaci√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Escribir c√≥digo JavaScript, descargarlo en el tablero y monitorear la salida se lleva a cabo en el IDE web de Espruino. </font><font style="vertical-align: inherit;">Esta aplicaci√≥n es para Google Chrome, por lo que se pone en 1 clic y funciona en todos los sistemas operativos de escritorio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para el usuario, este entorno reemplaza el IDE de Arduino. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De acuerdo con la funcionalidad del Espruino IDE, por supuesto, es mucho m√°s simple que Eclipse completo o Visual Studio, pero es m√°s avanzado que el Arduino IDE.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/6c8/0ca/a0c/6c80caa0c1544157bff5331460014f16.png" alt="imagen"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si mira alrededor de la ventana del entorno de un vistazo, ver√° el editor de c√≥digo (a la derecha), el panel de la consola (a la izquierda) y el bot√≥n para descargar el c√≥digo en el tablero. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La consola es como un monitor serie en el IDE de Arduino, pero a diferencia de ella, no solo muestra, sino que tambi√©n acepta: puede llamar a una funci√≥n directamente, sin reiniciar y cargar un nuevo programa, ver el valor de la variable, interrumpir el ciclo, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de haber trabajado m√°s estrechamente, se encontrar√° con un depurador (s√≠, ejecuci√≥n paso a paso, puntos de interrupci√≥n), sugerencias del editor, errores intermitentes sobre la marcha y otros buenos trucos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, directamente desde el IDE, puede actualizar la versi√≥n del firmware Espruino a la √∫ltima. </font><font style="vertical-align: inherit;">El entorno mismo descarga la √∫ltima versi√≥n disponible y la carga a trav√©s de USB.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firmware</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El coraz√≥n del sistema es el firmware que gira en el microcontrolador. </font><font style="vertical-align: inherit;">Est√° escrito en C puro, se carga una vez en un lugar separado en la memoria flash del microcontrolador y se compromete a ejecutar el c√≥digo JS del usuario que viene a trav√©s de una conexi√≥n en serie o se encuentra en el √°rea de usuario de la memoria flash. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si representamos esquem√°ticamente el dise√±o de la memoria flash para Iskra JS, obtenemos la siguiente imagen:</font></font><br>
<br>
<img src="https://habrastorage.org/files/89c/084/d48/89c084d486f3478fa8f3c7584b83b97d.png" alt="imagen"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cargador de arranque</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primero viene el gestor de arranque, que nunca se actualiza (condicionalmente). </font><font style="vertical-align: inherit;">Este es un peque√±o programa, cuya ejecuci√≥n siempre comienza la vida del microcontrolador despu√©s de encender o reiniciar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El gestor de arranque hace una cosa bastante simple:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si no se presiona el bot√≥n de usuario BTN1, inmediatamente transfiere el control al int√©rprete.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si el bot√≥n se presion√≥ al inicio, se repite y espera hasta que se presione nuevamente el bot√≥n para salir al int√©rprete, o espera hasta que la nueva versi√≥n del int√©rprete se descargue a trav√©s de USB. </font><font style="vertical-align: inherit;">En este caso, el gestor de arranque sobrescribir√° el √°rea de memoria flash con el firmware Espruino, y obtendremos la √∫ltima versi√≥n del int√©rprete en la pizarra.</font></font></li>
</ul><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int√©rprete</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, el cargador es seguido por un int√©rprete, que hace el trabajo principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando comienza, comprueba al comprobar el byte m√°gico si hay alg√∫n c√≥digo JavaScript almacenado en la memoria flash del usuario. </font><font style="vertical-align: inherit;">Si lo hay, se acepta ejecutarlo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si no hay c√≥digo, o si salimos manualmente del gestor de arranque usando BTN1, no se ejecutar√° nada en la reuni√≥n, solo tenemos una m√°quina JS lista para trabajar.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memoria libre</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s del int√©rprete hay un √°rea de memoria extra√≠ble que puede usar para el almacenamiento no vol√°til de sus datos. </font><font style="vertical-align: inherit;">Este es un tipo de reemplazo para EEPROM por Arduino, pero con sus propios detalles, as√≠ como sus decenas a cientos de veces m√°s.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo personalizado</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ es donde se almacena el programa JS que ejecuta el int√©rprete. </font><font style="vertical-align: inherit;">El programa est√° all√≠ en texto plano, en una briqueta, como es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que muchas bibliotecas conectadas con sus dependencias y su propio programa se conviertan en una briqueta fundida y minificada, se monitorea al cargar el IDE. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√°s bien, todo el trabajo no lo realiza el IDE, sino su componente independiente de la GUI de EspruinoTools, que tiene una interfaz de l√≠nea de comando y un punto de entrada para usar como m√≥dulo Node.js. </font><font style="vertical-align: inherit;">Por lo tanto, si lo desea, puede usar Vim, Atom, Eclipse o lo que sea m√°s conveniente para su desarrollo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En lugar del c√≥digo, en lugar de una briqueta de texto, puede haber un reparto binario almacenado de RAM, que refleja completamente el estado del int√©rprete al momento de guardar. </font><font style="vertical-align: inherit;">Pero estos ya son detalles t√©cnicos, no para una descripci√≥n r√°pida.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bibliotecas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las bibliotecas se pueden dividir en 3 tipos: est√°ndar, incorporado y externo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Biblioteca est√°ndar</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La biblioteca est√°ndar son funciones y objetos que se pueden usar. </font><font style="vertical-align: inherit;">Entre ellos, tanto los familiares como los prescritos en el lenguaje est√°ndar `Fecha`,` JSON`, `Matem√°ticas`,` Objeto`, `setInterval`,` setTimeout` y otros, as√≠ como funciones espec√≠ficas de Espruino para trabajar con pines, interfaces de memoria </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entre las funciones encontrar√° `pinMode`,` digitalRead`, `digitalWrite`,` analogRead`, `analogWrite`, familiar para el arduino y no tan familiar` setWatch` para observar los pines de entrada,` digitalPulse` para la generaci√≥n precisa de una secuencia de pulsos digitales y muchas m√°s cosas diferentes para trabajar con perif√©ricos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por cierto, a pesar del hecho de que hay una funci√≥n `pinMode` en la plataforma, por defecto funciona por s√≠ sola, detr√°s de escena, por lo que en la mayor√≠a de los escenarios no puedes recordarlo (el √∫ltimo ingeniero electr√≥nico explot√≥ en voz alta en este punto). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo que no encontrar√° en la biblioteca est√°ndar es `delay '. Mamma Mia, ¬°qu√© agradecida estoy por eso! Es suficiente reorganizar un poco el pensamiento y queda claro que todo se resuelve mediante `setInterval`,` setTimeout` sin ning√∫n `retraso`. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En agradecimiento, obtienes una ejecuci√≥n asincr√≥nica: puedes parpadear veinte LED de forma independiente, cada uno con su propia frecuencia. Y obtienes eficiencia energ√©tica: `delay 'est√° quemando el tiempo del procesador, y sin` delay' el procesador puede dormir tranquilo mientras no hay nada que hacer. En Espruino, mientras no hay trabajo, el procesador se queda dormido y consume docenas de veces menos corriente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bibliotecas incorporadas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las bibliotecas integradas son la misma parte de la biblioteca est√°ndar en el sentido de que est√°n codificadas en el firmware Espruino, pero el acceso a su funcionalidad requiere conectarlas sint√°cticamente utilizando la funci√≥n `require` familiar para los programadores de JavaScript. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entre estas bibliotecas encontrar√°, por ejemplo, `fs` para trabajar con sistemas de archivos de tarjetas SD,` http` para crear una interfaz web para su dispositivo, `Waveform` para grabar / reproducir se√±ales de audio y otros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las bibliotecas est√°ndar e integradas se implementan en C puro, y el usuario solo cuenta con una interfaz JavaScript en forma de un conjunto de objetos, funciones y m√≥dulos. </font><font style="vertical-align: inherit;">Esto le permite lograr la m√°xima eficiencia para la implementaci√≥n de algoritmos complejos, mientras deja la posibilidad de acceder a ellos desde un c√≥digo de alto nivel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usted mismo puede implementar algo en C que JavaScript diga "no, gracias", y sacar solo algunas colas necesarias para ejecutarse.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bibliotecas externas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las bibliotecas externas son las que dan forma a la riqueza del ecosistema. </font><font style="vertical-align: inherit;">Est√°n escritos en JavaScript por autores de Espruino, nosotros escribimos, los usuarios de Espruino escriben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pueden almacenarse en un disco local, en el entorno limitado del proyecto actual, pueden estar en el repositorio de Internet, pueden estar en GitHub, pueden estar en NPM. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las bibliotecas est√°n conectadas, tradicionalmente, usando `require`. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando el entorno ve "require", los descarga de forma recursiva desde una fuente remota y, al cargar un boceto, pega sus contenidos al comienzo de su programa. </font><font style="vertical-align: inherit;">Por lo tanto, para el microcontrolador, se forma una briqueta integral con el c√≥digo del que habl√© anteriormente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este enfoque tambi√©n significa que, a diferencia de Arduino, el usuario no necesita tropezar con el hecho de que, para empezar, la biblioteca debe ser encontrada, descargada y puesta donde necesita. </font><font style="vertical-align: inherit;">Es suficiente con cerrar el boceto que te gusta desde alg√∫n lugar y el entorno mismo se ocupar√° de las dependencias de la biblioteca.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hierro</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces llegamos al componente m√°s tangible del ecosistema Espruino. </font><font style="vertical-align: inherit;">Estas son las placas que pueden ejecutar el firmware Espruino.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/afb/b7e/d24/afbb7ed24c6f45c1a4c9a0b1069f58ec.jpg" alt="imagen"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estos incluyen el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tablero</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> original de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Espruino</font></a><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espruino Pico</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , as√≠ como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iskra JS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lanzado por Amperka </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Todo ya est√° instalado en la f√°brica en los tableros enumerados, est√°n listos de inmediato para el trabajo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede tocar la pandereta varias veces e instalar independientemente el n√∫cleo Espruino en el STM32 Discovery, Nucleo y, de repente, en el ESP8266.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La documentaci√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No hay nada m√°s triste que algo muy genial y poderoso, pero sin documentaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espruino tiene bastante buena documentaci√≥n. </font><font style="vertical-align: inherit;">En </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.espruino.com/Reference</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> encontrar√° muchos art√≠culos de referencia y capacitaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Queremos hacer m√°s y mejor. </font><font style="vertical-align: inherit;">Por lo tanto, creamos una secci√≥n separada: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">js.amperka.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">graba</font></a><font style="vertical-align: inherit;"> videos tutoriales. </font><font style="vertical-align: inherit;">El trabajo est√° en progreso, pero ya se ha cubierto mucho. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y tradicionalmente para los amantes de las soluciones en caja, hemos creado un conjunto de " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iodo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". </font><font style="vertical-align: inherit;">Contiene Iskra JS, m√≥dulos y un libro de colores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hay un perejil. </font><font style="vertical-align: inherit;">El √∫nico misterio es si al menos un ingeniero electr√≥nico correcto podr√≠a leer hasta esta l√≠nea.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es392399/">https://habr.com/ru/post/es392399/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es392383/index.html">Qu√© f√°cil es hackear Android sin cifrar, o por qu√© vale la pena cifrarlo</a></li>
<li><a href="../es392387/index.html">¬´–Ø–Ω–¥–µ–∫—Å. –ö–∞—Ä—Ç—ã¬ª –ø–µ—Ä–µ—à–ª–∏ –Ω–∞ –≤–µ–∫—Ç–æ—Ä</a></li>
<li><a href="../es392389/index.html">Establezca una sala de conferencias en honor del D√≠a de la Ciencia Rusa el 24 de abril</a></li>
<li><a href="../es392391/index.html">Peri√≥dico de papel Trollim</a></li>
<li><a href="../es392395/index.html">El ransomware "Petya" encripta todo el disco duro y requiere dinero</a></li>
<li><a href="../es392401/index.html">El misterioso Planeta X podr√≠a ser capturado por el Sol desde otro sistema estelar</a></li>
<li><a href="../es392403/index.html">Likbez en dispositivos Xiaomi presentados en AliExpress</a></li>
<li><a href="../es392405/index.html">Los cient√≠ficos pudieron controlar la velocidad del escarabajo implantando electrodos en sus m√∫sculos</a></li>
<li><a href="../es392407/index.html">Microsoft comenz√≥ a enviar la versi√≥n HoloLens para desarrolladores y lanz√≥ un emulador</a></li>
<li><a href="../es392409/index.html">Transmisiones de Node.js: los ingenieros de Google encontraron una vulnerabilidad en los scripts de NPM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>