<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñïüèº üçÑ ‚ôàÔ∏è Zwei Aspekte von WebView: √ºber den schnellen Start von Projekten und den Diebstahl personenbezogener Daten üòÅ üë©üèº‚Äçü§ù‚Äçüë©üèª üí∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! 

 Mein Name ist Eugene, ich bin ein Full Stack JS-Entwickler, der aktuelle Stack ist Node.js + React + React Native. Ich bin seit √ºber 10...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zwei Aspekte von WebView: √ºber den schnellen Start von Projekten und den Diebstahl personenbezogener Daten</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/440710/">  Hallo Habr! <br><br>  Mein Name ist Eugene, ich bin ein Full Stack JS-Entwickler, der aktuelle Stack ist Node.js + React + React Native.  Ich bin seit √ºber 10 Jahren in der Entwicklung.  In der mobilen Entwicklung habe ich verschiedene Tools von Cordova bis React Native ausprobiert.  Nachdem ich Erfahrungen mit Cardova gesammelt hatte, wurde mir klar, dass ich native Schnittstellen erstellen m√∂chte. Meiner Meinung nach sollte WebView nicht die gesamte Anwendung sein.  Dies bedeutet jedoch nicht, dass es √ºberhaupt nicht verwendet werden sollte. <br><br>  Auf Einladung von Kollegen der Sberbank m√∂chte ich in diesem Beitrag √ºber hybride mobile Anwendungen sprechen.  Mit dem richtigen Ansatz ist dies eine gro√üartige M√∂glichkeit, die Idee eines gut funktionierenden Produkts schnell umzusetzen, das f√ºr den ersten Start Ihres Startups ausreicht. <br><br><img src="https://habrastorage.org/webt/5e/5e/zk/5e5ezktcv297mu5hrpai4vjg-9e.jpeg"><br>  <i>Quelle: srishta.com</i> <br><br>  Ich werde Ihnen auch ein wenig dar√ºber erz√§hlen, wie Sie WebView verwenden k√∂nnen und wie Angreifer es gegen Sie verwenden k√∂nnen.  Die Beispiele in diesem Artikel werden unter Verwendung des React Native-Frameworks gezeigt, aber die gleichen Ideen k√∂nnen auch ohne dieses Framework implementiert werden. <br><a name="habracut"></a><br><h2>  Ein bisschen √ºber Startups </h2><br>  Ich beginne mit den grundlegenden Unterschieden beim Start von Startups in unserem Land und im Westen. Ich werde Ihnen erkl√§ren, wie WebView hier helfen kann. Ich werde Arbeitsbeispiele f√ºr die Interaktion von Web- und nativen Elementen sowie Sicherheitstipps bei der Interaktion mit Anwendungen von Drittanbietern geben. <br><br>  Damit ein Startup erfolgreich ist, muss es in der Regel schnell gestartet werden.  Wenn Sie Zeit verlieren, werden Ihre Konkurrenten Sie umgehen.  Dies wird sowohl in unserem Land als auch im Westen verstanden.  Aber der russische Ansatz zum Start ist in der Regel viel gr√ºndlicher - im schlechten Sinne des Wortes. <br><br>  Alle erfolglosen <i>russischen Startups</i> beginnen und entwickeln sich in ungef√§hr demselben Szenario.  Die h√§ufigsten Fehler beziehen sich auf die strategische Planung der Softwareproduktentwicklung.  Das Management ist der Ansicht, dass der Start erst nach 110% iger Implementierung aller Funktionen und Nuancen m√∂glich ist.  Bei diesem Ansatz entsteht schnell ein Haushaltsdefizit, da die Entwicklungskosten hoch sind und es keine Einnahmen aus einem Startup gibt.  Die Suche nach zus√§tzlichen Investitionen, einem endlosen Kreis von Genehmigungen und √úberarbeitungen nimmt viel Zeit in Anspruch, das Produkt erscheint beim Wettbewerber.  Das war's, der Marathon ist verloren. <br><br>  <i>Europ√§ische und amerikanische Startups</i> verhalten sich unterschiedlich.  F√ºr den Anfang sind sie nur auf die mobile Webversion mit einem minimal ausreichenden Funktionsteil beschr√§nkt.  Es kann sowohl von Desktops als auch von Mobilger√§ten angezeigt werden.  Und zu diesem Zeitpunkt ist das Projekt startbereit!  Nach dem Start wird die Anwendung f√ºr mobile Ger√§te erstellt. <br><br>  In der Regel unterscheidet sich die Anwendung in den Grundfunktionen nicht von der Webversion.  Es erweitert die M√∂glichkeiten der Interaktion mit dem Benutzer, beispielsweise durch Push-Benachrichtigungen.  Dieser Ansatz stellt die Erf√ºllung der Hauptbedingung sicher - schneller Start, schneller erster Gewinn.  Einnahmen aus der ersten Phase k√∂nnen in die Entwicklung investiert werden.  In Zukunft kann das Projekt ohne Budgetdefizit wie gew√ºnscht skaliert und entwickelt werden, wobei endlos ein iterativer Ansatz durchgef√ºhrt wird, um neue Funktionen hinzuzuf√ºgen und die Benutzeroberfl√§che zu entwickeln. <br><br>  Ich schlage vor, die Phase, in der es bereits eine mobile Version der Website gibt und Sie eine Anwendung f√ºr mobile Ger√§te entwickeln m√ºssen, genauer zu betrachten.  Also haben wir eine Site erstellt, was bedeutet, dass wir die Server-API, die Schnittstelle und die Gesch√§ftslogik entwickelt haben.  Zwei der drei Komponenten sind <br>  - Schnittstelle und Logik - sind in der mobilen Anwendung vorhanden.  Ich stimme zu, ich m√∂chte sie nicht noch einmal schreiben. <br><br><h2>  Kombinieren Sie das Beste aus nativen und Webanwendungen </h2><br>  Es gibt Tools, die sich auf die Entwicklung nativer Anwendungen konzentrieren.  Andere sind f√ºr das Web.  Der Vorteil nativer Anwendungen besteht darin, dass sie das volle Funktionspotential des Telefons nutzen k√∂nnen.  Die Entwicklung im Vergleich zu Webanwendungen ist jedoch recht schwierig.  Das Web bietet einen einfachen Start, schr√§nkt jedoch die Funktionen der Anwendung erheblich ein. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f3b/5bf/422/f3b5bf422a2b6f41d6d7bedcb81e9337.png"><br>  <i>* Um die Tautologie von Webanwendungen zu verringern, werde ich mobile Anwendungen aufrufen, deren Logik und Benutzeroberfl√§che gr√∂√ütenteils auf der Browserseite implementiert sind</i> <br><br>  Mit der WebView-Komponente erstellte Hybridanwendungen erm√∂glichen die Kombination aller Vorteile nativer Anwendungen und des Webs.  Nat√ºrlich gibt es akribische Entwickler, die in jeder ihrer Erscheinungsformen kategorisch gegen WebView sind.  Sie argumentieren dies mit der Tatsache, dass die Anwendung sofort vollst√§ndig nativ sein sollte, damit Sie alle Funktionen eines mobilen Ger√§ts nutzen und eine komfortable Leistung der Benutzeroberfl√§che bieten k√∂nnen.  In vielen F√§llen k√∂nnen Sie jedoch die Zeit f√ºr den ersten Start verk√ºrzen, indem Sie eine Hybridanwendung erstellen und diese schrittweise durch eine native ersetzen, wenn die Funktionen der mobilen Version der Website ausreichend sind. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3f9/120/557/3f9120557268b1609343599035758f8b.png"></div><br>  Hybridanwendungen sind nicht immer schlecht und nicht erweiterbar.  Sie k√∂nnen bequem und produktiv sein.  Bei ordnungsgem√§√üer Verwendung hilft dieser Ansatz, gen√ºgend Zeit f√ºr die Entwicklung einer Qualit√§tsanwendung zu gewinnen und eine native Anwendung nicht in Eile freizugeben. <br><br>  Es gibt verschiedene Situationen, in denen es ratsam ist, Hybridanwendungen zu verwenden.  Sie eignen sich gut als tempor√§rer Stub f√ºr einen schnellen Start - wenn wir eine mobile Version der Site bereit haben und die mobile Anwendung ‚Äûgestern‚Äú ben√∂tigt wurde.  Eine solche Anwendung kann in wenigen Stunden erstellt und in der Produktion ausgef√ºhrt werden.  Benutzer haben die M√∂glichkeit, mit einer mobilen Anwendung zu arbeiten, und Sie haben die M√∂glichkeit, in weniger engen Zeitr√§umen (falls erforderlich) an einer vollst√§ndigeren Version zu arbeiten. <br><br>  Hier ist ein Beispiel.  Vor kurzem brauchten Kollegen dringend eine mobile Anwendung.  In der Webversion gab es acht Men√ºelemente, die wir √ºber WebView angezeigt haben.  Und dann haben sie einen Artikel ersetzt.  Es kam also vor, dass die Anwendung nicht in ein oder drei Monaten, sondern in nur wenigen Tagen ver√∂ffentlicht wurde.  Nach allm√§hlich auf den Eingeborenen √ºbertragen. <br><br>  Eine hybride L√∂sung ist nicht immer vor√ºbergehend.  Mit seinen Funktionen k√∂nnen Sie die zuvor f√ºr die Webversion erstellte Codebasis in der Anwendung wiederverwenden.  Zum Beispiel bestimmte Animationen, die bereits auf Canvas erstellt wurden.  WebView ist auch praktisch, wenn Sie einen Dienst eines Drittanbieters verwenden.  Eine andere Option ist, wenn Sie eine komplexe Oberfl√§che haben, die einfacher √ºber WebView zu verbinden ist. <br><br><h2>  So verwenden Sie Webview </h2><br>  Nehmen Sie ein beliebtes Skript.  Wir m√∂chten die mobile Version der Site und das native Men√º verwenden.  Wir erstellen eine native Anwendung mit einem Men√º, verbinden jedoch anstelle von Inhalten die mobile Version der Website √ºber WebView (bisher ohne √Ñnderungen). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ab/2cd/a4d/2ab2cda4dcb1efee936afeb16dcd7513.gif" width="300"></div><br>  Auf dem GIF sehen Sie 2 Men√ºs.  Das rechte Men√º ist Teil der im Web implementierten Site, das linke ist das native Men√º, das in der mobilen Anwendung implementiert ist.  Um die erste Ann√§herung an die native Anwendung zu erhalten, m√ºssen wir nur das im Web implementierte Men√º ausblenden.  So viel <a href="">Code wird</a> ben√∂tigt, um die Webversion in der Anwendung √ºber WebView anzuzeigen: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> (props) =&gt; (  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Example1"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">WebView</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">source</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{uri:</span></span></span></span><span class="xml"><span class="hljs-tag"> '&lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"https://provincehotels.ru/"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">https://provincehotels.ru/</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">'}} style={{flex:1}} /&gt;  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> );</span></span></code> </pre> <br>  Im n√§chsten Beispiel geht es darum, wie der native Teil mit dem Web interagieren kann. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/0b/wj/ia0bwj6viewkx-hsiqpmjc1dzgg.gif"></div><br>  Der Roboter ist auf Leinwand gezeichnet, dies ist Teil der Website.  Der Wechsel dazu basiert auf der nativen Benutzeroberfl√§che.  Auf verschiedenen Handys sieht es anders aus.  Wir k√∂nnen die Bewegungen des Roboters mit einem Schalter steuern.  Sie k√∂nnen und umgekehrt - mit einigen Elementen der Weboberfl√§che die Anwendung beeinflussen.  React Native bietet hierf√ºr eine spezielle API f√ºr die Interaktion zwischen dem Web und dem nativen Teil. <br><br>  Unten finden Sie den <a href="">Code</a> zur Verwendung dieser Animation.  Layout - der ganze Raum.  Picker ist ein nativer Teil, der aus den Dropdown-Optionen f√ºr den Status des Roboters ausw√§hlen kann.  WebView - ein Container zum Anzeigen des Webs, in dem ein Roboter gezeichnet wird. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> states = [ <span class="hljs-string"><span class="hljs-string">'Idle'</span></span>, <span class="hljs-string"><span class="hljs-string">'Walking'</span></span>, <span class="hljs-string"><span class="hljs-string">'Running'</span></span>, <span class="hljs-string"><span class="hljs-string">'Dance'</span></span>, <span class="hljs-string"><span class="hljs-string">'Death'</span></span>, <span class="hljs-string"><span class="hljs-string">'Sitting'</span></span>, <span class="hljs-string"><span class="hljs-string">'Standing'</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uri = <span class="hljs-string"><span class="hljs-string">'https://artexoid.ru/181212/example2/'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example2</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ myWebView = React.&lt;i&gt;createRef&lt;<span class="hljs-regexp"><span class="hljs-regexp">/i&gt;(); state = {   robot: states[0] }; render() {   return (     &lt;Layout { ...this.props } name="Example2"&gt;       &lt;Picker         mode="dropdown"         selectedValue={this.state.robot}         onValueChange={(item) =&gt; {           this.setState({robot: item});           this.myWebView.current.postMessage(item);         }}       &gt;         {states.map((item =&gt; &lt;Picker.Item key={item} label={item} value={item} /</span></span>&gt; ))}       &lt;<span class="hljs-regexp"><span class="hljs-regexp">/Picker&gt;       &lt;WebView ref={this.myWebView} source={{uri}} style={{flex:1}} /</span></span>&gt;     <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>   ); } }</code> </pre> <br>  Solche F√§lle treten h√§ufig auf.  Zum Beispiel haben wir einen Antrag auf Pr√ºfung und Zertifizierung von Zahn√§rzten gestellt.  F√ºr jede Antwort im Test wurde eine Animation in die Fragen gezeichnet, die mithilfe von Canvas im Web implementiert wurde.  Die Herausforderung bestand darin, mit diesen Tests eine mobile Anwendung zu erstellen.  Mit WebView konnten wir Animationen aus dem Web anzeigen, w√§hrend wir den Rest der Benutzeroberfl√§che nativ erstellten.  Die Animation funktionierte auch auf √§lteren Smartphones einwandfrei. <br><br><h2>  Wie werden Injektionen gemacht? </h2><br>  Bis 2013 verwendete der Opera-Browser eine eigene Presto-Engine, die dann von Google an die Blink-Engine √ºbertragen wurde.  Viele Benutzer sind sehr ver√§rgert.  Das Video <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûWhy Opera Webkit‚Äú</a> beleuchtet die Gr√ºnde f√ºr diesen √úbergang.  Die Hauptschuldigen sind gro√üe Unternehmen wie Google oder Facebook, die den Code ihrer Produkte in Opera nicht getestet und die Anzeige von Seiten in diesem Browser verboten haben, da sie bei Nutzern nicht beliebt genug sind. <br><br>  Sie wechseln beispielsweise √ºber Opera zu Google Mail und sehen: "JavaScript-Fehler".  Wenn Sie an den Support schreiben, erhalten Sie die Antwort: "Opera wird bei uns nicht unterst√ºtzt, wir werden keinen Code daf√ºr schreiben."  Zun√§chst beauftragte Opera Entwickler mit dem Schreiben von Injektionen, einem speziellen Code, der in Google Mail eingebettet war und in Opera funktionieren konnte.  Aber nach und nach wurden Websites wie Google Mail gr√∂√üer.  Opera gab auf und wechselte den Motor. <br><br>  Also wovon rede ich?  Ah ja, es ist Zeit, √ºber Injektionen zu sprechen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ab/2cd/a4d/2ab2cda4dcb1efee936afeb16dcd7513.gif" width="300"></div><br>  Auf dem GIF - ein Beispiel f√ºr eine Injektion, die das Verhalten von Stellen √§ndert.  Angenommen, wir haben die Website einer anderen Person und f√ºgen Stile ein. Wir verbergen das richtige Men√º und den Schieberegler, der nach rechts ausgeht.  Dies ist eine Injektion von Stilen.  Die Logik der Site √§ndert sich nicht, nur die Anzeige. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addStyles=<span class="hljs-string"><span class="hljs-string">` const newCSS = 'div[class*=svgHamburger],div[class*=drawerPanel] { display: none !important; }'       head = document.head || document.getElementsByTagName('head')[0],       style = document.createElement('style'); style.type = 'text/css'; style.appendChild(document.createTextNode(newCSS)); head.appendChild(style); `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uri = <span class="hljs-string"><span class="hljs-string">'https://provincehotels.ru/'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> (props) =&gt; ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag"> { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag"> } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Example1"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">WebView</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">source</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{uri</span></span></span></span><span class="xml"><span class="hljs-tag"> }} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{flex:1}}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">injectedJavaScript</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{addStyles}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">javaScriptEnabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> );</span></span></code> </pre> <br>  <a href="">Der</a> gr√ºn geschriebene <a href="">Code</a> ist Injektion.  Es verbirgt die Elemente, Sie k√∂nnen nicht darauf klicken, Sie k√∂nnen nicht mit ihnen interagieren.  Es sieht aus wie eine vollst√§ndig native Anwendung ohne Websteuerelemente. <br><br>  Die n√§chste Injektion ist interessanter.  Angenommen, wir haben eine mobile Anwendung und einen integrierten mobilen Browser. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ah/11/mq/ah11mqb5sfarvpo-5zfhvapkuwq.gif"></div><br>  Eine Person folgt dem Link und wir ersetzen ihn leicht durch die Facebook-Seite, auf der Sie einen Benutzernamen und ein Passwort eingeben m√ºssen.  Wenn eine Person es betritt, f√§ngt die Anwendung es ab.  Hier ist der <a href="">Code</a> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addScripts=<span class="hljs-string"><span class="hljs-string">` document   .querySelector('input[type=password]')   .addEventListener("change", (event) =&gt; alert(event.target.value)); `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uri = <span class="hljs-string"><span class="hljs-string">'https://www.facebook.com/'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> (props) =&gt; ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag"> { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag"> } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Example4"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">WebView</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">source</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{uri</span></span></span></span><span class="xml"><span class="hljs-tag"> }} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{flex:1}}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">injectedJavaScript</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{addScripts}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">javaScriptEnabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> );</span></span></code> </pre> <br>  Ein solcher Code wird als Logikinjektion bezeichnet.  Normalerweise ist es schwieriger, aber nicht viel.  Das hei√üt, ein Passwort zu stehlen ist einfacher als Steuerelemente auszublenden. <br><br><h2>  Minute der Paranoia: Browser in Anwendungen eingebettet </h2><br>  Wie Sie wissen, verf√ºgen viele Anwendungen √ºber integrierte Browser (WebView), z. B. VKontakte, Telegramm, Google Mail, WhatsApp usw.  Wir k√∂nnen gro√üen Unternehmen vertrauen, aber WebView wird auch von einer gro√üen Anzahl von Anwendungen mit einer kleinen Anzahl von Stars und zweifelhaften Autoren verwendet - zum Beispiel QR-Readern, Dateimanagern, Shells f√ºr Kameras usw. ... Sie installieren die Anwendung, lesen den Code durch, klicken auf den Link, Geben Sie vertrauliche Daten ein - und die Anwendung hat, wie im vorherigen Beispiel gezeigt, Zugriff darauf.  Und dann k√∂nnen Sie nicht verfolgen, wohin diese Daten flie√üen.  Verwenden Sie daher zum √ñffnen von Links nur vertrauensw√ºrdige Browser. <br><br>  Es gibt Websites, die jedes Mal einen Benutzernamen und ein Passwort anfordern.  Und es gibt diejenigen, die dies selten tun - einmal im Monat, einmal im Jahr.  Seltsamerweise ist die zweite Option sicherer in Bezug auf Datenlecks durch WebView.  Sie betreten die Site beispielsweise √ºber einen linken Browser.  Die Site erfordert einen Benutzernamen und ein Passwort, und es scheint Ihnen nicht seltsam - das tut sie immer.  Und in dem Fall, dass eine Autorisierung selten erforderlich ist, werden Sie vorsichtig. <br><br>  Interessanterweise sch√ºtzt die Zwei-Faktor-Authentifizierung nicht vor einem solchen Angriff - nur vor Passwortdiebstahl.  Tatsache ist, dass nach der Best√§tigung ein Token als Antwort an Sie zur√ºckgegeben wird, das wiederum noch keine Zwei-Faktor-Berechtigung besitzt und leicht abzufangen ist.  Das hei√üt, wenn Sie das Login und den Code einmal per SMS eingegeben haben, erh√§lt der Browser ein Token, das wiederholt verwendet werden kann.  Mit diesem best√§tigten Token kann er tun, was er will, solange der Token relevant bleibt.  Vertrauen Sie den integrierten Browsern im Allgemeinen nicht zu sehr. <br><br>  Sie k√∂nnen Beispiele aus diesem Beitrag √ºber Demo-Anwendungen kennenlernen.  Unter Android m√ºssen Sie Expo Project herunterladen - ein Tool f√ºr die Arbeit mit JavaScript und React Native.  Nach der Installation von Expo m√ºssen Sie nur noch den QR-Code lesen: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/13d/a0f/589/13da0f589ed467338dcfe0b0fa2d4f70.png"><br><br>  IOS-Ger√§te sind komplizierter: Apple hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die Verteilung von</a> Anwendungen auf diese Weise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verboten</a> .  Die Neugierigen m√ºssen also die Anwendung aus der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quelle</a> auf GitHub erstellen.  Vielen Dank f√ºr Ihre Aufmerksamkeit! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de440710/">https://habr.com/ru/post/de440710/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de440696/index.html">Datenbank-Refactoring-Toolkit: Flyway vs. Liquibase</a></li>
<li><a href="../de440700/index.html">Data Science "Spezialeinheiten" im eigenen Haus</a></li>
<li><a href="../de440702/index.html">Achtung - GAS! oder wie wir intelligente Vertr√§ge ohne Kohlens√§ure abgeschlossen haben</a></li>
<li><a href="../de440706/index.html">InoThings ++ Professional IoT-Konferenz - Was war und was wird</a></li>
<li><a href="../de440708/index.html">Offenes Webinar "Arbeit: das eigene und das eines anderen"</a></li>
<li><a href="../de440712/index.html">Die Cloud ist nur jemandes Computer</a></li>
<li><a href="../de440714/index.html">Wie wirkt sich eine Senkung der Erwerbsquote auf uns (Karteninhaber) aus?</a></li>
<li><a href="../de440716/index.html">Implementierung des gr√∂√üten vormontierten IDCS f√ºr Beh√∂rden in Wolgograd</a></li>
<li><a href="../de440718/index.html">Szenen√ºbergreifende Daten√ºbertragung in Unity - Anwendung mehrerer Werte auf die einfache Spieleentwicklung</a></li>
<li><a href="../de440720/index.html">Wir implementieren die Benutzeroberfl√§che in iOS: Wir verbessern, beschleunigen und skalieren</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>