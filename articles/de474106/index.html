<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôëÔ∏è üó°Ô∏è üëºüèº Semantik der Tools zur Abh√§ngigkeitsaufl√∂sung üïü ‚ôìÔ∏è üõ¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tool zur L√∂sung von Abh√§ngigkeiten 


 Ein Abh√§ngigkeitsaufl√∂ser (im Folgenden als Resolver bezeichnet, ca. Transl.) Oder Paketmanager ist ein Program...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Semantik der Tools zur Abh√§ngigkeitsaufl√∂sung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/474106/"><h2 id="sredstvo-razresheniya-zavisimostey">  Tool zur L√∂sung von Abh√§ngigkeiten </h2><br><p>  Ein Abh√§ngigkeitsaufl√∂ser (im Folgenden als Resolver bezeichnet, ca. Transl.) Oder Paketmanager ist ein Programm, das einen konsistenten Satz von Modulen unter Ber√ºcksichtigung der vom Benutzer festgelegten Einschr√§nkungen definiert. </p><br><p>  Einschr√§nkungen werden normalerweise durch Modulnamen und Versionsnummern angegeben.  Im JVM-√ñkosystem f√ºr Maven-Module wird auch der Organisationsname (Gruppen-ID) angegeben.  Dar√ºber hinaus k√∂nnen Einschr√§nkungen Versionsbereiche, ausgeschlossene Module, Versions√ºberschreibungen usw. umfassen. </p><br><p>  Die drei Hauptkategorien von Paketen werden durch Betriebssystempakete (Homebrew-, Debian-Pakete usw.) dargestellt. <br>  Module f√ºr bestimmte Programmiersprachen (CPAN, RubyGem, Maven usw.) und anwendungsspezifische Erweiterungen (Eclipse-Plugins, IntelliJ-Plugins, VS-Code-Erweiterungen). </p><a name="habracut"></a><br><h2 id="semantika-rezolvera">  Resolversemantik </h2><br><p>  In erster N√§herung k√∂nnen wir die Abh√§ngigkeiten der Module als DAG (gerichteter azyklischer Graph, gerichteter azyklischer Graph) darstellen. </p><br><p>  Diese Darstellung wird als Abh√§ngigkeitsgraph bezeichnet.  Betrachten Sie die Abh√§ngigkeiten zweier Module: </p><br><ul><li> <code>a:1.0</code> h√§ngt von <code>c:1.0</code> </li><li>  <code>b:1.0</code> h√§ngt von <code>c:1.0</code> und <code>d:1.0</code> </li></ul><br><pre> <code class="plaintext hljs">+-----+ +-----+ |a:1.0| |b:1.0| +--+--+ +--+--+ | | +&lt;-------+ | | vv +--+--+ +--+--+ |c:1.0| |d:1.0| +-----+ +-----+</code> </pre> <br><p>  Wenn das Modul von <code>a:1.0</code> und <code>b:1.0</code> abh√§ngt, wird eine vollst√§ndige Liste der Abh√§ngigkeiten angezeigt <code>a:1.0</code> , <code>b:1.0</code> , <code>c:1.0</code> und <code>d:1.0</code> .  Und das ist nur eine Baumtour. </p><br><p>  Die Situation wird komplizierter, wenn transitive Abh√§ngigkeiten durch eine Reihe von Versionen angegeben werden: </p><br><ul><li>  <code>a:1.0</code> h√§ngt von <code>c:1.0</code> </li><li>  <code>b:1.0</code> h√§ngt von <code>c:[1.0,2)</code> und <code>d:1.0</code> </li></ul><br><pre> <code class="plaintext hljs">+-----+ +-----+ |a:1.0| |b:1.0| +--+--+ +--+--+ | | | +-----------+ | | | vvv +--+--+ +--+------+ +--+--+ |c:1.0| |c:[1.0,2)| |d:1.0| +-----+ +---------+ +-----+</code> </pre> <br><p>  Oder wenn f√ºr transitive Abh√§ngigkeiten unterschiedliche Versionen angegeben sind: </p><br><ul><li>  <code>a:1.0</code> h√§ngt von <code>c:1.0</code> </li><li>  <code>b:1.0</code> h√§ngt von <code>c:1.2</code> und <code>d:1.2</code> </li></ul><br><p>  Oder wenn Ausnahmen f√ºr die Abh√§ngigkeit ausgel√∂st werden: </p><br><ul><li>  Abh√§ngigkeit von <code>a:1.0</code> , abh√§ngig von <code>c:1.0</code> , ausgenommen <code>c:*</code> </li><li>  <code>b:1.0</code> h√§ngt von <code>c:1.2</code> und <code>d:1.2</code> </li></ul><br><p>  Verschiedene Resolver interpretieren die von den Benutzern festgelegten Einschr√§nkungen unterschiedlich.  Ich nenne solche Regeln die Semantik von Resolvern. </p><br><p>  M√∂glicherweise m√ºssen Sie einige dieser Semantiken kennen, zum Beispiel: </p><br><ul><li>  Semantik Ihres eigenen Moduls (bestimmt durch das von Ihnen verwendete Build-Tool); </li><li>  die Semantik der von Ihnen verwendeten Bibliotheken (bestimmt durch das vom Autor verwendete Build-Tool); </li><li>  Die Semantik der Module, die Ihr Modul als Abh√§ngigkeit verwendet (definiert durch das Endbenutzer-Build-Tool). </li></ul><br><h2 id="sredstva-razresheniya-zavisimostey-v-ekosisteme-jvm">  Tools zur Abh√§ngigkeitsaufl√∂sung im JVM-√ñkosystem </h2><br><p>  Da ich <code>sbt</code> , muss ich haupts√§chlich im JVM-√ñkosystem arbeiten. </p><br><h2 id="semantika-maven-nearest-wins">  Semantics Maven: N√§chste gewinnt </h2><br><p>  In Diagrammen, in denen ein Abh√§ngigkeitskonflikt besteht (im Abh√§ngigkeitsdiagramm <code>a</code> gibt es viele verschiedene Versionen der Komponente <code>d</code> , z. B. <code>d:1.0</code> und <code>d:2.0</code> ), verwendet Maven die Strategie der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">n√§chsten Gewinne</a> , um den Konflikt zu l√∂sen. </p><br><blockquote>  Das L√∂sen von Abh√§ngigkeitskonflikten ist ein Prozess, der bestimmt, welche Version eines Artefakts ausgew√§hlt wird, wenn mehrere verschiedene Versionen desselben Artefakts unter den Abh√§ngigkeiten gefunden werden.  Maven w√§hlt die n√§chstgelegene Definition aus.  Das hei√üt  verwendet die Version, die Ihrem Projekt im Abh√§ngigkeitsbaum am n√§chsten kommt. <br>  Sie k√∂nnen jederzeit garantieren, dass Sie die richtige Version verwenden, indem Sie sie explizit im POM des Projekts deklarieren.  Beachten Sie, dass die erste ausgew√§hlt wird, wenn zwei Versionen der Abh√§ngigkeit dieselbe Tiefe im Baum haben.  Die n√§chstgelegene Definition bedeutet, dass die Version verwendet wird, die dem Projekt im Abh√§ngigkeitsbaum am n√§chsten liegt.  Wenn zum Beispiel die Abh√§ngigkeiten f√ºr <code>A</code> , <code>B</code> und <code>C</code> als <code>A -&gt; B -&gt; C -&gt; D 2.0</code> und <code>A -&gt; E -&gt; D 1.0</code> , wird beim Erstellen von <code>A</code> <code>D 1.0</code> verwendet, weil  Der Weg von <code>A</code> nach <code>D</code> √ºber <code>E</code> k√ºrzer (als √ºber <code>B</code> und <code>C</code> , ca. transl.). </blockquote><p>  Dies bedeutet, dass viele mit Maven ver√∂ffentlichte Java-Module unter Verwendung der Semantik der <code>nearest-wins</code> kompiliert wurden.  Erstellen Sie zur Veranschaulichung eine einfache <code>pom.xml</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span>4.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.example<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>foo<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span>jar<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencyManagement</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.typesafe.play<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>play-ws-standalone_2.12<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencyManagement</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  <code>mvn dependency:build-classpath</code> gibt den aufgel√∂sten <code>classpath</code> . <br>  Es ist bemerkenswert, dass der resultierende Baum <code>com.typesafe:config:1.2.0</code> , obwohl <code>Akka 2.5.3</code> transitiv von <code>com.typesafe:config:1.3.1</code> abh√§ngig ist. </p><br><p>  <code>mvn dependency:tree</code> gibt diese visuelle Best√§tigung: </p><br><pre> <code class="plaintext hljs">[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ foo --- [INFO] com.example:foo:jar:1.0.0 [INFO] \- com.typesafe.play:play-ws-standalone_2.12:jar:1.0.1:compile [INFO] +- org.scala-lang:scala-library:jar:2.12.2:compile [INFO] +- javax.inject:javax.inject:jar:1:compile [INFO] +- com.typesafe:ssl-config-core_2.12:jar:0.2.2:compile [INFO] | +- com.typesafe:config:jar:1.2.0:compile [INFO] | \- org.scala-lang.modules:scala-parser-combinators_2.12:jar:1.0.4:compile [INFO] \- com.typesafe.akka:akka-stream_2.12:jar:2.5.3:compile [INFO] +- com.typesafe.akka:akka-actor_2.12:jar:2.5.3:compile [INFO] | \- org.scala-lang.modules:scala-java8-compat_2.12:jar:0.8.0:compile [INFO] \- org.reactivestreams:reactive-streams:jar:1.0.0:compile</code> </pre> <br><p>  Viele Bibliotheken bieten Abw√§rtskompatibilit√§t, aber die direkte Kompatibilit√§t ist mit wenigen Ausnahmen nicht garantiert, was alarmierend ist. </p><br><h2 id="semantika-apache-ivy-latest-wins">  Semantik von Apache Ivy: Neueste Siege </h2><br><p>  Standardm√§√üig verwendet Apache Ivy die Strategie der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">neuesten Gewinne</a> , um Abh√§ngigkeitskonflikte zu l√∂sen. </p><br><blockquote>  Wenn dieser Container nicht vorhanden ist, wird der Standardkonfliktmanager f√ºr alle Module verwendet.  Der aktuelle Standard-Konfliktmanager ist "Neueste Version". <br>  <em>Hinweis: Der Containerkonflikt ist eine der Ivy-Dateien.</em> </blockquote><p>  Bis zur Version <code>SBT 1.3.x</code> interne Abh√§ngigkeitsaufl√∂ser Apache Ivy.  Die zuvor verwendete <code>pom.xml</code> wird in SBT etwas kurz beschrieben: </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.12.8"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / organization := <span class="hljs-string"><span class="hljs-string">"com.example"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / version := <span class="hljs-string"><span class="hljs-string">"1.0.0-SNAPSHOT"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> root = (project in file(<span class="hljs-string"><span class="hljs-string">"."</span></span>)) .settings( name := <span class="hljs-string"><span class="hljs-string">"foo"</span></span>, libraryDependencies += <span class="hljs-string"><span class="hljs-string">"com.typesafe.play"</span></span> %% <span class="hljs-string"><span class="hljs-string">"play-ws-standalone"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.0.1"</span></span>, )</code> </pre> <br><p>  <code>sbt shell</code> in der <code>sbt shell</code> <code>show externalDependencyClasspath</code> , um den aufgel√∂sten Klassenpfad <code>sbt shell</code> .  Es sollte die Version von <code>com.typesafe:config:1.3.1</code> .  Au√üerdem wird weiterhin die folgende Warnung angezeigt: </p><br><pre> <code class="plaintext hljs">[warn] There may be incompatibilities among your library dependencies; run 'evicted' to see detailed eviction warnings.</code> </pre> <br><p>  <code>sbt shell</code> Sie den <code>evicted</code> <code>sbt shell</code> in der <code>sbt shell</code> , erhalten Sie einen Konfliktl√∂sungsbericht: </p><br><pre> <code class="plaintext hljs">sbt:foo&gt; evicted [info] Updating ... [info] Done updating. [info] Here are other dependency conflicts that were resolved: [info] * com.typesafe:config:1.3.1 is selected over 1.2.0 [info] +- com.typesafe.akka:akka-actor_2.12:2.5.3 (depends on 1.3.1) [info] +- com.typesafe:ssl-config-core_2.12:0.2.2 (depends on 1.2.0) [info] * com.typesafe:ssl-config-core_2.12:0.2.2 is selected over 0.2.1 [info] +- com.typesafe.play:play-ws-standalone_2.12:1.0.1 (depends on 0.2.2) [info] +- com.typesafe.akka:akka-stream_2.12:2.5.3 (depends on 0.2.1)</code> </pre> <br><p>  In der Semantik der <code>latest-wins</code> bedeutet die Angabe von <code>config:1.2.0</code> in der Praxis, dass Sie mir Version 1.2.0 oder h√∂her zur Verf√ºgung stellen. <br>  Dieses Verhalten ist etwas vorzuziehen als bei der Strategie der <code>nearest-wins</code> , da die Versionen der transitiven Bibliotheken nicht herabgestuft werden.  Der <code>evicted</code> Anruf sollte jedoch pr√ºfen, ob die Ersetzungen korrekt vorgenommen wurden. </p><br><h2 id="semantika-coursier-latest-wins">  Semantik-Kurier: Neueste Siege </h2><br><p>  Bevor wir uns der Beschreibung der Semantik n√§hern, werde ich eine wichtige Frage beantworten - wie wird Coursier ausgesprochen?  Laut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Alex Arshambos</a> Notiz wird es als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Chick-</a> Sie ausgesprochen. </p><br><p>  Interessanterweise enth√§lt die Dokumentation f√ºr Coursier eine Seite zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Versionierung</a> , auf der die Semantik der Aufl√∂sung von Abh√§ngigkeiten erl√§utert wird. </p><br><blockquote>  Betrachten Sie den Schnittpunkt gegebener Intervalle: <br><ul><li>  Wenn es leer ist (Intervalle √ºberschneiden sich nicht), liegt ein Konflikt vor. </li><li>  Wenn keine Intervalle angegeben sind, wird angenommen, dass der Schnittpunkt durch (,) dargestellt wird (das Intervall, das allen Versionen entspricht). <br>  Betrachten Sie dann bestimmte Versionen: <br><ul><li>  Wir verwerfen bestimmte Versionen unterhalb der Grenzen des Intervalls. </li><li>  Wenn bestimmte Versionen √ºber den Grenzen des Intervalls liegen, liegt ein Konflikt vor. </li><li>  Wenn sich bestimmte Versionen innerhalb der Grenzen des Intervalls befinden, sollte das Ergebnis das neueste sein. </li><li>  Wenn es keine spezifischen Versionen innerhalb oder oberhalb der Grenzen des Intervalls gibt, sollte das Ergebnis das Intervall sein. </li></ul></li></ul><br></blockquote><p>  Weil  es soll also <code>  </code> - das ist die Semantik der <code>latest-wins</code> . <br>  Sie k√∂nnen dies √ºberpr√ºfen, indem Sie <code>sbt 1.3.0-RC3</code> , das Coursier verwendet. </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.12.8"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / organization := <span class="hljs-string"><span class="hljs-string">"com.example"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / version := <span class="hljs-string"><span class="hljs-string">"1.0.0-SNAPSHOT"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> root = (project in file(<span class="hljs-string"><span class="hljs-string">"."</span></span>)) .settings( name := <span class="hljs-string"><span class="hljs-string">"foo"</span></span>, libraryDependencies += <span class="hljs-string"><span class="hljs-string">"com.typesafe.play"</span></span> %% <span class="hljs-string"><span class="hljs-string">"play-ws-standalone"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.0.1"</span></span>, )</code> </pre> <br><p>  <code>sbt 1.3.0-RC3</code> Sie <code>show externalDependencyClasspath</code> von der Konsole <code>sbt 1.3.0-RC3</code> <code>com.typesafe:config:1.3.1</code> , wird erwartungsgem√§√ü <code>com.typesafe:config:1.3.1</code> .  Der Konfliktl√∂sungsbericht berichtet dasselbe: </p><br><pre> <code class="plaintext hljs">sbt:foo&gt; evicted [info] Here are other dependency conflicts that were resolved: [info] * com.typesafe:config:1.3.1 is selected over 1.2.0 [info] +- com.typesafe.akka:akka-actor_2.12:2.5.3 (depends on 1.3.1) [info] +- com.typesafe:ssl-config-core_2.12:0.2.2 (depends on 1.2.0) [info] * com.typesafe:ssl-config-core_2.12:0.2.2 is selected over 0.2.1 [info] +- com.typesafe.play:play-ws-standalone_2.12:1.0.1 (depends on 0.2.2) [info] +- com.typesafe.akka:akka-stream_2.12:2.5.3 (depends on 0.2.1)</code> </pre> <br><h2 id="primechanie-apache-ivy-emuliruet-semantiku-nearest-wins">  Hinweis: Apache Ivy emuliert die Semantik der <code>nearest-wins</code> ? </h2><br><p>  Beim Aufl√∂sen von <code>ivy.xml</code> aus dem Maven-Repository konvertiert Ivy die <code>POM</code> Datei und legt das Attribut <code>force="true"</code> in <code>ivy.xml</code> im Cache ab. </p><br><p>  Beispiel: <code>cat ~/.ivy2/cache/com.typesafe.akka/akka-actor_2.12/ivy-2.5.3.xml</code> : </p><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">org</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.scala-lang"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scala-library"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rev</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2.12.2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">force</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">conf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"compile-&gt;compile(*),master(compile);runtime-&gt;runtime(*)"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">org</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.typesafe"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"config"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rev</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.3.1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">force</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">conf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"compile-&gt;compile(*),master(compile);runtime-&gt;runtime(*)"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">org</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.scala-lang.modules"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"scala-java8-compat_2.12"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rev</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.8.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">force</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">conf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"compile-&gt;compile(*),master(compile);runtime-&gt;runtime(*)"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Ivy <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> sagt: </p><br><blockquote>  Diese beiden <code>latest</code> Konfliktmanager ber√ºcksichtigen das Attribut "Kraftabh√§ngigkeit". <br>  Daher k√∂nnen direkte Abh√§ngigkeiten ein <code>force</code> Attribut deklarieren (siehe Abh√§ngigkeit), was darauf hinweist, dass bei direkten Abh√§ngigkeiten und indirekten Revisionen direkte Abh√§ngigkeitsrevisionen bevorzugt werden sollten. </blockquote><p>  F√ºr mich bedeutet diese Formulierung, dass <code>force="true"</code> konzipiert wurde, um die Logik der <code>latest-wins</code> neu zu definieren und die Semantik der <code>nearest-wins</code> emulieren.  Gl√ºcklicherweise war dies nicht vorgesehen, und wir haben jetzt die <code>latest-wins</code> : Wie wir sehen k√∂nnen, <code>sbt 1.2.8</code> <code>com.typesafe:config:1.3.1</code> . </p><br><p>  Man kann jedoch den Effekt von <code>force="true"</code> wenn man einen strengen Konfliktmanager verwendet, der gebrochen zu sein scheint. </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / conflictManager := <span class="hljs-type"><span class="hljs-type">ConflictManager</span></span>.strict</code> </pre> <br><p>  Das Problem ist, dass ein strenger Konfliktmanager die Versionsersetzung nicht zu verhindern scheint.  <code>show externalDependencyClasspath</code> fr√∂hlich <code>com.typesafe:config:1.3.1</code> . <br>  Ein damit verbundenes Problem besteht darin, dass das Hinzuf√ºgen einer Version von <code>com.typesafe:config:1.3.1</code> , die ein strenger Konfliktmanager in das Diagramm <code>com.typesafe:config:1.3.1</code> , zu einem Fehler f√ºhrt. </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.12.8"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / organization := <span class="hljs-string"><span class="hljs-string">"com.example"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / version := <span class="hljs-string"><span class="hljs-string">"1.0.0-SNAPSHOT"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / conflictManager := <span class="hljs-type"><span class="hljs-type">ConflictManager</span></span>.strict <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> root = (project in file(<span class="hljs-string"><span class="hljs-string">"."</span></span>)) .settings( name := <span class="hljs-string"><span class="hljs-string">"foo"</span></span>, libraryDependencies ++= <span class="hljs-type"><span class="hljs-type">List</span></span>( <span class="hljs-string"><span class="hljs-string">"com.typesafe.play"</span></span> %% <span class="hljs-string"><span class="hljs-string">"play-ws-standalone"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.0.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"com.typesafe"</span></span> % <span class="hljs-string"><span class="hljs-string">"config"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.3.1"</span></span>, ) )</code> </pre> <br><p>  Es sieht so aus: </p><br><pre> <code class="plaintext hljs">sbt:foo&gt; show externalDependencyClasspath [info] Updating ... [error] com.typesafe#config;1.2.0 (needed by [com.typesafe#ssl-config-core_2.12;0.2.2]) conflicts with com.typesafe#config;1.3.1 (needed by [com.example#foo_2.12;1.0.0-SNAPSHOT]) [error] org.apache.ivy.plugins.conflict.StrictConflictException: com.typesafe#config;1.2.0 (needed by [com.typesafe#ssl-config-core_2.12;0.2.2]) conflicts with com.typesafe#config;1.3.1 (needed by [com.example#foo_2.12;1.0.0-SNAPSHOT])</code> </pre> <br><h2 id="o-poryadke-versionirovaniya">  √úber die Versionierung </h2><br><p>  Wir haben die Semantik der <code>latest-wins</code> , was darauf hindeutet, dass Versionen in einer Zeichenfolgendarstellung in einer bestimmten Reihenfolge auftreten k√∂nnen. <br>  Daher ist die Versionierung Teil der Semantik. </p><br><h2 id="poryadok-versionirovaniya-v-apache-ivy">  Versionierungsverfahren in Apache Ivy </h2><br><p>  Dieser <a href="">Javadoc-Kommentar</a> besagt, dass sich Ivy beim Erstellen des Versionskomparators auf die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Funktion des Vergleichens von Versionen aus PHP konzentriert hat</a> : </p><br><blockquote>  Diese Funktion ersetzt zuerst _, - und + durch einen Punkt <code>.</code>  in String-Darstellungen von Versionen und f√ºgt auch hinzu <code>.</code>  vor und nach allem, was keine Zahl ist.  So wird beispielsweise aus '4.3.2RC1' '4.3.2.RC.1'.  Sie vergleicht dann die erhaltenen Teile von links nach rechts. <br><br>  F√ºr Teile, die spezielle Elemente enthalten ( <code>dev</code> , <code>alpha</code> oder <code>a</code> , <code>beta</code> oder <code>b</code> , <code>RC</code> oder <code>rc</code> , <code>#</code> , <code>pl</code> oder <code>p</code> ) *, werden die Elemente in der folgenden Reihenfolge verglichen: <br><br>  <strong>jede Zeichenfolge, die kein spezielles Element ist &lt;dev &lt;alpha = a &lt;beta = b &lt;RC = rc &lt;# &lt;pl = p.</strong> <br><br>  Somit k√∂nnen nicht nur verschiedene Ebenen (z. B. '4.1' und '4.1.2') verglichen werden, sondern auch PHP-spezifische Versionen, die Informationen zum Entwicklungsstatus enthalten. <br>  * ca.  perev. </blockquote><p>  Wir k√∂nnen √ºberpr√ºfen, wie die Versionen bestellt sind, indem wir eine kleine Funktion schreiben. </p><br><pre> <code class="scala hljs">scala&gt; :paste <span class="hljs-comment"><span class="hljs-comment">// Entering paste mode (ctrl-D to finish) val strategy = new org.apache.ivy.plugins.latest.LatestRevisionStrategy case class MockArtifactInfo(version: String) extends org.apache.ivy.plugins.latest.ArtifactInfo { def getRevision: String = version def getLastModified: Long = -1 } def sortVersionsIvy(versions: String*): List[String] = { import scala.collection.JavaConverters._ strategy.sort(versions.toArray map MockArtifactInfo) .asScala.toList map { case MockArtifactInfo(v) =&gt; v } } // Exiting paste mode, now interpreting. scala&gt; sortVersionsIvy("1.0", "2.0", "1.0-alpha", "1.0+alpha", "1.0-X1", "1.0a", "2.0.2") res7: List[String] = List(1.0-X1, 1.0a, 1.0-alpha, 1.0+alpha, 1.0, 2.0, 2.0.2)</span></span></code> </pre> <br><h2 id="poryadok-versionirovaniya-v-coursier">  Versionierungsverfahren in Coursier </h2><br><p>  Die GitHub-Seite zur Semantik der Abh√§ngigkeitsaufl√∂sung enth√§lt einen Abschnitt zur Versionierung. </p><br><blockquote>  Coursier verwendet Mavens ma√ügeschneiderte Versionsreihenfolge.  Vor dem Vergleich werden die Zeichenfolgendarstellungen der Versionen in separate Elemente unterteilt ... <br>  Um solche Elemente zu erhalten, werden Versionen durch die Zeichen., - und _ (und die Trennzeichen selbst werden verworfen) sowie durch Ersetzungen von Buchstaben zu Zahlen oder von Zahlen zu Buchstaben getrennt. </blockquote><p>  Um den Test zu schreiben, erstellen Sie ein Unterprojekt mit den Abh√§ngigkeiten <code>libraryDependencies += "io.get-coursier" %% "coursier-core" % "2.0.0-RC2-6"</code> und f√ºhren Sie die <code>console</code> : </p><br><pre> <code class="scala hljs">sbt:foo&gt; helper/console [info] <span class="hljs-type"><span class="hljs-type">Starting</span></span> scala interpreter... <span class="hljs-type"><span class="hljs-type">Welcome</span></span> to <span class="hljs-type"><span class="hljs-type">Scala</span></span> <span class="hljs-number"><span class="hljs-number">2.12</span></span><span class="hljs-number"><span class="hljs-number">.8</span></span> (<span class="hljs-type"><span class="hljs-type">OpenJDK</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span>-<span class="hljs-type"><span class="hljs-type">Bit</span></span> <span class="hljs-type"><span class="hljs-type">Server</span></span> <span class="hljs-type"><span class="hljs-type">VM</span></span>, <span class="hljs-type"><span class="hljs-type">Java</span></span> <span class="hljs-number"><span class="hljs-number">1.8</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>_212). <span class="hljs-type"><span class="hljs-type">Type</span></span> in expressions <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> evaluation. <span class="hljs-type"><span class="hljs-type">Or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> :help. scala&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> coursier.core.<span class="hljs-type"><span class="hljs-type">Version</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> coursier.core.<span class="hljs-type"><span class="hljs-type">Version</span></span> scala&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sortVersionsCoursier</span></span></span></span>(versions: <span class="hljs-type"><span class="hljs-type">String</span></span>*): <span class="hljs-type"><span class="hljs-type">List</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>] = | versions.toList.map(<span class="hljs-type"><span class="hljs-type">Version</span></span>.apply).sorted.map(_.repr) sortVersionsCoursier: (versions: <span class="hljs-type"><span class="hljs-type">String</span></span>*)<span class="hljs-type"><span class="hljs-type">List</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>] scala&gt; sortVersionsCoursier(<span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.0-alpha"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.0+alpha"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.0-X1"</span></span>, <span class="hljs-string"><span class="hljs-string">"1.0a"</span></span>, <span class="hljs-string"><span class="hljs-string">"2.0.2"</span></span>) res0: <span class="hljs-type"><span class="hljs-type">List</span></span>[<span class="hljs-type"><span class="hljs-type">String</span></span>] = <span class="hljs-type"><span class="hljs-type">List</span></span>(<span class="hljs-number"><span class="hljs-number">1.0</span></span>-alpha, <span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>-<span class="hljs-type"><span class="hljs-type">X1</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>+alpha, <span class="hljs-number"><span class="hljs-number">1.0</span></span>a, <span class="hljs-number"><span class="hljs-number">2.0</span></span>, <span class="hljs-number"><span class="hljs-number">2.0</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>)</code> </pre> <br><p>  Wie sich herausstellt, bestellt Coursier die Versionsnummern in einer v√∂llig anderen Reihenfolge als Ivy. <br>  Wenn Sie zul√§ssige alphabetische Tags verwendet haben, kann diese Reihenfolge zu Verwirrung f√ºhren. </p><br><h2 id="o-diapazonah-versiy">  √úber Versionsbereiche </h2><br><p>  Normalerweise vermeide ich die Verwendung von Versionsbereichen, obwohl diese h√§ufig in Webjars und npm-Modulen verwendet werden, die auf Maven Central neu ver√∂ffentlicht wurden.  So etwas wie <code>"is-number": "^4.0.0"</code> kann in das Modul geschrieben werden <code>"is-number": "^4.0.0"</code> was <code>[4.0.0,5)</code> . </p><br><h2 id="obrabotka-diapazonov-versiy-v-apache-ivy">  Versionsbereichsbehandlung in Apache Ivy </h2><br><p>  In dieser Baugruppe h√§ngt <code>angular-boostrap:0.14.2</code> vom <code>angular:[1.3.0,)</code> . </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.12.8"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / organization := <span class="hljs-string"><span class="hljs-string">"com.example"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / version := <span class="hljs-string"><span class="hljs-string">"1.0.0-SNAPSHOT"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> root = (project in file(<span class="hljs-string"><span class="hljs-string">"."</span></span>)) .settings( name := <span class="hljs-string"><span class="hljs-string">"foo"</span></span>, libraryDependencies ++= <span class="hljs-type"><span class="hljs-type">List</span></span>( <span class="hljs-string"><span class="hljs-string">"org.webjars.bower"</span></span> % <span class="hljs-string"><span class="hljs-string">"angular"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.4.7"</span></span>, <span class="hljs-string"><span class="hljs-string">"org.webjars.bower"</span></span> % <span class="hljs-string"><span class="hljs-string">"angular-bootstrap"</span></span> % <span class="hljs-string"><span class="hljs-string">"0.14.2"</span></span>, ) )</code> </pre> <br><p>  <code>sbt 1.2.8</code> <code>show externalDependencyClasspath</code> in <code>sbt 1.2.8</code> wird <code>sbt 1.2.8</code> <code>angular-bootstrap:0.14.2</code> und <code>angular:1.7.8</code> .  Und wohin ging <code>1.7.8</code> ?  Wenn Ivy auf eine Reihe von Versionen st√∂√üt, geht es im Wesentlichen ins Internet und findet, was es finden kann, manchmal sogar mithilfe von Screenscraping. </p><br><p>  Durch diese Verarbeitung von Versionsbereichen wiederholen sich Baugruppen nicht (wenn Sie dieselbe Baugruppe alle paar Monate ausf√ºhren, erhalten Sie unterschiedliche Ergebnisse). </p><br><h2 id="obrabotka-diapazonov-versiy-v-coursier">  Handhabung der Versionsbereiche in Coursier </h2><br><p>  Abschnitt zur Aufl√∂sung von Coursier-Abh√§ngigkeiten auf der Github- <a href="">Seite</a> <br>  liest: </p><br><blockquote>  <strong>Spezifische Versionen in Intervallen werden bevorzugt</strong> <br>  Wenn Ihr Modul von [1.0,2.0) und 1.4 abh√§ngig ist, wird die Versionsgenehmigung zugunsten von 1.4 durchgef√ºhrt. <br>  Wenn eine Abh√§ngigkeit von 1.4 besteht, wird diese Version im Bereich [1.0,2.0] bevorzugt. </blockquote><p>  Es sieht vielversprechend aus. </p><br><pre> <code class="plaintext hljs">sbt:foo&gt; show externalDependencyClasspath [warn] There may be incompatibilities among your library dependencies; run 'evicted' to see detailed eviction warnings. [info] * Attributed(/Users/eed3si9n/.sbt/boot/scala-2.12.8/lib/scala-library.jar) [info] * Attributed(/Users/eed3si9n/.coursier/cache/v1/https/repo1.maven.org/maven2/org/webjars/bower/angular/1.4.7/angular-1.4.7.jar) [info] * Attributed(/Users/eed3si9n/.coursier/cache/v1/https/repo1.maven.org/maven2/org/webjars/bower/angular-bootstrap/0.14.2/angular-bootstrap-0.14.2.jar)</code> </pre> <br><p>  <code>show externalDependencyClasspath</code> auf derselben Assembly mit <code>angular-bootstrap:0.14.2</code> <code>angular-bootstrap:0.14.2</code> <code>angular:1.4.7</code> wie erwartet <code>angular-bootstrap:0.14.2</code> <code>angular-bootstrap:0.14.2</code> und <code>angular:1.4.7</code> .  Dies ist eine Verbesserung gegen√ºber Ivy. </p><br><p>  Betrachten Sie den komplizierteren Fall, wenn mehrere disjunkte Versionsbereiche verwendet werden.  Zum Beispiel: </p><br><pre> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.12.8"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / organization := <span class="hljs-string"><span class="hljs-string">"com.example"</span></span> <span class="hljs-type"><span class="hljs-type">ThisBuild</span></span> / version := <span class="hljs-string"><span class="hljs-string">"1.0.0-SNAPSHOT"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> root = (project in file(<span class="hljs-string"><span class="hljs-string">"."</span></span>)) .settings( name := <span class="hljs-string"><span class="hljs-string">"foo"</span></span>, libraryDependencies ++= <span class="hljs-type"><span class="hljs-type">List</span></span>( <span class="hljs-string"><span class="hljs-string">"org.webjars.npm"</span></span> % <span class="hljs-string"><span class="hljs-string">"randomatic"</span></span> % <span class="hljs-string"><span class="hljs-string">"1.1.7"</span></span>, <span class="hljs-string"><span class="hljs-string">"org.webjars.npm"</span></span> % <span class="hljs-string"><span class="hljs-string">"is-odd"</span></span> % <span class="hljs-string"><span class="hljs-string">"2.0.0"</span></span>, ) )</code> </pre> <br><p>  Der Aufruf von <code>show externalDependencyClasspath</code> in <code>sbt 1.3.0-RC3</code> gibt den folgenden Fehler zur√ºck: </p><br><pre> <code class="plaintext hljs">sbt:foo&gt; show externalDependencyClasspath [info] Updating https://repo1.maven.org/maven2/org/webjars/npm/kind-of/maven-metadata.xml No new update since 2018-03-10 06:32:27 https://repo1.maven.org/maven2/org/webjars/npm/is-number/maven-metadata.xml No new update since 2018-03-09 15:25:26 https://repo1.maven.org/maven2/org/webjars/npm/is-buffer/maven-metadata.xml No new update since 2018-08-17 14:21:46 [info] Resolved dependencies [error] lmcoursier.internal.shaded.coursier.error.ResolutionError$ConflictingDependencies: Conflicting dependencies: [error] org.webjars.npm:is-number:[3.0.0,4):default(compile) [error] org.webjars.npm:is-number:[4.0.0,5):default(compile) [error] at lmcoursier.internal.shaded.coursier.Resolve$.validate(Resolve.scala:394) [error] at lmcoursier.internal.shaded.coursier.Resolve.validate0$1(Resolve.scala:140) [error] at lmcoursier.internal.shaded.coursier.Resolve.$anonfun$ioWithConflicts0$4(Resolve.scala:184) [error] at lmcoursier.internal.shaded.coursier.util.Task$.$anonfun$flatMap$2(Task.scala:14) [error] at scala.concurrent.Future.$anonfun$flatMap$1(Future.scala:307) [error] at scala.concurrent.impl.Promise.$anonfun$transformWith$1(Promise.scala:41) [error] at scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64) [error] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [error] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [error] at java.lang.Thread.run(Thread.java:748) [error] (update) lmcoursier.internal.shaded.coursier.error.ResolutionError$ConflictingDependencies: Conflicting dependencies: [error] org.webjars.npm:is-number:[3.0.0,4):default(compile) [error] org.webjars.npm:is-number:[4.0.0,5):default(compile)</code> </pre> <br><p>  Technisch ist das richtig, weil  Diese Bereiche √ºberschneiden sich nicht.  W√§hrend <code>sbt 1.2.8</code> dies in <code>is-number:4.0.0</code> aufl√∂st. </p><br><p>  Aufgrund der Tatsache, dass Versionsbereiche h√§ufig genug sind, um nervig zu sein, sende ich eine Pull-Anfrage an Coursier, um zus√§tzliche Semantikregeln f√ºr die <code>latest-wins</code> zu implementieren, mit denen Sie sp√§tere Versionen aus den unteren Grenzen der Bereiche ausw√§hlen k√∂nnen. <br>  Siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Coursier / Coursier # 1284</a> . </p><br><h2 id="zaklyuchenie">  Fazit </h2><br><p>  Die Resolversemantik definiert einen bestimmten Klassenpfad basierend auf benutzerdefinierten Einschr√§nkungen. </p><br><p>  In der Regel manifestieren sich Detailunterschiede auf unterschiedliche Weise bei der L√∂sung von Versionskonflikten. </p><br><ul><li>  Maven verwendet die <code>nearest-wins</code> Strategie, mit der transitive Abh√§ngigkeiten herabgestuft werden k√∂nnen. </li><li>  Ivy verwendet die Strategie der <code>latest-wins</code> . </li><li>  Coursier verwendet haupts√§chlich die Strategie der <code>latest-wins</code> , w√§hrend versucht wird, Versionen strenger anzugeben. </li><li>  Der Ivy-Versionsbereichs-Handler geht ins Internet, wodurch derselbe Build nicht wiederholbar ist. </li><li>  Coursier und Ivy organisieren String-Darstellungen von Versionen auf sehr unterschiedliche Weise. </li></ul><br><blockquote>  Nicht einmal solche Feinheiten des Scala-√ñkosystems werden auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ScalaConf</a> am 26. November in Moskau diskutiert.  Artem Seleznev wird die Praxis der Arbeit mit der Datenbank in der funktionalen Programmierung ohne JDBC <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einf√ºhren</a> .  Wojtek Pitula wird √ºber Integration sprechen und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erz√§hlen,</a> wie er eine Anwendung erstellt hat, in der er alle Arbeitsbibliotheken platziert hat.  Auf der Konferenz werden 16 weitere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Berichte</a> mit technischem Hardcore vorgestellt. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de474106/">https://habr.com/ru/post/de474106/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de474090/index.html">Entwicklergeh√§lter in Armenien</a></li>
<li><a href="../de474092/index.html">Backend-Bereich bei DUMP Kazan: Cloud-Anwendungsarchitektur, ausgehende Microservices, DDD und mehr</a></li>
<li><a href="../de474094/index.html">Blockdiagramm-Editor - √ºber die Freundschaft zwischen Vue.js und MxGraph</a></li>
<li><a href="../de474096/index.html">Beliebte Programmiersprachen 2019 von hh.ru-Nutzern</a></li>
<li><a href="../de474104/index.html">Eine universelle M√∂glichkeit, das Erscheinungsbild einer WinForms-Anwendung anzupassen (am Beispiel von FAQ.Net).</a></li>
<li><a href="../de474112/index.html">Optimieren Sie die Rack-Verteilung von Servern</a></li>
<li><a href="../de474114/index.html">Wir laden Sie zum GDG DevFest Moscow 2019 ein - einer informellen IT-Konferenz</a></li>
<li><a href="../de474116/index.html">Wie Sie keine Einwilligung zur Verarbeitung personenbezogener Daten einholen m√ºssen</a></li>
<li><a href="../de474118/index.html">Das Buch "inDriver: von Jakutsk ins Silicon Valley. Die Geschichte der Gr√ºndung eines globalen Technologieunternehmens "</a></li>
<li><a href="../de474122/index.html">Von der Theorie zur Praxis: Wie die Blockchain in der Luftfahrt eingesetzt wird</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>