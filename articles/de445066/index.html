<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•ú ü§µüèø üì∫ Wie ich Mathe-Notizen zu LaTeX in Vim schreibe üë† ü¶ä ü¶Ä</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor einiger Zeit habe ich bei Quora die Frage beantwortet: Wie kann ich mit den Vorlesungsskripten in Mathematik auf LaTeX Schritt halten? Dort erkl√§r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie ich Mathe-Notizen zu LaTeX in Vim schreibe</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445066/">  Vor einiger Zeit habe ich bei Quora die Frage beantwortet: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie kann</a> ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mit den Vorlesungsskripten in Mathematik auf LaTeX Schritt halten?</a>  Dort erkl√§rte ich meinen Notizen-Workflow in LaTeX mit Vim und Inkscape (f√ºr Zeichnungen).  Aber seitdem hat sich viel ge√§ndert, deshalb m√∂chte ich mehrere Blog-Beitr√§ge mit einer Beschreibung des neuen Prozesses ver√∂ffentlichen.  Dies ist der erste Artikel. <br><br>  Ich habe im zweiten Semester eines Mathematikkurses angefangen, mit LaTeX Notizen zu machen, und seitdem habe ich √ºber 1700 Seiten geschrieben.  Hier einige Beispiele, wie die Zusammenfassung aussieht: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9b2/6a1/c4d/9b26a1c4dcac70227b229935ae06599d.png"></a> <br><a name="habracut"></a><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9e3/6dc/cef/9e36dccef8c096640212a3755d9ef2ec.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/793/760/039/79376003910994dc579e0ccf3da4f690.png"></a> <br><br>  Diese Notizen, einschlie√ülich Zeichnungen, werden direkt in der Vorlesung erstellt und anschlie√üend nicht bearbeitet.  Um Abstracts effizient in LaTeX zu schreiben, m√ºssen vier Regeln befolgt werden: <br><br><ul><li>  Das Schreiben von Text und Formeln in LaTeX sollte so schnell sein wie das Schreiben eines Dozenten an die Tafel: Die Verz√∂gerung ist nicht akzeptabel. <br></li><li>  Das Zeichnen von Illustrationen sollte fast so schnell sein wie das des Dozenten. <br></li><li>  Das Verwalten von Notizen, dh das Hinzuf√ºgen von Notizen, das Anordnen aller Notizen, die letzten beiden Vorlesungen, das Suchen von Notizen usw. sollte schnell und einfach sein. <br></li><li>  Es sollte m√∂glich sein, PDF-Dokumente mit LaTeX zu kommentieren, wenn ich eine Notiz mit einem PDF-Dokument schreiben m√∂chte. </li></ul><br>  In diesem Artikel geht es um den ersten Punkt: Notizen zu LaTeX machen. <br><br><h1>  Vim und LaTeX </h1><br>  Um Text und mathematische Formeln auf LaTeX zu schreiben, verwende ich Vim.  Dies ist ein leistungsstarker Allzweck-Texteditor, der in hohem Ma√üe erweiterbar ist.  Ich benutze es, um Code, LaTeX, Markdown-Text ... im Allgemeinen alle Texte zu schreiben.  Er hat eine ziemlich steile Lernkurve, aber wenn Sie die Basis beherrschen, ist es bereits schwierig, ohne die √ºblichen Tastenkombinationen zum Editor zur√ºckzukehren.  So sieht mein Bildschirm aus, wenn ich ein LaTeX-Dokument bearbeite: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/eb5/999/261/eb5999261b4ba963fd49f999477731eb.png"></a> <br><br>  Auf der linken Seite befindet sich Vim und auf der rechten Seite der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zathura</a> PDF-Viewer, der auch Tastaturk√ºrzel im Vim-Stil unterst√ºtzt.  Ich arbeite in Ubuntu mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bspwm</a> Window Manager.  Als Plugin hat LaTeX <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vimtex</a> installiert.  Es bietet Syntaxhervorhebung, Inhaltsverzeichnis, Synctex usw. Mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vim-plug habe</a> ich es wie folgt konfiguriert: <br><br> <code>Plug 'lervag/vimtex' <br> let g:tex_flavor='latex' <br> let g:vimtex_view_method='zathura' <br> let g:vimtex_quickfix_mode=0 <br> set conceallevel=1 <br> let g:tex_conceal='abdmg'</code> <br> <br>  Die letzten beiden Zeilen passen die Verkleidung an.  Dies ist eine Funktion, bei der der LaTeX-Code ersetzt wird oder unsichtbar wird, wenn sich der Cursor nicht in dieser Zeile befindet.  Wenn Sie <code>\ [</code> , <code>\]</code> , <code>$</code> ausblenden, sind sie nicht so auff√§llig, wodurch Sie einen besseren √úberblick √ºber das Dokument erhalten.  Diese Funktion ersetzt auch <code>\bigcap</code> durch <code>‚à©</code> , <code>\in</code> durch <code>‚àà</code> usw., wie in der Animation gezeigt: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d36/2e0/b83/d362e0b837be308b0f8897482a331ec6.gif"><br><br>  Mit dieser Einstellung k√∂nnen Sie die Aufgabe erf√ºllen: Schreiben Sie auf LaTeX so schnell, wie ein Dozent an die Tafel schreibt.  Hier kommen Schnipsel ins Spiel. <br><br><h1>  Schnipsel </h1><br><h3>  Was ist ein Ausschnitt? </h3><br>  Ein Snippet ist ein kurzes St√ºck wiederverwendbaren Textes, das von einem anderen Text aufgerufen wird.  Wenn Sie beispielsweise ein Zeichen eingeben und die Tabulatortaste dr√ºcken, wird das Wortzeichen zu einer Signatur: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ab/28b/1ad/5ab28b1ad6114b68f4ce459d4f89eeae.gif"><br><br>  Snippets k√∂nnen dynamisch sein: Wenn ich <code>today</code> tippe und die <code>Tab</code> dr√ºcke, wird das Wort <code>today</code> durch das aktuelle Datum ersetzt, und das <code>box</code> <code>Tab</code> wird zu einem Feld, dessen Gr√∂√üe automatisch zunimmt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1b6/301/a65/1b6301a6561d104b4bc79654cb75470d.gif"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/8b7/cae/fc4/8b7caefc472eae0941f41365d16e8d2d.gif"><br><br>  Sie k√∂nnen sogar ein Snippet in einem anderen verwenden: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cdd/1fd/ed4/cdd1fded48947d163c2e5e6b974cfec0.gif"><br><br><h3>  Erstellen von Snippets mit UltiSnips </h3><br>  Um Snippets zu steuern, verwende ich das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">UltiSnips-</a> Plugin.  Hier ist seine Konfiguration: <br><br><pre> <code class="plaintext hljs">Plug 'sirver/ultisnips' let g:UltiSnipsExpandTrigger = '&lt;tab&gt;' let g:UltiSnipsJumpForwardTrigger = '&lt;tab&gt;' let g:UltiSnipsJumpBackwardTrigger = '&lt;s-tab&gt;'</code> </pre> <br>  Code f√ºr das Snippet- <code>sign</code> : <br><br><pre> <code class="plaintext hljs">snippet sign "Signature" Yours sincerely, Gilles Castel endsnippet</code> </pre> <br>  Bei dynamischen Snippets k√∂nnen Sie den Code zwischen die Anf√ºhrungszeichen setzen. Dieser Code wird ausgef√ºhrt, wenn das Snippet erweitert wird.  Hier habe ich bash verwendet, um das aktuelle Datum zu formatieren: <code>date + %F</code> <br><br><pre> <code class="plaintext hljs">snippet today "Date" `date +%F` endsnippet</code> </pre> <br>  Innerhalb des <code>`!p ... `</code> -Blocks k√∂nnen Sie in Python schreiben.  Schauen Sie sich den Code f√ºr das <code>box</code> Snippet an: <br><br><pre> <code class="python hljs">snippet box <span class="hljs-string"><span class="hljs-string">"Box"</span></span> `!p snip.rv = <span class="hljs-string"><span class="hljs-string">'‚îå'</span></span> + <span class="hljs-string"><span class="hljs-string">'‚îÄ'</span></span> * (len(t[<span class="hljs-number"><span class="hljs-number">1</span></span>]) + <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-string"><span class="hljs-string">'‚îê'</span></span>` ‚îÇ $<span class="hljs-number"><span class="hljs-number">1</span></span> ‚îÇ `!p snip.rv = <span class="hljs-string"><span class="hljs-string">'‚îî'</span></span> + <span class="hljs-string"><span class="hljs-string">'‚îÄ'</span></span> * (len(t[<span class="hljs-number"><span class="hljs-number">1</span></span>]) + <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-string"><span class="hljs-string">'‚îò'</span></span>` $<span class="hljs-number"><span class="hljs-number">0</span></span> endsnippet</code> </pre> <br>  Anstelle dieses Codes wird der Wert der Variablen <code>snip.rv</code> in das Dokument eingef√ºgt.  Innerhalb der Bl√∂cke haben Sie Zugriff auf den aktuellen Status des Snippets. Beispiel: <code>t[1]</code> entspricht der Position der ersten Registerkarte, <code>fn</code> aktuellen Dateinamen usw. <br><br><h1>  LaTeX-Snippets </h1><br>  Snippets beschleunigen die Arbeit erheblich, insbesondere einige der komplexeren Snippets.  Beginnen wir mit dem einfachsten. <br><br><h3>  Die Umwelt </h3><br>  Um eine Umgebung einzuf√ºgen, geben Sie am Anfang der Zeile <code>beg</code> .  Dann der Name der Umgebung, der sich im Befehl <code>\end{}</code> widerspiegelt.  Durch Dr√ºcken der <code>Tab</code> der Cursor eingef√ºgt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d5e/d64/1a9/d5ed641a9cb568d13dd56d98fec6376b.gif"><br><br>  Der Code lautet wie folgt: <br><br><pre> <code class="plaintext hljs">snippet beg "begin{} / end{}" bA \begin{$1} $0 \end{$1} endsnippet</code> </pre> <br>  Das Symbol <code>b</code> bedeutet, dass ein solches Snippet nur am Anfang einer Zeile funktioniert. <code>A</code> bedeutet automatische Erweiterung, dh Sie m√ºssen nicht die <code>Tab</code> dr√ºcken.  Tabs, auf die Sie durch Dr√ºcken von <code>Tab</code> und <code>Shift</code> + <code>Tab</code> werden als <code>$1</code> , <code>$2</code> , ... und letzteres als <code>$0</code> . <br><br><h3>  Inline- und Anzeigeformeln </h3><br>  Die beiden am h√§ufigsten verwendeten Snippets sind <code>mk</code> und <code>dm</code> , die den Mathematikmodus ausl√∂sen.  Die erste f√ºr Inline-Formeln, die zweite f√ºr angezeigte. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/12a/16b/6a9/12a16b6a90c4d85a887c7cde0f18bb8c.gif"><br><br>  Intelligentes Formel-Snippet: Er wei√ü, wann ein Leerzeichen nach dem Dollarzeichen eingef√ºgt werden muss.  Wenn ich unmittelbar nach dem Schlie√üen von $ mit der Eingabe eines Wortes beginne, wird ein Leerzeichen hinzugef√ºgt.  Wenn ich jedoch ein anderes Zeichen eingebe, wird kein Leerzeichen hinzugef√ºgt, wie im Fall von '$ p $ -Wert'. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/117/2a1/f55/1172a1f556fd36b42f7c3642b3952e2c.gif"><br><br>  Der Code f√ºr dieses Snippet lautet: <br><br><pre> <code class="plaintext hljs">snippet mk "Math" wA $${1}$`!p if t[2] and t[2][0] not in [',', '.', '?', '-', ' ']: snip.rv = ' ' else: snip.rv = '' `$2 endsnippet</code> </pre> <br>  <code>W</code> am Ende der ersten Zeile bedeutet, dass sich das Snippet nur an Wortgrenzen ausdehnt.  Daher <code>hellomk</code> beispielsweise <code>hellomk</code> nicht und <code>hello mk</code> funktioniert nicht. <br><br>  Das Snippet f√ºr die angezeigten Formeln ist einfacher, aber auch sehr praktisch.  Die Gleichungen enden immer mit einem Punkt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a68/2e9/736/a682e97365ecfe19fe0c5bc08bacfec6.gif"><br><br><pre> <code class="plaintext hljs">&lt;snippet dm "Math" wA \[ $1 .\] $0 endsnippet</code> </pre> <br><h3>  Tiefgestellte und hochgestellte Zeichen </h3><br>  Ein weiteres n√ºtzliches Snippet ist f√ºr Indizes.  Es √§ndert <code>a1</code> in <code>a_1</code> und <code>a_12</code> in <code>a_{12}</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f26/633/cb8/f26633cb822c6b52d346dfbba6e1a1bd.gif"><br><br>  Der Code f√ºr dieses Snippet verwendet einen regul√§ren Ausdruck als Ausl√∂ser.  Es erweitert das Fragment, wenn Sie ein Zeichen gefolgt von einer als <code>[A-Za-z]\d</code> codierten Ziffer oder ein Zeichen gefolgt von <code>_</code> und zwei Ziffern eingeben: <code>[A-Za-z]_\d\d</code> . <br><br><pre> <code class="plaintext hljs">snippet '([A-Za-z])(\d)' "auto subscript" wrA `!p snip.rv = match.group(1)`_`!p snip.rv = match.group(2)` endsnippet snippet '([A-Za-z])_(\d\d)' "auto subscript2" wrA `!p snip.rv = match.group(1)`_{`!p snip.rv = match.group(2)`} endsnippet</code> </pre> <br>  Wenn Sie Teile eines regul√§ren Ausdrucks in Klammern zu einer Gruppe zusammenfassen, z. B. <code>(\d\d)</code> , k√∂nnen Sie sie in der Snippet-Erweiterung √ºber <code>match.group(i)</code> in Python verwenden. <br><br>  F√ºr hochgestellte Zeichen verwende ich <code>td</code> , das sich in <code>^{}</code> verwandelt.  Obwohl f√ºr die h√§ufigsten (Quadrat, W√ºrfel und mehrere andere) separate Snippets vorgesehen sind, wie z. B. <code>sr</code> , <code>cb</code> und <code>comp</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/da8/55c/d9e/da855cd9e67c48f508fab5ddc8c877fe.gif"><br><br><pre> <code class="plaintext hljs">snippet sr "^2" iA ^2 endsnippet snippet cb "^3" iA ^3 endsnippet snippet compl "complement" iA ^{c} endsnippet snippet td "superscript" iA ^{$1}$0 endsnippet</code> </pre> <br><h3>  Bruchteil </h3><br>  Eines der bequemsten Snippets arbeitet mit Br√ºchen.  Er macht folgende Ersetzungen: <br><br>  <code>//</code> ‚Üí <code>\frac{}{}</code> <br>  <code>3/</code> ‚Üí <code>\frac{3}{}</code> <br>  <code>4\pi^2/</code> ‚Üí <code>\frac{4\pi^2}{}</code> <br>  <code>(1 + 2 + 3)/</code> ‚Üí <code>\frac{1 + 2 + 3}{}</code> <br>  <code>(1+(2+3)/)</code> ‚Üí <code>(1 + \frac{2+3}{})</code> <br>  <code>(1 + (2+3))/</code> ‚Üí <code>\frac{1 + (2+3)}{}</code> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3f8/3f1/bdc/3f83f1bdc3078aa16382e80a276f199f.gif"><br><br>  Zum ersten ein einfacher Code: <br><br><pre> <code class="plaintext hljs">snippet // "Fraction" iA \\frac{$1}{$2}$0 endsnippet</code> </pre> <br>  Die zweite und dritte Substitution erfolgen mit Hilfe von regul√§ren Ausdr√ºcken, die den Ausdr√ºcken <code>3/</code> , <code>4ac/</code> , <code>6\pi^2/</code> , <code>a_2/</code> usw. entsprechen. <br><br><pre> <code class="plaintext hljs">snippet '((\d+)|(\d*)(\\)?([A-Za-z]+)((\^|_)(\{\d+\}|\d))*)/' "Fraction" wrA \\frac{`!p snip.rv = match.group(1)`}{$1}$0 endsnippet</code> </pre> <br>  Wie Sie sehen k√∂nnen, k√∂nnen regul√§re Ausdr√ºcke ziemlich lang werden, aber hier ist ein Diagramm, das alles erkl√§ren sollte: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/908/df5/ec2/908df5ec254f9cd5b08b99b8a54318d0.svg"><br><br>  Im vierten und f√ºnften Fall versucht das Snippet, die entsprechende Klammer zu finden.  Da die Regex-Engine von UltiSnips nicht wei√ü, wie das geht, musste ich Python verwenden: <br><br><pre> <code class="python hljs">priority <span class="hljs-number"><span class="hljs-number">1000</span></span> snippet <span class="hljs-string"><span class="hljs-string">'^.*\)/'</span></span> <span class="hljs-string"><span class="hljs-string">"() Fraction"</span></span> wrA `!p stripped = match.string[:<span class="hljs-number"><span class="hljs-number">-1</span></span>] depth = <span class="hljs-number"><span class="hljs-number">0</span></span> i = len(stripped) - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> stripped[i] == <span class="hljs-string"><span class="hljs-string">')'</span></span>: depth += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> stripped[i] == <span class="hljs-string"><span class="hljs-string">'('</span></span>: depth -= <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> depth == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; i -= <span class="hljs-number"><span class="hljs-number">1</span></span> snip.rv = stripped[<span class="hljs-number"><span class="hljs-number">0</span></span>:i] + <span class="hljs-string"><span class="hljs-string">"\\frac{"</span></span> + stripped[i+<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">-1</span></span>] + <span class="hljs-string"><span class="hljs-string">"}"</span></span> `{$<span class="hljs-number"><span class="hljs-number">1</span></span>}$<span class="hljs-number"><span class="hljs-number">0</span></span> endsnippet</code> </pre> <br>  Schlie√ülich m√∂chte ich ein Snippet freigeben, das die aktuelle Auswahl in einen Bruchteil verwandelt.  W√§hlen Sie den Text aus, dr√ºcken Sie die <code>Tab</code> , geben Sie <code>/</code> und erneut die <code>Tab</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0da/01b/956/0da01b9566dc437fabf0c563ed14941f.gif"><br><br>  Der Code verwendet die Variable <code>${VISUAL}</code> , die Ihre Auswahl widerspiegelt. <br><br><pre> <code class="plaintext hljs">snippet / "Fraction" iA \\frac{${VISUAL}}{$1}$0 endsnippet</code> </pre> <br><h3>  Sympy und Mathematica </h3><br>  Ein anderes cooles, aber weniger verwendetes Snippet f√ºhrt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sympy aus</a> , um mathematische Ausdr√ºcke auszuwerten.  Beispiel: <code>sympy</code> <code>Tab</code> zu <code>sympy | sympy</code>  <code>sympy | sympy</code> und <code>sympy 1 + 1 sympy</code> <code>Tab</code> wird zu <code>2</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c8/f14/3fd/8c8f143fdcdc2f3e6de9853cf7ea3def.gif"><br><br><pre> <code class="plaintext hljs">snippet sympy "sympy block " w sympy $1 sympy$0 endsnippet priority 10000 snippet 'sympy(.*)sympy' "evaluate sympy" wr `!p from sympy import * x, y, z, t = symbols('xyz t') k, m, n = symbols('km n', integer=True) f, g, h = symbols('fg h', cls=Function) init_printing() snip.rv = eval('latex(' + match.group(1).replace('\\', '') \ .replace('^', '**') \ .replace('{', '(') \ .replace('}', ')') + ')') ` endsnippet</code> </pre> <br>  F√ºr Mathematica ist auch etwas √Ñhnliches m√∂glich: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/82f/7f1/87a/82f7f187a685a52ed7665fded563f936.gif"><br><br><pre> <code class="plaintext hljs">priority 1000 snippet math "mathematica block" w math $1 math$0 endsnippet priority 10000 snippet 'math(.*)math' "evaluate mathematica" wr `!p import subprocess code = 'ToString[' + match.group(1) + ', TeXForm]' snip.rv = subprocess.check_output(['wolframscript', '-code', code]) ` endsnippet</code> </pre> <br><h3>  Postfix-Snippets </h3><br>  Es scheint mir erw√§hnenswert, auch Postfix-Snippets zu erw√§hnen, die nach Eingabe bestimmter Zeichen den entsprechenden Text einf√ºgen.  Zum Beispiel <code>phat</code> ‚Üí <code>\hat{p}</code> und <code>zbar</code> ‚Üí <code>\overline{z}</code> .  Ein √§hnliches Snippet f√ºgt einen Vektor ein, zum Beispiel <code>v,.</code>  ‚Üí <code>\vec{v}</code> und <code>v.,</code> ‚Üí <code>\vec{v}</code> .  Die Reihenfolge von Punkt und Semikolon spielt keine Rolle, so dass ich sie gleichzeitig anklicken kann.  Diese Schnipsel sparen wirklich Zeit, da Sie sie mit der gleichen Geschwindigkeit eingeben, mit der ein Dozent an die Tafel schreibt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c2/e62/aae/7c2e62aae292bc4d65eae363c816e206.gif"><br><br>  Beachten Sie, dass die <code>bar</code> und Hutpr√§fixe weiterhin funktionieren, nur mit einer niedrigeren Priorit√§t.  Der Code f√ºr diese Snippets lautet: <br><br><pre> <code class="plaintext hljs">priority 10 snippet "bar" "bar" riA \overline{$1}$0 endsnippet priority 100 snippet "([a-zA-Z])bar" "bar" riA \overline{`!p snip.rv=match.group(1)`} endsnippet</code> </pre> <br><pre> <code class="plaintext hljs">priority 10 snippet "hat" "hat" riA \hat{$1}$0 endsnippet priority 100 snippet "([a-zA-Z])hat" "hat" riA \hat{`!p snip.rv=match.group(1)`} endsnippet</code> </pre> <br><pre> <code class="plaintext hljs">snippet "(\\?\w+)(,\.|\.,)" "Vector postfix" riA \vec{`!p snip.rv=match.group(1)`} endsnippet</code> </pre> <br><h3>  Andere Schnipsel </h3><br>  Ich habe immer noch ungef√§hr hundert h√§ufig verwendete Schnipsel.  Alle von ihnen sind <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> verf√ºgbar.  Die meisten von ihnen sind ziemlich einfach.  Zum Beispiel <code>!&gt;</code> Wird zu <code>\mapsto</code> , <code>-&gt;</code> wird zu <code>\to</code> usw. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ee/36e/f41/4ee36ef41c17f1ded1fffe13ba32b60d.gif"><br><br>  <code>fun</code> verwandelt sich in <code>f: \R \to \R :</code> , <code>!&gt;</code> ‚Üí <code>\mapsto</code> , <code>cc</code> ‚Üí <code>\subset</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a45/092/c95/a45092c95d91059b779f74cedda840e1.gif"><br><br>  <code>lim</code> wird zu <code>\lim_{n \to \infty}</code> , <code>sum</code> ‚Üí <code>\sum_{n = 1}^{\infty}</code> , <code>ooo</code> ‚Üí <code>\infty</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2be/9c9/9e6/2be9c99e6ab5787fc5196bbf4ce525a7.gif"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/3be/522/f5e/3be522f5e6e5ca7f871138732ba1b14d.gif"><br><br><h3>  Kursspezifische Schnipsel </h3><br>  Neben h√§ufig verwendeten habe ich auch spezielle Schnipsel.  Sie werden als einzelne Zeile in <code>.vimrc</code> : <br><br><pre> <code class="plaintext hljs">set rtp+=~/current_course</code> </pre> <br>  Hier ist <code>current_course</code> ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">symbolischer Link</a> zum aktuellen Kurs (mehr dazu in einem anderen Artikel).  In diesem Ordner befindet sich die Datei <code>~/current_course/UltiSnips/tex.snippets</code> , in der ich <code>~/current_course/UltiSnips/tex.snippets</code> hinzuf√ºge.  F√ºr die Quantenmechanik gibt es beispielsweise Ausschnitte zum Aufzeichnen der Quantenzust√§nde von Wandlampen und Ketos. <br><br> <code>&lt;a|</code>  ‚Üí <code>\bra{a}</code> <br> <code>&lt;q|</code>  ‚Üí <code>\bra{\psi}</code> <br>  <code>|a&gt;</code> ‚Üí <code>\ket{a}</code> <br>  <code>|q&gt;</code> ‚Üí <code>\ket{\psi}</code> <br>  <code>\braket{a}{b}</code> ‚Üí <code>\braket{a}{b}</code> <br><br>  Da die Quantenmechanik h√§ufig <code>\psi</code> , habe ich automatisch alle <code>q</code> in Klammern durch <code>\psi</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/268/d33/1fd/268d331fdb83b6fa3563b6f2b0baac66.gif"><br><br><pre> <code class="plaintext hljs">snippet "\&lt;(.*?)\|" "bra" riA \bra{`!p snip.rv = match.group(1).replace('q', f'\psi').replace('f', f'\phi')`} endsnippet snippet "\|(.*?)\&gt;" "ket" riA \ket{`!p snip.rv = match.group(1).replace('q', f'\psi').replace('f', f'\phi')`} endsnippet snippet "(.*)\\bra{(.*?)}([^\|]*?)\&gt;" "braket" riA `!p snip.rv = match.group(1)`\braket{`!p snip.rv = match.group(2)`}{`!p snip.rv = match.group(3).replace('q', f'\psi').replace('f', f'\phi')`} endsnippet</code> </pre> <br><h3>  Kontext </h3><br>  Wenn Sie diese Schnipsel schreiben, sollten Sie ber√ºcksichtigen, ob sie im Klartext zu finden sind.  Zum Beispiel gibt es laut meinem W√∂rterbuch ungef√§hr 72 W√∂rter auf Englisch und 2.000 W√∂rter auf Niederl√§ndisch mit sr.  Wenn ich also <code>disregard</code> <code>di^2egard</code> , √§ndert sich <code>sr</code> zu <code>^2</code> und wir erhalten <code>di^2egard</code> . <br><br>  Die L√∂sung f√ºr dieses Problem besteht darin, Snippets Kontext hinzuzuf√ºgen.  Die Syntaxhervorhebung von Vim bestimmt, ob UltiSnips ein Snippet verwenden soll, je nachdem, ob Sie sich im Formel- oder Textmodus befinden.  Ich habe mir diese Option ausgedacht: <br><br><pre> <code class="plaintext hljs">global !p texMathZones = ['texMathZone'+x for x in ['A', 'AS', 'B', 'BS', 'C', 'CS', 'D', 'DS', 'E', 'ES', 'F', 'FS', 'G', 'GS', 'H', 'HS', 'I', 'IS', 'J', 'JS', 'K', 'KS', 'L', 'LS', 'DS', 'V', 'W', 'X', 'Y', 'Z']] texIgnoreMathZones = ['texMathText'] texMathZoneIds = vim.eval('map('+str(texMathZones)+", 'hlID(v:val)')") texIgnoreMathZoneIds = vim.eval('map('+str(texIgnoreMathZones)+", 'hlID(v:val)')") ignore = texIgnoreMathZoneIds[0] def math(): synstackids = vim.eval("synstack(line('.'), col('.') - (col('.')&gt;=2 ? 1 : 0))") try: first = next( i for i in reversed(synstackids) if i in texIgnoreMathZoneIds or i in texMathZoneIds ) return first != ignore except StopIteration: return False endglobal</code> </pre> <br>  Jetzt k√∂nnen Sie den Snippets, die Sie nur in einem mathematischen Kontext anwenden m√∂chten, den <code>context "math()"</code> hinzuf√ºgen. <br><br><pre> <code class="plaintext hljs">context "math()" snippet sr "^2" iA ^2 endsnippet</code> </pre> <br>  Beachten Sie, dass der mathematische Kontext eine subtile Sache ist.  Manchmal schreiben wir im Formelmodus auch Text mit <code>\text{...}</code> .  In diesem Fall m√∂chten wir keine Snippets verwenden.  Im folgenden Fall: <code>\[ \text{$...$} \]</code> m√ºssen sie jedoch angewendet werden.  Aus diesem Grund ist der Code f√ºr den <code>math</code> Kontext nicht so einfach.  Die folgende Animation veranschaulicht diese Feinheiten. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e1b/3ca/2dd/e1b3ca2dd4fc1f5fe39679fb6ba38aad.gif"><br><br><h3>  Rechtschreibkorrektur im laufenden Betrieb </h3><br>  Obwohl Formeln ein wichtiger Bestandteil des Abstracts sind, drucke ich die meiste Zeit auf Englisch.  Ungef√§hr 80 W√∂rter pro Minute, meine Schreibf√§higkeiten sind ziemlich gut, aber ich mache viele Tippfehler.  Aus diesem Grund habe ich Vim eine Bindung hinzugef√ºgt, die Rechtschreibfehler korrigiert, ohne die Arbeit zu beeintr√§chtigen.  Wenn ich w√§hrend der Eingabe <code>Ctrl+L</code> , wird der vorherige Rechtschreibfehler korrigiert.  Es sieht so aus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ad/d70/568/0add705683b79cb94498104251a6d5b8.gif"><br><br>  Meine Einstellungen f√ºr die Rechtschreibpr√ºfung: <br><br><pre> <code class="plaintext hljs">setlocal spell set spelllang=nl,en_gb inoremap &lt;Cl&gt; &lt;cg&gt;u&lt;Esc&gt;[s1z=`]a&lt;cg&gt;u</code> </pre> <br>  Gehen Sie hier zu den vorherigen Rechtschreibfehlern, w√§hlen Sie dann die erste Option <code>1z=</code> und geben Sie <code>`]a</code> .  Mit den Befehlen <code>&lt;cg&gt;u</code> in der Mitte k√∂nnen Sie die Korrektur schnell r√ºckg√§ngig machen. <br><br><h3>  Abschlie√üend </h3><br>  Dank Vim-Snippets ist das Schreiben von LaTeX-Code nicht mehr √§rgerlich, sondern ein Vergn√ºgen.  In Kombination mit der Rechtschreibung im laufenden Betrieb k√∂nnen Sie so Vorlesungen √ºber Mathematik bequem und schnell skizzieren.  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">n√§chsten Artikel werde ich</a> auf andere Themen eingehen, z. B. das digitale Zeichnen von Illustrationen und das Einbetten in ein LaTeX-Dokument. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445066/">https://habr.com/ru/post/de445066/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445056/index.html">√úbersicht √ºber Webentwicklungskurse</a></li>
<li><a href="../de445058/index.html">Der Tesla-Autopilot lernte, Spurwechsel in benachbarten Autos zu bestimmen</a></li>
<li><a href="../de445060/index.html">Organisieren der Datensuche mithilfe von Spring Data Key-Value-Repositorys</a></li>
<li><a href="../de445062/index.html">Modernes Pr√§sentationsformat?</a></li>
<li><a href="../de445064/index.html">Der Kampf um die Netzneutralit√§t - eine Chance zur√ºckzukehren</a></li>
<li><a href="../de445070/index.html">Die Zusammenfassung interessanter Materialien f√ºr den mobilen Entwickler # 291 (18. M√§rz - 24. M√§rz)</a></li>
<li><a href="../de445072/index.html">Telegraff: Kotlin DSL f√ºr Telegramm</a></li>
<li><a href="../de445074/index.html">Programmieren von LibreOffice Base. Teil 1</a></li>
<li><a href="../de445076/index.html">Der IT-Riese f√ºhrte eine service-definierte Firewall ein</a></li>
<li><a href="../de445078/index.html">Die Quantenphysik d√ºrfte US-amerikanische Stromnetze vor Hackern sch√ºtzen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>