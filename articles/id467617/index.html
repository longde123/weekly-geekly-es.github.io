<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸŒ‡ ğŸ¥ ğŸ¤¦ğŸ¼ Kaspresso: kerangka kerja autotest yang Anda tunggu-tunggu ğŸ•µğŸ¿ ğŸ¤´ğŸ» ğŸ¤³ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setiap orang yang pernah atau terlibat dalam autotest Android tahu betapa menyakitkannya itu. 
 Anda bosan dengan volume tugas dan masalah sehingga li...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kaspresso: kerangka kerja autotest yang Anda tunggu-tunggu</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kaspersky/blog/467617/">  Setiap orang yang pernah atau terlibat dalam autotest Android tahu betapa menyakitkannya itu. <br>  Anda bosan dengan volume tugas dan masalah sehingga liburan tidak membantu.  Orang-orang bahkan berhenti karena protes otomatis. <br><br>  Rasa sakit, penderitaan, dan siksaan tak terhindarkan menyebabkan munculnya sesuatu yang baru dan indah.  Kami mencoba menyatukan semua garu yang harus kami injak, menggabungkan upaya kami dengan orang-orang dari Avito dan HH dan menciptakan sesuatu yang akan membuat hubungan Anda dengan tes otomatis jauh lebih baik dan lebih berbuah. <br><br>  Meet: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kaspresso</a> - kerangka kerja autotest yang Anda tunggu-tunggu! <br><br><img src="https://habrastorage.org/webt/dw/jh/9k/dwjh9kypjl637kxj8tiaxwjvtp0.png"><br><a name="habracut"></a><br>  Saya akan segera mencatat bahwa ada dua video berkualitas cukup tinggi di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">jaringan yang</a> didedikasikan untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kaspresso</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AdbServer</a> (tambahan untuk Kaspresso, tetapi pada saat yang sama, proyek yang kuat dan independen): <br><br>  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dmitry Movchan, Eugene Matsyuk - Cara mulai menulis autotests dan tidak menjadi gila</a> <br>  2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Egor Kournikov - Satu-satunya yang Anda butuhkan untuk pengujian UI</a> <br><br>  Mereka menggambarkan secara terperinci sejarah penciptaan perpustakaan: bagaimana kami beralih dari menyelesaikan satu masalah ke memecahkan masalah lain, dan apa yang terjadi pada akhirnya.  Saya sangat merekomendasikannya. <br><br>  Oleh karena itu, dalam artikel ini saya hanya akan berbicara tentang poin utama dan chip sehingga Anda dapat dengan cepat memahami apa kerangka kerja ini dan tugas apa yang dipecahkannya.  Dan nyali serta detail dapat ditemukan dalam video dan dokumentasi. <br><br><h2>  Mengapa kita bahkan membutuhkan kerangka kerja kita sendiri? </h2><br>  Setiap pengembang yang mulai menulis autotests pasti bertanya: <br><br><ol><li>  Bagaimana cara mulai menulis autotests? </li><li>  Alat apa yang harus dipilih? </li><li>  Apa yang harus dilakukan jika tidak ada alat yang diperlukan? </li><li>  Apa praktik terbaik? </li></ol><br>  Untuk semua ini tambahkan bahwa setiap tim berusaha untuk menyelesaikan masalah ini dengan caranya sendiri.  Akibatnya, tidak ada jawaban tunggal untuk mereka, tidak ada tempat untuk mengintip bagaimana melakukannya dengan benar.  Oleh karena itu, menulis dan mendukung autotest mahal bagi perusahaan, yang mempertanyakan kelayakan otomatisasi seperti itu. <br><br>  Sementara itu, otomatisasi uji mengejar tujuan yang baik.  Ini memungkinkan Anda untuk selalu memiliki panduan hijau dan siap untuk dirilis.  Dan ini berarti Anda dapat meluncurkan rilis dengan cepat. <br>  Satu-satunya masalah adalah menemukan jawaban untuk pertanyaan di atas.  Tetapi mereka hampir sama untuk semua tim.  Jadi mengapa tidak mengotomatiskan solusi mereka? <br><br><h2>  Apa yang kita inginkan dari framework? </h2><br>  Mari kita ungkapkan harapan kita sedikit dari kerangka kerja. <br><br><h3>  Mudah dibaca </h3><br>  Secara default, hanya perpustakaan Espresso yang tersedia untuk kami di Android.  Tentu saja, ada Appium + Mentimun, yang secara teori memungkinkan Anda untuk menulis tes pada dua platform sekaligus.  Tetapi masyarakat dengan percaya diri bergerak menuju instrumen pertama.  Saya tidak akan menjelaskan semua pro dan kontra dari perpustakaan di atas: jaringan penuh dengan informasi tentang ini.  Di sini, misalnya, adalah salah satu tautan yang relatif baru: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Appium vs Espresso.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apa yang harus dipilih dan bagaimana cara menggunakannya?</a> <br><br>  Jadi, Espresso.  Bukan alat yang buruk, tapi apinya agak terbalik.  Lihatlah kode sederhana: <br><br><pre><code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">espressoTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { onView(allOf(allOf(withId(R.id.espresso), isDescendantOfA(withId(R.id.coffee_variates))), isDescendantOfA(withId(R.id.content)))) .check(matches(withEffectiveVisibility(View.VISIBLE))) }</code> </pre> <br>  Anda harus berpikir untuk mencari tahu, kan? <br><br>  Dewa-dewa dari Thailand dan Australia memberi kami perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kakao</a> , yang dapat Anda pahami sekilas tentang apa yang terjadi dalam ujian Anda.  Ini kode yang sama, tetapi dengan Kakao: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kakaoTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { mainScreen { myView.isVisible() } }</code> </pre><br>  Jauh lebih baik.  Tetapi sekarang bayangkan Anda telah mengotomatiskan seluruh kotak uji.  Seperti apa kodenya? <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@RunWith(AndroidJUnit4::class)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OpenHomeScreenTest</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">TestCase</span></span></span></span>() { <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { MainScreen() { homeButton.click() } HomeScreen() { title { isVisible() hasAnyText() } } } }</code> </pre><br>  Masalah utama adalah bahwa, melihat tes ini, sulit untuk menghubungkannya dengan test case yang Anda otomatiskan.  Anda dapat, tentu saja, menambahkan log atau sesuatu seperti itu.  Atau masukkan dsl, yang segera mengubah tampilan tes Anda: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@RunWith(AndroidJUnit4::class)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OpenHomeScreenTest</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">TestCase</span></span></span></span>() { <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { step(â€œ<span class="hljs-number"><span class="hljs-number">1</span></span>. Open Home screenâ€) { MainScreen() { homeButton.click() } } step(â€œ<span class="hljs-number"><span class="hljs-number">2</span></span>. Check Home titleâ€) { HomeScreen() { title { isVisible() hasAnyText() } } } } }</code> </pre><br>  Setuju, itu terlihat sangat berbeda. <br><br><h3>  Stabilitas </h3><br>  Pustaka untuk tes ui gagal.  Tindakan yang sama dapat dilakukan 50 kali dengan sukses, dan pada istirahat ke-51 tanpa alasan yang jelas.  Dan pada putaran ke-52, semuanya baik-baik saja lagi.  Dan "kepanikan" seperti itu bisa merusak saraf Anda. <br><br>  Kami berpikir, mengapa tidak mencoba mencegat semua tindakan Kakao-Espresso, dan sudah menambahkan perilaku tambahan di sana yang bertujuan menangani kesalahan acak tersebut. <br><br>  Begitulah cara <a href="">versi 2.1 perpustakaan Kakao</a> lahir, memungkinkan Anda untuk mengintegrasikan ke semua panggilan Espresso. <br><br>  Selain itu, kami membuat pencegat kami sendiri, yang dengannya Anda dapat mengubah perilaku di dial-peer atau, misalnya, cukup login.  Selain itu, pencegat ini dapat disesuaikan, sehingga Anda dapat menyesuaikannya agar sesuai dengan kebutuhan Anda.  Baca lebih lanjut di <a href="">dok</a> . <br><br>  Khususnya, sebagai bagian dari pertarungan melawan tes yang tidak jelas - jika beberapa tindakan Anda membuat pengecualian, maka Kaspresso akan mencoba: <br><br><ul><li>  Gulir.  Mungkin tampilan Anda tidak terlihat di layar. </li><li>  Hapus dialog sistem yang bisa datang dari Tuhan yang tahu di mana. </li><li>  Ulangi panggilan terputus selama dua detik. </li></ul><br>  Dengan langkah-langkah ini, kami sepenuhnya menyelesaikan masalah dengan tes serpihan! <br><br><h3>  Penebangan </h3><br>  Salah satu masalah utama yang menyertai autotest adalah kurangnya penebangan yang dapat dipahami, yang khususnya tidak cukup ketika tes crash.  Duduk dan bertanya-tanya apa dan bagaimana telah jatuh di sini. <br><br>  Berkat intersep yang disebutkan di atas, kami dapat membangun sistem logging yang cukup luas. <br><br>  Mari kita lihat sebuah contoh: <br><br><img src="https://habrastorage.org/webt/03/nn/qg/03nnqgupdqnwa_i4jwyz1uqq6r0.png"><br><br><img src="https://habrastorage.org/webt/tq/az/3v/tqaz3vjsgpw0-ivylrfbnuqyiqa.png"><br><br>  Secara default, Kaspresso mencatat semua tindakan Anda, memilih setiap langkah tes, menampilkan waktu eksekusi, dll. <br><br><h3>  Adb Lengkap dalam Tes Espresso </h3><br>  Awalnya, adb tidak tersedia dalam tes Espresso.  Ya, ada <i>adb shell</i> , tetapi ada fungsi jauh lebih sedikit daripada di <i>adb</i> penuh.  Tetapi ada begitu banyak hal di dalamnya yang dapat berguna dalam ujian. <br><br>  Kami telah membuat pustaka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AdbServer</a> terpisah yang akan mengembalikan <i>adb</i> penuh ke pengujian Anda!  Video di atas merinci bagaimana kami berjuang dan apa yang kami lalui untuk itu ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">satu</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dua</a> ). <br><br><h3>  Bekerja dengan OS Android </h3><br>  Kekhususan tes di Kaspersky Lab adalah kita harus banyak bekerja dengan OS Android: mengatur beberapa pengaturan, mengunggah file ke sistem, dll. Semua ini mendorong kita untuk membakukan semua pekerjaan kita dengan sistem, membuat satu set antarmuka yang jelas, dapat diakses melalui satu titik entri - kelas <i>Perangkat</i> . <br><br>  Apa antarmuka ini dan apa yang mereka lakukan?  Biarkan saya memberi Anda beberapa slide dari presentasi Yegor sebagai ilustrasi: <br><br><img src="https://habrastorage.org/webt/ye/5w/po/ye5wpoo2z5ezglihfrlkpobobrs.png"><br><br><img src="https://habrastorage.org/webt/f-/tc/ow/f-tcowtztognmdjlaxkl9x6z9sg.png"><br><br><img src="https://habrastorage.org/webt/um/wj/te/umwjteh2qef3xv-4hw4xzkjkrh8.png"><br><br><img src="https://habrastorage.org/webt/qz/yy/qs/qzyyqsa4aeqaozts7uy367ryofw.png"><br><br>  Dokumentasinya ada di <a href="">sini</a> . <br><br>  Di bawah tenda, AdbServer dan UiAutomator terutama digunakan. <br>  Tapi!  Jika Anda tiba-tiba tidak puas dengan implementasi antarmuka, Anda dapat mengatur implementasi melalui Configurator. <br><br><h3>  Cuplikan layar untuk DocLoc (Dokumentasi dan Pelokalan) </h3><br>  Semua proyek di mana ada pelokalan, sering kali ada kebutuhan untuk mengambil tangkapan layar dalam berbagai bahasa untuk memberikannya kepada penerjemah sebagai ilustrasi.  Lagi pula, sangat sulit untuk membuat terjemahan yang benar tanpa melihat di mana dan bagaimana suatu baris tertentu digunakan.  Karena itu, saya ingin dapat mengambil tangkapan layar dengan cepat dan segera dalam semua bahasa.  Termasuk tangkapan layar dialog sistem.  Anda juga mungkin memerlukan tangkapan layar di layar lawas, dan tanpa refactoring global. <br><br>  Semua ini memungkinkan Anda untuk membuat Kaspresso keluar dari kotak.  Baca lebih lanjut di <a href="">dokumentasi</a> . <br><br><h3>  Arsitektur dan praktik terbaik </h3><br>  Salah satu tugas utama Kaspresso adalah membuat dsl yang akan mendorong Anda ke arsitektur tes yang benar dan penulisan yang benar. <br><br>  Banyak salinan yang rusak pada topik ini, karena Anda, sayangnya, tidak akan menemukan aturan seperti itu di mana pun.  Yang paling banyak Anda temukan adalah artikel di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Halaman Obyek</a> . <br><br>  Oleh karena itu, kami tidak berusaha dan menyoroti masalah ini dalam <a href="">dokumentasi</a> , dan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">video satu kali</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">video dua</a> . <br>  Selain itu, Sasha Blinov menulis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel yang</a> bagus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tentang Kotlin DSL dan tes elegan</a> .  Dsl yang dijelaskan dalam artikel ini disediakan oleh Kaspresso. <br><br>  Kembali ke Mobius, kami mengusulkan opsi tentang cara mempercepat dampak autotest dan dengan cepat mengintegrasikannya ke dalam PullRequest, melewati masalah infrastruktur yang tak terhindarkan.  Kami membicarakan hal ini secara lebih rinci di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br><h3>  Bagaimana menghubungkan dan mengkonfigurasi Kaspresso jika Anda sudah memiliki banyak tes </h3><br>  Pesona utama adalah bahwa jika Anda sudah memiliki banyak tes yang ditulis dalam Kakao dan Anda ingin menerapkan Kaspresso, maka Anda tidak perlu menulis ulang apa pun!  Cukup mewarisi kelas tes Anda dari kelas TestCase khusus.  Dan itu saja! <br><br>  Itu: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@RunWith(AndroidJUnit4::class)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OpenHomeScreenTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mainScreen = MainScreen() <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> homeScreen = HomeScreen() <span class="hljs-meta"><span class="hljs-meta">@get:Rule</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> activityTestRule = ActivityTestRule(MainActivity::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">true</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">false) @Test fun test</span></span></span></span>() { ... } }</code> </pre><br>  Itu menjadi: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@RunWith(AndroidJUnit4::class)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OpenHomeScreenTest</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">TestCase</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mainScreen = MainScreen() <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> homeScreen = HomeScreen() <span class="hljs-meta"><span class="hljs-meta">@get:Rule</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> activityTestRule = ActivityTestRule(MainActivity::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">true</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">false) @Test fun test</span></span></span></span>() { ... } }</code> </pre><br>  Dan jika Anda tidak menyukai warisan, gunakan kelas <i>TestRule yang</i> serupa. <br><br>  Seperti yang telah kami sebutkan, Kaspresso adalah kerangka kerja yang sangat fleksibel dan dapat disesuaikan.  Semua pengaturan tersedia melalui kelas <i>Kaspresso</i> dengan nama yang sama. <br><br>  Pengaturan standar adalah default.  Jika Anda ingin menyesuaikan sesuatu, itu akan terlihat seperti ini: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@RunWith(AndroidJUnit4::class)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OpenHomeScreenTest</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">TestCase</span></span></span></span>( Kaspresso.Builder.<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>().apply { viewBehaviorInterceptors.add(MyInterceptor()) flakySafetyParams.timeoutMs = <span class="hljs-number"><span class="hljs-number">1_000</span></span> } ) { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mainScreen = MainScreen() <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> homeScreen = HomeScreen() <span class="hljs-meta"><span class="hljs-meta">@get:Rule</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> activityTestRule = ActivityTestRule(MainActivity::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">true</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">false) @Test fun test</span></span></span></span>() { ... } }</code> </pre><br>  Yaitu, <i>Kaspresso.Builder</i> tersedia melalui <i>konstruktor</i> <i>TestCase</i> , di mana Anda mengatur semua pengaturan yang Anda butuhkan.  Rincian tentang konfigurator ditulis dalam <a href="">dokumentasi</a> . <br><br><h2>  Rencana segera </h2><br>  Dalam waktu dekat kami berencana untuk menambahkan hal-hal berikut: <br><br><h3>  Tampilkan langkah-langkah pengujian di Allure (halo kepada teman-teman dari HeadHunter) </h3><br>  Melalui pencegat khusus, kami menyiapkan data untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Marathon</a> .  Ini memungkinkan kami untuk melihat laporan Allure yang bersifat berikut: <br><br><img src="https://habrastorage.org/webt/ad/dm/ux/addmux7l65zlvxi0fxlr97wr_o0.jpeg"><br><br>  Detail dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PR # 4</a> <br><br>  PS PR sudah dalam versi 1.0.1, sekarang kami sedang mempersiapkan PR yang sesuai di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Marathon</a> . <br>  Ps.  Ada ide untuk melampirkan sepotong log tertentu untuk setiap langkah, dan menambahkan tangkapan layar ke langkah "jatuh". <br><br><h3>  Menguji skrip pemutakhiran </h3><br>  Seringkali perlu untuk memeriksa kebenaran dari peningkatan aplikasi.  Ya, beberapa cek dapat ditransfer ke unit test.  Tetapi kami ingin tenang untuk seluruh aplikasi secara keseluruhan. <br><br>  Sayangnya, pada Espresso murni tidak mungkin untuk melakukan ini, karena jika kita menginstal ulang apk yang diuji, tes akan gagal.  Entah bagaimana Anda dapat mencoba menipu pelari, tetapi sulit bagi saya untuk membayangkan bagaimana perbaikan akan terlihat dan seberapa stabil mereka nantinya. <br>  Oleh karena itu, di Kaspresso, kami sedang menyiapkan solusi untuk masalah ini, berdasarkan UiAutomator.  Namun, di bagian atas Anda akan memiliki semua dsl akrab yang sama mencuat, sangat mirip dengan Kakao dan dengan dukungan yang sama untuk menyadap. <br><br><h2>  Tautan yang bermanfaat </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kaspresso</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AdbServer</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Obrolan</a> , di mana kami akan selalu dengan senang hati menjawab semua pertanyaan Anda <br><br><h2>  Ucapan Terima Kasih </h2><br>  Terima kasih khusus kepada semua orang yang berpartisipasi dalam pengembangan proyek. <br>  Itu sangat sulit, tetapi sangat keren! <br><br><img src="https://habrastorage.org/webt/_l/vd/_u/_lvd_ux_onb1ft8uoo2eat8_5uo.png"><br><br><img src="https://habrastorage.org/webt/j2/bm/i1/j2bmi1ov0wicizc7iru0shunom0.png"><br><br><h2>  Alih-alih sebuah kesimpulan </h2><br>  Kami percaya bahwa Kaspresso dan AdbServer akan membuat hidup Anda lebih baik. <br>  Kami menyambut umpan balik Anda, rekomendasi, Yishuyam dan PulRequest! <br>  Dan jangan lupa untuk menaruh tanda bintang! <br><br>  PS Dan di akhir jajak pendapat kecil =) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id467617/">https://habr.com/ru/post/id467617/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id467605/index.html">Yang Anda butuhkan hanyalah URL</a></li>
<li><a href="../id467607/index.html">Pengakuan pembenci buruh pelabuhan</a></li>
<li><a href="../id467609/index.html">Membuat aplikasi seluler di React Native</a></li>
<li><a href="../id467611/index.html">Algoritma Deteksi Garis Besar Gambar</a></li>
<li><a href="../id467615/index.html">Cara membuat pembungkus Python dan tidak menjadi gila</a></li>
<li><a href="../id467619/index.html">Aquafor pitcher adalah contoh yang baik tentang bagaimana filter untuk pengolahan air tidak dapat dirancang</a></li>
<li><a href="../id467621/index.html">Pertemuan Elasticsearch Moscow di Ozon</a></li>
<li><a href="../id467623/index.html">Bereaksi Asli: Membuat Bidang Input Animasi menggunakan API Animasi</a></li>
<li><a href="../id467625/index.html">10 layanan untuk membuat struktur situs pada tahun 2020</a></li>
<li><a href="../id467627/index.html">AZN-V sebagai teknologi pengawasan untuk drone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>