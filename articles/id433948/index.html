<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚬 👏🏿 💍 Cara membuat pembayaran lebih nyaman: pengalaman penyedia IaaS 👩‍👧 🈶 🌽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salah satu masalah penting ketika bekerja dengan layanan dari penyedia IaaS adalah kenyamanan pembayaran. Sejak hari pertama dimulainya proyek kami, k...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara membuat pembayaran lebih nyaman: pengalaman penyedia IaaS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1cloud/blog/433948/">  Salah satu masalah penting ketika bekerja dengan layanan dari penyedia IaaS adalah kenyamanan pembayaran.  Sejak hari pertama dimulainya proyek kami, kami mencoba menyederhanakan proses pembayaran menggunakan kartu bank dan terus meningkatkan mekanisme ini.  Hari ini kami memutuskan untuk berbicara tentang di mana kami memulai dan berbagi pengalaman kami. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/iy/6k/pv/iy6kpvrzewuk4mudc9nkfwiadu8.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Muhammad Ashiq</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CC BY-SA</a></i></font> <br><br><h2>  Latar belakang </h2><br>  Kami telah menyediakan layanan IaaS di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">1cloud</a> sejak 2012.  Selama waktu ini, kami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">berhasil bekerja</a> dengan sejumlah besar gateway pembayaran.  Salah satunya adalah Money Online.  Kami bekerja dengannya selama dua tahun, dan kemudian mulai menghubungkan layanan alternatif jika ada kesulitan teknis. <br><br>  Sebagai alternatif, PayPal dan Robocassa dipertimbangkan.  Akibatnya, kedua platform terhubung, meskipun <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ada beberapa kesulitan</a> dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ini</a> .  Dalam kasus pertama, untuk mengimpor ID pelanggan ke dalam bentuk pembayaran, kami harus menyesuaikan aturan CSS dan memodifikasi elemen standar pada halaman web.  Dalam situasi dengan Robocassa, sejumlah permintaan dalam API tidak sesuai dengan uraiannya, tetapi dengan bantuan dukungan teknis, situasinya juga diselesaikan.  Kami tidak berhenti pada keputusan ini dan mempertimbangkan opsi lain yang ditawarkan calon mitra kepada kami. <br><br>  Jadi, kami mulai bekerja dengan sistem pembayaran PayMaster (menggantikan "Money Online"), yang menawarkan kepada kami syarat-syarat komisi dan API yang nyaman.  Untuk waktu yang lama, gateway pembayaran ini bertindak sebagai yang utama.  Namun, baru-baru ini kami memutuskan untuk mendesain ulang kegunaan layanan kami dan menyederhanakan proses pembayaran layanan dengan kartu bank untuk individu.  Agar UX memenuhi persyaratan kami, kami telah mengintegrasikan gateway pembayaran lain - CloudPayments. <br><br><h2>  Bagaimana saya bisa meningkatkan proses pembayaran UX? </h2><br>  Kami sedang mengerjakan model prabayar.  Klien mengisi kembali akunnya di akun pribadinya, dan kemudian dana didebit dari akun ini karena layanan IaaS dikonsumsi (didebet setiap sepuluh menit). <br><br>  Untuk mengisi saldo dengan kartu kredit, dalam kasus PayMaster, klien harus melalui proses empat langkah: <br><br><ol><li>  Masukkan jumlah pembayaran dalam formulir di panel kontrol, klik tombol "Bayar" dan buka halaman gateway pembayaran. </li><li>  Tunjukkan telepon atau alamat email untuk menerima cek dan klik Lanjutkan. </li><li>  Masukkan detail kartu dan tekan tombol "Bayar" lagi. </li><li>  Tunjukkan kode konfirmasi transaksi yang dikirim bank sebagai bagian dari prosedur 3D Secure. </li></ol><blockquote>  <i><b>Penafian:</b> algoritma yang dijelaskan di atas berlaku untuk pembayaran kartu bank yang dilakukan oleh individu.</i>  <i>Badan hukum membayar jasa penyedia IaaS dengan tagihan.</i>  <i>Sementara meningkatkan kegunaan, kami memfinalisasi mekanisme penagihan faktur semacam itu secara otomatis, tetapi kami tidak akan mempertimbangkannya dalam kerangka materi ini, karena badan hukum tidak berinteraksi dengan gateway pembayaran.</i> </blockquote><br>  Kami memutuskan untuk menyederhanakan proses pembayaran bagi pengguna dan umumnya meningkatkan tampilan dan kegunaan formulir untuk mengisi data kartu bank.  Untuk ini, kami telah mengidentifikasi dua tugas untuk diri kami sendiri, yang akan kami diskusikan di bawah ini. <br><br><h5>  Tugas 1: mengecualikan bagian ke halaman gateway pembayaran </h5><br>  Seperti yang kami sebutkan di atas, ketika pengguna membayar layanan kami, untuk mengisi rincian kartu, ia terpaksa pergi ke situs gateway pembayaran.  Jadi seseorang harus menekan banyak tombol konfirmasi dan menunggu memuat halaman dengan informasi tentang penambahan akun. <br><br>  Dalam hal ini, masalah lain muncul - setelah pengguna memasukkan uang ke dalam akun, ia tetap berada di halaman gateway pembayaran hingga mengklik tautan khusus untuk kembali ke 1cloud.ru.  Ini membuatnya sulit untuk bekerja dengan panel kontrol kami, misalnya, jika, setelah pembayaran, pengguna ingin menambah kapasitas infrastruktur TI-nya. <br><br><blockquote>  <i>"Menurut analitik, hanya segelintir pelanggan yang mengikuti tautan dan kembali ke situs web kami," kata <b>Sergey Belkin</b> , kepala pengembangan di 1cloud.ru.</i>  <i>- Ini sebagian disebabkan oleh fakta bahwa klien harus mengklik tautan "Kembali ke toko online".</i>  <i>Ini terlepas dari kenyataan bahwa layanan kami bukan toko online. ”</i> </blockquote><br>  Selain itu, kami ingin mengurangi jumlah bidang yang diisi oleh pengguna ke minimum, hanya menyisakan yang benar-benar diperlukan untuk operasi.  Untuk menyelesaikan tugas ini, kami memilih gateway pembayaran CloudPayments, yang karyawannya awalnya menarik perhatian kami dengan respons dukungan teknis yang cepat dan lengkap. <br><br>  Selain itu, gateway pembayaran ini memiliki kantor perwakilan di Kazakhstan.  Ini memungkinkan untuk menerapkan metode pembayaran baru untuk layanan hosting kami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">oblako.kz</a> .  Kalau tidak, semua transfer kami dari Kazakhstan ke Rusia (atau sebaliknya) akan dikenakan komisi tambahan. <br><br>  CloudPayments disarankan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">skrip</a> chekout khusus.  Ini memungkinkan Anda untuk mengimplementasikan formulir pembayaran langsung di panel kontrol kami dan mentransfer data yang telah dilengkapi ke gateway pembayaran tanpa menyimpannya di pihak kami. <br><br>  Untuk mengimplementasikan skrip, kami harus melalui pemindaian keamanan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PCI DSS</a> di salah satu organisasi terakreditasi - yang merupakan persyaratan CloudPayments.  Pemindaian diperlukan untuk mengonfirmasi kepatuhan teknis dengan standar dan untuk mengecualikan kemungkinan pencurian data pengguna saat mengisi formulir di situs. <br><br>  Audit kepatuhan PCI DSS dilakukan oleh ARinteg.  Kami mengirimkan mereka sebuah aplikasi di mana kami mengindikasikan keinginan untuk menjalani audit, mengisi kuesioner dan menetapkan tanggal untuk verifikasi.  Di sisi ARinteg, persiapan untuk pemindaian memakan waktu setengah hari (yaitu, Anda dapat memindai hampir seketika), tetapi kami membutuhkan tambahan empat hingga lima hari untuk mempersiapkan infrastruktur kami dengan hati-hati. <br><br>  Pemindaian berlangsung sekitar 15 jam, walaupun pemindaiannya berlangsung beberapa hari.  Spesialis ARinteg memeriksa SSL dan perlindungan terhadap permintaan injeksi dan kerentanan lainnya di situs web kami. <br><br>  Kami tidak lulus tes awal, dan kami diberi daftar masalah yang perlu diperbaiki.  Semuanya tidak signifikan, misalnya, ada metode pasca yang digunakan ketika pengguna mengevaluasi petunjuk langkah-demi-langkah kami di situs.  Kami menghapus semua komentar dan upaya audit kedua berhasil.  Selanjutnya, kita bisa beralih ke implementasi skrip chekout. <br><br>  Skrip terdaftar di situs web kami, mengumpulkan data kartu dari formulir yang ditentukan dan menyusun kriptogram dari mereka untuk pembayaran melalui CloudPayments API.  Ini terlihat seperti ini: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.createCryptogram = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = checkout.createCryptogramPacket(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result.success) { <span class="hljs-comment"><span class="hljs-comment">//   alert(result.packet); } else { //     ,  `result.messages` : // { name: "      ", cardNumber: "  " } //  `name`, `cardNumber`    `&lt;input ... data-cp="cardNumber"&gt;` for (var msgName in result.messages) { alert(result.messages[msgName]); } } }; $(function () { /*  checkout */ checkout = new cp.Checkout( // public id    "test_api_00000000000000000000001", // ,     document.getElementById("paymentFormSample")); });</span></span></code> </pre> <br>  Formulir untuk memasukkan data kartu bank terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/yi/vl/yt/yivlyttyhrz8mgmikdhnr9_8mys.png"><br><br>  Selama implementasi skrip dan formulir, kami dapat mengurangi jumlah bidang yang diisi oleh pengguna hingga minimum.  Mereka hanya menyisakan yang benar-benar diperlukan untuk operasi.  Misalnya, bidang "Nama Depan" dan "Nama Belakang" telah dihapus.  Seperti yang dijelaskan oleh perwakilan gateway pembayaran kepada kami, bank tidak memeriksa data ini (hanya nomor kartu, tanggal, dan CVV yang penting), jadi kami memutuskan untuk menghilangkannya dan menyederhanakan seluruh proses. <br><br>  Selain itu, kami memperjelas informasi tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">program diskon</a> kami: dengan pengisian akun satu kali dalam jumlah dari 5 ribu rubel, 10% dikreditkan dalam bentuk bonus, dari 10.000 rubel - 20%, lebih dari 100.000 rubel - 25%.  Kami juga menambahkan kemampuan untuk menyimpan data peta untuk pengguna.  Semua informasi ini disimpan di sisi gateway pembayaran CloudPayments dalam bentuk terenkripsi. <br><br><h5>  Tugas 2: mewujudkan pembayaran otomatis </h5><br>  Ini adalah pembayaran yang terjadi secara otomatis dalam kondisi tertentu.  Seringkali fitur ini digunakan oleh layanan berlangganan.  Namun, sebagian besar gateway pembayaran hanya menawarkan opsi ketika pengisian otomatis terjadi pada jadwal (pada tanggal tertentu).  Penting bagi kami bahwa kesempatan untuk mengisi kembali akun tersedia secara otomatis kapan saja ketika klien kehabisan dana pada akun (karena kami bekerja dengan prabayar).  Karenanya, untuk menerapkan pembayaran otomatis, kami menggunakan metode yang digunakan saat membayar dari kartu "ingat" (menggunakan token sementara). <br><br>  Ini berfungsi sebagai berikut: setelah pembayaran pertama yang berhasil dilakukan oleh pengguna, gateway menghasilkan tokennya untuk pasangan kartu layanan dan mengirimkannya dalam respons postback.  Token ini disimpan, dan setelah pembayaran berulang itu sudah ditransfer, dan bukan data kartu.  Ternyata kami mengirim permintaan ke gateway tempat kami menunjukkan kunci API kami (pengidentifikasi bahwa permintaan tersebut berasal dari 1cloud), token dan jumlah.  Gateway memeriksa apakah token tersebut dibuat, dan jika semuanya beres, ia memproses pembayaran untuk jumlah yang ditentukan. <br><br>  Tanggal ketika diperlukan untuk melakukan pembayaran otomatis, kami menghitung secara dinamis berdasarkan konsumsi layanan saat ini oleh pengguna dan saldo pada akun.  Misalkan klien memiliki seribu rubel pada neraca, dan ia mengonsumsi dua rubel selama sepuluh menit interval terakhir.  Jelas bahwa tanggal perkiraan pemberian titik akan datang pada interval lima ratus sepuluh menit - ini adalah sekitar 34 hari.  Dengan demikian, kami dapat melakukan pembayaran otomatis beberapa hari sebelum berakhirnya dana.  Pelanggan memilih ukuran pembayaran otomatis secara mandiri. <br><br><h2>  Apa selanjutnya </h2><br>  Sekarang kami sedang menguji solusi ini dan mengevaluasi hasil implementasi.  Menurut suara di antara pelanggan, sebagian besar sangat berubah.  Kami akan mempelajari lebih dalam umpan balik tentang sistem, menganalisis data, dan, jika perlu, melakukan penyesuaian. <br><br><h5>  Materi segar PS dari blog perusahaan kami: </h5><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DevOps dalam layanan cloud menggunakan 1cloud.ru sebagai contoh</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apa yang perlu Anda ketahui tentang tanda tangan digital</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Minimalisasi risiko: bagaimana tidak kehilangan data Anda</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id433948/">https://habr.com/ru/post/id433948/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id433936/index.html">Mencari hadiah teknologi tinggi untuk anak? Pikirkan taman bermain, bukan playpen</a></li>
<li><a href="../id433938/index.html">Bagaimana Yandex dan Google merangkum tahun ini</a></li>
<li><a href="../id433940/index.html">Berapa Ulasan di AppStore</a></li>
<li><a href="../id433944/index.html">Pengecualian yang menghancurkan</a></li>
<li><a href="../id433946/index.html">Cheat sheet untuk kecerdasan buatan - buang kelebihannya, ajarkan hal utama. Pelatihan teknik pemrosesan urutan</a></li>
<li><a href="../id433952/index.html">10 alasan untuk memilih solusi untuk SAP HANA dari HPE. Bagian 2</a></li>
<li><a href="../id433954/index.html">Delapan teknologi audio dan gadget audio yang akan memasuki TECnology Hall of Fame pada tahun 2019</a></li>
<li><a href="../id433956/index.html">Modder telah menggunakan AI untuk meningkatkan tekstur dalam game</a></li>
<li><a href="../id433958/index.html">Aplikasi TDD pada Spring Boot: bekerja dengan database</a></li>
<li><a href="../id433964/index.html">Modul ECMAScript di Node.js: Paket Baru</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>