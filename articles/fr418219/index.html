<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💅🏻 🍈 🤙🏿 Cours MIT "Sécurité des systèmes informatiques". Conférence 6: Opportunités, partie 2 🌞 🆑 🕺🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "Sécurité des systèmes informatiques." Nikolai Zeldovich, James Mickens. 2014 année...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "Sécurité des systèmes informatiques". Conférence 6: Opportunités, partie 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418219/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "Sécurité des systèmes informatiques."  Nikolai Zeldovich, James Mickens.  2014 année </h3><br>  Computer Systems Security est un cours sur le développement et la mise en œuvre de systèmes informatiques sécurisés.  Les conférences couvrent les modèles de menace, les attaques qui compromettent la sécurité et les techniques de sécurité basées sur des travaux scientifiques récents.  Les sujets incluent la sécurité du système d'exploitation (OS), les fonctionnalités, la gestion du flux d'informations, la sécurité des langues, les protocoles réseau, la sécurité matérielle et la sécurité des applications Web. <br><br>  Cours 1: «Introduction: modèles de menace» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 2: «Contrôle des attaques de pirates» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 3: «Débordements de tampon: exploits et protection» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 4: «Séparation des privilèges» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 5: «D'où viennent les systèmes de sécurité?» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  Conférence 6: «Opportunités» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <a name="habracut"></a><br><br>  <b>Public:</b> peut-on conclure que chaque opportunité a un processus? <br><br>  <b>Professeur: J'en</b> doute.  Vous pouvez avoir autant de processus que vous le souhaitez, pour une possibilité, plusieurs processus peuvent exister.  Autrement dit, vous n'avez pas nécessairement besoin d'un processus distinct pour chaque opportunité.  Parce qu'il existe un processus <b>fort1</b> qui peut ouvrir de nombreux fichiers et transmettre de nombreuses fonctionnalités au composant privilégié de <b>fort</b> . <br><br><img src="https://habrastorage.org/webt/ba/x4/pr/bax4pr8nb9rufhd5_f24v9imtdi.jpeg"><br><br>  La raison pour laquelle vous pensez avoir besoin d'un processus distinct pour chaque opportunité que nous traitons concerne cette étrange interaction entre les capacités et les privilèges externes. <br><br>  Parce que <b>fort1</b> a un privilège externe.  Et ce que nous faisons, c'est essentiellement transformer ce privilège externe en <b>capacité</b> dans ce processus <b>fort1</b> .  Donc, si vous disposez de plusieurs types de privilèges externes ou de plusieurs privilèges différents que vous souhaitez utiliser avec prudence, vous souhaiterez probablement un processus distinct doté de ce privilège.  Et chaque fois que vous souhaitez utiliser un ensemble spécifique de privilèges, vous demanderez au processus approprié d'effectuer la séparation, et si cela réussit, vous demanderez au processus de vous renvoyer la <b>capacité</b> . <br><br>  En fait, il y avait une telle conception du système d'exploitation qui était complètement basée sur les capacités et n'avait aucun privilège externe.  Et c'est cool, mais pas très pratique pour une utilisation dans un vrai système.  Il s'avère qu'en réalité vous ne voulez pas tant de privilèges externes que d'opportunités pour nommer un objet et parler de cet objet à quelqu'un sans transférer les droits sur cet objet sans faute. <br><br>  Je ne sais peut-être pas quels privilèges vous pouvez avoir à l'égard d'un document général, mais je tiens à vous informer que nous avons ce document général.  Si vous pouvez le lire, lisez-le.  Si vous l'écrivez, bien, écrivez.  Mais je ne veux pas lui céder de droits.  Je veux juste vous dire: "Hé, cette chose, va l'essayer!"  C'est donc un inconvénient dans le monde des opportunités, car cela vous oblige vraiment à ne jamais parler d'objets sans transférer les droits sur cet objet. <br><br>  Par conséquent, il est important de le savoir et d'utiliser cette fonctionnalité dans certaines parties du système, mais de ne pas se fier à cela pour être la solution à la sécurité du système. <br><br><img src="https://habrastorage.org/webt/iu/v8/sg/iuv8sgqyettpxg1oaf1jcuvs-e8.jpeg"><br><br>  <b>Public:</b> supposons que le processus possède les capacités que lui confère un autre processus, mais il s'avère qu'il possède déjà de grandes capacités par rapport à un objet.  Un processus peut-il les comparer pour s'assurer qu'ils touchent le même objet?  Ou utilisera-t-il les grandes opportunités? <br><br>  <b>Professeur:</b> le fait est que le processus n'utilise pas les capacités de manière implicite, c'est donc une propriété très utile des capacités.  Vous devez absolument indiquer laquelle des options vous utilisez.  Alors pensez-y en termes de descripteur de fichier.  Supposons que je vous donne un descripteur de fichier ouvert pour un fichier et qu'il soit en lecture seule.  Ensuite, quelqu'un d'autre vous donne une autre opportunité pour d'autres fichiers, qui peuvent inclure ce fichier.  Et une nouvelle fonctionnalité vous permet de lire et d'écrire dans des fichiers. <br><br>  Dans ce cas, si vous essayez d'écrire dans le premier fichier, vous réussirez sans aucun doute, car un descripteur de fichier supplémentaire lui sera ouvert, ce qui permet non seulement la lecture mais aussi l'écriture.  C'est donc une sorte de truc cool quand vous n'avez pas besoin de privilèges externes supplémentaires.  Vous avez simplement toutes ces possibilités, car les gens ont en fait construit de telles bibliothèques et, en principe, ils gèrent vos capacités pour vous.  Ils les récupèrent en quelque sorte.  Et lorsqu'ils tentent d'effectuer une opération, ils recherchent des opportunités et trouvent celles qui la font fonctionner. <br><br>  Cela vous ramène au contrôle externe de l' <b>autorité ambiante</b> que vous tentiez d'éviter.  Une caractéristique positive des possibilités est qu'il s'agit d'une conception logicielle qui vous simplifie la vie.  Ceci est rare dans les solutions de sécurité.  Cette propriété vous permet d'écrire plus facilement du code qui pointe vers les privilèges que vous souhaitez utiliser du point de vue de la sécurité.  Et c'est assez facile d'écrire du code. <br>  Cependant, la <b>capacité</b> peut résoudre d'autres problèmes.  Ainsi, des problèmes de gestion des privilèges surviennent souvent lorsque vous devez exécuter du code non approuvé.  Parce que vous voulez vraiment contrôler les privilèges que vous accordez, sinon il y a un risque d'utilisation abusive des privilèges que vous accordez.  Et c'est un point de vue légèrement différent à partir duquel les auteurs de l'article sur <b>Capsicum</b> abordent les opportunités.  Ils sont bien sûr conscients du problème de l'autorité extérieure, mais c'est un problème légèrement différent que vous pouvez ou ne pouvez pas résoudre.  Mais fondamentalement, ils se soucient d'avoir une très grande application privilégiée, et ils craignent qu'il y ait des erreurs dans différentes parties du code source de cette application.  Par conséquent, ils souhaitent réduire les privilèges des différents composants de cette application. <br><br>  En ce sens, l'histoire est très similaire à <b>OKWS</b> .  Donc, vous avez une grande application, vous la divisez en composants et restreignez les privilèges pour chaque composant.  Cela a certainement du sens dans <b>OKWS</b> .  Y a-t-il d'autres situations où vous pourriez être préoccupé par le partage des privilèges?  Je pense que dans leur article, ils décrivent des exemples que je devrais essayer d'exécuter, par exemple, <b>tcpdump</b> et d'autres applications qui analysent les données du réseau.  Pourquoi sont-ils si préoccupés par les applications qui analysent les entrées réseau?  Que se passe-t-il dans <b>tcpdump</b> ?  Quelle est la raison de leur paranoïa? <br><br>  <b>Public:</b> un attaquant peut contrôler ce qui est envoyé et ce qui est appelé à exécuter, par exemple, des paquets. <br><br>  <b>Professeur:</b> oui, ils se soucient vraiment des attaques de ce type et de savoir si l'attaquant peut vraiment contrôler les données d'entrée?  Parce que c'est assez problématique si vous écrivez du code <b>C</b> qui devrait gérer les structures de données.  De toute évidence, vous ferez beaucoup de manipulations de pointeurs en copiant des octets dans des tableaux qui allouent de la mémoire.  En même temps, il est facile de faire une erreur avec la gestion de la mémoire, ce qui entraînera des conséquences plutôt désastreuses. <br><br>  C'est donc la raison pour laquelle ils ont décidé de distinguer le travail de leur protocole réseau et d'autres choses dans le bac à sable. <br><br><img src="https://habrastorage.org/webt/qe/74/kp/qe74kpxuvojns1ezini63--mv90.jpeg"><br><br>  Votre navigateur est un autre exemple du monde réel où le partage de privilèges est nécessaire.  Vous voudrez probablement isoler votre plugin Flash, ou votre extension <b>Java</b> , ou autre chose.  Parce qu'ils représentent un large champ d'attaques qui sont utilisées de manière assez agressive. <br><br>  Cela semble donc être un plan intelligent.  Par exemple, si vous écrivez un logiciel, vous voulez vérifier le comportement de ses composants dans le bac à sable.  Plus généralement, cela fait référence à ce que vous avez téléchargé sur Internet et que vous avez l'intention d'exécuter avec moins de privilèges.  Le style d'isolement offert par <b>Capsicum convient-il à cela</b> ?  Je pourrais télécharger un économiseur d'écran aléatoire ou un jeu sur Internet.  Et je veux les exécuter sur mon ordinateur, mais assurez-vous d'abord qu'ils ne ruinent pas tout ce que j'ai.  Pourriez-vous utiliser <b>Capsicum</b> pour cela? <br><br>  <b>Public:</b> vous pouvez écrire un programme sandbox dans lequel vous utiliserez <b>Capsicum</b> . <br><br>  <b>Professeur: à</b> droite.  Comment l'utiliseriez-vous?  Eh bien, vous devez simplement entrer en mode sandbox avec la <b>commande cap_enter</b> , puis exécuter le programme.  Pensez-vous que cela fonctionnera?  Je pense qu'il y aura un problème.  Il sera lié au fait que si le programme ne s'attend pas à ce qu'il soit isolé par <b>Capsicum</b> , alors il peut essayer d'ouvrir la bibliothèque partagée, mais il ne pourra pas le faire, car il ne pourra pas ouvrir quelque chose comme <b>/ lib / ...</b> , car il ne le fait pas autorisé en mode <b>Capacité</b> . <br><br>  Par conséquent, ces méthodes sandbox doivent être utilisées pour les choses pour lesquelles le développeur a prévu qu'elles peuvent être exécutées dans ce mode.  Il existe probablement d'autres méthodes sandbox qui peuvent être utilisées pour du code non modifié, mais les exigences peuvent alors légèrement changer.  Par conséquent, les créateurs de <b>Capsicum</b> ne <b>sont</b> pas très préoccupés par la compatibilité descendante.  Si nous devons ouvrir les fichiers différemment, nous les ouvrirons différemment.  Mais si vous souhaitez laisser le code existant, vous avez besoin de quelque chose de plus, par exemple, une machine virtuelle à part entière pour pouvoir y exécuter le code.  Cela soulève la question - devrions-nous utiliser des machines virtuelles pour le sandbox <b>Capsicum</b> ? <br><br>  <b>Public:</b> dans ce cas, un dépassement de mémoire est possible. <br><br>  <b>Professeur:</b> oui, ça l'est.  Mais que faire si nous ne nous soucions pas de la mémoire?  Les machines virtuelles sont donc probablement très bonnes et n'utilisent pas beaucoup de mémoire.  Alors, pour quelle autre raison ne devrions-nous pas utiliser <b>VM</b> dans <b>Capsicum</b> ? <br><br>  <b>Public: Il est</b> difficile de contrôler l'activité du réseau. <br><br>  <b>Professeur:</b> C'est vrai!  Il est difficile de contrôler ce qui se passe sur le réseau car soit vous ne donnez pas accès à la machine virtuelle au réseau, soit vous vous connectez au réseau via le mode <b>NAT</b> , soit en utilisant <b>Aperçu</b> ou <b>VMWare</b> .  Mais alors, votre bac à sable peut accéder à tout Internet.  Par conséquent, vous devrez gérer le réseau plus en détail, peut-être en définissant des règles de pare-feu pour la machine virtuelle, etc.  Ce n'est pas trop bon. <br><br>  Mais que faire si vous ne vous souciez pas du réseau?  Supposons que vous ayez juste une sorte de vidéo. Que faire si vous traitez une vidéo simple ou analysez <b>tcpdump</b> .  Dans ce cas, vous démarrez simplement la machine virtuelle, elle commence à analyser vos paquets <b>tcpdump</b> et vous renvoie après la présentation que <b>tcpdump</b> veut écrire à l'utilisateur, car il n'y a pas d'E / S réseau réelles.  Alors, y a-t-il une autre raison? <br><br><img src="https://habrastorage.org/webt/sy/iu/rs/syiurso7-blsxdvzyhhbwpfia0w.jpeg"><br><br>  <b>Public:</b> car le surcoût de l'initialisation est toujours élevé. <br><br>  <b>Professeur:</b> oui, cela peut être la surcharge initiale du démarrage d'une machine virtuelle, ce qui réduit les performances.  C'est donc vrai. <br><br>  <b>Public:</b> Eh bien, vous voudrez peut-être toujours avoir des droits sur une base de données, etc. <br><br>  <b>Professeur:</b> oui.  Mais plus généralement, cela signifie que vous disposez de données réelles avec lesquelles vous travaillez et qu'il est vraiment difficile de les séparer.  Ainsi, les machines virtuelles sont en effet un mécanisme de partage beaucoup plus important, à cause duquel vous ne pouvez pas facilement partager des choses.  C'est donc bon pour les situations où vous avez un programme complètement isolé que vous souhaitez exécuter, et en même temps vous ne voulez pas partager de fichiers, répertoires, processus et les laisser fonctionner séparément. <br><br>  C'est donc super.  C'est probablement, en quelque sorte, un isolement plus fort que celui que <b>Capsicum</b> fournit, car il y a moins d'options pour que les choses tournent mal.  Cependant, cet isolement n'est pas applicable dans de nombreuses situations lorsque vous souhaitez utiliser <b>Capsicum</b> .  Parce que dans <b>Capsicum,</b> vous pouvez échanger des fichiers avec une grande précision, en utilisant les capacités du sandbox. <br><br>  <b>Prenons donc tcpdump</b> et voyons pourquoi il est difficile de l'isoler à l'aide du mécanisme <b>Unix</b> .  Si vous vous souvenez, dans <b>Capsicum, le</b> fonctionnement de <b>tcpdump</b> est qu'il ouvre des sockets spéciaux, puis exécute la logique d'analyse sur les paquets réseau, après quoi il est imprimé sur les terminaux des utilisateurs.  Alors, que faut-il pour un bac à sable <b>tcpdump</b> basé sur <b>Unix</b> ?  Vos privilèges sont-ils limités?  Le problème avec <b>Unix</b> est que la seule façon de vraiment changer les privilèges est de changer l'entrée dans la fonction de décision, qui décide si vous pouvez vraiment accéder à un objet ou non.  Et la seule chose que vous pouvez vraiment changer, ce sont les privilèges du processus.  Cela signifie que le processus pourra envoyer l' <b>UID à</b> quelqu'un d'autre. <br><br>  Ou vous pouvez modifier les autorisations pour divers objets qui se trouvent sur votre système.  En fait, vous pouvez utiliser ces deux solutions. <br><br>  Si vous souhaitez isoler <b>tcpdump</b> dans le bac à sable, vous devrez probablement sélectionner un ID utilisateur supplémentaire et y basculer pendant que vous travaillez.  Mais ce n'est pas un plan idéal, car vous n'allez pas exécuter plusieurs instances de <b>tcpdump</b> sous le même <b>ID</b> utilisateur.  Par conséquent, si je compromets une instance de <b>tcpdump</b> , cela ne signifie pas que je souhaite autoriser un attaquant à utiliser ce facteur pour contrôler d'autres instances de <b>tcpdump</b> s'exécutant sur ma machine.  C'est donc potentiellement une mauvaise décision d'utiliser <b>uid</b> dans ce cas. <br><br>  Un autre problème est que sous <b>Unix,</b> vous devez avoir des privilèges root pour changer l'ID utilisateur, les privilèges, le processus ou autre chose, ou les changer pour autre chose.  C'est aussi mauvais. <br><br>  Et un autre problème est que, quel que soit votre <b>ID</b> , des fichiers en libre accès peuvent exister.  Votre système peut donc avoir tout un groupe de fichiers lisibles ou inscriptibles, par exemple, un fichier de mot de passe.  En effet, quel que soit votre <b>identifiant</b> , le processus pourra toujours lire ce mot de passe.  Ce n'est donc pas très agréable non plus. <br><br>  Ainsi, afin d'organiser un sandbox sur <b>Unix</b> , vous devriez probablement faire les deux: modifier l' <b>UID</b> et examiner attentivement les autorisations pour tous les objets pour vous assurer que vous n'avez pas de fichiers ouverts non isolés sensibles à l'écrasement ou à la lecture par un pirate.  Je pense que ce faisant, vous obtenez un autre mécanisme que vous pouvez utiliser.  Si vous le soumettez à la fin, vous pouvez rencontrer des difficultés à partager des fichiers ou des répertoires de partage. <br><br>  Voyons maintenant comment <b>Capsicum</b> essaie de résoudre ce problème.  Ici, dès que nous entrons dans le mode "bac à sable", tout ne sera disponible qu'à travers les opportunités.  Par conséquent, si vous n'avez pas de <b>capacité</b> , vous ne pouvez tout simplement pas accéder à aucun objet. <br><br>  Ces gars dans l'article font un énorme pari sur l'espace de noms mondial.  Alors, quel est cet espace de noms mondial, et pourquoi sont-ils si inquiets à ce sujet? <br><br>  Leur système de fichiers lui-même est une sorte d'exemple brillant d'un espace de noms global.  Vous pouvez écrire une barre oblique et répertorier tous les fichiers que vous souhaitez derrière.  Par exemple, allez à quelqu'un dans le répertoire personnel, par exemple, <b>/ home / nickolai / ...</b> Pourquoi est-ce mauvais?  Pourquoi sont-ils contre l'espace de noms mondial dans <b>Capsicum</b> ?  Qu'en penses-tu? <br><br><img src="https://habrastorage.org/webt/3h/er/dr/3herdr4fh07qkewmu2rdz02f0tq.jpeg"><br><br>  <b>Public:</b> si vous n'avez pas les bonnes autorisations, alors lorsque vous utilisez l'autorité, vous pouvez avoir des ennuis. <br><br>  <b>Professeur:</b> oui.  Le problème est que c'est toujours <b>Unix</b> .  Ainsi, il existe toujours des autorisations de fichiers régulières.  Par conséquent, peut-être, si vous voulez vraiment isoler un processus dans le bac à sable, vous ne pourrez rien lire ni écrire dans le système.  Mais si vous parvenez à trouver un fichier inscriptible dans le répertoire personnel d'un utilisateur stupide, ce sera plutôt désagréable pour le client sandbox. <br><br>  Plus généralement, leur idée était de lister avec précision tous les objets du processus.  Parce que vous pouvez simplement répertorier toutes les fonctionnalités dans un tableau de descripteurs de fichiers ou n'importe où ailleurs où les fonctionnalités sont stockées pour vous.  Et c'est la seule chose que le processus peut toucher. <br><br>  Mais si vous avez accès à l'espace de noms global, cela est potentiellement impossible.  Parce que même si vous disposez d'un ensemble limité de fonctionnalités, vous pouvez toujours commencer la ligne avec une barre oblique et écrire un nouveau fichier, et vous ne connaîtrez jamais l'ensemble des opérations ou des objets auxquels ce processus peut accéder. <br><br>  C'est pourquoi ils s'inquiètent tellement de l'espace de noms global, car cela contredit leur objectif de contrôler précisément tout ce à quoi le processus sandbox devrait avoir accès.  De cette façon, ils ont essayé d'éliminer les espaces de noms globaux avec de nombreuses modifications du noyau dans <b>FreeBSD</b> .  Dans leur cas, le noyau devait s'assurer que toutes les opérations passent par certaines fonctionnalités, à savoir par le descripteur de fichier. <br><br>  Vérifions si nous avons vraiment besoin de modifications du noyau.  Et si on le faisait juste à la bibliothèque?  Après tout, nous implémentons <b>Capsicum</b> , qui possède déjà une bibliothèque.  Et tout ce que nous faisons est de modifier toutes ces fonctionnalités, telles que «ouvrir, lire, écrire» pour utiliser exclusivement les fonctionnalités de <b>capacité</b> .  Ensuite, toutes les opérations passeront par certaines fonctionnalités, les rechercher dans la table de fichiers, etc.  Est-ce que cela fonctionnera? <br><br><img src="https://habrastorage.org/webt/ik/r9/bi/ikr9biwkqpm5t4rhxywr38rp8cg.jpeg"><br><br>  <b>Public:</b> Vous pouvez toujours effectuer l' <b>appel</b> système <b>syscall</b> . <br><br>  <b>Professeur:</b> oui.  Le problème est qu'il y avait un ensemble d'appels système que le noyau accepte, et même si vous implémentez une bonne bibliothèque, cela n'empêchera pas la possibilité qu'un processus mauvais ou compromis fasse un appel système directement.  Par conséquent, vous devez en quelque sorte renforcer le noyau. <br><br>  Dans le compilateur, le modèle de menace n'est pas dans le processus de compilateur compromis et non dans du code arbitraire, mais dans la négligence du programmeur.  Donc, si le développeur du programme ne se trompe pas et fait la bonne chose, alors la bibliothèque sera probablement assez. <br><br>   ,     ,             ,       .       -  ,       . <br><br>             ?  —   ,    <b>cap_enter</b> .   ,    <b>cap_enter</b> ?  ,       ? <br><br>    ,      ,      .  ,    ,      ,     .   <b>cap_enter</b>      ,           <b>open ()</b> ,       <b>openat</b> . <br><br>  Unix-       ,   ,   <b>open</b>    ,   <b>openat</b> ,       ,      ,    —    : <b>openat (dirfd,“name)</b> .     <b>openat</b>    <b>«name»</b>   ,     . <br><br><img src="https://habrastorage.org/webt/_j/yq/qc/_jyqqcpijlilsu3uerxc8xevlai.jpeg"><br><br>  ,       <b>Capability</b>   <b>open</b> ,      ,   ,        .              .    -   ?   -,    ?  ,   –    .        ,        ? <br><br> <b>:</b> ,       . <br><br> <b>:</b> .   ,          ,     .   ,        ,      .             ,      .       ,   ,     .       -,     . <br><br>   ,       ,   ,   ,    ,     .  ,     ,    .. ,     ,             ,          .    ? <br><br>       .     ?  ,  <b>Unix</b>         <b>PID</b> .  ,    <b>kill (25)</b>    <b>PID = 25</b> .     ,    .     <b>Capsicum</b> ?     ? <br><br> <b>:</b>    . <br><br> <b>:</b> . -,  . ,   <b>Unix</b>   ,  .  ,       <b>PID</b> ,    ,       <b>fork</b> ,   <b>pdfork</b> ,  «  ».     ,            -   . <br><br>     .      ,    .   ,        -   : «    «»  ,      ,   ,     ,   ».          .  ,     ,     -  . <br><br>       , ,    ,   .      ,     .      ,    ,              . <br><br><img src="https://habrastorage.org/webt/nt/rj/8q/ntrj8qi_6_4kplegcl_lao2jyig.jpeg"><br><br>    .     ,        «-»   .    ,       <b>openat</b>   ,      «-». ,               «-»,       . <br><br>     ?         ,    «-»   ? <br><br> <b>:</b>    ,       ,      .     ,      <b>Capability</b>        . <br><br> <b>:</b> ,  . <br><br> <b>:</b>   ,   ,     -    … <br><br> <b>:</b>   . <br><br> <b>:</b>      -  . <br><br> <b>:</b> ,           .     «-»    ?  ,    <b>openat</b>  -        <b>b/c/../..</b> ? <br><br>  ,    , ?      - ,       .  , ,  ,    <b>openat (d, “b/c/../..)</b>  <b>«c»</b>    ,   -    . <br><br><img src="https://habrastorage.org/webt/_l/hx/r5/_lhxr55o7-crnf5egjmgkgikhao.jpeg"><br><br>   .   ,        ,            ,      .            «-»,      .  ,          ,         . ,    ,      .   ,     <b>UID</b>    - ? <br><br> <b>:</b>      ,    . <br><br> <b>:</b> ,     . ,  ,   «» <b>UID</b> ?    :    <b>cap_enter</b>    <b>UID</b>  .    ,   .        ?     ? <br><br> <b>:</b> , <b>UID</b>     ,  , , , ,   - . <br><br> <b>:</b>  ,  .      «» <b>UID</b> . ,        ,      <b>UID</b> . ,         ,     ,   .   <b>UID</b>       . <br><br> 54:14  <br><br> : <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cours MIT "Sécurité des systèmes informatiques".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> 6: «»,  3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/MlWK2YbZRZ8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . <br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matériaux plus intéressants?  Soutenez-nous en passant une commande ou en le recommandant à vos amis, une <b>réduction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vérité sur VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbps à partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'à 24 cœurs et jusqu'à 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV à partir de 249 $</a> aux Pays-Bas et aux États-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">création d'un bâtiment d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coûtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418219/">https://habr.com/ru/post/fr418219/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418209/index.html">Nous recevons des données des compteurs Mercury 203.2T sur RS-485</a></li>
<li><a href="../fr418211/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 4: «Partager les privilèges», partie 3</a></li>
<li><a href="../fr418213/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 5: «D'où viennent les systèmes de sécurité», partie 1</a></li>
<li><a href="../fr418215/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 5: «D'où viennent les erreurs du système de sécurité», partie 2</a></li>
<li><a href="../fr418217/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 6: «Opportunités», partie 1</a></li>
<li><a href="../fr418221/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 6: «Opportunités», partie 3</a></li>
<li><a href="../fr418223/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 7: Le Sandbox Native Client, Partie 1</a></li>
<li><a href="../fr418225/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 7: Native Client Sandbox Part 2</a></li>
<li><a href="../fr418227/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 7: Le Sandbox Native Client, Partie 3</a></li>
<li><a href="../fr418229/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 8: Modèle de sécurité réseau, partie 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>