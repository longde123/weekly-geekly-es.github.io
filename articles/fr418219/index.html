<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÖüèª üçà ü§ôüèø Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 6: Opportunit√©s, partie 2 üåû üÜë üï∫üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "S√©curit√© des syst√®mes informatiques." Nikolai Zeldovich, James Mickens. 2014 ann√©e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 6: Opportunit√©s, partie 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418219/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "S√©curit√© des syst√®mes informatiques."  Nikolai Zeldovich, James Mickens.  2014 ann√©e </h3><br>  Computer Systems Security est un cours sur le d√©veloppement et la mise en ≈ìuvre de syst√®mes informatiques s√©curis√©s.  Les conf√©rences couvrent les mod√®les de menace, les attaques qui compromettent la s√©curit√© et les techniques de s√©curit√© bas√©es sur des travaux scientifiques r√©cents.  Les sujets incluent la s√©curit√© du syst√®me d'exploitation (OS), les fonctionnalit√©s, la gestion du flux d'informations, la s√©curit√© des langues, les protocoles r√©seau, la s√©curit√© mat√©rielle et la s√©curit√© des applications Web. <br><br>  Cours 1: ¬´Introduction: mod√®les de menace¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 2: ¬´Contr√¥le des attaques de pirates¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 3: ¬´D√©bordements de tampon: exploits et protection¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 4: ¬´S√©paration des privil√®ges¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 5: ¬´D'o√π viennent les syst√®mes de s√©curit√©?¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  Conf√©rence 6: ¬´Opportunit√©s¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <a name="habracut"></a><br><br>  <b>Public:</b> peut-on conclure que chaque opportunit√© a un processus? <br><br>  <b>Professeur: J'en</b> doute.  Vous pouvez avoir autant de processus que vous le souhaitez, pour une possibilit√©, plusieurs processus peuvent exister.  Autrement dit, vous n'avez pas n√©cessairement besoin d'un processus distinct pour chaque opportunit√©.  Parce qu'il existe un processus <b>fort1</b> qui peut ouvrir de nombreux fichiers et transmettre de nombreuses fonctionnalit√©s au composant privil√©gi√© de <b>fort</b> . <br><br><img src="https://habrastorage.org/webt/ba/x4/pr/bax4pr8nb9rufhd5_f24v9imtdi.jpeg"><br><br>  La raison pour laquelle vous pensez avoir besoin d'un processus distinct pour chaque opportunit√© que nous traitons concerne cette √©trange interaction entre les capacit√©s et les privil√®ges externes. <br><br>  Parce que <b>fort1</b> a un privil√®ge externe.  Et ce que nous faisons, c'est essentiellement transformer ce privil√®ge externe en <b>capacit√©</b> dans ce processus <b>fort1</b> .  Donc, si vous disposez de plusieurs types de privil√®ges externes ou de plusieurs privil√®ges diff√©rents que vous souhaitez utiliser avec prudence, vous souhaiterez probablement un processus distinct dot√© de ce privil√®ge.  Et chaque fois que vous souhaitez utiliser un ensemble sp√©cifique de privil√®ges, vous demanderez au processus appropri√© d'effectuer la s√©paration, et si cela r√©ussit, vous demanderez au processus de vous renvoyer la <b>capacit√©</b> . <br><br>  En fait, il y avait une telle conception du syst√®me d'exploitation qui √©tait compl√®tement bas√©e sur les capacit√©s et n'avait aucun privil√®ge externe.  Et c'est cool, mais pas tr√®s pratique pour une utilisation dans un vrai syst√®me.  Il s'av√®re qu'en r√©alit√© vous ne voulez pas tant de privil√®ges externes que d'opportunit√©s pour nommer un objet et parler de cet objet √† quelqu'un sans transf√©rer les droits sur cet objet sans faute. <br><br>  Je ne sais peut-√™tre pas quels privil√®ges vous pouvez avoir √† l'√©gard d'un document g√©n√©ral, mais je tiens √† vous informer que nous avons ce document g√©n√©ral.  Si vous pouvez le lire, lisez-le.  Si vous l'√©crivez, bien, √©crivez.  Mais je ne veux pas lui c√©der de droits.  Je veux juste vous dire: "H√©, cette chose, va l'essayer!"  C'est donc un inconv√©nient dans le monde des opportunit√©s, car cela vous oblige vraiment √† ne jamais parler d'objets sans transf√©rer les droits sur cet objet. <br><br>  Par cons√©quent, il est important de le savoir et d'utiliser cette fonctionnalit√© dans certaines parties du syst√®me, mais de ne pas se fier √† cela pour √™tre la solution √† la s√©curit√© du syst√®me. <br><br><img src="https://habrastorage.org/webt/iu/v8/sg/iuv8sgqyettpxg1oaf1jcuvs-e8.jpeg"><br><br>  <b>Public:</b> supposons que le processus poss√®de les capacit√©s que lui conf√®re un autre processus, mais il s'av√®re qu'il poss√®de d√©j√† de grandes capacit√©s par rapport √† un objet.  Un processus peut-il les comparer pour s'assurer qu'ils touchent le m√™me objet?  Ou utilisera-t-il les grandes opportunit√©s? <br><br>  <b>Professeur:</b> le fait est que le processus n'utilise pas les capacit√©s de mani√®re implicite, c'est donc une propri√©t√© tr√®s utile des capacit√©s.  Vous devez absolument indiquer laquelle des options vous utilisez.  Alors pensez-y en termes de descripteur de fichier.  Supposons que je vous donne un descripteur de fichier ouvert pour un fichier et qu'il soit en lecture seule.  Ensuite, quelqu'un d'autre vous donne une autre opportunit√© pour d'autres fichiers, qui peuvent inclure ce fichier.  Et une nouvelle fonctionnalit√© vous permet de lire et d'√©crire dans des fichiers. <br><br>  Dans ce cas, si vous essayez d'√©crire dans le premier fichier, vous r√©ussirez sans aucun doute, car un descripteur de fichier suppl√©mentaire lui sera ouvert, ce qui permet non seulement la lecture mais aussi l'√©criture.  C'est donc une sorte de truc cool quand vous n'avez pas besoin de privil√®ges externes suppl√©mentaires.  Vous avez simplement toutes ces possibilit√©s, car les gens ont en fait construit de telles biblioth√®ques et, en principe, ils g√®rent vos capacit√©s pour vous.  Ils les r√©cup√®rent en quelque sorte.  Et lorsqu'ils tentent d'effectuer une op√©ration, ils recherchent des opportunit√©s et trouvent celles qui la font fonctionner. <br><br>  Cela vous ram√®ne au contr√¥le externe de l' <b>autorit√© ambiante</b> que vous tentiez d'√©viter.  Une caract√©ristique positive des possibilit√©s est qu'il s'agit d'une conception logicielle qui vous simplifie la vie.  Ceci est rare dans les solutions de s√©curit√©.  Cette propri√©t√© vous permet d'√©crire plus facilement du code qui pointe vers les privil√®ges que vous souhaitez utiliser du point de vue de la s√©curit√©.  Et c'est assez facile d'√©crire du code. <br>  Cependant, la <b>capacit√©</b> peut r√©soudre d'autres probl√®mes.  Ainsi, des probl√®mes de gestion des privil√®ges surviennent souvent lorsque vous devez ex√©cuter du code non approuv√©.  Parce que vous voulez vraiment contr√¥ler les privil√®ges que vous accordez, sinon il y a un risque d'utilisation abusive des privil√®ges que vous accordez.  Et c'est un point de vue l√©g√®rement diff√©rent √† partir duquel les auteurs de l'article sur <b>Capsicum</b> abordent les opportunit√©s.  Ils sont bien s√ªr conscients du probl√®me de l'autorit√© ext√©rieure, mais c'est un probl√®me l√©g√®rement diff√©rent que vous pouvez ou ne pouvez pas r√©soudre.  Mais fondamentalement, ils se soucient d'avoir une tr√®s grande application privil√©gi√©e, et ils craignent qu'il y ait des erreurs dans diff√©rentes parties du code source de cette application.  Par cons√©quent, ils souhaitent r√©duire les privil√®ges des diff√©rents composants de cette application. <br><br>  En ce sens, l'histoire est tr√®s similaire √† <b>OKWS</b> .  Donc, vous avez une grande application, vous la divisez en composants et restreignez les privil√®ges pour chaque composant.  Cela a certainement du sens dans <b>OKWS</b> .  Y a-t-il d'autres situations o√π vous pourriez √™tre pr√©occup√© par le partage des privil√®ges?  Je pense que dans leur article, ils d√©crivent des exemples que je devrais essayer d'ex√©cuter, par exemple, <b>tcpdump</b> et d'autres applications qui analysent les donn√©es du r√©seau.  Pourquoi sont-ils si pr√©occup√©s par les applications qui analysent les entr√©es r√©seau?  Que se passe-t-il dans <b>tcpdump</b> ?  Quelle est la raison de leur parano√Øa? <br><br>  <b>Public:</b> un attaquant peut contr√¥ler ce qui est envoy√© et ce qui est appel√© √† ex√©cuter, par exemple, des paquets. <br><br>  <b>Professeur:</b> oui, ils se soucient vraiment des attaques de ce type et de savoir si l'attaquant peut vraiment contr√¥ler les donn√©es d'entr√©e?  Parce que c'est assez probl√©matique si vous √©crivez du code <b>C</b> qui devrait g√©rer les structures de donn√©es.  De toute √©vidence, vous ferez beaucoup de manipulations de pointeurs en copiant des octets dans des tableaux qui allouent de la m√©moire.  En m√™me temps, il est facile de faire une erreur avec la gestion de la m√©moire, ce qui entra√Ænera des cons√©quences plut√¥t d√©sastreuses. <br><br>  C'est donc la raison pour laquelle ils ont d√©cid√© de distinguer le travail de leur protocole r√©seau et d'autres choses dans le bac √† sable. <br><br><img src="https://habrastorage.org/webt/qe/74/kp/qe74kpxuvojns1ezini63--mv90.jpeg"><br><br>  Votre navigateur est un autre exemple du monde r√©el o√π le partage de privil√®ges est n√©cessaire.  Vous voudrez probablement isoler votre plugin Flash, ou votre extension <b>Java</b> , ou autre chose.  Parce qu'ils repr√©sentent un large champ d'attaques qui sont utilis√©es de mani√®re assez agressive. <br><br>  Cela semble donc √™tre un plan intelligent.  Par exemple, si vous √©crivez un logiciel, vous voulez v√©rifier le comportement de ses composants dans le bac √† sable.  Plus g√©n√©ralement, cela fait r√©f√©rence √† ce que vous avez t√©l√©charg√© sur Internet et que vous avez l'intention d'ex√©cuter avec moins de privil√®ges.  Le style d'isolement offert par <b>Capsicum convient-il √† cela</b> ?  Je pourrais t√©l√©charger un √©conomiseur d'√©cran al√©atoire ou un jeu sur Internet.  Et je veux les ex√©cuter sur mon ordinateur, mais assurez-vous d'abord qu'ils ne ruinent pas tout ce que j'ai.  Pourriez-vous utiliser <b>Capsicum</b> pour cela? <br><br>  <b>Public:</b> vous pouvez √©crire un programme sandbox dans lequel vous utiliserez <b>Capsicum</b> . <br><br>  <b>Professeur: √†</b> droite.  Comment l'utiliseriez-vous?  Eh bien, vous devez simplement entrer en mode sandbox avec la <b>commande cap_enter</b> , puis ex√©cuter le programme.  Pensez-vous que cela fonctionnera?  Je pense qu'il y aura un probl√®me.  Il sera li√© au fait que si le programme ne s'attend pas √† ce qu'il soit isol√© par <b>Capsicum</b> , alors il peut essayer d'ouvrir la biblioth√®que partag√©e, mais il ne pourra pas le faire, car il ne pourra pas ouvrir quelque chose comme <b>/ lib / ...</b> , car il ne le fait pas autoris√© en mode <b>Capacit√©</b> . <br><br>  Par cons√©quent, ces m√©thodes sandbox doivent √™tre utilis√©es pour les choses pour lesquelles le d√©veloppeur a pr√©vu qu'elles peuvent √™tre ex√©cut√©es dans ce mode.  Il existe probablement d'autres m√©thodes sandbox qui peuvent √™tre utilis√©es pour du code non modifi√©, mais les exigences peuvent alors l√©g√®rement changer.  Par cons√©quent, les cr√©ateurs de <b>Capsicum</b> ne <b>sont</b> pas tr√®s pr√©occup√©s par la compatibilit√© descendante.  Si nous devons ouvrir les fichiers diff√©remment, nous les ouvrirons diff√©remment.  Mais si vous souhaitez laisser le code existant, vous avez besoin de quelque chose de plus, par exemple, une machine virtuelle √† part enti√®re pour pouvoir y ex√©cuter le code.  Cela soul√®ve la question - devrions-nous utiliser des machines virtuelles pour le sandbox <b>Capsicum</b> ? <br><br>  <b>Public:</b> dans ce cas, un d√©passement de m√©moire est possible. <br><br>  <b>Professeur:</b> oui, √ßa l'est.  Mais que faire si nous ne nous soucions pas de la m√©moire?  Les machines virtuelles sont donc probablement tr√®s bonnes et n'utilisent pas beaucoup de m√©moire.  Alors, pour quelle autre raison ne devrions-nous pas utiliser <b>VM</b> dans <b>Capsicum</b> ? <br><br>  <b>Public: Il est</b> difficile de contr√¥ler l'activit√© du r√©seau. <br><br>  <b>Professeur:</b> C'est vrai!  Il est difficile de contr√¥ler ce qui se passe sur le r√©seau car soit vous ne donnez pas acc√®s √† la machine virtuelle au r√©seau, soit vous vous connectez au r√©seau via le mode <b>NAT</b> , soit en utilisant <b>Aper√ßu</b> ou <b>VMWare</b> .  Mais alors, votre bac √† sable peut acc√©der √† tout Internet.  Par cons√©quent, vous devrez g√©rer le r√©seau plus en d√©tail, peut-√™tre en d√©finissant des r√®gles de pare-feu pour la machine virtuelle, etc.  Ce n'est pas trop bon. <br><br>  Mais que faire si vous ne vous souciez pas du r√©seau?  Supposons que vous ayez juste une sorte de vid√©o. Que faire si vous traitez une vid√©o simple ou analysez <b>tcpdump</b> .  Dans ce cas, vous d√©marrez simplement la machine virtuelle, elle commence √† analyser vos paquets <b>tcpdump</b> et vous renvoie apr√®s la pr√©sentation que <b>tcpdump</b> veut √©crire √† l'utilisateur, car il n'y a pas d'E / S r√©seau r√©elles.  Alors, y a-t-il une autre raison? <br><br><img src="https://habrastorage.org/webt/sy/iu/rs/syiurso7-blsxdvzyhhbwpfia0w.jpeg"><br><br>  <b>Public:</b> car le surco√ªt de l'initialisation est toujours √©lev√©. <br><br>  <b>Professeur:</b> oui, cela peut √™tre la surcharge initiale du d√©marrage d'une machine virtuelle, ce qui r√©duit les performances.  C'est donc vrai. <br><br>  <b>Public:</b> Eh bien, vous voudrez peut-√™tre toujours avoir des droits sur une base de donn√©es, etc. <br><br>  <b>Professeur:</b> oui.  Mais plus g√©n√©ralement, cela signifie que vous disposez de donn√©es r√©elles avec lesquelles vous travaillez et qu'il est vraiment difficile de les s√©parer.  Ainsi, les machines virtuelles sont en effet un m√©canisme de partage beaucoup plus important, √† cause duquel vous ne pouvez pas facilement partager des choses.  C'est donc bon pour les situations o√π vous avez un programme compl√®tement isol√© que vous souhaitez ex√©cuter, et en m√™me temps vous ne voulez pas partager de fichiers, r√©pertoires, processus et les laisser fonctionner s√©par√©ment. <br><br>  C'est donc super.  C'est probablement, en quelque sorte, un isolement plus fort que celui que <b>Capsicum</b> fournit, car il y a moins d'options pour que les choses tournent mal.  Cependant, cet isolement n'est pas applicable dans de nombreuses situations lorsque vous souhaitez utiliser <b>Capsicum</b> .  Parce que dans <b>Capsicum,</b> vous pouvez √©changer des fichiers avec une grande pr√©cision, en utilisant les capacit√©s du sandbox. <br><br>  <b>Prenons donc tcpdump</b> et voyons pourquoi il est difficile de l'isoler √† l'aide du m√©canisme <b>Unix</b> .  Si vous vous souvenez, dans <b>Capsicum, le</b> fonctionnement de <b>tcpdump</b> est qu'il ouvre des sockets sp√©ciaux, puis ex√©cute la logique d'analyse sur les paquets r√©seau, apr√®s quoi il est imprim√© sur les terminaux des utilisateurs.  Alors, que faut-il pour un bac √† sable <b>tcpdump</b> bas√© sur <b>Unix</b> ?  Vos privil√®ges sont-ils limit√©s?  Le probl√®me avec <b>Unix</b> est que la seule fa√ßon de vraiment changer les privil√®ges est de changer l'entr√©e dans la fonction de d√©cision, qui d√©cide si vous pouvez vraiment acc√©der √† un objet ou non.  Et la seule chose que vous pouvez vraiment changer, ce sont les privil√®ges du processus.  Cela signifie que le processus pourra envoyer l' <b>UID √†</b> quelqu'un d'autre. <br><br>  Ou vous pouvez modifier les autorisations pour divers objets qui se trouvent sur votre syst√®me.  En fait, vous pouvez utiliser ces deux solutions. <br><br>  Si vous souhaitez isoler <b>tcpdump</b> dans le bac √† sable, vous devrez probablement s√©lectionner un ID utilisateur suppl√©mentaire et y basculer pendant que vous travaillez.  Mais ce n'est pas un plan id√©al, car vous n'allez pas ex√©cuter plusieurs instances de <b>tcpdump</b> sous le m√™me <b>ID</b> utilisateur.  Par cons√©quent, si je compromets une instance de <b>tcpdump</b> , cela ne signifie pas que je souhaite autoriser un attaquant √† utiliser ce facteur pour contr√¥ler d'autres instances de <b>tcpdump</b> s'ex√©cutant sur ma machine.  C'est donc potentiellement une mauvaise d√©cision d'utiliser <b>uid</b> dans ce cas. <br><br>  Un autre probl√®me est que sous <b>Unix,</b> vous devez avoir des privil√®ges root pour changer l'ID utilisateur, les privil√®ges, le processus ou autre chose, ou les changer pour autre chose.  C'est aussi mauvais. <br><br>  Et un autre probl√®me est que, quel que soit votre <b>ID</b> , des fichiers en libre acc√®s peuvent exister.  Votre syst√®me peut donc avoir tout un groupe de fichiers lisibles ou inscriptibles, par exemple, un fichier de mot de passe.  En effet, quel que soit votre <b>identifiant</b> , le processus pourra toujours lire ce mot de passe.  Ce n'est donc pas tr√®s agr√©able non plus. <br><br>  Ainsi, afin d'organiser un sandbox sur <b>Unix</b> , vous devriez probablement faire les deux: modifier l' <b>UID</b> et examiner attentivement les autorisations pour tous les objets pour vous assurer que vous n'avez pas de fichiers ouverts non isol√©s sensibles √† l'√©crasement ou √† la lecture par un pirate.  Je pense que ce faisant, vous obtenez un autre m√©canisme que vous pouvez utiliser.  Si vous le soumettez √† la fin, vous pouvez rencontrer des difficult√©s √† partager des fichiers ou des r√©pertoires de partage. <br><br>  Voyons maintenant comment <b>Capsicum</b> essaie de r√©soudre ce probl√®me.  Ici, d√®s que nous entrons dans le mode "bac √† sable", tout ne sera disponible qu'√† travers les opportunit√©s.  Par cons√©quent, si vous n'avez pas de <b>capacit√©</b> , vous ne pouvez tout simplement pas acc√©der √† aucun objet. <br><br>  Ces gars dans l'article font un √©norme pari sur l'espace de noms mondial.  Alors, quel est cet espace de noms mondial, et pourquoi sont-ils si inquiets √† ce sujet? <br><br>  Leur syst√®me de fichiers lui-m√™me est une sorte d'exemple brillant d'un espace de noms global.  Vous pouvez √©crire une barre oblique et r√©pertorier tous les fichiers que vous souhaitez derri√®re.  Par exemple, allez √† quelqu'un dans le r√©pertoire personnel, par exemple, <b>/ home / nickolai / ...</b> Pourquoi est-ce mauvais?  Pourquoi sont-ils contre l'espace de noms mondial dans <b>Capsicum</b> ?  Qu'en penses-tu? <br><br><img src="https://habrastorage.org/webt/3h/er/dr/3herdr4fh07qkewmu2rdz02f0tq.jpeg"><br><br>  <b>Public:</b> si vous n'avez pas les bonnes autorisations, alors lorsque vous utilisez l'autorit√©, vous pouvez avoir des ennuis. <br><br>  <b>Professeur:</b> oui.  Le probl√®me est que c'est toujours <b>Unix</b> .  Ainsi, il existe toujours des autorisations de fichiers r√©guli√®res.  Par cons√©quent, peut-√™tre, si vous voulez vraiment isoler un processus dans le bac √† sable, vous ne pourrez rien lire ni √©crire dans le syst√®me.  Mais si vous parvenez √† trouver un fichier inscriptible dans le r√©pertoire personnel d'un utilisateur stupide, ce sera plut√¥t d√©sagr√©able pour le client sandbox. <br><br>  Plus g√©n√©ralement, leur id√©e √©tait de lister avec pr√©cision tous les objets du processus.  Parce que vous pouvez simplement r√©pertorier toutes les fonctionnalit√©s dans un tableau de descripteurs de fichiers ou n'importe o√π ailleurs o√π les fonctionnalit√©s sont stock√©es pour vous.  Et c'est la seule chose que le processus peut toucher. <br><br>  Mais si vous avez acc√®s √† l'espace de noms global, cela est potentiellement impossible.  Parce que m√™me si vous disposez d'un ensemble limit√© de fonctionnalit√©s, vous pouvez toujours commencer la ligne avec une barre oblique et √©crire un nouveau fichier, et vous ne conna√Ætrez jamais l'ensemble des op√©rations ou des objets auxquels ce processus peut acc√©der. <br><br>  C'est pourquoi ils s'inqui√®tent tellement de l'espace de noms global, car cela contredit leur objectif de contr√¥ler pr√©cis√©ment tout ce √† quoi le processus sandbox devrait avoir acc√®s.  De cette fa√ßon, ils ont essay√© d'√©liminer les espaces de noms globaux avec de nombreuses modifications du noyau dans <b>FreeBSD</b> .  Dans leur cas, le noyau devait s'assurer que toutes les op√©rations passent par certaines fonctionnalit√©s, √† savoir par le descripteur de fichier. <br><br>  V√©rifions si nous avons vraiment besoin de modifications du noyau.  Et si on le faisait juste √† la biblioth√®que?  Apr√®s tout, nous impl√©mentons <b>Capsicum</b> , qui poss√®de d√©j√† une biblioth√®que.  Et tout ce que nous faisons est de modifier toutes ces fonctionnalit√©s, telles que ¬´ouvrir, lire, √©crire¬ª pour utiliser exclusivement les fonctionnalit√©s de <b>capacit√©</b> .  Ensuite, toutes les op√©rations passeront par certaines fonctionnalit√©s, les rechercher dans la table de fichiers, etc.  Est-ce que cela fonctionnera? <br><br><img src="https://habrastorage.org/webt/ik/r9/bi/ikr9biwkqpm5t4rhxywr38rp8cg.jpeg"><br><br>  <b>Public:</b> Vous pouvez toujours effectuer l' <b>appel</b> syst√®me <b>syscall</b> . <br><br>  <b>Professeur:</b> oui.  Le probl√®me est qu'il y avait un ensemble d'appels syst√®me que le noyau accepte, et m√™me si vous impl√©mentez une bonne biblioth√®que, cela n'emp√™chera pas la possibilit√© qu'un processus mauvais ou compromis fasse un appel syst√®me directement.  Par cons√©quent, vous devez en quelque sorte renforcer le noyau. <br><br>  Dans le compilateur, le mod√®le de menace n'est pas dans le processus de compilateur compromis et non dans du code arbitraire, mais dans la n√©gligence du programmeur.  Donc, si le d√©veloppeur du programme ne se trompe pas et fait la bonne chose, alors la biblioth√®que sera probablement assez. <br><br>   ,     ,             ,       .       -  ,       . <br><br>             ?  ‚Äî   ,    <b>cap_enter</b> .   ,    <b>cap_enter</b> ?  ,       ? <br><br>    ,      ,      .  ,    ,      ,     .   <b>cap_enter</b>      ,           <b>open ()</b> ,       <b>openat</b> . <br><br>  Unix-       ,   ,   <b>open</b>    ,   <b>openat</b> ,       ,      ,    ‚Äî    : <b>openat (dirfd,‚Äúname)</b> .     <b>openat</b>    <b>¬´name¬ª</b>   ,     . <br><br><img src="https://habrastorage.org/webt/_j/yq/qc/_jyqqcpijlilsu3uerxc8xevlai.jpeg"><br><br>  ,       <b>Capability</b>   <b>open</b> ,      ,   ,        .              .    -   ?   -,    ?  ,   ‚Äì    .        ,        ? <br><br> <b>:</b> ,       . <br><br> <b>:</b> .   ,          ,     .   ,        ,      .             ,      .       ,   ,     .       -,     . <br><br>   ,       ,   ,   ,    ,     .  ,     ,    .. ,     ,             ,          .    ? <br><br>       .     ?  ,  <b>Unix</b>         <b>PID</b> .  ,    <b>kill (25)</b>    <b>PID = 25</b> .     ,    .     <b>Capsicum</b> ?     ? <br><br> <b>:</b>    . <br><br> <b>:</b> . -,  . ,   <b>Unix</b>   ,  .  ,       <b>PID</b> ,    ,       <b>fork</b> ,   <b>pdfork</b> ,  ¬´  ¬ª.     ,            -   . <br><br>     .      ,    .   ,        -   : ¬´    ¬´¬ª  ,      ,   ,     ,   ¬ª.          .  ,     ,     -  . <br><br>       , ,    ,   .      ,     .      ,    ,              . <br><br><img src="https://habrastorage.org/webt/nt/rj/8q/ntrj8qi_6_4kplegcl_lao2jyig.jpeg"><br><br>    .     ,        ¬´-¬ª   .    ,       <b>openat</b>   ,      ¬´-¬ª. ,               ¬´-¬ª,       . <br><br>     ?         ,    ¬´-¬ª   ? <br><br> <b>:</b>    ,       ,      .     ,      <b>Capability</b>        . <br><br> <b>:</b> ,  . <br><br> <b>:</b>   ,   ,     -    ‚Ä¶ <br><br> <b>:</b>   . <br><br> <b>:</b>      -  . <br><br> <b>:</b> ,           .     ¬´-¬ª    ?  ,    <b>openat</b>  -        <b>b/c/../..</b> ? <br><br>  ,    , ?      - ,       .  , ,  ,    <b>openat (d, ‚Äúb/c/../..)</b>  <b>¬´c¬ª</b>    ,   -    . <br><br><img src="https://habrastorage.org/webt/_l/hx/r5/_lhxr55o7-crnf5egjmgkgikhao.jpeg"><br><br>   .   ,        ,            ,      .            ¬´-¬ª,      .  ,          ,         . ,    ,      .   ,     <b>UID</b>    - ? <br><br> <b>:</b>      ,    . <br><br> <b>:</b> ,     . ,  ,   ¬´¬ª <b>UID</b> ?    :    <b>cap_enter</b>    <b>UID</b>  .    ,   .        ?     ? <br><br> <b>:</b> , <b>UID</b>     ,  , , , ,   - . <br><br> <b>:</b>  ,  .      ¬´¬ª <b>UID</b> . ,        ,      <b>UID</b> . ,         ,     ,   .   <b>UID</b>       . <br><br> 54:14  <br><br> : <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cours MIT "S√©curit√© des syst√®mes informatiques".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> 6: ¬´¬ª,  3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/MlWK2YbZRZ8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . <br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?  Soutenez-nous en passant une commande ou en le recommandant √† vos amis, une <b>r√©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entr√©e de gamme que nous avons invent√©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la v√©rit√© sur VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbps √† partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV √† partir de 249 $</a> aux Pays-Bas et aux √âtats-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation d'un b√¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418219/">https://habr.com/ru/post/fr418219/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418209/index.html">Nous recevons des donn√©es des compteurs Mercury 203.2T sur RS-485</a></li>
<li><a href="../fr418211/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 4: ¬´Partager les privil√®ges¬ª, partie 3</a></li>
<li><a href="../fr418213/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 5: ¬´D'o√π viennent les syst√®mes de s√©curit√©¬ª, partie 1</a></li>
<li><a href="../fr418215/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 5: ¬´D'o√π viennent les erreurs du syst√®me de s√©curit√©¬ª, partie 2</a></li>
<li><a href="../fr418217/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 6: ¬´Opportunit√©s¬ª, partie 1</a></li>
<li><a href="../fr418221/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 6: ¬´Opportunit√©s¬ª, partie 3</a></li>
<li><a href="../fr418223/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 7: Le Sandbox Native Client, Partie 1</a></li>
<li><a href="../fr418225/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 7: Native Client Sandbox Part 2</a></li>
<li><a href="../fr418227/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 7: Le Sandbox Native Client, Partie 3</a></li>
<li><a href="../fr418229/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 8: Mod√®le de s√©curit√© r√©seau, partie 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>