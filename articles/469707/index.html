<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔢 👳 🍫 Configurar VSCode para trabajar con Scala 💪🏼 🍙 🔐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El artículo está dirigido a principiantes en programación en Scala, que yo mismo soy, y solo para aquellos que desean comenzar a escribir código de pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Configurar VSCode para trabajar con Scala</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469707/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ud/yh/jp/udyhjpz93gmj1miboy94qfnquug.png" width="500"></div><br>  El artículo está dirigido a principiantes en programación en Scala, que yo mismo soy, y solo para aquellos que desean comenzar a escribir código de programa en VSCode. <br><br>  Dio la casualidad de que la única guía para trabajar con Scala en Visial Studio Code fue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este video</a> en el canal DevInsideYou de YouTube.  Describe con gran detalle el proceso de instalación y configuración del entorno para VS Code y Sublime Text. <br><br>  Este artículo es una adaptación del video con algunas adiciones mías.  Puede ir a ver el video o continuar leyendo este artículo (o hacer ambas cosas), en cuyo caso, espero que le sea útil. <br><a name="habracut"></a><br><h1>  Instalación </h1><br>  Lo primero que debemos hacer es instalar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Scalu</a> , así como el sistema de compilación del proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SBT</a> , si aún no lo ha hecho. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vz/n9/nj/vzn9njbeqlfdbv3e9mcr9ud0awo.png" width="350"></div><br>  Para trabajar con Scala en VSCode hay una extensión de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Metales</a> . <br><br><h1>  Características de metales </h1><br><ul><li>  Diagnóstico preciso al guardar: <br><img src="https://habrastorage.org/webt/zp/3n/mz/zp3nmzpaqbpoqvav4hts5oah3gy.gif" width="600"></li><li>  Transición a la ventana emergente de ayuda de definición y desplazamiento: <br><img src="https://habrastorage.org/webt/4z/up/jg/4zupjgcbu3kin3bakjcxrwwwtbg.gif" width="600"></li><li>  Definición de tipo: <br><img src="https://habrastorage.org/webt/jt/pm/ps/jtpmpscatkzbrlzjtvxi6fhytnu.gif" width="600"></li><li>  Autocompletado al marcar: <br><img src="https://habrastorage.org/webt/u3/hc/fq/u3hcfqlsziwdk6s641y0kxxyzqs.gif" width="600"></li></ul><br>  Aquí solo se enumera la funcionalidad básica; siga la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentación</a> para obtener una descripción más detallada. <br><br>  El siguiente es un fragmento de un video DevInsideYou que muestra cómo interactúa Scala con los editores de código: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/97/ap/cq/97apcq9i-6gev3zqlxckyp3dexq.png" width="800"></div><br>  <strong>Protocolo de servidor de idiomas</strong> : utilizado entre la herramienta cliente (IDE) y los servidores que proporcionan funciones específicas de un lenguaje de programación (autocompletado, transición a la definición, etc.). <br><br>  <b>Metales</b> = <i>Meta</i> (de Scalameta) + <i>LS</i> (de Language Server - el protocolo estándar del servidor de idiomas). <br><br>  <b>LSP</b> reduce la complejidad de m-times-n al proporcionar un alto nivel de soporte para cualquier lenguaje de programación en cualquier editor, IDE o punto final del cliente, a la tarea más simple m-plus-n.  <i>LSP</i> fue creado por Microsoft para definir un lenguaje común que los analizadores de lenguaje de programación puedan hablar.  Microsoft Visual Studio Code admite este protocolo fuera de la caja. <br><br>  <i>LSP</i> permite que las comunidades de idiomas se centren en un servidor de idiomas de alto rendimiento, que puede proporcionar compleción de código, información sobre herramientas, definición, búsqueda de enlaces y mucho más, mientras que los editores y las comunidades de clientes pueden centrarse en crear un único, intuitivo y de alto rendimiento. y una extensión idiomática que puede comunicarse con cualquier servidor de idiomas para proporcionar al instante un soporte de lenguaje profundo. <br><br><h1>  Inicializacion del proyecto </h1><br><h3>  1 camino </h3><br>  Inicialización a través del <b>archivo scala</b> .  Para hacer esto, abra la carpeta del proyecto y cree la siguiente estructura predeterminada: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ql/yb/dw/qlybdw7047puupann6liuluh_qk.png" width="200"></div><br>  Salida de muestra después del primer inicio de Metales: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wk/2g/u1/wk2gu1zh7hxxzc8hcnjhfnwomoq.png" width="800"></div><br><br><h3>  2 vías </h3><br>  La segunda forma implica el uso de <b>molino</b> .  Para hacer esto, cree el archivo build.sc en la carpeta del proyecto y ábralo. <br><br>  Salida de muestra después del primer inicio de Metales: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7i/wv/jw/7iwvjw8sfucsti6d4qf57ctdd44.png" width="800"></div><br><h3>  3 vías (final) </h3><br>  Inicialización con <b>SBT</b> .  Cree un archivo <b>build.sbt</b> en la carpeta del proyecto con el siguiente contenido: <br><br><pre><code class="scala hljs">name := <span class="hljs-string"><span class="hljs-string">"scala-vscode-example"</span></span> version := <span class="hljs-string"><span class="hljs-string">"0.1"</span></span> scalaVersion := <span class="hljs-string"><span class="hljs-string">"2.13.1"</span></span> triggeredMessage := <span class="hljs-type"><span class="hljs-type">Watched</span></span>.clearWhenTriggered autoStartServer := <span class="hljs-literal"><span class="hljs-literal">false</span></span> scalacOptions ++= <span class="hljs-type"><span class="hljs-type">Seq</span></span>( <span class="hljs-string"><span class="hljs-string">"-feature"</span></span>, <span class="hljs-string"><span class="hljs-string">"-deprecation"</span></span>, <span class="hljs-string"><span class="hljs-string">"-language:implicitConversions"</span></span>, <span class="hljs-string"><span class="hljs-string">"-language:higherKinds"</span></span> ) addCompilerPlugin(<span class="hljs-string"><span class="hljs-string">"org.typelevel"</span></span> %% <span class="hljs-string"><span class="hljs-string">"kind-projector"</span></span> % <span class="hljs-string"><span class="hljs-string">"0.10.3"</span></span>)</code> </pre> <br>  Salida de muestra después del primer inicio de Metales: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vs/eh/es/vsehesdbrw347yv5q7jysbo0jai.png" width="800"></div><br>  Cuando Metals detecta un espacio de trabajo sbt para el que no hay <b>project / build.properties</b> , aparece una notificación emergente que recomienda que actualice a 0.13.7: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1e/kv/ib/1ekvib0baws9ztdn_1qgn21_mhs.png" width="400"></div><br>  Recomiendan usar sbt versión 1.2.8.  Para cambiar la versión de sbt, realice los siguientes cambios en el <b>archivo project / build.properties</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/y9/x6/hk/y9x6hkkza3lkufdapkhrs1udn5m.png" width="200"></div><br>  Para verificar la versión de sbt, use el comando: <br><br><pre> <code class="bash hljs">$ sbt sbtVersion</code> </pre> <br>  Inicializamos el entorno de trabajo sbt en la carpeta del proyecto: <br><br><pre> <code class="bash hljs">$ sbt</code> </pre> <br><h1>  Proyecto de importación </h1><br>  Para importar el proyecto, haga clic en el botón <i>Importar compilación</i> en la notificación que aparece o ingrese el comando: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cm/oh/vn/cmohvnif2_ac0m9nyqbr0nwsjde.png" width="700"></div><br>  Después de realizar cambios en cualquier escala, el archivo de Metales lo compilará automáticamente: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/it/bu/tj/itbutjryxtuwvo3rwjj3ud6u_oc.png" width="400"></div><br><h2>  Doctor </h2><br>  Se utiliza para solucionar posibles problemas de configuración de compilación.  Para comenzar a usar: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cu/cv/wf/cucvwfxcxhfcg6gzfuznspsurly.png" width="700"></div><br>  Conclusión <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2_/_-/ce/2__-cekolux4pys9yms_lyulgig.png" width="700"></div><br><h1>  Bloop </h1><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bloop</a></b> es un servidor de compilación y una herramienta de CLI para Scala que funciona con SBT y tiene soporte experimental para otras herramientas de compilación como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Maven</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gradle</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mill</a> .  Si su espacio de trabajo contiene un directorio <b>.bloop</b> con archivos Bloop JSON, Metals se conectará automáticamente a él. <br><br>  <b>Beneficios de Bloop:</b> <br><br><ul><li>  Compila, prueba y ejecuta el código Scala lo más rápido posible.  La compilación se produce automáticamente cuando se cambia el código fuente, el lanzamiento y las pruebas del programa no requieren una nueva compilación; </li><li>  Se integra fácilmente con herramientas de compilación, aplicaciones de línea de comandos, editores y herramientas personalizadas; </li><li>  Comienza por separado del IDE, por lo que no depende de su finalización o reinicio; </li><li>  Acelera la apertura del proyecto, ya que Metals no necesita ejecutar el servidor incorporado por usted. </li></ul><br>  El siguiente fragmento del video "Happy Life With Scala Metals" muestra el proceso de creación de la aplicación: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/wv/lq/cgwvlqay_wnrorqtavwgrx-bae0.png" width="800"></div><br>  <u><b>Nota</b></u> : hay algunas imprecisiones en la figura.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gabriele Petronella los</a> señala en su comentario debajo del video: <br><blockquote>  <i>En la figura, las flechas BSP inferiores son técnicamente incorrectas.</i>  <i>Como usted (correctamente) señaló, si la herramienta de construcción habla BSP, puede integrarse directamente con metales sin pasar por Bloop.</i>  <i>Pasar de una herramienta de compilación a un Bloop es una forma de agregar integración BSP a la herramienta de compilación en sí, y es un paso especial que no utiliza BSP.</i>  <i>Más información se puede encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> .</i> </blockquote>  <i>Bloop se</i> integra con IDEs y editores de texto, proporcionando un ciclo de retroalimentación corto y diagnósticos confiables del compilador. <br><br>  <b><i>Bloop se</i> utiliza en metales de dos formas posibles:</b> <br><ol><li>  Si Bloop está instalado en su computadora, Metals simplemente se conectará a un servidor de compilación existente (recomendado); </li><li>  Si Bloop no está instalado, el servidor de Metals lo descargará y lo ejecutará en modo nativo. </li></ol><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SemanticDB</a></b> es un modelo de datos para información semántica, como caracteres y tipos, sobre programas en Scala y otros idiomas.  Después de compilar el proyecto, sbt-metals envía la información a la base de datos local semanticdb-scala. <br><br><h3>  Instalación de Bloop </h3><br>  Para comenzar, descargue la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">última versión</a> : <br><br><pre> <code class="bash hljs">$ curl -L https://github.com/scalacenter/bloop/releases/download/v1.3.2/install.py | python</code> </pre> <br>  A continuación, debe crear una copia del servicio bloop para el usuario actual: <br><br><pre> <code class="bash hljs">$ cp ~/.bloop/systemd/bloop.service ~/.config/systemd/user/</code> </pre> <br>  Además, para no escribir constantemente la ruta al script, puede copiar bloop en <b>/ usr / bin</b> : <br><br><pre> <code class="bash hljs">$ sudo cp /.bloop/bloop /usr/bin/</code> </pre> <br>  Reinicie el demonio systemctl: <br><br><pre> <code class="bash hljs">$ systemctl --user daemon-reload</code> </pre> <br>  Agregar un bloop al inicio: <br><br><pre> <code class="bash hljs">$ systemctl --user <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> bloop</code> </pre> <br>  Sin embargo, si no va a trabajar con Scala constantemente, no le recomiendo eliminar este servicio desde el inicio.  Puede deshabilitar la ejecución automática con el siguiente comando: <br><br><pre> <code class="bash hljs">$ systemctl --user <span class="hljs-built_in"><span class="hljs-built_in">disable</span></span> bloop</code> </pre> <br>  Running bloop: <br><br><pre> <code class="bash hljs">$ systemctl --user start bloop</code> </pre> <br>  Mostrar información sobre la conexión actual: <br><br><img src="https://habrastorage.org/webt/2d/op/u_/2dopu_ogqgc33prjjeccf7leylw.png" width="700"><br><br><h1>  Lanzamiento de la aplicación </h1><br>  Cuando se ejecuta el servicio bloop, puede ejecutar su programa compilado utilizando este comando en el directorio del proyecto: <br><br><pre> <code class="bash hljs">$ bloop run &lt;proj-name&gt;</code> </pre> <br>  También puede agregar una tecla de <b>acceso</b> rápido a <b>~ / .config / Code / User / keybindings.json</b> : <br><br><pre> <code class="json hljs"> {    <span class="hljs-attr"><span class="hljs-attr">"key"</span></span>: <span class="hljs-string"><span class="hljs-string">"meta+r"</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"command"</span></span>: <span class="hljs-string"><span class="hljs-string">"workbench.action.terminal.sendSequence"</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"args"</span></span>: {      <span class="hljs-attr"><span class="hljs-attr">"text"</span></span>: <span class="hljs-string"><span class="hljs-string">"bloop run ${workspaceFolderBasename}\u000D"</span></span>    } }</code> </pre><br>  Si no tiene un servicio bloop ejecutándose, puede iniciar la aplicación directamente a través de sbt, sin embargo, en este caso, la aplicación se volverá a compilar cada vez, lo que afectará el tiempo de inicio del programa: <br><br><pre> <code class="bash hljs">$ sbt run</code> </pre> <br><h1>  Datos de origen </h1><br>  Un pequeño caso de prueba de un proyecto scala se encuentra en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este repositorio</a> en github.  Si también mantendrá sus proyectos, asegúrese de agregar la siguiente lista de excepciones al archivo <b>.gitignore</b> : <br><br><pre> <code class="cmake hljs">*.class *.log <span class="hljs-keyword"><span class="hljs-keyword">project</span></span>/ <span class="hljs-keyword"><span class="hljs-keyword">target</span></span>/ .bloop/ .metals/</code> </pre></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/469707/">https://habr.com/ru/post/469707/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../469689/index.html">Ahorre tiempo al trabajar con la línea de comando</a></li>
<li><a href="../469691/index.html">Dónde escuchar sobre Apache Ignite y GridGain en octubre</a></li>
<li><a href="../469693/index.html">Cómo alimentar a millones de chinos en media hora</a></li>
<li><a href="../469697/index.html">El nacimiento de nuevas tecnologías en los procesos de negocio fabricados tradicionalmente.</a></li>
<li><a href="../469703/index.html">Avalonia regular</a></li>
<li><a href="../469717/index.html">Deja que la luz brille</a></li>
<li><a href="../469721/index.html">Dell OptiPlex 7070 Ultra: una computadora modular que convierte cualquier monitor en un monobloque</a></li>
<li><a href="../469723/index.html">Crear una habilidad con estado para Alice en las funciones sin servidor de Yandex.Cloud y Python</a></li>
<li><a href="../469725/index.html">Guía del sistema solar para autoestopistas</a></li>
<li><a href="../469731/index.html">Manejo de excepciones de ASP.NET con IRO.Mvc.MvcExceptionHandler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>