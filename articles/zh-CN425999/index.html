<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💅 🔎 🧕🏼 麻省理工学院的课程“计算机系统安全”。 第11课：Ur / Web编程语言，第2部分 🕔 👐🏼 🤩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="麻省理工学院。 讲座课程＃6.858。 “计算机系统的安全性。” Nikolai Zeldovich，James Mickens。 2014年 
 计算机系统安全是一门有关开发和实施安全计算机系统的课程。 讲座涵盖了威胁模型，危害安全性的攻击以及基于最新科学研究的安全技术。 主题包括操作系统（OS）...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>麻省理工学院的课程“计算机系统安全”。 第11课：Ur / Web编程语言，第2部分</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/425999/"><h3> 麻省理工学院。 讲座课程＃6.858。  “计算机系统的安全性。”  Nikolai Zeldovich，James Mickens。  2014年 </h3><br> 计算机系统安全是一门有关开发和实施安全计算机系统的课程。 讲座涵盖了威胁模型，危害安全性的攻击以及基于最新科学研究的安全技术。 主题包括操作系统（OS）安全性，功能，信息流管理，语言安全性，网络协议，硬件安全性和Web应用程序安全性。 <br><br> 第1课：“简介：威胁模型” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 第2课：“控制黑客攻击”， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 第3讲：“缓冲区溢出：漏洞利用和保护” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 讲座4：“共享特权” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 讲座5：“安全系统从何而来？” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2部分</a> <br> 讲座6：“机会” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 讲座7：“本地客户端沙箱” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 讲座8：“网络安全模型” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 讲座9：“ Web应用程序安全性” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 讲座10：“符号执行” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 第11课：“ Ur / Web编程语言” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <a name="habracut"></a><br><br> 稍后，我将告诉您有关虚假跨站点请求的信息。 我认为讲义解释了为什么在我们的案例中，crossite脚本不起作用。 原因是，每当您创建语法的“片段”时，该对象，树以及该树的不同部分都不只是字符串。 <br><br><img src="https://habrastorage.org/webt/ve/hh/rb/vehhrbj_e2ce4yi9op7j_slgja0.jpeg"><br><br> 您不能无意间将用户字符串转换为结构树，这不会自动发生，因为很难编写这样的转换器。 但是您可以尝试为Ur / Web写一个翻译器。 很快我将举一个例子，这将有助于减少您对此的担忧。 我想向您展示该语法实际上在编译器中变成了什么。 <br><br> 似乎我们可以在HTML周围加上双引号，这样我们才可以返回正常世界。 有人可能想知道为什么跳过双引号而不是放置XML如此重要吗？ <br><br> 您可以相信我，这是等效的代码。 这是一个内联函数标签，用于创建HTML文档的树节点。 接下来，我将表示CSS样式的参数放在此节点中。 实际上，这里什么都没有发生，因此有许多种不同的方式说“无”，它不需要任何属性。 <br><br> 接下来，我放置body标签，这是标准库中的另一件事。 所有标准标签都是库中的一流函数。 <br><br><img src="https://habrastorage.org/webt/yg/w6/e3/ygw6e3j_wcffkpt-lnrp0pjzvsg.jpeg"><br><br> 接下来，我们需要将文本“ Hello World”放在正文中，因此我们调用cdata函数，其中cdata是字符数据的XML单词或只是字符串常量，我们可以将文本放在此处。 这应该给我们与以前相同的结果。 让我们看看这是否有效。 <br><br> 现在，我将返回页面。 我们看到的和以前一样，因此与函数在开始时一样。 <br><br><img src="https://habrastorage.org/webt/d8/kj/5c/d8kj5caq5wynvitakfgozvx9zbg.jpeg"><br><br> 这不仅是生产线。 这会导致设计一系列操作，因此只有它们允许您创建有效的HTML，并且它们永远无法将行隐式解释为代码，而不仅仅是将内容放置在应有的页面上。 <br><br><img src="https://habrastorage.org/webt/t4/lz/ky/t4lzkym3pllpxtd46p3ydq9hxiw.jpeg"><br><br> 现在，我将尝试做一些不太复杂的事情，这可能是一个问题。 让我们决定我们真的很高兴看到这个世界，因此我们以粗体突出显示“ hello”一词并再次进行编译。 <br><br><img src="https://habrastorage.org/webt/i4/9w/wr/i49wwrvxwmjbvsdmabaux8vbpze.jpeg"><br><br> 您会看到页面上发生了什么-这个单词没有变粗体，因为编译器显示了如何解释文本而不是标记。 这是HTML语法的一种表示形式，该函数构建语法时无需内置常规的编码约定。 该功能以您想要的方式解释所有内容，而无需考虑您自己的任何事情。 <br><br> 因此，cdata实现执行通常称为转义或“转义”的操作。 但是程序员不必知道有逃避之类的事情。 您可以将其视为一组方便的函数，用于创建描述页面的对象树。 <br><br> 我听说您想查看此处生成的HTML。 好的，那将不是最令人兴奋的事情。 我将尝试在屏幕上放大它，但是它不适合一行。 <br><br><img src="https://habrastorage.org/webt/u1/6d/lm/u16dlmtcovtixg6zbgscm6t3eym.jpeg"><br><br>  <b>学生：</b>考虑到您正在使用XHTML，是否可以仅使用cdata字符数据的路径而不是手动进行处理？ <br><br>  <b>教授：</b>我想，但是我需要的XML比我需要的更多。 关于JavaScript URL，还有一个很好的问题。 如果我们允许JavaScript URL，则创建后门以在运行时将字符串自动解释为程序。 这会导致各种问题。 <br><br> 让我们尝试避免它。 首先，我将切换回简化版本，然后在体内添加几行。 让我们放入一个链接，尝试执行适当的操作。 在这里，我们为错误消息留出了空间。 <br><br><img src="https://habrastorage.org/webt/ce/qh/fh/ceqhfhp7dj49uaakv-uyc6pgdug.jpeg"><br><br> 接下来，运行编译器并查看其工作方式。 <br><br><img src="https://habrastorage.org/webt/le/yj/bd/leyjbd0ft_iuzl0sp09sul5mlfw.jpeg"><br><br> 无效的网址，然后是JavaScript条目和短语“通过祝福”或“通过祝福”。 函数中内置了Bless，它是解析URL的网守。 默认情况下，不允许使用URL，因此当然不允许使用此选项。 通常，编写自己的URL策略以创建代表JavaScript URL的值是一个坏主意。 因为那样的话，由于这些地址可能无效，因此将需要各种保证。 <br><br> 为了使它更清楚一点，让我将这段代码分解成一个单独的函数，该函数调用接受URL的链接器。 因此，URL是一种类型，而不是字符串。 这是表示URL的类型，该URL被您的应用程序的策略明确允许。 <br><br> 像在某些流行的HTML模板框架中一样，我使用花括号来指示在我们创建的HTML内从宿主语言中插入了一些代码。 所有这些都是通过静态检查类型的方式完成的。 因此系统将检查：“是的，这是URL所属的地方，它说它确实是URL，所以一切都很好。” <br><br><img src="https://habrastorage.org/webt/dk/k_/c1/dkk_c19amvl0mtc-cavdq5gyy3k.jpeg"><br><br> 然后，我可以这样说来明确安排bless调用：“让我们根据URL的“ blessing”结果在此处调用链接器函数。” 在那之后，我们应该得到和以前一样的错误信息。 <br><br><img src="https://habrastorage.org/webt/1w/vx/2v/1wvx2vipa9mnkzydjl-oxjheurk.jpeg"><br><br> 不幸的是，我无法为您运行此程序，等到失败为止，但是我可以说它肯定会失败，因为我故意犯了一个编译器错误。 该URL策略不会接受该URL。 <br><br> 如果我错过了这个祝福的呼叫，那么在编译时这将是一个更严重的错误，因为您拥有字符串和正确的URL，并且它们的类型不同。 <br><br><img src="https://habrastorage.org/webt/ew/8u/yd/ew8uydi-n7vvxhaofm09tuhuvqq.jpeg"><br><br> 让我们变得更有趣。 我将为此演示打开一个配置文件。 这很短，至少如果您查看任何Java Web应用程序框架。 他们拥有这些巨大的XML文件用于配置，因此我们的一切都变得更好。 <br><br><img src="https://habrastorage.org/webt/f2/0x/zn/f20xznx-xrcpolzz93wukdfq3o8.jpeg"><br><br> 我们可以添加一条规则，指出允许Wikipedia上的所有内容，然后将Wikipedia URL放在正文中。 <br><br><img src="https://habrastorage.org/webt/e4/wq/ia/e4wqiapjhdtiq4s354nmod5cwus.jpeg"><br><br> 现在转到页面，然后单击“请单击”。 <br><br><img src="https://habrastorage.org/webt/f1/mb/3t/f1mb3tsp09v-h6vrjm0rtjxgcku.jpeg"><br><br> 我们得到的是：找不到维基百科的地址。 <br><br><img src="https://habrastorage.org/webt/wl/qx/il/wlqxilbfs69vmxd77wtvj_m5e94.jpeg"><br><br> 因此，主要思想是拥有一个抽象类型的URL，就像您可以拥有一个哈希表的抽象类型一样，该哈希表对哈希表的外观进行编码，并防止代码进入哈希表数组。 我们可以对URL执行相同的操作。 使用此祝福功能，系统可确保此类型的每个值都在某个时候通过适当的检查。 <br><br> 例如，使用此策略，我们知道我们永远不会有JavaScript URL，因此您可以安全地获取URL的值并将其用作链接。 这不会破坏语言的基本抽象。 <br><br>  <b>学生：是否</b>可以通过将“纯” JavaScript插入正文字符串来使用它？ <br><br>  <b>教授：</b>是的，不是。 代替JavaScript，您可以嵌入执行某些任务的Ur / Web代码。 现在，我将键入命令： <br><br><pre><code class="hljs xml">return <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xml</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onload</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{alert</span></span></span><span class="hljs-tag"> “</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">LOADED</span></span></span><span class="hljs-tag">”}&gt;</span></span></code> </pre> <br> 您将看到发生了什么-口译员在屏幕上放置了一个窗口，上面写着“已加载”-“已加载”字样。 <br><br><img src="https://habrastorage.org/webt/hs/co/jm/hscojmoxytzkmr4qxk8touo4e34.jpeg"><br><br> 尝试将字符串形式的JavaScript代码解释为程序会是一场灾难。 您会看到，我们可以将代码放入您正在使用的相同编程语言中，但已经受这些花括号的限制了。 然后，它会自动以JavaScript编译以在客户端运行。 <br><br> 我注意到，较新版本的浏览器能够避免字符解释错误，但某些较旧的浏览器却能够使某些内容混淆。 无论如何，如果所有字符元素都进入文档，它们将被解释为UTF-8。 如果使用其他编码有任何问题，则此编码不应在此处应用。 <br><br>  <b>学生：</b>编译器检查字符串是否包含有效的URL。 但是，如果您在运行时计算字符串，那么bless是否会在运行时检查给定的字符串是否有效？ <br><br>  <b>教授：</b>让我们创建一个表格来测试此语句，并将其放在此处。 我们在URL文本框中输入URL，然后插入Submit Submit按钮。 <br><br><img src="https://habrastorage.org/webt/d_/aq/fp/d_aqfpi89gk6azs49odajmhmnz0.jpeg"><br><br> 当您单击它时，将通过为表单中的每个字段写入一个值来调用链接器函数。 在这种情况下，只有一个称为“ URL”的字段，因此链接器将处理包含URL作为字符串类型的条目。 然后，我们尝试对其应用祝福功能，看看它是否有效。 <br><br><img src="https://habrastorage.org/webt/ru/na/8z/runa8zxo9obi7hayqrvi_gzhecs.jpeg"><br><br> 在键入错误的URL类型时，您会看到一个错误消息示例，如果您不熟悉Haskell，这些事情将毫无意义。 我忘了在这里插入return函数。 至少现在它更像Java程序。 而且我也忘记了说现在是整页了。 因此，只有在body标签内部之前，我们才能使用a标签。 <br><br><img src="https://habrastorage.org/webt/-q/vp/oh/-qvpohawzytpmotyrlwk4y1oo7q.jpeg"><br><br> 现在运行编译器，转到我们的页面，单击“请单击”按钮，输入一些不完整的地址。 <br><br><img src="https://habrastorage.org/webt/f8/lc/of/f8lcofwmgurypdi_tekg0jifwgu.jpeg"><br><br> 然后，我们单击Submit Query（发送查询）-“ Send a request”（发送请求），并收到一条错误消息-该类型的地址未解析。 <br><br><img src="https://habrastorage.org/webt/ry/mu/u5/rymuu5ruqj2f01-1y4saidwc2bm.jpeg"><br><br> 如果我们输入下一个屏幕所示的正确URL，然后单击Submit Query，则不会出现错误消息。 <br><br><img src="https://habrastorage.org/webt/5a/fx/hy/5afxhy3lpksvux1vl88noj1uh7c.jpeg"><br><br> 我认为您的问题的答案很长，而且不太令人兴奋。 <br><br>  <b>学生：</b>除了禁止使用JavaScript外，URL还有其他更严格的条件吗？ <br>  <b>教授：</b>目前，更严格的限制只是常量和前缀。 但是您也可以创建自己的禁止规则，它们将按照您编写禁止规则的顺序工作。 <br><br>  <b>学生：</b>事实证明，如果您坚持禁止JavaScript，但在“ JavaScript”一词的中间插入换行符，则编译器可以对此进行解释... <br><br>  <b>教授：</b>是的，那太糟糕了。 这就是为什么坚持使用白名单方法而不是使用黑名单方法的原因。 您可能希望所有规则都以特定协议（例如HTTP）开头，并且只允许适合您批准的协议套件。 我建议这样做。 <br><br>  <b>学生：</b>对于许多站点，您可以允许用户交换链接，在这种情况下，您需要在所有地方允许链接。 <br><br>  <b>教授：</b>如果您希望用户共享JavaScript链接，或者我不知道Flash链接或此处允许的任何内容，则可以允许链接。 您会看到，您可以创建所有HTTP，HTTPS，URL的“白名单”，从而确保大多数站点的安全运行。 这种方法仅比仅允许特定URL弱一点。 但是至少您可以完全消除将字符串作为程序自动执行的可能性。 <br><br> 让我给您一个摘要示例，它是数据库中提供的一个简单聊天室系统的示例。 用户可以单击链接转到会议室，然后发送消息。 这是该方案的几个选项中的第一个。 <br><br><img src="https://habrastorage.org/webt/3y/vx/n-/3yvxn-vrddqytldmzo5qgms8pta.jpeg"><br><br> 首先，我会注意到我将重新编译它。 然后神奇地将所有已声明的数据库表添加到数据库中，我们可以开始使用该应用程序。 但是首先我们需要添加一些聊天室。 因此，让我们打开演示数据库的界面，然后在表室中插入值“ one”和“ two”。 <br><br><img src="https://habrastorage.org/webt/rg/yg/yh/rgygyhyminzap26oeymfrpzodis.jpeg"><br><br> 现在它们已经出现在这里了。 <br><br><img src="https://habrastorage.org/webt/73/o_/cs/73o_csz48d0mscpszk2xxbc_ozu.jpeg"><br><br> 现在，我们进入第一个聊天室，可以整天通过发送文本行（例如，第一行）来娱乐自己。 尝试发送HTML会更加有趣，并且会立即对其进行处理。 这是程序主要功能的一个示例。 <br><br><img src="https://habrastorage.org/webt/yg/z7/jv/ygz7jvrke7r5regxjxv0awozt-s.jpeg"><br><br> 再次，我们将快速研究它的工作原理，因此我们拥有这两个SQL表-表室和表消息，它们在编程语言的第一类中简单声明了。 我们给出每个表的图表。 然后，当我们尝试访问这些表时，编译器确保根据有希望的键入方案对它们进行访问。 <br><br><img src="https://habrastorage.org/webt/pn/kd/tq/pnkdtqy4u_xtusdwrpvxwv58tle.jpeg"><br><br> 因此，我们有一个房间表，其中每个房间都是一个记录，该记录由一个标识符ID（一个整数）和一个Title（一个字符串）组成。 这是我们仅创建记录的视图类型。 我刚刚在SQL控制台中创建了一些房间。 我们还会收到一条通知，通知每条消息都属于一个特定的房间，创建时间以及作为消息内容的文本。 <br> 现在让我快速跳转到主要功能。 <br><br><img src="https://habrastorage.org/webt/w9/p2/7m/w9p27msu5myieys9_dknkicarms.jpeg"><br><br> 我们运行一个SQL查询-您会看到Ur / Web中内置的SQL语法示例。 我不想通过标准库中的此扩展来进行函数调用。 这很冗长，足以让我想起以下事实：标准库具有调用函数的方法，这些方法是构建SQL查询的有效方法。 <br><br> 这些函数的类型使它们可以为您打印请求，而不仅仅是保证语法有效。 这段代码只是简单地遍历此查询的所有行，并为每行生成部分HTML代码。 <br><br> 特别是，我们将把查询结果放在“标题”字段上，并将其转换为带有大括号的表示法的HTML。 方括号还表示这不是真正的HTML，但请以标准方式为我进行转换。 因此，我们可以处理字符串和整数以及其他类型的所有数据。 <br><br>  <b>学生：</b>如果其中包含恶意HTML或其他内容，会被过滤掉吗？ <br><br>  <b>教授：</b>是的，会的。 在Ur / Web中，您可以将其视为构建一棵树。 这是代表某些文本的节点。 显然，文本无法执行任何操作。 <br><br>  <b>学生：</b>因此，如果此标头在用户的控制之下，并且有人与标题Alert进行了聊天，那不是JavaScript吗？ <br><br>  <b>教授：</b>不会自动将其解释为JavaScript，HTML或其他任何形式。 该程序将其视为纯文本。 <br><br> 因此，回到我们的屏幕图像。 我们有这个标题Title，让我们用标签框起来。 而且，我们使用link属性代替了href（通常的HTML链接方式），该属性是一种伪属性Ur / Web，它不是URL而是大多数Ur / Web表达式作为参数。 关键是，当您单击此链接时，将启动此表达式以创建应显示的新页面。 <br> 在这种情况下，我们将调用聊天功能，此功能在下一个屏幕上定义。 <br><br><img src="https://habrastorage.org/webt/-y/ig/jy/-yigjypz4hshhd_vij2eqzdp7po.jpeg"><br><br> 我不会详细介绍。 但是，我们还有其他一些使用各种标准库函数的SQL查询，它们以各种方式使用请求的结果。 <br><br> 我们生成此HTML页面，并说您正在使用这样的标题进行聊天，我们有一个表单，用户可以在其中输入文本。 这是我几分钟前用来演示程序工作方式的表格。 提交表单按钮具有此Add属性，其中包含say，这是Ur / Web函数的名称。 因此，当我们提交表单时，我们将调用此函数。 <br><br> 运行更多的SQL将新行插入到表中。 我们自动从聊天室ID跳到表单中的此处的文本字段，并且根据需要将其自动隐藏。 但是再说一次，在Ur / Web中，您无需考虑以这种方式“转义”该功能。 因为这只是构建树的语法，而不是字符串的语法。 因此，绝不会发生您无法从选择的语法解释方式中想到的奇怪事情。 <br><br> 因此，事实上，我们以图形GUI的形式拥有这种形式的小部件，并且这是一个文本字段，编译器得出结论，填写文本框形式产生的记录必须具有一个称为字符串类型的“文本”元素。 这种形式的编码和键入规则不是语言内置的内容，而是从Ur Express库中获取的，该库实际上控制着这些形式，确定了有效函数的类型。 <br> 如果您对该程序的这一部分没有更多的疑问，我将继续下一步。 我将使用一种方法来强制封装支持Ur / Web且很少支持其他语言的应用程序各个部分。 我要去这个房间。 我将采用一些定义，并将它们放入一个模块中，这些模块将其中一些封装为私有。 特别是，数据库表将是私有的，因此没有人能够直接访问它们。 <br><br> 您只能使用我们提供的一组方法来访问它们。 一种方法在事务内部运行，并创建具有可用聊天室的ID和标题字段的记录列表。 <br><br> 接下来，我们只是扩展此聊天操作。 我在这里所做的唯一一件事就是输入概念ID的名称-类型ID。 因此，我不仅仅是说ID是整数，而是说这是一种新类型。 <br><br><img src="https://habrastorage.org/webt/fr/sy/__/frsy__bkeyw4mwc6yf_d1wp2hss.jpeg"><br><br> 外界可以联系聊天的唯一方法是获取所有房间的列表，而外界可以使用的唯一方法是调用其中的聊天功能。 假设这是哈希表类中的某种抽象类型的哈希表，其中存储了详细信息，这些信息解释什么是ID以及如何在内部生成ID，这些ID对该模块是私有的，并且调用此模块的客户端代码不应使用它们。 <br><br> 现在，我将所有这些语法向下传递并将其放置在模块中，因此默认情况下，它不会暴露给其余代码。 接下来，我实现这种房间方法。 我们已经有机会组织聊天。 但是我们可以使用另一个标准库函数以更简单的方式实现房间，以当前形式解释请求。 <br> 让我们从房间列表中按名称排序选择所有内容。 像往常一样，此查询对我们来说是一种经过验证的数据类型。 然后系统确定：“好的，此表达式将生成与该模块的签名中声明的类型匹配的记录列表。” 因此，现在，在此模块之外，没有其他代码可以提及会议室表或消息表。 <br><br><img src="https://habrastorage.org/webt/r2/8e/72/r28e72dlrnyazx-qxx6r8cc9kdk.jpeg"><br><br> 因此，至少从本申请的观点来看，我们可以从中申请所需的不变性。 我们甚至可以将秘密隐藏在模块内部，这样，如果代码的任何其他部分可以获取秘密，就不会出现安全问题。 <br><br>  <b>学生：</b>其他一些代码也可以实现这种房间方法吗？ <br><br>  <b>教授：</b>那将是一个完全不同的表。 实际上，我们可以通过将这样的4行代码片段插入另一个模块来实现。 <br><br><img src="https://habrastorage.org/webt/uq/ud/lz/uqudlzms1a3nar8hpko4sngaguw.jpeg"><br><br> 然后，我们可以使用此表执行任何操作。 我将在30秒内编译它，然后我们会看到发生了什么。 但是实际上这是一个不同的表，就好像您具有相同的私有名称一样，但是用于两个不同的Java类。 <br><br> 因此，您假设在此模块内有一个称为room的抽象类型，其中包含ID标识符和Title标题。 这是不正确的。 聊天接受房间参数作为输入。 当我们调用聊天功能时，将通过URL进行调用。  ID和标题传递到调用该函数的URL表示之外。 我们只需要ID即可实现此功能。 因此，当我们调用函数时，实际上是在调用URL。 <br> 如果在通过URL调用聊天时将标头作为附加参数传递给用户，则在空间使用方面会很浪费，并且对用户而言是不礼貌的。 这有意义吗？ 让我们看一下这张幻灯片上的URL栏。 <br><br><img src="https://habrastorage.org/webt/_x/3r/ij/_x3rijim6yew7wwnimxvd98w7cy.jpeg"><br><br> 我们关注的频道的标识符会自动序列化到该行末的URL。 如果我们传输了包含ID和标题Title的记录，那么该标题也将被序列化，这至少有点不合逻辑。 <br><br>  54:10 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">麻省理工学院的课程“计算机系统安全”。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第11课：Ur / Web编程语言，第3部分</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XMEFdofERLI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 该课程的完整版本可<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在此处获得</a> 。 <br><br> 感谢您与我们在一起。 你喜欢我们的文章吗？ 想看更多有趣的资料吗？ 通过下订单或将其推荐给您的朋友来支持我们， <b>为我们为您发明的入门级服务器的独特模拟，为Habr用户</b>提供<b>30％的折扣：</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">关于VPS（KVM）E5-2650 v4（6核）的全部真相10GB DDR4 240GB SSD 1Gbps从$ 20还是如何划分服务器？</a>  （RAID1和RAID10提供选件，最多24个内核和最大40GB DDR4）。 <br><br>  <b>VPS（KVM）E5-2650 v4（6核）10GB DDR4 240GB SSD 1Gbps至12月免费，</b>在六个月内付款，您可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在此处</a>订购。 <br><br>  <b>戴尔R730xd便宜2倍？</b> 仅<b>在荷兰和美国，</b>我们有<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2台Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100电视（249美元起）</a> ！</b> 阅读有关<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">如何构建基础架构大厦的信息。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用价格为9000欧元的Dell R730xd E5-2650 v4服务器的上等课程？</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN425999/">https://habr.com/ru/post/zh-CN425999/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN425989/index.html">在Graveyard Keeper的幕后：如何实现图形效果</a></li>
<li><a href="../zh-CN425991/index.html">我们如何创建托管</a></li>
<li><a href="../zh-CN425993/index.html">如何弥合技术中的性别差距</a></li>
<li><a href="../zh-CN425995/index.html">可视化FHIR-医学IT标准</a></li>
<li><a href="../zh-CN425997/index.html">麻省理工学院的课程“计算机系统安全”。 第11课：Ur / Web编程语言，第1部分</a></li>
<li><a href="../zh-CN426001/index.html">麻省理工学院的课程“计算机系统安全”。 第11课：Ur / Web编程语言，第3部分</a></li>
<li><a href="../zh-CN426009/index.html">史诗般的失败抵抗力1或Fox未被发现。 为用户测试匿名性和安全性+ VPN</a></li>
<li><a href="../zh-CN426013/index.html">职业类固醇</a></li>
<li><a href="../zh-CN426015/index.html">使用锯切民用无人机进行该地区的专业大地航空摄影</a></li>
<li><a href="../zh-CN426017/index.html">如何减少动物实验次数</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>