<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙁 ⚗️ 👨🏾‍🍳 Mehr als konzentrische Schichten ✍🏿 🤳🏿 🥨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieser Artikel ist Teil der Chronik der Softwarearchitektur , einer Reihe von Artikeln zur Softwarearchitektur. In ihnen schreibe ich darüber, was ich...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mehr als konzentrische Schichten</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428431/"><img src="https://habrastorage.org/webt/lm/yh/jm/lmyhjmjqhejzhfwqvxvozhtjt3g.jpeg"><br><br>  <i>Dieser Artikel ist Teil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Chronik der Softwarearchitektur</a> , einer Reihe von Artikeln zur Softwarearchitektur.</i>  <i>In ihnen schreibe ich darüber, was ich über Softwarearchitektur gelernt habe, was ich darüber denke und wie ich Wissen benutze.</i>  <i>Der Inhalt dieses Artikels ist möglicherweise sinnvoller, wenn Sie die vorherigen Artikel in der Reihe lesen.</i> <br><br>  In einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">früheren Artikel der</a> Reihe habe ich eine Konzeptkarte veröffentlicht, die die Beziehungen zwischen Codetypen zeigt. <br><br>  Aber es schien mir immer, dass sich dort nicht alles sehr gut widerspiegelt, ich wusste einfach nicht, wie ich es besser machen sollte.  Es geht um einen gemeinsamen Kern. <br><br>  Darüber hinaus sind einige weitere Gedanken aufgetaucht, die ich in diesem kurzen Artikel skizzieren werde. <br><a name="habracut"></a><br>  In der Infografik aus dem letzten Artikel dieser Reihe, genau in der Mitte des Diagramms, sehen wir den gemeinsamen Kern.  Es scheint sich innerhalb der Domänenschicht und über den konischen Abschnitten zu befinden, bei denen es sich um begrenzte Kontexte handelt. <br><br> <a href=""><img src="https://habrastorage.org/webt/mm/07/bx/mm07bx1u2dxlgab0prkzllunvf8.png"></a> <br><br>  Trotz seiner Position meinte ich nicht, dass der gemeinsame Kern vom Rest des Codes abhängt oder dass der gemeinsame Kern eine weitere Schicht innerhalb der Domänenebene ist. <br><br><h1>  Was ist ein gemeinsamer Kern ?! </h1><br>  Der gemeinsame Kern, wie er von Eric Evans, dem <i>Vater von</i> DDD, definiert wurde, ist Code, den das Entwicklungsteam auf mehrere begrenzte Kontexte aufteilt: <br><br><blockquote>  [...] eine Teilmenge des Domain-Modells, das die beiden Teams gemeinsam verwendet haben.  Natürlich enthält der gemeinsame Kern zusammen mit dieser Teilmenge des Modells eine Teilmenge der Code- oder Datenbankarchitektur, die diesem Teil des Modells zugeordnet ist.  Dieses eindeutig allgemeine Material hat einen besonderen Status und sollte nicht ohne Rücksprache mit einem anderen Team geändert werden. <br><br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Common Kernel"</a> , DDD-Wiki von Ward Cunningham </blockquote><br>  Somit kann es sich um jede Art von Code handeln: Code auf Domänenebene, Code auf Anwendungsebene, Bibliotheken ... was auch immer. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/edc/a8f/2f5/edca8f2f5a6b1ff83123709b2b412e81.jpg"><br><br>  Im Kontext unserer Konzeptkarte präsentiere ich sie jedoch als Teilmenge, als einen bestimmten Codetyp.  In meiner Concept Map enthält der gemeinsame Kern Code für die Domänen- und Anwendungsebene, der in begrenzten Kontexten gemeinsam genutzt wird, sodass eine Kommunikation zwischen eingeschränkten Kontexten möglich ist. <br><br>  Dies bedeutet beispielsweise, dass Ereignisse in einem oder mehreren eingeschränkten Kontexten ausgelöst und in anderen eingeschränkten Kontexten abgehört werden.  Zusammen mit diesen Ereignissen müssen wir alle Datentypen gemeinsam nutzen, die von diesen Ereignissen verwendet werden, z. B. Entitätskennungen, Wertobjekte, Aufzählungen usw. Komplexe Objekte wie Entitäten sollten nicht direkt von Ereignissen verwendet werden, da sie schwierig sein können Serialisieren / Deserialisieren in / aus der Warteschlange, daher sollte der generische Code nicht weit verbreitet sein. <br><br>  Wenn wir ein mehrsprachiges System von Mikrodiensten haben, sollte der gemeinsame Kern in JSON, XML, YAML usw. beschreibend sein, damit alle Mikrodienste ihn verstehen können. <br><br>  Infolgedessen ist dieser gemeinsame Kern vollständig vom Rest der Codebasis und von den Komponenten getrennt.  Das ist großartig, denn dann sind die Komponenten, obwohl sie mit dem gemeinsamen Kern verbunden sind, voneinander getrennt.  Generischer Code wird explizit identifiziert und kann einfach in eine separate Bibliothek abgerufen werden. <br><br>  Es ist auch sehr praktisch, wenn wir uns entscheiden, einen der begrenzten Kontexte in einen vom Monolithen getrennten Mikrodienst zu extrahieren.  Wir wissen genau, was gemeinsam ist, und können den gemeinsamen Kern einfach in die Bibliothek extrahieren, die sowohl im Monolithen als auch im Mikroservice installiert wird. <br><br>  Zusammenfassend hängt der Anwendungskern in meiner Konzeptübersicht von einem gemeinsamen Kern ab, der Code aus der Domänen- und Anwendungsebene enthält, die von begrenzten Kontexten gemeinsam genutzt werden. <br><br><h1>  Wenn Sprache nicht genug ist ... </h1><br>  Wir haben also den Anwendungscode mit allen konzentrischen Schichten, und der Anwendungskern hängt vom gemeinsamen Kern ab, der sich unter all diesem Code befindet. <br><br>  Wir können auch sagen, dass all dieser Code von den verwendeten Programmiersprachen abhängt, aber es ist eine so offensichtliche Tatsache, dass wir dazu neigen, ihn vollständig zu ignorieren. <br><br>  Es stellt sich jedoch die Frage: "Was ist, wenn die Sprachkonstrukte nicht ausreichen ?!"  Nun, offensichtlich erstellen wir diese Sprachkonstrukte selbst und kompensieren so die Fehler der Sprache.  Ich habe jedoch wichtige Anschlussfragen: „Wie und wo kann die Existenz dieses Codes gerechtfertigt werden?  Wie kann man klar angeben, wann und wie man es benutzt? “ <br><br>  Was ich selbst gesehen und getan habe, war ein Paket namens Utils oder Commons, in dem sich dieser Code befindet.  Aber am Ende wird der gesamte Code dort abgelegt, und wir wissen nicht, wo wir ihn ablegen sollen!  Alle Arten von Code für unterschiedliche Zwecke und Benutzerfreundlichkeit (eingewickelt in einen direkt verwendeten Adapter ...) werden letztendlich dort abgelegt.  Das Paket hat keine konzeptionelle Bedeutung, keine Kohärenz, keine Kohärenz, keine Klarheit, viele Unklarheiten. <br><br>  Ich möchte die Utils and Commons-Pakete aufgeben! <br><br>  Alle Pakete müssen konzeptionellen Zusammenhalt haben!  Es sollte klar sein, wann und wie das Paket zu verwenden ist!  Keine Mehrdeutigkeit! <br><br>  Wenn eine Anwendung beispielsweise auf besondere Weise mit der Befehlszeilenschnittstelle interagiert, können Sie sie anstelle von 'Acme / Util / SpecialCli' im Namespace unter 'Acme / App / Infrastructure / Cli / SpecialCli' platzieren.  Dies besagt, dass dieses Paket mit der CLI verknüpft ist und Teil der Acme App-App-Infrastruktur ist.  Die Zugehörigkeit zur App-Infrastruktur besagt auch, dass der Anwendungskern einen Port enthält, dem dieses Paket entspricht. <br><br>  Wenn wir dieses Paket als etwas betrachten, das der Sprache selbst fehlt, können wir es alternativ in den entsprechenden Namespace einfügen, z. B. 'Acme / PhpExtension / SpecialCli'.  Dies zeigt, dass dieses Paket als Teil der Sprache selbst betrachtet werden sollte und daher sein Code wie jedes Sprachkonstrukt direkt in der Codebasis verwendet werden sollte.  Wenn ein anderes Unternehmen von diesem Paket abhängig ist, kann es natürlich sinnvoll sein, sich nicht direkt darauf zu verlassen, aber es ist sicherer, einen Port / Adapter zu erstellen, damit er es gegen etwas anderes austauschen kann.  Wenn wir das Paket besitzen, können wir es als Teil der Sprache betrachten, da das Risiko, es durch eine andere Alternative ersetzen zu müssen, nicht so groß ist.  Kompromisse sind immer das Richtige. <br><br>  Ein weiteres Beispiel dafür, was als Teil der Sprache betrachtet werden kann, sind die eindeutigen UUIDs in PHP.  Es ist durchaus möglich, sie sich außerhalb der Sprache vorzustellen, da jedes Mal, wenn es eine neue Version gibt, dies ein Albtraum mit Codeunterstützung ist. Dies ist jedoch ein sehr allgemeines Konzept, ein umfassendes und ausreichend konsistentes Konzept, um Teil der Sprache zu sein. <br><br>  Warum also nicht eine UUID-Implementierung erstellen und wie ein Teil von PHP selbst verwenden? Wie verwenden wir ein DateTime-Objekt ?!  Während wir die Implementierung kontrollieren, sehe ich keine Mängel. <br><br>  Was ist mit der Doctrine Query Language (DQL)?  (Doctrine ist der Hibernate-Port in PHP) Können wir DQL so betrachten, als wäre es SQL, Elasticsearch QL oder Mongo QL? <br><br><h1>  Fazit </h1><br>  Auf Makroebene sehe ich also vier grundlegende Codetypen, und ich denke, es ist wichtig, sie in der Organisation der Codebasis klar darzustellen, damit nicht viel Schmutz entsteht. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4c4/861/97e/4c486197ead0a3876b911e49627b8776.png"><br><br>  Für mich ist die unbestreitbare Wahrheit, dass <b>Architektur immer existiert, die einzige Frage ist, ob wir sie kontrollieren oder nicht ?!</b> <br><br>  Lassen Sie uns <b>den Code also</b> ganz oder teilweise <b>in Übereinstimmung mit der Architektur</b> auf einer Konzeptkarte organisieren - meiner oder einer anderen.  Die Hauptsache ist, den Code so zu organisieren, dass das Projekt durch die Struktur und Organisation des Codes explizit über seine Architektur berichtet. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de428431/">https://habr.com/ru/post/de428431/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de428417/index.html">Maschinelles Lernen in MatLab / Octave: Beispiele für Algorithmen, die von Formeln unterstützt werden</a></li>
<li><a href="../de428419/index.html">Ziehen und wischen Sie in RecyclerView. Teil 2: Drag & Drop-Controller, Raster und benutzerdefinierte Animationen</a></li>
<li><a href="../de428421/index.html">Flexibles System zum Testen und Sammeln von Programmmetriken am Beispiel der LLVM-Testsuite</a></li>
<li><a href="../de428423/index.html">Wie ein 34-Milliarden-Dollar-Deal zwischen IBM und Red Hat den IT-Markt verändern wird: Experten und Analysten</a></li>
<li><a href="../de428429/index.html">GOST R 34.10 elektronische Signatur von PDF-Dokumenten in der Office-Suite LibreOffice</a></li>
<li><a href="../de428433/index.html">Private Prüfungsanwälte</a></li>
<li><a href="../de428435/index.html">Was in PHP auf Russisch zu lesen?</a></li>
<li><a href="../de428437/index.html">Apple Wallet Was ist das und wie integrieren Sie Ihre Karte darin?</a></li>
<li><a href="../de428439/index.html">Ohne Ensemble</a></li>
<li><a href="../de428441/index.html">GitHub-Kauf abgeschlossen. Was wird als nächstes passieren?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>