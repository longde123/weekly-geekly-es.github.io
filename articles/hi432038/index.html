<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСйЁЯП╝тАНЁЯЪТ ЁЯТО ЁЯСиЁЯП┐тАНЁЯН│ рдкреНрд░рд╕рд┐рджреНрдзрд┐ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдпрд╛ рдПрдХ рд░реЛрдмреЛрдЯ рдФрд░ ... рджреВрд╕рд░реЛрдВ рдХреЛ рдХреИрд╕реЗ рдЙрддреНрддреЗрдЬрд┐рдд рдХрд░реЗрдВ ЁЯЦХЁЯП╜ тЮ░ ЁЯС│</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдПрдХ рдмрд╛рд░ рдХреА рдмрд╛рдд рд╣реИ, рдПрдХ рджреВрд░ рдХреЗ рд╕реНрдЯреЛрд░ рдХреЗ рд╕рд╛рдордиреЗ рдПрдХ рдЧрд░рдорд╛рдЧрд░рдо рдмрд╛рддрдЪреАрдд рд╣реБрдИред 


NB: - ?  
 GURU : - ┬л┬╗ . .    .   ,  ... 
 


 NB: - , ?  
 GURU : - google yande...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдкреНрд░рд╕рд┐рджреНрдзрд┐ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдпрд╛ рдПрдХ рд░реЛрдмреЛрдЯ рдФрд░ ... рджреВрд╕рд░реЛрдВ рдХреЛ рдХреИрд╕реЗ рдЙрддреНрддреЗрдЬрд┐рдд рдХрд░реЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432038/"><img src="https://habrastorage.org/webt/px/hq/po/pxhqpot6x9sqphxahh2fzhk4pz8.png"><br><br>  рдПрдХ рдмрд╛рд░ рдХреА рдмрд╛рдд рд╣реИ, рдПрдХ <strike>рджреВрд░ рдХреЗ рд╕реНрдЯреЛрд░ рдХреЗ рд╕рд╛рдордиреЗ</strike> рдПрдХ рдЧрд░рдорд╛рдЧрд░рдо рдмрд╛рддрдЪреАрдд рд╣реБрдИред <br><blockquote><pre><code class="plaintext hljs">NB: -         ?</code> </pre> <br> <code><b>GURU</b> : -    ┬л┬╗      . . <b> </b>   <b></b> .  <b> </b> ,         <b></b> ...</code> <br> <br><pre> <code class="plaintext hljs">NB: -      ,     ?</code> </pre> <br> <code><b>GURU</b> : -    <strong>google</strong>   <b>yandex</b>  ,    .    <b></b>       .    ,      .</code> <br> <br><pre> <code class="plaintext hljs">NB: -       ?</code> </pre> <br> <code><b>GURU</b> : - ?тАж   <strong></strong> ...</code> <br> </blockquote>  <b>рдПрдирдмреА</b> рдиреЗ рдкреВрдЫрдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛, рдЬрд╛рд╣рд┐рд░ рддреМрд░ рдкрд░ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЕрдзрд┐рдХ рдЕрдиреБрднрд╡реА рд╡рд╛рд░реНрддрд╛рдХрд╛рд░ рдХреЛ рдкрд░реЗрд╢рд╛рди рдХрд░рдиреЗ рдХреЗ рдбрд░ рд╕реЗред <br>  <b>рдЧреБрд░реВ</b> рдиреЗ рдЖрдБрдЦреЗрдВ рдореВрдБрдж рд▓реАрдВ, рдорд╛рдиреЛ рдЫрджреНрдо рд╡рд┐рд╖рдп рдХреА рдердХрд╛рд╡рдЯ рдкрд░ рдЬреЛрд░ рджреЗ рд░рд╣рд╛ рдерд╛ рдФрд░ рдЪреБрдк рдерд╛ ... <br><a name="habracut"></a><br>  рдмреЗрд╢рдХ, <strong>рдЧреБрд░реВ рдХреЛ</strong> рдкрддрд╛ рдерд╛ рдХрд┐ рдПрдХ рдЦреЛрдЬ рдХреНрд╡реЗрд░реА (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╢рдмреНрдж: рдкреНрд░реЙрдХреНрд╕реА) рд╡рд╛рдВрдЫрд┐рдд рдкрддреЗ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЬрд▓реНрдж рд╣реА <strong>рдПрдирдмреА</strong> рдХрд╛ рдиреЗрддреГрддреНрд╡ рдХрд░реЗрдЧреА: рдкреЛрд░реНрдЯ рд╕реВрдЪреАред  рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ рдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдмрд╛рдж, <strong>рдПрдирдмреА</strong> , рдмрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд▓реНрджреА рд╕реЗ рд╕рдордЭ рдЬрд╛рдПрдЧрд╛: <br><br><ul><li>  рдЙрд╕рдХреА рд╕реВрдЪреА рдХреЗ рд╕рднреА рдкрддреЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣реЗ рд╣реИрдВ; </li><li>  рд╕рднреА рдкрд░рджреЗ рдХреЗ рдкреАрдЫреЗ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдЕрдЪреНрдЫреЗ рдирд╣реАрдВ рд╣реИрдВ; </li><li>  "рдЪрд┐рдкрдХреЗ рд╣реБрдП" рдПрдХ рд╕рд╛рдЗрдЯ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдПрдХ рдкреНрд░реЙрдХреНрд╕реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рдХрд╛рд░реНрдп рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХрд╛рдлреА рдЗрдЪреНрдЫрд╛рд╢рдХреНрддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ; </li><li>  рдПрдХ "рдЧрд▓рдд" рдкреНрд░реЙрдХреНрд╕реА рд╕реНрдерд┐рддрд┐ рдХреЛ рдиреБрдХрд╕рд╛рди рдкрд╣реБрдВрдЪрд╛рдПрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐  рд╕рд╛рдЗрдЯ рдХреЛ рд▓рдкреЗрдЯ рдореЗрдВ рджрд┐рдЧреНрдЧрдЬреЛрдВ рдХреА рд▓рд┐рдкрд┐рдпреЛрдВ рд╕реЗ рд╕рдВрджреЗрд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </li></ul><hr><br>  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ рдХрд┐ рдХреИрд╕реЗ рд╕реБрдзрд╛рд░ (рдФрд░ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ) рдХрд╛ рдорддрд▓рдм рд╣реИ <br>  ( <strong>ZennoPoster</strong> , рдЖрджрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдорд╛рд▓рд┐рдХрд╛рдирд╛ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдмрд┐рдирд╛ ...) <br>  "рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрдкрдпреБрдХреНрдд" рдкреНрд░реЙрдХреНрд╕реА рдХреА рдПрдХ рд╕реВрдЪреА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЙрдкрдХрд░рдг рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░реЗрдВ рдФрд░ рдкреНрд░рдЪрд╛рд░рд┐рдд (рд╕реНрд╡рдЪрд╛рд▓рд┐рдд) рдпрд╛рддреНрд░рд╛рдУрдВ рдХреЛ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ <br>  <strong>Chrome рдмреНрд░рд╛рдЙрдЬрд╝рд░</strong> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рд╛рдЗрдЯред <br><br>  рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреЗ рд╣реБрдП, рдЖрдкрдХреЛ рдПрдХ рддреИрдпрд╛рд░ рдЙрдкрдХрд░рдг рдорд┐рд▓реЗрдЧрд╛ рдЬреЛ рдЖрдкрдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛: <br><br><ul><li>  "рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ -рдЯ (рдпрд╛рддреНрд░рд╛) рд▓рдХреНрд╖реНрдп рд╕рд╛рдЗрдЯ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ, рдмрд┐рдирд╛ рдХрд┐рд╕реА рдбрд░ рдХреЗ; </li><li>  рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдЕрдиреБрдХрд░рдг; </li><li>  рдПрдХ рдХрд╛рд░реНрдпрдХреНрд░рдо (рдкрд░рд┐рджреГрд╢реНрдп) рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рднреА рдпрд╛рддреНрд░рд╛рдУрдВ рдХреЛ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░реЗрдВ; </li><li>  рдЕрдЧреНрд░рд┐рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рдордп рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЙрдкрд░реЛрдХреНрдд рд╕рднреА рдХрд░рддреЗ рд╣реИрдВред </li></ul><br>  рдФрд░ рдпрджреНрдпрдкрд┐ рдореЗрд░реЗ рд╕рднреА рдХрд╛рдо (рдЕрдиреБрд╕рдВрдзрд╛рди рдХреЗ рд╕рд╛рде) рдореЗрдВ рдПрдХ рд╕рдкреНрддрд╛рд╣ рд▓рдЧрд╛, рдЖрдкрдХреЛ рдЗрд╕ рддрд░рд╣ рдХреЗ рдЙрдкрдХрд░рдг рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рджреЛ рджрд┐рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, <strong>рдХрдорд╛рдВрдб рд▓рд╛рдЗрди</strong> , <b>рдкреАрдПрдЪрдкреА</b> рдФрд░ <b>рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ</b> рдХрд╛ рдореВрд▓ рдЬреНрдЮрд╛рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><hr><br>  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЖрд░реЗрдЦ</a> рдиреАрдЪреЗ рд╕реНрдХреНрд░реЙрд▓ рдХрд░реЗрдВ, рдореИрдВ рдХреБрдЫ рд╢рдмреНрдж рдХрд╣реВрдВрдЧрд╛ рдХрд┐ рдпрд╣ рд╕рд╛рдордЧреНрд░реА рдХреНрдпреЛрдВ рдФрд░ рдХрд┐рд╕рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдХреА рдЧрдИ рд╣реИред <br><br>  рд╕рд╛рдордЧреНрд░реА рдЙрдкрдпреЛрдЧреА рд╣реЛрдЧреА рдпрджрд┐ рдЖрдк рдпрд╣ рд╕рдордЭрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдирд┐рд░реНрдорд╛рдг (рдпрд╛ рдирд┐рд░реНрдорд╛рдгрдХрд░реНрддрд╛?) рдХреИрд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЖрдк рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рдЬрд▓реНрджреА, рдЖрд╕рд╛рдиреА рд╕реЗ рдФрд░ рдмрд┐рдирд╛ рд▓рд╛рдЧрдд рдХреЗ рдПрдХ рдЖрд╡реЗрджрди рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓ рд╣реИред  рдпрджрд┐ рдЖрдк рдПрдХ рд╕реЗрд╡рд╛ рдмрд╕ ( <abbr title="рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬ рд╕рд░реНрд╡рд┐рд╕ рдмрд╕">рдИрдПрд╕рдмреА</abbr> ) рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рдЖрд╡реЗрджрди рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВред <br><br>  рдкрд╛рда рддрдм рдЙрдкрдпреЛрдЧреА рд╣реЛрдЧрд╛ рдЬрдм рдЖрдк <b>рддрддреНрдХрд╛рд▓</b> рдмрд┐рд▓реНрдбрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП <strong>рдбреЙрдХрд░</strong> рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗред  рдпрд╛ рдпрджрд┐ рдЖрдк рд╕рд┐рд░реНрдл <strong>рд╕реЗрд▓реЗрдирд┐рдпрдо рд╕рд░реНрд╡рд░</strong> рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ HTTPx рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреА рд╕рд╛рдордЧреНрд░реА / рдкреНрд░рдХрдЯреАрдХрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдореЗрдВ рд╣реИрдВред <br><blockquote>  "рддреБрд░рдВрдд рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ" рдХреЗ рд▓рд┐рдП, рд╡рд┐рдЪрд╛рд░рдкреВрд░реНрд╡рдХ рдпрд╣ рд╕рдм рдкрдврд╝рдирд╛ рдЗрд╕рдХреЗ рд▓рд╛рдпрдХ рдирд╣реАрдВ рд╣реИред  рдХреЛрдб рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИред </blockquote><div class="spoiler">  <b class="spoiler_title">рддреИрдпрд╛рд░ рдЯреВрд▓ рдХреЛ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реАрдзреЗ рдЬрд╛рдПрдВред</b>  <b class="spoiler_title">рд╕реЗрдЯрдЕрдк рдореЗрдВ 20 рдорд┐рдирдЯ рд╕реЗ рдХрдо рд╕рдордп рд▓рдЧрддрд╛ рд╣реИред</b> <div class="spoiler_text">  рдореИрдиреБрдЕрд▓ рдорд╛рдирддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ Ubuntu 18.04 рд╕реНрдерд╛рдкрд┐рдд рдХреЗ рд╕рд╛рде 2 рдорд╢реАрдиреЗрдВ рд╣реИрдВред <br>  рдПрдХ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ ( <b>рдбреЙрдХрдЯрд░</b> ) рдХреЗ рд▓рд┐рдП, рджреВрд╕рд░рд╛ рдкреНрд░реЛрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓ ( <b>рдкреНрд░рдХреНрд░рд┐рдпрд╛</b> ) рдХреЗ рд▓рд┐рдПред <br><br>  рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреИрдХреЗрдЬ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА <b>docker</b> рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рд╣реИрдВ: <br><blockquote>  <i>git, docker, docker-compose</i> </blockquote><br>  рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреИрдХреЗрдЬ <b>рдкреНрд░рдХреНрд░рд┐рдпрд╛</b> рдкрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕реНрдерд╛рдкрд┐рдд рд╣реИрдВ: <br><blockquote>  <i>git, php-common, php-cli, php-curl, php-zip, php-memcached, рдХрдВрдкреЛрдЬрд░</i> </blockquote>  рдпрджрд┐ рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░ рдЖрдкрдХреЗ рдХреЛрдИ рдкреНрд░рд╢реНрди рд╣реИрдВ, рддреЛ рдореИрдВ рдкреВрд░реА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдкрдврд╝рдиреЗ рдореЗрдВ 15 рдорд┐рдирдЯ рдЦрд░реНрдЪ рдХрд░рдиреЗ рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрддрд╛ рд╣реВрдВред <br><br>  <strong>рдбрд╛рдХ рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗрд╡рд╛рд▓рд╛ рдордЬрд╝рджреВрд░</strong> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    root-. # ,     TCP-: # 11300, 11211, 4444, 5930, 8080, 8081, 8082, 8083 #        # " root-"    git clone \ https://oauth2:YRGzV8Ktx2ztoZg_oZZL@git.ituse.ru/deploy/esb-infrastructure.git cd esb-infrastructure docker-compose up --build -d #      3     #   . #       web-.</span></span></code> </pre><br>  <strong>рдкреНрд░рдХреНрд░рд┐рдпрд╛</strong> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#      . #      process-   , #     -  php- git clone \ https://oauth2:YRGzV8Ktx2ztoZg_oZZL@git.ituse.ru/deploy/clicker-noserver.git cd clicker-noserver composer update #  .       "XXXXXXXX" mv app/settings.php.dist app/settings.php #   . gnome-terminal \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php curl"' \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php timezone"' \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php whoer"' #  . ,     , #  : - log/list.proxy php app/src/Utils/givethejob.php ./log/list.proxy</span></span></code> </pre><br>  рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ, рд╡реЗрдм-рдкреИрдирд▓ (http: // ip-address-docker-Machines: 8080) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рдпрд╣ рджреЗрдЦрдирд╛ред <br>  рдкрд░рд┐рдгрд╛рдо <i>рд╕реНрдерд┐рдд</i> рдХрддрд╛рд░ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧрд╛ред <br></div></div><a name="scheme"></a><br><h2>  рдХреБрдЪрд▓рдирд╛ рдФрд░ рдпреЛрдЬрдирд╛ рдмрдирд╛рдирд╛ </h2><br><img src="https://habrastorage.org/webt/6e/1w/nc/6e1wnczv0tchzm_sq9pey6avk2o.png"><br><br>  рдКрдкрд░ рджрд┐рдП рдЧрдП рдЖрд░реЗрдЦ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЪрд░рдгреЛрдВ рдХреЗ рдЕрдиреБрдХреНрд░рдо, рдкреНрд░рддреНрдпреЗрдХ рдЪрд░рдг рдХреЗ рд▓рд┐рдП рдЕрдкреЗрдХреНрд╖рд┐рдд рдкрд░рд┐рдгрд╛рдо рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рднрд╛рдЧ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рд╡рд┐рд╡рд░рдг (рд╡рд┐рд╡рд░рдг: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╛рд░реНрдп 2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╛рд░реНрдп 3</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╛рд░реНрдп 4,5,6</a> ) рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИред <br><br>  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╕рдм рдХреБрдЫ рджреЛ <strong>Ubuntu 18.04</strong> рдорд╢реАрдиреЛрдВ рдкрд░ рд╣реЛрддрд╛ рд╣реИред  рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред  рджреВрд╕рд░реА рдУрд░, рдХрдИ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдБрдЪреЗ рдХреЗ рдХрдВрдЯреЗрдирд░ рдЪрд▓ рд░рд╣реЗ рд╣реИрдВред <br><br><blockquote><h4>  рдмрд╣рд╛рдиреЗ рдФрд░ рдЕрд╕рдлрд▓рддрд╛ </h4><br>  рд╕рднреА рдкреИрдХреЗрдЬ рдХреЛрдб рдореЗрдВ рддреАрди рднрд╛рдЧ рд╣реЛрддреЗ рд╣реИрдВред <br>  рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдореЗрд░рд╛ рдирд╣реАрдВ рд╣реИ (рдореИрдВ рдзреНрдпрд╛рди рджреЗрддрд╛ рд╣реВрдВ рдХрд┐ рдпрд╣ рдПрдХ рд╕рд╛рдл рдФрд░ рд╕реБрдВрджрд░ рдХреЛрдб рд╣реИ)ред  рдЗрд╕ рдХреЛрдб рдХрд╛ рд╕реНрд░реЛрдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="packagist.org">packagist.org рд╣реИ</a> ред <br><br>  рдореИрдВрдиреЗ рдЦреБрдж рдПрдХ рдФрд░ рд▓рд┐рдЦрд╛ рд╣реИ, рдореИрдВрдиреЗ рдЗрд╕реЗ рд╕рдордЭрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА рдФрд░ рдХреЛрдб рдХреЗ рдЗрд╕ рд╣рд┐рд╕реНрд╕реЗ рдореЗрдВ рд▓рдЧрднрдЧ рдПрдХ рд╕рдкреНрддрд╛рд╣ рд╕рдорд░реНрдкрд┐рдд рдХрд┐рдпрд╛ред <br><br>  рдмрд╛рдХреА рдПрдХ "рдореБрд╢реНрдХрд┐рд▓ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд╡рд┐рд░рд╛рд╕рдд" рд╣реИред  рдХреЛрдб рдХрд╛ рдпрд╣ рд╣рд┐рд╕реНрд╕рд╛ рдХрд╛рдлреА рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдЙрд╕ рд╕рдордп рднреА рд╢рд╛рдорд┐рд▓ рд╣реИ рдЬрдм рдореЗрд░реЗ рдкрд╛рд╕ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдореЗрдВ рдмрд╣реБрдд рдХреМрд╢рд▓ рдирд╣реАрдВ рдерд╛ред <br><br>  рдпрд╣ рдареАрдХ рдореЗрд░реЗ <strong>GitLab</strong> рдкрд░ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЗ рд╕реНрдерд╛рди рдФрд░ рдореЗрд░реЗ <strong>Satis</strong> рдкрд░ рд╕рдВрдХреБрд▓ рдХрд╛ рдХрд╛рд░рдг рд╣реИред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="GitHub.com">GitHub.com</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="packagist.org">packagist.org</a> рдкрд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="packagist.org">,</a> рдЗрд╕ рдХреЛрдб рдХреЛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдЕрдзрд┐рдХ рдЧрд╣рди рдкреНрд░рд▓реЗрдЦрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред <br><br>  рдЕрд╕реАрдорд┐рдд рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдХреЗ рд╕рднреА рднрд╛рдЧ рдЦреБрд▓реЗ рд╣реИрдВред  рднрдВрдбрд╛рд░ рдФрд░ рдкреИрдХреЗрдЬ рд╣рдореЗрд╢рд╛ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реЛрдВрдЧреЗред <br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдХреЛрдб рдХреЛ рдкреБрди: рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рддреЗ рд╕рдордп, рдореБрдЭреЗ рдпрд╛ рдЗрд╕ рд▓реЗрдЦ рдХрд╛ рд▓рд┐рдВрдХ рдкреЛрд╕реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореИрдВ рдЖрдкрдХрд╛ рдЖрднрд╛рд░реА рд░рд╣реВрдВрдЧрд╛ред <br></blockquote><br><h2>  рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ </h2><br>  рд╣рдорд╛рд░реЗ рдЙрдкрдХрд░рдг рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рд╡рд╣ рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрд╛рд░реНрдп рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ (рдпрд╛ рддреИрдпрд╛рд░-рддреИрдпрд╛рд░) рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдпреЛрдЧрд┐рддрд╛, рдЪрд╛рд╣реЗ рдХрд╛рд░реНрдп рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рднреА рдХреЗ рд▓рд┐рдП рджреЛ рдЧреБрдг рд╕рд╛рдорд╛рдиреНрдп рд╣реИрдВ: <br><br><ul><li>  рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рд╕реЗ рджреВрд╕рд░реЛрдВ рдХреЗ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХрд╛рд░реНрдп рд╢рд╛рдорд┐рд▓ рд╣реИрдВ; </li><li>  рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ рд╕реНрдЯрдбрдЖрдЙрдЯ (рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рддрд░реАрдХреЗ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж) рдореЗрдВ рд╡рд╛рдкрд╕ рдХрд░ рд╕рдХрддреА рд╣реИред </li></ul><br>  рдЗрд╕ рд╕рд┐рджреНрдзрд╛рдВрдд рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдПрдХ рд╕рдорд╛рдзрд╛рди рдЖрдкрдХреЛ рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЪрд░рдг рдХреЗ рд▓рд┐рдП рд░рдирд┐рдВрдЧ рдЯрд╛рд╕реНрдХ рд╣реИрдВрдбрд▓рд░ (рд╢реНрд░рдорд┐рдХ) рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдЪрд░рдг рдХреЗ рд▓рд┐рдП рд╢реНрд░рдорд┐рдХреЛрдВ рдХреА рдПрдХ рдЕрд▓рдЧ рд╕рдВрдЦреНрдпрд╛ рдкрд┐рдЫрд▓реЗ рдЪрд░рдгреЛрдВ рдХреЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХрд╛рд░реНрдпреЛрдВ рдХреА рд▓рдВрдмрд╛рдИ рдХреЗ рдХрд╛рд░рдг рдЪрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП "0" рдбрд╛рдЙрдирдЯрд╛рдЗрдо рдХрд╛ рдиреЗрддреГрддреНрд╡ рдХрд░реЗрдЧреАред <br><br>  рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреА рдПрдХ рдЗрдХрд╛рдИ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдкрд░ рдЦрд░реНрдЪ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╕рдордп (рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ рдПрдХ рд╕рддреНрдпрд╛рдкрд┐рдд рдкреНрд░реЙрдХреНрд╕реА рд╣реИ) рдмрд╛рд╣рд░реА рдХрд╛рд░рдХреЛрдВ (рдЕрдиреБрдкрдпреБрдХреНрдд рдкреНрд░реЙрдХреНрд╕реА рдХреА рд╕рдВрдЦреНрдпрд╛, рдмрд╛рд╣рд░реА рд╕рдВрд╕рд╛рдзрди рдХреА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдордп, рдЖрджрд┐) рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред <br><br>  рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЪрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рд╢реНрд░рдорд┐рдХреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдмрджрд▓рдХрд░, рд╣рдо рдЗрд╕ рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ рд╢реНрд░рдорд┐рдХреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдкрд░ рдирд┐рд░реНрднрд░рддрд╛ рдореЗрдВ рдмрджрд▓ рджреЗрддреЗ рд╣реИрдВ (рдпрд╛рдиреА, рдЗрд╕рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдФрд░ рдЪреИрдирд▓ рдХреНрд╖рдорддрд╛рдУрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░)ред <br><br>  рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕реНрд╡рддрдВрддреНрд░ рднрд╛рдЧреЛрдВ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХрд▓ рдбреЗрдЯрд╛ рдмрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдореИрд╕реЗрдЬрд┐рдВрдЧ рдХрддрд╛рд░ рд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИред  рдпрд╣ рдЖрдкрдХреЛ рдХрддрд╛рд░ рдореЗрдВ рдкреВрд░реНрдг рдХрд┐рдП рдЧрдП рдЪрд░рдгреЛрдВ рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рдЬрдорд╛ рдХрд░рдиреЗ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЗрдирдкреБрдЯ рдкрд░ рд╕рд╣реА рд╕рдордп рдкрд░ "рдЕрдЧрд▓рд╛ рдЪрд░рдг" рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЗ рд▓рд┐рдП рджреЗрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред <br><br><h3>  рдореИрд╕реЗрдЬрд┐рдВрдЧ рдХрддрд╛рд░ред  рдПрдордХреНрдпреВ рдФрд░ рдИрдПрд╕рдмреА </h3><br>  рдирд┐рдЪрд▓реЗ рд╕реНрддрд░ ( <abbr title="рд╕рдВрджреЗрд╢ рдХреА рдХрддрд╛рд░">рдПрдордХреНрдпреВ</abbr> ) рдХреЗ рд░реВрдк рдореЗрдВ рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдорд╣рд╛рди рд╕рдореАрдХреНрд╖рд╛ рд▓реЗрдЦ">рдмреАрдирд╕реНрдЯреЙрдХ рдХрд╛</a> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  рдЫреЛрдЯреЗ, рд╣рд▓реНрдХреЗ, рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди-рдореБрдХреНрдд, рдбрд┐рдм рдкреИрдХреЗрдЬ рдореЗрдВ рдФрд░ рдбреЙрдХрдЯрд░ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИ, рдЬреЛ рдПрдХ рдЕрд╕рдВрдЧрдд рдХрдареЛрд░ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рд╣реИред  рддрд╛рд░реНрдХрд┐рдХ рд╕реНрддрд░ ( <abbr title="рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬ рд╕рд░реНрд╡рд┐рд╕ рдмрд╕">ESB</abbr> ) <strong>PHP</strong> рдореЗрдВ рдХреЛрдб рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдЧрд╛ред <br><br>  рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП рджреЛ рд╡рд░реНрдЧреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  <b>esbTask</b> рдФрд░ <b>nextStepWorker</b> ред <br><br>  <b>esbTask</b> <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">esbTask</span></span></span><span class="hljs-class"> //   ,     </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// immutable-; // "" (   ESB-),  payload //    //     "" .... }</span></span></code> </pre><br>  рдЗрд╕ рд╡рд░реНрдЧ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдЪрд░рдгреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ "рдкрддреЗ" рдХреЛ <abbr title="рдкреЗрд▓реЛрдб">рдмрддрд╛рддрд╛</abbr> рд╣реИред  <abbr title="рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬ рд╕рд░реНрд╡рд┐рд╕ рдмрд╕">ESB</abbr> рдЕрд╡рдзрд╛рд░рдгрд╛ рдХрдИ рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ / рдкреНрд░рддрд┐рдорд╛рдиреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреА рд╣реИред  рдЙрдирдореЗрдВ рд╕реЗ рджреЛ рдЕрд▓рдЧ рд╕реЗ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИрдВ: <br><br><ul><li>  рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкрде (рдЪрд░рдгреЛрдВ рдХрд╛ рдХреНрд░рдо) рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд╕рдордп рдмрд┐рдВрджреБ рдкрд░, <br>  рд▓рд┐рдлрд╛рдлреЗ рдХреЛ рдкреНрд░реЗрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдХреЛрдИ рдирд╣реАрдВ рдЬрд╛рдирддрд╛; <br></li><li>  рдкреНрд░рддреНрдпреЗрдХ рд▓рд┐рдлрд╛рдлреЗ рдореЗрдВ рддреАрди рд╕рдВрднрд╛рд╡рд┐рдд рдкрд░рд┐рдгрд╛рдо рджрд┐рд╢рд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВ: <br><ul><li>  рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдЕрдЧрд▓рд╛ рдЪрд░рдг (рд╕рд╛рдорд╛рдиреНрдп рдирд┐рд░рдВрддрд░рддрд╛); </li><li>  рд╕реНрдЯреЙрдк рд╕реНрдЯреЗрдк (рд╕реНрдЯреЙрдк рдЯрд╛рд░рдЧреЗрдЯ - рдЕрдЧрд▓реЗ рдЪрд░рдг рдХреЗ рджреНрд╡рд╛рд░рд╛ рдЪреБрдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрджрд┐ рдкреНрд░рдХреНрд░рд┐рдпрд╛ / рд╕реНрдЯреЙрдк рд╕реНрдерд┐рддрд┐ рдХреЛ рдЬрд╛рд░реА рд░рдЦрдиреЗ рдХрд╛ рдХреЛрдИ рдорддрд▓рдм рдирд╣реАрдВ рд╣реИ); <br></li><li>  рддреНрд░реБрдЯрд┐ рдЪрд░рдг (рдЖрдкрд╛рддрдХрд╛рд▓реАрди рд╕рдорд╛рдкреНрддрд┐ рд▓рдХреНрд╖реНрдп - рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рддреНрд░реБрдЯрд┐ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЕрдЧрд▓реЗ рдЪрд░рдг рджреНрд╡рд╛рд░рд╛ рдЪреБрдирд╛ рдЬрд╛рддрд╛ рд╣реИ)ред <br></li></ul><br></li></ul><div class="spoiler">  <b class="spoiler_title">рдХрддрд╛рд░ рдХреА рд╡рд╕реНрддреБ рдХреЛ json рдореЗрдВ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдпрд╣рд╛рдБ рдЫрд┐рдкрд╛ рд╣реБрдЖ рд╣реИ ...</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// json- esbTask { //    (   esbTask) "_type":"App\\\\rebean\\\\payloads\\\\ESBtaskQueue", //  "task":"task:queue@XXX.XXX.XXX.</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">XXX:</span></span></span><span class="hljs-comment">11300", //    () "replyto":[ "othertask1:nextqueue1@yyy.XXX.XXX.</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">XXX:</span></span></span><span class="hljs-comment">11300", "othertask2:nextqueue2", "othertask3:nextqueue3", ], //    () "onerror":[ "error:errorsstep@zzz.XXX.XXX.</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">XXX:</span></span></span><span class="hljs-comment">11300", "error:errorsstep1", "error:errorsstep2", "error:errorsstep3" ], //     () "onstop":[ "stop:stopstep@kkk.XXX.XXX.</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">XXX:</span></span></span><span class="hljs-comment">11300", "stop:stopstep1", "stop:stopstep2", "stop:stopstep3" ], //   "payload":{ .... }, //   ... () "till":[ .... ], //     ... () //        // -  (LINUX-TimeStamp) "since":[ 1540073089.8833, ], // -     "points":1, //  .     "groupid":"" }</span></span></code> </pre><br></div></div><br>  <b>nextStepWorker</b> <br><br>  рдХрддрд╛рд░ рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рд╡рд╛рд▓рд╛ рдкреНрд░рддреНрдпреЗрдХ рд╕рдВрджреЗрд╢ рдЙрд╕ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рдЗрд╕рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХрд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗрдЯ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextStepWorker</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">workerConstructor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       //     esbTask //    () //    MQ- (beanstalkd) //     (Memcached) //     (MySQL) // : -  (  - ); -    stop-; -      (log, event, mq) .... }</span></span></code> </pre><br>  рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЪрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рд╢реНрд░рдорд┐рдХреЛрдВ рдХреЛ рдЗрд╕ рд╡рд░реНрдЧ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдорд╛рд░реНрдЧ рдореЗрдВ рдЕрдЧрд▓реЗ рдЪрд░рдг рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ, рд╕рдВрдмреЛрдзрд┐рдд рдХрд░рдиреЗ рдФрд░ рднреЗрдЬрдиреЗ рдХреА рдкреВрд░реА рджрд┐рдирдЪрд░реНрдпрд╛ рд╡рд░реНрдЧ рдХреА рджреЗрдЦрднрд╛рд▓ рдХрд░рддрд╛ рд╣реИред <br><br>  рд╕рдорд╕реНрдпрд╛рдУрдВ рдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХрд╛ рд╕рдорд╛рдзрд╛рди рд╣реИ: <br><br><ol><li>  рдПрд╕реНрдХрдЯрд╕реНрдХ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдХреЛ рдЪрд▓рд╛рдПрдВ; </li><li>  рдкреЗрд▓реЛрдб рдореЗрдВ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдХреЗ рддрд░реНрдХ рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдВ; </li><li>  рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЛ рдкреВрд░рд╛ рдХрд░реЗрдВ (рдЖрдкрд╛рддрдХрд╛рд▓реАрди рдпрд╛ рд╕рд╛рдорд╛рдиреНрдп - рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛)ред </li></ol><br>  рдпрджрд┐ рдЪрд░рдг рдкреВрд░реЗ рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ рдкрд░рд┐рдгрд╛рдо рдЙрдкрдпреБрдХреНрдд рдирд╛рдо рдХреЗ рд╕рд╛рде рдХрддрд╛рд░рдмрджреНрдз рд╣реЛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдЕрдЧрд▓реЗ рдХрд░реНрдордЪрд╛рд░реА рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╢реБрд░реВ рдХрд░ рджреЗрдЧрд╛ред <br><a name="subj2"></a><br><h2>  рдПрдХ рдмрд╛рд░ рдХрд░реЛред  рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ </h2><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдХрд┐рд╕реА рднреА рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдмрдирд╛рдирд╛ рдПрдХ рд╡рд┐рдзрд┐ рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╣реИред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рдорд╕реНрдпрд╛ 2 рдХреЛ</a> рд╣рд▓ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг (рд╕рд░рд▓реАрдХреГрдд) рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Process/worker/curlChecker.php .... class curlChecker extends nextStepWorker { const PROXY_INFO = 'https://api.ipfy.me?format=json&amp;geo=true'; const PROXY_TIMEOUT = '40'; const COMMAND = "curl -m %s -Lx http://%s:%s '%s'"; public function logic() { //    .  ..   payload extract($this-&gt;context()); //  defaults    payload  $curltimeout = $curltimeout ?? self::PROXY_TIMEOUT; $curlchecker = $curlchecker ?? self::PROXY_INFO; //     $line = sprintf( static::COMMAND, $curltimeout, $host, $port, $curlchecker ); exec($line, $info); //      // ( ,  stop-) $info = arrays::valid_json(implode('', info)); if (empty($info)) throw new \Exception("Bad proxy: $host:$port!", static::STATUS_STOP); //    payload $this-&gt;enrich(['info']) -&gt;sets(compact('info')); } }</span></span></code> </pre><br>  рдХреЛрдб рдХреА рдХреБрдЫ рдкрдВрдХреНрддрд┐рдпрд╛рдБ рдФрд░ рд╕рдм рдХреБрдЫ рдЕрдЧрд▓реЗ рдЪрд░рдг рдХреЗ рд▓рд┐рдП "рд╕реЗрдХрдВрдб" рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><a name="subj3"></a><br><h2>  рдЯрд╛рдЗрдордЬреЛрди рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВред  TimeZoneDB рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдХреНрдпрд╛ рд╣реИ ... </h2><br>  рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рдЧрд╣рд░рд╛рдИ рд╕реЗ рдЬрд╛рдВрдЪ рдореЗрдВ рдЙрд╕ рд╕рдордп рдХреЗ рд╕рд╛рде рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╡рд┐рдВрдбреЛ рд╕рдордп рдХрд╛ рдорд┐рд▓рд╛рди рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ рдЬрд┐рд╕ рд╕рдордп рдЕрдиреБрд░реЛрдз рд╕реНрд░реЛрдд рдЖрдИрдкреА рдкрддрд╛ рдореМрдЬреВрдж рд╣реИред <br><br>  рдХрд╛рдЙрдВрдЯрд░реЛрдВ рд╕реЗ рд╕рдВрджреЗрд╣ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рд╕реНрдерд╛рдиреАрдп рдкреНрд░реЙрдХреНрд╕реА рд╕рдордп рдХреЛ рдЬрд╛рдирдирд╛ рд╣реЛрдЧрд╛ред <br><br>  рд╕рдордп рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкрд┐рдЫрд▓реЗ рдЪрд░рдг рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рд╕реЗ рдЕрдХреНрд╖рд╛рдВрд╢ рдФрд░ рджреЗрд╢рд╛рдВрддрд░ рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕ рд╕рдордп рдХреНрд╖реЗрддреНрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕рдореЗрдВ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╡рд┐рдВрдбреЛ рдХреЗ рд╣рдорд╛рд░реЗ рднрд╡рд┐рд╖реНрдп рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛рдо рдХрд░реЗрдВрдЧреЗред  рдпреЗ рдбреЗрдЯрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="timezonedb.com">рд╕рдордп-рд╕рдордп рдкрд░ рдкреЗрд╢реЗрд╡рд░реЛрдВ</a> рджреНрд╡рд╛рд░рд╛ рд╣рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓реАрдХреГрдд рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯрд╛рд╕реНрдХ 3</a> ) рдкреВрд░реА рддрд░рд╣ рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд┐рдЫрд▓реЗ рдПрдХ рдХреЗ</a> рд╕рдорд╛рди рд╣реЛрдЧрд╛ред  рдПрдХрдорд╛рддреНрд░ рдЕрдВрддрд░ рдЕрдиреБрд░реЛрдз URL рд╣реИред  рдЖрдк рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкреВрд░реНрдг рд╕рдВрд╕реНрдХрд░рдг рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ: <br><blockquote>  // рдРрдк / src / рдкреНрд░рдХреНрд░рд┐рдпрд╛ / рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ / timeZone.php </blockquote><br><h2>  рдереЛрдбрд╝реА рдЕрд╡рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ </h2><br>  рд╡рд░реНрдгрд┐рдд <strong>рдмреАрдирд╕реНрдЯреЙрдХ рдХреЗ</strong> рдЕрд▓рд╛рд╡рд╛, рд╣рдорд╛рд░реЗ рдЙрдкрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА: <br><br><ul><li>  <strong>рдореЗрдордХрд╛рдЯреЗрдб</strong> - рдХреИрд╢рд┐рдВрдЧ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП; </li><li>  <strong>рд╕реЗрд▓реЗрдирд┐рдпрдо рд╕рд░реНрд╡рд░</strong> - рдПрдХ рдЕрд▓рдЧ рдХрдВрдЯреЗрдирд░ рдореЗрдВ <strong>рд╕реЗрд▓реЗрдирд┐рдпрдо рд╡реЗрдм рдЪрд╛рд▓рдХ</strong> рдХреЛ рдЪрд▓рд╛рдирд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ рдФрд░ рдЖрдк <strong>рд╡реАрдПрдирд╕реА рдХреЗ</strong> рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ; </li><li>  <strong>рдмреАрдирд╕реНрдЯрд╛рд▓</strong> , <strong>рдореЗрдордХреЗрдб</strong> рдФрд░ <strong>рд╡реАрдПрдирд╕реА рдХреА</strong> рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рд▓рд┐рдП рдбреИрд╢рдмреЛрд░реНрдбред </li></ul><br>  рдЗрди рд╕рднреА рдХреА рддреНрд╡рд░рд┐рдд рддреИрдирд╛рддреА рдХреЗ рд▓рд┐рдП, рдбреЙрдХрд░ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдбреЙрдХрд░ рд╡реНрд╣рд╛рдЗрдЯ рдкреЗрдкрд░реНрд╕">рдЙрдмрдВрдЯреВ рдкрд░ рдХреИрд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ</a> ) рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдФрд░ рдЙрд╕рдХреЗ рд▓рд┐рдП "рдСрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрдЯрд░" docker- рд░рдЪрдирд╛ (рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рд▓рд┐рдП рдЖрджреЗрд╢) рд╣реИ ...</b> <div class="spoiler_text"><pre> <code class="bash hljs">sudo apt-get -y update sudo apt-get -y install docker-compose</code> </pre><br></div></div><br>  рдпреЗ рдЙрдкрдХрд░рдг рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП (рдХрд┐рд╕реА рдХреЗ рджреНрд╡рд╛рд░рд╛ рдкрд╣рд▓реЗ) рд╕рд░реНрд╡рд░ / рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдореВрд▓ рдУрдПрд╕ рдХреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ "рдХрдВрдЯреЗрдирд░реЛрдВ" рдореЗрдВ рдЪрд▓рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред  рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП, рдореИрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдЕрдЪреНрдЫрд╛ рдбреЙрдХрд░ рдЖрд▓реЗрдЦ">рдЗрд╕</a> рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдПрдХ рдФрд░ рдЕрдЪреНрдЫрд╛ рдбреЙрдХрд░ рд▓реЗрдЦ">рдЗрд╕</a> рд▓реЗрдЦ рдХрд╛ рд╕рдВрджрд░реНрдн рджреЗрдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВред <br><br>  рдЗрд╕рд▓рд┐рдП ... <br><br>  рдХрдВрд╕реЛрд▓ рдореЗрдВ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдХрдИ рдХрдорд╛рдВрдб рдХреА рдЬрд░реВрд░рдд рд╣реЛрддреА рд╣реИ: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   ,    docker- #     (   ) #    sudo -s git clone \ https://oauth2:YRGzV8Ktx2ztoZg_oZZL@git.ituse.ru/deploy/esb-infrastructure.git \ panels cd panels docker-compose up --build -d #   .</span></span></code> </pre><br>  XXX.XXX.XXX.XXX рдкрддреЗ рдХреЗ рд╕рд╛рде рдорд╢реАрди рдкрд░ рдХрдорд╛рдВрдб рдХреЗ рд╕рдлрд▓ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдкред <br>  рдЖрдкрдХреЛ рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗрдЯ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧрд╛: <br><blockquote>  - XXX.XXX.XXX.XXX:11300 - <strong>beanstalkd</strong> <br>  - XXX.XXX.XXX.XXX:11211 - <strong>Memcached</strong> <br>  - XXX.XXX.XXX.XXX-00-00444 - <strong>рд╕реЗрд▓реЗрдирд┐рдпрдо рд╕рд░реНрд╡рд░</strong> <br>  - XXX.XXX.XXX.XXX:5930 - <b>рдХреНрд░реЛрдо</b> рдореЗрдВ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ рдЗрд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <b>VNC</b> рд╕рд░реНрд╡рд░ <br>  - XXX.XXX.XXX.XXX:8081 - рдореЗрдореНрдХреЗрдб рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХреЗ рд▓рд┐рдП рд╡реЗрдм рдкреИрдирд▓ (рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ: рдкрд╛рд╕) <br>  - XXX.XXX.XXX.XXX:8082 - <strong>рдмреАрдирд╕реНрдЯреЙрдХ рдХреЗ</strong> рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реЗрдм рдкреИрдирд▓ <br>  - XXX.XXX.XXX.XXX:8083 - <strong>рд╡реАрдПрдирд╕реА рдХреЗ</strong> рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХреЗ рд▓рд┐рдП рд╡реЗрдм рдкреИрдирд▓ (рдкрд╛рд╕рд╡рд░реНрдб: рд░рд╣рд╕реНрдп) <br>  - XXX.XXX.XXX.XXX:8080 - рд╕рд╛рдорд╛рдиреНрдп рд╡реЗрдм рдкреИрдирд▓ <br></blockquote><br><div class="spoiler">  <b class="spoiler_title">"рджреЗрдЦреЗрдВ рдХрд┐ рдХреНрдпрд╛ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ", "рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдкрд╣реБрдВрдЪреЗрдВ", "рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЛ рд░реЛрдХреЗрдВ" рд╕реНрдкреЙрдЗрд▓рд░ рдореЗрдВ рдХрдорд╛рдВрдб рд╣реЛ рд╕рдХрддрд╛ рд╣реИред</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   ,    docker-, #    ..../panels/ #    docker-compose ps # Name Command State Ports # ------------------------------------------------------------------------------------------------------------------------ # beanstalkd /usr/bin/beanstalkd Up 0.0.0.0:11300-&gt;11300/tcp # chrome start-cron Up 0.0.0.0:4444-&gt;4444/tcp, 0.0.0.0:5930-&gt;5900/tcp # memcached docker-entrypoint.sh memcached Up 0.0.0.0:11211-&gt;11211/tcp # nginx docker-php-entrypoint /sta ... Up 0.0.0.0:8443-&gt;443/tcp, 0.0.0.0:8080-&gt;80/tcp, # 0.0.0.0:8082-&gt;8082/tcp, 0.0.0.0:8083-&gt;8083/tcp, 9000/tcp # vnc /usr/bin/supervisord -c /e ... Up 0.0.0.0:8081-&gt;8081/tcp #       chrome docker exec -ti chrome /bin/bash #       docker-compose stop &amp;&amp; docker rm $(docker ps -a -q)</span></span></code> </pre></div></div><a name="subjs"></a><br><h2>  рдХрд╛рд░реНрдп 4,5,6 - рдПрдХ рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдореЗрдВ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░реЗрдВ </h2><br>  рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХреБрдЪрд▓рдиреЗ рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдКрдкрд░ рдЪрд┐рддреНрд░</a> ), рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ рдХрд┐ рд╢реЗрд╖ рдХрд╛рд░реНрдпреЛрдВ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╛рд░реНрдп 6</a> ) рдореЗрдВ рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рд╣рд░реА рд╕рдВрд╕рд╛рдзрди рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред  "рд╕рд╢рд░реНрдд рд░реВрдк рд╕реЗ рдЧрд╛рд░рдВрдЯреАрдХреГрдд" рд░рдирдЯрд╛рдЗрдо (рдЕрдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд╛рд░рдХреЛрдВ рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░) рдХреЗ рд╕рд╛рде рдХрд╛рд░реНрдп рдХрд░рддреЗ рд╣реБрдП, рд╣рдореЗрдВ рдкреВрд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдЧрддрд┐ рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд рд▓рд╛рдн рдирд╣реАрдВ рдорд┐рд▓реЗред  рдЗрд╕ рд╕рдВрдмрдВрдз рдореЗрдВ, рдЗрди рдХрд╛рд░реНрдпреЛрдВ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">4,5,6</a> ) рдХреЛ рдПрдХ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ред  рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдлрд╝рд╛рдЗрд▓ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><blockquote>  // рдРрдк / src / рдкреНрд░рдХреНрд░рд┐рдпрд╛ / рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ / whoerChecker.php </blockquote><br><h3>  рдХреНрд░реЛрдо рдХреЗ рд▓рд┐рдП рд╕реЗрдЯрд┐рдВрдЧ рдХрд░реЗрдВред  рдкреНрд▓рдЧ-рдЗрди </h3><br>  <strong>Chrome</strong> рд▓рдЪреАрд▓реЗ рдврдВрдЧ рд╕реЗ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЗ рд╕рд╛рде рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br><br>  <strong>Chrome рдХреЗ</strong> рд▓рд┐рдП рдПрдХ рдкреНрд▓рдЧрдЗрди рдПрдХ рд╕рдВрдЧреНрд░рд╣ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ <i>рдореЗрдирд┐рдлрд╝реЗрд╕реНрдЯ</i> ред <i>Json</i> рдлрд╝рд╛рдЗрд▓ рд╣реИред  рд╡рд╣ рдкреНрд▓рдЧрдЗрди рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИред  рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ <b>рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ, рдПрдЪрдЯреАрдПрдордПрд▓, рд╕реАрдПрд╕рдПрд╕ рдФрд░</b> рдкреНрд▓рдЧрдЗрди ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдХреНрд░реЛрдо рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдбреЙрдХреНрд╕">рд╡рд┐рд╡рд░рдг</a> ) рджреНрд╡рд╛рд░рд╛ рдЖрд╡рд╢реНрдпрдХ <b>рдЕрдиреНрдп</b> рдлрд╛рдЗрд▓реЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред <br><br>  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, <strong>рдХреНрд░реЛрдо</strong> рд╡рд░реНрдХрд┐рдВрдЧ рд╡рд┐рдВрдбреЛ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ <b>рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ</b> рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдкреНрд░рднрд╛рд╡реА рд╣реЛрдВрдЧреАред <br><br>  рд╣рдореЗрдВ рд╕рд┐рд░реНрдл рд╕рд╣реА рдЬрдЧрд╣ рдкрд░ рдкрд░реАрдХреНрд╖рдг рдХреЗ рддрд╣рдд рдкреНрд▓рдЧрдЗрди рдЯреЗрдореНрдкрд▓реЗрдЯ рд▓реЗрдиреЗ рдФрд░ рдкреНрд░реЙрдХреНрд╕реА рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдбреЗрдЯрд╛ (рдЗрдВрдЯрд░реИрдХреНрд╢рди рдкреНрд░реЛрдЯреЛрдХреЙрд▓, рдПрдбреНрд░реЗрд╕ рдФрд░ рдкреЛрд░реНрдЯ рдпрд╛ рдЯрд╛рдЗрдордЬрд╝реЛрди) рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдХреЛрдб рдХрд╛ рдПрдХ рд╕реНрдирд┐рдкреЗрдЯ рдЬреЛ рд╕рдВрдЧреНрд░рд╣ рдмрдирд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Chrome/proxyHelper.php .... class proxyHelper extends sshDocker{ .... // $name -  - // $files - [ ... '   -' =&gt; '', ...] protected function buildPlugin(string $name, array $files) { $this-&gt;last = "$this-&gt;cache/$name"; if (!file_exists("$this-&gt;last")) { $zip = new \ZipArchive(); $zip-&gt;open("$this-&gt;last", \ZipArchive::CREATE | \ZipArchive::OVERWRITE); foreach ($files as $n =&gt; $data) { $zip-&gt;addFromString(basename($n), $data); } $zip-&gt;close(); } $this-&gt;all[] = $this-&gt;last; $this-&gt;all = array_unique($this-&gt;all); return $this; } .... }</span></span></code> </pre><br>  рдкреНрд░реЙрдХреНрд╕реА рдЯреНрдпреВрдирд┐рдВрдЧ рдкреНрд▓рдЧрдЗрди рдХреЗ рд▓рд┐рдП рдЯреЗрдореНрдкрд▓реЗрдЯ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдХреНрд░реЛрдо рдореЗрдВ рдкреНрд░реЙрдХреНрд╕реА рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд▓рдЧрдЗрди рдХрд╛ рднрдВрдбрд╛рд░">рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд╢реНрд░рдо рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рдЧреБрд▓реНрд▓рдХ рдореЗрдВ</a> рдкрд╛рдпрд╛ рдЧрдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдХреНрд░реЛрдо рдореЗрдВ рдкреНрд░реЙрдХреНрд╕реА рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд▓рдЧрдЗрди рдХрд╛ рднрдВрдбрд╛рд░">рдЬреЛ рдЕрдкрдиреЗ рдкреЗрд╢реЗ рд╕реЗ рдкреНрдпрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ</a> , рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рднрд╛рдЧ рдореЗрдВ рдмрджрд▓ рдЧрдП, рдФрд░ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдЬреЛрдбрд╝ рджрд┐рдП рдЧрдПред <br><br><h3>  рд╡рд┐рдВрдбреЛ рд╕рдордп рдкрд░рд┐рд╡рд░реНрддрди </h3><br>  рдЪрд▓ рд░рд╣реЗ рдХреНрд░реЛрдо рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╡реИрд╢реНрд╡рд┐рдХ рд╕рдордп рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ <i>рд╡рд┐рдВрдбреЛ</i> рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рд╕рдорд╛рди рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╡рд╛рд▓реЗ рдПрдХ рд╡рд░реНрдЧ рдХреЗ рд╕рд╛рде, рд▓реЗрдХрд┐рди рд╕рд╣реА рд╕рдордп рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдорд╛рдиреНрдп рд╣реИред <br><br>  рдореИрдВ рд╡рд╛рд╕реНрддрд╡ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдХреНрд░реЛрдо рдореЗрдВ рд╡рд┐рдВрдбреЛ рд╕рдордп рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд▓рдЧрдЗрди рдХрд╛ рднрдВрдбрд╛рд░">рдореЗрдВ Sampo Juustila рдХреЗ рдХрд╛рдо рдХреА</a> рд╕рд░рд╛рд╣рдирд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдХреНрд░реЛрдо рдореЗрдВ рд╡рд┐рдВрдбреЛ рд╕рдордп рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд▓рдЧрдЗрди рдХрд╛ рднрдВрдбрд╛рд░">рдХрд░рддрд╛ рд╣реВрдВ</a> ред  <abbr title="рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕">рдпреВрдЖрдИ рдХреЗ</abbr> рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдИ рдЧрдИ рдереА, рд▓реЗрдХрд┐рди рдереЛрдбрд╝рд╛ рд╢реЛрдзрди рдХреЗ рдмрд╛рдж рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br><br>  рдпрд╣рд╛рдВ рдПрдХ рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред  рдпрд╣ <i>рдореЗрдирд┐рдлреЗрд╕реНрдЯреЛрдВ</i> рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рдВрджрд░реНрдн рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ <i>рд╣реИ</i> ред <br><br>  рд╕рдВрдкреВрд░реНрдг рд░рд╣рд╕реНрдп рдпрд╣ рд╣реИ рдХрд┐ рд╡реИрд╢реНрд╡рд┐рдХ рд╕рдВрджрд░реНрдн (рдЬрд┐рд╕рдореЗрдВ рдкреНрд▓рдЧ-рдЗрди рдХреА рдореБрдЦреНрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓реЙрдиреНрдЪ рдХреА рдЧрдИ рд╣реИ рдФрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕реЗрдЯ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рдЬреБрдбрд╝реА) рдЙрд╕ рдЯреИрдм рдХреЗ рд╕рдВрджрд░реНрдн рд╕реЗ рдЕрд▓рдЧ рд╣реЛ рдЬрд╛рддреА рд╣реИрдВ рдЬрд┐рд╕рдореЗрдВ рдкреЗрдЬ рд▓реЛрдб рд╣реЛрддрд╛ рд╣реИред <br><br>  рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ, рдпрд╣ рдкрд╛рдпрд╛ рдЧрдпрд╛ рдХрд┐ рд╡реИрд╢реНрд╡рд┐рдХ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╡рд░реНрдЧ рдХреЗ рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рдкрд░ рдкреНрд░рднрд╛рд╡ рдХреЗ рдХрд╛рд░рдг рдЯреИрдм рдореЗрдВ рдЗрд╕рдХрд╛ рдкрд░рд┐рд╡рд░реНрддрди рдирд╣реАрдВ рд╣реБрдЖред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдкрд╣рд▓реЗ рд╕реЗ рд▓реЛрдб рдХрд┐рдП рдЧрдП рдкреГрд╖реНрда рдореЗрдВ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдФрд░ рдЗрд╕реЗ рджреВрд╕рд░реЛрдВ рдХреЗ рд╕рд╛рдордиреЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╕рдорд╕реНрдпрд╛ рд╣рд▓ рд╣реЛ рдЧрдИ рдереАред <br><br>  рд╕рдорд╛рдзрд╛рди рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдЯреБрдХрдбрд╝рд╛ рджреНрд╡рд╛рд░рд╛ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/chromePlugins/timeShift/content.js //     var s = document.createElement('script'); //        s.src = chrome.extension.getURL('timeshift.js'); //      (document.head || document.documentElement).appendChild(s);</span></span></code> </pre><br><h3>  рдкреНрд░реЙрдХреНрд╕реА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ </h3><br><div class="spoiler">  <b class="spoiler_title">Chrome рдореЗрдВ рдкреНрд░реЙрдХреНрд╕реА рд╕реЗрдЯ рдХрд░рдирд╛ рдЗрддрдирд╛ рд╕рд░рд▓ рд╣реИ рдХрд┐ рдореИрдВ рдПрдХ рд╕реНрдкреЙрдЗрд▓рд░ рдореЗрдВ js рдХреЛрдб рдЫрд┐рдкрд╛рдКрдВрдЧрд╛</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/chromePlugins/proxy/background.js var config = { mode: "fixed_servers", rules: { singleProxy: { scheme: "%scheme", host: "%proxy_host", port: parseInt(%proxy_port) }, bypassList: ["foobar.com"] } }; chrome.proxy.settings.set({value: config, scope: "regular"}, function () { }); function callbackFn(details) { return { authCredentials: { username: "%username", password: "%password" } }; } chrome.webRequest.onAuthRequired.addListener( callbackFn, {urls: ["&amp;gtall_urls&amp;lt"]}, ['blocking'] );</span></span></code> </pre><br></div></div><br><h3>  рдХреНрд░реЛрдо рдкреНрд▓рдЧрдЗрдиреНрд╕ рдкрде </h3><br><div class="spoiler">  <b class="spoiler_title">рд╕рднреА рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛ рдпреЛрдЬрдирд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдирд╛рдо рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдорд╢реАрди рдХреЗ рдЕрд╕реНрдерд╛рдпреА рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред</b> <div class="spoiler_text"><blockquote>  // рдкреНрд░реЙрдХреНрд╕реА рдкреНрд▓рдЧрдЗрди рдХреЗ рд▓рд┐рдП рдирд╛рдордХрд░рдг рдпреЛрдЬрдирд╛: <br>  рдЫрджреНрдо [рдкрддрд╛] - [рдмрдВрджрд░рдЧрд╛рд╣] - [рдкреНрд░реЛрдЯреЛрдХреЙрд▓]&gt;ред рдЬрд╝рд┐рдк <br>  timeshift - ["-" | "" "] - [shift_in_minutes_from_GMT] .zip </blockquote></div></div><br>  рдЕрдЧрд▓рд╛, рд╣рдореЗрдВ рдЗрди рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛ рдПрдХ рдбреЙрдХ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдЬреЛ рдХрд┐ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рдорд╢реАрди рдкрд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИред <br><br>  рд╣рдо рдЗрд╕реЗ ssh рдХреЗ рд╕рд╛рде рдХрд░реЗрдВрдЧреЗред<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="Packagist.org рдкрд░ Phpseclib рдкреИрдХреЗрдЬ"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">phpseclib</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title=" phpseclib  packagist.org"><font style="vertical-align: inherit;">рдорд┐рд▓рд╛</font></a><font style="vertical-align: inherit;"> (рдмрд╛рдж рдореЗрдВ рдЗрд╕реЗ рдкрдЫрддрд╛рд╡рд╛ рднреА рд╣реБрдЖ)ред </font><font style="vertical-align: inherit;">рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рдЕрд╕рд╛рдорд╛рдиреНрдп рд╡реНрдпрд╡рд╣рд╛рд░ рд╕реЗ рдкрд░реЗрд╢рд╛рди рд╣реЛрдХрд░ рдореИрдВрдиреЗ рдПрдХ рджрд┐рди рдЗрд╕рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░рдиреЗ рдореЗрдВ рдмрд┐рддрд╛рдпрд╛ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ssh рдХрдВрд╕реЛрд▓ рдХреНрд▓рд╛рдЗрдВрдЯ рдпрд╣рд╛рдВ рдмреЗрд╣рддрд░ рдХрд╛рдо рдХрд░реЗрдЧрд╛ рдФрд░ рддреЗрдЬреА рд╕реЗ рдХрд╛рдо рдХрд░реЗрдЧрд╛, рд▓реЗрдХрд┐рди рдХрд╛рдо рдкрд╣рд▓реЗ рд╣реА рд╣реЛ рдЪреБрдХрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рдореНрди рд╕реНрддрд░ (SFTP рдФрд░ SSH рдХреЗ рд╕рд╛рде рдХрд╛рдо) рдХреЗ рд▓рд┐рдП рдЖрдзрд╛рд░ рд╡рд░реНрдЧ рдЬрд┐рдореНрдореЗрджрд╛рд░ (рдиреАрдЪреЗ) рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕ рд╡рд░реНрдЧ рдХреЛ рдмрджрд▓рдиреЗ </font><font style="vertical-align: inherit;">рд╕реЗ рдХрдВрд╕реЛрд▓ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд╕рд╛рде </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="Phpseclib рднрдВрдбрд╛рд░"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">phpseclib</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </font><font style="vertical-align: inherit;">ред</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Chrome/sshDocker.php //    (DOCKER_HOST, DOCKER_USER, DOCKER_PASS) //   : app/settings.php //      .... class sshDocker { .... //  .     docker //    .         // : app/techs.php const EXEC_DOCKER = DOCKER_BIN_PATH . "/docker exec -i %s %s"; .... //     sudo    (  ),  DOCKER_USER -  protected function sudo(string $command, string $expect = '.*'){...} //     Docker-,      //       -    self::EXEC_DOCKER protected function execDocker(string $command, string $expect){...} .... }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмреЗрд╕ sshDocker рдФрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЬрд╛рдиреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░реЙрдХреНрд╕реАрд╣реЗрд▓реНрдкрд░ рдХреНрд▓рд╛рд╕ рд╕реЗ рд╡реНрдпреБрддреНрдкрдиреНрди, рдпрд╣ рди рдХреЗрд╡рд▓ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХрд╛ рдЙрддреНрдкрд╛рджрди рдХрд░рддрд╛ рд╣реИ, рдмрд▓реНрдХрд┐ рдЙрдиреНрд╣реЗрдВ рдЗрдиреНрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХрдВрдЯреЗрдирд░ рдХреЗ рдЕрд╕реНрдерд╛рдпреА рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рднреА рд░рдЦрддрд╛ рд╣реИред </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Chrome/proxyHelper.php .... class proxyHelper extends sshDocker { .... public static function new(string $docker, $plugins) { return (new self($docker, $plugins)) -&gt;setupPlugins(); } .... }</span></span></code> </pre><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рд╕рд╛рде рдЪреЛрдо рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ </font></font></h3><br><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">рд╕реЗрд▓реЗрдирд┐рдпрдо рд╕рд░реНрд╡рд░</font></b><font style="vertical-align: inherit;"> рд╣рдореЗрдВ </font><font style="vertical-align: inherit;">рдЕрдиреБрдХреВрд▓рд┐рдд </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрд░реЛрдо</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдореЗрдВ </font><font style="vertical-align: inherit;">рдорджрдж рдХрд░реЗрдЧрд╛ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рд╕реЗрд▓реЗрдирд┐рдпрдо рд╕рд░реНрд╡рд░ рдПрдХ рдлреНрд░реЗрдорд╡рд░реНрдХ рд╣реИ рдЬрд┐рд╕реЗ </font><strong><font style="vertical-align: inherit;">рдлреЗрд╕рдмреБрдХ</font></strong><font style="vertical-align: inherit;"> рдЯреАрдо рджреНрд╡рд╛рд░рд╛ </font><font style="vertical-align: inherit;">рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ WEB рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">рдмрдирд╛рдпрд╛ рдЧрдпрд╛ </font><font style="vertical-align: inherit;">рд╣реИред </font><font style="vertical-align: inherit;">рдлрд╝реНрд░реЗрдо рдХрд╛ рдХрд╛рдо рдбреЗрд╡рд▓рдкрд░ рдХреЛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╡рд┐рдВрдбреЛ ( </font><b><font style="vertical-align: inherit;">рдХреНрд░реЛрдо</font></b><font style="vertical-align: inherit;"> рдпрд╛ </font><b><font style="vertical-align: inherit;">рдлрд╝рд╛рдпрд░рдлрд╝реЙрдХреНрд╕</font></b><font style="vertical-align: inherit;"> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ </font><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">рдореЗрдВ рдХрд┐рд╕реА рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЛ рдкреНрд░реЛрдЧреНрд░рд╛рдореЗрдЯрд┐рдХ рд░реВрдк рд╕реЗ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><b><font style="vertical-align: inherit;">рд╕реЗрд▓реЗрдирд┐рдпрдо рд╕рд░реНрд╡рд░ рдХреЛ</font></b><font style="vertical-align: inherit;"> рдХрдИ рднрд╛рд╖рд╛рдУрдВ рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЯреЗрд╕реНрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдорд╛рдирдХ рдЙрдкрдХрд░рдг рд╣реИред </font><font style="vertical-align: inherit;">рдХрд┐рд╕реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рддрд╛рдЬрд╝рд╛ рд░рд┐рд▓реАрдЬрд╝ рдкрд╛рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛:</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br> <b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><pre> <code class="bash hljs">composer require facebook/webdriver</code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЗрд▓реЗрдирд┐рдпрдо рд╕рд░реНрд╡рд░ рдСрдмреНрдЬреЗрдХреНрдЯ (RemoteWebDriver) рдХреЗ рдореБрдЦреНрдп рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдкрд╛рд░рдВрдкрд░рд┐рдХ рд╡рд┐рдиреНрдпрд╛рд╕ рдореБрдЭреЗ рдХреНрд░рд┐рдпрд╛рддреНрдордХ рд▓рдЧрддрд╛ рдерд╛ред</font></font></b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// URL- $url = "https://example.com/books/196/empire-v-povest-o-nastoyashem-sverhcheloveke"; // URL,     (Selenium Server) $server = 'http://' . DOCKER_HOST . '/wd/hub'; //   ,      $options = new ChromeOptions(); $options-&gt;addArguments(array( '--disable-notifications' )); //    - $capabilities = DesiredCapabilities::chrome(); $capabilities-&gt;setCapability(ChromeOptions::CAPABILITY, $options); //        5000     URL $driver = RemoteWebDriver::create($server, $capabilities, 5000); $page = $driver-&gt;get($url);</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ рдЗрд╕рд▓рд┐рдП, рдореИрдВрдиреЗ рдЕрдкрдиреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рддреЗ рд╣реБрдП, рдпрд╣ рд╕рдм рдереЛрдбрд╝рд╛ рдХрдо рдХрд░ рджрд┐рдпрд╛: </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Process/worker/whoerChecker.php .... class whoerChecker extends nextStepWorker { //    : app/settings.php // URL Selenium Server const SELENIUM_SERVER = CHVM; //  - const DOCKER_NAME = DOCKER_NAME; .... public function config() .... //        : // $driver = RemoteWebDriver::create($server, $capabilities, 5000); $chrome = Chrome::driver( static::SELENIUM_SERVER, Chrome::capabilities(static::DOCKER_NAME, $plugins), 5000 ); .... } ....</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдВрдЦ рддреБрд░рдВрдд $ рдкреНрд▓рдЧ рд╕реЗ рдЪрд┐рдкрдХ рдЬрд╛рддреА рд╣реИред </font><font style="vertical-align: inherit;">$ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдПрдХ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рд╣реИ рдЬреЛ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред </font><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рд▓рд┐рдП рдФрд░ </font><font style="vertical-align: inherit;">рдкреНрд▓рдЧрдЗрди </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рд╛рдЗрд▓реЛрдВ </font><font style="vertical-align: inherit;">рдореЗрдВ рдкреНрд▓реЗрд╕рд╣реЛрд▓реНрдбрд░реНрд╕ рдХреА рдЬрдЧрд╣ рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">ред</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрд░рдЪрдирд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди / рдкреНрд▓рдЧ-рдЗрди рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╣реИ рдФрд░ рд╡реИрд╢реНрд╡рд┐рдХ рд╡рд┐рдХрд▓реНрдк рдРрдк / рд╕реЗрдЯрд┐рдВрдЧреНрд╕.php рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред</font></font></b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/plugs.php const PLUGS = [ 'timeshift' =&gt; [ 'path' =&gt; PROJECTPATH . '/app/chromePlugins/timeShift', 'files' =&gt; ['manifest.json', 'timeshift.js', 'content.js'], 'fields' =&gt; ['%addsminutes' =&gt; 'timeshift'] ], 'proxy' =&gt; [ 'path' =&gt; PROJECTPATH . '/app/chromePlugins/proxy', 'files' =&gt; ['manifest.json', 'background.js'], 'fields' =&gt; [ '%proxy_host' =&gt; 'host', '%proxy_port' =&gt; 'port', '%scheme' =&gt; 'scheme', '%username' =&gt; 'user', '%password' =&gt; 'pass' ] ] ];</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЗрд▓реЗрдирд┐рдпрдо рд╡реЗрдмрдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╛рде рдПрдХ рдкреГрд╖реНрда рдкрд╛рд░реНрд╕ </font><font style="vertical-align: inherit;">рдХрд░рдирд╛ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИред</font></font><br><br><pre> <code class="php hljs">.... $url = <span class="hljs-string"><span class="hljs-string">'https://__/_-_'</span></span>; $page = $chrome-&gt;get($url); .... <span class="hljs-comment"><span class="hljs-comment">//   xPath-   $xpath = '/html[1]/body[1]/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[1]/div[1]/strong[1]'; $element = page-&gt;findElement(WebDriverBy::xpath($xpath)); .... //   $text = $element-&gt;getText(); // HTML- $html = $element-&gt;&gt;getAttribute('innerHTML'); ....</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА рд▓рд┐рдЦрд╛ рд╣реИ, рдЗрди рд╕рднреА рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рддреАрд╕рд░реЗ рдЪрд░рдг рдХреА рдЙрдкрдпреЛрдЧрд┐рддрд╛ ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рд░реНрдп 4,5,6</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">рджреНрд╡рд╛рд░рд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">:</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // рдРрдк / src / рдкреНрд░рдХреНрд░рд┐рдпрд╛ / рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ / whoerChecker.php </font></font><br></blockquote><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЗрд▓реЗрдирд┐рдпрдо рд╕рд░реНрд╡рд░ рдХреЗ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд╡рд┐рд╡рд░рдг рдХреЛ </font><font style="vertical-align: inherit;">рдЫреЛрдбрд╝рдХрд░, рдореИрдВ рдЗрд╕ рддрдереНрдп рдкрд░ рдЖрдкрдХрд╛ рдзреНрдпрд╛рди рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдЬрдм рдЗрд╕ рддрдХрдиреАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдФрджреНрдпреЛрдЧрд┐рдХ рдкреИрдорд╛рдиреЗ (1000 - 3000 рдкреГрд╖реНрда рдХреЗ рдЙрджреНрдШрд╛рдЯрди) рдкрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ </font><font style="vertical-align: inherit;">рдЧрд▓рдд рддрд░реАрдХреЗ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЗ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рдорд╛рдкреНрдд </font><b><font style="vertical-align: inherit;">рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрд▓реЗрдирд┐рдпрдо рд╕рд░реНрд╡рд░ рдХреЗ</font></b><font style="vertical-align: inherit;"> рд╕рд╛рде рд╕рддреНрд░ рдХреЗ рд▓рд┐рдП рдпрд╣ рдЕрд╕рд╛рдорд╛рдиреНрдп рдирд╣реАрдВ рд╣реИ </font><font style="vertical-align: inherit;">ред рдЦрд┐рдбрд╝рдХреА рдорд╛рд▓рд┐рдХ рд░рд╣рд┐рдд рд╣реИред рдФрд░ рдРрд╕реА рдЦрд┐рдбрд╝рдХрд┐рдпрд╛рдВ рдмрд╣реБрдд рдХреБрдЫ рдЬрдорд╛ рдХрд░ рд╕рдХрддреА рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"рдмреНрд░реЛрдЪ" рдХрд╛ рдореБрдХрд╛рдмрд▓рд╛ рдХрд░рдиреЗ рдХреЗ рдХрдИ рддрд░реАрдХреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ред рдХрд╛рдо "2 рджрд┐рди" рдЦрд╛ рд▓рд┐рдпрд╛ред рд╕рдмрд╕реЗ рдкреНрд░рднрд╛рд╡реА </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрд░реЛрди</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдерд╛ </font><font style="vertical-align: inherit;">ред рдбреЙрдХрд░ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рд╕рд╣реА рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдПрдХ рдЕрд▓рдЧ рдХрд╛рд░реНрдп рдореЗрдВ рдмрджрд▓ рдЧрдпрд╛, рдзреНрдпрд╛рди рд╕реЗ рдФрд░ рдмрд╣реБрдд рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реЗрдВрд╕рдХреА</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджреНрд╡рд╛рд░рд╛ рд╡рд░реНрдгрд┐рдд </font><font style="vertical-align: inherit;">, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдбреЙрдХрдЯрд░ рдХрдВрдЯреЗрдирд░ рдХреЗ рдЕрдВрджрд░ рдХреНрд░реЛрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдкрд░ рдПрдХ рд▓реЗрдЦ"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рд▓реЗрдЦ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдкрд┐рдд рдХреЗрд╡рд▓ </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link"><font style="vertical-align: inherit;">рдЯреЙрдкрд┐рдХ</font></a><font style="vertical-align: inherit;"> (рдЬрд┐рд╕реЗ рдореИрдВ рдЖрд╢реНрдЪрд░реНрдпрдЪрдХрд┐рдд рдерд╛) рдореЗрдВред</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореВрд▓ рдбреЙрдХрд░ рдЫрд╡рд┐ рдХрд╛ рд╕реНрд╡рдд: рдкреБрдирд░реНрдирд┐рд░реНрдорд╛рдг рдФрд░ рдмреНрд░реЛрдЪ рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдФрд░ рдЕрдкреНрд░рдпреБрдХреНрдд рдкреНрд▓рдЧ рдХреЛ рд╕рд╛рдл рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рд▓рд┐рдкрд┐рдпреЛрдВ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреЛ рдбреЙрдХрдЯрд░-рдХрдВрдкреЛрдЬ.рдорд╛рдЗрд▓, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╕реЗ рдХреНрд▓рд┐рдХрд░ рдФрд░ рдбреЙрдХрд░ рдЗрдиреНрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЗ рднрдВрдбрд╛рд░</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="   clicker  docker-  "><font style="vertical-align: inherit;">рд╣реИ</font></a><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рд╕рдлрд╛рдИ рдЖрд╡реГрддреНрддрд┐ рдЙрд╕реА рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреА рдХрд┐рд▓рдХрд╛рд░реНрди рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реЗрдЯ рдХреА рдЧрдИ рд╣реИред</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WebRTC </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕рд╣реА рд╕рдордп рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рдФрд░ рд╣рдорд╛рд░реЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХрд╛ рдЯреНрд░реИрдлрд╝рд┐рдХ рдкреНрд░реЙрдХреНрд╕реА рд╕реЗ рдЧреБрдЬрд░рддрд╛ рд╣реИ, рдлрд┐рд░ рднреА рд╣рдореЗрдВ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдордп рдХреЗ рдЕрдВрддрд░ (рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдФрд░ рдЖрдИрдкреА рдкрддреЗ) рдХреЗ рдЕрд▓рд╛рд╡рд╛, "рдПрдХ рдкреНрд░реЙрдХреНрд╕реА рдХреЗ рдкреАрдЫреЗ рдмреИрдареЗ" рдХреЗ рдирд╛рдордХрд░рдг рдХреЗ рджреЛ рдФрд░ рд╕реНрд░реЛрдд рд╣реИрдВред </font><font style="vertical-align: inherit;">рдпреЗ </font><font style="vertical-align: inherit;">рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ </font><font style="vertical-align: inherit;">рдлреНрд▓реИрд╢ рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХрд┐рдпрд╛рдБ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдорд╛рд░реЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлреНрд▓реИрд╢</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдХреНрд╖рдо </font><font style="vertical-align: inherit;">рд╣реИ </font><font style="vertical-align: inherit;">, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд╣реАрдВ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрд╕рдлрд▓рддрд╛ рдХреА рджреЛрдиреЛрдВ рд╕рдВрднрд╛рд╡рдирд╛рдУрдВ рдХрд╛ рдХрд╛рд░рдг рдПрдХ рд╣реА рд╣реИ - рд╕рд░реНрд╡рд╡реНрдпрд╛рдкреА рдФрд░ рдлреБрд░реНрддреАрд▓рд╛ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпреВрдбреАрдкреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреИрдХреЗрдЯред </font><font style="vertical-align: inherit;">рдХреЗ рд▓рд┐рдП </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : рджреЛ рдкреЛрд░реНрдЯ рд╣реИ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3478</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19302</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрд░реЛрдо рдХрдВрдЯреЗрдирд░ рд╕реЗ рд╕реНрдХрд╛рдЙрдЯреНрд╕ рдХреЗ рдкрд▓рд╛рдпрди рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрдиреНрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХрдВрдЯреЗрдирд░ рдХреЗ рд╕рд╛рде рдореЗрдЬрдмрд╛рди рдорд╢реАрди рдкрд░ iptables рдирд┐рдпрдо рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:</font></font><br><br><pre> <code class="bash hljs">iptables -t raw -I PREROUTING -p udp -m multiport --dports 3478,19302 -j DROP</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХ рд╣реА рдкреНрд░реЙрдХреНрд╕реА рд╣реЗрд▓реНрдкрд░ рдЗрд╕ рдХрд╛рд░реНрдп рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрд╛рдХреА рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдХреНрд╖реНрдп рдХреА рд╕рдлрд▓ рдЙрдкрд▓рдмреНрдзрд┐ рдХреЗ рд▓рд┐рдП - рдПрдХ рдЧреБрдордирд╛рдо рдкреНрд░реЙрдХреНрд╕реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓рдХреНрд╖реНрдп рд╕рд╛рдЗрдЯ рдкрд░ "рдХреНрд▓рд┐рдХ" рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдПрдХ рдФрд░ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whoerChecker</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рдПрдХ рдЫреЛрдЯрд╛ рд╕рдВрд╕реНрдХрд░рдг рд╣реЛрдЧрд╛ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдЕрдкрдиреЗ рджрдо рдкрд░ рдХрд░рдирд╛ рд╣реИ, рд▓рд┐рдЦрд┐рдд рд╕рдм рдХреБрдЫ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛, рдпрд╣ рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреВрд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдкрд░рд┐рдгрд╛рдо, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдерд┐рдд</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрддрд╛рд░ рдореЗрдВ рдЧрд┐рд░рдиреЗ рд╕реЗ </font><font style="vertical-align: inherit;">, рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд┐рдП рдЧрдП рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░реЙрдХреНрд╕реА рд╕рд░реНрд╡рд░ рдкрддреЗ рдХреЗ рдЧреБрдордирд╛рдореА рдХреА "рдбрд┐рдЧреНрд░реА" рдкрд░ рдбреЗрдЯрд╛ рд╣реЛрддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрдм рдХрд╛рдЙрдВрдЯрд░реЛрдВ рдХреЗ рдЦрд┐рд▓рд╛рдл "рдЦреЗрд▓" рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╛рдж рд░рдЦрдиреЗ рд╡рд╛рд▓реА рдореБрдЦреНрдп рдмрд╛рдд рдЧреБрдордирд╛рдореА рд╣реИ рдФрд░ рд░реЛрдмреЛрдЯ рдпрд╛рддреНрд░рд╛рдУрдВ рдХреЗ рд╕рд╛рде рджреВрд░ рдирд╣реАрдВ рдЬрд╛рдирд╛ рд╣реИред </font><font style="vertical-align: inherit;">"рдХреНрд▓рд┐рдХ рдХреЗ рд╕рд╛рде рджреВрд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ" рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдХрд╛ рдЕрдиреБрдкрд╛рд▓рди рдПрдХ рдЕрдиреБрд╕реВрдЪреА рдкрд░ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗ рдЖрдпреЛрдЬрди рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рджреНрд╡рд╛рд░рд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрд╕рдмреЗрдЯрд╕реНрдХ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font><font style="vertical-align: inherit;">рд╣рдорд╛рд░реЗ </font><b><font style="vertical-align: inherit;">рдИрдПрд╕рдмреА</font></b><font style="vertical-align: inherit;"> рд▓рд┐рдлрд╛рдлреЗ рдХреЗ </font><font style="vertical-align: inherit;">рдХреНрд╖реЗрддреНрд░ рдХреЗ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╛рдж рд╕реЗ)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдПрдореНрдмреЗрдбреЗрдб рд╣реИ </font><font style="vertical-align: inherit;">ред</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рдЖрдк рд╕рдм рдХреБрдЫ рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ </font><font style="vertical-align: inherit;">рд▓рдХреНрд╖реНрдп рд╕рд╛рдЗрдЯ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛ рдпреИрдВрдбреЗрдХреНрд╕-рдореАрдЯреНрд░рд┐рдХ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЖрдВрдХрдбрд╝реЗ рдХреЗ рд╕рдорд╛рди рд╣реЛрдЧрд╛ред</font></font><br><br><img src="https://habrastorage.org/webt/es/wn/kk/eswnkk5esmtcunc6xvpn90ndefw.png"><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреИрд╕реЗ рд╕рдм рдХреБрдЫ рдПрдХ рд╕рд╛рде рд░рдЦрд╛ рдЬрд╛рдП </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рддреЛ, рджрд┐рдпрд╛ рдЧрдпрд╛: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧрд┐рддрд╛рдУрдВ рдЬреЛ "рдЗрдирдкреБрдЯ рдХреЗ рд░реВрдк рдореЗрдВ" (рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ) рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИрдВ, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЛрд╕рди</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -рд╕реНрдЯреНрд░рд┐рдВрдЧ рд░реВрдк </font><i><font style="vertical-align: inherit;">рдореЗрдВ рдПрд╕реНрдХрдЯрд╕реНрдХ</font></i><font style="vertical-align: inherit;"> рдФрд░ рдХреБрдЫ рддрд░реНрдХ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдкрд░рд┐рдгрд╛рдо рдХреЛ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреАрдирд╕реНрдЯреЙрдХ рдореЗрдВ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рднреЗрдЬрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">;</font></font></li><li><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">рдмреАрдирд╕реНрдЯреЙрдХ</font></b><font style="vertical-align: inherit;"> рдкрд░ рдЖрдзрд╛рд░рд┐рдд </font><font style="vertical-align: inherit;">рд╕рдВрджреЗрд╢ </font><b><font style="vertical-align: inherit;">рдХрддрд╛рд░рдмрджреНрдз</font></b><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MQ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">;</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓рд┐рдирдХреНрд╕ рдорд╢реАрди (рдкреНрд░реЛрд╕реЗрд╕ рдорд╢реАрди); </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ "рджрд┐рдпрд╛" рдХреЗ рд╕рд╛рде, рдЖрдорддреМрд░ рдкрд░ рдореИрдВ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libevent</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React PHP рдХрд╛</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ </font><b><font style="vertical-align: inherit;">рд╣реВрдВ</font></b><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдпрд╣ рд╕рдм, рдХрдИ рдЙрдкрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рдкреВрд░рдХ, рдЖрдкрдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЪрд░рдг рдХреЗ рд▓рд┐рдП рд╣реИрдВрдбрд▓рд░ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ (рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕реАрдорд╛рдУрдВ рдХреЗ рднреАрддрд░) рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдВрдХрд┐, рд▓реЗрдЦ рдХрд╛ рдЖрдХрд╛рд░ рдФрд░ рд╡рд┐рд╖рдп рдХреА рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рдореБрдЭреЗ рдПрдХ рдЕрд▓рдЧ рд▓реЗрдЦ рдореЗрдВ рдпрд╣ рд╕рдм рдмрддрд╛рдиреЗ рдореЗрдВ рдЦреБрд╢реА рд╣реЛрдЧреАред </font><font style="vertical-align: inherit;">рдпрд╣ рд▓реЗрдЦ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noserver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рддрдХрдиреАрдХ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рднрд╡рд┐рд╖реНрдп рдХрд╛ рд╕рд╛рдорд╛рди " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд░реНрд╡рд░</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " рд╣реИред</font></font><blockquote><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рдкреНрд░рдХрд╛рд╢рди рдХреА рддрд╛рд░реАрдЦ рдЖрдкрдХреА рд░реБрдЪрд┐ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ, рдкреНрд░рд┐рдп рдкрд╛рдардХред</font></font></b> <div class="spoiler_text"><blockquote>      .      , ,тАж . ,  ,    ,   ,     ,         . <br><br>   <b>habr</b>   ,     . , ,          . <br><br>        .     ,        " <b>server</b> ",       <b>README.md</b>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="   clicker  docker-  "> </a> . </blockquote></div></div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдиреЛрд╕рд░реНрд╡рд░</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " рдореЗрдВ, рдПрдХ рдЙрджрд╛рд╣рд░рдг рдПрдХ рдХрддрд╛рд░ (рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЪрд░рдг) рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░реЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЗрд╡рд▓ рдЙрди рдЖрддреНрдорд╛рдУрдВ рдХреЛ рдкреЗрд╢рд╛рдм рдХрд░ рд╕рдХрддрд╛ рд╣реИ</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЬрд┐рдирдХрд╛ рдЙрдкрдпреЛрдЧ рдореИрдВ рд╢реНрд░рдорд┐рдХреЛрдВ рдХреЛ рдбрд┐рдмрдЧрд┐рдВрдЧ рдХрд░рддреЗ рд╕рдордп рдХрд░рддрд╛ рд╣реВрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдЖрд╡рд╢реНрдпрдХ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЧрддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдЖрдк "рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ" рдЬреИрд╕реА рдХрдИ рдкреНрд░рддрд┐рдпрд╛рдБ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рдЗрд╕ рддрд░рд╣ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Process/noserver/singleProcess.php //   ,    //   include __DIR__ . '/../../../settings.php'; use App\ESB\pipeNcacheService; use App\arrayNstring\queueDSN; use App\arrayNstring\timeSpent; use App\arrayNstring\progressString; //    $path = __DIR__ . '/../worker'; //   $queues = array_keys(WORKERS); $queue = $argv[1] ?? end($queues); $queue = strtolower($queue); if (!in_array($queue, $queues)) die("php $argv[0] &lt;queue_name&gt;" . PHP_EOL); //  - $progress = new progressString("Listenning... Idle: ", 40, 20); // ,      $stopwatch = timeSpent::start(); //    beanstalkd- list($worker, $task) = WORKERS[$queue]; $procid = ['procid' =&gt; posix_getpid()]; //   beanstalkd  Memcached, //     ( ) $dsn = new queueDSN($task, $queue, ...QUEUE_SERVER); //     ESB- $pnc = new pipeNcacheService($dsn); $pipe = $pnc-&gt;getPipe(); echo "Start listener for queue: $queue." . PHP_EOL; echo "Press Ctrl-C to stop listener." . PHP_EOL; //      //       while (true) { try { $job = $pipe-&gt;watch($queue) -&gt;reserve(1); $now = new DateTime(); $opts = json_encode($pipe-&gt;getPayload($job) + $procid); $pipe-&gt;delete($job); echo PHP_EOL . "Task recived at: " . $now-&gt;format('H:i:s') . " Starting worker: $worker. "; $stopwatch = timeSpent::start(); exec("php $path/$worker $opts", $out); echo "Finished. Time spent: $stopwatch" . PHP_EOL; $stopwatch = timeSpent::start(); } catch (Throwable $exception) { echo $progress($stopwatch('%I:%S', null, $now)); } }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдХреА рдЕрдЬреАрдм рд╢реБрд░реБрдЖрдд рд╣рдбрд╝рддрд╛рд▓реА рд╣реИ ... рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдПрдХ PHP рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИ, рдореИрдВрдиреЗ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд╖реНрдкрд╛рджрди (...) рдХрд╛</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ </font><font style="vertical-align: inherit;">ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рд╕рдордп рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рддрд╛рдХрд┐ </font><font style="vertical-align: inherit;">" </font><b><font style="vertical-align: inherit;">рд╕рд░реНрд╡рд░</font></b><font style="vertical-align: inherit;"> " </font><font style="vertical-align: inherit;">рдореЛрдб рдореЗрдВ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рдХреЗ </font><font style="vertical-align: inherit;">рд▓рд┐рдП " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдиреЛрдЬрд░рд╡рд░</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " рдХреЗ </font><font style="vertical-align: inherit;">рд▓рд┐рдП рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╢реНрд░рдорд┐рдХ </font><font style="vertical-align: inherit;">рди </font><b><font style="vertical-align: inherit;">рдмрдиреЗрдВ</font></b><font style="vertical-align: inherit;"> рдпрд╛ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдХреЛ рди рдмрджрд▓реЗрдВ </font><font style="vertical-align: inherit;">ред</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдФрд░ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рд╢рдмреНрдж </font></font></h2><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╡рд┐рдиреНрдпрд╛рд╕ рд╕реНрдерд┐рд░рд╛рдВрдХ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдкрдХреЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app / settings.php рд╣реИ</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЛ рдХреНрд▓реЛрди рдХрд░рдиреЗ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рдЗрд╕реЗ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдлрд╝рд╛рдЗрд▓ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдРрдк / рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХрд╛</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд╛рдо рдмрджрд▓реЗрдВ </font><font style="vertical-align: inherit;">ред </font><i><font style="vertical-align: inherit;">php.dist</font></i><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рд╕рднреА рд╕реНрдерд┐рд░рд╛рдВрдХ рдЖрдВрддрд░рд┐рдХ рд░реВрдк рд╕реЗ рд╡рд░реНрдгрд┐рдд рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЕрдиреНрдп рдЪреАрдЬрд╝реЛрдВ рдХреЗ рдмреАрдЪ </font></font><br><br> <b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдРрдк / рд╕реЗрдЯрд┐рдВрдЧреНрд╕.рдлреИрдк</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдЕрдиреНрдп рд╕реНрдерд┐рд░рд╛рдВрдХ рдХреЗ рд╕рд╛рде рдлрд╛рдЗрд▓ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app / queues.php</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдХрддрд╛рд░реЛрдВ рдФрд░ рдиреМрдХрд░рд┐рдпреЛрдВ рдХреЗ рдирд╛рдо рд╢рд╛рдорд┐рд▓ рд╣реИрдВ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдРрдк / рдкреНрд▓рдЧрдЗрдиреНрд╕</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрд░реЛрдо</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреНрд▓рдЧрдЗрдиреНрд╕ </font><font style="vertical-align: inherit;">рдХрд╛ рд╡рд┐рд╡рд░рдг рд╣реИ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдРрдк / Techs.php</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдкрд░рд┐рдХрд▓рд┐рдд рд╕реНрдерд┐рд░рд╛рдВрдХ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ</font></font><br></blockquote><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧрд┐рддрд╛рдПрдБ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдФрд░ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд░рдЦрдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рдХрдИ рдЙрдкрдпреЛрдЧрд┐рддрд╛рдУрдВ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧрд┐рддрд╛рдПрдБ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рд╕реЗ рд▓реЙрдиреНрдЪ рдХреА рдЬрд╛рддреА рд╣реИрдВред </font><font style="vertical-align: inherit;">рддрд░реНрдХ рд╡рд░реНрдгрди рдХреЗ рд╕рд╛рде рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ред </font><font style="vertical-align: inherit;">рд╕реНрдерд┐рдд: </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдкреНрд▓рд┐рдХреЗрд╢рди / src / Utils</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font><br><blockquote><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> backup.php - рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдХрддрд╛рд░ рдмрдЪрд╛рддрд╛ рд╣реИ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    clear.php - рдХрддрд╛рд░реЛрдВ рдХреЛ рд╕рд╛рдл рдХрд░рддрд╛ рд╣реИ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    Export.php - рдПрдХ рд╕рд╣реЗрдЬреА рдЧрдИ рдХрддрд╛рд░ рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдирд┐рд░реНрдпрд╛рдд </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                     рдЬреЛрдбрд╝реЗ рдХрд╛ рдкрддрд╛: рдмрдВрджрд░рдЧрд╛рд╣</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    givethejob.php - рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдХрд╛рд░реНрдп рдкреЛрд╕реНрдЯ рдХрд░рддрд╛ рд╣реИ </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                     (рд╕реНрд░реЛрдд - рдкрддрд╛: рдкреЛрд░реНрдЯ рдХреЙрдореНрдмреЛ рдмреЙрдХреНрд╕)ред</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                     рдХреБрдЫ рдкрддреЛрдВ рдХреЛ рд╕реВрдЪреА рд╕реЗ рдмрд╛рд╣рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    rest.php - рдПрдХ рд╕рд╣реЗрдЬреА рдЧрдИ рдХрддрд╛рд░ рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИ </font></font></pre></blockquote><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛рд░реНрдпрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдлрд╛рдЗрди рдЯреНрдпреВрдирд┐рдВрдЧ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓рд┐рдЦрд┐рдд рд╢реНрд░рдорд┐рдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ: </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Process/worker/curlChecker.php .... $worker = new curlChecker( [ //    curlChecker::WORKER =&gt; 'curlchecker', //  beanstalkd curlChecker::PIPE_HOSTPORT =&gt; implode(':', QUEUE_SERVER), //  Memcached curlChecker::CACHE_HOSTPORT =&gt; implode(':', MEMCACHED), // ,    . //    -   curlChecker::DB_SCRIPT =&gt; __DIR__ . '/../../../confdb.php', // ,       // (        -) curlChecker::INFO_START =&gt; CURL_START, // ,        // (        -) curlChecker::INFO_END =&gt; CURL_END, //  ,     //    //        curlChecker::INFO_ADDS_END =&gt; ['host', 'port'] ], ['setupworker', 'config', 'logic'] ); ....</span></span></code> </pre><br><a name="deploy"></a><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рддреИрдирд╛рддреА </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореИрдиреБрдЕрд▓ рдорд╛рдирддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ubuntu 18.04</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реНрдерд╛рдкрд┐рдд рдХреЗ рд╕рд╛рде 2 рдорд╢реАрдиреЗрдВ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЙрдХрдЯрд░</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рдХреЗ рд▓рд┐рдП, рджреВрд╕рд░рд╛ рдкреНрд░реЛрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓ ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдХреНрд░рд┐рдпрд╛</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рдХреЗ рд▓рд┐рдПред </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбрд╛рдХ рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗрд╡рд╛рд▓рд╛ рдордЬрд╝рджреВрд░</font></font></b> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    root-. # ,     TCP-: # 11300, 11211, 4444, 5930, 8080, 8081, 8082, 8083 #   . sudo -s apt -y update apt -y install git snap snap install docker apt -y install docker-compose # C       # " root-"    cd ~ git clone \ https://oauth2:YRGzV8Ktx2ztoZg_oZZL@git.ituse.ru/deploy/esb-infrastructure.git cd esb-infrastructure docker-compose up --build -d #      3     #   . #       web-.</span></span></code> </pre><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдХреНрд░рд┐рдпрд╛</font></font></b> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#      . #   . sudo apt -y update sudo apt -y install git php-common php-cli php-curl php-zip php-memcached composer # C     process-   , #     -  php- cd /var/www git clone \ https://oauth2:YRGzV8Ktx2ztoZg_oZZL@git.ituse.ru/deploy/clicker-noserver.git cd clicker-noserver composer update #  .       "XXXXXXXX" mv app/settings.php.dist app/settings.php #   . gnome-terminal \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php curl"' \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php timezone"' \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php whoer"' #  . ,     , #  : - log/list.proxy php app/src/Utils/givethejob.php ./log/list.proxy</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ, рд╡реЗрдм-рдкреИрдирд▓ (http: // ip-address-docker-Machines: 8080) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рдпрд╣ рджреЗрдЦрдирд╛ред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд░рд┐рдгрд╛рдо </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдерд┐рдд</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрддрд╛рд░ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧрд╛ </font><font style="vertical-align: inherit;">ред</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ рдирд┐рд╖реНрдХрд░реНрд╖ рдореЗрдВ </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реИрд░рд╛рдиреА рдХреА рдмрд╛рдд рд╣реИ рдХрд┐ рдЗрд╕ рд▓реЗрдЦ рдХреЛ рд▓рд┐рдЦрдиреЗ рдФрд░ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдХреЛрдб рд▓рд┐рдЦрдиреЗ рд╕реЗ рдЕрдзрд┐рдХ рд╕рдордп рд▓рдЧрд╛ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рд╕рдм рдХреБрдЫ рджреВрд╕рд░реЗ рддрд░реАрдХреЗ рд╕реЗ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ (рдФрд░ рд╕рдордп рдХрд╛ рдЕрдВрддрд░ рдХрдИ рдЧреБрдирд╛ рдмрдбрд╝рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ), рдЕрдЧрд░ рджреЛ рд╡рд┐рдЪрд╛рд░рдзрд╛рд░рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрджреЗрд╢ рдХрддрд╛рд░</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрджреНрдпрдо рд╕реЗрд╡рд╛ рдмрд╕</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореБрдЭреЗ рдмрд╣реБрдд рдЦреБрд╢реА рд╣реЛрдЧреА рдЕрдЧрд░ рдЖрдк рдкреНрд░рд╕реНрддреБрдд рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ рдЙрдкрдпреЛрдЧреА рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕реНрддреБрдд рджреГрд╖реНрдЯрд┐рдХреЛрдг рдкрд╛рддреЗ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рд╡рд┐рднрд┐рдиреНрди рднрд╛рдЧреЛрдВ рдкрд░ рднрд╛рд░ рдбрд┐рдЬрд╛рдЗрди рдЪрд░рдг рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИред</font></font><br><br>  рдЖрдкрдХрд╛ рдзрдиреНрдпрд╡рд╛рдж </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi432038/">https://habr.com/ru/post/hi432038/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi432024/index.html">рдЧреНрд░реЗрдб 5.0 - рдирдпрд╛ рдХреНрдпрд╛ рд╣реИ</a></li>
<li><a href="../hi432030/index.html">рдПрдХ рд╕рдВрдкрд░реНрдХ рд░рд╣рд┐рдд рдЭреВрда рдбрд┐рдЯреЗрдХреНрдЯрд░, рдпрд╛ рдЕрдзрд┐рдХрддрдо рдЧрддрд┐ рдкрд░ рд╣реИрдХрдереЙрди рдХреА рд╡реНрдпрд╡рд╕реНрдерд╛ рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
<li><a href="../hi432032/index.html">рд╣рдо Google рдЦреЛрдЬ рдХреНрд╖реЗрддреНрд░ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░ рдЪреБрдХреЗ рд╣реИрдВ</a></li>
<li><a href="../hi432034/index.html">рд░реБрдбреЛрд▓реНрдл рд╕реНрд╡реЛрд░реЗрди рдХреА рдкреБрд╕реНрддрдХ "рдЗрд▓реЗрдХреНрдЯреНрд░рд┐рдХ рд╕реНрдЯреЗрдк рдмрд╛рдп рд╕реНрдЯреЗрдк"</a></li>
<li><a href="../hi432036/index.html">рд▓рд╛рдЗрд╡: рдлреНрд░рдВрдЯ-рдПрдВрдб рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░</a></li>
<li><a href="../hi432040/index.html">рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ + рдкрд╣рд▓реВ: рд╕рддреНрдпрд╛рдкрди рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░реЗрдВ</a></li>
<li><a href="../hi432042/index.html">рдпреИрдВрдбреЗрдХреНрд╕ рдХреНрд▓рд╛рдЙрдб рдХреЛ рдЦреЛрд▓рддрд╛ рд╣реИред рдирдП рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХрд╛ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░</a></li>
<li><a href="../hi432046/index.html">рдЧреНрд░рд┐рд▓ рдЯреЗрд▓реАрдХреЙрдо рдбреЗрдЯрд╛ рдХрдк рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ред рдЖрдиреЗ рд╡рд╛рд▓рд╛ рд╕рдмрд╕реЗ рд╣реЙрдЯ</a></li>
<li><a href="../hi432048/index.html">рдХреЛрдИ рднреА рдмрд╛рд╣рд░ рдХреА рднрд╛рд╖рд╛рдУрдВ рдХреЛ рд╕реАрдЦрдиреЗ рдХреА рдЬрд╣рдордд рдХреНрдпреЛрдВ рдЙрдард╛рдПрдЧрд╛ред рдПрдл # рд╕рдореБрджрд╛рдп рдХрд╛ рдПрдХ рдХреЗрд╕ рд╕реНрдЯрдбреА</a></li>
<li><a href="../hi432050/index.html">рдмреНрд▓реЙрдХрдЪреИрди рд╣реИрдХрд╛рдереЙрди рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>