<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯО║ ЁЯд╡ЁЯП╝ ЁЯЧЭя╕П рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 10 рдорд┐рд▓рд┐рдпрди рдкреИрдХреЗрдЯ рдХреИрд╕реЗ рдЧрд┐рд░рд╛рдПрдВ ЁЯШЙ ЁЯСйЁЯП╜тАНтЪЦя╕П ЁЯЕ╛я╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХрдВрдкрдиреА рдореЗрдВ, DDoS рд╣рдорд▓реЛрдВ рдХрд╛ рдореБрдХрд╛рдмрд▓рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░реА рдЯреАрдо рдХреЛ "рдкреИрдХреЗрдЯ рдбреНрд░реЙрдкрд░" рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред рдЬрдмрдХрд┐ рдЕрдиреНрдп рд╕рднреА рдЯреАрдореЗрдВ рд╣рдорд╛рд░реЗ рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рдЧреБрдЬрд░рдиреЗ рд╡рд╛рд▓реЗ рдЯреНрд░реИрдлрд┐рдХ рдХреЗ рд╕рд╛рде ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 10 рдорд┐рд▓рд┐рдпрди рдкреИрдХреЗрдЯ рдХреИрд╕реЗ рдЧрд┐рд░рд╛рдПрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419921/"> рдХрдВрдкрдиреА рдореЗрдВ, DDoS рд╣рдорд▓реЛрдВ рдХрд╛ рдореБрдХрд╛рдмрд▓рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░реА рдЯреАрдо рдХреЛ "рдкреИрдХреЗрдЯ рдбреНрд░реЙрдкрд░" рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЬрдмрдХрд┐ рдЕрдиреНрдп рд╕рднреА рдЯреАрдореЗрдВ рд╣рдорд╛рд░реЗ рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рдЧреБрдЬрд░рдиреЗ рд╡рд╛рд▓реЗ рдЯреНрд░реИрдлрд┐рдХ рдХреЗ рд╕рд╛рде рд╢рд╛рдВрдд рдЪреАрдЬреЗрдВ рдХрд░ рд░рд╣реА рд╣реИрдВ, рд╣рдореЗрдВ рдЗрд╕рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдирдП рддрд░реАрдХреЗ рдЦреЛрдЬрдиреЗ рдореЗрдВ рдордЬрд╝рд╛ рдЖрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/s-/3y/un/s-3yun8pllqd7-e077fuxbk9jiw.png"><br>  <i>рдлреЛрдЯреЛ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреНрд░рд╛рдпрди рдЗрд╡рд╛рдВрд╕</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реАрд╕реА рдмрд╛рдп-рдПрд╕рдП 2.0</a></i> <br><br>  рдбреАрдбреАрдУрдПрд╕ рд╣рдорд▓реЛрдВ рдХрд╛ рд╡рд┐рд░реЛрдз рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреИрдХреЗрдЯ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рдЫреЛрдбрд╝рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред <br><br>  рд╣рдорд╛рд░реЗ рд╕рд░реНрд╡рд░ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рд╡рд╛рд▓реЗ рдкреИрдХреЗрдЯ рдХреЛ рдХрдИ рд╕реНрддрд░реЛрдВ рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рдзрд┐ рдХреЗ рдкреЗрд╢реЗрд╡рд░реЛрдВ рдФрд░ рд╡рд┐рдкрдХреНрд╖ рд╣реИрдВред  рдХрдЯреМрддреА рдХреЗ рддрд╣рдд, рд╣рдо рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдкрд░реАрдХреНрд╖рдг рдХреА рдЧрдИ рд╣рд░ рдЪреАрдЬ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВред <br><a name="habracut"></a><br><blockquote>  <i>рдЕрдиреБрд╡рд╛рджрдХ рдХрд╛ рдиреЛрдЯ: рдкреНрд░рд╕реНрддреБрдд рдХреБрдЫ рдЖрджреЗрд╢реЛрдВ рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ, рдкрдардиреАрдпрддрд╛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реНрдерд╛рди рд╣рдЯрд╛ рджрд┐рдП рдЧрдП рдереЗред</i> </blockquote><h1>  рдкрд░реАрдХреНрд╖рдг рд╕реНрдерд▓ </h1><br>  рддрд░реАрдХреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЖрдкрдХреЛ рдХреБрдЫ рд╕рдВрдЦреНрдпрд╛рдПрдВ рдкреНрд░рджрд╛рди рдХрд░реЗрдВрдЧреЗ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреА рдХреГрддреНрд░рд┐рдорддрд╛ рдХреЗ рдХрд╛рд░рдг, рдЙрдиреНрд╣реЗрдВ рдмрд╣реБрдд рд╢рд╛рдмреНрджрд┐рдХ рд░реВрдк рд╕реЗ рдирд╣реАрдВ рд▓реЗрддреЗ рд╣реИрдВред  рд╣рдо рдЕрдкрдиреЗ рдЗрдВрдЯреЗрд▓ 10Gb / s рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛рд░реНрдб рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  рд╢реЗрд╖ рд╕рд░реНрд╡рд░ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рдЗрддрдиреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреА рд╕реАрдорд╛рдУрдВ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдирд╣реАрдВред <br><br>  рд╣рдорд╛рд░реЗ рдкрд░реАрдХреНрд╖рдг рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╣реЛрдВрдЧреЗ: <br><br><ul><li>  рд╣рдо рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЫреЛрдЯреЗ рдпреВрдбреАрдкреА рдкреИрдХреЗрдЯреЛрдВ рдХрд╛ рднрд╛рд░ рдмрдирд╛рддреЗ рд╣реИрдВ, рдЬреЛ 14 рдорд┐рд▓рд┐рдпрди рдкреИрдХреЗрдЯ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рдХреЗ рдореВрд▓реНрдп рддрдХ рдкрд╣реБрдВрдЪрддреЗ рд╣реИрдВ; </li><li>  рдпрд╣ рд╕рднреА рдЯреНрд░реИрдлрд╝рд┐рдХ рдЪрдпрдирд┐рдд рд╕рд░реНрд╡рд░ рдХреЗ рдПрдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЛрд░ рдХреЛ рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ; </li><li>  рд╣рдо рдПрдХрд▓ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЛрд░ рдкрд░ рдХрд░реНрдиреЗрд▓ рджреНрд╡рд╛рд░рд╛ рд╕рдВрд╕рд╛рдзрд┐рдд рдкреИрдХреЗрдЯ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдорд╛рдкрддреЗ рд╣реИрдВред </li></ul><br>  рдЕрдзрд┐рдХрддрдо рд▓реЛрдб рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреГрддреНрд░рд┐рдо рдЯреНрд░реИрдлрд╝рд┐рдХ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ: рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдЖрдИрдкреА рдкрддреЗ рдФрд░ рдкреНрд░реЗрд╖рдХ рдкреЛрд░реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рд╡рд╣реА рд╣реИ рдЬреЛ tcpdump рдореЗрдВ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre><code class="bash hljs">$ tcpdump -ni vlan100 -c 10 -t udp and dst port 1234 IP 198.18.40.55.32059 &gt; 198.18.0.12.1234: UDP, length 16 IP 198.18.51.16.30852 &gt; 198.18.0.12.1234: UDP, length 16 IP 198.18.35.51.61823 &gt; 198.18.0.12.1234: UDP, length 16 IP 198.18.44.42.30344 &gt; 198.18.0.12.1234: UDP, length 16 IP 198.18.106.227.38592 &gt; 198.18.0.12.1234: UDP, length 16 IP 198.18.48.67.19533 &gt; 198.18.0.12.1234: UDP, length 16 IP 198.18.49.38.40566 &gt; 198.18.0.12.1234: UDP, length 16 IP 198.18.50.73.22989 &gt; 198.18.0.12.1234: UDP, length 16 IP 198.18.43.204.37895 &gt; 198.18.0.12.1234: UDP, length 16 IP 198.18.104.128.1543 &gt; 198.18.0.12.1234: UDP, length 16</code> </pre> <br>  рдЪрдпрдирд┐рдд рд╕рд░реНрд╡рд░ рдкрд░, рд╕рднреА рдкреИрдХреЗрдЯ рдПрдХ рдЖрд░рдПрдХреНрд╕ рдХрддрд╛рд░ рдореЗрдВ рдмрди рдЬрд╛рдПрдВрдЧреЗ рдФрд░ рдЗрд╕рд▓рд┐рдП, рдПрдХ рдХреЛрд░ рджреНрд╡рд╛рд░рд╛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд╣рдо рдЗрд╕реЗ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкреНрд░рд╡рд╛рд╣ рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рд╕рд╛рде рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">ethtool -N ext0 flow-type udp4 dst-ip 198.18.0.12 dst-port 1234 action 2</code> </pre><br>  рдкреНрд░рджрд░реНрд╢рди рдкрд░реАрдХреНрд╖рдг рдПрдХ рдЬрдЯрд┐рд▓ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИред  рдЬрдм рд╣рдордиреЗ рдкрд░реАрдХреНрд╖рдг рддреИрдпрд╛рд░ рдХрд┐рдП, рддреЛ рд╣рдордиреЗ рджреЗрдЦрд╛ рдХрд┐ рд╕рдХреНрд░рд┐рдп рдХрдЪреНрдЪреЗ рд╕реЙрдХреЗрдЯреЛрдВ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдирдХрд╛рд░рд╛рддреНрдордХ рд░реВрдк рд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЛ рдЪрд▓рд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХреЛрдИ рднреА <code>tcpdump</code> рдирд╣реАрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реИред  рдЦрд░рд╛рдм рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рд╣реИ: <br><br><pre> <code class="bash hljs">$ ss -A raw,packet_raw -l -p|cat Netid State Recv-Q Send-Q Local Address:Port p_raw UNCONN 525157 0 *:vlan100 users:((<span class="hljs-string"><span class="hljs-string">"tcpdump"</span></span>,pid=23683,fd=3))</code> </pre><br>  рдФрд░ рдЕрдВрдд рдореЗрдВ, рд╣рдо рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рдкрд░ рдЗрдВрдЯреЗрд▓ рдЯрд░реНрдмреЛ рдмреВрд╕реНрдЯ рдХреЛ рдмрдВрдж рдХрд░ рджреЗрддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs pgsql">echo <span class="hljs-number"><span class="hljs-number">1</span></span> | sudo tee /sys/devices/<span class="hljs-keyword"><span class="hljs-keyword">system</span></span>/cpu/intel_pstate/no_turbo</code> </pre> <br>  рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рдЯрд░реНрдмреЛ рдмреВрд╕реНрдЯ рдПрдХ рдорд╣рд╛рди рдЪреАрдЬ рд╣реИ рдФрд░ рдХрдо рд╕реЗ рдХрдо 20% рд╕реЗ рдереНрд░реВрдкреБрдЯ рдмрдврд╝рддрд╛ рд╣реИ, рдпрд╣ рд╣рдорд╛рд░реЗ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдореЗрдВ рдорд╛рдирдХ рд╡рд┐рдЪрд▓рди рдХреЛ рдХрд╛рдлреА рдЦрд░рд╛рдм рдХрд░рддрд╛ рд╣реИред  рдЯрд░реНрдмреЛ рдХреЗ рд╕рд╛рде, рд╡рд┐рдЪрд▓рди bo 1.5% рддрдХ рдкрд╣реБрдВрдЪ рдЬрд╛рддрд╛ рд╣реИ, рдЬрдмрдХрд┐ рдЗрд╕рдХреЗ рдмрд┐рдирд╛ рдХреЗрд╡рд▓ 0.25% рд╣реЛрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/ic/ik/jq/icikjqda_ztydjswe8xjq07u5sa.png"><br><br><h3>  рдЪрд░рдг 1. рдЖрд╡реЗрджрди рдореЗрдВ рдкреИрдХреЗрдЯ рдЫреЛрдбрд╝реЗрдВ </h3><br>  рдЖрдЗрдП рдЖрд╡реЗрджрди рд╕реЗ рд╕рднреА рдкреИрдХреЗрдЬреЛрдВ рдХреЛ рд╡рд┐рддрд░рд┐рдд рдХрд░рдиреЗ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЕрдирджреЗрдЦрд╛ рдХрд░рдиреЗ рдХреЗ рд╡рд┐рдЪрд╛рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВред  рдкреНрд░рдпреЛрдЧ рдХреА рдИрдорд╛рдирджрд╛рд░реА рдХреЗ рд▓рд┐рдП, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ iptables рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">iptables -I PREROUTING -t mangle -d 198.18.0.12 -p udp --dport 1234 -j ACCEPT iptables -I PREROUTING -t raw -d 198.18.0.12 -p udp --dport 1234 -j ACCEPT iptables -I INPUT -t filter -d 198.18.0.12 -p udp --dport 1234 -j ACCEPT</code> </pre><br>  рдЖрд╡реЗрджрди рдПрдХ рд╕рд░рд▓ рдЪрдХреНрд░ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рддреБрд░рдВрдд рдЦрд╛рд░рд┐рдЬ рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="python hljs">s = socket.socket(AF_INET, SOCK_DGRAM) s.bind((<span class="hljs-string"><span class="hljs-string">"0.0.0.0"</span></span>, <span class="hljs-number"><span class="hljs-number">1234</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: s.recvmmsg([...])</code> </pre><br>  рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА <a href="">рдХреЛрдб</a> рддреИрдпрд╛рд░ рдХрд░ рд▓рд┐рдпрд╛ рд╣реИ, рднрд╛рдЧреЛ: <br><br><pre> <code class="bash hljs">$ ./dropping-packets/recvmmsg-loop packets=171261 bytes=1940176</code> </pre><br>  рдпрд╣ рд╕рдорд╛рдзрд╛рди рдХрд░реНрдиреЗрд▓ рдХреЛ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХрддрд╛рд░ рд╕реЗ рдХреЗрд╡рд▓ 175 рд╣рдЬрд╛рд░ рдкреИрдХреЗрдЯ рд▓реЗрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ <code>mmwatch</code> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рдорд╛рд░реА</a> <code>mmwatch</code> рджреНрд╡рд╛рд░рд╛ рдорд╛рдкрд╛ рдЧрдпрд╛ рдерд╛: <br><br><pre> <code class="bash hljs">$ mmwatch <span class="hljs-string"><span class="hljs-string">'ethtool -S ext0|grep rx_2'</span></span> rx2_packets: 174.0k/s</code> </pre><br>  рддрдХрдиреАрдХреА рд░реВрдк рд╕реЗ, рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 14 рдорд┐рд▓рд┐рдпрди рдкреИрдХреЗрдЯ рд╕рд░реНрд╡рд░ рдкрд░ рдЖрддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдПрдХ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЛрд░ рдЗрд╕ рддрд░рд╣ рдХреА рдорд╛рддреНрд░рд╛ рдХрд╛ рд╕рд╛рдордирд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИред  <code>mpstat</code> рдЗрд╕рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ: <br><br><pre> <code class="bash hljs">$ watch <span class="hljs-string"><span class="hljs-string">'mpstat -u -I SUM -P ALL 1 1|egrep -v Aver'</span></span> 01:32:05 PM CPU %usr %nice %sys %iowait %irq %soft %steal %guest %gnice %idle 01:32:06 PM 0 0.00 0.00 0.00 2.94 0.00 3.92 0.00 0.00 0.00 93.14 01:32:06 PM 1 2.17 0.00 27.17 0.00 0.00 0.00 0.00 0.00 0.00 70.65 01:32:06 PM 2 0.00 0.00 0.00 0.00 0.00 100.00 0.00 0.00 0.00 0.00 01:32:06 PM 3 0.95 0.00 1.90 0.95 0.00 3.81 0.00 0.00 0.00 92.38</code> </pre><br><br>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдХ рдЕрдбрд╝рдЪрди рдирд╣реАрдВ рд╣реИ: CPU # 1 рдХрд╛ рдЙрдкрдпреЛрдЧ 27.17% + 2.17% рдкрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрдмрдХрд┐ рдЗрдВрдЯрд░рдкреНрдЯ рд╣реИрдВрдбрд▓рд┐рдВрдЧ CPU # 2 рдкрд░ 100% рддрдХ рд╣реЛрддреА рд╣реИред <br><br>  <code>recvmessagge(2)</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рднреВрдорд┐рдХрд╛ рдирд┐рднрд╛рддрд╛ рд╣реИред  рд╕реНрдкреЗрдХреНрдЯрд░ рднреЗрджреНрдпрддрд╛ рдХрд╛ рдкрддрд╛ <abbr title="рдЯреНрд░реИрдореНрдкреЛрд▓рд┐рди рд▓реМрдЯреЗрдВ">рдЪрд▓рдиреЗ рдХреЗ рдмрд╛рдж</abbr> , рдХрд░реНрдиреЗрд▓ рдореЗрдВ рдкреНрд░рдпреБрдХреНрдд <abbr title="рдХрд░реНрдиреЗрд▓ рдкреГрд╖реНрда-рддрд╛рд▓рд┐рдХрд╛ рдЕрд▓рдЧрд╛рд╡">рдХреЗрдкреАрдЯреАрдЖрдИ</abbr> рдФрд░ <abbr title="рдЯреНрд░реИрдореНрдкреЛрд▓рд┐рди рд▓реМрдЯреЗрдВ">рд░реЗрдЯрдкреЙрд▓рд┐рди рдХреЗ</abbr> рдХрд╛рд░рдг рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдФрд░ рднреА рдЕрдзрд┐рдХ рдорд╣рдВрдЧреЗ рд╣реЛ рдЧрдП <br><br><pre> <code class="hljs ruby">$ tail -n +<span class="hljs-number"><span class="hljs-number">1</span></span> /sys/devices/system/cpu/vulnerabilities/* ==&gt; <span class="hljs-regexp"><span class="hljs-regexp">/sys/devices</span></span><span class="hljs-regexp"><span class="hljs-regexp">/system/cpu</span></span><span class="hljs-regexp"><span class="hljs-regexp">/vulnerabilities/meltdown</span></span> &lt;== <span class="hljs-symbol"><span class="hljs-symbol">Mitigation:</span></span> PTI ==&gt; <span class="hljs-regexp"><span class="hljs-regexp">/sys/devices</span></span><span class="hljs-regexp"><span class="hljs-regexp">/system/cpu</span></span><span class="hljs-regexp"><span class="hljs-regexp">/vulnerabilities/spectre</span></span>_v1 &lt;== <span class="hljs-symbol"><span class="hljs-symbol">Mitigation:</span></span> __user pointer sanitization ==&gt; <span class="hljs-regexp"><span class="hljs-regexp">/sys/devices</span></span><span class="hljs-regexp"><span class="hljs-regexp">/system/cpu</span></span><span class="hljs-regexp"><span class="hljs-regexp">/vulnerabilities/spectre</span></span>_v2 &lt;== <span class="hljs-symbol"><span class="hljs-symbol">Mitigation:</span></span> Full generic retpoline, IBPB, IBRS_FW</code> </pre><br><br><h3>  рдЪрд░рдг 2. рд╣рддреНрдпрд╛ рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ </h3><br>  рд╣рдордиреЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЬрд┐рддрдирд╛ рд╕рдВрднрд╡ рд╣реЛ рдЙрддрдирд╛ рдХрдВрд╡рд░реНрдЯ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЖрдИрдкреА рдФрд░ рдкреНрд░реЗрд╖рдХ рдкреЛрд░реНрдЯ рдХреЗ рд╕рд╛рде рдРрд╕рд╛ рд▓реЛрдб рдХрд┐рдпрд╛ред  рдЯреЗрд╕реНрдЯ рдХреЗ рджреМрд░рд╛рди рдХреЙрдирдЯреНрд░реИрдХ рдореЗрдВ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЕрдзрд┐рдХрддрдо рд╕рдВрднрд╡ рд╣реЛ рдЬрд╛рддреА рд╣реИ рдФрд░ рд╣рдо рдЗрд╕реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">$ conntrack -C 2095202 $ sysctl net.netfilter.nf_conntrack_max net.netfilter.nf_conntrack_max = 2097152</code> </pre><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, <code>dmesg</code> рдЖрдк рдХрдВрдХрд░рд░ рдЪреАрдЦ рднреА рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">[4029612.456673] nf_conntrack: nf_conntrack: table full, dropping packet [4029612.465787] nf_conntrack: nf_conntrack: table full, dropping packet [4029617.175957] net_ratelimit: 5731 callbacks suppressed</code> </pre><br>  рддреЛ рдЪрд▓рд┐рдП рдЗрд╕реЗ рдмрдВрдж рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">iptables -t raw -I PREROUTING -d 198.18.0.12 -p udp -m udp --dport 1234 -j NOTRACK</code> </pre><br>  рдФрд░ рдкрд░реАрдХреНрд╖рдг рдкреБрдирдГ рдЖрд░рдВрдн рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs">$ ./dropping-packets/recvmmsg-loop packets=331008 bytes=5296128</code> </pre><br><br>  рдЗрд╕рдиреЗ рд╣рдореЗрдВ 333 рд╣рдЬрд╛рд░ рдкреИрдХреЗрдЯ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рдХреЗ рдирд┐рд╢рд╛рди рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреАред  рд╣реБрд░реНрд░реЗ! <br>  PS SO_BUSY_POLL рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╣рдо рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 470 рд╣рдЬрд╝рд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрд╣ рдПрдХ рдЕрд▓рдЧ рдкреЛрд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╖рдп рд╣реИред <br><br><h3>  рдЪрд░рдг 3. рдмрд░реНрдХрд▓реЗ рдмреИрдЪ рдлрд╝рд┐рд▓реНрдЯрд░ </h3><br>  рдЪрд▓реЛ рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред  рд╣рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдкреИрдХреЗрдЬ рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ?  рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо <code>setsockopt(SO_ATTACH_FILTER)</code> рдХреЙрд▓ рдХрд░рдХреЗ рдХреНрд▓рд╛рд╕рд┐рдХ рдмрд░реНрдХрд▓реЗ рдкреИрдХреЗрдЯ рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЛ рд╕реЙрдХреЗрдЯ рд╕реЗ рдмрд╛рдБрдз рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЛ рдкреИрдХреЗрдЯ рдХреЛ рдХрд░реНрдиреЗрд▓ рдореЗрдВ рд╡рд╛рдкрд╕ рдбреНрд░реЙрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br>  <a href="">рдХреЛрдб</a> рддреИрдпрд╛рд░ рдХрд░реЗрдВ, рдЪрд▓рд╛рдПрдВ: <br><br><pre> <code class="bash hljs">$ ./bpf-drop packets=0 bytes=0</code> </pre><br>  рдПрдХ рдкреИрдХреЗрдЯ рдлрд┐рд▓реНрдЯрд░ (рдХреНрд▓рд╛рд╕рд┐рдХ рдФрд░ рдЙрдиреНрдирдд рдмрд░реНрдХрд▓реЗ рдлрд┐рд▓реНрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рд▓рдЧрднрдЧ рд╕рдорд╛рди рдкреНрд░рджрд░реНрд╢рди рджреЗрддрд╛ рд╣реИ), рд╣рдо рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рд▓рдЧрднрдЧ 512 рд╣рдЬрд╛рд░ рдкреИрдХреЗрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХ рдмрд╛рдзрд╛ рдХреЗ рджреМрд░рд╛рди рдПрдХ рдкреИрдХреЗрдЯ рдЫреЛрдбрд╝рдиреЗ рд╕реЗ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЬрдЧрд╛рдиреЗ рд╕реЗ рдореБрдХреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><h3>  рдЪрд░рдг 4. рд░реВрдЯрд┐рдВрдЧ рдХреЗ рдмрд╛рдж DROP рдХреЛ iptables </h3><br>  рдЕрдм рд╣рдо INPUT рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ iptables рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдирд┐рдпрдо рдЬреЛрдбрд╝рдХрд░ рдкреИрдХреЗрдЯ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">iptables -I INPUT -d 198.18.0.12 -p udp --dport 1234 -j DROP</code> </pre><br>  рдореБрдЭреЗ рдпрд╛рдж рджрд┐рд▓рд╛рдирд╛ рд╣реИ рдХрд┐ рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА <code>-j NOTRACK</code> рдирд┐рдпрдо рдХреЗ рд╕рд╛рде <code>-j NOTRACK</code> рдЧрдП рд╣реИрдВред  рдпреЗ рджреЛ рдирд┐рдпрдо рд╣рдореЗрдВ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 608 рд╣рдЬрд╛рд░ рдкреИрдХреЗрдЯ рджреЗрддреЗ рд╣реИрдВред <br><br>  рдЖрдЗрдП iptables рдореЗрдВ рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЛ рджреЗрдЦреЗрдВ: <br><br><pre> <code class="bash hljs">$ mmwatch <span class="hljs-string"><span class="hljs-string">'iptables -L -v -n -x | head'</span></span> Chain INPUT (policy DROP 0 packets, 0 bytes) pkts bytes target prot opt <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> out <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> destination 605.9k/s 26.7m/s DROP udp -- * * 0.0.0.0/0 198.18.0.12 udp dpt:1234</code> </pre><br>  рдареАрдХ рд╣реИ, рдмреБрд░рд╛ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо рдмреЗрд╣рддрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h3>  рдЪрд░рдг 5. PREROUTING рдореЗрдВ iptabes DROP </h3><br>  рдЗрд╕ рдирд┐рдпрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдкреИрдХреЗрдЯ рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рддреЗрдЬрд╝ рддрдХрдиреАрдХ рд╣реИ: <br><br><pre> <code class="bash hljs">iptables -I PREROUTING -t raw -d 198.18.0.12 -p udp --dport 1234 -j DROP</code> </pre> <br>  рдпрд╣ рд╣рдореЗрдВ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 1.688 рдорд┐рд▓рд┐рдпрди рдкреИрдХреЗрдЯ рдЫреЛрдбрд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрд╣ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рдереЛрдбрд╝рд╛ рдЖрд╢реНрдЪрд░реНрдпрдЬрдирдХ рдЫрд▓рд╛рдВрдЧ рд╣реИред  рдореБрдЭреЗ рдЕрднреА рднреА рдХрд╛рд░рдгреЛрдВ рдХреА рд╕рдордЭ рдирд╣реАрдВ рд╣реИ, рд╢рд╛рдпрдж рд╣рдорд╛рд░реА рд░реВрдЯрд┐рдВрдЧ рдЬрдЯрд┐рд▓ рд╣реИ, рдпрд╛ рд╢рд╛рдпрдж рд╕рд░реНрд╡рд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рд╕рд┐рд░реНрдл рдПрдХ рдмрдЧ рд╣реИред <br><br>  рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рдХрдЪреНрдЪреЗ iptables рдмрд╣реБрдд рддреЗрдЬ рд╣реИрдВред <br><br><h3>  рдЪрд░рдг 6. рдбреАрдПрдЯреАрдкреА рдХреЛ рдПрдирдПрдлрдЯреАрдмрд▓реНрд╕ </h3><br>  Iptables рдХреА рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдЕрдм рдереЛрдбрд╝реА рдкреБрд░рд╛рдиреА рд╣реЛ рдЧрдИ рд╣реИред  рд╡рд╣ nftables рджреНрд╡рд╛рд░рд╛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдХреНрдпреЛрдВ nftables рд╢реАрд░реНрд╖ рд╣реИ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреА рдЗрд╕ рд╡реАрдбрд┐рдпреЛ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреА</a> рдЬрд╛рдБрдЪ рдХрд░реЗрдВред  Nftables рдХрдИ рдХрд╛рд░рдгреЛрдВ рд╕реЗ iptables рдХреЛ рдЧреНрд░реЗ рдХрд░рдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рддреЗрдЬрд╝ рд╣реЛрдиреЗ рдХрд╛ рд╡рд╛рджрд╛ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЕрдлрд╡рд╛рд╣реЗрдВ рднреА рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдХрд┐ рд░рд┐рдЯрдкреЛрд▓рд┐рди iptables рдХреЛ рдмрд╣реБрдд рдзреАрдорд╛ рдХрд░ рджреЗрддреЗ рд╣реИрдВред <br><br>  рд▓реЗрдХрд┐рди рд╣рдорд╛рд░рд╛ рд▓реЗрдЦ рдЕрднреА рднреА iptables рдФрд░ nftables рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЪрд▓реЛ рдмрд╕ рд╕рдмрд╕реЗ рддреЗрдЬрд╝ рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ рдЬреЛ рдореИрдВ рдХрд░ рд╕рдХрддрд╛ рдерд╛: <br><br><pre> <code class="bash hljs">nft add table netdev filter nft -- add chain netdev filter input { <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> filter hook ingress device vlan100 priority -500 \; policy accept \; } nft add rule netdev filter input ip daddr 198.18.0.0/24 udp dport 1234 counter drop nft add rule netdev filter input ip6 daddr fd00::/64 udp dport 1234 counter drop</code> </pre><br>  рдХрд╛рдЙрдВрдЯрд░реЛрдВ рдХреЛ рдЗрд╕ рддрд░рд╣ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre> <code class="bash hljs">$ mmwatch <span class="hljs-string"><span class="hljs-string">'nft --handle list chain netdev filter input'</span></span> table netdev filter { chain input { <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> filter hook ingress device vlan100 priority -500; policy accept; ip daddr 198.18.0.0/24 udp dport 1234 counter packets 1.6m/s bytes 69.6m/s drop <span class="hljs-comment"><span class="hljs-comment"># handle 2 ip6 daddr fd00::/64 udp dport 1234 counter packets 0 bytes 0 drop # handle 3 } }</span></span></code> </pre><br>  Nftables рдЗрдирдкреБрдЯ рд╣реБрдХ рдиреЗ рд▓рдЧрднрдЧ 1.53 рдорд┐рд▓рд┐рдпрди рдкреИрдХреЗрдЯ рдХреЗ рдорд╛рди рджрд┐рдЦрд╛рдПред  рдпрд╣ iptables рдореЗрдВ PREROUTING рдЪреЗрди рд╕реЗ рдереЛрдбрд╝рд╛ рдХрдо рд╣реИред  рд▓реЗрдХрд┐рди рдЗрд╕рдореЗрдВ рдПрдХ рд░рд╣рд╕реНрдп рд╣реИ: рд╕реИрджреНрдзрд╛рдВрддрд┐рдХ рд░реВрдк рд╕реЗ, nftables рд╣реБрдХ PREROUTING iptables рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдкрд╣рд▓реЗ рдЪрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рд▓рд┐рдП, рдЗрд╕реЗ рддреЗрдЬреА рд╕реЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рд╣рдорд╛рд░реЗ рдкрд░реАрдХреНрд╖рдг рдореЗрдВ, nftables iptables рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдереЛрдбрд╝рд╛ рдзреАрдорд╛ рд╣реИ, рд▓реЗрдХрд┐рди nftables рд╡реИрд╕реЗ рднреА рдХреВрд▓рд░ рд╣реИрдВред  : рдкреА <br><br><h3>  рдЪрд░рдг 7. рдЯреАрд╕реА DROP </h3><br>  рдХреБрдЫ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд░реВрдк рд╕реЗ, tc (рдЯреНрд░реИрдлрд┐рдХ рдХрдВрдЯреНрд░реЛрд▓) рд╣реБрдХ iptables PREROUTING рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдкрд╣рд▓реЗ рд╣реЛрддрд╛ рд╣реИред  рдЯреАрд╕реА рд╣рдореЗрдВ рд╕рд░рд▓ рдорд╛рдирджрдВрдбреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдкреИрдХреЗрдЯреЛрдВ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЙрдиреНрд╣реЗрдВ рдЫреЛрдбрд╝ рджреЗрддрд╛ рд╣реИред  рд╡рд╛рдХреНрдпрд╡рд┐рдиреНрдпрд╛рд╕ рдереЛрдбрд╝рд╛ рдЕрд╕рд╛рдорд╛рдиреНрдп рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП <a href="">рдЗрд╕ рд╕реНрдХреНрд░рд┐рдкреНрдЯ</a> рдХрд╛ рдЙрдкрдпреЛрдЧ <a href="">рдХрд░рдиреЗ</a> рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрддреЗ рд╣реИрдВред  рдФрд░ рд╣рдореЗрдВ рдПрдХ рдЬрдЯрд┐рд▓ рдирд┐рдпрдо рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre> <code class="bash hljs">tc qdisc add dev vlan100 ingress tc filter add dev vlan100 parent ffff: prio 4 protocol ip u32 match ip protocol 17 0xff match ip dport 1234 0xffff match ip dst 198.18.0.0/24 flowid 1:1 action drop tc filter add dev vlan100 parent ffff: protocol ipv6 u32 match ip6 dport 1234 0xffff match ip6 dst fd00::/64 flowid 1:1 action drop</code> </pre><br>  рдФрд░ рд╣рдо рдЗрд╕реЗ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">$ mmwatch <span class="hljs-string"><span class="hljs-string">'tc -s filter show dev vlan100 ingress'</span></span> filter parent ffff: protocol ip pref 4 u32 filter parent ffff: protocol ip pref 4 u32 fh 800: ht divisor 1 filter parent ffff: protocol ip pref 4 u32 fh 800::800 order 2048 key ht 800 bkt 0 flowid 1:1 (rule hit 1.8m/s success 1.8m/s) match 00110000/00ff0000 at 8 (success 1.8m/s ) match 000004d2/0000ffff at 20 (success 1.8m/s ) match c612000c/ffffffff at 16 (success 1.8m/s ) action order 1: gact action drop random <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> none pass val 0 index 1 ref 1 <span class="hljs-built_in"><span class="hljs-built_in">bind</span></span> 1 installed 1.0/s sec Action statistics: Sent 79.7m/s bytes 1.8m/s pkt (dropped 1.8m/s, overlimits 0 requeues 0)</code> </pre><br>  рдЯреАрд╕реА рд╣реБрдХ рдиреЗ рд╣рдореЗрдВ рдПрдХ рдХреЛрд░ рдкрд░ 1.8 рдорд┐рд▓рд┐рдпрди рдкреИрдХреЗрдЯ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рдЫреЛрдбрд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреАред  рдпрд╣ рдорд╣рд╛рди рд╣реИ! <br>  рд▓реЗрдХрд┐рди рд╣рдо рдЗрд╕реЗ рдФрд░ рднреА рддреЗрдЬреА рд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ ... <br><br><h3>  рдЪрд░рдг 8. XDP_DROP </h3><br>  рдФрд░ рдЕрдВрдд рдореЗрдВ, рд╣рдорд╛рд░рд╛ рд╕рдмрд╕реЗ рдордЬрдмреВрдд рд╣рдерд┐рдпрд╛рд░: XDP - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">eXpress рдбреЗрдЯрд╛ рдкрде</a> ред  XDP рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд╣рдо рдиреЗрдЯрд╡рд░реНрдХ рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдмрд░реНрдХрд▓реЗ рдкреИрдХреЗрдЯ рдлрд╝рд┐рд▓реНрдЯрд░ (eBPF) рдХреЛрдб рдХреЛ рд╕реАрдзреЗ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рдд, <code>skbuff</code> рд▓рд┐рдП рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рднреА, рдЬреЛ рд╣рдореЗрдВ рдЧрддрд┐ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдХрд╛ рд╡рд╛рджрд╛ рдХрд░рддрд╛ рд╣реИред <br><br>  рдЖрдорддреМрд░ рдкрд░, XDP рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рджреЛ рднрд╛рдЧ рд╣реЛрддреЗ рд╣реИрдВ: <br><br><ul><li>  рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдпреЛрдЧреНрдп eBPF рдХреЛрдб </li><li>  рдмреВрдЯрд▓реЛрдбрд░ рдЬреЛ рд╕рд╣реА рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕ рдореЗрдВ рдХреЛрдб рдбрд╛рд▓рддрд╛ рд╣реИ </li></ul><br>  рдЕрдкрдиреЗ рдмреВрдЯрд▓реЛрдбрд░ рдХреЛ рд▓рд┐рдЦрдирд╛ рдПрдХ рдореБрд╢реНрдХрд┐рд▓ рдХрд╛рдо рд╣реИ, рдЗрд╕рд▓рд┐рдП рдмрд╕ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирдП iproute2 рдЪрд┐рдк рдХрд╛</a> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдХреЛрдб рд▓реЛрдб рдХрд░реЗрдВ: <br><br><pre> <code class="bash hljs">ip link <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> dev ext0 xdp obj xdp-drop-ebpf.o</code> </pre><br>  рддрд╛ рдбреИрдо! <br><br>  <a href="">рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдпреЛрдЧреНрдп eBPF рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХрд╛</a> рд╕реЛрд░реНрд╕ рдХреЛрдб <a href="">рдпрд╣рд╛рдВ рдЙрдкрд▓рдмреНрдз рд╣реИ</a> ред  рдХрд╛рд░реНрдпрдХреНрд░рдо рдпреВрдкреАрдбреА рдкреНрд░реЛрдЯреЛрдХреЙрд▓, рдкреНрд░реЗрд╖рдХ рд╕рдмрдиреЗрдЯ, рдФрд░ рдЧрдВрддрд╡реНрдп рдкреЛрд░реНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЖрдИрдкреА рдкреИрдХреЗрдЯ рдХреА рдРрд╕реА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рджреЗрдЦрддрд╛ рд╣реИ: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (h_proto == htons(<span class="hljs-type"><span class="hljs-type">ETH_P_IP</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (iph-&gt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> == </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IPPROTO_UDP</span></span></span><span class="hljs-class"> &amp;&amp; (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">htonl</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">iph</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">daddr</span></span></span><span class="hljs-class">) &amp; 0</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xFFFFFF00</span></span></span><span class="hljs-class">) == 0</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xC6120000</span></span></span><span class="hljs-class"> // 198.18.0.0/24 &amp;&amp; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">udph</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dest</span></span></span><span class="hljs-class"> == </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">htons</span></span></span><span class="hljs-class">(1234)) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">XDP_DROP</span></span>; } }</code> </pre><br>  XDP рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛ рдЖрдзреБрдирд┐рдХ рдХреНрд▓реИрдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬреЛ BPF рдмрд╛рдпрдЯреЗрдХреЛрдб рдЙрддреНрдкрдиреНрди рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдЙрд╕рдХреЗ рдмрд╛рдж, рд╣рдо BFP рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="bash hljs">$ ip link show dev ext0 4: ext0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 xdp qdisc fq state UP mode DEFAULT group default qlen 1000 link/ether 24:8a:07:8a:59:8e brd ff:ff:ff:ff:ff:ff prog/xdp id 5 tag aedc195cc0471f51 jited</code> </pre><br>  рдФрд░ рдлрд┐рд░ <code>ethtool</code> рдореЗрдВ рдЖрдВрдХрдбрд╝реЗ рджреЗрдЦреЗрдВ: <br><br><pre> <code class="bash hljs">$ mmwatch <span class="hljs-string"><span class="hljs-string">'ethtool -S ext0|egrep "rx"|egrep -v ": 0"|egrep -v "cache|csum"'</span></span> rx_out_of_buffer: 4.4m/s rx_xdp_drop: 10.1m/s rx2_xdp_drop: 10.1m/s</code> </pre><br>  рдпреВ рд╣реВ!  XDP рдХреЗ рд╕рд╛рде, рд╣рдо рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 10 рдорд┐рд▓рд┐рдпрди рдкреИрдХреЗрдЯ рддрдХ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ! <br><br><img src="https://habrastorage.org/webt/fq/mf/e5/fqmfe5jgs1qylz7fpwryoeey0ag.png"><br>  <i>рдлреЛрдЯреЛ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдВрдбреНрд░рдпреВ рдлрд┐рд▓рд░</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реАрд╕реА рдмрд╛рдп-рдПрд╕рдП 2.0</a></i> <br><br><h3>  рдирд┐рд╖реНрдХрд░реНрд╖ </h3><br>  рд╣рдордиреЗ IPv4 рдФрд░ IPv6 рдХреЗ рдкреНрд░рдпреЛрдЧ рдХреЛ рджреЛрд╣рд░рд╛рдпрд╛ рдФрд░ рдЗрд╕ рдЖрд░реЗрдЦ рдХреЛ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛: <br><br><img src="https://habrastorage.org/webt/dl/sc/qa/dlscqatdfii2rihttytjnfvtfea.png"><br>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдпрд╣ рддрд░реНрдХ рджрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдИрдкреАрд╡реА 6 рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░рд╛ рд╕реЗрдЯрдЕрдк рдереЛрдбрд╝рд╛ рдзреАрдорд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЪреВрдВрдХрд┐ рдЖрдИрдкреАрд╡реА 6 рдкреИрдХреЗрдЯ рдХреБрдЫ рдмрдбрд╝реЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЧрддрд┐ рдореЗрдВ рдЕрдВрддрд░ рдЕрдкреЗрдХреНрд╖рд┐рдд рд╣реИред <br><br>  рд▓рд┐рдирдХреНрд╕ рдХреЗ рдкрд╛рд╕ рдкреИрдХреЗрдЬ рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВ, рдкреНрд░рддреНрдпреЗрдХ рдХреА рдЕрдкрдиреА рдЧрддрд┐ рдФрд░ рдЬрдЯрд┐рд▓рддрд╛ рд╣реИред <br><br>  DDoS рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП, рдЖрд╡реЗрджрди рдХреЛ рдкреИрдХреЗрдЯ рджреЗрдирд╛ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╡рд╣рд╛рдВ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдирд╛ рдХрд╛рдлреА рдЙрдЪрд┐рдд рд╣реИред  рдПрдХ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдЖрд╡реЗрджрди рдЕрдЪреНрдЫреЗ рдкрд░рд┐рдгрд╛рдо рджрд┐рдЦрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  DDoS рд╣рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдпрд╛ рд╕реНрдкреВрдл рдХрд┐рдП рдЧрдП рдЖрдИрдкреА рдХреЗ рд╕рд╛рде рдЧрддрд┐ рдореЗрдВ рдПрдХ рдЫреЛрдЯреА рд╡реГрджреНрдзрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдВрд╡рд░реНрдЯ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд╛рд╡рдзрд╛рди рд░рд╣реЗрдВ: рдРрд╕реЗ рд╣рдорд▓реЗ рд╣реЛрддреЗ рд╣реИрдВ рдЬрд┐рдирдХреЗ рдЦрд┐рд▓рд╛рдл рдХреЙрдирдЯреНрд░реИрдХ рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реИред <br><br>  рдЕрдиреНрдп рдорд╛рдорд▓реЛрдВ рдореЗрдВ, DDoS рд╣рдорд▓реЗ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд┐рдирдХреНрд╕ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИред  рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, "-t рд░реЙ PREROUTING" рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдлрд╝рд┐рд▓реНрдЯрд░ рддрд╛рд▓рд┐рдХрд╛ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рддреЗрдЬрд╝ рд╣реИред <br><br>  рд╕рдмрд╕реЗ рдЙрдиреНрдирдд рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП, рд╣рдо рд╣рдореЗрд╢рд╛ XDP рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдФрд░ рд╣рд╛рдВ, рдпрд╣ рдмрд╣реБрдд рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдЪреАрдЬ рд╣реИред  рдпрд╣рд╛рдБ рдКрдкрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рдПрдХ рдЧреНрд░рд╛рдл рд╣реИ, рдХреЗрд╡рд▓ XDP рдХреЗ рд╕рд╛рде: <br><br><img src="https://habrastorage.org/webt/o4/un/dm/o4undm-syfgavdxop6izkvpckyk.png"><br>  рдпрджрд┐ рдЖрдк рдкреНрд░рдпреЛрдЧ рджреЛрд╣рд░рд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣рд╛рдВ <a href="">README рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╣рдордиреЗ рд╕рдм рдХреБрдЫ рдкреНрд░рд▓реЗрдЦрд┐рдд рдХрд┐рдпрд╛ рд╣реИ</a> ред <br><br>  рд╣рдо CloudFlare рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ ... рдЗрди рддрдХрдиреАрдХреЛрдВ рдХреЗ рд▓рдЧрднрдЧ рд╕рднреАред  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрдерд╛рди рдореЗрдВ рдХреБрдЫ рдЯреНрд░рд┐рдХреНрд╕ рд╣рдорд╛рд░реЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рдПрдХреАрдХреГрдд рд╣реИрдВред  рд╣рдорд╛рд░реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреЗрдЯрдмреЛрдЯ</a> рдореЗрдВ iptables рддрдХрдиреАрдХ рдкрд╛рдИ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╛рддреА рд╣реИ</a> ред  рдЕрдВрдд рдореЗрдВ, рд╣рдо рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдХреЛрд░ рд╕рдорд╛рдзрд╛рди рдХреЛ XDP рдХреЗ рд╕рд╛рде рдмрджрд▓рддреЗ рд╣реИрдВред <br><br>  рдЙрдирдХреА рдорджрдж рдХреЗ рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреЗрд╕рдкрд░ рдбреЗрдВрдЧрд╛рд░реНрдб рдмреНрд░реВрдЕрд░</a> рдХреЛ рдмрд╣реБрдд рдзрдиреНрдпрд╡рд╛рджред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi419921/">https://habr.com/ru/post/hi419921/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi419911/index.html">рдкрд╛рдпрдерди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдХрд╛рд╢реАрдп рдкрд┐рдВрдбреЛрдВ рдХреА рдХрдХреНрд╖рд╛рдУрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг</a></li>
<li><a href="../hi419913/index.html">IKEA рдФрд░ рд╕реНрдорд╛рд░реНрдЯ рдШрд░ред рднрд╛рдЧ реи</a></li>
<li><a href="../hi419915/index.html">Initramfs рдореЗрдВ рдмреЙрдиреНрдбрд┐рдВрдЧ рдФрд░ SSH рд╕рд░реНрд╡рд░</a></li>
<li><a href="../hi419917/index.html">рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ: рдЯреЗрдВрд╕рд░ рдлреНрд▓реЛ рдФрд░ рдкрд╛рдпрдерди рдкрд░ рдорд╢рд░реВрдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд╛рд░реНрдп рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</a></li>
<li><a href="../hi419919/index.html">SQL рд╕рд░реНрд╡рд░ рдХреЗ рдЕрдВрджрд░ рд╕рдВрд╕реНрдХрд░рдг рдирд┐рдпрдВрддреНрд░рдг</a></li>
<li><a href="../hi419923/index.html">рдореЗрд░рд╛ рдЕрд╕реНрдерд╛рдпреА рдХрд╛рдо, рдорджрд░рдмреЛрд░реНрдб рджреЗрдЦрддрд╛ рд╣реИ</a></li>
<li><a href="../hi419925/index.html">GitHub Gist рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рд╕рдВрд╕реНрдХрд░рдг рдирд┐рдпрдВрддреНрд░рдг</a></li>
<li><a href="../hi419927/index.html">[рдбреЙрдЯрдиреЗрдЯрдмреБрдХ] рдЕрдкрд╡рд╛рдж: рдЯрд╛рдЗрдк рд╕рд┐рд╕реНрдЯрдо рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░</a></li>
<li><a href="../hi419929/index.html">[рдбреЙрдЯрдиреЗрдЯрдмреБрдХ] рдЕрдкрд╡рд╛рдж рдШрдЯрдирд╛рдУрдВ рдФрд░ рдХреИрд╕реЗ рдЦрд░реЛрдВрдЪ рд╕реЗ StackOverflow рдФрд░ ExecutionEngineException рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП</a></li>
<li><a href="../hi419931/index.html">[рдбреЙрдЯрдиреЗрдЯрдмреБрдХ] рдордиреЛрд░рдВрдЬрдХ рдХрд╣рд╛рдирд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдордп: рдЕрд╕рд╛рдзрд╛рд░рдг рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>