<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨â€ğŸ¨ ğŸ™‡ğŸ» â›¹ï¸ Ù†ÙƒØªØ¨ Ø±ÙˆØ¨ÙˆØªØ§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø·Ø§Ø± StockSharp Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠ. Ø§Ù„Ø¬Ø²Ø¡ 1 ğŸ‘¥ ğŸ™ğŸ» ğŸœï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ÙÙŠ Ù…Ø¯ÙˆÙ†ØªÙ†Ø§ ØŒ Ù†ÙƒØªØ¨ Ø§Ù„ÙƒØ«ÙŠØ± Ø¹Ù† Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ÙÙŠØ¯Ø© Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø£Ø³Ù‡Ù…. Ø£Ø­Ø¯Ù‡Ø§ Ù‡Ùˆ Ù…Ù†ØµØ© StockSharp Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ© ØŒ ÙˆØ§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ù†ÙƒØªØ¨ Ø±ÙˆØ¨ÙˆØªØ§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø·Ø§Ø± StockSharp Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠ. Ø§Ù„Ø¬Ø²Ø¡ 1</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/iticapital/blog/432812/" style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/webt/f-/uo/a9/f-uoa9b5v33o_a22qip5tgvjg6o.png"></a> <br><br>  ÙÙŠ Ù…Ø¯ÙˆÙ†ØªÙ†Ø§ ØŒ Ù†ÙƒØªØ¨ Ø§Ù„ÙƒØ«ÙŠØ± Ø¹Ù† Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ÙÙŠØ¯Ø© Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø£Ø³Ù‡Ù….  Ø£Ø­Ø¯Ù‡Ø§ Ù‡Ùˆ Ù…Ù†ØµØ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">StockSharp</a> Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ© ØŒ ÙˆØ§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ Ù„Ù…Ø­Ø·Ø§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø±ÙˆØ¨ÙˆØªØ§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© ÙÙŠ C #.  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© ØŒ Ø³Ù†Ø¹Ø±Ø¶ ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠ Ø§Ù„Ù…Ø¶Ù…Ù† ÙÙŠ S # .API Ù…Ù† Ø£Ø¬Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­Ø·Ø© ØªØ¯Ø§ÙˆÙ„ Ù…Ø¹ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ ØªØ´ØºÙŠÙ„ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø­Ø³Ø§Ø¨ÙŠØ©. <a name="habracut"></a><br><br><h2 style=";text-align:right;direction:rtl">  Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Visual Studio 2017 (Ù…Ø¬ØªÙ…Ø¹ ØŒ Ù†Ø³Ø®Ø© Ù…Ø¬Ø§Ù†ÙŠØ©) ØŒ Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¨Ø±Ù…Ø¬ØªÙ‡. </li><li style=";text-align:right;direction:rtl">  Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„ØªØ¯Ø§ÙˆÙ„ ÙÙŠ Ø§Ù„Ø¨ÙˆØ±ØµØ© ØŒ ÙÙŠ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„ÙˆØ§Ø±Ø¯Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†Øµ ØŒ ÙŠØªÙ… <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ø³ØªØ®Ø¯Ø§Ù…</a> ÙˆØ§Ø¬Ù‡Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SMARTcom Ù…Ù† ITI Capital</a> . </li></ol><br><h2 style=";text-align:right;direction:rtl">  Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ </h2><br>  Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚ WPF Ø¬Ø¯ÙŠØ¯ ÙÙŠ Visual Studio: <br><br><img src="https://habrastorage.org/webt/nq/j3/sb/nqj3sbywjx9_xny7tjyac_kn3pc.png"><br><br>  Ø«Ù… ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø¶Ø§ÙØ© Ù…ÙƒØªØ¨Ø© S # .API.  ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø¹Ø±ÙØ© ÙƒÙŠÙÙŠØ© Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙÙŠ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚</a> .  Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙØ¶Ù„ Ù‡Ùˆ Ø§Ù„ØªØ«Ø¨ÙŠØª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Nuget. <br><br>  Ù†Ø¸Ø±Ù‹Ø§ Ù„Ø£Ù† Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© S # .API ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ DevExpress ØŒ ÙˆØ£Ù† Ù…ÙƒØªØ¨Ø§Øª DevExpress ØªØ£ØªÙŠ Ù…Ø¹ S # .API ØŒ ÙØ³ÙŠÙƒÙˆÙ† Ù…Ù† Ø§Ù„ØºØ¨Ø§Ø¡ Ø¹Ø¯Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§.  Ø¯Ø¹Ù†Ø§ Ù†Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ù…Ø­Ø±Ø± Ø§Ù„Ù†ÙˆØ§ÙØ° MainWindow.xaml: <br><br><img src="https://habrastorage.org/webt/ni/q2/zz/niq2zzalyspdk8ztdf9uatdfnps.png"><br><br>  Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¨Ù€ DXWindow ØŒ Ø³Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø°Ù„Ùƒ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ù†Ø¸Ù…Ø© Ø£Ù„ÙˆØ§Ù† Ù…Ø®ØªÙ„ÙØ©: <br><br><img src="https://habrastorage.org/webt/ok/jo/h1/okjoh1ouxpadw48b2scjw8x1df4.png"><br><br>  Ø³ÙˆÙ ÙŠÙ‚Ø¯Ù… Ù„Ù†Ø§ Visual Studio Ù†ÙØ³Ù‡ Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø©. <br><br>  Ø³Ù†Ù‚ÙˆÙ… Ø¨ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¥Ù„Ù‰ Ø«Ù„Ø§Ø«Ø© Ø£Ø¬Ø²Ø§Ø¡ - ÙÙŠ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø¹Ù„ÙˆÙŠ ØŒ Ø³ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ø´Ø±ÙŠØ· Ø¨Ù‡ Ø£Ø²Ø±Ø§Ø± Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙˆØµÙŠÙ„Ø§Øª ÙˆØ§Ù„Ø§ØªØµØ§Ù„Ø§Øª ØŒ ÙÙŠ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø³ÙÙ„ÙŠ Ø³ØªÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ù†Ø§ÙØ°Ø© Ø¨Ù‡Ø§ Ø³Ø¬Ù„Ø§Øª ØŒ ÙˆÙÙŠ Ø§Ù„ÙˆØ³Ø· Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰.  Ø£Ø³Ù‡Ù„ Ø·Ø±ÙŠÙ‚Ø© Ù„ÙƒØ³Ø± Ù†Ø§ÙØ°Ø© Ù‡ÙŠ Ù…Ø¹ Devout's LayoutControl. <br><br>  ÙÙŠ Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ø«Ù„Ø§Ø«Ø© Ø§Ù„Ù†Ø§ØªØ¬Ø© ØŒ Ø³Ù†Ø¶ÙŠÙ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙŠ Ù†Ø­ØªØ§Ø¬Ù‡Ø§. <br><br><pre style=";text-align:right;direction:rtl"><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dx:DXWindow</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ShellNew.MainWindow"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:d</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/expression/blend/2008"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:mc</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:dx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.devexpress.com/winfx/2008/xaml/core"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:dxlc</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mc:Ignorable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"d"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MainWindow"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"450"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"800"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dxlc:LayoutControl</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Padding</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LayoutControlRoot"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Vertical"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dxlc:LayoutGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">HorizontalAlignment</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Stretch"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"25"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dxlc:LayoutGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dxlc:LayoutGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">HorizontalAlignment</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Stretch"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dxlc:LayoutGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dxlc:LayoutGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">HorizontalAlignment</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Stretch"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dxlc:LayoutGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dxlc:LayoutControl</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dx:DXWindow</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ØªÙƒÙˆÙŠÙ† Ø§ØªØµØ§Ù„ Ù„Ù„Ù…ÙˆØµÙ„ </h2><br>  Ø£Ø¶Ù Ø²Ø±ÙŠÙ† ØŒ Ø£Ø­Ø¯Ù‡Ù…Ø§ Ù‡Ùˆ Ø²Ø± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ ØŒ ÙˆØ§Ù„Ø«Ø§Ù†ÙŠ Ù‡Ùˆ Ø²Ø± Ø§Ù„Ø§ØªØµØ§Ù„.  Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± SimpleButton Ù…Ù† DevExpress.  Ø³ØªÙƒÙˆÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø¹Ù„ÙˆÙŠ Ù…Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.  ÙÙŠ ÙƒÙ„ Ø²Ø± Ù†Ø¶Ø¹ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø£Ù„ÙˆÙØ© Ù…Ù† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">S # .Designer</a> Ùˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">S # .Data</a> Ùˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">S # .Terminal</a> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;dx:DXWindow x:Class=<span class="hljs-string"><span class="hljs-string">"ShellNew.MainWindow"</span></span> xmlns=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span></span> xmlns:x=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span></span> xmlns:d=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/expression/blend/2008"</span></span> xmlns:mc=<span class="hljs-string"><span class="hljs-string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span></span> xmlns:dx=<span class="hljs-string"><span class="hljs-string">"http://schemas.devexpress.com/winfx/2008/xaml/core"</span></span> xmlns:dxlc=<span class="hljs-string"><span class="hljs-string">"http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"</span></span> xmlns:xaml=<span class="hljs-string"><span class="hljs-string">"http://schemas.stocksharp.com/xaml"</span></span> mc:Ignorable=<span class="hljs-string"><span class="hljs-string">"d"</span></span> Title=<span class="hljs-string"><span class="hljs-string">"MainWindow"</span></span> Height=<span class="hljs-string"><span class="hljs-string">"450"</span></span> Width=<span class="hljs-string"><span class="hljs-string">"800"</span></span>&gt; &lt;dxlc:LayoutControl Padding=<span class="hljs-string"><span class="hljs-string">"0"</span></span> Name=<span class="hljs-string"><span class="hljs-string">"LayoutControlRoot"</span></span> Orientation=<span class="hljs-string"><span class="hljs-string">"Vertical"</span></span>&gt; &lt;dxlc:LayoutGroup HorizontalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span> Height=<span class="hljs-string"><span class="hljs-string">"25"</span></span>&gt; &lt;!--  --&gt; &lt;dxlc:LayoutItem Width=<span class="hljs-string"><span class="hljs-string">"40"</span></span>&gt; &lt;dx:SimpleButton x:Name=<span class="hljs-string"><span class="hljs-string">"SettingsButton"</span></span> Click=<span class="hljs-string"><span class="hljs-string">"SettingsButton_Click"</span></span> &gt; &lt;Image Source=<span class="hljs-string"><span class="hljs-string">"{xaml:ThemedIcons Key=Settings}"</span></span> Width=<span class="hljs-string"><span class="hljs-string">"16"</span></span> /&gt; &lt;/dx:SimpleButton&gt; &lt;/dxlc:LayoutItem&gt; &lt;dxlc:LayoutItem Width=<span class="hljs-string"><span class="hljs-string">"40"</span></span>&gt; &lt;dx:SimpleButton x:Name=<span class="hljs-string"><span class="hljs-string">"ConnectButton"</span></span> Click=<span class="hljs-string"><span class="hljs-string">"ConnectButton_Click"</span></span> &gt; &lt;Image Source=<span class="hljs-string"><span class="hljs-string">"{xaml:ThemedIcons Key=Connect}"</span></span> Width=<span class="hljs-string"><span class="hljs-string">"16"</span></span> /&gt; &lt;/dx:SimpleButton&gt; &lt;/dxlc:LayoutItem&gt; &lt;/dxlc:LayoutGroup&gt; &lt;dxlc:LayoutGroup HorizontalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span> View=<span class="hljs-string"><span class="hljs-string">"Tabs"</span></span>&gt; &lt;!--  --&gt; &lt;/dxlc:LayoutGroup&gt; &lt;dxlc:LayoutGroup HorizontalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span> &gt; &lt;!--  --&gt; &lt;/dxlc:LayoutGroup&gt; &lt;/dxlc:LayoutControl&gt; &lt;/dx:DXWindow&gt;</code> </pre> <br>  ÙÙŠ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„ÙŠÙ…Ù†Ù‰ Ø§Ù„Ø¹Ù„ÙŠØ§ Ù…Ù† Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø´Ø§Ø´Ø© ØŒ Ø³Ù†Ø±Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©: <br><br><img src="https://habrastorage.org/webt/6w/yo/wd/6wyowd9ztiixrpaygfcs-v6eaj4.png"><br><br>  Ø§Ù†Ù‚Ø± Ù†Ù‚Ø±Ù‹Ø§ Ù…Ø²Ø¯ÙˆØ¬Ù‹Ø§ ÙÙˆÙ‚ ÙƒÙ„ Ø²Ø± Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ù†Ù‚Ø± ÙÙˆÙ‚ Ø§Ù„Ø²Ø±.  ÙÙŠ Ø±Ù…Ø² MainWindow ØŒ ÙŠØ¬Ø¨ Ø£Ù† ØªØ¹Ù„Ù† Ø§Ù„Ù…ÙˆØµÙ„ ØŒ ÙˆÙƒØ°Ù„Ùƒ Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ù…Ù„Ù Ø§Ù„Ø°ÙŠ Ø³ÙŠØªÙ… ØªØ®Ø²ÙŠÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆØµÙ„ ÙÙŠÙ‡. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Connector Connector; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _dir = <span class="hljs-string"><span class="hljs-string">"Data"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _settingsFile = <span class="hljs-string"><span class="hljs-string">$@"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_dir}</span></span></span><span class="hljs-string">\connection.xml"</span></span>;</code> </pre> <br>  ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆØµÙ„ ØŒ Ø³Ù†ÙØªØ­ Ù†Ø§ÙØ°Ø© ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…ÙˆØµÙ„ ÙˆÙ†Ø­ÙØ¸Ù‡ ÙÙŠ Ù…Ù„Ù. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SettingsButton_Click</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, RoutedEventArgs e</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Connector.Configure(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XmlSerializer&lt;SettingsStorage&gt;().Serialize(Connector.Save(), _settingsFile); } }</code> </pre><br>  ÙÙŠ Ø§Ù„Ù…ÙÙ†Ø´Ø¦ ØŒ Ø³ÙˆÙ Ù†ØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø¯Ù„ÙŠÙ„ ÙˆÙ…Ù„Ù Ø¨Ù‡ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆØµÙ„ ØŒ ÙˆØ¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø¯Ù„ÙŠÙ„ ØŒ ÙØ³Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ù…ÙŠÙ„Ù‡ ÙÙŠ Ø§Ù„Ù…ÙˆØµÙ„: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//---------------------------------------------------------------------------------- Directory.CreateDirectory(_dir); Connector = new Connector(); if (File.Exists(_settingsFile)) { Connector.Load(new XmlSerializer&lt;SettingsStorage&gt;().Deserialize(_settingsFile)); } //----------------------------------------------------------------------------------</span></span></code> </pre> <br>  ØªØ­ØªÙˆÙŠ Ù…Ø¹Ø¸Ù… ÙƒØ§Ø¦Ù†Ø§Øª S # .API Ø¹Ù„Ù‰ Ø£Ø³Ø§Ù„ÙŠØ¨ Ø­ÙØ¸ ÙˆØªØ­Ù…ÙŠÙ„ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ù„Ø­ÙØ¸ Ù‡Ø°Ø§ Ø§Ù„ÙƒØ§Ø¦Ù† ÙˆØªØ­Ù…ÙŠÙ„Ù‡ Ù…Ù† Ù…Ù„Ù XML. <br><br>  ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø¨Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø§ØªØµØ§Ù„ ØŒ Ù†Ù‚ÙˆÙ… Ø¨ØªÙˆØµÙŠÙ„ Ø§Ù„Ù…ÙˆØµÙ„. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConnectButton_Click</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, RoutedEventArgs e</span></span></span><span class="hljs-function">)</span></span> { Connector.Connect(); }</code> </pre> <br>  Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ùƒ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ù…Ù†Ù‡. <br><br><h2 style=";text-align:right;direction:rtl">  ÙˆØ¶Ø¹ Ø³Ù…Ø© Ø§Ù„Ø¸Ù„Ø§Ù… </h2><br>  ÙŠÙØ¶Ù„ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ØªØ¯Ø§ÙˆÙ„ÙŠÙ† Ø§Ù„Ø³Ù…Ø§Øª Ø§Ù„Ø¯Ø§ÙƒÙ†Ø© Ø¹Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ØªØ¯Ø§ÙˆÙ„.  Ù„Ø°Ù„Ùƒ ØŒ Ù†Ø¬Ø¹Ù„ ÙÙˆØ±Ø§ Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø¸Ù„Ù…Ø©.  Ù„ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù„Ù App.xaml: <br><br><img src="https://habrastorage.org/webt/dc/el/xz/dcelxz29jsvbpysoimfdml5lp1m.png"><br><br>  ÙˆØ§Ø³ØªØ¨Ø¯Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø§Ù„ØªØ®Ø·ÙŠØ·: ExtendedBaseApplication ÙÙŠÙ‡ ØŒ ÙˆØ³ÙˆÙ ÙŠØ¹Ø±Ø¶Ù†Ø§ Visual Studio Ù†ÙØ³Ù‡ Ù„Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø©. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;charting:ExtendedBaseApplication x:Class=<span class="hljs-string"><span class="hljs-string">"ShellNew.App"</span></span> xmlns=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span></span> xmlns:x=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span></span> xmlns:charting=<span class="hljs-string"><span class="hljs-string">"http://schemas.stocksharp.com/xaml"</span></span> StartupUri=<span class="hljs-string"><span class="hljs-string">"MainWindow.xaml"</span></span>&gt; &lt;/charting:ExtendedBaseApplication&gt;</code> </pre> <br>  ÙˆÙÙŠ Ù…Ù„Ù App.xaml.cs ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø­Ø°Ù ": Ø§Ù„ØªØ·Ø¨ÙŠÙ‚". <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">ShellNew</span></span> { <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Interaction logic for App.xaml </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> public partial class App { } }</span></span></code> </pre> <br>  ÙÙŠ Ù…ÙÙ†Ø´Ø¦ MainWindow ØŒ Ø§ÙƒØªØ¨ <code>ApplicationThemeHelper.ApplicationThemeName = Theme.VS2017DarkName;</code> <br><br>  ÙƒÙˆØ¯ ÙƒØ§Ù…Ù„ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partial</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MainWindow</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Connector Connector; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _dir = <span class="hljs-string"><span class="hljs-string">"Data"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _settingsFile = <span class="hljs-string"><span class="hljs-string">$@"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_dir}</span></span></span><span class="hljs-string">\connection.xml"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MainWindow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//---------------------------------------------------------------------------------- ApplicationThemeHelper.ApplicationThemeName = Theme.VS2017DarkName; //---------------------------------------------------------------------------------- Directory.CreateDirectory(_dir); Connector = new Connector(); if (File.Exists(_settingsFile)) { Connector.Load(new XmlSerializer&lt;SettingsStorage&gt;().Deserialize(_settingsFile)); } //---------------------------------------------------------------------------------- InitializeComponent(); } private void SettingsButton_Click(object sender, RoutedEventArgs e) { if (Connector.Configure(this)) { new XmlSerializer&lt;SettingsStorage&gt;().Serialize(Connector.Save(), _settingsFile); } } private void ConnectButton_Click(object sender, RoutedEventArgs e) { Connector.Connect(); } }</span></span></code> </pre> <br>  ØªØ´ØºÙŠÙ„ Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ù…Ø¸Ù„Ù…: <br><br><img src="https://habrastorage.org/webt/mk/lh/3v/mklh3vcxuf88y7zil2ub58n_js4.png"><br><br><h2 style=";text-align:right;direction:rtl">  Ø¥Ù†Ø´Ø§Ø¡ Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª </h2><br>  Ø£Ø¶Ù Ù…Ø¬Ù„Ø¯Ù‹Ø§ Ø­ÙŠØ« Ø³Ù†Ø®Ø²Ù† Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ØªÙŠ Ø£Ù†Ø´Ø£Ù†Ø§Ù‡Ø§ ØŒ ÙˆØ³Ù…ÙŠÙ‡Ø§ XAML.  Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© UserControll Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø®Ø§Øµ Ø¨Ù†Ø§ ØŒ ÙˆÙ‚Ù… Ø¨ØªØ³Ù…ÙŠØªÙ‡ Ø§Ø³Ù… SecurityGridControl. <br><br><img src="https://habrastorage.org/webt/y9/ye/oi/y9yeoioudundf5rke7k2vwh9wau.png"><br><br>  Ù†Ø¶ÙŠÙ Ø¹Ù†ØµØ± SecurityPicker ÙˆØ§Ø­Ø¯Ù‹Ø§ Ø¥Ù„ÙŠÙ‡.  Ø³ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©.  Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù‚ÙŠØ§Ø³ Ù…Ø¹ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØŒ Ø³Ù†Ø³ØªØ®Ø¯Ù… LayoutControl Ù…Ù† DevExpress. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;UserControl x:Class=<span class="hljs-string"><span class="hljs-string">"ShellNew.XAML.SecurityGridControl"</span></span> xmlns=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span></span> xmlns:x=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span></span> xmlns:mc=<span class="hljs-string"><span class="hljs-string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span></span> xmlns:d=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/expression/blend/2008"</span></span> xmlns:xaml=<span class="hljs-string"><span class="hljs-string">"http://schemas.stocksharp.com/xaml"</span></span> mc:Ignorable=<span class="hljs-string"><span class="hljs-string">"d"</span></span> d:DesignHeight=<span class="hljs-string"><span class="hljs-string">"450"</span></span> d:DesignWidth=<span class="hljs-string"><span class="hljs-string">"800"</span></span>&gt; &lt;xaml:SecurityPicker x:Name=<span class="hljs-string"><span class="hljs-string">"SecPicker"</span></span> /&gt; &lt;/UserControl&gt;</code> </pre> <br>  Ø¯Ø¹Ù†Ø§ Ù†Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ù…ØµÙ…Ù… Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙˆØªØºÙŠÙŠØ± Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ Ø¥Ù„Ù‰ Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠØ©.  ÙÙŠ Ø¥Ø­Ø¯Ù‰ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠØ© ØŒ Ø³Ù†Ø¶Ø¹ Ø¬Ù‡Ø§Ø² Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø°ÙŠ Ø£Ù†Ø´Ø£Ù†Ø§Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© SecurityPicker: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;dxlc:LayoutGroup HorizontalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span> View=<span class="hljs-string"><span class="hljs-string">"Tabs"</span></span>&gt; &lt;!--  --&gt; &lt;dxlc:LayoutGroup Header=<span class="hljs-string"><span class="hljs-string">"Securities"</span></span>&gt; &lt;myxaml:SecurityGridControl x:Name=<span class="hljs-string"><span class="hljs-string">"SecurityPanel"</span></span> /&gt; &lt;/dxlc:LayoutGroup&gt; &lt;/dxlc:LayoutGroup&gt;</code> </pre> <br>  Ø§Ù„Ø¢Ù† Ø¨Ø¹Ø¯ Ø£Ù† Ø£ØµØ¨Ø­ Ù„Ø¯ÙŠÙ†Ø§ Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª ØŒ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø¹Ø·Ø§Ø¦Ù‡ Ù…ØµØ¯Ø± Ø¨ÙŠØ§Ù†Ø§Øª ØŒ ÙÙŠ Ø­Ø§Ù„ØªÙ†Ø§ Ù‡Ùˆ Ù…ÙˆØµÙ„.  ÙŠÙ…ÙƒÙ†Ùƒ Ø¨Ø¨Ø³Ø§Ø·Ø© <code>MainWindow  <br> SecurityPanel.SecPicker.SecurityProvider = Connector;</code> ÙÙŠ Ù…Ù†Ø´Ø¦ <code>MainWindow  <br> SecurityPanel.SecPicker.SecurityProvider = Connector;</code> <code>MainWindow  <br> SecurityPanel.SecPicker.SecurityProvider = Connector;</code>  . <br><br>  ÙˆÙ„ÙƒÙ† ÙŠØ¬Ø¨ Ø£Ù„Ø§ ØªØ³Ø¯ MainWindow Ø¨Ø±Ù…Ø² Ù„Ø§ ÙŠÙ†Ø·Ø¨Ù‚ Ø¹Ù„ÙŠÙ‡.  Ù„Ø°Ù„Ùƒ ØŒ Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…ØªØºÙŠØ± Ø«Ø§Ø¨Øª Instance ÙˆØªØ¹ÙŠÙŠÙ† MainWindow Ø¥Ù„ÙŠÙ‡ ÙÙŠ Ù…ÙÙ†Ø´Ø¦ MainWindow: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">â€¦ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MainWindow Instance; â€¦ Instance = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; â€¦</code> </pre> <br>  Ø§Ù„Ø¢Ù† ØŒ ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù† ÙÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬Ù†Ø§ ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø®ØµØ§Ø¦Øµ MainWindow Ù…Ù† Ø®Ù„Ø§Ù„ Ø±Ù…Ø² MainWindow.Instance.XXX. <br><br>  ÙÙŠ Ù…ÙÙ†Ø´Ø¦ SecurityGridControl ØŒ ÙˆØ¨Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ù†Ø­Ø¯Ø¯ Ø§Ù„Ø±Ø§Ø¨Ø· ÙƒÙ…ØµØ¯Ø± Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SecurityGridControl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ InitializeComponent(); SecPicker.SecurityProvider = MainWindow.Instance.Connector; }</code> </pre> <br>  ØªØ´ØºÙŠÙ„ Ù„Ù„ØªØ­Ù‚Ù‚: <br><br><img src="https://habrastorage.org/webt/kv/yc/ez/kvycezcrwoqeghzdaw2puoagmmc.png"><br><br><h2 style=";text-align:right;direction:rtl">  Ù…Ø¶ÙŠÙØ§ ØªØ³Ø¬ÙŠÙ„ </h2><br>  ÙŠØ¬Ø¨ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø£Ùˆ Ø§Ù„Ù…ÙˆØµÙ„ Ø£Ùˆ Ø§Ù„Ø±ÙˆØ¨ÙˆØª.  Ù„Ù‡Ø°Ø§ ØŒ S # .API Ù„Ø¯ÙŠÙ‡ ÙØ¦Ø© LogManager Ø®Ø§ØµØ©.  ÙŠØ³ØªÙ‚Ø¨Ù„ Ù‡Ø°Ø§ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø± ÙˆÙŠÙ…Ø±Ø±Ù‡Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ†.  ÙÙŠ Ø­Ø§Ù„ØªÙ†Ø§ ØŒ Ø³ØªÙƒÙˆÙ† Ø§Ù„Ù…ØµØ§Ø¯Ø± Ù‡ÙŠ Ø§Ù„Ù…ÙˆØµÙ„ ØŒ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª ØŒ Ø¥Ù„Ø® ØŒ ÙˆØ³ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ø³ØªÙ…Ø¹ Ù…Ù„ÙÙ‹Ø§ ÙˆÙ„ÙˆØ­Ø© Ø³Ø¬Ù„. <br><br>  ÙÙŠ Ø±Ù…Ø² MainWindow ØŒ Ù†Ø¹Ù„Ù† Ø¹Ù† ÙƒØ§Ø¦Ù† LogManager ÙˆØ§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ø°ÙŠ Ø³ÙŠØªÙ… ØªØ®Ø²ÙŠÙ†Ù‡ ÙÙŠÙ‡: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> LogManager LogManager; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _logsDir = <span class="hljs-string"><span class="hljs-string">$@"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_dir}</span></span></span><span class="hljs-string">\Logs\"</span></span>;</code> </pre> <br>  ÙÙŠ Ù…ÙÙ†Ø´Ø¦ MainWindow ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ LogManager ØŒ ÙˆØ§Ø¶Ø¨Ø· Ù…Ù„Ù Ù…ØµØ¯Ø± Ø§Ù„Ø¥ØµØºØ§Ø¡ Ùˆ Ø§Ù„Ù…ÙˆØµÙ„ Ø¹Ù„ÙŠÙ‡: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//---------------------------------------------------------------------------------- LogManager = new LogManager(); LogManager.Sources.Add(Connector); LogManager.Listeners.Add(new FileLogListener { SeparateByDates = SeparateByDateModes.SubDirectories, LogDirectory = _logsDir }); //----------------------------------------------------------------------------------</span></span></code> </pre> <br>  Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù‚ÙŠØ§Ø³ Ù…Ø¹ Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù„ÙˆØ­Ø© Ø³Ø¬Ù„ ÙÙŠ Ù…Ø¬Ù„Ø¯ XAML ØŒ ÙˆÙ‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© UserControl Ø¢Ø®Ø±.  Ø§Ø¹Ø·Ø§Ø¦Ù‡Ø§ Ø§Ø³Ù… MonitorControl.  Ø£Ø¶Ù Ø¹Ù†ØµØ± Ø§Ù„Ø´Ø§Ø´Ø© Ø¥Ù„ÙŠÙ‡. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;UserControl x:Class=<span class="hljs-string"><span class="hljs-string">"ShellNew.XAML.MonitorControl"</span></span> xmlns=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span></span> xmlns:x=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span></span> xmlns:mc=<span class="hljs-string"><span class="hljs-string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span></span> xmlns:d=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/expression/blend/2008"</span></span> xmlns:xaml=<span class="hljs-string"><span class="hljs-string">"http://schemas.stocksharp.com/xaml"</span></span> mc:Ignorable=<span class="hljs-string"><span class="hljs-string">"d"</span></span> d:DesignHeight=<span class="hljs-string"><span class="hljs-string">"450"</span></span> d:DesignWidth=<span class="hljs-string"><span class="hljs-string">"800"</span></span>&gt; &lt;xaml:Monitor x:Name=<span class="hljs-string"><span class="hljs-string">"Monitor"</span></span> /&gt; &lt;/UserControl&gt;</code> </pre> <br>  ÙÙŠ Ù…ÙÙ†Ø´Ø¦ MonitorControl ØŒ Ù‚Ù… Ø¨ØªØ¹ÙŠÙŠÙ† LogManager Ø¹Ù„Ù‰ Monitor ÙƒÙ…Ø³ØªÙ…Ø¹: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MonitorControl</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { InitializeComponent(); MainWindow.Instance.LogManager.Listeners.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GuiLogListener(Monitor)); }</code> </pre> <br>  Ø¥Ø¶Ø§ÙØ© MonitorControl Ø§Ù„ØªÙŠ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø¥Ù„Ù‰ Ø£Ø³ÙÙ„ MainWindow: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;dxlc:LayoutGroup HorizontalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span> dxlc:LayoutControl.AllowVerticalSizing=<span class="hljs-string"><span class="hljs-string">"True"</span></span>&gt; &lt;!--  --&gt; &lt;myxaml:MonitorControl x:Name=<span class="hljs-string"><span class="hljs-string">"MonitorControl"</span></span> /&gt; &lt;/dxlc:LayoutGroup&gt;</code> </pre> <br>  ØªØ´ØºÙŠÙ„ Ù„Ù„ØªØ­Ù‚Ù‚: <br><br><img src="https://habrastorage.org/webt/ky/xg/mw/kyxgmwzz8wd1cnl91bhpt1007be.png"><br><br><h2 style=";text-align:right;direction:rtl">  Ø¥Ù†Ø´Ø§Ø¡ Ù„ÙˆØ­Ø© Ø²Ø¬Ø§Ø¬ÙŠØ© </h2><br>  Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù‚ÙŠØ§Ø³ Ù…Ø¹ Ø§Ù„Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù„ÙˆØ­Ø© Ø²Ø¬Ø§Ø¬ÙŠØ© ØŒ ÙˆÙ‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© UserControl Ø¢Ø®Ø± Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ XAML.  Ø§Ø¹Ø·Ø§Ø¦Ù‡Ø§ Ø§Ø³Ù… MarketDepthControl. <br><br>  ÙÙŠ MainWindow Ø§Ø³ØªØ®Ø¯Ù…Ù†Ø§ Ø¨Ø§Ù„ÙØ¹Ù„ LayoutControl ØŒ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØ­ÙƒÙ… Ø³ÙˆÙ Ù†Ø³ØªØ®Ø¯Ù… LayoutControl Ø£ÙŠØ¶Ù‹Ø§.  Ù†Ù‚Ø³Ù… Ø§Ù„Ù„ÙˆØ­Ø© Ø¥Ù„Ù‰ Ø¬Ø²Ø£ÙŠÙ† Ø£ÙÙ‚ÙŠÙ‹Ø§: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> &lt;UserControl x:Class=<span class="hljs-string"><span class="hljs-string">"ShellNew.XAML.MarketDepthControl"</span></span> xmlns=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span></span> xmlns:x=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span></span> xmlns:mc=<span class="hljs-string"><span class="hljs-string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span></span> xmlns:d=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/expression/blend/2008"</span></span> xmlns:dxlc=<span class="hljs-string"><span class="hljs-string">"http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"</span></span> mc:Ignorable=<span class="hljs-string"><span class="hljs-string">"d"</span></span>&gt; &lt;dxlc:LayoutControl Padding=<span class="hljs-string"><span class="hljs-string">"0"</span></span> Name=<span class="hljs-string"><span class="hljs-string">"LayoutControlRoot"</span></span> Orientation=<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span>&gt; &lt;dxlc:LayoutGroup&gt; &lt;!--Left--&gt; &lt;/dxlc:LayoutGroup&gt; &lt;dxlc:LayoutGroup Orientation=<span class="hljs-string"><span class="hljs-string">"Vertical"</span></span> dxlc:LayoutControl.AllowHorizontalSizing=<span class="hljs-string"><span class="hljs-string">"True"</span></span>&gt; &lt;!--Rigth--&gt; &lt;/dxlc:LayoutGroup&gt; &lt;/dxlc:LayoutControl&gt; &lt;/UserControl&gt;</code> </pre> <br>  Ø£Ø¶Ù SecurityPicker Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠØ³Ø± - Ù‚Ø§Ø¨Ù„Ù†Ø§Ù‡ Ø¹Ù†Ø¯Ù…Ø§ Ø£Ù†Ø´Ø£Ù†Ø§ Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;dxlc:LayoutGroup&gt; &lt;xaml:SecurityPicker x:Name=<span class="hljs-string"><span class="hljs-string">"SecPicker"</span></span> SecuritySelected=<span class="hljs-string"><span class="hljs-string">"SecPicker_SecuritySelected"</span></span> /&gt; &lt;/dxlc:LayoutGroup&gt;       .     : &lt;dxlc:LayoutGroup Orientation=<span class="hljs-string"><span class="hljs-string">"Vertical"</span></span> dxlc:LayoutControl.AllowHorizontalSizing=<span class="hljs-string"><span class="hljs-string">"True"</span></span>&gt; &lt;dxlc:LayoutItem VerticalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span>&gt; &lt;xaml:MarketDepthControl x:Name=<span class="hljs-string"><span class="hljs-string">"MarketDepth"</span></span> MaxHeight=<span class="hljs-string"><span class="hljs-string">"2000"</span></span> SelectionChanged=<span class="hljs-string"><span class="hljs-string">"MarketDepth_SelectionChanged"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;/dxlc:LayoutGroup&gt;</code> </pre> <br>  ÙŠØ­ØªØ§Ø¬ MarketDepthControl Ø¥Ù„Ù‰ ØªØ¹ÙŠÙŠÙ† Ø¨Ø¹Ø¶ Ø§Ù„Ù‚ÙŠÙ…Ø© MaxHeight ØŒ ÙˆØ¥Ù„Ø§ Ù„Ù† ÙŠØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚. <br><br>  ØªØ­Øª Ø§Ù„Ø²Ø¬Ø§Ø¬ ØŒ Ø³Ù†Ø¶Ø¹ Ø¹Ù†Ø§ØµØ± Ù…Ù‡Ù…Ø© Ø§Ù„Ø­Ø§ÙØ¸Ø© ÙˆØ§Ù„Ø³Ø¹Ø± ÙˆØ­Ø¬Ù… Ø§Ù„Ø·Ù„Ø¨: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;dxlc:LayoutItem Label=<span class="hljs-string"><span class="hljs-string">"Portfolio"</span></span> Height=<span class="hljs-string"><span class="hljs-string">"20"</span></span>&gt; &lt;xaml:PortfolioComboBox x:Name=<span class="hljs-string"><span class="hljs-string">"PortfolioComboBox"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;dxlc:LayoutItem Label=<span class="hljs-string"><span class="hljs-string">"Price"</span></span> Height=<span class="hljs-string"><span class="hljs-string">"20"</span></span>&gt; &lt;dxe:SpinEdit MinValue=<span class="hljs-string"><span class="hljs-string">"0"</span></span> Name=<span class="hljs-string"><span class="hljs-string">"SpinEditPrice"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;dxlc:LayoutItem Label=<span class="hljs-string"><span class="hljs-string">"Volume"</span></span> Height=<span class="hljs-string"><span class="hljs-string">"20"</span></span>&gt; &lt;dxe:SpinEdit MinValue=<span class="hljs-string"><span class="hljs-string">"0"</span></span> Name=<span class="hljs-string"><span class="hljs-string">"SpinEditVolume"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt;</code> </pre> <br>  ØªØ¬Ø¯Ø± Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ø®Ø§ØµÙŠØ© ØªØ³Ù…ÙŠØ© LayoutItem ØŒ ÙÙ‡ÙŠ ØªØ³Ù…Ø­ Ù„Ùƒ Ø¨ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Øµ Ø£Ù…Ø§Ù… Ø§Ù„Ø¹Ù†ØµØ±.  Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø¹Ù†ØµØ± SpinEdit Ù…Ù† DevExpress ÙˆØ§Ù„Ø°ÙŠ ÙŠØ¹Ø¯ Ù…Ù„Ø§Ø¦Ù…Ø§Ù‹ Ù„Ø¶Ø¨Ø· Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ©.  Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù†Ø§ØµØ± ØªØ¨Ø¯Ùˆ ÙƒÙ…Ø§ ÙŠÙ„ÙŠ: <br><br><img src="https://habrastorage.org/webt/gr/ix/9j/grix9jsfrxcmaftyx6bpdylnxi4.png"><br><br>  Ø£Ø¯Ù†Ø§Ù‡ Ø³Ù†Ø¶Ø¹ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¨ÙŠØ¹ ÙˆØ§Ù„Ø´Ø±Ø§Ø¡: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;dxlc:LayoutGroup Orientation=<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span> Height=<span class="hljs-string"><span class="hljs-string">"20"</span></span> VerticalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span>&gt; &lt;dxlc:LayoutItem VerticalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span>&gt; &lt;dx:SimpleButton Content=<span class="hljs-string"><span class="hljs-string">"Buy"</span></span> x:Name=<span class="hljs-string"><span class="hljs-string">"BuyButton"</span></span> Click=<span class="hljs-string"><span class="hljs-string">"BuyButton_Click"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;dxlc:LayoutItem VerticalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span>&gt; &lt;dx:SimpleButton Content=<span class="hljs-string"><span class="hljs-string">"Sell"</span></span> x:Name=<span class="hljs-string"><span class="hljs-string">"SelltButton"</span></span> Click=<span class="hljs-string"><span class="hljs-string">"SelltButton_Click"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;/dxlc:LayoutGroup&gt;</code> </pre> <br>  ÙƒÙˆØ¯ ÙƒØ§Ù…Ù„: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;UserControl x:Class=<span class="hljs-string"><span class="hljs-string">"ShellNew.XAML.MarketDepthControl"</span></span> xmlns=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span></span> xmlns:x=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span></span> xmlns:mc=<span class="hljs-string"><span class="hljs-string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span></span> xmlns:d=<span class="hljs-string"><span class="hljs-string">"http://schemas.microsoft.com/expression/blend/2008"</span></span> xmlns:dxlc=<span class="hljs-string"><span class="hljs-string">"http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"</span></span> xmlns:dx=<span class="hljs-string"><span class="hljs-string">"http://schemas.devexpress.com/winfx/2008/xaml/core"</span></span> xmlns:xaml=<span class="hljs-string"><span class="hljs-string">"http://schemas.stocksharp.com/xaml"</span></span> xmlns:dxe=<span class="hljs-string"><span class="hljs-string">"http://schemas.devexpress.com/winfx/2008/xaml/editors"</span></span> mc:Ignorable=<span class="hljs-string"><span class="hljs-string">"d"</span></span>&gt; &lt;dxlc:LayoutControl Padding=<span class="hljs-string"><span class="hljs-string">"0"</span></span> Name=<span class="hljs-string"><span class="hljs-string">"LayoutControlRoot"</span></span> Orientation=<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span>&gt; &lt;dxlc:LayoutGroup&gt; &lt;xaml:SecurityPicker x:Name=<span class="hljs-string"><span class="hljs-string">"SecPicker"</span></span> SecuritySelected=<span class="hljs-string"><span class="hljs-string">"SecPicker_SecuritySelected"</span></span> /&gt; &lt;/dxlc:LayoutGroup&gt; &lt;dxlc:LayoutGroup Orientation=<span class="hljs-string"><span class="hljs-string">"Vertical"</span></span> dxlc:LayoutControl.AllowHorizontalSizing=<span class="hljs-string"><span class="hljs-string">"True"</span></span>&gt; &lt;dxlc:LayoutItem VerticalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span>&gt; &lt;xaml:MarketDepthControl x:Name=<span class="hljs-string"><span class="hljs-string">"MarketDepth"</span></span> MaxHeight=<span class="hljs-string"><span class="hljs-string">"2000"</span></span> SelectionChanged=<span class="hljs-string"><span class="hljs-string">"MarketDepth_SelectionChanged"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;dxlc:LayoutItem Label=<span class="hljs-string"><span class="hljs-string">"Portfolio"</span></span> Height=<span class="hljs-string"><span class="hljs-string">"20"</span></span>&gt; &lt;xaml:PortfolioComboBox x:Name=<span class="hljs-string"><span class="hljs-string">"PortfolioComboBox"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;dxlc:LayoutItem Label=<span class="hljs-string"><span class="hljs-string">"Price"</span></span> Height=<span class="hljs-string"><span class="hljs-string">"20"</span></span>&gt; &lt;dxe:SpinEdit MinValue=<span class="hljs-string"><span class="hljs-string">"0"</span></span> Name=<span class="hljs-string"><span class="hljs-string">"SpinEditPrice"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;dxlc:LayoutItem Label=<span class="hljs-string"><span class="hljs-string">"Volume"</span></span> Height=<span class="hljs-string"><span class="hljs-string">"20"</span></span>&gt; &lt;dxe:SpinEdit MinValue=<span class="hljs-string"><span class="hljs-string">"0"</span></span> Name=<span class="hljs-string"><span class="hljs-string">"SpinEditVolume"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;dxlc:LayoutGroup Orientation=<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span> Height=<span class="hljs-string"><span class="hljs-string">"20"</span></span> VerticalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span>&gt; &lt;dxlc:LayoutItem VerticalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span>&gt; &lt;dx:SimpleButton Content=<span class="hljs-string"><span class="hljs-string">"Buy"</span></span> x:Name=<span class="hljs-string"><span class="hljs-string">"BuyButton"</span></span> Click=<span class="hljs-string"><span class="hljs-string">"BuyButton_Click"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;dxlc:LayoutItem VerticalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span>&gt; &lt;dx:SimpleButton Content=<span class="hljs-string"><span class="hljs-string">"Sell"</span></span> x:Name=<span class="hljs-string"><span class="hljs-string">"SelltButton"</span></span> Click=<span class="hljs-string"><span class="hljs-string">"SelltButton_Click"</span></span> /&gt; &lt;/dxlc:LayoutItem&gt; &lt;/dxlc:LayoutGroup&gt; &lt;/dxlc:LayoutGroup&gt; &lt;/dxlc:LayoutControl&gt; &lt;/UserControl&gt;</code> </pre> <br>  ÙÙŠ Ù…ÙÙ†Ø´Ø¦ MarketDepthControl ØŒ Ù‚Ù… Ø¨ØªØ¹ÙŠÙŠÙ† Ù…ØµØ¯Ø± Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù€ SecurityPicker ÙˆÙ…ØµØ¯Ø± Ø§Ù„Ø­Ù‚Ø§Ø¦Ø¨ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù€ PortfolioComboBox ØŒ ÙˆÙÙŠ Ø­Ø§Ù„ØªÙ†Ø§ ØŒ Ø³ÙŠÙƒÙˆÙ† Ø§Ù„Ø±Ø§Ø¨Ø·: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MarketDepthControl</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { InitializeComponent(); SecPicker.SecurityProvider = MainWindow.Instance.Connector; PortfolioComboBox.Portfolios = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PortfolioDataSource(MainWindow.Instance.Connector); }</code> </pre> <br>  Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø§Ù„Ø¬ Ø­Ø¯Ø« ØªØ­Ø¯ÙŠØ¯ Ø£Ø¯Ø§Ø© ÙÙŠ SecurityPicker.  ÙÙŠ Ø°Ù„Ùƒ ØŒ Ù†ØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø© Ù„Ø§ ØªØ³Ø§ÙˆÙŠ Ø§Ù„ØµÙØ±.  Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø§ ÙŠØ³Ø§ÙˆÙŠ Ø§Ù„ØµÙØ± ØŒ ÙÙ†Ø­Ù† Ù†Ø­ÙØ¸ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø© ÙÙŠ Ù…ØªØºÙŠØ± Ù…Ø­Ù„ÙŠ ØŒ ÙˆØ³ÙŠÙƒÙˆÙ† Ø°Ù„Ùƒ Ù…ÙÙŠØ¯Ù‹Ø§ Ù„Ù†Ø§ Ø¹Ù†Ø¯ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø²Ø¬Ø§Ø¬.  Ø«Ù… Ù†Ù‚ÙˆÙ… Ø¨ØªÙ†Ø¸ÙŠÙ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø© ÙÙŠ Ø§Ù„Ù…ÙˆØµÙ„ Ù„Ø§Ø³ØªÙ„Ø§Ù… ÙƒÙˆØ¨ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ù„ÙˆØ¨ RegisterMarketDepth.  Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ù„ÙˆØ¨ GetMarketDepth ØŒ Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø¬Ø§Ø¬ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø£Ø¯Ø§Ø© Ù…Ù† Ø£Ø¬Ù„ ØªØ­Ø¯ÙŠØ« MarketDepthControl Ø¨Ù‡. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Security _selectedSecurity; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SecPicker_SecuritySelected</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Security security</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (security == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; _selectedSecurity = security; MainWindow.Instance.Connector.RegisterMarketDepth(_selectedSecurity); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> marketDepth = MainWindow.Instance.Connector.GetMarketDepth(_selectedSecurity); MarketDepth.UpdateDepth(marketDepth); }</code> </pre> <br>  Ù„ÙƒÙŠ ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø²Ø¬Ø§Ø¬ Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ù…ÙÙ†Ø´Ø¦ MarketDepthControl ØŒ Ù†Ø­Ù† Ù†Ø´ØªØ±Ùƒ ÙÙŠ Ø­Ø¯Ø« ØªØºÙŠÙŠØ± Ø§Ù„Ø²Ø¬Ø§Ø¬ MarketDepthChanged Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØµÙ„.  ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø¯Ø« ØŒ Ø³ÙˆÙ Ù†ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„ØªÙŠ ÙŠÙ†ØªÙ…ÙŠ Ø¥Ù„ÙŠÙ‡Ø§ Ø§Ù„Ø²Ø¬Ø§Ø¬ Ø§Ù„Ù…Ø³ØªÙ„Ù… ØŒ ÙˆØ¥Ø°Ø§ ÙƒØ§Ù† ÙŠÙ†ØªÙ…ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© ÙÙŠ SecurityPicker ØŒ ÙØ¥Ù†Ù†Ø§ Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ø¯ÙŠØ«Ù‡Ø§: MarketDepthControl. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MarketDepthControl</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { InitializeComponent(); SecPicker.SecurityProvider = MainWindow.Instance.Connector; PortfolioComboBox.Portfolios = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PortfolioDataSource(MainWindow.Instance.Connector); MainWindow.Instance.Connector.MarketDepthChanged += Connector_MarketDepthChanged; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Connector_MarketDepthChanged</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">MarketDepth marketDepth</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_selectedSecurity == <span class="hljs-literal"><span class="hljs-literal">null</span></span> || marketDepth.Security != _selectedSecurity) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; MarketDepth.UpdateDepth(marketDepth); }</code> </pre> <br>  ÙÙŠ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù…Ù† MainWindow ØŒ Ø£Ø¶Ù Ù„ÙˆØ­Ø© MarketDepthControl Ø§Ù„ØªÙŠ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">&lt;dxlc:LayoutGroup HorizontalAlignment=<span class="hljs-string"><span class="hljs-string">"Stretch"</span></span> View=<span class="hljs-string"><span class="hljs-string">"Tabs"</span></span>&gt; &lt;!--  --&gt; &lt;dxlc:LayoutGroup Header=<span class="hljs-string"><span class="hljs-string">"Securities"</span></span>&gt; &lt;myxaml:SecurityGridControl x:Name=<span class="hljs-string"><span class="hljs-string">"SecurityPanel"</span></span> /&gt; &lt;/dxlc:LayoutGroup&gt; &lt;dxlc:LayoutGroup Header=<span class="hljs-string"><span class="hljs-string">"Portfolios"</span></span>&gt; &lt;myxaml:PortfolioGridControl x:Name=<span class="hljs-string"><span class="hljs-string">"PortfolioGridControl"</span></span> /&gt; &lt;/dxlc:LayoutGroup&gt; &lt;dxlc:LayoutGroup Header=<span class="hljs-string"><span class="hljs-string">"Orders"</span></span>&gt; &lt;myxaml:OrderGridControl x:Name=<span class="hljs-string"><span class="hljs-string">"OrderGridControl"</span></span> /&gt; &lt;/dxlc:LayoutGroup&gt; &lt;dxlc:LayoutGroup Header=<span class="hljs-string"><span class="hljs-string">"MyTrades"</span></span>&gt; &lt;myxaml:MyTradeGridControl x:Name=<span class="hljs-string"><span class="hljs-string">"MyTradeGridControl"</span></span> /&gt; &lt;/dxlc:LayoutGroup&gt; &lt;dxlc:LayoutGroup Header=<span class="hljs-string"><span class="hljs-string">"MarketDepth"</span></span>&gt; &lt;myxaml:MarketDepthControl x:Name=<span class="hljs-string"><span class="hljs-string">"MarketDepthControl"</span></span> /&gt; &lt;/dxlc:LayoutGroup&gt; &lt;/dxlc:LayoutGroup&gt;</code> </pre> <br>  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ´ØºÙŠÙ„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ø±Ø§Øª. <br>  Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø§Ù„Ø¬ Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ù†Ù‚Ø± ÙÙˆÙ‚ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¨ÙŠØ¹ ÙˆØ§Ù„Ø´Ø±Ø§Ø¡.  ÙÙŠ ÙƒÙ„ Ù…Ø¹Ø§Ù„Ø¬ Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ ØŒ Ù†Ø´ÙŠØ± ÙÙŠÙ‡ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© ÙÙŠ SecurityPicker ØŒ ÙˆØ§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© ÙÙŠ PortfolioComboBox ØŒ ÙˆØ§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„Ø³Ø¹Ø± Ù…Ù† SpinEdit Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„.  ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ø±Ø§Ø¨Ø· Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ RegisterOrder. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BuyButton_Click</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, RoutedEventArgs e</span></span></span><span class="hljs-function">)</span></span> { Order order = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Order() { Security = _selectedSecurity, Portfolio = PortfolioComboBox.SelectedPortfolio, Volume = SpinEditVolume.Value, Price = SpinEditPrice.Value, Direction = StockSharp.Messages.Sides.Buy, }; MainWindow.Instance.Connector.RegisterOrder(order); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SelltButton_Click</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, RoutedEventArgs e</span></span></span><span class="hljs-function">)</span></span> { Order order = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Order() { Security = _selectedSecurity, Portfolio = PortfolioComboBox.SelectedPortfolio, Volume = SpinEditVolume.Value, Price = SpinEditPrice.Value, Direction = StockSharp.Messages.Sides.Sell, }; MainWindow.Instance.Connector.RegisterOrder(order); }</code> </pre> <br>  ÙƒÙ„ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø§Øª ØªØ®ØªÙ„Ù ÙÙ‚Ø· ÙÙŠ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚. <br><br>  Ø¯Ø¹Ù†Ø§ Ù†Ø¬Ø¹Ù„ Ù‚ÙŠÙ…Ø© SpinEditPrice ØªØªØºÙŠØ± Ø­Ø³Ø¨ Ø³Ø¹Ø± Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³ Ø§Ù„Ù…Ø­Ø¯Ø¯ Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³ ÙÙŠ ÙƒÙˆØ¨.  Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø§Ù„Ø¬ Ø­Ø¯Ø« SelectionChanged Ù„Ù€ MarketDepthControl.  Ø­ÙŠØ« Ø³Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ø¯ÙŠØ« Ù‚ÙŠÙ…Ø© SpinEditPrice Ø¨Ø³Ø¹Ø± Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³ Ø§Ù„Ù…Ø­Ø¯Ø¯ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯ Ù„Ø§ ÙŠØ³Ø§ÙˆÙŠ Ø§Ù„ØµÙØ±. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">private void MarketDepth_SelectionChanged(object sender, GridSelectionChangedEventArgs e) { if (MarketDepth.SelectedQuote == null) return; SpinEditPrice.Value = MarketDepth.SelectedQuote.Price; }</code> </pre> <br>  ØªØ´ØºÙŠÙ„ Ù„Ù„ØªØ­Ù‚Ù‚: <br><br><img src="https://habrastorage.org/webt/p9/15/of/p915of4vabbulkuyg8zjlvxzsei.png"><br><br><h2 style=";text-align:right;direction:rtl">  Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙˆÙ‚ </h2><br>  Ù„Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ø§ÙØ¸ ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù…Ù†ØµØ§Øª ØŒ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ ÙØ¦Ø© CsvEntityRegistry.  Ù…Ù† Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ù…ÙˆÙ‚Ø¹ ØªØ®Ø²ÙŠÙ† Ø§Ù„ÙƒÙŠØ§Ù† ÙˆØ§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ù„ØªØ­Ù…ÙŠÙ„Ù‡Ø§. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> _csvEntityRegistry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CsvEntityRegistry(_csvEntityRegistryDir); _csvEntityRegistry.Init();</code> </pre> <br>  Ù„Ø­ÙØ¸ Ø§Ù„Ø´Ù…ÙˆØ¹ ÙˆØ§Ù„ØµÙÙ‚Ø§Øª ØŒ Ø¥Ù„Ø®.  Ù†Ø­Ù† Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ StorageRegistry: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> _storageRegistry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StorageRegistry { DefaultDrive = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LocalMarketDataDrive(_storageRegistryDir), };</code> </pre> <br>  Ù†Ø­ØªØ§Ø¬ Ø£ÙŠØ¶Ù‹Ø§ Ø¥Ù„Ù‰ Ø³Ø¬Ù„ SnapshotRegistry Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù„Ù‚Ø·Ø§Øª: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">_snapshotRegistry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SnapshotRegistry(_snapshotRegistryDir);</code> </pre> <br>  ÙƒÙ„ Ù‡Ø°Ø§ Ù†Ù…Ø±Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">Connector = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Connector(_csvEntityRegistry, _storageRegistry, _snapshotRegistry) { IsRestoreSubscriptionOnReconnect = <span class="hljs-literal"><span class="hljs-literal">true</span></span>, StorageAdapter = { DaysLoad = TimeSpan.FromDays(<span class="hljs-number"><span class="hljs-number">3</span></span>) }, }; Connector.LookupAll();</code> </pre> <br>  Ù‡Ù†Ø§ Ø£Ø´Ø±Ù†Ø§ Ø£ÙŠØ¶Ù‹Ø§ Ø¥Ù„Ù‰ Ø£Ù† Ø§Ù„Ù…ÙˆØµÙ„ Ø³ÙˆÙ ÙŠØ¹ÙŠØ¯ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªÙ… Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ ØŒ ÙˆØ£ÙŠØ¶Ù‹Ø§ ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØªÙ†Ø²ÙŠÙ„Ù‡Ø§.  Ø³Ù„Ø³Ù„Ø© Ø±Ø§Ø¨Ø·. LookupAll () Ø›  ÙŠØ·Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//---------------------------------------------------------------------------------- Directory.CreateDirectory(_dir); _csvEntityRegistry = new CsvEntityRegistry(_csvEntityRegistryDir); _csvEntityRegistry.Init(); _storageRegistry = new StorageRegistry { DefaultDrive = new LocalMarketDataDrive(_storageRegistryDir), }; _snapshotRegistry = new SnapshotRegistry(_snapshotRegistryDir); Connector = new Connector(_csvEntityRegistry, _storageRegistry, _snapshotRegistry) { IsRestoreSubscriptionOnReconnect = true, StorageAdapter = { DaysLoad = TimeSpan.FromDays(3) }, }; Connector.LookupAll(); if (File.Exists(_settingsFile)) { Connector.Load(new XmlSerializer&lt;SettingsStorage&gt;().Deserialize(_settingsFile)); } //----------------------------------------------------------------------------------</span></span></code> </pre> <br>  Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØŒ ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØŒ Ø³Ù†Ø±Ù‰ Ø¸Ù‡ÙˆØ± Ù…Ø¬Ù„Ø¯Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©: <br><br><img src="https://habrastorage.org/webt/ur/5a/jx/ur5ajx_3klmkbkcfzkyrqqamuza.png"><br><br>  Ø¹Ù†Ø¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ ØŒ Ø³ÙŠØªÙ… Ø¨Ø§Ù„ÙØ¹Ù„ Ù…Ù„Ø¡ Ø£Ø´Ø±Ø·Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù…Ø­Ø§ÙØ¸. <br><br>  Ù„Ù‚Ø¯ Ø§Ù‚ØªØ±Ø¨Ù†Ø§ Ø¨Ø³Ù„Ø§Ø³Ø© Ù…Ù† Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„.  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ØŒ ÙŠØ³Ù…Ø­ Ù„Ùƒ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¨Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù†Ø§.  Ø³ÙŠÙˆØ¶Ø­ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„ØªØ§Ù„ÙŠ Ø§Ù„Ø£ÙƒØ«Ø± Ù„Ø°ÙŠØ°Ù‹Ø§ - Ø£Ù„Ø§ ÙˆÙ‡Ùˆ Ø§Ù„ØªØ¯Ø§ÙˆÙ„ ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙŠØ¯ÙˆÙŠ ÙˆØ§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ. <br><br>  <i>Ø£Ù† ØªØ³ØªÙ…Ø± ...</i> <br><br>  <b>Ø§Ù„Ù…Ø¤Ù„Ù</b> : Ø¥ÙŠÙØ§Ù† Ø²Ø§Ù„ÙˆØªØ³ÙƒÙŠ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar432812/">https://habr.com/ru/post/ar432812/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar432802/index.html">Ø³ØªØ© Ù…Ù†ØµØ§Øª Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©</a></li>
<li><a href="../ar432804/index.html">Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© ÙƒØ§Ù…Ù„Ø© Ø­ÙˆÙ„ RTOS. Ø§Ù„Ù…Ø§Ø¯Ø© Ø±Ù‚Ù… 24. Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±: Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙˆÙ‡ÙŠØ§ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</a></li>
<li><a href="../ar432806/index.html">Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚: ÙÙƒØ±Ø© ØªØ·Ø§Ø±Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ø£Ø°ÙƒÙŠØ§Ø¡</a></li>
<li><a href="../ar432808/index.html">Ø§Ù„Ø±ÙˆØ§ØªØ¨ ÙÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹Ù‰: Ø­ÙŠØ« ÙŠÙˆØ¬Ø¯ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø§Ù„ ÙˆÙ…Ù† ÙŠØ¨Ø­Ø«ÙˆÙ† Ø¹Ù†Ù‡ ÙÙŠ Ø±ÙˆØ³ÙŠØ§</a></li>
<li><a href="../ar432810/index.html">Ø£ÙˆÙ„ ØºØ±Ø§Ù…Ø§Øª Ø¹Ù„Ù‰ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ø§ØªØ¬ Ø§Ù„Ù…Ø­Ù„ÙŠ: Ù…Ù† Ø³Ø¨Ù‚ Ø£Ù† Ø¹ÙˆÙ‚Ø¨</a></li>
<li><a href="../ar432814/index.html">ÙƒØ¹ÙƒØ© Ùˆ TeamCity Ø§Ù„ØªÙƒØ§Ù…Ù„</a></li>
<li><a href="../ar432816/index.html">AXIS M3046-V Ùˆ IDIS DC-D3212X: Ù‚Ø§Ø±Ù† ÙƒØ§Ù…ÙŠØ±Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ø¦Ø± Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ†ÙŠØ© Ø§Ù„Ù…ØºÙ„Ù‚Ø©</a></li>
<li><a href="../ar432818/index.html">Ø±Ø§Ø³Ù…Ø© Ù…Ø­Ù„ÙŠØ© Ø§Ù„ØµÙ†Ø¹: Ù†ØµØ§Ø¦Ø­ Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† ØŒ ÙˆØ§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø«Ø§Ø¨ØªØ© grbl</a></li>
<li><a href="../ar432820/index.html">Ø§Ø®ØªØ¨Ø§Ø± Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Android</a></li>
<li><a href="../ar432822/index.html">Ø£Ù†Ø§ Ø£ÙØ³Ø¯ Ø±Ù…Ø² Ø­ÙŠØ§ØªÙŠ Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ†</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>