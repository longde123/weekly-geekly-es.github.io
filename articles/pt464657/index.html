<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçüè´ ‚è© üôèüèª Cornija el√©trica para engenharia reversa AM82TV üçá üôåüèæ üîû</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eu tenho algumas barras de cortina el√©tricas da Akko - AM82TV. Esse modelo se destaca de seus irm√£os com o conjunto mais completo de interfaces de ger...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cornija el√©trica para engenharia reversa AM82TV</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464657/">  Eu tenho algumas barras de cortina el√©tricas da Akko - AM82TV.  Esse modelo se destaca de seus irm√£os com o conjunto mais completo de interfaces de gerenciamento.  As cortinas podem ser controladas por r√°dio, existem "contatos secos", controle fase a fase (fazendo um curto-circuito nos fios de controle da rede).  Existe uma interface RS485 - isto √©, se voc√™ deseja conectar as cortinas √† ‚Äúcasa inteligente‚Äù.  Voc√™ tamb√©m pode abrir / fechar as cortinas simplesmente puxando-as com a m√£o na dire√ß√£o desejada.  Talvez esteja ausente ‚Äúpronto para uso‚Äù, apenas a interface baseada na Web, bem, e o MQTT. <br><br>  H√° muito tempo, hastes de cortina el√©tricas funcionam de maneira confi√°vel, mas, de tempos em tempos, um desejo come√ßa a parecer desmont√°-las - por curiosidade de ver o que h√° dentro e se √© poss√≠vel colocar um ESP8266 (ou ESP32) nele para adicionar os desaparecidos.  √â claro que voc√™ pode conectar tudo de fora, mas √© melhor que a apar√™ncia permane√ßa a mesma e tudo oculto por dentro. <br><br>  N√£o repare o que n√£o est√° quebrado - isso n√£o √© sobre mim.  No come√ßo, tentei afastar as m√°s id√©ias de mim mesma, mas com o tempo a coceira se intensificou e agora chegou a hora em que j√° era imposs√≠vel combat√™-la.  Tirei o motor dos beirais e o desmontei.  A inspe√ß√£o inicial deveria dar respostas a duas perguntas: existe espa√ßo para o ESP8266 e √© poss√≠vel usar a fonte de alimenta√ß√£o embutida?  Tudo foi resolvido de forma simples.  Basta desaparafusar alguns parafusos das extremidades do motor.  A √∫nica coisa √© que os slots dos parafusos n√£o s√£o feitos com uma chave de fenda, mas com uma chave sextavada torx.  Depois disso, voc√™ pode extrair o conte√∫do - um motor coletor em uma carca√ßa com uma caixa de velocidades e um sensor de eixo do motor, uma fonte de alimenta√ß√£o de 24 volts e uma placa de controle. <br><a name="habracut"></a><br>  H√° um local para ESP, a fonte de alimenta√ß√£o foi projetada para um motor potente e n√£o notar√° uma pequena carga adicional.  Comecei a considerar o painel de controle e os pensamentos sobre o ESP come√ßaram a desaparecer em segundo plano - o microcontrolador atmega168 era o cora√ß√£o do painel.  Se n√£o houvesse contatos na placa para instalar o conector ISP (interface de programa√ß√£o em circuito do microcontrolador), isso n√£o me impediria, mas eles estavam l√°.  Para que voc√™ me entenda corretamente, n√£o sou f√£ de avr.  Eu n√£o tenho um programador e n√£o escrevi uma √∫nica linha de c√≥digo para microcontroladores atmega.  Eu precisava urgentemente de um programador para tentar ler o firmware, mas era √† noite e n√£o havia como comprar algo na loja no momento.  Para n√£o esperar at√© de manh√£, montei o programador Gromov.  Em seguida, ele soldou o conector do provedor na placa de controle, conectou o programador e tentou ler o firmware - e foi contado. <br><br>  √â imposs√≠vel tentar entender algo no firmware do microcontrolador sem entender o diagrama de circuitos.  Portanto, em uma placa de circuito impresso, restaurei o circuito.  N√£o tenho muitas vezes que desenhar diagramas.  Para n√£o desenhar os elementos que est√£o no quadro, mas n√£o na biblioteca padr√£o, desenhei um diagrama no easyeda.  Sim, verifica-se que n√£o est√° de acordo com GOST (mas o microcontrolador √© desenhado como na documenta√ß√£o, o que √© conveniente).  Um fragmento √© suficiente para entender: <br><br> <a href=""><img src="https://habrastorage.org/webt/wi/ir/m7/wiirm7nkx-rp1gz5smrd9ojrvqu.png"></a> <br><br>  A seguir, a maioria das imagens √© clic√°vel. <br><br>  Se desejar, voc√™ pode se familiarizar com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">esquema completo</a> . <br><br>  Depois disso, eu estava pronto para pesquisar o firmware.  Simplesmente traduzir c√≥digos de m√°quina em mnem√¥nicos montadores n√£o √© suficiente para an√°lise.  Voc√™ precisa ver o status dos registradores e da mem√≥ria em qualquer ponto do programa.  Infelizmente, a depura√ß√£o no pr√≥prio microcontrolador n√£o √© poss√≠vel com o atmega168, mas voc√™ pode carregar o firmware no simulador.  N√£o √© muito conveniente se voc√™ quiser "sentir" o ferro real do cintador do microcontrolador, mas vamos seguir com o que temos.  N√£o instalei o Atmel Studio 7. Decidi que seria suficiente um AVR Studio mais compacto 4. Em princ√≠pio, um Studio √© suficiente para an√°lise, mas √© poss√≠vel transferir algumas das opera√ß√µes de rotina para outro software.  Em mar√ßo, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ferramenta de</a> engenharia reversa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">, Ghidra,</a> foi publicada.  Eu precisava de um motivo, alguma tarefa pr√°tica, para conhec√™-lo.  Esta √© apenas uma oportunidade.  Cada ferramenta individualmente - AVR Studio 4 e Ghidra, fiquei um pouco buggy.  O AVR Studio, com v√°rias transi√ß√µes aninhadas de subprogramas, pode parar subitamente de exibir os endere√ßos de transi√ß√£o corretos nos comandos (o endere√ßo se tornou zero).  Ghidra √†s vezes se desviava em sua an√°lise de indexa√ß√£o.  Mas o uso de ambas as ferramentas ao mesmo tempo tornou poss√≠vel identificar rapidamente a causa dessas esquisitices. <br><br>  Cavar sem rumo no firmware n√£o √© muito interessante.  √â melhor se houver alguma tarefa espec√≠fica.  Por outro lado, curioso pode ser a an√°lise do protocolo de troca do RS485 e do protocolo de controle no ar.  Eu decidi me aprofundar no protocolo de r√°dio. <br><br>  Era uma vez, eu j√° havia captado um sinal transmitido por um controle remoto via r√°dio e analisado. <br><br>  O canal de r√°dio √© unidirecional.  O motor s√≥ pode receber um sinal e n√£o confirma o recebimento de um comando.  √â imposs√≠vel interrogar o estado da cornija el√©trica pelo ar.  No n√≠vel f√≠sico, h√° apenas um receptor de sinal de r√°dio.  N√£o h√° transmissor no motor.  O sinal √© transmitido pelo controle remoto via r√°dio a uma frequ√™ncia de 433,92 MHz.  Codificado por manipula√ß√£o de amplitude.  O comando consiste em um bit de in√≠cio de forma especial, endere√ßo + canal e o pr√≥prio comando.  Graficamente, todo o sinal pode ser representado da seguinte maneira: <br><br><img src="https://habrastorage.org/webt/ca/6g/mg/ca6gmgjm3gdp9dkji_5elztulks.png"><br><br>  Um canal pode ser considerado como parte de um endere√ßo.  Se voc√™ transmitir um comando no canal zero, ele ser√° executado por todos os dispositivos com um determinado endere√ßo, mas com canais diferentes.  √â conveniente se voc√™ precisar transferir o comando imediatamente para o grupo de hastes de cortina el√©tricas. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Leia mais sobre o protocolo de r√°dio</a> . <br><br>  Analisando como o controle remoto transmite comandos, eu j√° conhecia os c√≥digos das quatro equipes.  N√£o √© demais, quando comparado com as possibilidades de controle da cortina el√©trica via RS485.  Eu queria ter certeza de que todas as equipes fossem identificadas e que n√£o houvesse "ovos de P√°scoa" ou equipes de servi√ßo. <br><br>  A abordagem de an√°lise √© simples.  O diagrama de circuitos mostra quais portas do microcontrolador est√£o conectadas a dispositivos f√≠sicos.  O arquivo de firmware √© analisado no Ghidra.  Isso √© conveniente - muitas opera√ß√µes de rotina s√£o realizadas automaticamente.  Depois de analisar a opera√ß√£o de um trecho de c√≥digo ou subprograma espec√≠fico, ele recebe um nome significativo.  Al√©m disso, trechos de c√≥digo e capturas de tela que trarei de Ghidra.  Quando estiver sem brilho, execute o c√≥digo no simulador.  Em situa√ß√µes especialmente complicadas, voc√™ precisa desenhar. <br><br>  Para garantir que os nomes dos registros perif√©ricos atmega168 sejam exibidos corretamente durante a desmontagem, corrigi o arquivo avr8.pspec.  De uma maneira boa, seria necess√°rio criar um arquivo com um nome diferente, mas eu n√£o precisava desse arquivo em sua forma original e corrigi o que era. <br>  O firmware come√ßa com vetores de interrup√ß√£o.  O primeiro √© o vetor de transi√ß√£o para o in√≠cio do programa.  √â assim: <br><br> <a href=""><img src="https://habrastorage.org/webt/wd/xm/sj/wdxmsj86gebhtuz_wpne3yamgyc.png"></a> <br><br>  A maioria das interrup√ß√µes n√£o √© usada.  Se, por algum motivo, ocorrer uma interrup√ß√£o, um comando de retorno ser√° executado imediatamente.  Al√©m de processar interrup√ß√µes para redefini√ß√£o, tamb√©m s√£o processadas interrup√ß√µes para o transbordamento do timer 0, conclus√£o da recep√ß√£o e disponibilidade para transmitir o pr√≥ximo byte de dados ao USART.  A troca RS485 n√£o nos interessa agora, mas o excesso de temporizador precisa ser revisto. <br><br>  Obviamente, antes que a interrup√ß√£o do timer seja ativada, o pr√≥prio timer deve ser configurado.  N√£o comecei a procurar no c√≥digo desmontado o local onde a inicializa√ß√£o ocorre.  No simulador, defino um ponto de interrup√ß√£o no endere√ßo 0x1fc - este √© o endere√ßo registrado no manipulador de interrup√ß√µes.  Comecei o programa, peguei um pico e apenas observei o que estava escrito nos registros.  A sele√ß√£o de bloqueio para timr0 est√° definida como clk / 8.  Com o quartzo em uma placa de 8 MHz, pulsos com uma frequ√™ncia de 1 MHz chegam ao timer. <br><br>  In√≠cio do manipulador de interrup√ß√£o: <br><br> <a href=""><img src="https://habrastorage.org/webt/mp/ag/-k/mpag-kzg9d5owsklnddy4smfhwe.png"></a> <br><br><div class="spoiler">  <b class="spoiler_title">Gr√°fico das fun√ß√µes do manipulador de interrup√ß√£o do birdwatch</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/vt/o0/nc/vto0ncy5nmggxhbccz-3hw-slm4.png" alt="imagem"><br></div></div><br>  O temporizador transborda a cada 107 Œºs.  Entre outras coisas, o manipulador de interrup√ß√£o processa o sinal da sa√≠da do receptor de sinal de r√°dio.  Se o sinal for aprovado no teste, os dados recebidos ser√£o gravados no buffer em 0x4af.  O tamanho do buffer √© de 6 bytes.  Esse √© um byte a mais do que o necess√°rio para receber quatro bytes do endere√ßo + canal e byte de comando.  Talvez o sexto byte do protocolo de r√°dio tenha sido destinado √† soma de verifica√ß√£o, mas atrofiado.  √Äs vezes acontece.  Talvez destinado a dados que complementem alguns dos comandos.  No protocolo de controle da cornija el√©trica RS485, h√° um comando para fechar parcialmente as cortinas.  Nesse caso, um byte adicional √© transmitido com dados sobre a quantidade de fechamento em porcentagem.  Uma equipe semelhante poderia existir no protocolo de r√°dio.  O programa principal √© informado sobre a prontid√£o dos dados, configurando um sinalizador - uma unidade √© gravada no endere√ßo 0x4bd. <br><br>  Isso completa a an√°lise de interrup√ß√µes e prossegue para o programa principal. <br><br>  O gr√°fico de fun√ß√µes ao navegar para o endere√ßo 0x1304 √© conciso e simples: <br><br><img src="https://habrastorage.org/webt/an/5s/m9/an5sm9h8f8cpzqgbrmnd4degjr4.png" alt="imagem"><br><br>  Precisamos no "principal".  J√° analisamos as interrup√ß√µes e entendemos que, por algum motivo, de repente, voltamos do main e entramos em "go_to_sleep", ent√£o esse sonho ser√° let√°rgico - a cortina el√©trica deixar√° de fazer algo √∫til.  Provavelmente, ao escrever o firmware, um modelo pronto foi usado e os artefatos permaneceram ap√≥s ele. <br><br>  Principalmente, precisamos encontrar o local onde o buffer 0x4af √© acessado.  Voc√™ n√£o precisa procurar por muito tempo.  Literalmente ap√≥s alguns comandos, uma sub-rotina √© chamada, come√ßando com o endere√ßo 0x11b3, onde esse buffer √© copiado e processado. <br><br>  Gr√°fico das fun√ß√µes do procedimento rf_signal_buffer_processing (0x11b3): <br><br> <a href=""><img src="https://habrastorage.org/webt/iy/nk/iu/iynkiuxnofmxm32ouji-qfbfzdy.png"></a> <br><br>  Este √© exatamente o lugar que precisamos, mas parece um pouco complicado.  Para entender, comecei a desenhar.  Algo como um fluxograma. <br><br>  A primeira coisa que acontece aqui √© que os dados do buffer 0x4af s√£o copiados para o novo endere√ßo - 0x49f e o sinalizador 0x4bd √© redefinido: <br><br> <a href=""><img src="https://habrastorage.org/webt/op/bh/lj/opbhljbg5zjnsxr4_pqriv6zk0s.png"></a> <br><br>  O seguinte snippet √© o mais interessante: <br><br> <a href=""><img src="https://habrastorage.org/webt/-u/03/uf/-u03ufrcwodmxwpiyp6u0p-xzya.png"></a> <br><br>  De fato, esta √© a verifica√ß√£o completa do comando recebido pelo ar.  Embora isso n√£o seja √≥bvio, mas an√°lises posteriores mostraram que a transi√ß√£o para as pr√≥ximas ramifica√ß√µes √© o processamento dos seguintes comandos de r√°dio se o comando 0xcc foi recebido antes disso - alternando para o modo de configura√ß√µes.  Eu estava interessado nos novos c√≥digos das pr√≥prias equipes.  Existe algo al√©m dos c√≥digos de comando 0x11, 0x33, 0x55 e 0xcc. <br><br>  N√£o foi poss√≠vel encontrar aqui nem mais o processamento do √∫ltimo sexto byte do comando.  Na figura, est√° riscado em vermelho.  Portanto, todas as equipes consistem em cinco bytes.  Pelo menos no firmware da AM82TV. <br><br>  A primeira coisa que vemos √© verificar o quinto byte do buffer - o c√≥digo do pr√≥prio comando.  Aqui, ao que parece, havia novos c√≥digos de comando - 0xad e 0xda.  O comando do buffer passa no teste com √™xito se o campo de endere√ßo corresponder a um dos endere√ßos j√° registrados no eeprom ou se o c√≥digo de comando for 0xad ou 0xda e o campo de endere√ßo == 0xaaaaaaaa. <br><br><div class="spoiler">  <b class="spoiler_title">Imagens restantes</b> <div class="spoiler_text"> <a href=""><img src="https://habrastorage.org/webt/of/6n/yd/of6nydabymjwd0-ysfdbwkyfcxk.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/-9/00/tp/-900tp2w_m-zrbzpagx5okojagq.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/zb/fq/uj/zbfqujb6gxqybjtotgbkws3as_q.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/jw/dp/1l/jwdp1lmpmdf97sikdteuuauxovc.png"></a> <br><br><img src="https://habrastorage.org/webt/so/nx/u5/sonxu5zkskxkpw_c_mgultqp7ic.png" alt="imagem"><br></div></div><br>  Bem, consideraremos que passamos com sucesso no pr√≥ximo teste.  Agora o c√≥digo de comando est√° localizado em 0x4bf.  Precisamos descobrir como o conte√∫do desse byte √© processado.  Existem v√°rias maneiras de fazer isso.  O mais simples √© uma pesquisa de texto no c√≥digo desmontado em Ghidra.  Resta ver exatamente onde o conte√∫do deste byte √© lido.  Esta n√£o √© uma maneira garantida de encontrar todas as chamadas, mas, neste caso espec√≠fico, funcionar√°.  Ent√£o, primeiro, veremos uma leitura de byte no procedimento come√ßando em 0x1262: <br><br><img src="https://habrastorage.org/webt/cz/pf/in/czpfinnhxrqxoghowvdcrkamj8i.png" alt="imagem"><br><br>  Acesso ao qual vem de um √∫nico local - uma equipe localizada em 0x5e0. <br><br>  Gr√°fico de fun√ß√µes: <br><br><img src="https://habrastorage.org/webt/d_/mi/wy/d_miwyhmpmtxxuktt97yhnlvh6o.png" alt="imagem"><br><br>  √â uma pena, mas todos os c√≥digos de comando, exceto os j√° conhecidos: 0x11, 0x33, 0x55 e 0xcc s√£o descartados neste procedimento.  At√© os c√≥digos 0xad e 0xda encontrados na etapa anterior.  Pelo menos n√£o consegui encontrar novos c√≥digos de comandos de r√°dio no firmware da cornija el√©trica AM82TV. <br><br>  No entanto, existe acesso ao firmware, ele pode ser desmontado, ver como fun√ß√µes espec√≠ficas s√£o implementadas e alterar algo por si mesmo.  Ou at√© adicione algo. <br><br>  O firmware e o arquivo avr8.pspec modificado para atmega168 s√£o postados no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt464657/">https://habr.com/ru/post/pt464657/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt464645/index.html">Como configurar o PVS-Studio no Travis CI usando o emulador de console de jogos PSP como exemplo</a></li>
<li><a href="../pt464647/index.html">Jornal Harry Potter</a></li>
<li><a href="../pt464649/index.html">Sistema de colabora√ß√£o de documentos para Zimbra Open-Source Edition</a></li>
<li><a href="../pt464651/index.html">Biblioteca de gerador de c√≥digo Assembler para microcontroladores AVR. Parte 5</a></li>
<li><a href="../pt464655/index.html">Como os sal√°rios e a popularidade das linguagens de programa√ß√£o mudaram nos √∫ltimos 2 anos</a></li>
<li><a href="../pt464659/index.html">Seguran√ßa de aplicativos ou Como incorporar seguran√ßa no desenvolvimento personalizado. Experi√™ncia pessoal na AGIMA</a></li>
<li><a href="../pt464661/index.html">A quem confiar o projeto de instala√ß√µes t√©cnicas de reequipamento e reconstru√ß√£o</a></li>
<li><a href="../pt464665/index.html">Particionando no SQL Server</a></li>
<li><a href="../pt464671/index.html">Receba SMS regulares para mensageiros instant√¢neos Viber e Telegram (usando gateways GoIP)</a></li>
<li><a href="../pt464673/index.html">TinyFL - driver de lanterna de microcontrolador</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>