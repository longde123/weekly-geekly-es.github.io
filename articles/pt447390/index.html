<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê° üë©üèº‚Äçüî¨ üöÇ Diretrizes de configura√ß√£o do AccelStor AFA para VMware vSphere üèÇüèæ üî≠ ‚úãüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, gostaria de falar sobre os recursos das matrizes All Flash AccelStor que trabalham com uma das plataformas de virtualiza√ß√£o mais popular...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Diretrizes de configura√ß√£o do AccelStor AFA para VMware vSphere</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/accelstor/blog/447390/"><p>  Neste artigo, gostaria de falar sobre os recursos das matrizes All Flash AccelStor que trabalham com uma das plataformas de virtualiza√ß√£o mais populares - o VMware vSphere.  Em particular, focar nos par√¢metros que ajudar√£o a obter o m√°ximo efeito ao usar uma ferramenta t√£o poderosa como o All Flash. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/di/xc/nq/dixcnqzpdskxe4whal3u7wyxcnw.jpeg"></div><a name="habracut"></a><br><p>  Todas as matrizes do Flash AccelStor NeoSapphire ‚Ñ¢ s√£o dispositivos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois</a> n√≥s baseados em SSDs com uma abordagem fundamentalmente diferente para implementar o conceito de armazenamento de dados e organizar o acesso a eles usando sua pr√≥pria tecnologia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FlexiRemap¬Æ</a> , em vez dos algoritmos RAID muito populares.  As matrizes fornecem acesso de bloco para hosts por meio de interfaces Fibre Channel ou iSCSI.  Para ser sincero, observamos que os modelos com a interface ISCSI tamb√©m t√™m acesso a arquivos como um bom b√¥nus.  Mas neste artigo, focaremos no uso de protocolos de bloco como o mais produtivo para o All Flash. </p><br><p>  Todo o processo de implanta√ß√£o e configura√ß√£o da colabora√ß√£o entre a matriz AccelStor e o sistema de virtualiza√ß√£o VMware vSphere pode ser dividido em v√°rios est√°gios: </p><br><p></p><ul><li>  Implementa√ß√£o da topologia de conex√£o e configura√ß√£o da rede SAN; </li><li>  Configurando toda a matriz Flash; </li><li>  Configurar hosts ESXi; </li><li>  Configure m√°quinas virtuais. </li></ul><br><p>  Matrizes AccelStor NeoSapphire ‚Ñ¢ com Fibre Channel e iSCSI foram usadas como equipamento de exemplo.  O software base √© o VMware vSphere 6.7U1. </p><br><p>  Antes de implantar os sistemas descritos neste artigo, √© altamente recomend√°vel que voc√™ se familiarize com a documenta√ß√£o da VMware sobre problemas de desempenho ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Melhores Pr√°ticas de Desempenho para VMware vSphere 6.7</a> ) e configura√ß√µes de iSCSI ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Melhores Pr√°ticas para Executar o VMware vSphere On iSCSI</a> ) </p><br><h3>  <i><b>Topologia de conex√£o e configura√ß√£o de SAN</b></i> </h3><br><p>  Os principais componentes de uma rede SAN s√£o HBAs em hosts ESXi, comutadores SAN e n√≥s de matriz.  Uma topologia t√≠pica dessa rede ficaria assim: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ci/wt/lg/ciwtlgk31rhm06xplvzbbwkxu0y.png"></div><br><p>  O termo Switch aqui refere-se a um √∫nico switch f√≠sico ou a um conjunto de switches (Fabric) ou a um dispositivo compartilhado entre diferentes servi√ßos (VSAN no caso do Fibre Channel e VLAN no caso do iSCSI).  O uso de dois comutadores independentes / Fabric elimina um poss√≠vel ponto de falha. </p><br><p>  A conex√£o direta de hosts √† matriz, apesar de suportada, √© altamente desencorajada.  O desempenho de matrizes All Flash √© bastante alto.  E para obter a velocidade m√°xima, voc√™ precisa usar todas as portas da matriz.  Portanto, √© necess√°rio pelo menos um comutador entre hosts e NeoSapphire ‚Ñ¢. </p><br><p>  Ter duas portas no host HBA tamb√©m √© um pr√©-requisito para desempenho m√°ximo e toler√¢ncia a falhas. </p><br><p>  Se voc√™ usar a interface Fibre Channel, precisar√° configurar o zoneamento para evitar poss√≠veis conflitos entre iniciadores e destinos.  As zonas s√£o constru√≠das com base no princ√≠pio de "uma porta do iniciador - uma ou mais portas do array". </p><br><p>  Se voc√™ estiver usando a conex√£o iSCSI, se estiver usando um switch compartilhado com outros servi√ßos, dever√° isolar o tr√°fego iSCSI dentro de uma VLAN separada.  Tamb√©m √© altamente recomend√°vel que voc√™ ative o suporte a Jumbo Frames (MTU = 9000) para aumentar o tamanho dos pacotes na rede e, assim, reduzir a quantidade de sobrecarga durante a transmiss√£o.  No entanto, vale lembrar que, para a opera√ß√£o correta, √© necess√°rio alterar o par√¢metro MTU em todos os componentes de rede ao longo da cadeia iniciador-switch-alvo. </p><br><h3>  <i><b>Configurando todas as matrizes Flash</b></i> </h3><br><p>  A matriz √© entregue aos clientes com grupos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FlexiRemap¬Æ</a> j√° formados.  Portanto, nenhuma a√ß√£o √© necess√°ria para integrar as unidades em uma √∫nica estrutura.  √â suficiente criar volumes com o tamanho e a quantidade necess√°rios. </p><br><p></p><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/zn/x9/nc/znx9ncuyd2rgm8-jfvwf620zaqg.png"></div><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/wx/8l/ua/wx8lualewtdkixfwg0petpxbsre.png"></div><p></p><br><p>  Por conveni√™ncia, existe uma funcionalidade para cria√ß√£o em lote de v√°rios volumes de um determinado volume de uma s√≥ vez.  Os volumes "thin" s√£o criados por padr√£o, pois isso permite um uso mais racional do espa√ßo de armazenamento dispon√≠vel (inclusive gra√ßas ao suporte da Space Reclamation).  Em termos de desempenho, a diferen√ßa entre volumes finos e grossos n√£o excede 1%.  No entanto, se voc√™ quiser "espremer todos os sucos" da matriz, sempre poder√° converter qualquer volume "fino" em "grosso".  Mas deve-se lembrar que tal opera√ß√£o √© irrevers√≠vel. </p><br><p>  Resta ent√£o "publicar" os volumes criados e definir direitos de acesso a eles a partir dos hosts usando a ACL (endere√ßos IP para iSCSI e WWPN para FC) e a separa√ß√£o f√≠sica das portas na matriz.  Para modelos iSCSI, isso √© feito atrav√©s da cria√ß√£o do Target. </p><br><p></p><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/mw/8y/cg/mw8ycgqngghoyuelortgysofswi.png"></div><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/py/xe/28/pyxe28gnrsxh_cx4ltjleogwsmw.png"></div><p></p><br><p>  Para modelos FC, a publica√ß√£o ocorre atrav√©s da cria√ß√£o de um LUN para cada porta na matriz. </p><br><p></p><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/qh/u3/bx/qhu3bxhm-kqinygguz298izbw7e.png"></div><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/oh/al/ey/ohaleyllpb-0bmot9kawc4-ssyg.png"></div><p></p><br><p>  Para acelerar o processo de configura√ß√£o, os hosts podem ser agrupados.  Al√©m disso, se o host usar o FC HBA de v√°rias portas (o que geralmente ocorre na pr√°tica), o sistema determinar√° automaticamente que as portas desse HBA pertencem ao mesmo host devido ao WWPN, que diferem por um.  Al√©m disso, a cria√ß√£o em lote do Target / LUN √© suportada para ambas as interfaces. </p><br><p>  Um ponto importante ao usar a interface iSCSI √© criar v√°rios destinos para volumes de uma s√≥ vez para aumentar o desempenho, pois a fila de destino n√£o pode ser alterada e, na verdade, ser√° um gargalo. </p><br><p></p><h3>  Configurar hosts ESXi </h3><p></p><br><p>  No lado ESXi, a configura√ß√£o b√°sica √© feita de acordo com o cen√°rio bastante esperado.  Procedimento para conex√£o iSCSI: </p><br><p></p><ol><li>  Adicionar adaptador iSCSI de software (n√£o √© necess√°rio se j√° tiver sido adicionado ou se estiver usando o adaptador iSCSI de hardware); </li><li>  Criando vSwitch, atrav√©s do qual o tr√°fego iSCSI passar√°, e adicionando uplink f√≠sico e VMkernal a ele; </li><li>  Adicionando endere√ßos de matriz √† descoberta din√¢mica; </li><li>  Criando armazenamento de dados </li></ol><br><p>  <b>Algumas notas importantes:</b> </p><br><blockquote><ul><li>  No caso geral, √© claro, voc√™ pode usar o vSwitch existente, mas no caso de um vSwitch separado, o gerenciamento das configura√ß√µes do host ser√° muito mais simples. </li><li>  √â necess√°rio separar o tr√°fego de gerenciamento e o iSCSI em links f√≠sicos e / ou VLANs separados para evitar problemas de desempenho. </li><li>  Os endere√ßos IP do VMkernal e as portas correspondentes da matriz All Flash devem estar na mesma sub-rede, novamente devido a problemas de desempenho. </li><li>  Para garantir a toler√¢ncia a falhas do VMware, o vSwitch deve ter pelo menos dois links f√≠sicos </li><li>  Se estiver usando Jumbo Frames, voc√™ deve alterar o MTU do vSwitch e do VMkernal </li><li>  N√£o ser√° errado lembrar que, de acordo com as recomenda√ß√µes da VMware para adaptadores f√≠sicos que ser√£o usadas para trabalhar com tr√°fego iSCSI, √© necess√°rio configurar o Teaming e Failover.  Em particular, cada VMkernal deve funcionar apenas atrav√©s de um uplink, o segundo uplink deve ser alternado para o modo n√£o utilizado.  Para toler√¢ncia a falhas, voc√™ precisa adicionar dois VMkernal, cada um dos quais funcionar√° atrav√©s de seu uplink. </li></ul><br></blockquote><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/_h/jb/va/_hjbvatnuhjwts4duy2epgb7bbi.png"></div><p></p><br><table><tbody><tr><th>  Adaptador VMkernel (vmk #) </th><th>  Adaptador de rede f√≠sica (vmnic #) </th></tr><tr><td>  vmk1 (Storage01) </td><td>  Adaptadores ativos <br>  vmnic2 <br>  Adaptadores n√£o utilizados <br>  vmnic3 <br></td></tr><tr><td>  vmk2 (Storage02) </td><td>  Adaptadores ativos <br>  vmnic3 <br>  Adaptadores n√£o utilizados <br>  vmnic2 <br></td></tr></tbody></table><br><p>  Nenhuma conex√£o Fibre Channel necess√°ria.  Voc√™ pode criar imediatamente um armazenamento de dados. </p><br><p>  Depois de criar o armazenamento de dados, √© necess√°rio garantir que a pol√≠tica Round Robin seja usada para os caminhos do Target / LUN como os mais produtivos. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zh/zr/t1/zhzrt15baoc1qlp0w6ds-mys3hu.png"></div><p></p><br><p>  Por padr√£o, as configura√ß√µes do VMware fornecem o uso dessa pol√≠tica de acordo com o esquema: 1000 solicita√ß√µes pelo primeiro caminho, pr√≥ximas 1000 solicita√ß√µes pelo segundo caminho, etc.  Essa intera√ß√£o do host com uma matriz de controlador duplo ser√° desequilibrada.  Portanto, recomendamos configurar o par√¢metro Round Robin policy = 1 atrav√©s do Esxcli / PowerCLI. </p><br><div class="spoiler">  <b class="spoiler_title">Par√¢metros</b> <div class="spoiler_text"><p>  Para Esxcli: </p><br><ul><li>  Imprimir LUNs dispon√≠veis </li></ul><br><p>  <b>lista de dispositivos nmp de armazenamento esxcli</b> </p><br><ul><li>  Copiar nome do dispositivo </li><li>  Alterar pol√≠tica de round robin </li></ul><br><p>  <b>esxcli armazenamento nmp psp roundrobin deviceconfig set --type = iops --iops = 1 --device = "Device_ID"</b> </p></div></div><br><p>  A maioria dos aplicativos modernos √© projetada para trocar pacotes de dados grandes, a fim de maximizar a utiliza√ß√£o da largura de banda e reduzir a carga da CPU.  Portanto, o ESXi, por padr√£o, transfere solicita√ß√µes de E / S para o dispositivo de armazenamento em lotes de at√© 32767 KB.  No entanto, para v√°rios cen√°rios, a troca de por√ß√µes menores ser√° mais produtiva.  Para matrizes AccelStor, estes s√£o os seguintes cen√°rios: </p><br><ul><li>  A m√°quina virtual usa UEFI em vez do BIOS herdado </li><li>  Usado pelo vSphere Replication </li></ul><br><p>  Para esses cen√°rios, √© recomend√°vel alterar o valor do par√¢metro Disk.DiskMaxIOSize para 4096. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/1g/et/3g/1get3g8odkem1onrpkwjdilbnsi.png"></div><p></p><br><p>  Para conex√µes iSCSI, √© recomend√°vel alterar o par√¢metro Login Timeout para 30 (padr√£o 5) para aumentar a estabilidade da conex√£o e desativar o atraso do reconhecimento de pacotes DelayedAck encaminhados.  As duas op√ß√µes est√£o no vSphere Client: Host ‚Üí Configurar ‚Üí Armazenamento ‚Üí Adaptadores de armazenamento ‚Üí Op√ß√µes avan√ßadas para o adaptador iSCSI </p><br><p></p><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/1y/5_/c8/1y5_c80zsijgqtngo-9vt2zbbo8.png"></div><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/bh/yi/tv/bhyitvuujofnioaunwhzypx3fe0.png"></div><p></p><br><p>  Um ponto bastante sutil √© o n√∫mero de volumes usados ‚Äã‚Äãpara o armazenamento de dados.  √â claro que, para facilitar o gerenciamento, existe o desejo de criar um grande volume para todo o volume da matriz.  No entanto, a presen√ßa de v√°rios volumes e, consequentemente, o armazenamento de dados tem um efeito ben√©fico no desempenho geral (mais sobre as filas um pouco mais adiante no texto).  Portanto, recomendamos a cria√ß√£o de pelo menos dois volumes. </p><br><p>  Mais recentemente, a VMware aconselhou limitar o n√∫mero de m√°quinas virtuais em um √∫nico armazenamento de dados, novamente para obter o melhor desempenho poss√≠vel.  No entanto, agora, especialmente com a dissemina√ß√£o da VDI, esse problema n√£o √© mais t√£o agudo.  Mas isso n√£o cancela a regra de longa data - distribuir m√°quinas virtuais que exigem E / S intensivas em diferentes armazenamentos de dados.  N√£o h√° nada melhor para determinar o n√∫mero ideal de m√°quinas virtuais por volume do que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">carregar o array All Flash do AccelStor</a> em sua infraestrutura. </p><br><h3>  <i><b>Configurar m√°quinas virtuais</b></i> </h3><br><p>  N√£o h√° requisitos especiais ao configurar m√°quinas virtuais, ou melhor, eles s√£o bastante comuns: </p><br><ul><li>  Usando a vers√£o mais alta poss√≠vel da VM (compatibilidade) </li><li>  √â mais preciso definir o tamanho da RAM quando as m√°quinas virtuais s√£o densamente colocadas, por exemplo, em VDI (j√° que, por padr√£o, na inicializa√ß√£o, √© criado um arquivo de pagina√ß√£o que √© compar√°vel ao tamanho da RAM, que consome capacidade √∫til e afeta o desempenho final) </li><li>  Use as vers√µes de E / S mais eficientes dos adaptadores: tipo de rede VMXNET 3 e tipo SCSI PVSCSI </li><li>  Use o tipo de unidade Thick Provision Eager Zeroed para desempenho m√°ximo e Thin Provisioning para utiliza√ß√£o m√°xima de armazenamento </li><li>  Se poss√≠vel, limite o trabalho de m√°quinas de E / S n√£o cr√≠ticas usando o Limite de disco virtual </li><li>  Certifique-se de instalar o VMware Tools </li></ul><br><h3>  <i><b>Notas da fila</b></i> </h3><br><p>  Uma fila (ou E / S pendentes) √© o n√∫mero de solicita√ß√µes de E / S (comandos SCSI) que aguardam o processamento a qualquer momento de um dispositivo / aplicativo espec√≠fico.  No caso de um estouro de fila, erros QFULL s√£o gerados, o que resulta em um aumento no par√¢metro de lat√™ncia.  Ao usar sistemas de armazenamento em disco (eixo), teoricamente, quanto maior a fila, maior o desempenho.  No entanto, voc√™ n√£o deve abusar, porque √© f√°cil encontrar o QFULL.  No caso dos sistemas All Flash, por um lado, tudo √© um pouco mais simples: a matriz atrasa v√°rias ordens de magnitude mais baixas e, portanto, na maioria das vezes n√£o √© necess√°rio ajustar separadamente o tamanho das filas.  Mas, por outro lado, em alguns cen√°rios de uso (um forte vi√©s nos requisitos de E / S para m√°quinas virtuais espec√≠ficas, testes para desempenho m√°ximo etc.), se voc√™ n√£o alterar os par√¢metros da fila, pelo menos entenda quais indicadores podem ser alcan√ßados e, mais importante, de que maneira. </p><br><p>  O pr√≥prio All Flash Array do AccelStor n√£o possui limites de volumes ou portas de E / S.  Se necess√°rio, mesmo um √∫nico volume pode obter todos os recursos da matriz.  A √∫nica restri√ß√£o de fila √© com destinos iSCSI.  √â por esse motivo que a necessidade de criar v√°rios destinos (idealmente at√© 8 pe√ßas) para cada volume para superar esse limite foi indicada acima.  Al√©m disso, as matrizes AccelStor s√£o solu√ß√µes altamente produtivas.  Portanto, voc√™ deve usar todas as portas de interface do sistema para atingir a velocidade m√°xima. </p><br><p>  No lado ESXi do host, a situa√ß√£o √© completamente diferente.  O pr√≥prio host aplica a pr√°tica de acesso igual aos recursos para todos os participantes.  Portanto, existem filas de E / S separadas para o SO convidado e o HBA.  As filas para o sistema operacional convidado s√£o combinadas de filas para o adaptador SCSI virtual e o disco virtual: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/pv/gu/sk/pvguskcy3y4yo7whrx8jiuggtdm.png"></div><br><p>  A fila para HBA depende do tipo / fornecedor espec√≠fico: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/tn/hs/6h/tnhs6h0wpivfrb5xfv2qms4tzjy.png"></div><br><p>  O desempenho final da m√°quina virtual ser√° determinado pelo limite mais baixo de profundidade da fila entre os componentes do host. </p><br><p>  Gra√ßas a esses valores, voc√™ pode avaliar os indicadores de desempenho que podemos obter em uma ou outra configura√ß√£o.  Por exemplo, queremos saber o desempenho te√≥rico de uma m√°quina virtual (sem liga√ß√£o a um bloco) com lat√™ncia de 0,5 ms.  Ent√£o, suas IOPS = (1.000 / lat√™ncia) * E / S pendentes (limite de profundidade da fila) </p><br><div class="spoiler">  <b class="spoiler_title">Exemplos</b> <div class="spoiler_text"><p>  <b>Exemplo 1</b> </p><br><ul><li>  Adaptador FC Emulex HBA </li><li>  Uma VM no armazenamento de dados </li><li>  Adaptador SCSI para VMware Paravirtual </li></ul><br><p>  Aqui, o limite de profundidade da fila √© determinado pelo Emulex HBA.  Portanto, IOPS = (1000 / 0,5) * 32 = 64K </p><br><p>  <b>Exemplo 2</b> </p><br><ul><li>  Adaptador de software iSCSI da VMware </li><li>  Uma VM no armazenamento de dados </li><li>  Adaptador SCSI para VMware Paravirtual </li></ul><br><p>  Aqui, o limite de profundidade da fila j√° est√° definido pelo adaptador SCSI Paravirtual.  Portanto, IOPS = (1000 / 0,5) * 64 = 128K </p></div></div><br><p>  As principais matrizes All AccelStor All Flash (como a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">P710</a> ) s√£o capazes de oferecer um desempenho de 700K IOPS para grava√ß√£o em bloco 4K.  Com esse tamanho de bloco, √© √≥bvio que uma √∫nica m√°quina virtual n√£o √© capaz de carregar essa matriz.  Para fazer isso, voc√™ precisar√° de 11 (por exemplo 1) ou 6 (por exemplo 2) m√°quinas virtuais. </p><br><p>  Como resultado, com a configura√ß√£o correta de todos os componentes descritos do data center virtual, voc√™ pode obter resultados impressionantes em termos de desempenho. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/uj/xy/cs/ujxycs-_fo-zworv8wds9kgp1j4.jpeg"></div><br><p>  <i>Aleat√≥rio em 4K, 70% de leitura / 30% de grava√ß√£o</i> </p><br><p>  De fato, o mundo real √© muito mais dif√≠cil de descrever com uma f√≥rmula simples.  Um √∫nico host sempre tem muitas m√°quinas virtuais com diferentes configura√ß√µes e requisitos de E / S.  Sim, e o processador host est√° envolvido no processamento de entrada / sa√≠da, cuja pot√™ncia n√£o √© infinita.  Portanto, para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">liberar</a> todo o potencial do mesmo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modelo, o P710</a> na realidade precisar√° de tr√™s hosts.  Al√©m disso, os aplicativos executados dentro de m√°quinas virtuais fazem ajustes.  Portanto, para um dimensionamento preciso, sugerimos o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uso de um teste no caso de modelos de teste de</a> matrizes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">do</a> All Flash <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AccelStor</a> dentro da infraestrutura do cliente para tarefas atuais da vida real. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt447390/">https://habr.com/ru/post/pt447390/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt447376/index.html">SNA Hackathon 2019</a></li>
<li><a href="../pt447380/index.html">Exce√ß√µes de Kotlin e seus recursos</a></li>
<li><a href="../pt447382/index.html">O livro "Unidade e C #. Gamedev da ideia √† implementa√ß√£o. 2nd ed</a></li>
<li><a href="../pt447384/index.html">Semicondutores de pot√™ncia em guarda da ecologia</a></li>
<li><a href="../pt447388/index.html">TL; resumo DR da Universidade ITMO: admiss√£o n√£o cl√°ssica √† universidade, eventos futuros e os materiais mais interessantes</a></li>
<li><a href="../pt447392/index.html">Tr√™s problemas de servi√ßos para verificar a gram√°tica inglesa e se eles podem ser resolvidos</a></li>
<li><a href="../pt447394/index.html">Entrevista com Vladimir Likhachev, pai de Nikolai Likhachev, mais conhecido como Chris Kaspersky</a></li>
<li><a href="../pt447396/index.html">Os dados da sua empresa s√£o valiosos na era da IA?</a></li>
<li><a href="../pt447398/index.html">Automa√ß√£o Rob√≥tica de Processos - Uma Nova Vis√£o das Tecnologias Antigas</a></li>
<li><a href="../pt447402/index.html">Splunk Universal Forwarder na janela de encaixe como um registrador do sistema</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>