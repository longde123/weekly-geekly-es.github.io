<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค๐ป โ๏ธ ๐ ุงุณุชุซูุงุกุงุช Kotlin ูููุฒุงุชูุง ๐ ๐ฉ๐ฟโ๐ซ ๐ถ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุณุชุฎุฏู ุดุฑูุชูุง Kotlin ูู ุงูุฅูุชุงุฌ ูุฃูุซุฑ ูู ุนุงููู. ุดุฎุตูุง ุ ุตุงุฏูุช ูุฐู ุงููุบุฉ ููุฐ ุญูุงูู ุนุงู. ููุงู ุงูุนุฏูุฏ ูู ุงูููุถูุนุงุช ุงูุชู ูุฌุจ ุงูุชุญุฏุซ ุนููุง ุ ูููู ุงูููู ุณูุชุญ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงุณุชุซูุงุกุงุช Kotlin ูููุฒุงุชูุง</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/maxilect/blog/447380/" style=";text-align:right;direction:rtl">  ุชุณุชุฎุฏู ุดุฑูุชูุง Kotlin ูู ุงูุฅูุชุงุฌ ูุฃูุซุฑ ูู ุนุงููู.  ุดุฎุตูุง ุ ุตุงุฏูุช ูุฐู ุงููุบุฉ ููุฐ ุญูุงูู ุนุงู.  ููุงู ุงูุนุฏูุฏ ูู ุงูููุถูุนุงุช ุงูุชู ูุฌุจ ุงูุชุญุฏุซ ุนููุง ุ ูููู ุงูููู ุณูุชุญุฏุซ ุนู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุ ุจูุง ูู ุฐูู ุจุฃุณููุจ ูุธููู.  ุณุฃุฎุจุฑู ุนู ููููุฉ ุงูููุงู ุจุฐูู ูู Kotlin. <br><br><img src="https://habrastorage.org/webt/mb/bh/cp/mbbhcprsketr78wg8twpwhijg0y.jpeg" alt="ุตูุฑุฉ"><br><br>  <i>(ุตูุฑุฉ ูู ุงูุงุฌุชูุงุน ุญูู ูุฐุง ุงูููุถูุน ุ ุงูุฐู ุนูุฏ ูู ููุชุจ ุฅุญุฏู ุดุฑูุงุช Taganrog. ุชุญุฏุซ ุฃูููุณู ุดุงูุฑุงููู ุ ุฑุฆูุณ ูุฌููุนุฉ ุงูุนูู (Java) ูู Maxilekt)</i> <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ููู ููููู ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ูู ุญูุซ ุงููุจุฏุฃุ </h3><br>  ููุฏ ูุฌุฏุช ุนุฏุฉ ุทุฑู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููููู ุงุณุชุฎุฏุงู ุจุนุถ <b>ูููุฉ ุงูุฅุฑุฌุงุน</b> ููุคุดุฑ ูุญูููุฉ ูุฌูุฏ ุฎุทุฃ ุ </li><li style=";text-align:right;direction:rtl">  ููููู ุงุณุชุฎุฏุงู <b>ุงููุนููุฉ ุงููุคุดุฑ</b> ูููุณ ุงูุบุฑุถ ุ </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู <b>ูุชุบูุฑ ุนุงููู</b> </li><li style=";text-align:right;direction:rtl">  ุงูุชุนุงูู ูุน <b>ุงูุงุณุชุซูุงุกุงุช</b> </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ <b>ุงูุนููุฏ (DbC)</b> . </li></ul><br>  ุฏุนูุง ูุชุญุฏุซ ุจูุฒูุฏ ูู ุงูุชูุงุตูู ุนู ูู ุฎูุงุฑ ูู ุงูุฎูุงุฑุงุช. <br><br><h4 style=";text-align:right;direction:rtl">  ูููุฉ ุงูุฅุฑุฌุงุน </h4><br>  ูุชู ุฅุฑุฌุงุน ูููุฉ "ุณุญุฑูุฉ" ูุนููุฉ ูู ุญุงูุฉ ุญุฏูุซ ุฎุทุฃ.  ุฅุฐุง ุณุจู ูู ุงุณุชุฎุฏุงู ูุบุงุช ุงูุจุฑูุฌุฉ ุงููุตูุฉ ุ ููุฌุจ ุฃู ุชููู ูุฏ ุดุงูุฏุช ุชุตูููุงุช ููุงุซูุฉ. <br><br>  ูุซุงู 1: <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">function sqrt(x) { if(x &lt; 0) return -1; else return โx; }</code> </pre> <br>  ูุซุงู 2: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">function getUser(id) { result = db.getUserById(id) if (result) return result as User else return โCan't find user โ + id }</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุงููุนููุฉ ุงููุคุดุฑ </h4><br>  ูุชู ุงุณุชุฎุฏุงู ูุนููุฉ ูุนููุฉ ุชู ุชูุฑูุฑูุง ุฅูู ุงููุธููุฉ.  ุจุนุฏ ุฅุฑุฌุงุน ุงููููุฉ ุญุณุจ ุงููุนููุฉ ุ ููููู ูุนุฑูุฉ ูุง ุฅุฐุง ูุงู ููุงู ุฎุทุฃ ุฏุงุฎู ุงููุธููุฉ. <br><br>  ูุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">function divide(x,y,out Success) { if (y == 0) Success = false else Success = true return x/y } divide(10, 11, Success) id (!Success) //handle error</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ูุชุบูุฑ ุนุงููู </h4><br>  ุงููุชุบูุฑ ุงูุนุงููู ูุนูู ุจููุณ ุงูุทุฑููุฉ ุชูุฑูุจูุง. <br><br>  ูุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">global Success = true function divide(x,y) { if (y == 0) Success = false else return x/y } divide(10, 11, Success) id (!Success) //handle error</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุงุณุชุซูุงุกุงุช </h4><br>  ูุญู ุฌููุนุง ูุนุชุงุฏูู ุนูู ุงูุงุณุชุซูุงุกุงุช.  ูุชู ุงุณุชุฎุฏุงููุง ูู ูู ููุงู ุชูุฑูุจุง. <br><br>  ูุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">function divide(x,y) { if (y == 0) throw Exception() else return x/y } try{ divide(10, 0)} catch (e) {//handle exception}</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุงูุนููุฏ (DbC) </h4><br>  ุจุตุฑุงุญุฉ ุ ุฃูุง ูู ุฃุฑ ูุฐุง ุงูููุฌ ุนูู ุงูููุงุก ูุจุงุดุฑุฉ.  ูู ุฎูุงู googling ุงูุทููู ุ ูุฌุฏุช ุฃู ูุฏู Kotlin 1.3 ููุชุจุฉ ุชุชูุญ ุจุงููุนู ุงุณุชุฎุฏุงู ุงูุนููุฏ.  ุฃู  ููููู ุถุจุท ุงูุดุฑุท ุนูู ุงููุชุบูุฑุงุช ุงูุชู ูุชู ุชูุฑูุฑูุง ุฅูู ุงููุธููุฉ ุ ุงูุดุฑุท ุนูู ูููุฉ ุงูุฅุฑุฌุงุน ุ ุนุฏุฏ ุงูููุงููุงุช ุ ุญูุซ ูุชู ุงูุงุชุตุงู ูู ุ ุฅูุฎ.  ูุฅุฐุง ุชู ุงุณุชููุงุก ุฌููุน ุงูุดุฑูุท ุ ููุนุชูุฏ ุฃู ุงููุธููุฉ ุชุนูู ุจุดูู ุตุญูุญ. <br><br>  ูุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">function sqrt (x) pre-condition (x &gt;= 0) post-condition (return &gt;= 0) begin calculate sqrt from x end</code> </pre><br>  ุจุตุฑุงุญุฉ ุ ุชุญุชูู ูุฐู ุงูููุชุจุฉ ุนูู ุจูุงุก ุฑููุจ.  ุฑุจูุง ููุฐุง ุงูุณุจุจ ูู ุฃุฑ ูุซู ูุฐุง ุงูุดูุก ุนูู ุงูููุงุก ูุจุงุดุฑุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงุณุชุซูุงุกุงุช ูู Java </h3><br>  ุฏุนูุง ููุชูู ุฅูู ุฌุงูุง ูููู ุนููุช ูู ุดูุก ูู ุงูุจุฏุงูุฉ. <br><br><img src="https://habrastorage.org/webt/gk/oo/mw/gkoomw72k7yp5mhpi9ebpt02g-i.png" alt="ุตูุฑุฉ"><br><br>  ุนูุฏ ุชุตููู ูุบุฉ ุ ุชู ูุถุน ููุนูู ูู ุงูุงุณุชุซูุงุกุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุต - ูุญุต ุ </li><li style=";text-align:right;direction:rtl">  ูู ูุชู ุงูุชุญูู ููู - ูู ูุชู ุงูุชุญูู ููู. </li></ul><br>  ูุง ูู ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉุ  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ููุงู ุญุงุฌุฉ ูุฐูู ูุฌุจ ุนูู ุงููุงุณ ุงูุชุญูู ูู ุงูุฃุฎุทุงุก.  ุฃู  ุฅุฐุง ูุงู ููุงู ุงุณุชุซูุงุก ูุญุฏุฏ ูููู ุ ููุฌุจ ุงูุชุญูู ููู ูุงุญููุง.  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ููุจุบู ุฃู ูููู ูุฐุง ุงูููุฌ ุฃุฏู ุฅูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ุบูุฑ ุงููุฌูุฒุฉ ูุชุญุณูู ุฌูุฏุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ.  ูููู ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ูุฐุง ููุณ ูุฐูู.  ุฃุนุชูุฏ ุฃู ุงูุฌููุน ุดุงูุฏูุง ูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ูู ุญูุงุชูู ูุชูุฉ ุตูุฏ ูุงุฑุบุฉ. <br><br>  ููุงุฐุง ูููู ุฃู ูููู ูุฐุง ุณูุฆุงุ <br><br>  ูููุง ููู ูุซุงู ููุงุณููู ูุจุงุดุฑุฉู ูู ูุซุงุฆู Kotlin - ูุงุฌูุฉ ูู JDK ุชู ุชูููุฐูุง ูู StringBuilder: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Appendable append(CharSequence csq) throws IOException; try { log.append(message) } catch (IOException e) { //Must be safe }</code> </pre><br>  ุฃูุง ูุชุฃูุฏ ูู ุฃูู ูุฏ ูุงุจูุช ุนุฏุฏูุง ูุจูุฑูุง ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูููููุฉ ูู try-catch ุ ุญูุซ ูุนุชุจุฑ catch ูุชูุฉ ูุงุฑุบุฉ ุ ูุธุฑูุง ูุฃู ูุฐุง ุงููููู ูุง ููุจุบู ุฃู ูุญุฏุซ ุจุจุณุงุทุฉ ุ ููููุง ูููุทูุฑ.  ูู ูุซูุฑ ูู ุงูุญุงูุงุช ุ ูุชู ุชุทุจูู ูุนุงูุฌุฉ ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉ ุจุงูุทุฑููุฉ ุงูุชุงููุฉ: ุฅููุง ุจุจุณุงุทุฉ ุชููู ุจุฅููุงุก RuntimeException ูุงูุชูุงุทูุง ูู ููุงู ูุง ุฃุนูุงู (ุฃู ุนุฏู ุงูุชูุงุทูุง ...). <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">try { // do something } catch (IOException e) { throw new RuntimeException(e); //  - ...</code> </pre><br><h3 style=";text-align:right;direction:rtl">  ูุง ูู ูููู ูู Kotlin </h3><br>  ูู ุญูุซ ุงูุงุณุชุซูุงุกุงุช ุ ูุฎุชูู ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู Kotlin ูู ุฐูู: <br><br>  1. ูุง ูููุฒ ุจูู ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉ ูุบูุฑ ุงููุญุฏุฏุฉ.  ุฌููุน ุงูุงุณุชุซูุงุกุงุช ุบูุฑ ูุญุฏุฏุฉ ููุท ุ ูุชูุฑุฑ ุจููุณู ูุง ุฅุฐุง ููุช ุณุชูุงุญููุง ููุนุงูุฌุชูุง. <br><br>  2. ูููู ุงุณุชุฎุฏุงู try ูุชุนุจูุฑ - ููููู ุชุดุบูู block try ูุฅุฑุฌุงุน ุงูุณุทุฑ ุงูุฃุฎูุฑ ููู ุ ุฃู ุฅุฑุฌุงุน ุงูุณุทุฑ ุงูุฃุฎูุฑ ูู block catch. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">val value = try {Integer.parseInt(โlolโ)} catch(e: NumberFormanException) { 4 } // </code> </pre><br>  3. ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู ุฅูุดุงุก ูุดุงุจู ุนูุฏ ุงูุฅุดุงุฑุฉ ุฅูู ุจุนุถ ุงูุฃุดูุงุก ุ ูุงูุชู ูุฏ ุชููู ูุงุบูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">val s = obj.money ?: throw IllegalArgumentException(โ , โ)</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุชูุงูู ุฌุงูุง </h4><br>  ููุฏ Kotlin ูููู ุงุณุชุฎุฏุงููุง ูู ุฌุงูุง ูุงูุนูุณ ุจุงูุนูุณ.  ููููุฉ ุงูุชุนุงูู ูุน ุงูุงุณุชุซูุงุกุงุชุ <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ูููู ุงูุชุญูู ูู ุงูุงุณุชุซูุงุกุงุช ุงููุญุฏุฏุฉ ูู Java ูู Kotlin ุฃู ุงูุฅุนูุงู ุนููุง (ูุธุฑูุง ูุนุฏู ูุฌูุฏ ุงุณุชุซูุงุกุงุช ูุญุฏุฏุฉ ูู Kotlin). </li><li style=";text-align:right;direction:rtl">  ุงูุงุณุชุซูุงุกุงุช ุงูููููุฉ ุงููุญุฏุฏุฉ ูู Kotlin (ุนูู ุณุจูู ุงููุซุงู ุ ุชูู ุงูุชู ุฌุงุกุช ูู ุงูุฃุตู ูู Java) ููุณุช ูุทููุจุฉ ููุชุญูู ูู Java. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ูู ุงูุถุฑูุฑู ุงูุชุญูู ุ ูููู ุฌุนู ุงูุงุณุชุซูุงุก ูุงุจูุงู ููุชุญูู ููู ุจุงุณุชุฎุฏุงู ุงูุชุนููู ุงูุชูุถูุญูThrows ูู ุงูุทุฑููุฉ (ูู ุงูุถุฑูุฑู ุงูุฅุดุงุฑุฉ ุฅูู ุงูุงุณุชุซูุงุกุงุช ุงูุชู ูููู ููุฐู ุงูุทุฑููุฉ ุทุฑุญูุง).  ุงูุชุนููู ุงูุชูุถูุญู ุฃุนูุงู ูุฎุตุต ููุท ูุชูุงูู Java.  ููู ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูุณุชุฎุฏูู ูุซูุฑ ูู ุงููุงุณ ูุฅุนูุงู ุฃู ูุซู ูุฐู ุงูุทุฑููุฉ ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ูููู ุฃู ุชููู ููุนูุง ูู ุงูุงุณุชุซูุงุก. </li></ul><br><h4 style=";text-align:right;direction:rtl">  ุจุฏูู ููุญุงููุฉ ูุชูุฉ ุงูุตูุฏ </h4><br>  ูุชูุฉ ูุญุงููุฉ ุงูุตูุฏ ูุฏูู ุนูุจ ูุจูุฑ.  ุนูุฏูุง ูุธูุฑ ุ ูุชู ููู ุฌุฒุก ูู ููุทู ุงูุนูู ุฏุงุฎู ุงููุตูุฏ ุ ููููู ุฃู ูุญุฏุซ ุฐูู ุจุฃุญุฏ ุงูุทุฑู ุงูุนุฏูุฏุฉ ุงููุฐููุฑุฉ ุฃุนูุงู.  ุนูุฏูุง ููุชุดุฑ ููุทู ุงูุนูู ุนูู ุงููุชู ุฃู ุณูุณูุฉ ุงูุงุชุตุงู ุจุฃููููุง ุ ูููู ูู ุงูุตุนุจ ููู ููููุฉ ุนูู ุงูุชุทุจูู.  ููุชู ุณูููุฉ ุงููุฑุงุกุฉ ุฃููุณูู ูุง ุชุถูู ุฑูุฒ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">try { HttpService.SendNotification(endpointUrl); MarkNotificationAsSent(); } catch (e: UnableToConnectToServerException) { MarkNotificationAsNotSent(); }</code> </pre><br>  ูุง ูู ุงูุจุฏุงุฆูุ <br><br>  ุฎูุงุฑ ูุงุญุฏ ูููุฑ ููุง ููุฌุง ูุธูููุง ููุนุงูุฌุฉ ุงูุงุณุชุซูุงุก.  ุชุทุจูู ููุงุซู ูุดุจู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">val result: Try&lt;Result&gt; = Try{HttpService.SendNotification(endpointUrl)} when(result) { is Success -&gt; MarkNotificationAsSent() is Failure -&gt; MarkNotificationAsNotSent() }</code> </pre><br>  ูุฏููุง ุงููุฑุตุฉ ูุงุณุชุฎุฏุงู Try monad.  ูู ุฌููุฑูุง ุ ูุฐู ุญุงููุฉ ุชุฎุฒู ุจุนุถ ุงููููุฉ.  flatMap ูู ุทุฑููุฉ ููุนูู ูุน ูุฐู ุงูุญุงููุฉ ุ ูุงูุชู ุ ุฅูู ุฌุงูุจ ุงููููุฉ ุงูุญุงููุฉ ุ ูููู ุฃู ุชุฃุฎุฐ ูุธููุฉ ุ ููุฑุฉ โโุฃุฎุฑู ุ ุชูุฑุฌุน monad. <br><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุงูุชูุงู ุงูููุงููุฉ ูู Try monad (ูุนูุฏ ุฅูู Try).  ูููู ูุนุงูุฌุชูุง ูู ููุงู ูุงุญุฏ - ุญูุซ ูุญุชุงุฌ ุฅูููุง.  ุฅุฐุง ูุงู ูููุฎุฑุฌุงุช ูููุฉ ุ ููุญู ูููู ุจุงูุฅุฌุฑุงุกุงุช ุงูุชุงููุฉ ูุนูุง ุ ุฅุฐุง ุชู ุทุฑุญ ุงุณุชุซูุงุก ุ ุณูููู ุจูุนุงูุฌุชู ูู ููุงูุฉ ุงูุณูุณูุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุชุนุงูู ูุน ุงุณุชุซูุงุก ูุธููู </h4><br>  ุฃูู ูููููู ุฃู ุฃุญุงููุ <br><br>  ุฃููุงู ุ ููุงู ุนุฏุฏ ูุง ุจุฃุณ ุจู ูู ุชุทุจููุงุช ุงููุฌุชูุน ููุตูู "ุญุงูู ูุฅูุง".  ููููู ุฃู ุชุฃุฎุฐูุง ุฃู ุญุชู ุชูุชุจ ุงูุชูููุฐ ุจููุณู.  ูู ุฃุญุฏ ุงููุดุงุฑูุน "ุงููุชุงููุฉ" ุ ุงุณุชุฎุฏููุง ุชุทุจูู Try "ุนุตุงูู" - ููุฏ ูุฌุญูุง ูุน ูุฆุฉ ูุงุญุฏุฉ ููููุง ุจุนูู ููุชุงุฒ. <br>  ุซุงููุงู ุ ุชูุฌุฏ ููุชุจุฉ Arrow ุ ุงูุชู ุชุถูู ูู ุญูุซ ุงููุจุฏุฃ ุงููุซูุฑ ูู ุงููุธุงุฆู ุฅูู Kotlin.  ุจุทุจูุนุฉ ุงูุญุงู ุ ููุงู ูุญุงููุฉ ูุฅูุง. <br><br>  ุญุณููุง ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุธูุฑุช ูุฆุฉ ุงููุชุงุฆุฌ ูู Kotlin 1.3 ุ ูุงูุชู ุณุฃูุงูุดูุง ุจูุฒูุฏ ูู ุงูุชูุตูู ูุงุญููุง. <br><br><h4 style=";text-align:right;direction:rtl">  ุญุงูู ุงุณุชุฎุฏุงู ููุชุจุฉ Arrow ููุซุงู </h4><br>  ููุชุจุฉ Arrow ุชุนุทููุง ุตู Try.  ูู ุงููุงูุน ุ ูููู ุฃู ูููู ุฐูู ูู ุญุงูุชูู: ุงููุฌุงุญ ุฃู ุงููุดู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุฌุงุญ ูู ุงูุงูุณุญุงุจ ุงููุงุฌุญ ุณูุญุชูุธ ุจูููุชูุง ุ </li><li style=";text-align:right;direction:rtl">  ูุฎุฒู ุงููุดู ุงุณุชุซูุงุก ุญุฏุซ ุฃุซูุงุก ุชูููุฐ ูุชูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </li></ul><br>  ุงูุฏุนูุฉ ูู ุนูู ุงููุญู ุงูุชุงูู.  ูุจุทุจูุนุฉ ุงูุญุงู ุ ูุชู ูููุง ูู ูุญุงููุฉ ุฌุฑุจ ุจุงูุชุธุงู ุ ูููู ูุฐุง ุณูุญุฏุซ ูู ููุงู ูุง ุฏุงุฎู ุงูููุฏ ุงูุฎุงุต ุจูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sealed class Try&lt;out A&gt; { data class Success&lt;out A&gt;(val value: A) : Try&lt;A&gt;() data class Failure(val e: Throwable) : Try&lt;Nothing&gt;() companion object { operator fun &lt;A&gt; invoke(body: () -&gt; A): Try&lt;A&gt; { return try { Success(body()) } catch (e: Exception) { Failure(e) } } }</code> </pre><br>  ูุฌุจ ุฃู ุชุทุจู ููุณ ุงููุฆุฉ ุทุฑููุฉ flatMap ุ ูุงูุชู ุชุณูุญ ูู ุจุชูุฑูุฑ ูุธููุฉ ูุฅุฑุฌุงุน monad try: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">inline fun &lt;B&gt; map(f: (A) -&gt; B): Try&lt;B&gt; = flatMap { Success(f(it)) } inline fun &lt;B&gt; flatMap(f: (A) -&gt; TryOf&lt;B&gt;): Try&lt;B&gt; = when (this) { is Failure -&gt; this is Success -&gt; f(value) }</code> </pre><br>  ูุง ูุฐุงุ  ูู ุฃุฌู ุนุฏู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ููู ูู ุงููุชุงุฆุฌ ุนูุฏูุง ูููู ูุฏููุง ุงูุนุฏูุฏ ูููุง.  ุนูู ุณุจูู ุงููุซุงู ุ ุญุตููุง ุนูู ุนุฏุฉ ููู ูู ุฎุฏูุงุช ูุฎุชููุฉ ููุฑูุฏ ุฏูุฌูุง.  ูู ุงููุงูุน ุ ูููู ุฃู ูููู ูุฏููุง ุญุงูุชุงู: ุฅูุง ุชููููุงูุง ุจูุฌุงุญ ูุถููุงูุง ุ ุฃู ููุน ุดูุก ูุง.  ูุฐูู ุ ูููููุง ุงูููุงู ุจูุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">val result1: Try&lt;Int&gt; = Try { 11 } val result2: Try&lt;Int&gt; = Try { 4 } val sum = result1.flatMap { one -&gt; result2.map { two -&gt; one + two } } println(sum) //Success(value=15)</code> </pre><br>  ุฅุฐุง ูุฌุญ ูู ูู ุงูููุงููุงุช ูุญุตููุง ุนูู ุงูููู ุ ูุฅููุง ูููุฐ ุงููุธููุฉ.  ุฅุฐุง ูู ููุฌุญูุง ุ ูุณูู ูุนูุฏ ุงููุดู ูุน ุงุณุชุซูุงุก. <br><br>  ุฅููู ูุง ูุจุฏู ุฅุฐุง ุณูุท ุดูุก ูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">val result1: Try&lt;Int&gt; = Try { 11 } val result2: Try&lt;Int&gt; = Try { throw RuntimeException(โOh no!โ) } val sum = result1.flatMap { one -&gt; result2.map { two -&gt; one + two } } println(sum) //Failure(exception=java.lang.RuntimeException: Oh no!</code> </pre><br>  ุงุณุชุฎุฏููุง ููุณ ุงููุธููุฉ ุ ูููู ุงูุฅุฎุฑุงุฌ ูู ูุดู ูู RuntimeException. <br><br>  ุฃูุถูุง ุ ุชุชูุญ ูู ููุชุจุฉ Arrow ุงุณุชุฎุฏุงู ุชุตูููุงุช ูู ุงููุงูุน ุนุจุงุฑุฉ ุนู ุณูุฑ ูุญูู ุ ุจุดูู ุฎุงุต ููุฒูุฉ.  ูู ูุฐุง ูููู ุฅุนุงุฏุฉ ูุชุงุจุชู ูู ุฎูุงู flatMap ูุณูุณู ุ ููู ุงูุฑุจุท ูุณูุญ ูู ุจูุฑุงุกุชู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">val result1: Try&lt;Int&gt; = Try { 11 } val result2: Try&lt;Int&gt; = Try { 4 } val result3: Try&lt;Int&gt; = Try { throw RuntimeException(โOh no, again!โ) } val sum = binding { val (one) = result1 val (two) = result2 val (three) = result3 one + two + three } println(sum) //Failure(exception=java.lang.RuntimeException: Oh no, again!</code> </pre><br>  ุจุงููุธุฑ ุฅูู ุฃู ุฅุญุฏู ุงููุชุงุฆุฌ ูุฏ ุงูุฎูุถุช ุ ููุฏ ุญุตููุง ุนูู ุฎุทุฃ ูู ุงูุฅุฎุฑุงุฌ. <br><br>  ูููู ุงุณุชุฎุฏุงู monad ููุงุซู ููููุงููุงุช ุบูุฑ ุงููุชุฒุงููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูููุง ููู ูุธููุชุงู ุชุนููุงู ุจุดูู ุบูุฑ ูุชุฒุงูู.  ูุฌูุน ูุชุงุฆุฌูุง ุจุงูุทุฑููุฉ ููุณูุง ุ ุฏูู ุงูุชุญูู ูู ุญุงูุชูุง ุจุดูู ูููุตู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">fun funA(): Try&lt;Int&gt; { return Try { 1 } } fun funB(): Try&lt;Int&gt; { Thread.sleep(3000L) return Try { 2 } } val a = GlobalScope.async { funA() } val b = GlobalScope.async { funB() } val sum = runBlocking { a.await().flatMap { one -&gt; b.await().map {two -&gt; one + two } } }</code> </pre><br>  ูููุง ูุซุงู ุฃูุซุฑ "ูุชุงููุฉ".  ูุฏููุง ุทูุจ ุฅูู ุงูุฎุงุฏู ุ ููููู ุจูุนุงูุฌุชู ุ ูุงูุญุตูู ุนูู ุงููุต ุงูุฃุณุงุณู ููู ููุญุงููุฉ ุชุนูููู ุฅูู ูุตููุง ุ ุงูุฐู ูุนูุฏ ููู ุงูุจูุงูุงุช ุจุงููุนู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">fun makeRequest(request: Request): Try&lt;List&lt;ResponseData&gt;&gt; = Try { httpClient.newCall(request).execute() } .map { it.body() } .flatMap { Try { ObjectMapper().readValue(it, ParsedResponse::class.java) } } .map { it.data } fun main(args : Array&lt;String&gt;) { val response = makeRequest(RequestBody(args)) when(response) { is Try.Success -&gt; response.data.toString() is Try.Failure -&gt; response.exception.message } }</code> </pre><br>  ุฌุฑูุจ ุงูุตูุฏ ุฃู ูุฌุนู ูุฐู ุงููุชูุฉ ุฃูู ูุงุจููุฉ ูููุฑุงุกุฉ.  ููู ูุฐู ุงูุญุงูุฉ ุ ูุญุตู ุนูู response.data ูู ุงูุฅุฎุฑุงุฌ ุ ูุงูุชู ูููููุง ูุนุงูุฌุชูุง ููููุง ูููุชูุฌุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ูุชูุฌุฉ Kotlin 1.3 </h4><br>  ูุฏู Kotlin 1.3 ูุฆุฉ ุงููุชูุฌุฉ.  ูู ุงูุญูููุฉ ุ ุฅูู ุดูุก ูุดุงุจู ูู Try ุ ููู ูุน ุนุฏุฏ ูู ุงููููุฏ.  ุงูุบุฑุถ ููู ูู ุงูุฃุตู ุฃู ูุณุชุฎุฏู ูู ุนูููุงุช ุบูุฑ ูุชุฒุงููุฉ ูุฎุชููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">val result: Result&lt;VeryImportantData&gt; = Result.runCatching { makeRequest() } .mapCatching { parseResponse(it) } .mapCatching { prepareData(it) } result.fold{ { data -&gt; println(โWe have $dataโ) }, exception -&gt; println(โThere is no any data, but it's your exception $exceptionโ) } )</code> </pre><br>  ุฅู ูู ููู ูุฎุทุฆุง ุ ูุฐู ุงููุฆุฉ ูู ุญุงููุง ุงูุชุฌุฑูุจูุฉ.  ูููู ููุทูุฑู ุงููุบุฉ ุชุบููุฑ ุชูููุนู ุฃู ุณูููู ุฃู ุฅุฒุงูุชู ุชูุงููุง ุ ูุฐูู ูู ุงูููุช ุงูุญุงูู ููุญุธุฑ ุงุณุชุฎุฏุงูู ููููุฉ ุฅุฑุฌุงุน ูู ุงูุฃุณุงููุจ ุฃู ุงููุชุบูุฑ.  ููุน ุฐูู ุ ูููู ุงุณุชุฎุฏุงูู ููุชุบูุฑ ูุญูู (ุฎุงุต).  ุฃู  ูู ุงููุงูุน ุ ูููู ุงุณุชุฎุฏุงูู ููุญุงููุฉ ูู ุงููุซุงู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h3><br>  ุงูุงุณุชูุชุงุฌุงุช ุงูุชู ุฎููุชูุง ูููุณู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุธูููุฉ ูู Kotlin ุจุณูุทุฉ ููุฑูุญุฉ. </li><li style=";text-align:right;direction:rtl">  ูุง ุฃุญุฏ ููุชุฑุซ ููุนุงูุฌุชูุง ูู ุฎูุงู ุชุฌุฑุจุฉ ุฌุฐุงุจุฉ ูู ุงูููุท ุงูููุงุณููู (ููุงููุง ููู ุงูุญู ูู ุงูุญูุงุฉ ุ ููุงููุง ููุงุฆูุงู) ุ </li><li style=";text-align:right;direction:rtl">  ุนุฏู ูุฌูุฏ ุงุณุชุซูุงุกุงุช ูุญุฏุฏุฉ ูุง ูุนูู ุฃูู ูุง ูููู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุ </li><li style=";text-align:right;direction:rtl">  ุงุณุชุซูุงุกุงุช ุบูุฑ ูุนูููุฉ ุนูู ุงูุฅูุชุงุฌ ุชุคุฏู ุฅูู ุนูุงูุจ ูุญุฒูุฉ. </li></ul><br>  ูุคูู ุงูููุงูุฉ: ุฃูููุณู ุดุงูุฑุงููู ุ ุฑุฆูุณ ูุฌููุนุฉ ุงูุนูู (ุฌุงูุง) ุ Maxilect <br><br>  ููุงุญุธุฉ: ููุดุฑ ููุงูุงุชูุง ุนูู ุนุฏุฉ ููุงูุน ูู Runet.  ุงุดุชุฑู ูู ุตูุญุงุชูุง ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">VK</a> ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">FB</a> ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Telegram-channel</a> ููุนุฑูุฉ ูู ููุดูุฑุงุชูุง ูุบูุฑูุง ูู ุฃุฎุจุงุฑ Maxilect. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar447380/">https://habr.com/ru/post/ar447380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar447368/index.html">ููุณ ููุท ุงุตุทูุงุฏ ุงูุจุฑุงุบูุซ. ููุงุฐุง ุงูุณุฑุนุฉ ูููุฉ ุฌุฏุง ูุฃู ูุชุฌุฑ</a></li>
<li><a href="../ar447370/index.html">ููุงุฐุง ุ ุจุณุจุจ ูุธุงู ุจุฑุงุกุงุช ุงูุงุฎุชุฑุงุน ุงูููุณูุฑ ุ ุธู ุธู ุซูุฑุงููุณ ูููุญ ูู ุงูุฃูู ููููุง</a></li>
<li><a href="../ar447372/index.html">ุชุญูู ุชูููููุฌูุง ุงููุนูููุงุช ุฃูุฑ ูุง ููุฑ ููู: ูู ุฃูู ูุจุฏุฃ</a></li>
<li><a href="../ar447374/index.html">ุฅูุดุงุก ุนูุงุตุฑ ูุงุฌูุฉ ุจุฑูุฌูุงู ุจุงุณุชุฎุฏุงู PureLayout (ุงูุฌุฒุก 2)</a></li>
<li><a href="../ar447376/index.html">ูุธุงู ุงูุญุณุงุจุงุช ุงูููููุฉ ูุงูุงุซูู 2019</a></li>
<li><a href="../ar447382/index.html">ูุชุงุจ "ุงููุญุฏุฉ ู C #. Gamedev ูู ุงูููุฑุฉ ุฅูู ุงูุชูููุฐ. 2nd ุฅุฏ</a></li>
<li><a href="../ar447384/index.html">ุฃุดุจุงู ุงูููุตูุงุช ุงูุณูุทุฉ ุนูู ุญุงุฑุณ ุงูุจูุฆุฉ</a></li>
<li><a href="../ar447388/index.html">TL ุ DR-digest of ITMO University: ุงููุจูู ุบูุฑ ุงูููุงุณููู ูู ุงูุฌุงูุนุฉ ุ ูุงูุฃุญุฏุงุซ ุงููุงุฏูุฉ ูุงูููุงุฏ ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู</a></li>
<li><a href="../ar447390/index.html">ุฅุฑุดุงุฏุงุช ุชูููู AccelStor AFA ูู VMware vSphere</a></li>
<li><a href="../ar447392/index.html">ุซูุงุซ ูุดุงูู ูู ุงูุฎุฏูุงุช ููุญุต ููุงุนุฏ ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ุ ููุง ุฅุฐุง ูุงู ูููู ุญููุง</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>