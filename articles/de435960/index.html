<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçü§ù‚Äçüë©üèæ üï∫üèº üîΩ Gedankenexperiment: Flattern unterwegs üë©üèΩ‚Äç‚öñÔ∏è üîö üï¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Zuletzt entdeckte ich Flutter - ein neues Framework von Google f√ºr die Entwicklung plattform√ºbergreifender mobiler Anwendungen - und hatte sogar die M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gedankenexperiment: Flattern unterwegs</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435960/"><p>  Zuletzt entdeckte ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Flutter</a> - ein neues Framework von Google f√ºr die Entwicklung plattform√ºbergreifender mobiler Anwendungen - und hatte sogar die M√∂glichkeit, einer Person, die noch nie zuvor programmiert hatte, die Grundlagen von Flutter zu zeigen.  Flutter selbst wurde in Dart geschrieben - einer Sprache, die im Chrome-Browser geboren und in die Konsolenwelt entkommen ist - und das lie√ü mich denken "hmm, aber Flutter k√∂nnte sehr gut in Go!" Geschrieben werden. </p><br><p>  Warum nicht?  Sowohl Go als auch Dart wurden von Google erstellt, beide haben kompilierte Sprachen geschrieben. Drehen Sie einige Ereignisse etwas anders um. Go w√§re ein ausgezeichneter Kandidat f√ºr die Implementierung eines so gro√üen Projekts wie Flutter.  Jemand wird sagen - es gibt keine Klassen, Generika und Ausnahmen in Go, daher passt es nicht. </p><br><p>  Stellen wir uns also vor, Flutter sei bereits in Go geschrieben.  Wie wird der Code aussehen und im Allgemeinen wird er funktionieren? </p><br><p><img src="https://habrastorage.org/webt/9r/4y/cv/9r4ycvikoillhjboi5olwnta4nm.png"></p><a name="habracut"></a><br><h1 id="chto-ne-tak-s-dart">  Was ist los mit Dart? </h1><br><p> Ich verfolge diese Sprache seit ihrer Einf√ºhrung als Alternative zu JavaScript in Browsern.  Dart wurde f√ºr einige Zeit in den Chrome-Browser integriert und hoffte, dass es JS ersetzen w√ºrde.  Es war wahnsinnig traurig im M√§rz 2015 zu lesen, dass die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dart-Unterst√ºtzung von Chrome entfernt wurde</a> . </p><br><p>  Dart selbst ist gro√üartig!  Grunds√§tzlich ist nach JavaScript jede Sprache gro√üartig, aber nach Go ist Dart nicht so sch√∂n.  aber ganz ok  Es hat alle denkbaren und undenkbaren Funktionen - Klassen, Generika, Ausnahmen, Futures, Async-Warten, Ereignisschleife, JIT / AOT, Garbage Collector, Funktions√ºberladung - benennen Sie alle bekannten Funktionen aus der Theorie der Programmiersprachen und in Dart wird es mit einem hohen Anteil sein Wahrscheinlichkeiten.  Dart hat eine spezielle Syntax f√ºr fast jeden Chip - eine spezielle Syntax f√ºr Getter / Setter, eine spezielle Syntax f√ºr abgek√ºrzte Konstruktoren, eine spezielle Syntax f√ºr eine spezielle Syntax und vieles mehr. </p><br><p>  Dies macht Dart auf den ersten Blick f√ºr Leute bekannt, die bereits in einer Programmiersprache programmiert haben, und das ist gro√üartig.  Als ich jedoch versuchte, all diese F√ºlle an Besonderheiten in einem einfachen Beispiel "Hallo Welt" zu erkl√§ren, stellte ich fest, dass dies im Gegenteil die Entwicklung erschwert. </p><br><ul><li>  <strong>Alle "speziellen" Funktionen der Sprache waren verwirrend</strong> - "eine spezielle Methode namens Konstruktor", "spezielle Syntax f√ºr die automatische Initialisierung", "spezielle Syntax f√ºr benannte Parameter" usw. </li><li>  <strong>Alles, was "versteckt" war, war verwirrend</strong> - "von welchem ‚Äã‚ÄãImport ist diese Funktion? Sie ist versteckt, wenn man den Code betrachtet, den man nicht herausfinden kann", "warum gibt es einen Konstruktor in dieser Klasse, aber nicht in dieser Klasse? Es ist da, aber es ist versteckt" und so weiter </li><li>  <strong>alles "mehrdeutig" verwirrt</strong> - "also hier, um die Funktionsparameter mit oder ohne Namen zu erstellen?", "sollte es const oder final sein?", "hier die normale Syntax der Funktion verwenden oder" mit Pfeil verk√ºrzt "usw." </li></ul><br><p>  Im Prinzip f√§ngt diese Dreifaltigkeit - "speziell", "versteckt" und "mehrdeutig" - nicht schlecht die Essenz dessen ein, was die Leute in Programmiersprachen "Magie" nennen.  Dies sind Funktionen, die erstellt wurden, um das Schreiben von Code zu vereinfachen, aber tats√§chlich das Lesen und Verstehen erschweren. </p><br><p>  Und genau in diesem Bereich nimmt Go eine grundlegend andere Position ein als andere Sprachen und h√§lt die Verteidigung heftig.  Go ist eine Sprache ohne Magie - die Menge an "versteckt", "speziell" und "mehrdeutig" wird minimiert.  Aber Go hat seine Nachteile. </p><br><h1 id="chto-ne-tak-s-go">  Was ist los mit Go? </h1><br><p>  Da es sich um Flutter handelt, ein UI-Framework, betrachten wir Go als Werkzeug zur Beschreibung und Arbeit mit der Benutzeroberfl√§che.  Im Allgemeinen stellen UI-Frameworks eine enorme Herausforderung dar und erfordern fast immer spezielle L√∂sungen.  Einer der h√§ufigsten Ans√§tze in der Benutzeroberfl√§che ist die Erstellung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DSL</a> - dom√§nenspezifischen Sprachen -, die in Form von Bibliotheken oder Frameworks implementiert sind, die speziell auf die Anforderungen der Benutzeroberfl√§che zugeschnitten sind.  Und am h√§ufigsten h√∂rt man die Meinung, dass Go objektiv eine schlechte Sprache f√ºr DSL ist. </p><br><p>  Im Wesentlichen bedeutet DSL, eine neue Sprache zu erstellen - Begriffe und Verben -, mit der der Entwickler arbeiten kann.  Der darauf enthaltene Code sollte die Hauptmerkmale der grafischen Oberfl√§che und ihrer Komponenten klar beschreiben, flexibel genug sein, um der Vorstellungskraft des Designers freien Lauf zu lassen, und gleichzeitig starr genug sein, um sie gem√§√ü bestimmten Regeln einzuschr√§nken.  Sie sollten beispielsweise in der Lage sein, die Schaltfl√§chen in einem Container zu platzieren und das Symbol an der richtigen Stelle in dieser Schaltfl√§che zu platzieren. Der Compiler sollte jedoch einen Fehler zur√ºckgeben, wenn Sie versuchen, die Schaltfl√§che beispielsweise in Text einzuf√ºgen. </p><br><p>  Au√üerdem sind die Sprachen zur Beschreibung der Benutzeroberfl√§che h√§ufig deklarativ. Sie bieten die M√∂glichkeit, die Benutzeroberfl√§che in Form von ‚ÄûWas ich sehen m√∂chte‚Äú zu beschreiben und das Framework selbst verstehen zu lassen, aus welchem ‚Äã‚ÄãCode und wie es ausgef√ºhrt wird. </p><br><p>  Einige Sprachen wurden urspr√ºnglich mit solchen Aufgaben in Sicht entwickelt, Go jedoch nicht.  Es scheint, dass das Schreiben von Flutter on Go eine weitere Aufgabe sein wird! </p><br><h1 id="oda-flutter">  Oda Flutter </h1><br><p>  Wenn Sie mit Flutter nicht vertraut sind, empfehle ich dringend, das n√§chste Wochenende mit dem Anschauen von Lehrvideos oder dem Lesen von Tutorials zu verbringen, von denen es viele gibt.  Denn Flutter kehrt zweifellos die Spielregeln bei der Entwicklung mobiler Anwendungen um.  Und h√∂chstwahrscheinlich nicht nur mobil - es gibt bereits Renderer (in Bezug auf Flutter, Einbettungen), mit denen Flutter-Anwendungen als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">native Dekstop-Anwendungen</a> und als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Webanwendungen</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gestartet werden</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">k√∂nnen</a> . </p><br><p> Es ist leicht zu erlernen, es ist logisch, es enth√§lt eine riesige Bibliothek mit sch√∂nen Widgets zum Thema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Materialdesign</a> (und nicht nur), es hat eine gro√üartige und gro√üe Community und eine hervorragende Abstimmung (wenn Sie die einfache Arbeit mit <code>go build/run/test</code> in Go m√∂gen, dann in Flutter Sie werden eine √§hnliche Erfahrung machen). </p><br><p>  Vor einem Jahr musste ich eine kleine mobile Anwendung schreiben (nat√ºrlich f√ºr iOS und Android), und mir wurde klar, dass die Komplexit√§t der Entwicklung einer hochwertigen Anwendung f√ºr beide Plattformen zu gro√ü ist (die Anwendung war nicht die Hauptaufgabe) - ich musste sie auslagern und daf√ºr bezahlen.  Tats√§chlich war das Schreiben einer einfachen, aber qualitativ hochwertigen Anwendung f√ºr alle Ger√§te selbst f√ºr eine Person mit fast 20 Jahren Programmiererfahrung eine unm√∂gliche Aufgabe.  Und es war schon immer Unsinn f√ºr mich. </p><br><p>  Mit Flutter habe ich diese Anwendung um 15 Uhr neu geschrieben und dabei das Framework selbst von Grund auf gelernt.  Wenn mir jemand sagen w√ºrde, dass dies etwas fr√ºher sein k√∂nnte, w√ºrde ich es nicht glauben. </p><br><p>  Das letzte Mal, dass ich mit der Entdeckung neuer Technologien einen √§hnlichen Produktivit√§tsschub sah, war vor 5 Jahren, als ich Go entdeckte.  Dieser Moment hat mein Leben ver√§ndert. </p><br><p>  Ich empfehle daher, Flutter zu lernen, und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses Tutorial ist sehr gut</a> . </p><br><h1 id="hello-world-na-flutter">  "Hallo Welt" auf Flutter </h1><br><p>  Wenn Sie eine neue Anwendung durch <code>flutter create</code> , erhalten Sie ein solches Programm mit einem Titel, Text, Z√§hler und einer Schaltfl√§che, die den Z√§hler erh√∂ht. </p><br><p><img src="https://habrastorage.org/webt/_1/iu/9g/_1iu9gibgfkoiyadzl0kb8be_j4.gif"></p><br><p>  Ich denke, das ist ein gro√üartiges Beispiel.  um es auf unserem imagin√§ren Flutter on Go zu schreiben.  Es enth√§lt fast alle Grundkonzepte des Frameworks, auf denen Sie die Idee testen k√∂nnen.  Schauen wir uns den Code an (dies ist eine Datei): </p><br><pre> <code class="plaintext hljs">import 'package:flutter/material.dart'; void main() =&gt; runApp(MyApp()); class MyApp extends StatelessWidget { @override Widget build(BuildContext context) { return MaterialApp( title: 'Flutter Demo', theme: ThemeData( primarySwatch: Colors.blue, ), home: MyHomePage(title: 'Flutter Demo Home Page'), ); } } class MyHomePage extends StatefulWidget { MyHomePage({Key key, this.title}) : super(key: key); final String title; @override _MyHomePageState createState() =&gt; _MyHomePageState(); } class _MyHomePageState extends State&lt;MyHomePage&gt; { int _counter = 0; void _incrementCounter() { setState(() { _counter++; }); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: Text(widget.title), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Text( 'You have pushed the button this many times:', ), Text( '$_counter', style: Theme.of(context).textTheme.display1, ), ], ), ), floatingActionButton: FloatingActionButton( onPressed: _incrementCounter, tooltip: 'Increment', child: Icon(Icons.add), ), ); } }</code> </pre> <br><p>  Lassen Sie uns den Code in Teilen analysieren, analysieren, was und wie er auf Go passt, und einen Blick auf die verschiedenen Optionen werfen, die wir haben. </p><br><h2 id="perevodim-kod-na-go">  Wir √ºbersetzen den Code auf Go </h2><br><p>  Der Anfang ist einfach und unkompliziert - importieren Sie die Abh√§ngigkeit und starten Sie die Funktion <code>main()</code> .  Nichts kompliziertes oder interessantes hier, die √Ñnderung ist fast syntaktisch: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { app := NewApp() flutter.Run(app) }</code> </pre> <br><p>  Der einzige Unterschied besteht darin, dass <code>MyApp()</code> anstelle von <code>MyApp()</code> - einer Funktion, die ein Konstruktor ist, eine spezielle Funktion, die in einer Klasse namens MyApp verborgen ist - einfach die √ºbliche explizite und nicht versteckte Funktion <code>NewApp()</code> .  Sie macht das Gleiche, aber es ist viel klarer zu erkl√§ren und zu verstehen, was es ist, wie es beginnt und wie es funktioniert. </p><br><h3 id="klassy-vidzhetov">  Widget-Klassen </h3><br><p>  In Flutter besteht alles aus Widgets.  In der Dart-Version von Flutter ist jedes Widget als Klasse implementiert, die spezielle Klassen f√ºr Widgets von Flutter erbt. </p><br><p>  In Go gibt es keine Klassen und daher keine Klassenhierarchie, da die Welt nicht objektorientiert und noch weniger hierarchisch ist.  F√ºr Programmierer, die nur mit dem klassenorientierten OOP-Modell vertraut sind, mag dies eine Offenbarung sein, ist es aber wirklich nicht.  Die Welt ist ein riesiger, verwobener Graph von Konzepten, Prozessen und Interaktionen.  Es ist nicht perfekt strukturiert, aber auch nicht chaotisch, und der Versuch, es in die Klassenhierarchie zu dr√ºcken, ist der zuverl√§ssigste Weg, um die Codebasis unlesbar und ungeschickt zu machen - genau das, was die meisten Codebasen derzeit sind. </p><br><p><img src="https://habrastorage.org/webt/gd/9f/ad/gd9fadtyygideailxszfgw2cs_k.png"></p><br><p>  Ich sch√§tze Go sehr, weil seine Sch√∂pfer sich die M√ºhe gemacht haben, dieses allgegenw√§rtige Konzept von Klassen zu √ºberdenken und in Go ein viel einfacheres und leistungsf√§higeres Konzept von OOP implementiert haben, das sich nicht zuf√§llig als n√§her an dem herausstellte, was der Sch√∂pfer von OOP, Alan Kay, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vorhatte</a> . </p><br><p>  In Go repr√§sentieren wir jede Abstraktion in Form einer bestimmten Typstruktur: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyApp <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  In der Dart-Version von Flutter muss <code>MyApp</code> <code>StatelessWidget</code> erben und die <code>build</code> Methode √ºberschreiben.  Dies ist notwendig, um zwei Probleme zu l√∂sen: </p><br><ol><li>  Geben Sie unserem Widget ( <code>MyApp</code> ) einige spezielle Eigenschaften / Methoden </li><li>  Aktivieren Sie Flutter, um unseren Code im Build / Render-Prozess aufzurufen </li></ol><br><p>  Ich kenne die Interna von Flutter nicht, also nehmen wir an, dass Artikel Nummer 1 nicht in Frage kommt und wir es einfach tun m√ºssen.  Go hat daf√ºr eine einzigartige und offensichtliche L√∂sung: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einbetten von</a> Typen: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyApp <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { flutter.Core <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  Dieser Code f√ºgt alle <code>flutter.Core</code> Eigenschaften und -Methoden zu unserem <code>MyApp</code> Typ hinzu.  Ich habe es <code>Core</code> anstelle von <code>Widget</code> , weil erstens das Einbetten von Typen unsere <code>MyApp</code> noch nicht zu <code>MyApp</code> Widget macht, und zweitens wird dieser Name im GopherJS Vecty-Framework sehr gut verwendet (so etwas wie React, nur f√ºr Go).  Ich werde etwas sp√§ter auf das Thema der √Ñhnlichkeit zwischen Vecty und Flutter eingehen. </p><br><p>  Der zweite Punkt - die Implementierung der <code>build()</code> -Methode, die die Flutter-Engine verwenden kann - wird in Go ebenfalls einfach und eindeutig gel√∂st.  Wir m√ºssen nur eine Methode mit einer bestimmten Signatur hinzuf√ºgen, die eine bestimmte Schnittstelle erf√ºllt, die irgendwo in unserer fiktiven Flutter-Bibliothek auf Go definiert ist: </p><br><p>  flutter.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Widget <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> { Build(ctx BuildContext) Widget }</code> </pre> <br><p>  Und jetzt unser main.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyApp <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { flutter.Core <span class="hljs-comment"><span class="hljs-comment">// ... } // Build renders the MyApp widget. Implements Widget interface. func (m *MyApp) Build(ctx flutter.BuildContext) flutter.Widget { return flutter.MaterialApp() }</span></span></code> </pre> <br><p>  Wir k√∂nnen hier einige Unterschiede feststellen: </p><br><ul><li>  Der Code ist etwas ausf√ºhrlicher - <code>BuildContext</code> , <code>Widget</code> und <code>MaterialApp</code> zeigen auf <code>flutter</code> Importe vor ihnen. </li><li>  Der Code ist etwas weniger unbegr√ºndet - es gibt keine W√∂rter wie <code>@override</code> <code>extends Widget</code> oder <code>@override</code> </li><li>  Die <code>Build()</code> -Methode beginnt mit einem Gro√übuchstaben, da dies die "Publizit√§t" der Methode in Go bedeutet.  In Dart wird die Werbung dadurch bestimmt, ob der Name mit einem Unterstrich (_) beginnt oder nicht. </li></ul><br><p>  Um ein Widget in unserem Flutter on Go zu <code>flutter.Core</code> , m√ºssen wir das <code>flutter.Core</code> Typ einbetten und die <code>flutter.Widget</code> Oberfl√§che implementieren.  Wir haben es herausgefunden und weiter gegraben. </p><br><h2 id="sostoyanie">  Zustand </h2><br><p>  Dies war eines der Dinge, die mich in Flutter wirklich verwirrten.  Es gibt zwei verschiedene Klassen - <code>StatelessWidget</code> und <code>StatefulWidget</code> .  Was mich betrifft, ist ein "zustandsloses Widget" dasselbe Widget, nur ohne, hmm, Daten, Status - warum sollte man sich eine neue Klasse einfallen lassen?  Aber okay, ich kann damit leben. </p><br><p>  Aber weiter - mehr noch, Sie k√∂nnen nicht einfach eine andere Klasse ( <code>StatefulWidget</code> ) erben, sondern m√ºssen eine solche Magie schreiben (die IDE wird es f√ºr Sie tun, aber nicht den Punkt): </p><br><pre> <code class="plaintext hljs">class MyHomePage extends StatefulWidget { @override _MyHomePageState createState() =&gt; _MyHomePageState(); } class _MyHomePageState extends State&lt;MyHomePage&gt; { int _counter = 0; void _incrementCounter() { setState(() { _counter++; }); } @override Widget build(BuildContext context) { return Scaffold() } }</code> </pre> <br><p>  Hmm, mal sehen was hier passiert. </p><br><p>  Grunds√§tzlich lautet die Aufgabe: F√ºgen Sie dem Widget einen Status hinzu - in unserem Fall den Z√§hler - und teilen Sie der Flutter-Engine mit, wann wir den Status ge√§ndert haben, um das Widget neu zu zeichnen.  Dies ist die tats√§chliche Komplexit√§t des Problems (wesentliche Komplexit√§t in Brooks-Begriffen). </p><br><p>  Alles andere ist zuf√§llige Komplexit√§t.  Flutter on Dart wartet mit einer neuen <code>State</code> Klasse auf, die Generika verwendet und ein Widget als Typparameter verwendet.  Als n√§chstes wird die <code>_MyHomePageState</code> Klasse erstellt, die <code>State  MyApp</code> erbt ... okay, Sie k√∂nnen es trotzdem irgendwie verdauen.  Aber warum wird die <code>build()</code> -Methode von der State-Klasse definiert und nicht von der Klasse, die das Widget ist?  Brrr .... </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Antwort auf diese Frage finden Sie</a> in den Flutter-FAQ. Die kurze Antwort wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ausreichend detailliert behandelt, um eine bestimmte Fehlerklasse beim Erben von <code>StatefulWidget</code> zu vermeiden.  Mit anderen Worten, dies ist eine Problemumgehung, um das Problem des klassenorientierten OOP-Designs zu l√∂sen.  Schick. </p><br><p>  Wie w√ºrden wir das in Go machen? </p><br><p>  Erstens w√ºrde ich pers√∂nlich es vorziehen, keine separate Einheit f√ºr den "Staat" - <code>State</code> - zu schaffen.  Schlie√ülich haben wir in jedem bestimmten Typ bereits einen Status - dies sind nur Felder der Struktur.  Die Sprache hat uns diese Essenz sozusagen schon gegeben.  Das Erstellen einer anderen √§hnlichen Entit√§t verwirrt den Programmierer nur. </p><br><p>  Die Herausforderung besteht nat√ºrlich darin, Flutter die M√∂glichkeit zu geben, auf Zustands√§nderungen zu reagieren (dies ist schlie√ülich die Essenz der reaktiven Programmierung).  Und wenn wir den Entwickler ‚Äûbitten‚Äú k√∂nnen, eine spezielle Funktion ( <code>setState()</code> ) zu verwenden, k√∂nnen wir auf die gleiche Weise eine spezielle Funktion verwenden, um der Engine mitzuteilen, wann neu gezeichnet werden soll und wann nicht.  Am Ende m√ºssen nicht alle Status√§nderungen neu gezeichnet werden, und hier haben wir noch mehr Kontrolle: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyHomePage <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { flutter.Core counter <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> } <span class="hljs-comment"><span class="hljs-comment">// Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx flutter.BuildContext) flutter.Widget { return flutter.Scaffold() } // incrementCounter increments widgets's counter by one. func (m *MyHomePage) incrementCounter() { m.counter++ flutter.Rerender(m) // or m.Rerender() // or m.NeedsUpdate() }</span></span></code> </pre> <br><p>  Sie k√∂nnen mit verschiedenen Benennungsoptionen <code>NeedsUpdate()</code> - ich mag <code>NeedsUpdate()</code> wegen seiner Direktheit und der Tatsache, dass dies eine Widget-Eigenschaft ist (von <code>flutter.Core</code> ), aber die globale <code>flutter.Rerender()</code> -Methode sieht auch gut aus.  Es stimmt, es gibt einen falschen Eindruck, dass das Widget sofort neu gezeichnet wird, aber es ist nicht so - es wird beim n√§chsten Frame-Update neu gezeichnet und die H√§ufigkeit von Methodenaufrufen kann viel h√∂her sein als die Renderfrequenz -, aber unsere Flutter-Engine sollte bereits in der Lage sein, damit umzugehen. </p><br><p>  Aber die Idee ist, dass wir gerade das notwendige Problem gel√∂st haben, ohne hinzuzuf√ºgen: </p><br><ul><li>  neuer Typ </li><li>  Generika </li><li>  Sonderregeln f√ºr den Lese- / Schreibzustand </li><li>  spezielle neue √ºberschriebene Methoden </li></ul><br><p>  Au√üerdem ist die API viel klarer und verst√§ndlicher - erh√∂hen Sie einfach den Z√§hler (wie in jedem anderen Programm) und bitten Sie Flutter, das Widget neu zu zeichnen.  Dies ist nur etwas, was nicht sehr offensichtlich ist, wenn wir nur <code>setState</code> - dies ist nicht nur eine spezielle Funktion zum Festlegen des Status, sondern eine Funktion, die eine Funktion (wtf?) Zur√ºckgibt, in der wir bereits etwas mit state tun.  Wiederum macht es versteckte Magie in Sprachen und Frameworks sehr schwierig, Code zu verstehen und zu lesen. </p><br><p>  In unserem Fall haben wir das gleiche Problem gel√∂st, der Code ist einfacher und zweimal k√ºrzer. </p><br><h2 id="vidzhety-s-sostoyaniem-v-drugih-vidzhetah">  Geben Sie Widgets in anderen Widgets an </h2><br><p>  Schauen wir uns als logische Fortsetzung des Themas an, wie das ‚ÄûStatus-Widget‚Äú in einem anderen Widget in Flutter verwendet wird: </p><br><pre> <code class="plaintext hljs">@override Widget build(BuildContext context) { return MaterialApp( title: 'Flutter Demo', home: MyHomePage(title: 'Flutter Demo Home Page'), ); }</code> </pre> <br><p>  <code>MyHomePage</code> hier ein "Status-Widget" (es hat einen Z√§hler), und wir erstellen es, indem wir den Konstruktor <code>MyHomePage()</code> w√§hrend des <code>MyHomePage()</code> aufrufen ... Warten Sie, was? </p><br><p>  <code>build()</code> wird aufgerufen, um das Widget m√∂glicherweise mehrmals pro Sekunde neu zu zeichnen.  Warum sollten wir beim Rendern jedes Mal ein Widget erstellen, insbesondere mit einem Status?  Es macht keinen Sinn. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Es stellt sich heraus,</a> dass Flutter diese Trennung zwischen <code>Widget</code> und Status verwendet, um diese Initialisierung / Statusverwaltung vor dem Programmierer zu verbergen (mehr versteckte Dinge, mehr!).  Es wird jedes Mal ein neues Widget erstellt, aber der Status, falls er bereits erstellt wurde, wird automatisch gefunden und an das Widget angeh√§ngt.  Diese Magie passiert unsichtbar und ich habe keine Ahnung, wie es funktioniert - Sie m√ºssen den Code lesen. </p><br><p>  Ich halte es beim Programmieren f√ºr ein echtes √úbel, sich so weit wie m√∂glich vor dem Programmierer zu verstecken und dies mit Ergonomie zu rechtfertigen.  Ich bin sicher, dass der durchschnittliche statistische Programmierer Flutter-Code nicht lesen wird, um zu verstehen, wie diese Magie funktioniert, und es ist unwahrscheinlich, dass er versteht, wie und was miteinander verbunden ist. </p><br><p>  F√ºr die Go-Version w√ºrde ich definitiv keine solche versteckte Zauberei wollen und w√ºrde eine explizite und sichtbare Initialisierung bevorzugen, selbst wenn dies einen etwas unbegr√ºndeteren Code bedeutet.  Flatters Ansatz f√ºr Dart kann ebenfalls implementiert werden, aber ich liebe Go, um Magie zu minimieren, und ich w√ºrde gerne die gleiche Philosophie in Frameworks sehen.  Daher w√ºrde ich meinen Code f√ºr Widgets mit Status wie folgt in den Widget-Baum schreiben: </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// MyApp is our top application widget. type MyApp struct { flutter.Core homePage *MyHomePage } // NewMyApp instantiates a new MyApp widget func NewMyApp() *MyApp { app := &amp;MyApp{} app.homePage = &amp;MyHomePage{} return app } // Build renders the MyApp widget. Implements Widget interface. func (m *MyApp) Build(ctx flutter.BuildContext) flutter.Widget { return m.homePage } // MyHomePage is a home page widget. type MyHomePage struct { flutter.Core counter int } // Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx flutter.BuildContext) flutter.Widget { return flutter.Scaffold() } // incrementCounter increments app's counter by one. func (m *MyHomePage) incrementCounter() { m.counter++ flutter.Rerender(m) }</span></span></code> </pre> <br><p>  Dieser Code verliert die Dart-Version, da ich, wenn ich <code>homePage</code> aus dem Widget-Baum entfernen und durch etwas anderes ersetzen m√∂chte, es an drei statt an einer Stelle entfernen muss.  Im Gegenzug erhalten wir ein vollst√§ndiges Bild davon, was, wo und wie es passiert, wo der Speicher zugewiesen wird, wer wen anruft usw. Der Code in Ihrer Handfl√§che ist klar und leicht zu lesen. </p><br><p>  Flutter hat √ºbrigens auch so etwas wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">StatefulBuilder</a> , das noch mehr Magie hinzuf√ºgt und es Ihnen erm√∂glicht, Widgets mit State on the Fly zu erstellen. </p><br><h1 id="dsl">  DSL </h1><br><p>  Nehmen wir jetzt den lustigen Teil an.  Wie werden wir den Widget-Baum auf Go darstellen?  Wir m√∂chten, dass es pr√§zise, ‚Äã‚Äãsauber, einfach umzugestalten und zu √§ndern ist, die r√§umlichen Beziehungen zwischen Widgets beschreibt (Widgets, die sich visuell in der N√§he befinden, sich in der N√§he befinden m√ºssen und in der Beschreibung enthalten sind) und gleichzeitig flexibel genug ist, um willk√ºrlich zu beschreiben Code wie Ereignishandler. </p><br><p>  Es scheint mir, dass die Option auf Dart sehr sch√∂n und beredt ist: </p><br><pre> <code class="plaintext hljs">return Scaffold( appBar: AppBar( title: Text(widget.title), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Text('You have pushed the button this many times:'), Text( '$_counter', style: Theme.of(context).textTheme.display1, ), ], ), ), floatingActionButton: FloatingActionButton( onPressed: _incrementCounter, tooltip: 'Increment', child: Icon(Icons.add), ), );</code> </pre> <br><p>  Jedes Widget verf√ºgt √ºber einen Konstruktor, der optionale Parameter akzeptiert. Was den Datensatz hier wirklich sch√∂n macht, sind die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">benannten Parameter der Funktionen</a> . </p><br><h2 id="imenovannye-parametry">  Benannte Parameter </h2><br><p>  Falls Sie mit diesem Begriff nicht vertraut sind, werden die Parameter der Funktion in vielen Sprachen als "positionell" bezeichnet, da ihre Position f√ºr die Funktion von Bedeutung ist: </p><br><pre> <code class="plaintext hljs">Foo(arg1, arg2, arg3)</code> </pre> <br><p>  und im Fall von benannten Parametern wird alles durch ihren Namen im Aufruf entschieden: </p><br><pre> <code class="plaintext hljs">Foo(name: arg1, description: arg2, size: arg3)</code> </pre> <br><p>  Dies f√ºgt Text hinzu, speichert jedoch Klicks und bewegt sich im Code, um zu verstehen, was die Parameter bedeuten. </p><br><p>  Im Fall des Widget-Baums spielen sie eine Schl√ºsselrolle f√ºr die Lesbarkeit.  Vergleichen Sie den gleichen Code wie oben, jedoch ohne benannte Parameter: </p><br><pre> <code class="plaintext hljs">return Scaffold( AppBar( Text(widget.title), ), Center( Column( MainAxisAlignment.center, &lt;Widget&gt;[ Text('You have pushed the button this many times:'), Text( '$_counter', Theme.of(context).textTheme.display1, ), ], ), ), FloatingActionButton( _incrementCounter, 'Increment', Icon(Icons.add), ), );</code> </pre> <br><p>  Nicht das.  richtig?  Es ist nicht nur schwieriger zu verstehen (Sie m√ºssen bedenken, was jeder Parameter bedeutet und welchen Typ er hat, und dies ist eine erhebliche kognitive Belastung), sondern gibt uns auch keine Freiheit bei der Auswahl der Parameter, die wir √ºbertragen m√∂chten.  Beispielsweise m√∂chten Sie m√∂glicherweise keinen <code>FloatingActionButton</code> f√ºr Ihre Materialanwendung, sodass Sie ihn einfach nicht in den Parametern angeben.  Ohne benannte Parameter m√ºssen wir entweder die Angabe aller m√∂glichen Widgets erzwingen oder mit Reflexion auf Magie zur√ºckgreifen, um herauszufinden, welche Widgets √ºbertragen wurden. </p><br><p>  Und da es in Go keine √úberlastung von Funktionen und benannten Parametern gibt, wird dies f√ºr Go keine leichte Aufgabe sein. </p><br><h1 id="derevo-vidzhetov-v-go">  Gehen Sie zum Widget-Baum </h1><br><h2 id="versiya-1">  Version 1 </h2><br><p>  Schauen wir uns das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Scaffold-</a> Objekt genauer an, das ein praktischer Wrapper f√ºr eine mobile Anwendung ist.  Es hat mehrere Eigenschaften - AppBar, Drawe, Home, BottomNavigationBar, FloatingActionBar - und dies sind alles Widgets.  Beim Erstellen eines Widget-Baums m√ºssen wir dieses Objekt tats√§chlich irgendwie initialisieren und ihm die oben genannten Widget-Eigenschaften √ºbergeben.  Nun, dies unterscheidet sich nicht allzu sehr von der √ºblichen Erstellung und Initialisierung von Objekten. </p><br><p>  Versuchen wir den Stirnansatz: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> flutter.NewScaffold( flutter.NewAppBar( flutter.Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), ), <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, flutter.NewCenter( flutter.NewColumn( flutter.MainAxisCenterAlignment, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, []flutter.Widget{ flutter.Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), flutter.Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), ctx.Theme.textTheme.display1), }, ), ), flutter.FloatingActionButton( flutter.NewIcon(icons.Add), <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, m.onPressed, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, ), )</code> </pre> <br><p>  Auf jeden Fall nicht der sch√∂nste UI-Code.  Das Wort <code>flutter</code> √ºberall und fragt.  Um es zu verbergen (eigentlich musste ich das Verpackungsmaterial benennen, nicht <code>flutter</code> , aber nicht die Essenz), sind die anonymen Parameter v√∂llig offensichtlich, und diese Nullen sind √ºberall offen verwirrend. </p><br><h2 id="versiya-2">  Version 2 </h2><br><p>  Da der gr√∂√üte Teil des Codes jedoch den einen oder anderen Typ / die andere Funktion aus dem <code>flutter</code> , k√∂nnen wir das Paket mithilfe des "Punktimport" -Formats in unseren Namespace importieren und dadurch den Paketnamen "verbergen": </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> . <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span></code> </pre> <br><p>  Jetzt anstatt zu <code>flutter.Text</code> . <code>Text</code> k√∂nnen wir nur <code>Text</code> schreiben.  Dies ist normalerweise eine schlechte Praxis, aber wir arbeiten mit dem Framework, und dieser Import wird buchst√§blich in jeder Zeile erfolgen.  Aus meiner Praxis ist dies genau der Fall, f√ºr den ein solcher Import akzeptabel ist - zum Beispiel, wenn das wunderbare Framework zum Testen von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GoConvey verwendet wird</a> . </p><br><p>  Mal sehen, wie der Code aussehen wird: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold( NewAppBar( Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), ), <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, NewCenter( NewColumn( MainAxisCenterAlignment, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, []Widget{ Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), ctx.Theme.textTheme.display1), }, ), ), FloatingActionButton( NewIcon(icons.Add), <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, m.onPressed, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, ), )</code> </pre> <br><p>  Schon besser, aber diese Nullen und unbenannten Parameter .... </p><br><h2 id="versiya-3">  Version 3 </h2><br><p>  Mal sehen, wie der Code aussehen wird, wenn wir Reflection (die M√∂glichkeit, den Code zu √ºberpr√ºfen, w√§hrend das Programm ausgef√ºhrt wird) verwenden, um die √ºbergebenen Parameter zu analysieren.  Dieser Ansatz wird in mehreren fr√ºhen HTTP-Frameworks unter Go (z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Martini</a> ) verwendet und wird als sehr schlechte Vorgehensweise angesehen. Er ist unsicher, verliert den Komfort des Typsystems, ist relativ langsam und f√ºgt dem Code Magie hinzu. Aus Versuchsgr√ºnden k√∂nnen Sie jedoch Folgendes versuchen: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold( NewAppBar( Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>), ), NewCenter( NewColumn( MainAxisCenterAlignment, []Widget{ Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>), Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), ctx.Theme.textTheme.display1), }, ), ), FloatingActionButton( NewIcon(icons.Add), <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, m.onPressed, ), )</code> </pre> <br><p>  Nicht schlecht, und es sieht aus wie die Originalversion von Dart, aber das Fehlen benannter Parameter tut dem Auge immer noch weh. </p><br><h2 id="versiya-4">  Version 4 </h2><br><p>  Lassen Sie uns einen Schritt zur√ºcktreten und uns fragen, was wir versuchen zu tun.  Wir m√ºssen den Dart-Ansatz nicht blind kopieren (obwohl dies ein sch√∂ner Bonus ist - es gibt weniger, um Leute zu unterrichten, die bereits mit Flutter on Dart vertraut sind).  Tats√§chlich erstellen wir einfach neue Objekte und weisen ihnen Eigenschaften zu. </p><br><p>  Kannst du das so versuchen? </p><br><pre> <code class="go hljs">scaffold := NewScaffold() scaffold.AppBar = NewAppBar(Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>)) column := NewColumn() column.MainAxisAlignment = MainAxisCenterAlignment counterText := Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter)) counterText.Style = ctx.Theme.textTheme.display1 column.Children = []Widget{ Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>), counterText, } center := NewCenter() center.Child = column scaffold.Home = center icon := NewIcon(icons.Add), fab := NewFloatingActionButton() fab.Icon = icon fab.Text = <span class="hljs-string"><span class="hljs-string">"Increment"</span></span> fab.Handler = m.onPressed scaffold.FloatingActionButton = fab <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> scaffold</code> </pre> <br><p>    ,         " ",         . -,       ‚Äì   ,      . -,      ,            . </p><br><p> ,       UI   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GTK</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Qt</a> . , ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a>  Qt 5: </p><br><pre> <code class="plaintext hljs"> QGridLayout *layout = new QGridLayout(this); layout-&gt;addWidget(new QLabel(tr("Object name:")), 0, 0); layout-&gt;addWidget(m_objectName, 0, 1); layout-&gt;addWidget(new QLabel(tr("Location:")), 1, 0); m_location-&gt;setEditable(false); m_location-&gt;addItem(tr("Top")); m_location-&gt;addItem(tr("Left")); m_location-&gt;addItem(tr("Right")); m_location-&gt;addItem(tr("Bottom")); m_location-&gt;addItem(tr("Restore")); layout-&gt;addWidget(m_location, 1, 1); QDialogButtonBox *buttonBox = new QDialogButtonBox(QDialogButtonBox::Ok | QDialogButtonBox::Cancel, this); connect(buttonBox, &amp;QDialogButtonBox::rejected, this, &amp;QDialog::reject); connect(buttonBox, &amp;QDialogButtonBox::accepted, this, &amp;QDialog::accept); layout-&gt;addWidget(buttonBox, 2, 0, 1, 2);</code> </pre><br><p>   ,   -      . ,  ,    ,           . </p><br><h2 id="versiya-5">  5 </h2><br><p>   ,     ‚Äì          -.  Zum Beispiel: </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Widget</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold(ScaffoldParams{ AppBar: NewAppBar(AppBarParams{ Title: Text(TextParams{ Text: <span class="hljs-string"><span class="hljs-string">"My Home Page"</span></span>, }), }), Body: NewCenter(CenterParams{ Child: NewColumn(ColumnParams{ MainAxisAlignment: MainAxisAlignment.center, Children: []Widget{ Text(TextParams{ Text: <span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, }), Text(TextParams{ Text: fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), Style: ctx.textTheme.display1, }), }, }), }), FloatingActionButton: NewFloatingActionButton( FloatingActionButtonParams{ OnPressed: m.incrementCounter, Tooltip: <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, Child: NewIcon(IconParams{ Icon: Icons.add, }), }, ), }) }</code> </pre> <br><p> ! ,   .    <code>...Params</code>    ,          .  , ,       Go    ,       ,     . </p><br><p> -,     <code>...Params</code> ,       .    (proposal)     ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"  "</a> .  ,     <code>FloatingActionButtonParameters{...}</code>  <code>{...}</code>    .     : </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Widget</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold({ AppBar: NewAppBar({ Title: Text({ Text: <span class="hljs-string"><span class="hljs-string">"My Home Page"</span></span>, }), }), Body: NewCenter({ Child: NewColumn({ MainAxisAlignment: MainAxisAlignment.center, Children: []Widget{ Text({ Text: <span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, }), Text({ Text: fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), Style: ctx.textTheme.display1, }), }, }), }), FloatingActionButton: NewFloatingActionButton({ OnPressed: m.incrementCounter, Tooltip: <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, Child: NewIcon({ Icon: Icons.add, }), }, ), }) }</code> </pre> <br><p>        Dart!         . </p><br><h2 id="versiya-6">  6 </h2><br><p>   ,         .  ,    ,    ,       ,   . </p><br><p>   ,    ,   ,      -,     ‚Äì     : </p><br><pre> <code class="go hljs">button := NewButton(). WithText(<span class="hljs-string"><span class="hljs-string">"Click me"</span></span>). WithStyle(MyButtonStyle1)</code> </pre> <br><p>  oder </p><br><pre> <code class="go hljs">button := NewButton(). Text(<span class="hljs-string"><span class="hljs-string">"Click me"</span></span>). Style(MyButtonStyle1)</code> </pre> <br><p>     Scaffold-    : </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx flutter.BuildContext) flutter.Widget { return NewScaffold(). AppBar(NewAppBar(). Text("Flutter Go app")). Child(NewCenter(). Child(NewColumn(). MainAxisAlignment(MainAxisCenterAlignment). Children([]Widget{ Text("You have pushed the button this many times:"), Text(fmt.Sprintf("%d", m.counter)). Style(ctx.Theme.textTheme.display1), }))). FloatingActionButton(NewFloatingActionButton(). Icon(NewIcon(icons.Add)). Text("Increment"). Handler(m.onPressed)) }</span></span></code> </pre> <br><p>        Go ‚Äì       , .      Dart-,       : </p><br><ul><li>    </li><li>  "" </li><li>      </li><li>       </li></ul><br><p>          <code>New...()</code>   ‚Äì  ,   .       ,    ‚Äî <strong>"  ,      ,   ,      ,    ,     ,      ‚Äì        "</strong> . </p><br><p>   ,   , 5-  6-    . </p><br><h1 id="finalnaya-versiya-koda">    </h1><br><p>         "hello, world"   Flutter  Go: </p><br><p> main.go </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { flutter.Run(NewMyApp()) }</code> </pre> <br><p> app.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> . <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> <span class="hljs-comment"><span class="hljs-comment">// MyApp is our top application widget. type MyApp struct { Core homePage *MyHomePage } // NewMyApp instantiates a new MyApp widget func NewMyApp() *MyApp { app := &amp;MyApp{} app.homePage = &amp;MyHomePage{} return app } // Build renders the MyApp widget. Implements Widget interface. func (m *MyApp) Build(ctx BuildContext) Widget { return m.homePage }</span></span></code> </pre> <br><p> home_page.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> . <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> ) <span class="hljs-comment"><span class="hljs-comment">// MyHomePage is a home page widget. type MyHomePage struct { Core counter int } // Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx BuildContext) Widget { return NewScaffold(ScaffoldParams{ AppBar: NewAppBar(AppBarParams{ Title: Text(TextParams{ Text: "My Home Page", }), }), Body: NewCenter(CenterParams{ Child: NewColumn(ColumnParams{ MainAxisAlignment: MainAxisAlignment.center, Children: []Widget{ Text(TextParams{ Text: "You have pushed the button this many times:", }), Text(TextParams{ Text: fmt.Sprintf("%d", m.counter), Style: ctx.textTheme.display1, }), }, }), }), FloatingActionButton: NewFloatingActionButton( FloatingActionButtonParameters{ OnPressed: m.incrementCounter, Tooltip: "Increment", Child: NewIcon(IconParams{ Icon: Icons.add, }), }, ), }) } // incrementCounter increments app's counter by one. func (m *MyHomePage) incrementCounter() { m.counter++ flutter.Rerender(m) }</span></span></code> </pre> <br><p>   ! </p><br><h1 id="zaklyuchenie">  Fazit </h1><br><h4 id="pohozhest-s-vecty">   Vecty </h4><br><p>        ,      ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vecty</a> .  , ,  , ,  Vecty    DOM/CSS/JS,  Flutter            ,        120   .   ,   Vecty  ,     Flutter  Go  Vecty . </p><br><h4 id="luchshee-ponimanie-dizayna-flutter">    Flutter </h4><br><p>         ‚Äì        ,   .            Flutter,         . </p><br><h4 id="nedostatki-go">  Go </h4><br><p>    <strong>"  Flutter    Go?"</strong>    <strong>""</strong> ,  , , ,        ,   Flutter, , ,     ""   .      ,    Go       . </p><br><p>  ,  <strong>   Go    </strong> .                 .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a>    Go, , ,    -.    ‚Äì      ,         ,        . </p><br><p>           Go.              ‚Äì       ,      . </p><br><h4 id="mysli-o-buduschem-flutter">    Flutter </h4><br><p>      ,  Flutter  ,     ,       .  "/ "   ,  Dart    ( , ,     ).    Dart,  ,      (,    )    DartVM  V8,  Flutter    ‚Äì   Flutter      -. </p><br><p> ,     .          .  ,           ,  1.0     . , -      . </p><br><p>    game changer,     Flutter ,           ,           . </p><br><p>            UI ‚Äì  Flutter,    . </p><br><h1 id="ssylki">  Referenzen </h1><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://flutter.io</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Flutter Tutorial for Beginners ‚Äî Build iOS and Android Apps</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Go proposal: An Improved, Golang-Cohesive Design for Named Arguments</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Go proposal: spec: untyped composite literals</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de435960/">https://habr.com/ru/post/de435960/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de435950/index.html">Modulares Rechenzentrum im Dienste des Large Hadron Collider</a></li>
<li><a href="../de435952/index.html">Wer sind "ungewaschene Hoster"?</a></li>
<li><a href="../de435954/index.html">Entwicklung von Modulen f√ºr Puppen mit Puppenentwicklungskit</a></li>
<li><a href="../de435956/index.html">PHP Digest Nr. 147 (1. - 14. Januar 2019)</a></li>
<li><a href="../de435958/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends f√ºr die letzte Woche Nr. 347 (7. - 13. Januar 2019)</a></li>
<li><a href="../de435962/index.html">25 Jahre Aeron: Sensationen und Eindr√ºcke der aktualisierten Version von Aeron Remastered</a></li>
<li><a href="../de435964/index.html">Ethereum plant, 99% wirtschaftlicher zu sein</a></li>
<li><a href="../de435968/index.html">√úbersicht √ºber Deep Machine Learning-Algorithmen f√ºr Roboter</a></li>
<li><a href="../de435970/index.html">Anf√§ngerhandbuch zur Webserverentwicklung mit Node.js.</a></li>
<li><a href="../de435972/index.html">Einf√ºhrung der reaktiven Programmierung im Fr√ºhjahr</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>