<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòì üï∫üèº üç° Fonctionnement d'Android, partie 4 üë©‚Äçüëß‚Äçüëß üêá üôãüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous! Nous avons pris le temps de poursuivre une s√©rie d'articles sur l'appareil interne Android. Dans cet article, je parlerai du processus...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fonctionnement d'Android, partie 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/427431/"><p> <a href=""><img src="https://habrastorage.org/webt/jv/bc/cd/jvbccdismv6aavwbri8o5q9uu5o.png"></a> </p><br><p>  Bonjour √† tous!  Nous avons pris le temps de poursuivre une s√©rie d'articles sur l'appareil interne Android.  Dans cet article, je parlerai du processus de d√©marrage Android, du contenu du syst√®me de fichiers, de la fa√ßon dont les donn√©es des utilisateurs et des applications sont stock√©es, de l'acc√®s root, de la portabilit√© des versions d'Android et du probl√®me de fragmentation. </p><a name="habracut"></a><br><p>  Articles de s√©rie: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fonctionnement d'Android, partie 1</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fonctionnement d'Android, partie 2</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fonctionnement d'Android, partie 3</a> </li><li>  Fonctionnement d'Android, partie 4 </li><li>  ... </li></ul><br><h2 id="pakety">  Forfaits </h2><br><p> Comme je l'ai d√©j√† dit, l'architecture Android est construite autour d'applications.  Ce sont les applications qui jouent un r√¥le cl√© dans le p√©riph√©rique de nombreuses parties du syst√®me, c'est pour l'interaction harmonieuse des applications que les mod√®les d'activit√© et d'intention sont construits, et le mod√®le de s√©curit√© Android est bas√© sur l'isolement des applications.  Et si le gestionnaire d'activit√© est engag√© dans l'orchestration de l'interaction des composants d'application, le <strong>gestionnaire de packages</strong> est responsable de l'installation, de la mise √† jour et de la gestion des droits des applications (gestionnaire de packages - vous pouvez l'appeler dans le shell avec la commande <code>pm</code> ). </p><br><p>  Comme son nom l'indique ¬´gestionnaire de packages¬ª, √† ce niveau, les applications sont souvent appel√©es <strong>packages</strong> .  Les packages sont distribu√©s au format <strong>APK</strong> (package Android) - archives zip sp√©ciales.  Chaque package a un <em>nom</em> (√©galement appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ID d'application</a> ) qui identifie de mani√®re unique cette application (mais pas sa version sp√©cifique - au contraire, les noms des diff√©rentes versions du package doivent correspondre, sinon ils seront consid√©r√©s comme des packages distincts).  Les noms de package sont g√©n√©ralement √©crits en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>notation du nom DNS inverse</em></a> - par exemple, l'application YouTube utilise le nom de package <code>com.google.android.youtube</code> .  Souvent, le nom du package correspond √† l'espace de noms utilis√© dans son code Java, mais Android ne l'exige pas (en outre, les fichiers APK de l'application incluent g√©n√©ralement des biblioth√®ques tierces, dont l'espace de noms, bien s√ªr, n'a rien √† voir avec les noms de packages, qui les utilisent). </p><br><p>  Chaque APK pendant l'assemblage doit √™tre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>sign√© par le</strong></a> d√©veloppeur √† l'aide d'une signature num√©rique.  Android v√©rifie la pr√©sence de cette signature lors de l'installation de l'application et lors de la mise √† jour d'une application d√©j√† install√©e, il compare en outre les cl√©s publiques avec lesquelles l'ancienne et la nouvelle version sont sign√©es;  ils doivent correspondre, ce qui garantit que la nouvelle version a √©t√© cr√©√©e par le m√™me d√©veloppeur que l'ancienne.  (Si cette v√©rification n'√©tait pas disponible, l'attaquant pourrait cr√©er un package du m√™me nom que l'application existante, convaincre l'utilisateur de l'installer en ¬´mettant √† jour¬ª l'application, et acc√©der aux donn√©es de cette application.) </p><br><p>  La <strong>mise √† jour du</strong> package lui-m√™me est l'installation de sa nouvelle version au lieu de l'ancienne avec la pr√©servation des donn√©es et autorisations re√ßues de l'utilisateur.  Vous pouvez √©galement ¬´r√©trograder¬ª les applications vers des versions plus anciennes, mais en m√™me temps, par d√©faut, Android efface les donn√©es enregistr√©es par la nouvelle version, car l'ancienne version peut ne pas fonctionner avec les formats de donn√©es utilis√©s par la nouvelle version. </p><br><p>  Comme je l'ai d√©j√† dit, le code de chaque application est g√©n√©ralement ex√©cut√© sous son propre utilisateur Unix (UID), ce qui garantit leur isolation mutuelle.  Plusieurs applications peuvent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">explicitement demander √†</a> Android d'utiliser un UID commun pour elles, ce qui leur permettra d'acc√©der directement aux fichiers des autres et m√™me, si vous le souhaitez, de s'ex√©cuter dans le m√™me processus. </p><br><p>  Bien que g√©n√©ralement un package corresponde √† un fichier APK, Android prend en charge les packages compos√©s de plusieurs APK (c'est ce qu'on appelle des APK <strong>fractionn√©s</strong> ou <strong>des APK fractionn√©s</strong> ).  C'est la base de telles fonctionnalit√©s "magiques" d'Android, telles que le chargement dynamique de modules d'application suppl√©mentaires (modules de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fonctionnalit√©s dynamiques</a> ) et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Instant Run</a> dans Android Studio (mise √† jour automatique du code d'application en cours d'ex√©cution sans sa r√©installation compl√®te et, dans de nombreux cas, m√™me sans red√©marrage). </p><br><p><img src="https://habrastorage.org/webt/jm/_x/0q/jm_x0qtvqsmt4-tj6-hxbcwzizi.png"></p><br><h2 id="faylovaya-sistema">  Syst√®me de fichiers </h2><br><p>  Le p√©riph√©rique du syst√®me de fichiers est l'un des probl√®mes les plus importants et les plus int√©ressants de l'architecture du syst√®me d'exploitation, et le p√©riph√©rique du syst√®me de fichiers dans Android ne fait pas exception. </p><br><p>  L'int√©r√™t est, tout d'abord, quels syst√®mes de fichiers sont utilis√©s, c'est-√†-dire dans quel format le contenu des fichiers est enregistr√© sur un disque conditionnel (dans le cas d'Android, c'est g√©n√©ralement une m√©moire flash et des cartes SD) et comment le noyau du syst√®me prend en charge ce format .  Le noyau Linux utilis√© dans Android, √† un degr√© ou un autre, prend en charge un grand nombre de syst√®mes de fichiers diff√©rents - de ceux utilis√©s dans Windows FAT et NTFS et ceux utilis√©s √† Darwin par le tristement c√©l√®bre HFS + et APFS moderne - au r√©seau 9pfs du Plan 9. Il existe de nombreux ¬ªPour les syst√®mes de fichiers Linux - par exemple, Btrfs et la famille ext. </p><br><p>  Le standard de facto pour Linux est depuis longtemps <strong>ext4</strong> , utilis√© par d√©faut par les distributions Linux les plus populaires.  Par cons√©quent, il n'y a rien d'inattendu dans le fait qu'il soit utilis√© dans Android.  Certains assemblages (et certains passionn√©s) utilisent √©galement <strong>F2FS</strong> (Flash-Friendly File System), optimis√© sp√©cifiquement pour la m√©moire flash (cependant, avec ses avantages, tout n'est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pas si clair</a> ). </p><br><p>  Deuxi√®mement, la disposition dite du <strong>syst√®me de fichiers</strong> est int√©ressante - l'emplacement des dossiers et fichiers syst√®me et utilisateur dans le syst√®me de fichiers.  La disposition du syst√®me de fichiers dans ¬´Linux ordinaire¬ª m√©rite une description plus d√©taill√©e (qui peut √™tre trouv√©e, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur ce lien</a> );  Je ne mentionnerai ici que quelques-uns des r√©pertoires les plus importants: </p><br><ul><li>  <code>/home</code> stocke les dossiers personnels des utilisateurs;  ici, dans divers dossiers cach√©s ( <code>.cache</code> , <code>.cache</code> , <code>.config</code> et autres), les programmes stockent leurs param√®tres, donn√©es et cache, sp√©cifiques √† l'utilisateur, </li><li>  <code>/boot</code> stocke le noyau Linux et l'image initramfs (syst√®me de fichiers de d√©marrage sp√©cial), </li><li>  <code>/usr</code> (il serait plus logique d'appeler <code>/system</code> ) stocke la partie principale du syst√®me lui-m√™me, y compris les biblioth√®ques, les fichiers ex√©cutables, les fichiers de configuration, ainsi que les ressources - th√®mes pour l'interface, ic√¥nes, contenu du manuel du syst√®me, etc., </li><li>  <code>/etc</code> (il serait plus logique d'appeler <code>/config</code> ) stocke les param√®tres √† l'√©chelle du syst√®me, </li><li>  <code>/dev</code> stocke les fichiers de p√©riph√©rique et d'autres fichiers sp√©ciaux (par exemple, le socket <code>/dev/log</code> ), </li><li>  <code>/var</code> stocke des donn√©es mutables - journaux, cache syst√®me, contenu de base de donn√©es, etc. </li></ul><br><p>  Android utilise une disposition de syst√®me de fichiers similaire mais sensiblement diff√©rente.  En voici quelques-unes des parties les plus importantes: </p><br><ul><li>  <code>/data</code> stocke des donn√©es mutables, </li><li>  Le noyau et l'image initramfs sont stock√©s sur une partition flash distincte, qui ne peut pas √™tre mont√©e sur le syst√®me de fichiers principal. </li><li>  <code>/system</code> correspond √† <code>/usr</code> et stocke le syst√®me, </li><li>  <code>/vendor</code> - un analogue de <code>/system</code> con√ßu pour les fichiers sp√©cifiques √† cet assemblage Android, et non inclus dans l'Android "standard", </li><li>  <code>/dev</code> , comme dans "Linux normal", stocke les fichiers de p√©riph√©riques et autres fichiers sp√©ciaux. </li></ul><br><p>  Les plus int√©ressants de ces r√©pertoires sont <code>/data</code> et <code>/system</code> .  Le contenu de <code>/system</code> d√©crit le syst√®me et contient la plupart de ses fichiers constitutifs.  <code>/system</code> est situ√© sur une section distincte de la m√©moire flash, qui est mont√©e par d√©faut en mode lecture seule;  g√©n√©ralement, les donn√©es ne changent que lorsque le syst√®me est mis √† jour.  <code>/data</code> √©galement dans une section distincte et d√©crit l'√©tat modifiable d'un appareil particulier, y compris les param√®tres utilisateur, les applications install√©es et leurs donn√©es, les caches, etc.  La suppression de toutes les donn√©es utilisateur, la soi-disant r√©initialisation d'usine, avec ce sch√©ma consiste simplement √† supprimer le contenu de la section des <em>donn√©es</em> ;  un syst√®me intact reste install√© dans la section <em>syst√®me</em> . </p><br><pre> <code class="markdown hljs"><span class="hljs-section"><span class="hljs-section"># mount | grep /system /dev/block/mmcblk0p14 on /system type ext4 (ro,seclabel,relatime,data=ordered) # mount | grep /data /dev/block/mmcblk0p24 on /data type ext4 (rw,seclabel,nosuid,nodev,noatime,noauto_da_alloc,data=writeback)</span></span></code> </pre> <br><p>  Les applications - √† savoir, leurs APK, fichiers odex (code Java compil√© √† l'avance) et biblioth√®ques ELF - sont install√©es dans <code>/system/app</code> (pour les applications <code>/data/app</code> avec le syst√®me) ou dans <code>/data/app</code> (pour les install√©es par l'utilisateur) applications).  Lors de la cr√©ation d'un assembly Android, chaque application pr√©install√©e se voit attribuer un dossier portant le nom du formulaire <code>/system/app/Terminal</code> , et pour les applications install√©es par l'utilisateur lors de l'installation, des dossiers sont cr√©√©s dont les noms commencent par le nom de leur package.  Par exemple, une application YouTube est enregistr√©e dans un dossier avec un nom comme <code>/data/app/com.google.android.youtube-bkJAtUtbTuzvAioW-LEStg==/</code> . </p><br><div class="spoiler">  <b class="spoiler_title">√Ä propos de ce suffixe</b> <div class="spoiler_text"><p>  Le suffixe dans le nom des dossiers d'application est de 16 octets al√©atoires encod√©s en Base64.  L'utilisation de ce suffixe emp√™che les autres applications de ¬´deviner¬ª le chemin vers une application dont elles ne devraient pas avoir connaissance.  En principe, la liste des applications install√©es sur l'appareil et les chemins d'acc√®s √† celles-ci ne sont pas un secret - elles peuvent √™tre obtenues via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des API standard</a> - mais dans certains cas (notamment pour les applications instantan√©es) l'acc√®s √† ces donn√©es est restreint. </p><br><p>  Ce suffixe sert un autre objectif.  Chaque fois que l'application est mise √† jour, le nouvel APK est install√© dans le dossier avec un nouveau suffixe, apr√®s quoi l'ancien dossier est supprim√©.  Avant la version 8.0 Oreo, c'√©tait le but des suffixes, et au lieu d'octets al√©atoires <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">,</a> <code>-1</code> et <code>-2</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utilis√©s</a> alternativement (par exemple, <code>/data/app/com.google.android.youtube-2</code> pour YouTube). </p><br><p>  Le chemin d'acc√®s complet au dossier d'application dans <code>/system/app</code> ou <code>/data/app</code> peut √™tre obtenu √† l'aide de l'API standard ou de la <code>pm path org.example.packagename</code> , qui affiche les chemins d'acc√®s de tous les fichiers APK de l'application. </p><br><pre> <code class="markdown hljs"><span class="hljs-section"><span class="hljs-section"># pm path com.android.egg package:/system/app/EasterEgg/EasterEgg.apk</span></span></code> </pre> </div></div><br><p>  √âtant donn√© que les <strong>applications pr√©install√©es sont stock√©es dans la section <em>syst√®me</em></strong> (dont le contenu, je me souviens, ne change que lorsque le syst√®me est mis √† jour), elles ne peuvent pas √™tre supprim√©es (√† la place, Android offre la possibilit√© de les "d√©sactiver").  N√©anmoins, la <em>mise √† jour</em> des applications pr√©install√©es est prise en charge - dans ce cas, un dossier dans <code>/data/app</code> est cr√©√© pour la nouvelle version et la version fournie avec le syst√®me reste dans <code>/system/app</code> .  Dans ce cas, l'utilisateur a la possibilit√© de "supprimer les mises √† jour" d'une telle application, en revenant √† la version depuis <code>/system/app</code> . </p><br><p>  Une autre caract√©ristique des applications pr√©install√©es est qu'elles peuvent recevoir <strong>des autorisations ¬´syst√®me¬ª sp√©ciales</strong> .  Par exemple, les applications tierces n'ont pas l'autorisation <code>DELETE_PACKAGES</code> , qui vous permet de supprimer d'autres applications, <code>REBOOT</code> , qui vous permet de red√©marrer le syst√®me, et <code>READ_FRAME_BUFFER</code> , qui permet un acc√®s direct au contenu de l'√©cran.  Ces autorisations ont <em>un niveau de protection de signature</em> , c'est-√†-dire que l'application essayant d'y acc√©der doit √™tre sign√©e avec la m√™me cl√© que l'application ou le service dans lequel elles sont impl√©ment√©es - dans ce cas, puisque ces autorisations sont impl√©ment√©es par le syst√®me, la cl√© avec laquelle elle est sign√©e Version Android </p><br><p>  Pour stocker des donn√©es modifiables, chaque application se voit attribuer un dossier dans <code>/data/data</code> (par exemple, <code>/data/data/com.google.android.youtube</code> pour YouTube).  Seule l'application elle-m√™me a acc√®s √† ce dossier, c'est-√†-dire uniquement l'UID sous lequel cette application est lanc√©e (si l'application utilise plusieurs UID ou si plusieurs applications utilisent un UID commun, tout peut √™tre plus compliqu√©).  Dans ce dossier, les applications enregistrent les param√®tres, le cache (dans les sous-dossiers <code>shared_prefs</code> et <code>cache</code> , respectivement) et toutes les autres donn√©es dont ils ont besoin: </p><br><pre> <code class="markdown hljs"><span class="hljs-section"><span class="hljs-section"># ls /data/data/com.google.android.youtube/ cache code_cache databases files lib no_backup shared_prefs # cat /data/data/com.google.android.youtube/shared_prefs/youtube.xml &lt;?xml version='1.0' encoding='utf-8' standalone='yes' ?&gt; &lt;map&gt; &lt;string name="user_account"&gt;username@gmail.com&lt;/string&gt; &lt;boolean name="h264_main_profile_supported7.1.2" value="true" /&gt; &lt;int name="last_manual_video_quality_selection_max" value="-2" /&gt; &lt;...&gt; &lt;/map&gt;</span></span></code> </pre> <br><p>  Le syst√®me conna√Æt l'existence du dossier de <code>cache</code> et peut le nettoyer seul s'il n'y a pas assez d'espace.  Lorsque vous d√©sinstallez l'application, le dossier entier de cette application est compl√®tement supprim√© et l'application ne laisse aucune trace.  Alternativement, les deux utilisateurs peuvent explicitement faire dans les param√®tres: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/nz/a7/tw/nza7tw-1zno64k_jos3dtwoct9g.jpeg"></a> </p><br><p>  Ce stockage de donn√©es allou√© √† chaque application est appel√© stockage interne. </p><br><p>  De plus, Android dispose d'un autre type de stockage - le stockage dit <strong>externe</strong> ( <strong>stockage</strong> externe - ce nom refl√®te l'id√©e originale que le stockage externe devrait √™tre situ√© sur une carte SD externe ins√©r√©e dans le t√©l√©phone).  En fait, le stockage externe joue le r√¥le du <strong>dossier</strong> de d√©part de l' <strong>utilisateur</strong> - des dossiers tels que Documents, T√©l√©chargement, Musique et Images s'y trouvent, c'est le stockage externe que les gestionnaires de fichiers ouvrent comme dossier par d√©faut, il permet √† l'ordinateur d'acc√©der au contenu du stockage externe lorsqu'il est connect√© par c√¢ble. </p><br><pre> <code class="markdown hljs"><span class="hljs-section"><span class="hljs-section"># ls /sdcard Alarms Download Podcasts Android Movies Ringtones Books Music Subtitles DCIM Notifications bluetooth Documents Pictures</span></span></code> </pre> <br><p>  Contrairement au stockage interne, divis√© en dossiers d'applications individuelles, le stockage externe est une ¬´zone commune¬ª: toute application qui a re√ßu l'autorisation appropri√©e de l'utilisateur y a un acc√®s complet.  Comme je l'ai mentionn√© dans un article pr√©c√©dent, les applications telles que le gestionnaire de fichiers doivent demander cette autorisation;  et pour la plupart des autres applications, il est pr√©f√©rable d'utiliser l'intention avec l'action <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>ACTION_GET_CONTENT</code></a> , donnant √† l'utilisateur la possibilit√© de choisir le fichier souhait√© dans le gestionnaire de fichiers syst√®me. </p><br><p>  De nombreuses applications pr√©f√®rent enregistrer certains de leurs fichiers internes, qui sont volumineux (par exemple, un cache d'images t√©l√©charg√©es et de fichiers audio) dans un stockage externe.  Pour ce faire, Android alloue aux applications dans des dossiers de stockage externes avec des noms de la forme <code>Android/data/com.google.android.youtube</code> .  L'application elle <em>-</em> m√™me <em>n'a pas besoin d'</em> autorisation pour acc√©der √† l'int√©gralit√© du stockage externe pour acc√©der √† ce dossier (puisque son UID est d√©fini comme propri√©taire de ce dossier), mais toute autre application qui a cette autorisation peut acc√©der √† ce dossier, donc cela vaut vraiment la peine d'√™tre utilis√© Uniquement pour le stockage de donn√©es publiques et non critiques.  Lorsque vous d√©sinstallez l'application, le syst√®me supprimera √©galement son dossier sp√©cial dans le stockage externe;  mais les fichiers cr√©√©s par des applications dans un stockage externe en dehors de leur dossier sp√©cial sont consid√©r√©s comme appartenant √† l'utilisateur et restent en place apr√®s la suppression de l'application qui les a cr√©√©s. </p><br><p>  Comme je l'ai mentionn√© ci-dessus, il √©tait initialement suppos√© que le stockage externe serait en fait situ√© sur une carte SD externe, car √† ce moment-l√†, le volume des cartes SD √©tait consid√©rablement plus √©lev√© que la quantit√© de m√©moire int√©gr√©e dans les t√©l√©phones (dans le m√™me HTC Dream, il n'√©tait que de 256 m√©gaoctets, dont environ 90 m√©gaoctets ont √©t√© allou√©s √† la section des <em>donn√©es</em> ).  Depuis lors, de nombreuses conditions ont chang√©;  les t√©l√©phones modernes n'ont souvent pas de fente pour carte SD, mais une √©norme quantit√© de m√©moire interne est install√©e par les normes mobiles (par exemple, dans le Samsung Galaxy Note 9, elle peut aller jusqu'√† 512 <em>gigaoctets</em> ). </p><br><p>  Par cons√©quent, dans Android moderne, le stockage interne et externe sont presque toujours situ√©s dans la m√©moire interne.  Le chemin r√©el le long duquel le stockage externe est situ√© dans le syst√®me de fichiers prend la forme <code>/data/media/0</code> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un</a> stockage externe s√©par√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est cr√©√©</a> pour chaque utilisateur du p√©riph√©rique, et le num√©ro dans le chemin correspond au num√©ro d'utilisateur).  Pour des raisons de compatibilit√©, le stockage externe est √©galement accessible via les <code>/sdcard</code> , <code>/mnt/sdcard</code> , <code>/storage/self/primary</code> , <code>/storage/emulated/0</code> , plusieurs chemins commen√ßant par <code>/mnt/runtime/</code> et quelques autres. </p><br><p>  D'un autre c√¥t√©, de nombreux appareils ont toujours un emplacement pour carte SD.  La carte SD ins√©r√©e dans l'appareil Android peut √™tre utilis√©e comme un disque externe ordinaire (sans la transformer en stockage interne ou externe du syst√®me) - enregistrez-y des fichiers, ouvrez des fichiers stock√©s dessus, utilisez-la pour transf√©rer des fichiers vers d'autres appareils, etc.  De plus, Android vous permet ¬´d'emprunter¬ª une carte SD et d'y placer du stockage interne et externe (c'est ce qu'on appelle le stockage emprunt√© - <strong>stockage adopt√©</strong> ).  Dans le m√™me temps, le syst√®me reformate la carte SD et chiffre son contenu - les donn√©es qui y sont stock√©es ne peuvent pas √™tre lues en la connectant √† un autre appareil. </p><br><p><img src="https://habrastorage.org/webt/rg/_o/ll/rg_ollklgpm44_ixtasfjhowl-a.png"></p><br><p>  Vous pouvez en savoir plus sur tout cela, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans cet article</a> et dans la documentation officielle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pour les d√©veloppeurs d'applications</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les cr√©ateurs d'assemblages Android</a> . </p><br><h2 id="zagruzka">  Chargement </h2><br><p>  L'approche traditionnelle de la s√©curit√© des syst√®mes informatiques se limite √† prot√©ger le syst√®me contre les attaques logicielles.  On pense que <strong>si un attaquant a un acc√®s physique √† un ordinateur, le jeu est d√©j√† perdu</strong> : il peut avoir un acc√®s complet √† toutes les donn√©es qui y sont stock√©es.  Pour ce faire, il lui suffit, par exemple, d'ex√©cuter sur cet ordinateur un syst√®me d'exploitation arbitraire contr√¥l√© par lui, qui lui permet de contourner toutes les restrictions impos√©es par le syst√®me "principal" de droits, ou de connecter directement le disque de donn√©es √† un autre appareil.  Si vous le souhaitez, un attaquant peut laisser l'ordinateur en √©tat de fonctionnement, mais corriger le syst√®me install√© sur celui-ci, installer des portes d√©rob√©es arbitraires, des enregistreurs de frappe, etc. </p><br><p>  C'est la protection contre les attaques logicielles qui se concentre sur le mod√®le de restriction des droits des utilisateurs sous Unix (et la technologie sandbox de l'application bas√©e sur celle-ci dans Android);  La restriction Unix en soi ne prot√®ge pas le syst√®me contre un utilisateur qui s'est rendu dans la salle des serveurs et a obtenu un acc√®s physique √† l'ordinateur.  Et si des serveurs multi-utilisateurs s√©rieux peuvent et doivent √™tre prot√©g√©s contre tout acc√®s physique non autoris√© aux ordinateurs personnels - et en particulier aux appareils mobiles - cette approche n'est tout simplement pas applicable. </p><br><p>  Il y a deux fa√ßons d'essayer d'am√©liorer la situation avec une protection contre un attaquant qui a obtenu un acc√®s physique √† l'appareil: </p><br><ul><li>  Premi√®rement, il est possible de <strong>crypter les donn√©es stock√©es sur un disque</strong> , emp√™chant ainsi un attaquant d'acc√©der aux donn√©es lui-m√™me, m√™me s'il a acc√®s au contenu du disque. </li><li>  Deuxi√®mement, il est possible de <strong>limiter en</strong> quelque sorte <strong>la capacit√© de charger des syst√®mes d'exploitation arbitraires sur l'appareil</strong> , for√ßant un attaquant √† passer par des proc√©dures d'authentification et d'autorisation dans le syst√®me install√©. </li></ul><br><p>  C'est √† ces deux zones de protection que le mod√®le de d√©marrage s√©curis√© sous Android est associ√©. </p><br><h3 id="verified-boot">  D√©marrage v√©rifi√© </h3><br><p>  Le processus de d√©marrage Android est con√ßu de sorte que, d'une part, il ne permet pas aux attaquants de charger un syst√®me d'exploitation arbitraire sur l'appareil, d'autre part, il permet aux utilisateurs d'installer des assemblages Android personnalis√©s (et d'autres syst√®mes). </p><br><p>  Tout d'abord, les appareils Android, contrairement aux ordinateurs de bureau, ne permettent g√©n√©ralement pas √† un utilisateur (ou √† un attaquant) de d√©marrer √† partir d'un support externe;  √† la place, le <strong>chargeur de d√©marrage</strong> install√© sur le p√©riph√©rique (chargeur de d√©marrage) d√©marre imm√©diatement.  Bootloader est un programme relativement simple dont les t√¢ches (lors du chargement en mode normal) comprennent: </p><br><ul><li>  initialisation et configuration de Trusted Execution Environment (par exemple ARM TrustZone), </li><li>  trouver des partitions de m√©moire interne qui stockent des images du noyau Linux et des initramfs, </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> v√©rification de leur int√©grit√© (int√©grit√©) - sinon le t√©l√©chargement est interrompu par un message d'erreur - en v√©rifiant la signature num√©rique du constructeur, </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> charger le noyau et initramfs dans la m√©moire et transf√©rer le contr√¥le au noyau. </font></font></li></ul><br><h3 id="flashing-unlocking-fastboot-i-recovery"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Clignotement, d√©verrouillage, d√©marrage rapide et r√©cup√©ration </font></font></h3><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> De plus, le chargeur de d√©marrage prend en charge des fonctionnalit√©s suppl√©mentaires pour la mise √† jour et la r√©installation du syst√®me. </font></font></p><br><p> -,       (Android)   ,  <strong>recovery</strong> .  recovery,    Android-  ,           ,    Android  <em> recovery</em> . </p><br><p>      ¬´¬ª bootloader',       ‚Äî   ( <strong>flashing</strong> )           .   bootloader       ,   fastboot mode (   bootloader mode),        bootloader'      <strong>fastboot</strong> (    <code>fastboot</code>  Android SDK   ). </p><br><p>   bootloader'   .     ,   Samsung,    bootloader'a (Loke)        (Odin).    Odin          Samsung (   Odin),      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Heimdall</a> . </p><br><p>      bootloader' (       ),      recovery   Android,    ,     : </p><br><pre> <code class="markdown hljs">$ fastboot flash recovery recovery.img $ fastboot flash boot boot.img $ fastboot flash system system.img</code> </pre> <br><p>      ;        : ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>  </strong></a> ,   bootloader'     Android,      ,      ,          ,      . </p><br><p>  ,    <strong> bootloader'</strong> (unlocking the bootloader,    OEM unlock) ‚Äî   bootloader'    recovery,         (     ).        Android,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>LineageOS</strong></a> ( <strong>CyanogenMod</strong> ), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Paranoid Android</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AOKP</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OmniROM</a>  . </p><br><p>   bootloader' -       ,         (  <em>data</em> ) <strong> </strong> .     ,   ,          (,      Google      ),   ‚Äî    ,       . </p><br><p> <a href=""><img src="https://habrastorage.org/webt/sb/_q/3k/sb_q3kyv1pigm9j1wmi2vhu7lwa.png"></a> </p><br><p>     recovery   bootloader   ,            . </p><br><p>   bootloader'         : </p><br><p> <a href=""><img src="https://habrastorage.org/webt/rz/a6/sf/rza6sf4m3cprxkxymn41msgoaq0.jpeg"></a> </p><br><p>   recovery,    ¬´¬ª (flashaholics) ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TWRP</a> (Team Win Recovery Project).   -    ¬´¬ª,            zip-,           : </p><br><p> <a href=""><img src="https://habrastorage.org/webt/fo/rr/o_/forro_lz3skkvzytylekedddcli.png"></a> </p><br><h3 id="shifrovanie-diska">   </h3><br><p>   Android     ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>file-based encryption</strong></a> ).       ext4  ,    Linux ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fscrypt</a> ),          . </p><br><p>       ,    <em>data</em> ,   ,            (credential encrypted storage).  ,          ,         .                ,     ,     . </p><br><p> <a href=""><img src="https://habrastorage.org/webt/2f/4j/y8/2f4jy8m3qevncs1084-vvpqdku4.png"></a> </p><br><p>    credential encrypted storage  Android   device encrypted storage ‚Äî     ,     (    Trusted Execution Environment). ,   ,     ,    .     ,   <strong>Direct Boot</strong> :           ;         ( )     device encrypted storage,        ,     . , Direct Boot        ,   ,      -      . </p><br><h2 id="root"> Root </h2><br><p>   root- ‚Äî       ¬´ root¬ª (UID 0,    <strong></strong> ). ,  root ‚Äî    Unix-,  ‚Äî     ‚Äî       ,        . </p><br><p>       , Android     ,  <strong>        root-</strong> .       ,          ¬´  ¬ª,  Android  ¬´ ¬ª,    root-     ¬´¬ª,  : </p><br><ul><li>    ‚Äî      ,    APK   , </li><li>    : -, email-, ,  , ,   ,   ,       (      activity  intent',      ), </li><li>      (icon packs), </li><li>      ,     , </li><li>     (    Android-)        , </li><li>  ,    Android,      . </li></ul><br><p><img src="https://habrastorage.org/webt/np/pl/rh/npplrhnnumsl4ssb2vitzojmcqi.png"></p><br><p> ,   ,      , root-  .      root-        (   ),  <strong>   Android       root</strong> . ,     ,      Unix-;  shell,      <code>adb shell</code> ,        Unix- <em>shell</em> . </p><br><p>   , ,  root  : </p><br><ul><li> -, root-     Android  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong></strong></a> ‚Äî    Android Studio     QEMU,             . <img src="https://habrastorage.org/getpro/habr/post_images/afa/9d4/6c3/afa9d46c303ccf673c839b29aff9fe97.gif"></li><li> -, root-        Android ( <strong>pre-rooted</strong> ROMs). </li><li> -,  <strong> bootloader'</strong> root-    Android   ,    ,   <code>su</code> ,  bootloader. </li><li>   , -, <strong>   ,   </strong> ,    root-,   (   root-          ). ,        2016 ,   root-  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dirty Cow</a> . </li></ul><br><p>     ? , root-       .  ,  root-,    ,   ,     .        ‚Äî ,            .  ,     ,      <em>system</em> (     ). </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   </a> , root-   <strong>      </strong> ‚Äî  ,       . </p><br><h3 id="problemy-root-dostupa">  root- </h3><br><blockquote> With great power comes great responsibility. </blockquote><p>       ,           .  ,  root-          . </p><br><p> ,         ,   .   ,   root-       , ,  ,    root-   .      root, ,  , ,  <strong>       </strong> ‚Äî  ,   ,   ,    .. </p><br><p>        ,          Unix, Android   ,        ‚Äî      .   <strong>   root-</strong> , ,        . , root-      Android,               . </p><br><p>   ,  <strong>    ,    root-</strong> ,                . ,  ,   , ,  ,       .  ,      ‚Äî , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Google Pay</a> ( Android Pay) ‚Äî  <strong>     root-</strong> ,    . </p><br><p><img src="https://habrastorage.org/webt/4h/qx/9g/4hqx9gfx2cobrrbikc6xhzzbobi.jpeg"></p><br><p> , -   Pok√©mon GO     root- , ,        . </p><br><h3 id="google-play-i-root-dostup"> Google Play  root- </h3><br><p> Google    Google Play Store  Google Play Services   ,  root- ,    Android     , , ,       ,          .   Play Store ‚Äî     (   ,    )    Android,        . (   ‚Äî , Amazon    Android   Fire OS    ‚Äî Echo, Fire TV, Fire Phone, Kindle Fire Tablet ‚Äî       Google).   root-       Android-. </p><br><p>     , Google   ,    root-,   Google Play (         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Open GApps</a> );   Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ,             <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> . </p><br><blockquote> Device manufacturers work with Google to certify that Android devices with Google apps installed are secure and will run apps correctly. To be certified, a device must pass Android compatibility tests. If you are unable to add a Google Account on your Android device, your Android device software might not have passed Android compatibility tests, or the device manufacturer has not submitted the results to Google to seek approval. As a result, your device is uncertified. This means that your device might not be secure. <br><br> If you are a User wanting to use custom ROMs on your device, please register your device by submitting your Google Services Framework Android ID below. </blockquote><br><h3 id="ogranichenie-dostupa-kroot">    root </h3><br><p>  ¬´¬ª Linux,     Unix-,   root- (   <code>sudo</code>  <code>su</code> )     ( ,   Unix- root,        )     (,    ).         ,            root-. </p><br><p> <a href=""> </a>  <code>su</code>  Android Open Source Project     ,     Unix- <em>shell</em> (  root),       root-.    <code>su</code>      , ,    ,     . </p><br><p>        ,     <code>su</code> .     <code>su</code>     ,        root-.         , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SuperSU</a> ;           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Magisk</a> . </p><br><p><img src="https://habrastorage.org/webt/ln/dk/s_/lndks_ju4haxlsnfbh8xpvofhek.png"></p><br><h3 id="magisk"> Magisk </h3><br><p>   Magisk ‚Äî      ,       ,    <code>/system</code> ,        <em>system</em> (   <strong>systemless-ly</strong> ), <a href="">    ¬´¬ª Linux</a> .    <strong>Magisk Hide</strong> ‚Äî        root-,         root-   Magisk   ‚Äî    -            Google Pay,     root- . Magisk Hide         root-,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>SafetyNet</strong></a>  Google. </p><br><p>    <em> </em> ,  ,      Google Pay  root-        ‚Äî      root-   . ,    root-, -            Google Pay.    ,       . </p><br><p> Magisk  systemless-    ¬´¬ª   <strong>Magisk Modules</strong> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>     Magisk.    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, </a> ,  root- Xposed  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ViPER</a> ,        . </p><br><h2 id="soc-drayvera-i-fragmentaciya"> SoC,    </h2><br><h3 id="sistemy-na-kristalle">    </h3><br><p>          <strong> </strong> ,       ¬´¬ª,      ,        ‚Äî ,    ‚Äî    (,    Wi-Fi ). </p><br><p>     ,   Android-    <strong>  </strong> (system on a chip, SoC).         ‚Äî  ,   ,  -,  , LTE-, Bluetooth-  Wi-Fi-  .. ‚Äî        .         ,     ,             ,        ,      ,          . </p><br><p> , ,       .      ,     ¬´¬ª, , ,   ,       . ,  ,  -,      ,        ,  ,      . </p><br><h3 id="o-drayverah">   </h3><br><p>  ‚Äî       Android ‚Äî  SoC        .     ,    ,      ‚Äî    LTE- ‚Äî      .      , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">             ;  ,       </a> ,            . </p><br><p>    SoC (, Qualcomm)      Android- (, Sony  LG),       Android,     Android Open Source Project.   ,   Android,    ,       ,          . </p><br><p>     Android          Android-.         ,           Android.        Android     ,  ,            .             . </p><br><h3 id="fragmentaciya">  </h3><br><p>    ,   <strong></strong> :  Android       ‚Äî      ,     .           Android,              . </p><br><p> ,    ,             ,     Android.         . </p><br><p> -,  <strong></strong> .       ,      .      ,     ,   ,  ,     . </p><br><p> -,        Android ‚Äî    <strong>developer experience</strong> (DX,    user experience/UX).  ,              Android,    API ‚Äî Android Framework, OpenGL/Vulkan   ‚Äî      .   , ,   ,               Android ‚Äî   ,   ,     . </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/aca/68a/fed/aca68afed91e22f1ab449a9b54c83ba5.jpg"></a> </p><br><h3 id="dont-stop-thinking-abouttomorrow"> Don't Stop Thinking About Tomorrow </h3><br><p>     Android-         . , Google      Nexus  Pixel   ,     Android.       Android      ,  ,   ,     . </p><br><p>  ,    ,   Android,    SoC. Android       ¬´¬ª  (, ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Android-x86</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RemixOS</a> ).   Android   ChromeOS,   Chromebook'  Android-   Linux-  -.   ‚Äî    Android   ‚Äî   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Anbox</a> ,   Android-  ¬´¬ª Linux-. (,  Android-     x86-,   ,     Java,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>    .) </p><br><p><img src="https://habrastorage.org/webt/p4/6q/e0/p46qe0opbvxrwdru85-3py3pgw0.png"></p><br><p>    ,    Android          ‚Äî   ,     Android  . </p><br><p>       ‚Äî   <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> </strong>       Android.   ,  ,    .    ,      <strong> </strong> ,    Android           . </p><br><p>     .  2017  Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> <strong>Project Treble</strong> ‚Äî ,    (     HAL, hardware abstraction layer)    (  ,    )    . Treble <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>     ,   ,     ,   ‚Äî     ‚Äî     . </p><br><p> <strong>Treble    </strong>        .  Treble      (Sony, Nokia, OnePlus, Oppo, Xiaomi, Essential  Vivo ‚Äî      Google) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>  - Android Pie. Treble <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> Essential    Android Pie   Essential Phone <em>   </em> Android Pie.      Android ‚Äî          -  ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  </a>   ,  Treble,   ,         SoC. </p><br><p>  Treble   . Java   ¬´write once, run everywhere¬ª    ‚Äî       Android-       . Treble ‚Äî  ,        Android      SoC.    ,       ,   Treble.  ,        Android-  . </p><br><hr><br><p>         userspace Android:   init,  Zygote, Binder,   props. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427431/">https://habr.com/ru/post/fr427431/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427419/index.html">Que faire lorsque le processeur n'a rien √† faire?</a></li>
<li><a href="../fr427421/index.html">Comment les sites de g√©n√©alogie facilitent la capture des tueurs</a></li>
<li><a href="../fr427423/index.html">City2Share: voitures √©lectriques et autonomes dans les p√¥les logistiques de Munich</a></li>
<li><a href="../fr427427/index.html">Comment ils arrivent √† l'informatique: √† propos des stagiaires et des joons (r√©sultat du sondage ¬´My Circle¬ª)</a></li>
<li><a href="../fr427429/index.html">Framework GUI - par thread</a></li>
<li><a href="../fr427433/index.html">√âquilibrage du trafic dans les r√©seaux IP de l'op√©rateur</a></li>
<li><a href="../fr427435/index.html">STM32H7 - r√©glage de l'horloge sans HAL</a></li>
<li><a href="../fr427437/index.html">Configuration des serveurs li√©s: serveur sql ms et teradata</a></li>
<li><a href="../fr427439/index.html">Toute la v√©rit√© sur RTOS. Article # 16. Signaux</a></li>
<li><a href="../fr427441/index.html">Convergence avec Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>