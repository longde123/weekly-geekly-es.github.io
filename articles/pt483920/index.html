<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöè üôçüèª üè® Caos na depend√™ncia do Python ‚úä üìª üßúüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Voc√™ est√° familiarizado com a hist√≥ria dos pacotes Python? Voc√™ navega em formatos de pacotes? Voc√™ sabe que ter√° que desvendar o emaranhado de depend...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Caos na depend√™ncia do Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/483920/"> Voc√™ est√° familiarizado com a hist√≥ria dos pacotes Python?  Voc√™ navega em formatos de pacotes?  Voc√™ sabe que ter√° que desvendar o emaranhado de depend√™ncias, mesmo que pare√ßa um milagre - depend√™ncia zero?  Estou certo de que eles n√£o est√£o t√£o familiarizados com tudo isso quanto o autor da biblioteca DepHell. <br><br><img src="https://habrastorage.org/webt/zp/dv/ao/zpdvaohc2qflukqaxxduyl7rxmu.png"><br><br>  Consegui conversar com <b>Nikita Voronov</b> , mais conhecido como Gram ou <a href="https://habr.com/ru/users/orsinium/" class="user_link">orsinium</a> , e perguntar a ele sobre o t√≥pico de um relat√≥rio futuro, as dores das solu√ß√µes de resolu√ß√£o de depend√™ncias ruins, DepHell, pip, o primeiro f√≥sforo vence o princ√≠pio, desenvolvimento incremental Guido, Pipfile, Python e o futuro do ecossistema. <br><a name="habracut"></a><br>  <b>- No Moscow Python Conf ++, voc√™ conversar√° sobre depend√™ncias e tudo o que est√° ao lado delas.</b>  <b>Por que voc√™ escolheu exatamente esse t√≥pico para o relat√≥rio?</b> <br><br>  Porque esta pergunta passa por toda a minha experi√™ncia com Python.  Quando criei meu primeiro pacote, escrevi o primeiro c√≥digo, pensei em como ajudar outras pessoas para que eles pudessem instal√°-lo e fiz o setup.py.  Depois, ele trabalhou em uma empresa, em outra, em um terceiro, a tarefa foi complicada e desenvolvida.  No come√ßo, havia apenas um arquivo requirements.txt, ent√£o percebi que precisava corrigir as depend√™ncias, pip-tools, um arquivo de bloqueio apareceu.  Mais tarde, adquirimos Pipenv e depois Poesia. <br><br>  Gradualmente, mais e mais problemas foram se abrindo, eu estava me afundando mais neste caos.  Como resultado, comecei a implementar o <a href="https://github.com/dephell/dephell">DepHell</a> , um projeto para gerenciar depend√™ncias que podem resolv√™-las e l√™-las em um formato diferente.  Enquanto eu trabalhava com todos os tipos de formatos, j√° tinha visto o interior deles o suficiente e agora sei o quanto est√° organizado por dentro, mas todos os dias aprendo algo novo.  Portanto, posso lhe contar muitas coisas interessantes sobre dor e m√°s decis√µes. <br><br>  <b>- A dor √© sempre interessante.</b>  <b>Quais s√£o os problemas agora nesta parte do Python?</b> <br><br>  JS possui um diret√≥rio <code>node_modules</code> e cada depend√™ncia possui suas pr√≥prias depend√™ncias empilhadas dentro dele.  Em Python, este n√£o √© o caso.  Por exemplo, um pacote est√° instalado no mesmo ambiente e todos os pacotes que o utilizam usam a mesma vers√£o deste pacote.  Para fazer isso, voc√™ precisa resolver corretamente as depend√™ncias - escolha a vers√£o deste pacote que atender√° geralmente a todos os pacotes desse ambiente.  A tarefa √© bastante trivial: os pacotes dependem um do outro, tudo est√° interligado e a resolu√ß√£o de depend√™ncias √© dif√≠cil.  Praticamente n√£o h√° resolvedores no Python.  O resolvedor inteligente est√° apenas em Poesia e DepHell. <br><br>  Tudo isso √© muito complicado pelo fato de o pypi.org geralmente n√£o fornecer informa√ß√µes sobre depend√™ncias de pacotes, porque essas informa√ß√µes devem ser especificadas pelo cliente, o servidor PyPI n√£o pode descobrir sozinho.  Portanto, quando o PyPI diz que o pacote n√£o tem depend√™ncias, voc√™ n√£o pode confiar nele.  Voc√™ precisa baixar o release inteiro, descompactar e analisar as depend√™ncias do pacote em setup.py.  Como √© um processo longo, o resolvedor em Python n√£o pode ser r√°pido. <br><br><blockquote>  Al√©m de haver poucos resolvedores no Python, eles tamb√©m s√£o lentos por design. </blockquote><br>  No meu <a href="https://conf.python.ru/moscow/2020/abstracts/6254">relat√≥rio</a> , quero dizer como a resolu√ß√£o do DepHell funciona: como criar um gr√°fico de depend√™ncia, como esse gr√°fico se parece, por que a maioria dos artigos cient√≠ficos se baseia em como resolver depend√™ncias e trabalhar com esse gr√°fico.  Obviamente, existem documentos t√©cnicos sobre como tudo isso deve funcionar.  Pessoas inteligentes escreveram artigos com algoritmos, mas na maioria das vezes n√£o funcionam no Python.  Portanto, descreverei como trabalho com resolu√ß√£o de depend√™ncia na pr√°tica no DepHell. <br><br>  <b>- Costumo ouvir de programadores que eles usam pip, e tudo funciona bem para eles.</b>  <b>O que eles est√£o fazendo de errado?</b> <br><br>  Eles t√™m sorte, n√£o se deparam com um conflito de depend√™ncias.  Embora o problema possa surgir quando voc√™ coloca apenas dois pacotes em um ambiente limpo.  Recentemente, houve um lan√ßamento do pacote de cobertura 5.0 e, se voc√™ especificar apenas os <code>pip install pytest-cov coveralls</code> pip, o pip ficar√° em ordem e o primeiro pacote selecionar√° a vers√£o mais recente da cobertura, ou seja, 5.0.  O princ√≠pio da <b>primeira partida ganha</b> funciona no pip, portanto, mesmo que a vers√£o n√£o seja compat√≠vel com o segundo pacote, ela j√° ser√° corrigida para o primeiro pacote.  Muitas vezes, essa abordagem funciona, mas nem sempre. <br><br>  Al√©m disso, h√° uma pergunta com ambientes reproduz√≠veis.  Como o pip sempre coloca a vers√£o mais recente, as vers√µes no ambiente local e na produ√ß√£o podem ser diferentes.  Para resolver esse problema, √© habitual corrigir as depend√™ncias.  E quando as depend√™ncias j√° estiverem corrigidas, as vers√µes espec√≠ficas que o pip deve instalar s√£o indicadas e o pip j√° funciona bem.  O Pip n√£o possui um resolvedor, mas o faz quando outra pessoa resolve depend√™ncias para ele, como DepHell ou Poetry. <br><br>  <b>- Por que esse t√≥pico agora est√° ganhando tanta relev√¢ncia, como voc√™ pensa?</b>  <b>Por que nada aconteceu antes, mas agora se foi, e mesmo em dire√ß√µes diferentes?</b> <br><br>  Primeiro, o ecossistema Python est√° crescendo.  Existem mais pacotes, eles precisam ser instalados mais e muito mais problemas surgem.  Em segundo lugar, os problemas com os formatos de arquivo existem h√° muito tempo e s√£o discutidos h√° muito tempo. <br><br>  Setup.py √© geralmente imposs√≠vel de analisar, s√≥ pode ser executado.  Se quisermos, por exemplo, escrever um servidor no Go para distribuir rapidamente pacotes para o Python, n√£o podemos simplesmente pegar e ler o setup.py, porque √© um arquivo execut√°vel.  Dessa forma, para execut√°-lo, voc√™ precisa de Python e de um ambiente completo, e geralmente tamb√©m para que todo o projeto esteja pr√≥ximo e que algumas depend√™ncias espec√≠ficas sejam instaladas.  Al√©m de todas essas dificuldades, a execu√ß√£o de setup.py pode ser perigosa, porque algum outro c√≥digo ser√° executado no seu computador.  Na verdade, √© assustador at√© executar c√≥digo de baixo do usu√°rio atual, porque, por exemplo, se ele recebe minha chave SSH privada e a envia para algum lugar, ser√° uma grande trag√©dia. <br><br>  A segunda op√ß√£o para definir depend√™ncias, que existe h√° muito tempo e todos trabalham com ela, √© requirements.txt.  Tamb√©m √© quase imposs√≠vel analisar da mesma maneira.  O Pip pode, mas √© muito, muito dif√≠cil: as fun√ß√µes que chamam de fun√ß√µes, iteradores, tudo √© misturado.  Al√©m disso, o pip pode ler algumas de suas chaves em requirements.txt, por exemplo, um √≠ndice para download pode ser especificado.  Mas isso n√£o funciona com todas as chaves. <br><br>  Portanto, para analisar o arquivo requirements.txt, √© necess√°rio usar o pip ou alguma solu√ß√£o de terceiros.  Todas as solu√ß√µes de terceiros s√£o essencialmente garfos e usam algum tipo de suposi√ß√£o sobre o arquivo.  Nem todo arquivo de requisitos exigidos do.txt.txt pode ler esses garfos. <br><br>  O pr√≥prio Pip n√£o se destina a ser usado como uma biblioteca.  Essa √© uma ferramenta exclusivamente da CLI que pode ser usada apenas no console.  Todo o c√≥digo-fonte do pip est√° oculto por tr√°s do <code>_internal</code> , e os desenvolvedores dizem diretamente: ‚ÄúN√£o use isso!‚Äù.  E toda vers√£o quebra a compatibilidade com vers√µes anteriores.  Eles honestamente n√£o garantem compatibilidade e podem mudar qualquer coisa a qualquer momento.  E √© isso que acontece - toda vez que um novo lan√ßamento √© lan√ßado, eu aprendo sobre isso com um IC quebrado no DepHell. <br><br>  <b>- Que tal em outros idiomas?</b>  <b>√â t√£o ruim l√° ou todos esses problemas est√£o resolvidos em algum lugar?</b> <br><br>  <b>Guido van Rossum</b> recebeu <b>recentemente</b> o Pr√™mio Dijkstra.  Participei de suas palestras e perguntei sobre as depend√™ncias do Python.  Guido disse que o v√≠cio em todas as l√≠nguas √© um caos, ele tenta n√£o entrar l√° e confia na comunidade para resolver esse problema. <br><br>  Assim, no Python, o trabalho com depend√™ncias √© gradualmente organizado pela comunidade.  Novas solu√ß√µes est√£o surgindo.  Depois que o Distutils foi constru√≠do em Python, as pessoas perceberam que havia muitos problemas, ferramentas de instala√ß√£o complementares.  <code>easy_Install</code> foi desenvolvido posteriormente para instalar pacotes, mas tamb√©m teve problemas.  Para resolv√™-los, criou pip.  Agora o pip tem muitos problemas.  Suas fontes est√£o mudando constantemente, n√£o h√° arquitetura, n√£o h√° interface. <br><br>  A comunidade est√° tentando inventar alguma coisa.  Por exemplo, houve uma longa discuss√£o sobre o problema chamado requisitos 2.0 sobre como tornar os requisitos compreens√≠veis para as pessoas (aqui est√° a vers√£o, aqui est√£o os marcadores) e programaticamente a partir de outros idiomas. <br><br><blockquote>  Eles criaram um Pipfile, mas como o Pip √© muito confuso, eles n√£o puderam adicionar suporte ao Pipfile. </blockquote><br>  Os desenvolvedores querem fazer isso, √© claro.  Provavelmente, um dia eles ser√£o capazes, mas at√© agora o pip n√£o pode suportar o Pipfile.  Portanto, criamos o pipenv para trabalhar com o Pipfile e o ambiente virtual, alguns outros inv√≥lucros com o ambiente.  Mas no pipenv tamb√©m tudo √© confuso e confuso. <br><br>  Para outros idiomas, gosto de como o gerenciamento de depend√™ncias √© implementado no Go.  Anteriormente, n√£o havia vers√£o, havia <code>go get</code> , no qual voc√™ indica de qual reposit√≥rio qual pacote baixar.  Do ponto de vista de um iniciante, isso √© conveniente: voc√™ simplesmente escreve <code>go get</code> e o pacote j√° est√° no sistema.  E quando voc√™ come√ßa a trabalhar com o Python, um monte de tudo entra em colapso: algumas vers√µes, PyPI, pip, requirements.txt, setup.py, agora tamb√©m Pipfile, Poetry, <code>__pymodules__</code> , etc. <br><br>  √Ä medida que o Python evolui de forma incremental e com a ajuda da comunidade, o legado se acumula no ecossistema.  Go foi apenas <code>go get</code> , mas novamente surgiu o problema de que as depend√™ncias precisavam ser corrigidas para que, em particular, o ambiente fosse reprodut√≠vel. <br><br>  Um ambiente reproduz√≠vel pode ser criado usando um cont√™iner de docker com todas as depend√™ncias instaladas.  Mas √†s vezes voc√™ precisa atualizar depend√™ncias individuais.  Por exemplo, podemos n√£o estar prontos para atualizar tudo, porque o projeto n√£o possui testes suficientes para provar que, ap√≥s a atualiza√ß√£o, tudo ainda funciona.  Mas uma certa depend√™ncia pode precisar ser atualizada, porque, digamos, foi encontrada uma vulnerabilidade.  Para fazer isso, √© melhor n√£o ter uma imagem do docker, mas um arquivo que diz: "Instale uma vers√£o espec√≠fica de um pacote espec√≠fico". <br><br>  O Go n√£o existia e a venda apareceu: todas as depend√™ncias foram obtidas e colocadas em um diret√≥rio.  Esta √© uma solu√ß√£o suja, semelhante ao <code>node_modules</code> , que no Go foi implementado h√° algum tempo usando solu√ß√µes de terceiros.  No Python, essa abordagem tamb√©m √© usada, por exemplo, o pip possui um diret√≥rio de <code>vendor</code> .  Quando voc√™ instala o pip, as depend√™ncias n√£o s√£o feitas e voc√™ pode pensar que tudo √© muito legal e n√£o h√° depend√™ncias, mas, na verdade, elas est√£o todas dentro do <code>vendor</code> . <br><br>  H√° um ano, o go.mod (Go Modules) apareceu em Go.  Esta √© uma nova ferramenta interna, mas o <code>go get</code> tamb√©m <code>go get</code> suportado.  O projeto cont√©m dois arquivos: <br><br><ul><li>  um descreve as depend√™ncias com as quais o projeto trabalha diretamente; </li><li>  o outro √© um arquivo de bloqueio, que descreve absolutamente todas as depend√™ncias e suas vers√µes espec√≠ficas. </li></ul><br>  Esta √© uma solu√ß√£o centralizada legal. <br><br>  O que √© importante, eles insistem que certas coisas devem parecer de uma certa maneira.  Por exemplo, no Go, a vers√£o deve ser sem√¢ntica. <br><br>  O Python tamb√©m tem uma especifica√ß√£o sobre a apar√™ncia da vers√£o.  Para isso, existe o PEP 440. Mas, primeiro, a especifica√ß√£o √© muito complicada: n√£o h√° apenas tr√™s componentes de vers√£o (n√∫meros), mas tamb√©m pr√©-lan√ßamento, p√≥s-lan√ßamento e √©poca (quando o modo de versionamento muda).  Em segundo lugar, o PEP 440 n√£o foi aceito imediatamente, eles tamb√©m chegaram a ele de forma incremental, portanto, a vers√£o legada √© suportada, o que significa que qualquer coisa pode ser usada como a vers√£o - qualquer linha como "Hello world!". <br><br>  <b>- Voc√™ disse que a comunidade desenvolve a linguagem de forma incremental, para que haja um grande n√∫mero de solu√ß√µes.</b>  <b>Mas por que n√£o se livrar de todo esse lixo?</b>  <b>Por que n√£o jogar fora os Distutils, abandonar o antigo e desnecess√°rio que ningu√©m est√° usando e introduzir ativamente novas pr√°ticas e ferramentas?</b> <br><br>  Manter tudo isso faz sentido, para que voc√™ ainda possa instalar os pacotes antigos.  √â imposs√≠vel insistir que √© necess√°rio fazer exatamente isso, e n√£o o contr√°rio, porque a decis√£o √© tomada pela comunidade.  Nenhum dos desenvolvedores do Core Python vem e diz: "√â isso, estamos fazendo tudo agora e sem pregos". <br><br>  O Go tem tudo o que voc√™ precisa para trabalhar com depend√™ncias imediatamente.  No Python, voc√™ precisa reinstalar tudo de fora e ainda precisa entender o que exatamente.  Na maioria das vezes, o pip √© suficiente, mas agora outras op√ß√µes est√£o aparecendo. <br><br>  No site com recomenda√ß√µes oficiais de pacotes da Python Packaging Authority, o grupo que produz pip, pipenv, PyPI, ele foi escrito para usar o pipenv.  Com pipenv √© outra hist√≥ria.  Em primeiro lugar, tem baixa resolu√ß√£o.  Em segundo lugar, n√£o h√° lan√ßamentos h√° muito tempo e a comunidade j√° est√° esperando que os criadores admitam honestamente que este projeto est√° morto.  O terceiro problema com o pipenv √© que ele √© adequado apenas para projetos, mas n√£o para pacotes: voc√™ pode especificar depend√™ncias do projeto no pipenv, mas n√£o pode especificar seu nome, vers√£o e, portanto, coloc√°-lo em um pacote para download no PyPI.  Acontece que seguir as recomenda√ß√µes da Python Packaging Authority e usar o pipenv ainda n√£o √© suficiente para descobrir isso. <br><br>  A poesia est√° tentando ser revolucion√°ria.  Basicamente, ele n√£o gera o arquivo setup.py, o que seria √∫til para compatibilidade com vers√µes anteriores, porque o Poetry deseja ser o novo e √∫nico formato para tudo.  Ele sabe como coletar pacotes e possui um arquivo de bloqueio, necess√°rio para os projetos.  No entanto, a poesia tem muitas coisas estranhas, muitos recursos familiares n√£o s√£o suportados. <br><br>  <b>- O que voc√™ acha que √© o futuro do ecossistema em termos de trabalhar com depend√™ncias?</b>  <b>Sua previs√£o.</b> <br><br>  Tudo est√° mais ou menos melhorando.  Por exemplo, vi uma vaga no pip e um desenvolvedor que a coloca em ordem recebe muito dinheiro.  Talvez o pip se torne uma solu√ß√£o mais universal.  Mas voc√™ precisa de algu√©m para levar a s√©rio: venha e diga que estamos fazendo dessa maneira, agora estamos seguindo um PEP mais rigoroso e insistimos em sua observ√¢ncia (porque o PEP √© apenas uma recomenda√ß√£o de que ningu√©m realmente n√£o √© necess√°rio seguir). <br><br>  Por exemplo, tivemos uma hist√≥ria: uma certa vers√£o do PyYAML foi bloqueada no arquivo de bloqueio.  Um dia, os testes no IC s√£o aprovados, implantamos na produ√ß√£o e tudo cai l√°, porque a vers√£o PyYAML n√£o foi encontrada.  O problema era que a vers√£o bloqueada foi exclu√≠da do pypi.org.  Todo mundo ficou indignado, atualizou o arquivo de bloqueio, de alguma forma sobreviveu, mas o sedimento permaneceu. <br><br>  H√° pouco tempo, o PEP 592 apareceu; ele j√° foi adotado e √© mantido em pip, no qual apareceram lan√ßamentos arrancados.  Yank significa que a vers√£o ainda n√£o foi completamente removida do pypi.org - est√° oculta.  Ou seja, se voc√™ especificar que precisa, por exemplo, da vers√£o PyYAML maior que 3.0, o pip ignorar√° as vers√µes arrancadas e instalar√° as √∫ltimas dispon√≠veis.  Mas se uma vers√£o espec√≠fica for indicada no arquivo de bloqueio e essa vers√£o for arrancada, o pip o instalar√° de qualquer maneira.  Portanto, os arquivos de bloqueio e a implanta√ß√£o n√£o ser√£o interrompidos, mas, se poss√≠vel, a vers√£o antiga n√£o ser√° usada. <br><br>  A segunda coisa interessante √© o PEP para <code>__pymodules__</code> .  Estes s√£o ambientes virtuais leves: voc√™ abre o diret√≥rio do projeto, grava o <code>pip install</code> PyYAML e o PyYAML √© instalado n√£o globalmente, mas no diret√≥rio <code>__pymodules__</code> .  Quando o Python √© iniciado neste diret√≥rio, ele importa o PyYAML n√£o globalmente, mas desse diret√≥rio. <br><br>  Eu chamo isso de ambientes virtuais no m√≠nimo, porque h√° menos isolamento.  Por exemplo, n√£o h√° acesso aos arquivos bin√°rios.  Quando um ambiente virtual com o pytest instalado √© ativado, ele pode ser usado no console: basta escrever o pytest e fazer alguma coisa.  Com <code>__pymodules__</code> estar√£o dispon√≠veis para importa√ß√£o, mas n√£o os bin√°rios, pois eles n√£o ser√£o realmente instalados. <br><br>  Este PEP foi projetado para facilitar para iniciantes.  Para que eles n√£o precisem lidar com todos os meandros dos ambientes virtuais, basta instalar tudo o que voc√™ precisa em <code>__pymodules__</code> por meio da instala√ß√£o do pip. <br><br>  <b>- Bem, o futuro em sua previs√£o √© mais brilhante do que agora.</b> <br><br>  Sim, mas como eu disse, se ningu√©m vier e disser que estamos refazendo e tentando jogar fora o legado, os problemas permanecer√£o.  Agora estamos acumulando e acumulando ferramentas, e ser√° imposs√≠vel nos livrarmos completamente de qualquer uma delas no futuro pr√≥ximo. <br><br>  <b>- O que voc√™ acha, por que nenhum dos desenvolvedores pode atualizar depend√™ncias Quase em qualquer lugar - nem nas empresas nem no c√≥digo aberto - o processo de trabalhar com vers√µes de seguran√ßa, em princ√≠pio, com novas vers√µes menores ou maiores, foi constru√≠do.</b>  <b>Onde voc√™ v√™ os problemas aqui?</b> <br><br>  No m√≠nimo, quando voc√™ deseja atualizar depend√™ncias, √© assustador atualizar todas as depend√™ncias, porque n√£o √© fato que, mesmo se voc√™ passar nos testes, tudo funcionar√°.  Por exemplo, muitas vezes essa situa√ß√£o surge com o aipo, porque o aipo n√£o pode ser totalmente testado em testes.  Voc√™ pode bloquear algo, simplificar algo, mas o fato de os trabalhadores estarem em execu√ß√£o n√£o pode ser verificado. <br><br>  O trabalho Ir com testes est√° bem implementado, mesmo nos tutoriais do Go Modules est√° escrito como atualizar depend√™ncias: voc√™ atualiza determinadas depend√™ncias e executa testes.  Al√©m disso, os testes executam n√£o apenas o seu, mas tamb√©m essa depend√™ncia. <br><br>  Um aspecto interessante ainda vale a pena mencionar: os testes devem estar em pacotes em Python?  Quando voc√™ baixa um pacote do pypi.org, deve haver testes?  Em teoria, eles devem e at√© t√™m um mecanismo para execut√°-los: em setup.py, voc√™ pode especificar como executar testes, quais depend√™ncias eles t√™m. <br><br>  Mas, primeiro, muitas pessoas n√£o sabem como execut√°-las e n√£o executam testes dependentes.  Portanto, eles geralmente n√£o s√£o necess√°rios.  Em segundo lugar, geralmente esses testes t√™m equipamentos muito dif√≠ceis e, portanto, incluir testes em um pacote significa torn√°-lo 6 a 10 vezes maior. <br><br>  Seria √≥timo poder baixar um pacote com testes e sem testes.  Mas agora n√£o existe essa possibilidade, portanto os testes geralmente n√£o s√£o inclu√≠dos nos pacotes.  H√° um caos, e eu nem sei se √© poss√≠vel executar testes dessas depend√™ncias ao atualizar depend√™ncias. <br><br>  Esse aspecto parece ser negligenciado principalmente.  Por√©m, em alguns outros idiomas, em particular, o Go √© considerado uma boa pr√°tica, atualizando um pacote no ambiente, execute imediatamente testes para garantir que esse pacote funcione bem nesse ambiente. <br><br>  <b>- Por que, na sua opini√£o, no Python, as ferramentas para controle de vers√£o sem√¢ntico autom√°tico n√£o s√£o populares?</b> <br><br>  Eu acho que um dos problemas √© que a vers√£o pode ser descrita em muitos lugares.  Na maioria das vezes, existem tr√™s deles: o formato de descri√ß√£o dos metadados do projeto (pypi.org, poety, setup.py etc.), dentro do pr√≥prio projeto e na documenta√ß√£o.  Atualizar uma vers√£o em tr√™s lugares n√£o √© muito dif√≠cil, mas f√°cil de esquecer. <br><br>  O DepHell possui uma equipe para atualiza√ß√µes de vers√£o.  DepHell      , ,        .    semantic version, compatible version  ..  <a href="https://dephell.readthedocs.io/cmd-project-bump.html"></a> ,    ,    . <br><br>      Flit. Flit ‚Äî          ,      .    : <code>init</code> , <code>build</code> , <code>publish</code>  <code>install</code> .     ,  ,   PyPI     ‚Äî   .  Flit      ,        .       docstring  .       ,    . <br><br> DepHell     Flit   .        description,   ,   ,       . <br><br><blockquote>  ,      . </blockquote><br>  DepHell      <code>import</code> ,   ,   , ,        .           ,    ,    . <br><br><blockquote>    ,      <a href="https://conf.python.ru/moscow/2020">Moscow Python Conf++</a> 27 .  DepHell    backend, web,    , AI/ML, , DevOps,  , IoT, infosec      . , <a href="http://conf.ontico.ru/conference/join/mpc2020.html"> </a> ,   Moscow Python Conf++. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt483920/">https://habr.com/ru/post/pt483920/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt483910/index.html">Teoria da Informa√ß√£o Visual (Parte 1)</a></li>
<li><a href="../pt483912/index.html">O que h√° de novo a esperar do YouTrack em 2020?</a></li>
<li><a href="../pt483914/index.html">Convidamos voc√™ a DINS JavaScript EVENING: falamos sobre o design da API e resolvemos problemas usando tipos de dados alg√©bricos</a></li>
<li><a href="../pt483916/index.html">A DJI n√£o consegue corrigir aplicativos DJI Fly para Android 10 h√° um m√™s</a></li>
<li><a href="../pt483918/index.html">Treinamento Corporativo: L√≠deres Ensinam L√≠deres</a></li>
<li><a href="../pt483922/index.html">Casa inteligente sobre rodas ... Alice</a></li>
<li><a href="../pt483926/index.html">Three.js e geometria</a></li>
<li><a href="../pt483930/index.html">6 projetos de desenvolvimento web do GitHub que valem uma olhada</a></li>
<li><a href="../pt483934/index.html">Permiss√µes de arquivo do Linux</a></li>
<li><a href="../pt483936/index.html">Palestra sobre Desenvolvimento de Jogos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>