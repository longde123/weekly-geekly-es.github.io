<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤵🏾 🚶🏻 🥌 كيفية جعل روبوت يحول الصور إلى كاريكاتير: إرشادات خطوة بخطوة للدمى 🚂 🤠 🤷🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="الجزء الأول ، تستكمل. 
  الكوتان ، مرحبا. 
 أنا ساشا وانغمس في الخلايا العصبية. 

 بناءً على طلب العمال ، جمعت أخيرًا أفكاري وقررت جمع سلسلة من الإرشا...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>كيفية جعل روبوت يحول الصور إلى كاريكاتير: إرشادات خطوة بخطوة للدمى</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479218/" style=";text-align:right;direction:rtl">  <i>الجزء الأول ، تستكمل.</i> <i><br></i> <blockquote style=";text-align:right;direction:rtl">  الكوتان ، مرحبا. <br>  أنا ساشا وانغمس في الخلايا العصبية. <br><br>  بناءً على طلب العمال ، جمعت أخيرًا أفكاري وقررت جمع سلسلة من الإرشادات القصيرة والخطوة تقريبًا. <br><br>  إرشادات حول كيفية تدريب شبكتك العصبية ونشرها من نقطة الصفر ، وفي الوقت نفسه تكوين صداقات مع روبوت التلغراف. <br><br>  تعليمات لالدمى مثلي. </blockquote>  سنختار اليوم بنية شبكتنا العصبية ونختبرها ونجمع أول مجموعة بيانات تدريبية. <br><br><h2 style=";text-align:right;direction:rtl">  اختيار العمارة </h2><br>  بعد الإطلاق الناجح نسبياً <a href="https://t.me/selfie2animebot" rel="nofollow">لبوت selfie2anime</a> (باستخدام نموذج <a href="https://github.com/taki0112/UGATIT" rel="nofollow">UGATIT الجاهزة</a> ) ، أردت أن أفعل نفس الشيء ، لكنني.  على سبيل المثال ، نموذج يحول صورك إلى كاريكاتير. <br><br>  فيما يلي بعض الأمثلة من <a href="https://t.me/photo2comicsbot" rel="nofollow">photo2comicsbot</a> ، وسنفعل شيئًا مماثلاً. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/7h/yh/sk/7hyhskjvb1hhlhfyiytr5afcl4q.png"><br><img src="https://habrastorage.org/webt/5c/qd/av/5cqdavi7b-i_fna2ienr4_5hrmu.png"><br><img src="https://habrastorage.org/webt/ej/vy/tn/ejvytnyo92bdr-jmitilezpt60k.png"><br><br>  نظرًا لأن طراز <a href="https://github.com/taki0112/UGATIT" rel="nofollow">UGATIT</a> كان ثقيلًا للغاية بالنسبة لبطاقة الفيديو الخاصة بي ، فقد لفتت الانتباه إلى تشبيه قديم ، لكن أقل <a href="https://github.com/junyanz/pytorch-CycleGAN-and-pix2pix" rel="nofollow">شراسة</a> - <a href="https://github.com/junyanz/pytorch-CycleGAN-and-pix2pix" rel="nofollow">CycleGAN</a> <br><br>  في هذا التطبيق ، هناك العديد من تصميمات النماذج وعرض مرئي مناسب لعملية التعلم في المتصفح. <br><br>  CycleGAN ، مثل بنيات <a href="https://github.com/lengstrom/fast-style-transfer" rel="nofollow">نقل الأنماط</a> عبر صورة واحدة ، لا يتطلب صورًا مقترنة للتدريب.  هذا أمر مهم ، لأنه بخلاف ذلك سيتعين علينا إعادة رسم جميع الصور بأنفسنا إلى رسوم كاريكاتورية لإنشاء مجموعة تدريب. <br><br>  المهمة التي سنقوم بتعيينها لخوارزمية لدينا تتكون من جزأين. <br>  في الخرج ، يجب أن نحصل على صورة: <br><br>  أ) على غرار الكتاب الهزلي <br>  ب) مماثلة للصورة الأصلية <br><br>  يمكن تنفيذ النقطة "أ" باستخدام GAN المعتاد ، حيث يكون الناقد المدرب مسؤولاً عن "تشبه الكوميديا". <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">المزيد عن GAN</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/-g/j-/hq/-gj-hqvnumsgc7k1xuaau7d8tfe.jpeg"><br><br>  شبكة GAN ، أو شبكة الخصومة التوليدية ، هي زوج من شبكتين عصبيتين: Generator and Critic. <br>  يقوم المولد بتحويل المدخلات ، على سبيل المثال ، من صورة إلى كتاب هزلي ، ويقارن الناقد النتيجة "الزائفة" الناتجة مع كتاب هزلي حقيقي.  وظيفة المولد هي خداع الناقد ، والعكس صحيح. <br><br>  في عملية التعلم ، يتعلم المولد إنشاء رسوم كاريكاتورية تشبه بشكل متزايد الصور الواقعية ، ويتعلم الناقد التمييز بشكل أفضل بينها. <br></div></div><br>  الجزء الثاني هو أكثر تعقيدا إلى حد ما.  إذا كان لدينا إقران صور ، حيث ستكون هناك صور في المجموعة "أ" ، وفي المجموعة "ب" كانت ، ولكن أعيد رسمها في كاريكاتير (أي ما نريد الحصول عليه من النموذج) ، يمكننا لمقارنة النتيجة التي ينتجها المولد مع الصورة المقترنة من المجموعة "B" لمجموعة التدريب لدينا. <br><br>  في حالتنا ، لا ترتبط المجموعات "A" و "B" بأي طريقة مع بعضها البعض.  في المجموعة "أ" - صور عشوائية ، في المجموعة "ب" - كاريكاتير عشوائي. <br><br>  من غير المجدي مقارنة الهزلي المزيف ببعض الهزلي العشوائي من المجموعة "B" ، لأن هذا سيؤدي على الأقل إلى تكرار وظيفة الناقد ، ناهيك عن النتيجة غير المتوقعة. <br><br>  هذا هو المكان الذي تأتي به بنية CycleGAN. <br><br>  باختصار ، هذا هو زوج GAN ، الأول يحول الصورة من الفئة "أ" (على سبيل المثال ، صورة) إلى الفئة "ب" (على سبيل المثال ، كتاب هزلي) ، والثاني للخلف ، من الفئة "ب" إلى الفئة "أ". <br><br><img src="https://habrastorage.org/webt/jl/0d/eg/jl0deg09yccaa8sez0djtsti4fo.jpeg"><br><br>  يتم تدريب النماذج على حد سواء على أساس مقارنة الصورة الأصلية مع الصورة المستعادة (كنتيجة لدورة "A" - "B" - "A" ، "صورة كوميدي-صور") ، وبيانات النقاد ، كما هو الحال في GAN منتظم. <br><br>  هذا يجعل من الممكن إكمال كلا جزأين من مهمتنا: لإنشاء كتاب هزلي لا يمكن تمييزه عن الرسوم الهزلية الأخرى ، ويشبه في الوقت نفسه الصورة الأصلية. <br><br><h2 style=";text-align:right;direction:rtl">  نموذج التثبيت والتحقق </h2><br>  لتنفيذ خطتنا الماكرة ، نحتاج إلى: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  بطاقة رسومات تدعم CUDA بسعة 8 جيجابايت من ذاكرة الوصول العشوائي </li><li style=";text-align:right;direction:rtl">  نظام التشغيل Linux </li><li style=";text-align:right;direction:rtl">  Miniconda / أناكوندا مع بيثون 3.5+ </li></ul><br>  بطاقات الفيديو ذات أقل من 8 جيجابايت من ذاكرة الوصول العشوائي يمكن أن تعمل إذا كنت تستمتع بالإعدادات.  سيعمل أيضًا على نظام Windows ، ولكن ببطء أكبر ، كان لدي اختلاف قدره 1.5 إلى 2 مرة على الأقل. <br><br>  <i>إذا لم يكن لديك وحدة معالجة الرسومات (GPU) بدعم CUDA ، أو كنت كسولًا جدًا في إعدادها بالكامل ، فيمكنك دائمًا استخدام Google Colab.</i>  <i>إذا كان هناك عدد كافٍ من الأشخاص الذين يرغبون في ذلك ، فسنقوم بملء البرنامج التعليمي وكيفية تحسين كل ما يلي في إحدى سحابة Google.</i> <br><br>  <a href="https://docs.conda.io/en/latest/miniconda.html" rel="nofollow">Miniconda يمكن اتخاذها هنا</a> <br>  <a href="https://conda.io/projects/conda/en/latest/user-guide/install/index.html" rel="nofollow">تعليمات التثبيت</a> <br><br>  بعد تثبيت Anaconda / Miniconda (المشار إليها فيما يلي باسم conda) ، قم بإنشاء بيئة جديدة لتجاربنا وقم بتنشيطها: <br><br>  <i>(يحتاج مستخدمو Windows إلى بدء تشغيل Anaconda Prompt أولاً من قائمة ابدأ)</i> <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">conda create --name cyclegan conda activate cyclegan</code> </pre> <br>  سيتم الآن تثبيت جميع الحزم في البيئة النشطة دون التأثير على بقية البيئة.  يعد هذا مناسبًا إذا كنت بحاجة إلى مجموعات معينة من إصدارات الحزم المختلفة ، على سبيل المثال ، إذا كنت تستخدم الكود القديم لشخص آخر وتحتاج إلى تثبيت حزم قديمة دون إفساد حياتك وبيئة العمل الرئيسية. <br><br>  بعد ذلك ، اتبع ببساطة إرشادات README.MD من التوزيع: <br><br>  حفظ توزيع CycleGAN: <br><br>  <i>(أو مجرد تنزيل الأرشيف من GitHub)</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/junyanz/pytorch-CycleGAN-and-pix2pix <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> pytorch-CycleGAN-and-pix2pix</code> </pre> <br>  تثبيت الحزم اللازمة: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">conda install numpy pyyaml mkl mkl-include setuptools cmake cffi typing conda install pytorch torchvision -c pytorch conda install visdom dominate -c conda-forge</code> </pre> <br>  قم بتنزيل مجموعة البيانات النهائية والطراز المقابل: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">bash ./datasets/download_cyclegan_dataset.sh horse2zebra bash ./scripts/download_cyclegan_model.sh horse2zebra</code> </pre> <br>  انتبه إلى الصور الموجودة في مجموعة البيانات التي تم تنزيلها. <br><br>  إذا قمت بفتح ملفات البرامج النصية من الفقرة السابقة ، يمكنك أن ترى أن هناك مجموعات بيانات ونماذج أخرى جاهزة لها. <br><br>  أخيرًا ، اختبر النموذج على مجموعة البيانات التي تم تنزيلها: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">python test.py --dataroot datasets/horse2zebra/testA --name horse2zebra_pretrained --model <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> --no_dropout</code> </pre><br>  سيتم حفظ النتائج في المجلد / results / horse2zebra_pretrained / <br><br><h2 style=";text-align:right;direction:rtl">  إنشاء مجموعة التدريب </h2><br>  من الخطوات التي لا تقل أهمية بعد اختيار بنية النموذج المستقبلي (والبحث عن التنفيذ النهائي على جيثب) تجميع مجموعة بيانات أو مجموعة بيانات ، والتي سنقوم بتدريبها واختبارها. <br><blockquote style=";text-align:right;direction:rtl">  يعتمد كل شيء تقريبًا على البيانات التي نستخدمها.  على سبيل المثال ، تم تدريب <a href="https://t.me/selfie2animebot" rel="nofollow">UGATIT لبوت selfie2anime</a> على صور سيلفي للإناث ووجوه أنثوية من أنيمي.  لذلك ، من خلال الصور الذكورية ، تتصرف على الأقل بطريقة مضحكة ، حيث تستبدل الرجال الملتحين بوحشية بفتيات صغيرات ذوي الياقات العالية.  في الصورة ، عبدك المتواضع بعد أن علم أنه يشاهد أنيمي. <br><br><img src="https://habrastorage.org/webt/iz/b1/yl/izb1yltkkhenla6oo5ajvbqrujg.jpeg"><br><br>  كما فهمت بالفعل ، يجدر تحديد تلك الصور / الرسوم الهزلية التي تريد استخدامها عند الإدخال والحصول على الإخراج.  هل تخطط لمعالجة صور شخصية - إضافة صور شخصية وصور قريبة من الوجوه من صور كاريكاتورية وصور المباني - أضف صورًا للمباني وصفحات من صور كاريكاتورية مع المباني. <br></blockquote>  <a href="" rel="nofollow">كصور</a> عينة ، استخدمت <a href="" rel="nofollow">DIV2K</a> و <a href="" rel="nofollow">Urban100</a> ، بنكهة صور نجوم Google لتعزيز التنوع. <br><br>  أخذت صور كاريكاتورية من عالم الأعجوبة ، الصفحة بأكملها ، وأطرد الإعلانات والإعلانات حيث لا تبدو الصورة ككتاب هزلي.  لا يمكنني إرفاق الرابط لأسباب واضحة ، ولكن بناءً على طلب Marvel Comics ، يمكنك بسهولة العثور على خيارات ممسوحة ضوئيًا على مواقعك المفضلة باستخدام كاريكاتير ، إذا كنت تعرف ما أقصده. <br><br>  من المهم الانتباه إلى الرسم ، ويختلف في سلسلة مختلفة ، ونظام الألوان. <br><br><img src="https://habrastorage.org/webt/qn/na/7e/qnna7eye4d7reejujjdafcv682a.png"><br><br>  كان لدي الكثير من deadpool ورجل العنكبوت ، لذلك يصبح الجلد أحمر للغاية. <br><br>  يمكن العثور <a href="http://datasets.visionbib.com/info-index.html" rel="nofollow">هنا على</a> قائمة غير كاملة بمجموعات البيانات العامة الأخرى. <br><br>  يجب أن تكون بنية المجلد في مجموعة البيانات الخاصة بنا كما يلي: <br><br>  selfie2comics <br>  ├── قطار <br>  ├── trainB <br>  ├── testA <br>  B testB <br><br>  trainA - صورنا (حوالي 1000pcs) <br>  testA - بعض الصور للاختبارات النموذجية (30pcs ستكون كافية) <br>  trainB - لدينا كاريكاتير (حوالي 1000 جهاز كمبيوتر شخصى.) <br>  testB - كاريكاتير للاختبارات (30pcs.) <br><br>  يُنصح بوضع مجموعة البيانات على SSD ، إن أمكن. <br><br>  هذا كل شيء لهذا اليوم ، في العدد التالي سنبدأ في تدريب النموذج والحصول على النتائج الأولى! <br><br>  تأكد من الكتابة إذا حدث خطأ ما معك ، فهذا سيساعد على تحسين القيادة وتخفيف معاناة القراء اللاحقين. <br><br>  إذا كنت قد حاولت بالفعل تدريب النموذج ، فلا تتردد في مشاركة النتائج في التعليقات.  اراك قريبا! <br><br>  <a href="https://habr.com/ru/post/483168/">⇨ الجزء التالي</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar479218/">https://habr.com/ru/post/ar479218/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar479200/index.html">صورة كسورية ضغط</a></li>
<li><a href="../ar479202/index.html">C ++ والأساليب العددية: تكامل تقريبي لـ Newton-Cotes</a></li>
<li><a href="../ar479210/index.html">ماذا سيحدث لعمليات الشراء في المتاجر الأجنبية عبر الإنترنت من 1 يناير 2020</a></li>
<li><a href="../ar479214/index.html">مجموعة مختارة من الأحداث المجانية القادمة للمطورين في موسكو # 2</a></li>
<li><a href="../ar479216/index.html">الرياح الثانية باندورا DXL 3000 أو كيف كنت ثمل القياس عن بعد الخاصة بي</a></li>
<li><a href="../ar479220/index.html">Nano-neuron - 7 وظائف جافا سكريبت بسيطة توضح كيف يمكن للآلة "التعلم"</a></li>
<li><a href="../ar479222/index.html">ملخص المواد المثيرة للاهتمام لمطوّر البرامج المحمول رقم 325 (من 2 إلى 8 ديسمبر)</a></li>
<li><a href="../ar479226/index.html">Habr-analysis: ما يطلبه المستخدمون كهدية من Habr</a></li>
<li><a href="../ar479230/index.html">قم بتوثيق واجهة برمجة التطبيقات السريعة الخاصة بك مع تعليقات توضيحية</a></li>
<li><a href="../ar479232/index.html">تطوير تطبيق MQ JMS على Spring Boot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>