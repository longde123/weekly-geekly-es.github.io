<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥁 👧🏼 ⚫️ JavaScript指南第5部分：数组和循环 💆🏼 🚐 ❎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今天，在JavaScript课程翻译的第五部分中，我们将讨论数组和循环。 数组用于解决许多问题。 通常使用循环来处理数组。 

 → 第1部分：第一个程序，语言功能，标准 
 → 第2部分：代码样式和程序结构 
 → 第3部分：变量，数据类型，表达式，对象 
 → 第4部分：功能 
 → 第5部分：...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScript指南第5部分：数组和循环</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/430380/"> 今天，在JavaScript课程翻译的第五部分中，我们将讨论数组和循环。 数组用于解决许多问题。 通常使用循环来处理数组。 <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1部分：第一个程序，语言功能，标准</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2部分：代码样式和程序结构</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分：变量，数据类型，表达式，对象</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第4部分：功能</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第5部分：数组和循环</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第6部分：异常，分号，通配符文字</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第7部分：严格模式，此关键字，事件，模块，数学计算</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第8部分：ES6功能概述</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第9部分：ES7，ES8和ES9标准概述</a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/jf/eo/1s/jfeo1s-pygp9g5pazca5kjwvwoa.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">数组</font> </h2><br> 数组（类型为<code>Array</code>对象）与语言的其他机制一起发展。 它们是编号值的列表。 <br><br> 数组的第一个元素的索引（键）为0；许多编程语言都使用此方法。 <br><br> 在本节中，我们将考虑使用数组的现代方法。 <br><br><h3>  <font color="#3AC1EF">▍初始化数组</font> </h3><br> 这是一些初始化数组的方法。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.of(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(<span class="hljs-number"><span class="hljs-number">6</span></span>).fill(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-comment"><span class="hljs-comment">//   ,   6 ,  1</span></span></code> </pre> <br> 为了访问数组的单个元素，请使用包含方括号的结构，该方括号包含数组元素的索引。 数组元素可以读取或写入。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a) <span class="hljs-comment"><span class="hljs-comment">//[ 1, 2, 3 ] const first = a[0] console.log(first) //1 a[0] = 4 console.log(a) //[ 4, 2, 3 ]</span></span></code> </pre> <br> 不建议使用用于声明数组的<code>Array</code>构造函数。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>() <span class="hljs-comment"><span class="hljs-comment">//  const a = new Array(1, 2, 3) // </span></span></code> </pre> <br> 仅在声明<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">类型数组</a>时才应使用此方法。 <br><br><h3>  <font color="#3AC1EF">▍获取数组的长度</font> </h3><br> 为了找出数组的长度，您需要引用其<code>length</code>属性。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> l = a.length</code> </pre> <br><h3>  <font color="#3AC1EF">using使用every（）方法检查数组</font> </h3><br>  <code>every()</code>数组方法可用于使用特定条件来组织对其所有元素的验证。 如果数组的所有元素都满足条件，则该函数将返回<code>true</code> ，否则将返回<code>false</code> 。 <br><br> 该方法传递给一个函数，该函数采用参数<code>currentValue</code> （当前数组元素的<code>index</code> ）， <code>index</code> （当前数组元素的索引）和<code>array</code> （数组本身）。 它也可以采用一个可选值，在执行传递给它的函数时用作<code>this</code>值。 <br> 例如，检查数组所有元素的值是否大于10。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el</span></span></span><span class="hljs-function"> =&gt;</span></span> el &gt; <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a.every(test)) <span class="hljs-comment"><span class="hljs-comment">//true console.log(b.every(test)) //false</span></span></code> </pre> <br> 在这里，在<code>test()</code>函数中，我们只对传递给它的第一个参数感兴趣，因此我们声明它，仅指定<code>el</code>参数，相应的值将落入该参数。 <br><br><h3>  <font color="#3AC1EF">using使用some（）方法检查数组</font> </h3><br> 此方法与<code>every()</code>方法非常相似，但是如果数组的至少一个元素满足传递给它的函数指定的条件，则它返回<code>true</code> 。 <br><br><h3>  <font color="#3AC1EF">using使用map（）方法基于现有数组创建数组</font> </h3><br> 数组的<code>map()</code>方法允许您遍历数组，对传递给此方法的每个元素应用一个函数，该函数转换该元素并根据接收到的值创建新数组。 例如，这里是获取新数组的方法，这是将原始数组的所有元素乘以2的结果。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> double = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el</span></span></span><span class="hljs-function"> =&gt;</span></span> el * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doubleA = a.map(double) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a) <span class="hljs-comment"><span class="hljs-comment">//[ 1, 2, 3 ] console.log(doubleA) //[ 2, 4, 6 ]</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">using使用filter（）方法过滤数组</font> </h3><br>  <code>filter()</code>方法类似于<code>map()</code>方法，但是它允许您创建新数组，其中仅包含满足传递给函数的<code>filter()</code>方法指定的条件的原始数组的那些元素。 <br><br><h3>  <font color="#3AC1EF">▍reduce（）方法</font> </h3><br>  <code>reduce()</code>方法允许您将给定函数应用于累加器和数组的每个值，从而将数组缩小为单个值（该值可以具有基本类型或对象类型）。 此方法具有转换功能和可选的初始电池值。 考虑一个例子。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>].reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">accumulator, currentValue, currentIndex, array</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> accumulator * currentValue }, <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a) <span class="hljs-comment"><span class="hljs-comment">//24 // 1: 1 * 1 = 1 // 2: 1 * 2 = 2 // 3: 2 * 3 = 6 // 4: 6 * 4 = 24</span></span></code> </pre> <br> 在这里，我们正在寻找使用文字描述的数组所有元素的乘积，并设置累加器1的初始值。 <br><br><h3>  <font color="#3AC1EF">using使用forEach（）方法枚举数组</font> </h3><br> 数组的<code>forEach()</code>方法可用于遍历数组的值并对其执行某些操作，这由传递给该方法的函数指定。 例如，我们一次在控制台中显示数组的元素。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] a.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(el)) <span class="hljs-comment"><span class="hljs-comment">//1 //2 //3</span></span></code> </pre> <br> 如果在遍历数组时需要停止或中断循环，则在使用<code>forEach()</code>时必须抛出异常。 因此，如果在解决某个问题的过程中可能有必要中断循环，则最好选择其他方式迭代数组元素。 <br><br><h3>  <font color="#3AC1EF">using使用运算符的for ...选择数组</font> </h3><br> 运算符的<code>for...of</code>出现在ES6标准中。 它允许您遍历可迭代对象（包括数组）。 这是使用方法。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> a) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(v) } <span class="hljs-comment"><span class="hljs-comment">//1 //2 //3</span></span></code> </pre> <br> 在循环的每次迭代中，数组<code>a</code>的下一个元素进入变量<code>v</code> 。 <br><br><h3>  <font color="#3AC1EF">using使用for语句枚举数组</font> </h3><br>  <code>for</code>语句使您可以组织循环，尤其是可以通过按索引访问数组的元素来循环（或初始化）数组。 通常，使用循环计数器获得下一个元素的索引。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; a.length; i += <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a[i]) } <span class="hljs-comment"><span class="hljs-comment">//1 //2 //3</span></span></code> </pre> <br> 如果在循环执行期间需要跳过其迭代，则可以使用<code>continue</code>命令。 您可以使用<code>break</code>命令提前终止循环。 例如，如果在某个函数中的循环中使用<code>return</code>命令，则循环和函数将结束，并且<code>return</code>的值将转到调用该函数的位置。 <br><br><h3>  <font color="#3AC1EF">▍方法@@迭代器</font> </h3><br> 此方法出现在ES6标准中。 它使您能够获得所谓的“对象的迭代器”-在这种情况下，您可以通过该对象组织数组元素的迭代。 可以使用Symbol（这样的符号称为“已知符号”） <code>Symbol.iterator</code>获得数组迭代器。 收到迭代器后，您可以访问其<code>next()</code>方法，该方法每次调用都会返回一个包含数组下一个元素的数据结构。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> it = a[<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.iterator]() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(it.next().value) <span class="hljs-comment"><span class="hljs-comment">//1 console.log(it.next().value) //2 console.log(it.next().value) //3</span></span></code> </pre> <br> 如果在到达数组的最后一个元素之后调用<code>next()</code>方法，它将作为元素的值返回<code>undefined</code> 。  <code>next()</code>方法返回的对象包含<code>value</code>和<code>done</code>属性。 在到达数组的最后一个元素之前， <code>done</code>属性的值为<code>false</code> 。 在我们的例子中，如果我们第四次调用它，那么它将返回<code>{ value: undefined, done: true }</code>对象，而在前三个调用中，该对象看起来像<code>{ value: , done: false }</code> 。 <br><br>  <code>entries()</code>数组方法返回一个迭代器，该迭代器允许您迭代数组的键值对。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> it = a.entries() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(it.next().value) <span class="hljs-comment"><span class="hljs-comment">//[0, 1] console.log(it.next().value) //[1, 2] console.log(it.next().value) //[2, 3]</span></span></code> </pre> <br>  <code>keys()</code>方法允许您迭代数组的键。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> it = a.keys() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(it.next().value) <span class="hljs-comment"><span class="hljs-comment">//0 console.log(it.next().value) //1 console.log(it.next().value) //2</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">Elements将元素添加到数组的末尾</font> </h3><br> 要将元素添加到数组的末尾，请使用<code>push()</code>方法。 <br><br><pre> <code class="javascript hljs">a.push(<span class="hljs-number"><span class="hljs-number">4</span></span>)</code> </pre> <br><h3>  <font color="#3AC1EF">elements将元素添加到数组的开头</font> </h3><br> 要将元素添加到数组的开头，请使用<code>unshift()</code>方法。 <br><br><pre> <code class="javascript hljs">a.unshift(<span class="hljs-number"><span class="hljs-number">0</span></span>) a.unshift(<span class="hljs-number"><span class="hljs-number">-2</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>)</code> </pre> <br><h3>  <font color="#3AC1EF">▍删除数组元素</font> </h3><br> 您可以使用<code>pop()</code>方法从数组的末尾删除元素，同时返回该元素。 <br><br><pre> <code class="javascript hljs">a.pop()</code> </pre> <br> 同样，使用<code>shift()</code>方法，可以从数组的开头删除元素。 <br><br><pre> <code class="javascript hljs">a.shift()</code> </pre> <br> 使用<code>splice()</code>方法可以完成同一件事，但是已经指示了元素的移除位置及其数量。 <br><br><pre> <code class="javascript hljs">a.splice(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-comment"><span class="hljs-comment">//    2     a.splice(3, 2) //    2 ,    3</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍删除数组元素并插入其他元素</font> </h3><br> 为了使用某些操作删除数组中的某些元素并插入其他元素，使用了熟悉的<code>splice()</code>方法。 <br><br> 例如，在这里我们删除从索引2开始的数组的3个元素，然后在同一位置添加另外两个元素： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>] a.splice(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a) <span class="hljs-comment"><span class="hljs-comment">//[ 1, 2, 'a', 'b', 6 ]</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍合并多个数组</font> </h3><br> 要组合多个数组，可以使用<code>concat()</code>方法，该方法返回一个新数组。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> c = a.concat(b) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(c) <span class="hljs-comment"><span class="hljs-comment">//[ 1, 2, 3, 4 ]</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">in查找数组中的项目</font> </h3><br> 在ES5标准中，出现了<code>indexOf()</code>方法，该方法返回所需数组元素首次出现的索引。 如果在数组中找不到该元素，则返回<code>-1</code> 。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a.indexOf(<span class="hljs-number"><span class="hljs-number">5</span></span>)) <span class="hljs-comment"><span class="hljs-comment">//4 console.log(a.indexOf(23)) //-1</span></span></code> </pre> <br>  <code>lastIndexOf()</code>方法返回该元素在数组中最后一次出现的索引；如果未找到该元素，则返回<code>-1</code> 。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a.lastIndexOf(<span class="hljs-number"><span class="hljs-number">5</span></span>)) <span class="hljs-comment"><span class="hljs-comment">//7 console.log(a.lastIndexOf(23)) //-1</span></span></code> </pre> <br> 在ES6中，出现了数组的<code>find()</code>方法，该方法使用传递给它的函数执行数组搜索。 如果函数返回<code>true</code> ，则该方法返回找到的第一个元素的值。 如果找不到该项目，则该函数将返回<code>undefined</code> 。 <br><br> 它的用法如下所示。 <br><br><pre> <code class="javascript hljs">a.find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.id === my_id)</code> </pre> <br> 在此，在包含对象的数组中，搜索一个元素，其<code>id</code>属性等于指定的元素。 <br><br>  <code>findIndex()</code>方法类似于<code>find()</code> ，但是它返回找到或<code>undefined</code>元素的索引。 <br><br> 在ES7中，出现了<code>includes()</code>方法，该方法使您可以检查数组中是否存在某个元素。 它返回<code>true</code>或<code>false</code> ，找到或没有找到程序员感兴趣的元素。 <br><br><pre> <code class="javascript hljs">a.includes(value)</code> </pre> <br> 使用此方法，可以从调用此方法时指定的索引开始，检查是否存在某些元素，而不是整个数组，而只是部分数组。 使用此方法的第二个可选参数指定索引。 <br><br><pre> <code class="javascript hljs">a.includes(value, i)</code> </pre> <br><h3>  <font color="#3AC1EF">▍获取数组的片段</font> </h3><br> 为了获得该数组的某些片段的副本作为新数组，可以使用<code>slice()</code>方法。 如果不带参数调用此方法，则返回的数组将是原始数组的完整副本。 它带有两个可选参数。 第一个设置片段的起始索引，第二个设置结束。 如果未指定结束索引，则将数组从指定的开始索引复制到结束。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a.slice(<span class="hljs-number"><span class="hljs-number">4</span></span>)) <span class="hljs-comment"><span class="hljs-comment">//[ 5, 6, 7, 8, 9 ] console.log(a.slice(3,7)) //[ 4, 5, 6, 7 ]</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍排序数组</font> </h3><br> 为了按字母顺序（ <code>0-9A-Za-z</code> ）组织数组元素的<code>sort()</code> ，使用了<code>sort()</code>方法，而没有向其传递参数。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>] a.sort() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a) <span class="hljs-comment"><span class="hljs-comment">//[ 1, 10, 11, 2, 3 ] const b = [1, 'a', 'Z', 3, 2, 11] b.sort() console.log(b) //[ 1, 11, 2, 3, 'Z', 'a' ]</span></span></code> </pre> <br> 您可以将函数传递给此方法以设置排序顺序。 为了比较两个元素，该函数接受参数<code>a</code>和<code>b</code> 。 如果<code>b</code>按某个标准小于<code>b</code> ，则返回负数；如果相等，则返回0；如果<code>b</code>大于<code>b</code> ，则返回正数。 当编写类似的函数对数字数组进行排序时，它可以返回减去<code>a</code>和<code>b</code>的结果。 因此，返回对表达式<code>a - b</code>求值的结果意味着对数组进行升序排序，返回对表达式<code>b - a</code>求值的结果将对数组进行降序排序。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a.sort(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) =&gt;</span></span> a - b)) <span class="hljs-comment"><span class="hljs-comment">//[ 1, 2, 3, 10, 11 ] console.log(a.sort((a, b) =&gt; b - a)) //[ 11, 10, 3, 2, 1 ]</span></span></code> </pre> <br> 为了反转数组元素的顺序，可以使用<code>reverse()</code>方法。 就像<code>sort()</code> ，它修改为其调用的数组。 <br><br><h3>  <font color="#3AC1EF">▍获取数组的字符串表示形式</font> </h3><br> 要获取数组的字符串表示形式，可以使用其<code>toString()</code>方法。 <br><br><pre> <code class="javascript hljs">a.toString()</code> </pre> <br>  <code>join()</code>方法给出了类似的结果，该方法无需参数即可调用。 <br><br><pre> <code class="javascript hljs">a.join()</code> </pre> <br> 作为参数，您可以传递分隔符元素。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a.toString()) <span class="hljs-comment"><span class="hljs-comment">//1,10,3,2,11 console.log(a.join()) //1,10,3,2,11 console.log(a.join(', ')) //1, 10, 3, 2, 11</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍创建数组的副本</font> </h3><br> 要通过将原始数组的值复制到新数组中来创建数组的副本，可以使用<code>Array.from()</code>方法。 它也适用于从类似数组的对象（例如，从字符串）创建数组。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-string"><span class="hljs-string">'a string'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.from(a) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(b) <span class="hljs-comment"><span class="hljs-comment">//[ 'a', ' ', 's', 't', 'r', 'i', 'n', 'g' ]</span></span></code> </pre> <br>  <code>Array.of()</code>方法还可用于复制数组，以及从各种元素“组合”数组。 例如，要将一个数组的元素复制到另一个数组，可以使用以下构造。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.of(...a) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(b) <span class="hljs-comment"><span class="hljs-comment">// [ 1, 10, 3, 2, 11 ]</span></span></code> </pre> <br>  <code>copyWithin()</code>方法用于将数组的元素复制到此数组本身的特定位置。 它的第一个参数指定目标位置的初始索引，第二个参数指定元素源的位置的初始索引，第三个参数（可选）指示元素源的位置的最终索引。 如果未指定，则将从源位置的初始索引到数组末尾的所有内容都复制到数组中的指定位置。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] a.copyWithin(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a) <span class="hljs-comment"><span class="hljs-comment">//[ 3, 4, 5, 4, 5 ]</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">周期数</font> </h2><br> 说到上面的数组，我们已经遇到了一些组织循环的方法。 但是，JavaScript中的循环不仅用于处理数组，而且我们考虑的范围远非所有类型。 因此，现在我们将花费一些时间来讨论在JavaScript中组织循环的不同方法并讨论其功能。 <br><br><h3>  <font color="#3AC1EF">▍for循环</font> </h3><br> 考虑应用此循环的示例。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> list = [<span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; list.length; i++) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(list[i]) <span class="hljs-comment"><span class="hljs-comment">//,     console.log(i) // }</span></span></code> </pre> <br> 如前所述，您可以使用<code>break</code>命令中断此类循环的执行，并且可以跳过当前迭代，并使用<code>continue</code>命令直接转到下一个迭代。 <br><br><h3>  <font color="#3AC1EF">▍for每个周期</font> </h3><br> 我们还讨论了这个周期。 这是使用数组迭代数组的示例。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> list = [<span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>] list.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item, index</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(item) <span class="hljs-comment"><span class="hljs-comment">// console.log(index) // }) //     ,      list.forEach(item =&gt; console.log(item))</span></span></code> </pre> <br> 回想一下，要中断这样一个循环，有必要抛出一个异常，也就是说，如果在使用一个循环时可能需要中断它，那么最好选择其他循环。 <br><br><h3>  <font color="#3AC1EF">▍做... while循环</font> </h3><br> 这就是所谓的“后置条件周期”。 在检查结束循环的条件之前，将至少执行一次这样的循环。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> list = [<span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(list[i]) <span class="hljs-comment"><span class="hljs-comment">// console.log(i) // i = i + 1 } while (i &lt; list.length)</span></span></code> </pre> <br> 可以使用<code>break</code>命令将其中断，您可以使用<code>continue</code>命令继续进行下一次迭代。 <br><br><h3>  <font color="#3AC1EF">▍while循环</font> </h3><br> 这就是所谓的“预处理循环”。 如果在循环的入口处继续循环的条件为假，则即使执行一次也不会执行。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> list = [<span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (i &lt; list.length) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(list[i]) <span class="hljs-comment"><span class="hljs-comment">// console.log(i) // i = i + 1 }</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍for ...循环中</font> </h3><br> 通过此循环，可以按对象的名称遍历对象的所有枚举属性。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> object = {<span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">c</span></span>: <span class="hljs-string"><span class="hljs-string">'three'</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> property <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> object) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(property) <span class="hljs-comment"><span class="hljs-comment">//  console.log(object[property]) //  }</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍的...个周期</font> </h3><br>  <code>for...of</code>循环结合了<code>forEach</code>循环的便利性和使用常规工具中断其操作的能力。 <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  for (const value of ['a', 'b', 'c']) { console.log(value) // } //       `entries()` for (const [index, value] of ['a', 'b', 'c'].entries()) { console.log(index) // console.log(value) // }</span></span></code> </pre> <br> 请注意，在这里，在循环头中使用了<code>const</code>关键字，而不是如您所期望的那样使用<code>let</code> 。 如果循环块内的变量不需要重新分配，那么<code>const</code>非常适合我们。 <br> 如果我们比较<code>for...in</code>和<code>for...of</code>循环，就会发现<code>for...in</code>迭代属性的名称，而<code>for...of</code> of-属性<code>for...of</code>值。 <br><br><h2>  <font color="#3AC1EF">循环和范围</font> </h2><br> 使用循环和变量作用域，有一种JavaScript功能可能会导致开发人员遇到一些问题。 为了解决这些问题， <code>let</code>谈谈循环，作用域以及<code>var</code>和<code>let</code>关键字。 <br><br> 考虑一个例子。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> operations = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { operations.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i) }) } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> operation <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> operations) { operation() }</code> </pre> <br> 该循环执行5次迭代，每一次迭代都会向<code>operations</code>数组添加一个新函数。 此功能在控制台中显示循环计数器<code>i</code>的值。 在将函数添加到数组之后，我们遍历该数组并调用作为其元素的函数。 <br><br> 通过执行这样的代码，您可以预期如下所示的结果。 <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br> 但实际上，他推断出以下情况。 <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre> <br> 为什么会这样呢？ 事实是，作为循环计数器，我们使用使用<code>var</code>关键字声明的变量。 <br><br> 由于此类变量的声明位于作用域的顶部，因此上述代码与以下代码相似。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> operations = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { operations.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i) }) } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> operation <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> operations) { operation() }</code> </pre> <br> 结果，在循环的<code>for...of</code>循环中，我们遍历数组，变量<code>i</code>仍然可见，为5，结果，在所有函数中引用<code>i</code> ，我们打印数字5。 <br><br> 如何更改程序的行为，使其能够执行预期的工作？ <br><br> 解决此问题的最简单方法是使用<code>let</code>关键字。 正如我们已经说过的那样，它出现在ES6中，它的使用使您可以摆脱<code>var</code>的一些奇怪特性。 <br><br> 特别是，在上面的示例中，将<code>var</code>更改为<code>let</code>就足够了，并且一切都会按预期进行。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> operations = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { operations.push(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(i) }) } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> operation <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> operations) { operation() }</code> </pre> <br> 现在，在循环的每次迭代中，添加到<code>operations</code>数组的每个函数都会获得自己的<code>i</code>副本。 请记住，在这种情况下您不能使用<code>const</code>关键字，因为循环中<code>i</code>的值会更改。 <br><br> 解决此问题的另一种方法是使用IIFE，该方法通常在ES6标准之前使用，而当<code>let</code>关键字不存在时。 <br><br> 使用这种方法， <code>i</code>的值存储在闭包中，并且IIFE返回并可以访问闭包的函数进入数组。 必要时可以执行此功能。 这是它的外观。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> operations = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { operations.push(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(j</span></span></span><span class="hljs-function">) =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(j) })(i)) } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> operation <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> operations) { operation() }</code> </pre> <br><h2>  <font color="#3AC1EF">总结</font> </h2><br> 今天，我们讨论了JavaScript中的数组和循环。 下一篇文章的主题是异常处理，分号使用模式和模板文字。 <br><br>  <b>亲爱的读者们！</b> 您最常使用哪种方法在JavaScript中使用数组？ <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN430380/">https://habr.com/ru/post/zh-CN430380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN430366/index.html">VR厨房：头盔中看不到的东西</a></li>
<li><a href="../zh-CN430372/index.html">氢气车。 是时候跟汽油说再见了吗？</a></li>
<li><a href="../zh-CN430374/index.html">数据工程及其他：毁录会议录像带和幻灯片</a></li>
<li><a href="../zh-CN430376/index.html">JavaScript指南第6部分：异常，分号，模板文字</a></li>
<li><a href="../zh-CN430378/index.html">J2CL-迟到总比不到好</a></li>
<li><a href="../zh-CN430382/index.html">JavaScript指南第4部分：功能</a></li>
<li><a href="../zh-CN430384/index.html">根据噪声特征创建地图</a></li>
<li><a href="../zh-CN430386/index.html">印度将建设固态存储电站</a></li>
<li><a href="../zh-CN430388/index.html">网络峰会非会议</a></li>
<li><a href="../zh-CN430392/index.html">如何使用PieceofScript“ bike”开发和测试API</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>