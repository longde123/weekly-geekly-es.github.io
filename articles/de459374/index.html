<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👮 👩🏿‍🔧 🤟🏼 Viel Spaß mit Z-Index 🔷 🚶🏻 📯</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Elemente auf Webseiten befinden sich hauptsächlich nebeneinander oder untereinander. Aber manchmal erfordert Design überlappende Elemente. Zum Beispie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Viel Spaß mit Z-Index</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459374/"><img src="https://habrastorage.org/webt/gw/hr/gr/gwhrgrkb83dfpny3pil--unlo3s.gif" align="left">  Elemente auf Webseiten befinden sich hauptsächlich nebeneinander oder untereinander.  Aber manchmal erfordert Design überlappende Elemente.  Zum Beispiel ein Dropdown-Navigationsmenü, Hover-Vorschaufenster, nutzlose Cookie-Banner und natürlich unzählige Popups, die Ihre sofortige Aufmerksamkeit erfordern. <br><br>  In diesen Situationen muss der Browser irgendwie entscheiden, welche Elemente "von oben" angezeigt werden sollen und welche Elemente im Hintergrund ganz oder teilweise geschlossen bleiben sollen.  Ein relativ komplexes Regelwerk im CSS-Standard definiert die Standard- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mischreihenfolge</a> für jedes Seitenelement (wahrscheinlich kann alles auf der Welt als „relativ komplex“ bezeichnet werden, aber es ist sofort besorgniserregend, dass der Standard eine spezielle Anwendung mit dem Titel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">„Detaillierte Beschreibung der Mischkontexte“ enthält</a> ). <br><br>  Wenn die Standardreihenfolge nicht passt, greifen die Entwickler auf die Eigenschaft <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>z-index</code></a> : Sie gibt die Kontrolle über die virtuelle z-Achse (Tiefe), die konzeptionell durch die Seite verläuft.  Somit wird ein Element mit einem höheren <code>z-index</code> „näher“ am Benutzer angezeigt, dh es wird über Elementen mit niedrigeren Indizes gezeichnet. <br><a name="habracut"></a><br>  Eine interessante Eigenschaft der <code>z</code> Achse ist, dass sie keine natürlichen Grenzen hat.  Die horizontale und vertikale Achse sind normalerweise durch die erwartete Größe der Anzeige begrenzt.  Wir erwarten nicht, dass Elemente auf "1.000.000 Pixel links" oder "-3000 Pixel oben" verschoben werden: Sie werden entweder unsichtbar oder verursachen eine unangenehme Schriftrolle.  (Es sei denn, Sie lesen diesen Artikel zu einem Zeitpunkt, an dem die Anzeigen Millionen Pixel breit sind. Wenn ja, fordere ich Sie dringend auf, das Lesen zu beenden und ein Billionen-Dollar-Webseitenprojekt zu starten.) <br><br>  Die <code>z-index</code> Werte sind jedoch dimensionslos und nur relativ wichtig: Eine Seite mit zwei Elementen sieht gleich aus, wenn die <code>z</code> Indizes <code>1</code> und <code>2</code> oder <code>−10</code> und <code>999</code> .  In Kombination mit der Tatsache, dass Seiten häufig aus isolierten Komponenten zusammengesetzt werden, führt dies zu der merkwürdigen Kunst, die geeigneten Z-Indizes auszuwählen. <br><br>  Wie können Sie sicherstellen, dass Ihr nerviges Popup genau über allen Elementen auf der Seite angezeigt wird, wenn Sie nicht wissen, wie viele es gibt, wer sie geschrieben hat und wie sehr <i>sie oben sein</i> wollten?  Dann setzen Sie Ihren Z-Index auf 100 oder vielleicht 999 oder für alle Fälle auf 99999, um sicherzustellen, dass Ihr Z-Index definitiv gewinnt. <br><br>  Zumindest schreibe ich so mein CSS.  Im Rest dieses Beitrags werden wir uns Millionen von Z-Indizes ansehen und sehen, was andere Webentwickler tun. <br><br><h1>  Datenabruf </h1><br>  Der erste Schritt bestand darin, eine große Anzahl von Z-Index-Werten von vorhandenen Webseiten zu sammeln.  Zu diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zweck habe</a> ich mich an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Common Crawl</a> gewandt, ein öffentliches, sehr großes und wunderbares Repository mit Seiten aus dem Internet.  Daten werden in S3 gehostet, sodass Sie sie sehr effizient von einem AWS-Cluster anfordern können.  Glücklicherweise gibt es im Internet mehrere Tutorials, die zeigen, wie das geht. <br><br>  Bei meinem ausgeklügelten Z-Index-Extraktor wird auf jeder Seite nach Übereinstimmungen des folgenden regulären Ausdrucks gesucht: <br><br><pre> <code class="plaintext hljs">re.compile(b'z-index *: *(-?[0-9]+|auto|inherit|initial|unset)')</code> </pre> <br>  Sobald die Werte bestimmt sind, bleibt die Standardaufgabe zum Reduzieren der Karte für die Anzahl der Vorkommen erhalten.  Glücklicherweise bin ich nicht der erste, der das Auftreten aller möglichen Dinge in der Stichprobe zählen wollte, und dies war genug, um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eines von vielen Beispielen</a> anzupassen.  (Fast mein ganzer persönlicher Code ist ein regulärer Ausdruck oben). <br><br>  Dank eines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sehr detaillierten Blog-Artikels konnte</a> ich den Code im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Elastic Map Reduce-</a> Cluster bereitstellen und begann im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">März 2019</a> mit dem Scannen des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Seitenarchivs</a> .  Dieses spezielle Archiv ist in 56.000 Teile unterteilt, von denen ich zufällig 2.500 oder etwa 4,4% ausgewählt habe.  Diese Zahl ist nichts Besonderes, außer dass sie sich grob in dem Preis niederschlägt, den ich bereit war, in dieses Experiment zu investieren.  Nach einer schrecklichen Nacht in der Hoffnung, dass ich die Prognosen nicht richtig gemacht habe, habe ich Ergebnisse aus 112,7 Millionen Seiten extrahiert.  (Ich muss darauf hinweisen, dass dies alles HTML-Seiten sind. Ich habe mich nicht zu sehr mit dieser Frage befasst, aber Common Crawl scheint keine externen Stylesheets zu indizieren. Daher extrahiere ich nur Werte aus Inline-CSS. Ich überlasse es dem Leser, dies zu bestimmen ob die resultierende Verteilung mit dem übereinstimmt, was Sie von externen Stylesheets erhalten). <br><br><h1>  Die häufigsten Werte </h1><br>  Mein Scan ergab insgesamt etwa 176,5 Millionen Z-Index-Werte, von denen 36,2 Tausend eindeutig sind. <br><br>  Was sind die häufigsten? <br><br>  Die Abbildung zeigt die Top 50.  Beachten Sie, dass die <i>y-</i> Achse logarithmisch ist und relative Häufigkeiten anzeigt.  Beispielsweise beträgt der häufigste Wert von 1 14,6% aller in der Stichprobe gefundenen Vorkommen.  Im Allgemeinen machen die Top 50 etwa alle 80% der gesammelten Werte aus. <br><br><img src="https://habrastorage.org/webt/ql/zx/is/qlzxisrudeqtkxjdpm7opfq5fxe.png"><br><br>  Die erste Beobachtung ist, dass positive Werte dominieren.  Das einzige negative Element in den Top 50 ist <code>−1</code> (das zweithäufigste <code>−2</code> nimmt den 70. Platz ein).  Vielleicht sagt uns das, dass die Leute normalerweise mehr daran interessiert sind, Dinge nach oben zu bringen, als sie im Hintergrund zu verstecken. <br><br>  In der Regel haben die meisten Spitzenwerte eine der folgenden Eigenschaften: <br><br><ul><li>  Sie sind klein: Zum Beispiel sind alle Zahlen von 0 bis 12 in den Top 50. <br></li><li>  Dies sind Grade von zehn oder mehreren Zahlen: 10, 100, 1000, 2000, ... <br></li><li>  Sie sind der Zehnerpotenz „nahe“: 1001, 999, 10001, ... </li></ul><br>  Diese Muster stimmen mit der Tatsache überein, dass Menschen große "vertraute" Werte (Grad zehn) wählen und dann möglicherweise die relative Tiefe innerhalb der Komponente anpassen - die Werte sind etwas höher oder niedriger. <br><br>  Es ist auch interessant, die häufigsten Werte zu betrachten, die in keines dieser Muster passen: <br><br>  Auf dem 36. Platz sehen wir 2147483647. Viele Programmierer erkennen diese Nummer sofort als <code>INT_MAX</code> , <code>INT_MAX</code> 2 <sup>31</sup> −1.  Die Leute argumentieren wahrscheinlich so: Da dies der größte Wert für eine (vorzeichenbehaftete) Ganzzahl ist, ist kein Z-Index höher, sodass mein Element mit dem Index INT_MAX immer ganz oben steht.  MDN sagt jedoch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Folgendes</a> über Ganzzahlen in CSS aus: <br><br><blockquote>  Es gibt keinen offiziellen Wertebereich vom Typ <code>&lt;integer&gt;</code> .  Opera 12.1 unterstützt Werte bis zu 2 <sup>15</sup> -1, IE - bis zu 2 <sup>20</sup> -1 und andere Browser sind noch höher.  Während der Existenz von CSS3-Werten wurden mehrere Diskussionen über die Festlegung eines unterstützten Mindestbereichs geführt: Die letzte Entscheidung wurde im April 2012 während der LC-Phase getroffen, dann wurde der Bereich angenommen [-2 <sup>27</sup> -1;  2 <sup>27</sup> -1], aber es wurden andere Werte vorgeschlagen, wie 2 <sup>24</sup> -1 und 2 <sup>30</sup> -1.  Die derzeitige Spezifikation gibt jedoch nicht mehr den Umfang dieses Datentyps an. </blockquote><br>  Somit gibt es nicht nur keinen vereinbarten Maximalwert, sondern <code>INT_MAX</code> tatsächlich in jeder dokumentierten Spezifikation oder Standardklausel außerhalb des Bereichs. <br><br>  Auf dem 39. Platz haben wir 8675309, bei denen ich persönlich nichts Bemerkenswertes gesehen habe.  Aber für mehr als eine halbe Million Entwickler ist das natürlich sinnvoll.  Ich vermute, dass Sie diese Nummer entweder sofort erkennen oder ihre Bedeutung überhaupt nicht verstehen, je nachdem, wo und wann Sie aufgewachsen sind.  Ich werde keine Spoiler herausgeben, die Antwort verbirgt sich hinter nur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einer Suche</a> . <br><br>  Die letzten beiden Zahlen, die etwas unangemessen erschienen, sind 1030 und 1050 auf dem 42. bzw. 45. Platz.  Ein weiterer kurzer Blick ergab, dass dies <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die Standardwerte</a> für den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Z-Index</a> für die Klassen <code>navbar-fixed</code> und <code>modal</code> in Bootstrap sind. <br><br><h1>  Werteverteilung </h1><br>  Obwohl die überwiegende Mehrheit aller <code>z-index</code> Werte aus einer kleinen Anzahl von Optionen stammt, kann es interessant sein, die breitere Verteilung der kompilierten Menge zu betrachten.  Zum Beispiel zeigt Abbildung 2 die Häufigkeit aller Werte zwischen -120 und 260. <br><br><img src="https://habrastorage.org/webt/hs/_k/dc/hs_kdcbfrpc9pv7a4mhgdq0hfm8.png"><br><br>  Zusätzlich zur Dominanz runder Zahlen sehen wir auf mehreren Ebenen eine fast fraktale Qualität von Mustern.  Zum Beispiel ist die Mitte zwischen zwei lokalen Maxima oft selbst ein (kleineres) lokales Maximum: Sie ist 5 zwischen 1 und 10, 15 zwischen 10 und 20, 50 zwischen 1 und 100 usw. <br><br>  Wir können diesen Effekt in einem größeren Bereich bestätigen: Die folgende Abbildung zeigt die Frequenzen aller Werte von -1200 bis 2600, wobei auf einen kleineren Modul auf zehn gerundet wurde, dh Zahlen wie 356 und 359 wurden als 350 gezählt. Die Grafik ist der vorherigen sehr ähnlich.  Wie Sie sehen können, bleibt die Struktur hauptsächlich erhalten, wenn Werte um eine Größenordnung größer betrachtet werden. <br><br><img src="https://habrastorage.org/webt/ab/-k/y0/ab-ky0_xjy1l_onxvw7fonxnaas.png"><br><br>  Schließlich werden in der letzten Abbildung alle positiven <code>z-index</code> Werte von 1 bis 9999999999 nach der ersten Ziffer (horizontale Achse) und der Anzahl der Ziffern (vertikale Achse) gruppiert. <br><br><img src="https://habrastorage.org/webt/tp/yk/q3/tpykq3iqyoitqj-iauuovwwysry.png"><br>  <i><font color="gray">Positive <code>z-index</code> Werte, gruppiert nach erster Ziffer und Anzahl der Ziffern.</font></i>  <i><font color="gray">Die Abmessungen sind proportional zur Gesamthäufigkeit der Gruppe.</font></i>  <i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klicken Sie auf eine Gruppe,</a> um weitere Informationen zu erhalten.</font></i> <br><br>  Wir können jede Gruppe intuitiv als Vorlage für Werte darstellen, z. B. <code>3xxx</code> für alle vierstelligen Werte, die mit 3 beginnen. Jede Gruppe wird als Rechteck angezeigt, dessen Größe proportional zur Häufigkeit des Musters ist.  Die Figur zeigt zum Beispiel, dass für jede Größenordnung, d. H. Eine Anzahl von Gruppen, die Frequenzen einem ähnlichen Trend folgen und die Werte ab 1 am häufigsten sind, dann 9, dann 5. <br><br>  Der Farbton jeder Gruppe wird basierend auf ihrer Entropie festgelegt.  Gelbe Gruppen haben die höchste Entropie, während blaue Gruppen die niedrigste haben.  Dies hilft dabei, Muster hervorzuheben, bei denen Entwickler dazu neigen, dieselben Werte zu wählen, oder solche, bei denen die Werte gleichmäßiger verteilt sind (beachten Sie, dass die Entropie unseres gesamten Datensatzes 6,51 Bit beträgt). <br><br><h1>  Fazit </h1><br>  Obwohl es auf jeden Fall interessant war, diesen Datensatz zu sammeln und zu untersuchen, bin ich sicher, dass es bessere Statistiken, Visualisierungen und Erklärungen gibt, die auf Produktion und Präsentation warten.  Wenn Sie es versuchen möchten, können Sie die <a href="">Datei z-index-data.csv</a> herunterladen und verteilen. <br><br>  Vielleicht werden Sie dort erfolgreich sein, wo ich versagt habe, und einen Weg finden, den höchsten <code>z-index</code> Wert, den ich gefunden habe, in das Diagramm aufzunehmen, nämlich 10 <sup>1242</sup> -1. <br><br>  Ja, die Nummer 9 wird 1242 Mal wiederholt.  Ich hoffe wirklich, dass sie endlich ihr &lt;div&gt; oben zeigen konnten. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de459374/">https://habr.com/ru/post/de459374/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de459354/index.html">Was ist der Unterschied zwischen einem Datenforscher und einem Statistiker?</a></li>
<li><a href="../de459360/index.html">"Die empirischen Ergebnisse sind nur zur Veröffentlichung bestimmt, die eigentlichen Motive der Arbeit sind ästhetisch." Tolles Interview mit Michael Scott</a></li>
<li><a href="../de459364/index.html">So prognostizieren Sie das Benutzerverhalten in der Anwendung</a></li>
<li><a href="../de459368/index.html">Intelligentes CPaaS: Branchennachrichten und was AI / ML ihr gegeben hat</a></li>
<li><a href="../de459370/index.html">Verwenden Sie RSA nicht mehr</a></li>
<li><a href="../de459378/index.html">Schreiben einer API für Reaktionskomponenten, Teil 2: Geben Sie dem Verhalten Namen, nicht der Interaktion</a></li>
<li><a href="../de459380/index.html">Schreiben einer API für React-Komponenten, Teil 3: Die Reihenfolge der Requisiten ist wichtig</a></li>
<li><a href="../de459384/index.html">Auf die Frage nach einem anderen oder einem anderen Weinen von Jaroslawna</a></li>
<li><a href="../de459388/index.html">Star Wars: Ritter der alten Republik</a></li>
<li><a href="../de459392/index.html">Überdenken des Interviewprozesses in der Entwicklungsabteilung von Microsoft</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>