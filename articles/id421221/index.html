<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥓 🛠️ 🚵🏽 Terapi Parah: Cure for MacOS 🔝 🤷🏾 🏴‍☠️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anda akan mengatakan bahwa semuanya di sini dan di luar kotak adalah baik-baik saja dan semuanya tampaknya cerdik, hingga generasi otomatis dari kata ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Terapi Parah: Cure for MacOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421221/">  Anda akan mengatakan bahwa semuanya di sini dan di luar kotak adalah baik-baik saja dan semuanya tampaknya cerdik, hingga generasi otomatis dari kata sandi seperti itu untuk situs web yang bahkan tidak dirasakan secara visual dari upaya kelima, bagaimanapun, bayangkan bahwa penting bagi kita untuk melindungi diri kita tidak hanya dari peretas sehari-hari, tetapi juga dari pengembang sistem itu sendiri. <br><a name="habracut"></a><br>  Penelitian saya tentang masalah ini dimulai sejak OS X Lion 10.7 dirilis dan saya awalnya menggunakan perangkat lunak pihak ketiga yang dibayar dan sangat efektif untuk perlindungan, sampai saya mengetahui apa yang terjadi dan mengapa perangkat lunak ini mencakup hasil seperti itu. <br><br>  Sebenarnya, berikut ini adalah skrip sederhana yang menekan kontrol firewall melalui layanan internal sistem MacOS berdasarkan jangkar dan memberikan kontrol langsung ke filter paket, yang memblokir semua koneksi yang masuk secara umum: <br><br><pre><code class="hljs vbscript"># # Ninja PF configuration file( original located <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> /etc/pf.conf.backup ). # # This file contains the main ruleset, which gets automatically loaded # at startup. PF will <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> be automatically enabled, however. Instead, # <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> component which utilizes PF <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> responsible <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> enabling <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> disabling # PF via -E <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> -X as documented <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pfctl(<span class="hljs-number"><span class="hljs-number">8</span></span>). That will ensure that PF # <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> disabled only when the last enable reference <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> released. # # Care must be taken <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> ensure that the main ruleset does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> flushed, # as the nested anchors rely <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> the anchor point defined here. <span class="hljs-keyword"><span class="hljs-keyword">In</span></span> addition, # <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the anchors loaded by this file, some system services would dynamically # insert anchors into the main ruleset. These anchors will be added only when # the system service <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> used <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> would removed <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> termination of the service. # # See pf.conf(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> syntax. # # ICMP configure icmp_types = <span class="hljs-string"><span class="hljs-string">"{echoreq, echorep, unreach}"</span></span> icmp6_types = <span class="hljs-string"><span class="hljs-string">"{echoreq, unreach, echorep, 133, 134, 135, 136, 137}"</span></span> netbios_types = <span class="hljs-string"><span class="hljs-string">"{137,138,139}"</span></span> interfaces = <span class="hljs-string"><span class="hljs-string">"{en0, en1, en2, en3, en4}"</span></span> # Base policy <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> fingerprints <span class="hljs-string"><span class="hljs-string">"/etc/pf.os"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> block-policy drop <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> state-policy <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>-bound <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> require-order yes <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> optimization aggressive <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> ruleset-optimization none <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> skip <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> lo0 scrub <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> all fragment reassemble no-df min-ttl <span class="hljs-number"><span class="hljs-number">64</span></span> max-mss <span class="hljs-number"><span class="hljs-number">1440</span></span> scrub out all random-id block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> all pass out quick flags S/SA modulate state # Antispoofing antispoof quick <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> $interfaces inet antispoof quick <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> $interfaces inet6 # More secure settings block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> from urpf-failed <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> any block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> quick <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> $interfaces from any <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">255.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span> block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> quick <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> $interfaces from any <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">255.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> # ICMP policy block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> inet proto icmp all icmp-type $icmp_types keep state block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> inet6 proto icmp6 all icmp6-type $icmp6_types keep state block <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> $interfaces proto {tcp,udp} from any <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> any port $netbios_types</code> </pre> <br>  Jangan lupa centang kotak untuk mengaktifkan firewall dalam preferensi.  Untuk memverifikasi bahwa PF sedang berjalan, jalankan di terminal <br><br><pre> <code class="bash hljs">sudo pfctl -sa</code> </pre> <br>  Berikut adalah pola aturan yang dikumpulkan secara singkat untuk mengelola koneksi dan antarmuka, dan pengaturan itu sendiri memblokir lalu lintas masuk sebanyak mungkin.  Jika Anda benar-benar paranoid, cukup beri komentar pada baris set skip on lo0 dan Anda akan menyelamatkan sistem dari server web yang berfungsi dan memblokir sebagian besar aplikasi dari mengakses antarmuka loop kembali (terminal loop). <br><br>  Lo0 biasanya berguna untuk memblokir jika Anda suka bermain game bajakan dari torrents, yang sering ditambal oleh eksploit atau sampah lainnya. <br><br>  Hal kedua yang dilakukan skrip adalah, dengan persetujuan pengguna, mengatur pengaturan keamanan kernel tingkat lanjut. <br><br>  Berikut adalah daftar singkatnya: <br><br><pre> <code class="hljs dos"># <span class="hljs-number"><span class="hljs-number">10</span></span>.<span class="hljs-number"><span class="hljs-number">13</span></span>.<span class="hljs-number"><span class="hljs-number">4</span></span> system ctl configuration # Kernel IPC overrides kern.ipc.somaxconn=<span class="hljs-number"><span class="hljs-number">100</span></span> # kernel security level(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span> - soft security level or <span class="hljs-number"><span class="hljs-number">2</span></span> - can't install any software) kern.securelevel=<span class="hljs-number"><span class="hljs-number">1</span></span> # Speed up TM backups debug.lowpri_throttle_enabled=<span class="hljs-number"><span class="hljs-number">0</span></span> kern.coredump=<span class="hljs-number"><span class="hljs-number">0</span></span> # Networking settings <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.link.ether.inet.max_age=<span class="hljs-number"><span class="hljs-number">600</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.redirect=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.ip6.redirect=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.sourceroute=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.accept_sourceroute=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.linklocal.<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.allowbadttl=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.icmp.bmcastecho=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.icmp.icmplim=<span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.icmp.maskrepl=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.udp.blackhole=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.blackhole=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.delayed_ack=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.always_keepalive=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.rfc3390=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.rfc1644=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.tso=<span class="hljs-number"><span class="hljs-number">0</span></span> # Incoming and outgoing port ranges <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.sack_globalmaxholes=<span class="hljs-number"><span class="hljs-number">2000</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.portrange.first=<span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.portrange.last=<span class="hljs-number"><span class="hljs-number">65535</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.portrange.hifirst=<span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.portrange.hilast=<span class="hljs-number"><span class="hljs-number">2500</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.check_interface=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.keepidle=<span class="hljs-number"><span class="hljs-number">50000</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.ip.rtmaxcache=<span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.path_mtu_discovery=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.icmp6.rediraccept=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet.tcp.msl=<span class="hljs-number"><span class="hljs-number">4500</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.icmp6.nodeinfo=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.ip6.accept_rtadv=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.ip6.auto_linklocal=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.ip6.only_allow_rfc4193_prefixes=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.inet6.icmp6.nd6_onlink_ns_rfc4861=<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br>  Parameter kernel ini memperketat kebijakan koneksi jaringan termasuk semua RFC yang mungkin dan memblokir semua kemungkinan noise (gema, arahan ulang, dll.), Dan parameter kern.securelevel = 1, yang dapat sangat berguna untuk tester pena, patut mendapat perhatian khusus. <br><br>  kern.securelevel = 2 akan sepenuhnya memblokir kemampuan untuk menginstal paket apa pun pada sistem.  Umumnya ketat.  Tetapi sistem tidak akan kehilangan kinerja. <br><br>  Saya juga membalik port aplikasi yang membutuhkan nilai tinggi dan menurunkannya sehingga lalu lintas tidak nyaman untuk "mendengarkan". <br><br>  Selanjutnya, skrip menambahkan opsi penyesuaian untuk beberapa opsi tampilan Finder dan pengaturan kecil untuk Safari.  Misalnya, ada baiknya menonaktifkan AV Foundation dan fungsi media lainnya, karena sistem dapat diretas melalui stream audio dan video dengan satu gambar splitter dari situs web. <br><br>  Secara umum, ini aneh, tetapi bahkan iTunes di MacOS mengikuti, jadi saya lebih suka tangki lengkap. <br><br>  Patch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tersedia di GitHub</a> .  Untuk mulai menggunakan <br><br><pre> <code class="bash hljs">sudo ./fix.sh</code> </pre> <br>  Jika Anda memiliki saran atau amandemen, saya sarankan untuk membagikan pendapat Anda dalam komentar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id421221/">https://habr.com/ru/post/id421221/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id421209/index.html">IaaS dalam eCommerce dan sektor keuangan: siapa dan mengapa beralih ke infrastruktur virtual</a></li>
<li><a href="../id421211/index.html">Preferensi Kebijakan Grup dan PowerShell saat printer menghitung hingga ratusan</a></li>
<li><a href="../id421213/index.html">DJI Mavic 2 Pro / Memperbesar detail</a></li>
<li><a href="../id421215/index.html">Bagaimana Saya Meretas Steam. Dua kali</a></li>
<li><a href="../id421217/index.html">Dukungan Python di Power BI</a></li>
<li><a href="../id421223/index.html">DevFest SPB 2018</a></li>
<li><a href="../id421225/index.html">Diagnostik SENS. Biomarker disfungsi mitokondria dan stres oksidatif</a></li>
<li><a href="../id421227/index.html">Tinjauan umum kerangka kerja pengembangan lintas platform</a></li>
<li><a href="../id421229/index.html">Kisah sakit kepala saya</a></li>
<li><a href="../id421235/index.html">Magic Leap One kacamata - kacamata seharga $ 2295 dengan rawatan 3 dari 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>