<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ ‚è© ü§≤ Formation Cisco 200-125 CCNA v3.0. Jour 14. VTP, √©lagage et VLAN natif ‚¨ÜÔ∏è üìó ü§úüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, nous allons continuer notre discussion sur le VLAN et discuter du protocole VTP, ainsi que des concepts d'√©lagage VTP et de VLAN natif. D...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Formation Cisco 200-125 CCNA v3.0. Jour 14. VTP, √©lagage et VLAN natif</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/463231/"> Aujourd'hui, nous allons continuer notre discussion sur le VLAN et discuter du protocole VTP, ainsi que des concepts d'√©lagage VTP et de VLAN natif.  Dans une vid√©o pr√©c√©dente, nous avons parl√© de VTP, et la premi√®re chose qui vous vient √† l'esprit lorsque vous entendez parler de VTP est qu'il ne s'agit pas d'un protocole de jonction, malgr√© ce qu'on appelle un ¬´protocole de jonction VLAN¬ª. <br><br><img src="https://habrastorage.org/webt/3i/q0/z9/3iq0z9bwjsogzqjcdksb76_iy94.jpeg"><br><br>  Comme vous le savez, il existe deux protocoles de jonction populaires - le protocole propri√©taire Cisco ISL, qui n'est pas utilis√© aujourd'hui, et le protocole 802.q, qui est utilis√© dans les p√©riph√©riques r√©seau de divers fabricants pour encapsuler le trafic de jonction.  Ce protocole est √©galement utilis√© dans les commutateurs Cisco.  Nous avons d√©j√† dit que VTP est un protocole de synchronisation VLAN, c'est-√†-dire qu'il est con√ßu pour synchroniser la base de donn√©es VLAN dans tous les commutateurs du r√©seau. <br><br><img src="https://habrastorage.org/webt/aw/i8/6c/awi86cfo128hwy2xwtw0c_mj5kq.jpeg"><br><br>  Nous avons mentionn√© diff√©rents modes VTP - serveur, client, transparent.  Si l'appareil utilise le mode serveur, cela vous permet d'apporter des modifications, d'ajouter ou de supprimer des VLAN.  Le mode client ne permet pas de modifier les param√®tres de commutation; vous pouvez configurer une base de donn√©es VLAN uniquement via un serveur VTP et elle sera r√©pliqu√©e sur tous les clients VTP.  Le commutateur en mode transparent n'apporte pas de modifications √† sa propre base de donn√©es VLAN, mais passe simplement par lui-m√™me et transmet les modifications au p√©riph√©rique suivant en mode client.  Ce mode est similaire √† la d√©sactivation du protocole VTP sur un p√©riph√©rique sp√©cifique, le transformant en un support d'informations sur les modifications du VLAN. <a name="habracut"></a><br><br>  Revenons √† Packet Tracer et √† la topologie de r√©seau discut√©e dans la le√ßon pr√©c√©dente.  Nous avons configur√© le r√©seau VLAN10 pour le service commercial et le r√©seau VLAN20 du service marketing, en les combinant avec trois commutateurs. <br><br><img src="https://habrastorage.org/webt/nw/cc/2r/nwcc2rmc4zke8sz_t9hpfr1fn6a.jpeg"><br><br>  Entre les commutateurs SW0 et SW1, VLAN20 est connect√©, et entre SW0 et SW2, VLAN10 est connect√© en raison du fait que nous avons ajout√© VLAN10 √† la base de donn√©es VLAN du commutateur SW1. <br>  Afin de consid√©rer le fonctionnement du protocole VTP, utilisons l'un des commutateurs comme serveur VTP, que ce soit SW0.  Si vous vous en souvenez, par d√©faut, tous les commutateurs fonctionnent en mode serveur VTP.  Allons au terminal de ligne de commande du commutateur et entrez la commande show vtp status.  Vous voyez la version actuelle du protocole VTP - 2 et le num√©ro de r√©vision de la configuration 4. Si vous vous souvenez, chaque fois que des modifications sont apport√©es √† la base de donn√©es VTP, le num√©ro de r√©vision est augment√© d'une unit√©. <br><br><img src="https://habrastorage.org/webt/ry/_o/vk/ry_ovka1bovj7mdz-dbrb7ocyjw.jpeg"><br><br>  Le nombre maximal de VLAN pris en charge est de 255. Ce nombre d√©pend de la marque d'un commutateur Cisco particulier, car diff√©rents commutateurs peuvent prendre en charge un nombre diff√©rent de r√©seaux virtuels locaux.  Le nombre de VLAN existants est de 7, dans une minute nous consid√©rerons quel type de r√©seau.  Le mode de gestion VTP est le serveur, le nom de domaine n'est pas d√©fini, le mode d'√©lagage VTP est d√©sactiv√©, nous y reviendrons plus tard.  Les modes VTP V2 et VTP Traps Generation sont √©galement d√©sactiv√©s.  Vous n'avez pas besoin de conna√Ætre les deux derniers modes pour r√©ussir l'examen CCNA 200-125, vous n'avez donc pas √† vous en pr√©occuper. <br><br>  Jetons un coup d'≈ìil √† la base de donn√©es VLAN, pour laquelle nous utilisons la commande show vlan.  Comme nous l'avons vu dans la vid√©o pr√©c√©dente, nous avons 4 r√©seaux non pris en charge: 1002, 1003, 1004 et 1005. <br><br><img src="https://habrastorage.org/webt/1r/91/gw/1r91gwmtwtcliixet8gmqvwbefq.jpeg"><br><br>  Il r√©pertorie √©galement les 2 VLAN 10 et 20 que nous avons cr√©√©s et le r√©seau VLAN1 par d√©faut.  Passons maintenant √† un autre commutateur et entrez la m√™me commande pour afficher l'√©tat VTP.  Vous voyez que le num√©ro de r√©vision de ce commutateur est 3, il est en mode serveur VTP et toutes les autres informations sont similaires au premier commutateur.  Quand j'entre dans la commande show VLAN, je vais voir que nous avons fait 2 changements dans les param√®tres, un de moins que le commutateur SW0, c'est pourquoi le num√©ro de r√©vision de SW1 est 3. Nous avons fait 3 changements dans les param√®tres par d√©faut du premier commutateur, donc son num√©ro de r√©vision augment√© √† 4. <br><br><img src="https://habrastorage.org/webt/0t/mj/y0/0tmjy0ccn59trobdq3sdbev0cny.jpeg"><br><br>  Voyons maintenant le statut de SW2.  Le num√©ro de r√©vision ici est 1, et c'est √©trange.  Nous devons avoir une deuxi√®me r√©vision, car 1 modification a √©t√© apport√©e aux param√®tres.  Regardons la base de donn√©es VLAN. <br><br><img src="https://habrastorage.org/webt/kf/y4/1d/kfy41dkjx4jgowh7s5kfqkwxgle.jpeg"><br><br>  Nous avons apport√© une modification en cr√©ant un r√©seau VLAN10, et je ne sais pas pourquoi ces informations n'ont pas √©t√© mises √† jour.  Cela est peut-√™tre d√ª au fait que nous n'avons pas de v√©ritable r√©seau, mais un simulateur de r√©seau logiciel dans lequel il peut y avoir des erreurs.  Lorsque vous avez la possibilit√© de travailler avec de vrais appareils tout en pratiquant chez Cisco, cela vous aidera davantage que le simulateur Packet Tracer.  Une autre chose utile en l'absence de vrais p√©riph√©riques serait GNC3, ou le simulateur de r√©seau Cisco.  Il s'agit d'un √©mulateur qui utilise le v√©ritable syst√®me d'exploitation de l'appareil, par exemple un routeur.  Il y a une diff√©rence entre le simulateur et l'√©mulateur - le premier est un programme qui ressemble √† un vrai routeur, mais ce n'est pas le cas.  L'√©mulateur cr√©e par programme uniquement le p√©riph√©rique lui-m√™me, mais utilise de vrais logiciels pour son fonctionnement.  Mais si vous n'avez pas la possibilit√© de travailler avec de vrais logiciels Cisco IOS, la meilleure option serait Packet Tracer. <br><br>  Donc, nous devons configurer SW0 en tant que serveur VTP, pour cela, je passe en mode de configuration globale et entrez la commande vtp version 2. Comme je l'ai dit, nous pouvons installer la version du protocole dont nous avons besoin - 1 ou 2, dans ce cas, nous besoin d'une deuxi√®me version.  Ensuite, avec la commande vtp mode, nous d√©finissons le mode VTP du commutateur - serveur, client ou transparent.  Dans ce cas, nous avons besoin du mode serveur, et apr√®s avoir entr√© la commande serveur vtp mode, le syst√®me affiche un message indiquant que le p√©riph√©rique est d√©j√† en mode serveur.  Ensuite, nous devons configurer le domaine VTP, pour lequel nous utilisons la commande vtp domain nwking.org.  Pourquoi est-ce n√©cessaire?  S'il existe un autre appareil avec un num√©ro de r√©vision plus √©lev√© sur le r√©seau, tous les autres appareils avec une r√©vision inf√©rieure commencent √† r√©pliquer la base de donn√©es VLAN √† partir de cet appareil.  Cependant, cela ne se produit que lorsque les appareils ont le m√™me nom de domaine.  Par exemple, si vous travaillez dans nwking.org, vous sp√©cifiez ce domaine, si dans Cisco, alors le domaine est Cisco.com, et ainsi de suite.  Le nom de domaine des appareils de votre entreprise vous permet de les distinguer des appareils d'une autre entreprise ou de tout autre appareil r√©seau externe.  Si vous attribuez un nom de domaine d'entreprise √† un appareil, vous l'int√©grez au r√©seau de l'entreprise. <br><br>  La prochaine chose √† faire est de d√©finir un mot de passe VTP.  Il est n√©cessaire pour qu'un pirate, ayant un appareil avec un grand num√©ro de r√©vision, ne puisse pas copier ses param√®tres VTP sur votre commutateur.  J'entre le mot de passe cisco √† l'aide de la commande vtp password cisco.  Apr√®s cela, la r√©plication des donn√©es VTP entre les commutateurs ne sera possible que si les mots de passe correspondent.  Si le mauvais mot de passe est utilis√©, la base de donn√©es VLAN ne sera pas mise √† jour. <br><br>  Essayons de cr√©er des VLAN suppl√©mentaires.  Pour ce faire, j'utilise la commande config t, utilise la commande vlan 200 pour cr√©er un r√©seau avec le num√©ro 200, nommez-le TEST et enregistrez les modifications avec la commande exit.  Ensuite, je cr√©e un autre r√©seau vlan 500 et l'appelle TEST1.  Si vous entrez maintenant la commande show vlan, alors dans la table de r√©seau virtuel du commutateur, vous pouvez voir ces deux nouveaux r√©seaux auxquels aucun port n'est affect√©. <br><br><img src="https://habrastorage.org/webt/_n/um/mc/_nummc6z1slkdz0ydz7ekzh7qys.jpeg"><br><br>  Passons √† SW1 et voyons son statut VTP.  Nous voyons que rien n'a chang√© ici, √† l'exception du nom de domaine, le nombre de VLAN est rest√© √©gal √† 7. Nous ne voyons pas l'apparence des r√©seaux que nous avons cr√©√©s, car le mot de passe VTP ne correspond pas.  D√©finissons le mot de passe VTP sur ce commutateur en entrant successivement les commandes conf t, vtp pass et vtp password cisco.  Le syst√®me a √©mis un message indiquant que la base de donn√©es VLAN du p√©riph√©rique utilise d√©sormais le mot de passe Cisco.  Examinons √† nouveau l'√©tat du VTP pour v√©rifier si les informations ont √©t√© r√©pliqu√©es.  Comme vous pouvez le voir, le nombre de VLAN existants a automatiquement augment√© √† 9. <br><br>  Si vous regardez la base de donn√©es VLAN de ce commutateur, vous pouvez voir que les r√©seaux VLAN200 et VLAN500 que nous avons cr√©√©s y apparaissent automatiquement. <br><br>  La m√™me chose doit √™tre faite avec le dernier interrupteur SW2.  Entrons dans la commande show vlan - vous voyez qu'il n'y a eu aucun changement.  De m√™me, il n'y a aucun changement dans le statut VTP.  Pour que ce commutateur mette √† jour les informations, vous devez √©galement configurer un mot de passe, c'est-√†-dire saisir les m√™mes commandes que pour SW1.  Apr√®s cela, le nombre de VLAN dans l'√©tat SW2 passera √† 9. <br><br>  C'est √† cela que sert le protocole VTP.  C'est une excellente chose, car elle fournit une mise √† jour automatique des informations sur tous les p√©riph√©riques r√©seau clients apr√®s avoir apport√© des modifications au p√©riph√©rique serveur.  Vous n'avez pas besoin de modifier manuellement la base de donn√©es VLAN de tous les commutateurs - la r√©plication se produit automatiquement.  Si vous disposez de 200 p√©riph√©riques r√©seau, vos modifications seront enregistr√©es simultan√©ment sur les 200 p√©riph√©riques.  Juste au cas o√π, nous devons nous assurer que SW2 est √©galement un client VTP, alors allez dans les param√®tres avec la commande config t et entrez la commande client vtp mode. <br><br>  Ainsi, dans notre r√©seau, seul le premier commutateur est en mode serveur VTP, les deux autres sont en mode client VTP.  Si maintenant je vais dans les param√®tres de SW2 et saisis la commande vlan 1000, je re√ßois le message: "La configuration VTP VLAN n'est pas autoris√©e lorsque l'appareil est en mode client."  Par cons√©quent, je ne peux apporter aucune modification √† la base de donn√©es VLAN si le commutateur est en mode client VTP.  Si je veux apporter des modifications, je dois aller sur le serveur de commutation. <br><br>  J'entre dans les param√®tres du terminal SW0 et saisis les commandes vlan 999, nomme IMRAN et quitte.  Ce nouveau r√©seau est apparu dans la base de donn√©es VLAN de ce commutateur, et si je vais maintenant dans la base de donn√©es du client de commutateur SW2, je verrai que les m√™mes informations sont apparues ici, c'est-√†-dire que la r√©plication s'est produite. <br><br>  Comme je l'ai dit, VTP est un excellent logiciel, mais s'il n'est pas utilis√© correctement, ce protocole peut perturber l'ensemble du r√©seau.  Par cons√©quent, vous devez √™tre tr√®s prudent avec le r√©seau de l'entreprise si le nom de domaine et le mot de passe VTP ne sont pas sp√©cifi√©s.  Dans ce cas, tout ce dont le pirate a besoin est d'ins√©rer le c√¢ble de son interrupteur dans une prise murale sur le mur, de se connecter √† n'importe quel commutateur de bureau en utilisant le protocole DTP puis, en utilisant le coffre cr√©√©, de mettre √† jour toutes les informations en utilisant le protocole VTP.  Ainsi, le pirate pourra supprimer tous les VLAN importants, profitant du fait que le num√©ro de r√©vision de son appareil est sup√©rieur au num√©ro de r√©vision des commutateurs restants.  Dans le m√™me temps, les commutateurs d'entreprise remplaceront automatiquement toutes les informations de la base de donn√©es VLAN par des informations r√©pliqu√©es √† partir d'un commutateur malveillant, et l'ensemble de votre r√©seau s'effondrera. <br><br>  Cela est d√ª au fait que les ordinateurs utilisant un c√¢ble r√©seau sont connect√©s √† un port de commutateur sp√©cifique auquel VLAN 10 ou VLAN20 est connect√©.  Si ces r√©seaux sont supprim√©s de la base de donn√©es LAN du commutateur, il d√©connectera automatiquement le port appartenant √† un r√©seau inexistant.  En r√®gle g√©n√©rale, le r√©seau d'une entreprise peut se bloquer pr√©cis√©ment parce que les commutateurs d√©sactivent simplement les ports associ√©s au VLAN qui ont √©t√© supprim√©s lors de la prochaine mise √† jour. <br><br>  Afin d'√©viter qu'un tel probl√®me ne se produise, vous devez d√©finir le nom de domaine et le mot de passe VTP ou utiliser la fonction Cisco Port Security, qui vous permet de g√©rer les adresses MAC des ports de commutateur en introduisant diverses restrictions sur leur utilisation.  Par exemple, si quelqu'un d'autre essaie de changer l'adresse MAC, le port s'arr√™te imm√©diatement.  Tr√®s bient√¥t, nous apprendrons √† conna√Ætre cette fonctionnalit√© des commutateurs Cisco de tr√®s pr√®s, et maintenant il vous suffit de savoir que la s√©curit√© des ports vous permet de vous assurer que VTP est prot√©g√© contre un attaquant. <br><br>  R√©sumez le param√®tre VTP.  Ce choix de version de protocole est 1 ou 2, le but du mode VTP est serveur, client ou transparent.  Comme je l'ai dit, le dernier mode ne met pas √† jour la base de donn√©es VLAN de l'appareil lui-m√™me, mais transmet simplement toutes les modifications aux appareils voisins.  Voici les commandes pour attribuer un nom de domaine et un mot de passe: domaine vtp &lt;nom de domaine&gt; et mot de passe vtp &lt;mot de passe&gt;. <br><br><img src="https://habrastorage.org/webt/cc/w-/ar/ccw-ardwngn7z0mm4ub3ggg7gps.jpeg"><br><br>  Parlons maintenant des param√®tres d'√©lagage VTP.  Si vous regardez la topologie du r√©seau, vous pouvez voir que les trois commutateurs ont la m√™me base de donn√©es VLAN, ce qui signifie que VLAN10 et VLAN20 font partie des 3 commutateurs.  Techniquement, le commutateur SW2 n'a pas besoin d'un r√©seau VLAN20, car il n'a pas de ports li√©s √† ce r√©seau.  Cependant, ind√©pendamment de cela, tout le trafic envoy√© depuis l'ordinateur Laptop0 via VLAN20 va vers le commutateur SW1 et de l√† vers les ports SW2 via un tronc.  Votre t√¢che principale en tant que sp√©cialiste du r√©seau est de vous assurer que le moins de donn√©es possible est transmis sur le r√©seau.  Vous devez assurer le transfert des donn√©es n√©cessaires, mais comment limiter le transfert d'informations qui ne sont pas n√©cessaires pour cet appareil? <br><br>  Vous devez vous assurer que le trafic destin√© aux p√©riph√©riques VLAN20 n'ira pas aux ports SW2 via le tronc lorsqu'il n'est pas n√©cessaire.  Autrement dit, le trafic Laptop0 doit atteindre SW1 et plus loin vers les ordinateurs du r√©seau VLAN20, mais ne doit pas d√©passer le port de jonction droit de SW1.  Ceci peut √™tre r√©alis√© en utilisant l'√©lagage VTP. <br><br>  Pour ce faire, nous devons entrer dans les param√®tres du serveur VTP SW0, car, comme je l'ai d√©j√† dit, les param√®tres VTP ne peuvent √™tre d√©finis que via le serveur, acc√©dez aux param√®tres de configuration globale et tapez la commande d'√©lagage vtp.  √âtant donn√© que Packet Tracer n'est qu'un simulateur, il n'y a aucune commande de ce type dans ses invites de ligne de commande.  Cependant, lorsque je tape l'√©lagage vtp et que j'appuie sur "Entr√©e", le syst√®me signale que l'√©lagage vtp n'est pas disponible. <br><br>  En utilisant la commande show vtp status, nous verrons que le mode d'√©lagage VTP est dans l'√©tat d√©sactiv√©, nous devons donc le rendre disponible en le d√©pla√ßant vers la position d'activation.  Cela fait, nous activons le mode d'√©lagage VTP sur les trois commutateurs de notre r√©seau dans le domaine du r√©seau. <br>  Permettez-moi de vous rappeler ce qu'est l'√©lagage VTP.  Lorsque nous activons ce mode, le serveur de commutation SW0 indique au commutateur SW2 que seul VLAN10 est configur√© sur ses ports.  Apr√®s cela, le commutateur SW2 informe le commutateur SW1 qu'il n'a besoin d'aucun trafic autre que le trafic destin√© au r√©seau VLAN10.  Maintenant, gr√¢ce √† l'√©lagage VTP, le commutateur SW1 dispose des informations dont il n'a pas besoin pour envoyer le trafic VLAN20 sur le tronc SW1-SW2. <br><br>  En tant qu'administrateur r√©seau, cela est tr√®s pratique pour vous.  Vous n'avez pas besoin d'entrer manuellement des commandes, car le commutateur est suffisamment intelligent pour envoyer exactement ce dont un p√©riph√©rique r√©seau particulier a besoin.  Si demain vous placerez une autre unit√© de marketing dans un b√¢timent voisin et connecterez son r√©seau VLAN20 au commutateur SW2, ce commutateur informera imm√©diatement le commutateur SW1 qu'il dispose d√©sormais de r√©seaux VLAN10 et VLAN20 et vous demandera de lui transf√©rer du trafic pour les deux r√©seaux.  Ces informations sont constamment mises √† jour sur tous les appareils, ce qui rend la communication plus efficace. <br><br><img src="https://habrastorage.org/webt/zh/i3/7l/zhi37lgxyefzidb0olg0j9xsqcc.jpeg"><br><br>  Il existe une autre fa√ßon de sp√©cifier le transfert de trafic - utilisez une commande qui autorise le transfert de donn√©es uniquement pour le VLAN sp√©cifi√©.  J'entre dans les r√©glages du switch SW1, o√π je m'int√©resse au port Fa0 / 4, et entre les commandes int fa0 / 4 et switchport trunk autoris√© vlan.  √âtant donn√© que je sais d√©j√† que SW2 n'a que VLAN10, je peux sp√©cifier le commutateur SW1 de sorte que son port de jonction autorise uniquement le trafic pour ce r√©seau √† passer en utilisant la commande vlan autoris√©e.  Ainsi, j'ai programm√© le port de jonction Fa0 / 4 pour transmettre le trafic pour VLAN10 uniquement.  Cela signifie que ce port ne passera pas de trafic suppl√©mentaire VLAN1, VLAN20 ou tout autre r√©seau √† l'exception de celui sp√©cifi√©. <br><br>  Vous pouvez demander ce qui est pr√©f√©rable d'utiliser - l'√©lagage VTP ou la commande vlan autoris√©e.  La r√©ponse est subjective, car dans certains cas, il est logique d'utiliser la premi√®re m√©thode, et dans certains - la seconde.  En tant qu'administrateur r√©seau, vous devez vous-m√™me choisir la meilleure solution.  Dans certains cas, la d√©cision de programmer le port pour autoriser le trafic pour un VLAN sp√©cifique peut √™tre bonne, mais dans certains cas, elle peut √™tre mauvaise.  Dans le cas de notre r√©seau, l'utilisation de la commande vlan autoris√©e peut √™tre garantie si nous n'allons pas changer la topologie du r√©seau.  Mais si quelqu'un souhaite par la suite ajouter un groupe d'appareils utilisant VLAN20 √† SW 2, il est pr√©f√©rable d'appliquer le mode d'√©lagage VTP. <br><br><img src="https://habrastorage.org/webt/qp/df/1d/qpdf1dmfb0p4assdcvctqizzgwi.jpeg"><br><br>  Ainsi, la configuration de l'√©lagage VTP consiste √† utiliser les commandes suivantes.  La commande d'√©lagage vtp permet d'utiliser automatiquement ce mode.  Si vous souhaitez configurer l'√©lagage VTP du port de jonction pour transmettre manuellement le trafic d'un VLAN sp√©cifique, puis utilisez la commande pour s√©lectionner l'interface du num√©ro de port de jonction &lt;#&gt;, activez la jonction de mode de port de commutation de mode de jonction et activez le trafic d'un r√©seau sp√©cifique √† l'aide de la vlan autoris√©e de jonction de jonction de jonction &lt; tout / aucun / ajouter / supprimer / #&gt;. <br><br>  Vous pouvez utiliser 5 param√®tres dans la derni√®re commande.  Tout signifie que le trafic est autoris√© pour tous les VLAN, aucun - le trafic n'est pas autoris√© pour tous les VLAN.  Si vous utilisez le param√®tre add, vous pouvez ajouter un passage de trafic pour un autre r√©seau.  Par exemple, nous avons autoris√© le trafic VLAN10, et avec la commande add, vous pouvez √©galement autoriser le passage du trafic r√©seau VLAN20.  La commande remove vous permet de supprimer l'un des r√©seaux, par exemple, si vous utilisez le param√®tre remove 20, seule la transmission du trafic VLAN10 reste. <br><br>  Consid√©rons maintenant le VLAN natif.  Nous avons d√©j√† dit que le VLAN natif est un r√©seau virtuel pour faire passer le trafic non balis√© via un port de jonction sp√©cifique. <br><br><img src="https://habrastorage.org/webt/dr/_l/ng/dr_lngwzayijz9dg5hrnrxruf2m.jpeg"><br><br>  J'entre dans les param√®tres d'un port sp√©cifique, comme indiqu√© par l'en-t√™te de ligne de commande SW (config-if) #, et j'utilise la commande switchport trunk native vlan &lt;num√©ro de r√©seau&gt;, par exemple, VLAN10.  Maintenant, tout le trafic VLAN10 passera par la balise sans √©tiquette. <br><br>  Retour √† la topologie de r√©seau logique dans la fen√™tre Packet Tracer.  Si j'utilise la commande switchport trunk native vlan 20 pour le port du commutateur Fa0 / 4, alors tout le trafic r√©seau VLAN20 passera par le tronc Fa0 / 4 - SW2 sans √©tiquette.  Lorsque le commutateur SW2 re√ßoit ce trafic, il pense: ¬´il s'agit d'un trafic non balis√©, je dois donc le transmettre au VLAN natif¬ª.  Pour ce commutateur, le VLAN natif est le r√©seau VLAN1.  Les r√©seaux 1 et 20 ne sont en aucun cas connect√©s, mais comme le mode VLAN natif est utilis√©, nous avons la possibilit√© d'acheminer le trafic VLAN20 vers un r√©seau compl√®tement diff√©rent.  Cependant, ce trafic ne sera pas encapsul√© et les r√©seaux eux-m√™mes devraient toujours correspondre. <br><br>  Regardons un exemple.  Je vais entrer dans les param√®tres SW1 et utiliser la commande switchport trunk native vlan 10. Maintenant, tout trafic VLAN10 proviendra du port de jonction sans √©tiquette.  Lorsqu'il atteint le port de jonction SW2, le commutateur comprend qu'il doit le transmettre au VLAN1.  Gr√¢ce √† cette solution, le trafic ne pourra pas atteindre les ordinateurs PC2, 3 et 4, car ils sont connect√©s aux ports d'acc√®s du commutateur destin√©s au VLAN10. <br><br>        ,  native VLAN  Fa0/4,    VLAN10,     Fa0/1,    VLAN1.  ,          -  native VLAN. <br><br><img src="https://habrastorage.org/webt/gw/qt/xg/gwqtxg60_7zjscy-yhlvo9fv6nc.jpeg"><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8Ai0Bi71PsE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?       , <b>30%        entry-level ,      :</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps  $20     ?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV √† partir de 199 $</a> aux Pays-Bas!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - √† partir de 99 $!</b></b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation d'un b√¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr463231/">https://habr.com/ru/post/fr463231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr463213/index.html">Id√©es fausses pour les d√©veloppeurs C # novices. Essayer de r√©pondre √† des questions standard</a></li>
<li><a href="../fr463215/index.html">Les ing√©nieurs et les architectes con√ßoivent d√©j√† des √©tablissements lunaires</a></li>
<li><a href="../fr463221/index.html">Regarder le soleil: 5 types de gadgets, de 5 $ √† 5 000 $</a></li>
<li><a href="../fr463225/index.html">WiFi Enterprise. FreeRadius + FreeIPA + Ubiquiti</a></li>
<li><a href="../fr463229/index.html">Jetpacks dans la culture: cin√©ma</a></li>
<li><a href="../fr463233/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 15. Communication lente et s√©curit√© des ports</a></li>
<li><a href="../fr463237/index.html">Comment nous avons jou√© de la musique avec les r√©seaux de neurones v 2.0</a></li>
<li><a href="../fr463239/index.html">22 ao√ªt - Alfa JS MeetUP SPb</a></li>
<li><a href="../fr463241/index.html">Notes de conf√©rence ACL 2019</a></li>
<li><a href="../fr463243/index.html">Manipulation de la conscience. Pourquoi est-ce si simple?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>