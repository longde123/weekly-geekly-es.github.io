<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öõÔ∏è ‚úäüèø üèÇüèº Notas del proveedor de IoT. Tecnolog√≠a y econom√≠a LoRaWAN en alumbrado urbano üëçüèæ üêó ‚ùáÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En la √∫ltima serie ... 

 Hace aproximadamente un a√±o, escrib√≠ sobre la gesti√≥n de la iluminaci√≥n urbana en una de nuestras ciudades. All√≠ todo era mu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Notas del proveedor de IoT. Tecnolog√≠a y econom√≠a LoRaWAN en alumbrado urbano</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483790/">  <b>En la √∫ltima serie ...</b> <br><br>  Hace aproximadamente un a√±o, <a href="https://habr.com/ru/post/434266/">escrib√≠</a> sobre la gesti√≥n de la iluminaci√≥n urbana en una de nuestras ciudades.  All√≠ todo era muy simple: de acuerdo con el cronograma, el poder de las l√°mparas se encend√≠a y apagaba a trav√©s del SHUNO (gabinete de control para la iluminaci√≥n exterior).  Hubo un rel√© en el SHUNO, a cuyo mando se encendi√≥ una cadena de luces.  De lo interesante, quiz√°s, solo que se hizo a trav√©s de LoRaWAN. <br><br>  Como recordar√°n, inicialmente fuimos construidos en m√≥dulos SI-12 (Fig. 1) de Vega.  Incluso en la etapa piloto, inmediatamente tuvimos problemas. <br><br><img src="https://habrastorage.org/webt/di/d7/so/did7soqe2e7vu1w2rge21geog34.png"><br>  <i>Figura 1. - M√≥dulo SI-12</i> <br><a name="habracut"></a><br><ol><li>  Dependemos de la red LoRaWAN.  Graves interferencias en el aire o ca√≠da del servidor y tenemos problemas con la iluminaci√≥n de la ciudad.  Improbable, pero posible. </li><li>  SI-12 solo tiene una entrada de pulso.  Puede conectarle un medidor el√©ctrico y leer las lecturas actuales.  Pero por un corto per√≠odo de tiempo (5-10 minutos) es imposible rastrear el salto en el consumo que ocurre despu√©s de encender las luces.  A continuaci√≥n explicar√© por qu√© esto es importante. </li><li>  El problema es m√°s serio.  M√≥dulos SI-12 colgados de forma estable.  Aproximadamente una vez cada 20 carreras.  En conjunto con Vega, tratamos de eliminar la causa.  Durante la prueba piloto, se lanzaron dos nuevos firmware de m√≥dulo y una nueva versi√≥n de servidor, donde solucionaron varios problemas graves.  Al final, los m√≥dulos dejaron de colgar.  Y aun as√≠ nos apartamos de ellos. </li></ol><br>  Y ahora ... <br><br>  Por el momento, hemos construido un proyecto mucho m√°s avanzado. <br><br>  Se basa en m√≥dulos IS-Industry (Fig. 2).  Iron fue desarrollado por nuestro proveedor externo, ellos mismos escribieron el firmware.  Este es un m√≥dulo muy inteligente.  Dependiendo del firmware que est√© cargado, puede controlar la iluminaci√≥n o interrogar a los dispositivos de medici√≥n con un gran conjunto de par√°metros.  Por ejemplo, medidores de calor o medidores de electricidad trif√°sicos. <br>  Algunas palabras sobre lo que se implementa. <br><br><img src="https://habrastorage.org/webt/_u/x8/cg/_ux8cggabg-ymfw8fcvjyogj2om.png"><br>  <i>Figura 2. - M√≥dulo IS-Industry</i> <br><br>  1. De ahora en adelante, IS-Industry tiene su propia memoria.  Con el firmware para light, las llamadas estrategias se cargan de forma remota en esta memoria.  De hecho, este es un cronograma para encender / apagar SHUNO durante un cierto per√≠odo.  Ya no dependemos del canal de radio al encenderlo y apagarlo.  Dentro del m√≥dulo hay un horario seg√∫n el cual funciona independientemente de cualquier cosa.  Cada pr√°ctica est√° necesariamente acompa√±ada de un comando para el servidor.  El servidor debe saber que nuestro estado ha cambiado. <br><br>  2. El mismo m√≥dulo puede interrogar al medidor el√©ctrico en el SHUNO.  Cada hora, los paquetes provienen de √©l con el consumo y un mont√≥n de par√°metros que el medidor puede producir. <br>  Pero ese no es el punto.  Dos minutos despu√©s del cambio de estado, se env√≠a un comando extraordinario con lecturas de contador instant√°neas.  De ellos podemos juzgar que la luz realmente se encendi√≥ o apag√≥.  O algo sali√≥ mal.  Hay dos indicadores en la interfaz.  El interruptor muestra el estado actual del m√≥dulo.  La bombilla est√° ligada a la ausencia o presencia de consumo.  Si estos estados se contradicen entre s√≠ (el m√≥dulo est√° apagado, pero el consumo est√° encendido y viceversa), la l√≠nea con SHUNO se resalta en rojo y se genera una alarma (Fig. 3).  En el oto√±o, dicho sistema nos ayud√≥ a encontrar un rel√© de arranque atascado.  De hecho, el problema no es nuestro, nuestro m√≥dulo funcion√≥ correctamente.  Pero trabajamos en inter√©s del cliente.  Por lo tanto, deben mostrarle cualquier accidente debido al cual pueda haber problemas con la iluminaci√≥n. <br><br><img src="https://habrastorage.org/webt/wr/6m/et/wr6met37vmkagjtz85ttaakgf7w.png"><br>  <i>Figura 3. - El consumo contradice el estado del rel√©.</i>  <i>Por lo tanto, la l√≠nea se resalta en rojo.</i> <br><br>  Seg√∫n las lecturas por hora, se construyen gr√°ficos. <br><br>  La l√≥gica es la misma que la √∫ltima vez.  Monitoreamos el hecho de la inclusi√≥n del aumento del consumo de electricidad.  Rastrea el consumo medio.  El consumo debajo de la mediana, parte de las l√°mparas quemadas, arriba, roban electricidad de un pilar. <br><br>  3. Paquetes regulares con informaci√≥n sobre el consumo y que el m√≥dulo est√° en orden.  Vienen en diferentes momentos y no crean un flechazo en el aire. <br><br>  4. Como antes, podemos activar o desactivar el SHUNO en cualquier momento.  Es necesario, por ejemplo, buscar un farol quemado en una cadena por un equipo de emergencia. <br><br>  Tales mejoras a veces aumentan la tolerancia a fallas. <br>  Este modelo de gesti√≥n es quiz√°s el m√°s demandado en Rusia. <br><br>  Y tambi√©n ... <br><br>  Fuimos m√°s lejos. <br><br>  El hecho es que generalmente puede alejarse de ShUNO en el sentido cl√°sico y controlar cada l√°mpara individualmente. <br><br>  Para hacer esto, es necesario que la linterna admita el protocolo de atenuaci√≥n (0-10, DALI o alg√∫n otro) y tenga un conector Nemo. <br><br>  Nemo-socket es un conector est√°ndar de 7 pines (en la Figura 4), que a menudo se usa en alumbrado p√∫blico.  Desde la linterna, los contactos de alimentaci√≥n e interfaz se env√≠an a este conector. <br><br><img src="https://habrastorage.org/webt/lf/yk/rx/lfykrxgs2s31avpkqrd3p1adxgq.jpeg"><br>  <i>Figura 4. - Nemo-socket</i> <br><br>  0-10 es un protocolo de control de iluminaci√≥n bien conocido.  Ya no es joven, pero est√° bien establecido.  Gracias a los comandos de este protocolo, no solo podemos encender o apagar la l√°mpara, sino tambi√©n ponerla en modo de atenuaci√≥n.  En pocas palabras, aten√∫a la luz sin apagarla por completo.  Podemos silenciar un cierto valor en porcentaje.  30 o 70 o 43. <br><br>  Funciona asi.  En la parte superior del conector Nemo, nuestro m√≥dulo de control est√° instalado.  Este m√≥dulo admite el protocolo 0-10.  Los equipos llegan a trav√©s de LoRaWAN a trav√©s del canal de radio (Fig. 5). <br><br><img src="https://habrastorage.org/webt/ys/il/vp/ysilvp3v7oo3agaazzg4uvkw_q8.jpeg"><br>  <i>Figura 5. - Linterna con un m√≥dulo de control</i> <br><br>  ¬øQu√© puede hacer este m√≥dulo? <br><br>  √âl sabe c√≥mo encender y apagar la l√°mpara, atenu√°ndola en cierta cantidad.  Y √©l sabe c√≥mo rastrear el consumo de la l√°mpara.  En el caso de la atenuaci√≥n, se observa una ca√≠da en el consumo de corriente. <br><br>  Ahora estamos rastreando no solo una cadena de linternas, sino que gestionamos y rastreamos CADA linterna.  Y, por supuesto, para cada una de las l√°mparas podemos obtener un cierto error. <br><br>  Adem√°s, puede complicar significativamente la l√≥gica de las estrategias. <br><br>  Por ejemplo  Informamos a la l√°mpara n√∫mero 5 que debe encenderse a las 18-00, a las 3-00 atenuadas en un 50 por ciento a 4-50, luego encender de nuevo al cien por ciento y apagar a las 9-20.  Todo esto se configura f√°cilmente en nuestra interfaz y se forma en una estrategia de trabajo que es comprensible para la l√°mpara.  Esta estrategia se vierte sobre la l√°mpara y funciona hasta que lleguen otros equipos. <br><br>  Como en el caso del m√≥dulo para SHUNO, no tenemos problemas con la p√©rdida de comunicaciones de radio.  Incluso si le sucede algo cr√≠tico, la iluminaci√≥n seguir√° funcionando.  Adem√°s, no hay enamoramiento en el aire en el momento en que necesita encender, digamos, cien l√°mparas.  Podemos rodearlos con seguridad, turn√°ndonos para tomar lecturas y ajustar estrategias.  Adem√°s, con cierta periodicidad, los paquetes de se√±al se configuran para que el dispositivo est√© activo y listo para comunicarse. <br>  El manejo no programado solo se realizar√° en caso de accidente.  Afortunadamente, en este caso tenemos un lujo como la comida constante y podemos pagar la clase C. <br><br>  Una cuesti√≥n importante que volver√© a plantear.  Cada vez que presentamos nuestro sistema, me preguntan: ¬øqu√© tal un rel√© de fotos?  ¬øSe puede atornillar la fotoc√©lula all√≠? <br><br>  Puramente t√©cnico: no hay problemas.  Pero todos los clientes con los que estamos hablando ahora se niegan categ√≥ricamente a tomar informaci√≥n de los fotosensores.  Solicite operar solo con el horario y las f√≥rmulas astron√≥micas.  A√∫n as√≠, la iluminaci√≥n de la ciudad es cr√≠tica e importante. <br><br>  Y ahora lo m√°s importante.  La economia. <br><br>  Trabajar con SHUNO a trav√©s de un m√≥dulo de radio tiene claras ventajas, un costo relativamente bajo.  Aumenta el control sobre las luminarias y simplifica el mantenimiento.  Aqu√≠ todo est√° claro y los beneficios econ√≥micos son obvios. <br><br>  Pero con el control de cada l√°mpara, todo es m√°s complicado. <br><br>  Hay varios proyectos similares implementados en Rusia.  Sus integradores informan con orgullo que, debido a la atenuaci√≥n, lograron ahorrar energ√≠a y as√≠ recuperar el proyecto. <br><br>  Nuestra experiencia muestra que no todo es tan simple. <br><br>  A continuaci√≥n le doy una tabla con el c√°lculo de la recuperaci√≥n de la inversi√≥n de la atenuaci√≥n en rublos por a√±o y en meses para una l√°mpara (Fig. 6). <br><br><img src="https://habrastorage.org/webt/-9/y_/qi/-9y_qibht62iebiwwgt9ibdiwei.png"><br>  <i>Figura 6. - C√°lculo de ahorros por oscurecimiento</i> <br><br>  Muestra cu√°ntas horas al d√≠a est√° encendida la iluminaci√≥n, en promedio durante meses.  Creemos que alrededor del 30 por ciento de este tiempo, la l√°mpara brilla al 50 por ciento de la potencia y otro 30 por ciento al 30 por ciento de la potencia.  El resto est√° a plena potencia.  Redondeado a d√©cimas. <br>  Para simplificar, creo que en el modo de potencia del 50 por ciento, la l√°mpara consume la mitad de lo que consume al 100 por ciento.  Esto tambi√©n est√° un poco mal, porque hay un consumo del controlador, que es constante.  Es decir  Los ahorros reales saldr√°n menos que en la tabla.  Pero por simplicidad de percepci√≥n, que as√≠ sea. <br><br>  Tomaremos el precio por kilovatio de electricidad a 5 rublos, el precio promedio para las personas jur√≠dicas. <br><br>  Total, durante un a√±o con una l√°mpara, es realmente posible ahorrar de 313 rublos a 1409 rublos.  Como puede ver, en dispositivos de baja potencia, el beneficio es muy peque√±o, con potentes iluminadores m√°s interesantes. <br><br>  ¬øQu√© pasa con los costos? <br><br>  El aumento en el precio de cada l√°mpara, al agregarle el m√≥dulo LoRaWAN, es de aproximadamente 5500 rublos.  All√≠, el m√≥dulo en s√≠ es de aproximadamente 3,000, m√°s el costo del Nemo-Socket en la l√°mpara, otros 1,500 rublos, m√°s el trabajo de instalaci√≥n y configuraci√≥n.  Esto todav√≠a no tengo en cuenta que para tales l√°mparas es necesario pagar una tarifa mensual al propietario de la red. <br><br>  Resulta que la recuperaci√≥n del sistema es en el mejor de los casos (con la l√°mpara m√°s potente) un poco menos de cuatro a√±os.  Payback  Mucho tiempo <br><br>  Pero incluso en este caso, la tarifa de suscripci√≥n anular√° todo.  Y sin ella, el costo a√∫n tendr√° que cubrir el mantenimiento de la red LoRaWAN, que tampoco es barata. <br><br>  Todav√≠a hay un peque√±o ahorro en el trabajo de los equipos de emergencia, que ahora planean trabajar de manera mucho m√°s √≥ptima.  Pero ella no salvar√°. <br><br>  Resulta que todo en vano? <br><br>  No  De hecho, la respuesta correcta aqu√≠ es esta. <br><br>  Administrar cada linterna es parte de una ciudad inteligente.  La parte que no se guarda directamente, y por la que incluso tienes que pagar un poco m√°s.  Pero a cambio obtenemos algo importante.  En esta arquitectura, tenemos un alimento constante garantizado en cada pilar durante todo el d√≠a.  No solo de noche. <br><br>  Casi todos los proveedores enfrentaron un problema.  Necesitamos hacer wi-fi en la plaza principal.  O video vigilancia en el parque.  La administraci√≥n da el visto bueno y brinda apoyo.  Pero el problema es que los postes de luz y la electricidad est√°n ah√≠ solo de noche.  Tenemos que ser sabios, extraer energ√≠a adicional a lo largo de los soportes, poner bater√≠as y otras cosas extra√±as. <br><br>  En el caso de controlar cada l√°mpara, podemos colgar tranquilamente algo m√°s en un poste con una l√°mpara y hacerla "inteligente". <br><br>  Y aqu√≠ nuevamente la cuesti√≥n de la econom√≠a y la aplicabilidad.  En alg√∫n lugar en la parte trasera de la ciudad, SHUNO es suficiente para la vista.  En el centro, tiene sentido construir algo m√°s complejo y manejable. <br><br>  Lo principal es que en estos c√°lculos se deben indicar los n√∫meros reales, y no los sue√±os sobre Internet de las cosas. <br><br>  <b>PD:</b> para este a√±o pude hablar con muchos ingenieros dedicados al campo de la iluminaci√≥n.  Y algunos me argumentaron que todav√≠a hay una econom√≠a en el manejo de cada l√°mpara.  Estoy abierto a la discusi√≥n, mis c√°lculos est√°n dados.  Si puedes demostrar lo contrario, escribir√© sobre eso. </div></div><p>Source: <a href="https://habr.com/ru/post/483790/">https://habr.com/ru/post/483790/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../483778/index.html">Semana de la seguridad 03: Principios responsables del informe de errores</a></li>
<li><a href="../483780/index.html">¬øQu√© es la holgura y c√≥mo funciona?</a></li>
<li><a href="../483784/index.html">C√≥mo hacer una aplicaci√≥n multiinquilino a partir de una aplicaci√≥n no inquilina</a></li>
<li><a href="../483786/index.html">Clasificaci√≥n h√≠brida</a></li>
<li><a href="../483788/index.html">La peque√±a naci√≥n isle√±a gana gracias a Twitch</a></li>
<li><a href="../483794/index.html">Dejando ir: por qu√© no deber√≠as tomar kontroffer</a></li>
<li><a href="../483796/index.html">Par√°metros opcionales en repositorios de datos de Spring</a></li>
<li><a href="../483798/index.html">C√≥mo automatizar la redacci√≥n de anuncios en Google Ads</a></li>
<li><a href="../483800/index.html">¬°No duermas! C√≥mo aprendimos a lanzar 12,000 ofertas de boletos por noche</a></li>
<li><a href="../483802/index.html">C√≥mo lanzar un producto solo si es desarrollador: Consejos del creador de Laravel, Taylor Otvel. Parte 1: audiencia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>