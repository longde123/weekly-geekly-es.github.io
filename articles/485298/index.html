<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê¢ ‚òÑÔ∏è üìò El misterioso programa LyX. Parte 4 üßîüèø üö£ ‚õπüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Copiado de mi blog para crear otra fuente de informaci√≥n en ruso sobre este tema. 

 Este art√≠culo es una continuaci√≥n de los siguientes art√≠culos en ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El misterioso programa LyX. Parte 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485298/">  Copiado de <a href="https://matematikaandinformatika.blogspot.com/p/blog-page_83.html" rel="nofollow">mi blog</a> para crear otra fuente de informaci√≥n en ruso sobre este tema. <br><br>  Este art√≠culo es una continuaci√≥n de los siguientes art√≠culos en un solo ciclo: <br><br>  <a href="https://habr.com/ru/post/466423/">art√≠culo 1</a> <br>  <a href="https://habr.com/ru/post/482550/">art√≠culo 2</a> <br>  <a href="https://habr.com/ru/post/484282/">art√≠culo 3</a> <br><br><h3>  LyX: \\. \ Pipe \ lyxpipe </h3><br>  En general, esta funci√≥n es necesaria para organizar la interacci√≥n de LyX con otros programas.  En particular, resulta que puede ingresar comandos a trav√©s de la l√≠nea de comandos en una ventana abierta del programa LyX.  En primer lugar, para que esto funcione, en <b>Herramientas&gt; Configuraci√≥n&gt; Rutas,</b> en <i>el</i> cuadro de texto del <i>canal del servidor LyX</i> , ingrese lo siguiente: <br><br><pre><code class="plaintext hljs">\\.\pipe\lyxpipe</code> </pre> <br>  , y ni <code>.in</code> ni <code>.out</code> se atribuyen al lyxpipe al final.  Naturalmente, haga clic en <code></code> .  Adem√°s, la ventana del programa LyX, en la que era necesario ingresar comandos desde la ventana del s√≠mbolo del sistema, debe iniciarse antes de esta l√≠nea de comando, desde la cual los comandos se ingresar√°n en esta ventana del programa LyX, de lo contrario, nada funcionar√°.  Aqu√≠ hay ejemplos de c√≥mo escribir comandos en la l√≠nea de comandos para hacer esto: <br><br><pre> <code class="plaintext hljs">echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in echo LYXCMD:formula:math-mode:\alpha&gt; \\.\pipe\lyxpipe.in echo LYXCMD:vstgrafiki:inset-apply:graphics filename zdes kujut hip-hop.png&gt; \\.\pipe\lyxpipe.in</code> </pre> <br>  En mi opini√≥n, el √∫ltimo equipo merece inter√©s.  Este comando inserta una foto <i>zdes kujut hip-hop.png</i> )), ubicada en la carpeta especificada en <b>Herramientas&gt; Configuraci√≥n ...&gt; Rutas</b> en el cuadro de texto del <i>directorio</i> del <i>Usuario</i> en la ventana del programa LyX abierta (antes de abrir la l√≠nea de comando). <a name="habracut"></a><br><br><h3>  LyX: b√∫squeda directa e inversa </h3><br>  <a href="https://tex.stackexchange.com/questions/473572/lyx-2-3-how-can-i-successfully-set-up-the-forward-and-inverse-search" rel="nofollow">Aqu√≠</a> se describe c√≥mo se configura <a href="https://tex.stackexchange.com/questions/473572/lyx-2-3-how-can-i-successfully-set-up-the-forward-and-inverse-search" rel="nofollow">esto</a> .  Solo te dir√© c√≥mo lo hice en ruso.  Entonces  Estamos utilizando una versi√≥n no clasificable de SumatraPDF.  Entonces lo descargamos, lo instalamos.  A continuaci√≥n, en "Inicio&gt; Programas predeterminados&gt; Asignaci√≥n de tipos de archivos o protocolos a programas individuales", aseg√∫rese de que los archivos <code>.pdf</code> se abran con SumatraPDF.  Luego vamos a la carpeta <code>C:\Users\\AppData\Roaming\SumatraPDF</code> .  Desde all√≠, siguiendo los consejos del enlace proporcionado, copie el archivo <i>SumatraPDF-settings.txt</i> en alg√∫n lugar. <br><br>  Luego, fue necesario agregar de alguna manera la ruta a la carpeta que contiene el archivo SumatraPDF que abre el programa (tengo esta carpeta <code>C:\Program Files\SumatraPDF</code> ) en PATH.  Por alguna raz√≥n, agregu√© esto a las <i>Variables de entorno</i> del <i>usuario para IVAN</i> .  Adem√°s, la ruta a la carpeta que contiene el archivo que inicia el programa LyX (para m√≠ es <code>C:\Program Files\LyX 2.0\bin</code> ) tambi√©n debe estar contenida en PATH.  A continuaci√≥n, vaya a la carpeta <code>C:\Program Files\SumatraPDF</code> , abra el archivo <i>SumatraPDF.exe</i> .  En la ventana que aparece del programa SumatraPDF, haga clic izquierdo en las 3 barras horizontales en la esquina superior izquierda (o, tal vez, la esquina))), luego, <b>Configuraci√≥n&gt; Configuraci√≥n avanzada</b> .  Al mismo tiempo, el mismo archivo <i>SumatraPDF-settings.txt</i> se abrir√° en el bloc de notas, una copia de la cual hemos colocado previamente en un lugar apartado, por lo que ahora podemos hacer lo que queramos con este archivo.  Y haremos lo siguiente con √©l.  Aqu√≠ hay una lista de algunas variables junto con sus valores: <br><br><pre> <code class="plaintext hljs">ReuseInstance = true ReloadModifiedDocuments = true InverseSearchCmdLine = lyxeditor.cmd "%f" %l EnableTeXEnhancements = true UseTabs = true</code> </pre><br>  Entonces aqu√≠.  En el archivo <i>SumatraPDF-settings.txt</i> , verificamos la presencia de estas variables (palabras a la izquierda del signo igual), si est√°n all√≠, verificamos la coincidencia del valor (palabras a la derecha del signo igual) de las variables encontradas en este archivo de la lista anterior con los valores de tales mismas variables de esta lista.  Si en la lista anterior el valor de cualquier variable fuera diferente del valor de la variable correspondiente en el archivo, ser√≠a necesario rehacer el valor de esta variable al mismo que en la lista anterior.  Si alguna variable de la lista junto con su valor no estuviera en el archivo, solo tendr√≠amos que copiar la variable junto con su valor en el archivo.  Bueno, personalmente, no cambi√© nada en este archivo: todas las variables enumeradas en la lista ya exist√≠an en el archivo y a todas estas variables en el archivo se les asignaron los valores correspondientes enumerados en la lista directamente al instalar SumatraPDF.  Cerrar, guardar los cambios.  Eso es todo, se configurar√° SumatraPDF despu√©s de eso.  Procedemos a configurar LyX.  Entonces, abra el programa LyX si hasta ahora no se ha abierto o por alguna raz√≥n se ha cerrado.  Vaya a <b>Herramientas&gt; Configuraci√≥n ...&gt; Rutas</b> .  En <i>el</i> campo de texto del <i>canal del servidor LyX,</i> ingrese <br><br><pre> <code class="plaintext hljs">\\.\pipe\lyxpipe</code> </pre> <br>  A continuaci√≥n, vaya a <b>Herramientas&gt; Configuraci√≥n ...&gt; Procesamiento de archivos&gt; Convertidores</b> .  All√≠, en el √°rea bajo la frase <i>Definiciones de convertidores,</i> seleccione <i>LaTeX (pdflatex) -&gt; PDF (pdflatex)</i> con el bot√≥n izquierdo del mouse.  A continuaci√≥n, eliminamos su contenido del campo de texto <i>Convertidor</i> e insertamos (bueno, o ingresamos a mano) lo siguiente: <br><br><pre> <code class="plaintext hljs">pdflatex -interaction=nonstopmode -synctex=1 $$i</code> </pre> <br>  Y desde el cuadro de texto, <i>adem√°s,</i> elimine su contenido.  Haz clic en el bot√≥n <i>Cambiar</i> .  Entonces <i>guardar</i> .  Vuelva a <b>Herramientas&gt; Configuraci√≥n ...&gt; Procesamiento de archivos&gt; Convertidores</b> .  Compruebe si la configuraci√≥n est√° guardada.  Para m√≠, cuando voy all√≠ ahora, cuando busco en ambas direcciones, entro, despu√©s de hacer clic con el bot√≥n izquierdo en <i>LaTeX (pdflatex) -&gt; PDF (pdflatex)</i> , luego la ubicaci√≥n de la configuraci√≥n se ve as√≠: <br><br><img src="https://habrastorage.org/webt/z-/kp/cj/z-kpcjome5wv5rlqqxawtywxizm.jpeg"><br><br>  A continuaci√≥n, vaya a <b>Herramientas&gt; Configuraci√≥n ..&gt; Salida&gt; General</b> .  All√≠, en el cuadro de texto <i>Comando PDF</i> , ingrese el siguiente comando: <br><br><pre> <code class="plaintext hljs">SumatraPDF -forward-search "$$t" $$n "$$o"</code> </pre> <br>  , haga clic en <i>Aplicar</i> .  Por lo tanto, este lugar se ver√° as√≠: <br><br><img src="https://habrastorage.org/webt/ie/_o/fa/ie_ofa-dota4jjaf13n49wzftye.jpeg"><br><br>  Vaya a <b>Herramientas&gt; Configuraci√≥n ..&gt; Manejo de archivos&gt; Formatos de archivo</b> .  All√≠ estableceremos la lista desplegable <i>Formato</i> eligiendo el valor <i>PDF (pdflatex)</i> con el bot√≥n izquierdo del mouse, el valor <i>definido por</i> el <i>usuario</i> en la lista desplegable del <i>Visor</i> , e ingrese en el cuadro de texto a la derecha de esta lista <br><br><pre> <code class="plaintext hljs">SumatraPDF</code> </pre> <br>  Actualmente hay: <br><br><img src="https://habrastorage.org/webt/km/lu/ci/kmlucijdrj323mb-hazjfv02cnm.jpeg"><br><br>  Y finalmente, en la <code>C:\Program Files\LyX 2.0\bin</code> cree un archivo con el nombre <i>lyxeditor</i> y la extensi√≥n <code>.cmd</code> (de hecho, es el mismo archivo por lotes) con el siguiente contenido: <br><br><pre> <code class="plaintext hljs"> @echo off SETLOCAL enabledelayedexpansion set file=%1 set row=%2 REM remove quotes from variables set file=!file:"=! set row=!row:"=! %comspec% /q /c (@echo LYXCMD:revdvi:server-goto-file-row:%file% %row%)&gt; \\.\pipe\lyxpipe.in&amp;&amp;type \\.\pipe\lyxpipe.out endlocal</code> </pre><br>  Tom√© el c√≥digo para este archivo por lotes <a href="https://wiki.lyx.org/LyX/SyncTeX" rel="nofollow">de aqu√≠</a> cuando hice clic en el enlace de la p√°gina en ingl√©s, cuyo contenido estoy volviendo a contar aqu√≠ (el enlace a esta p√°gina lo proporcion√© aqu√≠, solo arriba).  Honestamente, sobre la creaci√≥n de un archivo por lotes en una p√°gina en ingl√©s, se dijo mucho antes que esto, pero ¬øcu√°l es la diferencia?  Por cierto, el c√≥digo de este archivo por lotes me llev√≥ a pensar en c√≥mo ingresar comandos en la l√≠nea de comandos para que se ingresen desde esta l√≠nea en la ventana abierta del programa LyX, que sirvi√≥ de base para escribir el p√°rrafo <i>LyX: \\. \ Pipe \ lyxpipe de</i> este art√≠culo.  Antes de eso, trat√© de insertar comandos desde la l√≠nea de comandos en la ventana del programa LyX, tomando estos comandos del manual, por ejemplo, intent√© ejecutar el siguiente comando desde la l√≠nea de comandos: <br><br><pre> <code class="plaintext hljs">echo "LYXCMD:test:get-xy:" &gt;~/.lyxpipe.in</code> </pre> <br>  Pero nada me funcion√≥.  Bueno, y ahora, volviendo a la b√∫squeda relacionada con LyX.  ¬øC√≥mo usarlo?  Pero muy simple.  Ahora, si hicimos una vista previa del archivo <code>.lyx</code> abierto, cuando hace clic en <b>Navegaci√≥n&gt; B√∫squeda hacia adelante</b> por un corto tiempo en la ventana correspondiente de SumatraPDF, varias l√≠neas que contienen la misma palabra se resaltan en p√∫rpura (al menos para m√≠), junto a la palabra correspondiente en la ventana LyX en cursor parpadeante actualmente  Cuando hace doble clic en la ventana SumatraPDF, el foco se transfiere a la ventana LyX y el cursor comienza a parpadear all√≠, mientras que cuando hace clic en diferentes lugares de la ventana SumatraPDF, el cursor comienza a parpadear en diferentes lugares de la ventana LyX.  No puedo decir nada m√°s espec√≠fico sobre la relaci√≥n de la posici√≥n del cursor en LyX con las l√≠neas resaltadas en SumatraPDF, as√≠ como la relaci√≥n de la posici√≥n de doble clic en SumatraPDF con el lugar en la ventana de LyX donde el cursor comienza a parpadear.  Entonces, la tarea es bastante complicada, as√≠ que d√©jame darte una traducci√≥n de esa p√°gina, cuyo contenido estoy contando aqu√≠, hecha por el navegador de Google: de repente me perd√≠ algo.  Entonces <br><br><hr><br>  De MyNotes <br>  Actualizado para la √∫ltima versi√≥n 2.3.32019 <br>  Se recomienda a los usuarios de MiKTeX actualizar a la √∫ltima versi√≥n antes de instalar LyX 2.3.3+ para Windows.  Si tiene una instalaci√≥n permanente de <i>SumatraPDF</i> , solo necesita instalar <i>-inverse-search UNA VEZ</i> , al igual que con las pesta√±as, no tenemos que perder tiempo para decidir qu√© sesi√≥n abordar.  Tenga en cuenta que SumatraPDF puede tener m√∫ltiples ventanas y sesiones, pero esto est√° m√°s all√° del alcance de esta respuesta.  InverseSearchCmdLine = almacenado permanentemente en SumatraPDF-settings.txt.  El editor no debe personalizarlo a menos que necesite reinstalar o reemplazar SumatraPDF-settings.txt (¬°haga una copia de seguridad!) <br><br><h4>  Configuraciones en SumatraPDF </h4><br>  La diferencia notable es que volvemos al archivo cmd de <i>Okular</i> m√°s estable ( <i>Okular</i> usa exactamente el mismo sistema de llamadas que <i>SumatraPDF</i> ), lo que evita llamadas innecesarias.  <i>SumatraPDF</i> debe instalarse de tal manera que funcione desde cualquier llamada al sistema, como <i>SumatraPDF</i> , lo que significa que debe estar "en camino" (si se utiliza la versi√≥n port√°til, <i>SumatraPDF.exe</i> debe agregarse temporalmente a la ruta del usuario hasta la primera llamada de Lyx) Inicie <i>SumatraPDF</i> y vaya a <b>Configuraci√≥n&gt; Opciones avanzadas</b> .  Esto abrir√° el archivo <i>SumatraPDF-settings.txt</i> en <i>NotePad</i> , ahora despu√©s de verificar las entradas, verifique o cambie lo siguiente. <br><br><pre> <code class="plaintext hljs">ReuseInstance = true ReloadModifiedDocuments = true InverseSearchCmdLine = lyxeditor.cmd "%f" %l EnableTeXEnhancements = true UseTabs = true</code> </pre> <br>  Recuerde que <code>%l</code> es una letra min√∫scula L, y aseg√∫rese de presionar <i>CTRL</i> + <i>S</i> (Guardar archivo).  Si necesita agregar <code>c: ... LyX \ bin \</code> a esta <i>InverseSearchCmdLine</i> , entonces instal√≥ LyX incorrectamente.  El archivo <code>.cmd</code> se encuentra en la carpeta bin, que DEBE estar en la ruta del sistema. <br><br><h4>  Configuraciones en LyX </h4><br>  Siga las instrucciones de <a href="https://wiki.lyx.org/LyX/SyncTeX" rel="nofollow">SyncTex</a> en <a href="https://wiki.lyx.org/LyX/SyncTeX" rel="nofollow">wiki.lyx.org/LyX/SyncTex</a> . <br><br>  "(Nota: la b√∫squeda inversa de archivos .lyx con espacios u otros caracteres especiales en el nombre del archivo no siempre funciona con este enfoque en algunos sistemas Windows)" <br><br>  Mis notas debido a este m√©todo √∫nico de llamar al canal [1] utilizado por LyX en Windows, a veces se requiere que el archivo de trabajo y su ruta NO DEBEN TENER UN ESPACIO, por lo que si esto no funciona, deber√° plantear cualquier problema con el soporte de LyX .  Si proporcionan una forma m√°s f√°cil de llamar a una sesi√≥n activa de <i>LyXserver</i> con la ruta remota entre comillas, deje un comentario a continuaci√≥n.  El problema es que <i>LyXserver</i> espera dos valores consecutivos: <br><br>  1) <i>SyncTeX</i> proporcion√≥ el nombre del archivo <code>.tex</code> 2) seguido de un n√∫mero de l√≠nea, por lo que cuando el nombre del archivo contiene espacios, la primera parte puede ser inv√°lida como el nombre del archivo y la segunda parte claramente no es un n√∫mero, esto puede funcionar si se analizan los nombres de archivo como el formato 8.3 anterior, pero la mayor√≠a de los archivos modernos de Windows usan el formato LFN.  El archivo <i>lyxeditor.cmd</i> intenta solucionar estos problemas.  Diferencias notables en comparaci√≥n con cualquier otro enfoque No agregue opciones / directivas innecesarias y obsoletas <i>-reuse-instance</i> o <i>-inverse-search</i> (no son necesarias y ralentizan la <i>solicitud</i> correcta <i>de b√∫squeda directa</i> ). <br><br>  Herramientas ‚Üí Configuraci√≥n ‚Üí Ruta <br><br><ul><li>  Agregue el directorio donde se encuentra SumatraPDF.exe a la l√≠nea de prefijo PATH.  (Esto no es necesario para una instalaci√≥n permanente, pero puede ayudar para un uso port√°til). </li><li>  Establezca la l√≠nea LyXServer pipe \\. \ Pipe \ lyxpipe (NO use el bot√≥n de exploraci√≥n). </li></ul><br>  Herramientas ‚Üí Configuraci√≥n ‚Üí Procesamiento de archivos ‚Üí Convertidores <br><br><ul><li>  Elija el formato LaTeX (pdflatex) -&gt; PDF (pdflatex) </li><li>  Establezca el convertidor de entrada en pdflatex -interaction = nonstopmode -synctex = 1 $$ i </li></ul><br><img src="https://habrastorage.org/webt/4r/ls/gj/4rlsgjeapgfczwfhld9ymsji824.png"><br><br><ul><li>  Haga clic en "Cambiar" (de lo contrario, el cambio se cancelar√°). </li><li>  Este cambio requiere MikTeX o TeX Live para crear el archivo FILE.synctex.gz. </li></ul><br>  Salga y regrese para verificar que se haya modificado, me tom√≥ algunos cambios restablecerlo y anclarlo de una sesi√≥n a otra. <br><br>  Herramientas ‚Üí Configuraci√≥n ‚Üí Salida ‚Üí General. <br>  En la secci√≥n B√∫squeda directa, configure el comando de entrada de PDF en SumatraPDF -forward-search "$$ t" $$ n "$$ o" <br><br>  Herramientas ‚Üí Configuraci√≥n ‚Üí Procesamiento de archivos ‚Üí Formatos de archivo <br><br><ul><li>  Elija el formato PDF (pdflatex) </li><li>  Establezca el campo Ver en Personalizado utilizando el comando SumatraPDF </li><li>  Es posible que deba cerrar todas las ventanas de SumatraPDF y usar Documento ‚Üí Ver. </li><li>  Puede configurar el comando de b√∫squeda inversa directamente en SumatraPDF yendo a "Configuraci√≥n ‚Üí Opciones avanzadas" como se describe anteriormente y configurar la b√∫squeda inversa.  En este caso, reduce el comando Ver a </li></ul><br><pre> <code class="plaintext hljs">SumatraPDF</code> </pre> <br><img src="https://habrastorage.org/webt/uj/5d/hq/uj5dhqgkebeuvnherusk3mypiwk.png"><br><br>  ¬°CUALQUIER problema con esta llamada de b√∫squeda inversa deber√≠a tener soporte de Lyx, ya que este es su m√©todo recomendado, no el m√≠o! <br><br>  [1] En principio, el uso de canalizaciones con nombre en la memoria acelera y reduce la necesidad de invocar una aplicaci√≥n a trav√©s de opciones de shell, sin embargo, como los m√©todos DDE o D-bus, no es familiar para la mayor√≠a de los usuarios y puede ser problem√°tico solucionar problemas. <br><br>  Nota  Aseg√∫rese de que lyx tenga el archivo abierto, el bot√≥n Habilitar avance / retroceso est√° activo, luego compile y vea, finalmente, haga clic derecho y seleccione aproximadamente 6 opciones hacia abajo <br><br>  Los lugares no son 1 en 1 (las p√°ginas pueden parecer "apagadas").  Esto puede ayudar a ver una b√∫squeda directa configurando SumatraPDF-settings.txt <br><br>  HighlightPermanent = true <br><br>  Para regresar a la p√°gina correspondiente, simplemente haga doble clic en cualquier lugar de SumatraPDF para llamar a lyxeditor.cmd. <br><hr><br>  Como puede ver, todav√≠a hay algunos matices que no he mencionado.  Sin embargo, cuando lo configur√© todo, simplemente no necesitaba estos matices. <br><br><h3>  LyX;  uso de archivos .bat </h3><br>  A pesar de la aparente falta a primera vista de la capacidad de agregar nuevos formatos de exportaci√≥n a LyX (por lo que entiendo, por ejemplo, en TeXworks, un an√°logo de tal posibilidad de agregar es la capacidad de crear una nueva herramienta de dise√±o), este programa tiene esa oportunidad.  Para empezar, intentemos crear el siguiente formato de exportaci√≥n, que a primera vista parece indulgente.  Las siguientes variables de RUTA se definen en el programa LyX: <br><br><pre> <code class="plaintext hljs">$$s The LyX system directory (eg /usr/share/lyx). $$i The input file $$o The output file $$b The base name (without filename extension) in the LyX temporary directory $$p The full directory path of the LyX temporary directory $$r The full pathname to the original LyX file being processed $$f The filename (without any directory path) of the LyX file. $$l The `LaTeX name'</code> </pre><br>  Este es un extracto de una parte del manual del programa LyX.  No vamos a traducir las explicaciones de los significados, los significados de estas variables, sino que intentaremos crear un nuevo formato de exportaci√≥n (con la aparici√≥n de un nuevo bot√≥n en <b>Archivo&gt; Exportar a</b> , incluso haciendo clic en el que podemos exportar a ese formato de ese archivo <code>.lyx</code> , desde la ventana en la que se realiz√≥ este clic), durante la exportaci√≥n a la cual en el directorio temporal (en el que, por ejemplo, al exportar a <i>PDF {pdflatex}</i> , se generan archivos, adem√°s del <code>.pdf</code> creado), se <i>crear√° el</i> archivo <i>puti.txt</i> en el que ( todos) los valores de estas variables  .  Para hacer esto, en la carpeta que se ha agregado a PATH, cree un archivo <i>puti.bat con el</i> siguiente contenido: <br><br><pre> <code class="plaintext hljs">chcp 1251 cd /d %0\.. echo %1 &gt;puti.txt echo %2 &gt;&gt;puti.txt echo %3 &gt;&gt;puti.txt echo %4 &gt;&gt;puti.txt echo %5 &gt;&gt;puti.txt echo %6 &gt;&gt;puti.txt echo %7 &gt;&gt;puti.txt echo %8 &gt;&gt;puti.txt echo %1/%~2 &gt;&gt;puti.txt</code> </pre><br>  A continuaci√≥n, en el archivo <code>C:\Users\\AppData\Roaming\LyX2.0\lyxrc.defaults</code> estamos donde est√°n las l√≠neas <br><br><pre> <code class="plaintext hljs">.................................... \Format pdf4 pdf "PDF (XeTeX)" X "pdfview" "" "document,vector,menu=export" \Format pdf5 pdf "PDF (LuaTeX)" u "pdfview" "" "document,vector,menu=export"</code> </pre><br>  agregar tal l√≠nea <br><br><pre> <code class="plaintext hljs">\Format pdf6 txt "puti" F "pdfview" "" "document,vector,menu=export"</code> </pre><br>  Aqu√≠, la palabra <i>puti</i> no <i>especifica el</i> archivo con el c√≥digo, que es el motor del formato de exportaci√≥n creado, pero con qu√© nombre se mostrar√° el bot√≥n para llamar a este formato de exportaci√≥n a <b>Archivo&gt; Exportar</b> , y d√≥nde <br><br><pre> <code class="plaintext hljs">.................................... \converter pdflatex pdf2 "pdflatex $$i" "latex=pdflatex" \converter xetex pdf4 "xelatex $$i" "latex=xelatex" \converter luatex pdf5 "lualatex" "latex=lualatex"</code> </pre><br>  despu√©s de la l√≠nea que define el formato pdf5, agregamos la siguiente l√≠nea: <br><br><pre> <code class="plaintext hljs">\converter pdflatex pdf6 "puti.bat $$b $$f $$i $$l $$o $$p $$r $$s" ""</code> </pre> <br>  Y aqu√≠ la palabra <i>puti</i> define un archivo con c√≥digo, que es el motor del formato de exportaci√≥n creado.  Y en este lugar del archivo <i>lyxrc.defaults</i> , ya debe especificar la extensi√≥n de este archivo con el c√≥digo (en este caso <code>.bat</code> ), ¬°de lo contrario no funcionar√°! ... Y luego, como puede suponer, los par√°metros est√°n indicados, por un lado, con los cuales este archivo con el c√≥digo se inicia cuando se inicia la exportaci√≥n al formato creado y, por otro lado, estos par√°metros se invocan en la forma que conoce el programa LyX y, por lo tanto, cuando llama a este archivo con el c√≥digo del archivo abierto en LyX, LyX antes de abrir archivo con el c√≥digo del programa correspondiente con par√°metros, algunos y  a partir del cual se forman a partir de partes de la ruta completa al archivo exportado, y otras desde rutas completas a algunas carpetas importantes del sistema, reemplaza estos par√°metros, nombrados en esta forma con valores casi reales, por as√≠ decirlo, que son casi adecuados para usar en el comando l√≠nea  Por qu√© "casi" se aclarar√° m√°s tarde.  Eso es todo, no necesita hacer nada m√°s en el archivo <i>lyxrc.defaults</i> : ni agregar, all√≠, ning√∫n nuevo <i>\ editor_alternatives</i> o <i>\ viewer_alternatives</i> , ni nada por el estilo ... A continuaci√≥n, despu√©s de guardar el archivo <i>lyxrc.defaults</i> cambiado de esta manera y reiniciar Programas LyX en <b>Archivo&gt; Exportar a</b> , aparece un nuevo bot√≥n: <br><br><img src="https://habrastorage.org/webt/ha/g1/mv/hag1mvk10k_q8ql6nvpeb4zbpms.jpeg"><br><br>  Antes de hacer clic en √©l, haga clic en <b>Ver&gt; Ver mensajes</b> (cuando us√© LyX instalado desde un archivo ejecutable descargado de otra fuente, ese bot√≥n se llam√≥ <i>Ver mensajes</i> , porque esa copia del programa usaba un archivo de localizaci√≥n diferente <code>.mo</code> ), mientras generalmente en la parte inferior de la ventana del programa LyX aparece un √°rea llamada <i>Progress / Debug Messages</i> .  Ahora puede hacer clic en el bot√≥n que creamos.  Al mismo tiempo, en el √°rea <i>Mensajes de progreso / depuraci√≥n</i> , la informaci√≥n sobre el proceso de exportaci√≥n comienza a parpadear, desplaz√°ndose hacia abajo.  Despu√©s del final de dicho parpadeo, buscamos la ruta a la carpeta temporal en la que se ubican los archivos de incidentes, adem√°s del archivo del tipo que desea recibir en la misma carpeta con el archivo <code>.lyx</code> exportado.  Todos estos caminos son m√°s o menos similares entre s√≠, por lo que no puede haber ning√∫n error.  Por ejemplo, aqu√≠ hay una de estas formas: <br><br><pre> <code class="plaintext hljs">D:\1-kat-LyX\lyx_tmpdir.gq2748\lyx_tmpbuf2</code> </pre><br>  Ve a esta carpeta.  Habr√°, entre otros, el archivo <i>puti.txt</i> , que configuramos como salida para este formato de exportaci√≥n.  Al abrirlo, veremos algo como lo siguiente: <br><br><pre> <code class="plaintext hljs">D:/1-kat-LyX/lyx_tmpdir.gq2748/lyx_tmpbuf2/newfile2 newfile2.lyx newfile2.tex $$l newfile2.txt D:/1-kat-LyX/lyx_tmpdir.gq2748/lyx_tmpbuf2/ C:/DocLyX/ $$s D:/1-kat-LyX/lyx_tmpdir.gq2748/lyx_tmpbuf2/newfile2/newfile2.lyx</code> </pre><br>  Se form√≥ un archivo de dicho contenido durante la exportaci√≥n al formato de exportaci√≥n de archivo. <code>C:\DocLyX\newfile2.lyx</code> .  Como puede ver, ni siquiera todos los par√°metros se han expandido a sus valores, lo que, sin embargo, no impide la creaci√≥n de algunos otros formatos de exportaci√≥n que he concebido.  Sin embargo, tal problema se descubre aqu√≠, que consiste en una compatibilidad "casi" con la l√≠nea de comando, que mencion√© anteriormente.  A saber: el separador en las rutas as√≠ obtenidas en el archivo de salida <code>.txt</code> es el car√°cter <code>/</code> lugar del tradicional, al menos para Windows, <code>\</code> , por lo que para poder utilizar la ruta obtenida de esta manera, lo m√°s probable es que necesite archivar con el c√≥digo que se supone debe usarse como motor para el formato de exportaci√≥n creado, incluya la secci√≥n para reemplazar <code>/</code> con <code>\</code> .  Tendremos esto en mente en el futuro.  Comparando el orden en que se enumeran los par√°metros en el archivo <i>lyxrc.defaults</i> con el que lo <i>obligo</i> a iniciar (y se puede iniciar))) el archivo <i>puti.bat</i> , el archivo <i>puti.bat en s√≠</i> con el contenido del archivo <i>puti.txt</i> , concluyo que para crear otro  ,  ,  ,  ,       ,  LyX.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esto es </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$$ i</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , una variable que, despu√©s de la sustituci√≥n, env√≠a al archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puti.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> el </font><font style="vertical-align: inherit;">nombre del archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.tex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que necesito obtener del archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.lyx</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que se est√° </font><i><font style="vertical-align: inherit;">editando</font></i><font style="vertical-align: inherit;"> actualmente </font><font style="vertical-align: inherit;">, de modo que inmediatamente despu√©s de este recibo hay algo que comparar con ese procesamiento el archivo del arsenal del programa MiKTeX instalado y configurado, que describ√≠ para el formato de exportaci√≥n que estoy creando, completamente de acuerdo con el proceso de exportaci√≥n a los formatos originalmente disponibles de los autores del programa. Como tal archivo de procesamiento, puede usar el archivo que cre√© con el c√≥digo de alguna extensi√≥n. Y </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$$ r</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es la ruta a la carpeta con ese archivo </font><i><font style="vertical-align: inherit;">.lyx</font></i><font style="vertical-align: inherit;"> ligeramente modificado en su especificidad del programa LyX</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, al exportar a mi formato, al comienzo de esta exportaci√≥n obtendr√© el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.tex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> del </font><font style="vertical-align: inherit;">que acabo de hablar. Como puede ver en la foto del men√∫ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exportar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que </font><font style="vertical-align: inherit;">modifiqu√© </font><font style="vertical-align: inherit;">, no me limit√© a crear un nuevo formato de exportaci√≥n </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puti</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en mi computadora </font><font style="vertical-align: inherit;">. Deteng√°monos con m√°s detalle en estos formatos de exportaci√≥n que cre√©. Por lo general, al exportar a alg√∫n formato "nativo" del programa LyX, el programa LyX coloca todos los archivos incidentales con esto en el directorio temporal correspondiente. Intentemos crear un formato de exportaci√≥n en el que estos archivos se colocar√°n en la misma carpeta que el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.lyx</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> exportado </font><font style="vertical-align: inherit;">. Bueno, acciones con el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lyxrc.defaults</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ser√° esencialmente lo mismo que las acciones con este archivo al crear el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">formato de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> exportaci√≥n </font><i><font style="vertical-align: inherit;">puti</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tambi√©n agrego las l√≠neas a los lugares apropiados en este archivo:</font></font><br><br><pre> <code class="plaintext hljs">\Format pdf7 pdf "pdflatex v papke" F "pdfview" "" "document,vector,menu=export"</code> </pre><br>  y <br><br><pre> <code class="plaintext hljs">\converter pdflatex pdf7 "pdflatex-v-papke.bat $$r $$i" ""</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo est√° claro aqu√≠. </font><font style="vertical-align: inherit;">La diferencia real entre el formato de exportaci√≥n </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puti</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que cre√© anteriormente </font><font style="vertical-align: inherit;">y el formato de exportaci√≥n que se est√° creando ahora se debe a la diferencia entre los motores (en este caso, entre archivos </font></font><code>.bat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), que puse en el formato de exportaci√≥n y que puse en este formato. </font><font style="vertical-align: inherit;">A saber, como motor para este formato, uso el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo pdflatex-v-papke.bat con el</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> siguiente contenido:</font></font><br><br><pre> <code class="plaintext hljs">cd /d %0\.. chcp 1251 echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in if exist perehod.bat (goto :vyhod3) else (goto :vhod) :vhod echo %1 &gt; put0.txt echo cd /d %%0\..&gt;&gt; pereim.bat echo SetLocal EnableExtensions EnableDelayedExpansion&gt;&gt; pereim.bat echo Set infile=put0.txt&gt;&gt; pereim.bat echo Set outFile=put.txt&gt;&gt; pereim.bat echo Set find=/&gt;&gt;pereim.bat echo Set replace=\&gt;&gt;pereim.bat echo for /F "UseBackQ delims=" %%%%n in ("%%infile%%") do (&gt;&gt; pereim.bat echo set "LINE=%%%%n"&gt;&gt; pereim.bat echo set "LINE=!LINE:%%find%%=%%replace%%!"&gt;&gt; pereim.bat echo echo.!LINE!^&gt;^&gt;%%outFile%%&gt;&gt; pereim.bat echo )&gt;&gt; pereim.bat echo exit&gt;&gt; pereim.bat start /b pereim.bat :vhod1 if exist put.txt (goto :vyhod1) else (goto :vhod1) :vyhod1 echo chcp 1251 &gt; perehod.bat echo cd /D^^&gt;&gt;perehod.bat more &lt; put.txt &gt;&gt; perehod.bat echo del %~n2.tex&gt;&gt; perehod.bat echo :vhod2 &gt;&gt; perehod.bat echo lyx -e latex %~n2.lyx&gt;&gt; perehod.bat echo if exist %~n2.tex (goto :vyhod2) else (goto :vhod2) &gt;&gt; perehod.bat echo :vyhod2 &gt;&gt; perehod.bat echo pdflatex %2 &gt;&gt; perehod.bat echo taskkill /f /im pdflatex.exe &gt;&gt; perehod.bat echo exit &gt;&gt; perehod.bat echo :vhod3 if exist perehod.bat (goto :vyhod3) else (goto :vhod3) :vyhod3 start perehod.bat pdflatex %1 rem            exit.bat exit</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo funciona este archivo por lotes? En primer lugar, observando los par√°metros con los que hice de este archivo por lotes el programa de llamadas LyX, escribi√©ndolo en el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lyxrc.defaults</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , vemos que esto sucede con los par√°metros "ruta de la carpeta que contiene el archivo exportado en forma espec√≠fica de LyX" y " el nombre del archivo exportado, pero con la extensi√≥n .tex ", y el orden de los par√°metros es importante. Por lo tanto, este archivo por lotes primero realiza una transici√≥n a una carpeta temporal en la que se forman los archivos que se acompa√±an al exportar a alg√∫n "formato nativo". Luego, debido a la posible presencia de </font><font style="vertical-align: inherit;">letras cir√≠licas </font><font style="vertical-align: inherit;">en los par√°metros de inicio del archivo por lotes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cambiamos la codificaci√≥n en </font><i><font style="vertical-align: inherit;">Windows 1251</font></i><font style="vertical-align: inherit;"> en la ventana del s√≠mbolo del sistema en la que se ejecutar√° este archivo por lotes</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Luego, aprovechando la capacidad del programa LyX para responder a los comandos desde la l√≠nea de comandos, sobre cu√°l (oportunidad) de la que habl√© aqu√≠, nosotros, en vista de la posibilidad de cambios en el archivo exportado, antes de las acciones principales con este archivo, primero guarde el archivo exportado con el </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comando</font></font><br><br><pre> <code class="plaintext hljs">echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para que no lo hagas manualmente cada vez. </font><font style="vertical-align: inherit;">El equipo</font></font><br><br><pre> <code class="plaintext hljs">if exist perehod.bat (goto :vyhod3) else (goto :vhod)</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">con las etiquetas utilizadas en √©l </font></font><code>:vyhod3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y de </font></font><code>:vhod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pie antes y despu√©s de este comando, no crea nada por s√≠ mismo, pero lo hace. Los siguientes archivos que aparecen en la carpeta temporal correspondiente como resultado del archivo por lotes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> son (en orden de aparici√≥n) los </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivos put0.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pereim.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perehod.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que se crear√°n con cada vista previa, exportaci√≥n, en cualquier caso, con posibles ediciones del archivo </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que </font><font style="vertical-align: inherit;">est√° abierto actualmente </font><font style="vertical-align: inherit;">, no es necesario, solo es necesario por primera vez. En este caso, por primera vez, se </font><i><font style="vertical-align: inherit;">crear√°</font></i><font style="vertical-align: inherit;"> el √∫ltimo archivo </font><i><font style="vertical-align: inherit;">perehod.bat</font></i><font style="vertical-align: inherit;"> en el directorio temporal</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Otros 3 de estos archivos en la carpeta temporal no existir√°n si este archivo no existe en esta carpeta. Por lo tanto, en la condici√≥n, </font></font><code>if</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escribimos la existencia de este archivo. Si, cuando el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo por lotes pdflatex -v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comienza a funcionar, este archivo no existe en la carpeta temporal correspondiente, el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo por lotes pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> va a lo largo de la rama creando 4 archivos en la carpeta temporal correspondiente - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put0.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pereim.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perehod.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y pasa a sus equipos posteriores. Si estos 4 archivos en el directorio temporal ya existen, hay una transici√≥n directa a los comandos posteriores, de los que habl√© en la oraci√≥n anterior. Deteng√°monos en estos cuatro archivos. Dado que el primer par√°metro con el que el programa LyX lanza el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es "la ruta a la carpeta que contiene el archivo exportado en forma espec√≠fica de LyX", </font><font style="vertical-align: inherit;">esta ruta se mostrar√° </font><font style="vertical-align: inherit;">en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put0.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en este formulario Sin embargo, la ruta en este formulario no es adecuada para su uso en la l√≠nea de comando (all√≠, el separador, por as√≠ decirlo, de los diferentes niveles de anidamiento de carpetas es el car√°cter en </font></font><code>/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lugar del </font><font style="vertical-align: inherit;">car√°cter </font><font style="vertical-align: inherit;">esperado por la l√≠nea de comando </font></font><code>\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Por esta raz√≥n, el siguiente paso en la operaci√≥n del </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es crear el mismo archivo por lotes directorio temporal </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pereim.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cuyo trabajo es tomar el contenido del archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put0.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , reemplazar el contenido </font></font><code>/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en </font></font><code>\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y grabar el archivo resultante </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put1.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La siguiente acci√≥n de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es iniciar el archivo por lotes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pereim.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Para que no aparezca la ventana negra para ejecutar la l√≠nea de comando para este archivo por lotes, agregu√© una clave al comando que inici√≥ este archivo por lotes </font></font><code>/b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Hice (no s√© por qu√©) el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pereim.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comenzando en una ventana de comando separada. Debido a esto, mientras genera un archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put1.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la operaci√≥n del archivo principal</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contin√∫a con los siguientes pasos, en los que ya se supone que el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put1.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> existe en el directorio temporal correspondiente </font><font style="vertical-align: inherit;">. Por este motivo, </font><font style="vertical-align: inherit;">puede producirse </font><font style="vertical-align: inherit;">un </font><font style="vertical-align: inherit;">error </font><font style="vertical-align: inherit;">en el funcionamiento del archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex-v-papke.bat principal</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Para evitar esto, el siguiente </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paso</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> despu√©s de iniciar el archivo por lotes </font><i><font style="vertical-align: inherit;">pereim.bat</font></i><font style="vertical-align: inherit;"> es recorrer el archivo por lotes principal con dicha secci√≥n de su c√≥digo:</font></font><br><br><pre> <code class="plaintext hljs">:vhod1 if exist put.txt (goto :vyhod1) else (goto :vhod1) :vyhod1</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta secci√≥n del c√≥digo verifica la presencia del archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el directorio temporal correspondiente al archivo exportado. Si este archivo no est√° en esta carpeta, el archivo por lotes vuelve a la etiqueta </font></font><code>:vhod1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y nuevamente verifica la presencia del archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el directorio temporal correspondiente al archivo exportado y as√≠ sucesivamente hasta que este archivo aparezca en esta carpeta. Tan pronto como el escaneo encuentre este archivo, sale del bucle y ejecuta los siguientes comandos del archivo por lotes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Y los siguientes pasos en el trabajo de este archivo por lotes son crear </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perehod.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el directorio temporal correspondiente del archivo por lotes </font><font style="vertical-align: inherit;">, esperando la aparici√≥n de este archivo por lotes (la secci√≥n del c√≥digo es responsable de esto</font></font><br><br><pre> <code class="plaintext hljs">:vhod3 if exist perehod.bat (goto :vyhod3) else (goto :vhod3) :vyhod3</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo por lotes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) y el lanzamiento del archivo por lotes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perehod.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Creo el archivo por </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lotes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> perehod.bat </font><font style="vertical-align: inherit;">en un archivo separado porque en el curso de su trabajo debe seguir la ruta contenida en el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">put.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> creado </font><i><font style="vertical-align: inherit;">anteriormente</font></i><font style="vertical-align: inherit;"> y esta ruta a√∫n debe extraerse de este archivo, que se realiza mediante el comando</font></font><br><br><pre> <code class="plaintext hljs">more &lt; put.txt</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En general, por ejemplo, el contenido del archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perehod.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es el </font><font style="vertical-align: inherit;">siguiente (con el archivo exportado </font></font><code>C:\DocLyX\newfile2.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font><br><br><pre> <code class="plaintext hljs">chcp 1251 cd /D^ C:\DocLyX\ del newfile2.tex :vhod2 lyx -e latex newfile2.lyx if exist newfile2.tex (goto :vyhod2) else (goto :vhod2) :vyhod2 pdflatex newfile2.tex taskkill /f /im pdflatex.exe exit</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© hace este archivo por lotes? Al principio, debido a la posibilidad de la ruta completa al archivo exportado de letras cir√≠licas, la codificaci√≥n de la ventana de comandos en la que el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo por lotes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> perehod.bat comienza a </font><i><font style="vertical-align: inherit;">ejecutarse</font></i><font style="vertical-align: inherit;"> cambia a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 1251</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Luego se ejecutan las siguientes 2 l√≠neas, que en realidad son un comando. La concatenaci√≥n de estas l√≠neas en un solo comando se realiza mediante el signo </font></font><code>^</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">al final de la primera l√≠nea. El significado de este comando compuesto es que el trabajo del archivo por lotes perehod.bat se transfiere a la carpeta con el archivo exportado </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. La clave se </font></font><code>/D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">agreg√≥ porque tengo LyX en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herramientas&gt; Configuraci√≥n ...&gt; Rutas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el cuadro de texto del </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">directorio temporal</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√° configurado para que cuando abra LyX, este directorio temporal se cree en un disco diferente al que generalmente se inicia una l√≠nea de comando en una carpeta determinada. A continuaci√≥n, se elimina el archivo del mismo nombre con el archivo exportado </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero con la extensi√≥n </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que, tal vez, se obtuvo en la misma carpeta con el archivo exportado </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">al exportar el archivo exportado </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">producido anteriormente. Adem√°s, en teor√≠a, el archivo </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que estamos tratando actualmente </font><font style="vertical-align: inherit;">debe exportarse </font><font style="vertical-align: inherit;">a un formato </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seguido de un bucle del archivo por lotes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hasta que </font><i><font style="vertical-align: inherit;">aparezca</font></i><font style="vertical-align: inherit;"> un archivo con el mismo nombre con el archivo exportado en el directorio temporal correspondiente </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero con la extensi√≥n</font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Sin embargo, con este orden de comandos, el archivo por lotes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex-v-papke.bat a veces se repite</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , porque el archivo del mismo nombre con el archivo exportado </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero con la extensi√≥n, </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no apareci√≥. Por </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lo </font><font style="vertical-align: inherit;">tanto, </font><font style="vertical-align: inherit;">es mejor colocar el </font><font style="vertical-align: inherit;">comando de exportaci√≥n </font><font style="vertical-align: inherit;">despu√©s de la etiqueta a la que regresa el archivo por lotes si no hay un </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo del mismo nombre con este archivo </font><font style="vertical-align: inherit;">en la carpeta con el archivo exportado </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero con la extensi√≥n </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Bueno, entonces todo es simple. Se procesa un archivo pdflatex con el archivo del mismo nombre con el archivo exportado </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero con la extensi√≥n </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, se </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">emite</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un comando </font><i><font style="vertical-align: inherit;">para</font></i><font style="vertical-align: inherit;"> eliminar los procesos </font><i><font style="vertical-align: inherit;">pdflatex</font></i><font style="vertical-align: inherit;"> que pueden haber quedado sin cerrar despu√©s de este procesamiento (esto sucede) y cerrar el archivo por lotes</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perehod.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Volver al </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Con este archivo por lotes, despu√©s de iniciar el archivo por lotes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perehod.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , se ejecuta un comando, cuyo significado se indica en el comentario de este comando. Y aqu√≠ sigue el lanzamiento de un archivo por lotes absolutamente </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">innecesario exit.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ubicado en alguna carpeta agregada a la RUTA) con contenidos a√∫n m√°s extra√±os</font></font><br><br><pre> <code class="plaintext hljs">date /t exit</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPor qu√© este archivo por lotes? El hecho es que cuando todav√≠a estaba experimentando con el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo por</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lotes puti.bat </font><font style="vertical-align: inherit;">, entre otros como ese, no prob√© el motor de uno de mis formatos de archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puti1.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , as√≠ que cuando estoy en este y otros archivos utilizados para tal objetivos, no indicaron el lanzamiento de este archivo por lotes, cuando estaba exportando a LyX en el formato apropiado que cre√©, el siguiente error se arrastr√≥ obstinadamente: </font></font><br><br><img src="https://habrastorage.org/webt/js/vj/2a/jsvj2agjdh1wf-i9npjku8posbc.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y no pude descubrir c√≥mo deshacerme de √©l. Luego, por pura casualidad, tengo puti1.bat en mi </font><i><font style="vertical-align: inherit;">archivo por</font></i><font style="vertical-align: inherit;"> lotes</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el pen√∫ltimo equipo fue el equipo que lanz√≥ un archivo por lotes. Este error ha dejado de aparecer. Por lo que recuerdo, ese archivo por lotes aleatorio gener√≥ algunos archivos con su trabajo. No lo necesitaba. Luego decid√≠ intentar poner un comando que no produce ning√∫n archivo en este archivo por lotes. Prob√© la cita. Result√≥: el error que se muestra en la foto dej√≥ de flotar. Y lo dej√©. Aunque, al menos me mata, no entiendo por qu√© esto ayuda, pero ser√≠a interesante descubrir por qu√© funciona. Bueno, entonces viene la salida del archivo por lotes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font> Eso es todo  Etc.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En texworks tener la siguiente herramienta de dise√±o: </font></font><br><br><img src="https://habrastorage.org/webt/xp/pt/ry/xpptry-ieqblgtxi2-ihwataxc0.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crea en formato de exportaci√≥n LyX, que inicialmente produce la exportaci√≥n de archivos exportado </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, y luego el archivo resultante </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jugar√° fuera </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xelatex.exe</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con la opci√≥n </font></font><code>-undump=xelatex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Al mismo tiempo, todos los archivos creados accidentalmente al exportar alg√∫n archivo a este formato </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se colocar√°n en la misma carpeta que el archivo exportado. Acciones completamente similares a las descritas anteriormente. Hacemos que este formato aparezca en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archivo&gt; Exportar a ...</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bajo el nombre </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xelatex v papke</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , coloque el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">motor xelatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en este formato de exportaci√≥n de la </font><font style="vertical-align: inherit;">siguiente manera:</font></font><br><br><pre> <code class="plaintext hljs">cd /d %0\.. chcp 1251 echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in if exist perehod.bat (goto :vyhod3) else (goto :vhod) :vhod echo %1 &gt; put0.txt echo cd /d %%0\..&gt;&gt; pereim.bat echo SetLocal EnableExtensions EnableDelayedExpansion&gt;&gt; pereim.bat echo Set infile=put0.txt&gt;&gt; pereim.bat echo Set outFile=put.txt&gt;&gt; pereim.bat echo Set find=/&gt;&gt;pereim.bat echo Set replace=\&gt;&gt;pereim.bat echo for /F "UseBackQ delims=" %%%%n in ("%%infile%%") do (&gt;&gt; pereim.bat echo set "LINE=%%%%n"&gt;&gt; pereim.bat echo set "LINE=!LINE:%%find%%=%%replace%%!"&gt;&gt; pereim.bat echo echo.!LINE!^&gt;^&gt;%%outFile%%&gt;&gt; pereim.bat echo )&gt;&gt; pereim.bat echo exit&gt;&gt; pereim.bat start /b pereim.bat :vhod1 if exist put.tex (goto :vyhod1) else (goto :vhod1) :vyhod1 echo chcp 1251 &gt; perehod.bat echo cd /D^^&gt;&gt;perehod.bat more &lt; put.txt &gt;&gt; perehod.bat echo del %~n2.tex&gt;&gt; perehod.bat echo :vhod2 &gt;&gt; perehod.bat echo lyx -e latex %~n2.lyx&gt;&gt; perehod.bat echo if exist %~n2.tex (goto :vyhod2) else (goto :vhod2) &gt;&gt; perehod.bat echo :vyhod2 &gt;&gt; perehod.bat echo miktex-xetex.exe -undump=xelatex %2 &gt;&gt; perehod.bat echo taskkill /f /im pdflatex.exe &gt;&gt; perehod.bat echo exit &gt;&gt; perehod.bat :vhod3 if exist perehod.bat (goto :vyhod3) else (goto :vhod3) :vyhod3 start perehod.bat pdflatex %1 rem            exit.bat exit</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como puede ver, este archivo por lotes tiene exactamente la misma estructura que el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archivo pdflatex-v-papke.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La diferencia est√° solo en un solo comando </font></font><code>miktex-xetex.exe -undump=xelatex %2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que procesa el mismo nombre con el archivo exportado al formato de archivo creado actualmente </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que ya recibimos al comienzo de esta exportaci√≥n. Y de la misma manera, en el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lyxrc.defaults,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nos aseguramos de que el archivo por lotes </font></font><code>xelatex-v-papke.bat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comience con los par√°metros </font></font><code>$$r $$i</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especificados en el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lyxrc.defaults sin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fallar en este orden. Observo que para que este formato de exportaci√≥n funcione con archivos </font></font><code>.lyx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que contienen letras cir√≠licas, la </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opci√≥n </font></font><code>utf8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en</font></font><code>\usepackage[utf8]{inputenc}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o el √∫ltimo comando est√° ausente por completo. El √∫ltimo (por cierto, algo muy √∫til: de esta manera, en la parte inaccesible del pre√°mbulo, puede eliminarlo </font></font><code>inputenc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y, a trav√©s de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documento&gt; Preferencias&gt; LaTeX Pre√°mbulo,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> escriba seg√∫n lo necesite) configurando </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documento&gt; Configuraci√≥n&gt; Idioma para</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> alternar el </font><font style="vertical-align: inherit;">valor de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">codificaci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de la lista desplegable </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otro</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (nombre de este la lista depende del archivo de localizaci√≥n utilizado </font></font><code>.mo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) en</font></font><code> (XeTeX) (utf8)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Como √∫ltimo ejemplo, considere crear un formato de exportaci√≥n, al exportar a √©l, dependiendo de la presencia / ausencia de c√≥digo gr√°fico Asymptote en el archivo exportado, se ejecuta una u otra secuencia de comandos (pdflatex + as√≠ntota + pdflatex o simplemente pdflatex). </font><font style="vertical-align: inherit;">Al mismo tiempo, independientemente de si hay o no un c√≥digo gr√°fico Asymptote en este archivo, todos los archivos funcionan de manera incidental</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>T</mi><mspace width=&quot;-.14em&quot; /><mpadded height=&quot;-.5ex&quot; depth=&quot;+.5ex&quot; voffset=&quot;-.5ex&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>E</mi></mrow></mpadded><mspace width=&quot;-.115em&quot; /><mi>X</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.8ex" height="2.539ex" viewBox="0 -780.1 2066.5 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/485298/&amp;xid=17259,15700021,15700186,15700190,15700256,15700259,15700262,15700265,15700271,15700301&amp;usg=ALkJrhgwBxj2lZwaMQ0FNbB80bSEdl7HXg#MJMATHI-54" x="0" y="0"></use><g transform="translate(564,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/485298/&amp;xid=17259,15700021,15700186,15700190,15700256,15700259,15700262,15700265,15700271,15700301&amp;usg=ALkJrhgwBxj2lZwaMQ0FNbB80bSEdl7HXg#MJMATHI-45" x="0" y="-216"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/485298/&amp;xid=17259,15700021,15700186,15700190,15700256,15700259,15700262,15700265,15700271,15700301&amp;usg=ALkJrhgwBxj2lZwaMQ0FNbB80bSEdl7HXg#MJMATHI-58" x="1214" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mspace width="-.14em"></mspace><mpadded height="-.5ex" depth="+.5ex" voffset="-.5ex"><mrow class="MJX-TeXAtom-ORD"><mi>E</mi></mrow></mpadded><mspace width="-.115em"></mspace><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">\TeX</script><code>.lyx</code><code>.lyx</code><code>.pdf</code><code>.lyx</code><i></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Ctrl + L), en este bloque de c√≥digo insertamos alguna palabra abracadabra que no aparecer√° exactamente en ning√∫n lugar de este archivo .lyx; aceptaremos usar alguna palabra rusa para esto, escrita para mayor confusi√≥n en el orden inverso . Que esta palabra abracadabra sea ovols. Escribimos esta palabra abracadabra en el bloque de c√≥digo TeX insertado, luego en este bloque TeX insertamos una l√≠nea vac√≠a, una nueva l√≠nea y en esta nueva l√≠nea </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escribimos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nuevamente la palabra </font><i><font style="vertical-align: inherit;">ovols</font></i><font style="vertical-align: inherit;"> . Ponemos una l√≠nea vac√≠a entre estos ovols </font></font><code>\begin{asy}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, 2 l√≠neas nuevas y en la segunda l√≠nea nueva ingresamos </font></font><code>\end{asy}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Si lo desea, la secuencia de todas estas acciones puede automatizarse mediante un archivo</font></font><code>.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contenido relevante Quiz√°s entonces escriba sobre esto con m√°s detalle. Y finalmente, entre estas etiquetas asy, escribimos el c√≥digo para el patr√≥n deseado. Para que se vea as√≠, por ejemplo, podr√≠a verse as√≠: </font></font><br><br><img src="https://habrastorage.org/webt/o4/d4/cx/o4d4cxbhi-d4tezhveichzcevg0.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la palabra abracadabra es necesaria porque cuando no utilic√© esta t√©cnica, al ver el archivo creado durante la exportaci√≥n al formato pdflatex </font></font><code>.tex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en el directorio temporal correspondiente, las l√≠neas vac√≠as insertadas antes y despu√©s de que desapareciera el entorno vac√≠o, lo que condujo a la aparici√≥n de lo finito </font></font><code>.pdf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, diferente de lo que fue concebido. Adem√°s, por supuesto, no olvide conectar el paquete de as√≠ntota a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documento&gt; Configuraci√≥n ...&gt; Pre√°mbulo de LaTeX</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lyxrc.defaults,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> especifique el motor para este formato, todos con los mismos par√°metros</font></font><code>$$r $$i</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Es hora de dar el c√≥digo para el motor de este formato. </font><font style="vertical-align: inherit;">Esto ser√°, como siempre, un archivo </font></font><code>.bat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Llam√©moslo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pdflatex + as√≠ntota + pdflatex-v-lyx.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Como siempre, este archivo debe estar en la carpeta agregada a PATH. </font><font style="vertical-align: inherit;">Aqu√≠ est√° el c√≥digo para este archivo por lotes:</font></font><br><br><pre> <code class="plaintext hljs">cd /d %0\.. if exist perehod.bat (goto :vyhod6) else (goto :vhod) :vhod echo %1 &gt; put0.txt echo cd /d %%0\..&gt; pereim.bat echo SetLocal EnableExtensions EnableDelayedExpansion&gt;&gt; pereim.bat echo Set infile=put0.txt&gt;&gt; pereim.bat echo Set outFile=put.txt&gt;&gt; pereim.bat echo Set find=/&gt;&gt;pereim.bat echo Set replace=\&gt;&gt;pereim.bat echo for /F "UseBackQ delims=" %%%%n in ("%%infile%%") do (&gt;&gt; pereim.bat echo set "LINE=%%%%n"&gt;&gt; pereim.bat echo set "LINE=!LINE:%%find%%=%%replace%%!"&gt;&gt; pereim.bat echo echo.!LINE!^&gt;^&gt;%%outFile%%&gt;&gt; pereim.bat echo )&gt;&gt; pereim.bat echo exit&gt;&gt; pereim.bat start /b pereim.bat :vhod1 if exist put.txt (goto :vyhod1) else (goto :vhod1) :vyhod1 echo echo LYXCMD:sohranenie:buffer-write^&gt; \\.\pipe\lyxpipe.in &gt;perehod.bat echo cd /D ^^&gt;&gt;perehod.bat more &lt; put.txt &gt;&gt; perehod.bat echo :vhod1&gt;&gt;perehod.bat echo lyx -e latex %~n2.lyx&gt;&gt; perehod.bat echo if exist %~n2.tex (goto :vyhod1) else (goto :vhod1)&gt;&gt;perehod.bat echo :vyhod1&gt;&gt;perehod.bat echo echo cd /d %%%%0\..^&gt; zamena.bat&gt;&gt;perehod.bat echo echo chcp 65001^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo SetLocal EnableExtensions EnableDelayedExpansion^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo Set infile=%~n2.tex^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo Set outFile=zameneno.tex^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo Set find=ovols^&gt;^&gt;zamena.bat&gt;&gt;perehod.bat echo echo Set replace=^&gt;^&gt;zamena.bat&gt;&gt;perehod.bat echo echo for /F "UseBackQ delims=" %%%%%%%%n in ("%%%%infile%%%%") do (^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo set "LINE=%%%%%%%%n"^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo set "LINE=!LINE:%%%%find%%%%=%%%%replace%%%%!"^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo echo.!LINE!^^^&gt;^^^&gt;%%%%outFile%%%%^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo )^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo exit^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo :vhod2&gt;&gt;perehod.bat echo if exist zamena.bat (goto :vyhod2) else (goto :vhod2)&gt;&gt;perehod.bat echo :vyhod2&gt;&gt;perehod.bat echo start zamena.bat&gt;&gt;perehod.bat echo :vhod3&gt;&gt;perehod.bat echo if exist zameneno.tex (goto :vyhod3) else (goto :vhod3)&gt;&gt;perehod.bat echo :vyhod3&gt;&gt;perehod.bat echo del %~n2.tex&gt;&gt;perehod.bat echo rename zameneno.tex %~n2.tex&gt;&gt;perehod.bat echo del %~n2.aux&gt;&gt;perehod.bat echo if exist %~n2-*.asy (goto :vhod4) else (goto :vhod5)&gt;&gt;perehod.bat echo :vhod4&gt;&gt;perehod.bat echo del %~n2-*.*&gt;&gt;perehod.bat echo :vhod5&gt;&gt;perehod.bat echo pdflatex %2 &gt;&gt; perehod.bat echo for %%%%f in (%~n2-*.asy) do asy %%%%f &gt;&gt; perehod.bat echo pdflatex %2 &gt;&gt; perehod.bat echo exit &gt;&gt; perehod.bat :vhod6 if exist perehod.bat (goto :vyhod6) else (goto :vhod6) :vyhod6 start perehod.bat</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En principio, todo es igual aqu√≠. </font><font style="vertical-align: inherit;">Solo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> necesita el </font><font style="vertical-align: inherit;">archivo </font><i><font style="vertical-align: inherit;">zamena.bat</font></i><font style="vertical-align: inherit;"> para reemplazar ovols con nada, es decir, para eliminar esta palabra abracadabra. </font><font style="vertical-align: inherit;">Como de costumbre, secciones del c√≥digo de vista</font></font><br><br><pre> <code class="plaintext hljs">:vhod ¬´ - ¬ª If exist ¬´- ¬ª... :vyhod ¬´   - ¬ª</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> servir para, por as√≠ decirlo, suspender otras acciones del archivo por lotes correspondiente hasta que aparezca "tal y tal archivo" en la carpeta de trabajo de este archivo por lotes, aunque de hecho el archivo por lotes contin√∫a funcionando. </font></font></div></div><p>Source: <a href="https://habr.com/ru/post/485298/">https://habr.com/ru/post/485298/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../485284/index.html">Caracter√≠sticas de SPIKE ‚Ñ¢ Prime LEGO¬Æ Education</a></li>
<li><a href="../485286/index.html">C√≥mo pesamos los productos o una peque√±a oda de automatizaci√≥n</a></li>
<li><a href="../485288/index.html">Me encanta odiar el juego indie</a></li>
<li><a href="../485290/index.html">Gu√≠a simple de destilaci√≥n BERT</a></li>
<li><a href="../485294/index.html">Curso moderno sobre Node.js en 2020</a></li>
<li><a href="../485300/index.html">Nuevo brote de gusanos H2Miner que explotan Redis RCE descubierto</a></li>
<li><a href="../485304/index.html">Un par de trucos de elementos de iframe</a></li>
<li><a href="../485312/index.html">DevOps para aplicaciones m√≥viles</a></li>
<li><a href="../485316/index.html">Todos los SERP de Google ahora parecen anuncios</a></li>
<li><a href="../485318/index.html">Agregando belleza e interactividad a los cuadernos Jupyter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>