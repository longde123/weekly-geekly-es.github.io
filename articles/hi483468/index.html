<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯТО ЁЯЕ╛я╕П ЁЯзЫЁЯП╗ рд╕реНрдкрдВрджрди рдПрдХреАрдХрд░рдг рдЯреЗрд╕реНрдЯ - рдпрд╣ рдЖрд╕рд╛рди рд╣реИ ЁЯдЫ ЁЯПЗЁЯП╝ ЁЯзСЁЯП╛тАНЁЯдЭтАНЁЯзСЁЯП╛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдХрдИ рд▓реЛрдЧ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдлрд╝реНрд▓рдЯрд░ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реИрдВ рдФрд░, рдХрдо рд╕реЗ рдХрдо рдмреНрдпрд╛рдЬ рдХреЗ рд▓рд┐рдП, рдЙрдиреНрд╣реЛрдВрдиреЗ рдЗрд╕ рдкрд░ рд╕рд░рд▓ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╢реБрд░реВ рдХрд┐рдПред рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИ рдХ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╕реНрдкрдВрджрди рдПрдХреАрдХрд░рдг рдЯреЗрд╕реНрдЯ - рдпрд╣ рдЖрд╕рд╛рди рд╣реИ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483468/"><p>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдХрдИ рд▓реЛрдЧ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдлрд╝реНрд▓рдЯрд░ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реИрдВ рдФрд░, рдХрдо рд╕реЗ рдХрдо рдмреНрдпрд╛рдЬ рдХреЗ рд▓рд┐рдП, рдЙрдиреНрд╣реЛрдВрдиреЗ рдЗрд╕ рдкрд░ рд╕рд░рд▓ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╢реБрд░реВ рдХрд┐рдПред  рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИ рдХрд┐ рд╕рдм рдХреБрдЫ рдЙрдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдПрдХреАрдХрд░рдг рдкрд░реАрдХреНрд╖рдг рдЗрд╕рд╕реЗ рд╣рдореЗрдВ рдорджрдж рдХрд░реЗрдВрдЧреЗред <br><img src="https://habrastorage.org/webt/rc/uh/yo/rcuhyopuvni8ghulnrotc1hfiru.png"></p><a name="habracut"></a><br><p>  рдлреНрд▓рдЯрд░ рдкрд░ рдПрдХреАрдХрд░рдг рдкрд░реАрдХреНрд╖рдг рдлрд╝реНрд▓рдЯрд░ рдЪрд╛рд▓рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓рд┐рдЦреЗ рдЧрдП рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ <a href="https://flutter.dev/docs/cookbook/testing/integration/introduction" rel="nofollow">рд▓рд┐рдП рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░</a> рдПрдХ <a href="https://flutter.dev/docs/cookbook/testing/integration/introduction" rel="nofollow">рд╕рд░рд▓ рдФрд░ рд╕рдордЭрдиреЗ рдпреЛрдЧреНрдп рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рд╣реИ</a> ред  рдЙрдирдХреА рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ, рдЗрд╕ рддрд░рд╣ рдХреЗ рдкрд░реАрдХреНрд╖рдг рдПрдВрдбреНрд░реЙрдЗрдб рджреБрдирд┐рдпрд╛ рд╕реЗ <a href="https://developer.android.com/training/testing/espresso" rel="nofollow">рдПрд╕реНрдкреНрд░реЗрд╕реЛ рдХреЗ</a> рд╕рдорд╛рди рд╣реИрдВред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рд╕реНрдХреНрд░реАрди рдкрд░ рдпреВрдЖрдИ рддрддреНрд╡реЛрдВ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> SerializableFinder button = find.byValueKey(<span class="hljs-string"><span class="hljs-string">"button"</span></span>);</code> </pre> <br><p>  рдлрд┐рд░ рдЙрдирдХреЗ рд╕рд╛рде рдХреБрдЫ рдХреНрд░рд┐рдпрд╛рдПрдВ рдХрд░реЗрдВ: </p><br><pre> <code class="java hljs">driver = await FlutterDriver.connect(); ... await driver.tap(button);</code> </pre> <br><p>  рдФрд░ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрд╡рд╢реНрдпрдХ UI рддрддреНрд╡ рд╡рд╛рдВрдЫрд┐рдд рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╣реИрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> SerializableFinder text = find.byValueKey(<span class="hljs-string"><span class="hljs-string">"text"</span></span>); expect(await driver.getText(text), <span class="hljs-string"><span class="hljs-string">"some text"</span></span>);</code> </pre> <br><p>  рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рде, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рд╕рдм рдХреБрдЫ рдкреНрд░рд╛рдердорд┐рдХ рджрд┐рдЦрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдкрд░реАрдХреНрд╖рдг рдХреЗ рддрд╣рдд рдЖрд╡реЗрджрди рдХреА рд╡реГрджреНрдзрд┐ рдФрд░ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдХреЗ рд╕рд╛рде, рдореИрдВ рдЕрдкрдиреЗ рдкрд░реАрдХреНрд╖рдг рд╕реЗ рдкрд╣рд▓реЗ UI рддрддреНрд╡реЛрдВ рдХреА рдЦреЛрдЬ рдХреА рдирдХрд▓ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдкрдХреЛ рдЗрди рдпреВрдЖрдИ рддрддреНрд╡реЛрдВ рдХреА рд╕рдВрд░рдЪрдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдХреНрдпреЛрдВрдХрд┐ рдХрдИ рд╕реНрдХреНрд░реАрди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд▓реЗрдЦрди рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЛ рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рдПрдВред </p><br><h2 id="screen-objects">  рд╕реНрдХреНрд░реАрди рд╡рд╕реНрддреБрдУрдВ </h2><br><p>  рдПрдВрдбреНрд░реЙрдЗрдб ( <a href="https://github.com/agoda-com/Kakao" rel="nofollow">рдХрд╛рдХрд╛рдУ</a> ) рдореЗрдВ, рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рдкреНрд░рддреНрдпреЗрдХ рд╕реНрдХреНрд░реАрди рд╕реЗ рд╕реНрдХреНрд░реАрди (рдкреЗрдЬ-рдСрдмреНрдЬреЗрдХреНрдЯ) рдореЗрдВ рдпреВрдЖрдИ рддрддреНрд╡реЛрдВ рдХреЛ рд╕рдореВрд╣реАрдХреГрдд рдХрд░рдХреЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕реА рддрд░рд╣ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рдЗрд╕ рдЕрдкрд╡рд╛рдж рдХреЗ рд╕рд╛рде рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдлрд╝реНрд▓рдЯрд░ рдореЗрдВ, UI рддрддреНрд╡реЛрдВ рдХреЗ рд╕рд╛рде рдХреНрд░рд┐рдпрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рди рдХреЗрд╡рд▓ <code>Finder</code> (UI рддрддреНрд╡ рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП) рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдмрд▓реНрдХрд┐ <code>FlutterDriver</code> (рдПрдХ рдХреНрд░рд┐рдпрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП), рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ <code>FlutterDriver</code> рдореЗрдВ рдПрдХ рд▓рд┐рдВрдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ <code>FlutterDriver</code> ред <code>Screen</code> ред </p><br><p>  рдкреНрд░рддреНрдпреЗрдХ UI рддрддреНрд╡ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо <a href="" rel="nofollow"><code>DWidget</code></a> рд╡рд░реНрдЧ (D - рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ Dart рд╢рдмреНрдж рд╕реЗ) рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред  рдПрдХ <code>DWidget</code> рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП <code>DWidget</code> рдПрдХ <code>FlutterDriver</code> рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЗрд╕ UI рддрддреНрд╡ рдкрд░ рдХреНрд░рд┐рдпрд╛рдПрдВ рдХреА рдЬрд╛рдПрдВрдЧреА, рд╕рд╛рде рд╣реА рдПрдХ <code>ValueKey</code> , рдЬреЛ рдЙрд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ рд╡рд┐рдЬреЗрдЯ рдХреЗ <code>ValueKey</code> рд╕реНрдкрдВрджрди рдХреЗ рд╕рд╛рде рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рд╣рдо рдмрд╛рддрдЪреАрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> FlutterDriver _driver; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> SerializableFinder _finder; DWidget(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._driver, dynamic valueKey) : _finder = find.byValueKey(valueKey); ...</code> </pre> <br><p>  <code>find.byValueKey(тАж)</code> рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ <code>DWidget</code> рдмрдирд╛рддреЗ рд╕рдордп рдЕрд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ, рдЗрд╕рд▓рд┐рдП <code>ValueKey</code> рд▓рд┐рдП <code>DWidget</code> рдореВрд▓реНрдп рдХреЛ рдкрд╛рд╕ рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ <code>DWidget</code> рдХреЛ рд╡рд╛рдВрдЫрд┐рдд <code>SerializableFinder</code> рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧрд╛ред  рдкреНрд░рддреНрдпреЗрдХ <code>DWidget</code> рдмрдирд╛рддреЗ рд╕рдордп <code>FlutterDriver</code> рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдкрд╛рд╕ рдХрд░рдирд╛ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдк <code>FlutterDriver</code> рдХреЛ <a href="" rel="nofollow"><code>BaseScreen</code></a> рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ <code>FlutterDriver</code> рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ <code>BaseScreen</code> рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП <code>BaseScreen</code> рд▓рд┐рдП рдПрдХ рдирдИ рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝ <code>BaseScreen</code> : </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseScreen</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> FlutterDriver _driver; BaseScreen(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._driver); <span class="hljs-function"><span class="hljs-function">DWidget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dWidget</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dynamic key)</span></span></span><span class="hljs-function"> </span></span>=&gt; DWidget(_driver, key); ...</code> </pre> <br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╕реНрдХреНрд░реАрди рдХрдХреНрд╖рд╛рдПрдВ рдмрдирд╛рдирд╛ рдФрд░ рдЙрдирдореЗрдВ UI рддрддреНрд╡ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реЛ рдЬрд╛рдПрдЧрд╛: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainScreen</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseScreen</span></span></span><span class="hljs-class"> </span></span>{ MainScreen(FlutterDriver driver) : <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(driver); DWidget get button =&gt; dWidget(<span class="hljs-string"><span class="hljs-string">'button'</span></span>); DWidget get textField =&gt; dWidget(<span class="hljs-string"><span class="hljs-string">'text_field'</span></span>); ... }</code> </pre> <br><h2 id="izbavlyaemsya-ot-await">  <code>await</code> рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ </h2><br><p>  рдПрдХ рдФрд░ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрд╛рдд рдирд╣реАрдВ рд╣реИ рдЬрдм <code>FlutterDriver</code> рд╕рд╛рде рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦрдирд╛ рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рд░реНрд░рд╡рд╛рдИ рд╕реЗ рдкрд╣рд▓реЗ <code>await</code> рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs">await driver.tap(button); await driver.scrollUntilVisible(list, checkBox); await driver.tap(checkBox); await driver.tap(text); await driver.enterText(<span class="hljs-string"><span class="hljs-string">"some text"</span></span>);</code> </pre> <br><p>  <code>await</code> рдХреЛ рднреВрд▓рдирд╛ рдЖрд╕рд╛рди рд╣реИ, рдФрд░ рдЗрд╕рдХреЗ рдмрд┐рдирд╛, рдкрд░реАрдХреНрд╖рдг рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ <code>driver</code> рддрд░реАрдХреЗ <code>Future&lt;void&gt;</code> рд╡рд╛рдкрд╕ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЬрдм рдЙрдиреНрд╣реЗрдВ рдмрд┐рдирд╛ <code>await</code> рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ <code>await</code> рд╡рд┐рдзрд┐ рдХреЗ рдЕрдВрджрд░ рдкрд╣рд▓реЗ <code>await</code> рддрдХ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдмрд╛рдХреА рд╡рд┐рдзрд┐ "рдмрд╛рдж рдореЗрдВ рд╕реНрдердЧрд┐рдд рдХрд░ рджреА рдЬрд╛рддреА рд╣реИ"ред </p><br><p>  рдЖрдк рдЗрд╕реЗ <code>Future</code> "рд▓рдкреЗрдЯреЛ" рд╣реЛрдЧрд╛ рдХрд┐ рдПрдХ <a href="" rel="nofollow"><code>TestAction</code></a> рдмрдирд╛рдХрд░ <a href="" rel="nofollow"><code>TestAction</code></a> рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд╣рдо рдЕрдЧрд▓реЗ рдкрд░ рдЬрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдПрдХ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдкреВрд░реА рд╣реЛрдиреЗ рддрдХ рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд╕рдХреЗрдВ: </p><br><pre> <code class="java hljs">typedef TestAction = <span class="hljs-function"><span class="hljs-function">Future&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;</code> </pre> <br><p>  (рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ, <code>TestAction</code> рдХрд┐рд╕реА рднреА рдлрд╝рдВрдХреНрд╢рди (рдпрд╛ рд▓реИрдореНрдмреНрдбрд╛) рд╣реИ рдЬреЛ рдПрдХ <code>Future&lt;void&gt;</code> рд▓реМрдЯрд╛рддрд╛ рд╣реИ) </p><br><p>  рдЕрдм рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ рдЕрдирд╛рд╡рд╢реНрдпрдХ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХреЗ рдмрд┐рдирд╛ <code>TestAction</code> рдЕрдиреБрдХреНрд░рдо рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">Future&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">runTestActions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Iterable&lt;TestAction&gt; actions)</span></span></span><span class="hljs-function"> async </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">final</span></span> action in actions) { <span class="hljs-function"><span class="hljs-function">await </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } }</code> </pre> <br><h2 id="ispolzuem-testaction-v-dwidget">  рдПрдХ <code>DWidget</code> рдореЗрдВ <code>TestAction</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ </h2><br><p>  <code>DWidget</code> рдЙрдкрдпреЛрдЧ UI рддрддреНрд╡реЛрдВ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реЛрдЧрд╛ рдпрджрд┐ рдпреЗ рдХреНрд░рд┐рдпрд╛рдПрдВ <code>TestAction</code> рддрд╛рдХрд┐ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ <code>runTestAction</code> рдкрджреНрдзрддрд┐ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <code>DWidget</code> рд╡рд░реНрдЧ рдореЗрдВ рдХрд╛рд░реНрдп рд╡рд┐рдзрд┐рдпрд╛рдБ рд╣реЛрдВрдЧреА: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> FlutterDriver _driver; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> SerializableFinder _finder; ... <span class="hljs-function"><span class="hljs-function">TestAction </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">({Duration timeout})</span></span></span><span class="hljs-function"> </span></span>=&gt; () =&gt; _driver.tap(_finder, timeout: timeout); <span class="hljs-function"><span class="hljs-function">TestAction </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String text, {Duration timeout})</span></span></span><span class="hljs-function"> </span></span>=&gt; () async { await _driver.tap(_finder, timeout: timeout); await _driver.enterText(text ?? <span class="hljs-string"><span class="hljs-string">""</span></span>, timeout: timeout); }; ... }</code> </pre> <br><p>  рдЕрдм рдЖрдк рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainScreen</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseScreen</span></span></span><span class="hljs-class"> </span></span>{ MainScreen(FlutterDriver driver) : <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(driver); DWidget get field_1 =&gt; dWidget(<span class="hljs-string"><span class="hljs-string">'field_1'</span></span>); DWidget get field_2 =&gt; dWidget(<span class="hljs-string"><span class="hljs-string">'field_2'</span></span>); <span class="hljs-function"><span class="hljs-function">DWidget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">field2Variant</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span><span class="hljs-function"> </span></span>=&gt; dWidget(<span class="hljs-string"><span class="hljs-string">'variant_$i'</span></span>); DWidget get result =&gt; dWidget(<span class="hljs-string"><span class="hljs-string">'result'</span></span>); } тАж <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> mainScreen = MainScreen(driver); <span class="hljs-function"><span class="hljs-function">await </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">runTestActions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([ mainScreen.result.hasText(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"summa = 0"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">, mainScreen.field_1.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"3"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">, mainScreen.field_2.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">, mainScreen.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">field2Variant</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">, mainScreen.result.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hasText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"summa = 5"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">, ])</span></span>;</code> </pre> <br><p>  рдпрджрд┐ рдЖрдкрдХреЛ <code>runTestActions</code> рдореЗрдВ рдХреБрдЫ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ <code>runTestActions</code> рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рдПрдХ <code>DWidget</code> рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ <code>Future&lt;void&gt;</code> рд▓реМрдЯрд╛рдПрдЧрд╛: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">await </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">runTestActions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([ mainScreen.result.hasText(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"summa = 0"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">, </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>=&gt; driver.requestData(<span class="hljs-string"><span class="hljs-string">"some_message"</span></span>), () async =&gt; print(<span class="hljs-string"><span class="hljs-string">"some_text"</span></span>), mainScreen.field_1.setText(<span class="hljs-string"><span class="hljs-string">"3"</span></span>), ]);</code> </pre> <br><h2 id="flutterdriverhelper">  FlutterDriverHelper </h2><br><p>  <code>FlutterDriver</code> рдореЗрдВ рдпреВрдЖрдИ рддрддреНрд╡реЛрдВ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВ (рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рд╕реНрдХреНрд░реЙрд▓ рдХрд░рдирд╛, рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдФрд░ рджрд░реНрдЬ рдХрд░рдирд╛, рд╕реНрдХреНрд░реЙрд▓ рдХрд░рдирд╛ рдЖрджрд┐) рдФрд░ рдЗрди рддрд░реАрдХреЛрдВ рдХреЗ рд▓рд┐рдП <code>DWidget</code> рдореЗрдВ рдЗрд╕реА рддрд░реАрдХреЗ рд╣реИрдВ рдЬреЛ <code>TestAction</code> ред </p><br><p>  рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рдЗрд╕ рдЖрд▓реЗрдЦ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХреЛрдб рдХреЛ <a href="https://pub.dev/packages/flutter_driver_helper" rel="nofollow"><code>FlutterDriverHelper</code> рдкрд░ рдлрд╝реНрд▓рдЯрд░рдбреНрд░рд╛рдЗрд╡рд░ <code>FlutterDriverHelper</code></a> рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рд╕реНрдХреНрд░реЙрд▓рд┐рдВрдЧ рд╕реВрдЪрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП, рдЬрд┐рд╕рдореЗрдВ рддрддреНрд╡ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рдмрдирд╛рдП рдЧрдП рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>ListView.builder</code> ), <code>FlutterDriver</code> рдореЗрдВ рдПрдХ <code>scrollUntilVisible</code> рд╡рд┐рдзрд┐ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">Future&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scrollUntilVisible</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( SerializableFinder scrollable, SerializableFinder item, { </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> alignment = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dxScroll = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dyScroll = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, Duration timeout, })</span></span></span><span class="hljs-function"> async </span></span>{ ... }</code> </pre> <br><p>  рдпрд╣ рд╡рд┐рдзрд┐ рд╕реНрдХреНрд░реЙрд▓ рд╡рд┐рдЬреЗрдЯ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рджрд┐рд╢рд╛ рдореЗрдВ рд╕реНрдХреНрд░реЙрд▓ рдХрд░рддреА рд╣реИ рдЬрдм рддрдХ рдХрд┐ рд╕реНрдХреНрд░реАрди рдкрд░ <code>item</code> рд╡рд┐рдЬреЗрдЯ рдкреНрд░рдХрдЯ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ (рдпрд╛ рдЬрдм рддрдХ рдХреЛрдИ <code>timeout</code> )ред  рдкреНрд░рддреНрдпреЗрдХ <code>scrollable</code> рдкрд░ <code>scrollable</code> рдХрд░рдиреЗ <code>scrollable</code> рдкрд╛рд╕ рдирд╣реАрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, DScrollItem рд╡рд░реНрдЧ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ рдПрдХ <code>DWidget</code> рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ <code>DWidget</code> рдФрд░ рдПрдХ рд╕реВрдЪреА рдЖрдЗрдЯрдо рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рдореЗрдВ <code>scrollable</code> рдХрд░рдиреЗ <code>scrollable</code> рд▓рд┐рдВрдХ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕реНрдХреНрд░реЙрд▓ рдХрд░рддреЗ рд╕рдордп рдпрд╣ рдХреЗрд╡рд▓ <code>dyScroll</code> рдпрд╛ <code>dxScroll</code> рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд░рд╣рддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SecondScreen</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseScreen</span></span></span><span class="hljs-class"> </span></span>{ SecondScreen(FlutterDriver driver) : <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(driver); DWidget get list =&gt; dWidget(<span class="hljs-string"><span class="hljs-string">"list"</span></span>); <span class="hljs-function"><span class="hljs-function">DScrollItem </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">item</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> index)</span></span></span><span class="hljs-function"> </span></span>=&gt; dScrollItem(<span class="hljs-string"><span class="hljs-string">'item_$index'</span></span>, list); } ... <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> secondScreen = SecondScreen(driver); <span class="hljs-function"><span class="hljs-function">await </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">runTestActions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([ secondScreen.item(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">42</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scrollUntilVisible</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dyScroll: </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">-300</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">, ... ])</span></span>;</code> </pre> <br><p>  рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЗ рджреМрд░рд╛рди, рдЖрдк рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ <code>FlutterDriverHelper</code> рдореЗрдВ рдПрдХ <a href="" rel="nofollow"><code>Screenshoter</code></a> рдЬреЛ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдХреЛ рд╡рд░реНрддрдорд╛рди рд╕рдордп рдХреЗ рд╕рд╛рде рд╕рд╣реА рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕рд╣реЗрдЬрддрд╛ рд╣реИ рдФрд░ <code>TestAction</code> рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред </p><br><h2 id="drugie-problemy-i-ih-resheniya">  рдЕрдиреНрдп рд╕рдорд╕реНрдпрд╛рдУрдВ рдФрд░ рдЙрдирдХреЗ рд╕рдорд╛рдзрд╛рди </h2><br><ul><li>  рдореБрдЭреЗ рд╕рдордп / рджрд┐рдирд╛рдВрдХ рд╕рдВрд╡рд╛рджреЛрдВ рдореЗрдВ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдорд╛рдирдХ рддрд░реАрдХрд╛ рдирд╣реАрдВ рдорд┐рд▓рд╛ - рдореБрдЭреЗ <a href="" rel="nofollow"><code>TestHooks</code></a> рдХрд╛ рдЙрдкрдпреЛрдЧ <a href="" rel="nofollow"><code>TestHooks</code></a> ред  <code>TestHooks</code> рдЯреЗрд╕реНрдЯ рдХреЗ рджреМрд░рд╛рди рд╡рд░реНрддрдорд╛рди рд╕рдордп / рддрд┐рдерд┐ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </li><li>  DropdownButtonFormField рдХреЗ рд▓рд┐рдП рдбреНрд░реЙрдкрдбрд╛рдЙрди рд╕реВрдЪреА рдореЗрдВ <code>DropdownButtonFormField</code> рдЖрдкрдХреЛ DropdownMenuItem рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдЗрд╕ DropdownMenuItem рдХреЗ <code>child</code> рд▓рд┐рдП <code>key</code> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЕрдиреНрдпрдерд╛ <code>Flutter Driver</code> рдЗрд╕реЗ рдЦреЛрдЬрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрдЧрд╛ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдбреНрд░реЙрдк-рдбрд╛рдЙрди рд╕реВрдЪреА рдореЗрдВ рд╕реНрдХреНрд░реЙрд▓ рдХрд░рдирд╛ рдЕрднреА рддрдХ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ ( <a href="https://github.com/flutter/flutter/issues/37903" rel="nofollow">github.com рдкрд░ рдЬрд╛рд░реА</a> )ред </li><li>  <code>FlutterDriver.getCenter</code> рдкрджреНрдзрддрд┐ рд╕реЗ <code>Future&lt;DriverOffset&gt;</code> , рд▓реЗрдХрд┐рди <code>DriverOffset</code> рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ API ( <a href="https://github.com/flutter/flutter/issues/44367" rel="nofollow">github.com рдкрд░ рдЬрд╛рд░реА</a> ) рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рдирд╣реАрдВ рд╣реИ </li><li>  рдХреБрдЫ рдФрд░ рд╕рдорд╕реНрдпрд╛рдЧреНрд░рд╕реНрдд рдФрд░ рд╕реНрдкрд╖реНрдЯ рдЪреАрдЬреЗрдВ рдирд╣реАрдВ рд╣реИрдВ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рдореМрдЬреВрдж рд╣реИрдВред  рдЖрдк рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ <a href="https://medium.com/flutter-community/blazingly-fast-flutter-driver-tests-5e375c833aa" rel="nofollow">рдЕрджреНрднреБрдд рд▓реЗрдЦ</a> рдореЗрдВ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рдбреЗрд╕реНрдХрдЯреЙрдк рдкрд░ рдкрд░реАрдХреНрд╖рдг рдЪрд▓рд╛рдиреЗ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдкрд░реАрдХреНрд╖рдг рдХреА рд╢реБрд░реБрдЖрдд рд╕реЗ рдкрд╣рд▓реЗ рдЖрд╡реЗрджрди рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдереАред </li><li>  рдЖрдк Github Actions рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд░реАрдХреНрд╖рдг рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА <a href="https://medium.com/flutter-community/run-flutter-driver-tests-on-github-actions-13c639c7e4ab" rel="nofollow">рдпрд╣рд╛рдБ</a> ред </li></ul><br><h2 id="todo">  рдпрд╣ рдХрд░реЗрдВ </h2><br><p>  <code>FlutterDriverHelper</code> рднрд╡рд┐рд╖реНрдп рдХреЗ <code>FlutterDriverHelper</code> рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: </p><br><ul><li>  рд╡рд╛рдВрдЫрд┐рдд рд╕реВрдЪреА рдЖрдЗрдЯрдо рдкрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕реНрдХреНрд░реЙрд▓рд┐рдВрдЧ рдпрджрд┐ рдЗрд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд╕рдордп рдпрд╣ рд╕реНрдХреНрд░реАрди рдкрд░ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗ рд░рд╣рд╛ рд╣реИ (рдЬреИрд╕рд╛ рдХрд┐ <a href="https://github.com/KasperskyLab/Kaspresso" rel="nofollow">рдПрдВрдбреНрд░реЙрдЗрдб рдХреЗ</a> рд▓рд┐рдП <a href="https://github.com/KasperskyLab/Kaspresso" rel="nofollow">рдХрд╛рд╕реНрдкреЗрд░реЛ</a> рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ)ред  рдпрджрд┐ рд╕рдВрднрд╡ рд╣реЛ, рддреЛ рджреЛрдиреЛрдВ рджрд┐рд╢рд╛рдУрдВ рдореЗрдВ рднреАред </li><li>  рдПрдХ <code>Dwidget</code> рдпрд╛ <code>DscrollItem</code> рд╕рд╛рде рдХрд┐рдП рдЧрдП рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░ред </li></ul><br><p>  <em>рдЯрд┐рдкреНрдкрдгрд┐рдпрд╛рдБ рдФрд░ рд░рдЪрдирд╛рддреНрдордХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХрд╛ рд╕реНрд╡рд╛рдЧрдд рдХрд░рддреЗ рд╣реИрдВред</em> </p><br><p>  <strong>рдЕрджреНрдпрддрди (</strong> <code>TestAction</code> <strong>)</strong> : рд╕рдВрд╕реНрдХрд░рдг <a href="https://pub.dev/packages/flutter_driver_helper" rel="nofollow">рез.рез.реж рдореЗрдВ</a> <code>TestAction</code> рдПрдХ рд╡рд░реНрдЧ рдмрди рдЧрдпрд╛, рдЬрд┐рд╕рдореЗрдВ <code>String name</code> рдлрд╝реАрд▓реНрдб рд╣реИред  рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП, <code>runTestActions</code> рдореЗрдердб рдореЗрдВ рдХреА рдЧрдИ рд╕рднреА рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рд▓реЙрдЧрд┐рдВрдЧ рдХреЛ <code>runTestActions</code> ред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi483468/">https://habr.com/ru/post/hi483468/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi483454/index.html">Cyrillic рдореЗрдВ рдлрд╛рдЗрд▓реЛрдВ рдХреЛ рд╕рд╣реЗрдЬрдиреЗ рдХреЗ рд╕рд╛рде Atlassian Bitbucket рдореЗрдВ Mercurial рд╕реЗ GIT рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдХрд░рдирд╛</a></li>
<li><a href="../hi483458/index.html">рдЧреНрд░реАрдирдкреАрдЧ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рд╣рд╛рдпрдХ</a></li>
<li><a href="../hi483460/index.html">SQL HowTo: рд╡рд┐рдВрдбреЛ рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЪреЗрди рдХрд╛ рдирд┐рд░реНрдорд╛рдг</a></li>
<li><a href="../hi483462/index.html">рдЪреБрдк рд░рд╣реЛ рдФрд░ рдореЗрд░реЗ рдкреИрд╕реЗ рд▓реЗ рд▓реЛ</a></li>
<li><a href="../hi483466/index.html">рдкреЗрд╢ рд╣реИ рдмреИрдХрдкреНрд░реЙрдкреИрдЬреИрд╢рди рдореЗрдердб</a></li>
<li><a href="../hi483470/index.html">рдХреБрд╢рд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЯрд╛рдЗрд▓реЗрдВ рдмрд┐рдЫрд╛рдПрдВ (рдкреНрд░реЛ рд╕реАрдПрд╕рдПрд╕, рдПрд╕рд╡реАрдЬреА, рдкреИрдЯрд░реНрди рдФрд░ рдЕрдзрд┐рдХ)</a></li>
<li><a href="../hi483472/index.html">рд╕рдм рдХреБрдЫ рд╣рдЯрд╛рдПрдВ: рдбреЗрдЯрд╛ рдХреЛ рдХреИрд╕реЗ рдорд┐рдЯрд╛рдПрдВ рдФрд░ NVMe SSD рдХреЛ рдлрд╝реИрдХреНрдЯрд░реА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдкрд░ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ</a></li>
<li><a href="../hi483476/index.html">рд░реЛрдмреЛрдЯ рдЯреНрд░рд╛рдВрд╕рдкреЛрд░реНрдЯ рдХрд╛ рдиреИрддрд┐рдХ: рдЯреНрд░реЙрд▓реА рдХреА рд╕рдорд╕реНрдпрд╛, рдЬреЛрдЦрд┐рдо рдФрд░ рдкрд░рд┐рдгрд╛рдо</a></li>
<li><a href="../hi483478/index.html">рд╕реВрд░реНрдп, рд╣рд╡рд╛ рдФрд░ рдкрд╛рдиреА ver 0.1</a></li>
<li><a href="../hi483480/index.html">рдХреНрд░реЙрд╕рд╡рд░реНрдб "рдПрдХ рдПрд╕рдУрд╕реА рд╡рд┐рд╢реНрд▓реЗрд╖рдХ рдХреА рддрд░рд╣ рдорд╣рд╕реВрд╕ рдХрд░реЗрдВ"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>