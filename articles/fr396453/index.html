<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ…°ï¸ âš°ï¸ ğŸŒ­ Tapis avec un cheval et un Ã©lÃ©phant. Base de dÃ©cision ğŸ‡ğŸ» ğŸ––ğŸ» ğŸ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vous voulez Ã©nigmer un joueur d'Ã©checs dÃ©butant? 
 Demandez-lui de mater avec un cheval et un Ã©lÃ©phant. 
 
 Vous voulez surprendre un programmeur novi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tapis avec un cheval et un Ã©lÃ©phant. Base de dÃ©cision</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/396453/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous voulez Ã©nigmer un joueur d'Ã©checs dÃ©butant? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Demandez-lui de mater avec un cheval et un Ã©lÃ©phant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous voulez surprendre un programmeur novice? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Demandez-lui de calculer le tapis avec un cheval et un Ã©lÃ©phant. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/552/4b2/6d8/5524b26d81625b9ae809054ed010ee1d.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les problÃ¨mes d'Ã©checs excitent l'imagination du programmeur, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c'est pourquoi pour la dÃ©monstration pratique de la combinatoire </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
j'ai choisi le problÃ¨me d'Ã©checs le plus difficile du cycle "Ã©chec et mat au roi solitaire".</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fixation d'objectifs</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le but du projet est de crÃ©er une base de solutions, c'est-Ã -dire une liste des bons mouvements pour tous les emplacements possibles du roi blanc, de l'Ã©lÃ©phant, du cheval et du roi noir sur l'Ã©chiquier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette publication, je vais vous expliquer comment j'ai rÃ©solu ce problÃ¨me, quelles difficultÃ©s j'ai dÃ» affronter, et aussi vous montrer ce qui s'est finalement produit. Technologies utilisÃ©es: C #, JavaScript, PHP, HTML, CSS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã‰tant un joueur d'Ã©checs trÃ¨s mÃ©diocre, je n'ai jamais appris Ã  mater rapidement avec un cheval et un Ã©lÃ©phant. Par consÃ©quent, j'ai dÃ©cidÃ© de compenser cette lacune par mes compÃ©tences en programmation, de trier toutes les positions possibles et de trouver le bon choix pour chacune.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant d'Ã©crire au moins une ligne de code, j'ai Ã©laborÃ© un plan Â«napolÃ©onienÂ» sur la faÃ§on dont je le ferais pendant plusieurs semaines. </font><font style="vertical-align: inherit;">Je voulais vraiment commencer Ã  rÃ©soudre ce problÃ¨me depuis la fin, en triant toutes les combinaisons mates. </font><font style="vertical-align: inherit;">Et puis, faites un pas en arriÃ¨re jusqu'Ã  ce que toutes les options possibles soient Ã©puisÃ©es.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combien d'options existe-t-il?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a 64 cellules sur un Ã©chiquier. </font><font style="vertical-align: inherit;">Nous avons quatre chiffres. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nombre de combinaisons possibles est 64 * 64 * 64 * 64 = 16 777 216. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous ne pouvez laisser qu'un Ã©lÃ©phant Ã  poitrine blanche. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nombre d'options sera divisÃ© par deux: 64 * 32 * 64 * 64 = 8 388 608. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tant de postes seront dans notre base de donnÃ©es de solutions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, il y a encore moins de combinaisons: deux piÃ¨ces ne peuvent pas se tenir sur une case, les rois ne peuvent pas se tenir sur des cases adjacentes, le roi noir ne peut pas Ãªtre sous le contrÃ´le, et ainsi de suite. </font><font style="vertical-align: inherit;">Pour l'avenir, je dirai que la base de donnÃ©es des solutions s'est avÃ©rÃ©e Ãªtre 5 609 790 combinaisons, le tableau sera rempli de 67%. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, pour simplifier l'algorithme et accÃ©lÃ©rer l'accÃ¨s aux donnÃ©es de la base de donnÃ©es, j'ai dÃ©cidÃ© de ne pas Â«perdre de temps dessusÂ» et de crÃ©er un tableau Ã  quatre dimensions pour toutes les combinaisons.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La structure suivante est dÃ©finie pour stocker chaque combinaison:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Combo<font></font>
    {<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord whiteKing;
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord whiteBishop;
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord whiteKnight;
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord blackKing;<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã€ l'intÃ©rieur, une autre structure Coord est utilisÃ©e pour enregistrer les coordonnÃ©es de la figure, avec la possibilitÃ© de calculer l'indice de 0 Ã  63, ainsi qu'avec un opÃ©rateur de comparaison surchargÃ©.</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Coord<font></font>
    {<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> x; <span class="hljs-comment"><span class="hljs-comment">//    0  7 ( a  h)</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> y; <span class="hljs-comment"><span class="hljs-comment">//    0  7</span></span><font></font>
        <font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index<font></font>
        {<font></font>
            <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x + y * <span class="hljs-number"><span class="hljs-number">8</span></span>; }
            <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { x = (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> % <span class="hljs-number"><span class="hljs-number">8</span></span>); <font></font>
                  y = (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> / <span class="hljs-number"><span class="hljs-number">8</span></span>); }<font></font>
        }<font></font>
        <font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> == (Coord a, Coord b)<font></font>
        {<font></font>
            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a.x == b.x &amp;&amp; a.y == b.y;<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette structure s'est avÃ©rÃ©e trÃ¨s pratique pour passer comme argument Ã  diverses fonctions auxiliaires, par exemple:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isCheck</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Combo combo</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isCheckmate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Combo combo</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isCheckByBishop</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Combo combo</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     </span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, pour enregistrer le rÃ©sultat de la base de dÃ©cisions de cette structure ne suffit pas, nous avons encore besoin ... </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BoÃ®te blanche</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'objectif de notre programme sera de crÃ©er une "boÃ®te blanche", dans laquelle toutes les positions dans lesquelles le "mouvement est blanc", et pour lesquelles on sait quel mouvement prendre, et Ã  travers combien de mouvements il sera garanti de mater, seront additionnÃ©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une partie intÃ©grante de la Â«boÃ®te blancheÂ» est la structure suivante:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> WhitesMove<font></font>
    {<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Combo combo;
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> moves;     <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord moveFrom; <span class="hljs-comment"><span class="hljs-comment">//   - </span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Coord moveTo;   <span class="hljs-comment"><span class="hljs-comment">// </span></span><font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La faÃ§on la plus simple d'organiser une Â«boÃ®te blancheÂ» consiste Ã  ouvrir une matrice Ã  quatre dimensions. </font><font style="vertical-align: inherit;">Chaque dimension de cette matrice correspond Ã  la position possible de chaque figure:</font></font><br>
<br>
<pre><code class="cs hljs">    WhitesMove [ , , , ] box = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WhitesMove [<span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>];
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
la premiÃ¨re dimension est la coordonnÃ©e du roi blanc. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
la deuxiÃ¨me dimension est la coordonnÃ©e de l'Ã©lÃ©phant blanc / 2. la </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
troisiÃ¨me dimension est la coordonnÃ©e du cheval blanc. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
la quatriÃ¨me dimension est la coordonnÃ©e du roi noir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'essentiel est de ne pas confondre leur commande :) Le tableau s'avÃ©rera Ãªtre dÃ©chargÃ© Ã  33%, mais trÃ¨s pratique pour le traitement. </font><font style="vertical-align: inherit;">C'est dans ce tableau que 8 388 608 entrÃ©es seront stockÃ©es pour rÃ©soudre les combinaisons. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, avant de commencer Ã  Ã©crire tous les algorithmes de recherche, j'ai crÃ©Ã© un projet vide et initialisÃ© cette matrice Ã  quatre dimensions, afin de s'assurer qu'il y a suffisamment de mÃ©moire et qu'il ne sera pas nÃ©cessaire d'inventer quelque chose de plus. </font><font style="vertical-align: inherit;">Apparemment, l'expÃ©rience de participer aux olympiades informatiques du dernier millÃ©naire, oÃ¹ la taille de la structure ne pouvait pas dÃ©passer 64 kilo-octets, a affectÃ© Turbo Pascal 7.0.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IdÃ©e de l'algorithme</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DÃ©crivez briÃ¨vement l'idÃ©e principale de rÃ©soudre ce problÃ¨me. </font><font style="vertical-align: inherit;">Il est basÃ© sur un premier algorithme de recherche, qui a dÃ» Ãªtre lÃ©gÃ¨rement modifiÃ©, car deux personnes jouent aux Ã©checs et des mouvements sont effectuÃ©s Ã  tour de rÃ´le. </font><font style="vertical-align: inherit;">Par consÃ©quent, au lieu d'une ligne, nous avons besoin de deux - Â«noirÂ» et Â«blancÂ».</font></font><br>
<br>
<pre><code class="cs hljs">    Queue&lt;BlacksMove&gt; blackQueue = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Queue&lt;BlacksMove&gt;();<font></font>
    Queue&lt;WhitesMove&gt; whiteQueue = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Queue&lt;WhitesMove&gt;();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec la structure de WhitesMove, nous nous sommes dÃ©jÃ  rencontrÃ©s. </font><font style="vertical-align: inherit;">La structure de BlacksMove est un peu plus simple, car il n'est pas nÃ©cessaire d'y stocker le dernier mouvement de Black.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> BlacksMove<font></font>
    {<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Combo combo;
        <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> moves; <font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PremiÃ¨rement, dans la Â«ligne noireÂ», nous placerons toutes les positions mates dans lesquelles le mouvement est noir. </font><font style="vertical-align: inherit;">Ensuite, Ã  partir de chacune de ces positions, nous effectuerons un mouvement inverse pour les Blancs et formerons une "ligne blanche" - une liste de positions dans lesquelles les Blancs se dÃ©placeront. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces Ã©tapes devront Ãªtre rÃ©pÃ©tÃ©es jusqu'Ã  Ã©puisement de toutes les combinaisons possibles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme principal sous forme de pseudo-code:</font></font><br>
<br>
<pre><code class="cs hljs">       <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
         <font></font>
         <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
<font></font>
      <font></font>
      {<font></font>
           <span class="hljs-string"><span class="hljs-string">" "</span></span>  <font></font>
                 <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
                    <font></font>
                      <font></font>
                           <span class="hljs-string"><span class="hljs-string">" "</span></span>
                             <span class="hljs-string"><span class="hljs-string">" "</span></span>
                             <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
<font></font>
           <span class="hljs-string"><span class="hljs-string">" "</span></span>  <font></font>
                 <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
                      <font></font>
                        <font></font>
                      <span class="hljs-string"><span class="hljs-string">" "</span></span>
                         <span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
<font></font>
      }  <span class="hljs-string"><span class="hljs-string">" "</span></span>  <font></font>
<font></font>
       <span class="hljs-string"><span class="hljs-string">" "</span></span>   
</code></pre><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Position mate</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La crÃ©ation de la base des bons mouvements commence par une recherche de toutes les combinaisons de mattes. </font><font style="vertical-align: inherit;">L'utilisation d'Ã©numÃ©rateurs a permis de dÃ©crire assez efficacement ce processus.</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">Combo combo </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllCheckmates</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>))</span></span><font></font>
    {<font></font>
        BlacksMove checkmate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BlacksMove { combo = combo, moves = <span class="hljs-number"><span class="hljs-number">0</span></span> };<font></font>
        blackQueue.Enqueue(checkmate);<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total a trouvÃ© 232 positions mates. </font><font style="vertical-align: inherit;">Permettez-moi de vous rappeler que nous nous sommes limitÃ©s uniquement Ã  un Ã©lÃ©phant Ã  fond blanc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certains d'entre eux sont assez exotiques, inexistants et Â«coopÃ©ratifsÂ», c'est alors que le roi noir lui-mÃªme est montÃ© sous le tapis. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/cb8/72f/c4e/cb872fc4e552449343b0bb9ad2e80303.png" alt="Mat.  Quelle a Ã©tÃ© la dÃ©cision de White?"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les joueurs d'Ã©checs savent trÃ¨s bien qu'un tapis avec un cheval et un Ã©lÃ©phant Ã  fond blanc doit Ãªtre placÃ© dans un coin blanc. </font><font style="vertical-align: inherit;">Dans le coin noir, Ã©chec et mat n'est possible que si le noir joue avec. </font><font style="vertical-align: inherit;">J'ai spÃ©cialement postÃ© une photo avec un tel pseudo-automate au dÃ©but de l'article afin de provoquer l'attention des vrais joueurs d'Ã©checs :)</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tapis en un seul mouvement</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'Ã©tape suivante consiste Ã  inverser le blanc. </font><font style="vertical-align: inherit;">Autrement dit, pour chaque position mate trouvÃ©e, effectuez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tous les reculs blancs possibles</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment faire un mouvement inverse? </font><font style="vertical-align: inherit;">Ã‰tant donnÃ© qu'aucune capture n'est prÃ©vue dans nos positions, l'algorithme est assez simple - faites n'importe quel mouvement par les Blancs, aprÃ¨s quoi il n'y aura pas de contrÃ´le au roi noir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes les positions trouvÃ©es de cette maniÃ¨re peuvent dÃ©jÃ  Ãªtre mises dans la Â«boÃ®te blancheÂ», indiquant qu'il y a un mouvement avant le tapis et quel type de mouvement pour ce faire. </font><font style="vertical-align: inherit;">En cours de route, nous mettons les combinaisons trouvÃ©es dans la Â«ligne noireÂ». </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici Ã  quoi ressemble cette partie de l'algorithme:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-comment"><span class="hljs-comment">//  " "  </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (blackQueue.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
    {<font></font>
        <span class="hljs-comment"><span class="hljs-comment">//    " "</span></span><font></font>
        BlacksMove black = blackQueue.Dequeue();<font></font>
        <span class="hljs-comment"><span class="hljs-comment">//       </span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">WhitesMove white </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllWhiteBackMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">black</span></span></span><span class="hljs-function">))
            </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">//     </span></span></span><span class="hljs-function">
            </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!isCheck(white.combo</span></span></span><span class="hljs-function">))
                </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">//      " "</span></span></span><span class="hljs-function">
                </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!whiteBox.Exists(white.combo</span></span></span><span class="hljs-function">))</span></span><font></font>
                {<font></font>
                    <span class="hljs-comment"><span class="hljs-comment">//    " "</span></span><font></font>
                    whiteBox.Put (white);<font></font>
                    <span class="hljs-comment"><span class="hljs-comment">//    " "</span></span><font></font>
                    whiteQueue.Enqueue(white);<font></font>
                }<font></font>
    }<font></font>
</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soit dit en passant, sur le rendement</font></font></b><div class="spoiler_text">   yield-      , ,         :<br>
<br>
<pre><code class="cs hljs">        <span class="hljs-function"><span class="hljs-function">IEnumerable&lt;WhitesMove&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllWhiteBackMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlacksMove black</span></span></span><span class="hljs-function">)</span></span><font></font>
        {<font></font>
            <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">WhitesMove white </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllWhiteKingMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">black</span></span></span><span class="hljs-function">))
                </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return white</span></span>;
            <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">WhitesMove white </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllWhiteBishopMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">black</span></span></span><span class="hljs-function">))
                </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return white</span></span>;
            <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">WhitesMove white </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllWhiteKnightMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">black</span></span></span><span class="hljs-function">))
                </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return white</span></span>;<font></font>
        }<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un total de 920 positions de ce type ont Ã©tÃ© trouvÃ©es, voici les plus intÃ©ressantes: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mouvement cheval </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/a3c/5e9/e2a/a3c5e9e2a6de27f57d40720cf3caa044.png" alt="Knight 1"> <img src="https://habrastorage.org/getpro/geektimes/post_images/b30/477/955/b3047795519e369386b6d4c98582310f.png" alt="coup de chevalier 2"> <img src="https://habrastorage.org/getpro/geektimes/post_images/8aa/d2b/728/8aad2b72884640ec4fe9469efa89088d.png" alt="Chevalier 3"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
: Mouvement Ã©lÃ©phant: Mouvement </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/af8/447/b26/af8447b26f2c45bd93595887f84f4a65.png" alt="Ã©lÃ©phant se dÃ©place 1"> <img src="https://habrastorage.org/getpro/geektimes/post_images/cdf/b7b/735/cdfb7b7359a3e69f93aa8b8b67651206.png" alt="Ã©lÃ©phant se dÃ©placent 2"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
roi:</font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/689/946/f2e/689946f2eb8e8d5eac9d0cc8d2a3834b.png" alt="dÃ©mÃ©nagement du roi"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tapis en un mouvement et demi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'Ã©tape suivante consiste Ã  inverser le noir. Avec cet algorithme j'ai passÃ© le plus de temps, beaucoup d'erreurs ont Ã©tÃ© commises avant que tout fonctionne correctement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã€ premiÃ¨re vue, tout est similaire Ã  la version prÃ©cÃ©dente: pour chaque position de la Â«ligne blancheÂ» il faut trier tous les mouvements possibles du roi noir. Et ajoutez toutes les combinaisons trouvÃ©es Ã  la Â«ligne noireÂ» - aprÃ¨s tout, c'est un Ã©chec et mat en un mouvement et demi, Ã  partir duquel vous pouvez ensuite effectuer Ã  nouveau un mouvement inverse pour les Blancs - il y aura un Ã©chec et mat en deux mouvements - et continuer jusqu'Ã  ce que toutes les options soient rÃ©visÃ©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'Ã©tait l'erreur. Avec n'importe quel mouvement possible, Black obtient un Ã©chec et mat matelassÃ© Â«coopÃ©ratifÂ» en un mouvement et demi, mais en rÃ©alitÃ© le roi ne passera pas nÃ©cessairement sous l'Ã©chec et mat. Dmitry Grin m'a signalÃ© cette erreur, qui a assistÃ© Ã  tous mes webinaires sur la crÃ©ation de ce programme, pour lesquels je le remercie sÃ©parÃ©ment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme correct est le suivant: pour chaque position N aprÃ¨s le mouvement inverse du roi noir, vous devez passer par tous les mouvements directs possibles de celui-ci pour vous assurer qu'ils mÃ¨nent tous Ã  des positions familiÃ¨res Ã  partir de la "boÃ®te blanche", c'est-Ã -dire conduire au tapis. Et seulement aprÃ¨s cette position, N peut Ãªtre ajoutÃ© Ã  la Â«ligne noireÂ». Et si le roi noir peut Â«s'Ã©chapperÂ» de la position N, alors nous sautons cette option. Elle se rÃ©unira lors des itÃ©rations suivantes, lorsqu'il y aura des postes plus familiers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici Ã  quoi ressemble cette partie de l'algorithme:</font></font><br>
<br>
<pre><code class="cs hljs">    <span class="hljs-comment"><span class="hljs-comment">//  " "  </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (whiteQueue.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
    {<font></font>
        <span class="hljs-comment"><span class="hljs-comment">//   N  " "</span></span><font></font>
        WhitesMove white = whiteQueue.Dequeue();<font></font>
        Combo whiteFigures = white.combo;<font></font>
        <span class="hljs-comment"><span class="hljs-comment">//   N      </span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">BlacksMove black </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllBlackBackMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">white</span></span></span><span class="hljs-function">))</span></span><font></font>
        {<font></font>
            <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> solved = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;
            <span class="hljs-comment"><span class="hljs-comment">//      </span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-function"><span class="hljs-function">Coord blackKing </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AllKingMoves</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">black.combo.blackKing</span></span></span><span class="hljs-function">))</span></span><font></font>
            {<font></font>
                whiteFigures.blackKing = blackKing; <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
                <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isCheck(whiteFigures)) <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
                    <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>;
                <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (box.Exists(whiteFigures)) <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
                    <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>;<font></font>
                solved = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    ""</span></span>
                <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
            }<font></font>
            <span class="hljs-comment"><span class="hljs-comment">//       </span></span>
            <span class="hljs-comment"><span class="hljs-comment">//     " "</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (solved)
                <span class="hljs-comment"><span class="hljs-comment">//    " "</span></span><font></font>
                blackQueue.Enqueue(black);<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au total, 156 combinaisons de Â«mouvements mat et demiÂ» ont Ã©tÃ© trouvÃ©es.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã€ mi-parcours itÃ©ratif</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les algorithmes dÃ©crits pour crÃ©er des demi-passes doivent Ãªtre bouclÃ©s. </font><font style="vertical-align: inherit;">Ã€ partir de la Â«ligne noireÂ», nous formons la Â«ligne blancheÂ», et vice versa - Ã  partir de la ligne Â«blancheÂ», nous formons la Â«ligne noireÂ». </font><font style="vertical-align: inherit;">Et ainsi de suite jusqu'Ã  Ã©puisement de toutes les nouvelles positions. </font><font style="vertical-align: inherit;">La Â«boÃ®te blancheÂ» est remplie au stade de la formation de la Â«ligne blancheÂ», car elle place les positions dans lesquelles les blancs se dÃ©placent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme prÃªt Ã  l'emploi pour l'Ã©numÃ©ration de toutes les options a fonctionnÃ© quelque part en 12 minutes et s'est arrÃªtÃ© au mouvement 33. </font><font style="vertical-align: inherit;">C'est le nombre de mouvements maximum nÃ©cessaires pour accoupler le roi noir avec un cheval et un Ã©lÃ©phant de n'importe quelle position. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, il n'y avait pas tellement de postes Â«les plus difficilesÂ», seulement 156, en voici un:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/af4/481/e7c/af4481e7cfe9f5d9e5787d4f287238f6.png" alt="Tapis en 33 mouvements"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mata ne le sera pas!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe de nombreuses positions dans lesquelles, mÃªme aprÃ¨s le mouvement des Blancs, le roi noir peut manger un chevalier ou un Ã©vÃªque et obtenir un match nul. </font><font style="vertical-align: inherit;">Il existe Ã©galement des options de blocage. </font><font style="vertical-align: inherit;">Voici quelques-uns des articles les plus intÃ©ressants.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/b87/90d/11f/b8790d11ff993e53cb6620167448e7fb.png" alt="Pas de compagnon"> <img src="https://habrastorage.org/getpro/geektimes/post_images/885/786/cad/885786cad2d99e49c3d176a83217bda4.png" alt="Pas de compagnon"><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/09c/f2c/cf2/09cf2ccf2d1855e834a1e2e38e0205e2.png" alt="Pas de compagnon"> <img src="https://habrastorage.org/getpro/geektimes/post_images/6ef/659/f74/6ef659f744134d6e4c993c56dd71a213.png" alt="Pas de compagnon"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment stocker une base de donnÃ©es de solution</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment stocker la base de solutions trouvÃ©e? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La maniÃ¨re la plus simple et la plus fausse est d'utiliser la sÃ©rialisation. Le tableau en quatre dimensions sÃ©rialisÃ© de la structure a pris 1,7 gigaoctets (!) D'espace disque. Le processus de sÃ©rialisation a durÃ© environ six minutes, la dÃ©sÃ©rialisation a pris environ la mÃªme chose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette option, bien sÃ»r, ne convient pas. De plus, en pratique, il n'est pas nÃ©cessaire d'utiliser la totalitÃ© du rÃ©seau Ã  quatre dimensions. Une seule entrÃ©e est nÃ©cessaire pour un Ã©lÃ©ment de campagne spÃ©cifique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eureka! Pour Ã©conomiser de l'espace, vous pouvez toujours vous dÃ©barrasser du stockage des coordonnÃ©es des chiffres pour chaque combinaison. Lorsque nous avons un tableau Ã  quatre dimensions, la position de chaque figure sur la carte est uniquement dÃ©terminÃ©e par son indice dans le tableau.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a Ã©tÃ© dÃ©cidÃ© de stocker l'intÃ©gralitÃ© de la base de donnÃ©es de solutions dans un seul fichier - sous la forme d'un balayage linÃ©aire d'un tableau Ã  quatre dimensions. Pour toute position possible, l'adresse est calculÃ©e Ã  laquelle la bonne rÃ©ponse est enregistrÃ©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment enregistrer la rÃ©ponse dont nous avons besoin de maniÃ¨re aussi compacte que possible? La position des figures n'a pas besoin d'Ãªtre stockÃ©e, il ne reste donc que trois chiffres - combien de mouvements vers le tapis, quoi aller et oÃ¹ aller. C'est ainsi que la bonne dÃ©cision pour les Blancs est dÃ©terminÃ©e de maniÃ¨re unique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6 bits Le nombre de dÃ©placements vers le tapis est un entier de 0 Ã  33,2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bits. Quelle figure marche - trois options possibles, un roi, un Ã©lÃ©phant ou un cheval. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6 bits OÃ¹ va la piÃ¨ce - l'indice du champ sur la carte est de 0 Ã  63. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, pour chaque enregistrement de dÃ©cision, deux octets suffisent: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 octet - combien de mouvements vers le tapis, ou 0 si la position n'est pas familiÃ¨re. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 octets - FFNNNNNN</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FF - numÃ©ro de la figure Ã  marcher (1 - roi, 2 - Ã©lÃ©phant, 3 - cheval) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NNNNNN - coordonnÃ©e cellulaire - oÃ¹ aller (de 0 Ã  63). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, le fichier de base de donnÃ©es de solution prend 64 * 32 * 64 * 64 mots = exactement 16 mÃ©gaoctets. </font><font style="vertical-align: inherit;">La position des chiffres est dÃ©finie par les coordonnÃ©es de chaque mot, dans le premier octet - le nombre de mouvements vers le tapis (ou 0 s'il n'y a pas de solution), le deuxiÃ¨me mouvement stocke le mouvement correct. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il serait possible de rÃ©duire la taille du fichier de moitiÃ© si vous ne stockiez pas le nombre de coups sur le tapis, mais ce ne serait pas intÃ©ressant de jouer comme Ã§a.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CoordonnÃ©es de l'Ã©lÃ©phant blanc au carrÃ© noir</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est temps de payer pour l'optimisation. </font><font style="vertical-align: inherit;">Il est nÃ©cessaire de mettre en Å“uvre un algorithme de recalcul des coordonnÃ©es pour les combinaisons avec un Ã©lÃ©phant Â«noir et blancÂ». </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela a Ã©tÃ© fait comme suit. </font><font style="vertical-align: inherit;">Si les coordonnÃ©es de l'Ã©lÃ©phant tombent sur un champ noir, alors les coordonnÃ©es de toutes les figures du tableau doivent Ãªtre "inversÃ©es". </font><font style="vertical-align: inherit;">Dans ce cas, la coordonnÃ©e Y reste inchangÃ©e et X passe Ã  7-X. </font><font style="vertical-align: inherit;">Une dÃ©monstration visuelle d'un retournement de coordonnÃ©es, voir la figure. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/1cb/019/1f7/1cb0191f7642a5b963437278ed9ca783.png" alt="Renversement de coordonnÃ©es"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si l'Ã©lÃ©phant est debout sur une cage blanche, vous devez d'abord "inverser" les coordonnÃ©es de toutes les figures. </font><font style="vertical-align: inherit;">Recherchez ensuite une position dans la base de donnÃ©es des solutions. </font><font style="vertical-align: inherit;">Et encore une fois Â«retournezÂ» la coordonnÃ©e du mouvement correct lu Ã  partir de lÃ .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualisation de la base de solution</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, le problÃ¨me est rÃ©solu! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La base de donnÃ©es des solutions a Ã©tÃ© crÃ©Ã©e. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais comment le dÃ©montrer? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La faÃ§on la plus Ã©vidente est d'utiliser les technologies Web pour pouvoir simplement donner un lien vers un exemple de travail. Sur ma "formule de programmeur", le cours photo " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nano-Chess</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font><font style="vertical-align: inherit;">a dÃ©jÃ  Ã©tÃ© crÃ©Ã© </font><font style="vertical-align: inherit;">, oÃ¹ en utilisant les technologies HTML, CSS, JavaScript et PHP un Ã©chiquier interactif a Ã©tÃ© crÃ©Ã© pour jouer sans rÃ¨gles Ã  deux. Ce script a Ã©tÃ© pris comme base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je n'ai laissÃ© que quatre morceaux, supprimÃ© la possibilitÃ© de capture, ajoutÃ© des fonctions PHP pour lire les mouvements corrects de la base de la solution et Â«respirÃ© la vieÂ» via JavaScript. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la page </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.videosharp.info/chess,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous pouvez expÃ©rimenter avec la base de donnÃ©es de solutions.</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/geektimes/post_images/9fb/3ce/7bc/9fb3ce7bc6645d2c96536c2a19c663a2.png" alt="Tapis interactif avec cheval et Ã©lÃ©phant"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour chaque position, les dÃ©placements sont calculÃ©s pour le blanc et le noir. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour les blancs - le meilleur coup qui mÃ¨ne Ã  l'Ã©chec et mat. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le noir - combien de mouvements vers le tapis pour tout mouvement possible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez faire n'importe quel mouvement des figures avec la souris, pas nÃ©cessairement selon les rÃ¨gles. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le script calculera l'option pour n'importe quelle position, ou notera qu'il n'y a pas d'options. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est intÃ©ressant de jouer, d'effectuer les mouvements proposÃ©s ou de dÃ©placer les piÃ¨ces Ã  votre discrÃ©tion.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un excellent travail intÃ©ressant a Ã©tÃ© fait pour rÃ©soudre le problÃ¨me des Ã©checs. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous souhaitez rÃ©pÃ©ter de cette faÃ§on, vous pouvez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regarder des vidÃ©os</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur la crÃ©ation de ce programme de zÃ©ro au rÃ©sultat avec des explications dÃ©taillÃ©es et des tÃ¢ches indÃ©pendantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bonne chance!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr396453/">https://habr.com/ru/post/fr396453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr396441/index.html">L'Italie pourrait perdre ses oliviers en raison de la mÃ©fiance des scientifiques</a></li>
<li><a href="../fr396443/index.html">"Les sages de Sion" sont devenus une autre raison de bloquer WikipÃ©dia</a></li>
<li><a href="../fr396445/index.html">ĞšĞ»Ğ¾Ğ½Ñ‹ Ğ¾Ğ²ĞµÑ‡ĞºĞ¸ Ğ”Ğ¾Ğ»Ğ»Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ÑÑ‚ Ğ´Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ SCNT-ĞºĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ</a></li>
<li><a href="../fr396447/index.html">Prix â€‹â€‹de l'Ã©lectronique populaire du passÃ© en argent d'aujourd'hui: les annÃ©es 1970</a></li>
<li><a href="../fr396451/index.html">Crimes et chÃ¢timents du mois dernier</a></li>
<li><a href="../fr396455/index.html">MatÃ©riel informatique des pays du CAEM. DeuxiÃ¨me partie: TchÃ©coslovaquie</a></li>
<li><a href="../fr396457/index.html">APEIGAMING en chiffres. Un mois aprÃ¨s le dÃ©but (vidÃ©o)</a></li>
<li><a href="../fr396459/index.html">Examen de l'unitÃ© de systÃ¨me de jeu ASUS ROG GT51CA</a></li>
<li><a href="../fr396461/index.html">Technologies de sÃ©curitÃ© Blockchain</a></li>
<li><a href="../fr396467/index.html">Ğ•ÑÑ‚ÑŒ Ğ»Ğ¸ Ñƒ Ñ‚Ñ‘Ğ¼Ğ½Ğ¾Ğ¹ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ¸ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>