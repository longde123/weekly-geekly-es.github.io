<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤫 🏜️ 🚀 Problem beim Aktualisieren von MikroTik RouterOS auf Routern mit 16 MB FLASH 👃 🤦🏿 🛴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor kurzem haben die Jungs von MikroTik (wieder?) Versaut und mein Lieblings-HAP-Lite wurde nicht mehr aktualisiert. Von Version 6.45.1 auf 6.45.2 wur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Problem beim Aktualisieren von MikroTik RouterOS auf Routern mit 16 MB FLASH</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463885/"><img src="https://habrastorage.org/webt/rx/_7/pa/rx_7paqmrywn1hefmvoxoxoc9o0.jpeg"><br><br>  Vor kurzem haben die Jungs von MikroTik (wieder?) Versaut und mein Lieblings-HAP-Lite wurde nicht mehr aktualisiert.  Von Version 6.45.1 auf 6.45.2 wurde es nicht aktualisiert, er schrieb, dass nicht genügend Speicherplatz vorhanden sei.  Der Pfosten wurde bemerkt und in Version 6.45.3 für die SMIPS-Architektur wurde die Paketgröße <i>reduziert, wodurch</i> das "Extra" <i>weggeworfen wurde</i> ( <i>smips - reduzierte RouterOS-Hauptpaketgröße (deaktiviertes LTE-Modem, dot1x- und SwOS-Unterstützung)</i> ).  Jetzt wird das Paket heruntergeladen, es ist genügend Speicherplatz dafür vorhanden, aber ... Nach dem Neustart bleibt die Version 6.45.1 und im Protokoll wird die Meldung "Nicht genügend Speicherplatz für ein Upgrade" angezeigt.  <i>Der Fakir war betrunken und der Trick schlug fehl.</i> <br><a name="habracut"></a><br>  <i>Ok, Google, Mikrotik nicht genug Platz für ein Upgrade</i> <br>  Auf forum.mikrotik.com stellen wir fest, dass das Problem alt ist, die erste Erwähnung im Jahr 2017 gemäß Version 6.40.4.  Es sieht so aus, als hätte das Unternehmen leider Probleme beim Testen. <br>  Wir finden eine Empfehlung, <a href="">fix_space.npk</a> zu verwenden, herunterzuladen, auf dem Router <a href="">abzulegen</a> , neu zu <a href="">starten</a> und ... Es hat mir nicht geholfen. <br><br>  Weiter finden wir endlich einen nützlichen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> .  Kurzum: <br><br><ul><li>  Updates werden gebündelt </li><li>  Standardmäßig werden Pakete vom Metapaket geerbt (in meinem Fall "Routeros-Smips"). </li><li>  Sie können geerbte Pakete nicht löschen (deinstallieren), da Informationen dazu in einem Metapaket enthalten sind </li><li>  Bei der Aktualisierung werden das Metapaket und seine Erben, auch deaktivierte, aktualisiert </li><li>  Der konstante Speicher des Routers ist in Abschnitte unterteilt - verstecktes System und für den Benutzer zugänglich </li><li>  Zum Aktualisieren muss das erforderliche Paket / Metapaket im Benutzerbereich abgelegt und neu gestartet werden </li><li>  Wenn Sie von Winbox, Webinterface oder Terminal aktualisieren, wird das erforderliche Metapaket automatisch in den Benutzerbereich heruntergeladen und der Router neu gestartet </li><li>  Wenn sich beim Neustart Pakete im Benutzerabschnitt befinden, werden <b>alle installierten Pakete von der Systempartition entfernt und diejenigen, die sich im Benutzerabschnitt befinden, installiert.</b> Anschließend werden sie aus dem Benutzerabschnitt entfernt </li></ul><br>  Aus dem Obigen folgt, dass, wenn Sie nur die erforderlichen Pakete im Benutzerbereich ablegen und neu starten, das Metapaket mit allen Erben gelöscht wird, nur die erforderlichen Pakete geliefert werden und aufgrund des Entfernens unnötiger Pakete ein wenig Speicherplatz frei wird, der für nachfolgende Aktualisierungen erforderlich ist.  Lass es uns überprüfen. <br><br><img src="https://habrastorage.org/webt/rm/ko/cg/rmkocgi0tp3qdu7cx0yclezdnga.png"><br><br>  Der Router ist preisgünstig und wird daher hauptsächlich zu Hause oder in kleinen Büros verwendet. Daher benötigen wir kaum erweiterte Tools, Hotspot, IPv6, MPLs und Routing-Pakete.  Lesen Sie mehr über Pakete im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offiziellen Wiki</a> , wählen Sie aus, welche Sie benötigen und welche nicht.  Zum Beispiel ist IPv6 auf diesem Router deaktiviert, aber zu Hause benutze ich es.  Seien Sie vorsichtig, wenn Sie vergessen, das richtige Paket einzulegen, ist die <i>Aktualisierung des Remote-Routers eine lange Reise</i> . <br><br><img src="https://habrastorage.org/webt/t9/k0/0p/t9k00plocwiczrilkcd_kxcphny.png"><br><br>  Wie Sie sehen können, ist der Benutzerbereich leer, nur 8,5 MB sind belegt <br><br><img src="https://habrastorage.org/webt/e-/um/o8/e-umo8inqnlhywxobvj_w9imhfg.png"><br><br>  Schwört beim Aktualisieren auf Platzmangel.  Tatsächlich wurde der Screenshot unter Version 6.45.2 „gezeichnet“. In Version 6.45.3 war genügend Platz zum Laden vorhanden, sodass wir schummeln mussten. In diesem Fall emulieren wir jedoch nur eine ähnliche Situation. <br><br><img src="https://habrastorage.org/webt/dt/ud/7a/dtud7ajduj0eabwg71bxhgh3h4q.png"><br><br>  Wir laden von der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Offsite</a> Extra-Pakete für die gewünschte Architektur für SMIPS herunter, da das Problem nur darauf zu liegen scheint.  Wir packen die erforderlichen Pakete aus und legen sie im Benutzerbereich ab.  Starten Sie neu. <br><br><img src="https://habrastorage.org/webt/gw/bc/1o/gwbc1or1c8myttkuoc1lv9kixrg.png"><br><br><img src="https://habrastorage.org/webt/9c/le/pm/9clepmyomfuhhu4d-_26wxxbxww.png"><br><br>  Voila!  Das Update war erfolgreich, das Metapaket mit allen Erben wurde gelöscht, nur die notwendigen Pakete wurden installiert. <br><br><img src="https://habrastorage.org/webt/i2/ju/vc/i2juvck3gg0yvdwzxlednsa8nac.png"><br><br>  Der Benutzerabschnitt ist leer, nur 8 MB sind belegt, d.h.  0,5 MB haben wir freigegeben. <br><br>  Funktionieren automatische Updates jetzt?  Wird sein.  Zur Überprüfung habe ich auf einem anderen Router manuell auf Version 6.45.2 aktualisiert und dann automatisch auf 6.45.3 aktualisiert <br><br>  Die Jungs von MikroTik möchten gerne aufmerksamer sein, aber wer ist nicht ohne Sünde. <br>  <sub>Mit Fehlern und Kommentaren frage ich in PM</sub> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de463885/">https://habr.com/ru/post/de463885/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de463873/index.html">Gestorbener Nobelpreisträger Carey Mullis - Erfinder der DNA-Polymerasekettenreaktion</a></li>
<li><a href="../de463875/index.html">Intel Ice Lake. 10 nm - zu den Massen</a></li>
<li><a href="../de463877/index.html">Wir suchten nach einem Ersatz für MS Word und führten stattdessen einen neuen Dokumentenverwaltungsprozess ein</a></li>
<li><a href="../de463879/index.html">Bootcamp in Yandex: Wie kann ein Entwickler ein Team auswählen?</a></li>
<li><a href="../de463881/index.html">Fotos als Geiseln genommen. Das erste Hacken von Digitalkameras über WLAN (PTP / IP-Protokoll)</a></li>
<li><a href="../de463889/index.html">So erstellen Sie Anwendungen für Telefone mit Behinderungen</a></li>
<li><a href="../de463891/index.html">Künstliches Immunsystem in der Informationssicherheit</a></li>
<li><a href="../de463895/index.html">Im Regal der Kompaktprojektoren angekommen: Epson EF-100 - die erste Schwalbe einer Reihe heller tragbarer Laserprojektoren</a></li>
<li><a href="../de463897/index.html">Sicherheitsüberprüfung der MCS Cloud Platform</a></li>
<li><a href="../de463899/index.html">Warum haben wir so lange auf die Erfindung des Fahrrads gewartet?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>