<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉüèº üçÑ üßë Ein Geschenk von Geek - einen K√ºchentimer machen üö£üèø ‚è±Ô∏è üßïüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="W√§hle ein Geschenk 
 Die Gro√ümutter meines Sohnes wird bald Geburtstag haben. Da ich von Mikrocontrollern fasziniert war, kam mir die Idee, eine Art G...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ein Geschenk von Geek - einen K√ºchentimer machen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/408027/"><h2>  W√§hle ein Geschenk </h2><br>  Die Gro√ümutter meines Sohnes wird bald Geburtstag haben.  Da ich von Mikrocontrollern fasziniert war, kam mir die Idee, eine Art Ger√§t nat√ºrlich an einen Mikrocontroller zu spenden, der von mir selbst hergestellt wurde.  Wie alle Gro√üm√ºtter ist unsere Gro√ümutter keine fortgeschrittene Benutzerin von Ger√§ten, und im Prinzip hat sie nichts Besonderes von der Elektronik.  Sie k√∂nnen also jedes nicht sehr komplexe Ger√§t herstellen. <br><br>  Wenn wir sie besuchen, werden wir immer von einem reichhaltigen Tisch mit einer gro√üen Anzahl von Gerichten begr√º√üt.  Deshalb haben wir uns sofort entschlossen, ein Ger√§t in der K√ºche n√ºtzlich zu machen.  Zusammen spielen wir oft verschiedene Brettspiele - Lotto, verschiedene W√ºrfelspiele.  Unser Ger√§t sollte hier also helfen. <br><br>  Der Sohn dachte ein wenig nach und beschloss, einen <b>fortschrittlichen K√ºchentimer</b> herzustellen. <a name="habracut"></a>  Ich habe ihm ein wenig bei dem Plan geholfen.  Die Hauptfunktionen unseres Geschenks: <br><br><ul><li>  Timer-Modus bis zu 3 Stunden <br></li><li>  Stoppuhrmodus <br></li><li>  Lautes Signal <br></li><li>  Kompakte Gr√∂√üe <br></li><li>  "Ewige" Batterien - Batterien, die wie ein Telefon aufgeladen werden, √ºber Micro-USB <br></li><li>  Und nat√ºrlich Spiele - ein W√ºrfel (eine Zufallszahl von 1 bis 6), ein Lotto, eine Bombe (ein sehr lustiges Spiel) <br></li></ul><br><h2>  Wir w√§hlen Komponenten aus </h2><br>  Als Indikator haben wir einen dreistelligen LED-Indikator mit einer gemeinsamen Anode gew√§hlt - er hat nur 11 Pins, sehr praktisch.  Es ist nicht schwer zu kaufen und im Prinzip recht sparsam im Energieverbrauch (aber sicherlich nicht LCD). <br><br>  Mit dem Mikrocontroller STM8S003F3P6 haben wir bereits gearbeitet, daher ist alles bekannt.  ST-Link ist schon da. <br><br>  Die Lademikroschaltung und der gesamte Gurt des MK, wie ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fahrradcomputer</a> . <br><br><img src="https://habrastorage.org/webt/uc/cu/0i/uccu0iqrus_rksaftplhismo_l8.jpeg"><br><br>  Als Hocht√∂ner sehr kompakter und lauter Hocht√∂ner HC0903A <br><br><img src="https://habrastorage.org/webt/ri/ke/kf/rikekfmhij_plv-w6oecxmdrn48.jpeg"><br><br>  Die Batterie ist LIR2032.  Nur 45 mAh, aber das reicht f√ºr 40 Stunden Dauerbetrieb.  Wir haben beschlossen, auf den Quarzresonator zu verzichten (wir brauchen Schlussfolgerungen), wir brauchen keine besondere Genauigkeit und der STM8 hat einen ziemlich genauen internen Oszillator.  Chipladung - TP4056. <br><br>  Management - 2 Uhrentasten.  Das Ger√§t befindet sich die ganze Zeit im Ruhemodus, der Verbrauch betr√§gt weniger als 5 ŒºA und es kann lange schlafen.  Sie haben nicht begonnen, eine Schutzplatine f√ºr die Batterie herzustellen, insbesondere nicht ben√∂tigt.  MK hat eine Untergrenze von 3V, so dass es nicht viel durchh√§ngt.  Wenn Sie die Musik einschalten, leuchtet die Anzeige (Stromsto√ü) auf, und wenn der Akku leer ist, startet der MK neu und wechselt in den Ruhemodus, der ein Signal zum Laden ist.  Es l√§dt sich mit einem Strom von 100 mA f√ºr ca. 40 Minuten auf, was im Prinzip sehr schnell ist.  Das Schema und das Programm k√∂nnen auf github heruntergeladen werden, der Link am Ende. <br><br>  Der Sohn beschloss, das Geh√§use selbst aus der Montagebox 40 x 16 mm herzustellen.  Mit Acrylfarben bemalt, schneiden Sie ein St√ºck von einer DVD als Glas.  Es ist sehr sch√∂n geworden. <br><br><img src="https://habrastorage.org/webt/v4/kw/uo/v4kwuopcekclyf2ywq0idcueqou.jpeg"><br><br>  Der Sohn hat die Spur der Tafel selbst in Kicad gemacht.  Die Position der Komponenten wurde von ihm erfunden.  Tasten an den Seiten der Anzeige, Hocht√∂ner unten, die Batterie darauf.  Alles trat fest ein, nichts baumelt irgendwo.  Die Platte ist doppelseitig.  Sie wurden aus einseitiger Glasfaser mit einer Dicke von 0,8 mm unter Verwendung des Kalttoner√ºbertragungsverfahrens hergestellt.  Zwei H√§lften der Platine sind verbunden und mit Steckbr√ºcken befestigt.  Von den Anschl√ºssen - Micro USB, Power und Programmierung. <br><br><img src="https://habrastorage.org/webt/qf/vt/eg/qfvteg-mxesokxk8mfolappmndu.jpeg"><br><br><h2>  Das Programm </h2><br>  Dieser Indikator hat eine gemeinsame Anode, dementsprechend kann immer nur eine Entladung gleichzeitig ausgegeben werden.  Um drei Ziffern gleichzeitig anzuzeigen, ist eine dynamische Anzeige erforderlich. <br><br>  Programmatisch geschieht dies sehr einfach.  Der Timer wird aktiviert und in gleichen Zeitintervallen mit einer hohen Frequenz, beispielsweise alle 300 Œºs, wird ein Bit in einem Kreis ausgegeben - 1-2-3-1-2-3.  Wir werden sehen, dass die Zahlen zur gleichen Zeit leuchten wie in einem Film.  Wenn Sie zus√§tzliche leere Bits hinzuf√ºgen, k√∂nnen Sie die Helligkeit steuern.  Das hei√üt, es wird ein solches Schema f√ºr die Informationsausgabe geben - 1-2-3-leer-leer-leer-leer-1-2-3-leer-leer ... Die Helligkeitsregelung ist erforderlich, um den Stromverbrauch zu senken.  So verbraucht beispielsweise eine Entladung ohne Verwendung von Helligkeit 24 mA und kann bei Anwendung auf 1-2 mA reduziert werden.  Gleichzeitig sind die Zahlen noch klar und weit sichtbar.  Der Sohn spielte mit Frequenz, Helligkeit, als alles aufh√∂rte zu flackern, gefiel es ihm.  Es stellte sich heraus, dass die Programmierung dieser Art von Anzeige recht einfach und bequem ist. <br>  Der zweite schwierige Moment besteht darin, eine einfache, wie sie sagen, intuitive Benutzeroberfl√§che zu entwickeln, wenn wir 3 Ziffern der Anzeige und 2 Tasten haben.  Aber ich denke, er hat es geschafft. <br><br>  Sie kamen mit Kn√∂pfen wie diesen: <br><br><ul><li>  Rechte Taste - langes Dr√ºcken, Moduswechsel, es gibt drei davon - Timer, Stoppuhr, Spiele <br></li><li>  Rechte Taste - einmaliges Dr√ºcken, √Ñnderung des Submodus.  F√ºr den Timer ist dies die Wahl der voreingestellten Zeiten, f√ºr die Stoppuhr die Wahl einer regul√§ren Stoppuhr bzw. mit Best√§tigung f√ºr das Spiel.  Verschiedene Spiele <br></li><li>  Linke Taste - einmaliges Dr√ºcken - Starten / Stoppen oder Bewegen im Spiel, langes Dr√ºcken - Einstellungen, Programmiermodus <br></li></ul><br>  Mit einem Indikator wie diesem: <br><ul><li>  Wenn ein Timer ausgew√§hlt wird, wird sofort eine bestimmte Anzahl vordefinierter Einstellungen angezeigt (z. B. 5,15,30 Minuten), die neu programmiert und im ROM gespeichert werden k√∂nnen <br></li><li>  Wenn die Stoppuhr ausgew√§hlt ist, dann 000 <br></li><li>  Bei den Spielen - L - Lotto, 6 - Bombe, C - W√ºrfel. <br></li><li>  Die Zahlen werden geschickt auf dem Indikator angezeigt, da es nur drei Ziffern gibt, dann zeigen wir die maximale Anzahl von signifikanten Elementen an.  Beispiel: Ein Timer - 200 Minuten 30 Sekunden - dann drucken wir 200. Wenn der Timer 10 Minuten 15 Sekunden betr√§gt, drucken wir 10,1, wenn 1 Minute 25 Sekunden, dann 1,25.  Um zu verstehen, dass der Timer oder die Stoppuhr l√§uft, blinkt der Punkt gleichzeitig mit den Sekunden. <br></li><li>  Wenn die Stoppuhr beispielsweise f√ºr 10 Minuten und 25 Sekunden angehalten wird, werden abwechselnd einmal pro Sekunde 10 und 0,25 angezeigt, um auch Sekunden anzuzeigen. <br></li></ul><br>  Das Programm war nicht so einfach, mein Sohn schrieb es fast 3 Wochen in der Schule, mit ein wenig Hilfe von mir.  Es gibt viele Bedingungen, verschiedene Flags - Start, Stopp, Arbeit mit dem Ged√§chtnis usw. Aber er war sehr zufrieden mit dem Ergebnis. <br><br><h2>  Test </h2><br>  Die ersten Tests fanden in der Schule statt.  Anstelle eines W√ºrfels Wahrsagerei auf Noten.  Ich habe mich die ganze Klasse gefragt.  Dann ist die Bombe ein super Spiel.  Das Ger√§t macht eine zuf√§llige Zeit von 5 bis 20 Sekunden und beginnt jede Sekunde zu ticken.  Sie geben es weiter.  Wenn der Timer Null erreicht - ein Explosionssignal.  Der in den H√§nden des Ger√§tes verloren. <br><br>  Die ersten Tests der Stoppuhr und des Timers liefen mit einem Knall ab.  Sie verfolgten verschiedene Zeiten, √ºberpr√ºften die genauen Stunden, ein Fehler von 1-2 Sekunden pro Stunde.  Sie erarbeiteten den Klang des Signals. <br><br><h2>  Ein Geschenk pr√§sentieren </h2><br>  Es ist mein Geburtstag.  Meine Gro√ümutter war schnell ausgebildet und sehr gl√ºcklich.  Alles in allem erfahrenes Lotto, vollautomatisch.  Alle 5 Sekunden quietscht das Ger√§t und gibt eine neue Nummer aus der verbleibenden in der Tasche aus.  Jeder spielt, f√§hrt das Ger√§t!  Wer keine Zeit hatte, war zu sp√§t. <br><br><h2>  Zusammenfassung </h2><br>  Das Ger√§t hat sich also als ausgezeichnet erwiesen.  Die Programmierpraxis ist sehr interessant.  Wenn Sie sich auch f√ºr Mikrocontroller interessieren, k√∂nnen Sie sich selbst (oder als Geschenk) das Gleiche machen und es programmieren.  Sie werden auf jeden Fall lernen: <br><br><ul><li>  Bretter machen <br></li><li>  smd smd komponenten <br></li><li>  Programm STM8 <br></li><li>  Arbeiten Sie mit Batterien <br></li><li>  Griffkn√∂pfe <br></li><li>  verschiedene Ger√§usche machen <br></li><li>  Arbeiten Sie mit Timern und behandeln Sie tempor√§re Ereignisse <br></li><li>  Energie bek√§mpfen <br></li></ul><br>  Auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github gibt</a> es eine Schaltung und eine Platine im Kicad-Format.  Das erste Projekt f√ºr STM8 wurde angelegt. Der schwierigste Teil ist die dynamische Anzeige, die Initialisierung des Mikrocontrollers und die komplizierte Tastenverarbeitung - kurzes, doppeltes und langes Dr√ºcken.  Ich schlage vor, den Rest des Programms selbst zu schreiben, es ist so interessant! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de408027/">https://habr.com/ru/post/de408027/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de408015/index.html">Reflexionen √ºber Token (√úbersetzung)</a></li>
<li><a href="../de408017/index.html">Spracherkennungsproblem noch nicht gel√∂st</a></li>
<li><a href="../de408019/index.html">Interessante Merkmale des BMW 7er</a></li>
<li><a href="../de408023/index.html">Raise3D: Die Verwendung von 3D-Druckern im Film</a></li>
<li><a href="../de408025/index.html">√úbertragung "Wunder der Technologie" √ºber Leser: Wir empfehlen, zu sehen. Und Schlussfolgerungen ziehen</a></li>
<li><a href="../de408029/index.html">Apple gewinnt schlie√ülich eine Klage in H√∂he von 120 Millionen US-Dollar gegen Samsung wegen Patentverletzung bei Slide-to-Unlock</a></li>
<li><a href="../de408033/index.html">Facebook l√§dt potenzielle Opfer von Pornografie ein, ihre nackten Fotos im Voraus an sich selbst weiterzuleiten</a></li>
<li><a href="../de408035/index.html">Schlafmangel f√ºhrt zu einer St√∂rung der Verbindungen zwischen Gehirnzellen</a></li>
<li><a href="../de408037/index.html">Moderne Ansichten zum Alterungsprozess - mitochondriale Theorie des Alterns</a></li>
<li><a href="../de408039/index.html">Saturn - der Grund f√ºr die Existenz eines fl√ºssigen Ozeans auf Enceladus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>