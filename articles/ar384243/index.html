<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐บ ๐ ุฌูุงุฒ ุงูุชุญูู ูู ููููุงุช ุงูููุงุก ุงูููุฒููุฉ ุงููุงุณูููุฉ ูู OpenHAB ุนุจุฑ Modbus ุนุจุฑ RF24Network ๐ง๐ผ ๐ฒ๏ธ ๐ง๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุจุนุฏ ููุงูุชู ุงูุฃููู ุญูู ุงูุชุญูู ูู ุชูููู ุงูููุงุก ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ุชุญูู ุ ูุฑุช ุฃูุซุฑ ูู ุนุงููู ุจูููู. ุฎูุงู ูุฐุง ุงูููุช ุ ูู ุชุชุฑููู ููุฑุฉ ุงูุชุญูู ูู ูููู ุงูููุงุก ุนู ุจุน...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฌูุงุฒ ุงูุชุญูู ูู ููููุงุช ุงูููุงุก ุงูููุฒููุฉ ุงููุงุณูููุฉ ูู OpenHAB ุนุจุฑ Modbus ุนุจุฑ RF24Network</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/384243/"><img align="left" src="https://habrastorage.org/files/1d4/8ed/b4b/1d48edb4b2b24079a0e2a7e7d5d7e584.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุนุฏ </font><font style="vertical-align: inherit;">ููุงูุชู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฃููู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญูู ุงูุชุญูู ูู ุชูููู ุงูููุงุก ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ุชุญูู ุ ูุฑุช ุฃูุซุฑ ูู ุนุงููู ุจูููู. </font><font style="vertical-align: inherit;">ุฎูุงู ูุฐุง ุงูููุช ุ ูู ุชุชุฑููู ููุฑุฉ ุงูุชุญูู ูู ูููู ุงูููุงุก ุนู ุจุนุฏ ููุฏููุง ุงูุนุฏูุฏ ูู ุงูููุงุฏุงุช. </font><font style="vertical-align: inherit;">ูุงู ุงูุดุฑุท ุงูุฑุฆูุณู ูู ุนุฏู ูุฌูุฏ ุฃู ุฃุณูุงู ููููู ุงูููุงุก. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃู ุฃู ุงูุชุญูู ูู ูุญุฏุฉ ุงูุชุญูู ูุฌุจ ุฃู ูููู ูุงุณููููุง.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฎูููุฉ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงู ุงููููุฐุฌ ุงูุฃูู ูู Arduino UNO. ูุจูุช ุงููุฑู ุนูู UART ูุนุฑูุช ููููุฉ ุชุดุบูู ูุฅููุงู ูููู ุงูููุงุก. ูุงู ูุงู ููุงู ุงููููู ูู ุงูุฅุญุณุงุณ ุงูุนููู ูู arduinka ุงููุชุตูุฉ ุจุงูููุจููุชุฑ ุงูุนุงูู ุ ููุงู ุงูุฑุฃุณ ูุจุญุซ ุจุงุณุชูุฑุงุฑ ุนู ูุฑุตุฉ ูุฑุจุท ุงูุฃุฎูุฑ ุจุงูุฎุงุฏู ุงูููุฒูู. ูู ููู ููุงู ุฑุคูุฉ ูุจุงุดุฑุฉ ูู ุงูุฎุงุฏู ุฅูู ุงูุฌุงูู ูุฌููุน ุงูุฃูุบุงุฒ. ุงูุญุฏ ุงูุฃูุตู ูู ููุจุณ ูุฒูุฏ ุจุดุจูุฉ LAN ุนูู ููุณ ุงูููุจููุชุฑ ุงูุนุงูู - ุญูุซ ุฃูู ููู ุชูุฑูุจูุง ููุงุจู ูููู ุงูููุงุก. ูู ููู ุฏุฑุน Ethernet ูุชุงุญูุง. ููู ุชุฐูุฑ ุฃูู ูู ููุงู ูุง ูู zashashnik ููุฌุฏ ููุฏู d-link DSL-2500U dsl ูู ูุชู ุงุณุชุฎุฏุงูู ููุชุฑุฉ ุทูููุฉ ุ ูุน ูุฌูุฏ ูููุฐ ูุงุญุฏ ููุท ุนูู ูุชู ุงูุทุงุฆุฑุฉ. ุฃุฏุช ุงูุฑุบุจุฉ ูู ุฅุนุทุงุก ุญูุงุฉ ุซุงููุฉ ููุทุนุฉ ุงูุญุฏูุฏ ุฅูู googling ุ ููุง ุฃุฏู ุจุฏูุฑู ุฅูู ูุนุฌุฒุฉ ููุงูุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญููู ููุฏู ADSL ุฅูู ุฏุฑุน ุฅูุซุฑูุช ูู Arduino / CraftDuino</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุฎูุงู ุงููุถู ูุฏููุง ูุชุฎุทู ุนูููุฉ ูุซูุฑุฉ ููุงูุชูุงู ูุฅูุดุงุก ุจุฑุงูุฌ ุซุงุจุชุฉ ูุฎุตุตุฉ ุ ุชูููุช ูู ุงูุญุตูู ุนูู ุงูููุฏู ููุงุณุชูุงุน ุฅูู ุงููููุฐ ุงููุทููุจ ู "ุชูุฌูู" UART ูู ุฎูุงูู. </font><font style="vertical-align: inherit;">ูููุฐุง ุ ุนูู ุงูุฎุงุฏู ุงูููุฒูู ุ ูููููู ุฅุฑุณุงู ุฃูุฑ ูุชุดุบูู / ุฅููุงู ุชุดุบูู ุงููููุฐ ุฅูู ุนููุงู ุงูููุฏู ุงููุญูู ุ ูุงูุฐู ุณูุฐูุจ ุฅูู ุงุฑุฏูููู ูุชุตู ุจู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ูุฐู ุงูููุงูุฉ ููุณุช ุนู ุฐูู. </font><font style="vertical-align: inherit;">ุงูุญู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุงุฆู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุณุชุฎุฏู ุจุฑูุชูููู Modbus ูุดุจูุฉ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">RF24Network</font></a><font style="vertical-align: inherit;"> ุงููุงุณูููุฉ </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ููุชู ุงูุชุญูู ูู ูู ุดูุก ูู OpenHAB.</font></font><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฎูุงู ูุฐูู ุงูุนุงููู ุ ุชูููุช ูู ุทูุจ ุงููุซูุฑ ูู ุฌููุน nishtyaks ูู ุงูุตูู ููุงู ูุนุธููู ููุชุธุฑูู ูู ุงูุฃุฌูุญุฉ. </font><font style="vertical-align: inherit;">ุชุถููุช ูุฐู ุงููุงุฆูุฉ ูุญุฏุฉ NRF24L01 + ุ ุชู ุดุฑุงุคูุง ูู ูุจู ุญููุฉ ููุชุฌุฑูุจ. </font><font style="vertical-align: inherit;">ููุงู ุณูุฐูุจ ุฃุจุนุฏ ูู ุฐูู ูู ููุงู ูุง ูู ุฎุฒุงูุฉ ุงูุฎููู ุ ุฅุฐุง ูู ุฃุชุนุซุฑ ูู ุฃุญุฏ ุงูุฃูุงู ุนูู ุณูุณูุฉ ูู ุงูููุงูุงุช:</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููุฉ ุชูููู ุตุฏุงูุงุช OpenHAB ู Arduino</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุฑุฏูููู ูููุฏุจูุณ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุฑุฏูููู ู OpenHAB</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุนูุฏ  </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจูุฑูุด</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดูุฑุง ูู ุนูู ุฐูู! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจูุถููู ุ ุชุนุฑูุช ุนูู ุจุฑูุชูููู Modbus. </font><font style="vertical-align: inherit;">ููู ุงูุฃูู ูู ุฐูู ุฃููู ุงูุชุดูุช OpenHAB ูููุณู - ูุง ููุช ุฃุจุญุซ ุนูู ููุฐ ูุชุฑุฉ ุทูููุฉ. </font><font style="vertical-align: inherit;">ุฏูุนูู ูุฐุง ุฅูู ุงูุจุฏุก ูู ุชูููุฐ ุงูุฃููุงุฑ ุงููุฏููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุนุฏ ุงูุชูุงุนุจ ุจุฃูุซูุฉ ูู ุงูููุงูุงุช ุ ูุฑุฑุช ุฃู ุฃุญุงูู ูุตู ูุญุฏุฉ ุงูุชุญูู ูุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู ุฏุฑุน ethernet ูู ุงูููุฏู ุงูููุตูู ุฃุนูุงู. </font><font style="vertical-align: inherit;">ุณูุญ ููุง ูุฐุง ุงูุญู ุจุชุญููู ุงููููุฉ ุงููุทุฑูุญุฉ - ุชู ูุถุน ุงูุฏุฑุน ููุญุฏุฉ ุงูุชุญูู ุนูู ุณุทุญ ุงูููุชุจ ุ ุฏูู ุงุณุชุฎุฏุงู ุฌูุงุฒ ููุจููุชุฑ ูุนูู ุ ููู ููุณ ุงูููุช ุ ูุงู ุงูุฏุฑุน ูุชุตููุง ุฏุงุฆููุง ุจุงูุดุจูุฉ ุงููุญููุฉ ููููู ุงููุตูู ุฅููู ูู ุงูุฎุงุฏู ุงูุฑุฆูุณู.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ูุฐุง ุงููุฑุงุฑ ูุญููู ุนููู ุจุงููุดู.</font></font></b><div class="spoiler_text">     ModbusRtu over TCP   .    modpoll,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Arduino &amp; Modbus</a>  .     โ          192.168.1.110   3000  !<br>
<br>
    OpenHAB. ,  , Modbus Binding   ยซRTU over TCPยป.        โ     ModbusRtu   c      TCP.            OpenHAB-(ethernet)--(UART)-.<br>
<br>
 ,   ?      Item  .      1 Item     .      โ      . ,   ,    TCP    Modbus Binding. ..              .<br>
<br>
   Modbus Binding     Item'   host-port-slaveID     .<br>
<br>
        ,     .                .       ,    .<br>
</div></div><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฑุฉ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุซู ุฃุซุจุชุช ููุณู ุฃุฎูุฑูุง ุฃููู ุจุญุงุฌุฉ ุฅูู ุฅูุดุงุก ูุญุฏุฉ ุชุญูู ูููู ุงููุตูู ุฅูููุง ุนู ุทุฑูู ุงูุฌู. </font><font style="vertical-align: inherit;">ูุง ูุฌุจ ุฃู ุชุฎุชูู ูุญุฏุงุช NRF24L01 + .. ุตุญูุญ ุ ูุฐุง ูุชุทูุจ ูุญุฏุชู ุชุญูู ุนูู ุงูุฃูู - ุฃุญุฏููุง ูุคุฏู ุฏูุฑูุง ูุจุงุดุฑูุง ุ ูุงูุซุงูู ููุนุจ ุฏูุฑ ุฌูุงุฒ ุงูุชูุฌูู. </font><font style="vertical-align: inherit;">ูุฌุจ ุชูุตูู ุงูุซุงููุฉ ุจุงูุฎุงุฏู ููู ุฎูุงููุง ูุชู ุงูุงุชุตุงู ุงููุงุณููู ูุน ุงูุขุฎุฑูู. </font><font style="vertical-align: inherit;">ุนูุฏ ุงูุงุชุตุงู ุจูุง ุ ูุญุฏุฏ ูููุฉ ุงููุฑุคูุณ ุงูุฐู ุชุณุชูุฏูู ุงูุญุฒูุฉ. </font><font style="vertical-align: inherit;">ุงุชุถุญ ุฃู ุงูุนุฏูุฏ ูู ุงูุนุจูุฏ ูุชุงุญูู ุนูู ูููุฐ ุชุณูุณูู ูุงุญุฏ. </font><font style="vertical-align: inherit;">ูุนู - ูุฐู ุดุจูุฉ ูุงุณูููุฉ ูุงุฆูุฉ ุนูู Modbus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูููุงุณุจุฉ ุ ุฌุนู Modbus ูู ุงููููู ุจูุงุก ุดุจูุฉ ูุน ุณูุฏ ูุงุญุฏ - ุงูุนุฏูุฏ ูู ุงููุฑุคูุณูู. </font><font style="vertical-align: inherit;">ูููุชุจุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RF24Network</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ูุฌุนู ูู ุดูุก ูุงุณููููุง ุ ูุญุชู ูุน ุงูุชูุฌูู ุงูุชููุงุฆู ุจูู ุนูุฏ ุงูุดุจูุฉ.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุทููุฑ ููุชุจุฉ ุงุฑุฏูููู</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชูููุฐ ูุฐุง ุงูุญู ุ ุงุณุชุบุฑู ุงูุฃูุฑ ุจุนุถ ุงูููุช ูุชุนุฏูู ููุชุจุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modbus-Master-Slave-for-Arduino</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชููู ูุงุฏุฑุฉ ุนูู ุงููุฑุงุซุฉ ููู ูุชุญููู ุทุฑููุชูู ุจุดูู ุฒุงุฆุฏ. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃูุถูุง ุชุญุฏูุซ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ุงูุชุทุจูู ุงูุฎุงุต ุจู</font></a><font style="vertical-align: inherit;"> (ุชุชู ุฅุถุงูุฉ ุฎุตุงุฆุต ููุชุจุฉ. ูุชูุณูู ููู ุงูููุชุจุฉ ุฅูู ุฑุฃุณ ููุต) ูุฃุญุฏุซ Arduino IDE 1.6.5. </font><font style="vertical-align: inherit;">ุชุณูุญ ูู </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุชุจุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modbus-over-RF24Network-for-Arduino</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุชูููุฐ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ุณููููู</font></a><font style="vertical-align: inherit;"> ูุญุชูููู - Proxy ู Slave. </font><font style="vertical-align: inherit;">ูุซุงู ModbusRF24Proxy ูู ูู ุงููุงูุน ุชูููุฐ "ุฌูุงุฒ ุชูุฌูู" ููุง ูุชุทูุจ ุฃู ุชุนุฏููุงุช ุจุฎูุงู ุชุนููู ุงูุฏุจุงุจูุณ ุงููุงุฒูุฉ.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซุงู ููุฏุจูุณ RF24Proxy</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;RF24Network.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;RF24.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;SPI.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ModbusRtu.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ModbusRtuRF24.h&gt;</span></span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> stlPin  13  <span class="hljs-comment">//     (   Arduino)</span></span><font></font>
<font></font>
<span class="hljs-comment">// nRF24L01(+) radio attached using Getting Started board </span>
<span class="hljs-function">RF24 <span class="hljs-title">radio</span><span class="hljs-params">(<span class="hljs-number">9</span>, <span class="hljs-number">10</span>)</span></span>;<font></font>
<font></font>
<span class="hljs-comment">// Network uses that radio</span>
<span class="hljs-function">RF24Network <span class="hljs-title">network</span><span class="hljs-params">(radio)</span></span>;<font></font>
<font></font>
<span class="hljs-comment">// Address of our node</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint16_t</span> this_node = <span class="hljs-number">0</span>;<font></font>
<font></font>
<span class="hljs-comment">//  ,   TX</span>
<span class="hljs-function">ModbusRF24 <span class="hljs-title">proxy</span><span class="hljs-params">(network, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</span></span>;
<span class="hljs-keyword">int8_t</span> state = <span class="hljs-number">0</span>;
<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> tempus;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">//    </span><font></font>
    io_setup();<font></font>
    <span class="hljs-comment">//    </span><font></font>
<font></font>
    proxy.begin(<span class="hljs-number">57600</span>);<font></font>
<font></font>
    SPI.begin();<font></font>
    radio.begin();<font></font>
    network.begin(<span class="hljs-comment">/*channel*/</span> <span class="hljs-number">90</span>, <span class="hljs-comment">/*node address*/</span> this_node);<font></font>
<font></font>
    <span class="hljs-comment">//    100 </span>
    tempus = millis() + <span class="hljs-number">100</span>;<font></font>
    digitalWrite(stlPin, HIGH);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">io_setup</span><span class="hljs-params">()</span> </span>{<font></font>
    digitalWrite(stlPin, HIGH);<font></font>
    pinMode(stlPin, OUTPUT);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{<font></font>
<font></font>
    <span class="hljs-comment">// Pump the network regularly</span><font></font>
    network.update();<font></font>
<font></font>
    <span class="hljs-comment">//  </span><font></font>
    state = proxy.proxy();<font></font>
<font></font>
    <span class="hljs-comment">//      -    50  </span>
    <span class="hljs-keyword">if</span> (state &gt; <span class="hljs-number">4</span>) {<font></font>
        tempus = millis() + <span class="hljs-number">50</span>;<font></font>
        digitalWrite(stlPin, HIGH);<font></font>
    }<font></font>
    <span class="hljs-keyword">if</span> (millis() &gt; tempus) digitalWrite(stlPin, LOW);<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุณุชุฎุฏู ุฌูุงุฒ ุงูุชูุฌูู ุฃู ุงููููู ุชูุณูู ูููุดุฆ ุฎุงุต:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-comment">//  ,   TX</span>
<span class="hljs-function">ModbusRF24 <span class="hljs-title">proxy</span><span class="hljs-params">(network, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</span></span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงููุธููุฉ </font></font><br>
<pre><code class="cpp hljs">proxy.proxy();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุนุงูุฌุฉ ุงูุญุฒู ุงููุงุฑุฏุฉ ุนูู ุงููููุฐ ุงูุชุณูุณูู ุ ูุฅุฑุณุงููุง ุฅูู RF24Network ุ ูุชููู ุงุณุชุฌุงุจุฉ ูู ุงูุดุจูุฉ ุ ูุฅุฑุณุงู ุงููุชูุฌุฉ ูุฑุฉ ุฃุฎุฑู ุฅูู ุงููููุฐ ุงูุชุณูุณูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฐุง ุงูุชุทุจูู ุ ูุฏู ุงููููู ุนููุงู RF24Network ุตูุฑ:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// Address of our node</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint16_t</span> this_node = <span class="hljs-number">0</span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - ุจูุนูู ุขุฎุฑ. </font><font style="vertical-align: inherit;">ูุฐุง ูู ุงูุฌูุงุฒ ุงูุฌุฐุฑ ููุดุจูุฉ. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ูููู ุชุบููุฑ ุงูููุถุน ูู ุทูุจูููุฌูุง ูุญุฏุฉ ุชุญูู ุงููููู.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซุงู ููุฏุจูุณ RF24Slave</font></font></b><div class="spoiler_text">    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Arduino &amp; Modbus</a>:<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;RF24Network.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;RF24.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;SPI.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ModbusRtu.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ModbusRtuRF24.h&gt;</span></span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ID   1      <span class="hljs-comment">//  </span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> btnPin  2   <span class="hljs-comment">//  ,   </span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ledPin  7  <span class="hljs-comment">//   </span></span><font></font>
<font></font>
<span class="hljs-comment">// nRF24L01(+) radio attached using Getting Started board </span>
<span class="hljs-function">RF24 <span class="hljs-title">radio</span><span class="hljs-params">(<span class="hljs-number">9</span>, <span class="hljs-number">10</span>)</span></span>;<font></font>
<font></font>
<span class="hljs-comment">// Network uses that radio</span>
<span class="hljs-function">RF24Network <span class="hljs-title">network</span><span class="hljs-params">(radio)</span></span>;<font></font>
<font></font>
<span class="hljs-comment">// Address of our node</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">uint16_t</span> this_node = ID;<font></font>
<font></font>
<span class="hljs-comment">//  </span>
<span class="hljs-function">ModbusRF24 <span class="hljs-title">slave</span><span class="hljs-params">(network, ID)</span></span>;<font></font>
<font></font>
<span class="hljs-comment">//   modbus</span>
<span class="hljs-keyword">uint16_t</span> au16data[<span class="hljs-number">11</span>];<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">io_setup</span><span class="hljs-params">()</span> </span>{<font></font>
    digitalWrite(ledPin, LOW);<font></font>
    pinMode(ledPin, OUTPUT);<font></font>
    pinMode(btnPin, INPUT);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">io_poll</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// Coil[1]  Discrete[0]</span>
    au16data[<span class="hljs-number">0</span>] = au16data[<span class="hljs-number">1</span>];
    <span class="hljs-comment">//   1.3   </span>
    digitalWrite(ledPin, bitRead(au16data[<span class="hljs-number">1</span>], <span class="hljs-number">3</span>));
    <span class="hljs-comment">//     0.3</span>
    bitWrite(au16data[<span class="hljs-number">0</span>], <span class="hljs-number">3</span>, digitalRead(btnPin));
    <span class="hljs-comment">// Holding[5,6,7]  Input[2,3,4]</span>
    au16data[<span class="hljs-number">2</span>] = au16data[<span class="hljs-number">5</span>];<font></font>
    au16data[<span class="hljs-number">3</span>] = au16data[<span class="hljs-number">6</span>];<font></font>
    au16data[<span class="hljs-number">4</span>] = au16data[<span class="hljs-number">7</span>];
    <span class="hljs-comment">//    </span>
    au16data[<span class="hljs-number">8</span>] = slave.getInCnt();<font></font>
    au16data[<span class="hljs-number">9</span>] = slave.getOutCnt();<font></font>
    au16data[<span class="hljs-number">10</span>] = slave.getErrCnt();<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">//    </span><font></font>
    io_setup();<font></font>
<font></font>
    Serial.begin(<span class="hljs-number">57600</span>);<font></font>
    Serial.println(<span class="hljs-string">"RF24Network/examples/modbus_slave/"</span>);<font></font>
<font></font>
    SPI.begin();<font></font>
    radio.begin();<font></font>
    network.begin(<span class="hljs-comment">/*channel*/</span> <span class="hljs-number">90</span>, <span class="hljs-comment">/*node address*/</span> this_node);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{<font></font>
<font></font>
    <span class="hljs-comment">// Pump the network regularly</span><font></font>
    network.update();<font></font>
<font></font>
    <span class="hljs-keyword">if</span> (network.available()) {<font></font>
        slave.poll(au16data, <span class="hljs-number">11</span>);<font></font>
    }<font></font>
    <span class="hljs-comment">//    Modbus    </span><font></font>
    io_poll();<font></font>
}<font></font>
</code></pre><br>
<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฎุชูู ุงููููุดุฆ ูู ูุฐู ุงูุญุงูุฉ ุจุงููุนู:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-comment">//  </span>
<span class="hljs-function">ModbusRF24 <span class="hljs-title">slave</span><span class="hljs-params">(network, ID)</span></span>;
</code></pre><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุณุฌู ููุฏุจูุณ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุนุฏ ุงููุญุงููุงุช ุงููุงุฌุญุฉ ุงูุฃููู ููุณูุทุฑุฉ ุนูู ูููู ุงูููุงุก ูุน ุงููุฏุฑุฉ ุนูู ุชุดุบูู ูุฅููุงู ุดููุชู ููุท ุฒุงุฏุช. </font><font style="vertical-align: inherit;">ุงูุขู ูู ููู ูุฐุง ูุงูููุง ุจุงููุนู ุ ูุจูุง ุฃู ูุฏู ูุธููุฉ OpenHAB ูู ุชุทุจูู ุงููุงุชู ุงููุญููู ุงูุฎุงุต ุจู ุ ููุฌุจ ุฃู ุชุนูู ูุญุฏ ุฃุฏูู ุฌููุน ูุธุงุฆู ููุญุฉ ุงูุชุญูู ุงูุฃุตููุฉ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ูุนูู ููุง ูุงุฆูุฉ ุงูููุฒุงุช ุนูู ุงูุฃูู:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุคุดุฑ ุงูุญุงูุฉ ุงูุญุงููุฉ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุดุบูู ูุฅููุงู ูููู ุงูููุงุก ุ ุงูุฃูุถุงุน ุงููุฑุฏูุฉ (O </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุงูุชุฃูู ุ ุงููุถุน ุงูุตุงูุช) ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุฎุชูุงุฑ ุงููุถุน ุงูุญุงูู (ุงูุณูุงุฑุงุช ูุงูุชุฏูุฆุฉ ูุงูุชุจุฑูุฏ ูุงูุตุฑู ูุงููุฑูุญุฉ) ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุดุงุฑุฉ ุฅูู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ูุณุฑุนุฉ ุงููุฑูุญุฉ ููู ูุถุน. </font><font style="vertical-align: inherit;">ููุถุน ุงููุฑูุญุฉ ุ ุงูุณุฑุนุฉ ููุท ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุฏุงุฏ ุงูุณุชุงุฑุฉ ุงูุฑุฃุณูุฉ (ุชููุงุฆู ุ 0 ุฏุฑุฌุฉ ุ 15 ุฏุฑุฌุฉ ุ 30 ุฏุฑุฌุฉ ุ 45 ุฏุฑุฌุฉ ุ 60 ุฏุฑุฌุฉ) ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุฏุงุฏ ุงูุณุชุงุฑุฉ ุงูุฃูููุฉ (ุชููุงุฆู ุ "| |" ุ "/ /" ุ "/ |" ุ "| \" ุ "\ \") ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุถุจุท ุงูููุช (ุณุงุนุฉ ุ ุฏูููุฉ) ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุฅุนุฏุงุฏ ุงููููุช ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุฏุงุฏ ุฅููุงู ุงููุคูุช ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฅุนุฏุงุฏ ูู ุงูููุช ุงููุญุฏุฏ (ุณุงุนุฉ ุ ุฏูููุฉ) ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุฏุงุฏ ููุช ุงูุฅุบูุงู (ุณุงุนุฉ ุ ุฏูููุฉ) ุ</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฎูุงู ุนูููุฉ ุงูุชุทููุฑ ุ ุชุบูุฑุช ุจููุฉ ุงูุณุฌูุงุช ุนุฏุฉ ูุฑุงุช ูุนู. </font><font style="vertical-align: inherit;">ุงูุฅุตุฏุงุฑ ุงูุญุงูู ุฃุฏูุงู ุชุญุช ุงูููุณุฏ.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณุฌูุงุช ููุฏุจูุณ</font></font></b><div class="spoiler_text"><table>
<tbody><tr>
<th>Type</th>
<th>Byte</th>
<th>Bit</th>
<th>Name</th>
<th></th>
</tr>
<tr>
<td>Bit RO</td>
<td>0</td>
<td>0</td>
<td>CFG_OXYGEN</td>
<td>1 โ   </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>1</td>
<td>CFG_ION</td>
<td>1 โ   </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>2</td>
<td>CFG_QUIET</td>
<td>1 โ   </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>3</td>
<td>CFG_TIMER</td>
<td>1 โ  /   </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>4</td>
<td>CFG_DELAY</td>
<td>1 โ   /</td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>5</td>
<td>CFG_SWING</td>
<td>1 โ   </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>6</td>
<td>CFG_SWINGH</td>
<td>1 โ    </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>7</td>
<td>CFG_SWINGV</td>
<td>1 โ    </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>8</td>
<td>CFG_CLOCK</td>
<td>1 โ  </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>9</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>10</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>11</td>
<td>CFG_AUTO</td>
<td>1 โ   AUTO</td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>12</td>
<td>CFG_COOL</td>
<td>1 โ   COOL</td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>13</td>
<td>CFG_HEAT</td>
<td>1 โ   HEAT</td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>14</td>
<td>CFG_DRY</td>
<td>1 โ   DRY</td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>15</td>
<td>CFG_FAN</td>
<td>1 โ   FAN</td>
</tr>
<tr>
<td>Integer RO</td>
<td>1</td>
<td></td>
<td>CFG_TEMP</td>
<td>.  . : Min + Max*256</td>
</tr>
<tr>
<td>Integer RO</td>
<td>2</td>
<td></td>
<td>CFG_FAN_SPEED</td>
<td>  FAN</td>
</tr>
<tr>
<td>Bit RO</td>
<td>3</td>
<td>0</td>
<td>STATE_POWER</td>
<td>:0 โ , 1 โ </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>1</td>
<td>STATE_OXYGEN</td>
<td>:0 โ , 1 โ </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>2</td>
<td>STATE_ION</td>
<td>:0 โ , 1 โ </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>3</td>
<td>STATE_QUIET</td>
<td>:0 โ , 1 โ </td>
</tr>
<tr>
<td>Bit RO</td>
<td></td>
<td>4</td>
<td>STATE_TIMER</td>
<td>:0 โ , 1 โ </td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>8</td>
<td>CONTROL_POWER</td>
<td></td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>9</td>
<td>CONTROL_OXYGEN</td>
<td></td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>10</td>
<td>CONTROL_ION</td>
<td></td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>11</td>
<td>CONTROL_QUIET</td>
<td></td>
</tr>
<tr>
<td>Integer RO</td>
<td>4</td>
<td></td>
<td>RTC_HR_MI</td>
<td>0x1308</td>
</tr>
<tr>
<td>Integer RW</td>
<td>5</td>
<td></td>
<td>RTCW_HR_MI</td>
<td>0x1308</td>
</tr>
<tr>
<td>Integer RO</td>
<td>6</td>
<td></td>
<td>TEMPERATURE1</td>
<td> . INT16,   </td>
</tr>
<tr>
<td>Integer RO</td>
<td>7</td>
<td></td>
<td>TEMPERATURE2</td>
<td> . INT16,   </td>
</tr>
<tr>
<td>Bit RW</td>
<td>8</td>
<td>0</td>
<td>MODE_AUTO</td>
<td></td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>1</td>
<td>MODE_COOL</td>
<td></td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>2</td>
<td>MODE_HEAT</td>
<td></td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>3</td>
<td>MODE_DRY</td>
<td></td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>4</td>
<td>MODE_FAN</td>
<td></td>
</tr>
<tr>
<td>Integer RW</td>
<td>9</td>
<td></td>
<td>TEMP_AUTO</td>
<td> AUTO</td>
</tr>
<tr>
<td>Integer RW</td>
<td>10</td>
<td></td>
<td>TEMP_COOL</td>
<td> COOL</td>
</tr>
<tr>
<td>Integer RW</td>
<td>11</td>
<td></td>
<td>TEMP_HEAT</td>
<td> HEAT</td>
</tr>
<tr>
<td>Integer RW</td>
<td>12</td>
<td></td>
<td>TEMP_DRY</td>
<td> DRY</td>
</tr>
<tr>
<td>Integer RW</td>
<td>13</td>
<td></td>
<td>FAN_AUTO</td>
<td> AUTO. 0: Auto</td>
</tr>
<tr>
<td>Integer RW</td>
<td>14</td>
<td></td>
<td>FAN_COOL</td>
<td> COOL. 0: Auto</td>
</tr>
<tr>
<td>Integer RW</td>
<td>15</td>
<td></td>
<td>FAN_HEAT</td>
<td> HEAT. 0: Auto</td>
</tr>
<tr>
<td>Integer RW</td>
<td>16</td>
<td></td>
<td>FAN_DRY</td>
<td> DRY. 0: Auto</td>
</tr>
<tr>
<td>Integer RW</td>
<td>17</td>
<td></td>
<td>FAN_SPEED</td>
<td> FAN. 0: Auto</td>
</tr>
<tr>
<td>Bit RW</td>
<td>18</td>
<td>0</td>
<td>SWING_AUTO</td>
<td> </td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>1</td>
<td>SWINGV_0</td>
<td>   0ยฐ</td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>2</td>
<td>SWINGV_15</td>
<td>   15ยฐ</td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>3</td>
<td>SWINGV_30</td>
<td>   30ยฐ</td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>4</td>
<td>SWINGV_45</td>
<td>   45ยฐ</td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>5</td>
<td>SWINGV_60</td>
<td>   60ยฐ</td>
</tr>
<tr>
<td>Bit RW</td>
<td>19</td>
<td>0</td>
<td>SWINGH_AUTO</td>
<td> </td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>1</td>
<td>SWINGH_VV</td>
<td>  | &nbsp;|</td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>2</td>
<td>SWINGH_LL</td>
<td>  / &nbsp;/</td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>3</td>
<td>SWINGH_LV</td>
<td>  / &nbsp;|</td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>4</td>
<td>SWINGH_VR</td>
<td>  | &nbsp;\</td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>5</td>
<td>SWINGH_RR</td>
<td>  \ &nbsp;\</td>
</tr>
<tr>
<td>Bit RW</td>
<td>20</td>
<td>0</td>
<td>TIMER_ON</td>
<td></td>
</tr>
<tr>
<td>Bit RW</td>
<td></td>
<td>1</td>
<td>TIMER_OFF</td>
<td></td>
</tr>
<tr>
<td>Integer RW</td>
<td>21</td>
<td></td>
<td>TIME_ON_HOUR</td>
<td> </td>
</tr>
<tr>
<td>Integer RW</td>
<td>22</td>
<td></td>
<td>TIME_ON_MINUTE</td>
<td> </td>
</tr>
<tr>
<td>Integer RW</td>
<td>23</td>
<td></td>
<td>TIME_OFF_HOUR</td>
<td> </td>
</tr>
<tr>
<td>Integer RW</td>
<td>24</td>
<td></td>
<td>TIME_OFF_MINUTE</td>
<td> </td>
</tr>
<tr>
<td>Integer RW</td>
<td>25</td>
<td></td>
<td>DS18B20_ENV</td>
<td>. </td>
</tr>
<tr>
<td>Integer RW</td>
<td>26</td>
<td></td>
<td>DS18B20_NOZ</td>
<td>. </td>
</tr>
</tbody></table><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชู ุชูุธูู ุงูุณุฌูุงุช ุจุทุฑููุฉ ูุชู ูููุง ุชููุฆุฉ ูุฌููุนุฉ ุงูุจูุงูุงุช ุจุงููุงูู ูู EEPROM ุนูุฏ ุจุฏุก ุชุดุบูู ูุญุฏุฉ ุงูุชุญูู. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุญุชูู ุฃูู 3 ุณุฌูุงุช (CFG_ *) ุนูู ุชูููู ุงูููุฒุงุช ุ ููุง ุชุชุบูุฑ ุฃุจุฏูุง ูุชุชู ุชููุฆุชูุง ุจูุงุณุทุฉ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ EEPROM. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุนุฑุถ ุงูุณุฌูุงุช ูู 3-7 ุฏุงุฆููุง ุงูุญุงูุฉ ุงูุญุงููุฉ ูุฌูุงุฒ ุงูุชุญูู. ูุชู ุงุณุชุฎุฏุงู ูุญุฏุงุช ุงูุจุช ุงูุนุงููุฉ ููุชุณุฌูู 3 ูุชุบููุฑ ุงูุญุงูุฉ. ุชุจุฏุฃ ุชุบููุฑุงุชูู ูู ุชุดุบูู / ุฅููุงู ูููู ุงูููุงุก ูุงูุฃูุถุงุน ุงูุฎุงุตุฉ. ุจุนุฏ ุชูููุฐ ุงูุฃูุฑ ุ ูุชู ูุณุฎ ูุญุฏุงุช ุงูุจุช ุฐุงุช ุงูุชุฑุชูุจ ุงูููุฎูุถ ููุฐุง ุงูุณุฌู ุฅูู ุงููุญุฏุงุช ุนุงููุฉ ุงูุชุฑุชูุจ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุชูู ุงูุชุณุฌูู 4 ุนูู ููุช ูุญุฏุฉ ุงูุชุญูู ุงูุญุงููุฉ ุ ูุงูุฐู ุชุชู ูุฑุงุกุชู ูู RTC. ูุชู ุญูุธ ุงููููุฉ ูู ุชูุณูู BCD ุ ุจุญูุซ ุนูุฏูุง ูุชู ุนุฑุถ ุงูุณุฌู ุจุชุฑููุฒ ุณุฏุงุณู ุนุดุฑู ุ ูุชู ูุฑุงุกุฉ ุงูููุช ููุง ูู - 12:34 ูู 0x1234. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชู ุงุณุชุฎุฏุงู ุงูุชุณุฌูู 5 ูุชุบููุฑ ููุช RTC.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุณุฌููุงุช 6-7 ุชุญุชูู ุนูู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ูู ุฃุฌูุฒุฉ ุงูุงุณุชุดุนุงุฑ DS18B20. </font><font style="vertical-align: inherit;">ุชุญุชูู ุงููููุฉ ุนูู ุนุฏุฏ ุตุญูุญ ููููุน ูุชุณุงูู T * 100 ุ ุฃู </font><font style="vertical-align: inherit;">25.67 ุฏุฑุฌุฉ ูุฆููุฉ = 2567. </font><font style="vertical-align: inherit;">ูุชู ุชูููุฑ ูุณุชุดุนุฑูู ูุญุฏ ุฃูุตู ุ ูููู ูููู ุชุบููุฑ ุงูุฑูู ุจุณูููุฉ ูู ุฎูุงู ุชูุณูุน ุฌุฏูู ุงูุชุณุฌูู ูุชุฎุฒูู ุนูุงููู ุงููุณุชุดุนุฑุงุช ูุฏุฑุฌุงุช ุญุฑุงุฑุชูุง. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชู ุชุฎุฒูู ุงูุจุงูุชุชูู ุงูุฃุฎูุฑุชูู ูู ุนููุงู ุงููุณุชุดุนุฑ ูู ุงูุณุฌูุงุช 25-26. </font><font style="vertical-align: inherit;">ุนูุฏ ุชุบููุฑ ุงููุณุชุดุนุฑุงุช ุ ุฃุนุฏ ุชุนููู ุณุฌู ุงูุนููุงู ุงูููุงุจู. </font><font style="vertical-align: inherit;">ุนูุฏ ุงูุชุดุงู ูุณุชุดุนุฑ ุฌุฏูุฏ ุ ูุชู ุงูุชุญูู ูู ูุฌูุฏู ูู ุงูุณุฌูุงุช ูู 25 ุฅูู 26. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ุงูุนููุงู ูู ุงูุฌุฏูู ุ ูุชู ุฅุฏุฎุงู ูููุฉ ุฏุฑุฌุฉ ุญุฑุงุฑุฉ ุงููุณุชุดุนุฑ ูู ุงูุณุฌู ุงูููุงุจู 6-7. </font><font style="vertical-align: inherit;">ุฅุฐุง ูู ููู ุงูุนููุงู ูู ุงูุฌุฏูู ููุงู ุงูุฌุฏูู ูุญุชูู ุนูู ุฎูุงูุง ุตูุฑูุฉ ุ ูุณูุชู ูุชุงุจุฉ ุนููุงู ุงููุณุชุดุนุฑ ุงูุญุงูู ูู ุฎููุฉ ูุฌุงููุฉ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชู ุญูุธ ุงูุณุฌูุงุช 8-26 ุ ุนูุฏ ุชุนุฏูููุง ุจูุงุณุทุฉ ุงููุณุชุฎุฏู ุ ูู EEPROM.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุบุฏุฏ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชููู ุงูุฌูุงุฒ ูู ุงูููููุงุช ุงูุชุงููุฉ:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุฑุฏูููู ุจุฑู ูููู. </font></font><div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><img src="https://habrastorage.org/files/e8a/460/33b/e8a46033b9cf45609d87e9a08f9f4ba9.png" alt="Arduino Pro Mini NEW"></div></div></li>
<li>NRF24L01+ โ   2.4</li>
<li>LM1117-3.3 โ  3.3  NRF24L01+</li>
<li>DS1302 โ RTC</li>
<li> 32768  RTC</li>
<li>DS18B20 โ  . 2</li>
<li> โ , , </li>
</ol><br>
<br>
<img src="https://habrastorage.org/files/b4f/6f2/357/b4f6f2357e044c78a3472d4d6b25ad07.jpg"><br>
<img src="https://habrastorage.org/files/025/6de/902/0256de902fed444682fc2e16f3e9be88.jpg"><br>
<img src="https://habrastorage.org/files/e45/604/4aa/e456044aabe0499c9b8016d908411434.jpg"><br>
<img src="https://habrastorage.org/files/3f2/818/d9a/3f2818d9af814ffba67ed9e271c1450d.jpg"><br>
<img src="https://habrastorage.org/files/f76/385/124/f76385124e4e4c2ca573b268365f5e40.jpg"><br>
<img src="https://habrastorage.org/files/be6/ded/b3c/be6dedb3c93a40fe9841a17dead1b723.jpg"><br>
<img src="https://habrastorage.org/files/80a/50c/1b7/80a50c1b7e154c87ae07296e704d6674.jpg"><br>
<img src="https://habrastorage.org/files/a5b/f61/96e/a5bf6196ee764f90bf535df517477363.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชู ุชุญููู ุงูุชุบุฐูุฉ ุงููุฑุชุฏุฉ ูุน ูููู ุงูููุงุก ุนู ุทุฑูู ุชูุตูู optocouplers ุจุฃุถูุงุก LED ุงูููุงุจูุฉ. ูุจุงูุชุงูู ุ ูุชู ุถูุงู ุงูุนุฒู ุงูุฌููุงูู ูุน ุงูุฏุงุฆุฑุฉ ุงูููุฑุจุงุฆูุฉ ููููู ุงูููุงุก. ุชู ุงุฎุชูุงุฑ ุชูุงุฑ ูุฏุฎูุงุช optocouplers ุชุฌุฑูุจููุง ุจุงุณุชุฎุฏุงู ููุงููุงุช ุจุญูุซ ูุชู ูุชุญ ุฎุฑุฌ optocoupler ููุง ููุฎูุถ โโุณุทูุน LED ุงูุฑุฆูุณู ูู ูููู ุงูููุงุก. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชู ุชุซุจูุช IR LED ุจุฌุงูุจ ูุณุชูุจู IR ููููู ุงูููุงุก. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุฏุฉ ุงูุชุญูู ูุฏุนููุฉ ุจุดุญู USB ุตุบูุฑ ูู ููุน ูุง ูู ุงููุนุฌุฒุฉ ุงูุตูููุฉ. ุชูุช ุฅุฒุงูุฉ ุฌูุงุช ุงุชุตุงู ุงูุชูุงุฑ ุงูููุฑุจุงุฆู ุงูุตูููุฉ ูู ุนูุจุฉ ุงูุดุญู ุ ูุชูุช ุฅุฒุงูุฉ ุงูุฃุณูุงู. ุงุณุชูุฑ ุงูุดุญู ููุณู ูู ุฃุญุดุงุก ุตูุฏูู ูููู ุงูููุงุก ุ ูุชุตูุงู ุจูุฏุฎู 220 ุจุงูุชูุงุฒู ูุนูุง. ุชุชุตู ูุญุฏุฉ ุงูุชุญูู ุจุงูุดุญู ุจุงุณุชุฎุฏุงู ูุจู USB AB ุนุงุฏู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุญูู "ุงูููุฌู" ูุนุชูุฏ ุนูู Arduino Mega2560 ู NRF24L01 + ูุน LM1117-3.3 ูููุตู. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ูุตุฏุฑ ุทุงูุฉ 3.3 ูููุตู ุ ูุชู ุชูุตูู ุงูููุญู ุจุงูููุฑุจุงุก ุจุงููุญุฏุฉ ุงููุงุณูููุฉ (ูุฌุฏุชู ุนูุฏ 470 ูุงุฆู ุงูุชููุฌ * 16 ูููุช) ุนูู ุฃุฑุฌู ุงูุทุงูุฉ. </font><font style="vertical-align: inherit;">ููุง ุชุนูู ุ ูุฅู ูุงูู ุงูุทุงูุฉ Mega2560 3.3V ุงูุฏุงุฎูู ุตุงุฎุจ ููุบุงูุฉ ูุฑูุถุช ุงููุญุฏุฉ ููู ุงูุจูุงูุงุช ุ ุนูู ุงูุฑุบู ูู ุฃููุง ุฑุฏุช ุจุดูู ุตุญูุญ. </font><font style="vertical-align: inherit;">ูููู ุญุชู ูุน ูุฌูุฏ ูุตุฏุฑ ุทุงูุฉ ูููุตู ุจุฏูู ููุซู ุ ูุงู ุงูุงุชุตุงู ุบูุฑ ูุณุชูุฑ ููุบุงูุฉ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุญุชู ูุง ูุชู ุฅุนุงุฏุฉ ุถุจุท mega2560 ุนูุฏ ูุชุญ ุงููููุฐ ุนุจุฑ USB ุ ูุชู ุชูุตูู ุฅููุชุฑูููุช 10ฮผf ุจุฏุจูุณ ุฅุนุงุฏุฉ ุงูุชุนููู.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Openhab</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุงุฏุฉ ุงุฑุฏูููู ูOpenHAB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุตู ุณูุฉ ูู ุณูุงุช ููุฏุจูุณ ุฑุจุท ุงูููููุงุช ููุ ูุน ุฃู ูู ุงุณุชุทูุงุน ููุชุญููุ ูุงูููููุงุช ูู ูุฑุณู ุญุฏุซ ุฅูู ุงูุญุงููุฉุ ุญุชู ูุฃู ุดูุฆุง ูู ูุชุบูุฑ. </font><font style="vertical-align: inherit;">ุงุชุจุนุช ุญุฐููุง ูุงูุชูุช ูู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูููู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ููุฏุจูุณ ููุฒู</font></font></b><div class="spoiler_text">#<br>
modbus:serial.ac_hall_state.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_state.id=1<br>
modbus:serial.ac_hall_state.start=48<br>
modbus:serial.ac_hall_state.length=5<br>
modbus:serial.ac_hall_state.type=discrete<br>
<br>
#<br>
modbus:serial.ac_hall_power.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_power.id=1<br>
modbus:serial.ac_hall_power.start=56<br>
modbus:serial.ac_hall_power.length=4<br>
modbus:serial.ac_hall_power.type=coil<br>
<br>
#<br>
modbus:serial.ac_hall_rtc.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_rtc.id=1<br>
modbus:serial.ac_hall_rtc.start=4<br>
modbus:serial.ac_hall_rtc.length=1<br>
modbus:serial.ac_hall_rtc.type=holding<br>
<br>
# <br>
modbus:serial.ac_hall_temperature.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_temperature.id=1<br>
modbus:serial.ac_hall_temperature.start=6<br>
modbus:serial.ac_hall_temperature.length=2<br>
modbus:serial.ac_hall_temperature.type=holding<br>
modbus:serial.ac_hall_temperature.valuetype=int16<br>
<br>
#<br>
modbus:serial.ac_hall_mode.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_mode.id=1<br>
modbus:serial.ac_hall_mode.start=8<br>
modbus:serial.ac_hall_mode.length=1<br>
modbus:serial.ac_hall_mode.type=holding<br>
<br>
# <br>
modbus:serial.ac_hall_temp.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_temp.id=1<br>
modbus:serial.ac_hall_temp.start=9<br>
modbus:serial.ac_hall_temp.length=4<br>
modbus:serial.ac_hall_temp.type=holding<br>
<br>
# <br>
modbus:serial.ac_hall_fan.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_fan.id=1<br>
modbus:serial.ac_hall_fan.start=13<br>
modbus:serial.ac_hall_fan.length=5<br>
modbus:serial.ac_hall_fan.type=holding<br>
<br>
#<br>
modbus:serial.ac_hall_swing.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_swing.id=1<br>
modbus:serial.ac_hall_swing.start=18<br>
modbus:serial.ac_hall_swing.length=2<br>
modbus:serial.ac_hall_swing.type=holding<br>
<br>
#<br>
modbus:serial.ac_hall_timer.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_timer.id=1<br>
modbus:serial.ac_hall_timer.start=320<br>
modbus:serial.ac_hall_timer.length=2<br>
modbus:serial.ac_hall_timer.type=coil<br>
<br>
# <br>
modbus:serial.ac_hall_timer_time.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_timer_time.id=1<br>
modbus:serial.ac_hall_timer_time.start=21<br>
modbus:serial.ac_hall_timer_time.length=4<br>
modbus:serial.ac_hall_timer_time.type=holding<br>
<br>
#  DS18B20<br>
modbus:serial.ac_hall_ds18b20.connection=/dev/ttyACM0:57600:8:none:1:rtu<br>
modbus:serial.ac_hall_ds18b20.id=1<br>
modbus:serial.ac_hall_ds18b20.start=25<br>
modbus:serial.ac_hall_ds18b20.length=2<br>
modbus:serial.ac_hall_ds18b20.type=holding<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุฏุงุฏุงุช ุงูุนูุงุตุฑ</font></font></b><div class="spoiler_text"><pre>Contact AC_HALL_STATE_POWER             "AC_HALL_STATE_POWER [MAP(air_cond.map):%s]"    (){modbus="ac_hall_state:0"}<font></font>
Contact AC_HALL_STATE_OXYGEN            "AC_HALL_STATE_OXYGEN [MAP(air_cond.map):%s]"   (){modbus="ac_hall_state:1"}<font></font>
Contact AC_HALL_STATE_ION               "AC_HALL_STATE_ION [MAP(air_cond.map):%s]"      (){modbus="ac_hall_state:2"}<font></font>
Contact AC_HALL_STATE_QUIET             "AC_HALL_STATE_QUIET [MAP(air_cond.map):%s]"    (){modbus="ac_hall_state:3"}<font></font>
Contact AC_HALL_STATE_TIMER             "[MAP(air_cond.map):%s]"                  (){modbus="ac_hall_state:4"}<font></font>
<font></font>
Switch  AC_HALL_CONTROL_POWER           ""                   &lt;climate&gt;       (){modbus="ac_hall_power:0"}<font></font>
Switch  AC_HALL_CONTROL_OXYGEN          " O2"                                  (){modbus="ac_hall_power:1"}<font></font>
Switch  AC_HALL_CONTROL_ION             ""                                     (){modbus="ac_hall_power:2"}<font></font>
Switch  AC_HALL_CONTROL_QUIET           " "                                   (){modbus="ac_hall_power:3"}<font></font>
<font></font>
Number  AC_HALL_RTC                     "RTC[%x]"                                       (){modbus="ac_hall_rtc:0"}<font></font>
String  AC_HALL_RTC_S                   " [%s]"         &lt;clock&gt;         ()<font></font>
<font></font>
Group   gAC_HALL_TEMPERATURE            "Living Room temp"<font></font>
<font></font>
Number  AC_HALL_TEMPERATURE_ENV         "[%d]"                                   (){modbus="ac_hall_temperature:0"}<font></font>
Number  AC_HALL_TEMPERATURE_NOZ         "[%d]"                                     (){modbus="ac_hall_temperature:1"}<font></font>
Number  AC_HALL_TEMPERATURE_ENVF        " [%.2f ยฐC]"     &lt;temperature&gt;           (gAC_HALL_TEMPERATURE)<font></font>
Number  AC_HALL_TEMPERATURE_NOZF        " [%.2f ยฐC]"       &lt;temperature&gt;           (gAC_HALL_TEMPERATURE)<font></font>
<font></font>
Number  AC_HALL_DS18B20_ENV             "ENV[%x]"                                       (){modbus="ac_hall_ds18b20:0"}<font></font>
Number  AC_HALL_DS18B20_NOZ             "NOZZLES[%x]"                                   (){modbus="ac_hall_ds18b20:1"}<font></font>
<font></font>
Number  AC_HALL_MODE                    ""                                              (){modbus="ac_hall_mode:0"}<font></font>
<font></font>
Number  AC_HALL_TEMP_AUTO               "[%d ยฐC]"    &lt;temperature&gt;           (){modbus="ac_hall_temp:0"}<font></font>
Number  AC_HALL_TEMP_COOL               "[%d ยฐC]"    &lt;temperature&gt;           (){modbus="ac_hall_temp:1"}<font></font>
Number  AC_HALL_TEMP_HEAT               "[%d ยฐC]"    &lt;temperature&gt;           (){modbus="ac_hall_temp:2"}<font></font>
Number  AC_HALL_TEMP_DRY                "[%d ยฐC]"    &lt;temperature&gt;           (){modbus="ac_hall_temp:3"}<font></font>
<font></font>
Number  AC_HALL_FAN_AUTO                "[%d]"                                  (){modbus="ac_hall_fan:0"}<font></font>
Number  AC_HALL_FAN_COOL                "[%d]"                                  (){modbus="ac_hall_fan:1"}<font></font>
Number  AC_HALL_FAN_HEAT                "[%d]"                                  (){modbus="ac_hall_fan:2"}<font></font>
Number  AC_HALL_FAN_DRY                 "[%d]"                                  (){modbus="ac_hall_fan:3"}<font></font>
Number  AC_HALL_FAN_SPEED               "[%d]"                                  (){modbus="ac_hall_fan:4"}<font></font>
<font></font>
Number  AC_HALL_SWINGV                  ""                                              (){modbus="ac_hall_swing:0"}<font></font>
Number  AC_HALL_SWINGH                  ""                                              (){modbus="ac_hall_swing:1"}<font></font>
<font></font>
Switch  AC_HALL_TIMER_ON                " "              &lt;clock&gt;         (){modbus="ac_hall_timer:0"}<font></font>
Switch  AC_HALL_TIMER_OFF               " "             &lt;clock&gt;         (){modbus="ac_hall_timer:1"}<font></font>
<font></font>
Number  AC_HALL_TIME_ON_HR              "[%02d]"                                     (){modbus="ac_hall_timer_time:0"}<font></font>
Number  AC_HALL_TIME_ON_MI              "[%02d]"                                  (){modbus="ac_hall_timer_time:1"}<font></font>
Number  AC_HALL_TIME_OFF_HR             "[%02d]"                                     (){modbus="ac_hall_timer_time:2"}<font></font>
Number  AC_HALL_TIME_OFF_MI             "[%02d]"                                  (){modbus="ac_hall_timer_time:3"}<font></font>
</pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุณุชุฎุฏู ุงูููุงุนุฏ ูุชุญููู ุฏุฑุฌุงุช ุงูุญุฑุงุฑุฉ ุงูุตุญูุญุฉ ุฅูู ุฏุฑุฌุงุช ุญุฑุงุฑุฉ ุญููููุฉ ุ ููุฐูู ูุชูุณูู ููุช ุงูุชุญูู ุฅูู ุงููููุฐุฌ HH: MM.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุฏุงุฏุงุช ุงูููุงุนุฏ</font></font></b><div class="spoiler_text"><pre>import org.openhab.core.library.types.*<font></font>
import org.openhab.core.persistence.*<font></font>
import org.openhab.model.script.actions.*<font></font>
import java.io.File<font></font>
<font></font>
rule "Update AC_HALL ENV temp"<font></font>
        when<font></font>
                Item AC_HALL_TEMPERATURE_ENV received update<font></font>
        then<font></font>
                var Number T = AC_HALL_TEMPERATURE_ENV.state as DecimalType<font></font>
                var Number H = T/100<font></font>
                postUpdate(AC_HALL_TEMPERATURE_ENVF, H)<font></font>
end<font></font>
rule "Update AC_HALL NOZZLES temp"<font></font>
        when<font></font>
                Item AC_HALL_TEMPERATURE_NOZ received update<font></font>
        then<font></font>
                var Number T = AC_HALL_TEMPERATURE_NOZ.state as DecimalType<font></font>
                var Number H = T/100<font></font>
                postUpdate(AC_HALL_TEMPERATURE_NOZF, H)<font></font>
end<font></font>
rule "Update AC_HALL_RTC clock"<font></font>
        when<font></font>
                Item AC_HALL_RTC received update<font></font>
        then<font></font>
                var Number T = AC_HALL_RTC.state as DecimalType<font></font>
                var H = T.intValue / 256<font></font>
                var M = T.intValue % 256<font></font>
                var S = String::format("%02x:%02x",H,M)<font></font>
                postUpdate(AC_HALL_RTC_S, S)<font></font>
end<font></font>
</pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุฏุงุฏุงุช ูููุงุช Sitemap</font></font></b><div class="spoiler_text"><pre>sitemap demo label="Demo House"{<font></font>
        Frame label="HOME"{<font></font>
                Text label=" " icon="ac_cond"{<font></font>
                        Frame label="" {<font></font>
                                Switch item= AC_HALL_CONTROL_POWER labelcolor=[AC_HALL_STATE_POWER==OPEN="blue"]<font></font>
                                Switch item= AC_HALL_CONTROL_OXYGEN labelcolor=[AC_HALL_STATE_OXYGEN==OPEN="blue"]<font></font>
                                Switch item= AC_HALL_CONTROL_ION labelcolor=[AC_HALL_STATE_ION==OPEN="blue"]<font></font>
                                Switch item= AC_HALL_CONTROL_QUIET labelcolor=[AC_HALL_STATE_QUIET==OPEN="blue"]<font></font>
                                Text item=AC_HALL_STATE_TIMER labelcolor=[AC_HALL_STATE_TIMER==OPEN="blue"] icon="clock-on"<font></font>
                                Text item=AC_HALL_RTC_S<font></font>
                                Text item=AC_HALL_TEMPERATURE_ENVF<font></font>
                                Text item=AC_HALL_TEMPERATURE_NOZF<font></font>
                        }<font></font>
<font></font>
                        Frame label=""{<font></font>
                                Selection item=AC_HALL_MODE label="" mappings=[1=AUTO, 2=COOL, 4=HEAT, 8=DRY, 16=FAN]<font></font>
                                Text item=AC_HALL_TEMP_AUTO visibility=[AC_HALL_MODE==1]<font></font>
                                Text item=AC_HALL_TEMP_COOL visibility=[AC_HALL_MODE==2]<font></font>
                                Text item=AC_HALL_TEMP_HEAT visibility=[AC_HALL_MODE==4]<font></font>
                                Text item=AC_HALL_TEMP_DRY visibility=[AC_HALL_MODE==8]<font></font>
<font></font>
                                Text item=AC_HALL_FAN_AUTO visibility=[AC_HALL_MODE==1]<font></font>
                                Text item=AC_HALL_FAN_COOL visibility=[AC_HALL_MODE==2]<font></font>
                                Text item=AC_HALL_FAN_HEAT visibility=[AC_HALL_MODE==4]<font></font>
                                Text item=AC_HALL_FAN_DRY visibility=[AC_HALL_MODE==8]<font></font>
                                Text item=AC_HALL_FAN_SPEED visibility=[AC_HALL_MODE==16]<font></font>
<font></font>
                                Selection item=AC_HALL_SWINGV label="" mappings=[1=AUTO, 2="0ยฐ", 4="15ยฐ", 8="30ยฐ", 16="45ยฐ", 32="60ยฐ"]<font></font>
                                Selection item=AC_HALL_SWINGH label="" mappings=[1=AUTO, 4="/   /", 8="/   |", 2="|   |", 16="|   \\", 32="\\   \\"]<font></font>
<font></font>
                                Text label="" icon="settings"{<font></font>
                                        Frame label="AUTO"{<font></font>
                                                Setpoint item=AC_HALL_TEMP_AUTO minValue=16 maxValue=30 step=1<font></font>
                                                Switch   item=AC_HALL_FAN_AUTO mappings=[0=AUTO, 1="1", 2="2", 3="3", 4="4", 5="5"]<font></font>
                                        }<font></font>
                                        Frame label="COOL"{<font></font>
                                                Setpoint item=AC_HALL_TEMP_COOL minValue=16 maxValue=30 step=1<font></font>
                                                Switch   item=AC_HALL_FAN_COOL mappings=[0=AUTO, 1="1", 2="2", 3="3", 4="4", 5="5"]<font></font>
                                        }<font></font>
                                        Frame label="HEAT"{<font></font>
                                                Setpoint item=AC_HALL_TEMP_HEAT minValue=16 maxValue=30 step=1<font></font>
                                                Switch   item=AC_HALL_FAN_HEAT mappings=[0=AUTO, 1="1", 2="2", 3="3", 4="4", 5="5"]<font></font>
                                        }<font></font>
                                        Frame label="DRY"{<font></font>
                                                Setpoint item=AC_HALL_TEMP_DRY minValue=16 maxValue=30 step=1<font></font>
                                                Switch   item=AC_HALL_FAN_DRY mappings=[0=AUTO, 1="1", 2="2", 3="3", 4="4", 5="5"]<font></font>
                                        }<font></font>
                                        Frame label="FAN"{<font></font>
                                                Switch item=AC_HALL_FAN_SPEED mappings=[0=AUTO, 1="1", 2="2", 3="3", 4="4", 5="5"]<font></font>
                                        }<font></font>
                                        Frame label=""{<font></font>
                                                Text item=AC_HALL_DS18B20_ENV<font></font>
                                                Text item=AC_HALL_DS18B20_NOZ<font></font>
                                        }<font></font>
                                }<font></font>
                        }<font></font>
                        Frame label="" {<font></font>
                                Switch item= AC_HALL_TIMER_ON labelcolor=[AC_HALL_STATE_TIMER==OPEN="blue"]<font></font>
                                Setpoint item=AC_HALL_TIME_ON_HR minValue=0 maxValue=23 step=1<font></font>
                                Setpoint item=AC_HALL_TIME_ON_MI minValue=0 maxValue=50 step=5<font></font>
<font></font>
                                Switch item= AC_HALL_TIMER_OFF labelcolor=[AC_HALL_STATE_TIMER==OPEN="blue"]<font></font>
                                Setpoint item=AC_HALL_TIME_OFF_HR minValue=0 maxValue=23 step=1<font></font>
                                Setpoint item=AC_HALL_TIME_OFF_MI minValue=0 maxValue=50 step=5<font></font>
                        }<font></font>
                }<font></font>
                Text item=AC_HALL_RTC_S<font></font>
                Text item=AC_HALL_TEMPERATURE_ENVF{<font></font>
                        Frame label=" "{<font></font>
                                Chart item=gAC_HALL_TEMPERATURE period=h refresh=60000<font></font>
                        }<font></font>
                        Frame label=" 4 " {<font></font>
                                Chart item=gAC_HALL_TEMPERATURE period=4h refresh=600000<font></font>
                        }<font></font>
                }<font></font>
        }<font></font>
}<font></font>
</pre><br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุจุฏู ุงููุชูุฌุฉ ุดูุฆูุง ููุฐุง ูู ุฎูุงู ูุชุตูุญ:</font></font><br>
<img align="left" src="https://habrastorage.org/files/5c0/129/0f3/5c01290f365b47399e9b16123c21f6fa.png"><img align="left" src="https://habrastorage.org/files/634/45b/94b/63445b94b4ab47349482b85667313e10.png"><img align="left" src="https://habrastorage.org/files/09c/8cb/8ff/09c8cb8ffb8240349ce57e8c7ccc6629.png"><br clear="all">
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชูุชุงุฌ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃูุง ุณุนูุฏ ุจุงููุชูุฌุฉ ููููุฉ. ุงูุชุญูู ูู ุชูููู ุงูููุงุก ูุชุงุญ ูู ุงูุขู ุฃูููุง ูุงู ููุงู ุฅูุชุฑูุช ูุญููู ุฃู WiFI. ุจุงุณุชุฎุฏุงู ุนููู VPN ุนูู ูุงุชู ุฐูู ุ ุฃุตุจุญ OpenHAB ุนูู ุฎุงุฏู ุงูููุฒู ุงูุฎุงุต ุจู ูู ูุชูุงููู ูู ุฎูุงู ุงููุชุตูุญ ููู ุฎูุงู ุชุทุจูู ุงููุงุชู ุงููุญููู. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฌุนู ุงูุญู ุงููุงุณููู ูู ุงููููู ุฏูุฌ ูุญุฏุฉ ุงูุชุญูู ุนู ูุซุจ ูุน ุชูููู ุงูููุงุก. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅู ูุฌูุฏ ุงูุชุนูููุงุช ูุนุทู ุงูุซูุฉ ูู ุฃู ุงูุฃูุฑ ุงููุฑุณู ุชู ุงุณุชูุจุงูู ุจูุงุณุทุฉ ูููู ุงูููุงุก ุ ููุณุชุดุนุฑุงุช ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุชูุถุญ ุฐูู ุจูุถูุญ - ุจุนุฏ ุจุถุน ุซูุงูู ููููู ููุงุญุธุฉ ุชุบูุฑ ูู ูุฑุงุกุฉ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ูู ูุฎุฑุฌ ูููู ุงูููุงุก. ุญุณููุง ุ ุจุนุฏ ุจุถุน ุฏูุงุฆู - ูุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุงููุญูุทุฉ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงู ูู ุงููุซูุฑ ููุงูุชูุงู ููุงุญุธุฉ ููู ุชุนุฑูู ูููู ุงูููุงุก ุนูุฏ ุงูุงูุชุฑุงุจ ูู ุงูุธุฑูู ุงููุญุฏุฏุฉ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ูุง ุดู ููู ุฃูู ูู ูููู ูุญุฏุฉ ุงูุชุญูู ุงููุงุณูููุฉ ุงููุญูุฏุฉ ุงูุชู ุฃุฎุทุท ูุงุณุชุฎุฏุงููุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุงู ุฎุทุท ูุงุณุชุฎุฏุงู ูุณุชูุจู ุงูุฃุดุนุฉ ุชุญุช ุงูุญูุฑุงุก ููููู ุงูููุงุก ููุณู ููุฑุงุกุฉ ุฃูุงูุฑ ุฌูุงุฒ ุงูุชุญูู ุนู ุจุนุฏ ุงูุฃุตูู ูุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช ูู ูุญุฏุฉ ุงูุชุญูู. </font><font style="vertical-align: inherit;">ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ูุณุชูุจู IR ููุณู ูุชุตู ุจุงููุนู ุนุจุฑ optocoupler ุฅูู ูุญุฏุฉ ุงูุชุญูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุฑุฃ ุญุชู ุงูููุงูุฉ ุดูุฑุง ุฎุงุตุง!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุฑุงุฌุน</font></font></h4><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชุจุฉ Arduino ModbusRtu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modbus-Master-Slave-for-Arduino</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชุจุฉ ุงุฑุฏูููู ModbusRtuRF24 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modbus-over-RF24 Network-for-Arduino</font></font></a></li>
</ol></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar384243/">https://habr.com/ru/post/ar384243/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar384229/index.html">ุจุนุฏ ุชุทุจูู ุงููุฑุงุกุฉ. 25 ูุชุงุจูุง ููุทูุฑ ุงููุนุจุฉ</a></li>
<li><a href="../ar384231/index.html">ุฅุฐุง ูู ููู ุฃุญุฏ ุจุญุงุฌุฉ ุฅูู ุงูููุฑุงูููู ุงูุทุจูุนู ุ ูููู ูููู ุชุฎุตูุจูุ</a></li>
<li><a href="../ar384235/index.html">ุณุชูุชุญ ุงูุทุงุฆุฑุงุช ุจุฏูู ุทูุงุฑ ุงูุณูุงุก ุงูุฑูุณูุฉ ุจุญููู ุนุงู 2020</a></li>
<li><a href="../ar384239/index.html">ุงุณุชุนุฑุงุถ Sphero BB-8 ุ ุฑูุจูุช ูู Star Wars</a></li>
<li><a href="../ar384241/index.html">Emercoin: ุนููุฉ ูุดูุฑุฉ ูููุชุงุญ ุฑููู ูู ูุงุญุฏ</a></li>
<li><a href="../ar384247/index.html">ุงูุขุฑุงุก: ูุดุงุฑู ุชููุชุฑ ุจุฑูุงูุฌูุง ููุงุฎุชุจุงุฑ</a></li>
<li><a href="../ar384249/index.html">ูุฌููุนุฉ ูุฎุชุงุฑุฉ ูู ุงูุฃุฌูุฒุฉ ุงููููุฏุฉ: 5 ุฃุฏูุงุช ูููุฏุฉ ูู ุงูููุชุจ</a></li>
<li><a href="../ar384251/index.html">ุฑูุจูุช ูุฑุฌู. ูู ุงููุญุชูู ุฅูู ุงููููุฐุฌ</a></li>
<li><a href="../ar384253/index.html">ุชุนููุช ุดุจูุฉ ุงูุฒุฑุงูุฉ ุงูุนุตุจูุฉ ููู ุชูุนุจ ุงูุดุทุฑูุฌ ุนูู ูุณุชูู ุงููุงุฌุณุชูุฑ ุงูุฏููู ูู 72 ุณุงุนุฉ</a></li>
<li><a href="../ar384257/index.html">ููู ุชูุดุฆ ุงููุทุงุนู ุงูููุงูุน: 4 ุญููู ุชุตููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>