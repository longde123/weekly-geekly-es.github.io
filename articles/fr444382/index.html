<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßõüèæ üë©üèΩ üíÇüèº Comment visiter l'Universit√© de Cor√©e avec le syst√®me de fichiers r√©seau üéª üë©üèª‚Äç‚úàÔ∏è üëÜüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√©face 


 Il √©tait une fois au d√©but des ann√©es 2000, beaucoup √©taient amus√©s par le fait qu'ils `` scannaient '' r√©guli√®rement les r√©seaux de leur ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment visiter l'Universit√© de Cor√©e avec le syst√®me de fichiers r√©seau</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444382/"><p><img src="https://habrastorage.org/webt/yv/yo/g3/yvyog3c-gz4kkanb5hdlhenybg8.png"></p><br><h2 id="predislovie">  Pr√©face </h2><br><p>  Il √©tait une fois au d√©but des ann√©es 2000, beaucoup √©taient amus√©s par le fait qu'ils `` scannaient '' r√©guli√®rement les r√©seaux de leur fournisseur, et parfois des cibles encore plus √©loign√©es, afin de d√©tecter les machines et ressources Windows sur celles-ci (SMB), disponibles en lecture (√©criture).  Le processus de recherche √©tait primitif: une plage d'adresses IP ou un masque de r√©seau ont √©t√© d√©finis, et gr√¢ce √† divers outils - LANguard Network Scanner, xIntruder et similaires - les adresses ont √©t√© analys√©es et les serveurs ont √©t√© localis√©s.  Souvent, les machines d√©tect√©es se sont av√©r√©es disponibles pour la lecture, moins souvent pour l'√©criture, diverses ressources r√©seau (disques, imprimantes, r√©pertoires).  Gr√¢ce √† une session anonyme, via IPC $ et l'utilisateur ¬´Guest¬ª, il √©tait possible de transf√©rer des ressources sur la machine, parfois il y avait des membres des ¬´Administrateurs¬ª sans mot de passe, et parfois, apr√®s un effet plus ¬´actif¬ª sur les machines d√©tect√©es, il √©tait possible de trouver des serveurs ex√©cutant Windows NT 4.0 ou Windows 2000 Server.  Si la chance a daign√© trouver des machines avec Windows 98 alors r√©pandu, alors cela est devenu plus facile - √† cette √©poque, le syst√®me d'exploitation sp√©cifi√© contenait de nombreuses vuln√©rabilit√©s diff√©rentes, y compris la mise en ≈ìuvre de l'utilisation de SMB, la bruteforce pour l'acc√®s √† la ressource a √©t√© effectu√©e en quelques minutes, m√™me sur une ligne commut√©e connexions.  Pour ceux qui veulent plonger dans les temps anciens, il est √©crit en d√©tail sur ¬´l'acc√®s¬ª √† Windows 9x - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Hacking Exposed: Network Security Secrets &amp; Solutions.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Chapitre 4: Piratage de Windows 95/98 et moi</a> .  Mais le reste de l'article n'est pas l√†-dessus. </p><a name="habracut"></a><br><p>  Je n'aurais jamais pens√© qu'en 2019, un tel "divertissement" est possible.  La similitude r√©side dans la facilit√© de trouver les ressources disponibles des autres pour tous les curieux.  De plus, nous ne nous concentrerons pas sur une tendance populaire au cours des 2 derni√®res ann√©es - la recherche de bases de donn√©es MongoDB ou Elasticsearch ouvertes √† l'acc√®s - mais sur un service l√©g√®rement plus terre-√†-terre. </p><br><p>  <em>En outre, je propose de ne pas √©valuer l'ensemble de la proc√©dure, leur norme √©thique, je note que ce message n'est pas un appel √† des actions qui peuvent √™tre attribu√©es √† certains articles du Code p√©nal de la F√©d√©ration de Russie ou √† des normes similaires des lois d'autres √âtats.</em> </p><br><h2 id="network-file-system-nfs">  Syst√®me de fichiers r√©seau (NFS) </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Wikip√©dia">Network File System (NFS)</a> - un protocole d'acc√®s r√©seau aux syst√®mes de fichiers, vous permet de connecter (monter) des syst√®mes de fichiers distants via un r√©seau, offre aux utilisateurs un acc√®s aux fichiers, vous permet de travailler avec ces fichiers de la m√™me mani√®re qu'avec les fichiers locaux. </p><br><p>  Bien entendu, la plupart des NAS (NAS) disponibles sur le march√© prennent en charge NFS et permettent d'acc√©der aux ressources locales ainsi qu'√† tout serveur dot√© d'un syst√®me d'exploitation sur lequel il est possible de d√©ployer le service NFS. </p><br><p>  Les param√®tres d'acc√®s aux ressources du serveur depuis n'importe quel syst√®me d'exploitation Ubuntu et l'adresse IP 192.168.1.1 sont contenus dans le fichier / etc / exports et sont des entr√©es du formulaire: </p><br><ul><li>  / data / place1 192.168.1.0/255.255.255.0(rw,no_subtree_check,nohide,async) 192.168.101.0/255.255.255.0(rw,no_subtree_check,nohide,async) </li><li>  data / place2 192.168.1.0/255.255.255.0(rw,no_subtree_check,nohide,async) 192.168.101.0/255.255.255.0(rw,no_subtree_check,nohide,async) </li></ul><br><p>  Dans ce cas, l'acc√®s NFS au serveur et √† ses ressources / donn√©es / place1 est possible pour les clients avec des adresses IP des r√©seaux 192.168.1.0/255.255.255.0, 192.168.101.0/255.255.255.0. </p><br><p> Montez la ressource distante dans un r√©pertoire local, par exemple, / home / user / example, si le client est sur un sous-r√©seau autoris√© et que le client pour NFS est install√©, c'est possible via la commande (Ubuntu): <br> <code>mount -t nfs 192.168.1.1:/data/place1 /home/user/example</code> </p> <br><p>  Si au lieu des adresses IP * ou (tout le monde) est indiqu√©, alors souvent, n'importe quel client peut monter une ressource distante dans son syst√®me. </p><br><p>  L'utilisateur (par exemple, sous Ubuntu) a juste besoin de taper dans le terminal: showmount -e ip-target et obtenir des informations sur les ressources disponibles sur le serveur (liste d'exportation du serveur). </p><br><p>  Par exemple: <br> <code>showmount -e 81.24..</code> <br> <code>Export list for 81.24..:</code> <br> <code>/home/admin 192.168.52.1/24</code> </p> <br><p>  Ainsi, le sc√©nario suivant est form√©: pour d√©tecter les serveurs ex√©cutant NFS, d√©terminer les ressources disponibles sur les serveurs, consolider le r√©sultat dans un formulaire de sortie unique, puis proc√©der selon la situation. </p><br><p>  Ce qui peut √™tre sur les ressources - √©videmment, n'importe quoi: </p><br><ul><li>  les fichiers personnels des utilisateurs d'Internet, par exemple, dans le cas d'appareils NAS "ouverts"; </li><li>  r√©pertoires contenant des fichiers d'entreprises enti√®res, des bases de donn√©es, des archives de bases de donn√©es; </li><li>  souvent des r√©pertoires avec des adresses / home / * (parfois avec des cl√©s en .ssh et en √©criture); </li><li>  r√©pertoires contenant des fichiers de syst√®mes de vid√©osurveillance; </li><li>  autre ... </li></ul><br><h2 id="poluchenie-ip-adresov">  Obtenir des adresses IP </h2><br><p>  En ce qui concerne la d√©couverte de serveurs avec NFS sur Internet mondial, il y a 2 fa√ßons: ind√©pendamment, en utilisant divers outils, et des r√©sultats d'analyse, des bases de donn√©es et des services tiers pr√™ts √† l'emploi.  En fait, tout se r√©sume √† obtenir une liste d'adresses IP.  Dans le r√©seau local, je pense que l'option est √©vidente - agir de mani√®re ind√©pendante. </p><br><p>  Les ports TCP ouverts 111, 2049 peuvent servir de preuve du fonctionnement du service NFS. <br>  Pour obtenir ind√©pendamment une liste d'adresses IP de serveur, il suffit d'analyser la plage d'adresses ou le sous-r√©seau entier pour la pr√©sence des ports ouverts indiqu√©s.  N'importe quel outil convient √† cela: nmap, masscan, etc. </p><br><p>  Par exemple, avec la commande <code>masscan -p111,2049 200.26.1XX.0/24 ‚Äîrate=10000</code> r√©seau 200.26.1XX.0 / 24 sera analys√© pendant plusieurs secondes pour les ports ouverts 111, 2049: <br> <code>Scanning 256 hosts [2 ports/host]</code> <br> <code>Discovered open port 2049/tcp on 200.26.1XX.28</code> <br> <code>Discovered open port 111/tcp on 200.26.1XX.15</code> <br> <code>Discovered open port 111/tcp on 200.26.1XX.20</code> <br> <code>Discovered open port 111/tcp on 200.26.1XX.28</code> <br>  En plus de chacune des adresses IP d√©tect√©es, il est possible d'appliquer la commande: <br> <code>showmount --no-headers -e 200.26.1XX.28</code> <br>  R√©sultat: <br> <code>/usr/common *</code> <br>  De toute √©vidence, il est possible de scanner vous-m√™me des millions d'adresses IP de l'espace Internet, mais ce n'est pas le moyen le plus rapide, puis le merveilleux service <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Shodan</a> peut √™tre la solution √† la sous-t√¢che, il y en a bien s√ªr d'autres, mais celui-ci avec une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">syntaxe</a> et une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API</a> tr√®s pratiques.  Plonger dans la description des capacit√©s du service n'est pas le but de l'article.  En bref - le service permet une recherche avanc√©e des appareils connect√©s √† Internet.  Les crit√®res de recherche peuvent √™tre des identifiants de r√©seau et d'autres m√©tadonn√©es: num√©ros de s√©rie de certificats et similaires.  Shodan poss√®de de nombreuses fonctionnalit√©s pour la recherche cibl√©e, mais je n'ai pas trouv√© de recherche distincte sur NFS, car, par exemple, il existe un crit√®re de produit avec un nom de produit: mongodb, √©lastique ou apache.  Par cons√©quent, via Web NFS, il est possible de rechercher les requ√™tes suivantes: nfs, tcp 2049, tcp 111, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Portmap: 2049</a> et ainsi de suite, comme vous le souhaitez. </p><br><p><img src="https://habrastorage.org/webt/am/n2/hq/amn2hqii1_gsemlxivnffoawgek.png"></p><br><p>  Ou installez le client Shodan (CLI), initialisez votre API KEY au service et appelez une recherche √† partir de la ligne de commande, par exemple: </p><br><ol><li>  recherche shodan --fields ip_str, port Portmap: 2049 </li><li>  recherche shodan --fields ip_str, port --separator, nfs <br>  R√©sultat: <br>  139.196.154.23.111, <br>  198.27.116.37.111, <br>  95.211.192.96.111, <br>  80.23.66.122.111, <br>  210.116.82.97.111, <br>  192.198.82.3.111, <br>  165.227.67.242.111, <br>  116.12.48.9.111, <br>  85.34.250.102.111, <br>  182.75.249.197.111, <br>  192.151.212.175,111, <br>  119.216.107.127.111, <br>  217.59.68.2.111, <br>  178.159.12.97.111, <br>  ... </li></ol><br><p>  Ainsi, comment obtenir les listes d'adresses IP des appareils avec un service NFS valide est compr√©hensible. </p><br><h2 id="poluchenie-informacii-o-dostupnyh-resursah-sluzhby-nfs-na-konkretnyh-serverah">  R√©cup√©rez des informations sur les ressources NFS disponibles sur des serveurs sp√©cifiques. </h2><br><p>  Il existe de nombreuses fa√ßons de r√©soudre ce probl√®me en masse: √©crire des scripts bash, organiser un pipeline d√©licat √† partir d'une cha√Æne de commandes avec un appel √† showmount, et d'autres options - qui aime quoi. </p><br><p>  Dans mes recherches, j'ai r√©solu ce probl√®me en Python, et de deux mani√®res diff√©rentes.  Le premier se connecte via ssh √† votre serveur personnel sur Ubuntu avec un client NFS, puis invoque la commande showmount dessus avec le pool d'adresses IP souhait√©.  La deuxi√®me solution est en Python pur. </p><br><p>  Je suppose qu'une question peut se poser: pourquoi est-ce si difficile, pourquoi en Python? </p><br><p>  Car, comme dans mon pr√©c√©dent article sur Habr, j'utiliserai l'outil Lampyre, sur lequel le 26 f√©vrier ils ont publi√© une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API</a> qui vous permet d'√©crire vos modules sur la plateforme en Python. </p><br><div class="spoiler">  <b class="spoiler_title">Lampyre</b> <div class="spoiler_text"><p>  <em>En bref sur Lampyre - une plate-forme logicielle pour OSINT et l'analyse de donn√©es avec un client "√©pais" pour Windows, un analogue de l'outil bien connu et populaire dans le m√™me but - Maltego.</em>  <em>Comme √† Maltego, Lampyre ¬´out of the box¬ª fournit un ensemble de demandes pour divers services.</em>  <em>Les requ√™tes sont conceptuellement √©quivalentes aux transformations d'un produit mieux connu.</em>  <em>S'il manque quelque chose, il est d√©sormais possible d'√©crire vos propres demandes.</em>  <em>Les demandes fournies avec Lampyre sont ex√©cut√©es sur l'infrastructure de la plate-forme, √©crites ind√©pendamment - sur la machine.</em>  <em>Autrement dit, l'utilisateur doit avoir install√© Python et toutes les biblioth√®ques n√©cessaires utilis√©es dans le code.</em> </p></div></div><br><p>  J'ai d√©cid√© de tester les capacit√©s de l'API.  Le point cl√© est que Lampyre a d√©j√† plusieurs ¬´demandes¬ª √† Shodan, d'autant plus que l'utilisateur n'a pas besoin d'avoir son API KEY du service.  Ainsi, avec une seule demande, vous pouvez obtenir des listes d'adresses IP avec le service NFS d√©clench√©, et avec la deuxi√®me demande, le module que j'ai √©crit v√©rifiera les ressources disponibles et visualisera le r√©sultat avec les caract√©ristiques des ressources sur le m√™me graphique. </p><br><h2 id="prichem-tut-koreya">  Et ici la Cor√©e </h2><br><p>  Lors de la recherche √† partir de Shodan et du test du module, il est devenu int√©ressant de voir la situation avec la qualit√© et la quantit√© des r√©sultats de num√©risation par le service Shodan dans les pays asiatiques, comment les choses se passent avec des ressources pr√©caires.  Le choix s'est port√© sur la R√©publique de Cor√©e, je pense qu'il n'est pas n√©cessaire de dire que la Cor√©e du Sud est un pays tr√®s avanc√© technologiquement, et j'ai sugg√©r√© que vous puissiez trouver quelque chose d'int√©ressant dans ses r√©seaux. </p><br><p>  Recherche par Shodan, dans Requ√™te: <strong>nfs</strong> , dans Pays: R√©publique de Cor√©e code, <strong>kr</strong> </p><br><p><img src="https://habrastorage.org/webt/o0/e8/fy/o0e8fya-deqqydh5uaetrbgsvqe.png"></p><br><p>  Le r√©sultat ne tarde pas √† venir (dans l'image ci-dessous, seulement une partie du sch√©ma g√©n√©ral). </p><br><p><img src="https://habrastorage.org/webt/z1/-4/ir/z1-4ir1uwvo7buc3ie46qfcuuo0.png"></p><br><p>  Liste d'h√¥tes: </p><br><ul><li>  psi.kaist.ac.kr </li><li>  hulk.kaist.ac.kr </li><li>  messi.kaist.ac.kr </li><li>  marvel.kaist.ac.kr </li><li>  kaist.ac.kr </li><li>  ai1.kaist.ac.kr </li><li>  jarvis3.kaist.ac.kr </li><li>  baraddur.kaist.ac.kr </li><li>  rho.kaist.ac.kr </li><li>  jarvis.kaist.ac.kr </li></ul><br><p>  Tous, comme on peut le voir sur le graphique et dans les noms, sont r√©pertori√©s comme AS1781 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Kaist">Korea Advanced Institute of Science and Technology</a> </p><br><p><img src="https://habrastorage.org/webt/ci/ez/nd/ciezndaw7a3brrrrxmcbe1wppak.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Wikip√©dia">Korea Advanced Technology Institute</a> - la principale universit√© universitaire et de recherche de Cor√©e du Sud situ√©e √† Daejeon, est sur la deuxi√®me ligne du classement national en Cor√©e du Sud.  L'universit√© est syst√©matiquement incluse dans 5% des meilleurs √©tablissements d'enseignement en Cor√©e du Sud. </p><br><p>  Nous utilisons les adresses IP sp√©cifi√©es comme arguments d'entr√©e dans le module √©crit ¬´Explore: NFS (SSH)¬ª et par cons√©quent: </p><br><p><img src="https://habrastorage.org/webt/u2/dm/ur/u2dmurykafqs9yqdor1s06hg0wc.png"></p><br><p>  J'ai rapidement √©labor√© un tel sch√©ma pour afficher les r√©sultats d'un tableau dans un graphique (sur les sch√©mas et les principes de construction de graphiques plus loin dans l'article). </p><br><p><img src="https://habrastorage.org/webt/ev/v4/44/evv444hbsakygnttrnhxuinlmq0.png"></p><br><p>  Le r√©sultat de la combinaison avec un sch√©ma Shodan </p><br><p><img src="https://habrastorage.org/webt/ys/pk/ij/yspkijyrvwhazpwjrzvfr5daabs.png"></p><br><p>  Lors de l'analyse des sommets et des relations du graphique, il devient √©vident √† quelles adresses la ressource / home est disponible, accessible √† tous (*). </p><br><p>  Pour une meilleure perception visuelle, modifiez les propri√©t√©s des objets graphiques et d'autres param√®tres du diagramme: </p><br><p><img src="https://habrastorage.org/webt/nl/j5/9z/nlj59zv9p321nvnavqgin6krc1q.png"></p><br><p>  Bien s√ªr, j'ai mont√© √† tour de r√¥le une partie des ressources sur l'un de mes serveurs et j'ai commenc√© √† √©tudier.  Il s'est av√©r√© presque le m√™me partout - r√©pertoires d'utilisateurs: asm, hoo, hyshin, jay, jiwon, jkhee110, jokangjin, kmh603, ksm782, lee, linus, lost + found, marvel_guest, pie, qwe, scloud, seokmin, sgim, thrlek, yoosj, ysha, zinnia7. </p><br><p>  Presque tous les r√©pertoires contenant des fichiers ont √©t√© lus et √©crits.  Certains utilisateurs de .ssh disposaient de fichiers authorized_keys avec un acc√®s en √©criture √† ceux-ci. </p><br><p>  J'ai g√©n√©r√© ma cl√©, l'ai copi√©e sur les cl√©s autoris√©es de l'un des utilisateurs et je me suis connect√© au serveur via ssh sur le port 2222, j'ai re√ßu le num√©ro de port des donn√©es de Shodan. </p><br><p>  <em>Utilisateurs, param√®tres r√©seau:</em> </p><br><p><img src="https://habrastorage.org/webt/i4/gr/i5/i4gri5enls82hjdxe6hwtq-xqpq.png"></p><br><p>  <em>H√¥tes sur le r√©seau:</em> </p><br><p><img src="https://habrastorage.org/webt/bz/sg/y3/bzsgy3oti0hescz1uxmcud7krpa.png"></p><br><p>  <em>Le fichier / etc / exports et les lecteurs:</em> </p><br><p><img src="https://habrastorage.org/webt/1v/sk/7e/1vsk7eluqu93suzw5gxo65kbzg8.png"></p><br><p>  <em>Fichier / etc / fstab et OS:</em> </p><br><p><img src="https://habrastorage.org/webt/uh/iv/cp/uhivcpdgcfzx1pezrbi_aguvgz4.png"></p><br><p>  Je crois qu'il s'agit d'un r√©seau d'un d√©partement pour les √©tudiants dipl√¥m√©s ou les √©tudiants, et ils effectuent une sorte de calculs sur les serveurs, car il existe de nombreuses sources Python diff√©rentes, quelque chose en rapport avec le GPU et la distribution Anaconda, etc.  Je n'ai pas tout √©tudi√© et j'ai commenc√© √† penser quoi faire avec tout cela, bien s√ªr, je pouvais "marcher" pour la plupart des n≈ìuds <em>(peut-√™tre que je pourrais penser √† quelque chose de plus exotique)</em> , mais cela ne m'a pas beaucoup int√©ress√©.  Et j'ai pens√© ce qui suit: puisque l'institut est scientifique et avanc√©, il devrait y avoir des domaines de la s√©curit√© de l'information.  En effet, m√™me un laboratoire entier: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="softsec.kaist.ac.kr">Software Security Lab</a> et son chef, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sang Kil Cha</a> <br>  J'ai d√©cid√© de lui √©crire une lettre, et ils disent donc que permettre √† tout le monde de connecter des ressources NFS avec des autorisations de lecture et d'√©criture √† Internet est tr√®s dangereux, apparemment, vous devez r√©parer quelque chose, joindre des captures d'√©cran et envoyer. </p><br><div class="spoiler">  <b class="spoiler_title">Lettre 1</b> <div class="spoiler_text"><blockquote>  <strong><em>Cher Sang Kil Cha,</em></strong> <strong><em><br></em></strong>  <strong><em>Je vous √©cris, car sur le site kaist.ac.kr, vous √™tes consid√©r√© comme le principal laboratoire SoftSec de KAIST, et je crois que la question suivante vous pr√©occupe.</em></strong> <strong><em><br></em></strong>  <strong><em>Lors de nos recherches dans le domaine de la s√©curit√© informationnelle, involontairement et par hasard les serveurs suivants ont √©t√© d√©tect√©s:</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.131 - psi.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.4 - jarvis3.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.169</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.223</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.235</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.251 - marvel.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.239 - jarvis.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.247.194 - hulk.kaist.ac.kr</em></strong> <strong><em><br></em></strong>  <strong><em>143.248.2.23</em></strong> <strong><em><br></em></strong>  <strong><em>Tous ces serveurs ont le service NFS (Network File System) op√©rationnel.</em></strong> <strong><em><br></em></strong>  <strong><em>Le niveau de s√©curit√© d'acc√®s √† ces serveurs est incroyablement bas.</em></strong> <strong><em><br></em></strong>  <strong><em>Les r√©pertoires personnels de ces serveurs avec tout leur contenu sont accessibles √† toute personne utilisant Internet.</em></strong> <strong><em><br></em></strong>  <strong><em>Par exemple, les param√®tres nfs - / etc / exports 143.248.247.251 -&gt; / home <em>ou pour 143.248.247.239</em></em></strong> <strong><em><em><br></em></em></strong>  <strong><em><em>showmount -e 143.248.247.239</em></em></strong> <strong><em><em><br></em></em></strong>  <strong><em><em>Exporter la liste pour 143.248.247.239:</em></em></strong> <strong><em><em><br></em></em></strong>  <strong><em><em>/ donn√©es</em></em></strong> <strong><em><br></em></strong>  <strong><em>/ home <em>/ appl</em></em></strong> <strong><em><br></em></strong>  <strong><em>Les r√©pertoires utilisateur de la plupart des serveurs sont accessibles en lecture et en √©criture, y compris leurs sous-r√©pertoires, qui contiennent des cl√©s d'acc√®s ssh publiques et priv√©es.</em></strong> <strong><em><br></em></strong>  <strong><em>L'√©dition de fichiers permet d'ajouter de nouvelles cl√©s d'acc√®s et d'acc√©der √† distance ssh aux serveurs, puis - √† certains sous-r√©seaux KAIST internes.</em></strong> <strong><em><br></em></strong>  <strong><em>Uniquement pour tester un tel acc√®s peu profond a √©t√© obtenu, aucune modification n'a √©t√© apport√©e, aucune donn√©e n'a √©t√© √©dit√©e, copi√©e ou supprim√©e, aucun dommage n'a √©t√© caus√© √† l'infrastructure.</em></strong> <strong><em><br></em></strong>  <strong><em>Veuillez consulter les fichiers joints pour une sorte de reconnaissance et de preuve.</em></strong> <strong><em><br></em></strong>  <strong><em>Je n'ai aucune exigence ni r√©clamation, mais je recommande d'am√©liorer consid√©rablement le niveau de s√©curit√© de votre r√©seau.</em></strong> </blockquote></div></div><br><p>  Bient√¥t, ils m'ont r√©pondu, traduction gratuite: merci, nous transmettrons √† tout le monde. </p><br><div class="spoiler">  <b class="spoiler_title">R√©ponse 1</b> <div class="spoiler_text"><blockquote>  <strong><em>Merci de m'avoir pr√©venu!</em></strong>  <strong><em>Je transmettrai cet e-mail √† un responsable du r√©seau et de la s√©curit√©.</em></strong>  <strong><em>Meilleur, Sang Kil</em></strong> </blockquote></div></div><br><p>  Avant de publier cet article, j'ai d√©cid√© de v√©rifier, voir ce qui a chang√©: </p><br><p><img src="https://habrastorage.org/webt/ia/w5/tv/iaw5tvajx2s5sw8l5rmed42cs2m.png"></p><br><p>  En effet, l'acc√®s aux ressources n'√©tait autoris√© qu'√† partir des machines du r√©seau interne, mais qu'en est-il du serveur 143.248.247.251.  Selon les entr√©es du tableau, les ressources h√¥te dans les param√®tres NFS restent *.  J'ai esquiss√© une autre version du ¬´mappage¬ª du tableau dans un graphique: </p><br><p><img src="https://habrastorage.org/webt/p0/fy/xu/p0fyxuck0k1mza0y-ebciyk9tik.png"></p><br><p>  Quels sont les changements dans le ¬´mappage¬ª: les objets NFS ¬´collent maintenant¬ª avec 2 attributs identiques - IP et chemin NFS.  L'objet Status est cr√©√© uniquement lorsque l'attribut value, qui contient le contenu de la colonne d'enregistrement brut, contient la valeur " <strong>*</strong> " <br>  Et le graphique sur le tableau appara√Æt sous une nouvelle forme: </p><br><p><img src="https://habrastorage.org/webt/zb/ht/k0/zbhtk0swvgaxzkogph-tlqn88_g.png"></p><br><p>  Maintenant, en passant, l'adressage du r√©seau interne est devenu clairement visible, et sur le serveur 143.248.247.251, il est √©galement possible de modifier le contenu des r√©pertoires utilisateur, des fichiers;  en principe, les possibilit√©s sont rest√©es les m√™mes qu'auparavant. </p><br><p>  Et j'√©cris donc une deuxi√®me lettre √† M. Sang Kil Cha, avec un premier contenu similaire, notant que certains des √©v√©nements seront pr√©sent√©s dans un article sur la populaire ressource habr.com: </p><br><div class="spoiler">  <b class="spoiler_title">Lettre 2</b> <div class="spoiler_text"><blockquote>  <strong><em>Cher Sang Kil Cha, bonne journ√©e √† toi.</em></strong> <strong><em><br></em></strong>  <strong><em>J'ai d√©cid√© de v√©rifier si quelque chose avait chang√© apr√®s mon e-mail et en effet, les param√®tres d'acc√®s ont √©t√© modifi√©s.</em></strong>  <strong><em>Mais apparemment, les ing√©nieurs en s√©curit√© ont omis l'adresse IP 143.248.247.251 et ses param√®tres sont rest√©s les m√™mes.</em></strong>  <strong><em>Veuillez √©galement s√©curiser cette adresse IP afin qu'aucun √©tranger ne puisse y acc√©der.</em></strong> <strong><em><br></em></strong>  <strong><em>J'√©cris un article sur le sujet de la s√©curit√© de l'information et je le publierai sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://habr.com</a> .</em></strong>  <strong><em>Il s'agit d'un site Web tr√®s populaire en Russie.</em></strong>  <strong><em>L'article comprendra quelques passages sur la question de la faible qualit√© des param√®tres d'acc√®s NFS avec quelques exemples de cas avec vos serveurs.</em></strong>  <strong><em>Je vous enverrai le lien vers mon article lorsqu'il sera publi√©.</em></strong> </blockquote></div></div><br><h2 id="kak-ispolzovat-api-lampyre-i-napisat-svoy-modul">  Comment utiliser l'API Lampyre et √©crire votre module </h2><br><p>  Le module devra accepter une liste d'adresses IP ou une liste de sous-r√©seaux sous la forme 192.168.0 / 24 en entr√©e - √† ce stade, il sera n√©cessaire de valider les donn√©es d'entr√©e sur l'implication des cha√Ænes dans les adresses IP ind√©pendamment dans le code, dans le cas d'un sous-r√©seau - convertir en liste IP. </p><br><p>  L'√©tape suivante, via la biblioth√®que Python <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">paramiko</a> , sera accessible au serveur ssh personnel et s√©quentielle (il y a une tentative d'asynchronie dans le code concept du module) la commande est appel√©e: <br> <code>timeout {timeouts} showmount --no-headers -e {ip}</code> <br>  La sortie du r√©sultat sera analys√©e via le code Python dans la structure de sortie, table: une liste de dictionnaires en Python. <br>  Cl√©s dans le dictionnaire: </p><br><ul><li>  current_day - date de demande de l'utilisateur </li><li>  host_query - IP pour laquelle les informations sont re√ßues </li><li>  shared_path - ressource NFS </li><li>  status_ip - informations sur l'acc√®s √† la ressource, si les adresses IP sont r√©pertori√©es via ",", la cha√Æne du dictionnaire est dupliqu√©e dans la liste. </li></ul><br><p>  En outre, selon le concept du concept, une tentative primitive est effectu√©e pour analyser la valeur de la cl√© status_ip dans le sujet: adresse IP, enregistrement d'h√¥te, les valeurs "*" ou "tout le monde" </p><br><p>  Selon la documentation de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API</a> et les explications du support Lampyre.io - chaque module doit renvoyer des donn√©es √† la table, une ou plusieurs, mais la table doit √™tre d√©crite comme faisant partie de l'API (en-t√™tes de t√¢che, en-t√™te de table).  En fait, c'est le r√©sultat principal du module. <br>  Ainsi, le r√©sultat final, en tenant compte des cl√©s du dictionnaire, sera un tableau: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NFSHeader</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(metaclass=Header)</span></span></span><span class="hljs-class">:</span></span> display_name = <span class="hljs-string"><span class="hljs-string">'Search data from NFS services'</span></span> current_day = Field(<span class="hljs-string"><span class="hljs-string">'Date'</span></span>, ValueType.Datetime) host_query = Field(<span class="hljs-string"><span class="hljs-string">'Search ip'</span></span>, ValueType.String) shared_path = Field(<span class="hljs-string"><span class="hljs-string">'NFS path'</span></span>, ValueType.String) ip = Field(<span class="hljs-string"><span class="hljs-string">'ip address'</span></span>, ValueType.String) network = Field(<span class="hljs-string"><span class="hljs-string">'network address'</span></span>, ValueType.String) host = Field(<span class="hljs-string"><span class="hljs-string">'host'</span></span>, ValueType.String) status = Field(<span class="hljs-string"><span class="hljs-string">'raw record'</span></span>, ValueType.String)</code> </pre> <br><p>  Les valeurs (l√©g√®rement modifi√©es) de l'analyse du r√©sultat de la commande showmount sur le serveur seront √©crites dans la table.  Les noms des champs de la classe parlent d'eux-m√™mes; dans la colonne d'enregistrement brut, les informations sur l'acc√®s √† la ressource seront stock√©es.  Dans un sens, cette analyse des donn√©es sur les ressources NFS peut √©galement √™tre consid√©r√©e comme un OSINT, les informations sur un acc√®s possible √† partir de diverses adresses IP donnent une id√©e des propri√©taires de la ressource ou de l'adressage au sein du r√©seau de ressources.  Par exemple, l'adresse IP du serveur avec NFS est situ√©e en Ukraine et l'adresse IP autoris√©e pour l'acc√®s est en Allemagne: </p><br><p><img src="https://habrastorage.org/webt/hp/mf/mr/hpmfmro1juiiepv15asjt1-wjuo.png"></p><br><p>  Et si vous d√©veloppez l'√©tude de cet exemple, il y a imm√©diatement confirmation de la connexion des serveurs non seulement via NFS, mais √©galement via un certificat aux adresses: 77.120.103.9, 138.201.202.135 et le domaine * .aniart.com.ua: </p><br><p><img src="https://habrastorage.org/webt/1u/vv/cx/1uvvcxp71ezvhzbvjplr57agbtm.png"></p><br><p>  Comment transf√©rer des donn√©es vers un module et √©crire dans une table: <br>  Cr√©ez votre propre classe SearchDataNFS √† partir de la classe Task: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchDataNFS</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Task)</span></span></span></span></code> </pre> <br><p>  Dans la m√©thode <code>get_id</code> , <code>get_id</code> retournons un UUID al√©atoire unique: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_id</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'bf51fd57-3fec-4416-9d07-905935a484b4'</span></span></code> </pre> <br><p>  Dans la m√©thode <code>get_display_name</code> sp√©cifiez comment la t√¢che sera appel√©e, et dans la m√©thode <code>get_description</code> , selon le nom, la description de la t√¢che: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_display_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Explore: NFS(SSH)'</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_description</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Explore NFS resourses'</span></span></code> </pre> <br><p>  Dans la m√©thode <code>get_headers</code> sp√©cifiez les tables que nous utiliserons: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_headers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NFSHeader</code> </pre> <br><p>  La m√©thode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">get_enter_params</a> d√©terminera l'apparence de la fen√™tre d'entr√©e.  D'apr√®s le code, il est √©vident qu'une liste de cha√Ænes est fournie √† l'entr√©e, qui sera ensuite convertie en adresses IP ind√©pendamment: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_enter_params</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> ep_coll = EnterParamCollection() ep_coll.add_enter_param(<span class="hljs-string"><span class="hljs-string">'ips'</span></span>, <span class="hljs-string"><span class="hljs-string">'IP'</span></span>, ValueType.String, is_array=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, value_sources=[Attributes.System.IPAddress], description=<span class="hljs-string"><span class="hljs-string">'IPs, networks'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ep_coll</code> </pre> <br><p>  Dans la m√©thode d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ex√©cution</a> , l'ex√©cution de la t√¢che principale a lieu: </p><br><pre> <code class="python hljs">ips = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> input_ip <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> set(map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> z: z.strip(), enter_params.ips)): ips.extend(reparse_ip_hosts(input_ip))</code> </pre> <br><p>  Les param√®tres d'entr√©e sont accessibles via enter_params.ips.  Dans la m√©thode <code>reparse_ip_hosts</code> , une validation auto-impl√©ment√©e des cha√Ænes en adresses IP se produit. </p><br><pre> <code class="python hljs">targets = ((ip, port) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ip <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ips <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> port <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ports) lines = thread_async_nfs_one_client(targets) info = reparse_result_rows(lines) fields_table = NFSHeader.get_fields() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> data_id <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> info: tmp = NFSHeader.create_empty() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> field <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> fields_table: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> field <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> data_id: tmp[fields_table[field]] = data_id[field] result_writer.write_line(tmp, header_class=NFSHeader)</code> </pre> <br><p>  La fonction <code>thread_async_nfs_one_client</code> connecte au serveur avec ssh (l'adresse IP, le nom d'utilisateur et le mot de passe sont d√©finis par le code dur) et showmount est ex√©cut√©, comme indiqu√© pr√©c√©demment, le r√©sultat est analys√©, puis il est √† nouveau modifi√© dans la fonction <code>reparse_result_rows</code> .  Il est important de noter que info est une liste compos√©e de dictionnaires, dans chaque dictionnaire les cl√©s sont nomm√©es en tant que champs de la classe NFSHeader.  Autrement dit, le dictionnaire ressemble √† ceci: </p><br><pre> <code class="python hljs">{ <span class="hljs-string"><span class="hljs-string">'current_day'</span></span>: datetime.datetime(<span class="hljs-number"><span class="hljs-number">2019</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">48</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>), <span class="hljs-string"><span class="hljs-string">'host_query'</span></span>: <span class="hljs-string"><span class="hljs-string">'192.168.1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'shared_path'</span></span>: <span class="hljs-string"><span class="hljs-string">'/volume1/workspace'</span></span>, <span class="hljs-string"><span class="hljs-string">'ip'</span></span>: <span class="hljs-string"><span class="hljs-string">'192.168.10.10'</span></span>, <span class="hljs-string"><span class="hljs-string">'network'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'host'</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'status'</span></span>: <span class="hljs-string"><span class="hljs-string">'192.168.10.10'</span></span> }</code> </pre> <br><p>  Il est important d'observer les types de donn√©es dans le dictionnaire, ils doivent √™tre les m√™mes que dans la description du tableau. <br>  Plus loin dans la boucle, l'it√©ration √† travers les √©l√©ments de la liste et leur √©criture via la m√©thode API ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">result_writer.write_line</a> ) dans une table NFSHeader sp√©cifique se produit. <br>  Pour une description plus d√©taill√©e, vous devriez lire la documentation. <br>  Fondamentalement, le module est pr√™t √† √™tre ajout√© √† Lampyre. </p><br><h2 id="ispolzovanie-svoego-modulya-v-lampyre">  Utiliser votre module √† Lampyre </h2><br><p>  √âtant donn√© que ssh est utilis√© et l'ex√©cution de la commande showmount, vous devez bien s√ªr avoir acc√®s √† votre serveur via ssh.  Pour mes tests, ce r√¥le a √©t√© jou√© par la machine virtuelle dans Virtualbox avec Ubuntu et le client NFS install√© dessus. </p><br><p>  Pour travailler avec des modules natifs sur la machine d'un utilisateur, Python 3.6 est requis, le chemin d'acc√®s √† l'interpr√©teur doit √™tre dans les variables syst√®me ou le chemin d'acc√®s doit √™tre sp√©cifi√© dans le <code>Lampyre\config\appSettings.config</code> .  Par d√©faut, la cl√© pythonPath est mise en commentaire dans les param√®tres. </p><br><p>  Le chargement d'un module dans Lampyre s'effectue selon les √©tapes suivantes: </p><br><ol><li>  Dans la fen√™tre Scripts, chargez le fichier Lampyre \ user_tasks \ ontology.py (fourni avec l'application) </li><li>  Dans la m√™me fen√™tre, chargez votre module, dans ce cas nfs_via_ssh.py.  En cas de probl√®me, le bouton <em>D√©tails</em> devrait vous aider </li><li>  Apr√®s le chargement, dans la fen√™tre <em>Liste des demandes</em> de l'onglet <em>T√¢ches</em> , la <em>section T√¢ches locales</em> appara√Ætra (dans le code du module vous pouvez l'appeler diff√©remment), elle a le nom <em>Explorer: NFS (SSH)</em> : <br><br><img src="https://habrastorage.org/webt/5j/q2/6w/5jq26wc0brfodioawferz1_mu-8.png"><br>  Fen√™tre Liste des demandes mise √† jour: <br><br><img src="https://habrastorage.org/webt/gv/gs/tb/gvgstbglshazcckwnl6wevpjlla.png"></li><li>  Les adresses IP des serveurs avec NFS, comme je l'ai dit plus t√¥t, sont mieux obtenues en ex√©cutant d'abord une requ√™te de <em>recherche Shodan</em> avec les param√®tres <em>Query: tcp 2049</em> (vous pouvez simplement sp√©cifier <em>nfs</em> ).  Le param√®tre <em>Page ou plage</em> , d√©fini par d√©faut sur 1, signifie que 1 page de r√©ponses du service Shodan sera retourn√©e, sur une page il y a g√©n√©ralement 100 r√©sultats (lignes). <br>  Le r√©sultat de l'ex√©cution de Shodan: <br><br><img src="https://habrastorage.org/webt/zb/ui/uw/zbuiuww94uf18wbzhh9pm2aomoe.png"></li><li>  Copiez les adresses IP du tableau ou du diagramme dans le presse-papiers et collez-les dans la fen√™tre du module IP Explore: NFS (SSH).  Ex√©cutez et attendez le r√©sultat: <br><br><img src="https://habrastorage.org/webt/t8/2h/vz/t82hvzwegvfjmbjcfch662vx7nk.png"></li></ol><br><p>  Bien s√ªr, vous devez prendre en compte la bande passante de vos propres serveurs et des serveurs √©trangers, ainsi que le d√©lai d'expiration, qui sont d√©finis de mani√®re rigide dans le code du module. </p><br><p>  Le r√©sultat est obtenu sous la forme d'un tableau, mais vous pouvez continuer et combiner le r√©sultat du tableau avec le graphique des r√©sultats de l'ex√©cution de la recherche Shodan.  Ce sera quelque peu difficile √† percevoir au d√©but. </p><br><h2 id="vizualizaciya-tablicy-s-rezultatom">  Visualisation du tableau avec le r√©sultat </h2><br><p>  Commen√ßons.  Il y a une table avec un ensemble de colonnes avec des valeurs de l'ex√©cution du module utilisateur.  Mais si vous faites attention au bouton Sch√©ma de la fen√™tre Demandes - il est inactif.  Parce que le mappage de la table sur le graphique n'est pas d√©fini et doit √™tre d√©fini. </p><br><p>  <em><strong>Sch√©ma 1 (pas le meilleur)</strong></em> <br>  Avec le tableau ouvert, √† partir du r√©sultat du module, dans le coin inf√©rieur droit se trouve un √©l√©ment d'interface ¬´Ajouter un mod√®le de cr√©ation¬ª, en cliquant sur lequel la fen√™tre ¬´Mod√®le de cr√©ation¬ª appara√Æt.  En cela, vous pouvez sp√©cifier le mappage des lignes de tableau aux objets graphiques, je ne d√©crirai pas le processus en d√©tail dans l'article, le lien sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Tutoriel Lampyre - Analyse financi√®re">le canal de la plate-forme</a> sur Youtube montre comment le faire, dans l'article je me limiterai aux images de ce qui devrait arriver: </p><br><p><img src="https://habrastorage.org/webt/qj/vd/ju/qjvdjurktmgvg17ymyrv_flbohu.png"></p><br><p>  Mod√®le de graphique: </p><br><p><img src="https://habrastorage.org/webt/am/n_/od/amn_odxussgaxfxuw_yzwwyu5ee.png"></p><br><p>  Il est important de noter que les objets IP, Domain sont en Lampyre, et j'ai cr√©√© des objets NFS et Network.     ,    ¬´¬ª  . ,      ,    ‚Äî     ¬´¬ª   ‚Äî ,  ‚Äî    - ,          . ,   NFS ‚Äì  2 , NFS path  Status,   ‚Äî NFS path.      ‚Äî     .   ¬´¬ª        ‚Äî    <em>Schema</em>  . <br>  : </p><br><p><img src="https://habrastorage.org/webt/vy/al/oj/vyaloj8xba0pbjl7iiobalahaqy.png"></p><br><p>      : </p><br><p><img src="https://habrastorage.org/webt/ix/3u/jr/ix3ujruec1bbtfbbbi3i6ru_3mu.png"></p><br><p>      ¬´¬ª               ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">i2 (IBM i2 Analyst's Notebook)</a> : </p><br><p><img src="https://habrastorage.org/webt/w7/sr/dn/w7srdn9y0ko8jwqi2viop0uj4l8.png"></p><br><p>      ¬´¬ª  ,     :   IP-   IP-  ,    ,    NFS  ,          IP.     (      ). </p><br><p> <em><strong> 2</strong></em> </p><br><p><img src="https://habrastorage.org/webt/iy/y7/wt/iyy7wtjyjeb4onmq0vcjjxb50gu.png"></p><br><p>  .      ‚Äî     ,    IP-    : </p><br><p><img src="https://habrastorage.org/webt/n5/zw/sb/n5zwsbgrorkn2-vucszn1hulsgk.png"></p><br><p>           ,         ,       (csv)  .   ,     ¬´¬ª      .    ¬´¬ª         ,         . </p><br><p>       Shodan  NFS    Shodan search,   add to active tab          ‚Äî  : </p><br><p><img src="https://habrastorage.org/webt/qq/e-/3p/qqe-3p5p8bdbogvruzlqs8pypze.png"></p><br><p>  : </p><br><p><img src="https://habrastorage.org/webt/8w/uj/az/8wujazcvenzdsalorp1nh5mfas8.png"></p><br><p>    Lampyre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ,          ssh. </p><br><p>   ‚Äî ,      NFS   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr444382/">https://habr.com/ru/post/fr444382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr444370/index.html">De quoi le format Mini PCI-e est-il capable?</a></li>
<li><a href="../fr444372/index.html">Orientation longue distance de la machine gr√¢ce √† un apprentissage renforc√©</a></li>
<li><a href="../fr444374/index.html">Effet hipster: pourquoi les non-conformistes se ressemblent souvent</a></li>
<li><a href="../fr444376/index.html">L'√©conomie de l'attention est presque morte</a></li>
<li><a href="../fr444378/index.html">USPACE - Espace unique pour les avions avec et sans pilote</a></li>
<li><a href="../fr444384/index.html">Livre "Analyse des donn√©es textuelles appliqu√©es en Python"</a></li>
<li><a href="../fr444386/index.html">Mission lunaire "Bereshit" - la quatri√®me man≈ìuvre s'est termin√©e avec succ√®s, les pr√©paratifs sont en cours pour entrer dans l'orbite lunaire</a></li>
<li><a href="../fr444388/index.html">Modems l√©gendaires du pass√©: les meilleurs d√©tenteurs de connexion dans les conditions des √©changes domestiques</a></li>
<li><a href="../fr444390/index.html">Syst√®me DeviceLock 8.3 DLP: un an s'est √©coul√©, Billy, mais vous n'avez pas chang√© du tout</a></li>
<li><a href="../fr444392/index.html">Rayonnement: risques, s√©curit√©, protection</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>