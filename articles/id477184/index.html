<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â ğŸ— âš”ï¸ Bot filsuf untuk vk.com ğŸ¥— ğŸ‰ ğŸ§‘ğŸ¾â€ğŸ¤â€ğŸ§‘ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Berdasarkan banyak artikel yang dikhususkan untuk botovodam ... 

 Baru-baru ini saya mengembangkan "turnkey" satu proyek menarik yang didedikasikan u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bot filsuf untuk vk.com</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477184/"> Berdasarkan banyak artikel yang dikhususkan untuk botovodam ... <br><br>  Baru-baru ini saya mengembangkan "turnkey" satu proyek menarik yang didedikasikan untuk jejaring sosial vk.com.  Tugasnya sederhana - untuk membuat bot yang dapat ditambahkan ke percakapan dan yang akan memberikan kutipan acak.  Tapi sepertinya terlalu sederhana, jadi saya harus menghidupkan kembali filsuf besar Friedrich Nietzsche, yang akan membuat bot dari bot - overbot ... <br><br><img src="https://habrastorage.org/webt/mt/s2/bu/mts2buh2gnljp2ocjmctu-adzss.jpeg" alt="gambar"><br><a name="habracut"></a><br>  Saya tidak melihat sesuatu yang rumit dalam hal ini, jadi naskah semacam ini dengan cepat ditulis: <br>  <b>Otorisasi -&gt; membaca pesan -&gt; menganalisis dan menghasilkan respons -&gt; respons</b> <br>  Semua ini dilakukan dengan menggunakan <b>Callback API VK v.5.80</b> ( <i>tidak ada yang baru</i> ) <br>  Poin yang paling sulit adalah "analisis dan pembentukan respons".  Memang ini yang paling penting. <br>  Tetapi kenyataannya adalah bahwa saya ingin membuat "bot kurang lebih pintar" daripada yang hanya akan mengeluarkan frase acak dari kamus. <br><br>  "Bagaimana saya melakukannya dan berhasil?" - tolong baca ... <br><br>  Jadi, mari kita mulai! <br><br>  Pada prinsipnya, bot memiliki fungsi yang cukup sederhana, tetapi sederhana hanya secara dangkal.  Jika Anda masuk lebih dalam, maka semuanya jauh lebih rumit, karena kami akan menulis dalam <b>PHP</b> ( <i></i> ) <br><br>  Saya ulangi bahwa saya tidak hanya memerlukan generator kutipan, jadi saya memutuskan untuk menanyakan bot beberapa logika.  Namun, saya juga tidak memerlukan jaringan saraf, karena belajar adalah tugas yang menakutkan. <br><br>  Saya memecahkan masalah dengan kreativitas ketika saya mencoba menghidupkan kembali filsuf besar abad XIX - Friedrich Nietzsche. <br><br>  Ya, Nietzsche-lah yang akan berperan sebagai bot, dan karenanya bahkan kutipan acak pun akan tampak lebih pintar. <br>  Tapi saya ingin entah bagaimana menyatukan lawan bicara dan bot, membuat koneksi di antara mereka ... <br><br>  Jadi, frasa lawan bicara diambil sebagai dasar, yang diubah oleh filter menjadi kata kunci, di mana kalimat dari basis yang disiapkan sebelumnya ditemukan. <br><br>  Dengan demikian, seolah-olah jawaban atas pertanyaan si penanya terbentuk. <br><br>  Saya menerima pesan baru dari pengguna seperti ini: <br><br><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//  case 'message_new': //... id   $user_id = $data-&gt;object-&gt;peer_id; //   $body = $data-&gt;object-&gt;text;</span></span></code> </pre> <br>  Dan kemudian dia membawa pesan dalam bentuk yang sesuai untuk menyorot kata kunci dan memasukkannya ke dalam pencarian basis data. <br><br>  Pertama, saya benar-benar menyingkirkan ujung " <i>a, dan, s, am, yami, ah, oh ...</i> " dan seterusnya ... saya menghapus tanda baca dan simbol lainnya. <br><br>  Kedua, saya tidak memperhitungkan preposisi akun.  Pertama, saya membatasi kata-kata hanya sampai 3 huruf.  Tetapi ini salah, karena filosofi Nietzsche dicirikan oleh kata-kata seperti: " <i>dewa, dunia, batu, abad, dll</i> .".  Selain itu, setelah menyaring kata-kata dari empat huruf, ada kata-kata dari tiga huruf, karena ujungnya dibuang.  Kemudian saya hanya membatasi pencarian saya untuk kata-kata seperti: " <i>lebih, apa, tentang, bagaimana, di mana, dll</i> ". <br><br>  Ketiga, Nietzsche menulis lebih banyak dalam bukunya sendiri, oleh karena itu ia mengganti kata-kata yang masuk seperti " <i>milikmu, milikmu, kamu, cinta, kamu dapat" dengan "milikku, milikku, aku cinta, aku bisa,</i> " masing-masing. <br><br>  Dengan demikian, semacam dialog diperoleh. <br><br>  Berikutnya - diperlukan untuk membuat basis, kamus frasa / kutipan / pernyataan dari fragmen buku-buku Nietzsche. <br><br>  Saya mengunduh buku-buku Nietzsche dalam format <u>txt</u> dari liter.  Kumpulkan mereka dan saring: <br><br>  1 kutipan = 1 kalimat ( <i>menggunakan pembatas sebagai</i> <i>".", "! ',"? "</i> ) <br><br>  Ternyata dasarnya adalah tentang jenis ini: <br><br> <code> -  ,     , -    <br>  ,    ,  , ,     <br>    ,   ,   :      ,      <br>    ,  </code> <br> <br>  Ya, ada database dan pesan yang difilter dari pengguna. <br><br> <code> : ",      ?" <br>  : "  "</code> <br> <br>  Masih untuk mempercepat sistem pencarian.  Itu sulit dengan ini, karena pengaturan yang berbeda memberikan hasil yang berbeda.  Dan jika satu kode memberikan jawaban yang benar, maka permintaan lainnya tidak memberikan apa yang dibutuhkan. <br><br>  Diputuskan untuk tidak menggunakan ekspresi reguler, melainkan menggunakannya bersama dengan fungsi bawaan seperti: <br><br> <code>substr <br> stripos <br> substr_count <br></code> <br><br>  dan fitur teks lainnya ... <br><br>  Dengan bantuan kondisi perbandingan yang panjang dan siklus yang sangat panjang, saya mencapai hasil yang diinginkan. <br><br>  Logika pencariannya kira-kira seperti ini: telusuri setiap kalimat dan temukan kata-kata dari pesan masuk yang ada dalam kalimat ini. <br><br>  Jika kata itu ditemukan, maka +1 ditambahkan sebagai "bobot variabel." <br><br>  Oleh karena itu, semakin banyak kata yang ditemukan dalam kalimat, semakin besar â€œbobot variabelâ€. <br><br>  Ini menunjukkan bahwa jika kata "moralitas dan kehidupan" ditemukan dalam beberapa kalimat dari database, maka ini adalah jawaban 100% yang akan dikeluarkan. <br><br>  Tetapi jika kata-katanya ada di topik dan menghasilkan banyak 100% dari hasilnya, maka metode acak () dikeluarkan oleh metode rand (). <br><br>  Selain itu, kalimat-kalimat ini tidak selalu kecil, jadi saya harus memotong jawabannya, kira-kira oleh pelanggan tetap seperti itu: <br><br><pre> <code class="php hljs"> preg_match(<span class="hljs-string"><span class="hljs-string">'/(?:^|\.\s+)([^\.]*?'</span></span>.$wordpattern.<span class="hljs-string"><span class="hljs-string">'[^\.]*?\.+)\s+/i'</span></span>, $text , $matches);</code> </pre> <br>  Maka semuanya otomatis: <br>  mengirim pesan <br><br><pre> <code class="php hljs">$request_params = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'message'</span></span> =&gt; $matches[<span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-comment"><span class="hljs-comment">#'message' =&gt; $find[0], 'peer_id' =&gt; $user_id, 'access_token' =&gt; $token, 'v' =&gt; '5.80' ); $get_params = http_build_query($request_params); file_get_contents('https://api.vk.com/method/messages.send?'. $get_params); header("HTTP/1.1 200 OK"); echo('ok');</span></span></code> </pre><br>  Saya secara khusus tidak mengunggah semua kode, tetapi ini relatif kecil.  Tujuannya adalah untuk menciptakan mesin tanggapan atas permintaan, alih-alih intelijen yang terlatih secara artifisial. <br><br>  Anda dapat menguji bot di <a href="http://vk.com/public189002559">tautan ini</a> .  Cukup tulis pesan padanya.  Penting untuk mengetahui bahwa pada awal kalimat Anda perlu meletakkan "Nietzsche", seolah-olah merujuk padanya, baru bot akan merespons. <br><br>  Ini adalah versi uji, dan karena itu tidak lengkap, oleh karena itu, tikar, gaul pemuda, kesalahan dalam kata-kata, dll. - bot tidak memperhitungkan dan basisnya hanya 10.000 frase. <br><br>  Sebagai contoh, saya bisa memberikan dialog: <br><br><img src="https://habrastorage.org/webt/pk/sf/lf/pksflfu977kmdx1fkalpzfyimd8.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/qi/bo/hy/qibohyxceqes_tfp1ssk2ahxvpi.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/nh/3q/kw/nh3qkw3lo1psfd91n1zemcmm244.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/su/yf/-q/suyf-qgn2vqhxsezugd88eauw1g.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/p0/y7/he/p0y7heepmhe-fee55gj0urquuxs.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/fo/6v/g2/fo6vg2bsus5g1yekhvidrgd0nou.png" alt="gambar"><br><br>  Kesimpulan: Ya, bot tidak memiliki komunikasi dua arah dengan pengguna - itu bukan kecerdasan buatan.  Tetapi dalam percakapan dari sejumlah besar peserta, bot akan menjadi "teman bicara" yang baik. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id477184/">https://habr.com/ru/post/id477184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id477170/index.html">Bagaimana saya pergi ke pertemuan di Sekolah 21</a></li>
<li><a href="../id477176/index.html">Alat apa yang akan membantu memenuhi GDPR</a></li>
<li><a href="../id477178/index.html">Pemrograman modern: melihat setelah 25 tahun istirahat atau ketika saya menulis bot untuk Telegram</a></li>
<li><a href="../id477180/index.html">Latar Belakang: apa itu QoE dan mengapa penyedia harus bekerja dengannya</a></li>
<li><a href="../id477182/index.html">[Di dermaga] Berkibar. Bagian 2. Untuk pengembang iOS</a></li>
<li><a href="../id477186/index.html">10 tahun di situs terpencil dan apa yang terjadi</a></li>
<li><a href="../id477190/index.html">Another Way - LFS, Multi User dan perkembangan Indie Action / RPG saat ini</a></li>
<li><a href="../id477192/index.html">Metode Least Square: teks yang ditulis oleh seorang programmer untuk programmer</a></li>
<li><a href="../id477194/index.html">Ayo bicara. Tentang pembusukan dan depresi</a></li>
<li><a href="../id477198/index.html">Keylogger dengan kejutan: analisis keylogger dan deanon pengembangnya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>